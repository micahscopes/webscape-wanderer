function _mergeNamespaces(X,Z){for(var G=0;G<Z.length;G++){const W=Z[G];if(typeof W!="string"&&!Array.isArray(W)){for(const F in W)if(F!=="default"&&!(F in X)){const U=Object.getOwnPropertyDescriptor(W,F);U&&Object.defineProperty(X,F,U.get?U:{enumerable:!0,get:()=>W[F]})}}}return Object.freeze(Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}))}(function(){const Z=document.createElement("link").relList;if(Z&&Z.supports&&Z.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))W(F);new MutationObserver(F=>{for(const U of F)if(U.type==="childList")for(const J of U.addedNodes)J.tagName==="LINK"&&J.rel==="modulepreload"&&W(J)}).observe(document,{childList:!0,subtree:!0});function G(F){const U={};return F.integrity&&(U.integrity=F.integrity),F.referrerPolicy&&(U.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?U.credentials="include":F.crossOrigin==="anonymous"?U.credentials="omit":U.credentials="same-origin",U}function W(F){if(F.ep)return;F.ep=!0;const U=G(F);fetch(F.href,U)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}var moizeExports={},moize$1={get exports(){return moizeExports},set exports(X){moizeExports=X}},microMemoizeExports={},microMemoize={get exports(){return microMemoizeExports},set exports(X){microMemoizeExports=X}},hasRequiredMicroMemoize;function requireMicroMemoize(){return hasRequiredMicroMemoize||(hasRequiredMicroMemoize=1,function(X,Z){(function(G,W){X.exports=W()})(commonjsGlobal,function(){var G={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},W=Array.prototype.slice;function F(q){var te=q.length;return te?te===1?[q[0]]:te===2?[q[0],q[1]]:te===3?[q[0],q[1],q[2]]:W.call(q,0):[]}function U(q){var te={};for(var ie in q)G[ie]||(te[ie]=q[ie]);return te}function J(q){return typeof q=="function"&&q.isMemoized}function Y(q,te){return q===te||q!==q&&te!==te}function D(q,te){var ie={};for(var ne in q)ie[ne]=q[ne];for(var ne in te)ie[ne]=te[ne];return ie}var Q=function(){function q(te){this.keys=[],this.values=[],this.options=te;var ie=typeof te.isMatchingKey=="function";ie?this.getKeyIndex=this._getKeyIndexFromMatchingKey:te.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof te.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||ie,this.shouldUpdateOnAdd=typeof te.onCacheAdd=="function",this.shouldUpdateOnChange=typeof te.onCacheChange=="function",this.shouldUpdateOnHit=typeof te.onCacheHit=="function"}return Object.defineProperty(q.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"snapshot",{get:function(){return{keys:F(this.keys),size:this.size,values:F(this.values)}},enumerable:!1,configurable:!0}),q.prototype._getKeyIndexFromMatchingKey=function(te){var ie=this.options,ne=ie.isMatchingKey,ce=ie.maxSize,le=this.keys,se=le.length;if(!se)return-1;if(ne(le[0],te))return 0;if(ce>1){for(var pe=1;pe<se;pe++)if(ne(le[pe],te))return pe}return-1},q.prototype._getKeyIndexForMany=function(te){var ie=this.options.isEqual,ne=this.keys,ce=ne.length;if(!ce)return-1;if(ce===1)return this._getKeyIndexForSingle(te);var le=te.length,se,pe;if(le>1){for(var ue=0;ue<ce;ue++)if(se=ne[ue],se.length===le){for(pe=0;pe<le&&ie(se[pe],te[pe]);pe++);if(pe===le)return ue}}else for(var ue=0;ue<ce;ue++)if(se=ne[ue],se.length===le&&ie(se[0],te[0]))return ue;return-1},q.prototype._getKeyIndexForSingle=function(te){var ie=this.keys;if(!ie.length)return-1;var ne=ie[0],ce=ne.length;if(te.length!==ce)return-1;var le=this.options.isEqual;if(ce>1){for(var se=0;se<ce;se++)if(!le(ne[se],te[se]))return-1;return 0}return le(ne[0],te[0])?0:-1},q.prototype.orderByLru=function(te,ie,ne){for(var ce=this.keys,le=this.values,se=ce.length,pe=ne;pe--;)ce[pe+1]=ce[pe],le[pe+1]=le[pe];ce[0]=te,le[0]=ie;var ue=this.options.maxSize;se===ue&&ne===se?(ce.pop(),le.pop()):ne>=ue&&(ce.length=le.length=ue)},q.prototype.updateAsyncCache=function(te){var ie=this,ne=this.options,ce=ne.onCacheChange,le=ne.onCacheHit,se=this.keys[0],pe=this.values[0];this.values[0]=pe.then(function(ue){return ie.shouldUpdateOnHit&&le(ie,ie.options,te),ie.shouldUpdateOnChange&&ce(ie,ie.options,te),ue},function(ue){var ae=ie.getKeyIndex(se);throw ae!==-1&&(ie.keys.splice(ae,1),ie.values.splice(ae,1)),ue})},q}();function ee(q,te){if(te===void 0&&(te={}),J(q))return ee(q.fn,D(q.options,te));if(typeof q!="function")throw new TypeError("You must pass a function to `memoize`.");var ie=te.isEqual,ne=ie===void 0?Y:ie,ce=te.isMatchingKey,le=te.isPromise,se=le===void 0?!1:le,pe=te.maxSize,ue=pe===void 0?1:pe,ae=te.onCacheAdd,de=te.onCacheChange,be=te.onCacheHit,he=te.transformKey,Le=D({isEqual:ne,isMatchingKey:ce,isPromise:se,maxSize:ue,onCacheAdd:ae,onCacheChange:de,onCacheHit:be,transformKey:he},U(te)),Xe=new Q(Le),We=Xe.keys,fe=Xe.values,Re=Xe.canTransformKey,ye=Xe.shouldCloneArguments,re=Xe.shouldUpdateOnAdd,Ze=Xe.shouldUpdateOnChange,Ge=Xe.shouldUpdateOnHit,ve=function(){var Te=ye?F(arguments):arguments;Re&&(Te=he(Te));var xe=We.length?Xe.getKeyIndex(Te):-1;if(xe!==-1)Ge&&be(Xe,Le,ve),xe&&(Xe.orderByLru(We[xe],fe[xe],xe),Ze&&de(Xe,Le,ve));else{var Ye=q.apply(this,arguments),ge=ye?Te:F(arguments);Xe.orderByLru(ge,Ye,We.length),se&&Xe.updateAsyncCache(ve),re&&ae(Xe,Le,ve),Ze&&de(Xe,Le,ve)}return fe[0]};return ve.cache=Xe,ve.fn=q,ve.isMemoized=!0,ve.options=Le,ve}return ee})}(microMemoize)),microMemoizeExports}var fastEqualsExports={},fastEquals={get exports(){return fastEqualsExports},set exports(X){fastEqualsExports=X}},hasRequiredFastEquals;function requireFastEquals(){return hasRequiredFastEquals||(hasRequiredFastEquals=1,function(X,Z){(function(G,W){W(Z)})(commonjsGlobal,function(G){var W=typeof WeakMap=="function",F=Object.keys;function U(fe,Re){return fe===Re||fe!==fe&&Re!==Re}function J(fe){return fe.constructor===Object||fe.constructor==null}function Y(fe){return!!fe&&typeof fe.then=="function"}function D(fe){return!!(fe&&fe.$$typeof)}function Q(){var fe=[];return{delete:function(Re){for(var ye=0;ye<fe.length;++ye)if(fe[ye][0]===Re){fe.splice(ye,1);return}},get:function(Re){for(var ye=0;ye<fe.length;++ye)if(fe[ye][0]===Re)return fe[ye][1]},set:function(Re,ye){for(var re=0;re<fe.length;++re)if(fe[re][0]===Re){fe[re][1]=ye;return}fe.push([Re,ye])}}}var ee=function(fe){return fe?function(){return new WeakMap}:Q}(W);function q(fe){return function(ye){var re=fe||ye;return function(Ge,ve,Te,xe,Ye,ge,Me){Me===void 0&&(Me=ee());var je=!!Ge&&typeof Ge=="object",tt=!!ve&&typeof ve=="object";if(je!==tt)return!1;if(!je&&!tt)return re(Ge,ve,Me);var it=Me.get(Ge);if(it&&Me.get(ve))return it===ve;Me.set(Ge,ve),Me.set(ve,Ge);var st=re(Ge,ve,Me);return Me.delete(Ge),Me.delete(ve),st}}}function te(fe,Re,ye,re){var Ze=fe.length;if(Re.length!==Ze)return!1;for(;Ze-- >0;)if(!ye(fe[Ze],Re[Ze],Ze,Ze,fe,Re,re))return!1;return!0}function ie(fe,Re,ye,re){var Ze=fe.size===Re.size;if(Ze&&fe.size){var Ge={},ve=0;fe.forEach(function(Te,xe){if(Ze){var Ye=!1,ge=0;Re.forEach(function(Me,je){!Ye&&!Ge[ge]&&(Ye=ye(xe,je,ve,ge,fe,Re,re)&&ye(Te,Me,xe,je,fe,Re,re),Ye&&(Ge[ge]=!0)),ge++}),ve++,Ze=Ye}})}return Ze}var ne="_owner",ce=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function le(fe,Re,ye,re){var Ze=F(fe),Ge=Ze.length;if(F(Re).length!==Ge)return!1;if(Ge)for(var ve=void 0;Ge-- >0;){if(ve=Ze[Ge],ve===ne){var Te=D(fe),xe=D(Re);if((Te||xe)&&Te!==xe)return!1}if(!ce(Re,ve)||!ye(fe[ve],Re[ve],ve,ve,fe,Re,re))return!1}return!0}var se=function(){return/foo/g.flags==="g"?function(Re,ye){return Re.source===ye.source&&Re.flags===ye.flags}:function(Re,ye){return Re.source===ye.source&&Re.global===ye.global&&Re.ignoreCase===ye.ignoreCase&&Re.multiline===ye.multiline&&Re.unicode===ye.unicode&&Re.sticky===ye.sticky&&Re.lastIndex===ye.lastIndex}}();function pe(fe,Re,ye,re){var Ze=fe.size===Re.size;if(Ze&&fe.size){var Ge={};fe.forEach(function(ve,Te){if(Ze){var xe=!1,Ye=0;Re.forEach(function(ge,Me){!xe&&!Ge[Ye]&&(xe=ye(ve,ge,Te,Me,fe,Re,re),xe&&(Ge[Ye]=!0)),Ye++}),Ze=xe}})}return Ze}var ue=typeof Map=="function",ae=typeof Set=="function",de=Object.prototype.valueOf;function be(fe){var Re=typeof fe=="function"?fe(ye):function(re,Ze,Ge,ve,Te,xe,Ye){return ye(re,Ze,Ye)};function ye(re,Ze,Ge){if(re===Ze)return!0;if(re&&Ze&&typeof re=="object"&&typeof Ze=="object"){if(J(re)&&J(Ze))return le(re,Ze,Re,Ge);var ve=Array.isArray(re),Te=Array.isArray(Ze);return ve||Te?ve===Te&&te(re,Ze,Re,Ge):(ve=re instanceof Date,Te=Ze instanceof Date,ve||Te?ve===Te&&U(re.getTime(),Ze.getTime()):(ve=re instanceof RegExp,Te=Ze instanceof RegExp,ve||Te?ve===Te&&se(re,Ze):Y(re)||Y(Ze)?re===Ze:ue&&(ve=re instanceof Map,Te=Ze instanceof Map,ve||Te)?ve===Te&&ie(re,Ze,Re,Ge):ae&&(ve=re instanceof Set,Te=Ze instanceof Set,ve||Te)?ve===Te&&pe(re,Ze,Re,Ge):re.valueOf!==de||Ze.valueOf!==de?U(re.valueOf(),Ze.valueOf()):le(re,Ze,Re,Ge)))}return re!==re&&Ze!==Ze}return ye}var he=be(),Le=be(function(){return U}),Xe=be(q()),We=be(q(U));G.circularDeepEqual=Xe,G.circularShallowEqual=We,G.createCustomEqual=be,G.deepEqual=he,G.sameValueZeroEqual=U,G.shallowEqual=Le,Object.defineProperty(G,"__esModule",{value:!0})})}(fastEquals,fastEqualsExports)),fastEqualsExports}(function(X,Z){(function(G,W){X.exports=W(requireMicroMemoize(),requireFastEquals())})(commonjsGlobal,function(G,W){function F(){return F=Object.assign?Object.assign.bind():function(Ie){for(var Ce=1;Ce<arguments.length;Ce++){var ze=arguments[Ce];for(var Ee in ze)Object.prototype.hasOwnProperty.call(ze,Ee)&&(Ie[Ee]=ze[Ee])}return Ie},F.apply(this,arguments)}function U(Ie,Ce){if(Ie==null)return{};var ze={},Ee=Object.keys(Ie),_e,He;for(He=0;He<Ee.length;He++)_e=Ee[He],!(Ce.indexOf(_e)>=0)&&(ze[_e]=Ie[_e]);return ze}var J={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function Y(){for(var Ie=arguments.length,Ce=new Array(Ie),ze=0;ze<Ie;ze++)Ce[ze]=arguments[ze];return Ce.reduce(function(Ee,_e){if(typeof Ee=="function")return typeof _e=="function"?function(){Ee.apply(this,arguments),_e.apply(this,arguments)}:Ee;if(typeof _e=="function")return _e})}function D(){for(var Ie=arguments.length,Ce=new Array(Ie),ze=0;ze<Ie;ze++)Ce[ze]=arguments[ze];return Ce.reduce(function(Ee,_e){if(typeof Ee=="function")return typeof _e=="function"?function(){return Ee(_e.apply(this,arguments))}:Ee;if(typeof _e=="function")return _e})}function Q(Ie,Ce){for(var ze=0;ze<Ie.length;ze++)if(Ie[ze].key===Ce)return ze;return-1}function ee(Ie,Ce){var ze=typeof Ce=="function"?Ce:function(Ee,_e){for(var He=0;He<_e.length;He++)if(!Ie(Ee[He],_e[He]))return!1;return!0};return function(Ee,_e){for(var He=0;He<Ee.length;He++)if(Ee[He].length===_e.length&&ze(Ee[He],_e))return He;return-1}}function q(Ie,Ce){return!Ce||Ce===J?Ie:F({},Ie,Ce,{onCacheAdd:Y(Ie.onCacheAdd,Ce.onCacheAdd),onCacheChange:Y(Ie.onCacheChange,Ce.onCacheChange),onCacheHit:Y(Ie.onCacheHit,Ce.onCacheHit),transformArgs:D(Ie.transformArgs,Ce.transformArgs)})}function te(Ie){return typeof Ie=="function"&&Ie.isMoized}function ie(Ie,Ce,ze){try{var Ee=ze||Ce||"anonymous";Object.defineProperty(Ie,"name",{configurable:!0,enumerable:!1,value:"moized("+Ee+")",writable:!0})}catch{}}function ne(Ie,Ce,ze){var Ee=Q(Ie,Ce);Ee!==-1&&(clearTimeout(Ie[Ee].timeoutId),ze&&Ie.splice(Ee,1))}function ce(Ie,Ce){var ze=setTimeout(Ie,Ce);return typeof ze.unref=="function"&&ze.unref(),ze}function le(Ie,Ce,ze,Ee){var _e=Ce.maxAge;return function He(Pe,$e,we){var Ue=Pe.keys[0];if(Q(Ie,Ue)===-1){var et=function(){var Ve=ee(ze,Ee),oe=Ve(Pe.keys,Ue),me=Pe.values[oe];~oe&&(Pe.keys.splice(oe,1),Pe.values.splice(oe,1),typeof Ce.onCacheChange=="function"&&Ce.onCacheChange(Pe,$e,we)),ne(Ie,Ue,!0),typeof Ce.onExpire=="function"&&Ce.onExpire(Ue)===!1&&(Pe.keys.unshift(Ue),Pe.values.unshift(me),He(Pe,$e,we),typeof Ce.onCacheChange=="function"&&Ce.onCacheChange(Pe,$e,we))};Ie.push({expirationMethod:et,key:Ue,timeoutId:ce(et,_e)})}}}function se(Ie,Ce){return function(Ee){var _e=Ee.keys[0],He=Q(Ie,_e);~He&&(ne(Ie,_e,!1),Ie[He].timeoutId=ce(Ie[He].expirationMethod,Ce.maxAge))}}function pe(Ie,Ce,ze,Ee){var _e=typeof Ce.maxAge=="number"&&isFinite(Ce.maxAge)?le(Ie,Ce,ze,Ee):void 0;return{onCacheAdd:_e,onCacheHit:_e&&Ce.updateExpire?se(Ie,Ce):void 0}}var ue={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},ae=!1;function de(Ie){Ie?delete ue.profiles[Ie]:ue.profiles={}}function be(Ie){Ie===void 0&&(Ie=!0),ue.isCollectingStats=Ie}function he(Ie){var Ce=Ie.profileName;return function(){Ce&&!ue.profiles[Ce]&&(ue.profiles[Ce]={calls:0,hits:0}),ue.profiles[Ce].calls++}}function Le(Ie){return function(){var Ce=ue.profiles,ze=Ie.profileName;Ce[ze]||(Ce[ze]={calls:0,hits:0}),Ce[ze].calls++,Ce[ze].hits++}}function Xe(Ie){return Ie.displayName||Ie.name||"Anonymous "+ue.anonymousProfileNameCounter++}function We(Ie,Ce){return Ie?(Ce/Ie*100).toFixed(4)+"%":"0.0000%"}function fe(Ie){!ue.isCollectingStats&&!ae&&(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),ae=!0);var Ce=ue.profiles;if(Ie){if(!Ce[Ie])return{calls:0,hits:0,usage:"0.0000%"};var ze=Ce[Ie];return F({},ze,{usage:We(ze.calls,ze.hits)})}var Ee=Object.keys(ue.profiles).reduce(function(_e,He){return _e.calls+=Ce[He].calls,_e.hits+=Ce[He].hits,_e},{calls:0,hits:0});return F({},Ee,{profiles:Object.keys(Ce).reduce(function(_e,He){return _e[He]=fe(He),_e},{}),usage:We(Ee.calls,Ee.hits)})}function Re(Ie){return ue.isCollectingStats?{onCacheAdd:he(Ie),onCacheHit:Le(Ie)}:{}}var ye={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function re(Ie,Ce,ze){ze===void 0&&(ze=[]),Object.getOwnPropertyNames(Ie).forEach(function(Ee){if(!ye[Ee]&&ze.indexOf(Ee)===-1){var _e=Object.getOwnPropertyDescriptor(Ie,Ee);_e.get||_e.set?Object.defineProperty(Ce,Ee,_e):Ce[Ee]=Ie[Ee]}})}function Ze(Ie,Ce){var ze=Ce.expirations,Ee=Ie.options,_e=ee(Ee.isEqual,Ee.isMatchingKey),He=Ie;He.clear=function(){var Pe=He._microMemoizeOptions.onCacheChange,$e=He.cache;return $e.keys.length=0,$e.values.length=0,Pe&&Pe($e,He.options,He),!0},He.clearStats=function(){de(He.options.profileName)},He.get=function(Pe){var $e=He._microMemoizeOptions.transformKey,we=He.cache,Ue=$e?$e(Pe):Pe,et=_e(we.keys,Ue);return et!==-1?He.apply(this,Pe):void 0},He.getStats=function(){return fe(He.options.profileName)},He.has=function(Pe){var $e=He._microMemoizeOptions.transformKey,we=$e?$e(Pe):Pe;return _e(He.cache.keys,we)!==-1},He.keys=function(){return He.cacheSnapshot.keys},He.remove=function(Pe){var $e=He._microMemoizeOptions,we=$e.onCacheChange,Ue=$e.transformKey,et=He.cache,at=_e(et.keys,Ue?Ue(Pe):Pe);if(at===-1)return!1;var Ve=et.keys[at];return et.keys.splice(at,1),et.values.splice(at,1),we&&we(et,He.options,He),ne(ze,Ve,!0),!0},He.set=function(Pe,$e){var we=He._microMemoizeOptions,Ue=He.cache,et=He.options,at=we.onCacheAdd,Ve=we.onCacheChange,oe=we.transformKey,me=oe?oe(Pe):Pe,Se=_e(Ue.keys,me);if(Se===-1){var Fe=et.maxSize-1;Ue.size>Fe&&(Ue.keys.length=Fe,Ue.values.length=Fe),Ue.keys.unshift(me),Ue.values.unshift($e),et.isPromise&&Ue.updateAsyncCache(He),at&&at(Ue,et,He),Ve&&Ve(Ue,et,He)}else{var Ke=Ue.keys[Se];Ue.values[Se]=$e,Se>0&&Ue.orderByLru(Ke,$e,Se),et.isPromise&&Ue.updateAsyncCache(He),typeof Ve=="function"&&Ve(Ue,et,He)}},He.values=function(){return He.cacheSnapshot.values}}function Ge(Ie,Ce){var ze=Ce.expirations,Ee=Ce.options,_e=Ce.originalFunction,He=Ie.options;Object.defineProperties(Ie,{_microMemoizeOptions:{configurable:!0,get:function(){return He}},cacheSnapshot:{configurable:!0,get:function(){var we=Ie.cache;return{keys:we.keys.slice(0),size:we.size,values:we.values.slice(0)}}},expirations:{configurable:!0,get:function(){return ze}},expirationsSnapshot:{configurable:!0,get:function(){return ze.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return Ee}},originalFunction:{configurable:!0,get:function(){return _e}}});var Pe=Ie;re(_e,Pe)}function ve(Ie,Ce){return Ze(Ie,Ce),Ge(Ie,Ce),Ie}var Te=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function xe(Ie,Ce,ze){var Ee=Ie(F({maxArgs:2,isShallowEqual:!0},ze,{isReact:!1}));Ce.displayName||(Ce.displayName=Ce.name||"Component");function _e(He,Pe,$e){this.props=He,this.context=Pe,this.updater=$e,this.MoizedComponent=Ee(Ce)}return _e.prototype.isReactComponent={},_e.prototype.render=function(){return{$$typeof:Te,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},re(Ce,_e,["contextType","contextTypes"]),_e.displayName="Moized("+(Ce.displayName||Ce.name||"Component")+")",ie(_e,Ce.name,ze.profileName),_e}function Ye(Ie){return function(Ce){if(Ie>=Ce.length)return Ce;if(Ie===0)return[];if(Ie===1)return[Ce[0]];if(Ie===2)return[Ce[0],Ce[1]];if(Ie===3)return[Ce[0],Ce[1],Ce[2]];for(var ze=[],Ee=0;Ee<Ie;Ee++)ze[Ee]=Ce[Ee];return ze}}function ge(Ie,Ce){for(var ze=Ie.length,Ee=0;Ee<ze;++Ee)if(Ie[Ee]===Ce)return Ee+1;return 0}function Me(){var Ie=[],Ce=[];return function(Ee,_e){var He=typeof _e;if(He==="function"||He==="symbol")return _e.toString();if(typeof _e=="object"){if(Ie.length){var Pe=ge(Ie,this);Pe===0?Ie[Ie.length]=this:(Ie.splice(Pe),Ce.splice(Pe)),Ce[Ce.length]=Ee;var $e=ge(Ie,_e);if($e!==0)return"[ref="+(Ce.slice(0,$e).join(".")||".")+"]"}else Ie[0]=_e,Ce[0]=Ee;return _e}return""+_e}}function je(Ie){var Ce=typeof Ie;return Ie&&(Ce==="object"||Ce==="function")?JSON.stringify(Ie,Me()):Ie}function tt(Ie){for(var Ce="|",ze=0;ze<Ie.length;ze++)Ce+=je(Ie[ze])+"|";return[Ce]}function it(Ie){return typeof Ie.serializer=="function"?Ie.serializer:tt}function st(Ie,Ce){return Ie[0]===Ce[0]}function qe(Ie){if(typeof Ie=="function")return function(Ce,ze,Ee){return Ie(Ee.cache,Ee.options,Ee)}}function ot(Ie){return Ie.matchesArg||Ie.isDeepEqual&&W.deepEqual||Ie.isShallowEqual&&W.shallowEqual||W.sameValueZeroEqual}function ut(Ie){return Ie.matchesKey||Ie.isSerialized&&st||void 0}function dt(Ie){return D(Ie.isSerialized&&it(Ie),typeof Ie.transformArgs=="function"&&Ie.transformArgs,typeof Ie.maxArgs=="number"&&Ye(Ie.maxArgs))}function mt(Ie){var Ce=Ie.options.updateCacheForKey,ze=function(){for(var _e=arguments.length,He=new Array(_e),Pe=0;Pe<_e;Pe++)He[Pe]=arguments[Pe];if(!Ce(He))return Ie.apply(this,He);var $e=Ie.fn.apply(this,He);return Ie.set(He,$e),$e};return re(Ie,ze),ze}var Je=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],Ne=function Ie(Ce,ze){var Ee=ze||J;if(te(Ce)){var _e=Ce.originalFunction,He=q(Ce.options,Ee);return Ie(_e,He)}if(typeof Ce=="object")return function(ft,Rt){if(typeof ft=="function"){var Yt=q(Ce,Rt);return Ie(ft,Yt)}var ct=q(Ce,ft);return Ie(ct)};if(Ee.isReact)return xe(Ie,Ce,Ee);var Pe=F({},J,Ee,{maxAge:typeof Ee.maxAge=="number"&&Ee.maxAge>=0?Ee.maxAge:J.maxAge,maxArgs:typeof Ee.maxArgs=="number"&&Ee.maxArgs>=0?Ee.maxArgs:J.maxArgs,maxSize:typeof Ee.maxSize=="number"&&Ee.maxSize>=0?Ee.maxSize:J.maxSize,profileName:Ee.profileName||Xe(Ce)}),$e=[];Pe.matchesArg,Pe.isDeepEqual;var we=Pe.isPromise;Pe.isReact,Pe.isSerialized,Pe.isShallowEqual,Pe.matchesKey,Pe.maxAge,Pe.maxArgs;var Ue=Pe.maxSize,et=Pe.onCacheAdd,at=Pe.onCacheChange,Ve=Pe.onCacheHit;Pe.onExpire,Pe.profileName,Pe.serializer;var oe=Pe.updateCacheForKey;Pe.transformArgs,Pe.updateExpire;var me=U(Pe,Je),Se=ot(Pe),Fe=ut(Pe),Ke=pe($e,Pe,Se,Fe),Ae=Re(Pe),rt=dt(Pe),vt=F({},me,{isEqual:Se,isMatchingKey:Fe,isPromise:we,maxSize:Ue,onCacheAdd:qe(Y(et,Ke.onCacheAdd,Ae.onCacheAdd)),onCacheChange:qe(at),onCacheHit:qe(Y(Ve,Ke.onCacheHit,Ae.onCacheHit)),transformKey:rt}),Vt=G(Ce,vt),Wt=ve(Vt,{expirations:$e,options:Pe,originalFunction:Ce});return oe&&(Wt=mt(Wt)),ie(Wt,Ce.name,Ee.profileName),Wt};Ne.clearStats=de,Ne.collectStats=be,Ne.compose=function(){return D.apply(void 0,arguments)||Ne},Ne.deep=Ne({isDeepEqual:!0}),Ne.getStats=fe,Ne.infinite=Ne({maxSize:1/0}),Ne.isCollectingStats=function(){return ue.isCollectingStats},Ne.isMoized=function(Ce){return typeof Ce=="function"&&!!Ce.isMoized},Ne.matchesArg=function(Ie){return Ne({matchesArg:Ie})},Ne.matchesKey=function(Ie){return Ne({matchesKey:Ie})};function ke(Ie,Ce){if(Ce===!0)return Ne({maxAge:Ie,updateExpire:Ce});if(typeof Ce=="object"){var ze=Ce.onExpire,Ee=Ce.updateExpire;return Ne({maxAge:Ie,onExpire:ze,updateExpire:Ee})}return Ne(typeof Ce=="function"?{maxAge:Ie,onExpire:Ce,updateExpire:!0}:{maxAge:Ie})}return Ne.maxAge=ke,Ne.maxArgs=function(Ie){return Ne({maxArgs:Ie})},Ne.maxSize=function(Ie){return Ne({maxSize:Ie})},Ne.profile=function(Ie){return Ne({profileName:Ie})},Ne.promise=Ne({isPromise:!0,updateExpire:!0}),Ne.react=Ne({isReact:!0}),Ne.serialize=Ne({isSerialized:!0}),Ne.serializeWith=function(Ie){return Ne({isSerialized:!0,serializer:Ie})},Ne.shallow=Ne({isShallowEqual:!0}),Ne.transformArgs=function(Ie){return Ne({transformArgs:Ie})},Ne.updateCacheForKey=function(Ie){return Ne({updateCacheForKey:Ie})},Object.defineProperty(Ne,"default",{configurable:!1,enumerable:!1,value:Ne,writable:!1}),Ne})})(moize$1);const moize=moizeExports,proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),throwMarker=Symbol("Comlink.thrown"),isObject$3=X=>typeof X=="object"&&X!==null||typeof X=="function",proxyTransferHandler={canHandle:X=>isObject$3(X)&&X[proxyMarker],serialize(X){const{port1:Z,port2:G}=new MessageChannel;return expose$1(X,Z),[G,[G]]},deserialize(X){return X.start(),wrap$1(X)}},throwTransferHandler={canHandle:X=>isObject$3(X)&&throwMarker in X,serialize({value:X}){let Z;return X instanceof Error?Z={isError:!0,value:{message:X.message,name:X.name,stack:X.stack}}:Z={isError:!1,value:X},[Z,[]]},deserialize(X){throw X.isError?Object.assign(new Error(X.value.message),X.value):X.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function expose$1(X,Z=self){Z.addEventListener("message",function G(W){if(!W||!W.data)return;const{id:F,type:U,path:J}=Object.assign({path:[]},W.data),Y=(W.data.argumentList||[]).map(fromWireValue);let D;try{const Q=J.slice(0,-1).reduce((q,te)=>q[te],X),ee=J.reduce((q,te)=>q[te],X);switch(U){case"GET":D=ee;break;case"SET":Q[J.slice(-1)[0]]=fromWireValue(W.data.value),D=!0;break;case"APPLY":D=ee.apply(Q,Y);break;case"CONSTRUCT":{const q=new ee(...Y);D=proxy(q)}break;case"ENDPOINT":{const{port1:q,port2:te}=new MessageChannel;expose$1(X,te),D=transfer$1(q,[q])}break;case"RELEASE":D=void 0;break;default:return}}catch(Q){D={value:Q,[throwMarker]:0}}Promise.resolve(D).catch(Q=>({value:Q,[throwMarker]:0})).then(Q=>{const[ee,q]=toWireValue(Q);Z.postMessage(Object.assign(Object.assign({},ee),{id:F}),q),U==="RELEASE"&&(Z.removeEventListener("message",G),closeEndPoint(Z))})}),Z.start&&Z.start()}function isMessagePort(X){return X.constructor.name==="MessagePort"}function closeEndPoint(X){isMessagePort(X)&&X.close()}function wrap$1(X,Z){return createProxy(X,[],Z)}function throwIfProxyReleased(X){if(X)throw new Error("Proxy has been released and is not useable")}function createProxy(X,Z=[],G=function(){}){let W=!1;const F=new Proxy(G,{get(U,J){if(throwIfProxyReleased(W),J===releaseProxy)return()=>requestResponseMessage(X,{type:"RELEASE",path:Z.map(Y=>Y.toString())}).then(()=>{closeEndPoint(X),W=!0});if(J==="then"){if(Z.length===0)return{then:()=>F};const Y=requestResponseMessage(X,{type:"GET",path:Z.map(D=>D.toString())}).then(fromWireValue);return Y.then.bind(Y)}return createProxy(X,[...Z,J])},set(U,J,Y){throwIfProxyReleased(W);const[D,Q]=toWireValue(Y);return requestResponseMessage(X,{type:"SET",path:[...Z,J].map(ee=>ee.toString()),value:D},Q).then(fromWireValue)},apply(U,J,Y){throwIfProxyReleased(W);const D=Z[Z.length-1];if(D===createEndpoint)return requestResponseMessage(X,{type:"ENDPOINT"}).then(fromWireValue);if(D==="bind")return createProxy(X,Z.slice(0,-1));const[Q,ee]=processArguments(Y);return requestResponseMessage(X,{type:"APPLY",path:Z.map(q=>q.toString()),argumentList:Q},ee).then(fromWireValue)},construct(U,J){throwIfProxyReleased(W);const[Y,D]=processArguments(J);return requestResponseMessage(X,{type:"CONSTRUCT",path:Z.map(Q=>Q.toString()),argumentList:Y},D).then(fromWireValue)}});return F}function myFlat(X){return Array.prototype.concat.apply([],X)}function processArguments(X){const Z=X.map(toWireValue);return[Z.map(G=>G[0]),myFlat(Z.map(G=>G[1]))]}const transferCache=new WeakMap;function transfer$1(X,Z){return transferCache.set(X,Z),X}function proxy(X){return Object.assign(X,{[proxyMarker]:!0})}function toWireValue(X){for(const[Z,G]of transferHandlers)if(G.canHandle(X)){const[W,F]=G.serialize(X);return[{type:"HANDLER",name:Z,value:W},F]}return[{type:"RAW",value:X},transferCache.get(X)||[]]}function fromWireValue(X){switch(X.type){case"HANDLER":return transferHandlers.get(X.name).deserialize(X.value);case"RAW":return X.value}}function requestResponseMessage(X,Z,G){return new Promise(W=>{const F=generateUUID$1();X.addEventListener("message",function U(J){!J.data||!J.data.id||J.data.id!==F||(X.removeEventListener("message",U),W(J.data))}),X.start&&X.start(),X.postMessage(Object.assign({id:F},Z),G)})}function generateUUID$1(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="158",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",KeepStencilOp=7680,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(Z,G){this._listeners===void 0&&(this._listeners={});const W=this._listeners;W[Z]===void 0&&(W[Z]=[]),W[Z].indexOf(G)===-1&&W[Z].push(G)}hasEventListener(Z,G){if(this._listeners===void 0)return!1;const W=this._listeners;return W[Z]!==void 0&&W[Z].indexOf(G)!==-1}removeEventListener(Z,G){if(this._listeners===void 0)return;const F=this._listeners[Z];if(F!==void 0){const U=F.indexOf(G);U!==-1&&F.splice(U,1)}}dispatchEvent(Z){if(this._listeners===void 0)return;const W=this._listeners[Z.type];if(W!==void 0){Z.target=this;const F=W.slice(0);for(let U=0,J=F.length;U<J;U++)F[U].call(this,Z);Z.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const X=Math.random()*4294967295|0,Z=Math.random()*4294967295|0,G=Math.random()*4294967295|0,W=Math.random()*4294967295|0;return(_lut[X&255]+_lut[X>>8&255]+_lut[X>>16&255]+_lut[X>>24&255]+"-"+_lut[Z&255]+_lut[Z>>8&255]+"-"+_lut[Z>>16&15|64]+_lut[Z>>24&255]+"-"+_lut[G&63|128]+_lut[G>>8&255]+"-"+_lut[G>>16&255]+_lut[G>>24&255]+_lut[W&255]+_lut[W>>8&255]+_lut[W>>16&255]+_lut[W>>24&255]).toLowerCase()}function clamp(X,Z,G){return Math.max(Z,Math.min(G,X))}function euclideanModulo(X,Z){return(X%Z+Z)%Z}function lerp(X,Z,G){return(1-G)*X+G*Z}function isPowerOfTwo(X){return(X&X-1)===0&&X!==0}function floorPowerOfTwo(X){return Math.pow(2,Math.floor(Math.log(X)/Math.LN2))}function denormalize(X,Z){switch(Z.constructor){case Float32Array:return X;case Uint32Array:return X/4294967295;case Uint16Array:return X/65535;case Uint8Array:return X/255;case Int32Array:return Math.max(X/2147483647,-1);case Int16Array:return Math.max(X/32767,-1);case Int8Array:return Math.max(X/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(X,Z){switch(Z.constructor){case Float32Array:return X;case Uint32Array:return Math.round(X*4294967295);case Uint16Array:return Math.round(X*65535);case Uint8Array:return Math.round(X*255);case Int32Array:return Math.round(X*2147483647);case Int16Array:return Math.round(X*32767);case Int8Array:return Math.round(X*127);default:throw new Error("Invalid component type.")}}class Vector2{constructor(Z=0,G=0){Vector2.prototype.isVector2=!0,this.x=Z,this.y=G}get width(){return this.x}set width(Z){this.x=Z}get height(){return this.y}set height(Z){this.y=Z}set(Z,G){return this.x=Z,this.y=G,this}setScalar(Z){return this.x=Z,this.y=Z,this}setX(Z){return this.x=Z,this}setY(Z){return this.y=Z,this}setComponent(Z,G){switch(Z){case 0:this.x=G;break;case 1:this.y=G;break;default:throw new Error("index is out of range: "+Z)}return this}getComponent(Z){switch(Z){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+Z)}}clone(){return new this.constructor(this.x,this.y)}copy(Z){return this.x=Z.x,this.y=Z.y,this}add(Z){return this.x+=Z.x,this.y+=Z.y,this}addScalar(Z){return this.x+=Z,this.y+=Z,this}addVectors(Z,G){return this.x=Z.x+G.x,this.y=Z.y+G.y,this}addScaledVector(Z,G){return this.x+=Z.x*G,this.y+=Z.y*G,this}sub(Z){return this.x-=Z.x,this.y-=Z.y,this}subScalar(Z){return this.x-=Z,this.y-=Z,this}subVectors(Z,G){return this.x=Z.x-G.x,this.y=Z.y-G.y,this}multiply(Z){return this.x*=Z.x,this.y*=Z.y,this}multiplyScalar(Z){return this.x*=Z,this.y*=Z,this}divide(Z){return this.x/=Z.x,this.y/=Z.y,this}divideScalar(Z){return this.multiplyScalar(1/Z)}applyMatrix3(Z){const G=this.x,W=this.y,F=Z.elements;return this.x=F[0]*G+F[3]*W+F[6],this.y=F[1]*G+F[4]*W+F[7],this}min(Z){return this.x=Math.min(this.x,Z.x),this.y=Math.min(this.y,Z.y),this}max(Z){return this.x=Math.max(this.x,Z.x),this.y=Math.max(this.y,Z.y),this}clamp(Z,G){return this.x=Math.max(Z.x,Math.min(G.x,this.x)),this.y=Math.max(Z.y,Math.min(G.y,this.y)),this}clampScalar(Z,G){return this.x=Math.max(Z,Math.min(G,this.x)),this.y=Math.max(Z,Math.min(G,this.y)),this}clampLength(Z,G){const W=this.length();return this.divideScalar(W||1).multiplyScalar(Math.max(Z,Math.min(G,W)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(Z){return this.x*Z.x+this.y*Z.y}cross(Z){return this.x*Z.y-this.y*Z.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(Z){const G=Math.sqrt(this.lengthSq()*Z.lengthSq());if(G===0)return Math.PI/2;const W=this.dot(Z)/G;return Math.acos(clamp(W,-1,1))}distanceTo(Z){return Math.sqrt(this.distanceToSquared(Z))}distanceToSquared(Z){const G=this.x-Z.x,W=this.y-Z.y;return G*G+W*W}manhattanDistanceTo(Z){return Math.abs(this.x-Z.x)+Math.abs(this.y-Z.y)}setLength(Z){return this.normalize().multiplyScalar(Z)}lerp(Z,G){return this.x+=(Z.x-this.x)*G,this.y+=(Z.y-this.y)*G,this}lerpVectors(Z,G,W){return this.x=Z.x+(G.x-Z.x)*W,this.y=Z.y+(G.y-Z.y)*W,this}equals(Z){return Z.x===this.x&&Z.y===this.y}fromArray(Z,G=0){return this.x=Z[G],this.y=Z[G+1],this}toArray(Z=[],G=0){return Z[G]=this.x,Z[G+1]=this.y,Z}fromBufferAttribute(Z,G){return this.x=Z.getX(G),this.y=Z.getY(G),this}rotateAround(Z,G){const W=Math.cos(G),F=Math.sin(G),U=this.x-Z.x,J=this.y-Z.y;return this.x=U*W-J*F+Z.x,this.y=U*F+J*W+Z.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(Z,G,W,F,U,J,Y,D,Q){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],Z!==void 0&&this.set(Z,G,W,F,U,J,Y,D,Q)}set(Z,G,W,F,U,J,Y,D,Q){const ee=this.elements;return ee[0]=Z,ee[1]=F,ee[2]=Y,ee[3]=G,ee[4]=U,ee[5]=D,ee[6]=W,ee[7]=J,ee[8]=Q,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(Z){const G=this.elements,W=Z.elements;return G[0]=W[0],G[1]=W[1],G[2]=W[2],G[3]=W[3],G[4]=W[4],G[5]=W[5],G[6]=W[6],G[7]=W[7],G[8]=W[8],this}extractBasis(Z,G,W){return Z.setFromMatrix3Column(this,0),G.setFromMatrix3Column(this,1),W.setFromMatrix3Column(this,2),this}setFromMatrix4(Z){const G=Z.elements;return this.set(G[0],G[4],G[8],G[1],G[5],G[9],G[2],G[6],G[10]),this}multiply(Z){return this.multiplyMatrices(this,Z)}premultiply(Z){return this.multiplyMatrices(Z,this)}multiplyMatrices(Z,G){const W=Z.elements,F=G.elements,U=this.elements,J=W[0],Y=W[3],D=W[6],Q=W[1],ee=W[4],q=W[7],te=W[2],ie=W[5],ne=W[8],ce=F[0],le=F[3],se=F[6],pe=F[1],ue=F[4],ae=F[7],de=F[2],be=F[5],he=F[8];return U[0]=J*ce+Y*pe+D*de,U[3]=J*le+Y*ue+D*be,U[6]=J*se+Y*ae+D*he,U[1]=Q*ce+ee*pe+q*de,U[4]=Q*le+ee*ue+q*be,U[7]=Q*se+ee*ae+q*he,U[2]=te*ce+ie*pe+ne*de,U[5]=te*le+ie*ue+ne*be,U[8]=te*se+ie*ae+ne*he,this}multiplyScalar(Z){const G=this.elements;return G[0]*=Z,G[3]*=Z,G[6]*=Z,G[1]*=Z,G[4]*=Z,G[7]*=Z,G[2]*=Z,G[5]*=Z,G[8]*=Z,this}determinant(){const Z=this.elements,G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8];return G*J*ee-G*Y*Q-W*U*ee+W*Y*D+F*U*Q-F*J*D}invert(){const Z=this.elements,G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8],q=ee*J-Y*Q,te=Y*D-ee*U,ie=Q*U-J*D,ne=G*q+W*te+F*ie;if(ne===0)return this.set(0,0,0,0,0,0,0,0,0);const ce=1/ne;return Z[0]=q*ce,Z[1]=(F*Q-ee*W)*ce,Z[2]=(Y*W-F*J)*ce,Z[3]=te*ce,Z[4]=(ee*G-F*D)*ce,Z[5]=(F*U-Y*G)*ce,Z[6]=ie*ce,Z[7]=(W*D-Q*G)*ce,Z[8]=(J*G-W*U)*ce,this}transpose(){let Z;const G=this.elements;return Z=G[1],G[1]=G[3],G[3]=Z,Z=G[2],G[2]=G[6],G[6]=Z,Z=G[5],G[5]=G[7],G[7]=Z,this}getNormalMatrix(Z){return this.setFromMatrix4(Z).invert().transpose()}transposeIntoArray(Z){const G=this.elements;return Z[0]=G[0],Z[1]=G[3],Z[2]=G[6],Z[3]=G[1],Z[4]=G[4],Z[5]=G[7],Z[6]=G[2],Z[7]=G[5],Z[8]=G[8],this}setUvTransform(Z,G,W,F,U,J,Y){const D=Math.cos(U),Q=Math.sin(U);return this.set(W*D,W*Q,-W*(D*J+Q*Y)+J+Z,-F*Q,F*D,-F*(-Q*J+D*Y)+Y+G,0,0,1),this}scale(Z,G){return this.premultiply(_m3.makeScale(Z,G)),this}rotate(Z){return this.premultiply(_m3.makeRotation(-Z)),this}translate(Z,G){return this.premultiply(_m3.makeTranslation(Z,G)),this}makeTranslation(Z,G){return Z.isVector2?this.set(1,0,Z.x,0,1,Z.y,0,0,1):this.set(1,0,Z,0,1,G,0,0,1),this}makeRotation(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(G,-W,0,W,G,0,0,0,1),this}makeScale(Z,G){return this.set(Z,0,0,0,G,0,0,0,1),this}equals(Z){const G=this.elements,W=Z.elements;for(let F=0;F<9;F++)if(G[F]!==W[F])return!1;return!0}fromArray(Z,G=0){for(let W=0;W<9;W++)this.elements[W]=Z[W+G];return this}toArray(Z=[],G=0){const W=this.elements;return Z[G]=W[0],Z[G+1]=W[1],Z[G+2]=W[2],Z[G+3]=W[3],Z[G+4]=W[4],Z[G+5]=W[5],Z[G+6]=W[6],Z[G+7]=W[7],Z[G+8]=W[8],Z}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(X){for(let Z=X.length-1;Z>=0;--Z)if(X[Z]>=65535)return!0;return!1}function createElementNS(X){return document.createElementNS("http://www.w3.org/1999/xhtml",X)}function createCanvasElement(){const X=createElementNS("canvas");return X.style.display="block",X}const _cache={};function warnOnce(X){X in _cache||(_cache[X]=!0,console.warn(X))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:X=>X,fromReference:X=>X},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:X=>X.convertSRGBToLinear(),fromReference:X=>X.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:X=>X.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:X=>X.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:X=>X.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:X=>X.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(X){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!X},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(X){if(!SUPPORTED_WORKING_COLOR_SPACES.has(X))throw new Error(`Unsupported working color space, "${X}".`);this._workingColorSpace=X},convert:function(X,Z,G){if(this.enabled===!1||Z===G||!Z||!G)return X;const W=COLOR_SPACES[Z].toReference,F=COLOR_SPACES[G].fromReference;return F(W(X))},fromWorkingColorSpace:function(X,Z){return this.convert(X,this._workingColorSpace,Z)},toWorkingColorSpace:function(X,Z){return this.convert(X,Z,this._workingColorSpace)},getPrimaries:function(X){return COLOR_SPACES[X].primaries},getTransfer:function(X){return X===NoColorSpace?LinearTransfer:COLOR_SPACES[X].transfer}};function SRGBToLinear(X){return X<.04045?X*.0773993808:Math.pow(X*.9478672986+.0521327014,2.4)}function LinearToSRGB(X){return X<.0031308?X*12.92:1.055*Math.pow(X,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(Z){if(/^data:/i.test(Z.src)||typeof HTMLCanvasElement>"u")return Z.src;let G;if(Z instanceof HTMLCanvasElement)G=Z;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=Z.width,_canvas.height=Z.height;const W=_canvas.getContext("2d");Z instanceof ImageData?W.putImageData(Z,0,0):W.drawImage(Z,0,0,Z.width,Z.height),G=_canvas}return G.width>2048||G.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",Z),G.toDataURL("image/jpeg",.6)):G.toDataURL("image/png")}static sRGBToLinear(Z){if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const G=createElementNS("canvas");G.width=Z.width,G.height=Z.height;const W=G.getContext("2d");W.drawImage(Z,0,0,Z.width,Z.height);const F=W.getImageData(0,0,Z.width,Z.height),U=F.data;for(let J=0;J<U.length;J++)U[J]=SRGBToLinear(U[J]/255)*255;return W.putImageData(F,0,0),G}else if(Z.data){const G=Z.data.slice(0);for(let W=0;W<G.length;W++)G instanceof Uint8Array||G instanceof Uint8ClampedArray?G[W]=Math.floor(SRGBToLinear(G[W]/255)*255):G[W]=SRGBToLinear(G[W]);return{data:G,width:Z.width,height:Z.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),Z}}let _sourceId=0;class Source{constructor(Z=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=Z,this.version=0}set needsUpdate(Z){Z===!0&&this.version++}toJSON(Z){const G=Z===void 0||typeof Z=="string";if(!G&&Z.images[this.uuid]!==void 0)return Z.images[this.uuid];const W={uuid:this.uuid,url:""},F=this.data;if(F!==null){let U;if(Array.isArray(F)){U=[];for(let J=0,Y=F.length;J<Y;J++)F[J].isDataTexture?U.push(serializeImage(F[J].image)):U.push(serializeImage(F[J]))}else U=serializeImage(F);W.url=U}return G||(Z.images[this.uuid]=W),W}}function serializeImage(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap?ImageUtils.getDataURL(X):X.data?{data:Array.from(X.data),width:X.width,height:X.height,type:X.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(Z=Texture.DEFAULT_IMAGE,G=Texture.DEFAULT_MAPPING,W=ClampToEdgeWrapping,F=ClampToEdgeWrapping,U=LinearFilter,J=LinearMipmapLinearFilter,Y=RGBAFormat,D=UnsignedByteType,Q=Texture.DEFAULT_ANISOTROPY,ee=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(Z),this.mipmaps=[],this.mapping=G,this.channel=0,this.wrapS=W,this.wrapT=F,this.magFilter=U,this.minFilter=J,this.anisotropy=Q,this.format=Y,this.internalFormat=null,this.type=D,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof ee=="string"?this.colorSpace=ee:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=ee===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(Z=null){this.source.data=Z}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(Z){return this.name=Z.name,this.source=Z.source,this.mipmaps=Z.mipmaps.slice(0),this.mapping=Z.mapping,this.channel=Z.channel,this.wrapS=Z.wrapS,this.wrapT=Z.wrapT,this.magFilter=Z.magFilter,this.minFilter=Z.minFilter,this.anisotropy=Z.anisotropy,this.format=Z.format,this.internalFormat=Z.internalFormat,this.type=Z.type,this.offset.copy(Z.offset),this.repeat.copy(Z.repeat),this.center.copy(Z.center),this.rotation=Z.rotation,this.matrixAutoUpdate=Z.matrixAutoUpdate,this.matrix.copy(Z.matrix),this.generateMipmaps=Z.generateMipmaps,this.premultiplyAlpha=Z.premultiplyAlpha,this.flipY=Z.flipY,this.unpackAlignment=Z.unpackAlignment,this.colorSpace=Z.colorSpace,this.userData=JSON.parse(JSON.stringify(Z.userData)),this.needsUpdate=!0,this}toJSON(Z){const G=Z===void 0||typeof Z=="string";if(!G&&Z.textures[this.uuid]!==void 0)return Z.textures[this.uuid];const W={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(Z).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(W.userData=this.userData),G||(Z.textures[this.uuid]=W),W}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(Z){if(this.mapping!==UVMapping)return Z;if(Z.applyMatrix3(this.matrix),Z.x<0||Z.x>1)switch(this.wrapS){case RepeatWrapping:Z.x=Z.x-Math.floor(Z.x);break;case ClampToEdgeWrapping:Z.x=Z.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(Z.x)%2)===1?Z.x=Math.ceil(Z.x)-Z.x:Z.x=Z.x-Math.floor(Z.x);break}if(Z.y<0||Z.y>1)switch(this.wrapT){case RepeatWrapping:Z.y=Z.y-Math.floor(Z.y);break;case ClampToEdgeWrapping:Z.y=Z.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(Z.y)%2)===1?Z.y=Math.ceil(Z.y)-Z.y:Z.y=Z.y-Math.floor(Z.y);break}return this.flipY&&(Z.y=1-Z.y),Z}set needsUpdate(Z){Z===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set encoding(Z){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=Z===sRGBEncoding?SRGBColorSpace:NoColorSpace}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(Z=0,G=0,W=0,F=1){Vector4.prototype.isVector4=!0,this.x=Z,this.y=G,this.z=W,this.w=F}get width(){return this.z}set width(Z){this.z=Z}get height(){return this.w}set height(Z){this.w=Z}set(Z,G,W,F){return this.x=Z,this.y=G,this.z=W,this.w=F,this}setScalar(Z){return this.x=Z,this.y=Z,this.z=Z,this.w=Z,this}setX(Z){return this.x=Z,this}setY(Z){return this.y=Z,this}setZ(Z){return this.z=Z,this}setW(Z){return this.w=Z,this}setComponent(Z,G){switch(Z){case 0:this.x=G;break;case 1:this.y=G;break;case 2:this.z=G;break;case 3:this.w=G;break;default:throw new Error("index is out of range: "+Z)}return this}getComponent(Z){switch(Z){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+Z)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(Z){return this.x=Z.x,this.y=Z.y,this.z=Z.z,this.w=Z.w!==void 0?Z.w:1,this}add(Z){return this.x+=Z.x,this.y+=Z.y,this.z+=Z.z,this.w+=Z.w,this}addScalar(Z){return this.x+=Z,this.y+=Z,this.z+=Z,this.w+=Z,this}addVectors(Z,G){return this.x=Z.x+G.x,this.y=Z.y+G.y,this.z=Z.z+G.z,this.w=Z.w+G.w,this}addScaledVector(Z,G){return this.x+=Z.x*G,this.y+=Z.y*G,this.z+=Z.z*G,this.w+=Z.w*G,this}sub(Z){return this.x-=Z.x,this.y-=Z.y,this.z-=Z.z,this.w-=Z.w,this}subScalar(Z){return this.x-=Z,this.y-=Z,this.z-=Z,this.w-=Z,this}subVectors(Z,G){return this.x=Z.x-G.x,this.y=Z.y-G.y,this.z=Z.z-G.z,this.w=Z.w-G.w,this}multiply(Z){return this.x*=Z.x,this.y*=Z.y,this.z*=Z.z,this.w*=Z.w,this}multiplyScalar(Z){return this.x*=Z,this.y*=Z,this.z*=Z,this.w*=Z,this}applyMatrix4(Z){const G=this.x,W=this.y,F=this.z,U=this.w,J=Z.elements;return this.x=J[0]*G+J[4]*W+J[8]*F+J[12]*U,this.y=J[1]*G+J[5]*W+J[9]*F+J[13]*U,this.z=J[2]*G+J[6]*W+J[10]*F+J[14]*U,this.w=J[3]*G+J[7]*W+J[11]*F+J[15]*U,this}divideScalar(Z){return this.multiplyScalar(1/Z)}setAxisAngleFromQuaternion(Z){this.w=2*Math.acos(Z.w);const G=Math.sqrt(1-Z.w*Z.w);return G<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=Z.x/G,this.y=Z.y/G,this.z=Z.z/G),this}setAxisAngleFromRotationMatrix(Z){let G,W,F,U;const D=Z.elements,Q=D[0],ee=D[4],q=D[8],te=D[1],ie=D[5],ne=D[9],ce=D[2],le=D[6],se=D[10];if(Math.abs(ee-te)<.01&&Math.abs(q-ce)<.01&&Math.abs(ne-le)<.01){if(Math.abs(ee+te)<.1&&Math.abs(q+ce)<.1&&Math.abs(ne+le)<.1&&Math.abs(Q+ie+se-3)<.1)return this.set(1,0,0,0),this;G=Math.PI;const ue=(Q+1)/2,ae=(ie+1)/2,de=(se+1)/2,be=(ee+te)/4,he=(q+ce)/4,Le=(ne+le)/4;return ue>ae&&ue>de?ue<.01?(W=0,F=.707106781,U=.707106781):(W=Math.sqrt(ue),F=be/W,U=he/W):ae>de?ae<.01?(W=.707106781,F=0,U=.707106781):(F=Math.sqrt(ae),W=be/F,U=Le/F):de<.01?(W=.707106781,F=.707106781,U=0):(U=Math.sqrt(de),W=he/U,F=Le/U),this.set(W,F,U,G),this}let pe=Math.sqrt((le-ne)*(le-ne)+(q-ce)*(q-ce)+(te-ee)*(te-ee));return Math.abs(pe)<.001&&(pe=1),this.x=(le-ne)/pe,this.y=(q-ce)/pe,this.z=(te-ee)/pe,this.w=Math.acos((Q+ie+se-1)/2),this}min(Z){return this.x=Math.min(this.x,Z.x),this.y=Math.min(this.y,Z.y),this.z=Math.min(this.z,Z.z),this.w=Math.min(this.w,Z.w),this}max(Z){return this.x=Math.max(this.x,Z.x),this.y=Math.max(this.y,Z.y),this.z=Math.max(this.z,Z.z),this.w=Math.max(this.w,Z.w),this}clamp(Z,G){return this.x=Math.max(Z.x,Math.min(G.x,this.x)),this.y=Math.max(Z.y,Math.min(G.y,this.y)),this.z=Math.max(Z.z,Math.min(G.z,this.z)),this.w=Math.max(Z.w,Math.min(G.w,this.w)),this}clampScalar(Z,G){return this.x=Math.max(Z,Math.min(G,this.x)),this.y=Math.max(Z,Math.min(G,this.y)),this.z=Math.max(Z,Math.min(G,this.z)),this.w=Math.max(Z,Math.min(G,this.w)),this}clampLength(Z,G){const W=this.length();return this.divideScalar(W||1).multiplyScalar(Math.max(Z,Math.min(G,W)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(Z){return this.x*Z.x+this.y*Z.y+this.z*Z.z+this.w*Z.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(Z){return this.normalize().multiplyScalar(Z)}lerp(Z,G){return this.x+=(Z.x-this.x)*G,this.y+=(Z.y-this.y)*G,this.z+=(Z.z-this.z)*G,this.w+=(Z.w-this.w)*G,this}lerpVectors(Z,G,W){return this.x=Z.x+(G.x-Z.x)*W,this.y=Z.y+(G.y-Z.y)*W,this.z=Z.z+(G.z-Z.z)*W,this.w=Z.w+(G.w-Z.w)*W,this}equals(Z){return Z.x===this.x&&Z.y===this.y&&Z.z===this.z&&Z.w===this.w}fromArray(Z,G=0){return this.x=Z[G],this.y=Z[G+1],this.z=Z[G+2],this.w=Z[G+3],this}toArray(Z=[],G=0){return Z[G]=this.x,Z[G+1]=this.y,Z[G+2]=this.z,Z[G+3]=this.w,Z}fromBufferAttribute(Z,G){return this.x=Z.getX(G),this.y=Z.getY(G),this.z=Z.getZ(G),this.w=Z.getW(G),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(Z=1,G=1,W={}){super(),this.isRenderTarget=!0,this.width=Z,this.height=G,this.depth=1,this.scissor=new Vector4(0,0,Z,G),this.scissorTest=!1,this.viewport=new Vector4(0,0,Z,G);const F={width:Z,height:G,depth:1};W.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),W.colorSpace=W.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),W=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},W),this.texture=new Texture(F,W.mapping,W.wrapS,W.wrapT,W.magFilter,W.minFilter,W.format,W.type,W.anisotropy,W.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=W.generateMipmaps,this.texture.internalFormat=W.internalFormat,this.depthBuffer=W.depthBuffer,this.stencilBuffer=W.stencilBuffer,this.depthTexture=W.depthTexture,this.samples=W.samples}setSize(Z,G,W=1){(this.width!==Z||this.height!==G||this.depth!==W)&&(this.width=Z,this.height=G,this.depth=W,this.texture.image.width=Z,this.texture.image.height=G,this.texture.image.depth=W,this.dispose()),this.viewport.set(0,0,Z,G),this.scissor.set(0,0,Z,G)}clone(){return new this.constructor().copy(this)}copy(Z){this.width=Z.width,this.height=Z.height,this.depth=Z.depth,this.scissor.copy(Z.scissor),this.scissorTest=Z.scissorTest,this.viewport.copy(Z.viewport),this.texture=Z.texture.clone(),this.texture.isRenderTargetTexture=!0;const G=Object.assign({},Z.texture.image);return this.texture.source=new Source(G),this.depthBuffer=Z.depthBuffer,this.stencilBuffer=Z.stencilBuffer,Z.depthTexture!==null&&(this.depthTexture=Z.depthTexture.clone()),this.samples=Z.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(Z=1,G=1,W={}){super(Z,G,W),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(Z=null,G=1,W=1,F=1){super(null),this.isDataArrayTexture=!0,this.image={data:Z,width:G,height:W,depth:F},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Data3DTexture extends Texture{constructor(Z=null,G=1,W=1,F=1){super(null),this.isData3DTexture=!0,this.image={data:Z,width:G,height:W,depth:F},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Quaternion{constructor(Z=0,G=0,W=0,F=1){this.isQuaternion=!0,this._x=Z,this._y=G,this._z=W,this._w=F}static slerpFlat(Z,G,W,F,U,J,Y){let D=W[F+0],Q=W[F+1],ee=W[F+2],q=W[F+3];const te=U[J+0],ie=U[J+1],ne=U[J+2],ce=U[J+3];if(Y===0){Z[G+0]=D,Z[G+1]=Q,Z[G+2]=ee,Z[G+3]=q;return}if(Y===1){Z[G+0]=te,Z[G+1]=ie,Z[G+2]=ne,Z[G+3]=ce;return}if(q!==ce||D!==te||Q!==ie||ee!==ne){let le=1-Y;const se=D*te+Q*ie+ee*ne+q*ce,pe=se>=0?1:-1,ue=1-se*se;if(ue>Number.EPSILON){const de=Math.sqrt(ue),be=Math.atan2(de,se*pe);le=Math.sin(le*be)/de,Y=Math.sin(Y*be)/de}const ae=Y*pe;if(D=D*le+te*ae,Q=Q*le+ie*ae,ee=ee*le+ne*ae,q=q*le+ce*ae,le===1-Y){const de=1/Math.sqrt(D*D+Q*Q+ee*ee+q*q);D*=de,Q*=de,ee*=de,q*=de}}Z[G]=D,Z[G+1]=Q,Z[G+2]=ee,Z[G+3]=q}static multiplyQuaternionsFlat(Z,G,W,F,U,J){const Y=W[F],D=W[F+1],Q=W[F+2],ee=W[F+3],q=U[J],te=U[J+1],ie=U[J+2],ne=U[J+3];return Z[G]=Y*ne+ee*q+D*ie-Q*te,Z[G+1]=D*ne+ee*te+Q*q-Y*ie,Z[G+2]=Q*ne+ee*ie+Y*te-D*q,Z[G+3]=ee*ne-Y*q-D*te-Q*ie,Z}get x(){return this._x}set x(Z){this._x=Z,this._onChangeCallback()}get y(){return this._y}set y(Z){this._y=Z,this._onChangeCallback()}get z(){return this._z}set z(Z){this._z=Z,this._onChangeCallback()}get w(){return this._w}set w(Z){this._w=Z,this._onChangeCallback()}set(Z,G,W,F){return this._x=Z,this._y=G,this._z=W,this._w=F,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(Z){return this._x=Z.x,this._y=Z.y,this._z=Z.z,this._w=Z.w,this._onChangeCallback(),this}setFromEuler(Z,G){const W=Z._x,F=Z._y,U=Z._z,J=Z._order,Y=Math.cos,D=Math.sin,Q=Y(W/2),ee=Y(F/2),q=Y(U/2),te=D(W/2),ie=D(F/2),ne=D(U/2);switch(J){case"XYZ":this._x=te*ee*q+Q*ie*ne,this._y=Q*ie*q-te*ee*ne,this._z=Q*ee*ne+te*ie*q,this._w=Q*ee*q-te*ie*ne;break;case"YXZ":this._x=te*ee*q+Q*ie*ne,this._y=Q*ie*q-te*ee*ne,this._z=Q*ee*ne-te*ie*q,this._w=Q*ee*q+te*ie*ne;break;case"ZXY":this._x=te*ee*q-Q*ie*ne,this._y=Q*ie*q+te*ee*ne,this._z=Q*ee*ne+te*ie*q,this._w=Q*ee*q-te*ie*ne;break;case"ZYX":this._x=te*ee*q-Q*ie*ne,this._y=Q*ie*q+te*ee*ne,this._z=Q*ee*ne-te*ie*q,this._w=Q*ee*q+te*ie*ne;break;case"YZX":this._x=te*ee*q+Q*ie*ne,this._y=Q*ie*q+te*ee*ne,this._z=Q*ee*ne-te*ie*q,this._w=Q*ee*q-te*ie*ne;break;case"XZY":this._x=te*ee*q-Q*ie*ne,this._y=Q*ie*q-te*ee*ne,this._z=Q*ee*ne+te*ie*q,this._w=Q*ee*q+te*ie*ne;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+J)}return G!==!1&&this._onChangeCallback(),this}setFromAxisAngle(Z,G){const W=G/2,F=Math.sin(W);return this._x=Z.x*F,this._y=Z.y*F,this._z=Z.z*F,this._w=Math.cos(W),this._onChangeCallback(),this}setFromRotationMatrix(Z){const G=Z.elements,W=G[0],F=G[4],U=G[8],J=G[1],Y=G[5],D=G[9],Q=G[2],ee=G[6],q=G[10],te=W+Y+q;if(te>0){const ie=.5/Math.sqrt(te+1);this._w=.25/ie,this._x=(ee-D)*ie,this._y=(U-Q)*ie,this._z=(J-F)*ie}else if(W>Y&&W>q){const ie=2*Math.sqrt(1+W-Y-q);this._w=(ee-D)/ie,this._x=.25*ie,this._y=(F+J)/ie,this._z=(U+Q)/ie}else if(Y>q){const ie=2*Math.sqrt(1+Y-W-q);this._w=(U-Q)/ie,this._x=(F+J)/ie,this._y=.25*ie,this._z=(D+ee)/ie}else{const ie=2*Math.sqrt(1+q-W-Y);this._w=(J-F)/ie,this._x=(U+Q)/ie,this._y=(D+ee)/ie,this._z=.25*ie}return this._onChangeCallback(),this}setFromUnitVectors(Z,G){let W=Z.dot(G)+1;return W<Number.EPSILON?(W=0,Math.abs(Z.x)>Math.abs(Z.z)?(this._x=-Z.y,this._y=Z.x,this._z=0,this._w=W):(this._x=0,this._y=-Z.z,this._z=Z.y,this._w=W)):(this._x=Z.y*G.z-Z.z*G.y,this._y=Z.z*G.x-Z.x*G.z,this._z=Z.x*G.y-Z.y*G.x,this._w=W),this.normalize()}angleTo(Z){return 2*Math.acos(Math.abs(clamp(this.dot(Z),-1,1)))}rotateTowards(Z,G){const W=this.angleTo(Z);if(W===0)return this;const F=Math.min(1,G/W);return this.slerp(Z,F),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(Z){return this._x*Z._x+this._y*Z._y+this._z*Z._z+this._w*Z._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let Z=this.length();return Z===0?(this._x=0,this._y=0,this._z=0,this._w=1):(Z=1/Z,this._x=this._x*Z,this._y=this._y*Z,this._z=this._z*Z,this._w=this._w*Z),this._onChangeCallback(),this}multiply(Z){return this.multiplyQuaternions(this,Z)}premultiply(Z){return this.multiplyQuaternions(Z,this)}multiplyQuaternions(Z,G){const W=Z._x,F=Z._y,U=Z._z,J=Z._w,Y=G._x,D=G._y,Q=G._z,ee=G._w;return this._x=W*ee+J*Y+F*Q-U*D,this._y=F*ee+J*D+U*Y-W*Q,this._z=U*ee+J*Q+W*D-F*Y,this._w=J*ee-W*Y-F*D-U*Q,this._onChangeCallback(),this}slerp(Z,G){if(G===0)return this;if(G===1)return this.copy(Z);const W=this._x,F=this._y,U=this._z,J=this._w;let Y=J*Z._w+W*Z._x+F*Z._y+U*Z._z;if(Y<0?(this._w=-Z._w,this._x=-Z._x,this._y=-Z._y,this._z=-Z._z,Y=-Y):this.copy(Z),Y>=1)return this._w=J,this._x=W,this._y=F,this._z=U,this;const D=1-Y*Y;if(D<=Number.EPSILON){const ie=1-G;return this._w=ie*J+G*this._w,this._x=ie*W+G*this._x,this._y=ie*F+G*this._y,this._z=ie*U+G*this._z,this.normalize(),this._onChangeCallback(),this}const Q=Math.sqrt(D),ee=Math.atan2(Q,Y),q=Math.sin((1-G)*ee)/Q,te=Math.sin(G*ee)/Q;return this._w=J*q+this._w*te,this._x=W*q+this._x*te,this._y=F*q+this._y*te,this._z=U*q+this._z*te,this._onChangeCallback(),this}slerpQuaternions(Z,G,W){return this.copy(Z).slerp(G,W)}random(){const Z=Math.random(),G=Math.sqrt(1-Z),W=Math.sqrt(Z),F=2*Math.PI*Math.random(),U=2*Math.PI*Math.random();return this.set(G*Math.cos(F),W*Math.sin(U),W*Math.cos(U),G*Math.sin(F))}equals(Z){return Z._x===this._x&&Z._y===this._y&&Z._z===this._z&&Z._w===this._w}fromArray(Z,G=0){return this._x=Z[G],this._y=Z[G+1],this._z=Z[G+2],this._w=Z[G+3],this._onChangeCallback(),this}toArray(Z=[],G=0){return Z[G]=this._x,Z[G+1]=this._y,Z[G+2]=this._z,Z[G+3]=this._w,Z}fromBufferAttribute(Z,G){return this._x=Z.getX(G),this._y=Z.getY(G),this._z=Z.getZ(G),this._w=Z.getW(G),this}toJSON(){return this.toArray()}_onChange(Z){return this._onChangeCallback=Z,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(Z=0,G=0,W=0){Vector3.prototype.isVector3=!0,this.x=Z,this.y=G,this.z=W}set(Z,G,W){return W===void 0&&(W=this.z),this.x=Z,this.y=G,this.z=W,this}setScalar(Z){return this.x=Z,this.y=Z,this.z=Z,this}setX(Z){return this.x=Z,this}setY(Z){return this.y=Z,this}setZ(Z){return this.z=Z,this}setComponent(Z,G){switch(Z){case 0:this.x=G;break;case 1:this.y=G;break;case 2:this.z=G;break;default:throw new Error("index is out of range: "+Z)}return this}getComponent(Z){switch(Z){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+Z)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(Z){return this.x=Z.x,this.y=Z.y,this.z=Z.z,this}add(Z){return this.x+=Z.x,this.y+=Z.y,this.z+=Z.z,this}addScalar(Z){return this.x+=Z,this.y+=Z,this.z+=Z,this}addVectors(Z,G){return this.x=Z.x+G.x,this.y=Z.y+G.y,this.z=Z.z+G.z,this}addScaledVector(Z,G){return this.x+=Z.x*G,this.y+=Z.y*G,this.z+=Z.z*G,this}sub(Z){return this.x-=Z.x,this.y-=Z.y,this.z-=Z.z,this}subScalar(Z){return this.x-=Z,this.y-=Z,this.z-=Z,this}subVectors(Z,G){return this.x=Z.x-G.x,this.y=Z.y-G.y,this.z=Z.z-G.z,this}multiply(Z){return this.x*=Z.x,this.y*=Z.y,this.z*=Z.z,this}multiplyScalar(Z){return this.x*=Z,this.y*=Z,this.z*=Z,this}multiplyVectors(Z,G){return this.x=Z.x*G.x,this.y=Z.y*G.y,this.z=Z.z*G.z,this}applyEuler(Z){return this.applyQuaternion(_quaternion$4.setFromEuler(Z))}applyAxisAngle(Z,G){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(Z,G))}applyMatrix3(Z){const G=this.x,W=this.y,F=this.z,U=Z.elements;return this.x=U[0]*G+U[3]*W+U[6]*F,this.y=U[1]*G+U[4]*W+U[7]*F,this.z=U[2]*G+U[5]*W+U[8]*F,this}applyNormalMatrix(Z){return this.applyMatrix3(Z).normalize()}applyMatrix4(Z){const G=this.x,W=this.y,F=this.z,U=Z.elements,J=1/(U[3]*G+U[7]*W+U[11]*F+U[15]);return this.x=(U[0]*G+U[4]*W+U[8]*F+U[12])*J,this.y=(U[1]*G+U[5]*W+U[9]*F+U[13])*J,this.z=(U[2]*G+U[6]*W+U[10]*F+U[14])*J,this}applyQuaternion(Z){const G=this.x,W=this.y,F=this.z,U=Z.x,J=Z.y,Y=Z.z,D=Z.w,Q=2*(J*F-Y*W),ee=2*(Y*G-U*F),q=2*(U*W-J*G);return this.x=G+D*Q+J*q-Y*ee,this.y=W+D*ee+Y*Q-U*q,this.z=F+D*q+U*ee-J*Q,this}project(Z){return this.applyMatrix4(Z.matrixWorldInverse).applyMatrix4(Z.projectionMatrix)}unproject(Z){return this.applyMatrix4(Z.projectionMatrixInverse).applyMatrix4(Z.matrixWorld)}transformDirection(Z){const G=this.x,W=this.y,F=this.z,U=Z.elements;return this.x=U[0]*G+U[4]*W+U[8]*F,this.y=U[1]*G+U[5]*W+U[9]*F,this.z=U[2]*G+U[6]*W+U[10]*F,this.normalize()}divide(Z){return this.x/=Z.x,this.y/=Z.y,this.z/=Z.z,this}divideScalar(Z){return this.multiplyScalar(1/Z)}min(Z){return this.x=Math.min(this.x,Z.x),this.y=Math.min(this.y,Z.y),this.z=Math.min(this.z,Z.z),this}max(Z){return this.x=Math.max(this.x,Z.x),this.y=Math.max(this.y,Z.y),this.z=Math.max(this.z,Z.z),this}clamp(Z,G){return this.x=Math.max(Z.x,Math.min(G.x,this.x)),this.y=Math.max(Z.y,Math.min(G.y,this.y)),this.z=Math.max(Z.z,Math.min(G.z,this.z)),this}clampScalar(Z,G){return this.x=Math.max(Z,Math.min(G,this.x)),this.y=Math.max(Z,Math.min(G,this.y)),this.z=Math.max(Z,Math.min(G,this.z)),this}clampLength(Z,G){const W=this.length();return this.divideScalar(W||1).multiplyScalar(Math.max(Z,Math.min(G,W)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(Z){return this.x*Z.x+this.y*Z.y+this.z*Z.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(Z){return this.normalize().multiplyScalar(Z)}lerp(Z,G){return this.x+=(Z.x-this.x)*G,this.y+=(Z.y-this.y)*G,this.z+=(Z.z-this.z)*G,this}lerpVectors(Z,G,W){return this.x=Z.x+(G.x-Z.x)*W,this.y=Z.y+(G.y-Z.y)*W,this.z=Z.z+(G.z-Z.z)*W,this}cross(Z){return this.crossVectors(this,Z)}crossVectors(Z,G){const W=Z.x,F=Z.y,U=Z.z,J=G.x,Y=G.y,D=G.z;return this.x=F*D-U*Y,this.y=U*J-W*D,this.z=W*Y-F*J,this}projectOnVector(Z){const G=Z.lengthSq();if(G===0)return this.set(0,0,0);const W=Z.dot(this)/G;return this.copy(Z).multiplyScalar(W)}projectOnPlane(Z){return _vector$b.copy(this).projectOnVector(Z),this.sub(_vector$b)}reflect(Z){return this.sub(_vector$b.copy(Z).multiplyScalar(2*this.dot(Z)))}angleTo(Z){const G=Math.sqrt(this.lengthSq()*Z.lengthSq());if(G===0)return Math.PI/2;const W=this.dot(Z)/G;return Math.acos(clamp(W,-1,1))}distanceTo(Z){return Math.sqrt(this.distanceToSquared(Z))}distanceToSquared(Z){const G=this.x-Z.x,W=this.y-Z.y,F=this.z-Z.z;return G*G+W*W+F*F}manhattanDistanceTo(Z){return Math.abs(this.x-Z.x)+Math.abs(this.y-Z.y)+Math.abs(this.z-Z.z)}setFromSpherical(Z){return this.setFromSphericalCoords(Z.radius,Z.phi,Z.theta)}setFromSphericalCoords(Z,G,W){const F=Math.sin(G)*Z;return this.x=F*Math.sin(W),this.y=Math.cos(G)*Z,this.z=F*Math.cos(W),this}setFromCylindrical(Z){return this.setFromCylindricalCoords(Z.radius,Z.theta,Z.y)}setFromCylindricalCoords(Z,G,W){return this.x=Z*Math.sin(G),this.y=W,this.z=Z*Math.cos(G),this}setFromMatrixPosition(Z){const G=Z.elements;return this.x=G[12],this.y=G[13],this.z=G[14],this}setFromMatrixScale(Z){const G=this.setFromMatrixColumn(Z,0).length(),W=this.setFromMatrixColumn(Z,1).length(),F=this.setFromMatrixColumn(Z,2).length();return this.x=G,this.y=W,this.z=F,this}setFromMatrixColumn(Z,G){return this.fromArray(Z.elements,G*4)}setFromMatrix3Column(Z,G){return this.fromArray(Z.elements,G*3)}setFromEuler(Z){return this.x=Z._x,this.y=Z._y,this.z=Z._z,this}setFromColor(Z){return this.x=Z.r,this.y=Z.g,this.z=Z.b,this}equals(Z){return Z.x===this.x&&Z.y===this.y&&Z.z===this.z}fromArray(Z,G=0){return this.x=Z[G],this.y=Z[G+1],this.z=Z[G+2],this}toArray(Z=[],G=0){return Z[G]=this.x,Z[G+1]=this.y,Z[G+2]=this.z,Z}fromBufferAttribute(Z,G){return this.x=Z.getX(G),this.y=Z.getY(G),this.z=Z.getZ(G),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const Z=(Math.random()-.5)*2,G=Math.random()*Math.PI*2,W=Math.sqrt(1-Z**2);return this.x=W*Math.cos(G),this.y=W*Math.sin(G),this.z=Z,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$b=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(Z=new Vector3(1/0,1/0,1/0),G=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=Z,this.max=G}set(Z,G){return this.min.copy(Z),this.max.copy(G),this}setFromArray(Z){this.makeEmpty();for(let G=0,W=Z.length;G<W;G+=3)this.expandByPoint(_vector$a.fromArray(Z,G));return this}setFromBufferAttribute(Z){this.makeEmpty();for(let G=0,W=Z.count;G<W;G++)this.expandByPoint(_vector$a.fromBufferAttribute(Z,G));return this}setFromPoints(Z){this.makeEmpty();for(let G=0,W=Z.length;G<W;G++)this.expandByPoint(Z[G]);return this}setFromCenterAndSize(Z,G){const W=_vector$a.copy(G).multiplyScalar(.5);return this.min.copy(Z).sub(W),this.max.copy(Z).add(W),this}setFromObject(Z,G=!1){return this.makeEmpty(),this.expandByObject(Z,G)}clone(){return new this.constructor().copy(this)}copy(Z){return this.min.copy(Z.min),this.max.copy(Z.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(Z){return this.isEmpty()?Z.set(0,0,0):Z.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(Z){return this.isEmpty()?Z.set(0,0,0):Z.subVectors(this.max,this.min)}expandByPoint(Z){return this.min.min(Z),this.max.max(Z),this}expandByVector(Z){return this.min.sub(Z),this.max.add(Z),this}expandByScalar(Z){return this.min.addScalar(-Z),this.max.addScalar(Z),this}expandByObject(Z,G=!1){Z.updateWorldMatrix(!1,!1);const W=Z.geometry;if(W!==void 0){const U=W.getAttribute("position");if(G===!0&&U!==void 0&&Z.isInstancedMesh!==!0)for(let J=0,Y=U.count;J<Y;J++)Z.isMesh===!0?Z.getVertexPosition(J,_vector$a):_vector$a.fromBufferAttribute(U,J),_vector$a.applyMatrix4(Z.matrixWorld),this.expandByPoint(_vector$a);else Z.boundingBox!==void 0?(Z.boundingBox===null&&Z.computeBoundingBox(),_box$3.copy(Z.boundingBox)):(W.boundingBox===null&&W.computeBoundingBox(),_box$3.copy(W.boundingBox)),_box$3.applyMatrix4(Z.matrixWorld),this.union(_box$3)}const F=Z.children;for(let U=0,J=F.length;U<J;U++)this.expandByObject(F[U],G);return this}containsPoint(Z){return!(Z.x<this.min.x||Z.x>this.max.x||Z.y<this.min.y||Z.y>this.max.y||Z.z<this.min.z||Z.z>this.max.z)}containsBox(Z){return this.min.x<=Z.min.x&&Z.max.x<=this.max.x&&this.min.y<=Z.min.y&&Z.max.y<=this.max.y&&this.min.z<=Z.min.z&&Z.max.z<=this.max.z}getParameter(Z,G){return G.set((Z.x-this.min.x)/(this.max.x-this.min.x),(Z.y-this.min.y)/(this.max.y-this.min.y),(Z.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(Z){return!(Z.max.x<this.min.x||Z.min.x>this.max.x||Z.max.y<this.min.y||Z.min.y>this.max.y||Z.max.z<this.min.z||Z.min.z>this.max.z)}intersectsSphere(Z){return this.clampPoint(Z.center,_vector$a),_vector$a.distanceToSquared(Z.center)<=Z.radius*Z.radius}intersectsPlane(Z){let G,W;return Z.normal.x>0?(G=Z.normal.x*this.min.x,W=Z.normal.x*this.max.x):(G=Z.normal.x*this.max.x,W=Z.normal.x*this.min.x),Z.normal.y>0?(G+=Z.normal.y*this.min.y,W+=Z.normal.y*this.max.y):(G+=Z.normal.y*this.max.y,W+=Z.normal.y*this.min.y),Z.normal.z>0?(G+=Z.normal.z*this.min.z,W+=Z.normal.z*this.max.z):(G+=Z.normal.z*this.max.z,W+=Z.normal.z*this.min.z),G<=-Z.constant&&W>=-Z.constant}intersectsTriangle(Z){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(Z.a,_center),_v1$7.subVectors(Z.b,_center),_v2$4.subVectors(Z.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let G=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(G,_v0$2,_v1$7,_v2$4,_extents)||(G=[1,0,0,0,1,0,0,0,1],!satForAxes(G,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),G=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(G,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(Z,G){return G.copy(Z).clamp(this.min,this.max)}distanceToPoint(Z){return this.clampPoint(Z,_vector$a).distanceTo(Z)}getBoundingSphere(Z){return this.isEmpty()?Z.makeEmpty():(this.getCenter(Z.center),Z.radius=this.getSize(_vector$a).length()*.5),Z}intersect(Z){return this.min.max(Z.min),this.max.min(Z.max),this.isEmpty()&&this.makeEmpty(),this}union(Z){return this.min.min(Z.min),this.max.max(Z.max),this}applyMatrix4(Z){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(Z),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(Z),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(Z),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(Z),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(Z),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(Z),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(Z),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(Z),this.setFromPoints(_points),this)}translate(Z){return this.min.add(Z),this.max.add(Z),this}equals(Z){return Z.min.equals(this.min)&&Z.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$a=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(X,Z,G,W,F){for(let U=0,J=X.length-3;U<=J;U+=3){_testAxis.fromArray(X,U);const Y=F.x*Math.abs(_testAxis.x)+F.y*Math.abs(_testAxis.y)+F.z*Math.abs(_testAxis.z),D=Z.dot(_testAxis),Q=G.dot(_testAxis),ee=W.dot(_testAxis);if(Math.max(-Math.max(D,Q,ee),Math.min(D,Q,ee))>Y)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(Z=new Vector3,G=-1){this.center=Z,this.radius=G}set(Z,G){return this.center.copy(Z),this.radius=G,this}setFromPoints(Z,G){const W=this.center;G!==void 0?W.copy(G):_box$2.setFromPoints(Z).getCenter(W);let F=0;for(let U=0,J=Z.length;U<J;U++)F=Math.max(F,W.distanceToSquared(Z[U]));return this.radius=Math.sqrt(F),this}copy(Z){return this.center.copy(Z.center),this.radius=Z.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(Z){return Z.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(Z){return Z.distanceTo(this.center)-this.radius}intersectsSphere(Z){const G=this.radius+Z.radius;return Z.center.distanceToSquared(this.center)<=G*G}intersectsBox(Z){return Z.intersectsSphere(this)}intersectsPlane(Z){return Math.abs(Z.distanceToPoint(this.center))<=this.radius}clampPoint(Z,G){const W=this.center.distanceToSquared(Z);return G.copy(Z),W>this.radius*this.radius&&(G.sub(this.center).normalize(),G.multiplyScalar(this.radius).add(this.center)),G}getBoundingBox(Z){return this.isEmpty()?(Z.makeEmpty(),Z):(Z.set(this.center,this.center),Z.expandByScalar(this.radius),Z)}applyMatrix4(Z){return this.center.applyMatrix4(Z),this.radius=this.radius*Z.getMaxScaleOnAxis(),this}translate(Z){return this.center.add(Z),this}expandByPoint(Z){if(this.isEmpty())return this.center.copy(Z),this.radius=0,this;_v1$6.subVectors(Z,this.center);const G=_v1$6.lengthSq();if(G>this.radius*this.radius){const W=Math.sqrt(G),F=(W-this.radius)*.5;this.center.addScaledVector(_v1$6,F/W),this.radius+=F}return this}union(Z){return Z.isEmpty()?this:this.isEmpty()?(this.copy(Z),this):(this.center.equals(Z.center)===!0?this.radius=Math.max(this.radius,Z.radius):(_v2$3.subVectors(Z.center,this.center).setLength(Z.radius),this.expandByPoint(_v1$6.copy(Z.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(Z.center).sub(_v2$3))),this)}equals(Z){return Z.center.equals(this.center)&&Z.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$9=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(Z=new Vector3,G=new Vector3(0,0,-1)){this.origin=Z,this.direction=G}set(Z,G){return this.origin.copy(Z),this.direction.copy(G),this}copy(Z){return this.origin.copy(Z.origin),this.direction.copy(Z.direction),this}at(Z,G){return G.copy(this.origin).addScaledVector(this.direction,Z)}lookAt(Z){return this.direction.copy(Z).sub(this.origin).normalize(),this}recast(Z){return this.origin.copy(this.at(Z,_vector$9)),this}closestPointToPoint(Z,G){G.subVectors(Z,this.origin);const W=G.dot(this.direction);return W<0?G.copy(this.origin):G.copy(this.origin).addScaledVector(this.direction,W)}distanceToPoint(Z){return Math.sqrt(this.distanceSqToPoint(Z))}distanceSqToPoint(Z){const G=_vector$9.subVectors(Z,this.origin).dot(this.direction);return G<0?this.origin.distanceToSquared(Z):(_vector$9.copy(this.origin).addScaledVector(this.direction,G),_vector$9.distanceToSquared(Z))}distanceSqToSegment(Z,G,W,F){_segCenter.copy(Z).add(G).multiplyScalar(.5),_segDir.copy(G).sub(Z).normalize(),_diff.copy(this.origin).sub(_segCenter);const U=Z.distanceTo(G)*.5,J=-this.direction.dot(_segDir),Y=_diff.dot(this.direction),D=-_diff.dot(_segDir),Q=_diff.lengthSq(),ee=Math.abs(1-J*J);let q,te,ie,ne;if(ee>0)if(q=J*D-Y,te=J*Y-D,ne=U*ee,q>=0)if(te>=-ne)if(te<=ne){const ce=1/ee;q*=ce,te*=ce,ie=q*(q+J*te+2*Y)+te*(J*q+te+2*D)+Q}else te=U,q=Math.max(0,-(J*te+Y)),ie=-q*q+te*(te+2*D)+Q;else te=-U,q=Math.max(0,-(J*te+Y)),ie=-q*q+te*(te+2*D)+Q;else te<=-ne?(q=Math.max(0,-(-J*U+Y)),te=q>0?-U:Math.min(Math.max(-U,-D),U),ie=-q*q+te*(te+2*D)+Q):te<=ne?(q=0,te=Math.min(Math.max(-U,-D),U),ie=te*(te+2*D)+Q):(q=Math.max(0,-(J*U+Y)),te=q>0?U:Math.min(Math.max(-U,-D),U),ie=-q*q+te*(te+2*D)+Q);else te=J>0?-U:U,q=Math.max(0,-(J*te+Y)),ie=-q*q+te*(te+2*D)+Q;return W&&W.copy(this.origin).addScaledVector(this.direction,q),F&&F.copy(_segCenter).addScaledVector(_segDir,te),ie}intersectSphere(Z,G){_vector$9.subVectors(Z.center,this.origin);const W=_vector$9.dot(this.direction),F=_vector$9.dot(_vector$9)-W*W,U=Z.radius*Z.radius;if(F>U)return null;const J=Math.sqrt(U-F),Y=W-J,D=W+J;return D<0?null:Y<0?this.at(D,G):this.at(Y,G)}intersectsSphere(Z){return this.distanceSqToPoint(Z.center)<=Z.radius*Z.radius}distanceToPlane(Z){const G=Z.normal.dot(this.direction);if(G===0)return Z.distanceToPoint(this.origin)===0?0:null;const W=-(this.origin.dot(Z.normal)+Z.constant)/G;return W>=0?W:null}intersectPlane(Z,G){const W=this.distanceToPlane(Z);return W===null?null:this.at(W,G)}intersectsPlane(Z){const G=Z.distanceToPoint(this.origin);return G===0||Z.normal.dot(this.direction)*G<0}intersectBox(Z,G){let W,F,U,J,Y,D;const Q=1/this.direction.x,ee=1/this.direction.y,q=1/this.direction.z,te=this.origin;return Q>=0?(W=(Z.min.x-te.x)*Q,F=(Z.max.x-te.x)*Q):(W=(Z.max.x-te.x)*Q,F=(Z.min.x-te.x)*Q),ee>=0?(U=(Z.min.y-te.y)*ee,J=(Z.max.y-te.y)*ee):(U=(Z.max.y-te.y)*ee,J=(Z.min.y-te.y)*ee),W>J||U>F||((U>W||isNaN(W))&&(W=U),(J<F||isNaN(F))&&(F=J),q>=0?(Y=(Z.min.z-te.z)*q,D=(Z.max.z-te.z)*q):(Y=(Z.max.z-te.z)*q,D=(Z.min.z-te.z)*q),W>D||Y>F)||((Y>W||W!==W)&&(W=Y),(D<F||F!==F)&&(F=D),F<0)?null:this.at(W>=0?W:F,G)}intersectsBox(Z){return this.intersectBox(Z,_vector$9)!==null}intersectTriangle(Z,G,W,F,U){_edge1.subVectors(G,Z),_edge2.subVectors(W,Z),_normal$1.crossVectors(_edge1,_edge2);let J=this.direction.dot(_normal$1),Y;if(J>0){if(F)return null;Y=1}else if(J<0)Y=-1,J=-J;else return null;_diff.subVectors(this.origin,Z);const D=Y*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(D<0)return null;const Q=Y*this.direction.dot(_edge1.cross(_diff));if(Q<0||D+Q>J)return null;const ee=-Y*_diff.dot(_normal$1);return ee<0?null:this.at(ee/J,U)}applyMatrix4(Z){return this.origin.applyMatrix4(Z),this.direction.transformDirection(Z),this}equals(Z){return Z.origin.equals(this.origin)&&Z.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce,le){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Z!==void 0&&this.set(Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce,le)}set(Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce,le){const se=this.elements;return se[0]=Z,se[4]=G,se[8]=W,se[12]=F,se[1]=U,se[5]=J,se[9]=Y,se[13]=D,se[2]=Q,se[6]=ee,se[10]=q,se[14]=te,se[3]=ie,se[7]=ne,se[11]=ce,se[15]=le,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(Z){const G=this.elements,W=Z.elements;return G[0]=W[0],G[1]=W[1],G[2]=W[2],G[3]=W[3],G[4]=W[4],G[5]=W[5],G[6]=W[6],G[7]=W[7],G[8]=W[8],G[9]=W[9],G[10]=W[10],G[11]=W[11],G[12]=W[12],G[13]=W[13],G[14]=W[14],G[15]=W[15],this}copyPosition(Z){const G=this.elements,W=Z.elements;return G[12]=W[12],G[13]=W[13],G[14]=W[14],this}setFromMatrix3(Z){const G=Z.elements;return this.set(G[0],G[3],G[6],0,G[1],G[4],G[7],0,G[2],G[5],G[8],0,0,0,0,1),this}extractBasis(Z,G,W){return Z.setFromMatrixColumn(this,0),G.setFromMatrixColumn(this,1),W.setFromMatrixColumn(this,2),this}makeBasis(Z,G,W){return this.set(Z.x,G.x,W.x,0,Z.y,G.y,W.y,0,Z.z,G.z,W.z,0,0,0,0,1),this}extractRotation(Z){const G=this.elements,W=Z.elements,F=1/_v1$5.setFromMatrixColumn(Z,0).length(),U=1/_v1$5.setFromMatrixColumn(Z,1).length(),J=1/_v1$5.setFromMatrixColumn(Z,2).length();return G[0]=W[0]*F,G[1]=W[1]*F,G[2]=W[2]*F,G[3]=0,G[4]=W[4]*U,G[5]=W[5]*U,G[6]=W[6]*U,G[7]=0,G[8]=W[8]*J,G[9]=W[9]*J,G[10]=W[10]*J,G[11]=0,G[12]=0,G[13]=0,G[14]=0,G[15]=1,this}makeRotationFromEuler(Z){const G=this.elements,W=Z.x,F=Z.y,U=Z.z,J=Math.cos(W),Y=Math.sin(W),D=Math.cos(F),Q=Math.sin(F),ee=Math.cos(U),q=Math.sin(U);if(Z.order==="XYZ"){const te=J*ee,ie=J*q,ne=Y*ee,ce=Y*q;G[0]=D*ee,G[4]=-D*q,G[8]=Q,G[1]=ie+ne*Q,G[5]=te-ce*Q,G[9]=-Y*D,G[2]=ce-te*Q,G[6]=ne+ie*Q,G[10]=J*D}else if(Z.order==="YXZ"){const te=D*ee,ie=D*q,ne=Q*ee,ce=Q*q;G[0]=te+ce*Y,G[4]=ne*Y-ie,G[8]=J*Q,G[1]=J*q,G[5]=J*ee,G[9]=-Y,G[2]=ie*Y-ne,G[6]=ce+te*Y,G[10]=J*D}else if(Z.order==="ZXY"){const te=D*ee,ie=D*q,ne=Q*ee,ce=Q*q;G[0]=te-ce*Y,G[4]=-J*q,G[8]=ne+ie*Y,G[1]=ie+ne*Y,G[5]=J*ee,G[9]=ce-te*Y,G[2]=-J*Q,G[6]=Y,G[10]=J*D}else if(Z.order==="ZYX"){const te=J*ee,ie=J*q,ne=Y*ee,ce=Y*q;G[0]=D*ee,G[4]=ne*Q-ie,G[8]=te*Q+ce,G[1]=D*q,G[5]=ce*Q+te,G[9]=ie*Q-ne,G[2]=-Q,G[6]=Y*D,G[10]=J*D}else if(Z.order==="YZX"){const te=J*D,ie=J*Q,ne=Y*D,ce=Y*Q;G[0]=D*ee,G[4]=ce-te*q,G[8]=ne*q+ie,G[1]=q,G[5]=J*ee,G[9]=-Y*ee,G[2]=-Q*ee,G[6]=ie*q+ne,G[10]=te-ce*q}else if(Z.order==="XZY"){const te=J*D,ie=J*Q,ne=Y*D,ce=Y*Q;G[0]=D*ee,G[4]=-q,G[8]=Q*ee,G[1]=te*q+ce,G[5]=J*ee,G[9]=ie*q-ne,G[2]=ne*q-ie,G[6]=Y*ee,G[10]=ce*q+te}return G[3]=0,G[7]=0,G[11]=0,G[12]=0,G[13]=0,G[14]=0,G[15]=1,this}makeRotationFromQuaternion(Z){return this.compose(_zero,Z,_one)}lookAt(Z,G,W){const F=this.elements;return _z.subVectors(Z,G),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(W,_z),_x.lengthSq()===0&&(Math.abs(W.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(W,_z)),_x.normalize(),_y.crossVectors(_z,_x),F[0]=_x.x,F[4]=_y.x,F[8]=_z.x,F[1]=_x.y,F[5]=_y.y,F[9]=_z.y,F[2]=_x.z,F[6]=_y.z,F[10]=_z.z,this}multiply(Z){return this.multiplyMatrices(this,Z)}premultiply(Z){return this.multiplyMatrices(Z,this)}multiplyMatrices(Z,G){const W=Z.elements,F=G.elements,U=this.elements,J=W[0],Y=W[4],D=W[8],Q=W[12],ee=W[1],q=W[5],te=W[9],ie=W[13],ne=W[2],ce=W[6],le=W[10],se=W[14],pe=W[3],ue=W[7],ae=W[11],de=W[15],be=F[0],he=F[4],Le=F[8],Xe=F[12],We=F[1],fe=F[5],Re=F[9],ye=F[13],re=F[2],Ze=F[6],Ge=F[10],ve=F[14],Te=F[3],xe=F[7],Ye=F[11],ge=F[15];return U[0]=J*be+Y*We+D*re+Q*Te,U[4]=J*he+Y*fe+D*Ze+Q*xe,U[8]=J*Le+Y*Re+D*Ge+Q*Ye,U[12]=J*Xe+Y*ye+D*ve+Q*ge,U[1]=ee*be+q*We+te*re+ie*Te,U[5]=ee*he+q*fe+te*Ze+ie*xe,U[9]=ee*Le+q*Re+te*Ge+ie*Ye,U[13]=ee*Xe+q*ye+te*ve+ie*ge,U[2]=ne*be+ce*We+le*re+se*Te,U[6]=ne*he+ce*fe+le*Ze+se*xe,U[10]=ne*Le+ce*Re+le*Ge+se*Ye,U[14]=ne*Xe+ce*ye+le*ve+se*ge,U[3]=pe*be+ue*We+ae*re+de*Te,U[7]=pe*he+ue*fe+ae*Ze+de*xe,U[11]=pe*Le+ue*Re+ae*Ge+de*Ye,U[15]=pe*Xe+ue*ye+ae*ve+de*ge,this}multiplyScalar(Z){const G=this.elements;return G[0]*=Z,G[4]*=Z,G[8]*=Z,G[12]*=Z,G[1]*=Z,G[5]*=Z,G[9]*=Z,G[13]*=Z,G[2]*=Z,G[6]*=Z,G[10]*=Z,G[14]*=Z,G[3]*=Z,G[7]*=Z,G[11]*=Z,G[15]*=Z,this}determinant(){const Z=this.elements,G=Z[0],W=Z[4],F=Z[8],U=Z[12],J=Z[1],Y=Z[5],D=Z[9],Q=Z[13],ee=Z[2],q=Z[6],te=Z[10],ie=Z[14],ne=Z[3],ce=Z[7],le=Z[11],se=Z[15];return ne*(+U*D*q-F*Q*q-U*Y*te+W*Q*te+F*Y*ie-W*D*ie)+ce*(+G*D*ie-G*Q*te+U*J*te-F*J*ie+F*Q*ee-U*D*ee)+le*(+G*Q*q-G*Y*ie-U*J*q+W*J*ie+U*Y*ee-W*Q*ee)+se*(-F*Y*ee-G*D*q+G*Y*te+F*J*q-W*J*te+W*D*ee)}transpose(){const Z=this.elements;let G;return G=Z[1],Z[1]=Z[4],Z[4]=G,G=Z[2],Z[2]=Z[8],Z[8]=G,G=Z[6],Z[6]=Z[9],Z[9]=G,G=Z[3],Z[3]=Z[12],Z[12]=G,G=Z[7],Z[7]=Z[13],Z[13]=G,G=Z[11],Z[11]=Z[14],Z[14]=G,this}setPosition(Z,G,W){const F=this.elements;return Z.isVector3?(F[12]=Z.x,F[13]=Z.y,F[14]=Z.z):(F[12]=Z,F[13]=G,F[14]=W),this}invert(){const Z=this.elements,G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8],q=Z[9],te=Z[10],ie=Z[11],ne=Z[12],ce=Z[13],le=Z[14],se=Z[15],pe=q*le*Q-ce*te*Q+ce*D*ie-Y*le*ie-q*D*se+Y*te*se,ue=ne*te*Q-ee*le*Q-ne*D*ie+J*le*ie+ee*D*se-J*te*se,ae=ee*ce*Q-ne*q*Q+ne*Y*ie-J*ce*ie-ee*Y*se+J*q*se,de=ne*q*D-ee*ce*D-ne*Y*te+J*ce*te+ee*Y*le-J*q*le,be=G*pe+W*ue+F*ae+U*de;if(be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const he=1/be;return Z[0]=pe*he,Z[1]=(ce*te*U-q*le*U-ce*F*ie+W*le*ie+q*F*se-W*te*se)*he,Z[2]=(Y*le*U-ce*D*U+ce*F*Q-W*le*Q-Y*F*se+W*D*se)*he,Z[3]=(q*D*U-Y*te*U-q*F*Q+W*te*Q+Y*F*ie-W*D*ie)*he,Z[4]=ue*he,Z[5]=(ee*le*U-ne*te*U+ne*F*ie-G*le*ie-ee*F*se+G*te*se)*he,Z[6]=(ne*D*U-J*le*U-ne*F*Q+G*le*Q+J*F*se-G*D*se)*he,Z[7]=(J*te*U-ee*D*U+ee*F*Q-G*te*Q-J*F*ie+G*D*ie)*he,Z[8]=ae*he,Z[9]=(ne*q*U-ee*ce*U-ne*W*ie+G*ce*ie+ee*W*se-G*q*se)*he,Z[10]=(J*ce*U-ne*Y*U+ne*W*Q-G*ce*Q-J*W*se+G*Y*se)*he,Z[11]=(ee*Y*U-J*q*U-ee*W*Q+G*q*Q+J*W*ie-G*Y*ie)*he,Z[12]=de*he,Z[13]=(ee*ce*F-ne*q*F+ne*W*te-G*ce*te-ee*W*le+G*q*le)*he,Z[14]=(ne*Y*F-J*ce*F-ne*W*D+G*ce*D+J*W*le-G*Y*le)*he,Z[15]=(J*q*F-ee*Y*F+ee*W*D-G*q*D-J*W*te+G*Y*te)*he,this}scale(Z){const G=this.elements,W=Z.x,F=Z.y,U=Z.z;return G[0]*=W,G[4]*=F,G[8]*=U,G[1]*=W,G[5]*=F,G[9]*=U,G[2]*=W,G[6]*=F,G[10]*=U,G[3]*=W,G[7]*=F,G[11]*=U,this}getMaxScaleOnAxis(){const Z=this.elements,G=Z[0]*Z[0]+Z[1]*Z[1]+Z[2]*Z[2],W=Z[4]*Z[4]+Z[5]*Z[5]+Z[6]*Z[6],F=Z[8]*Z[8]+Z[9]*Z[9]+Z[10]*Z[10];return Math.sqrt(Math.max(G,W,F))}makeTranslation(Z,G,W){return Z.isVector3?this.set(1,0,0,Z.x,0,1,0,Z.y,0,0,1,Z.z,0,0,0,1):this.set(1,0,0,Z,0,1,0,G,0,0,1,W,0,0,0,1),this}makeRotationX(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(1,0,0,0,0,G,-W,0,0,W,G,0,0,0,0,1),this}makeRotationY(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(G,0,W,0,0,1,0,0,-W,0,G,0,0,0,0,1),this}makeRotationZ(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(G,-W,0,0,W,G,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(Z,G){const W=Math.cos(G),F=Math.sin(G),U=1-W,J=Z.x,Y=Z.y,D=Z.z,Q=U*J,ee=U*Y;return this.set(Q*J+W,Q*Y-F*D,Q*D+F*Y,0,Q*Y+F*D,ee*Y+W,ee*D-F*J,0,Q*D-F*Y,ee*D+F*J,U*D*D+W,0,0,0,0,1),this}makeScale(Z,G,W){return this.set(Z,0,0,0,0,G,0,0,0,0,W,0,0,0,0,1),this}makeShear(Z,G,W,F,U,J){return this.set(1,W,U,0,Z,1,J,0,G,F,1,0,0,0,0,1),this}compose(Z,G,W){const F=this.elements,U=G._x,J=G._y,Y=G._z,D=G._w,Q=U+U,ee=J+J,q=Y+Y,te=U*Q,ie=U*ee,ne=U*q,ce=J*ee,le=J*q,se=Y*q,pe=D*Q,ue=D*ee,ae=D*q,de=W.x,be=W.y,he=W.z;return F[0]=(1-(ce+se))*de,F[1]=(ie+ae)*de,F[2]=(ne-ue)*de,F[3]=0,F[4]=(ie-ae)*be,F[5]=(1-(te+se))*be,F[6]=(le+pe)*be,F[7]=0,F[8]=(ne+ue)*he,F[9]=(le-pe)*he,F[10]=(1-(te+ce))*he,F[11]=0,F[12]=Z.x,F[13]=Z.y,F[14]=Z.z,F[15]=1,this}decompose(Z,G,W){const F=this.elements;let U=_v1$5.set(F[0],F[1],F[2]).length();const J=_v1$5.set(F[4],F[5],F[6]).length(),Y=_v1$5.set(F[8],F[9],F[10]).length();this.determinant()<0&&(U=-U),Z.x=F[12],Z.y=F[13],Z.z=F[14],_m1$2.copy(this);const Q=1/U,ee=1/J,q=1/Y;return _m1$2.elements[0]*=Q,_m1$2.elements[1]*=Q,_m1$2.elements[2]*=Q,_m1$2.elements[4]*=ee,_m1$2.elements[5]*=ee,_m1$2.elements[6]*=ee,_m1$2.elements[8]*=q,_m1$2.elements[9]*=q,_m1$2.elements[10]*=q,G.setFromRotationMatrix(_m1$2),W.x=U,W.y=J,W.z=Y,this}makePerspective(Z,G,W,F,U,J,Y=WebGLCoordinateSystem){const D=this.elements,Q=2*U/(G-Z),ee=2*U/(W-F),q=(G+Z)/(G-Z),te=(W+F)/(W-F);let ie,ne;if(Y===WebGLCoordinateSystem)ie=-(J+U)/(J-U),ne=-2*J*U/(J-U);else if(Y===WebGPUCoordinateSystem)ie=-J/(J-U),ne=-J*U/(J-U);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+Y);return D[0]=Q,D[4]=0,D[8]=q,D[12]=0,D[1]=0,D[5]=ee,D[9]=te,D[13]=0,D[2]=0,D[6]=0,D[10]=ie,D[14]=ne,D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this}makeOrthographic(Z,G,W,F,U,J,Y=WebGLCoordinateSystem){const D=this.elements,Q=1/(G-Z),ee=1/(W-F),q=1/(J-U),te=(G+Z)*Q,ie=(W+F)*ee;let ne,ce;if(Y===WebGLCoordinateSystem)ne=(J+U)*q,ce=-2*q;else if(Y===WebGPUCoordinateSystem)ne=U*q,ce=-1*q;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+Y);return D[0]=2*Q,D[4]=0,D[8]=0,D[12]=-te,D[1]=0,D[5]=2*ee,D[9]=0,D[13]=-ie,D[2]=0,D[6]=0,D[10]=ce,D[14]=-ne,D[3]=0,D[7]=0,D[11]=0,D[15]=1,this}equals(Z){const G=this.elements,W=Z.elements;for(let F=0;F<16;F++)if(G[F]!==W[F])return!1;return!0}fromArray(Z,G=0){for(let W=0;W<16;W++)this.elements[W]=Z[W+G];return this}toArray(Z=[],G=0){const W=this.elements;return Z[G]=W[0],Z[G+1]=W[1],Z[G+2]=W[2],Z[G+3]=W[3],Z[G+4]=W[4],Z[G+5]=W[5],Z[G+6]=W[6],Z[G+7]=W[7],Z[G+8]=W[8],Z[G+9]=W[9],Z[G+10]=W[10],Z[G+11]=W[11],Z[G+12]=W[12],Z[G+13]=W[13],Z[G+14]=W[14],Z[G+15]=W[15],Z}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(Z=0,G=0,W=0,F=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=Z,this._y=G,this._z=W,this._order=F}get x(){return this._x}set x(Z){this._x=Z,this._onChangeCallback()}get y(){return this._y}set y(Z){this._y=Z,this._onChangeCallback()}get z(){return this._z}set z(Z){this._z=Z,this._onChangeCallback()}get order(){return this._order}set order(Z){this._order=Z,this._onChangeCallback()}set(Z,G,W,F=this._order){return this._x=Z,this._y=G,this._z=W,this._order=F,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(Z){return this._x=Z._x,this._y=Z._y,this._z=Z._z,this._order=Z._order,this._onChangeCallback(),this}setFromRotationMatrix(Z,G=this._order,W=!0){const F=Z.elements,U=F[0],J=F[4],Y=F[8],D=F[1],Q=F[5],ee=F[9],q=F[2],te=F[6],ie=F[10];switch(G){case"XYZ":this._y=Math.asin(clamp(Y,-1,1)),Math.abs(Y)<.9999999?(this._x=Math.atan2(-ee,ie),this._z=Math.atan2(-J,U)):(this._x=Math.atan2(te,Q),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ee,-1,1)),Math.abs(ee)<.9999999?(this._y=Math.atan2(Y,ie),this._z=Math.atan2(D,Q)):(this._y=Math.atan2(-q,U),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(te,-1,1)),Math.abs(te)<.9999999?(this._y=Math.atan2(-q,ie),this._z=Math.atan2(-J,Q)):(this._y=0,this._z=Math.atan2(D,U));break;case"ZYX":this._y=Math.asin(-clamp(q,-1,1)),Math.abs(q)<.9999999?(this._x=Math.atan2(te,ie),this._z=Math.atan2(D,U)):(this._x=0,this._z=Math.atan2(-J,Q));break;case"YZX":this._z=Math.asin(clamp(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(-ee,Q),this._y=Math.atan2(-q,U)):(this._x=0,this._y=Math.atan2(Y,ie));break;case"XZY":this._z=Math.asin(-clamp(J,-1,1)),Math.abs(J)<.9999999?(this._x=Math.atan2(te,Q),this._y=Math.atan2(Y,U)):(this._x=Math.atan2(-ee,ie),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+G)}return this._order=G,W===!0&&this._onChangeCallback(),this}setFromQuaternion(Z,G,W){return _matrix.makeRotationFromQuaternion(Z),this.setFromRotationMatrix(_matrix,G,W)}setFromVector3(Z,G=this._order){return this.set(Z.x,Z.y,Z.z,G)}reorder(Z){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,Z)}equals(Z){return Z._x===this._x&&Z._y===this._y&&Z._z===this._z&&Z._order===this._order}fromArray(Z){return this._x=Z[0],this._y=Z[1],this._z=Z[2],Z[3]!==void 0&&(this._order=Z[3]),this._onChangeCallback(),this}toArray(Z=[],G=0){return Z[G]=this._x,Z[G+1]=this._y,Z[G+2]=this._z,Z[G+3]=this._order,Z}_onChange(Z){return this._onChangeCallback=Z,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(Z){this.mask=(1<<Z|0)>>>0}enable(Z){this.mask|=1<<Z|0}enableAll(){this.mask=-1}toggle(Z){this.mask^=1<<Z|0}disable(Z){this.mask&=~(1<<Z|0)}disableAll(){this.mask=0}test(Z){return(this.mask&Z.mask)!==0}isEnabled(Z){return(this.mask&(1<<Z|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const Z=new Vector3,G=new Euler,W=new Quaternion,F=new Vector3(1,1,1);function U(){W.setFromEuler(G,!1)}function J(){G.setFromQuaternion(W,void 0,!1)}G._onChange(U),W._onChange(J),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:Z},rotation:{configurable:!0,enumerable:!0,value:G},quaternion:{configurable:!0,enumerable:!0,value:W},scale:{configurable:!0,enumerable:!0,value:F},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(Z){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(Z),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(Z){return this.quaternion.premultiply(Z),this}setRotationFromAxisAngle(Z,G){this.quaternion.setFromAxisAngle(Z,G)}setRotationFromEuler(Z){this.quaternion.setFromEuler(Z,!0)}setRotationFromMatrix(Z){this.quaternion.setFromRotationMatrix(Z)}setRotationFromQuaternion(Z){this.quaternion.copy(Z)}rotateOnAxis(Z,G){return _q1.setFromAxisAngle(Z,G),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(Z,G){return _q1.setFromAxisAngle(Z,G),this.quaternion.premultiply(_q1),this}rotateX(Z){return this.rotateOnAxis(_xAxis,Z)}rotateY(Z){return this.rotateOnAxis(_yAxis,Z)}rotateZ(Z){return this.rotateOnAxis(_zAxis,Z)}translateOnAxis(Z,G){return _v1$4.copy(Z).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(G)),this}translateX(Z){return this.translateOnAxis(_xAxis,Z)}translateY(Z){return this.translateOnAxis(_yAxis,Z)}translateZ(Z){return this.translateOnAxis(_zAxis,Z)}localToWorld(Z){return this.updateWorldMatrix(!0,!1),Z.applyMatrix4(this.matrixWorld)}worldToLocal(Z){return this.updateWorldMatrix(!0,!1),Z.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(Z,G,W){Z.isVector3?_target.copy(Z):_target.set(Z,G,W);const F=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),F&&(_m1$1.extractRotation(F.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(Z){if(arguments.length>1){for(let G=0;G<arguments.length;G++)this.add(arguments[G]);return this}return Z===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",Z),this):(Z&&Z.isObject3D?(Z.parent!==null&&Z.parent.remove(Z),Z.parent=this,this.children.push(Z),Z.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",Z),this)}remove(Z){if(arguments.length>1){for(let W=0;W<arguments.length;W++)this.remove(arguments[W]);return this}const G=this.children.indexOf(Z);return G!==-1&&(Z.parent=null,this.children.splice(G,1),Z.dispatchEvent(_removedEvent)),this}removeFromParent(){const Z=this.parent;return Z!==null&&Z.remove(this),this}clear(){return this.remove(...this.children)}attach(Z){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),Z.parent!==null&&(Z.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(Z.parent.matrixWorld)),Z.applyMatrix4(_m1$1),this.add(Z),Z.updateWorldMatrix(!1,!0),this}getObjectById(Z){return this.getObjectByProperty("id",Z)}getObjectByName(Z){return this.getObjectByProperty("name",Z)}getObjectByProperty(Z,G){if(this[Z]===G)return this;for(let W=0,F=this.children.length;W<F;W++){const J=this.children[W].getObjectByProperty(Z,G);if(J!==void 0)return J}}getObjectsByProperty(Z,G){let W=[];this[Z]===G&&W.push(this);for(let F=0,U=this.children.length;F<U;F++){const J=this.children[F].getObjectsByProperty(Z,G);J.length>0&&(W=W.concat(J))}return W}getWorldPosition(Z){return this.updateWorldMatrix(!0,!1),Z.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(Z){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,Z,_scale$2),Z}getWorldScale(Z){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,Z),Z}getWorldDirection(Z){this.updateWorldMatrix(!0,!1);const G=this.matrixWorld.elements;return Z.set(G[8],G[9],G[10]).normalize()}raycast(){}traverse(Z){Z(this);const G=this.children;for(let W=0,F=G.length;W<F;W++)G[W].traverse(Z)}traverseVisible(Z){if(this.visible===!1)return;Z(this);const G=this.children;for(let W=0,F=G.length;W<F;W++)G[W].traverseVisible(Z)}traverseAncestors(Z){const G=this.parent;G!==null&&(Z(G),G.traverseAncestors(Z))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(Z){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||Z)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,Z=!0);const G=this.children;for(let W=0,F=G.length;W<F;W++){const U=G[W];(U.matrixWorldAutoUpdate===!0||Z===!0)&&U.updateMatrixWorld(Z)}}updateWorldMatrix(Z,G){const W=this.parent;if(Z===!0&&W!==null&&W.matrixWorldAutoUpdate===!0&&W.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),G===!0){const F=this.children;for(let U=0,J=F.length;U<J;U++){const Y=F[U];Y.matrixWorldAutoUpdate===!0&&Y.updateWorldMatrix(!1,!0)}}}toJSON(Z){const G=Z===void 0||typeof Z=="string",W={};G&&(Z={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},W.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const F={};F.uuid=this.uuid,F.type=this.type,this.name!==""&&(F.name=this.name),this.castShadow===!0&&(F.castShadow=!0),this.receiveShadow===!0&&(F.receiveShadow=!0),this.visible===!1&&(F.visible=!1),this.frustumCulled===!1&&(F.frustumCulled=!1),this.renderOrder!==0&&(F.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(F.userData=this.userData),F.layers=this.layers.mask,F.matrix=this.matrix.toArray(),F.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(F.matrixAutoUpdate=!1),this.isInstancedMesh&&(F.type="InstancedMesh",F.count=this.count,F.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(F.instanceColor=this.instanceColor.toJSON()));function U(Y,D){return Y[D.uuid]===void 0&&(Y[D.uuid]=D.toJSON(Z)),D.uuid}if(this.isScene)this.background&&(this.background.isColor?F.background=this.background.toJSON():this.background.isTexture&&(F.background=this.background.toJSON(Z).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(F.environment=this.environment.toJSON(Z).uuid);else if(this.isMesh||this.isLine||this.isPoints){F.geometry=U(Z.geometries,this.geometry);const Y=this.geometry.parameters;if(Y!==void 0&&Y.shapes!==void 0){const D=Y.shapes;if(Array.isArray(D))for(let Q=0,ee=D.length;Q<ee;Q++){const q=D[Q];U(Z.shapes,q)}else U(Z.shapes,D)}}if(this.isSkinnedMesh&&(F.bindMode=this.bindMode,F.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(U(Z.skeletons,this.skeleton),F.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const Y=[];for(let D=0,Q=this.material.length;D<Q;D++)Y.push(U(Z.materials,this.material[D]));F.material=Y}else F.material=U(Z.materials,this.material);if(this.children.length>0){F.children=[];for(let Y=0;Y<this.children.length;Y++)F.children.push(this.children[Y].toJSON(Z).object)}if(this.animations.length>0){F.animations=[];for(let Y=0;Y<this.animations.length;Y++){const D=this.animations[Y];F.animations.push(U(Z.animations,D))}}if(G){const Y=J(Z.geometries),D=J(Z.materials),Q=J(Z.textures),ee=J(Z.images),q=J(Z.shapes),te=J(Z.skeletons),ie=J(Z.animations),ne=J(Z.nodes);Y.length>0&&(W.geometries=Y),D.length>0&&(W.materials=D),Q.length>0&&(W.textures=Q),ee.length>0&&(W.images=ee),q.length>0&&(W.shapes=q),te.length>0&&(W.skeletons=te),ie.length>0&&(W.animations=ie),ne.length>0&&(W.nodes=ne)}return W.object=F,W;function J(Y){const D=[];for(const Q in Y){const ee=Y[Q];delete ee.metadata,D.push(ee)}return D}}clone(Z){return new this.constructor().copy(this,Z)}copy(Z,G=!0){if(this.name=Z.name,this.up.copy(Z.up),this.position.copy(Z.position),this.rotation.order=Z.rotation.order,this.quaternion.copy(Z.quaternion),this.scale.copy(Z.scale),this.matrix.copy(Z.matrix),this.matrixWorld.copy(Z.matrixWorld),this.matrixAutoUpdate=Z.matrixAutoUpdate,this.matrixWorldNeedsUpdate=Z.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=Z.matrixWorldAutoUpdate,this.layers.mask=Z.layers.mask,this.visible=Z.visible,this.castShadow=Z.castShadow,this.receiveShadow=Z.receiveShadow,this.frustumCulled=Z.frustumCulled,this.renderOrder=Z.renderOrder,this.animations=Z.animations.slice(),this.userData=JSON.parse(JSON.stringify(Z.userData)),G===!0)for(let W=0;W<Z.children.length;W++){const F=Z.children[W];this.add(F.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(Z=new Vector3,G=new Vector3,W=new Vector3){this.a=Z,this.b=G,this.c=W}static getNormal(Z,G,W,F){F.subVectors(W,G),_v0$1.subVectors(Z,G),F.cross(_v0$1);const U=F.lengthSq();return U>0?F.multiplyScalar(1/Math.sqrt(U)):F.set(0,0,0)}static getBarycoord(Z,G,W,F,U){_v0$1.subVectors(F,G),_v1$3.subVectors(W,G),_v2$2.subVectors(Z,G);const J=_v0$1.dot(_v0$1),Y=_v0$1.dot(_v1$3),D=_v0$1.dot(_v2$2),Q=_v1$3.dot(_v1$3),ee=_v1$3.dot(_v2$2),q=J*Q-Y*Y;if(q===0)return U.set(-2,-1,-1);const te=1/q,ie=(Q*D-Y*ee)*te,ne=(J*ee-Y*D)*te;return U.set(1-ie-ne,ne,ie)}static containsPoint(Z,G,W,F){return this.getBarycoord(Z,G,W,F,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(Z,G,W,F,U,J,Y,D){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(Z,G,W,F,U,J,Y,D)}static getInterpolation(Z,G,W,F,U,J,Y,D){return this.getBarycoord(Z,G,W,F,_v3$1),D.setScalar(0),D.addScaledVector(U,_v3$1.x),D.addScaledVector(J,_v3$1.y),D.addScaledVector(Y,_v3$1.z),D}static isFrontFacing(Z,G,W,F){return _v0$1.subVectors(W,G),_v1$3.subVectors(Z,G),_v0$1.cross(_v1$3).dot(F)<0}set(Z,G,W){return this.a.copy(Z),this.b.copy(G),this.c.copy(W),this}setFromPointsAndIndices(Z,G,W,F){return this.a.copy(Z[G]),this.b.copy(Z[W]),this.c.copy(Z[F]),this}setFromAttributeAndIndices(Z,G,W,F){return this.a.fromBufferAttribute(Z,G),this.b.fromBufferAttribute(Z,W),this.c.fromBufferAttribute(Z,F),this}clone(){return new this.constructor().copy(this)}copy(Z){return this.a.copy(Z.a),this.b.copy(Z.b),this.c.copy(Z.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(Z){return Z.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(Z){return Triangle.getNormal(this.a,this.b,this.c,Z)}getPlane(Z){return Z.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(Z,G){return Triangle.getBarycoord(Z,this.a,this.b,this.c,G)}getUV(Z,G,W,F,U){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(Z,this.a,this.b,this.c,G,W,F,U)}getInterpolation(Z,G,W,F,U){return Triangle.getInterpolation(Z,this.a,this.b,this.c,G,W,F,U)}containsPoint(Z){return Triangle.containsPoint(Z,this.a,this.b,this.c)}isFrontFacing(Z){return Triangle.isFrontFacing(this.a,this.b,this.c,Z)}intersectsBox(Z){return Z.intersectsTriangle(this)}closestPointToPoint(Z,G){const W=this.a,F=this.b,U=this.c;let J,Y;_vab.subVectors(F,W),_vac.subVectors(U,W),_vap.subVectors(Z,W);const D=_vab.dot(_vap),Q=_vac.dot(_vap);if(D<=0&&Q<=0)return G.copy(W);_vbp.subVectors(Z,F);const ee=_vab.dot(_vbp),q=_vac.dot(_vbp);if(ee>=0&&q<=ee)return G.copy(F);const te=D*q-ee*Q;if(te<=0&&D>=0&&ee<=0)return J=D/(D-ee),G.copy(W).addScaledVector(_vab,J);_vcp.subVectors(Z,U);const ie=_vab.dot(_vcp),ne=_vac.dot(_vcp);if(ne>=0&&ie<=ne)return G.copy(U);const ce=ie*Q-D*ne;if(ce<=0&&Q>=0&&ne<=0)return Y=Q/(Q-ne),G.copy(W).addScaledVector(_vac,Y);const le=ee*ne-ie*q;if(le<=0&&q-ee>=0&&ie-ne>=0)return _vbc.subVectors(U,F),Y=(q-ee)/(q-ee+(ie-ne)),G.copy(F).addScaledVector(_vbc,Y);const se=1/(le+ce+te);return J=ce*se,Y=te*se,G.copy(W).addScaledVector(_vab,J).addScaledVector(_vac,Y)}equals(Z){return Z.a.equals(this.a)&&Z.b.equals(this.b)&&Z.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(X,Z,G){return G<0&&(G+=1),G>1&&(G-=1),G<1/6?X+(Z-X)*6*G:G<1/2?Z:G<2/3?X+(Z-X)*6*(2/3-G):X}class Color{constructor(Z,G,W){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(Z,G,W)}set(Z,G,W){if(G===void 0&&W===void 0){const F=Z;F&&F.isColor?this.copy(F):typeof F=="number"?this.setHex(F):typeof F=="string"&&this.setStyle(F)}else this.setRGB(Z,G,W);return this}setScalar(Z){return this.r=Z,this.g=Z,this.b=Z,this}setHex(Z,G=SRGBColorSpace){return Z=Math.floor(Z),this.r=(Z>>16&255)/255,this.g=(Z>>8&255)/255,this.b=(Z&255)/255,ColorManagement.toWorkingColorSpace(this,G),this}setRGB(Z,G,W,F=ColorManagement.workingColorSpace){return this.r=Z,this.g=G,this.b=W,ColorManagement.toWorkingColorSpace(this,F),this}setHSL(Z,G,W,F=ColorManagement.workingColorSpace){if(Z=euclideanModulo(Z,1),G=clamp(G,0,1),W=clamp(W,0,1),G===0)this.r=this.g=this.b=W;else{const U=W<=.5?W*(1+G):W+G-W*G,J=2*W-U;this.r=hue2rgb(J,U,Z+1/3),this.g=hue2rgb(J,U,Z),this.b=hue2rgb(J,U,Z-1/3)}return ColorManagement.toWorkingColorSpace(this,F),this}setStyle(Z,G=SRGBColorSpace){function W(U){U!==void 0&&parseFloat(U)<1&&console.warn("THREE.Color: Alpha component of "+Z+" will be ignored.")}let F;if(F=/^(\w+)\(([^\)]*)\)/.exec(Z)){let U;const J=F[1],Y=F[2];switch(J){case"rgb":case"rgba":if(U=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return W(U[4]),this.setRGB(Math.min(255,parseInt(U[1],10))/255,Math.min(255,parseInt(U[2],10))/255,Math.min(255,parseInt(U[3],10))/255,G);if(U=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return W(U[4]),this.setRGB(Math.min(100,parseInt(U[1],10))/100,Math.min(100,parseInt(U[2],10))/100,Math.min(100,parseInt(U[3],10))/100,G);break;case"hsl":case"hsla":if(U=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return W(U[4]),this.setHSL(parseFloat(U[1])/360,parseFloat(U[2])/100,parseFloat(U[3])/100,G);break;default:console.warn("THREE.Color: Unknown color model "+Z)}}else if(F=/^\#([A-Fa-f\d]+)$/.exec(Z)){const U=F[1],J=U.length;if(J===3)return this.setRGB(parseInt(U.charAt(0),16)/15,parseInt(U.charAt(1),16)/15,parseInt(U.charAt(2),16)/15,G);if(J===6)return this.setHex(parseInt(U,16),G);console.warn("THREE.Color: Invalid hex color "+Z)}else if(Z&&Z.length>0)return this.setColorName(Z,G);return this}setColorName(Z,G=SRGBColorSpace){const W=_colorKeywords[Z.toLowerCase()];return W!==void 0?this.setHex(W,G):console.warn("THREE.Color: Unknown color "+Z),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(Z){return this.r=Z.r,this.g=Z.g,this.b=Z.b,this}copySRGBToLinear(Z){return this.r=SRGBToLinear(Z.r),this.g=SRGBToLinear(Z.g),this.b=SRGBToLinear(Z.b),this}copyLinearToSRGB(Z){return this.r=LinearToSRGB(Z.r),this.g=LinearToSRGB(Z.g),this.b=LinearToSRGB(Z.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(Z=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color$1.copy(this),Z),Math.round(clamp(_color$1.r*255,0,255))*65536+Math.round(clamp(_color$1.g*255,0,255))*256+Math.round(clamp(_color$1.b*255,0,255))}getHexString(Z=SRGBColorSpace){return("000000"+this.getHex(Z).toString(16)).slice(-6)}getHSL(Z,G=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color$1.copy(this),G);const W=_color$1.r,F=_color$1.g,U=_color$1.b,J=Math.max(W,F,U),Y=Math.min(W,F,U);let D,Q;const ee=(Y+J)/2;if(Y===J)D=0,Q=0;else{const q=J-Y;switch(Q=ee<=.5?q/(J+Y):q/(2-J-Y),J){case W:D=(F-U)/q+(F<U?6:0);break;case F:D=(U-W)/q+2;break;case U:D=(W-F)/q+4;break}D/=6}return Z.h=D,Z.s=Q,Z.l=ee,Z}getRGB(Z,G=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color$1.copy(this),G),Z.r=_color$1.r,Z.g=_color$1.g,Z.b=_color$1.b,Z}getStyle(Z=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color$1.copy(this),Z);const G=_color$1.r,W=_color$1.g,F=_color$1.b;return Z!==SRGBColorSpace?`color(${Z} ${G.toFixed(3)} ${W.toFixed(3)} ${F.toFixed(3)})`:`rgb(${Math.round(G*255)},${Math.round(W*255)},${Math.round(F*255)})`}offsetHSL(Z,G,W){return this.getHSL(_hslA),this.setHSL(_hslA.h+Z,_hslA.s+G,_hslA.l+W)}add(Z){return this.r+=Z.r,this.g+=Z.g,this.b+=Z.b,this}addColors(Z,G){return this.r=Z.r+G.r,this.g=Z.g+G.g,this.b=Z.b+G.b,this}addScalar(Z){return this.r+=Z,this.g+=Z,this.b+=Z,this}sub(Z){return this.r=Math.max(0,this.r-Z.r),this.g=Math.max(0,this.g-Z.g),this.b=Math.max(0,this.b-Z.b),this}multiply(Z){return this.r*=Z.r,this.g*=Z.g,this.b*=Z.b,this}multiplyScalar(Z){return this.r*=Z,this.g*=Z,this.b*=Z,this}lerp(Z,G){return this.r+=(Z.r-this.r)*G,this.g+=(Z.g-this.g)*G,this.b+=(Z.b-this.b)*G,this}lerpColors(Z,G,W){return this.r=Z.r+(G.r-Z.r)*W,this.g=Z.g+(G.g-Z.g)*W,this.b=Z.b+(G.b-Z.b)*W,this}lerpHSL(Z,G){this.getHSL(_hslA),Z.getHSL(_hslB);const W=lerp(_hslA.h,_hslB.h,G),F=lerp(_hslA.s,_hslB.s,G),U=lerp(_hslA.l,_hslB.l,G);return this.setHSL(W,F,U),this}setFromVector3(Z){return this.r=Z.x,this.g=Z.y,this.b=Z.z,this}applyMatrix3(Z){const G=this.r,W=this.g,F=this.b,U=Z.elements;return this.r=U[0]*G+U[3]*W+U[6]*F,this.g=U[1]*G+U[4]*W+U[7]*F,this.b=U[2]*G+U[5]*W+U[8]*F,this}equals(Z){return Z.r===this.r&&Z.g===this.g&&Z.b===this.b}fromArray(Z,G=0){return this.r=Z[G],this.g=Z[G+1],this.b=Z[G+2],this}toArray(Z=[],G=0){return Z[G]=this.r,Z[G+1]=this.g,Z[G+2]=this.b,Z}fromBufferAttribute(Z,G){return this.r=Z.getX(G),this.g=Z.getY(G),this.b=Z.getZ(G),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color$1=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(Z){this._alphaTest>0!=Z>0&&this.version++,this._alphaTest=Z}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(Z){if(Z!==void 0)for(const G in Z){const W=Z[G];if(W===void 0){console.warn(`THREE.Material: parameter '${G}' has value of undefined.`);continue}const F=this[G];if(F===void 0){console.warn(`THREE.Material: '${G}' is not a property of THREE.${this.type}.`);continue}F&&F.isColor?F.set(W):F&&F.isVector3&&W&&W.isVector3?F.copy(W):this[G]=W}}toJSON(Z){const G=Z===void 0||typeof Z=="string";G&&(Z={textures:{},images:{}});const W={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};W.uuid=this.uuid,W.type=this.type,this.name!==""&&(W.name=this.name),this.color&&this.color.isColor&&(W.color=this.color.getHex()),this.roughness!==void 0&&(W.roughness=this.roughness),this.metalness!==void 0&&(W.metalness=this.metalness),this.sheen!==void 0&&(W.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(W.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(W.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(W.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(W.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(W.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(W.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(W.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(W.shininess=this.shininess),this.clearcoat!==void 0&&(W.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(W.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(W.clearcoatMap=this.clearcoatMap.toJSON(Z).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(W.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(Z).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(W.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(Z).uuid,W.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(W.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(W.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(W.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(W.iridescenceMap=this.iridescenceMap.toJSON(Z).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(W.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(Z).uuid),this.anisotropy!==void 0&&(W.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(W.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(W.anisotropyMap=this.anisotropyMap.toJSON(Z).uuid),this.map&&this.map.isTexture&&(W.map=this.map.toJSON(Z).uuid),this.matcap&&this.matcap.isTexture&&(W.matcap=this.matcap.toJSON(Z).uuid),this.alphaMap&&this.alphaMap.isTexture&&(W.alphaMap=this.alphaMap.toJSON(Z).uuid),this.lightMap&&this.lightMap.isTexture&&(W.lightMap=this.lightMap.toJSON(Z).uuid,W.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(W.aoMap=this.aoMap.toJSON(Z).uuid,W.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(W.bumpMap=this.bumpMap.toJSON(Z).uuid,W.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(W.normalMap=this.normalMap.toJSON(Z).uuid,W.normalMapType=this.normalMapType,W.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(W.displacementMap=this.displacementMap.toJSON(Z).uuid,W.displacementScale=this.displacementScale,W.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(W.roughnessMap=this.roughnessMap.toJSON(Z).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(W.metalnessMap=this.metalnessMap.toJSON(Z).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(W.emissiveMap=this.emissiveMap.toJSON(Z).uuid),this.specularMap&&this.specularMap.isTexture&&(W.specularMap=this.specularMap.toJSON(Z).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(W.specularIntensityMap=this.specularIntensityMap.toJSON(Z).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(W.specularColorMap=this.specularColorMap.toJSON(Z).uuid),this.envMap&&this.envMap.isTexture&&(W.envMap=this.envMap.toJSON(Z).uuid,this.combine!==void 0&&(W.combine=this.combine)),this.envMapIntensity!==void 0&&(W.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(W.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(W.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(W.gradientMap=this.gradientMap.toJSON(Z).uuid),this.transmission!==void 0&&(W.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(W.transmissionMap=this.transmissionMap.toJSON(Z).uuid),this.thickness!==void 0&&(W.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(W.thicknessMap=this.thicknessMap.toJSON(Z).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(W.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(W.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(W.size=this.size),this.shadowSide!==null&&(W.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(W.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(W.blending=this.blending),this.side!==FrontSide&&(W.side=this.side),this.vertexColors===!0&&(W.vertexColors=!0),this.opacity<1&&(W.opacity=this.opacity),this.transparent===!0&&(W.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(W.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(W.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(W.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(W.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(W.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(W.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(W.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(W.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(W.depthFunc=this.depthFunc),this.depthTest===!1&&(W.depthTest=this.depthTest),this.depthWrite===!1&&(W.depthWrite=this.depthWrite),this.colorWrite===!1&&(W.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(W.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(W.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(W.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(W.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(W.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(W.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(W.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(W.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(W.rotation=this.rotation),this.polygonOffset===!0&&(W.polygonOffset=!0),this.polygonOffsetFactor!==0&&(W.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(W.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(W.linewidth=this.linewidth),this.dashSize!==void 0&&(W.dashSize=this.dashSize),this.gapSize!==void 0&&(W.gapSize=this.gapSize),this.scale!==void 0&&(W.scale=this.scale),this.dithering===!0&&(W.dithering=!0),this.alphaTest>0&&(W.alphaTest=this.alphaTest),this.alphaHash===!0&&(W.alphaHash=!0),this.alphaToCoverage===!0&&(W.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(W.premultipliedAlpha=!0),this.forceSinglePass===!0&&(W.forceSinglePass=!0),this.wireframe===!0&&(W.wireframe=!0),this.wireframeLinewidth>1&&(W.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(W.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(W.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(W.flatShading=!0),this.visible===!1&&(W.visible=!1),this.toneMapped===!1&&(W.toneMapped=!1),this.fog===!1&&(W.fog=!1),Object.keys(this.userData).length>0&&(W.userData=this.userData);function F(U){const J=[];for(const Y in U){const D=U[Y];delete D.metadata,J.push(D)}return J}if(G){const U=F(Z.textures),J=F(Z.images);U.length>0&&(W.textures=U),J.length>0&&(W.images=J)}return W}clone(){return new this.constructor().copy(this)}copy(Z){this.name=Z.name,this.blending=Z.blending,this.side=Z.side,this.vertexColors=Z.vertexColors,this.opacity=Z.opacity,this.transparent=Z.transparent,this.blendSrc=Z.blendSrc,this.blendDst=Z.blendDst,this.blendEquation=Z.blendEquation,this.blendSrcAlpha=Z.blendSrcAlpha,this.blendDstAlpha=Z.blendDstAlpha,this.blendEquationAlpha=Z.blendEquationAlpha,this.blendColor.copy(Z.blendColor),this.blendAlpha=Z.blendAlpha,this.depthFunc=Z.depthFunc,this.depthTest=Z.depthTest,this.depthWrite=Z.depthWrite,this.stencilWriteMask=Z.stencilWriteMask,this.stencilFunc=Z.stencilFunc,this.stencilRef=Z.stencilRef,this.stencilFuncMask=Z.stencilFuncMask,this.stencilFail=Z.stencilFail,this.stencilZFail=Z.stencilZFail,this.stencilZPass=Z.stencilZPass,this.stencilWrite=Z.stencilWrite;const G=Z.clippingPlanes;let W=null;if(G!==null){const F=G.length;W=new Array(F);for(let U=0;U!==F;++U)W[U]=G[U].clone()}return this.clippingPlanes=W,this.clipIntersection=Z.clipIntersection,this.clipShadows=Z.clipShadows,this.shadowSide=Z.shadowSide,this.colorWrite=Z.colorWrite,this.precision=Z.precision,this.polygonOffset=Z.polygonOffset,this.polygonOffsetFactor=Z.polygonOffsetFactor,this.polygonOffsetUnits=Z.polygonOffsetUnits,this.dithering=Z.dithering,this.alphaTest=Z.alphaTest,this.alphaHash=Z.alphaHash,this.alphaToCoverage=Z.alphaToCoverage,this.premultipliedAlpha=Z.premultipliedAlpha,this.forceSinglePass=Z.forceSinglePass,this.visible=Z.visible,this.toneMapped=Z.toneMapped,this.userData=JSON.parse(JSON.stringify(Z.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(Z){Z===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(Z){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.map=Z.map,this.lightMap=Z.lightMap,this.lightMapIntensity=Z.lightMapIntensity,this.aoMap=Z.aoMap,this.aoMapIntensity=Z.aoMapIntensity,this.specularMap=Z.specularMap,this.alphaMap=Z.alphaMap,this.envMap=Z.envMap,this.combine=Z.combine,this.reflectivity=Z.reflectivity,this.refractionRatio=Z.refractionRatio,this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this.wireframeLinecap=Z.wireframeLinecap,this.wireframeLinejoin=Z.wireframeLinejoin,this.fog=Z.fog,this}}const _vector$8=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(Z,G,W=!1){if(Array.isArray(Z))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=Z,this.itemSize=G,this.count=Z!==void 0?Z.length/G:0,this.normalized=W,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(Z){Z===!0&&this.version++}setUsage(Z){return this.usage=Z,this}copy(Z){return this.name=Z.name,this.array=new Z.array.constructor(Z.array),this.itemSize=Z.itemSize,this.count=Z.count,this.normalized=Z.normalized,this.usage=Z.usage,this.gpuType=Z.gpuType,this}copyAt(Z,G,W){Z*=this.itemSize,W*=G.itemSize;for(let F=0,U=this.itemSize;F<U;F++)this.array[Z+F]=G.array[W+F];return this}copyArray(Z){return this.array.set(Z),this}applyMatrix3(Z){if(this.itemSize===2)for(let G=0,W=this.count;G<W;G++)_vector2$1.fromBufferAttribute(this,G),_vector2$1.applyMatrix3(Z),this.setXY(G,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.applyMatrix3(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyMatrix4(Z){for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.applyMatrix4(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyNormalMatrix(Z){for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.applyNormalMatrix(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}transformDirection(Z){for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.transformDirection(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}set(Z,G=0){return this.array.set(Z,G),this}getComponent(Z,G){let W=this.array[Z*this.itemSize+G];return this.normalized&&(W=denormalize(W,this.array)),W}setComponent(Z,G,W){return this.normalized&&(W=normalize$1(W,this.array)),this.array[Z*this.itemSize+G]=W,this}getX(Z){let G=this.array[Z*this.itemSize];return this.normalized&&(G=denormalize(G,this.array)),G}setX(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize]=G,this}getY(Z){let G=this.array[Z*this.itemSize+1];return this.normalized&&(G=denormalize(G,this.array)),G}setY(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize+1]=G,this}getZ(Z){let G=this.array[Z*this.itemSize+2];return this.normalized&&(G=denormalize(G,this.array)),G}setZ(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize+2]=G,this}getW(Z){let G=this.array[Z*this.itemSize+3];return this.normalized&&(G=denormalize(G,this.array)),G}setW(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize+3]=G,this}setXY(Z,G,W){return Z*=this.itemSize,this.normalized&&(G=normalize$1(G,this.array),W=normalize$1(W,this.array)),this.array[Z+0]=G,this.array[Z+1]=W,this}setXYZ(Z,G,W,F){return Z*=this.itemSize,this.normalized&&(G=normalize$1(G,this.array),W=normalize$1(W,this.array),F=normalize$1(F,this.array)),this.array[Z+0]=G,this.array[Z+1]=W,this.array[Z+2]=F,this}setXYZW(Z,G,W,F,U){return Z*=this.itemSize,this.normalized&&(G=normalize$1(G,this.array),W=normalize$1(W,this.array),F=normalize$1(F,this.array),U=normalize$1(U,this.array)),this.array[Z+0]=G,this.array[Z+1]=W,this.array[Z+2]=F,this.array[Z+3]=U,this}onUpload(Z){return this.onUploadCallback=Z,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const Z={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(Z.name=this.name),this.usage!==StaticDrawUsage&&(Z.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(Z.updateRange=this.updateRange),Z}}class Uint16BufferAttribute extends BufferAttribute{constructor(Z,G,W){super(new Uint16Array(Z),G,W)}}class Uint32BufferAttribute extends BufferAttribute{constructor(Z,G,W){super(new Uint32Array(Z),G,W)}}class Float32BufferAttribute extends BufferAttribute{constructor(Z,G,W){super(new Float32Array(Z),G,W)}}let _id$2=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$7=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(Z){return Array.isArray(Z)?this.index=new(arrayNeedsUint32(Z)?Uint32BufferAttribute:Uint16BufferAttribute)(Z,1):this.index=Z,this}getAttribute(Z){return this.attributes[Z]}setAttribute(Z,G){return this.attributes[Z]=G,this}deleteAttribute(Z){return delete this.attributes[Z],this}hasAttribute(Z){return this.attributes[Z]!==void 0}addGroup(Z,G,W=0){this.groups.push({start:Z,count:G,materialIndex:W})}clearGroups(){this.groups=[]}setDrawRange(Z,G){this.drawRange.start=Z,this.drawRange.count=G}applyMatrix4(Z){const G=this.attributes.position;G!==void 0&&(G.applyMatrix4(Z),G.needsUpdate=!0);const W=this.attributes.normal;if(W!==void 0){const U=new Matrix3().getNormalMatrix(Z);W.applyNormalMatrix(U),W.needsUpdate=!0}const F=this.attributes.tangent;return F!==void 0&&(F.transformDirection(Z),F.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(Z){return _m1.makeRotationFromQuaternion(Z),this.applyMatrix4(_m1),this}rotateX(Z){return _m1.makeRotationX(Z),this.applyMatrix4(_m1),this}rotateY(Z){return _m1.makeRotationY(Z),this.applyMatrix4(_m1),this}rotateZ(Z){return _m1.makeRotationZ(Z),this.applyMatrix4(_m1),this}translate(Z,G,W){return _m1.makeTranslation(Z,G,W),this.applyMatrix4(_m1),this}scale(Z,G,W){return _m1.makeScale(Z,G,W),this.applyMatrix4(_m1),this}lookAt(Z){return _obj.lookAt(Z),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(Z){const G=[];for(let W=0,F=Z.length;W<F;W++){const U=Z[W];G.push(U.x,U.y,U.z||0)}return this.setAttribute("position",new Float32BufferAttribute(G,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const Z=this.attributes.position,G=this.morphAttributes.position;if(Z&&Z.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(Z!==void 0){if(this.boundingBox.setFromBufferAttribute(Z),G)for(let W=0,F=G.length;W<F;W++){const U=G[W];_box$1.setFromBufferAttribute(U),this.morphTargetsRelative?(_vector$7.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$7),_vector$7.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$7)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const Z=this.attributes.position,G=this.morphAttributes.position;if(Z&&Z.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(Z){const W=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(Z),G)for(let U=0,J=G.length;U<J;U++){const Y=G[U];_boxMorphTargets.setFromBufferAttribute(Y),this.morphTargetsRelative?(_vector$7.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$7),_vector$7.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$7)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(W);let F=0;for(let U=0,J=Z.count;U<J;U++)_vector$7.fromBufferAttribute(Z,U),F=Math.max(F,W.distanceToSquared(_vector$7));if(G)for(let U=0,J=G.length;U<J;U++){const Y=G[U],D=this.morphTargetsRelative;for(let Q=0,ee=Y.count;Q<ee;Q++)_vector$7.fromBufferAttribute(Y,Q),D&&(_offset.fromBufferAttribute(Z,Q),_vector$7.add(_offset)),F=Math.max(F,W.distanceToSquared(_vector$7))}this.boundingSphere.radius=Math.sqrt(F),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const Z=this.index,G=this.attributes;if(Z===null||G.position===void 0||G.normal===void 0||G.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const W=Z.array,F=G.position.array,U=G.normal.array,J=G.uv.array,Y=F.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*Y),4));const D=this.getAttribute("tangent").array,Q=[],ee=[];for(let We=0;We<Y;We++)Q[We]=new Vector3,ee[We]=new Vector3;const q=new Vector3,te=new Vector3,ie=new Vector3,ne=new Vector2,ce=new Vector2,le=new Vector2,se=new Vector3,pe=new Vector3;function ue(We,fe,Re){q.fromArray(F,We*3),te.fromArray(F,fe*3),ie.fromArray(F,Re*3),ne.fromArray(J,We*2),ce.fromArray(J,fe*2),le.fromArray(J,Re*2),te.sub(q),ie.sub(q),ce.sub(ne),le.sub(ne);const ye=1/(ce.x*le.y-le.x*ce.y);isFinite(ye)&&(se.copy(te).multiplyScalar(le.y).addScaledVector(ie,-ce.y).multiplyScalar(ye),pe.copy(ie).multiplyScalar(ce.x).addScaledVector(te,-le.x).multiplyScalar(ye),Q[We].add(se),Q[fe].add(se),Q[Re].add(se),ee[We].add(pe),ee[fe].add(pe),ee[Re].add(pe))}let ae=this.groups;ae.length===0&&(ae=[{start:0,count:W.length}]);for(let We=0,fe=ae.length;We<fe;++We){const Re=ae[We],ye=Re.start,re=Re.count;for(let Ze=ye,Ge=ye+re;Ze<Ge;Ze+=3)ue(W[Ze+0],W[Ze+1],W[Ze+2])}const de=new Vector3,be=new Vector3,he=new Vector3,Le=new Vector3;function Xe(We){he.fromArray(U,We*3),Le.copy(he);const fe=Q[We];de.copy(fe),de.sub(he.multiplyScalar(he.dot(fe))).normalize(),be.crossVectors(Le,fe);const ye=be.dot(ee[We])<0?-1:1;D[We*4]=de.x,D[We*4+1]=de.y,D[We*4+2]=de.z,D[We*4+3]=ye}for(let We=0,fe=ae.length;We<fe;++We){const Re=ae[We],ye=Re.start,re=Re.count;for(let Ze=ye,Ge=ye+re;Ze<Ge;Ze+=3)Xe(W[Ze+0]),Xe(W[Ze+1]),Xe(W[Ze+2])}}computeVertexNormals(){const Z=this.index,G=this.getAttribute("position");if(G!==void 0){let W=this.getAttribute("normal");if(W===void 0)W=new BufferAttribute(new Float32Array(G.count*3),3),this.setAttribute("normal",W);else for(let te=0,ie=W.count;te<ie;te++)W.setXYZ(te,0,0,0);const F=new Vector3,U=new Vector3,J=new Vector3,Y=new Vector3,D=new Vector3,Q=new Vector3,ee=new Vector3,q=new Vector3;if(Z)for(let te=0,ie=Z.count;te<ie;te+=3){const ne=Z.getX(te+0),ce=Z.getX(te+1),le=Z.getX(te+2);F.fromBufferAttribute(G,ne),U.fromBufferAttribute(G,ce),J.fromBufferAttribute(G,le),ee.subVectors(J,U),q.subVectors(F,U),ee.cross(q),Y.fromBufferAttribute(W,ne),D.fromBufferAttribute(W,ce),Q.fromBufferAttribute(W,le),Y.add(ee),D.add(ee),Q.add(ee),W.setXYZ(ne,Y.x,Y.y,Y.z),W.setXYZ(ce,D.x,D.y,D.z),W.setXYZ(le,Q.x,Q.y,Q.z)}else for(let te=0,ie=G.count;te<ie;te+=3)F.fromBufferAttribute(G,te+0),U.fromBufferAttribute(G,te+1),J.fromBufferAttribute(G,te+2),ee.subVectors(J,U),q.subVectors(F,U),ee.cross(q),W.setXYZ(te+0,ee.x,ee.y,ee.z),W.setXYZ(te+1,ee.x,ee.y,ee.z),W.setXYZ(te+2,ee.x,ee.y,ee.z);this.normalizeNormals(),W.needsUpdate=!0}}normalizeNormals(){const Z=this.attributes.normal;for(let G=0,W=Z.count;G<W;G++)_vector$7.fromBufferAttribute(Z,G),_vector$7.normalize(),Z.setXYZ(G,_vector$7.x,_vector$7.y,_vector$7.z)}toNonIndexed(){function Z(Y,D){const Q=Y.array,ee=Y.itemSize,q=Y.normalized,te=new Q.constructor(D.length*ee);let ie=0,ne=0;for(let ce=0,le=D.length;ce<le;ce++){Y.isInterleavedBufferAttribute?ie=D[ce]*Y.data.stride+Y.offset:ie=D[ce]*ee;for(let se=0;se<ee;se++)te[ne++]=Q[ie++]}return new BufferAttribute(te,ee,q)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const G=new BufferGeometry,W=this.index.array,F=this.attributes;for(const Y in F){const D=F[Y],Q=Z(D,W);G.setAttribute(Y,Q)}const U=this.morphAttributes;for(const Y in U){const D=[],Q=U[Y];for(let ee=0,q=Q.length;ee<q;ee++){const te=Q[ee],ie=Z(te,W);D.push(ie)}G.morphAttributes[Y]=D}G.morphTargetsRelative=this.morphTargetsRelative;const J=this.groups;for(let Y=0,D=J.length;Y<D;Y++){const Q=J[Y];G.addGroup(Q.start,Q.count,Q.materialIndex)}return G}toJSON(){const Z={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(Z.uuid=this.uuid,Z.type=this.type,this.name!==""&&(Z.name=this.name),Object.keys(this.userData).length>0&&(Z.userData=this.userData),this.parameters!==void 0){const D=this.parameters;for(const Q in D)D[Q]!==void 0&&(Z[Q]=D[Q]);return Z}Z.data={attributes:{}};const G=this.index;G!==null&&(Z.data.index={type:G.array.constructor.name,array:Array.prototype.slice.call(G.array)});const W=this.attributes;for(const D in W){const Q=W[D];Z.data.attributes[D]=Q.toJSON(Z.data)}const F={};let U=!1;for(const D in this.morphAttributes){const Q=this.morphAttributes[D],ee=[];for(let q=0,te=Q.length;q<te;q++){const ie=Q[q];ee.push(ie.toJSON(Z.data))}ee.length>0&&(F[D]=ee,U=!0)}U&&(Z.data.morphAttributes=F,Z.data.morphTargetsRelative=this.morphTargetsRelative);const J=this.groups;J.length>0&&(Z.data.groups=JSON.parse(JSON.stringify(J)));const Y=this.boundingSphere;return Y!==null&&(Z.data.boundingSphere={center:Y.center.toArray(),radius:Y.radius}),Z}clone(){return new this.constructor().copy(this)}copy(Z){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const G={};this.name=Z.name;const W=Z.index;W!==null&&this.setIndex(W.clone(G));const F=Z.attributes;for(const Q in F){const ee=F[Q];this.setAttribute(Q,ee.clone(G))}const U=Z.morphAttributes;for(const Q in U){const ee=[],q=U[Q];for(let te=0,ie=q.length;te<ie;te++)ee.push(q[te].clone(G));this.morphAttributes[Q]=ee}this.morphTargetsRelative=Z.morphTargetsRelative;const J=Z.groups;for(let Q=0,ee=J.length;Q<ee;Q++){const q=J[Q];this.addGroup(q.start,q.count,q.materialIndex)}const Y=Z.boundingBox;Y!==null&&(this.boundingBox=Y.clone());const D=Z.boundingSphere;return D!==null&&(this.boundingSphere=D.clone()),this.drawRange.start=Z.drawRange.start,this.drawRange.count=Z.drawRange.count,this.userData=Z.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$5=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(Z=new BufferGeometry,G=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=Z,this.material=G,this.updateMorphTargets()}copy(Z,G){return super.copy(Z,G),Z.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=Z.morphTargetInfluences.slice()),Z.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},Z.morphTargetDictionary)),this.material=Array.isArray(Z.material)?Z.material.slice():Z.material,this.geometry=Z.geometry,this}updateMorphTargets(){const G=this.geometry.morphAttributes,W=Object.keys(G);if(W.length>0){const F=G[W[0]];if(F!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U=0,J=F.length;U<J;U++){const Y=F[U].name||String(U);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=U}}}}getVertexPosition(Z,G){const W=this.geometry,F=W.attributes.position,U=W.morphAttributes.position,J=W.morphTargetsRelative;G.fromBufferAttribute(F,Z);const Y=this.morphTargetInfluences;if(U&&Y){_morphA.set(0,0,0);for(let D=0,Q=U.length;D<Q;D++){const ee=Y[D],q=U[D];ee!==0&&(_tempA.fromBufferAttribute(q,Z),J?_morphA.addScaledVector(_tempA,ee):_morphA.addScaledVector(_tempA.sub(G),ee))}G.add(_morphA)}return G}raycast(Z,G){const W=this.geometry,F=this.material,U=this.matrixWorld;F!==void 0&&(W.boundingSphere===null&&W.computeBoundingSphere(),_sphere$5.copy(W.boundingSphere),_sphere$5.applyMatrix4(U),_ray$3.copy(Z.ray).recast(Z.near),!(_sphere$5.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$5,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(Z.far-Z.near)**2))&&(_inverseMatrix$3.copy(U).invert(),_ray$3.copy(Z.ray).applyMatrix4(_inverseMatrix$3),!(W.boundingBox!==null&&_ray$3.intersectsBox(W.boundingBox)===!1)&&this._computeIntersections(Z,G,_ray$3)))}_computeIntersections(Z,G,W){let F;const U=this.geometry,J=this.material,Y=U.index,D=U.attributes.position,Q=U.attributes.uv,ee=U.attributes.uv1,q=U.attributes.normal,te=U.groups,ie=U.drawRange;if(Y!==null)if(Array.isArray(J))for(let ne=0,ce=te.length;ne<ce;ne++){const le=te[ne],se=J[le.materialIndex],pe=Math.max(le.start,ie.start),ue=Math.min(Y.count,Math.min(le.start+le.count,ie.start+ie.count));for(let ae=pe,de=ue;ae<de;ae+=3){const be=Y.getX(ae),he=Y.getX(ae+1),Le=Y.getX(ae+2);F=checkGeometryIntersection(this,se,Z,W,Q,ee,q,be,he,Le),F&&(F.faceIndex=Math.floor(ae/3),F.face.materialIndex=le.materialIndex,G.push(F))}}else{const ne=Math.max(0,ie.start),ce=Math.min(Y.count,ie.start+ie.count);for(let le=ne,se=ce;le<se;le+=3){const pe=Y.getX(le),ue=Y.getX(le+1),ae=Y.getX(le+2);F=checkGeometryIntersection(this,J,Z,W,Q,ee,q,pe,ue,ae),F&&(F.faceIndex=Math.floor(le/3),G.push(F))}}else if(D!==void 0)if(Array.isArray(J))for(let ne=0,ce=te.length;ne<ce;ne++){const le=te[ne],se=J[le.materialIndex],pe=Math.max(le.start,ie.start),ue=Math.min(D.count,Math.min(le.start+le.count,ie.start+ie.count));for(let ae=pe,de=ue;ae<de;ae+=3){const be=ae,he=ae+1,Le=ae+2;F=checkGeometryIntersection(this,se,Z,W,Q,ee,q,be,he,Le),F&&(F.faceIndex=Math.floor(ae/3),F.face.materialIndex=le.materialIndex,G.push(F))}}else{const ne=Math.max(0,ie.start),ce=Math.min(D.count,ie.start+ie.count);for(let le=ne,se=ce;le<se;le+=3){const pe=le,ue=le+1,ae=le+2;F=checkGeometryIntersection(this,J,Z,W,Q,ee,q,pe,ue,ae),F&&(F.faceIndex=Math.floor(le/3),G.push(F))}}}}function checkIntersection(X,Z,G,W,F,U,J,Y){let D;if(Z.side===BackSide?D=W.intersectTriangle(J,U,F,!0,Y):D=W.intersectTriangle(F,U,J,Z.side===FrontSide,Y),D===null)return null;_intersectionPointWorld.copy(Y),_intersectionPointWorld.applyMatrix4(X.matrixWorld);const Q=G.ray.origin.distanceTo(_intersectionPointWorld);return Q<G.near||Q>G.far?null:{distance:Q,point:_intersectionPointWorld.clone(),object:X}}function checkGeometryIntersection(X,Z,G,W,F,U,J,Y,D,Q){X.getVertexPosition(Y,_vA$1),X.getVertexPosition(D,_vB$1),X.getVertexPosition(Q,_vC$1);const ee=checkIntersection(X,Z,G,W,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ee){F&&(_uvA$1.fromBufferAttribute(F,Y),_uvB$1.fromBufferAttribute(F,D),_uvC$1.fromBufferAttribute(F,Q),ee.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),U&&(_uvA$1.fromBufferAttribute(U,Y),_uvB$1.fromBufferAttribute(U,D),_uvC$1.fromBufferAttribute(U,Q),ee.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),ee.uv2=ee.uv1),J&&(_normalA.fromBufferAttribute(J,Y),_normalB.fromBufferAttribute(J,D),_normalC.fromBufferAttribute(J,Q),ee.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),ee.normal.dot(W.direction)>0&&ee.normal.multiplyScalar(-1));const q={a:Y,b:D,c:Q,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,q.normal),ee.face=q}return ee}class BoxGeometry extends BufferGeometry{constructor(Z=1,G=1,W=1,F=1,U=1,J=1){super(),this.type="BoxGeometry",this.parameters={width:Z,height:G,depth:W,widthSegments:F,heightSegments:U,depthSegments:J};const Y=this;F=Math.floor(F),U=Math.floor(U),J=Math.floor(J);const D=[],Q=[],ee=[],q=[];let te=0,ie=0;ne("z","y","x",-1,-1,W,G,Z,J,U,0),ne("z","y","x",1,-1,W,G,-Z,J,U,1),ne("x","z","y",1,1,Z,W,G,F,J,2),ne("x","z","y",1,-1,Z,W,-G,F,J,3),ne("x","y","z",1,-1,Z,G,W,F,U,4),ne("x","y","z",-1,-1,Z,G,-W,F,U,5),this.setIndex(D),this.setAttribute("position",new Float32BufferAttribute(Q,3)),this.setAttribute("normal",new Float32BufferAttribute(ee,3)),this.setAttribute("uv",new Float32BufferAttribute(q,2));function ne(ce,le,se,pe,ue,ae,de,be,he,Le,Xe){const We=ae/he,fe=de/Le,Re=ae/2,ye=de/2,re=be/2,Ze=he+1,Ge=Le+1;let ve=0,Te=0;const xe=new Vector3;for(let Ye=0;Ye<Ge;Ye++){const ge=Ye*fe-ye;for(let Me=0;Me<Ze;Me++){const je=Me*We-Re;xe[ce]=je*pe,xe[le]=ge*ue,xe[se]=re,Q.push(xe.x,xe.y,xe.z),xe[ce]=0,xe[le]=0,xe[se]=be>0?1:-1,ee.push(xe.x,xe.y,xe.z),q.push(Me/he),q.push(1-Ye/Le),ve+=1}}for(let Ye=0;Ye<Le;Ye++)for(let ge=0;ge<he;ge++){const Me=te+ge+Ze*Ye,je=te+ge+Ze*(Ye+1),tt=te+(ge+1)+Ze*(Ye+1),it=te+(ge+1)+Ze*Ye;D.push(Me,je,it),D.push(je,tt,it),Te+=6}Y.addGroup(ie,Te,Xe),ie+=Te,te+=ve}}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new BoxGeometry(Z.width,Z.height,Z.depth,Z.widthSegments,Z.heightSegments,Z.depthSegments)}}function cloneUniforms(X){const Z={};for(const G in X){Z[G]={};for(const W in X[G]){const F=X[G][W];F&&(F.isColor||F.isMatrix3||F.isMatrix4||F.isVector2||F.isVector3||F.isVector4||F.isTexture||F.isQuaternion)?F.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),Z[G][W]=null):Z[G][W]=F.clone():Array.isArray(F)?Z[G][W]=F.slice():Z[G][W]=F}}return Z}function mergeUniforms(X){const Z={};for(let G=0;G<X.length;G++){const W=cloneUniforms(X[G]);for(const F in W)Z[F]=W[F]}return Z}function cloneUniformsGroups(X){const Z=[];for(let G=0;G<X.length;G++)Z.push(X[G].clone());return Z}function getUnlitUniformColorSpace(X){return X.getRenderTarget()===null?X.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(Z){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,Z!==void 0&&this.setValues(Z)}copy(Z){return super.copy(Z),this.fragmentShader=Z.fragmentShader,this.vertexShader=Z.vertexShader,this.uniforms=cloneUniforms(Z.uniforms),this.uniformsGroups=cloneUniformsGroups(Z.uniformsGroups),this.defines=Object.assign({},Z.defines),this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this.fog=Z.fog,this.lights=Z.lights,this.clipping=Z.clipping,this.extensions=Object.assign({},Z.extensions),this.glslVersion=Z.glslVersion,this}toJSON(Z){const G=super.toJSON(Z);G.glslVersion=this.glslVersion,G.uniforms={};for(const F in this.uniforms){const J=this.uniforms[F].value;J&&J.isTexture?G.uniforms[F]={type:"t",value:J.toJSON(Z).uuid}:J&&J.isColor?G.uniforms[F]={type:"c",value:J.getHex()}:J&&J.isVector2?G.uniforms[F]={type:"v2",value:J.toArray()}:J&&J.isVector3?G.uniforms[F]={type:"v3",value:J.toArray()}:J&&J.isVector4?G.uniforms[F]={type:"v4",value:J.toArray()}:J&&J.isMatrix3?G.uniforms[F]={type:"m3",value:J.toArray()}:J&&J.isMatrix4?G.uniforms[F]={type:"m4",value:J.toArray()}:G.uniforms[F]={value:J}}Object.keys(this.defines).length>0&&(G.defines=this.defines),G.vertexShader=this.vertexShader,G.fragmentShader=this.fragmentShader,G.lights=this.lights,G.clipping=this.clipping;const W={};for(const F in this.extensions)this.extensions[F]===!0&&(W[F]=!0);return Object.keys(W).length>0&&(G.extensions=W),G}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(Z,G){return super.copy(Z,G),this.matrixWorldInverse.copy(Z.matrixWorldInverse),this.projectionMatrix.copy(Z.projectionMatrix),this.projectionMatrixInverse.copy(Z.projectionMatrixInverse),this.coordinateSystem=Z.coordinateSystem,this}getWorldDirection(Z){return super.getWorldDirection(Z).negate()}updateMatrixWorld(Z){super.updateMatrixWorld(Z),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(Z,G){super.updateWorldMatrix(Z,G),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(Z=50,G=1,W=.1,F=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=Z,this.zoom=1,this.near=W,this.far=F,this.focus=10,this.aspect=G,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(Z,G){return super.copy(Z,G),this.fov=Z.fov,this.zoom=Z.zoom,this.near=Z.near,this.far=Z.far,this.focus=Z.focus,this.aspect=Z.aspect,this.view=Z.view===null?null:Object.assign({},Z.view),this.filmGauge=Z.filmGauge,this.filmOffset=Z.filmOffset,this}setFocalLength(Z){const G=.5*this.getFilmHeight()/Z;this.fov=RAD2DEG*2*Math.atan(G),this.updateProjectionMatrix()}getFocalLength(){const Z=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/Z}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(Z,G,W,F,U,J){this.aspect=Z/G,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=Z,this.view.fullHeight=G,this.view.offsetX=W,this.view.offsetY=F,this.view.width=U,this.view.height=J,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const Z=this.near;let G=Z*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,W=2*G,F=this.aspect*W,U=-.5*F;const J=this.view;if(this.view!==null&&this.view.enabled){const D=J.fullWidth,Q=J.fullHeight;U+=J.offsetX*F/D,G-=J.offsetY*W/Q,F*=J.width/D,W*=J.height/Q}const Y=this.filmOffset;Y!==0&&(U+=Z*Y/this.getFilmWidth()),this.projectionMatrix.makePerspective(U,U+F,G,G-W,Z,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(Z){const G=super.toJSON(Z);return G.object.fov=this.fov,G.object.zoom=this.zoom,G.object.near=this.near,G.object.far=this.far,G.object.focus=this.focus,G.object.aspect=this.aspect,this.view!==null&&(G.object.view=Object.assign({},this.view)),G.object.filmGauge=this.filmGauge,G.object.filmOffset=this.filmOffset,G}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(Z,G,W){super(),this.type="CubeCamera",this.renderTarget=W,this.coordinateSystem=null,this.activeMipmapLevel=0;const F=new PerspectiveCamera(fov,aspect,Z,G);F.layers=this.layers,this.add(F);const U=new PerspectiveCamera(fov,aspect,Z,G);U.layers=this.layers,this.add(U);const J=new PerspectiveCamera(fov,aspect,Z,G);J.layers=this.layers,this.add(J);const Y=new PerspectiveCamera(fov,aspect,Z,G);Y.layers=this.layers,this.add(Y);const D=new PerspectiveCamera(fov,aspect,Z,G);D.layers=this.layers,this.add(D);const Q=new PerspectiveCamera(fov,aspect,Z,G);Q.layers=this.layers,this.add(Q)}updateCoordinateSystem(){const Z=this.coordinateSystem,G=this.children.concat(),[W,F,U,J,Y,D]=G;for(const Q of G)this.remove(Q);if(Z===WebGLCoordinateSystem)W.up.set(0,1,0),W.lookAt(1,0,0),F.up.set(0,1,0),F.lookAt(-1,0,0),U.up.set(0,0,-1),U.lookAt(0,1,0),J.up.set(0,0,1),J.lookAt(0,-1,0),Y.up.set(0,1,0),Y.lookAt(0,0,1),D.up.set(0,1,0),D.lookAt(0,0,-1);else if(Z===WebGPUCoordinateSystem)W.up.set(0,-1,0),W.lookAt(-1,0,0),F.up.set(0,-1,0),F.lookAt(1,0,0),U.up.set(0,0,1),U.lookAt(0,1,0),J.up.set(0,0,-1),J.lookAt(0,-1,0),Y.up.set(0,-1,0),Y.lookAt(0,0,1),D.up.set(0,-1,0),D.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+Z);for(const Q of G)this.add(Q),Q.updateMatrixWorld()}update(Z,G){this.parent===null&&this.updateMatrixWorld();const{renderTarget:W,activeMipmapLevel:F}=this;this.coordinateSystem!==Z.coordinateSystem&&(this.coordinateSystem=Z.coordinateSystem,this.updateCoordinateSystem());const[U,J,Y,D,Q,ee]=this.children,q=Z.getRenderTarget(),te=Z.getActiveCubeFace(),ie=Z.getActiveMipmapLevel(),ne=Z.xr.enabled;Z.xr.enabled=!1;const ce=W.texture.generateMipmaps;W.texture.generateMipmaps=!1,Z.setRenderTarget(W,0,F),Z.render(G,U),Z.setRenderTarget(W,1,F),Z.render(G,J),Z.setRenderTarget(W,2,F),Z.render(G,Y),Z.setRenderTarget(W,3,F),Z.render(G,D),Z.setRenderTarget(W,4,F),Z.render(G,Q),W.texture.generateMipmaps=ce,Z.setRenderTarget(W,5,F),Z.render(G,ee),Z.setRenderTarget(q,te,ie),Z.xr.enabled=ne,W.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(Z,G,W,F,U,J,Y,D,Q,ee){Z=Z!==void 0?Z:[],G=G!==void 0?G:CubeReflectionMapping,super(Z,G,W,F,U,J,Y,D,Q,ee),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(Z){this.image=Z}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(Z=1,G={}){super(Z,Z,G),this.isWebGLCubeRenderTarget=!0;const W={width:Z,height:Z,depth:1},F=[W,W,W,W,W,W];G.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),G.colorSpace=G.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new CubeTexture(F,G.mapping,G.wrapS,G.wrapT,G.magFilter,G.minFilter,G.format,G.type,G.anisotropy,G.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=G.generateMipmaps!==void 0?G.generateMipmaps:!1,this.texture.minFilter=G.minFilter!==void 0?G.minFilter:LinearFilter}fromEquirectangularTexture(Z,G){this.texture.type=G.type,this.texture.colorSpace=G.colorSpace,this.texture.generateMipmaps=G.generateMipmaps,this.texture.minFilter=G.minFilter,this.texture.magFilter=G.magFilter;const W={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},F=new BoxGeometry(5,5,5),U=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(W.uniforms),vertexShader:W.vertexShader,fragmentShader:W.fragmentShader,side:BackSide,blending:NoBlending});U.uniforms.tEquirect.value=G;const J=new Mesh(F,U),Y=G.minFilter;return G.minFilter===LinearMipmapLinearFilter&&(G.minFilter=LinearFilter),new CubeCamera(1,10,this).update(Z,J),G.minFilter=Y,J.geometry.dispose(),J.material.dispose(),this}clear(Z,G,W,F){const U=Z.getRenderTarget();for(let J=0;J<6;J++)Z.setRenderTarget(this,J),Z.clear(G,W,F);Z.setRenderTarget(U)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(Z=new Vector3(1,0,0),G=0){this.isPlane=!0,this.normal=Z,this.constant=G}set(Z,G){return this.normal.copy(Z),this.constant=G,this}setComponents(Z,G,W,F){return this.normal.set(Z,G,W),this.constant=F,this}setFromNormalAndCoplanarPoint(Z,G){return this.normal.copy(Z),this.constant=-G.dot(this.normal),this}setFromCoplanarPoints(Z,G,W){const F=_vector1.subVectors(W,G).cross(_vector2.subVectors(Z,G)).normalize();return this.setFromNormalAndCoplanarPoint(F,Z),this}copy(Z){return this.normal.copy(Z.normal),this.constant=Z.constant,this}normalize(){const Z=1/this.normal.length();return this.normal.multiplyScalar(Z),this.constant*=Z,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(Z){return this.normal.dot(Z)+this.constant}distanceToSphere(Z){return this.distanceToPoint(Z.center)-Z.radius}projectPoint(Z,G){return G.copy(Z).addScaledVector(this.normal,-this.distanceToPoint(Z))}intersectLine(Z,G){const W=Z.delta(_vector1),F=this.normal.dot(W);if(F===0)return this.distanceToPoint(Z.start)===0?G.copy(Z.start):null;const U=-(Z.start.dot(this.normal)+this.constant)/F;return U<0||U>1?null:G.copy(Z.start).addScaledVector(W,U)}intersectsLine(Z){const G=this.distanceToPoint(Z.start),W=this.distanceToPoint(Z.end);return G<0&&W>0||W<0&&G>0}intersectsBox(Z){return Z.intersectsPlane(this)}intersectsSphere(Z){return Z.intersectsPlane(this)}coplanarPoint(Z){return Z.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(Z,G){const W=G||_normalMatrix.getNormalMatrix(Z),F=this.coplanarPoint(_vector1).applyMatrix4(Z),U=this.normal.applyMatrix3(W).normalize();return this.constant=-F.dot(U),this}translate(Z){return this.constant-=Z.dot(this.normal),this}equals(Z){return Z.normal.equals(this.normal)&&Z.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$4=new Sphere,_vector$6=new Vector3;class Frustum{constructor(Z=new Plane,G=new Plane,W=new Plane,F=new Plane,U=new Plane,J=new Plane){this.planes=[Z,G,W,F,U,J]}set(Z,G,W,F,U,J){const Y=this.planes;return Y[0].copy(Z),Y[1].copy(G),Y[2].copy(W),Y[3].copy(F),Y[4].copy(U),Y[5].copy(J),this}copy(Z){const G=this.planes;for(let W=0;W<6;W++)G[W].copy(Z.planes[W]);return this}setFromProjectionMatrix(Z,G=WebGLCoordinateSystem){const W=this.planes,F=Z.elements,U=F[0],J=F[1],Y=F[2],D=F[3],Q=F[4],ee=F[5],q=F[6],te=F[7],ie=F[8],ne=F[9],ce=F[10],le=F[11],se=F[12],pe=F[13],ue=F[14],ae=F[15];if(W[0].setComponents(D-U,te-Q,le-ie,ae-se).normalize(),W[1].setComponents(D+U,te+Q,le+ie,ae+se).normalize(),W[2].setComponents(D+J,te+ee,le+ne,ae+pe).normalize(),W[3].setComponents(D-J,te-ee,le-ne,ae-pe).normalize(),W[4].setComponents(D-Y,te-q,le-ce,ae-ue).normalize(),G===WebGLCoordinateSystem)W[5].setComponents(D+Y,te+q,le+ce,ae+ue).normalize();else if(G===WebGPUCoordinateSystem)W[5].setComponents(Y,q,ce,ue).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+G);return this}intersectsObject(Z){if(Z.boundingSphere!==void 0)Z.boundingSphere===null&&Z.computeBoundingSphere(),_sphere$4.copy(Z.boundingSphere).applyMatrix4(Z.matrixWorld);else{const G=Z.geometry;G.boundingSphere===null&&G.computeBoundingSphere(),_sphere$4.copy(G.boundingSphere).applyMatrix4(Z.matrixWorld)}return this.intersectsSphere(_sphere$4)}intersectsSprite(Z){return _sphere$4.center.set(0,0,0),_sphere$4.radius=.7071067811865476,_sphere$4.applyMatrix4(Z.matrixWorld),this.intersectsSphere(_sphere$4)}intersectsSphere(Z){const G=this.planes,W=Z.center,F=-Z.radius;for(let U=0;U<6;U++)if(G[U].distanceToPoint(W)<F)return!1;return!0}intersectsBox(Z){const G=this.planes;for(let W=0;W<6;W++){const F=G[W];if(_vector$6.x=F.normal.x>0?Z.max.x:Z.min.x,_vector$6.y=F.normal.y>0?Z.max.y:Z.min.y,_vector$6.z=F.normal.z>0?Z.max.z:Z.min.z,F.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(Z){const G=this.planes;for(let W=0;W<6;W++)if(G[W].distanceToPoint(Z)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let X=null,Z=!1,G=null,W=null;function F(U,J){G(U,J),W=X.requestAnimationFrame(F)}return{start:function(){Z!==!0&&G!==null&&(W=X.requestAnimationFrame(F),Z=!0)},stop:function(){X.cancelAnimationFrame(W),Z=!1},setAnimationLoop:function(U){G=U},setContext:function(U){X=U}}}function WebGLAttributes(X,Z){const G=Z.isWebGL2,W=new WeakMap;function F(Q,ee){const q=Q.array,te=Q.usage,ie=X.createBuffer();X.bindBuffer(ee,ie),X.bufferData(ee,q,te),Q.onUploadCallback();let ne;if(q instanceof Float32Array)ne=X.FLOAT;else if(q instanceof Uint16Array)if(Q.isFloat16BufferAttribute)if(G)ne=X.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else ne=X.UNSIGNED_SHORT;else if(q instanceof Int16Array)ne=X.SHORT;else if(q instanceof Uint32Array)ne=X.UNSIGNED_INT;else if(q instanceof Int32Array)ne=X.INT;else if(q instanceof Int8Array)ne=X.BYTE;else if(q instanceof Uint8Array)ne=X.UNSIGNED_BYTE;else if(q instanceof Uint8ClampedArray)ne=X.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+q);return{buffer:ie,type:ne,bytesPerElement:q.BYTES_PER_ELEMENT,version:Q.version}}function U(Q,ee,q){const te=ee.array,ie=ee.updateRange;X.bindBuffer(q,Q),ie.count===-1?X.bufferSubData(q,0,te):(G?X.bufferSubData(q,ie.offset*te.BYTES_PER_ELEMENT,te,ie.offset,ie.count):X.bufferSubData(q,ie.offset*te.BYTES_PER_ELEMENT,te.subarray(ie.offset,ie.offset+ie.count)),ie.count=-1),ee.onUploadCallback()}function J(Q){return Q.isInterleavedBufferAttribute&&(Q=Q.data),W.get(Q)}function Y(Q){Q.isInterleavedBufferAttribute&&(Q=Q.data);const ee=W.get(Q);ee&&(X.deleteBuffer(ee.buffer),W.delete(Q))}function D(Q,ee){if(Q.isGLBufferAttribute){const te=W.get(Q);(!te||te.version<Q.version)&&W.set(Q,{buffer:Q.buffer,type:Q.type,bytesPerElement:Q.elementSize,version:Q.version});return}Q.isInterleavedBufferAttribute&&(Q=Q.data);const q=W.get(Q);q===void 0?W.set(Q,F(Q,ee)):q.version<Q.version&&(U(q.buffer,Q,ee),q.version=Q.version)}return{get:J,remove:Y,update:D}}class PlaneGeometry extends BufferGeometry{constructor(Z=1,G=1,W=1,F=1){super(),this.type="PlaneGeometry",this.parameters={width:Z,height:G,widthSegments:W,heightSegments:F};const U=Z/2,J=G/2,Y=Math.floor(W),D=Math.floor(F),Q=Y+1,ee=D+1,q=Z/Y,te=G/D,ie=[],ne=[],ce=[],le=[];for(let se=0;se<ee;se++){const pe=se*te-J;for(let ue=0;ue<Q;ue++){const ae=ue*q-U;ne.push(ae,-pe,0),ce.push(0,0,1),le.push(ue/Y),le.push(1-se/D)}}for(let se=0;se<D;se++)for(let pe=0;pe<Y;pe++){const ue=pe+Q*se,ae=pe+Q*(se+1),de=pe+1+Q*(se+1),be=pe+1+Q*se;ie.push(ue,ae,be),ie.push(ae,de,be)}this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(le,2))}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new PlaneGeometry(Z.width,Z.height,Z.widthSegments,Z.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common$7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common:common$7,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(X,Z,G,W,F,U,J){const Y=new Color(0);let D=U===!0?0:1,Q,ee,q=null,te=0,ie=null;function ne(le,se){let pe=!1,ue=se.isScene===!0?se.background:null;ue&&ue.isTexture&&(ue=(se.backgroundBlurriness>0?G:Z).get(ue)),ue===null?ce(Y,D):ue&&ue.isColor&&(ce(ue,1),pe=!0);const ae=X.xr.getEnvironmentBlendMode();ae==="additive"?W.buffers.color.setClear(0,0,0,1,J):ae==="alpha-blend"&&W.buffers.color.setClear(0,0,0,0,J),(X.autoClear||pe)&&X.clear(X.autoClearColor,X.autoClearDepth,X.autoClearStencil),ue&&(ue.isCubeTexture||ue.mapping===CubeUVReflectionMapping)?(ee===void 0&&(ee=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ee.geometry.deleteAttribute("normal"),ee.geometry.deleteAttribute("uv"),ee.onBeforeRender=function(de,be,he){this.matrixWorld.copyPosition(he.matrixWorld)},Object.defineProperty(ee.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),F.update(ee)),ee.material.uniforms.envMap.value=ue,ee.material.uniforms.flipEnvMap.value=ue.isCubeTexture&&ue.isRenderTargetTexture===!1?-1:1,ee.material.uniforms.backgroundBlurriness.value=se.backgroundBlurriness,ee.material.uniforms.backgroundIntensity.value=se.backgroundIntensity,ee.material.toneMapped=ColorManagement.getTransfer(ue.colorSpace)!==SRGBTransfer,(q!==ue||te!==ue.version||ie!==X.toneMapping)&&(ee.material.needsUpdate=!0,q=ue,te=ue.version,ie=X.toneMapping),ee.layers.enableAll(),le.unshift(ee,ee.geometry,ee.material,0,0,null)):ue&&ue.isTexture&&(Q===void 0&&(Q=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),Q.geometry.deleteAttribute("normal"),Object.defineProperty(Q.material,"map",{get:function(){return this.uniforms.t2D.value}}),F.update(Q)),Q.material.uniforms.t2D.value=ue,Q.material.uniforms.backgroundIntensity.value=se.backgroundIntensity,Q.material.toneMapped=ColorManagement.getTransfer(ue.colorSpace)!==SRGBTransfer,ue.matrixAutoUpdate===!0&&ue.updateMatrix(),Q.material.uniforms.uvTransform.value.copy(ue.matrix),(q!==ue||te!==ue.version||ie!==X.toneMapping)&&(Q.material.needsUpdate=!0,q=ue,te=ue.version,ie=X.toneMapping),Q.layers.enableAll(),le.unshift(Q,Q.geometry,Q.material,0,0,null))}function ce(le,se){le.getRGB(_rgb,getUnlitUniformColorSpace(X)),W.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,se,J)}return{getClearColor:function(){return Y},setClearColor:function(le,se=1){Y.set(le),D=se,ce(Y,D)},getClearAlpha:function(){return D},setClearAlpha:function(le){D=le,ce(Y,D)},render:ne}}function WebGLBindingStates(X,Z,G,W){const F=X.getParameter(X.MAX_VERTEX_ATTRIBS),U=W.isWebGL2?null:Z.get("OES_vertex_array_object"),J=W.isWebGL2||U!==null,Y={},D=le(null);let Q=D,ee=!1;function q(re,Ze,Ge,ve,Te){let xe=!1;if(J){const Ye=ce(ve,Ge,Ze);Q!==Ye&&(Q=Ye,ie(Q.object)),xe=se(re,ve,Ge,Te),xe&&pe(re,ve,Ge,Te)}else{const Ye=Ze.wireframe===!0;(Q.geometry!==ve.id||Q.program!==Ge.id||Q.wireframe!==Ye)&&(Q.geometry=ve.id,Q.program=Ge.id,Q.wireframe=Ye,xe=!0)}Te!==null&&G.update(Te,X.ELEMENT_ARRAY_BUFFER),(xe||ee)&&(ee=!1,Le(re,Ze,Ge,ve),Te!==null&&X.bindBuffer(X.ELEMENT_ARRAY_BUFFER,G.get(Te).buffer))}function te(){return W.isWebGL2?X.createVertexArray():U.createVertexArrayOES()}function ie(re){return W.isWebGL2?X.bindVertexArray(re):U.bindVertexArrayOES(re)}function ne(re){return W.isWebGL2?X.deleteVertexArray(re):U.deleteVertexArrayOES(re)}function ce(re,Ze,Ge){const ve=Ge.wireframe===!0;let Te=Y[re.id];Te===void 0&&(Te={},Y[re.id]=Te);let xe=Te[Ze.id];xe===void 0&&(xe={},Te[Ze.id]=xe);let Ye=xe[ve];return Ye===void 0&&(Ye=le(te()),xe[ve]=Ye),Ye}function le(re){const Ze=[],Ge=[],ve=[];for(let Te=0;Te<F;Te++)Ze[Te]=0,Ge[Te]=0,ve[Te]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ze,enabledAttributes:Ge,attributeDivisors:ve,object:re,attributes:{},index:null}}function se(re,Ze,Ge,ve){const Te=Q.attributes,xe=Ze.attributes;let Ye=0;const ge=Ge.getAttributes();for(const Me in ge)if(ge[Me].location>=0){const tt=Te[Me];let it=xe[Me];if(it===void 0&&(Me==="instanceMatrix"&&re.instanceMatrix&&(it=re.instanceMatrix),Me==="instanceColor"&&re.instanceColor&&(it=re.instanceColor)),tt===void 0||tt.attribute!==it||it&&tt.data!==it.data)return!0;Ye++}return Q.attributesNum!==Ye||Q.index!==ve}function pe(re,Ze,Ge,ve){const Te={},xe=Ze.attributes;let Ye=0;const ge=Ge.getAttributes();for(const Me in ge)if(ge[Me].location>=0){let tt=xe[Me];tt===void 0&&(Me==="instanceMatrix"&&re.instanceMatrix&&(tt=re.instanceMatrix),Me==="instanceColor"&&re.instanceColor&&(tt=re.instanceColor));const it={};it.attribute=tt,tt&&tt.data&&(it.data=tt.data),Te[Me]=it,Ye++}Q.attributes=Te,Q.attributesNum=Ye,Q.index=ve}function ue(){const re=Q.newAttributes;for(let Ze=0,Ge=re.length;Ze<Ge;Ze++)re[Ze]=0}function ae(re){de(re,0)}function de(re,Ze){const Ge=Q.newAttributes,ve=Q.enabledAttributes,Te=Q.attributeDivisors;Ge[re]=1,ve[re]===0&&(X.enableVertexAttribArray(re),ve[re]=1),Te[re]!==Ze&&((W.isWebGL2?X:Z.get("ANGLE_instanced_arrays"))[W.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](re,Ze),Te[re]=Ze)}function be(){const re=Q.newAttributes,Ze=Q.enabledAttributes;for(let Ge=0,ve=Ze.length;Ge<ve;Ge++)Ze[Ge]!==re[Ge]&&(X.disableVertexAttribArray(Ge),Ze[Ge]=0)}function he(re,Ze,Ge,ve,Te,xe,Ye){Ye===!0?X.vertexAttribIPointer(re,Ze,Ge,Te,xe):X.vertexAttribPointer(re,Ze,Ge,ve,Te,xe)}function Le(re,Ze,Ge,ve){if(W.isWebGL2===!1&&(re.isInstancedMesh||ve.isInstancedBufferGeometry)&&Z.get("ANGLE_instanced_arrays")===null)return;ue();const Te=ve.attributes,xe=Ge.getAttributes(),Ye=Ze.defaultAttributeValues;for(const ge in xe){const Me=xe[ge];if(Me.location>=0){let je=Te[ge];if(je===void 0&&(ge==="instanceMatrix"&&re.instanceMatrix&&(je=re.instanceMatrix),ge==="instanceColor"&&re.instanceColor&&(je=re.instanceColor)),je!==void 0){const tt=je.normalized,it=je.itemSize,st=G.get(je);if(st===void 0)continue;const qe=st.buffer,ot=st.type,ut=st.bytesPerElement,dt=W.isWebGL2===!0&&(ot===X.INT||ot===X.UNSIGNED_INT||je.gpuType===IntType);if(je.isInterleavedBufferAttribute){const mt=je.data,Je=mt.stride,Ne=je.offset;if(mt.isInstancedInterleavedBuffer){for(let ke=0;ke<Me.locationSize;ke++)de(Me.location+ke,mt.meshPerAttribute);re.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=mt.meshPerAttribute*mt.count)}else for(let ke=0;ke<Me.locationSize;ke++)ae(Me.location+ke);X.bindBuffer(X.ARRAY_BUFFER,qe);for(let ke=0;ke<Me.locationSize;ke++)he(Me.location+ke,it/Me.locationSize,ot,tt,Je*ut,(Ne+it/Me.locationSize*ke)*ut,dt)}else{if(je.isInstancedBufferAttribute){for(let mt=0;mt<Me.locationSize;mt++)de(Me.location+mt,je.meshPerAttribute);re.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let mt=0;mt<Me.locationSize;mt++)ae(Me.location+mt);X.bindBuffer(X.ARRAY_BUFFER,qe);for(let mt=0;mt<Me.locationSize;mt++)he(Me.location+mt,it/Me.locationSize,ot,tt,it*ut,it/Me.locationSize*mt*ut,dt)}}else if(Ye!==void 0){const tt=Ye[ge];if(tt!==void 0)switch(tt.length){case 2:X.vertexAttrib2fv(Me.location,tt);break;case 3:X.vertexAttrib3fv(Me.location,tt);break;case 4:X.vertexAttrib4fv(Me.location,tt);break;default:X.vertexAttrib1fv(Me.location,tt)}}}}be()}function Xe(){Re();for(const re in Y){const Ze=Y[re];for(const Ge in Ze){const ve=Ze[Ge];for(const Te in ve)ne(ve[Te].object),delete ve[Te];delete Ze[Ge]}delete Y[re]}}function We(re){if(Y[re.id]===void 0)return;const Ze=Y[re.id];for(const Ge in Ze){const ve=Ze[Ge];for(const Te in ve)ne(ve[Te].object),delete ve[Te];delete Ze[Ge]}delete Y[re.id]}function fe(re){for(const Ze in Y){const Ge=Y[Ze];if(Ge[re.id]===void 0)continue;const ve=Ge[re.id];for(const Te in ve)ne(ve[Te].object),delete ve[Te];delete Ge[re.id]}}function Re(){ye(),ee=!0,Q!==D&&(Q=D,ie(Q.object))}function ye(){D.geometry=null,D.program=null,D.wireframe=!1}return{setup:q,reset:Re,resetDefaultState:ye,dispose:Xe,releaseStatesOfGeometry:We,releaseStatesOfProgram:fe,initAttributes:ue,enableAttribute:ae,disableUnusedAttributes:be}}function WebGLBufferRenderer(X,Z,G,W){const F=W.isWebGL2;let U;function J(Q){U=Q}function Y(Q,ee){X.drawArrays(U,Q,ee),G.update(ee,U,1)}function D(Q,ee,q){if(q===0)return;let te,ie;if(F)te=X,ie="drawArraysInstanced";else if(te=Z.get("ANGLE_instanced_arrays"),ie="drawArraysInstancedANGLE",te===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}te[ie](U,Q,ee,q),G.update(ee,U,q)}this.setMode=J,this.render=Y,this.renderInstances=D}function WebGLCapabilities(X,Z,G){let W;function F(){if(W!==void 0)return W;if(Z.has("EXT_texture_filter_anisotropic")===!0){const he=Z.get("EXT_texture_filter_anisotropic");W=X.getParameter(he.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else W=0;return W}function U(he){if(he==="highp"){if(X.getShaderPrecisionFormat(X.VERTEX_SHADER,X.HIGH_FLOAT).precision>0&&X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.HIGH_FLOAT).precision>0)return"highp";he="mediump"}return he==="mediump"&&X.getShaderPrecisionFormat(X.VERTEX_SHADER,X.MEDIUM_FLOAT).precision>0&&X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const J=typeof WebGL2RenderingContext<"u"&&X.constructor.name==="WebGL2RenderingContext";let Y=G.precision!==void 0?G.precision:"highp";const D=U(Y);D!==Y&&(console.warn("THREE.WebGLRenderer:",Y,"not supported, using",D,"instead."),Y=D);const Q=J||Z.has("WEBGL_draw_buffers"),ee=G.logarithmicDepthBuffer===!0,q=X.getParameter(X.MAX_TEXTURE_IMAGE_UNITS),te=X.getParameter(X.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ie=X.getParameter(X.MAX_TEXTURE_SIZE),ne=X.getParameter(X.MAX_CUBE_MAP_TEXTURE_SIZE),ce=X.getParameter(X.MAX_VERTEX_ATTRIBS),le=X.getParameter(X.MAX_VERTEX_UNIFORM_VECTORS),se=X.getParameter(X.MAX_VARYING_VECTORS),pe=X.getParameter(X.MAX_FRAGMENT_UNIFORM_VECTORS),ue=te>0,ae=J||Z.has("OES_texture_float"),de=ue&&ae,be=J?X.getParameter(X.MAX_SAMPLES):0;return{isWebGL2:J,drawBuffers:Q,getMaxAnisotropy:F,getMaxPrecision:U,precision:Y,logarithmicDepthBuffer:ee,maxTextures:q,maxVertexTextures:te,maxTextureSize:ie,maxCubemapSize:ne,maxAttributes:ce,maxVertexUniforms:le,maxVaryings:se,maxFragmentUniforms:pe,vertexTextures:ue,floatFragmentTextures:ae,floatVertexTextures:de,maxSamples:be}}function WebGLClipping(X){const Z=this;let G=null,W=0,F=!1,U=!1;const J=new Plane,Y=new Matrix3,D={value:null,needsUpdate:!1};this.uniform=D,this.numPlanes=0,this.numIntersection=0,this.init=function(q,te){const ie=q.length!==0||te||W!==0||F;return F=te,W=q.length,ie},this.beginShadows=function(){U=!0,ee(null)},this.endShadows=function(){U=!1},this.setGlobalState=function(q,te){G=ee(q,te,0)},this.setState=function(q,te,ie){const ne=q.clippingPlanes,ce=q.clipIntersection,le=q.clipShadows,se=X.get(q);if(!F||ne===null||ne.length===0||U&&!le)U?ee(null):Q();else{const pe=U?0:W,ue=pe*4;let ae=se.clippingState||null;D.value=ae,ae=ee(ne,te,ue,ie);for(let de=0;de!==ue;++de)ae[de]=G[de];se.clippingState=ae,this.numIntersection=ce?this.numPlanes:0,this.numPlanes+=pe}};function Q(){D.value!==G&&(D.value=G,D.needsUpdate=W>0),Z.numPlanes=W,Z.numIntersection=0}function ee(q,te,ie,ne){const ce=q!==null?q.length:0;let le=null;if(ce!==0){if(le=D.value,ne!==!0||le===null){const se=ie+ce*4,pe=te.matrixWorldInverse;Y.getNormalMatrix(pe),(le===null||le.length<se)&&(le=new Float32Array(se));for(let ue=0,ae=ie;ue!==ce;++ue,ae+=4)J.copy(q[ue]).applyMatrix4(pe,Y),J.normal.toArray(le,ae),le[ae+3]=J.constant}D.value=le,D.needsUpdate=!0}return Z.numPlanes=ce,Z.numIntersection=0,le}}function WebGLCubeMaps(X){let Z=new WeakMap;function G(J,Y){return Y===EquirectangularReflectionMapping?J.mapping=CubeReflectionMapping:Y===EquirectangularRefractionMapping&&(J.mapping=CubeRefractionMapping),J}function W(J){if(J&&J.isTexture&&J.isRenderTargetTexture===!1){const Y=J.mapping;if(Y===EquirectangularReflectionMapping||Y===EquirectangularRefractionMapping)if(Z.has(J)){const D=Z.get(J).texture;return G(D,J.mapping)}else{const D=J.image;if(D&&D.height>0){const Q=new WebGLCubeRenderTarget(D.height/2);return Q.fromEquirectangularTexture(X,J),Z.set(J,Q),J.addEventListener("dispose",F),G(Q.texture,J.mapping)}else return null}}return J}function F(J){const Y=J.target;Y.removeEventListener("dispose",F);const D=Z.get(Y);D!==void 0&&(Z.delete(Y),D.dispose())}function U(){Z=new WeakMap}return{get:W,dispose:U}}class OrthographicCamera extends Camera{constructor(Z=-1,G=1,W=1,F=-1,U=.1,J=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=Z,this.right=G,this.top=W,this.bottom=F,this.near=U,this.far=J,this.updateProjectionMatrix()}copy(Z,G){return super.copy(Z,G),this.left=Z.left,this.right=Z.right,this.top=Z.top,this.bottom=Z.bottom,this.near=Z.near,this.far=Z.far,this.zoom=Z.zoom,this.view=Z.view===null?null:Object.assign({},Z.view),this}setViewOffset(Z,G,W,F,U,J){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=Z,this.view.fullHeight=G,this.view.offsetX=W,this.view.offsetY=F,this.view.width=U,this.view.height=J,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const Z=(this.right-this.left)/(2*this.zoom),G=(this.top-this.bottom)/(2*this.zoom),W=(this.right+this.left)/2,F=(this.top+this.bottom)/2;let U=W-Z,J=W+Z,Y=F+G,D=F-G;if(this.view!==null&&this.view.enabled){const Q=(this.right-this.left)/this.view.fullWidth/this.zoom,ee=(this.top-this.bottom)/this.view.fullHeight/this.zoom;U+=Q*this.view.offsetX,J=U+Q*this.view.width,Y-=ee*this.view.offsetY,D=Y-ee*this.view.height}this.projectionMatrix.makeOrthographic(U,J,Y,D,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(Z){const G=super.toJSON(Z);return G.object.zoom=this.zoom,G.object.left=this.left,G.object.right=this.right,G.object.top=this.top,G.object.bottom=this.bottom,G.object.near=this.near,G.object.far=this.far,this.view!==null&&(G.object.view=Object.assign({},this.view)),G}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(Z){this._renderer=Z,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(Z,G=0,W=.1,F=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),this._setSize(256);const U=this._allocateTargets();return U.depthBuffer=!0,this._sceneToCubeUV(Z,W,F,U),G>0&&this._blur(U,0,0,G),this._applyPMREM(U),this._cleanup(U),U}fromEquirectangular(Z,G=null){return this._fromTexture(Z,G)}fromCubemap(Z,G=null){return this._fromTexture(Z,G)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(Z){this._lodMax=Math.floor(Math.log2(Z)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let Z=0;Z<this._lodPlanes.length;Z++)this._lodPlanes[Z].dispose()}_cleanup(Z){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),Z.scissorTest=!1,_setViewport(Z,0,0,Z.width,Z.height)}_fromTexture(Z,G){Z.mapping===CubeReflectionMapping||Z.mapping===CubeRefractionMapping?this._setSize(Z.image.length===0?16:Z.image[0].width||Z.image[0].image.width):this._setSize(Z.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel();const W=G||this._allocateTargets();return this._textureToCubeUV(Z,W),this._applyPMREM(W),this._cleanup(W),W}_allocateTargets(){const Z=3*Math.max(this._cubeSize,112),G=4*this._cubeSize,W={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},F=_createRenderTarget(Z,G,W);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==Z||this._pingPongRenderTarget.height!==G){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(Z,G,W);const{_lodMax:U}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(U)),this._blurMaterial=_getBlurShader(U,Z,G)}return F}_compileMaterial(Z){const G=new Mesh(this._lodPlanes[0],Z);this._renderer.compile(G,_flatCamera)}_sceneToCubeUV(Z,G,W,F){const Y=new PerspectiveCamera(90,1,G,W),D=[1,-1,1,1,1,1],Q=[1,1,1,-1,-1,-1],ee=this._renderer,q=ee.autoClear,te=ee.toneMapping;ee.getClearColor(_clearColor),ee.toneMapping=NoToneMapping,ee.autoClear=!1;const ie=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ne=new Mesh(new BoxGeometry,ie);let ce=!1;const le=Z.background;le?le.isColor&&(ie.color.copy(le),Z.background=null,ce=!0):(ie.color.copy(_clearColor),ce=!0);for(let se=0;se<6;se++){const pe=se%3;pe===0?(Y.up.set(0,D[se],0),Y.lookAt(Q[se],0,0)):pe===1?(Y.up.set(0,0,D[se]),Y.lookAt(0,Q[se],0)):(Y.up.set(0,D[se],0),Y.lookAt(0,0,Q[se]));const ue=this._cubeSize;_setViewport(F,pe*ue,se>2?ue:0,ue,ue),ee.setRenderTarget(F),ce&&ee.render(ne,Y),ee.render(Z,Y)}ne.geometry.dispose(),ne.material.dispose(),ee.toneMapping=te,ee.autoClear=q,Z.background=le}_textureToCubeUV(Z,G){const W=this._renderer,F=Z.mapping===CubeReflectionMapping||Z.mapping===CubeRefractionMapping;F?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=Z.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const U=F?this._cubemapMaterial:this._equirectMaterial,J=new Mesh(this._lodPlanes[0],U),Y=U.uniforms;Y.envMap.value=Z;const D=this._cubeSize;_setViewport(G,0,0,3*D,2*D),W.setRenderTarget(G),W.render(J,_flatCamera)}_applyPMREM(Z){const G=this._renderer,W=G.autoClear;G.autoClear=!1;for(let F=1;F<this._lodPlanes.length;F++){const U=Math.sqrt(this._sigmas[F]*this._sigmas[F]-this._sigmas[F-1]*this._sigmas[F-1]),J=_axisDirections[(F-1)%_axisDirections.length];this._blur(Z,F-1,F,U,J)}G.autoClear=W}_blur(Z,G,W,F,U){const J=this._pingPongRenderTarget;this._halfBlur(Z,J,G,W,F,"latitudinal",U),this._halfBlur(J,Z,W,W,F,"longitudinal",U)}_halfBlur(Z,G,W,F,U,J,Y){const D=this._renderer,Q=this._blurMaterial;J!=="latitudinal"&&J!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ee=3,q=new Mesh(this._lodPlanes[F],Q),te=Q.uniforms,ie=this._sizeLods[W]-1,ne=isFinite(U)?Math.PI/(2*ie):2*Math.PI/(2*MAX_SAMPLES-1),ce=U/ne,le=isFinite(U)?1+Math.floor(ee*ce):MAX_SAMPLES;le>MAX_SAMPLES&&console.warn(`sigmaRadians, ${U}, is too large and will clip, as it requested ${le} samples when the maximum is set to ${MAX_SAMPLES}`);const se=[];let pe=0;for(let he=0;he<MAX_SAMPLES;++he){const Le=he/ce,Xe=Math.exp(-Le*Le/2);se.push(Xe),he===0?pe+=Xe:he<le&&(pe+=2*Xe)}for(let he=0;he<se.length;he++)se[he]=se[he]/pe;te.envMap.value=Z.texture,te.samples.value=le,te.weights.value=se,te.latitudinal.value=J==="latitudinal",Y&&(te.poleAxis.value=Y);const{_lodMax:ue}=this;te.dTheta.value=ne,te.mipInt.value=ue-W;const ae=this._sizeLods[F],de=3*ae*(F>ue-LOD_MIN?F-ue+LOD_MIN:0),be=4*(this._cubeSize-ae);_setViewport(G,de,be,3*ae,2*ae),D.setRenderTarget(G),D.render(q,_flatCamera)}}function _createPlanes(X){const Z=[],G=[],W=[];let F=X;const U=X-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let J=0;J<U;J++){const Y=Math.pow(2,F);G.push(Y);let D=1/Y;J>X-LOD_MIN?D=EXTRA_LOD_SIGMA[J-X+LOD_MIN-1]:J===0&&(D=0),W.push(D);const Q=1/(Y-2),ee=-Q,q=1+Q,te=[ee,ee,q,ee,q,q,ee,ee,q,q,ee,q],ie=6,ne=6,ce=3,le=2,se=1,pe=new Float32Array(ce*ne*ie),ue=new Float32Array(le*ne*ie),ae=new Float32Array(se*ne*ie);for(let be=0;be<ie;be++){const he=be%3*2/3-1,Le=be>2?0:-1,Xe=[he,Le,0,he+2/3,Le,0,he+2/3,Le+1,0,he,Le,0,he+2/3,Le+1,0,he,Le+1,0];pe.set(Xe,ce*ne*be),ue.set(te,le*ne*be);const We=[be,be,be,be,be,be];ae.set(We,se*ne*be)}const de=new BufferGeometry;de.setAttribute("position",new BufferAttribute(pe,ce)),de.setAttribute("uv",new BufferAttribute(ue,le)),de.setAttribute("faceIndex",new BufferAttribute(ae,se)),Z.push(de),F>LOD_MIN&&F--}return{lodPlanes:Z,sizeLods:G,sigmas:W}}function _createRenderTarget(X,Z,G){const W=new WebGLRenderTarget(X,Z,G);return W.texture.mapping=CubeUVReflectionMapping,W.texture.name="PMREM.cubeUv",W.scissorTest=!0,W}function _setViewport(X,Z,G,W,F){X.viewport.set(Z,G,W,F),X.scissor.set(Z,G,W,F)}function _getBlurShader(X,Z,G){const W=new Float32Array(MAX_SAMPLES),F=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/Z,CUBEUV_TEXEL_HEIGHT:1/G,CUBEUV_MAX_MIP:`${X}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:W},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:F}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(X){let Z=new WeakMap,G=null;function W(Y){if(Y&&Y.isTexture){const D=Y.mapping,Q=D===EquirectangularReflectionMapping||D===EquirectangularRefractionMapping,ee=D===CubeReflectionMapping||D===CubeRefractionMapping;if(Q||ee)if(Y.isRenderTargetTexture&&Y.needsPMREMUpdate===!0){Y.needsPMREMUpdate=!1;let q=Z.get(Y);return G===null&&(G=new PMREMGenerator(X)),q=Q?G.fromEquirectangular(Y,q):G.fromCubemap(Y,q),Z.set(Y,q),q.texture}else{if(Z.has(Y))return Z.get(Y).texture;{const q=Y.image;if(Q&&q&&q.height>0||ee&&q&&F(q)){G===null&&(G=new PMREMGenerator(X));const te=Q?G.fromEquirectangular(Y):G.fromCubemap(Y);return Z.set(Y,te),Y.addEventListener("dispose",U),te.texture}else return null}}}return Y}function F(Y){let D=0;const Q=6;for(let ee=0;ee<Q;ee++)Y[ee]!==void 0&&D++;return D===Q}function U(Y){const D=Y.target;D.removeEventListener("dispose",U);const Q=Z.get(D);Q!==void 0&&(Z.delete(D),Q.dispose())}function J(){Z=new WeakMap,G!==null&&(G.dispose(),G=null)}return{get:W,dispose:J}}function WebGLExtensions(X){const Z={};function G(W){if(Z[W]!==void 0)return Z[W];let F;switch(W){case"WEBGL_depth_texture":F=X.getExtension("WEBGL_depth_texture")||X.getExtension("MOZ_WEBGL_depth_texture")||X.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":F=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":F=X.getExtension("WEBGL_compressed_texture_s3tc")||X.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||X.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":F=X.getExtension("WEBGL_compressed_texture_pvrtc")||X.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:F=X.getExtension(W)}return Z[W]=F,F}return{has:function(W){return G(W)!==null},init:function(W){W.isWebGL2?G("EXT_color_buffer_float"):(G("WEBGL_depth_texture"),G("OES_texture_float"),G("OES_texture_half_float"),G("OES_texture_half_float_linear"),G("OES_standard_derivatives"),G("OES_element_index_uint"),G("OES_vertex_array_object"),G("ANGLE_instanced_arrays")),G("OES_texture_float_linear"),G("EXT_color_buffer_half_float"),G("WEBGL_multisampled_render_to_texture")},get:function(W){const F=G(W);return F===null&&console.warn("THREE.WebGLRenderer: "+W+" extension not supported."),F}}}function WebGLGeometries(X,Z,G,W){const F={},U=new WeakMap;function J(q){const te=q.target;te.index!==null&&Z.remove(te.index);for(const ne in te.attributes)Z.remove(te.attributes[ne]);for(const ne in te.morphAttributes){const ce=te.morphAttributes[ne];for(let le=0,se=ce.length;le<se;le++)Z.remove(ce[le])}te.removeEventListener("dispose",J),delete F[te.id];const ie=U.get(te);ie&&(Z.remove(ie),U.delete(te)),W.releaseStatesOfGeometry(te),te.isInstancedBufferGeometry===!0&&delete te._maxInstanceCount,G.memory.geometries--}function Y(q,te){return F[te.id]===!0||(te.addEventListener("dispose",J),F[te.id]=!0,G.memory.geometries++),te}function D(q){const te=q.attributes;for(const ne in te)Z.update(te[ne],X.ARRAY_BUFFER);const ie=q.morphAttributes;for(const ne in ie){const ce=ie[ne];for(let le=0,se=ce.length;le<se;le++)Z.update(ce[le],X.ARRAY_BUFFER)}}function Q(q){const te=[],ie=q.index,ne=q.attributes.position;let ce=0;if(ie!==null){const pe=ie.array;ce=ie.version;for(let ue=0,ae=pe.length;ue<ae;ue+=3){const de=pe[ue+0],be=pe[ue+1],he=pe[ue+2];te.push(de,be,be,he,he,de)}}else if(ne!==void 0){const pe=ne.array;ce=ne.version;for(let ue=0,ae=pe.length/3-1;ue<ae;ue+=3){const de=ue+0,be=ue+1,he=ue+2;te.push(de,be,be,he,he,de)}}else return;const le=new(arrayNeedsUint32(te)?Uint32BufferAttribute:Uint16BufferAttribute)(te,1);le.version=ce;const se=U.get(q);se&&Z.remove(se),U.set(q,le)}function ee(q){const te=U.get(q);if(te){const ie=q.index;ie!==null&&te.version<ie.version&&Q(q)}else Q(q);return U.get(q)}return{get:Y,update:D,getWireframeAttribute:ee}}function WebGLIndexedBufferRenderer(X,Z,G,W){const F=W.isWebGL2;let U;function J(te){U=te}let Y,D;function Q(te){Y=te.type,D=te.bytesPerElement}function ee(te,ie){X.drawElements(U,ie,Y,te*D),G.update(ie,U,1)}function q(te,ie,ne){if(ne===0)return;let ce,le;if(F)ce=X,le="drawElementsInstanced";else if(ce=Z.get("ANGLE_instanced_arrays"),le="drawElementsInstancedANGLE",ce===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ce[le](U,ie,Y,te*D,ne),G.update(ie,U,ne)}this.setMode=J,this.setIndex=Q,this.render=ee,this.renderInstances=q}function WebGLInfo(X){const Z={geometries:0,textures:0},G={frame:0,calls:0,triangles:0,points:0,lines:0};function W(U,J,Y){switch(G.calls++,J){case X.TRIANGLES:G.triangles+=Y*(U/3);break;case X.LINES:G.lines+=Y*(U/2);break;case X.LINE_STRIP:G.lines+=Y*(U-1);break;case X.LINE_LOOP:G.lines+=Y*U;break;case X.POINTS:G.points+=Y*U;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",J);break}}function F(){G.calls=0,G.triangles=0,G.points=0,G.lines=0}return{memory:Z,render:G,programs:null,autoReset:!0,reset:F,update:W}}function numericalSort(X,Z){return X[0]-Z[0]}function absNumericalSort(X,Z){return Math.abs(Z[1])-Math.abs(X[1])}function WebGLMorphtargets(X,Z,G){const W={},F=new Float32Array(8),U=new WeakMap,J=new Vector4,Y=[];for(let Q=0;Q<8;Q++)Y[Q]=[Q,0];function D(Q,ee,q){const te=Q.morphTargetInfluences;if(Z.isWebGL2===!0){const ne=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,ce=ne!==void 0?ne.length:0;let le=U.get(ee);if(le===void 0||le.count!==ce){let Ze=function(){ye.dispose(),U.delete(ee),ee.removeEventListener("dispose",Ze)};var ie=Ze;le!==void 0&&le.texture.dispose();const ue=ee.morphAttributes.position!==void 0,ae=ee.morphAttributes.normal!==void 0,de=ee.morphAttributes.color!==void 0,be=ee.morphAttributes.position||[],he=ee.morphAttributes.normal||[],Le=ee.morphAttributes.color||[];let Xe=0;ue===!0&&(Xe=1),ae===!0&&(Xe=2),de===!0&&(Xe=3);let We=ee.attributes.position.count*Xe,fe=1;We>Z.maxTextureSize&&(fe=Math.ceil(We/Z.maxTextureSize),We=Z.maxTextureSize);const Re=new Float32Array(We*fe*4*ce),ye=new DataArrayTexture(Re,We,fe,ce);ye.type=FloatType,ye.needsUpdate=!0;const re=Xe*4;for(let Ge=0;Ge<ce;Ge++){const ve=be[Ge],Te=he[Ge],xe=Le[Ge],Ye=We*fe*4*Ge;for(let ge=0;ge<ve.count;ge++){const Me=ge*re;ue===!0&&(J.fromBufferAttribute(ve,ge),Re[Ye+Me+0]=J.x,Re[Ye+Me+1]=J.y,Re[Ye+Me+2]=J.z,Re[Ye+Me+3]=0),ae===!0&&(J.fromBufferAttribute(Te,ge),Re[Ye+Me+4]=J.x,Re[Ye+Me+5]=J.y,Re[Ye+Me+6]=J.z,Re[Ye+Me+7]=0),de===!0&&(J.fromBufferAttribute(xe,ge),Re[Ye+Me+8]=J.x,Re[Ye+Me+9]=J.y,Re[Ye+Me+10]=J.z,Re[Ye+Me+11]=xe.itemSize===4?J.w:1)}}le={count:ce,texture:ye,size:new Vector2(We,fe)},U.set(ee,le),ee.addEventListener("dispose",Ze)}let se=0;for(let ue=0;ue<te.length;ue++)se+=te[ue];const pe=ee.morphTargetsRelative?1:1-se;q.getUniforms().setValue(X,"morphTargetBaseInfluence",pe),q.getUniforms().setValue(X,"morphTargetInfluences",te),q.getUniforms().setValue(X,"morphTargetsTexture",le.texture,G),q.getUniforms().setValue(X,"morphTargetsTextureSize",le.size)}else{const ne=te===void 0?0:te.length;let ce=W[ee.id];if(ce===void 0||ce.length!==ne){ce=[];for(let ae=0;ae<ne;ae++)ce[ae]=[ae,0];W[ee.id]=ce}for(let ae=0;ae<ne;ae++){const de=ce[ae];de[0]=ae,de[1]=te[ae]}ce.sort(absNumericalSort);for(let ae=0;ae<8;ae++)ae<ne&&ce[ae][1]?(Y[ae][0]=ce[ae][0],Y[ae][1]=ce[ae][1]):(Y[ae][0]=Number.MAX_SAFE_INTEGER,Y[ae][1]=0);Y.sort(numericalSort);const le=ee.morphAttributes.position,se=ee.morphAttributes.normal;let pe=0;for(let ae=0;ae<8;ae++){const de=Y[ae],be=de[0],he=de[1];be!==Number.MAX_SAFE_INTEGER&&he?(le&&ee.getAttribute("morphTarget"+ae)!==le[be]&&ee.setAttribute("morphTarget"+ae,le[be]),se&&ee.getAttribute("morphNormal"+ae)!==se[be]&&ee.setAttribute("morphNormal"+ae,se[be]),F[ae]=he,pe+=he):(le&&ee.hasAttribute("morphTarget"+ae)===!0&&ee.deleteAttribute("morphTarget"+ae),se&&ee.hasAttribute("morphNormal"+ae)===!0&&ee.deleteAttribute("morphNormal"+ae),F[ae]=0)}const ue=ee.morphTargetsRelative?1:1-pe;q.getUniforms().setValue(X,"morphTargetBaseInfluence",ue),q.getUniforms().setValue(X,"morphTargetInfluences",F)}}return{update:D}}function WebGLObjects(X,Z,G,W){let F=new WeakMap;function U(D){const Q=W.render.frame,ee=D.geometry,q=Z.get(D,ee);if(F.get(q)!==Q&&(Z.update(q),F.set(q,Q)),D.isInstancedMesh&&(D.hasEventListener("dispose",Y)===!1&&D.addEventListener("dispose",Y),F.get(D)!==Q&&(G.update(D.instanceMatrix,X.ARRAY_BUFFER),D.instanceColor!==null&&G.update(D.instanceColor,X.ARRAY_BUFFER),F.set(D,Q))),D.isSkinnedMesh){const te=D.skeleton;F.get(te)!==Q&&(te.update(),F.set(te,Q))}return q}function J(){F=new WeakMap}function Y(D){const Q=D.target;Q.removeEventListener("dispose",Y),G.remove(Q.instanceMatrix),Q.instanceColor!==null&&G.remove(Q.instanceColor)}return{update:U,dispose:J}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(X,Z,G){const W=X[0];if(W<=0||W>0)return X;const F=Z*G;let U=arrayCacheF32[F];if(U===void 0&&(U=new Float32Array(F),arrayCacheF32[F]=U),Z!==0){W.toArray(U,0);for(let J=1,Y=0;J!==Z;++J)Y+=G,X[J].toArray(U,Y)}return U}function arraysEqual$1(X,Z){if(X.length!==Z.length)return!1;for(let G=0,W=X.length;G<W;G++)if(X[G]!==Z[G])return!1;return!0}function copyArray$1(X,Z){for(let G=0,W=Z.length;G<W;G++)X[G]=Z[G]}function allocTexUnits(X,Z){let G=arrayCacheI32[Z];G===void 0&&(G=new Int32Array(Z),arrayCacheI32[Z]=G);for(let W=0;W!==Z;++W)G[W]=X.allocateTextureUnit();return G}function setValueV1f(X,Z){const G=this.cache;G[0]!==Z&&(X.uniform1f(this.addr,Z),G[0]=Z)}function setValueV2f(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y)&&(X.uniform2f(this.addr,Z.x,Z.y),G[0]=Z.x,G[1]=Z.y);else{if(arraysEqual$1(G,Z))return;X.uniform2fv(this.addr,Z),copyArray$1(G,Z)}}function setValueV3f(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z)&&(X.uniform3f(this.addr,Z.x,Z.y,Z.z),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z);else if(Z.r!==void 0)(G[0]!==Z.r||G[1]!==Z.g||G[2]!==Z.b)&&(X.uniform3f(this.addr,Z.r,Z.g,Z.b),G[0]=Z.r,G[1]=Z.g,G[2]=Z.b);else{if(arraysEqual$1(G,Z))return;X.uniform3fv(this.addr,Z),copyArray$1(G,Z)}}function setValueV4f(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z||G[3]!==Z.w)&&(X.uniform4f(this.addr,Z.x,Z.y,Z.z,Z.w),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z,G[3]=Z.w);else{if(arraysEqual$1(G,Z))return;X.uniform4fv(this.addr,Z),copyArray$1(G,Z)}}function setValueM2(X,Z){const G=this.cache,W=Z.elements;if(W===void 0){if(arraysEqual$1(G,Z))return;X.uniformMatrix2fv(this.addr,!1,Z),copyArray$1(G,Z)}else{if(arraysEqual$1(G,W))return;mat2array.set(W),X.uniformMatrix2fv(this.addr,!1,mat2array),copyArray$1(G,W)}}function setValueM3(X,Z){const G=this.cache,W=Z.elements;if(W===void 0){if(arraysEqual$1(G,Z))return;X.uniformMatrix3fv(this.addr,!1,Z),copyArray$1(G,Z)}else{if(arraysEqual$1(G,W))return;mat3array.set(W),X.uniformMatrix3fv(this.addr,!1,mat3array),copyArray$1(G,W)}}function setValueM4(X,Z){const G=this.cache,W=Z.elements;if(W===void 0){if(arraysEqual$1(G,Z))return;X.uniformMatrix4fv(this.addr,!1,Z),copyArray$1(G,Z)}else{if(arraysEqual$1(G,W))return;mat4array.set(W),X.uniformMatrix4fv(this.addr,!1,mat4array),copyArray$1(G,W)}}function setValueV1i(X,Z){const G=this.cache;G[0]!==Z&&(X.uniform1i(this.addr,Z),G[0]=Z)}function setValueV2i(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y)&&(X.uniform2i(this.addr,Z.x,Z.y),G[0]=Z.x,G[1]=Z.y);else{if(arraysEqual$1(G,Z))return;X.uniform2iv(this.addr,Z),copyArray$1(G,Z)}}function setValueV3i(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z)&&(X.uniform3i(this.addr,Z.x,Z.y,Z.z),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z);else{if(arraysEqual$1(G,Z))return;X.uniform3iv(this.addr,Z),copyArray$1(G,Z)}}function setValueV4i(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z||G[3]!==Z.w)&&(X.uniform4i(this.addr,Z.x,Z.y,Z.z,Z.w),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z,G[3]=Z.w);else{if(arraysEqual$1(G,Z))return;X.uniform4iv(this.addr,Z),copyArray$1(G,Z)}}function setValueV1ui(X,Z){const G=this.cache;G[0]!==Z&&(X.uniform1ui(this.addr,Z),G[0]=Z)}function setValueV2ui(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y)&&(X.uniform2ui(this.addr,Z.x,Z.y),G[0]=Z.x,G[1]=Z.y);else{if(arraysEqual$1(G,Z))return;X.uniform2uiv(this.addr,Z),copyArray$1(G,Z)}}function setValueV3ui(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z)&&(X.uniform3ui(this.addr,Z.x,Z.y,Z.z),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z);else{if(arraysEqual$1(G,Z))return;X.uniform3uiv(this.addr,Z),copyArray$1(G,Z)}}function setValueV4ui(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z||G[3]!==Z.w)&&(X.uniform4ui(this.addr,Z.x,Z.y,Z.z,Z.w),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z,G[3]=Z.w);else{if(arraysEqual$1(G,Z))return;X.uniform4uiv(this.addr,Z),copyArray$1(G,Z)}}function setValueT1(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTexture2D(Z||emptyTexture,F)}function setValueT3D1(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTexture3D(Z||empty3dTexture,F)}function setValueT6(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTextureCube(Z||emptyCubeTexture,F)}function setValueT2DArray1(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTexture2DArray(Z||emptyArrayTexture,F)}function getSingularSetter(X){switch(X){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(X,Z){X.uniform1fv(this.addr,Z)}function setValueV2fArray(X,Z){const G=flatten(Z,this.size,2);X.uniform2fv(this.addr,G)}function setValueV3fArray(X,Z){const G=flatten(Z,this.size,3);X.uniform3fv(this.addr,G)}function setValueV4fArray(X,Z){const G=flatten(Z,this.size,4);X.uniform4fv(this.addr,G)}function setValueM2Array(X,Z){const G=flatten(Z,this.size,4);X.uniformMatrix2fv(this.addr,!1,G)}function setValueM3Array(X,Z){const G=flatten(Z,this.size,9);X.uniformMatrix3fv(this.addr,!1,G)}function setValueM4Array(X,Z){const G=flatten(Z,this.size,16);X.uniformMatrix4fv(this.addr,!1,G)}function setValueV1iArray(X,Z){X.uniform1iv(this.addr,Z)}function setValueV2iArray(X,Z){X.uniform2iv(this.addr,Z)}function setValueV3iArray(X,Z){X.uniform3iv(this.addr,Z)}function setValueV4iArray(X,Z){X.uniform4iv(this.addr,Z)}function setValueV1uiArray(X,Z){X.uniform1uiv(this.addr,Z)}function setValueV2uiArray(X,Z){X.uniform2uiv(this.addr,Z)}function setValueV3uiArray(X,Z){X.uniform3uiv(this.addr,Z)}function setValueV4uiArray(X,Z){X.uniform4uiv(this.addr,Z)}function setValueT1Array(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTexture2D(Z[J]||emptyTexture,U[J])}function setValueT3DArray(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTexture3D(Z[J]||empty3dTexture,U[J])}function setValueT6Array(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTextureCube(Z[J]||emptyCubeTexture,U[J])}function setValueT2DArrayArray(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTexture2DArray(Z[J]||emptyArrayTexture,U[J])}function getPureArraySetter(X){switch(X){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(Z,G,W){this.id=Z,this.addr=W,this.cache=[],this.setValue=getSingularSetter(G.type)}}class PureArrayUniform{constructor(Z,G,W){this.id=Z,this.addr=W,this.cache=[],this.size=G.size,this.setValue=getPureArraySetter(G.type)}}class StructuredUniform{constructor(Z){this.id=Z,this.seq=[],this.map={}}setValue(Z,G,W){const F=this.seq;for(let U=0,J=F.length;U!==J;++U){const Y=F[U];Y.setValue(Z,G[Y.id],W)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(X,Z){X.seq.push(Z),X.map[Z.id]=Z}function parseUniform(X,Z,G){const W=X.name,F=W.length;for(RePathPart.lastIndex=0;;){const U=RePathPart.exec(W),J=RePathPart.lastIndex;let Y=U[1];const D=U[2]==="]",Q=U[3];if(D&&(Y=Y|0),Q===void 0||Q==="["&&J+2===F){addUniform(G,Q===void 0?new SingleUniform(Y,X,Z):new PureArrayUniform(Y,X,Z));break}else{let q=G.map[Y];q===void 0&&(q=new StructuredUniform(Y),addUniform(G,q)),G=q}}}class WebGLUniforms{constructor(Z,G){this.seq=[],this.map={};const W=Z.getProgramParameter(G,Z.ACTIVE_UNIFORMS);for(let F=0;F<W;++F){const U=Z.getActiveUniform(G,F),J=Z.getUniformLocation(G,U.name);parseUniform(U,J,this)}}setValue(Z,G,W,F){const U=this.map[G];U!==void 0&&U.setValue(Z,W,F)}setOptional(Z,G,W){const F=G[W];F!==void 0&&this.setValue(Z,W,F)}static upload(Z,G,W,F){for(let U=0,J=G.length;U!==J;++U){const Y=G[U],D=W[Y.id];D.needsUpdate!==!1&&Y.setValue(Z,D.value,F)}}static seqWithValue(Z,G){const W=[];for(let F=0,U=Z.length;F!==U;++F){const J=Z[F];J.id in G&&W.push(J)}return W}}function WebGLShader(X,Z,G){const W=X.createShader(Z);return X.shaderSource(W,G),X.compileShader(W),W}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(X,Z){const G=X.split(`
`),W=[],F=Math.max(Z-6,0),U=Math.min(Z+6,G.length);for(let J=F;J<U;J++){const Y=J+1;W.push(`${Y===Z?">":" "} ${Y}: ${G[J]}`)}return W.join(`
`)}function getEncodingComponents(X){const Z=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),G=ColorManagement.getPrimaries(X);let W;switch(Z===G?W="":Z===P3Primaries&&G===Rec709Primaries?W="LinearDisplayP3ToLinearSRGB":Z===Rec709Primaries&&G===P3Primaries&&(W="LinearSRGBToLinearDisplayP3"),X){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[W,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[W,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",X),[W,"LinearTransferOETF"]}}function getShaderErrors(X,Z,G){const W=X.getShaderParameter(Z,X.COMPILE_STATUS),F=X.getShaderInfoLog(Z).trim();if(W&&F==="")return"";const U=/ERROR: 0:(\d+)/.exec(F);if(U){const J=parseInt(U[1]);return G.toUpperCase()+`

`+F+`

`+handleSource(X.getShaderSource(Z),J)}else return F}function getTexelEncodingFunction(X,Z){const G=getEncodingComponents(Z);return`vec4 ${X}( vec4 value ) { return ${G[0]}( ${G[1]}( value ) ); }`}function getToneMappingFunction(X,Z){let G;switch(Z){case LinearToneMapping:G="Linear";break;case ReinhardToneMapping:G="Reinhard";break;case CineonToneMapping:G="OptimizedCineon";break;case ACESFilmicToneMapping:G="ACESFilmic";break;case CustomToneMapping:G="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",Z),G="Linear"}return"vec3 "+X+"( vec3 color ) { return "+G+"ToneMapping( color ); }"}function generateExtensions(X){return[X.extensionDerivatives||X.envMapCubeUVHeight||X.bumpMap||X.normalMapTangentSpace||X.clearcoatNormalMap||X.flatShading||X.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(X.extensionFragDepth||X.logarithmicDepthBuffer)&&X.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",X.extensionDrawBuffers&&X.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(X.extensionShaderTextureLOD||X.envMap||X.transmission)&&X.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(X){const Z=[];for(const G in X){const W=X[G];W!==!1&&Z.push("#define "+G+" "+W)}return Z.join(`
`)}function fetchAttributeLocations(X,Z){const G={},W=X.getProgramParameter(Z,X.ACTIVE_ATTRIBUTES);for(let F=0;F<W;F++){const U=X.getActiveAttrib(Z,F),J=U.name;let Y=1;U.type===X.FLOAT_MAT2&&(Y=2),U.type===X.FLOAT_MAT3&&(Y=3),U.type===X.FLOAT_MAT4&&(Y=4),G[J]={type:U.type,location:X.getAttribLocation(Z,J),locationSize:Y}}return G}function filterEmptyLine(X){return X!==""}function replaceLightNums(X,Z){const G=Z.numSpotLightShadows+Z.numSpotLightMaps-Z.numSpotLightShadowsWithMaps;return X.replace(/NUM_DIR_LIGHTS/g,Z.numDirLights).replace(/NUM_SPOT_LIGHTS/g,Z.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,Z.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,G).replace(/NUM_RECT_AREA_LIGHTS/g,Z.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,Z.numPointLights).replace(/NUM_HEMI_LIGHTS/g,Z.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,Z.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,Z.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,Z.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,Z.numPointLightShadows)}function replaceClippingPlaneNums(X,Z){return X.replace(/NUM_CLIPPING_PLANES/g,Z.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,Z.numClippingPlanes-Z.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(X){return X.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(X,Z){let G=ShaderChunk[Z];if(G===void 0){const W=shaderChunkMap.get(Z);if(W!==void 0)G=ShaderChunk[W],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',Z,W);else throw new Error("Can not resolve #include <"+Z+">")}return resolveIncludes(G)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(X){return X.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(X,Z,G,W){let F="";for(let U=parseInt(Z);U<parseInt(G);U++)F+=W.replace(/\[\s*i\s*\]/g,"[ "+U+" ]").replace(/UNROLLED_LOOP_INDEX/g,U);return F}function generatePrecision(X){let Z="precision "+X.precision+` float;
precision `+X.precision+" int;";return X.precision==="highp"?Z+=`
#define HIGH_PRECISION`:X.precision==="mediump"?Z+=`
#define MEDIUM_PRECISION`:X.precision==="lowp"&&(Z+=`
#define LOW_PRECISION`),Z}function generateShadowMapTypeDefine(X){let Z="SHADOWMAP_TYPE_BASIC";return X.shadowMapType===PCFShadowMap?Z="SHADOWMAP_TYPE_PCF":X.shadowMapType===PCFSoftShadowMap?Z="SHADOWMAP_TYPE_PCF_SOFT":X.shadowMapType===VSMShadowMap&&(Z="SHADOWMAP_TYPE_VSM"),Z}function generateEnvMapTypeDefine(X){let Z="ENVMAP_TYPE_CUBE";if(X.envMap)switch(X.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:Z="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:Z="ENVMAP_TYPE_CUBE_UV";break}return Z}function generateEnvMapModeDefine(X){let Z="ENVMAP_MODE_REFLECTION";if(X.envMap)switch(X.envMapMode){case CubeRefractionMapping:Z="ENVMAP_MODE_REFRACTION";break}return Z}function generateEnvMapBlendingDefine(X){let Z="ENVMAP_BLENDING_NONE";if(X.envMap)switch(X.combine){case MultiplyOperation:Z="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:Z="ENVMAP_BLENDING_MIX";break;case AddOperation:Z="ENVMAP_BLENDING_ADD";break}return Z}function generateCubeUVSize(X){const Z=X.envMapCubeUVHeight;if(Z===null)return null;const G=Math.log2(Z)-2,W=1/Z;return{texelWidth:1/(3*Math.max(Math.pow(2,G),7*16)),texelHeight:W,maxMip:G}}function WebGLProgram(X,Z,G,W){const F=X.getContext(),U=G.defines;let J=G.vertexShader,Y=G.fragmentShader;const D=generateShadowMapTypeDefine(G),Q=generateEnvMapTypeDefine(G),ee=generateEnvMapModeDefine(G),q=generateEnvMapBlendingDefine(G),te=generateCubeUVSize(G),ie=G.isWebGL2?"":generateExtensions(G),ne=generateDefines(U),ce=F.createProgram();let le,se,pe=G.glslVersion?"#version "+G.glslVersion+`
`:"";G.isRawShaderMaterial?(le=["#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne].filter(filterEmptyLine).join(`
`),le.length>0&&(le+=`
`),se=[ie,"#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne].filter(filterEmptyLine).join(`
`),se.length>0&&(se+=`
`)):(le=[generatePrecision(G),"#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne,G.instancing?"#define USE_INSTANCING":"",G.instancingColor?"#define USE_INSTANCING_COLOR":"",G.useFog&&G.fog?"#define USE_FOG":"",G.useFog&&G.fogExp2?"#define FOG_EXP2":"",G.map?"#define USE_MAP":"",G.envMap?"#define USE_ENVMAP":"",G.envMap?"#define "+ee:"",G.lightMap?"#define USE_LIGHTMAP":"",G.aoMap?"#define USE_AOMAP":"",G.bumpMap?"#define USE_BUMPMAP":"",G.normalMap?"#define USE_NORMALMAP":"",G.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",G.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",G.displacementMap?"#define USE_DISPLACEMENTMAP":"",G.emissiveMap?"#define USE_EMISSIVEMAP":"",G.anisotropy?"#define USE_ANISOTROPY":"",G.anisotropyMap?"#define USE_ANISOTROPYMAP":"",G.clearcoatMap?"#define USE_CLEARCOATMAP":"",G.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",G.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",G.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",G.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",G.specularMap?"#define USE_SPECULARMAP":"",G.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",G.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",G.roughnessMap?"#define USE_ROUGHNESSMAP":"",G.metalnessMap?"#define USE_METALNESSMAP":"",G.alphaMap?"#define USE_ALPHAMAP":"",G.alphaHash?"#define USE_ALPHAHASH":"",G.transmission?"#define USE_TRANSMISSION":"",G.transmissionMap?"#define USE_TRANSMISSIONMAP":"",G.thicknessMap?"#define USE_THICKNESSMAP":"",G.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",G.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",G.mapUv?"#define MAP_UV "+G.mapUv:"",G.alphaMapUv?"#define ALPHAMAP_UV "+G.alphaMapUv:"",G.lightMapUv?"#define LIGHTMAP_UV "+G.lightMapUv:"",G.aoMapUv?"#define AOMAP_UV "+G.aoMapUv:"",G.emissiveMapUv?"#define EMISSIVEMAP_UV "+G.emissiveMapUv:"",G.bumpMapUv?"#define BUMPMAP_UV "+G.bumpMapUv:"",G.normalMapUv?"#define NORMALMAP_UV "+G.normalMapUv:"",G.displacementMapUv?"#define DISPLACEMENTMAP_UV "+G.displacementMapUv:"",G.metalnessMapUv?"#define METALNESSMAP_UV "+G.metalnessMapUv:"",G.roughnessMapUv?"#define ROUGHNESSMAP_UV "+G.roughnessMapUv:"",G.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+G.anisotropyMapUv:"",G.clearcoatMapUv?"#define CLEARCOATMAP_UV "+G.clearcoatMapUv:"",G.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+G.clearcoatNormalMapUv:"",G.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+G.clearcoatRoughnessMapUv:"",G.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+G.iridescenceMapUv:"",G.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+G.iridescenceThicknessMapUv:"",G.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+G.sheenColorMapUv:"",G.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+G.sheenRoughnessMapUv:"",G.specularMapUv?"#define SPECULARMAP_UV "+G.specularMapUv:"",G.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+G.specularColorMapUv:"",G.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+G.specularIntensityMapUv:"",G.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+G.transmissionMapUv:"",G.thicknessMapUv?"#define THICKNESSMAP_UV "+G.thicknessMapUv:"",G.vertexTangents&&G.flatShading===!1?"#define USE_TANGENT":"",G.vertexColors?"#define USE_COLOR":"",G.vertexAlphas?"#define USE_COLOR_ALPHA":"",G.vertexUv1s?"#define USE_UV1":"",G.vertexUv2s?"#define USE_UV2":"",G.vertexUv3s?"#define USE_UV3":"",G.pointsUvs?"#define USE_POINTS_UV":"",G.flatShading?"#define FLAT_SHADED":"",G.skinning?"#define USE_SKINNING":"",G.morphTargets?"#define USE_MORPHTARGETS":"",G.morphNormals&&G.flatShading===!1?"#define USE_MORPHNORMALS":"",G.morphColors&&G.isWebGL2?"#define USE_MORPHCOLORS":"",G.morphTargetsCount>0&&G.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",G.morphTargetsCount>0&&G.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+G.morphTextureStride:"",G.morphTargetsCount>0&&G.isWebGL2?"#define MORPHTARGETS_COUNT "+G.morphTargetsCount:"",G.doubleSided?"#define DOUBLE_SIDED":"",G.flipSided?"#define FLIP_SIDED":"",G.shadowMapEnabled?"#define USE_SHADOWMAP":"",G.shadowMapEnabled?"#define "+D:"",G.sizeAttenuation?"#define USE_SIZEATTENUATION":"",G.numLightProbes>0?"#define USE_LIGHT_PROBES":"",G.useLegacyLights?"#define LEGACY_LIGHTS":"",G.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",G.logarithmicDepthBuffer&&G.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),se=[ie,generatePrecision(G),"#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne,G.useFog&&G.fog?"#define USE_FOG":"",G.useFog&&G.fogExp2?"#define FOG_EXP2":"",G.map?"#define USE_MAP":"",G.matcap?"#define USE_MATCAP":"",G.envMap?"#define USE_ENVMAP":"",G.envMap?"#define "+Q:"",G.envMap?"#define "+ee:"",G.envMap?"#define "+q:"",te?"#define CUBEUV_TEXEL_WIDTH "+te.texelWidth:"",te?"#define CUBEUV_TEXEL_HEIGHT "+te.texelHeight:"",te?"#define CUBEUV_MAX_MIP "+te.maxMip+".0":"",G.lightMap?"#define USE_LIGHTMAP":"",G.aoMap?"#define USE_AOMAP":"",G.bumpMap?"#define USE_BUMPMAP":"",G.normalMap?"#define USE_NORMALMAP":"",G.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",G.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",G.emissiveMap?"#define USE_EMISSIVEMAP":"",G.anisotropy?"#define USE_ANISOTROPY":"",G.anisotropyMap?"#define USE_ANISOTROPYMAP":"",G.clearcoat?"#define USE_CLEARCOAT":"",G.clearcoatMap?"#define USE_CLEARCOATMAP":"",G.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",G.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",G.iridescence?"#define USE_IRIDESCENCE":"",G.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",G.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",G.specularMap?"#define USE_SPECULARMAP":"",G.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",G.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",G.roughnessMap?"#define USE_ROUGHNESSMAP":"",G.metalnessMap?"#define USE_METALNESSMAP":"",G.alphaMap?"#define USE_ALPHAMAP":"",G.alphaTest?"#define USE_ALPHATEST":"",G.alphaHash?"#define USE_ALPHAHASH":"",G.sheen?"#define USE_SHEEN":"",G.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",G.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",G.transmission?"#define USE_TRANSMISSION":"",G.transmissionMap?"#define USE_TRANSMISSIONMAP":"",G.thicknessMap?"#define USE_THICKNESSMAP":"",G.vertexTangents&&G.flatShading===!1?"#define USE_TANGENT":"",G.vertexColors||G.instancingColor?"#define USE_COLOR":"",G.vertexAlphas?"#define USE_COLOR_ALPHA":"",G.vertexUv1s?"#define USE_UV1":"",G.vertexUv2s?"#define USE_UV2":"",G.vertexUv3s?"#define USE_UV3":"",G.pointsUvs?"#define USE_POINTS_UV":"",G.gradientMap?"#define USE_GRADIENTMAP":"",G.flatShading?"#define FLAT_SHADED":"",G.doubleSided?"#define DOUBLE_SIDED":"",G.flipSided?"#define FLIP_SIDED":"",G.shadowMapEnabled?"#define USE_SHADOWMAP":"",G.shadowMapEnabled?"#define "+D:"",G.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",G.numLightProbes>0?"#define USE_LIGHT_PROBES":"",G.useLegacyLights?"#define LEGACY_LIGHTS":"",G.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",G.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",G.logarithmicDepthBuffer&&G.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",G.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",G.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",G.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",G.toneMapping):"",G.dithering?"#define DITHERING":"",G.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",G.outputColorSpace),G.useDepthPacking?"#define DEPTH_PACKING "+G.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),J=resolveIncludes(J),J=replaceLightNums(J,G),J=replaceClippingPlaneNums(J,G),Y=resolveIncludes(Y),Y=replaceLightNums(Y,G),Y=replaceClippingPlaneNums(Y,G),J=unrollLoops(J),Y=unrollLoops(Y),G.isWebGL2&&G.isRawShaderMaterial!==!0&&(pe=`#version 300 es
`,le=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+le,se=["precision mediump sampler2DArray;","#define varying in",G.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",G.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+se);const ue=pe+le+J,ae=pe+se+Y,de=WebGLShader(F,F.VERTEX_SHADER,ue),be=WebGLShader(F,F.FRAGMENT_SHADER,ae);F.attachShader(ce,de),F.attachShader(ce,be),G.index0AttributeName!==void 0?F.bindAttribLocation(ce,0,G.index0AttributeName):G.morphTargets===!0&&F.bindAttribLocation(ce,0,"position"),F.linkProgram(ce);function he(fe){if(X.debug.checkShaderErrors){const Re=F.getProgramInfoLog(ce).trim(),ye=F.getShaderInfoLog(de).trim(),re=F.getShaderInfoLog(be).trim();let Ze=!0,Ge=!0;if(F.getProgramParameter(ce,F.LINK_STATUS)===!1)if(Ze=!1,typeof X.debug.onShaderError=="function")X.debug.onShaderError(F,ce,de,be);else{const ve=getShaderErrors(F,de,"vertex"),Te=getShaderErrors(F,be,"fragment");console.error("THREE.WebGLProgram: Shader Error "+F.getError()+" - VALIDATE_STATUS "+F.getProgramParameter(ce,F.VALIDATE_STATUS)+`

Program Info Log: `+Re+`
`+ve+`
`+Te)}else Re!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Re):(ye===""||re==="")&&(Ge=!1);Ge&&(fe.diagnostics={runnable:Ze,programLog:Re,vertexShader:{log:ye,prefix:le},fragmentShader:{log:re,prefix:se}})}F.deleteShader(de),F.deleteShader(be),Le=new WebGLUniforms(F,ce),Xe=fetchAttributeLocations(F,ce)}let Le;this.getUniforms=function(){return Le===void 0&&he(this),Le};let Xe;this.getAttributes=function(){return Xe===void 0&&he(this),Xe};let We=G.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return We===!1&&(We=F.getProgramParameter(ce,COMPLETION_STATUS_KHR)),We},this.destroy=function(){W.releaseStatesOfProgram(this),F.deleteProgram(ce),this.program=void 0},this.type=G.shaderType,this.name=G.shaderName,this.id=programIdCount++,this.cacheKey=Z,this.usedTimes=1,this.program=ce,this.vertexShader=de,this.fragmentShader=be,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(Z){const G=Z.vertexShader,W=Z.fragmentShader,F=this._getShaderStage(G),U=this._getShaderStage(W),J=this._getShaderCacheForMaterial(Z);return J.has(F)===!1&&(J.add(F),F.usedTimes++),J.has(U)===!1&&(J.add(U),U.usedTimes++),this}remove(Z){const G=this.materialCache.get(Z);for(const W of G)W.usedTimes--,W.usedTimes===0&&this.shaderCache.delete(W.code);return this.materialCache.delete(Z),this}getVertexShaderID(Z){return this._getShaderStage(Z.vertexShader).id}getFragmentShaderID(Z){return this._getShaderStage(Z.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(Z){const G=this.materialCache;let W=G.get(Z);return W===void 0&&(W=new Set,G.set(Z,W)),W}_getShaderStage(Z){const G=this.shaderCache;let W=G.get(Z);return W===void 0&&(W=new WebGLShaderStage(Z),G.set(Z,W)),W}}class WebGLShaderStage{constructor(Z){this.id=_id$1++,this.code=Z,this.usedTimes=0}}function WebGLPrograms(X,Z,G,W,F,U,J){const Y=new Layers,D=new WebGLShaderCache,Q=[],ee=F.isWebGL2,q=F.logarithmicDepthBuffer,te=F.vertexTextures;let ie=F.precision;const ne={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ce(Xe){return Xe===0?"uv":`uv${Xe}`}function le(Xe,We,fe,Re,ye){const re=Re.fog,Ze=ye.geometry,Ge=Xe.isMeshStandardMaterial?Re.environment:null,ve=(Xe.isMeshStandardMaterial?G:Z).get(Xe.envMap||Ge),Te=ve&&ve.mapping===CubeUVReflectionMapping?ve.image.height:null,xe=ne[Xe.type];Xe.precision!==null&&(ie=F.getMaxPrecision(Xe.precision),ie!==Xe.precision&&console.warn("THREE.WebGLProgram.getParameters:",Xe.precision,"not supported, using",ie,"instead."));const Ye=Ze.morphAttributes.position||Ze.morphAttributes.normal||Ze.morphAttributes.color,ge=Ye!==void 0?Ye.length:0;let Me=0;Ze.morphAttributes.position!==void 0&&(Me=1),Ze.morphAttributes.normal!==void 0&&(Me=2),Ze.morphAttributes.color!==void 0&&(Me=3);let je,tt,it,st;if(xe){const jt=ShaderLib[xe];je=jt.vertexShader,tt=jt.fragmentShader}else je=Xe.vertexShader,tt=Xe.fragmentShader,D.update(Xe),it=D.getVertexShaderID(Xe),st=D.getFragmentShaderID(Xe);const qe=X.getRenderTarget(),ot=ye.isInstancedMesh===!0,ut=!!Xe.map,dt=!!Xe.matcap,mt=!!ve,Je=!!Xe.aoMap,Ne=!!Xe.lightMap,ke=!!Xe.bumpMap,Ie=!!Xe.normalMap,Ce=!!Xe.displacementMap,ze=!!Xe.emissiveMap,Ee=!!Xe.metalnessMap,_e=!!Xe.roughnessMap,He=Xe.anisotropy>0,Pe=Xe.clearcoat>0,$e=Xe.iridescence>0,we=Xe.sheen>0,Ue=Xe.transmission>0,et=He&&!!Xe.anisotropyMap,at=Pe&&!!Xe.clearcoatMap,Ve=Pe&&!!Xe.clearcoatNormalMap,oe=Pe&&!!Xe.clearcoatRoughnessMap,me=$e&&!!Xe.iridescenceMap,Se=$e&&!!Xe.iridescenceThicknessMap,Fe=we&&!!Xe.sheenColorMap,Ke=we&&!!Xe.sheenRoughnessMap,Ae=!!Xe.specularMap,rt=!!Xe.specularColorMap,vt=!!Xe.specularIntensityMap,Vt=Ue&&!!Xe.transmissionMap,Wt=Ue&&!!Xe.thicknessMap,ft=!!Xe.gradientMap,Rt=!!Xe.alphaMap,Yt=Xe.alphaTest>0,ct=!!Xe.alphaHash,xt=!!Xe.extensions,Qe=!!Ze.attributes.uv1,nt=!!Ze.attributes.uv2,Xt=!!Ze.attributes.uv3;let St=NoToneMapping;return Xe.toneMapped&&(qe===null||qe.isXRRenderTarget===!0)&&(St=X.toneMapping),{isWebGL2:ee,shaderID:xe,shaderType:Xe.type,shaderName:Xe.name,vertexShader:je,fragmentShader:tt,defines:Xe.defines,customVertexShaderID:it,customFragmentShaderID:st,isRawShaderMaterial:Xe.isRawShaderMaterial===!0,glslVersion:Xe.glslVersion,precision:ie,instancing:ot,instancingColor:ot&&ye.instanceColor!==null,supportsVertexTextures:te,outputColorSpace:qe===null?X.outputColorSpace:qe.isXRRenderTarget===!0?qe.texture.colorSpace:LinearSRGBColorSpace,map:ut,matcap:dt,envMap:mt,envMapMode:mt&&ve.mapping,envMapCubeUVHeight:Te,aoMap:Je,lightMap:Ne,bumpMap:ke,normalMap:Ie,displacementMap:te&&Ce,emissiveMap:ze,normalMapObjectSpace:Ie&&Xe.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Ie&&Xe.normalMapType===TangentSpaceNormalMap,metalnessMap:Ee,roughnessMap:_e,anisotropy:He,anisotropyMap:et,clearcoat:Pe,clearcoatMap:at,clearcoatNormalMap:Ve,clearcoatRoughnessMap:oe,iridescence:$e,iridescenceMap:me,iridescenceThicknessMap:Se,sheen:we,sheenColorMap:Fe,sheenRoughnessMap:Ke,specularMap:Ae,specularColorMap:rt,specularIntensityMap:vt,transmission:Ue,transmissionMap:Vt,thicknessMap:Wt,gradientMap:ft,opaque:Xe.transparent===!1&&Xe.blending===NormalBlending,alphaMap:Rt,alphaTest:Yt,alphaHash:ct,combine:Xe.combine,mapUv:ut&&ce(Xe.map.channel),aoMapUv:Je&&ce(Xe.aoMap.channel),lightMapUv:Ne&&ce(Xe.lightMap.channel),bumpMapUv:ke&&ce(Xe.bumpMap.channel),normalMapUv:Ie&&ce(Xe.normalMap.channel),displacementMapUv:Ce&&ce(Xe.displacementMap.channel),emissiveMapUv:ze&&ce(Xe.emissiveMap.channel),metalnessMapUv:Ee&&ce(Xe.metalnessMap.channel),roughnessMapUv:_e&&ce(Xe.roughnessMap.channel),anisotropyMapUv:et&&ce(Xe.anisotropyMap.channel),clearcoatMapUv:at&&ce(Xe.clearcoatMap.channel),clearcoatNormalMapUv:Ve&&ce(Xe.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:oe&&ce(Xe.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&ce(Xe.iridescenceMap.channel),iridescenceThicknessMapUv:Se&&ce(Xe.iridescenceThicknessMap.channel),sheenColorMapUv:Fe&&ce(Xe.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&ce(Xe.sheenRoughnessMap.channel),specularMapUv:Ae&&ce(Xe.specularMap.channel),specularColorMapUv:rt&&ce(Xe.specularColorMap.channel),specularIntensityMapUv:vt&&ce(Xe.specularIntensityMap.channel),transmissionMapUv:Vt&&ce(Xe.transmissionMap.channel),thicknessMapUv:Wt&&ce(Xe.thicknessMap.channel),alphaMapUv:Rt&&ce(Xe.alphaMap.channel),vertexTangents:!!Ze.attributes.tangent&&(Ie||He),vertexColors:Xe.vertexColors,vertexAlphas:Xe.vertexColors===!0&&!!Ze.attributes.color&&Ze.attributes.color.itemSize===4,vertexUv1s:Qe,vertexUv2s:nt,vertexUv3s:Xt,pointsUvs:ye.isPoints===!0&&!!Ze.attributes.uv&&(ut||Rt),fog:!!re,useFog:Xe.fog===!0,fogExp2:re&&re.isFogExp2,flatShading:Xe.flatShading===!0,sizeAttenuation:Xe.sizeAttenuation===!0,logarithmicDepthBuffer:q,skinning:ye.isSkinnedMesh===!0,morphTargets:Ze.morphAttributes.position!==void 0,morphNormals:Ze.morphAttributes.normal!==void 0,morphColors:Ze.morphAttributes.color!==void 0,morphTargetsCount:ge,morphTextureStride:Me,numDirLights:We.directional.length,numPointLights:We.point.length,numSpotLights:We.spot.length,numSpotLightMaps:We.spotLightMap.length,numRectAreaLights:We.rectArea.length,numHemiLights:We.hemi.length,numDirLightShadows:We.directionalShadowMap.length,numPointLightShadows:We.pointShadowMap.length,numSpotLightShadows:We.spotShadowMap.length,numSpotLightShadowsWithMaps:We.numSpotLightShadowsWithMaps,numLightProbes:We.numLightProbes,numClippingPlanes:J.numPlanes,numClipIntersection:J.numIntersection,dithering:Xe.dithering,shadowMapEnabled:X.shadowMap.enabled&&fe.length>0,shadowMapType:X.shadowMap.type,toneMapping:St,useLegacyLights:X._useLegacyLights,decodeVideoTexture:ut&&Xe.map.isVideoTexture===!0&&ColorManagement.getTransfer(Xe.map.colorSpace)===SRGBTransfer,premultipliedAlpha:Xe.premultipliedAlpha,doubleSided:Xe.side===DoubleSide,flipSided:Xe.side===BackSide,useDepthPacking:Xe.depthPacking>=0,depthPacking:Xe.depthPacking||0,index0AttributeName:Xe.index0AttributeName,extensionDerivatives:xt&&Xe.extensions.derivatives===!0,extensionFragDepth:xt&&Xe.extensions.fragDepth===!0,extensionDrawBuffers:xt&&Xe.extensions.drawBuffers===!0,extensionShaderTextureLOD:xt&&Xe.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:ee||W.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ee||W.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ee||W.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:W.has("KHR_parallel_shader_compile"),customProgramCacheKey:Xe.customProgramCacheKey()}}function se(Xe){const We=[];if(Xe.shaderID?We.push(Xe.shaderID):(We.push(Xe.customVertexShaderID),We.push(Xe.customFragmentShaderID)),Xe.defines!==void 0)for(const fe in Xe.defines)We.push(fe),We.push(Xe.defines[fe]);return Xe.isRawShaderMaterial===!1&&(pe(We,Xe),ue(We,Xe),We.push(X.outputColorSpace)),We.push(Xe.customProgramCacheKey),We.join()}function pe(Xe,We){Xe.push(We.precision),Xe.push(We.outputColorSpace),Xe.push(We.envMapMode),Xe.push(We.envMapCubeUVHeight),Xe.push(We.mapUv),Xe.push(We.alphaMapUv),Xe.push(We.lightMapUv),Xe.push(We.aoMapUv),Xe.push(We.bumpMapUv),Xe.push(We.normalMapUv),Xe.push(We.displacementMapUv),Xe.push(We.emissiveMapUv),Xe.push(We.metalnessMapUv),Xe.push(We.roughnessMapUv),Xe.push(We.anisotropyMapUv),Xe.push(We.clearcoatMapUv),Xe.push(We.clearcoatNormalMapUv),Xe.push(We.clearcoatRoughnessMapUv),Xe.push(We.iridescenceMapUv),Xe.push(We.iridescenceThicknessMapUv),Xe.push(We.sheenColorMapUv),Xe.push(We.sheenRoughnessMapUv),Xe.push(We.specularMapUv),Xe.push(We.specularColorMapUv),Xe.push(We.specularIntensityMapUv),Xe.push(We.transmissionMapUv),Xe.push(We.thicknessMapUv),Xe.push(We.combine),Xe.push(We.fogExp2),Xe.push(We.sizeAttenuation),Xe.push(We.morphTargetsCount),Xe.push(We.morphAttributeCount),Xe.push(We.numDirLights),Xe.push(We.numPointLights),Xe.push(We.numSpotLights),Xe.push(We.numSpotLightMaps),Xe.push(We.numHemiLights),Xe.push(We.numRectAreaLights),Xe.push(We.numDirLightShadows),Xe.push(We.numPointLightShadows),Xe.push(We.numSpotLightShadows),Xe.push(We.numSpotLightShadowsWithMaps),Xe.push(We.numLightProbes),Xe.push(We.shadowMapType),Xe.push(We.toneMapping),Xe.push(We.numClippingPlanes),Xe.push(We.numClipIntersection),Xe.push(We.depthPacking)}function ue(Xe,We){Y.disableAll(),We.isWebGL2&&Y.enable(0),We.supportsVertexTextures&&Y.enable(1),We.instancing&&Y.enable(2),We.instancingColor&&Y.enable(3),We.matcap&&Y.enable(4),We.envMap&&Y.enable(5),We.normalMapObjectSpace&&Y.enable(6),We.normalMapTangentSpace&&Y.enable(7),We.clearcoat&&Y.enable(8),We.iridescence&&Y.enable(9),We.alphaTest&&Y.enable(10),We.vertexColors&&Y.enable(11),We.vertexAlphas&&Y.enable(12),We.vertexUv1s&&Y.enable(13),We.vertexUv2s&&Y.enable(14),We.vertexUv3s&&Y.enable(15),We.vertexTangents&&Y.enable(16),We.anisotropy&&Y.enable(17),We.alphaHash&&Y.enable(18),Xe.push(Y.mask),Y.disableAll(),We.fog&&Y.enable(0),We.useFog&&Y.enable(1),We.flatShading&&Y.enable(2),We.logarithmicDepthBuffer&&Y.enable(3),We.skinning&&Y.enable(4),We.morphTargets&&Y.enable(5),We.morphNormals&&Y.enable(6),We.morphColors&&Y.enable(7),We.premultipliedAlpha&&Y.enable(8),We.shadowMapEnabled&&Y.enable(9),We.useLegacyLights&&Y.enable(10),We.doubleSided&&Y.enable(11),We.flipSided&&Y.enable(12),We.useDepthPacking&&Y.enable(13),We.dithering&&Y.enable(14),We.transmission&&Y.enable(15),We.sheen&&Y.enable(16),We.opaque&&Y.enable(17),We.pointsUvs&&Y.enable(18),We.decodeVideoTexture&&Y.enable(19),Xe.push(Y.mask)}function ae(Xe){const We=ne[Xe.type];let fe;if(We){const Re=ShaderLib[We];fe=UniformsUtils.clone(Re.uniforms)}else fe=Xe.uniforms;return fe}function de(Xe,We){let fe;for(let Re=0,ye=Q.length;Re<ye;Re++){const re=Q[Re];if(re.cacheKey===We){fe=re,++fe.usedTimes;break}}return fe===void 0&&(fe=new WebGLProgram(X,We,Xe,U),Q.push(fe)),fe}function be(Xe){if(--Xe.usedTimes===0){const We=Q.indexOf(Xe);Q[We]=Q[Q.length-1],Q.pop(),Xe.destroy()}}function he(Xe){D.remove(Xe)}function Le(){D.dispose()}return{getParameters:le,getProgramCacheKey:se,getUniforms:ae,acquireProgram:de,releaseProgram:be,releaseShaderCache:he,programs:Q,dispose:Le}}function WebGLProperties(){let X=new WeakMap;function Z(U){let J=X.get(U);return J===void 0&&(J={},X.set(U,J)),J}function G(U){X.delete(U)}function W(U,J,Y){X.get(U)[J]=Y}function F(){X=new WeakMap}return{get:Z,remove:G,update:W,dispose:F}}function painterSortStable(X,Z){return X.groupOrder!==Z.groupOrder?X.groupOrder-Z.groupOrder:X.renderOrder!==Z.renderOrder?X.renderOrder-Z.renderOrder:X.material.id!==Z.material.id?X.material.id-Z.material.id:X.z!==Z.z?X.z-Z.z:X.id-Z.id}function reversePainterSortStable(X,Z){return X.groupOrder!==Z.groupOrder?X.groupOrder-Z.groupOrder:X.renderOrder!==Z.renderOrder?X.renderOrder-Z.renderOrder:X.z!==Z.z?Z.z-X.z:X.id-Z.id}function WebGLRenderList(){const X=[];let Z=0;const G=[],W=[],F=[];function U(){Z=0,G.length=0,W.length=0,F.length=0}function J(q,te,ie,ne,ce,le){let se=X[Z];return se===void 0?(se={id:q.id,object:q,geometry:te,material:ie,groupOrder:ne,renderOrder:q.renderOrder,z:ce,group:le},X[Z]=se):(se.id=q.id,se.object=q,se.geometry=te,se.material=ie,se.groupOrder=ne,se.renderOrder=q.renderOrder,se.z=ce,se.group=le),Z++,se}function Y(q,te,ie,ne,ce,le){const se=J(q,te,ie,ne,ce,le);ie.transmission>0?W.push(se):ie.transparent===!0?F.push(se):G.push(se)}function D(q,te,ie,ne,ce,le){const se=J(q,te,ie,ne,ce,le);ie.transmission>0?W.unshift(se):ie.transparent===!0?F.unshift(se):G.unshift(se)}function Q(q,te){G.length>1&&G.sort(q||painterSortStable),W.length>1&&W.sort(te||reversePainterSortStable),F.length>1&&F.sort(te||reversePainterSortStable)}function ee(){for(let q=Z,te=X.length;q<te;q++){const ie=X[q];if(ie.id===null)break;ie.id=null,ie.object=null,ie.geometry=null,ie.material=null,ie.group=null}}return{opaque:G,transmissive:W,transparent:F,init:U,push:Y,unshift:D,finish:ee,sort:Q}}function WebGLRenderLists(){let X=new WeakMap;function Z(W,F){const U=X.get(W);let J;return U===void 0?(J=new WebGLRenderList,X.set(W,[J])):F>=U.length?(J=new WebGLRenderList,U.push(J)):J=U[F],J}function G(){X=new WeakMap}return{get:Z,dispose:G}}function UniformsCache(){const X={};return{get:function(Z){if(X[Z.id]!==void 0)return X[Z.id];let G;switch(Z.type){case"DirectionalLight":G={direction:new Vector3,color:new Color};break;case"SpotLight":G={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":G={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":G={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":G={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return X[Z.id]=G,G}}}function ShadowUniformsCache(){const X={};return{get:function(Z){if(X[Z.id]!==void 0)return X[Z.id];let G;switch(Z.type){case"DirectionalLight":G={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":G={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":G={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return X[Z.id]=G,G}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(X,Z){return(Z.castShadow?2:0)-(X.castShadow?2:0)+(Z.map?1:0)-(X.map?1:0)}function WebGLLights(X,Z){const G=new UniformsCache,W=ShadowUniformsCache(),F={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ee=0;ee<9;ee++)F.probe.push(new Vector3);const U=new Vector3,J=new Matrix4,Y=new Matrix4;function D(ee,q){let te=0,ie=0,ne=0;for(let Re=0;Re<9;Re++)F.probe[Re].set(0,0,0);let ce=0,le=0,se=0,pe=0,ue=0,ae=0,de=0,be=0,he=0,Le=0,Xe=0;ee.sort(shadowCastingAndTexturingLightsFirst);const We=q===!0?Math.PI:1;for(let Re=0,ye=ee.length;Re<ye;Re++){const re=ee[Re],Ze=re.color,Ge=re.intensity,ve=re.distance,Te=re.shadow&&re.shadow.map?re.shadow.map.texture:null;if(re.isAmbientLight)te+=Ze.r*Ge*We,ie+=Ze.g*Ge*We,ne+=Ze.b*Ge*We;else if(re.isLightProbe){for(let xe=0;xe<9;xe++)F.probe[xe].addScaledVector(re.sh.coefficients[xe],Ge);Xe++}else if(re.isDirectionalLight){const xe=G.get(re);if(xe.color.copy(re.color).multiplyScalar(re.intensity*We),re.castShadow){const Ye=re.shadow,ge=W.get(re);ge.shadowBias=Ye.bias,ge.shadowNormalBias=Ye.normalBias,ge.shadowRadius=Ye.radius,ge.shadowMapSize=Ye.mapSize,F.directionalShadow[ce]=ge,F.directionalShadowMap[ce]=Te,F.directionalShadowMatrix[ce]=re.shadow.matrix,ae++}F.directional[ce]=xe,ce++}else if(re.isSpotLight){const xe=G.get(re);xe.position.setFromMatrixPosition(re.matrixWorld),xe.color.copy(Ze).multiplyScalar(Ge*We),xe.distance=ve,xe.coneCos=Math.cos(re.angle),xe.penumbraCos=Math.cos(re.angle*(1-re.penumbra)),xe.decay=re.decay,F.spot[se]=xe;const Ye=re.shadow;if(re.map&&(F.spotLightMap[he]=re.map,he++,Ye.updateMatrices(re),re.castShadow&&Le++),F.spotLightMatrix[se]=Ye.matrix,re.castShadow){const ge=W.get(re);ge.shadowBias=Ye.bias,ge.shadowNormalBias=Ye.normalBias,ge.shadowRadius=Ye.radius,ge.shadowMapSize=Ye.mapSize,F.spotShadow[se]=ge,F.spotShadowMap[se]=Te,be++}se++}else if(re.isRectAreaLight){const xe=G.get(re);xe.color.copy(Ze).multiplyScalar(Ge),xe.halfWidth.set(re.width*.5,0,0),xe.halfHeight.set(0,re.height*.5,0),F.rectArea[pe]=xe,pe++}else if(re.isPointLight){const xe=G.get(re);if(xe.color.copy(re.color).multiplyScalar(re.intensity*We),xe.distance=re.distance,xe.decay=re.decay,re.castShadow){const Ye=re.shadow,ge=W.get(re);ge.shadowBias=Ye.bias,ge.shadowNormalBias=Ye.normalBias,ge.shadowRadius=Ye.radius,ge.shadowMapSize=Ye.mapSize,ge.shadowCameraNear=Ye.camera.near,ge.shadowCameraFar=Ye.camera.far,F.pointShadow[le]=ge,F.pointShadowMap[le]=Te,F.pointShadowMatrix[le]=re.shadow.matrix,de++}F.point[le]=xe,le++}else if(re.isHemisphereLight){const xe=G.get(re);xe.skyColor.copy(re.color).multiplyScalar(Ge*We),xe.groundColor.copy(re.groundColor).multiplyScalar(Ge*We),F.hemi[ue]=xe,ue++}}pe>0&&(Z.isWebGL2||X.has("OES_texture_float_linear")===!0?(F.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,F.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):X.has("OES_texture_half_float_linear")===!0?(F.rectAreaLTC1=UniformsLib.LTC_HALF_1,F.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),F.ambient[0]=te,F.ambient[1]=ie,F.ambient[2]=ne;const fe=F.hash;(fe.directionalLength!==ce||fe.pointLength!==le||fe.spotLength!==se||fe.rectAreaLength!==pe||fe.hemiLength!==ue||fe.numDirectionalShadows!==ae||fe.numPointShadows!==de||fe.numSpotShadows!==be||fe.numSpotMaps!==he||fe.numLightProbes!==Xe)&&(F.directional.length=ce,F.spot.length=se,F.rectArea.length=pe,F.point.length=le,F.hemi.length=ue,F.directionalShadow.length=ae,F.directionalShadowMap.length=ae,F.pointShadow.length=de,F.pointShadowMap.length=de,F.spotShadow.length=be,F.spotShadowMap.length=be,F.directionalShadowMatrix.length=ae,F.pointShadowMatrix.length=de,F.spotLightMatrix.length=be+he-Le,F.spotLightMap.length=he,F.numSpotLightShadowsWithMaps=Le,F.numLightProbes=Xe,fe.directionalLength=ce,fe.pointLength=le,fe.spotLength=se,fe.rectAreaLength=pe,fe.hemiLength=ue,fe.numDirectionalShadows=ae,fe.numPointShadows=de,fe.numSpotShadows=be,fe.numSpotMaps=he,fe.numLightProbes=Xe,F.version=nextVersion++)}function Q(ee,q){let te=0,ie=0,ne=0,ce=0,le=0;const se=q.matrixWorldInverse;for(let pe=0,ue=ee.length;pe<ue;pe++){const ae=ee[pe];if(ae.isDirectionalLight){const de=F.directional[te];de.direction.setFromMatrixPosition(ae.matrixWorld),U.setFromMatrixPosition(ae.target.matrixWorld),de.direction.sub(U),de.direction.transformDirection(se),te++}else if(ae.isSpotLight){const de=F.spot[ne];de.position.setFromMatrixPosition(ae.matrixWorld),de.position.applyMatrix4(se),de.direction.setFromMatrixPosition(ae.matrixWorld),U.setFromMatrixPosition(ae.target.matrixWorld),de.direction.sub(U),de.direction.transformDirection(se),ne++}else if(ae.isRectAreaLight){const de=F.rectArea[ce];de.position.setFromMatrixPosition(ae.matrixWorld),de.position.applyMatrix4(se),Y.identity(),J.copy(ae.matrixWorld),J.premultiply(se),Y.extractRotation(J),de.halfWidth.set(ae.width*.5,0,0),de.halfHeight.set(0,ae.height*.5,0),de.halfWidth.applyMatrix4(Y),de.halfHeight.applyMatrix4(Y),ce++}else if(ae.isPointLight){const de=F.point[ie];de.position.setFromMatrixPosition(ae.matrixWorld),de.position.applyMatrix4(se),ie++}else if(ae.isHemisphereLight){const de=F.hemi[le];de.direction.setFromMatrixPosition(ae.matrixWorld),de.direction.transformDirection(se),le++}}}return{setup:D,setupView:Q,state:F}}function WebGLRenderState(X,Z){const G=new WebGLLights(X,Z),W=[],F=[];function U(){W.length=0,F.length=0}function J(q){W.push(q)}function Y(q){F.push(q)}function D(q){G.setup(W,q)}function Q(q){G.setupView(W,q)}return{init:U,state:{lightsArray:W,shadowsArray:F,lights:G},setupLights:D,setupLightsView:Q,pushLight:J,pushShadow:Y}}function WebGLRenderStates(X,Z){let G=new WeakMap;function W(U,J=0){const Y=G.get(U);let D;return Y===void 0?(D=new WebGLRenderState(X,Z),G.set(U,[D])):J>=Y.length?(D=new WebGLRenderState(X,Z),Y.push(D)):D=Y[J],D}function F(){G=new WeakMap}return{get:W,dispose:F}}class MeshDepthMaterial extends Material{constructor(Z){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(Z)}copy(Z){return super.copy(Z),this.depthPacking=Z.depthPacking,this.map=Z.map,this.alphaMap=Z.alphaMap,this.displacementMap=Z.displacementMap,this.displacementScale=Z.displacementScale,this.displacementBias=Z.displacementBias,this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(Z){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(Z)}copy(Z){return super.copy(Z),this.map=Z.map,this.alphaMap=Z.alphaMap,this.displacementMap=Z.displacementMap,this.displacementScale=Z.displacementScale,this.displacementBias=Z.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(X,Z,G){let W=new Frustum;const F=new Vector2,U=new Vector2,J=new Vector4,Y=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),D=new MeshDistanceMaterial,Q={},ee=G.maxTextureSize,q={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},te=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ie=te.clone();ie.defines.HORIZONTAL_PASS=1;const ne=new BufferGeometry;ne.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ce=new Mesh(ne,te),le=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let se=this.type;this.render=function(de,be,he){if(le.enabled===!1||le.autoUpdate===!1&&le.needsUpdate===!1||de.length===0)return;const Le=X.getRenderTarget(),Xe=X.getActiveCubeFace(),We=X.getActiveMipmapLevel(),fe=X.state;fe.setBlending(NoBlending),fe.buffers.color.setClear(1,1,1,1),fe.buffers.depth.setTest(!0),fe.setScissorTest(!1);const Re=se!==VSMShadowMap&&this.type===VSMShadowMap,ye=se===VSMShadowMap&&this.type!==VSMShadowMap;for(let re=0,Ze=de.length;re<Ze;re++){const Ge=de[re],ve=Ge.shadow;if(ve===void 0){console.warn("THREE.WebGLShadowMap:",Ge,"has no shadow.");continue}if(ve.autoUpdate===!1&&ve.needsUpdate===!1)continue;F.copy(ve.mapSize);const Te=ve.getFrameExtents();if(F.multiply(Te),U.copy(ve.mapSize),(F.x>ee||F.y>ee)&&(F.x>ee&&(U.x=Math.floor(ee/Te.x),F.x=U.x*Te.x,ve.mapSize.x=U.x),F.y>ee&&(U.y=Math.floor(ee/Te.y),F.y=U.y*Te.y,ve.mapSize.y=U.y)),ve.map===null||Re===!0||ye===!0){const Ye=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};ve.map!==null&&ve.map.dispose(),ve.map=new WebGLRenderTarget(F.x,F.y,Ye),ve.map.texture.name=Ge.name+".shadowMap",ve.camera.updateProjectionMatrix()}X.setRenderTarget(ve.map),X.clear();const xe=ve.getViewportCount();for(let Ye=0;Ye<xe;Ye++){const ge=ve.getViewport(Ye);J.set(U.x*ge.x,U.y*ge.y,U.x*ge.z,U.y*ge.w),fe.viewport(J),ve.updateMatrices(Ge,Ye),W=ve.getFrustum(),ae(be,he,ve.camera,Ge,this.type)}ve.isPointLightShadow!==!0&&this.type===VSMShadowMap&&pe(ve,he),ve.needsUpdate=!1}se=this.type,le.needsUpdate=!1,X.setRenderTarget(Le,Xe,We)};function pe(de,be){const he=Z.update(ce);te.defines.VSM_SAMPLES!==de.blurSamples&&(te.defines.VSM_SAMPLES=de.blurSamples,ie.defines.VSM_SAMPLES=de.blurSamples,te.needsUpdate=!0,ie.needsUpdate=!0),de.mapPass===null&&(de.mapPass=new WebGLRenderTarget(F.x,F.y)),te.uniforms.shadow_pass.value=de.map.texture,te.uniforms.resolution.value=de.mapSize,te.uniforms.radius.value=de.radius,X.setRenderTarget(de.mapPass),X.clear(),X.renderBufferDirect(be,null,he,te,ce,null),ie.uniforms.shadow_pass.value=de.mapPass.texture,ie.uniforms.resolution.value=de.mapSize,ie.uniforms.radius.value=de.radius,X.setRenderTarget(de.map),X.clear(),X.renderBufferDirect(be,null,he,ie,ce,null)}function ue(de,be,he,Le){let Xe=null;const We=he.isPointLight===!0?de.customDistanceMaterial:de.customDepthMaterial;if(We!==void 0)Xe=We;else if(Xe=he.isPointLight===!0?D:Y,X.localClippingEnabled&&be.clipShadows===!0&&Array.isArray(be.clippingPlanes)&&be.clippingPlanes.length!==0||be.displacementMap&&be.displacementScale!==0||be.alphaMap&&be.alphaTest>0||be.map&&be.alphaTest>0){const fe=Xe.uuid,Re=be.uuid;let ye=Q[fe];ye===void 0&&(ye={},Q[fe]=ye);let re=ye[Re];re===void 0&&(re=Xe.clone(),ye[Re]=re),Xe=re}if(Xe.visible=be.visible,Xe.wireframe=be.wireframe,Le===VSMShadowMap?Xe.side=be.shadowSide!==null?be.shadowSide:be.side:Xe.side=be.shadowSide!==null?be.shadowSide:q[be.side],Xe.alphaMap=be.alphaMap,Xe.alphaTest=be.alphaTest,Xe.map=be.map,Xe.clipShadows=be.clipShadows,Xe.clippingPlanes=be.clippingPlanes,Xe.clipIntersection=be.clipIntersection,Xe.displacementMap=be.displacementMap,Xe.displacementScale=be.displacementScale,Xe.displacementBias=be.displacementBias,Xe.wireframeLinewidth=be.wireframeLinewidth,Xe.linewidth=be.linewidth,he.isPointLight===!0&&Xe.isMeshDistanceMaterial===!0){const fe=X.properties.get(Xe);fe.light=he}return Xe}function ae(de,be,he,Le,Xe){if(de.visible===!1)return;if(de.layers.test(be.layers)&&(de.isMesh||de.isLine||de.isPoints)&&(de.castShadow||de.receiveShadow&&Xe===VSMShadowMap)&&(!de.frustumCulled||W.intersectsObject(de))){de.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,de.matrixWorld);const Re=Z.update(de),ye=de.material;if(Array.isArray(ye)){const re=Re.groups;for(let Ze=0,Ge=re.length;Ze<Ge;Ze++){const ve=re[Ze],Te=ye[ve.materialIndex];if(Te&&Te.visible){const xe=ue(de,Te,Le,Xe);X.renderBufferDirect(he,null,Re,xe,de,ve)}}}else if(ye.visible){const re=ue(de,ye,Le,Xe);X.renderBufferDirect(he,null,Re,re,de,null)}}const fe=de.children;for(let Re=0,ye=fe.length;Re<ye;Re++)ae(fe[Re],be,he,Le,Xe)}}function WebGLState(X,Z,G){const W=G.isWebGL2;function F(){let ct=!1;const xt=new Vector4;let Qe=null;const nt=new Vector4(0,0,0,0);return{setMask:function(Xt){Qe!==Xt&&!ct&&(X.colorMask(Xt,Xt,Xt,Xt),Qe=Xt)},setLocked:function(Xt){ct=Xt},setClear:function(Xt,St,Nt,jt,sn){sn===!0&&(Xt*=jt,St*=jt,Nt*=jt),xt.set(Xt,St,Nt,jt),nt.equals(xt)===!1&&(X.clearColor(Xt,St,Nt,jt),nt.copy(xt))},reset:function(){ct=!1,Qe=null,nt.set(-1,0,0,0)}}}function U(){let ct=!1,xt=null,Qe=null,nt=null;return{setTest:function(Xt){Xt?ut(X.DEPTH_TEST):dt(X.DEPTH_TEST)},setMask:function(Xt){xt!==Xt&&!ct&&(X.depthMask(Xt),xt=Xt)},setFunc:function(Xt){if(Qe!==Xt){switch(Xt){case NeverDepth:X.depthFunc(X.NEVER);break;case AlwaysDepth:X.depthFunc(X.ALWAYS);break;case LessDepth:X.depthFunc(X.LESS);break;case LessEqualDepth:X.depthFunc(X.LEQUAL);break;case EqualDepth:X.depthFunc(X.EQUAL);break;case GreaterEqualDepth:X.depthFunc(X.GEQUAL);break;case GreaterDepth:X.depthFunc(X.GREATER);break;case NotEqualDepth:X.depthFunc(X.NOTEQUAL);break;default:X.depthFunc(X.LEQUAL)}Qe=Xt}},setLocked:function(Xt){ct=Xt},setClear:function(Xt){nt!==Xt&&(X.clearDepth(Xt),nt=Xt)},reset:function(){ct=!1,xt=null,Qe=null,nt=null}}}function J(){let ct=!1,xt=null,Qe=null,nt=null,Xt=null,St=null,Nt=null,jt=null,sn=null;return{setTest:function(Ht){ct||(Ht?ut(X.STENCIL_TEST):dt(X.STENCIL_TEST))},setMask:function(Ht){xt!==Ht&&!ct&&(X.stencilMask(Ht),xt=Ht)},setFunc:function(Ht,an,Ot){(Qe!==Ht||nt!==an||Xt!==Ot)&&(X.stencilFunc(Ht,an,Ot),Qe=Ht,nt=an,Xt=Ot)},setOp:function(Ht,an,Ot){(St!==Ht||Nt!==an||jt!==Ot)&&(X.stencilOp(Ht,an,Ot),St=Ht,Nt=an,jt=Ot)},setLocked:function(Ht){ct=Ht},setClear:function(Ht){sn!==Ht&&(X.clearStencil(Ht),sn=Ht)},reset:function(){ct=!1,xt=null,Qe=null,nt=null,Xt=null,St=null,Nt=null,jt=null,sn=null}}}const Y=new F,D=new U,Q=new J,ee=new WeakMap,q=new WeakMap;let te={},ie={},ne=new WeakMap,ce=[],le=null,se=!1,pe=null,ue=null,ae=null,de=null,be=null,he=null,Le=null,Xe=new Color(0,0,0),We=0,fe=!1,Re=null,ye=null,re=null,Ze=null,Ge=null;const ve=X.getParameter(X.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Te=!1,xe=0;const Ye=X.getParameter(X.VERSION);Ye.indexOf("WebGL")!==-1?(xe=parseFloat(/^WebGL (\d)/.exec(Ye)[1]),Te=xe>=1):Ye.indexOf("OpenGL ES")!==-1&&(xe=parseFloat(/^OpenGL ES (\d)/.exec(Ye)[1]),Te=xe>=2);let ge=null,Me={};const je=X.getParameter(X.SCISSOR_BOX),tt=X.getParameter(X.VIEWPORT),it=new Vector4().fromArray(je),st=new Vector4().fromArray(tt);function qe(ct,xt,Qe,nt){const Xt=new Uint8Array(4),St=X.createTexture();X.bindTexture(ct,St),X.texParameteri(ct,X.TEXTURE_MIN_FILTER,X.NEAREST),X.texParameteri(ct,X.TEXTURE_MAG_FILTER,X.NEAREST);for(let Nt=0;Nt<Qe;Nt++)W&&(ct===X.TEXTURE_3D||ct===X.TEXTURE_2D_ARRAY)?X.texImage3D(xt,0,X.RGBA,1,1,nt,0,X.RGBA,X.UNSIGNED_BYTE,Xt):X.texImage2D(xt+Nt,0,X.RGBA,1,1,0,X.RGBA,X.UNSIGNED_BYTE,Xt);return St}const ot={};ot[X.TEXTURE_2D]=qe(X.TEXTURE_2D,X.TEXTURE_2D,1),ot[X.TEXTURE_CUBE_MAP]=qe(X.TEXTURE_CUBE_MAP,X.TEXTURE_CUBE_MAP_POSITIVE_X,6),W&&(ot[X.TEXTURE_2D_ARRAY]=qe(X.TEXTURE_2D_ARRAY,X.TEXTURE_2D_ARRAY,1,1),ot[X.TEXTURE_3D]=qe(X.TEXTURE_3D,X.TEXTURE_3D,1,1)),Y.setClear(0,0,0,1),D.setClear(1),Q.setClear(0),ut(X.DEPTH_TEST),D.setFunc(LessEqualDepth),Ee(!1),_e(CullFaceBack),ut(X.CULL_FACE),Ce(NoBlending);function ut(ct){te[ct]!==!0&&(X.enable(ct),te[ct]=!0)}function dt(ct){te[ct]!==!1&&(X.disable(ct),te[ct]=!1)}function mt(ct,xt){return ie[ct]!==xt?(X.bindFramebuffer(ct,xt),ie[ct]=xt,W&&(ct===X.DRAW_FRAMEBUFFER&&(ie[X.FRAMEBUFFER]=xt),ct===X.FRAMEBUFFER&&(ie[X.DRAW_FRAMEBUFFER]=xt)),!0):!1}function Je(ct,xt){let Qe=ce,nt=!1;if(ct)if(Qe=ne.get(xt),Qe===void 0&&(Qe=[],ne.set(xt,Qe)),ct.isWebGLMultipleRenderTargets){const Xt=ct.texture;if(Qe.length!==Xt.length||Qe[0]!==X.COLOR_ATTACHMENT0){for(let St=0,Nt=Xt.length;St<Nt;St++)Qe[St]=X.COLOR_ATTACHMENT0+St;Qe.length=Xt.length,nt=!0}}else Qe[0]!==X.COLOR_ATTACHMENT0&&(Qe[0]=X.COLOR_ATTACHMENT0,nt=!0);else Qe[0]!==X.BACK&&(Qe[0]=X.BACK,nt=!0);nt&&(G.isWebGL2?X.drawBuffers(Qe):Z.get("WEBGL_draw_buffers").drawBuffersWEBGL(Qe))}function Ne(ct){return le!==ct?(X.useProgram(ct),le=ct,!0):!1}const ke={[AddEquation]:X.FUNC_ADD,[SubtractEquation]:X.FUNC_SUBTRACT,[ReverseSubtractEquation]:X.FUNC_REVERSE_SUBTRACT};if(W)ke[MinEquation]=X.MIN,ke[MaxEquation]=X.MAX;else{const ct=Z.get("EXT_blend_minmax");ct!==null&&(ke[MinEquation]=ct.MIN_EXT,ke[MaxEquation]=ct.MAX_EXT)}const Ie={[ZeroFactor]:X.ZERO,[OneFactor]:X.ONE,[SrcColorFactor]:X.SRC_COLOR,[SrcAlphaFactor]:X.SRC_ALPHA,[SrcAlphaSaturateFactor]:X.SRC_ALPHA_SATURATE,[DstColorFactor]:X.DST_COLOR,[DstAlphaFactor]:X.DST_ALPHA,[OneMinusSrcColorFactor]:X.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:X.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:X.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:X.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:X.CONSTANT_COLOR,[OneMinusConstantColorFactor]:X.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:X.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:X.ONE_MINUS_CONSTANT_ALPHA};function Ce(ct,xt,Qe,nt,Xt,St,Nt,jt,sn,Ht){if(ct===NoBlending){se===!0&&(dt(X.BLEND),se=!1);return}if(se===!1&&(ut(X.BLEND),se=!0),ct!==CustomBlending){if(ct!==pe||Ht!==fe){if((ue!==AddEquation||be!==AddEquation)&&(X.blendEquation(X.FUNC_ADD),ue=AddEquation,be=AddEquation),Ht)switch(ct){case NormalBlending:X.blendFuncSeparate(X.ONE,X.ONE_MINUS_SRC_ALPHA,X.ONE,X.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:X.blendFunc(X.ONE,X.ONE);break;case SubtractiveBlending:X.blendFuncSeparate(X.ZERO,X.ONE_MINUS_SRC_COLOR,X.ZERO,X.ONE);break;case MultiplyBlending:X.blendFuncSeparate(X.ZERO,X.SRC_COLOR,X.ZERO,X.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}else switch(ct){case NormalBlending:X.blendFuncSeparate(X.SRC_ALPHA,X.ONE_MINUS_SRC_ALPHA,X.ONE,X.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:X.blendFunc(X.SRC_ALPHA,X.ONE);break;case SubtractiveBlending:X.blendFuncSeparate(X.ZERO,X.ONE_MINUS_SRC_COLOR,X.ZERO,X.ONE);break;case MultiplyBlending:X.blendFunc(X.ZERO,X.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}ae=null,de=null,he=null,Le=null,Xe.set(0,0,0),We=0,pe=ct,fe=Ht}return}Xt=Xt||xt,St=St||Qe,Nt=Nt||nt,(xt!==ue||Xt!==be)&&(X.blendEquationSeparate(ke[xt],ke[Xt]),ue=xt,be=Xt),(Qe!==ae||nt!==de||St!==he||Nt!==Le)&&(X.blendFuncSeparate(Ie[Qe],Ie[nt],Ie[St],Ie[Nt]),ae=Qe,de=nt,he=St,Le=Nt),(jt.equals(Xe)===!1||sn!==We)&&(X.blendColor(jt.r,jt.g,jt.b,sn),Xe.copy(jt),We=sn),pe=ct,fe=!1}function ze(ct,xt){ct.side===DoubleSide?dt(X.CULL_FACE):ut(X.CULL_FACE);let Qe=ct.side===BackSide;xt&&(Qe=!Qe),Ee(Qe),ct.blending===NormalBlending&&ct.transparent===!1?Ce(NoBlending):Ce(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst,ct.blendEquationAlpha,ct.blendSrcAlpha,ct.blendDstAlpha,ct.blendColor,ct.blendAlpha,ct.premultipliedAlpha),D.setFunc(ct.depthFunc),D.setTest(ct.depthTest),D.setMask(ct.depthWrite),Y.setMask(ct.colorWrite);const nt=ct.stencilWrite;Q.setTest(nt),nt&&(Q.setMask(ct.stencilWriteMask),Q.setFunc(ct.stencilFunc,ct.stencilRef,ct.stencilFuncMask),Q.setOp(ct.stencilFail,ct.stencilZFail,ct.stencilZPass)),Pe(ct.polygonOffset,ct.polygonOffsetFactor,ct.polygonOffsetUnits),ct.alphaToCoverage===!0?ut(X.SAMPLE_ALPHA_TO_COVERAGE):dt(X.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(ct){Re!==ct&&(ct?X.frontFace(X.CW):X.frontFace(X.CCW),Re=ct)}function _e(ct){ct!==CullFaceNone?(ut(X.CULL_FACE),ct!==ye&&(ct===CullFaceBack?X.cullFace(X.BACK):ct===CullFaceFront?X.cullFace(X.FRONT):X.cullFace(X.FRONT_AND_BACK))):dt(X.CULL_FACE),ye=ct}function He(ct){ct!==re&&(Te&&X.lineWidth(ct),re=ct)}function Pe(ct,xt,Qe){ct?(ut(X.POLYGON_OFFSET_FILL),(Ze!==xt||Ge!==Qe)&&(X.polygonOffset(xt,Qe),Ze=xt,Ge=Qe)):dt(X.POLYGON_OFFSET_FILL)}function $e(ct){ct?ut(X.SCISSOR_TEST):dt(X.SCISSOR_TEST)}function we(ct){ct===void 0&&(ct=X.TEXTURE0+ve-1),ge!==ct&&(X.activeTexture(ct),ge=ct)}function Ue(ct,xt,Qe){Qe===void 0&&(ge===null?Qe=X.TEXTURE0+ve-1:Qe=ge);let nt=Me[Qe];nt===void 0&&(nt={type:void 0,texture:void 0},Me[Qe]=nt),(nt.type!==ct||nt.texture!==xt)&&(ge!==Qe&&(X.activeTexture(Qe),ge=Qe),X.bindTexture(ct,xt||ot[ct]),nt.type=ct,nt.texture=xt)}function et(){const ct=Me[ge];ct!==void 0&&ct.type!==void 0&&(X.bindTexture(ct.type,null),ct.type=void 0,ct.texture=void 0)}function at(){try{X.compressedTexImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ve(){try{X.compressedTexImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function oe(){try{X.texSubImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function me(){try{X.texSubImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Se(){try{X.compressedTexSubImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Fe(){try{X.compressedTexSubImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ke(){try{X.texStorage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ae(){try{X.texStorage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function rt(){try{X.texImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function vt(){try{X.texImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Vt(ct){it.equals(ct)===!1&&(X.scissor(ct.x,ct.y,ct.z,ct.w),it.copy(ct))}function Wt(ct){st.equals(ct)===!1&&(X.viewport(ct.x,ct.y,ct.z,ct.w),st.copy(ct))}function ft(ct,xt){let Qe=q.get(xt);Qe===void 0&&(Qe=new WeakMap,q.set(xt,Qe));let nt=Qe.get(ct);nt===void 0&&(nt=X.getUniformBlockIndex(xt,ct.name),Qe.set(ct,nt))}function Rt(ct,xt){const nt=q.get(xt).get(ct);ee.get(xt)!==nt&&(X.uniformBlockBinding(xt,nt,ct.__bindingPointIndex),ee.set(xt,nt))}function Yt(){X.disable(X.BLEND),X.disable(X.CULL_FACE),X.disable(X.DEPTH_TEST),X.disable(X.POLYGON_OFFSET_FILL),X.disable(X.SCISSOR_TEST),X.disable(X.STENCIL_TEST),X.disable(X.SAMPLE_ALPHA_TO_COVERAGE),X.blendEquation(X.FUNC_ADD),X.blendFunc(X.ONE,X.ZERO),X.blendFuncSeparate(X.ONE,X.ZERO,X.ONE,X.ZERO),X.blendColor(0,0,0,0),X.colorMask(!0,!0,!0,!0),X.clearColor(0,0,0,0),X.depthMask(!0),X.depthFunc(X.LESS),X.clearDepth(1),X.stencilMask(4294967295),X.stencilFunc(X.ALWAYS,0,4294967295),X.stencilOp(X.KEEP,X.KEEP,X.KEEP),X.clearStencil(0),X.cullFace(X.BACK),X.frontFace(X.CCW),X.polygonOffset(0,0),X.activeTexture(X.TEXTURE0),X.bindFramebuffer(X.FRAMEBUFFER,null),W===!0&&(X.bindFramebuffer(X.DRAW_FRAMEBUFFER,null),X.bindFramebuffer(X.READ_FRAMEBUFFER,null)),X.useProgram(null),X.lineWidth(1),X.scissor(0,0,X.canvas.width,X.canvas.height),X.viewport(0,0,X.canvas.width,X.canvas.height),te={},ge=null,Me={},ie={},ne=new WeakMap,ce=[],le=null,se=!1,pe=null,ue=null,ae=null,de=null,be=null,he=null,Le=null,Xe=new Color(0,0,0),We=0,fe=!1,Re=null,ye=null,re=null,Ze=null,Ge=null,it.set(0,0,X.canvas.width,X.canvas.height),st.set(0,0,X.canvas.width,X.canvas.height),Y.reset(),D.reset(),Q.reset()}return{buffers:{color:Y,depth:D,stencil:Q},enable:ut,disable:dt,bindFramebuffer:mt,drawBuffers:Je,useProgram:Ne,setBlending:Ce,setMaterial:ze,setFlipSided:Ee,setCullFace:_e,setLineWidth:He,setPolygonOffset:Pe,setScissorTest:$e,activeTexture:we,bindTexture:Ue,unbindTexture:et,compressedTexImage2D:at,compressedTexImage3D:Ve,texImage2D:rt,texImage3D:vt,updateUBOMapping:ft,uniformBlockBinding:Rt,texStorage2D:Ke,texStorage3D:Ae,texSubImage2D:oe,texSubImage3D:me,compressedTexSubImage2D:Se,compressedTexSubImage3D:Fe,scissor:Vt,viewport:Wt,reset:Yt}}function WebGLTextures(X,Z,G,W,F,U,J){const Y=F.isWebGL2,D=F.maxTextures,Q=F.maxCubemapSize,ee=F.maxTextureSize,q=F.maxSamples,te=Z.has("WEBGL_multisampled_render_to_texture")?Z.get("WEBGL_multisampled_render_to_texture"):null,ie=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ne=new WeakMap;let ce;const le=new WeakMap;let se=!1;try{se=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function pe(we,Ue){return se?new OffscreenCanvas(we,Ue):createElementNS("canvas")}function ue(we,Ue,et,at){let Ve=1;if((we.width>at||we.height>at)&&(Ve=at/Math.max(we.width,we.height)),Ve<1||Ue===!0)if(typeof HTMLImageElement<"u"&&we instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&we instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&we instanceof ImageBitmap){const oe=Ue?floorPowerOfTwo:Math.floor,me=oe(Ve*we.width),Se=oe(Ve*we.height);ce===void 0&&(ce=pe(me,Se));const Fe=et?pe(me,Se):ce;return Fe.width=me,Fe.height=Se,Fe.getContext("2d").drawImage(we,0,0,me,Se),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+we.width+"x"+we.height+") to ("+me+"x"+Se+")."),Fe}else return"data"in we&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+we.width+"x"+we.height+")."),we;return we}function ae(we){return isPowerOfTwo(we.width)&&isPowerOfTwo(we.height)}function de(we){return Y?!1:we.wrapS!==ClampToEdgeWrapping||we.wrapT!==ClampToEdgeWrapping||we.minFilter!==NearestFilter&&we.minFilter!==LinearFilter}function be(we,Ue){return we.generateMipmaps&&Ue&&we.minFilter!==NearestFilter&&we.minFilter!==LinearFilter}function he(we){X.generateMipmap(we)}function Le(we,Ue,et,at,Ve=!1){if(Y===!1)return Ue;if(we!==null){if(X[we]!==void 0)return X[we];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+we+"'")}let oe=Ue;if(Ue===X.RED&&(et===X.FLOAT&&(oe=X.R32F),et===X.HALF_FLOAT&&(oe=X.R16F),et===X.UNSIGNED_BYTE&&(oe=X.R8)),Ue===X.RED_INTEGER&&(et===X.UNSIGNED_BYTE&&(oe=X.R8UI),et===X.UNSIGNED_SHORT&&(oe=X.R16UI),et===X.UNSIGNED_INT&&(oe=X.R32UI),et===X.BYTE&&(oe=X.R8I),et===X.SHORT&&(oe=X.R16I),et===X.INT&&(oe=X.R32I)),Ue===X.RG&&(et===X.FLOAT&&(oe=X.RG32F),et===X.HALF_FLOAT&&(oe=X.RG16F),et===X.UNSIGNED_BYTE&&(oe=X.RG8)),Ue===X.RGBA){const me=Ve?LinearTransfer:ColorManagement.getTransfer(at);et===X.FLOAT&&(oe=X.RGBA32F),et===X.HALF_FLOAT&&(oe=X.RGBA16F),et===X.UNSIGNED_BYTE&&(oe=me===SRGBTransfer?X.SRGB8_ALPHA8:X.RGBA8),et===X.UNSIGNED_SHORT_4_4_4_4&&(oe=X.RGBA4),et===X.UNSIGNED_SHORT_5_5_5_1&&(oe=X.RGB5_A1)}return(oe===X.R16F||oe===X.R32F||oe===X.RG16F||oe===X.RG32F||oe===X.RGBA16F||oe===X.RGBA32F)&&Z.get("EXT_color_buffer_float"),oe}function Xe(we,Ue,et){return be(we,et)===!0||we.isFramebufferTexture&&we.minFilter!==NearestFilter&&we.minFilter!==LinearFilter?Math.log2(Math.max(Ue.width,Ue.height))+1:we.mipmaps!==void 0&&we.mipmaps.length>0?we.mipmaps.length:we.isCompressedTexture&&Array.isArray(we.image)?Ue.mipmaps.length:1}function We(we){return we===NearestFilter||we===NearestMipmapNearestFilter||we===NearestMipmapLinearFilter?X.NEAREST:X.LINEAR}function fe(we){const Ue=we.target;Ue.removeEventListener("dispose",fe),ye(Ue),Ue.isVideoTexture&&ne.delete(Ue)}function Re(we){const Ue=we.target;Ue.removeEventListener("dispose",Re),Ze(Ue)}function ye(we){const Ue=W.get(we);if(Ue.__webglInit===void 0)return;const et=we.source,at=le.get(et);if(at){const Ve=at[Ue.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&re(we),Object.keys(at).length===0&&le.delete(et)}W.remove(we)}function re(we){const Ue=W.get(we);X.deleteTexture(Ue.__webglTexture);const et=we.source,at=le.get(et);delete at[Ue.__cacheKey],J.memory.textures--}function Ze(we){const Ue=we.texture,et=W.get(we),at=W.get(Ue);if(at.__webglTexture!==void 0&&(X.deleteTexture(at.__webglTexture),J.memory.textures--),we.depthTexture&&we.depthTexture.dispose(),we.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(et.__webglFramebuffer[Ve]))for(let oe=0;oe<et.__webglFramebuffer[Ve].length;oe++)X.deleteFramebuffer(et.__webglFramebuffer[Ve][oe]);else X.deleteFramebuffer(et.__webglFramebuffer[Ve]);et.__webglDepthbuffer&&X.deleteRenderbuffer(et.__webglDepthbuffer[Ve])}else{if(Array.isArray(et.__webglFramebuffer))for(let Ve=0;Ve<et.__webglFramebuffer.length;Ve++)X.deleteFramebuffer(et.__webglFramebuffer[Ve]);else X.deleteFramebuffer(et.__webglFramebuffer);if(et.__webglDepthbuffer&&X.deleteRenderbuffer(et.__webglDepthbuffer),et.__webglMultisampledFramebuffer&&X.deleteFramebuffer(et.__webglMultisampledFramebuffer),et.__webglColorRenderbuffer)for(let Ve=0;Ve<et.__webglColorRenderbuffer.length;Ve++)et.__webglColorRenderbuffer[Ve]&&X.deleteRenderbuffer(et.__webglColorRenderbuffer[Ve]);et.__webglDepthRenderbuffer&&X.deleteRenderbuffer(et.__webglDepthRenderbuffer)}if(we.isWebGLMultipleRenderTargets)for(let Ve=0,oe=Ue.length;Ve<oe;Ve++){const me=W.get(Ue[Ve]);me.__webglTexture&&(X.deleteTexture(me.__webglTexture),J.memory.textures--),W.remove(Ue[Ve])}W.remove(Ue),W.remove(we)}let Ge=0;function ve(){Ge=0}function Te(){const we=Ge;return we>=D&&console.warn("THREE.WebGLTextures: Trying to use "+we+" texture units while this GPU supports only "+D),Ge+=1,we}function xe(we){const Ue=[];return Ue.push(we.wrapS),Ue.push(we.wrapT),Ue.push(we.wrapR||0),Ue.push(we.magFilter),Ue.push(we.minFilter),Ue.push(we.anisotropy),Ue.push(we.internalFormat),Ue.push(we.format),Ue.push(we.type),Ue.push(we.generateMipmaps),Ue.push(we.premultiplyAlpha),Ue.push(we.flipY),Ue.push(we.unpackAlignment),Ue.push(we.colorSpace),Ue.join()}function Ye(we,Ue){const et=W.get(we);if(we.isVideoTexture&&Pe(we),we.isRenderTargetTexture===!1&&we.version>0&&et.__version!==we.version){const at=we.image;if(at===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(at.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ut(et,we,Ue);return}}G.bindTexture(X.TEXTURE_2D,et.__webglTexture,X.TEXTURE0+Ue)}function ge(we,Ue){const et=W.get(we);if(we.version>0&&et.__version!==we.version){ut(et,we,Ue);return}G.bindTexture(X.TEXTURE_2D_ARRAY,et.__webglTexture,X.TEXTURE0+Ue)}function Me(we,Ue){const et=W.get(we);if(we.version>0&&et.__version!==we.version){ut(et,we,Ue);return}G.bindTexture(X.TEXTURE_3D,et.__webglTexture,X.TEXTURE0+Ue)}function je(we,Ue){const et=W.get(we);if(we.version>0&&et.__version!==we.version){dt(et,we,Ue);return}G.bindTexture(X.TEXTURE_CUBE_MAP,et.__webglTexture,X.TEXTURE0+Ue)}const tt={[RepeatWrapping]:X.REPEAT,[ClampToEdgeWrapping]:X.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:X.MIRRORED_REPEAT},it={[NearestFilter]:X.NEAREST,[NearestMipmapNearestFilter]:X.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:X.NEAREST_MIPMAP_LINEAR,[LinearFilter]:X.LINEAR,[LinearMipmapNearestFilter]:X.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:X.LINEAR_MIPMAP_LINEAR},st={[NeverCompare]:X.NEVER,[AlwaysCompare]:X.ALWAYS,[LessCompare]:X.LESS,[LessEqualCompare]:X.LEQUAL,[EqualCompare]:X.EQUAL,[GreaterEqualCompare]:X.GEQUAL,[GreaterCompare]:X.GREATER,[NotEqualCompare]:X.NOTEQUAL};function qe(we,Ue,et){if(et?(X.texParameteri(we,X.TEXTURE_WRAP_S,tt[Ue.wrapS]),X.texParameteri(we,X.TEXTURE_WRAP_T,tt[Ue.wrapT]),(we===X.TEXTURE_3D||we===X.TEXTURE_2D_ARRAY)&&X.texParameteri(we,X.TEXTURE_WRAP_R,tt[Ue.wrapR]),X.texParameteri(we,X.TEXTURE_MAG_FILTER,it[Ue.magFilter]),X.texParameteri(we,X.TEXTURE_MIN_FILTER,it[Ue.minFilter])):(X.texParameteri(we,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE),X.texParameteri(we,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE),(we===X.TEXTURE_3D||we===X.TEXTURE_2D_ARRAY)&&X.texParameteri(we,X.TEXTURE_WRAP_R,X.CLAMP_TO_EDGE),(Ue.wrapS!==ClampToEdgeWrapping||Ue.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),X.texParameteri(we,X.TEXTURE_MAG_FILTER,We(Ue.magFilter)),X.texParameteri(we,X.TEXTURE_MIN_FILTER,We(Ue.minFilter)),Ue.minFilter!==NearestFilter&&Ue.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Ue.compareFunction&&(X.texParameteri(we,X.TEXTURE_COMPARE_MODE,X.COMPARE_REF_TO_TEXTURE),X.texParameteri(we,X.TEXTURE_COMPARE_FUNC,st[Ue.compareFunction])),Z.has("EXT_texture_filter_anisotropic")===!0){const at=Z.get("EXT_texture_filter_anisotropic");if(Ue.magFilter===NearestFilter||Ue.minFilter!==NearestMipmapLinearFilter&&Ue.minFilter!==LinearMipmapLinearFilter||Ue.type===FloatType&&Z.has("OES_texture_float_linear")===!1||Y===!1&&Ue.type===HalfFloatType&&Z.has("OES_texture_half_float_linear")===!1)return;(Ue.anisotropy>1||W.get(Ue).__currentAnisotropy)&&(X.texParameterf(we,at.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ue.anisotropy,F.getMaxAnisotropy())),W.get(Ue).__currentAnisotropy=Ue.anisotropy)}}function ot(we,Ue){let et=!1;we.__webglInit===void 0&&(we.__webglInit=!0,Ue.addEventListener("dispose",fe));const at=Ue.source;let Ve=le.get(at);Ve===void 0&&(Ve={},le.set(at,Ve));const oe=xe(Ue);if(oe!==we.__cacheKey){Ve[oe]===void 0&&(Ve[oe]={texture:X.createTexture(),usedTimes:0},J.memory.textures++,et=!0),Ve[oe].usedTimes++;const me=Ve[we.__cacheKey];me!==void 0&&(Ve[we.__cacheKey].usedTimes--,me.usedTimes===0&&re(Ue)),we.__cacheKey=oe,we.__webglTexture=Ve[oe].texture}return et}function ut(we,Ue,et){let at=X.TEXTURE_2D;(Ue.isDataArrayTexture||Ue.isCompressedArrayTexture)&&(at=X.TEXTURE_2D_ARRAY),Ue.isData3DTexture&&(at=X.TEXTURE_3D);const Ve=ot(we,Ue),oe=Ue.source;G.bindTexture(at,we.__webglTexture,X.TEXTURE0+et);const me=W.get(oe);if(oe.version!==me.__version||Ve===!0){G.activeTexture(X.TEXTURE0+et);const Se=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Fe=Ue.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ue.colorSpace),Ke=Ue.colorSpace===NoColorSpace||Se===Fe?X.NONE:X.BROWSER_DEFAULT_WEBGL;X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Ue.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Ue.unpackAlignment),X.pixelStorei(X.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);const Ae=de(Ue)&&ae(Ue.image)===!1;let rt=ue(Ue.image,Ae,!1,ee);rt=$e(Ue,rt);const vt=ae(rt)||Y,Vt=U.convert(Ue.format,Ue.colorSpace);let Wt=U.convert(Ue.type),ft=Le(Ue.internalFormat,Vt,Wt,Ue.colorSpace,Ue.isVideoTexture);qe(at,Ue,vt);let Rt;const Yt=Ue.mipmaps,ct=Y&&Ue.isVideoTexture!==!0,xt=me.__version===void 0||Ve===!0,Qe=Xe(Ue,rt,vt);if(Ue.isDepthTexture)ft=X.DEPTH_COMPONENT,Y?Ue.type===FloatType?ft=X.DEPTH_COMPONENT32F:Ue.type===UnsignedIntType?ft=X.DEPTH_COMPONENT24:Ue.type===UnsignedInt248Type?ft=X.DEPTH24_STENCIL8:ft=X.DEPTH_COMPONENT16:Ue.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ue.format===DepthFormat&&ft===X.DEPTH_COMPONENT&&Ue.type!==UnsignedShortType&&Ue.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ue.type=UnsignedIntType,Wt=U.convert(Ue.type)),Ue.format===DepthStencilFormat&&ft===X.DEPTH_COMPONENT&&(ft=X.DEPTH_STENCIL,Ue.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ue.type=UnsignedInt248Type,Wt=U.convert(Ue.type))),xt&&(ct?G.texStorage2D(X.TEXTURE_2D,1,ft,rt.width,rt.height):G.texImage2D(X.TEXTURE_2D,0,ft,rt.width,rt.height,0,Vt,Wt,null));else if(Ue.isDataTexture)if(Yt.length>0&&vt){ct&&xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,Yt[0].width,Yt[0].height);for(let nt=0,Xt=Yt.length;nt<Xt;nt++)Rt=Yt[nt],ct?G.texSubImage2D(X.TEXTURE_2D,nt,0,0,Rt.width,Rt.height,Vt,Wt,Rt.data):G.texImage2D(X.TEXTURE_2D,nt,ft,Rt.width,Rt.height,0,Vt,Wt,Rt.data);Ue.generateMipmaps=!1}else ct?(xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,rt.width,rt.height),G.texSubImage2D(X.TEXTURE_2D,0,0,0,rt.width,rt.height,Vt,Wt,rt.data)):G.texImage2D(X.TEXTURE_2D,0,ft,rt.width,rt.height,0,Vt,Wt,rt.data);else if(Ue.isCompressedTexture)if(Ue.isCompressedArrayTexture){ct&&xt&&G.texStorage3D(X.TEXTURE_2D_ARRAY,Qe,ft,Yt[0].width,Yt[0].height,rt.depth);for(let nt=0,Xt=Yt.length;nt<Xt;nt++)Rt=Yt[nt],Ue.format!==RGBAFormat?Vt!==null?ct?G.compressedTexSubImage3D(X.TEXTURE_2D_ARRAY,nt,0,0,0,Rt.width,Rt.height,rt.depth,Vt,Rt.data,0,0):G.compressedTexImage3D(X.TEXTURE_2D_ARRAY,nt,ft,Rt.width,Rt.height,rt.depth,0,Rt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?G.texSubImage3D(X.TEXTURE_2D_ARRAY,nt,0,0,0,Rt.width,Rt.height,rt.depth,Vt,Wt,Rt.data):G.texImage3D(X.TEXTURE_2D_ARRAY,nt,ft,Rt.width,Rt.height,rt.depth,0,Vt,Wt,Rt.data)}else{ct&&xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,Yt[0].width,Yt[0].height);for(let nt=0,Xt=Yt.length;nt<Xt;nt++)Rt=Yt[nt],Ue.format!==RGBAFormat?Vt!==null?ct?G.compressedTexSubImage2D(X.TEXTURE_2D,nt,0,0,Rt.width,Rt.height,Vt,Rt.data):G.compressedTexImage2D(X.TEXTURE_2D,nt,ft,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?G.texSubImage2D(X.TEXTURE_2D,nt,0,0,Rt.width,Rt.height,Vt,Wt,Rt.data):G.texImage2D(X.TEXTURE_2D,nt,ft,Rt.width,Rt.height,0,Vt,Wt,Rt.data)}else if(Ue.isDataArrayTexture)ct?(xt&&G.texStorage3D(X.TEXTURE_2D_ARRAY,Qe,ft,rt.width,rt.height,rt.depth),G.texSubImage3D(X.TEXTURE_2D_ARRAY,0,0,0,0,rt.width,rt.height,rt.depth,Vt,Wt,rt.data)):G.texImage3D(X.TEXTURE_2D_ARRAY,0,ft,rt.width,rt.height,rt.depth,0,Vt,Wt,rt.data);else if(Ue.isData3DTexture)ct?(xt&&G.texStorage3D(X.TEXTURE_3D,Qe,ft,rt.width,rt.height,rt.depth),G.texSubImage3D(X.TEXTURE_3D,0,0,0,0,rt.width,rt.height,rt.depth,Vt,Wt,rt.data)):G.texImage3D(X.TEXTURE_3D,0,ft,rt.width,rt.height,rt.depth,0,Vt,Wt,rt.data);else if(Ue.isFramebufferTexture){if(xt)if(ct)G.texStorage2D(X.TEXTURE_2D,Qe,ft,rt.width,rt.height);else{let nt=rt.width,Xt=rt.height;for(let St=0;St<Qe;St++)G.texImage2D(X.TEXTURE_2D,St,ft,nt,Xt,0,Vt,Wt,null),nt>>=1,Xt>>=1}}else if(Yt.length>0&&vt){ct&&xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,Yt[0].width,Yt[0].height);for(let nt=0,Xt=Yt.length;nt<Xt;nt++)Rt=Yt[nt],ct?G.texSubImage2D(X.TEXTURE_2D,nt,0,0,Vt,Wt,Rt):G.texImage2D(X.TEXTURE_2D,nt,ft,Vt,Wt,Rt);Ue.generateMipmaps=!1}else ct?(xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,rt.width,rt.height),G.texSubImage2D(X.TEXTURE_2D,0,0,0,Vt,Wt,rt)):G.texImage2D(X.TEXTURE_2D,0,ft,Vt,Wt,rt);be(Ue,vt)&&he(at),me.__version=oe.version,Ue.onUpdate&&Ue.onUpdate(Ue)}we.__version=Ue.version}function dt(we,Ue,et){if(Ue.image.length!==6)return;const at=ot(we,Ue),Ve=Ue.source;G.bindTexture(X.TEXTURE_CUBE_MAP,we.__webglTexture,X.TEXTURE0+et);const oe=W.get(Ve);if(Ve.version!==oe.__version||at===!0){G.activeTexture(X.TEXTURE0+et);const me=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Se=Ue.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ue.colorSpace),Fe=Ue.colorSpace===NoColorSpace||me===Se?X.NONE:X.BROWSER_DEFAULT_WEBGL;X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Ue.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Ue.unpackAlignment),X.pixelStorei(X.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fe);const Ke=Ue.isCompressedTexture||Ue.image[0].isCompressedTexture,Ae=Ue.image[0]&&Ue.image[0].isDataTexture,rt=[];for(let nt=0;nt<6;nt++)!Ke&&!Ae?rt[nt]=ue(Ue.image[nt],!1,!0,Q):rt[nt]=Ae?Ue.image[nt].image:Ue.image[nt],rt[nt]=$e(Ue,rt[nt]);const vt=rt[0],Vt=ae(vt)||Y,Wt=U.convert(Ue.format,Ue.colorSpace),ft=U.convert(Ue.type),Rt=Le(Ue.internalFormat,Wt,ft,Ue.colorSpace),Yt=Y&&Ue.isVideoTexture!==!0,ct=oe.__version===void 0||at===!0;let xt=Xe(Ue,vt,Vt);qe(X.TEXTURE_CUBE_MAP,Ue,Vt);let Qe;if(Ke){Yt&&ct&&G.texStorage2D(X.TEXTURE_CUBE_MAP,xt,Rt,vt.width,vt.height);for(let nt=0;nt<6;nt++){Qe=rt[nt].mipmaps;for(let Xt=0;Xt<Qe.length;Xt++){const St=Qe[Xt];Ue.format!==RGBAFormat?Wt!==null?Yt?G.compressedTexSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,0,0,St.width,St.height,Wt,St.data):G.compressedTexImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,Rt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Yt?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,0,0,St.width,St.height,Wt,ft,St.data):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,Rt,St.width,St.height,0,Wt,ft,St.data)}}}else{Qe=Ue.mipmaps,Yt&&ct&&(Qe.length>0&&xt++,G.texStorage2D(X.TEXTURE_CUBE_MAP,xt,Rt,rt[0].width,rt[0].height));for(let nt=0;nt<6;nt++)if(Ae){Yt?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,0,0,rt[nt].width,rt[nt].height,Wt,ft,rt[nt].data):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,Rt,rt[nt].width,rt[nt].height,0,Wt,ft,rt[nt].data);for(let Xt=0;Xt<Qe.length;Xt++){const Nt=Qe[Xt].image[nt].image;Yt?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,0,0,Nt.width,Nt.height,Wt,ft,Nt.data):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,Rt,Nt.width,Nt.height,0,Wt,ft,Nt.data)}}else{Yt?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,0,0,Wt,ft,rt[nt]):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,Rt,Wt,ft,rt[nt]);for(let Xt=0;Xt<Qe.length;Xt++){const St=Qe[Xt];Yt?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,0,0,Wt,ft,St.image[nt]):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,Rt,Wt,ft,St.image[nt])}}}be(Ue,Vt)&&he(X.TEXTURE_CUBE_MAP),oe.__version=Ve.version,Ue.onUpdate&&Ue.onUpdate(Ue)}we.__version=Ue.version}function mt(we,Ue,et,at,Ve,oe){const me=U.convert(et.format,et.colorSpace),Se=U.convert(et.type),Fe=Le(et.internalFormat,me,Se,et.colorSpace);if(!W.get(Ue).__hasExternalTextures){const Ae=Math.max(1,Ue.width>>oe),rt=Math.max(1,Ue.height>>oe);Ve===X.TEXTURE_3D||Ve===X.TEXTURE_2D_ARRAY?G.texImage3D(Ve,oe,Fe,Ae,rt,Ue.depth,0,me,Se,null):G.texImage2D(Ve,oe,Fe,Ae,rt,0,me,Se,null)}G.bindFramebuffer(X.FRAMEBUFFER,we),He(Ue)?te.framebufferTexture2DMultisampleEXT(X.FRAMEBUFFER,at,Ve,W.get(et).__webglTexture,0,_e(Ue)):(Ve===X.TEXTURE_2D||Ve>=X.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=X.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&X.framebufferTexture2D(X.FRAMEBUFFER,at,Ve,W.get(et).__webglTexture,oe),G.bindFramebuffer(X.FRAMEBUFFER,null)}function Je(we,Ue,et){if(X.bindRenderbuffer(X.RENDERBUFFER,we),Ue.depthBuffer&&!Ue.stencilBuffer){let at=Y===!0?X.DEPTH_COMPONENT24:X.DEPTH_COMPONENT16;if(et||He(Ue)){const Ve=Ue.depthTexture;Ve&&Ve.isDepthTexture&&(Ve.type===FloatType?at=X.DEPTH_COMPONENT32F:Ve.type===UnsignedIntType&&(at=X.DEPTH_COMPONENT24));const oe=_e(Ue);He(Ue)?te.renderbufferStorageMultisampleEXT(X.RENDERBUFFER,oe,at,Ue.width,Ue.height):X.renderbufferStorageMultisample(X.RENDERBUFFER,oe,at,Ue.width,Ue.height)}else X.renderbufferStorage(X.RENDERBUFFER,at,Ue.width,Ue.height);X.framebufferRenderbuffer(X.FRAMEBUFFER,X.DEPTH_ATTACHMENT,X.RENDERBUFFER,we)}else if(Ue.depthBuffer&&Ue.stencilBuffer){const at=_e(Ue);et&&He(Ue)===!1?X.renderbufferStorageMultisample(X.RENDERBUFFER,at,X.DEPTH24_STENCIL8,Ue.width,Ue.height):He(Ue)?te.renderbufferStorageMultisampleEXT(X.RENDERBUFFER,at,X.DEPTH24_STENCIL8,Ue.width,Ue.height):X.renderbufferStorage(X.RENDERBUFFER,X.DEPTH_STENCIL,Ue.width,Ue.height),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.DEPTH_STENCIL_ATTACHMENT,X.RENDERBUFFER,we)}else{const at=Ue.isWebGLMultipleRenderTargets===!0?Ue.texture:[Ue.texture];for(let Ve=0;Ve<at.length;Ve++){const oe=at[Ve],me=U.convert(oe.format,oe.colorSpace),Se=U.convert(oe.type),Fe=Le(oe.internalFormat,me,Se,oe.colorSpace),Ke=_e(Ue);et&&He(Ue)===!1?X.renderbufferStorageMultisample(X.RENDERBUFFER,Ke,Fe,Ue.width,Ue.height):He(Ue)?te.renderbufferStorageMultisampleEXT(X.RENDERBUFFER,Ke,Fe,Ue.width,Ue.height):X.renderbufferStorage(X.RENDERBUFFER,Fe,Ue.width,Ue.height)}}X.bindRenderbuffer(X.RENDERBUFFER,null)}function Ne(we,Ue){if(Ue&&Ue.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(G.bindFramebuffer(X.FRAMEBUFFER,we),!(Ue.depthTexture&&Ue.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!W.get(Ue.depthTexture).__webglTexture||Ue.depthTexture.image.width!==Ue.width||Ue.depthTexture.image.height!==Ue.height)&&(Ue.depthTexture.image.width=Ue.width,Ue.depthTexture.image.height=Ue.height,Ue.depthTexture.needsUpdate=!0),Ye(Ue.depthTexture,0);const at=W.get(Ue.depthTexture).__webglTexture,Ve=_e(Ue);if(Ue.depthTexture.format===DepthFormat)He(Ue)?te.framebufferTexture2DMultisampleEXT(X.FRAMEBUFFER,X.DEPTH_ATTACHMENT,X.TEXTURE_2D,at,0,Ve):X.framebufferTexture2D(X.FRAMEBUFFER,X.DEPTH_ATTACHMENT,X.TEXTURE_2D,at,0);else if(Ue.depthTexture.format===DepthStencilFormat)He(Ue)?te.framebufferTexture2DMultisampleEXT(X.FRAMEBUFFER,X.DEPTH_STENCIL_ATTACHMENT,X.TEXTURE_2D,at,0,Ve):X.framebufferTexture2D(X.FRAMEBUFFER,X.DEPTH_STENCIL_ATTACHMENT,X.TEXTURE_2D,at,0);else throw new Error("Unknown depthTexture format")}function ke(we){const Ue=W.get(we),et=we.isWebGLCubeRenderTarget===!0;if(we.depthTexture&&!Ue.__autoAllocateDepthBuffer){if(et)throw new Error("target.depthTexture not supported in Cube render targets");Ne(Ue.__webglFramebuffer,we)}else if(et){Ue.__webglDepthbuffer=[];for(let at=0;at<6;at++)G.bindFramebuffer(X.FRAMEBUFFER,Ue.__webglFramebuffer[at]),Ue.__webglDepthbuffer[at]=X.createRenderbuffer(),Je(Ue.__webglDepthbuffer[at],we,!1)}else G.bindFramebuffer(X.FRAMEBUFFER,Ue.__webglFramebuffer),Ue.__webglDepthbuffer=X.createRenderbuffer(),Je(Ue.__webglDepthbuffer,we,!1);G.bindFramebuffer(X.FRAMEBUFFER,null)}function Ie(we,Ue,et){const at=W.get(we);Ue!==void 0&&mt(at.__webglFramebuffer,we,we.texture,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,0),et!==void 0&&ke(we)}function Ce(we){const Ue=we.texture,et=W.get(we),at=W.get(Ue);we.addEventListener("dispose",Re),we.isWebGLMultipleRenderTargets!==!0&&(at.__webglTexture===void 0&&(at.__webglTexture=X.createTexture()),at.__version=Ue.version,J.memory.textures++);const Ve=we.isWebGLCubeRenderTarget===!0,oe=we.isWebGLMultipleRenderTargets===!0,me=ae(we)||Y;if(Ve){et.__webglFramebuffer=[];for(let Se=0;Se<6;Se++)if(Y&&Ue.mipmaps&&Ue.mipmaps.length>0){et.__webglFramebuffer[Se]=[];for(let Fe=0;Fe<Ue.mipmaps.length;Fe++)et.__webglFramebuffer[Se][Fe]=X.createFramebuffer()}else et.__webglFramebuffer[Se]=X.createFramebuffer()}else{if(Y&&Ue.mipmaps&&Ue.mipmaps.length>0){et.__webglFramebuffer=[];for(let Se=0;Se<Ue.mipmaps.length;Se++)et.__webglFramebuffer[Se]=X.createFramebuffer()}else et.__webglFramebuffer=X.createFramebuffer();if(oe)if(F.drawBuffers){const Se=we.texture;for(let Fe=0,Ke=Se.length;Fe<Ke;Fe++){const Ae=W.get(Se[Fe]);Ae.__webglTexture===void 0&&(Ae.__webglTexture=X.createTexture(),J.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(Y&&we.samples>0&&He(we)===!1){const Se=oe?Ue:[Ue];et.__webglMultisampledFramebuffer=X.createFramebuffer(),et.__webglColorRenderbuffer=[],G.bindFramebuffer(X.FRAMEBUFFER,et.__webglMultisampledFramebuffer);for(let Fe=0;Fe<Se.length;Fe++){const Ke=Se[Fe];et.__webglColorRenderbuffer[Fe]=X.createRenderbuffer(),X.bindRenderbuffer(X.RENDERBUFFER,et.__webglColorRenderbuffer[Fe]);const Ae=U.convert(Ke.format,Ke.colorSpace),rt=U.convert(Ke.type),vt=Le(Ke.internalFormat,Ae,rt,Ke.colorSpace,we.isXRRenderTarget===!0),Vt=_e(we);X.renderbufferStorageMultisample(X.RENDERBUFFER,Vt,vt,we.width,we.height),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Fe,X.RENDERBUFFER,et.__webglColorRenderbuffer[Fe])}X.bindRenderbuffer(X.RENDERBUFFER,null),we.depthBuffer&&(et.__webglDepthRenderbuffer=X.createRenderbuffer(),Je(et.__webglDepthRenderbuffer,we,!0)),G.bindFramebuffer(X.FRAMEBUFFER,null)}}if(Ve){G.bindTexture(X.TEXTURE_CUBE_MAP,at.__webglTexture),qe(X.TEXTURE_CUBE_MAP,Ue,me);for(let Se=0;Se<6;Se++)if(Y&&Ue.mipmaps&&Ue.mipmaps.length>0)for(let Fe=0;Fe<Ue.mipmaps.length;Fe++)mt(et.__webglFramebuffer[Se][Fe],we,Ue,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Fe);else mt(et.__webglFramebuffer[Se],we,Ue,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0);be(Ue,me)&&he(X.TEXTURE_CUBE_MAP),G.unbindTexture()}else if(oe){const Se=we.texture;for(let Fe=0,Ke=Se.length;Fe<Ke;Fe++){const Ae=Se[Fe],rt=W.get(Ae);G.bindTexture(X.TEXTURE_2D,rt.__webglTexture),qe(X.TEXTURE_2D,Ae,me),mt(et.__webglFramebuffer,we,Ae,X.COLOR_ATTACHMENT0+Fe,X.TEXTURE_2D,0),be(Ae,me)&&he(X.TEXTURE_2D)}G.unbindTexture()}else{let Se=X.TEXTURE_2D;if((we.isWebGL3DRenderTarget||we.isWebGLArrayRenderTarget)&&(Y?Se=we.isWebGL3DRenderTarget?X.TEXTURE_3D:X.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),G.bindTexture(Se,at.__webglTexture),qe(Se,Ue,me),Y&&Ue.mipmaps&&Ue.mipmaps.length>0)for(let Fe=0;Fe<Ue.mipmaps.length;Fe++)mt(et.__webglFramebuffer[Fe],we,Ue,X.COLOR_ATTACHMENT0,Se,Fe);else mt(et.__webglFramebuffer,we,Ue,X.COLOR_ATTACHMENT0,Se,0);be(Ue,me)&&he(Se),G.unbindTexture()}we.depthBuffer&&ke(we)}function ze(we){const Ue=ae(we)||Y,et=we.isWebGLMultipleRenderTargets===!0?we.texture:[we.texture];for(let at=0,Ve=et.length;at<Ve;at++){const oe=et[at];if(be(oe,Ue)){const me=we.isWebGLCubeRenderTarget?X.TEXTURE_CUBE_MAP:X.TEXTURE_2D,Se=W.get(oe).__webglTexture;G.bindTexture(me,Se),he(me),G.unbindTexture()}}}function Ee(we){if(Y&&we.samples>0&&He(we)===!1){const Ue=we.isWebGLMultipleRenderTargets?we.texture:[we.texture],et=we.width,at=we.height;let Ve=X.COLOR_BUFFER_BIT;const oe=[],me=we.stencilBuffer?X.DEPTH_STENCIL_ATTACHMENT:X.DEPTH_ATTACHMENT,Se=W.get(we),Fe=we.isWebGLMultipleRenderTargets===!0;if(Fe)for(let Ke=0;Ke<Ue.length;Ke++)G.bindFramebuffer(X.FRAMEBUFFER,Se.__webglMultisampledFramebuffer),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.RENDERBUFFER,null),G.bindFramebuffer(X.FRAMEBUFFER,Se.__webglFramebuffer),X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.TEXTURE_2D,null,0);G.bindFramebuffer(X.READ_FRAMEBUFFER,Se.__webglMultisampledFramebuffer),G.bindFramebuffer(X.DRAW_FRAMEBUFFER,Se.__webglFramebuffer);for(let Ke=0;Ke<Ue.length;Ke++){oe.push(X.COLOR_ATTACHMENT0+Ke),we.depthBuffer&&oe.push(me);const Ae=Se.__ignoreDepthValues!==void 0?Se.__ignoreDepthValues:!1;if(Ae===!1&&(we.depthBuffer&&(Ve|=X.DEPTH_BUFFER_BIT),we.stencilBuffer&&(Ve|=X.STENCIL_BUFFER_BIT)),Fe&&X.framebufferRenderbuffer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.RENDERBUFFER,Se.__webglColorRenderbuffer[Ke]),Ae===!0&&(X.invalidateFramebuffer(X.READ_FRAMEBUFFER,[me]),X.invalidateFramebuffer(X.DRAW_FRAMEBUFFER,[me])),Fe){const rt=W.get(Ue[Ke]).__webglTexture;X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,rt,0)}X.blitFramebuffer(0,0,et,at,0,0,et,at,Ve,X.NEAREST),ie&&X.invalidateFramebuffer(X.READ_FRAMEBUFFER,oe)}if(G.bindFramebuffer(X.READ_FRAMEBUFFER,null),G.bindFramebuffer(X.DRAW_FRAMEBUFFER,null),Fe)for(let Ke=0;Ke<Ue.length;Ke++){G.bindFramebuffer(X.FRAMEBUFFER,Se.__webglMultisampledFramebuffer),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.RENDERBUFFER,Se.__webglColorRenderbuffer[Ke]);const Ae=W.get(Ue[Ke]).__webglTexture;G.bindFramebuffer(X.FRAMEBUFFER,Se.__webglFramebuffer),X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.TEXTURE_2D,Ae,0)}G.bindFramebuffer(X.DRAW_FRAMEBUFFER,Se.__webglMultisampledFramebuffer)}}function _e(we){return Math.min(q,we.samples)}function He(we){const Ue=W.get(we);return Y&&we.samples>0&&Z.has("WEBGL_multisampled_render_to_texture")===!0&&Ue.__useRenderToTexture!==!1}function Pe(we){const Ue=J.render.frame;ne.get(we)!==Ue&&(ne.set(we,Ue),we.update())}function $e(we,Ue){const et=we.colorSpace,at=we.format,Ve=we.type;return we.isCompressedTexture===!0||we.isVideoTexture===!0||we.format===_SRGBAFormat||et!==LinearSRGBColorSpace&&et!==NoColorSpace&&(ColorManagement.getTransfer(et)===SRGBTransfer?Y===!1?Z.has("EXT_sRGB")===!0&&at===RGBAFormat?(we.format=_SRGBAFormat,we.minFilter=LinearFilter,we.generateMipmaps=!1):Ue=ImageUtils.sRGBToLinear(Ue):(at!==RGBAFormat||Ve!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",et)),Ue}this.allocateTextureUnit=Te,this.resetTextureUnits=ve,this.setTexture2D=Ye,this.setTexture2DArray=ge,this.setTexture3D=Me,this.setTextureCube=je,this.rebindTextures=Ie,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=mt,this.useMultisampledRTT=He}function WebGLUtils(X,Z,G){const W=G.isWebGL2;function F(U,J=NoColorSpace){let Y;const D=ColorManagement.getTransfer(J);if(U===UnsignedByteType)return X.UNSIGNED_BYTE;if(U===UnsignedShort4444Type)return X.UNSIGNED_SHORT_4_4_4_4;if(U===UnsignedShort5551Type)return X.UNSIGNED_SHORT_5_5_5_1;if(U===ByteType)return X.BYTE;if(U===ShortType)return X.SHORT;if(U===UnsignedShortType)return X.UNSIGNED_SHORT;if(U===IntType)return X.INT;if(U===UnsignedIntType)return X.UNSIGNED_INT;if(U===FloatType)return X.FLOAT;if(U===HalfFloatType)return W?X.HALF_FLOAT:(Y=Z.get("OES_texture_half_float"),Y!==null?Y.HALF_FLOAT_OES:null);if(U===AlphaFormat)return X.ALPHA;if(U===RGBAFormat)return X.RGBA;if(U===LuminanceFormat)return X.LUMINANCE;if(U===LuminanceAlphaFormat)return X.LUMINANCE_ALPHA;if(U===DepthFormat)return X.DEPTH_COMPONENT;if(U===DepthStencilFormat)return X.DEPTH_STENCIL;if(U===_SRGBAFormat)return Y=Z.get("EXT_sRGB"),Y!==null?Y.SRGB_ALPHA_EXT:null;if(U===RedFormat)return X.RED;if(U===RedIntegerFormat)return X.RED_INTEGER;if(U===RGFormat)return X.RG;if(U===RGIntegerFormat)return X.RG_INTEGER;if(U===RGBAIntegerFormat)return X.RGBA_INTEGER;if(U===RGB_S3TC_DXT1_Format||U===RGBA_S3TC_DXT1_Format||U===RGBA_S3TC_DXT3_Format||U===RGBA_S3TC_DXT5_Format)if(D===SRGBTransfer)if(Y=Z.get("WEBGL_compressed_texture_s3tc_srgb"),Y!==null){if(U===RGB_S3TC_DXT1_Format)return Y.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT1_Format)return Y.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT3_Format)return Y.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(U===RGBA_S3TC_DXT5_Format)return Y.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(Y=Z.get("WEBGL_compressed_texture_s3tc"),Y!==null){if(U===RGB_S3TC_DXT1_Format)return Y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT1_Format)return Y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT3_Format)return Y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(U===RGBA_S3TC_DXT5_Format)return Y.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(U===RGB_PVRTC_4BPPV1_Format||U===RGB_PVRTC_2BPPV1_Format||U===RGBA_PVRTC_4BPPV1_Format||U===RGBA_PVRTC_2BPPV1_Format)if(Y=Z.get("WEBGL_compressed_texture_pvrtc"),Y!==null){if(U===RGB_PVRTC_4BPPV1_Format)return Y.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(U===RGB_PVRTC_2BPPV1_Format)return Y.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(U===RGBA_PVRTC_4BPPV1_Format)return Y.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(U===RGBA_PVRTC_2BPPV1_Format)return Y.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(U===RGB_ETC1_Format)return Y=Z.get("WEBGL_compressed_texture_etc1"),Y!==null?Y.COMPRESSED_RGB_ETC1_WEBGL:null;if(U===RGB_ETC2_Format||U===RGBA_ETC2_EAC_Format)if(Y=Z.get("WEBGL_compressed_texture_etc"),Y!==null){if(U===RGB_ETC2_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ETC2:Y.COMPRESSED_RGB8_ETC2;if(U===RGBA_ETC2_EAC_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:Y.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(U===RGBA_ASTC_4x4_Format||U===RGBA_ASTC_5x4_Format||U===RGBA_ASTC_5x5_Format||U===RGBA_ASTC_6x5_Format||U===RGBA_ASTC_6x6_Format||U===RGBA_ASTC_8x5_Format||U===RGBA_ASTC_8x6_Format||U===RGBA_ASTC_8x8_Format||U===RGBA_ASTC_10x5_Format||U===RGBA_ASTC_10x6_Format||U===RGBA_ASTC_10x8_Format||U===RGBA_ASTC_10x10_Format||U===RGBA_ASTC_12x10_Format||U===RGBA_ASTC_12x12_Format)if(Y=Z.get("WEBGL_compressed_texture_astc"),Y!==null){if(U===RGBA_ASTC_4x4_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:Y.COMPRESSED_RGBA_ASTC_4x4_KHR;if(U===RGBA_ASTC_5x4_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:Y.COMPRESSED_RGBA_ASTC_5x4_KHR;if(U===RGBA_ASTC_5x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:Y.COMPRESSED_RGBA_ASTC_5x5_KHR;if(U===RGBA_ASTC_6x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:Y.COMPRESSED_RGBA_ASTC_6x5_KHR;if(U===RGBA_ASTC_6x6_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:Y.COMPRESSED_RGBA_ASTC_6x6_KHR;if(U===RGBA_ASTC_8x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:Y.COMPRESSED_RGBA_ASTC_8x5_KHR;if(U===RGBA_ASTC_8x6_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:Y.COMPRESSED_RGBA_ASTC_8x6_KHR;if(U===RGBA_ASTC_8x8_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:Y.COMPRESSED_RGBA_ASTC_8x8_KHR;if(U===RGBA_ASTC_10x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:Y.COMPRESSED_RGBA_ASTC_10x5_KHR;if(U===RGBA_ASTC_10x6_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:Y.COMPRESSED_RGBA_ASTC_10x6_KHR;if(U===RGBA_ASTC_10x8_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:Y.COMPRESSED_RGBA_ASTC_10x8_KHR;if(U===RGBA_ASTC_10x10_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:Y.COMPRESSED_RGBA_ASTC_10x10_KHR;if(U===RGBA_ASTC_12x10_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:Y.COMPRESSED_RGBA_ASTC_12x10_KHR;if(U===RGBA_ASTC_12x12_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:Y.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(U===RGBA_BPTC_Format||U===RGB_BPTC_SIGNED_Format||U===RGB_BPTC_UNSIGNED_Format)if(Y=Z.get("EXT_texture_compression_bptc"),Y!==null){if(U===RGBA_BPTC_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:Y.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(U===RGB_BPTC_SIGNED_Format)return Y.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(U===RGB_BPTC_UNSIGNED_Format)return Y.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(U===RED_RGTC1_Format||U===SIGNED_RED_RGTC1_Format||U===RED_GREEN_RGTC2_Format||U===SIGNED_RED_GREEN_RGTC2_Format)if(Y=Z.get("EXT_texture_compression_rgtc"),Y!==null){if(U===RGBA_BPTC_Format)return Y.COMPRESSED_RED_RGTC1_EXT;if(U===SIGNED_RED_RGTC1_Format)return Y.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(U===RED_GREEN_RGTC2_Format)return Y.COMPRESSED_RED_GREEN_RGTC2_EXT;if(U===SIGNED_RED_GREEN_RGTC2_Format)return Y.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return U===UnsignedInt248Type?W?X.UNSIGNED_INT_24_8:(Y=Z.get("WEBGL_depth_texture"),Y!==null?Y.UNSIGNED_INT_24_8_WEBGL:null):X[U]!==void 0?X[U]:null}return{convert:F}}class ArrayCamera extends PerspectiveCamera{constructor(Z=[]){super(),this.isArrayCamera=!0,this.cameras=Z}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(Z){return this._targetRay!==null&&this._targetRay.dispatchEvent(Z),this._grip!==null&&this._grip.dispatchEvent(Z),this._hand!==null&&this._hand.dispatchEvent(Z),this}connect(Z){if(Z&&Z.hand){const G=this._hand;if(G)for(const W of Z.hand.values())this._getHandJoint(G,W)}return this.dispatchEvent({type:"connected",data:Z}),this}disconnect(Z){return this.dispatchEvent({type:"disconnected",data:Z}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(Z,G,W){let F=null,U=null,J=null;const Y=this._targetRay,D=this._grip,Q=this._hand;if(Z&&G.session.visibilityState!=="visible-blurred"){if(Q&&Z.hand){J=!0;for(const ce of Z.hand.values()){const le=G.getJointPose(ce,W),se=this._getHandJoint(Q,ce);le!==null&&(se.matrix.fromArray(le.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.matrixWorldNeedsUpdate=!0,se.jointRadius=le.radius),se.visible=le!==null}const ee=Q.joints["index-finger-tip"],q=Q.joints["thumb-tip"],te=ee.position.distanceTo(q.position),ie=.02,ne=.005;Q.inputState.pinching&&te>ie+ne?(Q.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:Z.handedness,target:this})):!Q.inputState.pinching&&te<=ie-ne&&(Q.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:Z.handedness,target:this}))}else D!==null&&Z.gripSpace&&(U=G.getPose(Z.gripSpace,W),U!==null&&(D.matrix.fromArray(U.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale),D.matrixWorldNeedsUpdate=!0,U.linearVelocity?(D.hasLinearVelocity=!0,D.linearVelocity.copy(U.linearVelocity)):D.hasLinearVelocity=!1,U.angularVelocity?(D.hasAngularVelocity=!0,D.angularVelocity.copy(U.angularVelocity)):D.hasAngularVelocity=!1));Y!==null&&(F=G.getPose(Z.targetRaySpace,W),F===null&&U!==null&&(F=U),F!==null&&(Y.matrix.fromArray(F.transform.matrix),Y.matrix.decompose(Y.position,Y.rotation,Y.scale),Y.matrixWorldNeedsUpdate=!0,F.linearVelocity?(Y.hasLinearVelocity=!0,Y.linearVelocity.copy(F.linearVelocity)):Y.hasLinearVelocity=!1,F.angularVelocity?(Y.hasAngularVelocity=!0,Y.angularVelocity.copy(F.angularVelocity)):Y.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return Y!==null&&(Y.visible=F!==null),D!==null&&(D.visible=U!==null),Q!==null&&(Q.visible=J!==null),this}_getHandJoint(Z,G){if(Z.joints[G.jointName]===void 0){const W=new Group;W.matrixAutoUpdate=!1,W.visible=!1,Z.joints[G.jointName]=W,Z.add(W)}return Z.joints[G.jointName]}}class DepthTexture extends Texture{constructor(Z,G,W,F,U,J,Y,D,Q,ee){if(ee=ee!==void 0?ee:DepthFormat,ee!==DepthFormat&&ee!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");W===void 0&&ee===DepthFormat&&(W=UnsignedIntType),W===void 0&&ee===DepthStencilFormat&&(W=UnsignedInt248Type),super(null,F,U,J,Y,D,ee,W,Q),this.isDepthTexture=!0,this.image={width:Z,height:G},this.magFilter=Y!==void 0?Y:NearestFilter,this.minFilter=D!==void 0?D:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(Z){return super.copy(Z),this.compareFunction=Z.compareFunction,this}toJSON(Z){const G=super.toJSON(Z);return this.compareFunction!==null&&(G.compareFunction=this.compareFunction),G}}class WebXRManager extends EventDispatcher{constructor(Z,G){super();const W=this;let F=null,U=1,J=null,Y="local-floor",D=1,Q=null,ee=null,q=null,te=null,ie=null,ne=null;const ce=G.getContextAttributes();let le=null,se=null;const pe=[],ue=[],ae=new PerspectiveCamera;ae.layers.enable(1),ae.viewport=new Vector4;const de=new PerspectiveCamera;de.layers.enable(2),de.viewport=new Vector4;const be=[ae,de],he=new ArrayCamera;he.layers.enable(1),he.layers.enable(2);let Le=null,Xe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let Me=pe[ge];return Me===void 0&&(Me=new WebXRController,pe[ge]=Me),Me.getTargetRaySpace()},this.getControllerGrip=function(ge){let Me=pe[ge];return Me===void 0&&(Me=new WebXRController,pe[ge]=Me),Me.getGripSpace()},this.getHand=function(ge){let Me=pe[ge];return Me===void 0&&(Me=new WebXRController,pe[ge]=Me),Me.getHandSpace()};function We(ge){const Me=ue.indexOf(ge.inputSource);if(Me===-1)return;const je=pe[Me];je!==void 0&&(je.update(ge.inputSource,ge.frame,Q||J),je.dispatchEvent({type:ge.type,data:ge.inputSource}))}function fe(){F.removeEventListener("select",We),F.removeEventListener("selectstart",We),F.removeEventListener("selectend",We),F.removeEventListener("squeeze",We),F.removeEventListener("squeezestart",We),F.removeEventListener("squeezeend",We),F.removeEventListener("end",fe),F.removeEventListener("inputsourceschange",Re);for(let ge=0;ge<pe.length;ge++){const Me=ue[ge];Me!==null&&(ue[ge]=null,pe[ge].disconnect(Me))}Le=null,Xe=null,Z.setRenderTarget(le),ie=null,te=null,q=null,F=null,se=null,Ye.stop(),W.isPresenting=!1,W.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){U=ge,W.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){Y=ge,W.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return Q||J},this.setReferenceSpace=function(ge){Q=ge},this.getBaseLayer=function(){return te!==null?te:ie},this.getBinding=function(){return q},this.getFrame=function(){return ne},this.getSession=function(){return F},this.setSession=async function(ge){if(F=ge,F!==null){if(le=Z.getRenderTarget(),F.addEventListener("select",We),F.addEventListener("selectstart",We),F.addEventListener("selectend",We),F.addEventListener("squeeze",We),F.addEventListener("squeezestart",We),F.addEventListener("squeezeend",We),F.addEventListener("end",fe),F.addEventListener("inputsourceschange",Re),ce.xrCompatible!==!0&&await G.makeXRCompatible(),F.renderState.layers===void 0||Z.capabilities.isWebGL2===!1){const Me={antialias:F.renderState.layers===void 0?ce.antialias:!0,alpha:!0,depth:ce.depth,stencil:ce.stencil,framebufferScaleFactor:U};ie=new XRWebGLLayer(F,G,Me),F.updateRenderState({baseLayer:ie}),se=new WebGLRenderTarget(ie.framebufferWidth,ie.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:Z.outputColorSpace,stencilBuffer:ce.stencil})}else{let Me=null,je=null,tt=null;ce.depth&&(tt=ce.stencil?G.DEPTH24_STENCIL8:G.DEPTH_COMPONENT24,Me=ce.stencil?DepthStencilFormat:DepthFormat,je=ce.stencil?UnsignedInt248Type:UnsignedIntType);const it={colorFormat:G.RGBA8,depthFormat:tt,scaleFactor:U};q=new XRWebGLBinding(F,G),te=q.createProjectionLayer(it),F.updateRenderState({layers:[te]}),se=new WebGLRenderTarget(te.textureWidth,te.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(te.textureWidth,te.textureHeight,je,void 0,void 0,void 0,void 0,void 0,void 0,Me),stencilBuffer:ce.stencil,colorSpace:Z.outputColorSpace,samples:ce.antialias?4:0});const st=Z.properties.get(se);st.__ignoreDepthValues=te.ignoreDepthValues}se.isXRRenderTarget=!0,this.setFoveation(D),Q=null,J=await F.requestReferenceSpace(Y),Ye.setContext(F),Ye.start(),W.isPresenting=!0,W.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(F!==null)return F.environmentBlendMode};function Re(ge){for(let Me=0;Me<ge.removed.length;Me++){const je=ge.removed[Me],tt=ue.indexOf(je);tt>=0&&(ue[tt]=null,pe[tt].disconnect(je))}for(let Me=0;Me<ge.added.length;Me++){const je=ge.added[Me];let tt=ue.indexOf(je);if(tt===-1){for(let st=0;st<pe.length;st++)if(st>=ue.length){ue.push(je),tt=st;break}else if(ue[st]===null){ue[st]=je,tt=st;break}if(tt===-1)break}const it=pe[tt];it&&it.connect(je)}}const ye=new Vector3,re=new Vector3;function Ze(ge,Me,je){ye.setFromMatrixPosition(Me.matrixWorld),re.setFromMatrixPosition(je.matrixWorld);const tt=ye.distanceTo(re),it=Me.projectionMatrix.elements,st=je.projectionMatrix.elements,qe=it[14]/(it[10]-1),ot=it[14]/(it[10]+1),ut=(it[9]+1)/it[5],dt=(it[9]-1)/it[5],mt=(it[8]-1)/it[0],Je=(st[8]+1)/st[0],Ne=qe*mt,ke=qe*Je,Ie=tt/(-mt+Je),Ce=Ie*-mt;Me.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(Ce),ge.translateZ(Ie),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert();const ze=qe+Ie,Ee=ot+Ie,_e=Ne-Ce,He=ke+(tt-Ce),Pe=ut*ot/Ee*ze,$e=dt*ot/Ee*ze;ge.projectionMatrix.makePerspective(_e,He,Pe,$e,ze,Ee),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}function Ge(ge,Me){Me===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(Me.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(F===null)return;he.near=de.near=ae.near=ge.near,he.far=de.far=ae.far=ge.far,(Le!==he.near||Xe!==he.far)&&(F.updateRenderState({depthNear:he.near,depthFar:he.far}),Le=he.near,Xe=he.far);const Me=ge.parent,je=he.cameras;Ge(he,Me);for(let tt=0;tt<je.length;tt++)Ge(je[tt],Me);je.length===2?Ze(he,ae,de):he.projectionMatrix.copy(ae.projectionMatrix),ve(ge,he,Me)};function ve(ge,Me,je){je===null?ge.matrix.copy(Me.matrixWorld):(ge.matrix.copy(je.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(Me.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(Me.projectionMatrix),ge.projectionMatrixInverse.copy(Me.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=RAD2DEG*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return he},this.getFoveation=function(){if(!(te===null&&ie===null))return D},this.setFoveation=function(ge){D=ge,te!==null&&(te.fixedFoveation=ge),ie!==null&&ie.fixedFoveation!==void 0&&(ie.fixedFoveation=ge)};let Te=null;function xe(ge,Me){if(ee=Me.getViewerPose(Q||J),ne=Me,ee!==null){const je=ee.views;ie!==null&&(Z.setRenderTargetFramebuffer(se,ie.framebuffer),Z.setRenderTarget(se));let tt=!1;je.length!==he.cameras.length&&(he.cameras.length=0,tt=!0);for(let it=0;it<je.length;it++){const st=je[it];let qe=null;if(ie!==null)qe=ie.getViewport(st);else{const ut=q.getViewSubImage(te,st);qe=ut.viewport,it===0&&(Z.setRenderTargetTextures(se,ut.colorTexture,te.ignoreDepthValues?void 0:ut.depthStencilTexture),Z.setRenderTarget(se))}let ot=be[it];ot===void 0&&(ot=new PerspectiveCamera,ot.layers.enable(it),ot.viewport=new Vector4,be[it]=ot),ot.matrix.fromArray(st.transform.matrix),ot.matrix.decompose(ot.position,ot.quaternion,ot.scale),ot.projectionMatrix.fromArray(st.projectionMatrix),ot.projectionMatrixInverse.copy(ot.projectionMatrix).invert(),ot.viewport.set(qe.x,qe.y,qe.width,qe.height),it===0&&(he.matrix.copy(ot.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale)),tt===!0&&he.cameras.push(ot)}}for(let je=0;je<pe.length;je++){const tt=ue[je],it=pe[je];tt!==null&&it!==void 0&&it.update(tt,Me,Q||J)}Te&&Te(ge,Me),Me.detectedPlanes&&W.dispatchEvent({type:"planesdetected",data:Me}),ne=null}const Ye=new WebGLAnimation;Ye.setAnimationLoop(xe),this.setAnimationLoop=function(ge){Te=ge},this.dispose=function(){}}}function WebGLMaterials(X,Z){function G(le,se){le.matrixAutoUpdate===!0&&le.updateMatrix(),se.value.copy(le.matrix)}function W(le,se){se.color.getRGB(le.fogColor.value,getUnlitUniformColorSpace(X)),se.isFog?(le.fogNear.value=se.near,le.fogFar.value=se.far):se.isFogExp2&&(le.fogDensity.value=se.density)}function F(le,se,pe,ue,ae){se.isMeshBasicMaterial||se.isMeshLambertMaterial?U(le,se):se.isMeshToonMaterial?(U(le,se),q(le,se)):se.isMeshPhongMaterial?(U(le,se),ee(le,se)):se.isMeshStandardMaterial?(U(le,se),te(le,se),se.isMeshPhysicalMaterial&&ie(le,se,ae)):se.isMeshMatcapMaterial?(U(le,se),ne(le,se)):se.isMeshDepthMaterial?U(le,se):se.isMeshDistanceMaterial?(U(le,se),ce(le,se)):se.isMeshNormalMaterial?U(le,se):se.isLineBasicMaterial?(J(le,se),se.isLineDashedMaterial&&Y(le,se)):se.isPointsMaterial?D(le,se,pe,ue):se.isSpriteMaterial?Q(le,se):se.isShadowMaterial?(le.color.value.copy(se.color),le.opacity.value=se.opacity):se.isShaderMaterial&&(se.uniformsNeedUpdate=!1)}function U(le,se){le.opacity.value=se.opacity,se.color&&le.diffuse.value.copy(se.color),se.emissive&&le.emissive.value.copy(se.emissive).multiplyScalar(se.emissiveIntensity),se.map&&(le.map.value=se.map,G(se.map,le.mapTransform)),se.alphaMap&&(le.alphaMap.value=se.alphaMap,G(se.alphaMap,le.alphaMapTransform)),se.bumpMap&&(le.bumpMap.value=se.bumpMap,G(se.bumpMap,le.bumpMapTransform),le.bumpScale.value=se.bumpScale,se.side===BackSide&&(le.bumpScale.value*=-1)),se.normalMap&&(le.normalMap.value=se.normalMap,G(se.normalMap,le.normalMapTransform),le.normalScale.value.copy(se.normalScale),se.side===BackSide&&le.normalScale.value.negate()),se.displacementMap&&(le.displacementMap.value=se.displacementMap,G(se.displacementMap,le.displacementMapTransform),le.displacementScale.value=se.displacementScale,le.displacementBias.value=se.displacementBias),se.emissiveMap&&(le.emissiveMap.value=se.emissiveMap,G(se.emissiveMap,le.emissiveMapTransform)),se.specularMap&&(le.specularMap.value=se.specularMap,G(se.specularMap,le.specularMapTransform)),se.alphaTest>0&&(le.alphaTest.value=se.alphaTest);const pe=Z.get(se).envMap;if(pe&&(le.envMap.value=pe,le.flipEnvMap.value=pe.isCubeTexture&&pe.isRenderTargetTexture===!1?-1:1,le.reflectivity.value=se.reflectivity,le.ior.value=se.ior,le.refractionRatio.value=se.refractionRatio),se.lightMap){le.lightMap.value=se.lightMap;const ue=X._useLegacyLights===!0?Math.PI:1;le.lightMapIntensity.value=se.lightMapIntensity*ue,G(se.lightMap,le.lightMapTransform)}se.aoMap&&(le.aoMap.value=se.aoMap,le.aoMapIntensity.value=se.aoMapIntensity,G(se.aoMap,le.aoMapTransform))}function J(le,se){le.diffuse.value.copy(se.color),le.opacity.value=se.opacity,se.map&&(le.map.value=se.map,G(se.map,le.mapTransform))}function Y(le,se){le.dashSize.value=se.dashSize,le.totalSize.value=se.dashSize+se.gapSize,le.scale.value=se.scale}function D(le,se,pe,ue){le.diffuse.value.copy(se.color),le.opacity.value=se.opacity,le.size.value=se.size*pe,le.scale.value=ue*.5,se.map&&(le.map.value=se.map,G(se.map,le.uvTransform)),se.alphaMap&&(le.alphaMap.value=se.alphaMap,G(se.alphaMap,le.alphaMapTransform)),se.alphaTest>0&&(le.alphaTest.value=se.alphaTest)}function Q(le,se){le.diffuse.value.copy(se.color),le.opacity.value=se.opacity,le.rotation.value=se.rotation,se.map&&(le.map.value=se.map,G(se.map,le.mapTransform)),se.alphaMap&&(le.alphaMap.value=se.alphaMap,G(se.alphaMap,le.alphaMapTransform)),se.alphaTest>0&&(le.alphaTest.value=se.alphaTest)}function ee(le,se){le.specular.value.copy(se.specular),le.shininess.value=Math.max(se.shininess,1e-4)}function q(le,se){se.gradientMap&&(le.gradientMap.value=se.gradientMap)}function te(le,se){le.metalness.value=se.metalness,se.metalnessMap&&(le.metalnessMap.value=se.metalnessMap,G(se.metalnessMap,le.metalnessMapTransform)),le.roughness.value=se.roughness,se.roughnessMap&&(le.roughnessMap.value=se.roughnessMap,G(se.roughnessMap,le.roughnessMapTransform)),Z.get(se).envMap&&(le.envMapIntensity.value=se.envMapIntensity)}function ie(le,se,pe){le.ior.value=se.ior,se.sheen>0&&(le.sheenColor.value.copy(se.sheenColor).multiplyScalar(se.sheen),le.sheenRoughness.value=se.sheenRoughness,se.sheenColorMap&&(le.sheenColorMap.value=se.sheenColorMap,G(se.sheenColorMap,le.sheenColorMapTransform)),se.sheenRoughnessMap&&(le.sheenRoughnessMap.value=se.sheenRoughnessMap,G(se.sheenRoughnessMap,le.sheenRoughnessMapTransform))),se.clearcoat>0&&(le.clearcoat.value=se.clearcoat,le.clearcoatRoughness.value=se.clearcoatRoughness,se.clearcoatMap&&(le.clearcoatMap.value=se.clearcoatMap,G(se.clearcoatMap,le.clearcoatMapTransform)),se.clearcoatRoughnessMap&&(le.clearcoatRoughnessMap.value=se.clearcoatRoughnessMap,G(se.clearcoatRoughnessMap,le.clearcoatRoughnessMapTransform)),se.clearcoatNormalMap&&(le.clearcoatNormalMap.value=se.clearcoatNormalMap,G(se.clearcoatNormalMap,le.clearcoatNormalMapTransform),le.clearcoatNormalScale.value.copy(se.clearcoatNormalScale),se.side===BackSide&&le.clearcoatNormalScale.value.negate())),se.iridescence>0&&(le.iridescence.value=se.iridescence,le.iridescenceIOR.value=se.iridescenceIOR,le.iridescenceThicknessMinimum.value=se.iridescenceThicknessRange[0],le.iridescenceThicknessMaximum.value=se.iridescenceThicknessRange[1],se.iridescenceMap&&(le.iridescenceMap.value=se.iridescenceMap,G(se.iridescenceMap,le.iridescenceMapTransform)),se.iridescenceThicknessMap&&(le.iridescenceThicknessMap.value=se.iridescenceThicknessMap,G(se.iridescenceThicknessMap,le.iridescenceThicknessMapTransform))),se.transmission>0&&(le.transmission.value=se.transmission,le.transmissionSamplerMap.value=pe.texture,le.transmissionSamplerSize.value.set(pe.width,pe.height),se.transmissionMap&&(le.transmissionMap.value=se.transmissionMap,G(se.transmissionMap,le.transmissionMapTransform)),le.thickness.value=se.thickness,se.thicknessMap&&(le.thicknessMap.value=se.thicknessMap,G(se.thicknessMap,le.thicknessMapTransform)),le.attenuationDistance.value=se.attenuationDistance,le.attenuationColor.value.copy(se.attenuationColor)),se.anisotropy>0&&(le.anisotropyVector.value.set(se.anisotropy*Math.cos(se.anisotropyRotation),se.anisotropy*Math.sin(se.anisotropyRotation)),se.anisotropyMap&&(le.anisotropyMap.value=se.anisotropyMap,G(se.anisotropyMap,le.anisotropyMapTransform))),le.specularIntensity.value=se.specularIntensity,le.specularColor.value.copy(se.specularColor),se.specularColorMap&&(le.specularColorMap.value=se.specularColorMap,G(se.specularColorMap,le.specularColorMapTransform)),se.specularIntensityMap&&(le.specularIntensityMap.value=se.specularIntensityMap,G(se.specularIntensityMap,le.specularIntensityMapTransform))}function ne(le,se){se.matcap&&(le.matcap.value=se.matcap)}function ce(le,se){const pe=Z.get(se).light;le.referencePosition.value.setFromMatrixPosition(pe.matrixWorld),le.nearDistance.value=pe.shadow.camera.near,le.farDistance.value=pe.shadow.camera.far}return{refreshFogUniforms:W,refreshMaterialUniforms:F}}function WebGLUniformsGroups(X,Z,G,W){let F={},U={},J=[];const Y=G.isWebGL2?X.getParameter(X.MAX_UNIFORM_BUFFER_BINDINGS):0;function D(pe,ue){const ae=ue.program;W.uniformBlockBinding(pe,ae)}function Q(pe,ue){let ae=F[pe.id];ae===void 0&&(ne(pe),ae=ee(pe),F[pe.id]=ae,pe.addEventListener("dispose",le));const de=ue.program;W.updateUBOMapping(pe,de);const be=Z.render.frame;U[pe.id]!==be&&(te(pe),U[pe.id]=be)}function ee(pe){const ue=q();pe.__bindingPointIndex=ue;const ae=X.createBuffer(),de=pe.__size,be=pe.usage;return X.bindBuffer(X.UNIFORM_BUFFER,ae),X.bufferData(X.UNIFORM_BUFFER,de,be),X.bindBuffer(X.UNIFORM_BUFFER,null),X.bindBufferBase(X.UNIFORM_BUFFER,ue,ae),ae}function q(){for(let pe=0;pe<Y;pe++)if(J.indexOf(pe)===-1)return J.push(pe),pe;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function te(pe){const ue=F[pe.id],ae=pe.uniforms,de=pe.__cache;X.bindBuffer(X.UNIFORM_BUFFER,ue);for(let be=0,he=ae.length;be<he;be++){const Le=ae[be];if(ie(Le,be,de)===!0){const Xe=Le.__offset,We=Array.isArray(Le.value)?Le.value:[Le.value];let fe=0;for(let Re=0;Re<We.length;Re++){const ye=We[Re],re=ce(ye);typeof ye=="number"?(Le.__data[0]=ye,X.bufferSubData(X.UNIFORM_BUFFER,Xe+fe,Le.__data)):ye.isMatrix3?(Le.__data[0]=ye.elements[0],Le.__data[1]=ye.elements[1],Le.__data[2]=ye.elements[2],Le.__data[3]=ye.elements[0],Le.__data[4]=ye.elements[3],Le.__data[5]=ye.elements[4],Le.__data[6]=ye.elements[5],Le.__data[7]=ye.elements[0],Le.__data[8]=ye.elements[6],Le.__data[9]=ye.elements[7],Le.__data[10]=ye.elements[8],Le.__data[11]=ye.elements[0]):(ye.toArray(Le.__data,fe),fe+=re.storage/Float32Array.BYTES_PER_ELEMENT)}X.bufferSubData(X.UNIFORM_BUFFER,Xe,Le.__data)}}X.bindBuffer(X.UNIFORM_BUFFER,null)}function ie(pe,ue,ae){const de=pe.value;if(ae[ue]===void 0){if(typeof de=="number")ae[ue]=de;else{const be=Array.isArray(de)?de:[de],he=[];for(let Le=0;Le<be.length;Le++)he.push(be[Le].clone());ae[ue]=he}return!0}else if(typeof de=="number"){if(ae[ue]!==de)return ae[ue]=de,!0}else{const be=Array.isArray(ae[ue])?ae[ue]:[ae[ue]],he=Array.isArray(de)?de:[de];for(let Le=0;Le<be.length;Le++){const Xe=be[Le];if(Xe.equals(he[Le])===!1)return Xe.copy(he[Le]),!0}}return!1}function ne(pe){const ue=pe.uniforms;let ae=0;const de=16;let be=0;for(let he=0,Le=ue.length;he<Le;he++){const Xe=ue[he],We={boundary:0,storage:0},fe=Array.isArray(Xe.value)?Xe.value:[Xe.value];for(let Re=0,ye=fe.length;Re<ye;Re++){const re=fe[Re],Ze=ce(re);We.boundary+=Ze.boundary,We.storage+=Ze.storage}if(Xe.__data=new Float32Array(We.storage/Float32Array.BYTES_PER_ELEMENT),Xe.__offset=ae,he>0){be=ae%de;const Re=de-be;be!==0&&Re-We.boundary<0&&(ae+=de-be,Xe.__offset=ae)}ae+=We.storage}return be=ae%de,be>0&&(ae+=de-be),pe.__size=ae,pe.__cache={},this}function ce(pe){const ue={boundary:0,storage:0};return typeof pe=="number"?(ue.boundary=4,ue.storage=4):pe.isVector2?(ue.boundary=8,ue.storage=8):pe.isVector3||pe.isColor?(ue.boundary=16,ue.storage=12):pe.isVector4?(ue.boundary=16,ue.storage=16):pe.isMatrix3?(ue.boundary=48,ue.storage=48):pe.isMatrix4?(ue.boundary=64,ue.storage=64):pe.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",pe),ue}function le(pe){const ue=pe.target;ue.removeEventListener("dispose",le);const ae=J.indexOf(ue.__bindingPointIndex);J.splice(ae,1),X.deleteBuffer(F[ue.id]),delete F[ue.id],delete U[ue.id]}function se(){for(const pe in F)X.deleteBuffer(F[pe]);J=[],F={},U={}}return{bind:D,update:Q,dispose:se}}class WebGLRenderer{constructor(Z={}){const{canvas:G=createCanvasElement(),context:W=null,depth:F=!0,stencil:U=!0,alpha:J=!1,antialias:Y=!1,premultipliedAlpha:D=!0,preserveDrawingBuffer:Q=!1,powerPreference:ee="default",failIfMajorPerformanceCaveat:q=!1}=Z;this.isWebGLRenderer=!0;let te;W!==null?te=W.getContextAttributes().alpha:te=J;const ie=new Uint32Array(4),ne=new Int32Array(4);let ce=null,le=null;const se=[],pe=[];this.domElement=G,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ue=this;let ae=!1,de=0,be=0,he=null,Le=-1,Xe=null;const We=new Vector4,fe=new Vector4;let Re=null;const ye=new Color(0);let re=0,Ze=G.width,Ge=G.height,ve=1,Te=null,xe=null;const Ye=new Vector4(0,0,Ze,Ge),ge=new Vector4(0,0,Ze,Ge);let Me=!1;const je=new Frustum;let tt=!1,it=!1,st=null;const qe=new Matrix4,ot=new Vector2,ut=new Vector3,dt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function mt(){return he===null?ve:1}let Je=W;function Ne(De,bt){for(let pt=0;pt<De.length;pt++){const ht=De[pt],yt=G.getContext(ht,bt);if(yt!==null)return yt}return null}try{const De={alpha:!0,depth:F,stencil:U,antialias:Y,premultipliedAlpha:D,preserveDrawingBuffer:Q,powerPreference:ee,failIfMajorPerformanceCaveat:q};if("setAttribute"in G&&G.setAttribute("data-engine",`three.js r${REVISION}`),G.addEventListener("webglcontextlost",Yt,!1),G.addEventListener("webglcontextrestored",ct,!1),G.addEventListener("webglcontextcreationerror",xt,!1),Je===null){const bt=["webgl2","webgl","experimental-webgl"];if(ue.isWebGL1Renderer===!0&&bt.shift(),Je=Ne(bt,De),Je===null)throw Ne(bt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Je instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Je.getShaderPrecisionFormat===void 0&&(Je.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(De){throw console.error("THREE.WebGLRenderer: "+De.message),De}let ke,Ie,Ce,ze,Ee,_e,He,Pe,$e,we,Ue,et,at,Ve,oe,me,Se,Fe,Ke,Ae,rt,vt,Vt,Wt;function ft(){ke=new WebGLExtensions(Je),Ie=new WebGLCapabilities(Je,ke,Z),ke.init(Ie),vt=new WebGLUtils(Je,ke,Ie),Ce=new WebGLState(Je,ke,Ie),ze=new WebGLInfo(Je),Ee=new WebGLProperties,_e=new WebGLTextures(Je,ke,Ce,Ee,Ie,vt,ze),He=new WebGLCubeMaps(ue),Pe=new WebGLCubeUVMaps(ue),$e=new WebGLAttributes(Je,Ie),Vt=new WebGLBindingStates(Je,ke,$e,Ie),we=new WebGLGeometries(Je,$e,ze,Vt),Ue=new WebGLObjects(Je,we,$e,ze),Ke=new WebGLMorphtargets(Je,Ie,_e),me=new WebGLClipping(Ee),et=new WebGLPrograms(ue,He,Pe,ke,Ie,Vt,me),at=new WebGLMaterials(ue,Ee),Ve=new WebGLRenderLists,oe=new WebGLRenderStates(ke,Ie),Fe=new WebGLBackground(ue,He,Pe,Ce,Ue,te,D),Se=new WebGLShadowMap(ue,Ue,Ie),Wt=new WebGLUniformsGroups(Je,ze,Ie,Ce),Ae=new WebGLBufferRenderer(Je,ke,ze,Ie),rt=new WebGLIndexedBufferRenderer(Je,ke,ze,Ie),ze.programs=et.programs,ue.capabilities=Ie,ue.extensions=ke,ue.properties=Ee,ue.renderLists=Ve,ue.shadowMap=Se,ue.state=Ce,ue.info=ze}ft();const Rt=new WebXRManager(ue,Je);this.xr=Rt,this.getContext=function(){return Je},this.getContextAttributes=function(){return Je.getContextAttributes()},this.forceContextLoss=function(){const De=ke.get("WEBGL_lose_context");De&&De.loseContext()},this.forceContextRestore=function(){const De=ke.get("WEBGL_lose_context");De&&De.restoreContext()},this.getPixelRatio=function(){return ve},this.setPixelRatio=function(De){De!==void 0&&(ve=De,this.setSize(Ze,Ge,!1))},this.getSize=function(De){return De.set(Ze,Ge)},this.setSize=function(De,bt,pt=!0){if(Rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ze=De,Ge=bt,G.width=Math.floor(De*ve),G.height=Math.floor(bt*ve),pt===!0&&(G.style.width=De+"px",G.style.height=bt+"px"),this.setViewport(0,0,De,bt)},this.getDrawingBufferSize=function(De){return De.set(Ze*ve,Ge*ve).floor()},this.setDrawingBufferSize=function(De,bt,pt){Ze=De,Ge=bt,ve=pt,G.width=Math.floor(De*pt),G.height=Math.floor(bt*pt),this.setViewport(0,0,De,bt)},this.getCurrentViewport=function(De){return De.copy(We)},this.getViewport=function(De){return De.copy(Ye)},this.setViewport=function(De,bt,pt,ht){De.isVector4?Ye.set(De.x,De.y,De.z,De.w):Ye.set(De,bt,pt,ht),Ce.viewport(We.copy(Ye).multiplyScalar(ve).floor())},this.getScissor=function(De){return De.copy(ge)},this.setScissor=function(De,bt,pt,ht){De.isVector4?ge.set(De.x,De.y,De.z,De.w):ge.set(De,bt,pt,ht),Ce.scissor(fe.copy(ge).multiplyScalar(ve).floor())},this.getScissorTest=function(){return Me},this.setScissorTest=function(De){Ce.setScissorTest(Me=De)},this.setOpaqueSort=function(De){Te=De},this.setTransparentSort=function(De){xe=De},this.getClearColor=function(De){return De.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(De=!0,bt=!0,pt=!0){let ht=0;if(De){let yt=!1;if(he!==null){const It=he.texture.format;yt=It===RGBAIntegerFormat||It===RGIntegerFormat||It===RedIntegerFormat}if(yt){const It=he.texture.type,Mt=It===UnsignedByteType||It===UnsignedIntType||It===UnsignedShortType||It===UnsignedInt248Type||It===UnsignedShort4444Type||It===UnsignedShort5551Type,Ut=Fe.getClearColor(),wt=Fe.getClearAlpha(),Ct=Ut.r,Ft=Ut.g,Et=Ut.b;Mt?(ie[0]=Ct,ie[1]=Ft,ie[2]=Et,ie[3]=wt,Je.clearBufferuiv(Je.COLOR,0,ie)):(ne[0]=Ct,ne[1]=Ft,ne[2]=Et,ne[3]=wt,Je.clearBufferiv(Je.COLOR,0,ne))}else ht|=Je.COLOR_BUFFER_BIT}bt&&(ht|=Je.DEPTH_BUFFER_BIT),pt&&(ht|=Je.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Je.clear(ht)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){G.removeEventListener("webglcontextlost",Yt,!1),G.removeEventListener("webglcontextrestored",ct,!1),G.removeEventListener("webglcontextcreationerror",xt,!1),Ve.dispose(),oe.dispose(),Ee.dispose(),He.dispose(),Pe.dispose(),Ue.dispose(),Vt.dispose(),Wt.dispose(),et.dispose(),Rt.dispose(),Rt.removeEventListener("sessionstart",sn),Rt.removeEventListener("sessionend",Ht),st&&(st.dispose(),st=null),an.stop()};function Yt(De){De.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ae=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),ae=!1;const De=ze.autoReset,bt=Se.enabled,pt=Se.autoUpdate,ht=Se.needsUpdate,yt=Se.type;ft(),ze.autoReset=De,Se.enabled=bt,Se.autoUpdate=pt,Se.needsUpdate=ht,Se.type=yt}function xt(De){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",De.statusMessage)}function Qe(De){const bt=De.target;bt.removeEventListener("dispose",Qe),nt(bt)}function nt(De){Xt(De),Ee.remove(De)}function Xt(De){const bt=Ee.get(De).programs;bt!==void 0&&(bt.forEach(function(pt){et.releaseProgram(pt)}),De.isShaderMaterial&&et.releaseShaderCache(De))}this.renderBufferDirect=function(De,bt,pt,ht,yt,It){bt===null&&(bt=dt);const Mt=yt.isMesh&&yt.matrixWorld.determinant()<0,Ut=$t(De,bt,pt,ht,yt);Ce.setMaterial(ht,Mt);let wt=pt.index,Ct=1;if(ht.wireframe===!0){if(wt=we.getWireframeAttribute(pt),wt===void 0)return;Ct=2}const Ft=pt.drawRange,Et=pt.attributes.position;let nn=Ft.start*Ct,hn=(Ft.start+Ft.count)*Ct;It!==null&&(nn=Math.max(nn,It.start*Ct),hn=Math.min(hn,(It.start+It.count)*Ct)),wt!==null?(nn=Math.max(nn,0),hn=Math.min(hn,wt.count)):Et!=null&&(nn=Math.max(nn,0),hn=Math.min(hn,Et.count));const At=hn-nn;if(At<0||At===1/0)return;Vt.setup(yt,ht,Ut,pt,wt);let fn,qt=Ae;if(wt!==null&&(fn=$e.get(wt),qt=rt,qt.setIndex(fn)),yt.isMesh)ht.wireframe===!0?(Ce.setLineWidth(ht.wireframeLinewidth*mt()),qt.setMode(Je.LINES)):qt.setMode(Je.TRIANGLES);else if(yt.isLine){let zt=ht.linewidth;zt===void 0&&(zt=1),Ce.setLineWidth(zt*mt()),yt.isLineSegments?qt.setMode(Je.LINES):yt.isLineLoop?qt.setMode(Je.LINE_LOOP):qt.setMode(Je.LINE_STRIP)}else yt.isPoints?qt.setMode(Je.POINTS):yt.isSprite&&qt.setMode(Je.TRIANGLES);if(yt.isInstancedMesh)qt.renderInstances(nn,At,yt.count);else if(pt.isInstancedBufferGeometry){const zt=pt._maxInstanceCount!==void 0?pt._maxInstanceCount:1/0,Ln=Math.min(pt.instanceCount,zt);qt.renderInstances(nn,At,Ln)}else qt.render(nn,At)};function St(De,bt,pt){De.transparent===!0&&De.side===DoubleSide&&De.forceSinglePass===!1?(De.side=BackSide,De.needsUpdate=!0,gn(De,bt,pt),De.side=FrontSide,De.needsUpdate=!0,gn(De,bt,pt),De.side=DoubleSide):gn(De,bt,pt)}this.compile=function(De,bt,pt=null){pt===null&&(pt=De),le=oe.get(pt),le.init(),pe.push(le),pt.traverseVisible(function(yt){yt.isLight&&yt.layers.test(bt.layers)&&(le.pushLight(yt),yt.castShadow&&le.pushShadow(yt))}),De!==pt&&De.traverseVisible(function(yt){yt.isLight&&yt.layers.test(bt.layers)&&(le.pushLight(yt),yt.castShadow&&le.pushShadow(yt))}),le.setupLights(ue._useLegacyLights);const ht=new Set;return De.traverse(function(yt){const It=yt.material;if(It)if(Array.isArray(It))for(let Mt=0;Mt<It.length;Mt++){const Ut=It[Mt];St(Ut,pt,yt),ht.add(Ut)}else St(It,pt,yt),ht.add(It)}),pe.pop(),le=null,ht},this.compileAsync=function(De,bt,pt=null){const ht=this.compile(De,bt,pt);return new Promise(yt=>{function It(){if(ht.forEach(function(Mt){Ee.get(Mt).currentProgram.isReady()&&ht.delete(Mt)}),ht.size===0){yt(De);return}setTimeout(It,10)}ke.get("KHR_parallel_shader_compile")!==null?It():setTimeout(It,10)})};let Nt=null;function jt(De){Nt&&Nt(De)}function sn(){an.stop()}function Ht(){an.start()}const an=new WebGLAnimation;an.setAnimationLoop(jt),typeof self<"u"&&an.setContext(self),this.setAnimationLoop=function(De){Nt=De,Rt.setAnimationLoop(De),De===null?an.stop():an.start()},Rt.addEventListener("sessionstart",sn),Rt.addEventListener("sessionend",Ht),this.render=function(De,bt){if(bt!==void 0&&bt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ae===!0)return;De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),bt.parent===null&&bt.matrixWorldAutoUpdate===!0&&bt.updateMatrixWorld(),Rt.enabled===!0&&Rt.isPresenting===!0&&(Rt.cameraAutoUpdate===!0&&Rt.updateCamera(bt),bt=Rt.getCamera()),De.isScene===!0&&De.onBeforeRender(ue,De,bt,he),le=oe.get(De,pe.length),le.init(),pe.push(le),qe.multiplyMatrices(bt.projectionMatrix,bt.matrixWorldInverse),je.setFromProjectionMatrix(qe),it=this.localClippingEnabled,tt=me.init(this.clippingPlanes,it),ce=Ve.get(De,se.length),ce.init(),se.push(ce),Ot(De,bt,0,ue.sortObjects),ce.finish(),ue.sortObjects===!0&&ce.sort(Te,xe),this.info.render.frame++,tt===!0&&me.beginShadows();const pt=le.state.shadowsArray;if(Se.render(pt,De,bt),tt===!0&&me.endShadows(),this.info.autoReset===!0&&this.info.reset(),Fe.render(ce,De),le.setupLights(ue._useLegacyLights),bt.isArrayCamera){const ht=bt.cameras;for(let yt=0,It=ht.length;yt<It;yt++){const Mt=ht[yt];vn(ce,De,Mt,Mt.viewport)}}else vn(ce,De,bt);he!==null&&(_e.updateMultisampleRenderTarget(he),_e.updateRenderTargetMipmap(he)),De.isScene===!0&&De.onAfterRender(ue,De,bt),Vt.resetDefaultState(),Le=-1,Xe=null,pe.pop(),pe.length>0?le=pe[pe.length-1]:le=null,se.pop(),se.length>0?ce=se[se.length-1]:ce=null};function Ot(De,bt,pt,ht){if(De.visible===!1)return;if(De.layers.test(bt.layers)){if(De.isGroup)pt=De.renderOrder;else if(De.isLOD)De.autoUpdate===!0&&De.update(bt);else if(De.isLight)le.pushLight(De),De.castShadow&&le.pushShadow(De);else if(De.isSprite){if(!De.frustumCulled||je.intersectsSprite(De)){ht&&ut.setFromMatrixPosition(De.matrixWorld).applyMatrix4(qe);const Mt=Ue.update(De),Ut=De.material;Ut.visible&&ce.push(De,Mt,Ut,pt,ut.z,null)}}else if((De.isMesh||De.isLine||De.isPoints)&&(!De.frustumCulled||je.intersectsObject(De))){const Mt=Ue.update(De),Ut=De.material;if(ht&&(De.boundingSphere!==void 0?(De.boundingSphere===null&&De.computeBoundingSphere(),ut.copy(De.boundingSphere.center)):(Mt.boundingSphere===null&&Mt.computeBoundingSphere(),ut.copy(Mt.boundingSphere.center)),ut.applyMatrix4(De.matrixWorld).applyMatrix4(qe)),Array.isArray(Ut)){const wt=Mt.groups;for(let Ct=0,Ft=wt.length;Ct<Ft;Ct++){const Et=wt[Ct],nn=Ut[Et.materialIndex];nn&&nn.visible&&ce.push(De,Mt,nn,pt,ut.z,Et)}}else Ut.visible&&ce.push(De,Mt,Ut,pt,ut.z,null)}}const It=De.children;for(let Mt=0,Ut=It.length;Mt<Ut;Mt++)Ot(It[Mt],bt,pt,ht)}function vn(De,bt,pt,ht){const yt=De.opaque,It=De.transmissive,Mt=De.transparent;le.setupLightsView(pt),tt===!0&&me.setGlobalState(ue.clippingPlanes,pt),It.length>0&&tn(yt,It,bt,pt),ht&&Ce.viewport(We.copy(ht)),yt.length>0&&Qt(yt,bt,pt),It.length>0&&Qt(It,bt,pt),Mt.length>0&&Qt(Mt,bt,pt),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function tn(De,bt,pt,ht){if((pt.isScene===!0?pt.overrideMaterial:null)!==null)return;const It=Ie.isWebGL2;st===null&&(st=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:It?4:0})),ue.getDrawingBufferSize(ot),It?st.setSize(ot.x,ot.y):st.setSize(floorPowerOfTwo(ot.x),floorPowerOfTwo(ot.y));const Mt=ue.getRenderTarget();ue.setRenderTarget(st),ue.getClearColor(ye),re=ue.getClearAlpha(),re<1&&ue.setClearColor(16777215,.5),ue.clear();const Ut=ue.toneMapping;ue.toneMapping=NoToneMapping,Qt(De,pt,ht),_e.updateMultisampleRenderTarget(st),_e.updateRenderTargetMipmap(st);let wt=!1;for(let Ct=0,Ft=bt.length;Ct<Ft;Ct++){const Et=bt[Ct],nn=Et.object,hn=Et.geometry,At=Et.material,fn=Et.group;if(At.side===DoubleSide&&nn.layers.test(ht.layers)){const qt=At.side;At.side=BackSide,At.needsUpdate=!0,En(nn,pt,ht,hn,At,fn),At.side=qt,At.needsUpdate=!0,wt=!0}}wt===!0&&(_e.updateMultisampleRenderTarget(st),_e.updateRenderTargetMipmap(st)),ue.setRenderTarget(Mt),ue.setClearColor(ye,re),ue.toneMapping=Ut}function Qt(De,bt,pt){const ht=bt.isScene===!0?bt.overrideMaterial:null;for(let yt=0,It=De.length;yt<It;yt++){const Mt=De[yt],Ut=Mt.object,wt=Mt.geometry,Ct=ht===null?Mt.material:ht,Ft=Mt.group;Ut.layers.test(pt.layers)&&En(Ut,bt,pt,wt,Ct,Ft)}}function En(De,bt,pt,ht,yt,It){De.onBeforeRender(ue,bt,pt,ht,yt,It),De.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,De.matrixWorld),De.normalMatrix.getNormalMatrix(De.modelViewMatrix),yt.onBeforeRender(ue,bt,pt,ht,De,It),yt.transparent===!0&&yt.side===DoubleSide&&yt.forceSinglePass===!1?(yt.side=BackSide,yt.needsUpdate=!0,ue.renderBufferDirect(pt,bt,ht,yt,De,It),yt.side=FrontSide,yt.needsUpdate=!0,ue.renderBufferDirect(pt,bt,ht,yt,De,It),yt.side=DoubleSide):ue.renderBufferDirect(pt,bt,ht,yt,De,It),De.onAfterRender(ue,bt,pt,ht,yt,It)}function gn(De,bt,pt){bt.isScene!==!0&&(bt=dt);const ht=Ee.get(De),yt=le.state.lights,It=le.state.shadowsArray,Mt=yt.state.version,Ut=et.getParameters(De,yt.state,It,bt,pt),wt=et.getProgramCacheKey(Ut);let Ct=ht.programs;ht.environment=De.isMeshStandardMaterial?bt.environment:null,ht.fog=bt.fog,ht.envMap=(De.isMeshStandardMaterial?Pe:He).get(De.envMap||ht.environment),Ct===void 0&&(De.addEventListener("dispose",Qe),Ct=new Map,ht.programs=Ct);let Ft=Ct.get(wt);if(Ft!==void 0){if(ht.currentProgram===Ft&&ht.lightsStateVersion===Mt)return pn(De,Ut),Ft}else Ut.uniforms=et.getUniforms(De),De.onBuild(pt,Ut,ue),De.onBeforeCompile(Ut,ue),Ft=et.acquireProgram(Ut,wt),Ct.set(wt,Ft),ht.uniforms=Ut.uniforms;const Et=ht.uniforms;return(!De.isShaderMaterial&&!De.isRawShaderMaterial||De.clipping===!0)&&(Et.clippingPlanes=me.uniform),pn(De,Ut),ht.needsLights=di(De),ht.lightsStateVersion=Mt,ht.needsLights&&(Et.ambientLightColor.value=yt.state.ambient,Et.lightProbe.value=yt.state.probe,Et.directionalLights.value=yt.state.directional,Et.directionalLightShadows.value=yt.state.directionalShadow,Et.spotLights.value=yt.state.spot,Et.spotLightShadows.value=yt.state.spotShadow,Et.rectAreaLights.value=yt.state.rectArea,Et.ltc_1.value=yt.state.rectAreaLTC1,Et.ltc_2.value=yt.state.rectAreaLTC2,Et.pointLights.value=yt.state.point,Et.pointLightShadows.value=yt.state.pointShadow,Et.hemisphereLights.value=yt.state.hemi,Et.directionalShadowMap.value=yt.state.directionalShadowMap,Et.directionalShadowMatrix.value=yt.state.directionalShadowMatrix,Et.spotShadowMap.value=yt.state.spotShadowMap,Et.spotLightMatrix.value=yt.state.spotLightMatrix,Et.spotLightMap.value=yt.state.spotLightMap,Et.pointShadowMap.value=yt.state.pointShadowMap,Et.pointShadowMatrix.value=yt.state.pointShadowMatrix),ht.currentProgram=Ft,ht.uniformsList=null,Ft}function dn(De){if(De.uniformsList===null){const bt=De.currentProgram.getUniforms();De.uniformsList=WebGLUniforms.seqWithValue(bt.seq,De.uniforms)}return De.uniformsList}function pn(De,bt){const pt=Ee.get(De);pt.outputColorSpace=bt.outputColorSpace,pt.instancing=bt.instancing,pt.instancingColor=bt.instancingColor,pt.skinning=bt.skinning,pt.morphTargets=bt.morphTargets,pt.morphNormals=bt.morphNormals,pt.morphColors=bt.morphColors,pt.morphTargetsCount=bt.morphTargetsCount,pt.numClippingPlanes=bt.numClippingPlanes,pt.numIntersection=bt.numClipIntersection,pt.vertexAlphas=bt.vertexAlphas,pt.vertexTangents=bt.vertexTangents,pt.toneMapping=bt.toneMapping}function $t(De,bt,pt,ht,yt){bt.isScene!==!0&&(bt=dt),_e.resetTextureUnits();const It=bt.fog,Mt=ht.isMeshStandardMaterial?bt.environment:null,Ut=he===null?ue.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:LinearSRGBColorSpace,wt=(ht.isMeshStandardMaterial?Pe:He).get(ht.envMap||Mt),Ct=ht.vertexColors===!0&&!!pt.attributes.color&&pt.attributes.color.itemSize===4,Ft=!!pt.attributes.tangent&&(!!ht.normalMap||ht.anisotropy>0),Et=!!pt.morphAttributes.position,nn=!!pt.morphAttributes.normal,hn=!!pt.morphAttributes.color;let At=NoToneMapping;ht.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(At=ue.toneMapping);const fn=pt.morphAttributes.position||pt.morphAttributes.normal||pt.morphAttributes.color,qt=fn!==void 0?fn.length:0,zt=Ee.get(ht),Ln=le.state.lights;if(tt===!0&&(it===!0||De!==Xe)){const un=De===Xe&&ht.id===Le;me.setState(ht,De,un)}let Dt=!1;ht.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==Ln.state.version||zt.outputColorSpace!==Ut||yt.isInstancedMesh&&zt.instancing===!1||!yt.isInstancedMesh&&zt.instancing===!0||yt.isSkinnedMesh&&zt.skinning===!1||!yt.isSkinnedMesh&&zt.skinning===!0||yt.isInstancedMesh&&zt.instancingColor===!0&&yt.instanceColor===null||yt.isInstancedMesh&&zt.instancingColor===!1&&yt.instanceColor!==null||zt.envMap!==wt||ht.fog===!0&&zt.fog!==It||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==me.numPlanes||zt.numIntersection!==me.numIntersection)||zt.vertexAlphas!==Ct||zt.vertexTangents!==Ft||zt.morphTargets!==Et||zt.morphNormals!==nn||zt.morphColors!==hn||zt.toneMapping!==At||Ie.isWebGL2===!0&&zt.morphTargetsCount!==qt)&&(Dt=!0):(Dt=!0,zt.__version=ht.version);let Gn=zt.currentProgram;Dt===!0&&(Gn=gn(ht,bt,yt));let Xn=!1,Vn=!1,ln=!1;const cn=Gn.getUniforms(),Sn=zt.uniforms;if(Ce.useProgram(Gn.program)&&(Xn=!0,Vn=!0,ln=!0),ht.id!==Le&&(Le=ht.id,Vn=!0),Xn||Xe!==De){cn.setValue(Je,"projectionMatrix",De.projectionMatrix),cn.setValue(Je,"viewMatrix",De.matrixWorldInverse);const un=cn.map.cameraPosition;un!==void 0&&un.setValue(Je,ut.setFromMatrixPosition(De.matrixWorld)),Ie.logarithmicDepthBuffer&&cn.setValue(Je,"logDepthBufFC",2/(Math.log(De.far+1)/Math.LN2)),(ht.isMeshPhongMaterial||ht.isMeshToonMaterial||ht.isMeshLambertMaterial||ht.isMeshBasicMaterial||ht.isMeshStandardMaterial||ht.isShaderMaterial)&&cn.setValue(Je,"isOrthographic",De.isOrthographicCamera===!0),Xe!==De&&(Xe=De,Vn=!0,ln=!0)}if(yt.isSkinnedMesh){cn.setOptional(Je,yt,"bindMatrix"),cn.setOptional(Je,yt,"bindMatrixInverse");const un=yt.skeleton;un&&(Ie.floatVertexTextures?(un.boneTexture===null&&un.computeBoneTexture(),cn.setValue(Je,"boneTexture",un.boneTexture,_e),cn.setValue(Je,"boneTextureSize",un.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const An=pt.morphAttributes;if((An.position!==void 0||An.normal!==void 0||An.color!==void 0&&Ie.isWebGL2===!0)&&Ke.update(yt,pt,Gn),(Vn||zt.receiveShadow!==yt.receiveShadow)&&(zt.receiveShadow=yt.receiveShadow,cn.setValue(Je,"receiveShadow",yt.receiveShadow)),ht.isMeshGouraudMaterial&&ht.envMap!==null&&(Sn.envMap.value=wt,Sn.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),Vn&&(cn.setValue(Je,"toneMappingExposure",ue.toneMappingExposure),zt.needsLights&&wn(Sn,ln),It&&ht.fog===!0&&at.refreshFogUniforms(Sn,It),at.refreshMaterialUniforms(Sn,ht,ve,Ge,st),WebGLUniforms.upload(Je,dn(zt),Sn,_e)),ht.isShaderMaterial&&ht.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Je,dn(zt),Sn,_e),ht.uniformsNeedUpdate=!1),ht.isSpriteMaterial&&cn.setValue(Je,"center",yt.center),cn.setValue(Je,"modelViewMatrix",yt.modelViewMatrix),cn.setValue(Je,"normalMatrix",yt.normalMatrix),cn.setValue(Je,"modelMatrix",yt.matrixWorld),ht.isShaderMaterial||ht.isRawShaderMaterial){const un=ht.uniformsGroups;for(let xn=0,ui=un.length;xn<ui;xn++)if(Ie.isWebGL2){const ii=un[xn];Wt.update(ii,Gn),Wt.bind(ii,Gn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Gn}function wn(De,bt){De.ambientLightColor.needsUpdate=bt,De.lightProbe.needsUpdate=bt,De.directionalLights.needsUpdate=bt,De.directionalLightShadows.needsUpdate=bt,De.pointLights.needsUpdate=bt,De.pointLightShadows.needsUpdate=bt,De.spotLights.needsUpdate=bt,De.spotLightShadows.needsUpdate=bt,De.rectAreaLights.needsUpdate=bt,De.hemisphereLights.needsUpdate=bt}function di(De){return De.isMeshLambertMaterial||De.isMeshToonMaterial||De.isMeshPhongMaterial||De.isMeshStandardMaterial||De.isShadowMaterial||De.isShaderMaterial&&De.lights===!0}this.getActiveCubeFace=function(){return de},this.getActiveMipmapLevel=function(){return be},this.getRenderTarget=function(){return he},this.setRenderTargetTextures=function(De,bt,pt){Ee.get(De.texture).__webglTexture=bt,Ee.get(De.depthTexture).__webglTexture=pt;const ht=Ee.get(De);ht.__hasExternalTextures=!0,ht.__hasExternalTextures&&(ht.__autoAllocateDepthBuffer=pt===void 0,ht.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ht.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(De,bt){const pt=Ee.get(De);pt.__webglFramebuffer=bt,pt.__useDefaultFramebuffer=bt===void 0},this.setRenderTarget=function(De,bt=0,pt=0){he=De,de=bt,be=pt;let ht=!0,yt=null,It=!1,Mt=!1;if(De){const wt=Ee.get(De);wt.__useDefaultFramebuffer!==void 0?(Ce.bindFramebuffer(Je.FRAMEBUFFER,null),ht=!1):wt.__webglFramebuffer===void 0?_e.setupRenderTarget(De):wt.__hasExternalTextures&&_e.rebindTextures(De,Ee.get(De.texture).__webglTexture,Ee.get(De.depthTexture).__webglTexture);const Ct=De.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(Mt=!0);const Ft=Ee.get(De).__webglFramebuffer;De.isWebGLCubeRenderTarget?(Array.isArray(Ft[bt])?yt=Ft[bt][pt]:yt=Ft[bt],It=!0):Ie.isWebGL2&&De.samples>0&&_e.useMultisampledRTT(De)===!1?yt=Ee.get(De).__webglMultisampledFramebuffer:Array.isArray(Ft)?yt=Ft[pt]:yt=Ft,We.copy(De.viewport),fe.copy(De.scissor),Re=De.scissorTest}else We.copy(Ye).multiplyScalar(ve).floor(),fe.copy(ge).multiplyScalar(ve).floor(),Re=Me;if(Ce.bindFramebuffer(Je.FRAMEBUFFER,yt)&&Ie.drawBuffers&&ht&&Ce.drawBuffers(De,yt),Ce.viewport(We),Ce.scissor(fe),Ce.setScissorTest(Re),It){const wt=Ee.get(De.texture);Je.framebufferTexture2D(Je.FRAMEBUFFER,Je.COLOR_ATTACHMENT0,Je.TEXTURE_CUBE_MAP_POSITIVE_X+bt,wt.__webglTexture,pt)}else if(Mt){const wt=Ee.get(De.texture),Ct=bt||0;Je.framebufferTextureLayer(Je.FRAMEBUFFER,Je.COLOR_ATTACHMENT0,wt.__webglTexture,pt||0,Ct)}Le=-1},this.readRenderTargetPixels=function(De,bt,pt,ht,yt,It,Mt){if(!(De&&De.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ut=Ee.get(De).__webglFramebuffer;if(De.isWebGLCubeRenderTarget&&Mt!==void 0&&(Ut=Ut[Mt]),Ut){Ce.bindFramebuffer(Je.FRAMEBUFFER,Ut);try{const wt=De.texture,Ct=wt.format,Ft=wt.type;if(Ct!==RGBAFormat&&vt.convert(Ct)!==Je.getParameter(Je.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Et=Ft===HalfFloatType&&(ke.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&ke.has("EXT_color_buffer_float"));if(Ft!==UnsignedByteType&&vt.convert(Ft)!==Je.getParameter(Je.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ft===FloatType&&(Ie.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}bt>=0&&bt<=De.width-ht&&pt>=0&&pt<=De.height-yt&&Je.readPixels(bt,pt,ht,yt,vt.convert(Ct),vt.convert(Ft),It)}finally{const wt=he!==null?Ee.get(he).__webglFramebuffer:null;Ce.bindFramebuffer(Je.FRAMEBUFFER,wt)}}},this.copyFramebufferToTexture=function(De,bt,pt=0){const ht=Math.pow(2,-pt),yt=Math.floor(bt.image.width*ht),It=Math.floor(bt.image.height*ht);_e.setTexture2D(bt,0),Je.copyTexSubImage2D(Je.TEXTURE_2D,pt,0,0,De.x,De.y,yt,It),Ce.unbindTexture()},this.copyTextureToTexture=function(De,bt,pt,ht=0){const yt=bt.image.width,It=bt.image.height,Mt=vt.convert(pt.format),Ut=vt.convert(pt.type);_e.setTexture2D(pt,0),Je.pixelStorei(Je.UNPACK_FLIP_Y_WEBGL,pt.flipY),Je.pixelStorei(Je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pt.premultiplyAlpha),Je.pixelStorei(Je.UNPACK_ALIGNMENT,pt.unpackAlignment),bt.isDataTexture?Je.texSubImage2D(Je.TEXTURE_2D,ht,De.x,De.y,yt,It,Mt,Ut,bt.image.data):bt.isCompressedTexture?Je.compressedTexSubImage2D(Je.TEXTURE_2D,ht,De.x,De.y,bt.mipmaps[0].width,bt.mipmaps[0].height,Mt,bt.mipmaps[0].data):Je.texSubImage2D(Je.TEXTURE_2D,ht,De.x,De.y,Mt,Ut,bt.image),ht===0&&pt.generateMipmaps&&Je.generateMipmap(Je.TEXTURE_2D),Ce.unbindTexture()},this.copyTextureToTexture3D=function(De,bt,pt,ht,yt=0){if(ue.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const It=De.max.x-De.min.x+1,Mt=De.max.y-De.min.y+1,Ut=De.max.z-De.min.z+1,wt=vt.convert(ht.format),Ct=vt.convert(ht.type);let Ft;if(ht.isData3DTexture)_e.setTexture3D(ht,0),Ft=Je.TEXTURE_3D;else if(ht.isDataArrayTexture)_e.setTexture2DArray(ht,0),Ft=Je.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Je.pixelStorei(Je.UNPACK_FLIP_Y_WEBGL,ht.flipY),Je.pixelStorei(Je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ht.premultiplyAlpha),Je.pixelStorei(Je.UNPACK_ALIGNMENT,ht.unpackAlignment);const Et=Je.getParameter(Je.UNPACK_ROW_LENGTH),nn=Je.getParameter(Je.UNPACK_IMAGE_HEIGHT),hn=Je.getParameter(Je.UNPACK_SKIP_PIXELS),At=Je.getParameter(Je.UNPACK_SKIP_ROWS),fn=Je.getParameter(Je.UNPACK_SKIP_IMAGES),qt=pt.isCompressedTexture?pt.mipmaps[0]:pt.image;Je.pixelStorei(Je.UNPACK_ROW_LENGTH,qt.width),Je.pixelStorei(Je.UNPACK_IMAGE_HEIGHT,qt.height),Je.pixelStorei(Je.UNPACK_SKIP_PIXELS,De.min.x),Je.pixelStorei(Je.UNPACK_SKIP_ROWS,De.min.y),Je.pixelStorei(Je.UNPACK_SKIP_IMAGES,De.min.z),pt.isDataTexture||pt.isData3DTexture?Je.texSubImage3D(Ft,yt,bt.x,bt.y,bt.z,It,Mt,Ut,wt,Ct,qt.data):pt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Je.compressedTexSubImage3D(Ft,yt,bt.x,bt.y,bt.z,It,Mt,Ut,wt,qt.data)):Je.texSubImage3D(Ft,yt,bt.x,bt.y,bt.z,It,Mt,Ut,wt,Ct,qt),Je.pixelStorei(Je.UNPACK_ROW_LENGTH,Et),Je.pixelStorei(Je.UNPACK_IMAGE_HEIGHT,nn),Je.pixelStorei(Je.UNPACK_SKIP_PIXELS,hn),Je.pixelStorei(Je.UNPACK_SKIP_ROWS,At),Je.pixelStorei(Je.UNPACK_SKIP_IMAGES,fn),yt===0&&ht.generateMipmaps&&Je.generateMipmap(Ft),Ce.unbindTexture()},this.initTexture=function(De){De.isCubeTexture?_e.setTextureCube(De,0):De.isData3DTexture?_e.setTexture3D(De,0):De.isDataArrayTexture||De.isCompressedArrayTexture?_e.setTexture2DArray(De,0):_e.setTexture2D(De,0),Ce.unbindTexture()},this.resetState=function(){de=0,be=0,he=null,Ce.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(Z){this._outputColorSpace=Z;const G=this.getContext();G.drawingBufferColorSpace=Z===DisplayP3ColorSpace?"display-p3":"srgb",G.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(Z){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!Z}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set outputEncoding(Z){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=Z===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(Z){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=Z}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(Z,G){return super.copy(Z,G),Z.background!==null&&(this.background=Z.background.clone()),Z.environment!==null&&(this.environment=Z.environment.clone()),Z.fog!==null&&(this.fog=Z.fog.clone()),this.backgroundBlurriness=Z.backgroundBlurriness,this.backgroundIntensity=Z.backgroundIntensity,Z.overrideMaterial!==null&&(this.overrideMaterial=Z.overrideMaterial.clone()),this.matrixAutoUpdate=Z.matrixAutoUpdate,this}toJSON(Z){const G=super.toJSON(Z);return this.fog!==null&&(G.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(G.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(G.object.backgroundIntensity=this.backgroundIntensity),G}}class InstancedBufferAttribute extends BufferAttribute{constructor(Z,G,W,F=1){super(Z,G,W),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=F}copy(Z){return super.copy(Z),this.meshPerAttribute=Z.meshPerAttribute,this}toJSON(){const Z=super.toJSON();return Z.meshPerAttribute=this.meshPerAttribute,Z.isInstancedBufferAttribute=!0,Z}}class LineBasicMaterial extends Material{constructor(Z){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.map=Z.map,this.linewidth=Z.linewidth,this.linecap=Z.linecap,this.linejoin=Z.linejoin,this.fog=Z.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(Z=new BufferGeometry,G=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=Z,this.material=G,this.updateMorphTargets()}copy(Z,G){return super.copy(Z,G),this.material=Array.isArray(Z.material)?Z.material.slice():Z.material,this.geometry=Z.geometry,this}computeLineDistances(){const Z=this.geometry;if(Z.index===null){const G=Z.attributes.position,W=[0];for(let F=1,U=G.count;F<U;F++)_start$1.fromBufferAttribute(G,F-1),_end$1.fromBufferAttribute(G,F),W[F]=W[F-1],W[F]+=_start$1.distanceTo(_end$1);Z.setAttribute("lineDistance",new Float32BufferAttribute(W,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(Z,G){const W=this.geometry,F=this.matrixWorld,U=Z.params.Line.threshold,J=W.drawRange;if(W.boundingSphere===null&&W.computeBoundingSphere(),_sphere$1.copy(W.boundingSphere),_sphere$1.applyMatrix4(F),_sphere$1.radius+=U,Z.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(F).invert(),_ray$1.copy(Z.ray).applyMatrix4(_inverseMatrix$1);const Y=U/((this.scale.x+this.scale.y+this.scale.z)/3),D=Y*Y,Q=new Vector3,ee=new Vector3,q=new Vector3,te=new Vector3,ie=this.isLineSegments?2:1,ne=W.index,le=W.attributes.position;if(ne!==null){const se=Math.max(0,J.start),pe=Math.min(ne.count,J.start+J.count);for(let ue=se,ae=pe-1;ue<ae;ue+=ie){const de=ne.getX(ue),be=ne.getX(ue+1);if(Q.fromBufferAttribute(le,de),ee.fromBufferAttribute(le,be),_ray$1.distanceSqToSegment(Q,ee,te,q)>D)continue;te.applyMatrix4(this.matrixWorld);const Le=Z.ray.origin.distanceTo(te);Le<Z.near||Le>Z.far||G.push({distance:Le,point:q.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}else{const se=Math.max(0,J.start),pe=Math.min(le.count,J.start+J.count);for(let ue=se,ae=pe-1;ue<ae;ue+=ie){if(Q.fromBufferAttribute(le,ue),ee.fromBufferAttribute(le,ue+1),_ray$1.distanceSqToSegment(Q,ee,te,q)>D)continue;te.applyMatrix4(this.matrixWorld);const be=Z.ray.origin.distanceTo(te);be<Z.near||be>Z.far||G.push({distance:be,point:q.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const G=this.geometry.morphAttributes,W=Object.keys(G);if(W.length>0){const F=G[W[0]];if(F!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U=0,J=F.length;U<J;U++){const Y=F[U].name||String(U);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=U}}}}}const _start$2=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(Z,G){super(Z,G),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const Z=this.geometry;if(Z.index===null){const G=Z.attributes.position,W=[];for(let F=0,U=G.count;F<U;F+=2)_start$2.fromBufferAttribute(G,F),_end.fromBufferAttribute(G,F+1),W[F]=F===0?0:W[F-1],W[F+1]=W[F]+_start$2.distanceTo(_end);Z.setAttribute("lineDistance",new Float32BufferAttribute(W,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PointsMaterial extends Material{constructor(Z){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.map=Z.map,this.alphaMap=Z.alphaMap,this.size=Z.size,this.sizeAttenuation=Z.sizeAttenuation,this.fog=Z.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(Z=new BufferGeometry,G=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=Z,this.material=G,this.updateMorphTargets()}copy(Z,G){return super.copy(Z,G),this.material=Array.isArray(Z.material)?Z.material.slice():Z.material,this.geometry=Z.geometry,this}raycast(Z,G){const W=this.geometry,F=this.matrixWorld,U=Z.params.Points.threshold,J=W.drawRange;if(W.boundingSphere===null&&W.computeBoundingSphere(),_sphere.copy(W.boundingSphere),_sphere.applyMatrix4(F),_sphere.radius+=U,Z.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(F).invert(),_ray.copy(Z.ray).applyMatrix4(_inverseMatrix);const Y=U/((this.scale.x+this.scale.y+this.scale.z)/3),D=Y*Y,Q=W.index,q=W.attributes.position;if(Q!==null){const te=Math.max(0,J.start),ie=Math.min(Q.count,J.start+J.count);for(let ne=te,ce=ie;ne<ce;ne++){const le=Q.getX(ne);_position$2.fromBufferAttribute(q,le),testPoint(_position$2,le,D,F,Z,G,this)}}else{const te=Math.max(0,J.start),ie=Math.min(q.count,J.start+J.count);for(let ne=te,ce=ie;ne<ce;ne++)_position$2.fromBufferAttribute(q,ne),testPoint(_position$2,ne,D,F,Z,G,this)}}updateMorphTargets(){const G=this.geometry.morphAttributes,W=Object.keys(G);if(W.length>0){const F=G[W[0]];if(F!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U=0,J=F.length;U<J;U++){const Y=F[U].name||String(U);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=U}}}}}function testPoint(X,Z,G,W,F,U,J){const Y=_ray.distanceSqToPoint(X);if(Y<G){const D=new Vector3;_ray.closestPointToPoint(X,D),D.applyMatrix4(W);const Q=F.ray.origin.distanceTo(D);if(Q<F.near||Q>F.far)return;U.push({distance:Q,distanceToRay:Math.sqrt(Y),point:D,index:Z,face:null,object:J})}}class CylinderGeometry extends BufferGeometry{constructor(Z=1,G=1,W=1,F=32,U=1,J=!1,Y=0,D=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:Z,radiusBottom:G,height:W,radialSegments:F,heightSegments:U,openEnded:J,thetaStart:Y,thetaLength:D};const Q=this;F=Math.floor(F),U=Math.floor(U);const ee=[],q=[],te=[],ie=[];let ne=0;const ce=[],le=W/2;let se=0;pe(),J===!1&&(Z>0&&ue(!0),G>0&&ue(!1)),this.setIndex(ee),this.setAttribute("position",new Float32BufferAttribute(q,3)),this.setAttribute("normal",new Float32BufferAttribute(te,3)),this.setAttribute("uv",new Float32BufferAttribute(ie,2));function pe(){const ae=new Vector3,de=new Vector3;let be=0;const he=(G-Z)/W;for(let Le=0;Le<=U;Le++){const Xe=[],We=Le/U,fe=We*(G-Z)+Z;for(let Re=0;Re<=F;Re++){const ye=Re/F,re=ye*D+Y,Ze=Math.sin(re),Ge=Math.cos(re);de.x=fe*Ze,de.y=-We*W+le,de.z=fe*Ge,q.push(de.x,de.y,de.z),ae.set(Ze,he,Ge).normalize(),te.push(ae.x,ae.y,ae.z),ie.push(ye,1-We),Xe.push(ne++)}ce.push(Xe)}for(let Le=0;Le<F;Le++)for(let Xe=0;Xe<U;Xe++){const We=ce[Xe][Le],fe=ce[Xe+1][Le],Re=ce[Xe+1][Le+1],ye=ce[Xe][Le+1];ee.push(We,fe,ye),ee.push(fe,Re,ye),be+=6}Q.addGroup(se,be,0),se+=be}function ue(ae){const de=ne,be=new Vector2,he=new Vector3;let Le=0;const Xe=ae===!0?Z:G,We=ae===!0?1:-1;for(let Re=1;Re<=F;Re++)q.push(0,le*We,0),te.push(0,We,0),ie.push(.5,.5),ne++;const fe=ne;for(let Re=0;Re<=F;Re++){const re=Re/F*D+Y,Ze=Math.cos(re),Ge=Math.sin(re);he.x=Xe*Ge,he.y=le*We,he.z=Xe*Ze,q.push(he.x,he.y,he.z),te.push(0,We,0),be.x=Ze*.5+.5,be.y=Ge*.5*We+.5,ie.push(be.x,be.y),ne++}for(let Re=0;Re<F;Re++){const ye=de+Re,re=fe+Re;ae===!0?ee.push(re,re+1,ye):ee.push(re+1,re,ye),Le+=3}Q.addGroup(se,Le,ae===!0?1:2),se+=Le}}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new CylinderGeometry(Z.radiusTop,Z.radiusBottom,Z.height,Z.radialSegments,Z.heightSegments,Z.openEnded,Z.thetaStart,Z.thetaLength)}}class TorusKnotGeometry extends BufferGeometry{constructor(Z=1,G=.4,W=64,F=8,U=2,J=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:Z,tube:G,tubularSegments:W,radialSegments:F,p:U,q:J},W=Math.floor(W),F=Math.floor(F);const Y=[],D=[],Q=[],ee=[],q=new Vector3,te=new Vector3,ie=new Vector3,ne=new Vector3,ce=new Vector3,le=new Vector3,se=new Vector3;for(let ue=0;ue<=W;++ue){const ae=ue/W*U*Math.PI*2;pe(ae,U,J,Z,ie),pe(ae+.01,U,J,Z,ne),le.subVectors(ne,ie),se.addVectors(ne,ie),ce.crossVectors(le,se),se.crossVectors(ce,le),ce.normalize(),se.normalize();for(let de=0;de<=F;++de){const be=de/F*Math.PI*2,he=-G*Math.cos(be),Le=G*Math.sin(be);q.x=ie.x+(he*se.x+Le*ce.x),q.y=ie.y+(he*se.y+Le*ce.y),q.z=ie.z+(he*se.z+Le*ce.z),D.push(q.x,q.y,q.z),te.subVectors(q,ie).normalize(),Q.push(te.x,te.y,te.z),ee.push(ue/W),ee.push(de/F)}}for(let ue=1;ue<=W;ue++)for(let ae=1;ae<=F;ae++){const de=(F+1)*(ue-1)+(ae-1),be=(F+1)*ue+(ae-1),he=(F+1)*ue+ae,Le=(F+1)*(ue-1)+ae;Y.push(de,be,Le),Y.push(be,he,Le)}this.setIndex(Y),this.setAttribute("position",new Float32BufferAttribute(D,3)),this.setAttribute("normal",new Float32BufferAttribute(Q,3)),this.setAttribute("uv",new Float32BufferAttribute(ee,2));function pe(ue,ae,de,be,he){const Le=Math.cos(ue),Xe=Math.sin(ue),We=de/ae*ue,fe=Math.cos(We);he.x=be*(2+fe)*.5*Le,he.y=be*(2+fe)*Xe*.5,he.z=be*Math.sin(We)*.5}}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new TorusKnotGeometry(Z.radius,Z.tube,Z.tubularSegments,Z.radialSegments,Z.p,Z.q)}}class RawShaderMaterial extends ShaderMaterial{constructor(Z){super(Z),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshPhongMaterial extends Material{constructor(Z){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.specular.copy(Z.specular),this.shininess=Z.shininess,this.map=Z.map,this.lightMap=Z.lightMap,this.lightMapIntensity=Z.lightMapIntensity,this.aoMap=Z.aoMap,this.aoMapIntensity=Z.aoMapIntensity,this.emissive.copy(Z.emissive),this.emissiveMap=Z.emissiveMap,this.emissiveIntensity=Z.emissiveIntensity,this.bumpMap=Z.bumpMap,this.bumpScale=Z.bumpScale,this.normalMap=Z.normalMap,this.normalMapType=Z.normalMapType,this.normalScale.copy(Z.normalScale),this.displacementMap=Z.displacementMap,this.displacementScale=Z.displacementScale,this.displacementBias=Z.displacementBias,this.specularMap=Z.specularMap,this.alphaMap=Z.alphaMap,this.envMap=Z.envMap,this.combine=Z.combine,this.reflectivity=Z.reflectivity,this.refractionRatio=Z.refractionRatio,this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this.wireframeLinecap=Z.wireframeLinecap,this.wireframeLinejoin=Z.wireframeLinejoin,this.flatShading=Z.flatShading,this.fog=Z.fog,this}}const Cache={enabled:!1,files:{},add:function(X,Z){this.enabled!==!1&&(this.files[X]=Z)},get:function(X){if(this.enabled!==!1)return this.files[X]},remove:function(X){delete this.files[X]},clear:function(){this.files={}}};class LoadingManager{constructor(Z,G,W){const F=this;let U=!1,J=0,Y=0,D;const Q=[];this.onStart=void 0,this.onLoad=Z,this.onProgress=G,this.onError=W,this.itemStart=function(ee){Y++,U===!1&&F.onStart!==void 0&&F.onStart(ee,J,Y),U=!0},this.itemEnd=function(ee){J++,F.onProgress!==void 0&&F.onProgress(ee,J,Y),J===Y&&(U=!1,F.onLoad!==void 0&&F.onLoad())},this.itemError=function(ee){F.onError!==void 0&&F.onError(ee)},this.resolveURL=function(ee){return D?D(ee):ee},this.setURLModifier=function(ee){return D=ee,this},this.addHandler=function(ee,q){return Q.push(ee,q),this},this.removeHandler=function(ee){const q=Q.indexOf(ee);return q!==-1&&Q.splice(q,2),this},this.getHandler=function(ee){for(let q=0,te=Q.length;q<te;q+=2){const ie=Q[q],ne=Q[q+1];if(ie.global&&(ie.lastIndex=0),ie.test(ee))return ne}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(Z){this.manager=Z!==void 0?Z:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(Z,G){const W=this;return new Promise(function(F,U){W.load(Z,F,G,U)})}parse(){}setCrossOrigin(Z){return this.crossOrigin=Z,this}setWithCredentials(Z){return this.withCredentials=Z,this}setPath(Z){return this.path=Z,this}setResourcePath(Z){return this.resourcePath=Z,this}setRequestHeader(Z){return this.requestHeader=Z,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(Z,G){super(Z),this.response=G}}class FileLoader extends Loader{constructor(Z){super(Z)}load(Z,G,W,F){Z===void 0&&(Z=""),this.path!==void 0&&(Z=this.path+Z),Z=this.manager.resolveURL(Z);const U=Cache.get(Z);if(U!==void 0)return this.manager.itemStart(Z),setTimeout(()=>{G&&G(U),this.manager.itemEnd(Z)},0),U;if(loading[Z]!==void 0){loading[Z].push({onLoad:G,onProgress:W,onError:F});return}loading[Z]=[],loading[Z].push({onLoad:G,onProgress:W,onError:F});const J=new Request(Z,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),Y=this.mimeType,D=this.responseType;fetch(J).then(Q=>{if(Q.status===200||Q.status===0){if(Q.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Q.body===void 0||Q.body.getReader===void 0)return Q;const ee=loading[Z],q=Q.body.getReader(),te=Q.headers.get("Content-Length")||Q.headers.get("X-File-Size"),ie=te?parseInt(te):0,ne=ie!==0;let ce=0;const le=new ReadableStream({start(se){pe();function pe(){q.read().then(({done:ue,value:ae})=>{if(ue)se.close();else{ce+=ae.byteLength;const de=new ProgressEvent("progress",{lengthComputable:ne,loaded:ce,total:ie});for(let be=0,he=ee.length;be<he;be++){const Le=ee[be];Le.onProgress&&Le.onProgress(de)}se.enqueue(ae),pe()}})}}});return new Response(le)}else throw new HttpError(`fetch for "${Q.url}" responded with ${Q.status}: ${Q.statusText}`,Q)}).then(Q=>{switch(D){case"arraybuffer":return Q.arrayBuffer();case"blob":return Q.blob();case"document":return Q.text().then(ee=>new DOMParser().parseFromString(ee,Y));case"json":return Q.json();default:if(Y===void 0)return Q.text();{const q=/charset="?([^;"\s]*)"?/i.exec(Y),te=q&&q[1]?q[1].toLowerCase():void 0,ie=new TextDecoder(te);return Q.arrayBuffer().then(ne=>ie.decode(ne))}}}).then(Q=>{Cache.add(Z,Q);const ee=loading[Z];delete loading[Z];for(let q=0,te=ee.length;q<te;q++){const ie=ee[q];ie.onLoad&&ie.onLoad(Q)}}).catch(Q=>{const ee=loading[Z];if(ee===void 0)throw this.manager.itemError(Z),Q;delete loading[Z];for(let q=0,te=ee.length;q<te;q++){const ie=ee[q];ie.onError&&ie.onError(Q)}this.manager.itemError(Z)}).finally(()=>{this.manager.itemEnd(Z)}),this.manager.itemStart(Z)}setResponseType(Z){return this.responseType=Z,this}setMimeType(Z){return this.mimeType=Z,this}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(Z){return super.copy(Z),this.instanceCount=Z.instanceCount,this}toJSON(){const Z=super.toJSON();return Z.instanceCount=this.instanceCount,Z.isInstancedBufferGeometry=!0,Z}}class Uniform{constructor(Z){this.value=Z}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(Z){return this.uniforms.push(Z),this}remove(Z){const G=this.uniforms.indexOf(Z);return G!==-1&&this.uniforms.splice(G,1),this}setName(Z){return this.name=Z,this}setUsage(Z){return this.usage=Z,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(Z){this.name=Z.name,this.usage=Z.usage;const G=Z.uniforms;this.uniforms.length=0;for(let W=0,F=G.length;W<F;W++)this.uniforms.push(G[W].clone());return this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const getCamerasUniforms=moize.infinite(X=>({globalPerspective:new Uniform(new Matrix4),globalView:new Uniform(new Matrix4),zoomedProjection:new Uniform(new Matrix4),zoomedView:new Uniform(new Matrix4),fixedPerspective:new Uniform(new Matrix4),fixedView:new Uniform(new Matrix4),distance:new Uniform(0),center:new Uniform(new Vector3(0,0,0)),rotationCenter:new Uniform(new Vector3(0,0,0))})),getCamerasUniformsGroup=moize.infinite(X=>{const Z=new UniformsGroup;Z.setName("cameras");const G=getCamerasUniforms(X);return Object.values(G).forEach(W=>{Z.add(W)}),Z}),cameraUniformsGroupUpdater=X=>moize(proxy((Z,G,W,F,U,J,Y)=>{const D=getCamerasUniforms(X);D.globalPerspective.value.fromArray(Z),D.globalView.value.fromArray(G),D.zoomedProjection.value.fromArray(W),D.zoomedView.value.fromArray(F),D.fixedPerspective.value.fromArray(U),D.fixedView.value.fromArray(J),D.distance.value=Y[0],D.center.value.fromArray(Y.slice(1,4)),D.rotationCenter.value.fromArray(Y.slice(4,7))}));var mouse$1={};function mouseButtons(X){if(typeof X=="object"){if("buttons"in X)return X.buttons;if("which"in X){var Z=X.which;if(Z===2)return 4;if(Z===3)return 2;if(Z>0)return 1<<Z-1}else if("button"in X){var Z=X.button;if(Z===1)return 4;if(Z===2)return 2;if(Z>=0)return 1<<Z}}return 0}mouse$1.buttons=mouseButtons;function mouseElement(X){return X.target||X.srcElement||window}mouse$1.element=mouseElement;function mouseRelativeX(X){if(typeof X=="object"){if("offsetX"in X)return X.offsetX;var Z=mouseElement(X),G=Z.getBoundingClientRect();return X.clientX-G.left}return 0}mouse$1.x=mouseRelativeX;function mouseRelativeY(X){if(typeof X=="object"){if("offsetY"in X)return X.offsetY;var Z=mouseElement(X),G=Z.getBoundingClientRect();return X.clientY-G.top}return 0}mouse$1.y=mouseRelativeY;var mouseListen_1=mouseListen,mouse=mouse$1;function mouseListen(X,Z){Z||(Z=X,X=window);var G=0,W=0,F=0,U={shift:!1,alt:!1,control:!1,meta:!1},J=!1;function Y(pe){var ue=!1;return"altKey"in pe&&(ue=ue||pe.altKey!==U.alt,U.alt=!!pe.altKey),"shiftKey"in pe&&(ue=ue||pe.shiftKey!==U.shift,U.shift=!!pe.shiftKey),"ctrlKey"in pe&&(ue=ue||pe.ctrlKey!==U.control,U.control=!!pe.ctrlKey),"metaKey"in pe&&(ue=ue||pe.metaKey!==U.meta,U.meta=!!pe.metaKey),ue}function D(pe,ue){var ae=mouse.x(ue),de=mouse.y(ue);"buttons"in ue&&(pe=ue.buttons|0),(pe!==G||ae!==W||de!==F||Y(ue))&&(G=pe|0,W=ae||0,F=de||0,Z&&Z(G,W,F,U))}function Q(pe){D(0,pe)}function ee(){(G||W||F||U.shift||U.alt||U.meta||U.control)&&(W=F=0,G=0,U.shift=U.alt=U.control=U.meta=!1,Z&&Z(0,0,0,U))}function q(pe){Y(pe)&&Z&&Z(G,W,F,U)}function te(pe){mouse.buttons(pe)===0?D(0,pe):D(G,pe)}function ie(pe){D(G|mouse.buttons(pe),pe)}function ne(pe){D(G&~mouse.buttons(pe),pe)}function ce(){J||(J=!0,X.addEventListener("mousemove",te),X.addEventListener("mousedown",ie),X.addEventListener("mouseup",ne),X.addEventListener("mouseleave",Q),X.addEventListener("mouseenter",Q),X.addEventListener("mouseout",Q),X.addEventListener("mouseover",Q),X.addEventListener("blur",ee),X.addEventListener("keyup",q),X.addEventListener("keydown",q),X.addEventListener("keypress",q),X!==window&&(window.addEventListener("blur",ee),window.addEventListener("keyup",q),window.addEventListener("keydown",q),window.addEventListener("keypress",q)))}function le(){J&&(J=!1,X.removeEventListener("mousemove",te),X.removeEventListener("mousedown",ie),X.removeEventListener("mouseup",ne),X.removeEventListener("mouseleave",Q),X.removeEventListener("mouseenter",Q),X.removeEventListener("mouseout",Q),X.removeEventListener("mouseover",Q),X.removeEventListener("blur",ee),X.removeEventListener("keyup",q),X.removeEventListener("keydown",q),X.removeEventListener("keypress",q),X!==window&&(window.removeEventListener("blur",ee),window.removeEventListener("keyup",q),window.removeEventListener("keydown",q),window.removeEventListener("keypress",q)))}ce();var se={element:X};return Object.defineProperties(se,{enabled:{get:function(){return J},set:function(pe){pe?ce():le()},enumerable:!0},buttons:{get:function(){return G},enumerable:!0},x:{get:function(){return W},enumerable:!0},y:{get:function(){return F},enumerable:!0},mods:{get:function(){return U},enumerable:!0}}),se}var rootPosition={left:0,top:0},mouseEventOffset_1=mouseEventOffset;function mouseEventOffset(X,Z,G){Z=Z||X.currentTarget||X.srcElement,Array.isArray(G)||(G=[0,0]);var W=X.clientX||0,F=X.clientY||0,U=getBoundingClientOffset(Z);return G[0]=W-U.left,G[1]=F-U.top,G}function getBoundingClientOffset(X){return X===window||X===document||X===document.body?rootPosition:X.getBoundingClientRect()}var eventEmitterExports={},eventEmitter$1={get exports(){return eventEmitterExports},set exports(X){eventEmitterExports=X}},dExports={},d$4={get exports(){return dExports},set exports(X){dExports=X}},_undefined$1=void 0,is$4=function(X){return X!==_undefined$1&&X!==null},isValue$3=is$4,possibleTypes={object:!0,function:!0,undefined:!0},is$3=function(X){return isValue$3(X)?hasOwnProperty.call(possibleTypes,typeof X):!1},isObject$2=is$3,is$2=function(X){if(!isObject$2(X))return!1;try{return X.constructor?X.constructor.prototype===X:!1}catch{return!1}},isPrototype=is$2,is$1=function(X){if(typeof X!="function"||!hasOwnProperty.call(X,"length"))return!1;try{if(typeof X.length!="number"||typeof X.call!="function"||typeof X.apply!="function")return!1}catch{return!1}return!isPrototype(X)},isFunction$2=is$1,classRe=/^\s*class[\s{/}]/,functionToString=Function.prototype.toString,is=function(X){return!(!isFunction$2(X)||classRe.test(functionToString.call(X)))},isImplemented$2=function(){var X=Object.assign,Z;return typeof X!="function"?!1:(Z={foo:"raz"},X(Z,{bar:"dwa"},{trzy:"trzy"}),Z.foo+Z.bar+Z.trzy==="razdwatrzy")},isImplemented$1,hasRequiredIsImplemented;function requireIsImplemented(){return hasRequiredIsImplemented||(hasRequiredIsImplemented=1,isImplemented$1=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),isImplemented$1}var noop$5=function(){},_undefined=noop$5(),isValue$2=function(X){return X!==_undefined&&X!==null},shim$2,hasRequiredShim$2;function requireShim$2(){if(hasRequiredShim$2)return shim$2;hasRequiredShim$2=1;var X=isValue$2,Z=Object.keys;return shim$2=function(G){return Z(X(G)?Object(G):G)},shim$2}var keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=requireIsImplemented()()?Object.keys:requireShim$2()),keys}var validValue,hasRequiredValidValue;function requireValidValue(){if(hasRequiredValidValue)return validValue;hasRequiredValidValue=1;var X=isValue$2;return validValue=function(Z){if(!X(Z))throw new TypeError("Cannot use null or undefined");return Z},validValue}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var X=requireKeys(),Z=requireValidValue(),G=Math.max;return shim$1=function(W,F){var U,J,Y=G(arguments.length,2),D;for(W=Object(Z(W)),D=function(Q){try{W[Q]=F[Q]}catch(ee){U||(U=ee)}},J=1;J<Y;++J)F=arguments[J],X(F).forEach(D);if(U!==void 0)throw U;return W},shim$1}var assign$1=isImplemented$2()?Object.assign:requireShim$1(),isValue$1=isValue$2,forEach=Array.prototype.forEach,create$2=Object.create,process$1=function(X,Z){var G;for(G in X)Z[G]=X[G]},normalizeOptions=function(X){var Z=create$2(null);return forEach.call(arguments,function(G){isValue$1(G)&&process$1(Object(G),Z)}),Z},str="razdwatrzy",isImplemented=function(){return typeof str.contains!="function"?!1:str.contains("dwa")===!0&&str.contains("foo")===!1},shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var X=String.prototype.indexOf;return shim=function(Z){return X.call(this,Z,arguments[1])>-1},shim}var contains$1=isImplemented()?String.prototype.contains:requireShim(),isValue=is$4,isPlainFunction=is,assign=assign$1,normalizeOpts=normalizeOptions,contains=contains$1,d$3=d$4.exports=function(X,Z){var G,W,F,U,J;return arguments.length<2||typeof X!="string"?(U=Z,Z=X,X=null):U=arguments[2],isValue(X)?(G=contains.call(X,"c"),W=contains.call(X,"e"),F=contains.call(X,"w")):(G=F=!0,W=!1),J={value:Z,configurable:G,enumerable:W,writable:F},U?assign(normalizeOpts(U),J):J};d$3.gs=function(X,Z,G){var W,F,U,J;return typeof X!="string"?(U=G,G=Z,Z=X,X=null):U=arguments[3],isValue(Z)?isPlainFunction(Z)?isValue(G)?isPlainFunction(G)||(U=G,G=void 0):G=void 0:(U=Z,Z=G=void 0):Z=void 0,isValue(X)?(W=contains.call(X,"c"),F=contains.call(X,"e")):(W=!0,F=!1),J={get:Z,set:G,configurable:W,enumerable:F},U?assign(normalizeOpts(U),J):J};var validCallable=function(X){if(typeof X!="function")throw new TypeError(X+" is not a function");return X};(function(X,Z){var G=dExports,W=validCallable,F=Function.prototype.apply,U=Function.prototype.call,J=Object.create,Y=Object.defineProperty,D=Object.defineProperties,Q=Object.prototype.hasOwnProperty,ee={configurable:!0,enumerable:!1,writable:!0},q,te,ie,ne,ce,le,se;q=function(pe,ue){var ae;return W(ue),Q.call(this,"__ee__")?ae=this.__ee__:(ae=ee.value=J(null),Y(this,"__ee__",ee),ee.value=null),ae[pe]?typeof ae[pe]=="object"?ae[pe].push(ue):ae[pe]=[ae[pe],ue]:ae[pe]=ue,this},te=function(pe,ue){var ae,de;return W(ue),de=this,q.call(this,pe,ae=function(){ie.call(de,pe,ae),F.call(ue,this,arguments)}),ae.__eeOnceListener__=ue,this},ie=function(pe,ue){var ae,de,be,he;if(W(ue),!Q.call(this,"__ee__"))return this;if(ae=this.__ee__,!ae[pe])return this;if(de=ae[pe],typeof de=="object")for(he=0;be=de[he];++he)(be===ue||be.__eeOnceListener__===ue)&&(de.length===2?ae[pe]=de[he?0:1]:de.splice(he,1));else(de===ue||de.__eeOnceListener__===ue)&&delete ae[pe];return this},ne=function(pe){var ue,ae,de,be,he;if(Q.call(this,"__ee__")&&(be=this.__ee__[pe],!!be))if(typeof be=="object"){for(ae=arguments.length,he=new Array(ae-1),ue=1;ue<ae;++ue)he[ue-1]=arguments[ue];for(be=be.slice(),ue=0;de=be[ue];++ue)F.call(de,this,he)}else switch(arguments.length){case 1:U.call(be,this);break;case 2:U.call(be,this,arguments[1]);break;case 3:U.call(be,this,arguments[1],arguments[2]);break;default:for(ae=arguments.length,he=new Array(ae-1),ue=1;ue<ae;++ue)he[ue-1]=arguments[ue];F.call(be,this,he)}},ce={on:q,once:te,off:ie,emit:ne},le={on:G(q),once:G(te),off:G(ie),emit:G(ne)},se=D({},le),X.exports=Z=function(pe){return pe==null?J(se):D(Object(pe),le)},Z.methods=ce})(eventEmitter$1,eventEmitterExports);var normalizedInteractionEvents_1=normalizedInteractionEvents,mouseChange=mouseListen_1,eventOffset=mouseEventOffset_1,eventEmitter=eventEmitterExports;function normalizedInteractionEvents(X){X=X||window;var Z=eventEmitter(),G=[null,null],W=[null,null],F=[null,null],U=[null,null],J=0,Y={},D,Q,ee=X===window?function(){D=window.innerWidth,Q=window.innerHeight}:function(){D=X.clientWidth,Q=X.clientHeight},q=0,te,ie,ne={},ce=mouseChange(X,function(re,Ze,Ge,ve){te=Ze,ie=Ge,q=re,ne=ve});function le(re){eventOffset(re,X,F),ee(),Y.buttons=q,Y.mods=ne,Y.x0=Y.x=Y.x1=2*F[0]/D-1,Y.y0=Y.y=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.dx=2*re.deltaX/D,Y.dy=-2*re.deltaY/Q,Y.dz=2*re.deltaZ/D,Y.active=1,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("wheel",Y),G[0]=F[0],G[1]=F[1]}var se=null,pe=null,ue=0;function ae(re){eventOffset(re,X,F),ue=0,ee(),Y.buttons=q,Y.mods=ne,Y.x=Y.x1=2*F[0]/D-1,Y.y=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.active=ue,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("mouseup",Y),se=pe=null,G[0]=F[0],G[1]=F[1]}function de(re){eventOffset(re,X,F),ue=1,ee(),se=te,pe=ie,Y.buttons=q,Y.mods=ne,Y.x=Y.x0=Y.x1=2*F[0]/D-1,Y.y=Y.y0=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.active=ue,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("mousedown",Y),G[0]=F[0],G[1]=F[1]}function be(re){eventOffset(re,X,F),ee(),Y.buttons=q,Y.mods=ne,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.x=Y.x1=2*F[0]/D-1,Y.y=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.dx=2*(F[0]-G[0])/D,Y.dy=-2*(F[1]-G[1])/Q,Y.active=ue,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("mousemove",Y),G[0]=F[0],G[1]=F[1]}function he(re){for(var Ze=re.identifier,Ge=0;Ge<U.length;Ge++)if(U[Ge]&&U[Ge].touch&&U[Ge].touch.identifier===Ze)return Ge;return-1}function Le(re){W[0]=null,W[1]=null;for(var Ze=0;Ze<re.changedTouches.length;Ze++){var Ge=re.changedTouches[Ze],ve=Ge.identifier,Te=he(ve);if(Te===-1&&J<2){var xe=U[0]?1:0,Ye=U[0]?0:1,ge={position:[0,0],touch:null};U[xe]=ge,J++,ge.touch=Ge,eventOffset(Ge,X,ge.position),U[Ye]&&U[Ye].touch}}for(var Me=0,je=0,tt=0,Ze=0;Ze<U.length;Ze++)U[Ze]&&(Me+=U[Ze].position[0],je+=U[Ze].position[1],tt++);if(Me/=tt,je/=tt,J>0){if(Y.theta=0,tt>1){var it=U[1].position[0]-U[0].position[0],st=(U[0].position[1]-U[1].position[1])*D/Q;Y.theta=Math.atan2(st,it)}ee(),Y.buttons=0,Y.mods={},Y.active=J,se=Me,pe=je,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.x=2*Me/D-1,Y.y=1-2*je/Q,Y.x1=2*U[0].position[0]/D-1,Y.y1=1-2*U[0].position[1]/Q,J>1&&(Y.x2=2*U[1].position[0]/D-1,Y.y2=1-2*U[1].position[1]/Q),Y.active=J,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.dtheta=0,Y.originalEvent=re,Z.emit(J===1?"touchstart":"pinchstart",Y)}}function Xe(re){for(var Ze,Ge=!1,ve=0;ve<re.changedTouches.length;ve++){var Te=re.changedTouches[ve];Ze=he(Te),Ze!==-1&&(Ge=!0,U[Ze].touch=Te,eventOffset(Te,X,U[Ze].position))}if(Ge){if(J===1){for(Ze=0;Ze<U.length&&!U[Ze];Ze++);if(U[Ze]&&W[Ze]){var xe=U[Ze].position[0],Ye=U[Ze].position[1],ge=xe-W[Ze][0],Me=Ye-W[Ze][1];Y.buttons=0,Y.mods={},Y.active=J,Y.x=Y.x1=2*xe/D-1,Y.y=Y.y1=1-2*Ye/Q,Y.x2=null,Y.y2=null,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.dx=2*ge/D,Y.dy=-2*Me/Q,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("touchmove",Y)}}else if(J===2&&W[0]&&W[1]){var je=W[0],tt=W[1],it=tt[0]-je[0],st=(tt[1]-je[1])*D/Q,qe=U[0].position,ot=U[1].position,ut=ot[0]-qe[0],dt=(qe[1]-ot[1])*D/Q,mt=Math.sqrt(it*it+st*st)*.5,Je=Math.atan2(st,it),Ne=Math.sqrt(ut*ut+dt*dt)*.5,ke=Math.atan2(dt,ut),Ie=(tt[0]+je[0])*.5,Ce=(tt[1]+je[1])*.5,ge=.5*(ot[0]+qe[0]-je[0]-tt[0]),Me=.5*(ot[1]+qe[1]-je[1]-tt[1]),ze=Ne/mt,Ee=ke-Je;Y.buttons=0,Y.mods=ne,Y.active=J,Y.x=2*Ie/D-1,Y.y=1-2*Ce/Q,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.x1=2*qe[0]/D-1,Y.y1=1-2*qe[1]/Q,Y.x2=2*ot[0]/D-1,Y.y2=1-2*ot[1]/Q,Y.dx=2*ge/D,Y.dy=-2*Me/Q,Y.dz=0,Y.zoomx=ze,Y.zoomy=ze,Y.theta=ke,Y.dtheta=Ee,Y.originalEvent=re,Z.emit("pinchmove",Y)}}U[0]&&(W[0]=U[0].position.slice()),U[1]&&(W[1]=U[1].position.slice())}function We(re){for(var Ze,Ge=0;Ge<re.changedTouches.length;Ge++){var ve=re.changedTouches[Ge],Te=he(ve);if(Te!==-1){Ze=U[Te],U[Te]=null,J--;var xe=Te===0?1:0;U[xe]&&U[xe].touch}}var Ye=0,ge=0;if(J===0)Ze&&(Ye=Ze.position[0],ge=Ze.position[1]);else{for(var Me=0,Ge=0;Ge<U.length;Ge++)U[Ge]&&(Ye+=U[Ge].position[0],ge+=U[Ge].position[1],Me++);Ye/=Me,ge/=Me}J<2&&(Y.buttons=0,Y.mods=ne,Y.active=J,Y.x=2*Ye/D-1,Y.y=1-2*ge/Q,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit(J===0?"touchend":"pinchend",Y)),J===0&&(se=pe=null)}var fe=!1;function Re(){fe||(fe=!0,ce.enabled=!0,X.addEventListener("wheel",le,!1),X.addEventListener("mousedown",de,!1),window.addEventListener("mousemove",be,!1),window.addEventListener("mouseup",ae,!1),X.addEventListener("touchstart",Le,!1),window.addEventListener("touchmove",Xe,!1),window.addEventListener("touchend",We,!1),window.addEventListener("touchcancel",We,!1))}function ye(){fe&&(fe=!1,ce.enabled=!1,X.removeEventListener("wheel",le,!1),X.removeEventListener("mousedown",de,!1),window.removeEventListener("mousemove",be,!1),window.removeEventListener("mouseup",ae,!1),X.removeEventListener("touchstart",Le,!1),window.removeEventListener("touchmove",Xe,!1),window.removeEventListener("touchend",We,!1),window.removeEventListener("touchcancel",We,!1))}return Re(),Z.enable=Re,Z.disable=ye,Z}const encodedJs="ZnVuY3Rpb24gX21lcmdlTmFtZXNwYWNlcyh0LGUpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24obil7biYmdHlwZW9mIG4hPSJzdHJpbmciJiYhQXJyYXkuaXNBcnJheShuKSYmT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihvKXtpZihvIT09ImRlZmF1bHQiJiYhKG8gaW4gdCkpe3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixvKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLGQuZ2V0P2Q6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5bb119fSl9fSl9KSxPYmplY3QuZnJlZXplKHQpfXZhciBjb21tb25qc0dsb2JhbD10eXBlb2YgZ2xvYmFsVGhpczwidSI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93PCJ1Ij93aW5kb3c6dHlwZW9mIGdsb2JhbDwidSI/Z2xvYmFsOnR5cGVvZiBzZWxmPCJ1Ij9zZWxmOnt9O2Z1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJkZWZhdWx0Iik/dC5kZWZhdWx0OnR9dmFyIGFic3RyYWN0TGV2ZWwkMT17fSxhYnN0cmFjdExldmVsPXt9LGxldmVsU3VwcG9ydHM9e307bGV2ZWxTdXBwb3J0cy5zdXBwb3J0cz1mdW5jdGlvbiguLi5lKXtjb25zdCBuPWUucmVkdWNlKChvLGQpPT5PYmplY3QuYXNzaWduKG8sZCkse30pO3JldHVybiBPYmplY3QuYXNzaWduKG4se3NuYXBzaG90czpuLnNuYXBzaG90c3x8ITEscGVybWFuZW5jZTpuLnBlcm1hbmVuY2V8fCExLHNlZWs6bi5zZWVrfHwhMSxjbGVhcjpuLmNsZWFyfHwhMSxnZXRNYW55Om4uZ2V0TWFueXx8ITEsa2V5SXRlcmF0b3I6bi5rZXlJdGVyYXRvcnx8ITEsdmFsdWVJdGVyYXRvcjpuLnZhbHVlSXRlcmF0b3J8fCExLGl0ZXJhdG9yTmV4dHY6bi5pdGVyYXRvck5leHR2fHwhMSxpdGVyYXRvckFsbDpuLml0ZXJhdG9yQWxsfHwhMSxzdGF0dXM6bi5zdGF0dXN8fCExLGNyZWF0ZUlmTWlzc2luZzpuLmNyZWF0ZUlmTWlzc2luZ3x8ITEsZXJyb3JJZkV4aXN0czpuLmVycm9ySWZFeGlzdHN8fCExLGRlZmVycmVkT3BlbjpuLmRlZmVycmVkT3Blbnx8ITEscHJvbWlzZXM6bi5wcm9taXNlc3x8ITEsc3RyZWFtczpuLnN0cmVhbXN8fCExLGVuY29kaW5nczpPYmplY3QuYXNzaWduKHt9LG4uZW5jb2RpbmdzKSxldmVudHM6T2JqZWN0LmFzc2lnbih7fSxuLmV2ZW50cyksYWRkaXRpb25hbE1ldGhvZHM6T2JqZWN0LmFzc2lnbih7fSxuLmFkZGl0aW9uYWxNZXRob2RzKX0pfTt2YXIgbGV2ZWxUcmFuc2NvZGVyPXt9LG1vZHVsZUVycm9yPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlfHwiIiksdHlwZW9mIG49PSJvYmplY3QiJiZuIT09bnVsbCYmKG4uY29kZSYmKHRoaXMuY29kZT1TdHJpbmcobi5jb2RlKSksbi5leHBlY3RlZCYmKHRoaXMuZXhwZWN0ZWQ9ITApLG4udHJhbnNpZW50JiYodGhpcy50cmFuc2llbnQ9ITApLG4uY2F1c2UmJih0aGlzLmNhdXNlPW4uY2F1c2UpKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKX19LGVuY29kaW5ncyQxPXt9LGJ1ZmZlciQxPXt9LGJhc2U2NEpzPXt9O2Jhc2U2NEpzLmJ5dGVMZW5ndGg9Ynl0ZUxlbmd0aDtiYXNlNjRKcy50b0J5dGVBcnJheT10b0J5dGVBcnJheTtiYXNlNjRKcy5mcm9tQnl0ZUFycmF5PWZyb21CeXRlQXJyYXk7dmFyIGxvb2t1cCQxPVtdLHJldkxvb2t1cD1bXSxBcnI9dHlwZW9mIFVpbnQ4QXJyYXk8InUiP1VpbnQ4QXJyYXk6QXJyYXksY29kZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7Zm9yKHZhciBpJDE9MCxsZW49Y29kZS5sZW5ndGg7aSQxPGxlbjsrK2kkMSlsb29rdXAkMVtpJDFdPWNvZGVbaSQxXSxyZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkkMSldPWkkMTtyZXZMb29rdXBbIi0iLmNoYXJDb2RlQXQoMCldPTYyO3Jldkxvb2t1cFsiXyIuY2hhckNvZGVBdCgwKV09NjM7ZnVuY3Rpb24gZ2V0TGVucyh0KXt2YXIgZT10Lmxlbmd0aDtpZihlJTQ+MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQiKTt2YXIgbj10LmluZGV4T2YoIj0iKTtuPT09LTEmJihuPWUpO3ZhciBvPW49PT1lPzA6NC1uJTQ7cmV0dXJuW24sb119ZnVuY3Rpb24gYnl0ZUxlbmd0aCh0KXt2YXIgZT1nZXRMZW5zKHQpLG49ZVswXSxvPWVbMV07cmV0dXJuKG4rbykqMy80LW99ZnVuY3Rpb24gX2J5dGVMZW5ndGgodCxlLG4pe3JldHVybihlK24pKjMvNC1ufWZ1bmN0aW9uIHRvQnl0ZUFycmF5KHQpe3ZhciBlLG49Z2V0TGVucyh0KSxvPW5bMF0sZD1uWzFdLGg9bmV3IEFycihfYnl0ZUxlbmd0aCh0LG8sZCkpLGw9MCx1PWQ+MD9vLTQ6byxwO2ZvcihwPTA7cDx1O3ArPTQpZT1yZXZMb29rdXBbdC5jaGFyQ29kZUF0KHApXTw8MTh8cmV2TG9va3VwW3QuY2hhckNvZGVBdChwKzEpXTw8MTJ8cmV2TG9va3VwW3QuY2hhckNvZGVBdChwKzIpXTw8NnxyZXZMb29rdXBbdC5jaGFyQ29kZUF0KHArMyldLGhbbCsrXT1lPj4xNiYyNTUsaFtsKytdPWU+PjgmMjU1LGhbbCsrXT1lJjI1NTtyZXR1cm4gZD09PTImJihlPXJldkxvb2t1cFt0LmNoYXJDb2RlQXQocCldPDwyfHJldkxvb2t1cFt0LmNoYXJDb2RlQXQocCsxKV0+PjQsaFtsKytdPWUmMjU1KSxkPT09MSYmKGU9cmV2TG9va3VwW3QuY2hhckNvZGVBdChwKV08PDEwfHJldkxvb2t1cFt0LmNoYXJDb2RlQXQocCsxKV08PDR8cmV2TG9va3VwW3QuY2hhckNvZGVBdChwKzIpXT4+MixoW2wrK109ZT4+OCYyNTUsaFtsKytdPWUmMjU1KSxofWZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCh0KXtyZXR1cm4gbG9va3VwJDFbdD4+MTgmNjNdK2xvb2t1cCQxW3Q+PjEyJjYzXStsb29rdXAkMVt0Pj42JjYzXStsb29rdXAkMVt0JjYzXX1mdW5jdGlvbiBlbmNvZGVDaHVuayh0LGUsbil7Zm9yKHZhciBvLGQ9W10saD1lO2g8bjtoKz0zKW89KHRbaF08PDE2JjE2NzExNjgwKSsodFtoKzFdPDw4JjY1MjgwKSsodFtoKzJdJjI1NSksZC5wdXNoKHRyaXBsZXRUb0Jhc2U2NChvKSk7cmV0dXJuIGQuam9pbigiIil9ZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSh0KXtmb3IodmFyIGUsbj10Lmxlbmd0aCxvPW4lMyxkPVtdLGg9MTYzODMsbD0wLHU9bi1vO2w8dTtsKz1oKWQucHVzaChlbmNvZGVDaHVuayh0LGwsbCtoPnU/dTpsK2gpKTtyZXR1cm4gbz09PTE/KGU9dFtuLTFdLGQucHVzaChsb29rdXAkMVtlPj4yXStsb29rdXAkMVtlPDw0JjYzXSsiPT0iKSk6bz09PTImJihlPSh0W24tMl08PDgpK3Rbbi0xXSxkLnB1c2gobG9va3VwJDFbZT4+MTBdK2xvb2t1cCQxW2U+PjQmNjNdK2xvb2t1cCQxW2U8PDImNjNdKyI9IikpLGQuam9pbigiIil9dmFyIGllZWU3NTQ9e307LyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9pZWVlNzU0LnJlYWQ9ZnVuY3Rpb24odCxlLG4sbyxkKXt2YXIgaCxsLHU9ZCo4LW8tMSxwPSgxPDx1KS0xLGc9cD4+MSx2PS03LGI9bj9kLTE6MCxfPW4/LTE6MSxPPXRbZStiXTtmb3IoYis9XyxoPU8mKDE8PC12KS0xLE8+Pj0tdix2Kz11O3Y+MDtoPWgqMjU2K3RbZStiXSxiKz1fLHYtPTgpO2ZvcihsPWgmKDE8PC12KS0xLGg+Pj0tdix2Kz1vO3Y+MDtsPWwqMjU2K3RbZStiXSxiKz1fLHYtPTgpO2lmKGg9PT0wKWg9MS1nO2Vsc2V7aWYoaD09PXApcmV0dXJuIGw/TmFOOihPPy0xOjEpKigxLzApO2w9bCtNYXRoLnBvdygyLG8pLGg9aC1nfXJldHVybihPPy0xOjEpKmwqTWF0aC5wb3coMixoLW8pfTtpZWVlNzU0LndyaXRlPWZ1bmN0aW9uKHQsZSxuLG8sZCxoKXt2YXIgbCx1LHAsZz1oKjgtZC0xLHY9KDE8PGcpLTEsYj12Pj4xLF89ZD09PTIzP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxPPW8/MDpoLTEsVD1vPzE6LTEsaj1lPDB8fGU9PT0wJiYxL2U8MD8xOjA7Zm9yKGU9TWF0aC5hYnMoZSksaXNOYU4oZSl8fGU9PT0xLzA/KHU9aXNOYU4oZSk/MTowLGw9dik6KGw9TWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMiksZSoocD1NYXRoLnBvdygyLC1sKSk8MSYmKGwtLSxwKj0yKSxsK2I+PTE/ZSs9Xy9wOmUrPV8qTWF0aC5wb3coMiwxLWIpLGUqcD49MiYmKGwrKyxwLz0yKSxsK2I+PXY/KHU9MCxsPXYpOmwrYj49MT8odT0oZSpwLTEpKk1hdGgucG93KDIsZCksbD1sK2IpOih1PWUqTWF0aC5wb3coMixiLTEpKk1hdGgucG93KDIsZCksbD0wKSk7ZD49ODt0W24rT109dSYyNTUsTys9VCx1Lz0yNTYsZC09OCk7Zm9yKGw9bDw8ZHx1LGcrPWQ7Zz4wO3RbbitPXT1sJjI1NSxPKz1ULGwvPTI1NixnLT04KTt0W24rTy1UXXw9aioxMjh9Oy8qIQogKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci4KICoKICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz4KICogQGxpY2Vuc2UgIE1JVAogKi8oZnVuY3Rpb24odCl7Y29uc3QgZT1iYXNlNjRKcyxuPWllZWU3NTQsbz10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLmZvcj09ImZ1bmN0aW9uIj9TeW1ib2wuZm9yKCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpOm51bGw7dC5CdWZmZXI9dSx0LlNsb3dCdWZmZXI9Qyx0LklOU1BFQ1RfTUFYX0JZVEVTPTUwO2NvbnN0IGQ9MjE0NzQ4MzY0Nzt0LmtNYXhMZW5ndGg9ZCx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ9aCgpLCF1LlRZUEVEX0FSUkFZX1NVUFBPUlQmJnR5cGVvZiBjb25zb2xlPCJ1IiYmdHlwZW9mIGNvbnNvbGUuZXJyb3I9PSJmdW5jdGlvbiImJmNvbnNvbGUuZXJyb3IoIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LiIpO2Z1bmN0aW9uIGgoKXt0cnl7Y29uc3QgST1uZXcgVWludDhBcnJheSgxKSx3PXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHcsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihJLHcpLEkuZm9vKCk9PT00Mn1jYXRjaHtyZXR1cm4hMX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJwYXJlbnQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwib2Zmc2V0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZih1LmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ5dGVPZmZzZXR9fSk7ZnVuY3Rpb24gbChJKXtpZihJPmQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJytJKyciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKTtjb25zdCB3PW5ldyBVaW50OEFycmF5KEkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Yodyx1LnByb3RvdHlwZSksd31mdW5jdGlvbiB1KEksdyxFKXtpZih0eXBlb2YgST09Im51bWJlciIpe2lmKHR5cGVvZiB3PT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gYihJKX1yZXR1cm4gcChJLHcsRSl9dS5wb29sU2l6ZT04MTkyO2Z1bmN0aW9uIHAoSSx3LEUpe2lmKHR5cGVvZiBJPT0ic3RyaW5nIilyZXR1cm4gXyhJLHcpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhJKSlyZXR1cm4gVChJKTtpZihJPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIEkpO2lmKGRlKEksQXJyYXlCdWZmZXIpfHxJJiZkZShJLmJ1ZmZlcixBcnJheUJ1ZmZlcil8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSImJihkZShJLFNoYXJlZEFycmF5QnVmZmVyKXx8SSYmZGUoSS5idWZmZXIsU2hhcmVkQXJyYXlCdWZmZXIpKSlyZXR1cm4gaihJLHcsRSk7aWYodHlwZW9mIEk9PSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAidmFsdWUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO2NvbnN0IEQ9SS52YWx1ZU9mJiZJLnZhbHVlT2YoKTtpZihEIT1udWxsJiZEIT09SSlyZXR1cm4gdS5mcm9tKEQsdyxFKTtjb25zdCBWPU4oSSk7aWYoVilyZXR1cm4gVjtpZih0eXBlb2YgU3ltYm9sPCJ1IiYmU3ltYm9sLnRvUHJpbWl0aXZlIT1udWxsJiZ0eXBlb2YgSVtTeW1ib2wudG9QcmltaXRpdmVdPT0iZnVuY3Rpb24iKXJldHVybiB1LmZyb20oSVtTeW1ib2wudG9QcmltaXRpdmVdKCJzdHJpbmciKSx3LEUpO3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIEkpfXUuZnJvbT1mdW5jdGlvbihJLHcsRSl7cmV0dXJuIHAoSSx3LEUpfSxPYmplY3Quc2V0UHJvdG90eXBlT2YodS5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih1LFVpbnQ4QXJyYXkpO2Z1bmN0aW9uIGcoSSl7aWYodHlwZW9mIEkhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoJyJzaXplIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyk7aWYoSTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgIicrSSsnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJyl9ZnVuY3Rpb24gdihJLHcsRSl7cmV0dXJuIGcoSSksSTw9MD9sKEkpOnchPT12b2lkIDA/dHlwZW9mIEU9PSJzdHJpbmciP2woSSkuZmlsbCh3LEUpOmwoSSkuZmlsbCh3KTpsKEkpfXUuYWxsb2M9ZnVuY3Rpb24oSSx3LEUpe3JldHVybiB2KEksdyxFKX07ZnVuY3Rpb24gYihJKXtyZXR1cm4gZyhJKSxsKEk8MD8wOkIoSSl8MCl9dS5hbGxvY1Vuc2FmZT1mdW5jdGlvbihJKXtyZXR1cm4gYihJKX0sdS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oSSl7cmV0dXJuIGIoSSl9O2Z1bmN0aW9uIF8oSSx3KXtpZigodHlwZW9mIHchPSJzdHJpbmcifHx3PT09IiIpJiYodz0idXRmOCIpLCF1LmlzRW5jb2RpbmcodykpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIit3KTtjb25zdCBFPUwoSSx3KXwwO2xldCBEPWwoRSk7Y29uc3QgVj1ELndyaXRlKEksdyk7cmV0dXJuIFYhPT1FJiYoRD1ELnNsaWNlKDAsVikpLER9ZnVuY3Rpb24gTyhJKXtjb25zdCB3PUkubGVuZ3RoPDA/MDpCKEkubGVuZ3RoKXwwLEU9bCh3KTtmb3IobGV0IEQ9MDtEPHc7RCs9MSlFW0RdPUlbRF0mMjU1O3JldHVybiBFfWZ1bmN0aW9uIFQoSSl7aWYoZGUoSSxVaW50OEFycmF5KSl7Y29uc3Qgdz1uZXcgVWludDhBcnJheShJKTtyZXR1cm4gaih3LmJ1ZmZlcix3LmJ5dGVPZmZzZXQsdy5ieXRlTGVuZ3RoKX1yZXR1cm4gTyhJKX1mdW5jdGlvbiBqKEksdyxFKXtpZih3PDB8fEkuYnl0ZUxlbmd0aDx3KXRocm93IG5ldyBSYW5nZUVycm9yKCcib2Zmc2V0IiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihJLmJ5dGVMZW5ndGg8dysoRXx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJsZW5ndGgiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCBEO3JldHVybiB3PT09dm9pZCAwJiZFPT09dm9pZCAwP0Q9bmV3IFVpbnQ4QXJyYXkoSSk6RT09PXZvaWQgMD9EPW5ldyBVaW50OEFycmF5KEksdyk6RD1uZXcgVWludDhBcnJheShJLHcsRSksT2JqZWN0LnNldFByb3RvdHlwZU9mKEQsdS5wcm90b3R5cGUpLER9ZnVuY3Rpb24gTihJKXtpZih1LmlzQnVmZmVyKEkpKXtjb25zdCB3PUIoSS5sZW5ndGgpfDAsRT1sKHcpO3JldHVybiBFLmxlbmd0aD09PTB8fEkuY29weShFLDAsMCx3KSxFfWlmKEkubGVuZ3RoIT09dm9pZCAwKXJldHVybiB0eXBlb2YgSS5sZW5ndGghPSJudW1iZXIifHxwZShJLmxlbmd0aCk/bCgwKTpPKEkpO2lmKEkudHlwZT09PSJCdWZmZXIiJiZBcnJheS5pc0FycmF5KEkuZGF0YSkpcmV0dXJuIE8oSS5kYXRhKX1mdW5jdGlvbiBCKEkpe2lmKEk+PWQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiK2QudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gSXwwfWZ1bmN0aW9uIEMoSSl7cmV0dXJuK0khPUkmJihJPTApLHUuYWxsb2MoK0kpfXUuaXNCdWZmZXI9ZnVuY3Rpb24odyl7cmV0dXJuIHchPW51bGwmJncuX2lzQnVmZmVyPT09ITAmJnchPT11LnByb3RvdHlwZX0sdS5jb21wYXJlPWZ1bmN0aW9uKHcsRSl7aWYoZGUodyxVaW50OEFycmF5KSYmKHc9dS5mcm9tKHcsdy5vZmZzZXQsdy5ieXRlTGVuZ3RoKSksZGUoRSxVaW50OEFycmF5KSYmKEU9dS5mcm9tKEUsRS5vZmZzZXQsRS5ieXRlTGVuZ3RoKSksIXUuaXNCdWZmZXIodyl8fCF1LmlzQnVmZmVyKEUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAiYnVmMSIsICJidWYyIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKHc9PT1FKXJldHVybiAwO2xldCBEPXcubGVuZ3RoLFY9RS5sZW5ndGg7Zm9yKGxldCBaPTAsY2U9TWF0aC5taW4oRCxWKTtaPGNlOysrWilpZih3W1pdIT09RVtaXSl7RD13W1pdLFY9RVtaXTticmVha31yZXR1cm4gRDxWPy0xOlY8RD8xOjB9LHUuaXNFbmNvZGluZz1mdW5jdGlvbih3KXtzd2l0Y2goU3RyaW5nKHcpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sdS5jb25jYXQ9ZnVuY3Rpb24odyxFKXtpZighQXJyYXkuaXNBcnJheSh3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYody5sZW5ndGg9PT0wKXJldHVybiB1LmFsbG9jKDApO2xldCBEO2lmKEU9PT12b2lkIDApZm9yKEU9MCxEPTA7RDx3Lmxlbmd0aDsrK0QpRSs9d1tEXS5sZW5ndGg7Y29uc3QgVj11LmFsbG9jVW5zYWZlKEUpO2xldCBaPTA7Zm9yKEQ9MDtEPHcubGVuZ3RoOysrRCl7bGV0IGNlPXdbRF07aWYoZGUoY2UsVWludDhBcnJheSkpWitjZS5sZW5ndGg+Vi5sZW5ndGg/KHUuaXNCdWZmZXIoY2UpfHwoY2U9dS5mcm9tKGNlKSksY2UuY29weShWLFopKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChWLGNlLFopO2Vsc2UgaWYodS5pc0J1ZmZlcihjZSkpY2UuY29weShWLFopO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO1orPWNlLmxlbmd0aH1yZXR1cm4gVn07ZnVuY3Rpb24gTChJLHcpe2lmKHUuaXNCdWZmZXIoSSkpcmV0dXJuIEkubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyhJKXx8ZGUoSSxBcnJheUJ1ZmZlcikpcmV0dXJuIEkuYnl0ZUxlbmd0aDtpZih0eXBlb2YgSSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJzdHJpbmciIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIEkpO2NvbnN0IEU9SS5sZW5ndGgsRD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXT09PSEwO2lmKCFEJiZFPT09MClyZXR1cm4gMDtsZXQgVj0hMTtmb3IoOzspc3dpdGNoKHcpe2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEU7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gaWUoSSkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gRSoyO2Nhc2UiaGV4IjpyZXR1cm4gRT4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBuZShJKS5sZW5ndGg7ZGVmYXVsdDppZihWKXJldHVybiBEPy0xOmllKEkpLmxlbmd0aDt3PSgiIit3KS50b0xvd2VyQ2FzZSgpLFY9ITB9fXUuYnl0ZUxlbmd0aD1MO2Z1bmN0aW9uIFMoSSx3LEUpe2xldCBEPSExO2lmKCh3PT09dm9pZCAwfHx3PDApJiYodz0wKSx3PnRoaXMubGVuZ3RofHwoKEU9PT12b2lkIDB8fEU+dGhpcy5sZW5ndGgpJiYoRT10aGlzLmxlbmd0aCksRTw9MCl8fChFPj4+PTAsdz4+Pj0wLEU8PXcpKXJldHVybiIiO2ZvcihJfHwoST0idXRmOCIpOzspc3dpdGNoKEkpe2Nhc2UiaGV4IjpyZXR1cm4gbWUodGhpcyx3LEUpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuICQodGhpcyx3LEUpO2Nhc2UiYXNjaWkiOnJldHVybiBlZSh0aGlzLHcsRSk7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gZ2UodGhpcyx3LEUpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gTSh0aGlzLHcsRSk7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBmZSh0aGlzLHcsRSk7ZGVmYXVsdDppZihEKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrSSk7ST0oSSsiIikudG9Mb3dlckNhc2UoKSxEPSEwfX11LnByb3RvdHlwZS5faXNCdWZmZXI9ITA7ZnVuY3Rpb24gUChJLHcsRSl7Y29uc3QgRD1JW3ddO0lbd109SVtFXSxJW0VdPUR9dS5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtpZih3JTIhPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cyIpO2ZvcihsZXQgRT0wO0U8dztFKz0yKVAodGhpcyxFLEUrMSk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe2NvbnN0IHc9dGhpcy5sZW5ndGg7aWYodyU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IobGV0IEU9MDtFPHc7RSs9NClQKHRoaXMsRSxFKzMpLFAodGhpcyxFKzEsRSsyKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtpZih3JTghPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cyIpO2ZvcihsZXQgRT0wO0U8dztFKz04KVAodGhpcyxFLEUrNyksUCh0aGlzLEUrMSxFKzYpLFAodGhpcyxFKzIsRSs1KSxQKHRoaXMsRSszLEUrNCk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtyZXR1cm4gdz09PTA/IiI6YXJndW1lbnRzLmxlbmd0aD09PTA/JCh0aGlzLDAsdyk6Uy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHUucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPXUucHJvdG90eXBlLnRvU3RyaW5nLHUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih3KXtpZighdS5pc0J1ZmZlcih3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT13PyEwOnUuY29tcGFyZSh0aGlzLHcpPT09MH0sdS5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe2xldCB3PSIiO2NvbnN0IEU9dC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdz10aGlzLnRvU3RyaW5nKCJoZXgiLDAsRSkucmVwbGFjZSgvKC57Mn0pL2csIiQxICIpLnRyaW0oKSx0aGlzLmxlbmd0aD5FJiYodys9IiAuLi4gIiksIjxCdWZmZXIgIit3KyI+In0sbyYmKHUucHJvdG90eXBlW29dPXUucHJvdG90eXBlLmluc3BlY3QpLHUucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odyxFLEQsVixaKXtpZihkZSh3LFVpbnQ4QXJyYXkpJiYodz11LmZyb20odyx3Lm9mZnNldCx3LmJ5dGVMZW5ndGgpKSwhdS5pc0J1ZmZlcih3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInRhcmdldCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB3KTtpZihFPT09dm9pZCAwJiYoRT0wKSxEPT09dm9pZCAwJiYoRD13P3cubGVuZ3RoOjApLFY9PT12b2lkIDAmJihWPTApLFo9PT12b2lkIDAmJihaPXRoaXMubGVuZ3RoKSxFPDB8fEQ+dy5sZW5ndGh8fFY8MHx8Wj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYoVj49WiYmRT49RClyZXR1cm4gMDtpZihWPj1aKXJldHVybi0xO2lmKEU+PUQpcmV0dXJuIDE7aWYoRT4+Pj0wLEQ+Pj49MCxWPj4+PTAsWj4+Pj0wLHRoaXM9PT13KXJldHVybiAwO2xldCBjZT1aLVYsU2U9RC1FO2NvbnN0IGtlPU1hdGgubWluKGNlLFNlKSxCZT10aGlzLnNsaWNlKFYsWiksRGU9dy5zbGljZShFLEQpO2ZvcihsZXQgTGU9MDtMZTxrZTsrK0xlKWlmKEJlW0xlXSE9PURlW0xlXSl7Y2U9QmVbTGVdLFNlPURlW0xlXTticmVha31yZXR1cm4gY2U8U2U/LTE6U2U8Y2U/MTowfTtmdW5jdGlvbiBGKEksdyxFLEQsVil7aWYoSS5sZW5ndGg9PT0wKXJldHVybi0xO2lmKHR5cGVvZiBFPT0ic3RyaW5nIj8oRD1FLEU9MCk6RT4yMTQ3NDgzNjQ3P0U9MjE0NzQ4MzY0NzpFPC0yMTQ3NDgzNjQ4JiYoRT0tMjE0NzQ4MzY0OCksRT0rRSxwZShFKSYmKEU9Vj8wOkkubGVuZ3RoLTEpLEU8MCYmKEU9SS5sZW5ndGgrRSksRT49SS5sZW5ndGgpe2lmKFYpcmV0dXJuLTE7RT1JLmxlbmd0aC0xfWVsc2UgaWYoRTwwKWlmKFYpRT0wO2Vsc2UgcmV0dXJuLTE7aWYodHlwZW9mIHc9PSJzdHJpbmciJiYodz11LmZyb20odyxEKSksdS5pc0J1ZmZlcih3KSlyZXR1cm4gdy5sZW5ndGg9PT0wPy0xOmsoSSx3LEUsRCxWKTtpZih0eXBlb2Ygdz09Im51bWJlciIpcmV0dXJuIHc9dyYyNTUsdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y9PSJmdW5jdGlvbiI/Vj9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoSSx3LEUpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoSSx3LEUpOmsoSSxbd10sRSxELFYpO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIGsoSSx3LEUsRCxWKXtsZXQgWj0xLGNlPUkubGVuZ3RoLFNlPXcubGVuZ3RoO2lmKEQhPT12b2lkIDAmJihEPVN0cmluZyhEKS50b0xvd2VyQ2FzZSgpLEQ9PT0idWNzMiJ8fEQ9PT0idWNzLTIifHxEPT09InV0ZjE2bGUifHxEPT09InV0Zi0xNmxlIikpe2lmKEkubGVuZ3RoPDJ8fHcubGVuZ3RoPDIpcmV0dXJuLTE7Wj0yLGNlLz0yLFNlLz0yLEUvPTJ9ZnVuY3Rpb24ga2UoRGUsTGUpe3JldHVybiBaPT09MT9EZVtMZV06RGUucmVhZFVJbnQxNkJFKExlKlopfWxldCBCZTtpZihWKXtsZXQgRGU9LTE7Zm9yKEJlPUU7QmU8Y2U7QmUrKylpZihrZShJLEJlKT09PWtlKHcsRGU9PT0tMT8wOkJlLURlKSl7aWYoRGU9PT0tMSYmKERlPUJlKSxCZS1EZSsxPT09U2UpcmV0dXJuIERlKlp9ZWxzZSBEZSE9PS0xJiYoQmUtPUJlLURlKSxEZT0tMX1lbHNlIGZvcihFK1NlPmNlJiYoRT1jZS1TZSksQmU9RTtCZT49MDtCZS0tKXtsZXQgRGU9ITA7Zm9yKGxldCBMZT0wO0xlPFNlO0xlKyspaWYoa2UoSSxCZStMZSkhPT1rZSh3LExlKSl7RGU9ITE7YnJlYWt9aWYoRGUpcmV0dXJuIEJlfXJldHVybi0xfXUucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdGhpcy5pbmRleE9mKHcsRSxEKSE9PS0xfSx1LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gRih0aGlzLHcsRSxELCEwKX0sdS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odyxFLEQpe3JldHVybiBGKHRoaXMsdyxFLEQsITEpfTtmdW5jdGlvbiBKKEksdyxFLEQpe0U9TnVtYmVyKEUpfHwwO2NvbnN0IFY9SS5sZW5ndGgtRTtEPyhEPU51bWJlcihEKSxEPlYmJihEPVYpKTpEPVY7Y29uc3QgWj13Lmxlbmd0aDtEPlovMiYmKEQ9Wi8yKTtsZXQgY2U7Zm9yKGNlPTA7Y2U8RDsrK2NlKXtjb25zdCBTZT1wYXJzZUludCh3LnN1YnN0cihjZSoyLDIpLDE2KTtpZihwZShTZSkpcmV0dXJuIGNlO0lbRStjZV09U2V9cmV0dXJuIGNlfWZ1bmN0aW9uIGFlKEksdyxFLEQpe3JldHVybiB1ZShpZSh3LEkubGVuZ3RoLUUpLEksRSxEKX1mdW5jdGlvbiBxKEksdyxFLEQpe3JldHVybiB1ZShzZSh3KSxJLEUsRCl9ZnVuY3Rpb24gRyhJLHcsRSxEKXtyZXR1cm4gdWUobmUodyksSSxFLEQpfWZ1bmN0aW9uIHJlKEksdyxFLEQpe3JldHVybiB1ZShsZSh3LEkubGVuZ3RoLUUpLEksRSxEKX11LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih3LEUsRCxWKXtpZihFPT09dm9pZCAwKVY9InV0ZjgiLEQ9dGhpcy5sZW5ndGgsRT0wO2Vsc2UgaWYoRD09PXZvaWQgMCYmdHlwZW9mIEU9PSJzdHJpbmciKVY9RSxEPXRoaXMubGVuZ3RoLEU9MDtlbHNlIGlmKGlzRmluaXRlKEUpKUU9RT4+PjAsaXNGaW5pdGUoRCk/KEQ9RD4+PjAsVj09PXZvaWQgMCYmKFY9InV0ZjgiKSk6KFY9RCxEPXZvaWQgMCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIik7Y29uc3QgWj10aGlzLmxlbmd0aC1FO2lmKChEPT09dm9pZCAwfHxEPlopJiYoRD1aKSx3Lmxlbmd0aD4wJiYoRDwwfHxFPDApfHxFPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcyIpO1Z8fChWPSJ1dGY4Iik7bGV0IGNlPSExO2Zvcig7Oylzd2l0Y2goVil7Y2FzZSJoZXgiOnJldHVybiBKKHRoaXMsdyxFLEQpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIGFlKHRoaXMsdyxFLEQpO2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIHEodGhpcyx3LEUsRCk7Y2FzZSJiYXNlNjQiOnJldHVybiBHKHRoaXMsdyxFLEQpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gcmUodGhpcyx3LEUsRCk7ZGVmYXVsdDppZihjZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK1YpO1Y9KCIiK1YpLnRvTG93ZXJDYXNlKCksY2U9ITB9fSx1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2Z1bmN0aW9uIE0oSSx3LEUpe3JldHVybiB3PT09MCYmRT09PUkubGVuZ3RoP2UuZnJvbUJ5dGVBcnJheShJKTplLmZyb21CeXRlQXJyYXkoSS5zbGljZSh3LEUpKX1mdW5jdGlvbiAkKEksdyxFKXtFPU1hdGgubWluKEkubGVuZ3RoLEUpO2NvbnN0IEQ9W107bGV0IFY9dztmb3IoO1Y8RTspe2NvbnN0IFo9SVtWXTtsZXQgY2U9bnVsbCxTZT1aPjIzOT80Olo+MjIzPzM6Wj4xOTE/MjoxO2lmKFYrU2U8PUUpe2xldCBrZSxCZSxEZSxMZTtzd2l0Y2goU2Upe2Nhc2UgMTpaPDEyOCYmKGNlPVopO2JyZWFrO2Nhc2UgMjprZT1JW1YrMV0sKGtlJjE5Mik9PT0xMjgmJihMZT0oWiYzMSk8PDZ8a2UmNjMsTGU+MTI3JiYoY2U9TGUpKTticmVhaztjYXNlIDM6a2U9SVtWKzFdLEJlPUlbVisyXSwoa2UmMTkyKT09PTEyOCYmKEJlJjE5Mik9PT0xMjgmJihMZT0oWiYxNSk8PDEyfChrZSY2Myk8PDZ8QmUmNjMsTGU+MjA0NyYmKExlPDU1Mjk2fHxMZT41NzM0MykmJihjZT1MZSkpO2JyZWFrO2Nhc2UgNDprZT1JW1YrMV0sQmU9SVtWKzJdLERlPUlbViszXSwoa2UmMTkyKT09PTEyOCYmKEJlJjE5Mik9PT0xMjgmJihEZSYxOTIpPT09MTI4JiYoTGU9KFomMTUpPDwxOHwoa2UmNjMpPDwxMnwoQmUmNjMpPDw2fERlJjYzLExlPjY1NTM1JiZMZTwxMTE0MTEyJiYoY2U9TGUpKX19Y2U9PT1udWxsPyhjZT02NTUzMyxTZT0xKTpjZT42NTUzNSYmKGNlLT02NTUzNixELnB1c2goY2U+Pj4xMCYxMDIzfDU1Mjk2KSxjZT01NjMyMHxjZSYxMDIzKSxELnB1c2goY2UpLFYrPVNlfXJldHVybiBIKEQpfWNvbnN0IFU9NDA5NjtmdW5jdGlvbiBIKEkpe2NvbnN0IHc9SS5sZW5ndGg7aWYodzw9VSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsSSk7bGV0IEU9IiIsRD0wO2Zvcig7RDx3OylFKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxJLnNsaWNlKEQsRCs9VSkpO3JldHVybiBFfWZ1bmN0aW9uIGVlKEksdyxFKXtsZXQgRD0iIjtFPU1hdGgubWluKEkubGVuZ3RoLEUpO2ZvcihsZXQgVj13O1Y8RTsrK1YpRCs9U3RyaW5nLmZyb21DaGFyQ29kZShJW1ZdJjEyNyk7cmV0dXJuIER9ZnVuY3Rpb24gZ2UoSSx3LEUpe2xldCBEPSIiO0U9TWF0aC5taW4oSS5sZW5ndGgsRSk7Zm9yKGxldCBWPXc7VjxFOysrVilEKz1TdHJpbmcuZnJvbUNoYXJDb2RlKElbVl0pO3JldHVybiBEfWZ1bmN0aW9uIG1lKEksdyxFKXtjb25zdCBEPUkubGVuZ3RoOyghd3x8dzwwKSYmKHc9MCksKCFFfHxFPDB8fEU+RCkmJihFPUQpO2xldCBWPSIiO2ZvcihsZXQgWj13O1o8RTsrK1opVis9YmVbSVtaXV07cmV0dXJuIFZ9ZnVuY3Rpb24gZmUoSSx3LEUpe2NvbnN0IEQ9SS5zbGljZSh3LEUpO2xldCBWPSIiO2ZvcihsZXQgWj0wO1o8RC5sZW5ndGgtMTtaKz0yKVYrPVN0cmluZy5mcm9tQ2hhckNvZGUoRFtaXStEW1orMV0qMjU2KTtyZXR1cm4gVn11LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih3LEUpe2NvbnN0IEQ9dGhpcy5sZW5ndGg7dz1+fncsRT1FPT09dm9pZCAwP0Q6fn5FLHc8MD8odys9RCx3PDAmJih3PTApKTp3PkQmJih3PUQpLEU8MD8oRSs9RCxFPDAmJihFPTApKTpFPkQmJihFPUQpLEU8dyYmKEU9dyk7Y29uc3QgVj10aGlzLnN1YmFycmF5KHcsRSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihWLHUucHJvdG90eXBlKSxWfTtmdW5jdGlvbiBoZShJLHcsRSl7aWYoSSUxIT09MHx8STwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihJK3c+RSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfXUucHJvdG90eXBlLnJlYWRVaW50TEU9dS5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9dGhpc1t3XSxaPTEsY2U9MDtmb3IoOysrY2U8RSYmKFoqPTI1Nik7KVYrPXRoaXNbdytjZV0qWjtyZXR1cm4gVn0sdS5wcm90b3R5cGUucmVhZFVpbnRCRT11LnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHcsRSxEKXt3PXc+Pj4wLEU9RT4+PjAsRHx8aGUodyxFLHRoaXMubGVuZ3RoKTtsZXQgVj10aGlzW3crLS1FXSxaPTE7Zm9yKDtFPjAmJihaKj0yNTYpOylWKz10aGlzW3crLS1FXSpaO3JldHVybiBWfSx1LnByb3RvdHlwZS5yZWFkVWludDg9dS5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywxLHRoaXMubGVuZ3RoKSx0aGlzW3ddfSx1LnByb3RvdHlwZS5yZWFkVWludDE2TEU9dS5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywyLHRoaXMubGVuZ3RoKSx0aGlzW3ddfHRoaXNbdysxXTw8OH0sdS5wcm90b3R5cGUucmVhZFVpbnQxNkJFPXUucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCksdGhpc1t3XTw8OHx0aGlzW3crMV19LHUucHJvdG90eXBlLnJlYWRVaW50MzJMRT11LnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3ddfHRoaXNbdysxXTw8OHx0aGlzW3crMl08PDE2KSt0aGlzW3crM10qMTY3NzcyMTZ9LHUucHJvdG90eXBlLnJlYWRVaW50MzJCRT11LnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLHRoaXNbd10qMTY3NzcyMTYrKHRoaXNbdysxXTw8MTZ8dGhpc1t3KzJdPDw4fHRoaXNbdyszXSl9LHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRT13ZShmdW5jdGlvbih3KXt3PXc+Pj4wLFgodywib2Zmc2V0Iik7Y29uc3QgRT10aGlzW3ddLEQ9dGhpc1t3KzddOyhFPT09dm9pZCAwfHxEPT09dm9pZCAwKSYmb2Uodyx0aGlzLmxlbmd0aC04KTtjb25zdCBWPUUrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKioyNCxaPXRoaXNbKyt3XSt0aGlzWysrd10qMioqOCt0aGlzWysrd10qMioqMTYrRCoyKioyNDtyZXR1cm4gQmlnSW50KFYpKyhCaWdJbnQoWik8PEJpZ0ludCgzMikpfSksdS5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFPXdlKGZ1bmN0aW9uKHcpe3c9dz4+PjAsWCh3LCJvZmZzZXQiKTtjb25zdCBFPXRoaXNbd10sRD10aGlzW3crN107KEU9PT12b2lkIDB8fEQ9PT12b2lkIDApJiZvZSh3LHRoaXMubGVuZ3RoLTgpO2NvbnN0IFY9RSoyKioyNCt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddLFo9dGhpc1srK3ddKjIqKjI0K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqOCtEO3JldHVybihCaWdJbnQoVik8PEJpZ0ludCgzMikpK0JpZ0ludChaKX0pLHUucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9dGhpc1t3XSxaPTEsY2U9MDtmb3IoOysrY2U8RSYmKFoqPTI1Nik7KVYrPXRoaXNbdytjZV0qWjtyZXR1cm4gWio9MTI4LFY+PVomJihWLT1NYXRoLnBvdygyLDgqRSkpLFZ9LHUucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9RSxaPTEsY2U9dGhpc1t3Ky0tVl07Zm9yKDtWPjAmJihaKj0yNTYpOyljZSs9dGhpc1t3Ky0tVl0qWjtyZXR1cm4gWio9MTI4LGNlPj1aJiYoY2UtPU1hdGgucG93KDIsOCpFKSksY2V9LHUucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywxLHRoaXMubGVuZ3RoKSx0aGlzW3ddJjEyOD8oMjU1LXRoaXNbd10rMSkqLTE6dGhpc1t3XX0sdS5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24odyxFKXt3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCk7Y29uc3QgRD10aGlzW3ddfHRoaXNbdysxXTw8ODtyZXR1cm4gRCYzMjc2OD9EfDQyOTQ5MDE3NjA6RH0sdS5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odyxFKXt3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCk7Y29uc3QgRD10aGlzW3crMV18dGhpc1t3XTw8ODtyZXR1cm4gRCYzMjc2OD9EfDQyOTQ5MDE3NjA6RH0sdS5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLHRoaXNbd118dGhpc1t3KzFdPDw4fHRoaXNbdysyXTw8MTZ8dGhpc1t3KzNdPDwyNH0sdS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLHRoaXNbd108PDI0fHRoaXNbdysxXTw8MTZ8dGhpc1t3KzJdPDw4fHRoaXNbdyszXX0sdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEU9d2UoZnVuY3Rpb24odyl7dz13Pj4+MCxYKHcsIm9mZnNldCIpO2NvbnN0IEU9dGhpc1t3XSxEPXRoaXNbdys3XTsoRT09PXZvaWQgMHx8RD09PXZvaWQgMCkmJm9lKHcsdGhpcy5sZW5ndGgtOCk7Y29uc3QgVj10aGlzW3crNF0rdGhpc1t3KzVdKjIqKjgrdGhpc1t3KzZdKjIqKjE2KyhEPDwyNCk7cmV0dXJuKEJpZ0ludChWKTw8QmlnSW50KDMyKSkrQmlnSW50KEUrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKioyNCl9KSx1LnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRT13ZShmdW5jdGlvbih3KXt3PXc+Pj4wLFgodywib2Zmc2V0Iik7Y29uc3QgRT10aGlzW3ddLEQ9dGhpc1t3KzddOyhFPT09dm9pZCAwfHxEPT09dm9pZCAwKSYmb2Uodyx0aGlzLmxlbmd0aC04KTtjb25zdCBWPShFPDwyNCkrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKio4K3RoaXNbKyt3XTtyZXR1cm4oQmlnSW50KFYpPDxCaWdJbnQoMzIpKStCaWdJbnQodGhpc1srK3ddKjIqKjI0K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqOCtEKX0pLHUucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx3LCEwLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsdywhMSwyMyw0KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw4LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx3LCEwLDUyLDgpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLHcsITEsNTIsOCl9O2Z1bmN0aW9uIF9lKEksdyxFLEQsVixaKXtpZighdS5pc0J1ZmZlcihJKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodz5WfHx3PFopdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKEUrRD5JLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9dS5wcm90b3R5cGUud3JpdGVVaW50TEU9dS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odyxFLEQsVil7aWYodz0rdyxFPUU+Pj4wLEQ9RD4+PjAsIVYpe2NvbnN0IFNlPU1hdGgucG93KDIsOCpEKS0xO19lKHRoaXMsdyxFLEQsU2UsMCl9bGV0IFo9MSxjZT0wO2Zvcih0aGlzW0VdPXcmMjU1OysrY2U8RCYmKFoqPTI1Nik7KXRoaXNbRStjZV09dy9aJjI1NTtyZXR1cm4gRStEfSx1LnByb3RvdHlwZS53cml0ZVVpbnRCRT11LnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbih3LEUsRCxWKXtpZih3PSt3LEU9RT4+PjAsRD1EPj4+MCwhVil7Y29uc3QgU2U9TWF0aC5wb3coMiw4KkQpLTE7X2UodGhpcyx3LEUsRCxTZSwwKX1sZXQgWj1ELTEsY2U9MTtmb3IodGhpc1tFK1pdPXcmMjU1Oy0tWj49MCYmKGNlKj0yNTYpOyl0aGlzW0UrWl09dy9jZSYyNTU7cmV0dXJuIEUrRH0sdS5wcm90b3R5cGUud3JpdGVVaW50OD11LnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDEsMjU1LDApLHRoaXNbRV09dyYyNTUsRSsxfSx1LnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPXUucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMiw2NTUzNSwwKSx0aGlzW0VdPXcmMjU1LHRoaXNbRSsxXT13Pj4+OCxFKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDE2QkU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwyLDY1NTM1LDApLHRoaXNbRV09dz4+PjgsdGhpc1tFKzFdPXcmMjU1LEUrMn0sdS5wcm90b3R5cGUud3JpdGVVaW50MzJMRT11LnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsNDI5NDk2NzI5NSwwKSx0aGlzW0UrM109dz4+PjI0LHRoaXNbRSsyXT13Pj4+MTYsdGhpc1tFKzFdPXc+Pj44LHRoaXNbRV09dyYyNTUsRSs0fSx1LnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPXUucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbRV09dz4+PjI0LHRoaXNbRSsxXT13Pj4+MTYsdGhpc1tFKzJdPXc+Pj44LHRoaXNbRSszXT13JjI1NSxFKzR9O2Z1bmN0aW9uIHhlKEksdyxFLEQsVil7JGUodyxELFYsSSxFLDcpO2xldCBaPU51bWJlcih3JkJpZ0ludCg0Mjk0OTY3Mjk1KSk7SVtFKytdPVosWj1aPj44LElbRSsrXT1aLFo9Wj4+OCxJW0UrK109WixaPVo+PjgsSVtFKytdPVo7bGV0IGNlPU51bWJlcih3Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIElbRSsrXT1jZSxjZT1jZT4+OCxJW0UrK109Y2UsY2U9Y2U+PjgsSVtFKytdPWNlLGNlPWNlPj44LElbRSsrXT1jZSxFfWZ1bmN0aW9uIE5lKEksdyxFLEQsVil7JGUodyxELFYsSSxFLDcpO2xldCBaPU51bWJlcih3JkJpZ0ludCg0Mjk0OTY3Mjk1KSk7SVtFKzddPVosWj1aPj44LElbRSs2XT1aLFo9Wj4+OCxJW0UrNV09WixaPVo+PjgsSVtFKzRdPVo7bGV0IGNlPU51bWJlcih3Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIElbRSszXT1jZSxjZT1jZT4+OCxJW0UrMl09Y2UsY2U9Y2U+PjgsSVtFKzFdPWNlLGNlPWNlPj44LElbRV09Y2UsRSs4fXUucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEU9d2UoZnVuY3Rpb24odyxFPTApe3JldHVybiB4ZSh0aGlzLHcsRSxCaWdJbnQoMCksQmlnSW50KCIweGZmZmZmZmZmZmZmZmZmZmYiKSl9KSx1LnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NEJFPXdlKGZ1bmN0aW9uKHcsRT0wKXtyZXR1cm4gTmUodGhpcyx3LEUsQmlnSW50KDApLEJpZ0ludCgiMHhmZmZmZmZmZmZmZmZmZmZmIikpfSksdS5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih3LEUsRCxWKXtpZih3PSt3LEU9RT4+PjAsIVYpe2NvbnN0IGtlPU1hdGgucG93KDIsOCpELTEpO19lKHRoaXMsdyxFLEQsa2UtMSwta2UpfWxldCBaPTAsY2U9MSxTZT0wO2Zvcih0aGlzW0VdPXcmMjU1OysrWjxEJiYoY2UqPTI1Nik7KXc8MCYmU2U9PT0wJiZ0aGlzW0UrWi0xXSE9PTAmJihTZT0xKSx0aGlzW0UrWl09KHcvY2U+PjApLVNlJjI1NTtyZXR1cm4gRStEfSx1LnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHcsRSxELFYpe2lmKHc9K3csRT1FPj4+MCwhVil7Y29uc3Qga2U9TWF0aC5wb3coMiw4KkQtMSk7X2UodGhpcyx3LEUsRCxrZS0xLC1rZSl9bGV0IFo9RC0xLGNlPTEsU2U9MDtmb3IodGhpc1tFK1pdPXcmMjU1Oy0tWj49MCYmKGNlKj0yNTYpOyl3PDAmJlNlPT09MCYmdGhpc1tFK1orMV0hPT0wJiYoU2U9MSksdGhpc1tFK1pdPSh3L2NlPj4wKS1TZSYyNTU7cmV0dXJuIEUrRH0sdS5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDEsMTI3LC0xMjgpLHc8MCYmKHc9MjU1K3crMSksdGhpc1tFXT13JjI1NSxFKzF9LHUucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwyLDMyNzY3LC0zMjc2OCksdGhpc1tFXT13JjI1NSx0aGlzW0UrMV09dz4+PjgsRSsyfSx1LnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMiwzMjc2NywtMzI3NjgpLHRoaXNbRV09dz4+PjgsdGhpc1tFKzFdPXcmMjU1LEUrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1tFXT13JjI1NSx0aGlzW0UrMV09dz4+PjgsdGhpc1tFKzJdPXc+Pj4xNix0aGlzW0UrM109dz4+PjI0LEUrNH0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdzwwJiYodz00Mjk0OTY3Mjk1K3crMSksdGhpc1tFXT13Pj4+MjQsdGhpc1tFKzFdPXc+Pj4xNix0aGlzW0UrMl09dz4+PjgsdGhpc1tFKzNdPXcmMjU1LEUrNH0sdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPXdlKGZ1bmN0aW9uKHcsRT0wKXtyZXR1cm4geGUodGhpcyx3LEUsLUJpZ0ludCgiMHg4MDAwMDAwMDAwMDAwMDAwIiksQmlnSW50KCIweDdmZmZmZmZmZmZmZmZmZmYiKSl9KSx1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkU9d2UoZnVuY3Rpb24odyxFPTApe3JldHVybiBOZSh0aGlzLHcsRSwtQmlnSW50KCIweDgwMDAwMDAwMDAwMDAwMDAiKSxCaWdJbnQoIjB4N2ZmZmZmZmZmZmZmZmZmZiIpKX0pO2Z1bmN0aW9uIEllKEksdyxFLEQsVixaKXtpZihFK0Q+SS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKEU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gUmUoSSx3LEUsRCxWKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLFZ8fEllKEksdyxFLDQpLG4ud3JpdGUoSSx3LEUsRCwyMyw0KSxFKzR9dS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gUmUodGhpcyx3LEUsITAsRCl9LHUucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIFJlKHRoaXMsdyxFLCExLEQpfTtmdW5jdGlvbiB2ZShJLHcsRSxELFYpe3JldHVybiB3PSt3LEU9RT4+PjAsVnx8SWUoSSx3LEUsOCksbi53cml0ZShJLHcsRSxELDUyLDgpLEUrOH11LnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdmUodGhpcyx3LEUsITAsRCl9LHUucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB2ZSh0aGlzLHcsRSwhMSxEKX0sdS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih3LEUsRCxWKXtpZighdS5pc0J1ZmZlcih3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXIiKTtpZihEfHwoRD0wKSwhViYmViE9PTAmJihWPXRoaXMubGVuZ3RoKSxFPj13Lmxlbmd0aCYmKEU9dy5sZW5ndGgpLEV8fChFPTApLFY+MCYmVjxEJiYoVj1EKSxWPT09RHx8dy5sZW5ndGg9PT0wfHx0aGlzLmxlbmd0aD09PTApcmV0dXJuIDA7aWYoRTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYoRDwwfHxEPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYoVjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO1Y+dGhpcy5sZW5ndGgmJihWPXRoaXMubGVuZ3RoKSx3Lmxlbmd0aC1FPFYtRCYmKFY9dy5sZW5ndGgtRStEKTtjb25zdCBaPVYtRDtyZXR1cm4gdGhpcz09PXcmJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT0iZnVuY3Rpb24iP3RoaXMuY29weVdpdGhpbihFLEQsVik6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodyx0aGlzLnN1YmFycmF5KEQsViksRSksWn0sdS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih3LEUsRCxWKXtpZih0eXBlb2Ygdz09InN0cmluZyIpe2lmKHR5cGVvZiBFPT0ic3RyaW5nIj8oVj1FLEU9MCxEPXRoaXMubGVuZ3RoKTp0eXBlb2YgRD09InN0cmluZyImJihWPUQsRD10aGlzLmxlbmd0aCksViE9PXZvaWQgMCYmdHlwZW9mIFYhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZih0eXBlb2YgVj09InN0cmluZyImJiF1LmlzRW5jb2RpbmcoVikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitWKTtpZih3Lmxlbmd0aD09PTEpe2NvbnN0IGNlPXcuY2hhckNvZGVBdCgwKTsoVj09PSJ1dGY4IiYmY2U8MTI4fHxWPT09ImxhdGluMSIpJiYodz1jZSl9fWVsc2UgdHlwZW9mIHc9PSJudW1iZXIiP3c9dyYyNTU6dHlwZW9mIHc9PSJib29sZWFuIiYmKHc9TnVtYmVyKHcpKTtpZihFPDB8fHRoaXMubGVuZ3RoPEV8fHRoaXMubGVuZ3RoPEQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKEQ8PUUpcmV0dXJuIHRoaXM7RT1FPj4+MCxEPUQ9PT12b2lkIDA/dGhpcy5sZW5ndGg6RD4+PjAsd3x8KHc9MCk7bGV0IFo7aWYodHlwZW9mIHc9PSJudW1iZXIiKWZvcihaPUU7WjxEOysrWil0aGlzW1pdPXc7ZWxzZXtjb25zdCBjZT11LmlzQnVmZmVyKHcpP3c6dS5mcm9tKHcsViksU2U9Y2UubGVuZ3RoO2lmKFNlPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgIicrdysnIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCAidmFsdWUiJyk7Zm9yKFo9MDtaPEQtRTsrK1opdGhpc1taK0VdPWNlW1olU2VdfXJldHVybiB0aGlzfTtjb25zdCBDZT17fTtmdW5jdGlvbiBNZShJLHcsRSl7Q2VbSV09Y2xhc3MgZXh0ZW5kcyBFe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywibWVzc2FnZSIse3ZhbHVlOncuYXBwbHkodGhpcyxhcmd1bWVudHMpLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMubmFtZT1gJHt0aGlzLm5hbWV9IFske0l9XWAsdGhpcy5zdGFjayxkZWxldGUgdGhpcy5uYW1lfWdldCBjb2RlKCl7cmV0dXJuIEl9c2V0IGNvZGUoVil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNvZGUiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpWLHdyaXRhYmxlOiEwfSl9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLm5hbWV9IFske0l9XTogJHt0aGlzLm1lc3NhZ2V9YH19fU1lKCJFUlJfQlVGRkVSX09VVF9PRl9CT1VORFMiLGZ1bmN0aW9uKEkpe3JldHVybiBJP2Ake0l9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2A6IkF0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMifSxSYW5nZUVycm9yKSxNZSgiRVJSX0lOVkFMSURfQVJHX1RZUEUiLGZ1bmN0aW9uKEksdyl7cmV0dXJuYFRoZSAiJHtJfSIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB3fWB9LFR5cGVFcnJvciksTWUoIkVSUl9PVVRfT0ZfUkFOR0UiLGZ1bmN0aW9uKEksdyxFKXtsZXQgRD1gVGhlIHZhbHVlIG9mICIke0l9IiBpcyBvdXQgb2YgcmFuZ2UuYCxWPUU7cmV0dXJuIE51bWJlci5pc0ludGVnZXIoRSkmJk1hdGguYWJzKEUpPjIqKjMyP1Y9VWUoU3RyaW5nKEUpKTp0eXBlb2YgRT09ImJpZ2ludCImJihWPVN0cmluZyhFKSwoRT5CaWdJbnQoMikqKkJpZ0ludCgzMil8fEU8LShCaWdJbnQoMikqKkJpZ0ludCgzMikpKSYmKFY9VWUoVikpLFYrPSJuIiksRCs9YCBJdCBtdXN0IGJlICR7d30uIFJlY2VpdmVkICR7Vn1gLER9LFJhbmdlRXJyb3IpO2Z1bmN0aW9uIFVlKEkpe2xldCB3PSIiLEU9SS5sZW5ndGg7Y29uc3QgRD1JWzBdPT09Ii0iPzE6MDtmb3IoO0U+PUQrNDtFLT0zKXc9YF8ke0kuc2xpY2UoRS0zLEUpfSR7d31gO3JldHVybmAke0kuc2xpY2UoMCxFKX0ke3d9YH1mdW5jdGlvbiBGZShJLHcsRSl7WCh3LCJvZmZzZXQiKSwoSVt3XT09PXZvaWQgMHx8SVt3K0VdPT09dm9pZCAwKSYmb2UodyxJLmxlbmd0aC0oRSsxKSl9ZnVuY3Rpb24gJGUoSSx3LEUsRCxWLFope2lmKEk+RXx8STx3KXtjb25zdCBjZT10eXBlb2Ygdz09ImJpZ2ludCI/Im4iOiIiO2xldCBTZTt0aHJvdyBaPjM/dz09PTB8fHc9PT1CaWdJbnQoMCk/U2U9YD49IDAke2NlfSBhbmQgPCAyJHtjZX0gKiogJHsoWisxKSo4fSR7Y2V9YDpTZT1gPj0gLSgyJHtjZX0gKiogJHsoWisxKSo4LTF9JHtjZX0pIGFuZCA8IDIgKiogJHsoWisxKSo4LTF9JHtjZX1gOlNlPWA+PSAke3d9JHtjZX0gYW5kIDw9ICR7RX0ke2NlfWAsbmV3IENlLkVSUl9PVVRfT0ZfUkFOR0UoInZhbHVlIixTZSxJKX1GZShELFYsWil9ZnVuY3Rpb24gWChJLHcpe2lmKHR5cGVvZiBJIT0ibnVtYmVyIil0aHJvdyBuZXcgQ2UuRVJSX0lOVkFMSURfQVJHX1RZUEUodywibnVtYmVyIixJKX1mdW5jdGlvbiBvZShJLHcsRSl7dGhyb3cgTWF0aC5mbG9vcihJKSE9PUk/KFgoSSxFKSxuZXcgQ2UuRVJSX09VVF9PRl9SQU5HRShFfHwib2Zmc2V0IiwiYW4gaW50ZWdlciIsSSkpOnc8MD9uZXcgQ2UuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTOm5ldyBDZS5FUlJfT1VUX09GX1JBTkdFKEV8fCJvZmZzZXQiLGA+PSAke0U/MTowfSBhbmQgPD0gJHt3fWAsSSl9Y29uc3QgUT0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIFkoSSl7aWYoST1JLnNwbGl0KCI9IilbMF0sST1JLnRyaW0oKS5yZXBsYWNlKFEsIiIpLEkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDtJLmxlbmd0aCU0IT09MDspST1JKyI9IjtyZXR1cm4gSX1mdW5jdGlvbiBpZShJLHcpe3c9d3x8MS8wO2xldCBFO2NvbnN0IEQ9SS5sZW5ndGg7bGV0IFY9bnVsbDtjb25zdCBaPVtdO2ZvcihsZXQgY2U9MDtjZTxEOysrY2Upe2lmKEU9SS5jaGFyQ29kZUF0KGNlKSxFPjU1Mjk1JiZFPDU3MzQ0KXtpZighVil7aWYoRT41NjMxOSl7KHctPTMpPi0xJiZaLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYoY2UrMT09PUQpeyh3LT0zKT4tMSYmWi5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1WPUU7Y29udGludWV9aWYoRTw1NjMyMCl7KHctPTMpPi0xJiZaLnB1c2goMjM5LDE5MSwxODkpLFY9RTtjb250aW51ZX1FPShWLTU1Mjk2PDwxMHxFLTU2MzIwKSs2NTUzNn1lbHNlIFYmJih3LT0zKT4tMSYmWi5wdXNoKDIzOSwxOTEsMTg5KTtpZihWPW51bGwsRTwxMjgpe2lmKCh3LT0xKTwwKWJyZWFrO1oucHVzaChFKX1lbHNlIGlmKEU8MjA0OCl7aWYoKHctPTIpPDApYnJlYWs7Wi5wdXNoKEU+PjZ8MTkyLEUmNjN8MTI4KX1lbHNlIGlmKEU8NjU1MzYpe2lmKCh3LT0zKTwwKWJyZWFrO1oucHVzaChFPj4xMnwyMjQsRT4+NiY2M3wxMjgsRSY2M3wxMjgpfWVsc2UgaWYoRTwxMTE0MTEyKXtpZigody09NCk8MClicmVhaztaLnB1c2goRT4+MTh8MjQwLEU+PjEyJjYzfDEyOCxFPj42JjYzfDEyOCxFJjYzfDEyOCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpfXJldHVybiBafWZ1bmN0aW9uIHNlKEkpe2NvbnN0IHc9W107Zm9yKGxldCBFPTA7RTxJLmxlbmd0aDsrK0Updy5wdXNoKEkuY2hhckNvZGVBdChFKSYyNTUpO3JldHVybiB3fWZ1bmN0aW9uIGxlKEksdyl7bGV0IEUsRCxWO2NvbnN0IFo9W107Zm9yKGxldCBjZT0wO2NlPEkubGVuZ3RoJiYhKCh3LT0yKTwwKTsrK2NlKUU9SS5jaGFyQ29kZUF0KGNlKSxEPUU+PjgsVj1FJTI1NixaLnB1c2goViksWi5wdXNoKEQpO3JldHVybiBafWZ1bmN0aW9uIG5lKEkpe3JldHVybiBlLnRvQnl0ZUFycmF5KFkoSSkpfWZ1bmN0aW9uIHVlKEksdyxFLEQpe2xldCBWO2ZvcihWPTA7VjxEJiYhKFYrRT49dy5sZW5ndGh8fFY+PUkubGVuZ3RoKTsrK1Ypd1tWK0VdPUlbVl07cmV0dXJuIFZ9ZnVuY3Rpb24gZGUoSSx3KXtyZXR1cm4gSSBpbnN0YW5jZW9mIHd8fEkhPW51bGwmJkkuY29uc3RydWN0b3IhPW51bGwmJkkuY29uc3RydWN0b3IubmFtZSE9bnVsbCYmSS5jb25zdHJ1Y3Rvci5uYW1lPT09dy5uYW1lfWZ1bmN0aW9uIHBlKEkpe3JldHVybiBJIT09SX1jb25zdCBiZT1mdW5jdGlvbigpe2NvbnN0IEk9IjAxMjM0NTY3ODlhYmNkZWYiLHc9bmV3IEFycmF5KDI1Nik7Zm9yKGxldCBFPTA7RTwxNjsrK0Upe2NvbnN0IEQ9RSoxNjtmb3IobGV0IFY9MDtWPDE2OysrVil3W0QrVl09SVtFXStJW1ZdfXJldHVybiB3fSgpO2Z1bmN0aW9uIHdlKEkpe3JldHVybiB0eXBlb2YgQmlnSW50PiJ1Ij9PZTpJfWZ1bmN0aW9uIE9lKCl7dGhyb3cgbmV3IEVycm9yKCJCaWdJbnQgbm90IHN1cHBvcnRlZCIpfX0pKGJ1ZmZlciQxKTtsZXQgbGF6eT1udWxsO3ZhciB0ZXh0RW5kZWMkMT1mdW5jdGlvbigpe3JldHVybiBsYXp5PT09bnVsbCYmKGxhenk9e3RleHRFbmNvZGVyOm5ldyBUZXh0RW5jb2Rlcix0ZXh0RGVjb2RlcjpuZXcgVGV4dERlY29kZXJ9KSxsYXp5fSxmb3JtYXRzJDI9e30sZW5jb2Rpbmc9e307Y29uc3QgTW9kdWxlRXJyb3IkOD1tb2R1bGVFcnJvcixmb3JtYXRzJDE9bmV3IFNldChbImJ1ZmZlciIsInZpZXciLCJ1dGY4Il0pO2xldCBFbmNvZGluZyQyPWNsYXNze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuZW5jb2RlPWUuZW5jb2RlfHx0aGlzLmVuY29kZSx0aGlzLmRlY29kZT1lLmRlY29kZXx8dGhpcy5kZWNvZGUsdGhpcy5uYW1lPWUubmFtZXx8dGhpcy5uYW1lLHRoaXMuZm9ybWF0PWUuZm9ybWF0fHx0aGlzLmZvcm1hdCx0eXBlb2YgdGhpcy5lbmNvZGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlICdlbmNvZGUnIHByb3BlcnR5IG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKHR5cGVvZiB0aGlzLmRlY29kZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgJ2RlY29kZScgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYodGhpcy5lbmNvZGU9dGhpcy5lbmNvZGUuYmluZCh0aGlzKSx0aGlzLmRlY29kZT10aGlzLmRlY29kZS5iaW5kKHRoaXMpLHR5cGVvZiB0aGlzLm5hbWUhPSJzdHJpbmcifHx0aGlzLm5hbWU9PT0iIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgJ25hbWUnIHByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmciKTtpZih0eXBlb2YgdGhpcy5mb3JtYXQhPSJzdHJpbmcifHwhZm9ybWF0cyQxLmhhcyh0aGlzLmZvcm1hdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlICdmb3JtYXQnIHByb3BlcnR5IG11c3QgYmUgb25lIG9mICdidWZmZXInLCAndmlldycsICd1dGY4JyIpO2UuY3JlYXRlVmlld1RyYW5zY29kZXImJih0aGlzLmNyZWF0ZVZpZXdUcmFuc2NvZGVyPWUuY3JlYXRlVmlld1RyYW5zY29kZXIpLGUuY3JlYXRlQnVmZmVyVHJhbnNjb2RlciYmKHRoaXMuY3JlYXRlQnVmZmVyVHJhbnNjb2Rlcj1lLmNyZWF0ZUJ1ZmZlclRyYW5zY29kZXIpLGUuY3JlYXRlVVRGOFRyYW5zY29kZXImJih0aGlzLmNyZWF0ZVVURjhUcmFuc2NvZGVyPWUuY3JlYXRlVVRGOFRyYW5zY29kZXIpfWdldCBjb21tb25OYW1lKCl7cmV0dXJuIHRoaXMubmFtZS5zcGxpdCgiKyIpWzBdfWNyZWF0ZUJ1ZmZlclRyYW5zY29kZXIoKXt0aHJvdyBuZXcgTW9kdWxlRXJyb3IkOChgRW5jb2RpbmcgJyR7dGhpcy5uYW1lfScgY2Fubm90IGJlIHRyYW5zY29kZWQgdG8gJ2J1ZmZlcidgLHtjb2RlOiJMRVZFTF9FTkNPRElOR19OT1RfU1VQUE9SVEVEIn0pfWNyZWF0ZVZpZXdUcmFuc2NvZGVyKCl7dGhyb3cgbmV3IE1vZHVsZUVycm9yJDgoYEVuY29kaW5nICcke3RoaXMubmFtZX0nIGNhbm5vdCBiZSB0cmFuc2NvZGVkIHRvICd2aWV3J2Ase2NvZGU6IkxFVkVMX0VOQ09ESU5HX05PVF9TVVBQT1JURUQifSl9Y3JlYXRlVVRGOFRyYW5zY29kZXIoKXt0aHJvdyBuZXcgTW9kdWxlRXJyb3IkOChgRW5jb2RpbmcgJyR7dGhpcy5uYW1lfScgY2Fubm90IGJlIHRyYW5zY29kZWQgdG8gJ3V0ZjgnYCx7Y29kZToiTEVWRUxfRU5DT0RJTkdfTk9UX1NVUFBPUlRFRCJ9KX19O2VuY29kaW5nLkVuY29kaW5nPUVuY29kaW5nJDI7Y29uc3R7QnVmZmVyOkJ1ZmZlciQxfT1idWZmZXIkMXx8e30se0VuY29kaW5nOkVuY29kaW5nJDF9PWVuY29kaW5nLHRleHRFbmRlYz10ZXh0RW5kZWMkMTtsZXQgQnVmZmVyRm9ybWF0JDI9Y2xhc3MgZXh0ZW5kcyBFbmNvZGluZyQxe2NvbnN0cnVjdG9yKGUpe3N1cGVyKHsuLi5lLGZvcm1hdDoiYnVmZmVyIn0pfWNyZWF0ZVZpZXdUcmFuc2NvZGVyKCl7cmV0dXJuIG5ldyBWaWV3Rm9ybWF0JDIoe2VuY29kZTp0aGlzLmVuY29kZSxkZWNvZGU6ZT0+dGhpcy5kZWNvZGUoQnVmZmVyJDEuZnJvbShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSksbmFtZTpgJHt0aGlzLm5hbWV9K3ZpZXdgfSl9Y3JlYXRlQnVmZmVyVHJhbnNjb2Rlcigpe3JldHVybiB0aGlzfX0sVmlld0Zvcm1hdCQyPWNsYXNzIGV4dGVuZHMgRW5jb2RpbmckMXtjb25zdHJ1Y3RvcihlKXtzdXBlcih7Li4uZSxmb3JtYXQ6InZpZXcifSl9Y3JlYXRlQnVmZmVyVHJhbnNjb2Rlcigpe3JldHVybiBuZXcgQnVmZmVyRm9ybWF0JDIoe2VuY29kZTplPT57Y29uc3Qgbj10aGlzLmVuY29kZShlKTtyZXR1cm4gQnVmZmVyJDEuZnJvbShuLmJ1ZmZlcixuLmJ5dGVPZmZzZXQsbi5ieXRlTGVuZ3RoKX0sZGVjb2RlOnRoaXMuZGVjb2RlLG5hbWU6YCR7dGhpcy5uYW1lfStidWZmZXJgfSl9Y3JlYXRlVmlld1RyYW5zY29kZXIoKXtyZXR1cm4gdGhpc319LFVURjhGb3JtYXQkMj1jbGFzcyBleHRlbmRzIEVuY29kaW5nJDF7Y29uc3RydWN0b3IoZSl7c3VwZXIoey4uLmUsZm9ybWF0OiJ1dGY4In0pfWNyZWF0ZUJ1ZmZlclRyYW5zY29kZXIoKXtyZXR1cm4gbmV3IEJ1ZmZlckZvcm1hdCQyKHtlbmNvZGU6ZT0+QnVmZmVyJDEuZnJvbSh0aGlzLmVuY29kZShlKSwidXRmOCIpLGRlY29kZTplPT50aGlzLmRlY29kZShlLnRvU3RyaW5nKCJ1dGY4IikpLG5hbWU6YCR7dGhpcy5uYW1lfStidWZmZXJgfSl9Y3JlYXRlVmlld1RyYW5zY29kZXIoKXtjb25zdHt0ZXh0RW5jb2RlcjplLHRleHREZWNvZGVyOm59PXRleHRFbmRlYygpO3JldHVybiBuZXcgVmlld0Zvcm1hdCQyKHtlbmNvZGU6bz0+ZS5lbmNvZGUodGhpcy5lbmNvZGUobykpLGRlY29kZTpvPT50aGlzLmRlY29kZShuLmRlY29kZShvKSksbmFtZTpgJHt0aGlzLm5hbWV9K3ZpZXdgfSl9Y3JlYXRlVVRGOFRyYW5zY29kZXIoKXtyZXR1cm4gdGhpc319O2Zvcm1hdHMkMi5CdWZmZXJGb3JtYXQ9QnVmZmVyRm9ybWF0JDI7Zm9ybWF0cyQyLlZpZXdGb3JtYXQ9Vmlld0Zvcm1hdCQyO2Zvcm1hdHMkMi5VVEY4Rm9ybWF0PVVURjhGb3JtYXQkMjtjb25zdHtCdWZmZXJ9PWJ1ZmZlciQxfHx7QnVmZmVyOntpc0J1ZmZlcjooKT0+ITF9fSx7dGV4dEVuY29kZXIsdGV4dERlY29kZXJ9PXRleHRFbmRlYyQxKCkse0J1ZmZlckZvcm1hdDpCdWZmZXJGb3JtYXQkMSxWaWV3Rm9ybWF0OlZpZXdGb3JtYXQkMSxVVEY4Rm9ybWF0OlVURjhGb3JtYXQkMX09Zm9ybWF0cyQyLGlkZW50aXR5JDQ9dD0+dDtlbmNvZGluZ3MkMS51dGY4PW5ldyBVVEY4Rm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHQpP3QudG9TdHJpbmcoInV0ZjgiKTpBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dGV4dERlY29kZXIuZGVjb2RlKHQpOlN0cmluZyh0KX0sZGVjb2RlOmlkZW50aXR5JDQsbmFtZToidXRmOCIsY3JlYXRlVmlld1RyYW5zY29kZXIoKXtyZXR1cm4gbmV3IFZpZXdGb3JtYXQkMSh7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDp0ZXh0RW5jb2Rlci5lbmNvZGUodCl9LGRlY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGV4dERlY29kZXIuZGVjb2RlKHQpfSxuYW1lOmAke3RoaXMubmFtZX0rdmlld2B9KX0sY3JlYXRlQnVmZmVyVHJhbnNjb2Rlcigpe3JldHVybiBuZXcgQnVmZmVyRm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHQpP3Q6QXJyYXlCdWZmZXIuaXNWaWV3KHQpP0J1ZmZlci5mcm9tKHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpOkJ1ZmZlci5mcm9tKFN0cmluZyh0KSwidXRmOCIpfSxkZWNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoInV0ZjgiKX0sbmFtZTpgJHt0aGlzLm5hbWV9K2J1ZmZlcmB9KX19KTtlbmNvZGluZ3MkMS5qc29uPW5ldyBVVEY4Rm9ybWF0JDEoe2VuY29kZTpKU09OLnN0cmluZ2lmeSxkZWNvZGU6SlNPTi5wYXJzZSxuYW1lOiJqc29uIn0pO2VuY29kaW5ncyQxLmJ1ZmZlcj1uZXcgQnVmZmVyRm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHQpP3Q6QXJyYXlCdWZmZXIuaXNWaWV3KHQpP0J1ZmZlci5mcm9tKHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpOkJ1ZmZlci5mcm9tKFN0cmluZyh0KSwidXRmOCIpfSxkZWNvZGU6aWRlbnRpdHkkNCxuYW1lOiJidWZmZXIiLGNyZWF0ZVZpZXdUcmFuc2NvZGVyKCl7cmV0dXJuIG5ldyBWaWV3Rm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXlCdWZmZXIuaXNWaWV3KHQpP3Q6QnVmZmVyLmZyb20oU3RyaW5nKHQpLCJ1dGY4Iil9LGRlY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9LG5hbWU6YCR7dGhpcy5uYW1lfSt2aWV3YH0pfX0pO2VuY29kaW5ncyQxLnZpZXc9bmV3IFZpZXdGb3JtYXQkMSh7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDp0ZXh0RW5jb2Rlci5lbmNvZGUodCl9LGRlY29kZTppZGVudGl0eSQ0LG5hbWU6InZpZXciLGNyZWF0ZUJ1ZmZlclRyYW5zY29kZXIoKXtyZXR1cm4gbmV3IEJ1ZmZlckZvcm1hdCQxKHtlbmNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih0KT90OkFycmF5QnVmZmVyLmlzVmlldyh0KT9CdWZmZXIuZnJvbSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKTpCdWZmZXIuZnJvbShTdHJpbmcodCksInV0ZjgiKX0sZGVjb2RlOmlkZW50aXR5JDQsbmFtZTpgJHt0aGlzLm5hbWV9K2J1ZmZlcmB9KX19KTtlbmNvZGluZ3MkMS5oZXg9bmV3IEJ1ZmZlckZvcm1hdCQxKHtlbmNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih0KT90OkJ1ZmZlci5mcm9tKFN0cmluZyh0KSwiaGV4Iil9LGRlY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygiaGV4Iil9LG5hbWU6ImhleCJ9KTtlbmNvZGluZ3MkMS5iYXNlNjQ9bmV3IEJ1ZmZlckZvcm1hdCQxKHtlbmNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih0KT90OkJ1ZmZlci5mcm9tKFN0cmluZyh0KSwiYmFzZTY0Iil9LGRlY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygiYmFzZTY0Iil9LG5hbWU6ImJhc2U2NCJ9KTtjb25zdCBNb2R1bGVFcnJvciQ3PW1vZHVsZUVycm9yLGVuY29kaW5ncz1lbmNvZGluZ3MkMSx7RW5jb2Rpbmd9PWVuY29kaW5nLHtCdWZmZXJGb3JtYXQsVmlld0Zvcm1hdCxVVEY4Rm9ybWF0fT1mb3JtYXRzJDIsa0Zvcm1hdHM9U3ltYm9sKCJmb3JtYXRzIiksa0VuY29kaW5ncz1TeW1ib2woImVuY29kaW5ncyIpLHZhbGlkRm9ybWF0cz1uZXcgU2V0KFsiYnVmZmVyIiwidmlldyIsInV0ZjgiXSk7bGV0IFRyYW5zY29kZXIkMT1jbGFzc3tjb25zdHJ1Y3RvcihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtpZighZS5ldmVyeShuPT52YWxpZEZvcm1hdHMuaGFzKG4pKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGb3JtYXQgbXVzdCBiZSBvbmUgb2YgJ2J1ZmZlcicsICd2aWV3JywgJ3V0ZjgnIil9ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgJ2Zvcm1hdHMnIG11c3QgYmUgYW4gYXJyYXkiKTt0aGlzW2tFbmNvZGluZ3NdPW5ldyBNYXAsdGhpc1trRm9ybWF0c109bmV3IFNldChlKTtmb3IoY29uc3QgbiBpbiBlbmNvZGluZ3MpdHJ5e3RoaXMuZW5jb2Rpbmcobil9Y2F0Y2gobyl7aWYoby5jb2RlIT09IkxFVkVMX0VOQ09ESU5HX05PVF9TVVBQT1JURUQiKXRocm93IG99fWVuY29kaW5ncygpe3JldHVybiBBcnJheS5mcm9tKG5ldyBTZXQodGhpc1trRW5jb2RpbmdzXS52YWx1ZXMoKSkpfWVuY29kaW5nKGUpe2xldCBuPXRoaXNba0VuY29kaW5nc10uZ2V0KGUpO2lmKG49PT12b2lkIDApe2lmKHR5cGVvZiBlPT0ic3RyaW5nIiYmZSE9PSIiKXtpZihuPWxvb2t1cFtlXSwhbil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNyhgRW5jb2RpbmcgJyR7ZX0nIGlzIG5vdCBmb3VuZGAse2NvZGU6IkxFVkVMX0VOQ09ESU5HX05PVF9GT1VORCJ9KX1lbHNle2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgJ2VuY29kaW5nJyBtdXN0IGJlIGEgc3RyaW5nIG9yIG9iamVjdCIpO249ZnJvbShlKX1jb25zdHtuYW1lOm8sZm9ybWF0OmR9PW47aWYoIXRoaXNba0Zvcm1hdHNdLmhhcyhkKSlpZih0aGlzW2tGb3JtYXRzXS5oYXMoInZpZXciKSluPW4uY3JlYXRlVmlld1RyYW5zY29kZXIoKTtlbHNlIGlmKHRoaXNba0Zvcm1hdHNdLmhhcygiYnVmZmVyIikpbj1uLmNyZWF0ZUJ1ZmZlclRyYW5zY29kZXIoKTtlbHNlIGlmKHRoaXNba0Zvcm1hdHNdLmhhcygidXRmOCIpKW49bi5jcmVhdGVVVEY4VHJhbnNjb2RlcigpO2Vsc2UgdGhyb3cgbmV3IE1vZHVsZUVycm9yJDcoYEVuY29kaW5nICcke299JyBjYW5ub3QgYmUgdHJhbnNjb2RlZGAse2NvZGU6IkxFVkVMX0VOQ09ESU5HX05PVF9TVVBQT1JURUQifSk7Zm9yKGNvbnN0IGggb2ZbZSxvLG4ubmFtZSxuLmNvbW1vbk5hbWVdKXRoaXNba0VuY29kaW5nc10uc2V0KGgsbil9cmV0dXJuIG59fTtsZXZlbFRyYW5zY29kZXIuVHJhbnNjb2Rlcj1UcmFuc2NvZGVyJDE7ZnVuY3Rpb24gZnJvbSh0KXtpZih0IGluc3RhbmNlb2YgRW5jb2RpbmcpcmV0dXJuIHQ7Y29uc3QgZT0idHlwZSJpbiB0JiZ0eXBlb2YgdC50eXBlPT0ic3RyaW5nIj90LnR5cGU6dm9pZCAwLG49dC5uYW1lfHxlfHxgYW5vbnltb3VzLSR7YW5vbnltb3VzQ291bnQrK31gO3N3aXRjaChkZXRlY3RGb3JtYXQodCkpe2Nhc2UidmlldyI6cmV0dXJuIG5ldyBWaWV3Rm9ybWF0KHsuLi50LG5hbWU6bn0pO2Nhc2UidXRmOCI6cmV0dXJuIG5ldyBVVEY4Rm9ybWF0KHsuLi50LG5hbWU6bn0pO2Nhc2UiYnVmZmVyIjpyZXR1cm4gbmV3IEJ1ZmZlckZvcm1hdCh7Li4udCxuYW1lOm59KTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoIkZvcm1hdCBtdXN0IGJlIG9uZSBvZiAnYnVmZmVyJywgJ3ZpZXcnLCAndXRmOCciKX19ZnVuY3Rpb24gZGV0ZWN0Rm9ybWF0KHQpe3JldHVybiJmb3JtYXQiaW4gdCYmdC5mb3JtYXQhPT12b2lkIDA/dC5mb3JtYXQ6ImJ1ZmZlciJpbiB0JiZ0eXBlb2YgdC5idWZmZXI9PSJib29sZWFuIj90LmJ1ZmZlcj8iYnVmZmVyIjoidXRmOCI6ImNvZGUiaW4gdCYmTnVtYmVyLmlzSW50ZWdlcih0LmNvZGUpPyJ2aWV3IjoiYnVmZmVyIn1jb25zdCBhbGlhc2VzPXtiaW5hcnk6ZW5jb2RpbmdzLmJ1ZmZlciwidXRmLTgiOmVuY29kaW5ncy51dGY4fSxsb29rdXA9ey4uLmVuY29kaW5ncywuLi5hbGlhc2VzfTtsZXQgYW5vbnltb3VzQ291bnQ9MDt2YXIgZXZlbnRzRXhwb3J0cz17fSxldmVudHM9e2dldCBleHBvcnRzKCl7cmV0dXJuIGV2ZW50c0V4cG9ydHN9LHNldCBleHBvcnRzKHQpe2V2ZW50c0V4cG9ydHM9dH19LFI9dHlwZW9mIFJlZmxlY3Q9PSJvYmplY3QiP1JlZmxlY3Q6bnVsbCxSZWZsZWN0QXBwbHk9UiYmdHlwZW9mIFIuYXBwbHk9PSJmdW5jdGlvbiI/Ui5hcHBseTpmdW5jdGlvbihlLG4sbyl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsbixvKX0sUmVmbGVjdE93bktleXM7UiYmdHlwZW9mIFIub3duS2V5cz09ImZ1bmN0aW9uIj9SZWZsZWN0T3duS2V5cz1SLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9SZWZsZWN0T3duS2V5cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpfTpSZWZsZWN0T3duS2V5cz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSl9O2Z1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh0KXtjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih0KX12YXIgTnVtYmVySXNOYU49TnVtYmVyLmlzTmFOfHxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PWV9O2Z1bmN0aW9uIEV2ZW50RW1pdHRlciQxKCl7RXZlbnRFbWl0dGVyJDEuaW5pdC5jYWxsKHRoaXMpfWV2ZW50cy5leHBvcnRzPUV2ZW50RW1pdHRlciQxO2V2ZW50c0V4cG9ydHMub25jZT1vbmNlO0V2ZW50RW1pdHRlciQxLkV2ZW50RW1pdHRlcj1FdmVudEVtaXR0ZXIkMTtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDA7RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLl9ldmVudHNDb3VudD0wO0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgZGVmYXVsdE1heExpc3RlbmVycz0xMDtmdW5jdGlvbiBjaGVja0xpc3RlbmVyKHQpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAibGlzdGVuZXIiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyJDEsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzfSxzZXQ6ZnVuY3Rpb24odCl7aWYodHlwZW9mIHQhPSJudW1iZXIifHx0PDB8fE51bWJlcklzTmFOKHQpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgImRlZmF1bHRNYXhMaXN0ZW5lcnMiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrdCsiLiIpO2RlZmF1bHRNYXhMaXN0ZW5lcnM9dH19KTtFdmVudEVtaXR0ZXIkMS5pbml0PWZ1bmN0aW9uKCl7KHRoaXMuX2V2ZW50cz09PXZvaWQgMHx8dGhpcy5fZXZlbnRzPT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpJiYodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfTtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlIT0ibnVtYmVyInx8ZTwwfHxOdW1iZXJJc05hTihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mICJuIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrIi4iKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc307ZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0KXtyZXR1cm4gdC5fbWF4TGlzdGVuZXJzPT09dm9pZCAwP0V2ZW50RW1pdHRlciQxLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dC5fbWF4TGlzdGVuZXJzfUV2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKX07RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKW4ucHVzaChhcmd1bWVudHNbb10pO3ZhciBkPWU9PT0iZXJyb3IiLGg9dGhpcy5fZXZlbnRzO2lmKGghPT12b2lkIDApZD1kJiZoLmVycm9yPT09dm9pZCAwO2Vsc2UgaWYoIWQpcmV0dXJuITE7aWYoZCl7dmFyIGw7aWYobi5sZW5ndGg+MCYmKGw9blswXSksbCBpbnN0YW5jZW9mIEVycm9yKXRocm93IGw7dmFyIHU9bmV3IEVycm9yKCJVbmhhbmRsZWQgZXJyb3IuIisobD8iICgiK2wubWVzc2FnZSsiKSI6IiIpKTt0aHJvdyB1LmNvbnRleHQ9bCx1fXZhciBwPWhbZV07aWYocD09PXZvaWQgMClyZXR1cm4hMTtpZih0eXBlb2YgcD09ImZ1bmN0aW9uIilSZWZsZWN0QXBwbHkocCx0aGlzLG4pO2Vsc2UgZm9yKHZhciBnPXAubGVuZ3RoLHY9YXJyYXlDbG9uZShwLGcpLG89MDtvPGc7KytvKVJlZmxlY3RBcHBseSh2W29dLHRoaXMsbik7cmV0dXJuITB9O2Z1bmN0aW9uIF9hZGRMaXN0ZW5lcih0LGUsbixvKXt2YXIgZCxoLGw7aWYoY2hlY2tMaXN0ZW5lcihuKSxoPXQuX2V2ZW50cyxoPT09dm9pZCAwPyhoPXQuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHQuX2V2ZW50c0NvdW50PTApOihoLm5ld0xpc3RlbmVyIT09dm9pZCAwJiYodC5lbWl0KCJuZXdMaXN0ZW5lciIsZSxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksaD10Ll9ldmVudHMpLGw9aFtlXSksbD09PXZvaWQgMClsPWhbZV09biwrK3QuX2V2ZW50c0NvdW50O2Vsc2UgaWYodHlwZW9mIGw9PSJmdW5jdGlvbiI/bD1oW2VdPW8/W24sbF06W2wsbl06bz9sLnVuc2hpZnQobik6bC5wdXNoKG4pLGQ9X2dldE1heExpc3RlbmVycyh0KSxkPjAmJmwubGVuZ3RoPmQmJiFsLndhcm5lZCl7bC53YXJuZWQ9ITA7dmFyIHU9bmV3IEVycm9yKCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICIrbC5sZW5ndGgrIiAiK1N0cmluZyhlKSsiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQiKTt1Lm5hbWU9Ik1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyIsdS5lbWl0dGVyPXQsdS50eXBlPWUsdS5jb3VudD1sLmxlbmd0aCxQcm9jZXNzRW1pdFdhcm5pbmcodSl9cmV0dXJuIHR9RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLGUsbiwhMSl9O0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUuYWRkTGlzdGVuZXI7RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyxlLG4sITApfTtmdW5jdGlvbiBvbmNlV3JhcHBlcigpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gX29uY2VXcmFwKHQsZSxuKXt2YXIgbz17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6dCx0eXBlOmUsbGlzdGVuZXI6bn0sZD1vbmNlV3JhcHBlci5iaW5kKG8pO3JldHVybiBkLmxpc3RlbmVyPW4sby53cmFwRm49ZCxkfUV2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGNoZWNrTGlzdGVuZXIobiksdGhpcy5vbihlLF9vbmNlV3JhcCh0aGlzLGUsbikpLHRoaXN9O0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGNoZWNrTGlzdGVuZXIobiksdGhpcy5wcmVwZW5kTGlzdGVuZXIoZSxfb25jZVdyYXAodGhpcyxlLG4pKSx0aGlzfTtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSxuKXt2YXIgbyxkLGgsbCx1O2lmKGNoZWNrTGlzdGVuZXIobiksZD10aGlzLl9ldmVudHMsZD09PXZvaWQgMClyZXR1cm4gdGhpcztpZihvPWRbZV0sbz09PXZvaWQgMClyZXR1cm4gdGhpcztpZihvPT09bnx8by5saXN0ZW5lcj09PW4pLS10aGlzLl9ldmVudHNDb3VudD09PTA/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBkW2VdLGQucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsby5saXN0ZW5lcnx8bikpO2Vsc2UgaWYodHlwZW9mIG8hPSJmdW5jdGlvbiIpe2ZvcihoPS0xLGw9by5sZW5ndGgtMTtsPj0wO2wtLSlpZihvW2xdPT09bnx8b1tsXS5saXN0ZW5lcj09PW4pe3U9b1tsXS5saXN0ZW5lcixoPWw7YnJlYWt9aWYoaDwwKXJldHVybiB0aGlzO2g9PT0wP28uc2hpZnQoKTpzcGxpY2VPbmUobyxoKSxvLmxlbmd0aD09PTEmJihkW2VdPW9bMF0pLGQucmVtb3ZlTGlzdGVuZXIhPT12b2lkIDAmJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsdXx8bil9cmV0dXJuIHRoaXN9O0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5vZmY9RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIG4sbyxkO2lmKG89dGhpcy5fZXZlbnRzLG89PT12b2lkIDApcmV0dXJuIHRoaXM7aWYoby5yZW1vdmVMaXN0ZW5lcj09PXZvaWQgMClyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTA/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOm9bZV0hPT12b2lkIDAmJigtLXRoaXMuX2V2ZW50c0NvdW50PT09MD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgb1tlXSksdGhpcztpZihhcmd1bWVudHMubGVuZ3RoPT09MCl7dmFyIGg9T2JqZWN0LmtleXMobyksbDtmb3IoZD0wO2Q8aC5sZW5ndGg7KytkKWw9aFtkXSxsIT09InJlbW92ZUxpc3RlbmVyIiYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMobCk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihuPW9bZV0sdHlwZW9mIG49PSJmdW5jdGlvbiIpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG4pO2Vsc2UgaWYobiE9PXZvaWQgMClmb3IoZD1uLmxlbmd0aC0xO2Q+PTA7ZC0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuW2RdKTtyZXR1cm4gdGhpc307ZnVuY3Rpb24gX2xpc3RlbmVycyh0LGUsbil7dmFyIG89dC5fZXZlbnRzO2lmKG89PT12b2lkIDApcmV0dXJuW107dmFyIGQ9b1tlXTtyZXR1cm4gZD09PXZvaWQgMD9bXTp0eXBlb2YgZD09ImZ1bmN0aW9uIj9uP1tkLmxpc3RlbmVyfHxkXTpbZF06bj91bndyYXBMaXN0ZW5lcnMoZCk6YXJyYXlDbG9uZShkLGQubGVuZ3RoKX1FdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBfbGlzdGVuZXJzKHRoaXMsZSwhMCl9O0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyxlLCExKX07RXZlbnRFbWl0dGVyJDEubGlzdGVuZXJDb3VudD1mdW5jdGlvbih0LGUpe3JldHVybiB0eXBlb2YgdC5saXN0ZW5lckNvdW50PT0iZnVuY3Rpb24iP3QubGlzdGVuZXJDb3VudChlKTpsaXN0ZW5lckNvdW50LmNhbGwodCxlKX07RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9bGlzdGVuZXJDb3VudDtmdW5jdGlvbiBsaXN0ZW5lckNvdW50KHQpe3ZhciBlPXRoaXMuX2V2ZW50cztpZihlIT09dm9pZCAwKXt2YXIgbj1lW3RdO2lmKHR5cGVvZiBuPT0iZnVuY3Rpb24iKXJldHVybiAxO2lmKG4hPT12b2lkIDApcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfUV2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/UmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKTpbXX07ZnVuY3Rpb24gYXJyYXlDbG9uZSh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkoZSksbz0wO288ZTsrK28pbltvXT10W29dO3JldHVybiBufWZ1bmN0aW9uIHNwbGljZU9uZSh0LGUpe2Zvcig7ZSsxPHQubGVuZ3RoO2UrKyl0W2VdPXRbZSsxXTt0LnBvcCgpfWZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyh0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQubGVuZ3RoKSxuPTA7bjxlLmxlbmd0aDsrK24pZVtuXT10W25dLmxpc3RlbmVyfHx0W25dO3JldHVybiBlfWZ1bmN0aW9uIG9uY2UodCxlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixvKXtmdW5jdGlvbiBkKGwpe3QucmVtb3ZlTGlzdGVuZXIoZSxoKSxvKGwpfWZ1bmN0aW9uIGgoKXt0eXBlb2YgdC5yZW1vdmVMaXN0ZW5lcj09ImZ1bmN0aW9uIiYmdC5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGQpLG4oW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX1ldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIodCxlLGgse29uY2U6ITB9KSxlIT09ImVycm9yIiYmYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIodCxkLHtvbmNlOiEwfSl9KX1mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcih0LGUsbil7dHlwZW9mIHQub249PSJmdW5jdGlvbiImJmV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcih0LCJlcnJvciIsZSxuKX1mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIodCxlLG4sbyl7aWYodHlwZW9mIHQub249PSJmdW5jdGlvbiIpby5vbmNlP3Qub25jZShlLG4pOnQub24oZSxuKTtlbHNlIGlmKHR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiIpdC5hZGRFdmVudExpc3RlbmVyKGUsZnVuY3Rpb24gZChoKXtvLm9uY2UmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGQpLG4oaCl9KTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAiZW1pdHRlciIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB0KX12YXIgY2F0ZXJpbmc9e30sbmV4dFRpY2tCcm93c2VyJDE9dHlwZW9mIHF1ZXVlTWljcm90YXNrPT0iZnVuY3Rpb24iP3F1ZXVlTWljcm90YXNrOnQ9PlByb21pc2UucmVzb2x2ZSgpLnRoZW4odCksbmV4dFRpY2s9bmV4dFRpY2tCcm93c2VyJDE7Y2F0ZXJpbmcuZnJvbUNhbGxiYWNrPWZ1bmN0aW9uKHQsZSl7aWYodD09PXZvaWQgMCl7dmFyIG49bmV3IFByb21pc2UoZnVuY3Rpb24obyxkKXt0PWZ1bmN0aW9uKGgsbCl7aD9kKGgpOm8obCl9fSk7dFtlIT09dm9pZCAwP2U6InByb21pc2UiXT1ufWVsc2UgaWYodHlwZW9mIHQhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uIik7cmV0dXJuIHR9O2NhdGVyaW5nLmZyb21Qcm9taXNlPWZ1bmN0aW9uKHQsZSl7aWYoZT09PXZvaWQgMClyZXR1cm4gdDt0LnRoZW4oZnVuY3Rpb24obil7bmV4dFRpY2soKCk9PmUobnVsbCxuKSl9KS5jYXRjaChmdW5jdGlvbihuKXtuZXh0VGljaygoKT0+ZShuKSl9KX07dmFyIGFic3RyYWN0SXRlcmF0b3I9e30sY29tbW9uJDY9e307Y29tbW9uJDYuZ2V0Q2FsbGJhY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHlwZW9mIHQ9PSJmdW5jdGlvbiI/dDplfTtjb21tb24kNi5nZXRPcHRpb25zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR5cGVvZiB0PT0ib2JqZWN0IiYmdCE9PW51bGw/dDplIT09dm9pZCAwP2U6e319O2NvbnN0e2Zyb21DYWxsYmFjazpmcm9tQ2FsbGJhY2skMn09Y2F0ZXJpbmcsTW9kdWxlRXJyb3IkNj1tb2R1bGVFcnJvcix7Z2V0T3B0aW9uczpnZXRPcHRpb25zJDIsZ2V0Q2FsbGJhY2s6Z2V0Q2FsbGJhY2skMn09Y29tbW9uJDYsa1Byb21pc2UkMj1TeW1ib2woInByb21pc2UiKSxrQ2FsbGJhY2skMT1TeW1ib2woImNhbGxiYWNrIiksa1dvcmtpbmc9U3ltYm9sKCJ3b3JraW5nIiksa0hhbmRsZU9uZSQxPVN5bWJvbCgiaGFuZGxlT25lIiksa0hhbmRsZU1hbnkkMT1TeW1ib2woImhhbmRsZU1hbnkiKSxrQXV0b0Nsb3NlPVN5bWJvbCgiYXV0b0Nsb3NlIiksa0ZpbmlzaFdvcms9U3ltYm9sKCJmaW5pc2hXb3JrIiksa1JldHVybk1hbnk9U3ltYm9sKCJyZXR1cm5NYW55Iiksa0Nsb3Npbmc9U3ltYm9sKCJjbG9zaW5nIiksa0hhbmRsZUNsb3NlPVN5bWJvbCgiaGFuZGxlQ2xvc2UiKSxrQ2xvc2VkPVN5bWJvbCgiY2xvc2VkIiksa0Nsb3NlQ2FsbGJhY2tzJDE9U3ltYm9sKCJjbG9zZUNhbGxiYWNrcyIpLGtLZXlFbmNvZGluZyQxPVN5bWJvbCgia2V5RW5jb2RpbmciKSxrVmFsdWVFbmNvZGluZyQxPVN5bWJvbCgidmFsdWVFbmNvZGluZyIpLGtBYm9ydE9uQ2xvc2U9U3ltYm9sKCJhYm9ydE9uQ2xvc2UiKSxrTGVnYWN5PVN5bWJvbCgibGVnYWN5Iiksa0tleXM9U3ltYm9sKCJrZXlzIiksa1ZhbHVlcz1TeW1ib2woInZhbHVlcyIpLGtMaW1pdD1TeW1ib2woImxpbWl0Iiksa0NvdW50PVN5bWJvbCgiY291bnQiKSxlbXB0eU9wdGlvbnM9T2JqZWN0LmZyZWV6ZSh7fSksbm9vcCQ0PSgpPT57fTtsZXQgd2FybmVkRW5kPSExO2NsYXNzIENvbW1vbkl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbixvKXtpZih0eXBlb2YgZSE9Im9iamVjdCJ8fGU9PT1udWxsKXtjb25zdCBkPWU9PT1udWxsPyJudWxsIjp0eXBlb2YgZTt0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBhYnN0cmFjdC1sZXZlbCBkYXRhYmFzZSwgcmVjZWl2ZWQgJHtkfWApfWlmKHR5cGVvZiBuIT0ib2JqZWN0Inx8bj09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIG9wdGlvbnMgb2JqZWN0Iik7dGhpc1trQ2xvc2VkXT0hMSx0aGlzW2tDbG9zZUNhbGxiYWNrcyQxXT1bXSx0aGlzW2tXb3JraW5nXT0hMSx0aGlzW2tDbG9zaW5nXT0hMSx0aGlzW2tBdXRvQ2xvc2VdPSExLHRoaXNba0NhbGxiYWNrJDFdPW51bGwsdGhpc1trSGFuZGxlT25lJDFdPXRoaXNba0hhbmRsZU9uZSQxXS5iaW5kKHRoaXMpLHRoaXNba0hhbmRsZU1hbnkkMV09dGhpc1trSGFuZGxlTWFueSQxXS5iaW5kKHRoaXMpLHRoaXNba0hhbmRsZUNsb3NlXT10aGlzW2tIYW5kbGVDbG9zZV0uYmluZCh0aGlzKSx0aGlzW2tLZXlFbmNvZGluZyQxXT1uW2tLZXlFbmNvZGluZyQxXSx0aGlzW2tWYWx1ZUVuY29kaW5nJDFdPW5ba1ZhbHVlRW5jb2RpbmckMV0sdGhpc1trTGVnYWN5XT1vLHRoaXNba0xpbWl0XT1OdW1iZXIuaXNJbnRlZ2VyKG4ubGltaXQpJiZuLmxpbWl0Pj0wP24ubGltaXQ6MS8wLHRoaXNba0NvdW50XT0wLHRoaXNba0Fib3J0T25DbG9zZV09ISFuLmFib3J0T25DbG9zZSx0aGlzLmRiPWUsdGhpcy5kYi5hdHRhY2hSZXNvdXJjZSh0aGlzKSx0aGlzLm5leHRUaWNrPWUubmV4dFRpY2t9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXNba0NvdW50XX1nZXQgbGltaXQoKXtyZXR1cm4gdGhpc1trTGltaXRdfW5leHQoZSl7bGV0IG47aWYoZT09PXZvaWQgMCluPW5ldyBQcm9taXNlKChvLGQpPT57ZT0oaCxsLHUpPT57aD9kKGgpOnRoaXNba0xlZ2FjeV0/bD09PXZvaWQgMCYmdT09PXZvaWQgMD9vKCk6byhbbCx1XSk6byhsKX19KTtlbHNlIGlmKHR5cGVvZiBlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbiIpO3JldHVybiB0aGlzW2tDbG9zaW5nXT90aGlzLm5leHRUaWNrKGUsbmV3IE1vZHVsZUVycm9yJDYoIkl0ZXJhdG9yIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCBuZXh0KCkgYWZ0ZXIgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0lURVJBVE9SX05PVF9PUEVOIn0pKTp0aGlzW2tXb3JraW5nXT90aGlzLm5leHRUaWNrKGUsbmV3IE1vZHVsZUVycm9yJDYoIkl0ZXJhdG9yIGlzIGJ1c3k6IGNhbm5vdCBjYWxsIG5leHQoKSB1bnRpbCBwcmV2aW91cyBjYWxsIGhhcyBjb21wbGV0ZWQiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9CVVNZIn0pKToodGhpc1trV29ya2luZ109ITAsdGhpc1trQ2FsbGJhY2skMV09ZSx0aGlzW2tDb3VudF0+PXRoaXNba0xpbWl0XT90aGlzLm5leHRUaWNrKHRoaXNba0hhbmRsZU9uZSQxXSxudWxsKTp0aGlzLl9uZXh0KHRoaXNba0hhbmRsZU9uZSQxXSkpLG59X25leHQoZSl7dGhpcy5uZXh0VGljayhlKX1uZXh0dihlLG4sbyl7cmV0dXJuIG89Z2V0Q2FsbGJhY2skMihuLG8pLG89ZnJvbUNhbGxiYWNrJDIobyxrUHJvbWlzZSQyKSxuPWdldE9wdGlvbnMkMihuLGVtcHR5T3B0aW9ucyksTnVtYmVyLmlzSW50ZWdlcihlKT8odGhpc1trQ2xvc2luZ10/dGhpcy5uZXh0VGljayhvLG5ldyBNb2R1bGVFcnJvciQ2KCJJdGVyYXRvciBpcyBub3Qgb3BlbjogY2Fubm90IGNhbGwgbmV4dHYoKSBhZnRlciBjbG9zZSgpIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfTk9UX09QRU4ifSkpOnRoaXNba1dvcmtpbmddP3RoaXMubmV4dFRpY2sobyxuZXcgTW9kdWxlRXJyb3IkNigiSXRlcmF0b3IgaXMgYnVzeTogY2Fubm90IGNhbGwgbmV4dHYoKSB1bnRpbCBwcmV2aW91cyBjYWxsIGhhcyBjb21wbGV0ZWQiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9CVVNZIn0pKTooZTwxJiYoZT0xKSx0aGlzW2tMaW1pdF08MS8wJiYoZT1NYXRoLm1pbihlLHRoaXNba0xpbWl0XS10aGlzW2tDb3VudF0pKSx0aGlzW2tXb3JraW5nXT0hMCx0aGlzW2tDYWxsYmFjayQxXT1vLGU8PTA/dGhpcy5uZXh0VGljayh0aGlzW2tIYW5kbGVNYW55JDFdLG51bGwsW10pOnRoaXMuX25leHR2KGUsbix0aGlzW2tIYW5kbGVNYW55JDFdKSksb1trUHJvbWlzZSQyXSk6KHRoaXMubmV4dFRpY2sobyxuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgJ3NpemUnIG11c3QgYmUgYW4gaW50ZWdlciIpKSxvW2tQcm9taXNlJDJdKX1fbmV4dHYoZSxuLG8pe2NvbnN0IGQ9W10saD0obCx1LHApPT57aWYobClyZXR1cm4gbyhsKTtpZih0aGlzW2tMZWdhY3ldP3U9PT12b2lkIDAmJnA9PT12b2lkIDA6dT09PXZvaWQgMClyZXR1cm4gbyhudWxsLGQpO2QucHVzaCh0aGlzW2tMZWdhY3ldP1t1LHBdOnUpLGQubGVuZ3RoPT09ZT9vKG51bGwsZCk6dGhpcy5fbmV4dChoKX07dGhpcy5fbmV4dChoKX1hbGwoZSxuKXtyZXR1cm4gbj1nZXRDYWxsYmFjayQyKGUsbiksbj1mcm9tQ2FsbGJhY2skMihuLGtQcm9taXNlJDIpLGU9Z2V0T3B0aW9ucyQyKGUsZW1wdHlPcHRpb25zKSx0aGlzW2tDbG9zaW5nXT90aGlzLm5leHRUaWNrKG4sbmV3IE1vZHVsZUVycm9yJDYoIkl0ZXJhdG9yIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCBhbGwoKSBhZnRlciBjbG9zZSgpIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfTk9UX09QRU4ifSkpOnRoaXNba1dvcmtpbmddP3RoaXMubmV4dFRpY2sobixuZXcgTW9kdWxlRXJyb3IkNigiSXRlcmF0b3IgaXMgYnVzeTogY2Fubm90IGNhbGwgYWxsKCkgdW50aWwgcHJldmlvdXMgY2FsbCBoYXMgY29tcGxldGVkIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfQlVTWSJ9KSk6KHRoaXNba1dvcmtpbmddPSEwLHRoaXNba0NhbGxiYWNrJDFdPW4sdGhpc1trQXV0b0Nsb3NlXT0hMCx0aGlzW2tDb3VudF0+PXRoaXNba0xpbWl0XT90aGlzLm5leHRUaWNrKHRoaXNba0hhbmRsZU1hbnkkMV0sbnVsbCxbXSk6dGhpcy5fYWxsKGUsdGhpc1trSGFuZGxlTWFueSQxXSkpLG5ba1Byb21pc2UkMl19X2FsbChlLG4pe2xldCBvPXRoaXNba0NvdW50XTtjb25zdCBkPVtdLGg9KCk9Pntjb25zdCB1PXRoaXNba0xpbWl0XTwxLzA/TWF0aC5taW4oMWUzLHRoaXNba0xpbWl0XS1vKToxZTM7dTw9MD90aGlzLm5leHRUaWNrKG4sbnVsbCxkKTp0aGlzLl9uZXh0dih1LGVtcHR5T3B0aW9ucyxsKX0sbD0odSxwKT0+e3U/bih1KTpwLmxlbmd0aD09PTA/bihudWxsLGQpOihkLnB1c2guYXBwbHkoZCxwKSxvKz1wLmxlbmd0aCxoKCkpfTtoKCl9W2tGaW5pc2hXb3JrXSgpe2NvbnN0IGU9dGhpc1trQ2FsbGJhY2skMV07cmV0dXJuIHRoaXNba0Fib3J0T25DbG9zZV0mJmU9PT1udWxsP25vb3AkNDoodGhpc1trV29ya2luZ109ITEsdGhpc1trQ2FsbGJhY2skMV09bnVsbCx0aGlzW2tDbG9zaW5nXSYmdGhpcy5fY2xvc2UodGhpc1trSGFuZGxlQ2xvc2VdKSxlKX1ba1JldHVybk1hbnldKGUsbixvKXt0aGlzW2tBdXRvQ2xvc2VdP3RoaXMuY2xvc2UoZS5iaW5kKG51bGwsbixvKSk6ZShuLG8pfXNlZWsoZSxuKXtpZihuPWdldE9wdGlvbnMkMihuLGVtcHR5T3B0aW9ucyksIXRoaXNba0Nsb3NpbmddKXtpZih0aGlzW2tXb3JraW5nXSl0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNigiSXRlcmF0b3IgaXMgYnVzeTogY2Fubm90IGNhbGwgc2VlaygpIHVudGlsIG5leHQoKSBoYXMgY29tcGxldGVkIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfQlVTWSJ9KTt7Y29uc3Qgbz10aGlzLmRiLmtleUVuY29kaW5nKG4ua2V5RW5jb2Rpbmd8fHRoaXNba0tleUVuY29kaW5nJDFdKSxkPW8uZm9ybWF0O24ua2V5RW5jb2RpbmchPT1kJiYobj17Li4ubixrZXlFbmNvZGluZzpkfSk7Y29uc3QgaD10aGlzLmRiLnByZWZpeEtleShvLmVuY29kZShlKSxkKTt0aGlzLl9zZWVrKGgsbil9fX1fc2VlayhlLG4pe3Rocm93IG5ldyBNb2R1bGVFcnJvciQ2KCJJdGVyYXRvciBkb2VzIG5vdCBzdXBwb3J0IHNlZWsoKSIse2NvZGU6IkxFVkVMX05PVF9TVVBQT1JURUQifSl9Y2xvc2UoZSl7cmV0dXJuIGU9ZnJvbUNhbGxiYWNrJDIoZSxrUHJvbWlzZSQyKSx0aGlzW2tDbG9zZWRdP3RoaXMubmV4dFRpY2soZSk6dGhpc1trQ2xvc2luZ10/dGhpc1trQ2xvc2VDYWxsYmFja3MkMV0ucHVzaChlKToodGhpc1trQ2xvc2luZ109ITAsdGhpc1trQ2xvc2VDYWxsYmFja3MkMV0ucHVzaChlKSx0aGlzW2tXb3JraW5nXT90aGlzW2tBYm9ydE9uQ2xvc2VdJiZ0aGlzW2tGaW5pc2hXb3JrXSgpKG5ldyBNb2R1bGVFcnJvciQ2KCJBYm9ydGVkIG9uIGl0ZXJhdG9yIGNsb3NlKCkiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9OT1RfT1BFTiJ9KSk6dGhpcy5fY2xvc2UodGhpc1trSGFuZGxlQ2xvc2VdKSksZVtrUHJvbWlzZSQyXX1fY2xvc2UoZSl7dGhpcy5uZXh0VGljayhlKX1ba0hhbmRsZUNsb3NlXSgpe3RoaXNba0Nsb3NlZF09ITAsdGhpcy5kYi5kZXRhY2hSZXNvdXJjZSh0aGlzKTtjb25zdCBlPXRoaXNba0Nsb3NlQ2FsbGJhY2tzJDFdO3RoaXNba0Nsb3NlQ2FsbGJhY2tzJDFdPVtdO2Zvcihjb25zdCBuIG9mIGUpbigpfWFzeW5jKltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKXt0cnl7bGV0IGU7Zm9yKDsoZT1hd2FpdCB0aGlzLm5leHQoKSkhPT12b2lkIDA7KXlpZWxkIGV9ZmluYWxseXt0aGlzW2tDbG9zZWRdfHxhd2FpdCB0aGlzLmNsb3NlKCl9fX1sZXQgQWJzdHJhY3RJdGVyYXRvciQzPWNsYXNzIGV4dGVuZHMgQ29tbW9uSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4sITApLHRoaXNba0tleXNdPW4ua2V5cyE9PSExLHRoaXNba1ZhbHVlc109bi52YWx1ZXMhPT0hMX1ba0hhbmRsZU9uZSQxXShlLG4sbyl7Y29uc3QgZD10aGlzW2tGaW5pc2hXb3JrXSgpO2lmKGUpcmV0dXJuIGQoZSk7dHJ5e249dGhpc1trS2V5c10mJm4hPT12b2lkIDA/dGhpc1trS2V5RW5jb2RpbmckMV0uZGVjb2RlKG4pOnZvaWQgMCxvPXRoaXNba1ZhbHVlc10mJm8hPT12b2lkIDA/dGhpc1trVmFsdWVFbmNvZGluZyQxXS5kZWNvZGUobyk6dm9pZCAwfWNhdGNoKGgpe3JldHVybiBkKG5ldyBJdGVyYXRvckRlY29kZUVycm9yKCJlbnRyeSIsaCkpfW49PT12b2lkIDAmJm89PT12b2lkIDB8fHRoaXNba0NvdW50XSsrLGQobnVsbCxuLG8pfVtrSGFuZGxlTWFueSQxXShlLG4pe2NvbnN0IG89dGhpc1trRmluaXNoV29ya10oKTtpZihlKXJldHVybiB0aGlzW2tSZXR1cm5NYW55XShvLGUpO3RyeXtmb3IoY29uc3QgZCBvZiBuKXtjb25zdCBoPWRbMF0sbD1kWzFdO2RbMF09dGhpc1trS2V5c10mJmghPT12b2lkIDA/dGhpc1trS2V5RW5jb2RpbmckMV0uZGVjb2RlKGgpOnZvaWQgMCxkWzFdPXRoaXNba1ZhbHVlc10mJmwhPT12b2lkIDA/dGhpc1trVmFsdWVFbmNvZGluZyQxXS5kZWNvZGUobCk6dm9pZCAwfX1jYXRjaChkKXtyZXR1cm4gdGhpc1trUmV0dXJuTWFueV0obyxuZXcgSXRlcmF0b3JEZWNvZGVFcnJvcigiZW50cmllcyIsZCkpfXRoaXNba0NvdW50XSs9bi5sZW5ndGgsdGhpc1trUmV0dXJuTWFueV0obyxudWxsLG4pfWVuZChlKXtyZXR1cm4hd2FybmVkRW5kJiZ0eXBlb2YgY29uc29sZTwidSImJih3YXJuZWRFbmQ9ITAsY29uc29sZS53YXJuKG5ldyBNb2R1bGVFcnJvciQ2KCJUaGUgaXRlcmF0b3IuZW5kKCkgbWV0aG9kIHdhcyByZW5hbWVkIHRvIGNsb3NlKCkgYW5kIGVuZCgpIGlzIGFuIGFsaWFzIHRoYXQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24iLHtjb2RlOiJMRVZFTF9MRUdBQ1kifSkpKSx0aGlzLmNsb3NlKGUpfX0sQWJzdHJhY3RLZXlJdGVyYXRvciQzPWNsYXNzIGV4dGVuZHMgQ29tbW9uSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4sITEpfVtrSGFuZGxlT25lJDFdKGUsbil7Y29uc3Qgbz10aGlzW2tGaW5pc2hXb3JrXSgpO2lmKGUpcmV0dXJuIG8oZSk7dHJ5e249biE9PXZvaWQgMD90aGlzW2tLZXlFbmNvZGluZyQxXS5kZWNvZGUobik6dm9pZCAwfWNhdGNoKGQpe3JldHVybiBvKG5ldyBJdGVyYXRvckRlY29kZUVycm9yKCJrZXkiLGQpKX1uIT09dm9pZCAwJiZ0aGlzW2tDb3VudF0rKyxvKG51bGwsbil9W2tIYW5kbGVNYW55JDFdKGUsbil7Y29uc3Qgbz10aGlzW2tGaW5pc2hXb3JrXSgpO2lmKGUpcmV0dXJuIHRoaXNba1JldHVybk1hbnldKG8sZSk7dHJ5e2ZvcihsZXQgZD0wO2Q8bi5sZW5ndGg7ZCsrKXtjb25zdCBoPW5bZF07bltkXT1oIT09dm9pZCAwP3RoaXNba0tleUVuY29kaW5nJDFdLmRlY29kZShoKTp2b2lkIDB9fWNhdGNoKGQpe3JldHVybiB0aGlzW2tSZXR1cm5NYW55XShvLG5ldyBJdGVyYXRvckRlY29kZUVycm9yKCJrZXlzIixkKSl9dGhpc1trQ291bnRdKz1uLmxlbmd0aCx0aGlzW2tSZXR1cm5NYW55XShvLG51bGwsbil9fSxBYnN0cmFjdFZhbHVlSXRlcmF0b3IkMz1jbGFzcyBleHRlbmRzIENvbW1vbkl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuLCExKX1ba0hhbmRsZU9uZSQxXShlLG4pe2NvbnN0IG89dGhpc1trRmluaXNoV29ya10oKTtpZihlKXJldHVybiBvKGUpO3RyeXtuPW4hPT12b2lkIDA/dGhpc1trVmFsdWVFbmNvZGluZyQxXS5kZWNvZGUobik6dm9pZCAwfWNhdGNoKGQpe3JldHVybiBvKG5ldyBJdGVyYXRvckRlY29kZUVycm9yKCJ2YWx1ZSIsZCkpfW4hPT12b2lkIDAmJnRoaXNba0NvdW50XSsrLG8obnVsbCxuKX1ba0hhbmRsZU1hbnkkMV0oZSxuKXtjb25zdCBvPXRoaXNba0ZpbmlzaFdvcmtdKCk7aWYoZSlyZXR1cm4gdGhpc1trUmV0dXJuTWFueV0obyxlKTt0cnl7Zm9yKGxldCBkPTA7ZDxuLmxlbmd0aDtkKyspe2NvbnN0IGg9bltkXTtuW2RdPWghPT12b2lkIDA/dGhpc1trVmFsdWVFbmNvZGluZyQxXS5kZWNvZGUoaCk6dm9pZCAwfX1jYXRjaChkKXtyZXR1cm4gdGhpc1trUmV0dXJuTWFueV0obyxuZXcgSXRlcmF0b3JEZWNvZGVFcnJvcigidmFsdWVzIixkKSl9dGhpc1trQ291bnRdKz1uLmxlbmd0aCx0aGlzW2tSZXR1cm5NYW55XShvLG51bGwsbil9fTtjbGFzcyBJdGVyYXRvckRlY29kZUVycm9yIGV4dGVuZHMgTW9kdWxlRXJyb3IkNntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGBJdGVyYXRvciBjb3VsZCBub3QgZGVjb2RlICR7ZX1gLHtjb2RlOiJMRVZFTF9ERUNPREVfRVJST1IiLGNhdXNlOm59KX19Zm9yKGNvbnN0IHQgb2ZbIl9lbmRlZCBwcm9wZXJ0eSIsIl9uZXh0aW5nIHByb3BlcnR5IiwiX2VuZCBtZXRob2QiXSlPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RJdGVyYXRvciQzLnByb3RvdHlwZSx0LnNwbGl0KCIgIilbMF0se2dldCgpe3Rocm93IG5ldyBNb2R1bGVFcnJvciQ2KGBUaGUgJHt0fSBoYXMgYmVlbiByZW1vdmVkYCx7Y29kZToiTEVWRUxfTEVHQUNZIn0pfSxzZXQoKXt0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNihgVGhlICR7dH0gaGFzIGJlZW4gcmVtb3ZlZGAse2NvZGU6IkxFVkVMX0xFR0FDWSJ9KX19KTtBYnN0cmFjdEl0ZXJhdG9yJDMua2V5RW5jb2Rpbmc9a0tleUVuY29kaW5nJDE7QWJzdHJhY3RJdGVyYXRvciQzLnZhbHVlRW5jb2Rpbmc9a1ZhbHVlRW5jb2RpbmckMTthYnN0cmFjdEl0ZXJhdG9yLkFic3RyYWN0SXRlcmF0b3I9QWJzdHJhY3RJdGVyYXRvciQzO2Fic3RyYWN0SXRlcmF0b3IuQWJzdHJhY3RLZXlJdGVyYXRvcj1BYnN0cmFjdEtleUl0ZXJhdG9yJDM7YWJzdHJhY3RJdGVyYXRvci5BYnN0cmFjdFZhbHVlSXRlcmF0b3I9QWJzdHJhY3RWYWx1ZUl0ZXJhdG9yJDM7dmFyIGRlZmF1bHRLdkl0ZXJhdG9yPXt9O2NvbnN0e0Fic3RyYWN0S2V5SXRlcmF0b3I6QWJzdHJhY3RLZXlJdGVyYXRvciQyLEFic3RyYWN0VmFsdWVJdGVyYXRvcjpBYnN0cmFjdFZhbHVlSXRlcmF0b3IkMn09YWJzdHJhY3RJdGVyYXRvcixrSXRlcmF0b3IkMT1TeW1ib2woIml0ZXJhdG9yIiksa0NhbGxiYWNrPVN5bWJvbCgiY2FsbGJhY2siKSxrSGFuZGxlT25lPVN5bWJvbCgiaGFuZGxlT25lIiksa0hhbmRsZU1hbnk9U3ltYm9sKCJoYW5kbGVNYW55Iik7bGV0IERlZmF1bHRLZXlJdGVyYXRvciQxPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3RLZXlJdGVyYXRvciQye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSx0aGlzW2tJdGVyYXRvciQxXT1lLml0ZXJhdG9yKHsuLi5uLGtleXM6ITAsdmFsdWVzOiExfSksdGhpc1trSGFuZGxlT25lXT10aGlzW2tIYW5kbGVPbmVdLmJpbmQodGhpcyksdGhpc1trSGFuZGxlTWFueV09dGhpc1trSGFuZGxlTWFueV0uYmluZCh0aGlzKX19LERlZmF1bHRWYWx1ZUl0ZXJhdG9yJDE9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdFZhbHVlSXRlcmF0b3IkMntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksdGhpc1trSXRlcmF0b3IkMV09ZS5pdGVyYXRvcih7Li4ubixrZXlzOiExLHZhbHVlczohMH0pLHRoaXNba0hhbmRsZU9uZV09dGhpc1trSGFuZGxlT25lXS5iaW5kKHRoaXMpLHRoaXNba0hhbmRsZU1hbnldPXRoaXNba0hhbmRsZU1hbnldLmJpbmQodGhpcyl9fTtmb3IoY29uc3QgdCBvZltEZWZhdWx0S2V5SXRlcmF0b3IkMSxEZWZhdWx0VmFsdWVJdGVyYXRvciQxXSl7Y29uc3QgZT10PT09RGVmYXVsdEtleUl0ZXJhdG9yJDEsbj1lP289Pm9bMF06bz0+b1sxXTt0LnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihvKXt0aGlzW2tDYWxsYmFja109byx0aGlzW2tJdGVyYXRvciQxXS5uZXh0KHRoaXNba0hhbmRsZU9uZV0pfSx0LnByb3RvdHlwZVtrSGFuZGxlT25lXT1mdW5jdGlvbihvLGQsaCl7Y29uc3QgbD10aGlzW2tDYWxsYmFja107bz9sKG8pOmwobnVsbCxlP2Q6aCl9LHQucHJvdG90eXBlLl9uZXh0dj1mdW5jdGlvbihvLGQsaCl7dGhpc1trQ2FsbGJhY2tdPWgsdGhpc1trSXRlcmF0b3IkMV0ubmV4dHYobyxkLHRoaXNba0hhbmRsZU1hbnldKX0sdC5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbihvLGQpe3RoaXNba0NhbGxiYWNrXT1kLHRoaXNba0l0ZXJhdG9yJDFdLmFsbChvLHRoaXNba0hhbmRsZU1hbnldKX0sdC5wcm90b3R5cGVba0hhbmRsZU1hbnldPWZ1bmN0aW9uKG8sZCl7Y29uc3QgaD10aGlzW2tDYWxsYmFja107bz9oKG8pOmgobnVsbCxkLm1hcChuKSl9LHQucHJvdG90eXBlLl9zZWVrPWZ1bmN0aW9uKG8sZCl7dGhpc1trSXRlcmF0b3IkMV0uc2VlayhvLGQpfSx0LnByb3RvdHlwZS5fY2xvc2U9ZnVuY3Rpb24obyl7dGhpc1trSXRlcmF0b3IkMV0uY2xvc2Uobyl9fWRlZmF1bHRLdkl0ZXJhdG9yLkRlZmF1bHRLZXlJdGVyYXRvcj1EZWZhdWx0S2V5SXRlcmF0b3IkMTtkZWZhdWx0S3ZJdGVyYXRvci5EZWZhdWx0VmFsdWVJdGVyYXRvcj1EZWZhdWx0VmFsdWVJdGVyYXRvciQxO3ZhciBkZWZlcnJlZEl0ZXJhdG9yPXt9O2NvbnN0e0Fic3RyYWN0SXRlcmF0b3I6QWJzdHJhY3RJdGVyYXRvciQyLEFic3RyYWN0S2V5SXRlcmF0b3I6QWJzdHJhY3RLZXlJdGVyYXRvciQxLEFic3RyYWN0VmFsdWVJdGVyYXRvcjpBYnN0cmFjdFZhbHVlSXRlcmF0b3IkMX09YWJzdHJhY3RJdGVyYXRvcixNb2R1bGVFcnJvciQ1PW1vZHVsZUVycm9yLGtOdXQ9U3ltYm9sKCJudXQiKSxrVW5kZWZlciQxPVN5bWJvbCgidW5kZWZlciIpLGtGYWN0b3J5PVN5bWJvbCgiZmFjdG9yeSIpO2xldCBEZWZlcnJlZEl0ZXJhdG9yJDE9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdEl0ZXJhdG9yJDJ7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLHRoaXNba051dF09bnVsbCx0aGlzW2tGYWN0b3J5XT0oKT0+ZS5pdGVyYXRvcihuKSx0aGlzLmRiLmRlZmVyKCgpPT50aGlzW2tVbmRlZmVyJDFdKCkpfX0sRGVmZXJyZWRLZXlJdGVyYXRvciQxPWNsYXNzIGV4dGVuZHMgQWJzdHJhY3RLZXlJdGVyYXRvciQxe2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSx0aGlzW2tOdXRdPW51bGwsdGhpc1trRmFjdG9yeV09KCk9PmUua2V5cyhuKSx0aGlzLmRiLmRlZmVyKCgpPT50aGlzW2tVbmRlZmVyJDFdKCkpfX0sRGVmZXJyZWRWYWx1ZUl0ZXJhdG9yJDE9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdFZhbHVlSXRlcmF0b3IkMXtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksdGhpc1trTnV0XT1udWxsLHRoaXNba0ZhY3RvcnldPSgpPT5lLnZhbHVlcyhuKSx0aGlzLmRiLmRlZmVyKCgpPT50aGlzW2tVbmRlZmVyJDFdKCkpfX07Zm9yKGNvbnN0IHQgb2ZbRGVmZXJyZWRJdGVyYXRvciQxLERlZmVycmVkS2V5SXRlcmF0b3IkMSxEZWZlcnJlZFZhbHVlSXRlcmF0b3IkMV0pdC5wcm90b3R5cGVba1VuZGVmZXIkMV09ZnVuY3Rpb24oKXt0aGlzLmRiLnN0YXR1cz09PSJvcGVuIiYmKHRoaXNba051dF09dGhpc1trRmFjdG9yeV0oKSl9LHQucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKGUpe3RoaXNba051dF0hPT1udWxsP3RoaXNba051dF0ubmV4dChlKTp0aGlzLmRiLnN0YXR1cz09PSJvcGVuaW5nIj90aGlzLmRiLmRlZmVyKCgpPT50aGlzLl9uZXh0KGUpKTp0aGlzLm5leHRUaWNrKGUsbmV3IE1vZHVsZUVycm9yJDUoIkl0ZXJhdG9yIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCBuZXh0KCkgYWZ0ZXIgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0lURVJBVE9SX05PVF9PUEVOIn0pKX0sdC5wcm90b3R5cGUuX25leHR2PWZ1bmN0aW9uKGUsbixvKXt0aGlzW2tOdXRdIT09bnVsbD90aGlzW2tOdXRdLm5leHR2KGUsbixvKTp0aGlzLmRiLnN0YXR1cz09PSJvcGVuaW5nIj90aGlzLmRiLmRlZmVyKCgpPT50aGlzLl9uZXh0dihlLG4sbykpOnRoaXMubmV4dFRpY2sobyxuZXcgTW9kdWxlRXJyb3IkNSgiSXRlcmF0b3IgaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIG5leHR2KCkgYWZ0ZXIgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0lURVJBVE9SX05PVF9PUEVOIn0pKX0sdC5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbihlLG4pe3RoaXNba051dF0hPT1udWxsP3RoaXNba051dF0uYWxsKG4pOnRoaXMuZGIuc3RhdHVzPT09Im9wZW5pbmciP3RoaXMuZGIuZGVmZXIoKCk9PnRoaXMuX2FsbChlLG4pKTp0aGlzLm5leHRUaWNrKG4sbmV3IE1vZHVsZUVycm9yJDUoIkl0ZXJhdG9yIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCBhbGwoKSBhZnRlciBjbG9zZSgpIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfTk9UX09QRU4ifSkpfSx0LnByb3RvdHlwZS5fc2Vlaz1mdW5jdGlvbihlLG4pe3RoaXNba051dF0hPT1udWxsP3RoaXNba051dF0uX3NlZWsoZSxuKTp0aGlzLmRiLnN0YXR1cz09PSJvcGVuaW5nIiYmdGhpcy5kYi5kZWZlcigoKT0+dGhpcy5fc2VlayhlLG4pKX0sdC5wcm90b3R5cGUuX2Nsb3NlPWZ1bmN0aW9uKGUpe3RoaXNba051dF0hPT1udWxsP3RoaXNba051dF0uY2xvc2UoZSk6dGhpcy5kYi5zdGF0dXM9PT0ib3BlbmluZyI/dGhpcy5kYi5kZWZlcigoKT0+dGhpcy5fY2xvc2UoZSkpOnRoaXMubmV4dFRpY2soZSl9O2RlZmVycmVkSXRlcmF0b3IuRGVmZXJyZWRJdGVyYXRvcj1EZWZlcnJlZEl0ZXJhdG9yJDE7ZGVmZXJyZWRJdGVyYXRvci5EZWZlcnJlZEtleUl0ZXJhdG9yPURlZmVycmVkS2V5SXRlcmF0b3IkMTtkZWZlcnJlZEl0ZXJhdG9yLkRlZmVycmVkVmFsdWVJdGVyYXRvcj1EZWZlcnJlZFZhbHVlSXRlcmF0b3IkMTt2YXIgZGVmYXVsdENoYWluZWRCYXRjaD17fSxhYnN0cmFjdENoYWluZWRCYXRjaD17fTtjb25zdHtmcm9tQ2FsbGJhY2s6ZnJvbUNhbGxiYWNrJDF9PWNhdGVyaW5nLE1vZHVsZUVycm9yJDQ9bW9kdWxlRXJyb3Ise2dldENhbGxiYWNrOmdldENhbGxiYWNrJDEsZ2V0T3B0aW9uczpnZXRPcHRpb25zJDF9PWNvbW1vbiQ2LGtQcm9taXNlJDE9U3ltYm9sKCJwcm9taXNlIiksa1N0YXR1cyQxPVN5bWJvbCgic3RhdHVzIiksa09wZXJhdGlvbnMkMT1TeW1ib2woIm9wZXJhdGlvbnMiKSxrRmluaXNoQ2xvc2U9U3ltYm9sKCJmaW5pc2hDbG9zZSIpLGtDbG9zZUNhbGxiYWNrcz1TeW1ib2woImNsb3NlQ2FsbGJhY2tzIik7bGV0IEFic3RyYWN0Q2hhaW5lZEJhdGNoJDE9Y2xhc3N7Y29uc3RydWN0b3IoZSl7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbCl7Y29uc3Qgbj1lPT09bnVsbD8ibnVsbCI6dHlwZW9mIGU7dGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gYWJzdHJhY3QtbGV2ZWwgZGF0YWJhc2UsIHJlY2VpdmVkICR7bn1gKX10aGlzW2tPcGVyYXRpb25zJDFdPVtdLHRoaXNba0Nsb3NlQ2FsbGJhY2tzXT1bXSx0aGlzW2tTdGF0dXMkMV09Im9wZW4iLHRoaXNba0ZpbmlzaENsb3NlXT10aGlzW2tGaW5pc2hDbG9zZV0uYmluZCh0aGlzKSx0aGlzLmRiPWUsdGhpcy5kYi5hdHRhY2hSZXNvdXJjZSh0aGlzKSx0aGlzLm5leHRUaWNrPWUubmV4dFRpY2t9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzW2tPcGVyYXRpb25zJDFdLmxlbmd0aH1wdXQoZSxuLG8pe2lmKHRoaXNba1N0YXR1cyQxXSE9PSJvcGVuIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNCgiQmF0Y2ggaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIHB1dCgpIGFmdGVyIHdyaXRlKCkgb3IgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0JBVENIX05PVF9PUEVOIn0pO2NvbnN0IGQ9dGhpcy5kYi5fY2hlY2tLZXkoZSl8fHRoaXMuZGIuX2NoZWNrVmFsdWUobik7aWYoZCl0aHJvdyBkO2NvbnN0IGg9byYmby5zdWJsZXZlbCE9bnVsbD9vLnN1YmxldmVsOnRoaXMuZGIsbD1vLHU9aC5rZXlFbmNvZGluZyhvJiZvLmtleUVuY29kaW5nKSxwPWgudmFsdWVFbmNvZGluZyhvJiZvLnZhbHVlRW5jb2RpbmcpLGc9dS5mb3JtYXQ7bz17Li4ubyxrZXlFbmNvZGluZzpnLHZhbHVlRW5jb2Rpbmc6cC5mb3JtYXR9LGghPT10aGlzLmRiJiYoby5zdWJsZXZlbD1udWxsKTtjb25zdCB2PWgucHJlZml4S2V5KHUuZW5jb2RlKGUpLGcpLGI9cC5lbmNvZGUobik7cmV0dXJuIHRoaXMuX3B1dCh2LGIsbyksdGhpc1trT3BlcmF0aW9ucyQxXS5wdXNoKHsuLi5sLHR5cGU6InB1dCIsa2V5OmUsdmFsdWU6bn0pLHRoaXN9X3B1dChlLG4sbyl7fWRlbChlLG4pe2lmKHRoaXNba1N0YXR1cyQxXSE9PSJvcGVuIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNCgiQmF0Y2ggaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIGRlbCgpIGFmdGVyIHdyaXRlKCkgb3IgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0JBVENIX05PVF9PUEVOIn0pO2NvbnN0IG89dGhpcy5kYi5fY2hlY2tLZXkoZSk7aWYobyl0aHJvdyBvO2NvbnN0IGQ9biYmbi5zdWJsZXZlbCE9bnVsbD9uLnN1YmxldmVsOnRoaXMuZGIsaD1uLGw9ZC5rZXlFbmNvZGluZyhuJiZuLmtleUVuY29kaW5nKSx1PWwuZm9ybWF0O3JldHVybiBuPXsuLi5uLGtleUVuY29kaW5nOnV9LGQhPT10aGlzLmRiJiYobi5zdWJsZXZlbD1udWxsKSx0aGlzLl9kZWwoZC5wcmVmaXhLZXkobC5lbmNvZGUoZSksdSksbiksdGhpc1trT3BlcmF0aW9ucyQxXS5wdXNoKHsuLi5oLHR5cGU6ImRlbCIsa2V5OmV9KSx0aGlzfV9kZWwoZSxuKXt9Y2xlYXIoKXtpZih0aGlzW2tTdGF0dXMkMV0hPT0ib3BlbiIpdGhyb3cgbmV3IE1vZHVsZUVycm9yJDQoIkJhdGNoIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCBjbGVhcigpIGFmdGVyIHdyaXRlKCkgb3IgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0JBVENIX05PVF9PUEVOIn0pO3JldHVybiB0aGlzLl9jbGVhcigpLHRoaXNba09wZXJhdGlvbnMkMV09W10sdGhpc31fY2xlYXIoKXt9d3JpdGUoZSxuKXtyZXR1cm4gbj1nZXRDYWxsYmFjayQxKGUsbiksbj1mcm9tQ2FsbGJhY2skMShuLGtQcm9taXNlJDEpLGU9Z2V0T3B0aW9ucyQxKGUpLHRoaXNba1N0YXR1cyQxXSE9PSJvcGVuIj90aGlzLm5leHRUaWNrKG4sbmV3IE1vZHVsZUVycm9yJDQoIkJhdGNoIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCB3cml0ZSgpIGFmdGVyIHdyaXRlKCkgb3IgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0JBVENIX05PVF9PUEVOIn0pKTp0aGlzLmxlbmd0aD09PTA/dGhpcy5jbG9zZShuKToodGhpc1trU3RhdHVzJDFdPSJ3cml0aW5nIix0aGlzLl93cml0ZShlLG89Pnt0aGlzW2tTdGF0dXMkMV09ImNsb3NpbmciLHRoaXNba0Nsb3NlQ2FsbGJhY2tzXS5wdXNoKCgpPT5uKG8pKSxvfHx0aGlzLmRiLmVtaXQoImJhdGNoIix0aGlzW2tPcGVyYXRpb25zJDFdKSx0aGlzLl9jbG9zZSh0aGlzW2tGaW5pc2hDbG9zZV0pfSkpLG5ba1Byb21pc2UkMV19X3dyaXRlKGUsbil7fWNsb3NlKGUpe3JldHVybiBlPWZyb21DYWxsYmFjayQxKGUsa1Byb21pc2UkMSksdGhpc1trU3RhdHVzJDFdPT09ImNsb3NpbmciP3RoaXNba0Nsb3NlQ2FsbGJhY2tzXS5wdXNoKGUpOnRoaXNba1N0YXR1cyQxXT09PSJjbG9zZWQiP3RoaXMubmV4dFRpY2soZSk6KHRoaXNba0Nsb3NlQ2FsbGJhY2tzXS5wdXNoKGUpLHRoaXNba1N0YXR1cyQxXSE9PSJ3cml0aW5nIiYmKHRoaXNba1N0YXR1cyQxXT0iY2xvc2luZyIsdGhpcy5fY2xvc2UodGhpc1trRmluaXNoQ2xvc2VdKSkpLGVba1Byb21pc2UkMV19X2Nsb3NlKGUpe3RoaXMubmV4dFRpY2soZSl9W2tGaW5pc2hDbG9zZV0oKXt0aGlzW2tTdGF0dXMkMV09ImNsb3NlZCIsdGhpcy5kYi5kZXRhY2hSZXNvdXJjZSh0aGlzKTtjb25zdCBlPXRoaXNba0Nsb3NlQ2FsbGJhY2tzXTt0aGlzW2tDbG9zZUNhbGxiYWNrc109W107Zm9yKGNvbnN0IG4gb2YgZSluKCl9fTthYnN0cmFjdENoYWluZWRCYXRjaC5BYnN0cmFjdENoYWluZWRCYXRjaD1BYnN0cmFjdENoYWluZWRCYXRjaCQxO2NvbnN0e0Fic3RyYWN0Q2hhaW5lZEJhdGNofT1hYnN0cmFjdENoYWluZWRCYXRjaCxNb2R1bGVFcnJvciQzPW1vZHVsZUVycm9yLGtFbmNvZGVkPVN5bWJvbCgiZW5jb2RlZCIpO2xldCBEZWZhdWx0Q2hhaW5lZEJhdGNoJDE9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdENoYWluZWRCYXRjaHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzW2tFbmNvZGVkXT1bXX1fcHV0KGUsbixvKXt0aGlzW2tFbmNvZGVkXS5wdXNoKHsuLi5vLHR5cGU6InB1dCIsa2V5OmUsdmFsdWU6bn0pfV9kZWwoZSxuKXt0aGlzW2tFbmNvZGVkXS5wdXNoKHsuLi5uLHR5cGU6ImRlbCIsa2V5OmV9KX1fY2xlYXIoKXt0aGlzW2tFbmNvZGVkXT1bXX1fd3JpdGUoZSxuKXt0aGlzLmRiLnN0YXR1cz09PSJvcGVuaW5nIj90aGlzLmRiLmRlZmVyKCgpPT50aGlzLl93cml0ZShlLG4pKTp0aGlzLmRiLnN0YXR1cz09PSJvcGVuIj90aGlzW2tFbmNvZGVkXS5sZW5ndGg9PT0wP3RoaXMubmV4dFRpY2sobik6dGhpcy5kYi5fYmF0Y2godGhpc1trRW5jb2RlZF0sZSxuKTp0aGlzLm5leHRUaWNrKG4sbmV3IE1vZHVsZUVycm9yJDMoIkJhdGNoIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCB3cml0ZSgpIGFmdGVyIHdyaXRlKCkgb3IgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0JBVENIX05PVF9PUEVOIn0pKX19O2RlZmF1bHRDaGFpbmVkQmF0Y2guRGVmYXVsdENoYWluZWRCYXRjaD1EZWZhdWx0Q2hhaW5lZEJhdGNoJDE7Y29uc3QgTW9kdWxlRXJyb3IkMj1tb2R1bGVFcnJvcixoYXNPd25Qcm9wZXJ0eSQ0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscmFuZ2VPcHRpb25zJDI9bmV3IFNldChbImx0IiwibHRlIiwiZ3QiLCJndGUiXSk7dmFyIHJhbmdlT3B0aW9uc18xPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj17fTtmb3IoY29uc3QgbyBpbiB0KWlmKGhhc093blByb3BlcnR5JDQuY2FsbCh0LG8pJiYhKG89PT0ia2V5RW5jb2RpbmcifHxvPT09InZhbHVlRW5jb2RpbmciKSl7aWYobz09PSJzdGFydCJ8fG89PT0iZW5kIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkMihgVGhlIGxlZ2FjeSByYW5nZSBvcHRpb24gJyR7b30nIGhhcyBiZWVuIHJlbW92ZWRgLHtjb2RlOiJMRVZFTF9MRUdBQ1kifSk7aWYobz09PSJlbmNvZGluZyIpdGhyb3cgbmV3IE1vZHVsZUVycm9yJDIoIlRoZSBsZXZlbHVwLXN0eWxlICdlbmNvZGluZycgYWxpYXMgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlICd2YWx1ZUVuY29kaW5nJyBpbnN0ZWFkIix7Y29kZToiTEVWRUxfTEVHQUNZIn0pO3JhbmdlT3B0aW9ucyQyLmhhcyhvKT9uW29dPWUuZW5jb2RlKHRbb10pOm5bb109dFtvXX1yZXR1cm4gbi5yZXZlcnNlPSEhbi5yZXZlcnNlLG4ubGltaXQ9TnVtYmVyLmlzSW50ZWdlcihuLmxpbWl0KSYmbi5saW1pdD49MD9uLmxpbWl0Oi0xLG59Oy8qISBxdWV1ZS1taWNyb3Rhc2suIE1JVCBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi92YXIgcXVldWVNaWNyb3Rhc2tfMSxoYXNSZXF1aXJlZFF1ZXVlTWljcm90YXNrO2Z1bmN0aW9uIHJlcXVpcmVRdWV1ZU1pY3JvdGFzaygpe2lmKGhhc1JlcXVpcmVkUXVldWVNaWNyb3Rhc2spcmV0dXJuIHF1ZXVlTWljcm90YXNrXzE7aGFzUmVxdWlyZWRRdWV1ZU1pY3JvdGFzaz0xO2xldCB0O3JldHVybiBxdWV1ZU1pY3JvdGFza18xPXR5cGVvZiBxdWV1ZU1pY3JvdGFzaz09ImZ1bmN0aW9uIj9xdWV1ZU1pY3JvdGFzay5iaW5kKHR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzpjb21tb25qc0dsb2JhbCk6ZT0+KHR8fCh0PVByb21pc2UucmVzb2x2ZSgpKSkudGhlbihlKS5jYXRjaChuPT5zZXRUaW1lb3V0KCgpPT57dGhyb3cgbn0sMCkpLHF1ZXVlTWljcm90YXNrXzF9dmFyIG5leHRUaWNrQnJvd3NlcixoYXNSZXF1aXJlZE5leHRUaWNrQnJvd3NlcjtmdW5jdGlvbiByZXF1aXJlTmV4dFRpY2tCcm93c2VyKCl7aWYoaGFzUmVxdWlyZWROZXh0VGlja0Jyb3dzZXIpcmV0dXJuIG5leHRUaWNrQnJvd3NlcjtoYXNSZXF1aXJlZE5leHRUaWNrQnJvd3Nlcj0xO2NvbnN0IHQ9cmVxdWlyZVF1ZXVlTWljcm90YXNrKCk7cmV0dXJuIG5leHRUaWNrQnJvd3Nlcj1mdW5jdGlvbihlLC4uLm4pe24ubGVuZ3RoPT09MD90KGUpOnQoKCk9PmUoLi4ubikpfSxuZXh0VGlja0Jyb3dzZXJ9dmFyIGJ1ZmZlcj17fTsvKiEKICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuCiAqCiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+CiAqIEBsaWNlbnNlICBNSVQKICovdmFyIGhhc1JlcXVpcmVkQnVmZmVyO2Z1bmN0aW9uIHJlcXVpcmVCdWZmZXIoKXtyZXR1cm4gaGFzUmVxdWlyZWRCdWZmZXJ8fChoYXNSZXF1aXJlZEJ1ZmZlcj0xLGZ1bmN0aW9uKHQpe2NvbnN0IGU9YmFzZTY0SnMsbj1pZWVlNzU0LG89dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmdHlwZW9mIFN5bWJvbC5mb3I9PSJmdW5jdGlvbiI/U3ltYm9sLmZvcigibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20iKTpudWxsO3QuQnVmZmVyPXUsdC5TbG93QnVmZmVyPUMsdC5JTlNQRUNUX01BWF9CWVRFUz01MDtjb25zdCBkPTIxNDc0ODM2NDc7dC5rTWF4TGVuZ3RoPWQsdS5UWVBFRF9BUlJBWV9TVVBQT1JUPWgoKSwhdS5UWVBFRF9BUlJBWV9TVVBQT1JUJiZ0eXBlb2YgY29uc29sZTwidSImJnR5cGVvZiBjb25zb2xlLmVycm9yPT0iZnVuY3Rpb24iJiZjb25zb2xlLmVycm9yKCJUaGlzIGJyb3dzZXIgbGFja3MgdHlwZWQgYXJyYXkgKFVpbnQ4QXJyYXkpIHN1cHBvcnQgd2hpY2ggaXMgcmVxdWlyZWQgYnkgYGJ1ZmZlcmAgdjUueC4gVXNlIGBidWZmZXJgIHY0LnggaWYgeW91IHJlcXVpcmUgb2xkIGJyb3dzZXIgc3VwcG9ydC4iKTtmdW5jdGlvbiBoKCl7dHJ5e2NvbnN0IEk9bmV3IFVpbnQ4QXJyYXkoMSksdz17Zm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih3LFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoSSx3KSxJLmZvbygpPT09NDJ9Y2F0Y2h7cmV0dXJuITF9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwicGFyZW50Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZih1LmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ1ZmZlcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsIm9mZnNldCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYodS5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5ieXRlT2Zmc2V0fX0pO2Z1bmN0aW9uIGwoSSl7aWYoST5kKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgIicrSSsnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJyk7Y29uc3Qgdz1uZXcgVWludDhBcnJheShJKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHcsdS5wcm90b3R5cGUpLHd9ZnVuY3Rpb24gdShJLHcsRSl7aWYodHlwZW9mIEk9PSJudW1iZXIiKXtpZih0eXBlb2Ygdz09InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJzdHJpbmciIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBzdHJpbmcuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7cmV0dXJuIGIoSSl9cmV0dXJuIHAoSSx3LEUpfXUucG9vbFNpemU9ODE5MjtmdW5jdGlvbiBwKEksdyxFKXtpZih0eXBlb2YgST09InN0cmluZyIpcmV0dXJuIF8oSSx3KTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoSSkpcmV0dXJuIFQoSSk7aWYoST09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAiK3R5cGVvZiBJKTtpZihkZShJLEFycmF5QnVmZmVyKXx8SSYmZGUoSS5idWZmZXIsQXJyYXlCdWZmZXIpfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8InUiJiYoZGUoSSxTaGFyZWRBcnJheUJ1ZmZlcil8fEkmJmRlKEkuYnVmZmVyLFNoYXJlZEFycmF5QnVmZmVyKSkpcmV0dXJuIGooSSx3LEUpO2lmKHR5cGVvZiBJPT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInZhbHVlIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtjb25zdCBEPUkudmFsdWVPZiYmSS52YWx1ZU9mKCk7aWYoRCE9bnVsbCYmRCE9PUkpcmV0dXJuIHUuZnJvbShELHcsRSk7Y29uc3QgVj1OKEkpO2lmKFYpcmV0dXJuIFY7aWYodHlwZW9mIFN5bWJvbDwidSImJlN5bWJvbC50b1ByaW1pdGl2ZSE9bnVsbCYmdHlwZW9mIElbU3ltYm9sLnRvUHJpbWl0aXZlXT09ImZ1bmN0aW9uIilyZXR1cm4gdS5mcm9tKElbU3ltYm9sLnRvUHJpbWl0aXZlXSgic3RyaW5nIiksdyxFKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBBcnJheS1saWtlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAiK3R5cGVvZiBJKX11LmZyb209ZnVuY3Rpb24oSSx3LEUpe3JldHVybiBwKEksdyxFKX0sT2JqZWN0LnNldFByb3RvdHlwZU9mKHUucHJvdG90eXBlLFVpbnQ4QXJyYXkucHJvdG90eXBlKSxPYmplY3Quc2V0UHJvdG90eXBlT2YodSxVaW50OEFycmF5KTtmdW5jdGlvbiBnKEkpe2lmKHR5cGVvZiBJIT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlcicpO2lmKEk8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInK0krJyIgaXMgaW52YWxpZCBmb3Igb3B0aW9uICJzaXplIicpfWZ1bmN0aW9uIHYoSSx3LEUpe3JldHVybiBnKEkpLEk8PTA/bChJKTp3IT09dm9pZCAwP3R5cGVvZiBFPT0ic3RyaW5nIj9sKEkpLmZpbGwodyxFKTpsKEkpLmZpbGwodyk6bChJKX11LmFsbG9jPWZ1bmN0aW9uKEksdyxFKXtyZXR1cm4gdihJLHcsRSl9O2Z1bmN0aW9uIGIoSSl7cmV0dXJuIGcoSSksbChJPDA/MDpCKEkpfDApfXUuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oSSl7cmV0dXJuIGIoSSl9LHUuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKEkpe3JldHVybiBiKEkpfTtmdW5jdGlvbiBfKEksdyl7aWYoKHR5cGVvZiB3IT0ic3RyaW5nInx8dz09PSIiKSYmKHc9InV0ZjgiKSwhdS5pc0VuY29kaW5nKHcpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrdyk7Y29uc3QgRT1MKEksdyl8MDtsZXQgRD1sKEUpO2NvbnN0IFY9RC53cml0ZShJLHcpO3JldHVybiBWIT09RSYmKEQ9RC5zbGljZSgwLFYpKSxEfWZ1bmN0aW9uIE8oSSl7Y29uc3Qgdz1JLmxlbmd0aDwwPzA6QihJLmxlbmd0aCl8MCxFPWwodyk7Zm9yKGxldCBEPTA7RDx3O0QrPTEpRVtEXT1JW0RdJjI1NTtyZXR1cm4gRX1mdW5jdGlvbiBUKEkpe2lmKGRlKEksVWludDhBcnJheSkpe2NvbnN0IHc9bmV3IFVpbnQ4QXJyYXkoSSk7cmV0dXJuIGoody5idWZmZXIsdy5ieXRlT2Zmc2V0LHcuYnl0ZUxlbmd0aCl9cmV0dXJuIE8oSSl9ZnVuY3Rpb24gaihJLHcsRSl7aWYodzwwfHxJLmJ5dGVMZW5ndGg8dyl0aHJvdyBuZXcgUmFuZ2VFcnJvcignIm9mZnNldCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7aWYoSS5ieXRlTGVuZ3RoPHcrKEV8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKCcibGVuZ3RoIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtsZXQgRDtyZXR1cm4gdz09PXZvaWQgMCYmRT09PXZvaWQgMD9EPW5ldyBVaW50OEFycmF5KEkpOkU9PT12b2lkIDA/RD1uZXcgVWludDhBcnJheShJLHcpOkQ9bmV3IFVpbnQ4QXJyYXkoSSx3LEUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihELHUucHJvdG90eXBlKSxEfWZ1bmN0aW9uIE4oSSl7aWYodS5pc0J1ZmZlcihJKSl7Y29uc3Qgdz1CKEkubGVuZ3RoKXwwLEU9bCh3KTtyZXR1cm4gRS5sZW5ndGg9PT0wfHxJLmNvcHkoRSwwLDAsdyksRX1pZihJLmxlbmd0aCE9PXZvaWQgMClyZXR1cm4gdHlwZW9mIEkubGVuZ3RoIT0ibnVtYmVyInx8cGUoSS5sZW5ndGgpP2woMCk6TyhJKTtpZihJLnR5cGU9PT0iQnVmZmVyIiYmQXJyYXkuaXNBcnJheShJLmRhdGEpKXJldHVybiBPKEkuZGF0YSl9ZnVuY3Rpb24gQihJKXtpZihJPj1kKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4IitkLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIEl8MH1mdW5jdGlvbiBDKEkpe3JldHVybitJIT1JJiYoST0wKSx1LmFsbG9jKCtJKX11LmlzQnVmZmVyPWZ1bmN0aW9uKHcpe3JldHVybiB3IT1udWxsJiZ3Ll9pc0J1ZmZlcj09PSEwJiZ3IT09dS5wcm90b3R5cGV9LHUuY29tcGFyZT1mdW5jdGlvbih3LEUpe2lmKGRlKHcsVWludDhBcnJheSkmJih3PXUuZnJvbSh3LHcub2Zmc2V0LHcuYnl0ZUxlbmd0aCkpLGRlKEUsVWludDhBcnJheSkmJihFPXUuZnJvbShFLEUub2Zmc2V0LEUuYnl0ZUxlbmd0aCkpLCF1LmlzQnVmZmVyKHcpfHwhdS5pc0J1ZmZlcihFKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgImJ1ZjEiLCAiYnVmMiIgYXJndW1lbnRzIG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXknKTtpZih3PT09RSlyZXR1cm4gMDtsZXQgRD13Lmxlbmd0aCxWPUUubGVuZ3RoO2ZvcihsZXQgWj0wLGNlPU1hdGgubWluKEQsVik7WjxjZTsrK1opaWYod1taXSE9PUVbWl0pe0Q9d1taXSxWPUVbWl07YnJlYWt9cmV0dXJuIEQ8Vj8tMTpWPEQ/MTowfSx1LmlzRW5jb2Rpbmc9ZnVuY3Rpb24odyl7c3dpdGNoKFN0cmluZyh3KS50b0xvd2VyQ2FzZSgpKXtjYXNlImhleCI6Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOmNhc2UiYmFzZTY0IjpjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LHUuY29uY2F0PWZ1bmN0aW9uKHcsRSl7aWYoIUFycmF5LmlzQXJyYXkodykpdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO2lmKHcubGVuZ3RoPT09MClyZXR1cm4gdS5hbGxvYygwKTtsZXQgRDtpZihFPT09dm9pZCAwKWZvcihFPTAsRD0wO0Q8dy5sZW5ndGg7KytEKUUrPXdbRF0ubGVuZ3RoO2NvbnN0IFY9dS5hbGxvY1Vuc2FmZShFKTtsZXQgWj0wO2ZvcihEPTA7RDx3Lmxlbmd0aDsrK0Qpe2xldCBjZT13W0RdO2lmKGRlKGNlLFVpbnQ4QXJyYXkpKVorY2UubGVuZ3RoPlYubGVuZ3RoPyh1LmlzQnVmZmVyKGNlKXx8KGNlPXUuZnJvbShjZSkpLGNlLmNvcHkoVixaKSk6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoVixjZSxaKTtlbHNlIGlmKHUuaXNCdWZmZXIoY2UpKWNlLmNvcHkoVixaKTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtaKz1jZS5sZW5ndGh9cmV0dXJuIFZ9O2Z1bmN0aW9uIEwoSSx3KXtpZih1LmlzQnVmZmVyKEkpKXJldHVybiBJLmxlbmd0aDtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoSSl8fGRlKEksQXJyYXlCdWZmZXIpKXJldHVybiBJLmJ5dGVMZW5ndGg7aWYodHlwZW9mIEkhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBvciBBcnJheUJ1ZmZlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBJKTtjb25zdCBFPUkubGVuZ3RoLEQ9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl09PT0hMDtpZighRCYmRT09PTApcmV0dXJuIDA7bGV0IFY9ITE7Zm9yKDs7KXN3aXRjaCh3KXtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBFO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIGllKEkpLmxlbmd0aDtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIEUqMjtjYXNlImhleCI6cmV0dXJuIEU+Pj4xO2Nhc2UiYmFzZTY0IjpyZXR1cm4gbmUoSSkubGVuZ3RoO2RlZmF1bHQ6aWYoVilyZXR1cm4gRD8tMTppZShJKS5sZW5ndGg7dz0oIiIrdykudG9Mb3dlckNhc2UoKSxWPSEwfX11LmJ5dGVMZW5ndGg9TDtmdW5jdGlvbiBTKEksdyxFKXtsZXQgRD0hMTtpZigodz09PXZvaWQgMHx8dzwwKSYmKHc9MCksdz50aGlzLmxlbmd0aHx8KChFPT09dm9pZCAwfHxFPnRoaXMubGVuZ3RoKSYmKEU9dGhpcy5sZW5ndGgpLEU8PTApfHwoRT4+Pj0wLHc+Pj49MCxFPD13KSlyZXR1cm4iIjtmb3IoSXx8KEk9InV0ZjgiKTs7KXN3aXRjaChJKXtjYXNlImhleCI6cmV0dXJuIG1lKHRoaXMsdyxFKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiAkKHRoaXMsdyxFKTtjYXNlImFzY2lpIjpyZXR1cm4gZWUodGhpcyx3LEUpO2Nhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIGdlKHRoaXMsdyxFKTtjYXNlImJhc2U2NCI6cmV0dXJuIE0odGhpcyx3LEUpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gZmUodGhpcyx3LEUpO2RlZmF1bHQ6aWYoRCl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK0kpO0k9KEkrIiIpLnRvTG93ZXJDYXNlKCksRD0hMH19dS5wcm90b3R5cGUuX2lzQnVmZmVyPSEwO2Z1bmN0aW9uIFAoSSx3LEUpe2NvbnN0IEQ9SVt3XTtJW3ddPUlbRV0sSVtFXT1EfXUucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe2NvbnN0IHc9dGhpcy5sZW5ndGg7aWYodyUyIT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMiKTtmb3IobGV0IEU9MDtFPHc7RSs9MilQKHRoaXMsRSxFKzEpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXtjb25zdCB3PXRoaXMubGVuZ3RoO2lmKHclNCE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKGxldCBFPTA7RTx3O0UrPTQpUCh0aGlzLEUsRSszKSxQKHRoaXMsRSsxLEUrMik7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe2NvbnN0IHc9dGhpcy5sZW5ndGg7aWYodyU4IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IobGV0IEU9MDtFPHc7RSs9OClQKHRoaXMsRSxFKzcpLFAodGhpcyxFKzEsRSs2KSxQKHRoaXMsRSsyLEUrNSksUCh0aGlzLEUrMyxFKzQpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2NvbnN0IHc9dGhpcy5sZW5ndGg7cmV0dXJuIHc9PT0wPyIiOmFyZ3VtZW50cy5sZW5ndGg9PT0wPyQodGhpcywwLHcpOlMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1LnByb3RvdHlwZS50b0xvY2FsZVN0cmluZz11LnByb3RvdHlwZS50b1N0cmluZyx1LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odyl7aWYoIXUuaXNCdWZmZXIodykpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciIpO3JldHVybiB0aGlzPT09dz8hMDp1LmNvbXBhcmUodGhpcyx3KT09PTB9LHUucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXtsZXQgdz0iIjtjb25zdCBFPXQuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHc9dGhpcy50b1N0cmluZygiaGV4IiwwLEUpLnJlcGxhY2UoLyguezJ9KS9nLCIkMSAiKS50cmltKCksdGhpcy5sZW5ndGg+RSYmKHcrPSIgLi4uICIpLCI8QnVmZmVyICIrdysiPiJ9LG8mJih1LnByb3RvdHlwZVtvXT11LnByb3RvdHlwZS5pbnNwZWN0KSx1LnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHcsRSxELFYsWil7aWYoZGUodyxVaW50OEFycmF5KSYmKHc9dS5mcm9tKHcsdy5vZmZzZXQsdy5ieXRlTGVuZ3RoKSksIXUuaXNCdWZmZXIodykpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJ0YXJnZXQiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgQnVmZmVyIG9yIFVpbnQ4QXJyYXkuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2Ygdyk7aWYoRT09PXZvaWQgMCYmKEU9MCksRD09PXZvaWQgMCYmKEQ9dz93Lmxlbmd0aDowKSxWPT09dm9pZCAwJiYoVj0wKSxaPT09dm9pZCAwJiYoWj10aGlzLmxlbmd0aCksRTwwfHxEPncubGVuZ3RofHxWPDB8fFo+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm91dCBvZiByYW5nZSBpbmRleCIpO2lmKFY+PVomJkU+PUQpcmV0dXJuIDA7aWYoVj49WilyZXR1cm4tMTtpZihFPj1EKXJldHVybiAxO2lmKEU+Pj49MCxEPj4+PTAsVj4+Pj0wLFo+Pj49MCx0aGlzPT09dylyZXR1cm4gMDtsZXQgY2U9Wi1WLFNlPUQtRTtjb25zdCBrZT1NYXRoLm1pbihjZSxTZSksQmU9dGhpcy5zbGljZShWLFopLERlPXcuc2xpY2UoRSxEKTtmb3IobGV0IExlPTA7TGU8a2U7KytMZSlpZihCZVtMZV0hPT1EZVtMZV0pe2NlPUJlW0xlXSxTZT1EZVtMZV07YnJlYWt9cmV0dXJuIGNlPFNlPy0xOlNlPGNlPzE6MH07ZnVuY3Rpb24gRihJLHcsRSxELFYpe2lmKEkubGVuZ3RoPT09MClyZXR1cm4tMTtpZih0eXBlb2YgRT09InN0cmluZyI/KEQ9RSxFPTApOkU+MjE0NzQ4MzY0Nz9FPTIxNDc0ODM2NDc6RTwtMjE0NzQ4MzY0OCYmKEU9LTIxNDc0ODM2NDgpLEU9K0UscGUoRSkmJihFPVY/MDpJLmxlbmd0aC0xKSxFPDAmJihFPUkubGVuZ3RoK0UpLEU+PUkubGVuZ3RoKXtpZihWKXJldHVybi0xO0U9SS5sZW5ndGgtMX1lbHNlIGlmKEU8MClpZihWKUU9MDtlbHNlIHJldHVybi0xO2lmKHR5cGVvZiB3PT0ic3RyaW5nIiYmKHc9dS5mcm9tKHcsRCkpLHUuaXNCdWZmZXIodykpcmV0dXJuIHcubGVuZ3RoPT09MD8tMTprKEksdyxFLEQsVik7aWYodHlwZW9mIHc9PSJudW1iZXIiKXJldHVybiB3PXcmMjU1LHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mPT0iZnVuY3Rpb24iP1Y/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKEksdyxFKTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKEksdyxFKTprKEksW3ddLEUsRCxWKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXIiKX1mdW5jdGlvbiBrKEksdyxFLEQsVil7bGV0IFo9MSxjZT1JLmxlbmd0aCxTZT13Lmxlbmd0aDtpZihEIT09dm9pZCAwJiYoRD1TdHJpbmcoRCkudG9Mb3dlckNhc2UoKSxEPT09InVjczIifHxEPT09InVjcy0yInx8RD09PSJ1dGYxNmxlInx8RD09PSJ1dGYtMTZsZSIpKXtpZihJLmxlbmd0aDwyfHx3Lmxlbmd0aDwyKXJldHVybi0xO1o9MixjZS89MixTZS89MixFLz0yfWZ1bmN0aW9uIGtlKERlLExlKXtyZXR1cm4gWj09PTE/RGVbTGVdOkRlLnJlYWRVSW50MTZCRShMZSpaKX1sZXQgQmU7aWYoVil7bGV0IERlPS0xO2ZvcihCZT1FO0JlPGNlO0JlKyspaWYoa2UoSSxCZSk9PT1rZSh3LERlPT09LTE/MDpCZS1EZSkpe2lmKERlPT09LTEmJihEZT1CZSksQmUtRGUrMT09PVNlKXJldHVybiBEZSpafWVsc2UgRGUhPT0tMSYmKEJlLT1CZS1EZSksRGU9LTF9ZWxzZSBmb3IoRStTZT5jZSYmKEU9Y2UtU2UpLEJlPUU7QmU+PTA7QmUtLSl7bGV0IERlPSEwO2ZvcihsZXQgTGU9MDtMZTxTZTtMZSsrKWlmKGtlKEksQmUrTGUpIT09a2UodyxMZSkpe0RlPSExO2JyZWFrfWlmKERlKXJldHVybiBCZX1yZXR1cm4tMX11LnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHRoaXMuaW5kZXhPZih3LEUsRCkhPT0tMX0sdS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIEYodGhpcyx3LEUsRCwhMCl9LHUucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gRih0aGlzLHcsRSxELCExKX07ZnVuY3Rpb24gSihJLHcsRSxEKXtFPU51bWJlcihFKXx8MDtjb25zdCBWPUkubGVuZ3RoLUU7RD8oRD1OdW1iZXIoRCksRD5WJiYoRD1WKSk6RD1WO2NvbnN0IFo9dy5sZW5ndGg7RD5aLzImJihEPVovMik7bGV0IGNlO2ZvcihjZT0wO2NlPEQ7KytjZSl7Y29uc3QgU2U9cGFyc2VJbnQody5zdWJzdHIoY2UqMiwyKSwxNik7aWYocGUoU2UpKXJldHVybiBjZTtJW0UrY2VdPVNlfXJldHVybiBjZX1mdW5jdGlvbiBhZShJLHcsRSxEKXtyZXR1cm4gdWUoaWUodyxJLmxlbmd0aC1FKSxJLEUsRCl9ZnVuY3Rpb24gcShJLHcsRSxEKXtyZXR1cm4gdWUoc2UodyksSSxFLEQpfWZ1bmN0aW9uIEcoSSx3LEUsRCl7cmV0dXJuIHVlKG5lKHcpLEksRSxEKX1mdW5jdGlvbiByZShJLHcsRSxEKXtyZXR1cm4gdWUobGUodyxJLmxlbmd0aC1FKSxJLEUsRCl9dS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odyxFLEQsVil7aWYoRT09PXZvaWQgMClWPSJ1dGY4IixEPXRoaXMubGVuZ3RoLEU9MDtlbHNlIGlmKEQ9PT12b2lkIDAmJnR5cGVvZiBFPT0ic3RyaW5nIilWPUUsRD10aGlzLmxlbmd0aCxFPTA7ZWxzZSBpZihpc0Zpbml0ZShFKSlFPUU+Pj4wLGlzRmluaXRlKEQpPyhEPUQ+Pj4wLFY9PT12b2lkIDAmJihWPSJ1dGY4IikpOihWPUQsRD12b2lkIDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO2NvbnN0IFo9dGhpcy5sZW5ndGgtRTtpZigoRD09PXZvaWQgMHx8RD5aKSYmKEQ9Wiksdy5sZW5ndGg+MCYmKEQ8MHx8RTwwKXx8RT50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMiKTtWfHwoVj0idXRmOCIpO2xldCBjZT0hMTtmb3IoOzspc3dpdGNoKFYpe2Nhc2UiaGV4IjpyZXR1cm4gSih0aGlzLHcsRSxEKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBhZSh0aGlzLHcsRSxEKTtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBxKHRoaXMsdyxFLEQpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gRyh0aGlzLHcsRSxEKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIHJlKHRoaXMsdyxFLEQpO2RlZmF1bHQ6aWYoY2UpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitWKTtWPSgiIitWKS50b0xvd2VyQ2FzZSgpLGNlPSEwfX0sdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6IkJ1ZmZlciIsZGF0YTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnJ8fHRoaXMsMCl9fTtmdW5jdGlvbiBNKEksdyxFKXtyZXR1cm4gdz09PTAmJkU9PT1JLmxlbmd0aD9lLmZyb21CeXRlQXJyYXkoSSk6ZS5mcm9tQnl0ZUFycmF5KEkuc2xpY2UodyxFKSl9ZnVuY3Rpb24gJChJLHcsRSl7RT1NYXRoLm1pbihJLmxlbmd0aCxFKTtjb25zdCBEPVtdO2xldCBWPXc7Zm9yKDtWPEU7KXtjb25zdCBaPUlbVl07bGV0IGNlPW51bGwsU2U9Wj4yMzk/NDpaPjIyMz8zOlo+MTkxPzI6MTtpZihWK1NlPD1FKXtsZXQga2UsQmUsRGUsTGU7c3dpdGNoKFNlKXtjYXNlIDE6WjwxMjgmJihjZT1aKTticmVhaztjYXNlIDI6a2U9SVtWKzFdLChrZSYxOTIpPT09MTI4JiYoTGU9KFomMzEpPDw2fGtlJjYzLExlPjEyNyYmKGNlPUxlKSk7YnJlYWs7Y2FzZSAzOmtlPUlbVisxXSxCZT1JW1YrMl0sKGtlJjE5Mik9PT0xMjgmJihCZSYxOTIpPT09MTI4JiYoTGU9KFomMTUpPDwxMnwoa2UmNjMpPDw2fEJlJjYzLExlPjIwNDcmJihMZTw1NTI5Nnx8TGU+NTczNDMpJiYoY2U9TGUpKTticmVhaztjYXNlIDQ6a2U9SVtWKzFdLEJlPUlbVisyXSxEZT1JW1YrM10sKGtlJjE5Mik9PT0xMjgmJihCZSYxOTIpPT09MTI4JiYoRGUmMTkyKT09PTEyOCYmKExlPShaJjE1KTw8MTh8KGtlJjYzKTw8MTJ8KEJlJjYzKTw8NnxEZSY2MyxMZT42NTUzNSYmTGU8MTExNDExMiYmKGNlPUxlKSl9fWNlPT09bnVsbD8oY2U9NjU1MzMsU2U9MSk6Y2U+NjU1MzUmJihjZS09NjU1MzYsRC5wdXNoKGNlPj4+MTAmMTAyM3w1NTI5NiksY2U9NTYzMjB8Y2UmMTAyMyksRC5wdXNoKGNlKSxWKz1TZX1yZXR1cm4gSChEKX1jb25zdCBVPTQwOTY7ZnVuY3Rpb24gSChJKXtjb25zdCB3PUkubGVuZ3RoO2lmKHc8PVUpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLEkpO2xldCBFPSIiLEQ9MDtmb3IoO0Q8dzspRSs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsSS5zbGljZShELEQrPVUpKTtyZXR1cm4gRX1mdW5jdGlvbiBlZShJLHcsRSl7bGV0IEQ9IiI7RT1NYXRoLm1pbihJLmxlbmd0aCxFKTtmb3IobGV0IFY9dztWPEU7KytWKUQrPVN0cmluZy5mcm9tQ2hhckNvZGUoSVtWXSYxMjcpO3JldHVybiBEfWZ1bmN0aW9uIGdlKEksdyxFKXtsZXQgRD0iIjtFPU1hdGgubWluKEkubGVuZ3RoLEUpO2ZvcihsZXQgVj13O1Y8RTsrK1YpRCs9U3RyaW5nLmZyb21DaGFyQ29kZShJW1ZdKTtyZXR1cm4gRH1mdW5jdGlvbiBtZShJLHcsRSl7Y29uc3QgRD1JLmxlbmd0aDsoIXd8fHc8MCkmJih3PTApLCghRXx8RTwwfHxFPkQpJiYoRT1EKTtsZXQgVj0iIjtmb3IobGV0IFo9dztaPEU7KytaKVYrPWJlW0lbWl1dO3JldHVybiBWfWZ1bmN0aW9uIGZlKEksdyxFKXtjb25zdCBEPUkuc2xpY2UodyxFKTtsZXQgVj0iIjtmb3IobGV0IFo9MDtaPEQubGVuZ3RoLTE7Wis9MilWKz1TdHJpbmcuZnJvbUNoYXJDb2RlKERbWl0rRFtaKzFdKjI1Nik7cmV0dXJuIFZ9dS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odyxFKXtjb25zdCBEPXRoaXMubGVuZ3RoO3c9fn53LEU9RT09PXZvaWQgMD9EOn5+RSx3PDA/KHcrPUQsdzwwJiYodz0wKSk6dz5EJiYodz1EKSxFPDA/KEUrPUQsRTwwJiYoRT0wKSk6RT5EJiYoRT1EKSxFPHcmJihFPXcpO2NvbnN0IFY9dGhpcy5zdWJhcnJheSh3LEUpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YoVix1LnByb3RvdHlwZSksVn07ZnVuY3Rpb24gaGUoSSx3LEUpe2lmKEklMSE9PTB8fEk8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IGlzIG5vdCB1aW50Iik7aWYoSSt3PkUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgiKX11LnByb3RvdHlwZS5yZWFkVWludExFPXUucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24odyxFLEQpe3c9dz4+PjAsRT1FPj4+MCxEfHxoZSh3LEUsdGhpcy5sZW5ndGgpO2xldCBWPXRoaXNbd10sWj0xLGNlPTA7Zm9yKDsrK2NlPEUmJihaKj0yNTYpOylWKz10aGlzW3crY2VdKlo7cmV0dXJuIFZ9LHUucHJvdG90eXBlLnJlYWRVaW50QkU9dS5wcm90b3R5cGUucmVhZFVJbnRCRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9dGhpc1t3Ky0tRV0sWj0xO2Zvcig7RT4wJiYoWio9MjU2KTspVis9dGhpc1t3Ky0tRV0qWjtyZXR1cm4gVn0sdS5wcm90b3R5cGUucmVhZFVpbnQ4PXUucHJvdG90eXBlLnJlYWRVSW50OD1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsMSx0aGlzLmxlbmd0aCksdGhpc1t3XX0sdS5wcm90b3R5cGUucmVhZFVpbnQxNkxFPXUucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCksdGhpc1t3XXx0aGlzW3crMV08PDh9LHUucHJvdG90eXBlLnJlYWRVaW50MTZCRT11LnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDIsdGhpcy5sZW5ndGgpLHRoaXNbd108PDh8dGhpc1t3KzFdfSx1LnByb3RvdHlwZS5yZWFkVWludDMyTEU9dS5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSwodGhpc1t3XXx0aGlzW3crMV08PDh8dGhpc1t3KzJdPDwxNikrdGhpc1t3KzNdKjE2Nzc3MjE2fSx1LnByb3RvdHlwZS5yZWFkVWludDMyQkU9dS5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSx0aGlzW3ddKjE2Nzc3MjE2Kyh0aGlzW3crMV08PDE2fHRoaXNbdysyXTw8OHx0aGlzW3crM10pfSx1LnByb3RvdHlwZS5yZWFkQmlnVUludDY0TEU9d2UoZnVuY3Rpb24odyl7dz13Pj4+MCxYKHcsIm9mZnNldCIpO2NvbnN0IEU9dGhpc1t3XSxEPXRoaXNbdys3XTsoRT09PXZvaWQgMHx8RD09PXZvaWQgMCkmJm9lKHcsdGhpcy5sZW5ndGgtOCk7Y29uc3QgVj1FK3RoaXNbKyt3XSoyKio4K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqMjQsWj10aGlzWysrd10rdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddKjIqKjE2K0QqMioqMjQ7cmV0dXJuIEJpZ0ludChWKSsoQmlnSW50KFopPDxCaWdJbnQoMzIpKX0pLHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRCRT13ZShmdW5jdGlvbih3KXt3PXc+Pj4wLFgodywib2Zmc2V0Iik7Y29uc3QgRT10aGlzW3ddLEQ9dGhpc1t3KzddOyhFPT09dm9pZCAwfHxEPT09dm9pZCAwKSYmb2Uodyx0aGlzLmxlbmd0aC04KTtjb25zdCBWPUUqMioqMjQrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKio4K3RoaXNbKyt3XSxaPXRoaXNbKyt3XSoyKioyNCt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjgrRDtyZXR1cm4oQmlnSW50KFYpPDxCaWdJbnQoMzIpKStCaWdJbnQoWil9KSx1LnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24odyxFLEQpe3c9dz4+PjAsRT1FPj4+MCxEfHxoZSh3LEUsdGhpcy5sZW5ndGgpO2xldCBWPXRoaXNbd10sWj0xLGNlPTA7Zm9yKDsrK2NlPEUmJihaKj0yNTYpOylWKz10aGlzW3crY2VdKlo7cmV0dXJuIFoqPTEyOCxWPj1aJiYoVi09TWF0aC5wb3coMiw4KkUpKSxWfSx1LnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24odyxFLEQpe3c9dz4+PjAsRT1FPj4+MCxEfHxoZSh3LEUsdGhpcy5sZW5ndGgpO2xldCBWPUUsWj0xLGNlPXRoaXNbdystLVZdO2Zvcig7Vj4wJiYoWio9MjU2KTspY2UrPXRoaXNbdystLVZdKlo7cmV0dXJuIFoqPTEyOCxjZT49WiYmKGNlLT1NYXRoLnBvdygyLDgqRSkpLGNlfSx1LnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsMSx0aGlzLmxlbmd0aCksdGhpc1t3XSYxMjg/KDI1NS10aGlzW3ddKzEpKi0xOnRoaXNbd119LHUucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKHcsRSl7dz13Pj4+MCxFfHxoZSh3LDIsdGhpcy5sZW5ndGgpO2NvbnN0IEQ9dGhpc1t3XXx0aGlzW3crMV08PDg7cmV0dXJuIEQmMzI3Njg/RHw0Mjk0OTAxNzYwOkR9LHUucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKHcsRSl7dz13Pj4+MCxFfHxoZSh3LDIsdGhpcy5sZW5ndGgpO2NvbnN0IEQ9dGhpc1t3KzFdfHRoaXNbd108PDg7cmV0dXJuIEQmMzI3Njg/RHw0Mjk0OTAxNzYwOkR9LHUucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSx0aGlzW3ddfHRoaXNbdysxXTw8OHx0aGlzW3crMl08PDE2fHRoaXNbdyszXTw8MjR9LHUucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSx0aGlzW3ddPDwyNHx0aGlzW3crMV08PDE2fHRoaXNbdysyXTw8OHx0aGlzW3crM119LHUucHJvdG90eXBlLnJlYWRCaWdJbnQ2NExFPXdlKGZ1bmN0aW9uKHcpe3c9dz4+PjAsWCh3LCJvZmZzZXQiKTtjb25zdCBFPXRoaXNbd10sRD10aGlzW3crN107KEU9PT12b2lkIDB8fEQ9PT12b2lkIDApJiZvZSh3LHRoaXMubGVuZ3RoLTgpO2NvbnN0IFY9dGhpc1t3KzRdK3RoaXNbdys1XSoyKio4K3RoaXNbdys2XSoyKioxNisoRDw8MjQpO3JldHVybihCaWdJbnQoVik8PEJpZ0ludCgzMikpK0JpZ0ludChFK3RoaXNbKyt3XSoyKio4K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqMjQpfSksdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0QkU9d2UoZnVuY3Rpb24odyl7dz13Pj4+MCxYKHcsIm9mZnNldCIpO2NvbnN0IEU9dGhpc1t3XSxEPXRoaXNbdys3XTsoRT09PXZvaWQgMHx8RD09PXZvaWQgMCkmJm9lKHcsdGhpcy5sZW5ndGgtOCk7Y29uc3QgVj0oRTw8MjQpK3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqOCt0aGlzWysrd107cmV0dXJuKEJpZ0ludChWKTw8QmlnSW50KDMyKSkrQmlnSW50KHRoaXNbKyt3XSoyKioyNCt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjgrRCl9KSx1LnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsdywhMCwyMyw0KX0sdS5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLHcsITEsMjMsNCl9LHUucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsOCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsdywhMCw1Miw4KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw4LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx3LCExLDUyLDgpfTtmdW5jdGlvbiBfZShJLHcsRSxELFYsWil7aWYoIXUuaXNCdWZmZXIoSSkpdGhyb3cgbmV3IFR5cGVFcnJvcignImJ1ZmZlciIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHc+Vnx8dzxaKXRocm93IG5ldyBSYW5nZUVycm9yKCcidmFsdWUiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihFK0Q+SS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfXUucHJvdG90eXBlLndyaXRlVWludExFPXUucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKHcsRSxELFYpe2lmKHc9K3csRT1FPj4+MCxEPUQ+Pj4wLCFWKXtjb25zdCBTZT1NYXRoLnBvdygyLDgqRCktMTtfZSh0aGlzLHcsRSxELFNlLDApfWxldCBaPTEsY2U9MDtmb3IodGhpc1tFXT13JjI1NTsrK2NlPEQmJihaKj0yNTYpOyl0aGlzW0UrY2VdPXcvWiYyNTU7cmV0dXJuIEUrRH0sdS5wcm90b3R5cGUud3JpdGVVaW50QkU9dS5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odyxFLEQsVil7aWYodz0rdyxFPUU+Pj4wLEQ9RD4+PjAsIVYpe2NvbnN0IFNlPU1hdGgucG93KDIsOCpEKS0xO19lKHRoaXMsdyxFLEQsU2UsMCl9bGV0IFo9RC0xLGNlPTE7Zm9yKHRoaXNbRStaXT13JjI1NTstLVo+PTAmJihjZSo9MjU2KTspdGhpc1tFK1pdPXcvY2UmMjU1O3JldHVybiBFK0R9LHUucHJvdG90eXBlLndyaXRlVWludDg9dS5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwxLDI1NSwwKSx0aGlzW0VdPXcmMjU1LEUrMX0sdS5wcm90b3R5cGUud3JpdGVVaW50MTZMRT11LnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDIsNjU1MzUsMCksdGhpc1tFXT13JjI1NSx0aGlzW0UrMV09dz4+PjgsRSsyfSx1LnByb3RvdHlwZS53cml0ZVVpbnQxNkJFPXUucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMiw2NTUzNSwwKSx0aGlzW0VdPXc+Pj44LHRoaXNbRSsxXT13JjI1NSxFKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDMyTEU9dS5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSw0LDQyOTQ5NjcyOTUsMCksdGhpc1tFKzNdPXc+Pj4yNCx0aGlzW0UrMl09dz4+PjE2LHRoaXNbRSsxXT13Pj4+OCx0aGlzW0VdPXcmMjU1LEUrNH0sdS5wcm90b3R5cGUud3JpdGVVaW50MzJCRT11LnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsNDI5NDk2NzI5NSwwKSx0aGlzW0VdPXc+Pj4yNCx0aGlzW0UrMV09dz4+PjE2LHRoaXNbRSsyXT13Pj4+OCx0aGlzW0UrM109dyYyNTUsRSs0fTtmdW5jdGlvbiB4ZShJLHcsRSxELFYpeyRlKHcsRCxWLEksRSw3KTtsZXQgWj1OdW1iZXIodyZCaWdJbnQoNDI5NDk2NzI5NSkpO0lbRSsrXT1aLFo9Wj4+OCxJW0UrK109WixaPVo+PjgsSVtFKytdPVosWj1aPj44LElbRSsrXT1aO2xldCBjZT1OdW1iZXIodz4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiBJW0UrK109Y2UsY2U9Y2U+PjgsSVtFKytdPWNlLGNlPWNlPj44LElbRSsrXT1jZSxjZT1jZT4+OCxJW0UrK109Y2UsRX1mdW5jdGlvbiBOZShJLHcsRSxELFYpeyRlKHcsRCxWLEksRSw3KTtsZXQgWj1OdW1iZXIodyZCaWdJbnQoNDI5NDk2NzI5NSkpO0lbRSs3XT1aLFo9Wj4+OCxJW0UrNl09WixaPVo+PjgsSVtFKzVdPVosWj1aPj44LElbRSs0XT1aO2xldCBjZT1OdW1iZXIodz4+QmlnSW50KDMyKSZCaWdJbnQoNDI5NDk2NzI5NSkpO3JldHVybiBJW0UrM109Y2UsY2U9Y2U+PjgsSVtFKzJdPWNlLGNlPWNlPj44LElbRSsxXT1jZSxjZT1jZT4+OCxJW0VdPWNlLEUrOH11LnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NExFPXdlKGZ1bmN0aW9uKHcsRT0wKXtyZXR1cm4geGUodGhpcyx3LEUsQmlnSW50KDApLEJpZ0ludCgiMHhmZmZmZmZmZmZmZmZmZmZmIikpfSksdS5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRCRT13ZShmdW5jdGlvbih3LEU9MCl7cmV0dXJuIE5lKHRoaXMsdyxFLEJpZ0ludCgwKSxCaWdJbnQoIjB4ZmZmZmZmZmZmZmZmZmZmZiIpKX0pLHUucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24odyxFLEQsVil7aWYodz0rdyxFPUU+Pj4wLCFWKXtjb25zdCBrZT1NYXRoLnBvdygyLDgqRC0xKTtfZSh0aGlzLHcsRSxELGtlLTEsLWtlKX1sZXQgWj0wLGNlPTEsU2U9MDtmb3IodGhpc1tFXT13JjI1NTsrK1o8RCYmKGNlKj0yNTYpOyl3PDAmJlNlPT09MCYmdGhpc1tFK1otMV0hPT0wJiYoU2U9MSksdGhpc1tFK1pdPSh3L2NlPj4wKS1TZSYyNTU7cmV0dXJuIEUrRH0sdS5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbih3LEUsRCxWKXtpZih3PSt3LEU9RT4+PjAsIVYpe2NvbnN0IGtlPU1hdGgucG93KDIsOCpELTEpO19lKHRoaXMsdyxFLEQsa2UtMSwta2UpfWxldCBaPUQtMSxjZT0xLFNlPTA7Zm9yKHRoaXNbRStaXT13JjI1NTstLVo+PTAmJihjZSo9MjU2KTspdzwwJiZTZT09PTAmJnRoaXNbRStaKzFdIT09MCYmKFNlPTEpLHRoaXNbRStaXT0ody9jZT4+MCktU2UmMjU1O3JldHVybiBFK0R9LHUucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwxLDEyNywtMTI4KSx3PDAmJih3PTI1NSt3KzEpLHRoaXNbRV09dyYyNTUsRSsxfSx1LnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMiwzMjc2NywtMzI3NjgpLHRoaXNbRV09dyYyNTUsdGhpc1tFKzFdPXc+Pj44LEUrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDIsMzI3NjcsLTMyNzY4KSx0aGlzW0VdPXc+Pj44LHRoaXNbRSsxXT13JjI1NSxFKzJ9LHUucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHRoaXNbRV09dyYyNTUsdGhpc1tFKzFdPXc+Pj44LHRoaXNbRSsyXT13Pj4+MTYsdGhpc1tFKzNdPXc+Pj4yNCxFKzR9LHUucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHc8MCYmKHc9NDI5NDk2NzI5NSt3KzEpLHRoaXNbRV09dz4+PjI0LHRoaXNbRSsxXT13Pj4+MTYsdGhpc1tFKzJdPXc+Pj44LHRoaXNbRSszXT13JjI1NSxFKzR9LHUucHJvdG90eXBlLndyaXRlQmlnSW50NjRMRT13ZShmdW5jdGlvbih3LEU9MCl7cmV0dXJuIHhlKHRoaXMsdyxFLC1CaWdJbnQoIjB4ODAwMDAwMDAwMDAwMDAwMCIpLEJpZ0ludCgiMHg3ZmZmZmZmZmZmZmZmZmZmIikpfSksdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NEJFPXdlKGZ1bmN0aW9uKHcsRT0wKXtyZXR1cm4gTmUodGhpcyx3LEUsLUJpZ0ludCgiMHg4MDAwMDAwMDAwMDAwMDAwIiksQmlnSW50KCIweDdmZmZmZmZmZmZmZmZmZmYiKSl9KTtmdW5jdGlvbiBJZShJLHcsRSxELFYsWil7aWYoRStEPkkubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZihFPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIFJlKEksdyxFLEQsVil7cmV0dXJuIHc9K3csRT1FPj4+MCxWfHxJZShJLHcsRSw0KSxuLndyaXRlKEksdyxFLEQsMjMsNCksRSs0fXUucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIFJlKHRoaXMsdyxFLCEwLEQpfSx1LnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiBSZSh0aGlzLHcsRSwhMSxEKX07ZnVuY3Rpb24gdmUoSSx3LEUsRCxWKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLFZ8fEllKEksdyxFLDgpLG4ud3JpdGUoSSx3LEUsRCw1Miw4KSxFKzh9dS5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHZlKHRoaXMsdyxFLCEwLEQpfSx1LnByb3RvdHlwZS53cml0ZURvdWJsZUJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdmUodGhpcyx3LEUsITEsRCl9LHUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odyxFLEQsVil7aWYoIXUuaXNCdWZmZXIodykpdGhyb3cgbmV3IFR5cGVFcnJvcigiYXJndW1lbnQgc2hvdWxkIGJlIGEgQnVmZmVyIik7aWYoRHx8KEQ9MCksIVYmJlYhPT0wJiYoVj10aGlzLmxlbmd0aCksRT49dy5sZW5ndGgmJihFPXcubGVuZ3RoKSxFfHwoRT0wKSxWPjAmJlY8RCYmKFY9RCksVj09PUR8fHcubGVuZ3RoPT09MHx8dGhpcy5sZW5ndGg9PT0wKXJldHVybiAwO2lmKEU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKEQ8MHx8RD49dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKFY8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTtWPnRoaXMubGVuZ3RoJiYoVj10aGlzLmxlbmd0aCksdy5sZW5ndGgtRTxWLUQmJihWPXcubGVuZ3RoLUUrRCk7Y29uc3QgWj1WLUQ7cmV0dXJuIHRoaXM9PT13JiZ0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuY29weVdpdGhpbj09ImZ1bmN0aW9uIj90aGlzLmNvcHlXaXRoaW4oRSxELFYpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHcsdGhpcy5zdWJhcnJheShELFYpLEUpLFp9LHUucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24odyxFLEQsVil7aWYodHlwZW9mIHc9PSJzdHJpbmciKXtpZih0eXBlb2YgRT09InN0cmluZyI/KFY9RSxFPTAsRD10aGlzLmxlbmd0aCk6dHlwZW9mIEQ9PSJzdHJpbmciJiYoVj1ELEQ9dGhpcy5sZW5ndGgpLFYhPT12b2lkIDAmJnR5cGVvZiBWIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYodHlwZW9mIFY9PSJzdHJpbmciJiYhdS5pc0VuY29kaW5nKFYpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrVik7aWYody5sZW5ndGg9PT0xKXtjb25zdCBjZT13LmNoYXJDb2RlQXQoMCk7KFY9PT0idXRmOCImJmNlPDEyOHx8Vj09PSJsYXRpbjEiKSYmKHc9Y2UpfX1lbHNlIHR5cGVvZiB3PT0ibnVtYmVyIj93PXcmMjU1OnR5cGVvZiB3PT0iYm9vbGVhbiImJih3PU51bWJlcih3KSk7aWYoRTwwfHx0aGlzLmxlbmd0aDxFfHx0aGlzLmxlbmd0aDxEKXRocm93IG5ldyBSYW5nZUVycm9yKCJPdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihEPD1FKXJldHVybiB0aGlzO0U9RT4+PjAsRD1EPT09dm9pZCAwP3RoaXMubGVuZ3RoOkQ+Pj4wLHd8fCh3PTApO2xldCBaO2lmKHR5cGVvZiB3PT0ibnVtYmVyIilmb3IoWj1FO1o8RDsrK1opdGhpc1taXT13O2Vsc2V7Y29uc3QgY2U9dS5pc0J1ZmZlcih3KT93OnUuZnJvbSh3LFYpLFNlPWNlLmxlbmd0aDtpZihTZT09PTApdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHZhbHVlICInK3crJyIgaXMgaW52YWxpZCBmb3IgYXJndW1lbnQgInZhbHVlIicpO2ZvcihaPTA7WjxELUU7KytaKXRoaXNbWitFXT1jZVtaJVNlXX1yZXR1cm4gdGhpc307Y29uc3QgQ2U9e307ZnVuY3Rpb24gTWUoSSx3LEUpe0NlW0ldPWNsYXNzIGV4dGVuZHMgRXtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIm1lc3NhZ2UiLHt2YWx1ZTp3LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0aGlzLm5hbWU9YCR7dGhpcy5uYW1lfSBbJHtJfV1gLHRoaXMuc3RhY2ssZGVsZXRlIHRoaXMubmFtZX1nZXQgY29kZSgpe3JldHVybiBJfXNldCBjb2RlKFYpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJjb2RlIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6Vix3cml0YWJsZTohMH0pfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5uYW1lfSBbJHtJfV06ICR7dGhpcy5tZXNzYWdlfWB9fX1NZSgiRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTIixmdW5jdGlvbihJKXtyZXR1cm4gST9gJHtJfSBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHNgOiJBdHRlbXB0IHRvIGFjY2VzcyBtZW1vcnkgb3V0c2lkZSBidWZmZXIgYm91bmRzIn0sUmFuZ2VFcnJvciksTWUoIkVSUl9JTlZBTElEX0FSR19UWVBFIixmdW5jdGlvbihJLHcpe3JldHVybmBUaGUgIiR7SX0iIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2Ygd31gfSxUeXBlRXJyb3IpLE1lKCJFUlJfT1VUX09GX1JBTkdFIixmdW5jdGlvbihJLHcsRSl7bGV0IEQ9YFRoZSB2YWx1ZSBvZiAiJHtJfSIgaXMgb3V0IG9mIHJhbmdlLmAsVj1FO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKEUpJiZNYXRoLmFicyhFKT4yKiozMj9WPVVlKFN0cmluZyhFKSk6dHlwZW9mIEU9PSJiaWdpbnQiJiYoVj1TdHJpbmcoRSksKEU+QmlnSW50KDIpKipCaWdJbnQoMzIpfHxFPC0oQmlnSW50KDIpKipCaWdJbnQoMzIpKSkmJihWPVVlKFYpKSxWKz0ibiIpLEQrPWAgSXQgbXVzdCBiZSAke3d9LiBSZWNlaXZlZCAke1Z9YCxEfSxSYW5nZUVycm9yKTtmdW5jdGlvbiBVZShJKXtsZXQgdz0iIixFPUkubGVuZ3RoO2NvbnN0IEQ9SVswXT09PSItIj8xOjA7Zm9yKDtFPj1EKzQ7RS09Myl3PWBfJHtJLnNsaWNlKEUtMyxFKX0ke3d9YDtyZXR1cm5gJHtJLnNsaWNlKDAsRSl9JHt3fWB9ZnVuY3Rpb24gRmUoSSx3LEUpe1godywib2Zmc2V0IiksKElbd109PT12b2lkIDB8fElbdytFXT09PXZvaWQgMCkmJm9lKHcsSS5sZW5ndGgtKEUrMSkpfWZ1bmN0aW9uICRlKEksdyxFLEQsVixaKXtpZihJPkV8fEk8dyl7Y29uc3QgY2U9dHlwZW9mIHc9PSJiaWdpbnQiPyJuIjoiIjtsZXQgU2U7dGhyb3cgWj4zP3c9PT0wfHx3PT09QmlnSW50KDApP1NlPWA+PSAwJHtjZX0gYW5kIDwgMiR7Y2V9ICoqICR7KForMSkqOH0ke2NlfWA6U2U9YD49IC0oMiR7Y2V9ICoqICR7KForMSkqOC0xfSR7Y2V9KSBhbmQgPCAyICoqICR7KForMSkqOC0xfSR7Y2V9YDpTZT1gPj0gJHt3fSR7Y2V9IGFuZCA8PSAke0V9JHtjZX1gLG5ldyBDZS5FUlJfT1VUX09GX1JBTkdFKCJ2YWx1ZSIsU2UsSSl9RmUoRCxWLFopfWZ1bmN0aW9uIFgoSSx3KXtpZih0eXBlb2YgSSE9Im51bWJlciIpdGhyb3cgbmV3IENlLkVSUl9JTlZBTElEX0FSR19UWVBFKHcsIm51bWJlciIsSSl9ZnVuY3Rpb24gb2UoSSx3LEUpe3Rocm93IE1hdGguZmxvb3IoSSkhPT1JPyhYKEksRSksbmV3IENlLkVSUl9PVVRfT0ZfUkFOR0UoRXx8Im9mZnNldCIsImFuIGludGVnZXIiLEkpKTp3PDA/bmV3IENlLkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUzpuZXcgQ2UuRVJSX09VVF9PRl9SQU5HRShFfHwib2Zmc2V0IixgPj0gJHtFPzE6MH0gYW5kIDw9ICR7d31gLEkpfWNvbnN0IFE9L1teKy8wLTlBLVphLXotX10vZztmdW5jdGlvbiBZKEkpe2lmKEk9SS5zcGxpdCgiPSIpWzBdLEk9SS50cmltKCkucmVwbGFjZShRLCIiKSxJLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7SS5sZW5ndGglNCE9PTA7KUk9SSsiPSI7cmV0dXJuIEl9ZnVuY3Rpb24gaWUoSSx3KXt3PXd8fDEvMDtsZXQgRTtjb25zdCBEPUkubGVuZ3RoO2xldCBWPW51bGw7Y29uc3QgWj1bXTtmb3IobGV0IGNlPTA7Y2U8RDsrK2NlKXtpZihFPUkuY2hhckNvZGVBdChjZSksRT41NTI5NSYmRTw1NzM0NCl7aWYoIVYpe2lmKEU+NTYzMTkpeyh3LT0zKT4tMSYmWi5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1lbHNlIGlmKGNlKzE9PT1EKXsody09Myk+LTEmJloucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9Vj1FO2NvbnRpbnVlfWlmKEU8NTYzMjApeyh3LT0zKT4tMSYmWi5wdXNoKDIzOSwxOTEsMTg5KSxWPUU7Y29udGludWV9RT0oVi01NTI5Njw8MTB8RS01NjMyMCkrNjU1MzZ9ZWxzZSBWJiYody09Myk+LTEmJloucHVzaCgyMzksMTkxLDE4OSk7aWYoVj1udWxsLEU8MTI4KXtpZigody09MSk8MClicmVhaztaLnB1c2goRSl9ZWxzZSBpZihFPDIwNDgpe2lmKCh3LT0yKTwwKWJyZWFrO1oucHVzaChFPj42fDE5MixFJjYzfDEyOCl9ZWxzZSBpZihFPDY1NTM2KXtpZigody09Myk8MClicmVhaztaLnB1c2goRT4+MTJ8MjI0LEU+PjYmNjN8MTI4LEUmNjN8MTI4KX1lbHNlIGlmKEU8MTExNDExMil7aWYoKHctPTQpPDApYnJlYWs7Wi5wdXNoKEU+PjE4fDI0MCxFPj4xMiY2M3wxMjgsRT4+NiY2M3wxMjgsRSY2M3wxMjgpfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGUgcG9pbnQiKX1yZXR1cm4gWn1mdW5jdGlvbiBzZShJKXtjb25zdCB3PVtdO2ZvcihsZXQgRT0wO0U8SS5sZW5ndGg7KytFKXcucHVzaChJLmNoYXJDb2RlQXQoRSkmMjU1KTtyZXR1cm4gd31mdW5jdGlvbiBsZShJLHcpe2xldCBFLEQsVjtjb25zdCBaPVtdO2ZvcihsZXQgY2U9MDtjZTxJLmxlbmd0aCYmISgody09Mik8MCk7KytjZSlFPUkuY2hhckNvZGVBdChjZSksRD1FPj44LFY9RSUyNTYsWi5wdXNoKFYpLFoucHVzaChEKTtyZXR1cm4gWn1mdW5jdGlvbiBuZShJKXtyZXR1cm4gZS50b0J5dGVBcnJheShZKEkpKX1mdW5jdGlvbiB1ZShJLHcsRSxEKXtsZXQgVjtmb3IoVj0wO1Y8RCYmIShWK0U+PXcubGVuZ3RofHxWPj1JLmxlbmd0aCk7KytWKXdbVitFXT1JW1ZdO3JldHVybiBWfWZ1bmN0aW9uIGRlKEksdyl7cmV0dXJuIEkgaW5zdGFuY2VvZiB3fHxJIT1udWxsJiZJLmNvbnN0cnVjdG9yIT1udWxsJiZJLmNvbnN0cnVjdG9yLm5hbWUhPW51bGwmJkkuY29uc3RydWN0b3IubmFtZT09PXcubmFtZX1mdW5jdGlvbiBwZShJKXtyZXR1cm4gSSE9PUl9Y29uc3QgYmU9ZnVuY3Rpb24oKXtjb25zdCBJPSIwMTIzNDU2Nzg5YWJjZGVmIix3PW5ldyBBcnJheSgyNTYpO2ZvcihsZXQgRT0wO0U8MTY7KytFKXtjb25zdCBEPUUqMTY7Zm9yKGxldCBWPTA7VjwxNjsrK1Ypd1tEK1ZdPUlbRV0rSVtWXX1yZXR1cm4gd30oKTtmdW5jdGlvbiB3ZShJKXtyZXR1cm4gdHlwZW9mIEJpZ0ludD4idSI/T2U6SX1mdW5jdGlvbiBPZSgpe3Rocm93IG5ldyBFcnJvcigiQmlnSW50IG5vdCBzdXBwb3J0ZWQiKX19KGJ1ZmZlcikpLGJ1ZmZlcn12YXIgYWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yPXt9LGhhc1JlcXVpcmVkQWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yO2Z1bmN0aW9uIHJlcXVpcmVBYnN0cmFjdFN1YmxldmVsSXRlcmF0b3IoKXtpZihoYXNSZXF1aXJlZEFic3RyYWN0U3VibGV2ZWxJdGVyYXRvcilyZXR1cm4gYWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yO2hhc1JlcXVpcmVkQWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yPTE7Y29uc3R7QWJzdHJhY3RJdGVyYXRvcjp0LEFic3RyYWN0S2V5SXRlcmF0b3I6ZSxBYnN0cmFjdFZhbHVlSXRlcmF0b3I6bn09YWJzdHJhY3RJdGVyYXRvcixvPVN5bWJvbCgidW5maXgiKSxkPVN5bWJvbCgiaXRlcmF0b3IiKSxoPVN5bWJvbCgiaGFuZGxlT25lIiksbD1TeW1ib2woImhhbmRsZU1hbnkiKSx1PVN5bWJvbCgiY2FsbGJhY2siKTtjbGFzcyBwIGV4dGVuZHMgdHtjb25zdHJ1Y3RvcihfLE8sVCxqKXtzdXBlcihfLE8pLHRoaXNbZF09VCx0aGlzW29dPWosdGhpc1toXT10aGlzW2hdLmJpbmQodGhpcyksdGhpc1tsXT10aGlzW2xdLmJpbmQodGhpcyksdGhpc1t1XT1udWxsfVtoXShfLE8sVCl7Y29uc3Qgaj10aGlzW3VdO2lmKF8pcmV0dXJuIGooXyk7TyE9PXZvaWQgMCYmKE89dGhpc1tvXShPKSksaihfLE8sVCl9W2xdKF8sTyl7Y29uc3QgVD10aGlzW3VdO2lmKF8pcmV0dXJuIFQoXyk7Zm9yKGNvbnN0IGogb2YgTyl7Y29uc3QgTj1qWzBdO04hPT12b2lkIDAmJihqWzBdPXRoaXNbb10oTikpfVQoXyxPKX19Y2xhc3MgZyBleHRlbmRzIGV7Y29uc3RydWN0b3IoXyxPLFQsail7c3VwZXIoXyxPKSx0aGlzW2RdPVQsdGhpc1tvXT1qLHRoaXNbaF09dGhpc1toXS5iaW5kKHRoaXMpLHRoaXNbbF09dGhpc1tsXS5iaW5kKHRoaXMpLHRoaXNbdV09bnVsbH1baF0oXyxPKXtjb25zdCBUPXRoaXNbdV07aWYoXylyZXR1cm4gVChfKTtPIT09dm9pZCAwJiYoTz10aGlzW29dKE8pKSxUKF8sTyl9W2xdKF8sTyl7Y29uc3QgVD10aGlzW3VdO2lmKF8pcmV0dXJuIFQoXyk7Zm9yKGxldCBqPTA7ajxPLmxlbmd0aDtqKyspe2NvbnN0IE49T1tqXTtOIT09dm9pZCAwJiYoT1tqXT10aGlzW29dKE4pKX1UKF8sTyl9fWNsYXNzIHYgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKF8sTyxUKXtzdXBlcihfLE8pLHRoaXNbZF09VH19Zm9yKGNvbnN0IGIgb2ZbcCxnXSliLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihfKXt0aGlzW3VdPV8sdGhpc1tkXS5uZXh0KHRoaXNbaF0pfSxiLnByb3RvdHlwZS5fbmV4dHY9ZnVuY3Rpb24oXyxPLFQpe3RoaXNbdV09VCx0aGlzW2RdLm5leHR2KF8sTyx0aGlzW2xdKX0sYi5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbihfLE8pe3RoaXNbdV09Tyx0aGlzW2RdLmFsbChfLHRoaXNbbF0pfTtmb3IoY29uc3QgYiBvZlt2XSliLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbihfKXt0aGlzW2RdLm5leHQoXyl9LGIucHJvdG90eXBlLl9uZXh0dj1mdW5jdGlvbihfLE8sVCl7dGhpc1tkXS5uZXh0dihfLE8sVCl9LGIucHJvdG90eXBlLl9hbGw9ZnVuY3Rpb24oXyxPKXt0aGlzW2RdLmFsbChfLE8pfTtmb3IoY29uc3QgYiBvZltwLGcsdl0pYi5wcm90b3R5cGUuX3NlZWs9ZnVuY3Rpb24oXyxPKXt0aGlzW2RdLnNlZWsoXyxPKX0sYi5wcm90b3R5cGUuX2Nsb3NlPWZ1bmN0aW9uKF8pe3RoaXNbZF0uY2xvc2UoXyl9O3JldHVybiBhYnN0cmFjdFN1YmxldmVsSXRlcmF0b3IuQWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yPXAsYWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yLkFic3RyYWN0U3VibGV2ZWxLZXlJdGVyYXRvcj1nLGFic3RyYWN0U3VibGV2ZWxJdGVyYXRvci5BYnN0cmFjdFN1YmxldmVsVmFsdWVJdGVyYXRvcj12LGFic3RyYWN0U3VibGV2ZWxJdGVyYXRvcn12YXIgYWJzdHJhY3RTdWJsZXZlbCxoYXNSZXF1aXJlZEFic3RyYWN0U3VibGV2ZWw7ZnVuY3Rpb24gcmVxdWlyZUFic3RyYWN0U3VibGV2ZWwoKXtpZihoYXNSZXF1aXJlZEFic3RyYWN0U3VibGV2ZWwpcmV0dXJuIGFic3RyYWN0U3VibGV2ZWw7aGFzUmVxdWlyZWRBYnN0cmFjdFN1YmxldmVsPTE7Y29uc3QgdD1tb2R1bGVFcnJvcix7QnVmZmVyOmV9PXJlcXVpcmVCdWZmZXIoKXx8e30se0Fic3RyYWN0U3VibGV2ZWxJdGVyYXRvcjpuLEFic3RyYWN0U3VibGV2ZWxLZXlJdGVyYXRvcjpvLEFic3RyYWN0U3VibGV2ZWxWYWx1ZUl0ZXJhdG9yOmR9PXJlcXVpcmVBYnN0cmFjdFN1YmxldmVsSXRlcmF0b3IoKSxoPVN5bWJvbCgicHJlZml4IiksbD1TeW1ib2woInVwcGVyQm91bmQiKSx1PVN5bWJvbCgicHJlZml4UmFuZ2UiKSxwPVN5bWJvbCgicGFyZW50IiksZz1TeW1ib2woInVuZml4Iiksdj1uZXcgVGV4dEVuY29kZXIsYj17c2VwYXJhdG9yOiIhIn07YWJzdHJhY3RTdWJsZXZlbD1mdW5jdGlvbih7QWJzdHJhY3RMZXZlbDpCfSl7Y2xhc3MgQyBleHRlbmRzIEJ7c3RhdGljIGRlZmF1bHRzKFMpe2lmKHR5cGVvZiBTPT0ic3RyaW5nIil0aHJvdyBuZXcgdCgiVGhlIHN1YmxldmVsZG93biBzdHJpbmcgc2hvcnRoYW5kIGZvciB7IHNlcGFyYXRvciB9IGhhcyBiZWVuIHJlbW92ZWQiLHtjb2RlOiJMRVZFTF9MRUdBQ1kifSk7aWYoUyYmUy5vcGVuKXRocm93IG5ldyB0KCJUaGUgc3VibGV2ZWxkb3duIG9wZW4gb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWQiLHtjb2RlOiJMRVZFTF9MRUdBQ1kifSk7cmV0dXJuIFM9PW51bGw/YjpTLnNlcGFyYXRvcj9TOnsuLi5TLHNlcGFyYXRvcjoiISJ9fWNvbnN0cnVjdG9yKFMsUCxGKXtjb25zdHtzZXBhcmF0b3I6ayxtYW5pZmVzdDpKLC4uLmFlfT1DLmRlZmF1bHRzKEYpO1A9TihQLGspO2NvbnN0IHE9ay5jaGFyQ29kZUF0KDApKzEsRz1TW3BdfHxTO2lmKCF2LmVuY29kZShQKS5ldmVyeSgkPT4kPnEmJiQ8MTI3KSl0aHJvdyBuZXcgdChgUHJlZml4IG11c3QgdXNlIGJ5dGVzID4gJHtxfSA8IDEyN2Ase2NvZGU6IkxFVkVMX0lOVkFMSURfUFJFRklYIn0pO3N1cGVyKF8oRyxKKSxhZSk7Y29uc3QgcmU9KFMucHJlZml4fHwiIikraytQK2ssTT1yZS5zbGljZSgwLC0xKStTdHJpbmcuZnJvbUNoYXJDb2RlKHEpO3RoaXNbcF09Ryx0aGlzW2hdPW5ldyBUKHJlKSx0aGlzW2xdPW5ldyBUKE0pLHRoaXNbZ109bmV3IGosdGhpcy5uZXh0VGljaz1HLm5leHRUaWNrfXByZWZpeEtleShTLFApe2lmKFA9PT0idXRmOCIpcmV0dXJuIHRoaXNbaF0udXRmOCtTO2lmKFMuYnl0ZUxlbmd0aD09PTApcmV0dXJuIHRoaXNbaF1bUF07aWYoUD09PSJ2aWV3Iil7Y29uc3QgRj10aGlzW2hdLnZpZXcsaz1uZXcgVWludDhBcnJheShGLmJ5dGVMZW5ndGgrUy5ieXRlTGVuZ3RoKTtyZXR1cm4gay5zZXQoRiwwKSxrLnNldChTLEYuYnl0ZUxlbmd0aCksa31lbHNle2NvbnN0IEY9dGhpc1toXS5idWZmZXI7cmV0dXJuIGUuY29uY2F0KFtGLFNdLEYuYnl0ZUxlbmd0aCtTLmJ5dGVMZW5ndGgpfX1bdV0oUyxQKXtTLmd0ZSE9PXZvaWQgMD9TLmd0ZT10aGlzLnByZWZpeEtleShTLmd0ZSxQKTpTLmd0IT09dm9pZCAwP1MuZ3Q9dGhpcy5wcmVmaXhLZXkoUy5ndCxQKTpTLmd0ZT10aGlzW2hdW1BdLFMubHRlIT09dm9pZCAwP1MubHRlPXRoaXMucHJlZml4S2V5KFMubHRlLFApOlMubHQhPT12b2lkIDA/Uy5sdD10aGlzLnByZWZpeEtleShTLmx0LFApOlMubHRlPXRoaXNbbF1bUF19Z2V0IHByZWZpeCgpe3JldHVybiB0aGlzW2hdLnV0Zjh9Z2V0IGRiKCl7cmV0dXJuIHRoaXNbcF19X29wZW4oUyxQKXt0aGlzW3BdLm9wZW4oe3Bhc3NpdmU6ITB9LFApfV9wdXQoUyxQLEYsayl7dGhpc1twXS5wdXQoUyxQLEYsayl9X2dldChTLFAsRil7dGhpc1twXS5nZXQoUyxQLEYpfV9nZXRNYW55KFMsUCxGKXt0aGlzW3BdLmdldE1hbnkoUyxQLEYpfV9kZWwoUyxQLEYpe3RoaXNbcF0uZGVsKFMsUCxGKX1fYmF0Y2goUyxQLEYpe3RoaXNbcF0uYmF0Y2goUyxQLEYpfV9jbGVhcihTLFApe3RoaXNbdV0oUyxTLmtleUVuY29kaW5nKSx0aGlzW3BdLmNsZWFyKFMsUCl9X2l0ZXJhdG9yKFMpe3RoaXNbdV0oUyxTLmtleUVuY29kaW5nKTtjb25zdCBQPXRoaXNbcF0uaXRlcmF0b3IoUyksRj10aGlzW2ddLmdldCh0aGlzW2hdLnV0ZjgubGVuZ3RoLFMua2V5RW5jb2RpbmcpO3JldHVybiBuZXcgbih0aGlzLFMsUCxGKX1fa2V5cyhTKXt0aGlzW3VdKFMsUy5rZXlFbmNvZGluZyk7Y29uc3QgUD10aGlzW3BdLmtleXMoUyksRj10aGlzW2ddLmdldCh0aGlzW2hdLnV0ZjgubGVuZ3RoLFMua2V5RW5jb2RpbmcpO3JldHVybiBuZXcgbyh0aGlzLFMsUCxGKX1fdmFsdWVzKFMpe3RoaXNbdV0oUyxTLmtleUVuY29kaW5nKTtjb25zdCBQPXRoaXNbcF0udmFsdWVzKFMpO3JldHVybiBuZXcgZCh0aGlzLFMsUCl9fXJldHVybntBYnN0cmFjdFN1YmxldmVsOkN9fTtjb25zdCBfPWZ1bmN0aW9uKEIsQyl7cmV0dXJuey4uLkIuc3VwcG9ydHMsY3JlYXRlSWZNaXNzaW5nOiExLGVycm9ySWZFeGlzdHM6ITEsZXZlbnRzOnt9LGFkZGl0aW9uYWxNZXRob2RzOnt9LC4uLkMsZW5jb2RpbmdzOnt1dGY4Ok8oQiwidXRmOCIpLGJ1ZmZlcjpPKEIsImJ1ZmZlciIpLHZpZXc6TyhCLCJ2aWV3Iil9fX0sTz1mdW5jdGlvbihCLEMpe3JldHVybiBCLnN1cHBvcnRzLmVuY29kaW5nc1tDXT9CLmtleUVuY29kaW5nKEMpLm5hbWU9PT1DOiExfTtjbGFzcyBUe2NvbnN0cnVjdG9yKEMpe3RoaXMudXRmOD1DLHRoaXMudmlldz12LmVuY29kZShDKSx0aGlzLmJ1ZmZlcj1lP2UuZnJvbSh0aGlzLnZpZXcuYnVmZmVyLDAsdGhpcy52aWV3LmJ5dGVMZW5ndGgpOnt9fX1jbGFzcyBqe2NvbnN0cnVjdG9yKCl7dGhpcy5jYWNoZT1uZXcgTWFwfWdldChDLEwpe2xldCBTPXRoaXMuY2FjaGUuZ2V0KEwpO3JldHVybiBTPT09dm9pZCAwJiYoTD09PSJ2aWV3Ij9TPWZ1bmN0aW9uKFAsRil7cmV0dXJuIEYuc3ViYXJyYXkoUCl9LmJpbmQobnVsbCxDKTpTPWZ1bmN0aW9uKFAsRil7cmV0dXJuIEYuc2xpY2UoUCl9LmJpbmQobnVsbCxDKSx0aGlzLmNhY2hlLnNldChMLFMpKSxTfX1jb25zdCBOPWZ1bmN0aW9uKEIsQyl7bGV0IEw9MCxTPUIubGVuZ3RoO2Zvcig7TDxTJiZCW0xdPT09QzspTCsrO2Zvcig7Uz5MJiZCW1MtMV09PT1DOylTLS07cmV0dXJuIEIuc2xpY2UoTCxTKX07cmV0dXJuIGFic3RyYWN0U3VibGV2ZWx9Y29uc3R7c3VwcG9ydHN9PWxldmVsU3VwcG9ydHMse1RyYW5zY29kZXJ9PWxldmVsVHJhbnNjb2Rlcix7RXZlbnRFbWl0dGVyfT1ldmVudHNFeHBvcnRzLHtmcm9tQ2FsbGJhY2t9PWNhdGVyaW5nLE1vZHVsZUVycm9yJDE9bW9kdWxlRXJyb3Ise0Fic3RyYWN0SXRlcmF0b3I6QWJzdHJhY3RJdGVyYXRvciQxfT1hYnN0cmFjdEl0ZXJhdG9yLHtEZWZhdWx0S2V5SXRlcmF0b3IsRGVmYXVsdFZhbHVlSXRlcmF0b3J9PWRlZmF1bHRLdkl0ZXJhdG9yLHtEZWZlcnJlZEl0ZXJhdG9yLERlZmVycmVkS2V5SXRlcmF0b3IsRGVmZXJyZWRWYWx1ZUl0ZXJhdG9yfT1kZWZlcnJlZEl0ZXJhdG9yLHtEZWZhdWx0Q2hhaW5lZEJhdGNofT1kZWZhdWx0Q2hhaW5lZEJhdGNoLHtnZXRDYWxsYmFjayxnZXRPcHRpb25zfT1jb21tb24kNixyYW5nZU9wdGlvbnMkMT1yYW5nZU9wdGlvbnNfMSxrUHJvbWlzZT1TeW1ib2woInByb21pc2UiKSxrTGFuZGVkPVN5bWJvbCgibGFuZGVkIiksa1Jlc291cmNlcz1TeW1ib2woInJlc291cmNlcyIpLGtDbG9zZVJlc291cmNlcz1TeW1ib2woImNsb3NlUmVzb3VyY2VzIiksa09wZXJhdGlvbnM9U3ltYm9sKCJvcGVyYXRpb25zIiksa1VuZGVmZXI9U3ltYm9sKCJ1bmRlZmVyIiksa0RlZmVyT3Blbj1TeW1ib2woImRlZmVyT3BlbiIpLGtPcHRpb25zJDE9U3ltYm9sKCJvcHRpb25zIiksa1N0YXR1cz1TeW1ib2woInN0YXR1cyIpLGtEZWZhdWx0T3B0aW9ucz1TeW1ib2woImRlZmF1bHRPcHRpb25zIiksa1RyYW5zY29kZXI9U3ltYm9sKCJ0cmFuc2NvZGVyIiksa0tleUVuY29kaW5nPVN5bWJvbCgia2V5RW5jb2RpbmciKSxrVmFsdWVFbmNvZGluZz1TeW1ib2woInZhbHVlRW5jb2RpbmciKSxub29wJDM9KCk9Pnt9O2xldCBBYnN0cmFjdExldmVsJDE9Y2xhc3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IoZSxuKXtpZihzdXBlcigpLHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50ICdtYW5pZmVzdCcgbXVzdCBiZSBhbiBvYmplY3QiKTtuPWdldE9wdGlvbnMobik7Y29uc3R7a2V5RW5jb2Rpbmc6byx2YWx1ZUVuY29kaW5nOmQscGFzc2l2ZTpoLC4uLmx9PW47dGhpc1trUmVzb3VyY2VzXT1uZXcgU2V0LHRoaXNba09wZXJhdGlvbnNdPVtdLHRoaXNba0RlZmVyT3Blbl09ITAsdGhpc1trT3B0aW9ucyQxXT1sLHRoaXNba1N0YXR1c109Im9wZW5pbmciLHRoaXMuc3VwcG9ydHM9c3VwcG9ydHMoZSx7c3RhdHVzOiEwLHByb21pc2VzOiEwLGNsZWFyOiEwLGdldE1hbnk6ITAsZGVmZXJyZWRPcGVuOiEwLHNuYXBzaG90czplLnNuYXBzaG90cyE9PSExLHBlcm1hbmVuY2U6ZS5wZXJtYW5lbmNlIT09ITEsa2V5SXRlcmF0b3I6ITAsdmFsdWVJdGVyYXRvcjohMCxpdGVyYXRvck5leHR2OiEwLGl0ZXJhdG9yQWxsOiEwLGVuY29kaW5nczplLmVuY29kaW5nc3x8e30sZXZlbnRzOk9iamVjdC5hc3NpZ24oe30sZS5ldmVudHMse29wZW5pbmc6ITAsb3BlbjohMCxjbG9zaW5nOiEwLGNsb3NlZDohMCxwdXQ6ITAsZGVsOiEwLGJhdGNoOiEwLGNsZWFyOiEwfSl9KSx0aGlzW2tUcmFuc2NvZGVyXT1uZXcgVHJhbnNjb2Rlcihmb3JtYXRzKHRoaXMpKSx0aGlzW2tLZXlFbmNvZGluZ109dGhpc1trVHJhbnNjb2Rlcl0uZW5jb2Rpbmcob3x8InV0ZjgiKSx0aGlzW2tWYWx1ZUVuY29kaW5nXT10aGlzW2tUcmFuc2NvZGVyXS5lbmNvZGluZyhkfHwidXRmOCIpO2Zvcihjb25zdCB1IG9mIHRoaXNba1RyYW5zY29kZXJdLmVuY29kaW5ncygpKXRoaXMuc3VwcG9ydHMuZW5jb2RpbmdzW3UuY29tbW9uTmFtZV18fCh0aGlzLnN1cHBvcnRzLmVuY29kaW5nc1t1LmNvbW1vbk5hbWVdPSEwKTt0aGlzW2tEZWZhdWx0T3B0aW9uc109e2VtcHR5Ok9iamVjdC5mcmVlemUoe30pLGVudHJ5Ok9iamVjdC5mcmVlemUoe2tleUVuY29kaW5nOnRoaXNba0tleUVuY29kaW5nXS5jb21tb25OYW1lLHZhbHVlRW5jb2Rpbmc6dGhpc1trVmFsdWVFbmNvZGluZ10uY29tbW9uTmFtZX0pLGtleTpPYmplY3QuZnJlZXplKHtrZXlFbmNvZGluZzp0aGlzW2tLZXlFbmNvZGluZ10uY29tbW9uTmFtZX0pfSx0aGlzLm5leHRUaWNrKCgpPT57dGhpc1trRGVmZXJPcGVuXSYmdGhpcy5vcGVuKHtwYXNzaXZlOiExfSxub29wJDMpfSl9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzW2tTdGF0dXNdfWtleUVuY29kaW5nKGUpe3JldHVybiB0aGlzW2tUcmFuc2NvZGVyXS5lbmNvZGluZyhlPz90aGlzW2tLZXlFbmNvZGluZ10pfXZhbHVlRW5jb2RpbmcoZSl7cmV0dXJuIHRoaXNba1RyYW5zY29kZXJdLmVuY29kaW5nKGU/P3RoaXNba1ZhbHVlRW5jb2RpbmddKX1vcGVuKGUsbil7bj1nZXRDYWxsYmFjayhlLG4pLG49ZnJvbUNhbGxiYWNrKG4sa1Byb21pc2UpLGU9ey4uLnRoaXNba09wdGlvbnMkMV0sLi4uZ2V0T3B0aW9ucyhlKX0sZS5jcmVhdGVJZk1pc3Npbmc9ZS5jcmVhdGVJZk1pc3NpbmchPT0hMSxlLmVycm9ySWZFeGlzdHM9ISFlLmVycm9ySWZFeGlzdHM7Y29uc3Qgbz1kPT57dGhpc1trU3RhdHVzXT09PSJjbG9zaW5nInx8dGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIj90aGlzLm9uY2Uoa0xhbmRlZCxkPygpPT5vKGQpOm8pOnRoaXNba1N0YXR1c10hPT0ib3BlbiI/bihuZXcgTW9kdWxlRXJyb3IkMSgiRGF0YWJhc2UgaXMgbm90IG9wZW4iLHtjb2RlOiJMRVZFTF9EQVRBQkFTRV9OT1RfT1BFTiIsY2F1c2U6ZH0pKTpuKCl9O3JldHVybiBlLnBhc3NpdmU/dGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIj90aGlzLm9uY2Uoa0xhbmRlZCxvKTp0aGlzLm5leHRUaWNrKG8pOnRoaXNba1N0YXR1c109PT0iY2xvc2VkInx8dGhpc1trRGVmZXJPcGVuXT8odGhpc1trRGVmZXJPcGVuXT0hMSx0aGlzW2tTdGF0dXNdPSJvcGVuaW5nIix0aGlzLmVtaXQoIm9wZW5pbmciKSx0aGlzLl9vcGVuKGUsZD0+e2lmKGQpe3RoaXNba1N0YXR1c109ImNsb3NlZCIsdGhpc1trQ2xvc2VSZXNvdXJjZXNdKCgpPT57dGhpcy5lbWl0KGtMYW5kZWQpLG8oZCl9KSx0aGlzW2tVbmRlZmVyXSgpO3JldHVybn10aGlzW2tTdGF0dXNdPSJvcGVuIix0aGlzW2tVbmRlZmVyXSgpLHRoaXMuZW1pdChrTGFuZGVkKSx0aGlzW2tTdGF0dXNdPT09Im9wZW4iJiZ0aGlzLmVtaXQoIm9wZW4iKSx0aGlzW2tTdGF0dXNdPT09Im9wZW4iJiZ0aGlzLmVtaXQoInJlYWR5IiksbygpfSkpOnRoaXNba1N0YXR1c109PT0ib3BlbiI/dGhpcy5uZXh0VGljayhvKTp0aGlzLm9uY2Uoa0xhbmRlZCwoKT0+dGhpcy5vcGVuKGUsbikpLG5ba1Byb21pc2VdfV9vcGVuKGUsbil7dGhpcy5uZXh0VGljayhuKX1jbG9zZShlKXtlPWZyb21DYWxsYmFjayhlLGtQcm9taXNlKTtjb25zdCBuPW89Pnt0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmcifHx0aGlzW2tTdGF0dXNdPT09ImNsb3NpbmciP3RoaXMub25jZShrTGFuZGVkLG8/bihvKTpuKTp0aGlzW2tTdGF0dXNdIT09ImNsb3NlZCI/ZShuZXcgTW9kdWxlRXJyb3IkMSgiRGF0YWJhc2UgaXMgbm90IGNsb3NlZCIse2NvZGU6IkxFVkVMX0RBVEFCQVNFX05PVF9DTE9TRUQiLGNhdXNlOm99KSk6ZSgpfTtpZih0aGlzW2tTdGF0dXNdPT09Im9wZW4iKXt0aGlzW2tTdGF0dXNdPSJjbG9zaW5nIix0aGlzLmVtaXQoImNsb3NpbmciKTtjb25zdCBvPWQ9Pnt0aGlzW2tTdGF0dXNdPSJvcGVuIix0aGlzW2tVbmRlZmVyXSgpLHRoaXMuZW1pdChrTGFuZGVkKSxuKGQpfTt0aGlzW2tDbG9zZVJlc291cmNlc10oKCk9Pnt0aGlzLl9jbG9zZShkPT57aWYoZClyZXR1cm4gbyhkKTt0aGlzW2tTdGF0dXNdPSJjbG9zZWQiLHRoaXNba1VuZGVmZXJdKCksdGhpcy5lbWl0KGtMYW5kZWQpLHRoaXNba1N0YXR1c109PT0iY2xvc2VkIiYmdGhpcy5lbWl0KCJjbG9zZWQiKSxuKCl9KX0pfWVsc2UgdGhpc1trU3RhdHVzXT09PSJjbG9zZWQiP3RoaXMubmV4dFRpY2sobik6dGhpcy5vbmNlKGtMYW5kZWQsKCk9PnRoaXMuY2xvc2UoZSkpO3JldHVybiBlW2tQcm9taXNlXX1ba0Nsb3NlUmVzb3VyY2VzXShlKXtpZih0aGlzW2tSZXNvdXJjZXNdLnNpemU9PT0wKXJldHVybiB0aGlzLm5leHRUaWNrKGUpO2xldCBuPXRoaXNba1Jlc291cmNlc10uc2l6ZSxvPSEwO2NvbnN0IGQ9KCk9PnstLW49PT0wJiYobz90aGlzLm5leHRUaWNrKGUpOmUoKSl9O2Zvcihjb25zdCBoIG9mIHRoaXNba1Jlc291cmNlc10paC5jbG9zZShkKTtvPSExLHRoaXNba1Jlc291cmNlc10uY2xlYXIoKX1fY2xvc2UoZSl7dGhpcy5uZXh0VGljayhlKX1nZXQoZSxuLG8pe2lmKG89Z2V0Q2FsbGJhY2sobixvKSxvPWZyb21DYWxsYmFjayhvLGtQcm9taXNlKSxuPWdldE9wdGlvbnMobix0aGlzW2tEZWZhdWx0T3B0aW9uc10uZW50cnkpLHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIHRoaXMuZGVmZXIoKCk9PnRoaXMuZ2V0KGUsbixvKSksb1trUHJvbWlzZV07aWYobWF5YmVFcnJvcih0aGlzLG8pKXJldHVybiBvW2tQcm9taXNlXTtjb25zdCBkPXRoaXMuX2NoZWNrS2V5KGUpO2lmKGQpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxkKSxvW2tQcm9taXNlXTtjb25zdCBoPXRoaXMua2V5RW5jb2Rpbmcobi5rZXlFbmNvZGluZyksbD10aGlzLnZhbHVlRW5jb2Rpbmcobi52YWx1ZUVuY29kaW5nKSx1PWguZm9ybWF0LHA9bC5mb3JtYXQ7cmV0dXJuKG4ua2V5RW5jb2RpbmchPT11fHxuLnZhbHVlRW5jb2RpbmchPT1wKSYmKG49T2JqZWN0LmFzc2lnbih7fSxuLHtrZXlFbmNvZGluZzp1LHZhbHVlRW5jb2Rpbmc6cH0pKSx0aGlzLl9nZXQodGhpcy5wcmVmaXhLZXkoaC5lbmNvZGUoZSksdSksbiwoZyx2KT0+e2lmKGcpcmV0dXJuKGcuY29kZT09PSJMRVZFTF9OT1RfRk9VTkQifHxnLm5vdEZvdW5kfHwvTm90Rm91bmQvaS50ZXN0KGcpKSYmKGcuY29kZXx8KGcuY29kZT0iTEVWRUxfTk9UX0ZPVU5EIiksZy5ub3RGb3VuZHx8KGcubm90Rm91bmQ9ITApLGcuc3RhdHVzfHwoZy5zdGF0dXM9NDA0KSksbyhnKTt0cnl7dj1sLmRlY29kZSh2KX1jYXRjaChiKXtyZXR1cm4gbyhuZXcgTW9kdWxlRXJyb3IkMSgiQ291bGQgbm90IGRlY29kZSB2YWx1ZSIse2NvZGU6IkxFVkVMX0RFQ09ERV9FUlJPUiIsY2F1c2U6Yn0pKX1vKG51bGwsdil9KSxvW2tQcm9taXNlXX1fZ2V0KGUsbixvKXt0aGlzLm5leHRUaWNrKG8sbmV3IEVycm9yKCJOb3RGb3VuZCIpKX1nZXRNYW55KGUsbixvKXtpZihvPWdldENhbGxiYWNrKG4sbyksbz1mcm9tQ2FsbGJhY2sobyxrUHJvbWlzZSksbj1nZXRPcHRpb25zKG4sdGhpc1trRGVmYXVsdE9wdGlvbnNdLmVudHJ5KSx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiB0aGlzLmRlZmVyKCgpPT50aGlzLmdldE1hbnkoZSxuLG8pKSxvW2tQcm9taXNlXTtpZihtYXliZUVycm9yKHRoaXMsbykpcmV0dXJuIG9ba1Byb21pc2VdO2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiB0aGlzLm5leHRUaWNrKG8sbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50ICdrZXlzJyBtdXN0IGJlIGFuIGFycmF5IikpLG9ba1Byb21pc2VdO2lmKGUubGVuZ3RoPT09MClyZXR1cm4gdGhpcy5uZXh0VGljayhvLG51bGwsW10pLG9ba1Byb21pc2VdO2NvbnN0IGQ9dGhpcy5rZXlFbmNvZGluZyhuLmtleUVuY29kaW5nKSxoPXRoaXMudmFsdWVFbmNvZGluZyhuLnZhbHVlRW5jb2RpbmcpLGw9ZC5mb3JtYXQsdT1oLmZvcm1hdDsobi5rZXlFbmNvZGluZyE9PWx8fG4udmFsdWVFbmNvZGluZyE9PXUpJiYobj1PYmplY3QuYXNzaWduKHt9LG4se2tleUVuY29kaW5nOmwsdmFsdWVFbmNvZGluZzp1fSkpO2NvbnN0IHA9bmV3IEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IGc9MDtnPGUubGVuZ3RoO2crKyl7Y29uc3Qgdj1lW2ddLGI9dGhpcy5fY2hlY2tLZXkodik7aWYoYilyZXR1cm4gdGhpcy5uZXh0VGljayhvLGIpLG9ba1Byb21pc2VdO3BbZ109dGhpcy5wcmVmaXhLZXkoZC5lbmNvZGUodiksbCl9cmV0dXJuIHRoaXMuX2dldE1hbnkocCxuLChnLHYpPT57aWYoZylyZXR1cm4gbyhnKTt0cnl7Zm9yKGxldCBiPTA7Yjx2Lmxlbmd0aDtiKyspdltiXSE9PXZvaWQgMCYmKHZbYl09aC5kZWNvZGUodltiXSkpfWNhdGNoKGIpe3JldHVybiBvKG5ldyBNb2R1bGVFcnJvciQxKGBDb3VsZCBub3QgZGVjb2RlIG9uZSBvciBtb3JlIG9mICR7di5sZW5ndGh9IHZhbHVlKHMpYCx7Y29kZToiTEVWRUxfREVDT0RFX0VSUk9SIixjYXVzZTpifSkpfW8obnVsbCx2KX0pLG9ba1Byb21pc2VdfV9nZXRNYW55KGUsbixvKXt0aGlzLm5leHRUaWNrKG8sbnVsbCxuZXcgQXJyYXkoZS5sZW5ndGgpLmZpbGwodm9pZCAwKSl9cHV0KGUsbixvLGQpe2lmKGQ9Z2V0Q2FsbGJhY2sobyxkKSxkPWZyb21DYWxsYmFjayhkLGtQcm9taXNlKSxvPWdldE9wdGlvbnMobyx0aGlzW2tEZWZhdWx0T3B0aW9uc10uZW50cnkpLHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIHRoaXMuZGVmZXIoKCk9PnRoaXMucHV0KGUsbixvLGQpKSxkW2tQcm9taXNlXTtpZihtYXliZUVycm9yKHRoaXMsZCkpcmV0dXJuIGRba1Byb21pc2VdO2NvbnN0IGg9dGhpcy5fY2hlY2tLZXkoZSl8fHRoaXMuX2NoZWNrVmFsdWUobik7aWYoaClyZXR1cm4gdGhpcy5uZXh0VGljayhkLGgpLGRba1Byb21pc2VdO2NvbnN0IGw9dGhpcy5rZXlFbmNvZGluZyhvLmtleUVuY29kaW5nKSx1PXRoaXMudmFsdWVFbmNvZGluZyhvLnZhbHVlRW5jb2RpbmcpLHA9bC5mb3JtYXQsZz11LmZvcm1hdDsoby5rZXlFbmNvZGluZyE9PXB8fG8udmFsdWVFbmNvZGluZyE9PWcpJiYobz1PYmplY3QuYXNzaWduKHt9LG8se2tleUVuY29kaW5nOnAsdmFsdWVFbmNvZGluZzpnfSkpO2NvbnN0IHY9dGhpcy5wcmVmaXhLZXkobC5lbmNvZGUoZSkscCksYj11LmVuY29kZShuKTtyZXR1cm4gdGhpcy5fcHV0KHYsYixvLF89PntpZihfKXJldHVybiBkKF8pO3RoaXMuZW1pdCgicHV0IixlLG4pLGQoKX0pLGRba1Byb21pc2VdfV9wdXQoZSxuLG8sZCl7dGhpcy5uZXh0VGljayhkKX1kZWwoZSxuLG8pe2lmKG89Z2V0Q2FsbGJhY2sobixvKSxvPWZyb21DYWxsYmFjayhvLGtQcm9taXNlKSxuPWdldE9wdGlvbnMobix0aGlzW2tEZWZhdWx0T3B0aW9uc10ua2V5KSx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiB0aGlzLmRlZmVyKCgpPT50aGlzLmRlbChlLG4sbykpLG9ba1Byb21pc2VdO2lmKG1heWJlRXJyb3IodGhpcyxvKSlyZXR1cm4gb1trUHJvbWlzZV07Y29uc3QgZD10aGlzLl9jaGVja0tleShlKTtpZihkKXJldHVybiB0aGlzLm5leHRUaWNrKG8sZCksb1trUHJvbWlzZV07Y29uc3QgaD10aGlzLmtleUVuY29kaW5nKG4ua2V5RW5jb2RpbmcpLGw9aC5mb3JtYXQ7cmV0dXJuIG4ua2V5RW5jb2RpbmchPT1sJiYobj1PYmplY3QuYXNzaWduKHt9LG4se2tleUVuY29kaW5nOmx9KSksdGhpcy5fZGVsKHRoaXMucHJlZml4S2V5KGguZW5jb2RlKGUpLGwpLG4sdT0+e2lmKHUpcmV0dXJuIG8odSk7dGhpcy5lbWl0KCJkZWwiLGUpLG8oKX0pLG9ba1Byb21pc2VdfV9kZWwoZSxuLG8pe3RoaXMubmV4dFRpY2sobyl9YmF0Y2goZSxuLG8pe2lmKCFhcmd1bWVudHMubGVuZ3RoKXtpZih0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiBuZXcgRGVmYXVsdENoYWluZWRCYXRjaCh0aGlzKTtpZih0aGlzW2tTdGF0dXNdIT09Im9wZW4iKXRocm93IG5ldyBNb2R1bGVFcnJvciQxKCJEYXRhYmFzZSBpcyBub3Qgb3BlbiIse2NvZGU6IkxFVkVMX0RBVEFCQVNFX05PVF9PUEVOIn0pO3JldHVybiB0aGlzLl9jaGFpbmVkQmF0Y2goKX1pZih0eXBlb2YgZT09ImZ1bmN0aW9uIj9vPWU6bz1nZXRDYWxsYmFjayhuLG8pLG89ZnJvbUNhbGxiYWNrKG8sa1Byb21pc2UpLG49Z2V0T3B0aW9ucyhuLHRoaXNba0RlZmF1bHRPcHRpb25zXS5lbXB0eSksdGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIilyZXR1cm4gdGhpcy5kZWZlcigoKT0+dGhpcy5iYXRjaChlLG4sbykpLG9ba1Byb21pc2VdO2lmKG1heWJlRXJyb3IodGhpcyxvKSlyZXR1cm4gb1trUHJvbWlzZV07aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgJ29wZXJhdGlvbnMnIG11c3QgYmUgYW4gYXJyYXkiKSksb1trUHJvbWlzZV07aWYoZS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLm5leHRUaWNrKG8pLG9ba1Byb21pc2VdO2NvbnN0IGQ9bmV3IEFycmF5KGUubGVuZ3RoKSx7a2V5RW5jb2Rpbmc6aCx2YWx1ZUVuY29kaW5nOmwsLi4udX09bjtmb3IobGV0IHA9MDtwPGUubGVuZ3RoO3ArKyl7aWYodHlwZW9mIGVbcF0hPSJvYmplY3QifHxlW3BdPT09bnVsbClyZXR1cm4gdGhpcy5uZXh0VGljayhvLG5ldyBUeXBlRXJyb3IoIkEgYmF0Y2ggb3BlcmF0aW9uIG11c3QgYmUgYW4gb2JqZWN0IikpLG9ba1Byb21pc2VdO2NvbnN0IGc9T2JqZWN0LmFzc2lnbih7fSxlW3BdKTtpZihnLnR5cGUhPT0icHV0IiYmZy50eXBlIT09ImRlbCIpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxuZXcgVHlwZUVycm9yKCJBIGJhdGNoIG9wZXJhdGlvbiBtdXN0IGhhdmUgYSB0eXBlIHByb3BlcnR5IHRoYXQgaXMgJ3B1dCcgb3IgJ2RlbCciKSksb1trUHJvbWlzZV07Y29uc3Qgdj10aGlzLl9jaGVja0tleShnLmtleSk7aWYodilyZXR1cm4gdGhpcy5uZXh0VGljayhvLHYpLG9ba1Byb21pc2VdO2NvbnN0IGI9Zy5zdWJsZXZlbCE9bnVsbD9nLnN1YmxldmVsOnRoaXMsXz1iLmtleUVuY29kaW5nKGcua2V5RW5jb2Rpbmd8fGgpLE89Xy5mb3JtYXQ7aWYoZy5rZXk9Yi5wcmVmaXhLZXkoXy5lbmNvZGUoZy5rZXkpLE8pLGcua2V5RW5jb2Rpbmc9TyxnLnR5cGU9PT0icHV0Iil7Y29uc3QgVD10aGlzLl9jaGVja1ZhbHVlKGcudmFsdWUpO2lmKFQpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxUKSxvW2tQcm9taXNlXTtjb25zdCBqPWIudmFsdWVFbmNvZGluZyhnLnZhbHVlRW5jb2Rpbmd8fGwpO2cudmFsdWU9ai5lbmNvZGUoZy52YWx1ZSksZy52YWx1ZUVuY29kaW5nPWouZm9ybWF0fWIhPT10aGlzJiYoZy5zdWJsZXZlbD1udWxsKSxkW3BdPWd9cmV0dXJuIHRoaXMuX2JhdGNoKGQsdSxwPT57aWYocClyZXR1cm4gbyhwKTt0aGlzLmVtaXQoImJhdGNoIixlKSxvKCl9KSxvW2tQcm9taXNlXX1fYmF0Y2goZSxuLG8pe3RoaXMubmV4dFRpY2sobyl9c3VibGV2ZWwoZSxuKXtyZXR1cm4gdGhpcy5fc3VibGV2ZWwoZSxBYnN0cmFjdFN1YmxldmVsLmRlZmF1bHRzKG4pKX1fc3VibGV2ZWwoZSxuKXtyZXR1cm4gbmV3IEFic3RyYWN0U3VibGV2ZWwodGhpcyxlLG4pfXByZWZpeEtleShlLG4pe3JldHVybiBlfWNsZWFyKGUsbil7aWYobj1nZXRDYWxsYmFjayhlLG4pLG49ZnJvbUNhbGxiYWNrKG4sa1Byb21pc2UpLGU9Z2V0T3B0aW9ucyhlLHRoaXNba0RlZmF1bHRPcHRpb25zXS5lbXB0eSksdGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIilyZXR1cm4gdGhpcy5kZWZlcigoKT0+dGhpcy5jbGVhcihlLG4pKSxuW2tQcm9taXNlXTtpZihtYXliZUVycm9yKHRoaXMsbikpcmV0dXJuIG5ba1Byb21pc2VdO2NvbnN0IG89ZSxkPXRoaXMua2V5RW5jb2RpbmcoZS5rZXlFbmNvZGluZyk7cmV0dXJuIGU9cmFuZ2VPcHRpb25zJDEoZSxkKSxlLmtleUVuY29kaW5nPWQuZm9ybWF0LGUubGltaXQ9PT0wP3RoaXMubmV4dFRpY2sobik6dGhpcy5fY2xlYXIoZSxoPT57aWYoaClyZXR1cm4gbihoKTt0aGlzLmVtaXQoImNsZWFyIixvKSxuKCl9KSxuW2tQcm9taXNlXX1fY2xlYXIoZSxuKXt0aGlzLm5leHRUaWNrKG4pfWl0ZXJhdG9yKGUpe2NvbnN0IG49dGhpcy5rZXlFbmNvZGluZyhlJiZlLmtleUVuY29kaW5nKSxvPXRoaXMudmFsdWVFbmNvZGluZyhlJiZlLnZhbHVlRW5jb2RpbmcpO2lmKGU9cmFuZ2VPcHRpb25zJDEoZSxuKSxlLmtleXM9ZS5rZXlzIT09ITEsZS52YWx1ZXM9ZS52YWx1ZXMhPT0hMSxlW0Fic3RyYWN0SXRlcmF0b3IkMS5rZXlFbmNvZGluZ109bixlW0Fic3RyYWN0SXRlcmF0b3IkMS52YWx1ZUVuY29kaW5nXT1vLGUua2V5RW5jb2Rpbmc9bi5mb3JtYXQsZS52YWx1ZUVuY29kaW5nPW8uZm9ybWF0LHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIG5ldyBEZWZlcnJlZEl0ZXJhdG9yKHRoaXMsZSk7aWYodGhpc1trU3RhdHVzXSE9PSJvcGVuIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkMSgiRGF0YWJhc2UgaXMgbm90IG9wZW4iLHtjb2RlOiJMRVZFTF9EQVRBQkFTRV9OT1RfT1BFTiJ9KTtyZXR1cm4gdGhpcy5faXRlcmF0b3IoZSl9X2l0ZXJhdG9yKGUpe3JldHVybiBuZXcgQWJzdHJhY3RJdGVyYXRvciQxKHRoaXMsZSl9a2V5cyhlKXtjb25zdCBuPXRoaXMua2V5RW5jb2RpbmcoZSYmZS5rZXlFbmNvZGluZyksbz10aGlzLnZhbHVlRW5jb2RpbmcoZSYmZS52YWx1ZUVuY29kaW5nKTtpZihlPXJhbmdlT3B0aW9ucyQxKGUsbiksZVtBYnN0cmFjdEl0ZXJhdG9yJDEua2V5RW5jb2RpbmddPW4sZVtBYnN0cmFjdEl0ZXJhdG9yJDEudmFsdWVFbmNvZGluZ109byxlLmtleUVuY29kaW5nPW4uZm9ybWF0LGUudmFsdWVFbmNvZGluZz1vLmZvcm1hdCx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiBuZXcgRGVmZXJyZWRLZXlJdGVyYXRvcih0aGlzLGUpO2lmKHRoaXNba1N0YXR1c10hPT0ib3BlbiIpdGhyb3cgbmV3IE1vZHVsZUVycm9yJDEoIkRhdGFiYXNlIGlzIG5vdCBvcGVuIix7Y29kZToiTEVWRUxfREFUQUJBU0VfTk9UX09QRU4ifSk7cmV0dXJuIHRoaXMuX2tleXMoZSl9X2tleXMoZSl7cmV0dXJuIG5ldyBEZWZhdWx0S2V5SXRlcmF0b3IodGhpcyxlKX12YWx1ZXMoZSl7Y29uc3Qgbj10aGlzLmtleUVuY29kaW5nKGUmJmUua2V5RW5jb2RpbmcpLG89dGhpcy52YWx1ZUVuY29kaW5nKGUmJmUudmFsdWVFbmNvZGluZyk7aWYoZT1yYW5nZU9wdGlvbnMkMShlLG4pLGVbQWJzdHJhY3RJdGVyYXRvciQxLmtleUVuY29kaW5nXT1uLGVbQWJzdHJhY3RJdGVyYXRvciQxLnZhbHVlRW5jb2RpbmddPW8sZS5rZXlFbmNvZGluZz1uLmZvcm1hdCxlLnZhbHVlRW5jb2Rpbmc9by5mb3JtYXQsdGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIilyZXR1cm4gbmV3IERlZmVycmVkVmFsdWVJdGVyYXRvcih0aGlzLGUpO2lmKHRoaXNba1N0YXR1c10hPT0ib3BlbiIpdGhyb3cgbmV3IE1vZHVsZUVycm9yJDEoIkRhdGFiYXNlIGlzIG5vdCBvcGVuIix7Y29kZToiTEVWRUxfREFUQUJBU0VfTk9UX09QRU4ifSk7cmV0dXJuIHRoaXMuX3ZhbHVlcyhlKX1fdmFsdWVzKGUpe3JldHVybiBuZXcgRGVmYXVsdFZhbHVlSXRlcmF0b3IodGhpcyxlKX1kZWZlcihlKXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uIik7dGhpc1trT3BlcmF0aW9uc10ucHVzaChlKX1ba1VuZGVmZXJdKCl7aWYodGhpc1trT3BlcmF0aW9uc10ubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgZT10aGlzW2tPcGVyYXRpb25zXTt0aGlzW2tPcGVyYXRpb25zXT1bXTtmb3IoY29uc3QgbiBvZiBlKW4oKX1hdHRhY2hSZXNvdXJjZShlKXtpZih0eXBlb2YgZSE9Im9iamVjdCJ8fGU9PT1udWxsfHx0eXBlb2YgZS5jbG9zZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHJlc291cmNlIG9iamVjdCIpO3RoaXNba1Jlc291cmNlc10uYWRkKGUpfWRldGFjaFJlc291cmNlKGUpe3RoaXNba1Jlc291cmNlc10uZGVsZXRlKGUpfV9jaGFpbmVkQmF0Y2goKXtyZXR1cm4gbmV3IERlZmF1bHRDaGFpbmVkQmF0Y2godGhpcyl9X2NoZWNrS2V5KGUpe2lmKGU9PW51bGwpcmV0dXJuIG5ldyBNb2R1bGVFcnJvciQxKCJLZXkgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIix7Y29kZToiTEVWRUxfSU5WQUxJRF9LRVkifSl9X2NoZWNrVmFsdWUoZSl7aWYoZT09bnVsbClyZXR1cm4gbmV3IE1vZHVsZUVycm9yJDEoIlZhbHVlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCIse2NvZGU6IkxFVkVMX0lOVkFMSURfVkFMVUUifSl9fTtBYnN0cmFjdExldmVsJDEucHJvdG90eXBlLm5leHRUaWNrPXJlcXVpcmVOZXh0VGlja0Jyb3dzZXIoKTtjb25zdHtBYnN0cmFjdFN1YmxldmVsfT1yZXF1aXJlQWJzdHJhY3RTdWJsZXZlbCgpKHtBYnN0cmFjdExldmVsOkFic3RyYWN0TGV2ZWwkMX0pO2Fic3RyYWN0TGV2ZWwuQWJzdHJhY3RMZXZlbD1BYnN0cmFjdExldmVsJDE7YWJzdHJhY3RMZXZlbC5BYnN0cmFjdFN1YmxldmVsPUFic3RyYWN0U3VibGV2ZWw7Y29uc3QgbWF5YmVFcnJvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0W2tTdGF0dXNdIT09Im9wZW4iPyh0Lm5leHRUaWNrKGUsbmV3IE1vZHVsZUVycm9yJDEoIkRhdGFiYXNlIGlzIG5vdCBvcGVuIix7Y29kZToiTEVWRUxfREFUQUJBU0VfTk9UX09QRU4ifSkpLCEwKTohMX0sZm9ybWF0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXModC5zdXBwb3J0cy5lbmNvZGluZ3MpLmZpbHRlcihlPT4hIXQuc3VwcG9ydHMuZW5jb2RpbmdzW2VdKX07YWJzdHJhY3RMZXZlbCQxLkFic3RyYWN0TGV2ZWw9YWJzdHJhY3RMZXZlbC5BYnN0cmFjdExldmVsO2Fic3RyYWN0TGV2ZWwkMS5BYnN0cmFjdFN1YmxldmVsPWFic3RyYWN0TGV2ZWwuQWJzdHJhY3RTdWJsZXZlbDthYnN0cmFjdExldmVsJDEuQWJzdHJhY3RJdGVyYXRvcj1hYnN0cmFjdEl0ZXJhdG9yLkFic3RyYWN0SXRlcmF0b3I7YWJzdHJhY3RMZXZlbCQxLkFic3RyYWN0S2V5SXRlcmF0b3I9YWJzdHJhY3RJdGVyYXRvci5BYnN0cmFjdEtleUl0ZXJhdG9yO2Fic3RyYWN0TGV2ZWwkMS5BYnN0cmFjdFZhbHVlSXRlcmF0b3I9YWJzdHJhY3RJdGVyYXRvci5BYnN0cmFjdFZhbHVlSXRlcmF0b3I7YWJzdHJhY3RMZXZlbCQxLkFic3RyYWN0Q2hhaW5lZEJhdGNoPWFic3RyYWN0Q2hhaW5lZEJhdGNoLkFic3RyYWN0Q2hhaW5lZEJhdGNoO3ZhciByYnRyZWU9Y3JlYXRlUkJUcmVlLFJFRD0wLEJMQUNLPTE7ZnVuY3Rpb24gUkJOb2RlKHQsZSxuLG8sZCxoKXt0aGlzLl9jb2xvcj10LHRoaXMua2V5PWUsdGhpcy52YWx1ZT1uLHRoaXMubGVmdD1vLHRoaXMucmlnaHQ9ZCx0aGlzLl9jb3VudD1ofWZ1bmN0aW9uIGNsb25lTm9kZSh0KXtyZXR1cm4gbmV3IFJCTm9kZSh0Ll9jb2xvcix0LmtleSx0LnZhbHVlLHQubGVmdCx0LnJpZ2h0LHQuX2NvdW50KX1mdW5jdGlvbiByZXBhaW50KHQsZSl7cmV0dXJuIG5ldyBSQk5vZGUodCxlLmtleSxlLnZhbHVlLGUubGVmdCxlLnJpZ2h0LGUuX2NvdW50KX1mdW5jdGlvbiByZWNvdW50KHQpe3QuX2NvdW50PTErKHQubGVmdD90LmxlZnQuX2NvdW50OjApKyh0LnJpZ2h0P3QucmlnaHQuX2NvdW50OjApfWZ1bmN0aW9uIFJlZEJsYWNrVHJlZSh0LGUpe3RoaXMuX2NvbXBhcmU9dCx0aGlzLnJvb3Q9ZX12YXIgcHJvdG89UmVkQmxhY2tUcmVlLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sImtleXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dC5wdXNoKGUpfSksdH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sInZhbHVlcyIse2dldDpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZSxuKXt0LnB1c2gobil9KSx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdD90aGlzLnJvb3QuX2NvdW50OjB9fSk7cHJvdG8uaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXRoaXMuX2NvbXBhcmUsbz10aGlzLnJvb3QsZD1bXSxoPVtdO287KXt2YXIgbD1uKHQsby5rZXkpO2QucHVzaChvKSxoLnB1c2gobCksbDw9MD9vPW8ubGVmdDpvPW8ucmlnaHR9ZC5wdXNoKG5ldyBSQk5vZGUoUkVELHQsZSxudWxsLG51bGwsMSkpO2Zvcih2YXIgdT1kLmxlbmd0aC0yO3U+PTA7LS11KXt2YXIgbz1kW3VdO2hbdV08PTA/ZFt1XT1uZXcgUkJOb2RlKG8uX2NvbG9yLG8ua2V5LG8udmFsdWUsZFt1KzFdLG8ucmlnaHQsby5fY291bnQrMSk6ZFt1XT1uZXcgUkJOb2RlKG8uX2NvbG9yLG8ua2V5LG8udmFsdWUsby5sZWZ0LGRbdSsxXSxvLl9jb3VudCsxKX1mb3IodmFyIHU9ZC5sZW5ndGgtMTt1PjE7LS11KXt2YXIgcD1kW3UtMV0sbz1kW3VdO2lmKHAuX2NvbG9yPT09QkxBQ0t8fG8uX2NvbG9yPT09QkxBQ0spYnJlYWs7dmFyIGc9ZFt1LTJdO2lmKGcubGVmdD09PXApaWYocC5sZWZ0PT09byl7dmFyIHY9Zy5yaWdodDtpZih2JiZ2Ll9jb2xvcj09PVJFRClwLl9jb2xvcj1CTEFDSyxnLnJpZ2h0PXJlcGFpbnQoQkxBQ0ssdiksZy5fY29sb3I9UkVELHUtPTE7ZWxzZXtpZihnLl9jb2xvcj1SRUQsZy5sZWZ0PXAucmlnaHQscC5fY29sb3I9QkxBQ0sscC5yaWdodD1nLGRbdS0yXT1wLGRbdS0xXT1vLHJlY291bnQoZykscmVjb3VudChwKSx1Pj0zKXt2YXIgYj1kW3UtM107Yi5sZWZ0PT09Zz9iLmxlZnQ9cDpiLnJpZ2h0PXB9YnJlYWt9fWVsc2V7dmFyIHY9Zy5yaWdodDtpZih2JiZ2Ll9jb2xvcj09PVJFRClwLl9jb2xvcj1CTEFDSyxnLnJpZ2h0PXJlcGFpbnQoQkxBQ0ssdiksZy5fY29sb3I9UkVELHUtPTE7ZWxzZXtpZihwLnJpZ2h0PW8ubGVmdCxnLl9jb2xvcj1SRUQsZy5sZWZ0PW8ucmlnaHQsby5fY29sb3I9QkxBQ0ssby5sZWZ0PXAsby5yaWdodD1nLGRbdS0yXT1vLGRbdS0xXT1wLHJlY291bnQoZykscmVjb3VudChwKSxyZWNvdW50KG8pLHU+PTMpe3ZhciBiPWRbdS0zXTtiLmxlZnQ9PT1nP2IubGVmdD1vOmIucmlnaHQ9b31icmVha319ZWxzZSBpZihwLnJpZ2h0PT09byl7dmFyIHY9Zy5sZWZ0O2lmKHYmJnYuX2NvbG9yPT09UkVEKXAuX2NvbG9yPUJMQUNLLGcubGVmdD1yZXBhaW50KEJMQUNLLHYpLGcuX2NvbG9yPVJFRCx1LT0xO2Vsc2V7aWYoZy5fY29sb3I9UkVELGcucmlnaHQ9cC5sZWZ0LHAuX2NvbG9yPUJMQUNLLHAubGVmdD1nLGRbdS0yXT1wLGRbdS0xXT1vLHJlY291bnQoZykscmVjb3VudChwKSx1Pj0zKXt2YXIgYj1kW3UtM107Yi5yaWdodD09PWc/Yi5yaWdodD1wOmIubGVmdD1wfWJyZWFrfX1lbHNle3ZhciB2PWcubGVmdDtpZih2JiZ2Ll9jb2xvcj09PVJFRClwLl9jb2xvcj1CTEFDSyxnLmxlZnQ9cmVwYWludChCTEFDSyx2KSxnLl9jb2xvcj1SRUQsdS09MTtlbHNle2lmKHAubGVmdD1vLnJpZ2h0LGcuX2NvbG9yPVJFRCxnLnJpZ2h0PW8ubGVmdCxvLl9jb2xvcj1CTEFDSyxvLnJpZ2h0PXAsby5sZWZ0PWcsZFt1LTJdPW8sZFt1LTFdPXAscmVjb3VudChnKSxyZWNvdW50KHApLHJlY291bnQobyksdT49Myl7dmFyIGI9ZFt1LTNdO2IucmlnaHQ9PT1nP2IucmlnaHQ9bzpiLmxlZnQ9b31icmVha319fXJldHVybiBkWzBdLl9jb2xvcj1CTEFDSyxuZXcgUmVkQmxhY2tUcmVlKG4sZFswXSl9O2Z1bmN0aW9uIGRvVmlzaXRGdWxsKHQsZSl7aWYoZS5sZWZ0KXt2YXIgbj1kb1Zpc2l0RnVsbCh0LGUubGVmdCk7aWYobilyZXR1cm4gbn12YXIgbj10KGUua2V5LGUudmFsdWUpO2lmKG4pcmV0dXJuIG47aWYoZS5yaWdodClyZXR1cm4gZG9WaXNpdEZ1bGwodCxlLnJpZ2h0KX1mdW5jdGlvbiBkb1Zpc2l0SGFsZih0LGUsbixvKXt2YXIgZD1lKHQsby5rZXkpO2lmKGQ8PTApe2lmKG8ubGVmdCl7dmFyIGg9ZG9WaXNpdEhhbGYodCxlLG4sby5sZWZ0KTtpZihoKXJldHVybiBofXZhciBoPW4oby5rZXksby52YWx1ZSk7aWYoaClyZXR1cm4gaH1pZihvLnJpZ2h0KXJldHVybiBkb1Zpc2l0SGFsZih0LGUsbixvLnJpZ2h0KX1mdW5jdGlvbiBkb1Zpc2l0KHQsZSxuLG8sZCl7dmFyIGg9bih0LGQua2V5KSxsPW4oZSxkLmtleSksdTtpZihoPD0wJiYoZC5sZWZ0JiYodT1kb1Zpc2l0KHQsZSxuLG8sZC5sZWZ0KSx1KXx8bD4wJiYodT1vKGQua2V5LGQudmFsdWUpLHUpKSlyZXR1cm4gdTtpZihsPjAmJmQucmlnaHQpcmV0dXJuIGRvVmlzaXQodCxlLG4sbyxkLnJpZ2h0KX1wcm90by5mb3JFYWNoPWZ1bmN0aW9uKGUsbixvKXtpZih0aGlzLnJvb3Qpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpyZXR1cm4gZG9WaXNpdEZ1bGwoZSx0aGlzLnJvb3QpO2Nhc2UgMjpyZXR1cm4gZG9WaXNpdEhhbGYobix0aGlzLl9jb21wYXJlLGUsdGhpcy5yb290KTtjYXNlIDM6cmV0dXJuIHRoaXMuX2NvbXBhcmUobixvKT49MD92b2lkIDA6ZG9WaXNpdChuLG8sdGhpcy5fY29tcGFyZSxlLHRoaXMucm9vdCl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sImJlZ2luIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5yb290O2U7KXQucHVzaChlKSxlPWUubGVmdDtyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsdCl9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCJlbmQiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLnJvb3Q7ZTspdC5wdXNoKGUpLGU9ZS5yaWdodDtyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsdCl9fSk7cHJvdG8uYXQ9ZnVuY3Rpb24odCl7aWYodDwwKXJldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyxbXSk7Zm9yKHZhciBlPXRoaXMucm9vdCxuPVtdOzspe2lmKG4ucHVzaChlKSxlLmxlZnQpe2lmKHQ8ZS5sZWZ0Ll9jb3VudCl7ZT1lLmxlZnQ7Y29udGludWV9dC09ZS5sZWZ0Ll9jb3VudH1pZighdClyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsbik7aWYodC09MSxlLnJpZ2h0KXtpZih0Pj1lLnJpZ2h0Ll9jb3VudClicmVhaztlPWUucmlnaHR9ZWxzZSBicmVha31yZXR1cm4gbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsW10pfTtwcm90by5nZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY29tcGFyZSxuPXRoaXMucm9vdCxvPVtdLGQ9MDtuOyl7dmFyIGg9ZSh0LG4ua2V5KTtvLnB1c2gobiksaDw9MCYmKGQ9by5sZW5ndGgpLGg8PTA/bj1uLmxlZnQ6bj1uLnJpZ2h0fXJldHVybiBvLmxlbmd0aD1kLG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLG8pfTtwcm90by5ndD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY29tcGFyZSxuPXRoaXMucm9vdCxvPVtdLGQ9MDtuOyl7dmFyIGg9ZSh0LG4ua2V5KTtvLnB1c2gobiksaDwwJiYoZD1vLmxlbmd0aCksaDwwP249bi5sZWZ0Om49bi5yaWdodH1yZXR1cm4gby5sZW5ndGg9ZCxuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyxvKX07cHJvdG8ubHQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NvbXBhcmUsbj10aGlzLnJvb3Qsbz1bXSxkPTA7bjspe3ZhciBoPWUodCxuLmtleSk7by5wdXNoKG4pLGg+MCYmKGQ9by5sZW5ndGgpLGg8PTA/bj1uLmxlZnQ6bj1uLnJpZ2h0fXJldHVybiBvLmxlbmd0aD1kLG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLG8pfTtwcm90by5sZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY29tcGFyZSxuPXRoaXMucm9vdCxvPVtdLGQ9MDtuOyl7dmFyIGg9ZSh0LG4ua2V5KTtvLnB1c2gobiksaD49MCYmKGQ9by5sZW5ndGgpLGg8MD9uPW4ubGVmdDpuPW4ucmlnaHR9cmV0dXJuIG8ubGVuZ3RoPWQsbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsbyl9O3Byb3RvLmZpbmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NvbXBhcmUsbj10aGlzLnJvb3Qsbz1bXTtuOyl7dmFyIGQ9ZSh0LG4ua2V5KTtpZihvLnB1c2gobiksZD09PTApcmV0dXJuIG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLG8pO2Q8PTA/bj1uLmxlZnQ6bj1uLnJpZ2h0fXJldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyxbXSl9O3Byb3RvLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmZpbmQodCk7cmV0dXJuIGU/ZS5yZW1vdmUoKTp0aGlzfTtwcm90by5nZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2NvbXBhcmUsbj10aGlzLnJvb3Q7bjspe3ZhciBvPWUodCxuLmtleSk7aWYobz09PTApcmV0dXJuIG4udmFsdWU7bzw9MD9uPW4ubGVmdDpuPW4ucmlnaHR9fTtmdW5jdGlvbiBSZWRCbGFja1RyZWVJdGVyYXRvcih0LGUpe3RoaXMudHJlZT10LHRoaXMuX3N0YWNrPWV9dmFyIGlwcm90bz1SZWRCbGFja1RyZWVJdGVyYXRvci5wcm90b3R5cGU7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlwcm90bywidmFsaWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2subGVuZ3RoPjB9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlwcm90bywibm9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFjay5sZW5ndGg+MD90aGlzLl9zdGFja1t0aGlzLl9zdGFjay5sZW5ndGgtMV06bnVsbH0sZW51bWVyYWJsZTohMH0pO2lwcm90by5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcy50cmVlLHRoaXMuX3N0YWNrLnNsaWNlKCkpfTtmdW5jdGlvbiBzd2FwTm9kZSh0LGUpe3Qua2V5PWUua2V5LHQudmFsdWU9ZS52YWx1ZSx0LmxlZnQ9ZS5sZWZ0LHQucmlnaHQ9ZS5yaWdodCx0Ll9jb2xvcj1lLl9jb2xvcix0Ll9jb3VudD1lLl9jb3VudH1mdW5jdGlvbiBmaXhEb3VibGVCbGFjayh0KXtmb3IodmFyIGUsbixvLGQsaD10Lmxlbmd0aC0xO2g+PTA7LS1oKXtpZihlPXRbaF0saD09PTApe2UuX2NvbG9yPUJMQUNLO3JldHVybn1pZihuPXRbaC0xXSxuLmxlZnQ9PT1lKXtpZihvPW4ucmlnaHQsby5yaWdodCYmby5yaWdodC5fY29sb3I9PT1SRUQpe2lmKG89bi5yaWdodD1jbG9uZU5vZGUobyksZD1vLnJpZ2h0PWNsb25lTm9kZShvLnJpZ2h0KSxuLnJpZ2h0PW8ubGVmdCxvLmxlZnQ9bixvLnJpZ2h0PWQsby5fY29sb3I9bi5fY29sb3IsZS5fY29sb3I9QkxBQ0ssbi5fY29sb3I9QkxBQ0ssZC5fY29sb3I9QkxBQ0sscmVjb3VudChuKSxyZWNvdW50KG8pLGg+MSl7dmFyIGw9dFtoLTJdO2wubGVmdD09PW4/bC5sZWZ0PW86bC5yaWdodD1vfXRbaC0xXT1vO3JldHVybn1lbHNlIGlmKG8ubGVmdCYmby5sZWZ0Ll9jb2xvcj09PVJFRCl7aWYobz1uLnJpZ2h0PWNsb25lTm9kZShvKSxkPW8ubGVmdD1jbG9uZU5vZGUoby5sZWZ0KSxuLnJpZ2h0PWQubGVmdCxvLmxlZnQ9ZC5yaWdodCxkLmxlZnQ9bixkLnJpZ2h0PW8sZC5fY29sb3I9bi5fY29sb3Isbi5fY29sb3I9QkxBQ0ssby5fY29sb3I9QkxBQ0ssZS5fY29sb3I9QkxBQ0sscmVjb3VudChuKSxyZWNvdW50KG8pLHJlY291bnQoZCksaD4xKXt2YXIgbD10W2gtMl07bC5sZWZ0PT09bj9sLmxlZnQ9ZDpsLnJpZ2h0PWR9dFtoLTFdPWQ7cmV0dXJufWlmKG8uX2NvbG9yPT09QkxBQ0spaWYobi5fY29sb3I9PT1SRUQpe24uX2NvbG9yPUJMQUNLLG4ucmlnaHQ9cmVwYWludChSRUQsbyk7cmV0dXJufWVsc2V7bi5yaWdodD1yZXBhaW50KFJFRCxvKTtjb250aW51ZX1lbHNle2lmKG89Y2xvbmVOb2RlKG8pLG4ucmlnaHQ9by5sZWZ0LG8ubGVmdD1uLG8uX2NvbG9yPW4uX2NvbG9yLG4uX2NvbG9yPVJFRCxyZWNvdW50KG4pLHJlY291bnQobyksaD4xKXt2YXIgbD10W2gtMl07bC5sZWZ0PT09bj9sLmxlZnQ9bzpsLnJpZ2h0PW99dFtoLTFdPW8sdFtoXT1uLGgrMTx0Lmxlbmd0aD90W2grMV09ZTp0LnB1c2goZSksaD1oKzJ9fWVsc2V7aWYobz1uLmxlZnQsby5sZWZ0JiZvLmxlZnQuX2NvbG9yPT09UkVEKXtpZihvPW4ubGVmdD1jbG9uZU5vZGUobyksZD1vLmxlZnQ9Y2xvbmVOb2RlKG8ubGVmdCksbi5sZWZ0PW8ucmlnaHQsby5yaWdodD1uLG8ubGVmdD1kLG8uX2NvbG9yPW4uX2NvbG9yLGUuX2NvbG9yPUJMQUNLLG4uX2NvbG9yPUJMQUNLLGQuX2NvbG9yPUJMQUNLLHJlY291bnQobikscmVjb3VudChvKSxoPjEpe3ZhciBsPXRbaC0yXTtsLnJpZ2h0PT09bj9sLnJpZ2h0PW86bC5sZWZ0PW99dFtoLTFdPW87cmV0dXJufWVsc2UgaWYoby5yaWdodCYmby5yaWdodC5fY29sb3I9PT1SRUQpe2lmKG89bi5sZWZ0PWNsb25lTm9kZShvKSxkPW8ucmlnaHQ9Y2xvbmVOb2RlKG8ucmlnaHQpLG4ubGVmdD1kLnJpZ2h0LG8ucmlnaHQ9ZC5sZWZ0LGQucmlnaHQ9bixkLmxlZnQ9byxkLl9jb2xvcj1uLl9jb2xvcixuLl9jb2xvcj1CTEFDSyxvLl9jb2xvcj1CTEFDSyxlLl9jb2xvcj1CTEFDSyxyZWNvdW50KG4pLHJlY291bnQobykscmVjb3VudChkKSxoPjEpe3ZhciBsPXRbaC0yXTtsLnJpZ2h0PT09bj9sLnJpZ2h0PWQ6bC5sZWZ0PWR9dFtoLTFdPWQ7cmV0dXJufWlmKG8uX2NvbG9yPT09QkxBQ0spaWYobi5fY29sb3I9PT1SRUQpe24uX2NvbG9yPUJMQUNLLG4ubGVmdD1yZXBhaW50KFJFRCxvKTtyZXR1cm59ZWxzZXtuLmxlZnQ9cmVwYWludChSRUQsbyk7Y29udGludWV9ZWxzZXtpZihvPWNsb25lTm9kZShvKSxuLmxlZnQ9by5yaWdodCxvLnJpZ2h0PW4sby5fY29sb3I9bi5fY29sb3Isbi5fY29sb3I9UkVELHJlY291bnQobikscmVjb3VudChvKSxoPjEpe3ZhciBsPXRbaC0yXTtsLnJpZ2h0PT09bj9sLnJpZ2h0PW86bC5sZWZ0PW99dFtoLTFdPW8sdFtoXT1uLGgrMTx0Lmxlbmd0aD90W2grMV09ZTp0LnB1c2goZSksaD1oKzJ9fX19aXByb3RvLnJlbW92ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YWNrO2lmKHQubGVuZ3RoPT09MClyZXR1cm4gdGhpcy50cmVlO3ZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCksbj10W3QubGVuZ3RoLTFdO2VbZS5sZW5ndGgtMV09bmV3IFJCTm9kZShuLl9jb2xvcixuLmtleSxuLnZhbHVlLG4ubGVmdCxuLnJpZ2h0LG4uX2NvdW50KTtmb3IodmFyIG89dC5sZW5ndGgtMjtvPj0wOy0tbyl7dmFyIG49dFtvXTtuLmxlZnQ9PT10W28rMV0/ZVtvXT1uZXcgUkJOb2RlKG4uX2NvbG9yLG4ua2V5LG4udmFsdWUsZVtvKzFdLG4ucmlnaHQsbi5fY291bnQpOmVbb109bmV3IFJCTm9kZShuLl9jb2xvcixuLmtleSxuLnZhbHVlLG4ubGVmdCxlW28rMV0sbi5fY291bnQpfWlmKG49ZVtlLmxlbmd0aC0xXSxuLmxlZnQmJm4ucmlnaHQpe3ZhciBkPWUubGVuZ3RoO2ZvcihuPW4ubGVmdDtuLnJpZ2h0OyllLnB1c2gobiksbj1uLnJpZ2h0O3ZhciBoPWVbZC0xXTtlLnB1c2gobmV3IFJCTm9kZShuLl9jb2xvcixoLmtleSxoLnZhbHVlLG4ubGVmdCxuLnJpZ2h0LG4uX2NvdW50KSksZVtkLTFdLmtleT1uLmtleSxlW2QtMV0udmFsdWU9bi52YWx1ZTtmb3IodmFyIG89ZS5sZW5ndGgtMjtvPj1kOy0tbyluPWVbb10sZVtvXT1uZXcgUkJOb2RlKG4uX2NvbG9yLG4ua2V5LG4udmFsdWUsbi5sZWZ0LGVbbysxXSxuLl9jb3VudCk7ZVtkLTFdLmxlZnQ9ZVtkXX1pZihuPWVbZS5sZW5ndGgtMV0sbi5fY29sb3I9PT1SRUQpe3ZhciBsPWVbZS5sZW5ndGgtMl07bC5sZWZ0PT09bj9sLmxlZnQ9bnVsbDpsLnJpZ2h0PT09biYmKGwucmlnaHQ9bnVsbCksZS5wb3AoKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoOysrbyllW29dLl9jb3VudC0tO3JldHVybiBuZXcgUmVkQmxhY2tUcmVlKHRoaXMudHJlZS5fY29tcGFyZSxlWzBdKX1lbHNlIGlmKG4ubGVmdHx8bi5yaWdodCl7bi5sZWZ0P3N3YXBOb2RlKG4sbi5sZWZ0KTpuLnJpZ2h0JiZzd2FwTm9kZShuLG4ucmlnaHQpLG4uX2NvbG9yPUJMQUNLO2Zvcih2YXIgbz0wO288ZS5sZW5ndGgtMTsrK28pZVtvXS5fY291bnQtLTtyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZSh0aGlzLnRyZWUuX2NvbXBhcmUsZVswXSl9ZWxzZXtpZihlLmxlbmd0aD09PTEpcmV0dXJuIG5ldyBSZWRCbGFja1RyZWUodGhpcy50cmVlLl9jb21wYXJlLG51bGwpO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7KytvKWVbb10uX2NvdW50LS07dmFyIHU9ZVtlLmxlbmd0aC0yXTtmaXhEb3VibGVCbGFjayhlKSx1LmxlZnQ9PT1uP3UubGVmdD1udWxsOnUucmlnaHQ9bnVsbH1yZXR1cm4gbmV3IFJlZEJsYWNrVHJlZSh0aGlzLnRyZWUuX2NvbXBhcmUsZVswXSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShpcHJvdG8sImtleSIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3N0YWNrLmxlbmd0aD4wKXJldHVybiB0aGlzLl9zdGFja1t0aGlzLl9zdGFjay5sZW5ndGgtMV0ua2V5fSxlbnVtZXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlwcm90bywidmFsdWUiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl9zdGFjay5sZW5ndGg+MClyZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2subGVuZ3RoLTFdLnZhbHVlfSxlbnVtZXJhYmxlOiEwfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGlwcm90bywiaW5kZXgiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD0wLGU9dGhpcy5fc3RhY2s7aWYoZS5sZW5ndGg9PT0wKXt2YXIgbj10aGlzLnRyZWUucm9vdDtyZXR1cm4gbj9uLl9jb3VudDowfWVsc2UgZVtlLmxlbmd0aC0xXS5sZWZ0JiYodD1lW2UubGVuZ3RoLTFdLmxlZnQuX2NvdW50KTtmb3IodmFyIG89ZS5sZW5ndGgtMjtvPj0wOy0tbyllW28rMV09PT1lW29dLnJpZ2h0JiYoKyt0LGVbb10ubGVmdCYmKHQrPWVbb10ubGVmdC5fY291bnQpKTtyZXR1cm4gdH0sZW51bWVyYWJsZTohMH0pO2lwcm90by5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhY2s7aWYodC5sZW5ndGghPT0wKXt2YXIgZT10W3QubGVuZ3RoLTFdO2lmKGUucmlnaHQpZm9yKGU9ZS5yaWdodDtlOyl0LnB1c2goZSksZT1lLmxlZnQ7ZWxzZSBmb3IodC5wb3AoKTt0Lmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdLnJpZ2h0PT09ZTspZT10W3QubGVuZ3RoLTFdLHQucG9wKCl9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXByb3RvLCJoYXNOZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhY2s7aWYodC5sZW5ndGg9PT0wKXJldHVybiExO2lmKHRbdC5sZW5ndGgtMV0ucmlnaHQpcmV0dXJuITA7Zm9yKHZhciBlPXQubGVuZ3RoLTE7ZT4wOy0tZSlpZih0W2UtMV0ubGVmdD09PXRbZV0pcmV0dXJuITA7cmV0dXJuITF9fSk7aXByb3RvLnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zdGFjaztpZihlLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJDYW4ndCB1cGRhdGUgZW1wdHkgbm9kZSEiKTt2YXIgbj1uZXcgQXJyYXkoZS5sZW5ndGgpLG89ZVtlLmxlbmd0aC0xXTtuW24ubGVuZ3RoLTFdPW5ldyBSQk5vZGUoby5fY29sb3Isby5rZXksdCxvLmxlZnQsby5yaWdodCxvLl9jb3VudCk7Zm9yKHZhciBkPWUubGVuZ3RoLTI7ZD49MDstLWQpbz1lW2RdLG8ubGVmdD09PWVbZCsxXT9uW2RdPW5ldyBSQk5vZGUoby5fY29sb3Isby5rZXksby52YWx1ZSxuW2QrMV0sby5yaWdodCxvLl9jb3VudCk6bltkXT1uZXcgUkJOb2RlKG8uX2NvbG9yLG8ua2V5LG8udmFsdWUsby5sZWZ0LG5bZCsxXSxvLl9jb3VudCk7cmV0dXJuIG5ldyBSZWRCbGFja1RyZWUodGhpcy50cmVlLl9jb21wYXJlLG5bMF0pfTtpcHJvdG8ucHJldj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YWNrO2lmKHQubGVuZ3RoIT09MCl7dmFyIGU9dFt0Lmxlbmd0aC0xXTtpZihlLmxlZnQpZm9yKGU9ZS5sZWZ0O2U7KXQucHVzaChlKSxlPWUucmlnaHQ7ZWxzZSBmb3IodC5wb3AoKTt0Lmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdLmxlZnQ9PT1lOyllPXRbdC5sZW5ndGgtMV0sdC5wb3AoKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShpcHJvdG8sImhhc1ByZXYiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdGFjaztpZih0Lmxlbmd0aD09PTApcmV0dXJuITE7aWYodFt0Lmxlbmd0aC0xXS5sZWZ0KXJldHVybiEwO2Zvcih2YXIgZT10Lmxlbmd0aC0xO2U+MDstLWUpaWYodFtlLTFdLnJpZ2h0PT09dFtlXSlyZXR1cm4hMDtyZXR1cm4hMX19KTtmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZSh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBjcmVhdGVSQlRyZWUodCl7cmV0dXJuIG5ldyBSZWRCbGFja1RyZWUodHx8ZGVmYXVsdENvbXBhcmUsbnVsbCl9Y29uc3R7QWJzdHJhY3RMZXZlbCxBYnN0cmFjdEl0ZXJhdG9yLEFic3RyYWN0S2V5SXRlcmF0b3IsQWJzdHJhY3RWYWx1ZUl0ZXJhdG9yfT1hYnN0cmFjdExldmVsJDEsTW9kdWxlRXJyb3I9bW9kdWxlRXJyb3IsY3JlYXRlUkJUPXJidHJlZSxyYW5nZU9wdGlvbnM9bmV3IFNldChbImd0IiwiZ3RlIiwibHQiLCJsdGUiXSksa05vbmU9U3ltYm9sKCJub25lIiksa1RyZWU9U3ltYm9sKCJ0cmVlIiksa0l0ZXJhdG9yPVN5bWJvbCgiaXRlcmF0b3IiKSxrTG93ZXJCb3VuZD1TeW1ib2woImxvd2VyQm91bmQiKSxrVXBwZXJCb3VuZD1TeW1ib2woInVwcGVyQm91bmQiKSxrT3V0T2ZSYW5nZT1TeW1ib2woIm91dE9mUmFuZ2UiKSxrUmV2ZXJzZT1TeW1ib2woInJldmVyc2UiKSxrT3B0aW9ucz1TeW1ib2woIm9wdGlvbnMiKSxrVGVzdD1TeW1ib2woInRlc3QiKSxrQWR2YW5jZT1TeW1ib2woImFkdmFuY2UiKSxrSW5pdD1TeW1ib2woImluaXQiKTtmdW5jdGlvbiBjb21wYXJlKHQsZSl7aWYodHlwZW9mIHQ9PSJzdHJpbmciKXJldHVybiB0PGU/LTE6dD5lPzE6MDtjb25zdCBuPU1hdGgubWluKHQuYnl0ZUxlbmd0aCxlLmJ5dGVMZW5ndGgpO2ZvcihsZXQgbz0wO288bjtvKyspe2NvbnN0IGQ9dFtvXS1lW29dO2lmKGQhPT0wKXJldHVybiBkfXJldHVybiB0LmJ5dGVMZW5ndGgtZS5ieXRlTGVuZ3RofWZ1bmN0aW9uIGd0KHQpe3JldHVybiBjb21wYXJlKHQsdGhpc1trVXBwZXJCb3VuZF0pPjB9ZnVuY3Rpb24gZ3RlKHQpe3JldHVybiBjb21wYXJlKHQsdGhpc1trVXBwZXJCb3VuZF0pPj0wfWZ1bmN0aW9uIGx0KHQpe3JldHVybiBjb21wYXJlKHQsdGhpc1trVXBwZXJCb3VuZF0pPDB9ZnVuY3Rpb24gbHRlKHQpe3JldHVybiBjb21wYXJlKHQsdGhpc1trVXBwZXJCb3VuZF0pPD0wfWNsYXNzIE1lbW9yeUl0ZXJhdG9yIGV4dGVuZHMgQWJzdHJhY3RJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksdGhpc1trSW5pdF0oZVtrVHJlZV0sbil9X25leHQoZSl7aWYoIXRoaXNba0l0ZXJhdG9yXS52YWxpZClyZXR1cm4gdGhpcy5uZXh0VGljayhlKTtjb25zdCBuPXRoaXNba0l0ZXJhdG9yXS5rZXksbz10aGlzW2tJdGVyYXRvcl0udmFsdWU7aWYoIXRoaXNba1Rlc3RdKG4pKXJldHVybiB0aGlzLm5leHRUaWNrKGUpO3RoaXNba0l0ZXJhdG9yXVt0aGlzW2tBZHZhbmNlXV0oKSx0aGlzLm5leHRUaWNrKGUsbnVsbCxuLG8pfV9uZXh0dihlLG4sbyl7Y29uc3QgZD10aGlzW2tJdGVyYXRvcl0saD1bXTtmb3IoO2QudmFsaWQmJmgubGVuZ3RoPGUmJnRoaXNba1Rlc3RdKGQua2V5KTspaC5wdXNoKFtkLmtleSxkLnZhbHVlXSksZFt0aGlzW2tBZHZhbmNlXV0oKTt0aGlzLm5leHRUaWNrKG8sbnVsbCxoKX1fYWxsKGUsbil7Y29uc3Qgbz10aGlzLmxpbWl0LXRoaXMuY291bnQsZD10aGlzW2tJdGVyYXRvcl0saD1bXTtmb3IoO2QudmFsaWQmJmgubGVuZ3RoPG8mJnRoaXNba1Rlc3RdKGQua2V5KTspaC5wdXNoKFtkLmtleSxkLnZhbHVlXSksZFt0aGlzW2tBZHZhbmNlXV0oKTt0aGlzLm5leHRUaWNrKG4sbnVsbCxoKX19Y2xhc3MgTWVtb3J5S2V5SXRlcmF0b3IgZXh0ZW5kcyBBYnN0cmFjdEtleUl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSx0aGlzW2tJbml0XShlW2tUcmVlXSxuKX1fbmV4dChlKXtpZighdGhpc1trSXRlcmF0b3JdLnZhbGlkKXJldHVybiB0aGlzLm5leHRUaWNrKGUpO2NvbnN0IG49dGhpc1trSXRlcmF0b3JdLmtleTtpZighdGhpc1trVGVzdF0obikpcmV0dXJuIHRoaXMubmV4dFRpY2soZSk7dGhpc1trSXRlcmF0b3JdW3RoaXNba0FkdmFuY2VdXSgpLHRoaXMubmV4dFRpY2soZSxudWxsLG4pfV9uZXh0dihlLG4sbyl7Y29uc3QgZD10aGlzW2tJdGVyYXRvcl0saD1bXTtmb3IoO2QudmFsaWQmJmgubGVuZ3RoPGUmJnRoaXNba1Rlc3RdKGQua2V5KTspaC5wdXNoKGQua2V5KSxkW3RoaXNba0FkdmFuY2VdXSgpO3RoaXMubmV4dFRpY2sobyxudWxsLGgpfV9hbGwoZSxuKXtjb25zdCBvPXRoaXMubGltaXQtdGhpcy5jb3VudCxkPXRoaXNba0l0ZXJhdG9yXSxoPVtdO2Zvcig7ZC52YWxpZCYmaC5sZW5ndGg8byYmdGhpc1trVGVzdF0oZC5rZXkpOyloLnB1c2goZC5rZXkpLGRbdGhpc1trQWR2YW5jZV1dKCk7dGhpcy5uZXh0VGljayhuLG51bGwsaCl9fWNsYXNzIE1lbW9yeVZhbHVlSXRlcmF0b3IgZXh0ZW5kcyBBYnN0cmFjdFZhbHVlSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLHRoaXNba0luaXRdKGVba1RyZWVdLG4pfV9uZXh0KGUpe2lmKCF0aGlzW2tJdGVyYXRvcl0udmFsaWQpcmV0dXJuIHRoaXMubmV4dFRpY2soZSk7Y29uc3Qgbj10aGlzW2tJdGVyYXRvcl0ua2V5LG89dGhpc1trSXRlcmF0b3JdLnZhbHVlO2lmKCF0aGlzW2tUZXN0XShuKSlyZXR1cm4gdGhpcy5uZXh0VGljayhlKTt0aGlzW2tJdGVyYXRvcl1bdGhpc1trQWR2YW5jZV1dKCksdGhpcy5uZXh0VGljayhlLG51bGwsbyl9X25leHR2KGUsbixvKXtjb25zdCBkPXRoaXNba0l0ZXJhdG9yXSxoPVtdO2Zvcig7ZC52YWxpZCYmaC5sZW5ndGg8ZSYmdGhpc1trVGVzdF0oZC5rZXkpOyloLnB1c2goZC52YWx1ZSksZFt0aGlzW2tBZHZhbmNlXV0oKTt0aGlzLm5leHRUaWNrKG8sbnVsbCxoKX1fYWxsKGUsbil7Y29uc3Qgbz10aGlzLmxpbWl0LXRoaXMuY291bnQsZD10aGlzW2tJdGVyYXRvcl0saD1bXTtmb3IoO2QudmFsaWQmJmgubGVuZ3RoPG8mJnRoaXNba1Rlc3RdKGQua2V5KTspaC5wdXNoKGQudmFsdWUpLGRbdGhpc1trQWR2YW5jZV1dKCk7dGhpcy5uZXh0VGljayhuLG51bGwsaCl9fWZvcihjb25zdCB0IG9mW01lbW9yeUl0ZXJhdG9yLE1lbW9yeUtleUl0ZXJhdG9yLE1lbW9yeVZhbHVlSXRlcmF0b3JdKXQucHJvdG90eXBlW2tJbml0XT1mdW5jdGlvbihlLG4pe3RoaXNba1JldmVyc2VdPW4ucmV2ZXJzZSx0aGlzW2tPcHRpb25zXT1uLHRoaXNba1JldmVyc2VdPyh0aGlzW2tBZHZhbmNlXT0icHJldiIsdGhpc1trTG93ZXJCb3VuZF09Imx0ZSJpbiBuP24ubHRlOiJsdCJpbiBuP24ubHQ6a05vbmUsdGhpc1trVXBwZXJCb3VuZF09Imd0ZSJpbiBuP24uZ3RlOiJndCJpbiBuP24uZ3Q6a05vbmUsdGhpc1trTG93ZXJCb3VuZF09PT1rTm9uZT90aGlzW2tJdGVyYXRvcl09ZS5lbmQ6Imx0ZSJpbiBuP3RoaXNba0l0ZXJhdG9yXT1lLmxlKHRoaXNba0xvd2VyQm91bmRdKTp0aGlzW2tJdGVyYXRvcl09ZS5sdCh0aGlzW2tMb3dlckJvdW5kXSksdGhpc1trVXBwZXJCb3VuZF0hPT1rTm9uZSYmKHRoaXNba1Rlc3RdPSJndGUiaW4gbj9ndGU6Z3QpKToodGhpc1trQWR2YW5jZV09Im5leHQiLHRoaXNba0xvd2VyQm91bmRdPSJndGUiaW4gbj9uLmd0ZToiZ3QiaW4gbj9uLmd0OmtOb25lLHRoaXNba1VwcGVyQm91bmRdPSJsdGUiaW4gbj9uLmx0ZToibHQiaW4gbj9uLmx0OmtOb25lLHRoaXNba0xvd2VyQm91bmRdPT09a05vbmU/dGhpc1trSXRlcmF0b3JdPWUuYmVnaW46Imd0ZSJpbiBuP3RoaXNba0l0ZXJhdG9yXT1lLmdlKHRoaXNba0xvd2VyQm91bmRdKTp0aGlzW2tJdGVyYXRvcl09ZS5ndCh0aGlzW2tMb3dlckJvdW5kXSksdGhpc1trVXBwZXJCb3VuZF0hPT1rTm9uZSYmKHRoaXNba1Rlc3RdPSJsdGUiaW4gbj9sdGU6bHQpKX0sdC5wcm90b3R5cGVba1Rlc3RdPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlW2tPdXRPZlJhbmdlXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpc1trVGVzdF0oZSk/dGhpc1trTG93ZXJCb3VuZF09PT1rTm9uZT8hMTp0aGlzW2tSZXZlcnNlXT8ibHRlImluIHRoaXNba09wdGlvbnNdP2NvbXBhcmUoZSx0aGlzW2tMb3dlckJvdW5kXSk+MDpjb21wYXJlKGUsdGhpc1trTG93ZXJCb3VuZF0pPj0wOiJndGUiaW4gdGhpc1trT3B0aW9uc10/Y29tcGFyZShlLHRoaXNba0xvd2VyQm91bmRdKTwwOmNvbXBhcmUoZSx0aGlzW2tMb3dlckJvdW5kXSk8PTA6ITB9LHQucHJvdG90eXBlLl9zZWVrPWZ1bmN0aW9uKGUsbil7dGhpc1trT3V0T2ZSYW5nZV0oZSk/KHRoaXNba0l0ZXJhdG9yXT10aGlzW2tJdGVyYXRvcl0udHJlZS5lbmQsdGhpc1trSXRlcmF0b3JdLm5leHQoKSk6dGhpc1trUmV2ZXJzZV0/dGhpc1trSXRlcmF0b3JdPXRoaXNba0l0ZXJhdG9yXS50cmVlLmxlKGUpOnRoaXNba0l0ZXJhdG9yXT10aGlzW2tJdGVyYXRvcl0udHJlZS5nZShlKX07Y2xhc3MgTWVtb3J5TGV2ZWwgZXh0ZW5kcyBBYnN0cmFjdExldmVse2NvbnN0cnVjdG9yKGUsbixvKXtpZih0eXBlb2YgZT09Im9iamVjdCImJmUhPT1udWxsJiYobj1lKSx0eXBlb2YgZT09ImZ1bmN0aW9uInx8dHlwZW9mIG49PSJmdW5jdGlvbiJ8fHR5cGVvZiBvPT0iZnVuY3Rpb24iKXRocm93IG5ldyBNb2R1bGVFcnJvcigiVGhlIGxldmVsdXAtc3R5bGUgY2FsbGJhY2sgYXJndW1lbnQgaGFzIGJlZW4gcmVtb3ZlZCIse2NvZGU6IkxFVkVMX0xFR0FDWSJ9KTtsZXR7c3RvcmVFbmNvZGluZzpkLC4uLmh9PW58fHt9O2lmKGQ9ZHx8ImJ1ZmZlciIsIVsiYnVmZmVyIiwidmlldyIsInV0ZjgiXS5pbmNsdWRlcyhkKSl0aHJvdyBuZXcgTW9kdWxlRXJyb3IoIlRoZSBzdG9yZUVuY29kaW5nIG9wdGlvbiBtdXN0IGJlICdidWZmZXInLCAndmlldycgb3IgJ3V0ZjgnIix7Y29kZToiTEVWRUxfRU5DT0RJTkdfTk9UX1NVUFBPUlRFRCJ9KTtzdXBlcih7c2VlazohMCxwZXJtYW5lbmNlOiExLGNyZWF0ZUlmTWlzc2luZzohMSxlcnJvcklmRXhpc3RzOiExLGVuY29kaW5nczp7W2RdOiEwfX0saCksdGhpc1trVHJlZV09Y3JlYXRlUkJUKGNvbXBhcmUpfV9wdXQoZSxuLG8sZCl7Y29uc3QgaD10aGlzW2tUcmVlXS5maW5kKGUpO2gudmFsaWQ/dGhpc1trVHJlZV09aC51cGRhdGUobik6dGhpc1trVHJlZV09dGhpc1trVHJlZV0uaW5zZXJ0KGUsbiksdGhpcy5uZXh0VGljayhkKX1fZ2V0KGUsbixvKXtjb25zdCBkPXRoaXNba1RyZWVdLmdldChlKTtpZih0eXBlb2YgZD4idSIpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxuZXcgRXJyb3IoIk5vdEZvdW5kIikpO3RoaXMubmV4dFRpY2sobyxudWxsLGQpfV9nZXRNYW55KGUsbixvKXt0aGlzLm5leHRUaWNrKG8sbnVsbCxlLm1hcChkPT50aGlzW2tUcmVlXS5nZXQoZCkpKX1fZGVsKGUsbixvKXt0aGlzW2tUcmVlXT10aGlzW2tUcmVlXS5yZW1vdmUoZSksdGhpcy5uZXh0VGljayhvKX1fYmF0Y2goZSxuLG8pe2xldCBkPXRoaXNba1RyZWVdO2Zvcihjb25zdCBoIG9mIGUpe2NvbnN0IGw9aC5rZXksdT1kLmZpbmQobCk7aC50eXBlPT09InB1dCI/ZD11LnZhbGlkP3UudXBkYXRlKGgudmFsdWUpOmQuaW5zZXJ0KGwsaC52YWx1ZSk6ZD11LnJlbW92ZSgpfXRoaXNba1RyZWVdPWQsdGhpcy5uZXh0VGljayhvKX1fY2xlYXIoZSxuKXtpZihlLmxpbWl0PT09LTEmJiFPYmplY3Qua2V5cyhlKS5zb21lKGlzUmFuZ2VPcHRpb24pKXJldHVybiB0aGlzW2tUcmVlXT1jcmVhdGVSQlQoY29tcGFyZSksdGhpcy5uZXh0VGljayhuKTtjb25zdCBvPXRoaXMuX2tleXMoey4uLmV9KSxkPW8ubGltaXQ7bGV0IGg9MDtjb25zdCBsPSgpPT57Zm9yKGxldCB1PTA7dTw1MDA7dSsrKXtpZigrK2g+ZHx8IW9ba0l0ZXJhdG9yXS52YWxpZHx8IW9ba1Rlc3RdKG9ba0l0ZXJhdG9yXS5rZXkpKXJldHVybiBuKCk7dGhpc1trVHJlZV09dGhpc1trVHJlZV0ucmVtb3ZlKG9ba0l0ZXJhdG9yXS5rZXkpLG9ba0l0ZXJhdG9yXVtvW2tBZHZhbmNlXV0oKX10aGlzLm5leHRUaWNrKGwpfTt0aGlzLm5leHRUaWNrKGwpfV9pdGVyYXRvcihlKXtyZXR1cm4gbmV3IE1lbW9yeUl0ZXJhdG9yKHRoaXMsZSl9X2tleXMoZSl7cmV0dXJuIG5ldyBNZW1vcnlLZXlJdGVyYXRvcih0aGlzLGUpfV92YWx1ZXMoZSl7cmV0dXJuIG5ldyBNZW1vcnlWYWx1ZUl0ZXJhdG9yKHRoaXMsZSl9fXZhciBNZW1vcnlMZXZlbF8xPU1lbW9yeUxldmVsO2lmKHR5cGVvZiBwcm9jZXNzPCJ1IiYmIXByb2Nlc3MuYnJvd3NlciYmdHlwZW9mIGNvbW1vbmpzR2xvYmFsPCJ1IiYmdHlwZW9mIGNvbW1vbmpzR2xvYmFsLnNldEltbWVkaWF0ZT09ImZ1bmN0aW9uIil7Y29uc3QgdD1jb21tb25qc0dsb2JhbC5zZXRJbW1lZGlhdGU7TWVtb3J5TGV2ZWwucHJvdG90eXBlLm5leHRUaWNrPWZ1bmN0aW9uKGUsLi4ubil7bi5sZW5ndGg9PT0wP3QoZSk6dCgoKT0+ZSguLi5uKSl9fWZ1bmN0aW9uIGlzUmFuZ2VPcHRpb24odCl7cmV0dXJuIHJhbmdlT3B0aW9ucy5oYXModCl9dmFyIHJkZkRhdGFGYWN0b3J5PXt9LEJsYW5rTm9kZSQxPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShCbGFua05vZGUkMSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7QmxhbmtOb2RlJDEuQmxhbmtOb2RlPXZvaWQgMDtjbGFzcyBCbGFua05vZGV7Y29uc3RydWN0b3IoZSl7dGhpcy50ZXJtVHlwZT0iQmxhbmtOb2RlIix0aGlzLnZhbHVlPWV9ZXF1YWxzKGUpe3JldHVybiEhZSYmZS50ZXJtVHlwZT09PSJCbGFua05vZGUiJiZlLnZhbHVlPT09dGhpcy52YWx1ZX19QmxhbmtOb2RlJDEuQmxhbmtOb2RlPUJsYW5rTm9kZTt2YXIgRGF0YUZhY3RvcnkkMj17fSxEZWZhdWx0R3JhcGgkMT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyYXBoJDEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO0RlZmF1bHRHcmFwaCQxLkRlZmF1bHRHcmFwaD12b2lkIDA7Y2xhc3MgRGVmYXVsdEdyYXBoe2NvbnN0cnVjdG9yKCl7dGhpcy50ZXJtVHlwZT0iRGVmYXVsdEdyYXBoIix0aGlzLnZhbHVlPSIifWVxdWFscyhlKXtyZXR1cm4hIWUmJmUudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIn19RGVmYXVsdEdyYXBoJDEuRGVmYXVsdEdyYXBoPURlZmF1bHRHcmFwaDtEZWZhdWx0R3JhcGguSU5TVEFOQ0U9bmV3IERlZmF1bHRHcmFwaDt2YXIgTGl0ZXJhbCQxPXt9LE5hbWVkTm9kZSQxPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShOYW1lZE5vZGUkMSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7TmFtZWROb2RlJDEuTmFtZWROb2RlPXZvaWQgMDtjbGFzcyBOYW1lZE5vZGV7Y29uc3RydWN0b3IoZSl7dGhpcy50ZXJtVHlwZT0iTmFtZWROb2RlIix0aGlzLnZhbHVlPWV9ZXF1YWxzKGUpe3JldHVybiEhZSYmZS50ZXJtVHlwZT09PSJOYW1lZE5vZGUiJiZlLnZhbHVlPT09dGhpcy52YWx1ZX19TmFtZWROb2RlJDEuTmFtZWROb2RlPU5hbWVkTm9kZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTGl0ZXJhbCQxLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtMaXRlcmFsJDEuTGl0ZXJhbD12b2lkIDA7Y29uc3QgTmFtZWROb2RlXzEkMT1OYW1lZE5vZGUkMTtjbGFzcyBMaXRlcmFse2NvbnN0cnVjdG9yKGUsbil7dGhpcy50ZXJtVHlwZT0iTGl0ZXJhbCIsdGhpcy52YWx1ZT1lLHR5cGVvZiBuPT0ic3RyaW5nIj8odGhpcy5sYW5ndWFnZT1uLHRoaXMuZGF0YXR5cGU9TGl0ZXJhbC5SREZfTEFOR1VBR0VfU1RSSU5HKTpuPyh0aGlzLmxhbmd1YWdlPSIiLHRoaXMuZGF0YXR5cGU9bik6KHRoaXMubGFuZ3VhZ2U9IiIsdGhpcy5kYXRhdHlwZT1MaXRlcmFsLlhTRF9TVFJJTkcpfWVxdWFscyhlKXtyZXR1cm4hIWUmJmUudGVybVR5cGU9PT0iTGl0ZXJhbCImJmUudmFsdWU9PT10aGlzLnZhbHVlJiZlLmxhbmd1YWdlPT09dGhpcy5sYW5ndWFnZSYmZS5kYXRhdHlwZS5lcXVhbHModGhpcy5kYXRhdHlwZSl9fUxpdGVyYWwkMS5MaXRlcmFsPUxpdGVyYWw7TGl0ZXJhbC5SREZfTEFOR1VBR0VfU1RSSU5HPW5ldyBOYW1lZE5vZGVfMSQxLk5hbWVkTm9kZSgiaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciKTtMaXRlcmFsLlhTRF9TVFJJTkc9bmV3IE5hbWVkTm9kZV8xJDEuTmFtZWROb2RlKCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmciKTt2YXIgUXVhZCQyPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWFkJDIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO1F1YWQkMi5RdWFkPXZvaWQgMDtsZXQgUXVhZCQxPWNsYXNze2NvbnN0cnVjdG9yKGUsbixvLGQpe3RoaXMudGVybVR5cGU9IlF1YWQiLHRoaXMudmFsdWU9IiIsdGhpcy5zdWJqZWN0PWUsdGhpcy5wcmVkaWNhdGU9bix0aGlzLm9iamVjdD1vLHRoaXMuZ3JhcGg9ZH1lcXVhbHMoZSl7cmV0dXJuISFlJiYoZS50ZXJtVHlwZT09PSJRdWFkInx8IWUudGVybVR5cGUpJiZ0aGlzLnN1YmplY3QuZXF1YWxzKGUuc3ViamVjdCkmJnRoaXMucHJlZGljYXRlLmVxdWFscyhlLnByZWRpY2F0ZSkmJnRoaXMub2JqZWN0LmVxdWFscyhlLm9iamVjdCkmJnRoaXMuZ3JhcGguZXF1YWxzKGUuZ3JhcGgpfX07UXVhZCQyLlF1YWQ9UXVhZCQxO3ZhciBWYXJpYWJsZSQxPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShWYXJpYWJsZSQxLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtWYXJpYWJsZSQxLlZhcmlhYmxlPXZvaWQgMDtjbGFzcyBWYXJpYWJsZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnRlcm1UeXBlPSJWYXJpYWJsZSIsdGhpcy52YWx1ZT1lfWVxdWFscyhlKXtyZXR1cm4hIWUmJmUudGVybVR5cGU9PT0iVmFyaWFibGUiJiZlLnZhbHVlPT09dGhpcy52YWx1ZX19VmFyaWFibGUkMS5WYXJpYWJsZT1WYXJpYWJsZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUZhY3RvcnkkMiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7RGF0YUZhY3RvcnkkMi5EYXRhRmFjdG9yeT12b2lkIDA7Y29uc3QgQmxhbmtOb2RlXzE9QmxhbmtOb2RlJDEsRGVmYXVsdEdyYXBoXzE9RGVmYXVsdEdyYXBoJDEsTGl0ZXJhbF8xPUxpdGVyYWwkMSxOYW1lZE5vZGVfMT1OYW1lZE5vZGUkMSxRdWFkXzE9UXVhZCQyLFZhcmlhYmxlXzE9VmFyaWFibGUkMTtsZXQgZGF0YUZhY3RvcnlDb3VudGVyPTAsRGF0YUZhY3RvcnkkMT1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmJsYW5rTm9kZUNvdW50ZXI9MCxlPWV8fHt9LHRoaXMuYmxhbmtOb2RlUHJlZml4PWUuYmxhbmtOb2RlUHJlZml4fHxgZGZfJHtkYXRhRmFjdG9yeUNvdW50ZXIrK31fYH1uYW1lZE5vZGUoZSl7cmV0dXJuIG5ldyBOYW1lZE5vZGVfMS5OYW1lZE5vZGUoZSl9YmxhbmtOb2RlKGUpe3JldHVybiBuZXcgQmxhbmtOb2RlXzEuQmxhbmtOb2RlKGV8fGAke3RoaXMuYmxhbmtOb2RlUHJlZml4fSR7dGhpcy5ibGFua05vZGVDb3VudGVyKyt9YCl9bGl0ZXJhbChlLG4pe3JldHVybiBuZXcgTGl0ZXJhbF8xLkxpdGVyYWwoZSxuKX12YXJpYWJsZShlKXtyZXR1cm4gbmV3IFZhcmlhYmxlXzEuVmFyaWFibGUoZSl9ZGVmYXVsdEdyYXBoKCl7cmV0dXJuIERlZmF1bHRHcmFwaF8xLkRlZmF1bHRHcmFwaC5JTlNUQU5DRX1xdWFkKGUsbixvLGQpe3JldHVybiBuZXcgUXVhZF8xLlF1YWQoZSxuLG8sZHx8dGhpcy5kZWZhdWx0R3JhcGgoKSl9ZnJvbVRlcm0oZSl7c3dpdGNoKGUudGVybVR5cGUpe2Nhc2UiTmFtZWROb2RlIjpyZXR1cm4gdGhpcy5uYW1lZE5vZGUoZS52YWx1ZSk7Y2FzZSJCbGFua05vZGUiOnJldHVybiB0aGlzLmJsYW5rTm9kZShlLnZhbHVlKTtjYXNlIkxpdGVyYWwiOnJldHVybiBlLmxhbmd1YWdlP3RoaXMubGl0ZXJhbChlLnZhbHVlLGUubGFuZ3VhZ2UpOmUuZGF0YXR5cGUuZXF1YWxzKExpdGVyYWxfMS5MaXRlcmFsLlhTRF9TVFJJTkcpP3RoaXMubGl0ZXJhbChlLnZhbHVlKTp0aGlzLmxpdGVyYWwoZS52YWx1ZSx0aGlzLmZyb21UZXJtKGUuZGF0YXR5cGUpKTtjYXNlIlZhcmlhYmxlIjpyZXR1cm4gdGhpcy52YXJpYWJsZShlLnZhbHVlKTtjYXNlIkRlZmF1bHRHcmFwaCI6cmV0dXJuIHRoaXMuZGVmYXVsdEdyYXBoKCk7Y2FzZSJRdWFkIjpyZXR1cm4gdGhpcy5xdWFkKHRoaXMuZnJvbVRlcm0oZS5zdWJqZWN0KSx0aGlzLmZyb21UZXJtKGUucHJlZGljYXRlKSx0aGlzLmZyb21UZXJtKGUub2JqZWN0KSx0aGlzLmZyb21UZXJtKGUuZ3JhcGgpKX19ZnJvbVF1YWQoZSl7cmV0dXJuIHRoaXMuZnJvbVRlcm0oZSl9cmVzZXRCbGFua05vZGVDb3VudGVyKCl7dGhpcy5ibGFua05vZGVDb3VudGVyPTB9fTtEYXRhRmFjdG9yeSQyLkRhdGFGYWN0b3J5PURhdGFGYWN0b3J5JDE7KGZ1bmN0aW9uKHQpe3ZhciBlPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKG8sZCxoLGwpe2w9PT12b2lkIDAmJihsPWgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLGwse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRbaF19fSl9OmZ1bmN0aW9uKG8sZCxoLGwpe2w9PT12b2lkIDAmJihsPWgpLG9bbF09ZFtoXX0pLG49Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24obyxkKXtmb3IodmFyIGggaW4gbyloIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsaCkmJmUoZCxvLGgpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbihCbGFua05vZGUkMSx0KSxuKERhdGFGYWN0b3J5JDIsdCksbihEZWZhdWx0R3JhcGgkMSx0KSxuKExpdGVyYWwkMSx0KSxuKE5hbWVkTm9kZSQxLHQpLG4oUXVhZCQyLHQpLG4oVmFyaWFibGUkMSx0KX0pKHJkZkRhdGFGYWN0b3J5KTt2YXIgUmVzdWx0VHlwZTsoZnVuY3Rpb24odCl7dC5WT0lEPSJ2b2lkIix0LlFVQURTPSJxdWFkcyIsdC5BUFBST1hJTUFURV9TSVpFPSJhcHByb3hpbWF0ZV9zaXplIn0pKFJlc3VsdFR5cGV8fChSZXN1bHRUeXBlPXt9KSk7Y2xhc3MgTGlua2VkTGlzdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2xlbmd0aD0wLHRoaXMuX2hlYWQ9bnVsbCx0aGlzLl90YWlsPW51bGx9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9sZW5ndGh9Z2V0IGZpcnN0KCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5faGVhZCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnZhbHVlfWdldCBsYXN0KCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fdGFpbCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnZhbHVlfWdldCBlbXB0eSgpe3JldHVybiB0aGlzLl9oZWFkPT09bnVsbH1wdXNoKGUpe2NvbnN0IG49e3ZhbHVlOmUsbmV4dDpudWxsfTt0aGlzLl90YWlsPT09bnVsbD90aGlzLl9oZWFkPXRoaXMuX3RhaWw9bjp0aGlzLl90YWlsLm5leHQ9dGhpcy5fdGFpbD1uLHRoaXMuX2xlbmd0aCsrfXNoaWZ0KCl7aWYodGhpcy5faGVhZD09PW51bGwpcmV0dXJuO2NvbnN0e3ZhbHVlOmUsbmV4dDpufT10aGlzLl9oZWFkO3JldHVybiB0aGlzLl9oZWFkPW4sbj09PW51bGwmJih0aGlzLl90YWlsPW51bGwpLHRoaXMuX2xlbmd0aC0tLGV9Y2xlYXIoKXt0aGlzLl9sZW5ndGg9MCx0aGlzLl9oZWFkPXRoaXMuX3RhaWw9bnVsbH19Y29uc3QgcmVzb2x2ZWQ9UHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7ZnVuY3Rpb24gY3JlYXRlVGFza1NjaGVkdWxlcigpe2NvbnN0IHQ9dHlwZW9mIHF1ZXVlTWljcm90YXNrPT0iZnVuY3Rpb24iP3F1ZXVlTWljcm90YXNrOmQ9PnJlc29sdmVkLnRoZW4oZCksZT10eXBlb2Ygc2V0SW1tZWRpYXRlPT0iZnVuY3Rpb24iP3NldEltbWVkaWF0ZTpkPT5zZXRUaW1lb3V0KGQsMCk7bGV0IG49MCxvPW51bGw7cmV0dXJuIGQ9PntvIT09bnVsbD9vLnB1c2goZCk6KytuPDEwMD90KGQpOihvPVtkXSxlKCgpPT57Zm9yKGNvbnN0IGggb2Ygbyl0KGgpO289bnVsbCxuPTB9KSl9fWxldCB0YXNrU2NoZWR1bGVyPWNyZWF0ZVRhc2tTY2hlZHVsZXIoKTtmdW5jdGlvbiBzY2hlZHVsZVRhc2sodCl7dGFza1NjaGVkdWxlcih0KX1mdW5jdGlvbiBnZXRUYXNrU2NoZWR1bGVyKCl7cmV0dXJuIHRhc2tTY2hlZHVsZXJ9ZnVuY3Rpb24gc2V0VGFza1NjaGVkdWxlcih0KXt0YXNrU2NoZWR1bGVyPXR9Y29uc3QgSU5JVD0xPDwwLE9QRU49MTw8MSxDTE9TSU5HPTE8PDIsQ0xPU0VEPTE8PDMsRU5ERUQ9MTw8NCxERVNUUk9ZRUQ9MTw8NTtjbGFzcyBBc3luY0l0ZXJhdG9yIGV4dGVuZHMgZXZlbnRzRXhwb3J0cy5FdmVudEVtaXR0ZXJ7Y29uc3RydWN0b3IoZT1PUEVOKXtzdXBlcigpLHRoaXMuX3JlYWRhYmxlPSExLHRoaXMuX3N0YXRlPWUsdGhpcy5vbigibmV3TGlzdGVuZXIiLHdhaXRGb3JEYXRhTGlzdGVuZXIpfV9jaGFuZ2VTdGF0ZShlLG49ITEpe2NvbnN0IG89ZT50aGlzLl9zdGF0ZSYmdGhpcy5fc3RhdGU8RU5ERUQ7cmV0dXJuIG8mJih0aGlzLl9zdGF0ZT1lLGU9PT1FTkRFRCYmKG4/dGFza1NjaGVkdWxlcigoKT0+dGhpcy5lbWl0KCJlbmQiKSk6dGhpcy5lbWl0KCJlbmQiKSkpLG99cmVhZCgpe3JldHVybiBudWxsfWZvckVhY2goZSxuKXt0aGlzLm9uKCJkYXRhIixiaW5kKGUsbikpfWNsb3NlKCl7dGhpcy5fY2hhbmdlU3RhdGUoQ0xPU0VEKSYmdGhpcy5fZW5kQXN5bmMoKX1kZXN0cm95KGUpe3RoaXMuZG9uZXx8dGhpcy5fZGVzdHJveShlLG49PntlPWV8fG4sZSYmdGhpcy5lbWl0KCJlcnJvciIsZSksdGhpcy5fZW5kKCEwKX0pfV9kZXN0cm95KGUsbil7bigpfV9lbmQoZT0hMSl7dGhpcy5fY2hhbmdlU3RhdGUoZT9ERVNUUk9ZRUQ6RU5ERUQpJiYodGhpcy5fcmVhZGFibGU9ITEsdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlYWRhYmxlIiksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoImRhdGEiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygiZW5kIikpfV9lbmRBc3luYygpe3Rhc2tTY2hlZHVsZXIoKCk9PnRoaXMuX2VuZCgpKX1nZXQgcmVhZGFibGUoKXtyZXR1cm4gdGhpcy5fcmVhZGFibGV9c2V0IHJlYWRhYmxlKGUpe2U9ISFlJiYhdGhpcy5kb25lLHRoaXMuX3JlYWRhYmxlIT09ZSYmKHRoaXMuX3JlYWRhYmxlPWUsZSYmdGFza1NjaGVkdWxlcigoKT0+dGhpcy5lbWl0KCJyZWFkYWJsZSIpKSl9Z2V0IGNsb3NlZCgpe3JldHVybiB0aGlzLl9zdGF0ZT49Q0xPU0lOR31nZXQgZW5kZWQoKXtyZXR1cm4gdGhpcy5fc3RhdGU9PT1FTkRFRH1nZXQgZGVzdHJveWVkKCl7cmV0dXJuIHRoaXMuX3N0YXRlPT09REVTVFJPWUVEfWdldCBkb25lKCl7cmV0dXJuIHRoaXMuX3N0YXRlPj1FTkRFRH10b1N0cmluZygpe2NvbnN0IGU9dGhpcy5fdG9TdHJpbmdEZXRhaWxzKCk7cmV0dXJuYFske3RoaXMuY29uc3RydWN0b3IubmFtZX0ke2U/YCAke2V9YDoiIn1dYH1fdG9TdHJpbmdEZXRhaWxzKCl7cmV0dXJuIiJ9dG9BcnJheShlKXtjb25zdCBuPVtdLG89dHlwZW9mIGU/LmxpbWl0PT0ibnVtYmVyIj9lLmxpbWl0OjEvMDtyZXR1cm4gdGhpcy5lbmRlZHx8bzw9MD9Qcm9taXNlLnJlc29sdmUobik6bmV3IFByb21pc2UoKGQsaCk9Pntjb25zdCBsPSgpPT5kKG4pLHU9cD0+e24ucHVzaChwKSxuLmxlbmd0aD49byYmKHRoaXMucmVtb3ZlTGlzdGVuZXIoImVycm9yIixoKSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJkYXRhIix1KSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGwpLGQobikpfTt0aGlzLm9uKCJlcnJvciIsaCksdGhpcy5vbigiZGF0YSIsdSksdGhpcy5vbigiZW5kIixsKX0pfWdldFByb3BlcnR5KGUsbil7Y29uc3Qgbz10aGlzLl9wcm9wZXJ0aWVzO2lmKCFuKXJldHVybiBvJiZvW2VdO2lmKG8mJmUgaW4gbyl0YXNrU2NoZWR1bGVyKCgpPT5uKG9bZV0pKTtlbHNle2xldCBkOyhkPXRoaXMuX3Byb3BlcnR5Q2FsbGJhY2tzKXx8KHRoaXMuX3Byb3BlcnR5Q2FsbGJhY2tzPWQ9T2JqZWN0LmNyZWF0ZShudWxsKSksZSBpbiBkP2RbZV0ucHVzaChuKTpkW2VdPVtuXX19c2V0UHJvcGVydHkoZSxuKXtjb25zdCBvPXRoaXMuX3Byb3BlcnRpZXN8fCh0aGlzLl9wcm9wZXJ0aWVzPU9iamVjdC5jcmVhdGUobnVsbCkpO29bZV09bjtjb25zdCBkPXRoaXMuX3Byb3BlcnR5Q2FsbGJhY2tzfHx7fSxoPWRbZV07aWYoaCl7ZGVsZXRlIGRbZV0sdGFza1NjaGVkdWxlcigoKT0+e2Zvcihjb25zdCBsIG9mIGgpbChuKX0pO2ZvcihlIGluIGQpcmV0dXJuO2RlbGV0ZSB0aGlzLl9wcm9wZXJ0eUNhbGxiYWNrc319Z2V0UHJvcGVydGllcygpe2NvbnN0IGU9dGhpcy5fcHJvcGVydGllcyxuPXt9O2Zvcihjb25zdCBvIGluIGUpbltvXT1lW29dO3JldHVybiBufXNldFByb3BlcnRpZXMoZSl7Zm9yKGNvbnN0IG4gaW4gZSl0aGlzLnNldFByb3BlcnR5KG4sZVtuXSl9Y29weVByb3BlcnRpZXMoZSxuKXtmb3IoY29uc3QgbyBvZiBuKWUuZ2V0UHJvcGVydHkobyxkPT50aGlzLnNldFByb3BlcnR5KG8sZCkpfXRyYW5zZm9ybShlKXtyZXR1cm4gbmV3IFNpbXBsZVRyYW5zZm9ybUl0ZXJhdG9yKHRoaXMsZSl9bWFwKGUsbil7cmV0dXJuIG5ldyBNYXBwaW5nSXRlcmF0b3IodGhpcyxiaW5kKGUsbikpfWZpbHRlcihlLG4pe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gZS5jYWxsKG58fHRoaXMsbyk/bzpudWxsfSl9dW5pcShlPWlkZW50aXR5JDMpe2NvbnN0IG49bmV3IFNldDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24obyl7Y29uc3QgZD1lLmNhbGwodGhpcyxvKTtyZXR1cm4gbi5oYXMoZCk/ITE6KG4uYWRkKGQpLCEwKX0pfXByZXBlbmQoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtKHtwcmVwZW5kOmV9KX1hcHBlbmQoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtKHthcHBlbmQ6ZX0pfXN1cnJvdW5kKGUsbil7cmV0dXJuIHRoaXMudHJhbnNmb3JtKHtwcmVwZW5kOmUsYXBwZW5kOm59KX1za2lwKGUpe3JldHVybiB0aGlzLm1hcChuPT5lLS0gPjA/bnVsbDpuKX10YWtlKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybSh7bGltaXQ6ZX0pfXJhbmdlKGUsbil7cmV0dXJuIHRoaXMudHJhbnNmb3JtKHtvZmZzZXQ6ZSxsaW1pdDpNYXRoLm1heChuLWUrMSwwKX0pfWNsb25lKCl7cmV0dXJuIG5ldyBDbG9uZWRJdGVyYXRvcih0aGlzKX19ZnVuY3Rpb24gd2FpdEZvckRhdGFMaXN0ZW5lcih0KXt0PT09ImRhdGEiJiYodGhpcy5yZW1vdmVMaXN0ZW5lcigibmV3TGlzdGVuZXIiLHdhaXRGb3JEYXRhTGlzdGVuZXIpLGFkZFNpbmdsZUxpc3RlbmVyKHRoaXMsInJlYWRhYmxlIixlbWl0RGF0YSksdGhpcy5yZWFkYWJsZSYmdGFza1NjaGVkdWxlcigoKT0+ZW1pdERhdGEuY2FsbCh0aGlzKSkpfWZ1bmN0aW9uIGVtaXREYXRhKCl7bGV0IHQ7Zm9yKDt0aGlzLmxpc3RlbmVyQ291bnQoImRhdGEiKSE9PTAmJih0PXRoaXMucmVhZCgpKSE9PW51bGw7KXRoaXMuZW1pdCgiZGF0YSIsdCk7dGhpcy5saXN0ZW5lckNvdW50KCJkYXRhIik9PT0wJiYhdGhpcy5kb25lJiYodGhpcy5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLGVtaXREYXRhKSxhZGRTaW5nbGVMaXN0ZW5lcih0aGlzLCJuZXdMaXN0ZW5lciIsd2FpdEZvckRhdGFMaXN0ZW5lcikpfWZ1bmN0aW9uIGFkZFNpbmdsZUxpc3RlbmVyKHQsZSxuKXt0Lmxpc3RlbmVycyhlKS5pbmNsdWRlcyhuKXx8dC5vbihlLG4pfWNsYXNzIEVtcHR5SXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLl9jaGFuZ2VTdGF0ZShFTkRFRCwhMCl9fWNsYXNzIFNpbmdsZXRvbkl0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2l0ZW09ZSxlPT09bnVsbD90aGlzLmNsb3NlKCk6dGhpcy5yZWFkYWJsZT0hMH1yZWFkKCl7Y29uc3QgZT10aGlzLl9pdGVtO3JldHVybiB0aGlzLl9pdGVtPW51bGwsdGhpcy5jbG9zZSgpLGV9X3RvU3RyaW5nRGV0YWlscygpe3JldHVybiB0aGlzLl9pdGVtPT09bnVsbD8iIjpgKCR7dGhpcy5faXRlbX0pYH19Y2xhc3MgQXJyYXlJdGVyYXRvciBleHRlbmRzIEFzeW5jSXRlcmF0b3J7Y29uc3RydWN0b3IoZT1bXSx7YXV0b1N0YXJ0Om49ITAscHJlc2VydmU6bz0hMH09e30pe3N1cGVyKCk7Y29uc3QgZD1vfHwhQXJyYXkuaXNBcnJheShlKT9bLi4uZV06ZTt0aGlzLl9pbmRleD0wLHRoaXMuX3NvdXJjZVN0YXJ0ZWQ9biE9PSExLHRoaXMuX3RydW5jYXRlVGhyZXNob2xkPW8/LTE6NjQsdGhpcy5fc291cmNlU3RhcnRlZCYmZC5sZW5ndGg9PT0wP3RoaXMuY2xvc2UoKTp0aGlzLl9idWZmZXI9ZCx0aGlzLnJlYWRhYmxlPSEwfXJlYWQoKXt0aGlzLl9zb3VyY2VTdGFydGVkfHwodGhpcy5fc291cmNlU3RhcnRlZD0hMCk7bGV0IGU9bnVsbDtyZXR1cm4gdGhpcy5fYnVmZmVyJiYodGhpcy5faW5kZXg8dGhpcy5fYnVmZmVyLmxlbmd0aCYmKGU9dGhpcy5fYnVmZmVyW3RoaXMuX2luZGV4KytdKSx0aGlzLl9pbmRleD09PXRoaXMuX2J1ZmZlci5sZW5ndGg/KGRlbGV0ZSB0aGlzLl9idWZmZXIsdGhpcy5jbG9zZSgpKTp0aGlzLl9pbmRleD09PXRoaXMuX3RydW5jYXRlVGhyZXNob2xkJiYodGhpcy5fYnVmZmVyLnNwbGljZSgwLHRoaXMuX3RydW5jYXRlVGhyZXNob2xkKSx0aGlzLl9pbmRleD0wKSksZX1fdG9TdHJpbmdEZXRhaWxzKCl7cmV0dXJuYCgke3RoaXMuX2J1ZmZlcj90aGlzLl9idWZmZXIubGVuZ3RoLXRoaXMuX2luZGV4OjB9KWB9X2Rlc3Ryb3koZSxuKXtkZWxldGUgdGhpcy5fYnVmZmVyLG4oKX10b0FycmF5KGU9e30pe2lmKCF0aGlzLl9idWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7Y29uc3R7bGVuZ3RoOm59PXRoaXMuX2J1ZmZlcixvPXRoaXMuX2luZGV4LGQ9dHlwZW9mIGUubGltaXQhPSJudW1iZXIiP246bytlLmxpbWl0LGg9dGhpcy5fYnVmZmVyLnNsaWNlKG8sZCk7cmV0dXJuIHRoaXMuX2luZGV4PWQsZD49biYmdGhpcy5jbG9zZSgpLFByb21pc2UucmVzb2x2ZShoKX19Y2xhc3MgSW50ZWdlckl0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3Rvcih7c3RhcnQ6ZT0wLHN0ZXA6bj0xLGVuZDpvfT17fSl7c3VwZXIoKSxOdW1iZXIuaXNGaW5pdGUoZSkmJihlPU1hdGgudHJ1bmMoZSkpLHRoaXMuX25leHQ9ZSxOdW1iZXIuaXNGaW5pdGUobikmJihuPU1hdGgudHJ1bmMobikpLHRoaXMuX3N0ZXA9bjtjb25zdCBkPW4+PTAsaD1kPzEvMDotMS8wO051bWJlci5pc0Zpbml0ZShvKT9vPU1hdGgudHJ1bmMobyk6byE9PS1oJiYobz1oKSx0aGlzLl9sYXN0PW8sIU51bWJlci5pc0Zpbml0ZShlKXx8KGQ/ZT5vOmU8byk/dGhpcy5jbG9zZSgpOnRoaXMucmVhZGFibGU9ITB9cmVhZCgpe2lmKHRoaXMuY2xvc2VkKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5fbmV4dCxuPXRoaXMuX3N0ZXAsbz10aGlzLl9sYXN0LGQ9dGhpcy5fbmV4dCs9bjtyZXR1cm4obj49MD9kPm86ZDxvKSYmdGhpcy5jbG9zZSgpLGV9X3RvU3RyaW5nRGV0YWlscygpe3JldHVybmAoJHt0aGlzLl9uZXh0fS4uLiR7dGhpcy5fbGFzdH0pYH19ZnVuY3Rpb24gaWRlbnRpdHkkMyh0KXtyZXR1cm4gdH1jb25zdCBERVNUSU5BVElPTj1TeW1ib2woImRlc3RpbmF0aW9uIik7Y2xhc3MgTWFwcGluZ0l0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG49aWRlbnRpdHkkMyxvPXt9KXtzdXBlcigpLHRoaXMuX21hcD1uLHRoaXMuX3NvdXJjZT1lbnN1cmVTb3VyY2VBdmFpbGFibGUoZSksdGhpcy5fZGVzdHJveVNvdXJjZT1vLmRlc3Ryb3lTb3VyY2UhPT0hMSxlLmRvbmU/dGhpcy5jbG9zZSgpOih0aGlzLl9zb3VyY2VbREVTVElOQVRJT05dPXRoaXMsdGhpcy5fc291cmNlLm9uKCJlbmQiLGRlc3RpbmF0aW9uQ2xvc2UpLHRoaXMuX3NvdXJjZS5vbigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKSx0aGlzLl9zb3VyY2Uub24oInJlYWRhYmxlIixkZXN0aW5hdGlvblNldFJlYWRhYmxlKSx0aGlzLnJlYWRhYmxlPXRoaXMuX3NvdXJjZS5yZWFkYWJsZSl9cmVhZCgpe2lmKCF0aGlzLmRvbmUpe2lmKHRoaXMuX3NvdXJjZS5yZWFkYWJsZSl7bGV0IGUsbjtmb3IoOyhlPXRoaXMuX3NvdXJjZS5yZWFkKCkpIT09bnVsbDspaWYoKG49dGhpcy5fbWFwKGUpKSE9PW51bGwpcmV0dXJuIG59dGhpcy5yZWFkYWJsZT0hMSx0aGlzLl9zb3VyY2UuZG9uZSYmdGhpcy5jbG9zZSgpfXJldHVybiBudWxsfV9lbmQoZSl7dGhpcy5fc291cmNlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGRlc3RpbmF0aW9uQ2xvc2UpLHRoaXMuX3NvdXJjZS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKSx0aGlzLl9zb3VyY2UucmVtb3ZlTGlzdGVuZXIoInJlYWRhYmxlIixkZXN0aW5hdGlvblNldFJlYWRhYmxlKSxkZWxldGUgdGhpcy5fc291cmNlW0RFU1RJTkFUSU9OXSx0aGlzLl9kZXN0cm95U291cmNlJiZ0aGlzLl9zb3VyY2UuZGVzdHJveSgpLHN1cGVyLl9lbmQoZSl9fWZ1bmN0aW9uIGVuc3VyZVNvdXJjZUF2YWlsYWJsZSh0LGU9ITEpe2lmKCF0fHwhaXNGdW5jdGlvbiQxKHQucmVhZCl8fCFpc0Z1bmN0aW9uJDEodC5vbikpdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBzb3VyY2U6ICR7dH1gKTtpZighZSYmdFtERVNUSU5BVElPTl0pdGhyb3cgbmV3IEVycm9yKCJUaGUgc291cmNlIGFscmVhZHkgaGFzIGEgZGVzdGluYXRpb24iKTtyZXR1cm4gdH1jbGFzcyBCdWZmZXJlZEl0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3Rvcih7bWF4QnVmZmVyU2l6ZTplPTQsYXV0b1N0YXJ0Om49ITB9PXt9KXtzdXBlcihJTklUKSx0aGlzLl9idWZmZXI9bmV3IExpbmtlZExpc3QsdGhpcy5fbWF4QnVmZmVyU2l6ZT00LHRoaXMuX3JlYWRpbmc9ITAsdGhpcy5fcHVzaGVkQ291bnQ9MCx0aGlzLm1heEJ1ZmZlclNpemU9ZSx0YXNrU2NoZWR1bGVyKCgpPT50aGlzLl9pbml0KG4pKSx0aGlzLl9zb3VyY2VTdGFydGVkPW4hPT0hMX1nZXQgbWF4QnVmZmVyU2l6ZSgpe3JldHVybiB0aGlzLl9tYXhCdWZmZXJTaXplfXNldCBtYXhCdWZmZXJTaXplKGUpe2UhPT0xLzAmJihlPU51bWJlci5pc0Zpbml0ZShlKT9NYXRoLm1heChNYXRoLnRydW5jKGUpLDEpOjQpLHRoaXMuX21heEJ1ZmZlclNpemUhPT1lJiYodGhpcy5fbWF4QnVmZmVyU2l6ZT1lLHRoaXMuX3N0YXRlPT09T1BFTiYmdGhpcy5fZmlsbEJ1ZmZlcigpKX1faW5pdChlKXtsZXQgbj0hMTt0aGlzLl9yZWFkaW5nPSEwLHRoaXMuX2JlZ2luKCgpPT57aWYobil0aHJvdyBuZXcgRXJyb3IoImRvbmUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzIik7bj0hMCx0aGlzLl9yZWFkaW5nPSExLHRoaXMuX2NoYW5nZVN0YXRlKE9QRU4pLGU/dGhpcy5fZmlsbEJ1ZmZlckFzeW5jKCk6dGhpcy5yZWFkYWJsZT0hMH0pfV9iZWdpbihlKXtlKCl9cmVhZCgpe2lmKHRoaXMuZG9uZSlyZXR1cm4gbnVsbDt0aGlzLl9zb3VyY2VTdGFydGVkfHwodGhpcy5fc291cmNlU3RhcnRlZD0hMCk7Y29uc3QgZT10aGlzLl9idWZmZXI7bGV0IG47cmV0dXJuIGUuZW1wdHk/KG49bnVsbCx0aGlzLnJlYWRhYmxlPSExKTpuPWUuc2hpZnQoKSwhdGhpcy5fcmVhZGluZyYmZS5sZW5ndGg8dGhpcy5fbWF4QnVmZmVyU2l6ZSYmKHRoaXMuY2xvc2VkP2UuZW1wdHkmJnRoaXMuX2VuZEFzeW5jKCk6dGhpcy5fZmlsbEJ1ZmZlckFzeW5jKCkpLG59X3JlYWQoZSxuKXtuKCl9X3B1c2goZSl7dGhpcy5kb25lfHwodGhpcy5fcHVzaGVkQ291bnQrKyx0aGlzLl9idWZmZXIucHVzaChlKSx0aGlzLnJlYWRhYmxlPSEwKX1fZmlsbEJ1ZmZlcigpe2xldCBlO3RoaXMuX3JlYWRpbmd8fCh0aGlzLmNsb3NlZD90aGlzLl9jb21wbGV0ZUNsb3NlKCk6KGU9TWF0aC5taW4odGhpcy5fbWF4QnVmZmVyU2l6ZS10aGlzLl9idWZmZXIubGVuZ3RoLDEyOCkpPjAmJih0aGlzLl9wdXNoZWRDb3VudD0wLHRoaXMuX3JlYWRpbmc9ITAsdGhpcy5fcmVhZChlLCgpPT57aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJkb25lIGNhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyIpO2U9MCx0aGlzLl9yZWFkaW5nPSExLHRoaXMuY2xvc2VkP3RoaXMuX2NvbXBsZXRlQ2xvc2UoKTp0aGlzLl9wdXNoZWRDb3VudCYmKHRoaXMucmVhZGFibGU9ITAsdGhpcy5fYnVmZmVyLmxlbmd0aDx0aGlzLl9tYXhCdWZmZXJTaXplLzImJnRoaXMuX2ZpbGxCdWZmZXJBc3luYygpKX0pKSl9X2ZpbGxCdWZmZXJBc3luYygpe3RoaXMuX3JlYWRpbmd8fCh0aGlzLl9yZWFkaW5nPSEwLHRhc2tTY2hlZHVsZXIoKCk9Pnt0aGlzLl9yZWFkaW5nPSExLHRoaXMuX2ZpbGxCdWZmZXIoKX0pKX1jbG9zZSgpe3RoaXMuX3JlYWRpbmc/dGhpcy5fY2hhbmdlU3RhdGUoQ0xPU0lORyk6dGhpcy5fY29tcGxldGVDbG9zZSgpfV9jb21wbGV0ZUNsb3NlKCl7dGhpcy5fY2hhbmdlU3RhdGUoQ0xPU0VEKSYmKHRoaXMuX3JlYWRpbmc9ITAsdGhpcy5fZmx1c2goKCk9PntpZighdGhpcy5fcmVhZGluZyl0aHJvdyBuZXcgRXJyb3IoImRvbmUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzIik7dGhpcy5fcmVhZGluZz0hMSx0aGlzLl9idWZmZXIuZW1wdHkmJnRoaXMuX2VuZEFzeW5jKCl9KSl9X2Rlc3Ryb3koZSxuKXt0aGlzLl9idWZmZXIuY2xlYXIoKSxuKCl9X2ZsdXNoKGUpe2UoKX1fdG9TdHJpbmdEZXRhaWxzKCl7Y29uc3QgZT10aGlzLl9idWZmZXI7cmV0dXJuYHske2UuZW1wdHk/IiI6YG5leHQ6ICR7ZS5maXJzdH0sIGB9YnVmZmVyOiAke2UubGVuZ3RofX1gfX1jbGFzcyBUcmFuc2Zvcm1JdGVyYXRvciBleHRlbmRzIEJ1ZmZlcmVkSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuPWV8fHt9KXtzdXBlcihuKSx0aGlzLl9ib3VuZFB1c2g9bz0+dGhpcy5fcHVzaChvKSxpc1NvdXJjZUV4cHJlc3Npb24oZSl8fChlPW4uc291cmNlKSxpc0V2ZW50RW1pdHRlcihlKT90aGlzLnNvdXJjZT1lOmUmJih0aGlzLl9jcmVhdGVTb3VyY2U9aXNQcm9taXNlKGUpPygpPT5lOmUsdGhpcy5fc291cmNlU3RhcnRlZCYmdGhpcy5fbG9hZFNvdXJjZUFzeW5jKCkpLHRoaXMuX29wdGlvbmFsPSEhbi5vcHRpb25hbCx0aGlzLl9kZXN0cm95U291cmNlPW4uZGVzdHJveVNvdXJjZSE9PSExfWdldCBzb3VyY2UoKXtyZXR1cm4gaXNGdW5jdGlvbiQxKHRoaXMuX2NyZWF0ZVNvdXJjZSkmJnRoaXMuX2xvYWRTb3VyY2VBc3luYygpLHRoaXMuX3NvdXJjZX1zZXQgc291cmNlKGUpe2NvbnN0IG49dGhpcy5fc291cmNlPXRoaXMuX3ZhbGlkYXRlU291cmNlKGUpO25bREVTVElOQVRJT05dPXRoaXMsdGhpcy5kb25lP3RoaXMuX2Rlc3Ryb3lTb3VyY2UmJm4uZGVzdHJveSgpOm4uZG9uZT90aGlzLmNsb3NlKCk6KG4ub24oImVuZCIsZGVzdGluYXRpb25DbG9zZVdoZW5Eb25lKSxuLm9uKCJyZWFkYWJsZSIsZGVzdGluYXRpb25GaWxsQnVmZmVyKSxuLm9uKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpKX1fbG9hZFNvdXJjZUFzeW5jKCl7aXNGdW5jdGlvbiQxKHRoaXMuX2NyZWF0ZVNvdXJjZSkmJihQcm9taXNlLnJlc29sdmUodGhpcy5fY3JlYXRlU291cmNlKCkpLnRoZW4oZT0+e2RlbGV0ZSB0aGlzLl9jcmVhdGVTb3VyY2UsdGhpcy5zb3VyY2U9ZSx0aGlzLl9maWxsQnVmZmVyKCl9LGU9PnRoaXMuZW1pdCgiZXJyb3IiLGUpKSx0aGlzLl9jcmVhdGVTb3VyY2U9bnVsbCl9X3ZhbGlkYXRlU291cmNlKGUsbj0hMSl7aWYodGhpcy5fc291cmNlfHx0eXBlb2YgdGhpcy5fY3JlYXRlU291cmNlPCJ1Iil0aHJvdyBuZXcgRXJyb3IoIlRoZSBzb3VyY2UgY2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgaXQgaGFzIGJlZW4gc2V0Iik7cmV0dXJuIGVuc3VyZVNvdXJjZUF2YWlsYWJsZShlLG4pfV9yZWFkKGUsbil7Y29uc3Qgbz0oKT0+e3RoaXMuX3B1c2hlZENvdW50PGUmJiF0aGlzLmNsb3NlZD90YXNrU2NoZWR1bGVyKCgpPT50aGlzLl9yZWFkQW5kVHJhbnNmb3JtKG8sbikpOm4oKX07dGhpcy5fcmVhZEFuZFRyYW5zZm9ybShvLG4pfV9yZWFkQW5kVHJhbnNmb3JtKGUsbil7bGV0IG87Y29uc3QgZD10aGlzLnNvdXJjZTshZHx8ZC5kb25lfHwobz1kLnJlYWQoKSk9PT1udWxsP24oKTp0aGlzLl9vcHRpb25hbD90aGlzLl9vcHRpb25hbFRyYW5zZm9ybShvLGUpOnRoaXMuX3RyYW5zZm9ybShvLGUsdGhpcy5fYm91bmRQdXNoKX1fb3B0aW9uYWxUcmFuc2Zvcm0oZSxuKXtjb25zdCBvPXRoaXMuX3B1c2hlZENvdW50O3RoaXMuX3RyYW5zZm9ybShlLCgpPT57bz09PXRoaXMuX3B1c2hlZENvdW50JiZ0aGlzLl9wdXNoKGUpLG4oKX0sdGhpcy5fYm91bmRQdXNoKX1fdHJhbnNmb3JtKGUsbixvKXtvKGUpLG4oKX1fY2xvc2VXaGVuRG9uZSgpe3RoaXMuY2xvc2UoKX1fZW5kKGUpe2NvbnN0IG49dGhpcy5fc291cmNlO24mJihuLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGRlc3RpbmF0aW9uQ2xvc2VXaGVuRG9uZSksbi5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKSxuLnJlbW92ZUxpc3RlbmVyKCJyZWFkYWJsZSIsZGVzdGluYXRpb25GaWxsQnVmZmVyKSxkZWxldGUgbltERVNUSU5BVElPTl0sdGhpcy5fZGVzdHJveVNvdXJjZSYmbi5kZXN0cm95KCkpLHN1cGVyLl9lbmQoZSl9fWZ1bmN0aW9uIGRlc3RpbmF0aW9uU2V0UmVhZGFibGUoKXt0aGlzW0RFU1RJTkFUSU9OXS5yZWFkYWJsZT0hMH1mdW5jdGlvbiBkZXN0aW5hdGlvbkVtaXRFcnJvcih0KXt0aGlzW0RFU1RJTkFUSU9OXS5lbWl0KCJlcnJvciIsdCl9ZnVuY3Rpb24gZGVzdGluYXRpb25DbG9zZSgpe3RoaXNbREVTVElOQVRJT05dLmNsb3NlKCl9ZnVuY3Rpb24gZGVzdGluYXRpb25DbG9zZVdoZW5Eb25lKCl7dGhpc1tERVNUSU5BVElPTl0uX2Nsb3NlV2hlbkRvbmUoKX1mdW5jdGlvbiBkZXN0aW5hdGlvbkZpbGxCdWZmZXIoKXt0aGlzW0RFU1RJTkFUSU9OXS5fc291cmNlU3RhcnRlZCE9PSExJiZ0aGlzW0RFU1RJTkFUSU9OXS5fZmlsbEJ1ZmZlcigpfWNsYXNzIFNpbXBsZVRyYW5zZm9ybUl0ZXJhdG9yIGV4dGVuZHMgVHJhbnNmb3JtSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtpZihzdXBlcihlLG4pLHRoaXMuX29mZnNldD0wLHRoaXMuX2xpbWl0PTEvMCx0aGlzLl9maWx0ZXI9bz0+ITAsbj1ufHwoaXNTb3VyY2VFeHByZXNzaW9uKGUpP251bGw6ZSksbil7Y29uc3Qgbz1pc0Z1bmN0aW9uJDEobik/bjpuLnRyYW5zZm9ybSx7bGltaXQ6ZCxvZmZzZXQ6aCxmaWx0ZXI6bCxtYXA6dSxwcmVwZW5kOnAsYXBwZW5kOmd9PW47aD09PTEvMHx8ZD09PS0xLzA/dGhpcy5fbGltaXQ9MDooTnVtYmVyLmlzRmluaXRlKGgpJiYodGhpcy5fb2Zmc2V0PU1hdGgubWF4KE1hdGgudHJ1bmMoaCksMCkpLE51bWJlci5pc0Zpbml0ZShkKSYmKHRoaXMuX2xpbWl0PU1hdGgubWF4KE1hdGgudHJ1bmMoZCksMCkpLGlzRnVuY3Rpb24kMShsKSYmKHRoaXMuX2ZpbHRlcj1sKSxpc0Z1bmN0aW9uJDEodSkmJih0aGlzLl9tYXA9dSksdGhpcy5fdHJhbnNmb3JtPWlzRnVuY3Rpb24kMShvKT9vOm51bGwpLHAmJih0aGlzLl9wcmVwZW5kZXI9aXNFdmVudEVtaXR0ZXIocCk/cDpmcm9tQXJyYXkocCkpLGcmJih0aGlzLl9hcHBlbmRlcj1pc0V2ZW50RW1pdHRlcihnKT9nOmZyb21BcnJheShnKSl9fV9yZWFkKGUsbil7Y29uc3Qgbz0oKT0+dGhpcy5fcmVhZEFuZFRyYW5zZm9ybVNpbXBsZShlLGQsbik7dGhpcy5fcmVhZEFuZFRyYW5zZm9ybVNpbXBsZShlLGQsbik7ZnVuY3Rpb24gZCgpe3Rhc2tTY2hlZHVsZXIobyl9fV9yZWFkQW5kVHJhbnNmb3JtU2ltcGxlKGUsbixvKXtsZXQgZDtjb25zdHtzb3VyY2U6aH09dGhpcztpZighaHx8aC5kb25lKXtvKCk7cmV0dXJufWZvcih0aGlzLl9saW1pdD09PTAmJnRoaXMuY2xvc2UoKTshdGhpcy5jbG9zZWQmJnRoaXMuX3B1c2hlZENvdW50PGUmJihkPWgucmVhZCgpKSE9PW51bGw7KXtpZighdGhpcy5fZmlsdGVyKGQpfHx0aGlzLl9vZmZzZXQhPT0wJiZ0aGlzLl9vZmZzZXQtLSljb250aW51ZTtjb25zdCBsPXR5cGVvZiB0aGlzLl9tYXA+InUiP2Q6dGhpcy5fbWFwKGQpO2lmKGw9PT1udWxsKXRoaXMuX29wdGlvbmFsJiZ0aGlzLl9wdXNoKGQpO2Vsc2UgaWYoIWlzRnVuY3Rpb24kMSh0aGlzLl90cmFuc2Zvcm0pKXRoaXMuX3B1c2gobCk7ZWxzZXt0aGlzLl9vcHRpb25hbD90aGlzLl9vcHRpb25hbFRyYW5zZm9ybShsLG4pOnRoaXMuX3RyYW5zZm9ybShsLG4sdGhpcy5fYm91bmRQdXNoKTtyZXR1cm59LS10aGlzLl9saW1pdD09PTAmJnRoaXMuY2xvc2UoKX1vKCl9X2JlZ2luKGUpe3RoaXMuX2luc2VydCh0aGlzLl9wcmVwZW5kZXIsZSksZGVsZXRlIHRoaXMuX3ByZXBlbmRlcn1fZmx1c2goZSl7dGhpcy5faW5zZXJ0KHRoaXMuX2FwcGVuZGVyLGUpLGRlbGV0ZSB0aGlzLl9hcHBlbmRlcn1faW5zZXJ0KGUsbil7Y29uc3Qgbz1oPT50aGlzLl9wdXNoKGgpOyFlfHxlLmRvbmU/bigpOihlLm9uKCJkYXRhIixvKSxlLm9uKCJlbmQiLGQpKTtmdW5jdGlvbiBkKCl7ZS5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsbyksZS5yZW1vdmVMaXN0ZW5lcigiZW5kIixkKSxuKCl9fX1jbGFzcyBNdWx0aVRyYW5zZm9ybUl0ZXJhdG9yIGV4dGVuZHMgVHJhbnNmb3JtSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtpZihzdXBlcihlLG4pLHRoaXMuX3RyYW5zZm9ybWVyUXVldWU9W10sbil7Y29uc3Qgbz1pc0Z1bmN0aW9uJDEobik/bjpuLm11bHRpVHJhbnNmb3JtO28mJih0aGlzLl9jcmVhdGVUcmFuc2Zvcm1lcj1vKX19X3JlYWQoZSxuKXtjb25zdCBvPXRoaXMuX3RyYW5zZm9ybWVyUXVldWUsZD10aGlzLl9vcHRpb25hbDtsZXQgaCxsO2Zvcig7KGg9b1swXSkmJmgudHJhbnNmb3JtZXIuZG9uZTspe2QmJmguaXRlbSE9PW51bGwmJihlLS0sdGhpcy5fcHVzaChoLml0ZW0pKSxvLnNoaWZ0KCk7Y29uc3R7dHJhbnNmb3JtZXI6cH09aDtwLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGRlc3RpbmF0aW9uRmlsbEJ1ZmZlcikscC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLGRlc3RpbmF0aW9uRmlsbEJ1ZmZlcikscC5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKX1jb25zdHtzb3VyY2U6dX09dGhpcztmb3IoO3UmJiF1LmRvbmUmJm8ubGVuZ3RoPHRoaXMubWF4QnVmZmVyU2l6ZSYmKGw9dS5yZWFkKCksbCE9PW51bGwpOyl7Y29uc3QgcD10aGlzLl9jcmVhdGVUcmFuc2Zvcm1lcihsKXx8bmV3IEVtcHR5SXRlcmF0b3I7cFtERVNUSU5BVElPTl09dGhpcyxwLm9uKCJlbmQiLGRlc3RpbmF0aW9uRmlsbEJ1ZmZlcikscC5vbigicmVhZGFibGUiLGRlc3RpbmF0aW9uRmlsbEJ1ZmZlcikscC5vbigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKSxvLnB1c2goe3RyYW5zZm9ybWVyOnAsaXRlbTpsfSl9aWYoaD1vWzBdLGgpe2NvbnN0e3RyYW5zZm9ybWVyOnB9PWg7Zm9yKDtlLS0gPjAmJihsPXAucmVhZCgpKSE9PW51bGw7KXRoaXMuX3B1c2gobCksZCYmKGguaXRlbT1udWxsKX1lbHNlIHUmJnUuZG9uZSYmdGhpcy5jbG9zZSgpO24oKX1fY3JlYXRlVHJhbnNmb3JtZXIoZSl7cmV0dXJuIG5ldyBTaW5nbGV0b25JdGVyYXRvcihlKX1fY2xvc2VXaGVuRG9uZSgpe3RoaXMuX3RyYW5zZm9ybWVyUXVldWUubGVuZ3RofHx0aGlzLmNsb3NlKCl9X2VuZChlKXtpZihzdXBlci5fZW5kKGUpLHRoaXMuX2Rlc3Ryb3lTb3VyY2UpZm9yKGNvbnN0IG4gb2YgdGhpcy5fdHJhbnNmb3JtZXJRdWV1ZSluLnRyYW5zZm9ybWVyLmRlc3Ryb3koKX19Y2xhc3MgVW5pb25JdGVyYXRvciBleHRlbmRzIEJ1ZmZlcmVkSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuPXt9KXtzdXBlcihuKSx0aGlzLl9zb3VyY2VzPVtdLHRoaXMuX2N1cnJlbnRTb3VyY2U9LTE7Y29uc3Qgbz1uLmF1dG9TdGFydCE9PSExO2lmKGlzRXZlbnRFbWl0dGVyKGUpKWUub24oImVycm9yIixkPT50aGlzLmVtaXQoImVycm9yIixkKSksdGhpcy5fcGVuZGluZz17bG9hZGluZzohMSxzb3VyY2VzOmV9LG8mJnRoaXMuX2xvYWRTb3VyY2VzKCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKWZvcihjb25zdCBkIG9mIGUpdGhpcy5fYWRkU291cmNlKGQpO2Vsc2UgbyYmdGhpcy5jbG9zZSgpO3RoaXMuX2Rlc3Ryb3lTb3VyY2VzPW4uZGVzdHJveVNvdXJjZXMhPT0hMX1fbG9hZFNvdXJjZXMoKXtjb25zdCBlPXRoaXMuX3BlbmRpbmcuc291cmNlczt0aGlzLl9wZW5kaW5nLmxvYWRpbmc9ITAsZS5kb25lPyhkZWxldGUgdGhpcy5fcGVuZGluZyx0aGlzLmNsb3NlKCkpOihlLm9uKCJkYXRhIixuPT57dGhpcy5fYWRkU291cmNlKG4pLHRoaXMuX2ZpbGxCdWZmZXJBc3luYygpfSksZS5vbigiZW5kIiwoKT0+e2RlbGV0ZSB0aGlzLl9wZW5kaW5nLHRoaXMuX2ZpbGxCdWZmZXIoKX0pKX1fYWRkU291cmNlKGUpe2lzUHJvbWlzZShlKSYmKGU9d3JhcCQxKGUpKSxlLmRvbmV8fCh0aGlzLl9zb3VyY2VzLnB1c2goZSksZVtERVNUSU5BVElPTl09dGhpcyxlLm9uKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpLGUub24oInJlYWRhYmxlIixkZXN0aW5hdGlvbkZpbGxCdWZmZXIpLGUub24oImVuZCIsZGVzdGluYXRpb25SZW1vdmVFbXB0eVNvdXJjZXMpKX1fcmVtb3ZlRW1wdHlTb3VyY2VzKCl7dGhpcy5fc291cmNlcz10aGlzLl9zb3VyY2VzLmZpbHRlcigoZSxuKT0+KGUuZG9uZSYmbjw9dGhpcy5fY3VycmVudFNvdXJjZSYmdGhpcy5fY3VycmVudFNvdXJjZS0tLCFlLmRvbmUpKSx0aGlzLl9maWxsQnVmZmVyKCl9X3JlYWQoZSxuKXt2YXIgbzsoKG89dGhpcy5fcGVuZGluZyk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmxvYWRpbmcpPT09ITEmJnRoaXMuX2xvYWRTb3VyY2VzKCk7bGV0IGQ9MCxoO2Zvcig7ZCE9PShkPWUpOylmb3IobGV0IGw9MDtsPHRoaXMuX3NvdXJjZXMubGVuZ3RoJiZlPjA7bCsrKXRoaXMuX2N1cnJlbnRTb3VyY2U9KHRoaXMuX2N1cnJlbnRTb3VyY2UrMSkldGhpcy5fc291cmNlcy5sZW5ndGgsKGg9dGhpcy5fc291cmNlc1t0aGlzLl9jdXJyZW50U291cmNlXS5yZWFkKCkpIT09bnVsbCYmKGUtLSx0aGlzLl9wdXNoKGgpKTshdGhpcy5fcGVuZGluZyYmdGhpcy5fc291cmNlcy5sZW5ndGg9PT0wJiZ0aGlzLmNsb3NlKCksbigpfV9lbmQoZT0hMSl7aWYoc3VwZXIuX2VuZChlKSx0aGlzLl9kZXN0cm95U291cmNlcyl7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fc291cmNlcyluLmRlc3Ryb3koKTt0aGlzLl9wZW5kaW5nJiYodGhpcy5fcGVuZGluZy5zb3VyY2VzLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5fcGVuZGluZyl9fX1mdW5jdGlvbiBkZXN0aW5hdGlvblJlbW92ZUVtcHR5U291cmNlcygpe3RoaXNbREVTVElOQVRJT05dLl9yZW1vdmVFbXB0eVNvdXJjZXMoKX1jbGFzcyBDbG9uZWRJdGVyYXRvciBleHRlbmRzIFRyYW5zZm9ybUl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUse2F1dG9TdGFydDohMX0pLHRoaXMuX3JlYWRQb3NpdGlvbj0wLHRoaXMuX3JlYWRpbmc9ITF9X2luaXQoKXt9Y2xvc2UoKXtBc3luY0l0ZXJhdG9yLnByb3RvdHlwZS5jbG9zZS5jYWxsKHRoaXMpfWdldCBzb3VyY2UoKXtyZXR1cm4gc3VwZXIuc291cmNlfXNldCBzb3VyY2UoZSl7Y29uc3Qgbj10aGlzLl9zb3VyY2U9dGhpcy5fdmFsaWRhdGVTb3VyY2UoZSksbz1uJiZuW0RFU1RJTkFUSU9OXXx8KG5bREVTVElOQVRJT05dPW5ldyBIaXN0b3J5UmVhZGVyKG4pKTt0aGlzLmRvbmU/dGhpcy5fZGVzdHJveVNvdXJjZSYmbi5kZXN0cm95KCk6by5lbmRzQXQoMCk/dGhpcy5jbG9zZSgpOihvLnJlZ2lzdGVyKHRoaXMpLChuLl9zb3VyY2VTdGFydGVkPT09ITF8fG8ucmVhZEF0KDApIT09bnVsbCkmJih0aGlzLnJlYWRhYmxlPSEwKSk7Y29uc3QgZD10aGlzLl9wcm9wZXJ0eUNhbGxiYWNrcztmb3IoY29uc3QgaCBpbiBkKXtjb25zdCBsPWRbaF07Zm9yKGNvbnN0IHUgb2YgbCl0aGlzLl9nZXRTb3VyY2VQcm9wZXJ0eShoLHUpfX1fdmFsaWRhdGVTb3VyY2UoZSxuPSExKXtjb25zdCBvPWUmJmVbREVTVElOQVRJT05dO3JldHVybiBzdXBlci5fdmFsaWRhdGVTb3VyY2UoZSwhb3x8byBpbnN0YW5jZW9mIEhpc3RvcnlSZWFkZXIpfWdldFByb3BlcnR5KGUsbil7Y29uc3R7c291cmNlOm99PXRoaXMsZD10aGlzLl9wcm9wZXJ0aWVzLGg9ZCYmZSBpbiBkO2lmKCFuKXJldHVybiBoP2QmJmRbZV06byYmby5nZXRQcm9wZXJ0eShlKTtzdXBlci5nZXRQcm9wZXJ0eShlLG4pLG8mJiFoJiZ0aGlzLl9nZXRTb3VyY2VQcm9wZXJ0eShlLG4pfV9nZXRTb3VyY2VQcm9wZXJ0eShlLG4pe3RoaXMuc291cmNlLmdldFByb3BlcnR5KGUsbz0+eyghdGhpcy5fcHJvcGVydGllc3x8IShlIGluIHRoaXMuX3Byb3BlcnRpZXMpKSYmbihvKX0pfWdldFByb3BlcnRpZXMoKXtjb25zdCBlPXRoaXMuc291cmNlP3RoaXMuc291cmNlLmdldFByb3BlcnRpZXMoKTp7fSxuPXRoaXMuX3Byb3BlcnRpZXM7Zm9yKGNvbnN0IG8gaW4gbillW29dPW5bb107cmV0dXJuIGV9X3RvU3RyaW5nRGV0YWlscygpe3JldHVybmB7c291cmNlOiAke3RoaXMuc291cmNlP3RoaXMuc291cmNlLnRvU3RyaW5nKCk6Im5vbmUifX1gfXJlYWQoKXt0aGlzLl9zb3VyY2VTdGFydGVkfHwodGhpcy5fc291cmNlU3RhcnRlZD0hMCk7Y29uc3QgZT10aGlzLnNvdXJjZTtsZXQgbj1udWxsO2lmKCF0aGlzLmRvbmUmJmUpe2NvbnN0IG89ZVtERVNUSU5BVElPTl07KG49by5yZWFkQXQodGhpcy5fcmVhZFBvc2l0aW9uKSkhPT1udWxsP3RoaXMuX3JlYWRQb3NpdGlvbisrOnRoaXMucmVhZGFibGU9ITEsby5lbmRzQXQodGhpcy5fcmVhZFBvc2l0aW9uKSYmdGhpcy5jbG9zZSgpfXJldHVybiBufV9lbmQoZSl7Y29uc3Qgbj10aGlzLnNvdXJjZSxvPW4/LltERVNUSU5BVElPTl07byYmby51bnJlZ2lzdGVyKHRoaXMpLEJ1ZmZlcmVkSXRlcmF0b3IucHJvdG90eXBlLl9lbmQuY2FsbCh0aGlzLGUpfX1jbGFzcyBIaXN0b3J5UmVhZGVye2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX2hpc3Rvcnk9W10sdGhpcy5fdHJhY2tlcnM9bmV3IFNldCx0aGlzLl9zb3VyY2U9ZSwhZS5kb25lKXtjb25zdCBuPSgpPT57Zm9yKGNvbnN0IGggb2YgdGhpcy5fdHJhY2tlcnMpaC5yZWFkYWJsZT0hMH0sbz1oPT57Zm9yKGNvbnN0IGwgb2YgdGhpcy5fdHJhY2tlcnMpbC5lbWl0KCJlcnJvciIsaCl9LGQ9KCk9Pntmb3IoY29uc3QgaCBvZiB0aGlzLl90cmFja2VycyloLl9zb3VyY2VTdGFydGVkIT09ITEmJmguX3JlYWRQb3NpdGlvbj09PXRoaXMuX2hpc3RvcnkubGVuZ3RoJiZoLmNsb3NlKCk7dGhpcy5fdHJhY2tlcnMuY2xlYXIoKSxlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGQpLGUucmVtb3ZlTGlzdGVuZXIoImVycm9yIixvKSxlLnJlbW92ZUxpc3RlbmVyKCJyZWFkYWJsZSIsbil9O2Uub24oImVuZCIsZCksZS5vbigiZXJyb3IiLG8pLGUub24oInJlYWRhYmxlIixuKX19cmVnaXN0ZXIoZSl7dGhpcy5fc291cmNlLmRvbmV8fHRoaXMuX3RyYWNrZXJzLmFkZChlKX11bnJlZ2lzdGVyKGUpe3RoaXMuX3RyYWNrZXJzLmRlbGV0ZShlKX1yZWFkQXQoZSl7bGV0IG49bnVsbDtyZXR1cm4gZTx0aGlzLl9oaXN0b3J5Lmxlbmd0aD9uPXRoaXMuX2hpc3RvcnlbZV06IXRoaXMuX3NvdXJjZS5kb25lJiYobj10aGlzLl9zb3VyY2UucmVhZCgpKSE9PW51bGwmJih0aGlzLl9oaXN0b3J5W2VdPW4pLG59ZW5kc0F0KGUpe3JldHVybiB0aGlzLl9zb3VyY2UuZG9uZSYmdGhpcy5faGlzdG9yeS5sZW5ndGg9PT1lfX1jbGFzcyBXcmFwcGluZ0l0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKCksdGhpcy5fc291cmNlPW51bGwsdGhpcy5fZGVzdHJveVNvdXJjZT1uPy5kZXN0cm95U291cmNlIT09ITEsaXNQcm9taXNlKGUpPyh0aGlzLl9zb3VyY2U9bmV3IEFzeW5jSXRlcmF0b3IsZS50aGVuKG89Pnt0aGlzLl9zb3VyY2U9bnVsbCx0aGlzLnNvdXJjZT1vfSkuY2F0Y2gobz0+dGhpcy5lbWl0KCJlcnJvciIsbykpKTplJiYodGhpcy5zb3VyY2U9ZSl9c2V0IHNvdXJjZShlKXtsZXQgbj1lO2lmKHRoaXMuX3NvdXJjZSE9PW51bGwpdGhyb3cgbmV3IEVycm9yKCJUaGUgc291cmNlIGNhbm5vdCBiZSBjaGFuZ2VkIGFmdGVyIGl0IGhhcyBiZWVuIHNldCIpO2lmKGlzSXRlcmFibGUobikmJihuPW5bU3ltYm9sLml0ZXJhdG9yXSgpKSxpc0l0ZXJhdG9yKG4pKXtsZXQgbz1uO249bmV3IGV2ZW50c0V4cG9ydHMuRXZlbnRFbWl0dGVyLG4ucmVhZD0oKT0+e2lmKG8hPT1udWxsKXtsZXQgZDtmb3IoOyEoZD1vLm5leHQoKSkuZG9uZTspaWYoZC52YWx1ZSE9PW51bGwpcmV0dXJuIGQudmFsdWU7bz1udWxsLHRoaXMuY2xvc2UoKX1yZXR1cm4gbnVsbH19ZWxzZSBuPWVuc3VyZVNvdXJjZUF2YWlsYWJsZShuKTtpZih0aGlzLmRvbmUpe3RoaXMuX2Rlc3Ryb3lTb3VyY2UmJmlzRnVuY3Rpb24kMShuLmRlc3Ryb3kpJiZuLmRlc3Ryb3koKTtyZXR1cm59bltERVNUSU5BVElPTl09dGhpcyxuLm9uKCJlbmQiLGRlc3RpbmF0aW9uQ2xvc2UpLG4ub24oImVycm9yIixkZXN0aW5hdGlvbkVtaXRFcnJvciksbi5vbigicmVhZGFibGUiLGRlc3RpbmF0aW9uU2V0UmVhZGFibGUpLHRoaXMuX3NvdXJjZT1uLHRoaXMucmVhZGFibGU9bi5yZWFkYWJsZSE9PSExfXJlYWQoKXtpZih0aGlzLl9zb3VyY2UhPT1udWxsJiZ0aGlzLl9zb3VyY2UucmVhZGFibGUhPT0hMSl7Y29uc3QgZT10aGlzLl9zb3VyY2UucmVhZCgpO2lmKGUhPT1udWxsKXJldHVybiBlO3RoaXMucmVhZGFibGU9ITF9cmV0dXJuIG51bGx9X2VuZChlPSExKXt0aGlzLl9zb3VyY2UhPT1udWxsJiYodGhpcy5fc291cmNlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGRlc3RpbmF0aW9uQ2xvc2UpLHRoaXMuX3NvdXJjZS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKSx0aGlzLl9zb3VyY2UucmVtb3ZlTGlzdGVuZXIoInJlYWRhYmxlIixkZXN0aW5hdGlvblNldFJlYWRhYmxlKSxkZWxldGUgdGhpcy5fc291cmNlW0RFU1RJTkFUSU9OXSx0aGlzLl9kZXN0cm95U291cmNlJiZpc0Z1bmN0aW9uJDEodGhpcy5fc291cmNlLmRlc3Ryb3kpJiZ0aGlzLl9zb3VyY2UuZGVzdHJveSgpLHRoaXMuX3NvdXJjZT1udWxsKSxzdXBlci5fZW5kKGUpfX1mdW5jdGlvbiB3cmFwJDEodCxlKXtpZihlJiYoImF1dG9TdGFydCJpbiBlfHwib3B0aW9uYWwiaW4gZXx8InNvdXJjZSJpbiBlfHwibWF4QnVmZmVyU2l6ZSJpbiBlKSlyZXR1cm4gdCYmIWlzRXZlbnRFbWl0dGVyKHQpJiYodD1uZXcgV3JhcHBpbmdJdGVyYXRvcih0KSksbmV3IFRyYW5zZm9ybUl0ZXJhdG9yKHQsZSk7aWYoIXQpcmV0dXJuIGVtcHR5KCk7aWYoaXNQcm9taXNlKHQpKXJldHVybiBuZXcgV3JhcHBpbmdJdGVyYXRvcih0LGUpO2lmKHQgaW5zdGFuY2VvZiBBc3luY0l0ZXJhdG9yKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGZyb21BcnJheSh0KTtpZihpc0l0ZXJhYmxlKHQpfHxpc0l0ZXJhdG9yKHQpfHxpc0V2ZW50RW1pdHRlcih0KSlyZXR1cm4gbmV3IFdyYXBwaW5nSXRlcmF0b3IodCxlKTt0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHNvdXJjZTogJHt0fWApfWZ1bmN0aW9uIGVtcHR5KCl7cmV0dXJuIG5ldyBFbXB0eUl0ZXJhdG9yfWZ1bmN0aW9uIHNpbmdsZSh0KXtyZXR1cm4gbmV3IFNpbmdsZXRvbkl0ZXJhdG9yKHQpfWZ1bmN0aW9uIGZyb21BcnJheSh0KXtyZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IodCl9ZnVuY3Rpb24gZnJvbUl0ZXJhdG9yKHQpe3JldHVybiBuZXcgV3JhcHBpbmdJdGVyYXRvcih0KX1mdW5jdGlvbiBmcm9tSXRlcmFibGUodCl7cmV0dXJuIG5ldyBXcmFwcGluZ0l0ZXJhdG9yKHQpfWZ1bmN0aW9uIHVuaW9uKHQpe3JldHVybiBuZXcgVW5pb25JdGVyYXRvcih0KX1mdW5jdGlvbiByYW5nZSh0LGUsbil7cmV0dXJuIG5ldyBJbnRlZ2VySXRlcmF0b3Ioe3N0YXJ0OnQsZW5kOmUsc3RlcDpufSl9ZnVuY3Rpb24gYmluZCh0LGUpe3JldHVybiBlP3QuYmluZChlKTp0fWZ1bmN0aW9uIGlzRnVuY3Rpb24kMSh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gaXNFdmVudEVtaXR0ZXIodCl7cmV0dXJuIGlzRnVuY3Rpb24kMSh0Py5vbil9ZnVuY3Rpb24gaXNQcm9taXNlKHQpe3JldHVybiBpc0Z1bmN0aW9uJDEodD8udGhlbil9ZnVuY3Rpb24gaXNTb3VyY2VFeHByZXNzaW9uKHQpe3JldHVybiB0JiYoaXNFdmVudEVtaXR0ZXIodCl8fGlzUHJvbWlzZSh0KXx8aXNGdW5jdGlvbiQxKHQpKX1mdW5jdGlvbiBpc0l0ZXJhYmxlKHQpe3JldHVybiB0JiZTeW1ib2wuaXRlcmF0b3IgaW4gdH1mdW5jdGlvbiBpc0l0ZXJhdG9yKHQpe3JldHVybiBpc0Z1bmN0aW9uJDEodD8ubmV4dCl9dmFyIF9fUVVBRFNUT1JFX0NPTVVOSUNBX0VYVEVSTkFMX01PRFVMRV9hc3luY2l0ZXJhdG9yX189T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQXJyYXlJdGVyYXRvcixBc3luY0l0ZXJhdG9yLEJ1ZmZlcmVkSXRlcmF0b3IsQ0xPU0VELENMT1NJTkcsQ2xvbmVkSXRlcmF0b3IsREVTVElOQVRJT04sREVTVFJPWUVELEVOREVELEVtcHR5SXRlcmF0b3IsSU5JVCxJbnRlZ2VySXRlcmF0b3IsTGlua2VkTGlzdCxNYXBwaW5nSXRlcmF0b3IsTXVsdGlUcmFuc2Zvcm1JdGVyYXRvcixPUEVOLFNpbXBsZVRyYW5zZm9ybUl0ZXJhdG9yLFNpbmdsZXRvbkl0ZXJhdG9yLFRyYW5zZm9ybUl0ZXJhdG9yLFVuaW9uSXRlcmF0b3IsV3JhcHBpbmdJdGVyYXRvcixlbXB0eSxmcm9tQXJyYXksZnJvbUl0ZXJhYmxlLGZyb21JdGVyYXRvcixnZXRUYXNrU2NoZWR1bGVyLGlkZW50aXR5OmlkZW50aXR5JDMsaXNFdmVudEVtaXR0ZXIsaXNGdW5jdGlvbjppc0Z1bmN0aW9uJDEsaXNJdGVyYWJsZSxpc0l0ZXJhdG9yLGlzUHJvbWlzZSxpc1NvdXJjZUV4cHJlc3Npb24scmFuZ2Usc2NoZWR1bGVUYXNrLHNldFRhc2tTY2hlZHVsZXIsc2luZ2xlLHVuaW9uLHdyYXA6d3JhcCQxfSk7Y29uc3QgaXNPYmplY3QkMj10PT50eXBlb2YgdD09Im9iamVjdCImJnQhPT1udWxsLGlzQWJzdHJhY3RMZXZlbD10PT5pc09iamVjdCQyKHQpJiZ0eXBlb2YgdC5vcGVuPT0iZnVuY3Rpb24iJiZ0eXBlb2YgdC5iYXRjaD09ImZ1bmN0aW9uIixlbnN1cmVBYnN0cmFjdExldmVsPSh0LGUpPT57aWYoIWlzQWJzdHJhY3RMZXZlbCh0KSl0aHJvdyBuZXcgRXJyb3IoYCR7ZX0gaXMgbm90IGFuIEFic3RyYWN0TGV2ZWwgaW5zdGFuY2VgKX0sc3RyZWFtVG9BcnJheT10PT5uZXcgUHJvbWlzZSgoZSxuKT0+e2NvbnN0IG89W10sZD1wPT57by5wdXNoKHApfSxoPSgpPT57dC5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsZCksdC5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLHUpLHQuZGVzdHJveSgpfSxsPSgpPT57aCgpLGUobyl9LHU9cD0+e2goKSxuKHApfTt0Lm9uKCJlcnJvciIsdSksdC5vbigiZW5kIixsKSx0Lm9uKCJkYXRhIixkKX0pLGFyclN0YXJ0c1dpdGg9KHQsZSk9Pntmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rPTEpaWYoZVtuXSE9PXRbbl0pcmV0dXJuITE7cmV0dXJuITB9LFJFU09MVkVEPVByb21pc2UucmVzb2x2ZSgpLGVtcHR5T2JqZWN0PXt9LGJvdW5kYXJ5PSL0j7+/IixzZXBhcmF0b3I9IlwwXDAiLGRlZmF1bHRJbmRleGVzPVtbInN1YmplY3QiLCJwcmVkaWNhdGUiLCJvYmplY3QiLCJncmFwaCJdLFsib2JqZWN0IiwiZ3JhcGgiLCJzdWJqZWN0IiwicHJlZGljYXRlIl0sWyJncmFwaCIsInN1YmplY3QiLCJwcmVkaWNhdGUiLCJvYmplY3QiXSxbInN1YmplY3QiLCJvYmplY3QiLCJwcmVkaWNhdGUiLCJncmFwaCJdLFsicHJlZGljYXRlIiwib2JqZWN0IiwiZ3JhcGgiLCJzdWJqZWN0Il0sWyJncmFwaCIsInByZWRpY2F0ZSIsIm9iamVjdCIsInN1YmplY3QiXV0sbGV2ZWxQdXRPcHRzPXtrZXlFbmNvZGluZzoidXRmOCIsdmFsdWVFbmNvZGluZzoidmlldyJ9LGxldmVsRGVsT3B0cz17a2V5RW5jb2Rpbmc6InV0ZjgifSxlbXB0eVZhbHVlPW5ldyBVaW50OEFycmF5KDApLGNvbnN1bWVPbmVCeU9uZT1hc3luYyh0LGUpPT5uZXcgUHJvbWlzZSgobixvKT0+e2xldCBkLGg9ITEsbD0hMTtjb25zdCB1PSgpPT57aWYobD0hMCwoZD10LnJlYWQoKSkhPT1udWxsKXtQcm9taXNlLnJlc29sdmUoZShkKSkudGhlbih1KS5jYXRjaChwKTtyZXR1cm59bD0hMSxoJiZuKCl9LHA9Xz0+e28oXyksYigpfSxnPSgpPT57aD0hMCxsfHxuKCksYigpfSx2PSgpPT57bHx8dSgpfSxiPSgpPT57dC5yZW1vdmVMaXN0ZW5lcigiZW5kIixnKSx0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIscCksdC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLHYpLHR5cGVvZiB0LmRlc3Ryb3k9PSJmdW5jdGlvbiImJnQuZGVzdHJveSgpfTt0Lm9uKCJlbmQiLGcpLHQub24oImVycm9yIixwKSx0Lm9uKCJyZWFkYWJsZSIsdiksdC5yZWFkYWJsZSE9PSExJiZ1KCl9KSxjb25zdW1lSW5CYXRjaGVzPWFzeW5jKHQsZSxuKT0+bmV3IFByb21pc2UoKG8sZCk9PntsZXQgaD0wLGw9ITEsdT0hMSxwPW5ldyBBcnJheShlKTtjb25zdCBnPSgpPT57aWYoaigpLGg+MCl7UHJvbWlzZS5yZXNvbHZlKG4ocC5zbGljZSgwLGgpKSkudGhlbihvKS5jYXRjaChiKTtyZXR1cm59bygpfSx2PSgpPT57dT0hMCxsfHxnKCl9LGI9Tj0+e2ooKSxkKE4pfSxfPSgpPT57bHx8VCgpfTtsZXQgTz1udWxsO2NvbnN0IFQ9KCk9PntpZihsPSEwLHUpe2coKTtyZXR1cm59Zm9yKDtoPGUmJihPPXQucmVhZCgpKSE9PW51bGw7KXBbaCsrXT1PO2lmKE89PT1udWxsKXtsPSExO3JldHVybn1oPT09ZSYmKFByb21pc2UucmVzb2x2ZShuKHAuc2xpY2UoKSkpLnRoZW4oVCkuY2F0Y2goYiksaD0wKX0saj0oKT0+e3QucmVtb3ZlTGlzdGVuZXIoImVuZCIsdiksdC5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGIpLHQucmVtb3ZlTGlzdGVuZXIoInJlYWRhYmxlIixfKSx0eXBlb2YgdC5kZXN0cm95PT0iZnVuY3Rpb24iJiZ0LmRlc3Ryb3koKX07dC5vbigiZW5kIix2KSx0Lm9uKCJlcnJvciIsYiksdC5vbigicmVhZGFibGUiLF8pLHQucmVhZGFibGUhPT0hMSYmVCgpfSk7bGV0IElEWD0yNTY7Y29uc3QgSEVYPVtdO2Zvcig7SURYLS07KUhFWFtJRFhdPShJRFgrMjU2KS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO2NvbnN0IGNyZWF0ZVVpZD10PT57dD10fHwxNjtsZXQgZT0iIixuPTA7cmV0dXJuKCk9PntpZighZXx8bj09PTI1Nil7Zm9yKGU9IiIsbj0oMSt0KS8yfDA7bi0tOyllKz1IRVhbMjU2Kk1hdGgucmFuZG9tKCl8MF07ZT1lLnN1YnN0cmluZyhuPTAsdC0yKX1yZXR1cm4gZStIRVhbbisrXX19LHVpZD1jcmVhdGVVaWQoMTEpO2NsYXNzIExldmVsSXRlcmF0b3IgZXh0ZW5kcyBCdWZmZXJlZEl0ZXJhdG9ye2xldmVsO21hcEZuO2xldmVsRW5kZWQ7Y29uc3RydWN0b3IoZSxuKXtzdXBlcih7bWF4QnVmZmVyU2l6ZTo2NH0pLHRoaXMubWFwRm49bix0aGlzLmxldmVsPWUsdGhpcy5sZXZlbEVuZGVkPSExfV9yZWFkKGUsbil7Y29uc3Qgbz17cmVtYWluaW5nOmV9O28ubmV4dD10aGlzLl9vbk5leHRWYWx1ZS5iaW5kKHRoaXMsbyxuKSx0aGlzLmxldmVsLm5leHQoby5uZXh0KX1fb25OZXh0VmFsdWUoZSxuLG8sZCxoKXtpZihvKXtuKG8pO3JldHVybn1pZihkPT09dm9pZCAwJiZoPT09dm9pZCAwKXt0aGlzLmNsb3NlKCksdGhpcy5sZXZlbEVuZGVkPSEwLG4oKTtyZXR1cm59aWYodGhpcy5fcHVzaCh0aGlzLm1hcEZuKGQsaCkpLGUucmVtYWluaW5nLT0xLGUucmVtYWluaW5nPT09MCl7bigpO3JldHVybn10aGlzLmxldmVsLm5leHQoZS5uZXh0KX1fZW5kTGV2ZWwoZSl7aWYodGhpcy5sZXZlbEVuZGVkKXtlKCk7cmV0dXJufXRoaXMubGV2ZWwuY2xvc2Uobj0+e258fCh0aGlzLmxldmVsRW5kZWQ9ITApLGUobil9KX1fZW5kKGUpe3RoaXMuZW5kZWR8fChzdXBlci5fZW5kKGUpLHRoaXMuX2VuZExldmVsKG49PntuJiZ0aGlzLmVtaXQoImVycm9yIixuKX0pKX1fZGVzdHJveShlLG4pe2lmKHRoaXMuZGVzdHJveWVkKXtuKCk7cmV0dXJufXRoaXMuX2VuZExldmVsKG89PntpZihvKXtuKG8pO3JldHVybn1zdXBlci5fZGVzdHJveShlLG4pfSl9fWNvbnN0IHhzZD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjIixzdHJpbmc9YCR7eHNkfXN0cmluZ2AsZGF0ZVRpbWU9YCR7eHNkfWRhdGVUaW1lYCxpbnRlZ2VyPWAke3hzZH1pbnRlZ2VyYCxkZWNpbWFsPWAke3hzZH1kZWNpbWFsYCxkb3VibGU9YCR7eHNkfWRvdWJsZWAsbm9uUG9zaXRpdmVJbnRlZ2VyPWAke3hzZH1ub25Qb3NpdGl2ZUludGVnZXJgLG5lZ2F0aXZlSW50ZWdlcj1gJHt4c2R9bmVnYXRpdmVJbnRlZ2VyYCxsb25nPWAke3hzZH1sb25nYCxpbnQ9YCR7eHNkfWludGAsc2hvcnQ9YCR7eHNkfXNob3J0YCxieXRlPWAke3hzZH1ieXRlYCxub25OZWdhdGl2ZUludGVnZXI9YCR7eHNkfW5vbk5lZ2F0aXZlSW50ZWdlcmAsdW5zaWduZWRMb25nPWAke3hzZH11bnNpZ25lZExvbmdgLHVuc2lnbmVkSW50PWAke3hzZH11bnNpZ25lZEludGAsdW5zaWduZWRTaG9ydD1gJHt4c2R9dW5zaWduZWRTaG9ydGAsdW5zaWduZWRCeXRlPWAke3hzZH11bnNpZ25lZEJ5dGVgLHBvc2l0aXZlSW50ZWdlcj1gJHt4c2R9cG9zaXRpdmVJbnRlZ2VyYCxzbGljZVN0cmluZz0odCxlLG4pPT50LnNsaWNlKGUsZStuKSxwYWROdW1TdGFydD10PT57aWYodDwxMClyZXR1cm4iMDAwIit0O2lmKHQ8MTAwKXJldHVybiIwMCIrdDtpZih0PDFlMylyZXR1cm4iMCIrdDtpZih0PDFlNClyZXR1cm4iIit0O3Rocm93IG5ldyBFcnJvcigidG9vIGxvbmc6ICIrdCl9LGpvaW49KHQsZSxuKT0+e2xldCBvPSIiK3Q7cmV0dXJuIGU8MTA/bys9IjAwIitlOmU8MTAwP28rPSIwIitlOm8rPWUsbys9bi50b0ZpeGVkKDE3KSxvfSxaRVJPPWpvaW4oMywwLDApLE5FR19JTkY9am9pbigwLDAsMCksUE9TX0lORj1qb2luKDYsMCwwKSxlbmNvZGU9dD0+e2xldCBlPXR5cGVvZiB0IT0ibnVtYmVyIj9wYXJzZUZsb2F0KHQpOnQ7aWYoTnVtYmVyLmlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNlcmlhbGl6ZSBOYU4iKTtpZihlPT09LTEvMClyZXR1cm4gTkVHX0lORjtpZihlPT09MS8wKXJldHVybiBQT1NfSU5GO2lmKGU9PT0wKXJldHVybiBaRVJPO2xldCBuPTAsbz0wO2ZvcihlPDAmJihvPTEsZSo9LTEpO2U+MTA7KWUvPTEwLG4rPTE7Zm9yKDtlPDE7KWUqPTEwLG4tPTE7cmV0dXJuIG89PT0xP24+PTA/am9pbigxLDk5OS1uLDEwLWUpOmpvaW4oMixuKi0xLDEwLWUpOm48MD9qb2luKDQsOTk5K24sZSk6am9pbig1LG4sZSl9LG5hbWVkTm9kZVdyaXRlcj17d3JpdGUodCxlLG4pe2NvbnN0IG89bi5jb21wYWN0SXJpKHQudmFsdWUpO2UubGVuZ3Rocz1wYWROdW1TdGFydChvLmxlbmd0aCksZS52YWx1ZT1vfX0sbmFtZWROb2RlUmVhZGVyPXtyZWFkKHQsZSxuLG8pe2NvbnN0e2tleU9mZnNldDpkLGxlbmd0aHNPZmZzZXQ6aH09ZSxsPXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsaCw0KSk7cmV0dXJuIGUubGVuZ3Roc09mZnNldCs9NCxlLmtleU9mZnNldCs9bCxuLm5hbWVkTm9kZShvLmV4cGFuZFRlcm0oc2xpY2VTdHJpbmcodCxkLGwpKSl9fSxibGFua05vZGVXcml0ZXI9e3dyaXRlKHQsZSl7ZS5sZW5ndGhzPXBhZE51bVN0YXJ0KHQudmFsdWUubGVuZ3RoKSxlLnZhbHVlPXQudmFsdWV9fSxibGFua05vZGVSZWFkZXI9e3JlYWQodCxlLG4pe2NvbnN0e2tleU9mZnNldDpvLGxlbmd0aHNPZmZzZXQ6ZH09ZSxoPXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsZCw0KSk7cmV0dXJuIGUubGVuZ3Roc09mZnNldCs9NCxlLmtleU9mZnNldCs9aCxuLmJsYW5rTm9kZShzbGljZVN0cmluZyh0LG8saCkpfX0sZ2VuZXJpY0xpdGVyYWxXcml0ZXI9e3dyaXRlKHQsZSl7ZS5sZW5ndGhzPXBhZE51bVN0YXJ0KHQudmFsdWUubGVuZ3RoKStwYWROdW1TdGFydCh0LmRhdGF0eXBlLnZhbHVlLmxlbmd0aCksZS52YWx1ZT10LmRhdGF0eXBlLnZhbHVlK3NlcGFyYXRvcit0LnZhbHVlfX0sZ2VuZXJpY0xpdGVyYWxSZWFkZXI9e3JlYWQodCxlLG4sbyl7Y29uc3R7a2V5T2Zmc2V0OmQsbGVuZ3Roc09mZnNldDpofT1lLGw9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoLDQpKSx1PXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsaCs0LDQpKTtyZXR1cm4gZS5sZW5ndGhzT2Zmc2V0Kz04LGUua2V5T2Zmc2V0Kz1sK3Urc2VwYXJhdG9yLmxlbmd0aCxuLmxpdGVyYWwoc2xpY2VTdHJpbmcodCxkK3Urc2VwYXJhdG9yLmxlbmd0aCxsKSxuLm5hbWVkTm9kZShzbGljZVN0cmluZyh0LGQsdSkpKX19LHN0cmluZ0xpdGVyYWxXcml0ZXI9e3dyaXRlKHQsZSl7ZS5sZW5ndGhzPXBhZE51bVN0YXJ0KHQudmFsdWUubGVuZ3RoKSxlLnZhbHVlPXQudmFsdWV9fSxzdHJpbmdMaXRlcmFsUmVhZGVyPXtyZWFkKHQsZSxuKXtjb25zdHtrZXlPZmZzZXQ6byxsZW5ndGhzT2Zmc2V0OmR9PWUsaD1wYXJzZUludChzbGljZVN0cmluZyh0LGQsNCkpO3JldHVybiBlLmxlbmd0aHNPZmZzZXQrPTQsZS5rZXlPZmZzZXQrPWgsbi5saXRlcmFsKHNsaWNlU3RyaW5nKHQsbyxoKSl9fSxsYW5nU3RyaW5nTGl0ZXJhbFdyaXRlcj17d3JpdGUodCxlKXtlLmxlbmd0aHM9cGFkTnVtU3RhcnQodC52YWx1ZS5sZW5ndGgpK3BhZE51bVN0YXJ0KHQubGFuZ3VhZ2UubGVuZ3RoKSxlLnZhbHVlPXQubGFuZ3VhZ2Urc2VwYXJhdG9yK3QudmFsdWV9fSxsYW5nU3RyaW5nTGl0ZXJhbFJlYWRlcj17cmVhZCh0LGUsbixvKXtjb25zdHtrZXlPZmZzZXQ6ZCxsZW5ndGhzT2Zmc2V0Omh9PWUsbD1wYXJzZUludChzbGljZVN0cmluZyh0LGgsNCkpLHU9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoKzQsNCkpO3JldHVybiBlLmxlbmd0aHNPZmZzZXQrPTgsZS5rZXlPZmZzZXQrPWwrdStzZXBhcmF0b3IubGVuZ3RoLG4ubGl0ZXJhbChzbGljZVN0cmluZyh0LGQrdStzZXBhcmF0b3IubGVuZ3RoLGwpLHNsaWNlU3RyaW5nKHQsZCx1KSl9fSxudW1lcmljTGl0ZXJhbFdyaXRlcj17d3JpdGUodCxlLG4sbyxkKXtlLmxlbmd0aHM9cGFkTnVtU3RhcnQodC52YWx1ZS5sZW5ndGgpK3BhZE51bVN0YXJ0KHQuZGF0YXR5cGUudmFsdWUubGVuZ3RoKStwYWROdW1TdGFydChkLmxlbmd0aCksbz9lLnZhbHVlPWQ6ZS52YWx1ZT1kK3NlcGFyYXRvcit0LmRhdGF0eXBlLnZhbHVlK3NlcGFyYXRvcit0LnZhbHVlfX0sbnVtZXJpY0xpdGVyYWxSZWFkZXI9e3JlYWQodCxlLG4sbyl7Y29uc3R7a2V5T2Zmc2V0OmQsbGVuZ3Roc09mZnNldDpofT1lLGw9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoLDQpKSx1PXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsaCs0LDQpKSxwPXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsaCs4LDQpKTtyZXR1cm4gZS5sZW5ndGhzT2Zmc2V0Kz0xMixlLmtleU9mZnNldCs9cCt1K2wrc2VwYXJhdG9yLmxlbmd0aCoyLG4ubGl0ZXJhbChzbGljZVN0cmluZyh0LGQrcCtzZXBhcmF0b3IubGVuZ3RoK3Urc2VwYXJhdG9yLmxlbmd0aCxsKSxuLm5hbWVkTm9kZShzbGljZVN0cmluZyh0LGQrcCtzZXBhcmF0b3IubGVuZ3RoLHUpKSl9fSxkZWZhdWx0R3JhcGhXcml0ZXI9e3dyaXRlKHQsZSl7ZS52YWx1ZT0iZGciLGUubGVuZ3Rocz0iMiJ9fSxkZWZhdWx0R3JhcGhSZWFkZXI9e3JlYWQodCxlLG4sbyl7cmV0dXJuIGUua2V5T2Zmc2V0Kz0yLGUubGVuZ3Roc09mZnNldCs9MSxuLmRlZmF1bHRHcmFwaCgpfX0sdGVybVdyaXRlcj17d3JpdGUodCxlLG4pe3N3aXRjaCh0LnRlcm1UeXBlKXtjYXNlIk5hbWVkTm9kZSI6ZS50eXBlPSIwIixuYW1lZE5vZGVXcml0ZXIud3JpdGUodCxlLG4pO2JyZWFrO2Nhc2UiQmxhbmtOb2RlIjplLnR5cGU9IjEiLGJsYW5rTm9kZVdyaXRlci53cml0ZSh0LGUsbik7YnJlYWs7Y2FzZSJEZWZhdWx0R3JhcGgiOmUudHlwZT0iNiIsZGVmYXVsdEdyYXBoV3JpdGVyLndyaXRlKHQsZSxuKTticmVhaztjYXNlIkxpdGVyYWwiOmlmKHQubGFuZ3VhZ2UpZS50eXBlPSI0IixsYW5nU3RyaW5nTGl0ZXJhbFdyaXRlci53cml0ZSh0LGUsbik7ZWxzZSBpZih0LmRhdGF0eXBlKXN3aXRjaCh0LmRhdGF0eXBlLnZhbHVlKXtjYXNlIHN0cmluZzplLnR5cGU9IjMiLHN0cmluZ0xpdGVyYWxXcml0ZXIud3JpdGUodCxlLG4pO2JyZWFrO2Nhc2UgaW50ZWdlcjpjYXNlIGRvdWJsZTpjYXNlIGRlY2ltYWw6Y2FzZSBub25Qb3NpdGl2ZUludGVnZXI6Y2FzZSBuZWdhdGl2ZUludGVnZXI6Y2FzZSBsb25nOmNhc2UgaW50OmNhc2Ugc2hvcnQ6Y2FzZSBieXRlOmNhc2Ugbm9uTmVnYXRpdmVJbnRlZ2VyOmNhc2UgdW5zaWduZWRMb25nOmNhc2UgdW5zaWduZWRJbnQ6Y2FzZSB1bnNpZ25lZFNob3J0OmNhc2UgdW5zaWduZWRCeXRlOmNhc2UgcG9zaXRpdmVJbnRlZ2VyOmUudHlwZT0iNSIsbnVtZXJpY0xpdGVyYWxXcml0ZXIud3JpdGUodCxlLG4sITEsZW5jb2RlKHQudmFsdWUpKTticmVhaztjYXNlIGRhdGVUaW1lOmUudHlwZT0iNyIsbnVtZXJpY0xpdGVyYWxXcml0ZXIud3JpdGUodCxlLG4sITEsZW5jb2RlKG5ldyBEYXRlKHQudmFsdWUpLnZhbHVlT2YoKSkpO2JyZWFrO2RlZmF1bHQ6ZS50eXBlPSIyIixnZW5lcmljTGl0ZXJhbFdyaXRlci53cml0ZSh0LGUsbil9ZWxzZSBlLnR5cGU9IjMiLHN0cmluZ0xpdGVyYWxXcml0ZXIud3JpdGUodCxlLG4pfX19LHRlcm1SZWFkZXI9e3JlYWQodCxlLG4sbyl7bGV0IGQ7Y29uc3QgaD10LmNoYXJBdChlLmxlbmd0aHNPZmZzZXQpO3N3aXRjaChlLmxlbmd0aHNPZmZzZXQrPTEsaCl7Y2FzZSIwIjpkPW5hbWVkTm9kZVJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiMSI6ZD1ibGFua05vZGVSZWFkZXIucmVhZCh0LGUsbixvKTticmVhaztjYXNlIjIiOmQ9Z2VuZXJpY0xpdGVyYWxSZWFkZXIucmVhZCh0LGUsbixvKTticmVhaztjYXNlIjMiOmQ9c3RyaW5nTGl0ZXJhbFJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiNCI6ZD1sYW5nU3RyaW5nTGl0ZXJhbFJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiNSI6ZD1udW1lcmljTGl0ZXJhbFJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiNiI6ZD1kZWZhdWx0R3JhcGhSZWFkZXIucmVhZCh0LGUsbixvKTticmVhaztjYXNlIjciOmQ9bnVtZXJpY0xpdGVyYWxSZWFkZXIucmVhZCh0LGUsbixvKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBlbmNvZGVkIHRlcm0gdHlwZSAiJHtofSJgKX1yZXR1cm4gZH19LHR3b1N0ZXBzUXVhZFdyaXRlcj17c3ViamVjdDp7dHlwZToiIix2YWx1ZToiIixsZW5ndGhzOiIifSxwcmVkaWNhdGU6e3R5cGU6IiIsdmFsdWU6IiIsbGVuZ3RoczoiIn0sb2JqZWN0Ont0eXBlOiIiLHZhbHVlOiIiLGxlbmd0aHM6IiJ9LGdyYXBoOnt0eXBlOiIiLHZhbHVlOiIiLGxlbmd0aHM6IiJ9LGluZ2VzdCh0LGUpe3JldHVybiB0ZXJtV3JpdGVyLndyaXRlKHQuc3ViamVjdCx0aGlzLnN1YmplY3QsZSksdGVybVdyaXRlci53cml0ZSh0LnByZWRpY2F0ZSx0aGlzLnByZWRpY2F0ZSxlKSx0ZXJtV3JpdGVyLndyaXRlKHQub2JqZWN0LHRoaXMub2JqZWN0LGUpLHRlcm1Xcml0ZXIud3JpdGUodC5ncmFwaCx0aGlzLmdyYXBoLGUpLHRoaXN9LHdyaXRlKHQsZSl7bGV0IG49dCxvPSIiO2ZvcihsZXQgZD0wLGg7ZDxlLmxlbmd0aDtkKz0xKWg9dGhpc1tlW2RdXSxuKz1oLnZhbHVlK3NlcGFyYXRvcixvKz1oLnR5cGUraC5sZW5ndGhzO3JldHVybiBuK28rcGFkTnVtU3RhcnQoby5sZW5ndGgpfX0scXVhZFJlYWRlcj17c3ViamVjdDpudWxsLHByZWRpY2F0ZTpudWxsLG9iamVjdDpudWxsLGdyYXBoOm51bGwsa2V5T2Zmc2V0OjAsbGVuZ3Roc09mZnNldDowLHJlYWQodCxlLG4sbyxkKXt0aGlzLmxlbmd0aHNPZmZzZXQ9dC5sZW5ndGgtcGFyc2VJbnQodC5zbGljZSgtNCkpLTQsdGhpcy5rZXlPZmZzZXQ9ZTtmb3IobGV0IGg9MCxsO2g8bi5sZW5ndGg7aCs9MSlsPW5baF0sdGhpc1tsXT10ZXJtUmVhZGVyLnJlYWQodCx0aGlzLG8sZCksdGhpcy5rZXlPZmZzZXQrPXNlcGFyYXRvci5sZW5ndGg7cmV0dXJuIG8ucXVhZCh0aGlzLnN1YmplY3QsdGhpcy5wcmVkaWNhdGUsdGhpcy5vYmplY3QsdGhpcy5ncmFwaCl9fSxzZXJpYWxpemVkPXt0eXBlOiIiLHZhbHVlOiIiLGxlbmd0aHM6IiJ9LHBhdHRlcm5MaXRlcmFsV3JpdGVyPXt3cml0ZSh0LGUpe2lmKHQubGFuZ3VhZ2Upe2xhbmdTdHJpbmdMaXRlcmFsV3JpdGVyLndyaXRlKHQsc2VyaWFsaXplZCxlKTtyZXR1cm59aWYodC5kYXRhdHlwZSlzd2l0Y2godC5kYXRhdHlwZS52YWx1ZSl7Y2FzZSBzdHJpbmc6c3RyaW5nTGl0ZXJhbFdyaXRlci53cml0ZSh0LHNlcmlhbGl6ZWQsZSk7cmV0dXJuO2Nhc2UgaW50ZWdlcjpjYXNlIGRvdWJsZTpjYXNlIGRlY2ltYWw6Y2FzZSBub25Qb3NpdGl2ZUludGVnZXI6Y2FzZSBuZWdhdGl2ZUludGVnZXI6Y2FzZSBsb25nOmNhc2UgaW50OmNhc2Ugc2hvcnQ6Y2FzZSBieXRlOmNhc2Ugbm9uTmVnYXRpdmVJbnRlZ2VyOmNhc2UgdW5zaWduZWRMb25nOmNhc2UgdW5zaWduZWRJbnQ6Y2FzZSB1bnNpZ25lZFNob3J0OmNhc2UgdW5zaWduZWRCeXRlOmNhc2UgcG9zaXRpdmVJbnRlZ2VyOm51bWVyaWNMaXRlcmFsV3JpdGVyLndyaXRlKHQsc2VyaWFsaXplZCxlLCEwLGVuY29kZSh0LnZhbHVlKSk7cmV0dXJuO2Nhc2UgZGF0ZVRpbWU6bnVtZXJpY0xpdGVyYWxXcml0ZXIud3JpdGUodCxzZXJpYWxpemVkLGUsITAsZW5jb2RlKG5ldyBEYXRlKHQudmFsdWUpLnZhbHVlT2YoKSkpO3JldHVybjtkZWZhdWx0OmdlbmVyaWNMaXRlcmFsV3JpdGVyLndyaXRlKHQsc2VyaWFsaXplZCxlKTtyZXR1cm59c3RyaW5nTGl0ZXJhbFdyaXRlci53cml0ZSh0LHNlcmlhbGl6ZWQsZSl9fSx3cml0ZVBhdHRlcm49KHQsZSxuKT0+e2xldCBvPWUucHJlZml4LGQ9ZS5wcmVmaXgsaD0hMCxsPSEwLHU9ITEscD0hMSxnPU9iamVjdC5lbnRyaWVzKHQpLmZpbHRlcigoW2IsX10pPT5fKS5sZW5ndGg7aWYoZz09PTApcmV0dXJuIGQrPWJvdW5kYXJ5LHtndDpvLGx0OmQsZ3RlOmgsbHRlOmwsb3JkZXI6ZS50ZXJtcyxpbmRleDplfTtsZXQgdj0wO2Zvcig7djxlLnRlcm1zLmxlbmd0aCYmZz4wO3YrPTEpe2NvbnN0IGI9dFtlLnRlcm1zW3ZdXTtpZighYnx8dXx8cClyZXR1cm4gbnVsbDtzd2l0Y2goYi50ZXJtVHlwZSl7Y2FzZSJSYW5nZSI6dT0hMCxiLmd0PyhwYXR0ZXJuTGl0ZXJhbFdyaXRlci53cml0ZShiLmd0LG4pLG8rPXNlcmlhbGl6ZWQudmFsdWUsaD0hMSk6Yi5ndGUmJihwYXR0ZXJuTGl0ZXJhbFdyaXRlci53cml0ZShiLmd0ZSxuKSxvKz1zZXJpYWxpemVkLnZhbHVlLGg9ITApLGIubHQ/KHBhdHRlcm5MaXRlcmFsV3JpdGVyLndyaXRlKGIubHQsbiksZCs9c2VyaWFsaXplZC52YWx1ZSxsPSExKTpiLmx0ZSYmKHBhdHRlcm5MaXRlcmFsV3JpdGVyLndyaXRlKGIubHRlLG4pLGQrPXNlcmlhbGl6ZWQudmFsdWUsbD0hMCk7YnJlYWs7Y2FzZSJMaXRlcmFsIjpwPSEwLHBhdHRlcm5MaXRlcmFsV3JpdGVyLndyaXRlKGIsbiksbys9c2VyaWFsaXplZC52YWx1ZSxoPSEwLHBhdHRlcm5MaXRlcmFsV3JpdGVyLndyaXRlKGIsbiksZCs9c2VyaWFsaXplZC52YWx1ZSxsPSEwO2JyZWFrO2Nhc2UiTmFtZWROb2RlIjpuYW1lZE5vZGVXcml0ZXIud3JpdGUoYixzZXJpYWxpemVkLG4pLG8rPXNlcmlhbGl6ZWQudmFsdWUsaD0hMCxuYW1lZE5vZGVXcml0ZXIud3JpdGUoYixzZXJpYWxpemVkLG4pLGQrPXNlcmlhbGl6ZWQudmFsdWUsbD0hMDticmVhaztjYXNlIkJsYW5rTm9kZSI6YmxhbmtOb2RlV3JpdGVyLndyaXRlKGIsc2VyaWFsaXplZCxuKSxvKz1zZXJpYWxpemVkLnZhbHVlLGg9ITAsYmxhbmtOb2RlV3JpdGVyLndyaXRlKGIsc2VyaWFsaXplZCxuKSxkKz1zZXJpYWxpemVkLnZhbHVlLGw9ITA7YnJlYWs7Y2FzZSJEZWZhdWx0R3JhcGgiOmRlZmF1bHRHcmFwaFdyaXRlci53cml0ZShiLHNlcmlhbGl6ZWQsbiksbys9c2VyaWFsaXplZC52YWx1ZSxoPSEwLGRlZmF1bHRHcmFwaFdyaXRlci53cml0ZShiLHNlcmlhbGl6ZWQsbiksZCs9c2VyaWFsaXplZC52YWx1ZSxsPSEwO2JyZWFrfWctPTEsZz4wJiZ2PGUudGVybXMubGVuZ3RoLTEmJihvKz1zZXBhcmF0b3IsZCs9c2VwYXJhdG9yKX1yZXR1cm4gbD91fHxwP2QrPWJvdW5kYXJ5OmQrPXNlcGFyYXRvcitib3VuZGFyeTpkKz1zZXBhcmF0b3IsaD8hdSYmIXAmJihvKz1zZXBhcmF0b3IpOnV8fHA/bys9Ym91bmRhcnk6bys9c2VwYXJhdG9yK2JvdW5kYXJ5LHtndDpvLGx0OmQsZ3RlOmgsbHRlOmwsb3JkZXI6ZS50ZXJtcy5zbGljZSh1P3YtMToxKSxpbmRleDplfX07dmFyIHNvcnRlZFNldEV4cG9ydHM9e30sc29ydGVkU2V0PXtnZXQgZXhwb3J0cygpe3JldHVybiBzb3J0ZWRTZXRFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtzb3J0ZWRTZXRFeHBvcnRzPXR9fTsoZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24obixvKXt0LmV4cG9ydHM9bygpfSkoY29tbW9uanNHbG9iYWwsZnVuY3Rpb24oKXtjbGFzcyBue2NvbnN0cnVjdG9yKCQpe2lmKCQ/LnN0cmF0ZWd5PT1udWxsKXRocm93Ik11c3QgcGFzcyBvcHRpb25zLnN0cmF0ZWd5LCBhIHN0cmF0ZWd5IjtpZigkPy5jb21wYXJhdG9yPT1udWxsKXRocm93Ik11c3QgcGFzcyBvcHRpb25zLmNvbXBhcmF0b3IsIGEgY29tcGFyYXRvciI7aWYoJD8ub25JbnNlcnRDb25mbGljdD09bnVsbCl0aHJvdyJNdXN0IHBhc3Mgb3B0aW9ucy5vbkluc2VydENvbmZsaWN0LCBhIGZ1bmN0aW9uIjt0aGlzLnByaXY9bmV3ICQuc3RyYXRlZ3koJCksdGhpcy5sZW5ndGg9MH1pbnNlcnQoJCl7cmV0dXJuIHRoaXMucHJpdi5pbnNlcnQoJCksdGhpcy5sZW5ndGgrPTEsdGhpc31yZW1vdmUoJCl7cmV0dXJuIHRoaXMucHJpdi5yZW1vdmUoJCksdGhpcy5sZW5ndGgtPTEsdGhpc31jbGVhcigpe3JldHVybiB0aGlzLnByaXYuY2xlYXIoKSx0aGlzLmxlbmd0aD0wLHRoaXN9Y29udGFpbnMoJCl7cmV0dXJuIHRoaXMucHJpdi5jb250YWlucygkKX10b0FycmF5KCl7cmV0dXJuIHRoaXMucHJpdi50b0FycmF5KCl9Zm9yRWFjaCgkLFUpe3JldHVybiB0aGlzLnByaXYuZm9yRWFjaEltcGwoJCx0aGlzLFUpLHRoaXN9bWFwKCQsVSl7Y29uc3QgSD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGVlLGdlLG1lKXtyZXR1cm4gSC5wdXNoKCQuY2FsbChVLGVlLGdlLG1lKSl9KSxIfWZpbHRlcigkLFUpe2NvbnN0IEg9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlZSxnZSxtZSl7aWYoJC5jYWxsKFUsZWUsZ2UsbWUpKXJldHVybiBILnB1c2goZWUpfSksSH1ldmVyeSgkLFUpe2xldCBIPSEwO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWUsZ2UsbWUpe0gmJiEkLmNhbGwoVSxlZSxnZSxtZSkmJihIPSExKX0pLEh9c29tZSgkLFUpe2xldCBIPSExO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWUsZ2UsbWUpeyFIJiYkLmNhbGwoVSxlZSxnZSxtZSkmJihIPSEwKX0pLEh9ZmluZEl0ZXJhdG9yKCQpe3JldHVybiB0aGlzLnByaXYuZmluZEl0ZXJhdG9yKCQpfWJlZ2luSXRlcmF0b3IoKXtyZXR1cm4gdGhpcy5wcml2LmJlZ2luSXRlcmF0b3IoKX1lbmRJdGVyYXRvcigpe3JldHVybiB0aGlzLnByaXYuZW5kSXRlcmF0b3IoKX19Y2xhc3Mgb3tjb25zdHJ1Y3RvcigkLFUpe3RoaXMucHJpdj0kLHRoaXMuaW5kZXg9VSx0aGlzLmRhdGE9dGhpcy5wcml2LmRhdGF9aGFzTmV4dCgpe3JldHVybiB0aGlzLmluZGV4PHRoaXMuZGF0YS5sZW5ndGh9aGFzUHJldmlvdXMoKXtyZXR1cm4gdGhpcy5pbmRleD4wfXZhbHVlKCl7cmV0dXJuIHRoaXMuaW5kZXg8dGhpcy5kYXRhLmxlbmd0aD90aGlzLmRhdGFbdGhpcy5pbmRleF06bnVsbH1zZXRWYWx1ZSgkKXtpZighdGhpcy5wcml2Lm9wdGlvbnMuYWxsb3dTZXRWYWx1ZSl0aHJvdyJNdXN0IHNldCBvcHRpb25zLmFsbG93U2V0VmFsdWUiO2lmKCF0aGlzLmhhc05leHQoKSl0aHJvdyJDYW5ub3Qgc2V0IHZhbHVlIGF0IGVuZCBvZiBzZXQiO3JldHVybiB0aGlzLmRhdGFbdGhpcy5pbmRleF09JH1uZXh0KCl7cmV0dXJuIHRoaXMuaW5kZXg+PXRoaXMuZGF0YS5sZW5ndGg/bnVsbDpuZXcgbyh0aGlzLnByaXYsdGhpcy5pbmRleCsxKX1wcmV2aW91cygpe3JldHVybiB0aGlzLmluZGV4PD0wP251bGw6bmV3IG8odGhpcy5wcml2LHRoaXMuaW5kZXgtMSl9fWNvbnN0IGQ9KE0sJCxVKT0+e2xldCBIPTAsZWU9TS5sZW5ndGg7Zm9yKDtIPGVlOyl7Y29uc3QgZ2U9SCtlZT4+PjE7VShNW2dlXSwkKTwwP0g9Z2UrMTplZT1nZX1yZXR1cm4gSH07Y2xhc3MgaHtjb25zdHJ1Y3RvcigkKXt0aGlzLm9wdGlvbnM9JCx0aGlzLm9uSW5zZXJ0Q29uZmxpY3Q9dGhpcy5vcHRpb25zLm9uSW5zZXJ0Q29uZmxpY3QsdGhpcy5jb21wYXJhdG9yPXRoaXMub3B0aW9ucy5jb21wYXJhdG9yLHRoaXMuZGF0YT1bXX10b0FycmF5KCl7cmV0dXJuIHRoaXMuZGF0YX1pbnNlcnQoJCl7Y29uc3QgVT1kKHRoaXMuZGF0YSwkLHRoaXMuY29tcGFyYXRvcik7cmV0dXJuIHRoaXMuZGF0YVtVXSE9PXZvaWQgMCYmdGhpcy5jb21wYXJhdG9yKHRoaXMuZGF0YVtVXSwkKT09PTA/dGhpcy5kYXRhLnNwbGljZShVLDEsdGhpcy5vbkluc2VydENvbmZsaWN0KHRoaXMuZGF0YVtVXSwkKSk6dGhpcy5kYXRhLnNwbGljZShVLDAsJCl9cmVtb3ZlKCQpe2NvbnN0IFU9ZCh0aGlzLmRhdGEsJCx0aGlzLmNvbXBhcmF0b3IpO2lmKHRoaXMuY29tcGFyYXRvcih0aGlzLmRhdGFbVV0sJCkhPT0wKXRocm93IlZhbHVlIG5vdCBpbiBzZXQiO3JldHVybiB0aGlzLmRhdGEuc3BsaWNlKFUsMSl9Y2xlYXIoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aD0wfWNvbnRhaW5zKCQpe2NvbnN0IFU9ZCh0aGlzLmRhdGEsJCx0aGlzLmNvbXBhcmF0b3IpO3JldHVybiB0aGlzLmluZGV4IT09dGhpcy5kYXRhLmxlbmd0aCYmdGhpcy5jb21wYXJhdG9yKHRoaXMuZGF0YVtVXSwkKT09PTB9Zm9yRWFjaEltcGwoJCxVLEgpe2NvbnN0IGVlPXRoaXMuZGF0YSxnZT1lZS5sZW5ndGg7Zm9yKGxldCBtZT0wO21lPGdlO21lKyspJC5jYWxsKEgsZWVbbWVdLG1lLFUpfWZpbmRJdGVyYXRvcigkKXtjb25zdCBVPWQodGhpcy5kYXRhLCQsdGhpcy5jb21wYXJhdG9yKTtyZXR1cm4gbmV3IG8odGhpcyxVKX1iZWdpbkl0ZXJhdG9yKCl7cmV0dXJuIG5ldyBvKHRoaXMsMCl9ZW5kSXRlcmF0b3IoKXtyZXR1cm4gbmV3IG8odGhpcyx0aGlzLmRhdGEubGVuZ3RoKX19Y29uc3QgbD0oTSwkKT0+e2Zvcig7JFtNXSE9PW51bGw7KXtjb25zdCBVPSQ7JD0kW01dLCQuX2l0ZXJhdG9yUGFyZW50Tm9kZT1VfXJldHVybiAkfSx1PShNLCQpPT57bGV0IFUsSDtpZigkW01dIT09bnVsbClVPSQsJD0kW01dLCQuX2l0ZXJhdG9yUGFyZW50Tm9kZT1VLEg9TT09PSJsZWZ0Ij8icmlnaHQiOiJsZWZ0IiwkPWwoSCwkKTtlbHNle2Zvcig7KFU9JC5faXRlcmF0b3JQYXJlbnROb2RlKSE9PW51bGwmJlVbTV09PT0kOykkPVU7JD1VfXJldHVybiAkfTtjbGFzcyBwe2NvbnN0cnVjdG9yKCQsVSl7dGhpcy50cmVlPSQsdGhpcy5ub2RlPVV9bmV4dCgpe2lmKHRoaXMubm9kZT09PW51bGwpcmV0dXJuIG51bGw7e2NvbnN0ICQ9dSgicmlnaHQiLHRoaXMubm9kZSk7cmV0dXJuIG5ldyBwKHRoaXMudHJlZSwkKX19cHJldmlvdXMoKXtpZih0aGlzLm5vZGU9PT1udWxsKXtpZih0aGlzLnRyZWUucm9vdD09PW51bGwpcmV0dXJuIG51bGw7e3RoaXMudHJlZS5yb290Ll9pdGVyYXRvclBhcmVudE5vZGU9bnVsbDtjb25zdCAkPWwoInJpZ2h0Iix0aGlzLnRyZWUucm9vdCk7cmV0dXJuIG5ldyBwKHRoaXMudHJlZSwkKX19ZWxzZXtjb25zdCAkPXUoImxlZnQiLHRoaXMubm9kZSk7cmV0dXJuICQ9PT1udWxsP251bGw6bmV3IHAodGhpcy50cmVlLCQpfX1oYXNOZXh0KCl7cmV0dXJuIHRoaXMubm9kZSE9PW51bGx9aGFzUHJldmlvdXMoKXtyZXR1cm4gdGhpcy5wcmV2aW91cygpIT09bnVsbH12YWx1ZSgpe3JldHVybiB0aGlzLm5vZGU9PT1udWxsP251bGw6dGhpcy5ub2RlLnZhbHVlfXNldFZhbHVlKCQpe2lmKCF0aGlzLnRyZWUub3B0aW9ucy5hbGxvd1NldFZhbHVlKXRocm93Ik11c3Qgc2V0IG9wdGlvbnMuYWxsb3dTZXRWYWx1ZSI7aWYoIXRoaXMuaGFzTmV4dCgpKXRocm93IkNhbm5vdCBzZXQgdmFsdWUgYXQgZW5kIG9mIHNldCI7cmV0dXJuIHRoaXMubm9kZS52YWx1ZT0kfX1wLmZpbmQ9ZnVuY3Rpb24oTSwkLFUpe2NvbnN0IEg9TS5yb290O0ghPW51bGwmJihILl9pdGVyYXRvclBhcmVudE5vZGU9bnVsbCk7bGV0IGVlPUgsZ2U9bnVsbDtmb3IoO2VlIT09bnVsbDspe2NvbnN0IG1lPVUoJCxlZS52YWx1ZSk7aWYobWU9PT0wKWJyZWFrO2lmKG1lPDApe2lmKGVlLmxlZnQ9PT1udWxsKWJyZWFrO2dlPWVlLGVlLmxlZnQuX2l0ZXJhdG9yUGFyZW50Tm9kZT1lZSxlZT1lZS5sZWZ0fWVsc2UgaWYoZWUucmlnaHQhPT1udWxsKWVlLnJpZ2h0Ll9pdGVyYXRvclBhcmVudE5vZGU9ZWUsZWU9ZWUucmlnaHQ7ZWxzZXtlZT1nZTticmVha319cmV0dXJuIG5ldyBwKE0sZWUpfSxwLmxlZnQ9TT0+e2lmKE0ucm9vdD09PW51bGwpcmV0dXJuIG5ldyBwKE0sbnVsbCk7e00ucm9vdC5faXRlcmF0b3JQYXJlbnROb2RlPW51bGw7Y29uc3QgJD1sKCJsZWZ0IixNLnJvb3QpO3JldHVybiBuZXcgcChNLCQpfX0scC5yaWdodD1NPT5uZXcgcChNLG51bGwpO2NvbnN0IGc9KE0sJCk9PntNIT09bnVsbCYmKGcoTS5sZWZ0LCQpLCQoTS52YWx1ZSksZyhNLnJpZ2h0LCQpKX07Y2xhc3Mgdnt0b0FycmF5KCl7Y29uc3QgJD1bXTtyZXR1cm4gZyh0aGlzLnJvb3QsZnVuY3Rpb24oVSl7cmV0dXJuICQucHVzaChVKX0pLCR9Y2xlYXIoKXtyZXR1cm4gdGhpcy5yb290PW51bGx9Zm9yRWFjaEltcGwoJCxVLEgpe2xldCBlZT0wO2codGhpcy5yb290LGZ1bmN0aW9uKGdlKXskLmNhbGwoSCxnZSxlZSxVKSxlZSs9MX0pfWNvbnRhaW5zKCQpe2NvbnN0IFU9dGhpcy5jb21wYXJhdG9yO2xldCBIPXRoaXMucm9vdDtmb3IoO0ghPT1udWxsOyl7Y29uc3QgZWU9VSgkLEgudmFsdWUpO2lmKGVlPT09MClicmVhaztlZTwwP0g9SC5sZWZ0Okg9SC5yaWdodH1yZXR1cm4gSCE9PW51bGwmJlUoSC52YWx1ZSwkKT09PTB9ZmluZEl0ZXJhdG9yKCQpe3JldHVybiBwLmZpbmQodGhpcywkLHRoaXMuY29tcGFyYXRvcil9YmVnaW5JdGVyYXRvcigpe3JldHVybiBwLmxlZnQodGhpcyl9ZW5kSXRlcmF0b3IoKXtyZXR1cm4gcC5yaWdodCh0aGlzKX19Y2xhc3MgYntjb25zdHJ1Y3RvcigkKXt0aGlzLnZhbHVlPSQsdGhpcy5sZWZ0PW51bGwsdGhpcy5yaWdodD1udWxsfX1jb25zdCBfPShNLCQpPT57Zm9yKDtNWyRdIT09bnVsbDspTT1NWyRdO3JldHVybiBNfSxPPShNLCQsVSk9PntpZihNPT09bnVsbCl0aHJvdyJWYWx1ZSBub3QgaW4gc2V0Ijtjb25zdCBIPVUoJCxNLnZhbHVlKTtpZihIPDApTS5sZWZ0PU8oTS5sZWZ0LCQsVSk7ZWxzZSBpZihIPjApTS5yaWdodD1PKE0ucmlnaHQsJCxVKTtlbHNlIGlmKE0ubGVmdD09PW51bGwmJk0ucmlnaHQ9PT1udWxsKU09bnVsbDtlbHNlIGlmKE0ucmlnaHQ9PT1udWxsKU09TS5sZWZ0O2Vsc2UgaWYoTS5sZWZ0PT09bnVsbClNPU0ucmlnaHQ7ZWxzZXtjb25zdCBlZT1fKE0ucmlnaHQsImxlZnQiKTtNLnZhbHVlPWVlLnZhbHVlLE0ucmlnaHQ9TyhNLnJpZ2h0LGVlLnZhbHVlLFUpfXJldHVybiBNfTtjbGFzcyBUIGV4dGVuZHMgdntjb25zdHJ1Y3RvcigkKXtzdXBlcigpLHRoaXMub3B0aW9ucz0kLHRoaXMuY29tcGFyYXRvcj10aGlzLm9wdGlvbnMuY29tcGFyYXRvcix0aGlzLm9uSW5zZXJ0Q29uZmxpY3Q9dGhpcy5vcHRpb25zLm9uSW5zZXJ0Q29uZmxpY3QsdGhpcy5yb290PW51bGx9aW5zZXJ0KCQpe2NvbnN0IFU9dGhpcy5jb21wYXJhdG9yO2lmKHRoaXMucm9vdCE9PW51bGwpe2xldCBIPXRoaXMucm9vdCxlZT1udWxsO2Zvcig7Oyl7Y29uc3QgZ2U9VSgkLEgudmFsdWUpO2lmKGdlPT09MCl7SC52YWx1ZT10aGlzLm9uSW5zZXJ0Q29uZmxpY3QoSC52YWx1ZSwkKTtyZXR1cm59ZWxzZXtpZihlZT1nZTwwPyJsZWZ0IjoicmlnaHQiLEhbZWVdPT09bnVsbClicmVhaztIPUhbZWVdfX1yZXR1cm4gSFtlZV09bmV3IGIoJCl9ZWxzZSByZXR1cm4gdGhpcy5yb290PW5ldyBiKCQpfXJlbW92ZSgkKXtyZXR1cm4gdGhpcy5yb290PU8odGhpcy5yb290LCQsdGhpcy5jb21wYXJhdG9yKX19Y2xhc3Mgantjb25zdHJ1Y3RvcigkKXt0aGlzLnZhbHVlPSQsdGhpcy5sZWZ0PW51bGwsdGhpcy5yaWdodD1udWxsLHRoaXMuaXNSZWQ9ITB9fWNvbnN0IE49TT0+e2NvbnN0ICQ9TS5yaWdodDtyZXR1cm4gTS5yaWdodD0kLmxlZnQsJC5sZWZ0PU0sJC5pc1JlZD1NLmlzUmVkLE0uaXNSZWQ9ITAsJH0sQj1NPT57Y29uc3QgJD1NLmxlZnQ7cmV0dXJuIE0ubGVmdD0kLnJpZ2h0LCQucmlnaHQ9TSwkLmlzUmVkPU0uaXNSZWQsTS5pc1JlZD0hMCwkfSxDPU09PntNLmlzUmVkPSFNLmlzUmVkLE0ubGVmdC5pc1JlZD0hTS5sZWZ0LmlzUmVkLE0ucmlnaHQuaXNSZWQ9IU0ucmlnaHQuaXNSZWR9LEw9TT0+KEMoTSksTS5yaWdodCE9PW51bGwmJk0ucmlnaHQubGVmdCE9PW51bGwmJk0ucmlnaHQubGVmdC5pc1JlZCYmKE0ucmlnaHQ9QihNLnJpZ2h0KSxNPU4oTSksQyhNKSksTSksUz1NPT4oQyhNKSxNLmxlZnQhPT1udWxsJiZNLmxlZnQubGVmdCE9PW51bGwmJk0ubGVmdC5sZWZ0LmlzUmVkJiYoTT1CKE0pLEMoTSkpLE0pLFA9KE0sJCxVLEgpPT57aWYoTT09PW51bGwpcmV0dXJuIG5ldyBqKCQpO2NvbnN0IGVlPVUoJCxNLnZhbHVlKTtyZXR1cm4gZWU9PT0wP00udmFsdWU9SChNLnZhbHVlLCQpOmVlPDA/TS5sZWZ0PVAoTS5sZWZ0LCQsVSxIKTpNLnJpZ2h0PVAoTS5yaWdodCwkLFUsSCksTS5yaWdodCE9PW51bGwmJk0ucmlnaHQuaXNSZWQmJiEoTS5sZWZ0IT09bnVsbCYmTS5sZWZ0LmlzUmVkKSYmKE09TihNKSksTS5sZWZ0IT09bnVsbCYmTS5sZWZ0LmlzUmVkJiZNLmxlZnQubGVmdCE9PW51bGwmJk0ubGVmdC5sZWZ0LmlzUmVkJiYoTT1CKE0pKSxNLmxlZnQhPT1udWxsJiZNLmxlZnQuaXNSZWQmJk0ucmlnaHQhPT1udWxsJiZNLnJpZ2h0LmlzUmVkJiZDKE0pLE19LEY9TT0+e2Zvcig7TS5sZWZ0IT09bnVsbDspTT1NLmxlZnQ7cmV0dXJuIE19LGs9TT0+KE0ucmlnaHQhPT1udWxsJiZNLnJpZ2h0LmlzUmVkJiYoTT1OKE0pKSxNLmxlZnQhPT1udWxsJiZNLmxlZnQuaXNSZWQmJk0ubGVmdC5sZWZ0IT09bnVsbCYmTS5sZWZ0LmxlZnQuaXNSZWQmJihNPUIoTSkpLE0ubGVmdCE9PW51bGwmJk0ubGVmdC5pc1JlZCYmTS5yaWdodCE9PW51bGwmJk0ucmlnaHQuaXNSZWQmJkMoTSksTSksSj1NPT5NLmxlZnQ9PT1udWxsP251bGw6KCFNLmxlZnQuaXNSZWQmJiEoTS5sZWZ0LmxlZnQhPT1udWxsJiZNLmxlZnQubGVmdC5pc1JlZCkmJihNPUwoTSkpLE0ubGVmdD1KKE0ubGVmdCksayhNKSksYWU9KE0sJCxVKT0+e2lmKE09PT1udWxsKXRocm93IlZhbHVlIG5vdCBpbiBzZXQiO2lmKFUoJCxNLnZhbHVlKTwwKXtpZihNLmxlZnQ9PT1udWxsKXRocm93IlZhbHVlIG5vdCBpbiBzZXQiOyFNLmxlZnQuaXNSZWQmJiEoTS5sZWZ0LmxlZnQhPT1udWxsJiZNLmxlZnQubGVmdC5pc1JlZCkmJihNPUwoTSkpLE0ubGVmdD1hZShNLmxlZnQsJCxVKX1lbHNle2lmKE0ubGVmdCE9PW51bGwmJk0ubGVmdC5pc1JlZCYmKE09QihNKSksTS5yaWdodD09PW51bGwpe2lmKFUoJCxNLnZhbHVlKT09PTApcmV0dXJuIG51bGw7dGhyb3ciVmFsdWUgbm90IGluIHNldCJ9IU0ucmlnaHQuaXNSZWQmJiEoTS5yaWdodC5sZWZ0IT09bnVsbCYmTS5yaWdodC5sZWZ0LmlzUmVkKSYmKE09UyhNKSksVSgkLE0udmFsdWUpPT09MD8oTS52YWx1ZT1GKE0ucmlnaHQpLnZhbHVlLE0ucmlnaHQ9SihNLnJpZ2h0KSk6TS5yaWdodD1hZShNLnJpZ2h0LCQsVSl9cmV0dXJuIE0hPT1udWxsJiYoTT1rKE0pKSxNfTtjbGFzcyBxIGV4dGVuZHMgdntjb25zdHJ1Y3RvcigkKXtzdXBlcigpLHRoaXMub3B0aW9ucz0kLHRoaXMuY29tcGFyYXRvcj10aGlzLm9wdGlvbnMuY29tcGFyYXRvcix0aGlzLm9uSW5zZXJ0Q29uZmxpY3Q9dGhpcy5vcHRpb25zLm9uSW5zZXJ0Q29uZmxpY3QsdGhpcy5yb290PW51bGx9aW5zZXJ0KCQpe3RoaXMucm9vdD1QKHRoaXMucm9vdCwkLHRoaXMuY29tcGFyYXRvcix0aGlzLm9uSW5zZXJ0Q29uZmxpY3QpLHRoaXMucm9vdC5pc1JlZD0hMX1yZW1vdmUoJCl7dGhpcy5yb290PWFlKHRoaXMucm9vdCwkLHRoaXMuY29tcGFyYXRvciksdGhpcy5yb290IT09bnVsbCYmKHRoaXMucm9vdC5pc1JlZD0hMSl9fWNvbnN0IEc9e09uSW5zZXJ0Q29uZmxpY3RUaHJvdzooTSwkKT0+e3Rocm93IG5ldyBFcnJvcigiVmFsdWUgYWxyZWFkeSBpbiBzZXQiKX0sT25JbnNlcnRDb25mbGljdFJlcGxhY2U6KE0sJCk9PiQsT25JbnNlcnRDb25mbGljdElnbm9yZTooTSwkKT0+TX07Y2xhc3MgcmUgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCQpeyR8fCgkPXt9KSwkLnN0cmF0ZWd5fHwoJC5zdHJhdGVneT1xKSwkLmNvbXBhcmF0b3J8fCgkLmNvbXBhcmF0b3I9ZnVuY3Rpb24oVSxIKXtyZXR1cm4oVXx8MCktKEh8fDApfSksJC5vbkluc2VydENvbmZsaWN0fHwoJC5vbkluc2VydENvbmZsaWN0PUcuT25JbnNlcnRDb25mbGljdFRocm93KSxzdXBlcigkKX19cmV0dXJuIHJlLkFycmF5U3RyYXRlZ3k9aCxyZS5CaW5hcnlUcmVlU3RyYXRlZ3k9VCxyZS5SZWRCbGFja1RyZWVTdHJhdGVneT1xLE9iamVjdC5hc3NpZ24ocmUsRykscmV9KX0pKHNvcnRlZFNldCk7Y2xhc3MgU29ydGluZ0l0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4sbyxkKXtzdXBlcigpO2xldCBoO2NvbnN0IGw9KCk9Pntjb25zdCB1PW5ldyBzb3J0ZWRTZXRFeHBvcnRzKHtjb21wYXJhdG9yOm59KSxwPSgpPT57ZS5yZW1vdmVMaXN0ZW5lcigiZGF0YSIsZyksZS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLHYpLGUucmVtb3ZlTGlzdGVuZXIoImVuZCIsYiksZS5kZXN0cm95KCl9LGc9Xz0+e3UuaW5zZXJ0KG8oXykpfSx2PV89PntwKCksdGhpcy5lbWl0KCJlcnJvciIsXyl9LGI9KCk9PntwKCksaD11LmJlZ2luSXRlcmF0b3IoKSx0aGlzLnJlYWRhYmxlPSEwfTtlLm9uKCJkYXRhIixnKSxlLm9uKCJlcnJvciIsdiksZS5vbigiZW5kIixiKX07dGhpcy5yZWFkPSgpPT57aWYoaCl7Y29uc3QgdT1oLnZhbHVlKCk7cmV0dXJuIHU9PT1udWxsPyh0aGlzLmNsb3NlKCksbnVsbCk6KGg9aC5uZXh0KCksZCh1KSl9cmV0dXJuIHRoaXMucmVhZGFibGU9ITEsbnVsbH0sUkVTT0xWRUQudGhlbihsKS5jYXRjaCh1PT57UkVTT0xWRUQudGhlbigoKT0+dGhpcy5lbWl0KCJlcnJvciIsdSkpfSl9fWNvbnN0IFNPUlRJTkdfS0VZPVN5bWJvbCgpLGNvbXBhcmVTb3J0YWJsZVF1YWRzUmV2ZXJzZT0odCxlKT0+dFtTT1JUSU5HX0tFWV0+ZVtTT1JUSU5HX0tFWV0/LTE6MSxjb21wYXJlU29ydGFibGVRdWFkcz0odCxlKT0+dFtTT1JUSU5HX0tFWV0+ZVtTT1JUSU5HX0tFWV0/MTotMSxlbWl0U29ydGFibGVRdWFkPXQ9PnQsZ2V0TGV2ZWxRdWVyeUZvckluZGV4PSh0LGUsbixvKT0+e2NvbnN0IGQ9d3JpdGVQYXR0ZXJuKHQsZSxuKTtpZihkPT09bnVsbClyZXR1cm4gbnVsbDtjb25zdCBoPXtbZC5ndGU/Imd0ZSI6Imd0Il06ZC5ndCxbZC5sdGU/Imx0ZSI6Imx0Il06ZC5sdCxrZXlzOiEwLHZhbHVlczohMSxrZXlFbmNvZGluZzoidXRmOCJ9O3JldHVybiB0eXBlb2Ygby5saW1pdD09Im51bWJlciImJihoLmxpbWl0PW8ubGltaXQpLHR5cGVvZiBvLnJldmVyc2U9PSJib29sZWFuIiYmKGgucmV2ZXJzZT1vLnJldmVyc2UpLHtsZXZlbDpoLG9yZGVyOmQub3JkZXIsaW5kZXg6ZC5pbmRleH19LGdldExldmVsUXVlcnk9KHQsZSxuLG8pPT57Zm9yKGxldCBkPTAsaDtkPGUubGVuZ3RoO2QrPTEpe2g9ZVtkXTtjb25zdCBsPWdldExldmVsUXVlcnlGb3JJbmRleCh0LGgsbixvKTtpZihsIT09bnVsbCYmKCFvLm9yZGVyfHxhcnJTdGFydHNXaXRoKGwub3JkZXIsby5vcmRlcikpKXJldHVybiBsfXJldHVybiBudWxsfSxnZXRTdHJlYW09YXN5bmModCxlLG4pPT57Y29uc3R7ZGF0YUZhY3Rvcnk6byxwcmVmaXhlczpkLGluZGV4ZXM6aH09dCxsPWdldExldmVsUXVlcnkoZSxoLGQsbik7aWYobCE9PW51bGwpe2NvbnN0e2luZGV4OnAsbGV2ZWw6ZyxvcmRlcjp2fT1sO2xldCBiPW5ldyBMZXZlbEl0ZXJhdG9yKHQuZGIuaXRlcmF0b3IoZyksXz0+cXVhZFJlYWRlci5yZWFkKF8scC5wcmVmaXgubGVuZ3RoLHAudGVybXMsbyxkKSk7cmV0dXJue3R5cGU6UmVzdWx0VHlwZS5RVUFEUyxvcmRlcjp2LGl0ZXJhdG9yOmIsaW5kZXg6cC50ZXJtcyxyZXNvcnRlZDohMX19Y29uc3QgdT1nZXRMZXZlbFF1ZXJ5KGUsaCxkLGVtcHR5T2JqZWN0KTtpZih1IT09bnVsbCl7Y29uc3R7aW5kZXg6cCxsZXZlbDpnLG9yZGVyOnZ9PXU7bGV0IGI9bmV3IExldmVsSXRlcmF0b3IodC5kYi5pdGVyYXRvcihnKSxfPT5xdWFkUmVhZGVyLnJlYWQoXyxwLnByZWZpeC5sZW5ndGgscC50ZXJtcyxvLGQpKTtpZih0eXBlb2Ygbi5vcmRlcjwidSImJiFhcnJTdGFydHNXaXRoKG4ub3JkZXIsdikpe2NvbnN0IF89VD0+KFRbU09SVElOR19LRVldPXR3b1N0ZXBzUXVhZFdyaXRlci5pbmdlc3QoVCxkKS53cml0ZSgiIixuLm9yZGVyKStzZXBhcmF0b3IsVCksTz1uLnJldmVyc2U9PT0hMD9jb21wYXJlU29ydGFibGVRdWFkc1JldmVyc2U6Y29tcGFyZVNvcnRhYmxlUXVhZHM7aWYoYj1uZXcgU29ydGluZ0l0ZXJhdG9yKGIsTyxfLGVtaXRTb3J0YWJsZVF1YWQpLHR5cGVvZiBuLmxpbWl0PCJ1Iil7Y29uc3QgVD1mdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoImVuZCIsVCksdGhpcy5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLFQpLHRoaXMuZGVzdHJveSgpfTtiPWIudGFrZShuLmxpbWl0KS5vbigiZW5kIixUKS5vbigiZXJyb3IiLFQpfX1yZXR1cm57dHlwZTpSZXN1bHRUeXBlLlFVQURTLG9yZGVyOm4ub3JkZXJ8fHYsaXRlcmF0b3I6YixpbmRleDpwLnRlcm1zLHJlc29ydGVkOiEwfX10aHJvdyBuZXcgRXJyb3IoYE5vIGluZGV4IGNvbXBhdGlibGUgd2l0aCBwYXR0ZXJuICR7SlNPTi5zdHJpbmdpZnkoZSl9IGFuZCBvcHRpb25zICR7SlNPTi5zdHJpbmdpZnkobil9YCl9LGdldEFwcHJveGltYXRlU2l6ZT1hc3luYyh0LGUsbik9PntpZighdC5kYi5hcHByb3hpbWF0ZVNpemUpcmV0dXJue3R5cGU6UmVzdWx0VHlwZS5BUFBST1hJTUFURV9TSVpFLGFwcHJveGltYXRlU2l6ZToxLzB9O2NvbnN0e2luZGV4ZXM6byxwcmVmaXhlczpkfT10LGg9Z2V0TGV2ZWxRdWVyeShlLG8sZCxuKTtpZihoPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYE5vIGluZGV4IGNvbXBhdGlibGUgd2l0aCBwYXR0ZXJuICR7SlNPTi5zdHJpbmdpZnkoZSl9IGFuZCBvcHRpb25zICR7SlNPTi5zdHJpbmdpZnkobil9YCk7Y29uc3R7bGV2ZWw6bH09aCx1PWwuZ3RlfHxsLmd0LHA9bC5sdGV8fGwubHQ7cmV0dXJuIG5ldyBQcm9taXNlKChnLHYpPT57dC5kYi5hcHByb3hpbWF0ZVNpemUodSxwLChiLF8pPT57aWYoYil7dihiKTtyZXR1cm59Zyh7dHlwZTpSZXN1bHRUeXBlLkFQUFJPWElNQVRFX1NJWkUsYXBwcm94aW1hdGVTaXplOk1hdGgubWF4KDEsXyl9KX0pfSl9O2NsYXNzIFNjb3Ble2lkO2JsYW5rTm9kZXM7ZmFjdG9yeTtzdGF0aWMgYXN5bmMgaW5pdChlKXtyZXR1cm4gbmV3IFNjb3BlKGUuZGF0YUZhY3RvcnksdWlkKCksbmV3IE1hcCl9c3RhdGljIGFzeW5jIGxvYWQoZSxuKXtjb25zdCBvPVNjb3BlLmdldExldmVsSXRlcmF0b3JPcHRzKCExLCEwLG4pLGQ9bmV3IExldmVsSXRlcmF0b3IoZS5kYi5pdGVyYXRvcihvKSwodSxwKT0+cCksaD1uZXcgTWFwLHtkYXRhRmFjdG9yeTpsfT1lO3JldHVybiBhd2FpdCBjb25zdW1lT25lQnlPbmUoZCx1PT57Y29uc3R7b3JpZ2luYWxMYWJlbDpwLHJhbmRvbUxhYmVsOmd9PUpTT04ucGFyc2UodSk7aC5zZXQocCxsLmJsYW5rTm9kZShnKSl9KSxuZXcgU2NvcGUobCxuLGgpfXN0YXRpYyBhc3luYyBkZWxldGUoZSxuKXtjb25zdCBvPWUuZGIuYmF0Y2goKSxkPVNjb3BlLmdldExldmVsSXRlcmF0b3JPcHRzKCEwLCExLG4pLGg9bmV3IExldmVsSXRlcmF0b3IoZS5kYi5pdGVyYXRvcihkKSwobCx1KT0+bCk7YXdhaXQgY29uc3VtZU9uZUJ5T25lKGgsbD0+e28uZGVsKGwpfSksYXdhaXQgby53cml0ZSgpfXN0YXRpYyBnZXRMZXZlbEl0ZXJhdG9yT3B0cyhlLG4sbyl7Y29uc3QgZD1vP2BTQ09QRSR7c2VwYXJhdG9yfSR7b30ke3NlcGFyYXRvcn1gOmBTQ09QRSR7c2VwYXJhdG9yfWA7cmV0dXJue2tleXM6ZSx2YWx1ZXM6bixrZXlFbmNvZGluZzoidXRmOCIsdmFsdWVFbmNvZGluZzoidXRmOCIsZ3RlOmQsbHRlOmAke2R9JHtib3VuZGFyeX1gfX1zdGF0aWMgYWRkTWFwcGluZ1RvTGV2ZWxCYXRjaChlLG4sbyxkKXtuLnB1dChgU0NPUEUke3NlcGFyYXRvcn0ke2V9JHtzZXBhcmF0b3J9JHtvfWAsSlNPTi5zdHJpbmdpZnkoe29yaWdpbmFsTGFiZWw6byxyYW5kb21MYWJlbDpkfSkpfWNvbnN0cnVjdG9yKGUsbixvKXt0aGlzLmJsYW5rTm9kZXM9byx0aGlzLmZhY3Rvcnk9ZSx0aGlzLmlkPW59cGFyc2VCbGFua05vZGUoZSxuKXtsZXQgbz10aGlzLmJsYW5rTm9kZXMuZ2V0KGUudmFsdWUpO3JldHVybiBvfHwobz10aGlzLmZhY3RvcnkuYmxhbmtOb2RlKHVpZCgpKSx0aGlzLmJsYW5rTm9kZXMuc2V0KGUudmFsdWUsbyksU2NvcGUuYWRkTWFwcGluZ1RvTGV2ZWxCYXRjaCh0aGlzLmlkLG4sZS52YWx1ZSxvLnZhbHVlKSksb31wYXJzZVN1YmplY3QoZSxuKXtzd2l0Y2goZS50ZXJtVHlwZSl7Y2FzZSJCbGFua05vZGUiOnJldHVybiB0aGlzLnBhcnNlQmxhbmtOb2RlKGUsbik7ZGVmYXVsdDpyZXR1cm4gZX19cGFyc2VPYmplY3QoZSxuKXtzd2l0Y2goZS50ZXJtVHlwZSl7Y2FzZSJCbGFua05vZGUiOnJldHVybiB0aGlzLnBhcnNlQmxhbmtOb2RlKGUsbik7ZGVmYXVsdDpyZXR1cm4gZX19cGFyc2VHcmFwaChlLG4pe3N3aXRjaChlLnRlcm1UeXBlKXtjYXNlIkJsYW5rTm9kZSI6cmV0dXJuIHRoaXMucGFyc2VCbGFua05vZGUoZSxuKTtkZWZhdWx0OnJldHVybiBlfX1wYXJzZVF1YWQoZSxuKXtyZXR1cm4gdGhpcy5mYWN0b3J5LnF1YWQodGhpcy5wYXJzZVN1YmplY3QoZS5zdWJqZWN0LG4pLGUucHJlZGljYXRlLHRoaXMucGFyc2VPYmplY3QoZS5vYmplY3QsbiksdGhpcy5wYXJzZUdyYXBoKGUuZ3JhcGgsbikpfX1jbGFzcyBRdWFkc3RvcmV7ZGI7aW5kZXhlcztpZDtwcmVmaXhlcztkYXRhRmFjdG9yeTtjb25zdHJ1Y3RvcihlKXtlbnN1cmVBYnN0cmFjdExldmVsKGUuYmFja2VuZCwnIm9wdHMuYmFja2VuZCInKSx0aGlzLmRhdGFGYWN0b3J5PWUuZGF0YUZhY3RvcnksdGhpcy5kYj1lLmJhY2tlbmQsdGhpcy5pbmRleGVzPVtdLHRoaXMuaWQ9dWlkKCksKGUuaW5kZXhlc3x8ZGVmYXVsdEluZGV4ZXMpLmZvckVhY2gobj0+dGhpcy5fYWRkSW5kZXgobikpLHRoaXMucHJlZml4ZXM9ZS5wcmVmaXhlc3x8e2V4cGFuZFRlcm06bj0+bixjb21wYWN0SXJpOm49Pm59fWVuc3VyZVJlYWR5KCl7aWYodGhpcy5kYi5zdGF0dXMhPT0ib3BlbiIpdGhyb3cgbmV3IEVycm9yKGBTdG9yZSBpcyBub3QgcmVhZHkgKHN0YXR1czogIiR7dGhpcy5kYi5zdGF0dXN9IikuIERpZCB5b3UgY2FsbCBzdG9yZS5vcGVuKCk/YCl9YXN5bmMgb3Blbigpe3RoaXMuZGIuc3RhdHVzIT09Im9wZW4iJiZhd2FpdCB0aGlzLmRiLm9wZW4oKX1hc3luYyBjbG9zZSgpe3RoaXMuZGIuc3RhdHVzIT09ImNsb3NlZCImJmF3YWl0IHRoaXMuZGIuY2xvc2UoKX10b1N0cmluZygpe3JldHVybiB0aGlzLnRvSlNPTigpfXRvSlNPTigpe3JldHVybmBbb2JqZWN0ICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfTo6JHt0aGlzLmlkfV1gfV9hZGRJbmRleChlKXtjb25zdCBuPWUubWFwKG89Pm8uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpLmpvaW4oIiIpO3RoaXMuaW5kZXhlcy5wdXNoKHt0ZXJtczplLHByZWZpeDpuK3NlcGFyYXRvcn0pfWFzeW5jIGNsZWFyKCl7aWYodHlwZW9mIHRoaXMuZGIuY2xlYXI9PSJmdW5jdGlvbiIpcmV0dXJuIG5ldyBQcm9taXNlKChlLG4pPT57dGhpcy5kYi5jbGVhcihvPT57bz9uKG8pOmUoKX0pfSk7YXdhaXQgdGhpcy5kZWxTdHJlYW0oKGF3YWl0IHRoaXMuZ2V0U3RyZWFtKHt9KSkuaXRlcmF0b3Ise2JhdGNoU2l6ZToyMH0pfW1hdGNoKGUsbixvLGQsaD1lbXB0eU9iamVjdCl7aWYoZSYmZS50ZXJtVHlwZT09PSJMaXRlcmFsIilyZXR1cm4gbmV3IEVtcHR5SXRlcmF0b3I7Y29uc3QgbD17c3ViamVjdDplLHByZWRpY2F0ZTpuLG9iamVjdDpvLGdyYXBoOmR9O3JldHVybiB3cmFwJDEodGhpcy5nZXRTdHJlYW0obCxoKS50aGVuKHU9PnUuaXRlcmF0b3IpKX1hc3luYyBjb3VudFF1YWRzKGUsbixvLGQsaD1lbXB0eU9iamVjdCl7aWYoZSYmZS50ZXJtVHlwZT09PSJMaXRlcmFsIilyZXR1cm4gMDtjb25zdCBsPXtzdWJqZWN0OmUscHJlZGljYXRlOm4sb2JqZWN0Om8sZ3JhcGg6ZH07cmV0dXJuKGF3YWl0IHRoaXMuZ2V0QXBwcm94aW1hdGVTaXplKGwsaCkpLmFwcHJveGltYXRlU2l6ZX1pbXBvcnQoZSl7Y29uc3Qgbj1uZXcgZXZlbnRzRXhwb3J0cy5FdmVudEVtaXR0ZXI7cmV0dXJuIHRoaXMucHV0U3RyZWFtKGUse30pLnRoZW4oKCk9PntuLmVtaXQoImVuZCIpfSkuY2F0Y2gobz0+e24uZW1pdCgiZXJyb3IiLG8pfSksbn1yZW1vdmUoZSl7Y29uc3Qgbj1uZXcgZXZlbnRzRXhwb3J0cy5FdmVudEVtaXR0ZXI7cmV0dXJuIHRoaXMuZGVsU3RyZWFtKGUse30pLnRoZW4oKCk9Pm4uZW1pdCgiZW5kIikpLmNhdGNoKG89Pm4uZW1pdCgiZXJyb3IiLG8pKSxufXJlbW92ZU1hdGNoZXMoZSxuLG8sZCxoPWVtcHR5T2JqZWN0KXtjb25zdCBsPXRoaXMubWF0Y2goZSxuLG8sZCxoKTtyZXR1cm4gdGhpcy5yZW1vdmUobCl9ZGVsZXRlR3JhcGgoZSl7cmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hlcyh2b2lkIDAsdm9pZCAwLHZvaWQgMCxlKX1hc3luYyBnZXRBcHByb3hpbWF0ZVNpemUoZSxuPWVtcHR5T2JqZWN0KXtyZXR1cm4gYXdhaXQgdGhpcy5lbnN1cmVSZWFkeSgpLGF3YWl0IGdldEFwcHJveGltYXRlU2l6ZSh0aGlzLGUsbil9X2JhdGNoUHV0KGUsbil7Y29uc3R7aW5kZXhlczpvLHByZWZpeGVzOmR9PXRoaXM7dHdvU3RlcHNRdWFkV3JpdGVyLmluZ2VzdChlLGQpO2ZvcihsZXQgaD0wLGw9by5sZW5ndGgsdTtoPGw7aCs9MSl7dT1vW2hdO2NvbnN0IHA9dHdvU3RlcHNRdWFkV3JpdGVyLndyaXRlKHUucHJlZml4LHUudGVybXMpO249bi5wdXQocCxlbXB0eVZhbHVlLGxldmVsUHV0T3B0cyl9cmV0dXJuIG59YXN5bmMgcHV0KGUsbj1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0e2luZGV4ZXM6byxkYjpkfT10aGlzO2xldCBoPWQuYmF0Y2goKTtyZXR1cm4gbi5zY29wZSYmKGU9bi5zY29wZS5wYXJzZVF1YWQoZSxoKSksdGhpcy5fYmF0Y2hQdXQoZSxoKSxhd2FpdCB0aGlzLndyaXRlQmF0Y2goaCxuKSx7dHlwZTpSZXN1bHRUeXBlLlZPSUR9fWFzeW5jIG11bHRpUHV0KGUsbj1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0e2luZGV4ZXM6byxkYjpkfT10aGlzO2xldCBoPWQuYmF0Y2goKTtmb3IobGV0IGw9MCx1PWUubGVuZ3RoLHA7bDx1O2wrPTEpcD1lW2xdLG4uc2NvcGUmJihwPW4uc2NvcGUucGFyc2VRdWFkKHAsaCkpLHRoaXMuX2JhdGNoUHV0KHAsaCk7cmV0dXJuIGF3YWl0IHRoaXMud3JpdGVCYXRjaChoLG4pLHt0eXBlOlJlc3VsdFR5cGUuVk9JRH19X2JhdGNoRGVsKGUsbil7Y29uc3R7aW5kZXhlczpvLHByZWZpeGVzOmR9PXRoaXM7dHdvU3RlcHNRdWFkV3JpdGVyLmluZ2VzdChlLGQpO2ZvcihsZXQgaD0wLGw9by5sZW5ndGgsdTtoPGw7aCs9MSl7dT1vW2hdO2NvbnN0IHA9dHdvU3RlcHNRdWFkV3JpdGVyLndyaXRlKHUucHJlZml4LHUudGVybXMpO249bi5kZWwocCxsZXZlbERlbE9wdHMpfXJldHVybiBufWFzeW5jIGRlbChlLG49ZW1wdHlPYmplY3Qpe3RoaXMuZW5zdXJlUmVhZHkoKTtjb25zdCBvPXRoaXMuZGIuYmF0Y2goKTtyZXR1cm4gdGhpcy5fYmF0Y2hEZWwoZSxvKSxhd2FpdCB0aGlzLndyaXRlQmF0Y2gobyxuKSx7dHlwZTpSZXN1bHRUeXBlLlZPSUR9fWFzeW5jIG11bHRpRGVsKGUsbj1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0IG89dGhpcy5kYi5iYXRjaCgpO2ZvcihsZXQgZD0wLGg9ZS5sZW5ndGgsbDtkPGg7ZCs9MSlsPWVbZF0sdGhpcy5fYmF0Y2hEZWwobCxvKTtyZXR1cm4gYXdhaXQgdGhpcy53cml0ZUJhdGNoKG8sbikse3R5cGU6UmVzdWx0VHlwZS5WT0lEfX1hc3luYyBwYXRjaChlLG4sbz1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0e2luZGV4ZXM6ZCxkYjpofT10aGlzLGw9aC5iYXRjaCgpO3JldHVybiB0aGlzLl9iYXRjaERlbChlLGwpLHRoaXMuX2JhdGNoUHV0KG4sbCksYXdhaXQgdGhpcy53cml0ZUJhdGNoKGwsbykse3R5cGU6UmVzdWx0VHlwZS5WT0lEfX1hc3luYyBtdWx0aVBhdGNoKGUsbixvPWVtcHR5T2JqZWN0KXt0aGlzLmVuc3VyZVJlYWR5KCk7Y29uc3R7aW5kZXhlczpkLGRiOmh9PXRoaXM7bGV0IGw9aC5iYXRjaCgpO2ZvcihsZXQgdT0wLHA9ZS5sZW5ndGgsZzt1PHA7dSs9MSlnPWVbdV0sdGhpcy5fYmF0Y2hEZWwoZyxsKTtmb3IobGV0IHU9MCxwPW4ubGVuZ3RoLGc7dTxwO3UrPTEpZz1uW3VdLHRoaXMuX2JhdGNoUHV0KGcsbCk7cmV0dXJuIGF3YWl0IHRoaXMud3JpdGVCYXRjaChsLG8pLHt0eXBlOlJlc3VsdFR5cGUuVk9JRH19YXN5bmMgd3JpdGVCYXRjaChlLG4pe24ucHJlV3JpdGUmJmF3YWl0IG4ucHJlV3JpdGUoZSksYXdhaXQgZS53cml0ZSgpfWFzeW5jIGdldChlLG49ZW1wdHlPYmplY3Qpe3RoaXMuZW5zdXJlUmVhZHkoKTtjb25zdCBvPWF3YWl0IHRoaXMuZ2V0U3RyZWFtKGUsbik7cmV0dXJue2l0ZW1zOmF3YWl0IHN0cmVhbVRvQXJyYXkoby5pdGVyYXRvciksdHlwZTpvLnR5cGUsb3JkZXI6by5vcmRlcixpbmRleDpvLmluZGV4LHJlc29ydGVkOm8ucmVzb3J0ZWR9fWFzeW5jIGdldFN0cmVhbShlLG49ZW1wdHlPYmplY3Qpe3JldHVybiB0aGlzLmVuc3VyZVJlYWR5KCksYXdhaXQgZ2V0U3RyZWFtKHRoaXMsZSxuKX1hc3luYyBwdXRTdHJlYW0oZSxuPWVtcHR5T2JqZWN0KXt0aGlzLmVuc3VyZVJlYWR5KCk7Y29uc3Qgbz1uLmJhdGNoU2l6ZXx8MTtyZXR1cm4gbz09PTE/YXdhaXQgY29uc3VtZU9uZUJ5T25lKGUsZD0+dGhpcy5wdXQoZCxuKSk6YXdhaXQgY29uc3VtZUluQmF0Y2hlcyhlLG8sZD0+dGhpcy5tdWx0aVB1dChkLG4pKSx7dHlwZTpSZXN1bHRUeXBlLlZPSUR9fWFzeW5jIGRlbFN0cmVhbShlLG49ZW1wdHlPYmplY3Qpe3RoaXMuZW5zdXJlUmVhZHkoKTtjb25zdCBvPW4uYmF0Y2hTaXplfHwxO3JldHVybiBvPT09MT9hd2FpdCBjb25zdW1lT25lQnlPbmUoZSxkPT50aGlzLmRlbChkKSk6YXdhaXQgY29uc3VtZUluQmF0Y2hlcyhlLG8sZD0+dGhpcy5tdWx0aURlbChkKSkse3R5cGU6UmVzdWx0VHlwZS5WT0lEfX1hc3luYyBpbml0U2NvcGUoKXtyZXR1cm4gYXdhaXQgdGhpcy5lbnN1cmVSZWFkeSgpLGF3YWl0IFNjb3BlLmluaXQodGhpcyl9YXN5bmMgbG9hZFNjb3BlKGUpe3JldHVybiBhd2FpdCB0aGlzLmVuc3VyZVJlYWR5KCksYXdhaXQgU2NvcGUubG9hZCh0aGlzLGUpfWFzeW5jIGRlbGV0ZVNjb3BlKGUpe2F3YWl0IHRoaXMuZW5zdXJlUmVhZHkoKSxhd2FpdCBTY29wZS5kZWxldGUodGhpcyxlKX1hc3luYyBkZWxldGVBbGxTY29wZXMoKXthd2FpdCB0aGlzLmVuc3VyZVJlYWR5KCksYXdhaXQgU2NvcGUuZGVsZXRlKHRoaXMpfX12YXIgc3BhcnFsYWxnZWJyYWpzPXt9LHNwYXJxbEFsZ2VicmE9e30sZXM2PWZ1bmN0aW9uIHQoZSxuKXtpZihlPT09bilyZXR1cm4hMDtpZihlJiZuJiZ0eXBlb2YgZT09Im9iamVjdCImJnR5cGVvZiBuPT0ib2JqZWN0Iil7aWYoZS5jb25zdHJ1Y3RvciE9PW4uY29uc3RydWN0b3IpcmV0dXJuITE7dmFyIG8sZCxoO2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKG89ZS5sZW5ndGgsbyE9bi5sZW5ndGgpcmV0dXJuITE7Zm9yKGQ9bztkLS0hPT0wOylpZighdChlW2RdLG5bZF0pKXJldHVybiExO3JldHVybiEwfWlmKGUgaW5zdGFuY2VvZiBNYXAmJm4gaW5zdGFuY2VvZiBNYXApe2lmKGUuc2l6ZSE9PW4uc2l6ZSlyZXR1cm4hMTtmb3IoZCBvZiBlLmVudHJpZXMoKSlpZighbi5oYXMoZFswXSkpcmV0dXJuITE7Zm9yKGQgb2YgZS5lbnRyaWVzKCkpaWYoIXQoZFsxXSxuLmdldChkWzBdKSkpcmV0dXJuITE7cmV0dXJuITB9aWYoZSBpbnN0YW5jZW9mIFNldCYmbiBpbnN0YW5jZW9mIFNldCl7aWYoZS5zaXplIT09bi5zaXplKXJldHVybiExO2ZvcihkIG9mIGUuZW50cmllcygpKWlmKCFuLmhhcyhkWzBdKSlyZXR1cm4hMTtyZXR1cm4hMH1pZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkmJkFycmF5QnVmZmVyLmlzVmlldyhuKSl7aWYobz1lLmxlbmd0aCxvIT1uLmxlbmd0aClyZXR1cm4hMTtmb3IoZD1vO2QtLSE9PTA7KWlmKGVbZF0hPT1uW2RdKXJldHVybiExO3JldHVybiEwfWlmKGUuY29uc3RydWN0b3I9PT1SZWdFeHApcmV0dXJuIGUuc291cmNlPT09bi5zb3VyY2UmJmUuZmxhZ3M9PT1uLmZsYWdzO2lmKGUudmFsdWVPZiE9PU9iamVjdC5wcm90b3R5cGUudmFsdWVPZilyZXR1cm4gZS52YWx1ZU9mKCk9PT1uLnZhbHVlT2YoKTtpZihlLnRvU3RyaW5nIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZylyZXR1cm4gZS50b1N0cmluZygpPT09bi50b1N0cmluZygpO2lmKGg9T2JqZWN0LmtleXMoZSksbz1oLmxlbmd0aCxvIT09T2JqZWN0LmtleXMobikubGVuZ3RoKXJldHVybiExO2ZvcihkPW87ZC0tIT09MDspaWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGhbZF0pKXJldHVybiExO2ZvcihkPW87ZC0tIT09MDspe3ZhciBsPWhbZF07aWYoIXQoZVtsXSxuW2xdKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4gZSE9PWUmJm4hPT1ufSxyZGZTdHJpbmc9e30sVGVybVV0aWwkMT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVybVV0aWwkMSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7VGVybVV0aWwkMS5zdHJpbmdRdWFkVG9RdWFkPVRlcm1VdGlsJDEucXVhZFRvU3RyaW5nUXVhZD1UZXJtVXRpbCQxLnN0cmluZ1RvVGVybT1UZXJtVXRpbCQxLmdldExpdGVyYWxMYW5ndWFnZT1UZXJtVXRpbCQxLmdldExpdGVyYWxUeXBlPVRlcm1VdGlsJDEuZ2V0TGl0ZXJhbFZhbHVlPVRlcm1VdGlsJDEudGVybVRvU3RyaW5nPXZvaWQgMDtjb25zdCByZGZfZGF0YV9mYWN0b3J5XzEkMj1yZGZEYXRhRmFjdG9yeSxGQUNUT1JZPW5ldyByZGZfZGF0YV9mYWN0b3J5XzEkMi5EYXRhRmFjdG9yeTtmdW5jdGlvbiB0ZXJtVG9TdHJpbmcodCl7aWYodClzd2l0Y2godC50ZXJtVHlwZSl7Y2FzZSJOYW1lZE5vZGUiOnJldHVybiB0LnZhbHVlO2Nhc2UiQmxhbmtOb2RlIjpyZXR1cm4iXzoiK3QudmFsdWU7Y2FzZSJMaXRlcmFsIjpjb25zdCBlPXQ7cmV0dXJuJyInK2UudmFsdWUrJyInKyhlLmRhdGF0eXBlJiZlLmRhdGF0eXBlLnZhbHVlIT09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZyImJmUuZGF0YXR5cGUudmFsdWUhPT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciPyJeXiIrZS5kYXRhdHlwZS52YWx1ZToiIikrKGUubGFuZ3VhZ2U/IkAiK2UubGFuZ3VhZ2U6IiIpO2Nhc2UiUXVhZCI6cmV0dXJuYDw8JHt0ZXJtVG9TdHJpbmcodC5zdWJqZWN0KX0gJHt0ZXJtVG9TdHJpbmcodC5wcmVkaWNhdGUpfSAke3Rlcm1Ub1N0cmluZyh0Lm9iamVjdCl9JHt0LmdyYXBoLnRlcm1UeXBlPT09IkRlZmF1bHRHcmFwaCI/IiI6IiAiK3Rlcm1Ub1N0cmluZyh0LmdyYXBoKX0+PmA7Y2FzZSJWYXJpYWJsZSI6cmV0dXJuIj8iK3QudmFsdWU7Y2FzZSJEZWZhdWx0R3JhcGgiOnJldHVybiB0LnZhbHVlfX1UZXJtVXRpbCQxLnRlcm1Ub1N0cmluZz10ZXJtVG9TdHJpbmc7ZnVuY3Rpb24gZ2V0TGl0ZXJhbFZhbHVlKHQpe2NvbnN0IGU9L14iKFteXSopIi8uZXhlYyh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhIGxpdGVyYWwiKTtyZXR1cm4gZVsxXX1UZXJtVXRpbCQxLmdldExpdGVyYWxWYWx1ZT1nZXRMaXRlcmFsVmFsdWU7ZnVuY3Rpb24gZ2V0TGl0ZXJhbFR5cGUodCl7Y29uc3QgZT0vXiJbXl0qIig/OlxeXF4oW14iXSspfChAKVteQCJdKyk/JC8uZXhlYyh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhIGxpdGVyYWwiKTtyZXR1cm4gZVsxXXx8KGVbMl0/Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNsYW5nU3RyaW5nIjoiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIil9VGVybVV0aWwkMS5nZXRMaXRlcmFsVHlwZT1nZXRMaXRlcmFsVHlwZTtmdW5jdGlvbiBnZXRMaXRlcmFsTGFuZ3VhZ2UodCl7Y29uc3QgZT0vXiJbXl0qIig/OkAoW15AIl0rKXxcXlxeW14iXSspPyQvLmV4ZWModCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKHQrIiBpcyBub3QgYSBsaXRlcmFsIik7cmV0dXJuIGVbMV0/ZVsxXS50b0xvd2VyQ2FzZSgpOiIifVRlcm1VdGlsJDEuZ2V0TGl0ZXJhbExhbmd1YWdlPWdldExpdGVyYWxMYW5ndWFnZTtmdW5jdGlvbiBzdHJpbmdUb1Rlcm0odCxlKXtpZihlPWV8fEZBQ1RPUlksIXR8fCF0Lmxlbmd0aClyZXR1cm4gZS5kZWZhdWx0R3JhcGgoKTtzd2l0Y2godFswXSl7Y2FzZSJfIjpyZXR1cm4gZS5ibGFua05vZGUodC5zdWJzdHIoMikpO2Nhc2UiPyI6aWYoIWUudmFyaWFibGUpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nICd2YXJpYWJsZSgpJyBtZXRob2Qgb24gdGhlIGdpdmVuIERhdGFGYWN0b3J5Iik7cmV0dXJuIGUudmFyaWFibGUodC5zdWJzdHIoMSkpO2Nhc2UnIic6Y29uc3Qgbj1nZXRMaXRlcmFsTGFuZ3VhZ2UodCksbz1lLm5hbWVkTm9kZShnZXRMaXRlcmFsVHlwZSh0KSk7cmV0dXJuIGUubGl0ZXJhbChnZXRMaXRlcmFsVmFsdWUodCksbnx8byk7Y2FzZSI8IjpkZWZhdWx0OmlmKHQuc3RhcnRzV2l0aCgiPDwiKSYmdC5lbmRzV2l0aCgiPj4iKSl7Y29uc3QgZD10LnNsaWNlKDIsLTIpLnRyaW0oKTtsZXQgaD1bXSxsPTAsdT0wLHA9ITE7Zm9yKGxldCBnPTA7ZzxkLmxlbmd0aDtnKyspe2NvbnN0IHY9ZFtnXTtpZih2PT09IjwiJiZsKyssdj09PSI+Iil7aWYobD09PTApdGhyb3cgbmV3IEVycm9yKCJGb3VuZCBjbG9zaW5nIHRhZyB3aXRob3V0IG9wZW5pbmcgdGFnIGluICIrdCk7bC0tfWlmKHY9PT0nIicpe2xldCBiPSExLF89Zztmb3IoO18tLSA+MCYmZFtfXT09PSJcXCI7KWI9IWI7Ynx8KHA9IXApfWlmKHY9PT0iICImJiFwJiZsPT09MCl7Zm9yKGgucHVzaChkLnNsaWNlKHUsZykpO2RbZysxXT09PSIgIjspZys9MTt1PWcrMX19aWYobCE9PTApdGhyb3cgbmV3IEVycm9yKCJGb3VuZCBvcGVuaW5nIHRhZyB3aXRob3V0IGNsb3NpbmcgdGFnIGluICIrdCk7aWYoaC5wdXNoKGQuc2xpY2UodSxkLmxlbmd0aCkpLGgubGVuZ3RoIT09MyYmaC5sZW5ndGghPT00KXRocm93IG5ldyBFcnJvcigiTmVzdGVkIHF1YWQgc3ludGF4IGVycm9yICIrdCk7cmV0dXJuIGg9aC5tYXAoZz0+Zy5zdGFydHNXaXRoKCI8IikmJiFnLmluY2x1ZGVzKCIgIik/Zy5zbGljZSgxLC0xKTpnKSxlLnF1YWQoc3RyaW5nVG9UZXJtKGhbMF0pLHN0cmluZ1RvVGVybShoWzFdKSxzdHJpbmdUb1Rlcm0oaFsyXSksaFszXT9zdHJpbmdUb1Rlcm0oaFszXSk6dm9pZCAwKX1yZXR1cm4gZS5uYW1lZE5vZGUodCl9fVRlcm1VdGlsJDEuc3RyaW5nVG9UZXJtPXN0cmluZ1RvVGVybTtmdW5jdGlvbiBxdWFkVG9TdHJpbmdRdWFkKHQpe3JldHVybntzdWJqZWN0OnRlcm1Ub1N0cmluZyh0LnN1YmplY3QpLHByZWRpY2F0ZTp0ZXJtVG9TdHJpbmcodC5wcmVkaWNhdGUpLG9iamVjdDp0ZXJtVG9TdHJpbmcodC5vYmplY3QpLGdyYXBoOnRlcm1Ub1N0cmluZyh0LmdyYXBoKX19VGVybVV0aWwkMS5xdWFkVG9TdHJpbmdRdWFkPXF1YWRUb1N0cmluZ1F1YWQ7ZnVuY3Rpb24gc3RyaW5nUXVhZFRvUXVhZCh0LGUpe3JldHVybiBlPWV8fEZBQ1RPUlksZS5xdWFkKHN0cmluZ1RvVGVybSh0LnN1YmplY3QsZSksc3RyaW5nVG9UZXJtKHQucHJlZGljYXRlLGUpLHN0cmluZ1RvVGVybSh0Lm9iamVjdCxlKSxzdHJpbmdUb1Rlcm0odC5ncmFwaCxlKSl9VGVybVV0aWwkMS5zdHJpbmdRdWFkVG9RdWFkPXN0cmluZ1F1YWRUb1F1YWQ7KGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnRlcm1Ub1N0cmluZz10LnN0cmluZ1RvVGVybT10LnN0cmluZ1F1YWRUb1F1YWQ9dC5xdWFkVG9TdHJpbmdRdWFkPXQuZ2V0TGl0ZXJhbFZhbHVlPXQuZ2V0TGl0ZXJhbFR5cGU9dC5nZXRMaXRlcmFsTGFuZ3VhZ2U9dm9pZCAwO2NvbnN0IGU9VGVybVV0aWwkMTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZ2V0TGl0ZXJhbExhbmd1YWdlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRMaXRlcmFsTGFuZ3VhZ2V9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImdldExpdGVyYWxUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRMaXRlcmFsVHlwZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZ2V0TGl0ZXJhbFZhbHVlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRMaXRlcmFsVmFsdWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInF1YWRUb1N0cmluZ1F1YWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLnF1YWRUb1N0cmluZ1F1YWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInN0cmluZ1F1YWRUb1F1YWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLnN0cmluZ1F1YWRUb1F1YWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInN0cmluZ1RvVGVybSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RyaW5nVG9UZXJtfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0ZXJtVG9TdHJpbmciLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLnRlcm1Ub1N0cmluZ319KX0pKHJkZlN0cmluZyk7dmFyIGFsZ2VicmE9e307KGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmV4cHJlc3Npb25UeXBlcz10LnR5cGVzPXZvaWQgMCxmdW5jdGlvbihlKXtlLkFMVD0iYWx0IixlLkFTSz0iYXNrIixlLkJHUD0iYmdwIixlLkNPTlNUUlVDVD0iY29uc3RydWN0IixlLkRFU0NSSUJFPSJkZXNjcmliZSIsZS5ESVNUSU5DVD0iZGlzdGluY3QiLGUuRVhQUkVTU0lPTj0iZXhwcmVzc2lvbiIsZS5FWFRFTkQ9ImV4dGVuZCIsZS5GSUxURVI9ImZpbHRlciIsZS5GUk9NPSJmcm9tIixlLkdSQVBIPSJncmFwaCIsZS5HUk9VUD0iZ3JvdXAiLGUuSU5WPSJpbnYiLGUuSk9JTj0iam9pbiIsZS5MRUZUX0pPSU49ImxlZnRqb2luIixlLkxJTks9ImxpbmsiLGUuTUlOVVM9Im1pbnVzIixlLk5PUD0ibm9wIixlLk5QUz0ibnBzIixlLk9ORV9PUl9NT1JFX1BBVEg9Ik9uZU9yTW9yZVBhdGgiLGUuT1JERVJfQlk9Im9yZGVyYnkiLGUuUEFUSD0icGF0aCIsZS5QQVRURVJOPSJwYXR0ZXJuIixlLlBST0pFQ1Q9InByb2plY3QiLGUuUkVEVUNFRD0icmVkdWNlZCIsZS5TRVE9InNlcSIsZS5TRVJWSUNFPSJzZXJ2aWNlIixlLlNMSUNFPSJzbGljZSIsZS5VTklPTj0idW5pb24iLGUuVkFMVUVTPSJ2YWx1ZXMiLGUuWkVST19PUl9NT1JFX1BBVEg9Ilplcm9Pck1vcmVQYXRoIixlLlpFUk9fT1JfT05FX1BBVEg9Ilplcm9Pck9uZVBhdGgiLGUuQ09NUE9TSVRFX1VQREFURT0iY29tcG9zaXRldXBkYXRlIixlLkRFTEVURV9JTlNFUlQ9ImRlbGV0ZWluc2VydCIsZS5MT0FEPSJsb2FkIixlLkNMRUFSPSJjbGVhciIsZS5DUkVBVEU9ImNyZWF0ZSIsZS5EUk9QPSJkcm9wIixlLkFERD0iYWRkIixlLk1PVkU9Im1vdmUiLGUuQ09QWT0iY29weSJ9KHQudHlwZXN8fCh0LnR5cGVzPXt9KSksZnVuY3Rpb24oZSl7ZS5BR0dSRUdBVEU9ImFnZ3JlZ2F0ZSIsZS5FWElTVEVOQ0U9ImV4aXN0ZW5jZSIsZS5OQU1FRD0ibmFtZWQiLGUuT1BFUkFUT1I9Im9wZXJhdG9yIixlLlRFUk09InRlcm0iLGUuV0lMRENBUkQ9IndpbGRjYXJkIn0odC5leHByZXNzaW9uVHlwZXN8fCh0LmV4cHJlc3Npb25UeXBlcz17fSkpfSkoYWxnZWJyYSk7dmFyIGZhY3RvcnkkMj17fSxXaWxkY2FyZCQyPXt9O2xldCBXaWxkY2FyZCQxPWNsYXNze2NvbnN0cnVjdG9yKCl7cmV0dXJuIFdJTERDQVJEfHx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy50ZXJtVHlwZT09PWUudGVybVR5cGV9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoV2lsZGNhcmQkMS5wcm90b3R5cGUsInZhbHVlIix7ZW51bWVyYWJsZTohMCx2YWx1ZToiKiJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoV2lsZGNhcmQkMS5wcm90b3R5cGUsInRlcm1UeXBlIix7ZW51bWVyYWJsZTohMCx2YWx1ZToiV2lsZGNhcmQifSk7dmFyIFdJTERDQVJEPW5ldyBXaWxkY2FyZCQxO1dpbGRjYXJkJDIuV2lsZGNhcmQ9V2lsZGNhcmQkMTt2YXIgU3BhcnFsUGFyc2VyPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oQWUsVGUsamUsUGUpe2ZvcihqZT1qZXx8e30sUGU9QWUubGVuZ3RoO1BlLS07amVbQWVbUGVdXT1UZSk7cmV0dXJuIGplfSxlPVs2LDEyLDEzLDE1LDE2LDI4LDM1LDQxLDUwLDU1LDEwNywxMTcsMTIwLDEyMiwxMjMsMTMyLDEzMywxMzgsMTk1LDIxOSwyMjQsMzEyLDMyMiwzMjMsMzI0LDMyNSwzMjZdLG49WzIsMjExXSxvPVsxMDcsMTE3LDEyMCwxMjIsMTIzLDEzMiwxMzMsMTM4LDMyMiwzMjMsMzI0LDMyNSwzMjZdLGQ9WzIsMzg5XSxoPVsxLDIyXSxsPVsxLDMxXSx1PVsxMywxNiwzNSwxOTUsMjE5LDIyNCwzMTJdLHA9WzYsOTBdLGc9WzQ1LDQ2LDU4XSx2PVs0NSw1OF0sYj1bMSw2Ml0sXz1bMSw2NF0sTz1bMSw2MF0sVD1bMSw2M10saj1bMSw2OV0sTj1bMSw3MF0sQj1bMjYsMzQsMzVdLEM9WzEzLDE2LDM1LDE5NSwyMTksMzEyXSxMPVsxMywxNiwzMTJdLFM9WzExOSwxNDEsMzIwLDMyN10sUD1bMTMsMTYsMTE5LDE0MSwzMTJdLEY9WzEsOTZdLGs9WzEsMTAwXSxKPVsxLDEwMl0sYWU9WzExOSwxNDEsMzIwLDMyMSwzMjddLHE9WzEzLDE2LDExOSwxNDEsMzEyLDMyMV0sRz1bMSwxMDhdLHJlPVsyLDI1M10sTT1bMSwxMDddLCQ9WzEzLDE2LDM0LDM1LDg3LDkzLDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSxVPVs2LDQ1LDQ2LDU4LDY4LDc1LDc4LDg2LDg4LDkwXSxIPVs2LDEzLDE2LDM0LDQ1LDQ2LDU4LDY4LDc1LDc4LDg2LDg4LDkwLDMxMl0sZWU9WzYsMTMsMTYsMjYsMzQsMzUsMzcsMzgsNDUsNDYsNDgsNTgsNjgsNzUsNzgsODYsODcsODgsOTAsOTMsMTAwLDExNiwxMTksMTMyLDEzMywxMzUsMTQwLDE2NywxNjgsMTcwLDE3MywxNzQsMTkxLDE5NSwyMTksMjI0LDIyNiwyMjcsMjMxLDIzNSwyNDUsMjQ2LDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc4LDI5NSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOCwzMzAsMzMxLDMzMywzMzQsMzM1LDMzNiwzMzcsMzM4LDMzOV0sZ2U9WzM0LDM1LDQ1LDQ2LDU4XSxtZT1bMSwxMzldLGZlPVsxLDE0MF0saGU9WzEsMTUxXSxfZT1bMSwxMzFdLHhlPVsxLDEyNV0sTmU9WzEsMTMwXSxJZT1bMSwxMzJdLFJlPVsxLDE0Ml0sdmU9WzEsMTQzXSxDZT1bMSwxNDRdLE1lPVsxLDE0NV0sVWU9WzEsMTQ3XSxGZT1bMSwxNDhdLCRlPVsyLDQ2MV0sWD1bMSwxNTddLG9lPVsxLDE1OF0sUT1bMSwxNTldLFk9WzEsMTUyXSxpZT1bMSwxNTNdLHNlPVsxLDE1Nl0sbGU9WzEsMTY2XSxuZT1bMSwxNjddLHVlPVsxLDE2OF0sZGU9WzEsMTY5XSxwZT1bMSwxNzBdLGJlPVsxLDE3MV0sd2U9WzEsMTcyXSxPZT1bMSwxNzNdLEk9WzEsMTc0XSx3PVsxLDE3NV0sRT1bMSwxNjVdLEQ9WzEsMTYwXSxWPVsxLDE2MV0sWj1bMSwxNjJdLGNlPVsxLDE2M10sU2U9WzEsMTY0XSxrZT1bNiwxMywxNiwzNCwzNSw0Niw0OCw4Nyw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwyMjYsMjMxLDI0NSwyNDYsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLEJlPVsyLDMxMl0sRGU9WzEsMTk5XSxMZT1bMSwxOTddLEtlPVs2LDE5MV0sSmU9WzIsMzI5XSx6dD1bMiwzMTddLHl0PVs0NSwxMzVdLHllPVs2LDQ4LDc4LDg2LDg4LDkwXSxFZT1bMiwyNTddLFhlPVsxLDIxM10scWU9WzEsMjE1XSxZZT1bNiw0OCw3NSw3OCw4Niw4OCw5MF0sWHQ9WzIsMjU1XSxxdD1bMSwyMjFdLGh0PVsxLDIzM10sbnI9WzEsMjMxXSxydD1bMSwyMzldLGlyPVsxLDIzMl0sbnQ9WzEsMjM3XSxpdD1bMSwyMzhdLFhyPVs2LDY4LDc1LDc4LDg2LDg4LDkwXSxocj1bMzcsMzgsMTkxLDI1MCwyNzhdLEt0PVszNywzOCwxOTEsMjUwLDI1NCwyNzhdLFd0PVszNywzOCwxOTEsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzgsMjk1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5XSxhdD1bMjYsMzcsMzgsMTkxLDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc4LDI5NSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMzEsMzM0LDMzNSwzMzYsMzM3LDMzOCwzMzldLHFyPVsxLDI2N10sS3I9WzEsMjY2XSxzdD1bNiwxMywxNiwyNiwzNCwzNSwzNywzOCw0Niw0OCw3NSw3OCw4MSw4Myw4Niw4Nyw4OCw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMjI2LDIzMSwyNDUsMjQ2LDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc1LDI3NiwyNzcsMjc4LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwyOTUsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjgsMzMxLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5LDM0MCwzNDEsMzQyLDM0MywzNDRdLFdyPVsxLDI3NV0sSnI9WzEsMjc0XSxjdD1bMTMsMTYsMjYsMzQsMzUsMzcsMzgsNDYsNDgsODcsOTAsOTMsMTAwLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwxOTUsMjE5LDIyNCwyMjYsMjI3LDIzMSwyMzUsMjQ1LDI0NiwyNTAsMjU0LDI1OCwyNzEsMjczLDI3OCwyOTUsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjgsMzMxLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5XSxhcj1bMzUsOTNdLHByPVsxMywxNiwyNiwzNCwzNSwzNywzOCw0Niw0OCw4Nyw5MCw5MywxMDAsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMTkxLDE5NSwyMTksMjI0LDIyNiwyMjcsMjMxLDIzNSwyNDUsMjQ2LDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc4LDI5NSwyOTcsMjk4LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzI4LDMzMSwzMzQsMzM1LDMzNiwzMzcsMzM4LDMzOV0sWXI9WzEzLDE2LDQ4LDg3LDEwMCwyMzEsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMl0sWnI9WzQ4LDkzXSxlbj1bMzQsMzhdLEJ0PVs2LDEzLDE2LDM0LDM1LDM4LDg3LDkzLDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMzMCwzMzFdLGJ0PVs2LDEzLDE2LDI2LDM0LDM1LDM4LDg3LDkzLDIyNiwyMzEsMjQ1LDI0NiwyNzEsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMzAsMzMxLDMzM10sdG49WzEsMjk5XSxybj1bMSwzMDBdLG5uPVs2LDExNiwxOTFdLER0PVs0OCwxMTldLElyPVs2LDQ4LDg2LDg4LDkwXSxhbj1bMiwzNDFdLFR0PVsyLDMzM10seHQ9WzEsMzQwXSxJdD1bMSwzNDJdLHNyPVs0OCwxMTksMzI4XSxfdD1bMTMsMTYsMzQsMTk1LDMxMl0sRnQ9WzEzLDE2LDM0LDM1LDM4LDQ2LDQ4LDg3LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwxOTUsMjE5LDIyNCwyMjYsMjI3LDIzMSwyMzUsMjQ1LDI0NiwyNzgsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLHR0PVsxMywxNiwzNCwzNSw4NywyMTksMjcxLDI3MywyNzUsMjc2LDI3NywyNzksMjgxLDI4MiwyODQsMjg1LDI4OCwyOTAsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sTnI9WzEsMzc0XSxScj1bMSwzNzVdLHNuPVsxMywxNiwyNiwzNCwzNSw4NywyMTksMjcxLDI3MywyNzUsMjc2LDI3NywyNzksMjgxLDI4MiwyODQsMjg1LDI4OCwyOTAsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sUHI9WzEsMzk4XSxNdD1bMSwzOTldLG9uPVsxMywxNiwzOCwxOTUsMjI0LDMxMl0sdW49WzEsNDE2XSxOdD1bNiw0OCw5MF0sY249WzYsMTMsMTYsMzUsNDgsNzgsODYsODgsOTAsMjc1LDI3NiwyNzcsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDMxMiwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sTHI9WzYsMTMsMTYsMzQsMzUsNDYsNDgsNzgsODEsODMsODYsODcsODgsOTAsOTMsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMjI2LDIzMSwyNDUsMjQ2LDI3NSwyNzYsMjc3LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOCwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sa3Q9WzQ2LDQ4LDkwLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0XSxvcj1bMSw0MzVdLHVyPVsxLDQzNl0sbG49WzEsNDQyXSxkbj1bMSw0NDFdLCR0PVs0OCwxMTksMTkxLDIyNywzMjhdLG1yPVsxMywxNiwzNCwzNSwzOCw4Nyw5MywyMjYsMjMxLDI0NSwyNDYsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMl0seXI9WzEzLDE2LDM0LDM1LDM4LDQ4LDg3LDkzLDExOSwxOTEsMjI2LDIyNywyMzEsMjQ1LDI0NiwyNzgsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLGdyPVsxMywxNiwzOCw0OCw4NywxMDAsMjMxLDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLENyPVszNSw0OF0sZm49WzIsMzMyXSxobj1bMSw0OTddLHBuPVsxLDQ5NF0sbW49WzEsNDk1XSx5bj1bNiwxMywxNiwyNiwzNCwzNSwzNywzOCw0Niw0OCw2OCw3NSw3OCw4MSw4Myw4Niw4Nyw4OCw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMjI2LDIzMSwyNDUsMjQ2LDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc1LDI3NiwyNzcsMjc4LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwyOTUsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjgsMzI5LDMzMSwzMzQsMzM1LDMzNiwzMzcsMzM4LDMzOSwzNDAsMzQxLDM0MiwzNDMsMzQ0XSxCcj1bMSw1MTVdLGJyPVs0Niw0OCw5MCwxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwzMjhdLGduPVsxMywxNiwzNCwzNSwxOTUsMjE5LDIyNCwzMTJdLFV0PVs2LDEzLDE2LDM0LDM1LDQ4LDc1LDc4LDg2LDg4LDkwLDI3NSwyNzYsMjc3LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwzMTIsMzM5LDM0MCwzNDEsMzQyLDM0MywzNDRdLGJuPVsxMywxNiwzNCwzNSwzOCw0OCw4Nyw5MywxMTksMTkxLDE5NSwyMjYsMjI3LDIzMSwyNDUsMjQ2LDI3OCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOF0sSnQ9WzYsMTMsMTYsMzQsMzUsNDgsODEsODMsODYsODgsOTAsMjc1LDI3NiwyNzcsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDMxMiwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sX249WzEzLDE2LDM0LDM1LDQ2LDQ4LDg3LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSx2bj1bMTMsMTYsMzQsMzEyXSxBdD1bMTMsMTYsMzQsMzUsNDYsNDgsODcsOTAsOTMsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzI4XSxPdD1bMiwzNDRdLF9yPVsxMywxNiwzNCwzNSwzOCw0Niw0OCw4Nyw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMjI2LDIyNywyMzEsMjQ1LDI0NiwyNzgsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLHduPVsxMywxNiwzNCwzNSwzNywzOCw0Niw0OCw4Nyw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMTk1LDIxOSwyMjQsMjI2LDIyNywyMzEsMjM1LDI0NSwyNDYsMjc4LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzI4XSxTdD1bMiwzMzldLEVuPVsxMywxNiwzNCwzNSwzOCw0Niw0OCw4Nyw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMTk1LDIxOSwyMjQsMjI2LDIyNywyMzEsMjQ1LDI0NiwyNzgsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLFRuPVsxMywxNiwzOCw4NywxMDAsMjMxLDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLGNyPVs0Niw0OCw5MCwxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMjI3LDMyOF0sQW49WzEzLDE2LDM0LDM4LDQ4LDg3LDEwMCwxOTUsMjMxLDIzNSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSxPbj1bMTMsMTYsMzQsMzUsNDgsODcsOTMsMTE5LDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSxTbj1bMiwzMjddLERyPXt0cmFjZTpmdW5jdGlvbigpe30seXk6e30sc3ltYm9sc186e2Vycm9yOjIsUXVlcnlPclVwZGF0ZTozLFByb2xvZ3VlOjQsUXVlcnlPclVwZGF0ZV9ncm91cDA6NSxFT0Y6NixQcm9sb2d1ZV9yZXBldGl0aW9uMDo3LFF1ZXJ5OjgsUXVlcnlfZ3JvdXAwOjksUXVlcnlfb3B0aW9uMDoxMCxCYXNlRGVjbDoxMSxCQVNFOjEyLElSSVJFRjoxMyxQcmVmaXhEZWNsOjE0LFBSRUZJWDoxNSxQTkFNRV9OUzoxNixTZWxlY3RRdWVyeToxNyxTZWxlY3RDbGF1c2VXaWxkY2FyZDoxOCxTZWxlY3RRdWVyeV9yZXBldGl0aW9uMDoxOSxXaGVyZUNsYXVzZToyMCxTb2x1dGlvbk1vZGlmaWVyTm9Hcm91cDoyMSxTZWxlY3RDbGF1c2VWYXJzOjIyLFNlbGVjdFF1ZXJ5X3JlcGV0aXRpb24xOjIzLFNvbHV0aW9uTW9kaWZpZXI6MjQsU2VsZWN0Q2xhdXNlQmFzZToyNSwiKiI6MjYsU2VsZWN0Q2xhdXNlVmFyc19yZXBldGl0aW9uX3BsdXMwOjI3LFNFTEVDVDoyOCxTZWxlY3RDbGF1c2VCYXNlX29wdGlvbjA6MjksU3ViU2VsZWN0OjMwLFN1YlNlbGVjdF9vcHRpb24wOjMxLFN1YlNlbGVjdF9vcHRpb24xOjMyLFNlbGVjdENsYXVzZUl0ZW06MzMsVkFSOjM0LCIoIjozNSxFeHByZXNzaW9uOjM2LEFTOjM3LCIpIjozOCxWYXJUcmlwbGU6MzksQ29uc3RydWN0UXVlcnk6NDAsQ09OU1RSVUNUOjQxLENvbnN0cnVjdFRlbXBsYXRlOjQyLENvbnN0cnVjdFF1ZXJ5X3JlcGV0aXRpb24wOjQzLENvbnN0cnVjdFF1ZXJ5X3JlcGV0aXRpb24xOjQ0LFdIRVJFOjQ1LCJ7Ijo0NixDb25zdHJ1Y3RRdWVyeV9vcHRpb24wOjQ3LCJ9Ijo0OCxEZXNjcmliZVF1ZXJ5OjQ5LERFU0NSSUJFOjUwLERlc2NyaWJlUXVlcnlfZ3JvdXAwOjUxLERlc2NyaWJlUXVlcnlfcmVwZXRpdGlvbjA6NTIsRGVzY3JpYmVRdWVyeV9vcHRpb24wOjUzLEFza1F1ZXJ5OjU0LEFTSzo1NSxBc2tRdWVyeV9yZXBldGl0aW9uMDo1NixEYXRhc2V0Q2xhdXNlOjU3LEZST006NTgsRGF0YXNldENsYXVzZV9vcHRpb24wOjU5LGlyaTo2MCxXaGVyZUNsYXVzZV9vcHRpb24wOjYxLEdyb3VwR3JhcGhQYXR0ZXJuOjYyLFNvbHV0aW9uTW9kaWZpZXJfb3B0aW9uMDo2MyxTb2x1dGlvbk1vZGlmaWVyTm9Hcm91cF9vcHRpb24wOjY0LFNvbHV0aW9uTW9kaWZpZXJOb0dyb3VwX29wdGlvbjE6NjUsU29sdXRpb25Nb2RpZmllck5vR3JvdXBfb3B0aW9uMjo2NixHcm91cENsYXVzZTo2NyxHUk9VUDo2OCxCWTo2OSxHcm91cENsYXVzZV9yZXBldGl0aW9uX3BsdXMwOjcwLEdyb3VwQ29uZGl0aW9uOjcxLEJ1aWx0SW5DYWxsOjcyLEZ1bmN0aW9uQ2FsbDo3MyxIYXZpbmdDbGF1c2U6NzQsSEFWSU5HOjc1LEhhdmluZ0NsYXVzZV9yZXBldGl0aW9uX3BsdXMwOjc2LE9yZGVyQ2xhdXNlOjc3LE9SREVSOjc4LE9yZGVyQ2xhdXNlX3JlcGV0aXRpb25fcGx1czA6NzksT3JkZXJDb25kaXRpb246ODAsQVNDOjgxLEJyYWNrZXR0ZWRFeHByZXNzaW9uOjgyLERFU0M6ODMsQ29uc3RyYWludDo4NCxMaW1pdE9mZnNldENsYXVzZXM6ODUsTElNSVQ6ODYsSU5URUdFUjo4NyxPRkZTRVQ6ODgsVmFsdWVzQ2xhdXNlOjg5LFZBTFVFUzo5MCxJbmxpbmVEYXRhOjkxLElubGluZURhdGFfcmVwZXRpdGlvbjA6OTIsTklMOjkzLElubGluZURhdGFfcmVwZXRpdGlvbjE6OTQsSW5saW5lRGF0YV9yZXBldGl0aW9uX3BsdXMyOjk1LElubGluZURhdGFfcmVwZXRpdGlvbjM6OTYsRGF0YUJsb2NrVmFsdWU6OTcsTGl0ZXJhbDo5OCxDb25zdFRyaXBsZTo5OSxVTkRFRjoxMDAsRGF0YUJsb2NrVmFsdWVMaXN0OjEwMSxEYXRhQmxvY2tWYWx1ZUxpc3RfcmVwZXRpdGlvbl9wbHVzMDoxMDIsVXBkYXRlOjEwMyxVcGRhdGVfcmVwZXRpdGlvbjA6MTA0LFVwZGF0ZTE6MTA1LFVwZGF0ZV9vcHRpb24wOjEwNixMT0FEOjEwNyxVcGRhdGUxX29wdGlvbjA6MTA4LFVwZGF0ZTFfb3B0aW9uMToxMDksVXBkYXRlMV9ncm91cDA6MTEwLFVwZGF0ZTFfb3B0aW9uMjoxMTEsR3JhcGhSZWZBbGw6MTEyLFVwZGF0ZTFfZ3JvdXAxOjExMyxVcGRhdGUxX29wdGlvbjM6MTE0LEdyYXBoT3JEZWZhdWx0OjExNSxUTzoxMTYsQ1JFQVRFOjExNyxVcGRhdGUxX29wdGlvbjQ6MTE4LEdSQVBIOjExOSxJTlNFUlREQVRBOjEyMCxRdWFkUGF0dGVybjoxMjEsREVMRVRFREFUQToxMjIsREVMRVRFV0hFUkU6MTIzLFVwZGF0ZTFfb3B0aW9uNToxMjQsSW5zZXJ0Q2xhdXNlOjEyNSxVcGRhdGUxX29wdGlvbjY6MTI2LFVwZGF0ZTFfcmVwZXRpdGlvbjA6MTI3LFVwZGF0ZTFfb3B0aW9uNzoxMjgsRGVsZXRlQ2xhdXNlOjEyOSxVcGRhdGUxX29wdGlvbjg6MTMwLFVwZGF0ZTFfcmVwZXRpdGlvbjE6MTMxLERFTEVURToxMzIsSU5TRVJUOjEzMyxVc2luZ0NsYXVzZToxMzQsVVNJTkc6MTM1LFVzaW5nQ2xhdXNlX29wdGlvbjA6MTM2LFdpdGhDbGF1c2U6MTM3LFdJVEg6MTM4LEludG9HcmFwaENsYXVzZToxMzksSU5UTzoxNDAsREVGQVVMVDoxNDEsR3JhcGhPckRlZmF1bHRfb3B0aW9uMDoxNDIsR3JhcGhSZWZBbGxfZ3JvdXAwOjE0MyxRdWFkUGF0dGVybl9vcHRpb24wOjE0NCxRdWFkUGF0dGVybl9yZXBldGl0aW9uMDoxNDUsUXVhZHNOb3RUcmlwbGVzOjE0NixRdWFkc05vdFRyaXBsZXNfZ3JvdXAwOjE0NyxRdWFkc05vdFRyaXBsZXNfb3B0aW9uMDoxNDgsUXVhZHNOb3RUcmlwbGVzX29wdGlvbjE6MTQ5LFF1YWRzTm90VHJpcGxlc19vcHRpb24yOjE1MCxUcmlwbGVzVGVtcGxhdGU6MTUxLFRyaXBsZXNUZW1wbGF0ZV9yZXBldGl0aW9uMDoxNTIsVHJpcGxlc1NhbWVTdWJqZWN0OjE1MyxUcmlwbGVzVGVtcGxhdGVfb3B0aW9uMDoxNTQsR3JvdXBHcmFwaFBhdHRlcm5TdWI6MTU1LEdyb3VwR3JhcGhQYXR0ZXJuU3ViX29wdGlvbjA6MTU2LEdyb3VwR3JhcGhQYXR0ZXJuU3ViX3JlcGV0aXRpb24wOjE1NyxHcm91cEdyYXBoUGF0dGVyblN1YlRhaWw6MTU4LEdyYXBoUGF0dGVybk5vdFRyaXBsZXM6MTU5LEdyb3VwR3JhcGhQYXR0ZXJuU3ViVGFpbF9vcHRpb24wOjE2MCxHcm91cEdyYXBoUGF0dGVyblN1YlRhaWxfb3B0aW9uMToxNjEsVHJpcGxlc0Jsb2NrOjE2MixUcmlwbGVzQmxvY2tfcmVwZXRpdGlvbjA6MTYzLFRyaXBsZXNTYW1lU3ViamVjdFBhdGg6MTY0LFRyaXBsZXNCbG9ja19vcHRpb24wOjE2NSxHcmFwaFBhdHRlcm5Ob3RUcmlwbGVzX3JlcGV0aXRpb24wOjE2NixPUFRJT05BTDoxNjcsTUlOVVM6MTY4LEdyYXBoUGF0dGVybk5vdFRyaXBsZXNfZ3JvdXAwOjE2OSxTRVJWSUNFOjE3MCxHcmFwaFBhdHRlcm5Ob3RUcmlwbGVzX29wdGlvbjA6MTcxLEdyYXBoUGF0dGVybk5vdFRyaXBsZXNfZ3JvdXAxOjE3MixGSUxURVI6MTczLEJJTkQ6MTc0LEZ1bmN0aW9uQ2FsbF9vcHRpb24wOjE3NSxGdW5jdGlvbkNhbGxfcmVwZXRpdGlvbjA6MTc2LEV4cHJlc3Npb25MaXN0OjE3NyxFeHByZXNzaW9uTGlzdF9yZXBldGl0aW9uMDoxNzgsQ29uc3RydWN0VGVtcGxhdGVfb3B0aW9uMDoxNzksQ29uc3RydWN0VHJpcGxlczoxODAsQ29uc3RydWN0VHJpcGxlc19yZXBldGl0aW9uMDoxODEsQ29uc3RydWN0VHJpcGxlc19vcHRpb24wOjE4MixUcmlwbGVzU2FtZVN1YmplY3RfZ3JvdXAwOjE4MyxQcm9wZXJ0eUxpc3ROb3RFbXB0eToxODQsVHJpcGxlc05vZGU6MTg1LFByb3BlcnR5TGlzdDoxODYsUHJvcGVydHlMaXN0X29wdGlvbjA6MTg3LFZlcmJPYmplY3RMaXN0OjE4OCxQcm9wZXJ0eUxpc3ROb3RFbXB0eV9yZXBldGl0aW9uMDoxODksU2VtaU9wdGlvbmFsVmVyYk9iamVjdExpc3Q6MTkwLCI7IjoxOTEsU2VtaU9wdGlvbmFsVmVyYk9iamVjdExpc3Rfb3B0aW9uMDoxOTIsVmVyYjoxOTMsT2JqZWN0TGlzdDoxOTQsYToxOTUsT2JqZWN0TGlzdF9yZXBldGl0aW9uMDoxOTYsR3JhcGhOb2RlOjE5NyxPYmplY3RMaXN0UGF0aDoxOTgsT2JqZWN0TGlzdFBhdGhfcmVwZXRpdGlvbjA6MTk5LEdyYXBoTm9kZVBhdGg6MjAwLFRyaXBsZXNTYW1lU3ViamVjdFBhdGhfZ3JvdXAwOjIwMSxQcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHk6MjAyLFRyaXBsZXNOb2RlUGF0aDoyMDMsVHJpcGxlc1NhbWVTdWJqZWN0UGF0aF9vcHRpb24wOjIwNCxQcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlfZ3JvdXAwOjIwNSxQcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlfcmVwZXRpdGlvbjA6MjA2LFByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eV9yZXBldGl0aW9uMToyMDcsUHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5VGFpbDoyMDgsUHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5VGFpbF9ncm91cDA6MjA5LFBhdGg6MjEwLFBhdGhfcmVwZXRpdGlvbjA6MjExLFBhdGhTZXF1ZW5jZToyMTIsUGF0aFNlcXVlbmNlX3JlcGV0aXRpb24wOjIxMyxQYXRoRWx0T3JJbnZlcnNlOjIxNCxQYXRoRWx0OjIxNSxQYXRoUHJpbWFyeToyMTYsUGF0aEVsdF9vcHRpb24wOjIxNyxQYXRoRWx0T3JJbnZlcnNlX29wdGlvbjA6MjE4LCIhIjoyMTksUGF0aE5lZ2F0ZWRQcm9wZXJ0eVNldDoyMjAsUGF0aE9uZUluUHJvcGVydHlTZXQ6MjIxLFBhdGhOZWdhdGVkUHJvcGVydHlTZXRfcmVwZXRpdGlvbjA6MjIyLFBhdGhOZWdhdGVkUHJvcGVydHlTZXRfb3B0aW9uMDoyMjMsIl4iOjIyNCxUcmlwbGVzTm9kZV9yZXBldGl0aW9uX3BsdXMwOjIyNSwiWyI6MjI2LCJdIjoyMjcsVHJpcGxlc05vZGVQYXRoX3JlcGV0aXRpb25fcGx1czA6MjI4LEdyYXBoTm9kZV9ncm91cDA6MjI5LEdyYXBoTm9kZVBhdGhfZ3JvdXAwOjIzMCwiPDwiOjIzMSxWYXJUcmlwbGVfZ3JvdXAwOjIzMixWYXJUcmlwbGVfZ3JvdXAxOjIzMyxWYXJUcmlwbGVfZ3JvdXAyOjIzNCwiPj4iOjIzNSxWYXJUcmlwbGVfZ3JvdXAzOjIzNixWYXJUcmlwbGVfZ3JvdXA0OjIzNyxDb25zdFRyaXBsZV9ncm91cDA6MjM4LENvbnN0VHJpcGxlX2dyb3VwMToyMzksQ29uc3RUcmlwbGVfZ3JvdXAyOjI0MCxDb25zdFRyaXBsZV9ncm91cDM6MjQxLENvbnN0VHJpcGxlX2dyb3VwNDoyNDIsVmFyT3JUZXJtOjI0MyxUZXJtOjI0NCxCTEFOS19OT0RFX0xBQkVMOjI0NSxBTk9OOjI0NixDb25kaXRpb25hbEFuZEV4cHJlc3Npb246MjQ3LEV4cHJlc3Npb25fcmVwZXRpdGlvbjA6MjQ4LEV4cHJlc3Npb25UYWlsOjI0OSwifHwiOjI1MCxSZWxhdGlvbmFsRXhwcmVzc2lvbjoyNTEsQ29uZGl0aW9uYWxBbmRFeHByZXNzaW9uX3JlcGV0aXRpb24wOjI1MixDb25kaXRpb25hbEFuZEV4cHJlc3Npb25UYWlsOjI1MywiJiYiOjI1NCxBZGRpdGl2ZUV4cHJlc3Npb246MjU1LFJlbGF0aW9uYWxFeHByZXNzaW9uX2dyb3VwMDoyNTYsUmVsYXRpb25hbEV4cHJlc3Npb25fb3B0aW9uMDoyNTcsSU46MjU4LE11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbjoyNTksQWRkaXRpdmVFeHByZXNzaW9uX3JlcGV0aXRpb24wOjI2MCxBZGRpdGl2ZUV4cHJlc3Npb25UYWlsOjI2MSxBZGRpdGl2ZUV4cHJlc3Npb25UYWlsX2dyb3VwMDoyNjIsTnVtZXJpY0xpdGVyYWxQb3NpdGl2ZToyNjMsQWRkaXRpdmVFeHByZXNzaW9uVGFpbF9yZXBldGl0aW9uMDoyNjQsTnVtZXJpY0xpdGVyYWxOZWdhdGl2ZToyNjUsQWRkaXRpdmVFeHByZXNzaW9uVGFpbF9yZXBldGl0aW9uMToyNjYsVW5hcnlFeHByZXNzaW9uOjI2NyxNdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25fcmVwZXRpdGlvbjA6MjY4LE11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblRhaWw6MjY5LE11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblRhaWxfZ3JvdXAwOjI3MCwiKyI6MjcxLFByaW1hcnlFeHByZXNzaW9uOjI3MiwiLSI6MjczLEFnZ3JlZ2F0ZToyNzQsRlVOQ19BUklUWTA6Mjc1LEZVTkNfQVJJVFkxOjI3NixGVU5DX0FSSVRZMjoyNzcsIiwiOjI3OCxJRjoyNzksQnVpbHRJbkNhbGxfZ3JvdXAwOjI4MCxCT1VORDoyODEsQk5PREU6MjgyLEJ1aWx0SW5DYWxsX29wdGlvbjA6MjgzLEVYSVNUUzoyODQsQ09VTlQ6Mjg1LEFnZ3JlZ2F0ZV9vcHRpb24wOjI4NixBZ2dyZWdhdGVfZ3JvdXAwOjI4NyxGVU5DX0FHR1JFR0FURToyODgsQWdncmVnYXRlX29wdGlvbjE6Mjg5LEdST1VQX0NPTkNBVDoyOTAsQWdncmVnYXRlX29wdGlvbjI6MjkxLEFnZ3JlZ2F0ZV9vcHRpb24zOjI5MixHcm91cENvbmNhdFNlcGFyYXRvcjoyOTMsU0VQQVJBVE9SOjI5NCwiPSI6Mjk1LFN0cmluZzoyOTYsTEFOR1RBRzoyOTcsIl5eIjoyOTgsREVDSU1BTDoyOTksRE9VQkxFOjMwMCxCT09MRUFOOjMwMSxTVFJJTkdfTElURVJBTDE6MzAyLFNUUklOR19MSVRFUkFMMjozMDMsU1RSSU5HX0xJVEVSQUxfTE9ORzE6MzA0LFNUUklOR19MSVRFUkFMX0xPTkcyOjMwNSxJTlRFR0VSX1BPU0lUSVZFOjMwNixERUNJTUFMX1BPU0lUSVZFOjMwNyxET1VCTEVfUE9TSVRJVkU6MzA4LElOVEVHRVJfTkVHQVRJVkU6MzA5LERFQ0lNQUxfTkVHQVRJVkU6MzEwLERPVUJMRV9ORUdBVElWRTozMTEsUE5BTUVfTE46MzEyLFF1ZXJ5T3JVcGRhdGVfZ3JvdXAwX29wdGlvbjA6MzEzLFByb2xvZ3VlX3JlcGV0aXRpb24wX2dyb3VwMDozMTQsU2VsZWN0Q2xhdXNlQmFzZV9vcHRpb24wX2dyb3VwMDozMTUsRElTVElOQ1Q6MzE2LFJFRFVDRUQ6MzE3LERlc2NyaWJlUXVlcnlfZ3JvdXAwX3JlcGV0aXRpb25fcGx1czBfZ3JvdXAwOjMxOCxEZXNjcmliZVF1ZXJ5X2dyb3VwMF9yZXBldGl0aW9uX3BsdXMwOjMxOSxOQU1FRDozMjAsU0lMRU5UOjMyMSxDTEVBUjozMjIsRFJPUDozMjMsQUREOjMyNCxNT1ZFOjMyNSxDT1BZOjMyNixBTEw6MzI3LCIuIjozMjgsVU5JT046MzI5LCJ8IjozMzAsIi8iOjMzMSxQYXRoRWx0X29wdGlvbjBfZ3JvdXAwOjMzMiwiPyI6MzMzLCIhPSI6MzM0LCI8IjozMzUsIj4iOjMzNiwiPD0iOjMzNywiPj0iOjMzOCxOT1Q6MzM5LENPTkNBVDozNDAsQ09BTEVTQ0U6MzQxLFNVQlNUUjozNDIsUkVHRVg6MzQzLFJFUExBQ0U6MzQ0LCRhY2NlcHQ6MCwkZW5kOjF9LHRlcm1pbmFsc186ezI6ImVycm9yIiw2OiJFT0YiLDEyOiJCQVNFIiwxMzoiSVJJUkVGIiwxNToiUFJFRklYIiwxNjoiUE5BTUVfTlMiLDI2OiIqIiwyODoiU0VMRUNUIiwzNDoiVkFSIiwzNToiKCIsMzc6IkFTIiwzODoiKSIsNDE6IkNPTlNUUlVDVCIsNDU6IldIRVJFIiw0NjoieyIsNDg6In0iLDUwOiJERVNDUklCRSIsNTU6IkFTSyIsNTg6IkZST00iLDY4OiJHUk9VUCIsNjk6IkJZIiw3NToiSEFWSU5HIiw3ODoiT1JERVIiLDgxOiJBU0MiLDgzOiJERVNDIiw4NjoiTElNSVQiLDg3OiJJTlRFR0VSIiw4ODoiT0ZGU0VUIiw5MDoiVkFMVUVTIiw5MzoiTklMIiwxMDA6IlVOREVGIiwxMDc6IkxPQUQiLDExNjoiVE8iLDExNzoiQ1JFQVRFIiwxMTk6IkdSQVBIIiwxMjA6IklOU0VSVERBVEEiLDEyMjoiREVMRVRFREFUQSIsMTIzOiJERUxFVEVXSEVSRSIsMTMyOiJERUxFVEUiLDEzMzoiSU5TRVJUIiwxMzU6IlVTSU5HIiwxMzg6IldJVEgiLDE0MDoiSU5UTyIsMTQxOiJERUZBVUxUIiwxNjc6Ik9QVElPTkFMIiwxNjg6Ik1JTlVTIiwxNzA6IlNFUlZJQ0UiLDE3MzoiRklMVEVSIiwxNzQ6IkJJTkQiLDE5MToiOyIsMTk1OiJhIiwyMTk6IiEiLDIyNDoiXiIsMjI2OiJbIiwyMjc6Il0iLDIzMToiPDwiLDIzNToiPj4iLDI0NToiQkxBTktfTk9ERV9MQUJFTCIsMjQ2OiJBTk9OIiwyNTA6Inx8IiwyNTQ6IiYmIiwyNTg6IklOIiwyNzE6IisiLDI3MzoiLSIsMjc1OiJGVU5DX0FSSVRZMCIsMjc2OiJGVU5DX0FSSVRZMSIsMjc3OiJGVU5DX0FSSVRZMiIsMjc4OiIsIiwyNzk6IklGIiwyODE6IkJPVU5EIiwyODI6IkJOT0RFIiwyODQ6IkVYSVNUUyIsMjg1OiJDT1VOVCIsMjg4OiJGVU5DX0FHR1JFR0FURSIsMjkwOiJHUk9VUF9DT05DQVQiLDI5NDoiU0VQQVJBVE9SIiwyOTU6Ij0iLDI5NzoiTEFOR1RBRyIsMjk4OiJeXiIsMjk5OiJERUNJTUFMIiwzMDA6IkRPVUJMRSIsMzAxOiJCT09MRUFOIiwzMDI6IlNUUklOR19MSVRFUkFMMSIsMzAzOiJTVFJJTkdfTElURVJBTDIiLDMwNDoiU1RSSU5HX0xJVEVSQUxfTE9ORzEiLDMwNToiU1RSSU5HX0xJVEVSQUxfTE9ORzIiLDMwNjoiSU5URUdFUl9QT1NJVElWRSIsMzA3OiJERUNJTUFMX1BPU0lUSVZFIiwzMDg6IkRPVUJMRV9QT1NJVElWRSIsMzA5OiJJTlRFR0VSX05FR0FUSVZFIiwzMTA6IkRFQ0lNQUxfTkVHQVRJVkUiLDMxMToiRE9VQkxFX05FR0FUSVZFIiwzMTI6IlBOQU1FX0xOIiwzMTY6IkRJU1RJTkNUIiwzMTc6IlJFRFVDRUQiLDMyMDoiTkFNRUQiLDMyMToiU0lMRU5UIiwzMjI6IkNMRUFSIiwzMjM6IkRST1AiLDMyNDoiQUREIiwzMjU6Ik1PVkUiLDMyNjoiQ09QWSIsMzI3OiJBTEwiLDMyODoiLiIsMzI5OiJVTklPTiIsMzMwOiJ8IiwzMzE6Ii8iLDMzMzoiPyIsMzM0OiIhPSIsMzM1OiI8IiwzMzY6Ij4iLDMzNzoiPD0iLDMzODoiPj0iLDMzOToiTk9UIiwzNDA6IkNPTkNBVCIsMzQxOiJDT0FMRVNDRSIsMzQyOiJTVUJTVFIiLDM0MzoiUkVHRVgiLDM0NDoiUkVQTEFDRSJ9LHByb2R1Y3Rpb25zXzpbMCxbMywzXSxbNCwxXSxbOCwyXSxbMTEsMl0sWzE0LDNdLFsxNyw0XSxbMTcsNF0sWzE4LDJdLFsyMiwyXSxbMjUsMl0sWzMwLDRdLFszMCw0XSxbMzMsMV0sWzMzLDVdLFszMyw1XSxbNDAsNV0sWzQwLDddLFs0OSw1XSxbNTQsNF0sWzU3LDNdLFsyMCwyXSxbMjQsMl0sWzIxLDNdLFs2NywzXSxbNzEsMV0sWzcxLDFdLFs3MSwzXSxbNzEsNV0sWzcxLDFdLFs3NCwyXSxbNzcsM10sWzgwLDJdLFs4MCwyXSxbODAsMV0sWzgwLDFdLFs4NSwyXSxbODUsMl0sWzg1LDRdLFs4NSw0XSxbODksMl0sWzkxLDRdLFs5MSw0XSxbOTEsNl0sWzk3LDFdLFs5NywxXSxbOTcsMV0sWzk3LDFdLFsxMDEsM10sWzEwMywzXSxbMTA1LDRdLFsxMDUsM10sWzEwNSw1XSxbMTA1LDRdLFsxMDUsMl0sWzEwNSwyXSxbMTA1LDJdLFsxMDUsNl0sWzEwNSw2XSxbMTI5LDJdLFsxMjUsMl0sWzEzNCwzXSxbMTM3LDJdLFsxMzksM10sWzExNSwxXSxbMTE1LDJdLFsxMTIsMl0sWzExMiwxXSxbMTIxLDRdLFsxNDYsN10sWzE1MSwzXSxbNjIsM10sWzYyLDNdLFsxNTUsMl0sWzE1OCwzXSxbMTYyLDNdLFsxNTksMl0sWzE1OSwyXSxbMTU5LDJdLFsxNTksM10sWzE1OSw0XSxbMTU5LDJdLFsxNTksNl0sWzE1OSw2XSxbMTU5LDFdLFs4NCwxXSxbODQsMV0sWzg0LDFdLFs3MywyXSxbNzMsNl0sWzE3NywxXSxbMTc3LDRdLFs0MiwzXSxbMTgwLDNdLFsxNTMsMl0sWzE1MywyXSxbMTg2LDFdLFsxODQsMl0sWzE5MCwyXSxbMTg4LDJdLFsxOTMsMV0sWzE5MywxXSxbMTkzLDFdLFsxOTQsMl0sWzE5OCwyXSxbMTY0LDJdLFsxNjQsMl0sWzIwMiw0XSxbMjA4LDFdLFsyMDgsM10sWzIxMCwyXSxbMjEyLDJdLFsyMTUsMl0sWzIxNCwyXSxbMjE2LDFdLFsyMTYsMV0sWzIxNiwyXSxbMjE2LDNdLFsyMjAsMV0sWzIyMCwxXSxbMjIwLDRdLFsyMjEsMV0sWzIyMSwxXSxbMjIxLDJdLFsyMjEsMl0sWzE4NSwzXSxbMTg1LDNdLFsyMDMsM10sWzIwMywzXSxbMTk3LDFdLFsxOTcsMV0sWzIwMCwxXSxbMjAwLDFdLFszOSw5XSxbMzksNV0sWzk5LDldLFs5OSw1XSxbMjQzLDFdLFsyNDMsMV0sWzI0NCwxXSxbMjQ0LDFdLFsyNDQsMV0sWzI0NCwxXSxbMjQ0LDFdLFszNiwyXSxbMjQ5LDJdLFsyNDcsMl0sWzI1MywyXSxbMjUxLDFdLFsyNTEsM10sWzI1MSw0XSxbMjU1LDJdLFsyNjEsMl0sWzI2MSwyXSxbMjYxLDJdLFsyNTksMl0sWzI2OSwyXSxbMjY3LDJdLFsyNjcsMl0sWzI2NywyXSxbMjY3LDFdLFsyNzIsMV0sWzI3MiwxXSxbMjcyLDFdLFsyNzIsMV0sWzI3MiwxXSxbMjcyLDFdLFs4MiwzXSxbNzIsMV0sWzcyLDJdLFs3Miw0XSxbNzIsNl0sWzcyLDhdLFs3MiwyXSxbNzIsNF0sWzcyLDJdLFs3Miw0XSxbNzIsM10sWzI3NCw1XSxbMjc0LDVdLFsyNzQsNl0sWzI5Myw0XSxbOTgsMV0sWzk4LDJdLFs5OCwzXSxbOTgsMV0sWzk4LDFdLFs5OCwxXSxbOTgsMV0sWzk4LDFdLFs5OCwxXSxbMjk2LDFdLFsyOTYsMV0sWzI5NiwxXSxbMjk2LDFdLFsyNjMsMV0sWzI2MywxXSxbMjYzLDFdLFsyNjUsMV0sWzI2NSwxXSxbMjY1LDFdLFs2MCwxXSxbNjAsMV0sWzYwLDFdLFszMTMsMF0sWzMxMywxXSxbNSwxXSxbNSwxXSxbNSwxXSxbMzE0LDFdLFszMTQsMV0sWzcsMF0sWzcsMl0sWzksMV0sWzksMV0sWzksMV0sWzksMV0sWzEwLDBdLFsxMCwxXSxbMTksMF0sWzE5LDJdLFsyMywwXSxbMjMsMl0sWzI3LDFdLFsyNywyXSxbMzE1LDFdLFszMTUsMV0sWzI5LDBdLFsyOSwxXSxbMzEsMF0sWzMxLDFdLFszMiwwXSxbMzIsMV0sWzQzLDBdLFs0MywyXSxbNDQsMF0sWzQ0LDJdLFs0NywwXSxbNDcsMV0sWzMxOCwxXSxbMzE4LDFdLFszMTksMV0sWzMxOSwyXSxbNTEsMV0sWzUxLDFdLFs1MiwwXSxbNTIsMl0sWzUzLDBdLFs1MywxXSxbNTYsMF0sWzU2LDJdLFs1OSwwXSxbNTksMV0sWzYxLDBdLFs2MSwxXSxbNjMsMF0sWzYzLDFdLFs2NCwwXSxbNjQsMV0sWzY1LDBdLFs2NSwxXSxbNjYsMF0sWzY2LDFdLFs3MCwxXSxbNzAsMl0sWzc2LDFdLFs3NiwyXSxbNzksMV0sWzc5LDJdLFs5MiwwXSxbOTIsMl0sWzk0LDBdLFs5NCwyXSxbOTUsMV0sWzk1LDJdLFs5NiwwXSxbOTYsMl0sWzEwMiwxXSxbMTAyLDJdLFsxMDQsMF0sWzEwNCw0XSxbMTA2LDBdLFsxMDYsMl0sWzEwOCwwXSxbMTA4LDFdLFsxMDksMF0sWzEwOSwxXSxbMTEwLDFdLFsxMTAsMV0sWzExMSwwXSxbMTExLDFdLFsxMTMsMV0sWzExMywxXSxbMTEzLDFdLFsxMTQsMF0sWzExNCwxXSxbMTE4LDBdLFsxMTgsMV0sWzEyNCwwXSxbMTI0LDFdLFsxMjYsMF0sWzEyNiwxXSxbMTI3LDBdLFsxMjcsMl0sWzEyOCwwXSxbMTI4LDFdLFsxMzAsMF0sWzEzMCwxXSxbMTMxLDBdLFsxMzEsMl0sWzEzNiwwXSxbMTM2LDFdLFsxNDIsMF0sWzE0MiwxXSxbMTQzLDFdLFsxNDMsMV0sWzE0MywxXSxbMTQ0LDBdLFsxNDQsMV0sWzE0NSwwXSxbMTQ1LDJdLFsxNDcsMV0sWzE0NywxXSxbMTQ4LDBdLFsxNDgsMV0sWzE0OSwwXSxbMTQ5LDFdLFsxNTAsMF0sWzE1MCwxXSxbMTUyLDBdLFsxNTIsM10sWzE1NCwwXSxbMTU0LDFdLFsxNTYsMF0sWzE1NiwxXSxbMTU3LDBdLFsxNTcsMl0sWzE2MCwwXSxbMTYwLDFdLFsxNjEsMF0sWzE2MSwxXSxbMTYzLDBdLFsxNjMsM10sWzE2NSwwXSxbMTY1LDFdLFsxNjYsMF0sWzE2NiwzXSxbMTY5LDFdLFsxNjksMV0sWzE3MSwwXSxbMTcxLDFdLFsxNzIsMV0sWzE3MiwxXSxbMTc1LDBdLFsxNzUsMV0sWzE3NiwwXSxbMTc2LDNdLFsxNzgsMF0sWzE3OCwzXSxbMTc5LDBdLFsxNzksMV0sWzE4MSwwXSxbMTgxLDNdLFsxODIsMF0sWzE4MiwxXSxbMTgzLDFdLFsxODMsMV0sWzE4NywwXSxbMTg3LDFdLFsxODksMF0sWzE4OSwyXSxbMTkyLDBdLFsxOTIsMV0sWzE5NiwwXSxbMTk2LDNdLFsxOTksMF0sWzE5OSwzXSxbMjAxLDFdLFsyMDEsMV0sWzIwNCwwXSxbMjA0LDFdLFsyMDUsMV0sWzIwNSwxXSxbMjA2LDBdLFsyMDYsM10sWzIwNywwXSxbMjA3LDJdLFsyMDksMV0sWzIwOSwxXSxbMjExLDBdLFsyMTEsM10sWzIxMywwXSxbMjEzLDNdLFszMzIsMV0sWzMzMiwxXSxbMzMyLDFdLFsyMTcsMF0sWzIxNywxXSxbMjE4LDBdLFsyMTgsMV0sWzIyMiwwXSxbMjIyLDNdLFsyMjMsMF0sWzIyMywxXSxbMjI1LDFdLFsyMjUsMl0sWzIyOCwxXSxbMjI4LDJdLFsyMjksMV0sWzIyOSwxXSxbMjMwLDFdLFsyMzAsMV0sWzIzMiwxXSxbMjMyLDFdLFsyMzMsMV0sWzIzMywxXSxbMjM0LDFdLFsyMzQsMV0sWzIzNiwxXSxbMjM2LDFdLFsyMzcsMV0sWzIzNywxXSxbMjM4LDFdLFsyMzgsMV0sWzIzOSwxXSxbMjM5LDFdLFsyNDAsMV0sWzI0MCwxXSxbMjQxLDFdLFsyNDEsMV0sWzI0MiwxXSxbMjQyLDFdLFsyNDgsMF0sWzI0OCwyXSxbMjUyLDBdLFsyNTIsMl0sWzI1NiwxXSxbMjU2LDFdLFsyNTYsMV0sWzI1NiwxXSxbMjU2LDFdLFsyNTYsMV0sWzI1NywwXSxbMjU3LDFdLFsyNjAsMF0sWzI2MCwyXSxbMjYyLDFdLFsyNjIsMV0sWzI2NCwwXSxbMjY0LDJdLFsyNjYsMF0sWzI2NiwyXSxbMjY4LDBdLFsyNjgsMl0sWzI3MCwxXSxbMjcwLDFdLFsyODAsMV0sWzI4MCwxXSxbMjgwLDFdLFsyODAsMV0sWzI4MCwxXSxbMjgzLDBdLFsyODMsMV0sWzI4NiwwXSxbMjg2LDFdLFsyODcsMV0sWzI4NywxXSxbMjg5LDBdLFsyODksMV0sWzI5MSwwXSxbMjkxLDFdLFsyOTIsMF0sWzI5MiwxXV0scGVyZm9ybUFjdGlvbjpmdW5jdGlvbihUZSxqZSxQZSxWZSxRZSxXLG10KXt2YXIgdGU9Vy5sZW5ndGgtMTtzd2l0Y2goUWUpe2Nhc2UgMTppZihXW3RlLTFdPVdbdGUtMV18fHt9LEhlLmJhc2UmJihXW3RlLTFdLmJhc2U9SGUuYmFzZSksSGUuYmFzZT0iIixXW3RlLTFdLnByZWZpeGVzPUhlLnByZWZpeGVzLEhlLnByZWZpeGVzPW51bGwsSGUucGF0aE9ubHkpe2lmKFdbdGUtMV0udHlwZT09PSJwYXRoInx8InRlcm1UeXBlImluIFdbdGUtMV0pcmV0dXJuIFdbdGUtMV07dGhyb3cgbmV3IEVycm9yKCJSZWNlaXZlZCBmdWxsIFNQQVJRTCBxdWVyeSBpbiBwYXRoIG9ubHkgbW9kZSIpfWVsc2UgaWYoV1t0ZS0xXS50eXBlPT09InBhdGgifHwidGVybVR5cGUiaW4gV1t0ZS0xXSl0aHJvdyBuZXcgRXJyb3IoIlJlY2VpdmVkIG9ubHkgcGF0aCBpbiBmdWxsIFNQQVJRTCBtb2RlIik7aWYoV1t0ZS0xXS50eXBlPT09InVwZGF0ZSIpe2NvbnN0IHplPXt9O2Zvcihjb25zdCBXZSBvZiBXW3RlLTFdLnVwZGF0ZXMpaWYoV2UudXBkYXRlVHlwZT09PSJpbnNlcnQiKXtjb25zdCBHZT17fTtmb3IoY29uc3Qgb3Qgb2YgV2UuaW5zZXJ0KWlmKG90LnR5cGU9PT0iYmdwInx8b3QudHlwZT09PSJncmFwaCIpZm9yKGNvbnN0IHV0IG9mIG90LnRyaXBsZXMpdXQuc3ViamVjdC50ZXJtVHlwZT09PSJCbGFua05vZGUiJiYoR2VbdXQuc3ViamVjdC52YWx1ZV09ITApLHV0LnByZWRpY2F0ZS50ZXJtVHlwZT09PSJCbGFua05vZGUiJiYoR2VbdXQucHJlZGljYXRlLnZhbHVlXT0hMCksdXQub2JqZWN0LnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJihHZVt1dC5vYmplY3QudmFsdWVdPSEwKTtmb3IoY29uc3Qgb3Qgb2YgT2JqZWN0LmtleXMoR2UpKXtpZih6ZVtvdF0pdGhyb3cgbmV3IEVycm9yKCJEZXRlY3RlZCByZXVzZSBibGFuayBub2RlIGFjcm9zcyBkaWZmZXJlbnQgSU5TRVJUIERBVEEgY2xhdXNlcyIpO3plW290XT0hMH19fXJldHVybiBXW3RlLTFdO2Nhc2UgMzp0aGlzLiQ9WmUoV1t0ZS0xXSxXW3RlXSx7dHlwZToicXVlcnkifSk7YnJlYWs7Y2FzZSA0OkhlLmJhc2U9bHIoV1t0ZV0pO2JyZWFrO2Nhc2UgNTpIZS5wcmVmaXhlc3x8KEhlLnByZWZpeGVzPXt9KSxXW3RlLTFdPVdbdGUtMV0uc3Vic3RyKDAsV1t0ZS0xXS5sZW5ndGgtMSksV1t0ZV09bHIoV1t0ZV0pLEhlLnByZWZpeGVzW1dbdGUtMV1dPVdbdGVdO2JyZWFrO2Nhc2UgNjp0aGlzLiQ9WmUoV1t0ZS0zXSxMdChXW3RlLTJdKSxXW3RlLTFdLFdbdGVdKTticmVhaztjYXNlIDc6aWYoIUhlLnNraXBWYWxpZGF0aW9uJiYoVnIoV1t0ZS0zXS52YXJpYWJsZXMubWFwKFdlPT5VcihXZS5leHByZXNzaW9uKSkpLnNvbWUoV2U9PldlLmFnZ3JlZ2F0aW9uPT09ImNvdW50IiYmIShXZS5leHByZXNzaW9uIGluc3RhbmNlb2YgdnIpKXx8V1t0ZV0uZ3JvdXApKXtmb3IoY29uc3QgV2Ugb2YgV1t0ZS0zXS52YXJpYWJsZXMpaWYoV2UudGVybVR5cGU9PT0iVmFyaWFibGUiKXtpZighV1t0ZV0uZ3JvdXB8fCFXW3RlXS5ncm91cC5tYXAoR2U9PmVyKEdlKSkuaW5jbHVkZXMoZXIoV2UpKSl0aHJvdyBFcnJvcigiUHJvamVjdGlvbiBvZiB1bmdyb3VwZWQgdmFyaWFibGUgKD8iK2VyKFdlKSsiKSIpfWVsc2UgaWYoVXIoV2UuZXhwcmVzc2lvbikubGVuZ3RoPT09MCl7Y29uc3QgR2U9cW4oV2UuZXhwcmVzc2lvbik7Zm9yKGNvbnN0IG90IG9mIEdlKWlmKCFXW3RlXS5ncm91cHx8IVdbdGVdLmdyb3VwLm1hcHx8IVdbdGVdLmdyb3VwLm1hcCh1dD0+ZXIodXQpKS5pbmNsdWRlcyhlcihvdCkpKXRocm93IEVycm9yKCJVc2Ugb2YgdW5ncm91cGVkIHZhcmlhYmxlIGluIHByb2plY3Rpb24gb2Ygb3BlcmF0aW9uICg/IitlcihvdCkrIikiKX19Y29uc3QgdHI9V1t0ZS0xXS53aGVyZS5maWx0ZXIoemU9PnplLnR5cGU9PT0icXVlcnkiKTtpZih0ci5sZW5ndGg+MCl7Y29uc3QgemU9V1t0ZS0zXS52YXJpYWJsZXMuZmlsdGVyKEdlPT5HZS52YXJpYWJsZSYmR2UudmFyaWFibGUudmFsdWUpLm1hcChHZT0+R2UudmFyaWFibGUudmFsdWUpLFdlPVZyKHRyLm1hcChHZT0+R2UudmFyaWFibGVzKSkubWFwKEdlPT5HZS52YWx1ZXx8R2UudmFyaWFibGUudmFsdWUpO2Zvcihjb25zdCBHZSBvZiB6ZSlpZihXZS5pbmRleE9mKEdlKT49MCl0aHJvdyBFcnJvcigiVGFyZ2V0IGlkIG9mICdBUycgKD8iK0dlKyIpIGFscmVhZHkgdXNlZCBpbiBzdWJxdWVyeSIpfXRoaXMuJD1aZShXW3RlLTNdLEx0KFdbdGUtMl0pLFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgODp0aGlzLiQ9WmUoV1t0ZS0xXSx7dmFyaWFibGVzOltuZXcgdnJdfSk7YnJlYWs7Y2FzZSA5OmNvbnN0IEhyPVdbdGVdLm1hcCh6ZT0+emUudmFsdWV8fHplLnZhcmlhYmxlLnZhbHVlKSxTcj1LbihIcik7aWYoU3IubGVuZ3RoPjApdGhyb3cgRXJyb3IoIlR3byBvciBtb3JlIG9mIHRoZSByZXN1bHRpbmcgY29sdW1ucyBoYXZlIHRoZSBzYW1lIG5hbWUgKD8iK1NyWzBdKyIpIik7dGhpcy4kPVplKFdbdGUtMV0se3ZhcmlhYmxlczpXW3RlXX0pO2JyZWFrO2Nhc2UgMTA6dGhpcy4kPVplKHtxdWVyeVR5cGU6IlNFTEVDVCJ9LFdbdGVdJiYoV1t0ZS0xXT1wdChXW3RlXSksV1t0ZV09e30sV1t0ZV1bV1t0ZS0xXV09ITAsV1t0ZV0pKTticmVhaztjYXNlIDExOmNhc2UgMTI6dGhpcy4kPVplKFdbdGUtM10sV1t0ZS0yXSxXW3RlLTFdLFdbdGVdLHt0eXBlOiJxdWVyeSJ9KTticmVhaztjYXNlIDEzOmNhc2UgMTAwOmNhc2UgMTM3OmNhc2UgMTY2OnRoaXMuJD1kdChXW3RlXSk7YnJlYWs7Y2FzZSAxNDpjYXNlIDI4OnRoaXMuJD1QdChXW3RlLTNdLHt2YXJpYWJsZTpkdChXW3RlLTFdKX0pO2JyZWFrO2Nhc2UgMTU6dGhpcy4kPWZyKFB0KFdbdGUtM10se3ZhcmlhYmxlOmR0KFdbdGUtMV0pfSkpO2JyZWFrO2Nhc2UgMTY6dGhpcy4kPVplKHtxdWVyeVR5cGU6IkNPTlNUUlVDVCIsdGVtcGxhdGU6V1t0ZS0zXX0sTHQoV1t0ZS0yXSksV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAxNzp0aGlzLiQ9WmUoe3F1ZXJ5VHlwZToiQ09OU1RSVUNUIix0ZW1wbGF0ZTpXW3RlLTJdPVdbdGUtMl0/V1t0ZS0yXS50cmlwbGVzOltdfSxMdChXW3RlLTVdKSx7d2hlcmU6W3t0eXBlOiJiZ3AiLHRyaXBsZXM6WXQoW10sV1t0ZS0yXSl9XX0sV1t0ZV0pO2JyZWFrO2Nhc2UgMTg6dGhpcy4kPVplKHtxdWVyeVR5cGU6IkRFU0NSSUJFIix2YXJpYWJsZXM6V1t0ZS0zXT09PSIqIj9bbmV3IHZyXTpXW3RlLTNdLm1hcChkdCl9LEx0KFdbdGUtMl0pLFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgMTk6dGhpcy4kPVplKHtxdWVyeVR5cGU6IkFTSyJ9LEx0KFdbdGUtMl0pLFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgMjA6Y2FzZSA2MTp0aGlzLiQ9e2lyaTpXW3RlXSxuYW1lZDohIVdbdGUtMV19O2JyZWFrO2Nhc2UgMjE6dGhpcy4kPXt3aGVyZTpXW3RlXS5wYXR0ZXJuc307YnJlYWs7Y2FzZSAyMjp0aGlzLiQ9WmUoV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAyMzp0aGlzLiQ9WmUoV1t0ZS0yXSxXW3RlLTFdLFdbdGVdKTticmVhaztjYXNlIDI0OnRoaXMuJD17Z3JvdXA6V1t0ZV19O2JyZWFrO2Nhc2UgMjU6Y2FzZSAyNjpjYXNlIDMyOmNhc2UgMzQ6dGhpcy4kPVB0KFdbdGVdKTticmVhaztjYXNlIDI3OnRoaXMuJD1QdChXW3RlLTFdKTticmVhaztjYXNlIDI5OmNhc2UgMzU6dGhpcy4kPVB0KGR0KFdbdGVdKSk7YnJlYWs7Y2FzZSAzMDp0aGlzLiQ9e2hhdmluZzpXW3RlXX07YnJlYWs7Y2FzZSAzMTp0aGlzLiQ9e29yZGVyOldbdGVdfTticmVhaztjYXNlIDMzOnRoaXMuJD1QdChXW3RlXSx7ZGVzY2VuZGluZzohMH0pO2JyZWFrO2Nhc2UgMzY6dGhpcy4kPXtsaW1pdDpadChXW3RlXSl9O2JyZWFrO2Nhc2UgMzc6dGhpcy4kPXtvZmZzZXQ6WnQoV1t0ZV0pfTticmVhaztjYXNlIDM4OnRoaXMuJD17bGltaXQ6WnQoV1t0ZS0yXSksb2Zmc2V0Olp0KFdbdGVdKX07YnJlYWs7Y2FzZSAzOTp0aGlzLiQ9e2xpbWl0Olp0KFdbdGVdKSxvZmZzZXQ6WnQoV1t0ZS0yXSl9O2JyZWFrO2Nhc2UgNDA6dGhpcy4kPXt0eXBlOiJ2YWx1ZXMiLHZhbHVlczpXW3RlXX07YnJlYWs7Y2FzZSA0MTp0aGlzLiQ9V1t0ZS0xXS5tYXAoZnVuY3Rpb24oemUpe3ZhciBXZT17fTtyZXR1cm4gV2VbV1t0ZS0zXV09emUsV2V9KTticmVhaztjYXNlIDQyOnRoaXMuJD1XW3RlLTFdLm1hcChmdW5jdGlvbigpe3JldHVybnt9fSk7YnJlYWs7Y2FzZSA0Mzp2YXIgQ3Q9V1t0ZS00XS5sZW5ndGg7V1t0ZS00XT1XW3RlLTRdLm1hcChkdCksdGhpcy4kPVdbdGUtMV0ubWFwKGZ1bmN0aW9uKHplKXtpZih6ZS5sZW5ndGghPT1DdCl0aHJvdyBFcnJvcigiSW5jb25zaXN0ZW50IFZBTFVFUyBsZW5ndGgiKTtmb3IodmFyIFdlPXt9LEdlPTA7R2U8Q3Q7R2UrKylXZVsiPyIrV1t0ZS00XVtHZV0udmFsdWVdPXplW0dlXTtyZXR1cm4gV2V9KTticmVhaztjYXNlIDQ2OnRoaXMuJD1mcihXW3RlXSk7YnJlYWs7Y2FzZSA0Nzp0aGlzLiQ9dm9pZCAwO2JyZWFrO2Nhc2UgNDg6Y2FzZSA5MjpjYXNlIDExNzpjYXNlIDE2Nzp0aGlzLiQ9V1t0ZS0xXTticmVhaztjYXNlIDQ5OnRoaXMuJD17dHlwZToidXBkYXRlIix1cGRhdGVzOlJ0KFdbdGUtMl0sV1t0ZS0xXSl9O2JyZWFrO2Nhc2UgNTA6dGhpcy4kPVplKHt0eXBlOiJsb2FkIixzaWxlbnQ6ISFXW3RlLTJdLHNvdXJjZTpXW3RlLTFdfSxXW3RlXSYme2Rlc3RpbmF0aW9uOldbdGVdfSk7YnJlYWs7Y2FzZSA1MTp0aGlzLiQ9e3R5cGU6cHQoV1t0ZS0yXSksc2lsZW50OiEhV1t0ZS0xXSxncmFwaDpXW3RlXX07YnJlYWs7Y2FzZSA1Mjp0aGlzLiQ9e3R5cGU6cHQoV1t0ZS00XSksc2lsZW50OiEhV1t0ZS0zXSxzb3VyY2U6V1t0ZS0yXSxkZXN0aW5hdGlvbjpXW3RlXX07YnJlYWs7Y2FzZSA1Mzp0aGlzLiQ9e3R5cGU6ImNyZWF0ZSIsc2lsZW50OiEhV1t0ZS0yXSxncmFwaDp7dHlwZToiZ3JhcGgiLG5hbWU6V1t0ZV19fTticmVhaztjYXNlIDU0OnRoaXMuJD17dXBkYXRlVHlwZToiaW5zZXJ0IixpbnNlcnQ6Rm4oV1t0ZV0pfTticmVhaztjYXNlIDU1OnRoaXMuJD17dXBkYXRlVHlwZToiZGVsZXRlIixkZWxldGU6R3IoRm4oV1t0ZV0pKX07YnJlYWs7Y2FzZSA1Njp0aGlzLiQ9e3VwZGF0ZVR5cGU6ImRlbGV0ZXdoZXJlIixkZWxldGU6R3IoV1t0ZV0pfTticmVhaztjYXNlIDU3OnRoaXMuJD1aZSh7dXBkYXRlVHlwZToiaW5zZXJ0ZGVsZXRlIn0sV1t0ZS01XSx7aW5zZXJ0OldbdGUtNF18fFtdfSx7ZGVsZXRlOldbdGUtM118fFtdfSxMdChXW3RlLTJdLCJ1c2luZyIpLHt3aGVyZTpXW3RlXS5wYXR0ZXJuc30pO2JyZWFrO2Nhc2UgNTg6dGhpcy4kPVplKHt1cGRhdGVUeXBlOiJpbnNlcnRkZWxldGUifSxXW3RlLTVdLHtkZWxldGU6V1t0ZS00XXx8W119LHtpbnNlcnQ6V1t0ZS0zXXx8W119LEx0KFdbdGUtMl0sInVzaW5nIikse3doZXJlOldbdGVdLnBhdHRlcm5zfSk7YnJlYWs7Y2FzZSA1OTp0aGlzLiQ9R3IoV1t0ZV0pO2JyZWFrO2Nhc2UgNjA6Y2FzZSA2MzpjYXNlIDE2MDpjYXNlIDE4MTp0aGlzLiQ9V1t0ZV07YnJlYWs7Y2FzZSA2Mjp0aGlzLiQ9e2dyYXBoOldbdGVdfTticmVhaztjYXNlIDY0OnRoaXMuJD17dHlwZToiZ3JhcGgiLGRlZmF1bHQ6ITB9O2JyZWFrO2Nhc2UgNjU6Y2FzZSA2Njp0aGlzLiQ9e3R5cGU6ImdyYXBoIixuYW1lOldbdGVdfTticmVhaztjYXNlIDY3OnRoaXMuJD17fSx0aGlzLiRbcHQoV1t0ZV0pXT0hMDticmVhaztjYXNlIDY4OnRoaXMuJD1XW3RlLTJdP3Z0KFdbdGUtMV0sW1dbdGUtMl1dKTp2dChXW3RlLTFdKTticmVhaztjYXNlIDY5OnZhciBUcj1aZShXW3RlLTNdfHx7dHJpcGxlczpbXX0se3R5cGU6ImdyYXBoIixuYW1lOmR0KFdbdGUtNV0pfSk7dGhpcy4kPVdbdGVdP1tUcixXW3RlXV06W1RyXTticmVhaztjYXNlIDcwOmNhc2UgNzU6dGhpcy4kPXt0eXBlOiJiZ3AiLHRyaXBsZXM6dnQoV1t0ZS0yXSxbV1t0ZS0xXV0pfTticmVhaztjYXNlIDcxOnRoaXMuJD17dHlwZToiZ3JvdXAiLHBhdHRlcm5zOltXW3RlLTFdXX07YnJlYWs7Y2FzZSA3Mjpmb3IoY29uc3QgemUgb2YgV1t0ZS0xXS5maWx0ZXIoV2U9PldlLnR5cGU9PT0iYmluZCIpKXtjb25zdCBXZT1XW3RlLTFdLmluZGV4T2YoemUpLEdlPW5ldyBTZXQ7Zm9yKGNvbnN0IG90IG9mIFdbdGUtMV0uc2xpY2UoMCxXZSkpKG90LnR5cGU9PT0iZ3JvdXAifHxvdC50eXBlPT09ImJncCIpJiZEbihvdCkuZm9yRWFjaCh1dD0+R2UuYWRkKHV0KSk7aWYoR2UuaGFzKHplLnZhcmlhYmxlLnZhbHVlKSl0aHJvdyBFcnJvcigiVmFyaWFibGUgdXNlZCB0byBiaW5kIGlzIGFscmVhZHkgYm91bmQgKD8iK3plLnZhcmlhYmxlLnZhbHVlKyIpIil9dGhpcy4kPXt0eXBlOiJncm91cCIscGF0dGVybnM6V1t0ZS0xXX07YnJlYWs7Y2FzZSA3Mzp0aGlzLiQ9V1t0ZS0xXT92dChbV1t0ZS0xXV0sV1t0ZV0pOnZ0KFdbdGVdKTticmVhaztjYXNlIDc0OnRoaXMuJD1XW3RlXT9bV1t0ZS0yXSxXW3RlXV06V1t0ZS0yXTticmVhaztjYXNlIDc2OldbdGUtMV0ubGVuZ3RoP3RoaXMuJD17dHlwZToidW5pb24iLHBhdHRlcm5zOnZ0KFdbdGUtMV0ubWFwKE1yKSxbTXIoV1t0ZV0pXSl9OnRoaXMuJD1XW3RlXTticmVhaztjYXNlIDc3OnRoaXMuJD1aZShXW3RlXSx7dHlwZToib3B0aW9uYWwifSk7YnJlYWs7Y2FzZSA3ODp0aGlzLiQ9WmUoV1t0ZV0se3R5cGU6Im1pbnVzIn0pO2JyZWFrO2Nhc2UgNzk6dGhpcy4kPVplKFdbdGVdLHt0eXBlOiJncmFwaCIsbmFtZTpkdChXW3RlLTFdKX0pO2JyZWFrO2Nhc2UgODA6dGhpcy4kPVplKFdbdGVdLHt0eXBlOiJzZXJ2aWNlIixuYW1lOmR0KFdbdGUtMV0pLHNpbGVudDohIVdbdGUtMl19KTticmVhaztjYXNlIDgxOnRoaXMuJD17dHlwZToiZmlsdGVyIixleHByZXNzaW9uOldbdGVdfTticmVhaztjYXNlIDgyOnRoaXMuJD17dHlwZToiYmluZCIsdmFyaWFibGU6ZHQoV1t0ZS0xXSksZXhwcmVzc2lvbjpXW3RlLTNdfTticmVhaztjYXNlIDgzOnRoaXMuJD1mcih7dHlwZToiYmluZCIsdmFyaWFibGU6ZHQoV1t0ZS0xXSksZXhwcmVzc2lvbjpXW3RlLTNdfSk7YnJlYWs7Y2FzZSA4ODp0aGlzLiQ9e3R5cGU6ImZ1bmN0aW9uQ2FsbCIsZnVuY3Rpb246V1t0ZS0xXSxhcmdzOltdfTticmVhaztjYXNlIDg5OnRoaXMuJD17dHlwZToiZnVuY3Rpb25DYWxsIixmdW5jdGlvbjpXW3RlLTVdLGFyZ3M6UnQoV1t0ZS0yXSxXW3RlLTFdKSxkaXN0aW5jdDohIVdbdGUtM119O2JyZWFrO2Nhc2UgOTA6Y2FzZSAxMDg6Y2FzZSAxMTk6Y2FzZSAyMTE6Y2FzZSAyMTk6Y2FzZSAyMjE6Y2FzZSAyMzM6Y2FzZSAyMzU6Y2FzZSAyNDU6Y2FzZSAyNDk6Y2FzZSAyNjk6Y2FzZSAyNzE6Y2FzZSAyNzU6Y2FzZSAyNzk6Y2FzZSAzMDI6Y2FzZSAzMDg6Y2FzZSAzMTk6Y2FzZSAzMjk6Y2FzZSAzMzU6Y2FzZSAzNDE6Y2FzZSAzNDU6Y2FzZSAzNTU6Y2FzZSAzNTc6Y2FzZSAzNjE6Y2FzZSAzNjk6Y2FzZSAzNzM6Y2FzZSAzNzU6Y2FzZSAzODM6Y2FzZSAzODU6Y2FzZSAzODk6Y2FzZSAzOTE6Y2FzZSA0MDA6Y2FzZSA0MzI6Y2FzZSA0MzQ6Y2FzZSA0NDQ6Y2FzZSA0NDg6Y2FzZSA0NTA6Y2FzZSA0NTI6dGhpcy4kPVtdO2JyZWFrO2Nhc2UgOTE6dGhpcy4kPVJ0KFdbdGUtMl0sV1t0ZS0xXSk7YnJlYWs7Y2FzZSA5Mzp0aGlzLiQ9dnQoV1t0ZS0yXSxbV1t0ZS0xXV0pO2JyZWFrO2Nhc2UgOTQ6Y2FzZSAxMDU6dGhpcy4kPVdbdGVdLm1hcChmdW5jdGlvbih6ZSl7cmV0dXJuIFplKEd0KFdbdGUtMV0pLHplKX0pO2JyZWFrO2Nhc2UgOTU6dGhpcy4kPVl0KFdbdGVdLm1hcChmdW5jdGlvbih6ZSl7cmV0dXJuIFplKEd0KFdbdGUtMV0uZW50aXR5KSx6ZSl9KSxXW3RlLTFdLnRyaXBsZXMpO2JyZWFrO2Nhc2UgOTc6dGhpcy4kPXZ0KFtXW3RlLTFdXSxXW3RlXSk7YnJlYWs7Y2FzZSA5ODp0aGlzLiQ9dnQoV1t0ZV0pO2JyZWFrO2Nhc2UgOTk6dGhpcy4kPSRyKFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgMTAyOmNhc2UgMTE1OmNhc2UgMTIyOnRoaXMuJD1IZS5mYWN0b3J5Lm5hbWVkTm9kZShqbik7YnJlYWs7Y2FzZSAxMDM6Y2FzZSAxMDQ6dGhpcy4kPVJ0KFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgMTA2OnRoaXMuJD1XW3RlXT9ZdChXW3RlXS5tYXAoZnVuY3Rpb24oemUpe3JldHVybiBaZShHdChXW3RlLTFdLmVudGl0eSksemUpfSksV1t0ZS0xXS50cmlwbGVzKTpXW3RlLTFdLnRyaXBsZXM7YnJlYWs7Y2FzZSAxMDc6dGhpcy4kPSRyKGR0KFdbdGUtM10pLFJ0KFdbdGUtMl0sV1t0ZS0xXSksV1t0ZV0pO2JyZWFrO2Nhc2UgMTA5OnRoaXMuJD0kcihkdChXW3RlLTFdKSxXW3RlXSk7YnJlYWs7Y2FzZSAxMTA6dGhpcy4kPVdbdGUtMV0ubGVuZ3RoP1F0KCJ8IixSdChXW3RlLTFdLFdbdGVdKSk6V1t0ZV07YnJlYWs7Y2FzZSAxMTE6dGhpcy4kPVdbdGUtMV0ubGVuZ3RoP1F0KCIvIixSdChXW3RlLTFdLFdbdGVdKSk6V1t0ZV07YnJlYWs7Y2FzZSAxMTI6dGhpcy4kPVdbdGVdP1F0KFdbdGVdLFtXW3RlLTFdXSk6V1t0ZS0xXTticmVhaztjYXNlIDExMzp0aGlzLiQ9V1t0ZS0xXT9RdChXW3RlLTFdLFtXW3RlXV0pOldbdGVdO2JyZWFrO2Nhc2UgMTE2OmNhc2UgMTIzOnRoaXMuJD1RdChXW3RlLTFdLFtXW3RlXV0pO2JyZWFrO2Nhc2UgMTIwOnRoaXMuJD1RdCgifCIsUnQoV1t0ZS0yXSxXW3RlLTFdKSk7YnJlYWs7Y2FzZSAxMjQ6dGhpcy4kPVF0KFdbdGUtMV0sW0hlLmZhY3RvcnkubmFtZWROb2RlKGpuKV0pO2JyZWFrO2Nhc2UgMTI1OmNhc2UgMTI3OnRoaXMuJD16bihXW3RlLTFdKTticmVhaztjYXNlIDEyNjpjYXNlIDEyODp0aGlzLiQ9WG4oV1t0ZS0xXSk7YnJlYWs7Y2FzZSAxMjk6dGhpcy4kPXtlbnRpdHk6V1t0ZV0sdHJpcGxlczpbXX07YnJlYWs7Y2FzZSAxMzE6dGhpcy4kPXtlbnRpdHk6V1t0ZV0sdHJpcGxlczpbXX07YnJlYWs7Y2FzZSAxMzM6Y2FzZSAxMzU6dGhpcy4kPWZyKEhlLmZhY3RvcnkucXVhZChXW3RlLTRdLFdbdGUtM10sV1t0ZS0yXSxkdChXW3RlLTZdKSkpO2JyZWFrO2Nhc2UgMTM0OmNhc2UgMTM2OnRoaXMuJD1mcihIZS5mYWN0b3J5LnF1YWQoV1t0ZS0zXSxXW3RlLTJdLFdbdGUtMV0pKTticmVhaztjYXNlIDE0MTp0aGlzLiQ9ZHIoV1t0ZV0ucmVwbGFjZSgvXihfOikvLCIiKSk7YnJlYWs7Y2FzZSAxNDI6dGhpcy4kPWRyKCk7YnJlYWs7Y2FzZSAxNDM6dGhpcy4kPUhlLmZhY3RvcnkubmFtZWROb2RlKHhuKTticmVhaztjYXNlIDE0NDpjYXNlIDE0NjpjYXNlIDE1MTpjYXNlIDE1NTp0aGlzLiQ9RnIoV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAxNDU6dGhpcy4kPVsifHwiLFdbdGVdXTticmVhaztjYXNlIDE0Nzp0aGlzLiQ9WyImJiIsV1t0ZV1dO2JyZWFrO2Nhc2UgMTQ5OnRoaXMuJD1mdChXW3RlLTFdLFtXW3RlLTJdLFdbdGVdXSk7YnJlYWs7Y2FzZSAxNTA6dGhpcy4kPWZ0KFdbdGUtMl0/Im5vdGluIjoiaW4iLFtXW3RlLTNdLFdbdGVdXSk7YnJlYWs7Y2FzZSAxNTI6Y2FzZSAxNTY6dGhpcy4kPVtXW3RlLTFdLFdbdGVdXTticmVhaztjYXNlIDE1Mzp0aGlzLiQ9WyIrIixGcihXW3RlLTFdLFdbdGVdKV07YnJlYWs7Y2FzZSAxNTQ6dmFyIEFyPXd0KFdbdGUtMV0udmFsdWUucmVwbGFjZSgiLSIsIiIpLFdbdGUtMV0uZGF0YXR5cGUpO3RoaXMuJD1bIi0iLEZyKEFyLFdbdGVdKV07YnJlYWs7Y2FzZSAxNTc6dGhpcy4kPWZ0KCJVUExVUyIsW1dbdGVdXSk7YnJlYWs7Y2FzZSAxNTg6dGhpcy4kPWZ0KFdbdGUtMV0sW1dbdGVdXSk7YnJlYWs7Y2FzZSAxNTk6dGhpcy4kPWZ0KCJVTUlOVVMiLFtXW3RlXV0pO2JyZWFrO2Nhc2UgMTY5OnRoaXMuJD1mdChwdChXW3RlLTFdKSk7YnJlYWs7Y2FzZSAxNzA6dGhpcy4kPWZ0KHB0KFdbdGUtM10pLFtXW3RlLTFdXSk7YnJlYWs7Y2FzZSAxNzE6dGhpcy4kPWZ0KHB0KFdbdGUtNV0pLFtXW3RlLTNdLFdbdGUtMV1dKTticmVhaztjYXNlIDE3Mjp0aGlzLiQ9ZnQocHQoV1t0ZS03XSksW1dbdGUtNV0sV1t0ZS0zXSxXW3RlLTFdXSk7YnJlYWs7Y2FzZSAxNzM6dGhpcy4kPWZ0KHB0KFdbdGUtMV0pLFdbdGVdKTticmVhaztjYXNlIDE3NDp0aGlzLiQ9ZnQoImJvdW5kIixbZHQoV1t0ZS0xXSldKTticmVhaztjYXNlIDE3NTp0aGlzLiQ9ZnQoV1t0ZS0xXSxbXSk7YnJlYWs7Y2FzZSAxNzY6dGhpcy4kPWZ0KFdbdGUtM10sW1dbdGUtMV1dKTticmVhaztjYXNlIDE3Nzp0aGlzLiQ9ZnQoV1t0ZS0yXT8ibm90ZXhpc3RzIjoiZXhpc3RzIixbTXIoV1t0ZV0pXSk7YnJlYWs7Y2FzZSAxNzg6Y2FzZSAxNzk6dGhpcy4kPVB0KFdbdGUtMV0se3R5cGU6ImFnZ3JlZ2F0ZSIsYWdncmVnYXRpb246cHQoV1t0ZS00XSksZGlzdGluY3Q6ISFXW3RlLTJdfSk7YnJlYWs7Y2FzZSAxODA6dGhpcy4kPVB0KFdbdGUtMl0se3R5cGU6ImFnZ3JlZ2F0ZSIsYWdncmVnYXRpb246cHQoV1t0ZS01XSksZGlzdGluY3Q6ISFXW3RlLTNdLHNlcGFyYXRvcjp0eXBlb2YgV1t0ZS0xXT09InN0cmluZyI/V1t0ZS0xXToiICJ9KTticmVhaztjYXNlIDE4Mjp0aGlzLiQ9d3QoV1t0ZV0pO2JyZWFrO2Nhc2UgMTgzOnRoaXMuJD1WbihXW3RlLTFdLHB0KFdbdGVdLnN1YnN0cigxKSkpO2JyZWFrO2Nhc2UgMTg0OnRoaXMuJD13dChXW3RlLTJdLFdbdGVdKTticmVhaztjYXNlIDE4NTpjYXNlIDE5ODp0aGlzLiQ9d3QoV1t0ZV0sSW4pO2JyZWFrO2Nhc2UgMTg2OmNhc2UgMTk5OnRoaXMuJD13dChXW3RlXSxObik7YnJlYWs7Y2FzZSAxODc6Y2FzZSAyMDA6dGhpcy4kPXd0KHB0KFdbdGVdKSxSbik7YnJlYWs7Y2FzZSAxOTA6dGhpcy4kPXd0KFdbdGVdLnRvTG93ZXJDYXNlKCksVW4pO2JyZWFrO2Nhc2UgMTkxOmNhc2UgMTkyOnRoaXMuJD1CbihXW3RlXSwxKTticmVhaztjYXNlIDE5MzpjYXNlIDE5NDp0aGlzLiQ9Qm4oV1t0ZV0sMyk7YnJlYWs7Y2FzZSAxOTU6dGhpcy4kPXd0KFdbdGVdLnN1YnN0cigxKSxJbik7YnJlYWs7Y2FzZSAxOTY6dGhpcy4kPXd0KFdbdGVdLnN1YnN0cigxKSxObik7YnJlYWs7Y2FzZSAxOTc6dGhpcy4kPXd0KFdbdGVdLnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpLFJuKTticmVhaztjYXNlIDIwMTp0aGlzLiQ9SGUuZmFjdG9yeS5uYW1lZE5vZGUobHIoV1t0ZV0pKTticmVhaztjYXNlIDIwMjp2YXIgT3I9V1t0ZV0uaW5kZXhPZigiOiIpLGV0PVdbdGVdLnN1YnN0cigwLE9yKSxFdD1IZS5wcmVmaXhlc1tldF07aWYoIUV0KXRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcmVmaXg6ICIrZXQpO3ZhciBIdD1scihFdCtXW3RlXS5zdWJzdHIoT3IrMSkpO3RoaXMuJD1IZS5mYWN0b3J5Lm5hbWVkTm9kZShIdCk7YnJlYWs7Y2FzZSAyMDM6aWYoV1t0ZV09V1t0ZV0uc3Vic3RyKDAsV1t0ZV0ubGVuZ3RoLTEpLCEoV1t0ZV1pbiBIZS5wcmVmaXhlcykpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZpeDogIitXW3RlXSk7dmFyIEh0PWxyKEhlLnByZWZpeGVzW1dbdGVdXSk7dGhpcy4kPUhlLmZhY3RvcnkubmFtZWROb2RlKEh0KTticmVhaztjYXNlIDIxMjpjYXNlIDIyMDpjYXNlIDIyMjpjYXNlIDIyNDpjYXNlIDIzNDpjYXNlIDIzNjpjYXNlIDI0MjpjYXNlIDI0NjpjYXNlIDI1MDpjYXNlIDI2NDpjYXNlIDI2NjpjYXNlIDI2ODpjYXNlIDI3MDpjYXNlIDI3MjpjYXNlIDI3NDpjYXNlIDI3NjpjYXNlIDI3ODpjYXNlIDMwMzpjYXNlIDMwOTpjYXNlIDMyMDpjYXNlIDMzNjpjYXNlIDM3MDpjYXNlIDM4NjpjYXNlIDQwNTpjYXNlIDQwNzpjYXNlIDQzMzpjYXNlIDQzNTpjYXNlIDQ0NTpjYXNlIDQ0OTpjYXNlIDQ1MTpjYXNlIDQ1MzpXW3RlLTFdLnB1c2goV1t0ZV0pO2JyZWFrO2Nhc2UgMjIzOmNhc2UgMjQxOmNhc2UgMjYzOmNhc2UgMjY1OmNhc2UgMjY3OmNhc2UgMjczOmNhc2UgMjc3OmNhc2UgNDA0OmNhc2UgNDA2OnRoaXMuJD1bV1t0ZV1dO2JyZWFrO2Nhc2UgMjgwOldbdGUtM10ucHVzaChXW3RlLTJdKTticmVhaztjYXNlIDMzMDpjYXNlIDM0MjpjYXNlIDM0NjpjYXNlIDM1NjpjYXNlIDM1ODpjYXNlIDM2MjpjYXNlIDM3NDpjYXNlIDM3NjpjYXNlIDM4NDpjYXNlIDM5MDpjYXNlIDM5MjpjYXNlIDQwMTpXW3RlLTJdLnB1c2goV1t0ZS0xXSk7YnJlYWt9fSx0YWJsZTpbdChlLG4sezM6MSw0OjIsNzozfSksezE6WzNdfSx0KG8sWzIsMjc5XSx7NTo0LDg6NSwzMTM6NiwyMTA6Nyw5OjgsMTAzOjksMjExOjEwLDE3OjExLDQwOjEyLDQ5OjEzLDU0OjE0LDEwNDoxNSwxODoxNiwyMjoxNywyNToyMSw2OlsyLDIwNF0sMTM6ZCwxNjpkLDM1OmQsMTk1OmQsMjE5OmQsMjI0OmQsMzEyOmQsMjg6aCw0MTpbMSwxOF0sNTA6WzEsMTldLDU1OlsxLDIwXX0pLHQoWzYsMTMsMTYsMjgsMzUsNDEsNTAsNTUsMTA3LDExNywxMjAsMTIyLDEyMywxMzIsMTMzLDEzOCwxOTUsMjE5LDIyNCwzMTIsMzIyLDMyMywzMjQsMzI1LDMyNl0sWzIsMl0sezMxNDoyMywxMToyNCwxNDoyNSwxMjpbMSwyNl0sMTU6WzEsMjddfSksezY6WzEsMjhdfSx7NjpbMiwyMDZdfSx7NjpbMiwyMDddfSx7NjpbMiwyMDhdfSx7NjpbMiwyMTddLDEwOjI5LDg5OjMwLDkwOmx9LHs2OlsyLDIwNV19LHQodSxbMiwzOTFdLHsyMTI6MzIsMjEzOjMzfSksdChwLFsyLDIxM10pLHQocCxbMiwyMTRdKSx0KHAsWzIsMjE1XSksdChwLFsyLDIxNl0pLHsxMDU6MzQsMTA3OlsxLDM1XSwxMTA6MzYsMTEzOjM3LDExNzpbMSwzOF0sMTIwOlsxLDM5XSwxMjI6WzEsNDBdLDEyMzpbMSw0MV0sMTI0OjQyLDEyODo0MywxMzI6WzIsMzA0XSwxMzM6WzIsMjk4XSwxMzc6NDksMTM4OlsxLDUwXSwzMjI6WzEsNDRdLDMyMzpbMSw0NV0sMzI0OlsxLDQ2XSwzMjU6WzEsNDddLDMyNjpbMSw0OF19LHQoZyxbMiwyMTldLHsxOTo1MX0pLHQoZyxbMiwyMjFdLHsyMzo1Mn0pLHQodixbMiwyMzVdLHs0Mjo1Myw0NDo1NCw0NjpbMSw1NV19KSx7MTM6YiwxNjpfLDI2OlsxLDU4XSwzNDpPLDUxOjU2LDYwOjYxLDMxMjpULDMxODo1OSwzMTk6NTd9LHQoZyxbMiwyNDldLHs1Njo2NX0pLHsyNjpbMSw2Nl0sMjc6NjcsMzM6NjgsMzQ6aiwzNTpOfSx0KEIsWzIsMjI3XSx7Mjk6NzEsMzE1OjcyLDMxNjpbMSw3M10sMzE3OlsxLDc0XX0pLHQoZSxbMiwyMTJdKSx0KGUsWzIsMjA5XSksdChlLFsyLDIxMF0pLHsxMzpbMSw3NV19LHsxNjpbMSw3Nl19LHsxOlsyLDFdfSx7NjpbMiwzXX0sezY6WzIsMjE4XX0sezM0OlsxLDc4XSwzNTpbMSw4MF0sOTE6NzcsOTM6WzEsNzldfSx0KFs2LDEzLDE2LDM0LDM1LDM4LDg3LDkzLDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSxbMiwxMTBdLHszMzA6WzEsODFdfSksdChDLFsyLDM5OF0sezIxNDo4MiwyMTg6ODMsMjI0OlsxLDg0XX0pLHs2OlsyLDI4MV0sMTA2Ojg1LDE5MTpbMSw4Nl19LHQoTCxbMiwyODNdLHsxMDg6ODcsMzIxOlsxLDg4XX0pLHQoUyxbMiwyODldLHsxMTE6ODksMzIxOlsxLDkwXX0pLHQoUCxbMiwyOTRdLHsxMTQ6OTEsMzIxOlsxLDkyXX0pLHsxMTg6OTMsMTE5OlsyLDI5Nl0sMzIxOlsxLDk0XX0sezQ2OkYsMTIxOjk1fSx7NDY6RiwxMjE6OTd9LHs0NjpGLDEyMTo5OH0sezEyNTo5OSwxMzM6a30sezEyOToxMDEsMTMyOkp9LHQoYWUsWzIsMjg3XSksdChhZSxbMiwyODhdKSx0KHEsWzIsMjkxXSksdChxLFsyLDI5Ml0pLHQocSxbMiwyOTNdKSx7MTMyOlsyLDMwNV0sMTMzOlsyLDI5OV19LHsxMzpiLDE2Ol8sNjA6MTAzLDMxMjpUfSx7MjA6MTA0LDQ1OkcsNDY6cmUsNTc6MTA1LDU4Ok0sNjE6MTA2fSx7MjA6MTA5LDQ1OkcsNDY6cmUsNTc6MTEwLDU4Ok0sNjE6MTA2fSx0KGcsWzIsMjMzXSx7NDM6MTExfSksezQ1OlsxLDExMl0sNTc6MTEzLDU4Ok19LHQoJCxbMiwzNjFdLHsxNzk6MTE0LDE4MDoxMTUsMTgxOjExNiw0ODpbMiwzNTldfSksdChVLFsyLDI0NV0sezUyOjExN30pLHQoVSxbMiwyNDNdLHs2MDo2MSwzMTg6MTE4LDEzOmIsMTY6XywzNDpPLDMxMjpUfSksdChVLFsyLDI0NF0pLHQoSCxbMiwyNDFdKSx0KEgsWzIsMjM5XSksdChILFsyLDI0MF0pLHQoZWUsWzIsMjAxXSksdChlZSxbMiwyMDJdKSx0KGVlLFsyLDIwM10pLHsyMDoxMTksNDU6Ryw0NjpyZSw1NzoxMjAsNTg6TSw2MToxMDZ9LHQoZyxbMiw4XSksdChnLFsyLDldLHszMzoxMjEsMzQ6aiwzNTpOfSksdChnZSxbMiwyMjNdKSx0KGdlLFsyLDEzXSksezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjoxMjIsMzk6MTIzLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDIzMTp4ZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoQixbMiwxMF0pLHQoQixbMiwyMjhdKSx0KEIsWzIsMjI1XSksdChCLFsyLDIyNl0pLHQoZSxbMiw0XSksezEzOlsxLDE3Nl19LHQoa2UsWzIsNDBdKSx7NDY6WzEsMTc3XX0sezQ2OlsxLDE3OF19LHszNDpbMSwxODBdLDk1OjE3OX0sdCh1LFsyLDM5MF0pLHQoWzYsMTMsMTYsMzQsMzUsMzgsODcsOTMsMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzMwXSxbMiwxMTFdLHszMzE6WzEsMTgxXX0pLHsxMzpiLDE2Ol8sMzU6WzEsMTg3XSw2MDoxODQsMTk1OlsxLDE4NV0sMjE1OjE4MiwyMTY6MTgzLDIxOTpbMSwxODZdLDMxMjpUfSx0KEMsWzIsMzk5XSksezY6WzIsNDldfSx0KGUsbix7NzozLDQ6MTg4fSksezEzOmIsMTY6Xyw2MDoxODksMzEyOlR9LHQoTCxbMiwyODRdKSx7MTEyOjE5MCwxMTk6WzEsMTkxXSwxNDE6WzEsMTkzXSwxNDM6MTkyLDMyMDpbMSwxOTRdLDMyNzpbMSwxOTVdfSx0KFMsWzIsMjkwXSksdChMLEJlLHsxMTU6MTk2LDE0MjoxOTgsMTE5OkRlLDE0MTpMZX0pLHQoUCxbMiwyOTVdKSx7MTE5OlsxLDIwMF19LHsxMTk6WzIsMjk3XX0sdChLZSxbMiw1NF0pLHQoJCxKZSx7MTQ0OjIwMSwxNTE6MjAyLDE1MjoyMDMsNDg6enQsMTE5Onp0fSksdChLZSxbMiw1NV0pLHQoS2UsWzIsNTZdKSx0KHl0LFsyLDMwMF0sezEyNjoyMDQsMTI5OjIwNSwxMzI6Sn0pLHs0NjpGLDEyMToyMDZ9LHQoeXQsWzIsMzA2XSx7MTMwOjIwNywxMjU6MjA4LDEzMzprfSksezQ2OkYsMTIxOjIwOX0sdChbMTMyLDEzM10sWzIsNjJdKSx0KHllLEVlLHsyMToyMTAsNjQ6MjExLDc0OjIxMiw3NTpYZX0pLHQoZyxbMiwyMjBdKSx7NDY6cWUsNjI6MjE0fSx0KEwsWzIsMjUxXSx7NTk6MjE2LDMyMDpbMSwyMTddfSksezQ2OlsyLDI1NF19LHQoWWUsWHQsezI0OjIxOCw2MzoyMTksNjc6MjIwLDY4OnF0fSksdChnLFsyLDIyMl0pLHsyMDoyMjIsNDU6Ryw0NjpyZSw1NzoyMjMsNTg6TSw2MToxMDZ9LHs0NjpbMSwyMjRdfSx0KHYsWzIsMjM2XSksezQ4OlsxLDIyNV19LHs0ODpbMiwzNjBdfSx7MTM6YiwxNjpfLDM0Omh0LDM1Om5yLDM5OjIzMCw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDE1MzoyMjYsMTgzOjIyNywxODU6MjI4LDIyNjppciwyMzE6eGUsMjQzOjIyOSwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KFhyLFsyLDI0N10sezYxOjEwNiw1MzoyNDAsNTc6MjQxLDIwOjI0Miw0NTpHLDQ2OnJlLDU4Ok19KSx0KEgsWzIsMjQyXSksdChZZSxYdCx7NjM6MjE5LDY3OjIyMCwyNDoyNDMsNjg6cXR9KSx0KGcsWzIsMjUwXSksdChnZSxbMiwyMjRdKSx7Mzc6WzEsMjQ0XX0sezM3OlsxLDI0NV19LHQoaHIsWzIsNDMyXSx7MjQ4OjI0Nn0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzk6MjQ5LDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMTE5OlsxLDI0N10sMjMxOnhlLDIzNjoyNDgsMjQzOjI1MCwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KEt0LFsyLDQzNF0sezI1MjoyNTF9KSx0KEt0LFsyLDE0OF0sezI1NjoyNTIsMjU3OjI1MywyNTg6WzIsNDQyXSwyOTU6WzEsMjU0XSwzMzQ6WzEsMjU1XSwzMzU6WzEsMjU2XSwzMzY6WzEsMjU3XSwzMzc6WzEsMjU4XSwzMzg6WzEsMjU5XSwzMzk6WzEsMjYwXX0pLHQoV3QsWzIsNDQ0XSx7MjYwOjI2MX0pLHQoYXQsWzIsNDUyXSx7MjY4OjI2Mn0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyNjM6MTU0LDI2NToxNTUsMjcyOjI2MywyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyNjM6MTU0LDI2NToxNTUsMjcyOjI2NCwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyNjM6MTU0LDI2NToxNTUsMjcyOjI2NSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoYXQsWzIsMTYwXSksdChhdCxbMiwxNjFdKSx0KGF0LFsyLDE2Ml0pLHQoYXQsWzIsMTYzXSx7MzU6cXIsOTM6S3J9KSx0KGF0LFsyLDE2NF0pLHQoYXQsWzIsMTY1XSksdChhdCxbMiwxNjZdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjI2OCw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoc3QsWzIsMTY4XSksezkzOlsxLDI2OV19LHszNTpbMSwyNzBdfSx7MzU6WzEsMjcxXX0sezM1OlsxLDI3Ml19LHszNTpXciw5MzpKciwxNzc6MjczfSx7MzU6WzEsMjc2XX0sezM1OlsxLDI3OF0sOTM6WzEsMjc3XX0sezI4NDpbMSwyNzldfSx0KGN0LFsyLDE4Ml0sezI5NzpbMSwyODBdLDI5ODpbMSwyODFdfSksdChjdCxbMiwxODVdKSx0KGN0LFsyLDE4Nl0pLHQoY3QsWzIsMTg3XSksdChjdCxbMiwxODhdKSx0KGN0LFsyLDE4OV0pLHQoY3QsWzIsMTkwXSksezM1OlsxLDI4Ml19LHszNTpbMSwyODNdfSx7MzU6WzEsMjg0XX0sdChhcixbMiw0NTZdKSx0KGFyLFsyLDQ1N10pLHQoYXIsWzIsNDU4XSksdChhcixbMiw0NTldKSx0KGFyLFsyLDQ2MF0pLHsyODQ6WzIsNDYyXX0sdChwcixbMiwxOTFdKSx0KHByLFsyLDE5Ml0pLHQocHIsWzIsMTkzXSksdChwcixbMiwxOTRdKSx0KGN0LFsyLDE5NV0pLHQoY3QsWzIsMTk2XSksdChjdCxbMiwxOTddKSx0KGN0LFsyLDE5OF0pLHQoY3QsWzIsMTk5XSksdChjdCxbMiwyMDBdKSx0KGUsWzIsNV0pLHQoWXIsWzIsMjY5XSx7OTI6Mjg1fSksdChacixbMiwyNzFdLHs5NDoyODZ9KSx7MzQ6WzEsMjg4XSwzODpbMSwyODddfSx0KGVuLFsyLDI3M10pLHQodSxbMiwzOTJdKSx0KEJ0LFsyLDExM10pLHQoQnQsWzIsMzk2XSx7MjE3OjI4OSwzMzI6MjkwLDI2OlsxLDI5Ml0sMjcxOlsxLDI5M10sMzMzOlsxLDI5MV19KSx0KGJ0LFsyLDExNF0pLHQoYnQsWzIsMTE1XSksezEzOmIsMTY6XywzNTpbMSwyOTddLDYwOjI5OCw5MzpbMSwyOTZdLDE5NTp0biwyMjA6Mjk0LDIyMToyOTUsMjI0OnJuLDMxMjpUfSx0KHUsZCx7MjExOjEwLDIxMDozMDF9KSx0KG8sWzIsMjgwXSx7NjpbMiwyODJdfSksdChLZSxbMiwyODVdLHsxMDk6MzAyLDEzOTozMDMsMTQwOlsxLDMwNF19KSx0KEtlLFsyLDUxXSksezEzOmIsMTY6Xyw2MDozMDUsMzEyOlR9LHQoS2UsWzIsNjddKSx0KEtlLFsyLDMxNF0pLHQoS2UsWzIsMzE1XSksdChLZSxbMiwzMTZdKSx7MTE2OlsxLDMwNl19LHQobm4sWzIsNjRdKSx7MTM6YiwxNjpfLDYwOjMwNywzMTI6VH0sdChMLFsyLDMxM10pLHsxMzpiLDE2Ol8sNjA6MzA4LDMxMjpUfSx0KER0LFsyLDMxOV0sezE0NTozMDl9KSx0KER0LFsyLDMxOF0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzU6bnIsMzk6MjMwLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMTUzOjMxMCwxODM6MjI3LDE4NToyMjgsMjI2OmlyLDIzMTp4ZSwyNDM6MjI5LDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoeXQsWzIsMzAyXSx7MTI3OjMxMX0pLHQoeXQsWzIsMzAxXSksdChbNDUsMTMyLDEzNV0sWzIsNjBdKSx0KHl0LFsyLDMwOF0sezEzMTozMTJ9KSx0KHl0LFsyLDMwN10pLHQoWzQ1LDEzMywxMzVdLFsyLDU5XSksdChwLFsyLDZdKSx0KElyLFsyLDI1OV0sezY1OjMxMyw3NzozMTQsNzg6WzEsMzE1XX0pLHQoeWUsWzIsMjU4XSksezEzOmIsMTY6XywzNTpmZSw2MDozMjEsNzI6MzE5LDczOjMyMCw3NjozMTYsODI6MzE4LDg0OjMxNywyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoWzYsNDgsNjgsNzUsNzgsODYsODgsOTBdLFsyLDIxXSksdCgkLGFuLHsyNToyMSwzMDozMjIsMTU1OjMyMywxODozMjQsMjI6MzI1LDE1NjozMjYsMTYyOjMyNywxNjM6MzI4LDI4OmgsNDY6VHQsNDg6VHQsOTA6VHQsMTE5OlR0LDE2NzpUdCwxNjg6VHQsMTcwOlR0LDE3MzpUdCwxNzQ6VHR9KSx7MTM6YiwxNjpfLDYwOjMyOSwzMTI6VH0sdChMLFsyLDI1Ml0pLHQocCxbMiw3XSksdCh5ZSxFZSx7NjQ6MjExLDc0OjIxMiwyMTozMzAsNzU6WGV9KSx0KFllLFsyLDI1Nl0pLHs2OTpbMSwzMzFdfSx0KFllLFh0LHs2MzoyMTksNjc6MjIwLDI0OjMzMiw2ODpxdH0pLHQoZyxbMiwyMzRdKSx0KCQsSmUsezE1MjoyMDMsNDc6MzMzLDE1MTozMzQsNDg6WzIsMjM3XX0pLHQoZyxbMiw5Ml0pLHs0ODpbMiwzNjNdLDE4MjozMzUsMzI4OlsxLDMzNl19LHsxMzpiLDE2Ol8sMzQ6eHQsNjA6MzQxLDE4NDozMzcsMTg4OjMzOCwxOTM6MzM5LDE5NTpJdCwzMTI6VH0sdChzcixbMiwzNjddLHsxODg6MzM4LDE5MzozMzksNjA6MzQxLDE4NjozNDMsMTg3OjM0NCwxODQ6MzQ1LDEzOmIsMTY6XywzNDp4dCwxOTU6SXQsMzEyOlR9KSx0KF90LFsyLDM2NV0pLHQoX3QsWzIsMzY2XSksezEzOmIsMTY6XywzNDpodCwzNTpuciwzOTozNTEsNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwxODU6MzQ5LDE5NzozNDcsMjI1OjM0NiwyMjY6aXIsMjI5OjM0OCwyMzE6eGUsMjQzOjM1MCwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx7MTM6YiwxNjpfLDM0Onh0LDYwOjM0MSwxODQ6MzUyLDE4ODozMzgsMTkzOjMzOSwxOTU6SXQsMzEyOlR9LHQoRnQsWzIsMTM3XSksdChGdCxbMiwxMzhdKSx0KEZ0LFsyLDEzOV0pLHQoRnQsWzIsMTQwXSksdChGdCxbMiwxNDFdKSx0KEZ0LFsyLDE0Ml0pLHQoRnQsWzIsMTQzXSksdChZZSxYdCx7NjM6MjE5LDY3OjIyMCwyNDozNTMsNjg6cXR9KSx0KFUsWzIsMjQ2XSksdChYcixbMiwyNDhdKSx0KHAsWzIsMTldKSx7MzQ6WzEsMzU0XX0sezM0OlsxLDM1NV19LHQoWzM3LDM4LDE5MSwyNzhdLFsyLDE0NF0sezI0OTozNTYsMjUwOlsxLDM1N119KSx7MTM6YiwxNjpfLDM0OlsxLDM1OV0sNjA6MzYwLDIzMjozNTgsMzEyOlR9LHsxMzpiLDE2Ol8sMzQ6eHQsNjA6MzQxLDE5MzozNjEsMTk1Okl0LDMxMjpUfSx0KF90LFsyLDQxOF0pLHQoX3QsWzIsNDE5XSksdChocixbMiwxNDZdLHsyNTM6MzYyLDI1NDpbMSwzNjNdfSksezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNTU6MzY0LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezI1ODpbMSwzNjVdfSx0KHR0LFsyLDQzNl0pLHQodHQsWzIsNDM3XSksdCh0dCxbMiw0MzhdKSx0KHR0LFsyLDQzOV0pLHQodHQsWzIsNDQwXSksdCh0dCxbMiw0NDFdKSx7MjU4OlsyLDQ0M119LHQoWzM3LDM4LDE5MSwyNTAsMjU0LDI1OCwyNzgsMjk1LDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5XSxbMiwxNTFdLHsyNjE6MzY2LDI2MjozNjcsMjYzOjM2OCwyNjU6MzY5LDI3MTpbMSwzNzBdLDI3MzpbMSwzNzFdLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6d30pLHQoV3QsWzIsMTU1XSx7MjY5OjM3MiwyNzA6MzczLDI2Ok5yLDMzMTpScn0pLHQoYXQsWzIsMTU3XSksdChhdCxbMiwxNThdKSx0KGF0LFsyLDE1OV0pLHQoc3QsWzIsODhdKSx0KHR0LFsyLDM1M10sezE3NTozNzYsMzE2OlsxLDM3N119KSx7Mzg6WzEsMzc4XX0sdChzdCxbMiwxNjldKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjM3OSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6MzgwLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjozODEsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6TmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KHN0LFsyLDE3M10pLHQoc3QsWzIsOTBdKSx0KHR0LFsyLDM1N10sezE3ODozODJ9KSx7MzQ6WzEsMzgzXX0sdChzdCxbMiwxNzVdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjM4NCw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHs0NjpxZSw2MjozODV9LHQoY3QsWzIsMTgzXSksezEzOmIsMTY6Xyw2MDozODYsMzEyOlR9LHQoc24sWzIsNDYzXSx7Mjg2OjM4NywzMTY6WzEsMzg4XX0pLHQodHQsWzIsNDY3XSx7Mjg5OjM4OSwzMTY6WzEsMzkwXX0pLHQodHQsWzIsNDY5XSx7MjkxOjM5MSwzMTY6WzEsMzkyXX0pLHsxMzpiLDE2Ol8sNDg6WzEsMzkzXSw2MDozOTUsODc6aGUsOTc6Mzk0LDk4OjM5Niw5OTozOTcsMTAwOlByLDIzMTpNdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHs0ODpbMSw0MDBdLDkzOlsxLDQwMV19LHs0NjpbMSw0MDJdfSx0KGVuLFsyLDI3NF0pLHQoQnQsWzIsMTEyXSksdChCdCxbMiwzOTddKSx0KEJ0LFsyLDM5M10pLHQoQnQsWzIsMzk0XSksdChCdCxbMiwzOTVdKSx0KGJ0LFsyLDExNl0pLHQoYnQsWzIsMTE4XSksdChidCxbMiwxMTldKSx0KG9uLFsyLDQwMF0sezIyMjo0MDN9KSx0KGJ0LFsyLDEyMV0pLHQoYnQsWzIsMTIyXSksezEzOmIsMTY6Xyw2MDo0MDQsMTk1OlsxLDQwNV0sMzEyOlR9LHszODpbMSw0MDZdfSx0KEtlLFsyLDUwXSksdChLZSxbMiwyODZdKSx7MTE5OlsxLDQwN119LHQoS2UsWzIsNjZdKSx0KEwsQmUsezE0MjoxOTgsMTE1OjQwOCwxMTk6RGUsMTQxOkxlfSksdChubixbMiw2NV0pLHQoS2UsWzIsNTNdKSx7NDg6WzEsNDA5XSwxMTk6WzEsNDExXSwxNDY6NDEwfSx0KER0LFsyLDMzMV0sezE1NDo0MTIsMzI4OlsxLDQxM119KSx7NDU6WzEsNDE0XSwxMzQ6NDE1LDEzNTp1bn0sezQ1OlsxLDQxN10sMTM0OjQxOCwxMzU6dW59LHQoTnQsWzIsMjYxXSx7NjY6NDE5LDg1OjQyMCw4NjpbMSw0MjFdLDg4OlsxLDQyMl19KSx0KElyLFsyLDI2MF0pLHs2OTpbMSw0MjNdfSx0KHllLFsyLDMwXSx7Mjc0OjE0MSwyODA6MTQ2LDI4MzoxNDksODI6MzE4LDcyOjMxOSw3MzozMjAsNjA6MzIxLDg0OjQyNCwxMzpiLDE2Ol8sMzU6ZmUsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MTpVZSwyODI6RmUsMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSksdChjbixbMiwyNjVdKSx0KExyLFsyLDg1XSksdChMcixbMiw4Nl0pLHQoTHIsWzIsODddKSx7MzU6cXIsOTM6S3J9LHs0ODpbMSw0MjVdfSx7NDg6WzEsNDI2XX0sezIwOjQyNyw0NTpHLDQ2OnJlLDYxOjEwNn0sezIwOjQyOCw0NTpHLDQ2OnJlLDYxOjEwNn0sdChrdCxbMiwzMzVdLHsxNTc6NDI5fSksdChrdCxbMiwzMzRdKSx7MTM6YiwxNjpfLDM0Omh0LDM1Om9yLDM5OjQzNCw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDE2NDo0MzAsMjAxOjQzMSwyMDM6NDMyLDIyNjp1ciwyMzE6eGUsMjQzOjQzMywyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KFUsWzIsMjBdKSx0KE50LFsyLDIyXSksezEzOmIsMTY6XywzNDpsbiwzNTpkbiw2MDozMjEsNzA6NDM3LDcxOjQzOCw3Mjo0MzksNzM6NDQwLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChwLFsyLDE2XSksezQ4OlsxLDQ0M119LHs0ODpbMiwyMzhdfSx7NDg6WzIsOTNdfSx0KCQsWzIsMzYyXSx7NDg6WzIsMzY0XX0pLHQoc3IsWzIsOTRdKSx0KCR0LFsyLDM2OV0sezE4OTo0NDR9KSx0KCQsWzIsMzczXSx7MTk0OjQ0NSwxOTY6NDQ2fSksdCgkLFsyLDEwMF0pLHQoJCxbMiwxMDFdKSx0KCQsWzIsMTAyXSksdChzcixbMiw5NV0pLHQoc3IsWzIsOTZdKSx0KHNyLFsyLDM2OF0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzU6bnIsMzg6WzEsNDQ3XSwzOTozNTEsNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwxODU6MzQ5LDE5Nzo0NDgsMjI2OmlyLDIyOTozNDgsMjMxOnhlLDI0MzozNTAsMjQ0OjIzNCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChtcixbMiw0MDRdKSx0KHlyLFsyLDEyOV0pLHQoeXIsWzIsMTMwXSksdCh5cixbMiw0MDhdKSx0KHlyLFsyLDQwOV0pLHsyMjc6WzEsNDQ5XX0sdChwLFsyLDE4XSksezM4OlsxLDQ1MF19LHszODpbMSw0NTFdfSx0KGhyLFsyLDQzM10pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjQ1MiwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6TmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7NDY6WzEsNDUzXX0sezQ2OlsyLDQxMl19LHs0NjpbMiw0MTNdfSx7MTM6YiwxNjpfLDM0Omh0LDM5OjQ1NSw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDIzMTp4ZSwyMzc6NDU0LDI0Mzo0NTYsMjQ0OjIzNCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChLdCxbMiw0MzVdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI1MTo0NTcsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoS3QsWzIsMTQ5XSksezM1OldyLDkzOkpyLDE3Nzo0NTh9LHQoV3QsWzIsNDQ1XSksezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNTk6NDU5LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoYXQsWzIsNDQ4XSx7MjY0OjQ2MH0pLHQoYXQsWzIsNDUwXSx7MjY2OjQ2MX0pLHQodHQsWzIsNDQ2XSksdCh0dCxbMiw0NDddKSx0KGF0LFsyLDQ1M10pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjYzOjE1NCwyNjU6MTU1LDI2Nzo0NjIsMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdCh0dCxbMiw0NTRdKSx0KHR0LFsyLDQ1NV0pLHQodHQsWzIsMzU1XSx7MTc2OjQ2M30pLHQodHQsWzIsMzU0XSksdChbNiwxMywxNiwyNiwzNCwzNSwzNywzOCw0Niw0OCw3OCw4MSw4Myw4Niw4Nyw4OCw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMjI2LDIzMSwyNDUsMjQ2LDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc1LDI3NiwyNzcsMjc4LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwyOTUsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjgsMzMxLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5LDM0MCwzNDEsMzQyLDM0MywzNDRdLFsyLDE2N10pLHszODpbMSw0NjRdfSx7Mjc4OlsxLDQ2NV19LHsyNzg6WzEsNDY2XX0sezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo0NjcsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6TmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7Mzg6WzEsNDY4XX0sezM4OlsxLDQ2OV19LHQoc3QsWzIsMTc3XSksdChjdCxbMiwxODRdKSx7MTM6YiwxNjpfLDI2OlsxLDQ3MV0sMzQ6bWUsMzU6ZmUsMzY6NDcyLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODc6NDcwLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KHNuLFsyLDQ2NF0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6NDczLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdCh0dCxbMiw0NjhdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjQ3NCw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQodHQsWzIsNDcwXSksdChrZSxbMiw0MV0pLHQoWXIsWzIsMjcwXSksdChncixbMiw0NF0pLHQoZ3IsWzIsNDVdKSx0KGdyLFsyLDQ2XSksdChncixbMiw0N10pLHsxMzpiLDE2Ol8sNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiw5OTo0NzcsMTE5OlsxLDQ3NV0sMjMxOk10LDI0MTo0NzYsMjQ0OjQ3OCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChrZSxbMiw0Ml0pLHQoWnIsWzIsMjcyXSksdChDcixbMiwyNzVdLHs5Njo0Nzl9KSx7MTM6YiwxNjpfLDM4OlsyLDQwMl0sNjA6Mjk4LDE5NTp0biwyMjE6NDgxLDIyMzo0ODAsMjI0OnJuLDMxMjpUfSx0KGJ0LFsyLDEyM10pLHQoYnQsWzIsMTI0XSksdChidCxbMiwxMTddKSx7MTM6YiwxNjpfLDYwOjQ4MiwzMTI6VH0sdChLZSxbMiw1Ml0pLHQoWzYsNDUsMTMyLDEzMywxMzUsMTkxXSxbMiw2OF0pLHQoRHQsWzIsMzIwXSksezEzOmIsMTY6XywzNDpbMSw0ODRdLDYwOjQ4NSwxNDc6NDgzLDMxMjpUfSx0KER0LFsyLDcwXSksdCgkLFsyLDMzMF0sezQ4OmZuLDExOTpmbn0pLHs0NjpxZSw2Mjo0ODZ9LHQoeXQsWzIsMzAzXSksdChMLFsyLDMxMF0sezEzNjo0ODcsMzIwOlsxLDQ4OF19KSx7NDY6cWUsNjI6NDg5fSx0KHl0LFsyLDMwOV0pLHQoTnQsWzIsMjNdKSx0KE50LFsyLDI2Ml0pLHs4NzpbMSw0OTBdfSx7ODc6WzEsNDkxXX0sezEzOmIsMTY6XywzNDpobiwzNTpmZSw2MDozMjEsNzI6MzE5LDczOjMyMCw3OTo0OTIsODA6NDkzLDgxOnBuLDgyOjMxOCw4Mzptbiw4NDo0OTYsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KGNuLFsyLDI2Nl0pLHQoeW4sWzIsNzFdKSx0KHluLFsyLDcyXSksdCh5ZSxFZSx7NjQ6MjExLDc0OjIxMiwyMTo0OTgsNzU6WGV9KSx0KFllLFh0LHs2MzoyMTksNjc6MjIwLDI0OjQ5OSw2ODpxdH0pLHs0NjpbMiwzNDVdLDQ4OlsyLDczXSw4OTo1MDksOTA6bCwxMTk6WzEsNTA1XSwxNTg6NTAwLDE1OTo1MDEsMTY2OjUwMiwxNjc6WzEsNTAzXSwxNjg6WzEsNTA0XSwxNzA6WzEsNTA2XSwxNzM6WzEsNTA3XSwxNzQ6WzEsNTA4XX0sdChrdCxbMiwzNDNdLHsxNjU6NTEwLDMyODpbMSw1MTFdfSksdCh1LGQsezIxMToxMCwyMDI6NTEyLDIwNTo1MTMsMjEwOjUxNCwzNDpCcn0pLHQoYnIsWzIsMzc5XSx7MjExOjEwLDIwNTo1MTMsMjEwOjUxNCwyMDQ6NTE2LDIwMjo1MTcsMTM6ZCwxNjpkLDM1OmQsMTk1OmQsMjE5OmQsMjI0OmQsMzEyOmQsMzQ6QnJ9KSx0KGduLFsyLDM3N10pLHQoZ24sWzIsMzc4XSksezEzOmIsMTY6XywzNDpodCwzNTpvciwzOTo1MjMsNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwyMDA6NTE5LDIwMzo1MjEsMjI2OnVyLDIyODo1MTgsMjMwOjUyMCwyMzE6eGUsMjQzOjUyMiwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KHUsZCx7MjExOjEwLDIwNTo1MTMsMjEwOjUxNCwyMDI6NTI0LDM0OkJyfSksdChZZSxbMiwyNF0sezI3NDoxNDEsMjgwOjE0NiwyODM6MTQ5LDYwOjMyMSw3Mjo0MzksNzM6NDQwLDcxOjUyNSwxMzpiLDE2Ol8sMzQ6bG4sMzU6ZG4sMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MTpVZSwyODI6RmUsMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSksdChVdCxbMiwyNjNdKSx0KFV0LFsyLDI1XSksdChVdCxbMiwyNl0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6NTI2LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChVdCxbMiwyOV0pLHQoWWUsWHQsezYzOjIxOSw2NzoyMjAsMjQ6NTI3LDY4OnF0fSksdChbNDgsMTE5LDIyNywzMjhdLFsyLDk3XSx7MTkwOjUyOCwxOTE6WzEsNTI5XX0pLHQoJHQsWzIsOTldKSx7MTM6YiwxNjpfLDM0Omh0LDM1Om5yLDM5OjM1MSw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDE4NTozNDksMTk3OjUzMCwyMjY6aXIsMjI5OjM0OCwyMzE6eGUsMjQzOjM1MCwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KGJuLFsyLDEyNV0pLHQobXIsWzIsNDA1XSksdChibixbMiwxMjZdKSx0KGdlLFsyLDE0XSksdChnZSxbMiwxNV0pLHQoaHIsWzIsMTQ1XSksezEzOmIsMTY6XywzNDpodCwzOTo1MzIsNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwyMzE6eGUsMjMzOjUzMSwyNDM6NTMzLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHsyMzU6WzEsNTM0XX0sezIzNTpbMiw0MjBdfSx7MjM1OlsyLDQyMV19LHQoS3QsWzIsMTQ3XSksdChLdCxbMiwxNTBdKSx0KFd0LFsyLDE1Ml0pLHQoV3QsWzIsMTUzXSx7MjcwOjM3MywyNjk6NTM1LDI2Ok5yLDMzMTpScn0pLHQoV3QsWzIsMTU0XSx7MjcwOjM3MywyNjk6NTM2LDI2Ok5yLDMzMTpScn0pLHQoYXQsWzIsMTU2XSksezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo1MzcsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6TmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KHN0LFsyLDE3MF0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6NTM4LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOk5lLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1OlJlLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6WCwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo1MzksNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6TmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7Mzg6WzEsNTQwXSwyNzg6WzEsNTQxXX0sdChzdCxbMiwxNzRdKSx0KHN0LFsyLDE3Nl0pLHszODpbMSw1NDJdfSx7Mzg6WzIsNDY1XX0sezM4OlsyLDQ2Nl19LHszODpbMSw1NDNdfSx7Mzg6WzIsNDcxXSwxOTE6WzEsNTQ2XSwyOTI6NTQ0LDI5Mzo1NDV9LHsxMzpiLDE2Ol8sMzQ6WzEsNTQ4XSw2MDo1NDksMjM4OjU0NywzMTI6VH0sezEzOmIsMTY6XywzNDp4dCw2MDozNDEsMTkzOjU1MCwxOTU6SXQsMzEyOlR9LHQoX3QsWzIsNDI4XSksdChfdCxbMiw0MjldKSx7MzU6WzEsNTUzXSw0ODpbMSw1NTFdLDEwMTo1NTJ9LHszODpbMSw1NTRdfSx7Mzg6WzIsNDAzXSwzMzA6WzEsNTU1XX0sdChLZSxbMiw2M10pLHs0NjpbMSw1NTZdfSx7NDY6WzIsMzIxXX0sezQ2OlsyLDMyMl19LHQoS2UsWzIsNTddKSx7MTM6YiwxNjpfLDYwOjU1NywzMTI6VH0sdChMLFsyLDMxMV0pLHQoS2UsWzIsNThdKSx0KE50LFsyLDM2XSx7ODg6WzEsNTU4XX0pLHQoTnQsWzIsMzddLHs4NjpbMSw1NTldfSksdChJcixbMiwzMV0sezI3NDoxNDEsMjgwOjE0NiwyODM6MTQ5LDgyOjMxOCw3MjozMTksNzM6MzIwLDYwOjMyMSw4NDo0OTYsODA6NTYwLDEzOmIsMTY6XywzNDpobiwzNTpmZSw4MTpwbiw4MzptbiwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgxOlVlLDI4MjpGZSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9KSx0KEp0LFsyLDI2N10pLHszNTpmZSw4Mjo1NjF9LHszNTpmZSw4Mjo1NjJ9LHQoSnQsWzIsMzRdKSx0KEp0LFsyLDM1XSksezMxOjU2Myw0ODpbMiwyMjldLDg5OjU2NCw5MDpsfSx7MzI6NTY1LDQ4OlsyLDIzMV0sODk6NTY2LDkwOmx9LHQoa3QsWzIsMzM2XSksdChfbixbMiwzMzddLHsxNjA6NTY3LDMyODpbMSw1NjhdfSksezQ2OnFlLDYyOjU2OX0sezQ2OnFlLDYyOjU3MH0sezQ2OnFlLDYyOjU3MX0sezEzOmIsMTY6XywzNDpbMSw1NzNdLDYwOjU3NCwxNjk6NTcyLDMxMjpUfSx0KHZuLFsyLDM0OV0sezE3MTo1NzUsMzIxOlsxLDU3Nl19KSx7MTM6YiwxNjpfLDM1OmZlLDYwOjMyMSw3MjozMTksNzM6MzIwLDgyOjMxOCw4NDo1NzcsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7MzU6WzEsNTc4XX0sdChBdCxbMiw4NF0pLHQoa3QsWzIsNzVdKSx0KCQsWzIsMzQyXSx7NDY6T3QsNDg6T3QsOTA6T3QsMTE5Ok90LDE2NzpPdCwxNjg6T3QsMTcwOk90LDE3MzpPdCwxNzQ6T3R9KSx0KGJyLFsyLDEwNV0pLHQoJCxbMiwzODNdLHsyMDY6NTc5fSksdCgkLFsyLDM4MV0pLHQoJCxbMiwzODJdKSx0KGJyLFsyLDEwNl0pLHQoYnIsWzIsMzgwXSksezEzOmIsMTY6XywzNDpodCwzNTpvciwzODpbMSw1ODBdLDM5OjUyMyw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDIwMDo1ODEsMjAzOjUyMSwyMjY6dXIsMjMwOjUyMCwyMzE6eGUsMjQzOjUyMiwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KG1yLFsyLDQwNl0pLHQoX3IsWzIsMTMxXSksdChfcixbMiwxMzJdKSx0KF9yLFsyLDQxMF0pLHQoX3IsWzIsNDExXSksezIyNzpbMSw1ODJdfSx0KFV0LFsyLDI2NF0pLHszNzpbMSw1ODRdLDM4OlsxLDU4M119LHQocCxbMiwxN10pLHQoJHQsWzIsMzcwXSksdCgkdCxbMiwzNzFdLHsxOTM6MzM5LDYwOjM0MSwxOTI6NTg1LDE4ODo1ODYsMTM6YiwxNjpfLDM0Onh0LDE5NTpJdCwzMTI6VH0pLHQoJHQsWzIsMTAzXSx7Mjc4OlsxLDU4N119KSx7MTM6YiwxNjpfLDM0Onh0LDYwOjM0MSwxOTM6NTg4LDE5NTpJdCwzMTI6VH0sdChfdCxbMiw0MTRdKSx0KF90LFsyLDQxNV0pLHQod24sWzIsMTM0XSksdChhdCxbMiw0NDldKSx0KGF0LFsyLDQ1MV0pLHszODpbMSw1ODldLDI3ODpbMSw1OTBdfSx7Mzg6WzEsNTkxXX0sezI3ODpbMSw1OTJdfSx0KHN0LFsyLDkxXSksdCh0dCxbMiwzNThdKSx0KHN0LFsyLDE3OF0pLHQoc3QsWzIsMTc5XSksezM4OlsxLDU5M119LHszODpbMiw0NzJdfSx7Mjk0OlsxLDU5NF19LHs0NjpbMSw1OTVdfSx7NDY6WzIsNDIyXX0sezQ2OlsyLDQyM119LHsxMzpiLDE2Ol8sNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiw5OTo1OTcsMjMxOk10LDI0Mjo1OTYsMjQ0OjU5OCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChrZSxbMiw0M10pLHQoQ3IsWzIsMjc2XSksezEzOmIsMTY6Xyw2MDozOTUsODc6aGUsOTc6NjAwLDk4OjM5Niw5OTozOTcsMTAwOlByLDEwMjo1OTksMjMxOk10LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChidCxbMiwxMjBdKSx0KG9uLFsyLDQwMV0pLHQoJCxKZSx7MTUyOjIwMywxNDg6NjAxLDE1MTo2MDIsNDg6WzIsMzIzXX0pLHQoeXQsWzIsNjFdKSx7ODc6WzEsNjAzXX0sezg3OlsxLDYwNF19LHQoSnQsWzIsMjY4XSksdChKdCxbMiwzMl0pLHQoSnQsWzIsMzNdKSx7NDg6WzIsMTFdfSx7NDg6WzIsMjMwXX0sezQ4OlsyLDEyXX0sezQ4OlsyLDIzMl19LHQoJCxhbix7MTYzOjMyOCwxNjE6NjA1LDE2Mjo2MDYsNDY6U3QsNDg6U3QsOTA6U3QsMTE5OlN0LDE2NzpTdCwxNjg6U3QsMTcwOlN0LDE3MzpTdCwxNzQ6U3R9KSx0KF9uLFsyLDMzOF0pLHQoQXQsWzIsNzZdLHszMjk6WzEsNjA3XX0pLHQoQXQsWzIsNzddKSx0KEF0LFsyLDc4XSksezQ2OnFlLDYyOjYwOH0sezQ2OlsyLDM0N119LHs0NjpbMiwzNDhdfSx7MTM6YiwxNjpfLDM0OlsxLDYxMF0sNjA6NjExLDE3Mjo2MDksMzEyOlR9LHQodm4sWzIsMzUwXSksdChBdCxbMiw4MV0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6NjEyLDM5OjYxMyw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyMzE6eGUsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6TmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6UmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpYLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7MTM6YiwxNjpfLDM0Omh0LDM1Om9yLDM5OjUyMyw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDIwMDo2MTQsMjAzOjUyMSwyMjY6dXIsMjMwOjUyMCwyMzE6eGUsMjQzOjUyMiwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KEVuLFsyLDEyN10pLHQobXIsWzIsNDA3XSksdChFbixbMiwxMjhdKSx0KFV0LFsyLDI3XSksezM0OlsxLDYxNV19LHQoJHQsWzIsOThdKSx0KCR0LFsyLDM3Ml0pLHQoJCxbMiwzNzRdKSx7MTM6YiwxNjpfLDM0Omh0LDM5OjYxNyw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDIzMTp4ZSwyMzQ6NjE2LDI0Mzo2MTgsMjQ0OjIzNCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChzdCxbMiw4OV0pLHQodHQsWzIsMzU2XSksdChzdCxbMiwxNzFdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjYxOSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpOZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpSZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OlgsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoc3QsWzIsMTgwXSksezI5NTpbMSw2MjBdfSx7MTM6YiwxNjpfLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsOTk6NjIyLDIzMTpNdCwyMzk6NjIxLDI0NDo2MjMsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHsyMzU6WzEsNjI0XX0sezIzNTpbMiw0MzBdfSx7MjM1OlsyLDQzMV19LHsxMzpiLDE2Ol8sMzg6WzEsNjI1XSw2MDozOTUsODc6aGUsOTc6NjI2LDk4OjM5Niw5OTozOTcsMTAwOlByLDIzMTpNdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoVG4sWzIsMjc3XSksezQ4OlsxLDYyN119LHs0ODpbMiwzMjRdfSx0KE50LFsyLDM4XSksdChOdCxbMiwzOV0pLHQoa3QsWzIsNzRdKSx0KGt0LFsyLDM0MF0pLHs0NjpbMiwzNDZdfSx0KEF0LFsyLDc5XSksezQ2OnFlLDYyOjYyOH0sezQ2OlsyLDM1MV19LHs0NjpbMiwzNTJdfSx7Mzc6WzEsNjI5XX0sezM3OlsxLDYzMF19LHQoY3IsWzIsMzg1XSx7MjA3OjYzMSwyNzg6WzEsNjMyXX0pLHszODpbMSw2MzNdfSx7NDg6WzEsNjM0XX0sezQ4OlsyLDQxNl19LHs0ODpbMiw0MTddfSx7Mzg6WzEsNjM1XX0sezI5Njo2MzYsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlfSx7MTM6YiwxNjpfLDM0Onh0LDYwOjM0MSwxOTM6NjM3LDE5NTpJdCwzMTI6VH0sdChfdCxbMiw0MjRdKSx0KF90LFsyLDQyNV0pLHQoQW4sWzIsMTM2XSksdChDcixbMiw0OF0pLHQoVG4sWzIsMjc4XSksdChPbixbMiwzMjVdLHsxNDk6NjM4LDMyODpbMSw2MzldfSksdChBdCxbMiw4MF0pLHszNDpbMSw2NDBdfSx7MzQ6WzEsNjQxXX0sdChbNDYsNDgsOTAsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMjI3LDMyOF0sWzIsMTA3XSx7MjA4OjY0MiwxOTE6WzEsNjQzXX0pLHQoJCxbMiwzODRdKSx0KFV0LFsyLDI4XSksezIzNTpbMSw2NDRdfSx0KHN0LFsyLDE3Ml0pLHszODpbMiwxODFdfSx7MTM6YiwxNjpfLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsOTk6NjQ2LDIzMTpNdCwyNDA6NjQ1LDI0NDo2NDcsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoJCxKZSx7MTUyOjIwMywxNTA6NjQ4LDE1MTo2NDksNDg6U24sMTE5OlNufSksdChPbixbMiwzMjZdKSx7Mzg6WzEsNjUwXX0sezM4OlsxLDY1MV19LHQoY3IsWzIsMzg2XSksdChjcixbMiwxMDhdLHsyMTE6MTAsMjA5OjY1MiwyMTA6NjUzLDEzOmQsMTY6ZCwzNTpkLDE5NTpkLDIxOTpkLDIyNDpkLDMxMjpkLDM0OlsxLDY1NF19KSx0KHduLFsyLDEzM10pLHs0ODpbMSw2NTVdfSx7NDg6WzIsNDI2XX0sezQ4OlsyLDQyN119LHQoRHQsWzIsNjldKSx0KER0LFsyLDMyOF0pLHQoQXQsWzIsODJdKSx0KEF0LFsyLDgzXSksdCgkLFsyLDM3NV0sezE5ODo2NTYsMTk5OjY1N30pLHQoJCxbMiwzODddKSx0KCQsWzIsMzg4XSksezIzNTpbMSw2NThdfSx0KGNyLFsyLDEwOV0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzU6b3IsMzk6NTIzLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMjAwOjY1OSwyMDM6NTIxLDIyNjp1ciwyMzA6NTIwLDIzMTp4ZSwyNDM6NTIyLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoQW4sWzIsMTM1XSksdChjcixbMiwxMDRdLHsyNzg6WzEsNjYwXX0pLHQoJCxbMiwzNzZdKV0sZGVmYXVsdEFjdGlvbnM6ezU6WzIsMjA2XSw2OlsyLDIwN10sNzpbMiwyMDhdLDk6WzIsMjA1XSwyODpbMiwxXSwyOTpbMiwzXSwzMDpbMiwyMThdLDg1OlsyLDQ5XSw5NDpbMiwyOTddLDEwODpbMiwyNTRdLDExNTpbMiwzNjBdLDE2NTpbMiw0NjJdLDI2MDpbMiw0NDNdLDMzNDpbMiwyMzhdLDMzNTpbMiw5M10sMzU5OlsyLDQxMl0sMzYwOlsyLDQxM10sNDU1OlsyLDQyMF0sNDU2OlsyLDQyMV0sNDcxOlsyLDQ2NV0sNDcyOlsyLDQ2Nl0sNDg0OlsyLDMyMV0sNDg1OlsyLDMyMl0sNTQ1OlsyLDQ3Ml0sNTQ4OlsyLDQyMl0sNTQ5OlsyLDQyM10sNTYzOlsyLDExXSw1NjQ6WzIsMjMwXSw1NjU6WzIsMTJdLDU2NjpbMiwyMzJdLDU3MzpbMiwzNDddLDU3NDpbMiwzNDhdLDU5NzpbMiw0MzBdLDU5ODpbMiw0MzFdLDYwMjpbMiwzMjRdLDYwNzpbMiwzNDZdLDYxMDpbMiwzNTFdLDYxMTpbMiwzNTJdLDYxNzpbMiw0MTZdLDYxODpbMiw0MTddLDYzNjpbMiwxODFdLDY0NjpbMiw0MjZdLDY0NzpbMiw0MjddfSxwYXJzZUVycm9yOmZ1bmN0aW9uKFRlLGplKXtpZihqZS5yZWNvdmVyYWJsZSl0aGlzLnRyYWNlKFRlKTtlbHNle3ZhciBQZT1uZXcgRXJyb3IoVGUpO3Rocm93IFBlLmhhc2g9amUsUGV9fSxwYXJzZTpmdW5jdGlvbihUZSl7dmFyIGplPXRoaXMsUGU9WzBdLFZlPVtudWxsXSxRZT1bXSxXPXRoaXMudGFibGUsbXQ9IiIsdGU9MCxDdD0wLFRyPTIsQXI9MSxPcj1RZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxldD1PYmplY3QuY3JlYXRlKHRoaXMubGV4ZXIpLEV0PXt5eTp7fX07Zm9yKHZhciBIdCBpbiB0aGlzLnl5KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnl5LEh0KSYmKEV0Lnl5W0h0XT10aGlzLnl5W0h0XSk7ZXQuc2V0SW5wdXQoVGUsRXQueXkpLEV0Lnl5LmxleGVyPWV0LEV0Lnl5LnBhcnNlcj10aGlzLHR5cGVvZiBldC55eWxsb2M+InUiJiYoZXQueXlsbG9jPXt9KTt2YXIgdHI9ZXQueXlsbG9jO1FlLnB1c2godHIpO3ZhciBIcj1ldC5vcHRpb25zJiZldC5vcHRpb25zLnJhbmdlczt0eXBlb2YgRXQueXkucGFyc2VFcnJvcj09ImZ1bmN0aW9uIj90aGlzLnBhcnNlRXJyb3I9RXQueXkucGFyc2VFcnJvcjp0aGlzLnBhcnNlRXJyb3I9T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLnBhcnNlRXJyb3I7Zm9yKHZhciBTcj1mdW5jdGlvbigpe3ZhciBycjtyZXR1cm4gcnI9ZXQubGV4KCl8fEFyLHR5cGVvZiByciE9Im51bWJlciImJihycj1qZS5zeW1ib2xzX1tycl18fHJyKSxycn0semUsV2UsR2Usb3QsdXQ9e30sanIsanQsTW4seHI7Oyl7aWYoV2U9UGVbUGUubGVuZ3RoLTFdLHRoaXMuZGVmYXVsdEFjdGlvbnNbV2VdP0dlPXRoaXMuZGVmYXVsdEFjdGlvbnNbV2VdOigoemU9PT1udWxsfHx0eXBlb2YgemU+InUiKSYmKHplPVNyKCkpLEdlPVdbV2VdJiZXW1dlXVt6ZV0pLHR5cGVvZiBHZT4idSJ8fCFHZS5sZW5ndGh8fCFHZVswXSl7dmFyIHpyPSIiO3hyPVtdO2ZvcihqciBpbiBXW1dlXSl0aGlzLnRlcm1pbmFsc19banJdJiZqcj5UciYmeHIucHVzaCgiJyIrdGhpcy50ZXJtaW5hbHNfW2pyXSsiJyIpO2V0LnNob3dQb3NpdGlvbj96cj0iUGFyc2UgZXJyb3Igb24gbGluZSAiKyh0ZSsxKStgOgpgK2V0LnNob3dQb3NpdGlvbigpK2AKRXhwZWN0aW5nIGAreHIuam9pbigiLCAiKSsiLCBnb3QgJyIrKHRoaXMudGVybWluYWxzX1t6ZV18fHplKSsiJyI6enI9IlBhcnNlIGVycm9yIG9uIGxpbmUgIisodGUrMSkrIjogVW5leHBlY3RlZCAiKyh6ZT09QXI/ImVuZCBvZiBpbnB1dCI6IiciKyh0aGlzLnRlcm1pbmFsc19bemVdfHx6ZSkrIiciKSx0aGlzLnBhcnNlRXJyb3IoenIse3RleHQ6ZXQubWF0Y2gsdG9rZW46dGhpcy50ZXJtaW5hbHNfW3plXXx8emUsbGluZTpldC55eWxpbmVubyxsb2M6dHIsZXhwZWN0ZWQ6eHJ9KX1pZihHZVswXWluc3RhbmNlb2YgQXJyYXkmJkdlLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcigiUGFyc2UgRXJyb3I6IG11bHRpcGxlIGFjdGlvbnMgcG9zc2libGUgYXQgc3RhdGU6ICIrV2UrIiwgdG9rZW46ICIremUpO3N3aXRjaChHZVswXSl7Y2FzZSAxOlBlLnB1c2goemUpLFZlLnB1c2goZXQueXl0ZXh0KSxRZS5wdXNoKGV0Lnl5bGxvYyksUGUucHVzaChHZVsxXSksemU9bnVsbCxDdD1ldC55eWxlbmcsbXQ9ZXQueXl0ZXh0LHRlPWV0Lnl5bGluZW5vLHRyPWV0Lnl5bGxvYzticmVhaztjYXNlIDI6aWYoanQ9dGhpcy5wcm9kdWN0aW9uc19bR2VbMV1dWzFdLHV0LiQ9VmVbVmUubGVuZ3RoLWp0XSx1dC5fJD17Zmlyc3RfbGluZTpRZVtRZS5sZW5ndGgtKGp0fHwxKV0uZmlyc3RfbGluZSxsYXN0X2xpbmU6UWVbUWUubGVuZ3RoLTFdLmxhc3RfbGluZSxmaXJzdF9jb2x1bW46UWVbUWUubGVuZ3RoLShqdHx8MSldLmZpcnN0X2NvbHVtbixsYXN0X2NvbHVtbjpRZVtRZS5sZW5ndGgtMV0ubGFzdF9jb2x1bW59LEhyJiYodXQuXyQucmFuZ2U9W1FlW1FlLmxlbmd0aC0oanR8fDEpXS5yYW5nZVswXSxRZVtRZS5sZW5ndGgtMV0ucmFuZ2VbMV1dKSxvdD10aGlzLnBlcmZvcm1BY3Rpb24uYXBwbHkodXQsW210LEN0LHRlLEV0Lnl5LEdlWzFdLFZlLFFlXS5jb25jYXQoT3IpKSx0eXBlb2Ygb3Q8InUiKXJldHVybiBvdDtqdCYmKFBlPVBlLnNsaWNlKDAsLTEqanQqMiksVmU9VmUuc2xpY2UoMCwtMSpqdCksUWU9UWUuc2xpY2UoMCwtMSpqdCkpLFBlLnB1c2godGhpcy5wcm9kdWN0aW9uc19bR2VbMV1dWzBdKSxWZS5wdXNoKHV0LiQpLFFlLnB1c2godXQuXyQpLE1uPVdbUGVbUGUubGVuZ3RoLTJdXVtQZVtQZS5sZW5ndGgtMV1dLFBlLnB1c2goTW4pO2JyZWFrO2Nhc2UgMzpyZXR1cm4hMH19cmV0dXJuITB9fSx2cj1XaWxkY2FyZCQyLldpbGRjYXJkLHdyPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIixqbj13cisidHlwZSIsa249d3IrImZpcnN0Iiwkbj13cisicmVzdCIseG49d3IrIm5pbCIsRXI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hIyIsSW49RXIrImludGVnZXIiLE5uPUVyKyJkZWNpbWFsIixSbj1FcisiZG91YmxlIixVbj1FcisiYm9vbGVhbiIsVnQ9IiIsUG49IiIsTG49IiI7ZnVuY3Rpb24gcHQoQWUpe3JldHVybiBBZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFJ0KEFlLFRlKXtyZXR1cm4gQWUucHVzaChUZSksQWV9ZnVuY3Rpb24gWXQoQWUsVGUpe3JldHVybiBBZS5wdXNoLmFwcGx5KEFlLFRlKSxBZX1mdW5jdGlvbiBaZShBZSl7QWV8fChBZT17fSk7Zm9yKHZhciBUZT0xLGplPWFyZ3VtZW50cy5sZW5ndGgsUGU7VGU8amUmJihQZT1hcmd1bWVudHNbVGVdfHx7fSk7VGUrKylmb3IodmFyIFZlIGluIFBlKUFlW1ZlXT1QZVtWZV07cmV0dXJuIEFlfWZ1bmN0aW9uIHZ0KCl7Zm9yKHZhciBBZT1bXSxUZT0wLGplPWFyZ3VtZW50cy5sZW5ndGg7VGU8amU7VGUrKylBZT1BZS5jb25jYXQuYXBwbHkoQWUsYXJndW1lbnRzW1RlXSk7cmV0dXJuIEFlfWZ1bmN0aW9uIGxyKEFlKXtpZihBZVswXT09PSI8IiYmKEFlPUFlLnN1YnN0cmluZygxLEFlLmxlbmd0aC0xKSksL15bYS16XSs6L2kudGVzdChBZSkpcmV0dXJuIEFlO2lmKCFIZS5iYXNlKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlc29sdmUgcmVsYXRpdmUgSVJJICIrQWUrIiBiZWNhdXNlIG5vIGJhc2UgSVJJIHdhcyBzZXQuIik7c3dpdGNoKFZ0IT09SGUuYmFzZSYmKFZ0PUhlLmJhc2UsUG49VnQucmVwbGFjZSgvW15cLzpdKiQvLCIiKSxMbj1WdC5tYXRjaCgvXig/OlthLXpdKzpcLyopP1teXC9dKi8pWzBdKSxBZVswXSl7Y2FzZSB2b2lkIDA6cmV0dXJuIFZ0O2Nhc2UiIyI6cmV0dXJuIFZ0K0FlO2Nhc2UiPyI6cmV0dXJuIFZ0LnJlcGxhY2UoLyg/Olw/LiopPyQvLEFlKTtjYXNlIi8iOnJldHVybiBMbitBZTtkZWZhdWx0OnJldHVybiBQbitBZX19ZnVuY3Rpb24gZHQoQWUpe2lmKEFlKXt2YXIgVGU9QWVbMF07aWYoVGU9PT0iPyJ8fFRlPT09IiQiKXJldHVybiBIZS5mYWN0b3J5LnZhcmlhYmxlKEFlLnN1YnN0cigxKSl9cmV0dXJuIEFlfWZ1bmN0aW9uIGZ0KEFlLFRlKXtyZXR1cm57dHlwZToib3BlcmF0aW9uIixvcGVyYXRvcjpBZSxhcmdzOlRlfHxbXX19ZnVuY3Rpb24gUHQoQWUsVGUpe3ZhciBqZT17ZXhwcmVzc2lvbjpBZT09PSIqIj9uZXcgdnI6QWV9O2lmKFRlKWZvcih2YXIgUGUgaW4gVGUpamVbUGVdPVRlW1BlXTtyZXR1cm4gamV9ZnVuY3Rpb24gUXQoQWUsVGUpe3JldHVybnt0eXBlOiJwYXRoIixwYXRoVHlwZTpBZSxpdGVtczpUZX19ZnVuY3Rpb24gRnIoQWUsVGUpe2Zvcih2YXIgamU9MCxQZT1UZS5sZW5ndGgsVmU7amU8UGUmJihWZT1UZVtqZV0pO2plKyspQWU9ZnQoVmVbMF0sW0FlLFZlWzFdXSk7cmV0dXJuIEFlfWZ1bmN0aW9uIEx0KEFlLFRlKXt2YXIgamU9W10sUGU9W10sVmU9QWUubGVuZ3RoLFFlLFc9e307aWYoIVZlKXJldHVybiBudWxsO2Zvcih2YXIgbXQ9MDttdDxWZSYmKFFlPUFlW210XSk7bXQrKykoUWUubmFtZWQ/UGU6amUpLnB1c2goUWUuaXJpKTtyZXR1cm4gV1tUZXx8ImZyb20iXT17ZGVmYXVsdDpqZSxuYW1lZDpQZX0sV31mdW5jdGlvbiBadChBZSl7cmV0dXJuIHBhcnNlSW50KEFlLDEwKX1mdW5jdGlvbiBNcihBZSl7cmV0dXJuIEFlLnR5cGU9PT0iZ3JvdXAiJiZBZS5wYXR0ZXJucy5sZW5ndGg9PT0xP0FlLnBhdHRlcm5zWzBdOkFlfWZ1bmN0aW9uIHd0KEFlLFRlKXtyZXR1cm4gVGUmJlRlLnRlcm1UeXBlIT09Ik5hbWVkTm9kZSImJihUZT1IZS5mYWN0b3J5Lm5hbWVkTm9kZShUZSkpLEhlLmZhY3RvcnkubGl0ZXJhbChBZSxUZSl9ZnVuY3Rpb24gVm4oQWUsVGUpe3JldHVybiBIZS5mYWN0b3J5LmxpdGVyYWwoQWUsVGUpfWZ1bmN0aW9uIEd0KEFlLFRlLGplKXt2YXIgUGU9e307cmV0dXJuIEFlIT1udWxsJiYoUGUuc3ViamVjdD1BZSksVGUhPW51bGwmJihQZS5wcmVkaWNhdGU9VGUpLGplIT1udWxsJiYoUGUub2JqZWN0PWplKSxQZX1mdW5jdGlvbiBkcihBZSl7cmV0dXJuIHR5cGVvZiBBZT09InN0cmluZyI/QWUuc3RhcnRzV2l0aCgiZV8iKT9IZS5mYWN0b3J5LmJsYW5rTm9kZShBZSk6SGUuZmFjdG9yeS5ibGFua05vZGUoImVfIitBZSk6SGUuZmFjdG9yeS5ibGFua05vZGUoImdfIitDbisrKX12YXIgQ249MDtIZS5fcmVzZXRCbGFua3M9ZnVuY3Rpb24oKXtDbj0wfTt2YXIgUW49L1xcdShbYS1mQS1GMC05XXs0fSl8XFxVKFthLWZBLUYwLTldezh9KXxcXCguKS9nLEduPXsiXFwiOiJcXCIsIiciOiInIiwnIic6JyInLHQ6IgkiLGI6IlxiIixuOmAKYCxyOiJcciIsZjoiXGYifSxIbj0vW1x1RDgwMC1cdURCRkZdKFteXHVEQzAwLVx1REZGRl18JCkvLGtyPVN0cmluZy5mcm9tQ2hhckNvZGU7ZnVuY3Rpb24gQm4oQWUsVGUpe0FlPUFlLnN1YnN0cmluZyhUZSxBZS5sZW5ndGgtVGUpO3RyeXtBZT1BZS5yZXBsYWNlKFFuLGZ1bmN0aW9uKGplLFBlLFZlLFFlKXt2YXIgVztpZihQZSl7aWYoVz1wYXJzZUludChQZSwxNiksaXNOYU4oVykpdGhyb3cgbmV3IEVycm9yO3JldHVybiBrcihXKX1lbHNlIGlmKFZlKXtpZihXPXBhcnNlSW50KFZlLDE2KSxpc05hTihXKSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIFc8NjU1MzU/a3IoVyk6a3IoNTUyOTYrKChXLT02NTUzNik+PjEwKSw1NjMyMCsoVyYxMDIzKSl9ZWxzZXt2YXIgbXQ9R25bUWVdO2lmKCFtdCl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIG10fX0pfWNhdGNoe3JldHVybiIifWlmKEhuLmV4ZWMoQWUpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB1bmljb2RlIGNvZGVwb2ludCBvZiBzdXJyb2dhdGUgcGFpciB3aXRob3V0IGNvcnJlc3BvbmRpbmcgY29kZXBvaW50IGluICIrQWUpO3JldHVybiBBZX1mdW5jdGlvbiB6bihBZSl7dmFyIFRlPWRyKCksamU9VGUsUGU9W10sVmUsUWU9W107QWUuZm9yRWFjaChmdW5jdGlvbihDdCl7UGUucHVzaChDdC5lbnRpdHkpLFl0KFFlLEN0LnRyaXBsZXMpfSk7Zm9yKHZhciBXPTAsbXQ9MCx0ZT1QZS5sZW5ndGgsVmU9QXJyYXkodGUqMik7Vzx0ZTspVmVbbXQrK109R3QoamUsSGUuZmFjdG9yeS5uYW1lZE5vZGUoa24pLFBlW1ddKSxWZVttdCsrXT1HdChqZSxIZS5mYWN0b3J5Lm5hbWVkTm9kZSgkbiksamU9KytXPHRlP2RyKCk6SGUuZmFjdG9yeS5uYW1lZE5vZGUoeG4pKTtyZXR1cm57ZW50aXR5OlRlLHRyaXBsZXM6WXQoVmUsUWUpfX1mdW5jdGlvbiBYbihBZSl7dmFyIFRlPWRyKCk7cmV0dXJue2VudGl0eTpUZSx0cmlwbGVzOkFlLm1hcChmdW5jdGlvbihqZSl7cmV0dXJuIFplKEd0KFRlKSxqZSl9KX19ZnVuY3Rpb24gJHIoQWUsVGUsamUpe3ZhciBQZT1bXSxWZT1bXTtyZXR1cm4gVGUuZm9yRWFjaChmdW5jdGlvbihRZSl7UGUucHVzaChHdChudWxsLEFlLFFlLmVudGl0eSkpLFl0KFZlLFFlLnRyaXBsZXMpfSksdnQoUGUsamV8fFtdLFZlKX1mdW5jdGlvbiBlcihBZSl7cmV0dXJuIEFlLnZhcmlhYmxlP0FlLnZhcmlhYmxlLnZhbHVlOkFlLnZhbHVlfHxBZS5leHByZXNzaW9uLnZhbHVlfWZ1bmN0aW9uIFVyKEFlKXtpZighQWUpcmV0dXJuW107aWYoQWUudHlwZT09PSJhZ2dyZWdhdGUiKXJldHVybltBZV07aWYoQWUudHlwZT09PSJvcGVyYXRpb24iKXtjb25zdCBUZT1bXTtmb3IoY29uc3QgamUgb2YgQWUuYXJncylUZS5wdXNoKC4uLlVyKGplKSk7cmV0dXJuIFRlfXJldHVybltdfWZ1bmN0aW9uIHFuKEFlKXtjb25zdCBUZT1uZXcgU2V0LGplPWZ1bmN0aW9uKFBlKXtQZSYmKFBlLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9UZS5hZGQoUGUpOlBlLnR5cGU9PT0ib3BlcmF0aW9uIiYmUGUuYXJncy5mb3JFYWNoKGplKSl9O3JldHVybiBqZShBZSksVGV9ZnVuY3Rpb24gVnIoQWUsVGU9MSxqZT1bXSl7Zm9yKGNvbnN0IFBlIG9mIEFlKVRlPjAmJlBlIGluc3RhbmNlb2YgQXJyYXk/VnIoUGUsVGUtMSxqZSk6amUucHVzaChQZSk7cmV0dXJuIGplfWZ1bmN0aW9uIFFyKEFlKXtyZXR1cm4gQWUudGVybVR5cGU9PT0iVmFyaWFibGUifWZ1bmN0aW9uIERuKEFlKXtpZihBZS50cmlwbGVzKXtjb25zdCBUZT1bXTtmb3IoY29uc3QgamUgb2YgQWUudHJpcGxlcylRcihqZS5zdWJqZWN0KSYmVGUucHVzaChqZS5zdWJqZWN0LnZhbHVlKSxRcihqZS5wcmVkaWNhdGUpJiZUZS5wdXNoKGplLnByZWRpY2F0ZS52YWx1ZSksUXIoamUub2JqZWN0KSYmVGUucHVzaChqZS5vYmplY3QudmFsdWUpO3JldHVybiBUZX1lbHNlIGlmKEFlLnBhdHRlcm5zKXtjb25zdCBUZT1bXTtmb3IoY29uc3QgamUgb2YgQWUucGF0dGVybnMpVGUucHVzaCguLi5EbihqZSkpO3JldHVybiBUZX1yZXR1cm5bXX1mdW5jdGlvbiBLbihBZSl7Y29uc3QgVGU9QWUuc2xpY2UoKS5zb3J0KCksamU9W107Zm9yKGxldCBQZT0wO1BlPFRlLmxlbmd0aC0xO1BlKyspVGVbUGUrMV09PVRlW1BlXSYmamUucHVzaChUZVtQZV0pO3JldHVybiBqZX1mdW5jdGlvbiBmcihBZSl7aWYoIUhlLnNwYXJxbFN0YXIpdGhyb3cgbmV3IEVycm9yKCJTUEFSUUwqIHN1cHBvcnQgaXMgbm90IGVuYWJsZWQiKTtyZXR1cm4gQWV9ZnVuY3Rpb24gRm4oQWUpe2Zvcihjb25zdCBUZSBvZiBBZSl7aWYoVGUudHlwZT09PSJncmFwaCImJlRlLm5hbWUudGVybVR5cGU9PT0iVmFyaWFibGUiKXRocm93IG5ldyBFcnJvcigiRGV0ZWN0ZWQgaWxsZWdhbCB2YXJpYWJsZSBpbiBHUkFQSCIpO2lmKFRlLnR5cGU9PT0iYmdwInx8VGUudHlwZT09PSJncmFwaCIpe2Zvcihjb25zdCBqZSBvZiBUZS50cmlwbGVzKWlmKGplLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUifHxqZS5wcmVkaWNhdGUudGVybVR5cGU9PT0iVmFyaWFibGUifHxqZS5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiKXRocm93IG5ldyBFcnJvcigiRGV0ZWN0ZWQgaWxsZWdhbCB2YXJpYWJsZSBpbiBCR1AiKX19cmV0dXJuIEFlfWZ1bmN0aW9uIEdyKEFlKXtmb3IoY29uc3QgVGUgb2YgQWUpaWYoVGUudHlwZT09PSJiZ3AiKXtmb3IoY29uc3QgamUgb2YgVGUudHJpcGxlcylpZihqZS5zdWJqZWN0LnRlcm1UeXBlPT09IkJsYW5rTm9kZSJ8fGplLnByZWRpY2F0ZS50ZXJtVHlwZT09PSJCbGFua05vZGUifHxqZS5vYmplY3QudGVybVR5cGU9PT0iQmxhbmtOb2RlIil0aHJvdyBuZXcgRXJyb3IoIkRldGVjdGVkIGlsbGVnYWwgYmxhbmsgbm9kZSBpbiBCR1AiKX1yZXR1cm4gQWV9dmFyIFduPWZ1bmN0aW9uKCl7dmFyIEFlPXtFT0Y6MSxwYXJzZUVycm9yOmZ1bmN0aW9uKGplLFBlKXtpZih0aGlzLnl5LnBhcnNlcil0aGlzLnl5LnBhcnNlci5wYXJzZUVycm9yKGplLFBlKTtlbHNlIHRocm93IG5ldyBFcnJvcihqZSl9LHNldElucHV0OmZ1bmN0aW9uKFRlLGplKXtyZXR1cm4gdGhpcy55eT1qZXx8dGhpcy55eXx8e30sdGhpcy5faW5wdXQ9VGUsdGhpcy5fbW9yZT10aGlzLl9iYWNrdHJhY2s9dGhpcy5kb25lPSExLHRoaXMueXlsaW5lbm89dGhpcy55eWxlbmc9MCx0aGlzLnl5dGV4dD10aGlzLm1hdGNoZWQ9dGhpcy5tYXRjaD0iIix0aGlzLmNvbmRpdGlvblN0YWNrPVsiSU5JVElBTCJdLHRoaXMueXlsbG9jPXtmaXJzdF9saW5lOjEsZmlyc3RfY29sdW1uOjAsbGFzdF9saW5lOjEsbGFzdF9jb2x1bW46MH0sdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVswLDBdKSx0aGlzLm9mZnNldD0wLHRoaXN9LGlucHV0OmZ1bmN0aW9uKCl7dmFyIFRlPXRoaXMuX2lucHV0WzBdO3RoaXMueXl0ZXh0Kz1UZSx0aGlzLnl5bGVuZysrLHRoaXMub2Zmc2V0KyssdGhpcy5tYXRjaCs9VGUsdGhpcy5tYXRjaGVkKz1UZTt2YXIgamU9VGUubWF0Y2goLyg/OlxyXG4/fFxuKS4qL2cpO3JldHVybiBqZT8odGhpcy55eWxpbmVubysrLHRoaXMueXlsbG9jLmxhc3RfbGluZSsrKTp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbisrLHRoaXMub3B0aW9ucy5yYW5nZXMmJnRoaXMueXlsbG9jLnJhbmdlWzFdKyssdGhpcy5faW5wdXQ9dGhpcy5faW5wdXQuc2xpY2UoMSksVGV9LHVucHV0OmZ1bmN0aW9uKFRlKXt2YXIgamU9VGUubGVuZ3RoLFBlPVRlLnNwbGl0KC8oPzpcclxuP3xcbikvZyk7dGhpcy5faW5wdXQ9VGUrdGhpcy5faW5wdXQsdGhpcy55eXRleHQ9dGhpcy55eXRleHQuc3Vic3RyKDAsdGhpcy55eXRleHQubGVuZ3RoLWplKSx0aGlzLm9mZnNldC09amU7dmFyIFZlPXRoaXMubWF0Y2guc3BsaXQoLyg/OlxyXG4/fFxuKS9nKTt0aGlzLm1hdGNoPXRoaXMubWF0Y2guc3Vic3RyKDAsdGhpcy5tYXRjaC5sZW5ndGgtMSksdGhpcy5tYXRjaGVkPXRoaXMubWF0Y2hlZC5zdWJzdHIoMCx0aGlzLm1hdGNoZWQubGVuZ3RoLTEpLFBlLmxlbmd0aC0xJiYodGhpcy55eWxpbmVuby09UGUubGVuZ3RoLTEpO3ZhciBRZT10aGlzLnl5bGxvYy5yYW5nZTtyZXR1cm4gdGhpcy55eWxsb2M9e2ZpcnN0X2xpbmU6dGhpcy55eWxsb2MuZmlyc3RfbGluZSxsYXN0X2xpbmU6dGhpcy55eWxpbmVubysxLGZpcnN0X2NvbHVtbjp0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4sbGFzdF9jb2x1bW46UGU/KFBlLmxlbmd0aD09PVZlLmxlbmd0aD90aGlzLnl5bGxvYy5maXJzdF9jb2x1bW46MCkrVmVbVmUubGVuZ3RoLVBlLmxlbmd0aF0ubGVuZ3RoLVBlWzBdLmxlbmd0aDp0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4tamV9LHRoaXMub3B0aW9ucy5yYW5nZXMmJih0aGlzLnl5bGxvYy5yYW5nZT1bUWVbMF0sUWVbMF0rdGhpcy55eWxlbmctamVdKSx0aGlzLnl5bGVuZz10aGlzLnl5dGV4dC5sZW5ndGgsdGhpc30sbW9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3JlPSEwLHRoaXN9LHJlamVjdDpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXIpdGhpcy5fYmFja3RyYWNrPSEwO2Vsc2UgcmV0dXJuIHRoaXMucGFyc2VFcnJvcigiTGV4aWNhbCBlcnJvciBvbiBsaW5lICIrKHRoaXMueXlsaW5lbm8rMSkrYC4gWW91IGNhbiBvbmx5IGludm9rZSByZWplY3QoKSBpbiB0aGUgbGV4ZXIgd2hlbiB0aGUgbGV4ZXIgaXMgb2YgdGhlIGJhY2t0cmFja2luZyBwZXJzdWFzaW9uIChvcHRpb25zLmJhY2t0cmFja19sZXhlciA9IHRydWUpLgpgK3RoaXMuc2hvd1Bvc2l0aW9uKCkse3RleHQ6IiIsdG9rZW46bnVsbCxsaW5lOnRoaXMueXlsaW5lbm99KTtyZXR1cm4gdGhpc30sbGVzczpmdW5jdGlvbihUZSl7dGhpcy51bnB1dCh0aGlzLm1hdGNoLnNsaWNlKFRlKSl9LHBhc3RJbnB1dDpmdW5jdGlvbigpe3ZhciBUZT10aGlzLm1hdGNoZWQuc3Vic3RyKDAsdGhpcy5tYXRjaGVkLmxlbmd0aC10aGlzLm1hdGNoLmxlbmd0aCk7cmV0dXJuKFRlLmxlbmd0aD4yMD8iLi4uIjoiIikrVGUuc3Vic3RyKC0yMCkucmVwbGFjZSgvXG4vZywiIil9LHVwY29taW5nSW5wdXQ6ZnVuY3Rpb24oKXt2YXIgVGU9dGhpcy5tYXRjaDtyZXR1cm4gVGUubGVuZ3RoPDIwJiYoVGUrPXRoaXMuX2lucHV0LnN1YnN0cigwLDIwLVRlLmxlbmd0aCkpLChUZS5zdWJzdHIoMCwyMCkrKFRlLmxlbmd0aD4yMD8iLi4uIjoiIikpLnJlcGxhY2UoL1xuL2csIiIpfSxzaG93UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgVGU9dGhpcy5wYXN0SW5wdXQoKSxqZT1uZXcgQXJyYXkoVGUubGVuZ3RoKzEpLmpvaW4oIi0iKTtyZXR1cm4gVGUrdGhpcy51cGNvbWluZ0lucHV0KCkrYApgK2plKyJeIn0sdGVzdF9tYXRjaDpmdW5jdGlvbihUZSxqZSl7dmFyIFBlLFZlLFFlO2lmKHRoaXMub3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXImJihRZT17eXlsaW5lbm86dGhpcy55eWxpbmVubyx5eWxsb2M6e2ZpcnN0X2xpbmU6dGhpcy55eWxsb2MuZmlyc3RfbGluZSxsYXN0X2xpbmU6dGhpcy5sYXN0X2xpbmUsZmlyc3RfY29sdW1uOnRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbixsYXN0X2NvbHVtbjp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbn0seXl0ZXh0OnRoaXMueXl0ZXh0LG1hdGNoOnRoaXMubWF0Y2gsbWF0Y2hlczp0aGlzLm1hdGNoZXMsbWF0Y2hlZDp0aGlzLm1hdGNoZWQseXlsZW5nOnRoaXMueXlsZW5nLG9mZnNldDp0aGlzLm9mZnNldCxfbW9yZTp0aGlzLl9tb3JlLF9pbnB1dDp0aGlzLl9pbnB1dCx5eTp0aGlzLnl5LGNvbmRpdGlvblN0YWNrOnRoaXMuY29uZGl0aW9uU3RhY2suc2xpY2UoMCksZG9uZTp0aGlzLmRvbmV9LHRoaXMub3B0aW9ucy5yYW5nZXMmJihRZS55eWxsb2MucmFuZ2U9dGhpcy55eWxsb2MucmFuZ2Uuc2xpY2UoMCkpKSxWZT1UZVswXS5tYXRjaCgvKD86XHJcbj98XG4pLiovZyksVmUmJih0aGlzLnl5bGluZW5vKz1WZS5sZW5ndGgpLHRoaXMueXlsbG9jPXtmaXJzdF9saW5lOnRoaXMueXlsbG9jLmxhc3RfbGluZSxsYXN0X2xpbmU6dGhpcy55eWxpbmVubysxLGZpcnN0X2NvbHVtbjp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbixsYXN0X2NvbHVtbjpWZT9WZVtWZS5sZW5ndGgtMV0ubGVuZ3RoLVZlW1ZlLmxlbmd0aC0xXS5tYXRjaCgvXHI/XG4/LylbMF0ubGVuZ3RoOnRoaXMueXlsbG9jLmxhc3RfY29sdW1uK1RlWzBdLmxlbmd0aH0sdGhpcy55eXRleHQrPVRlWzBdLHRoaXMubWF0Y2grPVRlWzBdLHRoaXMubWF0Y2hlcz1UZSx0aGlzLnl5bGVuZz10aGlzLnl5dGV4dC5sZW5ndGgsdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVt0aGlzLm9mZnNldCx0aGlzLm9mZnNldCs9dGhpcy55eWxlbmddKSx0aGlzLl9tb3JlPSExLHRoaXMuX2JhY2t0cmFjaz0hMSx0aGlzLl9pbnB1dD10aGlzLl9pbnB1dC5zbGljZShUZVswXS5sZW5ndGgpLHRoaXMubWF0Y2hlZCs9VGVbMF0sUGU9dGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwodGhpcyx0aGlzLnl5LHRoaXMsamUsdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXSksdGhpcy5kb25lJiZ0aGlzLl9pbnB1dCYmKHRoaXMuZG9uZT0hMSksUGUpcmV0dXJuIFBlO2lmKHRoaXMuX2JhY2t0cmFjayl7Zm9yKHZhciBXIGluIFFlKXRoaXNbV109UWVbV107cmV0dXJuITF9cmV0dXJuITF9LG5leHQ6ZnVuY3Rpb24oKXtpZih0aGlzLmRvbmUpcmV0dXJuIHRoaXMuRU9GO3RoaXMuX2lucHV0fHwodGhpcy5kb25lPSEwKTt2YXIgVGUsamUsUGUsVmU7dGhpcy5fbW9yZXx8KHRoaXMueXl0ZXh0PSIiLHRoaXMubWF0Y2g9IiIpO2Zvcih2YXIgUWU9dGhpcy5fY3VycmVudFJ1bGVzKCksVz0wO1c8UWUubGVuZ3RoO1crKylpZihQZT10aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW1FlW1ddXSksUGUmJighamV8fFBlWzBdLmxlbmd0aD5qZVswXS5sZW5ndGgpKXtpZihqZT1QZSxWZT1XLHRoaXMub3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXIpe2lmKFRlPXRoaXMudGVzdF9tYXRjaChQZSxRZVtXXSksVGUhPT0hMSlyZXR1cm4gVGU7aWYodGhpcy5fYmFja3RyYWNrKXtqZT0hMTtjb250aW51ZX1lbHNlIHJldHVybiExfWVsc2UgaWYoIXRoaXMub3B0aW9ucy5mbGV4KWJyZWFrfXJldHVybiBqZT8oVGU9dGhpcy50ZXN0X21hdGNoKGplLFFlW1ZlXSksVGUhPT0hMT9UZTohMSk6dGhpcy5faW5wdXQ9PT0iIj90aGlzLkVPRjp0aGlzLnBhcnNlRXJyb3IoIkxleGljYWwgZXJyb3Igb24gbGluZSAiKyh0aGlzLnl5bGluZW5vKzEpK2AuIFVucmVjb2duaXplZCB0ZXh0LgpgK3RoaXMuc2hvd1Bvc2l0aW9uKCkse3RleHQ6IiIsdG9rZW46bnVsbCxsaW5lOnRoaXMueXlsaW5lbm99KX0sbGV4OmZ1bmN0aW9uKCl7dmFyIGplPXRoaXMubmV4dCgpO3JldHVybiBqZXx8dGhpcy5sZXgoKX0sYmVnaW46ZnVuY3Rpb24oamUpe3RoaXMuY29uZGl0aW9uU3RhY2sucHVzaChqZSl9LHBvcFN0YXRlOmZ1bmN0aW9uKCl7dmFyIGplPXRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTE7cmV0dXJuIGplPjA/dGhpcy5jb25kaXRpb25TdGFjay5wb3AoKTp0aGlzLmNvbmRpdGlvblN0YWNrWzBdfSxfY3VycmVudFJ1bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoJiZ0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTFdP3RoaXMuY29uZGl0aW9uc1t0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTFdXS5ydWxlczp0aGlzLmNvbmRpdGlvbnMuSU5JVElBTC5ydWxlc30sdG9wU3RhdGU6ZnVuY3Rpb24oamUpe3JldHVybiBqZT10aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xLU1hdGguYWJzKGplfHwwKSxqZT49MD90aGlzLmNvbmRpdGlvblN0YWNrW2plXToiSU5JVElBTCJ9LHB1c2hTdGF0ZTpmdW5jdGlvbihqZSl7dGhpcy5iZWdpbihqZSl9LHN0YXRlU3RhY2tTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RofSxvcHRpb25zOntmbGV4OiEwLCJjYXNlLWluc2Vuc2l0aXZlIjohMH0scGVyZm9ybUFjdGlvbjpmdW5jdGlvbihqZSxQZSxWZSxRZSl7c3dpdGNoKFZlKXtjYXNlIDA6YnJlYWs7Y2FzZSAxOnJldHVybiAxMjtjYXNlIDI6cmV0dXJuIDE1O2Nhc2UgMzpyZXR1cm4gMjg7Y2FzZSA0OnJldHVybiAzMTY7Y2FzZSA1OnJldHVybiAzMTc7Y2FzZSA2OnJldHVybiAzNTtjYXNlIDc6cmV0dXJuIDM3O2Nhc2UgODpyZXR1cm4gMzg7Y2FzZSA5OnJldHVybiAyNjtjYXNlIDEwOnJldHVybiA0MTtjYXNlIDExOnJldHVybiA0NTtjYXNlIDEyOnJldHVybiA0NjtjYXNlIDEzOnJldHVybiA0ODtjYXNlIDE0OnJldHVybiA1MDtjYXNlIDE1OnJldHVybiA1NTtjYXNlIDE2OnJldHVybiA1ODtjYXNlIDE3OnJldHVybiAzMjA7Y2FzZSAxODpyZXR1cm4gNjg7Y2FzZSAxOTpyZXR1cm4gNjk7Y2FzZSAyMDpyZXR1cm4gNzU7Y2FzZSAyMTpyZXR1cm4gNzg7Y2FzZSAyMjpyZXR1cm4gODE7Y2FzZSAyMzpyZXR1cm4gODM7Y2FzZSAyNDpyZXR1cm4gODY7Y2FzZSAyNTpyZXR1cm4gODg7Y2FzZSAyNjpyZXR1cm4gOTA7Y2FzZSAyNzpyZXR1cm4gMTkxO2Nhc2UgMjg6cmV0dXJuIDEwNztjYXNlIDI5OnJldHVybiAzMjE7Y2FzZSAzMDpyZXR1cm4gMTQwO2Nhc2UgMzE6cmV0dXJuIDMyMjtjYXNlIDMyOnJldHVybiAzMjM7Y2FzZSAzMzpyZXR1cm4gMTE3O2Nhc2UgMzQ6cmV0dXJuIDMyNDtjYXNlIDM1OnJldHVybiAxMTY7Y2FzZSAzNjpyZXR1cm4gMzI1O2Nhc2UgMzc6cmV0dXJuIDMyNjtjYXNlIDM4OnJldHVybiAxMjA7Y2FzZSAzOTpyZXR1cm4gMTIyO2Nhc2UgNDA6cmV0dXJuIDEyMztjYXNlIDQxOnJldHVybiAxMzg7Y2FzZSA0MjpyZXR1cm4gMTMyO2Nhc2UgNDM6cmV0dXJuIDEzMztjYXNlIDQ0OnJldHVybiAxMzU7Y2FzZSA0NTpyZXR1cm4gMTQxO2Nhc2UgNDY6cmV0dXJuIDExOTtjYXNlIDQ3OnJldHVybiAzMjc7Y2FzZSA0ODpyZXR1cm4gMzI4O2Nhc2UgNDk6cmV0dXJuIDE2NztjYXNlIDUwOnJldHVybiAxNzA7Y2FzZSA1MTpyZXR1cm4gMTc0O2Nhc2UgNTI6cmV0dXJuIDEwMDtjYXNlIDUzOnJldHVybiAxNjg7Y2FzZSA1NDpyZXR1cm4gMzI5O2Nhc2UgNTU6cmV0dXJuIDE3MztjYXNlIDU2OnJldHVybiAyMzE7Y2FzZSA1NzpyZXR1cm4gMjM1O2Nhc2UgNTg6cmV0dXJuIDI3ODtjYXNlIDU5OnJldHVybiAxOTU7Y2FzZSA2MDpyZXR1cm4gMzMwO2Nhc2UgNjE6cmV0dXJuIDMzMTtjYXNlIDYyOnJldHVybiAyMjQ7Y2FzZSA2MzpyZXR1cm4gMzMzO2Nhc2UgNjQ6cmV0dXJuIDI3MTtjYXNlIDY1OnJldHVybiAyMTk7Y2FzZSA2NjpyZXR1cm4gMjI2O2Nhc2UgNjc6cmV0dXJuIDIyNztjYXNlIDY4OnJldHVybiAyNTA7Y2FzZSA2OTpyZXR1cm4gMjU0O2Nhc2UgNzA6cmV0dXJuIDI5NTtjYXNlIDcxOnJldHVybiAzMzQ7Y2FzZSA3MjpyZXR1cm4gMzM1O2Nhc2UgNzM6cmV0dXJuIDMzNjtjYXNlIDc0OnJldHVybiAzMzc7Y2FzZSA3NTpyZXR1cm4gMzM4O2Nhc2UgNzY6cmV0dXJuIDI1ODtjYXNlIDc3OnJldHVybiAzMzk7Y2FzZSA3ODpyZXR1cm4gMjczO2Nhc2UgNzk6cmV0dXJuIDI4MTtjYXNlIDgwOnJldHVybiAyODI7Y2FzZSA4MTpyZXR1cm4gMjc1O2Nhc2UgODI6cmV0dXJuIDI3NjtjYXNlIDgzOnJldHVybiAyNzc7Y2FzZSA4NDpyZXR1cm4gMzQwO2Nhc2UgODU6cmV0dXJuIDM0MTtjYXNlIDg2OnJldHVybiAyNzk7Y2FzZSA4NzpyZXR1cm4gMzQzO2Nhc2UgODg6cmV0dXJuIDM0MjtjYXNlIDg5OnJldHVybiAzNDQ7Y2FzZSA5MDpyZXR1cm4gMjg0O2Nhc2UgOTE6cmV0dXJuIDI4NTtjYXNlIDkyOnJldHVybiAyODg7Y2FzZSA5MzpyZXR1cm4gMjkwO2Nhc2UgOTQ6cmV0dXJuIDI5NDtjYXNlIDk1OnJldHVybiAyOTg7Y2FzZSA5NjpyZXR1cm4gMzAxO2Nhc2UgOTc6cmV0dXJuIDEzO2Nhc2UgOTg6cmV0dXJuIDE2O2Nhc2UgOTk6cmV0dXJuIDMxMjtjYXNlIDEwMDpyZXR1cm4gMjQ1O2Nhc2UgMTAxOnJldHVybiAzNDtjYXNlIDEwMjpyZXR1cm4gMjk3O2Nhc2UgMTAzOnJldHVybiA4NztjYXNlIDEwNDpyZXR1cm4gMjk5O2Nhc2UgMTA1OnJldHVybiAzMDA7Y2FzZSAxMDY6cmV0dXJuIDMwNjtjYXNlIDEwNzpyZXR1cm4gMzA3O2Nhc2UgMTA4OnJldHVybiAzMDg7Y2FzZSAxMDk6cmV0dXJuIDMwOTtjYXNlIDExMDpyZXR1cm4gMzEwO2Nhc2UgMTExOnJldHVybiAzMTE7Y2FzZSAxMTI6cmV0dXJuIkVYUE9ORU5UIjtjYXNlIDExMzpyZXR1cm4gMzAyO2Nhc2UgMTE0OnJldHVybiAzMDM7Y2FzZSAxMTU6cmV0dXJuIDMwNDtjYXNlIDExNjpyZXR1cm4gMzA1O2Nhc2UgMTE3OnJldHVybiA5MztjYXNlIDExODpyZXR1cm4gMjQ2O2Nhc2UgMTE5OnJldHVybiA2O2Nhc2UgMTIwOnJldHVybiJJTlZBTElEIjtjYXNlIDEyMTpjb25zb2xlLmxvZyhQZS55eXRleHQpO2JyZWFrfX0scnVsZXM6Wy9eKD86XHMrfCgjW15cblxyXSopKS9pLC9eKD86QkFTRSkvaSwvXig/OlBSRUZJWCkvaSwvXig/OlNFTEVDVCkvaSwvXig/OkRJU1RJTkNUKS9pLC9eKD86UkVEVUNFRCkvaSwvXig/OlwoKS9pLC9eKD86QVMpL2ksL14oPzpcKSkvaSwvXig/OlwqKS9pLC9eKD86Q09OU1RSVUNUKS9pLC9eKD86V0hFUkUpL2ksL14oPzpceykvaSwvXig/Olx9KS9pLC9eKD86REVTQ1JJQkUpL2ksL14oPzpBU0spL2ksL14oPzpGUk9NKS9pLC9eKD86TkFNRUQpL2ksL14oPzpHUk9VUCkvaSwvXig/OkJZKS9pLC9eKD86SEFWSU5HKS9pLC9eKD86T1JERVIpL2ksL14oPzpBU0MpL2ksL14oPzpERVNDKS9pLC9eKD86TElNSVQpL2ksL14oPzpPRkZTRVQpL2ksL14oPzpWQUxVRVMpL2ksL14oPzo7KS9pLC9eKD86TE9BRCkvaSwvXig/OlNJTEVOVCkvaSwvXig/OklOVE8pL2ksL14oPzpDTEVBUikvaSwvXig/OkRST1ApL2ksL14oPzpDUkVBVEUpL2ksL14oPzpBREQpL2ksL14oPzpUTykvaSwvXig/Ok1PVkUpL2ksL14oPzpDT1BZKS9pLC9eKD86SU5TRVJUKChccyt8KCNbXlxuXHJdKilcblxyPykrKURBVEEpL2ksL14oPzpERUxFVEUoKFxzK3woI1teXG5ccl0qKVxuXHI/KSspREFUQSkvaSwvXig/OkRFTEVURSgoXHMrfCgjW15cblxyXSopXG5ccj8pKylXSEVSRSkvaSwvXig/OldJVEgpL2ksL14oPzpERUxFVEUpL2ksL14oPzpJTlNFUlQpL2ksL14oPzpVU0lORykvaSwvXig/OkRFRkFVTFQpL2ksL14oPzpHUkFQSCkvaSwvXig/OkFMTCkvaSwvXig/OlwuKS9pLC9eKD86T1BUSU9OQUwpL2ksL14oPzpTRVJWSUNFKS9pLC9eKD86QklORCkvaSwvXig/OlVOREVGKS9pLC9eKD86TUlOVVMpL2ksL14oPzpVTklPTikvaSwvXig/OkZJTFRFUikvaSwvXig/Ojw8KS9pLC9eKD86Pj4pL2ksL14oPzosKS9pLC9eKD86YSkvaSwvXig/Olx8KS9pLC9eKD86XC8pL2ksL14oPzpcXikvaSwvXig/Olw/KS9pLC9eKD86XCspL2ksL14oPzohKS9pLC9eKD86XFspL2ksL14oPzpcXSkvaSwvXig/Olx8XHwpL2ksL14oPzomJikvaSwvXig/Oj0pL2ksL14oPzohPSkvaSwvXig/OjwpL2ksL14oPzo+KS9pLC9eKD86PD0pL2ksL14oPzo+PSkvaSwvXig/OklOKS9pLC9eKD86Tk9UKS9pLC9eKD86LSkvaSwvXig/OkJPVU5EKS9pLC9eKD86Qk5PREUpL2ksL14oPzooUkFORHxOT1d8VVVJRHxTVFJVVUlEKSkvaSwvXig/OihMQU5HfERBVEFUWVBFfElSSXxVUkl8QUJTfENFSUx8RkxPT1J8Uk9VTkR8U1RSTEVOfFNUUnxVQ0FTRXxMQ0FTRXxFTkNPREVfRk9SX1VSSXxZRUFSfE1PTlRIfERBWXxIT1VSU3xNSU5VVEVTfFNFQ09ORFN8VElNRVpPTkV8VFp8TUQ1fFNIQTF8U0hBMjU2fFNIQTM4NHxTSEE1MTJ8aXNJUkl8aXNVUkl8aXNCTEFOS3xpc0xJVEVSQUx8aXNOVU1FUklDKSkvaSwvXig/OihMQU5HTUFUQ0hFU3xDT05UQUlOU3xTVFJTVEFSVFN8U1RSRU5EU3xTVFJCRUZPUkV8U1RSQUZURVJ8U1RSTEFOR3xTVFJEVHxzYW1lVGVybSkpL2ksL14oPzpDT05DQVQpL2ksL14oPzpDT0FMRVNDRSkvaSwvXig/OklGKS9pLC9eKD86UkVHRVgpL2ksL14oPzpTVUJTVFIpL2ksL14oPzpSRVBMQUNFKS9pLC9eKD86RVhJU1RTKS9pLC9eKD86Q09VTlQpL2ksL14oPzpTVU18TUlOfE1BWHxBVkd8U0FNUExFKS9pLC9eKD86R1JPVVBfQ09OQ0FUKS9pLC9eKD86U0VQQVJBVE9SKS9pLC9eKD86XF5cXikvaSwvXig/OnRydWV8ZmFsc2UpL2ksL14oPzooPCg/OltePD5cIlx7XH1cfFxeYFxcXHUwMDAwLVx1MDAyMF0pKj4pKS9pLC9eKD86KCgoW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pKD86KD86KCgoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXwtfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKXxcLikqKCgoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXwtfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKSk/KT86KSkvaSwvXig/OigoKChbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSkoPzooPzooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pfFwuKSooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pKT8pPzopKCg/OigoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXw6fFswLTldfCgoJShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKXwoXFwoX3x+fFwufC18IXxcJHwmfCd8XCh8XCl8XCp8XCt8LHw7fD18XC98XD98I3xAfCUpKSkpKD86KD86KCgoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXwtfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKXxcLnw6fCgoJShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKXwoXFwoX3x+fFwufC18IXxcJHwmfCd8XCh8XCl8XCp8XCt8LHw7fD18XC98XD98I3xAfCUpKSkpKig/OigoKD86KFtBLVphLXpcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAyRkZcdTAzNzAtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRF18W1x1RDgwMC1cdURCN0ZdW1x1REMwMC1cdURGRkZdKXxfKSl8LXxbMC05XXxcdTAwQjd8W1x1MDMwMC1cdTAzNkZcdTIwM0YtXHUyMDQwXSl8OnwoKCUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKSl8KFxcKF98fnxcLnwtfCF8XCR8JnwnfFwofFwpfFwqfFwrfCx8O3w9fFwvfFw/fCN8QHwlKSkpKSk/KSkpL2ksL14oPzooXzooPzooKD86KFtBLVphLXpcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAyRkZcdTAzNzAtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRF18W1x1RDgwMC1cdURCN0ZdW1x1REMwMC1cdURGRkZdKXxfKSl8WzAtOV0pKD86KD86KCgoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXwtfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKXxcLikqKCgoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXwtfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKSk/KSkvaSwvXig/OihbXD9cJF0oKD86KCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfFswLTldKSg/OigoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXxbMC05XXxcdTAwQjd8W1x1MDMwMC1cdTAzNkZcdTIwM0YtXHUyMDQwXSkqKSkpL2ksL14oPzooQFthLXpBLVpdKyg/Oi1bYS16QS1aMC05XSspKikpL2ksL14oPzooWzAtOV0rKSkvaSwvXig/OihbMC05XSpcLlswLTldKykpL2ksL14oPzooWzAtOV0rXC5bMC05XSooW2VFXVsrLV0/WzAtOV0rKXxcLihbMC05XSkrKFtlRV1bKy1dP1swLTldKyl8KFswLTldKSsoW2VFXVsrLV0/WzAtOV0rKSkpL2ksL14oPzooXCsoWzAtOV0rKSkpL2ksL14oPzooXCsoWzAtOV0qXC5bMC05XSspKSkvaSwvXig/OihcKyhbMC05XStcLlswLTldKihbZUVdWystXT9bMC05XSspfFwuKFswLTldKSsoW2VFXVsrLV0/WzAtOV0rKXwoWzAtOV0pKyhbZUVdWystXT9bMC05XSspKSkpL2ksL14oPzooLShbMC05XSspKSkvaSwvXig/OigtKFswLTldKlwuWzAtOV0rKSkpL2ksL14oPzooLShbMC05XStcLlswLTldKihbZUVdWystXT9bMC05XSspfFwuKFswLTldKSsoW2VFXVsrLV0/WzAtOV0rKXwoWzAtOV0pKyhbZUVdWystXT9bMC05XSspKSkpL2ksL14oPzooW2VFXVsrLV0/WzAtOV0rKSkvaSwvXig/OignKD86KD86W15cdTAwMjdcdTAwNUNcdTAwMEFcdTAwMERdKXwoXFxbdGJucmZcXFwiJ118XFx1KFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKXxcXFUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKSkpKicpKS9pLC9eKD86KCIoPzooPzpbXlx1MDAyMlx1MDA1Q1x1MDAwQVx1MDAwRF0pfChcXFt0Ym5yZlxcXCInXXxcXHUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pfFxcVShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKSkqIikpL2ksL14oPzooJycnKD86KD86J3wnJyk/KD86W14nXFxdfChcXFt0Ym5yZlxcXCInXXxcXHUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pfFxcVShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKSkpKicnJykpL2ksL14oPzooIiIiKD86KD86InwiIik/KD86W15cIlxcXXwoXFxbdGJucmZcXFwiJ118XFx1KFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKXxcXFUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKSkpKSoiIiIpKS9pLC9eKD86KFwoKFx1MDAyMHxcdTAwMDl8XHUwMDBEfFx1MDAwQSkqXCkpKS9pLC9eKD86KFxbKFx1MDAyMHxcdTAwMDl8XHUwMDBEfFx1MDAwQSkqXF0pKS9pLC9eKD86JCkvaSwvXig/Oi4pL2ksL14oPzouKS9pXSxjb25kaXRpb25zOntJTklUSUFMOntydWxlczpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjFdLGluY2x1c2l2ZTohMH19fTtyZXR1cm4gQWV9KCk7RHIubGV4ZXI9V247ZnVuY3Rpb24gSGUoKXt0aGlzLnl5PXt9fXJldHVybiBIZS5wcm90b3R5cGU9RHIsRHIuUGFyc2VyPUhlLG5ldyBIZX0oKSxTcGFycWxQYXJzZXJfMT1TcGFycWxQYXJzZXIsWFNEX0lOVEVHRVI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2ludGVnZXIiLFhTRF9TVFJJTkc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZyI7ZnVuY3Rpb24gR2VuZXJhdG9yJDEodCl7dGhpcy5fb3B0aW9ucz10PXR8fHt9O3ZhciBlPXQucHJlZml4ZXN8fHt9O3RoaXMuX3ByZWZpeEJ5SXJpPXt9O3ZhciBuPVtdO2Zvcih2YXIgbyBpbiBlKXt2YXIgZD1lW29dO2lzU3RyaW5nJDEoZCkmJih0aGlzLl9wcmVmaXhCeUlyaVtkXT1vLG4ucHVzaChkKSl9dmFyIGg9bi5qb2luKCJ8IikucmVwbGFjZSgvW1xdXC9cKFwpXCpcK1w/XC5cXFwkXS9nLCJcXCQmIik7dGhpcy5fcHJlZml4UmVnZXg9bmV3IFJlZ0V4cCgiXigiK2grIikoW2EtekEtWl1bXFwtX2EtekEtWjAtOV0qKSQiKSx0aGlzLl91c2VkUHJlZml4ZXM9e30sdGhpcy5fc3BhcnFsU3Rhcj10LnNwYXJxbFN0YXIsdGhpcy5faW5kZW50PWlzU3RyaW5nJDEodC5pbmRlbnQpP3QuaW5kZW50OiIgICIsdGhpcy5fbmV3bGluZT1pc1N0cmluZyQxKHQubmV3bGluZSk/dC5uZXdsaW5lOmAKYCx0aGlzLl9leHBsaWNpdERhdGF0eXBlPSEhdC5leHBsaWNpdERhdGF0eXBlfUdlbmVyYXRvciQxLnByb3RvdHlwZS50b1F1ZXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPSIiO3JldHVybiB0LnF1ZXJ5VHlwZSYmKGUrPXQucXVlcnlUeXBlLnRvVXBwZXJDYXNlKCkrIiAiKSx0LnJlZHVjZWQmJihlKz0iUkVEVUNFRCAiKSx0LmRpc3RpbmN0JiYoZSs9IkRJU1RJTkNUICIpLHQudmFyaWFibGVzP2UrPW1hcEpvaW4odC52YXJpYWJsZXMsdm9pZCAwLGZ1bmN0aW9uKG4pe3JldHVybiBpc1Rlcm0kMShuKT90aGlzLnRvRW50aXR5KG4pOiIoIit0aGlzLnRvRXhwcmVzc2lvbihuLmV4cHJlc3Npb24pKyIgQVMgIit2YXJpYWJsZVRvU3RyaW5nKG4udmFyaWFibGUpKyIpIn0sdGhpcykrIiAiOnQudGVtcGxhdGUmJihlKz10aGlzLmdyb3VwKHQudGVtcGxhdGUsITApK3RoaXMuX25ld2xpbmUpLHQuZnJvbSYmKGUrPXRoaXMuZ3JhcGhzKCJGUk9NICIsdC5mcm9tLmRlZmF1bHQpK3RoaXMuZ3JhcGhzKCJGUk9NIE5BTUVEICIsdC5mcm9tLm5hbWVkKSksdC53aGVyZSYmKGUrPSJXSEVSRSAiK3RoaXMuZ3JvdXAodC53aGVyZSwhMCkrdGhpcy5fbmV3bGluZSksdC51cGRhdGVzJiYoZSs9bWFwSm9pbih0LnVwZGF0ZXMsIjsiK3RoaXMuX25ld2xpbmUsdGhpcy50b1VwZGF0ZSx0aGlzKSksdC5ncm91cCYmKGUrPSJHUk9VUCBCWSAiK21hcEpvaW4odC5ncm91cCx2b2lkIDAsZnVuY3Rpb24obil7dmFyIG89aXNUZXJtJDEobi5leHByZXNzaW9uKT90aGlzLnRvRW50aXR5KG4uZXhwcmVzc2lvbik6IigiK3RoaXMudG9FeHByZXNzaW9uKG4uZXhwcmVzc2lvbikrIikiO3JldHVybiBuLnZhcmlhYmxlPyIoIitvKyIgQVMgIit2YXJpYWJsZVRvU3RyaW5nKG4udmFyaWFibGUpKyIpIjpvfSx0aGlzKSt0aGlzLl9uZXdsaW5lKSx0LmhhdmluZyYmKGUrPSJIQVZJTkcgKCIrbWFwSm9pbih0LmhhdmluZyx2b2lkIDAsdGhpcy50b0V4cHJlc3Npb24sdGhpcykrIikiK3RoaXMuX25ld2xpbmUpLHQub3JkZXImJihlKz0iT1JERVIgQlkgIittYXBKb2luKHQub3JkZXIsdm9pZCAwLGZ1bmN0aW9uKG4pe3ZhciBvPSIoIit0aGlzLnRvRXhwcmVzc2lvbihuLmV4cHJlc3Npb24pKyIpIjtyZXR1cm4gbi5kZXNjZW5kaW5nPyJERVNDICIrbzpvfSx0aGlzKSt0aGlzLl9uZXdsaW5lKSx0Lm9mZnNldCYmKGUrPSJPRkZTRVQgIit0Lm9mZnNldCt0aGlzLl9uZXdsaW5lKSx0LmxpbWl0JiYoZSs9IkxJTUlUICIrdC5saW1pdCt0aGlzLl9uZXdsaW5lKSx0LnZhbHVlcyYmKGUrPXRoaXMudmFsdWVzKHQpKSxlPXRoaXMuYmFzZUFuZFByZWZpeGVzKHQpK2UsZS50cmltKCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5iYXNlQW5kUHJlZml4ZXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5iYXNlPyJCQVNFIDwiK3QuYmFzZSsiPiIrdGhpcy5fbmV3bGluZToiIixuPSIiO2Zvcih2YXIgbyBpbiB0LnByZWZpeGVzKSh0aGlzLl9vcHRpb25zLmFsbFByZWZpeGVzfHx0aGlzLl91c2VkUHJlZml4ZXNbb10pJiYobis9IlBSRUZJWCAiK28rIjogPCIrdC5wcmVmaXhlc1tvXSsiPiIrdGhpcy5fbmV3bGluZSk7cmV0dXJuIGUrbn07R2VuZXJhdG9yJDEucHJvdG90eXBlLnRvUGF0dGVybj1mdW5jdGlvbih0KXt2YXIgZT10LnR5cGV8fHQgaW5zdGFuY2VvZiBBcnJheSYmImFycmF5Inx8KHQuc3ViamVjdCYmdC5wcmVkaWNhdGUmJnQub2JqZWN0PyJ0cmlwbGUiOiIiKTtpZighKGUgaW4gdGhpcykpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGVudHJ5IHR5cGU6ICIrZSk7cmV0dXJuIHRoaXNbZV0odCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS50cmlwbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudG9FbnRpdHkodC5zdWJqZWN0KSsiICIrdGhpcy50b0VudGl0eSh0LnByZWRpY2F0ZSkrIiAiK3RoaXMudG9FbnRpdHkodC5vYmplY3QpKyIuIn07R2VuZXJhdG9yJDEucHJvdG90eXBlLmFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBtYXBKb2luKHQsdGhpcy5fbmV3bGluZSx0aGlzLnRvUGF0dGVybix0aGlzKX07R2VuZXJhdG9yJDEucHJvdG90eXBlLmJncD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbmNvZGVUcmlwbGVzKHQudHJpcGxlcyl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5lbmNvZGVUcmlwbGVzPWZ1bmN0aW9uKHQpe2lmKCF0Lmxlbmd0aClyZXR1cm4iIjtmb3IodmFyIGU9W10sbj12b2lkIDAsbz12b2lkIDAsZD0wO2Q8dC5sZW5ndGg7ZCsrKXt2YXIgaD10W2RdO2VxdWFsVGVybXMoaC5zdWJqZWN0LG4pP2VxdWFsVGVybXMoaC5wcmVkaWNhdGUsbyk/ZS5wdXNoKCIsIik6KG89aC5wcmVkaWNhdGUsZS5wdXNoKCI7Iit0aGlzLl9uZXdsaW5lLHRoaXMuX2luZGVudCx0aGlzLnRvRW50aXR5KG8pKSk6KG4mJmUucHVzaCgiLiIrdGhpcy5fbmV3bGluZSksbj1oLnN1YmplY3Qsbz1oLnByZWRpY2F0ZSxlLnB1c2godGhpcy50b0VudGl0eShuKSwiICIsdGhpcy50b0VudGl0eShvKSkpLGUucHVzaCgiICIsdGhpcy50b0VudGl0eShoLm9iamVjdCkpfXJldHVybiBlLnB1c2goIi4iKSxlLmpvaW4oIiIpfTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuZ3JhcGg9ZnVuY3Rpb24odCl7cmV0dXJuIkdSQVBIICIrdGhpcy50b0VudGl0eSh0Lm5hbWUpKyIgIit0aGlzLmdyb3VwKHQpfTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuZ3JhcGhzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIWV8fGUubGVuZ3RoPT09MD8iIjptYXBKb2luKGUsIiIsZnVuY3Rpb24obil7cmV0dXJuIHQrdGhpcy50b0VudGl0eShuKSt0aGlzLl9uZXdsaW5lfSx0aGlzKX07R2VuZXJhdG9yJDEucHJvdG90eXBlLmdyb3VwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9ZSE9PSEwP3RoaXMuYXJyYXkodC5wYXR0ZXJuc3x8dC50cmlwbGVzKTp0aGlzLnRvUGF0dGVybih0LnR5cGUhPT0iZ3JvdXAiP3Q6dC5wYXR0ZXJucyksdC5pbmRleE9mKHRoaXMuX25ld2xpbmUpPT09LTE/InsgIit0KyIgfSI6InsiK3RoaXMuX25ld2xpbmUrdGhpcy5pbmRlbnQodCkrdGhpcy5fbmV3bGluZSsifSJ9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b1F1ZXJ5KHQpfTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3JldHVybiJGSUxURVIoIit0aGlzLnRvRXhwcmVzc2lvbih0LmV4cHJlc3Npb24pKyIpIn07R2VuZXJhdG9yJDEucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIkJJTkQoIit0aGlzLnRvRXhwcmVzc2lvbih0LmV4cHJlc3Npb24pKyIgQVMgIit2YXJpYWJsZVRvU3RyaW5nKHQudmFyaWFibGUpKyIpIn07R2VuZXJhdG9yJDEucHJvdG90eXBlLm9wdGlvbmFsPWZ1bmN0aW9uKHQpe3JldHVybiJPUFRJT05BTCAiK3RoaXMuZ3JvdXAodCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS51bmlvbj1mdW5jdGlvbih0KXtyZXR1cm4gbWFwSm9pbih0LnBhdHRlcm5zLHRoaXMuX25ld2xpbmUrIlVOSU9OIit0aGlzLl9uZXdsaW5lLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdyb3VwKGUsITApfSx0aGlzKX07R2VuZXJhdG9yJDEucHJvdG90eXBlLm1pbnVzPWZ1bmN0aW9uKHQpe3JldHVybiJNSU5VUyAiK3RoaXMuZ3JvdXAodCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LmtleXModC52YWx1ZXMucmVkdWNlKGZ1bmN0aW9uKGQsaCl7Zm9yKHZhciBsIGluIGgpZFtsXT0hMDtyZXR1cm4gZH0se30pKSxuLG87cmV0dXJuIGUubGVuZ3RoPT09MT9uPW89IiI6KG49IigiLG89IikiKSwiVkFMVUVTICIrbitlLmpvaW4oIiAiKStvKyIgeyIrdGhpcy5fbmV3bGluZSttYXBKb2luKHQudmFsdWVzLHRoaXMuX25ld2xpbmUsZnVuY3Rpb24oZCl7cmV0dXJuIiAgIituK21hcEpvaW4oZSx2b2lkIDAsZnVuY3Rpb24oaCl7cmV0dXJuIGRbaF0/dGhpcy50b0VudGl0eShkW2hdKToiVU5ERUYifSx0aGlzKStvfSx0aGlzKSt0aGlzLl9uZXdsaW5lKyJ9In07R2VuZXJhdG9yJDEucHJvdG90eXBlLnNlcnZpY2U9ZnVuY3Rpb24odCl7cmV0dXJuIlNFUlZJQ0UgIisodC5zaWxlbnQ/IlNJTEVOVCAiOiIiKSt0aGlzLnRvRW50aXR5KHQubmFtZSkrIiAiK3RoaXMuZ3JvdXAodCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS50b0V4cHJlc3Npb249ZnVuY3Rpb24odCl7aWYoaXNUZXJtJDEodCkpcmV0dXJuIHRoaXMudG9FbnRpdHkodCk7c3dpdGNoKHQudHlwZS50b0xvd2VyQ2FzZSgpKXtjYXNlImFnZ3JlZ2F0ZSI6cmV0dXJuIHQuYWdncmVnYXRpb24udG9VcHBlckNhc2UoKSsiKCIrKHQuZGlzdGluY3Q/IkRJU1RJTkNUICI6IiIpK3RoaXMudG9FeHByZXNzaW9uKHQuZXhwcmVzc2lvbikrKHR5cGVvZiB0LnNlcGFyYXRvcj09InN0cmluZyI/JzsgU0VQQVJBVE9SID0gIicrdC5zZXBhcmF0b3IucmVwbGFjZShlc2NhcGUsZXNjYXBlUmVwbGFjZXIpKyciJzoiIikrIikiO2Nhc2UiZnVuY3Rpb25jYWxsIjpyZXR1cm4gdGhpcy50b0VudGl0eSh0LmZ1bmN0aW9uKSsiKCIrbWFwSm9pbih0LmFyZ3MsIiwgIix0aGlzLnRvRXhwcmVzc2lvbix0aGlzKSsiKSI7Y2FzZSJvcGVyYXRpb24iOnZhciBlPXQub3BlcmF0b3IudG9VcHBlckNhc2UoKSxuPXQuYXJnc3x8W107c3dpdGNoKHQub3BlcmF0b3IudG9Mb3dlckNhc2UoKSl7Y2FzZSI8IjpjYXNlIj4iOmNhc2UiPj0iOmNhc2UiPD0iOmNhc2UiJiYiOmNhc2UifHwiOmNhc2UiPSI6Y2FzZSIhPSI6Y2FzZSIrIjpjYXNlIi0iOmNhc2UiKiI6Y2FzZSIvIjpyZXR1cm4oaXNUZXJtJDEoblswXSk/dGhpcy50b0VudGl0eShuWzBdKToiKCIrdGhpcy50b0V4cHJlc3Npb24oblswXSkrIikiKSsiICIrZSsiICIrKGlzVGVybSQxKG5bMV0pP3RoaXMudG9FbnRpdHkoblsxXSk6IigiK3RoaXMudG9FeHByZXNzaW9uKG5bMV0pKyIpIik7Y2FzZSIhIjpyZXR1cm4iISgiK3RoaXMudG9FeHByZXNzaW9uKG5bMF0pKyIpIjtjYXNlInVwbHVzIjpyZXR1cm4iKygiK3RoaXMudG9FeHByZXNzaW9uKG5bMF0pKyIpIjtjYXNlInVtaW51cyI6cmV0dXJuIi0oIit0aGlzLnRvRXhwcmVzc2lvbihuWzBdKSsiKSI7Y2FzZSJub3RpbiI6ZT0iTk9UIElOIjtjYXNlImluIjpyZXR1cm4gdGhpcy50b0V4cHJlc3Npb24oblswXSkrIiAiK2UrIigiKyhpc1N0cmluZyQxKG5bMV0pP25bMV06bWFwSm9pbihuWzFdLCIsICIsdGhpcy50b0V4cHJlc3Npb24sdGhpcykpKyIpIjtjYXNlIm5vdGV4aXN0cyI6ZT0iTk9UIEVYSVNUUyI7Y2FzZSJleGlzdHMiOnJldHVybiBlKyIgIit0aGlzLmdyb3VwKG5bMF0sITApO2RlZmF1bHQ6cmV0dXJuIGUrIigiK21hcEpvaW4obiwiLCAiLHRoaXMudG9FeHByZXNzaW9uLHRoaXMpKyIpIn1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBleHByZXNzaW9uIHR5cGU6ICIrdC50eXBlKX19O0dlbmVyYXRvciQxLnByb3RvdHlwZS50b0VudGl0eT1mdW5jdGlvbih0KXtpZihpc1Rlcm0kMSh0KSlzd2l0Y2godC50ZXJtVHlwZSl7Y2FzZSJXaWxkY2FyZCI6cmV0dXJuIioiO2Nhc2UiVmFyaWFibGUiOnJldHVybiB2YXJpYWJsZVRvU3RyaW5nKHQpO2Nhc2UiQmxhbmtOb2RlIjpyZXR1cm4iXzoiK3QudmFsdWU7Y2FzZSJMaXRlcmFsIjp2YXIgZT10LnZhbHVlfHwiIixuPXQubGFuZ3VhZ2V8fCIiLG89dC5kYXRhdHlwZTtpZih0PSciJytlLnJlcGxhY2UoZXNjYXBlLGVzY2FwZVJlcGxhY2VyKSsnIicsbil0Kz0iQCIrbjtlbHNlIGlmKG8pe2lmKCF0aGlzLl9leHBsaWNpdERhdGF0eXBlKXN3aXRjaChvLnZhbHVlKXtjYXNlIFhTRF9TVFJJTkc6cmV0dXJuIHQ7Y2FzZSBYU0RfSU5URUdFUjppZigvXlxkKyQvLnRlc3QoZSkpcmV0dXJuIGUrIiAifXQrPSJeXiIrdGhpcy5lbmNvZGVJUkkoby52YWx1ZSl9cmV0dXJuIHQ7Y2FzZSJRdWFkIjppZighdGhpcy5fc3BhcnFsU3Rhcil0aHJvdyBuZXcgRXJyb3IoIlNQQVJRTCogc3VwcG9ydCBpcyBub3QgZW5hYmxlZCIpO3JldHVybiB0LmdyYXBoJiZ0LmdyYXBoLnRlcm1UeXBlIT09IkRlZmF1bHRHcmFwaCI/Ijw8IEdSQVBIICIrdGhpcy50b0VudGl0eSh0LmdyYXBoKSsiIHsgIit0aGlzLnRvRW50aXR5KHQuc3ViamVjdCkrIiAiK3RoaXMudG9FbnRpdHkodC5wcmVkaWNhdGUpKyIgIit0aGlzLnRvRW50aXR5KHQub2JqZWN0KSsiIH0gID4+IjoiPDwgIit0aGlzLnRvRW50aXR5KHQuc3ViamVjdCkrIiAiK3RoaXMudG9FbnRpdHkodC5wcmVkaWNhdGUpKyIgIit0aGlzLnRvRW50aXR5KHQub2JqZWN0KSsiID4+IjtkZWZhdWx0OnJldHVybiB0aGlzLmVuY29kZUlSSSh0LnZhbHVlKX1lbHNle3ZhciBkPXQuaXRlbXMubWFwKHRoaXMudG9FbnRpdHksdGhpcyksaD10LnBhdGhUeXBlO3N3aXRjaChoKXtjYXNlIl4iOmNhc2UiISI6cmV0dXJuIGgrZFswXTtjYXNlIioiOmNhc2UiKyI6Y2FzZSI/IjpyZXR1cm4iKCIrZFswXStoKyIpIjtkZWZhdWx0OnJldHVybiIoIitkLmpvaW4oaCkrIikifX19O3ZhciBlc2NhcGU9L1siXFxcdFxuXHJcYlxmXS9nLGVzY2FwZVJlcGxhY2VyPWZ1bmN0aW9uKHQpe3JldHVybiBlc2NhcGVSZXBsYWNlbWVudHNbdF19LGVzY2FwZVJlcGxhY2VtZW50cz17IlxcIjoiXFxcXCIsJyInOidcXCInLCIJIjoiXFx0IiwiXG4iOiJcXG4iLCJcciI6IlxcciIsIlxiIjoiXFxiIiwiXGYiOiJcXGYifTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuZW5jb2RlSVJJPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3ByZWZpeFJlZ2V4LmV4ZWModCk7aWYoZSl7dmFyIG49dGhpcy5fcHJlZml4QnlJcmlbZVsxXV07cmV0dXJuIHRoaXMuX3VzZWRQcmVmaXhlc1tuXT0hMCxuKyI6IitlWzJdfXJldHVybiI8Iit0KyI+In07R2VuZXJhdG9yJDEucHJvdG90eXBlLnRvVXBkYXRlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGV8fHQudXBkYXRlVHlwZSl7Y2FzZSJsb2FkIjpyZXR1cm4iTE9BRCIrKHQuc291cmNlPyIgIit0aGlzLnRvRW50aXR5KHQuc291cmNlKToiIikrKHQuZGVzdGluYXRpb24/IiBJTlRPIEdSQVBIICIrdGhpcy50b0VudGl0eSh0LmRlc3RpbmF0aW9uKToiIik7Y2FzZSJpbnNlcnQiOnJldHVybiJJTlNFUlQgREFUQSAiK3RoaXMuZ3JvdXAodC5pbnNlcnQsITApO2Nhc2UiZGVsZXRlIjpyZXR1cm4iREVMRVRFIERBVEEgIit0aGlzLmdyb3VwKHQuZGVsZXRlLCEwKTtjYXNlImRlbGV0ZXdoZXJlIjpyZXR1cm4iREVMRVRFIFdIRVJFICIrdGhpcy5ncm91cCh0LmRlbGV0ZSwhMCk7Y2FzZSJpbnNlcnRkZWxldGUiOnJldHVybih0LmdyYXBoPyJXSVRIICIrdGhpcy50b0VudGl0eSh0LmdyYXBoKSt0aGlzLl9uZXdsaW5lOiIiKSsodC5kZWxldGUubGVuZ3RoPyJERUxFVEUgIit0aGlzLmdyb3VwKHQuZGVsZXRlLCEwKSt0aGlzLl9uZXdsaW5lOiIiKSsodC5pbnNlcnQubGVuZ3RoPyJJTlNFUlQgIit0aGlzLmdyb3VwKHQuaW5zZXJ0LCEwKSt0aGlzLl9uZXdsaW5lOiIiKSsodC51c2luZz90aGlzLmdyYXBocygiVVNJTkcgIix0LnVzaW5nLmRlZmF1bHQpOiIiKSsodC51c2luZz90aGlzLmdyYXBocygiVVNJTkcgTkFNRUQgIix0LnVzaW5nLm5hbWVkKToiIikrIldIRVJFICIrdGhpcy5ncm91cCh0LndoZXJlLCEwKTtjYXNlImFkZCI6Y2FzZSJjb3B5IjpjYXNlIm1vdmUiOnJldHVybiB0LnR5cGUudG9VcHBlckNhc2UoKSsiICIrKHQuc2lsZW50PyJTSUxFTlQgIjoiIikrKHQuc291cmNlLmRlZmF1bHQ/IkRFRkFVTFQiOnRoaXMudG9FbnRpdHkodC5zb3VyY2UubmFtZSkpKyIgVE8gIit0aGlzLnRvRW50aXR5KHQuZGVzdGluYXRpb24ubmFtZSk7Y2FzZSJjcmVhdGUiOmNhc2UiY2xlYXIiOmNhc2UiZHJvcCI6cmV0dXJuIHQudHlwZS50b1VwcGVyQ2FzZSgpKyh0LnNpbGVudD8iIFNJTEVOVCAiOiIgIikrKHQuZ3JhcGguZGVmYXVsdD8iREVGQVVMVCI6dC5ncmFwaC5uYW1lZD8iTkFNRUQiOnQuZ3JhcGguYWxsPyJBTEwiOiJHUkFQSCAiK3RoaXMudG9FbnRpdHkodC5ncmFwaC5uYW1lKSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gdXBkYXRlIHF1ZXJ5IHR5cGU6ICIrdC50eXBlKX19O0dlbmVyYXRvciQxLnByb3RvdHlwZS5pbmRlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXi9nbSx0aGlzLl9pbmRlbnQpfTtmdW5jdGlvbiB2YXJpYWJsZVRvU3RyaW5nKHQpe3JldHVybiI/Iit0LnZhbHVlfWZ1bmN0aW9uIGlzU3RyaW5nJDEodCl7cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIn1mdW5jdGlvbiBpc1Rlcm0kMSh0KXtyZXR1cm4gdHlwZW9mIHQudGVybVR5cGU9PSJzdHJpbmcifWZ1bmN0aW9uIGVxdWFsVGVybXModCxlKXtpZighdHx8IWlzVGVybSQxKHQpfHwhZXx8IWlzVGVybSQxKGUpfHx0LnRlcm1UeXBlIT09ZS50ZXJtVHlwZSlyZXR1cm4hMTtzd2l0Y2godC50ZXJtVHlwZSl7Y2FzZSJMaXRlcmFsIjpyZXR1cm4gdC52YWx1ZT09PWUudmFsdWUmJnQubGFuZ3VhZ2U9PT1lLmxhbmd1YWdlJiZlcXVhbFRlcm1zKHQuZGF0YXR5cGUsZS5kYXRhdHlwZSk7Y2FzZSJRdWFkIjpyZXR1cm4gZXF1YWxUZXJtcyh0LnN1YmplY3QsZS5zdWJqZWN0KSYmZXF1YWxUZXJtcyh0LnByZWRpY2F0ZSxlLnByZWRpY2F0ZSkmJmVxdWFsVGVybXModC5vYmplY3QsZS5vYmplY3QpJiZlcXVhbFRlcm1zKHQuZ3JhcGgsZS5ncmFwaCk7ZGVmYXVsdDpyZXR1cm4gdC52YWx1ZT09PWUudmFsdWV9fWZ1bmN0aW9uIG1hcEpvaW4odCxlLG4sbyl7cmV0dXJuIHQubWFwKG4sbykuam9pbihpc1N0cmluZyQxKGUpP2U6IiAiKX12YXIgU3BhcnFsR2VuZXJhdG9yPWZ1bmN0aW9uKGU9e30pe3JldHVybntzdHJpbmdpZnk6ZnVuY3Rpb24obil7dmFyIG89T2JqZWN0LmNyZWF0ZShlKTtyZXR1cm4gby5wcmVmaXhlcz1uLnByZWZpeGVzLG5ldyBHZW5lcmF0b3IkMShvKS50b1F1ZXJ5KG4pfSxjcmVhdGVHZW5lcmF0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEdlbmVyYXRvciQxKGUpfX19LFBhcnNlciQxPVNwYXJxbFBhcnNlcl8xLlBhcnNlcixHZW5lcmF0b3I9U3BhcnFsR2VuZXJhdG9yLFdpbGRjYXJkPVdpbGRjYXJkJDIuV2lsZGNhcmQse0RhdGFGYWN0b3J5fT1yZGZEYXRhRmFjdG9yeSxzcGFycWwkMT17UGFyc2VyOmZ1bmN0aW9uKHtwcmVmaXhlczp0LGJhc2VJUkk6ZSxmYWN0b3J5Om4sc3BhcnFsU3RhcjpvLHNraXBWYWxpZGF0aW9uOmQsc2tpcFVuZ3JvdXBlZFZhcmlhYmxlQ2hlY2s6aCxwYXRoT25seTpsfT17fSl7dmFyIHU9e307Zm9yKHZhciBwIGluIHR8fHt9KXVbcF09dFtwXTt2YXIgZz1uZXcgUGFyc2VyJDE7cmV0dXJuIGcucGFyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gUGFyc2VyJDEuYmFzZT1lfHwiIixQYXJzZXIkMS5wcmVmaXhlcz1PYmplY3QuY3JlYXRlKHUpLFBhcnNlciQxLmZhY3Rvcnk9bnx8bmV3IERhdGFGYWN0b3J5LFBhcnNlciQxLnNwYXJxbFN0YXI9ISFvLFBhcnNlciQxLnBhdGhPbmx5PSEhbCxQYXJzZXIkMS5za2lwVmFsaWRhdGlvbj0hIWR8fCEhaCxQYXJzZXIkMS5wcm90b3R5cGUucGFyc2UuYXBwbHkoZyxhcmd1bWVudHMpfSxnLl9yZXNldEJsYW5rcz1QYXJzZXIkMS5fcmVzZXRCbGFua3MsZ30sR2VuZXJhdG9yLFdpbGRjYXJkfSxfX1FVQURTVE9SRV9DT01VTklDQV9FWFRFUk5BTF9NT0RVTEVfc3BhcnFsanNfXz1fbWVyZ2VOYW1lc3BhY2VzKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OnNwYXJxbCQxfSxbc3BhcnFsJDFdKSxfX2NyZWF0ZUJpbmRpbmckMj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUsbixvKXtvPT09dm9pZCAwJiYobz1uKTt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik7KCFkfHwoImdldCJpbiBkPyFlLl9fZXNNb2R1bGU6ZC53cml0YWJsZXx8ZC5jb25maWd1cmFibGUpKSYmKGQ9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbyxkKX06ZnVuY3Rpb24odCxlLG4sbyl7bz09PXZvaWQgMCYmKG89biksdFtvXT1lW25dfSksX19zZXRNb2R1bGVEZWZhdWx0JDI9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pfTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lfSksX19pbXBvcnRTdGFyJDI9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKHQhPW51bGwpZm9yKHZhciBuIGluIHQpbiE9PSJkZWZhdWx0IiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJl9fY3JlYXRlQmluZGluZyQyKGUsdCxuKTtyZXR1cm4gX19zZXRNb2R1bGVEZWZhdWx0JDIoZSx0KSxlfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZmFjdG9yeSQyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBBPV9faW1wb3J0U3RhciQyKGFsZ2VicmEpLHJkZl9kYXRhX2ZhY3RvcnlfMSQxPXJkZkRhdGFGYWN0b3J5LHJkZl9zdHJpbmdfMSQ0PXJkZlN0cmluZyxzcGFycWxqc18xJDE9c3BhcnFsJDE7Y2xhc3MgRmFjdG9yeXtjb25zdHJ1Y3RvcihlKXt0aGlzLmRhdGFGYWN0b3J5PWV8fG5ldyByZGZfZGF0YV9mYWN0b3J5XzEkMS5EYXRhRmFjdG9yeSx0aGlzLnN0cmluZ1R5cGU9dGhpcy5jcmVhdGVUZXJtKCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmciKX1jcmVhdGVBbHQoZSxuPSEwKXtyZXR1cm4gdGhpcy5mbGF0dGVuTXVsdGkoe3R5cGU6QS50eXBlcy5BTFQsaW5wdXQ6ZX0sbil9Y3JlYXRlQXNrKGUpe3JldHVybnt0eXBlOkEudHlwZXMuQVNLLGlucHV0OmV9fWNyZWF0ZUJvdW5kQWdncmVnYXRlKGUsbixvLGQsaCl7Y29uc3QgbD10aGlzLmNyZWF0ZUFnZ3JlZ2F0ZUV4cHJlc3Npb24obixvLGQsaCk7cmV0dXJuIGwudmFyaWFibGU9ZSxsfWNyZWF0ZUJncChlKXtyZXR1cm57dHlwZTpBLnR5cGVzLkJHUCxwYXR0ZXJuczplfX1jcmVhdGVDb25zdHJ1Y3QoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLkNPTlNUUlVDVCxpbnB1dDplLHRlbXBsYXRlOm59fWNyZWF0ZURlc2NyaWJlKGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5ERVNDUklCRSxpbnB1dDplLHRlcm1zOm59fWNyZWF0ZURpc3RpbmN0KGUpe3JldHVybnt0eXBlOkEudHlwZXMuRElTVElOQ1QsaW5wdXQ6ZX19Y3JlYXRlRXh0ZW5kKGUsbixvKXtyZXR1cm57dHlwZTpBLnR5cGVzLkVYVEVORCxpbnB1dDplLHZhcmlhYmxlOm4sZXhwcmVzc2lvbjpvfX1jcmVhdGVGcm9tKGUsbixvKXtyZXR1cm57dHlwZTpBLnR5cGVzLkZST00saW5wdXQ6ZSxkZWZhdWx0Om4sbmFtZWQ6b319Y3JlYXRlRmlsdGVyKGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5GSUxURVIsaW5wdXQ6ZSxleHByZXNzaW9uOm59fWNyZWF0ZUdyYXBoKGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5HUkFQSCxpbnB1dDplLG5hbWU6bn19Y3JlYXRlR3JvdXAoZSxuLG8pe3JldHVybnt0eXBlOkEudHlwZXMuR1JPVVAsaW5wdXQ6ZSx2YXJpYWJsZXM6bixhZ2dyZWdhdGVzOm99fWNyZWF0ZUludihlKXtyZXR1cm57dHlwZTpBLnR5cGVzLklOVixwYXRoOmV9fWNyZWF0ZUpvaW4oZSxuPSEwKXtyZXR1cm4gdGhpcy5mbGF0dGVuTXVsdGkoe3R5cGU6QS50eXBlcy5KT0lOLGlucHV0OmV9LG4pfWNyZWF0ZUxlZnRKb2luKGUsbixvKXtyZXR1cm4gbz97dHlwZTpBLnR5cGVzLkxFRlRfSk9JTixpbnB1dDpbZSxuXSxleHByZXNzaW9uOm99Ont0eXBlOkEudHlwZXMuTEVGVF9KT0lOLGlucHV0OltlLG5dfX1jcmVhdGVMaW5rKGUpe3JldHVybnt0eXBlOkEudHlwZXMuTElOSyxpcmk6ZX19Y3JlYXRlTWludXMoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLk1JTlVTLGlucHV0OltlLG5dfX1jcmVhdGVOb3AoKXtyZXR1cm57dHlwZTpBLnR5cGVzLk5PUH19Y3JlYXRlTnBzKGUpe3JldHVybnt0eXBlOkEudHlwZXMuTlBTLGlyaXM6ZX19Y3JlYXRlT25lT3JNb3JlUGF0aChlKXtyZXR1cm57dHlwZTpBLnR5cGVzLk9ORV9PUl9NT1JFX1BBVEgscGF0aDplfX1jcmVhdGVPcmRlckJ5KGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5PUkRFUl9CWSxpbnB1dDplLGV4cHJlc3Npb25zOm59fWNyZWF0ZVBhdGgoZSxuLG8sZCl7cmV0dXJuIGQ/e3R5cGU6QS50eXBlcy5QQVRILHN1YmplY3Q6ZSxwcmVkaWNhdGU6bixvYmplY3Q6byxncmFwaDpkfTp7dHlwZTpBLnR5cGVzLlBBVEgsc3ViamVjdDplLHByZWRpY2F0ZTpuLG9iamVjdDpvLGdyYXBoOnRoaXMuZGF0YUZhY3RvcnkuZGVmYXVsdEdyYXBoKCl9fWNyZWF0ZVBhdHRlcm4oZSxuLG8sZCl7Y29uc3QgaD10aGlzLmRhdGFGYWN0b3J5LnF1YWQoZSxuLG8sZCk7cmV0dXJuIGgudHlwZT1BLnR5cGVzLlBBVFRFUk4saH1jcmVhdGVQcm9qZWN0KGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5QUk9KRUNULGlucHV0OmUsdmFyaWFibGVzOm59fWNyZWF0ZVJlZHVjZWQoZSl7cmV0dXJue3R5cGU6QS50eXBlcy5SRURVQ0VELGlucHV0OmV9fWNyZWF0ZVNlcShlLG49ITApe3JldHVybiB0aGlzLmZsYXR0ZW5NdWx0aSh7dHlwZTpBLnR5cGVzLlNFUSxpbnB1dDplfSxuKX1jcmVhdGVTZXJ2aWNlKGUsbixvKXtyZXR1cm57dHlwZTpBLnR5cGVzLlNFUlZJQ0UsaW5wdXQ6ZSxuYW1lOm4sc2lsZW50OiEhb319Y3JlYXRlU2xpY2UoZSxuLG8pe3JldHVybiBuPW58fDAsbyE9PXZvaWQgMD97dHlwZTpBLnR5cGVzLlNMSUNFLGlucHV0OmUsc3RhcnQ6bixsZW5ndGg6b306e3R5cGU6QS50eXBlcy5TTElDRSxpbnB1dDplLHN0YXJ0Om59fWNyZWF0ZVVuaW9uKGUsbj0hMCl7cmV0dXJuIHRoaXMuZmxhdHRlbk11bHRpKHt0eXBlOkEudHlwZXMuVU5JT04saW5wdXQ6ZX0sbil9Y3JlYXRlVmFsdWVzKGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5WQUxVRVMsdmFyaWFibGVzOmUsYmluZGluZ3M6bn19Y3JlYXRlWmVyb09yTW9yZVBhdGgoZSl7cmV0dXJue3R5cGU6QS50eXBlcy5aRVJPX09SX01PUkVfUEFUSCxwYXRoOmV9fWNyZWF0ZVplcm9Pck9uZVBhdGgoZSl7cmV0dXJue3R5cGU6QS50eXBlcy5aRVJPX09SX09ORV9QQVRILHBhdGg6ZX19Y3JlYXRlQWdncmVnYXRlRXhwcmVzc2lvbihlLG4sbyxkKXtyZXR1cm4gZD97dHlwZTpBLnR5cGVzLkVYUFJFU1NJT04sZXhwcmVzc2lvblR5cGU6QS5leHByZXNzaW9uVHlwZXMuQUdHUkVHQVRFLGFnZ3JlZ2F0b3I6ZSxleHByZXNzaW9uOm4sc2VwYXJhdG9yOmQsZGlzdGluY3Q6b306e3R5cGU6QS50eXBlcy5FWFBSRVNTSU9OLGV4cHJlc3Npb25UeXBlOkEuZXhwcmVzc2lvblR5cGVzLkFHR1JFR0FURSxhZ2dyZWdhdG9yOmUsZXhwcmVzc2lvbjpuLGRpc3RpbmN0Om99fWNyZWF0ZUV4aXN0ZW5jZUV4cHJlc3Npb24oZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLkVYUFJFU1NJT04sZXhwcmVzc2lvblR5cGU6QS5leHByZXNzaW9uVHlwZXMuRVhJU1RFTkNFLG5vdDplLGlucHV0Om59fWNyZWF0ZU5hbWVkRXhwcmVzc2lvbihlLG4pe3JldHVybnt0eXBlOkEudHlwZXMuRVhQUkVTU0lPTixleHByZXNzaW9uVHlwZTpBLmV4cHJlc3Npb25UeXBlcy5OQU1FRCxuYW1lOmUsYXJnczpufX1jcmVhdGVPcGVyYXRvckV4cHJlc3Npb24oZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLkVYUFJFU1NJT04sZXhwcmVzc2lvblR5cGU6QS5leHByZXNzaW9uVHlwZXMuT1BFUkFUT1Isb3BlcmF0b3I6ZSxhcmdzOm59fWNyZWF0ZVRlcm1FeHByZXNzaW9uKGUpe3JldHVybnt0eXBlOkEudHlwZXMuRVhQUkVTU0lPTixleHByZXNzaW9uVHlwZTpBLmV4cHJlc3Npb25UeXBlcy5URVJNLHRlcm06ZX19Y3JlYXRlV2lsZGNhcmRFeHByZXNzaW9uKCl7cmV0dXJue3R5cGU6QS50eXBlcy5FWFBSRVNTSU9OLGV4cHJlc3Npb25UeXBlOkEuZXhwcmVzc2lvblR5cGVzLldJTERDQVJELHdpbGRjYXJkOm5ldyBzcGFycWxqc18xJDEuV2lsZGNhcmR9fWNyZWF0ZVRlcm0oZSl7cmV0dXJuKDAscmRmX3N0cmluZ18xJDQuc3RyaW5nVG9UZXJtKShlLHRoaXMuZGF0YUZhY3RvcnkpfWNyZWF0ZUNvbXBvc2l0ZVVwZGF0ZShlKXtyZXR1cm57dHlwZTpBLnR5cGVzLkNPTVBPU0lURV9VUERBVEUsdXBkYXRlczplfX1jcmVhdGVEZWxldGVJbnNlcnQoZSxuLG8pe2NvbnN0IGQ9e3R5cGU6QS50eXBlcy5ERUxFVEVfSU5TRVJUfTtyZXR1cm4gZSYmKGQuZGVsZXRlPWUpLG4mJihkLmluc2VydD1uKSxvJiYoZC53aGVyZT1vKSxkfWNyZWF0ZUxvYWQoZSxuLG8pe2NvbnN0IGQ9e3R5cGU6QS50eXBlcy5MT0FELHNvdXJjZTplfTtyZXR1cm4gbiYmKGQuZGVzdGluYXRpb249biksdGhpcy5hZGRTaWxlbnQoZCwhIW8pfWNyZWF0ZUNsZWFyKGUsbil7cmV0dXJuIHRoaXMuYWRkU2lsZW50KHt0eXBlOkEudHlwZXMuQ0xFQVIsc291cmNlOmV9LCEhbil9Y3JlYXRlQ3JlYXRlKGUsbil7cmV0dXJuIHRoaXMuYWRkU2lsZW50KHt0eXBlOkEudHlwZXMuQ1JFQVRFLHNvdXJjZTplfSwhIW4pfWNyZWF0ZURyb3AoZSxuKXtyZXR1cm4gdGhpcy5hZGRTaWxlbnQoe3R5cGU6QS50eXBlcy5EUk9QLHNvdXJjZTplfSwhIW4pfWNyZWF0ZUFkZChlLG4sbyl7cmV0dXJuIHRoaXMuYWRkU2lsZW50KHt0eXBlOkEudHlwZXMuQURELHNvdXJjZTplLGRlc3RpbmF0aW9uOm59LCEhbyl9Y3JlYXRlTW92ZShlLG4sbyl7cmV0dXJuIHRoaXMuYWRkU2lsZW50KHt0eXBlOkEudHlwZXMuTU9WRSxzb3VyY2U6ZSxkZXN0aW5hdGlvbjpufSwhIW8pfWNyZWF0ZUNvcHkoZSxuLG8pe3JldHVybiB0aGlzLmFkZFNpbGVudCh7dHlwZTpBLnR5cGVzLkNPUFksc291cmNlOmUsZGVzdGluYXRpb246bn0sISFvKX1hZGRTaWxlbnQoZSxuKXtyZXR1cm4gbiYmKGUuc2lsZW50PW4pLGV9ZmxhdHRlbk11bHRpKGUsbil7aWYoIW4pcmV0dXJuIGU7Y29uc3Qgbz1lLnR5cGUsZD1lLmlucHV0O2xldCBoPVtdO2Zvcihjb25zdCBsIG9mIGQpbC50eXBlPT09bz9oLnB1c2goLi4ubC5pbnB1dCk6aC5wdXNoKGwpO3JldHVybiBlLmlucHV0PWgsZX19ZmFjdG9yeSQyLmRlZmF1bHQ9RmFjdG9yeTt2YXIgdXRpbD17fSxfX2ltcG9ydERlZmF1bHQkMj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh1dGlsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBhbGdlYnJhXzE9YWxnZWJyYSxmYWN0b3J5XzEkMj1fX2ltcG9ydERlZmF1bHQkMihmYWN0b3J5JDIpO2NsYXNzIFV0aWx7c3RhdGljIGZsYXR0ZW4oZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQoLi4uZSkuZmlsdGVyKG49Pm4pfXN0YXRpYyBvYmplY3RpZnkoZSl7aWYoZS50ZXJtVHlwZSl7aWYoZS50ZXJtVHlwZT09PSJRdWFkIilyZXR1cm57dHlwZToicGF0dGVybiIsdGVybVR5cGU6IlF1YWQiLHN1YmplY3Q6VXRpbC5vYmplY3RpZnkoZS5zdWJqZWN0KSxwcmVkaWNhdGU6VXRpbC5vYmplY3RpZnkoZS5wcmVkaWNhdGUpLG9iamVjdDpVdGlsLm9iamVjdGlmeShlLm9iamVjdCksZ3JhcGg6VXRpbC5vYmplY3RpZnkoZS5ncmFwaCl9O3tsZXQgbj17dGVybVR5cGU6ZS50ZXJtVHlwZSx2YWx1ZTplLnZhbHVlfTtyZXR1cm4gZS5sYW5ndWFnZSYmKG4ubGFuZ3VhZ2U9ZS5sYW5ndWFnZSksZS5kYXRhdHlwZSYmKG4uZGF0YXR5cGU9VXRpbC5vYmplY3RpZnkoZS5kYXRhdHlwZSkpLG59fWlmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUubWFwKG49PlV0aWwub2JqZWN0aWZ5KG4pKTtpZihlPT09T2JqZWN0KGUpKXtsZXQgbj17fTtmb3IobGV0IG8gb2YgT2JqZWN0LmtleXMoZSkpbltvXT1VdGlsLm9iamVjdGlmeShlW29dKTtyZXR1cm4gbn1yZXR1cm4gZX1zdGF0aWMgaW5TY29wZVZhcmlhYmxlcyhlKXtjb25zdCBuPVtdO2Z1bmN0aW9uIG8oaCl7bi5maW5kKGw9PmgudmFsdWU9PT1sLnZhbHVlKXx8bi5wdXNoKGgpfWZ1bmN0aW9uIGQoaCl7aC5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmbyhoLnN1YmplY3QpLGgucHJlZGljYXRlLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmbyhoLnByZWRpY2F0ZSksaC5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiZvKGgub2JqZWN0KSxoLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmbyhoLmdyYXBoKSxoLnN1YmplY3QudGVybVR5cGU9PT0iUXVhZCImJmQoaC5zdWJqZWN0KSxoLnByZWRpY2F0ZS50ZXJtVHlwZT09PSJRdWFkIiYmZChoLnByZWRpY2F0ZSksaC5vYmplY3QudGVybVR5cGU9PT0iUXVhZCImJmQoaC5vYmplY3QpLGguZ3JhcGgudGVybVR5cGU9PT0iUXVhZCImJmQoaC5ncmFwaCl9cmV0dXJuIFV0aWwucmVjdXJzZU9wZXJhdGlvbihlLHtbYWxnZWJyYV8xLnR5cGVzLkVYUFJFU1NJT05dOmg9PihoLmV4cHJlc3Npb25UeXBlPT09YWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5BR0dSRUdBVEUmJmgudmFyaWFibGUmJm8oaC52YXJpYWJsZSksITApLFthbGdlYnJhXzEudHlwZXMuRVhURU5EXTpoPT4obyhoLnZhcmlhYmxlKSwhMCksW2FsZ2VicmFfMS50eXBlcy5HUkFQSF06aD0+KGgubmFtZS50ZXJtVHlwZT09PSJWYXJpYWJsZSImJm8oaC5uYW1lKSwhMCksW2FsZ2VicmFfMS50eXBlcy5HUk9VUF06aD0+KGgudmFyaWFibGVzLmZvckVhY2gobyksITApLFthbGdlYnJhXzEudHlwZXMuUEFUSF06aD0+KGguc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJm8oaC5zdWJqZWN0KSxoLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJm8oaC5vYmplY3QpLGguZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiJiZvKGguZ3JhcGgpLGguc3ViamVjdC50ZXJtVHlwZT09PSJRdWFkIiYmZChoLnN1YmplY3QpLGgub2JqZWN0LnRlcm1UeXBlPT09IlF1YWQiJiZkKGgub2JqZWN0KSxoLmdyYXBoLnRlcm1UeXBlPT09IlF1YWQiJiZkKGguZ3JhcGgpLCEwKSxbYWxnZWJyYV8xLnR5cGVzLlBBVFRFUk5dOmg9PihkKGgpLCEwKSxbYWxnZWJyYV8xLnR5cGVzLlBST0pFQ1RdOmg9PihoLnZhcmlhYmxlcy5mb3JFYWNoKG8pLCExKSxbYWxnZWJyYV8xLnR5cGVzLlNFUlZJQ0VdOmg9PihoLm5hbWUudGVybVR5cGU9PT0iVmFyaWFibGUiJiZvKGgubmFtZSksITApLFthbGdlYnJhXzEudHlwZXMuVkFMVUVTXTpoPT4oaC52YXJpYWJsZXMuZm9yRWFjaChvKSwhMCl9KSxufXN0YXRpYyByZWN1cnNlT3BlcmF0aW9uKGUsbil7bGV0IG89ZSxkPSEwO2NvbnN0IGg9bltlLnR5cGVdO2lmKGgmJihkPWgoZSkpLCFkKXJldHVybjtsZXQgbD11PT5VdGlsLnJlY3Vyc2VPcGVyYXRpb24odSxuKTtzd2l0Y2goby50eXBlKXtjYXNlIGFsZ2VicmFfMS50eXBlcy5BTFQ6by5pbnB1dC5tYXAobCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQVNLOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQkdQOm8ucGF0dGVybnMuZm9yRWFjaChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5DT05TVFJVQ1Q6bChvLmlucHV0KSxvLnRlbXBsYXRlLm1hcChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5ERVNDUklCRTpsKG8uaW5wdXQpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkRJU1RJTkNUOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRVhQUkVTU0lPTjpvLmV4cHJlc3Npb25UeXBlPT09YWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5FWElTVEVOQ0UmJmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRVhURU5EOmwoby5pbnB1dCksbChvLmV4cHJlc3Npb24pO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkZJTFRFUjpsKG8uaW5wdXQpLGwoby5leHByZXNzaW9uKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5GUk9NOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuR1JBUEg6bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5HUk9VUDpsKG8uaW5wdXQpLG8uYWdncmVnYXRlcy5mb3JFYWNoKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLklOVjpsKG8ucGF0aCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuSk9JTjpvLmlucHV0Lm1hcChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5MRUZUX0pPSU46by5pbnB1dC5tYXAobCksby5leHByZXNzaW9uJiZsKG8uZXhwcmVzc2lvbik7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTElOSzpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5NSU5VUzpvLmlucHV0Lm1hcChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5OT1A6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTlBTOmJyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk9ORV9PUl9NT1JFX1BBVEg6bChvLnBhdGgpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk9SREVSX0JZOmwoby5pbnB1dCksby5leHByZXNzaW9ucy5mb3JFYWNoKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlBBVEg6bChvLnByZWRpY2F0ZSk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuUEFUVEVSTjpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5QUk9KRUNUOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuUkVEVUNFRDpsKG8uaW5wdXQpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlNFUTpvLmlucHV0Lm1hcChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5TRVJWSUNFOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuU0xJQ0U6bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5VTklPTjpvLmlucHV0Lm1hcChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5WQUxVRVM6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuWkVST19PUl9NT1JFX1BBVEg6bChvLnBhdGgpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlpFUk9fT1JfT05FX1BBVEg6bChvLnBhdGgpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkNPTVBPU0lURV9VUERBVEU6by51cGRhdGVzLmZvckVhY2godT0+bCh1KSk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuREVMRVRFX0lOU0VSVDpvLmRlbGV0ZSYmby5kZWxldGUuZm9yRWFjaCh1PT5sKHUpKSxvLmluc2VydCYmby5pbnNlcnQuZm9yRWFjaCh1PT5sKHUpKSxvLndoZXJlJiZsKG8ud2hlcmUpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkxPQUQ6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ0xFQVI6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ1JFQVRFOmJyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkRST1A6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQUREOmJyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk1PVkU6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ09QWTpicmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBPcGVyYXRpb24gdHlwZSAke28udHlwZX1gKX19c3RhdGljIG1hcE9wZXJhdGlvbihlLG4sbyl7bGV0IGQ9ZSxoPSEwO289b3x8bmV3IGZhY3RvcnlfMSQyLmRlZmF1bHQ7Y29uc3QgbD1uW2UudHlwZV07aWYobCYmKHtyZXN1bHQ6ZCxyZWN1cnNlOmh9PWwoZSxvKSksIWgpcmV0dXJuIGQ7bGV0IHU9cD0+VXRpbC5tYXBPcGVyYXRpb24ocCxuLG8pO3N3aXRjaChkLnR5cGUpe2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkFMVDpyZXR1cm4gby5jcmVhdGVBbHQoZC5pbnB1dC5tYXAodSkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkFTSzpyZXR1cm4gby5jcmVhdGVBc2sodShkLmlucHV0KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQkdQOnJldHVybiBvLmNyZWF0ZUJncChkLnBhdHRlcm5zLm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ09OU1RSVUNUOnJldHVybiBvLmNyZWF0ZUNvbnN0cnVjdCh1KGQuaW5wdXQpLGQudGVtcGxhdGUubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5ERVNDUklCRTpyZXR1cm4gby5jcmVhdGVEZXNjcmliZSh1KGQuaW5wdXQpLGQudGVybXMpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkRJU1RJTkNUOnJldHVybiBvLmNyZWF0ZURpc3RpbmN0KHUoZC5pbnB1dCkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkVYUFJFU1NJT046cmV0dXJuIFV0aWwubWFwRXhwcmVzc2lvbihkLG4sbyk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRVhURU5EOnJldHVybiBvLmNyZWF0ZUV4dGVuZCh1KGQuaW5wdXQpLGQudmFyaWFibGUsdShkLmV4cHJlc3Npb24pKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5GSUxURVI6cmV0dXJuIG8uY3JlYXRlRmlsdGVyKHUoZC5pbnB1dCksdShkLmV4cHJlc3Npb24pKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5GUk9NOnJldHVybiBvLmNyZWF0ZUZyb20odShkLmlucHV0KSxbLi4uZC5kZWZhdWx0XSxbLi4uZC5uYW1lZF0pO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkdSQVBIOnJldHVybiBvLmNyZWF0ZUdyYXBoKHUoZC5pbnB1dCksZC5uYW1lKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5HUk9VUDpyZXR1cm4gby5jcmVhdGVHcm91cCh1KGQuaW5wdXQpLFtdLmNvbmNhdChkLnZhcmlhYmxlcyksZC5hZ2dyZWdhdGVzLm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuSU5WOnJldHVybiBvLmNyZWF0ZUludih1KGQucGF0aCkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkpPSU46cmV0dXJuIG8uY3JlYXRlSm9pbihkLmlucHV0Lm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTEVGVF9KT0lOOnJldHVybiBvLmNyZWF0ZUxlZnRKb2luKHUoZC5pbnB1dFswXSksdShkLmlucHV0WzFdKSxkLmV4cHJlc3Npb24/dShkLmV4cHJlc3Npb24pOnZvaWQgMCk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTElOSzpyZXR1cm4gby5jcmVhdGVMaW5rKGQuaXJpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5NSU5VUzpyZXR1cm4gby5jcmVhdGVNaW51cyh1KGQuaW5wdXRbMF0pLHUoZC5pbnB1dFsxXSkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk5PUDpyZXR1cm4gby5jcmVhdGVOb3AoKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5OUFM6cmV0dXJuIG8uY3JlYXRlTnBzKFtdLmNvbmNhdChkLmlyaXMpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5PTkVfT1JfTU9SRV9QQVRIOnJldHVybiBvLmNyZWF0ZU9uZU9yTW9yZVBhdGgodShkLnBhdGgpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5PUkRFUl9CWTpyZXR1cm4gby5jcmVhdGVPcmRlckJ5KHUoZC5pbnB1dCksZC5leHByZXNzaW9ucy5tYXAodSkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlBBVEg6cmV0dXJuIG8uY3JlYXRlUGF0aChkLnN1YmplY3QsdShkLnByZWRpY2F0ZSksZC5vYmplY3QsZC5ncmFwaCk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuUEFUVEVSTjpyZXR1cm4gby5jcmVhdGVQYXR0ZXJuKGQuc3ViamVjdCxkLnByZWRpY2F0ZSxkLm9iamVjdCxkLmdyYXBoKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5QUk9KRUNUOnJldHVybiBvLmNyZWF0ZVByb2plY3QodShkLmlucHV0KSxbLi4uZC52YXJpYWJsZXNdKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5SRURVQ0VEOnJldHVybiBvLmNyZWF0ZVJlZHVjZWQodShkLmlucHV0KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuU0VROnJldHVybiBvLmNyZWF0ZVNlcShkLmlucHV0Lm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuU0VSVklDRTpyZXR1cm4gby5jcmVhdGVTZXJ2aWNlKHUoZC5pbnB1dCksZC5uYW1lLGQuc2lsZW50KTtjYXNlIGFsZ2VicmFfMS50eXBlcy5TTElDRTpyZXR1cm4gby5jcmVhdGVTbGljZSh1KGQuaW5wdXQpLGQuc3RhcnQsZC5sZW5ndGgpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlVOSU9OOnJldHVybiBvLmNyZWF0ZVVuaW9uKGQuaW5wdXQubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5WQUxVRVM6cmV0dXJuIG8uY3JlYXRlVmFsdWVzKFtdLmNvbmNhdChkLnZhcmlhYmxlcyksZC5iaW5kaW5ncy5tYXAocD0+T2JqZWN0LmFzc2lnbih7fSxwKSkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlpFUk9fT1JfTU9SRV9QQVRIOnJldHVybiBvLmNyZWF0ZVplcm9Pck1vcmVQYXRoKHUoZC5wYXRoKSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuWkVST19PUl9PTkVfUEFUSDpyZXR1cm4gby5jcmVhdGVaZXJvT3JPbmVQYXRoKHUoZC5wYXRoKSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ09NUE9TSVRFX1VQREFURTpyZXR1cm4gby5jcmVhdGVDb21wb3NpdGVVcGRhdGUoZC51cGRhdGVzLm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuREVMRVRFX0lOU0VSVDpyZXR1cm4gby5jcmVhdGVEZWxldGVJbnNlcnQoZC5kZWxldGU/ZC5kZWxldGUubWFwKHUpOnZvaWQgMCxkLmluc2VydD9kLmluc2VydC5tYXAodSk6dm9pZCAwLGQud2hlcmU/dShkLndoZXJlKTp2b2lkIDApO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkxPQUQ6cmV0dXJuIG8uY3JlYXRlTG9hZChkLnNvdXJjZSxkLmRlc3RpbmF0aW9uLGQuc2lsZW50KTtjYXNlIGFsZ2VicmFfMS50eXBlcy5DTEVBUjpyZXR1cm4gby5jcmVhdGVDbGVhcihkLnNvdXJjZSxkLnNpbGVudCk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ1JFQVRFOnJldHVybiBvLmNyZWF0ZUNyZWF0ZShkLnNvdXJjZSxkLnNpbGVudCk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRFJPUDpyZXR1cm4gby5jcmVhdGVEcm9wKGQuc291cmNlLGQuc2lsZW50KTtjYXNlIGFsZ2VicmFfMS50eXBlcy5BREQ6cmV0dXJuIG8uY3JlYXRlQWRkKGQuc291cmNlLGQuZGVzdGluYXRpb24pO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk1PVkU6cmV0dXJuIG8uY3JlYXRlTW92ZShkLnNvdXJjZSxkLmRlc3RpbmF0aW9uKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5DT1BZOnJldHVybiBvLmNyZWF0ZUNvcHkoZC5zb3VyY2UsZC5kZXN0aW5hdGlvbik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gT3BlcmF0aW9uIHR5cGUgJHtkLnR5cGV9YCl9fXN0YXRpYyBtYXBFeHByZXNzaW9uKGUsbixvKXtsZXQgZD1oPT5VdGlsLm1hcE9wZXJhdGlvbihoLG4sbyk7c3dpdGNoKGUuZXhwcmVzc2lvblR5cGUpe2Nhc2UgYWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5BR0dSRUdBVEU6cmV0dXJuIGUudmFyaWFibGU/by5jcmVhdGVCb3VuZEFnZ3JlZ2F0ZShlLnZhcmlhYmxlLGUuYWdncmVnYXRvcixkKGUuZXhwcmVzc2lvbiksZS5kaXN0aW5jdCxlLnNlcGFyYXRvcik6by5jcmVhdGVBZ2dyZWdhdGVFeHByZXNzaW9uKGUuYWdncmVnYXRvcixkKGUuZXhwcmVzc2lvbiksZS5kaXN0aW5jdCxlLnNlcGFyYXRvcik7Y2FzZSBhbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLkVYSVNURU5DRTpyZXR1cm4gby5jcmVhdGVFeGlzdGVuY2VFeHByZXNzaW9uKGUubm90LGQoZS5pbnB1dCkpO2Nhc2UgYWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5OQU1FRDpyZXR1cm4gby5jcmVhdGVOYW1lZEV4cHJlc3Npb24oZS5uYW1lLGUuYXJncy5tYXAoZCkpO2Nhc2UgYWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5PUEVSQVRPUjpyZXR1cm4gby5jcmVhdGVPcGVyYXRvckV4cHJlc3Npb24oZS5vcGVyYXRvcixlLmFyZ3MubWFwKGQpKTtjYXNlIGFsZ2VicmFfMS5leHByZXNzaW9uVHlwZXMuVEVSTTpyZXR1cm4gby5jcmVhdGVUZXJtRXhwcmVzc2lvbihlLnRlcm0pO2Nhc2UgYWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5XSUxEQ0FSRDpyZXR1cm4gby5jcmVhdGVXaWxkY2FyZEV4cHJlc3Npb24oKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBFeHByZXNzaW9uIHR5cGUgJHtlLmV4cHJlc3Npb25UeXBlfWApfX1zdGF0aWMgY3JlYXRlVW5pcXVlVmFyaWFibGUoZSxuLG8pe2xldCBkPTAsaD1lO2Zvcig7bltoXTspaD1gJHtlfSR7ZCsrfWA7cmV0dXJuIG8udmFyaWFibGUoaCl9c3RhdGljIGlzU2ltcGxlVGVybShlKXtyZXR1cm4gZS50ZXJtVHlwZSE9PXZvaWQgMCYmZS50ZXJtVHlwZSE9PSJRdWFkIiYmZS50ZXJtVHlwZSE9PSJXaWxkY2FyZCJ9c3RhdGljIGlzUXVhZChlKXtyZXR1cm4gZS50ZXJtVHlwZT09PSJRdWFkIn1zdGF0aWMgaXNXaWxkY2FyZChlKXtyZXR1cm4gZS50ZXJtVHlwZT09PSJXaWxkY2FyZCJ9fXV0aWwuZGVmYXVsdD1VdGlsO3ZhciBfX2NyZWF0ZUJpbmRpbmckMT1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUsbixvKXtvPT09dm9pZCAwJiYobz1uKTt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik7KCFkfHwoImdldCJpbiBkPyFlLl9fZXNNb2R1bGU6ZC53cml0YWJsZXx8ZC5jb25maWd1cmFibGUpKSYmKGQ9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbyxkKX06ZnVuY3Rpb24odCxlLG4sbyl7bz09PXZvaWQgMCYmKG89biksdFtvXT1lW25dfSksX19zZXRNb2R1bGVEZWZhdWx0JDE9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pfTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lfSksX19pbXBvcnRTdGFyJDE9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odCl7aWYodCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPXt9O2lmKHQhPW51bGwpZm9yKHZhciBuIGluIHQpbiE9PSJkZWZhdWx0IiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJl9fY3JlYXRlQmluZGluZyQxKGUsdCxuKTtyZXR1cm4gX19zZXRNb2R1bGVEZWZhdWx0JDEoZSx0KSxlfSxfX2ltcG9ydERlZmF1bHQkMT1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlP3Q6e2RlZmF1bHQ6dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShzcGFycWxBbGdlYnJhLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtjb25zdCBlcXVhbD1lczYscmRmX3N0cmluZ18xJDM9cmRmU3RyaW5nLEFsZ2VicmEkMT1fX2ltcG9ydFN0YXIkMShhbGdlYnJhKSxmYWN0b3J5XzEkMT1fX2ltcG9ydERlZmF1bHQkMShmYWN0b3J5JDIpLHV0aWxfMSQxPV9faW1wb3J0RGVmYXVsdCQxKHV0aWwpLFBhcnNlcj1zcGFycWwkMS5QYXJzZXIsdHlwZXMkMT1BbGdlYnJhJDEudHlwZXM7bGV0IHZhcmlhYmxlcz1uZXcgU2V0LHZhckNvdW50PTAsdXNlUXVhZHM9ITEsZmFjdG9yeSQxO2Z1bmN0aW9uIHRyYW5zbGF0ZSQxKHQsZSl7ZT1lfHx7fSxmYWN0b3J5JDE9bmV3IGZhY3RvcnlfMSQxLmRlZmF1bHQoZS5kYXRhRmFjdG9yeSk7bGV0IG47aWYoaXNTdHJpbmcodCkpe2xldCBvPW5ldyBQYXJzZXIoZSk7by5fcmVzZXRCbGFua3MoKSxuPW8ucGFyc2UodCl9ZWxzZSBuPXQ7cmV0dXJuIHRyYW5zbGF0ZVF1ZXJ5KG4sZS5xdWFkcyxlLmJsYW5rVG9WYXJpYWJsZSl9c3BhcnFsQWxnZWJyYS5kZWZhdWx0PXRyYW5zbGF0ZSQxO2Z1bmN0aW9uIHRyYW5zbGF0ZVF1ZXJ5KHQsZSxuKXtpZih2YXJpYWJsZXM9bmV3IFNldCx2YXJDb3VudD0wLHVzZVF1YWRzPSEhZSwhdC50eXBlKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlTm9wKCk7aWYodC50eXBlIT09InF1ZXJ5IiYmdC50eXBlIT09InVwZGF0ZSIpdGhyb3cgbmV3IEVycm9yKCJUcmFuc2xhdGUgb25seSB3b3JrcyBvbiBjb21wbGV0ZSBxdWVyeSBvciB1cGRhdGUgb2JqZWN0cy4iKTtsZXQgbztpZihmaW5kQWxsVmFyaWFibGVzKHQpLHQudHlwZT09PSJxdWVyeSIpe2NvbnN0IGQ9e3R5cGU6Imdyb3VwIixwYXR0ZXJuczp0LndoZXJlfHxbXX07bz10cmFuc2xhdGVHcm91cEdyYXBoUGF0dGVybihkKSxvPXRyYW5zbGF0ZUFnZ3JlZ2F0ZXModCxvKX1lbHNlIHQudHlwZT09PSJ1cGRhdGUiJiYobz10cmFuc2xhdGVVcGRhdGUodCkpO3JldHVybiBuJiYobz10cmFuc2xhdGVCbGFua05vZGVzVG9WYXJpYWJsZXMobykpLG99ZnVuY3Rpb24gaXNTdHJpbmcodCl7cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIn1mdW5jdGlvbiBpc1Rlcm0odCl7cmV0dXJuISF0Py50ZXJtVHlwZX1mdW5jdGlvbiBpc1RyaXBsZSh0KXtyZXR1cm4gdC5zdWJqZWN0JiZ0LnByZWRpY2F0ZSYmdC5vYmplY3R9ZnVuY3Rpb24gaXNWYXJpYWJsZSh0KXtyZXR1cm4gdD8udGVybVR5cGU9PT0iVmFyaWFibGUifWZ1bmN0aW9uIGZpbmRBbGxWYXJpYWJsZXModCl7aWYoaXNUZXJtKHQpKWlzVmFyaWFibGUodCkmJnZhcmlhYmxlcy5hZGQoYD8ke3QudmFsdWV9YCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKWZvcihjb25zdCBlIG9mIHQpZmluZEFsbFZhcmlhYmxlcyhlKTtlbHNlIGlmKHQmJnR5cGVvZiB0PT0ib2JqZWN0Iilmb3IobGV0IGUgb2YgT2JqZWN0LmtleXModCkpZS5zdGFydHNXaXRoKCI/IikmJnZhcmlhYmxlcy5hZGQoZSksZmluZEFsbFZhcmlhYmxlcyh0W2VdKX1mdW5jdGlvbiBpblNjb3BlVmFyaWFibGVzKHQpe2xldCBlPXt9O2lmKGlzVHJpcGxlKHQpKXtjb25zdCBuPVtpblNjb3BlVmFyaWFibGVzKHQuc3ViamVjdCksaW5TY29wZVZhcmlhYmxlcyh0LnByZWRpY2F0ZSksaW5TY29wZVZhcmlhYmxlcyh0Lm9iamVjdCksdC5ncmFwaD9pblNjb3BlVmFyaWFibGVzKHQuZ3JhcGgpOnt9XTtPYmplY3QuYXNzaWduKGUsLi4ubil9ZWxzZSBpZihpc1Rlcm0odCkpaXNWYXJpYWJsZSh0KSYmKGVbdC52YWx1ZV09dCk7ZWxzZSBpZih0LnR5cGU9PT0iYmdwIil7Y29uc3Qgbj10LnRyaXBsZXM7T2JqZWN0LmFzc2lnbihlLC4uLm4ubWFwKGluU2NvcGVWYXJpYWJsZXMpKX1lbHNlIGlmKHQudHlwZT09PSJwYXRoIilPYmplY3QuYXNzaWduKGUsLi4udC5pdGVtcy5tYXAoaW5TY29wZVZhcmlhYmxlcykpO2Vsc2UgaWYodC50eXBlPT09Imdyb3VwInx8dC50eXBlPT09InVuaW9uInx8dC50eXBlPT09Im9wdGlvbmFsIilPYmplY3QuYXNzaWduKGUsLi4udC5wYXR0ZXJucy5tYXAoaW5TY29wZVZhcmlhYmxlcykpO2Vsc2UgaWYodC50eXBlPT09InNlcnZpY2UifHx0LnR5cGU9PT0iZ3JhcGgiKU9iamVjdC5hc3NpZ24oZSxpblNjb3BlVmFyaWFibGVzKHQubmFtZSkpLE9iamVjdC5hc3NpZ24oZSwuLi50LnBhdHRlcm5zLm1hcChpblNjb3BlVmFyaWFibGVzKSk7ZWxzZSBpZih0LnR5cGU9PT0iYmluZCIpT2JqZWN0LmFzc2lnbihlLGluU2NvcGVWYXJpYWJsZXModC52YXJpYWJsZSkpO2Vsc2UgaWYodC50eXBlPT09InZhbHVlcyIpe2lmKHQudmFsdWVzLmxlbmd0aD4wKXtjb25zdCBuPU9iamVjdC5rZXlzKHQudmFsdWVzWzBdKS5tYXAobz0+ZmFjdG9yeSQxLmNyZWF0ZVRlcm0obykpO09iamVjdC5hc3NpZ24oZSwuLi5uLm1hcChpblNjb3BlVmFyaWFibGVzKSl9fWVsc2UgaWYodC50eXBlPT09InF1ZXJ5IiYmKHQucXVlcnlUeXBlPT09IlNFTEVDVCJ8fHQucXVlcnlUeXBlPT09IkRFU0NSSUJFIikpe3Qud2hlcmUmJnQudmFyaWFibGVzLnNvbWUodXRpbF8xJDEuZGVmYXVsdC5pc1dpbGRjYXJkKSYmT2JqZWN0LmFzc2lnbihlLC4uLnQud2hlcmUubWFwKGluU2NvcGVWYXJpYWJsZXMpKTtmb3IoY29uc3QgbiBvZiB0LnZhcmlhYmxlcylpc1ZhcmlhYmxlKG4pP09iamVjdC5hc3NpZ24oZSxpblNjb3BlVmFyaWFibGVzKG4pKTpuLnZhcmlhYmxlJiZPYmplY3QuYXNzaWduKGUsaW5TY29wZVZhcmlhYmxlcyhuLnZhcmlhYmxlKSk7aWYodC5xdWVyeVR5cGU9PT0iU0VMRUNUIil7aWYodC5ncm91cClmb3IoY29uc3QgbiBvZiB0Lmdyb3VwKW4udmFyaWFibGUmJk9iamVjdC5hc3NpZ24oZSxpblNjb3BlVmFyaWFibGVzKG4udmFyaWFibGUpKTtpZih0LnZhbHVlcyl7Y29uc3Qgbj17dHlwZToidmFsdWVzIix2YWx1ZXM6dC52YWx1ZXN9O09iamVjdC5hc3NpZ24oZSxpblNjb3BlVmFyaWFibGVzKG4pKX19fXJldHVybiBlfWZ1bmN0aW9uIHRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKHQpe2xldCBlPVtdLG49W107aWYoInBhdHRlcm5zImluIHQpZm9yKGxldCBkIG9mIHQucGF0dGVybnMpKGQudHlwZT09PSJmaWx0ZXIiP2U6bikucHVzaChkKTtpZih0LnR5cGU9PT0iYmdwIilyZXR1cm4gdHJhbnNsYXRlQmdwJDEodCk7bGV0IG87aWYodC50eXBlPT09InVuaW9uIilvPWZhY3RvcnkkMS5jcmVhdGVVbmlvbihuLm1hcChkPT4oZC50eXBlIT09Imdyb3VwIiYmKGQ9e3R5cGU6Imdyb3VwIixwYXR0ZXJuczpbZF19KSx0cmFuc2xhdGVHcm91cEdyYXBoUGF0dGVybihkKSkpKTtlbHNle2lmKHQudHlwZT09PSJncmFwaCIpcmV0dXJuIHRyYW5zbGF0ZUdyYXBoJDEodCk7aWYodC50eXBlPT09Imdyb3VwIilvPW4ucmVkdWNlKGFjY3VtdWxhdGVHcm91cEdyYXBoUGF0dGVybixmYWN0b3J5JDEuY3JlYXRlQmdwKFtdKSk7ZWxzZSBpZih0LnR5cGU9PT0idmFsdWVzIilvPXRyYW5zbGF0ZUlubGluZURhdGEodCk7ZWxzZSBpZih0LnR5cGU9PT0icXVlcnkiKW89dHJhbnNsYXRlUXVlcnkodCx1c2VRdWFkcywhMSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdHlwZTogJHt0LnR5cGV9YCl9aWYoZS5sZW5ndGg+MCl7bGV0IGQ9ZS5tYXAoaD0+dHJhbnNsYXRlRXhwcmVzc2lvbiQxKGguZXhwcmVzc2lvbikpO2QubGVuZ3RoPjAmJihvPWZhY3RvcnkkMS5jcmVhdGVGaWx0ZXIobyxkLnJlZHVjZSgoaCxsKT0+ZmFjdG9yeSQxLmNyZWF0ZU9wZXJhdG9yRXhwcmVzc2lvbigiJiYiLFtoLGxdKSkpKX1yZXR1cm4gb31mdW5jdGlvbiB0cmFuc2xhdGVFeHByZXNzaW9uJDEodCl7aWYodXRpbF8xJDEuZGVmYXVsdC5pc1NpbXBsZVRlcm0odCl8fHV0aWxfMSQxLmRlZmF1bHQuaXNRdWFkKHQpKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlVGVybUV4cHJlc3Npb24odCk7aWYodXRpbF8xJDEuZGVmYXVsdC5pc1dpbGRjYXJkKHQpKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlV2lsZGNhcmRFeHByZXNzaW9uKCk7aWYoImFnZ3JlZ2F0aW9uImluIHQpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVBZ2dyZWdhdGVFeHByZXNzaW9uKHQuYWdncmVnYXRpb24sdHJhbnNsYXRlRXhwcmVzc2lvbiQxKHQuZXhwcmVzc2lvbiksISF0LmRpc3RpbmN0LHQuc2VwYXJhdG9yKTtpZigiZnVuY3Rpb24iaW4gdClyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZU5hbWVkRXhwcmVzc2lvbih0LmZ1bmN0aW9uLHQuYXJncy5tYXAodHJhbnNsYXRlRXhwcmVzc2lvbiQxKSk7aWYoIm9wZXJhdG9yImluIHQpcmV0dXJuIHQub3BlcmF0b3I9PT0iZXhpc3RzInx8dC5vcGVyYXRvcj09PSJub3RleGlzdHMiP2ZhY3RvcnkkMS5jcmVhdGVFeGlzdGVuY2VFeHByZXNzaW9uKHQub3BlcmF0b3I9PT0ibm90ZXhpc3RzIix0cmFuc2xhdGVHcm91cEdyYXBoUGF0dGVybih0LmFyZ3NbMF0pKTooKHQub3BlcmF0b3I9PT0iaW4ifHx0Lm9wZXJhdG9yPT09Im5vdGluIikmJih0LmFyZ3M9W3QuYXJnc1swXV0uY29uY2F0KHQuYXJnc1sxXSkpLGZhY3RvcnkkMS5jcmVhdGVPcGVyYXRvckV4cHJlc3Npb24odC5vcGVyYXRvcix0LmFyZ3MubWFwKHRyYW5zbGF0ZUV4cHJlc3Npb24kMSkpKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZXhwcmVzc2lvbjogJHtKU09OLnN0cmluZ2lmeSh0KX1gKX1mdW5jdGlvbiB0cmFuc2xhdGVCZ3AkMSh0KXtsZXQgZT1bXSxuPVtdO2ZvcihsZXQgbyBvZiB0LnRyaXBsZXMpaWYoInBhdGhUeXBlImluIG8ucHJlZGljYXRlKXtsZXQgZD10cmFuc2xhdGVQYXRoJDEobyk7Zm9yKGxldCBoIG9mIGQpaC50eXBlPT09dHlwZXMkMS5QQVRIPyhlLmxlbmd0aD4wJiZuLnB1c2goZmFjdG9yeSQxLmNyZWF0ZUJncChlKSksZT1bXSxuLnB1c2goaCkpOmUucHVzaChoKX1lbHNlIGUucHVzaCh0cmFuc2xhdGVRdWFkKG8pKTtyZXR1cm4gZS5sZW5ndGg+MCYmbi5wdXNoKGZhY3RvcnkkMS5jcmVhdGVCZ3AoZSkpLG4ubGVuZ3RoPT09MT9uWzBdOmZhY3RvcnkkMS5jcmVhdGVKb2luKG4pfWZ1bmN0aW9uIHRyYW5zbGF0ZVBhdGgkMSh0KXtsZXQgZT10LnN1YmplY3Qsbj10cmFuc2xhdGVQYXRoUHJlZGljYXRlKHQucHJlZGljYXRlKSxvPXQub2JqZWN0O3JldHVybiBzaW1wbGlmeVBhdGgoZSxuLG8pfWZ1bmN0aW9uIHRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUodCl7aWYodXRpbF8xJDEuZGVmYXVsdC5pc1NpbXBsZVRlcm0odCkpe2lmKHQudGVybVR5cGU9PT0iTmFtZWROb2RlIilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUxpbmsodCk7dGhyb3cgbmV3IEVycm9yKGBQYXRoIHByZWRpY2F0ZSBzaG91bGQgYmUgYSBOYW1lZE5vZGUsIGdvdCAke0pTT04uc3RyaW5naWZ5KHQpfWApfWlmKHQucGF0aFR5cGU9PT0iXiIpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVJbnYodHJhbnNsYXRlUGF0aFByZWRpY2F0ZSh0Lml0ZW1zWzBdKSk7aWYodC5wYXRoVHlwZT09PSIhIil7bGV0IGU9W10sbj1bXSxvOyJwYXRoVHlwZSJpbiB0Lml0ZW1zWzBdJiZ0Lml0ZW1zWzBdLnBhdGhUeXBlPT09InwiP289dC5pdGVtc1swXS5pdGVtczpvPXQuaXRlbXM7Zm9yKGxldCBsIG9mIG8paWYodXRpbF8xJDEuZGVmYXVsdC5pc1NpbXBsZVRlcm0obCkpZS5wdXNoKGwpO2Vsc2UgaWYobC5wYXRoVHlwZT09PSJeIiluLnB1c2gobC5pdGVtc1swXSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgaXRlbTogJHtKU09OLnN0cmluZ2lmeShsKX1gKTtsZXQgZD1mYWN0b3J5JDEuY3JlYXRlTnBzKGUpLGg9ZmFjdG9yeSQxLmNyZWF0ZUludihmYWN0b3J5JDEuY3JlYXRlTnBzKG4pKTtyZXR1cm4gbi5sZW5ndGg9PT0wP2Q6ZS5sZW5ndGg9PT0wP2g6ZmFjdG9yeSQxLmNyZWF0ZUFsdChbZCxoXSl9aWYodC5wYXRoVHlwZT09PSIvIilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZVNlcSh0Lml0ZW1zLm1hcCh0cmFuc2xhdGVQYXRoUHJlZGljYXRlKSk7aWYodC5wYXRoVHlwZT09PSJ8IilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUFsdCh0Lml0ZW1zLm1hcCh0cmFuc2xhdGVQYXRoUHJlZGljYXRlKSk7aWYodC5wYXRoVHlwZT09PSIqIilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZVplcm9Pck1vcmVQYXRoKHRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUodC5pdGVtc1swXSkpO2lmKHQucGF0aFR5cGU9PT0iKyIpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVPbmVPck1vcmVQYXRoKHRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUodC5pdGVtc1swXSkpO2lmKHQucGF0aFR5cGU9PT0iPyIpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVaZXJvT3JPbmVQYXRoKHRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUodC5pdGVtc1swXSkpO3Rocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHRyYW5zbGF0ZSBwYXRoIGV4cHJlc3Npb24gJHtKU09OLnN0cmluZ2lmeSh0KX1gKX1mdW5jdGlvbiBzaW1wbGlmeVBhdGgodCxlLG4pe2lmKGUudHlwZT09PXR5cGVzJDEuTElOSylyZXR1cm5bZmFjdG9yeSQxLmNyZWF0ZVBhdHRlcm4odCxlLmlyaSxuKV07aWYoZS50eXBlPT09dHlwZXMkMS5JTlYpcmV0dXJuIHNpbXBsaWZ5UGF0aChuLGUucGF0aCx0KTtpZihlLnR5cGU9PT10eXBlcyQxLlNFUSl7bGV0IG89dDtyZXR1cm4gdXRpbF8xJDEuZGVmYXVsdC5mbGF0dGVuKGUuaW5wdXQubWFwKChkLGgpPT57Y29uc3QgbD1oPT09ZS5pbnB1dC5sZW5ndGgtMT9uOmdlbmVyYXRlRnJlc2hWYXIoKSx1PXNpbXBsaWZ5UGF0aChvLGQsbCk7cmV0dXJuIGwudGVybVR5cGU9PT0iVmFyaWFibGUiJiYobz1sKSx1fSkpfXJldHVybltmYWN0b3J5JDEuY3JlYXRlUGF0aCh0LGUsbildfWZ1bmN0aW9uIGdlbmVyYXRlRnJlc2hWYXIoKXtsZXQgdD1gP3ZhciR7dmFyQ291bnQrK31gO3JldHVybiB2YXJpYWJsZXMuaGFzKHQpP2dlbmVyYXRlRnJlc2hWYXIoKToodmFyaWFibGVzLmFkZCh0KSxmYWN0b3J5JDEuY3JlYXRlVGVybSh0KSl9ZnVuY3Rpb24gdHJhbnNsYXRlUXVhZCh0KXtpZigicGF0aFR5cGUiaW4gdC5wcmVkaWNhdGUpdGhyb3cgbmV3IEVycm9yKCJUcnlpbmcgdG8gdHJhbnNsYXRlIHByb3BlcnR5IHBhdGggdG8gcXVhZC4iKTtyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZVBhdHRlcm4odC5zdWJqZWN0LHQucHJlZGljYXRlLHQub2JqZWN0LHQuZ3JhcGgpfWZ1bmN0aW9uIHRyYW5zbGF0ZUdyYXBoJDEodCl7Y29uc3QgZT17dHlwZToiZ3JvdXAiLHBhdHRlcm5zOnQucGF0dGVybnN9O2xldCBuPXRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKGUpO3JldHVybiB1c2VRdWFkcz9uPXJlY3Vyc2VHcmFwaChuLHQubmFtZSk6bj1mYWN0b3J5JDEuY3JlYXRlR3JhcGgobix0Lm5hbWUpLG59bGV0IHR5cGVWYWxzPU9iamVjdC52YWx1ZXModHlwZXMkMSk7ZnVuY3Rpb24gcmVjdXJzZUdyYXBoKHQsZSxuKXtpZih0LnR5cGU9PT10eXBlcyQxLkdSQVBIKXtpZihuKXRocm93IG5ldyBFcnJvcigiUmVjdXJzaW5nIHRocm91Z2ggbmVzdGVkIEdSQVBIIHN0YXRlbWVudHMgd2l0aCBhIHJlcGxhY2VtZW50IGlzIGltcG9zc2libGUuIik7dD1yZWN1cnNlR3JhcGgodC5pbnB1dCx0Lm5hbWUpfWVsc2UgaWYodC50eXBlPT09dHlwZXMkMS5CR1ApdC5wYXR0ZXJucz10LnBhdHRlcm5zLm1hcChvPT4obiYmKG8uc3ViamVjdC5lcXVhbHMoZSkmJihvLnN1YmplY3Q9biksby5wcmVkaWNhdGUuZXF1YWxzKGUpJiYoby5wcmVkaWNhdGU9biksby5vYmplY3QuZXF1YWxzKGUpJiYoby5vYmplY3Q9bikpLG8uZ3JhcGgudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIiYmKG8uZ3JhcGg9ZSksbykpO2Vsc2UgaWYodC50eXBlPT09dHlwZXMkMS5QQVRIKW4mJih0LnN1YmplY3QuZXF1YWxzKGUpJiYodC5zdWJqZWN0PW4pLHQub2JqZWN0LmVxdWFscyhlKSYmKHQub2JqZWN0PW4pKSx0LmdyYXBoLnRlcm1UeXBlPT09IkRlZmF1bHRHcmFwaCImJih0LmdyYXBoPWUpO2Vsc2UgaWYodC50eXBlPT09dHlwZXMkMS5QUk9KRUNUJiYhbil0LnZhcmlhYmxlcy5zb21lKG89Pm8uZXF1YWxzKGUpKXx8KG49Z2VuZXJhdGVGcmVzaFZhcigpKSx0LmlucHV0PXJlY3Vyc2VHcmFwaCh0LmlucHV0LGUsbik7ZWxzZSBpZih0LnR5cGU9PT10eXBlcyQxLkVYVEVORCYmIW4pdC52YXJpYWJsZS5lcXVhbHMoZSkmJihuPWdlbmVyYXRlRnJlc2hWYXIoKSksdC5pbnB1dD1yZWN1cnNlR3JhcGgodC5pbnB1dCxlLG4pO2Vsc2UgZm9yKGxldCBvIG9mIE9iamVjdC5rZXlzKHQpKUFycmF5LmlzQXJyYXkodFtvXSk/dFtvXT10W29dLm1hcChkPT5yZWN1cnNlR3JhcGgoZCxlLG4pKTp0eXBlVmFscy5pbmRleE9mKHRbb10udHlwZSk+PTA/dFtvXT1yZWN1cnNlR3JhcGgodFtvXSxlLG4pOm4mJmlzVmFyaWFibGUodFtvXSkmJnRbb10uZXF1YWxzKGUpJiYodFtvXT1uKTtyZXR1cm4gdH1mdW5jdGlvbiBhY2N1bXVsYXRlR3JvdXBHcmFwaFBhdHRlcm4odCxlKXtpZihlLnR5cGU9PT0ib3B0aW9uYWwiKXtjb25zdCBuPXRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKHt0eXBlOiJncm91cCIscGF0dGVybnM6ZS5wYXR0ZXJuc30pO24udHlwZT09PXR5cGVzJDEuRklMVEVSP3Q9ZmFjdG9yeSQxLmNyZWF0ZUxlZnRKb2luKHQsbi5pbnB1dCxuLmV4cHJlc3Npb24pOnQ9ZmFjdG9yeSQxLmNyZWF0ZUxlZnRKb2luKHQsbil9ZWxzZSBpZihlLnR5cGU9PT0ibWludXMiKXtjb25zdCBuPXRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKHt0eXBlOiJncm91cCIscGF0dGVybnM6ZS5wYXR0ZXJuc30pO3Q9ZmFjdG9yeSQxLmNyZWF0ZU1pbnVzKHQsbil9ZWxzZSBpZihlLnR5cGU9PT0iYmluZCIpdD1mYWN0b3J5JDEuY3JlYXRlRXh0ZW5kKHQsZS52YXJpYWJsZSx0cmFuc2xhdGVFeHByZXNzaW9uJDEoZS5leHByZXNzaW9uKSk7ZWxzZSBpZihlLnR5cGU9PT0ic2VydmljZSIpe2NvbnN0IG49e3R5cGU6Imdyb3VwIixwYXR0ZXJuczplLnBhdHRlcm5zfSxvPWZhY3RvcnkkMS5jcmVhdGVTZXJ2aWNlKHRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKG4pLGUubmFtZSxlLnNpbGVudCk7dD1zaW1wbGlmaWVkSm9pbih0LG8pfWVsc2V7Y29uc3Qgbj10cmFuc2xhdGVHcm91cEdyYXBoUGF0dGVybihlKTt0PXNpbXBsaWZpZWRKb2luKHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24gc2ltcGxpZmllZEpvaW4odCxlKXtyZXR1cm4gdC50eXBlPT09dHlwZXMkMS5CR1AmJmUudHlwZT09PXR5cGVzJDEuQkdQP3Q9ZmFjdG9yeSQxLmNyZWF0ZUJncChbLi4udC5wYXR0ZXJucywuLi5lLnBhdHRlcm5zXSk6dC50eXBlPT09dHlwZXMkMS5CR1AmJnQucGF0dGVybnMubGVuZ3RoPT09MD90PWU6ZS50eXBlPT09dHlwZXMkMS5CR1AmJmUucGF0dGVybnMubGVuZ3RoPT09MHx8KHQ9ZmFjdG9yeSQxLmNyZWF0ZUpvaW4oW3QsZV0pKSx0fWZ1bmN0aW9uIHRyYW5zbGF0ZUlubGluZURhdGEodCl7bGV0IGU9KHQudmFsdWVzLmxlbmd0aD09PTA/W106T2JqZWN0LmtleXModC52YWx1ZXNbMF0pKS5tYXAoZmFjdG9yeSQxLmNyZWF0ZVRlcm0uYmluZChmYWN0b3J5JDEpKSxuPXQudmFsdWVzLm1hcChvPT57bGV0IGQ9T2JqZWN0LmtleXMobyk7ZD1kLmZpbHRlcihsPT5vW2xdIT09dm9pZCAwKTtsZXQgaD17fTtmb3IobGV0IGwgb2YgZCloW2xdPW9bbF07cmV0dXJuIGh9KTtyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZVZhbHVlcyhlLG4pfWZ1bmN0aW9uIHRyYW5zbGF0ZUFnZ3JlZ2F0ZXModCxlKXtjb25zdCBuPXQsbz1bXSxkPXt9O2lmKG4udmFyaWFibGVzPW4udmFyaWFibGVzJiZuLnZhcmlhYmxlcy5tYXAobD0+bWFwQWdncmVnYXRlKGwsZCkpLG4uaGF2aW5nPW4uaGF2aW5nJiZuLmhhdmluZy5tYXAobD0+bWFwQWdncmVnYXRlKGwsZCkpLG4ub3JkZXI9bi5vcmRlciYmbi5vcmRlci5tYXAobD0+bWFwQWdncmVnYXRlKGwsZCkpLG4uZ3JvdXB8fE9iamVjdC5rZXlzKGQpLmxlbmd0aD4wKXtjb25zdCBsPU9iamVjdC5rZXlzKGQpLm1hcChwPT50cmFuc2xhdGVCb3VuZEFnZ3JlZ2F0ZSQxKGRbcF0sZmFjdG9yeSQxLmNyZWF0ZVRlcm0ocCkpKSx1PVtdO2lmKG4uZ3JvdXApZm9yKGNvbnN0IHAgb2Ygbi5ncm91cClpZih1dGlsXzEkMS5kZWZhdWx0LmlzU2ltcGxlVGVybShwLmV4cHJlc3Npb24pKXUucHVzaChwLmV4cHJlc3Npb24pO2Vsc2V7Y29uc3QgZz0idmFyaWFibGUiaW4gcD9wLnZhcmlhYmxlOmdlbmVyYXRlRnJlc2hWYXIoKTtlPWZhY3RvcnkkMS5jcmVhdGVFeHRlbmQoZSxnLHRyYW5zbGF0ZUV4cHJlc3Npb24kMShwLmV4cHJlc3Npb24pKSx1LnB1c2goZyl9ZT1mYWN0b3J5JDEuY3JlYXRlR3JvdXAoZSx1LGwpfWlmKG4uaGF2aW5nKWZvcihsZXQgbCBvZiBuLmhhdmluZyllPWZhY3RvcnkkMS5jcmVhdGVGaWx0ZXIoZSx0cmFuc2xhdGVFeHByZXNzaW9uJDEobCkpO3QudmFsdWVzJiYoZT1mYWN0b3J5JDEuY3JlYXRlSm9pbihbZSx0cmFuc2xhdGVJbmxpbmVEYXRhKHQpXSkpO2xldCBoPVtdO2lmKHQucXVlcnlUeXBlPT09IlNFTEVDVCJ8fHQucXVlcnlUeXBlPT09IkRFU0NSSUJFIilpZih0LnZhcmlhYmxlcy5zb21lKGw9PmwmJnV0aWxfMSQxLmRlZmF1bHQuaXNXaWxkY2FyZChsKSkpaD1PYmplY3QudmFsdWVzKGluU2NvcGVWYXJpYWJsZXModCkpLnNvcnQoKGwsdSk9PmwudmFsdWUubG9jYWxlQ29tcGFyZSh1LnZhbHVlKSk7ZWxzZSBmb3IobGV0IGwgb2YgdC52YXJpYWJsZXMpaXNWYXJpYWJsZShsKXx8ISgidmFyaWFibGUiaW4gbCk/aC5wdXNoKGwpOmwudmFyaWFibGUmJihoLnB1c2gobC52YXJpYWJsZSksby5wdXNoKGwpKTtmb3IobGV0IGwgb2YgbyllPWZhY3RvcnkkMS5jcmVhdGVFeHRlbmQoZSxsLnZhcmlhYmxlLHRyYW5zbGF0ZUV4cHJlc3Npb24kMShsLmV4cHJlc3Npb24pKTtyZXR1cm4gbi5vcmRlciYmKGU9ZmFjdG9yeSQxLmNyZWF0ZU9yZGVyQnkoZSxuLm9yZGVyLm1hcChsPT57bGV0IHU9dHJhbnNsYXRlRXhwcmVzc2lvbiQxKGwuZXhwcmVzc2lvbik7cmV0dXJuIGwuZGVzY2VuZGluZyYmKHU9ZmFjdG9yeSQxLmNyZWF0ZU9wZXJhdG9yRXhwcmVzc2lvbigiZGVzYyIsW3VdKSksdX0pKSksdC5xdWVyeVR5cGU9PT0iU0VMRUNUIiYmKGU9ZmFjdG9yeSQxLmNyZWF0ZVByb2plY3QoZSxoKSksbi5kaXN0aW5jdCYmKGU9ZmFjdG9yeSQxLmNyZWF0ZURpc3RpbmN0KGUpKSxuLnJlZHVjZWQmJihlPWZhY3RvcnkkMS5jcmVhdGVSZWR1Y2VkKGUpKSx0LnF1ZXJ5VHlwZT09PSJDT05TVFJVQ1QiP2U9ZmFjdG9yeSQxLmNyZWF0ZUNvbnN0cnVjdChlLCh0LnRlbXBsYXRlfHxbXSkubWFwKHRyYW5zbGF0ZVF1YWQpKTp0LnF1ZXJ5VHlwZT09PSJBU0siP2U9ZmFjdG9yeSQxLmNyZWF0ZUFzayhlKTp0LnF1ZXJ5VHlwZT09PSJERVNDUklCRSImJihlPWZhY3RvcnkkMS5jcmVhdGVEZXNjcmliZShlLGgpKSwobi5vZmZzZXR8fG4ubGltaXQpJiYoZT1mYWN0b3J5JDEuY3JlYXRlU2xpY2UoZSxuLm9mZnNldHx8MCxuLmxpbWl0KSksbi5mcm9tJiYoZT1mYWN0b3J5JDEuY3JlYXRlRnJvbShlLG4uZnJvbS5kZWZhdWx0LG4uZnJvbS5uYW1lZCkpLGV9ZnVuY3Rpb24gbWFwQWdncmVnYXRlKHQsZSl7aWYoInR5cGUiaW4gdCYmdC50eXBlPT09ImFnZ3JlZ2F0ZSIpe2xldCBuPSExLG87Zm9yKGxldCBkIG9mIE9iamVjdC5rZXlzKGUpKWlmKGVxdWFsKGVbZF0sdCkpe289ZmFjdG9yeSQxLmNyZWF0ZVRlcm0oZCksbj0hMDticmVha31yZXR1cm4gbnx8KG89Z2VuZXJhdGVGcmVzaFZhcigpLGVbKDAscmRmX3N0cmluZ18xJDMudGVybVRvU3RyaW5nKShvKV09dCksb31yZXR1cm4iZXhwcmVzc2lvbiJpbiB0JiZ0LmV4cHJlc3Npb24/ey4uLnQsZXhwcmVzc2lvbjptYXBBZ2dyZWdhdGUodC5leHByZXNzaW9uLGUpfToiYXJncyJpbiB0JiZ0LmFyZ3M/ey4uLnQsYXJnczp0LmFyZ3MubWFwKG49Pm1hcEFnZ3JlZ2F0ZShuLGUpKX06dH1mdW5jdGlvbiB0cmFuc2xhdGVCb3VuZEFnZ3JlZ2F0ZSQxKHQsZSl7aWYodC50eXBlIT09ImFnZ3JlZ2F0ZSJ8fCF0LmFnZ3JlZ2F0aW9uKXRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpbnB1dDogJHtKU09OLnN0cmluZ2lmeSh0KX1gKTtjb25zdCBuPXRyYW5zbGF0ZUV4cHJlc3Npb24kMSh0KTtyZXR1cm4gbi52YXJpYWJsZT1lLG59ZnVuY3Rpb24gdHJhbnNsYXRlVXBkYXRlKHQpe3JldHVybiB0LnVwZGF0ZXMubGVuZ3RoPT09MT90cmFuc2xhdGVTaW5nbGVVcGRhdGUodC51cGRhdGVzWzBdKTpmYWN0b3J5JDEuY3JlYXRlQ29tcG9zaXRlVXBkYXRlKHQudXBkYXRlcy5tYXAodHJhbnNsYXRlU2luZ2xlVXBkYXRlKSl9ZnVuY3Rpb24gdHJhbnNsYXRlU2luZ2xlVXBkYXRlKHQpe2lmKCJ0eXBlImluIHQpe2lmKHQudHlwZT09PSJsb2FkIilyZXR1cm4gdHJhbnNsYXRlVXBkYXRlR3JhcGhMb2FkKHQpO2lmKHQudHlwZT09PSJjbGVhciJ8fHQudHlwZT09PSJjcmVhdGUifHx0LnR5cGU9PT0iZHJvcCIpcmV0dXJuIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoKHQpO2lmKHQudHlwZT09PSJhZGQifHx0LnR5cGU9PT0iY29weSJ8fHQudHlwZT09PSJtb3ZlIilyZXR1cm4gdHJhbnNsYXRlVXBkYXRlR3JhcGhTaG9ydGN1dCQxKHQpfWVsc2UgaWYodC51cGRhdGVUeXBlPT09Imluc2VydGRlbGV0ZSJ8fHQudXBkYXRlVHlwZT09PSJkZWxldGV3aGVyZSJ8fHQudXBkYXRlVHlwZT09PSJkZWxldGUifHx0LnVwZGF0ZVR5cGU9PT0iaW5zZXJ0IilyZXR1cm4gdHJhbnNsYXRlSW5zZXJ0RGVsZXRlKHQpO3Rocm93IG5ldyBFcnJvcihgVW5rbm93biB1cGRhdGUgdHlwZSAke0pTT04uc3RyaW5naWZ5KHQpfWApfWZ1bmN0aW9uIHRyYW5zbGF0ZUluc2VydERlbGV0ZSh0KXtpZighdXNlUXVhZHMpdGhyb3cgbmV3IEVycm9yKCJJTlNFUlQvREVMRVRFIG9wZXJhdGlvbnMgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggcXVhZHMgb3B0aW9uIGVuYWJsZWQiKTtsZXQgZT1bXSxuPVtdLG87aWYodC5kZWxldGUmJihlPXV0aWxfMSQxLmRlZmF1bHQuZmxhdHRlbih0LmRlbGV0ZS5tYXAoZD0+dHJhbnNsYXRlVXBkYXRlVHJpcGxlc0Jsb2NrKGQsdC5ncmFwaCkpKSksdC5pbnNlcnQmJihuPXV0aWxfMSQxLmRlZmF1bHQuZmxhdHRlbih0Lmluc2VydC5tYXAoZD0+dHJhbnNsYXRlVXBkYXRlVHJpcGxlc0Jsb2NrKGQsdC5ncmFwaCkpKSksdC53aGVyZSYmdC53aGVyZS5sZW5ndGg+MCl7bz10cmFuc2xhdGVHcm91cEdyYXBoUGF0dGVybih7dHlwZToiZ3JvdXAiLHBhdHRlcm5zOnQud2hlcmV9KTtjb25zdCBkPXQudXNpbmc7ZD9vPWZhY3RvcnkkMS5jcmVhdGVGcm9tKG8sZC5kZWZhdWx0LGQubmFtZWQpOnQuZ3JhcGgmJihvPXJlY3Vyc2VHcmFwaChvLHQuZ3JhcGgpKX1lbHNlIHQudXBkYXRlVHlwZT09PSJkZWxldGV3aGVyZSImJmUubGVuZ3RoPjAmJihvPWZhY3RvcnkkMS5jcmVhdGVCZ3AoZSkpO3JldHVybiBmYWN0b3J5JDEuY3JlYXRlRGVsZXRlSW5zZXJ0KGUubGVuZ3RoPjA/ZTp2b2lkIDAsbi5sZW5ndGg+MD9uOnZvaWQgMCxvKX1mdW5jdGlvbiB0cmFuc2xhdGVVcGRhdGVUcmlwbGVzQmxvY2sodCxlKXtsZXQgbj1lO3QudHlwZT09PSJncmFwaCImJihuPXQubmFtZSk7bGV0IG89dC50cmlwbGVzO3JldHVybiBuJiYobz1vLm1hcChkPT5PYmplY3QuYXNzaWduKGQse2dyYXBoOm59KSkpLG8ubWFwKHRyYW5zbGF0ZVF1YWQpfWZ1bmN0aW9uIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoKHQpe2xldCBlO3N3aXRjaCh1dGlsXzEkMS5kZWZhdWx0LmlzU2ltcGxlVGVybSh0LmdyYXBoKT9lPXQuZ3JhcGg6dC5ncmFwaC5hbGw/ZT0iQUxMIjp0LmdyYXBoLmRlZmF1bHQ/ZT0iREVGQVVMVCI6dC5ncmFwaC5uYW1lZD9lPSJOQU1FRCI6ZT10LmdyYXBoLm5hbWUsdC50eXBlKXtjYXNlImNsZWFyIjpyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUNsZWFyKGUsdC5zaWxlbnQpO2Nhc2UiY3JlYXRlIjpyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUNyZWF0ZShlLHQuc2lsZW50KTtjYXNlImRyb3AiOnJldHVybiBmYWN0b3J5JDEuY3JlYXRlRHJvcChlLHQuc2lsZW50KX19ZnVuY3Rpb24gdHJhbnNsYXRlVXBkYXRlR3JhcGhMb2FkKHQpe3JldHVybiBmYWN0b3J5JDEuY3JlYXRlTG9hZCh0LnNvdXJjZSx0LmRlc3RpbmF0aW9uLHQuc2lsZW50KX1mdW5jdGlvbiB0cmFuc2xhdGVVcGRhdGVHcmFwaFNob3J0Y3V0JDEodCl7Y29uc3QgZT10LnNvdXJjZS5kZWZhdWx0PyJERUZBVUxUIjp0LnNvdXJjZS5uYW1lLG49dC5kZXN0aW5hdGlvbi5kZWZhdWx0PyJERUZBVUxUIjp0LmRlc3RpbmF0aW9uLm5hbWU7c3dpdGNoKHQudHlwZSl7Y2FzZSJjb3B5IjpyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUNvcHkoZSxuLHQuc2lsZW50KTtjYXNlIm1vdmUiOnJldHVybiBmYWN0b3J5JDEuY3JlYXRlTW92ZShlLG4sdC5zaWxlbnQpO2Nhc2UiYWRkIjpyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUFkZChlLG4sdC5zaWxlbnQpfX1mdW5jdGlvbiB0cmFuc2xhdGVCbGFua05vZGVzVG9WYXJpYWJsZXModCl7Y29uc3QgZT17fSxuPUFycmF5LmZyb20odmFyaWFibGVzKS5yZWR1Y2UoKGQsaCk9PihkW2hdPSEwLGQpLHt9KTtyZXR1cm4gdXRpbF8xJDEuZGVmYXVsdC5tYXBPcGVyYXRpb24odCx7W0FsZ2VicmEkMS50eXBlcy5ERUxFVEVfSU5TRVJUXTpkPT4oe3Jlc3VsdDpkLHJlY3Vyc2U6ITF9KSxbQWxnZWJyYSQxLnR5cGVzLlBBVEhdOihkLGgpPT4oe3Jlc3VsdDpoLmNyZWF0ZVBhdGgobyhkLnN1YmplY3QpLGQucHJlZGljYXRlLG8oZC5vYmplY3QpLG8oZC5ncmFwaCkpLHJlY3Vyc2U6ITF9KSxbQWxnZWJyYSQxLnR5cGVzLlBBVFRFUk5dOihkLGgpPT4oe3Jlc3VsdDpoLmNyZWF0ZVBhdHRlcm4obyhkLnN1YmplY3QpLG8oZC5wcmVkaWNhdGUpLG8oZC5vYmplY3QpLG8oZC5ncmFwaCkpLHJlY3Vyc2U6ITF9KSxbQWxnZWJyYSQxLnR5cGVzLkNPTlNUUlVDVF06ZD0+KHtyZXN1bHQ6ZmFjdG9yeSQxLmNyZWF0ZUNvbnN0cnVjdCh0cmFuc2xhdGVCbGFua05vZGVzVG9WYXJpYWJsZXMoZC5pbnB1dCksZC50ZW1wbGF0ZSkscmVjdXJzZTohMX0pfSk7ZnVuY3Rpb24gbyhkKXtpZihkLnRlcm1UeXBlPT09IkJsYW5rTm9kZSIpe2xldCBoPWVbZC52YWx1ZV07cmV0dXJuIGh8fChoPXV0aWxfMSQxLmRlZmF1bHQuY3JlYXRlVW5pcXVlVmFyaWFibGUoZC52YWx1ZSxuLGZhY3RvcnkkMS5kYXRhRmFjdG9yeSksbltoLnZhbHVlXT0hMCxlW2QudmFsdWVdPWgpLGh9cmV0dXJuIGR9fXZhciBzcGFycWw9e30scmRmSXNvbW9ycGhpYz17fSxSZGZJc29tb3JwaGljPXt9LGhhc2g9e30sdXRpbHMkOT17fSxtaW5pbWFsaXN0aWNBc3NlcnQ9YXNzZXJ0JDU7ZnVuY3Rpb24gYXNzZXJ0JDUodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoZXx8IkFzc2VydGlvbiBmYWlsZWQiKX1hc3NlcnQkNS5lcXVhbD1mdW5jdGlvbihlLG4sbyl7aWYoZSE9bil0aHJvdyBuZXcgRXJyb3Iob3x8IkFzc2VydGlvbiBmYWlsZWQ6ICIrZSsiICE9ICIrbil9O3ZhciBpbmhlcml0c19icm93c2VyRXhwb3J0cz17fSxpbmhlcml0c19icm93c2VyPXtnZXQgZXhwb3J0cygpe3JldHVybiBpbmhlcml0c19icm93c2VyRXhwb3J0c30sc2V0IGV4cG9ydHModCl7aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM9dH19O3R5cGVvZiBPYmplY3QuY3JlYXRlPT0iZnVuY3Rpb24iP2luaGVyaXRzX2Jyb3dzZXIuZXhwb3J0cz1mdW5jdGlvbihlLG4pe24mJihlLnN1cGVyXz1uLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pKX06aW5oZXJpdHNfYnJvd3Nlci5leHBvcnRzPWZ1bmN0aW9uKGUsbil7aWYobil7ZS5zdXBlcl89bjt2YXIgbz1mdW5jdGlvbigpe307by5wcm90b3R5cGU9bi5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG8sZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19O3ZhciBhc3NlcnQkND1taW5pbWFsaXN0aWNBc3NlcnQsaW5oZXJpdHM9aW5oZXJpdHNfYnJvd3NlckV4cG9ydHM7dXRpbHMkOS5pbmhlcml0cz1pbmhlcml0cztmdW5jdGlvbiBpc1N1cnJvZ2F0ZVBhaXIodCxlKXtyZXR1cm4odC5jaGFyQ29kZUF0KGUpJjY0NTEyKSE9PTU1Mjk2fHxlPDB8fGUrMT49dC5sZW5ndGg/ITE6KHQuY2hhckNvZGVBdChlKzEpJjY0NTEyKT09PTU2MzIwfWZ1bmN0aW9uIHRvQXJyYXkodCxlKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0LnNsaWNlKCk7aWYoIXQpcmV0dXJuW107dmFyIG49W107aWYodHlwZW9mIHQ9PSJzdHJpbmciKWlmKGUpe2lmKGU9PT0iaGV4Iilmb3IodD10LnJlcGxhY2UoL1teYS16MC05XSsvaWcsIiIpLHQubGVuZ3RoJTIhPT0wJiYodD0iMCIrdCksZD0wO2Q8dC5sZW5ndGg7ZCs9MiluLnB1c2gocGFyc2VJbnQodFtkXSt0W2QrMV0sMTYpKX1lbHNlIGZvcih2YXIgbz0wLGQ9MDtkPHQubGVuZ3RoO2QrKyl7dmFyIGg9dC5jaGFyQ29kZUF0KGQpO2g8MTI4P25bbysrXT1oOmg8MjA0OD8obltvKytdPWg+PjZ8MTkyLG5bbysrXT1oJjYzfDEyOCk6aXNTdXJyb2dhdGVQYWlyKHQsZCk/KGg9NjU1MzYrKChoJjEwMjMpPDwxMCkrKHQuY2hhckNvZGVBdCgrK2QpJjEwMjMpLG5bbysrXT1oPj4xOHwyNDAsbltvKytdPWg+PjEyJjYzfDEyOCxuW28rK109aD4+NiY2M3wxMjgsbltvKytdPWgmNjN8MTI4KToobltvKytdPWg+PjEyfDIyNCxuW28rK109aD4+NiY2M3wxMjgsbltvKytdPWgmNjN8MTI4KX1lbHNlIGZvcihkPTA7ZDx0Lmxlbmd0aDtkKyspbltkXT10W2RdfDA7cmV0dXJuIG59dXRpbHMkOS50b0FycmF5PXRvQXJyYXk7ZnVuY3Rpb24gdG9IZXgodCl7Zm9yKHZhciBlPSIiLG49MDtuPHQubGVuZ3RoO24rKyllKz16ZXJvMih0W25dLnRvU3RyaW5nKDE2KSk7cmV0dXJuIGV9dXRpbHMkOS50b0hleD10b0hleDtmdW5jdGlvbiBodG9ubCh0KXt2YXIgZT10Pj4+MjR8dD4+PjgmNjUyODB8dDw8OCYxNjcxMTY4MHwodCYyNTUpPDwyNDtyZXR1cm4gZT4+PjB9dXRpbHMkOS5odG9ubD1odG9ubDtmdW5jdGlvbiB0b0hleDMyKHQsZSl7Zm9yKHZhciBuPSIiLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGQ9dFtvXTtlPT09ImxpdHRsZSImJihkPWh0b25sKGQpKSxuKz16ZXJvOChkLnRvU3RyaW5nKDE2KSl9cmV0dXJuIG59dXRpbHMkOS50b0hleDMyPXRvSGV4MzI7ZnVuY3Rpb24gemVybzIodCl7cmV0dXJuIHQubGVuZ3RoPT09MT8iMCIrdDp0fXV0aWxzJDkuemVybzI9emVybzI7ZnVuY3Rpb24gemVybzgodCl7cmV0dXJuIHQubGVuZ3RoPT09Nz8iMCIrdDp0Lmxlbmd0aD09PTY/IjAwIit0OnQubGVuZ3RoPT09NT8iMDAwIit0OnQubGVuZ3RoPT09ND8iMDAwMCIrdDp0Lmxlbmd0aD09PTM/IjAwMDAwIit0OnQubGVuZ3RoPT09Mj8iMDAwMDAwIit0OnQubGVuZ3RoPT09MT8iMDAwMDAwMCIrdDp0fXV0aWxzJDkuemVybzg9emVybzg7ZnVuY3Rpb24gam9pbjMyKHQsZSxuLG8pe3ZhciBkPW4tZTthc3NlcnQkNChkJTQ9PT0wKTtmb3IodmFyIGg9bmV3IEFycmF5KGQvNCksbD0wLHU9ZTtsPGgubGVuZ3RoO2wrKyx1Kz00KXt2YXIgcDtvPT09ImJpZyI/cD10W3VdPDwyNHx0W3UrMV08PDE2fHRbdSsyXTw8OHx0W3UrM106cD10W3UrM108PDI0fHRbdSsyXTw8MTZ8dFt1KzFdPDw4fHRbdV0saFtsXT1wPj4+MH1yZXR1cm4gaH11dGlscyQ5LmpvaW4zMj1qb2luMzI7ZnVuY3Rpb24gc3BsaXQzMih0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgqNCksbz0wLGQ9MDtvPHQubGVuZ3RoO28rKyxkKz00KXt2YXIgaD10W29dO2U9PT0iYmlnIj8obltkXT1oPj4+MjQsbltkKzFdPWg+Pj4xNiYyNTUsbltkKzJdPWg+Pj44JjI1NSxuW2QrM109aCYyNTUpOihuW2QrM109aD4+PjI0LG5bZCsyXT1oPj4+MTYmMjU1LG5bZCsxXT1oPj4+OCYyNTUsbltkXT1oJjI1NSl9cmV0dXJuIG59dXRpbHMkOS5zcGxpdDMyPXNwbGl0MzI7ZnVuY3Rpb24gcm90cjMyJDEodCxlKXtyZXR1cm4gdD4+PmV8dDw8MzItZX11dGlscyQ5LnJvdHIzMj1yb3RyMzIkMTtmdW5jdGlvbiByb3RsMzIkMih0LGUpe3JldHVybiB0PDxlfHQ+Pj4zMi1lfXV0aWxzJDkucm90bDMyPXJvdGwzMiQyO2Z1bmN0aW9uIHN1bTMyJDModCxlKXtyZXR1cm4gdCtlPj4+MH11dGlscyQ5LnN1bTMyPXN1bTMyJDM7ZnVuY3Rpb24gc3VtMzJfMyQxKHQsZSxuKXtyZXR1cm4gdCtlK24+Pj4wfXV0aWxzJDkuc3VtMzJfMz1zdW0zMl8zJDE7ZnVuY3Rpb24gc3VtMzJfNCQyKHQsZSxuLG8pe3JldHVybiB0K2UrbitvPj4+MH11dGlscyQ5LnN1bTMyXzQ9c3VtMzJfNCQyO2Z1bmN0aW9uIHN1bTMyXzUkMih0LGUsbixvLGQpe3JldHVybiB0K2UrbitvK2Q+Pj4wfXV0aWxzJDkuc3VtMzJfNT1zdW0zMl81JDI7ZnVuY3Rpb24gc3VtNjQkMSh0LGUsbixvKXt2YXIgZD10W2VdLGg9dFtlKzFdLGw9bytoPj4+MCx1PShsPG8/MTowKStuK2Q7dFtlXT11Pj4+MCx0W2UrMV09bH11dGlscyQ5LnN1bTY0PXN1bTY0JDE7ZnVuY3Rpb24gc3VtNjRfaGkkMSh0LGUsbixvKXt2YXIgZD1lK28+Pj4wLGg9KGQ8ZT8xOjApK3QrbjtyZXR1cm4gaD4+PjB9dXRpbHMkOS5zdW02NF9oaT1zdW02NF9oaSQxO2Z1bmN0aW9uIHN1bTY0X2xvJDEodCxlLG4sbyl7dmFyIGQ9ZStvO3JldHVybiBkPj4+MH11dGlscyQ5LnN1bTY0X2xvPXN1bTY0X2xvJDE7ZnVuY3Rpb24gc3VtNjRfNF9oaSQxKHQsZSxuLG8sZCxoLGwsdSl7dmFyIHA9MCxnPWU7Zz1nK28+Pj4wLHArPWc8ZT8xOjAsZz1nK2g+Pj4wLHArPWc8aD8xOjAsZz1nK3U+Pj4wLHArPWc8dT8xOjA7dmFyIHY9dCtuK2QrbCtwO3JldHVybiB2Pj4+MH11dGlscyQ5LnN1bTY0XzRfaGk9c3VtNjRfNF9oaSQxO2Z1bmN0aW9uIHN1bTY0XzRfbG8kMSh0LGUsbixvLGQsaCxsLHUpe3ZhciBwPWUrbytoK3U7cmV0dXJuIHA+Pj4wfXV0aWxzJDkuc3VtNjRfNF9sbz1zdW02NF80X2xvJDE7ZnVuY3Rpb24gc3VtNjRfNV9oaSQxKHQsZSxuLG8sZCxoLGwsdSxwLGcpe3ZhciB2PTAsYj1lO2I9YitvPj4+MCx2Kz1iPGU/MTowLGI9YitoPj4+MCx2Kz1iPGg/MTowLGI9Yit1Pj4+MCx2Kz1iPHU/MTowLGI9YitnPj4+MCx2Kz1iPGc/MTowO3ZhciBfPXQrbitkK2wrcCt2O3JldHVybiBfPj4+MH11dGlscyQ5LnN1bTY0XzVfaGk9c3VtNjRfNV9oaSQxO2Z1bmN0aW9uIHN1bTY0XzVfbG8kMSh0LGUsbixvLGQsaCxsLHUscCxnKXt2YXIgdj1lK28raCt1K2c7cmV0dXJuIHY+Pj4wfXV0aWxzJDkuc3VtNjRfNV9sbz1zdW02NF81X2xvJDE7ZnVuY3Rpb24gcm90cjY0X2hpJDEodCxlLG4pe3ZhciBvPWU8PDMyLW58dD4+Pm47cmV0dXJuIG8+Pj4wfXV0aWxzJDkucm90cjY0X2hpPXJvdHI2NF9oaSQxO2Z1bmN0aW9uIHJvdHI2NF9sbyQxKHQsZSxuKXt2YXIgbz10PDwzMi1ufGU+Pj5uO3JldHVybiBvPj4+MH11dGlscyQ5LnJvdHI2NF9sbz1yb3RyNjRfbG8kMTtmdW5jdGlvbiBzaHI2NF9oaSQxKHQsZSxuKXtyZXR1cm4gdD4+Pm59dXRpbHMkOS5zaHI2NF9oaT1zaHI2NF9oaSQxO2Z1bmN0aW9uIHNocjY0X2xvJDEodCxlLG4pe3ZhciBvPXQ8PDMyLW58ZT4+Pm47cmV0dXJuIG8+Pj4wfXV0aWxzJDkuc2hyNjRfbG89c2hyNjRfbG8kMTt2YXIgY29tbW9uJDU9e30sdXRpbHMkOD11dGlscyQ5LGFzc2VydCQzPW1pbmltYWxpc3RpY0Fzc2VydDtmdW5jdGlvbiBCbG9ja0hhc2gkNCgpe3RoaXMucGVuZGluZz1udWxsLHRoaXMucGVuZGluZ1RvdGFsPTAsdGhpcy5ibG9ja1NpemU9dGhpcy5jb25zdHJ1Y3Rvci5ibG9ja1NpemUsdGhpcy5vdXRTaXplPXRoaXMuY29uc3RydWN0b3Iub3V0U2l6ZSx0aGlzLmhtYWNTdHJlbmd0aD10aGlzLmNvbnN0cnVjdG9yLmhtYWNTdHJlbmd0aCx0aGlzLnBhZExlbmd0aD10aGlzLmNvbnN0cnVjdG9yLnBhZExlbmd0aC84LHRoaXMuZW5kaWFuPSJiaWciLHRoaXMuX2RlbHRhOD10aGlzLmJsb2NrU2l6ZS84LHRoaXMuX2RlbHRhMzI9dGhpcy5ibG9ja1NpemUvMzJ9Y29tbW9uJDUuQmxvY2tIYXNoPUJsb2NrSGFzaCQ0O0Jsb2NrSGFzaCQ0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxuKXtpZihlPXV0aWxzJDgudG9BcnJheShlLG4pLHRoaXMucGVuZGluZz90aGlzLnBlbmRpbmc9dGhpcy5wZW5kaW5nLmNvbmNhdChlKTp0aGlzLnBlbmRpbmc9ZSx0aGlzLnBlbmRpbmdUb3RhbCs9ZS5sZW5ndGgsdGhpcy5wZW5kaW5nLmxlbmd0aD49dGhpcy5fZGVsdGE4KXtlPXRoaXMucGVuZGluZzt2YXIgbz1lLmxlbmd0aCV0aGlzLl9kZWx0YTg7dGhpcy5wZW5kaW5nPWUuc2xpY2UoZS5sZW5ndGgtbyxlLmxlbmd0aCksdGhpcy5wZW5kaW5nLmxlbmd0aD09PTAmJih0aGlzLnBlbmRpbmc9bnVsbCksZT11dGlscyQ4LmpvaW4zMihlLDAsZS5sZW5ndGgtbyx0aGlzLmVuZGlhbik7Zm9yKHZhciBkPTA7ZDxlLmxlbmd0aDtkKz10aGlzLl9kZWx0YTMyKXRoaXMuX3VwZGF0ZShlLGQsZCt0aGlzLl9kZWx0YTMyKX1yZXR1cm4gdGhpc307QmxvY2tIYXNoJDQucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51cGRhdGUodGhpcy5fcGFkKCkpLGFzc2VydCQzKHRoaXMucGVuZGluZz09PW51bGwpLHRoaXMuX2RpZ2VzdChlKX07QmxvY2tIYXNoJDQucHJvdG90eXBlLl9wYWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBlbmRpbmdUb3RhbCxuPXRoaXMuX2RlbHRhOCxvPW4tKGUrdGhpcy5wYWRMZW5ndGgpJW4sZD1uZXcgQXJyYXkobyt0aGlzLnBhZExlbmd0aCk7ZFswXT0xMjg7Zm9yKHZhciBoPTE7aDxvO2grKylkW2hdPTA7aWYoZTw8PTMsdGhpcy5lbmRpYW49PT0iYmlnIil7Zm9yKHZhciBsPTg7bDx0aGlzLnBhZExlbmd0aDtsKyspZFtoKytdPTA7ZFtoKytdPTAsZFtoKytdPTAsZFtoKytdPTAsZFtoKytdPTAsZFtoKytdPWU+Pj4yNCYyNTUsZFtoKytdPWU+Pj4xNiYyNTUsZFtoKytdPWU+Pj44JjI1NSxkW2grK109ZSYyNTV9ZWxzZSBmb3IoZFtoKytdPWUmMjU1LGRbaCsrXT1lPj4+OCYyNTUsZFtoKytdPWU+Pj4xNiYyNTUsZFtoKytdPWU+Pj4yNCYyNTUsZFtoKytdPTAsZFtoKytdPTAsZFtoKytdPTAsZFtoKytdPTAsbD04O2w8dGhpcy5wYWRMZW5ndGg7bCsrKWRbaCsrXT0wO3JldHVybiBkfTt2YXIgc2hhPXt9LGNvbW1vbiQ0PXt9LHV0aWxzJDc9dXRpbHMkOSxyb3RyMzI9dXRpbHMkNy5yb3RyMzI7ZnVuY3Rpb24gZnRfMSQxKHQsZSxuLG8pe2lmKHQ9PT0wKXJldHVybiBjaDMyJDEoZSxuLG8pO2lmKHQ9PT0xfHx0PT09MylyZXR1cm4gcDMyKGUsbixvKTtpZih0PT09MilyZXR1cm4gbWFqMzIkMShlLG4sbyl9Y29tbW9uJDQuZnRfMT1mdF8xJDE7ZnVuY3Rpb24gY2gzMiQxKHQsZSxuKXtyZXR1cm4gdCZlXn50Jm59Y29tbW9uJDQuY2gzMj1jaDMyJDE7ZnVuY3Rpb24gbWFqMzIkMSh0LGUsbil7cmV0dXJuIHQmZV50Jm5eZSZufWNvbW1vbiQ0Lm1hajMyPW1hajMyJDE7ZnVuY3Rpb24gcDMyKHQsZSxuKXtyZXR1cm4gdF5lXm59Y29tbW9uJDQucDMyPXAzMjtmdW5jdGlvbiBzMF8yNTYkMSh0KXtyZXR1cm4gcm90cjMyKHQsMilecm90cjMyKHQsMTMpXnJvdHIzMih0LDIyKX1jb21tb24kNC5zMF8yNTY9czBfMjU2JDE7ZnVuY3Rpb24gczFfMjU2JDEodCl7cmV0dXJuIHJvdHIzMih0LDYpXnJvdHIzMih0LDExKV5yb3RyMzIodCwyNSl9Y29tbW9uJDQuczFfMjU2PXMxXzI1NiQxO2Z1bmN0aW9uIGcwXzI1NiQxKHQpe3JldHVybiByb3RyMzIodCw3KV5yb3RyMzIodCwxOCledD4+PjN9Y29tbW9uJDQuZzBfMjU2PWcwXzI1NiQxO2Z1bmN0aW9uIGcxXzI1NiQxKHQpe3JldHVybiByb3RyMzIodCwxNylecm90cjMyKHQsMTkpXnQ+Pj4xMH1jb21tb24kNC5nMV8yNTY9ZzFfMjU2JDE7dmFyIHV0aWxzJDY9dXRpbHMkOSxjb21tb24kMz1jb21tb24kNSxzaGFDb21tb24kMT1jb21tb24kNCxyb3RsMzIkMT11dGlscyQ2LnJvdGwzMixzdW0zMiQyPXV0aWxzJDYuc3VtMzIsc3VtMzJfNSQxPXV0aWxzJDYuc3VtMzJfNSxmdF8xPXNoYUNvbW1vbiQxLmZ0XzEsQmxvY2tIYXNoJDM9Y29tbW9uJDMuQmxvY2tIYXNoLHNoYTFfSz1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml07ZnVuY3Rpb24gU0hBMSgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFNIQTEpKXJldHVybiBuZXcgU0hBMTtCbG9ja0hhc2gkMy5jYWxsKHRoaXMpLHRoaXMuaD1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdLHRoaXMuVz1uZXcgQXJyYXkoODApfXV0aWxzJDYuaW5oZXJpdHMoU0hBMSxCbG9ja0hhc2gkMyk7dmFyIF8xPVNIQTE7U0hBMS5ibG9ja1NpemU9NTEyO1NIQTEub3V0U2l6ZT0xNjA7U0hBMS5obWFjU3RyZW5ndGg9ODA7U0hBMS5wYWRMZW5ndGg9NjQ7U0hBMS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlLG4pe2Zvcih2YXIgbz10aGlzLlcsZD0wO2Q8MTY7ZCsrKW9bZF09ZVtuK2RdO2Zvcig7ZDxvLmxlbmd0aDtkKyspb1tkXT1yb3RsMzIkMShvW2QtM11eb1tkLThdXm9bZC0xNF1eb1tkLTE2XSwxKTt2YXIgaD10aGlzLmhbMF0sbD10aGlzLmhbMV0sdT10aGlzLmhbMl0scD10aGlzLmhbM10sZz10aGlzLmhbNF07Zm9yKGQ9MDtkPG8ubGVuZ3RoO2QrKyl7dmFyIHY9fn4oZC8yMCksYj1zdW0zMl81JDEocm90bDMyJDEoaCw1KSxmdF8xKHYsbCx1LHApLGcsb1tkXSxzaGExX0tbdl0pO2c9cCxwPXUsdT1yb3RsMzIkMShsLDMwKSxsPWgsaD1ifXRoaXMuaFswXT1zdW0zMiQyKHRoaXMuaFswXSxoKSx0aGlzLmhbMV09c3VtMzIkMih0aGlzLmhbMV0sbCksdGhpcy5oWzJdPXN1bTMyJDIodGhpcy5oWzJdLHUpLHRoaXMuaFszXT1zdW0zMiQyKHRoaXMuaFszXSxwKSx0aGlzLmhbNF09c3VtMzIkMih0aGlzLmhbNF0sZyl9O1NIQTEucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0iaGV4Ij91dGlscyQ2LnRvSGV4MzIodGhpcy5oLCJiaWciKTp1dGlscyQ2LnNwbGl0MzIodGhpcy5oLCJiaWciKX07dmFyIHV0aWxzJDU9dXRpbHMkOSxjb21tb24kMj1jb21tb24kNSxzaGFDb21tb249Y29tbW9uJDQsYXNzZXJ0JDI9bWluaW1hbGlzdGljQXNzZXJ0LHN1bTMyJDE9dXRpbHMkNS5zdW0zMixzdW0zMl80JDE9dXRpbHMkNS5zdW0zMl80LHN1bTMyXzU9dXRpbHMkNS5zdW0zMl81LGNoMzI9c2hhQ29tbW9uLmNoMzIsbWFqMzI9c2hhQ29tbW9uLm1hajMyLHMwXzI1Nj1zaGFDb21tb24uczBfMjU2LHMxXzI1Nj1zaGFDb21tb24uczFfMjU2LGcwXzI1Nj1zaGFDb21tb24uZzBfMjU2LGcxXzI1Nj1zaGFDb21tb24uZzFfMjU2LEJsb2NrSGFzaCQyPWNvbW1vbiQyLkJsb2NrSGFzaCxzaGEyNTZfSz1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XTtmdW5jdGlvbiBTSEEyNTYkMSgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFNIQTI1NiQxKSlyZXR1cm4gbmV3IFNIQTI1NiQxO0Jsb2NrSGFzaCQyLmNhbGwodGhpcyksdGhpcy5oPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0sdGhpcy5rPXNoYTI1Nl9LLHRoaXMuVz1uZXcgQXJyYXkoNjQpfXV0aWxzJDUuaW5oZXJpdHMoU0hBMjU2JDEsQmxvY2tIYXNoJDIpO3ZhciBfMjU2PVNIQTI1NiQxO1NIQTI1NiQxLmJsb2NrU2l6ZT01MTI7U0hBMjU2JDEub3V0U2l6ZT0yNTY7U0hBMjU2JDEuaG1hY1N0cmVuZ3RoPTE5MjtTSEEyNTYkMS5wYWRMZW5ndGg9NjQ7U0hBMjU2JDEucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIG89dGhpcy5XLGQ9MDtkPDE2O2QrKylvW2RdPWVbbitkXTtmb3IoO2Q8by5sZW5ndGg7ZCsrKW9bZF09c3VtMzJfNCQxKGcxXzI1NihvW2QtMl0pLG9bZC03XSxnMF8yNTYob1tkLTE1XSksb1tkLTE2XSk7dmFyIGg9dGhpcy5oWzBdLGw9dGhpcy5oWzFdLHU9dGhpcy5oWzJdLHA9dGhpcy5oWzNdLGc9dGhpcy5oWzRdLHY9dGhpcy5oWzVdLGI9dGhpcy5oWzZdLF89dGhpcy5oWzddO2Zvcihhc3NlcnQkMih0aGlzLmsubGVuZ3RoPT09by5sZW5ndGgpLGQ9MDtkPG8ubGVuZ3RoO2QrKyl7dmFyIE89c3VtMzJfNShfLHMxXzI1NihnKSxjaDMyKGcsdixiKSx0aGlzLmtbZF0sb1tkXSksVD1zdW0zMiQxKHMwXzI1NihoKSxtYWozMihoLGwsdSkpO189YixiPXYsdj1nLGc9c3VtMzIkMShwLE8pLHA9dSx1PWwsbD1oLGg9c3VtMzIkMShPLFQpfXRoaXMuaFswXT1zdW0zMiQxKHRoaXMuaFswXSxoKSx0aGlzLmhbMV09c3VtMzIkMSh0aGlzLmhbMV0sbCksdGhpcy5oWzJdPXN1bTMyJDEodGhpcy5oWzJdLHUpLHRoaXMuaFszXT1zdW0zMiQxKHRoaXMuaFszXSxwKSx0aGlzLmhbNF09c3VtMzIkMSh0aGlzLmhbNF0sZyksdGhpcy5oWzVdPXN1bTMyJDEodGhpcy5oWzVdLHYpLHRoaXMuaFs2XT1zdW0zMiQxKHRoaXMuaFs2XSxiKSx0aGlzLmhbN109c3VtMzIkMSh0aGlzLmhbN10sXyl9O1NIQTI1NiQxLnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09ImhleCI/dXRpbHMkNS50b0hleDMyKHRoaXMuaCwiYmlnIik6dXRpbHMkNS5zcGxpdDMyKHRoaXMuaCwiYmlnIil9O3ZhciB1dGlscyQ0PXV0aWxzJDksU0hBMjU2PV8yNTY7ZnVuY3Rpb24gU0hBMjI0KCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU0hBMjI0KSlyZXR1cm4gbmV3IFNIQTIyNDtTSEEyNTYuY2FsbCh0aGlzKSx0aGlzLmg9WzMyMzgzNzEwMzIsOTE0MTUwNjYzLDgxMjcwMjk5OSw0MTQ0OTEyNjk3LDQyOTA3NzU4NTcsMTc1MDYwMzAyNSwxNjk0MDc2ODM5LDMyMDQwNzU0MjhdfXV0aWxzJDQuaW5oZXJpdHMoU0hBMjI0LFNIQTI1Nik7dmFyIF8yMjQ9U0hBMjI0O1NIQTIyNC5ibG9ja1NpemU9NTEyO1NIQTIyNC5vdXRTaXplPTIyNDtTSEEyMjQuaG1hY1N0cmVuZ3RoPTE5MjtTSEEyMjQucGFkTGVuZ3RoPTY0O1NIQTIyNC5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PSJoZXgiP3V0aWxzJDQudG9IZXgzMih0aGlzLmguc2xpY2UoMCw3KSwiYmlnIik6dXRpbHMkNC5zcGxpdDMyKHRoaXMuaC5zbGljZSgwLDcpLCJiaWciKX07dmFyIHV0aWxzJDM9dXRpbHMkOSxjb21tb24kMT1jb21tb24kNSxhc3NlcnQkMT1taW5pbWFsaXN0aWNBc3NlcnQscm90cjY0X2hpPXV0aWxzJDMucm90cjY0X2hpLHJvdHI2NF9sbz11dGlscyQzLnJvdHI2NF9sbyxzaHI2NF9oaT11dGlscyQzLnNocjY0X2hpLHNocjY0X2xvPXV0aWxzJDMuc2hyNjRfbG8sc3VtNjQ9dXRpbHMkMy5zdW02NCxzdW02NF9oaT11dGlscyQzLnN1bTY0X2hpLHN1bTY0X2xvPXV0aWxzJDMuc3VtNjRfbG8sc3VtNjRfNF9oaT11dGlscyQzLnN1bTY0XzRfaGksc3VtNjRfNF9sbz11dGlscyQzLnN1bTY0XzRfbG8sc3VtNjRfNV9oaT11dGlscyQzLnN1bTY0XzVfaGksc3VtNjRfNV9sbz11dGlscyQzLnN1bTY0XzVfbG8sQmxvY2tIYXNoJDE9Y29tbW9uJDEuQmxvY2tIYXNoLHNoYTUxMl9LPVsxMTE2MzUyNDA4LDM2MDk3Njc0NTgsMTg5OTQ0NzQ0MSw2MDI4OTE3MjUsMzA0OTMyMzQ3MSwzOTY0NDg0Mzk5LDM5MjEwMDk1NzMsMjE3MzI5NTU0OCw5NjE5ODcxNjMsNDA4MTYyODQ3MiwxNTA4OTcwOTkzLDMwNTM4MzQyNjUsMjQ1MzYzNTc0OCwyOTM3NjcxNTc5LDI4NzA3NjMyMjEsMzY2NDYwOTU2MCwzNjI0MzgxMDgwLDI3MzQ4ODMzOTQsMzEwNTk4NDAxLDExNjQ5OTY1NDIsNjA3MjI1Mjc4LDEzMjM2MTA3NjQsMTQyNjg4MTk4NywzNTkwMzA0OTk0LDE5MjUwNzgzODgsNDA2ODE4MjM4MywyMTYyMDc4MjA2LDk5MTMzNjExMywyNjE0ODg4MTAzLDYzMzgwMzMxNywzMjQ4MjIyNTgwLDM0Nzk3NzQ4NjgsMzgzNTM5MDQwMSwyNjY2NjEzNDU4LDQwMjIyMjQ3NzQsOTQ0NzExMTM5LDI2NDM0NzA3OCwyMzQxMjYyNzczLDYwNDgwNzYyOCwyMDA3ODAwOTMzLDc3MDI1NTk4MywxNDk1OTkwOTAxLDEyNDkxNTAxMjIsMTg1NjQzMTIzNSwxNTU1MDgxNjkyLDMxNzUyMTgxMzIsMTk5NjA2NDk4NiwyMTk4OTUwODM3LDI1NTQyMjA4ODIsMzk5OTcxOTMzOSwyODIxODM0MzQ5LDc2Njc4NDAxNiwyOTUyOTk2ODA4LDI1NjY1OTQ4NzksMzIxMDMxMzY3MSwzMjAzMzM3OTU2LDMzMzY1NzE4OTEsMTAzNDQ1NzAyNiwzNTg0NTI4NzExLDI0NjY5NDg5MDEsMTEzOTI2OTkzLDM3NTgzMjYzODMsMzM4MjQxODk1LDE2ODcxNzkzNiw2NjYzMDcyMDUsMTE4ODE3OTk2NCw3NzM1Mjk5MTIsMTU0NjA0NTczNCwxMjk0NzU3MzcyLDE1MjI4MDU0ODUsMTM5NjE4MjI5MSwyNjQzODMzODIzLDE2OTUxODM3MDAsMjM0MzUyNzM5MCwxOTg2NjYxMDUxLDEwMTQ0Nzc0ODAsMjE3NzAyNjM1MCwxMjA2NzU5MTQyLDI0NTY5NTYwMzcsMzQ0MDc3NjI3LDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCwyODIwMzAyNDExLDMxNTg0NTQyNzMsMzI1OTczMDgwMCwzNTA1OTUyNjU3LDMzNDU3NjQ3NzEsMTA2MjE3MDA4LDM1MTYwNjU4MTcsMzYwNjAwODM0NCwzNjAwMzUyODA0LDE0MzI3MjU3NzYsNDA5NDU3MTkwOSwxNDY3MDMxNTk0LDI3NTQyMzM0NCw4NTExNjk3MjAsNDMwMjI3NzM0LDMxMDA4MjM3NTIsNTA2OTQ4NjE2LDEzNjMyNTgxOTUsNjU5MDYwNTU2LDM3NTA2ODU1OTMsODgzOTk3ODc3LDM3ODUwNTAyODAsOTU4MTM5NTcxLDMzMTgzMDc0MjcsMTMyMjgyMjIxOCwzODEyNzIzNDAzLDE1MzcwMDIwNjMsMjAwMzAzNDk5NSwxNzQ3ODczNzc5LDM2MDIwMzY4OTksMTk1NTU2MjIyMiwxNTc1OTkwMDEyLDIwMjQxMDQ4MTUsMTEyNTU5MjkyOCwyMjI3NzMwNDUyLDI3MTY5MDQzMDYsMjM2MTg1MjQyNCw0NDI3NzYwNDQsMjQyODQzNjQ3NCw1OTM2OTgzNDQsMjc1NjczNDE4NywzNzMzMTEwMjQ5LDMyMDQwMzE0NzksMjk5OTM1MTU3MywzMzI5MzI1Mjk4LDM4MTU5MjA0MjcsMzM5MTU2OTYxNCwzOTI4MzgzOTAwLDM1MTUyNjcyNzEsNTY2MjgwNzExLDM5NDAxODc2MDYsMzQ1NDA2OTUzNCw0MTE4NjMwMjcxLDQwMDAyMzk5OTIsMTE2NDE4NDc0LDE5MTQxMzg1NTQsMTc0MjkyNDIxLDI3MzEwNTUyNzAsMjg5MzgwMzU2LDMyMDM5OTMwMDYsNDYwMzkzMjY5LDMyMDYyMDMxNSw2ODU0NzE3MzMsNTg3NDk2ODM2LDg1MjE0Mjk3MSwxMDg2NzkyODUxLDEwMTcwMzYyOTgsMzY1NTQzMTAwLDExMjYwMDA1ODAsMjYxODI5NzY3NiwxMjg4MDMzNDcwLDM0MDk4NTUxNTgsMTUwMTUwNTk0OCw0MjM0NTA5ODY2LDE2MDcxNjc5MTUsOTg3MTY3NDY4LDE4MTY0MDIzMTYsMTI0NjE4OTU5MV07ZnVuY3Rpb24gU0hBNTEyJDEoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBTSEE1MTIkMSkpcmV0dXJuIG5ldyBTSEE1MTIkMTtCbG9ja0hhc2gkMS5jYWxsKHRoaXMpLHRoaXMuaD1bMTc3OTAzMzcwMyw0MDg5MjM1NzIwLDMxNDQxMzQyNzcsMjIyNzg3MzU5NSwxMDEzOTA0MjQyLDQyNzExNzU3MjMsMjc3MzQ4MDc2MiwxNTk1NzUwMTI5LDEzNTk4OTMxMTksMjkxNzU2NTEzNywyNjAwODIyOTI0LDcyNTUxMTE5OSw1Mjg3MzQ2MzUsNDIxNTM4OTU0NywxNTQxNDU5MjI1LDMyNzAzMzIwOV0sdGhpcy5rPXNoYTUxMl9LLHRoaXMuVz1uZXcgQXJyYXkoMTYwKX11dGlscyQzLmluaGVyaXRzKFNIQTUxMiQxLEJsb2NrSGFzaCQxKTt2YXIgXzUxMj1TSEE1MTIkMTtTSEE1MTIkMS5ibG9ja1NpemU9MTAyNDtTSEE1MTIkMS5vdXRTaXplPTUxMjtTSEE1MTIkMS5obWFjU3RyZW5ndGg9MTkyO1NIQTUxMiQxLnBhZExlbmd0aD0xMjg7U0hBNTEyJDEucHJvdG90eXBlLl9wcmVwYXJlQmxvY2s9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIG89dGhpcy5XLGQ9MDtkPDMyO2QrKylvW2RdPWVbbitkXTtmb3IoO2Q8by5sZW5ndGg7ZCs9Mil7dmFyIGg9ZzFfNTEyX2hpKG9bZC00XSxvW2QtM10pLGw9ZzFfNTEyX2xvKG9bZC00XSxvW2QtM10pLHU9b1tkLTE0XSxwPW9bZC0xM10sZz1nMF81MTJfaGkob1tkLTMwXSxvW2QtMjldKSx2PWcwXzUxMl9sbyhvW2QtMzBdLG9bZC0yOV0pLGI9b1tkLTMyXSxfPW9bZC0zMV07b1tkXT1zdW02NF80X2hpKGgsbCx1LHAsZyx2LGIsXyksb1tkKzFdPXN1bTY0XzRfbG8oaCxsLHUscCxnLHYsYixfKX19O1NIQTUxMiQxLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUsbil7dGhpcy5fcHJlcGFyZUJsb2NrKGUsbik7dmFyIG89dGhpcy5XLGQ9dGhpcy5oWzBdLGg9dGhpcy5oWzFdLGw9dGhpcy5oWzJdLHU9dGhpcy5oWzNdLHA9dGhpcy5oWzRdLGc9dGhpcy5oWzVdLHY9dGhpcy5oWzZdLGI9dGhpcy5oWzddLF89dGhpcy5oWzhdLE89dGhpcy5oWzldLFQ9dGhpcy5oWzEwXSxqPXRoaXMuaFsxMV0sTj10aGlzLmhbMTJdLEI9dGhpcy5oWzEzXSxDPXRoaXMuaFsxNF0sTD10aGlzLmhbMTVdO2Fzc2VydCQxKHRoaXMuay5sZW5ndGg9PT1vLmxlbmd0aCk7Zm9yKHZhciBTPTA7UzxvLmxlbmd0aDtTKz0yKXt2YXIgUD1DLEY9TCxrPXMxXzUxMl9oaShfLE8pLEo9czFfNTEyX2xvKF8sTyksYWU9Y2g2NF9oaShfLE8sVCxqLE4pLHE9Y2g2NF9sbyhfLE8sVCxqLE4sQiksRz10aGlzLmtbU10scmU9dGhpcy5rW1MrMV0sTT1vW1NdLCQ9b1tTKzFdLFU9c3VtNjRfNV9oaShQLEYsayxKLGFlLHEsRyxyZSxNLCQpLEg9c3VtNjRfNV9sbyhQLEYsayxKLGFlLHEsRyxyZSxNLCQpO1A9czBfNTEyX2hpKGQsaCksRj1zMF81MTJfbG8oZCxoKSxrPW1hajY0X2hpKGQsaCxsLHUscCksSj1tYWo2NF9sbyhkLGgsbCx1LHAsZyk7dmFyIGVlPXN1bTY0X2hpKFAsRixrLEopLGdlPXN1bTY0X2xvKFAsRixrLEopO0M9TixMPUIsTj1ULEI9aixUPV8saj1PLF89c3VtNjRfaGkodixiLFUsSCksTz1zdW02NF9sbyhiLGIsVSxIKSx2PXAsYj1nLHA9bCxnPXUsbD1kLHU9aCxkPXN1bTY0X2hpKFUsSCxlZSxnZSksaD1zdW02NF9sbyhVLEgsZWUsZ2UpfXN1bTY0KHRoaXMuaCwwLGQsaCksc3VtNjQodGhpcy5oLDIsbCx1KSxzdW02NCh0aGlzLmgsNCxwLGcpLHN1bTY0KHRoaXMuaCw2LHYsYiksc3VtNjQodGhpcy5oLDgsXyxPKSxzdW02NCh0aGlzLmgsMTAsVCxqKSxzdW02NCh0aGlzLmgsMTIsTixCKSxzdW02NCh0aGlzLmgsMTQsQyxMKX07U0hBNTEyJDEucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0iaGV4Ij91dGlscyQzLnRvSGV4MzIodGhpcy5oLCJiaWciKTp1dGlscyQzLnNwbGl0MzIodGhpcy5oLCJiaWciKX07ZnVuY3Rpb24gY2g2NF9oaSh0LGUsbixvLGQpe3ZhciBoPXQmbl5+dCZkO3JldHVybiBoPDAmJihoKz00Mjk0OTY3Mjk2KSxofWZ1bmN0aW9uIGNoNjRfbG8odCxlLG4sbyxkLGgpe3ZhciBsPWUmb15+ZSZoO3JldHVybiBsPDAmJihsKz00Mjk0OTY3Mjk2KSxsfWZ1bmN0aW9uIG1hajY0X2hpKHQsZSxuLG8sZCl7dmFyIGg9dCZuXnQmZF5uJmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9ZnVuY3Rpb24gbWFqNjRfbG8odCxlLG4sbyxkLGgpe3ZhciBsPWUmb15lJmhebyZoO3JldHVybiBsPDAmJihsKz00Mjk0OTY3Mjk2KSxsfWZ1bmN0aW9uIHMwXzUxMl9oaSh0LGUpe3ZhciBuPXJvdHI2NF9oaSh0LGUsMjgpLG89cm90cjY0X2hpKGUsdCwyKSxkPXJvdHI2NF9oaShlLHQsNyksaD1uXm9eZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBzMF81MTJfbG8odCxlKXt2YXIgbj1yb3RyNjRfbG8odCxlLDI4KSxvPXJvdHI2NF9sbyhlLHQsMiksZD1yb3RyNjRfbG8oZSx0LDcpLGg9bl5vXmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9ZnVuY3Rpb24gczFfNTEyX2hpKHQsZSl7dmFyIG49cm90cjY0X2hpKHQsZSwxNCksbz1yb3RyNjRfaGkodCxlLDE4KSxkPXJvdHI2NF9oaShlLHQsOSksaD1uXm9eZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBzMV81MTJfbG8odCxlKXt2YXIgbj1yb3RyNjRfbG8odCxlLDE0KSxvPXJvdHI2NF9sbyh0LGUsMTgpLGQ9cm90cjY0X2xvKGUsdCw5KSxoPW5eb15kO3JldHVybiBoPDAmJihoKz00Mjk0OTY3Mjk2KSxofWZ1bmN0aW9uIGcwXzUxMl9oaSh0LGUpe3ZhciBuPXJvdHI2NF9oaSh0LGUsMSksbz1yb3RyNjRfaGkodCxlLDgpLGQ9c2hyNjRfaGkodCxlLDcpLGg9bl5vXmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9ZnVuY3Rpb24gZzBfNTEyX2xvKHQsZSl7dmFyIG49cm90cjY0X2xvKHQsZSwxKSxvPXJvdHI2NF9sbyh0LGUsOCksZD1zaHI2NF9sbyh0LGUsNyksaD1uXm9eZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBnMV81MTJfaGkodCxlKXt2YXIgbj1yb3RyNjRfaGkodCxlLDE5KSxvPXJvdHI2NF9oaShlLHQsMjkpLGQ9c2hyNjRfaGkodCxlLDYpLGg9bl5vXmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9ZnVuY3Rpb24gZzFfNTEyX2xvKHQsZSl7dmFyIG49cm90cjY0X2xvKHQsZSwxOSksbz1yb3RyNjRfbG8oZSx0LDI5KSxkPXNocjY0X2xvKHQsZSw2KSxoPW5eb15kO3JldHVybiBoPDAmJihoKz00Mjk0OTY3Mjk2KSxofXZhciB1dGlscyQyPXV0aWxzJDksU0hBNTEyPV81MTI7ZnVuY3Rpb24gU0hBMzg0KCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU0hBMzg0KSlyZXR1cm4gbmV3IFNIQTM4NDtTSEE1MTIuY2FsbCh0aGlzKSx0aGlzLmg9WzM0MTgwNzAzNjUsMzIzODM3MTAzMiwxNjU0MjcwMjUwLDkxNDE1MDY2MywyNDM4NTI5MzcwLDgxMjcwMjk5OSwzNTU0NjIzNjAsNDE0NDkxMjY5NywxNzMxNDA1NDE1LDQyOTA3NzU4NTcsMjM5NDE4MDIzMSwxNzUwNjAzMDI1LDM2NzUwMDg1MjUsMTY5NDA3NjgzOSwxMjAzMDYyODEzLDMyMDQwNzU0MjhdfXV0aWxzJDIuaW5oZXJpdHMoU0hBMzg0LFNIQTUxMik7dmFyIF8zODQ9U0hBMzg0O1NIQTM4NC5ibG9ja1NpemU9MTAyNDtTSEEzODQub3V0U2l6ZT0zODQ7U0hBMzg0LmhtYWNTdHJlbmd0aD0xOTI7U0hBMzg0LnBhZExlbmd0aD0xMjg7U0hBMzg0LnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09ImhleCI/dXRpbHMkMi50b0hleDMyKHRoaXMuaC5zbGljZSgwLDEyKSwiYmlnIik6dXRpbHMkMi5zcGxpdDMyKHRoaXMuaC5zbGljZSgwLDEyKSwiYmlnIil9O3NoYS5zaGExPV8xO3NoYS5zaGEyMjQ9XzIyNDtzaGEuc2hhMjU2PV8yNTY7c2hhLnNoYTM4ND1fMzg0O3NoYS5zaGE1MTI9XzUxMjt2YXIgcmlwZW1kPXt9LHV0aWxzJDE9dXRpbHMkOSxjb21tb249Y29tbW9uJDUscm90bDMyPXV0aWxzJDEucm90bDMyLHN1bTMyPXV0aWxzJDEuc3VtMzIsc3VtMzJfMz11dGlscyQxLnN1bTMyXzMsc3VtMzJfND11dGlscyQxLnN1bTMyXzQsQmxvY2tIYXNoPWNvbW1vbi5CbG9ja0hhc2g7ZnVuY3Rpb24gUklQRU1EMTYwKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgUklQRU1EMTYwKSlyZXR1cm4gbmV3IFJJUEVNRDE2MDtCbG9ja0hhc2guY2FsbCh0aGlzKSx0aGlzLmg9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSx0aGlzLmVuZGlhbj0ibGl0dGxlIn11dGlscyQxLmluaGVyaXRzKFJJUEVNRDE2MCxCbG9ja0hhc2gpO3JpcGVtZC5yaXBlbWQxNjA9UklQRU1EMTYwO1JJUEVNRDE2MC5ibG9ja1NpemU9NTEyO1JJUEVNRDE2MC5vdXRTaXplPTE2MDtSSVBFTUQxNjAuaG1hY1N0cmVuZ3RoPTE5MjtSSVBFTUQxNjAucGFkTGVuZ3RoPTY0O1JJUEVNRDE2MC5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlLG4pe2Zvcih2YXIgbz10aGlzLmhbMF0sZD10aGlzLmhbMV0saD10aGlzLmhbMl0sbD10aGlzLmhbM10sdT10aGlzLmhbNF0scD1vLGc9ZCx2PWgsYj1sLF89dSxPPTA7Tzw4MDtPKyspe3ZhciBUPXN1bTMyKHJvdGwzMihzdW0zMl80KG8sZihPLGQsaCxsKSxlW3JbT10rbl0sSyhPKSksc1tPXSksdSk7bz11LHU9bCxsPXJvdGwzMihoLDEwKSxoPWQsZD1ULFQ9c3VtMzIocm90bDMyKHN1bTMyXzQocCxmKDc5LU8sZyx2LGIpLGVbcmhbT10rbl0sS2goTykpLHNoW09dKSxfKSxwPV8sXz1iLGI9cm90bDMyKHYsMTApLHY9ZyxnPVR9VD1zdW0zMl8zKHRoaXMuaFsxXSxoLGIpLHRoaXMuaFsxXT1zdW0zMl8zKHRoaXMuaFsyXSxsLF8pLHRoaXMuaFsyXT1zdW0zMl8zKHRoaXMuaFszXSx1LHApLHRoaXMuaFszXT1zdW0zMl8zKHRoaXMuaFs0XSxvLGcpLHRoaXMuaFs0XT1zdW0zMl8zKHRoaXMuaFswXSxkLHYpLHRoaXMuaFswXT1UfTtSSVBFTUQxNjAucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0iaGV4Ij91dGlscyQxLnRvSGV4MzIodGhpcy5oLCJsaXR0bGUiKTp1dGlscyQxLnNwbGl0MzIodGhpcy5oLCJsaXR0bGUiKX07ZnVuY3Rpb24gZih0LGUsbixvKXtyZXR1cm4gdDw9MTU/ZV5uXm86dDw9MzE/ZSZufH5lJm86dDw9NDc/KGV8fm4pXm86dDw9NjM/ZSZvfG4mfm86ZV4obnx+byl9ZnVuY3Rpb24gSyh0KXtyZXR1cm4gdDw9MTU/MDp0PD0zMT8xNTE4NTAwMjQ5OnQ8PTQ3PzE4NTk3NzUzOTM6dDw9NjM/MjQwMDk1OTcwODoyODQwODUzODM4fWZ1bmN0aW9uIEtoKHQpe3JldHVybiB0PD0xNT8xMzUyODI5OTI2OnQ8PTMxPzE1NDg2MDM2ODQ6dDw9NDc/MTgzNjA3MjY5MTp0PD02Mz8yMDUzOTk0MjE3OjB9dmFyIHI9WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsNyw0LDEzLDEsMTAsNiwxNSwzLDEyLDAsOSw1LDIsMTQsMTEsOCwzLDEwLDE0LDQsOSwxNSw4LDEsMiw3LDAsNiwxMywxMSw1LDEyLDEsOSwxMSwxMCwwLDgsMTIsNCwxMywzLDcsMTUsMTQsNSw2LDIsNCwwLDUsOSw3LDEyLDIsMTAsMTQsMSwzLDgsMTEsNiwxNSwxM10scmg9WzUsMTQsNywwLDksMiwxMSw0LDEzLDYsMTUsOCwxLDEwLDMsMTIsNiwxMSwzLDcsMCwxMyw1LDEwLDE0LDE1LDgsMTIsNCw5LDEsMiwxNSw1LDEsMyw3LDE0LDYsOSwxMSw4LDEyLDIsMTAsMCw0LDEzLDgsNiw0LDEsMywxMSwxNSwwLDUsMTIsMiwxMyw5LDcsMTAsMTQsMTIsMTUsMTAsNCwxLDUsOCw3LDYsMiwxMywxNCwwLDMsOSwxMV0scz1bMTEsMTQsMTUsMTIsNSw4LDcsOSwxMSwxMywxNCwxNSw2LDcsOSw4LDcsNiw4LDEzLDExLDksNywxNSw3LDEyLDE1LDksMTEsNywxMywxMiwxMSwxMyw2LDcsMTQsOSwxMywxNSwxNCw4LDEzLDYsNSwxMiw3LDUsMTEsMTIsMTQsMTUsMTQsMTUsOSw4LDksMTQsNSw2LDgsNiw1LDEyLDksMTUsNSwxMSw2LDgsMTMsMTIsNSwxMiwxMywxNCwxMSw4LDUsNl0sc2g9WzgsOSw5LDExLDEzLDE1LDE1LDUsNyw3LDgsMTEsMTQsMTQsMTIsNiw5LDEzLDE1LDcsMTIsOCw5LDExLDcsNywxMiw3LDYsMTUsMTMsMTEsOSw3LDE1LDExLDgsNiw2LDE0LDEyLDEzLDUsMTQsMTMsMTMsNyw1LDE1LDUsOCwxMSwxNCwxNCw2LDE0LDYsOSwxMiw5LDEyLDUsMTUsOCw4LDUsMTIsOSwxMiw1LDE0LDYsOCwxMyw2LDUsMTUsMTMsMTEsMTFdLHV0aWxzPXV0aWxzJDksYXNzZXJ0PW1pbmltYWxpc3RpY0Fzc2VydDtmdW5jdGlvbiBIbWFjKHQsZSxuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBIbWFjKSlyZXR1cm4gbmV3IEhtYWModCxlLG4pO3RoaXMuSGFzaD10LHRoaXMuYmxvY2tTaXplPXQuYmxvY2tTaXplLzgsdGhpcy5vdXRTaXplPXQub3V0U2l6ZS84LHRoaXMuaW5uZXI9bnVsbCx0aGlzLm91dGVyPW51bGwsdGhpcy5faW5pdCh1dGlscy50b0FycmF5KGUsbikpfXZhciBobWFjPUhtYWM7SG1hYy5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oZSl7ZS5sZW5ndGg+dGhpcy5ibG9ja1NpemUmJihlPW5ldyB0aGlzLkhhc2goKS51cGRhdGUoZSkuZGlnZXN0KCkpLGFzc2VydChlLmxlbmd0aDw9dGhpcy5ibG9ja1NpemUpO2Zvcih2YXIgbj1lLmxlbmd0aDtuPHRoaXMuYmxvY2tTaXplO24rKyllLnB1c2goMCk7Zm9yKG49MDtuPGUubGVuZ3RoO24rKyllW25dXj01NDtmb3IodGhpcy5pbm5lcj1uZXcgdGhpcy5IYXNoKCkudXBkYXRlKGUpLG49MDtuPGUubGVuZ3RoO24rKyllW25dXj0xMDY7dGhpcy5vdXRlcj1uZXcgdGhpcy5IYXNoKCkudXBkYXRlKGUpfTtIbWFjLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcy5pbm5lci51cGRhdGUoZSxuKSx0aGlzfTtIbWFjLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3V0ZXIudXBkYXRlKHRoaXMuaW5uZXIuZGlnZXN0KCkpLHRoaXMub3V0ZXIuZGlnZXN0KGUpfTsoZnVuY3Rpb24odCl7dmFyIGU9dDtlLnV0aWxzPXV0aWxzJDksZS5jb21tb249Y29tbW9uJDUsZS5zaGE9c2hhLGUucmlwZW1kPXJpcGVtZCxlLmhtYWM9aG1hYyxlLnNoYTE9ZS5zaGEuc2hhMSxlLnNoYTI1Nj1lLnNoYS5zaGEyNTYsZS5zaGEyMjQ9ZS5zaGEuc2hhMjI0LGUuc2hhMzg0PWUuc2hhLnNoYTM4NCxlLnNoYTUxMj1lLnNoYS5zaGE1MTIsZS5yaXBlbWQxNjA9ZS5yaXBlbWQucmlwZW1kMTYwfSkoaGFzaCk7dmFyIHJkZlRlcm1zPXt9LFF1YWRUZXJtVXRpbD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVhZFRlcm1VdGlsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtRdWFkVGVybVV0aWwubWF0Y2hQYXR0ZXJuTWFwcGluZ3M9UXVhZFRlcm1VdGlsLm1hdGNoUGF0dGVybkNvbXBsZXRlPVF1YWRUZXJtVXRpbC5tYXRjaFBhdHRlcm49UXVhZFRlcm1VdGlsLm1hdGNoVGVybT1RdWFkVGVybVV0aWwuc29tZVRlcm1zPVF1YWRUZXJtVXRpbC5ldmVyeVRlcm1zPVF1YWRUZXJtVXRpbC5yZWR1Y2VUZXJtcz1RdWFkVGVybVV0aWwubWFwVGVybXM9UXVhZFRlcm1VdGlsLmZpbHRlclF1YWRUZXJtTmFtZXM9UXVhZFRlcm1VdGlsLmZpbHRlclRlcm1zPVF1YWRUZXJtVXRpbC5mb3JFYWNoVGVybXM9UXVhZFRlcm1VdGlsLmNvbGxlY3ROYW1lZFRlcm1zPVF1YWRUZXJtVXRpbC5nZXROYW1lZFRlcm1zPVF1YWRUZXJtVXRpbC5nZXRUZXJtc05lc3RlZD1RdWFkVGVybVV0aWwuZ2V0VGVybXM9UXVhZFRlcm1VdGlsLlRSSVBMRV9URVJNX05BTUVTPVF1YWRUZXJtVXRpbC5RVUFEX1RFUk1fTkFNRVM9dm9pZCAwO2NvbnN0IHJkZl9kYXRhX2ZhY3RvcnlfMT1yZGZEYXRhRmFjdG9yeSxERj1uZXcgcmRmX2RhdGFfZmFjdG9yeV8xLkRhdGFGYWN0b3J5O1F1YWRUZXJtVXRpbC5RVUFEX1RFUk1fTkFNRVM9WyJzdWJqZWN0IiwicHJlZGljYXRlIiwib2JqZWN0IiwiZ3JhcGgiXTtRdWFkVGVybVV0aWwuVFJJUExFX1RFUk1fTkFNRVM9WyJzdWJqZWN0IiwicHJlZGljYXRlIiwib2JqZWN0Il07ZnVuY3Rpb24gZ2V0VGVybXModCxlKXtyZXR1cm4gZSYmdC5ncmFwaC50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgiP1t0LnN1YmplY3QsdC5wcmVkaWNhdGUsdC5vYmplY3RdOlt0LnN1YmplY3QsdC5wcmVkaWNhdGUsdC5vYmplY3QsdC5ncmFwaF19UXVhZFRlcm1VdGlsLmdldFRlcm1zPWdldFRlcm1zO2Z1bmN0aW9uIGdldFRlcm1zTmVzdGVkKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgbyBvZiBnZXRUZXJtcyh0LGUpKW8udGVybVR5cGU9PT0iUXVhZCI/Z2V0VGVybXNOZXN0ZWQobyxlKS5mb3JFYWNoKGQ9Pm4ucHVzaChkKSk6bi5wdXNoKG8pO3JldHVybiBufVF1YWRUZXJtVXRpbC5nZXRUZXJtc05lc3RlZD1nZXRUZXJtc05lc3RlZDtmdW5jdGlvbiBnZXROYW1lZFRlcm1zKHQpe3JldHVyblt7a2V5OiJzdWJqZWN0Iix2YWx1ZTp0LnN1YmplY3R9LHtrZXk6InByZWRpY2F0ZSIsdmFsdWU6dC5wcmVkaWNhdGV9LHtrZXk6Im9iamVjdCIsdmFsdWU6dC5vYmplY3R9LHtrZXk6ImdyYXBoIix2YWx1ZTp0LmdyYXBofV19UXVhZFRlcm1VdGlsLmdldE5hbWVkVGVybXM9Z2V0TmFtZWRUZXJtcztmdW5jdGlvbiBjb2xsZWN0TmFtZWRUZXJtcyh0LGUsbil7Y29uc3Qgbz17fTtyZXR1cm4gdC5mb3JFYWNoKGQ9Pm9bZC5rZXldPWQudmFsdWUpLGUmJihvLnN1YmplY3Q9by5zdWJqZWN0fHxlKCJzdWJqZWN0Iiksby5wcmVkaWNhdGU9by5wcmVkaWNhdGV8fGUoInByZWRpY2F0ZSIpLG8ub2JqZWN0PW8ub2JqZWN0fHxlKCJvYmplY3QiKSxvLmdyYXBoPW8uZ3JhcGh8fGUoImdyYXBoIikpLChufHxERikucXVhZChvLnN1YmplY3Qsby5wcmVkaWNhdGUsby5vYmplY3Qsby5ncmFwaCl9UXVhZFRlcm1VdGlsLmNvbGxlY3ROYW1lZFRlcm1zPWNvbGxlY3ROYW1lZFRlcm1zO2Z1bmN0aW9uIGZvckVhY2hUZXJtcyh0LGUpe2UodC5zdWJqZWN0LCJzdWJqZWN0IiksZSh0LnByZWRpY2F0ZSwicHJlZGljYXRlIiksZSh0Lm9iamVjdCwib2JqZWN0IiksZSh0LmdyYXBoLCJncmFwaCIpfVF1YWRUZXJtVXRpbC5mb3JFYWNoVGVybXM9Zm9yRWFjaFRlcm1zO2Z1bmN0aW9uIGZpbHRlclRlcm1zKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gZSh0LnN1YmplY3QsInN1YmplY3QiKSYmbi5wdXNoKHQuc3ViamVjdCksZSh0LnByZWRpY2F0ZSwicHJlZGljYXRlIikmJm4ucHVzaCh0LnByZWRpY2F0ZSksZSh0Lm9iamVjdCwib2JqZWN0IikmJm4ucHVzaCh0Lm9iamVjdCksZSh0LmdyYXBoLCJncmFwaCIpJiZuLnB1c2godC5ncmFwaCksbn1RdWFkVGVybVV0aWwuZmlsdGVyVGVybXM9ZmlsdGVyVGVybXM7ZnVuY3Rpb24gZmlsdGVyUXVhZFRlcm1OYW1lcyh0LGUpe2NvbnN0IG49W107cmV0dXJuIGUodC5zdWJqZWN0LCJzdWJqZWN0IikmJm4ucHVzaCgic3ViamVjdCIpLGUodC5wcmVkaWNhdGUsInByZWRpY2F0ZSIpJiZuLnB1c2goInByZWRpY2F0ZSIpLGUodC5vYmplY3QsIm9iamVjdCIpJiZuLnB1c2goIm9iamVjdCIpLGUodC5ncmFwaCwiZ3JhcGgiKSYmbi5wdXNoKCJncmFwaCIpLG59UXVhZFRlcm1VdGlsLmZpbHRlclF1YWRUZXJtTmFtZXM9ZmlsdGVyUXVhZFRlcm1OYW1lcztmdW5jdGlvbiBtYXBUZXJtcyh0LGUsbil7cmV0dXJuKG58fERGKS5xdWFkKGUodC5zdWJqZWN0LCJzdWJqZWN0IiksZSh0LnByZWRpY2F0ZSwicHJlZGljYXRlIiksZSh0Lm9iamVjdCwib2JqZWN0IiksZSh0LmdyYXBoLCJncmFwaCIpKX1RdWFkVGVybVV0aWwubWFwVGVybXM9bWFwVGVybXM7ZnVuY3Rpb24gcmVkdWNlVGVybXModCxlLG4pe2xldCBvPW47cmV0dXJuIG89ZShvLHQuc3ViamVjdCwic3ViamVjdCIpLG89ZShvLHQucHJlZGljYXRlLCJwcmVkaWNhdGUiKSxvPWUobyx0Lm9iamVjdCwib2JqZWN0IiksZShvLHQuZ3JhcGgsImdyYXBoIil9UXVhZFRlcm1VdGlsLnJlZHVjZVRlcm1zPXJlZHVjZVRlcm1zO2Z1bmN0aW9uIGV2ZXJ5VGVybXModCxlKXtyZXR1cm4gZSh0LnN1YmplY3QsInN1YmplY3QiKSYmZSh0LnByZWRpY2F0ZSwicHJlZGljYXRlIikmJmUodC5vYmplY3QsIm9iamVjdCIpJiZlKHQuZ3JhcGgsImdyYXBoIil9UXVhZFRlcm1VdGlsLmV2ZXJ5VGVybXM9ZXZlcnlUZXJtcztmdW5jdGlvbiBzb21lVGVybXModCxlKXtyZXR1cm4gZSh0LnN1YmplY3QsInN1YmplY3QiKXx8ZSh0LnByZWRpY2F0ZSwicHJlZGljYXRlIil8fGUodC5vYmplY3QsIm9iamVjdCIpfHxlKHQuZ3JhcGgsImdyYXBoIil9UXVhZFRlcm1VdGlsLnNvbWVUZXJtcz1zb21lVGVybXM7ZnVuY3Rpb24gbWF0Y2hUZXJtKHQsZSl7cmV0dXJuIWV8fGUudGVybVR5cGU9PT0iVmFyaWFibGUifHxlLnRlcm1UeXBlPT09IlF1YWQiJiZ0LnRlcm1UeXBlPT09IlF1YWQiJiZtYXRjaFBhdHRlcm5Db21wbGV0ZSh0LGUpfHxlLmVxdWFscyh0KX1RdWFkVGVybVV0aWwubWF0Y2hUZXJtPW1hdGNoVGVybTtmdW5jdGlvbiBtYXRjaFBhdHRlcm4odCxlLG4sbyxkKXtyZXR1cm4gbWF0Y2hUZXJtKHQuc3ViamVjdCxlKSYmbWF0Y2hUZXJtKHQucHJlZGljYXRlLG4pJiZtYXRjaFRlcm0odC5vYmplY3QsbykmJm1hdGNoVGVybSh0LmdyYXBoLGQpfVF1YWRUZXJtVXRpbC5tYXRjaFBhdHRlcm49bWF0Y2hQYXR0ZXJuO2Z1bmN0aW9uIG1hdGNoUGF0dGVybkNvbXBsZXRlKHQsZSl7cmV0dXJuIG1hdGNoUGF0dGVybih0LGUuc3ViamVjdCxlLnByZWRpY2F0ZSxlLm9iamVjdCxlLmdyYXBoKX1RdWFkVGVybVV0aWwubWF0Y2hQYXR0ZXJuQ29tcGxldGU9bWF0Y2hQYXR0ZXJuQ29tcGxldGU7ZnVuY3Rpb24gbWF0Y2hQYXR0ZXJuTWFwcGluZ3ModCxlLG49e30pe2NvbnN0IG89e307ZnVuY3Rpb24gZChoLGwpe3JldHVybiBldmVyeVRlcm1zKGgsKHUscCk9Pnt2YXIgZyx2O2NvbnN0IGI9bFtwXTtzd2l0Y2godS50ZXJtVHlwZSl7Y2FzZSJWYXJpYWJsZSI6cmV0dXJuIG4uc2tpcFZhck1hcHBpbmcmJmIudGVybVR5cGU9PT0iVmFyaWFibGUifHwoKHY9KGc9b1t1LnZhbHVlXSk9PT1udWxsfHxnPT09dm9pZCAwP3ZvaWQgMDpnLmVxdWFscyhiKSkhPT1udWxsJiZ2IT09dm9pZCAwP3Y6KG9bdS52YWx1ZV09YiwhMCkpO2Nhc2UiUXVhZCI6cmV0dXJuIGIudGVybVR5cGU9PT0iUXVhZCImJmQodSxiKTtkZWZhdWx0OnJldHVybiB1LmVxdWFscyhiKX19KX1yZXR1cm4gZChlLHQpJiYobi5yZXR1cm5NYXBwaW5ncz9vOiEwKX1RdWFkVGVybVV0aWwubWF0Y2hQYXR0ZXJuTWFwcGluZ3M9bWF0Y2hQYXR0ZXJuTWFwcGluZ3M7dmFyIFRlcm1VdGlsPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXJtVXRpbCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7VGVybVV0aWwuZ2V0UXVhZHM9VGVybVV0aWwuZ2V0RGVmYXVsdEdyYXBocz1UZXJtVXRpbC5nZXRWYXJpYWJsZXM9VGVybVV0aWwuZ2V0TGl0ZXJhbHM9VGVybVV0aWwuZ2V0QmxhbmtOb2Rlcz1UZXJtVXRpbC5nZXROYW1lZE5vZGVzPVRlcm1VdGlsLmdldFRlcm1zT2ZUeXBlPVRlcm1VdGlsLnVuaXFUZXJtcz1UZXJtVXRpbC5URVJNX1RZUEVTPXZvaWQgMDtjb25zdCByZGZfc3RyaW5nXzEkMj1yZGZTdHJpbmc7VGVybVV0aWwuVEVSTV9UWVBFUz1bIk5hbWVkTm9kZSIsIkJsYW5rTm9kZSIsIkxpdGVyYWwiLCJWYXJpYWJsZSIsIkRlZmF1bHRHcmFwaCIsIlF1YWQiXTtmdW5jdGlvbiB1bmlxVGVybXModCl7Y29uc3QgZT17fTtyZXR1cm4gdC5maWx0ZXIobj0+e2NvbnN0IG89cmRmX3N0cmluZ18xJDIudGVybVRvU3RyaW5nKG4pO3JldHVybiEobyBpbiBlKSYmKGVbb109ITApfSl9VGVybVV0aWwudW5pcVRlcm1zPXVuaXFUZXJtcztmdW5jdGlvbiBnZXRUZXJtc09mVHlwZSh0LGUpe3JldHVybiB0LmZpbHRlcihuPT5uLnRlcm1UeXBlPT09ZSl9VGVybVV0aWwuZ2V0VGVybXNPZlR5cGU9Z2V0VGVybXNPZlR5cGU7ZnVuY3Rpb24gZ2V0TmFtZWROb2Rlcyh0KXtyZXR1cm4gZ2V0VGVybXNPZlR5cGUodCwiTmFtZWROb2RlIil9VGVybVV0aWwuZ2V0TmFtZWROb2Rlcz1nZXROYW1lZE5vZGVzO2Z1bmN0aW9uIGdldEJsYW5rTm9kZXModCl7cmV0dXJuIGdldFRlcm1zT2ZUeXBlKHQsIkJsYW5rTm9kZSIpfVRlcm1VdGlsLmdldEJsYW5rTm9kZXM9Z2V0QmxhbmtOb2RlcztmdW5jdGlvbiBnZXRMaXRlcmFscyh0KXtyZXR1cm4gZ2V0VGVybXNPZlR5cGUodCwiTGl0ZXJhbCIpfVRlcm1VdGlsLmdldExpdGVyYWxzPWdldExpdGVyYWxzO2Z1bmN0aW9uIGdldFZhcmlhYmxlcyh0KXtyZXR1cm4gZ2V0VGVybXNPZlR5cGUodCwiVmFyaWFibGUiKX1UZXJtVXRpbC5nZXRWYXJpYWJsZXM9Z2V0VmFyaWFibGVzO2Z1bmN0aW9uIGdldERlZmF1bHRHcmFwaHModCl7cmV0dXJuIGdldFRlcm1zT2ZUeXBlKHQsIkRlZmF1bHRHcmFwaCIpfVRlcm1VdGlsLmdldERlZmF1bHRHcmFwaHM9Z2V0RGVmYXVsdEdyYXBocztmdW5jdGlvbiBnZXRRdWFkcyh0KXtyZXR1cm4gZ2V0VGVybXNPZlR5cGUodCwiUXVhZCIpfVRlcm1VdGlsLmdldFF1YWRzPWdldFF1YWRzOyhmdW5jdGlvbih0KXt2YXIgZT1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihvLGQsaCxsKXtsPT09dm9pZCAwJiYobD1oKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxsLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkW2hdfX0pfTpmdW5jdGlvbihvLGQsaCxsKXtsPT09dm9pZCAwJiYobD1oKSxvW2xdPWRbaF19KSxuPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKG8sZCl7Zm9yKHZhciBoIGluIG8paCE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGgpJiZlKGQsbyxoKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4oUXVhZFRlcm1VdGlsLHQpLG4oVGVybVV0aWwsdCl9KShyZGZUZXJtcyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KFJkZklzb21vcnBoaWMsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO1JkZklzb21vcnBoaWMuaXNUZXJtR3JvdW5kZWQ9UmRmSXNvbW9ycGhpYy50ZXJtVG9TaWduYXR1cmU9UmRmSXNvbW9ycGhpYy5xdWFkVG9TaWduYXR1cmU9UmRmSXNvbW9ycGhpYy5zaGExaGV4PVJkZklzb21vcnBoaWMuaGFzaFRlcm09UmRmSXNvbW9ycGhpYy5oYXNoVGVybXM9UmRmSXNvbW9ycGhpYy5nZXRHcmFwaEJsYW5rTm9kZXM9UmRmSXNvbW9ycGhpYy51bmlxR3JhcGg9UmRmSXNvbW9ycGhpYy5kZWluZGV4R3JhcGg9UmRmSXNvbW9ycGhpYy5pbmRleEdyYXBoPVJkZklzb21vcnBoaWMuZ2V0UXVhZHNXaXRob3V0QmxhbmtOb2Rlcz1SZGZJc29tb3JwaGljLmdldFF1YWRzV2l0aEJsYW5rTm9kZXM9UmRmSXNvbW9ycGhpYy5oYXNWYWx1ZT1SZGZJc29tb3JwaGljLmhhc2hWYWx1ZXM9UmRmSXNvbW9ycGhpYy5nZXRCaWplY3Rpb25Jbm5lcj1SZGZJc29tb3JwaGljLmdldEJpamVjdGlvbj1SZGZJc29tb3JwaGljLmlzb21vcnBoaWM9dm9pZCAwO2NvbnN0IGhhc2hfanNfMT1oYXNoLHJkZl9zdHJpbmdfMSQxPXJkZlN0cmluZyxyZGZfdGVybXNfMT1yZGZUZXJtcztmdW5jdGlvbiBpc29tb3JwaGljKHQsZSl7cmV0dXJuISFnZXRCaWplY3Rpb24odCxlKX1SZGZJc29tb3JwaGljLmlzb21vcnBoaWM9aXNvbW9ycGhpYztmdW5jdGlvbiBnZXRCaWplY3Rpb24odCxlKXtjb25zdCBuPWluZGV4R3JhcGgoZ2V0UXVhZHNXaXRob3V0QmxhbmtOb2Rlcyh0KSksbz1pbmRleEdyYXBoKGdldFF1YWRzV2l0aG91dEJsYW5rTm9kZXMoZSkpO2lmKE9iamVjdC5rZXlzKG4pLmxlbmd0aCE9PU9iamVjdC5rZXlzKG8pLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IoY29uc3QgcCBpbiBuKWlmKG5bcF0hPT1vW3BdKXJldHVybiBudWxsO2NvbnN0IGQ9dW5pcUdyYXBoKGdldFF1YWRzV2l0aEJsYW5rTm9kZXModCkpLGg9dW5pcUdyYXBoKGdldFF1YWRzV2l0aEJsYW5rTm9kZXMoZSkpLGw9Z2V0R3JhcGhCbGFua05vZGVzKHQpLHU9Z2V0R3JhcGhCbGFua05vZGVzKGUpO3JldHVybiBnZXRCaWplY3Rpb25Jbm5lcihkLGgsbCx1KX1SZGZJc29tb3JwaGljLmdldEJpamVjdGlvbj1nZXRCaWplY3Rpb247ZnVuY3Rpb24gZ2V0QmlqZWN0aW9uSW5uZXIodCxlLG4sbyxkLGgpe2R8fChkPXt9KSxofHwoaD17fSk7Y29uc3RbbCx1XT1oYXNoVGVybXModCxuLGQpLFtwLGddPWhhc2hUZXJtcyhlLG8saCk7aWYoT2JqZWN0LmtleXMobCkubGVuZ3RoIT09T2JqZWN0LmtleXMocCkubGVuZ3RoKXJldHVybiBudWxsO2Zvcihjb25zdCBiIGluIGwpaWYoIWhhc1ZhbHVlKHAsbFtiXSkpcmV0dXJuIG51bGw7bGV0IHY9e307Zm9yKGNvbnN0IGIgb2Ygbil7Y29uc3QgXz1yZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcoYiksTz11W19dO2Zvcihjb25zdCBUIGluIGcpaWYoZ1tUXT09PU8pe3ZbX109VCxkZWxldGUgZ1tUXTticmVha319aWYoIWFycmF5c0VxdWFsKE9iamVjdC5rZXlzKHYpLnNvcnQoKSxuLm1hcChyZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcpLnNvcnQoKSl8fCFhcnJheXNFcXVhbChoYXNoVmFsdWVzKHYpLnNvcnQoKSxvLm1hcChyZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcpLnNvcnQoKSkpe3Y9bnVsbDtmb3IoY29uc3QgYiBvZiBuKXtjb25zdCBfPXJkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZyhiKTtpZighbFtfXSlmb3IoY29uc3QgTyBvZiBvKXtjb25zdCBUPXJkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZyhPKTtpZighcFtUXSYmdVtfXT09PWdbVF0pe2NvbnN0IGo9c2hhMWhleChfKTt2PWdldEJpamVjdGlvbklubmVyKHQsZSxuLG8sT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGwpLHtbX106an0pLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxwKSx7W1RdOmp9KSl9fX19cmV0dXJuIHZ9UmRmSXNvbW9ycGhpYy5nZXRCaWplY3Rpb25Jbm5lcj1nZXRCaWplY3Rpb25Jbm5lcjtmdW5jdGlvbiBhcnJheXNFcXVhbCh0LGUpe2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPXQubGVuZ3RoO24tLTspaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaGFzaFZhbHVlcyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIGluIHQpZS5wdXNoKHRbbl0pO3JldHVybiBlfVJkZklzb21vcnBoaWMuaGFzaFZhbHVlcz1oYXNoVmFsdWVzO2Z1bmN0aW9uIGhhc1ZhbHVlKHQsZSl7Zm9yKGNvbnN0IG4gaW4gdClpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1SZGZJc29tb3JwaGljLmhhc1ZhbHVlPWhhc1ZhbHVlO2Z1bmN0aW9uIGdldFF1YWRzV2l0aEJsYW5rTm9kZXModCl7cmV0dXJuIHQuZmlsdGVyKGU9PnJkZl90ZXJtc18xLnNvbWVUZXJtcyhlLG49Pm4udGVybVR5cGU9PT0iQmxhbmtOb2RlInx8bi50ZXJtVHlwZT09PSJRdWFkIiYmcmRmX3Rlcm1zXzEuZ2V0VGVybXNOZXN0ZWQobikuc29tZShvPT5vLnRlcm1UeXBlPT09IkJsYW5rTm9kZSIpKSl9UmRmSXNvbW9ycGhpYy5nZXRRdWFkc1dpdGhCbGFua05vZGVzPWdldFF1YWRzV2l0aEJsYW5rTm9kZXM7ZnVuY3Rpb24gZ2V0UXVhZHNXaXRob3V0QmxhbmtOb2Rlcyh0KXtyZXR1cm4gdC5maWx0ZXIoZT0+cmRmX3Rlcm1zXzEuZXZlcnlUZXJtcyhlLG49Pm4udGVybVR5cGUhPT0iQmxhbmtOb2RlIiYmIShuLnRlcm1UeXBlPT09IlF1YWQiJiZyZGZfdGVybXNfMS5nZXRUZXJtc05lc3RlZChuKS5zb21lKG89Pm8udGVybVR5cGU9PT0iQmxhbmtOb2RlIikpKSl9UmRmSXNvbW9ycGhpYy5nZXRRdWFkc1dpdGhvdXRCbGFua05vZGVzPWdldFF1YWRzV2l0aG91dEJsYW5rTm9kZXM7ZnVuY3Rpb24gaW5kZXhHcmFwaCh0KXtjb25zdCBlPXt9O2Zvcihjb25zdCBuIG9mIHQpZVtKU09OLnN0cmluZ2lmeShyZGZfc3RyaW5nXzEkMS5xdWFkVG9TdHJpbmdRdWFkKG4pKV09ITA7cmV0dXJuIGV9UmRmSXNvbW9ycGhpYy5pbmRleEdyYXBoPWluZGV4R3JhcGg7ZnVuY3Rpb24gZGVpbmRleEdyYXBoKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoZT0+cmRmX3N0cmluZ18xJDEuc3RyaW5nUXVhZFRvUXVhZChKU09OLnBhcnNlKGUpKSl9UmRmSXNvbW9ycGhpYy5kZWluZGV4R3JhcGg9ZGVpbmRleEdyYXBoO2Z1bmN0aW9uIHVuaXFHcmFwaCh0KXtyZXR1cm4gZGVpbmRleEdyYXBoKGluZGV4R3JhcGgodCkpfVJkZklzb21vcnBoaWMudW5pcUdyYXBoPXVuaXFHcmFwaDtmdW5jdGlvbiBnZXRHcmFwaEJsYW5rTm9kZXModCl7cmV0dXJuIHJkZl90ZXJtc18xLnVuaXFUZXJtcyh0Lm1hcChlPT5yZGZfdGVybXNfMS5nZXRCbGFua05vZGVzKHJkZl90ZXJtc18xLmdldFRlcm1zTmVzdGVkKGUpKSkucmVkdWNlKChlLG4pPT5lLmNvbmNhdChuKSxbXSkpfVJkZklzb21vcnBoaWMuZ2V0R3JhcGhCbGFua05vZGVzPWdldEdyYXBoQmxhbmtOb2RlcztmdW5jdGlvbiBoYXNoVGVybXModCxlLG4pe2NvbnN0IG89T2JqZWN0LmFzc2lnbih7fSxuKSxkPXt9O2xldCBoPSEwO2Zvcig7aDspe2NvbnN0IGw9T2JqZWN0LmtleXMobykubGVuZ3RoO2Zvcihjb25zdCBwIG9mIGUpe2NvbnN0IGc9cmRmX3N0cmluZ18xJDEudGVybVRvU3RyaW5nKHApO2lmKCFvW2ddKXtjb25zdFt2LGJdPWhhc2hUZXJtKHAsdCxvKTt2JiYob1tnXT1iKSxkW2ddPWJ9fWNvbnN0IHU9e307Zm9yKGNvbnN0IHAgaW4gZCl7Y29uc3QgZz1kW3BdO3VbZ109PT12b2lkIDA/dVtnXT1wOnVbZ109ITF9Zm9yKGNvbnN0IHAgaW4gdSl7Y29uc3QgZz11W3BdO2cmJihvW2ddPXApfWg9bCE9PU9iamVjdC5rZXlzKG8pLmxlbmd0aH1yZXR1cm5bbyxkXX1SZGZJc29tb3JwaGljLmhhc2hUZXJtcz1oYXNoVGVybXM7ZnVuY3Rpb24gaGFzaFRlcm0odCxlLG4pe2NvbnN0IG89W107bGV0IGQ9ITA7Zm9yKGNvbnN0IGwgb2YgZSl7Y29uc3QgdT1yZGZfdGVybXNfMS5nZXRUZXJtc05lc3RlZChsKTtpZih1LnNvbWUocD0+cC5lcXVhbHModCkpKXtvLnB1c2gocXVhZFRvU2lnbmF0dXJlKGwsbix0KSk7Zm9yKGNvbnN0IHAgb2YgdSkhaXNUZXJtR3JvdW5kZWQocCxuKSYmIXAuZXF1YWxzKHQpJiYoZD0hMSl9fWNvbnN0IGg9c2hhMWhleChvLnNvcnQoKS5qb2luKCIiKSk7cmV0dXJuW2QsaF19UmRmSXNvbW9ycGhpYy5oYXNoVGVybT1oYXNoVGVybTtmdW5jdGlvbiBzaGExaGV4KHQpe3JldHVybiBoYXNoX2pzXzEuc2hhMSgpLnVwZGF0ZSh0KS5kaWdlc3QoImhleCIpfVJkZklzb21vcnBoaWMuc2hhMWhleD1zaGExaGV4O2Z1bmN0aW9uIHF1YWRUb1NpZ25hdHVyZSh0LGUsbil7cmV0dXJuIHJkZl90ZXJtc18xLmdldFRlcm1zKHQpLm1hcChvPT50ZXJtVG9TaWduYXR1cmUobyxlLG4pKS5qb2luKCJ8Iil9UmRmSXNvbW9ycGhpYy5xdWFkVG9TaWduYXR1cmU9cXVhZFRvU2lnbmF0dXJlO2Z1bmN0aW9uIHRlcm1Ub1NpZ25hdHVyZSh0LGUsbil7cmV0dXJuIHQuZXF1YWxzKG4pPyJAc2VsZiI6dC50ZXJtVHlwZT09PSJCbGFua05vZGUiP2VbcmRmX3N0cmluZ18xJDEudGVybVRvU3RyaW5nKHQpXXx8IkBibGFuayI6dC50ZXJtVHlwZT09PSJRdWFkIj9gPCR7cXVhZFRvU2lnbmF0dXJlKHQsZSxuKX0+YDpyZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcodCl9UmRmSXNvbW9ycGhpYy50ZXJtVG9TaWduYXR1cmU9dGVybVRvU2lnbmF0dXJlO2Z1bmN0aW9uIGlzVGVybUdyb3VuZGVkKHQsZSl7cmV0dXJuIHQudGVybVR5cGUhPT0iQmxhbmtOb2RlIiYmISh0LnRlcm1UeXBlPT09IlF1YWQiJiZyZGZfdGVybXNfMS5nZXRUZXJtc05lc3RlZCh0KS5zb21lKG49PiFpc1Rlcm1Hcm91bmRlZChuLGUpKSl8fCEhZVtyZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcodCldfVJkZklzb21vcnBoaWMuaXNUZXJtR3JvdW5kZWQ9aXNUZXJtR3JvdW5kZWQ7KGZ1bmN0aW9uKHQpe3ZhciBlPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKG8sZCxoLGwpe2w9PT12b2lkIDAmJihsPWgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLGwse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRbaF19fSl9OmZ1bmN0aW9uKG8sZCxoLGwpe2w9PT12b2lkIDAmJihsPWgpLG9bbF09ZFtoXX0pLG49Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24obyxkKXtmb3IodmFyIGggaW4gbyloIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsaCkmJmUoZCxvLGgpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbihSZGZJc29tb3JwaGljLHQpfSkocmRmSXNvbW9ycGhpYyk7dmFyIF9fY3JlYXRlQmluZGluZz1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUsbixvKXtvPT09dm9pZCAwJiYobz1uKTt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik7KCFkfHwoImdldCJpbiBkPyFlLl9fZXNNb2R1bGU6ZC53cml0YWJsZXx8ZC5jb25maWd1cmFibGUpKSYmKGQ9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGVbbl19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbyxkKX06ZnVuY3Rpb24odCxlLG4sbyl7bz09PXZvaWQgMCYmKG89biksdFtvXT1lW25dfSksX19zZXRNb2R1bGVEZWZhdWx0PWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KX06ZnVuY3Rpb24odCxlKXt0LmRlZmF1bHQ9ZX0pLF9faW1wb3J0U3Rhcj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIG4gaW4gdCluIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmX19jcmVhdGVCaW5kaW5nKGUsdCxuKTtyZXR1cm4gX19zZXRNb2R1bGVEZWZhdWx0KGUsdCksZX0sX19pbXBvcnREZWZhdWx0PWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHNwYXJxbCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7c3BhcnFsLnRvU3BhcnFsSnM9c3BhcnFsLnRvU3BhcnFsPXZvaWQgMDtjb25zdCByZGZfaXNvbW9ycGhpY18xPXJkZklzb21vcnBoaWMscmRmX3N0cmluZ18xPXJkZlN0cmluZyxzcGFycWxqc18xPXNwYXJxbCQxLEFsZ2VicmE9X19pbXBvcnRTdGFyKGFsZ2VicmEpLGZhY3RvcnlfMT1fX2ltcG9ydERlZmF1bHQoZmFjdG9yeSQyKSx1dGlsXzE9X19pbXBvcnREZWZhdWx0KHV0aWwpLHR5cGVzPUFsZ2VicmEudHlwZXMsZVR5cGVzPUFsZ2VicmEuZXhwcmVzc2lvblR5cGVzO2xldCBjb250ZXh0O2NvbnN0IGZhY3Rvcnk9bmV3IGZhY3RvcnlfMS5kZWZhdWx0O2Z1bmN0aW9uIHRvU3BhcnFsKHQsZT17fSl7cmV0dXJuIG5ldyBzcGFycWxqc18xLkdlbmVyYXRvcihlKS5zdHJpbmdpZnkodG9TcGFycWxKcyh0KSl9c3BhcnFsLnRvU3BhcnFsPXRvU3BhcnFsO2Z1bmN0aW9uIHRvU3BhcnFsSnModCl7cmVzZXRDb250ZXh0KCksdD1yZW1vdmVRdWFkcyh0KTtsZXQgZT10cmFuc2xhdGVPcGVyYXRpb24odCk7cmV0dXJuIGUudHlwZT09PSJncm91cCI/ZS5wYXR0ZXJuc1swXTplfXNwYXJxbC50b1NwYXJxbEpzPXRvU3BhcnFsSnM7ZnVuY3Rpb24gcmVzZXRDb250ZXh0KCl7Y29udGV4dD17cHJvamVjdDohMSxleHRlbmQ6W10sZ3JvdXA6W10sYWdncmVnYXRlczpbXSxvcmRlcjpbXX19ZnVuY3Rpb24gdHJhbnNsYXRlT3BlcmF0aW9uKHQpe3N3aXRjaCh0LnR5cGUhPT10eXBlcy5FWFRFTkQmJnQudHlwZSE9PXR5cGVzLk9SREVSX0JZJiZ0LnR5cGUhPT10eXBlcy5HUkFQSCYmKGNvbnRleHQucHJvamVjdD0hMSksdC50eXBlKXtjYXNlIHR5cGVzLkVYUFJFU1NJT046cmV0dXJuIHRyYW5zbGF0ZUV4cHJlc3Npb24odCk7Y2FzZSB0eXBlcy5BU0s6cmV0dXJuIHRyYW5zbGF0ZVByb2plY3QodCx0eXBlcy5BU0spO2Nhc2UgdHlwZXMuQkdQOnJldHVybiB0cmFuc2xhdGVCZ3AodCk7Y2FzZSB0eXBlcy5DT05TVFJVQ1Q6cmV0dXJuIHRyYW5zbGF0ZUNvbnN0cnVjdCh0KTtjYXNlIHR5cGVzLkRFU0NSSUJFOnJldHVybiB0cmFuc2xhdGVQcm9qZWN0KHQsdHlwZXMuREVTQ1JJQkUpO2Nhc2UgdHlwZXMuRElTVElOQ1Q6cmV0dXJuIHRyYW5zbGF0ZURpc3RpbmN0KHQpO2Nhc2UgdHlwZXMuRVhURU5EOnJldHVybiB0cmFuc2xhdGVFeHRlbmQodCk7Y2FzZSB0eXBlcy5GUk9NOnJldHVybiB0cmFuc2xhdGVGcm9tKHQpO2Nhc2UgdHlwZXMuRklMVEVSOnJldHVybiB0cmFuc2xhdGVGaWx0ZXIodCk7Y2FzZSB0eXBlcy5HUkFQSDpyZXR1cm4gdHJhbnNsYXRlR3JhcGgodCk7Y2FzZSB0eXBlcy5HUk9VUDpyZXR1cm4gdHJhbnNsYXRlR3JvdXAodCk7Y2FzZSB0eXBlcy5KT0lOOnJldHVybiB0cmFuc2xhdGVKb2luKHQpO2Nhc2UgdHlwZXMuTEVGVF9KT0lOOnJldHVybiB0cmFuc2xhdGVMZWZ0Sm9pbih0KTtjYXNlIHR5cGVzLk1JTlVTOnJldHVybiB0cmFuc2xhdGVNaW51cyh0KTtjYXNlIHR5cGVzLk5PUDpyZXR1cm57fTtjYXNlIHR5cGVzLk9SREVSX0JZOnJldHVybiB0cmFuc2xhdGVPcmRlckJ5KHQpO2Nhc2UgdHlwZXMuUEFUSDpyZXR1cm4gdHJhbnNsYXRlUGF0aCh0KTtjYXNlIHR5cGVzLlBBVFRFUk46cmV0dXJuIHRyYW5zbGF0ZVBhdHRlcm4odCk7Y2FzZSB0eXBlcy5QUk9KRUNUOnJldHVybiB0cmFuc2xhdGVQcm9qZWN0KHQsdHlwZXMuUFJPSkVDVCk7Y2FzZSB0eXBlcy5SRURVQ0VEOnJldHVybiB0cmFuc2xhdGVSZWR1Y2VkKHQpO2Nhc2UgdHlwZXMuU0VSVklDRTpyZXR1cm4gdHJhbnNsYXRlU2VydmljZSh0KTtjYXNlIHR5cGVzLlNMSUNFOnJldHVybiB0cmFuc2xhdGVTbGljZSh0KTtjYXNlIHR5cGVzLlVOSU9OOnJldHVybiB0cmFuc2xhdGVVbmlvbih0KTtjYXNlIHR5cGVzLlZBTFVFUzpyZXR1cm4gdHJhbnNsYXRlVmFsdWVzKHQpO2Nhc2UgdHlwZXMuQ09NUE9TSVRFX1VQREFURTpyZXR1cm4gdHJhbnNsYXRlQ29tcG9zaXRlVXBkYXRlKHQpO2Nhc2UgdHlwZXMuREVMRVRFX0lOU0VSVDpyZXR1cm4gdHJhbnNsYXRlRGVsZXRlSW5zZXJ0KHQpO2Nhc2UgdHlwZXMuTE9BRDpyZXR1cm4gdHJhbnNsYXRlTG9hZCh0KTtjYXNlIHR5cGVzLkNMRUFSOnJldHVybiB0cmFuc2xhdGVDbGVhcih0KTtjYXNlIHR5cGVzLkNSRUFURTpyZXR1cm4gdHJhbnNsYXRlQ3JlYXRlKHQpO2Nhc2UgdHlwZXMuRFJPUDpyZXR1cm4gdHJhbnNsYXRlRHJvcCh0KTtjYXNlIHR5cGVzLkFERDpyZXR1cm4gdHJhbnNsYXRlQWRkKHQpO2Nhc2UgdHlwZXMuTU9WRTpyZXR1cm4gdHJhbnNsYXRlTW92ZSh0KTtjYXNlIHR5cGVzLkNPUFk6cmV0dXJuIHRyYW5zbGF0ZUNvcHkodCl9dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIE9wZXJhdGlvbiB0eXBlICR7dC50eXBlfWApfWZ1bmN0aW9uIHRyYW5zbGF0ZUV4cHJlc3Npb24odCl7c3dpdGNoKHQuZXhwcmVzc2lvblR5cGUpe2Nhc2UgZVR5cGVzLkFHR1JFR0FURTpyZXR1cm4gdHJhbnNsYXRlQWdncmVnYXRlRXhwcmVzc2lvbih0KTtjYXNlIGVUeXBlcy5FWElTVEVOQ0U6cmV0dXJuIHRyYW5zbGF0ZUV4aXN0ZW5jZUV4cHJlc3Npb24odCk7Y2FzZSBlVHlwZXMuTkFNRUQ6cmV0dXJuIHRyYW5zbGF0ZU5hbWVkRXhwcmVzc2lvbih0KTtjYXNlIGVUeXBlcy5PUEVSQVRPUjpyZXR1cm4gdHJhbnNsYXRlT3BlcmF0b3JFeHByZXNzaW9uKHQpO2Nhc2UgZVR5cGVzLlRFUk06cmV0dXJuIHRyYW5zbGF0ZVRlcm1FeHByZXNzaW9uKHQpO2Nhc2UgZVR5cGVzLldJTERDQVJEOnJldHVybiB0cmFuc2xhdGVXaWxkY2FyZEV4cHJlc3Npb24odCl9dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIEV4cHJlc3Npb24gT3BlcmF0aW9uIHR5cGUgJHt0LmV4cHJlc3Npb25UeXBlfWApfWZ1bmN0aW9uIHRyYW5zbGF0ZVBhdGhDb21wb25lbnQodCl7c3dpdGNoKHQudHlwZSl7Y2FzZSB0eXBlcy5BTFQ6cmV0dXJuIHRyYW5zbGF0ZUFsdCh0KTtjYXNlIHR5cGVzLklOVjpyZXR1cm4gdHJhbnNsYXRlSW52KHQpO2Nhc2UgdHlwZXMuTElOSzpyZXR1cm4gdHJhbnNsYXRlTGluayh0KTtjYXNlIHR5cGVzLk5QUzpyZXR1cm4gdHJhbnNsYXRlTnBzKHQpO2Nhc2UgdHlwZXMuT05FX09SX01PUkVfUEFUSDpyZXR1cm4gdHJhbnNsYXRlT25lT3JNb3JlUGF0aCh0KTtjYXNlIHR5cGVzLlNFUTpyZXR1cm4gdHJhbnNsYXRlU2VxKHQpO2Nhc2UgdHlwZXMuWkVST19PUl9NT1JFX1BBVEg6cmV0dXJuIHRyYW5zbGF0ZVplcm9Pck1vcmVQYXRoKHQpO2Nhc2UgdHlwZXMuWkVST19PUl9PTkVfUEFUSDpyZXR1cm4gdHJhbnNsYXRlWmVyb09yT25lUGF0aCh0KX10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gUGF0aCB0eXBlICR7dC50eXBlfWApfWZ1bmN0aW9uIHRyYW5zbGF0ZVRlcm0odCl7cmV0dXJuKDAscmRmX3N0cmluZ18xLnRlcm1Ub1N0cmluZykodCl9ZnVuY3Rpb24gdHJhbnNsYXRlQWdncmVnYXRlRXhwcmVzc2lvbih0KXtjb25zdCBlPXtleHByZXNzaW9uOnRyYW5zbGF0ZUV4cHJlc3Npb24odC5leHByZXNzaW9uKSx0eXBlOiJhZ2dyZWdhdGUiLGFnZ3JlZ2F0aW9uOnQuYWdncmVnYXRvcixkaXN0aW5jdDp0LmRpc3RpbmN0fTtyZXR1cm4gdC5zZXBhcmF0b3ImJihlLnNlcGFyYXRvcj10LnNlcGFyYXRvciksZX1mdW5jdGlvbiB0cmFuc2xhdGVFeGlzdGVuY2VFeHByZXNzaW9uKHQpe3JldHVybnt0eXBlOiJvcGVyYXRpb24iLG9wZXJhdG9yOnQubm90PyJub3RleGlzdHMiOiJleGlzdHMiLGFyZ3M6dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpXSl9fWZ1bmN0aW9uIHRyYW5zbGF0ZU5hbWVkRXhwcmVzc2lvbih0KXtyZXR1cm57dHlwZToiZnVuY3Rpb25DYWxsIixmdW5jdGlvbjp0Lm5hbWUsYXJnczp0LmFyZ3MubWFwKHRyYW5zbGF0ZUV4cHJlc3Npb24pfX1mdW5jdGlvbiB0cmFuc2xhdGVPcGVyYXRvckV4cHJlc3Npb24odCl7aWYodC5vcGVyYXRvcj09PSJkZXNjIil7Y29uc3Qgbj17ZXhwcmVzc2lvbjp0cmFuc2xhdGVFeHByZXNzaW9uKHQuYXJnc1swXSl9O3JldHVybiBuLmRlc2NlbmRpbmc9ITAsbn1jb25zdCBlPXt0eXBlOiJvcGVyYXRpb24iLG9wZXJhdG9yOnQub3BlcmF0b3IsYXJnczp0LmFyZ3MubWFwKHRyYW5zbGF0ZUV4cHJlc3Npb24pfTtyZXR1cm4oZS5vcGVyYXRvcj09PSJpbiJ8fGUub3BlcmF0b3I9PT0ibm90aW4iKSYmKGUuYXJncz1bZS5hcmdzWzBdXS5jb25jYXQoW2UuYXJncy5zbGljZSgxKV0pKSxlfWZ1bmN0aW9uIHRyYW5zbGF0ZVRlcm1FeHByZXNzaW9uKHQpe3JldHVybiB0LnRlcm19ZnVuY3Rpb24gdHJhbnNsYXRlV2lsZGNhcmRFeHByZXNzaW9uKHQpe3JldHVybiB0LndpbGRjYXJkfWZ1bmN0aW9uIHRyYW5zbGF0ZUJvdW5kQWdncmVnYXRlKHQpe3JldHVybiB0fWZ1bmN0aW9uIHRyYW5zbGF0ZUJncCh0KXtsZXQgZT10LnBhdHRlcm5zLm1hcCh0cmFuc2xhdGVQYXR0ZXJuKTtyZXR1cm4gZS5sZW5ndGg9PT0wP251bGw6e3R5cGU6ImJncCIsdHJpcGxlczplfX1mdW5jdGlvbiB0cmFuc2xhdGVDb25zdHJ1Y3QodCl7cmV0dXJue3R5cGU6InF1ZXJ5IixwcmVmaXhlczp7fSxxdWVyeVR5cGU6IkNPTlNUUlVDVCIsdGVtcGxhdGU6dC50ZW1wbGF0ZS5tYXAodHJhbnNsYXRlUGF0dGVybiksd2hlcmU6dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpXSl9fWZ1bmN0aW9uIHRyYW5zbGF0ZURpc3RpbmN0KHQpe2xldCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KTtyZXR1cm4gZS5wYXR0ZXJuc1swXS5kaXN0aW5jdD0hMCxlfWZ1bmN0aW9uIHRyYW5zbGF0ZUV4dGVuZCh0KXtyZXR1cm4gY29udGV4dC5wcm9qZWN0Pyhjb250ZXh0LmV4dGVuZC5wdXNoKHQpLHRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KSk6dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpLHt0eXBlOiJiaW5kIix2YXJpYWJsZTp0LnZhcmlhYmxlLGV4cHJlc3Npb246dHJhbnNsYXRlRXhwcmVzc2lvbih0LmV4cHJlc3Npb24pfV0pfWZ1bmN0aW9uIHRyYW5zbGF0ZUZyb20odCl7Y29uc3QgZT10cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCksbj1lLnBhdHRlcm5zWzBdO3JldHVybiBuLmZyb209e2RlZmF1bHQ6dC5kZWZhdWx0LG5hbWVkOnQubmFtZWR9LGV9ZnVuY3Rpb24gdHJhbnNsYXRlRmlsdGVyKHQpe3JldHVybnt0eXBlOiJncm91cCIscGF0dGVybnM6dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpLHt0eXBlOiJmaWx0ZXIiLGV4cHJlc3Npb246dHJhbnNsYXRlRXhwcmVzc2lvbih0LmV4cHJlc3Npb24pfV0pfX1mdW5jdGlvbiB0cmFuc2xhdGVHcmFwaCh0KXtyZXR1cm57dHlwZToiZ3JhcGgiLHBhdHRlcm5zOnV0aWxfMS5kZWZhdWx0LmZsYXR0ZW4oW3RyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KV0pLG5hbWU6dC5uYW1lfX1mdW5jdGlvbiB0cmFuc2xhdGVHcm91cCh0KXtjb25zdCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KSxuPXQuYWdncmVnYXRlcy5tYXAodHJhbnNsYXRlQm91bmRBZ2dyZWdhdGUpO3JldHVybiBjb250ZXh0LmFnZ3JlZ2F0ZXMucHVzaCguLi5uKSxjb250ZXh0Lmdyb3VwLnB1c2goLi4udC52YXJpYWJsZXMpLGV9ZnVuY3Rpb24gdHJhbnNsYXRlSm9pbih0KXtyZXR1cm4gdXRpbF8xLmRlZmF1bHQuZmxhdHRlbih0LmlucHV0Lm1hcCh0cmFuc2xhdGVPcGVyYXRpb24pKS5yZWR1Y2UoKG4sbyk9PihvLnR5cGUhPT0iYmdwInx8bi5sZW5ndGg9PTB8fG5bbi5sZW5ndGgtMV0udHlwZSE9PSJiZ3AiP24ucHVzaChvKTpuW24ubGVuZ3RoLTFdLnRyaXBsZXMucHVzaCguLi5vLnRyaXBsZXMpLG4pLFtdKX1mdW5jdGlvbiB0cmFuc2xhdGVMZWZ0Sm9pbih0KXtjb25zdCBlPXt0eXBlOiJvcHRpb25hbCIscGF0dGVybnM6W3RyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0WzFdKV19O3JldHVybiB0LmV4cHJlc3Npb24mJmUucGF0dGVybnMucHVzaCh7dHlwZToiZmlsdGVyIixleHByZXNzaW9uOnRyYW5zbGF0ZUV4cHJlc3Npb24odC5leHByZXNzaW9uKX0pLGUucGF0dGVybnM9dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihlLnBhdHRlcm5zKSx1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dFswXSksZV0pfWZ1bmN0aW9uIHRyYW5zbGF0ZU1pbnVzKHQpe2xldCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0WzFdKTtyZXR1cm4gZS50eXBlPT09Imdyb3VwIiYmKGU9ZS5wYXR0ZXJucyksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSx1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dFswXSkse3R5cGU6Im1pbnVzIixwYXR0ZXJuczplfV0pfWZ1bmN0aW9uIHRyYW5zbGF0ZU9yZGVyQnkodCl7cmV0dXJuIGNvbnRleHQub3JkZXIucHVzaCguLi50LmV4cHJlc3Npb25zKSx0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCl9ZnVuY3Rpb24gdHJhbnNsYXRlUGF0aCh0KXtyZXR1cm57dHlwZToiYmdwIix0cmlwbGVzOlt7c3ViamVjdDp0LnN1YmplY3QscHJlZGljYXRlOnRyYW5zbGF0ZVBhdGhDb21wb25lbnQodC5wcmVkaWNhdGUpLG9iamVjdDp0Lm9iamVjdH1dfX1mdW5jdGlvbiB0cmFuc2xhdGVQYXR0ZXJuKHQpe3JldHVybntzdWJqZWN0OnQuc3ViamVjdCxwcmVkaWNhdGU6dC5wcmVkaWNhdGUsb2JqZWN0OnQub2JqZWN0fX1mdW5jdGlvbiByZXBsYWNlQWdncmVnYXRvclZhcmlhYmxlcyh0LGUpe2xldCBuPXV0aWxfMS5kZWZhdWx0LmlzU2ltcGxlVGVybSh0KT90cmFuc2xhdGVUZXJtKHQpOnQ7aWYodHlwZW9mIG49PSJzdHJpbmciKXtpZihlW25dKXJldHVybiBlW25dfWVsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSl0PXQubWFwKG89PnJlcGxhY2VBZ2dyZWdhdG9yVmFyaWFibGVzKG8sZSkpO2Vsc2UgZm9yKGxldCBvIG9mIE9iamVjdC5rZXlzKHQpKXRbb109cmVwbGFjZUFnZ3JlZ2F0b3JWYXJpYWJsZXModFtvXSxlKTtyZXR1cm4gdH1mdW5jdGlvbiB0cmFuc2xhdGVQcm9qZWN0KHQsZSl7Y29uc3Qgbj17dHlwZToicXVlcnkiLHByZWZpeGVzOnt9fSxvPW47bGV0IGQ7ZT09PXR5cGVzLlBST0pFQ1Q/KG4ucXVlcnlUeXBlPSJTRUxFQ1QiLGQ9dC52YXJpYWJsZXMpOmU9PT10eXBlcy5BU0s/bi5xdWVyeVR5cGU9IkFTSyI6ZT09PXR5cGVzLkRFU0NSSUJFJiYobi5xdWVyeVR5cGU9IkRFU0NSSUJFIixkPXQudGVybXMpO2NvbnN0IGg9Y29udGV4dC5leHRlbmQsbD1jb250ZXh0Lmdyb3VwLHU9Y29udGV4dC5hZ2dyZWdhdGVzLHA9Y29udGV4dC5vcmRlcjtyZXNldENvbnRleHQoKSxjb250ZXh0LnByb2plY3Q9ITA7bGV0IGc9dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpXSk7Zy5sZW5ndGg9PT0xJiZnWzBdLnR5cGU9PT0iZ3JvdXAiJiYoZz1nWzBdLnBhdHRlcm5zKSxuLndoZXJlPWc7bGV0IHY9e307Zm9yKGxldCBfIG9mIGNvbnRleHQuYWdncmVnYXRlcyl2W3RyYW5zbGF0ZVRlcm0oXy52YXJpYWJsZSldPXRyYW5zbGF0ZUV4cHJlc3Npb24oXyk7bGV0IGI9e307Zm9yKGxldCBfPWNvbnRleHQuZXh0ZW5kLmxlbmd0aC0xO18+PTA7LS1fKXtsZXQgTz1jb250ZXh0LmV4dGVuZFtfXTtiW3RyYW5zbGF0ZVRlcm0oTy52YXJpYWJsZSldPXJlcGxhY2VBZ2dyZWdhdG9yVmFyaWFibGVzKHRyYW5zbGF0ZUV4cHJlc3Npb24oTy5leHByZXNzaW9uKSx2KX1pZihjb250ZXh0Lmdyb3VwLmxlbmd0aD4wJiYoby5ncm91cD1jb250ZXh0Lmdyb3VwLm1hcChfPT57bGV0IE89dHJhbnNsYXRlVGVybShfKTtpZihiW09dKXtsZXQgVD1iW09dO3JldHVybiBkZWxldGUgYltPXSx7dmFyaWFibGU6XyxleHByZXNzaW9uOlR9fXJldHVybntleHByZXNzaW9uOl99fSkpLGNvbnRleHQub3JkZXIubGVuZ3RoPjAmJihvLm9yZGVyPWNvbnRleHQub3JkZXIubWFwKHRyYW5zbGF0ZU9wZXJhdGlvbikubWFwKF89Pl8uZGVzY2VuZGluZz9fOntleHByZXNzaW9uOl99KSksZCYmKG8udmFyaWFibGVzPWQubWFwKF89PntsZXQgTz10cmFuc2xhdGVUZXJtKF8pO3JldHVybiBiW09dP3t2YXJpYWJsZTpfLGV4cHJlc3Npb246YltPXX06X30pLG8udmFyaWFibGVzLmxlbmd0aD09PTAmJihvLnZhcmlhYmxlcz1bbmV3IHNwYXJxbGpzXzEuV2lsZGNhcmRdKSksbi53aGVyZS5sZW5ndGg+MCYmbi53aGVyZVtuLndoZXJlLmxlbmd0aC0xXS50eXBlPT09ImZpbHRlciIpe2NvbnN0IF89bi53aGVyZVtuLndoZXJlLmxlbmd0aC0xXTtvYmplY3RDb250YWluc1ZhbHVlcyhfLE9iamVjdC5rZXlzKHYpKSYmKG8uaGF2aW5nPXV0aWxfMS5kZWZhdWx0LmZsYXR0ZW4oW3JlcGxhY2VBZ2dyZWdhdG9yVmFyaWFibGVzKF8uZXhwcmVzc2lvbix2KV0pLG4ud2hlcmUuc3BsaWNlKC0xKSl9cmV0dXJuIGNvbnRleHQuZXh0ZW5kPWgsY29udGV4dC5ncm91cD1sLGNvbnRleHQuYWdncmVnYXRlcz11LGNvbnRleHQub3JkZXI9cCx7dHlwZToiZ3JvdXAiLHBhdHRlcm5zOltvXX19ZnVuY3Rpb24gb2JqZWN0Q29udGFpbnNWYWx1ZXModCxlKXtyZXR1cm4gdXRpbF8xLmRlZmF1bHQuaXNTaW1wbGVUZXJtKHQpP2UuaW5kZXhPZih0cmFuc2xhdGVUZXJtKHQpKT49MDpBcnJheS5pc0FycmF5KHQpP3Quc29tZShuPT5vYmplY3RDb250YWluc1ZhbHVlcyhuLGUpKTp0PT09T2JqZWN0KHQpP09iamVjdC5rZXlzKHQpLnNvbWUobj0+b2JqZWN0Q29udGFpbnNWYWx1ZXModFtuXSxlKSk6ZS5pbmRleE9mKHQpPj0wfWZ1bmN0aW9uIHRyYW5zbGF0ZVJlZHVjZWQodCl7bGV0IGU9dHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpO3JldHVybiBlLnBhdHRlcm5zWzBdLnJlZHVjZWQ9ITAsZX1mdW5jdGlvbiB0cmFuc2xhdGVTZXJ2aWNlKHQpe2xldCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KTtyZXR1cm4gZS50eXBlPT09Imdyb3VwIiYmKGU9ZS5wYXR0ZXJucyksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSx7dHlwZToic2VydmljZSIsbmFtZTp0Lm5hbWUsc2lsZW50OnQuc2lsZW50LHBhdHRlcm5zOmV9fWZ1bmN0aW9uIHRyYW5zbGF0ZVNsaWNlKHQpe2xldCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KSxuPWU7cmV0dXJuIGUudHlwZSYmZS50eXBlPT09Imdyb3VwIiYmKG49ZS5wYXR0ZXJuc1swXSksdC5zdGFydCE9PTAmJihuLm9mZnNldD10LnN0YXJ0KSx0Lmxlbmd0aCE9PXZvaWQgMCYmKG4ubGltaXQ9dC5sZW5ndGgpLGV9ZnVuY3Rpb24gdHJhbnNsYXRlVW5pb24odCl7cmV0dXJue3R5cGU6InVuaW9uIixwYXR0ZXJuczp1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKHQuaW5wdXQubWFwKHRyYW5zbGF0ZU9wZXJhdGlvbikpfX1mdW5jdGlvbiB0cmFuc2xhdGVWYWx1ZXModCl7cmV0dXJue3R5cGU6InZhbHVlcyIsdmFsdWVzOnQuYmluZGluZ3MubWFwKGU9PntsZXQgbj17fTtmb3IobGV0IG8gb2YgdC52YXJpYWJsZXMpe2xldCBkPWA/JHtvLnZhbHVlfWA7ZVtkXT9uW2RdPWVbZF06bltkXT12b2lkIDB9cmV0dXJuIG59KX19ZnVuY3Rpb24gdHJhbnNsYXRlQWx0KHQpe2NvbnN0IGU9dC5pbnB1dC5tYXAodHJhbnNsYXRlUGF0aENvbXBvbmVudCk7cmV0dXJuIGUuZXZlcnkobj0+InBhdGhUeXBlImluIG4mJm4ucGF0aFR5cGU9PT0iISIpP3t0eXBlOiJwYXRoIixwYXRoVHlwZToiISIsaXRlbXM6W3t0eXBlOiJwYXRoIixwYXRoVHlwZToifCIsaXRlbXM6dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihlLm1hcChuPT5uLml0ZW1zKSl9XX06e3R5cGU6InBhdGgiLHBhdGhUeXBlOiJ8IixpdGVtczplfX1mdW5jdGlvbiB0cmFuc2xhdGVJbnYodCl7aWYodC5wYXRoLnR5cGU9PT10eXBlcy5OUFMpe2NvbnN0IGU9dC5wYXRoLmlyaXMubWFwKG49Pih7dHlwZToicGF0aCIscGF0aFR5cGU6Il4iLGl0ZW1zOltuXX0pKTtyZXR1cm4gZS5sZW5ndGg8PTE/e3R5cGU6InBhdGgiLHBhdGhUeXBlOiIhIixpdGVtczplfTp7dHlwZToicGF0aCIscGF0aFR5cGU6IiEiLGl0ZW1zOlt7dHlwZToicGF0aCIscGF0aFR5cGU6InwiLGl0ZW1zOmV9XX19cmV0dXJue3R5cGU6InBhdGgiLHBhdGhUeXBlOiJeIixpdGVtczpbdHJhbnNsYXRlUGF0aENvbXBvbmVudCh0LnBhdGgpXX19ZnVuY3Rpb24gdHJhbnNsYXRlTGluayh0KXtyZXR1cm4gdC5pcml9ZnVuY3Rpb24gdHJhbnNsYXRlTnBzKHQpe3JldHVybiB0LmlyaXMubGVuZ3RoPD0xP3t0eXBlOiJwYXRoIixwYXRoVHlwZToiISIsaXRlbXM6dC5pcmlzfTp7dHlwZToicGF0aCIscGF0aFR5cGU6IiEiLGl0ZW1zOlt7dHlwZToicGF0aCIscGF0aFR5cGU6InwiLGl0ZW1zOnQuaXJpc31dfX1mdW5jdGlvbiB0cmFuc2xhdGVPbmVPck1vcmVQYXRoKHQpe3JldHVybnt0eXBlOiJwYXRoIixwYXRoVHlwZToiKyIsaXRlbXM6W3RyYW5zbGF0ZVBhdGhDb21wb25lbnQodC5wYXRoKV19fWZ1bmN0aW9uIHRyYW5zbGF0ZVNlcSh0KXtyZXR1cm57dHlwZToicGF0aCIscGF0aFR5cGU6Ii8iLGl0ZW1zOnQuaW5wdXQubWFwKHRyYW5zbGF0ZVBhdGhDb21wb25lbnQpfX1mdW5jdGlvbiB0cmFuc2xhdGVaZXJvT3JNb3JlUGF0aCh0KXtyZXR1cm57dHlwZToicGF0aCIscGF0aFR5cGU6IioiLGl0ZW1zOlt0cmFuc2xhdGVQYXRoQ29tcG9uZW50KHQucGF0aCldfX1mdW5jdGlvbiB0cmFuc2xhdGVaZXJvT3JPbmVQYXRoKHQpe3JldHVybnt0eXBlOiJwYXRoIixwYXRoVHlwZToiPyIsaXRlbXM6W3RyYW5zbGF0ZVBhdGhDb21wb25lbnQodC5wYXRoKV19fWZ1bmN0aW9uIHRyYW5zbGF0ZUNvbXBvc2l0ZVVwZGF0ZSh0KXtjb25zdCBlPXQudXBkYXRlcy5tYXAobj0+dHJhbnNsYXRlT3BlcmF0aW9uKG4pLnVwZGF0ZXNbMF0pO3JldHVybntwcmVmaXhlczp7fSx0eXBlOiJ1cGRhdGUiLHVwZGF0ZXM6ZX19ZnVuY3Rpb24gdHJhbnNsYXRlRGVsZXRlSW5zZXJ0KHQpe3ZhciBlO2xldCBuPXQud2hlcmUsbztpZihuJiZuLnR5cGU9PT10eXBlcy5GUk9NKXtsZXQgaD1uO249aC5pbnB1dCxvPXtkZWZhdWx0OmguZGVmYXVsdCxuYW1lZDpoLm5hbWVkfX1jb25zdCBkPVt7dXBkYXRlVHlwZToiaW5zZXJ0ZGVsZXRlIixkZWxldGU6Y29udmVydFVwZGF0ZVBhdHRlcm5zKHQuZGVsZXRlfHxbXSksaW5zZXJ0OmNvbnZlcnRVcGRhdGVQYXR0ZXJucyh0Lmluc2VydHx8W10pfV07aWYobyYmKGRbMF0udXNpbmc9byksIW58fG4udHlwZT09PXR5cGVzLkJHUCYmbi5wYXR0ZXJucy5sZW5ndGg9PT0wKWRbMF0ud2hlcmU9W107ZWxzZXtjb25zdCBoPXt9O2xldCBsPXRyYW5zbGF0ZU9wZXJhdGlvbihyZW1vdmVRdWFkc1JlY3Vyc2l2ZShuLGgpKTtsLnR5cGU9PT0iZ3JvdXAiP2RbMF0ud2hlcmU9bC5wYXR0ZXJuczpkWzBdLndoZXJlPVtsXTtjb25zdCB1PU9iamVjdC5rZXlzKGgpO2lmKHUubGVuZ3RoPjApe2lmKHUubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlRoaXMgaXMgdW5leHBlY3RlZCBhbmQgbWlnaHQgaW5kaWNhdGUgYW4gZXJyb3IgaW4gZ3JhcGggaGFuZGxpbmcgZm9yIHVwZGF0ZXMuIik7Y29uc3QgcD0oZT1oW3VbMF1dKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ3JhcGg7cCYmcC52YWx1ZSE9PSIiJiYoZFswXS53aGVyZT1be3R5cGU6ImdyYXBoIixwYXR0ZXJuczpkWzBdLndoZXJlLG5hbWU6cH1dKX19cmV0dXJuIXQuZGVsZXRlJiYhdC53aGVyZT8oZFswXS51cGRhdGVUeXBlPSJpbnNlcnQiLGRlbGV0ZSBkWzBdLmRlbGV0ZSxkZWxldGUgZFswXS53aGVyZSk6IXQuaW5zZXJ0JiYhdC53aGVyZT8oZGVsZXRlIGRbMF0uaW5zZXJ0LGRlbGV0ZSBkWzBdLndoZXJlLHQuZGVsZXRlLnNvbWUoaD0+aC5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlInx8aC5wcmVkaWNhdGUudGVybVR5cGU9PT0iVmFyaWFibGUifHxoLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIpP2RbMF0udXBkYXRlVHlwZT0iZGVsZXRld2hlcmUiOmRbMF0udXBkYXRlVHlwZT0iZGVsZXRlIik6IXQuaW5zZXJ0JiZ0LndoZXJlJiZ0LndoZXJlLnR5cGU9PT0iYmdwIiYmKDAscmRmX2lzb21vcnBoaWNfMS5pc29tb3JwaGljKSh0LmRlbGV0ZSx0LndoZXJlLnBhdHRlcm5zKSYmKGRlbGV0ZSBkWzBdLndoZXJlLGRbMF0udXBkYXRlVHlwZT0iZGVsZXRld2hlcmUiKSx7cHJlZml4ZXM6e30sdHlwZToidXBkYXRlIix1cGRhdGVzOmR9fWZ1bmN0aW9uIHRyYW5zbGF0ZUxvYWQodCl7Y29uc3QgZT1be3R5cGU6ImxvYWQiLHNpbGVudDohIXQuc2lsZW50LHNvdXJjZTp0LnNvdXJjZX1dO3JldHVybiB0LmRlc3RpbmF0aW9uJiYoZVswXS5kZXN0aW5hdGlvbj10LmRlc3RpbmF0aW9uKSx7cHJlZml4ZXM6e30sdHlwZToidXBkYXRlIix1cGRhdGVzOmV9fWZ1bmN0aW9uIHRyYW5zbGF0ZUNsZWFyKHQpe3JldHVybiB0cmFuc2xhdGVDbGVhckNyZWF0ZURyb3AodCwiY2xlYXIiKX1mdW5jdGlvbiB0cmFuc2xhdGVDcmVhdGUodCl7cmV0dXJuIHRyYW5zbGF0ZUNsZWFyQ3JlYXRlRHJvcCh0LCJjcmVhdGUiKX1mdW5jdGlvbiB0cmFuc2xhdGVEcm9wKHQpe3JldHVybiB0cmFuc2xhdGVDbGVhckNyZWF0ZURyb3AodCwiZHJvcCIpfWZ1bmN0aW9uIHRyYW5zbGF0ZUNsZWFyQ3JlYXRlRHJvcCh0LGUpe2NvbnN0IG49W3t0eXBlOmUsc2lsZW50OiEhdC5zaWxlbnR9XTtyZXR1cm4gdC5zb3VyY2U9PT0iREVGQVVMVCI/blswXS5ncmFwaD17ZGVmYXVsdDohMH06dC5zb3VyY2U9PT0iTkFNRUQiP25bMF0uZ3JhcGg9e25hbWVkOiEwfTp0LnNvdXJjZT09PSJBTEwiP25bMF0uZ3JhcGg9e2FsbDohMH06blswXS5ncmFwaD17dHlwZToiZ3JhcGgiLG5hbWU6dC5zb3VyY2V9LHtwcmVmaXhlczp7fSx0eXBlOiJ1cGRhdGUiLHVwZGF0ZXM6bn19ZnVuY3Rpb24gdHJhbnNsYXRlQWRkKHQpe3JldHVybiB0cmFuc2xhdGVVcGRhdGVHcmFwaFNob3J0Y3V0KHQsImFkZCIpfWZ1bmN0aW9uIHRyYW5zbGF0ZU1vdmUodCl7cmV0dXJuIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoU2hvcnRjdXQodCwibW92ZSIpfWZ1bmN0aW9uIHRyYW5zbGF0ZUNvcHkodCl7cmV0dXJuIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoU2hvcnRjdXQodCwiY29weSIpfWZ1bmN0aW9uIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoU2hvcnRjdXQodCxlKXtjb25zdCBuPVt7dHlwZTplLHNpbGVudDohIXQuc2lsZW50fV07cmV0dXJuIG5bMF0uc291cmNlPXQuc291cmNlPT09IkRFRkFVTFQiP3t0eXBlOiJncmFwaCIsZGVmYXVsdDohMH06e3R5cGU6ImdyYXBoIixuYW1lOnQuc291cmNlfSxuWzBdLmRlc3RpbmF0aW9uPXQuZGVzdGluYXRpb249PT0iREVGQVVMVCI/e3R5cGU6ImdyYXBoIixkZWZhdWx0OiEwfTp7dHlwZToiZ3JhcGgiLG5hbWU6dC5kZXN0aW5hdGlvbn0se3ByZWZpeGVzOnt9LHR5cGU6InVwZGF0ZSIsdXBkYXRlczpufX1mdW5jdGlvbiBjb252ZXJ0VXBkYXRlUGF0dGVybnModCl7aWYoIXQpcmV0dXJuW107Y29uc3QgZT17fTtyZXR1cm4gdC5mb3JFYWNoKG49Pntjb25zdCBvPW4uZ3JhcGgudmFsdWU7ZVtvXXx8KGVbb109W10pLGVbb10ucHVzaChuKX0pLE9iamVjdC5rZXlzKGUpLm1hcChuPT5uPT09IiI/e3R5cGU6ImJncCIsdHJpcGxlczplW25dLm1hcCh0cmFuc2xhdGVQYXR0ZXJuKX06e3R5cGU6ImdyYXBoIix0cmlwbGVzOmVbbl0ubWFwKHRyYW5zbGF0ZVBhdHRlcm4pLG5hbWU6ZVtuXVswXS5ncmFwaH0pfWZ1bmN0aW9uIHJlbW92ZVF1YWRzKHQpe3JldHVybiByZW1vdmVRdWFkc1JlY3Vyc2l2ZSh0LHt9KX1mdW5jdGlvbiByZW1vdmVRdWFkc1JlY3Vyc2l2ZSh0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKGw9PnJlbW92ZVF1YWRzUmVjdXJzaXZlKGwsZSkpO2lmKCF0LnR5cGV8fHQudHlwZT09PXR5cGVzLkRFTEVURV9JTlNFUlQpcmV0dXJuIHQ7aWYoKHQudHlwZT09PXR5cGVzLlBBVFRFUk58fHQudHlwZT09PXR5cGVzLlBBVEgpJiZ0LmdyYXBoKXJldHVybiBlW3QuZ3JhcGgudmFsdWVdfHwoZVt0LmdyYXBoLnZhbHVlXT17Z3JhcGg6dC5ncmFwaCx2YWx1ZXM6W119KSxlW3QuZ3JhcGgudmFsdWVdLnZhbHVlcy5wdXNoKHQpLHQ7Y29uc3Qgbj17fSxvPXt9LGQ9e307Zm9yKGxldCBsIG9mIE9iamVjdC5rZXlzKHQpKXtjb25zdCB1PXt9O25bbF09cmVtb3ZlUXVhZHNSZWN1cnNpdmUodFtsXSx1KTtjb25zdCBwPU9iamVjdC5rZXlzKHUpO2lmKHAubGVuZ3RoPjEpe2xldCBnPXBvdGVudGlhbEdyYXBoRnJvbVBhdHRlcm5zKHVbcFswXV0udmFsdWVzKTtmb3IobGV0IHY9MTt2PHAubGVuZ3RoOysrdil7Y29uc3QgYj1wb3RlbnRpYWxHcmFwaEZyb21QYXR0ZXJucyh1W3Bbdl1dLnZhbHVlcyk7Zz1mYWN0b3J5LmNyZWF0ZUpvaW4oW2csYl0pfXJldHVybiBwLm1hcCh2PT5kZWxldGUgdVt2XSksZ31lbHNlIGlmKHAubGVuZ3RoPT09MSl7Y29uc3QgZz11W3BbMF1dLmdyYXBoO29bbF09ZyxkW2cudmFsdWVdPWd9fWNvbnN0IGg9T2JqZWN0LmtleXMoZCk7aWYoaC5sZW5ndGg+MClpZihoLmxlbmd0aD09PTEmJnQudHlwZSE9PXR5cGVzLlBST0pFQ1QpZVtoWzBdXT17Z3JhcGg6ZFtoWzBdXSx2YWx1ZXM6W25dfTtlbHNlIGZvcihsZXQgbCBvZiBPYmplY3Qua2V5cyhvKSlvW2xdLnZhbHVlLmxlbmd0aD4wJiYobltsXT1mYWN0b3J5LmNyZWF0ZUdyYXBoKG5bbF0sb1tsXSkpO3JldHVybiBufWZ1bmN0aW9uIHBvdGVudGlhbEdyYXBoRnJvbVBhdHRlcm5zKHQpe2NvbnN0IGU9ZmFjdG9yeS5jcmVhdGVCZ3AodCksbj10WzBdLmdyYXBoO3JldHVybiBuLnZhbHVlLmxlbmd0aD09PTA/ZTpmYWN0b3J5LmNyZWF0ZUdyYXBoKGUsbil9KGZ1bmN0aW9uKHQpe3ZhciBlPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHYsYixfLE8pe089PT12b2lkIDAmJihPPV8pO3ZhciBUPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixfKTsoIVR8fCgiZ2V0ImluIFQ/IWIuX19lc01vZHVsZTpULndyaXRhYmxlfHxULmNvbmZpZ3VyYWJsZSkpJiYoVD17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYltfXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodixPLFQpfTpmdW5jdGlvbih2LGIsXyxPKXtPPT09dm9pZCAwJiYoTz1fKSx2W09dPWJbX119KSxuPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX3NldE1vZHVsZURlZmF1bHR8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHYsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHYsImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmJ9KX06ZnVuY3Rpb24odixiKXt2LmRlZmF1bHQ9Yn0pLG89Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9faW1wb3J0U3Rhcnx8ZnVuY3Rpb24odil7aWYodiYmdi5fX2VzTW9kdWxlKXJldHVybiB2O3ZhciBiPXt9O2lmKHYhPW51bGwpZm9yKHZhciBfIGluIHYpXyE9PSJkZWZhdWx0IiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHYsXykmJmUoYix2LF8pO3JldHVybiBuKGIsdiksYn0sZD1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbih2KXtyZXR1cm4gdiYmdi5fX2VzTW9kdWxlP3Y6e2RlZmF1bHQ6dn19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LlV0aWw9dC50b1NwYXJxbEpzPXQudG9TcGFycWw9dC5GYWN0b3J5PXQuQWxnZWJyYT10LnRyYW5zbGF0ZT12b2lkIDA7Y29uc3QgaD1kKHNwYXJxbEFsZ2VicmEpO3QudHJhbnNsYXRlPWguZGVmYXVsdDtjb25zdCBsPW8oYWxnZWJyYSk7dC5BbGdlYnJhPWw7Y29uc3QgdT1kKGZhY3RvcnkkMik7dC5GYWN0b3J5PXUuZGVmYXVsdDtjb25zdCBwPXNwYXJxbDtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwidG9TcGFycWwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLnRvU3BhcnFsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0b1NwYXJxbEpzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcC50b1NwYXJxbEpzfX0pO2NvbnN0IGc9ZCh1dGlsKTt0LlV0aWw9Zy5kZWZhdWx0fSkoc3BhcnFsYWxnZWJyYWpzKTt2YXIgaW5kZXgkMT1nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhzcGFycWxhbGdlYnJhanMpLF9fUVVBRFNUT1JFX0NPTVVOSUNBX0VYVEVSTkFMX01PRFVMRV9zcGFycWxhbGdlYnJhanNfXz1fbWVyZ2VOYW1lc3BhY2VzKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OmluZGV4JDF9LFtzcGFycWxhbGdlYnJhanNdKSxfX3F1YWRzdG9yZV9jb211bmljYV9tb2R1bGVzX189eyIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL0FjdG9yQWJzdHJhY3RQYXRoLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JBYnN0cmFjdFBhdGg9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksbD1uKCJhc3luY2l0ZXJhdG9yIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKSxnPW4oInNwYXJxbGFsZ2VicmFqcyIpLHY9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9QYXRoVmFyaWFibGVPYmplY3RJdGVyYXRvci5qcyIpLGI9bmV3IHUuRGF0YUZhY3RvcnksXz1uZXcgby5CaW5kaW5nc0ZhY3Rvcnk7Y2xhc3MgTyBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IoaixOKXtzdXBlcihqLCJwYXRoIiksdGhpcy5wcmVkaWNhdGVUeXBlPU59YXN5bmMgdGVzdE9wZXJhdGlvbihqLE4pe2lmKGoucHJlZGljYXRlLnR5cGUhPT10aGlzLnByZWRpY2F0ZVR5cGUpdGhyb3cgbmV3IEVycm9yKGBUaGlzIEFjdG9yIG9ubHkgc3VwcG9ydHMgJHt0aGlzLnByZWRpY2F0ZVR5cGV9IFBhdGggb3BlcmF0aW9ucy5gKTtyZXR1cm4hMH1nZW5lcmF0ZVZhcmlhYmxlKGosTil7cmV0dXJuIE4/aiYmKGouc3ViamVjdC52YWx1ZT09PU58fGoub2JqZWN0LnZhbHVlPT09Tik/dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKGosYCR7Tn1iYCk6Yi52YXJpYWJsZShOKTp0aGlzLmdlbmVyYXRlVmFyaWFibGUoaiwiYiIpfWFzeW5jIGlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0KGosTil7cmV0dXJuIGouZ2V0KGguS2V5c1F1ZXJ5T3BlcmF0aW9uLmlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0S2V5KT8oaj1qLnNldChoLktleXNRdWVyeU9wZXJhdGlvbi5pc1BhdGhBcmJpdHJhcnlMZW5ndGhEaXN0aW5jdEtleSwhMSkse2NvbnRleHQ6aixvcGVyYXRpb246dm9pZCAwfSk6KGo9ai5zZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24uaXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3RLZXksITApLHtjb250ZXh0Omosb3BlcmF0aW9uOmQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpPLkZBQ1RPUlkuY3JlYXRlRGlzdGluY3QoTiksY29udGV4dDpqfSkpfSl9YXN5bmMgcHJlZGljYXRlU3RhckdyYXBoVmFyaWFibGUoaixOLEIsQyxMKXtjb25zdCBTPXRoaXMuZ2VuZXJhdGVWYXJpYWJsZShPLkZBQ1RPUlkuY3JlYXRlUGF0aChqLEIsTixDKSksUD1PLkZBQ1RPUlkuY3JlYXRlVW5pb24oW08uRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKGosUyxOLEMpLE8uRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKE4sUyxqLEMpXSksRj1kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0Okwsb3BlcmF0aW9uOlB9KSksaz1uZXcgU2V0O3JldHVybntiaW5kaW5nc1N0cmVhbTpuZXcgbC5NdWx0aVRyYW5zZm9ybUl0ZXJhdG9yKEYuYmluZGluZ3NTdHJlYW0se211bHRpVHJhbnNmb3JtOmFlPT57Y29uc3QgcT1hZS5nZXQoQyk7cmV0dXJuIGsuaGFzKHEudmFsdWUpP25ldyBsLkVtcHR5SXRlcmF0b3I6KGsuYWRkKHEudmFsdWUpLG5ldyBsLlRyYW5zZm9ybUl0ZXJhdG9yKGFzeW5jKCk9Pntjb25zdCBHPW5ldyBsLkJ1ZmZlcmVkSXRlcmF0b3I7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0T2JqZWN0c1ByZWRpY2F0ZVN0YXIoaixCLHEsTCx7fSxHLHtjb3VudDowfSksRy50cmFuc2Zvcm0oe3RyYW5zZm9ybShyZSxNLCQpeyQoXy5iaW5kaW5ncyhbW04scmVdLFtDLHFdXSkpLE0oKX19KX0se21heEJ1ZmZlclNpemU6MTI4fSkpfSxhdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTpGLm1ldGFkYXRhfX1hc3luYyBnZXRPYmplY3RzUHJlZGljYXRlU3RhckV2YWwoaixOLEIsQyxMLFMpe2lmKEMudGVybVR5cGU9PT0iVmFyaWFibGUiKXJldHVybiB0aGlzLnByZWRpY2F0ZVN0YXJHcmFwaFZhcmlhYmxlKGosQixOLEMsTCk7Y29uc3QgUD1uZXcgdi5QYXRoVmFyaWFibGVPYmplY3RJdGVyYXRvcihqLE4sQyxMLHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbixTKTtyZXR1cm57YmluZGluZ3NTdHJlYW06UC50cmFuc2Zvcm0oe2F1dG9TdGFydDohMSx0cmFuc2Zvcm0oayxKLGFlKXthZShfLmJpbmRpbmdzKFtbQixrXV0pKSxKKCl9fSksbWV0YWRhdGE6KCk9Pm5ldyBQcm9taXNlKGs9PlAuZ2V0UHJvcGVydHkoIm1ldGFkYXRhIixKPT5rKEooKSkpKX19YXN5bmMgZ2V0T2JqZWN0c1ByZWRpY2F0ZVN0YXIoaixOLEIsQyxMLFMsUCl7Y29uc3QgRj0oMCxwLnRlcm1Ub1N0cmluZykoaik7aWYoTFtGXSlyZXR1cm47Uy5fcHVzaChqKSxMW0ZdPWosUC5jb3VudCsrO2NvbnN0IGs9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKCksSj1PLkZBQ1RPUlkuY3JlYXRlUGF0aChqLE4sayxCKSxhZT1kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Sixjb250ZXh0OkN9KSk7cmV0dXJuIGFlLmJpbmRpbmdzU3RyZWFtLm9uKCJkYXRhIixhc3luYyBxPT57Y29uc3QgRz1xLmdldChrKTthd2FpdCB0aGlzLmdldE9iamVjdHNQcmVkaWNhdGVTdGFyKEcsTixCLEMsTCxTLFApfSksYWUuYmluZGluZ3NTdHJlYW0ub24oImVuZCIsKCk9PnstLVAuY291bnQ9PT0wJiZTLmNsb3NlKCl9KSxhZS5tZXRhZGF0YX1hc3luYyBnZXRTdWJqZWN0QW5kT2JqZWN0QmluZGluZ3NQcmVkaWNhdGVTdGFyKGosTixCLEMsTCxTLFAsRixrLEosYWUpe2NvbnN0IHE9KDAscC50ZXJtVG9TdHJpbmcpKEMpKygwLHAudGVybVRvU3RyaW5nKShTKTtpZihrW3FdKXJldHVybjtpZihhZS5jb3VudCsrLGtbcV09ITAsSi5fcHVzaChfLmJpbmRpbmdzKFtbaixCXSxbTixDXV0pKSxxIGluIEYpe2NvbnN0IHJlPWF3YWl0IEZbcV07Zm9yKGNvbnN0IE0gb2YgcmUpYXdhaXQgdGhpcy5nZXRTdWJqZWN0QW5kT2JqZWN0QmluZGluZ3NQcmVkaWNhdGVTdGFyKGosTixCLE0sTCxTLFAsRixrLEosYWUpOy0tYWUuY291bnQ9PT0wJiZKLmNsb3NlKCk7cmV0dXJufWNvbnN0IEc9bmV3IFByb21pc2UoYXN5bmMocmUsTSk9Pntjb25zdCAkPVtdLFU9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKCksSD1PLkZBQ1RPUlkuY3JlYXRlUGF0aChDLEwsVSxTKSxlZT1kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246SCxjb250ZXh0OlB9KSk7ZWUuYmluZGluZ3NTdHJlYW0ub24oImRhdGEiLGFzeW5jIGdlPT57Y29uc3QgbWU9Z2UuZ2V0KFUpOyQucHVzaChtZSksYXdhaXQgdGhpcy5nZXRTdWJqZWN0QW5kT2JqZWN0QmluZGluZ3NQcmVkaWNhdGVTdGFyKGosTixCLG1lLEwsUyxQLEYsayxKLGFlKX0pLGVlLmJpbmRpbmdzU3RyZWFtLm9uKCJlcnJvciIsTSksZWUuYmluZGluZ3NTdHJlYW0ub24oImVuZCIsKCk9PnstLWFlLmNvdW50PT09MCYmSi5jbG9zZSgpLHJlKCQpfSl9KTtGW3FdPUd9fWUuQWN0b3JBYnN0cmFjdFBhdGg9TyxPLkZBQ1RPUlk9bmV3IGcuRmFjdG9yeX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvUGF0aFZhcmlhYmxlT2JqZWN0SXRlcmF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5QYXRoVmFyaWFibGVPYmplY3RJdGVyYXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJhc3luY2l0ZXJhdG9yIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKSx1PW4oInNwYXJxbGFsZ2VicmFqcyIpLHA9bmV3IGguRGF0YUZhY3RvcnksZz1uZXcgdS5GYWN0b3J5O2NsYXNzIHYgZXh0ZW5kcyBkLkJ1ZmZlcmVkSXRlcmF0b3J7Y29uc3RydWN0b3IoXyxPLFQsaixOLEIsQz0xNil7c3VwZXIoe2F1dG9TdGFydDohMH0pLHRoaXMuc3ViamVjdD1fLHRoaXMucHJlZGljYXRlPU8sdGhpcy5ncmFwaD1ULHRoaXMuY29udGV4dD1qLHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbj1OLHRoaXMubWF4UnVubmluZ09wZXJhdGlvbnM9Qyx0aGlzLnRlcm1IYXNoZXM9bmV3IE1hcCx0aGlzLnJ1bm5pbmdPcGVyYXRpb25zPVtdLHRoaXMucGVuZGluZ09wZXJhdGlvbnM9W10sdGhpcy5fcHVzaCh0aGlzLnN1YmplY3QsQil9X2VuZChfKXtmb3IoY29uc3QgTyBvZiB0aGlzLnJ1bm5pbmdPcGVyYXRpb25zKU8uZGVzdHJveSgpO3N1cGVyLl9lbmQoXyl9X3B1c2goXyxPPSEwKXtsZXQgVDtpZihPJiYoVD0oMCxsLnRlcm1Ub1N0cmluZykoXyksdGhpcy50ZXJtSGFzaGVzLmhhcyhUKSkpcmV0dXJuO2NvbnN0IGo9cC52YXJpYWJsZSgiYiIpO3RoaXMucGVuZGluZ09wZXJhdGlvbnMucHVzaCh7dmFyaWFibGU6aixvcGVyYXRpb246Zy5jcmVhdGVQYXRoKF8sdGhpcy5wcmVkaWNhdGUsaix0aGlzLmdyYXBoKX0pLFQmJih0aGlzLnRlcm1IYXNoZXMuc2V0KFQsXyksc3VwZXIuX3B1c2goXykpfV9yZWFkKF8sTyl7Y29uc3QgVD10aGlzOyhhc3luYyBmdW5jdGlvbigpe2Zvcig7VC5ydW5uaW5nT3BlcmF0aW9ucy5sZW5ndGg8VC5tYXhSdW5uaW5nT3BlcmF0aW9ucyYmVC5wZW5kaW5nT3BlcmF0aW9ucy5sZW5ndGghPT0wOyl7Y29uc3QgQj1ULnBlbmRpbmdPcGVyYXRpb25zLnBvcCgpLEM9by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCBULm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOkIub3BlcmF0aW9uLGNvbnRleHQ6VC5jb250ZXh0fSkpLEw9Qy5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe2F1dG9TdGFydDohMSx0cmFuc2Zvcm0oUyxQLEYpe2NvbnN0IGs9Uy5nZXQoQi52YXJpYWJsZSk7RihrKSxQKCl9fSk7TC5kb25lfHwoVC5ydW5uaW5nT3BlcmF0aW9ucy5wdXNoKEwpLEwub24oImVycm9yIixTPT5ULmRlc3Ryb3koUykpLEwub24oInJlYWRhYmxlIiwoKT0+e1QucmVhZGFibGU9ITAsVC5fZmlsbEJ1ZmZlckFzeW5jKCl9KSxMLm9uKCJlbmQiLCgpPT57VC5ydW5uaW5nT3BlcmF0aW9ucy5zcGxpY2UoVC5ydW5uaW5nT3BlcmF0aW9ucy5pbmRleE9mKEwpLDEpLFQucmVhZGFibGU9ITAsVC5fZmlsbEJ1ZmZlckFzeW5jKCl9KSksVC5zZXRQcm9wZXJ0eSgibWV0YWRhdGEiLEMubWV0YWRhdGEpfWxldCBqPTAsTjtmb3IoO2ohPT0oaj1fKTspZm9yKGxldCBCPTA7QjxULnJ1bm5pbmdPcGVyYXRpb25zLmxlbmd0aCYmXz4wO0IrKykoTj1ULnJ1bm5pbmdPcGVyYXRpb25zW0JdLnJlYWQoKSkhPT1udWxsJiYoXy0tLFQuX3B1c2goTikpO1QucnVubmluZ09wZXJhdGlvbnMubGVuZ3RoPT09MCYmVC5wZW5kaW5nT3BlcmF0aW9ucy5sZW5ndGg9PT0wJiZULmNsb3NlKCl9KSgpLnRoZW4oKCk9PntPKCl9LGo9PnRoaXMuZGVzdHJveShqKSl9fWUuUGF0aFZhcmlhYmxlT2JqZWN0SXRlcmF0b3I9dn0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9BY3RvckFic3RyYWN0UGF0aC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9QYXRoVmFyaWFibGVPYmplY3RJdGVyYXRvci5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1jb250ZXh0LXByZXByb2Nlc3Mtc291cmNlLXRvLWRlc3RpbmF0aW9uL2xpYi9BY3RvckNvbnRleHRQcmVwcm9jZXNzU291cmNlVG9EZXN0aW5hdGlvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yQ29udGV4dFByZXByb2Nlc3NTb3VyY2VUb0Rlc3RpbmF0aW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWNvbnRleHQtcHJlcHJvY2Vzcy9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yQ29udGV4dFByZXByb2Nlc3N7Y29uc3RydWN0b3IodSl7c3VwZXIodSl9YXN5bmMgdGVzdCh1KXtyZXR1cm4hMH1hc3luYyBydW4odSl7aWYodS5jb250ZXh0LmdldChkLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcykmJiF1LmNvbnRleHQuZ2V0KGQuS2V5c1JkZlVwZGF0ZVF1YWRzLmRlc3RpbmF0aW9uKSl7Y29uc3QgcD11LmNvbnRleHQuZ2V0KGQuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VzKTtpZihwLmxlbmd0aD09PTEpcmV0dXJue2NvbnRleHQ6dS5jb250ZXh0LnNldChkLktleXNSZGZVcGRhdGVRdWFkcy5kZXN0aW5hdGlvbixwWzBdKX19cmV0dXJuIHV9fWUuQWN0b3JDb250ZXh0UHJlcHJvY2Vzc1NvdXJjZVRvRGVzdGluYXRpb249aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItY29udGV4dC1wcmVwcm9jZXNzLXNvdXJjZS10by1kZXN0aW5hdGlvbi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1jb250ZXh0LXByZXByb2Nlc3Mtc291cmNlLXRvLWRlc3RpbmF0aW9uL2xpYi9BY3RvckNvbnRleHRQcmVwcm9jZXNzU291cmNlVG9EZXN0aW5hdGlvbi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1oYXNoLWJpbmRpbmdzLXNoYTEvbGliL0FjdG9ySGFzaEJpbmRpbmdzU2hhMS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9ySGFzaEJpbmRpbmdzU2hhMT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1oYXNoLWJpbmRpbmdzL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2guanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvY2Fub25pY2FsaXplL2xpYi9jYW5vbmljYWxpemUuanMiKTtjbGFzcyB1IGV4dGVuZHMgby5BY3Rvckhhc2hCaW5kaW5nc3thc3luYyB0ZXN0KGcpe2lmKCFnLmFsbG93SGFzaENvbGxpc2lvbnMpdGhyb3cgbmV3IEVycm9yKGBBY3RvciAke3RoaXMubmFtZX0gY2FuIG5vdCBwcm92aWRlIGhhc2ggZnVuY3Rpb25zIHdpdGhvdXQgaGFzaCBjb2xsaXNpb25zYCk7cmV0dXJuITB9YXN5bmMgcnVuKGcpe3JldHVybntoYXNoRnVuY3Rpb246dj0+KDAsZC5zaGExKSgpLnVwZGF0ZShsKE9iamVjdC5mcm9tRW50cmllcyhbLi4udl0ubWFwKChbYixfXSk9PlsoMCxoLnRlcm1Ub1N0cmluZykoYiksKDAsaC50ZXJtVG9TdHJpbmcpKF8pXSkpKSkuZGlnZXN0KCJoZXgiKSxoYXNoQ29sbGlzaW9uczohMH19fWUuQWN0b3JIYXNoQmluZGluZ3NTaGExPXV9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWhhc2gtYmluZGluZ3Mtc2hhMS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1oYXNoLWJpbmRpbmdzLXNoYTEvbGliL0FjdG9ySGFzaEJpbmRpbmdzU2hhMS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9BY3RvckluaXRRdWVyeS1icm93c2VyLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JJbml0UXVlcnk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9BY3RvckluaXRRdWVyeUJhc2UuanMiKTt0eXBlb2YgcHJvY2Vzcz4idSImJihnbG9iYWxUaGlzLnByb2Nlc3M9bigiLi9yZXF1aXJlLWVtcHR5LmpzIikpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ySW5pdFF1ZXJ5QmFzZXt9ZS5BY3RvckluaXRRdWVyeT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9BY3RvckluaXRRdWVyeUJhc2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvckluaXRRdWVyeUJhc2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtaW5pdC9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvckluaXR7Y29uc3RydWN0b3IobCl7bC5jb250ZXh0S2V5U2hvcnRjdXRzRXh0ZW5zaW9ucz8uZm9yRWFjaCh1PT57aWYoT2JqZWN0LmtleXMobC5jb250ZXh0S2V5U2hvcnRjdXRzKS5zb21lKHA9Pk9iamVjdC5rZXlzKHUpLmluY2x1ZGVzKHApKSl0aHJvdyBuZXcgRXJyb3IoIkR1cGxpY2F0ZSBrZXlzIGZvdW5kIHdoaWxlIGFkZGluZyBgY29udGV4dEtleVNob3J0Y3V0c0V4dGVuc2lvbnNgLiIpO2wuY29udGV4dEtleVNob3J0Y3V0cz17Li4ubC5jb250ZXh0S2V5U2hvcnRjdXRzLC4uLnV9fSksc3VwZXIobCl9YXN5bmMgdGVzdChsKXtyZXR1cm4hMH1hc3luYyBydW4obCl7dGhyb3cgbmV3IEVycm9yKCJBY3RvckluaXRTcGFycWwjcnVuIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIuIil9fWUuQWN0b3JJbml0UXVlcnlCYXNlPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnkvbGliL01lbW9yeVBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVtb3J5UGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXI9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKCl7dGhpcy5jaGlsZHJlbj1uZXcgTWFwfWxvZ09wZXJhdGlvbihsLHUscCxnLHYsYil7Y29uc3QgXz17YWN0b3I6dixsb2dpY2FsT3BlcmF0b3I6bCxwaHlzaWNhbE9wZXJhdG9yOnUscmF3Tm9kZTpwLGNoaWxkcmVuOltdLG1ldGFkYXRhOmJ9O2lmKHRoaXMuY2hpbGRyZW4uc2V0KHAsXy5jaGlsZHJlbiksdGhpcy5yb290Tm9kZSl7aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJEZXRlY3RlZCBtb3JlIHRoYW4gb25lIHBhcmVudC1sZXNzIG5vZGUiKTtjb25zdCBPPXRoaXMuY2hpbGRyZW4uZ2V0KGcpO2lmKCFPKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgcGFyZW50IG5vZGUiKTtPLnB1c2goXyl9ZWxzZXtpZihnKXRocm93IG5ldyBFcnJvcigiTm8gcm9vdCBub2RlIGhhcyBiZWVuIHNldCB5ZXQsIHdoaWxlIGEgcGFyZW50IGlzIGJlaW5nIHJlZmVyZW5jZWQiKTt0aGlzLnJvb3ROb2RlPV99fXRvSnNvbigpe3JldHVybiB0aGlzLnJvb3ROb2RlP3RoaXMucGxhbk5vZGVUb0pzb24odGhpcy5yb290Tm9kZSk6e319cGxhbk5vZGVUb0pzb24obCl7cmV0dXJue2xvZ2ljYWw6bC5sb2dpY2FsT3BlcmF0b3IscGh5c2ljYWw6bC5waHlzaWNhbE9wZXJhdG9yLC4uLnRoaXMuZ2V0TG9naWNhbE1ldGFkYXRhKGwucmF3Tm9kZSksLi4ubC5tZXRhZGF0YSwuLi5sLmNoaWxkcmVuLmxlbmd0aD4wP3tjaGlsZHJlbjpsLmNoaWxkcmVuLm1hcCh1PT50aGlzLnBsYW5Ob2RlVG9Kc29uKHUpKX06e319fWdldExvZ2ljYWxNZXRhZGF0YShsKXtpZigidHlwZSJpbiBsKXtjb25zdCB1PWw7c3dpdGNoKHUudHlwZSl7Y2FzZSJwYXR0ZXJuIjpyZXR1cm57cGF0dGVybjp0aGlzLnF1YWRUb1N0cmluZyh1KX07Y2FzZSJwcm9qZWN0IjpyZXR1cm57dmFyaWFibGVzOnUudmFyaWFibGVzLm1hcChwPT5wLnZhbHVlKX19fXJldHVybnt9fXF1YWRUb1N0cmluZyhsKXtyZXR1cm5gJHsoMCxvLnRlcm1Ub1N0cmluZykobC5zdWJqZWN0KX0gJHsoMCxvLnRlcm1Ub1N0cmluZykobC5wcmVkaWNhdGUpfSAkeygwLG8udGVybVRvU3RyaW5nKShsLm9iamVjdCl9JHtsLmdyYXBoLnRlcm1UeXBlPT09IkRlZmF1bHRHcmFwaCI/IiI6YCAkeygwLG8udGVybVRvU3RyaW5nKShsLmdyYXBoKX1gfWB9fWUuTWVtb3J5UGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXI9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvUXVlcnlFbmdpbmVCYXNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuUXVlcnlFbmdpbmVCYXNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9NZW1vcnlQaHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlci5qcyIpO2NsYXNzIHV7Y29uc3RydWN0b3IoZyl7dGhpcy5hY3RvckluaXRRdWVyeT1nLHRoaXMuZGVmYXVsdEZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU9e319YXN5bmMgcXVlcnlCaW5kaW5ncyhnLHYpe3JldHVybiB0aGlzLnF1ZXJ5T2ZUeXBlKGcsdiwiYmluZGluZ3MiKX1hc3luYyBxdWVyeVF1YWRzKGcsdil7cmV0dXJuIHRoaXMucXVlcnlPZlR5cGUoZyx2LCJxdWFkcyIpfWFzeW5jIHF1ZXJ5Qm9vbGVhbihnLHYpe3JldHVybiB0aGlzLnF1ZXJ5T2ZUeXBlKGcsdiwiYm9vbGVhbiIpfWFzeW5jIHF1ZXJ5Vm9pZChnLHYpe3JldHVybiB0aGlzLnF1ZXJ5T2ZUeXBlKGcsdiwidm9pZCIpfWFzeW5jIHF1ZXJ5T2ZUeXBlKGcsdixiKXtjb25zdCBfPWF3YWl0IHRoaXMucXVlcnkoZyx2KTtpZihfLnJlc3VsdFR5cGU9PT1iKXJldHVybiBfLmV4ZWN1dGUoKTt0aHJvdyBuZXcgRXJyb3IoYFF1ZXJ5IHJlc3VsdCB0eXBlICcke2J9JyB3YXMgZXhwZWN0ZWQsIHdoaWxlICcke18ucmVzdWx0VHlwZX0nIHdhcyBmb3VuZC5gKX1hc3luYyBxdWVyeShnLHYpe2NvbnN0IGI9YXdhaXQgdGhpcy5xdWVyeU9yRXhwbGFpbihnLHYpO2lmKCJleHBsYWluImluIGIpdGhyb3cgbmV3IEVycm9yKCJUcmllZCB0byBleHBsYWluIGEgcXVlcnkgd2hlbiBpbiBxdWVyeS1vbmx5IG1vZGUiKTtyZXR1cm4gYn1hc3luYyBleHBsYWluKGcsdixiKXtyZXR1cm4gdi5leHBsYWluPWIsYXdhaXQgdGhpcy5xdWVyeU9yRXhwbGFpbihnLHYpfWFzeW5jIHF1ZXJ5T3JFeHBsYWluKGcsdil7dj12fHx7fTtmb3IoY29uc3QgUyBpbiB2KXRoaXMuYWN0b3JJbml0UXVlcnkuY29udGV4dEtleVNob3J0Y3V0c1tTXSYmKHZbdGhpcy5hY3RvckluaXRRdWVyeS5jb250ZXh0S2V5U2hvcnRjdXRzW1NdXT12W1NdLGRlbGV0ZSB2W1NdKTtsZXQgYj1uZXcgaC5BY3Rpb25Db250ZXh0KHYpLF89e2xhbmd1YWdlOiJzcGFycWwiLHZlcnNpb246IjEuMSJ9O2IuaGFzKGQuS2V5c0luaXRRdWVyeS5xdWVyeUZvcm1hdCkmJihfPWIuZ2V0KGQuS2V5c0luaXRRdWVyeS5xdWVyeUZvcm1hdCksYj1iLmRlbGV0ZShkLktleXNJbml0UXVlcnkucXVlcnlGb3JtYXQpLF8ubGFuZ3VhZ2U9PT0iZ3JhcGhxbCImJihiPWIuc2V0RGVmYXVsdChkLktleXNJbml0UXVlcnkuZ3JhcGhxbFNpbmd1bGFyaXplVmFyaWFibGVzLHt9KSkpO2NvbnN0IE89Yi5nZXQoZC5LZXlzSW5pdFF1ZXJ5LmJhc2VJUkkpO2I9Yi5zZXREZWZhdWx0KGQuS2V5c0luaXRRdWVyeS5xdWVyeVRpbWVzdGFtcCxuZXcgRGF0ZSkuc2V0RGVmYXVsdChkLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlSWRzLG5ldyBNYXApLnNldERlZmF1bHQoZC5LZXlzQ29yZS5sb2csdGhpcy5hY3RvckluaXRRdWVyeS5sb2dnZXIpLnNldERlZmF1bHQoZC5LZXlzSW5pdFF1ZXJ5LmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGUsdGhpcy5kZWZhdWx0RnVuY3Rpb25Bcmd1bWVudHNDYWNoZSkuc2V0RGVmYXVsdChkLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uaHlwZXJtZWRpYVNvdXJjZXNBZ2dyZWdhdGVkU3RvcmVzLG5ldyBNYXApLGI9KGF3YWl0IHRoaXMuYWN0b3JJbml0UXVlcnkubWVkaWF0b3JDb250ZXh0UHJlcHJvY2Vzcy5tZWRpYXRlKHtjb250ZXh0OmJ9KSkuY29udGV4dDtjb25zdCBUPWIuZ2V0KGQuS2V5c0luaXRRdWVyeS5leHBsYWluKTtsZXQgajtpZih0eXBlb2YgZz09InN0cmluZyIpe2I9Yi5zZXQoZC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5U3RyaW5nLGcpO2NvbnN0IFM9YXdhaXQgdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvclF1ZXJ5UGFyc2UubWVkaWF0ZSh7Y29udGV4dDpiLHF1ZXJ5OmcscXVlcnlGb3JtYXQ6XyxiYXNlSVJJOk99KTtqPVMub3BlcmF0aW9uLFMuYmFzZUlSSSYmKGI9Yi5zZXQoZC5LZXlzSW5pdFF1ZXJ5LmJhc2VJUkksUy5iYXNlSVJJKSl9ZWxzZSBqPWc7aWYoVD09PSJwYXJzZWQiKXJldHVybntleHBsYWluOiEwLHR5cGU6VCxkYXRhOmp9O2IuaGFzKGQuS2V5c0luaXRRdWVyeS5pbml0aWFsQmluZGluZ3MpJiYoaj0oMCxvLm1hdGVyaWFsaXplT3BlcmF0aW9uKShqLGIuZ2V0KGQuS2V5c0luaXRRdWVyeS5pbml0aWFsQmluZGluZ3MpKSxiPWIuZGVsZXRlKGQuS2V5c0luaXRRdWVyeS5xdWVyeVN0cmluZykpO2NvbnN0IE49YXdhaXQgdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvck9wdGltaXplUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7Y29udGV4dDpiLG9wZXJhdGlvbjpqfSk7aWYoaj1OLm9wZXJhdGlvbixiPU4uY29udGV4dHx8YixUPT09ImxvZ2ljYWwiKXJldHVybntleHBsYWluOiEwLHR5cGU6VCxkYXRhOmp9O2I9Yi5zZXQoZC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5LGopO2xldCBCO1Q9PT0icGh5c2ljYWwiJiYoQj1uZXcgbC5NZW1vcnlQaHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlcixiPWIuc2V0KGQuS2V5c0luaXRRdWVyeS5waHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlcixCKSk7Y29uc3QgQz1hd2FpdCB0aGlzLmFjdG9ySW5pdFF1ZXJ5Lm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7Y29udGV4dDpiLG9wZXJhdGlvbjpqfSk7Qy5jb250ZXh0PWI7Y29uc3QgTD11LmludGVybmFsVG9GaW5hbFJlc3VsdChDKTtpZihCKXtzd2l0Y2goTC5yZXN1bHRUeXBlKXtjYXNlImJpbmRpbmdzIjphd2FpdChhd2FpdCBMLmV4ZWN1dGUoKSkudG9BcnJheSgpO2JyZWFrO2Nhc2UicXVhZHMiOmF3YWl0KGF3YWl0IEwuZXhlY3V0ZSgpKS50b0FycmF5KCk7YnJlYWs7Y2FzZSJib29sZWFuIjphd2FpdCBMLmV4ZWN1dGUoKTticmVhaztjYXNlInZvaWQiOmF3YWl0IEwuZXhlY3V0ZSgpO2JyZWFrfXJldHVybntleHBsYWluOiEwLHR5cGU6VCxkYXRhOkIudG9Kc29uKCl9fXJldHVybiBMfWFzeW5jIGdldFJlc3VsdE1lZGlhVHlwZXMoZyl7cmV0dXJuIGc9aC5BY3Rpb25Db250ZXh0LmVuc3VyZUFjdGlvbkNvbnRleHQoZyksKGF3YWl0IHRoaXMuYWN0b3JJbml0UXVlcnkubWVkaWF0b3JRdWVyeVJlc3VsdFNlcmlhbGl6ZU1lZGlhVHlwZUNvbWJpbmVyLm1lZGlhdGUoe2NvbnRleHQ6ZyxtZWRpYVR5cGVzOiEwfSkpLm1lZGlhVHlwZXN9YXN5bmMgZ2V0UmVzdWx0TWVkaWFUeXBlRm9ybWF0cyhnKXtyZXR1cm4gZz1oLkFjdGlvbkNvbnRleHQuZW5zdXJlQWN0aW9uQ29udGV4dChnKSwoYXdhaXQgdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvclF1ZXJ5UmVzdWx0U2VyaWFsaXplTWVkaWFUeXBlRm9ybWF0Q29tYmluZXIubWVkaWF0ZSh7Y29udGV4dDpnLG1lZGlhVHlwZUZvcm1hdHM6ITB9KSkubWVkaWFUeXBlRm9ybWF0c31hc3luYyByZXN1bHRUb1N0cmluZyhnLHYsYil7aWYoYj1oLkFjdGlvbkNvbnRleHQuZW5zdXJlQWN0aW9uQ29udGV4dChiKSwhdilzd2l0Y2goZy5yZXN1bHRUeXBlKXtjYXNlImJpbmRpbmdzIjp2PSJhcHBsaWNhdGlvbi9qc29uIjticmVhaztjYXNlInF1YWRzIjp2PSJhcHBsaWNhdGlvbi90cmlnIjticmVhaztkZWZhdWx0OnY9InNpbXBsZSI7YnJlYWt9Y29uc3QgXz17Li4uYXdhaXQgdS5maW5hbFRvSW50ZXJuYWxSZXN1bHQoZyksY29udGV4dDpifTtyZXR1cm4oYXdhaXQgdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvclF1ZXJ5UmVzdWx0U2VyaWFsaXplLm1lZGlhdGUoe2NvbnRleHQ6YixoYW5kbGU6XyxoYW5kbGVNZWRpYVR5cGU6dn0pKS5oYW5kbGV9aW52YWxpZGF0ZUh0dHBDYWNoZShnLHYpe3JldHVybiB2PWguQWN0aW9uQ29udGV4dC5lbnN1cmVBY3Rpb25Db250ZXh0KHYpLHRoaXMuYWN0b3JJbml0UXVlcnkubWVkaWF0b3JIdHRwSW52YWxpZGF0ZS5tZWRpYXRlKHt1cmw6Zyxjb250ZXh0OnZ9KX1zdGF0aWMgaW50ZXJuYWxUb0ZpbmFsUmVzdWx0KGcpe3N3aXRjaChnLnR5cGUpe2Nhc2UiYmluZGluZ3MiOnJldHVybntyZXN1bHRUeXBlOiJiaW5kaW5ncyIsZXhlY3V0ZTphc3luYygpPT5nLmJpbmRpbmdzU3RyZWFtLG1ldGFkYXRhOmFzeW5jKCk9PmF3YWl0IGcubWV0YWRhdGEoKSxjb250ZXh0OmcuY29udGV4dH07Y2FzZSJxdWFkcyI6cmV0dXJue3Jlc3VsdFR5cGU6InF1YWRzIixleGVjdXRlOmFzeW5jKCk9PmcucXVhZFN0cmVhbSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCBnLm1ldGFkYXRhKCksY29udGV4dDpnLmNvbnRleHR9O2Nhc2UiYm9vbGVhbiI6cmV0dXJue3Jlc3VsdFR5cGU6ImJvb2xlYW4iLGV4ZWN1dGU6YXN5bmMoKT0+Zy5leGVjdXRlKCksY29udGV4dDpnLmNvbnRleHR9O2Nhc2Uidm9pZCI6cmV0dXJue3Jlc3VsdFR5cGU6InZvaWQiLGV4ZWN1dGU6YXN5bmMoKT0+Zy5leGVjdXRlKCksY29udGV4dDpnLmNvbnRleHR9fX1zdGF0aWMgYXN5bmMgZmluYWxUb0ludGVybmFsUmVzdWx0KGcpe3N3aXRjaChnLnJlc3VsdFR5cGUpe2Nhc2UiYmluZGluZ3MiOnJldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06YXdhaXQgZy5leGVjdXRlKCksbWV0YWRhdGE6YXN5bmMoKT0+YXdhaXQgZy5tZXRhZGF0YSgpfTtjYXNlInF1YWRzIjpyZXR1cm57dHlwZToicXVhZHMiLHF1YWRTdHJlYW06YXdhaXQgZy5leGVjdXRlKCksbWV0YWRhdGE6YXN5bmMoKT0+YXdhaXQgZy5tZXRhZGF0YSgpfTtjYXNlImJvb2xlYW4iOnJldHVybnt0eXBlOiJib29sZWFuIixleGVjdXRlOigpPT5nLmV4ZWN1dGUoKX07Y2FzZSJ2b2lkIjpyZXR1cm57dHlwZToidm9pZCIsZXhlY3V0ZTooKT0+Zy5leGVjdXRlKCl9fX19ZS5RdWVyeUVuZ2luZUJhc2U9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvaW5kZXgtYnJvd3Nlci5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihsLHUscCxnKXtnPT09dm9pZCAwJiYoZz1wKTt2YXIgdj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHUscCk7KCF2fHwoImdldCJpbiB2PyF1Ll9fZXNNb2R1bGU6di53cml0YWJsZXx8di5jb25maWd1cmFibGUpKSYmKHY9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHVbcF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsZyx2KX06ZnVuY3Rpb24obCx1LHAsZyl7Zz09PXZvaWQgMCYmKGc9cCksbFtnXT11W3BdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24obCx1KXtmb3IodmFyIHAgaW4gbClwIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHUscCkmJm8odSxsLHApfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5RdWVyeUVuZ2luZUJhc2U9dm9pZCAwLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9BY3RvckluaXRRdWVyeUJhc2UuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvQWN0b3JJbml0UXVlcnktYnJvd3Nlci5qcyIpLGUpO3ZhciBoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvUXVlcnlFbmdpbmVCYXNlLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlF1ZXJ5RW5naW5lQmFzZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguUXVlcnlFbmdpbmVCYXNlfX0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tYmdwLXRvLWpvaW4vbGliL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkJncFRvSm9pbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkJncFRvSm9pbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb257YXN5bmMgdGVzdCh1KXtyZXR1cm4hMH1hc3luYyBydW4odSl7cmV0dXJue29wZXJhdGlvbjpkLlV0aWwubWFwT3BlcmF0aW9uKHUub3BlcmF0aW9uLHtiZ3AoZyx2KXtyZXR1cm57cmVjdXJzZTohMSxyZXN1bHQ6di5jcmVhdGVKb2luKGcucGF0dGVybnMpfX19KSxjb250ZXh0OnUuY29udGV4dH19fWUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uQmdwVG9Kb2luPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1iZ3AtdG8tam9pbi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tYmdwLXRvLWpvaW4vbGliL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkJncFRvSm9pbi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1iZ3AvbGliL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5CZ3AuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQmdwPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbnthc3luYyB0ZXN0KHUpe3JldHVybiEwfWFzeW5jIHJ1bih1KXtyZXR1cm57b3BlcmF0aW9uOmQuVXRpbC5tYXBPcGVyYXRpb24odS5vcGVyYXRpb24se2pvaW4oZyx2KXtyZXR1cm4gZy5pbnB1dC5ldmVyeShiPT5iLnR5cGU9PT0iYmdwIik/e3JlY3Vyc2U6ITEscmVzdWx0OnYuY3JlYXRlQmdwKGcuaW5wdXQuZmxhdE1hcChiPT5iLnBhdHRlcm5zKSl9OntyZWN1cnNlOiExLHJlc3VsdDpnfX19KSxjb250ZXh0OnUuY29udGV4dH19fWUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uSm9pbkJncD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1iZ3AvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3Itb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uLWpvaW4tYmdwL2xpYi9BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQmdwLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1qb2luLWNvbm5lY3RlZC9saWIvQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uSm9pbkNvbm5lY3RlZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5Db25uZWN0ZWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9ue2FzeW5jIHRlc3QodSl7cmV0dXJuITB9YXN5bmMgcnVuKHUpe3JldHVybntvcGVyYXRpb246ZC5VdGlsLm1hcE9wZXJhdGlvbih1Lm9wZXJhdGlvbix7am9pbihnLHYpe3JldHVybntyZWN1cnNlOiExLHJlc3VsdDpoLmNsdXN0ZXIoZyx2KX19fSksY29udGV4dDp1LmNvbnRleHR9fXN0YXRpYyBjbHVzdGVyKHUscCl7Y29uc3QgZz11LmlucHV0Lm1hcChPPT4oe2luU2NvcGVWYXJpYWJsZXM6T2JqZWN0LmZyb21FbnRyaWVzKGQuVXRpbC5pblNjb3BlVmFyaWFibGVzKE8pLm1hcChUPT5bVC52YWx1ZSwhMF0pKSxlbnRyaWVzOltPXX0pKTtsZXQgdixiPWc7ZG8gdj1iLGI9aC5jbHVzdGVySXRlcmF0aW9uKHYpO3doaWxlKHYubGVuZ3RoIT09Yi5sZW5ndGgpO2NvbnN0IF89Yi5tYXAoTz0+cC5jcmVhdGVKb2luKE8uZW50cmllcykpO3JldHVybiBfLmxlbmd0aD09PTE/X1swXTpwLmNyZWF0ZUpvaW4oXywhMSl9c3RhdGljIGNsdXN0ZXJJdGVyYXRpb24odSl7Y29uc3QgcD1bXTtmb3IoY29uc3QgZyBvZiB1KXtsZXQgdj0hMTtmb3IoY29uc3QgYiBvZiBwKWlmKGguaGF2ZU92ZXJsYXBwaW5nVmFyaWFibGVzKGcuaW5TY29wZVZhcmlhYmxlcyxiLmluU2NvcGVWYXJpYWJsZXMpKXtiLmVudHJpZXM9Wy4uLmIuZW50cmllcywuLi5nLmVudHJpZXNdLGIuaW5TY29wZVZhcmlhYmxlcz17Li4uYi5pblNjb3BlVmFyaWFibGVzLC4uLmcuaW5TY29wZVZhcmlhYmxlc30sdj0hMDticmVha312fHxwLnB1c2goe2luU2NvcGVWYXJpYWJsZXM6Zy5pblNjb3BlVmFyaWFibGVzLGVudHJpZXM6Zy5lbnRyaWVzfSl9cmV0dXJuIHB9c3RhdGljIGhhdmVPdmVybGFwcGluZ1ZhcmlhYmxlcyh1LHApe2Zvcihjb25zdCBnIG9mIE9iamVjdC5rZXlzKHUpKWlmKHBbZ10pcmV0dXJuITA7cmV0dXJuITF9fWUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uSm9pbkNvbm5lY3RlZD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1jb25uZWN0ZWQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3Itb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uLWpvaW4tY29ubmVjdGVkL2xpYi9BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQ29ubmVjdGVkLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1hc2svbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Bc2suanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQXNrPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihsKXtzdXBlcihsLCJhc2siKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGwsdSl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKGwsdSl7Y29uc3QgcD1hd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmwuaW5wdXQsY29udGV4dDp1fSkse2JpbmRpbmdzU3RyZWFtOmd9PW8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MocCk7cmV0dXJue3R5cGU6ImJvb2xlYW4iLGV4ZWN1dGU6YXN5bmMoKT0+KGF3YWl0IGcudGFrZSgxKS50b0FycmF5KCkpLmxlbmd0aD09PTF9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Bc2s9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWFzay9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tYXNrL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQXNrLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1iZ3Atam9pbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkJncEpvaW4uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQmdwSm9pbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJiZ3AiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHUscCl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7cmV0dXJuIHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246aC5GQUNUT1JZLmNyZWF0ZUpvaW4odS5wYXR0ZXJucyksY29udGV4dDpwfSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkJncEpvaW49aCxoLkZBQ1RPUlk9bmV3IGQuRmFjdG9yeX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWJncC1qb2luL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1iZ3Atam9pbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkJncEpvaW4uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkNvbnN0cnVjdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Db25zdHJ1Y3Q9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXRlcm1zL2luZGV4LmpzIiksbD1uKCJzcGFycWxhbGdlYnJhanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvQmluZGluZ3NUb1F1YWRzSXRlcmF0b3IuanMiKTtjbGFzcyBwIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih2KXtzdXBlcih2LCJjb25zdHJ1Y3QiKX1zdGF0aWMgZ2V0VmFyaWFibGVzKHYpe3JldHVybigwLGgudW5pcVRlcm1zKShbXS5jb25jYXQuYXBwbHkoW10sdi5tYXAoYj0+KDAsaC5nZXRWYXJpYWJsZXMpKCgwLGguZ2V0VGVybXMpKGIpKSkpKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHYsYil7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHYsYil7Y29uc3QgXz1wLmdldFZhcmlhYmxlcyh2LnRlbXBsYXRlKSxPPXt0eXBlOmwuQWxnZWJyYS50eXBlcy5QUk9KRUNULGlucHV0OnYuaW5wdXQsdmFyaWFibGVzOl99LFQ9by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOk8sY29udGV4dDpifSkpLGo9Yi5nZXQoZC5LZXlzUXVlcnlPcGVyYXRpb24ubG9jYWxpemVCbGFua05vZGVzKSxOPWohPT12b2lkIDA/ajohMCxCPW5ldyB1LkJpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yKHYudGVtcGxhdGUsVC5iaW5kaW5nc1N0cmVhbSxOKTtyZXR1cm57bWV0YWRhdGE6KCk9PlQubWV0YWRhdGEoKS50aGVuKEw9Pih7Li4uTCxvcmRlcjp2b2lkIDAsY2FyZGluYWxpdHk6e3R5cGU6TC5jYXJkaW5hbGl0eS50eXBlLHZhbHVlOkwuY2FyZGluYWxpdHkudmFsdWUqdi50ZW1wbGF0ZS5sZW5ndGh9LGNhbkNvbnRhaW5VbmRlZnM6ITEsYXZhaWxhYmxlT3JkZXJzOnZvaWQgMH0pKSxxdWFkU3RyZWFtOkIsdHlwZToicXVhZHMifX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ29uc3RydWN0PXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1jb25zdHJ1Y3QvbGliL0JpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQmluZGluZ3NUb1F1YWRzSXRlcmF0b3I9dm9pZCAwO2NvbnN0IG89bigiYXN5bmNpdGVyYXRvciIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvaW5kZXguanMiKSxsPW5ldyBkLkRhdGFGYWN0b3J5O2NsYXNzIHUgZXh0ZW5kcyBvLk11bHRpVHJhbnNmb3JtSXRlcmF0b3J7Y29uc3RydWN0b3IoZyx2LGI9ITApe3N1cGVyKHYse2F1dG9TdGFydDohMX0pLHRoaXMudGVtcGxhdGU9Zyx0aGlzLmxvY2FsaXplQmxhbmtOb2Rlcz1iLHRoaXMuYmxhbmtOb2RlQ291bnRlcj0wfXN0YXRpYyBiaW5kVGVybShnLHYpe3JldHVybiB2LnRlcm1UeXBlPT09IlZhcmlhYmxlIj9nLmdldCh2KTp2fXN0YXRpYyBiaW5kUXVhZChnLHYpe3RyeXtyZXR1cm4oMCxoLm1hcFRlcm1zKSh2LGI9Pntjb25zdCBfPXUuYmluZFRlcm0oZyxiKTtpZighXyl0aHJvdyBuZXcgRXJyb3IoIlVuYm91bmQgdGVybSIpO3JldHVybiBffSl9Y2F0Y2h7fX1zdGF0aWMgbG9jYWxpemVCbGFua05vZGUoZyx2KXtyZXR1cm4gdi50ZXJtVHlwZT09PSJCbGFua05vZGUiP2wuYmxhbmtOb2RlKGAke3YudmFsdWV9JHtnfWApOnZ9c3RhdGljIGxvY2FsaXplUXVhZChnLHYpe3JldHVybigwLGgubWFwVGVybXMpKHYsYj0+dS5sb2NhbGl6ZUJsYW5rTm9kZShnLGIpKX1iaW5kVGVtcGxhdGUoZyx2LGIpe2xldCBfPXYubWFwKE89PnUuYmluZFF1YWQuYmluZChudWxsLGcpKE8pKS5maWx0ZXIoQm9vbGVhbik7cmV0dXJuIHRoaXMubG9jYWxpemVCbGFua05vZGVzJiYoXz1fLm1hcCh1LmxvY2FsaXplUXVhZC5iaW5kKG51bGwsYikpKSxffV9jcmVhdGVUcmFuc2Zvcm1lcihnKXtyZXR1cm4gbmV3IG8uQXJyYXlJdGVyYXRvcih0aGlzLmJpbmRUZW1wbGF0ZShnLHRoaXMudGVtcGxhdGUsdGhpcy5ibGFua05vZGVDb3VudGVyKyspKX19ZS5CaW5kaW5nc1RvUXVhZHNJdGVyYXRvcj11fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tY29uc3RydWN0L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1jb25zdHJ1Y3QvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Db25zdHJ1Y3QuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvQmluZGluZ3NUb1F1YWRzSXRlcmF0b3IuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWRlc2NyaWJlLXN1YmplY3QvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25EZXNjcmliZVN1YmplY3QuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRGVzY3JpYmVTdWJqZWN0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVuaW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksbD1uKCJhc3luY2l0ZXJhdG9yIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLHA9bigic3BhcnFsYWxnZWJyYWpzIiksZz1uZXcgdS5EYXRhRmFjdG9yeTtjbGFzcyB2IGV4dGVuZHMgZC5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihfKXtzdXBlcihfLCJkZXNjcmliZSIpfWFzeW5jIHRlc3RPcGVyYXRpb24oXyxPKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24oXyxPKXtjb25zdCBUPV8udGVybXMuZmlsdGVyKEw9PkwudGVybVR5cGUhPT0iVmFyaWFibGUiKS5tYXAoTD0+e2NvbnN0IFM9W2cucXVhZChMLGcudmFyaWFibGUoIl9fcHJlZGljYXRlIiksZy52YXJpYWJsZSgiX19vYmplY3QiKSldO3JldHVybiBTLmZvckVhY2goRj0+Ri50eXBlPSJwYXR0ZXJuIikse2lucHV0Ont0eXBlOnAuQWxnZWJyYS50eXBlcy5CR1AscGF0dGVybnM6U30sdGVtcGxhdGU6Uyx0eXBlOiJjb25zdHJ1Y3QifX0pO2lmKFQubGVuZ3RoIT09Xy50ZXJtcy5sZW5ndGgpe2xldCBMPVtdO18udGVybXMuZmlsdGVyKFM9PlMudGVybVR5cGU9PT0iVmFyaWFibGUiKS5mb3JFYWNoKChTLFApPT57Y29uc3QgRj1bZy5xdWFkKFMsZy52YXJpYWJsZShgX19wcmVkaWNhdGUke1B9YCksZy52YXJpYWJsZShgX19vYmplY3Qke1B9YCkpXTtGLmZvckVhY2goaz0+ay50eXBlPSJwYXR0ZXJuIiksTD1bLi4uTCwuLi5GXX0pLFQucHVzaCh7aW5wdXQ6e3R5cGU6cC5BbGdlYnJhLnR5cGVzLkpPSU4saW5wdXQ6W18uaW5wdXQse3R5cGU6cC5BbGdlYnJhLnR5cGVzLkJHUCxwYXR0ZXJuczpMfV19LHRlbXBsYXRlOkwsdHlwZTpwLkFsZ2VicmEudHlwZXMuQ09OU1RSVUNUfSl9Y29uc3Qgaj1PLmdldChoLktleXNRdWVyeU9wZXJhdGlvbi5sb2NhbGl6ZUJsYW5rTm9kZXMpO089Ty5zZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24ubG9jYWxpemVCbGFua05vZGVzLGohPT12b2lkIDA/ajohMSk7Y29uc3QgTj0oYXdhaXQgUHJvbWlzZS5hbGwoVC5tYXAoTD0+dGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpMLGNvbnRleHQ6T30pKSkpLm1hcChkLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZVF1YWRzKTtyZXR1cm57dHlwZToicXVhZHMiLHF1YWRTdHJlYW06bmV3IGwuVW5pb25JdGVyYXRvcihOLm1hcChMPT5MLnF1YWRTdHJlYW0pLHthdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTooKT0+UHJvbWlzZS5hbGwoTi5tYXAoTD0+TC5tZXRhZGF0YSgpKSkudGhlbihMPT5vLkFjdG9yUXVlcnlPcGVyYXRpb25Vbmlvbi51bmlvbk1ldGFkYXRhKEwsITEpKX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkRlc2NyaWJlU3ViamVjdD12fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGVzY3JpYmUtc3ViamVjdC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGVzY3JpYmUtc3ViamVjdC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkRlc2NyaWJlU3ViamVjdC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGlzdGluY3QtaGFzaC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkRpc3RpbmN0SGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25EaXN0aW5jdEhhc2g9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwsImRpc3RpbmN0Iil9YXN5bmMgdGVzdE9wZXJhdGlvbihsLHUpe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihsLHUpe2NvbnN0IHA9by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmwuaW5wdXQsY29udGV4dDp1fSkpO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06cC5iaW5kaW5nc1N0cmVhbS5maWx0ZXIoYXdhaXQgdGhpcy5uZXdIYXNoRmlsdGVyKHUpKSxtZXRhZGF0YTpwLm1ldGFkYXRhfX1hc3luYyBuZXdIYXNoRmlsdGVyKGwpe2NvbnN0e2hhc2hGdW5jdGlvbjp1fT1hd2FpdCB0aGlzLm1lZGlhdG9ySGFzaEJpbmRpbmdzLm1lZGlhdGUoe2FsbG93SGFzaENvbGxpc2lvbnM6ITAsY29udGV4dDpsfSkscD17fTtyZXR1cm4gZz0+e2NvbnN0IHY9dShnKTtyZXR1cm4hKHYgaW4gcCkmJihwW3ZdPSEwKX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkRpc3RpbmN0SGFzaD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGlzdGluY3QtaGFzaC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGlzdGluY3QtaGFzaC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkRpc3RpbmN0SGFzaC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZXh0ZW5kL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRXh0ZW5kLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkV4dGVuZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9pbmRleC5qcyIpO2NsYXNzIGwgZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHApe3N1cGVyKHAsImV4dGVuZCIpfWFzeW5jIHRlc3RPcGVyYXRpb24ocCxnKXtyZXR1cm4gbmV3IGguQXN5bmNFdmFsdWF0b3IocC5leHByZXNzaW9uLGQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KGcsdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uKSksITB9YXN5bmMgcnVuT3BlcmF0aW9uKHAsZyl7Y29uc3R7ZXhwcmVzc2lvbjp2LGlucHV0OmIsdmFyaWFibGU6X309cCxPPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpiLGNvbnRleHQ6Z30pKSxUPXsuLi5kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dChnLHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbil9LGo9bmV3IGguQXN5bmNFdmFsdWF0b3IodixUKSxOPWFzeW5jKEMsTCxTKT0+e3RyeXtjb25zdCBQPWF3YWl0IGouZXZhbHVhdGUoQyksRj1DLnNldChfLFApO1MoRil9Y2F0Y2goUCl7KDAsaC5pc0V4cHJlc3Npb25FcnJvcikoUCk/KFMoQyksdGhpcy5sb2dXYXJuKGcsYEV4cHJlc3Npb24gZXJyb3IgZm9yIGV4dGVuZCBvcGVyYXRpb24gd2l0aCBiaW5kaW5ncyAnJHsoMCxvLmJpbmRpbmdzVG9TdHJpbmcpKEMpfSdgKSk6Qi5lbWl0KCJlcnJvciIsUCl9TCgpfSxCPU8uYmluZGluZ3NTdHJlYW0udHJhbnNmb3JtKHthdXRvU3RhcnQ6ITEsdHJhbnNmb3JtOk59KTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOkIsYXN5bmMgbWV0YWRhdGEoKXtjb25zdCBDPWF3YWl0IE8ubWV0YWRhdGEoKTtyZXR1cm57Li4uQyx2YXJpYWJsZXM6Wy4uLkMudmFyaWFibGVzLF9dfX19fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25FeHRlbmQ9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWV4dGVuZC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZXh0ZW5kL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRXh0ZW5kLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1maWx0ZXItc3BhcnFsZWUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25GaWx0ZXJTcGFycWxlZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25GaWx0ZXJTcGFycWxlZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9pbmRleC5qcyIpO2NsYXNzIGwgZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHApe3N1cGVyKHAsImZpbHRlciIpfWFzeW5jIHRlc3RPcGVyYXRpb24ocCxnKXtjb25zdCB2PXsuLi5kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dChnLHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbil9O3JldHVybiBuZXcgaC5Bc3luY0V2YWx1YXRvcihwLmV4cHJlc3Npb24sdiksITB9YXN5bmMgcnVuT3BlcmF0aW9uKHAsZyl7Y29uc3Qgdj1hd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOnAuaW5wdXQsY29udGV4dDpnfSksYj1kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKHYpO2QuQWN0b3JRdWVyeU9wZXJhdGlvbi52YWxpZGF0ZVF1ZXJ5T3V0cHV0KGIsImJpbmRpbmdzIik7Y29uc3QgXz17Li4uZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldEFzeW5jRXhwcmVzc2lvbkNvbnRleHQoZyx0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24pfSxPPW5ldyBoLkFzeW5jRXZhbHVhdG9yKHAuZXhwcmVzc2lvbixfKSxUPWFzeW5jKE4sQixDKT0+e3RyeXthd2FpdCBPLmV2YWx1YXRlQXNFQlYoTikmJkMoTil9Y2F0Y2goTCl7KDAsaC5pc0V4cHJlc3Npb25FcnJvcikoTCk/dGhpcy5sb2dXYXJuKGcsIkVycm9yIG9jY3VycmVkIHdoaWxlIGZpbHRlcmluZy4iLCgpPT4oe2Vycm9yOkwsYmluZGluZ3M6KDAsby5iaW5kaW5nc1RvU3RyaW5nKShOKX0pKTpqLmVtaXQoImVycm9yIixMKX1CKCl9LGo9Yi5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe3RyYW5zZm9ybTpUfSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpqLG1ldGFkYXRhOmIubWV0YWRhdGF9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25GaWx0ZXJTcGFycWxlZT1sfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZmlsdGVyLXNwYXJxbGVlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1maWx0ZXItc3BhcnFsZWUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25GaWx0ZXJTcGFycWxlZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZnJvbS1xdWFkL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRnJvbVF1YWQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRnJvbVF1YWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IodSl7c3VwZXIodSwiZnJvbSIpfXN0YXRpYyBjb3B5T3BlcmF0aW9uKHUscCl7Y29uc3QgZz17fTtmb3IoY29uc3QgdiBvZiBPYmplY3Qua2V5cyh1KSlBcnJheS5pc0FycmF5KHVbdl0pJiZ2IT09InRlbXBsYXRlIj92PT09InZhcmlhYmxlcyI/Z1t2XT11W3ZdOmdbdl09dVt2XS5tYXAocCk6aC5BTEdFQlJBX1RZUEVTLmluY2x1ZGVzKHVbdl0udHlwZSk/Z1t2XT1wKHVbdl0pOmdbdl09dVt2XTtyZXR1cm4gZ31zdGF0aWMgYXBwbHlPcGVyYXRpb25EZWZhdWx0R3JhcGgodSxwKXtpZih1LnR5cGU9PT0iYmdwIiYmdS5wYXR0ZXJucy5sZW5ndGg+MHx8dS50eXBlPT09InBhdGgifHx1LnR5cGU9PT0icGF0dGVybiIpe2lmKHUudHlwZT09PSJiZ3AiKXJldHVybiBoLmpvaW5PcGVyYXRpb25zKHUucGF0dGVybnMubWFwKHY9PntpZih2LmdyYXBoLnRlcm1UeXBlIT09IkRlZmF1bHRHcmFwaCIpcmV0dXJuIGguRkFDVE9SWS5jcmVhdGVCZ3AoW3ZdKTtjb25zdCBiPXAubWFwKF89PmguRkFDVE9SWS5jcmVhdGVCZ3AoW2guRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKHYuc3ViamVjdCx2LnByZWRpY2F0ZSx2Lm9iamVjdCxfKV0pKTtyZXR1cm4gaC51bmlvbk9wZXJhdGlvbnMoYil9KSk7aWYodS5ncmFwaC50ZXJtVHlwZSE9PSJEZWZhdWx0R3JhcGgiKXJldHVybiB1O2NvbnN0IGc9cC5tYXAodj0+dS50eXBlPT09InBhdGgiP2guRkFDVE9SWS5jcmVhdGVQYXRoKHUuc3ViamVjdCx1LnByZWRpY2F0ZSx1Lm9iamVjdCx2KTpoLkZBQ1RPUlkuY3JlYXRlUGF0dGVybih1LnN1YmplY3QsdS5wcmVkaWNhdGUsdS5vYmplY3QsdikpO3JldHVybiBoLnVuaW9uT3BlcmF0aW9ucyhnKX1yZXR1cm4gaC5jb3B5T3BlcmF0aW9uKHUsZz0+dGhpcy5hcHBseU9wZXJhdGlvbkRlZmF1bHRHcmFwaChnLHApKX1zdGF0aWMgYXBwbHlPcGVyYXRpb25OYW1lZEdyYXBoKHUscCxnKXtpZih1LnR5cGU9PT0iYmdwIiYmdS5wYXR0ZXJucy5sZW5ndGg+MHx8dS50eXBlPT09InBhdGgifHx1LnR5cGU9PT0icGF0dGVybiIpe2NvbnN0IHY9dS50eXBlPT09ImJncCI/dS5wYXR0ZXJuc1swXS5ncmFwaDp1LmdyYXBoO2lmKHYudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIilyZXR1cm57dHlwZTpkLkFsZ2VicmEudHlwZXMuQkdQLHBhdHRlcm5zOltdfTtpZih2LnRlcm1UeXBlPT09IlZhcmlhYmxlIil7aWYocC5sZW5ndGg9PT0xKXtjb25zdCBfPXBbMF0sTz17fTtPW2A/JHt2LnZhbHVlfWBdPV87Y29uc3QgVD1oLkZBQ1RPUlkuY3JlYXRlVmFsdWVzKFt2XSxbT10pO2xldCBqO3JldHVybiB1LnR5cGU9PT0iYmdwIj9qPWguRkFDVE9SWS5jcmVhdGVCZ3AodS5wYXR0ZXJucy5tYXAoTj0+aC5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4oTi5zdWJqZWN0LE4ucHJlZGljYXRlLE4ub2JqZWN0LF8pKSk6dS50eXBlPT09InBhdGgiP2o9aC5GQUNUT1JZLmNyZWF0ZVBhdGgodS5zdWJqZWN0LHUucHJlZGljYXRlLHUub2JqZWN0LF8pOmo9aC5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4odS5zdWJqZWN0LHUucHJlZGljYXRlLHUub2JqZWN0LF8pLGguRkFDVE9SWS5jcmVhdGVKb2luKFtULGpdKX1yZXR1cm4gaC51bmlvbk9wZXJhdGlvbnMocC5tYXAoXz0+aC5hcHBseU9wZXJhdGlvbk5hbWVkR3JhcGgodSxbX10sZykpKX1yZXR1cm5bLi4ucCwuLi5nXS5zb21lKF89Pl8uZXF1YWxzKHYpKT91Ont0eXBlOmQuQWxnZWJyYS50eXBlcy5CR1AscGF0dGVybnM6W119fXJldHVybiBoLmNvcHlPcGVyYXRpb24odSx2PT50aGlzLmFwcGx5T3BlcmF0aW9uTmFtZWRHcmFwaCh2LHAsZykpfXN0YXRpYyBqb2luT3BlcmF0aW9ucyh1KXtpZih1Lmxlbmd0aD09PTEpcmV0dXJuIHVbMF07aWYodS5sZW5ndGg+MSlyZXR1cm4gaC5GQUNUT1JZLmNyZWF0ZUpvaW4odSk7dGhyb3cgbmV3IEVycm9yKCJBIGpvaW4gY2FuIG9ubHkgYmUgYXBwbGllZCBvbiBhdCBsZWFzdCBvbmUgb3BlcmF0aW9uIil9c3RhdGljIHVuaW9uT3BlcmF0aW9ucyh1KXtpZih1Lmxlbmd0aD09PTEpcmV0dXJuIHVbMF07aWYodS5sZW5ndGg+MSlyZXR1cm4gaC5GQUNUT1JZLmNyZWF0ZVVuaW9uKHUpO3Rocm93IG5ldyBFcnJvcigiQSB1bmlvbiBjYW4gb25seSBiZSBhcHBsaWVkIG9uIGF0IGxlYXN0IG9uZSBvcGVyYXRpb24iKX1zdGF0aWMgY3JlYXRlT3BlcmF0aW9uKHUpe2xldCBwPXUuaW5wdXQ7cmV0dXJuIHUuZGVmYXVsdC5sZW5ndGg+MCYmKHA9aC5hcHBseU9wZXJhdGlvbkRlZmF1bHRHcmFwaChwLHUuZGVmYXVsdCkpLCh1Lm5hbWVkLmxlbmd0aD4wfHx1LmRlZmF1bHQubGVuZ3RoPjApJiYocD1oLmFwcGx5T3BlcmF0aW9uTmFtZWRHcmFwaChwLHUubmFtZWQsdS5kZWZhdWx0KSkscH1hc3luYyB0ZXN0T3BlcmF0aW9uKHUscCl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7Y29uc3QgZz1oLmNyZWF0ZU9wZXJhdGlvbih1KTtyZXR1cm4gdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpnLGNvbnRleHQ6cH0pfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Gcm9tUXVhZD1oLGguRkFDVE9SWT1uZXcgZC5GYWN0b3J5LGguQUxHRUJSQV9UWVBFUz1PYmplY3Qua2V5cyhkLkFsZ2VicmEudHlwZXMpLm1hcChsPT5kLkFsZ2VicmEudHlwZXNbbF0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZnJvbS1xdWFkL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1mcm9tLXF1YWQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Gcm9tUXVhZC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZ3JvdXAvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Hcm91cC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Hcm91cD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJhc3luY2l0ZXJhdG9yIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZ3JvdXAvbGliL0dyb3Vwc1N0YXRlLmpzIik7Y2xhc3MgdSBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IoZyl7c3VwZXIoZywiZ3JvdXAiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGcsdil7Zm9yKGNvbnN0IGIgb2YgZy5hZ2dyZWdhdGVzKW5ldyBoLkFzeW5jRXZhbHVhdG9yKGIuZXhwcmVzc2lvbixvLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dCh2KSk7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKGcsdil7Y29uc3R7aGFzaEZ1bmN0aW9uOmJ9PWF3YWl0IHRoaXMubWVkaWF0b3JIYXNoQmluZGluZ3MubWVkaWF0ZSh7YWxsb3dIYXNoQ29sbGlzaW9uczohMCxjb250ZXh0OnZ9KSx7aW5wdXQ6XyxhZ2dyZWdhdGVzOk99PWcsVD1hd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOl8sY29udGV4dDp2fSksaj1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKFQpLE49Wy4uLmcudmFyaWFibGVzLC4uLk8ubWFwKEw9PkwudmFyaWFibGUpXSxCPW8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KHYpO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IGQuVHJhbnNmb3JtSXRlcmF0b3IoKCk9Pm5ldyBQcm9taXNlKChMLFMpPT57Y29uc3QgUD1uZXcgbC5Hcm91cHNTdGF0ZShiLGcsQik7ai5iaW5kaW5nc1N0cmVhbS5vbigiZW5kIixhc3luYygpPT57dHJ5e2NvbnN0IEY9bmV3IGQuQXJyYXlJdGVyYXRvcihhd2FpdCBQLmNvbGxlY3RSZXN1bHRzKCkse2F1dG9TdGFydDohMX0pO0woRil9Y2F0Y2goRil7UyhGKX19KSxqLmJpbmRpbmdzU3RyZWFtLm9uKCJlcnJvciIsUyksai5iaW5kaW5nc1N0cmVhbS5vbigiZGF0YSIsRj0+e1AuY29uc3VtZUJpbmRpbmdzKEYpLmNhdGNoKFMpfSl9KSx7YXV0b1N0YXJ0OiExfSksbWV0YWRhdGE6YXN5bmMoKT0+KHsuLi5hd2FpdCBqLm1ldGFkYXRhKCksdmFyaWFibGVzOk59KX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkdyb3VwPXV9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ncm91cC9saWIvR3JvdXBzU3RhdGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Hcm91cHNTdGF0ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvaW5kZXguanMiKSxsPW5ldyBkLkRhdGFGYWN0b3J5LHU9bmV3IG8uQmluZGluZ3NGYWN0b3J5O2NsYXNzIHB7Y29uc3RydWN0b3IodixiLF8pe3RoaXMuaGFzaEZ1bmN0aW9uPXYsdGhpcy5wYXR0ZXJuPWIsdGhpcy5zcGFycWxlZUNvbmZpZz1fLHRoaXMuZ3JvdXBzPW5ldyBNYXAsdGhpcy5ncm91cHNJbml0aWFsaXplcj1uZXcgTWFwLHRoaXMuZ3JvdXBWYXJpYWJsZXM9bmV3IFNldCh0aGlzLnBhdHRlcm4udmFyaWFibGVzLm1hcChPPT5PLnZhbHVlKSksdGhpcy5kaXN0aW5jdEhhc2hlcz1iLmFnZ3JlZ2F0ZXMuc29tZSgoe2Rpc3RpbmN0Ok99KT0+Tyk/bmV3IE1hcDpudWxsLHRoaXMud2FpdENvdW50ZXI9MSx0aGlzLnJlc3VsdEhhc0JlZW5DYWxsZWQ9ITF9Y29uc3VtZUJpbmRpbmdzKHYpe2NvbnN0IGI9dGhpcy5yZXN1bHRDaGVjaygpO2lmKGIpcmV0dXJuIGI7dGhpcy53YWl0Q291bnRlcisrO2NvbnN0IF89di5maWx0ZXIoKE4sQik9PnRoaXMuZ3JvdXBWYXJpYWJsZXMuaGFzKEIudmFsdWUpKSxPPXRoaXMuaGFzaEJpbmRpbmdzKF8pO2xldCBUPXRoaXMuZ3JvdXBzSW5pdGlhbGl6ZXIuZ2V0KE8pLGo7aWYoIVQpVD0oYXN5bmMoKT0+e2NvbnN0IE49e307aWYoYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5wYXR0ZXJuLmFnZ3JlZ2F0ZXMubWFwKGFzeW5jIEM9Pntjb25zdCBMPUMudmFyaWFibGUudmFsdWU7TltMXT1uZXcgaC5Bc3luY0FnZ3JlZ2F0ZUV2YWx1YXRvcihDLHRoaXMuc3BhcnFsZWVDb25maWcpLGF3YWl0IE5bTF0ucHV0KHYpfSkpLHRoaXMuZGlzdGluY3RIYXNoZXMpe2NvbnN0IEM9dGhpcy5oYXNoQmluZGluZ3Modik7dGhpcy5kaXN0aW5jdEhhc2hlcy5zZXQoTyxuZXcgU2V0KFtDXSkpfWNvbnN0IEI9e2FnZ3JlZ2F0b3JzOk4sYmluZGluZ3M6X307cmV0dXJuIHRoaXMuZ3JvdXBzLnNldChPLEIpLHRoaXMuc3VidHJhY3RXYWl0Q291bnRlckFuZENvbGxlY3QoKSxCfSkoKSx0aGlzLmdyb3Vwc0luaXRpYWxpemVyLnNldChPLFQpLGo9VDtlbHNle2NvbnN0IE49VDtqPShhc3luYygpPT57Y29uc3QgQj1hd2FpdCBOO2F3YWl0IFByb21pc2UuYWxsKHRoaXMucGF0dGVybi5hZ2dyZWdhdGVzLm1hcChhc3luYyBDPT57aWYoQy5kaXN0aW5jdCl7Y29uc3QgUz10aGlzLmhhc2hCaW5kaW5ncyh2KTtpZih0aGlzLmRpc3RpbmN0SGFzaGVzLmdldChPKS5oYXMoUykpcmV0dXJuO3RoaXMuZGlzdGluY3RIYXNoZXMuZ2V0KE8pLmFkZChTKX1jb25zdCBMPUMudmFyaWFibGUudmFsdWU7YXdhaXQgQi5hZ2dyZWdhdG9yc1tMXS5wdXQodil9KSl9KSgpLnRoZW4oKCk9Pnt0aGlzLnN1YnRyYWN0V2FpdENvdW50ZXJBbmRDb2xsZWN0KCl9KX1yZXR1cm4gan1zdWJ0cmFjdFdhaXRDb3VudGVyQW5kQ29sbGVjdCgpey0tdGhpcy53YWl0Q291bnRlcj09PTAmJnRoaXMuaGFuZGxlUmVzdWx0Q29sbGVjdGlvbigpfWhhbmRsZVJlc3VsdENvbGxlY3Rpb24oKXtsZXQgdj1bLi4udGhpcy5ncm91cHNdLm1hcCgoW2IsX10pPT57Y29uc3R7YmluZGluZ3M6TyxhZ2dyZWdhdG9yczpUfT1fO2xldCBqPU87Zm9yKGNvbnN0IE4gaW4gVCl7Y29uc3QgQj1UW05dLnJlc3VsdCgpO0ImJihqPWouc2V0KGwudmFyaWFibGUoTiksQikpfXJldHVybiBqfSk7aWYodi5sZW5ndGg9PT0wJiZ0aGlzLmdyb3VwVmFyaWFibGVzLnNpemU9PT0wKXtjb25zdCBiPVtdO2Zvcihjb25zdCBfIG9mIHRoaXMucGF0dGVybi5hZ2dyZWdhdGVzKXtjb25zdCBPPV8udmFyaWFibGUsVD1oLkFzeW5jQWdncmVnYXRlRXZhbHVhdG9yLmVtcHR5VmFsdWUoXyk7VCE9PXZvaWQgMCYmYi5wdXNoKFtPLFRdKX12PVt1LmJpbmRpbmdzKGIpXX10aGlzLndhaXRSZXNvbHZlcih2KX1yZXN1bHRDaGVjaygpe2lmKHRoaXMucmVzdWx0SGFzQmVlbkNhbGxlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJDYWxsaW5nIGFueSBmdW5jdGlvbiBhZnRlciBjYWxsaW5nIGNvbGxlY3RSZXN1bHQgaXMgaW52YWxpZC4iKSl9Y29sbGVjdFJlc3VsdHMoKXtjb25zdCB2PXRoaXMucmVzdWx0Q2hlY2soKTtpZih2KXJldHVybiB2O3RoaXMucmVzdWx0SGFzQmVlbkNhbGxlZD0hMDtjb25zdCBiPW5ldyBQcm9taXNlKF89Pnt0aGlzLndhaXRSZXNvbHZlcj1ffSk7cmV0dXJuIHRoaXMuc3VidHJhY3RXYWl0Q291bnRlckFuZENvbGxlY3QoKSxifWhhc2hCaW5kaW5ncyh2KXtyZXR1cm4gdGhpcy5oYXNoRnVuY3Rpb24odil9fWUuR3JvdXBzU3RhdGU9cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWdyb3VwL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ncm91cC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkdyb3VwLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1qb2luL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uSm9pbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Kb2luPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihsKXtzdXBlcihsLCJqb2luIil9YXN5bmMgdGVzdE9wZXJhdGlvbihsLHUpe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihsLHUpe2NvbnN0IHA9KGF3YWl0IFByb21pc2UuYWxsKGwuaW5wdXQubWFwKGFzeW5jIGc9Pih7b3V0cHV0OmF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Zyxjb250ZXh0OnV9KSxvcGVyYXRpb246Z30pKSkpLm1hcCgoe291dHB1dDpnLG9wZXJhdGlvbjp2fSk9Pih7b3V0cHV0Om8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoZyksb3BlcmF0aW9uOnZ9KSk7cmV0dXJuIHRoaXMubWVkaWF0b3JKb2luLm1lZGlhdGUoe3R5cGU6ImlubmVyIixlbnRyaWVzOnAsY29udGV4dDp1fSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkpvaW49ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWpvaW4vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWpvaW4vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Kb2luLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1sZWZ0am9pbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkxlZnRKb2luLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkxlZnRKb2luPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IodSl7c3VwZXIodSwibGVmdGpvaW4iKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHUscCl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7Y29uc3QgZz0oYXdhaXQgUHJvbWlzZS5hbGwodS5pbnB1dC5tYXAoYXN5bmMgYj0+KHtvdXRwdXQ6YXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpiLGNvbnRleHQ6cH0pLG9wZXJhdGlvbjpifSkpKSkubWFwKCh7b3V0cHV0OmIsb3BlcmF0aW9uOl99KT0+KHtvdXRwdXQ6by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhiKSxvcGVyYXRpb246X30pKSx2PWF3YWl0IHRoaXMubWVkaWF0b3JKb2luLm1lZGlhdGUoe3R5cGU6Im9wdGlvbmFsIixlbnRyaWVzOmcsY29udGV4dDpwfSk7aWYodS5leHByZXNzaW9uKXtjb25zdCBfPShhd2FpdCBnWzFdLm91dHB1dC5tZXRhZGF0YSgpKS52YXJpYWJsZXMsTz17Li4uby5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldEFzeW5jRXhwcmVzc2lvbkNvbnRleHQocCl9LFQ9bmV3IGQuQXN5bmNFdmFsdWF0b3IodS5leHByZXNzaW9uLE8pLGo9di5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe2F1dG9TdGFydDohMSx0cmFuc2Zvcm06YXN5bmMoTixCLEMpPT57aWYoIV8uZXZlcnkoTD0+Ti5oYXMoTC52YWx1ZSkpKXJldHVybiBDKE4pLEIoKTt0cnl7YXdhaXQgVC5ldmFsdWF0ZUFzRUJWKE4pJiZDKE4pfWNhdGNoKEwpeygwLGQuaXNFeHByZXNzaW9uRXJyb3IpKEwpP3RoaXMubG9nV2FybihwLCJFcnJvciBvY2N1cnJlZCB3aGlsZSBmaWx0ZXJpbmcuIiwoKT0+KHtlcnJvcjpMLGJpbmRpbmdzOk59KSk6ai5lbWl0KCJlcnJvciIsTCl9QigpfX0pO3YuYmluZGluZ3NTdHJlYW09an1yZXR1cm4gdn19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTGVmdEpvaW49aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWxlZnRqb2luL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1sZWZ0am9pbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkxlZnRKb2luLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1taW51cy9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk1pbnVzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbk1pbnVzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihsKXtzdXBlcihsLCJtaW51cyIpfWFzeW5jIHRlc3RPcGVyYXRpb24obCx1KXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24obCx1KXtjb25zdCBwPShhd2FpdCBQcm9taXNlLmFsbChsLmlucHV0Lm1hcChhc3luYyBnPT4oe291dHB1dDphd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmcsY29udGV4dDp1fSksb3BlcmF0aW9uOmd9KSkpKS5tYXAoKHtvdXRwdXQ6ZyxvcGVyYXRpb246dn0pPT4oe291dHB1dDpvLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGcpLG9wZXJhdGlvbjp2fSkpO3JldHVybiB0aGlzLm1lZGlhdG9ySm9pbi5tZWRpYXRlKHt0eXBlOiJtaW51cyIsZW50cmllczpwLGNvbnRleHQ6dX0pfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25NaW51cz1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tbWludXMvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW1pbnVzL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTWludXMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW5vcC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk5vcC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Ob3A9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigiYXN5bmNpdGVyYXRvciIpLGw9bmV3IG8uQmluZGluZ3NGYWN0b3J5O2NsYXNzIHUgZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGcpe3N1cGVyKGcsIm5vcCIpfWFzeW5jIHRlc3RPcGVyYXRpb24oZyx2KXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24oZyx2KXtyZXR1cm57YmluZGluZ3NTdHJlYW06bmV3IGguU2luZ2xldG9uSXRlcmF0b3IobC5iaW5kaW5ncygpKSxtZXRhZGF0YTooKT0+UHJvbWlzZS5yZXNvbHZlKHtjYXJkaW5hbGl0eTp7dHlwZToiZXhhY3QiLHZhbHVlOjF9LGNhbkNvbnRhaW5VbmRlZnM6ITEsdmFyaWFibGVzOltdfSksdHlwZToiYmluZGluZ3MifX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTm9wPXV9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ub3AvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW5vcC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk5vcC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tb3JkZXJieS1zcGFycWxlZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk9yZGVyQnlTcGFycWxlZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25PcmRlckJ5U3BhcnFsZWU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tb3JkZXJieS1zcGFycWxlZS9saWIvU29ydEl0ZXJhdG9yLmpzIik7Y2xhc3MgdSBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IoZyl7c3VwZXIoZywib3JkZXJieSIpLHRoaXMud2luZG93PWcud2luZG93Pz9OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9YXN5bmMgdGVzdE9wZXJhdGlvbihnLHYpe2ZvcihsZXQgYiBvZiBnLmV4cHJlc3Npb25zKWI9dGhpcy5leHRyYWN0U29ydEV4cHJlc3Npb24oYiksbmV3IGguQXN5bmNFdmFsdWF0b3IoYixvLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dCh2KSk7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKGcsdil7Y29uc3QgYj1hd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmcuaW5wdXQsY29udGV4dDp2fSksXz1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGIpLE89e3dpbmRvdzp0aGlzLndpbmRvd30sVD17Li4uby5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldEFzeW5jRXhwcmVzc2lvbkNvbnRleHQodil9O2xldHtiaW5kaW5nc1N0cmVhbTpqfT1fO2ZvcihsZXQgTj1nLmV4cHJlc3Npb25zLmxlbmd0aC0xO04+PTA7Ti0tKXtsZXQgQj1nLmV4cHJlc3Npb25zW05dO2NvbnN0IEM9dGhpcy5pc0FzY2VuZGluZyhCKTtCPXRoaXMuZXh0cmFjdFNvcnRFeHByZXNzaW9uKEIpO2NvbnN0IEw9bmV3IGguQXN5bmNFdmFsdWF0b3IoQixUKSxTPWFzeW5jKGssSixhZSk9Pnt0cnl7Y29uc3QgcT1hd2FpdCBMLmV2YWx1YXRlKGspO2FlKHtiaW5kaW5nczprLHJlc3VsdDpxfSl9Y2F0Y2gocSl7KDAsaC5pc0V4cHJlc3Npb25FcnJvcikocSl8fGouZW1pdCgiZXJyb3IiLHEpLGFlKHtiaW5kaW5nczprLHJlc3VsdDp2b2lkIDB9KX1KKCl9LFA9ai50cmFuc2Zvcm0oe3RyYW5zZm9ybTpTfSk7aj1uZXcgbC5Tb3J0SXRlcmF0b3IoUCwoayxKKT0+KDAsaC5vcmRlclR5cGVzKShrLnJlc3VsdCxKLnJlc3VsdCxDKSxPKS5tYXAoKHtiaW5kaW5nczprLHJlc3VsdDpKfSk9PmspfXJldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06aixtZXRhZGF0YTpfLm1ldGFkYXRhfX1leHRyYWN0U29ydEV4cHJlc3Npb24oZyl7Y29uc3R7ZXhwcmVzc2lvblR5cGU6dixvcGVyYXRvcjpifT1nO3JldHVybiB2IT09ZC5BbGdlYnJhLmV4cHJlc3Npb25UeXBlcy5PUEVSQVRPUj9nOmI9PT0iZGVzYyI/Zy5hcmdzWzBdOmd9aXNBc2NlbmRpbmcoZyl7Y29uc3R7ZXhwcmVzc2lvblR5cGU6dixvcGVyYXRvcjpifT1nO3JldHVybiB2IT09ZC5BbGdlYnJhLmV4cHJlc3Npb25UeXBlcy5PUEVSQVRPUj8hMDpiIT09ImRlc2MifX1lLkFjdG9yUXVlcnlPcGVyYXRpb25PcmRlckJ5U3BhcnFsZWU9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW9yZGVyYnktc3BhcnFsZWUvbGliL1NvcnRJdGVyYXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlNvcnRJdGVyYXRvcj12b2lkIDA7Y29uc3Qgbz1uKCJhc3luY2l0ZXJhdG9yIik7Y2xhc3MgZCBleHRlbmRzIG8uVHJhbnNmb3JtSXRlcmF0b3J7Y29uc3RydWN0b3IobCx1LHApe3N1cGVyKGwscCk7Y29uc3QgZz1wJiZwLndpbmRvdzt0aGlzLndpbmRvd0xlbmd0aD1OdW1iZXIuaXNGaW5pdGUoZykmJmc+MD9nOk51bWJlci5QT1NJVElWRV9JTkZJTklUWSx0aGlzLnNvcnQ9dSx0aGlzLnNvcnRlZD1bXX1fcmVhZChsLHUpe2xldCBwLHtsZW5ndGg6Z309dGhpcy5zb3J0ZWQ7Zm9yKDtnIT09dGhpcy53aW5kb3dMZW5ndGgmJihwPXRoaXMuc291cmNlLnJlYWQoKSxwIT09bnVsbCk7KXtsZXQgdj0wLGI9Zy0xLF8sTztmb3IoO3Y8PWI7KV89TWF0aC50cnVuYygoditiKS8yKSxPPXRoaXMuc29ydChwLHRoaXMuc29ydGVkW19dKSxPPDA/dj1fKzE6Tz4wP2I9Xy0xOih2PV8sYj0tMSk7dGhpcy5zb3J0ZWQuc3BsaWNlKHYsMCxwKSxnKyt9Zz09PXRoaXMud2luZG93TGVuZ3RoJiZ0aGlzLl9wdXNoKHRoaXMuc29ydGVkLnBvcCgpKSx1KCl9X2ZsdXNoKGwpe2xldHtsZW5ndGg6dX09dGhpcy5zb3J0ZWQ7Zm9yKDt1LS07KXRoaXMuX3B1c2godGhpcy5zb3J0ZWQucG9wKCkpO2woKX19ZS5Tb3J0SXRlcmF0b3I9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW9yZGVyYnktc3BhcnFsZWUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW9yZGVyYnktc3BhcnFsZWUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25PcmRlckJ5U3BhcnFsZWUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtYWx0L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEFsdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoQWx0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVuaW9uL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgcCBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3Iodil7c3VwZXIodix1LkFsZ2VicmEudHlwZXMuQUxUKX1hc3luYyBydW5PcGVyYXRpb24odixiKXtjb25zdCBfPXYucHJlZGljYXRlLE89KGF3YWl0IFByb21pc2UuYWxsKF8uaW5wdXQubWFwKE49PnRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0OmIsb3BlcmF0aW9uOm8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXRoKHYuc3ViamVjdCxOLHYub2JqZWN0LHYuZ3JhcGgpfSkpKSkubWFwKGguQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MpO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IGwuVW5pb25JdGVyYXRvcihPLm1hcChOPT5OLmJpbmRpbmdzU3RyZWFtKSx7YXV0b1N0YXJ0OiExfSksbWV0YWRhdGE6KCk9PlByb21pc2UuYWxsKE8ubWFwKE49Pk4ubWV0YWRhdGEoKSkpLnRoZW4oTj0+ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uVW5pb24udW5pb25NZXRhZGF0YShOLCEwKSl9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoQWx0PXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWFsdC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1hbHQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoQWx0LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWludi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhJbnYuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEludj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvckFic3RyYWN0UGF0aHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LGQuQWxnZWJyYS50eXBlcy5JTlYpfWFzeW5jIHJ1bk9wZXJhdGlvbih1LHApe2NvbnN0IGc9dS5wcmVkaWNhdGUsdj1vLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlUGF0aCh1Lm9iamVjdCxnLnBhdGgsdS5zdWJqZWN0LHUuZ3JhcGgpO3JldHVybiB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOnYsY29udGV4dDpwfSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhJbnY9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtaW52L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWludi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhJbnYuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbGluay9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhMaW5rLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhMaW5rPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvaW5kZXguanMiKSxkPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yQWJzdHJhY3RQYXRoe2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUsZC5BbGdlYnJhLnR5cGVzLkxJTkspfWFzeW5jIHJ1bk9wZXJhdGlvbih1LHApe2NvbnN0IGc9dS5wcmVkaWNhdGUsdj1vLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlUGF0dGVybih1LnN1YmplY3QsZy5pcmksdS5vYmplY3QsdS5ncmFwaCk7cmV0dXJuIHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246dixjb250ZXh0OnB9KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aExpbms9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbGluay9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1saW5rL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aExpbmsuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbnBzL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aE5wcy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoTnBzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGwgZXh0ZW5kcyBvLkFjdG9yQWJzdHJhY3RQYXRoe2NvbnN0cnVjdG9yKHApe3N1cGVyKHAsaC5BbGdlYnJhLnR5cGVzLk5QUyl9YXN5bmMgcnVuT3BlcmF0aW9uKHAsZyl7Y29uc3Qgdj1wLnByZWRpY2F0ZSxiPXRoaXMuZ2VuZXJhdGVWYXJpYWJsZShwKSxfPW8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKHAuc3ViamVjdCxiLHAub2JqZWN0LHAuZ3JhcGgpLE89ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOl8sY29udGV4dDpnfSkpO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06Ty5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe2ZpbHRlcihqKXtyZXR1cm4hdi5pcmlzLnNvbWUoTj0+Ti5lcXVhbHMoai5nZXQoYikpKX0sdHJhbnNmb3JtKGosTixCKXtCKGouZGVsZXRlKGIpKSxOKCl9fSksbWV0YWRhdGE6Ty5tZXRhZGF0YX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhOcHM9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbnBzL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLW5wcy9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhOcHMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtb25lLW9yLW1vcmUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoT25lT3JNb3JlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhPbmVPck1vcmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bigic3BhcnFsYWxnZWJyYWpzIikscD1uZXcgZC5CaW5kaW5nc0ZhY3Rvcnk7Y2xhc3MgZyBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3IoYil7c3VwZXIoYix1LkFsZ2VicmEudHlwZXMuT05FX09SX01PUkVfUEFUSCl9YXN5bmMgcnVuT3BlcmF0aW9uKGIsXyl7Y29uc3QgTz1hd2FpdCB0aGlzLmlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0KF8sYik7aWYoTy5vcGVyYXRpb24pcmV0dXJuIE8ub3BlcmF0aW9uO189Ty5jb250ZXh0O2NvbnN0IFQ9Yi5wcmVkaWNhdGU7aWYoYi5zdWJqZWN0LnRlcm1UeXBlIT09IlZhcmlhYmxlIiYmYi5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiKXtjb25zdCBDPWIub2JqZWN0LEw9YXdhaXQgdGhpcy5nZXRPYmplY3RzUHJlZGljYXRlU3RhckV2YWwoYi5zdWJqZWN0LFQucGF0aCxDLGIuZ3JhcGgsXywhMSksUz1iLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9bQyxiLmdyYXBoXTpbQ107cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpMLmJpbmRpbmdzU3RyZWFtLG1ldGFkYXRhOmFzeW5jKCk9Pih7Li4uYXdhaXQgTC5tZXRhZGF0YSgpLHZhcmlhYmxlczpTfSl9fWlmKGIuc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJmIub2JqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIil7Y29uc3QgQz1vLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlRGlzdGluY3Qoby5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdGgoYi5zdWJqZWN0LGIucHJlZGljYXRlLnBhdGgsYi5vYmplY3QsYi5ncmFwaCkpLEw9aC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7Y29udGV4dDpfLG9wZXJhdGlvbjpDfSkpLFM9Yi5zdWJqZWN0LFA9Yi5vYmplY3QsRj17fSxrPW5ldyBsLk11bHRpVHJhbnNmb3JtSXRlcmF0b3IoTC5iaW5kaW5nc1N0cmVhbSx7bXVsdGlUcmFuc2Zvcm06YWU9Pntjb25zdCBxPWFlLmdldChTKSxHPWFlLmdldChQKSxyZT1iLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9hZS5nZXQoYi5ncmFwaCk6Yi5ncmFwaDtyZXR1cm4gbmV3IGwuVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+e2NvbnN0IE09bmV3IGwuQnVmZmVyZWRJdGVyYXRvcjtyZXR1cm4gYXdhaXQgdGhpcy5nZXRTdWJqZWN0QW5kT2JqZWN0QmluZGluZ3NQcmVkaWNhdGVTdGFyKFMsUCxxLEcsVC5wYXRoLHJlLF8sRix7fSxNLHtjb3VudDowfSksTS50cmFuc2Zvcm0oe3RyYW5zZm9ybSgkLFUsSCl7Yi5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJigkPSQuc2V0KGIuZ3JhcGgscmUpKSxIKCQpLFUoKX19KX0se21heEJ1ZmZlclNpemU6MTI4fSl9LGF1dG9TdGFydDohMX0pLEo9Yi5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/W1MsUCxiLmdyYXBoXTpbUyxQXTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOmssbWV0YWRhdGE6YXN5bmMoKT0+KHsuLi5hd2FpdCBMLm1ldGFkYXRhKCksdmFyaWFibGVzOkp9KX19aWYoYi5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmYi5vYmplY3QudGVybVR5cGUhPT0iVmFyaWFibGUiKXJldHVybiB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7Y29udGV4dDpfLG9wZXJhdGlvbjpvLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlUGF0aChiLm9iamVjdCxvLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlT25lT3JNb3JlUGF0aChvLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlSW52KFQucGF0aCkpLGIuc3ViamVjdCxiLmdyYXBoKX0pO2NvbnN0IGo9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKCksTj1oLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0Ol8sb3BlcmF0aW9uOm8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXRoKGIuc3ViamVjdCxULGosYi5ncmFwaCl9KSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpOLmJpbmRpbmdzU3RyZWFtLnRyYW5zZm9ybSh7ZmlsdGVyOkM9PmIub2JqZWN0LmVxdWFscyhDLmdldChqKSksdHJhbnNmb3JtKEMsTCxTKXtjb25zdCBQPWIuZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP3AuYmluZGluZ3MoW1tiLmdyYXBoLEMuZ2V0KGIuZ3JhcGgpXV0pOnAuYmluZGluZ3MoKTtTKFApLEwoKX19KSxtZXRhZGF0YTphc3luYygpPT4oey4uLmF3YWl0IE4ubWV0YWRhdGEoKSx2YXJpYWJsZXM6Yi5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/W2IuZ3JhcGhdOltdfSl9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoT25lT3JNb3JlPWd9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLW9uZS1vci1tb3JlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLW9uZS1vci1tb3JlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aE9uZU9yTW9yZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1zZXEvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoU2VxLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhTZXE9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgbCBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3IocCl7c3VwZXIocCxoLkFsZ2VicmEudHlwZXMuU0VRKX1hc3luYyBydW5PcGVyYXRpb24ocCxnKXtjb25zdCB2PXAucHJlZGljYXRlO2xldCBiPXAuc3ViamVjdDtjb25zdCBfPVtdLE89YXdhaXQgUHJvbWlzZS5hbGwodi5pbnB1dC5tYXAoKE4sQik9Pntjb25zdCBDPUI9PT12LmlucHV0Lmxlbmd0aC0xP3Aub2JqZWN0OnRoaXMuZ2VuZXJhdGVWYXJpYWJsZShwLGBiJHtCfWApLEw9by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdGgoYixOLEMscC5ncmFwaCksUz10aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7Y29udGV4dDpnLG9wZXJhdGlvbjpMfSk7cmV0dXJuIGI9QyxCPHYuaW5wdXQubGVuZ3RoLTEmJl8ucHVzaChDKSx7b3V0cHV0OlMsb3BlcmF0aW9uOkx9fSkubWFwKGFzeW5jKHtvdXRwdXQ6TixvcGVyYXRpb246Qn0pPT4oe291dHB1dDpkLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IE4pLG9wZXJhdGlvbjpCfSkpKSxUPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvckpvaW4ubWVkaWF0ZSh7dHlwZToiaW5uZXIiLGVudHJpZXM6Tyxjb250ZXh0Omd9KSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpULmJpbmRpbmdzU3RyZWFtLnRyYW5zZm9ybSh7dHJhbnNmb3JtKE4sQixDKXtmb3IoY29uc3QgTCBvZiBfKU49Ti5kZWxldGUoTCk7QyhOKSxCKCl9fSksYXN5bmMgbWV0YWRhdGEoKXtjb25zdCBOPWF3YWl0IFQubWV0YWRhdGEoKSxCPU4udmFyaWFibGVzLmZpbHRlcihDPT4hXy5zb21lKEw9PkwudmFsdWU9PT1DLnZhbHVlKSk7cmV0dXJuey4uLk4sdmFyaWFibGVzOkJ9fX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhTZXE9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtc2VxL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLXNlcS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhTZXEuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1tb3JlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck1vcmUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck1vcmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKSxwPW4oInNwYXJxbGFsZ2VicmFqcyIpLGc9bmV3IGQuQmluZGluZ3NGYWN0b3J5O2NsYXNzIHYgZXh0ZW5kcyBvLkFjdG9yQWJzdHJhY3RQYXRoe2NvbnN0cnVjdG9yKF8pe3N1cGVyKF8scC5BbGdlYnJhLnR5cGVzLlpFUk9fT1JfTU9SRV9QQVRIKX1hc3luYyBydW5PcGVyYXRpb24oXyxPKXtjb25zdCBUPWF3YWl0IHRoaXMuaXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3QoTyxfKTtpZihULm9wZXJhdGlvbilyZXR1cm4gVC5vcGVyYXRpb247Tz1ULmNvbnRleHQ7Y29uc3Qgaj1fLnByZWRpY2F0ZSxOPV8uc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIsQj1fLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSI7aWYoXy5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmXy5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiKXtjb25zdCBrPXRoaXMuZ2VuZXJhdGVWYXJpYWJsZShfKSxKPW8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKF8uc3ViamVjdCxrLF8ub2JqZWN0LF8uZ3JhcGgpLGFlPWguQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe2NvbnRleHQ6TyxvcGVyYXRpb246Sn0pKSxxPV8uc3ViamVjdCxHPV8ub2JqZWN0LHJlPW5ldyBTZXQsTT17fSwkPW5ldyBsLk11bHRpVHJhbnNmb3JtSXRlcmF0b3IoYWUuYmluZGluZ3NTdHJlYW0se211bHRpVHJhbnNmb3JtOkg9Pntjb25zdCBlZT1ILmdldChxKSxnZT1ILmdldChHKSxtZT1fLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9ILmdldChfLmdyYXBoKTpfLmdyYXBoLGZlPSgwLHUudGVybVRvU3RyaW5nKShlZSkrKDAsdS50ZXJtVG9TdHJpbmcpKG1lKSxoZT0oMCx1LnRlcm1Ub1N0cmluZykoZ2UpKygwLHUudGVybVRvU3RyaW5nKShtZSk7cmV0dXJuIG5ldyBsLlRyYW5zZm9ybUl0ZXJhdG9yKGFzeW5jKCk9PntpZihyZS5oYXMoZmUpJiZyZS5oYXMoaGUpKXJldHVybiBuZXcgbC5FbXB0eUl0ZXJhdG9yO2NvbnN0IF9lPW5ldyBsLkJ1ZmZlcmVkSXRlcmF0b3IseGU9e2NvdW50OjB9O3JldHVybiByZS5oYXMoZmUpfHwocmUuYWRkKGZlKSxhd2FpdCB0aGlzLmdldFN1YmplY3RBbmRPYmplY3RCaW5kaW5nc1ByZWRpY2F0ZVN0YXIocSxHLGVlLGVlLGoucGF0aCxtZSxPLE0se30sX2UseGUpKSxyZS5oYXMoaGUpfHwocmUuYWRkKGhlKSxhd2FpdCB0aGlzLmdldFN1YmplY3RBbmRPYmplY3RCaW5kaW5nc1ByZWRpY2F0ZVN0YXIocSxHLGdlLGdlLGoucGF0aCxtZSxPLE0se30sX2UseGUpKSxfZS50cmFuc2Zvcm0oe3RyYW5zZm9ybShOZSxJZSxSZSl7Xy5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJihOZT1OZS5zZXQoXy5ncmFwaCxtZSkpLFJlKE5lKSxJZSgpfX0pfSl9fSksVT1fLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9bcSxfLm9iamVjdCxfLmdyYXBoXTpbcSxfLm9iamVjdF07cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTokLG1ldGFkYXRhOmFzeW5jKCk9Pih7Li4uYXdhaXQgYWUubWV0YWRhdGEoKSx2YXJpYWJsZXM6VX0pfX1pZighTiYmIUIpe2NvbnN0IGs9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKCksSj1hd2FpdCB0aGlzLmdldE9iamVjdHNQcmVkaWNhdGVTdGFyRXZhbChfLnN1YmplY3Qsai5wYXRoLGssXy5ncmFwaCxPLCEwKTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOkouYmluZGluZ3NTdHJlYW0udHJhbnNmb3JtKHtmaWx0ZXI6cT0+Xy5vYmplY3QuZXF1YWxzKHEuZ2V0KGspKSx0cmFuc2Zvcm0ocSxHLHJlKXtjb25zdCBNPV8uZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP2cuYmluZGluZ3MoW1tfLmdyYXBoLHEuZ2V0KF8uZ3JhcGgpXV0pOmcuYmluZGluZ3MoKTtyZShNKSxHKCl9fSksbWV0YWRhdGE6YXN5bmMoKT0+KHsuLi5hd2FpdCBKLm1ldGFkYXRhKCksdmFyaWFibGVzOl8uZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP1tfLmdyYXBoXTpbXX0pfX1jb25zdCBDPU4/Xy5vYmplY3Q6Xy5zdWJqZWN0LEw9Tj9fLnN1YmplY3Q6Xy5vYmplY3QsUz1OP28uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVJbnYoai5wYXRoKTpqLnBhdGgsUD1hd2FpdCB0aGlzLmdldE9iamVjdHNQcmVkaWNhdGVTdGFyRXZhbChDLFMsTCxfLmdyYXBoLE8sITApLEY9Xy5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/W0wsXy5ncmFwaF06W0xdO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06UC5iaW5kaW5nc1N0cmVhbSxtZXRhZGF0YTphc3luYygpPT4oey4uLmF3YWl0IFAubWV0YWRhdGEoKSx2YXJpYWJsZXM6Rn0pfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck1vcmU9dn0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1tb3JlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLXplcm8tb3ItbW9yZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhaZXJvT3JNb3JlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLXplcm8tb3Itb25lL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck9uZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yT25lPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxsPW4oImFzeW5jaXRlcmF0b3IiKSx1PW4oInNwYXJxbGFsZ2VicmFqcyIpLHA9bmV3IGQuQmluZGluZ3NGYWN0b3J5O2NsYXNzIGcgZXh0ZW5kcyBvLkFjdG9yQWJzdHJhY3RQYXRoe2NvbnN0cnVjdG9yKGIpe3N1cGVyKGIsdS5BbGdlYnJhLnR5cGVzLlpFUk9fT1JfT05FX1BBVEgpfWFzeW5jIHJ1bk9wZXJhdGlvbihiLF8pe2NvbnN0IE89Yi5wcmVkaWNhdGUsVD1iLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiLGo9Yi5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiLE49W107aWYoIVQmJiFqJiZiLnN1YmplY3QuZXF1YWxzKGIub2JqZWN0KSlyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOm5ldyBsLlNpbmdsZXRvbkl0ZXJhdG9yKHAuYmluZGluZ3MoKSksbWV0YWRhdGE6KCk9PlByb21pc2UucmVzb2x2ZSh7Y2FyZGluYWxpdHk6e3R5cGU6ImV4YWN0Iix2YWx1ZToxfSxjYW5Db250YWluVW5kZWZzOiExLHZhcmlhYmxlczpbXX0pfTtpZihUJiZqKXRocm93IG5ldyBFcnJvcigiWmVyb09yT25lIHBhdGggZXhwcmVzc2lvbnMgd2l0aCAyIHZhcmlhYmxlcyBub3Qgc3VwcG9ydGVkIHlldCIpO2NvbnN0IEI9YXdhaXQgdGhpcy5pc1BhdGhBcmJpdHJhcnlMZW5ndGhEaXN0aW5jdChfLGIpO2lmKEIub3BlcmF0aW9uKXJldHVybiBCLm9wZXJhdGlvbjtfPUIuY29udGV4dCxiLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiZOLnB1c2gocC5iaW5kaW5ncyhbW2Iuc3ViamVjdCxiLm9iamVjdF1dKSksYi5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiZOLnB1c2gocC5iaW5kaW5ncyhbW2Iub2JqZWN0LGIuc3ViamVjdF1dKSk7Y29uc3QgQz1oLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0Ol8sb3BlcmF0aW9uOm8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXRoKGIuc3ViamVjdCxPLnBhdGgsYi5vYmplY3QsYi5ncmFwaCl9KSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpDLmJpbmRpbmdzU3RyZWFtLnByZXBlbmQoTiksbWV0YWRhdGE6Qy5tZXRhZGF0YX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhaZXJvT3JPbmU9Z30sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1vbmUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1vbmUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yT25lLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wcm9qZWN0L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUHJvamVjdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Qcm9qZWN0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvZGF0YS1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxsPW5ldyBoLkRhdGFGYWN0b3J5O2NsYXNzIHUgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGcpe3N1cGVyKGcsInByb2plY3QiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGcsdil7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKGcsdil7Y29uc3QgYj1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Zy5pbnB1dCxjb250ZXh0OnZ9KSksXz1hd2FpdCBiLm1ldGFkYXRhKCksTz1nLnZhcmlhYmxlcyxUPV8udmFyaWFibGVzLmZpbHRlcihDPT4hTy5zb21lKEw9PkMudmFsdWU9PT1MLnZhbHVlKSksaj1PLmZpbHRlcihDPT4hXy52YXJpYWJsZXMuc29tZShMPT5DLnZhbHVlPT09TC52YWx1ZSkpO2lmKGoubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKGBWYXJpYWJsZXMgJyR7ai5tYXAoQz0+YD8ke0MudmFsdWV9YCl9JyBhcmUgdXNlZCBpbiB0aGUgcHJvamVjdGlvbiByZXN1bHQsIGJ1dCBhcmUgbm90IGFzc2lnbmVkLmApO2xldCBOPVQubGVuZ3RoPT09MD9iLmJpbmRpbmdzU3RyZWFtOmIuYmluZGluZ3NTdHJlYW0udHJhbnNmb3JtKHttYXAoQyl7Zm9yKGNvbnN0IEwgb2YgVClDPUMuZGVsZXRlKEwpO3JldHVybiBDfSxhdXRvU3RhcnQ6ITF9KSxCPTA7cmV0dXJuIE49Ti50cmFuc2Zvcm0oe21hcChDKXtCKys7Y29uc3QgTD1uZXcgTWFwO3JldHVybiBDLm1hcChTPT57aWYoUyBpbnN0YW5jZW9mIGQuQmxhbmtOb2RlQmluZGluZ3NTY29wZWQpe2xldCBQPUwuZ2V0KFMudmFsdWUpO3JldHVybiBQfHwoUD1sLmJsYW5rTm9kZShgJHtTLnZhbHVlfSR7Qn1gKSxMLnNldChTLnZhbHVlLFApKSxQfXJldHVybiBTfSl9LGF1dG9TdGFydDohMX0pLHt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06TixtZXRhZGF0YTphc3luYygpPT4oey4uLl8sdmFyaWFibGVzOk99KX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblByb2plY3Q9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXByb2plY3QvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXByb2plY3QvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Qcm9qZWN0LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1xdWFkcGF0dGVybi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblF1YWRwYXR0ZXJuLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblF1YWRwYXR0ZXJuPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvaW5kZXguanMiKSxwPW4oInNwYXJxbGFsZ2VicmFqcyIpLGc9bmV3IG8uQmluZGluZ3NGYWN0b3J5LHY9bmV3IGwuRGF0YUZhY3RvcnksYj1uZXcgcC5GYWN0b3J5O2NsYXNzIF8gZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZHtjb25zdHJ1Y3RvcihUKXtzdXBlcihULCJwYXR0ZXJuIil9c3RhdGljIGlzVGVybVZhcmlhYmxlKFQpe3JldHVybiBULnRlcm1UeXBlPT09IlZhcmlhYmxlIn1zdGF0aWMgZ2V0VmFyaWFibGVzKFQpe3JldHVybigwLHUudW5pcVRlcm1zKSgoMCx1LmdldFRlcm1zKShUKS5maWx0ZXIoXy5pc1Rlcm1WYXJpYWJsZSkpfXN0YXRpYyBnZXREdXBsaWNhdGVFbGVtZW50TGlua3MoVCl7Y29uc3Qgaj17fTtsZXQgTj0hMTtmb3IoY29uc3QgQyBvZiB1LlFVQURfVEVSTV9OQU1FUylpZihUW0NdLnRlcm1UeXBlPT09IlZhcmlhYmxlIil7Y29uc3QgTD1UW0NdLnZhbHVlLFM9KGpbTF18fChqW0xdPVtdKSkucHVzaChDKTtOPU58fFM+MX1pZighTilyZXR1cm47Y29uc3QgQj17fTtmb3IoY29uc3QgQyBpbiBqKXtjb25zdCBMPWpbQ10sUz1MLnNsaWNlKDEpO1MubGVuZ3RoPjAmJihCW0xbMF1dPVMpfXJldHVybiBCfXN0YXRpYyB2YWxpZGF0ZU1ldGFkYXRhKFQpe2Zvcihjb25zdCBqIG9mWyJjYXJkaW5hbGl0eSIsImNhbkNvbnRhaW5VbmRlZnMiXSlpZighKGogaW4gVCkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1ldGFkYXRhOiBtaXNzaW5nICR7an0gaW4gJHtKU09OLnN0cmluZ2lmeShUKX1gKTtyZXR1cm4gVH1zdGF0aWMgZ2V0TWV0YWRhdGEoVCxqLE4pe3JldHVybigpPT5uZXcgUHJvbWlzZSgoQixDKT0+e1QuZ2V0UHJvcGVydHkoIm1ldGFkYXRhIixMPT5CKEwpKSxULm9uKCJlcnJvciIsQyl9KS50aGVuKEI9PigiY2FuQ29udGFpblVuZGVmcyJpbiBCfHwoQi5jYW5Db250YWluVW5kZWZzPSExKSxfLnF1YWRzTWV0YWRhdGFUb0JpbmRpbmdzTWV0YWRhdGEoXy52YWxpZGF0ZU1ldGFkYXRhKEIpLGosTikpKX1zdGF0aWMgcXVhZHNNZXRhZGF0YVRvQmluZGluZ3NNZXRhZGF0YShULGosTil7cmV0dXJuey4uLlQsb3JkZXI6VC5vcmRlcj9fLnF1YWRzT3JkZXJUb0JpbmRpbmdzT3JkZXIoVC5vcmRlcixqKTp2b2lkIDAsYXZhaWxhYmxlT3JkZXJzOlQuYXZhaWxhYmxlT3JkZXJzP1QuYXZhaWxhYmxlT3JkZXJzLm1hcChCPT4oe2Nvc3Q6Qi5jb3N0LHRlcm1zOl8ucXVhZHNPcmRlclRvQmluZGluZ3NPcmRlcihCLnRlcm1zLGopfSkpOnZvaWQgMCx2YXJpYWJsZXM6Tn19c3RhdGljIHF1YWRzT3JkZXJUb0JpbmRpbmdzT3JkZXIoVCxqKXtjb25zdCBOPXt9O3JldHVybiBULm1hcChCPT57Y29uc3QgQz1qW0IudGVybV07aWYoQyYmIU5bQ10pcmV0dXJuIE5bQ109ITAse3Rlcm06di52YXJpYWJsZShDKSxkaXJlY3Rpb246Qi5kaXJlY3Rpb259fSkuZmlsdGVyKEI9PiEhQil9YXN5bmMgdGVzdE9wZXJhdGlvbihULGope3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihULGope1QuY29udGV4dCYmKGo9ai5tZXJnZShULmNvbnRleHQpKTtsZXQgTj1UO2NvbnN0IEI9dGhpcy51bmlvbkRlZmF1bHRHcmFwaHx8ai5nZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24udW5pb25EZWZhdWx0R3JhcGgpO1QuZ3JhcGgudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIiYmQiYmKE49Yi5jcmVhdGVQYXR0ZXJuKFQuc3ViamVjdCxULnByZWRpY2F0ZSxULm9iamVjdCx2LnZhcmlhYmxlKCJfX2NvbXVuaWNhOmRlZmF1bHRHcmFwaCIpKSk7Y29uc3QgQz1hd2FpdCB0aGlzLm1lZGlhdG9yUmVzb2x2ZVF1YWRQYXR0ZXJuLm1lZGlhdGUoe3BhdHRlcm46Tixjb250ZXh0Omp9KSxMPV8uZ2V0VmFyaWFibGVzKFQpLFM9KDAsdS5yZWR1Y2VUZXJtcykoVCwoSixhZSxxKT0+KGFlLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmKEpbcV09YWUudmFsdWUpLEopLHt9KSxQPShKLGFlLHEpPT57Y29uc3QgRz1TW3FdO3JldHVybiBHJiZKLnB1c2goW3YudmFyaWFibGUoRyksYWVdKSxKfSxGPV8uZ2V0TWV0YWRhdGEoQy5kYXRhLFMsTCk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgZC5DbG9zYWJsZVRyYW5zZm9ybUl0ZXJhdG9yKGFzeW5jKCk9PntsZXQgSj1DLmRhdGE7Y29uc3QgYWU9Xy5nZXREdXBsaWNhdGVFbGVtZW50TGlua3MoVCk7cmV0dXJuIFQuZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiJiYhQiYmKEo9Si5maWx0ZXIocT0+cS5ncmFwaC50ZXJtVHlwZSE9PSJEZWZhdWx0R3JhcGgiKSksYWUmJihKPUouZmlsdGVyKHE9Pntmb3IoY29uc3QgRyBvZiB1LlRSSVBMRV9URVJNX05BTUVTKWZvcihjb25zdCByZSBvZiBhZVtHXXx8W10paWYoIXFbR10uZXF1YWxzKHFbcmVdKSlyZXR1cm4hMTtyZXR1cm4hMH0pKSxKLm1hcChxPT5nLmJpbmRpbmdzKCgwLHUucmVkdWNlVGVybXMpKHEsUCxbXSkpKX0se2F1dG9TdGFydDohMSxvbkNsb3NlOigpPT5DLmRhdGEuZGVzdHJveSgpfSksbWV0YWRhdGE6Rn19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblF1YWRwYXR0ZXJuPV99LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1xdWFkcGF0dGVybi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcXVhZHBhdHRlcm4vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25RdWFkcGF0dGVybi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcmVkdWNlZC1oYXNoL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUmVkdWNlZEhhc2guanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUmVkdWNlZEhhc2g9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcmVkdWNlZC1oYXNoL25vZGVfbW9kdWxlcy9scnUtY2FjaGUvaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJyZWR1Y2VkIil9YXN5bmMgdGVzdE9wZXJhdGlvbih1LHApe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbih1LHApe2NvbnN0IGc9by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOnUuaW5wdXQsY29udGV4dDpwfSkpO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06Zy5iaW5kaW5nc1N0cmVhbS5maWx0ZXIoYXdhaXQgdGhpcy5uZXdIYXNoRmlsdGVyKHApKSxtZXRhZGF0YTpnLm1ldGFkYXRhfX1hc3luYyBuZXdIYXNoRmlsdGVyKHUpe2NvbnN0e2hhc2hGdW5jdGlvbjpwfT1hd2FpdCB0aGlzLm1lZGlhdG9ySGFzaEJpbmRpbmdzLm1lZGlhdGUoe2FsbG93SGFzaENvbGxpc2lvbnM6ITAsY29udGV4dDp1fSksZz1uZXcgZCh7bWF4OnRoaXMuY2FjaGVTaXplfSk7cmV0dXJuIHY9Pntjb25zdCBiPXAodik7cmV0dXJuIGcuaGFzKGIpPyExOihnLnNldChiLCEwKSwhMCl9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25SZWR1Y2VkSGFzaD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcmVkdWNlZC1oYXNoL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1yZWR1Y2VkLWhhc2gvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25SZWR1Y2VkSGFzaC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2VydmljZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblNlcnZpY2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uU2VydmljZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxsPW4oImFzeW5jaXRlcmF0b3IiKSx1PW5ldyBvLkJpbmRpbmdzRmFjdG9yeTtjbGFzcyBwIGV4dGVuZHMgZC5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih2KXtzdXBlcih2LCJzZXJ2aWNlIil9YXN5bmMgdGVzdE9wZXJhdGlvbih2LGIpe2lmKHYubmFtZS50ZXJtVHlwZSE9PSJOYW1lZE5vZGUiKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IGNhbiBvbmx5IHF1ZXJ5IHNlcnZpY2VzIGJ5IElSSSwgd2hpbGUgYSAke3YubmFtZS50ZXJtVHlwZX0gd2FzIGdpdmVuLmApO3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbih2LGIpe2NvbnN0IF89di5uYW1lLnZhbHVlO2xldCBPPWIuZGVsZXRlKGguS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2UpLmRlbGV0ZShoLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcykuZGVsZXRlKGguS2V5c0luaXRRdWVyeS5xdWVyeVN0cmluZyk7Y29uc3QgVD10aGlzLmZvcmNlU3BhcnFsRW5kcG9pbnQ/InNwYXJxbCI6dm9pZCAwO089Ty5zZXQoaC5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZXMsW3t0eXBlOlQsdmFsdWU6X31dKTtsZXQgajt0cnl7aj1kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246di5pbnB1dCxjb250ZXh0Ok99KSl9Y2F0Y2goTil7aWYodi5zaWxlbnQpaj17YmluZGluZ3NTdHJlYW06bmV3IGwuU2luZ2xldG9uSXRlcmF0b3IodS5iaW5kaW5ncygpKSx0eXBlOiJiaW5kaW5ncyIsbWV0YWRhdGE6YXN5bmMoKT0+KHtjYXJkaW5hbGl0eTp7dHlwZToiZXhhY3QiLHZhbHVlOjF9LGNhbkNvbnRhaW5VbmRlZnM6ITEsdmFyaWFibGVzOltdfSl9O2Vsc2UgdGhyb3cgTn1yZXR1cm4gan19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uU2VydmljZT1wfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2VydmljZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2VydmljZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblNlcnZpY2UuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXNsaWNlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uU2xpY2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uU2xpY2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IodSl7c3VwZXIodSwic2xpY2UiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHUscCl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7dS5sZW5ndGgmJihwPXAuc2V0KGQuS2V5c1F1ZXJ5T3BlcmF0aW9uLmxpbWl0SW5kaWNhdG9yLHUubGVuZ3RoKSk7Y29uc3QgZz1hd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOnUuaW5wdXQsY29udGV4dDpwfSk7aWYoZy50eXBlPT09ImJpbmRpbmdzIilyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOnRoaXMuc2xpY2VTdHJlYW0oZy5iaW5kaW5nc1N0cmVhbSx1KSxtZXRhZGF0YTp0aGlzLnNsaWNlTWV0YWRhdGEoZyx1KX07aWYoZy50eXBlPT09InF1YWRzIilyZXR1cm57dHlwZToicXVhZHMiLHF1YWRTdHJlYW06dGhpcy5zbGljZVN0cmVhbShnLnF1YWRTdHJlYW0sdSksbWV0YWRhdGE6dGhpcy5zbGljZU1ldGFkYXRhKGcsdSl9O3Rocm93IG5ldyBFcnJvcihgSW52YWxpZCBxdWVyeSBvdXRwdXQgdHlwZTogRXhwZWN0ZWQgJ2JpbmRpbmdzJyBvciAncXVhZHMnIGJ1dCBnb3QgJyR7Zy50eXBlfSdgKX1zbGljZVN0cmVhbSh1LHApe2NvbnN0IGc9ISFwLmxlbmd0aHx8cC5sZW5ndGg9PT0wLHtzdGFydDp2fT1wLGI9Zz9wLnN0YXJ0K3AubGVuZ3RoLTE6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO3JldHVybiB1LnRyYW5zZm9ybSh7b2Zmc2V0OnYsbGltaXQ6TWF0aC5tYXgoYi12KzEsMCksYXV0b1N0YXJ0OiExfSl9c2xpY2VNZXRhZGF0YSh1LHApe2NvbnN0IGc9ISFwLmxlbmd0aHx8cC5sZW5ndGg9PT0wO3JldHVybigpPT51Lm1ldGFkYXRhKCkudGhlbih2PT57Y29uc3QgYj17Li4udi5jYXJkaW5hbGl0eX07cmV0dXJuIE51bWJlci5pc0Zpbml0ZShiLnZhbHVlKSYmKGIudmFsdWU9TWF0aC5tYXgoMCxiLnZhbHVlLXAuc3RhcnQpLGcmJihiLnZhbHVlPU1hdGgubWluKGIudmFsdWUscC5sZW5ndGgpKSksey4uLnYsY2FyZGluYWxpdHk6Yn19KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uU2xpY2U9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXNsaWNlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1zbGljZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblNsaWNlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11bmlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblVuaW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblVuaW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oImFzeW5jaXRlcmF0b3IiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvaW5kZXguanMiKTtjbGFzcyBsIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihwKXtzdXBlcihwLCJ1bmlvbiIpfXN0YXRpYyB1bmlvblZhcmlhYmxlcyhwKXtyZXR1cm4oMCxoLnVuaXFUZXJtcykocC5mbGF0KCkpfXN0YXRpYyB1bmlvbk1ldGFkYXRhKHAsZyl7Y29uc3Qgdj17dHlwZToiZXhhY3QiLHZhbHVlOjB9O2Zvcihjb25zdCBfIG9mIHApaWYoXy5jYXJkaW5hbGl0eS52YWx1ZSYmTnVtYmVyLmlzRmluaXRlKF8uY2FyZGluYWxpdHkudmFsdWUpfHxfLmNhcmRpbmFsaXR5LnZhbHVlPT09MClfLmNhcmRpbmFsaXR5LnR5cGU9PT0iZXN0aW1hdGUiJiYodi50eXBlPSJlc3RpbWF0ZSIpLHYudmFsdWUrPV8uY2FyZGluYWxpdHkudmFsdWU7ZWxzZXt2LnR5cGU9ImVzdGltYXRlIix2LnZhbHVlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTticmVha31jb25zdCBiPXtjYXJkaW5hbGl0eTp2LGNhbkNvbnRhaW5VbmRlZnM6cC5zb21lKF89Pl8uY2FuQ29udGFpblVuZGVmcyl9O3JldHVybiBnJiYoYi52YXJpYWJsZXM9bC51bmlvblZhcmlhYmxlcyhwLm1hcChfPT5fLnZhcmlhYmxlcykpKSxifWFzeW5jIHRlc3RPcGVyYXRpb24ocCxnKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24ocCxnKXtjb25zdCB2PShhd2FpdCBQcm9taXNlLmFsbChwLmlucHV0Lm1hcChPPT50aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOk8sY29udGV4dDpnfSkpKSkubWFwKG8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MpO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IGQuVW5pb25JdGVyYXRvcih2Lm1hcChPPT5PLmJpbmRpbmdzU3RyZWFtKSx7YXV0b1N0YXJ0OiExfSksbWV0YWRhdGE6KCk9PlByb21pc2UuYWxsKHYubWFwKE89Pk8ubWV0YWRhdGEoKSkpLnRoZW4oTz0+bC51bmlvbk1ldGFkYXRhKE8sITApKX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblVuaW9uPWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11bmlvbi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdW5pb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Vbmlvbi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWFkZC1yZXdyaXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQWRkUmV3cml0ZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25BZGRSZXdyaXRlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksaD1uKCJzcGFycWxhbGdlYnJhanMiKSxsPW5ldyBkLkRhdGFGYWN0b3J5O2NsYXNzIHUgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGcpe3N1cGVyKGcsImFkZCIpLHRoaXMuZmFjdG9yeT1uZXcgaC5GYWN0b3J5fWFzeW5jIHRlc3RPcGVyYXRpb24oZyx2KXtyZXR1cm4gby5BY3RvclF1ZXJ5T3BlcmF0aW9uLnRocm93T25SZWFkT25seSh2KSwhMH1ydW5PcGVyYXRpb24oZyx2KXtjb25zdCBiPWcuZGVzdGluYXRpb249PT0iREVGQVVMVCI/bC5kZWZhdWx0R3JhcGgoKTpnLmRlc3RpbmF0aW9uLF89Zy5zb3VyY2U9PT0iREVGQVVMVCI/bC5kZWZhdWx0R3JhcGgoKTpnLnNvdXJjZSxPPXRoaXMuZmFjdG9yeS5jcmVhdGVEZWxldGVJbnNlcnQodm9pZCAwLFt0aGlzLmZhY3RvcnkuY3JlYXRlUGF0dGVybihsLnZhcmlhYmxlKCJzIiksbC52YXJpYWJsZSgicCIpLGwudmFyaWFibGUoIm8iKSxiKV0sdGhpcy5mYWN0b3J5LmNyZWF0ZVBhdHRlcm4obC52YXJpYWJsZSgicyIpLGwudmFyaWFibGUoInAiKSxsLnZhcmlhYmxlKCJvIiksXykpO3JldHVybiB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOk8sY29udGV4dDp2fSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkFkZFJld3JpdGU9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1hZGQtcmV3cml0ZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWFkZC1yZXdyaXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQWRkUmV3cml0ZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNsZWFyL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQ2xlYXIuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ2xlYXI9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxoPW5ldyBkLkRhdGFGYWN0b3J5O2NsYXNzIGwgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHApe3N1cGVyKHAsImNsZWFyIil9YXN5bmMgdGVzdE9wZXJhdGlvbihwLGcpe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KGcpLCEwfWFzeW5jIHJ1bk9wZXJhdGlvbihwLGcpe2xldCB2O3Auc291cmNlPT09IkRFRkFVTFQiP3Y9aC5kZWZhdWx0R3JhcGgoKTp0eXBlb2YgcC5zb3VyY2U9PSJzdHJpbmciP3Y9cC5zb3VyY2U6dj1bcC5zb3VyY2VdO2NvbnN0e2V4ZWN1dGU6Yn09YXdhaXQgdGhpcy5tZWRpYXRvclVwZGF0ZVF1YWRzLm1lZGlhdGUoe2RlbGV0ZUdyYXBoczp7Z3JhcGhzOnYscmVxdWlyZUV4aXN0ZW5jZTohcC5zaWxlbnQsZHJvcEdyYXBoczohMX0sY29udGV4dDpnfSk7cmV0dXJue3R5cGU6InZvaWQiLGV4ZWN1dGU6Yn19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkNsZWFyPWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY2xlYXIvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jbGVhci9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkNsZWFyLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29tcG9zaXRldXBkYXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlQ29tcG9zaXRlVXBkYXRlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblVwZGF0ZUNvbXBvc2l0ZVVwZGF0ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IobCl7c3VwZXIobCwiY29tcG9zaXRldXBkYXRlIil9YXN5bmMgdGVzdE9wZXJhdGlvbihsLHUpe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KHUpLCEwfWFzeW5jIHJ1bk9wZXJhdGlvbihsLHUpe3JldHVybnt0eXBlOiJ2b2lkIixleGVjdXRlOigpPT4oYXN5bmMoKT0+e2Zvcihjb25zdCBnIG9mIGwudXBkYXRlcylhd2FpdCBvLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZVZvaWQoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpnLGNvbnRleHQ6dX0pKS5leGVjdXRlKCl9KSgpfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlQ29tcG9zaXRlVXBkYXRlPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29tcG9zaXRldXBkYXRlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29tcG9zaXRldXBkYXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlQ29tcG9zaXRlVXBkYXRlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29weS1yZXdyaXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQ29weVJld3JpdGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ29weVJld3JpdGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IodSl7c3VwZXIodSwiY29weSIpLHRoaXMuZmFjdG9yeT1uZXcgZC5GYWN0b3J5fWFzeW5jIHRlc3RPcGVyYXRpb24odSxwKXtyZXR1cm4gby5BY3RvclF1ZXJ5T3BlcmF0aW9uLnRocm93T25SZWFkT25seShwKSwhMH1ydW5PcGVyYXRpb24odSxwKXtpZih0eXBlb2YgdS5kZXN0aW5hdGlvbj09InN0cmluZyImJnR5cGVvZiB1LnNvdXJjZT09InN0cmluZyImJnUuZGVzdGluYXRpb249PT11LnNvdXJjZXx8dHlwZW9mIHUuZGVzdGluYXRpb24hPSJzdHJpbmciJiZ0eXBlb2YgdS5zb3VyY2UhPSJzdHJpbmciJiZ1LmRlc3RpbmF0aW9uLmVxdWFscyh1LnNvdXJjZSkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7dHlwZToidm9pZCIsZXhlY3V0ZTooKT0+UHJvbWlzZS5yZXNvbHZlKCl9KTtjb25zdCBnPXRoaXMuZmFjdG9yeS5jcmVhdGVDb21wb3NpdGVVcGRhdGUoW3RoaXMuZmFjdG9yeS5jcmVhdGVEcm9wKHUuZGVzdGluYXRpb24sITApLHRoaXMuZmFjdG9yeS5jcmVhdGVBZGQodS5zb3VyY2UsdS5kZXN0aW5hdGlvbix1LnNpbGVudCldKTtyZXR1cm4gdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpnLGNvbnRleHQ6cH0pfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Db3B5UmV3cml0ZT1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNvcHktcmV3cml0ZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNvcHktcmV3cml0ZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkNvcHlSZXdyaXRlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY3JlYXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQ3JlYXRlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkNyZWF0ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IobCl7c3VwZXIobCwiY3JlYXRlIil9YXN5bmMgdGVzdE9wZXJhdGlvbihsLHUpe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KHUpLCEwfWFzeW5jIHJ1bk9wZXJhdGlvbihsLHUpe2NvbnN0e2V4ZWN1dGU6cH09YXdhaXQgdGhpcy5tZWRpYXRvclVwZGF0ZVF1YWRzLm1lZGlhdGUoe2NyZWF0ZUdyYXBoczp7Z3JhcGhzOltsLnNvdXJjZV0scmVxdWlyZU5vbkV4aXN0ZW5jZTohbC5zaWxlbnR9LGNvbnRleHQ6dX0pO3JldHVybnt0eXBlOiJ2b2lkIixleGVjdXRlOnB9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25DcmVhdGU9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jcmVhdGUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jcmVhdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25DcmVhdGUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1kZWxldGVpbnNlcnQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25VcGRhdGVEZWxldGVJbnNlcnQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlRGVsZXRlSW5zZXJ0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxsPW4oImFzeW5jaXRlcmF0b3IiKSx1PW5ldyBkLkJpbmRpbmdzRmFjdG9yeTtjbGFzcyBwIGV4dGVuZHMgaC5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih2KXtzdXBlcih2LCJkZWxldGVpbnNlcnQiKSx0aGlzLmJsYW5rTm9kZUNvdW50ZXI9MH1hc3luYyB0ZXN0T3BlcmF0aW9uKHYsYil7cmV0dXJuIGguQWN0b3JRdWVyeU9wZXJhdGlvbi50aHJvd09uUmVhZE9ubHkoYiksITB9YXN5bmMgcnVuT3BlcmF0aW9uKHYsYil7Y29uc3QgXz12LndoZXJlP2guQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjp2LndoZXJlLGNvbnRleHQ6Yn0pKS5iaW5kaW5nc1N0cmVhbTpuZXcgbC5BcnJheUl0ZXJhdG9yKFt1LmJpbmRpbmdzKCldLHthdXRvU3RhcnQ6ITF9KTtsZXQgTyxUO3YuaW5zZXJ0JiYoTz1uZXcgby5CaW5kaW5nc1RvUXVhZHNJdGVyYXRvcih2Lmluc2VydC5tYXAoby5CaW5kaW5nc1RvUXVhZHNJdGVyYXRvci5sb2NhbGl6ZVF1YWQuYmluZChudWxsLHRoaXMuYmxhbmtOb2RlQ291bnRlcikpLF8uY2xvbmUoKSwhMSksdGhpcy5ibGFua05vZGVDb3VudGVyKyspLHYuZGVsZXRlJiYoVD1uZXcgby5CaW5kaW5nc1RvUXVhZHNJdGVyYXRvcih2LmRlbGV0ZS5tYXAoby5CaW5kaW5nc1RvUXVhZHNJdGVyYXRvci5sb2NhbGl6ZVF1YWQuYmluZChudWxsLHRoaXMuYmxhbmtOb2RlQ291bnRlcikpLF8uY2xvbmUoKSwhMSksdGhpcy5ibGFua05vZGVDb3VudGVyKyspO2NvbnN0e2V4ZWN1dGU6an09YXdhaXQgdGhpcy5tZWRpYXRvclVwZGF0ZVF1YWRzLm1lZGlhdGUoe3F1YWRTdHJlYW1JbnNlcnQ6TyxxdWFkU3RyZWFtRGVsZXRlOlQsY29udGV4dDpifSk7cmV0dXJue3R5cGU6InZvaWQiLGV4ZWN1dGU6an19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblVwZGF0ZURlbGV0ZUluc2VydD1wfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRlbGV0ZWluc2VydC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRlbGV0ZWluc2VydC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblVwZGF0ZURlbGV0ZUluc2VydC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRyb3AvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Ecm9wLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkRyb3A9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxoPW5ldyBkLkRhdGFGYWN0b3J5O2NsYXNzIGwgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHApe3N1cGVyKHAsImRyb3AiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHAsZyl7cmV0dXJuIG8uQWN0b3JRdWVyeU9wZXJhdGlvbi50aHJvd09uUmVhZE9ubHkoZyksITB9YXN5bmMgcnVuT3BlcmF0aW9uKHAsZyl7bGV0IHY7cC5zb3VyY2U9PT0iREVGQVVMVCI/dj1oLmRlZmF1bHRHcmFwaCgpOnR5cGVvZiBwLnNvdXJjZT09InN0cmluZyI/dj1wLnNvdXJjZTp2PVtwLnNvdXJjZV07Y29uc3R7ZXhlY3V0ZTpifT1hd2FpdCB0aGlzLm1lZGlhdG9yVXBkYXRlUXVhZHMubWVkaWF0ZSh7ZGVsZXRlR3JhcGhzOntncmFwaHM6dixyZXF1aXJlRXhpc3RlbmNlOiFwLnNpbGVudCxkcm9wR3JhcGhzOiEwfSxjb250ZXh0Omd9KTtyZXR1cm57dHlwZToidm9pZCIsZXhlY3V0ZTpifX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRHJvcD1sfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRyb3AvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1kcm9wL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRHJvcC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWxvYWQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Mb2FkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkxvYWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGw9bigic3BhcnFsYWxnZWJyYWpzIiksdT1uZXcgaC5EYXRhRmFjdG9yeTtjbGFzcyBwIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih2KXtzdXBlcih2LCJsb2FkIiksdGhpcy5mYWN0b3J5PW5ldyBsLkZhY3RvcnksdGhpcy5jb25zdHJ1Y3RPcGVyYXRpb249dGhpcy5mYWN0b3J5LmNyZWF0ZUNvbnN0cnVjdCh0aGlzLmZhY3RvcnkuY3JlYXRlUGF0dGVybih1LnZhcmlhYmxlKCJzIiksdS52YXJpYWJsZSgicCIpLHUudmFyaWFibGUoIm8iKSksW3RoaXMuZmFjdG9yeS5jcmVhdGVQYXR0ZXJuKHUudmFyaWFibGUoInMiKSx1LnZhcmlhYmxlKCJwIiksdS52YXJpYWJsZSgibyIpKV0pfWFzeW5jIHRlc3RPcGVyYXRpb24odixiKXtyZXR1cm4gby5BY3RvclF1ZXJ5T3BlcmF0aW9uLnRocm93T25SZWFkT25seShiKSwhMH1hc3luYyBydW5PcGVyYXRpb24odixiKXtsZXQgXz1iLnNldChkLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcyxbdi5zb3VyY2UudmFsdWVdKTt2LnNpbGVudCYmKF89Xy5zZXQoZC5LZXlzSW5pdFF1ZXJ5LmxlbmllbnQsITApKTtsZXQgVD1wLmdldFNhZmVRdWFkcyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOnRoaXMuY29uc3RydWN0T3BlcmF0aW9uLGNvbnRleHQ6X30pKS5xdWFkU3RyZWFtO3YuZGVzdGluYXRpb24mJihUPVQubWFwKE49PnUucXVhZChOLnN1YmplY3QsTi5wcmVkaWNhdGUsTi5vYmplY3Qsdi5kZXN0aW5hdGlvbikpKTtjb25zdHtleGVjdXRlOmp9PWF3YWl0IHRoaXMubWVkaWF0b3JVcGRhdGVRdWFkcy5tZWRpYXRlKHtxdWFkU3RyZWFtSW5zZXJ0OlQsY29udGV4dDpifSk7cmV0dXJue3R5cGU6InZvaWQiLGV4ZWN1dGU6an19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkxvYWQ9cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1sb2FkL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtbG9hZC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkxvYWQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1tb3ZlLXJld3JpdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Nb3ZlUmV3cml0ZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Nb3ZlUmV3cml0ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJtb3ZlIiksdGhpcy5mYWN0b3J5PW5ldyBkLkZhY3Rvcnl9YXN5bmMgdGVzdE9wZXJhdGlvbih1LHApe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KHApLCEwfXJ1bk9wZXJhdGlvbih1LHApe2lmKHR5cGVvZiB1LmRlc3RpbmF0aW9uPT0ic3RyaW5nIiYmdHlwZW9mIHUuc291cmNlPT0ic3RyaW5nIiYmdS5kZXN0aW5hdGlvbj09PXUuc291cmNlfHx0eXBlb2YgdS5kZXN0aW5hdGlvbiE9InN0cmluZyImJnR5cGVvZiB1LnNvdXJjZSE9InN0cmluZyImJnUuZGVzdGluYXRpb24uZXF1YWxzKHUuc291cmNlKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt0eXBlOiJ2b2lkIixleGVjdXRlOigpPT5Qcm9taXNlLnJlc29sdmUoKX0pO2NvbnN0IGc9W3RoaXMuZmFjdG9yeS5jcmVhdGVEcm9wKHUuZGVzdGluYXRpb24sITApLHRoaXMuZmFjdG9yeS5jcmVhdGVBZGQodS5zb3VyY2UsdS5kZXN0aW5hdGlvbix1LnNpbGVudCksdGhpcy5mYWN0b3J5LmNyZWF0ZURyb3AodS5zb3VyY2UpXSx2PXRoaXMuZmFjdG9yeS5jcmVhdGVDb21wb3NpdGVVcGRhdGUoZyk7cmV0dXJuIHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246dixjb250ZXh0OnB9KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTW92ZVJld3JpdGU9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1tb3ZlLXJld3JpdGUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1tb3ZlLXJld3JpdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Nb3ZlUmV3cml0ZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdmFsdWVzL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVmFsdWVzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblZhbHVlcz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCJhc3luY2l0ZXJhdG9yIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLHU9bmV3IG8uQmluZGluZ3NGYWN0b3J5LHA9bmV3IGwuRGF0YUZhY3Rvcnk7Y2xhc3MgZyBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVke2NvbnN0cnVjdG9yKGIpe3N1cGVyKGIsInZhbHVlcyIpfWFzeW5jIHRlc3RPcGVyYXRpb24oYixfKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24oYixfKXtjb25zdCBPPW5ldyBoLkFycmF5SXRlcmF0b3IoYi5iaW5kaW5ncy5tYXAoTj0+dS5iaW5kaW5ncyhPYmplY3QuZW50cmllcyhOKS5tYXAoKFtCLENdKT0+W3AudmFyaWFibGUoQi5zbGljZSgxKSksQ10pKSkpLFQ9Yi52YXJpYWJsZXM7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpPLG1ldGFkYXRhOigpPT5Qcm9taXNlLnJlc29sdmUoe2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6Yi5iaW5kaW5ncy5sZW5ndGh9LGNhbkNvbnRhaW5VbmRlZnM6Yi5iaW5kaW5ncy5zb21lKE49PlQuc29tZShCPT4hKGA/JHtCLnZhbHVlfWBpbiBOKSkpLHZhcmlhYmxlczpUfSl9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25WYWx1ZXM9Z30sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXZhbHVlcy9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdmFsdWVzL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVmFsdWVzLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LXBhcnNlLXNwYXJxbC9saWIvQWN0b3JRdWVyeVBhcnNlU3BhcnFsLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeVBhcnNlU3BhcnFsPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LXBhcnNlL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIiksaD1uKCJzcGFycWxqcyIpO2NsYXNzIGwgZXh0ZW5kcyBvLkFjdG9yUXVlcnlQYXJzZXtjb25zdHJ1Y3RvcihwKXtzdXBlcihwKSx0aGlzLnByZWZpeGVzPU9iamVjdC5mcmVlemUodGhpcy5wcmVmaXhlcyl9YXN5bmMgdGVzdChwKXtpZihwLnF1ZXJ5Rm9ybWF0JiZwLnF1ZXJ5Rm9ybWF0Lmxhbmd1YWdlIT09InNwYXJxbCIpdGhyb3cgbmV3IEVycm9yKCJUaGlzIGFjdG9yIGNhbiBvbmx5IHBhcnNlIFNQQVJRTCBxdWVyaWVzIik7cmV0dXJuITB9YXN5bmMgcnVuKHApe2NvbnN0IHY9bmV3IGguUGFyc2VyKHtwcmVmaXhlczp0aGlzLnByZWZpeGVzLGJhc2VJUkk6cC5iYXNlSVJJfSkucGFyc2UocC5xdWVyeSk7cmV0dXJue2Jhc2VJUkk6di50eXBlPT09InF1ZXJ5Ij92LmJhc2U6dm9pZCAwLG9wZXJhdGlvbjooMCxkLnRyYW5zbGF0ZSkodix7cXVhZHM6ITAscHJlZml4ZXM6dGhpcy5wcmVmaXhlcyxibGFua1RvVmFyaWFibGU6ITAsYmFzZUlSSTpwLmJhc2VJUkl9KX19fWUuQWN0b3JRdWVyeVBhcnNlU3BhcnFsPWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LXBhcnNlLXNwYXJxbC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1wYXJzZS1zcGFycWwvbGliL0FjdG9yUXVlcnlQYXJzZVNwYXJxbC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1lbnRyaWVzLXNvcnQtY2FyZGluYWxpdHkvbGliL0FjdG9yUmRmSm9pbkVudHJpZXNTb3J0Q2FyZGluYWxpdHkuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5FbnRyaWVzU29ydENhcmRpbmFsaXR5PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLWVudHJpZXMtc29ydC9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclJkZkpvaW5FbnRyaWVzU29ydHtjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX1hc3luYyB0ZXN0KGwpe3JldHVybiEwfWFzeW5jIHJ1bihsKXtyZXR1cm57ZW50cmllczpbLi4ubC5lbnRyaWVzXS5zb3J0KChwLGcpPT5wLm1ldGFkYXRhLmNhcmRpbmFsaXR5LnZhbHVlLWcubWV0YWRhdGEuY2FyZGluYWxpdHkudmFsdWUpfX19ZS5BY3RvclJkZkpvaW5FbnRyaWVzU29ydENhcmRpbmFsaXR5PWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWVudHJpZXMtc29ydC1jYXJkaW5hbGl0eS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1lbnRyaWVzLXNvcnQtY2FyZGluYWxpdHkvbGliL0FjdG9yUmRmSm9pbkVudHJpZXNTb3J0Q2FyZGluYWxpdHkuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItaGFzaC9saWIvQWN0b3JSZGZKb2luSGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbkhhc2g9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUse2xvZ2ljYWxUeXBlOiJpbm5lciIscGh5c2ljYWxOYW1lOiJoYXNoIixsaW1pdEVudHJpZXM6Mn0pfWFzeW5jIGdldE91dHB1dCh1KXtjb25zdCBwPWF3YWl0IG8uQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyh1LmVudHJpZXMpLGc9by5BY3RvclJkZkpvaW4ub3ZlcmxhcHBpbmdWYXJpYWJsZXMocCk7cmV0dXJue3Jlc3VsdDp7dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOm5ldyBkLkhhc2hKb2luKHUuZW50cmllc1swXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sdS5lbnRyaWVzWzFdLm91dHB1dC5iaW5kaW5nc1N0cmVhbSxiPT5vLkFjdG9yUmRmSm9pbi5oYXNoKGIsZyksby5BY3RvclJkZkpvaW4uam9pbkJpbmRpbmdzKSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCB0aGlzLmNvbnN0cnVjdFJlc3VsdE1ldGFkYXRhKHUuZW50cmllcyxwLHUuY29udGV4dCl9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHUscCl7Y29uc3QgZz1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKHApLHY9by5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhwKTtyZXR1cm57aXRlcmF0aW9uczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlK3BbMV0uY2FyZGluYWxpdHkudmFsdWUscGVyc2lzdGVkSXRlbXM6cFswXS5jYXJkaW5hbGl0eS52YWx1ZSxibG9ja2luZ0l0ZW1zOnBbMF0uY2FyZGluYWxpdHkudmFsdWUscmVxdWVzdFRpbWU6Z1swXStwWzBdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMF0rZ1sxXStwWzFdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMV19fX1lLkFjdG9yUmRmSm9pbkhhc2g9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItaGFzaC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1oYXNoL2xpYi9BY3RvclJkZkpvaW5IYXNoLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWJpbmQvbGliL0FjdG9yUmRmSm9pbk11bHRpQmluZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbk11bHRpQmluZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgcCBleHRlbmRzIGQuQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHYpe3N1cGVyKHYse2xvZ2ljYWxUeXBlOiJpbm5lciIscGh5c2ljYWxOYW1lOiJiaW5kIixjYW5IYW5kbGVVbmRlZnM6ITB9KX1zdGF0aWMgY3JlYXRlQmluZFN0cmVhbSh2LGIsXyxPLFQpe2NvbnN0IGo9Tj0+e2NvbnN0IEI9Xy5tYXAoTD0+KDAsby5tYXRlcmlhbGl6ZU9wZXJhdGlvbikoTCxOLHtiaW5kRmlsdGVyOiExfSkpLEM9TD0+TC5tZXJnZShOKTtyZXR1cm4gbmV3IGwuVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+KGF3YWl0IE8oQixOKSkudHJhbnNmb3JtKHttYXA6Q30pLHttYXhCdWZmZXJTaXplOjEyOCxhdXRvU3RhcnQ6ITF9KX07c3dpdGNoKHYpe2Nhc2UiZGVwdGgtZmlyc3QiOnJldHVybiBuZXcgbC5NdWx0aVRyYW5zZm9ybUl0ZXJhdG9yKGIse2F1dG9TdGFydDohMSxtdWx0aVRyYW5zZm9ybTpqLG9wdGlvbmFsOlR9KTtjYXNlImJyZWFkdGgtZmlyc3QiOnJldHVybiBuZXcgbC5Vbmlvbkl0ZXJhdG9yKGIudHJhbnNmb3JtKHttYXA6aixvcHRpb25hbDpUfSkse2F1dG9TdGFydDohMX0pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBSZWNlaXZlZCByZXF1ZXN0IGZvciB1bmtub3duIGJpbmQgb3JkZXI6ICR7dn1gKX19YXN5bmMgc29ydEpvaW5FbnRyaWVzKHYsYil7aWYodi5zb21lKE49Pk4ubWV0YWRhdGEuY2FuQ29udGFpblVuZGVmcykpcmV0dXJuIHY7Y29uc3QgTz17fTtmb3IoY29uc3QgTiBvZiB2KWZvcihjb25zdCBCIG9mIE4ubWV0YWRhdGEudmFyaWFibGVzKXtsZXQgQz1PW0IudmFsdWVdO0N8fChDPTApLE9bQi52YWx1ZV09KytDfWNvbnN0IFQ9W107Zm9yKGNvbnN0W04sQl1vZiBPYmplY3QuZW50cmllcyhPKSlCPj0yJiZULnB1c2goTik7aWYoVC5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcigiQmluZCBqb2luIGNhbiBvbmx5IGpvaW4gZW50cmllcyB3aXRoIGF0IGxlYXN0IG9uZSBjb21tb24gdmFyaWFibGUiKTtjb25zdCBqPVtdO2Zvcihjb25zdCBOIG9mIHYpe2xldCBCPSExO2Zvcihjb25zdCBDIG9mIE4ubWV0YWRhdGEudmFyaWFibGVzKWlmKFQuaW5jbHVkZXMoQy52YWx1ZSkpe0I9ITA7YnJlYWt9Qnx8ai5wdXNoKE4pfXJldHVybihhd2FpdCB0aGlzLm1lZGlhdG9ySm9pbkVudHJpZXNTb3J0Lm1lZGlhdGUoe2VudHJpZXM6dixjb250ZXh0OmJ9KSkuZW50cmllcy5zb3J0KChOLEIpPT57Y29uc3QgQz1qLmluY2x1ZGVzKE4pLEw9ai5pbmNsdWRlcyhCKTtyZXR1cm4gQz09PUw/MDpDPzE6LTF9KX1hc3luYyBnZXRPdXRwdXQodil7Y29uc3QgYj1hd2FpdCBkLkFjdG9yUmRmSm9pbi5nZXRFbnRyaWVzV2l0aE1ldGFkYXRhcyh2LmVudHJpZXMpLF89YXdhaXQgdGhpcy5zb3J0Sm9pbkVudHJpZXMoYix2LmNvbnRleHQpO3RoaXMubG9nRGVidWcodi5jb250ZXh0LCJGaXJzdCBlbnRyeSBmb3IgQmluZCBKb2luOiAiLCgpPT4oe2VudHJ5Ol9bMF0ub3BlcmF0aW9uLG1ldGFkYXRhOl9bMF0ubWV0YWRhdGF9KSk7Zm9yKGNvbnN0W0IsQ11vZiBfLmVudHJpZXMoKSlCIT09MCYmQy5vdXRwdXQuYmluZGluZ3NTdHJlYW0uY2xvc2UoKTtjb25zdCBPPV9bMF0ub3V0cHV0LFQ9Wy4uLl9dO1Quc3BsaWNlKDAsMSk7Y29uc3Qgaj12LmNvbnRleHQuc2V0KGguS2V5c1F1ZXJ5T3BlcmF0aW9uLmpvaW5MZWZ0TWV0YWRhdGEsX1swXS5tZXRhZGF0YSkuc2V0KGguS2V5c1F1ZXJ5T3BlcmF0aW9uLmpvaW5SaWdodE1ldGFkYXRhcyxULm1hcChCPT5CLm1ldGFkYXRhKSk7cmV0dXJue3Jlc3VsdDp7dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOnAuY3JlYXRlQmluZFN0cmVhbSh0aGlzLmJpbmRPcmRlcixPLmJpbmRpbmdzU3RyZWFtLFQubWFwKEI9PkIub3BlcmF0aW9uKSxhc3luYyhCLEMpPT57Y29uc3QgTD1CLmxlbmd0aD09PTE/QlswXTpwLkZBQ1RPUlkuY3JlYXRlSm9pbihCKTtyZXR1cm4gby5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOkwsY29udGV4dDpqPy5zZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24uam9pbkJpbmRpbmdzLEMpfSkpLmJpbmRpbmdzU3RyZWFtfSwhMSksbWV0YWRhdGE6KCk9PnRoaXMuY29uc3RydWN0UmVzdWx0TWV0YWRhdGEoXyxfLm1hcChCPT5CLm1ldGFkYXRhKSx2LmNvbnRleHQpfSxwaHlzaWNhbFBsYW5NZXRhZGF0YTp7YmluZEluZGV4OmIuaW5kZXhPZihfWzBdKSxiaW5kT3JkZXI6dGhpcy5iaW5kT3JkZXJ9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHYsYil7Y29uc3QgXz1hd2FpdCB0aGlzLnNvcnRKb2luRW50cmllcyh2LmVudHJpZXMubWFwKChGLGspPT4oey4uLkYsbWV0YWRhdGE6YltrXX0pKSx2LmNvbnRleHQpO2I9Xy5tYXAoRj0+Ri5tZXRhZGF0YSk7Y29uc3QgTz1kLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKGIpLFQ9ZC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhiKSxqPVsuLi5fXSxOPVsuLi5PXSxCPVsuLi5UXTtpZihqLnNwbGljZSgwLDEpLE4uc3BsaWNlKDAsMSksQi5zcGxpY2UoMCwxKSxqLnNvbWUoRj0+Ri5vcGVyYXRpb24udHlwZT09PXUuQWxnZWJyYS50eXBlcy5FWFRFTkR8fEYub3BlcmF0aW9uLnR5cGU9PT11LkFsZ2VicmEudHlwZXMuR1JPVVApKXRocm93IG5ldyBFcnJvcihgQWN0b3IgJHt0aGlzLm5hbWV9IGNhbiBub3QgYmluZCBvbiBFeHRlbmQgYW5kIEdyb3VwIG9wZXJhdGlvbnNgKTtjb25zdCBDPWF3YWl0IFByb21pc2UuYWxsKGoubWFwKGFzeW5jIEY9Pihhd2FpdCB0aGlzLm1lZGlhdG9ySm9pblNlbGVjdGl2aXR5Lm1lZGlhdGUoe2VudHJpZXM6W19bMF0sRl0sY29udGV4dDp2LmNvbnRleHR9KSkuc2VsZWN0aXZpdHkqdGhpcy5zZWxlY3Rpdml0eU1vZGlmaWVyKSksTD1qLm1hcCgoRixrKT0+Ri5tZXRhZGF0YS5jYXJkaW5hbGl0eS52YWx1ZSpDW2tdKS5yZWR1Y2UoKEYsayk9PkYraywwKSxTPU4ucmVkdWNlKChGLGssSik9PkYraypDW0pdLDApLFA9Qi5yZWR1Y2UoKEYsayxKKT0+RitrKkNbSl0sMCk7cmV0dXJue2l0ZXJhdGlvbnM6YlswXS5jYXJkaW5hbGl0eS52YWx1ZSpMLHBlcnNpc3RlZEl0ZW1zOjAsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOk9bMF0rYlswXS5jYXJkaW5hbGl0eS52YWx1ZSooVFswXStTK0wqUCl9fX1lLkFjdG9yUmRmSm9pbk11bHRpQmluZD1wLHAuRkFDVE9SWT1uZXcgdS5GYWN0b3J5fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1iaW5kL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWJpbmQvbGliL0FjdG9yUmRmSm9pbk11bHRpQmluZC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1lbXB0eS9saWIvQWN0b3JSZGZKb2luTXVsdGlFbXB0eS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbk11bHRpRW1wdHk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIiksZD1uKCJhc3luY2l0ZXJhdG9yIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUse2xvZ2ljYWxUeXBlOiJpbm5lciIscGh5c2ljYWxOYW1lOiJtdWx0aS1lbXB0eSJ9KX1hc3luYyB0ZXN0KHUpe2lmKChhd2FpdCBvLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModS5lbnRyaWVzKSkuZXZlcnkocD0+by5BY3RvclJkZkpvaW4uZ2V0Q2FyZGluYWxpdHkocCkudmFsdWU+MCkpdGhyb3cgbmV3IEVycm9yKGBBY3RvciAke3RoaXMubmFtZX0gY2FuIG9ubHkgam9pbiBlbnRyaWVzIHdoZXJlIGF0IGxlYXN0IG9uZSBpcyBlbXB0eWApO3JldHVybiBzdXBlci50ZXN0KHUpfWFzeW5jIGdldE91dHB1dCh1KXtmb3IoY29uc3QgcCBvZiB1LmVudHJpZXMpcC5vdXRwdXQuYmluZGluZ3NTdHJlYW0uY2xvc2UoKTtyZXR1cm57cmVzdWx0OntiaW5kaW5nc1N0cmVhbTpuZXcgZC5BcnJheUl0ZXJhdG9yKFtdLHthdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTphc3luYygpPT4oe2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6MH0sY2FuQ29udGFpblVuZGVmczohMSx2YXJpYWJsZXM6by5BY3RvclJkZkpvaW4uam9pblZhcmlhYmxlcyhhd2FpdCBvLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModS5lbnRyaWVzKSl9KSx0eXBlOiJiaW5kaW5ncyJ9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHUscCl7cmV0dXJue2l0ZXJhdGlvbnM6MCxwZXJzaXN0ZWRJdGVtczowLGJsb2NraW5nSXRlbXM6MCxyZXF1ZXN0VGltZTowfX19ZS5BY3RvclJkZkpvaW5NdWx0aUVtcHR5PWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWVtcHR5L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWVtcHR5L2xpYi9BY3RvclJkZkpvaW5NdWx0aUVtcHR5LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLXNtYWxsZXN0L2xpYi9BY3RvclJkZkpvaW5NdWx0aVNtYWxsZXN0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luTXVsdGlTbWFsbGVzdD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxoPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGwgZXh0ZW5kcyBkLkFjdG9yUmRmSm9pbntjb25zdHJ1Y3RvcihwKXtzdXBlcihwLHtsb2dpY2FsVHlwZToiaW5uZXIiLHBoeXNpY2FsTmFtZToibXVsdGktc21hbGxlc3QiLGxpbWl0RW50cmllczozLGxpbWl0RW50cmllc01pbjohMH0pfWFzeW5jIHNvcnRKb2luRW50cmllcyhwLGcpe3JldHVybihhd2FpdCB0aGlzLm1lZGlhdG9ySm9pbkVudHJpZXNTb3J0Lm1lZGlhdGUoe2VudHJpZXM6cCxjb250ZXh0Omd9KSkuZW50cmllc31hc3luYyBnZXRPdXRwdXQocCl7Y29uc3QgZz1hd2FpdCB0aGlzLnNvcnRKb2luRW50cmllcyhhd2FpdCBkLkFjdG9yUmRmSm9pbi5nZXRFbnRyaWVzV2l0aE1ldGFkYXRhcyhbLi4ucC5lbnRyaWVzXSkscC5jb250ZXh0KSx2PWdbMF0sYj1nWzFdO2cuc3BsaWNlKDAsMik7Y29uc3QgXz17b3V0cHV0Om8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvckpvaW4ubWVkaWF0ZSh7dHlwZTpwLnR5cGUsZW50cmllczpbdixiXSxjb250ZXh0OnAuY29udGV4dH0pKSxvcGVyYXRpb246bC5GQUNUT1JZLmNyZWF0ZUpvaW4oW3Yub3BlcmF0aW9uLGIub3BlcmF0aW9uXSwhMSl9O3JldHVybiBnLnB1c2goXykse3Jlc3VsdDphd2FpdCB0aGlzLm1lZGlhdG9ySm9pbi5tZWRpYXRlKHt0eXBlOnAudHlwZSxlbnRyaWVzOmcsY29udGV4dDpwLmNvbnRleHR9KX19YXN5bmMgZ2V0Sm9pbkNvZWZmaWNpZW50cyhwLGcpe2c9Wy4uLmddLGc9KGF3YWl0IHRoaXMuc29ydEpvaW5FbnRyaWVzKHAuZW50cmllcy5tYXAoKE8sVCk9Pih7Li4uTyxtZXRhZGF0YTpnW1RdfSkpLHAuY29udGV4dCkpLm1hcChPPT5PLm1ldGFkYXRhKTtjb25zdCBiPWQuQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJbml0aWFsVGltZXMoZyksXz1kLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SXRlbVRpbWVzKGcpO3JldHVybntpdGVyYXRpb25zOmdbMF0uY2FyZGluYWxpdHkudmFsdWUqZ1sxXS5jYXJkaW5hbGl0eS52YWx1ZSpnLnNsaWNlKDIpLnJlZHVjZSgoTyxUKT0+TypULmNhcmRpbmFsaXR5LnZhbHVlLDEpLHBlcnNpc3RlZEl0ZW1zOjAsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOmJbMF0rZ1swXS5jYXJkaW5hbGl0eS52YWx1ZSpfWzBdK2JbMV0rZ1sxXS5jYXJkaW5hbGl0eS52YWx1ZSpfWzFdK2cuc2xpY2UoMikucmVkdWNlKChPLFQsaik9Pk8rYi5zbGljZSgyKVtqXStULmNhcmRpbmFsaXR5LnZhbHVlKl8uc2xpY2UoMilbal0sMCl9fX1lLkFjdG9yUmRmSm9pbk11bHRpU21hbGxlc3Q9bCxsLkZBQ1RPUlk9bmV3IGguRmFjdG9yeX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktc21hbGxlc3QvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktc21hbGxlc3QvbGliL0FjdG9yUmRmSm9pbk11bHRpU21hbGxlc3QuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbmVzdGVkbG9vcC9saWIvQWN0b3JSZGZKb2luTmVzdGVkTG9vcC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbk5lc3RlZExvb3A9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUse2xvZ2ljYWxUeXBlOiJpbm5lciIscGh5c2ljYWxOYW1lOiJuZXN0ZWQtbG9vcCIsbGltaXRFbnRyaWVzOjIsY2FuSGFuZGxlVW5kZWZzOiEwfSl9YXN5bmMgZ2V0T3V0cHV0KHUpe3JldHVybntyZXN1bHQ6e3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgZC5OZXN0ZWRMb29wSm9pbih1LmVudHJpZXNbMF0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLHUuZW50cmllc1sxXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sby5BY3RvclJkZkpvaW4uam9pbkJpbmRpbmdzLHthdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCB0aGlzLmNvbnN0cnVjdFJlc3VsdE1ldGFkYXRhKHUuZW50cmllcyxhd2FpdCBvLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModS5lbnRyaWVzKSx1LmNvbnRleHQpfX19YXN5bmMgZ2V0Sm9pbkNvZWZmaWNpZW50cyh1LHApe2NvbnN0IGc9by5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEluaXRpYWxUaW1lcyhwKSx2PW8uQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJdGVtVGltZXMocCk7cmV0dXJue2l0ZXJhdGlvbnM6cFswXS5jYXJkaW5hbGl0eS52YWx1ZSpwWzFdLmNhcmRpbmFsaXR5LnZhbHVlLHBlcnNpc3RlZEl0ZW1zOjAsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOmdbMF0rcFswXS5jYXJkaW5hbGl0eS52YWx1ZSp2WzBdK2dbMV0rcFsxXS5jYXJkaW5hbGl0eS52YWx1ZSp2WzFdfX19ZS5BY3RvclJkZkpvaW5OZXN0ZWRMb29wPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW5lc3RlZGxvb3AvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbmVzdGVkbG9vcC9saWIvQWN0b3JSZGZKb2luTmVzdGVkTG9vcC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1ub25lL2xpYi9BY3RvclJkZkpvaW5Ob25lLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luTm9uZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxoPW4oImFzeW5jaXRlcmF0b3IiKSxsPW5ldyBvLkJpbmRpbmdzRmFjdG9yeTtjbGFzcyB1IGV4dGVuZHMgZC5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IoZyl7c3VwZXIoZyx7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6Im5vbmUiLGxpbWl0RW50cmllczowfSl9YXN5bmMgdGVzdChnKXtpZihnLmVudHJpZXMubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKGBBY3RvciAke3RoaXMubmFtZX0gY2FuIG9ubHkgam9pbiB6ZXJvIGVudHJpZXNgKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRKb2luQ29lZmZpY2llbnRzKCl9YXN5bmMgZ2V0T3V0cHV0KGcpe3JldHVybntyZXN1bHQ6e2JpbmRpbmdzU3RyZWFtOm5ldyBoLkFycmF5SXRlcmF0b3IoW2wuYmluZGluZ3MoKV0se2F1dG9TdGFydDohMX0pLG1ldGFkYXRhOigpPT5Qcm9taXNlLnJlc29sdmUoe2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6MX0sY2FuQ29udGFpblVuZGVmczohMSx2YXJpYWJsZXM6W119KSx0eXBlOiJiaW5kaW5ncyJ9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKCl7cmV0dXJue2l0ZXJhdGlvbnM6MCxwZXJzaXN0ZWRJdGVtczowLGJsb2NraW5nSXRlbXM6MCxyZXF1ZXN0VGltZTowfX19ZS5BY3RvclJkZkpvaW5Ob25lPXV9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW5vbmUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbm9uZS9saWIvQWN0b3JSZGZKb2luTm9uZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1zaW5nbGUvbGliL0FjdG9yUmRmSm9pblNpbmdsZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pblNpbmdsZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IobCl7c3VwZXIobCx7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6InNpbmdsZSIsbGltaXRFbnRyaWVzOjF9KSx0aGlzLmluY2x1ZGVJbkxvZ3M9ITF9YXN5bmMgdGVzdChsKXtpZihsLmVudHJpZXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gb25seSBqb2luIGEgc2luZ2xlIGVudHJ5YCk7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0Sm9pbkNvZWZmaWNpZW50cygpfWFzeW5jIGdldE91dHB1dChsKXtyZXR1cm57cmVzdWx0OmwuZW50cmllc1swXS5vdXRwdXR9fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHMoKXtyZXR1cm57aXRlcmF0aW9uczowLHBlcnNpc3RlZEl0ZW1zOjAsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOjB9fX1lLkFjdG9yUmRmSm9pblNpbmdsZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1zaW5nbGUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItc2luZ2xlL2xpYi9BY3RvclJkZkpvaW5TaW5nbGUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItc3ltbWV0cmljaGFzaC9saWIvQWN0b3JSZGZKb2luU3ltbWV0cmljSGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pblN5bW1ldHJpY0hhc2g9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUse2xvZ2ljYWxUeXBlOiJpbm5lciIscGh5c2ljYWxOYW1lOiJzeW1tZXRyaWMtaGFzaCIsbGltaXRFbnRyaWVzOjJ9KX1hc3luYyBnZXRPdXRwdXQodSl7Y29uc3QgcD1hd2FpdCBvLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModS5lbnRyaWVzKSxnPW8uQWN0b3JSZGZKb2luLm92ZXJsYXBwaW5nVmFyaWFibGVzKHApO3JldHVybntyZXN1bHQ6e3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgZC5TeW1tZXRyaWNIYXNoSm9pbih1LmVudHJpZXNbMF0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLHUuZW50cmllc1sxXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sYj0+aC5oYXNoKGIsZyksby5BY3RvclJkZkpvaW4uam9pbkJpbmRpbmdzKSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCB0aGlzLmNvbnN0cnVjdFJlc3VsdE1ldGFkYXRhKHUuZW50cmllcyxwLHUuY29udGV4dCl9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHUscCl7Y29uc3QgZz1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKHApLHY9by5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhwKTtyZXR1cm57aXRlcmF0aW9uczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlK3BbMV0uY2FyZGluYWxpdHkudmFsdWUscGVyc2lzdGVkSXRlbXM6cFswXS5jYXJkaW5hbGl0eS52YWx1ZStwWzFdLmNhcmRpbmFsaXR5LnZhbHVlLGJsb2NraW5nSXRlbXM6MCxyZXF1ZXN0VGltZTpnWzBdK3BbMF0uY2FyZGluYWxpdHkudmFsdWUqdlswXStnWzFdK3BbMV0uY2FyZGluYWxpdHkudmFsdWUqdlsxXX19fWUuQWN0b3JSZGZKb2luU3ltbWV0cmljSGFzaD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1zeW1tZXRyaWNoYXNoL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLXN5bW1ldHJpY2hhc2gvbGliL0FjdG9yUmRmSm9pblN5bW1ldHJpY0hhc2guanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC11bmRlZi9saWIvQWN0b3JSZGZKb2luTWludXNIYXNoVW5kZWYuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5NaW51c0hhc2hVbmRlZj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC11bmRlZi9saWIvQmluZGluZ3NJbmRleC5qcyIpO2NsYXNzIGwgZXh0ZW5kcyBkLkFjdG9yUmRmSm9pbntjb25zdHJ1Y3RvcihwKXtzdXBlcihwLHtsb2dpY2FsVHlwZToibWludXMiLHBoeXNpY2FsTmFtZToiaGFzaC11bmRlZiIsbGltaXRFbnRyaWVzOjIsY2FuSGFuZGxlVW5kZWZzOiEwfSl9YXN5bmMgZ2V0T3V0cHV0KHApe2NvbnN0IGc9cC5lbnRyaWVzWzFdLm91dHB1dCx2PXAuZW50cmllc1swXS5vdXRwdXQsYj1hd2FpdCBkLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXMocC5lbnRyaWVzKSxfPWQuQWN0b3JSZGZKb2luLm92ZXJsYXBwaW5nVmFyaWFibGVzKGIpO2lmKF8ubGVuZ3RoPjApe2NvbnN0IE89bmV3IGguQmluZGluZ3NJbmRleChfKTtyZXR1cm57cmVzdWx0Ont0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IG8uQ2xvc2FibGVUcmFuc2Zvcm1JdGVyYXRvcihhc3luYygpPT4oYXdhaXQgbmV3IFByb21pc2Uoaj0+e2cuYmluZGluZ3NTdHJlYW0ub24oImRhdGEiLE49Pk8uYWRkKE4pKSxnLmJpbmRpbmdzU3RyZWFtLm9uKCJlbmQiLGopfSksdi5iaW5kaW5nc1N0cmVhbS5maWx0ZXIoaj0+IU8uY29udGFpbnMoaikpKSx7YXV0b1N0YXJ0OiExLG9uQ2xvc2UoKXtnLmJpbmRpbmdzU3RyZWFtLmRlc3Ryb3koKSx2LmJpbmRpbmdzU3RyZWFtLmRlc3Ryb3koKX19KSxhc3luYyBtZXRhZGF0YSgpe2NvbnN0IGo9YXdhaXQgdi5tZXRhZGF0YSgpLE49YXdhaXQgdi5tZXRhZGF0YSgpO3JldHVybnsuLi5OLGNhbkNvbnRhaW5VbmRlZnM6ai5jYW5Db250YWluVW5kZWZzfHxOLmNhbkNvbnRhaW5VbmRlZnN9fX19fXJldHVybntyZXN1bHQ6dn19YXN5bmMgZ2V0Sm9pbkNvZWZmaWNpZW50cyhwLGcpe2NvbnN0IHY9ZC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEluaXRpYWxUaW1lcyhnKSxiPWQuQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJdGVtVGltZXMoZyk7cmV0dXJue2l0ZXJhdGlvbnM6KGdbMF0uY2FyZGluYWxpdHkudmFsdWUrZ1sxXS5jYXJkaW5hbGl0eS52YWx1ZSkqMS4wMSxwZXJzaXN0ZWRJdGVtczpnWzBdLmNhcmRpbmFsaXR5LnZhbHVlLGJsb2NraW5nSXRlbXM6Z1swXS5jYXJkaW5hbGl0eS52YWx1ZSxyZXF1ZXN0VGltZTp2WzBdK2dbMF0uY2FyZGluYWxpdHkudmFsdWUqYlswXSt2WzFdK2dbMV0uY2FyZGluYWxpdHkudmFsdWUqYlsxXX19fWUuQWN0b3JSZGZKb2luTWludXNIYXNoVW5kZWY9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC11bmRlZi9saWIvQmluZGluZ3NJbmRleC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJpbmRpbmdzSW5kZXg9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwpe3RoaXMuZGF0YT17fSx0aGlzLmtleXM9bH1zdGF0aWMgaGFzaFRlcm0obCl7cmV0dXJuIGwmJmwudGVybVR5cGUhPT0iVmFyaWFibGUiPygwLG8udGVybVRvU3RyaW5nKShsKToiIn1hZGQobCl7aWYodGhpcy5pc0JpbmRpbmdzVmFsaWQobCkpe2xldCB1PXRoaXMuZGF0YTtmb3IoY29uc3QgcCBvZiB0aGlzLmtleXMpe2NvbnN0IGc9ZC5oYXNoVGVybShsLmdldChwKSk7bGV0IHY9dVtnXTt2fHwodj11W2ddPXt9KSx1PXZ9fX1jb250YWlucyhsKXtyZXR1cm4gdGhpcy5pc0JpbmRpbmdzVmFsaWQobCk/dGhpcy5jb250YWluc1JlY3Vyc2l2ZShsLHRoaXMua2V5cyxbdGhpcy5kYXRhXSk6ITF9aXNCaW5kaW5nc1ZhbGlkKGwpe2xldCB1PSExO2Zvcihjb25zdCBwIG9mIHRoaXMua2V5cylpZihsLmdldChwKSl7dT0hMDticmVha31yZXR1cm4gdX1jb250YWluc1JlY3Vyc2l2ZShsLHUscCl7aWYodS5sZW5ndGg9PT0wKXJldHVybiEwO2xldCBnO1tnLC4uLnVdPXU7Zm9yKGNvbnN0IHYgb2YgcCl7Y29uc3QgYj1kLmhhc2hUZXJtKGwuZ2V0KGcpKTtpZihiKXtjb25zdCBfPVt2W2JdLHZbIiJdXS5maWx0ZXIoQm9vbGVhbik7aWYoXy5sZW5ndGg9PT0wKWNvbnRpbnVlO2lmKHRoaXMuY29udGFpbnNSZWN1cnNpdmUobCx1LF8pKXJldHVybiEwfWVsc2V7bGV0IF89T2JqZWN0LmtleXModikubWFwKE89PnZbT10pO2lmKF8ubGVuZ3RoPT09MCYmKF89W3t9XSksdGhpcy5jb250YWluc1JlY3Vyc2l2ZShsLHUsXykpcmV0dXJuITB9fXJldHVybiExfX1lLkJpbmRpbmdzSW5kZXg9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC11bmRlZi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoLXVuZGVmL2xpYi9BY3RvclJkZkpvaW5NaW51c0hhc2hVbmRlZi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoL2xpYi9BY3RvclJkZkpvaW5NaW51c0hhc2guanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5NaW51c0hhc2g9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIGQuQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUse2xvZ2ljYWxUeXBlOiJtaW51cyIscGh5c2ljYWxOYW1lOiJoYXNoIixsaW1pdEVudHJpZXM6Mn0pfWFzeW5jIGdldE91dHB1dCh1KXtjb25zdCBwPXUuZW50cmllc1sxXS5vdXRwdXQsZz11LmVudHJpZXNbMF0ub3V0cHV0LHY9YXdhaXQgZC5BY3RvclJkZkpvaW4uZ2V0TWV0YWRhdGFzKHUuZW50cmllcyksYj1kLkFjdG9yUmRmSm9pbi5vdmVybGFwcGluZ1ZhcmlhYmxlcyh2KTtpZihiLmxlbmd0aD4wKXtjb25zdCBfPXt9O3JldHVybntyZXN1bHQ6e3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgby5DbG9zYWJsZVRyYW5zZm9ybUl0ZXJhdG9yKGFzeW5jKCk9Pihhd2FpdCBuZXcgUHJvbWlzZShUPT57cC5iaW5kaW5nc1N0cmVhbS5vbigiZGF0YSIsaj0+e19bZC5BY3RvclJkZkpvaW4uaGFzaChqLGIpXT0hMH0pLHAuYmluZGluZ3NTdHJlYW0ub24oImVuZCIsVCl9KSxnLmJpbmRpbmdzU3RyZWFtLmZpbHRlcihUPT4hX1tkLkFjdG9yUmRmSm9pbi5oYXNoKFQsYildKSkse2F1dG9TdGFydDohMSxvbkNsb3NlKCl7cC5iaW5kaW5nc1N0cmVhbS5kZXN0cm95KCksZy5iaW5kaW5nc1N0cmVhbS5kZXN0cm95KCl9fSksbWV0YWRhdGE6Zy5tZXRhZGF0YX19fXJldHVybntyZXN1bHQ6Z319YXN5bmMgZ2V0Sm9pbkNvZWZmaWNpZW50cyh1LHApe2NvbnN0IGc9ZC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEluaXRpYWxUaW1lcyhwKSx2PWQuQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJdGVtVGltZXMocCk7cmV0dXJue2l0ZXJhdGlvbnM6cFswXS5jYXJkaW5hbGl0eS52YWx1ZStwWzFdLmNhcmRpbmFsaXR5LnZhbHVlLHBlcnNpc3RlZEl0ZW1zOnBbMF0uY2FyZGluYWxpdHkudmFsdWUsYmxvY2tpbmdJdGVtczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlLHJlcXVlc3RUaW1lOmdbMF0rcFswXS5jYXJkaW5hbGl0eS52YWx1ZSp2WzBdK2dbMV0rcFsxXS5jYXJkaW5hbGl0eS52YWx1ZSp2WzFdfX19ZS5BY3RvclJkZkpvaW5NaW51c0hhc2g9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoL2xpYi9BY3RvclJkZkpvaW5NaW51c0hhc2guanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tb3B0aW9uYWwtYmluZC9saWIvQWN0b3JSZGZKb2luT3B0aW9uYWxCaW5kLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luT3B0aW9uYWxCaW5kPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktYmluZC9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksdT1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBwIGV4dGVuZHMgaC5BY3RvclJkZkpvaW57Y29uc3RydWN0b3Iodil7c3VwZXIodix7bG9naWNhbFR5cGU6Im9wdGlvbmFsIixwaHlzaWNhbE5hbWU6ImJpbmQiLGxpbWl0RW50cmllczoyLGNhbkhhbmRsZVVuZGVmczohMH0pfWFzeW5jIGdldE91dHB1dCh2KXt2LmVudHJpZXNbMV0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLmNsb3NlKCk7Y29uc3QgYj12LmNvbnRleHQuc2V0KGwuS2V5c1F1ZXJ5T3BlcmF0aW9uLmpvaW5MZWZ0TWV0YWRhdGEsYXdhaXQgdi5lbnRyaWVzWzBdLm91dHB1dC5tZXRhZGF0YSgpKS5zZXQobC5LZXlzUXVlcnlPcGVyYXRpb24uam9pblJpZ2h0TWV0YWRhdGFzLFthd2FpdCB2LmVudHJpZXNbMV0ub3V0cHV0Lm1ldGFkYXRhKCldKTtyZXR1cm57cmVzdWx0Ont0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06by5BY3RvclJkZkpvaW5NdWx0aUJpbmQuY3JlYXRlQmluZFN0cmVhbSh0aGlzLmJpbmRPcmRlcix2LmVudHJpZXNbMF0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLFt2LmVudHJpZXNbMV0ub3BlcmF0aW9uXSxhc3luYyhPLFQpPT57Y29uc3Qgaj1PWzBdO3JldHVybiBkLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246aixjb250ZXh0OmI/LnNldChsLktleXNRdWVyeU9wZXJhdGlvbi5qb2luQmluZGluZ3MsVCl9KSkuYmluZGluZ3NTdHJlYW19LCEwKSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCB0aGlzLmNvbnN0cnVjdFJlc3VsdE1ldGFkYXRhKHYuZW50cmllcyxhd2FpdCBoLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModi5lbnRyaWVzKSx2LmNvbnRleHQse2NhbkNvbnRhaW5VbmRlZnM6ITB9KX19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHModixiKXtjb25zdCBfPWguQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJbml0aWFsVGltZXMoYiksTz1oLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SXRlbVRpbWVzKGIpO2lmKHYuZW50cmllc1sxXS5vcGVyYXRpb24udHlwZT09PXUuQWxnZWJyYS50eXBlcy5FWFRFTkR8fHYuZW50cmllc1sxXS5vcGVyYXRpb24udHlwZT09PXUuQWxnZWJyYS50eXBlcy5HUk9VUCl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gbm90IGJpbmQgb24gRXh0ZW5kIGFuZCBHcm91cCBvcGVyYXRpb25zYCk7Y29uc3QgVD0oYXdhaXQgdGhpcy5tZWRpYXRvckpvaW5TZWxlY3Rpdml0eS5tZWRpYXRlKHtlbnRyaWVzOnYuZW50cmllcyxjb250ZXh0OnYuY29udGV4dH0pKS5zZWxlY3Rpdml0eSp0aGlzLnNlbGVjdGl2aXR5TW9kaWZpZXI7cmV0dXJue2l0ZXJhdGlvbnM6YlswXS5jYXJkaW5hbGl0eS52YWx1ZSpiWzFdLmNhcmRpbmFsaXR5LnZhbHVlKlQscGVyc2lzdGVkSXRlbXM6MCxibG9ja2luZ0l0ZW1zOjAscmVxdWVzdFRpbWU6X1swXStiWzBdLmNhcmRpbmFsaXR5LnZhbHVlKlQqKE9bMF0rX1sxXStiWzFdLmNhcmRpbmFsaXR5LnZhbHVlKk9bMV0pfX19ZS5BY3RvclJkZkpvaW5PcHRpb25hbEJpbmQ9cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tb3B0aW9uYWwtYmluZC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1vcHRpb25hbC1iaW5kL2xpYi9BY3RvclJkZkpvaW5PcHRpb25hbEJpbmQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tb3B0aW9uYWwtbmVzdGVkbG9vcC9saWIvQWN0b3JSZGZKb2luT3B0aW9uYWxOZXN0ZWRMb29wLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luT3B0aW9uYWxOZXN0ZWRMb29wPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2FzeW5jam9pbi9pbmRleC5qcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yUmRmSm9pbntjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LHtsb2dpY2FsVHlwZToib3B0aW9uYWwiLHBoeXNpY2FsTmFtZToibmVzdGVkLWxvb3AiLGxpbWl0RW50cmllczoyLGNhbkhhbmRsZVVuZGVmczohMH0pfWFzeW5jIGdldE91dHB1dCh1KXtyZXR1cm57cmVzdWx0Ont0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IGQuTmVzdGVkTG9vcEpvaW4odS5lbnRyaWVzWzBdLm91dHB1dC5iaW5kaW5nc1N0cmVhbSx1LmVudHJpZXNbMV0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLG8uQWN0b3JSZGZKb2luLmpvaW5CaW5kaW5ncyx7b3B0aW9uYWw6ITAsYXV0b1N0YXJ0OiExfSksbWV0YWRhdGE6YXN5bmMoKT0+YXdhaXQgdGhpcy5jb25zdHJ1Y3RSZXN1bHRNZXRhZGF0YSh1LmVudHJpZXMsYXdhaXQgby5BY3RvclJkZkpvaW4uZ2V0TWV0YWRhdGFzKHUuZW50cmllcyksdS5jb250ZXh0LHtjYW5Db250YWluVW5kZWZzOiEwfSl9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHUscCl7Y29uc3QgZz1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKHApLHY9by5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhwKTtyZXR1cm57aXRlcmF0aW9uczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlKnBbMV0uY2FyZGluYWxpdHkudmFsdWUscGVyc2lzdGVkSXRlbXM6MCxibG9ja2luZ0l0ZW1zOjAscmVxdWVzdFRpbWU6Z1swXStwWzBdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMF0rZ1sxXStwWzFdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMV19fX1lLkFjdG9yUmRmSm9pbk9wdGlvbmFsTmVzdGVkTG9vcD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1vcHRpb25hbC1uZXN0ZWRsb29wL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW9wdGlvbmFsLW5lc3RlZGxvb3AvbGliL0FjdG9yUmRmSm9pbk9wdGlvbmFsTmVzdGVkTG9vcC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1zZWxlY3Rpdml0eS12YXJpYWJsZS1jb3VudGluZy9saWIvQWN0b3JSZGZKb2luU2VsZWN0aXZpdHlWYXJpYWJsZUNvdW50aW5nLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuSm9pblR5cGVzPWUuQWN0b3JSZGZKb2luU2VsZWN0aXZpdHlWYXJpYWJsZUNvdW50aW5nPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLXNlbGVjdGl2aXR5L2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZKb2luU2VsZWN0aXZpdHl7Y29uc3RydWN0b3IocCl7c3VwZXIocCl9YXN5bmMgdGVzdChwKXtyZXR1cm57YWNjdXJhY3k6LjV9fXN0YXRpYyBnZXRQYXR0ZXJuQ29zdChwKXtsZXQgZz0xO3JldHVybiBwLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiYoZys9NCksKHAucHJlZGljYXRlLnRlcm1UeXBlPT09IlZhcmlhYmxlInx8cC50eXBlPT09ZC5BbGdlYnJhLnR5cGVzLlBBVEgpJiYoZys9MSkscC5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiYoZys9MikscC5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJihnKz0xKSxnLzl9c3RhdGljIGdldEpvaW5UeXBlcyhwLGcpe2NvbnN0IHY9W107cmV0dXJuIHAuc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/KHAuc3ViamVjdC5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwudW5ib3VuZFNTKSxnLnR5cGU9PT0icGF0dGVybiImJnAuc3ViamVjdC5lcXVhbHMoZy5wcmVkaWNhdGUpJiZ2LnB1c2gobC51bmJvdW5kU1ApLHAuc3ViamVjdC5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC51bmJvdW5kU08pLHAuc3ViamVjdC5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLnVuYm91bmRTRykpOihwLnN1YmplY3QuZXF1YWxzKGcuc3ViamVjdCkmJnYucHVzaChsLmJvdW5kU1MpLGcudHlwZT09PSJwYXR0ZXJuIiYmcC5zdWJqZWN0LmVxdWFscyhnLnByZWRpY2F0ZSkmJnYucHVzaChsLmJvdW5kU1ApLHAuc3ViamVjdC5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC5ib3VuZFNPKSxwLnN1YmplY3QuZXF1YWxzKGcuZ3JhcGgpJiZ2LnB1c2gobC5ib3VuZFNHKSkscC50eXBlPT09InBhdHRlcm4iJiYocC5wcmVkaWNhdGUudGVybVR5cGU9PT0iVmFyaWFibGUiPyhwLnByZWRpY2F0ZS5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwudW5ib3VuZFBTKSxnLnR5cGU9PT0icGF0dGVybiImJnAucHJlZGljYXRlLmVxdWFscyhnLnByZWRpY2F0ZSkmJnYucHVzaChsLnVuYm91bmRQUCkscC5wcmVkaWNhdGUuZXF1YWxzKGcub2JqZWN0KSYmdi5wdXNoKGwudW5ib3VuZFBPKSxwLnByZWRpY2F0ZS5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLnVuYm91bmRQRykpOihwLnByZWRpY2F0ZS5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwuYm91bmRQUyksZy50eXBlPT09InBhdHRlcm4iJiZwLnByZWRpY2F0ZS5lcXVhbHMoZy5wcmVkaWNhdGUpJiZ2LnB1c2gobC5ib3VuZFBQKSxwLnByZWRpY2F0ZS5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC5ib3VuZFBPKSxwLnByZWRpY2F0ZS5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLmJvdW5kUEcpKSkscC5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiPyhwLm9iamVjdC5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwudW5ib3VuZE9TKSxnLnR5cGU9PT0icGF0dGVybiImJnAub2JqZWN0LmVxdWFscyhnLnByZWRpY2F0ZSkmJnYucHVzaChsLnVuYm91bmRPUCkscC5vYmplY3QuZXF1YWxzKGcub2JqZWN0KSYmdi5wdXNoKGwudW5ib3VuZE9PKSxwLm9iamVjdC5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLnVuYm91bmRPRykpOihwLm9iamVjdC5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwuYm91bmRPUyksZy50eXBlPT09InBhdHRlcm4iJiZwLm9iamVjdC5lcXVhbHMoZy5wcmVkaWNhdGUpJiZ2LnB1c2gobC5ib3VuZE9QKSxwLm9iamVjdC5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC5ib3VuZE9PKSxwLm9iamVjdC5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLmJvdW5kT0cpKSxwLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj8ocC5ncmFwaC5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwudW5ib3VuZEdTKSxnLnR5cGU9PT0icGF0dGVybiImJnAuZ3JhcGguZXF1YWxzKGcucHJlZGljYXRlKSYmdi5wdXNoKGwudW5ib3VuZEdQKSxwLmdyYXBoLmVxdWFscyhnLm9iamVjdCkmJnYucHVzaChsLnVuYm91bmRHTykscC5ncmFwaC5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLnVuYm91bmRHRykpOihwLmdyYXBoLmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC5ib3VuZEdTKSxnLnR5cGU9PT0icGF0dGVybiImJnAuZ3JhcGguZXF1YWxzKGcucHJlZGljYXRlKSYmdi5wdXNoKGwuYm91bmRHUCkscC5ncmFwaC5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC5ib3VuZEdPKSxwLmdyYXBoLmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwuYm91bmRHRykpLHZ9c3RhdGljIGdldE9wZXJhdGlvbnNQYWlyd2lzZUpvaW5Db3N0KHAsZyl7bGV0IHY9aC5NQVhfUEFJUldJU0VfQ09TVDtmb3IoY29uc3QgYiBvZiBoLmdldEpvaW5UeXBlcyhwLGcpKXN3aXRjaChiKXtjYXNlIGwuYm91bmRTUzp2LT0yKjI7YnJlYWs7Y2FzZSBsLmJvdW5kU1A6di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZFNPOnYtPTEqMjticmVhaztjYXNlIGwuYm91bmRTRzp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kUFM6di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZFBQOnJldHVybiAxO2Nhc2UgbC5ib3VuZFBPOnYtPTMqMjticmVhaztjYXNlIGwuYm91bmRQRzp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kT1M6di09MSoyO2JyZWFrO2Nhc2UgbC5ib3VuZE9QOnYtPTMqMjticmVhaztjYXNlIGwuYm91bmRPTzp2LT0xKjI7YnJlYWs7Y2FzZSBsLmJvdW5kT0c6di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZEdTOnYtPTMqMjticmVhaztjYXNlIGwuYm91bmRHUDp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kR086di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZEdHOnYtPTMqMjticmVhaztjYXNlIGwudW5ib3VuZFNTOnYtPTI7YnJlYWs7Y2FzZSBsLnVuYm91bmRTUDp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kU086di09MTticmVhaztjYXNlIGwudW5ib3VuZFNHOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRQUzp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kUFA6di09MzticmVhaztjYXNlIGwudW5ib3VuZFBPOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRQRzp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kT1M6di09MTticmVhaztjYXNlIGwudW5ib3VuZE9QOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRPTzp2LT0xO2JyZWFrO2Nhc2UgbC51bmJvdW5kT0c6di09MzticmVhaztjYXNlIGwudW5ib3VuZEdTOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRHUDp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kR086di09MzticmVhaztjYXNlIGwudW5ib3VuZEdHOnYtPTM7YnJlYWt9cmV0dXJuIHYvaC5NQVhfUEFJUldJU0VfQ09TVH1zdGF0aWMgZ2V0T3BlcmF0aW9uc0pvaW5Db3N0KHApe2NvbnN0IGc9W107Zm9yKGNvbnN0IF8gb2YgcClkLlV0aWwucmVjdXJzZU9wZXJhdGlvbihfLHtbZC5BbGdlYnJhLnR5cGVzLlBBVFRFUk5dKE8pe3JldHVybiBnLnB1c2goTyksITF9LFtkLkFsZ2VicmEudHlwZXMuUEFUSF0oTyl7cmV0dXJuIGcucHVzaChPKSwhMX19KTtsZXQgdj0wLGI9MDtmb3IoY29uc3QgXyBvZiBnKWZvcihjb25zdCBPIG9mIGcpXyE9PU8mJih2Kz1oLmdldE9wZXJhdGlvbnNQYWlyd2lzZUpvaW5Db3N0KF8sTyksYisrKTtyZXR1cm4gdi9iKmcucmVkdWNlKChfLE8pPT5fKmguZ2V0UGF0dGVybkNvc3QoTyksMSl9YXN5bmMgcnVuKHApe3JldHVybiBwLmVudHJpZXMubGVuZ3RoPD0xP3tzZWxlY3Rpdml0eToxfTp7c2VsZWN0aXZpdHk6aC5nZXRPcGVyYXRpb25zSm9pbkNvc3QocC5lbnRyaWVzLm1hcChnPT5nLm9wZXJhdGlvbikpfX19ZS5BY3RvclJkZkpvaW5TZWxlY3Rpdml0eVZhcmlhYmxlQ291bnRpbmc9aCxoLk1BWF9QQUlSV0lTRV9DT1NUPTQxKjI7dmFyIGw7KGZ1bmN0aW9uKHUpe3VbdS5ib3VuZFNTPTBdPSJib3VuZFNTIix1W3UuYm91bmRTUD0xXT0iYm91bmRTUCIsdVt1LmJvdW5kU089Ml09ImJvdW5kU08iLHVbdS5ib3VuZFNHPTNdPSJib3VuZFNHIix1W3UuYm91bmRQUz00XT0iYm91bmRQUyIsdVt1LmJvdW5kUFA9NV09ImJvdW5kUFAiLHVbdS5ib3VuZFBPPTZdPSJib3VuZFBPIix1W3UuYm91bmRQRz03XT0iYm91bmRQRyIsdVt1LmJvdW5kT1M9OF09ImJvdW5kT1MiLHVbdS5ib3VuZE9QPTldPSJib3VuZE9QIix1W3UuYm91bmRPTz0xMF09ImJvdW5kT08iLHVbdS5ib3VuZE9HPTExXT0iYm91bmRPRyIsdVt1LmJvdW5kR1M9MTJdPSJib3VuZEdTIix1W3UuYm91bmRHUD0xM109ImJvdW5kR1AiLHVbdS5ib3VuZEdPPTE0XT0iYm91bmRHTyIsdVt1LmJvdW5kR0c9MTVdPSJib3VuZEdHIix1W3UudW5ib3VuZFNTPTE2XT0idW5ib3VuZFNTIix1W3UudW5ib3VuZFNQPTE3XT0idW5ib3VuZFNQIix1W3UudW5ib3VuZFNPPTE4XT0idW5ib3VuZFNPIix1W3UudW5ib3VuZFNHPTE5XT0idW5ib3VuZFNHIix1W3UudW5ib3VuZFBTPTIwXT0idW5ib3VuZFBTIix1W3UudW5ib3VuZFBQPTIxXT0idW5ib3VuZFBQIix1W3UudW5ib3VuZFBPPTIyXT0idW5ib3VuZFBPIix1W3UudW5ib3VuZFBHPTIzXT0idW5ib3VuZFBHIix1W3UudW5ib3VuZE9TPTI0XT0idW5ib3VuZE9TIix1W3UudW5ib3VuZE9QPTI1XT0idW5ib3VuZE9QIix1W3UudW5ib3VuZE9PPTI2XT0idW5ib3VuZE9PIix1W3UudW5ib3VuZE9HPTI3XT0idW5ib3VuZE9HIix1W3UudW5ib3VuZEdTPTI4XT0idW5ib3VuZEdTIix1W3UudW5ib3VuZEdQPTI5XT0idW5ib3VuZEdQIix1W3UudW5ib3VuZEdPPTMwXT0idW5ib3VuZEdPIix1W3UudW5ib3VuZEdHPTMxXT0idW5ib3VuZEdHIn0pKGw9ZS5Kb2luVHlwZXN8fChlLkpvaW5UeXBlcz17fSkpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1zZWxlY3Rpdml0eS12YXJpYWJsZS1jb3VudGluZy9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1zZWxlY3Rpdml0eS12YXJpYWJsZS1jb3VudGluZy9saWIvQWN0b3JSZGZKb2luU2VsZWN0aXZpdHlWYXJpYWJsZUNvdW50aW5nLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuRmVkZXJhdGVkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5GZWRlcmF0ZWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tZmVkZXJhdGVkL2xpYi9GZWRlcmF0ZWRRdWFkU291cmNlLmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5Tb3VyY2V7Y29uc3RydWN0b3IodSl7c3VwZXIodSksdGhpcy5lbXB0eVBhdHRlcm5zPW5ldyBNYXB9YXN5bmMgdGVzdCh1KXtpZighKDAsby5nZXRDb250ZXh0U291cmNlcykodS5jb250ZXh0KSl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gb25seSByZXNvbHZlIHF1YWQgcGF0dGVybiBxdWVyaWVzIGFnYWluc3QgYSBzb3VyY2VzIGFycmF5LmApO3JldHVybiEwfWFzeW5jIGdldFNvdXJjZSh1KXtyZXR1cm4gbmV3IGQuRmVkZXJhdGVkUXVhZFNvdXJjZSh0aGlzLm1lZGlhdG9yUmVzb2x2ZVF1YWRQYXR0ZXJuLHUsdGhpcy5lbXB0eVBhdHRlcm5zLHRoaXMuc2tpcEVtcHR5UGF0dGVybnMpfX1lLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuRmVkZXJhdGVkPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL0ZlZGVyYXRlZFF1YWRTb3VyY2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5GZWRlcmF0ZWRRdWFkU291cmNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL2luZGV4LmpzIiksdT1uKCJhc3luY2l0ZXJhdG9yIikscD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGc9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9pbmRleC5qcyIpLHY9bigic3BhcnFsYWxnZWJyYWpzIiksYj1uZXcgcC5EYXRhRmFjdG9yeTtjbGFzcyBfe2NvbnN0cnVjdG9yKFQsaixOLEIpe2lmKHRoaXMubWVkaWF0b3JSZXNvbHZlUXVhZFBhdHRlcm49VCx0aGlzLnNvdXJjZXM9ai5nZXQoaC5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZXMpLHRoaXMuY29udGV4dERlZmF1bHQ9ai5kZWxldGUoaC5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZXMpLHRoaXMuZW1wdHlQYXR0ZXJucz1OLHRoaXMuc291cmNlSWRzPWouZ2V0KGguS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VJZHMpPz9uZXcgTWFwLHRoaXMuc2tpcEVtcHR5UGF0dGVybnM9Qix0aGlzLmFsZ2VicmFGYWN0b3J5PW5ldyB2LkZhY3RvcnksdGhpcy5za2lwRW1wdHlQYXR0ZXJucylmb3IoY29uc3QgQyBvZiB0aGlzLnNvdXJjZXMpdGhpcy5lbXB0eVBhdHRlcm5zLmhhcyhDKXx8dGhpcy5lbXB0eVBhdHRlcm5zLnNldChDLFtdKX1zdGF0aWMgaXNUZXJtQm91bmQoVCl7cmV0dXJuIFQudGVybVR5cGUhPT0iVmFyaWFibGUifXN0YXRpYyBpc1N1YlBhdHRlcm5PZihULGope3JldHVybighXy5pc1Rlcm1Cb3VuZChqLnN1YmplY3QpfHxqLnN1YmplY3QuZXF1YWxzKFQuc3ViamVjdCkpJiYoIV8uaXNUZXJtQm91bmQoai5wcmVkaWNhdGUpfHxqLnByZWRpY2F0ZS5lcXVhbHMoVC5wcmVkaWNhdGUpKSYmKCFfLmlzVGVybUJvdW5kKGoub2JqZWN0KXx8ai5vYmplY3QuZXF1YWxzKFQub2JqZWN0KSkmJighXy5pc1Rlcm1Cb3VuZChqLmdyYXBoKXx8ai5ncmFwaC5lcXVhbHMoVC5ncmFwaCkpfXN0YXRpYyBza29sZW1pemVUZXJtKFQsail7cmV0dXJuIFQudGVybVR5cGU9PT0iQmxhbmtOb2RlIj9uZXcgbC5CbGFua05vZGVTY29wZWQoYGJjXyR7an1fJHtULnZhbHVlfWAsYi5uYW1lZE5vZGUoYCR7Xy5TS09MRU1fUFJFRklYfSR7an06JHtULnZhbHVlfWApKTpUfXN0YXRpYyBza29sZW1pemVRdWFkKFQsail7cmV0dXJuKDAsZy5tYXBUZXJtcykoVCxOPT5fLnNrb2xlbWl6ZVRlcm0oTixqKSl9c3RhdGljIGRlc2tvbGVtaXplVGVybShULGope2lmKFQudGVybVR5cGU9PT0iQmxhbmtOb2RlIiYmInNrb2xlbWl6ZWQiaW4gVCYmKFQ9VC5za29sZW1pemVkKSxULnRlcm1UeXBlPT09Ik5hbWVkTm9kZSImJlQudmFsdWUuc3RhcnRzV2l0aChfLlNLT0xFTV9QUkVGSVgpKXtjb25zdCBOPVQudmFsdWUuaW5kZXhPZigiOiIsXy5TS09MRU1fUFJFRklYLmxlbmd0aCk7aWYoVC52YWx1ZS5zbGljZShfLlNLT0xFTV9QUkVGSVgubGVuZ3RoLE4pPT09ail7Y29uc3QgQz1ULnZhbHVlLnNsaWNlKE4rMSxULnZhbHVlLmxlbmd0aCk7cmV0dXJuIGIuYmxhbmtOb2RlKEMpfXJldHVybiBudWxsfXJldHVybiBUfXN0YXRpYyBkZXNrb2xlbWl6ZVF1YWQoVCxqKXtyZXR1cm4oMCxnLm1hcFRlcm1zKShULE49Pntjb25zdCBCPV8uZGVza29sZW1pemVUZXJtKE4saik7cmV0dXJuIEJ8fE59KX1pc1NvdXJjZUVtcHR5KFQsail7aWYoIXRoaXMuc2tpcEVtcHR5UGF0dGVybnMpcmV0dXJuITE7Y29uc3QgTj10aGlzLmVtcHR5UGF0dGVybnMuZ2V0KFQpO2lmKE4pe2Zvcihjb25zdCBCIG9mIE4paWYoXy5pc1N1YlBhdHRlcm5PZihqLEIpKXJldHVybiEwfXJldHVybiExfWdldFNvdXJjZUlkKFQpe2xldCBqPXRoaXMuc291cmNlSWRzLmdldChUKTtyZXR1cm4gaj09PXZvaWQgMCYmKGo9YCR7dGhpcy5zb3VyY2VJZHMuc2l6ZX1gLHRoaXMuc291cmNlSWRzLnNldChULGopKSxqfW1hdGNoKFQsaixOLEIpe2NvbnN0IEM9e2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6MH0sY2FuQ29udGFpblVuZGVmczohMX07bGV0IEw9dGhpcy5zb3VyY2VzLmxlbmd0aDtjb25zdCBTPShrLEosYWUscSk9Pnt0aGlzLnNraXBFbXB0eVBhdHRlcm5zJiYhayYmYWUmJiF0aGlzLmlzU291cmNlRW1wdHkoSixhZSkmJnRoaXMuZW1wdHlQYXR0ZXJucy5nZXQoSikucHVzaChhZSksTHx8KHEmJnRoaXMuc291cmNlcy5sZW5ndGg9PT0xP0Yuc2V0UHJvcGVydHkoIm1ldGFkYXRhIixxKTpGLnNldFByb3BlcnR5KCJtZXRhZGF0YSIsQykpfSxQPVByb21pc2UuYWxsKHRoaXMuc291cmNlcy5tYXAoYXN5bmMgaz0+e2NvbnN0IEo9dGhpcy5nZXRTb3VyY2VJZChrKSxhZT1fLmRlc2tvbGVtaXplVGVybShULEopLHE9Xy5kZXNrb2xlbWl6ZVRlcm0oaixKKSxHPV8uZGVza29sZW1pemVUZXJtKE4sSikscmU9Xy5kZXNrb2xlbWl6ZVRlcm0oQixKKTtsZXQgTSwkPSgwLGQuZ2V0RGF0YVNvdXJjZUNvbnRleHQpKGssdGhpcy5jb250ZXh0RGVmYXVsdCk7JD0kLnNldChoLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlLGspO2xldCBVOyFhZXx8IXF8fCFHfHwhcmV8fHRoaXMuaXNTb3VyY2VFbXB0eShrLE09dGhpcy5hbGdlYnJhRmFjdG9yeS5jcmVhdGVQYXR0ZXJuKGFlLHEsRyxyZSkpPyhVPXtkYXRhOm5ldyB1LkFycmF5SXRlcmF0b3IoW10se2F1dG9TdGFydDohMX0pfSxVLmRhdGEuc2V0UHJvcGVydHkoIm1ldGFkYXRhIix7Y2FyZGluYWxpdHk6MCxjYW5Db250YWluVW5kZWZzOiExfSkpOlU9YXdhaXQgdGhpcy5tZWRpYXRvclJlc29sdmVRdWFkUGF0dGVybi5tZWRpYXRlKHtwYXR0ZXJuOk0sY29udGV4dDokfSksVS5kYXRhLmdldFByb3BlcnR5KCJtZXRhZGF0YSIsZWU9PnshZWUuY2FyZGluYWxpdHl8fCFOdW1iZXIuaXNGaW5pdGUoZWUuY2FyZGluYWxpdHkudmFsdWUpPyhDLmNhcmRpbmFsaXR5LnR5cGU9ImVzdGltYXRlIixDLmNhcmRpbmFsaXR5LnZhbHVlPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxMPTApOihlZS5jYXJkaW5hbGl0eS50eXBlPT09ImVzdGltYXRlIiYmKEMuY2FyZGluYWxpdHkudHlwZT0iZXN0aW1hdGUiKSxDLmNhcmRpbmFsaXR5LnZhbHVlKz1lZS5jYXJkaW5hbGl0eS52YWx1ZSxMLS0pLChDLnJlcXVlc3RUaW1lfHxlZS5yZXF1ZXN0VGltZSkmJihDLnJlcXVlc3RUaW1lPUMucmVxdWVzdFRpbWV8fDAsZWUucmVxdWVzdFRpbWU9ZWUucmVxdWVzdFRpbWV8fDAsQy5yZXF1ZXN0VGltZSs9ZWUucmVxdWVzdFRpbWUpLChDLnBhZ2VTaXplfHxlZS5wYWdlU2l6ZSkmJihDLnBhZ2VTaXplPUMucGFnZVNpemV8fDAsZWUucGFnZVNpemU9ZWUucGFnZVNpemV8fDAsQy5wYWdlU2l6ZSs9ZWUucGFnZVNpemUpLGVlLmNhbkNvbnRhaW5VbmRlZnMmJihDLmNhbkNvbnRhaW5VbmRlZnM9ITApLFMoQy5jYXJkaW5hbGl0eS52YWx1ZSxrLE0sZWUpfSk7Y29uc3QgSD1VLmRhdGEubWFwKGVlPT5fLnNrb2xlbWl6ZVF1YWQoZWUsSikpO3JldHVybiBILm9uKCJlcnJvciIsZWU9PkYuZW1pdCgiZXJyb3IiLGVlKSksSH0pKSxGPW5ldyBvLkNsb3NhYmxlVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+bmV3IHUuVW5pb25JdGVyYXRvcihhd2FpdCBQKSx7YXV0b1N0YXJ0OiExLG9uQ2xvc2UoKXtQLnRoZW4oaz0+e2Zvcihjb25zdCBKIG9mIGspSi5kZXN0cm95KCl9LCgpPT57fSl9fSk7cmV0dXJuIHRoaXMuc291cmNlcy5sZW5ndGg9PT0wJiZGLnNldFByb3BlcnR5KCJtZXRhZGF0YSIsQyksRn19ZS5GZWRlcmF0ZWRRdWFkU291cmNlPV8sXy5TS09MRU1fUFJFRklYPSJ1cm46Y29tdW5pY2Ffc2tvbGVtOnNvdXJjZV8ifSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tZmVkZXJhdGVkL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuRmVkZXJhdGVkLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL0ZlZGVyYXRlZFF1YWRTb3VyY2UuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLXJkZmpzLXNvdXJjZS9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5SZGZKc1NvdXJjZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuUmRmSnNTb3VyY2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tcmRmanMtc291cmNlL2xpYi9SZGZKc1F1YWRTb3VyY2UuanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVyblNvdXJjZXtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1KX1hc3luYyB0ZXN0KHUpe2lmKCEoMCxvLmhhc0NvbnRleHRTaW5nbGVTb3VyY2VPZlR5cGUpKCJyZGZqc1NvdXJjZSIsdS5jb250ZXh0KSl0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSByZXF1aXJlcyBhIHNpbmdsZSBzb3VyY2Ugd2l0aCBhbiByZGZqc1NvdXJjZSB0byBiZSBwcmVzZW50IGluIHRoZSBjb250ZXh0LmApO2NvbnN0IHA9KDAsby5nZXRDb250ZXh0U291cmNlKSh1LmNvbnRleHQpO2lmKCFwfHx0eXBlb2YgcD09InN0cmluZyJ8fCEoIm1hdGNoImluIHApJiYhcC52YWx1ZS5tYXRjaCl0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSByZWNlaXZlZCBhbiBpbnZhbGlkIHJkZmpzU291cmNlLmApO3JldHVybiEwfWFzeW5jIGdldFNvdXJjZSh1KXtjb25zdCBwPSgwLG8uZ2V0Q29udGV4dFNvdXJjZSkodSk7cmV0dXJuIG5ldyBkLlJkZkpzUXVhZFNvdXJjZSgibWF0Y2giaW4gcD9wOnAudmFsdWUpfX1lLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuUmRmSnNTb3VyY2U9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLXJkZmpzLXNvdXJjZS9saWIvSVJkZkpzU291cmNlRXh0ZW5kZWQuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tcmRmanMtc291cmNlL2xpYi9SZGZKc1F1YWRTb3VyY2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5SZGZKc1F1YWRTb3VyY2U9dm9pZCAwO2NvbnN0IG89bigiYXN5bmNpdGVyYXRvciIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCl7dGhpcy5zb3VyY2U9bH1zdGF0aWMgbnVsbGlmeVZhcmlhYmxlcyhsKXtyZXR1cm4hbHx8bC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/dm9pZCAwOmx9bWF0Y2gobCx1LHAsZyl7Y29uc3Qgdj10aGlzLnNvdXJjZS5tYXRjaChkLm51bGxpZnlWYXJpYWJsZXMobCksZC5udWxsaWZ5VmFyaWFibGVzKHUpLGQubnVsbGlmeVZhcmlhYmxlcyhwKSxkLm51bGxpZnlWYXJpYWJsZXMoZykpLGI9KDAsby53cmFwKSh2LHthdXRvU3RhcnQ6ITF9KTtyZXR1cm4gdGhpcy5zZXRNZXRhZGF0YShiLGwsdSxwLGcpLmNhdGNoKF89PmIuZGVzdHJveShfKSksYn1hc3luYyBzZXRNZXRhZGF0YShsLHUscCxnLHYpe2xldCBiO2lmKHRoaXMuc291cmNlLmNvdW50UXVhZHMpYj1hd2FpdCB0aGlzLnNvdXJjZS5jb3VudFF1YWRzKGQubnVsbGlmeVZhcmlhYmxlcyh1KSxkLm51bGxpZnlWYXJpYWJsZXMocCksZC5udWxsaWZ5VmFyaWFibGVzKGcpLGQubnVsbGlmeVZhcmlhYmxlcyh2KSk7ZWxzZXtsZXQgXz0wO2I9YXdhaXQgbmV3IFByb21pc2UoKE8sVCk9Pntjb25zdCBqPXRoaXMuc291cmNlLm1hdGNoKGQubnVsbGlmeVZhcmlhYmxlcyh1KSxkLm51bGxpZnlWYXJpYWJsZXMocCksZC5udWxsaWZ5VmFyaWFibGVzKGcpLGQubnVsbGlmeVZhcmlhYmxlcyh2KSk7ai5vbigiZXJyb3IiLFQpLGoub24oImVuZCIsKCk9Pk8oXykpLGoub24oImRhdGEiLCgpPT5fKyspfSl9bC5zZXRQcm9wZXJ0eSgibWV0YWRhdGEiLHtjYXJkaW5hbGl0eTp7dHlwZToiZXhhY3QiLHZhbHVlOmJ9LGNhbkNvbnRhaW5VbmRlZnM6ITF9KX19ZS5SZGZKc1F1YWRTb3VyY2U9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLXJkZmpzLXNvdXJjZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tcmRmanMtc291cmNlL2xpYi9BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVyblJkZkpzU291cmNlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1yZGZqcy1zb3VyY2UvbGliL0lSZGZKc1NvdXJjZUV4dGVuZGVkLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1yZGZqcy1zb3VyY2UvbGliL1JkZkpzUXVhZFNvdXJjZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtdXBkYXRlLXF1YWRzLXJkZmpzLXN0b3JlL2xpYi9BY3RvclJkZlVwZGF0ZVF1YWRzUmRmSnNTdG9yZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmVXBkYXRlUXVhZHNSZGZKc1N0b3JlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi11cGRhdGUtcXVhZHMtcmRmanMtc3RvcmUvbGliL1JkZkpzUXVhZERlc3RpbmF0aW9uLmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZVcGRhdGVRdWFkc0Rlc3RpbmF0aW9ue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUpfWFzeW5jIHRlc3QodSl7Y29uc3QgcD0oMCxvLmdldENvbnRleHREZXN0aW5hdGlvbikodS5jb250ZXh0KTtpZighcHx8dHlwZW9mIHA9PSJzdHJpbmcifHwhKCJyZW1vdmUiaW4gcCkmJiJ2YWx1ZSJpbiBwJiYhcC52YWx1ZS5yZW1vdmUpdGhyb3cgbmV3IEVycm9yKGAke3RoaXMubmFtZX0gcmVjZWl2ZWQgYW4gaW52YWxpZCByZGZqc1N0b3JlLmApO3JldHVybiEwfWFzeW5jIGdldERlc3RpbmF0aW9uKHUpe2NvbnN0IHA9KDAsby5nZXRDb250ZXh0RGVzdGluYXRpb24pKHUpO3JldHVybiBuZXcgZC5SZGZKc1F1YWREZXN0aW5hdGlvbigicmVtb3ZlImluIHA/cDpwLnZhbHVlKX19ZS5BY3RvclJkZlVwZGF0ZVF1YWRzUmRmSnNTdG9yZT1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtdXBkYXRlLXF1YWRzLXJkZmpzLXN0b3JlL2xpYi9SZGZKc1F1YWREZXN0aW5hdGlvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlJkZkpzUXVhZERlc3RpbmF0aW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLGg9bmV3IG8uRGF0YUZhY3Rvcnk7Y2xhc3MgbHtjb25zdHJ1Y3RvcihwKXt0aGlzLnN0b3JlPXB9cHJvbWlzaWZ5RXZlbnRFbWl0dGVyKHApe3JldHVybiBuZXcgUHJvbWlzZSgoZyx2KT0+e3Aub24oImVuZCIsZykscC5vbigiZXJyb3IiLHYpfSl9ZGVsZXRlKHApe3JldHVybiB0aGlzLnByb21pc2lmeUV2ZW50RW1pdHRlcih0aGlzLnN0b3JlLnJlbW92ZShwKSl9aW5zZXJ0KHApe3JldHVybiB0aGlzLnByb21pc2lmeUV2ZW50RW1pdHRlcih0aGlzLnN0b3JlLmltcG9ydChwKSl9YXN5bmMgZGVsZXRlR3JhcGhzKHAsZyx2KXtzd2l0Y2gocCl7Y2FzZSJBTEwiOmF3YWl0IHRoaXMucHJvbWlzaWZ5RXZlbnRFbWl0dGVyKHRoaXMuc3RvcmUuZGVsZXRlR3JhcGgoaC5kZWZhdWx0R3JhcGgoKSkpO2Nhc2UiTkFNRUQiOmNvbnN0IGI9dGhpcy5zdG9yZS5tYXRjaCgpLF89e307Yi5vbigiZGF0YSIsTz0+e08uZ3JhcGgudGVybVR5cGUhPT0iRGVmYXVsdEdyYXBoIiYmKF9bKDAsZC50ZXJtVG9TdHJpbmcpKE8uZ3JhcGgpXT0hMCl9KSxhd2FpdCB0aGlzLnByb21pc2lmeUV2ZW50RW1pdHRlcihiKSxhd2FpdCBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfKS5tYXAoTz0+dGhpcy5wcm9taXNpZnlFdmVudEVtaXR0ZXIodGhpcy5zdG9yZS5kZWxldGVHcmFwaCgoMCxkLnN0cmluZ1RvVGVybSkoTykpKSkpO2JyZWFrO2RlZmF1bHQ6Zm9yKGNvbnN0IE8gb2YgQXJyYXkuaXNBcnJheShwKT9wOltwXSlhd2FpdCB0aGlzLnByb21pc2lmeUV2ZW50RW1pdHRlcih0aGlzLnN0b3JlLmRlbGV0ZUdyYXBoKE8pKX19YXN5bmMgY3JlYXRlR3JhcGhzKHAsZyl7aWYoZylmb3IoY29uc3QgdiBvZiBwKXtjb25zdCBiPXRoaXMuc3RvcmUubWF0Y2godm9pZCAwLHZvaWQgMCx2b2lkIDAsdik7YXdhaXQgbmV3IFByb21pc2UoKF8sTyk9PntiLm9uY2UoImRhdGEiLCgpPT57TyhuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmVhdGUgZ3JhcGggJHt2LnZhbHVlfSBhcyBpdCBhbHJlYWR5IGV4aXN0c2ApKX0pLGIub24oImVuZCIsXyksYi5vbigiZXJyb3IiLE8pfSl9fX1lLlJkZkpzUXVhZERlc3RpbmF0aW9uPWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi11cGRhdGUtcXVhZHMtcmRmanMtc3RvcmUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXVwZGF0ZS1xdWFkcy1yZGZqcy1zdG9yZS9saWIvQWN0b3JSZGZVcGRhdGVRdWFkc1JkZkpzU3RvcmUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvQmluZGluZ3MuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CaW5kaW5ncz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9wYWNrYWdlcy9pbW11dGFibGUvZGlzdC9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9iaW5kaW5nc1RvU3RyaW5nLmpzIik7Y2xhc3MgaHtjb25zdHJ1Y3Rvcih1LHApe3RoaXMudHlwZT0iYmluZGluZ3MiLHRoaXMuZGF0YUZhY3Rvcnk9dSx0aGlzLmVudHJpZXM9cH1oYXModSl7cmV0dXJuIHRoaXMuZW50cmllcy5oYXModHlwZW9mIHU9PSJzdHJpbmciP3U6dS52YWx1ZSl9Z2V0KHUpe3JldHVybiB0aGlzLmVudHJpZXMuZ2V0KHR5cGVvZiB1PT0ic3RyaW5nIj91OnUudmFsdWUpfXNldCh1LHApe3JldHVybiBuZXcgaCh0aGlzLmRhdGFGYWN0b3J5LHRoaXMuZW50cmllcy5zZXQodHlwZW9mIHU9PSJzdHJpbmciP3U6dS52YWx1ZSxwKSl9ZGVsZXRlKHUpe3JldHVybiBuZXcgaCh0aGlzLmRhdGFGYWN0b3J5LHRoaXMuZW50cmllcy5kZWxldGUodHlwZW9mIHU9PSJzdHJpbmciP3U6dS52YWx1ZSkpfWtleXMoKXtyZXR1cm4gdGhpcy5tYXBJdGVyYWJsZSh0aGlzLml0ZXJhdG9yVG9JdGVyYWJsZSh0aGlzLmVudHJpZXMua2V5cygpKSx1PT50aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKHUpKX12YWx1ZXMoKXtyZXR1cm4gdGhpcy5pdGVyYXRvclRvSXRlcmFibGUodGhpcy5lbnRyaWVzLnZhbHVlcygpKX1mb3JFYWNoKHUpe3RoaXMuZW50cmllcy5mb3JFYWNoKChwLGcpPT51KHAsdGhpcy5kYXRhRmFjdG9yeS52YXJpYWJsZShnKSkpfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuZW50cmllcy5zaXplfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMubWFwSXRlcmFibGUodGhpcy5pdGVyYXRvclRvSXRlcmFibGUodGhpcy5lbnRyaWVzLmVudHJpZXMoKSksKFt1LHBdKT0+W3RoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUodSkscF0pW1N5bWJvbC5pdGVyYXRvcl0oKX1lcXVhbHModSl7aWYoIXUpcmV0dXJuITE7aWYodGhpcz09PXUpcmV0dXJuITA7aWYodGhpcy5zaXplIT09dS5zaXplKXJldHVybiExO2Zvcihjb25zdCBwIG9mIHRoaXMua2V5cygpKWlmKCF0aGlzLmdldChwKT8uZXF1YWxzKHUuZ2V0KHApKSlyZXR1cm4hMTtyZXR1cm4hMH1maWx0ZXIodSl7cmV0dXJuIG5ldyBoKHRoaXMuZGF0YUZhY3RvcnksKDAsby5NYXApKHRoaXMuZW50cmllcy5maWx0ZXIoKHAsZyk9PnUocCx0aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKGcpKSkpKX1tYXAodSl7cmV0dXJuIG5ldyBoKHRoaXMuZGF0YUZhY3RvcnksKDAsby5NYXApKHRoaXMuZW50cmllcy5tYXAoKHAsZyk9PnUocCx0aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKGcpKSkpKX1tZXJnZSh1KXtjb25zdCBwPW5ldyBTZXQoWy4uLnRoaXMuaXRlcmF0b3JUb0l0ZXJhYmxlKHRoaXMuZW50cmllcy5rZXlzKCkpLC4uLlsuLi51LmtleXMoKV0ubWFwKHY9PnYudmFsdWUpXSksZz1bXTtmb3IoY29uc3QgdiBvZiBwKXtjb25zdCBiPXRoaXMuZW50cmllcy5nZXQodiksXz11LmdldCh0aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKHYpKTtpZihiJiZfJiYhYi5lcXVhbHMoXykpcmV0dXJuO2NvbnN0IE89Ynx8XztnLnB1c2goW3YsT10pfXJldHVybiBuZXcgaCh0aGlzLmRhdGFGYWN0b3J5LCgwLG8uTWFwKShnKSl9bWVyZ2VXaXRoKHUscCl7Y29uc3QgZz1uZXcgU2V0KFsuLi50aGlzLml0ZXJhdG9yVG9JdGVyYWJsZSh0aGlzLmVudHJpZXMua2V5cygpKSwuLi5bLi4ucC5rZXlzKCldLm1hcChiPT5iLnZhbHVlKV0pLHY9W107Zm9yKGNvbnN0IGIgb2YgZyl7Y29uc3QgXz10aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKGIpLE89dGhpcy5lbnRyaWVzLmdldChiKSxUPXAuZ2V0KF8pO2xldCBqO08mJlQmJiFPLmVxdWFscyhUKT9qPXUoTyxULF8pOmo9T3x8VCx2LnB1c2goW2Isal0pfXJldHVybiBuZXcgaCh0aGlzLmRhdGFGYWN0b3J5LCgwLG8uTWFwKSh2KSl9dG9TdHJpbmcoKXtyZXR1cm4oMCxkLmJpbmRpbmdzVG9TdHJpbmcpKHRoaXMpfSptYXBJdGVyYWJsZSh1LHApe2Zvcihjb25zdCBnIG9mIHUpeWllbGQgcChnKX1pdGVyYXRvclRvSXRlcmFibGUodSl7cmV0dXJue1tTeW1ib2wuaXRlcmF0b3JdOigpPT51fX19ZS5CaW5kaW5ncz1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9CaW5kaW5nc0ZhY3RvcnkuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CaW5kaW5nc0ZhY3Rvcnk9dm9pZCAwO2NvbnN0IG89bigiLi4vcGFja2FnZXMvaW1tdXRhYmxlL2Rpc3QvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL0JpbmRpbmdzLmpzIik7Y2xhc3MgbHtjb25zdHJ1Y3RvcihwPW5ldyBkLkRhdGFGYWN0b3J5KXt0aGlzLmRhdGFGYWN0b3J5PXB9YmluZGluZ3MocD1bXSl7cmV0dXJuIG5ldyBoLkJpbmRpbmdzKHRoaXMuZGF0YUZhY3RvcnksKDAsby5NYXApKHAubWFwKChbZyx2XSk9PltnLnZhbHVlLHZdKSkpfWZyb21CaW5kaW5ncyhwKXtyZXR1cm4gdGhpcy5iaW5kaW5ncyhbLi4ucF0pfWZyb21SZWNvcmQocCl7cmV0dXJuIHRoaXMuYmluZGluZ3MoT2JqZWN0LmVudHJpZXMocCkubWFwKChbZyx2XSk9Plt0aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKGcpLHZdKSl9fWUuQmluZGluZ3NGYWN0b3J5PWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2JpbmRpbmdzVG9TdHJpbmcuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5iaW5kaW5nc1RvU3RyaW5nPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIik7ZnVuY3Rpb24gZChoKXtjb25zdCBsPXt9O2Zvcihjb25zdCB1IG9mIGgua2V5cygpKWxbdS52YWx1ZV09KDAsby50ZXJtVG9TdHJpbmcpKGguZ2V0KHUpKTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkobCxudWxsLCIgICIpfWUuYmluZGluZ3NUb1N0cmluZz1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL0JpbmRpbmdzLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL0JpbmRpbmdzRmFjdG9yeS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9iaW5kaW5nc1RvU3RyaW5nLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1jb250ZXh0LXByZXByb2Nlc3MvbGliL0FjdG9yQ29udGV4dFByZXByb2Nlc3MuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvckNvbnRleHRQcmVwcm9jZXNzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3Rvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX19ZS5BY3RvckNvbnRleHRQcmVwcm9jZXNzPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1jb250ZXh0LXByZXByb2Nlc3MvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWNvbnRleHQtcHJlcHJvY2Vzcy9saWIvQWN0b3JDb250ZXh0UHJlcHJvY2Vzcy5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtaGFzaC1iaW5kaW5ncy9saWIvQWN0b3JIYXNoQmluZGluZ3MuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3Rvckhhc2hCaW5kaW5ncz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCl9fWUuQWN0b3JIYXNoQmluZGluZ3M9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWhhc2gtYmluZGluZ3MvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWhhc2gtYmluZGluZ3MvbGliL0FjdG9ySGFzaEJpbmRpbmdzLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1pbml0L2xpYi9BY3RvckluaXQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvckluaXQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9ySW5pdD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtaW5pdC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtaW5pdC9saWIvQWN0b3JJbml0LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCl9fWUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb24uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0JpbmRpbmdzLmpzIik7bGV0IHU9MDtjbGFzcyBwIGV4dGVuZHMgZC5BY3Rvcntjb25zdHJ1Y3Rvcih2KXtzdXBlcih2KX1zdGF0aWMgZ2V0U2FmZUJpbmRpbmdzKHYpe3JldHVybiBwLnZhbGlkYXRlUXVlcnlPdXRwdXQodiwiYmluZGluZ3MiKSx2fXN0YXRpYyBnZXRTYWZlUXVhZHModil7cmV0dXJuIHAudmFsaWRhdGVRdWVyeU91dHB1dCh2LCJxdWFkcyIpLHZ9c3RhdGljIGdldFNhZmVCb29sZWFuKHYpe3JldHVybiBwLnZhbGlkYXRlUXVlcnlPdXRwdXQodiwiYm9vbGVhbiIpLHZ9c3RhdGljIGdldFNhZmVWb2lkKHYpe3JldHVybiBwLnZhbGlkYXRlUXVlcnlPdXRwdXQodiwidm9pZCIpLHZ9c3RhdGljIGNhY2hpZnlNZXRhZGF0YSh2KXtsZXQgYjtyZXR1cm4oKT0+Ynx8KGI9digpKX1zdGF0aWMgdmFsaWRhdGVRdWVyeU91dHB1dCh2LGIpe2lmKHYudHlwZSE9PWIpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHF1ZXJ5IG91dHB1dCB0eXBlOiBFeHBlY3RlZCAnJHtifScgYnV0IGdvdCAnJHt2LnR5cGV9J2ApfXN0YXRpYyBnZXRCYXNlRXhwcmVzc2lvbkNvbnRleHQodil7Y29uc3QgYj12LmdldChvLktleXNJbml0UXVlcnkucXVlcnlUaW1lc3RhbXApLF89di5nZXQoby5LZXlzSW5pdFF1ZXJ5LmJhc2VJUkkpLE89di5nZXQoby5LZXlzSW5pdFF1ZXJ5LmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGUpfHx7fTtpZih2LmhhcyhvLktleXNJbml0UXVlcnkuZXh0ZW5zaW9uRnVuY3Rpb25DcmVhdG9yKSYmdi5oYXMoby5LZXlzSW5pdFF1ZXJ5LmV4dGVuc2lvbkZ1bmN0aW9ucykpdGhyb3cgbmV3IEVycm9yKCJJbGxlZ2FsIHNpbXVsdGFuZW91cyB1c2FnZSBvZiBleHRlbnNpb25GdW5jdGlvbkNyZWF0b3IgYW5kIGV4dGVuc2lvbkZ1bmN0aW9ucyBpbiBjb250ZXh0Iik7bGV0IFQ9di5nZXQoby5LZXlzSW5pdFF1ZXJ5LmV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcik7Y29uc3Qgaj12LmdldChvLktleXNJbml0UXVlcnkuZXh0ZW5zaW9uRnVuY3Rpb25zKTtyZXR1cm4gaiYmKFQ9Tj0+altOLnZhbHVlXSkse25vdzpiLGJhc2VJUkk6XyxleHRlbnNpb25GdW5jdGlvbkNyZWF0b3I6VCxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOk99fXN0YXRpYyBnZXRFeHByZXNzaW9uQ29udGV4dCh2LGIpe3JldHVybnsuLi50aGlzLmdldEJhc2VFeHByZXNzaW9uQ29udGV4dCh2KSxibm9kZTpfPT5uZXcgaC5CbGFua05vZGVCaW5kaW5nc1Njb3BlZChffHxgQk5PREVfJHt1Kyt9YCl9fXN0YXRpYyBnZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KHYsYil7Y29uc3QgXz17Li4udGhpcy5nZXRCYXNlRXhwcmVzc2lvbkNvbnRleHQodiksYm5vZGU6Tz0+UHJvbWlzZS5yZXNvbHZlKG5ldyBoLkJsYW5rTm9kZUJpbmRpbmdzU2NvcGVkKE98fGBCTk9ERV8ke3UrK31gKSl9O3JldHVybiBiJiYoXy5leGlzdHM9cC5jcmVhdGVFeGlzdGVuY2VSZXNvbHZlcih2LGIpKSxffXN0YXRpYyBjcmVhdGVFeGlzdGVuY2VSZXNvbHZlcih2LGIpe3JldHVybiBhc3luYyhfLE8pPT57Y29uc3QgVD0oMCxsLm1hdGVyaWFsaXplT3BlcmF0aW9uKShfLmlucHV0LE8pLGo9YXdhaXQgYi5tZWRpYXRlKHtvcGVyYXRpb246VCxjb250ZXh0OnZ9KSxOPXAuZ2V0U2FmZUJpbmRpbmdzKGopO3JldHVybiBuZXcgUHJvbWlzZSgoQixDKT0+e04uYmluZGluZ3NTdHJlYW0ub24oImVuZCIsKCk9PntCKCExKX0pLE4uYmluZGluZ3NTdHJlYW0ub24oImVycm9yIixDKSxOLmJpbmRpbmdzU3RyZWFtLm9uKCJkYXRhIiwoKT0+e04uYmluZGluZ3NTdHJlYW0uY2xvc2UoKSxCKCEwKX0pfSkudGhlbihCPT5fLm5vdD8hQjpCKX19c3RhdGljIHRocm93T25SZWFkT25seSh2KXtpZih2LmdldChvLktleXNRdWVyeU9wZXJhdGlvbi5yZWFkT25seSkpdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgYSB3cml0ZSBvcGVyYXRpb24gaW4gcmVhZC1vbmx5IG1vZGUiKX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uPXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25UeXBlZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbi5qcyIpO2NsYXNzIGggZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb257Y29uc3RydWN0b3IodSxwKXtpZihzdXBlcih7Li4udSxvcGVyYXRpb25OYW1lOnB9KSwhdGhpcy5vcGVyYXRpb25OYW1lKXRocm93IG5ldyBFcnJvcignQSB2YWxpZCAib3BlcmF0aW9uTmFtZSIgYXJndW1lbnQgbXVzdCBiZSBwcm92aWRlZC4nKX1hc3luYyB0ZXN0KHUpe2lmKCF1Lm9wZXJhdGlvbil0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgZmllbGQgJ29wZXJhdGlvbicgaW4gYSBxdWVyeSBvcGVyYXRpb24gYWN0aW9uLiIpO2lmKHUub3BlcmF0aW9uLnR5cGUhPT10aGlzLm9wZXJhdGlvbk5hbWUpdGhyb3cgbmV3IEVycm9yKGBBY3RvciAke3RoaXMubmFtZX0gb25seSBzdXBwb3J0cyAke3RoaXMub3BlcmF0aW9uTmFtZX0gb3BlcmF0aW9ucywgYnV0IGdvdCAke3Uub3BlcmF0aW9uLnR5cGV9YCk7Y29uc3QgcD11Lm9wZXJhdGlvbjtyZXR1cm4gdGhpcy50ZXN0T3BlcmF0aW9uKHAsdS5jb250ZXh0KX1hc3luYyBydW4odSl7Y29uc3QgcD11LmNvbnRleHQuZ2V0KG8uS2V5c0luaXRRdWVyeS5waHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlcik7cCYmKHAubG9nT3BlcmF0aW9uKHUub3BlcmF0aW9uLnR5cGUsdm9pZCAwLHUub3BlcmF0aW9uLHUuY29udGV4dC5nZXQoby5LZXlzSW5pdFF1ZXJ5LnBoeXNpY2FsUXVlcnlQbGFuTm9kZSksdGhpcy5uYW1lLHt9KSx1LmNvbnRleHQ9dS5jb250ZXh0LnNldChvLktleXNJbml0UXVlcnkucGh5c2ljYWxRdWVyeVBsYW5Ob2RlLHUub3BlcmF0aW9uKSk7Y29uc3QgZz11Lm9wZXJhdGlvbix2PXUuY29udGV4dC5zZXQoby5LZXlzUXVlcnlPcGVyYXRpb24ub3BlcmF0aW9uLGcpLGI9YXdhaXQgdGhpcy5ydW5PcGVyYXRpb24oZyx2KTtyZXR1cm4ibWV0YWRhdGEiaW4gYiYmKGIubWV0YWRhdGE9ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmNhY2hpZnlNZXRhZGF0YShiLm1ldGFkYXRhKSksYn19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWQ9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25UeXBlZC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZHtjb25zdHJ1Y3RvcihsLHUpe3N1cGVyKGwsdSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWQ9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQmluZGluZ3MuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tYXRlcmlhbGl6ZU9wZXJhdGlvbj1lLm1hdGVyaWFsaXplVGVybT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLGg9bigic3BhcnFsYWxnZWJyYWpzIiksbD1uZXcgby5CaW5kaW5nc0ZhY3Rvcnk7ZnVuY3Rpb24gdShnLHYpe2lmKGcudGVybVR5cGU9PT0iVmFyaWFibGUiKXtjb25zdCBiPXYuZ2V0KGcpO2lmKGIpcmV0dXJuIGJ9cmV0dXJuIGd9ZS5tYXRlcmlhbGl6ZVRlcm09dTtmdW5jdGlvbiBwKGcsdixiPXt9KXtyZXR1cm4gYj17c3RyaWN0VGFyZ2V0VmFyaWFibGVzOiJzdHJpY3RUYXJnZXRWYXJpYWJsZXMiaW4gYj9iLnN0cmljdFRhcmdldFZhcmlhYmxlczohMSxiaW5kRmlsdGVyOiJiaW5kRmlsdGVyImluIGI/Yi5iaW5kRmlsdGVyOiEwfSxoLlV0aWwubWFwT3BlcmF0aW9uKGcse3BhdGgoXyxPKXtyZXR1cm57cmVjdXJzZTohMSxyZXN1bHQ6Ty5jcmVhdGVQYXRoKHUoXy5zdWJqZWN0LHYpLF8ucHJlZGljYXRlLHUoXy5vYmplY3QsdiksdShfLmdyYXBoLHYpKX19LHBhdHRlcm4oXyxPKXtyZXR1cm57cmVjdXJzZTohMSxyZXN1bHQ6Ty5jcmVhdGVQYXR0ZXJuKHUoXy5zdWJqZWN0LHYpLHUoXy5wcmVkaWNhdGUsdiksdShfLm9iamVjdCx2KSx1KF8uZ3JhcGgsdikpfX0sZXh0ZW5kKF8pe2lmKHYuaGFzKF8udmFyaWFibGUpKXtpZihiLnN0cmljdFRhcmdldFZhcmlhYmxlcyl0aHJvdyBuZXcgRXJyb3IoYFRyaWVkIHRvIGJpbmQgdmFyaWFibGUgJHsoMCxkLnRlcm1Ub1N0cmluZykoXy52YXJpYWJsZSl9IGluIGEgQklORCBvcGVyYXRvci5gKTtyZXR1cm57cmVjdXJzZTohMCxyZXN1bHQ6cChfLmlucHV0LHYsYil9fXJldHVybntyZWN1cnNlOiEwLHJlc3VsdDpffX0sZ3JvdXAoXyxPKXtpZihiLnN0cmljdFRhcmdldFZhcmlhYmxlcyl7Zm9yKGNvbnN0IGogb2YgXy52YXJpYWJsZXMpaWYodi5oYXMoaikpdGhyb3cgbmV3IEVycm9yKGBUcmllZCB0byBiaW5kIHZhcmlhYmxlICR7KDAsZC50ZXJtVG9TdHJpbmcpKGopfSBpbiBhIEdST1VQIEJZIG9wZXJhdG9yLmApO3JldHVybntyZWN1cnNlOiEwLHJlc3VsdDpffX1jb25zdCBUPV8udmFyaWFibGVzLmZpbHRlcihqPT4hdi5oYXMoaikpO3JldHVybntyZWN1cnNlOiEwLHJlc3VsdDpPLmNyZWF0ZUdyb3VwKF8uaW5wdXQsVCxfLmFnZ3JlZ2F0ZXMpfX0scHJvamVjdChfLE8pe2lmKGIuc3RyaWN0VGFyZ2V0VmFyaWFibGVzKXtmb3IoY29uc3QgTiBvZiBfLnZhcmlhYmxlcylpZih2LmhhcyhOKSl0aHJvdyBuZXcgRXJyb3IoYFRyaWVkIHRvIGJpbmQgdmFyaWFibGUgJHsoMCxkLnRlcm1Ub1N0cmluZykoTil9IGluIGEgU0VMRUNUIG9wZXJhdG9yLmApO3JldHVybntyZWN1cnNlOiEwLHJlc3VsdDpffX1jb25zdCBUPV8udmFyaWFibGVzLmZpbHRlcihOPT4hdi5oYXMoTikpLGo9bC5iaW5kaW5ncyhfLnZhcmlhYmxlcy5tYXAoTj0+e2NvbnN0IEI9di5nZXQoTik7aWYoQilyZXR1cm5bTixCXX0pLmZpbHRlcihOPT4hIU4pKTtyZXR1cm57cmVjdXJzZTohMSxyZXN1bHQ6Ty5jcmVhdGVQcm9qZWN0KHAoXy5pbnB1dCxqLGIpLFQpfX0sdmFsdWVzKF8sTyl7aWYoYi5zdHJpY3RUYXJnZXRWYXJpYWJsZXMpe2Zvcihjb25zdCBUIG9mIF8udmFyaWFibGVzKWlmKHYuaGFzKFQpKXRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gYmluZCB2YXJpYWJsZSAkeygwLGQudGVybVRvU3RyaW5nKShUKX0gaW4gYSBWQUxVRVMgb3BlcmF0b3IuYCl9ZWxzZXtjb25zdCBUPV8udmFyaWFibGVzLmZpbHRlcihOPT4hdi5oYXMoTikpLGo9Xy5iaW5kaW5ncy5tYXAoTj0+e2NvbnN0IEI9ey4uLk59O2xldCBDPSEwO3JldHVybiB2LmZvckVhY2goKEwsUyk9Pntjb25zdCBQPSgwLGQudGVybVRvU3RyaW5nKShTKTtQIGluIEImJihMLmVxdWFscyhCW1BdKXx8KEM9ITEpLGRlbGV0ZSBCW1BdKX0pLEM/Qjp2b2lkIDB9KS5maWx0ZXIoQm9vbGVhbik7cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ok8uY3JlYXRlVmFsdWVzKFQsail9fXJldHVybntyZWN1cnNlOiExLHJlc3VsdDpffX0sZXhwcmVzc2lvbihfLE8pe2lmKCFiLmJpbmRGaWx0ZXIpcmV0dXJue3JlY3Vyc2U6ITEscmVzdWx0Ol99O2lmKF8uZXhwcmVzc2lvblR5cGU9PT0idGVybSIpcmV0dXJue3JlY3Vyc2U6ITEscmVzdWx0Ok8uY3JlYXRlVGVybUV4cHJlc3Npb24odShfLnRlcm0sdikpfTtpZihfLmV4cHJlc3Npb25UeXBlPT09ImFnZ3JlZ2F0ZSImJiJ2YXJpYWJsZSJpbiBfJiZ2LmhhcyhfLnZhcmlhYmxlKSl7aWYoYi5zdHJpY3RUYXJnZXRWYXJpYWJsZXMpdGhyb3cgbmV3IEVycm9yKGBUcmllZCB0byBiaW5kICR7KDAsZC50ZXJtVG9TdHJpbmcpKF8udmFyaWFibGUpfSBpbiBhICR7Xy5hZ2dyZWdhdG9yfSBhZ2dyZWdhdGUuYCk7cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ol99fXJldHVybntyZWN1cnNlOiEwLHJlc3VsdDpffX19KX1lLm1hdGVyaWFsaXplT3BlcmF0aW9uPXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0J1c1F1ZXJ5T3BlcmF0aW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQnVzUXVlcnlPcGVyYXRpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkJ1c0luZGV4ZWR7Y29uc3RydWN0b3IobCl7c3VwZXIoey4uLmwsYWN0b3JJZGVudGlmaWVyRmllbGRzOlsib3BlcmF0aW9uTmFtZSJdLGFjdGlvbklkZW50aWZpZXJGaWVsZHM6WyJvcGVyYXRpb24iLCJ0eXBlIl19KX19ZS5CdXNRdWVyeU9wZXJhdGlvbj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9DbG9zYWJsZVRyYW5zZm9ybUl0ZXJhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQ2xvc2FibGVUcmFuc2Zvcm1JdGVyYXRvcj12b2lkIDA7Y29uc3Qgbz1uKCJhc3luY2l0ZXJhdG9yIik7Y2xhc3MgZCBleHRlbmRzIG8uVHJhbnNmb3JtSXRlcmF0b3J7Y29uc3RydWN0b3IobCx1KXtzdXBlcihsLHUpLHRoaXMub25DbG9zZT11Lm9uQ2xvc2V9X2VuZChsKXt0aGlzLm9uQ2xvc2UoKSxzdXBlci5fZW5kKGwpfX1lLkNsb3NhYmxlVHJhbnNmb3JtSXRlcmF0b3I9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25UeXBlZC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9CaW5kaW5ncy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9CdXNRdWVyeU9wZXJhdGlvbi5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9DbG9zYWJsZVRyYW5zZm9ybUl0ZXJhdG9yLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1wYXJzZS9saWIvQWN0b3JRdWVyeVBhcnNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeVBhcnNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3Rvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX19ZS5BY3RvclF1ZXJ5UGFyc2U9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LXBhcnNlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1wYXJzZS9saWIvQWN0b3JRdWVyeVBhcnNlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi1lbnRyaWVzLXNvcnQvbGliL0FjdG9yUmRmSm9pbkVudHJpZXNTb3J0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luRW50cmllc1NvcnQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9yUmRmSm9pbkVudHJpZXNTb3J0PWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi1lbnRyaWVzLXNvcnQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLWVudHJpZXMtc29ydC9saWIvQWN0b3JSZGZKb2luRW50cmllc1NvcnQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLXNlbGVjdGl2aXR5L2xpYi9BY3RvclJkZkpvaW5TZWxlY3Rpdml0eS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pblNlbGVjdGl2aXR5PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3Rvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX19ZS5BY3RvclJkZkpvaW5TZWxlY3Rpdml0eT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4tc2VsZWN0aXZpdHkvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLXNlbGVjdGl2aXR5L2xpYi9BY3RvclJkZkpvaW5TZWxlY3Rpdml0eS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL0FjdG9yUmRmSm9pbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLHA9bmV3IGwuRGF0YUZhY3Rvcnk7Y2xhc3MgZyBleHRlbmRzIGguQWN0b3J7Y29uc3RydWN0b3IoYixfKXtzdXBlcihiKSx0aGlzLmluY2x1ZGVJbkxvZ3M9ITAsdGhpcy5sb2dpY2FsVHlwZT1fLmxvZ2ljYWxUeXBlLHRoaXMucGh5c2ljYWxOYW1lPV8ucGh5c2ljYWxOYW1lLHRoaXMubGltaXRFbnRyaWVzPV8ubGltaXRFbnRyaWVzPz9OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksdGhpcy5saW1pdEVudHJpZXNNaW49Xy5saW1pdEVudHJpZXNNaW4/PyExLHRoaXMuY2FuSGFuZGxlVW5kZWZzPV8uY2FuSGFuZGxlVW5kZWZzPz8hMX1zdGF0aWMgaGFzaChiLF8pe3JldHVybiBfLmZpbHRlcihPPT5iLmhhcyhPKSkubWFwKE89PigwLHUudGVybVRvU3RyaW5nKShiLmdldChPKSkpLmpvaW4oIiIpfXN0YXRpYyBvdmVybGFwcGluZ1ZhcmlhYmxlcyhiKXtjb25zdCBfPWIubWFwKFQ9PlQudmFyaWFibGVzKTtsZXQgTz1fWzBdO2Zvcihjb25zdCBUIG9mIF8uc2xpY2UoMSkpTz1PLmZpbHRlcihqPT5ULnNvbWUoTj0+Ti52YWx1ZT09PWoudmFsdWUpKTtyZXR1cm4gT31zdGF0aWMgam9pblZhcmlhYmxlcyhiKXtyZXR1cm5bLi4ubmV3IFNldChiLmZsYXRNYXAoXz0+Xy52YXJpYWJsZXMubWFwKE89Pk8udmFsdWUpKSldLm1hcChfPT5wLnZhcmlhYmxlKF8pKX1zdGF0aWMgam9pbkJpbmRpbmdzKC4uLmIpe2lmKGIubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtpZihiLmxlbmd0aD09PTEpcmV0dXJuIGJbMF07bGV0IF89YlswXTtmb3IoY29uc3QgTyBvZiBiLnNsaWNlKDEpKXtjb25zdCBUPV8ubWVyZ2UoTyk7aWYoIVQpcmV0dXJuIG51bGw7Xz1UfXJldHVybiBffXN0YXRpYyBnZXRDYXJkaW5hbGl0eShiKXtyZXR1cm4gYi5jYXJkaW5hbGl0eX1zdGF0aWMgYXN5bmMgZ2V0TWV0YWRhdGFzKGIpe3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChiLm1hcChfPT5fLm91dHB1dC5tZXRhZGF0YSgpKSl9c3RhdGljIGFzeW5jIGdldEVudHJpZXNXaXRoTWV0YWRhdGFzKGIpe2NvbnN0IF89YXdhaXQgZy5nZXRNZXRhZGF0YXMoYik7cmV0dXJuIGIubWFwKChPLFQpPT4oey4uLk8sbWV0YWRhdGE6X1tUXX0pKX1zdGF0aWMgZ2V0UmVxdWVzdEluaXRpYWxUaW1lcyhiKXtyZXR1cm4gYi5tYXAoXz0+Xy5wYWdlU2l6ZT8wOl8ucmVxdWVzdFRpbWV8fDApfXN0YXRpYyBnZXRSZXF1ZXN0SXRlbVRpbWVzKGIpe3JldHVybiBiLm1hcChfPT5fLnBhZ2VTaXplPyhfLnJlcXVlc3RUaW1lfHwwKS9fLnBhZ2VTaXplOjApfWFzeW5jIGNvbnN0cnVjdFJlc3VsdE1ldGFkYXRhKGIsXyxPLFQ9e30pe2xldCBqO3JldHVybiBULmNhcmRpbmFsaXR5P2o9VC5jYXJkaW5hbGl0eTooaj1fLnJlZHVjZSgoTixCKT0+e2NvbnN0IEM9Zy5nZXRDYXJkaW5hbGl0eShCKTtyZXR1cm57dHlwZTpDLnR5cGU9PT0iZXN0aW1hdGUiPyJlc3RpbWF0ZSI6Ti50eXBlLHZhbHVlOk4udmFsdWUqQy52YWx1ZX19LHt0eXBlOiJleGFjdCIsdmFsdWU6MX0pLGoudmFsdWUqPShhd2FpdCB0aGlzLm1lZGlhdG9ySm9pblNlbGVjdGl2aXR5Lm1lZGlhdGUoe2VudHJpZXM6Yixjb250ZXh0Ok99KSkuc2VsZWN0aXZpdHkpLHsuLi5ULGNhcmRpbmFsaXR5Ont0eXBlOmoudHlwZSx2YWx1ZTpqLnZhbHVlfSxjYW5Db250YWluVW5kZWZzOlQuY2FuQ29udGFpblVuZGVmcz8/Xy5zb21lKE49Pk4uY2FuQ29udGFpblVuZGVmcyksdmFyaWFibGVzOmcuam9pblZhcmlhYmxlcyhfKX19YXN5bmMgdGVzdChiKXtpZihiLnR5cGUhPT10aGlzLmxvZ2ljYWxUeXBlKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IGNhbiBvbmx5IGhhbmRsZSBsb2dpY2FsIGpvaW5zIG9mIHR5cGUgJyR7dGhpcy5sb2dpY2FsVHlwZX0nLCB3aGlsZSAnJHtiLnR5cGV9JyB3YXMgZ2l2ZW4uYCk7aWYoYi5lbnRyaWVzLmxlbmd0aDw9MSl0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSByZXF1aXJlcyBhdCBsZWFzdCB0d28gam9pbiBlbnRyaWVzLmApO2lmKHRoaXMubGltaXRFbnRyaWVzTWluP2IuZW50cmllcy5sZW5ndGg8dGhpcy5saW1pdEVudHJpZXM6Yi5lbnRyaWVzLmxlbmd0aD50aGlzLmxpbWl0RW50cmllcyl0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSByZXF1aXJlcyAke3RoaXMubGltaXRFbnRyaWVzfSBqb2luIGVudHJpZXMgYXQgJHt0aGlzLmxpbWl0RW50cmllc01pbj8ibGVhc3QiOiJtb3N0In0uIFRoZSBpbnB1dCBjb250YWluZWQgJHtiLmVudHJpZXMubGVuZ3RofS5gKTtmb3IoY29uc3QgTyBvZiBiLmVudHJpZXMpaWYoTy5vdXRwdXQudHlwZSE9PSJiaW5kaW5ncyIpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgb2YgYSBqb2luIGVudHJ5OiBFeHBlY3RlZCAnYmluZGluZ3MnIGJ1dCBnb3QgJyR7Ty5vdXRwdXQudHlwZX0nYCk7Y29uc3QgXz1hd2FpdCBnLmdldE1ldGFkYXRhcyhiLmVudHJpZXMpO2lmKCF0aGlzLmNhbkhhbmRsZVVuZGVmcyl7Zm9yKGNvbnN0IE8gb2YgXylpZihPLmNhbkNvbnRhaW5VbmRlZnMpdGhyb3cgbmV3IEVycm9yKGBBY3RvciAke3RoaXMubmFtZX0gY2FuIG5vdCBqb2luIHN0cmVhbXMgY29udGFpbmluZyB1bmRlZnNgKX1yZXR1cm4gYXdhaXQgdGhpcy5nZXRKb2luQ29lZmZpY2llbnRzKGIsXyl9YXN5bmMgcnVuKGIpe2xldCBfO2IuY29udGV4dC5oYXMoZC5LZXlzSW5pdFF1ZXJ5LnBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyKSYmKF89Yi5jb250ZXh0LmdldChkLktleXNJbml0UXVlcnkucGh5c2ljYWxRdWVyeVBsYW5Ob2RlKSxiLmNvbnRleHQ9Yi5jb250ZXh0LnNldChkLktleXNJbml0UXVlcnkucGh5c2ljYWxRdWVyeVBsYW5Ob2RlLGIpKTtjb25zdCBPPWIuY29udGV4dC5nZXQoZC5LZXlzSW5pdFF1ZXJ5LnBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyKTtsZXQgVDt0aGlzLmluY2x1ZGVJbkxvZ3MmJk8mJihUPXt9LE8ubG9nT3BlcmF0aW9uKGBqb2luLSR7dGhpcy5sb2dpY2FsVHlwZX1gLHRoaXMucGh5c2ljYWxOYW1lLGIsXyx0aGlzLm5hbWUsVCkpO2NvbnN0e3Jlc3VsdDpqLHBoeXNpY2FsUGxhbk1ldGFkYXRhOk59PWF3YWl0IHRoaXMuZ2V0T3V0cHV0KGIpLEI9YXdhaXQgZy5nZXRNZXRhZGF0YXMoYi5lbnRyaWVzKTtyZXR1cm4gVCYmKE9iamVjdC5hc3NpZ24oVCxOKSxULmNhcmRpbmFsaXRpZXM9Qi5tYXAoZy5nZXRDYXJkaW5hbGl0eSksVC5qb2luQ29lZmZpY2llbnRzPWF3YWl0IHRoaXMuZ2V0Sm9pbkNvZWZmaWNpZW50cyhiLEIpKSxqLm1ldGFkYXRhPW8uQWN0b3JRdWVyeU9wZXJhdGlvbi5jYWNoaWZ5TWV0YWRhdGEoai5tZXRhZGF0YSksan19ZS5BY3RvclJkZkpvaW49Z30sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvQWN0b3JSZGZKb2luLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm49dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuU291cmNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5Tb3VyY2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL2xpYi9BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVybi5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJue2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfWFzeW5jIHRlc3QobCl7cmV0dXJuITB9YXN5bmMgcnVuKGwpe2NvbnN0IHU9YXdhaXQgdGhpcy5nZXRTb3VyY2UobC5jb250ZXh0LGwucGF0dGVybik7cmV0dXJuIGF3YWl0IHRoaXMuZ2V0T3V0cHV0KHUsbC5wYXR0ZXJuLGwuY29udGV4dCl9YXN5bmMgZ2V0T3V0cHV0KGwsdSxwKXtyZXR1cm57ZGF0YTpsLm1hdGNoKHUuc3ViamVjdCx1LnByZWRpY2F0ZSx1Lm9iamVjdCx1LmdyYXBoLHApfX19ZS5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVyblNvdXJjZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuU291cmNlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL3V0aWxzLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL3V0aWxzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaGFzQ29udGV4dFNpbmdsZVNvdXJjZU9mVHlwZT1lLmhhc0NvbnRleHRTaW5nbGVTb3VyY2U9ZS5nZXRDb250ZXh0U291cmNlVXJsPWUuZ2V0Q29udGV4dFNvdXJjZUZpcnN0PWUuZ2V0Q29udGV4dFNvdXJjZT1lLmdldENvbnRleHRTb3VyY2VzPWUuZ2V0RGF0YVNvdXJjZUNvbnRleHQ9ZS5nZXREYXRhU291cmNlVmFsdWU9ZS5nZXREYXRhU291cmNlVHlwZT1lLmlzRGF0YVNvdXJjZVJhd1R5cGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIik7ZnVuY3Rpb24gZChUKXtyZXR1cm4gdHlwZW9mIFQ9PSJzdHJpbmcifHwibWF0Y2giaW4gVH1lLmlzRGF0YVNvdXJjZVJhd1R5cGU9ZDtmdW5jdGlvbiBoKFQpe3JldHVybiB0eXBlb2YgVD09InN0cmluZyI/IiI6Im1hdGNoImluIFQ/InJkZmpzU291cmNlIjpULnR5cGV9ZS5nZXREYXRhU291cmNlVHlwZT1oO2Z1bmN0aW9uIGwoVCl7cmV0dXJuIGQoVCk/VDpULnZhbHVlfWUuZ2V0RGF0YVNvdXJjZVZhbHVlPWw7ZnVuY3Rpb24gdShULGope3JldHVybiB0eXBlb2YgVD09InN0cmluZyJ8fCJtYXRjaCJpbiBUfHwhVC5jb250ZXh0P2o6ai5tZXJnZShULmNvbnRleHQpfWUuZ2V0RGF0YVNvdXJjZUNvbnRleHQ9dTtmdW5jdGlvbiBwKFQpe3JldHVybiBULmdldChvLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcyl9ZS5nZXRDb250ZXh0U291cmNlcz1wO2Z1bmN0aW9uIGcoVCl7cmV0dXJuIFQuZ2V0KG8uS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2UpfWUuZ2V0Q29udGV4dFNvdXJjZT1nO2Z1bmN0aW9uIHYoVCl7aWYoVC5oYXMoby5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZSkpcmV0dXJuIFQuZ2V0KG8uS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2UpO2NvbnN0IGo9VC5nZXQoby5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZXMpO2lmKGo/Lmxlbmd0aD09PTEpcmV0dXJuIGpbMF19ZS5nZXRDb250ZXh0U291cmNlRmlyc3Q9djtmdW5jdGlvbiBiKFQpe2lmKFQpe2xldCBqPWwoVCk7aWYodHlwZW9mIGo9PSJzdHJpbmciKXtjb25zdCBOPWouaW5kZXhPZigiIyIpO3JldHVybiBOPj0wJiYoaj1qLnNsaWNlKDAsTikpLGp9fX1lLmdldENvbnRleHRTb3VyY2VVcmw9YjtmdW5jdGlvbiBfKFQpe2NvbnN0IGo9ZyhUKTtyZXR1cm4hIShqJiYoZChqKXx8ai52YWx1ZSkpfWUuaGFzQ29udGV4dFNpbmdsZVNvdXJjZT1fO2Z1bmN0aW9uIE8oVCxqKXtjb25zdCBOPWcoaik7cmV0dXJuISEoTiYmaChOKT09PVQmJmwoTikpfWUuaGFzQ29udGV4dFNpbmdsZVNvdXJjZU9mVHlwZT1PfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkcy9saWIvQWN0b3JSZGZVcGRhdGVRdWFkcy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmVXBkYXRlUXVhZHM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9yUmRmVXBkYXRlUXVhZHM9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL0FjdG9yUmRmVXBkYXRlUXVhZHNEZXN0aW5hdGlvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmVXBkYXRlUXVhZHNEZXN0aW5hdGlvbj1lLmRlc2tvbGVtaXplPWUuZGVza29sZW1pemVTdHJlYW09dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tZmVkZXJhdGVkL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi9BY3RvclJkZlVwZGF0ZVF1YWRzLmpzIik7ZnVuY3Rpb24gbChnLHYpe3JldHVybiBnPy5tYXAoYj0+by5GZWRlcmF0ZWRRdWFkU291cmNlLmRlc2tvbGVtaXplUXVhZChiLHYpKX1lLmRlc2tvbGVtaXplU3RyZWFtPWw7ZnVuY3Rpb24gdShnKXtjb25zdCB2PWcuY29udGV4dC5nZXQoZC5LZXlzUmRmVXBkYXRlUXVhZHMuZGVzdGluYXRpb24pLGI9Zy5jb250ZXh0LmdldChkLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlSWRzKT8uZ2V0KHYpO3JldHVybiBiP3suLi5nLHF1YWRTdHJlYW1JbnNlcnQ6bChnLnF1YWRTdHJlYW1JbnNlcnQsYikscXVhZFN0cmVhbURlbGV0ZTpsKGcucXVhZFN0cmVhbURlbGV0ZSxiKX06Z31lLmRlc2tvbGVtaXplPXU7Y2xhc3MgcCBleHRlbmRzIGguQWN0b3JSZGZVcGRhdGVRdWFkc3thc3luYyB0ZXN0KHYpe3JldHVybiEwfWFzeW5jIHJ1bih2KXtjb25zdCBiPWF3YWl0IHRoaXMuZ2V0RGVzdGluYXRpb24odi5jb250ZXh0KTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRPdXRwdXQoYix1KHYpLHYuY29udGV4dCl9YXN5bmMgZ2V0T3V0cHV0KHYsYixfKXtyZXR1cm57ZXhlY3V0ZTooKT0+UHJvbWlzZS5hbGwoW2IucXVhZFN0cmVhbUluc2VydD92Lmluc2VydChiLnF1YWRTdHJlYW1JbnNlcnQpOlByb21pc2UucmVzb2x2ZSgpLGIucXVhZFN0cmVhbURlbGV0ZT92LmRlbGV0ZShiLnF1YWRTdHJlYW1EZWxldGUpOlByb21pc2UucmVzb2x2ZSgpLGIuZGVsZXRlR3JhcGhzP3YuZGVsZXRlR3JhcGhzKGIuZGVsZXRlR3JhcGhzLmdyYXBocyxiLmRlbGV0ZUdyYXBocy5yZXF1aXJlRXhpc3RlbmNlLGIuZGVsZXRlR3JhcGhzLmRyb3BHcmFwaHMpOlByb21pc2UucmVzb2x2ZSgpLGIuY3JlYXRlR3JhcGhzP3YuY3JlYXRlR3JhcGhzKGIuY3JlYXRlR3JhcGhzLmdyYXBocyxiLmNyZWF0ZUdyYXBocy5yZXF1aXJlTm9uRXhpc3RlbmNlKTpQcm9taXNlLnJlc29sdmUoKV0pLnRoZW4oKCk9Pnt9KX19fWUuQWN0b3JSZGZVcGRhdGVRdWFkc0Rlc3RpbmF0aW9uPXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi9JUXVhZERlc3RpbmF0aW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUudmFsaWRhdGVIdHRwUmVzcG9uc2U9dm9pZCAwO2NvbnN0IG89bigiLi9yZXF1aXJlLWVtcHR5LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3RyZWFtLXRvLXN0cmluZy9pbmRleC5qcyIpO2FzeW5jIGZ1bmN0aW9uIGgobCx1KXtpZih1LnN0YXR1cz49NDAwKXtsZXQgcD0iZW1wdHkgcmVzcG9uc2UiO2lmKHUuYm9keSl7Y29uc3QgZz1vLkFjdG9ySHR0cC50b05vZGVSZWFkYWJsZSh1LmJvZHkpO3A9YXdhaXQgZChnKX10aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCB1cGRhdGUgJHtsfSAoSFRUUCBzdGF0dXMgJHt1LnN0YXR1c30pOgoke3B9YCl9YXdhaXQgdS5ib2R5Py5jYW5jZWwoKX1lLnZhbGlkYXRlSHR0cFJlc3BvbnNlPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi9BY3RvclJkZlVwZGF0ZVF1YWRzLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi9BY3RvclJkZlVwZGF0ZVF1YWRzRGVzdGluYXRpb24uanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL0lRdWFkRGVzdGluYXRpb24uanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL3V0aWxzLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi91dGlscy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmdldENvbnRleHREZXN0aW5hdGlvblVybD1lLmdldENvbnRleHREZXN0aW5hdGlvbkZpcnN0PWUuZ2V0Q29udGV4dERlc3RpbmF0aW9uPWUuZ2V0RGF0YURlc3RpbmF0aW9uQ29udGV4dD1lLmdldERhdGFEZXN0aW5hdGlvblZhbHVlPWUuZ2V0RGF0YURlc3RpbmF0aW9uVHlwZT1lLmlzRGF0YURlc3RpbmF0aW9uUmF3VHlwZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKTtmdW5jdGlvbiBkKGIpe3JldHVybiB0eXBlb2YgYj09InN0cmluZyJ8fCJyZW1vdmUiaW4gYn1lLmlzRGF0YURlc3RpbmF0aW9uUmF3VHlwZT1kO2Z1bmN0aW9uIGgoYil7cmV0dXJuIHR5cGVvZiBiPT0ic3RyaW5nIj8iIjoicmVtb3ZlImluIGI/InJkZmpzU3RvcmUiOmIudHlwZX1lLmdldERhdGFEZXN0aW5hdGlvblR5cGU9aDtmdW5jdGlvbiBsKGIpe3JldHVybiBkKGIpP2I6Yi52YWx1ZX1lLmdldERhdGFEZXN0aW5hdGlvblZhbHVlPWw7ZnVuY3Rpb24gdShiLF8pe3JldHVybiB0eXBlb2YgYj09InN0cmluZyJ8fCJyZW1vdmUiaW4gYnx8IWIuY29udGV4dD9fOl8ubWVyZ2UoYi5jb250ZXh0KX1lLmdldERhdGFEZXN0aW5hdGlvbkNvbnRleHQ9dTtmdW5jdGlvbiBwKGIpe3JldHVybiBiLmdldChvLktleXNSZGZVcGRhdGVRdWFkcy5kZXN0aW5hdGlvbil9ZS5nZXRDb250ZXh0RGVzdGluYXRpb249cDtmdW5jdGlvbiBnKGIpe2lmKGIuaGFzKG8uS2V5c1JkZlVwZGF0ZVF1YWRzLmRlc3RpbmF0aW9uKSlyZXR1cm4gYi5nZXQoby5LZXlzUmRmVXBkYXRlUXVhZHMuZGVzdGluYXRpb24pfWUuZ2V0Q29udGV4dERlc3RpbmF0aW9uRmlyc3Q9ZztmdW5jdGlvbiB2KGIpe2lmKGIpe2xldCBfPWwoYik7aWYodHlwZW9mIF89PSJzdHJpbmciKXtjb25zdCBPPV8uaW5kZXhPZigiIyIpO3JldHVybiBPPj0wJiYoXz1fLnNsaWNlKDAsTykpLF99fX1lLmdldENvbnRleHREZXN0aW5hdGlvblVybD12fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL0tleXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5LZXlzUmRmVXBkYXRlUXVhZHM9ZS5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuPWUuS2V5c1JkZlBhcnNlSHRtbFNjcmlwdD1lLktleXNSZGZQYXJzZUpzb25MZD1lLktleXNRdWVyeU9wZXJhdGlvbj1lLktleXNJbml0UXVlcnk9ZS5LZXlzSHR0cFByb3h5PWUuS2V5c0h0dHBNZW1lbnRvPWUuS2V5c0h0dHBXYXliYWNrPWUuS2V5c0h0dHA9ZS5LZXlzQ29yZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7ZS5LZXlzQ29yZT17bG9nOm8uQ09OVEVYVF9LRVlfTE9HR0VSfSxlLktleXNIdHRwPXtpbmNsdWRlQ3JlZGVudGlhbHM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1odHRwOmluY2x1ZGUtY3JlZGVudGlhbHMiKSxhdXRoOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtaHR0cDphdXRoIiksZmV0Y2g6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1odHRwOmZldGNoIiksaHR0cFRpbWVvdXQ6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtdGltZW91dCIpLGh0dHBCb2R5VGltZW91dDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6aHR0cC1ib2R5LXRpbWVvdXQiKSxodHRwUmV0cnlDb3VudDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6aHR0cC1yZXRyeS1jb3VudCIpLGh0dHBSZXRyeURlbGF5Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtaHR0cDpodHRwLXJldHJ5LWRlbGF5IiksaHR0cFJldHJ5T25TZXJ2ZXJFcnJvcjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6aHR0cC1yZXRyeS1vbi1zZXJ2ZXItZXJyb3IiKX0sZS5LZXlzSHR0cFdheWJhY2s9e3JlY292ZXJCcm9rZW5MaW5rczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6cmVjb3Zlci1icm9rZW4tbGlua3MiKX0sZS5LZXlzSHR0cE1lbWVudG89e2RhdGV0aW1lOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1odHRwLW1lbWVudG86ZGF0ZXRpbWUiKX0sZS5LZXlzSHR0cFByb3h5PXtodHRwUHJveHlIYW5kbGVyOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1odHRwLXByb3h5Omh0dHBQcm94eUhhbmRsZXIiKX0sZS5LZXlzSW5pdFF1ZXJ5PXtpbml0aWFsQmluZGluZ3M6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6aW5pdGlhbEJpbmRpbmdzIikscXVlcnlGb3JtYXQ6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6cXVlcnlGb3JtYXQiKSxncmFwaHFsU2luZ3VsYXJpemVWYXJpYWJsZXM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6c2luZ3VsYXJpemVWYXJpYWJsZXMiKSxsZW5pZW50Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmxlbmllbnQiKSxxdWVyeVN0cmluZzpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpxdWVyeVN0cmluZyIpLHF1ZXJ5Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OnF1ZXJ5IiksYmFzZUlSSTpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpiYXNlSVJJIiksZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpmdW5jdGlvbkFyZ3VtZW50c0NhY2hlIikscXVlcnlUaW1lc3RhbXA6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6cXVlcnlUaW1lc3RhbXAiKSxleHRlbnNpb25GdW5jdGlvbkNyZWF0b3I6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6ZXh0ZW5zaW9uRnVuY3Rpb25DcmVhdG9yIiksZXh0ZW5zaW9uRnVuY3Rpb25zOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmV4dGVuc2lvbkZ1bmN0aW9ucyIpLGNsaUFyZ3NIYW5kbGVyczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpjbGlBcmdzSGFuZGxlcnMiKSxleHBsYWluOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmV4cGxhaW4iKSxwaHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlcjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpwaHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlciIpLHBoeXNpY2FsUXVlcnlQbGFuTm9kZTpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpwaHlzaWNhbFF1ZXJ5UGxhbk5vZGUiKSxqc29uTGRDb250ZXh0Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb250ZXh0Iil9LGUuS2V5c1F1ZXJ5T3BlcmF0aW9uPXtvcGVyYXRpb246bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb246b3BlcmF0aW9uIiksam9pbkxlZnRNZXRhZGF0YTpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjpqb2luTGVmdE1ldGFkYXRhIiksam9pblJpZ2h0TWV0YWRhdGFzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOmpvaW5SaWdodE1ldGFkYXRhcyIpLGpvaW5CaW5kaW5nczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjpqb2luQmluZGluZ3MiKSxyZWFkT25seTpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjpyZWFkT25seSIpLGlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0S2V5Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOmlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0IiksbGltaXRJbmRpY2F0b3I6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb246bGltaXRJbmRpY2F0b3IiKSx1bmlvbkRlZmF1bHRHcmFwaDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjp1bmlvbkRlZmF1bHRHcmFwaCIpLGxvY2FsaXplQmxhbmtOb2RlczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uOmxvY2FsaXplQmxhbmtOb2RlcyIpfSxlLktleXNSZGZQYXJzZUpzb25MZD17ZG9jdW1lbnRMb2FkZXI6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLXJkZi1wYXJzZS1qc29ubGQ6ZG9jdW1lbnRMb2FkZXIiKSxzdHJpY3RWYWx1ZXM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLXJkZi1wYXJzZS1qc29ubGQ6c3RyaWN0VmFsdWVzIikscGFyc2VyT3B0aW9uczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItcmRmLXBhcnNlLWpzb25sZDpwYXJzZXJPcHRpb25zIil9LGUuS2V5c1JkZlBhcnNlSHRtbFNjcmlwdD17cHJvY2Vzc2luZ0h0bWxTY3JpcHQ6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLXJkZi1wYXJzZS1odG1sLXNjcmlwdDpwcm9jZXNzaW5nSHRtbFNjcmlwdCIpLGV4dHJhY3RBbGxTY3JpcHRzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoImV4dHJhY3RBbGxTY3JpcHRzIil9LGUuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybj17c291cmNlczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybjpzb3VyY2VzIiksc291cmNlOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuOnNvdXJjZSIpLHNvdXJjZUlkczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybjpzb3VyY2VJZHMiKSxoeXBlcm1lZGlhU291cmNlc0FnZ3JlZ2F0ZWRTdG9yZXM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm46aHlwZXJtZWRpYVNvdXJjZXNBZ2dyZWdhdGVkU3RvcmVzIil9LGUuS2V5c1JkZlVwZGF0ZVF1YWRzPXtkZXN0aW5hdGlvbjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHM6ZGVzdGluYXRpb24iKX19LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL0tleXMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQWN0aW9uQ29udGV4dC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdGlvbkNvbnRleHRLZXk9ZS5BY3Rpb25Db250ZXh0PXZvaWQgMDtjb25zdCBvPW4oIi4uL3BhY2thZ2VzL2ltbXV0YWJsZS9kaXN0L2luZGV4LmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3Rvcih1PXt9KXt0aGlzLm1hcD0oMCxvLk1hcCkodSl9c2V0RGVmYXVsdCh1LHApe3JldHVybiB0aGlzLmhhcyh1KT90aGlzOnRoaXMuc2V0KHUscCl9c2V0KHUscCl7cmV0dXJuIHRoaXMuc2V0UmF3KHUubmFtZSxwKX1zZXRSYXcodSxwKXtyZXR1cm4gbmV3IGQodGhpcy5tYXAuc2V0KHUscCkpfWRlbGV0ZSh1KXtyZXR1cm4gbmV3IGQodGhpcy5tYXAuZGVsZXRlKHUubmFtZSkpfWdldCh1KXtyZXR1cm4gdGhpcy5nZXRSYXcodS5uYW1lKX1nZXRSYXcodSl7cmV0dXJuIHRoaXMubWFwLmdldCh1KX1nZXRTYWZlKHUpe2lmKCF0aGlzLmhhcyh1KSl0aHJvdyBuZXcgRXJyb3IoYENvbnRleHQgZW50cnkgJHt1Lm5hbWV9IGlzIHJlcXVpcmVkIGJ1dCBub3QgYXZhaWxhYmxlYCk7cmV0dXJuIHRoaXMuZ2V0KHUpfWhhcyh1KXtyZXR1cm4gdGhpcy5oYXNSYXcodS5uYW1lKX1oYXNSYXcodSl7cmV0dXJuIHRoaXMubWFwLmhhcyh1KX1tZXJnZSguLi51KXtsZXQgcD10aGlzO2Zvcihjb25zdCBnIG9mIHUpZm9yKGNvbnN0IHYgb2YgZy5rZXlzKCkpcD1wLnNldCh2LGcuZ2V0KHYpKTtyZXR1cm4gcH1rZXlzKCl7cmV0dXJuWy4uLnRoaXMubWFwLmtleXMoKV0ubWFwKHU9Pm5ldyBoKHUpKX10b0pTKCl7cmV0dXJuIHRoaXMubWFwLnRvSlMoKX10b1N0cmluZygpe3JldHVybmBBY3Rpb25Db250ZXh0KCR7SlNPTi5zdHJpbmdpZnkodGhpcy5tYXAudG9KUygpKX0pYH1bU3ltYm9sLmZvcigibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20iKV0oKXtyZXR1cm5gQWN0aW9uQ29udGV4dCgke0pTT04uc3RyaW5naWZ5KHRoaXMubWFwLnRvSlMoKSxudWxsLCIgICIpfSlgfXN0YXRpYyBlbnN1cmVBY3Rpb25Db250ZXh0KHUpe3JldHVybiB1IGluc3RhbmNlb2YgZD91Om5ldyBkKCgwLG8uTWFwKSh1fHx7fSkpfX1lLkFjdGlvbkNvbnRleHQ9ZDtjbGFzcyBoe2NvbnN0cnVjdG9yKHUpe3RoaXMubmFtZT11fX1lLkFjdGlvbkNvbnRleHRLZXk9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQWN0aW9uT2JzZXJ2ZXIuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0aW9uT2JzZXJ2ZXI9dm9pZCAwO2NsYXNzIG57Y29uc3RydWN0b3IoZCl7T2JqZWN0LmFzc2lnbih0aGlzLGQpfX1lLkFjdGlvbk9ic2VydmVyPW59LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL0FjdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3I9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9Db250ZXh0RW50cmllcy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCl7dGhpcy5iZWZvcmVBY3RvcnM9W10sT2JqZWN0LmFzc2lnbih0aGlzLGwpLHRoaXMuYnVzLnN1YnNjcmliZSh0aGlzKSx0aGlzLmJlZm9yZUFjdG9ycy5sZW5ndGg+MCYmdGhpcy5idXMuYWRkRGVwZW5kZW5jaWVzKHRoaXMsdGhpcy5iZWZvcmVBY3RvcnMpfXN0YXRpYyBnZXRDb250ZXh0TG9nZ2VyKGwpe3JldHVybiBsLmdldChvLkNPTlRFWFRfS0VZX0xPR0dFUil9cnVuT2JzZXJ2YWJsZShsKXtjb25zdCB1PXRoaXMucnVuKGwpO3JldHVybiB0aGlzLmJ1cy5vblJ1bih0aGlzLGwsdSksdX1hc3luYyBpbml0aWFsaXplKCl7cmV0dXJuITB9YXN5bmMgZGVpbml0aWFsaXplKCl7cmV0dXJuITB9Z2V0RGVmYXVsdExvZ0RhdGEobCx1KXtjb25zdCBwPXU/dSgpOnt9O3JldHVybiBwLmFjdG9yPXRoaXMubmFtZSxwfWxvZ1RyYWNlKGwsdSxwKXtjb25zdCBnPWQuZ2V0Q29udGV4dExvZ2dlcihsKTtnJiZnLnRyYWNlKHUsdGhpcy5nZXREZWZhdWx0TG9nRGF0YShsLHApKX1sb2dEZWJ1ZyhsLHUscCl7Y29uc3QgZz1kLmdldENvbnRleHRMb2dnZXIobCk7ZyYmZy5kZWJ1Zyh1LHRoaXMuZ2V0RGVmYXVsdExvZ0RhdGEobCxwKSl9bG9nSW5mbyhsLHUscCl7Y29uc3QgZz1kLmdldENvbnRleHRMb2dnZXIobCk7ZyYmZy5pbmZvKHUsdGhpcy5nZXREZWZhdWx0TG9nRGF0YShsLHApKX1sb2dXYXJuKGwsdSxwKXtjb25zdCBnPWQuZ2V0Q29udGV4dExvZ2dlcihsKTtnJiZnLndhcm4odSx0aGlzLmdldERlZmF1bHRMb2dEYXRhKGwscCkpfWxvZ0Vycm9yKGwsdSxwKXtjb25zdCBnPWQuZ2V0Q29udGV4dExvZ2dlcihsKTtnJiZnLmVycm9yKHUsdGhpcy5nZXREZWZhdWx0TG9nRGF0YShsLHApKX1sb2dGYXRhbChsLHUscCl7Y29uc3QgZz1kLmdldENvbnRleHRMb2dnZXIobCk7ZyYmZy5mYXRhbCh1LHRoaXMuZ2V0RGVmYXVsdExvZ0RhdGEobCxwKSl9fWUuQWN0b3I9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQnVzLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJ1cz12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkKXt0aGlzLmFjdG9ycz1bXSx0aGlzLm9ic2VydmVycz1bXSx0aGlzLmRlcGVuZGVuY3lMaW5rcz1uZXcgTWFwLE9iamVjdC5hc3NpZ24odGhpcyxkKX1zdWJzY3JpYmUoZCl7dGhpcy5hY3RvcnMucHVzaChkKSx0aGlzLnJlb3JkZXJGb3JEZXBlbmRlbmNpZXMoKX1zdWJzY3JpYmVPYnNlcnZlcihkKXt0aGlzLm9ic2VydmVycy5wdXNoKGQpfXVuc3Vic2NyaWJlKGQpe2NvbnN0IGg9dGhpcy5hY3RvcnMuaW5kZXhPZihkKTtyZXR1cm4gaD49MD8odGhpcy5hY3RvcnMuc3BsaWNlKGgsMSksITApOiExfXVuc3Vic2NyaWJlT2JzZXJ2ZXIoZCl7Y29uc3QgaD10aGlzLm9ic2VydmVycy5pbmRleE9mKGQpO3JldHVybiBoPj0wPyh0aGlzLm9ic2VydmVycy5zcGxpY2UoaCwxKSwhMCk6ITF9cHVibGlzaChkKXtyZXR1cm4gdGhpcy5hY3RvcnMubWFwKGg9Pih7YWN0b3I6aCxyZXBseTpoLnRlc3QoZCl9KSl9b25SdW4oZCxoLGwpe2Zvcihjb25zdCB1IG9mIHRoaXMub2JzZXJ2ZXJzKXUub25SdW4oZCxoLGwpfWFkZERlcGVuZGVuY2llcyhkLGgpe2Zvcihjb25zdCBsIG9mIGgpe2xldCB1PXRoaXMuZGVwZW5kZW5jeUxpbmtzLmdldChsKTt1fHwodT1bXSx0aGlzLmRlcGVuZGVuY3lMaW5rcy5zZXQobCx1KSksdS5wdXNoKGQpfXRoaXMucmVvcmRlckZvckRlcGVuZGVuY2llcygpfXJlb3JkZXJGb3JEZXBlbmRlbmNpZXMoKXtpZih0aGlzLmRlcGVuZGVuY3lMaW5rcy5zaXplPjApe2NvbnN0IGQ9W107Zm9yKGNvbnN0IGggb2YgdGhpcy5kZXBlbmRlbmN5TGlua3Mua2V5cygpKXtjb25zdCBsPXRoaXMuYWN0b3JzLmluZGV4T2YoaCk7bD49MCYmKHRoaXMuYWN0b3JzLnNwbGljZShsLDEpLGQucHVzaChoKSl9Zm9yKDtkLmxlbmd0aD4wOyl7bGV0IGg9LTE7Zm9yKGxldCB1PTA7dTxkLmxlbmd0aDt1Kyspe2xldCBwPSEwO2Zvcihjb25zdCBnIG9mIHRoaXMuZGVwZW5kZW5jeUxpbmtzLmdldChkW3VdKSlpZighdGhpcy5hY3RvcnMuaW5jbHVkZXMoZykmJmQuaW5jbHVkZXMoZykpe3A9ITE7YnJlYWt9aWYocCl7aD11O2JyZWFrfX1pZihoPDApdGhyb3cgbmV3IEVycm9yKGBDeWNsaWMgZGVwZW5kZW5jeSBsaW5rcyBkZXRlY3RlZCBpbiBidXMgJHt0aGlzLm5hbWV9YCk7Y29uc3QgbD1kLnNwbGljZShoLDEpWzBdO3RoaXMuYWN0b3JzLnB1c2gobCl9fX19ZS5CdXM9bn0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQnVzSW5kZXhlZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJ1c0luZGV4ZWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9CdXMuanMiKTtjbGFzcyBkIGV4dGVuZHMgby5CdXN7Y29uc3RydWN0b3IobCl7c3VwZXIobCksdGhpcy5hY3RvcnNJbmRleD17fX1zdWJzY3JpYmUobCl7Y29uc3QgdT10aGlzLmdldEFjdG9ySWRlbnRpZmllcihsKXx8Il91bmRlZmluZWRfIjtsZXQgcD10aGlzLmFjdG9yc0luZGV4W3VdO3B8fChwPXRoaXMuYWN0b3JzSW5kZXhbdV09W10pLHAucHVzaChsKSxzdXBlci5zdWJzY3JpYmUobCl9dW5zdWJzY3JpYmUobCl7Y29uc3QgdT10aGlzLmdldEFjdG9ySWRlbnRpZmllcihsKXx8Il91bmRlZmluZWRfIixwPXRoaXMuYWN0b3JzSW5kZXhbdV07aWYocCl7Y29uc3QgZz1wLmluZGV4T2YobCk7Zz49MCYmcC5zcGxpY2UoZywxKSxwLmxlbmd0aD09PTAmJmRlbGV0ZSB0aGlzLmFjdG9yc0luZGV4W3VdfXJldHVybiBzdXBlci51bnN1YnNjcmliZShsKX1wdWJsaXNoKGwpe2NvbnN0IHU9dGhpcy5nZXRBY3Rpb25JZGVudGlmaWVyKGwpO3JldHVybiB1P1suLi50aGlzLmFjdG9yc0luZGV4W3VdfHxbXSwuLi50aGlzLmFjdG9yc0luZGV4Ll91bmRlZmluZWRffHxbXV0ubWFwKGc9Pih7YWN0b3I6ZyxyZXBseTpnLnRlc3QobCl9KSk6c3VwZXIucHVibGlzaChsKX1nZXRBY3RvcklkZW50aWZpZXIobCl7cmV0dXJuIHRoaXMuYWN0b3JJZGVudGlmaWVyRmllbGRzLnJlZHVjZSgodSxwKT0+dVtwXSxsKX1nZXRBY3Rpb25JZGVudGlmaWVyKGwpe3JldHVybiB0aGlzLmFjdGlvbklkZW50aWZpZXJGaWVsZHMucmVkdWNlKCh1LHApPT51W3BdLGwpfX1lLkJ1c0luZGV4ZWQ9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQ29udGV4dEVudHJpZXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5DT05URVhUX0tFWV9MT0dHRVI9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9BY3Rpb25Db250ZXh0LmpzIik7ZS5DT05URVhUX0tFWV9MT0dHRVI9bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2NvcmU6bG9nIil9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL01lZGlhdG9yLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lZGlhdG9yPXZvaWQgMDtjbGFzcyBue2NvbnN0cnVjdG9yKGQpe09iamVjdC5hc3NpZ24odGhpcyxkKX1wdWJsaXNoKGQpe2NvbnN0IGg9dGhpcy5idXMucHVibGlzaChkKTtpZihoLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKGBObyBhY3RvcnMgYXJlIGFibGUgdG8gcmVwbHkgdG8gYSBtZXNzYWdlIGluIHRoZSBidXMgJHt0aGlzLmJ1cy5uYW1lfWApO3JldHVybiBofWFzeW5jIG1lZGlhdGVBY3RvcihkKXtyZXR1cm4gYXdhaXQgdGhpcy5tZWRpYXRlV2l0aChkLHRoaXMucHVibGlzaChkKSl9YXN5bmMgbWVkaWF0ZShkKXtyZXR1cm4oYXdhaXQgdGhpcy5tZWRpYXRlQWN0b3IoZCkpLnJ1bk9ic2VydmFibGUoZCl9fWUuTWVkaWF0b3I9bn0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odSxwLGcsdil7dj09PXZvaWQgMCYmKHY9Zyk7dmFyIGI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwLGcpOyghYnx8KCJnZXQiaW4gYj8hcC5fX2VzTW9kdWxlOmIud3JpdGFibGV8fGIuY29uZmlndXJhYmxlKSkmJihiPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwW2ddfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LHYsYil9OmZ1bmN0aW9uKHUscCxnLHYpe3Y9PT12b2lkIDAmJih2PWcpLHVbdl09cFtnXX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHUscCl7Zm9yKHZhciBnIGluIHUpZyE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwLGcpJiZvKHAsdSxnKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTG9nZ2VyPXZvaWQgMDtjb25zdCBsPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL2luZGV4LmpzIikuTG9nZ2VyO2UuTG9nZ2VyPWwsZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL0FjdGlvbkNvbnRleHQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQnVzLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL0J1c0luZGV4ZWQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQ29udGV4dEVudHJpZXMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQWN0aW9uT2JzZXJ2ZXIuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQWN0b3IuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvTWVkaWF0b3IuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvZGF0YS1mYWN0b3J5L2xpYi9CbGFua05vZGVCaW5kaW5nc1Njb3BlZC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CbGFua05vZGVCaW5kaW5nc1Njb3BlZD12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkKXt0aGlzLnRlcm1UeXBlPSJCbGFua05vZGUiLHRoaXMuc2luZ2xlQmluZGluZ3NTY29wZT0hMCx0aGlzLnZhbHVlPWR9ZXF1YWxzKGQpe3JldHVybiEhZCYmZC50ZXJtVHlwZT09PSJCbGFua05vZGUiJiZkLnZhbHVlPT09dGhpcy52YWx1ZX19ZS5CbGFua05vZGVCaW5kaW5nc1Njb3BlZD1ufSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZVNjb3BlZC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CbGFua05vZGVTY29wZWQ9dm9pZCAwO2NsYXNzIG57Y29uc3RydWN0b3IoZCxoKXt0aGlzLnRlcm1UeXBlPSJCbGFua05vZGUiLHRoaXMudmFsdWU9ZCx0aGlzLnNrb2xlbWl6ZWQ9aH1lcXVhbHMoZCl7cmV0dXJuISFkJiZkLnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJmQudmFsdWU9PT10aGlzLnZhbHVlfX1lLkJsYW5rTm9kZVNjb3BlZD1ufSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvZGF0YS1mYWN0b3J5L2xpYi9CbGFua05vZGVTY29wZWQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvZGF0YS1mYWN0b3J5L2xpYi9CbGFua05vZGVCaW5kaW5nc1Njb3BlZC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9sb2dnZXItdm9pZC9saWIvTG9nZ2VyVm9pZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkxvZ2dlclZvaWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5Mb2dnZXJ7ZGVidWcoKXt9ZXJyb3IoKXt9ZmF0YWwoKXt9aW5mbygpe310cmFjZSgpe313YXJuKCl7fX1lLkxvZ2dlclZvaWQ9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbG9nZ2VyLXZvaWQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbG9nZ2VyLXZvaWQvbGliL0xvZ2dlclZvaWQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItYWxsL2xpYi9NZWRpYXRvckFsbC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lZGlhdG9yQWxsPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5NZWRpYXRvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX1hc3luYyBtZWRpYXRlKGwpe2NvbnN0IHU9W107bGV0IHA7dHJ5e3A9dGhpcy5wdWJsaXNoKGwpfWNhdGNoe3A9W119Zm9yKGNvbnN0IHYgb2YgcCl0cnl7YXdhaXQgdi5yZXBseSx1LnB1c2godi5hY3Rvcil9Y2F0Y2h7fXJldHVybihhd2FpdCBQcm9taXNlLmFsbCh1Lm1hcCh2PT52LnJ1bk9ic2VydmFibGUobCkpKSlbMF19YXN5bmMgbWVkaWF0ZVdpdGgoKXt0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIG9wZXJhdGlvbjogTWVkaWF0b3JBbGwjbWVkaWF0ZVdpdGgiKX19ZS5NZWRpYXRvckFsbD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1hbGwvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItYWxsL2xpYi9NZWRpYXRvckFsbC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXBpcGVsaW5lL2xpYi9NZWRpYXRvckNvbWJpbmVQaXBlbGluZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lZGlhdG9yQ29tYmluZVBpcGVsaW5lPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5NZWRpYXRvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX1hc3luYyBtZWRpYXRlKGwpe2xldCB1O3RyeXt1PXRoaXMucHVibGlzaChsKX1jYXRjaHtyZXR1cm4gbH1pZih0aGlzLmZpbHRlckVycm9ycyl7Y29uc3QgZz1bXTtmb3IoY29uc3QgdiBvZiB1KXRyeXthd2FpdCB2LnJlcGx5LGcucHVzaCh2KX1jYXRjaHt9dT1nfWlmKHU9YXdhaXQgUHJvbWlzZS5hbGwodS5tYXAoYXN5bmMoe2FjdG9yOmcscmVwbHk6dn0pPT4oe2FjdG9yOmcscmVwbHk6YXdhaXQgdn0pKSksdGhpcy5vcmRlcil7Y29uc3QgZz12PT57Y29uc3QgYj10aGlzLmZpZWxkP3ZbdGhpcy5maWVsZF06djtpZih0eXBlb2YgYiE9Im51bWJlciIpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgb3JkZXIgZWxlbWVudHMgdGhhdCBhcmUgbm90IG51bWJlcnMuIik7cmV0dXJuIGJ9O3U9dS5zb3J0KCh2LGIpPT4odGhpcy5vcmRlcj09PSJpbmNyZWFzaW5nIj8xOi0xKSooZyh2LnJlcGx5KS1nKGIucmVwbHkpKSl9bGV0IHA9bDtmb3IoY29uc3R7YWN0b3I6Z31vZiB1KXA9ey4uLnAsLi4uYXdhaXQgZy5ydW5PYnNlcnZhYmxlKHApfTtyZXR1cm4gcH1tZWRpYXRlV2l0aCgpe3Rocm93IG5ldyBFcnJvcigiTWV0aG9kIG5vdCBzdXBwb3J0ZWQuIil9fWUuTWVkaWF0b3JDb21iaW5lUGlwZWxpbmU9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItY29tYmluZS1waXBlbGluZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXBpcGVsaW5lL2xpYi9NZWRpYXRvckNvbWJpbmVQaXBlbGluZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXVuaW9uL2xpYi9NZWRpYXRvckNvbWJpbmVVbmlvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lZGlhdG9yQ29tYmluZVVuaW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5NZWRpYXRvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKSx0aGlzLmNvbWJpbmVyPXRoaXMuY3JlYXRlQ29tYmluZXIoKX1hc3luYyBtZWRpYXRlKGwpe2xldCB1O3RyeXt1PXRoaXMucHVibGlzaChsKX1jYXRjaHt1PVtdfWF3YWl0IFByb21pc2UuYWxsKHUubWFwKCh7cmVwbHk6Z30pPT5nKSk7Y29uc3QgcD1hd2FpdCBQcm9taXNlLmFsbCh1Lm1hcChnPT5nLmFjdG9yLnJ1bk9ic2VydmFibGUobCkpKTtyZXR1cm4gdGhpcy5jb21iaW5lcihwKX1tZWRpYXRlV2l0aCgpe3Rocm93IG5ldyBFcnJvcigiTWV0aG9kIG5vdCBzdXBwb3J0ZWQuIil9Y3JlYXRlQ29tYmluZXIoKXtyZXR1cm4gbD0+e2NvbnN0IHU9e307cmV0dXJuIHVbdGhpcy5maWVsZF09e30sW3t9XS5jb25jYXQobC5tYXAocD0+cFt0aGlzLmZpZWxkXSkpLmZvckVhY2goKHAsZyx2KT0+e3VbdGhpcy5maWVsZF09ey4uLnAsLi4udVt0aGlzLmZpZWxkXX19KSx1fX19ZS5NZWRpYXRvckNvbWJpbmVVbmlvbj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXVuaW9uL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtdW5pb24vbGliL01lZGlhdG9yQ29tYmluZVVuaW9uLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWpvaW4tY29lZmZpY2llbnRzLWZpeGVkL2xpYi9NZWRpYXRvckpvaW5Db2VmZmljaWVudHNGaXhlZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lZGlhdG9ySm9pbkNvZWZmaWNpZW50c0ZpeGVkPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGggZXh0ZW5kcyBkLk1lZGlhdG9ye2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUpfWFzeW5jIG1lZGlhdGVXaXRoKHUscCl7Y29uc3QgZz1bXSx2PXAubWFwKCh7cmVwbHk6Q30pPT5DKS5tYXAoQz0+Qy5jYXRjaChMPT57Zy5wdXNoKEwpfSkpLGI9YXdhaXQgUHJvbWlzZS5hbGwodik7bGV0IF89Yi5tYXAoKEMsTCk9PntpZihDKXJldHVybiBDLml0ZXJhdGlvbnMqdGhpcy5jcHVXZWlnaHQrQy5wZXJzaXN0ZWRJdGVtcyp0aGlzLm1lbW9yeVdlaWdodCtDLmJsb2NraW5nSXRlbXMqdGhpcy50aW1lV2VpZ2h0K0MucmVxdWVzdFRpbWUqdGhpcy5pb1dlaWdodH0pO2NvbnN0IE89TWF0aC5tYXgoLi4uXy5maWx0ZXIoQz0+QyE9PXZvaWQgMCkpLFQ9dS5jb250ZXh0LmdldChvLktleXNRdWVyeU9wZXJhdGlvbi5saW1pdEluZGljYXRvcik7VCYmKF89Xy5tYXAoKEMsTCk9PkMhPT12b2lkIDAmJmJbTF0ucGVyc2lzdGVkSXRlbXM+MCYmYltMXS5pdGVyYXRpb25zPlQ/QytPOkMpKTtsZXQgaj0tMSxOPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtmb3IoY29uc3RbQyxMXW9mIF8uZW50cmllcygpKUwhPT12b2lkIDAmJihqPT09LTF8fEw8TikmJihqPUMsTj1MKTtpZihqPDApdGhyb3cgbmV3IEVycm9yKGBBbGwgYWN0b3JzIHJlamVjdGVkIHRoZWlyIHRlc3QgaW4gJHt0aGlzLm5hbWV9CiR7Zy5tYXAoQz0+Qy5tZXNzYWdlKS5qb2luKGAKYCl9YCk7Y29uc3QgQj1wW2pdLmFjdG9yO3JldHVybiBCLmluY2x1ZGVJbkxvZ3MmJmQuQWN0b3IuZ2V0Q29udGV4dExvZ2dlcih1LmNvbnRleHQpPy5kZWJ1ZyhgRGV0ZXJtaW5lZCBwaHlzaWNhbCBqb2luIG9wZXJhdG9yICcke0IubG9naWNhbFR5cGV9LSR7Qi5waHlzaWNhbE5hbWV9J2Ase2VudHJpZXM6dS5lbnRyaWVzLmxlbmd0aCx2YXJpYWJsZXM6YXdhaXQgUHJvbWlzZS5hbGwodS5lbnRyaWVzLm1hcChhc3luYyBDPT4oYXdhaXQgQy5vdXRwdXQubWV0YWRhdGEoKSkudmFyaWFibGVzLm1hcChMPT5MLnZhbHVlKSkpLGNvc3RzOk9iamVjdC5mcm9tRW50cmllcyhfLm1hcCgoQyxMKT0+W2Ake3BbTF0uYWN0b3IubG9naWNhbFR5cGV9LSR7cFtMXS5hY3Rvci5waHlzaWNhbE5hbWV9YCxDXSkpLGNvZWZmaWNpZW50czpPYmplY3QuZnJvbUVudHJpZXMoYi5tYXAoKEMsTCk9PltgJHtwW0xdLmFjdG9yLmxvZ2ljYWxUeXBlfS0ke3BbTF0uYWN0b3IucGh5c2ljYWxOYW1lfWAsQ10pKX0pLEJ9fWUuTWVkaWF0b3JKb2luQ29lZmZpY2llbnRzRml4ZWQ9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3Itam9pbi1jb2VmZmljaWVudHMtZml4ZWQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3Itam9pbi1jb2VmZmljaWVudHMtZml4ZWQvbGliL01lZGlhdG9ySm9pbkNvZWZmaWNpZW50c0ZpeGVkLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLW51bWJlci9saWIvTWVkaWF0b3JOdW1iZXIuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NZWRpYXRvck51bWJlcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uTWVkaWF0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCksdGhpcy5pbmRleFBpY2tlcj10aGlzLmNyZWF0ZUluZGV4UGlja2VyKCl9Y3JlYXRlSW5kZXhQaWNrZXIoKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIm1pbiI6cmV0dXJuIGw9PmwucmVkdWNlKCh1LHAsZyk9Pntjb25zdCB2PXRoaXMuZ2V0T3JEZWZhdWx0KHBbdGhpcy5maWVsZF0sTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtyZXR1cm4gdiE9PW51bGwmJihOdW1iZXIuaXNOYU4odVswXSl8fHVbMF0+dik/W3YsZ106dX0sW051bWJlci5OYU4sLTFdKVsxXTtjYXNlIm1heCI6cmV0dXJuIGw9PmwucmVkdWNlKCh1LHAsZyk9Pntjb25zdCB2PXRoaXMuZ2V0T3JEZWZhdWx0KHBbdGhpcy5maWVsZF0sTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtyZXR1cm4gdiE9PW51bGwmJihOdW1iZXIuaXNOYU4odVswXSl8fHVbMF08dik/W3YsZ106dX0sW051bWJlci5OYU4sLTFdKVsxXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgTm8gdmFsaWQgInR5cGUiIHZhbHVlIHdhcyBnaXZlbiwgbXVzdCBiZSBlaXRoZXIgJ21pbicgb3IgJ21heCcsIGJ1dCBnb3Q6ICR7dGhpcy50eXBlfWApfX1nZXRPckRlZmF1bHQobCx1KXtyZXR1cm4gbD09PXZvaWQgMD91Omx9YXN5bmMgbWVkaWF0ZVdpdGgobCx1KXtsZXQgcD11Lm1hcCgoe3JlcGx5Ol99KT0+Xyk7Y29uc3QgZz1bXTtpZih0aGlzLmlnbm9yZUVycm9ycyl7Y29uc3QgXz17fTtfW3RoaXMuZmllbGRdPW51bGwscD1wLm1hcChPPT5PLmNhdGNoKFQ9PihnLnB1c2goVCksXykpKX1jb25zdCB2PWF3YWl0IFByb21pc2UuYWxsKHApLGI9dGhpcy5pbmRleFBpY2tlcih2KTtpZihiPDApdGhyb3cgbmV3IEVycm9yKGBBbGwgYWN0b3JzIHJlamVjdGVkIHRoZWlyIHRlc3QgaW4gJHt0aGlzLm5hbWV9CiR7Zy5tYXAoXz0+Xy5tZXNzYWdlKS5qb2luKGAKYCl9YCk7cmV0dXJuIHVbYl0uYWN0b3J9fWUuTWVkaWF0b3JOdW1iZXI9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItbnVtYmVyL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLW51bWJlci9saWIvTWVkaWF0b3JOdW1iZXIuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvTWVkaWF0b3JSYWNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVkaWF0b3JSYWNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5NZWRpYXRvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX1tZWRpYXRlV2l0aChsLHUpe3JldHVybiBuZXcgUHJvbWlzZSgocCxnKT0+e2NvbnN0IHY9W107Zm9yKGNvbnN0IGIgb2YgdSliLnJlcGx5LnRoZW4oKCk9PntwKGIuYWN0b3IpfSkuY2F0Y2goXz0+e3YucHVzaChfKSx2Lmxlbmd0aD09PXUubGVuZ3RoJiZnKG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IG1lZGlhdGVkIG92ZXIgYWxsIHJlamVjdGluZyBhY3RvcnM6CiR7di5tYXAoTz0+Ty5tZXNzYWdlKS5qb2luKGAKYCl9YCkpfSl9KX19ZS5NZWRpYXRvclJhY2U9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9NZWRpYXRvclJhY2UuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0JpbmRpbmdzLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lBY3Rpb25Db250ZXh0LmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lBZ2dyZWdhdGVkU3RvcmUuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUNsaUFyZ3NIYW5kbGVyLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lEYXRhRGVzdGluYXRpb24uanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSURhdGFTb3VyY2UuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUpvaW5FbnRyeS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JTWV0YWRhdGEuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSVBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lQcm94eUhhbmRsZXIuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSVF1ZXJ5Q29udGV4dC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUXVlcnlFbmdpbmUuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSVF1ZXJ5T3BlcmF0aW9uUmVzdWx0LmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0xvZ2dlci5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Mb2dnZXI9dm9pZCAwO2NsYXNzIG57c3RhdGljIGdldExldmVsT3JkaW5hbChkKXtyZXR1cm4gbi5MRVZFTFNbZF19fWUuTG9nZ2VyPW4sbi5MRVZFTFM9e3RyYWNlOjAsZGVidWc6MSxpbmZvOjIsd2FybjozLGVycm9yOjQsZmF0YWw6NX19LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9CaW5kaW5ncy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUFjdGlvbkNvbnRleHQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lBZ2dyZWdhdGVkU3RvcmUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lDbGlBcmdzSGFuZGxlci5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSURhdGFEZXN0aW5hdGlvbi5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSURhdGFTb3VyY2UuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lKb2luRW50cnkuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lNZXRhZGF0YS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSVBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUHJveHlIYW5kbGVyLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUXVlcnlDb250ZXh0LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUXVlcnlFbmdpbmUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lRdWVyeU9wZXJhdGlvblJlc3VsdC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvTG9nZ2VyLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2luZGV4LmpzIjoodCxlLG4pPT57Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2pvaW4vRHluYW1pY05lc3RlZExvb3BKb2luLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2pvaW4vSGFzaEpvaW4uanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9OZXN0ZWRMb29wSm9pbi5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL2FzeW5jam9pbi9qb2luL1N5bW1ldHJpY0hhc2hKb2luLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL3V0aWwvTWVyZ2VJdGVyYXRvci5qcyIpO3QuZXhwb3J0cz17RHluYW1pY05lc3RlZExvb3BKb2luOm8sSGFzaEpvaW46ZCxOZXN0ZWRMb29wSm9pbjpoLFN5bW1ldHJpY0hhc2hKb2luOmwsTWVyZ2VTdHJlYW06dX19LCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2pvaW4vRHluYW1pY05lc3RlZExvb3BKb2luLmpzIjoodCxlLG4pPT57bGV0IG89bigiYXN5bmNpdGVyYXRvciIpLGQ9by5NdWx0aVRyYW5zZm9ybUl0ZXJhdG9yLGg9by5TaW1wbGVUcmFuc2Zvcm1JdGVyYXRvcjtjbGFzcyBsIGV4dGVuZHMgZHtjb25zdHJ1Y3RvcihwLGcsdixiKXtzdXBlcihwLGIpLHRoaXMuZnVuUmlnaHQ9Zyx0aGlzLmZ1bkpvaW49dn1fY3JlYXRlVHJhbnNmb3JtZXIocCl7cmV0dXJuIG5ldyBoKHRoaXMuZnVuUmlnaHQocCkse3RyYW5zZm9ybTooZyx2LGIpPT57bGV0IF89dGhpcy5mdW5Kb2luKHAsZyk7XyE9PW51bGwmJmIoXyksdigpfX0pfX10LmV4cG9ydHM9bH0sIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9IYXNoSm9pbi5qcyI6KHQsZSxuKT0+e2xldCBvPW4oImFzeW5jaXRlcmF0b3IiKS5Bc3luY0l0ZXJhdG9yO2NsYXNzIGQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGwsdSxwLGcpe3N1cGVyKCksdGhpcy5hZGRlZERhdGFMaXN0ZW5lcj0hMSx0aGlzLmxlZnQ9bCx0aGlzLnJpZ2h0PXUsdGhpcy5mdW5IYXNoPXAsdGhpcy5mdW5Kb2luPWcsdGhpcy5sZWZ0TWFwPW5ldyBNYXAsdGhpcy5tYXRjaD1udWxsLHRoaXMubWF0Y2hlcz1bXSx0aGlzLm1hdGNoSWR4PTAsdGhpcy5sZWZ0Lm9uKCJlcnJvciIsYj0+dGhpcy5kZXN0cm95KGIpKSx0aGlzLnJpZ2h0Lm9uKCJlcnJvciIsYj0+dGhpcy5kZXN0cm95KGIpKSx0aGlzLnJlYWRhYmxlPSExLHRoaXMubGVmdC5vbigiZW5kIix2LmJpbmQodGhpcykpO2Z1bmN0aW9uIHYoKXtpZih0aGlzLmxlZnRNYXAuc2l6ZTw9MClyZXR1cm4gdGhpcy5jbG9zZSgpO3RoaXMucmVhZGFibGU9ITAsdGhpcy5yaWdodC5vbigicmVhZGFibGUiLCgpPT50aGlzLnJlYWRhYmxlPSEwKSx0aGlzLnJpZ2h0Lm9uKCJlbmQiLCgpPT57dGhpcy5oYXNSZXN1bHRzKCl8fHRoaXMuX2VuZCgpfSl9dGhpcy5vbigibmV3TGlzdGVuZXIiLGI9PntiPT09ImRhdGEiJiYhdGhpcy5hZGRlZERhdGFMaXN0ZW5lciYmKHRoaXMuYWRkZWREYXRhTGlzdGVuZXI9ITAsdGhpcy5fYWRkRGF0YUxpc3RlbmVyKCkpfSl9aGFzUmVzdWx0cygpe3JldHVybiF0aGlzLnJpZ2h0LmVuZGVkfHx0aGlzLm1hdGNoSWR4PHRoaXMubWF0Y2hlcy5sZW5ndGh9X2VuZCgpe3N1cGVyLl9lbmQoKSx0aGlzLmxlZnQuZGVzdHJveSgpLHRoaXMucmlnaHQuZGVzdHJveSgpfXJlYWQoKXtmb3IodGhpcy5hZGRlZERhdGFMaXN0ZW5lcnx8KHRoaXMuYWRkZWREYXRhTGlzdGVuZXI9ITAsdGhpcy5fYWRkRGF0YUxpc3RlbmVyKCkpOzspe2lmKHRoaXMuZW5kZWR8fCF0aGlzLnJlYWRhYmxlKXJldHVybiBudWxsO2Zvcig7dGhpcy5tYXRjaElkeDx0aGlzLm1hdGNoZXMubGVuZ3RoOyl7bGV0IHU9dGhpcy5tYXRjaGVzW3RoaXMubWF0Y2hJZHgrK10scD10aGlzLmZ1bkpvaW4odSx0aGlzLm1hdGNoKTtpZihwIT09bnVsbClyZXR1cm4gcH1pZih0aGlzLmhhc1Jlc3VsdHMoKXx8dGhpcy5fZW5kKCksdGhpcy5tYXRjaD10aGlzLnJpZ2h0LnJlYWQoKSx0aGlzLm1hdGNoPT09bnVsbClyZXR1cm4gdGhpcy5yZWFkYWJsZT0hMSxudWxsO2xldCBsPXRoaXMuZnVuSGFzaCh0aGlzLm1hdGNoKTt0aGlzLm1hdGNoZXM9dGhpcy5sZWZ0TWFwLmdldChsKXx8W10sdGhpcy5tYXRjaElkeD0wfX1fYWRkRGF0YUxpc3RlbmVyKCl7dGhpcy5sZWZ0Lm9uKCJkYXRhIixsLmJpbmQodGhpcykpO2Z1bmN0aW9uIGwodSl7bGV0IHA9dGhpcy5mdW5IYXNoKHUpO3RoaXMubGVmdE1hcC5oYXMocCl8fHRoaXMubGVmdE1hcC5zZXQocCxbXSksdGhpcy5sZWZ0TWFwLmdldChwKS5wdXNoKHUpfX19dC5leHBvcnRzPWR9LCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2pvaW4vTmVzdGVkTG9vcEpvaW4uanMiOih0LGUsbik9Pntjb25zdHtNdWx0aVRyYW5zZm9ybUl0ZXJhdG9yOm8sU2ltcGxlVHJhbnNmb3JtSXRlcmF0b3I6ZCxzY2hlZHVsZVRhc2s6aH09bigiYXN5bmNpdGVyYXRvciIpO2NsYXNzIGwgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHAsZyx2LGIpe3N1cGVyKHAsYiksdGhpcy5yaWdodD1nLHRoaXMuZnVuSm9pbj12LHRoaXMub24oImVuZCIsKCk9PnRoaXMucmlnaHQuY2xvc2UoKSl9X2VuZCgpe3N1cGVyLl9lbmQoKSxoKCgpPT50aGlzLnJpZ2h0LmRlc3Ryb3koKSl9X2NyZWF0ZVRyYW5zZm9ybWVyKHApe3JldHVybiBuZXcgZCh0aGlzLnJpZ2h0LmNsb25lKCkse3RyYW5zZm9ybTooZyx2LGIpPT57bGV0IF89dGhpcy5mdW5Kb2luKHAsZyk7XyE9PW51bGwmJmIoXyksdigpfX0pfX10LmV4cG9ydHM9bH0sIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9TeW1tZXRyaWNIYXNoSm9pbi5qcyI6KHQsZSxuKT0+e2xldCBvPW4oImFzeW5jaXRlcmF0b3IiKS5Bc3luY0l0ZXJhdG9yO2NsYXNzIGQgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKGwsdSxwLGcpe3N1cGVyKCksdGhpcy5sZWZ0PWwsdGhpcy5yaWdodD11LHRoaXMuZnVuSGFzaD1wLHRoaXMuZnVuSm9pbj1nLHRoaXMudXNlZExlZnQ9ITEsdGhpcy5sZWZ0TWFwPW5ldyBNYXAsdGhpcy5yaWdodE1hcD1uZXcgTWFwLHRoaXMub24oImVuZCIsKCk9PnRoaXMuX2NsZWFudXAoKSksdGhpcy5tYXRjaD1udWxsLHRoaXMubWF0Y2hlcz1bXSx0aGlzLm1hdGNoSWR4PTAsKHRoaXMubGVmdC5yZWFkYWJsZXx8dGhpcy5yaWdodC5yZWFkYWJsZSkmJih0aGlzLnJlYWRhYmxlPSEwKSx0aGlzLmxlZnQub24oImVycm9yIix2PT50aGlzLmRlc3Ryb3kodikpLHRoaXMucmlnaHQub24oImVycm9yIix2PT50aGlzLmRlc3Ryb3kodikpLHRoaXMubGVmdC5vbigicmVhZGFibGUiLCgpPT50aGlzLnJlYWRhYmxlPSEwKSx0aGlzLnJpZ2h0Lm9uKCJyZWFkYWJsZSIsKCk9PnRoaXMucmVhZGFibGU9ITApLHRoaXMubGVmdC5vbigiZW5kIiwoKT0+e3RoaXMuaGFzUmVzdWx0cygpfHx0aGlzLl9lbmQoKX0pLHRoaXMucmlnaHQub24oImVuZCIsKCk9Pnt0aGlzLmhhc1Jlc3VsdHMoKXx8dGhpcy5fZW5kKCl9KX1oYXNSZXN1bHRzKCl7cmV0dXJuIXRoaXMubGVmdC5lbmRlZHx8IXRoaXMucmlnaHQuZW5kZWR8fCEhdGhpcy5tYXRjaGVzJiZ0aGlzLm1hdGNoSWR4PHRoaXMubWF0Y2hlcy5sZW5ndGh9X2NsZWFudXAoKXt0aGlzLmxlZnRNYXA9bnVsbCx0aGlzLnJpZ2h0TWFwPW51bGwsdGhpcy5tYXRjaGVzPW51bGx9X2VuZCgpe3N1cGVyLl9lbmQoKSx0aGlzLmxlZnQuZGVzdHJveSgpLHRoaXMucmlnaHQuZGVzdHJveSgpfXJlYWQoKXtpZih0aGlzLmVuZGVkKXJldHVybiBudWxsO2Zvcig7dGhpcy5tYXRjaElkeDx0aGlzLm1hdGNoZXMubGVuZ3RoOyl7bGV0IHY9dGhpcy5tYXRjaGVzW3RoaXMubWF0Y2hJZHgrK10sYj10aGlzLnVzZWRMZWZ0P3RoaXMuZnVuSm9pbih0aGlzLm1hdGNoLHYpOnRoaXMuZnVuSm9pbih2LHRoaXMubWF0Y2gpO2lmKGIhPT1udWxsKXJldHVybiBifXRoaXMuaGFzUmVzdWx0cygpfHx0aGlzLl9lbmQoKTtsZXQgbD1udWxsO2ZvcihsZXQgdj0wO3Y8MiYmKGw9dGhpcy51c2VkTGVmdD90aGlzLnJpZ2h0LnJlYWQoKTp0aGlzLmxlZnQucmVhZCgpLHRoaXMudXNlZExlZnQ9IXRoaXMudXNlZExlZnQsbD09PW51bGwpOysrdik7aWYodGhpcy5kb25lfHxsPT09bnVsbClyZXR1cm4gdGhpcy5yZWFkYWJsZT0hMSxudWxsO2xldCB1PXRoaXMuZnVuSGFzaChsKSxwPXRoaXMudXNlZExlZnQ/dGhpcy5sZWZ0TWFwOnRoaXMucmlnaHRNYXA7cmV0dXJuIHAuaGFzKHUpfHxwLnNldCh1LFtdKSxwLmdldCh1KS5wdXNoKGwpLHRoaXMubWF0Y2g9bCx0aGlzLm1hdGNoZXM9KHRoaXMudXNlZExlZnQ/dGhpcy5yaWdodE1hcDp0aGlzLmxlZnRNYXApLmdldCh1KXx8W10sdGhpcy5tYXRjaElkeD0wLHRoaXMucmVhZCgpfX10LmV4cG9ydHM9ZH0sIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vdXRpbC9NZXJnZUl0ZXJhdG9yLmpzIjoodCxlLG4pPT57bGV0IG89bigiYXN5bmNpdGVyYXRvciIpLkFzeW5jSXRlcmF0b3I7Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IobCl7c3VwZXIoKSxBcnJheS5pc0FycmF5KGwpfHwobD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSx0aGlzLnN0cmVhbXM9bDtmb3IobGV0IHUgb2YgbCl1Lm9uKCJyZWFkYWJsZSIsKCk9PnRoaXMuZW1pdCgicmVhZGFibGUiKSksdS5vbigiZW5kIiwoKT0+dGhpcy5fcmVtb3ZlU3RyZWFtKHUpKTt0aGlzLnN0cmVhbXMubGVuZ3RoPT09MCYmdGhpcy5jbG9zZSgpLHRoaXMuaWR4PXRoaXMuc3RyZWFtcy5sZW5ndGgtMX1fcmVtb3ZlU3RyZWFtKGwpe2xldCB1PXRoaXMuc3RyZWFtcy5pbmRleE9mKGwpO3U8MHx8KHRoaXMuc3RyZWFtcy5zcGxpY2UodSwxKSx0aGlzLmlkeD49dGhpcy5zdHJlYW1zLmxlbmd0aCYmLS10aGlzLmlkeCx0aGlzLnN0cmVhbXMubGVuZ3RoPT09MCYmdGhpcy5fZW5kKCkpfWNsb3NlKCl7c3VwZXIuY2xvc2UoKTtmb3IobGV0IGwgb2YgdGhpcy5zdHJlYW1zKWwuY2xvc2UoKX1yZWFkKCl7Zm9yKGxldCBsPTA7bDx0aGlzLnN0cmVhbXMubGVuZ3RoOysrbCl7dGhpcy5pZHg9KHRoaXMuaWR4KzEpJXRoaXMuc3RyZWFtcy5sZW5ndGg7bGV0IHU9dGhpcy5zdHJlYW1zW3RoaXMuaWR4XS5yZWFkKCk7aWYodSE9PW51bGwpcmV0dXJuIHV9cmV0dXJuIG51bGx9fXQuZXhwb3J0cz1kfSwiLi4vbm9kZV9tb2R1bGVzL2JpZ251bWJlci5qcy9iaWdudW1iZXIuanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbzsoZnVuY3Rpb24oZCl7dmFyIGgsbD0vXi0/KD86XGQrKD86XC5cZCopP3xcLlxkKykoPzplWystXT9cZCspPyQvaSx1PU1hdGguY2VpbCxwPU1hdGguZmxvb3IsZz0iW0JpZ051bWJlciBFcnJvcl0gIix2PWcrIk51bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6ICIsYj0xZTE0LF89MTQsTz05MDA3MTk5MjU0NzQwOTkxLFQ9WzEsMTAsMTAwLDFlMywxZTQsMWU1LDFlNiwxZTcsMWU4LDFlOSwxZTEwLDFlMTEsMWUxMiwxZTEzXSxqPTFlNyxOPTFlOTtmdW5jdGlvbiBCKGFlKXt2YXIgcSxHLHJlLE09dmUucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp2ZSx0b1N0cmluZzpudWxsLHZhbHVlT2Y6bnVsbH0sJD1uZXcgdmUoMSksVT0yMCxIPTQsZWU9LTcsZ2U9MjEsbWU9LTFlNyxmZT0xZTcsaGU9ITEsX2U9MSx4ZT0wLE5lPXtwcmVmaXg6IiIsZ3JvdXBTaXplOjMsc2Vjb25kYXJ5R3JvdXBTaXplOjAsZ3JvdXBTZXBhcmF0b3I6IiwiLGRlY2ltYWxTZXBhcmF0b3I6Ii4iLGZyYWN0aW9uR3JvdXBTaXplOjAsZnJhY3Rpb25Hcm91cFNlcGFyYXRvcjoiwqAiLHN1ZmZpeDoiIn0sSWU9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIsUmU9ITA7ZnVuY3Rpb24gdmUoWCxvZSl7dmFyIFEsWSxpZSxzZSxsZSxuZSx1ZSxkZSxwZT10aGlzO2lmKCEocGUgaW5zdGFuY2VvZiB2ZSkpcmV0dXJuIG5ldyB2ZShYLG9lKTtpZihvZT09bnVsbCl7aWYoWCYmWC5faXNCaWdOdW1iZXI9PT0hMCl7cGUucz1YLnMsIVguY3x8WC5lPmZlP3BlLmM9cGUuZT1udWxsOlguZTxtZT9wZS5jPVtwZS5lPTBdOihwZS5lPVguZSxwZS5jPVguYy5zbGljZSgpKTtyZXR1cm59aWYoKG5lPXR5cGVvZiBYPT0ibnVtYmVyIikmJlgqMD09MCl7aWYocGUucz0xL1g8MD8oWD0tWCwtMSk6MSxYPT09fn5YKXtmb3Ioc2U9MCxsZT1YO2xlPj0xMDtsZS89MTAsc2UrKyk7c2U+ZmU/cGUuYz1wZS5lPW51bGw6KHBlLmU9c2UscGUuYz1bWF0pO3JldHVybn1kZT1TdHJpbmcoWCl9ZWxzZXtpZighbC50ZXN0KGRlPVN0cmluZyhYKSkpcmV0dXJuIHJlKHBlLGRlLG5lKTtwZS5zPWRlLmNoYXJDb2RlQXQoMCk9PTQ1PyhkZT1kZS5zbGljZSgxKSwtMSk6MX0oc2U9ZGUuaW5kZXhPZigiLiIpKT4tMSYmKGRlPWRlLnJlcGxhY2UoIi4iLCIiKSksKGxlPWRlLnNlYXJjaCgvZS9pKSk+MD8oc2U8MCYmKHNlPWxlKSxzZSs9K2RlLnNsaWNlKGxlKzEpLGRlPWRlLnN1YnN0cmluZygwLGxlKSk6c2U8MCYmKHNlPWRlLmxlbmd0aCl9ZWxzZXtpZihQKG9lLDIsSWUubGVuZ3RoLCJCYXNlIiksb2U9PTEwJiZSZSlyZXR1cm4gcGU9bmV3IHZlKFgpLEZlKHBlLFUrcGUuZSsxLEgpO2lmKGRlPVN0cmluZyhYKSxuZT10eXBlb2YgWD09Im51bWJlciIpe2lmKFgqMCE9MClyZXR1cm4gcmUocGUsZGUsbmUsb2UpO2lmKHBlLnM9MS9YPDA/KGRlPWRlLnNsaWNlKDEpLC0xKToxLHZlLkRFQlVHJiZkZS5yZXBsYWNlKC9eMFwuMCp8XC4vLCIiKS5sZW5ndGg+MTUpdGhyb3cgRXJyb3IoditYKX1lbHNlIHBlLnM9ZGUuY2hhckNvZGVBdCgwKT09PTQ1PyhkZT1kZS5zbGljZSgxKSwtMSk6MTtmb3IoUT1JZS5zbGljZSgwLG9lKSxzZT1sZT0wLHVlPWRlLmxlbmd0aDtsZTx1ZTtsZSsrKWlmKFEuaW5kZXhPZihZPWRlLmNoYXJBdChsZSkpPDApe2lmKFk9PSIuIil7aWYobGU+c2Upe3NlPXVlO2NvbnRpbnVlfX1lbHNlIGlmKCFpZSYmKGRlPT1kZS50b1VwcGVyQ2FzZSgpJiYoZGU9ZGUudG9Mb3dlckNhc2UoKSl8fGRlPT1kZS50b0xvd2VyQ2FzZSgpJiYoZGU9ZGUudG9VcHBlckNhc2UoKSkpKXtpZT0hMCxsZT0tMSxzZT0wO2NvbnRpbnVlfXJldHVybiByZShwZSxTdHJpbmcoWCksbmUsb2UpfW5lPSExLGRlPUcoZGUsb2UsMTAscGUucyksKHNlPWRlLmluZGV4T2YoIi4iKSk+LTE/ZGU9ZGUucmVwbGFjZSgiLiIsIiIpOnNlPWRlLmxlbmd0aH1mb3IobGU9MDtkZS5jaGFyQ29kZUF0KGxlKT09PTQ4O2xlKyspO2Zvcih1ZT1kZS5sZW5ndGg7ZGUuY2hhckNvZGVBdCgtLXVlKT09PTQ4Oyk7aWYoZGU9ZGUuc2xpY2UobGUsKyt1ZSkpe2lmKHVlLT1sZSxuZSYmdmUuREVCVUcmJnVlPjE1JiYoWD5PfHxYIT09cChYKSkpdGhyb3cgRXJyb3IoditwZS5zKlgpO2lmKChzZT1zZS1sZS0xKT5mZSlwZS5jPXBlLmU9bnVsbDtlbHNlIGlmKHNlPG1lKXBlLmM9W3BlLmU9MF07ZWxzZXtpZihwZS5lPXNlLHBlLmM9W10sbGU9KHNlKzEpJV8sc2U8MCYmKGxlKz1fKSxsZTx1ZSl7Zm9yKGxlJiZwZS5jLnB1c2goK2RlLnNsaWNlKDAsbGUpKSx1ZS09XztsZTx1ZTspcGUuYy5wdXNoKCtkZS5zbGljZShsZSxsZSs9XykpO2xlPV8tKGRlPWRlLnNsaWNlKGxlKSkubGVuZ3RofWVsc2UgbGUtPXVlO2Zvcig7bGUtLTtkZSs9IjAiKTtwZS5jLnB1c2goK2RlKX19ZWxzZSBwZS5jPVtwZS5lPTBdfXZlLmNsb25lPUIsdmUuUk9VTkRfVVA9MCx2ZS5ST1VORF9ET1dOPTEsdmUuUk9VTkRfQ0VJTD0yLHZlLlJPVU5EX0ZMT09SPTMsdmUuUk9VTkRfSEFMRl9VUD00LHZlLlJPVU5EX0hBTEZfRE9XTj01LHZlLlJPVU5EX0hBTEZfRVZFTj02LHZlLlJPVU5EX0hBTEZfQ0VJTD03LHZlLlJPVU5EX0hBTEZfRkxPT1I9OCx2ZS5FVUNMSUQ9OSx2ZS5jb25maWc9dmUuc2V0PWZ1bmN0aW9uKFgpe3ZhciBvZSxRO2lmKFghPW51bGwpaWYodHlwZW9mIFg9PSJvYmplY3QiKXtpZihYLmhhc093blByb3BlcnR5KG9lPSJERUNJTUFMX1BMQUNFUyIpJiYoUT1YW29lXSxQKFEsMCxOLG9lKSxVPVEpLFguaGFzT3duUHJvcGVydHkob2U9IlJPVU5ESU5HX01PREUiKSYmKFE9WFtvZV0sUChRLDAsOCxvZSksSD1RKSxYLmhhc093blByb3BlcnR5KG9lPSJFWFBPTkVOVElBTF9BVCIpJiYoUT1YW29lXSxRJiZRLnBvcD8oUChRWzBdLC1OLDAsb2UpLFAoUVsxXSwwLE4sb2UpLGVlPVFbMF0sZ2U9UVsxXSk6KFAoUSwtTixOLG9lKSxlZT0tKGdlPVE8MD8tUTpRKSkpLFguaGFzT3duUHJvcGVydHkob2U9IlJBTkdFIikpaWYoUT1YW29lXSxRJiZRLnBvcClQKFFbMF0sLU4sLTEsb2UpLFAoUVsxXSwxLE4sb2UpLG1lPVFbMF0sZmU9UVsxXTtlbHNlIGlmKFAoUSwtTixOLG9lKSxRKW1lPS0oZmU9UTwwPy1ROlEpO2Vsc2UgdGhyb3cgRXJyb3IoZytvZSsiIGNhbm5vdCBiZSB6ZXJvOiAiK1EpO2lmKFguaGFzT3duUHJvcGVydHkob2U9IkNSWVBUTyIpKWlmKFE9WFtvZV0sUT09PSEhUSlpZihRKWlmKHR5cGVvZiBjcnlwdG88InUiJiZjcnlwdG8mJihjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzfHxjcnlwdG8ucmFuZG9tQnl0ZXMpKWhlPVE7ZWxzZSB0aHJvdyBoZT0hUSxFcnJvcihnKyJjcnlwdG8gdW5hdmFpbGFibGUiKTtlbHNlIGhlPVE7ZWxzZSB0aHJvdyBFcnJvcihnK29lKyIgbm90IHRydWUgb3IgZmFsc2U6ICIrUSk7aWYoWC5oYXNPd25Qcm9wZXJ0eShvZT0iTU9EVUxPX01PREUiKSYmKFE9WFtvZV0sUChRLDAsOSxvZSksX2U9USksWC5oYXNPd25Qcm9wZXJ0eShvZT0iUE9XX1BSRUNJU0lPTiIpJiYoUT1YW29lXSxQKFEsMCxOLG9lKSx4ZT1RKSxYLmhhc093blByb3BlcnR5KG9lPSJGT1JNQVQiKSlpZihRPVhbb2VdLHR5cGVvZiBRPT0ib2JqZWN0IilOZT1RO2Vsc2UgdGhyb3cgRXJyb3IoZytvZSsiIG5vdCBhbiBvYmplY3Q6ICIrUSk7aWYoWC5oYXNPd25Qcm9wZXJ0eShvZT0iQUxQSEFCRVQiKSlpZihRPVhbb2VdLHR5cGVvZiBRPT0ic3RyaW5nIiYmIS9eLj8kfFsrXC0uXHNdfCguKS4qXDEvLnRlc3QoUSkpUmU9US5zbGljZSgwLDEwKT09IjAxMjM0NTY3ODkiLEllPVE7ZWxzZSB0aHJvdyBFcnJvcihnK29lKyIgaW52YWxpZDogIitRKX1lbHNlIHRocm93IEVycm9yKGcrIk9iamVjdCBleHBlY3RlZDogIitYKTtyZXR1cm57REVDSU1BTF9QTEFDRVM6VSxST1VORElOR19NT0RFOkgsRVhQT05FTlRJQUxfQVQ6W2VlLGdlXSxSQU5HRTpbbWUsZmVdLENSWVBUTzpoZSxNT0RVTE9fTU9ERTpfZSxQT1dfUFJFQ0lTSU9OOnhlLEZPUk1BVDpOZSxBTFBIQUJFVDpJZX19LHZlLmlzQmlnTnVtYmVyPWZ1bmN0aW9uKFgpe2lmKCFYfHxYLl9pc0JpZ051bWJlciE9PSEwKXJldHVybiExO2lmKCF2ZS5ERUJVRylyZXR1cm4hMDt2YXIgb2UsUSxZPVguYyxpZT1YLmUsc2U9WC5zO2U6aWYoe30udG9TdHJpbmcuY2FsbChZKT09IltvYmplY3QgQXJyYXldIil7aWYoKHNlPT09MXx8c2U9PT0tMSkmJmllPj0tTiYmaWU8PU4mJmllPT09cChpZSkpe2lmKFlbMF09PT0wKXtpZihpZT09PTAmJlkubGVuZ3RoPT09MSlyZXR1cm4hMDticmVhayBlfWlmKG9lPShpZSsxKSVfLG9lPDEmJihvZSs9XyksU3RyaW5nKFlbMF0pLmxlbmd0aD09b2Upe2ZvcihvZT0wO29lPFkubGVuZ3RoO29lKyspaWYoUT1ZW29lXSxRPDB8fFE+PWJ8fFEhPT1wKFEpKWJyZWFrIGU7aWYoUSE9PTApcmV0dXJuITB9fX1lbHNlIGlmKFk9PT1udWxsJiZpZT09PW51bGwmJihzZT09PW51bGx8fHNlPT09MXx8c2U9PT0tMSkpcmV0dXJuITA7dGhyb3cgRXJyb3IoZysiSW52YWxpZCBCaWdOdW1iZXI6ICIrWCl9LHZlLm1heGltdW09dmUubWF4PWZ1bmN0aW9uKCl7cmV0dXJuIE1lKGFyZ3VtZW50cyxNLmx0KX0sdmUubWluaW11bT12ZS5taW49ZnVuY3Rpb24oKXtyZXR1cm4gTWUoYXJndW1lbnRzLE0uZ3QpfSx2ZS5yYW5kb209ZnVuY3Rpb24oKXt2YXIgWD05MDA3MTk5MjU0NzQwOTkyLG9lPU1hdGgucmFuZG9tKCkqWCYyMDk3MTUxP2Z1bmN0aW9uKCl7cmV0dXJuIHAoTWF0aC5yYW5kb20oKSpYKX06ZnVuY3Rpb24oKXtyZXR1cm4oTWF0aC5yYW5kb20oKSoxMDczNzQxODI0fDApKjgzODg2MDgrKE1hdGgucmFuZG9tKCkqODM4ODYwOHwwKX07cmV0dXJuIGZ1bmN0aW9uKFEpe3ZhciBZLGllLHNlLGxlLG5lLHVlPTAsZGU9W10scGU9bmV3IHZlKCQpO2lmKFE9PW51bGw/UT1VOlAoUSwwLE4pLGxlPXUoUS9fKSxoZSlpZihjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKXtmb3IoWT1jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheShsZSo9MikpO3VlPGxlOyluZT1ZW3VlXSoxMzEwNzIrKFlbdWUrMV0+Pj4xMSksbmU+PTllMTU/KGllPWNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDIpKSxZW3VlXT1pZVswXSxZW3VlKzFdPWllWzFdKTooZGUucHVzaChuZSUxZTE0KSx1ZSs9Mik7dWU9bGUvMn1lbHNlIGlmKGNyeXB0by5yYW5kb21CeXRlcyl7Zm9yKFk9Y3J5cHRvLnJhbmRvbUJ5dGVzKGxlKj03KTt1ZTxsZTspbmU9KFlbdWVdJjMxKSoyODE0NzQ5NzY3MTA2NTYrWVt1ZSsxXSoxMDk5NTExNjI3Nzc2K1lbdWUrMl0qNDI5NDk2NzI5NitZW3VlKzNdKjE2Nzc3MjE2KyhZW3VlKzRdPDwxNikrKFlbdWUrNV08PDgpK1lbdWUrNl0sbmU+PTllMTU/Y3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoWSx1ZSk6KGRlLnB1c2gobmUlMWUxNCksdWUrPTcpO3VlPWxlLzd9ZWxzZSB0aHJvdyBoZT0hMSxFcnJvcihnKyJjcnlwdG8gdW5hdmFpbGFibGUiKTtpZighaGUpZm9yKDt1ZTxsZTspbmU9b2UoKSxuZTw5ZTE1JiYoZGVbdWUrK109bmUlMWUxNCk7Zm9yKGxlPWRlWy0tdWVdLFElPV8sbGUmJlEmJihuZT1UW18tUV0sZGVbdWVdPXAobGUvbmUpKm5lKTtkZVt1ZV09PT0wO2RlLnBvcCgpLHVlLS0pO2lmKHVlPDApZGU9W3NlPTBdO2Vsc2V7Zm9yKHNlPS0xO2RlWzBdPT09MDtkZS5zcGxpY2UoMCwxKSxzZS09Xyk7Zm9yKHVlPTEsbmU9ZGVbMF07bmU+PTEwO25lLz0xMCx1ZSsrKTt1ZTxfJiYoc2UtPV8tdWUpfXJldHVybiBwZS5lPXNlLHBlLmM9ZGUscGV9fSgpLHZlLnN1bT1mdW5jdGlvbigpe2Zvcih2YXIgWD0xLG9lPWFyZ3VtZW50cyxRPW5ldyB2ZShvZVswXSk7WDxvZS5sZW5ndGg7KVE9US5wbHVzKG9lW1grK10pO3JldHVybiBRfSxHPWZ1bmN0aW9uKCl7dmFyIFg9IjAxMjM0NTY3ODkiO2Z1bmN0aW9uIG9lKFEsWSxpZSxzZSl7Zm9yKHZhciBsZSxuZT1bMF0sdWUsZGU9MCxwZT1RLmxlbmd0aDtkZTxwZTspe2Zvcih1ZT1uZS5sZW5ndGg7dWUtLTtuZVt1ZV0qPVkpO2ZvcihuZVswXSs9c2UuaW5kZXhPZihRLmNoYXJBdChkZSsrKSksbGU9MDtsZTxuZS5sZW5ndGg7bGUrKyluZVtsZV0+aWUtMSYmKG5lW2xlKzFdPT1udWxsJiYobmVbbGUrMV09MCksbmVbbGUrMV0rPW5lW2xlXS9pZXwwLG5lW2xlXSU9aWUpfXJldHVybiBuZS5yZXZlcnNlKCl9cmV0dXJuIGZ1bmN0aW9uKFEsWSxpZSxzZSxsZSl7dmFyIG5lLHVlLGRlLHBlLGJlLHdlLE9lLEksdz1RLmluZGV4T2YoIi4iKSxFPVUsRD1IO2Zvcih3Pj0wJiYocGU9eGUseGU9MCxRPVEucmVwbGFjZSgiLiIsIiIpLEk9bmV3IHZlKFkpLHdlPUkucG93KFEubGVuZ3RoLXcpLHhlPXBlLEkuYz1vZShKKEwod2UuYyksd2UuZSwiMCIpLDEwLGllLFgpLEkuZT1JLmMubGVuZ3RoKSxPZT1vZShRLFksaWUsbGU/KG5lPUllLFgpOihuZT1YLEllKSksZGU9cGU9T2UubGVuZ3RoO09lWy0tcGVdPT0wO09lLnBvcCgpKTtpZighT2VbMF0pcmV0dXJuIG5lLmNoYXJBdCgwKTtpZih3PDA/LS1kZTood2UuYz1PZSx3ZS5lPWRlLHdlLnM9c2Usd2U9cSh3ZSxJLEUsRCxpZSksT2U9d2UuYyxiZT13ZS5yLGRlPXdlLmUpLHVlPWRlK0UrMSx3PU9lW3VlXSxwZT1pZS8yLGJlPWJlfHx1ZTwwfHxPZVt1ZSsxXSE9bnVsbCxiZT1EPDQ/KHchPW51bGx8fGJlKSYmKEQ9PTB8fEQ9PSh3ZS5zPDA/MzoyKSk6dz5wZXx8dz09cGUmJihEPT00fHxiZXx8RD09NiYmT2VbdWUtMV0mMXx8RD09KHdlLnM8MD84OjcpKSx1ZTwxfHwhT2VbMF0pUT1iZT9KKG5lLmNoYXJBdCgxKSwtRSxuZS5jaGFyQXQoMCkpOm5lLmNoYXJBdCgwKTtlbHNle2lmKE9lLmxlbmd0aD11ZSxiZSlmb3IoLS1pZTsrK09lWy0tdWVdPmllOylPZVt1ZV09MCx1ZXx8KCsrZGUsT2U9WzFdLmNvbmNhdChPZSkpO2ZvcihwZT1PZS5sZW5ndGg7IU9lWy0tcGVdOyk7Zm9yKHc9MCxRPSIiO3c8PXBlO1ErPW5lLmNoYXJBdChPZVt3KytdKSk7UT1KKFEsZGUsbmUuY2hhckF0KDApKX1yZXR1cm4gUX19KCkscT1mdW5jdGlvbigpe2Z1bmN0aW9uIFgoWSxpZSxzZSl7dmFyIGxlLG5lLHVlLGRlLHBlPTAsYmU9WS5sZW5ndGgsd2U9aWUlaixPZT1pZS9qfDA7Zm9yKFk9WS5zbGljZSgpO2JlLS07KXVlPVlbYmVdJWosZGU9WVtiZV0vanwwLGxlPU9lKnVlK2RlKndlLG5lPXdlKnVlK2xlJWoqaitwZSxwZT0obmUvc2V8MCkrKGxlL2p8MCkrT2UqZGUsWVtiZV09bmUlc2U7cmV0dXJuIHBlJiYoWT1bcGVdLmNvbmNhdChZKSksWX1mdW5jdGlvbiBvZShZLGllLHNlLGxlKXt2YXIgbmUsdWU7aWYoc2UhPWxlKXVlPXNlPmxlPzE6LTE7ZWxzZSBmb3IobmU9dWU9MDtuZTxzZTtuZSsrKWlmKFlbbmVdIT1pZVtuZV0pe3VlPVlbbmVdPmllW25lXT8xOi0xO2JyZWFrfXJldHVybiB1ZX1mdW5jdGlvbiBRKFksaWUsc2UsbGUpe2Zvcih2YXIgbmU9MDtzZS0tOylZW3NlXS09bmUsbmU9WVtzZV08aWVbc2VdPzE6MCxZW3NlXT1uZSpsZStZW3NlXS1pZVtzZV07Zm9yKDshWVswXSYmWS5sZW5ndGg+MTtZLnNwbGljZSgwLDEpKTt9cmV0dXJuIGZ1bmN0aW9uKFksaWUsc2UsbGUsbmUpe3ZhciB1ZSxkZSxwZSxiZSx3ZSxPZSxJLHcsRSxELFYsWixjZSxTZSxrZSxCZSxEZSxMZT1ZLnM9PWllLnM/MTotMSxLZT1ZLmMsSmU9aWUuYztpZighS2V8fCFLZVswXXx8IUplfHwhSmVbMF0pcmV0dXJuIG5ldyB2ZSghWS5zfHwhaWUuc3x8KEtlP0plJiZLZVswXT09SmVbMF06IUplKT9OYU46S2UmJktlWzBdPT0wfHwhSmU/TGUqMDpMZS8wKTtmb3Iodz1uZXcgdmUoTGUpLEU9dy5jPVtdLGRlPVkuZS1pZS5lLExlPXNlK2RlKzEsbmV8fChuZT1iLGRlPUMoWS5lL18pLUMoaWUuZS9fKSxMZT1MZS9ffDApLHBlPTA7SmVbcGVdPT0oS2VbcGVdfHwwKTtwZSsrKTtpZihKZVtwZV0+KEtlW3BlXXx8MCkmJmRlLS0sTGU8MClFLnB1c2goMSksYmU9ITA7ZWxzZXtmb3IoU2U9S2UubGVuZ3RoLEJlPUplLmxlbmd0aCxwZT0wLExlKz0yLHdlPXAobmUvKEplWzBdKzEpKSx3ZT4xJiYoSmU9WChKZSx3ZSxuZSksS2U9WChLZSx3ZSxuZSksQmU9SmUubGVuZ3RoLFNlPUtlLmxlbmd0aCksY2U9QmUsRD1LZS5zbGljZSgwLEJlKSxWPUQubGVuZ3RoO1Y8QmU7RFtWKytdPTApO0RlPUplLnNsaWNlKCksRGU9WzBdLmNvbmNhdChEZSksa2U9SmVbMF0sSmVbMV0+PW5lLzImJmtlKys7ZG97aWYod2U9MCx1ZT1vZShKZSxELEJlLFYpLHVlPDApe2lmKFo9RFswXSxCZSE9ViYmKFo9WipuZSsoRFsxXXx8MCkpLHdlPXAoWi9rZSksd2U+MSlmb3Iod2U+PW5lJiYod2U9bmUtMSksT2U9WChKZSx3ZSxuZSksST1PZS5sZW5ndGgsVj1ELmxlbmd0aDtvZShPZSxELEksVik9PTE7KXdlLS0sUShPZSxCZTxJP0RlOkplLEksbmUpLEk9T2UubGVuZ3RoLHVlPTE7ZWxzZSB3ZT09MCYmKHVlPXdlPTEpLE9lPUplLnNsaWNlKCksST1PZS5sZW5ndGg7aWYoSTxWJiYoT2U9WzBdLmNvbmNhdChPZSkpLFEoRCxPZSxWLG5lKSxWPUQubGVuZ3RoLHVlPT0tMSlmb3IoO29lKEplLEQsQmUsVik8MTspd2UrKyxRKEQsQmU8Vj9EZTpKZSxWLG5lKSxWPUQubGVuZ3RofWVsc2UgdWU9PT0wJiYod2UrKyxEPVswXSk7RVtwZSsrXT13ZSxEWzBdP0RbVisrXT1LZVtjZV18fDA6KEQ9W0tlW2NlXV0sVj0xKX13aGlsZSgoY2UrKzxTZXx8RFswXSE9bnVsbCkmJkxlLS0pO2JlPURbMF0hPW51bGwsRVswXXx8RS5zcGxpY2UoMCwxKX1pZihuZT09Yil7Zm9yKHBlPTEsTGU9RVswXTtMZT49MTA7TGUvPTEwLHBlKyspO0ZlKHcsc2UrKHcuZT1wZStkZSpfLTEpKzEsbGUsYmUpfWVsc2Ugdy5lPWRlLHcucj0rYmU7cmV0dXJuIHd9fSgpO2Z1bmN0aW9uIENlKFgsb2UsUSxZKXt2YXIgaWUsc2UsbGUsbmUsdWU7aWYoUT09bnVsbD9RPUg6UChRLDAsOCksIVguYylyZXR1cm4gWC50b1N0cmluZygpO2lmKGllPVguY1swXSxsZT1YLmUsb2U9PW51bGwpdWU9TChYLmMpLHVlPVk9PTF8fFk9PTImJihsZTw9ZWV8fGxlPj1nZSk/ayh1ZSxsZSk6Sih1ZSxsZSwiMCIpO2Vsc2UgaWYoWD1GZShuZXcgdmUoWCksb2UsUSksc2U9WC5lLHVlPUwoWC5jKSxuZT11ZS5sZW5ndGgsWT09MXx8WT09MiYmKG9lPD1zZXx8c2U8PWVlKSl7Zm9yKDtuZTxvZTt1ZSs9IjAiLG5lKyspO3VlPWsodWUsc2UpfWVsc2UgaWYob2UtPWxlLHVlPUoodWUsc2UsIjAiKSxzZSsxPm5lKXtpZigtLW9lPjApZm9yKHVlKz0iLiI7b2UtLTt1ZSs9IjAiKTt9ZWxzZSBpZihvZSs9c2UtbmUsb2U+MClmb3Ioc2UrMT09bmUmJih1ZSs9Ii4iKTtvZS0tO3VlKz0iMCIpO3JldHVybiBYLnM8MCYmaWU/Ii0iK3VlOnVlfWZ1bmN0aW9uIE1lKFgsb2Upe2Zvcih2YXIgUSxZPTEsaWU9bmV3IHZlKFhbMF0pO1k8WC5sZW5ndGg7WSsrKWlmKFE9bmV3IHZlKFhbWV0pLFEucylvZS5jYWxsKGllLFEpJiYoaWU9USk7ZWxzZXtpZT1RO2JyZWFrfXJldHVybiBpZX1mdW5jdGlvbiBVZShYLG9lLFEpe2Zvcih2YXIgWT0xLGllPW9lLmxlbmd0aDshb2VbLS1pZV07b2UucG9wKCkpO2ZvcihpZT1vZVswXTtpZT49MTA7aWUvPTEwLFkrKyk7cmV0dXJuKFE9WStRKl8tMSk+ZmU/WC5jPVguZT1udWxsOlE8bWU/WC5jPVtYLmU9MF06KFguZT1RLFguYz1vZSksWH1yZT1mdW5jdGlvbigpe3ZhciBYPS9eKC0/KTAoW3hib10pKD89XHdbXHcuXSokKS9pLG9lPS9eKFteLl0rKVwuJC8sUT0vXlwuKFteLl0rKSQvLFk9L14tPyhJbmZpbml0eXxOYU4pJC8saWU9L15ccypcKyg/PVtcdy5dKXxeXHMrfFxzKyQvZztyZXR1cm4gZnVuY3Rpb24oc2UsbGUsbmUsdWUpe3ZhciBkZSxwZT1uZT9sZTpsZS5yZXBsYWNlKGllLCIiKTtpZihZLnRlc3QocGUpKXNlLnM9aXNOYU4ocGUpP251bGw6cGU8MD8tMToxO2Vsc2V7aWYoIW5lJiYocGU9cGUucmVwbGFjZShYLGZ1bmN0aW9uKGJlLHdlLE9lKXtyZXR1cm4gZGU9KE9lPU9lLnRvTG93ZXJDYXNlKCkpPT0ieCI/MTY6T2U9PSJiIj8yOjgsIXVlfHx1ZT09ZGU/d2U6YmV9KSx1ZSYmKGRlPXVlLHBlPXBlLnJlcGxhY2Uob2UsIiQxIikucmVwbGFjZShRLCIwLiQxIikpLGxlIT1wZSkpcmV0dXJuIG5ldyB2ZShwZSxkZSk7aWYodmUuREVCVUcpdGhyb3cgRXJyb3IoZysiTm90IGEiKyh1ZT8iIGJhc2UgIit1ZToiIikrIiBudW1iZXI6ICIrbGUpO3NlLnM9bnVsbH1zZS5jPXNlLmU9bnVsbH19KCk7ZnVuY3Rpb24gRmUoWCxvZSxRLFkpe3ZhciBpZSxzZSxsZSxuZSx1ZSxkZSxwZSxiZT1YLmMsd2U9VDtpZihiZSl7ZTp7Zm9yKGllPTEsbmU9YmVbMF07bmU+PTEwO25lLz0xMCxpZSsrKTtpZihzZT1vZS1pZSxzZTwwKXNlKz1fLGxlPW9lLHVlPWJlW2RlPTBdLHBlPXVlL3dlW2llLWxlLTFdJTEwfDA7ZWxzZSBpZihkZT11KChzZSsxKS9fKSxkZT49YmUubGVuZ3RoKWlmKFkpe2Zvcig7YmUubGVuZ3RoPD1kZTtiZS5wdXNoKDApKTt1ZT1wZT0wLGllPTEsc2UlPV8sbGU9c2UtXysxfWVsc2UgYnJlYWsgZTtlbHNle2Zvcih1ZT1uZT1iZVtkZV0saWU9MTtuZT49MTA7bmUvPTEwLGllKyspO3NlJT1fLGxlPXNlLV8raWUscGU9bGU8MD8wOnVlL3dlW2llLWxlLTFdJTEwfDB9aWYoWT1ZfHxvZTwwfHxiZVtkZSsxXSE9bnVsbHx8KGxlPDA/dWU6dWUld2VbaWUtbGUtMV0pLFk9UTw0PyhwZXx8WSkmJihRPT0wfHxRPT0oWC5zPDA/MzoyKSk6cGU+NXx8cGU9PTUmJihRPT00fHxZfHxRPT02JiYoc2U+MD9sZT4wP3VlL3dlW2llLWxlXTowOmJlW2RlLTFdKSUxMCYxfHxRPT0oWC5zPDA/ODo3KSksb2U8MXx8IWJlWzBdKXJldHVybiBiZS5sZW5ndGg9MCxZPyhvZS09WC5lKzEsYmVbMF09d2VbKF8tb2UlXyklX10sWC5lPS1vZXx8MCk6YmVbMF09WC5lPTAsWDtpZihzZT09MD8oYmUubGVuZ3RoPWRlLG5lPTEsZGUtLSk6KGJlLmxlbmd0aD1kZSsxLG5lPXdlW18tc2VdLGJlW2RlXT1sZT4wP3AodWUvd2VbaWUtbGVdJXdlW2xlXSkqbmU6MCksWSlmb3IoOzspaWYoZGU9PTApe2ZvcihzZT0xLGxlPWJlWzBdO2xlPj0xMDtsZS89MTAsc2UrKyk7Zm9yKGxlPWJlWzBdKz1uZSxuZT0xO2xlPj0xMDtsZS89MTAsbmUrKyk7c2UhPW5lJiYoWC5lKyssYmVbMF09PWImJihiZVswXT0xKSk7YnJlYWt9ZWxzZXtpZihiZVtkZV0rPW5lLGJlW2RlXSE9YilicmVhaztiZVtkZS0tXT0wLG5lPTF9Zm9yKHNlPWJlLmxlbmd0aDtiZVstLXNlXT09PTA7YmUucG9wKCkpO31YLmU+ZmU/WC5jPVguZT1udWxsOlguZTxtZSYmKFguYz1bWC5lPTBdKX1yZXR1cm4gWH1mdW5jdGlvbiAkZShYKXt2YXIgb2UsUT1YLmU7cmV0dXJuIFE9PT1udWxsP1gudG9TdHJpbmcoKToob2U9TChYLmMpLG9lPVE8PWVlfHxRPj1nZT9rKG9lLFEpOkoob2UsUSwiMCIpLFguczwwPyItIitvZTpvZSl9cmV0dXJuIE0uYWJzb2x1dGVWYWx1ZT1NLmFicz1mdW5jdGlvbigpe3ZhciBYPW5ldyB2ZSh0aGlzKTtyZXR1cm4gWC5zPDAmJihYLnM9MSksWH0sTS5jb21wYXJlZFRvPWZ1bmN0aW9uKFgsb2Upe3JldHVybiBTKHRoaXMsbmV3IHZlKFgsb2UpKX0sTS5kZWNpbWFsUGxhY2VzPU0uZHA9ZnVuY3Rpb24oWCxvZSl7dmFyIFEsWSxpZSxzZT10aGlzO2lmKFghPW51bGwpcmV0dXJuIFAoWCwwLE4pLG9lPT1udWxsP29lPUg6UChvZSwwLDgpLEZlKG5ldyB2ZShzZSksWCtzZS5lKzEsb2UpO2lmKCEoUT1zZS5jKSlyZXR1cm4gbnVsbDtpZihZPSgoaWU9US5sZW5ndGgtMSktQyh0aGlzLmUvXykpKl8saWU9UVtpZV0pZm9yKDtpZSUxMD09MDtpZS89MTAsWS0tKTtyZXR1cm4gWTwwJiYoWT0wKSxZfSxNLmRpdmlkZWRCeT1NLmRpdj1mdW5jdGlvbihYLG9lKXtyZXR1cm4gcSh0aGlzLG5ldyB2ZShYLG9lKSxVLEgpfSxNLmRpdmlkZWRUb0ludGVnZXJCeT1NLmlkaXY9ZnVuY3Rpb24oWCxvZSl7cmV0dXJuIHEodGhpcyxuZXcgdmUoWCxvZSksMCwxKX0sTS5leHBvbmVudGlhdGVkQnk9TS5wb3c9ZnVuY3Rpb24oWCxvZSl7dmFyIFEsWSxpZSxzZSxsZSxuZSx1ZSxkZSxwZSxiZT10aGlzO2lmKFg9bmV3IHZlKFgpLFguYyYmIVguaXNJbnRlZ2VyKCkpdGhyb3cgRXJyb3IoZysiRXhwb25lbnQgbm90IGFuIGludGVnZXI6ICIrJGUoWCkpO2lmKG9lIT1udWxsJiYob2U9bmV3IHZlKG9lKSksbmU9WC5lPjE0LCFiZS5jfHwhYmUuY1swXXx8YmUuY1swXT09MSYmIWJlLmUmJmJlLmMubGVuZ3RoPT0xfHwhWC5jfHwhWC5jWzBdKXJldHVybiBwZT1uZXcgdmUoTWF0aC5wb3coKyRlKGJlKSxuZT9YLnMqKDItRihYKSk6KyRlKFgpKSksb2U/cGUubW9kKG9lKTpwZTtpZih1ZT1YLnM8MCxvZSl7aWYob2UuYz8hb2UuY1swXTohb2UucylyZXR1cm4gbmV3IHZlKE5hTik7WT0hdWUmJmJlLmlzSW50ZWdlcigpJiZvZS5pc0ludGVnZXIoKSxZJiYoYmU9YmUubW9kKG9lKSl9ZWxzZXtpZihYLmU+OSYmKGJlLmU+MHx8YmUuZTwtMXx8KGJlLmU9PTA/YmUuY1swXT4xfHxuZSYmYmUuY1sxXT49MjRlNzpiZS5jWzBdPDhlMTN8fG5lJiZiZS5jWzBdPD05OTk5OTc1ZTcpKSlyZXR1cm4gc2U9YmUuczwwJiZGKFgpPy0wOjAsYmUuZT4tMSYmKHNlPTEvc2UpLG5ldyB2ZSh1ZT8xL3NlOnNlKTt4ZSYmKHNlPXUoeGUvXysyKSl9Zm9yKG5lPyhRPW5ldyB2ZSguNSksdWUmJihYLnM9MSksZGU9RihYKSk6KGllPU1hdGguYWJzKCskZShYKSksZGU9aWUlMikscGU9bmV3IHZlKCQpOzspe2lmKGRlKXtpZihwZT1wZS50aW1lcyhiZSksIXBlLmMpYnJlYWs7c2U/cGUuYy5sZW5ndGg+c2UmJihwZS5jLmxlbmd0aD1zZSk6WSYmKHBlPXBlLm1vZChvZSkpfWlmKGllKXtpZihpZT1wKGllLzIpLGllPT09MClicmVhaztkZT1pZSUyfWVsc2UgaWYoWD1YLnRpbWVzKFEpLEZlKFgsWC5lKzEsMSksWC5lPjE0KWRlPUYoWCk7ZWxzZXtpZihpZT0rJGUoWCksaWU9PT0wKWJyZWFrO2RlPWllJTJ9YmU9YmUudGltZXMoYmUpLHNlP2JlLmMmJmJlLmMubGVuZ3RoPnNlJiYoYmUuYy5sZW5ndGg9c2UpOlkmJihiZT1iZS5tb2Qob2UpKX1yZXR1cm4gWT9wZToodWUmJihwZT0kLmRpdihwZSkpLG9lP3BlLm1vZChvZSk6c2U/RmUocGUseGUsSCxsZSk6cGUpfSxNLmludGVnZXJWYWx1ZT1mdW5jdGlvbihYKXt2YXIgb2U9bmV3IHZlKHRoaXMpO3JldHVybiBYPT1udWxsP1g9SDpQKFgsMCw4KSxGZShvZSxvZS5lKzEsWCl9LE0uaXNFcXVhbFRvPU0uZXE9ZnVuY3Rpb24oWCxvZSl7cmV0dXJuIFModGhpcyxuZXcgdmUoWCxvZSkpPT09MH0sTS5pc0Zpbml0ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jfSxNLmlzR3JlYXRlclRoYW49TS5ndD1mdW5jdGlvbihYLG9lKXtyZXR1cm4gUyh0aGlzLG5ldyB2ZShYLG9lKSk+MH0sTS5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvPU0uZ3RlPWZ1bmN0aW9uKFgsb2Upe3JldHVybihvZT1TKHRoaXMsbmV3IHZlKFgsb2UpKSk9PT0xfHxvZT09PTB9LE0uaXNJbnRlZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmMmJkModGhpcy5lL18pPnRoaXMuYy5sZW5ndGgtMn0sTS5pc0xlc3NUaGFuPU0ubHQ9ZnVuY3Rpb24oWCxvZSl7cmV0dXJuIFModGhpcyxuZXcgdmUoWCxvZSkpPDB9LE0uaXNMZXNzVGhhbk9yRXF1YWxUbz1NLmx0ZT1mdW5jdGlvbihYLG9lKXtyZXR1cm4ob2U9Uyh0aGlzLG5ldyB2ZShYLG9lKSkpPT09LTF8fG9lPT09MH0sTS5pc05hTj1mdW5jdGlvbigpe3JldHVybiF0aGlzLnN9LE0uaXNOZWdhdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnM8MH0sTS5pc1Bvc2l0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucz4wfSxNLmlzWmVybz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jJiZ0aGlzLmNbMF09PTB9LE0ubWludXM9ZnVuY3Rpb24oWCxvZSl7dmFyIFEsWSxpZSxzZSxsZT10aGlzLG5lPWxlLnM7aWYoWD1uZXcgdmUoWCxvZSksb2U9WC5zLCFuZXx8IW9lKXJldHVybiBuZXcgdmUoTmFOKTtpZihuZSE9b2UpcmV0dXJuIFgucz0tb2UsbGUucGx1cyhYKTt2YXIgdWU9bGUuZS9fLGRlPVguZS9fLHBlPWxlLmMsYmU9WC5jO2lmKCF1ZXx8IWRlKXtpZighcGV8fCFiZSlyZXR1cm4gcGU/KFgucz0tb2UsWCk6bmV3IHZlKGJlP2xlOk5hTik7aWYoIXBlWzBdfHwhYmVbMF0pcmV0dXJuIGJlWzBdPyhYLnM9LW9lLFgpOm5ldyB2ZShwZVswXT9sZTpIPT0zPy0wOjApfWlmKHVlPUModWUpLGRlPUMoZGUpLHBlPXBlLnNsaWNlKCksbmU9dWUtZGUpe2Zvcigoc2U9bmU8MCk/KG5lPS1uZSxpZT1wZSk6KGRlPXVlLGllPWJlKSxpZS5yZXZlcnNlKCksb2U9bmU7b2UtLTtpZS5wdXNoKDApKTtpZS5yZXZlcnNlKCl9ZWxzZSBmb3IoWT0oc2U9KG5lPXBlLmxlbmd0aCk8KG9lPWJlLmxlbmd0aCkpP25lOm9lLG5lPW9lPTA7b2U8WTtvZSsrKWlmKHBlW29lXSE9YmVbb2VdKXtzZT1wZVtvZV08YmVbb2VdO2JyZWFrfWlmKHNlJiYoaWU9cGUscGU9YmUsYmU9aWUsWC5zPS1YLnMpLG9lPShZPWJlLmxlbmd0aCktKFE9cGUubGVuZ3RoKSxvZT4wKWZvcig7b2UtLTtwZVtRKytdPTApO2ZvcihvZT1iLTE7WT5uZTspe2lmKHBlWy0tWV08YmVbWV0pe2ZvcihRPVk7USYmIXBlWy0tUV07cGVbUV09b2UpOy0tcGVbUV0scGVbWV0rPWJ9cGVbWV0tPWJlW1ldfWZvcig7cGVbMF09PTA7cGUuc3BsaWNlKDAsMSksLS1kZSk7cmV0dXJuIHBlWzBdP1VlKFgscGUsZGUpOihYLnM9SD09Mz8tMToxLFguYz1bWC5lPTBdLFgpfSxNLm1vZHVsbz1NLm1vZD1mdW5jdGlvbihYLG9lKXt2YXIgUSxZLGllPXRoaXM7cmV0dXJuIFg9bmV3IHZlKFgsb2UpLCFpZS5jfHwhWC5zfHxYLmMmJiFYLmNbMF0/bmV3IHZlKE5hTik6IVguY3x8aWUuYyYmIWllLmNbMF0/bmV3IHZlKGllKTooX2U9PTk/KFk9WC5zLFgucz0xLFE9cShpZSxYLDAsMyksWC5zPVksUS5zKj1ZKTpRPXEoaWUsWCwwLF9lKSxYPWllLm1pbnVzKFEudGltZXMoWCkpLCFYLmNbMF0mJl9lPT0xJiYoWC5zPWllLnMpLFgpfSxNLm11bHRpcGxpZWRCeT1NLnRpbWVzPWZ1bmN0aW9uKFgsb2Upe3ZhciBRLFksaWUsc2UsbGUsbmUsdWUsZGUscGUsYmUsd2UsT2UsSSx3LEUsRD10aGlzLFY9RC5jLFo9KFg9bmV3IHZlKFgsb2UpKS5jO2lmKCFWfHwhWnx8IVZbMF18fCFaWzBdKXJldHVybiFELnN8fCFYLnN8fFYmJiFWWzBdJiYhWnx8WiYmIVpbMF0mJiFWP1guYz1YLmU9WC5zPW51bGw6KFgucyo9RC5zLCFWfHwhWj9YLmM9WC5lPW51bGw6KFguYz1bMF0sWC5lPTApKSxYO2ZvcihZPUMoRC5lL18pK0MoWC5lL18pLFgucyo9RC5zLHVlPVYubGVuZ3RoLGJlPVoubGVuZ3RoLHVlPGJlJiYoST1WLFY9WixaPUksaWU9dWUsdWU9YmUsYmU9aWUpLGllPXVlK2JlLEk9W107aWUtLTtJLnB1c2goMCkpO2Zvcih3PWIsRT1qLGllPWJlOy0taWU+PTA7KXtmb3IoUT0wLHdlPVpbaWVdJUUsT2U9WltpZV0vRXwwLGxlPXVlLHNlPWllK2xlO3NlPmllOylkZT1WWy0tbGVdJUUscGU9VltsZV0vRXwwLG5lPU9lKmRlK3BlKndlLGRlPXdlKmRlK25lJUUqRStJW3NlXStRLFE9KGRlL3d8MCkrKG5lL0V8MCkrT2UqcGUsSVtzZS0tXT1kZSV3O0lbc2VdPVF9cmV0dXJuIFE/KytZOkkuc3BsaWNlKDAsMSksVWUoWCxJLFkpfSxNLm5lZ2F0ZWQ9ZnVuY3Rpb24oKXt2YXIgWD1uZXcgdmUodGhpcyk7cmV0dXJuIFgucz0tWC5zfHxudWxsLFh9LE0ucGx1cz1mdW5jdGlvbihYLG9lKXt2YXIgUSxZPXRoaXMsaWU9WS5zO2lmKFg9bmV3IHZlKFgsb2UpLG9lPVgucywhaWV8fCFvZSlyZXR1cm4gbmV3IHZlKE5hTik7aWYoaWUhPW9lKXJldHVybiBYLnM9LW9lLFkubWludXMoWCk7dmFyIHNlPVkuZS9fLGxlPVguZS9fLG5lPVkuYyx1ZT1YLmM7aWYoIXNlfHwhbGUpe2lmKCFuZXx8IXVlKXJldHVybiBuZXcgdmUoaWUvMCk7aWYoIW5lWzBdfHwhdWVbMF0pcmV0dXJuIHVlWzBdP1g6bmV3IHZlKG5lWzBdP1k6aWUqMCl9aWYoc2U9QyhzZSksbGU9QyhsZSksbmU9bmUuc2xpY2UoKSxpZT1zZS1sZSl7Zm9yKGllPjA/KGxlPXNlLFE9dWUpOihpZT0taWUsUT1uZSksUS5yZXZlcnNlKCk7aWUtLTtRLnB1c2goMCkpO1EucmV2ZXJzZSgpfWZvcihpZT1uZS5sZW5ndGgsb2U9dWUubGVuZ3RoLGllLW9lPDAmJihRPXVlLHVlPW5lLG5lPVEsb2U9aWUpLGllPTA7b2U7KWllPShuZVstLW9lXT1uZVtvZV0rdWVbb2VdK2llKS9ifDAsbmVbb2VdPWI9PT1uZVtvZV0/MDpuZVtvZV0lYjtyZXR1cm4gaWUmJihuZT1baWVdLmNvbmNhdChuZSksKytsZSksVWUoWCxuZSxsZSl9LE0ucHJlY2lzaW9uPU0uc2Q9ZnVuY3Rpb24oWCxvZSl7dmFyIFEsWSxpZSxzZT10aGlzO2lmKFghPW51bGwmJlghPT0hIVgpcmV0dXJuIFAoWCwxLE4pLG9lPT1udWxsP29lPUg6UChvZSwwLDgpLEZlKG5ldyB2ZShzZSksWCxvZSk7aWYoIShRPXNlLmMpKXJldHVybiBudWxsO2lmKGllPVEubGVuZ3RoLTEsWT1pZSpfKzEsaWU9UVtpZV0pe2Zvcig7aWUlMTA9PTA7aWUvPTEwLFktLSk7Zm9yKGllPVFbMF07aWU+PTEwO2llLz0xMCxZKyspO31yZXR1cm4gWCYmc2UuZSsxPlkmJihZPXNlLmUrMSksWX0sTS5zaGlmdGVkQnk9ZnVuY3Rpb24oWCl7cmV0dXJuIFAoWCwtTyxPKSx0aGlzLnRpbWVzKCIxZSIrWCl9LE0uc3F1YXJlUm9vdD1NLnNxcnQ9ZnVuY3Rpb24oKXt2YXIgWCxvZSxRLFksaWUsc2U9dGhpcyxsZT1zZS5jLG5lPXNlLnMsdWU9c2UuZSxkZT1VKzQscGU9bmV3IHZlKCIwLjUiKTtpZihuZSE9PTF8fCFsZXx8IWxlWzBdKXJldHVybiBuZXcgdmUoIW5lfHxuZTwwJiYoIWxlfHxsZVswXSk/TmFOOmxlP3NlOjEvMCk7aWYobmU9TWF0aC5zcXJ0KCskZShzZSkpLG5lPT0wfHxuZT09MS8wPyhvZT1MKGxlKSwob2UubGVuZ3RoK3VlKSUyPT0wJiYob2UrPSIwIiksbmU9TWF0aC5zcXJ0KCtvZSksdWU9QygodWUrMSkvMiktKHVlPDB8fHVlJTIpLG5lPT0xLzA/b2U9IjVlIit1ZToob2U9bmUudG9FeHBvbmVudGlhbCgpLG9lPW9lLnNsaWNlKDAsb2UuaW5kZXhPZigiZSIpKzEpK3VlKSxRPW5ldyB2ZShvZSkpOlE9bmV3IHZlKG5lKyIiKSxRLmNbMF0pe2Zvcih1ZT1RLmUsbmU9dWUrZGUsbmU8MyYmKG5lPTApOzspaWYoaWU9USxRPXBlLnRpbWVzKGllLnBsdXMocShzZSxpZSxkZSwxKSkpLEwoaWUuYykuc2xpY2UoMCxuZSk9PT0ob2U9TChRLmMpKS5zbGljZSgwLG5lKSlpZihRLmU8dWUmJi0tbmUsb2U9b2Uuc2xpY2UobmUtMyxuZSsxKSxvZT09Ijk5OTkifHwhWSYmb2U9PSI0OTk5Iil7aWYoIVkmJihGZShpZSxpZS5lK1UrMiwwKSxpZS50aW1lcyhpZSkuZXEoc2UpKSl7UT1pZTticmVha31kZSs9NCxuZSs9NCxZPTF9ZWxzZXsoIStvZXx8IStvZS5zbGljZSgxKSYmb2UuY2hhckF0KDApPT0iNSIpJiYoRmUoUSxRLmUrVSsyLDEpLFg9IVEudGltZXMoUSkuZXEoc2UpKTticmVha319cmV0dXJuIEZlKFEsUS5lK1UrMSxILFgpfSxNLnRvRXhwb25lbnRpYWw9ZnVuY3Rpb24oWCxvZSl7cmV0dXJuIFghPW51bGwmJihQKFgsMCxOKSxYKyspLENlKHRoaXMsWCxvZSwxKX0sTS50b0ZpeGVkPWZ1bmN0aW9uKFgsb2Upe3JldHVybiBYIT1udWxsJiYoUChYLDAsTiksWD1YK3RoaXMuZSsxKSxDZSh0aGlzLFgsb2UpfSxNLnRvRm9ybWF0PWZ1bmN0aW9uKFgsb2UsUSl7dmFyIFksaWU9dGhpcztpZihRPT1udWxsKVghPW51bGwmJm9lJiZ0eXBlb2Ygb2U9PSJvYmplY3QiPyhRPW9lLG9lPW51bGwpOlgmJnR5cGVvZiBYPT0ib2JqZWN0Ij8oUT1YLFg9b2U9bnVsbCk6UT1OZTtlbHNlIGlmKHR5cGVvZiBRIT0ib2JqZWN0Iil0aHJvdyBFcnJvcihnKyJBcmd1bWVudCBub3QgYW4gb2JqZWN0OiAiK1EpO2lmKFk9aWUudG9GaXhlZChYLG9lKSxpZS5jKXt2YXIgc2UsbGU9WS5zcGxpdCgiLiIpLG5lPStRLmdyb3VwU2l6ZSx1ZT0rUS5zZWNvbmRhcnlHcm91cFNpemUsZGU9US5ncm91cFNlcGFyYXRvcnx8IiIscGU9bGVbMF0sYmU9bGVbMV0sd2U9aWUuczwwLE9lPXdlP3BlLnNsaWNlKDEpOnBlLEk9T2UubGVuZ3RoO2lmKHVlJiYoc2U9bmUsbmU9dWUsdWU9c2UsSS09c2UpLG5lPjAmJkk+MCl7Zm9yKHNlPUklbmV8fG5lLHBlPU9lLnN1YnN0cigwLHNlKTtzZTxJO3NlKz1uZSlwZSs9ZGUrT2Uuc3Vic3RyKHNlLG5lKTt1ZT4wJiYocGUrPWRlK09lLnNsaWNlKHNlKSksd2UmJihwZT0iLSIrcGUpfVk9YmU/cGUrKFEuZGVjaW1hbFNlcGFyYXRvcnx8IiIpKygodWU9K1EuZnJhY3Rpb25Hcm91cFNpemUpP2JlLnJlcGxhY2UobmV3IFJlZ0V4cCgiXFxkeyIrdWUrIn1cXEIiLCJnIiksIiQmIisoUS5mcmFjdGlvbkdyb3VwU2VwYXJhdG9yfHwiIikpOmJlKTpwZX1yZXR1cm4oUS5wcmVmaXh8fCIiKStZKyhRLnN1ZmZpeHx8IiIpfSxNLnRvRnJhY3Rpb249ZnVuY3Rpb24oWCl7dmFyIG9lLFEsWSxpZSxzZSxsZSxuZSx1ZSxkZSxwZSxiZSx3ZSxPZT10aGlzLEk9T2UuYztpZihYIT1udWxsJiYobmU9bmV3IHZlKFgpLCFuZS5pc0ludGVnZXIoKSYmKG5lLmN8fG5lLnMhPT0xKXx8bmUubHQoJCkpKXRocm93IEVycm9yKGcrIkFyZ3VtZW50ICIrKG5lLmlzSW50ZWdlcigpPyJvdXQgb2YgcmFuZ2U6ICI6Im5vdCBhbiBpbnRlZ2VyOiAiKSskZShuZSkpO2lmKCFJKXJldHVybiBuZXcgdmUoT2UpO2ZvcihvZT1uZXcgdmUoJCksZGU9UT1uZXcgdmUoJCksWT11ZT1uZXcgdmUoJCksd2U9TChJKSxzZT1vZS5lPXdlLmxlbmd0aC1PZS5lLTEsb2UuY1swXT1UWyhsZT1zZSVfKTwwP18rbGU6bGVdLFg9IVh8fG5lLmNvbXBhcmVkVG8ob2UpPjA/c2U+MD9vZTpkZTpuZSxsZT1mZSxmZT0xLzAsbmU9bmV3IHZlKHdlKSx1ZS5jWzBdPTA7cGU9cShuZSxvZSwwLDEpLGllPVEucGx1cyhwZS50aW1lcyhZKSksaWUuY29tcGFyZWRUbyhYKSE9MTspUT1ZLFk9aWUsZGU9dWUucGx1cyhwZS50aW1lcyhpZT1kZSkpLHVlPWllLG9lPW5lLm1pbnVzKHBlLnRpbWVzKGllPW9lKSksbmU9aWU7cmV0dXJuIGllPXEoWC5taW51cyhRKSxZLDAsMSksdWU9dWUucGx1cyhpZS50aW1lcyhkZSkpLFE9US5wbHVzKGllLnRpbWVzKFkpKSx1ZS5zPWRlLnM9T2UucyxzZT1zZSoyLGJlPXEoZGUsWSxzZSxIKS5taW51cyhPZSkuYWJzKCkuY29tcGFyZWRUbyhxKHVlLFEsc2UsSCkubWludXMoT2UpLmFicygpKTwxP1tkZSxZXTpbdWUsUV0sZmU9bGUsYmV9LE0udG9OdW1iZXI9ZnVuY3Rpb24oKXtyZXR1cm4rJGUodGhpcyl9LE0udG9QcmVjaXNpb249ZnVuY3Rpb24oWCxvZSl7cmV0dXJuIFghPW51bGwmJlAoWCwxLE4pLENlKHRoaXMsWCxvZSwyKX0sTS50b1N0cmluZz1mdW5jdGlvbihYKXt2YXIgb2UsUT10aGlzLFk9US5zLGllPVEuZTtyZXR1cm4gaWU9PT1udWxsP1k/KG9lPSJJbmZpbml0eSIsWTwwJiYob2U9Ii0iK29lKSk6b2U9Ik5hTiI6KFg9PW51bGw/b2U9aWU8PWVlfHxpZT49Z2U/ayhMKFEuYyksaWUpOkooTChRLmMpLGllLCIwIik6WD09PTEwJiZSZT8oUT1GZShuZXcgdmUoUSksVStpZSsxLEgpLG9lPUooTChRLmMpLFEuZSwiMCIpKTooUChYLDIsSWUubGVuZ3RoLCJCYXNlIiksb2U9RyhKKEwoUS5jKSxpZSwiMCIpLDEwLFgsWSwhMCkpLFk8MCYmUS5jWzBdJiYob2U9Ii0iK29lKSksb2V9LE0udmFsdWVPZj1NLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiAkZSh0aGlzKX0sTS5faXNCaWdOdW1iZXI9ITAsYWUhPW51bGwmJnZlLnNldChhZSksdmV9ZnVuY3Rpb24gQyhhZSl7dmFyIHE9YWV8MDtyZXR1cm4gYWU+MHx8YWU9PT1xP3E6cS0xfWZ1bmN0aW9uIEwoYWUpe2Zvcih2YXIgcSxHLHJlPTEsTT1hZS5sZW5ndGgsJD1hZVswXSsiIjtyZTxNOyl7Zm9yKHE9YWVbcmUrK10rIiIsRz1fLXEubGVuZ3RoO0ctLTtxPSIwIitxKTskKz1xfWZvcihNPSQubGVuZ3RoOyQuY2hhckNvZGVBdCgtLU0pPT09NDg7KTtyZXR1cm4gJC5zbGljZSgwLE0rMXx8MSl9ZnVuY3Rpb24gUyhhZSxxKXt2YXIgRyxyZSxNPWFlLmMsJD1xLmMsVT1hZS5zLEg9cS5zLGVlPWFlLmUsZ2U9cS5lO2lmKCFVfHwhSClyZXR1cm4gbnVsbDtpZihHPU0mJiFNWzBdLHJlPSQmJiEkWzBdLEd8fHJlKXJldHVybiBHP3JlPzA6LUg6VTtpZihVIT1IKXJldHVybiBVO2lmKEc9VTwwLHJlPWVlPT1nZSwhTXx8ISQpcmV0dXJuIHJlPzA6IU1eRz8xOi0xO2lmKCFyZSlyZXR1cm4gZWU+Z2VeRz8xOi0xO2ZvcihIPShlZT1NLmxlbmd0aCk8KGdlPSQubGVuZ3RoKT9lZTpnZSxVPTA7VTxIO1UrKylpZihNW1VdIT0kW1VdKXJldHVybiBNW1VdPiRbVV1eRz8xOi0xO3JldHVybiBlZT09Z2U/MDplZT5nZV5HPzE6LTF9ZnVuY3Rpb24gUChhZSxxLEcscmUpe2lmKGFlPHF8fGFlPkd8fGFlIT09cChhZSkpdGhyb3cgRXJyb3IoZysocmV8fCJBcmd1bWVudCIpKyh0eXBlb2YgYWU9PSJudW1iZXIiP2FlPHF8fGFlPkc/IiBvdXQgb2YgcmFuZ2U6ICI6IiBub3QgYW4gaW50ZWdlcjogIjoiIG5vdCBhIHByaW1pdGl2ZSBudW1iZXI6ICIpK1N0cmluZyhhZSkpfWZ1bmN0aW9uIEYoYWUpe3ZhciBxPWFlLmMubGVuZ3RoLTE7cmV0dXJuIEMoYWUuZS9fKT09cSYmYWUuY1txXSUyIT0wfWZ1bmN0aW9uIGsoYWUscSl7cmV0dXJuKGFlLmxlbmd0aD4xP2FlLmNoYXJBdCgwKSsiLiIrYWUuc2xpY2UoMSk6YWUpKyhxPDA/ImUiOiJlKyIpK3F9ZnVuY3Rpb24gSihhZSxxLEcpe3ZhciByZSxNO2lmKHE8MCl7Zm9yKE09RysiLiI7KytxO00rPUcpO2FlPU0rYWV9ZWxzZSBpZihyZT1hZS5sZW5ndGgsKytxPnJlKXtmb3IoTT1HLHEtPXJlOy0tcTtNKz1HKTthZSs9TX1lbHNlIHE8cmUmJihhZT1hZS5zbGljZSgwLHEpKyIuIithZS5zbGljZShxKSk7cmV0dXJuIGFlfWg9QigpLGguZGVmYXVsdD1oLkJpZ051bWJlcj1oLG89ZnVuY3Rpb24oKXtyZXR1cm4gaH0uY2FsbChlLG4sZSx0KSxvIT09dm9pZCAwJiYodC5leHBvcnRzPW8pfSkoKX0sIi4uL25vZGVfbW9kdWxlcy9jYW5vbmljYWxpemUvbGliL2Nhbm9uaWNhbGl6ZS5qcyI6dD0+e3QuZXhwb3J0cz1mdW5jdGlvbiBlKG4pe3JldHVybiBuPT09bnVsbHx8dHlwZW9mIG4hPSJvYmplY3QifHxuLnRvSlNPTiE9bnVsbD9KU09OLnN0cmluZ2lmeShuKTpBcnJheS5pc0FycmF5KG4pPyJbIituLnJlZHVjZSgobyxkLGgpPT57Y29uc3QgbD1oPT09MD8iIjoiLCIsdT1kPT09dm9pZCAwfHx0eXBlb2YgZD09InN5bWJvbCI/bnVsbDpkO3JldHVybiBvK2wrZSh1KX0sIiIpKyJdIjoieyIrT2JqZWN0LmtleXMobikuc29ydCgpLnJlZHVjZSgobyxkLGgpPT57aWYobltkXT09PXZvaWQgMHx8dHlwZW9mIG5bZF09PSJzeW1ib2wiKXJldHVybiBvO2NvbnN0IGw9by5sZW5ndGg9PT0wPyIiOiIsIjtyZXR1cm4gbytsK2UoZCkrIjoiK2UobltkXSl9LCIiKSsifSJ9fSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2guanMiOih0LGUsbik9Pnt2YXIgbz1lO28udXRpbHM9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxvLmNvbW1vbj1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9jb21tb24uanMiKSxvLnNoYT1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEuanMiKSxvLnJpcGVtZD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9yaXBlbWQuanMiKSxvLmhtYWM9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvaG1hYy5qcyIpLG8uc2hhMT1vLnNoYS5zaGExLG8uc2hhMjU2PW8uc2hhLnNoYTI1NixvLnNoYTIyND1vLnNoYS5zaGEyMjQsby5zaGEzODQ9by5zaGEuc2hhMzg0LG8uc2hhNTEyPW8uc2hhLnNoYTUxMixvLnJpcGVtZDE2MD1vLnJpcGVtZC5yaXBlbWQxNjB9LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9jb21tb24uanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL21pbmltYWxpc3RpYy1hc3NlcnQvaW5kZXguanMiKTtmdW5jdGlvbiBoKCl7dGhpcy5wZW5kaW5nPW51bGwsdGhpcy5wZW5kaW5nVG90YWw9MCx0aGlzLmJsb2NrU2l6ZT10aGlzLmNvbnN0cnVjdG9yLmJsb2NrU2l6ZSx0aGlzLm91dFNpemU9dGhpcy5jb25zdHJ1Y3Rvci5vdXRTaXplLHRoaXMuaG1hY1N0cmVuZ3RoPXRoaXMuY29uc3RydWN0b3IuaG1hY1N0cmVuZ3RoLHRoaXMucGFkTGVuZ3RoPXRoaXMuY29uc3RydWN0b3IucGFkTGVuZ3RoLzgsdGhpcy5lbmRpYW49ImJpZyIsdGhpcy5fZGVsdGE4PXRoaXMuYmxvY2tTaXplLzgsdGhpcy5fZGVsdGEzMj10aGlzLmJsb2NrU2l6ZS8zMn1lLkJsb2NrSGFzaD1oLGgucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih1LHApe2lmKHU9by50b0FycmF5KHUscCksdGhpcy5wZW5kaW5nP3RoaXMucGVuZGluZz10aGlzLnBlbmRpbmcuY29uY2F0KHUpOnRoaXMucGVuZGluZz11LHRoaXMucGVuZGluZ1RvdGFsKz11Lmxlbmd0aCx0aGlzLnBlbmRpbmcubGVuZ3RoPj10aGlzLl9kZWx0YTgpe3U9dGhpcy5wZW5kaW5nO3ZhciBnPXUubGVuZ3RoJXRoaXMuX2RlbHRhODt0aGlzLnBlbmRpbmc9dS5zbGljZSh1Lmxlbmd0aC1nLHUubGVuZ3RoKSx0aGlzLnBlbmRpbmcubGVuZ3RoPT09MCYmKHRoaXMucGVuZGluZz1udWxsKSx1PW8uam9pbjMyKHUsMCx1Lmxlbmd0aC1nLHRoaXMuZW5kaWFuKTtmb3IodmFyIHY9MDt2PHUubGVuZ3RoO3YrPXRoaXMuX2RlbHRhMzIpdGhpcy5fdXBkYXRlKHUsdix2K3RoaXMuX2RlbHRhMzIpfXJldHVybiB0aGlzfSxoLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24odSl7cmV0dXJuIHRoaXMudXBkYXRlKHRoaXMuX3BhZCgpKSxkKHRoaXMucGVuZGluZz09PW51bGwpLHRoaXMuX2RpZ2VzdCh1KX0saC5wcm90b3R5cGUuX3BhZD1mdW5jdGlvbigpe3ZhciB1PXRoaXMucGVuZGluZ1RvdGFsLHA9dGhpcy5fZGVsdGE4LGc9cC0odSt0aGlzLnBhZExlbmd0aCklcCx2PW5ldyBBcnJheShnK3RoaXMucGFkTGVuZ3RoKTt2WzBdPTEyODtmb3IodmFyIGI9MTtiPGc7YisrKXZbYl09MDtpZih1PDw9Myx0aGlzLmVuZGlhbj09PSJiaWciKXtmb3IodmFyIF89ODtfPHRoaXMucGFkTGVuZ3RoO18rKyl2W2IrK109MDt2W2IrK109MCx2W2IrK109MCx2W2IrK109MCx2W2IrK109MCx2W2IrK109dT4+PjI0JjI1NSx2W2IrK109dT4+PjE2JjI1NSx2W2IrK109dT4+PjgmMjU1LHZbYisrXT11JjI1NX1lbHNlIGZvcih2W2IrK109dSYyNTUsdltiKytdPXU+Pj44JjI1NSx2W2IrK109dT4+PjE2JjI1NSx2W2IrK109dT4+PjI0JjI1NSx2W2IrK109MCx2W2IrK109MCx2W2IrK109MCx2W2IrK109MCxfPTg7Xzx0aGlzLnBhZExlbmd0aDtfKyspdltiKytdPTA7cmV0dXJuIHZ9fSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvaG1hYy5qcyI6KHQsZSxuKT0+e3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3V0aWxzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvbWluaW1hbGlzdGljLWFzc2VydC9pbmRleC5qcyIpO2Z1bmN0aW9uIGgobCx1LHApe2lmKCEodGhpcyBpbnN0YW5jZW9mIGgpKXJldHVybiBuZXcgaChsLHUscCk7dGhpcy5IYXNoPWwsdGhpcy5ibG9ja1NpemU9bC5ibG9ja1NpemUvOCx0aGlzLm91dFNpemU9bC5vdXRTaXplLzgsdGhpcy5pbm5lcj1udWxsLHRoaXMub3V0ZXI9bnVsbCx0aGlzLl9pbml0KG8udG9BcnJheSh1LHApKX10LmV4cG9ydHM9aCxoLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih1KXt1Lmxlbmd0aD50aGlzLmJsb2NrU2l6ZSYmKHU9bmV3IHRoaXMuSGFzaCgpLnVwZGF0ZSh1KS5kaWdlc3QoKSksZCh1Lmxlbmd0aDw9dGhpcy5ibG9ja1NpemUpO2Zvcih2YXIgcD11Lmxlbmd0aDtwPHRoaXMuYmxvY2tTaXplO3ArKyl1LnB1c2goMCk7Zm9yKHA9MDtwPHUubGVuZ3RoO3ArKyl1W3BdXj01NDtmb3IodGhpcy5pbm5lcj1uZXcgdGhpcy5IYXNoKCkudXBkYXRlKHUpLHA9MDtwPHUubGVuZ3RoO3ArKyl1W3BdXj0xMDY7dGhpcy5vdXRlcj1uZXcgdGhpcy5IYXNoKCkudXBkYXRlKHUpfSxoLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odSxwKXtyZXR1cm4gdGhpcy5pbm5lci51cGRhdGUodSxwKSx0aGlzfSxoLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24odSl7cmV0dXJuIHRoaXMub3V0ZXIudXBkYXRlKHRoaXMuaW5uZXIuZGlnZXN0KCkpLHRoaXMub3V0ZXIuZGlnZXN0KHUpfX0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3JpcGVtZC5qcyI6KHQsZSxuKT0+e3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3V0aWxzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9jb21tb24uanMiKSxoPW8ucm90bDMyLGw9by5zdW0zMix1PW8uc3VtMzJfMyxwPW8uc3VtMzJfNCxnPWQuQmxvY2tIYXNoO2Z1bmN0aW9uIHYoKXtpZighKHRoaXMgaW5zdGFuY2VvZiB2KSlyZXR1cm4gbmV3IHY7Zy5jYWxsKHRoaXMpLHRoaXMuaD1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdLHRoaXMuZW5kaWFuPSJsaXR0bGUifW8uaW5oZXJpdHModixnKSxlLnJpcGVtZDE2MD12LHYuYmxvY2tTaXplPTUxMix2Lm91dFNpemU9MTYwLHYuaG1hY1N0cmVuZ3RoPTE5Mix2LnBhZExlbmd0aD02NCx2LnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKEwsUyl7Zm9yKHZhciBQPXRoaXMuaFswXSxGPXRoaXMuaFsxXSxrPXRoaXMuaFsyXSxKPXRoaXMuaFszXSxhZT10aGlzLmhbNF0scT1QLEc9RixyZT1rLE09SiwkPWFlLFU9MDtVPDgwO1UrKyl7dmFyIEg9bChoKHAoUCxiKFUsRixrLEopLExbVFtVXStTXSxfKFUpKSxOW1VdKSxhZSk7UD1hZSxhZT1KLEo9aChrLDEwKSxrPUYsRj1ILEg9bChoKHAocSxiKDc5LVUsRyxyZSxNKSxMW2pbVV0rU10sTyhVKSksQltVXSksJCkscT0kLCQ9TSxNPWgocmUsMTApLHJlPUcsRz1IfUg9dSh0aGlzLmhbMV0sayxNKSx0aGlzLmhbMV09dSh0aGlzLmhbMl0sSiwkKSx0aGlzLmhbMl09dSh0aGlzLmhbM10sYWUscSksdGhpcy5oWzNdPXUodGhpcy5oWzRdLFAsRyksdGhpcy5oWzRdPXUodGhpcy5oWzBdLEYscmUpLHRoaXMuaFswXT1IfSx2LnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKEwpe3JldHVybiBMPT09ImhleCI/by50b0hleDMyKHRoaXMuaCwibGl0dGxlIik6by5zcGxpdDMyKHRoaXMuaCwibGl0dGxlIil9O2Z1bmN0aW9uIGIoQyxMLFMsUCl7cmV0dXJuIEM8PTE1P0xeU15QOkM8PTMxP0wmU3x+TCZQOkM8PTQ3PyhMfH5TKV5QOkM8PTYzP0wmUHxTJn5QOkxeKFN8flApfWZ1bmN0aW9uIF8oQyl7cmV0dXJuIEM8PTE1PzA6Qzw9MzE/MTUxODUwMDI0OTpDPD00Nz8xODU5Nzc1MzkzOkM8PTYzPzI0MDA5NTk3MDg6Mjg0MDg1MzgzOH1mdW5jdGlvbiBPKEMpe3JldHVybiBDPD0xNT8xMzUyODI5OTI2OkM8PTMxPzE1NDg2MDM2ODQ6Qzw9NDc/MTgzNjA3MjY5MTpDPD02Mz8yMDUzOTk0MjE3OjB9dmFyIFQ9WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsNyw0LDEzLDEsMTAsNiwxNSwzLDEyLDAsOSw1LDIsMTQsMTEsOCwzLDEwLDE0LDQsOSwxNSw4LDEsMiw3LDAsNiwxMywxMSw1LDEyLDEsOSwxMSwxMCwwLDgsMTIsNCwxMywzLDcsMTUsMTQsNSw2LDIsNCwwLDUsOSw3LDEyLDIsMTAsMTQsMSwzLDgsMTEsNiwxNSwxM10saj1bNSwxNCw3LDAsOSwyLDExLDQsMTMsNiwxNSw4LDEsMTAsMywxMiw2LDExLDMsNywwLDEzLDUsMTAsMTQsMTUsOCwxMiw0LDksMSwyLDE1LDUsMSwzLDcsMTQsNiw5LDExLDgsMTIsMiwxMCwwLDQsMTMsOCw2LDQsMSwzLDExLDE1LDAsNSwxMiwyLDEzLDksNywxMCwxNCwxMiwxNSwxMCw0LDEsNSw4LDcsNiwyLDEzLDE0LDAsMyw5LDExXSxOPVsxMSwxNCwxNSwxMiw1LDgsNyw5LDExLDEzLDE0LDE1LDYsNyw5LDgsNyw2LDgsMTMsMTEsOSw3LDE1LDcsMTIsMTUsOSwxMSw3LDEzLDEyLDExLDEzLDYsNywxNCw5LDEzLDE1LDE0LDgsMTMsNiw1LDEyLDcsNSwxMSwxMiwxNCwxNSwxNCwxNSw5LDgsOSwxNCw1LDYsOCw2LDUsMTIsOSwxNSw1LDExLDYsOCwxMywxMiw1LDEyLDEzLDE0LDExLDgsNSw2XSxCPVs4LDksOSwxMSwxMywxNSwxNSw1LDcsNyw4LDExLDE0LDE0LDEyLDYsOSwxMywxNSw3LDEyLDgsOSwxMSw3LDcsMTIsNyw2LDE1LDEzLDExLDksNywxNSwxMSw4LDYsNiwxNCwxMiwxMyw1LDE0LDEzLDEzLDcsNSwxNSw1LDgsMTEsMTQsMTQsNiwxNCw2LDksMTIsOSwxMiw1LDE1LDgsOCw1LDEyLDksMTIsNSwxNCw2LDgsMTMsNiw1LDE1LDEzLDExLDExXX0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS5qcyI6KHQsZSxuKT0+e2Uuc2hhMT1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvMS5qcyIpLGUuc2hhMjI0PW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8yMjQuanMiKSxlLnNoYTI1Nj1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvMjU2LmpzIiksZS5zaGEzODQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzM4NC5qcyIpLGUuc2hhNTEyPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS81MTIuanMiKX0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8xLmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhL2NvbW1vbi5qcyIpLGw9by5yb3RsMzIsdT1vLnN1bTMyLHA9by5zdW0zMl81LGc9aC5mdF8xLHY9ZC5CbG9ja0hhc2gsYj1bMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMzM5NTQ2OTc4Ml07ZnVuY3Rpb24gXygpe2lmKCEodGhpcyBpbnN0YW5jZW9mIF8pKXJldHVybiBuZXcgXzt2LmNhbGwodGhpcyksdGhpcy5oPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0sdGhpcy5XPW5ldyBBcnJheSg4MCl9by5pbmhlcml0cyhfLHYpLHQuZXhwb3J0cz1fLF8uYmxvY2tTaXplPTUxMixfLm91dFNpemU9MTYwLF8uaG1hY1N0cmVuZ3RoPTgwLF8ucGFkTGVuZ3RoPTY0LF8ucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oVCxqKXtmb3IodmFyIE49dGhpcy5XLEI9MDtCPDE2O0IrKylOW0JdPVRbaitCXTtmb3IoO0I8Ti5sZW5ndGg7QisrKU5bQl09bChOW0ItM11eTltCLThdXk5bQi0xNF1eTltCLTE2XSwxKTt2YXIgQz10aGlzLmhbMF0sTD10aGlzLmhbMV0sUz10aGlzLmhbMl0sUD10aGlzLmhbM10sRj10aGlzLmhbNF07Zm9yKEI9MDtCPE4ubGVuZ3RoO0IrKyl7dmFyIGs9fn4oQi8yMCksSj1wKGwoQyw1KSxnKGssTCxTLFApLEYsTltCXSxiW2tdKTtGPVAsUD1TLFM9bChMLDMwKSxMPUMsQz1KfXRoaXMuaFswXT11KHRoaXMuaFswXSxDKSx0aGlzLmhbMV09dSh0aGlzLmhbMV0sTCksdGhpcy5oWzJdPXUodGhpcy5oWzJdLFMpLHRoaXMuaFszXT11KHRoaXMuaFszXSxQKSx0aGlzLmhbNF09dSh0aGlzLmhbNF0sRil9LF8ucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oVCl7cmV0dXJuIFQ9PT0iaGV4Ij9vLnRvSGV4MzIodGhpcy5oLCJiaWciKTpvLnNwbGl0MzIodGhpcy5oLCJiaWciKX19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvMjI0LmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8yNTYuanMiKTtmdW5jdGlvbiBoKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaCkpcmV0dXJuIG5ldyBoO2QuY2FsbCh0aGlzKSx0aGlzLmg9WzMyMzgzNzEwMzIsOTE0MTUwNjYzLDgxMjcwMjk5OSw0MTQ0OTEyNjk3LDQyOTA3NzU4NTcsMTc1MDYwMzAyNSwxNjk0MDc2ODM5LDMyMDQwNzU0MjhdfW8uaW5oZXJpdHMoaCxkKSx0LmV4cG9ydHM9aCxoLmJsb2NrU2l6ZT01MTIsaC5vdXRTaXplPTIyNCxoLmhtYWNTdHJlbmd0aD0xOTIsaC5wYWRMZW5ndGg9NjQsaC5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbih1KXtyZXR1cm4gdT09PSJoZXgiP28udG9IZXgzMih0aGlzLmguc2xpY2UoMCw3KSwiYmlnIik6by5zcGxpdDMyKHRoaXMuaC5zbGljZSgwLDcpLCJiaWciKX19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvMjU2LmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhL2NvbW1vbi5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL21pbmltYWxpc3RpYy1hc3NlcnQvaW5kZXguanMiKSx1PW8uc3VtMzIscD1vLnN1bTMyXzQsZz1vLnN1bTMyXzUsdj1oLmNoMzIsYj1oLm1hajMyLF89aC5zMF8yNTYsTz1oLnMxXzI1NixUPWguZzBfMjU2LGo9aC5nMV8yNTYsTj1kLkJsb2NrSGFzaCxCPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdO2Z1bmN0aW9uIEMoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBDKSlyZXR1cm4gbmV3IEM7Ti5jYWxsKHRoaXMpLHRoaXMuaD1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLHRoaXMuaz1CLHRoaXMuVz1uZXcgQXJyYXkoNjQpfW8uaW5oZXJpdHMoQyxOKSx0LmV4cG9ydHM9QyxDLmJsb2NrU2l6ZT01MTIsQy5vdXRTaXplPTI1NixDLmhtYWNTdHJlbmd0aD0xOTIsQy5wYWRMZW5ndGg9NjQsQy5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihTLFApe2Zvcih2YXIgRj10aGlzLlcsaz0wO2s8MTY7aysrKUZba109U1tQK2tdO2Zvcig7azxGLmxlbmd0aDtrKyspRltrXT1wKGooRltrLTJdKSxGW2stN10sVChGW2stMTVdKSxGW2stMTZdKTt2YXIgSj10aGlzLmhbMF0sYWU9dGhpcy5oWzFdLHE9dGhpcy5oWzJdLEc9dGhpcy5oWzNdLHJlPXRoaXMuaFs0XSxNPXRoaXMuaFs1XSwkPXRoaXMuaFs2XSxVPXRoaXMuaFs3XTtmb3IobCh0aGlzLmsubGVuZ3RoPT09Ri5sZW5ndGgpLGs9MDtrPEYubGVuZ3RoO2srKyl7dmFyIEg9ZyhVLE8ocmUpLHYocmUsTSwkKSx0aGlzLmtba10sRltrXSksZWU9dShfKEopLGIoSixhZSxxKSk7VT0kLCQ9TSxNPXJlLHJlPXUoRyxIKSxHPXEscT1hZSxhZT1KLEo9dShILGVlKX10aGlzLmhbMF09dSh0aGlzLmhbMF0sSiksdGhpcy5oWzFdPXUodGhpcy5oWzFdLGFlKSx0aGlzLmhbMl09dSh0aGlzLmhbMl0scSksdGhpcy5oWzNdPXUodGhpcy5oWzNdLEcpLHRoaXMuaFs0XT11KHRoaXMuaFs0XSxyZSksdGhpcy5oWzVdPXUodGhpcy5oWzVdLE0pLHRoaXMuaFs2XT11KHRoaXMuaFs2XSwkKSx0aGlzLmhbN109dSh0aGlzLmhbN10sVSl9LEMucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oUyl7cmV0dXJuIFM9PT0iaGV4Ij9vLnRvSGV4MzIodGhpcy5oLCJiaWciKTpvLnNwbGl0MzIodGhpcy5oLCJiaWciKX19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvMzg0LmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS81MTIuanMiKTtmdW5jdGlvbiBoKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaCkpcmV0dXJuIG5ldyBoO2QuY2FsbCh0aGlzKSx0aGlzLmg9WzM0MTgwNzAzNjUsMzIzODM3MTAzMiwxNjU0MjcwMjUwLDkxNDE1MDY2MywyNDM4NTI5MzcwLDgxMjcwMjk5OSwzNTU0NjIzNjAsNDE0NDkxMjY5NywxNzMxNDA1NDE1LDQyOTA3NzU4NTcsMjM5NDE4MDIzMSwxNzUwNjAzMDI1LDM2NzUwMDg1MjUsMTY5NDA3NjgzOSwxMjAzMDYyODEzLDMyMDQwNzU0MjhdfW8uaW5oZXJpdHMoaCxkKSx0LmV4cG9ydHM9aCxoLmJsb2NrU2l6ZT0xMDI0LGgub3V0U2l6ZT0zODQsaC5obWFjU3RyZW5ndGg9MTkyLGgucGFkTGVuZ3RoPTEyOCxoLnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKHUpe3JldHVybiB1PT09ImhleCI/by50b0hleDMyKHRoaXMuaC5zbGljZSgwLDEyKSwiYmlnIik6by5zcGxpdDMyKHRoaXMuaC5zbGljZSgwLDEyKSwiYmlnIil9fSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzUxMi5qcyI6KHQsZSxuKT0+e3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3V0aWxzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9jb21tb24uanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9taW5pbWFsaXN0aWMtYXNzZXJ0L2luZGV4LmpzIiksbD1vLnJvdHI2NF9oaSx1PW8ucm90cjY0X2xvLHA9by5zaHI2NF9oaSxnPW8uc2hyNjRfbG8sdj1vLnN1bTY0LGI9by5zdW02NF9oaSxfPW8uc3VtNjRfbG8sTz1vLnN1bTY0XzRfaGksVD1vLnN1bTY0XzRfbG8saj1vLnN1bTY0XzVfaGksTj1vLnN1bTY0XzVfbG8sQj1kLkJsb2NrSGFzaCxDPVsxMTE2MzUyNDA4LDM2MDk3Njc0NTgsMTg5OTQ0NzQ0MSw2MDI4OTE3MjUsMzA0OTMyMzQ3MSwzOTY0NDg0Mzk5LDM5MjEwMDk1NzMsMjE3MzI5NTU0OCw5NjE5ODcxNjMsNDA4MTYyODQ3MiwxNTA4OTcwOTkzLDMwNTM4MzQyNjUsMjQ1MzYzNTc0OCwyOTM3NjcxNTc5LDI4NzA3NjMyMjEsMzY2NDYwOTU2MCwzNjI0MzgxMDgwLDI3MzQ4ODMzOTQsMzEwNTk4NDAxLDExNjQ5OTY1NDIsNjA3MjI1Mjc4LDEzMjM2MTA3NjQsMTQyNjg4MTk4NywzNTkwMzA0OTk0LDE5MjUwNzgzODgsNDA2ODE4MjM4MywyMTYyMDc4MjA2LDk5MTMzNjExMywyNjE0ODg4MTAzLDYzMzgwMzMxNywzMjQ4MjIyNTgwLDM0Nzk3NzQ4NjgsMzgzNTM5MDQwMSwyNjY2NjEzNDU4LDQwMjIyMjQ3NzQsOTQ0NzExMTM5LDI2NDM0NzA3OCwyMzQxMjYyNzczLDYwNDgwNzYyOCwyMDA3ODAwOTMzLDc3MDI1NTk4MywxNDk1OTkwOTAxLDEyNDkxNTAxMjIsMTg1NjQzMTIzNSwxNTU1MDgxNjkyLDMxNzUyMTgxMzIsMTk5NjA2NDk4NiwyMTk4OTUwODM3LDI1NTQyMjA4ODIsMzk5OTcxOTMzOSwyODIxODM0MzQ5LDc2Njc4NDAxNiwyOTUyOTk2ODA4LDI1NjY1OTQ4NzksMzIxMDMxMzY3MSwzMjAzMzM3OTU2LDMzMzY1NzE4OTEsMTAzNDQ1NzAyNiwzNTg0NTI4NzExLDI0NjY5NDg5MDEsMTEzOTI2OTkzLDM3NTgzMjYzODMsMzM4MjQxODk1LDE2ODcxNzkzNiw2NjYzMDcyMDUsMTE4ODE3OTk2NCw3NzM1Mjk5MTIsMTU0NjA0NTczNCwxMjk0NzU3MzcyLDE1MjI4MDU0ODUsMTM5NjE4MjI5MSwyNjQzODMzODIzLDE2OTUxODM3MDAsMjM0MzUyNzM5MCwxOTg2NjYxMDUxLDEwMTQ0Nzc0ODAsMjE3NzAyNjM1MCwxMjA2NzU5MTQyLDI0NTY5NTYwMzcsMzQ0MDc3NjI3LDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCwyODIwMzAyNDExLDMxNTg0NTQyNzMsMzI1OTczMDgwMCwzNTA1OTUyNjU3LDMzNDU3NjQ3NzEsMTA2MjE3MDA4LDM1MTYwNjU4MTcsMzYwNjAwODM0NCwzNjAwMzUyODA0LDE0MzI3MjU3NzYsNDA5NDU3MTkwOSwxNDY3MDMxNTk0LDI3NTQyMzM0NCw4NTExNjk3MjAsNDMwMjI3NzM0LDMxMDA4MjM3NTIsNTA2OTQ4NjE2LDEzNjMyNTgxOTUsNjU5MDYwNTU2LDM3NTA2ODU1OTMsODgzOTk3ODc3LDM3ODUwNTAyODAsOTU4MTM5NTcxLDMzMTgzMDc0MjcsMTMyMjgyMjIxOCwzODEyNzIzNDAzLDE1MzcwMDIwNjMsMjAwMzAzNDk5NSwxNzQ3ODczNzc5LDM2MDIwMzY4OTksMTk1NTU2MjIyMiwxNTc1OTkwMDEyLDIwMjQxMDQ4MTUsMTEyNTU5MjkyOCwyMjI3NzMwNDUyLDI3MTY5MDQzMDYsMjM2MTg1MjQyNCw0NDI3NzYwNDQsMjQyODQzNjQ3NCw1OTM2OTgzNDQsMjc1NjczNDE4NywzNzMzMTEwMjQ5LDMyMDQwMzE0NzksMjk5OTM1MTU3MywzMzI5MzI1Mjk4LDM4MTU5MjA0MjcsMzM5MTU2OTYxNCwzOTI4MzgzOTAwLDM1MTUyNjcyNzEsNTY2MjgwNzExLDM5NDAxODc2MDYsMzQ1NDA2OTUzNCw0MTE4NjMwMjcxLDQwMDAyMzk5OTIsMTE2NDE4NDc0LDE5MTQxMzg1NTQsMTc0MjkyNDIxLDI3MzEwNTUyNzAsMjg5MzgwMzU2LDMyMDM5OTMwMDYsNDYwMzkzMjY5LDMyMDYyMDMxNSw2ODU0NzE3MzMsNTg3NDk2ODM2LDg1MjE0Mjk3MSwxMDg2NzkyODUxLDEwMTcwMzYyOTgsMzY1NTQzMTAwLDExMjYwMDA1ODAsMjYxODI5NzY3NiwxMjg4MDMzNDcwLDM0MDk4NTUxNTgsMTUwMTUwNTk0OCw0MjM0NTA5ODY2LDE2MDcxNjc5MTUsOTg3MTY3NDY4LDE4MTY0MDIzMTYsMTI0NjE4OTU5MV07ZnVuY3Rpb24gTCgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEwpKXJldHVybiBuZXcgTDtCLmNhbGwodGhpcyksdGhpcy5oPVsxNzc5MDMzNzAzLDQwODkyMzU3MjAsMzE0NDEzNDI3NywyMjI3ODczNTk1LDEwMTM5MDQyNDIsNDI3MTE3NTcyMywyNzczNDgwNzYyLDE1OTU3NTAxMjksMTM1OTg5MzExOSwyOTE3NTY1MTM3LDI2MDA4MjI5MjQsNzI1NTExMTk5LDUyODczNDYzNSw0MjE1Mzg5NTQ3LDE1NDE0NTkyMjUsMzI3MDMzMjA5XSx0aGlzLms9Qyx0aGlzLlc9bmV3IEFycmF5KDE2MCl9by5pbmhlcml0cyhMLEIpLHQuZXhwb3J0cz1MLEwuYmxvY2tTaXplPTEwMjQsTC5vdXRTaXplPTUxMixMLmhtYWNTdHJlbmd0aD0xOTIsTC5wYWRMZW5ndGg9MTI4LEwucHJvdG90eXBlLl9wcmVwYXJlQmxvY2s9ZnVuY3Rpb24oZWUsZ2Upe2Zvcih2YXIgbWU9dGhpcy5XLGZlPTA7ZmU8MzI7ZmUrKyltZVtmZV09ZWVbZ2UrZmVdO2Zvcig7ZmU8bWUubGVuZ3RoO2ZlKz0yKXt2YXIgaGU9JChtZVtmZS00XSxtZVtmZS0zXSksX2U9VShtZVtmZS00XSxtZVtmZS0zXSkseGU9bWVbZmUtMTRdLE5lPW1lW2ZlLTEzXSxJZT1yZShtZVtmZS0zMF0sbWVbZmUtMjldKSxSZT1NKG1lW2ZlLTMwXSxtZVtmZS0yOV0pLHZlPW1lW2ZlLTMyXSxDZT1tZVtmZS0zMV07bWVbZmVdPU8oaGUsX2UseGUsTmUsSWUsUmUsdmUsQ2UpLG1lW2ZlKzFdPVQoaGUsX2UseGUsTmUsSWUsUmUsdmUsQ2UpfX0sTC5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlZSxnZSl7dGhpcy5fcHJlcGFyZUJsb2NrKGVlLGdlKTt2YXIgbWU9dGhpcy5XLGZlPXRoaXMuaFswXSxoZT10aGlzLmhbMV0sX2U9dGhpcy5oWzJdLHhlPXRoaXMuaFszXSxOZT10aGlzLmhbNF0sSWU9dGhpcy5oWzVdLFJlPXRoaXMuaFs2XSx2ZT10aGlzLmhbN10sQ2U9dGhpcy5oWzhdLE1lPXRoaXMuaFs5XSxVZT10aGlzLmhbMTBdLEZlPXRoaXMuaFsxMV0sJGU9dGhpcy5oWzEyXSxYPXRoaXMuaFsxM10sb2U9dGhpcy5oWzE0XSxRPXRoaXMuaFsxNV07aCh0aGlzLmsubGVuZ3RoPT09bWUubGVuZ3RoKTtmb3IodmFyIFk9MDtZPG1lLmxlbmd0aDtZKz0yKXt2YXIgaWU9b2Usc2U9USxsZT1xKENlLE1lKSxuZT1HKENlLE1lKSx1ZT1TKENlLE1lLFVlLEZlLCRlKSxkZT1QKENlLE1lLFVlLEZlLCRlLFgpLHBlPXRoaXMua1tZXSxiZT10aGlzLmtbWSsxXSx3ZT1tZVtZXSxPZT1tZVtZKzFdLEk9aihpZSxzZSxsZSxuZSx1ZSxkZSxwZSxiZSx3ZSxPZSksdz1OKGllLHNlLGxlLG5lLHVlLGRlLHBlLGJlLHdlLE9lKTtpZT1KKGZlLGhlKSxzZT1hZShmZSxoZSksbGU9RihmZSxoZSxfZSx4ZSxOZSksbmU9ayhmZSxoZSxfZSx4ZSxOZSxJZSk7dmFyIEU9YihpZSxzZSxsZSxuZSksRD1fKGllLHNlLGxlLG5lKTtvZT0kZSxRPVgsJGU9VWUsWD1GZSxVZT1DZSxGZT1NZSxDZT1iKFJlLHZlLEksdyksTWU9Xyh2ZSx2ZSxJLHcpLFJlPU5lLHZlPUllLE5lPV9lLEllPXhlLF9lPWZlLHhlPWhlLGZlPWIoSSx3LEUsRCksaGU9XyhJLHcsRSxEKX12KHRoaXMuaCwwLGZlLGhlKSx2KHRoaXMuaCwyLF9lLHhlKSx2KHRoaXMuaCw0LE5lLEllKSx2KHRoaXMuaCw2LFJlLHZlKSx2KHRoaXMuaCw4LENlLE1lKSx2KHRoaXMuaCwxMCxVZSxGZSksdih0aGlzLmgsMTIsJGUsWCksdih0aGlzLmgsMTQsb2UsUSl9LEwucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oZWUpe3JldHVybiBlZT09PSJoZXgiP28udG9IZXgzMih0aGlzLmgsImJpZyIpOm8uc3BsaXQzMih0aGlzLmgsImJpZyIpfTtmdW5jdGlvbiBTKEgsZWUsZ2UsbWUsZmUpe3ZhciBoZT1IJmdlXn5IJmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uIFAoSCxlZSxnZSxtZSxmZSxoZSl7dmFyIF9lPWVlJm1lXn5lZSZoZTtyZXR1cm4gX2U8MCYmKF9lKz00Mjk0OTY3Mjk2KSxfZX1mdW5jdGlvbiBGKEgsZWUsZ2UsbWUsZmUpe3ZhciBoZT1IJmdlXkgmZmVeZ2UmZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9ZnVuY3Rpb24gayhILGVlLGdlLG1lLGZlLGhlKXt2YXIgX2U9ZWUmbWVeZWUmaGVebWUmaGU7cmV0dXJuIF9lPDAmJihfZSs9NDI5NDk2NzI5NiksX2V9ZnVuY3Rpb24gSihILGVlKXt2YXIgZ2U9bChILGVlLDI4KSxtZT1sKGVlLEgsMiksZmU9bChlZSxILDcpLGhlPWdlXm1lXmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uIGFlKEgsZWUpe3ZhciBnZT11KEgsZWUsMjgpLG1lPXUoZWUsSCwyKSxmZT11KGVlLEgsNyksaGU9Z2VebWVeZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9ZnVuY3Rpb24gcShILGVlKXt2YXIgZ2U9bChILGVlLDE0KSxtZT1sKEgsZWUsMTgpLGZlPWwoZWUsSCw5KSxoZT1nZV5tZV5mZTtyZXR1cm4gaGU8MCYmKGhlKz00Mjk0OTY3Mjk2KSxoZX1mdW5jdGlvbiBHKEgsZWUpe3ZhciBnZT11KEgsZWUsMTQpLG1lPXUoSCxlZSwxOCksZmU9dShlZSxILDkpLGhlPWdlXm1lXmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uIHJlKEgsZWUpe3ZhciBnZT1sKEgsZWUsMSksbWU9bChILGVlLDgpLGZlPXAoSCxlZSw3KSxoZT1nZV5tZV5mZTtyZXR1cm4gaGU8MCYmKGhlKz00Mjk0OTY3Mjk2KSxoZX1mdW5jdGlvbiBNKEgsZWUpe3ZhciBnZT11KEgsZWUsMSksbWU9dShILGVlLDgpLGZlPWcoSCxlZSw3KSxoZT1nZV5tZV5mZTtyZXR1cm4gaGU8MCYmKGhlKz00Mjk0OTY3Mjk2KSxoZX1mdW5jdGlvbiAkKEgsZWUpe3ZhciBnZT1sKEgsZWUsMTkpLG1lPWwoZWUsSCwyOSksZmU9cChILGVlLDYpLGhlPWdlXm1lXmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uIFUoSCxlZSl7dmFyIGdlPXUoSCxlZSwxOSksbWU9dShlZSxILDI5KSxmZT1nKEgsZWUsNiksaGU9Z2VebWVeZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9fSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhL2NvbW1vbi5qcyI6KHQsZSxuKT0+e3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3V0aWxzLmpzIiksZD1vLnJvdHIzMjtmdW5jdGlvbiBoKE8sVCxqLE4pe2lmKE89PT0wKXJldHVybiBsKFQsaixOKTtpZihPPT09MXx8Tz09PTMpcmV0dXJuIHAoVCxqLE4pO2lmKE89PT0yKXJldHVybiB1KFQsaixOKX1lLmZ0XzE9aDtmdW5jdGlvbiBsKE8sVCxqKXtyZXR1cm4gTyZUXn5PJmp9ZS5jaDMyPWw7ZnVuY3Rpb24gdShPLFQsail7cmV0dXJuIE8mVF5PJmpeVCZqfWUubWFqMzI9dTtmdW5jdGlvbiBwKE8sVCxqKXtyZXR1cm4gT15UXmp9ZS5wMzI9cDtmdW5jdGlvbiBnKE8pe3JldHVybiBkKE8sMileZChPLDEzKV5kKE8sMjIpfWUuczBfMjU2PWc7ZnVuY3Rpb24gdihPKXtyZXR1cm4gZChPLDYpXmQoTywxMSleZChPLDI1KX1lLnMxXzI1Nj12O2Z1bmN0aW9uIGIoTyl7cmV0dXJuIGQoTyw3KV5kKE8sMTgpXk8+Pj4zfWUuZzBfMjU2PWI7ZnVuY3Rpb24gXyhPKXtyZXR1cm4gZChPLDE3KV5kKE8sMTkpXk8+Pj4xMH1lLmcxXzI1Nj1ffSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuLi9ub2RlX21vZHVsZXMvbWluaW1hbGlzdGljLWFzc2VydC9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiKTtlLmluaGVyaXRzPWQ7ZnVuY3Rpb24gaChVLEgpe3JldHVybihVLmNoYXJDb2RlQXQoSCkmNjQ1MTIpIT09NTUyOTZ8fEg8MHx8SCsxPj1VLmxlbmd0aD8hMTooVS5jaGFyQ29kZUF0KEgrMSkmNjQ1MTIpPT09NTYzMjB9ZnVuY3Rpb24gbChVLEgpe2lmKEFycmF5LmlzQXJyYXkoVSkpcmV0dXJuIFUuc2xpY2UoKTtpZighVSlyZXR1cm5bXTt2YXIgZWU9W107aWYodHlwZW9mIFU9PSJzdHJpbmciKWlmKEgpe2lmKEg9PT0iaGV4Iilmb3IoVT1VLnJlcGxhY2UoL1teYS16MC05XSsvaWcsIiIpLFUubGVuZ3RoJTIhPT0wJiYoVT0iMCIrVSksbWU9MDttZTxVLmxlbmd0aDttZSs9MillZS5wdXNoKHBhcnNlSW50KFVbbWVdK1VbbWUrMV0sMTYpKX1lbHNlIGZvcih2YXIgZ2U9MCxtZT0wO21lPFUubGVuZ3RoO21lKyspe3ZhciBmZT1VLmNoYXJDb2RlQXQobWUpO2ZlPDEyOD9lZVtnZSsrXT1mZTpmZTwyMDQ4PyhlZVtnZSsrXT1mZT4+NnwxOTIsZWVbZ2UrK109ZmUmNjN8MTI4KTpoKFUsbWUpPyhmZT02NTUzNisoKGZlJjEwMjMpPDwxMCkrKFUuY2hhckNvZGVBdCgrK21lKSYxMDIzKSxlZVtnZSsrXT1mZT4+MTh8MjQwLGVlW2dlKytdPWZlPj4xMiY2M3wxMjgsZWVbZ2UrK109ZmU+PjYmNjN8MTI4LGVlW2dlKytdPWZlJjYzfDEyOCk6KGVlW2dlKytdPWZlPj4xMnwyMjQsZWVbZ2UrK109ZmU+PjYmNjN8MTI4LGVlW2dlKytdPWZlJjYzfDEyOCl9ZWxzZSBmb3IobWU9MDttZTxVLmxlbmd0aDttZSsrKWVlW21lXT1VW21lXXwwO3JldHVybiBlZX1lLnRvQXJyYXk9bDtmdW5jdGlvbiB1KFUpe2Zvcih2YXIgSD0iIixlZT0wO2VlPFUubGVuZ3RoO2VlKyspSCs9dihVW2VlXS50b1N0cmluZygxNikpO3JldHVybiBIfWUudG9IZXg9dTtmdW5jdGlvbiBwKFUpe3ZhciBIPVU+Pj4yNHxVPj4+OCY2NTI4MHxVPDw4JjE2NzExNjgwfChVJjI1NSk8PDI0O3JldHVybiBIPj4+MH1lLmh0b25sPXA7ZnVuY3Rpb24gZyhVLEgpe2Zvcih2YXIgZWU9IiIsZ2U9MDtnZTxVLmxlbmd0aDtnZSsrKXt2YXIgbWU9VVtnZV07SD09PSJsaXR0bGUiJiYobWU9cChtZSkpLGVlKz1iKG1lLnRvU3RyaW5nKDE2KSl9cmV0dXJuIGVlfWUudG9IZXgzMj1nO2Z1bmN0aW9uIHYoVSl7cmV0dXJuIFUubGVuZ3RoPT09MT8iMCIrVTpVfWUuemVybzI9djtmdW5jdGlvbiBiKFUpe3JldHVybiBVLmxlbmd0aD09PTc/IjAiK1U6VS5sZW5ndGg9PT02PyIwMCIrVTpVLmxlbmd0aD09PTU/IjAwMCIrVTpVLmxlbmd0aD09PTQ/IjAwMDAiK1U6VS5sZW5ndGg9PT0zPyIwMDAwMCIrVTpVLmxlbmd0aD09PTI/IjAwMDAwMCIrVTpVLmxlbmd0aD09PTE/IjAwMDAwMDAiK1U6VX1lLnplcm84PWI7ZnVuY3Rpb24gXyhVLEgsZWUsZ2Upe3ZhciBtZT1lZS1IO28obWUlND09PTApO2Zvcih2YXIgZmU9bmV3IEFycmF5KG1lLzQpLGhlPTAsX2U9SDtoZTxmZS5sZW5ndGg7aGUrKyxfZSs9NCl7dmFyIHhlO2dlPT09ImJpZyI/eGU9VVtfZV08PDI0fFVbX2UrMV08PDE2fFVbX2UrMl08PDh8VVtfZSszXTp4ZT1VW19lKzNdPDwyNHxVW19lKzJdPDwxNnxVW19lKzFdPDw4fFVbX2VdLGZlW2hlXT14ZT4+PjB9cmV0dXJuIGZlfWUuam9pbjMyPV87ZnVuY3Rpb24gTyhVLEgpe2Zvcih2YXIgZWU9bmV3IEFycmF5KFUubGVuZ3RoKjQpLGdlPTAsbWU9MDtnZTxVLmxlbmd0aDtnZSsrLG1lKz00KXt2YXIgZmU9VVtnZV07SD09PSJiaWciPyhlZVttZV09ZmU+Pj4yNCxlZVttZSsxXT1mZT4+PjE2JjI1NSxlZVttZSsyXT1mZT4+PjgmMjU1LGVlW21lKzNdPWZlJjI1NSk6KGVlW21lKzNdPWZlPj4+MjQsZWVbbWUrMl09ZmU+Pj4xNiYyNTUsZWVbbWUrMV09ZmU+Pj44JjI1NSxlZVttZV09ZmUmMjU1KX1yZXR1cm4gZWV9ZS5zcGxpdDMyPU87ZnVuY3Rpb24gVChVLEgpe3JldHVybiBVPj4+SHxVPDwzMi1IfWUucm90cjMyPVQ7ZnVuY3Rpb24gaihVLEgpe3JldHVybiBVPDxIfFU+Pj4zMi1IfWUucm90bDMyPWo7ZnVuY3Rpb24gTihVLEgpe3JldHVybiBVK0g+Pj4wfWUuc3VtMzI9TjtmdW5jdGlvbiBCKFUsSCxlZSl7cmV0dXJuIFUrSCtlZT4+PjB9ZS5zdW0zMl8zPUI7ZnVuY3Rpb24gQyhVLEgsZWUsZ2Upe3JldHVybiBVK0grZWUrZ2U+Pj4wfWUuc3VtMzJfND1DO2Z1bmN0aW9uIEwoVSxILGVlLGdlLG1lKXtyZXR1cm4gVStIK2VlK2dlK21lPj4+MH1lLnN1bTMyXzU9TDtmdW5jdGlvbiBTKFUsSCxlZSxnZSl7dmFyIG1lPVVbSF0sZmU9VVtIKzFdLGhlPWdlK2ZlPj4+MCxfZT0oaGU8Z2U/MTowKStlZSttZTtVW0hdPV9lPj4+MCxVW0grMV09aGV9ZS5zdW02ND1TO2Z1bmN0aW9uIFAoVSxILGVlLGdlKXt2YXIgbWU9SCtnZT4+PjAsZmU9KG1lPEg/MTowKStVK2VlO3JldHVybiBmZT4+PjB9ZS5zdW02NF9oaT1QO2Z1bmN0aW9uIEYoVSxILGVlLGdlKXt2YXIgbWU9SCtnZTtyZXR1cm4gbWU+Pj4wfWUuc3VtNjRfbG89RjtmdW5jdGlvbiBrKFUsSCxlZSxnZSxtZSxmZSxoZSxfZSl7dmFyIHhlPTAsTmU9SDtOZT1OZStnZT4+PjAseGUrPU5lPEg/MTowLE5lPU5lK2ZlPj4+MCx4ZSs9TmU8ZmU/MTowLE5lPU5lK19lPj4+MCx4ZSs9TmU8X2U/MTowO3ZhciBJZT1VK2VlK21lK2hlK3hlO3JldHVybiBJZT4+PjB9ZS5zdW02NF80X2hpPWs7ZnVuY3Rpb24gSihVLEgsZWUsZ2UsbWUsZmUsaGUsX2Upe3ZhciB4ZT1IK2dlK2ZlK19lO3JldHVybiB4ZT4+PjB9ZS5zdW02NF80X2xvPUo7ZnVuY3Rpb24gYWUoVSxILGVlLGdlLG1lLGZlLGhlLF9lLHhlLE5lKXt2YXIgSWU9MCxSZT1IO1JlPVJlK2dlPj4+MCxJZSs9UmU8SD8xOjAsUmU9UmUrZmU+Pj4wLEllKz1SZTxmZT8xOjAsUmU9UmUrX2U+Pj4wLEllKz1SZTxfZT8xOjAsUmU9UmUrTmU+Pj4wLEllKz1SZTxOZT8xOjA7dmFyIHZlPVUrZWUrbWUraGUreGUrSWU7cmV0dXJuIHZlPj4+MH1lLnN1bTY0XzVfaGk9YWU7ZnVuY3Rpb24gcShVLEgsZWUsZ2UsbWUsZmUsaGUsX2UseGUsTmUpe3ZhciBJZT1IK2dlK2ZlK19lK05lO3JldHVybiBJZT4+PjB9ZS5zdW02NF81X2xvPXE7ZnVuY3Rpb24gRyhVLEgsZWUpe3ZhciBnZT1IPDwzMi1lZXxVPj4+ZWU7cmV0dXJuIGdlPj4+MH1lLnJvdHI2NF9oaT1HO2Z1bmN0aW9uIHJlKFUsSCxlZSl7dmFyIGdlPVU8PDMyLWVlfEg+Pj5lZTtyZXR1cm4gZ2U+Pj4wfWUucm90cjY0X2xvPXJlO2Z1bmN0aW9uIE0oVSxILGVlKXtyZXR1cm4gVT4+PmVlfWUuc2hyNjRfaGk9TTtmdW5jdGlvbiAkKFUsSCxlZSl7dmFyIGdlPVU8PDMyLWVlfEg+Pj5lZTtyZXR1cm4gZ2U+Pj4wfWUuc2hyNjRfbG89JH0sIi4uL25vZGVfbW9kdWxlcy9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIjp0PT57dHlwZW9mIE9iamVjdC5jcmVhdGU9PSJmdW5jdGlvbiI/dC5leHBvcnRzPWZ1bmN0aW9uKG4sbyl7byYmKG4uc3VwZXJfPW8sbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOm4sZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTp0LmV4cG9ydHM9ZnVuY3Rpb24obixvKXtpZihvKXtuLnN1cGVyXz1vO3ZhciBkPWZ1bmN0aW9uKCl7fTtkLnByb3RvdHlwZT1vLnByb3RvdHlwZSxuLnByb3RvdHlwZT1uZXcgZCxuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1ufX19LCIuLi9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIjoodCxlLG4pPT57Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMveWFsbGlzdC95YWxsaXN0LmpzIiksZD1TeW1ib2woIm1heCIpLGg9U3ltYm9sKCJsZW5ndGgiKSxsPVN5bWJvbCgibGVuZ3RoQ2FsY3VsYXRvciIpLHU9U3ltYm9sKCJhbGxvd1N0YWxlIikscD1TeW1ib2woIm1heEFnZSIpLGc9U3ltYm9sKCJkaXNwb3NlIiksdj1TeW1ib2woIm5vRGlzcG9zZU9uU2V0IiksYj1TeW1ib2woImxydUxpc3QiKSxfPVN5bWJvbCgiY2FjaGUiKSxPPVN5bWJvbCgidXBkYXRlQWdlT25HZXQiKSxUPSgpPT4xO2NsYXNzIGp7Y29uc3RydWN0b3Ioayl7aWYodHlwZW9mIGs9PSJudW1iZXIiJiYoaz17bWF4Omt9KSxrfHwoaz17fSksay5tYXgmJih0eXBlb2Ygay5tYXghPSJudW1iZXIifHxrLm1heDwwKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIiKTt0aGlzW2RdPWsubWF4fHwxLzA7Y29uc3QgSj1rLmxlbmd0aHx8VDtpZih0aGlzW2xdPXR5cGVvZiBKIT0iZnVuY3Rpb24iP1Q6Six0aGlzW3VdPWsuc3RhbGV8fCExLGsubWF4QWdlJiZ0eXBlb2Ygay5tYXhBZ2UhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heEFnZSBtdXN0IGJlIGEgbnVtYmVyIik7dGhpc1twXT1rLm1heEFnZXx8MCx0aGlzW2ddPWsuZGlzcG9zZSx0aGlzW3ZdPWsubm9EaXNwb3NlT25TZXR8fCExLHRoaXNbT109ay51cGRhdGVBZ2VPbkdldHx8ITEsdGhpcy5yZXNldCgpfXNldCBtYXgoayl7aWYodHlwZW9mIGshPSJudW1iZXIifHxrPDApdGhyb3cgbmV3IFR5cGVFcnJvcigibWF4IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyIik7dGhpc1tkXT1rfHwxLzAsQyh0aGlzKX1nZXQgbWF4KCl7cmV0dXJuIHRoaXNbZF19c2V0IGFsbG93U3RhbGUoayl7dGhpc1t1XT0hIWt9Z2V0IGFsbG93U3RhbGUoKXtyZXR1cm4gdGhpc1t1XX1zZXQgbWF4QWdlKGspe2lmKHR5cGVvZiBrIT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXhBZ2UgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIiKTt0aGlzW3BdPWssQyh0aGlzKX1nZXQgbWF4QWdlKCl7cmV0dXJuIHRoaXNbcF19c2V0IGxlbmd0aENhbGN1bGF0b3Ioayl7dHlwZW9mIGshPSJmdW5jdGlvbiImJihrPVQpLGshPT10aGlzW2xdJiYodGhpc1tsXT1rLHRoaXNbaF09MCx0aGlzW2JdLmZvckVhY2goSj0+e0oubGVuZ3RoPXRoaXNbbF0oSi52YWx1ZSxKLmtleSksdGhpc1toXSs9Si5sZW5ndGh9KSksQyh0aGlzKX1nZXQgbGVuZ3RoQ2FsY3VsYXRvcigpe3JldHVybiB0aGlzW2xdfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpc1toXX1nZXQgaXRlbUNvdW50KCl7cmV0dXJuIHRoaXNbYl0ubGVuZ3RofXJmb3JFYWNoKGssSil7Sj1KfHx0aGlzO2ZvcihsZXQgYWU9dGhpc1tiXS50YWlsO2FlIT09bnVsbDspe2NvbnN0IHE9YWUucHJldjtQKHRoaXMsayxhZSxKKSxhZT1xfX1mb3JFYWNoKGssSil7Sj1KfHx0aGlzO2ZvcihsZXQgYWU9dGhpc1tiXS5oZWFkO2FlIT09bnVsbDspe2NvbnN0IHE9YWUubmV4dDtQKHRoaXMsayxhZSxKKSxhZT1xfX1rZXlzKCl7cmV0dXJuIHRoaXNbYl0udG9BcnJheSgpLm1hcChrPT5rLmtleSl9dmFsdWVzKCl7cmV0dXJuIHRoaXNbYl0udG9BcnJheSgpLm1hcChrPT5rLnZhbHVlKX1yZXNldCgpe3RoaXNbZ10mJnRoaXNbYl0mJnRoaXNbYl0ubGVuZ3RoJiZ0aGlzW2JdLmZvckVhY2goaz0+dGhpc1tnXShrLmtleSxrLnZhbHVlKSksdGhpc1tfXT1uZXcgTWFwLHRoaXNbYl09bmV3IG8sdGhpc1toXT0wfWR1bXAoKXtyZXR1cm4gdGhpc1tiXS5tYXAoaz0+Qih0aGlzLGspPyExOntrOmsua2V5LHY6ay52YWx1ZSxlOmsubm93KyhrLm1heEFnZXx8MCl9KS50b0FycmF5KCkuZmlsdGVyKGs9PmspfWR1bXBMcnUoKXtyZXR1cm4gdGhpc1tiXX1zZXQoayxKLGFlKXtpZihhZT1hZXx8dGhpc1twXSxhZSYmdHlwZW9mIGFlIT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXhBZ2UgbXVzdCBiZSBhIG51bWJlciIpO2NvbnN0IHE9YWU/RGF0ZS5ub3coKTowLEc9dGhpc1tsXShKLGspO2lmKHRoaXNbX10uaGFzKGspKXtpZihHPnRoaXNbZF0pcmV0dXJuIEwodGhpcyx0aGlzW19dLmdldChrKSksITE7Y29uc3QgJD10aGlzW19dLmdldChrKS52YWx1ZTtyZXR1cm4gdGhpc1tnXSYmKHRoaXNbdl18fHRoaXNbZ10oaywkLnZhbHVlKSksJC5ub3c9cSwkLm1heEFnZT1hZSwkLnZhbHVlPUosdGhpc1toXSs9Ry0kLmxlbmd0aCwkLmxlbmd0aD1HLHRoaXMuZ2V0KGspLEModGhpcyksITB9Y29uc3QgcmU9bmV3IFMoayxKLEcscSxhZSk7cmV0dXJuIHJlLmxlbmd0aD50aGlzW2RdPyh0aGlzW2ddJiZ0aGlzW2ddKGssSiksITEpOih0aGlzW2hdKz1yZS5sZW5ndGgsdGhpc1tiXS51bnNoaWZ0KHJlKSx0aGlzW19dLnNldChrLHRoaXNbYl0uaGVhZCksQyh0aGlzKSwhMCl9aGFzKGspe2lmKCF0aGlzW19dLmhhcyhrKSlyZXR1cm4hMTtjb25zdCBKPXRoaXNbX10uZ2V0KGspLnZhbHVlO3JldHVybiFCKHRoaXMsSil9Z2V0KGspe3JldHVybiBOKHRoaXMsaywhMCl9cGVlayhrKXtyZXR1cm4gTih0aGlzLGssITEpfXBvcCgpe2NvbnN0IGs9dGhpc1tiXS50YWlsO3JldHVybiBrPyhMKHRoaXMsayksay52YWx1ZSk6bnVsbH1kZWwoayl7TCh0aGlzLHRoaXNbX10uZ2V0KGspKX1sb2FkKGspe3RoaXMucmVzZXQoKTtjb25zdCBKPURhdGUubm93KCk7Zm9yKGxldCBhZT1rLmxlbmd0aC0xO2FlPj0wO2FlLS0pe2NvbnN0IHE9a1thZV0sRz1xLmV8fDA7aWYoRz09PTApdGhpcy5zZXQocS5rLHEudik7ZWxzZXtjb25zdCByZT1HLUo7cmU+MCYmdGhpcy5zZXQocS5rLHEudixyZSl9fX1wcnVuZSgpe3RoaXNbX10uZm9yRWFjaCgoayxKKT0+Tih0aGlzLEosITEpKX19Y29uc3QgTj0oRixrLEopPT57Y29uc3QgYWU9RltfXS5nZXQoayk7aWYoYWUpe2NvbnN0IHE9YWUudmFsdWU7aWYoQihGLHEpKXtpZihMKEYsYWUpLCFGW3VdKXJldHVybn1lbHNlIEomJihGW09dJiYoYWUudmFsdWUubm93PURhdGUubm93KCkpLEZbYl0udW5zaGlmdE5vZGUoYWUpKTtyZXR1cm4gcS52YWx1ZX19LEI9KEYsayk9PntpZigha3x8IWsubWF4QWdlJiYhRltwXSlyZXR1cm4hMTtjb25zdCBKPURhdGUubm93KCktay5ub3c7cmV0dXJuIGsubWF4QWdlP0o+ay5tYXhBZ2U6RltwXSYmSj5GW3BdfSxDPUY9PntpZihGW2hdPkZbZF0pZm9yKGxldCBrPUZbYl0udGFpbDtGW2hdPkZbZF0mJmshPT1udWxsOyl7Y29uc3QgSj1rLnByZXY7TChGLGspLGs9Sn19LEw9KEYsayk9PntpZihrKXtjb25zdCBKPWsudmFsdWU7RltnXSYmRltnXShKLmtleSxKLnZhbHVlKSxGW2hdLT1KLmxlbmd0aCxGW19dLmRlbGV0ZShKLmtleSksRltiXS5yZW1vdmVOb2RlKGspfX07Y2xhc3MgU3tjb25zdHJ1Y3RvcihrLEosYWUscSxHKXt0aGlzLmtleT1rLHRoaXMudmFsdWU9Six0aGlzLmxlbmd0aD1hZSx0aGlzLm5vdz1xLHRoaXMubWF4QWdlPUd8fDB9fWNvbnN0IFA9KEYsayxKLGFlKT0+e2xldCBxPUoudmFsdWU7QihGLHEpJiYoTChGLEopLEZbdV18fChxPXZvaWQgMCkpLHEmJmsuY2FsbChhZSxxLnZhbHVlLHEua2V5LEYpfTt0LmV4cG9ydHM9an0sIi4uL25vZGVfbW9kdWxlcy9taW5pbWFsaXN0aWMtYXNzZXJ0L2luZGV4LmpzIjp0PT57dC5leHBvcnRzPWU7ZnVuY3Rpb24gZShuLG8pe2lmKCFuKXRocm93IG5ldyBFcnJvcihvfHwiQXNzZXJ0aW9uIGZhaWxlZCIpfWUuZXF1YWw9ZnVuY3Rpb24obyxkLGgpe2lmKG8hPWQpdGhyb3cgbmV3IEVycm9yKGh8fCJBc3NlcnRpb24gZmFpbGVkOiAiK28rIiAhPSAiK2QpfX0sIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0RhdGFGYWN0b3J5LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvRGVmYXVsdEdyYXBoLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvTGl0ZXJhbC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL05hbWVkTm9kZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL1F1YWQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9WYXJpYWJsZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CbGFua05vZGU9dm9pZCAwO2NsYXNzIG57Y29uc3RydWN0b3IoZCl7dGhpcy50ZXJtVHlwZT0iQmxhbmtOb2RlIix0aGlzLnZhbHVlPWR9ZXF1YWxzKGQpe3JldHVybiEhZCYmZC50ZXJtVHlwZT09PSJCbGFua05vZGUiJiZkLnZhbHVlPT09dGhpcy52YWx1ZX19ZS5CbGFua05vZGU9bn0sIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9EYXRhRmFjdG9yeS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkRhdGFGYWN0b3J5PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9CbGFua05vZGUuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9EZWZhdWx0R3JhcGguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9MaXRlcmFsLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvTmFtZWROb2RlLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvUXVhZC5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL1ZhcmlhYmxlLmpzIik7bGV0IGc9MDtjbGFzcyB2e2NvbnN0cnVjdG9yKF8pe3RoaXMuYmxhbmtOb2RlQ291bnRlcj0wLF89X3x8e30sdGhpcy5ibGFua05vZGVQcmVmaXg9Xy5ibGFua05vZGVQcmVmaXh8fGBkZl8ke2crK31fYH1uYW1lZE5vZGUoXyl7cmV0dXJuIG5ldyBsLk5hbWVkTm9kZShfKX1ibGFua05vZGUoXyl7cmV0dXJuIG5ldyBvLkJsYW5rTm9kZShffHxgJHt0aGlzLmJsYW5rTm9kZVByZWZpeH0ke3RoaXMuYmxhbmtOb2RlQ291bnRlcisrfWApfWxpdGVyYWwoXyxPKXtyZXR1cm4gbmV3IGguTGl0ZXJhbChfLE8pfXZhcmlhYmxlKF8pe3JldHVybiBuZXcgcC5WYXJpYWJsZShfKX1kZWZhdWx0R3JhcGgoKXtyZXR1cm4gZC5EZWZhdWx0R3JhcGguSU5TVEFOQ0V9cXVhZChfLE8sVCxqKXtyZXR1cm4gbmV3IHUuUXVhZChfLE8sVCxqfHx0aGlzLmRlZmF1bHRHcmFwaCgpKX1mcm9tVGVybShfKXtzd2l0Y2goXy50ZXJtVHlwZSl7Y2FzZSJOYW1lZE5vZGUiOnJldHVybiB0aGlzLm5hbWVkTm9kZShfLnZhbHVlKTtjYXNlIkJsYW5rTm9kZSI6cmV0dXJuIHRoaXMuYmxhbmtOb2RlKF8udmFsdWUpO2Nhc2UiTGl0ZXJhbCI6cmV0dXJuIF8ubGFuZ3VhZ2U/dGhpcy5saXRlcmFsKF8udmFsdWUsXy5sYW5ndWFnZSk6Xy5kYXRhdHlwZS5lcXVhbHMoaC5MaXRlcmFsLlhTRF9TVFJJTkcpP3RoaXMubGl0ZXJhbChfLnZhbHVlKTp0aGlzLmxpdGVyYWwoXy52YWx1ZSx0aGlzLmZyb21UZXJtKF8uZGF0YXR5cGUpKTtjYXNlIlZhcmlhYmxlIjpyZXR1cm4gdGhpcy52YXJpYWJsZShfLnZhbHVlKTtjYXNlIkRlZmF1bHRHcmFwaCI6cmV0dXJuIHRoaXMuZGVmYXVsdEdyYXBoKCk7Y2FzZSJRdWFkIjpyZXR1cm4gdGhpcy5xdWFkKHRoaXMuZnJvbVRlcm0oXy5zdWJqZWN0KSx0aGlzLmZyb21UZXJtKF8ucHJlZGljYXRlKSx0aGlzLmZyb21UZXJtKF8ub2JqZWN0KSx0aGlzLmZyb21UZXJtKF8uZ3JhcGgpKX19ZnJvbVF1YWQoXyl7cmV0dXJuIHRoaXMuZnJvbVRlcm0oXyl9cmVzZXRCbGFua05vZGVDb3VudGVyKCl7dGhpcy5ibGFua05vZGVDb3VudGVyPTB9fWUuRGF0YUZhY3Rvcnk9dn0sIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9EZWZhdWx0R3JhcGguanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuRGVmYXVsdEdyYXBoPXZvaWQgMDtjbGFzcyBue2NvbnN0cnVjdG9yKCl7dGhpcy50ZXJtVHlwZT0iRGVmYXVsdEdyYXBoIix0aGlzLnZhbHVlPSIifWVxdWFscyhkKXtyZXR1cm4hIWQmJmQudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIn19ZS5EZWZhdWx0R3JhcGg9bixuLklOU1RBTkNFPW5ldyBufSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0xpdGVyYWwuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5MaXRlcmFsPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9OYW1lZE5vZGUuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwsdSl7dGhpcy50ZXJtVHlwZT0iTGl0ZXJhbCIsdGhpcy52YWx1ZT1sLHR5cGVvZiB1PT0ic3RyaW5nIj8odGhpcy5sYW5ndWFnZT11LHRoaXMuZGF0YXR5cGU9ZC5SREZfTEFOR1VBR0VfU1RSSU5HKTp1Pyh0aGlzLmxhbmd1YWdlPSIiLHRoaXMuZGF0YXR5cGU9dSk6KHRoaXMubGFuZ3VhZ2U9IiIsdGhpcy5kYXRhdHlwZT1kLlhTRF9TVFJJTkcpfWVxdWFscyhsKXtyZXR1cm4hIWwmJmwudGVybVR5cGU9PT0iTGl0ZXJhbCImJmwudmFsdWU9PT10aGlzLnZhbHVlJiZsLmxhbmd1YWdlPT09dGhpcy5sYW5ndWFnZSYmbC5kYXRhdHlwZS5lcXVhbHModGhpcy5kYXRhdHlwZSl9fWUuTGl0ZXJhbD1kLGQuUkRGX0xBTkdVQUdFX1NUUklORz1uZXcgby5OYW1lZE5vZGUoImh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNsYW5nU3RyaW5nIiksZC5YU0RfU1RSSU5HPW5ldyBvLk5hbWVkTm9kZSgiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIil9LCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvTmFtZWROb2RlLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk5hbWVkTm9kZT12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkKXt0aGlzLnRlcm1UeXBlPSJOYW1lZE5vZGUiLHRoaXMudmFsdWU9ZH1lcXVhbHMoZCl7cmV0dXJuISFkJiZkLnRlcm1UeXBlPT09Ik5hbWVkTm9kZSImJmQudmFsdWU9PT10aGlzLnZhbHVlfX1lLk5hbWVkTm9kZT1ufSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL1F1YWQuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuUXVhZD12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkLGgsbCx1KXt0aGlzLnRlcm1UeXBlPSJRdWFkIix0aGlzLnZhbHVlPSIiLHRoaXMuc3ViamVjdD1kLHRoaXMucHJlZGljYXRlPWgsdGhpcy5vYmplY3Q9bCx0aGlzLmdyYXBoPXV9ZXF1YWxzKGQpe3JldHVybiEhZCYmKGQudGVybVR5cGU9PT0iUXVhZCJ8fCFkLnRlcm1UeXBlKSYmdGhpcy5zdWJqZWN0LmVxdWFscyhkLnN1YmplY3QpJiZ0aGlzLnByZWRpY2F0ZS5lcXVhbHMoZC5wcmVkaWNhdGUpJiZ0aGlzLm9iamVjdC5lcXVhbHMoZC5vYmplY3QpJiZ0aGlzLmdyYXBoLmVxdWFscyhkLmdyYXBoKX19ZS5RdWFkPW59LCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvVmFyaWFibGUuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuVmFyaWFibGU9dm9pZCAwO2NsYXNzIG57Y29uc3RydWN0b3IoZCl7dGhpcy50ZXJtVHlwZT0iVmFyaWFibGUiLHRoaXMudmFsdWU9ZH1lcXVhbHMoZCl7cmV0dXJuISFkJiZkLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmZC52YWx1ZT09PXRoaXMudmFsdWV9fWUuVmFyaWFibGU9bn0sIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUudGVybVRvU3RyaW5nPWUuc3RyaW5nVG9UZXJtPWUuc3RyaW5nUXVhZFRvUXVhZD1lLnF1YWRUb1N0cmluZ1F1YWQ9ZS5nZXRMaXRlcmFsVmFsdWU9ZS5nZXRMaXRlcmFsVHlwZT1lLmdldExpdGVyYWxMYW5ndWFnZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9saWIvVGVybVV0aWwuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZ2V0TGl0ZXJhbExhbmd1YWdlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRMaXRlcmFsTGFuZ3VhZ2V9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImdldExpdGVyYWxUeXBlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRMaXRlcmFsVHlwZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZ2V0TGl0ZXJhbFZhbHVlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRMaXRlcmFsVmFsdWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInF1YWRUb1N0cmluZ1F1YWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLnF1YWRUb1N0cmluZ1F1YWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInN0cmluZ1F1YWRUb1F1YWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLnN0cmluZ1F1YWRUb1F1YWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInN0cmluZ1RvVGVybSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uc3RyaW5nVG9UZXJtfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ0ZXJtVG9TdHJpbmciLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLnRlcm1Ub1N0cmluZ319KX0sIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2xpYi9UZXJtVXRpbC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnN0cmluZ1F1YWRUb1F1YWQ9ZS5xdWFkVG9TdHJpbmdRdWFkPWUuc3RyaW5nVG9UZXJtPWUuZ2V0TGl0ZXJhbExhbmd1YWdlPWUuZ2V0TGl0ZXJhbFR5cGU9ZS5nZXRMaXRlcmFsVmFsdWU9ZS50ZXJtVG9TdHJpbmc9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxkPW5ldyBvLkRhdGFGYWN0b3J5O2Z1bmN0aW9uIGgoXyl7aWYoXylzd2l0Y2goXy50ZXJtVHlwZSl7Y2FzZSJOYW1lZE5vZGUiOnJldHVybiBfLnZhbHVlO2Nhc2UiQmxhbmtOb2RlIjpyZXR1cm4iXzoiK18udmFsdWU7Y2FzZSJMaXRlcmFsIjpjb25zdCBPPV87cmV0dXJuJyInK08udmFsdWUrJyInKyhPLmRhdGF0eXBlJiZPLmRhdGF0eXBlLnZhbHVlIT09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZyImJk8uZGF0YXR5cGUudmFsdWUhPT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciPyJeXiIrTy5kYXRhdHlwZS52YWx1ZToiIikrKE8ubGFuZ3VhZ2U/IkAiK08ubGFuZ3VhZ2U6IiIpO2Nhc2UiUXVhZCI6cmV0dXJuYDw8JHtoKF8uc3ViamVjdCl9ICR7aChfLnByZWRpY2F0ZSl9ICR7aChfLm9iamVjdCl9JHtfLmdyYXBoLnRlcm1UeXBlPT09IkRlZmF1bHRHcmFwaCI/IiI6IiAiK2goXy5ncmFwaCl9Pj5gO2Nhc2UiVmFyaWFibGUiOnJldHVybiI/IitfLnZhbHVlO2Nhc2UiRGVmYXVsdEdyYXBoIjpyZXR1cm4gXy52YWx1ZX19ZS50ZXJtVG9TdHJpbmc9aDtmdW5jdGlvbiBsKF8pe2NvbnN0IE89L14iKFteXSopIi8uZXhlYyhfKTtpZighTyl0aHJvdyBuZXcgRXJyb3IoXysiIGlzIG5vdCBhIGxpdGVyYWwiKTtyZXR1cm4gT1sxXX1lLmdldExpdGVyYWxWYWx1ZT1sO2Z1bmN0aW9uIHUoXyl7Y29uc3QgTz0vXiJbXl0qIig/OlxeXF4oW14iXSspfChAKVteQCJdKyk/JC8uZXhlYyhfKTtpZighTyl0aHJvdyBuZXcgRXJyb3IoXysiIGlzIG5vdCBhIGxpdGVyYWwiKTtyZXR1cm4gT1sxXXx8KE9bMl0/Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNsYW5nU3RyaW5nIjoiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIil9ZS5nZXRMaXRlcmFsVHlwZT11O2Z1bmN0aW9uIHAoXyl7Y29uc3QgTz0vXiJbXl0qIig/OkAoW15AIl0rKXxcXlxeW14iXSspPyQvLmV4ZWMoXyk7aWYoIU8pdGhyb3cgbmV3IEVycm9yKF8rIiBpcyBub3QgYSBsaXRlcmFsIik7cmV0dXJuIE9bMV0/T1sxXS50b0xvd2VyQ2FzZSgpOiIifWUuZ2V0TGl0ZXJhbExhbmd1YWdlPXA7ZnVuY3Rpb24gZyhfLE8pe2lmKE89T3x8ZCwhX3x8IV8ubGVuZ3RoKXJldHVybiBPLmRlZmF1bHRHcmFwaCgpO3N3aXRjaChfWzBdKXtjYXNlIl8iOnJldHVybiBPLmJsYW5rTm9kZShfLnN1YnN0cigyKSk7Y2FzZSI/IjppZighTy52YXJpYWJsZSl0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgJ3ZhcmlhYmxlKCknIG1ldGhvZCBvbiB0aGUgZ2l2ZW4gRGF0YUZhY3RvcnkiKTtyZXR1cm4gTy52YXJpYWJsZShfLnN1YnN0cigxKSk7Y2FzZSciJzpjb25zdCBUPXAoXyksaj1PLm5hbWVkTm9kZSh1KF8pKTtyZXR1cm4gTy5saXRlcmFsKGwoXyksVHx8aik7Y2FzZSI8IjpkZWZhdWx0OmlmKF8uc3RhcnRzV2l0aCgiPDwiKSYmXy5lbmRzV2l0aCgiPj4iKSl7Y29uc3QgTj1fLnNsaWNlKDIsLTIpLnRyaW0oKTtsZXQgQj1bXSxDPTAsTD0wLFM9ITE7Zm9yKGxldCBQPTA7UDxOLmxlbmd0aDtQKyspe2NvbnN0IEY9TltQXTtpZihGPT09IjwiJiZDKyssRj09PSI+Iil7aWYoQz09PTApdGhyb3cgbmV3IEVycm9yKCJGb3VuZCBjbG9zaW5nIHRhZyB3aXRob3V0IG9wZW5pbmcgdGFnIGluICIrXyk7Qy0tfWlmKEY9PT0nIicpe2xldCBrPSExLEo9UDtmb3IoO0otLSA+MCYmTltKXT09PSJcXCI7KWs9IWs7a3x8KFM9IVMpfWlmKEY9PT0iICImJiFTJiZDPT09MCl7Zm9yKEIucHVzaChOLnNsaWNlKEwsUCkpO05bUCsxXT09PSIgIjspUCs9MTtMPVArMX19aWYoQyE9PTApdGhyb3cgbmV3IEVycm9yKCJGb3VuZCBvcGVuaW5nIHRhZyB3aXRob3V0IGNsb3NpbmcgdGFnIGluICIrXyk7aWYoQi5wdXNoKE4uc2xpY2UoTCxOLmxlbmd0aCkpLEIubGVuZ3RoIT09MyYmQi5sZW5ndGghPT00KXRocm93IG5ldyBFcnJvcigiTmVzdGVkIHF1YWQgc3ludGF4IGVycm9yICIrXyk7cmV0dXJuIEI9Qi5tYXAoUD0+UC5zdGFydHNXaXRoKCI8IikmJiFQLmluY2x1ZGVzKCIgIik/UC5zbGljZSgxLC0xKTpQKSxPLnF1YWQoZyhCWzBdKSxnKEJbMV0pLGcoQlsyXSksQlszXT9nKEJbM10pOnZvaWQgMCl9cmV0dXJuIE8ubmFtZWROb2RlKF8pfX1lLnN0cmluZ1RvVGVybT1nO2Z1bmN0aW9uIHYoXyl7cmV0dXJue3N1YmplY3Q6aChfLnN1YmplY3QpLHByZWRpY2F0ZTpoKF8ucHJlZGljYXRlKSxvYmplY3Q6aChfLm9iamVjdCksZ3JhcGg6aChfLmdyYXBoKX19ZS5xdWFkVG9TdHJpbmdRdWFkPXY7ZnVuY3Rpb24gYihfLE8pe3JldHVybiBPPU98fGQsTy5xdWFkKGcoXy5zdWJqZWN0LE8pLGcoXy5wcmVkaWNhdGUsTyksZyhfLm9iamVjdCxPKSxnKF8uZ3JhcGgsTykpfWUuc3RyaW5nUXVhZFRvUXVhZD1ifSwiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvbGliL1F1YWRUZXJtVXRpbC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9saWIvVGVybVV0aWwuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvbGliL1F1YWRUZXJtVXRpbC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm1hdGNoUGF0dGVybk1hcHBpbmdzPWUubWF0Y2hQYXR0ZXJuQ29tcGxldGU9ZS5tYXRjaFBhdHRlcm49ZS5tYXRjaFRlcm09ZS5zb21lVGVybXM9ZS5ldmVyeVRlcm1zPWUucmVkdWNlVGVybXM9ZS5tYXBUZXJtcz1lLmZpbHRlclF1YWRUZXJtTmFtZXM9ZS5maWx0ZXJUZXJtcz1lLmZvckVhY2hUZXJtcz1lLmNvbGxlY3ROYW1lZFRlcm1zPWUuZ2V0TmFtZWRUZXJtcz1lLmdldFRlcm1zTmVzdGVkPWUuZ2V0VGVybXM9ZS5UUklQTEVfVEVSTV9OQU1FUz1lLlFVQURfVEVSTV9OQU1FUz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGQ9bmV3IG8uRGF0YUZhY3Rvcnk7ZS5RVUFEX1RFUk1fTkFNRVM9WyJzdWJqZWN0IiwicHJlZGljYXRlIiwib2JqZWN0IiwiZ3JhcGgiXSxlLlRSSVBMRV9URVJNX05BTUVTPVsic3ViamVjdCIsInByZWRpY2F0ZSIsIm9iamVjdCJdO2Z1bmN0aW9uIGgoUyxQKXtyZXR1cm4gUCYmUy5ncmFwaC50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgiP1tTLnN1YmplY3QsUy5wcmVkaWNhdGUsUy5vYmplY3RdOltTLnN1YmplY3QsUy5wcmVkaWNhdGUsUy5vYmplY3QsUy5ncmFwaF19ZS5nZXRUZXJtcz1oO2Z1bmN0aW9uIGwoUyxQKXtjb25zdCBGPVtdO2Zvcihjb25zdCBrIG9mIGgoUyxQKSlrLnRlcm1UeXBlPT09IlF1YWQiP2woayxQKS5mb3JFYWNoKEo9PkYucHVzaChKKSk6Ri5wdXNoKGspO3JldHVybiBGfWUuZ2V0VGVybXNOZXN0ZWQ9bDtmdW5jdGlvbiB1KFMpe3JldHVyblt7a2V5OiJzdWJqZWN0Iix2YWx1ZTpTLnN1YmplY3R9LHtrZXk6InByZWRpY2F0ZSIsdmFsdWU6Uy5wcmVkaWNhdGV9LHtrZXk6Im9iamVjdCIsdmFsdWU6Uy5vYmplY3R9LHtrZXk6ImdyYXBoIix2YWx1ZTpTLmdyYXBofV19ZS5nZXROYW1lZFRlcm1zPXU7ZnVuY3Rpb24gcChTLFAsRil7Y29uc3Qgaz17fTtyZXR1cm4gUy5mb3JFYWNoKEo9PmtbSi5rZXldPUoudmFsdWUpLFAmJihrLnN1YmplY3Q9ay5zdWJqZWN0fHxQKCJzdWJqZWN0Iiksay5wcmVkaWNhdGU9ay5wcmVkaWNhdGV8fFAoInByZWRpY2F0ZSIpLGsub2JqZWN0PWsub2JqZWN0fHxQKCJvYmplY3QiKSxrLmdyYXBoPWsuZ3JhcGh8fFAoImdyYXBoIikpLChGfHxkKS5xdWFkKGsuc3ViamVjdCxrLnByZWRpY2F0ZSxrLm9iamVjdCxrLmdyYXBoKX1lLmNvbGxlY3ROYW1lZFRlcm1zPXA7ZnVuY3Rpb24gZyhTLFApe1AoUy5zdWJqZWN0LCJzdWJqZWN0IiksUChTLnByZWRpY2F0ZSwicHJlZGljYXRlIiksUChTLm9iamVjdCwib2JqZWN0IiksUChTLmdyYXBoLCJncmFwaCIpfWUuZm9yRWFjaFRlcm1zPWc7ZnVuY3Rpb24gdihTLFApe2NvbnN0IEY9W107cmV0dXJuIFAoUy5zdWJqZWN0LCJzdWJqZWN0IikmJkYucHVzaChTLnN1YmplY3QpLFAoUy5wcmVkaWNhdGUsInByZWRpY2F0ZSIpJiZGLnB1c2goUy5wcmVkaWNhdGUpLFAoUy5vYmplY3QsIm9iamVjdCIpJiZGLnB1c2goUy5vYmplY3QpLFAoUy5ncmFwaCwiZ3JhcGgiKSYmRi5wdXNoKFMuZ3JhcGgpLEZ9ZS5maWx0ZXJUZXJtcz12O2Z1bmN0aW9uIGIoUyxQKXtjb25zdCBGPVtdO3JldHVybiBQKFMuc3ViamVjdCwic3ViamVjdCIpJiZGLnB1c2goInN1YmplY3QiKSxQKFMucHJlZGljYXRlLCJwcmVkaWNhdGUiKSYmRi5wdXNoKCJwcmVkaWNhdGUiKSxQKFMub2JqZWN0LCJvYmplY3QiKSYmRi5wdXNoKCJvYmplY3QiKSxQKFMuZ3JhcGgsImdyYXBoIikmJkYucHVzaCgiZ3JhcGgiKSxGfWUuZmlsdGVyUXVhZFRlcm1OYW1lcz1iO2Z1bmN0aW9uIF8oUyxQLEYpe3JldHVybihGfHxkKS5xdWFkKFAoUy5zdWJqZWN0LCJzdWJqZWN0IiksUChTLnByZWRpY2F0ZSwicHJlZGljYXRlIiksUChTLm9iamVjdCwib2JqZWN0IiksUChTLmdyYXBoLCJncmFwaCIpKX1lLm1hcFRlcm1zPV87ZnVuY3Rpb24gTyhTLFAsRil7bGV0IGs9RjtyZXR1cm4gaz1QKGssUy5zdWJqZWN0LCJzdWJqZWN0Iiksaz1QKGssUy5wcmVkaWNhdGUsInByZWRpY2F0ZSIpLGs9UChrLFMub2JqZWN0LCJvYmplY3QiKSxQKGssUy5ncmFwaCwiZ3JhcGgiKX1lLnJlZHVjZVRlcm1zPU87ZnVuY3Rpb24gVChTLFApe3JldHVybiBQKFMuc3ViamVjdCwic3ViamVjdCIpJiZQKFMucHJlZGljYXRlLCJwcmVkaWNhdGUiKSYmUChTLm9iamVjdCwib2JqZWN0IikmJlAoUy5ncmFwaCwiZ3JhcGgiKX1lLmV2ZXJ5VGVybXM9VDtmdW5jdGlvbiBqKFMsUCl7cmV0dXJuIFAoUy5zdWJqZWN0LCJzdWJqZWN0Iil8fFAoUy5wcmVkaWNhdGUsInByZWRpY2F0ZSIpfHxQKFMub2JqZWN0LCJvYmplY3QiKXx8UChTLmdyYXBoLCJncmFwaCIpfWUuc29tZVRlcm1zPWo7ZnVuY3Rpb24gTihTLFApe3JldHVybiFQfHxQLnRlcm1UeXBlPT09IlZhcmlhYmxlInx8UC50ZXJtVHlwZT09PSJRdWFkIiYmUy50ZXJtVHlwZT09PSJRdWFkIiYmQyhTLFApfHxQLmVxdWFscyhTKX1lLm1hdGNoVGVybT1OO2Z1bmN0aW9uIEIoUyxQLEYsayxKKXtyZXR1cm4gTihTLnN1YmplY3QsUCkmJk4oUy5wcmVkaWNhdGUsRikmJk4oUy5vYmplY3QsaykmJk4oUy5ncmFwaCxKKX1lLm1hdGNoUGF0dGVybj1CO2Z1bmN0aW9uIEMoUyxQKXtyZXR1cm4gQihTLFAuc3ViamVjdCxQLnByZWRpY2F0ZSxQLm9iamVjdCxQLmdyYXBoKX1lLm1hdGNoUGF0dGVybkNvbXBsZXRlPUM7ZnVuY3Rpb24gTChTLFAsRj17fSl7Y29uc3Qgaz17fTtmdW5jdGlvbiBKKGFlLHEpe3JldHVybiBUKGFlLChHLHJlKT0+e3ZhciBNLCQ7Y29uc3QgVT1xW3JlXTtzd2l0Y2goRy50ZXJtVHlwZSl7Y2FzZSJWYXJpYWJsZSI6cmV0dXJuIEYuc2tpcFZhck1hcHBpbmcmJlUudGVybVR5cGU9PT0iVmFyaWFibGUifHwoKCQ9KE09a1tHLnZhbHVlXSk9PT1udWxsfHxNPT09dm9pZCAwP3ZvaWQgMDpNLmVxdWFscyhVKSkhPT1udWxsJiYkIT09dm9pZCAwPyQ6KGtbRy52YWx1ZV09VSwhMCkpO2Nhc2UiUXVhZCI6cmV0dXJuIFUudGVybVR5cGU9PT0iUXVhZCImJkooRyxVKTtkZWZhdWx0OnJldHVybiBHLmVxdWFscyhVKX19KX1yZXR1cm4gSihQLFMpJiYoRi5yZXR1cm5NYXBwaW5ncz9rOiEwKX1lLm1hdGNoUGF0dGVybk1hcHBpbmdzPUx9LCIuLi9ub2RlX21vZHVsZXMvcmRmLXRlcm1zL2xpYi9UZXJtVXRpbC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmdldFF1YWRzPWUuZ2V0RGVmYXVsdEdyYXBocz1lLmdldFZhcmlhYmxlcz1lLmdldExpdGVyYWxzPWUuZ2V0QmxhbmtOb2Rlcz1lLmdldE5hbWVkTm9kZXM9ZS5nZXRUZXJtc09mVHlwZT1lLnVuaXFUZXJtcz1lLlRFUk1fVFlQRVM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKTtlLlRFUk1fVFlQRVM9WyJOYW1lZE5vZGUiLCJCbGFua05vZGUiLCJMaXRlcmFsIiwiVmFyaWFibGUiLCJEZWZhdWx0R3JhcGgiLCJRdWFkIl07ZnVuY3Rpb24gZChfKXtjb25zdCBPPXt9O3JldHVybiBfLmZpbHRlcihUPT57Y29uc3Qgaj1vLnRlcm1Ub1N0cmluZyhUKTtyZXR1cm4hKGogaW4gTykmJihPW2pdPSEwKX0pfWUudW5pcVRlcm1zPWQ7ZnVuY3Rpb24gaChfLE8pe3JldHVybiBfLmZpbHRlcihUPT5ULnRlcm1UeXBlPT09Tyl9ZS5nZXRUZXJtc09mVHlwZT1oO2Z1bmN0aW9uIGwoXyl7cmV0dXJuIGgoXywiTmFtZWROb2RlIil9ZS5nZXROYW1lZE5vZGVzPWw7ZnVuY3Rpb24gdShfKXtyZXR1cm4gaChfLCJCbGFua05vZGUiKX1lLmdldEJsYW5rTm9kZXM9dTtmdW5jdGlvbiBwKF8pe3JldHVybiBoKF8sIkxpdGVyYWwiKX1lLmdldExpdGVyYWxzPXA7ZnVuY3Rpb24gZyhfKXtyZXR1cm4gaChfLCJWYXJpYWJsZSIpfWUuZ2V0VmFyaWFibGVzPWc7ZnVuY3Rpb24gdihfKXtyZXR1cm4gaChfLCJEZWZhdWx0R3JhcGgiKX1lLmdldERlZmF1bHRHcmFwaHM9djtmdW5jdGlvbiBiKF8pe3JldHVybiBoKF8sIlF1YWQiKX1lLmdldFF1YWRzPWJ9LCIuLi9ub2RlX21vZHVsZXMvcmVsYXRpdmUtdG8tYWJzb2x1dGUtaXJpL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3JlbGF0aXZlLXRvLWFic29sdXRlLWlyaS9saWIvUmVzb2x2ZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3JlbGF0aXZlLXRvLWFic29sdXRlLWlyaS9saWIvUmVzb2x2ZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5yZW1vdmVEb3RTZWdtZW50c09mUGF0aD1lLnJlbW92ZURvdFNlZ21lbnRzPWUucmVzb2x2ZT12b2lkIDA7ZnVuY3Rpb24gbihsLHUpe3U9dXx8IiI7Y29uc3QgcD11LmluZGV4T2YoIiMiKTtpZihwPjAmJih1PXUuc3Vic3RyKDAscCkpLCFsLmxlbmd0aCl7aWYodS5pbmRleE9mKCI6Iik8MCl0aHJvdyBuZXcgRXJyb3IoYEZvdW5kIGludmFsaWQgYmFzZUlSSSAnJHt1fScgZm9yIHZhbHVlICcke2x9J2ApO3JldHVybiB1fWlmKGwuc3RhcnRzV2l0aCgiPyIpKXtjb25zdCBqPXUuaW5kZXhPZigiPyIpO3JldHVybiBqPjAmJih1PXUuc3Vic3RyKDAsaikpLHUrbH1pZihsLnN0YXJ0c1dpdGgoIiMiKSlyZXR1cm4gdStsO2lmKCF1Lmxlbmd0aCl7Y29uc3Qgaj1sLmluZGV4T2YoIjoiKTtpZihqPDApdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBpbnZhbGlkIHJlbGF0aXZlIElSSSAnJHtsfScgZm9yIGEgbWlzc2luZyBiYXNlSVJJYCk7cmV0dXJuIGQobCxqKX1jb25zdCBnPWwuaW5kZXhPZigiOiIpO2lmKGc+PTApcmV0dXJuIGQobCxnKTtjb25zdCB2PXUuaW5kZXhPZigiOiIpO2lmKHY8MCl0aHJvdyBuZXcgRXJyb3IoYEZvdW5kIGludmFsaWQgYmFzZUlSSSAnJHt1fScgZm9yIHZhbHVlICcke2x9J2ApO2NvbnN0IGI9dS5zdWJzdHIoMCx2KzEpO2lmKGwuaW5kZXhPZigiLy8iKT09PTApcmV0dXJuIGIrZChsLGcpO2xldCBfO2lmKHUuaW5kZXhPZigiLy8iLHYpPT09disxKXtpZihfPXUuaW5kZXhPZigiLyIsdiszKSxfPDApcmV0dXJuIHUubGVuZ3RoPnYrMz91KyIvIitkKGwsZyk6YitkKGwsZyl9ZWxzZSBpZihfPXUuaW5kZXhPZigiLyIsdisxKSxfPDApcmV0dXJuIGIrZChsLGcpO2lmKGwuaW5kZXhPZigiLyIpPT09MClyZXR1cm4gdS5zdWJzdHIoMCxfKStvKGwpO2xldCBPPXUuc3Vic3RyKF8pO2NvbnN0IFQ9Ty5sYXN0SW5kZXhPZigiLyIpO3JldHVybiBUPj0wJiZUPE8ubGVuZ3RoLTEmJihPPU8uc3Vic3RyKDAsVCsxKSxsWzBdPT09Ii4iJiZsWzFdIT09Ii4iJiZsWzFdIT09Ii8iJiZsWzJdJiYobD1sLnN1YnN0cigxKSkpLGw9TytsLGw9byhsKSx1LnN1YnN0cigwLF8pK2x9ZS5yZXNvbHZlPW47ZnVuY3Rpb24gbyhsKXtjb25zdCB1PVtdO2xldCBwPTA7Zm9yKDtwPGwubGVuZ3RoOylzd2l0Y2gobFtwXSl7Y2FzZSIvIjppZihsW3ArMV09PT0iLiIpaWYobFtwKzJdPT09Ii4iKXtpZighaChsW3ArM10pKXt1LnB1c2goW10pLHArKzticmVha311LnBvcCgpLGxbcCszXXx8dS5wdXNoKFtdKSxwKz0zfWVsc2V7aWYoIWgobFtwKzJdKSl7dS5wdXNoKFtdKSxwKys7YnJlYWt9bFtwKzJdfHx1LnB1c2goW10pLHArPTJ9ZWxzZSB1LnB1c2goW10pLHArKzticmVhaztjYXNlIiMiOmNhc2UiPyI6dS5sZW5ndGh8fHUucHVzaChbXSksdVt1Lmxlbmd0aC0xXS5wdXNoKGwuc3Vic3RyKHApKSxwPWwubGVuZ3RoO2JyZWFrO2RlZmF1bHQ6dS5sZW5ndGh8fHUucHVzaChbXSksdVt1Lmxlbmd0aC0xXS5wdXNoKGxbcF0pLHArKzticmVha31yZXR1cm4iLyIrdS5tYXAoZz0+Zy5qb2luKCIiKSkuam9pbigiLyIpfWUucmVtb3ZlRG90U2VnbWVudHM9bztmdW5jdGlvbiBkKGwsdSl7bGV0IHA9dSsxO3U+PTA/bFt1KzFdPT09Ii8iJiZsW3UrMl09PT0iLyImJihwPXUrMyk6bFswXT09PSIvIiYmbFsxXT09PSIvIiYmKHA9Mik7Y29uc3QgZz1sLmluZGV4T2YoIi8iLHApO2lmKGc8MClyZXR1cm4gbDtjb25zdCB2PWwuc3Vic3RyKDAsZyksYj1sLnN1YnN0cihnKTtyZXR1cm4gditvKGIpfWUucmVtb3ZlRG90U2VnbWVudHNPZlBhdGg9ZDtmdW5jdGlvbiBoKGwpe3JldHVybiFsfHxsPT09IiMifHxsPT09Ij8ifHxsPT09Ii8ifX0sIi4uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIjp0PT57KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lKCl9KShmdW5jdGlvbihlKXt2YXIgbj1bIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiXTtmdW5jdGlvbiBvKE4sQil7dmFyIEM9TlswXSxMPU5bMV0sUz1OWzJdLFA9TlszXTtDKz0oTCZTfH5MJlApK0JbMF0tNjgwODc2OTM2fDAsQz0oQzw8N3xDPj4+MjUpK0x8MCxQKz0oQyZMfH5DJlMpK0JbMV0tMzg5NTY0NTg2fDAsUD0oUDw8MTJ8UD4+PjIwKStDfDAsUys9KFAmQ3x+UCZMKStCWzJdKzYwNjEwNTgxOXwwLFM9KFM8PDE3fFM+Pj4xNSkrUHwwLEwrPShTJlB8flMmQykrQlszXS0xMDQ0NTI1MzMwfDAsTD0oTDw8MjJ8TD4+PjEwKStTfDAsQys9KEwmU3x+TCZQKStCWzRdLTE3NjQxODg5N3wwLEM9KEM8PDd8Qz4+PjI1KStMfDAsUCs9KEMmTHx+QyZTKStCWzVdKzEyMDAwODA0MjZ8MCxQPShQPDwxMnxQPj4+MjApK0N8MCxTKz0oUCZDfH5QJkwpK0JbNl0tMTQ3MzIzMTM0MXwwLFM9KFM8PDE3fFM+Pj4xNSkrUHwwLEwrPShTJlB8flMmQykrQls3XS00NTcwNTk4M3wwLEw9KEw8PDIyfEw+Pj4xMCkrU3wwLEMrPShMJlN8fkwmUCkrQls4XSsxNzcwMDM1NDE2fDAsQz0oQzw8N3xDPj4+MjUpK0x8MCxQKz0oQyZMfH5DJlMpK0JbOV0tMTk1ODQxNDQxN3wwLFA9KFA8PDEyfFA+Pj4yMCkrQ3wwLFMrPShQJkN8flAmTCkrQlsxMF0tNDIwNjN8MCxTPShTPDwxN3xTPj4+MTUpK1B8MCxMKz0oUyZQfH5TJkMpK0JbMTFdLTE5OTA0MDQxNjJ8MCxMPShMPDwyMnxMPj4+MTApK1N8MCxDKz0oTCZTfH5MJlApK0JbMTJdKzE4MDQ2MDM2ODJ8MCxDPShDPDw3fEM+Pj4yNSkrTHwwLFArPShDJkx8fkMmUykrQlsxM10tNDAzNDExMDF8MCxQPShQPDwxMnxQPj4+MjApK0N8MCxTKz0oUCZDfH5QJkwpK0JbMTRdLTE1MDIwMDIyOTB8MCxTPShTPDwxN3xTPj4+MTUpK1B8MCxMKz0oUyZQfH5TJkMpK0JbMTVdKzEyMzY1MzUzMjl8MCxMPShMPDwyMnxMPj4+MTApK1N8MCxDKz0oTCZQfFMmflApK0JbMV0tMTY1Nzk2NTEwfDAsQz0oQzw8NXxDPj4+MjcpK0x8MCxQKz0oQyZTfEwmflMpK0JbNl0tMTA2OTUwMTYzMnwwLFA9KFA8PDl8UD4+PjIzKStDfDAsUys9KFAmTHxDJn5MKStCWzExXSs2NDM3MTc3MTN8MCxTPShTPDwxNHxTPj4+MTgpK1B8MCxMKz0oUyZDfFAmfkMpK0JbMF0tMzczODk3MzAyfDAsTD0oTDw8MjB8TD4+PjEyKStTfDAsQys9KEwmUHxTJn5QKStCWzVdLTcwMTU1ODY5MXwwLEM9KEM8PDV8Qz4+PjI3KStMfDAsUCs9KEMmU3xMJn5TKStCWzEwXSszODAxNjA4M3wwLFA9KFA8PDl8UD4+PjIzKStDfDAsUys9KFAmTHxDJn5MKStCWzE1XS02NjA0NzgzMzV8MCxTPShTPDwxNHxTPj4+MTgpK1B8MCxMKz0oUyZDfFAmfkMpK0JbNF0tNDA1NTM3ODQ4fDAsTD0oTDw8MjB8TD4+PjEyKStTfDAsQys9KEwmUHxTJn5QKStCWzldKzU2ODQ0NjQzOHwwLEM9KEM8PDV8Qz4+PjI3KStMfDAsUCs9KEMmU3xMJn5TKStCWzE0XS0xMDE5ODAzNjkwfDAsUD0oUDw8OXxQPj4+MjMpK0N8MCxTKz0oUCZMfEMmfkwpK0JbM10tMTg3MzYzOTYxfDAsUz0oUzw8MTR8Uz4+PjE4KStQfDAsTCs9KFMmQ3xQJn5DKStCWzhdKzExNjM1MzE1MDF8MCxMPShMPDwyMHxMPj4+MTIpK1N8MCxDKz0oTCZQfFMmflApK0JbMTNdLTE0NDQ2ODE0Njd8MCxDPShDPDw1fEM+Pj4yNykrTHwwLFArPShDJlN8TCZ+UykrQlsyXS01MTQwMzc4NHwwLFA9KFA8PDl8UD4+PjIzKStDfDAsUys9KFAmTHxDJn5MKStCWzddKzE3MzUzMjg0NzN8MCxTPShTPDwxNHxTPj4+MTgpK1B8MCxMKz0oUyZDfFAmfkMpK0JbMTJdLTE5MjY2MDc3MzR8MCxMPShMPDwyMHxMPj4+MTIpK1N8MCxDKz0oTF5TXlApK0JbNV0tMzc4NTU4fDAsQz0oQzw8NHxDPj4+MjgpK0x8MCxQKz0oQ15MXlMpK0JbOF0tMjAyMjU3NDQ2M3wwLFA9KFA8PDExfFA+Pj4yMSkrQ3wwLFMrPShQXkNeTCkrQlsxMV0rMTgzOTAzMDU2MnwwLFM9KFM8PDE2fFM+Pj4xNikrUHwwLEwrPShTXlBeQykrQlsxNF0tMzUzMDk1NTZ8MCxMPShMPDwyM3xMPj4+OSkrU3wwLEMrPShMXlNeUCkrQlsxXS0xNTMwOTkyMDYwfDAsQz0oQzw8NHxDPj4+MjgpK0x8MCxQKz0oQ15MXlMpK0JbNF0rMTI3Mjg5MzM1M3wwLFA9KFA8PDExfFA+Pj4yMSkrQ3wwLFMrPShQXkNeTCkrQls3XS0xNTU0OTc2MzJ8MCxTPShTPDwxNnxTPj4+MTYpK1B8MCxMKz0oU15QXkMpK0JbMTBdLTEwOTQ3MzA2NDB8MCxMPShMPDwyM3xMPj4+OSkrU3wwLEMrPShMXlNeUCkrQlsxM10rNjgxMjc5MTc0fDAsQz0oQzw8NHxDPj4+MjgpK0x8MCxQKz0oQ15MXlMpK0JbMF0tMzU4NTM3MjIyfDAsUD0oUDw8MTF8UD4+PjIxKStDfDAsUys9KFBeQ15MKStCWzNdLTcyMjUyMTk3OXwwLFM9KFM8PDE2fFM+Pj4xNikrUHwwLEwrPShTXlBeQykrQls2XSs3NjAyOTE4OXwwLEw9KEw8PDIzfEw+Pj45KStTfDAsQys9KExeU15QKStCWzldLTY0MDM2NDQ4N3wwLEM9KEM8PDR8Qz4+PjI4KStMfDAsUCs9KENeTF5TKStCWzEyXS00MjE4MTU4MzV8MCxQPShQPDwxMXxQPj4+MjEpK0N8MCxTKz0oUF5DXkwpK0JbMTVdKzUzMDc0MjUyMHwwLFM9KFM8PDE2fFM+Pj4xNikrUHwwLEwrPShTXlBeQykrQlsyXS05OTUzMzg2NTF8MCxMPShMPDwyM3xMPj4+OSkrU3wwLEMrPShTXihMfH5QKSkrQlswXS0xOTg2MzA4NDR8MCxDPShDPDw2fEM+Pj4yNikrTHwwLFArPShMXihDfH5TKSkrQls3XSsxMTI2ODkxNDE1fDAsUD0oUDw8MTB8UD4+PjIyKStDfDAsUys9KENeKFB8fkwpKStCWzE0XS0xNDE2MzU0OTA1fDAsUz0oUzw8MTV8Uz4+PjE3KStQfDAsTCs9KFBeKFN8fkMpKStCWzVdLTU3NDM0MDU1fDAsTD0oTDw8MjF8TD4+PjExKStTfDAsQys9KFNeKEx8flApKStCWzEyXSsxNzAwNDg1NTcxfDAsQz0oQzw8NnxDPj4+MjYpK0x8MCxQKz0oTF4oQ3x+UykpK0JbM10tMTg5NDk4NjYwNnwwLFA9KFA8PDEwfFA+Pj4yMikrQ3wwLFMrPShDXihQfH5MKSkrQlsxMF0tMTA1MTUyM3wwLFM9KFM8PDE1fFM+Pj4xNykrUHwwLEwrPShQXihTfH5DKSkrQlsxXS0yMDU0OTIyNzk5fDAsTD0oTDw8MjF8TD4+PjExKStTfDAsQys9KFNeKEx8flApKStCWzhdKzE4NzMzMTMzNTl8MCxDPShDPDw2fEM+Pj4yNikrTHwwLFArPShMXihDfH5TKSkrQlsxNV0tMzA2MTE3NDR8MCxQPShQPDwxMHxQPj4+MjIpK0N8MCxTKz0oQ14oUHx+TCkpK0JbNl0tMTU2MDE5ODM4MHwwLFM9KFM8PDE1fFM+Pj4xNykrUHwwLEwrPShQXihTfH5DKSkrQlsxM10rMTMwOTE1MTY0OXwwLEw9KEw8PDIxfEw+Pj4xMSkrU3wwLEMrPShTXihMfH5QKSkrQls0XS0xNDU1MjMwNzB8MCxDPShDPDw2fEM+Pj4yNikrTHwwLFArPShMXihDfH5TKSkrQlsxMV0tMTEyMDIxMDM3OXwwLFA9KFA8PDEwfFA+Pj4yMikrQ3wwLFMrPShDXihQfH5MKSkrQlsyXSs3MTg3ODcyNTl8MCxTPShTPDwxNXxTPj4+MTcpK1B8MCxMKz0oUF4oU3x+QykpK0JbOV0tMzQzNDg1NTUxfDAsTD0oTDw8MjF8TD4+PjExKStTfDAsTlswXT1DK05bMF18MCxOWzFdPUwrTlsxXXwwLE5bMl09UytOWzJdfDAsTlszXT1QK05bM118MH1mdW5jdGlvbiBkKE4pe3ZhciBCPVtdLEM7Zm9yKEM9MDtDPDY0O0MrPTQpQltDPj4yXT1OLmNoYXJDb2RlQXQoQykrKE4uY2hhckNvZGVBdChDKzEpPDw4KSsoTi5jaGFyQ29kZUF0KEMrMik8PDE2KSsoTi5jaGFyQ29kZUF0KEMrMyk8PDI0KTtyZXR1cm4gQn1mdW5jdGlvbiBoKE4pe3ZhciBCPVtdLEM7Zm9yKEM9MDtDPDY0O0MrPTQpQltDPj4yXT1OW0NdKyhOW0MrMV08PDgpKyhOW0MrMl08PDE2KSsoTltDKzNdPDwyNCk7cmV0dXJuIEJ9ZnVuY3Rpb24gbChOKXt2YXIgQj1OLmxlbmd0aCxDPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSxMLFMsUCxGLGssSjtmb3IoTD02NDtMPD1CO0wrPTY0KW8oQyxkKE4uc3Vic3RyaW5nKEwtNjQsTCkpKTtmb3IoTj1OLnN1YnN0cmluZyhMLTY0KSxTPU4ubGVuZ3RoLFA9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLEw9MDtMPFM7TCs9MSlQW0w+PjJdfD1OLmNoYXJDb2RlQXQoTCk8PChMJTQ8PDMpO2lmKFBbTD4+Ml18PTEyODw8KEwlNDw8MyksTD41NSlmb3IobyhDLFApLEw9MDtMPDE2O0wrPTEpUFtMXT0wO3JldHVybiBGPUIqOCxGPUYudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLGs9cGFyc2VJbnQoRlsyXSwxNiksSj1wYXJzZUludChGWzFdLDE2KXx8MCxQWzE0XT1rLFBbMTVdPUosbyhDLFApLEN9ZnVuY3Rpb24gdShOKXt2YXIgQj1OLmxlbmd0aCxDPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSxMLFMsUCxGLGssSjtmb3IoTD02NDtMPD1CO0wrPTY0KW8oQyxoKE4uc3ViYXJyYXkoTC02NCxMKSkpO2ZvcihOPUwtNjQ8Qj9OLnN1YmFycmF5KEwtNjQpOm5ldyBVaW50OEFycmF5KDApLFM9Ti5sZW5ndGgsUD1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sTD0wO0w8UztMKz0xKVBbTD4+Ml18PU5bTF08PChMJTQ8PDMpO2lmKFBbTD4+Ml18PTEyODw8KEwlNDw8MyksTD41NSlmb3IobyhDLFApLEw9MDtMPDE2O0wrPTEpUFtMXT0wO3JldHVybiBGPUIqOCxGPUYudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLGs9cGFyc2VJbnQoRlsyXSwxNiksSj1wYXJzZUludChGWzFdLDE2KXx8MCxQWzE0XT1rLFBbMTVdPUosbyhDLFApLEN9ZnVuY3Rpb24gcChOKXt2YXIgQj0iIixDO2ZvcihDPTA7Qzw0O0MrPTEpQis9bltOPj5DKjgrNCYxNV0rbltOPj5DKjgmMTVdO3JldHVybiBCfWZ1bmN0aW9uIGcoTil7dmFyIEI7Zm9yKEI9MDtCPE4ubGVuZ3RoO0IrPTEpTltCXT1wKE5bQl0pO3JldHVybiBOLmpvaW4oIiIpfWcobCgiaGVsbG8iKSksdHlwZW9mIEFycmF5QnVmZmVyPCJ1IiYmIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSYmZnVuY3Rpb24oKXtmdW5jdGlvbiBOKEIsQyl7cmV0dXJuIEI9QnwwfHwwLEI8MD9NYXRoLm1heChCK0MsMCk6TWF0aC5taW4oQixDKX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oQixDKXt2YXIgTD10aGlzLmJ5dGVMZW5ndGgsUz1OKEIsTCksUD1MLEYsayxKLGFlO3JldHVybiBDIT09ZSYmKFA9TihDLEwpKSxTPlA/bmV3IEFycmF5QnVmZmVyKDApOihGPVAtUyxrPW5ldyBBcnJheUJ1ZmZlcihGKSxKPW5ldyBVaW50OEFycmF5KGspLGFlPW5ldyBVaW50OEFycmF5KHRoaXMsUyxGKSxKLnNldChhZSksayl9fSgpO2Z1bmN0aW9uIHYoTil7cmV0dXJuL1tcdTAwODAtXHVGRkZGXS8udGVzdChOKSYmKE49dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KE4pKSksTn1mdW5jdGlvbiBiKE4sQil7dmFyIEM9Ti5sZW5ndGgsTD1uZXcgQXJyYXlCdWZmZXIoQyksUz1uZXcgVWludDhBcnJheShMKSxQO2ZvcihQPTA7UDxDO1ArPTEpU1tQXT1OLmNoYXJDb2RlQXQoUCk7cmV0dXJuIEI/UzpMfWZ1bmN0aW9uIF8oTil7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShOKSl9ZnVuY3Rpb24gTyhOLEIsQyl7dmFyIEw9bmV3IFVpbnQ4QXJyYXkoTi5ieXRlTGVuZ3RoK0IuYnl0ZUxlbmd0aCk7cmV0dXJuIEwuc2V0KG5ldyBVaW50OEFycmF5KE4pKSxMLnNldChuZXcgVWludDhBcnJheShCKSxOLmJ5dGVMZW5ndGgpLEM/TDpMLmJ1ZmZlcn1mdW5jdGlvbiBUKE4pe3ZhciBCPVtdLEM9Ti5sZW5ndGgsTDtmb3IoTD0wO0w8Qy0xO0wrPTIpQi5wdXNoKHBhcnNlSW50KE4uc3Vic3RyKEwsMiksMTYpKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsQil9ZnVuY3Rpb24gaigpe3RoaXMucmVzZXQoKX1yZXR1cm4gai5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKE4pe3JldHVybiB0aGlzLmFwcGVuZEJpbmFyeSh2KE4pKSx0aGlzfSxqLnByb3RvdHlwZS5hcHBlbmRCaW5hcnk9ZnVuY3Rpb24oTil7dGhpcy5fYnVmZis9Tix0aGlzLl9sZW5ndGgrPU4ubGVuZ3RoO3ZhciBCPXRoaXMuX2J1ZmYubGVuZ3RoLEM7Zm9yKEM9NjQ7Qzw9QjtDKz02NClvKHRoaXMuX2hhc2gsZCh0aGlzLl9idWZmLnN1YnN0cmluZyhDLTY0LEMpKSk7cmV0dXJuIHRoaXMuX2J1ZmY9dGhpcy5fYnVmZi5zdWJzdHJpbmcoQy02NCksdGhpc30sai5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKE4pe3ZhciBCPXRoaXMuX2J1ZmYsQz1CLmxlbmd0aCxMLFM9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLFA7Zm9yKEw9MDtMPEM7TCs9MSlTW0w+PjJdfD1CLmNoYXJDb2RlQXQoTCk8PChMJTQ8PDMpO3JldHVybiB0aGlzLl9maW5pc2goUyxDKSxQPWcodGhpcy5faGFzaCksTiYmKFA9VChQKSksdGhpcy5yZXNldCgpLFB9LGoucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmY9IiIsdGhpcy5fbGVuZ3RoPTAsdGhpcy5faGFzaD1bMTczMjU4NDE5MywtMjcxNzMzODc5LC0xNzMyNTg0MTk0LDI3MTczMzg3OF0sdGhpc30sai5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm57YnVmZjp0aGlzLl9idWZmLGxlbmd0aDp0aGlzLl9sZW5ndGgsaGFzaDp0aGlzLl9oYXNoLnNsaWNlKCl9fSxqLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihOKXtyZXR1cm4gdGhpcy5fYnVmZj1OLmJ1ZmYsdGhpcy5fbGVuZ3RoPU4ubGVuZ3RoLHRoaXMuX2hhc2g9Ti5oYXNoLHRoaXN9LGoucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5faGFzaCxkZWxldGUgdGhpcy5fYnVmZixkZWxldGUgdGhpcy5fbGVuZ3RofSxqLnByb3RvdHlwZS5fZmluaXNoPWZ1bmN0aW9uKE4sQil7dmFyIEM9QixMLFMsUDtpZihOW0M+PjJdfD0xMjg8PChDJTQ8PDMpLEM+NTUpZm9yKG8odGhpcy5faGFzaCxOKSxDPTA7QzwxNjtDKz0xKU5bQ109MDtMPXRoaXMuX2xlbmd0aCo4LEw9TC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyksUz1wYXJzZUludChMWzJdLDE2KSxQPXBhcnNlSW50KExbMV0sMTYpfHwwLE5bMTRdPVMsTlsxNV09UCxvKHRoaXMuX2hhc2gsTil9LGouaGFzaD1mdW5jdGlvbihOLEIpe3JldHVybiBqLmhhc2hCaW5hcnkodihOKSxCKX0sai5oYXNoQmluYXJ5PWZ1bmN0aW9uKE4sQil7dmFyIEM9bChOKSxMPWcoQyk7cmV0dXJuIEI/VChMKTpMfSxqLkFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSxqLkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oTil7dmFyIEI9Tyh0aGlzLl9idWZmLmJ1ZmZlcixOLCEwKSxDPUIubGVuZ3RoLEw7Zm9yKHRoaXMuX2xlbmd0aCs9Ti5ieXRlTGVuZ3RoLEw9NjQ7TDw9QztMKz02NClvKHRoaXMuX2hhc2gsaChCLnN1YmFycmF5KEwtNjQsTCkpKTtyZXR1cm4gdGhpcy5fYnVmZj1MLTY0PEM/bmV3IFVpbnQ4QXJyYXkoQi5idWZmZXIuc2xpY2UoTC02NCkpOm5ldyBVaW50OEFycmF5KDApLHRoaXN9LGouQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbihOKXt2YXIgQj10aGlzLl9idWZmLEM9Qi5sZW5ndGgsTD1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sUyxQO2ZvcihTPTA7UzxDO1MrPTEpTFtTPj4yXXw9QltTXTw8KFMlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChMLEMpLFA9Zyh0aGlzLl9oYXNoKSxOJiYoUD1UKFApKSx0aGlzLnJlc2V0KCksUH0sai5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZj1uZXcgVWludDhBcnJheSgwKSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9oYXNoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSx0aGlzfSxqLkFycmF5QnVmZmVyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciBOPWoucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7cmV0dXJuIE4uYnVmZj1fKE4uYnVmZiksTn0sai5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oTil7cmV0dXJuIE4uYnVmZj1iKE4uYnVmZiwhMCksai5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLE4pfSxqLkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95PWoucHJvdG90eXBlLmRlc3Ryb3ksai5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaD1qLnByb3RvdHlwZS5fZmluaXNoLGouQXJyYXlCdWZmZXIuaGFzaD1mdW5jdGlvbihOLEIpe3ZhciBDPXUobmV3IFVpbnQ4QXJyYXkoTikpLEw9ZyhDKTtyZXR1cm4gQj9UKEwpOkx9LGp9KX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2luZGV4LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3I9ZS5vcmRlclR5cGVzPWUuaXNFeHByZXNzaW9uRXJyb3I9ZS5FeHByZXNzaW9uRXJyb3I9ZS5BZ2dyZWdhdGVFdmFsdWF0b3I9ZS5TeW5jRXZhbHVhdG9yPWUuQXN5bmNFdmFsdWF0b3I9dm9pZCAwO3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL0FzeW5jRXZhbHVhdG9yLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFzeW5jRXZhbHVhdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5Bc3luY0V2YWx1YXRvcn19KTt2YXIgZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9TeW5jRXZhbHVhdG9yLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlN5bmNFdmFsdWF0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkLlN5bmNFdmFsdWF0b3J9fSk7dmFyIGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvQWdncmVnYXRlRXZhbHVhdG9yLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFnZ3JlZ2F0ZUV2YWx1YXRvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGguQWdncmVnYXRlRXZhbHVhdG9yfX0pO3ZhciBsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJFeHByZXNzaW9uRXJyb3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLkV4cHJlc3Npb25FcnJvcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiaXNFeHByZXNzaW9uRXJyb3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLmlzRXhwcmVzc2lvbkVycm9yfX0pO3ZhciB1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL09yZGVyaW5nLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm9yZGVyVHlwZXMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1Lm9yZGVyVHlwZXN9fSk7dmFyIHA9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3IuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLkFzeW5jQWdncmVnYXRlRXZhbHVhdG9yfX0pfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0F2ZXJhZ2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BdmVyYWdlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9CYXNlQWdncmVnYXRvci5qcyIpO2NsYXNzIHAgZXh0ZW5kcyB1LkJhc2VBZ2dyZWdhdG9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnN1bW1lcj1kLnJlZ3VsYXJGdW5jdGlvbnNbbC5SZWd1bGFyT3BlcmF0b3IuQURESVRJT05dLHRoaXMuZGl2aWRlcj1kLnJlZ3VsYXJGdW5jdGlvbnNbbC5SZWd1bGFyT3BlcmF0b3IuRElWSVNJT05dfXN0YXRpYyBlbXB0eVZhbHVlKCl7cmV0dXJuKDAsaC5pbnRlZ2VyKSgwKS50b1JERigpfWluaXQodil7cmV0dXJue3N1bTp0aGlzLnRlcm1Ub051bWVyaWNPckVycm9yKHYpLGNvdW50OjF9fXB1dCh2LGIpe2NvbnN0IF89dGhpcy50ZXJtVG9OdW1lcmljT3JFcnJvcihiKTtyZXR1cm57c3VtOnRoaXMuc3VtbWVyLmFwcGx5KFt2LnN1bSxfXSx0aGlzLnNoYXJlZENvbnRleHQpLGNvdW50OnYuY291bnQrMX19cmVzdWx0KHYpe2NvbnN0IGI9bmV3IG8uSW50ZWdlckxpdGVyYWwodi5jb3VudCk7cmV0dXJuIHRoaXMuZGl2aWRlci5hcHBseShbdi5zdW0sYl0sdGhpcy5zaGFyZWRDb250ZXh0KS50b1JERigpfX1lLkF2ZXJhZ2U9cH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9CYXNlQWdncmVnYXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJhc2VBZ2dyZWdhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvVGVybVRyYW5zZm9ybWVyLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1R5cGVIYW5kbGluZy5qcyIpO2NsYXNzIGx7Y29uc3RydWN0b3IocCxnKXt0aGlzLnNoYXJlZENvbnRleHQ9Zyx0aGlzLmRpc3RpbmN0PXAuZGlzdGluY3QsdGhpcy5zZXBhcmF0b3I9cC5zZXBhcmF0b3J8fCIgIix0aGlzLnRlcm1UcmFuc2Zvcm1lcj1uZXcgby5UZXJtVHJhbnNmb3JtZXIoZy5zdXBlclR5cGVQcm92aWRlcil9dGVybVRvTnVtZXJpY09yRXJyb3IocCl7aWYocC50ZXJtVHlwZSE9PSJMaXRlcmFsIil0aHJvdyBuZXcgRXJyb3IoYFRlcm0gd2l0aCB2YWx1ZSAke3AudmFsdWV9IGhhcyB0eXBlICR7cC50ZXJtVHlwZX0gYW5kIGlzIG5vdCBhIG51bWVyaWMgbGl0ZXJhbGApO2lmKCEoMCxoLmlzU3ViVHlwZU9mKShwLmRhdGF0eXBlLnZhbHVlLGQuVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDLHRoaXMuc2hhcmVkQ29udGV4dC5zdXBlclR5cGVQcm92aWRlcikpdGhyb3cgbmV3IEVycm9yKGBUZXJtIGRhdGF0eXBlICR7cC5kYXRhdHlwZS52YWx1ZX0gd2l0aCB2YWx1ZSAke3AudmFsdWV9IGhhcyB0eXBlICR7cC50ZXJtVHlwZX0gYW5kIGlzIG5vdCBhIG51bWVyaWMgbGl0ZXJhbGApO3JldHVybiB0aGlzLnRlcm1UcmFuc2Zvcm1lci50cmFuc2Zvcm1MaXRlcmFsKHApfWV4dHJhY3RWYWx1ZShwKXtpZihwLnRlcm1UeXBlIT09IkxpdGVyYWwiKXRocm93IG5ldyBFcnJvcihgVGVybSB3aXRoIHZhbHVlICR7cC52YWx1ZX0gaGFzIHR5cGUgJHtwLnRlcm1UeXBlfSBhbmQgaXMgbm90IGEgbGl0ZXJhbGApO2NvbnN0IGc9dGhpcy50ZXJtVHJhbnNmb3JtZXIudHJhbnNmb3JtTGl0ZXJhbChwKTtyZXR1cm57dHlwZTpnLmRhdGFUeXBlLHZhbHVlOmcudHlwZWRWYWx1ZX19c3RhdGljIGVtcHR5VmFsdWUoKXt9fWUuQmFzZUFnZ3JlZ2F0b3I9bH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9Db3VudC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkNvdW50PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIik7Y2xhc3MgaCBleHRlbmRzIGQuQmFzZUFnZ3JlZ2F0b3J7c3RhdGljIGVtcHR5VmFsdWUoKXtyZXR1cm4oMCxvLmludGVnZXIpKDApLnRvUkRGKCl9aW5pdCh1KXtyZXR1cm4gMX1wdXQodSxwKXtyZXR1cm4gdSsxfXJlc3VsdCh1KXtyZXR1cm4oMCxvLmludGVnZXIpKHUpLnRvUkRGKCl9fWUuQ291bnQ9aH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9Hcm91cENvbmNhdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkdyb3VwQ29uY2F0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIik7Y2xhc3MgaCBleHRlbmRzIGQuQmFzZUFnZ3JlZ2F0b3J7c3RhdGljIGVtcHR5VmFsdWUoKXtyZXR1cm4oMCxvLnN0cmluZykoIiIpLnRvUkRGKCl9aW5pdCh1KXtyZXR1cm4gdS52YWx1ZX1wdXQodSxwKXtyZXR1cm4gdSt0aGlzLnNlcGFyYXRvcitwLnZhbHVlfXJlc3VsdCh1KXtyZXR1cm4oMCxvLnN0cmluZykodSkudG9SREYoKX19ZS5Hcm91cENvbmNhdD1ofSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL01heC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1heD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQmFzZUFnZ3JlZ2F0b3IuanMiKTtjbGFzcyBkIGV4dGVuZHMgby5CYXNlQWdncmVnYXRvcntpbml0KGwpe2NvbnN0e3ZhbHVlOnV9PXRoaXMuZXh0cmFjdFZhbHVlKGwpO3JldHVybntleHRyZW1lVmFsdWU6dSx0ZXJtOmx9fXB1dChsLHUpe2NvbnN0IHA9dGhpcy5leHRyYWN0VmFsdWUodSk7cmV0dXJuIHAudmFsdWU+bC5leHRyZW1lVmFsdWU/e2V4dHJlbWVWYWx1ZTpwLnZhbHVlLHRlcm06dX06bH1yZXN1bHQobCl7cmV0dXJuIGwudGVybX19ZS5NYXg9ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9NaW4uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NaW49dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQmFzZUFnZ3JlZ2F0b3J7aW5pdChsKXtjb25zdHt2YWx1ZTp1fT10aGlzLmV4dHJhY3RWYWx1ZShsKTtyZXR1cm57ZXh0cmVtZVZhbHVlOnUsdGVybTpsfX1wdXQobCx1KXtjb25zdCBwPXRoaXMuZXh0cmFjdFZhbHVlKHUpO3JldHVybiBwLnZhbHVlPGwuZXh0cmVtZVZhbHVlP3tleHRyZW1lVmFsdWU6cC52YWx1ZSx0ZXJtOnV9Omx9cmVzdWx0KGwpe3JldHVybiBsLnRlcm19fWUuTWluPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvU2FtcGxlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU2FtcGxlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9CYXNlQWdncmVnYXRvci5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkJhc2VBZ2dyZWdhdG9ye2luaXQobCl7cmV0dXJuIGx9cHV0KGwsdSl7cmV0dXJuIGx9cmVzdWx0KGwpe3JldHVybiBsfX1lLlNhbXBsZT1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL1N1bS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlN1bT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0hlbHBlcnMuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIik7Y2xhc3MgdSBleHRlbmRzIGwuQmFzZUFnZ3JlZ2F0b3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc3VtbWVyPW8ucmVndWxhckZ1bmN0aW9uc1toLlJlZ3VsYXJPcGVyYXRvci5BRERJVElPTl19c3RhdGljIGVtcHR5VmFsdWUoKXtyZXR1cm4oMCxkLmludGVnZXIpKDApLnRvUkRGKCl9aW5pdChnKXtyZXR1cm4gdGhpcy50ZXJtVG9OdW1lcmljT3JFcnJvcihnKX1wdXQoZyx2KXtjb25zdCBiPXRoaXMudGVybVRvTnVtZXJpY09yRXJyb3Iodik7cmV0dXJuIHRoaXMuc3VtbWVyLmFwcGx5KFtnLGJdLHRoaXMuc2hhcmVkQ29udGV4dCl9cmVzdWx0KGcpe3JldHVybiBnLnRvUkRGKCl9fWUuU3VtPXV9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvaW5kZXguanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5hZ2dyZWdhdG9ycz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQXZlcmFnZS5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0NvdW50LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvR3JvdXBDb25jYXQuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9NYXguanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9NaW4uanMiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9TYW1wbGUuanMiKSxnPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9TdW0uanMiKTtlLmFnZ3JlZ2F0b3JzPXtjb3VudDpkLkNvdW50LHN1bTpnLlN1bSxtaW46dS5NaW4sbWF4OmwuTWF4LGF2ZzpvLkF2ZXJhZ2UsZ3JvdXBfY29uY2F0OmguR3JvdXBDb25jYXQsc2FtcGxlOnAuU2FtcGxlfX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL0FnZ3JlZ2F0ZUV2YWx1YXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFnZ3JlZ2F0ZUV2YWx1YXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL0Jhc2VBZ2dyZWdhdGVFdmFsdWF0b3IuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL1N5bmNFdmFsdWF0b3IuanMiKTtjbGFzcyBoIGV4dGVuZHMgby5CYXNlQWdncmVnYXRlRXZhbHVhdG9ye2NvbnN0cnVjdG9yKHUscCxnKXtzdXBlcih1LGQuU3luY0V2YWx1YXRvci5jb21wbGV0ZUNvbnRleHQocHx8e30pLGcpLHRoaXMuZXZhbHVhdG9yPW5ldyBkLlN5bmNFdmFsdWF0b3IodS5leHByZXNzaW9uLHApfXB1dCh1KXt0aGlzLmluaXQodSl9X19wdXQodSl7dHJ5e2NvbnN0IHA9dGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodSk7dGhpcy5zdGF0ZT10aGlzLmFnZ3JlZ2F0b3IucHV0KHRoaXMuc3RhdGUscCl9Y2F0Y2gocCl7dGhpcy5zYWZlVGhyb3cocCl9fXNhZmVUaHJvdyh1KXtpZih0aGlzLnRocm93RXJyb3IpdGhyb3cgdTt0aGlzLnB1dD0oKT0+e30sdGhpcy5yZXN1bHQ9KCk9Pnt9fWluaXQodSl7dHJ5e2NvbnN0IHA9dGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodSk7dGhpcy5zdGF0ZT10aGlzLmFnZ3JlZ2F0b3IuaW5pdChwKSx0aGlzLnN0YXRlJiYodGhpcy5wdXQ9dGhpcy5fX3B1dC5iaW5kKHRoaXMpLHRoaXMucmVzdWx0PXRoaXMuX19yZXN1bHQuYmluZCh0aGlzKSl9Y2F0Y2gocCl7dGhpcy5zYWZlVGhyb3cocCl9fX1lLkFnZ3JlZ2F0ZUV2YWx1YXRvcj1ofSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Bc3luY0FnZ3JlZ2F0ZUV2YWx1YXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9Bc3luY0V2YWx1YXRvci5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvZXZhbHVhdG9ySGVscGVycy9CYXNlQWdncmVnYXRlRXZhbHVhdG9yLmpzIik7Y2xhc3MgaCBleHRlbmRzIGQuQmFzZUFnZ3JlZ2F0ZUV2YWx1YXRvcntjb25zdHJ1Y3Rvcih1LHAsZyl7c3VwZXIodSxvLkFzeW5jRXZhbHVhdG9yLmNvbXBsZXRlQ29udGV4dChwfHx7fSksZyksdGhpcy5ldmFsdWF0b3I9bmV3IG8uQXN5bmNFdmFsdWF0b3IodS5leHByZXNzaW9uLHApLHRoaXMuZXJyb3JPY2N1cnJlZD0hMX1wdXQodSl7cmV0dXJuIHRoaXMuaW5pdCh1KX1hc3luYyBfX3B1dCh1KXt0cnl7Y29uc3QgcD1hd2FpdCB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh1KTt0aGlzLnN0YXRlPXRoaXMuYWdncmVnYXRvci5wdXQodGhpcy5zdGF0ZSxwKX1jYXRjaChwKXt0aGlzLnNhZmVUaHJvdyhwKX19c2FmZVRocm93KHUpe2lmKHRoaXMudGhyb3dFcnJvcil0aHJvdyB1O3RoaXMucHV0PWFzeW5jKCk9Pnt9LHRoaXMucmVzdWx0PSgpPT57fSx0aGlzLmVycm9yT2NjdXJyZWQ9ITB9YXN5bmMgaW5pdCh1KXt0cnl7Y29uc3QgcD1hd2FpdCB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh1KTtpZighcHx8dGhpcy5lcnJvck9jY3VycmVkKXJldHVybjtpZih0aGlzLnN0YXRlKXt0aGlzLnN0YXRlPXRoaXMuYWdncmVnYXRvci5wdXQodGhpcy5zdGF0ZSxwKTtyZXR1cm59dGhpcy5zdGF0ZT10aGlzLmFnZ3JlZ2F0b3IuaW5pdChwKSx0aGlzLnN0YXRlJiYodGhpcy5wdXQ9dGhpcy5fX3B1dC5iaW5kKHRoaXMpLHRoaXMucmVzdWx0PXRoaXMuX19yZXN1bHQuYmluZCh0aGlzKSl9Y2F0Y2gocCl7dGhpcy5zYWZlVGhyb3cocCl9fX1lLkFzeW5jQWdncmVnYXRlRXZhbHVhdG9yPWh9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9Bc3luY0V2YWx1YXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFzeW5jRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9scnUtY2FjaGUvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvQWxnZWJyYVRyYW5zZm9ybWVyLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL0FzeW5jUmVjdXJzaXZlRXZhbHVhdG9yLmpzIik7Y2xhc3MgbHtjb25zdHJ1Y3RvcihwLGc9e30pe3RoaXMuYWxnRXhwcj1wO2NvbnN0IHY9Zy5leHRlbnNpb25GdW5jdGlvbkNyZWF0b3J8fCgoKT0+e30pLGI9bC5jb21wbGV0ZUNvbnRleHQoZyksXz1uZXcgZC5BbGdlYnJhVHJhbnNmb3JtZXIoT2JqZWN0LmFzc2lnbih7dHlwZToiYXN5bmMiLGNyZWF0b3I6dn0sYikpO3RoaXMuZXhwcj1fLnRyYW5zZm9ybUFsZ2VicmEocCksdGhpcy5ldmFsdWF0b3I9bmV3IGguQXN5bmNSZWN1cnNpdmVFdmFsdWF0b3IoYixfKX1zdGF0aWMgY29tcGxldGVDb250ZXh0KHApe3JldHVybntub3c6cC5ub3d8fG5ldyBEYXRlKERhdGUubm93KCkpLGJhc2VJUkk6cC5iYXNlSVJJfHx2b2lkIDAsZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTpwLmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGV8fHt9LHN1cGVyVHlwZVByb3ZpZGVyOntjYWNoZTpwLnR5cGVDYWNoZXx8bmV3IG8sZGlzY292ZXJlcjpwLmdldFN1cGVyVHlwZXx8KCgpPT4idGVybSIpfSxleHRlbnNpb25GdW5jdGlvbkNyZWF0b3I6cC5leHRlbnNpb25GdW5jdGlvbkNyZWF0b3IsZXhpc3RzOnAuZXhpc3RzLGFnZ3JlZ2F0ZTpwLmFnZ3JlZ2F0ZSxibm9kZTpwLmJub2RlfX1hc3luYyBldmFsdWF0ZShwKXtyZXR1cm4oYXdhaXQgdGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodGhpcy5leHByLHApKS50b1JERigpfWFzeW5jIGV2YWx1YXRlQXNFQlYocCl7cmV0dXJuKGF3YWl0IHRoaXMuZXZhbHVhdG9yLmV2YWx1YXRlKHRoaXMuZXhwcixwKSkuY29lcmNlRUJWKCl9YXN5bmMgZXZhbHVhdGVBc0ludGVybmFsKHApe3JldHVybiBhd2FpdCB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzLmV4cHIscCl9fWUuQXN5bmNFdmFsdWF0b3I9bH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL1N5bmNFdmFsdWF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5TeW5jRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9scnUtY2FjaGUvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvQWxnZWJyYVRyYW5zZm9ybWVyLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL1N5bmNSZWN1cnNpdmVFdmFsdWF0b3IuanMiKTtjbGFzcyBse2NvbnN0cnVjdG9yKHAsZz17fSl7dGhpcy5hbGdFeHByPXAsdGhpcy5jb250ZXh0PWc7Y29uc3Qgdj1nLmV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcnx8KCgpPT57fSksYj1sLmNvbXBsZXRlQ29udGV4dChnKSxfPW5ldyBkLkFsZ2VicmFUcmFuc2Zvcm1lcihPYmplY3QuYXNzaWduKHt0eXBlOiJzeW5jIixjcmVhdG9yOnZ9LGIpKTt0aGlzLmV4cHI9Xy50cmFuc2Zvcm1BbGdlYnJhKHApLHRoaXMuZXZhbHVhdG9yPW5ldyBoLlN5bmNSZWN1cnNpdmVFdmFsdWF0b3IoYixfKX1zdGF0aWMgY29tcGxldGVDb250ZXh0KHApe3JldHVybntub3c6cC5ub3d8fG5ldyBEYXRlKERhdGUubm93KCkpLGJhc2VJUkk6cC5iYXNlSVJJfHx2b2lkIDAsZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTpwLmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGV8fHt9LHN1cGVyVHlwZVByb3ZpZGVyOntjYWNoZTpwLnR5cGVDYWNoZXx8bmV3IG8sZGlzY292ZXJlcjpwLmdldFN1cGVyVHlwZXx8KCgpPT4idGVybSIpfSxleHRlbnNpb25GdW5jdGlvbkNyZWF0b3I6cC5leHRlbnNpb25GdW5jdGlvbkNyZWF0b3IsZXhpc3RzOnAuZXhpc3RzLGFnZ3JlZ2F0ZTpwLmFnZ3JlZ2F0ZSxibm9kZTpwLmJub2RlfX1ldmFsdWF0ZShwKXtyZXR1cm4gdGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodGhpcy5leHByLHApLnRvUkRGKCl9ZXZhbHVhdGVBc0VCVihwKXtyZXR1cm4gdGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodGhpcy5leHByLHApLmNvZXJjZUVCVigpfWV2YWx1YXRlQXNJbnRlcm5hbChwKXtyZXR1cm4gdGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodGhpcy5leHByLHApfX1lLlN5bmNFdmFsdWF0b3I9bH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvQXN5bmNSZWN1cnNpdmVFdmFsdWF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Bc3luY1JlY3Vyc2l2ZUV2YWx1YXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvVGVybVRyYW5zZm9ybWVyLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvQmFzZUV4cHJlc3Npb25FdmFsdWF0b3IuanMiKTtjbGFzcyB1IGV4dGVuZHMgbC5CYXNlRXhwcmVzc2lvbkV2YWx1YXRvcntjb25zdHJ1Y3RvcihnLHYpe3N1cGVyKHZ8fG5ldyBkLlRlcm1UcmFuc2Zvcm1lcihnLnN1cGVyVHlwZVByb3ZpZGVyKSksdGhpcy5jb250ZXh0PWcsdGhpcy5zdWJFdmFsdWF0b3JzPXtbby5FeHByZXNzaW9uVHlwZS5UZXJtXTp0aGlzLnRlcm0uYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5WYXJpYWJsZV06dGhpcy52YXJpYWJsZS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLk9wZXJhdG9yXTp0aGlzLmV2YWxPcGVyYXRvci5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLlNwZWNpYWxPcGVyYXRvcl06dGhpcy5ldmFsU3BlY2lhbE9wZXJhdG9yLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuTmFtZWRdOnRoaXMuZXZhbE5hbWVkLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuRXhpc3RlbmNlXTp0aGlzLmV2YWxFeGlzdGVuY2UuYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5BZ2dyZWdhdGVdOnRoaXMuZXZhbEFnZ3JlZ2F0ZS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLkFzeW5jRXh0ZW5zaW9uXTp0aGlzLmV2YWxBc3luY0V4dGVuc2lvbi5iaW5kKHRoaXMpfX1hc3luYyBldmFsdWF0ZShnLHYpe2NvbnN0IGI9dGhpcy5zdWJFdmFsdWF0b3JzW2cuZXhwcmVzc2lvblR5cGVdO2lmKCFiKXRocm93IG5ldyBoLkludmFsaWRFeHByZXNzaW9uVHlwZShnKTtyZXR1cm4gYi5iaW5kKHRoaXMpKGcsdil9YXN5bmMgZXZhbE9wZXJhdG9yKGcsdil7Y29uc3QgYj1nLmFyZ3MubWFwKE89PnRoaXMuZXZhbHVhdGUoTyx2KSksXz1hd2FpdCBQcm9taXNlLmFsbChiKTtyZXR1cm4gZy5hcHBseShfKX1hc3luYyBldmFsU3BlY2lhbE9wZXJhdG9yKGcsdil7Y29uc3QgYj10aGlzLmV2YWx1YXRlLmJpbmQodGhpcyksXz17YXJnczpnLmFyZ3MsbWFwcGluZzp2LHN1cGVyVHlwZVByb3ZpZGVyOnRoaXMuY29udGV4dC5zdXBlclR5cGVQcm92aWRlcixub3c6dGhpcy5jb250ZXh0Lm5vdyxiYXNlSVJJOnRoaXMuY29udGV4dC5iYXNlSVJJLGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6dGhpcy5jb250ZXh0LmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGUsZXZhbHVhdGU6Yixibm9kZTp0aGlzLmNvbnRleHQuYm5vZGV9O3JldHVybiBnLmFwcGx5QXN5bmMoXyl9YXN5bmMgX2V2YWxBc3luY0FyZ3MoZyx2KXtjb25zdCBiPWcubWFwKF89PnRoaXMuZXZhbHVhdGUoXyx2KSk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKGIpfWFzeW5jIGV2YWxOYW1lZChnLHYpe3JldHVybiBnLmFwcGx5KGF3YWl0IHRoaXMuX2V2YWxBc3luY0FyZ3MoZy5hcmdzLHYpKX1hc3luYyBldmFsQXN5bmNFeHRlbnNpb24oZyx2KXtyZXR1cm4gYXdhaXQgZy5hcHBseShhd2FpdCB0aGlzLl9ldmFsQXN5bmNBcmdzKGcuYXJncyx2KSl9YXN5bmMgZXZhbEV4aXN0ZW5jZShnLHYpe2lmKCF0aGlzLmNvbnRleHQuZXhpc3RzKXRocm93IG5ldyBoLk5vRXhpc3RlbmNlSG9vaztyZXR1cm4gbmV3IG8uQm9vbGVhbkxpdGVyYWwoYXdhaXQgdGhpcy5jb250ZXh0LmV4aXN0cyhnLmV4cHJlc3Npb24sdikpfWFzeW5jIGV2YWxBZ2dyZWdhdGUoZyx2KXtpZighdGhpcy5jb250ZXh0LmFnZ3JlZ2F0ZSl0aHJvdyBuZXcgaC5Ob0FnZ3JlZ2F0b3I7cmV0dXJuIHRoaXMudGVybVRyYW5zZm9ybWVyLnRyYW5zZm9ybVJERlRlcm1VbnNhZmUoYXdhaXQgdGhpcy5jb250ZXh0LmFnZ3JlZ2F0ZShnLmV4cHJlc3Npb24pKX19ZS5Bc3luY1JlY3Vyc2l2ZUV2YWx1YXRvcj11fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvZXZhbHVhdG9ySGVscGVycy9CYXNlQWdncmVnYXRlRXZhbHVhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQmFzZUFnZ3JlZ2F0ZUV2YWx1YXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpO2NsYXNzIGh7Y29uc3RydWN0b3IodSxwLGcpe3RoaXMudGhyb3dFcnJvcj0hMSx0aGlzLmV4cHJlc3Npb249dSx0aGlzLmFnZ3JlZ2F0b3I9bmV3IG8uYWdncmVnYXRvcnNbdS5hZ2dyZWdhdG9yXSh1LHApLHRoaXMudGhyb3dFcnJvcj1nfHwhMX1zdGF0aWMgZW1wdHlWYWx1ZSh1LHA9ITEpe2NvbnN0IGc9by5hZ2dyZWdhdG9yc1t1LmFnZ3JlZ2F0b3JdLmVtcHR5VmFsdWUoKTtpZihnPT09dm9pZCAwJiZwKXRocm93IG5ldyBkLkVtcHR5QWdncmVnYXRlRXJyb3I7cmV0dXJuIGd9cmVzdWx0KCl7cmV0dXJuIHRoaXMuYWdncmVnYXRvci5jb25zdHJ1Y3Rvci5lbXB0eVZhbHVlKCl9X19yZXN1bHQoKXtyZXR1cm4gdGhpcy5hZ2dyZWdhdG9yLnJlc3VsdCh0aGlzLnN0YXRlKX19ZS5CYXNlQWdncmVnYXRlRXZhbHVhdG9yPWh9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL0Jhc2VFeHByZXNzaW9uRXZhbHVhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQmFzZUV4cHJlc3Npb25FdmFsdWF0b3I9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKTtjbGFzcyBoe2NvbnN0cnVjdG9yKHUpe3RoaXMudGVybVRyYW5zZm9ybWVyPXV9dGVybSh1LHApe3JldHVybiB1fXZhcmlhYmxlKHUscCl7Y29uc3QgZz1wLmdldCgoMCxvLmV4cHJlc3Npb25Ub1ZhcikodSkpO2lmKCFnKXRocm93IG5ldyBkLlVuYm91bmRWYXJpYWJsZUVycm9yKHUubmFtZSxwKTtyZXR1cm4gdGhpcy50ZXJtVHJhbnNmb3JtZXIudHJhbnNmb3JtUkRGVGVybVVuc2FmZShnKX19ZS5CYXNlRXhwcmVzc2lvbkV2YWx1YXRvcj1ofSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvZXZhbHVhdG9ySGVscGVycy9TeW5jUmVjdXJzaXZlRXZhbHVhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU3luY1JlY3Vyc2l2ZUV2YWx1YXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvVGVybVRyYW5zZm9ybWVyLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvQmFzZUV4cHJlc3Npb25FdmFsdWF0b3IuanMiKTtjbGFzcyB1IGV4dGVuZHMgbC5CYXNlRXhwcmVzc2lvbkV2YWx1YXRvcntjb25zdHJ1Y3RvcihnLHYpe3N1cGVyKHZ8fG5ldyBkLlRlcm1UcmFuc2Zvcm1lcihnLnN1cGVyVHlwZVByb3ZpZGVyKSksdGhpcy5jb250ZXh0PWcsdGhpcy5zdWJFdmFsdWF0b3JzPXtbby5FeHByZXNzaW9uVHlwZS5UZXJtXTp0aGlzLnRlcm0uYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5WYXJpYWJsZV06dGhpcy52YXJpYWJsZS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLk9wZXJhdG9yXTp0aGlzLmV2YWxPcGVyYXRvci5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLlNwZWNpYWxPcGVyYXRvcl06dGhpcy5ldmFsU3BlY2lhbE9wZXJhdG9yLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuTmFtZWRdOnRoaXMuZXZhbE5hbWVkLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuRXhpc3RlbmNlXTp0aGlzLmV2YWxFeGlzdGVuY2UuYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5BZ2dyZWdhdGVdOnRoaXMuZXZhbEFnZ3JlZ2F0ZS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLlN5bmNFeHRlbnNpb25dOnRoaXMuZXZhbFN5bmNFeHRlbnNpb24uYmluZCh0aGlzKX19ZXZhbHVhdGUoZyx2KXtjb25zdCBiPXRoaXMuc3ViRXZhbHVhdG9yc1tnLmV4cHJlc3Npb25UeXBlXTtpZighYil0aHJvdyBuZXcgaC5JbnZhbGlkRXhwcmVzc2lvblR5cGUoZyk7cmV0dXJuIGIuYmluZCh0aGlzKShnLHYpfWV2YWxPcGVyYXRvcihnLHYpe2NvbnN0IGI9Zy5hcmdzLm1hcChfPT50aGlzLmV2YWx1YXRlKF8sdikpO3JldHVybiBnLmFwcGx5KGIpfWV2YWxTcGVjaWFsT3BlcmF0b3IoZyx2KXtjb25zdCBiPXRoaXMuZXZhbHVhdGUuYmluZCh0aGlzKSxfPXthcmdzOmcuYXJncyxtYXBwaW5nOnYsc3VwZXJUeXBlUHJvdmlkZXI6dGhpcy5jb250ZXh0LnN1cGVyVHlwZVByb3ZpZGVyLG5vdzp0aGlzLmNvbnRleHQubm93LGJhc2VJUkk6dGhpcy5jb250ZXh0LmJhc2VJUkksZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTp0aGlzLmNvbnRleHQuZnVuY3Rpb25Bcmd1bWVudHNDYWNoZSxldmFsdWF0ZTpiLGJub2RlOnRoaXMuY29udGV4dC5ibm9kZX07cmV0dXJuIGcuYXBwbHlTeW5jKF8pfWV2YWxOYW1lZChnLHYpe2NvbnN0IGI9Zy5hcmdzLm1hcChfPT50aGlzLmV2YWx1YXRlKF8sdikpO3JldHVybiBnLmFwcGx5KGIpfWV2YWxTeW5jRXh0ZW5zaW9uKGcsdil7Y29uc3QgYj1nLmFyZ3MubWFwKF89PnRoaXMuZXZhbHVhdGUoXyx2KSk7cmV0dXJuIGcuYXBwbHkoYil9ZXZhbEV4aXN0ZW5jZShnLHYpe2lmKCF0aGlzLmNvbnRleHQuZXhpc3RzKXRocm93IG5ldyBoLk5vRXhpc3RlbmNlSG9vaztyZXR1cm4gbmV3IG8uQm9vbGVhbkxpdGVyYWwodGhpcy5jb250ZXh0LmV4aXN0cyhnLmV4cHJlc3Npb24sdikpfWV2YWxBZ2dyZWdhdGUoZyx2KXtpZighdGhpcy5jb250ZXh0LmFnZ3JlZ2F0ZSl0aHJvdyBuZXcgaC5Ob0FnZ3JlZ2F0b3I7cmV0dXJuIHRoaXMudGVybVRyYW5zZm9ybWVyLnRyYW5zZm9ybVJERlRlcm1VbnNhZmUodGhpcy5jb250ZXh0LmFnZ3JlZ2F0ZShnLmV4cHJlc3Npb24pKX19ZS5TeW5jUmVjdXJzaXZlRXZhbHVhdG9yPXV9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvQWdncmVnYXRlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWdncmVnYXRlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCx1KXt0aGlzLm5hbWU9bCx0aGlzLmV4cHJlc3Npb249dSx0aGlzLmV4cHJlc3Npb25UeXBlPW8uRXhwcmVzc2lvblR5cGUuQWdncmVnYXRlfX1lLkFnZ3JlZ2F0ZT1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL0FzeW5jRXh0ZW5zaW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQXN5bmNFeHRlbnNpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25zLmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3RvcihsLHUscCl7dGhpcy5uYW1lPWwsdGhpcy5hcmdzPXUsdGhpcy5hcHBseT1wLHRoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5Bc3luY0V4dGVuc2lvbn19ZS5Bc3luY0V4dGVuc2lvbj1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL0V4aXN0ZW5jZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkV4aXN0ZW5jZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwpe3RoaXMuZXhwcmVzc2lvbj1sLHRoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5FeGlzdGVuY2V9fWUuRXhpc3RlbmNlPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuYXNUZXJtVHlwZT1lLkV4cHJlc3Npb25UeXBlPXZvaWQgMCxmdW5jdGlvbihvKXtvLkFnZ3JlZ2F0ZT0iYWdncmVnYXRlIixvLkV4aXN0ZW5jZT0iZXhpc3RlbmNlIixvLk5hbWVkPSJuYW1lZCIsby5PcGVyYXRvcj0ib3BlcmF0b3IiLG8uU3BlY2lhbE9wZXJhdG9yPSJzcGVjaWFsT3BlcmF0b3IiLG8uVGVybT0idGVybSIsby5WYXJpYWJsZT0idmFyaWFibGUiLG8uQXN5bmNFeHRlbnNpb249ImFzeW5jRXh0ZW5zaW9uIixvLlN5bmNFeHRlbnNpb249InN5bmNFeHRlbnNpb24ifShlLkV4cHJlc3Npb25UeXBlfHwoZS5FeHByZXNzaW9uVHlwZT17fSkpO2Z1bmN0aW9uIG4obyl7aWYobz09PSJuYW1lZE5vZGUifHxvPT09ImxpdGVyYWwifHxvPT09ImJsYW5rTm9kZSIpcmV0dXJuIG99ZS5hc1Rlcm1UeXBlPW59LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvTmFtZWQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5OYW1lZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwsdSxwKXt0aGlzLm5hbWU9bCx0aGlzLmFyZ3M9dSx0aGlzLmFwcGx5PXAsdGhpcy5leHByZXNzaW9uVHlwZT1vLkV4cHJlc3Npb25UeXBlLk5hbWVkfX1lLk5hbWVkPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvT3BlcmF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5PcGVyYXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwsdSl7dGhpcy5hcmdzPWwsdGhpcy5hcHBseT11LHRoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5PcGVyYXRvcn19ZS5PcGVyYXRvcj1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1NwZWNpYWxPcGVyYXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlNwZWNpYWxPcGVyYXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwsdSxwKXt0aGlzLmFyZ3M9bCx0aGlzLmFwcGx5QXN5bmM9dSx0aGlzLmFwcGx5U3luYz1wLHRoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5TcGVjaWFsT3BlcmF0b3J9fWUuU3BlY2lhbE9wZXJhdG9yPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvU3luY0V4dGVuc2lvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlN5bmNFeHRlbnNpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25zLmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3RvcihsLHUscCl7dGhpcy5uYW1lPWwsdGhpcy5hcmdzPXUsdGhpcy5hcHBseT1wLHRoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5TeW5jRXh0ZW5zaW9ufX1lLlN5bmNFeHRlbnNpb249ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9UZXJtLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaXNOb25MZXhpY2FsTGl0ZXJhbD1lLk5vbkxleGljYWxMaXRlcmFsPWUuU3RyaW5nTGl0ZXJhbD1lLkxhbmdTdHJpbmdMaXRlcmFsPWUuRGF0ZVRpbWVMaXRlcmFsPWUuQm9vbGVhbkxpdGVyYWw9ZS5Eb3VibGVMaXRlcmFsPWUuRmxvYXRMaXRlcmFsPWUuRGVjaW1hbExpdGVyYWw9ZS5JbnRlZ2VyTGl0ZXJhbD1lLk51bWVyaWNMaXRlcmFsPWUuTGl0ZXJhbD1lLmlzTGl0ZXJhbFRlcm1FeHByZXNzaW9uPWUuQmxhbmtOb2RlPWUuTmFtZWROb2RlPWUuVGVybT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvVHlwZUhhbmRsaW5nLmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKSxnPW5ldyBvLkRhdGFGYWN0b3J5O2NsYXNzIHZ7Y29uc3RydWN0b3IoKXt0aGlzLmV4cHJlc3Npb25UeXBlPXAuRXhwcmVzc2lvblR5cGUuVGVybX1zdHIoKXt0aHJvdyBuZXcgbC5JbnZhbGlkQXJndW1lbnRUeXBlcyhbdGhpc10sZC5SZWd1bGFyT3BlcmF0b3IuU1RSKX1jb2VyY2VFQlYoKXt0aHJvdyBuZXcgbC5FQlZDb2VyY2lvbkVycm9yKHRoaXMpfX1lLlRlcm09djtjbGFzcyBiIGV4dGVuZHMgdntjb25zdHJ1Y3RvcihHKXtzdXBlcigpLHRoaXMudmFsdWU9Ryx0aGlzLnRlcm1UeXBlPSJuYW1lZE5vZGUifXRvUkRGKCl7cmV0dXJuIGcubmFtZWROb2RlKHRoaXMudmFsdWUpfXN0cigpe3JldHVybiB0aGlzLnZhbHVlfX1lLk5hbWVkTm9kZT1iO2NsYXNzIF8gZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKEcpe3N1cGVyKCksdGhpcy50ZXJtVHlwZT0iYmxhbmtOb2RlIix0aGlzLnZhbHVlPXR5cGVvZiBHPT0ic3RyaW5nIj9nLmJsYW5rTm9kZShHKTpHfXRvUkRGKCl7cmV0dXJuIHRoaXMudmFsdWV9fWUuQmxhbmtOb2RlPV87ZnVuY3Rpb24gTyhxKXtpZihxLnRlcm1UeXBlPT09ImxpdGVyYWwiKXJldHVybiBxfWUuaXNMaXRlcmFsVGVybUV4cHJlc3Npb249TztjbGFzcyBUIGV4dGVuZHMgdntjb25zdHJ1Y3RvcihHLHJlLE0sJCl7c3VwZXIoKSx0aGlzLnR5cGVkVmFsdWU9Ryx0aGlzLmRhdGFUeXBlPXJlLHRoaXMuc3RyVmFsdWU9TSx0aGlzLmxhbmd1YWdlPSQsdGhpcy50ZXJtVHlwZT0ibGl0ZXJhbCJ9dG9SREYoKXtyZXR1cm4gZy5saXRlcmFsKHRoaXMuc3RyVmFsdWV8fHRoaXMuc3RyKCksdGhpcy5sYW5ndWFnZXx8Zy5uYW1lZE5vZGUodGhpcy5kYXRhVHlwZSkpfXN0cigpe3JldHVybiB0aGlzLnN0clZhbHVlfHx0aGlzLnR5cGVkVmFsdWUudG9TdHJpbmcoKX19ZS5MaXRlcmFsPVQ7Y2xhc3MgaiBleHRlbmRzIFR7Y29uc3RydWN0b3IoRyxyZSxNLCQpe3N1cGVyKEcscmUsTSwkKSx0aGlzLnR5cGVkVmFsdWU9Ryx0aGlzLnN0clZhbHVlPU0sdGhpcy5sYW5ndWFnZT0kfWNvZXJjZUVCVigpe3JldHVybiEhdGhpcy50eXBlZFZhbHVlfXRvUkRGKCl7Y29uc3QgRz1zdXBlci50b1JERigpO3JldHVybiBOdW1iZXIuaXNGaW5pdGUodGhpcy50eXBlZFZhbHVlKXx8KEcudmFsdWU9Ry52YWx1ZS5yZXBsYWNlKCJJbmZpbml0eSIsIklORiIpKSxHfXN0cigpe3JldHVybiB0aGlzLnN0clZhbHVlfHx0aGlzLnNwZWNpZmljRm9ybWF0dGVyKHRoaXMudHlwZWRWYWx1ZSl9fWUuTnVtZXJpY0xpdGVyYWw9ajtjbGFzcyBOIGV4dGVuZHMgantjb25zdHJ1Y3RvcihHLHJlLE0sJCl7c3VwZXIoRyxyZXx8aC5UeXBlVVJMLlhTRF9JTlRFR0VSLE0sJCksdGhpcy50eXBlZFZhbHVlPUcsdGhpcy5zdHJWYWx1ZT1NLHRoaXMubGFuZ3VhZ2U9JH1zcGVjaWZpY0Zvcm1hdHRlcihHKXtyZXR1cm4gRy50b0ZpeGVkKDApfX1lLkludGVnZXJMaXRlcmFsPU47Y2xhc3MgQiBleHRlbmRzIGp7Y29uc3RydWN0b3IoRyxyZSxNLCQpe3N1cGVyKEcscmV8fGguVHlwZVVSTC5YU0RfREVDSU1BTCxNLCQpLHRoaXMudHlwZWRWYWx1ZT1HLHRoaXMuc3RyVmFsdWU9TSx0aGlzLmxhbmd1YWdlPSR9c3BlY2lmaWNGb3JtYXR0ZXIoRyl7cmV0dXJuIEcudG9TdHJpbmcoKX19ZS5EZWNpbWFsTGl0ZXJhbD1CO2NsYXNzIEMgZXh0ZW5kcyBqe2NvbnN0cnVjdG9yKEcscmUsTSwkKXtzdXBlcihHLHJlfHxoLlR5cGVVUkwuWFNEX0ZMT0FULE0sJCksdGhpcy50eXBlZFZhbHVlPUcsdGhpcy5zdHJWYWx1ZT1NLHRoaXMubGFuZ3VhZ2U9JH1zcGVjaWZpY0Zvcm1hdHRlcihHKXtyZXR1cm4gRy50b1N0cmluZygpfX1lLkZsb2F0TGl0ZXJhbD1DO2NsYXNzIEwgZXh0ZW5kcyBqe2NvbnN0cnVjdG9yKEcscmUsTSwkKXtzdXBlcihHLHJlfHxoLlR5cGVVUkwuWFNEX0RPVUJMRSxNLCQpLHRoaXMudHlwZWRWYWx1ZT1HLHRoaXMuc3RyVmFsdWU9TSx0aGlzLmxhbmd1YWdlPSR9c3BlY2lmaWNGb3JtYXR0ZXIoRyl7aWYoIU51bWJlci5pc0Zpbml0ZShHKSlyZXR1cm4gRz4wPyJJTkYiOkc8MD8iLUlORiI6Ik5hTiI7Y29uc3QgcmU9Ry50b0V4cG9uZW50aWFsKCksW00sJF09cmUuc3BsaXQoImUiKSxVPSQucmVwbGFjZSgvXCsvdSwiIik7cmV0dXJuYCR7TS5pbmNsdWRlcygiLiIpP006YCR7TX0uMGB9RSR7VX1gfX1lLkRvdWJsZUxpdGVyYWw9TDtjbGFzcyBTIGV4dGVuZHMgVHtjb25zdHJ1Y3RvcihHLHJlLE0pe3N1cGVyKEcsTXx8aC5UeXBlVVJMLlhTRF9CT09MRUFOLHJlKSx0aGlzLnR5cGVkVmFsdWU9Ryx0aGlzLnN0clZhbHVlPXJlfWNvZXJjZUVCVigpe3JldHVybiB0aGlzLnR5cGVkVmFsdWV9fWUuQm9vbGVhbkxpdGVyYWw9UztjbGFzcyBQIGV4dGVuZHMgVHtjb25zdHJ1Y3RvcihHLHJlLE0pe3N1cGVyKEcsTXx8aC5UeXBlVVJMLlhTRF9EQVRFX1RJTUUscmUpLHRoaXMudHlwZWRWYWx1ZT1HLHRoaXMuc3RyVmFsdWU9cmV9fWUuRGF0ZVRpbWVMaXRlcmFsPVA7Y2xhc3MgRiBleHRlbmRzIFR7Y29uc3RydWN0b3IoRyxyZSxNKXtzdXBlcihHLE18fGguVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsRyxyZSksdGhpcy50eXBlZFZhbHVlPUcsdGhpcy5sYW5ndWFnZT1yZX1jb2VyY2VFQlYoKXtyZXR1cm4gdGhpcy5zdHIoKS5sZW5ndGg+MH19ZS5MYW5nU3RyaW5nTGl0ZXJhbD1GO2NsYXNzIGsgZXh0ZW5kcyBUe2NvbnN0cnVjdG9yKEcscmUpe3N1cGVyKEcscmV8fGguVHlwZVVSTC5YU0RfU1RSSU5HLEcpLHRoaXMudHlwZWRWYWx1ZT1HfWNvZXJjZUVCVigpe3JldHVybiB0aGlzLnN0cigpLmxlbmd0aD4wfX1lLlN0cmluZ0xpdGVyYWw9aztjbGFzcyBKIGV4dGVuZHMgVHtjb25zdHJ1Y3RvcihHLHJlLE0sJCxVKXtzdXBlcih7dG9TdHJpbmc6KCk9PiJ1bmRlZmluZWQifSxoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUwsJCxVKSx0aGlzLnR5cGVVUkw9cmUsdGhpcy5vcGVuV29ybGRUeXBlPU19Y29lcmNlRUJWKCl7aWYoKDAsdS5pc1N1YlR5cGVPZikodGhpcy50eXBlVVJMLGguVHlwZVVSTC5YU0RfQk9PTEVBTix0aGlzLm9wZW5Xb3JsZFR5cGUpfHwoMCx1LmlzU3ViVHlwZU9mKSh0aGlzLnR5cGVVUkwsaC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUMsdGhpcy5vcGVuV29ybGRUeXBlKSlyZXR1cm4hMTt0aHJvdyBuZXcgbC5FQlZDb2VyY2lvbkVycm9yKHRoaXMpfXRvUkRGKCl7cmV0dXJuIGcubGl0ZXJhbCh0aGlzLnN0cigpLHRoaXMubGFuZ3VhZ2V8fGcubmFtZWROb2RlKHRoaXMudHlwZVVSTCkpfXN0cigpe3JldHVybiB0aGlzLnN0clZhbHVlfHwiIn19ZS5Ob25MZXhpY2FsTGl0ZXJhbD1KO2Z1bmN0aW9uIGFlKHEpe2lmKHEuZGF0YVR5cGU9PT1oLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUwpcmV0dXJuIHF9ZS5pc05vbkxleGljYWxMaXRlcmFsPWFlfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1ZhcmlhYmxlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuVmFyaWFibGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25zLmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3RvcihsKXt0aGlzLmV4cHJlc3Npb25UeXBlPW8uRXhwcmVzc2lvblR5cGUuVmFyaWFibGUsdGhpcy5uYW1lPWx9fWUuVmFyaWFibGU9ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9WYXJpYWJsZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1Rlcm0uanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9PcGVyYXRvci5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1NwZWNpYWxPcGVyYXRvci5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL05hbWVkLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvQWdncmVnYXRlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhpc3RlbmNlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvQXN5bmNFeHRlbnNpb24uanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9TeW5jRXh0ZW5zaW9uLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0NvcmUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5TcGVjaWFsRnVuY3Rpb249ZS5OYW1lZEZ1bmN0aW9uPWUuUmVndWxhckZ1bmN0aW9uPWUuQmFzZUZ1bmN0aW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IodixiKXt0aGlzLm9wZXJhdG9yPXYsdGhpcy5hcHBseT0oXyxPKT0+KHRoaXMubW9ub21vcnBoKF8sTy5zdXBlclR5cGVQcm92aWRlcixPLmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGUpfHx0aGlzLmhhbmRsZUludmFsaWRUeXBlcyhfKSkoTykoXyksdGhpcy5hcml0eT1iLmFyaXR5LHRoaXMub3ZlcmxvYWRzPWIub3ZlcmxvYWRzfW1vbm9tb3JwaCh2LGIsXyl7cmV0dXJuIHRoaXMub3ZlcmxvYWRzLnNlYXJjaCh2LGIsXyl9fWUuQmFzZUZ1bmN0aW9uPWQ7Y2xhc3MgaCBleHRlbmRzIGR7Y29uc3RydWN0b3IodixiKXtzdXBlcih2LGIpLHRoaXMuZnVuY3Rpb25DbGFzcz0icmVndWxhciJ9aGFuZGxlSW52YWxpZFR5cGVzKHYpe3Rocm93IG5ldyBvLkludmFsaWRBcmd1bWVudFR5cGVzKHYsdGhpcy5vcGVyYXRvcil9fWUuUmVndWxhckZ1bmN0aW9uPWg7Y2xhc3MgbCBleHRlbmRzIGR7Y29uc3RydWN0b3IodixiKXtzdXBlcih2LGIpLHRoaXMuZnVuY3Rpb25DbGFzcz0ibmFtZWQifWhhbmRsZUludmFsaWRUeXBlcyh2KXt0aHJvdyBuZXcgby5JbnZhbGlkQXJndW1lbnRUeXBlcyh2LHRoaXMub3BlcmF0b3IpfX1lLk5hbWVkRnVuY3Rpb249bDtjbGFzcyB1e2NvbnN0cnVjdG9yKHYsYil7dGhpcy5vcGVyYXRvcj12LHRoaXMuZnVuY3Rpb25DbGFzcz0ic3BlY2lhbCIsdGhpcy5hcml0eT1iLmFyaXR5LHRoaXMuYXBwbHlTeW5jPWIuYXBwbHlTeW5jLHRoaXMuYXBwbHlBc3luYz1iLmFwcGx5QXN5bmMsdGhpcy5jaGVja0FyaXR5PWIuY2hlY2tBcml0eXx8cCh0aGlzLmFyaXR5KX19ZS5TcGVjaWFsRnVuY3Rpb249dTtmdW5jdGlvbiBwKGcpe3JldHVybiB2PT5nPT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZPyEwOnYubGVuZ3RoPT09Z319LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0hlbHBlcnMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5leHByZXNzaW9uVG9WYXI9ZS5kYXRlVGltZT1lLmxhbmdTdHJpbmc9ZS5zdHJpbmc9ZS5kb3VibGU9ZS5mbG9hdD1lLmRlY2ltYWw9ZS5pbnRlZ2VyPWUuYm9vbD1lLkJ1aWxkZXI9ZS5kZWNsYXJlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvT3ZlcmxvYWRUcmVlLmpzIiksZz1uZXcgby5EYXRhRmFjdG9yeTtmdW5jdGlvbiB2KFApe3JldHVybiBuZXcgYihQKX1lLmRlY2xhcmU9djtjbGFzcyBie2NvbnN0cnVjdG9yKEYpe3RoaXMub3ZlcmxvYWRUcmVlPW5ldyBwLk92ZXJsb2FkVHJlZShGKSx0aGlzLmNvbGxlY3RlZD0hMX1jb2xsZWN0KCl7aWYodGhpcy5jb2xsZWN0ZWQpdGhyb3cgbmV3IEVycm9yKCJCdWlsZGVycyBjYW4gb25seSBiZSBjb2xsZWN0ZWQgb25jZSEiKTtyZXR1cm4gdGhpcy5jb2xsZWN0ZWQ9ITAsdGhpcy5vdmVybG9hZFRyZWV9c2V0KEYsayl7cmV0dXJuIHRoaXMub3ZlcmxvYWRUcmVlLmFkZE92ZXJsb2FkKEYsayksdGhpc31jb3B5KHtmcm9tOkYsdG86a30pe2NvbnN0IEo9dGhpcy5vdmVybG9hZFRyZWUuZ2V0SW1wbGVtZW50YXRpb25FeGFjdChGKTtpZighSil0aHJvdyBuZXcgdS5VbmV4cGVjdGVkRXJyb3IoIlRyaWVkIHRvIGNvcHkgaW1wbGVtZW50YXRpb24sIGJ1dCB0eXBlcyBub3QgZm91bmQiLHtmcm9tOkYsdG86a30pO3JldHVybiB0aGlzLnNldChrLEopfW9uVW5hcnkoRixrKXtyZXR1cm4gdGhpcy5zZXQoW0ZdLEo9PihbYWVdKT0+ayhKKShhZSkpfW9uVW5hcnlUeXBlZChGLGspe3JldHVybiB0aGlzLnNldChbRl0sSj0+KFthZV0pPT5rKEopKGFlLnR5cGVkVmFsdWUpKX1vbkJpbmFyeShGLGspe3JldHVybiB0aGlzLnNldChGLEo9PihbYWUscV0pPT5rKEopKGFlLHEpKX1vbkJpbmFyeVR5cGVkKEYsayl7cmV0dXJuIHRoaXMuc2V0KEYsSj0+KFthZSxxXSk9PmsoSikoYWUudHlwZWRWYWx1ZSxxLnR5cGVkVmFsdWUpKX1vblRlcm5hcnlUeXBlZChGLGspe3JldHVybiB0aGlzLnNldChGLEo9PihbYWUscSxHXSk9PmsoSikoYWUudHlwZWRWYWx1ZSxxLnR5cGVkVmFsdWUsRy50eXBlZFZhbHVlKSl9b25UZXJuYXJ5KEYsayl7cmV0dXJuIHRoaXMuc2V0KEYsSj0+KFthZSxxLEddKT0+ayhKKShhZSxxLEcpKX1vblF1YXRlcm5hcnlUeXBlZChGLGspe3JldHVybiB0aGlzLnNldChGLEo9PihbYWUscSxHLHJlXSk9PmsoSikoYWUudHlwZWRWYWx1ZSxxLnR5cGVkVmFsdWUsRy50eXBlZFZhbHVlLHJlLnR5cGVkVmFsdWUpKX1vblRlcm0xKEYpe3JldHVybiB0aGlzLnNldChbInRlcm0iXSxrPT4oW0pdKT0+RihrKShKKSl9b25MaXRlcmFsMShGKXtyZXR1cm4gdGhpcy5zZXQoWyJsaXRlcmFsIl0saz0+KFtKXSk9PkYoaykoSikpfW9uQm9vbGVhbjEoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVVUkwuWFNEX0JPT0xFQU5dLGs9PihbSl0pPT5GKGspKEopKX1vbkJvb2xlYW4xVHlwZWQoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVVUkwuWFNEX0JPT0xFQU5dLGs9PihbSl0pPT5GKGspKEoudHlwZWRWYWx1ZSkpfW9uU3RyaW5nMShGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfU1RSSU5HXSxrPT4oW0pdKT0+RihrKShKKSl9b25TdHJpbmcxVHlwZWQoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVVUkwuWFNEX1NUUklOR10saz0+KFtKXSk9PkYoaykoSi50eXBlZFZhbHVlKSl9b25MYW5nU3RyaW5nMShGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5SREZfTEFOR19TVFJJTkddLGs9PihbSl0pPT5GKGspKEopKX1vblN0cmluZ2x5MShGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZUFsaWFzLlNQQVJRTF9TVFJJTkdMWV0saz0+KFtKXSk9PkYoaykoSikpfW9uU3RyaW5nbHkxVHlwZWQoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFldLGs9PihbSl0pPT5GKGspKEoudHlwZWRWYWx1ZSkpfW9uTnVtZXJpYzEoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQ10saz0+KFtKXSk9PkYoaykoSikpLmludmFsaWRMZXhpY2FsRm9ybShbaC5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMXSwxKX1vbkRhdGVUaW1lMShGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfREFURV9USU1FXSxrPT4oW0pdKT0+RihrKShKKSkuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDEpfW51bWVyaWNDb252ZXJ0ZXIoRil7Y29uc3Qgaz1KPT5hZT0+RihKKShhZS50eXBlZFZhbHVlKTtyZXR1cm4gdGhpcy5vbkJpbmFyeShbbC5UeXBlVVJMLlhTRF9JTlRFR0VSXSxKPT5hZT0+TyhrKEopKGFlKSkpLm9uQmluYXJ5KFtsLlR5cGVVUkwuWFNEX0RFQ0lNQUxdLEo9PmFlPT5UKGsoSikoYWUpKSkub25CaW5hcnkoW2wuVHlwZVVSTC5YU0RfRkxPQVRdLEo9PmFlPT5qKGsoSikoYWUpKSkub25CaW5hcnkoW2wuVHlwZVVSTC5YU0RfRE9VQkxFXSxKPT5hZT0+TihrKEopKGFlKSkpLmludmFsaWRMZXhpY2FsRm9ybShbaC5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMXSwxKX1hcml0aG1ldGljKEYpe2NvbnN0IGs9Sj0+KGFlLHEpPT5GKEopKGFlLnR5cGVkVmFsdWUscS50eXBlZFZhbHVlKTtyZXR1cm4gdGhpcy5vbkJpbmFyeShbbC5UeXBlVVJMLlhTRF9JTlRFR0VSLGwuVHlwZVVSTC5YU0RfSU5URUdFUl0sSj0+KGFlLHEpPT5PKGsoSikoYWUscSkpKS5vbkJpbmFyeShbbC5UeXBlVVJMLlhTRF9ERUNJTUFMLGwuVHlwZVVSTC5YU0RfREVDSU1BTF0sSj0+KGFlLHEpPT5UKGsoSikoYWUscSkpKS5vbkJpbmFyeShbbC5UeXBlVVJMLlhTRF9GTE9BVCxsLlR5cGVVUkwuWFNEX0ZMT0FUXSxKPT4oYWUscSk9PmooayhKKShhZSxxKSkpLm9uQmluYXJ5KFtsLlR5cGVVUkwuWFNEX0RPVUJMRSxsLlR5cGVVUkwuWFNEX0RPVUJMRV0sSj0+KGFlLHEpPT5OKGsoSikoYWUscSkpKX1udW1iZXJUZXN0KEYpe3JldHVybiB0aGlzLm51bWVyaWMoaz0+KFtKLGFlXSk9Pntjb25zdCBxPUYoaykoSi50eXBlZFZhbHVlLGFlLnR5cGVkVmFsdWUpO3JldHVybiBfKHEpfSl9c3RyaW5nVGVzdChGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfU1RSSU5HLGguVHlwZVVSTC5YU0RfU1RSSU5HXSxrPT4oW0osYWVdKT0+e2NvbnN0IHE9RihrKShKLnR5cGVkVmFsdWUsYWUudHlwZWRWYWx1ZSk7cmV0dXJuIF8ocSl9KS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTCxoLlR5cGVVUkwuWFNEX1NUUklOR10sMSkuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVVUkwuWFNEX1NUUklORyxoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDIpfWJvb2xlYW5UZXN0KEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlVVJMLlhTRF9CT09MRUFOLGguVHlwZVVSTC5YU0RfQk9PTEVBTl0saz0+KFtKLGFlXSk9Pntjb25zdCBxPUYoaykoSi50eXBlZFZhbHVlLGFlLnR5cGVkVmFsdWUpO3JldHVybiBfKHEpfSkuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUwsaC5UeXBlVVJMLlhTRF9CT09MRUFOXSwxKS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZVVSTC5YU0RfQk9PTEVBTixoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDIpfWRhdGVUaW1lVGVzdChGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfREFURV9USU1FLGguVHlwZVVSTC5YU0RfREFURV9USU1FXSxrPT4oW0osYWVdKT0+e2NvbnN0IHE9RihrKShKLnR5cGVkVmFsdWUsYWUudHlwZWRWYWx1ZSk7cmV0dXJuIF8ocSl9KS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTCxoLlR5cGVVUkwuWFNEX0RBVEVfVElNRV0sMSkuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVVUkwuWFNEX0RBVEVfVElNRSxoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDIpfW51bWVyaWMoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQyxoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQ10sRikuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQyxoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDIpLmludmFsaWRMZXhpY2FsRm9ybShbaC5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMLGguVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDXSwxKX1pbnZhbGlkTGV4aWNhbEZvcm0oRixrKXtyZXR1cm4gdGhpcy5zZXQoRiwoKT0+Sj0+e3Rocm93IG5ldyB1LkludmFsaWRMZXhpY2FsRm9ybShKW2stMV0udG9SREYoKSl9KX19ZS5CdWlsZGVyPWI7ZnVuY3Rpb24gXyhQKXtyZXR1cm4gbmV3IGQuQm9vbGVhbkxpdGVyYWwoUCl9ZS5ib29sPV87ZnVuY3Rpb24gTyhQKXtyZXR1cm4gbmV3IGQuSW50ZWdlckxpdGVyYWwoUCl9ZS5pbnRlZ2VyPU87ZnVuY3Rpb24gVChQKXtyZXR1cm4gbmV3IGQuRGVjaW1hbExpdGVyYWwoUCl9ZS5kZWNpbWFsPVQ7ZnVuY3Rpb24gaihQKXtyZXR1cm4gbmV3IGQuRmxvYXRMaXRlcmFsKFApfWUuZmxvYXQ9ajtmdW5jdGlvbiBOKFApe3JldHVybiBuZXcgZC5Eb3VibGVMaXRlcmFsKFApfWUuZG91YmxlPU47ZnVuY3Rpb24gQihQKXtyZXR1cm4gbmV3IGQuU3RyaW5nTGl0ZXJhbChQKX1lLnN0cmluZz1CO2Z1bmN0aW9uIEMoUCxGKXtyZXR1cm4gbmV3IGQuTGFuZ1N0cmluZ0xpdGVyYWwoUCxGKX1lLmxhbmdTdHJpbmc9QztmdW5jdGlvbiBMKFAsRil7cmV0dXJuIG5ldyBkLkRhdGVUaW1lTGl0ZXJhbChQLEYpfWUuZGF0ZVRpbWU9TDtmdW5jdGlvbiBTKFApe3JldHVybiBnLnZhcmlhYmxlKFAubmFtZS5zbGljZSgxKSl9ZS5leHByZXNzaW9uVG9WYXI9U30sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvTmFtZWRGdW5jdGlvbnMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5uYW1lZERlZmluaXRpb25zPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9QYXJzaW5nLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0hlbHBlcnMuanMiKSx1PXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfU1RSSU5HKS5vbk51bWVyaWMxKCgpPT5UPT4oMCxsLnN0cmluZykoKDAsbC5mbG9hdCkoVC50eXBlZFZhbHVlKS5zdHIoKSkpLm9uQm9vbGVhbjFUeXBlZCgoKT0+VD0+KDAsbC5zdHJpbmcpKCgwLGwuYm9vbCkoVCkuc3RyKCkpKS5vblRlcm0xKCgpPT5UPT4oMCxsLnN0cmluZykoVC5zdHIoKSkpLmNvbGxlY3QoKX0scD17YXJpdHk6MSxvdmVybG9hZHM6KDAsbC5kZWNsYXJlKShvLlR5cGVVUkwuWFNEX0ZMT0FUKS5vbk51bWVyaWMxKCgpPT5UPT4oMCxsLmZsb2F0KShULnR5cGVkVmFsdWUpKS5vbkJvb2xlYW4xVHlwZWQoKCk9PlQ9PigwLGwuZmxvYXQpKFQ/MTowKSkub25VbmFyeShvLlR5cGVVUkwuWFNEX1NUUklORywoKT0+VD0+e2NvbnN0IGo9KDAsaC5wYXJzZVhTREZsb2F0KShULnN0cigpKTtpZihqPT09dm9pZCAwKXRocm93IG5ldyBkLkNhc3RFcnJvcihULG8uVHlwZVVSTC5YU0RfRkxPQVQpO3JldHVybigwLGwuZmxvYXQpKGopfSkuY29weSh7ZnJvbTpbby5UeXBlVVJMLlhTRF9TVFJJTkddLHRvOltvLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdfSkuY29sbGVjdCgpfSxnPXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfRE9VQkxFKS5vbk51bWVyaWMxKCgpPT5UPT4oMCxsLmRvdWJsZSkoVC50eXBlZFZhbHVlKSkub25Cb29sZWFuMVR5cGVkKCgpPT5UPT4oMCxsLmRvdWJsZSkoVD8xOjApKS5vblVuYXJ5KG8uVHlwZVVSTC5YU0RfU1RSSU5HLCgpPT5UPT57Y29uc3Qgaj0oMCxoLnBhcnNlWFNERmxvYXQpKFQuc3RyKCkpO2lmKGo9PT12b2lkIDApdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9ET1VCTEUpO3JldHVybigwLGwuZG91YmxlKShqKX0pLmNvcHkoe2Zyb206W28uVHlwZVVSTC5YU0RfU1RSSU5HXSx0bzpbby5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMXX0pLmNvbGxlY3QoKX0sdj17YXJpdHk6MSxvdmVybG9hZHM6KDAsbC5kZWNsYXJlKShvLlR5cGVVUkwuWFNEX0RFQ0lNQUwpLm9uTnVtZXJpYzEoKCk9PlQ9Pntjb25zdCBqPSgwLGgucGFyc2VYU0REZWNpbWFsKShULnN0cigpKTtpZihqPT09dm9pZCAwKXRocm93IG5ldyBkLkNhc3RFcnJvcihULG8uVHlwZVVSTC5YU0RfREVDSU1BTCk7cmV0dXJuKDAsbC5kZWNpbWFsKShqKX0pLm9uU3RyaW5nMSgoKT0+VD0+e2NvbnN0IGo9VC5zdHIoKSxOPS9eKFsrLV0pPyhcZCsoXC5cZCspPykkL3UudGVzdChqKT8oMCxoLnBhcnNlWFNERGVjaW1hbCkoaik6dm9pZCAwO2lmKE49PT12b2lkIDApdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9ERUNJTUFMKTtyZXR1cm4oMCxsLmRlY2ltYWwpKE4pfSkuY29weSh7ZnJvbTpbby5UeXBlVVJMLlhTRF9TVFJJTkddLHRvOltvLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdfSkub25Cb29sZWFuMVR5cGVkKCgpPT5UPT4oMCxsLmRlY2ltYWwpKFQ/MTowKSkuY29sbGVjdCgpfSxiPXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfSU5URUdFUikub25Cb29sZWFuMVR5cGVkKCgpPT5UPT4oMCxsLmludGVnZXIpKFQ/MTowKSkub25OdW1lcmljMSgoKT0+VD0+e2NvbnN0IGo9KDAsaC5wYXJzZVhTREludGVnZXIpKFQuc3RyKCkpO2lmKGo9PT12b2lkIDApdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9JTlRFR0VSKTtyZXR1cm4oMCxsLmludGVnZXIpKGopfSkub25TdHJpbmcxKCgpPT5UPT57Y29uc3Qgaj1ULnN0cigpLE49L15cZCskL3UudGVzdChqKT8oMCxoLnBhcnNlWFNESW50ZWdlcikoaik6dm9pZCAwO2lmKE49PT12b2lkIDApdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9JTlRFR0VSKTtyZXR1cm4oMCxsLmludGVnZXIpKE4pfSkuY29weSh7ZnJvbTpbby5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUNdLHRvOltvLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdfSkuY29sbGVjdCgpfSxfPXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfREFURV9USU1FKS5vblVuYXJ5KG8uVHlwZVVSTC5YU0RfREFURV9USU1FLCgpPT5UPT5UKS5vblVuYXJ5KG8uVHlwZVVSTC5YU0RfU1RSSU5HLCgpPT5UPT57Y29uc3Qgaj1uZXcgRGF0ZShULnN0cigpKTtpZihOdW1iZXIuaXNOYU4oai5nZXRUaW1lKCkpKXRocm93IG5ldyBkLkNhc3RFcnJvcihULG8uVHlwZVVSTC5YU0RfREFURV9USU1FKTtyZXR1cm4oMCxsLmRhdGVUaW1lKShqLFQuc3RyKCkpfSkuY29weSh7ZnJvbTpbby5UeXBlVVJMLlhTRF9TVFJJTkddLHRvOltvLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdfSkuY29sbGVjdCgpfSxPPXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfQk9PTEVBTikub25OdW1lcmljMSgoKT0+VD0+KDAsbC5ib29sKShULmNvZXJjZUVCVigpKSkub25VbmFyeShvLlR5cGVVUkwuWFNEX0JPT0xFQU4sKCk9PlQ9PigwLGwuYm9vbCkoVC5jb2VyY2VFQlYoKSkpLm9uVW5hcnkoby5UeXBlVVJMLlhTRF9TVFJJTkcsKCk9PlQ9Pntzd2l0Y2goVC5zdHIoKSl7Y2FzZSJ0cnVlIjpyZXR1cm4oMCxsLmJvb2wpKCEwKTtjYXNlImZhbHNlIjpyZXR1cm4oMCxsLmJvb2wpKCExKTtjYXNlIjEiOnJldHVybigwLGwuYm9vbCkoITApO2Nhc2UiMCI6cmV0dXJuKDAsbC5ib29sKSghMSk7ZGVmYXVsdDp0aHJvdyBuZXcgZC5DYXN0RXJyb3IoVCxvLlR5cGVVUkwuWFNEX0JPT0xFQU4pfX0pLmNvcHkoe2Zyb206W28uVHlwZVVSTC5YU0RfU1RSSU5HXSx0bzpbby5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMXX0pLmNvbGxlY3QoKX07ZS5uYW1lZERlZmluaXRpb25zPXtbby5UeXBlVVJMLlhTRF9TVFJJTkddOnUsW28uVHlwZVVSTC5YU0RfRkxPQVRdOnAsW28uVHlwZVVSTC5YU0RfRE9VQkxFXTpnLFtvLlR5cGVVUkwuWFNEX0RFQ0lNQUxdOnYsW28uVHlwZVVSTC5YU0RfSU5URUdFUl06Yixbby5UeXBlVVJMLlhTRF9EQVRFX1RJTUVdOl8sW28uVHlwZVVSTC5YU0RfREFURV06Xyxbby5UeXBlVVJMLlhTRF9CT09MRUFOXTpPfX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvT3ZlcmxvYWRUcmVlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuT3ZlcmxvYWRUcmVlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9UeXBlSGFuZGxpbmcuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpO2NsYXNzIHV7Y29uc3RydWN0b3IoZyx2KXt0aGlzLmlkZW50aWZpZXI9Zyx0aGlzLmltcGxlbWVudGF0aW9uPXZvaWQgMCx0aGlzLmdlbmVyYWxPdmVybG9hZHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmxpdGVyYWxPdmVyTG9hZHM9W10sdGhpcy5kZXB0aD12fHwwLHRoaXMucHJvbW90aW9uQ291bnQ9dm9pZCAwfWdldFN1YnRyZWUoZyl7Y29uc3Qgdj0oMCxoLmFzR2VuZXJhbFR5cGUpKGcpO2lmKHYpcmV0dXJuIHRoaXMuZ2VuZXJhbE92ZXJsb2Fkc1t2XTtmb3IoY29uc3RbYixfXW9mIHRoaXMubGl0ZXJhbE92ZXJMb2FkcylpZihnPT09YilyZXR1cm4gX31nZXRJbXBsZW1lbnRhdGlvbkV4YWN0KGcpe2xldCB2PXRoaXM7Zm9yKGNvbnN0IGIgb2YgZylpZih2PXYuZ2V0U3VidHJlZShiKSwhdilyZXR1cm47cmV0dXJuIHYuaW1wbGVtZW50YXRpb259c2VhcmNoKGcsdixiKXtsZXQgXz1iW3RoaXMuaWRlbnRpZmllcl0sTz0wO2Zvcig7TzxnLmxlbmd0aCYmXz8uY2FjaGU7KXtjb25zdCBOPWdbT10sQj0oMCxvLmlzTGl0ZXJhbFRlcm1FeHByZXNzaW9uKShOKTtfPV8uY2FjaGVbQj9CLmRhdGFUeXBlOk4udGVybVR5cGVdLE8rK31pZihPPT09Zy5sZW5ndGgmJl8/LmZ1bmMpcmV0dXJuIF8uZnVuYztjb25zdCBUPVtdLGo9MDtpZihnLmxlbmd0aD09PTApcmV0dXJuIHRoaXMuaW1wbGVtZW50YXRpb247Zm9yKFQucHVzaCguLi50aGlzLmdldFN1YlRyZWVXaXRoQXJnKGdbal0sdikubWFwKE49Pih7bm9kZTpOLGluZGV4OmorMX0pKSk7VC5sZW5ndGg+MDspe2NvbnN0e2luZGV4Ok4sbm9kZTpCfT1ULnBvcCgpO2lmKE49PT1nLmxlbmd0aCYmQi5pbXBsZW1lbnRhdGlvbilyZXR1cm4gdGhpcy5hZGRUb0NhY2hlKGIsZyxCLmltcGxlbWVudGF0aW9uKSxCLmltcGxlbWVudGF0aW9uO1QucHVzaCguLi5CLmdldFN1YlRyZWVXaXRoQXJnKGdbTl0sdikubWFwKEM9Pih7bm9kZTpDLGluZGV4Ok4rMX0pKSl9fWFkZFRvQ2FjaGUoZyx2LGIpe2Z1bmN0aW9uIF8oVCxqKXtyZXR1cm4gaiBpbiBUfHwoVFtqXT17fSksVFtqXX1sZXQgTz1fKGcsdGhpcy5pZGVudGlmaWVyKTtmb3IoY29uc3QgVCBvZiB2KXtjb25zdCBqPSgwLG8uaXNMaXRlcmFsVGVybUV4cHJlc3Npb24pKFQpLE49aj9qLmRhdGFUeXBlOlQudGVybVR5cGU7Ty5jYWNoZT1PLmNhY2hlfHx7fSxPPV8oTy5jYWNoZSxOKX1PLmZ1bmM9Yn1hZGRPdmVybG9hZChnLHYpe3RoaXMuX2FkZE92ZXJsb2FkKFsuLi5nXSx2LDApfV9hZGRPdmVybG9hZChnLHYsYil7Y29uc3RbXywuLi5PXT1nO2lmKCFfKXsodGhpcy5wcm9tb3Rpb25Db3VudD09PXZvaWQgMHx8Yjw9dGhpcy5wcm9tb3Rpb25Db3VudCkmJih0aGlzLnByb21vdGlvbkNvdW50PWIsdGhpcy5pbXBsZW1lbnRhdGlvbj12KTtyZXR1cm59bGV0IFQ9dGhpcy5nZXRTdWJ0cmVlKF8pO2lmKCFUKXtjb25zdCBqPW5ldyB1KHRoaXMuaWRlbnRpZmllcix0aGlzLmRlcHRoKzEpLE49KDAsaC5hc0dlbmVyYWxUeXBlKShfKTtOJiYodGhpcy5nZW5lcmFsT3ZlcmxvYWRzW05dPWopO2NvbnN0IEI9KDAsaC5hc092ZXJyaWRlVHlwZSkoXyk7QiYmdGhpcy5saXRlcmFsT3ZlckxvYWRzLnB1c2goW0Isal0pLFQ9an1ULl9hZGRPdmVybG9hZChPLHYsYiksXz09PWQuVHlwZVVSTC5YU0RfU1RSSU5HJiZ0aGlzLmFkZFByb21vdGVkT3ZlcmxvYWQoZC5UeXBlVVJMLlhTRF9BTllfVVJJLHYsaj0+KDAsbC5zdHJpbmcpKGouc3RyKCkpLE8sYiksXz09PWQuVHlwZVVSTC5YU0RfRE9VQkxFJiYodGhpcy5hZGRQcm9tb3RlZE92ZXJsb2FkKGQuVHlwZVVSTC5YU0RfRkxPQVQsdixqPT4oMCxsLmRvdWJsZSkoai50eXBlZFZhbHVlKSxPLGIpLHRoaXMuYWRkUHJvbW90ZWRPdmVybG9hZChkLlR5cGVVUkwuWFNEX0RFQ0lNQUwsdixqPT4oMCxsLmRvdWJsZSkoai50eXBlZFZhbHVlKSxPLGIpKSxfPT09ZC5UeXBlVVJMLlhTRF9GTE9BVCYmdGhpcy5hZGRQcm9tb3RlZE92ZXJsb2FkKGQuVHlwZVVSTC5YU0RfREVDSU1BTCx2LGo9PigwLGwuZmxvYXQpKGoudHlwZWRWYWx1ZSksTyxiKX1hZGRQcm9tb3RlZE92ZXJsb2FkKGcsdixiLF8sTyl7bGV0IFQ9dGhpcy5nZXRTdWJ0cmVlKGcpO2lmKCFUKXtjb25zdCBqPW5ldyB1KHRoaXMuaWRlbnRpZmllcix0aGlzLmRlcHRoKzEpO3RoaXMubGl0ZXJhbE92ZXJMb2Fkcy5wdXNoKFtnLGpdKSxUPWp9VC5fYWRkT3ZlcmxvYWQoXyxqPT5OPT52KGopKFsuLi5OLnNsaWNlKDAsdGhpcy5kZXB0aCksYihOW3RoaXMuZGVwdGhdKSwuLi5OLnNsaWNlKHRoaXMuZGVwdGgrMSxOLmxlbmd0aCldKSxPKzEpfWdldFN1YlRyZWVXaXRoQXJnKGcsdil7Y29uc3QgYj1bXSxfPSgwLG8uaXNMaXRlcmFsVGVybUV4cHJlc3Npb24pKGcpO2lmKHRoaXMuZ2VuZXJhbE92ZXJsb2Fkcy50ZXJtJiZiLnB1c2godGhpcy5nZW5lcmFsT3ZlcmxvYWRzLnRlcm0pLHRoaXMuZ2VuZXJhbE92ZXJsb2Fkc1tnLnRlcm1UeXBlXSYmYi5wdXNoKHRoaXMuZ2VuZXJhbE92ZXJsb2Fkc1tnLnRlcm1UeXBlXSksXyl7Y29uc3QgTz0oMCxoLmFzS25vd25MaXRlcmFsVHlwZSkoXy5kYXRhVHlwZSk7bGV0IFQ7Tz9UPWguc3VwZXJUeXBlRGljdFRhYmxlW09dOlQ9KDAsaC5nZXRTdXBlclR5cGVzKShfLmRhdGFUeXBlLHYpO2NvbnN0IGo9dGhpcy5saXRlcmFsT3ZlckxvYWRzLmZpbHRlcigoW04sQl0pPT5OIGluIFQpLm1hcCgoW04sQl0pPT5bVFtOXSxCXSk7ai5zb3J0KChbTixCXSxbQyxMXSk9Pk4tQyksYi5wdXNoKC4uLmoubWFwKChbTixCXSk9PkIpKX1yZXR1cm4gYn19ZS5PdmVybG9hZFRyZWU9dX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvUmVndWxhckZ1bmN0aW9ucy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmRlZmluaXRpb25zPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9iaWdudW1iZXIuanMvYmlnbnVtYmVyLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9yZWxhdGl2ZS10by1hYnNvbHV0ZS1pcmkvaW5kZXguanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIikscD1uKCIuLi9wYWNrYWdlcy91dWlkL2Rpc3QvaW5kZXguanMiKSxnPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLHY9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9UZXJtVHJhbnNmb3JtZXIuanMiKSxiPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLF89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksTz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxUPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1BhcnNpbmcuanMiKSxqPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpLE49bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9YUGF0aEZ1bmN0aW9ucy5qcyIpLEI9bmV3IGguRGF0YUZhY3RvcnksQz17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5OT1QpLm9uVGVybTEoKCk9PnllPT4oMCxqLmJvb2wpKCF5ZS5jb2VyY2VFQlYoKSkpLmNvbGxlY3QoKX0sTD17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5VUExVUykubnVtZXJpY0NvbnZlcnRlcigoKT0+eWU9PnllKS5jb2xsZWN0KCl9LFM9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuVU1JTlVTKS5udW1lcmljQ29udmVydGVyKCgpPT55ZT0+LXllKS5jb2xsZWN0KCl9LFA9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTVVMVElQTElDQVRJT04pLmFyaXRobWV0aWMoKCk9Pih5ZSxFZSk9Pm5ldyBvLkJpZ051bWJlcih5ZSkudGltZXMoRWUpLnRvTnVtYmVyKCkpLmNvbGxlY3QoKX0sRj17YXJpdHk6MixvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5ESVZJU0lPTikuYXJpdGhtZXRpYygoKT0+KHllLEVlKT0+bmV3IG8uQmlnTnVtYmVyKHllKS5kaXYoRWUpLnRvTnVtYmVyKCkpLm9uQmluYXJ5VHlwZWQoW18uVHlwZVVSTC5YU0RfSU5URUdFUixfLlR5cGVVUkwuWFNEX0lOVEVHRVJdLCgpPT4oeWUsRWUpPT57aWYoRWU9PT0wKXRocm93IG5ldyBPLkV4cHJlc3Npb25FcnJvcigiSW50ZWdlciBkaXZpc2lvbiBieSAwIik7cmV0dXJuKDAsai5kZWNpbWFsKShuZXcgby5CaWdOdW1iZXIoeWUpLmRpdihFZSkudG9OdW1iZXIoKSl9KS5jb2xsZWN0KCl9LGs9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuQURESVRJT04pLmFyaXRobWV0aWMoKCk9Pih5ZSxFZSk9Pm5ldyBvLkJpZ051bWJlcih5ZSkucGx1cyhFZSkudG9OdW1iZXIoKSkuY29sbGVjdCgpfSxKPXthcml0eToyLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNVQlRSQUNUSU9OKS5hcml0aG1ldGljKCgpPT4oeWUsRWUpPT5uZXcgby5CaWdOdW1iZXIoeWUpLm1pbnVzKEVlKS50b051bWJlcigpKS5jb2xsZWN0KCl9LGFlPXthcml0eToyLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkVRVUFMKS5udW1iZXJUZXN0KCgpPT4oeWUsRWUpPT55ZT09PUVlKS5zdHJpbmdUZXN0KCgpPT4oeWUsRWUpPT55ZS5sb2NhbGVDb21wYXJlKEVlKT09PTApLmJvb2xlYW5UZXN0KCgpPT4oeWUsRWUpPT55ZT09PUVlKS5kYXRlVGltZVRlc3QoKCk9Pih5ZSxFZSk9PnllLmdldFRpbWUoKT09PUVlLmdldFRpbWUoKSkuc2V0KFsidGVybSIsInRlcm0iXSwoKT0+KFt5ZSxFZV0pPT4oMCxqLmJvb2wpKHEoeWUsRWUpKSkuY29sbGVjdCgpfTtmdW5jdGlvbiBxKHllLEVlKXtjb25zdCBYZT15ZS50b1JERigpLHFlPUVlLnRvUkRGKCksWWU9WGUuZXF1YWxzKHFlKTtpZihYZS50ZXJtVHlwZT09PSJMaXRlcmFsIiYmcWUudGVybVR5cGU9PT0iTGl0ZXJhbCIpdGhyb3cgbmV3IE8uUkRGRXF1YWxUeXBlRXJyb3IoW3llLEVlXSk7cmV0dXJuIFllfWNvbnN0IEc9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTk9UX0VRVUFMKS5udW1iZXJUZXN0KCgpPT4oeWUsRWUpPT55ZSE9PUVlKS5zdHJpbmdUZXN0KCgpPT4oeWUsRWUpPT55ZS5sb2NhbGVDb21wYXJlKEVlKSE9PTApLmJvb2xlYW5UZXN0KCgpPT4oeWUsRWUpPT55ZSE9PUVlKS5kYXRlVGltZVRlc3QoKCk9Pih5ZSxFZSk9PnllLmdldFRpbWUoKSE9PUVlLmdldFRpbWUoKSkuc2V0KFsidGVybSIsInRlcm0iXSwoKT0+KFt5ZSxFZV0pPT4oMCxqLmJvb2wpKCFxKHllLEVlKSkpLmNvbGxlY3QoKX0scmU9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTFQpLm51bWJlclRlc3QoKCk9Pih5ZSxFZSk9PnllPEVlKS5zdHJpbmdUZXN0KCgpPT4oeWUsRWUpPT55ZS5sb2NhbGVDb21wYXJlKEVlKT09PS0xKS5ib29sZWFuVGVzdCgoKT0+KHllLEVlKT0+eWU8RWUpLmRhdGVUaW1lVGVzdCgoKT0+KHllLEVlKT0+eWUuZ2V0VGltZSgpPEVlLmdldFRpbWUoKSkuY29sbGVjdCgpfSxNPXthcml0eToyLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkdUKS5udW1iZXJUZXN0KCgpPT4oeWUsRWUpPT55ZT5FZSkuc3RyaW5nVGVzdCgoKT0+KHllLEVlKT0+eWUubG9jYWxlQ29tcGFyZShFZSk9PT0xKS5ib29sZWFuVGVzdCgoKT0+KHllLEVlKT0+eWU+RWUpLmRhdGVUaW1lVGVzdCgoKT0+KHllLEVlKT0+eWUuZ2V0VGltZSgpPkVlLmdldFRpbWUoKSkuY29sbGVjdCgpfSwkPXthcml0eToyLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkxURSkubnVtYmVyVGVzdCgoKT0+KHllLEVlKT0+eWU8PUVlKS5zdHJpbmdUZXN0KCgpPT4oeWUsRWUpPT55ZS5sb2NhbGVDb21wYXJlKEVlKSE9PTEpLmJvb2xlYW5UZXN0KCgpPT4oeWUsRWUpPT55ZTw9RWUpLmRhdGVUaW1lVGVzdCgoKT0+KHllLEVlKT0+eWUuZ2V0VGltZSgpPD1FZS5nZXRUaW1lKCkpLmNvbGxlY3QoKX0sVT17YXJpdHk6MixvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5HVEUpLm51bWJlclRlc3QoKCk9Pih5ZSxFZSk9PnllPj1FZSkuc3RyaW5nVGVzdCgoKT0+KHllLEVlKT0+eWUubG9jYWxlQ29tcGFyZShFZSkhPT0tMSkuYm9vbGVhblRlc3QoKCk9Pih5ZSxFZSk9PnllPj1FZSkuZGF0ZVRpbWVUZXN0KCgpPT4oeWUsRWUpPT55ZS5nZXRUaW1lKCk+PUVlLmdldFRpbWUoKSkuY29sbGVjdCgpfSxIPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLklTX0lSSSkub25UZXJtMSgoKT0+eWU9PigwLGouYm9vbCkoeWUudGVybVR5cGU9PT0ibmFtZWROb2RlIikpLmNvbGxlY3QoKX0sZWU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuSVNfQkxBTkspLm9uVGVybTEoKCk9PnllPT4oMCxqLmJvb2wpKHllLnRlcm1UeXBlPT09ImJsYW5rTm9kZSIpKS5jb2xsZWN0KCl9LGdlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLklTX0xJVEVSQUwpLm9uVGVybTEoKCk9PnllPT4oMCxqLmJvb2wpKHllLnRlcm1UeXBlPT09ImxpdGVyYWwiKSkuY29sbGVjdCgpfSxtZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5JU19OVU1FUklDKS5vbk51bWVyaWMxKCgpPT55ZT0+KDAsai5ib29sKSghMCkpLm9uVGVybTEoKCk9PnllPT4oMCxqLmJvb2wpKCExKSkuY29sbGVjdCgpfSxmZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFIpLm9uVGVybTEoKCk9PnllPT4oMCxqLnN0cmluZykoeWUuc3RyKCkpKS5jb2xsZWN0KCl9LGhlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkxBTkcpLm9uTGl0ZXJhbDEoKCk9PnllPT4oMCxqLnN0cmluZykoeWUubGFuZ3VhZ2V8fCIiKSkuY29sbGVjdCgpfSxfZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5EQVRBVFlQRSkub25MaXRlcmFsMSgoKT0+eWU9Pm5ldyBnLk5hbWVkTm9kZSh5ZS5kYXRhVHlwZSkpLmNvbGxlY3QoKX0seGU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuSVJJKS5zZXQoWyJuYW1lZE5vZGUiXSx5ZT0+RWU9Pntjb25zdCBYZT1FZVswXSxxZT0oMCxsLnJlc29sdmUpKFhlLnN0cigpLHllLmJhc2VJUkl8fCIiKTtyZXR1cm4gbmV3IGcuTmFtZWROb2RlKHFlKX0pLm9uU3RyaW5nMSh5ZT0+RWU9Pntjb25zdCBYZT0oMCxsLnJlc29sdmUpKEVlLnN0cigpLHllLmJhc2VJUkl8fCIiKTtyZXR1cm4gbmV3IGcuTmFtZWROb2RlKFhlKX0pLmNvbGxlY3QoKX0sTmU9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1RSRFQpLnNldChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsIm5hbWVkTm9kZSJdLCh7c3VwZXJUeXBlUHJvdmlkZXI6eWV9KT0+KFtFZSxYZV0pPT57Y29uc3QgcWU9Qi5saXRlcmFsKEVlLnR5cGVkVmFsdWUsQi5uYW1lZE5vZGUoWGUudmFsdWUpKTtyZXR1cm4gbmV3IHYuVGVybVRyYW5zZm9ybWVyKHllKS50cmFuc2Zvcm1MaXRlcmFsKHFlKX0pLmNvbGxlY3QoKX0sSWU9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1RSTEFORykub25CaW5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT5uZXcgZy5MYW5nU3RyaW5nTGl0ZXJhbCh5ZSxFZS50b0xvd2VyQ2FzZSgpKSkuY29sbGVjdCgpfSxSZT17YXJpdHk6MCxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5VVUlEKS5zZXQoW10sKCk9PigpPT5uZXcgZy5OYW1lZE5vZGUoYHVybjp1dWlkOiR7cC52NCgpfWApKS5jb2xsZWN0KCl9LHZlPXthcml0eTowLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNUUlVVSUQpLnNldChbXSwoKT0+KCk9PigwLGouc3RyaW5nKShwLnY0KCkpKS5jb2xsZWN0KCl9LENlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNUUkxFTikub25TdHJpbmdseTEoKCk9PnllPT4oMCxqLmludGVnZXIpKFsuLi55ZS50eXBlZFZhbHVlXS5sZW5ndGgpKS5jb2xsZWN0KCl9LE1lPXthcml0eTpbMiwzXSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVUJTVFIpLm9uQmluYXJ5VHlwZWQoW18uVHlwZVVSTC5YU0RfU1RSSU5HLF8uVHlwZVVSTC5YU0RfSU5URUdFUl0sKCk9Pih5ZSxFZSk9PigwLGouc3RyaW5nKShbLi4ueWVdLnNsaWNlKEVlLTEpLmpvaW4oIiIpKSkub25CaW5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlhTRF9JTlRFR0VSXSwoKT0+KHllLEVlKT0+e2NvbnN0IFhlPVsuLi55ZS50eXBlZFZhbHVlXS5zbGljZShFZS50eXBlZFZhbHVlLTEpLmpvaW4oIiIpO3JldHVybigwLGoubGFuZ1N0cmluZykoWGUseWUubGFuZ3VhZ2UpfSkub25UZXJuYXJ5VHlwZWQoW18uVHlwZVVSTC5YU0RfU1RSSU5HLF8uVHlwZVVSTC5YU0RfSU5URUdFUixfLlR5cGVVUkwuWFNEX0lOVEVHRVJdLCgpPT4oeWUsRWUsWGUpPT4oMCxqLnN0cmluZykoWy4uLnllXS5zbGljZShFZS0xLFhlK0VlLTEpLmpvaW4oIiIpKSkub25UZXJuYXJ5KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5YU0RfSU5URUdFUixfLlR5cGVVUkwuWFNEX0lOVEVHRVJdLCgpPT4oeWUsRWUsWGUpPT57Y29uc3QgcWU9Wy4uLnllLnR5cGVkVmFsdWVdLnNsaWNlKEVlLnR5cGVkVmFsdWUtMSxYZS50eXBlZFZhbHVlK0VlLnR5cGVkVmFsdWUtMSkuam9pbigiIik7cmV0dXJuKDAsai5sYW5nU3RyaW5nKShxZSx5ZS5sYW5ndWFnZSl9KS5jb2xsZWN0KCl9LFVlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlVDQVNFKS5vblN0cmluZzFUeXBlZCgoKT0+eWU9PigwLGouc3RyaW5nKSh5ZS50b1VwcGVyQ2FzZSgpKSkub25MYW5nU3RyaW5nMSgoKT0+eWU9PigwLGoubGFuZ1N0cmluZykoeWUudHlwZWRWYWx1ZS50b1VwcGVyQ2FzZSgpLHllLmxhbmd1YWdlKSkuY29sbGVjdCgpfSxGZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5MQ0FTRSkub25TdHJpbmcxVHlwZWQoKCk9PnllPT4oMCxqLnN0cmluZykoeWUudG9Mb3dlckNhc2UoKSkpLm9uTGFuZ1N0cmluZzEoKCk9PnllPT4oMCxqLmxhbmdTdHJpbmcpKHllLnR5cGVkVmFsdWUudG9Mb3dlckNhc2UoKSx5ZS5sYW5ndWFnZSkpLmNvbGxlY3QoKX0sJGU9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1RSU1RBUlRTKS5vbkJpbmFyeVR5cGVkKFtfLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFksXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT4oMCxqLmJvb2wpKHllLnN0YXJ0c1dpdGgoRWUpKSkub25CaW5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlJERl9MQU5HX1NUUklOR10sKCk9Pih5ZSxFZSk9PntpZih5ZS5sYW5ndWFnZSE9PUVlLmxhbmd1YWdlKXRocm93IG5ldyBPLkluY29tcGF0aWJsZUxhbmd1YWdlT3BlcmF0aW9uKHllLEVlKTtyZXR1cm4oMCxqLmJvb2wpKHllLnR5cGVkVmFsdWUuc3RhcnRzV2l0aChFZS50eXBlZFZhbHVlKSl9KS5jb2xsZWN0KCl9LFg9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1RSRU5EUykub25CaW5hcnlUeXBlZChbXy5UeXBlQWxpYXMuU1BBUlFMX1NUUklOR0xZLF8uVHlwZVVSTC5YU0RfU1RSSU5HXSwoKT0+KHllLEVlKT0+KDAsai5ib29sKSh5ZS5lbmRzV2l0aChFZSkpKS5vbkJpbmFyeShbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HXSwoKT0+KHllLEVlKT0+e2lmKHllLmxhbmd1YWdlIT09RWUubGFuZ3VhZ2UpdGhyb3cgbmV3IE8uSW5jb21wYXRpYmxlTGFuZ3VhZ2VPcGVyYXRpb24oeWUsRWUpO3JldHVybigwLGouYm9vbCkoeWUudHlwZWRWYWx1ZS5lbmRzV2l0aChFZS50eXBlZFZhbHVlKSl9KS5jb2xsZWN0KCl9LG9lPXthcml0eToyLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkNPTlRBSU5TKS5vbkJpbmFyeVR5cGVkKFtfLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFksXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT4oMCxqLmJvb2wpKHllLmluY2x1ZGVzKEVlKSkpLm9uQmluYXJ5KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5SREZfTEFOR19TVFJJTkddLCgpPT4oeWUsRWUpPT57aWYoeWUubGFuZ3VhZ2UhPT1FZS5sYW5ndWFnZSl0aHJvdyBuZXcgTy5JbmNvbXBhdGlibGVMYW5ndWFnZU9wZXJhdGlvbih5ZSxFZSk7cmV0dXJuKDAsai5ib29sKSh5ZS50eXBlZFZhbHVlLmluY2x1ZGVzKEVlLnR5cGVkVmFsdWUpKX0pLmNvbGxlY3QoKX0sUT17YXJpdHk6MixvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFJCRUZPUkUpLm9uQmluYXJ5VHlwZWQoW18uVHlwZVVSTC5YU0RfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HXSwoKT0+KHllLEVlKT0+KDAsai5zdHJpbmcpKHllLnNsaWNlKDAsTWF0aC5tYXgoMCx5ZS5pbmRleE9mKEVlKSkpKSkub25CaW5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT57Y29uc3RbWGUscWVdPVt5ZS50eXBlZFZhbHVlLEVlLnR5cGVkVmFsdWVdLFllPXllLnR5cGVkVmFsdWUuc2xpY2UoMCxNYXRoLm1heCgwLFhlLmluZGV4T2YocWUpKSk7cmV0dXJuIFllfHwhcWU/KDAsai5sYW5nU3RyaW5nKShZZSx5ZS5sYW5ndWFnZSk6KDAsai5zdHJpbmcpKFllKX0pLm9uQmluYXJ5KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5SREZfTEFOR19TVFJJTkddLCgpPT4oeWUsRWUpPT57aWYoeWUubGFuZ3VhZ2UhPT1FZS5sYW5ndWFnZSl0aHJvdyBuZXcgTy5JbmNvbXBhdGlibGVMYW5ndWFnZU9wZXJhdGlvbih5ZSxFZSk7Y29uc3RbWGUscWVdPVt5ZS50eXBlZFZhbHVlLEVlLnR5cGVkVmFsdWVdLFllPXllLnR5cGVkVmFsdWUuc2xpY2UoMCxNYXRoLm1heCgwLFhlLmluZGV4T2YocWUpKSk7cmV0dXJuIFllfHwhcWU/KDAsai5sYW5nU3RyaW5nKShZZSx5ZS5sYW5ndWFnZSk6KDAsai5zdHJpbmcpKFllKX0pLmNvbGxlY3QoKX0sWT17YXJpdHk6MixvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFJBRlRFUikub25CaW5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT4oMCxqLnN0cmluZykoeWUuc2xpY2UoeWUuaW5kZXhPZihFZSkpLnNsaWNlKEVlLmxlbmd0aCkpKS5vbkJpbmFyeShbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9Pntjb25zdFtYZSxxZV09W3llLnR5cGVkVmFsdWUsRWUudHlwZWRWYWx1ZV0sWWU9WGUuc2xpY2UoWGUuaW5kZXhPZihxZSkpLnNsaWNlKHFlLmxlbmd0aCk7cmV0dXJuIFllfHwhcWU/KDAsai5sYW5nU3RyaW5nKShZZSx5ZS5sYW5ndWFnZSk6KDAsai5zdHJpbmcpKFllKX0pLm9uQmluYXJ5KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5SREZfTEFOR19TVFJJTkddLCgpPT4oeWUsRWUpPT57aWYoeWUubGFuZ3VhZ2UhPT1FZS5sYW5ndWFnZSl0aHJvdyBuZXcgTy5JbmNvbXBhdGlibGVMYW5ndWFnZU9wZXJhdGlvbih5ZSxFZSk7Y29uc3RbWGUscWVdPVt5ZS50eXBlZFZhbHVlLEVlLnR5cGVkVmFsdWVdLFllPVhlLnNsaWNlKFhlLmluZGV4T2YocWUpKS5zbGljZShxZS5sZW5ndGgpO3JldHVybiBZZXx8IXFlPygwLGoubGFuZ1N0cmluZykoWWUseWUubGFuZ3VhZ2UpOigwLGouc3RyaW5nKShZZSl9KS5jb2xsZWN0KCl9LGllPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkVOQ09ERV9GT1JfVVJJKS5vblN0cmluZ2x5MVR5cGVkKCgpPT55ZT0+KDAsai5zdHJpbmcpKGVuY29kZVVSSSh5ZSkpKS5jb2xsZWN0KCl9LHNlPXthcml0eToyLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkxBTkdfTUFUQ0hFUykub25CaW5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT4oMCxqLmJvb2wpKE4ubGFuZ01hdGNoZXMoeWUsRWUpKSkuY29sbGVjdCgpfSxsZT0oKT0+KHllLEVlKT0+KDAsai5ib29sKShOLm1hdGNoZXMoeWUsRWUpKSxuZT0oKT0+KHllLEVlLFhlKT0+KDAsai5ib29sKShOLm1hdGNoZXMoeWUsRWUsWGUpKSx1ZT17YXJpdHk6WzIsM10sb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuUkVHRVgpLm9uQmluYXJ5VHlwZWQoW18uVHlwZUFsaWFzLlNQQVJRTF9TVFJJTkdMWSxfLlR5cGVVUkwuWFNEX1NUUklOR10sbGUpLm9uVGVybmFyeVR5cGVkKFtfLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFksXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLG5lKS5jb2xsZWN0KCl9LGRlPXthcml0eTpbMyw0XSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5SRVBMQUNFKS5vblRlcm5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUsWGUpPT4oMCxqLnN0cmluZykoTi5yZXBsYWNlKHllLEVlLFhlKSkpLnNldChbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9PihbeWUsRWUsWGVdKT0+e2NvbnN0IHFlPU4ucmVwbGFjZSh5ZS50eXBlZFZhbHVlLEVlLnR5cGVkVmFsdWUsWGUudHlwZWRWYWx1ZSk7cmV0dXJuKDAsai5sYW5nU3RyaW5nKShxZSx5ZS5sYW5ndWFnZSl9KS5vblF1YXRlcm5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUsWGUscWUpPT4oMCxqLnN0cmluZykoTi5yZXBsYWNlKHllLEVlLFhlLHFlKSkpLnNldChbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9PihbeWUsRWUsWGUscWVdKT0+e2NvbnN0IFllPU4ucmVwbGFjZSh5ZS50eXBlZFZhbHVlLEVlLnR5cGVkVmFsdWUsWGUudHlwZWRWYWx1ZSxxZS50eXBlZFZhbHVlKTtyZXR1cm4oMCxqLmxhbmdTdHJpbmcpKFllLHllLmxhbmd1YWdlKX0pLmNvbGxlY3QoKX0scGU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuQUJTKS5udW1lcmljQ29udmVydGVyKCgpPT55ZT0+TWF0aC5hYnMoeWUpKS5jb2xsZWN0KCl9LGJlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlJPVU5EKS5udW1lcmljQ29udmVydGVyKCgpPT55ZT0+TWF0aC5yb3VuZCh5ZSkpLmNvbGxlY3QoKX0sd2U9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuQ0VJTCkubnVtZXJpY0NvbnZlcnRlcigoKT0+eWU9Pk1hdGguY2VpbCh5ZSkpLmNvbGxlY3QoKX0sT2U9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuRkxPT1IpLm51bWVyaWNDb252ZXJ0ZXIoKCk9PnllPT5NYXRoLmZsb29yKHllKSkuY29sbGVjdCgpfSxJPXthcml0eTowLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlJBTkQpLnNldChbXSwoKT0+KCk9PigwLGouZG91YmxlKShNYXRoLnJhbmRvbSgpKSkuY29sbGVjdCgpfTtmdW5jdGlvbiB3KHllKXtyZXR1cm4gVC5wYXJzZVhTRERhdGVUaW1lKHllLnN0cigpKX1jb25zdCBFPXthcml0eTowLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLk5PVykuc2V0KFtdLHllPT4oKT0+bmV3IGcuRGF0ZVRpbWVMaXRlcmFsKHllLm5vdyx5ZS5ub3cudG9JU09TdHJpbmcoKSkpLmNvbGxlY3QoKX0sRD17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5ZRUFSKS5vbkRhdGVUaW1lMSgoKT0+eWU9PigwLGouaW50ZWdlcikoTnVtYmVyKHcoeWUpLnllYXIpKSkuY29sbGVjdCgpfSxWPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLk1PTlRIKS5vbkRhdGVUaW1lMSgoKT0+eWU9PigwLGouaW50ZWdlcikoTnVtYmVyKHcoeWUpLm1vbnRoKSkpLmNvbGxlY3QoKX0sWj17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5EQVkpLm9uRGF0ZVRpbWUxKCgpPT55ZT0+KDAsai5pbnRlZ2VyKShOdW1iZXIodyh5ZSkuZGF5KSkpLmNvbGxlY3QoKX0sY2U9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuSE9VUlMpLm9uRGF0ZVRpbWUxKCgpPT55ZT0+KDAsai5pbnRlZ2VyKShOdW1iZXIodyh5ZSkuaG91cnMpKSkuY29sbGVjdCgpfSxTZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5NSU5VVEVTKS5vbkRhdGVUaW1lMSgoKT0+eWU9PigwLGouaW50ZWdlcikoTnVtYmVyKHcoeWUpLm1pbnV0ZXMpKSkuY29sbGVjdCgpfSxrZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TRUNPTkRTKS5vbkRhdGVUaW1lMSgoKT0+eWU9PigwLGouZGVjaW1hbCkoTnVtYmVyKHcoeWUpLnNlY29uZHMpKSkuY29sbGVjdCgpfSxCZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5USU1FWk9ORSkub25EYXRlVGltZTEoKCk9PnllPT57Y29uc3QgRWU9Ti5mb3JtYXREYXlUaW1lRHVyYXRpb24odyh5ZSkudGltZXpvbmUpO2lmKCFFZSl0aHJvdyBuZXcgTy5JbnZhbGlkVGltZXpvbmVDYWxsKHllLnN0clZhbHVlKTtyZXR1cm4gbmV3IGcuTGl0ZXJhbChFZSxfLlR5cGVVUkwuWFNEX0RBWVRJTUVfRFVSQVRJT04sRWUpfSkuY29sbGVjdCgpfSxEZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5UWikub25EYXRlVGltZTEoKCk9PnllPT4oMCxqLnN0cmluZykodyh5ZSkudGltZXpvbmUpKS5jb2xsZWN0KCl9LExlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLk1ENSkub25TdHJpbmcxVHlwZWQoKCk9PnllPT4oMCxqLnN0cmluZykoKDAsdS5oYXNoKSh5ZSkpKS5jb2xsZWN0KCl9LEtlPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNIQTEpLm9uU3RyaW5nMVR5cGVkKCgpPT55ZT0+KDAsai5zdHJpbmcpKCgwLGQuc2hhMSkoKS51cGRhdGUoeWUpLmRpZ2VzdCgiaGV4IikpKS5jb2xsZWN0KCl9LEplPXthcml0eToxLG92ZXJsb2FkczooMCxqLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNIQTI1Nikub25TdHJpbmcxVHlwZWQoKCk9PnllPT4oMCxqLnN0cmluZykoKDAsZC5zaGEyNTYpKCkudXBkYXRlKHllKS5kaWdlc3QoImhleCIpKSkuY29sbGVjdCgpfSx6dD17YXJpdHk6MSxvdmVybG9hZHM6KDAsai5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TSEEzODQpLm9uU3RyaW5nMVR5cGVkKCgpPT55ZT0+KDAsai5zdHJpbmcpKCgwLGQuc2hhMzg0KSgpLnVwZGF0ZSh5ZSkuZGlnZXN0KCJoZXgiKSkpLmNvbGxlY3QoKX0seXQ9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGouZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU0hBNTEyKS5vblN0cmluZzFUeXBlZCgoKT0+eWU9PigwLGouc3RyaW5nKSgoMCxkLnNoYTUxMikoKS51cGRhdGUoeWUpLmRpZ2VzdCgiaGV4IikpKS5jb2xsZWN0KCl9O2UuZGVmaW5pdGlvbnM9eyIhIjpDLHVwbHVzOkwsdW1pbnVzOlMsIioiOlAsIi8iOkYsIisiOmssIi0iOkosIj0iOmFlLCIhPSI6RywiPCI6cmUsIj4iOk0sIjw9IjokLCI+PSI6VSxpc2lyaTpILGlzdXJpOkgsaXNibGFuazplZSxpc2xpdGVyYWw6Z2UsaXNudW1lcmljOm1lLHN0cjpmZSxsYW5nOmhlLGRhdGF0eXBlOl9lLGlyaTp4ZSx1cmk6eGUsc3RyZHQ6TmUsc3RybGFuZzpJZSx1dWlkOlJlLHN0cnV1aWQ6dmUsc3RybGVuOkNlLHN1YnN0cjpNZSx1Y2FzZTpVZSxsY2FzZTpGZSxzdHJzdGFydHM6JGUsc3RyZW5kczpYLGNvbnRhaW5zOm9lLHN0cmJlZm9yZTpRLHN0cmFmdGVyOlksZW5jb2RlX2Zvcl91cmk6aWUsbGFuZ21hdGNoZXM6c2UscmVnZXg6dWUscmVwbGFjZTpkZSxhYnM6cGUscm91bmQ6YmUsY2VpbDp3ZSxmbG9vcjpPZSxyYW5kOkksbm93OkUseWVhcjpELG1vbnRoOlYsZGF5OlosaG91cnM6Y2UsbWludXRlczpTZSxzZWNvbmRzOmtlLHRpbWV6b25lOkJlLHR6OkRlLG1kNTpMZSxzaGExOktlLHNoYTI1NjpKZSxzaGEzODQ6enQsc2hhNTEyOnl0fX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvU3BlY2lhbEZ1bmN0aW9ucy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnNwZWNpYWxEZWZpbml0aW9ucz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9wYWNrYWdlcy91dWlkL2Rpc3QvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9pbmRleC5qcyIpLGc9e2FyaXR5OjEsYXN5bmMgYXBwbHlBc3luYyh7YXJnczpxLG1hcHBpbmc6R30pe3JldHVybiB2KHthcmdzOnEsbWFwcGluZzpHfSl9LGFwcGx5U3luYyh7YXJnczpxLG1hcHBpbmc6R30pe3JldHVybiB2KHthcmdzOnEsbWFwcGluZzpHfSl9fTtmdW5jdGlvbiB2KHthcmdzOnEsbWFwcGluZzpHfSl7Y29uc3QgcmU9cVswXTtpZihyZS5leHByZXNzaW9uVHlwZSE9PWQuRXhwcmVzc2lvblR5cGUuVmFyaWFibGUpdGhyb3cgbmV3IGwuSW52YWxpZEFyZ3VtZW50VHlwZXMocSxoLlNwZWNpYWxPcGVyYXRvci5CT1VORCk7Y29uc3QgTT1HLmhhcygoMCx1LmV4cHJlc3Npb25Ub1ZhcikocmUpKTtyZXR1cm4oMCx1LmJvb2wpKE0pfWNvbnN0IGI9e2FyaXR5OjMsYXN5bmMgYXBwbHlBc3luYyh7YXJnczpxLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0ICQ9KGF3YWl0IHJlKHFbMF0sRykpLmNvZXJjZUVCVigpO3JldHVybiByZSgkP3FbMV06cVsyXSxHKX0sYXBwbHlTeW5jKHthcmdzOnEsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3QgJD1yZShxWzBdLEcpLmNvZXJjZUVCVigpO3JldHVybiByZSgkP3FbMV06cVsyXSxHKX19LF89e2FyaXR5Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxhc3luYyBhcHBseUFzeW5jKHthcmdzOnEsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3QgTT1bXTtmb3IoY29uc3QgJCBvZiBxKXRyeXtyZXR1cm4gYXdhaXQgcmUoJCxHKX1jYXRjaChVKXtNLnB1c2goVSl9dGhyb3cgbmV3IGwuQ29hbGVzY2VFcnJvcihNKX0sYXBwbHlTeW5jKHthcmdzOnEsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3QgTT1bXTtmb3IoY29uc3QgJCBvZiBxKXRyeXtyZXR1cm4gcmUoJCxHKX1jYXRjaChVKXtNLnB1c2goVSl9dGhyb3cgbmV3IGwuQ29hbGVzY2VFcnJvcihNKX19LE89e2FyaXR5OjIsYXN5bmMgYXBwbHlBc3luYyh7YXJnczpxLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0W00sJF09cTt0cnl7aWYoKGF3YWl0IHJlKE0sRykpLmNvZXJjZUVCVigpKXJldHVybigwLHUuYm9vbCkoITApO2NvbnN0IGdlPShhd2FpdCByZSgkLEcpKS5jb2VyY2VFQlYoKTtyZXR1cm4oMCx1LmJvb2wpKGdlKX1jYXRjaChVKXtpZighKGF3YWl0IHJlKCQsRykpLmNvZXJjZUVCVigpKXRocm93IFU7cmV0dXJuKDAsdS5ib29sKSghMCl9fSxhcHBseVN5bmMoe2FyZ3M6cSxtYXBwaW5nOkcsZXZhbHVhdGU6cmV9KXtjb25zdFtNLCRdPXE7dHJ5e2lmKHJlKE0sRykuY29lcmNlRUJWKCkpcmV0dXJuKDAsdS5ib29sKSghMCk7Y29uc3QgZ2U9cmUoJCxHKS5jb2VyY2VFQlYoKTtyZXR1cm4oMCx1LmJvb2wpKGdlKX1jYXRjaChVKXtpZighcmUoJCxHKS5jb2VyY2VFQlYoKSl0aHJvdyBVO3JldHVybigwLHUuYm9vbCkoITApfX19LFQ9e2FyaXR5OjIsYXN5bmMgYXBwbHlBc3luYyh7YXJnczpxLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0W00sJF09cTt0cnl7aWYoIShhd2FpdCByZShNLEcpKS5jb2VyY2VFQlYoKSlyZXR1cm4oMCx1LmJvb2wpKCExKTtjb25zdCBnZT0oYXdhaXQgcmUoJCxHKSkuY29lcmNlRUJWKCk7cmV0dXJuKDAsdS5ib29sKShnZSl9Y2F0Y2goVSl7aWYoKGF3YWl0IHJlKCQsRykpLmNvZXJjZUVCVigpKXRocm93IFU7cmV0dXJuKDAsdS5ib29sKSghMSl9fSxhcHBseVN5bmMoe2FyZ3M6cSxtYXBwaW5nOkcsZXZhbHVhdGU6cmV9KXtjb25zdFtNLCRdPXE7dHJ5e2lmKCFyZShNLEcpLmNvZXJjZUVCVigpKXJldHVybigwLHUuYm9vbCkoITEpO2NvbnN0IGdlPXJlKCQsRykuY29lcmNlRUJWKCk7cmV0dXJuKDAsdS5ib29sKShnZSl9Y2F0Y2goVSl7aWYocmUoJCxHKS5jb2VyY2VFQlYoKSl0aHJvdyBVO3JldHVybigwLHUuYm9vbCkoITEpfX19LGo9e2FyaXR5OjIsYXN5bmMgYXBwbHlBc3luYyh7YXJnczpxLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0W00sJF09cS5tYXAoZWU9PnJlKGVlLEcpKSxbVSxIXT1hd2FpdCBQcm9taXNlLmFsbChbTSwkXSk7cmV0dXJuKDAsdS5ib29sKShVLnRvUkRGKCkuZXF1YWxzKEgudG9SREYoKSkpfSxhcHBseVN5bmMoe2FyZ3M6cSxtYXBwaW5nOkcsZXZhbHVhdGU6cmV9KXtjb25zdFtNLCRdPXEubWFwKFU9PnJlKFUsRykpO3JldHVybigwLHUuYm9vbCkoTS50b1JERigpLmVxdWFscygkLnRvUkRGKCkpKX19LE49e2FyaXR5Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjaGVja0FyaXR5KHEpe3JldHVybiBxLmxlbmd0aD4wfSxhc3luYyBhcHBseUFzeW5jKHEpe2NvbnN0e2FyZ3M6RyxtYXBwaW5nOnJlLGV2YWx1YXRlOk19PXEsWyQsLi4uVV09RyxIPWF3YWl0IE0oJCxyZSk7cmV0dXJuIEIoSCxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scSkse2FyZ3M6VX0pLFtdKX0sYXBwbHlTeW5jKHEpe2NvbnN0e2FyZ3M6RyxtYXBwaW5nOnJlLGV2YWx1YXRlOk19PXEsWyQsLi4uVV09RyxIPU0oJCxyZSk7cmV0dXJuIEMoSCxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scSkse2FyZ3M6VX0pLFtdKX19O2FzeW5jIGZ1bmN0aW9uIEIocSxHLHJlKXtjb25zdHthcmdzOk0sbWFwcGluZzokLGV2YWx1YXRlOlV9PUc7aWYoTS5sZW5ndGg9PT0wKXJldHVybiByZS5ldmVyeShlZT0+IWVlKT8oMCx1LmJvb2wpKCExKTpQcm9taXNlLnJlamVjdChuZXcgbC5JbkVycm9yKHJlKSk7dHJ5e2NvbnN0IEg9TS5zaGlmdCgpLGVlPWF3YWl0IFUoSCwkKTtyZXR1cm4gcC5yZWd1bGFyRnVuY3Rpb25zW2guUmVndWxhck9wZXJhdG9yLkVRVUFMXS5hcHBseShbcSxlZV0sRykudHlwZWRWYWx1ZT8oMCx1LmJvb2wpKCEwKTpCKHEsRyxbLi4ucmUsITFdKX1jYXRjaChIKXtyZXR1cm4gQihxLEcsWy4uLnJlLEhdKX19ZnVuY3Rpb24gQyhxLEcscmUpe2NvbnN0e2FyZ3M6TSxtYXBwaW5nOiQsZXZhbHVhdGU6VX09RztpZihNLmxlbmd0aD09PTApe2lmKHJlLmV2ZXJ5KGVlPT4hZWUpKXJldHVybigwLHUuYm9vbCkoITEpO3Rocm93IG5ldyBsLkluRXJyb3IocmUpfXRyeXtjb25zdCBIPU0uc2hpZnQoKSxlZT1VKEgsJCk7cmV0dXJuIHAucmVndWxhckZ1bmN0aW9uc1toLlJlZ3VsYXJPcGVyYXRvci5FUVVBTF0uYXBwbHkoW3EsZWVdLEcpLnR5cGVkVmFsdWU/KDAsdS5ib29sKSghMCk6QyhxLEcsWy4uLnJlLCExXSl9Y2F0Y2goSCl7cmV0dXJuIEMocSxHLFsuLi5yZSxIXSl9fWNvbnN0IEw9e2FyaXR5Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjaGVja0FyaXR5KHEpe3JldHVybiBxLmxlbmd0aD4wfSxhc3luYyBhcHBseUFzeW5jKHEpe2NvbnN0IHJlPWF3YWl0IHAuc3BlY2lhbEZ1bmN0aW9uc1toLlNwZWNpYWxPcGVyYXRvci5JTl0uYXBwbHlBc3luYyhxKTtyZXR1cm4oMCx1LmJvb2wpKCFyZS50eXBlZFZhbHVlKX0sYXBwbHlTeW5jKHEpe2NvbnN0IHJlPXAuc3BlY2lhbEZ1bmN0aW9uc1toLlNwZWNpYWxPcGVyYXRvci5JTl0uYXBwbHlTeW5jKHEpO3JldHVybigwLHUuYm9vbCkoIXJlLnR5cGVkVmFsdWUpfX0sUz0oMCx1LmRlY2xhcmUpKGguU3BlY2lhbE9wZXJhdG9yLkNPTkNBVCkub25TdHJpbmdseTEoKCk9PnE9PnEpLmNvbGxlY3QoKSxQPXthcml0eTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksYXN5bmMgYXBwbHlBc3luYyhxKXtjb25zdHthcmdzOkcsbWFwcGluZzpyZSxldmFsdWF0ZTpNLGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6JCxzdXBlclR5cGVQcm92aWRlcjpVfT1xLEg9Ry5tYXAoYXN5bmMgaGU9Pk0oaGUscmUpKS5tYXAoYXN5bmMgaGU9Pntjb25zdCBfZT1TLnNlYXJjaChbYXdhaXQgaGVdLFUsJCk7aWYoIV9lKXRocm93IG5ldyBsLkludmFsaWRBcmd1bWVudFR5cGVzKEcsaC5TcGVjaWFsT3BlcmF0b3IuQ09OQ0FUKTtyZXR1cm4gX2UocSkoW2F3YWl0IGhlXSl9KSxlZT1hd2FpdCBQcm9taXNlLmFsbChIKSxtZT1lZS5tYXAoaGU9PmhlLnR5cGVkVmFsdWUpLmpvaW4oIiIpLGZlPUYoZWUpP2VlWzBdLmxhbmd1YWdlOnZvaWQgMDtyZXR1cm4gZmU/KDAsdS5sYW5nU3RyaW5nKShtZSxmZSk6KDAsdS5zdHJpbmcpKG1lKX0sYXBwbHlTeW5jKHEpe2NvbnN0e2FyZ3M6RyxtYXBwaW5nOnJlLGV2YWx1YXRlOk0sc3VwZXJUeXBlUHJvdmlkZXI6JCxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOlV9PXEsSD1HLm1hcChmZT0+TShmZSxyZSkpLm1hcChmZT0+e2NvbnN0IGhlPVMuc2VhcmNoKFtmZV0sJCxVKTtpZighaGUpdGhyb3cgbmV3IGwuSW52YWxpZEFyZ3VtZW50VHlwZXMoRyxoLlNwZWNpYWxPcGVyYXRvci5DT05DQVQpO3JldHVybiBoZShxKShbZmVdKX0pLGdlPUgubWFwKGZlPT5mZS50eXBlZFZhbHVlKS5qb2luKCIiKSxtZT1GKEgpP0hbMF0ubGFuZ3VhZ2U6dm9pZCAwO3JldHVybiBtZT8oMCx1LmxhbmdTdHJpbmcpKGdlLG1lKTooMCx1LnN0cmluZykoZ2UpfX07ZnVuY3Rpb24gRihxKXtyZXR1cm4gcS5sZW5ndGg+MCYmcS5ldmVyeShHPT5HLmxhbmd1YWdlPT09cVswXS5sYW5ndWFnZSl9Y29uc3Qgaz0oMCx1LmRlY2xhcmUpKGguU3BlY2lhbE9wZXJhdG9yLkJOT0RFKS5vblN0cmluZzEoKCk9PnE9PnEpLmNvbGxlY3QoKSxKPXthcml0eTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksY2hlY2tBcml0eShxKXtyZXR1cm4gcS5sZW5ndGg9PT0wfHxxLmxlbmd0aD09PTF9LGFzeW5jIGFwcGx5QXN5bmMocSl7Y29uc3R7YXJnczpHLG1hcHBpbmc6cmUsZXZhbHVhdGU6TSxzdXBlclR5cGVQcm92aWRlcjokLGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6VX09cSxIPUcubGVuZ3RoPT09MT9hd2FpdCBNKEdbMF0scmUpOnZvaWQgMDtsZXQgZWU7aWYoSCl7Y29uc3QgZ2U9ay5zZWFyY2goW0hdLCQsVSk7aWYoIWdlKXRocm93IG5ldyBsLkludmFsaWRBcmd1bWVudFR5cGVzKEcsaC5TcGVjaWFsT3BlcmF0b3IuQk5PREUpO2VlPWdlKHEpKFtIXSkuc3RyKCl9aWYocS5ibm9kZSl7Y29uc3QgZ2U9YXdhaXQgcS5ibm9kZShlZSk7cmV0dXJuIG5ldyBkLkJsYW5rTm9kZShnZSl9cmV0dXJuIGFlKGVlKX0sYXBwbHlTeW5jKHEpe2NvbnN0e2FyZ3M6RyxtYXBwaW5nOnJlLGV2YWx1YXRlOk0sc3VwZXJUeXBlUHJvdmlkZXI6JCxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOlV9PXEsSD1HLmxlbmd0aD09PTE/TShHWzBdLHJlKTp2b2lkIDA7bGV0IGVlO2lmKEgpe2NvbnN0IGdlPWsuc2VhcmNoKFtIXSwkLFUpO2lmKCFnZSl0aHJvdyBuZXcgbC5JbnZhbGlkQXJndW1lbnRUeXBlcyhHLGguU3BlY2lhbE9wZXJhdG9yLkJOT0RFKTtlZT1nZShxKShbSF0pLnN0cigpfWlmKHEuYm5vZGUpe2NvbnN0IGdlPXEuYm5vZGUoZWUpO3JldHVybiBuZXcgZC5CbGFua05vZGUoZ2UpfXJldHVybiBhZShlZSl9fTtmdW5jdGlvbiBhZShxKXtyZXR1cm4gbmV3IGQuQmxhbmtOb2RlKHF8fG8udjQoKSl9ZS5zcGVjaWFsRGVmaW5pdGlvbnM9e2JvdW5kOmcsaWY6Yixjb2FsZXNjZTpfLCImJiI6VCwifHwiOk8sc2FtZXRlcm06aixpbjpOLG5vdGluOkwsY29uY2F0OlAsYm5vZGU6Sn19LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL1hQYXRoRnVuY3Rpb25zLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmZvcm1hdERheVRpbWVEdXJhdGlvbj1lLmxhbmdNYXRjaGVzPWUucmVwbGFjZT1lLm1hdGNoZXM9dm9pZCAwO2Z1bmN0aW9uIG4ocCxnLHYpe3JldHVybiBuZXcgUmVnRXhwKGcsdikudGVzdChwKX1lLm1hdGNoZXM9bjtmdW5jdGlvbiBvKHAsZyx2LGIpe2xldCBfPW5ldyBSZWdFeHAoZyxiKTtpZighXy5nbG9iYWwpe2NvbnN0IE89Ynx8IiI7Xz1uZXcgUmVnRXhwKGcsYCR7T31nYCl9cmV0dXJuIHAucmVwbGFjZShfLHYpfWUucmVwbGFjZT1vO2Z1bmN0aW9uIGQocCxnKXtjb25zdCB2PXAuc3BsaXQoIi0iKSxiPWcuc3BsaXQoIi0iKTtpZighbChiWzBdLHZbMF0pJiYhaCh2WzBdKSlyZXR1cm4hMTtsZXQgXz0xLE89MTtmb3IoO088Yi5sZW5ndGg7KXtpZihoKGJbT10pKXtPKys7Y29udGludWV9aWYoXz09PXYubGVuZ3RoKXJldHVybiExO2lmKGwoYltPXSx2W19dKSl7XysrLE8rKztjb250aW51ZX1pZih2W19dLmxlbmd0aD09PTEpcmV0dXJuITE7XysrfXJldHVybiEwfWUubGFuZ01hdGNoZXM9ZDtmdW5jdGlvbiBoKHApe3JldHVybiBwPT09IioifWZ1bmN0aW9uIGwocCxnKXtyZXR1cm4gbmV3IFJlZ0V4cChgLyR7cH0vYCwiaXUiKS50ZXN0KGAvJHtnfS9gKX1mdW5jdGlvbiB1KHApe2lmKCFwKXJldHVybjtsZXQgZz0iIix2PTAsYj0wO2lmKHAhPT0iWiImJihnPXAuc3RhcnRzV2l0aCgiLSIpPyItIjoiIix2PU51bWJlci5wYXJzZUludChwLnNsaWNlKDEsMyksMTApLGI9TnVtYmVyLnBhcnNlSW50KHAuc2xpY2UoNCw2KSwxMCkpLHY9PT0wJiZiPT09MClyZXR1cm4iUFQwUyI7bGV0IF89YCR7Z31QVGA7cmV0dXJuIHY+MCYmKF8rPWAke3Z9SGApLGI+MCYmKF8rPWAke2J9TWApLF99ZS5mb3JtYXREYXlUaW1lRHVyYXRpb249dX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odixiLF8sTyl7Tz09PXZvaWQgMCYmKE89Xyk7dmFyIFQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLF8pOyghVHx8KCJnZXQiaW4gVD8hYi5fX2VzTW9kdWxlOlQud3JpdGFibGV8fFQuY29uZmlndXJhYmxlKSkmJihUPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiW19dfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2LE8sVCl9OmZ1bmN0aW9uKHYsYixfLE8pe089PT12b2lkIDAmJihPPV8pLHZbT109YltfXX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKHYsYil7Zm9yKHZhciBfIGluIHYpXyE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLF8pJiZvKGIsdixfKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuT3ZlcmxvYWRUcmVlPWUubmFtZWRGdW5jdGlvbnM9ZS5zcGVjaWFsRnVuY3Rpb25zPWUucmVndWxhckZ1bmN0aW9ucz12b2lkIDA7Y29uc3QgaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0NvcmUuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvTmFtZWRGdW5jdGlvbnMuanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvUmVndWxhckZ1bmN0aW9ucy5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9TcGVjaWFsRnVuY3Rpb25zLmpzIik7ZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0NvcmUuanMiKSxlKSxlLnJlZ3VsYXJGdW5jdGlvbnM9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHUuZGVmaW5pdGlvbnMpLm1hcCgoW3YsYl0pPT5bdixuZXcgaC5SZWd1bGFyRnVuY3Rpb24odixiKV0pKSxlLnNwZWNpYWxGdW5jdGlvbnM9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHAuc3BlY2lhbERlZmluaXRpb25zKS5tYXAoKFt2LGJdKT0+W3YsbmV3IGguU3BlY2lhbEZ1bmN0aW9uKHYsYildKSksZS5uYW1lZEZ1bmN0aW9ucz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMobC5uYW1lZERlZmluaXRpb25zKS5tYXAoKFt2LGJdKT0+W3YsbmV3IGguTmFtZWRGdW5jdGlvbih2LGIpXSkpO3ZhciBnPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvT3ZlcmxvYWRUcmVlLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk92ZXJsb2FkVHJlZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGcuT3ZlcmxvYWRUcmVlfX0pfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9BbGdlYnJhVHJhbnNmb3JtZXIuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BbGdlYnJhVHJhbnNmb3JtZXI9dm9pZCAwO2NvbnN0IG89bigic3BhcnFsYWxnZWJyYWpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxnPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvVGVybVRyYW5zZm9ybWVyLmpzIik7Y2xhc3MgdiBleHRlbmRzIGcuVGVybVRyYW5zZm9ybWVye2NvbnN0cnVjdG9yKF8pe3N1cGVyKF8uc3VwZXJUeXBlUHJvdmlkZXIpLHRoaXMuYWxnZWJyYUNvbmZpZz1fLHRoaXMuY3JlYXRvckNvbmZpZz17dHlwZTpfLnR5cGUsY3JlYXRvcjpfLmNyZWF0b3J9fXRyYW5zZm9ybUFsZ2VicmEoXyl7Y29uc3QgTz1vLkFsZ2VicmEuZXhwcmVzc2lvblR5cGVzO3N3aXRjaChfLmV4cHJlc3Npb25UeXBlKXtjYXNlIE8uVEVSTTpyZXR1cm4gdGhpcy50cmFuc2Zvcm1UZXJtKF8pO2Nhc2UgTy5PUEVSQVRPUjpyZXR1cm4gdGhpcy50cmFuc2Zvcm1PcGVyYXRvcihfKTtjYXNlIE8uTkFNRUQ6cmV0dXJuIHRoaXMudHJhbnNmb3JtTmFtZWQoXyk7Y2FzZSBPLkVYSVNURU5DRTpyZXR1cm4gdi50cmFuc2Zvcm1FeGlzdGVuY2UoXyk7Y2FzZSBPLkFHR1JFR0FURTpyZXR1cm4gdi50cmFuc2Zvcm1BZ2dyZWdhdGUoXyk7Y2FzZSBPLldJTERDQVJEOnJldHVybiB2LnRyYW5zZm9ybVdpbGRjYXJkKF8pfX1zdGF0aWMgdHJhbnNmb3JtV2lsZGNhcmQoXyl7cmV0dXJuIG5ldyBkLk5hbWVkTm9kZShfLndpbGRjYXJkLnZhbHVlKX10cmFuc2Zvcm1PcGVyYXRvcihfKXtjb25zdCBPPV8ub3BlcmF0b3IudG9Mb3dlckNhc2UoKTtpZihsLlNwZWNpYWxPcGVyYXRvcnMuaGFzKE8pKXtjb25zdCBCPU8sQz1fLmFyZ3MubWFwKFM9PnRoaXMudHJhbnNmb3JtQWxnZWJyYShTKSksTD1oLnNwZWNpYWxGdW5jdGlvbnNbQl07aWYoIUwuY2hlY2tBcml0eShDKSl0aHJvdyBuZXcgdS5JbnZhbGlkQXJpdHkoQyxCKTtyZXR1cm4gbmV3IGQuU3BlY2lhbE9wZXJhdG9yKEMsTC5hcHBseUFzeW5jLEwuYXBwbHlTeW5jKX1pZighbC5PcGVyYXRvcnMuaGFzKE8pKXRocm93IG5ldyB1LlVua25vd25PcGVyYXRvcihfLm9wZXJhdG9yKTtjb25zdCBUPU8saj1fLmFyZ3MubWFwKEI9PnRoaXMudHJhbnNmb3JtQWxnZWJyYShCKSksTj1oLnJlZ3VsYXJGdW5jdGlvbnNbVF07aWYoIXYuaGFzQ29ycmVjdEFyaXR5KGosTi5hcml0eSkpdGhyb3cgbmV3IHUuSW52YWxpZEFyaXR5KGosVCk7cmV0dXJuIG5ldyBkLk9wZXJhdG9yKGosQj0+Ti5hcHBseShCLHRoaXMuYWxnZWJyYUNvbmZpZykpfXdyYXBTeW5jRnVuY3Rpb24oXyxPKXtyZXR1cm4gVD0+e3RyeXtjb25zdCBqPV8oVC5tYXAoTj0+Ti50b1JERigpKSk7cmV0dXJuIHRoaXMudHJhbnNmb3JtUkRGVGVybVVuc2FmZShqKX1jYXRjaChqKXt0aHJvdyBuZXcgcC5FeHRlbnNpb25GdW5jdGlvbkVycm9yKE8sail9fX13cmFwQXN5bmNGdW5jdGlvbihfLE8pe3JldHVybiBhc3luYyBUPT57dHJ5e2NvbnN0IGo9YXdhaXQgXyhULm1hcChOPT5OLnRvUkRGKCkpKTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1SREZUZXJtVW5zYWZlKGopfWNhdGNoKGope3Rocm93IG5ldyBwLkV4dGVuc2lvbkZ1bmN0aW9uRXJyb3IoTyxqKX19fXRyYW5zZm9ybU5hbWVkKF8pe2NvbnN0IE89Xy5uYW1lLnZhbHVlLFQ9Xy5hcmdzLm1hcChqPT50aGlzLnRyYW5zZm9ybUFsZ2VicmEoaikpO2lmKGwuTmFtZWRPcGVyYXRvcnMuaGFzKE8pKXtjb25zdCBqPV8ubmFtZS52YWx1ZSxOPWgubmFtZWRGdW5jdGlvbnNbal07cmV0dXJuIG5ldyBkLk5hbWVkKF8ubmFtZSxULEI9Pk4uYXBwbHkoQix0aGlzLmFsZ2VicmFDb25maWcpKX1pZih0aGlzLmNyZWF0b3JDb25maWcudHlwZT09PSJzeW5jIil7Y29uc3Qgaj10aGlzLmNyZWF0b3JDb25maWcuY3JlYXRvcihfLm5hbWUpO2lmKGope2NvbnN0IE49dGhpcy53cmFwU3luY0Z1bmN0aW9uKGosXy5uYW1lLnZhbHVlKTtyZXR1cm4gbmV3IGQuU3luY0V4dGVuc2lvbihfLm5hbWUsVCxOKX19ZWxzZXtjb25zdCBqPXRoaXMuY3JlYXRvckNvbmZpZy5jcmVhdG9yKF8ubmFtZSk7aWYoail7Y29uc3QgTj10aGlzLndyYXBBc3luY0Z1bmN0aW9uKGosXy5uYW1lLnZhbHVlKTtyZXR1cm4gbmV3IGQuQXN5bmNFeHRlbnNpb24oXy5uYW1lLFQsTil9fXRocm93IG5ldyB1LlVua25vd25OYW1lZE9wZXJhdG9yKF8ubmFtZS52YWx1ZSl9c3RhdGljIGhhc0NvcnJlY3RBcml0eShfLE8pe3JldHVybiBBcnJheS5pc0FycmF5KE8pP08uaW5jbHVkZXMoXy5sZW5ndGgpOl8ubGVuZ3RoPT09T31zdGF0aWMgdHJhbnNmb3JtQWdncmVnYXRlKF8pe2NvbnN0IE89Xy5hZ2dyZWdhdG9yO3JldHVybiBuZXcgZC5BZ2dyZWdhdGUoTyxfKX1zdGF0aWMgdHJhbnNmb3JtRXhpc3RlbmNlKF8pe3JldHVybiBuZXcgZC5FeGlzdGVuY2UoXyl9fWUuQWxnZWJyYVRyYW5zZm9ybWVyPXZ9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdHJhbnNmb3JtZXJzL1Rlcm1UcmFuc2Zvcm1lci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlRlcm1UcmFuc2Zvcm1lcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9QYXJzaW5nLmpzIiksZz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9UeXBlSGFuZGxpbmcuanMiKTtjbGFzcyB2e2NvbnN0cnVjdG9yKF8pe3RoaXMuc3VwZXJUeXBlUHJvdmlkZXI9X310cmFuc2Zvcm1SREZUZXJtVW5zYWZlKF8pe3JldHVybiB0aGlzLnRyYW5zZm9ybVRlcm0oe3Rlcm06Xyx0eXBlOmQuQWxnZWJyYS50eXBlcy5FWFBSRVNTSU9OLGV4cHJlc3Npb25UeXBlOmQuQWxnZWJyYS5leHByZXNzaW9uVHlwZXMuVEVSTX0pfXRyYW5zZm9ybVRlcm0oXyl7aWYoIV8udGVybSl0aHJvdyBuZXcgdS5JbnZhbGlkRXhwcmVzc2lvbihfKTtzd2l0Y2goXy50ZXJtLnRlcm1UeXBlKXtjYXNlIlZhcmlhYmxlIjpyZXR1cm4gbmV3IGguVmFyaWFibGUoby50ZXJtVG9TdHJpbmcoXy50ZXJtKSk7Y2FzZSJMaXRlcmFsIjpyZXR1cm4gdGhpcy50cmFuc2Zvcm1MaXRlcmFsKF8udGVybSk7Y2FzZSJOYW1lZE5vZGUiOnJldHVybiBuZXcgaC5OYW1lZE5vZGUoXy50ZXJtLnZhbHVlKTtjYXNlIkJsYW5rTm9kZSI6cmV0dXJuIG5ldyBoLkJsYW5rTm9kZShfLnRlcm0udmFsdWUpO2RlZmF1bHQ6dGhyb3cgbmV3IHUuSW52YWxpZFRlcm1UeXBlKF8pfX10cmFuc2Zvcm1MaXRlcmFsKF8pe2lmKCFfLmRhdGF0eXBlfHxbbnVsbCx2b2lkIDAsIiJdLmluY2x1ZGVzKF8uZGF0YXR5cGUudmFsdWUpKXJldHVybiBfLmxhbmd1YWdlP25ldyBoLkxhbmdTdHJpbmdMaXRlcmFsKF8udmFsdWUsXy5sYW5ndWFnZSk6bmV3IGguU3RyaW5nTGl0ZXJhbChfLnZhbHVlKTtjb25zdCBPPV8uZGF0YXR5cGUudmFsdWUsVD0oMCxnLmdldFN1cGVyVHlwZURpY3QpKE8sdGhpcy5zdXBlclR5cGVQcm92aWRlcik7aWYobC5UeXBlVVJMLlhTRF9TVFJJTkcgaW4gVClyZXR1cm4gbmV3IGguU3RyaW5nTGl0ZXJhbChfLnZhbHVlLE8pO2lmKGwuVHlwZVVSTC5SREZfTEFOR19TVFJJTkcgaW4gVClyZXR1cm4gbmV3IGguTGFuZ1N0cmluZ0xpdGVyYWwoXy52YWx1ZSxfLmxhbmd1YWdlKTtpZihsLlR5cGVVUkwuWFNEX0RBVEVfVElNRSBpbiBUKXtjb25zdCBCPW5ldyBEYXRlKF8udmFsdWUpO3JldHVybiBOdW1iZXIuaXNOYU4oQi5nZXRUaW1lKCkpP25ldyBoLk5vbkxleGljYWxMaXRlcmFsKHZvaWQgMCxPLHRoaXMuc3VwZXJUeXBlUHJvdmlkZXIsXy52YWx1ZSk6bmV3IGguRGF0ZVRpbWVMaXRlcmFsKG5ldyBEYXRlKF8udmFsdWUpLF8udmFsdWUsTyl9aWYobC5UeXBlVVJMLlhTRF9CT09MRUFOIGluIFQpcmV0dXJuIF8udmFsdWUhPT0idHJ1ZSImJl8udmFsdWUhPT0iZmFsc2UiJiZfLnZhbHVlIT09IjEiJiZfLnZhbHVlIT09IjAiP25ldyBoLk5vbkxleGljYWxMaXRlcmFsKHZvaWQgMCxPLHRoaXMuc3VwZXJUeXBlUHJvdmlkZXIsXy52YWx1ZSk6bmV3IGguQm9vbGVhbkxpdGVyYWwoXy52YWx1ZT09PSJ0cnVlInx8Xy52YWx1ZT09PSIxIixfLnZhbHVlKTtpZihsLlR5cGVVUkwuWFNEX0RFQ0lNQUwgaW4gVCl7Y29uc3QgQj1wLnBhcnNlWFNERGVjaW1hbChfLnZhbHVlKTtyZXR1cm4gQj09PXZvaWQgMD9uZXcgaC5Ob25MZXhpY2FsTGl0ZXJhbCh2b2lkIDAsTyx0aGlzLnN1cGVyVHlwZVByb3ZpZGVyLF8udmFsdWUpOmwuVHlwZVVSTC5YU0RfSU5URUdFUiBpbiBUP25ldyBoLkludGVnZXJMaXRlcmFsKEIsTyxfLnZhbHVlKTpuZXcgaC5EZWNpbWFsTGl0ZXJhbChCLE8sXy52YWx1ZSl9Y29uc3Qgaj1sLlR5cGVVUkwuWFNEX0ZMT0FUIGluIFQsTj1sLlR5cGVVUkwuWFNEX0RPVUJMRSBpbiBUO2lmKGp8fE4pe2NvbnN0IEI9cC5wYXJzZVhTREZsb2F0KF8udmFsdWUpO3JldHVybiBCPT09dm9pZCAwP25ldyBoLk5vbkxleGljYWxMaXRlcmFsKHZvaWQgMCxPLHRoaXMuc3VwZXJUeXBlUHJvdmlkZXIsXy52YWx1ZSk6aj9uZXcgaC5GbG9hdExpdGVyYWwoQixPLF8udmFsdWUpOm5ldyBoLkRvdWJsZUxpdGVyYWwoQixPLF8udmFsdWUpfXJldHVybiBuZXcgaC5MaXRlcmFsKF8udmFsdWUsTyxfLnZhbHVlKX19ZS5UZXJtVHJhbnNmb3JtZXI9dn0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5OYW1lZE9wZXJhdG9ycz1lLlNldEZ1bmN0aW9ucz1lLlNldEZ1bmN0aW9uPWUuT3BlcmF0b3JzPWUuU3BlY2lhbE9wZXJhdG9ycz1lLlJlZ3VsYXJPcGVyYXRvcnM9ZS5TcGVjaWFsT3BlcmF0b3I9ZS5SZWd1bGFyT3BlcmF0b3I9ZS5UeXBlVVJMPWUuVHlwZUFsaWFzPXZvaWQgMCxmdW5jdGlvbihsKXtsLlNQQVJRTF9OVU1FUklDPSJTUEFSUUxfTlVNRVJJQyIsbC5TUEFSUUxfU1RSSU5HTFk9IlNQQVJRTF9TVFJJTkdMWSIsbC5TUEFSUUxfTk9OX0xFWElDQUw9IlNQQVJRTF9OT05fTEVYSUNBTCJ9KGUuVHlwZUFsaWFzfHwoZS5UeXBlQWxpYXM9e30pKTt2YXIgbjsoZnVuY3Rpb24obCl7bC5YU0RfQU5ZX1VSST0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjYW55VVJJIixsLlhTRF9TVFJJTkc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZyIsbC5SREZfTEFOR19TVFJJTkc9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNsYW5nU3RyaW5nIixsLlhTRF9CT09MRUFOPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNib29sZWFuIixsLlhTRF9EQVRFX1RJTUU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2RhdGVUaW1lIixsLlhTRF9EQVRFX1RJTUVfU1RBTVA9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2RhdGVUaW1lU3RhbXAiLGwuWFNEX0RBVEU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2RhdGUiLGwuWFNEX0RFQ0lNQUw9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2RlY2ltYWwiLGwuWFNEX0ZMT0FUPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNmbG9hdCIsbC5YU0RfRE9VQkxFPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNkb3VibGUiLGwuWFNEX0lOVEVHRVI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2ludGVnZXIiLGwuWFNEX05PTl9QT1NJVElWRV9JTlRFR0VSPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNub25Qb3NpdGl2ZUludGVnZXIiLGwuWFNEX05FR0FUSVZFX0lOVEVHRVI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI25lZ2F0aXZlSW50ZWdlciIsbC5YU0RfTE9ORz0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjbG9uZyIsbC5YU0RfSU5UPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNpbnQiLGwuWFNEX1NIT1JUPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzaG9ydCIsbC5YU0RfQllURT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjYnl0ZSIsbC5YU0RfTk9OX05FR0FUSVZFX0lOVEVHRVI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI25vbk5lZ2F0aXZlSW50ZWdlciIsbC5YU0RfUE9TSVRJVkVfSU5URUdFUj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjcG9zaXRpdmVJbnRlZ2VyIixsLlhTRF9VTlNJR05FRF9MT05HPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSN1bnNpZ25lZExvbmciLGwuWFNEX1VOU0lHTkVEX0lOVD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjdW5zaWduZWRJbnQiLGwuWFNEX1VOU0lHTkVEX1NIT1JUPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSN1bnNpZ25lZFNob3J0IixsLlhTRF9VTlNJR05FRF9CWVRFPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSN1bnNpZ25lZEJ5dGUiLGwuWFNEX05PUk1BTElaRURfU1RSSU5HPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNub3JtYWxpemVkU3RyaW5nIixsLlhTRF9UT0tFTj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjdG9rZW4iLGwuWFNEX0xBTkdVQUdFPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNsYW5ndWFnZSIsbC5YU0RfTk1fVE9LRU49Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI05NVE9LRU4iLGwuWFNEX05BTUU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI25hbWUiLGwuWFNEX05DX05BTUU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI05DTmFtZSIsbC5YU0RfRU5USVRZPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNFTlRJVFkiLGwuWFNEX0lEPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNJRCIsbC5YU0RfSURfUkVGPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNJRFJFRiIsbC5YU0RfRFVSQVRJT049Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2R1cmF0aW9uIixsLlhTRF9ZRUFSX01PTlRIX0RVUkFUSU9OPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSN5ZWFyTW9udGhEdXJhdGlvbiIsbC5YU0RfREFZVElNRV9EVVJBVElPTj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZGF5VGltZUR1cmF0aW9uIn0pKG49ZS5UeXBlVVJMfHwoZS5UeXBlVVJMPXt9KSk7dmFyIG87KGZ1bmN0aW9uKGwpe2wuTk9UPSIhIixsLlVNSU5VUz0idW1pbnVzIixsLlVQTFVTPSJ1cGx1cyIsbC5FUVVBTD0iPSIsbC5OT1RfRVFVQUw9IiE9IixsLkxUPSI8IixsLkdUPSI+IixsLkxURT0iPD0iLGwuR1RFPSI+PSIsbC5NVUxUSVBMSUNBVElPTj0iKiIsbC5ESVZJU0lPTj0iLyIsbC5BRERJVElPTj0iKyIsbC5TVUJUUkFDVElPTj0iLSIsbC5JU19JUkk9ImlzaXJpIixsLklTX1VSST0iaXN1cmkiLGwuSVNfQkxBTks9ImlzYmxhbmsiLGwuSVNfTElURVJBTD0iaXNsaXRlcmFsIixsLklTX05VTUVSSUM9ImlzbnVtZXJpYyIsbC5TVFI9InN0ciIsbC5MQU5HPSJsYW5nIixsLkRBVEFUWVBFPSJkYXRhdHlwZSIsbC5JUkk9ImlyaSIsbC5VUkk9InVyaSIsbC5TVFJEVD0ic3RyZHQiLGwuU1RSTEFORz0ic3RybGFuZyIsbC5VVUlEPSJ1dWlkIixsLlNUUlVVSUQ9InN0cnV1aWQiLGwuU1RSTEVOPSJzdHJsZW4iLGwuU1VCU1RSPSJzdWJzdHIiLGwuVUNBU0U9InVjYXNlIixsLkxDQVNFPSJsY2FzZSIsbC5TVFJTVEFSVFM9InN0cnN0YXJ0cyIsbC5TVFJFTkRTPSJzdHJlbmRzIixsLkNPTlRBSU5TPSJjb250YWlucyIsbC5TVFJCRUZPUkU9InN0cmJlZm9yZSIsbC5TVFJBRlRFUj0ic3RyYWZ0ZXIiLGwuRU5DT0RFX0ZPUl9VUkk9ImVuY29kZV9mb3JfdXJpIixsLkxBTkdfTUFUQ0hFUz0ibGFuZ21hdGNoZXMiLGwuUkVHRVg9InJlZ2V4IixsLlJFUExBQ0U9InJlcGxhY2UiLGwuQUJTPSJhYnMiLGwuUk9VTkQ9InJvdW5kIixsLkNFSUw9ImNlaWwiLGwuRkxPT1I9ImZsb29yIixsLlJBTkQ9InJhbmQiLGwuTk9XPSJub3ciLGwuWUVBUj0ieWVhciIsbC5NT05USD0ibW9udGgiLGwuREFZPSJkYXkiLGwuSE9VUlM9ImhvdXJzIixsLk1JTlVURVM9Im1pbnV0ZXMiLGwuU0VDT05EUz0ic2Vjb25kcyIsbC5USU1FWk9ORT0idGltZXpvbmUiLGwuVFo9InR6IixsLk1ENT0ibWQ1IixsLlNIQTE9InNoYTEiLGwuU0hBMjU2PSJzaGEyNTYiLGwuU0hBMzg0PSJzaGEzODQiLGwuU0hBNTEyPSJzaGE1MTIifSkobz1lLlJlZ3VsYXJPcGVyYXRvcnx8KGUuUmVndWxhck9wZXJhdG9yPXt9KSk7dmFyIGQ7KGZ1bmN0aW9uKGwpe2wuQk9VTkQ9ImJvdW5kIixsLklGPSJpZiIsbC5DT0FMRVNDRT0iY29hbGVzY2UiLGwuTE9HSUNBTF9PUj0ifHwiLGwuTE9HSUNBTF9BTkQ9IiYmIixsLlNBTUVfVEVSTT0ic2FtZXRlcm0iLGwuSU49ImluIixsLk5PVF9JTj0ibm90aW4iLGwuQ09OQ0FUPSJjb25jYXQiLGwuQk5PREU9ImJub2RlIn0pKGQ9ZS5TcGVjaWFsT3BlcmF0b3J8fChlLlNwZWNpYWxPcGVyYXRvcj17fSkpLGUuUmVndWxhck9wZXJhdG9ycz1uZXcgU2V0KE9iamVjdC52YWx1ZXMobykpLGUuU3BlY2lhbE9wZXJhdG9ycz1uZXcgU2V0KE9iamVjdC52YWx1ZXMoZCkpLGUuT3BlcmF0b3JzPW5ldyBTZXQoWy4uLmUuUmVndWxhck9wZXJhdG9ycywuLi5lLlNwZWNpYWxPcGVyYXRvcnNdKTt2YXIgaDsoZnVuY3Rpb24obCl7bC5DT1VOVD0iY291bnQiLGwuU1VNPSJzdW0iLGwuTUlOPSJtaW4iLGwuTUFYPSJtYXgiLGwuQVZHPSJhdmciLGwuR1JPVVBfQ09OQ0FUPSJncm91cF9jb25jYXQiLGwuU0FNUExFPSJzYW1wbGUifSkoaD1lLlNldEZ1bmN0aW9ufHwoZS5TZXRGdW5jdGlvbj17fSkpLGUuU2V0RnVuY3Rpb25zPW5ldyBTZXQoT2JqZWN0LnZhbHVlcyhoKSksZS5OYW1lZE9wZXJhdG9ycz1uZXcgU2V0KFtuLlhTRF9TVFJJTkcsbi5YU0RfRkxPQVQsbi5YU0RfRE9VQkxFLG4uWFNEX0RFQ0lNQUwsbi5YU0RfSU5URUdFUixuLlhTRF9EQVRFX1RJTUUsbi5YU0RfREFURSxuLlhTRF9CT09MRUFOXSl9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTm9FeGlzdGVuY2VIb29rPWUuTm9BZ2dyZWdhdG9yPWUuRXh0ZW5zaW9uRnVuY3Rpb25FcnJvcj1lLlVua25vd25OYW1lZE9wZXJhdG9yPWUuVW5rbm93bk9wZXJhdG9yPWUuSW52YWxpZFRlcm1UeXBlPWUuSW52YWxpZEV4cHJlc3Npb25UeXBlPWUuSW52YWxpZEV4cHJlc3Npb249ZS5JbnZhbGlkQXJpdHk9ZS5VbmV4cGVjdGVkRXJyb3I9ZS5FbXB0eUFnZ3JlZ2F0ZUVycm9yPWUuSW5jb21wYXRpYmxlTGFuZ3VhZ2VPcGVyYXRpb249ZS5JbnZhbGlkVGltZXpvbmVDYWxsPWUuQ2FzdEVycm9yPWUuSW52YWxpZEFyZ3VtZW50VHlwZXM9ZS5JbkVycm9yPWUuQ29hbGVzY2VFcnJvcj1lLlJERkVxdWFsVHlwZUVycm9yPWUuRUJWQ29lcmNpb25FcnJvcj1lLlVuYm91bmRWYXJpYWJsZUVycm9yPWUuSW52YWxpZExleGljYWxGb3JtPWUuaXNFeHByZXNzaW9uRXJyb3I9ZS5FeHByZXNzaW9uRXJyb3I9dm9pZCAwO2NsYXNzIG4gZXh0ZW5kcyBFcnJvcnt9ZS5FeHByZXNzaW9uRXJyb3I9bjtmdW5jdGlvbiBvKHEpe3JldHVybiBxIGluc3RhbmNlb2Ygbn1lLmlzRXhwcmVzc2lvbkVycm9yPW87Y2xhc3MgZCBleHRlbmRzIG57Y29uc3RydWN0b3IoRyl7c3VwZXIoYEludmFsaWQgbGV4aWNhbCBmb3JtICcke2FlKEcpfSdgKSx0aGlzLmFyZz1HfX1lLkludmFsaWRMZXhpY2FsRm9ybT1kO2NsYXNzIGggZXh0ZW5kcyBue2NvbnN0cnVjdG9yKEcscmUpe3N1cGVyKGBVbmJvdW5kIHZhcmlhYmxlICcke2FlKEcpfSdgKSx0aGlzLnZhcmlhYmxlPUcsdGhpcy5iaW5kaW5ncz1yZX19ZS5VbmJvdW5kVmFyaWFibGVFcnJvcj1oO2NsYXNzIGwgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKEcpe3N1cGVyKGBDYW5ub3QgY29lcmNlIHRlcm0gdG8gRUJWICcke2FlKEcpfSdgKSx0aGlzLmFyZz1HfX1lLkVCVkNvZXJjaW9uRXJyb3I9bDtjbGFzcyB1IGV4dGVuZHMgbntjb25zdHJ1Y3RvcihHKXtzdXBlcigiRXF1YWxpdHkgdGVzdCBmb3IgbGl0ZXJhbHMgd2l0aCB1bnN1cHBvcnRlZCBkYXRhdHlwZXMiKSx0aGlzLmFyZ3M9R319ZS5SREZFcXVhbFR5cGVFcnJvcj11O2NsYXNzIHAgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKEcpe3N1cGVyKCJBbGwgQ09BTEVTQ0UgYXJndW1lbnRzIHRocmV3IGVycm9ycyIpLHRoaXMuZXJyb3JzPUd9fWUuQ29hbGVzY2VFcnJvcj1wO2NsYXNzIGcgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKEcpe3N1cGVyKGBTb21lIGFyZ3VtZW50IHRvIElOIGVycm9ycmVkIGFuZCBub25lIHdoZXJlIGVxdWFsLiAke0cubWFwKHJlPT5gKCR7cmUudG9TdHJpbmcoKX0pIGApLmpvaW4oImFuZCAiKX1gKSx0aGlzLmVycm9ycz1HfX1lLkluRXJyb3I9ZztjbGFzcyB2IGV4dGVuZHMgbntjb25zdHJ1Y3RvcihHLHJlKXtzdXBlcihgQXJndW1lbnQgdHlwZXMgbm90IHZhbGlkIGZvciBvcGVyYXRvcjogJyR7YWUocmUpfScgd2l0aCAnJHthZShHKX1gKSx0aGlzLmFyZ3M9Ryx0aGlzLm9wPXJlfX1lLkludmFsaWRBcmd1bWVudFR5cGVzPXY7Y2xhc3MgYiBleHRlbmRzIG57Y29uc3RydWN0b3IoRyxyZSl7c3VwZXIoYEludmFsaWQgY2FzdDogJyR7YWUoRyl9JyB0byAnJHthZShyZSl9J2ApLHRoaXMuYXJnPUd9fWUuQ2FzdEVycm9yPWI7Y2xhc3MgXyBleHRlbmRzIG57Y29uc3RydWN0b3IoRyl7c3VwZXIoYFRJTUVaT05FIGNhbGwgb24gJHtHfSB3aGljaCBoYXMgbm8gdGltZXpvbmVgKSx0aGlzLmRhdGVTdHJpbmc9R319ZS5JbnZhbGlkVGltZXpvbmVDYWxsPV87Y2xhc3MgTyBleHRlbmRzIG57Y29uc3RydWN0b3IoRyxyZSl7c3VwZXIoYE9wZXJhdGlvbiBvbiBpbmNvbXBhdGlibGUgbGFuZ3VhZ2UgbGl0ZXJhbHMgJyR7YWUoRyl9JyBhbmQgJyR7YWUocmUpfSdgKSx0aGlzLmFyZzE9Ryx0aGlzLmFyZzI9cmV9fWUuSW5jb21wYXRpYmxlTGFuZ3VhZ2VPcGVyYXRpb249TztjbGFzcyBUIGV4dGVuZHMgbntjb25zdHJ1Y3Rvcigpe3N1cGVyKCJFbXB0eSBhZ2dyZWdhdGUgZXhwcmVzc2lvbiIpfX1lLkVtcHR5QWdncmVnYXRlRXJyb3I9VDtjbGFzcyBqIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoRyxyZSl7c3VwZXIoYFByb2dyYW1tZXIgRXJyb3IgJyR7R30nYCksdGhpcy5wYXlsb2FkPXJlfX1lLlVuZXhwZWN0ZWRFcnJvcj1qO2NsYXNzIE4gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHLHJlKXtzdXBlcihgVGhlIG51bWJlciBvZiBhcmdzIGRvZXMgbm90IG1hdGNoIHRoZSBhcml0eSBvZiB0aGUgb3BlcmF0b3IgJyR7YWUocmUpfScuYCksdGhpcy5hcmdzPUcsdGhpcy5vcD1yZX19ZS5JbnZhbGlkQXJpdHk9TjtjbGFzcyBCIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoRyl7c3VwZXIoYEludmFsaWQgU1BBUlFMIEV4cHJlc3Npb24gJyR7YWUoRyl9J2ApfX1lLkludmFsaWRFeHByZXNzaW9uPUI7Y2xhc3MgQyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKEcpe3N1cGVyKGBJbnZhbGlkIGV4cHJlc3Npb24gdHlwZSBmb3IgU1BBUlFMIEV4cHJlc3Npb24gJyR7YWUoRyl9J2ApLHRoaXMuZXhwcj1HfX1lLkludmFsaWRFeHByZXNzaW9uVHlwZT1DO2NsYXNzIEwgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHKXtzdXBlcihgSW52YWxpZCB0ZXJtIHR5cGUgZm9yIHRlcm0gJyR7YWUoRyl9J2ApLHRoaXMudGVybT1HfX1lLkludmFsaWRUZXJtVHlwZT1MO2NsYXNzIFMgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHKXtzdXBlcihgVW5rbm93biBvcGVyYXRvcjogJyR7YWUoRyl9YCl9fWUuVW5rbm93bk9wZXJhdG9yPVM7Y2xhc3MgUCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKEcpe3N1cGVyKGBVbmtub3duIG5hbWVkIG9wZXJhdG9yOiAnJHthZShHKX0nYCl9fWUuVW5rbm93bk5hbWVkT3BlcmF0b3I9UDtjbGFzcyBGIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoRyxyZSl7cmUgaW5zdGFuY2VvZiBFcnJvcj9zdXBlcihgRXJyb3IgdGhyb3duIGluICR7R306ICR7cmUubWVzc2FnZX0ke3JlLnN0YWNrP2AKJHtyZS5zdGFja31gOiIifWApOnN1cGVyKGBFcnJvciB0aHJvd24gaW4gJHtHfWApfX1lLkV4dGVuc2lvbkZ1bmN0aW9uRXJyb3I9RjtjbGFzcyBrIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoRyl7c3VwZXIoYEFnZ3JlZ2F0ZSBleHByZXNzaW9uICR7YWUoRyl9IGZvdW5kLCBidXQgbm8gYWdncmVnYXRlIGhvb2sgcHJvdmlkZWQuYCl9fWUuTm9BZ2dyZWdhdG9yPWs7Y2xhc3MgSiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoIkVYSVNUUyBmb3VuZCwgYnV0IG5vIGV4aXN0ZW5jZSBob29rIHByb3ZpZGVkLiIpfX1lLk5vRXhpc3RlbmNlSG9vaz1KO2Z1bmN0aW9uIGFlKHEpe3JldHVybiBKU09OLnN0cmluZ2lmeShxKX19LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9PcmRlcmluZy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm9yZGVyVHlwZXM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL2xydS1jYWNoZS9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9UZXJtVHJhbnNmb3JtZXIuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvVHlwZUhhbmRsaW5nLmpzIik7ZnVuY3Rpb24gdShiLF8sTyxULGosTil7cmV0dXJuIGI9PT1fPzA6Yj09PXZvaWQgMD9PPy0xOjE6Xz09PXZvaWQgMD9PPzE6LTE6Yi5lcXVhbHMoXyk/MDpwKGIsXyxULGopPT09Tz8tMToxfWUub3JkZXJUeXBlcz11O2Z1bmN0aW9uIHAoYixfLE8sVCxqKXtyZXR1cm4gYi50ZXJtVHlwZSE9PV8udGVybVR5cGU/dltiLnRlcm1UeXBlXTx2W18udGVybVR5cGVdOmIudGVybVR5cGU9PT0iTGl0ZXJhbCI/ZyhiLF8sTyxUKTpiLnZhbHVlPF8udmFsdWV9ZnVuY3Rpb24gZyhiLF8sTyxUKXtjb25zdCBqPXtkaXNjb3ZlcmVyOk98fCgoKT0+InRlcm0iKSxjYWNoZTpUfHxuZXcgb30sTj1uZXcgZC5UZXJtVHJhbnNmb3JtZXIoaiksQj1OLnRyYW5zZm9ybUxpdGVyYWwoYiksQz1OLnRyYW5zZm9ybUxpdGVyYWwoXyksTD1CLmRhdGFUeXBlLFM9Qy5kYXRhVHlwZSxQPSgwLGwuZ2V0U3VwZXJUeXBlRGljdCkoTCxqKSxGPSgwLGwuZ2V0U3VwZXJUeXBlRGljdCkoUyxqKTtyZXR1cm4gaC5UeXBlVVJMLlhTRF9CT09MRUFOIGluIFAmJmguVHlwZVVSTC5YU0RfQk9PTEVBTiBpbiBGfHxoLlR5cGVVUkwuWFNEX0RBVEVfVElNRSBpbiBQJiZoLlR5cGVVUkwuWFNEX0RBVEVfVElNRSBpbiBGfHxoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQyBpbiBQJiZoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQyBpbiBGfHxoLlR5cGVVUkwuWFNEX1NUUklORyBpbiBQJiZoLlR5cGVVUkwuWFNEX1NUUklORyBpbiBGP0IudHlwZWRWYWx1ZTxDLnR5cGVkVmFsdWU6aC5UeXBlVVJMLlJERl9MQU5HX1NUUklORyBpbiBQJiZoLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HIGluIEY/Qi50eXBlZFZhbHVlPEMudHlwZWRWYWx1ZXx8Qi50eXBlZFZhbHVlPT09Qy50eXBlZFZhbHVlJiZCLmxhbmd1YWdlPEMubGFuZ3VhZ2U6TDxTfHxCLmRhdGFUeXBlPT09Qy5kYXRhVHlwZSYmQi5zdHIoKTxDLnN0cigpfWNvbnN0IHY9e1ZhcmlhYmxlOjAsQmxhbmtOb2RlOjEsTmFtZWROb2RlOjIsTGl0ZXJhbDozLFF1YWQ6NCxEZWZhdWx0R3JhcGg6NX19LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9QYXJzaW5nLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnBhcnNlWFNERGF0ZVRpbWU9ZS5wYXJzZVhTREludGVnZXI9ZS5wYXJzZVhTRERlY2ltYWw9ZS5wYXJzZVhTREZsb2F0PXZvaWQgMDtmdW5jdGlvbiBuKGwpe2NvbnN0IHU9TnVtYmVyKGwpO3JldHVybiBOdW1iZXIuaXNOYU4odSk/bD09PSJOYU4iP051bWJlci5OYU46bD09PSJJTkYifHxsPT09IitJTkYiP051bWJlci5QT1NJVElWRV9JTkZJTklUWTpsPT09Ii1JTkYiP051bWJlci5ORUdBVElWRV9JTkZJTklUWTp2b2lkIDA6dX1lLnBhcnNlWFNERmxvYXQ9bjtmdW5jdGlvbiBvKGwpe2NvbnN0IHU9TnVtYmVyKGwpO3JldHVybiBOdW1iZXIuaXNOYU4odSk/dm9pZCAwOnV9ZS5wYXJzZVhTRERlY2ltYWw9bztmdW5jdGlvbiBkKGwpe2NvbnN0IHU9TnVtYmVyLnBhcnNlSW50KGwsMTApO3JldHVybiBOdW1iZXIuaXNOYU4odSk/dm9pZCAwOnV9ZS5wYXJzZVhTREludGVnZXI9ZDtmdW5jdGlvbiBoKGwpe2NvbnN0IHU9bC5pbmRleE9mKCJUIikscD11Pj0wP2wuc2xpY2UoMCxNYXRoLm1heCgwLHUpKTpsLFtnLHYsYl09cC5zcGxpdCgiLSIpO2xldCBfPSIwMCIsTz0iMDAiLFQ9IjAwIixqPSIiO2lmKHU+PTApe2NvbnN0IE49bC5zbGljZSh1KzEpLFtCLENdPU4uc3BsaXQoL1srWi1dL3UpO1tfLE8sVF09Qi5zcGxpdCgiOiIpO2NvbnN0IEw9LyhbK1otXS4qKS91LmV4ZWMoTik7aj1MP0xbMF06IiJ9cmV0dXJue3llYXI6Zyxtb250aDp2LGRheTpiLGhvdXJzOl8sbWludXRlczpPLHNlY29uZHM6VCx0aW1lem9uZTpqfX1lLnBhcnNlWFNERGF0ZVRpbWU9aH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1R5cGVIYW5kbGluZy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmlzU3ViVHlwZU9mPWUuZ2V0U3VwZXJUeXBlRGljdD1lLmlzSW50ZXJuYWxTdWJUeXBlPWUuYXNHZW5lcmFsVHlwZT1lLmFzT3ZlcnJpZGVUeXBlPWUuYXNLbm93bkxpdGVyYWxUeXBlPWUuYXNUeXBlQWxpYXM9ZS50eXBlQWxpYXNDaGVjaz1lLmV4dGVuc2lvblRhYmxlSW5pdD1lLmdldFN1cGVyVHlwZXM9ZS5zdXBlclR5cGVEaWN0VGFibGU9ZS5leHRlbnNpb25UYWJsZUlucHV0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIik7ZS5leHRlbnNpb25UYWJsZUlucHV0PXtbZC5UeXBlVVJMLlhTRF9EQVRFX1RJTUVfU1RBTVBdOmQuVHlwZVVSTC5YU0RfREFURV9USU1FLFtkLlR5cGVVUkwuWFNEX0RBWVRJTUVfRFVSQVRJT05dOmQuVHlwZVVSTC5YU0RfRFVSQVRJT04sW2QuVHlwZVVSTC5YU0RfWUVBUl9NT05USF9EVVJBVElPTl06ZC5UeXBlVVJMLlhTRF9EVVJBVElPTixbZC5UeXBlVVJMLlJERl9MQU5HX1NUUklOR106ZC5UeXBlQWxpYXMuU1BBUlFMX1NUUklOR0xZLFtkLlR5cGVVUkwuWFNEX1NUUklOR106ZC5UeXBlQWxpYXMuU1BBUlFMX1NUUklOR0xZLFtkLlR5cGVVUkwuWFNEX05PUk1BTElaRURfU1RSSU5HXTpkLlR5cGVVUkwuWFNEX1NUUklORyxbZC5UeXBlVVJMLlhTRF9UT0tFTl06ZC5UeXBlVVJMLlhTRF9OT1JNQUxJWkVEX1NUUklORyxbZC5UeXBlVVJMLlhTRF9MQU5HVUFHRV06ZC5UeXBlVVJMLlhTRF9UT0tFTixbZC5UeXBlVVJMLlhTRF9OTV9UT0tFTl06ZC5UeXBlVVJMLlhTRF9UT0tFTixbZC5UeXBlVVJMLlhTRF9OQU1FXTpkLlR5cGVVUkwuWFNEX1RPS0VOLFtkLlR5cGVVUkwuWFNEX05DX05BTUVdOmQuVHlwZVVSTC5YU0RfTkFNRSxbZC5UeXBlVVJMLlhTRF9FTlRJVFldOmQuVHlwZVVSTC5YU0RfTkNfTkFNRSxbZC5UeXBlVVJMLlhTRF9JRF06ZC5UeXBlVVJMLlhTRF9OQ19OQU1FLFtkLlR5cGVVUkwuWFNEX0lEX1JFRl06ZC5UeXBlVVJMLlhTRF9OQ19OQU1FLFtkLlR5cGVVUkwuWFNEX0RPVUJMRV06ZC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUMsW2QuVHlwZVVSTC5YU0RfRkxPQVRdOmQuVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDLFtkLlR5cGVVUkwuWFNEX0RFQ0lNQUxdOmQuVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDLFtkLlR5cGVVUkwuWFNEX0lOVEVHRVJdOmQuVHlwZVVSTC5YU0RfREVDSU1BTCxbZC5UeXBlVVJMLlhTRF9OT05fUE9TSVRJVkVfSU5URUdFUl06ZC5UeXBlVVJMLlhTRF9JTlRFR0VSLFtkLlR5cGVVUkwuWFNEX05FR0FUSVZFX0lOVEVHRVJdOmQuVHlwZVVSTC5YU0RfTk9OX1BPU0lUSVZFX0lOVEVHRVIsW2QuVHlwZVVSTC5YU0RfTE9OR106ZC5UeXBlVVJMLlhTRF9JTlRFR0VSLFtkLlR5cGVVUkwuWFNEX0lOVF06ZC5UeXBlVVJMLlhTRF9MT05HLFtkLlR5cGVVUkwuWFNEX1NIT1JUXTpkLlR5cGVVUkwuWFNEX0lOVCxbZC5UeXBlVVJMLlhTRF9CWVRFXTpkLlR5cGVVUkwuWFNEX1NIT1JULFtkLlR5cGVVUkwuWFNEX05PTl9ORUdBVElWRV9JTlRFR0VSXTpkLlR5cGVVUkwuWFNEX0lOVEVHRVIsW2QuVHlwZVVSTC5YU0RfUE9TSVRJVkVfSU5URUdFUl06ZC5UeXBlVVJMLlhTRF9OT05fTkVHQVRJVkVfSU5URUdFUixbZC5UeXBlVVJMLlhTRF9VTlNJR05FRF9MT05HXTpkLlR5cGVVUkwuWFNEX05PTl9ORUdBVElWRV9JTlRFR0VSLFtkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX0lOVF06ZC5UeXBlVVJMLlhTRF9VTlNJR05FRF9MT05HLFtkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX1NIT1JUXTpkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX0lOVCxbZC5UeXBlVVJMLlhTRF9VTlNJR05FRF9CWVRFXTpkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX1NIT1JULFtkLlR5cGVVUkwuWFNEX0RBVEVfVElNRV06InRlcm0iLFtkLlR5cGVVUkwuWFNEX0JPT0xFQU5dOiJ0ZXJtIixbZC5UeXBlVVJMLlhTRF9EQVRFXToidGVybSIsW2QuVHlwZVVSTC5YU0RfRFVSQVRJT05dOiJ0ZXJtIixbZC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUNdOiJ0ZXJtIixbZC5UeXBlQWxpYXMuU1BBUlFMX1NUUklOR0xZXToidGVybSIsW2QuVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF06InRlcm0iLFtkLlR5cGVVUkwuWFNEX0FOWV9VUkldOiJ0ZXJtIn07ZnVuY3Rpb24gaChOLEIpe2NvbnN0IEM9Qi5jYWNoZS5nZXQoTik7aWYoQylyZXR1cm4gQztjb25zdCBMPUIuZGlzY292ZXJlcihOKTtpZihMPT09InRlcm0iKXtjb25zdCBGPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIEYuX19kZXB0aD0wLEZbTl09MCxCLmNhY2hlLnNldChOLEYpLEZ9bGV0IFM7Y29uc3QgUD12KEwpO3JldHVybiBQP1M9T2JqZWN0LmFzc2lnbih7fSxlLnN1cGVyVHlwZURpY3RUYWJsZVtQXSk6Uz1PYmplY3QuYXNzaWduKHt9LGgoTCxCKSksUy5fX2RlcHRoKyssU1tOXT1TLl9fZGVwdGgsQi5jYWNoZS5zZXQoTixTKSxTfWUuZ2V0U3VwZXJUeXBlcz1oO2Z1bmN0aW9uIGwoKXtjb25zdCBOPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0W0IsQ11vZiBPYmplY3QuZW50cmllcyhlLmV4dGVuc2lvblRhYmxlSW5wdXQpKXtjb25zdCBMPUI7TltMXXx8dShMLEMsTil9ZS5zdXBlclR5cGVEaWN0VGFibGU9Tn1lLmV4dGVuc2lvblRhYmxlSW5pdD1sLGwoKTtmdW5jdGlvbiB1KE4sQixDKXtpZihCPT09InRlcm0ifHxCPT09dm9pZCAwKXtjb25zdCBMPU9iamVjdC5jcmVhdGUobnVsbCk7TC5fX2RlcHRoPTAsTFtOXT0wLENbTl09TDtyZXR1cm59Q1tCXXx8dShCLGUuZXh0ZW5zaW9uVGFibGVJbnB1dFtCXSxDKSxDW05dPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxDW0JdKSx7W05dOkNbQl0uX19kZXB0aCsxLF9fZGVwdGg6Q1tCXS5fX2RlcHRoKzF9KX1mdW5jdGlvbiBwKCl7ZS50eXBlQWxpYXNDaGVjaz1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBOIG9mIE9iamVjdC52YWx1ZXMoZC5UeXBlQWxpYXMpKWUudHlwZUFsaWFzQ2hlY2tbTl09ITB9cCgpO2Z1bmN0aW9uIGcoTil7aWYoTiBpbiBlLnR5cGVBbGlhc0NoZWNrKXJldHVybiBOfWUuYXNUeXBlQWxpYXM9ZztmdW5jdGlvbiB2KE4pe2lmKE4gaW4gZS5zdXBlclR5cGVEaWN0VGFibGUpcmV0dXJuIE59ZS5hc0tub3duTGl0ZXJhbFR5cGU9djtmdW5jdGlvbiBiKE4pe2lmKHYoTil8fE49PT0idGVybSIpcmV0dXJuIE59ZS5hc092ZXJyaWRlVHlwZT1iO2Z1bmN0aW9uIF8oTil7aWYoTj09PSJ0ZXJtInx8KDAsby5hc1Rlcm1UeXBlKShOKSlyZXR1cm4gTn1lLmFzR2VuZXJhbFR5cGU9XztmdW5jdGlvbiBPKE4sQil7cmV0dXJuIE4hPT0idGVybSImJmUuc3VwZXJUeXBlRGljdFRhYmxlW05dJiZlLnN1cGVyVHlwZURpY3RUYWJsZVtOXVtCXSE9PXZvaWQgMH1lLmlzSW50ZXJuYWxTdWJUeXBlPU87ZnVuY3Rpb24gVChOLEIpe2NvbnN0IEM9dihOKTtyZXR1cm4gQz9lLnN1cGVyVHlwZURpY3RUYWJsZVtDXTpoKE4sQil9ZS5nZXRTdXBlclR5cGVEaWN0PVQ7ZnVuY3Rpb24gaihOLEIsQyl7cmV0dXJuIE49PT0idGVybSI/ITE6VChOLEMpW0JdIT09dm9pZCAwfWUuaXNTdWJUeXBlT2Y9an0sIi4uL25vZGVfbW9kdWxlcy9zdHJlYW0tdG8tc3RyaW5nL2luZGV4LmpzIjoodCxlLG4pPT57dmFyIG89bigiLi9yZXF1aXJlLWVtcHR5LmpzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGQsaCxsKXt0eXBlb2YgaD09ImZ1bmN0aW9uIiYmKGw9aCxoPW51bGwpLGw9bHx8ZnVuY3Rpb24oKXt9O3ZhciB1PSIiO3JldHVybiBuZXcgbyhmdW5jdGlvbihwLGcpe2Qub24oImRhdGEiLGZ1bmN0aW9uKHYpe3UrPXR5cGVvZiBoPT0ic3RyaW5nIj92LnRvU3RyaW5nKGgpOnYudG9TdHJpbmcoKX0pLGQub24oImVuZCIsZnVuY3Rpb24oKXtwKHUpLGwobnVsbCx1KX0pLGQub24oImVycm9yIixmdW5jdGlvbih2KXtnKHYpLGwodil9KX0pfX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9lbXB0eS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmVtcHR5PXZvaWQgMDtjb25zdCBkPXtub2RlOm4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvaW5kZXguanMiKS5FTVBUWSxzaXplOjB9O2Z1bmN0aW9uIGgoKXtyZXR1cm4gZH1lLmVtcHR5PWh9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZW50cmllcy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmVudHJpZXM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaW5kZXguanMiKTtmdW5jdGlvbiBkKGwpe3JldHVybigwLG8uaXRlcmF0b3IpKCgwLG8uZ2V0Tm9kZSkobCksaCl9ZS5lbnRyaWVzPWQ7ZnVuY3Rpb24gaChsKXtyZXR1cm5bbC5rZXksbC52YWx1ZV19fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2ZpbHRlci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmZpbHRlcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZW1wdHkuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9yZWR1Y2UuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9zZXQuanMiKSxsPWZ1bmN0aW9uKHAsZyl7cmV0dXJuKDAsZC5yZWR1Y2UpKGZ1bmN0aW9uKHYsYixfKXtyZXR1cm4gcChiLF8pPygwLGguc2V0KShfLGIsdik6dn0sKDAsby5lbXB0eSkoKSxnKX07ZS5maWx0ZXI9bH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9mb3JFYWNoLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZm9yRWFjaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcmVkdWNlLmpzIiksZD1mdW5jdGlvbihsLHUpe3JldHVybigwLG8ucmVkdWNlKSgocCxnLHYpPT5sKGcsdiksbnVsbCx1KSx1fTtlLmZvckVhY2g9ZH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9mcm9tLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZnJvbU9iamVjdD1lLmZyb21JdGVyYWJsZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZW1wdHkuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9zZXQuanMiKTtmdW5jdGlvbiBoKHUpe2xldCBwPSgwLG8uZW1wdHkpKCk7Zm9yKGNvbnN0W2csdl1vZiB1KXA9KDAsZC5zZXQpKGcsdixwKTtyZXR1cm4gcH1lLmZyb21JdGVyYWJsZT1oO2Z1bmN0aW9uIGwodSl7bGV0IHA9KDAsby5lbXB0eSkoKTtmb3IobGV0IGcgaW4gdSl1Lmhhc093blByb3BlcnR5KGcpJiYocD0oMCxkLnNldCkoZyx1W2ddLHApKTtyZXR1cm4gcH1lLmZyb21PYmplY3Q9bH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9nZXQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5nZXQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaW5kZXguanMiKTtmdW5jdGlvbiBkKGgsbCx1KXtjb25zdCBwPSgwLG8uZmluZEhhc2gpKGgpO3JldHVybigwLG8uZ2V0SGFzaCkodm9pZCAwLHAsaCxsLHUpfWUuZ2V0PWR9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvaGFzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaGFzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL2luZGV4LmpzIik7ZnVuY3Rpb24gaChsLHUscCl7Y29uc3QgZz0oMCxvLmZpbmRIYXNoKShsKTtyZXR1cm4oMCxvLmdldEhhc2gpKGQuTk9USElORyxnLGwsdSxwKSE9PWQuTk9USElOR31lLmhhcz1ofSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2tleXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5rZXlzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2luZGV4LmpzIik7ZnVuY3Rpb24gZChsKXtyZXR1cm4oMCxvLml0ZXJhdG9yKSgoMCxvLmdldE5vZGUpKGwpLGgpfWUua2V5cz1kO2Z1bmN0aW9uIGgobCl7cmV0dXJuIGwua2V5fX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9tYXAuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tYXA9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2VtcHR5LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcmVkdWNlLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvc2V0LmpzIiksbD1mdW5jdGlvbihwLGcpe3JldHVybigwLGQucmVkdWNlKShmdW5jdGlvbih2LGIsXyl7cmV0dXJuKDAsaC5zZXQpKF8scChiLF8pLHYpfSwoMCxvLmVtcHR5KSgpLGcpfTtlLm1hcD1sfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZmluZEhhc2guanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5maW5kSGFzaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9pbmRleC5qcyIpO2Z1bmN0aW9uIGQoaCl7cmV0dXJuIHR5cGVvZiBoPT0ibnVtYmVyIj9oOnR5cGVvZiBoPT0ic3RyaW5nIj8oMCxvLnN0cmluZ0hhc2gpKGgpOk1hdGguYWJzKCgwLG8uc3RyaW5nSGFzaCkoSlNPTi5zdHJpbmdpZnkoaCkpKX1lLmZpbmRIYXNoPWR9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9mb2xkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZm9sZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXROb2RlLmpzIik7ZnVuY3Rpb24gZChoLGwsdSl7Y29uc3QgcD0oMCxvLmdldE5vZGUpKHUpO2lmKHAudHlwZT09PTApcmV0dXJuIGw7aWYocC50eXBlPT09MSlyZXR1cm4gaChsLHAudmFsdWUscC5rZXkpO2NvbnN0IGc9W3AuY2hpbGRyZW5dO2xldCB2O2Zvcig7dj1nLnNoaWZ0KCk7KWZvcihsZXQgYj0wO2I8di5sZW5ndGg7KytiKXtjb25zdCBfPXZbYl07XyYmXy50eXBlIT09MCYmKF8udHlwZT09PTE/bD1oKGwsXy52YWx1ZSxfLmtleSk6Zy5wdXNoKF8uY2hpbGRyZW4pKX1yZXR1cm4gbH1lLmZvbGQ9ZH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldEhhc2guanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5nZXRIYXNoPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXROb2RlLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9rZXlFcXVhbHMuanMiKTtmdW5jdGlvbiBsKHUscCxnLHYsYj1oLmRlZmF1bHRLZXlFcXVhbHMpe2xldCBfPSgwLGQuZ2V0Tm9kZSkodiksTz0wO2Zvcig7Oylzd2l0Y2goXy50eXBlKXtjYXNlIDE6cmV0dXJuIGIoZyxfLmtleSk/Xy52YWx1ZTp1O2Nhc2UgMjppZihwPT09Xy5oYXNoKXtjb25zdCBUPV8uY2hpbGRyZW47Zm9yKGxldCBqPTA7ajxULmxlbmd0aDsrK2ope2NvbnN0IE49VFtqXTtpZihiKGcsTi5rZXkpKXJldHVybiBOLnZhbHVlfXJldHVybiB1fWNhc2UgMzp7Y29uc3QgVD0oMCxvLmhhc2hGcmFnbWVudCkoTyxwKSxqPSgwLG8udG9CaXRtYXApKFQpO2lmKF8ubWFzayZqKXtjb25zdCBOPSgwLG8uYml0bWFwVG9JbmRleCkoXy5tYXNrLGopO189Xy5jaGlsZHJlbltOXSxPKz1vLlNJWkU7YnJlYWt9cmV0dXJuIHV9Y2FzZSA0OntpZihfPV8uY2hpbGRyZW5bKDAsby5oYXNoRnJhZ21lbnQpKE8scCldLF8pe08rPW8uU0laRTticmVha31yZXR1cm4gdX1kZWZhdWx0OnJldHVybiB1fX1lLmdldEhhc2g9bH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldE5vZGUuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0Tm9kZT12b2lkIDA7ZnVuY3Rpb24gbihvKXtyZXR1cm4gby5ub2RlfWUuZ2V0Tm9kZT1ufSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZ2V0U2l6ZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5nZXRTaXplPXZvaWQgMDtmdW5jdGlvbiBuKG8pe3JldHVybiBvLnNpemV9ZS5nZXRTaXplPW59LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldEhhc2guanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldE5vZGUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL3NldFRyZWUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL3NldEtleVZhbHVlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9maW5kSGFzaC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaXRlcmF0ZU1hcC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZm9sZC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMva2V5RXF1YWxzLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pdGVyYXRlTWFwLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLml0ZXJhdG9yPXZvaWQgMDtmdW5jdGlvbiBuKHAsZyl7cmV0dXJuIG5ldyBvKGgocCxnLFtdKSl9ZS5pdGVyYXRvcj1uO2NsYXNzIG97X2l0ZXJhdGU7Y29uc3RydWN0b3IoZyl7dGhpcy5faXRlcmF0ZT1nfW5leHQoKXtpZighdGhpcy5faXRlcmF0ZSlyZXR1cm57ZG9uZTohMCx2YWx1ZTpudWxsfTtjb25zdHt2YWx1ZTpnLHJlc3Q6dn09dGhpcy5faXRlcmF0ZTtyZXR1cm4gdGhpcy5faXRlcmF0ZT1kKHYpLHtkb25lOiExLHZhbHVlOmd9fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9fWNvbnN0IGQ9cD0+cCYmbChwWzBdLHBbMV0scFsyXSxwWzNdLHBbNF0pO2Z1bmN0aW9uIGgocCxnLHYpe3N3aXRjaChwLnR5cGUpe2Nhc2UgMTpyZXR1cm57dmFsdWU6ZyhwKSxyZXN0OnZ9O2Nhc2UgMjpjYXNlIDQ6Y2FzZSAzOmNvbnN0IGI9cC5jaGlsZHJlbjtyZXR1cm4gbChiLmxlbmd0aCxiLDAsZyx2KTtkZWZhdWx0OnJldHVybiBkKHYpfX1mdW5jdGlvbiBsKHAsZyx2LGIsXyl7Zm9yKDt2PHA7KXtjb25zdCBPPWdbdisrXTtpZihPJiZ1KE8pKXJldHVybiBoKE8sYixbcCxnLHYsYixfXSl9cmV0dXJuIGQoXyl9ZnVuY3Rpb24gdShwKXtyZXR1cm4gcCYmcC50eXBlIT09MH19LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9rZXlFcXVhbHMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmYXVsdEtleUVxdWFscz12b2lkIDA7Y29uc3Qgbj0obyxkKT0+bz09PWQ7ZS5kZWZhdWx0S2V5RXF1YWxzPW59LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9zZXRLZXlWYWx1ZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnNldEtleVZhbHVlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2ZpbmRIYXNoLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXROb2RlLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXRTaXplLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9zZXRUcmVlLmpzIikscD12PT4oKT0+djtmdW5jdGlvbiBnKHYsYixfKXtjb25zdCBPPSgwLGQuZmluZEhhc2gpKHYpLFQ9e3ZhbHVlOigwLGwuZ2V0U2l6ZSkoXyl9LGo9KDAsby5tb2RpZnkpKCgwLGguZ2V0Tm9kZSkoXyksMCxwKGIpLE8sdixUKTtyZXR1cm4oMCx1LnNldFRyZWUpKGosVC52YWx1ZSxfKX1lLnNldEtleVZhbHVlPWd9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9zZXRUcmVlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc2V0VHJlZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXROb2RlLmpzIik7ZnVuY3Rpb24gZChoLGwsdSl7cmV0dXJuIGg9PT0oMCxvLmdldE5vZGUpKHUpP3U6e25vZGU6aCxzaXplOmx9fWUuc2V0VHJlZT1kfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3JlZHVjZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnJlZHVjZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pbmRleC5qcyIpO2UucmVkdWNlPW8uZm9sZH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9yZW1vdmUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5yZW1vdmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvY29uc3RhbnRzLmpzIik7ZnVuY3Rpb24gaChsLHUpe3JldHVybigwLG8uc2V0S2V5VmFsdWUpKGwsZC5OT1RISU5HLHUpfWUucmVtb3ZlPWh9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvc2V0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc2V0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2luZGV4LmpzIik7ZS5zZXQ9by5zZXRLZXlWYWx1ZX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9zaXplLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc2l6ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXRTaXplLmpzIik7ZnVuY3Rpb24gZChoKXtyZXR1cm4oMCxvLmdldFNpemUpKGgpfWUuc2l6ZT1kfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ZhbHVlcy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnZhbHVlcz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pbmRleC5qcyIpO2Z1bmN0aW9uIGQobCl7cmV0dXJuKDAsby5pdGVyYXRvcikoKDAsby5nZXROb2RlKShsKSxoKX1lLnZhbHVlcz1kO2Z1bmN0aW9uIGgobCl7cmV0dXJuIGwudmFsdWV9fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vYXJyYXktb3BlcmF0aW9ucy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5pbnNlcnQ9ZS5yZW1vdmU9ZS5yZXBsYWNlPXZvaWQgMDtmdW5jdGlvbiBuKGgsbCx1KXtjb25zdCBwPXUubGVuZ3RoLGc9QXJyYXkocCk7Zm9yKGxldCB2PTA7djxwOysrdilnW3ZdPXVbdl07cmV0dXJuIGdbaF09bCxnfWUucmVwbGFjZT1uO2Z1bmN0aW9uIG8oaCxsKXtjb25zdCB1PWwubGVuZ3RoO2lmKHU9PT0wfHxoPj11KXJldHVybiBsO2lmKHU9PT0xKXJldHVybltdO2NvbnN0IHA9QXJyYXkodS0xKTtsZXQgZz0wO2Zvcig7ZzxoOysrZylwW2ddPWxbZ107Zm9yKGc9ZysxO2c8dTsrK2cpcFtnLTFdPWxbZ107cmV0dXJuIHB9ZS5yZW1vdmU9bztmdW5jdGlvbiBkKGgsbCx1KXtjb25zdCBwPXUubGVuZ3RoLGc9QXJyYXkocCsxKTtsZXQgdj0wO2Zvcig7djxoOysrdilnW3ZdPXVbdl07Zm9yKGdbdisrXT1sO3Y8cCsxOysrdilnW3ZdPXVbdi0xXTtyZXR1cm4gZ31lLmluc2VydD1kfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vYml0d2lzZS1vcGVyYXRpb25zLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuYml0bWFwVG9JbmRleD1lLnRvQml0bWFwPWUuaGFzaEZyYWdtZW50PWUuaGFtbWluZ1dlaWdodD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9jb25zdGFudHMuanMiKTtmdW5jdGlvbiBkKHApe3JldHVybiBwPXAtKHA+PjEmMTQzMTY1NTc2NSkscD0ocCY4NTg5OTM0NTkpKyhwPj4yJjg1ODk5MzQ1OSksKHArKHA+PjQpJjI1MjY0NTEzNSkqMTY4NDMwMDk+PjI0fWUuaGFtbWluZ1dlaWdodD1kO2Z1bmN0aW9uIGgocCxnKXtyZXR1cm4gZz4+PnAmby5NQVNLfWUuaGFzaEZyYWdtZW50PWg7ZnVuY3Rpb24gbChwKXtyZXR1cm4gMTw8cH1lLnRvQml0bWFwPWw7ZnVuY3Rpb24gdShwLGcpe3JldHVybiBkKHAmZy0xKX1lLmJpdG1hcFRvSW5kZXg9dX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2NvbnN0YW50cy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NSU5fQVJSQVlfTk9ERT1lLk1BWF9JTkRFWF9OT0RFPWUuTUFTSz1lLkJVQ0tFVF9TSVpFPWUuU0laRT12b2lkIDAsZS5TSVpFPTUsZS5CVUNLRVRfU0laRT1NYXRoLnBvdygyLGUuU0laRSksZS5NQVNLPWUuQlVDS0VUX1NJWkUtMSxlLk1BWF9JTkRFWF9OT0RFPWUuQlVDS0VUX1NJWkUvMixlLk1JTl9BUlJBWV9OT0RFPWUuQlVDS0VUX1NJWkUvNH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vYXJyYXktb3BlcmF0aW9ucy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vYml0d2lzZS1vcGVyYXRpb25zLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9jb25zdGFudHMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL3N0cmluZ0hhc2guanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL3N0cmluZ0hhc2guanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc3RyaW5nSGFzaD12b2lkIDA7ZnVuY3Rpb24gbihvKXtsZXQgZD0wO2ZvcihsZXQgaD0wO2g8by5sZW5ndGg7KytoKWQ9KGQ8PDUpLWQrby5jaGFyQ29kZUF0KGgpfDA7cmV0dXJuIGR9ZS5zdHJpbmdIYXNoPW59LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0FycmF5Tm9kZS9BcnJheU5vZGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tb2RpZnlMaXN0Tm9kZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0VtcHR5Tm9kZS5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9tb2RpZnkuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0FycmF5Tm9kZS90b0luZGV4Tm9kZS5qcyIpO2Z1bmN0aW9uIHUoZyx2LGIsXyxPLFQpe2NvbnN0e3NpemU6aixjaGlsZHJlbjpOfT1nLEI9KDAsaC5oYXNoRnJhZ21lbnQpKHYsXyksQz1OW0JdLEw9KDAsZC5tb2RpZnkpKEN8fCgwLG8uZW1wdHkpKCksditoLlNJWkUsYixfLE8sVCk7cmV0dXJuIEM9PT1MP2c6cChDKSYmIXAoTCk/e3R5cGU6NCxzaXplOmorMSxjaGlsZHJlbjooMCxoLnJlcGxhY2UpKEIsTCxOKX06IXAoQykmJnAoTCk/ai0xPD1oLk1JTl9BUlJBWV9OT0RFPygwLGwudG9JbmRleE5vZGUpKGosQixOKTp7dHlwZTo0LHNpemU6ai0xLGNoaWxkcmVuOigwLGgucmVwbGFjZSkoQiwoMCxvLmVtcHR5KSgpLE4pfTp7dHlwZTo0LHNpemU6aixjaGlsZHJlbjooMCxoLnJlcGxhY2UpKEIsTCxOKX19ZS5tb2RpZnlMaXN0Tm9kZT11O2Z1bmN0aW9uIHAoZyl7cmV0dXJuIGcmJmcudHlwZT09PTB9fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9BcnJheU5vZGUvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0FycmF5Tm9kZS9BcnJheU5vZGUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQXJyYXlOb2RlL3RvSW5kZXhOb2RlLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnRvSW5kZXhOb2RlPXZvaWQgMDtmdW5jdGlvbiBuKG8sZCxoKXtjb25zdCBsPW5ldyBBcnJheShvLTEpO2xldCB1PTAscD0wO2ZvcihsZXQgZz0wO2c8aC5sZW5ndGg7KytnKWlmKGchPT1kKXtjb25zdCB2PWhbZ107diYmdi50eXBlPjAmJihsW3UrK109dixwfD0xPDxnKX1yZXR1cm57dHlwZTozLG1hc2s6cCxjaGlsZHJlbjpsfX1lLnRvSW5kZXhOb2RlPW59LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0NvbGxpc2lvbk5vZGUvQ29sbGlzaW9uTm9kZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm1vZGlmeUNvbGxpc2lvbk5vZGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvTGVhZk5vZGUvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQ29sbGlzaW9uTm9kZS9uZXdDb2xsaXNpb25MaXN0LmpzIik7ZnVuY3Rpb24gbCh1LHAsZyx2LGIsXyl7aWYodj09PXUuaGFzaCl7Y29uc3QgVD0oMCxoLm5ld0NvbGxpc2lvbkxpc3QpKHUuaGFzaCx1LmNoaWxkcmVuLGcsYixfKTtyZXR1cm4gVD09PXUuY2hpbGRyZW4/dTpULmxlbmd0aD4xP3t0eXBlOjIsaGFzaDp1Lmhhc2gsY2hpbGRyZW46VH06VFswXX1jb25zdCBPPWcoKTtyZXR1cm4gTz09PW8uTk9USElORz91OigrK18udmFsdWUsKDAsZC5jb21iaW5lTGVhZk5vZGVzKShwLHUuaGFzaCx1LHYse3R5cGU6MSxoYXNoOnYsa2V5OmIsdmFsdWU6T30pKX1lLm1vZGlmeUNvbGxpc2lvbk5vZGU9bH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQ29sbGlzaW9uTm9kZS9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQ29sbGlzaW9uTm9kZS9Db2xsaXNpb25Ob2RlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0NvbGxpc2lvbk5vZGUvbmV3Q29sbGlzaW9uTGlzdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm5ld0NvbGxpc2lvbkxpc3Q9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIik7ZnVuY3Rpb24gaChsLHUscCxnLHYpe2NvbnN0IGI9dS5sZW5ndGg7Zm9yKGxldCBPPTA7TzxiOysrTyl7Y29uc3QgVD11W09dO2lmKFQua2V5PT09Zyl7Y29uc3Qgaj1ULnZhbHVlLE49cChqKTtyZXR1cm4gTj09PWo/dTpOPT09by5OT1RISU5HPygtLXYudmFsdWUsKDAsZC5yZW1vdmUpKE8sdSkpOigwLGQuaW5zZXJ0KShPLHt0eXBlOjEsaGFzaDpsLGtleTpnLHZhbHVlOk59LHUpfX1jb25zdCBfPXAoKTtyZXR1cm4gXz09PW8uTk9USElORz91OigrK3YudmFsdWUsKDAsZC5pbnNlcnQpKGIse3R5cGU6MSxoYXNoOmwsa2V5OmcsdmFsdWU6X30sdSkpfWUubmV3Q29sbGlzaW9uTGlzdD1ofSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9FbXB0eU5vZGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5lbXB0eT1lLkVNUFRZPWUubW9kaWZ5RW1wdHk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiKTtmdW5jdGlvbiBkKGwsdSxwLGcsdixiKXtjb25zdCBfPXAodm9pZCAwKTtyZXR1cm4gXz09PW8uTk9USElORz9sOigrK2IudmFsdWUse3R5cGU6MSxoYXNoOmcsa2V5OnYsdmFsdWU6X30pfWUubW9kaWZ5RW1wdHk9ZCxlLkVNUFRZPXt0eXBlOjB9O2Z1bmN0aW9uIGgoKXtyZXR1cm4gZS5FTVBUWX1lLmVtcHR5PWh9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL0luZGV4ZWROb2RlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUubW9kaWZ5SW5kZXhlZE5vZGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9FbXB0eU5vZGUuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL21vZGlmeS5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9JbmRleGVkTm9kZS90b0FycmF5Tm9kZS5qcyIpO2Z1bmN0aW9uIHUoZyx2LGIsXyxPLFQpe2NvbnN0e21hc2s6aixjaGlsZHJlbjpOfT1nLEI9KDAsZC5oYXNoRnJhZ21lbnQpKHYsXyksQz0oMCxkLnRvQml0bWFwKShCKSxMPSgwLGQuYml0bWFwVG9JbmRleCkoaixDKSxTPSEhKGomQyksUD1TP05bTF06KDAsby5lbXB0eSkoKSxGPSgwLGgubW9kaWZ5KShQLHYrZC5TSVpFLGIsXyxPLFQpO2lmKFA9PT1GKXJldHVybiBnO2lmKFMmJkYudHlwZT09PTApe2NvbnN0IGs9aiZ+QztyZXR1cm4gaz9OLmxlbmd0aDw9MiYmcChOW0xeMV0pP05bTF4xXTp7dHlwZTozLG1hc2s6ayxjaGlsZHJlbjooMCxkLnJlbW92ZSkoTCxOKX06KDAsby5lbXB0eSkoKX1yZXR1cm4hUyYmRi50eXBlIT09MD9OLmxlbmd0aD49ZC5NQVhfSU5ERVhfTk9ERT8oMCxsLnRvQXJyYXlOb2RlKShCLEYsaixOKTp7dHlwZTozLG1hc2s6anxDLGNoaWxkcmVuOigwLGQuaW5zZXJ0KShMLEYsTil9Ont0eXBlOjMsbWFzazpqLGNoaWxkcmVuOigwLGQucmVwbGFjZSkoTCxGLE4pfX1lLm1vZGlmeUluZGV4ZWROb2RlPXU7ZnVuY3Rpb24gcChnKXtjb25zdCB2PWcudHlwZTtyZXR1cm4gdj09PTB8fHY9PT0xfHx2PT09Mn19LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9JbmRleGVkTm9kZS9JbmRleGVkTm9kZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9JbmRleGVkTm9kZS90b0FycmF5Tm9kZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS50b0FycmF5Tm9kZT12b2lkIDA7ZnVuY3Rpb24gbihvLGQsaCxsKXtjb25zdCB1PVtdO2xldCBwPWgsZz0wO2ZvcihsZXQgdj0wO3A7Kyt2KXAmMSYmKHVbdl09bFtnKytdKSxwPj4+PTE7cmV0dXJuIHVbb109ZCx7dHlwZTo0LHNpemU6ZysxLGNoaWxkcmVuOnV9fWUudG9BcnJheU5vZGU9bn0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvTGVhZk5vZGUvTGVhZk5vZGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tb2RpZnlMZWFmPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvY29uc3RhbnRzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0VtcHR5Tm9kZS5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9jb21iaW5lTGVhZk5vZGVzLmpzIik7ZnVuY3Rpb24gbCh1LHAsZyx2LGIsXyl7aWYoYj09PXUua2V5KXtjb25zdCBUPWcodS52YWx1ZSk7cmV0dXJuIFQ9PT11LnZhbHVlP3U6VD09PW8uTk9USElORz8oLS1fLnZhbHVlLCgwLGQuZW1wdHkpKCkpOnt0eXBlOjEsaGFzaDp2LGtleTpiLHZhbHVlOlR9fWNvbnN0IE89ZygpO3JldHVybiBPPT09by5OT1RISU5HP3U6KCsrXy52YWx1ZSwoMCxoLmNvbWJpbmVMZWFmTm9kZXMpKHAsdS5oYXNoLHUsdix7dHlwZToxLGhhc2g6dixrZXk6Yix2YWx1ZTpPfSkpfWUubW9kaWZ5TGVhZj1sfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9jb21iaW5lTGVhZk5vZGVzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuY29tYmluZUxlYWZOb2Rlcz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9pbmRleC5qcyIpO2Z1bmN0aW9uIGQoaCxsLHUscCxnKXtpZihsPT09cClyZXR1cm57dHlwZToyLGhhc2g6bCxjaGlsZHJlbjpbZyx1XX07Y29uc3Qgdj0oMCxvLmhhc2hGcmFnbWVudCkoaCxsKSxiPSgwLG8uaGFzaEZyYWdtZW50KShoLHApO3JldHVybnt0eXBlOjMsbWFzazooMCxvLnRvQml0bWFwKSh2KXwoMCxvLnRvQml0bWFwKShiKSxjaGlsZHJlbjp2PT09Yj9bZChoK28uU0laRSxsLHUscCxnKV06djxiP1t1LGddOltnLHVdfX1lLmNvbWJpbmVMZWFmTm9kZXM9ZH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvTGVhZk5vZGUvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0xlYWZOb2RlL0xlYWZOb2RlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0xlYWZOb2RlL2NvbWJpbmVMZWFmTm9kZXMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvY29uc3RhbnRzLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk5PVEhJTkc9dm9pZCAwLGUuTk9USElORz1PYmplY3QuY3JlYXRlKG51bGwpfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvdHlwZXMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvY29uc3RhbnRzLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0VtcHR5Tm9kZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9BcnJheU5vZGUvaW5kZXguanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQ29sbGlzaW9uTm9kZS9pbmRleC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9JbmRleGVkTm9kZS9pbmRleC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9pbmRleC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9tb2RpZnkuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvbW9kaWZ5LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUubW9kaWZ5PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvTGVhZk5vZGUvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvRW1wdHlOb2RlLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0FycmF5Tm9kZS9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9JbmRleGVkTm9kZS9pbmRleC5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9Db2xsaXNpb25Ob2RlL2luZGV4LmpzIik7ZnVuY3Rpb24gcChnLHYsYixfLE8sVCl7c3dpdGNoKGcudHlwZSl7Y2FzZSAxOnJldHVybigwLG8ubW9kaWZ5TGVhZikoZyx2LGIsXyxPLFQpO2Nhc2UgMDpyZXR1cm4oMCxkLm1vZGlmeUVtcHR5KShnLHYsYixfLE8sVCk7Y2FzZSA0OnJldHVybigwLGgubW9kaWZ5TGlzdE5vZGUpKGcsdixiLF8sTyxUKTtjYXNlIDM6cmV0dXJuKDAsbC5tb2RpZnlJbmRleGVkTm9kZSkoZyx2LGIsXyxPLFQpO2Nhc2UgMjpyZXR1cm4oMCx1Lm1vZGlmeUNvbGxpc2lvbk5vZGUpKGcsdixiLF8sTyxUKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigibmV2ZXIiKX19ZS5tb2RpZnk9cH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvdHlwZXMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL3V1aWQtcmFuZG9tL2luZGV4LmpzIjoodCxlLG4pPT57KGZ1bmN0aW9uKCl7dmFyIG8sZD0wLGg9W10sbDtmb3IobD0wO2w8MjU2O2wrKyloW2xdPShsKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKTt2LkJVRkZFUl9TSVpFPTQwOTYsdi5iaW49Zyx2LmNsZWFyQnVmZmVyPWZ1bmN0aW9uKCl7bz1udWxsLGQ9MH0sdi50ZXN0PWZ1bmN0aW9uKGIpe3JldHVybiB0eXBlb2YgYj09InN0cmluZyI/L15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS00WzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QoYik6ITF9O3ZhciB1O3R5cGVvZiBjcnlwdG88InUiP3U9Y3J5cHRvOnR5cGVvZiB3aW5kb3c8InUiJiZ0eXBlb2Ygd2luZG93Lm1zQ3J5cHRvPCJ1IiYmKHU9d2luZG93Lm1zQ3J5cHRvKSx1PXV8fG4oIj82OTlkIiksdC5leHBvcnRzPXYsdi5yYW5kb21CeXRlcz1mdW5jdGlvbigpe2lmKHUpe2lmKHUucmFuZG9tQnl0ZXMpcmV0dXJuIHUucmFuZG9tQnl0ZXM7aWYodS5nZXRSYW5kb21WYWx1ZXMpcmV0dXJuIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5zbGljZSE9ImZ1bmN0aW9uIj9mdW5jdGlvbihiKXt2YXIgXz1uZXcgVWludDhBcnJheShiKTtyZXR1cm4gdS5nZXRSYW5kb21WYWx1ZXMoXyksQXJyYXkuZnJvbShfKX06ZnVuY3Rpb24oYil7dmFyIF89bmV3IFVpbnQ4QXJyYXkoYik7cmV0dXJuIHUuZ2V0UmFuZG9tVmFsdWVzKF8pLF99fXJldHVybiBmdW5jdGlvbihiKXt2YXIgXyxPPVtdO2ZvcihfPTA7XzxiO18rKylPLnB1c2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjI1NikpO3JldHVybiBPfX0oKTtmdW5jdGlvbiBwKGIpe3JldHVybighb3x8ZCtiPnYuQlVGRkVSX1NJWkUpJiYoZD0wLG89di5yYW5kb21CeXRlcyh2LkJVRkZFUl9TSVpFKSksby5zbGljZShkLGQrPWIpfWZ1bmN0aW9uIGcoKXt2YXIgYj1wKDE2KTtyZXR1cm4gYls2XT1iWzZdJjE1fDY0LGJbOF09Yls4XSY2M3wxMjgsYn1mdW5jdGlvbiB2KCl7dmFyIGI9ZygpO3JldHVybiBoW2JbMF1dK2hbYlsxXV0raFtiWzJdXStoW2JbM11dKyItIitoW2JbNF1dK2hbYls1XV0rIi0iK2hbYls2XV0raFtiWzddXSsiLSIraFtiWzhdXStoW2JbOV1dKyItIitoW2JbMTBdXStoW2JbMTFdXStoW2JbMTJdXStoW2JbMTNdXStoW2JbMTRdXStoW2JbMTVdXX19KSgpfSwiLi4vbm9kZV9tb2R1bGVzL3lhbGxpc3QvaXRlcmF0b3IuanMiOnQ9Pnt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbiooKXtmb3IobGV0IG49dGhpcy5oZWFkO247bj1uLm5leHQpeWllbGQgbi52YWx1ZX19fSwiLi4vbm9kZV9tb2R1bGVzL3lhbGxpc3QveWFsbGlzdC5qcyI6KHQsZSxuKT0+e3QuZXhwb3J0cz1vLG8uTm9kZT11LG8uY3JlYXRlPW87ZnVuY3Rpb24gbyhwKXt2YXIgZz10aGlzO2lmKGcgaW5zdGFuY2VvZiBvfHwoZz1uZXcgbyksZy50YWlsPW51bGwsZy5oZWFkPW51bGwsZy5sZW5ndGg9MCxwJiZ0eXBlb2YgcC5mb3JFYWNoPT0iZnVuY3Rpb24iKXAuZm9yRWFjaChmdW5jdGlvbihfKXtnLnB1c2goXyl9KTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGg+MClmb3IodmFyIHY9MCxiPWFyZ3VtZW50cy5sZW5ndGg7djxiO3YrKylnLnB1c2goYXJndW1lbnRzW3ZdKTtyZXR1cm4gZ31vLnByb3RvdHlwZS5yZW1vdmVOb2RlPWZ1bmN0aW9uKHApe2lmKHAubGlzdCE9PXRoaXMpdGhyb3cgbmV3IEVycm9yKCJyZW1vdmluZyBub2RlIHdoaWNoIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIGxpc3QiKTt2YXIgZz1wLm5leHQsdj1wLnByZXY7cmV0dXJuIGcmJihnLnByZXY9diksdiYmKHYubmV4dD1nKSxwPT09dGhpcy5oZWFkJiYodGhpcy5oZWFkPWcpLHA9PT10aGlzLnRhaWwmJih0aGlzLnRhaWw9dikscC5saXN0Lmxlbmd0aC0tLHAubmV4dD1udWxsLHAucHJldj1udWxsLHAubGlzdD1udWxsLGd9LG8ucHJvdG90eXBlLnVuc2hpZnROb2RlPWZ1bmN0aW9uKHApe2lmKHAhPT10aGlzLmhlYWQpe3AubGlzdCYmcC5saXN0LnJlbW92ZU5vZGUocCk7dmFyIGc9dGhpcy5oZWFkO3AubGlzdD10aGlzLHAubmV4dD1nLGcmJihnLnByZXY9cCksdGhpcy5oZWFkPXAsdGhpcy50YWlsfHwodGhpcy50YWlsPXApLHRoaXMubGVuZ3RoKyt9fSxvLnByb3RvdHlwZS5wdXNoTm9kZT1mdW5jdGlvbihwKXtpZihwIT09dGhpcy50YWlsKXtwLmxpc3QmJnAubGlzdC5yZW1vdmVOb2RlKHApO3ZhciBnPXRoaXMudGFpbDtwLmxpc3Q9dGhpcyxwLnByZXY9ZyxnJiYoZy5uZXh0PXApLHRoaXMudGFpbD1wLHRoaXMuaGVhZHx8KHRoaXMuaGVhZD1wKSx0aGlzLmxlbmd0aCsrfX0sby5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcD0wLGc9YXJndW1lbnRzLmxlbmd0aDtwPGc7cCsrKWgodGhpcyxhcmd1bWVudHNbcF0pO3JldHVybiB0aGlzLmxlbmd0aH0sby5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe2Zvcih2YXIgcD0wLGc9YXJndW1lbnRzLmxlbmd0aDtwPGc7cCsrKWwodGhpcyxhcmd1bWVudHNbcF0pO3JldHVybiB0aGlzLmxlbmd0aH0sby5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7aWYodGhpcy50YWlsKXt2YXIgcD10aGlzLnRhaWwudmFsdWU7cmV0dXJuIHRoaXMudGFpbD10aGlzLnRhaWwucHJldix0aGlzLnRhaWw/dGhpcy50YWlsLm5leHQ9bnVsbDp0aGlzLmhlYWQ9bnVsbCx0aGlzLmxlbmd0aC0tLHB9fSxvLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMuaGVhZCl7dmFyIHA9dGhpcy5oZWFkLnZhbHVlO3JldHVybiB0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsdGhpcy5oZWFkP3RoaXMuaGVhZC5wcmV2PW51bGw6dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGgtLSxwfX0sby5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihwLGcpe2c9Z3x8dGhpcztmb3IodmFyIHY9dGhpcy5oZWFkLGI9MDt2IT09bnVsbDtiKyspcC5jYWxsKGcsdi52YWx1ZSxiLHRoaXMpLHY9di5uZXh0fSxvLnByb3RvdHlwZS5mb3JFYWNoUmV2ZXJzZT1mdW5jdGlvbihwLGcpe2c9Z3x8dGhpcztmb3IodmFyIHY9dGhpcy50YWlsLGI9dGhpcy5sZW5ndGgtMTt2IT09bnVsbDtiLS0pcC5jYWxsKGcsdi52YWx1ZSxiLHRoaXMpLHY9di5wcmV2fSxvLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24ocCl7Zm9yKHZhciBnPTAsdj10aGlzLmhlYWQ7diE9PW51bGwmJmc8cDtnKyspdj12Lm5leHQ7aWYoZz09PXAmJnYhPT1udWxsKXJldHVybiB2LnZhbHVlfSxvLnByb3RvdHlwZS5nZXRSZXZlcnNlPWZ1bmN0aW9uKHApe2Zvcih2YXIgZz0wLHY9dGhpcy50YWlsO3YhPT1udWxsJiZnPHA7ZysrKXY9di5wcmV2O2lmKGc9PT1wJiZ2IT09bnVsbClyZXR1cm4gdi52YWx1ZX0sby5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHAsZyl7Zz1nfHx0aGlzO2Zvcih2YXIgdj1uZXcgbyxiPXRoaXMuaGVhZDtiIT09bnVsbDspdi5wdXNoKHAuY2FsbChnLGIudmFsdWUsdGhpcykpLGI9Yi5uZXh0O3JldHVybiB2fSxvLnByb3RvdHlwZS5tYXBSZXZlcnNlPWZ1bmN0aW9uKHAsZyl7Zz1nfHx0aGlzO2Zvcih2YXIgdj1uZXcgbyxiPXRoaXMudGFpbDtiIT09bnVsbDspdi5wdXNoKHAuY2FsbChnLGIudmFsdWUsdGhpcykpLGI9Yi5wcmV2O3JldHVybiB2fSxvLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24ocCxnKXt2YXIgdixiPXRoaXMuaGVhZDtpZihhcmd1bWVudHMubGVuZ3RoPjEpdj1nO2Vsc2UgaWYodGhpcy5oZWFkKWI9dGhpcy5oZWFkLm5leHQsdj10aGlzLmhlYWQudmFsdWU7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgbGlzdCB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTtmb3IodmFyIF89MDtiIT09bnVsbDtfKyspdj1wKHYsYi52YWx1ZSxfKSxiPWIubmV4dDtyZXR1cm4gdn0sby5wcm90b3R5cGUucmVkdWNlUmV2ZXJzZT1mdW5jdGlvbihwLGcpe3ZhciB2LGI9dGhpcy50YWlsO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl2PWc7ZWxzZSBpZih0aGlzLnRhaWwpYj10aGlzLnRhaWwucHJldix2PXRoaXMudGFpbC52YWx1ZTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBsaXN0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpO2Zvcih2YXIgXz10aGlzLmxlbmd0aC0xO2IhPT1udWxsO18tLSl2PXAodixiLnZhbHVlLF8pLGI9Yi5wcmV2O3JldHVybiB2fSxvLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciBwPW5ldyBBcnJheSh0aGlzLmxlbmd0aCksZz0wLHY9dGhpcy5oZWFkO3YhPT1udWxsO2crKylwW2ddPXYudmFsdWUsdj12Lm5leHQ7cmV0dXJuIHB9LG8ucHJvdG90eXBlLnRvQXJyYXlSZXZlcnNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBwPW5ldyBBcnJheSh0aGlzLmxlbmd0aCksZz0wLHY9dGhpcy50YWlsO3YhPT1udWxsO2crKylwW2ddPXYudmFsdWUsdj12LnByZXY7cmV0dXJuIHB9LG8ucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHAsZyl7Zz1nfHx0aGlzLmxlbmd0aCxnPDAmJihnKz10aGlzLmxlbmd0aCkscD1wfHwwLHA8MCYmKHArPXRoaXMubGVuZ3RoKTt2YXIgdj1uZXcgbztpZihnPHB8fGc8MClyZXR1cm4gdjtwPDAmJihwPTApLGc+dGhpcy5sZW5ndGgmJihnPXRoaXMubGVuZ3RoKTtmb3IodmFyIGI9MCxfPXRoaXMuaGVhZDtfIT09bnVsbCYmYjxwO2IrKylfPV8ubmV4dDtmb3IoO18hPT1udWxsJiZiPGc7YisrLF89Xy5uZXh0KXYucHVzaChfLnZhbHVlKTtyZXR1cm4gdn0sby5wcm90b3R5cGUuc2xpY2VSZXZlcnNlPWZ1bmN0aW9uKHAsZyl7Zz1nfHx0aGlzLmxlbmd0aCxnPDAmJihnKz10aGlzLmxlbmd0aCkscD1wfHwwLHA8MCYmKHArPXRoaXMubGVuZ3RoKTt2YXIgdj1uZXcgbztpZihnPHB8fGc8MClyZXR1cm4gdjtwPDAmJihwPTApLGc+dGhpcy5sZW5ndGgmJihnPXRoaXMubGVuZ3RoKTtmb3IodmFyIGI9dGhpcy5sZW5ndGgsXz10aGlzLnRhaWw7XyE9PW51bGwmJmI+ZztiLS0pXz1fLnByZXY7Zm9yKDtfIT09bnVsbCYmYj5wO2ItLSxfPV8ucHJldil2LnB1c2goXy52YWx1ZSk7cmV0dXJuIHZ9LG8ucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihwLGcsLi4udil7cD50aGlzLmxlbmd0aCYmKHA9dGhpcy5sZW5ndGgtMSkscDwwJiYocD10aGlzLmxlbmd0aCtwKTtmb3IodmFyIGI9MCxfPXRoaXMuaGVhZDtfIT09bnVsbCYmYjxwO2IrKylfPV8ubmV4dDtmb3IodmFyIE89W10sYj0wO18mJmI8ZztiKyspTy5wdXNoKF8udmFsdWUpLF89dGhpcy5yZW1vdmVOb2RlKF8pO189PT1udWxsJiYoXz10aGlzLnRhaWwpLF8hPT10aGlzLmhlYWQmJl8hPT10aGlzLnRhaWwmJihfPV8ucHJldik7Zm9yKHZhciBiPTA7Yjx2Lmxlbmd0aDtiKyspXz1kKHRoaXMsXyx2W2JdKTtyZXR1cm4gT30sby5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgcD10aGlzLmhlYWQsZz10aGlzLnRhaWwsdj1wO3YhPT1udWxsO3Y9di5wcmV2KXt2YXIgYj12LnByZXY7di5wcmV2PXYubmV4dCx2Lm5leHQ9Yn1yZXR1cm4gdGhpcy5oZWFkPWcsdGhpcy50YWlsPXAsdGhpc307ZnVuY3Rpb24gZChwLGcsdil7dmFyIGI9Zz09PXAuaGVhZD9uZXcgdSh2LG51bGwsZyxwKTpuZXcgdSh2LGcsZy5uZXh0LHApO3JldHVybiBiLm5leHQ9PT1udWxsJiYocC50YWlsPWIpLGIucHJldj09PW51bGwmJihwLmhlYWQ9YikscC5sZW5ndGgrKyxifWZ1bmN0aW9uIGgocCxnKXtwLnRhaWw9bmV3IHUoZyxwLnRhaWwsbnVsbCxwKSxwLmhlYWR8fChwLmhlYWQ9cC50YWlsKSxwLmxlbmd0aCsrfWZ1bmN0aW9uIGwocCxnKXtwLmhlYWQ9bmV3IHUoZyxudWxsLHAuaGVhZCxwKSxwLnRhaWx8fChwLnRhaWw9cC5oZWFkKSxwLmxlbmd0aCsrfWZ1bmN0aW9uIHUocCxnLHYsYil7aWYoISh0aGlzIGluc3RhbmNlb2YgdSkpcmV0dXJuIG5ldyB1KHAsZyx2LGIpO3RoaXMubGlzdD1iLHRoaXMudmFsdWU9cCxnPyhnLm5leHQ9dGhpcyx0aGlzLnByZXY9Zyk6dGhpcy5wcmV2PW51bGwsdj8odi5wcmV2PXRoaXMsdGhpcy5uZXh0PXYpOnRoaXMubmV4dD1udWxsfXRyeXtuKCIuLi9ub2RlX21vZHVsZXMveWFsbGlzdC9pdGVyYXRvci5qcyIpKG8pfWNhdGNoe319LCIuLi9wYWNrYWdlcy9pbW11dGFibGUvZGlzdC9NYXAuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NYXA9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2hhcy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2dldC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3NldC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2ZvckVhY2guanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9tYXAuanMiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9maWx0ZXIuanMiKSxnPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9yZW1vdmUuanMiKSx2PW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9lbnRyaWVzLmpzIiksYj1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvdmFsdWVzLmpzIiksXz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAva2V5cy5qcyIpLE89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3NpemUuanMiKTtjbGFzcyBUe2hhc2htYXA7Y29uc3RydWN0b3IoTil7dGhpcy5oYXNobWFwPU59Z2V0IHNpemUoKXtyZXR1cm4oMCxPLnNpemUpKHRoaXMuaGFzaG1hcCl9c2V0KE4sQil7cmV0dXJuIG5ldyBUKCgwLGguc2V0KShOLEIsdGhpcy5oYXNobWFwKSl9ZGVsZXRlKE4pe3JldHVybiBuZXcgVCgoMCxnLnJlbW92ZSkoTix0aGlzLmhhc2htYXApKX1nZXQoTil7cmV0dXJuKDAsZC5nZXQpKE4sdGhpcy5oYXNobWFwKX1oYXMoTil7cmV0dXJuKDAsby5oYXMpKE4sdGhpcy5oYXNobWFwKX1mb3JFYWNoKE4peygwLGwuZm9yRWFjaCkoTix0aGlzLmhhc2htYXApfW1hcChOKXtyZXR1cm4gbmV3IFQoKDAsdS5tYXApKE4sdGhpcy5oYXNobWFwKSl9ZmlsdGVyKE4pe3JldHVybiBuZXcgVCgoMCxwLmZpbHRlcikoTix0aGlzLmhhc2htYXApKX10b0pTKCl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyh0aGlzKX10b0pTT04oKXtyZXR1cm4gdGhpcy50b0pTKCl9a2V5cygpe3JldHVybigwLF8ua2V5cykodGhpcy5oYXNobWFwKX12YWx1ZXMoKXtyZXR1cm4oMCxiLnZhbHVlcykodGhpcy5oYXNobWFwKX1lbnRyaWVzKCl7cmV0dXJuKDAsdi5lbnRyaWVzKSh0aGlzLmhhc2htYXApfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfX1lLk1hcD1UfSwiLi4vcGFja2FnZXMvaW1tdXRhYmxlL2Rpc3QvaW5kZXguanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NYXA9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2VtcHR5LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZnJvbS5qcyIpLGg9bigiLi4vcGFja2FnZXMvaW1tdXRhYmxlL2Rpc3QvTWFwLmpzIiksbD1wPT5TeW1ib2wuaXRlcmF0b3IgaW4gcDtmdW5jdGlvbiB1KHApe3JldHVybiBwP2wocCk/bmV3IGguTWFwKCgwLGQuZnJvbUl0ZXJhYmxlKShwKSk6bmV3IGguTWFwKCgwLGQuZnJvbU9iamVjdCkocCkpOm5ldyBoLk1hcCgoMCxvLmVtcHR5KSgpKX1lLk1hcD11fSwiLi4vcGFja2FnZXMvdXVpZC9kaXN0L2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKGgpe3JldHVybiBoJiZoLl9fZXNNb2R1bGU/aDp7ZGVmYXVsdDpofX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUudjQ9dm9pZCAwO2NvbnN0IGQ9byhuKCIuLi9ub2RlX21vZHVsZXMvdXVpZC1yYW5kb20vaW5kZXguanMiKSk7ZS52ND1kLmRlZmF1bHR9LGFzeW5jaXRlcmF0b3I6dD0+e3QuZXhwb3J0cz1fX1FVQURTVE9SRV9DT01VTklDQV9FWFRFUk5BTF9NT0RVTEVfYXN5bmNpdGVyYXRvcl9ffSxzcGFycWxhbGdlYnJhanM6dD0+e3QuZXhwb3J0cz1fX1FVQURTVE9SRV9DT01VTklDQV9FWFRFUk5BTF9NT0RVTEVfc3BhcnFsYWxnZWJyYWpzX199LHNwYXJxbGpzOnQ9Pnt0LmV4cG9ydHM9X19RVUFEU1RPUkVfQ09NVU5JQ0FfRVhURVJOQUxfTU9EVUxFX3NwYXJxbGpzX199LCI/Njk5ZCI6KCk9Pnt9LCIuL3JlcXVpcmUtZW1wdHkuanMiOigpPT57fSwiLi9zcmMvY3J5cHRvLXBvbHlmaWxsLmpzIjooX191bnVzZWRfd2VicGFja19tb2R1bGUsX191bnVzZWRfd2VicGFja19leHBvcnRzLF9fcXVhZHN0b3JlX2NvbXVuaWNhX3JlcXVpcmVfXyk9Pntjb25zdCBpc05vZGU9dHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLnZlcnNpb25zIT1udWxsJiZwcm9jZXNzLnZlcnNpb25zLm5vZGUhPW51bGwscG9seWZpbGxDcnlwdG89KHtyYW5kb21GaWxsU3luYzp0fSk9PntfX3F1YWRzdG9yZV9jb211bmljYV9yZXF1aXJlX18uZy5jcnlwdG89e30sX19xdWFkc3RvcmVfY29tdW5pY2FfcmVxdWlyZV9fLmcuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz1lPT4odChlKSxlKX07aXNOb2RlJiZ0eXBlb2YgY3J5cHRvPiJ1IiYmKGV2YWwoInR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nIik/cG9seWZpbGxDcnlwdG8oZXZhbCgicmVxdWlyZSgnY3J5cHRvJyk7IikpOmV2YWwoImltcG9ydCgnY3J5cHRvJyk7IikudGhlbihwb2x5ZmlsbENyeXB0bykuY2F0Y2godD0+e2NvbnNvbGUuZXJyb3IodCkscHJvY2Vzcy5leGl0KDEpfSkpfSwiLi9zcmMvZW5naW5lLmpzIjoodCxlLG4pPT57Y29uc3Qgbz1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9sb2dnZXItdm9pZC9saWIvaW5kZXguanMiKSkuTG9nZ2VyVm9pZCxkPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIikpLkJ1cyh7bmFtZToiaHR0cHM6Ly9saW5rZWRzb2Z0d2FyZWRlcGVuZGVuY2llcy5vcmcvYnVuZGxlcy9ucG0vQGNvbXVuaWNhL2J1cy1pbml0L14yLjAuMC9jb21wb25lbnRzL0FjdG9ySW5pdC5qc29ubGQjQWN0b3JJbml0X2RlZmF1bHRfYnVzIn0pLGg9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLWNvbnRleHQtcHJlcHJvY2Vzcy9eMi4wLjAvY29tcG9uZW50cy9BY3RvckNvbnRleHRQcmVwcm9jZXNzLmpzb25sZCNBY3RvckNvbnRleHRQcmVwcm9jZXNzX2RlZmF1bHRfYnVzIn0pLGw9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLWhhc2gtYmluZGluZ3MvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JIYXNoQmluZGluZ3MuanNvbmxkI0FjdG9ySGFzaEJpbmRpbmdzX2RlZmF1bHRfYnVzIn0pLHU9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9eMi4wLjAvY29tcG9uZW50cy9BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb24uanNvbmxkI0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbl9kZWZhdWx0X2J1cyJ9KSxwPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIikpLkJ1c1F1ZXJ5T3BlcmF0aW9uKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9eMi4wLjAvY29tcG9uZW50cy9BY3RvclF1ZXJ5T3BlcmF0aW9uLmpzb25sZCNBY3RvclF1ZXJ5T3BlcmF0aW9uX2RlZmF1bHRfYnVzIn0pLGc9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLXF1ZXJ5LXBhcnNlL14yLjAuMC9jb21wb25lbnRzL0FjdG9yUXVlcnlQYXJzZS5qc29ubGQjQWN0b3JRdWVyeVBhcnNlX2RlZmF1bHRfYnVzIn0pLHY9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLXF1ZXJ5LXJlc3VsdC1zZXJpYWxpemUvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JRdWVyeVJlc3VsdFNlcmlhbGl6ZS5qc29ubGQjQWN0b3JRdWVyeVJlc3VsdFNlcmlhbGl6ZV9kZWZhdWx0X2J1cyJ9KSxiPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIikpLkJ1cyh7bmFtZToiaHR0cHM6Ly9saW5rZWRzb2Z0d2FyZWRlcGVuZGVuY2llcy5vcmcvYnVuZGxlcy9ucG0vQGNvbXVuaWNhL2J1cy1odHRwLWludmFsaWRhdGUvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JIdHRwSW52YWxpZGF0ZS5qc29ubGQjQWN0b3JIdHRwSW52YWxpZGF0ZV9kZWZhdWx0X2J1cyJ9KSxfPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIikpLkJ1cyh7bmFtZToiaHR0cHM6Ly9saW5rZWRzb2Z0d2FyZWRlcGVuZGVuY2llcy5vcmcvYnVuZGxlcy9ucG0vQGNvbXVuaWNhL2J1cy1yZGYtam9pbi1lbnRyaWVzLXNvcnQvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JSZGZKb2luRW50cmllc1NvcnQuanNvbmxkI0FjdG9yUmRmSm9pbkVudHJpZXNTb3J0X2RlZmF1bHRfYnVzIn0pLE89bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLXJkZi1qb2luLXNlbGVjdGl2aXR5L14yLjAuMC9jb21wb25lbnRzL0FjdG9yUmRmSm9pblNlbGVjdGl2aXR5Lmpzb25sZCNBY3RvclJkZkpvaW5TZWxlY3Rpdml0eV9kZWZhdWx0X2J1cyJ9KSxUPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIikpLkJ1cyh7bmFtZToiaHR0cHM6Ly9saW5rZWRzb2Z0d2FyZWRlcGVuZGVuY2llcy5vcmcvYnVuZGxlcy9ucG0vQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL14yLjAuMC9jb21wb25lbnRzL0FjdG9yUmRmVXBkYXRlUXVhZHMuanNvbmxkI0FjdG9yUmRmVXBkYXRlUXVhZHNfZGVmYXVsdF9idXMifSksaj1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtcmRmLWpvaW4vXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JSZGZKb2luLmpzb25sZCNBY3RvclJkZkpvaW5fZGVmYXVsdF9idXMifSksTj1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL14yLjAuMC9jb21wb25lbnRzL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLmpzb25sZCNBY3RvclJkZlJlc29sdmVRdWFkUGF0dGVybl9kZWZhdWx0X2J1cyJ9KTtuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1jb250ZXh0LXByZXByb2Nlc3Mtc291cmNlLXRvLWRlc3RpbmF0aW9uL2xpYi9pbmRleC5qcyIpKS5BY3RvckNvbnRleHRQcmVwcm9jZXNzU291cmNlVG9EZXN0aW5hdGlvbih7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6Y29udGV4dC1wcmVwcm9jZXNzL2FjdG9ycyNzb3VyY2UtdG8tZGVzdGluYXRpb24iLGJ1czpofSk7Y29uc3QgQj1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXBpcGVsaW5lL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvckNvbWJpbmVQaXBlbGluZSh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6Y29udGV4dC1wcmVwcm9jZXNzL21lZGlhdG9ycyNtYWluIixidXM6aH0pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWhhc2gtYmluZGluZ3Mtc2hhMS9saWIvaW5kZXguanMiKSkuQWN0b3JIYXNoQmluZGluZ3NTaGExKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpoYXNoLWJpbmRpbmdzL2FjdG9ycyNzaGExIixidXM6bH0pO2NvbnN0IEM9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JSYWNlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpoYXNoLWJpbmRpbmdzL21lZGlhdG9ycyNtYWluIixidXM6bH0pLEw9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItY29tYmluZS1waXBlbGluZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JDb21iaW5lUGlwZWxpbmUoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Om9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9tZWRpYXRvcnMjbWFpbiIsYnVzOnV9KTtuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1iZ3AvbGliL2luZGV4LmpzIikpLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5CZ3Aoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Om9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjam9pbi1iZ3AiLGJ1czp1fSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3Itb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uLWJncC10by1qb2luL2xpYi9pbmRleC5qcyIpKS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25CZ3BUb0pvaW4oe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Om9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjYmdwLXRvLWpvaW4iLGJ1czp1fSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3Itb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uLWpvaW4tY29ubmVjdGVkL2xpYi9pbmRleC5qcyIpKS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQ29ubmVjdGVkKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpvcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24vYWN0b3JzI2pvaW4tY29ubmVjdGVkIixidXM6dX0pO2NvbnN0IFM9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItbnVtYmVyL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvck51bWJlcih7ZmllbGQ6Imh0dHBSZXF1ZXN0cyIsdHlwZToibWluIixpZ25vcmVFcnJvcnM6ITAsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL21lZGlhdG9ycyNtYWluIixidXM6cH0pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi12YWx1ZXMvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25WYWx1ZXMoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdmFsdWVzIixidXM6cH0pO2NvbnN0IFA9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JSYWNlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1wYXJzZS9tZWRpYXRvcnMjbWFpbiIsYnVzOmd9KTtuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1wYXJzZS1zcGFycWwvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlQYXJzZVNwYXJxbCh7cHJlZml4ZXM6e2RicGVkaWE6Imh0dHA6Ly9kYnBlZGlhLm9yZy9yZXNvdXJjZS8iLCJkYnBlZGlhLW93bCI6Imh0dHA6Ly9kYnBlZGlhLm9yZy9vbnRvbG9neS8iLGRicHByb3A6Imh0dHA6Ly9kYnBlZGlhLm9yZy9wcm9wZXJ0eS8iLGRjOiJodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvIixkYzExOiJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIsZGN0ZXJtczoiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zLyIsZm9hZjoiaHR0cDovL3htbG5zLmNvbS9mb2FmLzAuMS8iLGdlbzoiaHR0cDovL3d3dy53My5vcmcvMjAwMy8wMS9nZW8vd2dzODRfcG9zIyIsb3dsOiJodHRwOi8vd3d3LnczLm9yZy8yMDAyLzA3L293bCMiLHJkZjoiaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIscmRmczoiaHR0cDovL3d3dy53My5vcmcvMjAwMC8wMS9yZGYtc2NoZW1hIyIsc2NoZW1hOiJodHRwOi8vc2NoZW1hLm9yZy8iLHNrb3M6Imh0dHA6Ly93d3cudzMub3JnLzIwMDgvMDUvc2tvcyMiLHhzZDoiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjIn0sbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktcGFyc2UvYWN0b3JzI3NwYXJxbCIsYnVzOmd9KTtjb25zdCBGPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLXJhY2UvbGliL2luZGV4LmpzIikpLk1lZGlhdG9yUmFjZSh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktcmVzdWx0LXNlcmlhbGl6ZS9tZWRpYXRvcnMjc2VyaWFsaXplIixidXM6dn0pLGs9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItY29tYmluZS11bmlvbi9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JDb21iaW5lVW5pb24oe2ZpZWxkOiJtZWRpYVR5cGVzIixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1yZXN1bHQtc2VyaWFsaXplL21lZGlhdG9ycyNtZWRpYVR5cGUiLGJ1czp2fSksSj1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXVuaW9uL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvckNvbWJpbmVVbmlvbih7ZmllbGQ6Im1lZGlhVHlwZUZvcm1hdHMiLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LXJlc3VsdC1zZXJpYWxpemUvbWVkaWF0b3JzI21lZGlhVHlwZUZvcm1hdCIsYnVzOnZ9KSxhZT1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1hbGwvbGliL2luZGV4LmpzIikpLk1lZGlhdG9yQWxsKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpodHRwLWludmFsaWRhdGUvbWVkaWF0b3JzI21haW4iLGJ1czpifSk7bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tZW50cmllcy1zb3J0LWNhcmRpbmFsaXR5L2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZkpvaW5FbnRyaWVzU29ydENhcmRpbmFsaXR5KHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi1lbnRyaWVzLXNvcnQvYWN0b3JzI2NhcmRpbmFsaXR5IixidXM6X30pO2NvbnN0IHE9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JSYWNlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi1lbnRyaWVzLXNvcnQvbWVkaWF0b3JzI21haW4iLGJ1czpffSk7bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tc2VsZWN0aXZpdHktdmFyaWFibGUtY291bnRpbmcvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pblNlbGVjdGl2aXR5VmFyaWFibGVDb3VudGluZyh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4tc2VsZWN0aXZpdHkvYWN0b3JzI3ZhcmlhYmxlLWNvdW50aW5nIixidXM6T30pO2NvbnN0IEc9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItbnVtYmVyL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvck51bWJlcih7ZmllbGQ6ImFjY3VyYWN5Iix0eXBlOiJtYXgiLGlnbm9yZUVycm9yczohMCxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi1zZWxlY3Rpdml0eS9tZWRpYXRvcnMjbWFpbiIsYnVzOk99KTtuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtdXBkYXRlLXF1YWRzLXJkZmpzLXN0b3JlL2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZlVwZGF0ZVF1YWRzUmRmSnNTdG9yZSh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLXVwZGF0ZS1xdWFkcy9hY3RvcnMjcmRmanMtc3RvcmUiLGJ1czpUfSk7Y29uc3QgcmU9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JSYWNlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtdXBkYXRlLXF1YWRzL21lZGlhdG9ycyNtYWluIixidXM6VH0pLE09bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3Itam9pbi1jb2VmZmljaWVudHMtZml4ZWQvbGliL2luZGV4LmpzIikpLk1lZGlhdG9ySm9pbkNvZWZmaWNpZW50c0ZpeGVkKHtjcHVXZWlnaHQ6MSxtZW1vcnlXZWlnaHQ6MSx0aW1lV2VpZ2h0OjEwLGlvV2VpZ2h0OjEwMCxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9tZWRpYXRvcnMjbWFpbiIsYnVzOmp9KSwkPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLXJhY2UvbGliL2luZGV4LmpzIikpLk1lZGlhdG9yUmFjZSh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL21lZGlhdG9ycyNtYWluIixidXM6Tn0pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1yZGZqcy1zb3VyY2UvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuUmRmSnNTb3VyY2Uoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9hY3RvcnMjcmRmanMtc291cmNlIixidXM6Tn0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1hc2svbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Bc2soe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2FzayIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tYmdwLWpvaW4vbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25CZ3BKb2luKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNiZ3AiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkNvbnN0cnVjdCh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjY29uc3RydWN0IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kZXNjcmliZS1zdWJqZWN0L2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uRGVzY3JpYmVTdWJqZWN0KHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNkZXNjcmliZSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGlzdGluY3QtaGFzaC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkRpc3RpbmN0SGFzaCh7bWVkaWF0b3JIYXNoQmluZGluZ3M6QyxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNkaXN0aW5jdCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZXh0ZW5kL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uRXh0ZW5kKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNleHRlbmQiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWZpbHRlci1zcGFycWxlZS9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkZpbHRlclNwYXJxbGVlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNmaWx0ZXIiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWZyb20tcXVhZC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkZyb21RdWFkKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNmcm9tIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ncm91cC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkdyb3VwKHttZWRpYXRvckhhc2hCaW5kaW5nczpDLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2dyb3VwIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1vcmRlcmJ5LXNwYXJxbGVlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uT3JkZXJCeVNwYXJxbGVlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNvcmRlcmJ5IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ub3AvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Ob3Aoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI25vcCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcHJvamVjdC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblByb2plY3Qoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3Byb2plY3QiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXJlZHVjZWQtaGFzaC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblJlZHVjZWRIYXNoKHttZWRpYXRvckhhc2hCaW5kaW5nczpDLGNhY2hlU2l6ZToxMDAsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcmVkdWNlZCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2VydmljZS9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblNlcnZpY2Uoe2ZvcmNlU3BhcnFsRW5kcG9pbnQ6ITEsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjc2VydmljZSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2xpY2UvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25TbGljZSh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjc2xpY2UiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVuaW9uL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uVW5pb24oe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VuaW9uIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWFsdC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhBbHQoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3BhdGgtYWx0IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWludi9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhJbnYoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3BhdGgtaW52IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWxpbmsvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoTGluayh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC1saW5rIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLXplcm8tb3Itb25lL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck9uZSh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC16ZXJvLW9yLW9uZSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWFkZC1yZXdyaXRlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uQWRkUmV3cml0ZSh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdXBkYXRlLWFkZCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC16ZXJvLW9yLW1vcmUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yTW9yZSh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC16ZXJvLW9yLW1vcmUiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtb25lLW9yLW1vcmUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoT25lT3JNb3JlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNwYXRoLW9uZS1vci1tb3JlIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29tcG9zaXRldXBkYXRlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlQ29tcG9zaXRlVXBkYXRlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN1cGRhdGUtY29tcG9zaXRlIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLW5wcy9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhOcHMoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3BhdGgtbnBzIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29weS1yZXdyaXRlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ29weVJld3JpdGUoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VwZGF0ZS1jb3B5IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtbW92ZS1yZXdyaXRlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uTW92ZVJld3JpdGUoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VwZGF0ZS1tb3ZlIixidXM6cH0pO2NvbnN0IFU9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvaW5kZXgtYnJvd3Nlci5qcyIpKS5BY3RvckluaXRRdWVyeSh7bWVkaWF0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uOkwsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG1lZGlhdG9yUXVlcnlQYXJzZTpQLG1lZGlhdG9yUXVlcnlSZXN1bHRTZXJpYWxpemU6RixtZWRpYXRvclF1ZXJ5UmVzdWx0U2VyaWFsaXplTWVkaWFUeXBlQ29tYmluZXI6ayxtZWRpYXRvclF1ZXJ5UmVzdWx0U2VyaWFsaXplTWVkaWFUeXBlRm9ybWF0Q29tYmluZXI6SixtZWRpYXRvckNvbnRleHRQcmVwcm9jZXNzOkIsbWVkaWF0b3JIdHRwSW52YWxpZGF0ZTphZSxsb2dnZXI6byxkZWZhdWx0UXVlcnlJbnB1dEZvcm1hdDoic3BhcnFsIixhbGxvd05vU291cmNlczohMSxjb250ZXh0S2V5U2hvcnRjdXRzOntiYXNlSVJJOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpiYXNlSVJJIixkYXRldGltZToiQGNvbXVuaWNhL2FjdG9yLWh0dHAtbWVtZW50bzpkYXRldGltZSIsZGVzdGluYXRpb246IkBjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkczpkZXN0aW5hdGlvbiIsZXhwbGFpbjoiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6ZXhwbGFpbiIsZXh0ZW5zaW9uRnVuY3Rpb25DcmVhdG9yOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpleHRlbnNpb25GdW5jdGlvbkNyZWF0b3IiLGV4dGVuc2lvbkZ1bmN0aW9uczoiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6ZXh0ZW5zaW9uRnVuY3Rpb25zIixmZXRjaDoiQGNvbXVuaWNhL2J1cy1odHRwOmZldGNoIixmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpmdW5jdGlvbkFyZ3VtZW50c0NhY2hlIixodHRwQXV0aDoiQGNvbXVuaWNhL2J1cy1odHRwOmF1dGgiLGh0dHBCb2R5VGltZW91dDoiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtYm9keS10aW1lb3V0IixodHRwSW5jbHVkZUNyZWRlbnRpYWxzOiJAY29tdW5pY2EvYnVzLWh0dHA6aW5jbHVkZS1jcmVkZW50aWFscyIsaHR0cFByb3h5SGFuZGxlcjoiQGNvbXVuaWNhL2FjdG9yLWh0dHAtcHJveHk6aHR0cFByb3h5SGFuZGxlciIsaHR0cFJldHJ5Q291bnQ6IkBjb211bmljYS9idXMtaHR0cDpodHRwLXJldHJ5LWNvdW50IixodHRwUmV0cnlEZWxheToiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtcmV0cnktZGVsYXkiLGh0dHBSZXRyeU9uU2VydmVyRXJyb3I6IkBjb211bmljYS9idXMtaHR0cDpodHRwLXJldHJ5LW9uLXNlcnZlci1lcnJvciIsaHR0cFRpbWVvdXQ6IkBjb211bmljYS9idXMtaHR0cDpodHRwLXRpbWVvdXQiLGluaXRpYWxCaW5kaW5nczoiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6aW5pdGlhbEJpbmRpbmdzIixsZW5pZW50OiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpsZW5pZW50Iixsb2NhbGl6ZUJsYW5rTm9kZXM6IkBjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb246bG9jYWxpemVCbGFua05vZGVzIixsb2c6IkBjb211bmljYS9jb3JlOmxvZyIscXVlcnlGb3JtYXQ6IkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OnF1ZXJ5Rm9ybWF0IixxdWVyeVRpbWVzdGFtcDoiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6cXVlcnlUaW1lc3RhbXAiLHJlYWRPbmx5OiJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjpyZWFkT25seSIscmVjb3ZlckJyb2tlbkxpbmtzOiJAY29tdW5pY2EvYnVzLWh0dHAtd2F5YmFjazpyZWNvdmVyLWJyb2tlbi1saW5rcyIsc291cmNlOiJAY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybjpzb3VyY2UiLHNvdXJjZXM6IkBjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuOnNvdXJjZXMiLHVuaW9uRGVmYXVsdEdyYXBoOiJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjp1bmlvbkRlZmF1bHRHcmFwaCJ9LG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OmluaXQvYWN0b3JzI3F1ZXJ5IixidXM6ZH0pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW5vbmUvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbk5vbmUoe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI2lubmVyLW5vbmUiLGJ1czpqfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItc2luZ2xlL2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZkpvaW5TaW5nbGUoe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI2lubmVyLXNpbmdsZSIsYnVzOmp9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1lbXB0eS9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTXVsdGlFbXB0eSh7bWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItbXVsdGktZW1wdHkiLGJ1czpqfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktYmluZC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTXVsdGlCaW5kKHtiaW5kT3JkZXI6ImRlcHRoLWZpcnN0IixzZWxlY3Rpdml0eU1vZGlmaWVyOjFlLTQsbWVkaWF0b3JKb2luRW50cmllc1NvcnQ6cSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItbXVsdGktYmluZCIsYnVzOmp9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1oYXNoL2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZkpvaW5IYXNoKHttZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNpbm5lci1oYXNoIixidXM6an0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLXN5bW1ldHJpY2hhc2gvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pblN5bW1ldHJpY0hhc2goe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI2lubmVyLXN5bW1ldHJpYy1oYXNoIixidXM6an0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW5lc3RlZGxvb3AvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbk5lc3RlZExvb3Aoe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI2lubmVyLW5lc3RlZC1sb29wIixidXM6an0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW9wdGlvbmFsLWJpbmQvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbk9wdGlvbmFsQmluZCh7YmluZE9yZGVyOiJkZXB0aC1maXJzdCIsc2VsZWN0aXZpdHlNb2RpZmllcjoxZS00LG1lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxtZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNvcHRpb25hbC1iaW5kIixidXM6an0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW9wdGlvbmFsLW5lc3RlZGxvb3AvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbk9wdGlvbmFsTmVzdGVkTG9vcCh7bWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjb3B0aW9uYWwtbmVzdGVkLWxvb3AiLGJ1czpqfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTWludXNIYXNoKHttZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNtaW51cy1oYXNoIixidXM6an0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW1pbnVzLWhhc2gtdW5kZWYvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbk1pbnVzSGFzaFVuZGVmKHttZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNtaW51cy1oYXNoLXVuZGVmIixidXM6an0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY2xlYXIvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25DbGVhcih7bWVkaWF0b3JVcGRhdGVRdWFkczpyZSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN1cGRhdGUtY2xlYXIiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jcmVhdGUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25DcmVhdGUoe21lZGlhdG9yVXBkYXRlUXVhZHM6cmUsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdXBkYXRlLWNyZWF0ZSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRlbGV0ZWluc2VydC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblVwZGF0ZURlbGV0ZUluc2VydCh7bWVkaWF0b3JVcGRhdGVRdWFkczpyZSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN1cGRhdGUtZGVsZXRlLWluc2VydCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRyb3AvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Ecm9wKHttZWRpYXRvclVwZGF0ZVF1YWRzOnJlLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246UyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VwZGF0ZS1kcm9wIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtbG9hZC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkxvYWQoe21lZGlhdG9yVXBkYXRlUXVhZHM6cmUsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdXBkYXRlLWxvYWQiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWpvaW4vbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Kb2luKHttZWRpYXRvckpvaW46TSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNqb2luIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1sZWZ0am9pbi9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkxlZnRKb2luKHttZWRpYXRvckpvaW46TSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOlMsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNsZWZ0am9pbiIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tbWludXMvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25NaW51cyh7bWVkaWF0b3JKb2luOk0sbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjbWludXMiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtc2VxL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFNlcSh7bWVkaWF0b3JKb2luOk0sbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpTLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC1zZXEiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktc21hbGxlc3QvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbk11bHRpU21hbGxlc3Qoe21lZGlhdG9ySm9pbkVudHJpZXNTb3J0OnEsbWVkaWF0b3JKb2luOk0sbWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItbXVsdGktc21hbGxlc3QiLGJ1czpqfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXF1YWRwYXR0ZXJuL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUXVhZHBhdHRlcm4oe21lZGlhdG9yUmVzb2x2ZVF1YWRQYXR0ZXJuOiQsdW5pb25EZWZhdWx0R3JhcGg6ITEsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNxdWFkcGF0dGVybiIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tZmVkZXJhdGVkL2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVybkZlZGVyYXRlZCh7bWVkaWF0b3JSZXNvbHZlUXVhZFBhdHRlcm46JCxza2lwRW1wdHlQYXR0ZXJuczohMSxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vYWN0b3JzI2ZlZGVyYXRlZCIsYnVzOk59KSx0LmV4cG9ydHM9VX0sIi4vc3JjL2luZGV4LmpzIjoodCxlLG4pPT57bigiLi9zcmMvY3J5cHRvLXBvbHlmaWxsLmpzIik7Y29uc3R7UXVlcnlFbmdpbmVCYXNlOm99PW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvaW5kZXgtYnJvd3Nlci5qcyIpLGQ9bmV3IG8obigiLi9zcmMvZW5naW5lLmpzIikpLGg9T2JqZWN0LmNyZWF0ZShudWxsKTtjbGFzcyBse2NvbnN0cnVjdG9yKHApe3RoaXMuc3RvcmU9cCx0aGlzLmVuZ2luZT1kfWdldENvbnRleHQocCl7cmV0dXJuey4uLnAsc291cmNlOnRoaXMuc3RvcmUsZGVzdGluYXRpb246dGhpcy5zdG9yZX19cXVlcnkocCxnPWgpe3JldHVybiBkLnF1ZXJ5KHAsdGhpcy5nZXRDb250ZXh0KGcpKX1xdWVyeVZvaWQocCxnPWgpe3JldHVybiBkLnF1ZXJ5Vm9pZChwLHRoaXMuZ2V0Q29udGV4dChnKSl9cXVlcnlCaW5kaW5ncyhwLGc9aCl7cmV0dXJuIGQucXVlcnlCaW5kaW5ncyhwLHRoaXMuZ2V0Q29udGV4dChnKSl9cXVlcnlRdWFkcyhwLGc9aCl7cmV0dXJuIGQucXVlcnlRdWFkcyhwLHRoaXMuZ2V0Q29udGV4dChnKSl9cXVlcnlCb29sZWFuKHAsZz1oKXtyZXR1cm4gZC5xdWVyeUJvb2xlYW4ocCx0aGlzLmdldENvbnRleHQoZykpfX10LmV4cG9ydHMuRD1sLHQuZXhwb3J0cy5IPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1yZWR1Y2VkLWhhc2gvbm9kZV9tb2R1bGVzL2xydS1jYWNoZS9pbmRleC5qcyI6dD0+e2NvbnN0IGU9dHlwZW9mIHBlcmZvcm1hbmNlPT0ib2JqZWN0IiYmcGVyZm9ybWFuY2UmJnR5cGVvZiBwZXJmb3JtYW5jZS5ub3c9PSJmdW5jdGlvbiI/cGVyZm9ybWFuY2U6RGF0ZSxvPXR5cGVvZiBBYm9ydENvbnRyb2xsZXI9PSJmdW5jdGlvbiI/QWJvcnRDb250cm9sbGVyOmNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zaWduYWw9bmV3IGx9YWJvcnQoUz1uZXcgRXJyb3IoIlRoaXMgb3BlcmF0aW9uIHdhcyBhYm9ydGVkIikpe3RoaXMuc2lnbmFsLnJlYXNvbj10aGlzLnNpZ25hbC5yZWFzb258fFMsdGhpcy5zaWduYWwuYWJvcnRlZD0hMCx0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHt0eXBlOiJhYm9ydCIsdGFyZ2V0OnRoaXMuc2lnbmFsfSl9fSxkPXR5cGVvZiBBYm9ydFNpZ25hbD09ImZ1bmN0aW9uIixoPXR5cGVvZiBvLkFib3J0U2lnbmFsPT0iZnVuY3Rpb24iLGw9ZD9BYm9ydFNpZ25hbDpoP28uQWJvcnRDb250cm9sbGVyOmNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5yZWFzb249dm9pZCAwLHRoaXMuYWJvcnRlZD0hMSx0aGlzLl9saXN0ZW5lcnM9W119ZGlzcGF0Y2hFdmVudChTKXtTLnR5cGU9PT0iYWJvcnQiJiYodGhpcy5hYm9ydGVkPSEwLHRoaXMub25hYm9ydChTKSx0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaChQPT5QKFMpLHRoaXMpKX1vbmFib3J0KCl7fWFkZEV2ZW50TGlzdGVuZXIoUyxQKXtTPT09ImFib3J0IiYmdGhpcy5fbGlzdGVuZXJzLnB1c2goUCl9cmVtb3ZlRXZlbnRMaXN0ZW5lcihTLFApe1M9PT0iYWJvcnQiJiYodGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVycy5maWx0ZXIoRj0+RiE9PVApKX19LHU9bmV3IFNldCxwPShMLFMpPT57Y29uc3QgUD1gTFJVX0NBQ0hFX09QVElPTl8ke0x9YDtfKFApJiZPKFAsYCR7TH0gb3B0aW9uYCxgb3B0aW9ucy4ke1N9YCxDKX0sZz0oTCxTKT0+e2NvbnN0IFA9YExSVV9DQUNIRV9NRVRIT0RfJHtMfWA7aWYoXyhQKSl7Y29uc3R7cHJvdG90eXBlOkZ9PUMse2dldDprfT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEYsTCk7TyhQLGAke0x9IG1ldGhvZGAsYGNhY2hlLiR7U30oKWAsayl9fSx2PShMLFMpPT57Y29uc3QgUD1gTFJVX0NBQ0hFX1BST1BFUlRZXyR7TH1gO2lmKF8oUCkpe2NvbnN0e3Byb3RvdHlwZTpGfT1DLHtnZXQ6a309T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihGLEwpO08oUCxgJHtMfSBwcm9wZXJ0eWAsYGNhY2hlLiR7U31gLGspfX0sYj0oLi4uTCk9Pnt0eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnByb2Nlc3MmJnR5cGVvZiBwcm9jZXNzLmVtaXRXYXJuaW5nPT0iZnVuY3Rpb24iP3Byb2Nlc3MuZW1pdFdhcm5pbmcoLi4uTCk6Y29uc29sZS5lcnJvciguLi5MKX0sXz1MPT4hdS5oYXMoTCksTz0oTCxTLFAsRik9Pnt1LmFkZChMKTtjb25zdCBrPWBUaGUgJHtTfSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICR7UH0gaW5zdGVhZC5gO2IoaywiRGVwcmVjYXRpb25XYXJuaW5nIixMLEYpfSxUPUw9PkwmJkw9PT1NYXRoLmZsb29yKEwpJiZMPjAmJmlzRmluaXRlKEwpLGo9TD0+VChMKT9MPD1NYXRoLnBvdygyLDgpP1VpbnQ4QXJyYXk6TDw9TWF0aC5wb3coMiwxNik/VWludDE2QXJyYXk6TDw9TWF0aC5wb3coMiwzMik/VWludDMyQXJyYXk6TDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/TjpudWxsOm51bGw7Y2xhc3MgTiBleHRlbmRzIEFycmF5e2NvbnN0cnVjdG9yKFMpe3N1cGVyKFMpLHRoaXMuZmlsbCgwKX19Y2xhc3MgQntjb25zdHJ1Y3RvcihTKXtpZihTPT09MClyZXR1cm5bXTtjb25zdCBQPWooUyk7dGhpcy5oZWFwPW5ldyBQKFMpLHRoaXMubGVuZ3RoPTB9cHVzaChTKXt0aGlzLmhlYXBbdGhpcy5sZW5ndGgrK109U31wb3AoKXtyZXR1cm4gdGhpcy5oZWFwWy0tdGhpcy5sZW5ndGhdfX1jbGFzcyBDe2NvbnN0cnVjdG9yKFM9e30pe2NvbnN0e21heDpQPTAsdHRsOkYsdHRsUmVzb2x1dGlvbjprPTEsdHRsQXV0b3B1cmdlOkosdXBkYXRlQWdlT25HZXQ6YWUsdXBkYXRlQWdlT25IYXM6cSxhbGxvd1N0YWxlOkcsZGlzcG9zZTpyZSxkaXNwb3NlQWZ0ZXI6TSxub0Rpc3Bvc2VPblNldDokLG5vVXBkYXRlVFRMOlUsbWF4U2l6ZTpIPTAsbWF4RW50cnlTaXplOmVlPTAsc2l6ZUNhbGN1bGF0aW9uOmdlLGZldGNoTWV0aG9kOm1lLGZldGNoQ29udGV4dDpmZSxub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246aGUsbm9EZWxldGVPblN0YWxlR2V0Ol9lLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOnhlLGFsbG93U3RhbGVPbkZldGNoQWJvcnQ6TmUsaWdub3JlRmV0Y2hBYm9ydDpJZX09Uyx7bGVuZ3RoOlJlLG1heEFnZTp2ZSxzdGFsZTpDZX09UyBpbnN0YW5jZW9mIEM/e306UztpZihQIT09MCYmIVQoUCkpdGhyb3cgbmV3IFR5cGVFcnJvcigibWF4IG9wdGlvbiBtdXN0IGJlIGEgbm9ubmVnYXRpdmUgaW50ZWdlciIpO2NvbnN0IE1lPVA/aihQKTpBcnJheTtpZighTWUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIG1heCB2YWx1ZTogIitQKTtpZih0aGlzLm1heD1QLHRoaXMubWF4U2l6ZT1ILHRoaXMubWF4RW50cnlTaXplPWVlfHx0aGlzLm1heFNpemUsdGhpcy5zaXplQ2FsY3VsYXRpb249Z2V8fFJlLHRoaXMuc2l6ZUNhbGN1bGF0aW9uKXtpZighdGhpcy5tYXhTaXplJiYhdGhpcy5tYXhFbnRyeVNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcigiY2Fubm90IHNldCBzaXplQ2FsY3VsYXRpb24gd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplIik7aWYodHlwZW9mIHRoaXMuc2l6ZUNhbGN1bGF0aW9uIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoInNpemVDYWxjdWxhdGlvbiBzZXQgdG8gbm9uLWZ1bmN0aW9uIil9aWYodGhpcy5mZXRjaE1ldGhvZD1tZXx8bnVsbCx0aGlzLmZldGNoTWV0aG9kJiZ0eXBlb2YgdGhpcy5mZXRjaE1ldGhvZCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJmZXRjaE1ldGhvZCBtdXN0IGJlIGEgZnVuY3Rpb24gaWYgc3BlY2lmaWVkIik7aWYodGhpcy5mZXRjaENvbnRleHQ9ZmUsIXRoaXMuZmV0Y2hNZXRob2QmJmZlIT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoImNhbm5vdCBzZXQgZmV0Y2hDb250ZXh0IHdpdGhvdXQgZmV0Y2hNZXRob2QiKTtpZih0aGlzLmtleU1hcD1uZXcgTWFwLHRoaXMua2V5TGlzdD1uZXcgQXJyYXkoUCkuZmlsbChudWxsKSx0aGlzLnZhbExpc3Q9bmV3IEFycmF5KFApLmZpbGwobnVsbCksdGhpcy5uZXh0PW5ldyBNZShQKSx0aGlzLnByZXY9bmV3IE1lKFApLHRoaXMuaGVhZD0wLHRoaXMudGFpbD0wLHRoaXMuZnJlZT1uZXcgQihQKSx0aGlzLmluaXRpYWxGaWxsPTEsdGhpcy5zaXplPTAsdHlwZW9mIHJlPT0iZnVuY3Rpb24iJiYodGhpcy5kaXNwb3NlPXJlKSx0eXBlb2YgTT09ImZ1bmN0aW9uIj8odGhpcy5kaXNwb3NlQWZ0ZXI9TSx0aGlzLmRpc3Bvc2VkPVtdKToodGhpcy5kaXNwb3NlQWZ0ZXI9bnVsbCx0aGlzLmRpc3Bvc2VkPW51bGwpLHRoaXMubm9EaXNwb3NlT25TZXQ9ISEkLHRoaXMubm9VcGRhdGVUVEw9ISFVLHRoaXMubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uPSEhaGUsdGhpcy5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbj0hIXhlLHRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydD0hIU5lLHRoaXMuaWdub3JlRmV0Y2hBYm9ydD0hIUllLHRoaXMubWF4RW50cnlTaXplIT09MCl7aWYodGhpcy5tYXhTaXplIT09MCYmIVQodGhpcy5tYXhTaXplKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXhTaXplIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZCIpO2lmKCFUKHRoaXMubWF4RW50cnlTaXplKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXhFbnRyeVNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkIik7dGhpcy5pbml0aWFsaXplU2l6ZVRyYWNraW5nKCl9aWYodGhpcy5hbGxvd1N0YWxlPSEhR3x8ISFDZSx0aGlzLm5vRGVsZXRlT25TdGFsZUdldD0hIV9lLHRoaXMudXBkYXRlQWdlT25HZXQ9ISFhZSx0aGlzLnVwZGF0ZUFnZU9uSGFzPSEhcSx0aGlzLnR0bFJlc29sdXRpb249VChrKXx8az09PTA/azoxLHRoaXMudHRsQXV0b3B1cmdlPSEhSix0aGlzLnR0bD1GfHx2ZXx8MCx0aGlzLnR0bCl7aWYoIVQodGhpcy50dGwpKXRocm93IG5ldyBUeXBlRXJyb3IoInR0bCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQiKTt0aGlzLmluaXRpYWxpemVUVExUcmFja2luZygpfWlmKHRoaXMubWF4PT09MCYmdGhpcy50dGw9PT0wJiZ0aGlzLm1heFNpemU9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIkF0IGxlYXN0IG9uZSBvZiBtYXgsIG1heFNpemUsIG9yIHR0bCBpcyByZXF1aXJlZCIpO2lmKCF0aGlzLnR0bEF1dG9wdXJnZSYmIXRoaXMubWF4JiYhdGhpcy5tYXhTaXplKXtjb25zdCBVZT0iTFJVX0NBQ0hFX1VOQk9VTkRFRCI7XyhVZSkmJih1LmFkZChVZSksYigiVFRMIGNhY2hpbmcgd2l0aG91dCB0dGxBdXRvcHVyZ2UsIG1heCwgb3IgbWF4U2l6ZSBjYW4gcmVzdWx0IGluIHVuYm91bmRlZCBtZW1vcnkgY29uc3VtcHRpb24uIiwiVW5ib3VuZGVkQ2FjaGVXYXJuaW5nIixVZSxDKSl9Q2UmJnAoInN0YWxlIiwiYWxsb3dTdGFsZSIpLHZlJiZwKCJtYXhBZ2UiLCJ0dGwiKSxSZSYmcCgibGVuZ3RoIiwic2l6ZUNhbGN1bGF0aW9uIil9Z2V0UmVtYWluaW5nVFRMKFMpe3JldHVybiB0aGlzLmhhcyhTLHt1cGRhdGVBZ2VPbkhhczohMX0pPzEvMDowfWluaXRpYWxpemVUVExUcmFja2luZygpe3RoaXMudHRscz1uZXcgTih0aGlzLm1heCksdGhpcy5zdGFydHM9bmV3IE4odGhpcy5tYXgpLHRoaXMuc2V0SXRlbVRUTD0oRixrLEo9ZS5ub3coKSk9PntpZih0aGlzLnN0YXJ0c1tGXT1rIT09MD9KOjAsdGhpcy50dGxzW0ZdPWssayE9PTAmJnRoaXMudHRsQXV0b3B1cmdlKXtjb25zdCBhZT1zZXRUaW1lb3V0KCgpPT57dGhpcy5pc1N0YWxlKEYpJiZ0aGlzLmRlbGV0ZSh0aGlzLmtleUxpc3RbRl0pfSxrKzEpO2FlLnVucmVmJiZhZS51bnJlZigpfX0sdGhpcy51cGRhdGVJdGVtQWdlPUY9Pnt0aGlzLnN0YXJ0c1tGXT10aGlzLnR0bHNbRl0hPT0wP2Uubm93KCk6MH0sdGhpcy5zdGF0dXNUVEw9KEYsayk9PntGJiYoRi50dGw9dGhpcy50dGxzW2tdLEYuc3RhcnQ9dGhpcy5zdGFydHNba10sRi5ub3c9U3x8UCgpLEYucmVtYWluaW5nVFRMPUYubm93K0YudHRsLUYuc3RhcnQpfTtsZXQgUz0wO2NvbnN0IFA9KCk9Pntjb25zdCBGPWUubm93KCk7aWYodGhpcy50dGxSZXNvbHV0aW9uPjApe1M9Rjtjb25zdCBrPXNldFRpbWVvdXQoKCk9PlM9MCx0aGlzLnR0bFJlc29sdXRpb24pO2sudW5yZWYmJmsudW5yZWYoKX1yZXR1cm4gRn07dGhpcy5nZXRSZW1haW5pbmdUVEw9Rj0+e2NvbnN0IGs9dGhpcy5rZXlNYXAuZ2V0KEYpO3JldHVybiBrPT09dm9pZCAwPzA6dGhpcy50dGxzW2tdPT09MHx8dGhpcy5zdGFydHNba109PT0wPzEvMDp0aGlzLnN0YXJ0c1trXSt0aGlzLnR0bHNba10tKFN8fFAoKSl9LHRoaXMuaXNTdGFsZT1GPT50aGlzLnR0bHNbRl0hPT0wJiZ0aGlzLnN0YXJ0c1tGXSE9PTAmJihTfHxQKCkpLXRoaXMuc3RhcnRzW0ZdPnRoaXMudHRsc1tGXX11cGRhdGVJdGVtQWdlKFMpe31zdGF0dXNUVEwoUyxQKXt9c2V0SXRlbVRUTChTLFAsRil7fWlzU3RhbGUoUyl7cmV0dXJuITF9aW5pdGlhbGl6ZVNpemVUcmFja2luZygpe3RoaXMuY2FsY3VsYXRlZFNpemU9MCx0aGlzLnNpemVzPW5ldyBOKHRoaXMubWF4KSx0aGlzLnJlbW92ZUl0ZW1TaXplPVM9Pnt0aGlzLmNhbGN1bGF0ZWRTaXplLT10aGlzLnNpemVzW1NdLHRoaXMuc2l6ZXNbU109MH0sdGhpcy5yZXF1aXJlU2l6ZT0oUyxQLEYsayk9PntpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKFApKXJldHVybiAwO2lmKCFUKEYpKWlmKGspe2lmKHR5cGVvZiBrIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoInNpemVDYWxjdWxhdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24iKTtpZihGPWsoUCxTKSwhVChGKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJzaXplQ2FsY3VsYXRpb24gcmV0dXJuIGludmFsaWQgKGV4cGVjdCBwb3NpdGl2ZSBpbnRlZ2VyKSIpfWVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiaW52YWxpZCBzaXplIHZhbHVlIChtdXN0IGJlIHBvc2l0aXZlIGludGVnZXIpLiBXaGVuIG1heFNpemUgb3IgbWF4RW50cnlTaXplIGlzIHVzZWQsIHNpemVDYWxjdWxhdGlvbiBvciBzaXplIG11c3QgYmUgc2V0LiIpO3JldHVybiBGfSx0aGlzLmFkZEl0ZW1TaXplPShTLFAsRik9PntpZih0aGlzLnNpemVzW1NdPVAsdGhpcy5tYXhTaXplKXtjb25zdCBrPXRoaXMubWF4U2l6ZS10aGlzLnNpemVzW1NdO2Zvcig7dGhpcy5jYWxjdWxhdGVkU2l6ZT5rOyl0aGlzLmV2aWN0KCEwKX10aGlzLmNhbGN1bGF0ZWRTaXplKz10aGlzLnNpemVzW1NdLEYmJihGLmVudHJ5U2l6ZT1QLEYudG90YWxDYWxjdWxhdGVkU2l6ZT10aGlzLmNhbGN1bGF0ZWRTaXplKX19cmVtb3ZlSXRlbVNpemUoUyl7fWFkZEl0ZW1TaXplKFMsUCl7fXJlcXVpcmVTaXplKFMsUCxGLGspe2lmKEZ8fGspdGhyb3cgbmV3IFR5cGVFcnJvcigiY2Fubm90IHNldCBzaXplIHdpdGhvdXQgc2V0dGluZyBtYXhTaXplIG9yIG1heEVudHJ5U2l6ZSBvbiBjYWNoZSIpfSppbmRleGVzKHthbGxvd1N0YWxlOlM9dGhpcy5hbGxvd1N0YWxlfT17fSl7aWYodGhpcy5zaXplKWZvcihsZXQgUD10aGlzLnRhaWw7ISghdGhpcy5pc1ZhbGlkSW5kZXgoUCl8fCgoU3x8IXRoaXMuaXNTdGFsZShQKSkmJih5aWVsZCBQKSxQPT09dGhpcy5oZWFkKSk7KVA9dGhpcy5wcmV2W1BdfSpyaW5kZXhlcyh7YWxsb3dTdGFsZTpTPXRoaXMuYWxsb3dTdGFsZX09e30pe2lmKHRoaXMuc2l6ZSlmb3IobGV0IFA9dGhpcy5oZWFkOyEoIXRoaXMuaXNWYWxpZEluZGV4KFApfHwoKFN8fCF0aGlzLmlzU3RhbGUoUCkpJiYoeWllbGQgUCksUD09PXRoaXMudGFpbCkpOylQPXRoaXMubmV4dFtQXX1pc1ZhbGlkSW5kZXgoUyl7cmV0dXJuIFMhPT12b2lkIDAmJnRoaXMua2V5TWFwLmdldCh0aGlzLmtleUxpc3RbU10pPT09U30qZW50cmllcygpe2Zvcihjb25zdCBTIG9mIHRoaXMuaW5kZXhlcygpKXRoaXMudmFsTGlzdFtTXSE9PXZvaWQgMCYmdGhpcy5rZXlMaXN0W1NdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbU10pJiYoeWllbGRbdGhpcy5rZXlMaXN0W1NdLHRoaXMudmFsTGlzdFtTXV0pfSpyZW50cmllcygpe2Zvcihjb25zdCBTIG9mIHRoaXMucmluZGV4ZXMoKSl0aGlzLnZhbExpc3RbU10hPT12b2lkIDAmJnRoaXMua2V5TGlzdFtTXSE9PXZvaWQgMCYmIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W1NdKSYmKHlpZWxkW3RoaXMua2V5TGlzdFtTXSx0aGlzLnZhbExpc3RbU11dKX0qa2V5cygpe2Zvcihjb25zdCBTIG9mIHRoaXMuaW5kZXhlcygpKXRoaXMua2V5TGlzdFtTXSE9PXZvaWQgMCYmIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W1NdKSYmKHlpZWxkIHRoaXMua2V5TGlzdFtTXSl9KnJrZXlzKCl7Zm9yKGNvbnN0IFMgb2YgdGhpcy5yaW5kZXhlcygpKXRoaXMua2V5TGlzdFtTXSE9PXZvaWQgMCYmIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W1NdKSYmKHlpZWxkIHRoaXMua2V5TGlzdFtTXSl9KnZhbHVlcygpe2Zvcihjb25zdCBTIG9mIHRoaXMuaW5kZXhlcygpKXRoaXMudmFsTGlzdFtTXSE9PXZvaWQgMCYmIXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2godGhpcy52YWxMaXN0W1NdKSYmKHlpZWxkIHRoaXMudmFsTGlzdFtTXSl9KnJ2YWx1ZXMoKXtmb3IoY29uc3QgUyBvZiB0aGlzLnJpbmRleGVzKCkpdGhpcy52YWxMaXN0W1NdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3RbU10pJiYoeWllbGQgdGhpcy52YWxMaXN0W1NdKX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLmVudHJpZXMoKX1maW5kKFMsUCl7Zm9yKGNvbnN0IEYgb2YgdGhpcy5pbmRleGVzKCkpe2NvbnN0IGs9dGhpcy52YWxMaXN0W0ZdLEo9dGhpcy5pc0JhY2tncm91bmRGZXRjaChrKT9rLl9fc3RhbGVXaGlsZUZldGNoaW5nOms7aWYoSiE9PXZvaWQgMCYmUyhKLHRoaXMua2V5TGlzdFtGXSx0aGlzKSlyZXR1cm4gdGhpcy5nZXQodGhpcy5rZXlMaXN0W0ZdLFApfX1mb3JFYWNoKFMsUD10aGlzKXtmb3IoY29uc3QgRiBvZiB0aGlzLmluZGV4ZXMoKSl7Y29uc3Qgaz10aGlzLnZhbExpc3RbRl0sSj10aGlzLmlzQmFja2dyb3VuZEZldGNoKGspP2suX19zdGFsZVdoaWxlRmV0Y2hpbmc6aztKIT09dm9pZCAwJiZTLmNhbGwoUCxKLHRoaXMua2V5TGlzdFtGXSx0aGlzKX19cmZvckVhY2goUyxQPXRoaXMpe2Zvcihjb25zdCBGIG9mIHRoaXMucmluZGV4ZXMoKSl7Y29uc3Qgaz10aGlzLnZhbExpc3RbRl0sSj10aGlzLmlzQmFja2dyb3VuZEZldGNoKGspP2suX19zdGFsZVdoaWxlRmV0Y2hpbmc6aztKIT09dm9pZCAwJiZTLmNhbGwoUCxKLHRoaXMua2V5TGlzdFtGXSx0aGlzKX19Z2V0IHBydW5lKCl7cmV0dXJuIGcoInBydW5lIiwicHVyZ2VTdGFsZSIpLHRoaXMucHVyZ2VTdGFsZX1wdXJnZVN0YWxlKCl7bGV0IFM9ITE7Zm9yKGNvbnN0IFAgb2YgdGhpcy5yaW5kZXhlcyh7YWxsb3dTdGFsZTohMH0pKXRoaXMuaXNTdGFsZShQKSYmKHRoaXMuZGVsZXRlKHRoaXMua2V5TGlzdFtQXSksUz0hMCk7cmV0dXJuIFN9ZHVtcCgpe2NvbnN0IFM9W107Zm9yKGNvbnN0IFAgb2YgdGhpcy5pbmRleGVzKHthbGxvd1N0YWxlOiEwfSkpe2NvbnN0IEY9dGhpcy5rZXlMaXN0W1BdLGs9dGhpcy52YWxMaXN0W1BdLEo9dGhpcy5pc0JhY2tncm91bmRGZXRjaChrKT9rLl9fc3RhbGVXaGlsZUZldGNoaW5nOms7aWYoSj09PXZvaWQgMCljb250aW51ZTtjb25zdCBhZT17dmFsdWU6Sn07aWYodGhpcy50dGxzKXthZS50dGw9dGhpcy50dGxzW1BdO2NvbnN0IHE9ZS5ub3coKS10aGlzLnN0YXJ0c1tQXTthZS5zdGFydD1NYXRoLmZsb29yKERhdGUubm93KCktcSl9dGhpcy5zaXplcyYmKGFlLnNpemU9dGhpcy5zaXplc1tQXSksUy51bnNoaWZ0KFtGLGFlXSl9cmV0dXJuIFN9bG9hZChTKXt0aGlzLmNsZWFyKCk7Zm9yKGNvbnN0W1AsRl1vZiBTKXtpZihGLnN0YXJ0KXtjb25zdCBrPURhdGUubm93KCktRi5zdGFydDtGLnN0YXJ0PWUubm93KCkta310aGlzLnNldChQLEYudmFsdWUsRil9fWRpc3Bvc2UoUyxQLEYpe31zZXQoUyxQLHt0dGw6Rj10aGlzLnR0bCxzdGFydDprLG5vRGlzcG9zZU9uU2V0Oko9dGhpcy5ub0Rpc3Bvc2VPblNldCxzaXplOmFlPTAsc2l6ZUNhbGN1bGF0aW9uOnE9dGhpcy5zaXplQ2FsY3VsYXRpb24sbm9VcGRhdGVUVEw6Rz10aGlzLm5vVXBkYXRlVFRMLHN0YXR1czpyZX09e30pe2lmKGFlPXRoaXMucmVxdWlyZVNpemUoUyxQLGFlLHEpLHRoaXMubWF4RW50cnlTaXplJiZhZT50aGlzLm1heEVudHJ5U2l6ZSlyZXR1cm4gcmUmJihyZS5zZXQ9Im1pc3MiLHJlLm1heEVudHJ5U2l6ZUV4Y2VlZGVkPSEwKSx0aGlzLmRlbGV0ZShTKSx0aGlzO2xldCBNPXRoaXMuc2l6ZT09PTA/dm9pZCAwOnRoaXMua2V5TWFwLmdldChTKTtpZihNPT09dm9pZCAwKU09dGhpcy5uZXdJbmRleCgpLHRoaXMua2V5TGlzdFtNXT1TLHRoaXMudmFsTGlzdFtNXT1QLHRoaXMua2V5TWFwLnNldChTLE0pLHRoaXMubmV4dFt0aGlzLnRhaWxdPU0sdGhpcy5wcmV2W01dPXRoaXMudGFpbCx0aGlzLnRhaWw9TSx0aGlzLnNpemUrKyx0aGlzLmFkZEl0ZW1TaXplKE0sYWUscmUpLHJlJiYocmUuc2V0PSJhZGQiKSxHPSExO2Vsc2V7dGhpcy5tb3ZlVG9UYWlsKE0pO2NvbnN0ICQ9dGhpcy52YWxMaXN0W01dO2lmKFAhPT0kKXtpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKCQpPyQuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJyZXBsYWNlZCIpKTpKfHwodGhpcy5kaXNwb3NlKCQsUywic2V0IiksdGhpcy5kaXNwb3NlQWZ0ZXImJnRoaXMuZGlzcG9zZWQucHVzaChbJCxTLCJzZXQiXSkpLHRoaXMucmVtb3ZlSXRlbVNpemUoTSksdGhpcy52YWxMaXN0W01dPVAsdGhpcy5hZGRJdGVtU2l6ZShNLGFlLHJlKSxyZSl7cmUuc2V0PSJyZXBsYWNlIjtjb25zdCBVPSQmJnRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goJCk/JC5fX3N0YWxlV2hpbGVGZXRjaGluZzokO1UhPT12b2lkIDAmJihyZS5vbGRWYWx1ZT1VKX19ZWxzZSByZSYmKHJlLnNldD0idXBkYXRlIil9aWYoRiE9PTAmJnRoaXMudHRsPT09MCYmIXRoaXMudHRscyYmdGhpcy5pbml0aWFsaXplVFRMVHJhY2tpbmcoKSxHfHx0aGlzLnNldEl0ZW1UVEwoTSxGLGspLHRoaXMuc3RhdHVzVFRMKHJlLE0pLHRoaXMuZGlzcG9zZUFmdGVyKWZvcig7dGhpcy5kaXNwb3NlZC5sZW5ndGg7KXRoaXMuZGlzcG9zZUFmdGVyKC4uLnRoaXMuZGlzcG9zZWQuc2hpZnQoKSk7cmV0dXJuIHRoaXN9bmV3SW5kZXgoKXtyZXR1cm4gdGhpcy5zaXplPT09MD90aGlzLnRhaWw6dGhpcy5zaXplPT09dGhpcy5tYXgmJnRoaXMubWF4IT09MD90aGlzLmV2aWN0KCExKTp0aGlzLmZyZWUubGVuZ3RoIT09MD90aGlzLmZyZWUucG9wKCk6dGhpcy5pbml0aWFsRmlsbCsrfXBvcCgpe2lmKHRoaXMuc2l6ZSl7Y29uc3QgUz10aGlzLnZhbExpc3RbdGhpcy5oZWFkXTtyZXR1cm4gdGhpcy5ldmljdCghMCksU319ZXZpY3QoUyl7Y29uc3QgUD10aGlzLmhlYWQsRj10aGlzLmtleUxpc3RbUF0saz10aGlzLnZhbExpc3RbUF07cmV0dXJuIHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goayk/ay5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoImV2aWN0ZWQiKSk6KHRoaXMuZGlzcG9zZShrLEYsImV2aWN0IiksdGhpcy5kaXNwb3NlQWZ0ZXImJnRoaXMuZGlzcG9zZWQucHVzaChbayxGLCJldmljdCJdKSksdGhpcy5yZW1vdmVJdGVtU2l6ZShQKSxTJiYodGhpcy5rZXlMaXN0W1BdPW51bGwsdGhpcy52YWxMaXN0W1BdPW51bGwsdGhpcy5mcmVlLnB1c2goUCkpLHRoaXMuaGVhZD10aGlzLm5leHRbUF0sdGhpcy5rZXlNYXAuZGVsZXRlKEYpLHRoaXMuc2l6ZS0tLFB9aGFzKFMse3VwZGF0ZUFnZU9uSGFzOlA9dGhpcy51cGRhdGVBZ2VPbkhhcyxzdGF0dXM6Rn09e30pe2NvbnN0IGs9dGhpcy5rZXlNYXAuZ2V0KFMpO2lmKGshPT12b2lkIDApaWYodGhpcy5pc1N0YWxlKGspKUYmJihGLmhhcz0ic3RhbGUiLHRoaXMuc3RhdHVzVFRMKEYsaykpO2Vsc2UgcmV0dXJuIFAmJnRoaXMudXBkYXRlSXRlbUFnZShrKSxGJiYoRi5oYXM9ImhpdCIpLHRoaXMuc3RhdHVzVFRMKEYsayksITA7ZWxzZSBGJiYoRi5oYXM9Im1pc3MiKTtyZXR1cm4hMX1wZWVrKFMse2FsbG93U3RhbGU6UD10aGlzLmFsbG93U3RhbGV9PXt9KXtjb25zdCBGPXRoaXMua2V5TWFwLmdldChTKTtpZihGIT09dm9pZCAwJiYoUHx8IXRoaXMuaXNTdGFsZShGKSkpe2NvbnN0IGs9dGhpcy52YWxMaXN0W0ZdO3JldHVybiB0aGlzLmlzQmFja2dyb3VuZEZldGNoKGspP2suX19zdGFsZVdoaWxlRmV0Y2hpbmc6a319YmFja2dyb3VuZEZldGNoKFMsUCxGLGspe2NvbnN0IEo9UD09PXZvaWQgMD92b2lkIDA6dGhpcy52YWxMaXN0W1BdO2lmKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goSikpcmV0dXJuIEo7Y29uc3QgYWU9bmV3IG87Ri5zaWduYWwmJkYuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IiwoKT0+YWUuYWJvcnQoRi5zaWduYWwucmVhc29uKSk7Y29uc3QgcT17c2lnbmFsOmFlLnNpZ25hbCxvcHRpb25zOkYsY29udGV4dDprfSxHPShILGVlPSExKT0+e2NvbnN0e2Fib3J0ZWQ6Z2V9PWFlLnNpZ25hbCxtZT1GLmlnbm9yZUZldGNoQWJvcnQmJkghPT12b2lkIDA7cmV0dXJuIEYuc3RhdHVzJiYoZ2UmJiFlZT8oRi5zdGF0dXMuZmV0Y2hBYm9ydGVkPSEwLEYuc3RhdHVzLmZldGNoRXJyb3I9YWUuc2lnbmFsLnJlYXNvbixtZSYmKEYuc3RhdHVzLmZldGNoQWJvcnRJZ25vcmVkPSEwKSk6Ri5zdGF0dXMuZmV0Y2hSZXNvbHZlZD0hMCksZ2UmJiFtZSYmIWVlP00oYWUuc2lnbmFsLnJlYXNvbik6KHRoaXMudmFsTGlzdFtQXT09PVUmJihIPT09dm9pZCAwP1UuX19zdGFsZVdoaWxlRmV0Y2hpbmc/dGhpcy52YWxMaXN0W1BdPVUuX19zdGFsZVdoaWxlRmV0Y2hpbmc6dGhpcy5kZWxldGUoUyk6KEYuc3RhdHVzJiYoRi5zdGF0dXMuZmV0Y2hVcGRhdGVkPSEwKSx0aGlzLnNldChTLEgscS5vcHRpb25zKSkpLEgpfSxyZT1IPT4oRi5zdGF0dXMmJihGLnN0YXR1cy5mZXRjaFJlamVjdGVkPSEwLEYuc3RhdHVzLmZldGNoRXJyb3I9SCksTShIKSksTT1IPT57Y29uc3R7YWJvcnRlZDplZX09YWUuc2lnbmFsLGdlPWVlJiZGLmFsbG93U3RhbGVPbkZldGNoQWJvcnQsbWU9Z2V8fEYuYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb24sZmU9bWV8fEYubm9EZWxldGVPbkZldGNoUmVqZWN0aW9uO2lmKHRoaXMudmFsTGlzdFtQXT09PVUmJighZmV8fFUuX19zdGFsZVdoaWxlRmV0Y2hpbmc9PT12b2lkIDA/dGhpcy5kZWxldGUoUyk6Z2V8fCh0aGlzLnZhbExpc3RbUF09VS5fX3N0YWxlV2hpbGVGZXRjaGluZykpLG1lKXJldHVybiBGLnN0YXR1cyYmVS5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCYmKEYuc3RhdHVzLnJldHVybmVkU3RhbGU9ITApLFUuX19zdGFsZVdoaWxlRmV0Y2hpbmc7aWYoVS5fX3JldHVybmVkPT09VSl0aHJvdyBIfSwkPShILGVlKT0+e3RoaXMuZmV0Y2hNZXRob2QoUyxKLHEpLnRoZW4oZ2U9PkgoZ2UpLGVlKSxhZS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLCgpPT57KCFGLmlnbm9yZUZldGNoQWJvcnR8fEYuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCkmJihIKCksRi5hbGxvd1N0YWxlT25GZXRjaEFib3J0JiYoSD1nZT0+RyhnZSwhMCkpKX0pfTtGLnN0YXR1cyYmKEYuc3RhdHVzLmZldGNoRGlzcGF0Y2hlZD0hMCk7Y29uc3QgVT1uZXcgUHJvbWlzZSgkKS50aGVuKEcscmUpO3JldHVybiBVLl9fYWJvcnRDb250cm9sbGVyPWFlLFUuX19zdGFsZVdoaWxlRmV0Y2hpbmc9SixVLl9fcmV0dXJuZWQ9bnVsbCxQPT09dm9pZCAwPyh0aGlzLnNldChTLFUsey4uLnEub3B0aW9ucyxzdGF0dXM6dm9pZCAwfSksUD10aGlzLmtleU1hcC5nZXQoUykpOnRoaXMudmFsTGlzdFtQXT1VLFV9aXNCYWNrZ3JvdW5kRmV0Y2goUyl7cmV0dXJuIFMmJnR5cGVvZiBTPT0ib2JqZWN0IiYmdHlwZW9mIFMudGhlbj09ImZ1bmN0aW9uIiYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFMsIl9fc3RhbGVXaGlsZUZldGNoaW5nIikmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChTLCJfX3JldHVybmVkIikmJihTLl9fcmV0dXJuZWQ9PT1TfHxTLl9fcmV0dXJuZWQ9PT1udWxsKX1hc3luYyBmZXRjaChTLHthbGxvd1N0YWxlOlA9dGhpcy5hbGxvd1N0YWxlLHVwZGF0ZUFnZU9uR2V0OkY9dGhpcy51cGRhdGVBZ2VPbkdldCxub0RlbGV0ZU9uU3RhbGVHZXQ6az10aGlzLm5vRGVsZXRlT25TdGFsZUdldCx0dGw6Sj10aGlzLnR0bCxub0Rpc3Bvc2VPblNldDphZT10aGlzLm5vRGlzcG9zZU9uU2V0LHNpemU6cT0wLHNpemVDYWxjdWxhdGlvbjpHPXRoaXMuc2l6ZUNhbGN1bGF0aW9uLG5vVXBkYXRlVFRMOnJlPXRoaXMubm9VcGRhdGVUVEwsbm9EZWxldGVPbkZldGNoUmVqZWN0aW9uOk09dGhpcy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb24sYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246JD10aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uLGlnbm9yZUZldGNoQWJvcnQ6VT10aGlzLmlnbm9yZUZldGNoQWJvcnQsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpIPXRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCxmZXRjaENvbnRleHQ6ZWU9dGhpcy5mZXRjaENvbnRleHQsZm9yY2VSZWZyZXNoOmdlPSExLHN0YXR1czptZSxzaWduYWw6ZmV9PXt9KXtpZighdGhpcy5mZXRjaE1ldGhvZClyZXR1cm4gbWUmJihtZS5mZXRjaD0iZ2V0IiksdGhpcy5nZXQoUyx7YWxsb3dTdGFsZTpQLHVwZGF0ZUFnZU9uR2V0OkYsbm9EZWxldGVPblN0YWxlR2V0Omssc3RhdHVzOm1lfSk7Y29uc3QgaGU9e2FsbG93U3RhbGU6UCx1cGRhdGVBZ2VPbkdldDpGLG5vRGVsZXRlT25TdGFsZUdldDprLHR0bDpKLG5vRGlzcG9zZU9uU2V0OmFlLHNpemU6cSxzaXplQ2FsY3VsYXRpb246Ryxub1VwZGF0ZVRUTDpyZSxub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246TSxhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjokLGFsbG93U3RhbGVPbkZldGNoQWJvcnQ6SCxpZ25vcmVGZXRjaEFib3J0OlUsc3RhdHVzOm1lLHNpZ25hbDpmZX07bGV0IF9lPXRoaXMua2V5TWFwLmdldChTKTtpZihfZT09PXZvaWQgMCl7bWUmJihtZS5mZXRjaD0ibWlzcyIpO2NvbnN0IHhlPXRoaXMuYmFja2dyb3VuZEZldGNoKFMsX2UsaGUsZWUpO3JldHVybiB4ZS5fX3JldHVybmVkPXhlfWVsc2V7Y29uc3QgeGU9dGhpcy52YWxMaXN0W19lXTtpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKHhlKSl7Y29uc3QgQ2U9UCYmeGUuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDA7cmV0dXJuIG1lJiYobWUuZmV0Y2g9ImluZmxpZ2h0IixDZSYmKG1lLnJldHVybmVkU3RhbGU9ITApKSxDZT94ZS5fX3N0YWxlV2hpbGVGZXRjaGluZzp4ZS5fX3JldHVybmVkPXhlfWNvbnN0IE5lPXRoaXMuaXNTdGFsZShfZSk7aWYoIWdlJiYhTmUpcmV0dXJuIG1lJiYobWUuZmV0Y2g9ImhpdCIpLHRoaXMubW92ZVRvVGFpbChfZSksRiYmdGhpcy51cGRhdGVJdGVtQWdlKF9lKSx0aGlzLnN0YXR1c1RUTChtZSxfZSkseGU7Y29uc3QgSWU9dGhpcy5iYWNrZ3JvdW5kRmV0Y2goUyxfZSxoZSxlZSksUmU9SWUuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDAsdmU9UmUmJlA7cmV0dXJuIG1lJiYobWUuZmV0Y2g9UmUmJk5lPyJzdGFsZSI6InJlZnJlc2giLHZlJiZOZSYmKG1lLnJldHVybmVkU3RhbGU9ITApKSx2ZT9JZS5fX3N0YWxlV2hpbGVGZXRjaGluZzpJZS5fX3JldHVybmVkPUllfX1nZXQoUyx7YWxsb3dTdGFsZTpQPXRoaXMuYWxsb3dTdGFsZSx1cGRhdGVBZ2VPbkdldDpGPXRoaXMudXBkYXRlQWdlT25HZXQsbm9EZWxldGVPblN0YWxlR2V0Oms9dGhpcy5ub0RlbGV0ZU9uU3RhbGVHZXQsc3RhdHVzOkp9PXt9KXtjb25zdCBhZT10aGlzLmtleU1hcC5nZXQoUyk7aWYoYWUhPT12b2lkIDApe2NvbnN0IHE9dGhpcy52YWxMaXN0W2FlXSxHPXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2gocSk7cmV0dXJuIHRoaXMuc3RhdHVzVFRMKEosYWUpLHRoaXMuaXNTdGFsZShhZSk/KEomJihKLmdldD0ic3RhbGUiKSxHPyhKJiYoSi5yZXR1cm5lZFN0YWxlPVAmJnEuX19zdGFsZVdoaWxlRmV0Y2hpbmchPT12b2lkIDApLFA/cS5fX3N0YWxlV2hpbGVGZXRjaGluZzp2b2lkIDApOihrfHx0aGlzLmRlbGV0ZShTKSxKJiYoSi5yZXR1cm5lZFN0YWxlPVApLFA/cTp2b2lkIDApKTooSiYmKEouZ2V0PSJoaXQiKSxHP3EuX19zdGFsZVdoaWxlRmV0Y2hpbmc6KHRoaXMubW92ZVRvVGFpbChhZSksRiYmdGhpcy51cGRhdGVJdGVtQWdlKGFlKSxxKSl9ZWxzZSBKJiYoSi5nZXQ9Im1pc3MiKX1jb25uZWN0KFMsUCl7dGhpcy5wcmV2W1BdPVMsdGhpcy5uZXh0W1NdPVB9bW92ZVRvVGFpbChTKXtTIT09dGhpcy50YWlsJiYoUz09PXRoaXMuaGVhZD90aGlzLmhlYWQ9dGhpcy5uZXh0W1NdOnRoaXMuY29ubmVjdCh0aGlzLnByZXZbU10sdGhpcy5uZXh0W1NdKSx0aGlzLmNvbm5lY3QodGhpcy50YWlsLFMpLHRoaXMudGFpbD1TKX1nZXQgZGVsKCl7cmV0dXJuIGcoImRlbCIsImRlbGV0ZSIpLHRoaXMuZGVsZXRlfWRlbGV0ZShTKXtsZXQgUD0hMTtpZih0aGlzLnNpemUhPT0wKXtjb25zdCBGPXRoaXMua2V5TWFwLmdldChTKTtpZihGIT09dm9pZCAwKWlmKFA9ITAsdGhpcy5zaXplPT09MSl0aGlzLmNsZWFyKCk7ZWxzZXt0aGlzLnJlbW92ZUl0ZW1TaXplKEYpO2NvbnN0IGs9dGhpcy52YWxMaXN0W0ZdO3RoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goayk/ay5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoImRlbGV0ZWQiKSk6KHRoaXMuZGlzcG9zZShrLFMsImRlbGV0ZSIpLHRoaXMuZGlzcG9zZUFmdGVyJiZ0aGlzLmRpc3Bvc2VkLnB1c2goW2ssUywiZGVsZXRlIl0pKSx0aGlzLmtleU1hcC5kZWxldGUoUyksdGhpcy5rZXlMaXN0W0ZdPW51bGwsdGhpcy52YWxMaXN0W0ZdPW51bGwsRj09PXRoaXMudGFpbD90aGlzLnRhaWw9dGhpcy5wcmV2W0ZdOkY9PT10aGlzLmhlYWQ/dGhpcy5oZWFkPXRoaXMubmV4dFtGXToodGhpcy5uZXh0W3RoaXMucHJldltGXV09dGhpcy5uZXh0W0ZdLHRoaXMucHJldlt0aGlzLm5leHRbRl1dPXRoaXMucHJldltGXSksdGhpcy5zaXplLS0sdGhpcy5mcmVlLnB1c2goRil9fWlmKHRoaXMuZGlzcG9zZWQpZm9yKDt0aGlzLmRpc3Bvc2VkLmxlbmd0aDspdGhpcy5kaXNwb3NlQWZ0ZXIoLi4udGhpcy5kaXNwb3NlZC5zaGlmdCgpKTtyZXR1cm4gUH1jbGVhcigpe2Zvcihjb25zdCBTIG9mIHRoaXMucmluZGV4ZXMoe2FsbG93U3RhbGU6ITB9KSl7Y29uc3QgUD10aGlzLnZhbExpc3RbU107aWYodGhpcy5pc0JhY2tncm91bmRGZXRjaChQKSlQLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcigiZGVsZXRlZCIpKTtlbHNle2NvbnN0IEY9dGhpcy5rZXlMaXN0W1NdO3RoaXMuZGlzcG9zZShQLEYsImRlbGV0ZSIpLHRoaXMuZGlzcG9zZUFmdGVyJiZ0aGlzLmRpc3Bvc2VkLnB1c2goW1AsRiwiZGVsZXRlIl0pfX1pZih0aGlzLmtleU1hcC5jbGVhcigpLHRoaXMudmFsTGlzdC5maWxsKG51bGwpLHRoaXMua2V5TGlzdC5maWxsKG51bGwpLHRoaXMudHRscyYmKHRoaXMudHRscy5maWxsKDApLHRoaXMuc3RhcnRzLmZpbGwoMCkpLHRoaXMuc2l6ZXMmJnRoaXMuc2l6ZXMuZmlsbCgwKSx0aGlzLmhlYWQ9MCx0aGlzLnRhaWw9MCx0aGlzLmluaXRpYWxGaWxsPTEsdGhpcy5mcmVlLmxlbmd0aD0wLHRoaXMuY2FsY3VsYXRlZFNpemU9MCx0aGlzLnNpemU9MCx0aGlzLmRpc3Bvc2VkKWZvcig7dGhpcy5kaXNwb3NlZC5sZW5ndGg7KXRoaXMuZGlzcG9zZUFmdGVyKC4uLnRoaXMuZGlzcG9zZWQuc2hpZnQoKSl9Z2V0IHJlc2V0KCl7cmV0dXJuIGcoInJlc2V0IiwiY2xlYXIiKSx0aGlzLmNsZWFyfWdldCBsZW5ndGgoKXtyZXR1cm4gdigibGVuZ3RoIiwic2l6ZSIpLHRoaXMuc2l6ZX1zdGF0aWMgZ2V0IEFib3J0Q29udHJvbGxlcigpe3JldHVybiBvfXN0YXRpYyBnZXQgQWJvcnRTaWduYWwoKXtyZXR1cm4gbH19dC5leHBvcnRzPUN9fSxfX3F1YWRzdG9yZV9jb211bmljYV9tb2R1bGVfY2FjaGVfXz17fTtmdW5jdGlvbiBfX3F1YWRzdG9yZV9jb211bmljYV9yZXF1aXJlX18odCl7dmFyIGU9X19xdWFkc3RvcmVfY29tdW5pY2FfbW9kdWxlX2NhY2hlX19bdF07aWYoZSE9PXZvaWQgMClyZXR1cm4gZS5leHBvcnRzO3ZhciBuPV9fcXVhZHN0b3JlX2NvbXVuaWNhX21vZHVsZV9jYWNoZV9fW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gX19xdWFkc3RvcmVfY29tdW5pY2FfbW9kdWxlc19fW3RdLmNhbGwobi5leHBvcnRzLG4sbi5leHBvcnRzLF9fcXVhZHN0b3JlX2NvbXVuaWNhX3JlcXVpcmVfXyksbi5leHBvcnRzfV9fcXVhZHN0b3JlX2NvbXVuaWNhX3JlcXVpcmVfXy5nPWZ1bmN0aW9uKCl7aWYodHlwZW9mIGdsb2JhbFRoaXM9PSJvYmplY3QiKXJldHVybiBnbG9iYWxUaGlzO3RyeXtyZXR1cm4gdGhpc3x8bmV3IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9Y2F0Y2h7aWYodHlwZW9mIHdpbmRvdz09Im9iamVjdCIpcmV0dXJuIHdpbmRvd319KCk7dmFyIF9fcXVhZHN0b3JlX2NvbXVuaWNhX2V4cG9ydHNfXz1fX3F1YWRzdG9yZV9jb211bmljYV9yZXF1aXJlX18oIi4vc3JjL2luZGV4LmpzIiksX19xdWFkc3RvcmVfY29tdW5pY2FfZXhwb3J0c19fRW5naW5lPV9fcXVhZHN0b3JlX2NvbXVuaWNhX2V4cG9ydHNfXy5EO19fcXVhZHN0b3JlX2NvbXVuaWNhX2V4cG9ydHNfXy5IO2NvbnN0IHByb3h5TWFya2VyPVN5bWJvbCgiQ29tbGluay5wcm94eSIpLGNyZWF0ZUVuZHBvaW50PVN5bWJvbCgiQ29tbGluay5lbmRwb2ludCIpLHJlbGVhc2VQcm94eT1TeW1ib2woIkNvbWxpbmsucmVsZWFzZVByb3h5IiksdGhyb3dNYXJrZXI9U3ltYm9sKCJDb21saW5rLnRocm93biIpLGlzT2JqZWN0JDE9dD0+dHlwZW9mIHQ9PSJvYmplY3QiJiZ0IT09bnVsbHx8dHlwZW9mIHQ9PSJmdW5jdGlvbiIscHJveHlUcmFuc2ZlckhhbmRsZXI9e2NhbkhhbmRsZTp0PT5pc09iamVjdCQxKHQpJiZ0W3Byb3h5TWFya2VyXSxzZXJpYWxpemUodCl7Y29uc3R7cG9ydDE6ZSxwb3J0MjpufT1uZXcgTWVzc2FnZUNoYW5uZWw7cmV0dXJuIGV4cG9zZSQxKHQsZSksW24sW25dXX0sZGVzZXJpYWxpemUodCl7cmV0dXJuIHQuc3RhcnQoKSx3cmFwKHQpfX0sdGhyb3dUcmFuc2ZlckhhbmRsZXI9e2NhbkhhbmRsZTp0PT5pc09iamVjdCQxKHQpJiZ0aHJvd01hcmtlciBpbiB0LHNlcmlhbGl6ZSh7dmFsdWU6dH0pe2xldCBlO3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3I/ZT17aXNFcnJvcjohMCx2YWx1ZTp7bWVzc2FnZTp0Lm1lc3NhZ2UsbmFtZTp0Lm5hbWUsc3RhY2s6dC5zdGFja319OmU9e2lzRXJyb3I6ITEsdmFsdWU6dH0sW2UsW11dfSxkZXNlcmlhbGl6ZSh0KXt0aHJvdyB0LmlzRXJyb3I/T2JqZWN0LmFzc2lnbihuZXcgRXJyb3IodC52YWx1ZS5tZXNzYWdlKSx0LnZhbHVlKTp0LnZhbHVlfX0sdHJhbnNmZXJIYW5kbGVycz1uZXcgTWFwKFtbInByb3h5Iixwcm94eVRyYW5zZmVySGFuZGxlcl0sWyJ0aHJvdyIsdGhyb3dUcmFuc2ZlckhhbmRsZXJdXSk7ZnVuY3Rpb24gZXhwb3NlJDEodCxlPXNlbGYpe2UuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24gbihvKXtpZighb3x8IW8uZGF0YSlyZXR1cm47Y29uc3R7aWQ6ZCx0eXBlOmgscGF0aDpsfT1PYmplY3QuYXNzaWduKHtwYXRoOltdfSxvLmRhdGEpLHU9KG8uZGF0YS5hcmd1bWVudExpc3R8fFtdKS5tYXAoZnJvbVdpcmVWYWx1ZSk7bGV0IHA7dHJ5e2NvbnN0IGc9bC5zbGljZSgwLC0xKS5yZWR1Y2UoKGIsXyk9PmJbX10sdCksdj1sLnJlZHVjZSgoYixfKT0+YltfXSx0KTtzd2l0Y2goaCl7Y2FzZSJHRVQiOnA9djticmVhaztjYXNlIlNFVCI6Z1tsLnNsaWNlKC0xKVswXV09ZnJvbVdpcmVWYWx1ZShvLmRhdGEudmFsdWUpLHA9ITA7YnJlYWs7Y2FzZSJBUFBMWSI6cD12LmFwcGx5KGcsdSk7YnJlYWs7Y2FzZSJDT05TVFJVQ1QiOntjb25zdCBiPW5ldyB2KC4uLnUpO3A9cHJveHkoYil9YnJlYWs7Y2FzZSJFTkRQT0lOVCI6e2NvbnN0e3BvcnQxOmIscG9ydDI6X309bmV3IE1lc3NhZ2VDaGFubmVsO2V4cG9zZSQxKHQsXykscD10cmFuc2ZlciQxKGIsW2JdKX1icmVhaztjYXNlIlJFTEVBU0UiOnA9dm9pZCAwO2JyZWFrO2RlZmF1bHQ6cmV0dXJufX1jYXRjaChnKXtwPXt2YWx1ZTpnLFt0aHJvd01hcmtlcl06MH19UHJvbWlzZS5yZXNvbHZlKHApLmNhdGNoKGc9Pih7dmFsdWU6ZyxbdGhyb3dNYXJrZXJdOjB9KSkudGhlbihnPT57Y29uc3RbdixiXT10b1dpcmVWYWx1ZShnKTtlLnBvc3RNZXNzYWdlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx2KSx7aWQ6ZH0pLGIpLGg9PT0iUkVMRUFTRSImJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG4pLGNsb3NlRW5kUG9pbnQoZSkpfSl9KSxlLnN0YXJ0JiZlLnN0YXJ0KCl9ZnVuY3Rpb24gaXNNZXNzYWdlUG9ydCh0KXtyZXR1cm4gdC5jb25zdHJ1Y3Rvci5uYW1lPT09Ik1lc3NhZ2VQb3J0In1mdW5jdGlvbiBjbG9zZUVuZFBvaW50KHQpe2lzTWVzc2FnZVBvcnQodCkmJnQuY2xvc2UoKX1mdW5jdGlvbiB3cmFwKHQsZSl7cmV0dXJuIGNyZWF0ZVByb3h5KHQsW10sZSl9ZnVuY3Rpb24gdGhyb3dJZlByb3h5UmVsZWFzZWQodCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoIlByb3h5IGhhcyBiZWVuIHJlbGVhc2VkIGFuZCBpcyBub3QgdXNlYWJsZSIpfWZ1bmN0aW9uIGNyZWF0ZVByb3h5KHQsZT1bXSxuPWZ1bmN0aW9uKCl7fSl7bGV0IG89ITE7Y29uc3QgZD1uZXcgUHJveHkobix7Z2V0KGgsbCl7aWYodGhyb3dJZlByb3h5UmVsZWFzZWQobyksbD09PXJlbGVhc2VQcm94eSlyZXR1cm4oKT0+cmVxdWVzdFJlc3BvbnNlTWVzc2FnZSh0LHt0eXBlOiJSRUxFQVNFIixwYXRoOmUubWFwKHU9PnUudG9TdHJpbmcoKSl9KS50aGVuKCgpPT57Y2xvc2VFbmRQb2ludCh0KSxvPSEwfSk7aWYobD09PSJ0aGVuIil7aWYoZS5sZW5ndGg9PT0wKXJldHVybnt0aGVuOigpPT5kfTtjb25zdCB1PXJlcXVlc3RSZXNwb25zZU1lc3NhZ2UodCx7dHlwZToiR0VUIixwYXRoOmUubWFwKHA9PnAudG9TdHJpbmcoKSl9KS50aGVuKGZyb21XaXJlVmFsdWUpO3JldHVybiB1LnRoZW4uYmluZCh1KX1yZXR1cm4gY3JlYXRlUHJveHkodCxbLi4uZSxsXSl9LHNldChoLGwsdSl7dGhyb3dJZlByb3h5UmVsZWFzZWQobyk7Y29uc3RbcCxnXT10b1dpcmVWYWx1ZSh1KTtyZXR1cm4gcmVxdWVzdFJlc3BvbnNlTWVzc2FnZSh0LHt0eXBlOiJTRVQiLHBhdGg6Wy4uLmUsbF0ubWFwKHY9PnYudG9TdHJpbmcoKSksdmFsdWU6cH0sZykudGhlbihmcm9tV2lyZVZhbHVlKX0sYXBwbHkoaCxsLHUpe3Rocm93SWZQcm94eVJlbGVhc2VkKG8pO2NvbnN0IHA9ZVtlLmxlbmd0aC0xXTtpZihwPT09Y3JlYXRlRW5kcG9pbnQpcmV0dXJuIHJlcXVlc3RSZXNwb25zZU1lc3NhZ2UodCx7dHlwZToiRU5EUE9JTlQifSkudGhlbihmcm9tV2lyZVZhbHVlKTtpZihwPT09ImJpbmQiKXJldHVybiBjcmVhdGVQcm94eSh0LGUuc2xpY2UoMCwtMSkpO2NvbnN0W2csdl09cHJvY2Vzc0FyZ3VtZW50cyh1KTtyZXR1cm4gcmVxdWVzdFJlc3BvbnNlTWVzc2FnZSh0LHt0eXBlOiJBUFBMWSIscGF0aDplLm1hcChiPT5iLnRvU3RyaW5nKCkpLGFyZ3VtZW50TGlzdDpnfSx2KS50aGVuKGZyb21XaXJlVmFsdWUpfSxjb25zdHJ1Y3QoaCxsKXt0aHJvd0lmUHJveHlSZWxlYXNlZChvKTtjb25zdFt1LHBdPXByb2Nlc3NBcmd1bWVudHMobCk7cmV0dXJuIHJlcXVlc3RSZXNwb25zZU1lc3NhZ2UodCx7dHlwZToiQ09OU1RSVUNUIixwYXRoOmUubWFwKGc9PmcudG9TdHJpbmcoKSksYXJndW1lbnRMaXN0OnV9LHApLnRoZW4oZnJvbVdpcmVWYWx1ZSl9fSk7cmV0dXJuIGR9ZnVuY3Rpb24gbXlGbGF0KHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLHQpfWZ1bmN0aW9uIHByb2Nlc3NBcmd1bWVudHModCl7Y29uc3QgZT10Lm1hcCh0b1dpcmVWYWx1ZSk7cmV0dXJuW2UubWFwKG49Pm5bMF0pLG15RmxhdChlLm1hcChuPT5uWzFdKSldfWNvbnN0IHRyYW5zZmVyQ2FjaGU9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gdHJhbnNmZXIkMSh0LGUpe3JldHVybiB0cmFuc2ZlckNhY2hlLnNldCh0LGUpLHR9ZnVuY3Rpb24gcHJveHkodCl7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx7W3Byb3h5TWFya2VyXTohMH0pfWZ1bmN0aW9uIHRvV2lyZVZhbHVlKHQpe2Zvcihjb25zdFtlLG5db2YgdHJhbnNmZXJIYW5kbGVycylpZihuLmNhbkhhbmRsZSh0KSl7Y29uc3RbbyxkXT1uLnNlcmlhbGl6ZSh0KTtyZXR1cm5be3R5cGU6IkhBTkRMRVIiLG5hbWU6ZSx2YWx1ZTpvfSxkXX1yZXR1cm5be3R5cGU6IlJBVyIsdmFsdWU6dH0sdHJhbnNmZXJDYWNoZS5nZXQodCl8fFtdXX1mdW5jdGlvbiBmcm9tV2lyZVZhbHVlKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2UiSEFORExFUiI6cmV0dXJuIHRyYW5zZmVySGFuZGxlcnMuZ2V0KHQubmFtZSkuZGVzZXJpYWxpemUodC52YWx1ZSk7Y2FzZSJSQVciOnJldHVybiB0LnZhbHVlfX1mdW5jdGlvbiByZXF1ZXN0UmVzcG9uc2VNZXNzYWdlKHQsZSxuKXtyZXR1cm4gbmV3IFByb21pc2Uobz0+e2NvbnN0IGQ9Z2VuZXJhdGVVVUlEKCk7dC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbiBoKGwpeyFsLmRhdGF8fCFsLmRhdGEuaWR8fGwuZGF0YS5pZCE9PWR8fCh0LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGgpLG8obC5kYXRhKSl9KSx0LnN0YXJ0JiZ0LnN0YXJ0KCksdC5wb3N0TWVzc2FnZShPYmplY3QuYXNzaWduKHtpZDpkfSxlKSxuKX0pfWZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpe3JldHVybiBuZXcgQXJyYXkoNCkuZmlsbCgwKS5tYXAoKCk9Pk1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikudG9TdHJpbmcoMTYpKS5qb2luKCItIil9Y29uc3QgRE9XTlNUUkVBTV9GUk9NPSJodHRwOi8vd2Vic2NhcGUud2FuZGVyZXIjZG93bnN0cmVhbS1mcm9tIjt2YXIgZnJlZUdsb2JhbD10eXBlb2YgZ2xvYmFsPT0ib2JqZWN0IiYmZ2xvYmFsJiZnbG9iYWwuT2JqZWN0PT09T2JqZWN0JiZnbG9iYWwsZnJlZUdsb2JhbCQxPWZyZWVHbG9iYWwsZnJlZVNlbGY9dHlwZW9mIHNlbGY9PSJvYmplY3QiJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixyb290JDE9ZnJlZUdsb2JhbCQxfHxmcmVlU2VsZnx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKSxyb290JDI9cm9vdCQxLFN5bWJvbCQxPXJvb3QkMi5TeW1ib2wsU3ltYm9sJDI9U3ltYm9sJDEsb2JqZWN0UHJvdG8kND1PYmplY3QucHJvdG90eXBlLGhhc093blByb3BlcnR5JDM9b2JqZWN0UHJvdG8kNC5oYXNPd25Qcm9wZXJ0eSxuYXRpdmVPYmplY3RUb1N0cmluZyQxPW9iamVjdFByb3RvJDQudG9TdHJpbmcsc3ltVG9TdHJpbmdUYWckMT1TeW1ib2wkMj9TeW1ib2wkMi50b1N0cmluZ1RhZzp2b2lkIDA7ZnVuY3Rpb24gZ2V0UmF3VGFnKHQpe3ZhciBlPWhhc093blByb3BlcnR5JDMuY2FsbCh0LHN5bVRvU3RyaW5nVGFnJDEpLG49dFtzeW1Ub1N0cmluZ1RhZyQxXTt0cnl7dFtzeW1Ub1N0cmluZ1RhZyQxXT12b2lkIDA7dmFyIG89ITB9Y2F0Y2h7fXZhciBkPW5hdGl2ZU9iamVjdFRvU3RyaW5nJDEuY2FsbCh0KTtyZXR1cm4gbyYmKGU/dFtzeW1Ub1N0cmluZ1RhZyQxXT1uOmRlbGV0ZSB0W3N5bVRvU3RyaW5nVGFnJDFdKSxkfXZhciBvYmplY3RQcm90byQzPU9iamVjdC5wcm90b3R5cGUsbmF0aXZlT2JqZWN0VG9TdHJpbmc9b2JqZWN0UHJvdG8kMy50b1N0cmluZztmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh0KXtyZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh0KX12YXIgbnVsbFRhZz0iW29iamVjdCBOdWxsXSIsdW5kZWZpbmVkVGFnPSJbb2JqZWN0IFVuZGVmaW5lZF0iLHN5bVRvU3RyaW5nVGFnPVN5bWJvbCQyP1N5bWJvbCQyLnRvU3RyaW5nVGFnOnZvaWQgMDtmdW5jdGlvbiBiYXNlR2V0VGFnKHQpe3JldHVybiB0PT1udWxsP3Q9PT12b2lkIDA/dW5kZWZpbmVkVGFnOm51bGxUYWc6c3ltVG9TdHJpbmdUYWcmJnN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh0KT9nZXRSYXdUYWcodCk6b2JqZWN0VG9TdHJpbmcodCl9ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHQpe3JldHVybiB0IT1udWxsJiZ0eXBlb2YgdD09Im9iamVjdCJ9dmFyIHN5bWJvbFRhZz0iW29iamVjdCBTeW1ib2xdIjtmdW5jdGlvbiBpc1N5bWJvbCh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzeW1ib2wifHxpc09iamVjdExpa2UodCkmJmJhc2VHZXRUYWcodCk9PXN5bWJvbFRhZ312YXIgaXNBcnJheT1BcnJheS5pc0FycmF5LGlzQXJyYXkkMT1pc0FycmF5LHJlV2hpdGVzcGFjZT0vXHMvO2Z1bmN0aW9uIHRyaW1tZWRFbmRJbmRleCh0KXtmb3IodmFyIGU9dC5sZW5ndGg7ZS0tJiZyZVdoaXRlc3BhY2UudGVzdCh0LmNoYXJBdChlKSk7KTtyZXR1cm4gZX12YXIgcmVUcmltU3RhcnQ9L15ccysvO2Z1bmN0aW9uIGJhc2VUcmltKHQpe3JldHVybiB0JiZ0LnNsaWNlKDAsdHJpbW1lZEVuZEluZGV4KHQpKzEpLnJlcGxhY2UocmVUcmltU3RhcnQsIiIpfWZ1bmN0aW9uIGlzT2JqZWN0KHQpe3ZhciBlPXR5cGVvZiB0O3JldHVybiB0IT1udWxsJiYoZT09Im9iamVjdCJ8fGU9PSJmdW5jdGlvbiIpfXZhciBOQU49MC8wLHJlSXNCYWRIZXg9L15bLStdMHhbMC05YS1mXSskL2kscmVJc0JpbmFyeT0vXjBiWzAxXSskL2kscmVJc09jdGFsPS9eMG9bMC03XSskL2ksZnJlZVBhcnNlSW50PXBhcnNlSW50O2Z1bmN0aW9uIHRvTnVtYmVyKHQpe2lmKHR5cGVvZiB0PT0ibnVtYmVyIilyZXR1cm4gdDtpZihpc1N5bWJvbCh0KSlyZXR1cm4gTkFOO2lmKGlzT2JqZWN0KHQpKXt2YXIgZT10eXBlb2YgdC52YWx1ZU9mPT0iZnVuY3Rpb24iP3QudmFsdWVPZigpOnQ7dD1pc09iamVjdChlKT9lKyIiOmV9aWYodHlwZW9mIHQhPSJzdHJpbmciKXJldHVybiB0PT09MD90Oit0O3Q9YmFzZVRyaW0odCk7dmFyIG49cmVJc0JpbmFyeS50ZXN0KHQpO3JldHVybiBufHxyZUlzT2N0YWwudGVzdCh0KT9mcmVlUGFyc2VJbnQodC5zbGljZSgyKSxuPzI6OCk6cmVJc0JhZEhleC50ZXN0KHQpP05BTjordH12YXIgSU5GSU5JVFk9MS8wLE1BWF9JTlRFR0VSPTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MjtmdW5jdGlvbiB0b0Zpbml0ZSh0KXtpZighdClyZXR1cm4gdD09PTA/dDowO2lmKHQ9dG9OdW1iZXIodCksdD09PUlORklOSVRZfHx0PT09LUlORklOSVRZKXt2YXIgZT10PDA/LTE6MTtyZXR1cm4gZSpNQVhfSU5URUdFUn1yZXR1cm4gdD09PXQ/dDowfWZ1bmN0aW9uIHRvSW50ZWdlcih0KXt2YXIgZT10b0Zpbml0ZSh0KSxuPWUlMTtyZXR1cm4gZT09PWU/bj9lLW46ZTowfWZ1bmN0aW9uIGlkZW50aXR5JDIodCl7cmV0dXJuIHR9dmFyIGFzeW5jVGFnPSJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dIixmdW5jVGFnPSJbb2JqZWN0IEZ1bmN0aW9uXSIsZ2VuVGFnPSJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSIscHJveHlUYWc9IltvYmplY3QgUHJveHldIjtmdW5jdGlvbiBpc0Z1bmN0aW9uKHQpe2lmKCFpc09iamVjdCh0KSlyZXR1cm4hMTt2YXIgZT1iYXNlR2V0VGFnKHQpO3JldHVybiBlPT1mdW5jVGFnfHxlPT1nZW5UYWd8fGU9PWFzeW5jVGFnfHxlPT1wcm94eVRhZ312YXIgY29yZUpzRGF0YT1yb290JDJbIl9fY29yZS1qc19zaGFyZWRfXyJdLGNvcmVKc0RhdGEkMT1jb3JlSnNEYXRhLG1hc2tTcmNLZXk9ZnVuY3Rpb24oKXt2YXIgdD0vW14uXSskLy5leGVjKGNvcmVKc0RhdGEkMSYmY29yZUpzRGF0YSQxLmtleXMmJmNvcmVKc0RhdGEkMS5rZXlzLklFX1BST1RPfHwiIik7cmV0dXJuIHQ/IlN5bWJvbChzcmMpXzEuIit0OiIifSgpO2Z1bmN0aW9uIGlzTWFza2VkKHQpe3JldHVybiEhbWFza1NyY0tleSYmbWFza1NyY0tleSBpbiB0fXZhciBmdW5jUHJvdG8kMT1GdW5jdGlvbi5wcm90b3R5cGUsZnVuY1RvU3RyaW5nJDE9ZnVuY1Byb3RvJDEudG9TdHJpbmc7ZnVuY3Rpb24gdG9Tb3VyY2UodCl7aWYodCE9bnVsbCl7dHJ5e3JldHVybiBmdW5jVG9TdHJpbmckMS5jYWxsKHQpfWNhdGNoe310cnl7cmV0dXJuIHQrIiJ9Y2F0Y2h7fX1yZXR1cm4iIn12YXIgcmVSZWdFeHBDaGFyPS9bXFxeJC4qKz8oKVtcXXt9fF0vZyxyZUlzSG9zdEN0b3I9L15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC8sZnVuY1Byb3RvPUZ1bmN0aW9uLnByb3RvdHlwZSxvYmplY3RQcm90byQyPU9iamVjdC5wcm90b3R5cGUsZnVuY1RvU3RyaW5nPWZ1bmNQcm90by50b1N0cmluZyxoYXNPd25Qcm9wZXJ0eSQyPW9iamVjdFByb3RvJDIuaGFzT3duUHJvcGVydHkscmVJc05hdGl2ZT1SZWdFeHAoIl4iK2Z1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5JDIpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCJcXCQmIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXCgpfCBmb3IgLis/KD89XFxcXSkvZywiJDEuKj8iKSsiJCIpO2Z1bmN0aW9uIGJhc2VJc05hdGl2ZSh0KXtpZighaXNPYmplY3QodCl8fGlzTWFza2VkKHQpKXJldHVybiExO3ZhciBlPWlzRnVuY3Rpb24odCk/cmVJc05hdGl2ZTpyZUlzSG9zdEN0b3I7cmV0dXJuIGUudGVzdCh0b1NvdXJjZSh0KSl9ZnVuY3Rpb24gZ2V0VmFsdWUodCxlKXtyZXR1cm4gdD8uW2VdfWZ1bmN0aW9uIGdldE5hdGl2ZSh0LGUpe3ZhciBuPWdldFZhbHVlKHQsZSk7cmV0dXJuIGJhc2VJc05hdGl2ZShuKT9uOnZvaWQgMH12YXIgV2Vha01hcCQxPWdldE5hdGl2ZShyb290JDIsIldlYWtNYXAiKSxXZWFrTWFwJDI9V2Vha01hcCQxLG1ldGFNYXA9V2Vha01hcCQyJiZuZXcgV2Vha01hcCQyLG1ldGFNYXAkMT1tZXRhTWFwLGJhc2VTZXREYXRhPW1ldGFNYXAkMT9mdW5jdGlvbih0LGUpe3JldHVybiBtZXRhTWFwJDEuc2V0KHQsZSksdH06aWRlbnRpdHkkMixiYXNlU2V0RGF0YSQxPWJhc2VTZXREYXRhLG9iamVjdENyZWF0ZT1PYmplY3QuY3JlYXRlLGJhc2VDcmVhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiBmdW5jdGlvbihlKXtpZighaXNPYmplY3QoZSkpcmV0dXJue307aWYob2JqZWN0Q3JlYXRlKXJldHVybiBvYmplY3RDcmVhdGUoZSk7dC5wcm90b3R5cGU9ZTt2YXIgbj1uZXcgdDtyZXR1cm4gdC5wcm90b3R5cGU9dm9pZCAwLG59fSgpLGJhc2VDcmVhdGUkMT1iYXNlQ3JlYXRlO2Z1bmN0aW9uIGNyZWF0ZUN0b3IodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGVbMF0pO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZVswXSxlWzFdKTtjYXNlIDM6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10pO2Nhc2UgNTpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdKTtjYXNlIDY6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdKTtjYXNlIDc6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSxlWzJdLGVbM10sZVs0XSxlWzVdLGVbNl0pfXZhciBuPWJhc2VDcmVhdGUkMSh0LnByb3RvdHlwZSksbz10LmFwcGx5KG4sZSk7cmV0dXJuIGlzT2JqZWN0KG8pP286bn19dmFyIFdSQVBfQklORF9GTEFHJDY9MTtmdW5jdGlvbiBjcmVhdGVCaW5kKHQsZSxuKXt2YXIgbz1lJldSQVBfQklORF9GTEFHJDYsZD1jcmVhdGVDdG9yKHQpO2Z1bmN0aW9uIGgoKXt2YXIgbD10aGlzJiZ0aGlzIT09cm9vdCQyJiZ0aGlzIGluc3RhbmNlb2YgaD9kOnQ7cmV0dXJuIGwuYXBwbHkobz9uOnRoaXMsYXJndW1lbnRzKX1yZXR1cm4gaH1mdW5jdGlvbiBhcHBseSh0LGUsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQuY2FsbChlKTtjYXNlIDE6cmV0dXJuIHQuY2FsbChlLG5bMF0pO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKGUsblswXSxuWzFdKTtjYXNlIDM6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSxuWzJdKX1yZXR1cm4gdC5hcHBseShlLG4pfXZhciBuYXRpdmVNYXgkMz1NYXRoLm1heDtmdW5jdGlvbiBjb21wb3NlQXJncyh0LGUsbixvKXtmb3IodmFyIGQ9LTEsaD10Lmxlbmd0aCxsPW4ubGVuZ3RoLHU9LTEscD1lLmxlbmd0aCxnPW5hdGl2ZU1heCQzKGgtbCwwKSx2PUFycmF5KHArZyksYj0hbzsrK3U8cDspdlt1XT1lW3VdO2Zvcig7KytkPGw7KShifHxkPGgpJiYodltuW2RdXT10W2RdKTtmb3IoO2ctLTspdlt1KytdPXRbZCsrXTtyZXR1cm4gdn12YXIgbmF0aXZlTWF4JDI9TWF0aC5tYXg7ZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodCh0LGUsbixvKXtmb3IodmFyIGQ9LTEsaD10Lmxlbmd0aCxsPS0xLHU9bi5sZW5ndGgscD0tMSxnPWUubGVuZ3RoLHY9bmF0aXZlTWF4JDIoaC11LDApLGI9QXJyYXkoditnKSxfPSFvOysrZDx2OyliW2RdPXRbZF07Zm9yKHZhciBPPWQ7KytwPGc7KWJbTytwXT1lW3BdO2Zvcig7KytsPHU7KShffHxkPGgpJiYoYltPK25bbF1dPXRbZCsrXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gY291bnRIb2xkZXJzKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLG89MDtuLS07KXRbbl09PT1lJiYrK287cmV0dXJuIG99ZnVuY3Rpb24gYmFzZUxvZGFzaCgpe312YXIgTUFYX0FSUkFZX0xFTkdUSD00Mjk0OTY3Mjk1O2Z1bmN0aW9uIExhenlXcmFwcGVyKHQpe3RoaXMuX193cmFwcGVkX189dCx0aGlzLl9fYWN0aW9uc19fPVtdLHRoaXMuX19kaXJfXz0xLHRoaXMuX19maWx0ZXJlZF9fPSExLHRoaXMuX19pdGVyYXRlZXNfXz1bXSx0aGlzLl9fdGFrZUNvdW50X189TUFYX0FSUkFZX0xFTkdUSCx0aGlzLl9fdmlld3NfXz1bXX1MYXp5V3JhcHBlci5wcm90b3R5cGU9YmFzZUNyZWF0ZSQxKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9TGF6eVdyYXBwZXI7ZnVuY3Rpb24gbm9vcCQyKCl7fXZhciBnZXREYXRhPW1ldGFNYXAkMT9mdW5jdGlvbih0KXtyZXR1cm4gbWV0YU1hcCQxLmdldCh0KX06bm9vcCQyLGdldERhdGEkMT1nZXREYXRhLHJlYWxOYW1lcz17fSxyZWFsTmFtZXMkMT1yZWFsTmFtZXMsb2JqZWN0UHJvdG8kMT1PYmplY3QucHJvdG90eXBlLGhhc093blByb3BlcnR5JDE9b2JqZWN0UHJvdG8kMS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBnZXRGdW5jTmFtZSh0KXtmb3IodmFyIGU9dC5uYW1lKyIiLG49cmVhbE5hbWVzJDFbZV0sbz1oYXNPd25Qcm9wZXJ0eSQxLmNhbGwocmVhbE5hbWVzJDEsZSk/bi5sZW5ndGg6MDtvLS07KXt2YXIgZD1uW29dLGg9ZC5mdW5jO2lmKGg9PW51bGx8fGg9PXQpcmV0dXJuIGQubmFtZX1yZXR1cm4gZX1mdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHQsZSl7dGhpcy5fX3dyYXBwZWRfXz10LHRoaXMuX19hY3Rpb25zX189W10sdGhpcy5fX2NoYWluX189ISFlLHRoaXMuX19pbmRleF9fPTAsdGhpcy5fX3ZhbHVlc19fPXZvaWQgMH1Mb2Rhc2hXcmFwcGVyLnByb3RvdHlwZT1iYXNlQ3JlYXRlJDEoYmFzZUxvZGFzaC5wcm90b3R5cGUpO0xvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPUxvZGFzaFdyYXBwZXI7ZnVuY3Rpb24gY29weUFycmF5KHQsZSl7dmFyIG49LTEsbz10Lmxlbmd0aDtmb3IoZXx8KGU9QXJyYXkobykpOysrbjxvOyllW25dPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gd3JhcHBlckNsb25lKHQpe2lmKHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcilyZXR1cm4gdC5jbG9uZSgpO3ZhciBlPW5ldyBMb2Rhc2hXcmFwcGVyKHQuX193cmFwcGVkX18sdC5fX2NoYWluX18pO3JldHVybiBlLl9fYWN0aW9uc19fPWNvcHlBcnJheSh0Ll9fYWN0aW9uc19fKSxlLl9faW5kZXhfXz10Ll9faW5kZXhfXyxlLl9fdmFsdWVzX189dC5fX3ZhbHVlc19fLGV9dmFyIG9iamVjdFByb3RvPU9iamVjdC5wcm90b3R5cGUsaGFzT3duUHJvcGVydHk9b2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gbG9kYXNoKHQpe2lmKGlzT2JqZWN0TGlrZSh0KSYmIWlzQXJyYXkkMSh0KSYmISh0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKXtpZih0IGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcilyZXR1cm4gdDtpZihoYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIl9fd3JhcHBlZF9fIikpcmV0dXJuIHdyYXBwZXJDbG9uZSh0KX1yZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodCl9bG9kYXNoLnByb3RvdHlwZT1iYXNlTG9kYXNoLnByb3RvdHlwZTtsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yPWxvZGFzaDtmdW5jdGlvbiBpc0xhemlhYmxlKHQpe3ZhciBlPWdldEZ1bmNOYW1lKHQpLG49bG9kYXNoW2VdO2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24ifHwhKGUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSlyZXR1cm4hMTtpZih0PT09bilyZXR1cm4hMDt2YXIgbz1nZXREYXRhJDEobik7cmV0dXJuISFvJiZ0PT09b1swXX12YXIgSE9UX0NPVU5UPTgwMCxIT1RfU1BBTj0xNixuYXRpdmVOb3c9RGF0ZS5ub3c7ZnVuY3Rpb24gc2hvcnRPdXQodCl7dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG89bmF0aXZlTm93KCksZD1IT1RfU1BBTi0oby1uKTtpZihuPW8sZD4wKXtpZigrK2U+PUhPVF9DT1VOVClyZXR1cm4gYXJndW1lbnRzWzBdfWVsc2UgZT0wO3JldHVybiB0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfX12YXIgc2V0RGF0YT1zaG9ydE91dChiYXNlU2V0RGF0YSQxKSxzZXREYXRhJDE9c2V0RGF0YSxyZVdyYXBEZXRhaWxzPS9ce1xuXC9cKiBcW3dyYXBwZWQgd2l0aCAoLispXF0gXCovLHJlU3BsaXREZXRhaWxzPS8sPyAmIC87ZnVuY3Rpb24gZ2V0V3JhcERldGFpbHModCl7dmFyIGU9dC5tYXRjaChyZVdyYXBEZXRhaWxzKTtyZXR1cm4gZT9lWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKTpbXX12YXIgcmVXcmFwQ29tbWVudD0vXHsoPzpcblwvXCogXFt3cmFwcGVkIHdpdGggLitcXSBcKlwvKT9cbj8vO2Z1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHQsZSl7dmFyIG49ZS5sZW5ndGg7aWYoIW4pcmV0dXJuIHQ7dmFyIG89bi0xO3JldHVybiBlW29dPShuPjE/IiYgIjoiIikrZVtvXSxlPWUuam9pbihuPjI/IiwgIjoiICIpLHQucmVwbGFjZShyZVdyYXBDb21tZW50LGB7Ci8qIFt3cmFwcGVkIHdpdGggYCtlK2BdICovCmApfWZ1bmN0aW9uIGNvbnN0YW50JDEodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fXZhciBkZWZpbmVQcm9wZXJ0eT1mdW5jdGlvbigpe3RyeXt2YXIgdD1nZXROYXRpdmUoT2JqZWN0LCJkZWZpbmVQcm9wZXJ0eSIpO3JldHVybiB0KHt9LCIiLHt9KSx0fWNhdGNoe319KCksZGVmaW5lUHJvcGVydHkkMT1kZWZpbmVQcm9wZXJ0eSxiYXNlU2V0VG9TdHJpbmc9ZGVmaW5lUHJvcGVydHkkMT9mdW5jdGlvbih0LGUpe3JldHVybiBkZWZpbmVQcm9wZXJ0eSQxKHQsInRvU3RyaW5nIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6Y29uc3RhbnQkMShlKSx3cml0YWJsZTohMH0pfTppZGVudGl0eSQyLGJhc2VTZXRUb1N0cmluZyQxPWJhc2VTZXRUb1N0cmluZyxzZXRUb1N0cmluZz1zaG9ydE91dChiYXNlU2V0VG9TdHJpbmckMSksc2V0VG9TdHJpbmckMT1zZXRUb1N0cmluZztmdW5jdGlvbiBhcnJheUVhY2godCxlKXtmb3IodmFyIG49LTEsbz10PT1udWxsPzA6dC5sZW5ndGg7KytuPG8mJmUodFtuXSxuLHQpIT09ITE7KTtyZXR1cm4gdH1mdW5jdGlvbiBiYXNlRmluZEluZGV4KHQsZSxuLG8pe2Zvcih2YXIgZD10Lmxlbmd0aCxoPW4rKG8/MTotMSk7bz9oLS06KytoPGQ7KWlmKGUodFtoXSxoLHQpKXJldHVybiBoO3JldHVybi0xfWZ1bmN0aW9uIGJhc2VJc05hTih0KXtyZXR1cm4gdCE9PXR9ZnVuY3Rpb24gc3RyaWN0SW5kZXhPZih0LGUsbil7Zm9yKHZhciBvPW4tMSxkPXQubGVuZ3RoOysrbzxkOylpZih0W29dPT09ZSlyZXR1cm4gbztyZXR1cm4tMX1mdW5jdGlvbiBiYXNlSW5kZXhPZih0LGUsbil7cmV0dXJuIGU9PT1lP3N0cmljdEluZGV4T2YodCxlLG4pOmJhc2VGaW5kSW5kZXgodCxiYXNlSXNOYU4sbil9ZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyh0LGUpe3ZhciBuPXQ9PW51bGw/MDp0Lmxlbmd0aDtyZXR1cm4hIW4mJmJhc2VJbmRleE9mKHQsZSwwKT4tMX12YXIgV1JBUF9CSU5EX0ZMQUckNT0xLFdSQVBfQklORF9LRVlfRkxBRyQ0PTIsV1JBUF9DVVJSWV9GTEFHJDU9OCxXUkFQX0NVUlJZX1JJR0hUX0ZMQUckMj0xNixXUkFQX1BBUlRJQUxfRkxBRyQyPTMyLFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHJDI9NjQsV1JBUF9BUllfRkxBRyQyPTEyOCxXUkFQX1JFQVJHX0ZMQUckMT0yNTYsV1JBUF9GTElQX0ZMQUckMT01MTIsd3JhcEZsYWdzPVtbImFyeSIsV1JBUF9BUllfRkxBRyQyXSxbImJpbmQiLFdSQVBfQklORF9GTEFHJDVdLFsiYmluZEtleSIsV1JBUF9CSU5EX0tFWV9GTEFHJDRdLFsiY3VycnkiLFdSQVBfQ1VSUllfRkxBRyQ1XSxbImN1cnJ5UmlnaHQiLFdSQVBfQ1VSUllfUklHSFRfRkxBRyQyXSxbImZsaXAiLFdSQVBfRkxJUF9GTEFHJDFdLFsicGFydGlhbCIsV1JBUF9QQVJUSUFMX0ZMQUckMl0sWyJwYXJ0aWFsUmlnaHQiLFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHJDJdLFsicmVhcmciLFdSQVBfUkVBUkdfRkxBRyQxXV07ZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHModCxlKXtyZXR1cm4gYXJyYXlFYWNoKHdyYXBGbGFncyxmdW5jdGlvbihuKXt2YXIgbz0iXy4iK25bMF07ZSZuWzFdJiYhYXJyYXlJbmNsdWRlcyh0LG8pJiZ0LnB1c2gobyl9KSx0LnNvcnQoKX1mdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcodCxlLG4pe3ZhciBvPWUrIiI7cmV0dXJuIHNldFRvU3RyaW5nJDEodCxpbnNlcnRXcmFwRGV0YWlscyhvLHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKG8pLG4pKSl9dmFyIFdSQVBfQklORF9GTEFHJDQ9MSxXUkFQX0JJTkRfS0VZX0ZMQUckMz0yLFdSQVBfQ1VSUllfQk9VTkRfRkxBRyQxPTQsV1JBUF9DVVJSWV9GTEFHJDQ9OCxXUkFQX1BBUlRJQUxfRkxBRyQxPTMyLFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHJDE9NjQ7ZnVuY3Rpb24gY3JlYXRlUmVjdXJyeSh0LGUsbixvLGQsaCxsLHUscCxnKXt2YXIgdj1lJldSQVBfQ1VSUllfRkxBRyQ0LGI9dj9sOnZvaWQgMCxfPXY/dm9pZCAwOmwsTz12P2g6dm9pZCAwLFQ9dj92b2lkIDA6aDtlfD12P1dSQVBfUEFSVElBTF9GTEFHJDE6V1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUckMSxlJj1+KHY/V1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUckMTpXUkFQX1BBUlRJQUxfRkxBRyQxKSxlJldSQVBfQ1VSUllfQk9VTkRfRkxBRyQxfHwoZSY9fihXUkFQX0JJTkRfRkxBRyQ0fFdSQVBfQklORF9LRVlfRkxBRyQzKSk7dmFyIGo9W3QsZSxkLE8sYixULF8sdSxwLGddLE49bi5hcHBseSh2b2lkIDAsaik7cmV0dXJuIGlzTGF6aWFibGUodCkmJnNldERhdGEkMShOLGopLE4ucGxhY2Vob2xkZXI9byxzZXRXcmFwVG9TdHJpbmcoTix0LGUpfWZ1bmN0aW9uIGdldEhvbGRlcih0KXt2YXIgZT10O3JldHVybiBlLnBsYWNlaG9sZGVyfXZhciBNQVhfU0FGRV9JTlRFR0VSPTkwMDcxOTkyNTQ3NDA5OTEscmVJc1VpbnQ9L14oPzowfFsxLTldXGQqKSQvO2Z1bmN0aW9uIGlzSW5kZXgodCxlKXt2YXIgbj10eXBlb2YgdDtyZXR1cm4gZT1lPz9NQVhfU0FGRV9JTlRFR0VSLCEhZSYmKG49PSJudW1iZXIifHxuIT0ic3ltYm9sIiYmcmVJc1VpbnQudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmdDxlfXZhciBuYXRpdmVNaW4kMj1NYXRoLm1pbjtmdW5jdGlvbiByZW9yZGVyKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLG89bmF0aXZlTWluJDIoZS5sZW5ndGgsbiksZD1jb3B5QXJyYXkodCk7by0tOyl7dmFyIGg9ZVtvXTt0W29dPWlzSW5kZXgoaCxuKT9kW2hdOnZvaWQgMH1yZXR1cm4gdH12YXIgUExBQ0VIT0xERVIkMT0iX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyI7ZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnModCxlKXtmb3IodmFyIG49LTEsbz10Lmxlbmd0aCxkPTAsaD1bXTsrK248bzspe3ZhciBsPXRbbl07KGw9PT1lfHxsPT09UExBQ0VIT0xERVIkMSkmJih0W25dPVBMQUNFSE9MREVSJDEsaFtkKytdPW4pfXJldHVybiBofXZhciBXUkFQX0JJTkRfRkxBRyQzPTEsV1JBUF9CSU5EX0tFWV9GTEFHJDI9MixXUkFQX0NVUlJZX0ZMQUckMz04LFdSQVBfQ1VSUllfUklHSFRfRkxBRyQxPTE2LFdSQVBfQVJZX0ZMQUckMT0xMjgsV1JBUF9GTElQX0ZMQUc9NTEyO2Z1bmN0aW9uIGNyZWF0ZUh5YnJpZCh0LGUsbixvLGQsaCxsLHUscCxnKXt2YXIgdj1lJldSQVBfQVJZX0ZMQUckMSxiPWUmV1JBUF9CSU5EX0ZMQUckMyxfPWUmV1JBUF9CSU5EX0tFWV9GTEFHJDIsTz1lJihXUkFQX0NVUlJZX0ZMQUckM3xXUkFQX0NVUlJZX1JJR0hUX0ZMQUckMSksVD1lJldSQVBfRkxJUF9GTEFHLGo9Xz92b2lkIDA6Y3JlYXRlQ3Rvcih0KTtmdW5jdGlvbiBOKCl7Zm9yKHZhciBCPWFyZ3VtZW50cy5sZW5ndGgsQz1BcnJheShCKSxMPUI7TC0tOylDW0xdPWFyZ3VtZW50c1tMXTtpZihPKXZhciBTPWdldEhvbGRlcihOKSxQPWNvdW50SG9sZGVycyhDLFMpO2lmKG8mJihDPWNvbXBvc2VBcmdzKEMsbyxkLE8pKSxoJiYoQz1jb21wb3NlQXJnc1JpZ2h0KEMsaCxsLE8pKSxCLT1QLE8mJkI8Zyl7dmFyIEY9cmVwbGFjZUhvbGRlcnMoQyxTKTtyZXR1cm4gY3JlYXRlUmVjdXJyeSh0LGUsY3JlYXRlSHlicmlkLE4ucGxhY2Vob2xkZXIsbixDLEYsdSxwLGctQil9dmFyIGs9Yj9uOnRoaXMsSj1fP2tbdF06dDtyZXR1cm4gQj1DLmxlbmd0aCx1P0M9cmVvcmRlcihDLHUpOlQmJkI+MSYmQy5yZXZlcnNlKCksdiYmcDxCJiYoQy5sZW5ndGg9cCksdGhpcyYmdGhpcyE9PXJvb3QkMiYmdGhpcyBpbnN0YW5jZW9mIE4mJihKPWp8fGNyZWF0ZUN0b3IoSikpLEouYXBwbHkoayxDKX1yZXR1cm4gTn1mdW5jdGlvbiBjcmVhdGVDdXJyeSh0LGUsbil7dmFyIG89Y3JlYXRlQ3Rvcih0KTtmdW5jdGlvbiBkKCl7Zm9yKHZhciBoPWFyZ3VtZW50cy5sZW5ndGgsbD1BcnJheShoKSx1PWgscD1nZXRIb2xkZXIoZCk7dS0tOylsW3VdPWFyZ3VtZW50c1t1XTt2YXIgZz1oPDMmJmxbMF0hPT1wJiZsW2gtMV0hPT1wP1tdOnJlcGxhY2VIb2xkZXJzKGwscCk7aWYoaC09Zy5sZW5ndGgsaDxuKXJldHVybiBjcmVhdGVSZWN1cnJ5KHQsZSxjcmVhdGVIeWJyaWQsZC5wbGFjZWhvbGRlcix2b2lkIDAsbCxnLHZvaWQgMCx2b2lkIDAsbi1oKTt2YXIgdj10aGlzJiZ0aGlzIT09cm9vdCQyJiZ0aGlzIGluc3RhbmNlb2YgZD9vOnQ7cmV0dXJuIGFwcGx5KHYsdGhpcyxsKX1yZXR1cm4gZH12YXIgV1JBUF9CSU5EX0ZMQUckMj0xO2Z1bmN0aW9uIGNyZWF0ZVBhcnRpYWwodCxlLG4sbyl7dmFyIGQ9ZSZXUkFQX0JJTkRfRkxBRyQyLGg9Y3JlYXRlQ3Rvcih0KTtmdW5jdGlvbiBsKCl7Zm9yKHZhciB1PS0xLHA9YXJndW1lbnRzLmxlbmd0aCxnPS0xLHY9by5sZW5ndGgsYj1BcnJheSh2K3ApLF89dGhpcyYmdGhpcyE9PXJvb3QkMiYmdGhpcyBpbnN0YW5jZW9mIGw/aDp0OysrZzx2OyliW2ddPW9bZ107Zm9yKDtwLS07KWJbZysrXT1hcmd1bWVudHNbKyt1XTtyZXR1cm4gYXBwbHkoXyxkP246dGhpcyxiKX1yZXR1cm4gbH12YXIgUExBQ0VIT0xERVI9Il9fbG9kYXNoX3BsYWNlaG9sZGVyX18iLFdSQVBfQklORF9GTEFHJDE9MSxXUkFQX0JJTkRfS0VZX0ZMQUckMT0yLFdSQVBfQ1VSUllfQk9VTkRfRkxBRz00LFdSQVBfQ1VSUllfRkxBRyQyPTgsV1JBUF9BUllfRkxBRz0xMjgsV1JBUF9SRUFSR19GTEFHPTI1NixuYXRpdmVNaW4kMT1NYXRoLm1pbjtmdW5jdGlvbiBtZXJnZURhdGEodCxlKXt2YXIgbj10WzFdLG89ZVsxXSxkPW58byxoPWQ8KFdSQVBfQklORF9GTEFHJDF8V1JBUF9CSU5EX0tFWV9GTEFHJDF8V1JBUF9BUllfRkxBRyksbD1vPT1XUkFQX0FSWV9GTEFHJiZuPT1XUkFQX0NVUlJZX0ZMQUckMnx8bz09V1JBUF9BUllfRkxBRyYmbj09V1JBUF9SRUFSR19GTEFHJiZ0WzddLmxlbmd0aDw9ZVs4XXx8bz09KFdSQVBfQVJZX0ZMQUd8V1JBUF9SRUFSR19GTEFHKSYmZVs3XS5sZW5ndGg8PWVbOF0mJm49PVdSQVBfQ1VSUllfRkxBRyQyO2lmKCEoaHx8bCkpcmV0dXJuIHQ7byZXUkFQX0JJTkRfRkxBRyQxJiYodFsyXT1lWzJdLGR8PW4mV1JBUF9CSU5EX0ZMQUckMT8wOldSQVBfQ1VSUllfQk9VTkRfRkxBRyk7dmFyIHU9ZVszXTtpZih1KXt2YXIgcD10WzNdO3RbM109cD9jb21wb3NlQXJncyhwLHUsZVs0XSk6dSx0WzRdPXA/cmVwbGFjZUhvbGRlcnModFszXSxQTEFDRUhPTERFUik6ZVs0XX1yZXR1cm4gdT1lWzVdLHUmJihwPXRbNV0sdFs1XT1wP2NvbXBvc2VBcmdzUmlnaHQocCx1LGVbNl0pOnUsdFs2XT1wP3JlcGxhY2VIb2xkZXJzKHRbNV0sUExBQ0VIT0xERVIpOmVbNl0pLHU9ZVs3XSx1JiYodFs3XT11KSxvJldSQVBfQVJZX0ZMQUcmJih0WzhdPXRbOF09PW51bGw/ZVs4XTpuYXRpdmVNaW4kMSh0WzhdLGVbOF0pKSx0WzldPT1udWxsJiYodFs5XT1lWzldKSx0WzBdPWVbMF0sdFsxXT1kLHR9dmFyIEZVTkNfRVJST1JfVEVYVCQxPSJFeHBlY3RlZCBhIGZ1bmN0aW9uIixXUkFQX0JJTkRfRkxBRz0xLFdSQVBfQklORF9LRVlfRkxBRz0yLFdSQVBfQ1VSUllfRkxBRyQxPTgsV1JBUF9DVVJSWV9SSUdIVF9GTEFHPTE2LFdSQVBfUEFSVElBTF9GTEFHPTMyLFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHPTY0LG5hdGl2ZU1heCQxPU1hdGgubWF4O2Z1bmN0aW9uIGNyZWF0ZVdyYXAodCxlLG4sbyxkLGgsbCx1KXt2YXIgcD1lJldSQVBfQklORF9LRVlfRkxBRztpZighcCYmdHlwZW9mIHQhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQkMSk7dmFyIGc9bz9vLmxlbmd0aDowO2lmKGd8fChlJj1+KFdSQVBfUEFSVElBTF9GTEFHfFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKSxvPWQ9dm9pZCAwKSxsPWw9PT12b2lkIDA/bDpuYXRpdmVNYXgkMSh0b0ludGVnZXIobCksMCksdT11PT09dm9pZCAwP3U6dG9JbnRlZ2VyKHUpLGctPWQ/ZC5sZW5ndGg6MCxlJldSQVBfUEFSVElBTF9SSUdIVF9GTEFHKXt2YXIgdj1vLGI9ZDtvPWQ9dm9pZCAwfXZhciBfPXA/dm9pZCAwOmdldERhdGEkMSh0KSxPPVt0LGUsbixvLGQsdixiLGgsbCx1XTtpZihfJiZtZXJnZURhdGEoTyxfKSx0PU9bMF0sZT1PWzFdLG49T1syXSxvPU9bM10sZD1PWzRdLHU9T1s5XT1PWzldPT09dm9pZCAwP3A/MDp0Lmxlbmd0aDpuYXRpdmVNYXgkMShPWzldLWcsMCksIXUmJmUmKFdSQVBfQ1VSUllfRkxBRyQxfFdSQVBfQ1VSUllfUklHSFRfRkxBRykmJihlJj1+KFdSQVBfQ1VSUllfRkxBRyQxfFdSQVBfQ1VSUllfUklHSFRfRkxBRykpLCFlfHxlPT1XUkFQX0JJTkRfRkxBRyl2YXIgVD1jcmVhdGVCaW5kKHQsZSxuKTtlbHNlIGU9PVdSQVBfQ1VSUllfRkxBRyQxfHxlPT1XUkFQX0NVUlJZX1JJR0hUX0ZMQUc/VD1jcmVhdGVDdXJyeSh0LGUsdSk6KGU9PVdSQVBfUEFSVElBTF9GTEFHfHxlPT0oV1JBUF9CSU5EX0ZMQUd8V1JBUF9QQVJUSUFMX0ZMQUcpKSYmIWQubGVuZ3RoP1Q9Y3JlYXRlUGFydGlhbCh0LGUsbixvKTpUPWNyZWF0ZUh5YnJpZC5hcHBseSh2b2lkIDAsTyk7dmFyIGo9Xz9iYXNlU2V0RGF0YSQxOnNldERhdGEkMTtyZXR1cm4gc2V0V3JhcFRvU3RyaW5nKGooVCxPKSx0LGUpfXZhciBXUkFQX0NVUlJZX0ZMQUc9ODtmdW5jdGlvbiBjdXJyeSh0LGUsbil7ZT1uP3ZvaWQgMDplO3ZhciBvPWNyZWF0ZVdyYXAodCxXUkFQX0NVUlJZX0ZMQUcsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlKTtyZXR1cm4gby5wbGFjZWhvbGRlcj1jdXJyeS5wbGFjZWhvbGRlcixvfWN1cnJ5LnBsYWNlaG9sZGVyPXt9O3ZhciBub3ckMj1mdW5jdGlvbigpe3JldHVybiByb290JDIuRGF0ZS5ub3coKX0sbm93JDM9bm93JDIsRlVOQ19FUlJPUl9URVhUPSJFeHBlY3RlZCBhIGZ1bmN0aW9uIixuYXRpdmVNYXg9TWF0aC5tYXgsbmF0aXZlTWluPU1hdGgubWluO2Z1bmN0aW9uIGRlYm91bmNlKHQsZSxuKXt2YXIgbyxkLGgsbCx1LHAsZz0wLHY9ITEsYj0hMSxfPSEwO2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtlPXRvTnVtYmVyKGUpfHwwLGlzT2JqZWN0KG4pJiYodj0hIW4ubGVhZGluZyxiPSJtYXhXYWl0ImluIG4saD1iP25hdGl2ZU1heCh0b051bWJlcihuLm1heFdhaXQpfHwwLGUpOmgsXz0idHJhaWxpbmciaW4gbj8hIW4udHJhaWxpbmc6Xyk7ZnVuY3Rpb24gTyhGKXt2YXIgaz1vLEo9ZDtyZXR1cm4gbz1kPXZvaWQgMCxnPUYsbD10LmFwcGx5KEosayksbH1mdW5jdGlvbiBUKEYpe3JldHVybiBnPUYsdT1zZXRUaW1lb3V0KEIsZSksdj9PKEYpOmx9ZnVuY3Rpb24gaihGKXt2YXIgaz1GLXAsSj1GLWcsYWU9ZS1rO3JldHVybiBiP25hdGl2ZU1pbihhZSxoLUopOmFlfWZ1bmN0aW9uIE4oRil7dmFyIGs9Ri1wLEo9Ri1nO3JldHVybiBwPT09dm9pZCAwfHxrPj1lfHxrPDB8fGImJko+PWh9ZnVuY3Rpb24gQigpe3ZhciBGPW5vdyQzKCk7aWYoTihGKSlyZXR1cm4gQyhGKTt1PXNldFRpbWVvdXQoQixqKEYpKX1mdW5jdGlvbiBDKEYpe3JldHVybiB1PXZvaWQgMCxfJiZvP08oRik6KG89ZD12b2lkIDAsbCl9ZnVuY3Rpb24gTCgpe3UhPT12b2lkIDAmJmNsZWFyVGltZW91dCh1KSxnPTAsbz1wPWQ9dT12b2lkIDB9ZnVuY3Rpb24gUygpe3JldHVybiB1PT09dm9pZCAwP2w6Qyhub3ckMygpKX1mdW5jdGlvbiBQKCl7dmFyIEY9bm93JDMoKSxrPU4oRik7aWYobz1hcmd1bWVudHMsZD10aGlzLHA9RixrKXtpZih1PT09dm9pZCAwKXJldHVybiBUKHApO2lmKGIpcmV0dXJuIGNsZWFyVGltZW91dCh1KSx1PXNldFRpbWVvdXQoQixlKSxPKHApfXJldHVybiB1PT09dm9pZCAwJiYodT1zZXRUaW1lb3V0KEIsZSkpLGx9cmV0dXJuIFAuY2FuY2VsPUwsUC5mbHVzaD1TLFB9ZnVuY3Rpb24gZnJvbVBhaXJzKHQpe2Zvcih2YXIgZT0tMSxuPXQ9PW51bGw/MDp0Lmxlbmd0aCxvPXt9OysrZTxuOyl7dmFyIGQ9dFtlXTtvW2RbMF1dPWRbMV19cmV0dXJuIG99Y29uc3QgYmFja2VuZD1uZXcgTWVtb3J5TGV2ZWxfMSxkZj1uZXcgcmRmRGF0YUZhY3RvcnkuRGF0YUZhY3Rvcnksc3RvcmU9bmV3IFF1YWRzdG9yZSh7YmFja2VuZCxkYXRhRmFjdG9yeTpkZn0pLGVuZ2luZT1uZXcgX19xdWFkc3RvcmVfY29tdW5pY2FfZXhwb3J0c19fRW5naW5lKHN0b3JlKTthc3luYyBmdW5jdGlvbiBidWlsZEdyYXBoKHQpe2NvbnNvbGUubG9nKCJCVUlMRElORyBHUkFQSCIsdCk7Y29uc3R7bm9kZXM6ZSxsaW5rczpufT10LGQ9Wy4uLm4ubWFwKCh7c291cmNlOmgsdGFyZ2V0Omx9KT0+ZGYucXVhZChkZi5uYW1lZE5vZGUobC5pZCksZGYubmFtZWROb2RlKERPV05TVFJFQU1fRlJPTSksZGYubmFtZWROb2RlKGguaWQpLGRmLmRlZmF1bHRHcmFwaCgpKSldO2NvbnNvbGUubG9nKCJwdXR0aW5nIGVudHJpZXMiLGQpLGF3YWl0IHN0b3JlLm9wZW4oKSxhd2FpdCBzdG9yZS5jbGVhcigpLGF3YWl0IHN0b3JlLm11bHRpUHV0KGQpLGNvbnNvbGUubG9nKCJpbnNlcnRlZCIsZC5sZW5ndGgsImVudHJpZXMiKX1jb25zdCBnZXRQcm9wcz10PT4oYXN5bmMgZT0+ZnJvbVBhaXJzKFtlXS5mbGF0KCkubWFwKG49PltuLHQuZ2V0KG4pXSkpKS5iaW5kKHQpLGRvUXVlcnk9YXN5bmModCxlLG4sbyk9Pnthd2FpdCBlbmdpbmUucXVlcnlCaW5kaW5ncyh0KS50aGVuKGQ9PntlJiZkLm9uKCJkYXRhIixoPT5lKGgscHJveHkoZ2V0UHJvcHMoaCkpKSksbiYmZC5vbigiZW5kIixoPT5uKGgsaCYmcHJveHkoaC5nZXQuYmluZChoKSkpKSxvJiZkLm9uKCJlcnJvciIsaD0+byhoLGgmJnByb3h5KGguZ2V0LmJpbmQoaCkpKSl9KX07dmFyIGRiPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJ1aWxkR3JhcGgsZG9RdWVyeX0pLHJhZkV4cG9ydHM9e30scmFmJDE9e2dldCBleHBvcnRzKCl7cmV0dXJuIHJhZkV4cG9ydHN9LHNldCBleHBvcnRzKHQpe3JhZkV4cG9ydHM9dH19LHBlcmZvcm1hbmNlTm93RXhwb3J0cz17fSxwZXJmb3JtYW5jZU5vdz17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gcGVyZm9ybWFuY2VOb3dFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtwZXJmb3JtYW5jZU5vd0V4cG9ydHM9dH19OyhmdW5jdGlvbigpe3ZhciB0LGUsbixvLGQsaDt0eXBlb2YgcGVyZm9ybWFuY2U8InUiJiZwZXJmb3JtYW5jZSE9PW51bGwmJnBlcmZvcm1hbmNlLm5vdz9wZXJmb3JtYW5jZU5vdy5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpfTp0eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3MhPT1udWxsJiZwcm9jZXNzLmhydGltZT8ocGVyZm9ybWFuY2VOb3cuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybih0KCktZCkvMWU2fSxlPXByb2Nlc3MuaHJ0aW1lLHQ9ZnVuY3Rpb24oKXt2YXIgbDtyZXR1cm4gbD1lKCksbFswXSoxZTkrbFsxXX0sbz10KCksaD1wcm9jZXNzLnVwdGltZSgpKjFlOSxkPW8taCk6RGF0ZS5ub3c/KHBlcmZvcm1hbmNlTm93LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKS1ufSxuPURhdGUubm93KCkpOihwZXJmb3JtYW5jZU5vdy5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpLW59LG49bmV3IERhdGUoKS5nZXRUaW1lKCkpfSkuY2FsbChjb21tb25qc0dsb2JhbCk7dmFyIG5vdyQxPXBlcmZvcm1hbmNlTm93RXhwb3J0cyxyb290PXR5cGVvZiB3aW5kb3c+InUiP2NvbW1vbmpzR2xvYmFsOndpbmRvdyx2ZW5kb3JzPVsibW96Iiwid2Via2l0Il0sc3VmZml4PSJBbmltYXRpb25GcmFtZSIscmFmPXJvb3RbInJlcXVlc3QiK3N1ZmZpeF0sY2FmPXJvb3RbImNhbmNlbCIrc3VmZml4XXx8cm9vdFsiY2FuY2VsUmVxdWVzdCIrc3VmZml4XTtmb3IodmFyIGk9MDshcmFmJiZpPHZlbmRvcnMubGVuZ3RoO2krKylyYWY9cm9vdFt2ZW5kb3JzW2ldKyJSZXF1ZXN0IitzdWZmaXhdLGNhZj1yb290W3ZlbmRvcnNbaV0rIkNhbmNlbCIrc3VmZml4XXx8cm9vdFt2ZW5kb3JzW2ldKyJDYW5jZWxSZXF1ZXN0IitzdWZmaXhdO2lmKCFyYWZ8fCFjYWYpe3ZhciBsYXN0PTAsaWQ9MCxxdWV1ZT1bXSxmcmFtZUR1cmF0aW9uPTFlMy82MDtyYWY9ZnVuY3Rpb24odCl7aWYocXVldWUubGVuZ3RoPT09MCl7dmFyIGU9bm93JDEoKSxuPU1hdGgubWF4KDAsZnJhbWVEdXJhdGlvbi0oZS1sYXN0KSk7bGFzdD1uK2Usc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBvPXF1ZXVlLnNsaWNlKDApO3F1ZXVlLmxlbmd0aD0wO2Zvcih2YXIgZD0wO2Q8by5sZW5ndGg7ZCsrKWlmKCFvW2RdLmNhbmNlbGxlZCl0cnl7b1tkXS5jYWxsYmFjayhsYXN0KX1jYXRjaChoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgaH0sMCl9fSxNYXRoLnJvdW5kKG4pKX1yZXR1cm4gcXVldWUucHVzaCh7aGFuZGxlOisraWQsY2FsbGJhY2s6dCxjYW5jZWxsZWQ6ITF9KSxpZH0sY2FmPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8cXVldWUubGVuZ3RoO2UrKylxdWV1ZVtlXS5oYW5kbGU9PT10JiYocXVldWVbZV0uY2FuY2VsbGVkPSEwKX19cmFmJDEuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcmFmLmNhbGwocm9vdCx0KX07cmFmRXhwb3J0cy5jYW5jZWw9ZnVuY3Rpb24oKXtjYWYuYXBwbHkocm9vdCxhcmd1bWVudHMpfTtyYWZFeHBvcnRzLnBvbHlmaWxsPWZ1bmN0aW9uKHQpe3R8fCh0PXJvb3QpLHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXJhZix0LmNhbmNlbEFuaW1hdGlvbkZyYW1lPWNhZn07ZnVuY3Rpb24gZm9yY2VDZW50ZXIodCxlLG4pe3ZhciBvLGQ9MTt0PT1udWxsJiYodD0wKSxlPT1udWxsJiYoZT0wKSxuPT1udWxsJiYobj0wKTtmdW5jdGlvbiBoKCl7dmFyIGwsdT1vLmxlbmd0aCxwLGc9MCx2PTAsYj0wO2ZvcihsPTA7bDx1OysrbClwPW9bbF0sZys9cC54fHwwLHYrPXAueXx8MCxiKz1wLnp8fDA7Zm9yKGc9KGcvdS10KSpkLHY9KHYvdS1lKSpkLGI9KGIvdS1uKSpkLGw9MDtsPHU7KytsKXA9b1tsXSxnJiYocC54LT1nKSx2JiYocC55LT12KSxiJiYocC56LT1iKX1yZXR1cm4gaC5pbml0aWFsaXplPWZ1bmN0aW9uKGwpe289bH0saC54PWZ1bmN0aW9uKGwpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PStsLGgpOnR9LGgueT1mdW5jdGlvbihsKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0rbCxoKTplfSxoLno9ZnVuY3Rpb24obCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49K2wsaCk6bn0saC5zdHJlbmd0aD1mdW5jdGlvbihsKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD0rbCxoKTpkfSxofWZ1bmN0aW9uIHRyZWVfYWRkJDIodCl7Y29uc3QgZT0rdGhpcy5feC5jYWxsKG51bGwsdCk7cmV0dXJuIGFkZCQzKHRoaXMuY292ZXIoZSksZSx0KX1mdW5jdGlvbiBhZGQkMyh0LGUsbil7aWYoaXNOYU4oZSkpcmV0dXJuIHQ7dmFyIG8sZD10Ll9yb290LGg9e2RhdGE6bn0sbD10Ll94MCx1PXQuX3gxLHAsZyx2LGIsXztpZighZClyZXR1cm4gdC5fcm9vdD1oLHQ7Zm9yKDtkLmxlbmd0aDspaWYoKHY9ZT49KHA9KGwrdSkvMikpP2w9cDp1PXAsbz1kLCEoZD1kW2I9K3ZdKSlyZXR1cm4gb1tiXT1oLHQ7aWYoZz0rdC5feC5jYWxsKG51bGwsZC5kYXRhKSxlPT09ZylyZXR1cm4gaC5uZXh0PWQsbz9vW2JdPWg6dC5fcm9vdD1oLHQ7ZG8gbz1vP29bYl09bmV3IEFycmF5KDIpOnQuX3Jvb3Q9bmV3IEFycmF5KDIpLCh2PWU+PShwPShsK3UpLzIpKT9sPXA6dT1wO3doaWxlKChiPSt2KT09KF89KyhnPj1wKSkpO3JldHVybiBvW19dPWQsb1tiXT1oLHR9ZnVuY3Rpb24gYWRkQWxsJDIodCl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9QXJyYXkuZnJvbSh0KSk7Y29uc3QgZT10Lmxlbmd0aCxuPW5ldyBGbG9hdDY0QXJyYXkoZSk7bGV0IG89MS8wLGQ9LTEvMDtmb3IobGV0IGg9MCxsO2g8ZTsrK2gpaXNOYU4obD0rdGhpcy5feC5jYWxsKG51bGwsdFtoXSkpfHwobltoXT1sLGw8byYmKG89bCksbD5kJiYoZD1sKSk7aWYobz5kKXJldHVybiB0aGlzO3RoaXMuY292ZXIobykuY292ZXIoZCk7Zm9yKGxldCBoPTA7aDxlOysraClhZGQkMyh0aGlzLG5baF0sdFtoXSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV9jb3ZlciQyKHQpe2lmKGlzTmFOKHQ9K3QpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuX3gwLG49dGhpcy5feDE7aWYoaXNOYU4oZSkpbj0oZT1NYXRoLmZsb29yKHQpKSsxO2Vsc2V7Zm9yKHZhciBvPW4tZXx8MSxkPXRoaXMuX3Jvb3QsaCxsO2U+dHx8dD49bjspc3dpdGNoKGw9Kyh0PGUpLGg9bmV3IEFycmF5KDIpLGhbbF09ZCxkPWgsbyo9MixsKXtjYXNlIDA6bj1lK287YnJlYWs7Y2FzZSAxOmU9bi1vO2JyZWFrfXRoaXMuX3Jvb3QmJnRoaXMuX3Jvb3QubGVuZ3RoJiYodGhpcy5fcm9vdD1kKX1yZXR1cm4gdGhpcy5feDA9ZSx0aGlzLl94MT1uLHRoaXN9ZnVuY3Rpb24gdHJlZV9kYXRhJDIoKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy52aXNpdChmdW5jdGlvbihlKXtpZighZS5sZW5ndGgpZG8gdC5wdXNoKGUuZGF0YSk7d2hpbGUoZT1lLm5leHQpfSksdH1mdW5jdGlvbiB0cmVlX2V4dGVudCQyKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuY292ZXIoK3RbMF1bMF0pLmNvdmVyKCt0WzFdWzBdKTppc05hTih0aGlzLl94MCk/dm9pZCAwOltbdGhpcy5feDBdLFt0aGlzLl94MV1dfWZ1bmN0aW9uIEhhbGYodCxlLG4pe3RoaXMubm9kZT10LHRoaXMueDA9ZSx0aGlzLngxPW59ZnVuY3Rpb24gdHJlZV9maW5kJDIodCxlKXt2YXIgbixvPXRoaXMuX3gwLGQsaCxsPXRoaXMuX3gxLHU9W10scD10aGlzLl9yb290LGcsdjtmb3IocCYmdS5wdXNoKG5ldyBIYWxmKHAsbyxsKSksZT09bnVsbD9lPTEvMDoobz10LWUsbD10K2UpO2c9dS5wb3AoKTspaWYoISghKHA9Zy5ub2RlKXx8KGQ9Zy54MCk+bHx8KGg9Zy54MSk8bykpaWYocC5sZW5ndGgpe3ZhciBiPShkK2gpLzI7dS5wdXNoKG5ldyBIYWxmKHBbMV0sYixoKSxuZXcgSGFsZihwWzBdLGQsYikpLCh2PSsodD49YikpJiYoZz11W3UubGVuZ3RoLTFdLHVbdS5sZW5ndGgtMV09dVt1Lmxlbmd0aC0xLXZdLHVbdS5sZW5ndGgtMS12XT1nKX1lbHNle3ZhciBfPU1hdGguYWJzKHQtK3RoaXMuX3guY2FsbChudWxsLHAuZGF0YSkpO188ZSYmKGU9XyxvPXQtXyxsPXQrXyxuPXAuZGF0YSl9cmV0dXJuIG59ZnVuY3Rpb24gdHJlZV9yZW1vdmUkMih0KXtpZihpc05hTihwPSt0aGlzLl94LmNhbGwobnVsbCx0KSkpcmV0dXJuIHRoaXM7dmFyIGUsbj10aGlzLl9yb290LG8sZCxoLGw9dGhpcy5feDAsdT10aGlzLl94MSxwLGcsdixiLF87aWYoIW4pcmV0dXJuIHRoaXM7aWYobi5sZW5ndGgpZm9yKDs7KXtpZigodj1wPj0oZz0obCt1KS8yKSk/bD1nOnU9ZyxlPW4sIShuPW5bYj0rdl0pKXJldHVybiB0aGlzO2lmKCFuLmxlbmd0aClicmVhaztlW2IrMSYxXSYmKG89ZSxfPWIpfWZvcig7bi5kYXRhIT09dDspaWYoZD1uLCEobj1uLm5leHQpKXJldHVybiB0aGlzO3JldHVybihoPW4ubmV4dCkmJmRlbGV0ZSBuLm5leHQsZD8oaD9kLm5leHQ9aDpkZWxldGUgZC5uZXh0LHRoaXMpOmU/KGg/ZVtiXT1oOmRlbGV0ZSBlW2JdLChuPWVbMF18fGVbMV0pJiZuPT09KGVbMV18fGVbMF0pJiYhbi5sZW5ndGgmJihvP29bX109bjp0aGlzLl9yb290PW4pLHRoaXMpOih0aGlzLl9yb290PWgsdGhpcyl9ZnVuY3Rpb24gcmVtb3ZlQWxsJDIodCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47KytlKXRoaXMucmVtb3ZlKHRbZV0pO3JldHVybiB0aGlzfWZ1bmN0aW9uIHRyZWVfcm9vdCQyKCl7cmV0dXJuIHRoaXMuX3Jvb3R9ZnVuY3Rpb24gdHJlZV9zaXplJDIoKXt2YXIgdD0wO3JldHVybiB0aGlzLnZpc2l0KGZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClkbysrdDt3aGlsZShlPWUubmV4dCl9KSx0fWZ1bmN0aW9uIHRyZWVfdmlzaXQkMih0KXt2YXIgZT1bXSxuLG89dGhpcy5fcm9vdCxkLGgsbDtmb3IobyYmZS5wdXNoKG5ldyBIYWxmKG8sdGhpcy5feDAsdGhpcy5feDEpKTtuPWUucG9wKCk7KWlmKCF0KG89bi5ub2RlLGg9bi54MCxsPW4ueDEpJiZvLmxlbmd0aCl7dmFyIHU9KGgrbCkvMjsoZD1vWzFdKSYmZS5wdXNoKG5ldyBIYWxmKGQsdSxsKSksKGQ9b1swXSkmJmUucHVzaChuZXcgSGFsZihkLGgsdSkpfXJldHVybiB0aGlzfWZ1bmN0aW9uIHRyZWVfdmlzaXRBZnRlciQyKHQpe3ZhciBlPVtdLG49W10sbztmb3IodGhpcy5fcm9vdCYmZS5wdXNoKG5ldyBIYWxmKHRoaXMuX3Jvb3QsdGhpcy5feDAsdGhpcy5feDEpKTtvPWUucG9wKCk7KXt2YXIgZD1vLm5vZGU7aWYoZC5sZW5ndGgpe3ZhciBoLGw9by54MCx1PW8ueDEscD0obCt1KS8yOyhoPWRbMF0pJiZlLnB1c2gobmV3IEhhbGYoaCxsLHApKSwoaD1kWzFdKSYmZS5wdXNoKG5ldyBIYWxmKGgscCx1KSl9bi5wdXNoKG8pfWZvcig7bz1uLnBvcCgpOyl0KG8ubm9kZSxvLngwLG8ueDEpO3JldHVybiB0aGlzfWZ1bmN0aW9uIGRlZmF1bHRYJDIodCl7cmV0dXJuIHRbMF19ZnVuY3Rpb24gdHJlZV94JDIodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3g9dCx0aGlzKTp0aGlzLl94fWZ1bmN0aW9uIGJpbmFyeXRyZWUodCxlKXt2YXIgbj1uZXcgQmluYXJ5dHJlZShlPz9kZWZhdWx0WCQyLE5hTixOYU4pO3JldHVybiB0PT1udWxsP246bi5hZGRBbGwodCl9ZnVuY3Rpb24gQmluYXJ5dHJlZSh0LGUsbil7dGhpcy5feD10LHRoaXMuX3gwPWUsdGhpcy5feDE9bix0aGlzLl9yb290PXZvaWQgMH1mdW5jdGlvbiBsZWFmX2NvcHkkMih0KXtmb3IodmFyIGU9e2RhdGE6dC5kYXRhfSxuPWU7dD10Lm5leHQ7KW49bi5uZXh0PXtkYXRhOnQuZGF0YX07cmV0dXJuIGV9dmFyIHRyZWVQcm90byQyPWJpbmFyeXRyZWUucHJvdG90eXBlPUJpbmFyeXRyZWUucHJvdG90eXBlO3RyZWVQcm90byQyLmNvcHk9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQmluYXJ5dHJlZSh0aGlzLl94LHRoaXMuX3gwLHRoaXMuX3gxKSxlPXRoaXMuX3Jvb3QsbixvO2lmKCFlKXJldHVybiB0O2lmKCFlLmxlbmd0aClyZXR1cm4gdC5fcm9vdD1sZWFmX2NvcHkkMihlKSx0O2ZvcihuPVt7c291cmNlOmUsdGFyZ2V0OnQuX3Jvb3Q9bmV3IEFycmF5KDIpfV07ZT1uLnBvcCgpOylmb3IodmFyIGQ9MDtkPDI7KytkKShvPWUuc291cmNlW2RdKSYmKG8ubGVuZ3RoP24ucHVzaCh7c291cmNlOm8sdGFyZ2V0OmUudGFyZ2V0W2RdPW5ldyBBcnJheSgyKX0pOmUudGFyZ2V0W2RdPWxlYWZfY29weSQyKG8pKTtyZXR1cm4gdH07dHJlZVByb3RvJDIuYWRkPXRyZWVfYWRkJDI7dHJlZVByb3RvJDIuYWRkQWxsPWFkZEFsbCQyO3RyZWVQcm90byQyLmNvdmVyPXRyZWVfY292ZXIkMjt0cmVlUHJvdG8kMi5kYXRhPXRyZWVfZGF0YSQyO3RyZWVQcm90byQyLmV4dGVudD10cmVlX2V4dGVudCQyO3RyZWVQcm90byQyLmZpbmQ9dHJlZV9maW5kJDI7dHJlZVByb3RvJDIucmVtb3ZlPXRyZWVfcmVtb3ZlJDI7dHJlZVByb3RvJDIucmVtb3ZlQWxsPXJlbW92ZUFsbCQyO3RyZWVQcm90byQyLnJvb3Q9dHJlZV9yb290JDI7dHJlZVByb3RvJDIuc2l6ZT10cmVlX3NpemUkMjt0cmVlUHJvdG8kMi52aXNpdD10cmVlX3Zpc2l0JDI7dHJlZVByb3RvJDIudmlzaXRBZnRlcj10cmVlX3Zpc2l0QWZ0ZXIkMjt0cmVlUHJvdG8kMi54PXRyZWVfeCQyO2Z1bmN0aW9uIHRyZWVfYWRkJDEodCl7Y29uc3QgZT0rdGhpcy5feC5jYWxsKG51bGwsdCksbj0rdGhpcy5feS5jYWxsKG51bGwsdCk7cmV0dXJuIGFkZCQyKHRoaXMuY292ZXIoZSxuKSxlLG4sdCl9ZnVuY3Rpb24gYWRkJDIodCxlLG4sbyl7aWYoaXNOYU4oZSl8fGlzTmFOKG4pKXJldHVybiB0O3ZhciBkLGg9dC5fcm9vdCxsPXtkYXRhOm99LHU9dC5feDAscD10Ll95MCxnPXQuX3gxLHY9dC5feTEsYixfLE8sVCxqLE4sQixDO2lmKCFoKXJldHVybiB0Ll9yb290PWwsdDtmb3IoO2gubGVuZ3RoOylpZigoaj1lPj0oYj0odStnKS8yKSk/dT1iOmc9YiwoTj1uPj0oXz0ocCt2KS8yKSk/cD1fOnY9XyxkPWgsIShoPWhbQj1OPDwxfGpdKSlyZXR1cm4gZFtCXT1sLHQ7aWYoTz0rdC5feC5jYWxsKG51bGwsaC5kYXRhKSxUPSt0Ll95LmNhbGwobnVsbCxoLmRhdGEpLGU9PT1PJiZuPT09VClyZXR1cm4gbC5uZXh0PWgsZD9kW0JdPWw6dC5fcm9vdD1sLHQ7ZG8gZD1kP2RbQl09bmV3IEFycmF5KDQpOnQuX3Jvb3Q9bmV3IEFycmF5KDQpLChqPWU+PShiPSh1K2cpLzIpKT91PWI6Zz1iLChOPW4+PShfPShwK3YpLzIpKT9wPV86dj1fO3doaWxlKChCPU48PDF8aik9PT0oQz0oVD49Xyk8PDF8Tz49YikpO3JldHVybiBkW0NdPWgsZFtCXT1sLHR9ZnVuY3Rpb24gYWRkQWxsJDEodCl7dmFyIGUsbixvPXQubGVuZ3RoLGQsaCxsPW5ldyBBcnJheShvKSx1PW5ldyBBcnJheShvKSxwPTEvMCxnPTEvMCx2PS0xLzAsYj0tMS8wO2ZvcihuPTA7bjxvOysrbilpc05hTihkPSt0aGlzLl94LmNhbGwobnVsbCxlPXRbbl0pKXx8aXNOYU4oaD0rdGhpcy5feS5jYWxsKG51bGwsZSkpfHwobFtuXT1kLHVbbl09aCxkPHAmJihwPWQpLGQ+diYmKHY9ZCksaDxnJiYoZz1oKSxoPmImJihiPWgpKTtpZihwPnZ8fGc+YilyZXR1cm4gdGhpcztmb3IodGhpcy5jb3ZlcihwLGcpLmNvdmVyKHYsYiksbj0wO248bzsrK24pYWRkJDIodGhpcyxsW25dLHVbbl0sdFtuXSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV9jb3ZlciQxKHQsZSl7aWYoaXNOYU4odD0rdCl8fGlzTmFOKGU9K2UpKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuX3gwLG89dGhpcy5feTAsZD10aGlzLl94MSxoPXRoaXMuX3kxO2lmKGlzTmFOKG4pKWQ9KG49TWF0aC5mbG9vcih0KSkrMSxoPShvPU1hdGguZmxvb3IoZSkpKzE7ZWxzZXtmb3IodmFyIGw9ZC1ufHwxLHU9dGhpcy5fcm9vdCxwLGc7bj50fHx0Pj1kfHxvPmV8fGU+PWg7KXN3aXRjaChnPShlPG8pPDwxfHQ8bixwPW5ldyBBcnJheSg0KSxwW2ddPXUsdT1wLGwqPTIsZyl7Y2FzZSAwOmQ9bitsLGg9bytsO2JyZWFrO2Nhc2UgMTpuPWQtbCxoPW8rbDticmVhaztjYXNlIDI6ZD1uK2wsbz1oLWw7YnJlYWs7Y2FzZSAzOm49ZC1sLG89aC1sO2JyZWFrfXRoaXMuX3Jvb3QmJnRoaXMuX3Jvb3QubGVuZ3RoJiYodGhpcy5fcm9vdD11KX1yZXR1cm4gdGhpcy5feDA9bix0aGlzLl95MD1vLHRoaXMuX3gxPWQsdGhpcy5feTE9aCx0aGlzfWZ1bmN0aW9uIHRyZWVfZGF0YSQxKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMudmlzaXQoZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKWRvIHQucHVzaChlLmRhdGEpO3doaWxlKGU9ZS5uZXh0KX0pLHR9ZnVuY3Rpb24gdHJlZV9leHRlbnQkMSh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmNvdmVyKCt0WzBdWzBdLCt0WzBdWzFdKS5jb3ZlcigrdFsxXVswXSwrdFsxXVsxXSk6aXNOYU4odGhpcy5feDApP3ZvaWQgMDpbW3RoaXMuX3gwLHRoaXMuX3kwXSxbdGhpcy5feDEsdGhpcy5feTFdXX1mdW5jdGlvbiBRdWFkKHQsZSxuLG8sZCl7dGhpcy5ub2RlPXQsdGhpcy54MD1lLHRoaXMueTA9bix0aGlzLngxPW8sdGhpcy55MT1kfWZ1bmN0aW9uIHRyZWVfZmluZCQxKHQsZSxuKXt2YXIgbyxkPXRoaXMuX3gwLGg9dGhpcy5feTAsbCx1LHAsZyx2PXRoaXMuX3gxLGI9dGhpcy5feTEsXz1bXSxPPXRoaXMuX3Jvb3QsVCxqO2ZvcihPJiZfLnB1c2gobmV3IFF1YWQoTyxkLGgsdixiKSksbj09bnVsbD9uPTEvMDooZD10LW4saD1lLW4sdj10K24sYj1lK24sbio9bik7VD1fLnBvcCgpOylpZighKCEoTz1ULm5vZGUpfHwobD1ULngwKT52fHwodT1ULnkwKT5ifHwocD1ULngxKTxkfHwoZz1ULnkxKTxoKSlpZihPLmxlbmd0aCl7dmFyIE49KGwrcCkvMixCPSh1K2cpLzI7Xy5wdXNoKG5ldyBRdWFkKE9bM10sTixCLHAsZyksbmV3IFF1YWQoT1syXSxsLEIsTixnKSxuZXcgUXVhZChPWzFdLE4sdSxwLEIpLG5ldyBRdWFkKE9bMF0sbCx1LE4sQikpLChqPShlPj1CKTw8MXx0Pj1OKSYmKFQ9X1tfLmxlbmd0aC0xXSxfW18ubGVuZ3RoLTFdPV9bXy5sZW5ndGgtMS1qXSxfW18ubGVuZ3RoLTEtal09VCl9ZWxzZXt2YXIgQz10LSt0aGlzLl94LmNhbGwobnVsbCxPLmRhdGEpLEw9ZS0rdGhpcy5feS5jYWxsKG51bGwsTy5kYXRhKSxTPUMqQytMKkw7aWYoUzxuKXt2YXIgUD1NYXRoLnNxcnQobj1TKTtkPXQtUCxoPWUtUCx2PXQrUCxiPWUrUCxvPU8uZGF0YX19cmV0dXJuIG99ZnVuY3Rpb24gdHJlZV9yZW1vdmUkMSh0KXtpZihpc05hTih2PSt0aGlzLl94LmNhbGwobnVsbCx0KSl8fGlzTmFOKGI9K3RoaXMuX3kuY2FsbChudWxsLHQpKSlyZXR1cm4gdGhpczt2YXIgZSxuPXRoaXMuX3Jvb3QsbyxkLGgsbD10aGlzLl94MCx1PXRoaXMuX3kwLHA9dGhpcy5feDEsZz10aGlzLl95MSx2LGIsXyxPLFQsaixOLEI7aWYoIW4pcmV0dXJuIHRoaXM7aWYobi5sZW5ndGgpZm9yKDs7KXtpZigoVD12Pj0oXz0obCtwKS8yKSk/bD1fOnA9Xywoaj1iPj0oTz0odStnKS8yKSk/dT1POmc9TyxlPW4sIShuPW5bTj1qPDwxfFRdKSlyZXR1cm4gdGhpcztpZighbi5sZW5ndGgpYnJlYWs7KGVbTisxJjNdfHxlW04rMiYzXXx8ZVtOKzMmM10pJiYobz1lLEI9Til9Zm9yKDtuLmRhdGEhPT10OylpZihkPW4sIShuPW4ubmV4dCkpcmV0dXJuIHRoaXM7cmV0dXJuKGg9bi5uZXh0KSYmZGVsZXRlIG4ubmV4dCxkPyhoP2QubmV4dD1oOmRlbGV0ZSBkLm5leHQsdGhpcyk6ZT8oaD9lW05dPWg6ZGVsZXRlIGVbTl0sKG49ZVswXXx8ZVsxXXx8ZVsyXXx8ZVszXSkmJm49PT0oZVszXXx8ZVsyXXx8ZVsxXXx8ZVswXSkmJiFuLmxlbmd0aCYmKG8/b1tCXT1uOnRoaXMuX3Jvb3Q9biksdGhpcyk6KHRoaXMuX3Jvb3Q9aCx0aGlzKX1mdW5jdGlvbiByZW1vdmVBbGwkMSh0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO2U8bjsrK2UpdGhpcy5yZW1vdmUodFtlXSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV9yb290JDEoKXtyZXR1cm4gdGhpcy5fcm9vdH1mdW5jdGlvbiB0cmVlX3NpemUkMSgpe3ZhciB0PTA7cmV0dXJuIHRoaXMudmlzaXQoZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKWRvKyt0O3doaWxlKGU9ZS5uZXh0KX0pLHR9ZnVuY3Rpb24gdHJlZV92aXNpdCQxKHQpe3ZhciBlPVtdLG4sbz10aGlzLl9yb290LGQsaCxsLHUscDtmb3IobyYmZS5wdXNoKG5ldyBRdWFkKG8sdGhpcy5feDAsdGhpcy5feTAsdGhpcy5feDEsdGhpcy5feTEpKTtuPWUucG9wKCk7KWlmKCF0KG89bi5ub2RlLGg9bi54MCxsPW4ueTAsdT1uLngxLHA9bi55MSkmJm8ubGVuZ3RoKXt2YXIgZz0oaCt1KS8yLHY9KGwrcCkvMjsoZD1vWzNdKSYmZS5wdXNoKG5ldyBRdWFkKGQsZyx2LHUscCkpLChkPW9bMl0pJiZlLnB1c2gobmV3IFF1YWQoZCxoLHYsZyxwKSksKGQ9b1sxXSkmJmUucHVzaChuZXcgUXVhZChkLGcsbCx1LHYpKSwoZD1vWzBdKSYmZS5wdXNoKG5ldyBRdWFkKGQsaCxsLGcsdikpfXJldHVybiB0aGlzfWZ1bmN0aW9uIHRyZWVfdmlzaXRBZnRlciQxKHQpe3ZhciBlPVtdLG49W10sbztmb3IodGhpcy5fcm9vdCYmZS5wdXNoKG5ldyBRdWFkKHRoaXMuX3Jvb3QsdGhpcy5feDAsdGhpcy5feTAsdGhpcy5feDEsdGhpcy5feTEpKTtvPWUucG9wKCk7KXt2YXIgZD1vLm5vZGU7aWYoZC5sZW5ndGgpe3ZhciBoLGw9by54MCx1PW8ueTAscD1vLngxLGc9by55MSx2PShsK3ApLzIsYj0odStnKS8yOyhoPWRbMF0pJiZlLnB1c2gobmV3IFF1YWQoaCxsLHUsdixiKSksKGg9ZFsxXSkmJmUucHVzaChuZXcgUXVhZChoLHYsdSxwLGIpKSwoaD1kWzJdKSYmZS5wdXNoKG5ldyBRdWFkKGgsbCxiLHYsZykpLChoPWRbM10pJiZlLnB1c2gobmV3IFF1YWQoaCx2LGIscCxnKSl9bi5wdXNoKG8pfWZvcig7bz1uLnBvcCgpOyl0KG8ubm9kZSxvLngwLG8ueTAsby54MSxvLnkxKTtyZXR1cm4gdGhpc31mdW5jdGlvbiBkZWZhdWx0WCQxKHQpe3JldHVybiB0WzBdfWZ1bmN0aW9uIHRyZWVfeCQxKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl94PXQsdGhpcyk6dGhpcy5feH1mdW5jdGlvbiBkZWZhdWx0WSQxKHQpe3JldHVybiB0WzFdfWZ1bmN0aW9uIHRyZWVfeSQxKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl95PXQsdGhpcyk6dGhpcy5feX1mdW5jdGlvbiBxdWFkdHJlZSh0LGUsbil7dmFyIG89bmV3IFF1YWR0cmVlKGU/P2RlZmF1bHRYJDEsbj8/ZGVmYXVsdFkkMSxOYU4sTmFOLE5hTixOYU4pO3JldHVybiB0PT1udWxsP286by5hZGRBbGwodCl9ZnVuY3Rpb24gUXVhZHRyZWUodCxlLG4sbyxkLGgpe3RoaXMuX3g9dCx0aGlzLl95PWUsdGhpcy5feDA9bix0aGlzLl95MD1vLHRoaXMuX3gxPWQsdGhpcy5feTE9aCx0aGlzLl9yb290PXZvaWQgMH1mdW5jdGlvbiBsZWFmX2NvcHkkMSh0KXtmb3IodmFyIGU9e2RhdGE6dC5kYXRhfSxuPWU7dD10Lm5leHQ7KW49bi5uZXh0PXtkYXRhOnQuZGF0YX07cmV0dXJuIGV9dmFyIHRyZWVQcm90byQxPXF1YWR0cmVlLnByb3RvdHlwZT1RdWFkdHJlZS5wcm90b3R5cGU7dHJlZVByb3RvJDEuY29weT1mdW5jdGlvbigpe3ZhciB0PW5ldyBRdWFkdHJlZSh0aGlzLl94LHRoaXMuX3ksdGhpcy5feDAsdGhpcy5feTAsdGhpcy5feDEsdGhpcy5feTEpLGU9dGhpcy5fcm9vdCxuLG87aWYoIWUpcmV0dXJuIHQ7aWYoIWUubGVuZ3RoKXJldHVybiB0Ll9yb290PWxlYWZfY29weSQxKGUpLHQ7Zm9yKG49W3tzb3VyY2U6ZSx0YXJnZXQ6dC5fcm9vdD1uZXcgQXJyYXkoNCl9XTtlPW4ucG9wKCk7KWZvcih2YXIgZD0wO2Q8NDsrK2QpKG89ZS5zb3VyY2VbZF0pJiYoby5sZW5ndGg/bi5wdXNoKHtzb3VyY2U6byx0YXJnZXQ6ZS50YXJnZXRbZF09bmV3IEFycmF5KDQpfSk6ZS50YXJnZXRbZF09bGVhZl9jb3B5JDEobykpO3JldHVybiB0fTt0cmVlUHJvdG8kMS5hZGQ9dHJlZV9hZGQkMTt0cmVlUHJvdG8kMS5hZGRBbGw9YWRkQWxsJDE7dHJlZVByb3RvJDEuY292ZXI9dHJlZV9jb3ZlciQxO3RyZWVQcm90byQxLmRhdGE9dHJlZV9kYXRhJDE7dHJlZVByb3RvJDEuZXh0ZW50PXRyZWVfZXh0ZW50JDE7dHJlZVByb3RvJDEuZmluZD10cmVlX2ZpbmQkMTt0cmVlUHJvdG8kMS5yZW1vdmU9dHJlZV9yZW1vdmUkMTt0cmVlUHJvdG8kMS5yZW1vdmVBbGw9cmVtb3ZlQWxsJDE7dHJlZVByb3RvJDEucm9vdD10cmVlX3Jvb3QkMTt0cmVlUHJvdG8kMS5zaXplPXRyZWVfc2l6ZSQxO3RyZWVQcm90byQxLnZpc2l0PXRyZWVfdmlzaXQkMTt0cmVlUHJvdG8kMS52aXNpdEFmdGVyPXRyZWVfdmlzaXRBZnRlciQxO3RyZWVQcm90byQxLng9dHJlZV94JDE7dHJlZVByb3RvJDEueT10cmVlX3kkMTtmdW5jdGlvbiB0cmVlX2FkZCh0KXtjb25zdCBlPSt0aGlzLl94LmNhbGwobnVsbCx0KSxuPSt0aGlzLl95LmNhbGwobnVsbCx0KSxvPSt0aGlzLl96LmNhbGwobnVsbCx0KTtyZXR1cm4gYWRkJDEodGhpcy5jb3ZlcihlLG4sbyksZSxuLG8sdCl9ZnVuY3Rpb24gYWRkJDEodCxlLG4sbyxkKXtpZihpc05hTihlKXx8aXNOYU4obil8fGlzTmFOKG8pKXJldHVybiB0O3ZhciBoLGw9dC5fcm9vdCx1PXtkYXRhOmR9LHA9dC5feDAsZz10Ll95MCx2PXQuX3owLGI9dC5feDEsXz10Ll95MSxPPXQuX3oxLFQsaixOLEIsQyxMLFMsUCxGLGssSjtpZighbClyZXR1cm4gdC5fcm9vdD11LHQ7Zm9yKDtsLmxlbmd0aDspaWYoKFM9ZT49KFQ9KHArYikvMikpP3A9VDpiPVQsKFA9bj49KGo9KGcrXykvMikpP2c9ajpfPWosKEY9bz49KE49KHYrTykvMikpP3Y9TjpPPU4saD1sLCEobD1sW2s9Rjw8MnxQPDwxfFNdKSlyZXR1cm4gaFtrXT11LHQ7aWYoQj0rdC5feC5jYWxsKG51bGwsbC5kYXRhKSxDPSt0Ll95LmNhbGwobnVsbCxsLmRhdGEpLEw9K3QuX3ouY2FsbChudWxsLGwuZGF0YSksZT09PUImJm49PT1DJiZvPT09TClyZXR1cm4gdS5uZXh0PWwsaD9oW2tdPXU6dC5fcm9vdD11LHQ7ZG8gaD1oP2hba109bmV3IEFycmF5KDgpOnQuX3Jvb3Q9bmV3IEFycmF5KDgpLChTPWU+PShUPShwK2IpLzIpKT9wPVQ6Yj1ULChQPW4+PShqPShnK18pLzIpKT9nPWo6Xz1qLChGPW8+PShOPSh2K08pLzIpKT92PU46Tz1OO3doaWxlKChrPUY8PDJ8UDw8MXxTKT09PShKPShMPj1OKTw8MnwoQz49aik8PDF8Qj49VCkpO3JldHVybiBoW0pdPWwsaFtrXT11LHR9ZnVuY3Rpb24gYWRkQWxsKHQpe0FycmF5LmlzQXJyYXkodCl8fCh0PUFycmF5LmZyb20odCkpO2NvbnN0IGU9dC5sZW5ndGgsbj1uZXcgRmxvYXQ2NEFycmF5KGUpLG89bmV3IEZsb2F0NjRBcnJheShlKSxkPW5ldyBGbG9hdDY0QXJyYXkoZSk7bGV0IGg9MS8wLGw9MS8wLHU9MS8wLHA9LTEvMCxnPS0xLzAsdj0tMS8wO2ZvcihsZXQgYj0wLF8sTyxULGo7YjxlOysrYilpc05hTihPPSt0aGlzLl94LmNhbGwobnVsbCxfPXRbYl0pKXx8aXNOYU4oVD0rdGhpcy5feS5jYWxsKG51bGwsXykpfHxpc05hTihqPSt0aGlzLl96LmNhbGwobnVsbCxfKSl8fChuW2JdPU8sb1tiXT1ULGRbYl09aixPPGgmJihoPU8pLE8+cCYmKHA9TyksVDxsJiYobD1UKSxUPmcmJihnPVQpLGo8dSYmKHU9aiksaj52JiYodj1qKSk7aWYoaD5wfHxsPmd8fHU+dilyZXR1cm4gdGhpczt0aGlzLmNvdmVyKGgsbCx1KS5jb3ZlcihwLGcsdik7Zm9yKGxldCBiPTA7YjxlOysrYilhZGQkMSh0aGlzLG5bYl0sb1tiXSxkW2JdLHRbYl0pO3JldHVybiB0aGlzfWZ1bmN0aW9uIHRyZWVfY292ZXIodCxlLG4pe2lmKGlzTmFOKHQ9K3QpfHxpc05hTihlPStlKXx8aXNOYU4obj0rbikpcmV0dXJuIHRoaXM7dmFyIG89dGhpcy5feDAsZD10aGlzLl95MCxoPXRoaXMuX3owLGw9dGhpcy5feDEsdT10aGlzLl95MSxwPXRoaXMuX3oxO2lmKGlzTmFOKG8pKWw9KG89TWF0aC5mbG9vcih0KSkrMSx1PShkPU1hdGguZmxvb3IoZSkpKzEscD0oaD1NYXRoLmZsb29yKG4pKSsxO2Vsc2V7Zm9yKHZhciBnPWwtb3x8MSx2PXRoaXMuX3Jvb3QsYixfO28+dHx8dD49bHx8ZD5lfHxlPj11fHxoPm58fG4+PXA7KXN3aXRjaChfPShuPGgpPDwyfChlPGQpPDwxfHQ8byxiPW5ldyBBcnJheSg4KSxiW19dPXYsdj1iLGcqPTIsXyl7Y2FzZSAwOmw9bytnLHU9ZCtnLHA9aCtnO2JyZWFrO2Nhc2UgMTpvPWwtZyx1PWQrZyxwPWgrZzticmVhaztjYXNlIDI6bD1vK2csZD11LWcscD1oK2c7YnJlYWs7Y2FzZSAzOm89bC1nLGQ9dS1nLHA9aCtnO2JyZWFrO2Nhc2UgNDpsPW8rZyx1PWQrZyxoPXAtZzticmVhaztjYXNlIDU6bz1sLWcsdT1kK2csaD1wLWc7YnJlYWs7Y2FzZSA2Omw9bytnLGQ9dS1nLGg9cC1nO2JyZWFrO2Nhc2UgNzpvPWwtZyxkPXUtZyxoPXAtZzticmVha310aGlzLl9yb290JiZ0aGlzLl9yb290Lmxlbmd0aCYmKHRoaXMuX3Jvb3Q9dil9cmV0dXJuIHRoaXMuX3gwPW8sdGhpcy5feTA9ZCx0aGlzLl96MD1oLHRoaXMuX3gxPWwsdGhpcy5feTE9dSx0aGlzLl96MT1wLHRoaXN9ZnVuY3Rpb24gdHJlZV9kYXRhKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMudmlzaXQoZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKWRvIHQucHVzaChlLmRhdGEpO3doaWxlKGU9ZS5uZXh0KX0pLHR9ZnVuY3Rpb24gdHJlZV9leHRlbnQodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5jb3ZlcigrdFswXVswXSwrdFswXVsxXSwrdFswXVsyXSkuY292ZXIoK3RbMV1bMF0sK3RbMV1bMV0sK3RbMV1bMl0pOmlzTmFOKHRoaXMuX3gwKT92b2lkIDA6W1t0aGlzLl94MCx0aGlzLl95MCx0aGlzLl96MF0sW3RoaXMuX3gxLHRoaXMuX3kxLHRoaXMuX3oxXV19ZnVuY3Rpb24gT2N0YW50KHQsZSxuLG8sZCxoLGwpe3RoaXMubm9kZT10LHRoaXMueDA9ZSx0aGlzLnkwPW4sdGhpcy56MD1vLHRoaXMueDE9ZCx0aGlzLnkxPWgsdGhpcy56MT1sfWZ1bmN0aW9uIHRyZWVfZmluZCh0LGUsbixvKXt2YXIgZCxoPXRoaXMuX3gwLGw9dGhpcy5feTAsdT10aGlzLl96MCxwLGcsdixiLF8sTyxUPXRoaXMuX3gxLGo9dGhpcy5feTEsTj10aGlzLl96MSxCPVtdLEM9dGhpcy5fcm9vdCxMLFM7Zm9yKEMmJkIucHVzaChuZXcgT2N0YW50KEMsaCxsLHUsVCxqLE4pKSxvPT1udWxsP289MS8wOihoPXQtbyxsPWUtbyx1PW4tbyxUPXQrbyxqPWUrbyxOPW4rbyxvKj1vKTtMPUIucG9wKCk7KWlmKCEoIShDPUwubm9kZSl8fChwPUwueDApPlR8fChnPUwueTApPmp8fCh2PUwuejApPk58fChiPUwueDEpPGh8fChfPUwueTEpPGx8fChPPUwuejEpPHUpKWlmKEMubGVuZ3RoKXt2YXIgUD0ocCtiKS8yLEY9KGcrXykvMixrPSh2K08pLzI7Qi5wdXNoKG5ldyBPY3RhbnQoQ1s3XSxQLEYsayxiLF8sTyksbmV3IE9jdGFudChDWzZdLHAsRixrLFAsXyxPKSxuZXcgT2N0YW50KENbNV0sUCxnLGssYixGLE8pLG5ldyBPY3RhbnQoQ1s0XSxwLGcsayxQLEYsTyksbmV3IE9jdGFudChDWzNdLFAsRix2LGIsXyxrKSxuZXcgT2N0YW50KENbMl0scCxGLHYsUCxfLGspLG5ldyBPY3RhbnQoQ1sxXSxQLGcsdixiLEYsayksbmV3IE9jdGFudChDWzBdLHAsZyx2LFAsRixrKSksKFM9KG4+PWspPDwyfChlPj1GKTw8MXx0Pj1QKSYmKEw9QltCLmxlbmd0aC0xXSxCW0IubGVuZ3RoLTFdPUJbQi5sZW5ndGgtMS1TXSxCW0IubGVuZ3RoLTEtU109TCl9ZWxzZXt2YXIgSj10LSt0aGlzLl94LmNhbGwobnVsbCxDLmRhdGEpLGFlPWUtK3RoaXMuX3kuY2FsbChudWxsLEMuZGF0YSkscT1uLSt0aGlzLl96LmNhbGwobnVsbCxDLmRhdGEpLEc9SipKK2FlKmFlK3EqcTtpZihHPG8pe3ZhciByZT1NYXRoLnNxcnQobz1HKTtoPXQtcmUsbD1lLXJlLHU9bi1yZSxUPXQrcmUsaj1lK3JlLE49bityZSxkPUMuZGF0YX19cmV0dXJuIGR9ZnVuY3Rpb24gdHJlZV9yZW1vdmUodCl7aWYoaXNOYU4oXz0rdGhpcy5feC5jYWxsKG51bGwsdCkpfHxpc05hTihPPSt0aGlzLl95LmNhbGwobnVsbCx0KSl8fGlzTmFOKFQ9K3RoaXMuX3ouY2FsbChudWxsLHQpKSlyZXR1cm4gdGhpczt2YXIgZSxuPXRoaXMuX3Jvb3QsbyxkLGgsbD10aGlzLl94MCx1PXRoaXMuX3kwLHA9dGhpcy5fejAsZz10aGlzLl94MSx2PXRoaXMuX3kxLGI9dGhpcy5fejEsXyxPLFQsaixOLEIsQyxMLFMsUCxGO2lmKCFuKXJldHVybiB0aGlzO2lmKG4ubGVuZ3RoKWZvcig7Oyl7aWYoKEM9Xz49KGo9KGwrZykvMikpP2w9ajpnPWosKEw9Tz49KE49KHUrdikvMikpP3U9Tjp2PU4sKFM9VD49KEI9KHArYikvMikpP3A9QjpiPUIsZT1uLCEobj1uW1A9Uzw8MnxMPDwxfENdKSlyZXR1cm4gdGhpcztpZighbi5sZW5ndGgpYnJlYWs7KGVbUCsxJjddfHxlW1ArMiY3XXx8ZVtQKzMmN118fGVbUCs0JjddfHxlW1ArNSY3XXx8ZVtQKzYmN118fGVbUCs3JjddKSYmKG89ZSxGPVApfWZvcig7bi5kYXRhIT09dDspaWYoZD1uLCEobj1uLm5leHQpKXJldHVybiB0aGlzO3JldHVybihoPW4ubmV4dCkmJmRlbGV0ZSBuLm5leHQsZD8oaD9kLm5leHQ9aDpkZWxldGUgZC5uZXh0LHRoaXMpOmU/KGg/ZVtQXT1oOmRlbGV0ZSBlW1BdLChuPWVbMF18fGVbMV18fGVbMl18fGVbM118fGVbNF18fGVbNV18fGVbNl18fGVbN10pJiZuPT09KGVbN118fGVbNl18fGVbNV18fGVbNF18fGVbM118fGVbMl18fGVbMV18fGVbMF0pJiYhbi5sZW5ndGgmJihvP29bRl09bjp0aGlzLl9yb290PW4pLHRoaXMpOih0aGlzLl9yb290PWgsdGhpcyl9ZnVuY3Rpb24gcmVtb3ZlQWxsKHQpe2Zvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuOysrZSl0aGlzLnJlbW92ZSh0W2VdKTtyZXR1cm4gdGhpc31mdW5jdGlvbiB0cmVlX3Jvb3QoKXtyZXR1cm4gdGhpcy5fcm9vdH1mdW5jdGlvbiB0cmVlX3NpemUoKXt2YXIgdD0wO3JldHVybiB0aGlzLnZpc2l0KGZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClkbysrdDt3aGlsZShlPWUubmV4dCl9KSx0fWZ1bmN0aW9uIHRyZWVfdmlzaXQodCl7dmFyIGU9W10sbixvPXRoaXMuX3Jvb3QsZCxoLGwsdSxwLGcsdjtmb3IobyYmZS5wdXNoKG5ldyBPY3RhbnQobyx0aGlzLl94MCx0aGlzLl95MCx0aGlzLl96MCx0aGlzLl94MSx0aGlzLl95MSx0aGlzLl96MSkpO249ZS5wb3AoKTspaWYoIXQobz1uLm5vZGUsaD1uLngwLGw9bi55MCx1PW4uejAscD1uLngxLGc9bi55MSx2PW4uejEpJiZvLmxlbmd0aCl7dmFyIGI9KGgrcCkvMixfPShsK2cpLzIsTz0odSt2KS8yOyhkPW9bN10pJiZlLnB1c2gobmV3IE9jdGFudChkLGIsXyxPLHAsZyx2KSksKGQ9b1s2XSkmJmUucHVzaChuZXcgT2N0YW50KGQsaCxfLE8sYixnLHYpKSwoZD1vWzVdKSYmZS5wdXNoKG5ldyBPY3RhbnQoZCxiLGwsTyxwLF8sdikpLChkPW9bNF0pJiZlLnB1c2gobmV3IE9jdGFudChkLGgsbCxPLGIsXyx2KSksKGQ9b1szXSkmJmUucHVzaChuZXcgT2N0YW50KGQsYixfLHUscCxnLE8pKSwoZD1vWzJdKSYmZS5wdXNoKG5ldyBPY3RhbnQoZCxoLF8sdSxiLGcsTykpLChkPW9bMV0pJiZlLnB1c2gobmV3IE9jdGFudChkLGIsbCx1LHAsXyxPKSksKGQ9b1swXSkmJmUucHVzaChuZXcgT2N0YW50KGQsaCxsLHUsYixfLE8pKX1yZXR1cm4gdGhpc31mdW5jdGlvbiB0cmVlX3Zpc2l0QWZ0ZXIodCl7dmFyIGU9W10sbj1bXSxvO2Zvcih0aGlzLl9yb290JiZlLnB1c2gobmV3IE9jdGFudCh0aGlzLl9yb290LHRoaXMuX3gwLHRoaXMuX3kwLHRoaXMuX3owLHRoaXMuX3gxLHRoaXMuX3kxLHRoaXMuX3oxKSk7bz1lLnBvcCgpOyl7dmFyIGQ9by5ub2RlO2lmKGQubGVuZ3RoKXt2YXIgaCxsPW8ueDAsdT1vLnkwLHA9by56MCxnPW8ueDEsdj1vLnkxLGI9by56MSxfPShsK2cpLzIsTz0odSt2KS8yLFQ9KHArYikvMjsoaD1kWzBdKSYmZS5wdXNoKG5ldyBPY3RhbnQoaCxsLHUscCxfLE8sVCkpLChoPWRbMV0pJiZlLnB1c2gobmV3IE9jdGFudChoLF8sdSxwLGcsTyxUKSksKGg9ZFsyXSkmJmUucHVzaChuZXcgT2N0YW50KGgsbCxPLHAsXyx2LFQpKSwoaD1kWzNdKSYmZS5wdXNoKG5ldyBPY3RhbnQoaCxfLE8scCxnLHYsVCkpLChoPWRbNF0pJiZlLnB1c2gobmV3IE9jdGFudChoLGwsdSxULF8sTyxiKSksKGg9ZFs1XSkmJmUucHVzaChuZXcgT2N0YW50KGgsXyx1LFQsZyxPLGIpKSwoaD1kWzZdKSYmZS5wdXNoKG5ldyBPY3RhbnQoaCxsLE8sVCxfLHYsYikpLChoPWRbN10pJiZlLnB1c2gobmV3IE9jdGFudChoLF8sTyxULGcsdixiKSl9bi5wdXNoKG8pfWZvcig7bz1uLnBvcCgpOyl0KG8ubm9kZSxvLngwLG8ueTAsby56MCxvLngxLG8ueTEsby56MSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gZGVmYXVsdFgodCl7cmV0dXJuIHRbMF19ZnVuY3Rpb24gdHJlZV94KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl94PXQsdGhpcyk6dGhpcy5feH1mdW5jdGlvbiBkZWZhdWx0WSh0KXtyZXR1cm4gdFsxXX1mdW5jdGlvbiB0cmVlX3kodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3k9dCx0aGlzKTp0aGlzLl95fWZ1bmN0aW9uIGRlZmF1bHRaKHQpe3JldHVybiB0WzJdfWZ1bmN0aW9uIHRyZWVfeih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fej10LHRoaXMpOnRoaXMuX3p9ZnVuY3Rpb24gb2N0cmVlKHQsZSxuLG8pe3ZhciBkPW5ldyBPY3RyZWUoZT8/ZGVmYXVsdFgsbj8/ZGVmYXVsdFksbz8/ZGVmYXVsdFosTmFOLE5hTixOYU4sTmFOLE5hTixOYU4pO3JldHVybiB0PT1udWxsP2Q6ZC5hZGRBbGwodCl9ZnVuY3Rpb24gT2N0cmVlKHQsZSxuLG8sZCxoLGwsdSxwKXt0aGlzLl94PXQsdGhpcy5feT1lLHRoaXMuX3o9bix0aGlzLl94MD1vLHRoaXMuX3kwPWQsdGhpcy5fejA9aCx0aGlzLl94MT1sLHRoaXMuX3kxPXUsdGhpcy5fejE9cCx0aGlzLl9yb290PXZvaWQgMH1mdW5jdGlvbiBsZWFmX2NvcHkodCl7Zm9yKHZhciBlPXtkYXRhOnQuZGF0YX0sbj1lO3Q9dC5uZXh0OyluPW4ubmV4dD17ZGF0YTp0LmRhdGF9O3JldHVybiBlfXZhciB0cmVlUHJvdG89b2N0cmVlLnByb3RvdHlwZT1PY3RyZWUucHJvdG90eXBlO3RyZWVQcm90by5jb3B5PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IE9jdHJlZSh0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl94MCx0aGlzLl95MCx0aGlzLl96MCx0aGlzLl94MSx0aGlzLl95MSx0aGlzLl96MSksZT10aGlzLl9yb290LG4sbztpZighZSlyZXR1cm4gdDtpZighZS5sZW5ndGgpcmV0dXJuIHQuX3Jvb3Q9bGVhZl9jb3B5KGUpLHQ7Zm9yKG49W3tzb3VyY2U6ZSx0YXJnZXQ6dC5fcm9vdD1uZXcgQXJyYXkoOCl9XTtlPW4ucG9wKCk7KWZvcih2YXIgZD0wO2Q8ODsrK2QpKG89ZS5zb3VyY2VbZF0pJiYoby5sZW5ndGg/bi5wdXNoKHtzb3VyY2U6byx0YXJnZXQ6ZS50YXJnZXRbZF09bmV3IEFycmF5KDgpfSk6ZS50YXJnZXRbZF09bGVhZl9jb3B5KG8pKTtyZXR1cm4gdH07dHJlZVByb3RvLmFkZD10cmVlX2FkZDt0cmVlUHJvdG8uYWRkQWxsPWFkZEFsbDt0cmVlUHJvdG8uY292ZXI9dHJlZV9jb3Zlcjt0cmVlUHJvdG8uZGF0YT10cmVlX2RhdGE7dHJlZVByb3RvLmV4dGVudD10cmVlX2V4dGVudDt0cmVlUHJvdG8uZmluZD10cmVlX2ZpbmQ7dHJlZVByb3RvLnJlbW92ZT10cmVlX3JlbW92ZTt0cmVlUHJvdG8ucmVtb3ZlQWxsPXJlbW92ZUFsbDt0cmVlUHJvdG8ucm9vdD10cmVlX3Jvb3Q7dHJlZVByb3RvLnNpemU9dHJlZV9zaXplO3RyZWVQcm90by52aXNpdD10cmVlX3Zpc2l0O3RyZWVQcm90by52aXNpdEFmdGVyPXRyZWVfdmlzaXRBZnRlcjt0cmVlUHJvdG8ueD10cmVlX3g7dHJlZVByb3RvLnk9dHJlZV95O3RyZWVQcm90by56PXRyZWVfejtmdW5jdGlvbiBjb25zdGFudCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19ZnVuY3Rpb24gamlnZ2xlKHQpe3JldHVybih0KCktLjUpKjFlLTZ9ZnVuY3Rpb24gaW5kZXgodCl7cmV0dXJuIHQuaW5kZXh9ZnVuY3Rpb24gZmluZCh0LGUpe3ZhciBuPXQuZ2V0KGUpO2lmKCFuKXRocm93IG5ldyBFcnJvcigibm9kZSBub3QgZm91bmQ6ICIrZSk7cmV0dXJuIG59ZnVuY3Rpb24gZm9yY2VMaW5rKHQpe3ZhciBlPWluZGV4LG49XyxvLGQ9Y29uc3RhbnQoMzApLGgsbCx1LHAsZyx2LGI9MTt0PT1udWxsJiYodD1bXSk7ZnVuY3Rpb24gXyhCKXtyZXR1cm4gMS9NYXRoLm1pbihwW0Iuc291cmNlLmluZGV4XSxwW0IudGFyZ2V0LmluZGV4XSl9ZnVuY3Rpb24gTyhCKXtmb3IodmFyIEM9MCxMPXQubGVuZ3RoO0M8YjsrK0MpZm9yKHZhciBTPTAsUCxGLGssSj0wLGFlPTAscT0wLEcscmU7UzxMOysrUylQPXRbU10sRj1QLnNvdXJjZSxrPVAudGFyZ2V0LEo9ay54K2sudngtRi54LUYudnh8fGppZ2dsZSh2KSx1PjEmJihhZT1rLnkray52eS1GLnktRi52eXx8amlnZ2xlKHYpKSx1PjImJihxPWsueitrLnZ6LUYuei1GLnZ6fHxqaWdnbGUodikpLEc9TWF0aC5zcXJ0KEoqSithZSphZStxKnEpLEc9KEctaFtTXSkvRypCKm9bU10sSio9RyxhZSo9RyxxKj1HLGsudngtPUoqKHJlPWdbU10pLHU+MSYmKGsudnktPWFlKnJlKSx1PjImJihrLnZ6LT1xKnJlKSxGLnZ4Kz1KKihyZT0xLXJlKSx1PjEmJihGLnZ5Kz1hZSpyZSksdT4yJiYoRi52eis9cSpyZSl9ZnVuY3Rpb24gVCgpe2lmKGwpe3ZhciBCLEM9bC5sZW5ndGgsTD10Lmxlbmd0aCxTPW5ldyBNYXAobC5tYXAoKEYsayk9PltlKEYsayxsKSxGXSkpLFA7Zm9yKEI9MCxwPW5ldyBBcnJheShDKTtCPEw7KytCKVA9dFtCXSxQLmluZGV4PUIsdHlwZW9mIFAuc291cmNlIT0ib2JqZWN0IiYmKFAuc291cmNlPWZpbmQoUyxQLnNvdXJjZSkpLHR5cGVvZiBQLnRhcmdldCE9Im9iamVjdCImJihQLnRhcmdldD1maW5kKFMsUC50YXJnZXQpKSxwW1Auc291cmNlLmluZGV4XT0ocFtQLnNvdXJjZS5pbmRleF18fDApKzEscFtQLnRhcmdldC5pbmRleF09KHBbUC50YXJnZXQuaW5kZXhdfHwwKSsxO2ZvcihCPTAsZz1uZXcgQXJyYXkoTCk7QjxMOysrQilQPXRbQl0sZ1tCXT1wW1Auc291cmNlLmluZGV4XS8ocFtQLnNvdXJjZS5pbmRleF0rcFtQLnRhcmdldC5pbmRleF0pO289bmV3IEFycmF5KEwpLGooKSxoPW5ldyBBcnJheShMKSxOKCl9fWZ1bmN0aW9uIGooKXtpZihsKWZvcih2YXIgQj0wLEM9dC5sZW5ndGg7QjxDOysrQilvW0JdPStuKHRbQl0sQix0KX1mdW5jdGlvbiBOKCl7aWYobClmb3IodmFyIEI9MCxDPXQubGVuZ3RoO0I8QzsrK0IpaFtCXT0rZCh0W0JdLEIsdCl9cmV0dXJuIE8uaW5pdGlhbGl6ZT1mdW5jdGlvbihCLC4uLkMpe2w9Qix2PUMuZmluZChMPT50eXBlb2YgTD09ImZ1bmN0aW9uIil8fE1hdGgucmFuZG9tLHU9Qy5maW5kKEw9PlsxLDIsM10uaW5jbHVkZXMoTCkpfHwyLFQoKX0sTy5saW5rcz1mdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odD1CLFQoKSxPKTp0fSxPLmlkPWZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPUIsTyk6ZX0sTy5pdGVyYXRpb25zPWZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhiPStCLE8pOmJ9LE8uc3RyZW5ndGg9ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49dHlwZW9mIEI9PSJmdW5jdGlvbiI/Qjpjb25zdGFudCgrQiksaigpLE8pOm59LE8uZGlzdGFuY2U9ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGQ9dHlwZW9mIEI9PSJmdW5jdGlvbiI/Qjpjb25zdGFudCgrQiksTigpLE8pOmR9LE99dmFyIG5vb3AkMT17dmFsdWU6KCk9Pnt9fTtmdW5jdGlvbiBkaXNwYXRjaCgpe2Zvcih2YXIgdD0wLGU9YXJndW1lbnRzLmxlbmd0aCxuPXt9LG87dDxlOysrdCl7aWYoIShvPWFyZ3VtZW50c1t0XSsiIil8fG8gaW4gbnx8L1tccy5dLy50ZXN0KG8pKXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCB0eXBlOiAiK28pO25bb109W119cmV0dXJuIG5ldyBEaXNwYXRjaChuKX1mdW5jdGlvbiBEaXNwYXRjaCh0KXt0aGlzLl89dH1mdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0LGUpe3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXnxccysvKS5tYXAoZnVuY3Rpb24obil7dmFyIG89IiIsZD1uLmluZGV4T2YoIi4iKTtpZihkPj0wJiYobz1uLnNsaWNlKGQrMSksbj1uLnNsaWNlKDAsZCkpLG4mJiFlLmhhc093blByb3BlcnR5KG4pKXRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiK24pO3JldHVybnt0eXBlOm4sbmFtZTpvfX0pfURpc3BhdGNoLnByb3RvdHlwZT1kaXNwYXRjaC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOkRpc3BhdGNoLG9uOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fLG89cGFyc2VUeXBlbmFtZXModCsiIixuKSxkLGg9LTEsbD1vLmxlbmd0aDtpZihhcmd1bWVudHMubGVuZ3RoPDIpe2Zvcig7KytoPGw7KWlmKChkPSh0PW9baF0pLnR5cGUpJiYoZD1nZXQobltkXSx0Lm5hbWUpKSlyZXR1cm4gZDtyZXR1cm59aWYoZSE9bnVsbCYmdHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGNhbGxiYWNrOiAiK2UpO2Zvcig7KytoPGw7KWlmKGQ9KHQ9b1toXSkudHlwZSluW2RdPXNldChuW2RdLHQubmFtZSxlKTtlbHNlIGlmKGU9PW51bGwpZm9yKGQgaW4gbiluW2RdPXNldChuW2RdLHQubmFtZSxudWxsKTtyZXR1cm4gdGhpc30sY29weTpmdW5jdGlvbigpe3ZhciB0PXt9LGU9dGhpcy5fO2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXS5zbGljZSgpO3JldHVybiBuZXcgRGlzcGF0Y2godCl9LGNhbGw6ZnVuY3Rpb24odCxlKXtpZigoZD1hcmd1bWVudHMubGVuZ3RoLTIpPjApZm9yKHZhciBuPW5ldyBBcnJheShkKSxvPTAsZCxoO288ZDsrK28pbltvXT1hcmd1bWVudHNbbysyXTtpZighdGhpcy5fLmhhc093blByb3BlcnR5KHQpKXRocm93IG5ldyBFcnJvcigidW5rbm93biB0eXBlOiAiK3QpO2ZvcihoPXRoaXMuX1t0XSxvPTAsZD1oLmxlbmd0aDtvPGQ7KytvKWhbb10udmFsdWUuYXBwbHkoZSxuKX0sYXBwbHk6ZnVuY3Rpb24odCxlLG4pe2lmKCF0aGlzLl8uaGFzT3duUHJvcGVydHkodCkpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHR5cGU6ICIrdCk7Zm9yKHZhciBvPXRoaXMuX1t0XSxkPTAsaD1vLmxlbmd0aDtkPGg7KytkKW9bZF0udmFsdWUuYXBwbHkoZSxuKX19O2Z1bmN0aW9uIGdldCh0LGUpe2Zvcih2YXIgbj0wLG89dC5sZW5ndGgsZDtuPG87KytuKWlmKChkPXRbbl0pLm5hbWU9PT1lKXJldHVybiBkLnZhbHVlfWZ1bmN0aW9uIHNldCh0LGUsbil7Zm9yKHZhciBvPTAsZD10Lmxlbmd0aDtvPGQ7KytvKWlmKHRbb10ubmFtZT09PWUpe3Rbb109bm9vcCQxLHQ9dC5zbGljZSgwLG8pLmNvbmNhdCh0LnNsaWNlKG8rMSkpO2JyZWFrfXJldHVybiBuIT1udWxsJiZ0LnB1c2goe25hbWU6ZSx2YWx1ZTpufSksdH12YXIgZnJhbWU9MCx0aW1lb3V0PTAsaW50ZXJ2YWw9MCxwb2tlRGVsYXk9MWUzLHRhc2tIZWFkLHRhc2tUYWlsLGNsb2NrTGFzdD0wLGNsb2NrTm93PTAsY2xvY2tTa2V3PTAsY2xvY2s9dHlwZW9mIHBlcmZvcm1hbmNlPT0ib2JqZWN0IiYmcGVyZm9ybWFuY2Uubm93P3BlcmZvcm1hbmNlOkRhdGUsc2V0RnJhbWU9dHlwZW9mIHdpbmRvdz09Im9iamVjdCImJndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk6ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0LDE3KX07ZnVuY3Rpb24gbm93KCl7cmV0dXJuIGNsb2NrTm93fHwoc2V0RnJhbWUoY2xlYXJOb3cpLGNsb2NrTm93PWNsb2NrLm5vdygpK2Nsb2NrU2tldyl9ZnVuY3Rpb24gY2xlYXJOb3coKXtjbG9ja05vdz0wfWZ1bmN0aW9uIFRpbWVyKCl7dGhpcy5fY2FsbD10aGlzLl90aW1lPXRoaXMuX25leHQ9bnVsbH1UaW1lci5wcm90b3R5cGU9dGltZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUaW1lcixyZXN0YXJ0OmZ1bmN0aW9uKHQsZSxuKXtpZih0eXBlb2YgdCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbiIpO249KG49PW51bGw/bm93KCk6K24pKyhlPT1udWxsPzA6K2UpLCF0aGlzLl9uZXh0JiZ0YXNrVGFpbCE9PXRoaXMmJih0YXNrVGFpbD90YXNrVGFpbC5fbmV4dD10aGlzOnRhc2tIZWFkPXRoaXMsdGFza1RhaWw9dGhpcyksdGhpcy5fY2FsbD10LHRoaXMuX3RpbWU9bixzbGVlcCgpfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5fY2FsbCYmKHRoaXMuX2NhbGw9bnVsbCx0aGlzLl90aW1lPTEvMCxzbGVlcCgpKX19O2Z1bmN0aW9uIHRpbWVyKHQsZSxuKXt2YXIgbz1uZXcgVGltZXI7cmV0dXJuIG8ucmVzdGFydCh0LGUsbiksb31mdW5jdGlvbiB0aW1lckZsdXNoKCl7bm93KCksKytmcmFtZTtmb3IodmFyIHQ9dGFza0hlYWQsZTt0OykoZT1jbG9ja05vdy10Ll90aW1lKT49MCYmdC5fY2FsbC5jYWxsKHZvaWQgMCxlKSx0PXQuX25leHQ7LS1mcmFtZX1mdW5jdGlvbiB3YWtlKCl7Y2xvY2tOb3c9KGNsb2NrTGFzdD1jbG9jay5ub3coKSkrY2xvY2tTa2V3LGZyYW1lPXRpbWVvdXQ9MDt0cnl7dGltZXJGbHVzaCgpfWZpbmFsbHl7ZnJhbWU9MCxuYXAoKSxjbG9ja05vdz0wfX1mdW5jdGlvbiBwb2tlKCl7dmFyIHQ9Y2xvY2subm93KCksZT10LWNsb2NrTGFzdDtlPnBva2VEZWxheSYmKGNsb2NrU2tldy09ZSxjbG9ja0xhc3Q9dCl9ZnVuY3Rpb24gbmFwKCl7Zm9yKHZhciB0LGU9dGFza0hlYWQsbixvPTEvMDtlOyllLl9jYWxsPyhvPmUuX3RpbWUmJihvPWUuX3RpbWUpLHQ9ZSxlPWUuX25leHQpOihuPWUuX25leHQsZS5fbmV4dD1udWxsLGU9dD90Ll9uZXh0PW46dGFza0hlYWQ9bik7dGFza1RhaWw9dCxzbGVlcChvKX1mdW5jdGlvbiBzbGVlcCh0KXtpZighZnJhbWUpe3RpbWVvdXQmJih0aW1lb3V0PWNsZWFyVGltZW91dCh0aW1lb3V0KSk7dmFyIGU9dC1jbG9ja05vdztlPjI0Pyh0PDEvMCYmKHRpbWVvdXQ9c2V0VGltZW91dCh3YWtlLHQtY2xvY2subm93KCktY2xvY2tTa2V3KSksaW50ZXJ2YWwmJihpbnRlcnZhbD1jbGVhckludGVydmFsKGludGVydmFsKSkpOihpbnRlcnZhbHx8KGNsb2NrTGFzdD1jbG9jay5ub3coKSxpbnRlcnZhbD1zZXRJbnRlcnZhbChwb2tlLHBva2VEZWxheSkpLGZyYW1lPTEsc2V0RnJhbWUod2FrZSkpfX1jb25zdCBhPTE2NjQ1MjUsYz0xMDEzOTA0MjIzLG09NDI5NDk2NzI5NjtmdW5jdGlvbiBsY2coKXtsZXQgdD0xO3JldHVybigpPT4odD0oYSp0K2MpJW0pL219dmFyIE1BWF9ESU1FTlNJT05TPTM7ZnVuY3Rpb24geCh0KXtyZXR1cm4gdC54fWZ1bmN0aW9uIHkodCl7cmV0dXJuIHQueX1mdW5jdGlvbiB6KHQpe3JldHVybiB0Lnp9dmFyIGluaXRpYWxSYWRpdXM9MTAsaW5pdGlhbEFuZ2xlUm9sbD1NYXRoLlBJKigzLU1hdGguc3FydCg1KSksaW5pdGlhbEFuZ2xlWWF3PU1hdGguUEkqMjAvKDkrTWF0aC5zcXJ0KDIyMSkpO2Z1bmN0aW9uIGZvcmNlU2ltdWxhdGlvbih0LGUpe2U9ZXx8Mjt2YXIgbj1NYXRoLm1pbihNQVhfRElNRU5TSU9OUyxNYXRoLm1heCgxLE1hdGgucm91bmQoZSkpKSxvLGQ9MSxoPS4wMDEsbD0xLU1hdGgucG93KGgsMS8zMDApLHU9MCxwPS42LGc9bmV3IE1hcCx2PXRpbWVyKE8pLGI9ZGlzcGF0Y2goInRpY2siLCJlbmQiKSxfPWxjZygpO3Q9PW51bGwmJih0PVtdKTtmdW5jdGlvbiBPKCl7VCgpLGIuY2FsbCgidGljayIsbyksZDxoJiYodi5zdG9wKCksYi5jYWxsKCJlbmQiLG8pKX1mdW5jdGlvbiBUKEIpe3ZhciBDLEw9dC5sZW5ndGgsUztCPT09dm9pZCAwJiYoQj0xKTtmb3IodmFyIFA9MDtQPEI7KytQKWZvcihkKz0odS1kKSpsLGcuZm9yRWFjaChmdW5jdGlvbihGKXtGKGQpfSksQz0wO0M8TDsrK0MpUz10W0NdLFMuZng9PW51bGw/Uy54Kz1TLnZ4Kj1wOihTLng9Uy5meCxTLnZ4PTApLG4+MSYmKFMuZnk9PW51bGw/Uy55Kz1TLnZ5Kj1wOihTLnk9Uy5meSxTLnZ5PTApKSxuPjImJihTLmZ6PT1udWxsP1Mueis9Uy52eio9cDooUy56PVMuZnosUy52ej0wKSk7cmV0dXJuIG99ZnVuY3Rpb24gaigpe2Zvcih2YXIgQj0wLEM9dC5sZW5ndGgsTDtCPEM7KytCKXtpZihMPXRbQl0sTC5pbmRleD1CLEwuZnghPW51bGwmJihMLng9TC5meCksTC5meSE9bnVsbCYmKEwueT1MLmZ5KSxMLmZ6IT1udWxsJiYoTC56PUwuZnopLGlzTmFOKEwueCl8fG4+MSYmaXNOYU4oTC55KXx8bj4yJiZpc05hTihMLnopKXt2YXIgUz1pbml0aWFsUmFkaXVzKihuPjI/TWF0aC5jYnJ0KC41K0IpOm4+MT9NYXRoLnNxcnQoLjUrQik6QiksUD1CKmluaXRpYWxBbmdsZVJvbGwsRj1CKmluaXRpYWxBbmdsZVlhdztuPT09MT9MLng9UzpuPT09Mj8oTC54PVMqTWF0aC5jb3MoUCksTC55PVMqTWF0aC5zaW4oUCkpOihMLng9UypNYXRoLnNpbihQKSpNYXRoLmNvcyhGKSxMLnk9UypNYXRoLmNvcyhQKSxMLno9UypNYXRoLnNpbihQKSpNYXRoLnNpbihGKSl9KGlzTmFOKEwudngpfHxuPjEmJmlzTmFOKEwudnkpfHxuPjImJmlzTmFOKEwudnopKSYmKEwudng9MCxuPjEmJihMLnZ5PTApLG4+MiYmKEwudno9MCkpfX1mdW5jdGlvbiBOKEIpe3JldHVybiBCLmluaXRpYWxpemUmJkIuaW5pdGlhbGl6ZSh0LF8sbiksQn1yZXR1cm4gaigpLG89e3RpY2s6VCxyZXN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHYucmVzdGFydChPKSxvfSxzdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHYuc3RvcCgpLG99LG51bURpbWVuc2lvbnM6ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG49TWF0aC5taW4oTUFYX0RJTUVOU0lPTlMsTWF0aC5tYXgoMSxNYXRoLnJvdW5kKEIpKSksZy5mb3JFYWNoKE4pLG8pOm59LG5vZGVzOmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PUIsaigpLGcuZm9yRWFjaChOKSxvKTp0fSxhbHBoYTpmdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD0rQixvKTpkfSxhbHBoYU1pbjpmdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD0rQixvKTpofSxhbHBoYURlY2F5OmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhsPStCLG8pOitsfSxhbHBoYVRhcmdldDpmdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT0rQixvKTp1fSx2ZWxvY2l0eURlY2F5OmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwPTEtQixvKToxLXB9LHJhbmRvbVNvdXJjZTpmdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oXz1CLGcuZm9yRWFjaChOKSxvKTpffSxmb3JjZTpmdW5jdGlvbihCLEMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjE/KEM9PW51bGw/Zy5kZWxldGUoQik6Zy5zZXQoQixOKEMpKSxvKTpnLmdldChCKX0sZmluZDpmdW5jdGlvbigpe3ZhciBCPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksQz1CLnNoaWZ0KCl8fDAsTD0obj4xP0Iuc2hpZnQoKTpudWxsKXx8MCxTPShuPjI/Qi5zaGlmdCgpOm51bGwpfHwwLFA9Qi5zaGlmdCgpfHwxLzAsRj0wLGs9dC5sZW5ndGgsSixhZSxxLEcscmUsTTtmb3IoUCo9UCxGPTA7RjxrOysrRilyZT10W0ZdLEo9Qy1yZS54LGFlPUwtKHJlLnl8fDApLHE9Uy0ocmUuenx8MCksRz1KKkorYWUqYWUrcSpxLEc8UCYmKE09cmUsUD1HKTtyZXR1cm4gTX0sb246ZnVuY3Rpb24oQixDKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xPyhiLm9uKEIsQyksbyk6Yi5vbihCKX19fWZ1bmN0aW9uIGZvcmNlTWFueUJvZHkoKXt2YXIgdCxlLG4sbyxkLGg9Y29uc3RhbnQoLTMwKSxsLHU9MSxwPTEvMCxnPS44MTtmdW5jdGlvbiB2KFQpe3ZhciBqLE49dC5sZW5ndGgsQj0oZT09PTE/YmluYXJ5dHJlZSh0LHgpOmU9PT0yP3F1YWR0cmVlKHQseCx5KTplPT09Mz9vY3RyZWUodCx4LHkseik6bnVsbCkudmlzaXRBZnRlcihfKTtmb3IoZD1ULGo9MDtqPE47KytqKW49dFtqXSxCLnZpc2l0KE8pfWZ1bmN0aW9uIGIoKXtpZih0KXt2YXIgVCxqPXQubGVuZ3RoLE47Zm9yKGw9bmV3IEFycmF5KGopLFQ9MDtUPGo7KytUKU49dFtUXSxsW04uaW5kZXhdPStoKE4sVCx0KX19ZnVuY3Rpb24gXyhUKXt2YXIgaj0wLE4sQixDPTAsTCxTLFAsRixrPVQubGVuZ3RoO2lmKGspe2ZvcihMPVM9UD1GPTA7RjxrOysrRikoTj1UW0ZdKSYmKEI9TWF0aC5hYnMoTi52YWx1ZSkpJiYoais9Ti52YWx1ZSxDKz1CLEwrPUIqKE4ueHx8MCksUys9QiooTi55fHwwKSxQKz1CKihOLnp8fDApKTtqKj1NYXRoLnNxcnQoNC9rKSxULng9TC9DLGU+MSYmKFQueT1TL0MpLGU+MiYmKFQuej1QL0MpfWVsc2V7Tj1ULE4ueD1OLmRhdGEueCxlPjEmJihOLnk9Ti5kYXRhLnkpLGU+MiYmKE4uej1OLmRhdGEueik7ZG8gais9bFtOLmRhdGEuaW5kZXhdO3doaWxlKE49Ti5uZXh0KX1ULnZhbHVlPWp9ZnVuY3Rpb24gTyhULGosTixCLEMpe2lmKCFULnZhbHVlKXJldHVybiEwO3ZhciBMPVtOLEIsQ11bZS0xXSxTPVQueC1uLngsUD1lPjE/VC55LW4ueTowLEY9ZT4yP1Quei1uLno6MCxrPUwtaixKPVMqUytQKlArRipGO2lmKGsqay9nPEopcmV0dXJuIEo8cCYmKFM9PT0wJiYoUz1qaWdnbGUobyksSis9UypTKSxlPjEmJlA9PT0wJiYoUD1qaWdnbGUobyksSis9UCpQKSxlPjImJkY9PT0wJiYoRj1qaWdnbGUobyksSis9RipGKSxKPHUmJihKPU1hdGguc3FydCh1KkopKSxuLnZ4Kz1TKlQudmFsdWUqZC9KLGU+MSYmKG4udnkrPVAqVC52YWx1ZSpkL0opLGU+MiYmKG4udnorPUYqVC52YWx1ZSpkL0opKSwhMDtpZihULmxlbmd0aHx8Sj49cClyZXR1cm47KFQuZGF0YSE9PW58fFQubmV4dCkmJihTPT09MCYmKFM9amlnZ2xlKG8pLEorPVMqUyksZT4xJiZQPT09MCYmKFA9amlnZ2xlKG8pLEorPVAqUCksZT4yJiZGPT09MCYmKEY9amlnZ2xlKG8pLEorPUYqRiksSjx1JiYoSj1NYXRoLnNxcnQodSpKKSkpO2RvIFQuZGF0YSE9PW4mJihrPWxbVC5kYXRhLmluZGV4XSpkL0osbi52eCs9UyprLGU+MSYmKG4udnkrPVAqayksZT4yJiYobi52eis9RiprKSk7d2hpbGUoVD1ULm5leHQpfXJldHVybiB2LmluaXRpYWxpemU9ZnVuY3Rpb24oVCwuLi5qKXt0PVQsbz1qLmZpbmQoTj0+dHlwZW9mIE49PSJmdW5jdGlvbiIpfHxNYXRoLnJhbmRvbSxlPWouZmluZChOPT5bMSwyLDNdLmluY2x1ZGVzKE4pKXx8MixiKCl9LHYuc3RyZW5ndGg9ZnVuY3Rpb24oVCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9dHlwZW9mIFQ9PSJmdW5jdGlvbiI/VDpjb25zdGFudCgrVCksYigpLHYpOmh9LHYuZGlzdGFuY2VNaW49ZnVuY3Rpb24oVCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9VCpULHYpOk1hdGguc3FydCh1KX0sdi5kaXN0YW5jZU1heD1mdW5jdGlvbihUKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1UKlQsdik6TWF0aC5zcXJ0KHApfSx2LnRoZXRhPWZ1bmN0aW9uKFQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPVQqVCx2KTpNYXRoLnNxcnQoZyl9LHZ9dmFyIG5ncmFwaF9mb3JjZWxheW91dEV4cG9ydHM9e30sbmdyYXBoX2ZvcmNlbGF5b3V0PXtnZXQgZXhwb3J0cygpe3JldHVybiBuZ3JhcGhfZm9yY2VsYXlvdXRFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtuZ3JhcGhfZm9yY2VsYXlvdXRFeHBvcnRzPXR9fSxnZW5lcmF0ZUNyZWF0ZUJvZHlFeHBvcnRzPXt9LGdlbmVyYXRlQ3JlYXRlQm9keT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZ2VuZXJhdGVDcmVhdGVCb2R5RXhwb3J0c30sc2V0IGV4cG9ydHModCl7Z2VuZXJhdGVDcmVhdGVCb2R5RXhwb3J0cz10fX0sZ2V0VmFyaWFibGVOYW1lJDI9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZT09PTA/IngiOmU9PT0xPyJ5IjplPT09Mj8ieiI6ImMiKyhlKzEpfTtjb25zdCBnZXRWYXJpYWJsZU5hbWUkMT1nZXRWYXJpYWJsZU5hbWUkMjt2YXIgY3JlYXRlUGF0dGVybkJ1aWxkZXIkNj1mdW5jdGlvbiB0KGUpe3JldHVybiBuO2Z1bmN0aW9uIG4obyxkKXtsZXQgaD1kJiZkLmluZGVudHx8MCxsPWQmJmQuam9pbiE9PXZvaWQgMD9kLmpvaW46YApgLHU9QXJyYXkoaCsxKS5qb2luKCIgIikscD1bXTtmb3IobGV0IGc9MDtnPGU7KytnKXtsZXQgdj1nZXRWYXJpYWJsZU5hbWUkMShnKSxiPWc9PT0wPyIiOnU7cC5wdXNoKGIrby5yZXBsYWNlKC97dmFyfS9nLHYpKX1yZXR1cm4gcC5qb2luKGwpfX07Y29uc3QgY3JlYXRlUGF0dGVybkJ1aWxkZXIkNT1jcmVhdGVQYXR0ZXJuQnVpbGRlciQ2O2dlbmVyYXRlQ3JlYXRlQm9keS5leHBvcnRzPWdlbmVyYXRlQ3JlYXRlQm9keUZ1bmN0aW9uJDE7Z2VuZXJhdGVDcmVhdGVCb2R5RXhwb3J0cy5nZW5lcmF0ZUNyZWF0ZUJvZHlGdW5jdGlvbkJvZHk9Z2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb25Cb2R5O2dlbmVyYXRlQ3JlYXRlQm9keUV4cG9ydHMuZ2V0VmVjdG9yQ29kZT1nZXRWZWN0b3JDb2RlO2dlbmVyYXRlQ3JlYXRlQm9keUV4cG9ydHMuZ2V0Qm9keUNvZGU9Z2V0Qm9keUNvZGU7ZnVuY3Rpb24gZ2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb24kMSh0LGUpe2xldCBuPWdlbmVyYXRlQ3JlYXRlQm9keUZ1bmN0aW9uQm9keSh0LGUpLHtCb2R5Om99PW5ldyBGdW5jdGlvbihuKSgpO3JldHVybiBvfWZ1bmN0aW9uIGdlbmVyYXRlQ3JlYXRlQm9keUZ1bmN0aW9uQm9keSh0LGUpe3JldHVybmAKJHtnZXRWZWN0b3JDb2RlKHQsZSl9CiR7Z2V0Qm9keUNvZGUodCl9CnJldHVybiB7Qm9keTogQm9keSwgVmVjdG9yOiBWZWN0b3J9OwpgfWZ1bmN0aW9uIGdldEJvZHlDb2RlKHQpe2xldCBlPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDUodCksbj1lKCJ7dmFyfSIse2pvaW46IiwgIn0pO3JldHVybmAKZnVuY3Rpb24gQm9keSgke259KSB7CiAgdGhpcy5pc1Bpbm5lZCA9IGZhbHNlOwogIHRoaXMucG9zID0gbmV3IFZlY3Rvcigke259KTsKICB0aGlzLmZvcmNlID0gbmV3IFZlY3RvcigpOwogIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVjdG9yKCk7CiAgdGhpcy5tYXNzID0gMTsKCiAgdGhpcy5zcHJpbmdDb3VudCA9IDA7CiAgdGhpcy5zcHJpbmdMZW5ndGggPSAwOwp9CgpCb2R5LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewogIHRoaXMuZm9yY2UucmVzZXQoKTsKICB0aGlzLnNwcmluZ0NvdW50ID0gMDsKICB0aGlzLnNwcmluZ0xlbmd0aCA9IDA7Cn0KCkJvZHkucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKCR7bn0pIHsKICAke2UoInRoaXMucG9zLnt2YXJ9ID0ge3Zhcn0gfHwgMDsiLHtpbmRlbnQ6Mn0pfQp9O2B9ZnVuY3Rpb24gZ2V0VmVjdG9yQ29kZSh0LGUpe2xldCBuPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDUodCksbz0iIjtyZXR1cm4gZSYmKG89YCR7bihgCiAgIHZhciB2e3Zhcn07Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAne3Zhcn0nLCB7CiAgc2V0OiBmdW5jdGlvbih2KSB7IAogICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCBub24tbnVtYmVycyB0byB7dmFyfScpOwogICAgdnt2YXJ9ID0gdjsgCiAgfSwKICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdnt2YXJ9OyB9Cn0pO2ApfWApLGBmdW5jdGlvbiBWZWN0b3IoJHtuKCJ7dmFyfSIse2pvaW46IiwgIn0pfSkgewogICR7b30KICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0JykgewogICAgICAvLyBjb3VsZCBiZSBhbm90aGVyIHZlY3RvcgogICAgICBsZXQgdiA9IGFyZ3VtZW50c1swXTsKICAgICAgJHtuKCdpZiAoIU51bWJlci5pc0Zpbml0ZSh2Lnt2YXJ9KSkgdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB2YWx1ZSBpcyBub3QgYSBmaW5pdGUgbnVtYmVyIGF0IFZlY3RvciBjb25zdHJ1Y3RvciAoe3Zhcn0pIik7Jyx7aW5kZW50OjR9KX0KICAgICAgJHtuKCJ0aGlzLnt2YXJ9ID0gdi57dmFyfTsiLHtpbmRlbnQ6NH0pfQogICAgfSBlbHNlIHsKICAgICAgJHtuKCd0aGlzLnt2YXJ9ID0gdHlwZW9mIHt2YXJ9ID09PSAibnVtYmVyIiA/IHt2YXJ9IDogMDsnLHtpbmRlbnQ6NH0pfQogICAgfQogIH0KICAKICBWZWN0b3IucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewogICAgJHtuKCJ0aGlzLnt2YXJ9ID0gIix7am9pbjoiIn0pfTA7CiAgfTtgfXZhciBnZW5lcmF0ZVF1YWRUcmVlRXhwb3J0cz17fSxnZW5lcmF0ZVF1YWRUcmVlPXtnZXQgZXhwb3J0cygpe3JldHVybiBnZW5lcmF0ZVF1YWRUcmVlRXhwb3J0c30sc2V0IGV4cG9ydHModCl7Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHM9dH19O2NvbnN0IGNyZWF0ZVBhdHRlcm5CdWlsZGVyJDQ9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNixnZXRWYXJpYWJsZU5hbWU9Z2V0VmFyaWFibGVOYW1lJDI7Z2VuZXJhdGVRdWFkVHJlZS5leHBvcnRzPWdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbiQxO2dlbmVyYXRlUXVhZFRyZWVFeHBvcnRzLmdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbkJvZHk9Z2VuZXJhdGVRdWFkVHJlZUZ1bmN0aW9uQm9keTtnZW5lcmF0ZVF1YWRUcmVlRXhwb3J0cy5nZXRJbnNlcnRTdGFja0NvZGU9Z2V0SW5zZXJ0U3RhY2tDb2RlO2dlbmVyYXRlUXVhZFRyZWVFeHBvcnRzLmdldFF1YWROb2RlQ29kZT1nZXRRdWFkTm9kZUNvZGU7Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHMuaXNTYW1lUG9zaXRpb249aXNTYW1lUG9zaXRpb247Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHMuZ2V0Q2hpbGRCb2R5Q29kZT1nZXRDaGlsZEJvZHlDb2RlO2dlbmVyYXRlUXVhZFRyZWVFeHBvcnRzLnNldENoaWxkQm9keUNvZGU9c2V0Q2hpbGRCb2R5Q29kZTtmdW5jdGlvbiBnZW5lcmF0ZVF1YWRUcmVlRnVuY3Rpb24kMSh0KXtsZXQgZT1nZW5lcmF0ZVF1YWRUcmVlRnVuY3Rpb25Cb2R5KHQpO3JldHVybiBuZXcgRnVuY3Rpb24oZSkoKX1mdW5jdGlvbiBnZW5lcmF0ZVF1YWRUcmVlRnVuY3Rpb25Cb2R5KHQpe2xldCBlPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDQodCksbj1NYXRoLnBvdygyLHQpO3JldHVybmAKJHtnZXRJbnNlcnRTdGFja0NvZGUoKX0KJHtnZXRRdWFkTm9kZUNvZGUodCl9CiR7aXNTYW1lUG9zaXRpb24odCl9CiR7Z2V0Q2hpbGRCb2R5Q29kZSh0KX0KJHtzZXRDaGlsZEJvZHlDb2RlKHQpfQoKZnVuY3Rpb24gY3JlYXRlUXVhZFRyZWUob3B0aW9ucywgcmFuZG9tKSB7CiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgb3B0aW9ucy5ncmF2aXR5ID0gdHlwZW9mIG9wdGlvbnMuZ3Jhdml0eSA9PT0gJ251bWJlcicgPyBvcHRpb25zLmdyYXZpdHkgOiAtMTsKICBvcHRpb25zLnRoZXRhID0gdHlwZW9mIG9wdGlvbnMudGhldGEgPT09ICdudW1iZXInID8gb3B0aW9ucy50aGV0YSA6IDAuODsKCiAgdmFyIGdyYXZpdHkgPSBvcHRpb25zLmdyYXZpdHk7CiAgdmFyIHVwZGF0ZVF1ZXVlID0gW107CiAgdmFyIGluc2VydFN0YWNrID0gbmV3IEluc2VydFN0YWNrKCk7CiAgdmFyIHRoZXRhID0gb3B0aW9ucy50aGV0YTsKCiAgdmFyIG5vZGVzQ2FjaGUgPSBbXTsKICB2YXIgY3VycmVudEluQ2FjaGUgPSAwOwogIHZhciByb290ID0gbmV3Tm9kZSgpOwoKICByZXR1cm4gewogICAgaW5zZXJ0Qm9kaWVzOiBpbnNlcnRCb2RpZXMsCgogICAgLyoqCiAgICAgKiBHZXRzIHJvb3Qgbm9kZSBpZiBpdCBpcyBwcmVzZW50CiAgICAgKi8KICAgIGdldFJvb3Q6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gcm9vdDsKICAgIH0sCgogICAgdXBkYXRlQm9keUZvcmNlOiB1cGRhdGUsCgogICAgb3B0aW9uczogZnVuY3Rpb24obmV3T3B0aW9ucykgewogICAgICBpZiAobmV3T3B0aW9ucykgewogICAgICAgIGlmICh0eXBlb2YgbmV3T3B0aW9ucy5ncmF2aXR5ID09PSAnbnVtYmVyJykgewogICAgICAgICAgZ3Jhdml0eSA9IG5ld09wdGlvbnMuZ3Jhdml0eTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLnRoZXRhID09PSAnbnVtYmVyJykgewogICAgICAgICAgdGhldGEgPSBuZXdPcHRpb25zLnRoZXRhOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZ3Jhdml0eTogZ3Jhdml0eSwKICAgICAgICB0aGV0YTogdGhldGEKICAgICAgfTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBuZXdOb2RlKCkgewogICAgLy8gVG8gYXZvaWQgcHJlc3N1cmUgb24gR0Mgd2UgcmV1c2Ugbm9kZXMuCiAgICB2YXIgbm9kZSA9IG5vZGVzQ2FjaGVbY3VycmVudEluQ2FjaGVdOwogICAgaWYgKG5vZGUpIHsKJHtsKCIgICAgICBub2RlLiIpfQogICAgICBub2RlLmJvZHkgPSBudWxsOwogICAgICBub2RlLm1hc3MgPSAke2UoIm5vZGUubWFzc197dmFyfSA9ICIse2pvaW46IiJ9KX0wOwogICAgICAke2UoIm5vZGUubWluX3t2YXJ9ID0gbm9kZS5tYXhfe3Zhcn0gPSAiLHtqb2luOiIifSl9MDsKICAgIH0gZWxzZSB7CiAgICAgIG5vZGUgPSBuZXcgUXVhZE5vZGUoKTsKICAgICAgbm9kZXNDYWNoZVtjdXJyZW50SW5DYWNoZV0gPSBub2RlOwogICAgfQoKICAgICsrY3VycmVudEluQ2FjaGU7CiAgICByZXR1cm4gbm9kZTsKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZShzb3VyY2VCb2R5KSB7CiAgICB2YXIgcXVldWUgPSB1cGRhdGVRdWV1ZTsKICAgIHZhciB2OwogICAgJHtlKCJ2YXIgZHt2YXJ9OyIse2luZGVudDo0fSl9CiAgICB2YXIgcjsgCiAgICAke2UoInZhciBme3Zhcn0gPSAwOyIse2luZGVudDo0fSl9CiAgICB2YXIgcXVldWVMZW5ndGggPSAxOwogICAgdmFyIHNoaWZ0SWR4ID0gMDsKICAgIHZhciBwdXNoSWR4ID0gMTsKCiAgICBxdWV1ZVswXSA9IHJvb3Q7CgogICAgd2hpbGUgKHF1ZXVlTGVuZ3RoKSB7CiAgICAgIHZhciBub2RlID0gcXVldWVbc2hpZnRJZHhdOwogICAgICB2YXIgYm9keSA9IG5vZGUuYm9keTsKCiAgICAgIHF1ZXVlTGVuZ3RoIC09IDE7CiAgICAgIHNoaWZ0SWR4ICs9IDE7CiAgICAgIHZhciBkaWZmZXJlbnRCb2R5ID0gKGJvZHkgIT09IHNvdXJjZUJvZHkpOwogICAgICBpZiAoYm9keSAmJiBkaWZmZXJlbnRCb2R5KSB7CiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgbm9kZSBpcyBhIGxlYWYgbm9kZSAoYW5kIGl0IGlzIG5vdCBzb3VyY2UgYm9keSksCiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBmb3JjZSBleGVydGVkIGJ5IHRoZSBjdXJyZW50IG5vZGUgb24gYm9keSwgYW5kIGFkZCB0aGlzCiAgICAgICAgLy8gYW1vdW50IHRvIGJvZHkncyBuZXQgZm9yY2UuCiAgICAgICAgJHtlKCJke3Zhcn0gPSBib2R5LnBvcy57dmFyfSAtIHNvdXJjZUJvZHkucG9zLnt2YXJ9OyIse2luZGVudDo4fSl9CiAgICAgICAgciA9IE1hdGguc3FydCgke2UoImR7dmFyfSAqIGR7dmFyfSIse2pvaW46IiArICJ9KX0pOwoKICAgICAgICBpZiAociA9PT0gMCkgewogICAgICAgICAgLy8gUG9vciBtYW4ncyBwcm90ZWN0aW9uIGFnYWluc3QgemVybyBkaXN0YW5jZS4KICAgICAgICAgICR7ZSgiZHt2YXJ9ID0gKHJhbmRvbS5uZXh0RG91YmxlKCkgLSAwLjUpIC8gNTA7Iix7aW5kZW50OjEwfSl9CiAgICAgICAgICByID0gTWF0aC5zcXJ0KCR7ZSgiZHt2YXJ9ICogZHt2YXJ9Iix7am9pbjoiICsgIn0pfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBUaGlzIGlzIHN0YW5kYXJkIGdyYXZpdGF0aW9uIGZvcmNlIGNhbGN1bGF0aW9uIGJ1dCB3ZSBkaXZpZGUKICAgICAgICAvLyBieSByXjMgdG8gc2F2ZSB0d28gb3BlcmF0aW9ucyB3aGVuIG5vcm1hbGl6aW5nIGZvcmNlIHZlY3Rvci4KICAgICAgICB2ID0gZ3Jhdml0eSAqIGJvZHkubWFzcyAqIHNvdXJjZUJvZHkubWFzcyAvIChyICogciAqIHIpOwogICAgICAgICR7ZSgiZnt2YXJ9ICs9IHYgKiBke3Zhcn07Iix7aW5kZW50Ojh9KX0KICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbnRCb2R5KSB7CiAgICAgICAgLy8gT3RoZXJ3aXNlLCBjYWxjdWxhdGUgdGhlIHJhdGlvIHMgLyByLCAgd2hlcmUgcyBpcyB0aGUgd2lkdGggb2YgdGhlIHJlZ2lvbgogICAgICAgIC8vIHJlcHJlc2VudGVkIGJ5IHRoZSBpbnRlcm5hbCBub2RlLCBhbmQgciBpcyB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm9keQogICAgICAgIC8vIGFuZCB0aGUgbm9kZSdzIGNlbnRlci1vZi1tYXNzCiAgICAgICAgJHtlKCJke3Zhcn0gPSBub2RlLm1hc3Nfe3Zhcn0gLyBub2RlLm1hc3MgLSBzb3VyY2VCb2R5LnBvcy57dmFyfTsiLHtpbmRlbnQ6OH0pfQogICAgICAgIHIgPSBNYXRoLnNxcnQoJHtlKCJke3Zhcn0gKiBke3Zhcn0iLHtqb2luOiIgKyAifSl9KTsKCiAgICAgICAgaWYgKHIgPT09IDApIHsKICAgICAgICAgIC8vIFNvcnJ5IGFib3V0IGNvZGUgZHVwbGljYXRpb24uIEkgZG9uJ3Qgd2FudCB0byBjcmVhdGUgbWFueSBmdW5jdGlvbnMKICAgICAgICAgIC8vIHJpZ2h0IGF3YXkuIEp1c3Qgd2FudCB0byBzZWUgcGVyZm9ybWFuY2UgZmlyc3QuCiAgICAgICAgICAke2UoImR7dmFyfSA9IChyYW5kb20ubmV4dERvdWJsZSgpIC0gMC41KSAvIDUwOyIse2luZGVudDoxMH0pfQogICAgICAgICAgciA9IE1hdGguc3FydCgke2UoImR7dmFyfSAqIGR7dmFyfSIse2pvaW46IiArICJ9KX0pOwogICAgICAgIH0KICAgICAgICAvLyBJZiBzIC8gciA8IM64LCB0cmVhdCB0aGlzIGludGVybmFsIG5vZGUgYXMgYSBzaW5nbGUgYm9keSwgYW5kIGNhbGN1bGF0ZSB0aGUKICAgICAgICAvLyBmb3JjZSBpdCBleGVydHMgb24gc291cmNlQm9keSwgYW5kIGFkZCB0aGlzIGFtb3VudCB0byBzb3VyY2VCb2R5J3MgbmV0IGZvcmNlLgogICAgICAgIGlmICgobm9kZS5tYXhfJHtnZXRWYXJpYWJsZU5hbWUoMCl9IC0gbm9kZS5taW5fJHtnZXRWYXJpYWJsZU5hbWUoMCl9KSAvIHIgPCB0aGV0YSkgewogICAgICAgICAgLy8gaW4gdGhlIGlmIHN0YXRlbWVudCBhYm92ZSB3ZSBjb25zaWRlciBub2RlJ3Mgd2lkdGggb25seQogICAgICAgICAgLy8gYmVjYXVzZSB0aGUgcmVnaW9uIHdhcyBtYWRlIGludG8gc3F1YXJlIGR1cmluZyB0cmVlIGNyZWF0aW9uLgogICAgICAgICAgLy8gVGh1cyB0aGVyZSBpcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gdXNpbmcgd2lkdGggb3IgaGVpZ2h0LgogICAgICAgICAgdiA9IGdyYXZpdHkgKiBub2RlLm1hc3MgKiBzb3VyY2VCb2R5Lm1hc3MgLyAociAqIHIgKiByKTsKICAgICAgICAgICR7ZSgiZnt2YXJ9ICs9IHYgKiBke3Zhcn07Iix7aW5kZW50OjEwfSl9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIE90aGVyd2lzZSwgcnVuIHRoZSBwcm9jZWR1cmUgcmVjdXJzaXZlbHkgb24gZWFjaCBvZiB0aGUgY3VycmVudCBub2RlJ3MgY2hpbGRyZW4uCgogICAgICAgICAgLy8gSSBpbnRlbnRpb25hbGx5IHVuZm9sZGVkIHRoaXMgbG9vcCwgdG8gc2F2ZSBzZXZlcmFsIENQVSBjeWNsZXMuCiR7aCgpfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgICR7ZSgic291cmNlQm9keS5mb3JjZS57dmFyfSArPSBme3Zhcn07Iix7aW5kZW50OjR9KX0KICB9CgogIGZ1bmN0aW9uIGluc2VydEJvZGllcyhib2RpZXMpIHsKICAgICR7ZSgidmFyIHt2YXJ9bWluID0gTnVtYmVyLk1BWF9WQUxVRTsiLHtpbmRlbnQ6NH0pfQogICAgJHtlKCJ2YXIge3Zhcn1tYXggPSBOdW1iZXIuTUlOX1ZBTFVFOyIse2luZGVudDo0fSl9CiAgICB2YXIgaSA9IGJvZGllcy5sZW5ndGg7CgogICAgLy8gVG8gcmVkdWNlIHF1YWQgdHJlZSBkZXB0aCB3ZSBhcmUgbG9va2luZyBmb3IgZXhhY3QgYm91bmRpbmcgYm94IG9mIGFsbCBwYXJ0aWNsZXMuCiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIHZhciBwb3MgPSBib2RpZXNbaV0ucG9zOwogICAgICAke2UoImlmIChwb3Mue3Zhcn0gPCB7dmFyfW1pbikge3Zhcn1taW4gPSBwb3Mue3Zhcn07Iix7aW5kZW50OjZ9KX0KICAgICAgJHtlKCJpZiAocG9zLnt2YXJ9ID4ge3Zhcn1tYXgpIHt2YXJ9bWF4ID0gcG9zLnt2YXJ9OyIse2luZGVudDo2fSl9CiAgICB9CgogICAgLy8gTWFrZXMgdGhlIGJvdW5kcyBzcXVhcmUuCiAgICB2YXIgbWF4U2lkZUxlbmd0aCA9IC1JbmZpbml0eTsKICAgICR7ZSgiaWYgKHt2YXJ9bWF4IC0ge3Zhcn1taW4gPiBtYXhTaWRlTGVuZ3RoKSBtYXhTaWRlTGVuZ3RoID0ge3Zhcn1tYXggLSB7dmFyfW1pbiA7Iix7aW5kZW50OjR9KX0KCiAgICBjdXJyZW50SW5DYWNoZSA9IDA7CiAgICByb290ID0gbmV3Tm9kZSgpOwogICAgJHtlKCJyb290Lm1pbl97dmFyfSA9IHt2YXJ9bWluOyIse2luZGVudDo0fSl9CiAgICAke2UoInJvb3QubWF4X3t2YXJ9ID0ge3Zhcn1taW4gKyBtYXhTaWRlTGVuZ3RoOyIse2luZGVudDo0fSl9CgogICAgaSA9IGJvZGllcy5sZW5ndGggLSAxOwogICAgaWYgKGkgPj0gMCkgewogICAgICByb290LmJvZHkgPSBib2RpZXNbaV07CiAgICB9CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIGluc2VydChib2RpZXNbaV0sIHJvb3QpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5zZXJ0KG5ld0JvZHkpIHsKICAgIGluc2VydFN0YWNrLnJlc2V0KCk7CiAgICBpbnNlcnRTdGFjay5wdXNoKHJvb3QsIG5ld0JvZHkpOwoKICAgIHdoaWxlICghaW5zZXJ0U3RhY2suaXNFbXB0eSgpKSB7CiAgICAgIHZhciBzdGFja0l0ZW0gPSBpbnNlcnRTdGFjay5wb3AoKTsKICAgICAgdmFyIG5vZGUgPSBzdGFja0l0ZW0ubm9kZTsKICAgICAgdmFyIGJvZHkgPSBzdGFja0l0ZW0uYm9keTsKCiAgICAgIGlmICghbm9kZS5ib2R5KSB7CiAgICAgICAgLy8gVGhpcyBpcyBpbnRlcm5hbCBub2RlLiBVcGRhdGUgdGhlIHRvdGFsIG1hc3Mgb2YgdGhlIG5vZGUgYW5kIGNlbnRlci1vZi1tYXNzLgogICAgICAgICR7ZSgidmFyIHt2YXJ9ID0gYm9keS5wb3Mue3Zhcn07Iix7aW5kZW50Ojh9KX0KICAgICAgICBub2RlLm1hc3MgKz0gYm9keS5tYXNzOwogICAgICAgICR7ZSgibm9kZS5tYXNzX3t2YXJ9ICs9IGJvZHkubWFzcyAqIHt2YXJ9OyIse2luZGVudDo4fSl9CgogICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGluc2VydCB0aGUgYm9keSBpbiB0aGUgYXBwcm9wcmlhdGUgcXVhZHJhbnQuCiAgICAgICAgLy8gQnV0IGZpcnN0IGZpbmQgdGhlIGFwcHJvcHJpYXRlIHF1YWRyYW50LgogICAgICAgIHZhciBxdWFkSWR4ID0gMDsgLy8gQXNzdW1lIHdlIGFyZSBpbiB0aGUgMCdzIHF1YWQuCiAgICAgICAgJHtlKCJ2YXIgbWluX3t2YXJ9ID0gbm9kZS5taW5fe3Zhcn07Iix7aW5kZW50Ojh9KX0KICAgICAgICAke2UoInZhciBtYXhfe3Zhcn0gPSAobWluX3t2YXJ9ICsgbm9kZS5tYXhfe3Zhcn0pIC8gMjsiLHtpbmRlbnQ6OH0pfQoKJHtkKDgpfQoKICAgICAgICB2YXIgY2hpbGQgPSBnZXRDaGlsZChub2RlLCBxdWFkSWR4KTsKCiAgICAgICAgaWYgKCFjaGlsZCkgewogICAgICAgICAgLy8gVGhlIG5vZGUgaXMgaW50ZXJuYWwgYnV0IHRoaXMgcXVhZHJhbnQgaXMgbm90IHRha2VuLiBBZGQKICAgICAgICAgIC8vIHN1Ym5vZGUgdG8gaXQuCiAgICAgICAgICBjaGlsZCA9IG5ld05vZGUoKTsKICAgICAgICAgICR7ZSgiY2hpbGQubWluX3t2YXJ9ID0gbWluX3t2YXJ9OyIse2luZGVudDoxMH0pfQogICAgICAgICAgJHtlKCJjaGlsZC5tYXhfe3Zhcn0gPSBtYXhfe3Zhcn07Iix7aW5kZW50OjEwfSl9CiAgICAgICAgICBjaGlsZC5ib2R5ID0gYm9keTsKCiAgICAgICAgICBzZXRDaGlsZChub2RlLCBxdWFkSWR4LCBjaGlsZCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGNvbnRpbnVlIHNlYXJjaGluZyBpbiB0aGlzIHF1YWRyYW50LgogICAgICAgICAgaW5zZXJ0U3RhY2sucHVzaChjaGlsZCwgYm9keSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFdlIGFyZSB0cnlpbmcgdG8gYWRkIHRvIHRoZSBsZWFmIG5vZGUuCiAgICAgICAgLy8gV2UgaGF2ZSB0byBjb252ZXJ0IGN1cnJlbnQgbGVhZiBpbnRvIGludGVybmFsIG5vZGUKICAgICAgICAvLyBhbmQgY29udGludWUgYWRkaW5nIHR3byBub2Rlcy4KICAgICAgICB2YXIgb2xkQm9keSA9IG5vZGUuYm9keTsKICAgICAgICBub2RlLmJvZHkgPSBudWxsOyAvLyBpbnRlcm5hbCBub2RlcyBkbyBub3QgY2FyeSBib2RpZXMKCiAgICAgICAgaWYgKGlzU2FtZVBvc2l0aW9uKG9sZEJvZHkucG9zLCBib2R5LnBvcykpIHsKICAgICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgc3ViZGl2aXNpb24gYnkgYnVtcGluZyBvbmUgbm9kZQogICAgICAgICAgLy8gYW55d2hlcmUgaW4gdGhpcyBxdWFkcmFudAogICAgICAgICAgdmFyIHJldHJpZXNDb3VudCA9IDM7CiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIHZhciBvZmZzZXQgPSByYW5kb20ubmV4dERvdWJsZSgpOwogICAgICAgICAgICAke2UoInZhciBke3Zhcn0gPSAobm9kZS5tYXhfe3Zhcn0gLSBub2RlLm1pbl97dmFyfSkgKiBvZmZzZXQ7Iix7aW5kZW50OjEyfSl9CgogICAgICAgICAgICAke2UoIm9sZEJvZHkucG9zLnt2YXJ9ID0gbm9kZS5taW5fe3Zhcn0gKyBke3Zhcn07Iix7aW5kZW50OjEyfSl9CiAgICAgICAgICAgIHJldHJpZXNDb3VudCAtPSAxOwogICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgZG9uJ3QgYnVtcCBpdCBvdXQgb2YgdGhlIGJveC4gSWYgd2UgZG8sIG5leHQgaXRlcmF0aW9uIHNob3VsZCBmaXggaXQKICAgICAgICAgIH0gd2hpbGUgKHJldHJpZXNDb3VudCA+IDAgJiYgaXNTYW1lUG9zaXRpb24ob2xkQm9keS5wb3MsIGJvZHkucG9zKSk7CgogICAgICAgICAgaWYgKHJldHJpZXNDb3VudCA9PT0gMCAmJiBpc1NhbWVQb3NpdGlvbihvbGRCb2R5LnBvcywgYm9keS5wb3MpKSB7CiAgICAgICAgICAgIC8vIFRoaXMgaXMgdmVyeSBiYWQsIHdlIHJhbiBvdXQgb2YgcHJlY2lzaW9uLgogICAgICAgICAgICAvLyBpZiB3ZSBkbyBub3QgcmV0dXJuIGZyb20gdGhlIG1ldGhvZCB3ZSdsbCBnZXQgaW50bwogICAgICAgICAgICAvLyBpbmZpbml0ZSBsb29wIGhlcmUuIFNvIHdlIHNhY3JpZmljZSBjb3JyZWN0bmVzcyBvZiBsYXlvdXQsIGFuZCBrZWVwIHRoZSBhcHAgcnVubmluZwogICAgICAgICAgICAvLyBOZXh0IGxheW91dCBpdGVyYXRpb24gc2hvdWxkIGdldCBsYXJnZXIgYm91bmRpbmcgYm94IGluIHRoZSBmaXJzdCBzdGVwIGFuZCBmaXggdGhpcwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIE5leHQgaXRlcmF0aW9uIHNob3VsZCBzdWJkaXZpZGUgbm9kZSBmdXJ0aGVyLgogICAgICAgIGluc2VydFN0YWNrLnB1c2gobm9kZSwgb2xkQm9keSk7CiAgICAgICAgaW5zZXJ0U3RhY2sucHVzaChub2RlLCBib2R5KTsKICAgICAgfQogICAgfQogIH0KfQpyZXR1cm4gY3JlYXRlUXVhZFRyZWU7CgpgO2Z1bmN0aW9uIGQodSl7bGV0IHA9W10sZz1BcnJheSh1KzEpLmpvaW4oIiAiKTtmb3IobGV0IHY9MDt2PHQ7Kyt2KXAucHVzaChnK2BpZiAoJHtnZXRWYXJpYWJsZU5hbWUodil9ID4gbWF4XyR7Z2V0VmFyaWFibGVOYW1lKHYpfSkge2ApLHAucHVzaChnK2AgIHF1YWRJZHggPSBxdWFkSWR4ICsgJHtNYXRoLnBvdygyLHYpfTtgKSxwLnB1c2goZytgICBtaW5fJHtnZXRWYXJpYWJsZU5hbWUodil9ID0gbWF4XyR7Z2V0VmFyaWFibGVOYW1lKHYpfTtgKSxwLnB1c2goZytgICBtYXhfJHtnZXRWYXJpYWJsZU5hbWUodil9ID0gbm9kZS5tYXhfJHtnZXRWYXJpYWJsZU5hbWUodil9O2ApLHAucHVzaChnKyJ9Iik7cmV0dXJuIHAuam9pbihgCmApfWZ1bmN0aW9uIGgoKXtsZXQgdT1BcnJheSgxMSkuam9pbigiICIpLHA9W107Zm9yKGxldCBnPTA7ZzxuOysrZylwLnB1c2godStgaWYgKG5vZGUucXVhZCR7Z30pIHtgKSxwLnB1c2godStgICBxdWV1ZVtwdXNoSWR4XSA9IG5vZGUucXVhZCR7Z307YCkscC5wdXNoKHUrIiAgcXVldWVMZW5ndGggKz0gMTsiKSxwLnB1c2godSsiICBwdXNoSWR4ICs9IDE7IikscC5wdXNoKHUrIn0iKTtyZXR1cm4gcC5qb2luKGAKYCl9ZnVuY3Rpb24gbCh1KXtsZXQgcD1bXTtmb3IobGV0IGc9MDtnPG47KytnKXAucHVzaChgJHt1fXF1YWQke2d9ID0gbnVsbDtgKTtyZXR1cm4gcC5qb2luKGAKYCl9fWZ1bmN0aW9uIGlzU2FtZVBvc2l0aW9uKHQpe2xldCBlPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDQodCk7cmV0dXJuYAogIGZ1bmN0aW9uIGlzU2FtZVBvc2l0aW9uKHBvaW50MSwgcG9pbnQyKSB7CiAgICAke2UoInZhciBke3Zhcn0gPSBNYXRoLmFicyhwb2ludDEue3Zhcn0gLSBwb2ludDIue3Zhcn0pOyIse2luZGVudDoyfSl9CiAgCiAgICByZXR1cm4gJHtlKCJke3Zhcn0gPCAxZS04Iix7am9pbjoiICYmICJ9KX07CiAgfSAgCmB9ZnVuY3Rpb24gc2V0Q2hpbGRCb2R5Q29kZSh0KXt2YXIgZT1NYXRoLnBvdygyLHQpO3JldHVybmAKZnVuY3Rpb24gc2V0Q2hpbGQobm9kZSwgaWR4LCBjaGlsZCkgewogICR7bigpfQp9YDtmdW5jdGlvbiBuKCl7bGV0IG89W107Zm9yKGxldCBkPTA7ZDxlOysrZCl7bGV0IGg9ZD09PTA/IiAgIjoiICBlbHNlICI7by5wdXNoKGAke2h9aWYgKGlkeCA9PT0gJHtkfSkgbm9kZS5xdWFkJHtkfSA9IGNoaWxkO2ApfXJldHVybiBvLmpvaW4oYApgKX19ZnVuY3Rpb24gZ2V0Q2hpbGRCb2R5Q29kZSh0KXtyZXR1cm5gZnVuY3Rpb24gZ2V0Q2hpbGQobm9kZSwgaWR4KSB7CiR7ZSgpfQogIHJldHVybiBudWxsOwp9YDtmdW5jdGlvbiBlKCl7bGV0IG49W10sbz1NYXRoLnBvdygyLHQpO2ZvcihsZXQgZD0wO2Q8bzsrK2Qpbi5wdXNoKGAgIGlmIChpZHggPT09ICR7ZH0pIHJldHVybiBub2RlLnF1YWQke2R9O2ApO3JldHVybiBuLmpvaW4oYApgKX19ZnVuY3Rpb24gZ2V0UXVhZE5vZGVDb2RlKHQpe2xldCBlPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDQodCksbj1NYXRoLnBvdygyLHQpO3ZhciBvPWAKZnVuY3Rpb24gUXVhZE5vZGUoKSB7CiAgLy8gYm9keSBzdG9yZWQgaW5zaWRlIHRoaXMgbm9kZS4gSW4gcXVhZCB0cmVlIG9ubHkgbGVhZiBub2RlcyAoYnkgY29uc3RydWN0aW9uKQogIC8vIGNvbnRhaW4gYm9kaWVzOgogIHRoaXMuYm9keSA9IG51bGw7CgogIC8vIENoaWxkIG5vZGVzIGFyZSBzdG9yZWQgaW4gcXVhZHMuIEVhY2ggcXVhZCBpcyBwcmVzZW50ZWQgYnkgbnVtYmVyOgogIC8vIDAgfCAxCiAgLy8gLS0tLS0KICAvLyAyIHwgMwoke2QoIiAgdGhpcy4iKX0KCiAgLy8gVG90YWwgbWFzcyBvZiBjdXJyZW50IG5vZGUKICB0aGlzLm1hc3MgPSAwOwoKICAvLyBDZW50ZXIgb2YgbWFzcyBjb29yZGluYXRlcwogICR7ZSgidGhpcy5tYXNzX3t2YXJ9ID0gMDsiLHtpbmRlbnQ6Mn0pfQoKICAvLyBib3VuZGluZyBib3ggY29vcmRpbmF0ZXMKICAke2UoInRoaXMubWluX3t2YXJ9ID0gMDsiLHtpbmRlbnQ6Mn0pfQogICR7ZSgidGhpcy5tYXhfe3Zhcn0gPSAwOyIse2luZGVudDoyfSl9Cn0KYDtyZXR1cm4gbztmdW5jdGlvbiBkKGgpe2xldCBsPVtdO2ZvcihsZXQgdT0wO3U8bjsrK3UpbC5wdXNoKGAke2h9cXVhZCR7dX0gPSBudWxsO2ApO3JldHVybiBsLmpvaW4oYApgKX19ZnVuY3Rpb24gZ2V0SW5zZXJ0U3RhY2tDb2RlKCl7cmV0dXJuYAovKioKICogT3VyIGltcGxlbWVudGF0aW9uIG9mIFF1YWRUcmVlIGlzIG5vbi1yZWN1cnNpdmUgdG8gYXZvaWQgR0MgaGl0CiAqIFRoaXMgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50IHN0YWNrIG9mIGVsZW1lbnRzCiAqIHdoaWNoIHdlIGFyZSB0cnlpbmcgdG8gaW5zZXJ0IGludG8gcXVhZCB0cmVlLgogKi8KZnVuY3Rpb24gSW5zZXJ0U3RhY2sgKCkgewogICAgdGhpcy5zdGFjayA9IFtdOwogICAgdGhpcy5wb3BJZHggPSAwOwp9CgpJbnNlcnRTdGFjay5wcm90b3R5cGUgPSB7CiAgICBpc0VtcHR5OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGhpcy5wb3BJZHggPT09IDA7CiAgICB9LAogICAgcHVzaDogZnVuY3Rpb24gKG5vZGUsIGJvZHkpIHsKICAgICAgICB2YXIgaXRlbSA9IHRoaXMuc3RhY2tbdGhpcy5wb3BJZHhdOwogICAgICAgIGlmICghaXRlbSkgewogICAgICAgICAgICAvLyB3ZSBhcmUgdHJ5aW5nIHRvIGF2b2lkIG1lbW9yeSBwcmVzc3VyZTogY3JlYXRlIG5ldyBlbGVtZW50CiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiBhYnNvbHV0ZWx5IG5lY2Vzc2FyeQogICAgICAgICAgICB0aGlzLnN0YWNrW3RoaXMucG9wSWR4XSA9IG5ldyBJbnNlcnRTdGFja0VsZW1lbnQobm9kZSwgYm9keSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaXRlbS5ub2RlID0gbm9kZTsKICAgICAgICAgICAgaXRlbS5ib2R5ID0gYm9keTsKICAgICAgICB9CiAgICAgICAgKyt0aGlzLnBvcElkeDsKICAgIH0sCiAgICBwb3A6IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAodGhpcy5wb3BJZHggPiAwKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YWNrWy0tdGhpcy5wb3BJZHhdOwogICAgICAgIH0KICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMucG9wSWR4ID0gMDsKICAgIH0KfTsKCmZ1bmN0aW9uIEluc2VydFN0YWNrRWxlbWVudChub2RlLCBib2R5KSB7CiAgICB0aGlzLm5vZGUgPSBub2RlOyAvLyBRdWFkVHJlZSBub2RlCiAgICB0aGlzLmJvZHkgPSBib2R5OyAvLyBwaHlzaWNhbCBib2R5IHdoaWNoIG5lZWRzIHRvIGJlIGluc2VydGVkIHRvIG5vZGUKfQpgfXZhciBnZW5lcmF0ZUJvdW5kc0V4cG9ydHM9e30sZ2VuZXJhdGVCb3VuZHM9e2dldCBleHBvcnRzKCl7cmV0dXJuIGdlbmVyYXRlQm91bmRzRXhwb3J0c30sc2V0IGV4cG9ydHModCl7Z2VuZXJhdGVCb3VuZHNFeHBvcnRzPXR9fTtnZW5lcmF0ZUJvdW5kcy5leHBvcnRzPWdlbmVyYXRlQm91bmRzRnVuY3Rpb24kMTtnZW5lcmF0ZUJvdW5kc0V4cG9ydHMuZ2VuZXJhdGVGdW5jdGlvbkJvZHk9Z2VuZXJhdGVCb3VuZHNGdW5jdGlvbkJvZHk7Y29uc3QgY3JlYXRlUGF0dGVybkJ1aWxkZXIkMz1jcmVhdGVQYXR0ZXJuQnVpbGRlciQ2O2Z1bmN0aW9uIGdlbmVyYXRlQm91bmRzRnVuY3Rpb24kMSh0KXtsZXQgZT1nZW5lcmF0ZUJvdW5kc0Z1bmN0aW9uQm9keSh0KTtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJib2RpZXMiLCJzZXR0aW5ncyIsInJhbmRvbSIsZSl9ZnVuY3Rpb24gZ2VuZXJhdGVCb3VuZHNGdW5jdGlvbkJvZHkodCl7bGV0IGU9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkMyh0KTtyZXR1cm5gCiAgdmFyIGJvdW5kaW5nQm94ID0gewogICAgJHtlKCJtaW5fe3Zhcn06IDAsIG1heF97dmFyfTogMCwiLHtpbmRlbnQ6NH0pfQogIH07CgogIHJldHVybiB7CiAgICBib3g6IGJvdW5kaW5nQm94LAoKICAgIHVwZGF0ZTogdXBkYXRlQm91bmRpbmdCb3gsCgogICAgcmVzZXQ6IHJlc2V0Qm91bmRpbmdCb3gsCgogICAgZ2V0QmVzdE5ld1Bvc2l0aW9uOiBmdW5jdGlvbiAobmVpZ2hib3JzKSB7CiAgICAgIHZhciAke2UoImJhc2Vfe3Zhcn0gPSAwIix7am9pbjoiLCAifSl9OwoKICAgICAgaWYgKG5laWdoYm9ycy5sZW5ndGgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7ICsraSkgewogICAgICAgICAgbGV0IG5laWdoYm9yUG9zID0gbmVpZ2hib3JzW2ldLnBvczsKICAgICAgICAgICR7ZSgiYmFzZV97dmFyfSArPSBuZWlnaGJvclBvcy57dmFyfTsiLHtpbmRlbnQ6MTB9KX0KICAgICAgICB9CgogICAgICAgICR7ZSgiYmFzZV97dmFyfSAvPSBuZWlnaGJvcnMubGVuZ3RoOyIse2luZGVudDo4fSl9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJHtlKCJiYXNlX3t2YXJ9ID0gKGJvdW5kaW5nQm94Lm1pbl97dmFyfSArIGJvdW5kaW5nQm94Lm1heF97dmFyfSkgLyAyOyIse2luZGVudDo4fSl9CiAgICAgIH0KCiAgICAgIHZhciBzcHJpbmdMZW5ndGggPSBzZXR0aW5ncy5zcHJpbmdMZW5ndGg7CiAgICAgIHJldHVybiB7CiAgICAgICAgJHtlKCJ7dmFyfTogYmFzZV97dmFyfSArIChyYW5kb20ubmV4dERvdWJsZSgpIC0gMC41KSAqIHNwcmluZ0xlbmd0aCwiLHtpbmRlbnQ6OH0pfQogICAgICB9OwogICAgfQogIH07CgogIGZ1bmN0aW9uIHVwZGF0ZUJvdW5kaW5nQm94KCkgewogICAgdmFyIGkgPSBib2RpZXMubGVuZ3RoOwogICAgaWYgKGkgPT09IDApIHJldHVybjsgLy8gTm8gYm9kaWVzIC0gbm8gYm9yZGVycy4KCiAgICAke2UoInZhciBtYXhfe3Zhcn0gPSAtSW5maW5pdHk7Iix7aW5kZW50OjR9KX0KICAgICR7ZSgidmFyIG1pbl97dmFyfSA9IEluZmluaXR5OyIse2luZGVudDo0fSl9CgogICAgd2hpbGUoaS0tKSB7CiAgICAgIC8vIHRoaXMgaXMgTyhuKSwgaXQgY291bGQgYmUgZG9uZSBmYXN0ZXIgd2l0aCBxdWFkdHJlZSwgaWYgd2UgY2hlY2sgdGhlIHJvb3Qgbm9kZSBib3VuZHMKICAgICAgdmFyIGJvZHlQb3MgPSBib2RpZXNbaV0ucG9zOwogICAgICAke2UoImlmIChib2R5UG9zLnt2YXJ9IDwgbWluX3t2YXJ9KSBtaW5fe3Zhcn0gPSBib2R5UG9zLnt2YXJ9OyIse2luZGVudDo2fSl9CiAgICAgICR7ZSgiaWYgKGJvZHlQb3Mue3Zhcn0gPiBtYXhfe3Zhcn0pIG1heF97dmFyfSA9IGJvZHlQb3Mue3Zhcn07Iix7aW5kZW50OjZ9KX0KICAgIH0KCiAgICAke2UoImJvdW5kaW5nQm94Lm1pbl97dmFyfSA9IG1pbl97dmFyfTsiLHtpbmRlbnQ6NH0pfQogICAgJHtlKCJib3VuZGluZ0JveC5tYXhfe3Zhcn0gPSBtYXhfe3Zhcn07Iix7aW5kZW50OjR9KX0KICB9CgogIGZ1bmN0aW9uIHJlc2V0Qm91bmRpbmdCb3goKSB7CiAgICAke2UoImJvdW5kaW5nQm94Lm1pbl97dmFyfSA9IGJvdW5kaW5nQm94Lm1heF97dmFyfSA9IDA7Iix7aW5kZW50OjR9KX0KICB9CmB9dmFyIGdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRXhwb3J0cz17fSxnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZ2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUV4cG9ydHM9dH19O2NvbnN0IGNyZWF0ZVBhdHRlcm5CdWlsZGVyJDI9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNjtnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZS5leHBvcnRzPWdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRnVuY3Rpb24kMTtnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUV4cG9ydHMuZ2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbkJvZHk9Z2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbkJvZHk7ZnVuY3Rpb24gZ2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbiQxKHQpe2xldCBlPWdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRnVuY3Rpb25Cb2R5KHQpO3JldHVybiBuZXcgRnVuY3Rpb24oIm9wdGlvbnMiLGUpfWZ1bmN0aW9uIGdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRnVuY3Rpb25Cb2R5KHQpe3JldHVybmAKICBpZiAoIU51bWJlci5pc0Zpbml0ZShvcHRpb25zLmRyYWdDb2VmZmljaWVudCkpIHRocm93IG5ldyBFcnJvcignZHJhZ0NvZWZmaWNpZW50IGlzIG5vdCBhIGZpbml0ZSBudW1iZXInKTsKCiAgcmV0dXJuIHsKICAgIHVwZGF0ZTogZnVuY3Rpb24oYm9keSkgewogICAgICAke2NyZWF0ZVBhdHRlcm5CdWlsZGVyJDIodCkoImJvZHkuZm9yY2Uue3Zhcn0gLT0gb3B0aW9ucy5kcmFnQ29lZmZpY2llbnQgKiBib2R5LnZlbG9jaXR5Lnt2YXJ9OyIse2luZGVudDo2fSl9CiAgICB9CiAgfTsKYH12YXIgZ2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUV4cG9ydHM9e30sZ2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZ2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUV4cG9ydHN9LHNldCBleHBvcnRzKHQpe2dlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VFeHBvcnRzPXR9fTtjb25zdCBjcmVhdGVQYXR0ZXJuQnVpbGRlciQxPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDY7Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZS5leHBvcnRzPWdlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VGdW5jdGlvbiQxO2dlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VFeHBvcnRzLmdlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VGdW5jdGlvbkJvZHk9Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUZ1bmN0aW9uQm9keTtmdW5jdGlvbiBnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRnVuY3Rpb24kMSh0KXtsZXQgZT1nZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRnVuY3Rpb25Cb2R5KHQpO3JldHVybiBuZXcgRnVuY3Rpb24oIm9wdGlvbnMiLCJyYW5kb20iLGUpfWZ1bmN0aW9uIGdlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VGdW5jdGlvbkJvZHkodCl7bGV0IGU9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkMSh0KTtyZXR1cm5gCiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5zcHJpbmdDb2VmZmljaWVudCkpIHRocm93IG5ldyBFcnJvcignU3ByaW5nIGNvZWZmaWNpZW50IGlzIG5vdCBhIG51bWJlcicpOwogIGlmICghTnVtYmVyLmlzRmluaXRlKG9wdGlvbnMuc3ByaW5nTGVuZ3RoKSkgdGhyb3cgbmV3IEVycm9yKCdTcHJpbmcgbGVuZ3RoIGlzIG5vdCBhIG51bWJlcicpOwoKICByZXR1cm4gewogICAgLyoqCiAgICAgKiBVcGRhdGVzIGZvcmNlcyBhY3Rpbmcgb24gYSBzcHJpbmcKICAgICAqLwogICAgdXBkYXRlOiBmdW5jdGlvbiAoc3ByaW5nKSB7CiAgICAgIHZhciBib2R5MSA9IHNwcmluZy5mcm9tOwogICAgICB2YXIgYm9keTIgPSBzcHJpbmcudG87CiAgICAgIHZhciBsZW5ndGggPSBzcHJpbmcubGVuZ3RoIDwgMCA/IG9wdGlvbnMuc3ByaW5nTGVuZ3RoIDogc3ByaW5nLmxlbmd0aDsKICAgICAgJHtlKCJ2YXIgZHt2YXJ9ID0gYm9keTIucG9zLnt2YXJ9IC0gYm9keTEucG9zLnt2YXJ9OyIse2luZGVudDo2fSl9CiAgICAgIHZhciByID0gTWF0aC5zcXJ0KCR7ZSgiZHt2YXJ9ICogZHt2YXJ9Iix7am9pbjoiICsgIn0pfSk7CgogICAgICBpZiAociA9PT0gMCkgewogICAgICAgICR7ZSgiZHt2YXJ9ID0gKHJhbmRvbS5uZXh0RG91YmxlKCkgLSAwLjUpIC8gNTA7Iix7aW5kZW50Ojh9KX0KICAgICAgICByID0gTWF0aC5zcXJ0KCR7ZSgiZHt2YXJ9ICogZHt2YXJ9Iix7am9pbjoiICsgIn0pfSk7CiAgICAgIH0KCiAgICAgIHZhciBkID0gciAtIGxlbmd0aDsKICAgICAgdmFyIGNvZWZmaWNpZW50ID0gKChzcHJpbmcuY29lZmZpY2llbnQgPiAwKSA/IHNwcmluZy5jb2VmZmljaWVudCA6IG9wdGlvbnMuc3ByaW5nQ29lZmZpY2llbnQpICogZCAvIHI7CgogICAgICAke2UoImJvZHkxLmZvcmNlLnt2YXJ9ICs9IGNvZWZmaWNpZW50ICogZHt2YXJ9Iix7aW5kZW50OjZ9KX07CiAgICAgIGJvZHkxLnNwcmluZ0NvdW50ICs9IDE7CiAgICAgIGJvZHkxLnNwcmluZ0xlbmd0aCArPSByOwoKICAgICAgJHtlKCJib2R5Mi5mb3JjZS57dmFyfSAtPSBjb2VmZmljaWVudCAqIGR7dmFyfSIse2luZGVudDo2fSl9OwogICAgICBib2R5Mi5zcHJpbmdDb3VudCArPSAxOwogICAgICBib2R5Mi5zcHJpbmdMZW5ndGggKz0gcjsKICAgIH0KICB9OwpgfXZhciBnZW5lcmF0ZUludGVncmF0b3JFeHBvcnRzPXt9LGdlbmVyYXRlSW50ZWdyYXRvcj17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZ2VuZXJhdGVJbnRlZ3JhdG9yRXhwb3J0c30sc2V0IGV4cG9ydHModCl7Z2VuZXJhdGVJbnRlZ3JhdG9yRXhwb3J0cz10fX07Y29uc3QgY3JlYXRlUGF0dGVybkJ1aWxkZXI9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNjtnZW5lcmF0ZUludGVncmF0b3IuZXhwb3J0cz1nZW5lcmF0ZUludGVncmF0b3JGdW5jdGlvbiQxO2dlbmVyYXRlSW50ZWdyYXRvckV4cG9ydHMuZ2VuZXJhdGVJbnRlZ3JhdG9yRnVuY3Rpb25Cb2R5PWdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uQm9keTtmdW5jdGlvbiBnZW5lcmF0ZUludGVncmF0b3JGdW5jdGlvbiQxKHQpe2xldCBlPWdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uQm9keSh0KTtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJib2RpZXMiLCJ0aW1lU3RlcCIsImFkYXB0aXZlVGltZVN0ZXBXZWlnaHQiLGUpfWZ1bmN0aW9uIGdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uQm9keSh0KXtsZXQgZT1jcmVhdGVQYXR0ZXJuQnVpbGRlcih0KTtyZXR1cm5gCiAgdmFyIGxlbmd0aCA9IGJvZGllcy5sZW5ndGg7CiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7CgogICR7ZSgidmFyIGR7dmFyfSA9IDAsIHR7dmFyfSA9IDA7Iix7aW5kZW50OjJ9KX0KCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkgewogICAgdmFyIGJvZHkgPSBib2RpZXNbaV07CiAgICBpZiAoYm9keS5pc1Bpbm5lZCkgY29udGludWU7CgogICAgaWYgKGFkYXB0aXZlVGltZVN0ZXBXZWlnaHQgJiYgYm9keS5zcHJpbmdDb3VudCkgewogICAgICB0aW1lU3RlcCA9IChhZGFwdGl2ZVRpbWVTdGVwV2VpZ2h0ICogYm9keS5zcHJpbmdMZW5ndGgvYm9keS5zcHJpbmdDb3VudCk7CiAgICB9CgogICAgdmFyIGNvZWZmID0gdGltZVN0ZXAgLyBib2R5Lm1hc3M7CgogICAgJHtlKCJib2R5LnZlbG9jaXR5Lnt2YXJ9ICs9IGNvZWZmICogYm9keS5mb3JjZS57dmFyfTsiLHtpbmRlbnQ6NH0pfQogICAgJHtlKCJ2YXIgdnt2YXJ9ID0gYm9keS52ZWxvY2l0eS57dmFyfTsiLHtpbmRlbnQ6NH0pfQogICAgdmFyIHYgPSBNYXRoLnNxcnQoJHtlKCJ2e3Zhcn0gKiB2e3Zhcn0iLHtqb2luOiIgKyAifSl9KTsKCiAgICBpZiAodiA+IDEpIHsKICAgICAgLy8gV2Ugbm9ybWFsaXplIGl0IHNvIHRoYXQgd2UgbW92ZSB3aXRoaW4gdGltZVN0ZXAgcmFuZ2UuIAogICAgICAvLyBmb3IgdGhlIGNhc2Ugd2hlbiB2IDw9IDEgLSB3ZSBsZXQgdmVsb2NpdHkgdG8gZmFkZSBvdXQuCiAgICAgICR7ZSgiYm9keS52ZWxvY2l0eS57dmFyfSA9IHZ7dmFyfSAvIHY7Iix7aW5kZW50OjZ9KX0KICAgIH0KCiAgICAke2UoImR7dmFyfSA9IHRpbWVTdGVwICogYm9keS52ZWxvY2l0eS57dmFyfTsiLHtpbmRlbnQ6NH0pfQoKICAgICR7ZSgiYm9keS5wb3Mue3Zhcn0gKz0gZHt2YXJ9OyIse2luZGVudDo0fSl9CgogICAgJHtlKCJ0e3Zhcn0gKz0gTWF0aC5hYnMoZHt2YXJ9KTsiLHtpbmRlbnQ6NH0pfQogIH0KCiAgcmV0dXJuICgke2UoInR7dmFyfSAqIHR7dmFyfSIse2pvaW46IiArICJ9KX0pL2xlbmd0aDsKYH12YXIgc3ByaW5nLGhhc1JlcXVpcmVkU3ByaW5nO2Z1bmN0aW9uIHJlcXVpcmVTcHJpbmcoKXtpZihoYXNSZXF1aXJlZFNwcmluZylyZXR1cm4gc3ByaW5nO2hhc1JlcXVpcmVkU3ByaW5nPTEsc3ByaW5nPXQ7ZnVuY3Rpb24gdChlLG4sbyxkKXt0aGlzLmZyb209ZSx0aGlzLnRvPW4sdGhpcy5sZW5ndGg9byx0aGlzLmNvZWZmaWNpZW50PWR9cmV0dXJuIHNwcmluZ312YXIgbmdyYXBoX21lcmdlLGhhc1JlcXVpcmVkTmdyYXBoX21lcmdlO2Z1bmN0aW9uIHJlcXVpcmVOZ3JhcGhfbWVyZ2UoKXtpZihoYXNSZXF1aXJlZE5ncmFwaF9tZXJnZSlyZXR1cm4gbmdyYXBoX21lcmdlO2hhc1JlcXVpcmVkTmdyYXBoX21lcmdlPTEsbmdyYXBoX21lcmdlPXQ7ZnVuY3Rpb24gdChlLG4pe3ZhciBvO2lmKGV8fChlPXt9KSxuKXtmb3IobyBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkobykpe3ZhciBkPWUuaGFzT3duUHJvcGVydHkobyksaD10eXBlb2YgbltvXSxsPSFkfHx0eXBlb2YgZVtvXSE9PWg7bD9lW29dPW5bb106aD09PSJvYmplY3QiJiYoZVtvXT10KGVbb10sbltvXSkpfX1yZXR1cm4gZX1yZXR1cm4gbmdyYXBoX21lcmdlfXZhciBuZ3JhcGhfZXZlbnRzPWZ1bmN0aW9uIHQoZSl7dmFsaWRhdGVTdWJqZWN0KGUpO3ZhciBuPWNyZWF0ZUV2ZW50c1N0b3JhZ2UoZSk7cmV0dXJuIGUub249bi5vbixlLm9mZj1uLm9mZixlLmZpcmU9bi5maXJlLGV9O2Z1bmN0aW9uIGNyZWF0ZUV2ZW50c1N0b3JhZ2UodCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm57b246ZnVuY3Rpb24obixvLGQpe2lmKHR5cGVvZiBvIT0iZnVuY3Rpb24iKXRocm93IG5ldyBFcnJvcigiY2FsbGJhY2sgaXMgZXhwZWN0ZWQgdG8gYmUgYSBmdW5jdGlvbiIpO3ZhciBoPWVbbl07cmV0dXJuIGh8fChoPWVbbl09W10pLGgucHVzaCh7Y2FsbGJhY2s6byxjdHg6ZH0pLHR9LG9mZjpmdW5jdGlvbihuLG8pe3ZhciBkPXR5cGVvZiBuPiJ1IjtpZihkKXJldHVybiBlPU9iamVjdC5jcmVhdGUobnVsbCksdDtpZihlW25dKXt2YXIgaD10eXBlb2YgbyE9ImZ1bmN0aW9uIjtpZihoKWRlbGV0ZSBlW25dO2Vsc2UgZm9yKHZhciBsPWVbbl0sdT0wO3U8bC5sZW5ndGg7Kyt1KWxbdV0uY2FsbGJhY2s9PT1vJiZsLnNwbGljZSh1LDEpfXJldHVybiB0fSxmaXJlOmZ1bmN0aW9uKG4pe3ZhciBvPWVbbl07aWYoIW8pcmV0dXJuIHQ7dmFyIGQ7YXJndW1lbnRzLmxlbmd0aD4xJiYoZD1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtmb3IodmFyIGg9MDtoPG8ubGVuZ3RoOysraCl7dmFyIGw9b1toXTtsLmNhbGxiYWNrLmFwcGx5KGwuY3R4LGQpfXJldHVybiB0fX19ZnVuY3Rpb24gdmFsaWRhdGVTdWJqZWN0KHQpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiRXZlbnRpZnkgY2Fubm90IHVzZSBmYWxzeSBvYmplY3QgYXMgZXZlbnRzIHN1YmplY3QiKTtmb3IodmFyIGU9WyJvbiIsImZpcmUiLCJvZmYiXSxuPTA7bjxlLmxlbmd0aDsrK24paWYodC5oYXNPd25Qcm9wZXJ0eShlW25dKSl0aHJvdyBuZXcgRXJyb3IoIlN1YmplY3QgY2Fubm90IGJlIGV2ZW50aWZpZWQsIHNpbmNlIGl0IGFscmVhZHkgaGFzIHByb3BlcnR5ICciK2Vbbl0rIiciKX12YXIgbmdyYXBoX3JhbmRvbUV4cG9ydHM9e30sbmdyYXBoX3JhbmRvbT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gbmdyYXBoX3JhbmRvbUV4cG9ydHN9LHNldCBleHBvcnRzKHQpe25ncmFwaF9yYW5kb21FeHBvcnRzPXR9fSxoYXNSZXF1aXJlZE5ncmFwaF9yYW5kb207ZnVuY3Rpb24gcmVxdWlyZU5ncmFwaF9yYW5kb20oKXtpZihoYXNSZXF1aXJlZE5ncmFwaF9yYW5kb20pcmV0dXJuIG5ncmFwaF9yYW5kb21FeHBvcnRzO2hhc1JlcXVpcmVkTmdyYXBoX3JhbmRvbT0xLG5ncmFwaF9yYW5kb20uZXhwb3J0cz10LG5ncmFwaF9yYW5kb21FeHBvcnRzLnJhbmRvbT10LG5ncmFwaF9yYW5kb21FeHBvcnRzLnJhbmRvbUl0ZXJhdG9yPXU7ZnVuY3Rpb24gdChwKXt2YXIgZz10eXBlb2YgcD09Im51bWJlciI/cDorbmV3IERhdGU7cmV0dXJuIG5ldyBlKGcpfWZ1bmN0aW9uIGUocCl7dGhpcy5zZWVkPXB9ZS5wcm90b3R5cGUubmV4dD1sLGUucHJvdG90eXBlLm5leHREb3VibGU9aCxlLnByb3RvdHlwZS51bmlmb3JtPWgsZS5wcm90b3R5cGUuZ2F1c3NpYW49bjtmdW5jdGlvbiBuKCl7dmFyIHAsZyx2O2RvIGc9dGhpcy5uZXh0RG91YmxlKCkqMi0xLHY9dGhpcy5uZXh0RG91YmxlKCkqMi0xLHA9ZypnK3Yqdjt3aGlsZShwPj0xfHxwPT09MCk7cmV0dXJuIGcqTWF0aC5zcXJ0KC0yKk1hdGgubG9nKHApL3ApfWUucHJvdG90eXBlLmxldnk9bztmdW5jdGlvbiBvKCl7dmFyIHA9MS41LGc9TWF0aC5wb3coZCgxK3ApKk1hdGguc2luKE1hdGguUEkqcC8yKS8oZCgoMStwKS8yKSpwKk1hdGgucG93KDIsKHAtMSkvMikpLDEvcCk7cmV0dXJuIHRoaXMuZ2F1c3NpYW4oKSpnL01hdGgucG93KE1hdGguYWJzKHRoaXMuZ2F1c3NpYW4oKSksMS9wKX1mdW5jdGlvbiBkKHApe3JldHVybiBNYXRoLnNxcnQoMipNYXRoLlBJL3ApKk1hdGgucG93KDEvTWF0aC5FKihwKzEvKDEyKnAtMS8oMTAqcCkpKSxwKX1mdW5jdGlvbiBoKCl7dmFyIHA9dGhpcy5zZWVkO3JldHVybiBwPXArMjEyNzkxMjIxNCsocDw8MTIpJjQyOTQ5NjcyOTUscD0ocF4zMzQ1MDcyNzAwXnA+Pj4xOSkmNDI5NDk2NzI5NSxwPXArMzc0NzYxMzkzKyhwPDw1KSY0Mjk0OTY3Mjk1LHA9KHArMzU1MDYzNTExNl5wPDw5KSY0Mjk0OTY3Mjk1LHA9cCs0MjUxOTkzNzk3KyhwPDwzKSY0Mjk0OTY3Mjk1LHA9KHBeMzA0MjU5NDU2OV5wPj4+MTYpJjQyOTQ5NjcyOTUsdGhpcy5zZWVkPXAsKHAmMjY4NDM1NDU1KS8yNjg0MzU0NTZ9ZnVuY3Rpb24gbChwKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLm5leHREb3VibGUoKSpwKX1mdW5jdGlvbiB1KHAsZyl7dmFyIHY9Z3x8dCgpO2lmKHR5cGVvZiB2Lm5leHQhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJjdXN0b21SYW5kb20gZG9lcyBub3QgbWF0Y2ggZXhwZWN0ZWQgQVBJOiBuZXh0KCkgZnVuY3Rpb24gaXMgbWlzc2luZyIpO3JldHVybntmb3JFYWNoOl8sc2h1ZmZsZTpifTtmdW5jdGlvbiBiKCl7dmFyIE8sVCxqO2ZvcihPPXAubGVuZ3RoLTE7Tz4wOy0tTylUPXYubmV4dChPKzEpLGo9cFtUXSxwW1RdPXBbT10scFtPXT1qO3JldHVybiBwfWZ1bmN0aW9uIF8oTyl7dmFyIFQsaixOO2ZvcihUPXAubGVuZ3RoLTE7VD4wOy0tVClqPXYubmV4dChUKzEpLE49cFtqXSxwW2pdPXBbVF0scFtUXT1OLE8oTik7cC5sZW5ndGgmJk8ocFswXSl9fXJldHVybiBuZ3JhcGhfcmFuZG9tRXhwb3J0c312YXIgY3JlYXRlUGh5c2ljc1NpbXVsYXRvcl8xPWNyZWF0ZVBoeXNpY3NTaW11bGF0b3IsZ2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb249Z2VuZXJhdGVDcmVhdGVCb2R5RXhwb3J0cyxnZW5lcmF0ZVF1YWRUcmVlRnVuY3Rpb249Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHMsZ2VuZXJhdGVCb3VuZHNGdW5jdGlvbj1nZW5lcmF0ZUJvdW5kc0V4cG9ydHMsZ2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbj1nZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUV4cG9ydHMsZ2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUZ1bmN0aW9uPWdlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VFeHBvcnRzLGdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uPWdlbmVyYXRlSW50ZWdyYXRvckV4cG9ydHMsZGltZW5zaW9uYWxDYWNoZT17fTtmdW5jdGlvbiBjcmVhdGVQaHlzaWNzU2ltdWxhdG9yKHQpe3ZhciBlPXJlcXVpcmVTcHJpbmcoKSxuPXJlcXVpcmVOZ3JhcGhfbWVyZ2UoKSxvPW5ncmFwaF9ldmVudHM7aWYodCl7aWYodC5zcHJpbmdDb2VmZiE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoInNwcmluZ0NvZWZmIHdhcyByZW5hbWVkIHRvIHNwcmluZ0NvZWZmaWNpZW50Iik7aWYodC5kcmFnQ29lZmYhPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJkcmFnQ29lZmYgd2FzIHJlbmFtZWQgdG8gZHJhZ0NvZWZmaWNpZW50Iil9dD1uKHQse3NwcmluZ0xlbmd0aDoxMCxzcHJpbmdDb2VmZmljaWVudDouOCxncmF2aXR5Oi0xMix0aGV0YTouOCxkcmFnQ29lZmZpY2llbnQ6LjksdGltZVN0ZXA6LjUsYWRhcHRpdmVUaW1lU3RlcFdlaWdodDowLGRpbWVuc2lvbnM6MixkZWJ1ZzohMX0pO3ZhciBkPWRpbWVuc2lvbmFsQ2FjaGVbdC5kaW1lbnNpb25zXTtpZighZCl7dmFyIGg9dC5kaW1lbnNpb25zO2Q9e0JvZHk6Z2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb24oaCx0LmRlYnVnKSxjcmVhdGVRdWFkVHJlZTpnZW5lcmF0ZVF1YWRUcmVlRnVuY3Rpb24oaCksY3JlYXRlQm91bmRzOmdlbmVyYXRlQm91bmRzRnVuY3Rpb24oaCksY3JlYXRlRHJhZ0ZvcmNlOmdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRnVuY3Rpb24oaCksY3JlYXRlU3ByaW5nRm9yY2U6Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUZ1bmN0aW9uKGgpLGludGVncmF0ZTpnZW5lcmF0ZUludGVncmF0b3JGdW5jdGlvbihoKX0sZGltZW5zaW9uYWxDYWNoZVtoXT1kfXZhciBsPWQuQm9keSx1PWQuY3JlYXRlUXVhZFRyZWUscD1kLmNyZWF0ZUJvdW5kcyxnPWQuY3JlYXRlRHJhZ0ZvcmNlLHY9ZC5jcmVhdGVTcHJpbmdGb3JjZSxiPWQuaW50ZWdyYXRlLF89VT0+bmV3IGwoVSksTz1yZXF1aXJlTmdyYXBoX3JhbmRvbSgpLnJhbmRvbSg0MiksVD1bXSxqPVtdLE49dSh0LE8pLEI9cChULHQsTyksQz12KHQsTyksTD1nKHQpLFM9MCxQPVtdLEY9bmV3IE1hcCxrPTA7cSgibmJvZHkiLE0pLHEoInNwcmluZyIsJCk7dmFyIEo9e2JvZGllczpULHF1YWRUcmVlOk4sc3ByaW5nczpqLHNldHRpbmdzOnQsYWRkRm9yY2U6cSxyZW1vdmVGb3JjZTpHLGdldEZvcmNlczpyZSxzdGVwOmZ1bmN0aW9uKCl7Zm9yKHZhciBVPTA7VTxQLmxlbmd0aDsrK1UpUFtVXShrKTt2YXIgSD1iKFQsdC50aW1lU3RlcCx0LmFkYXB0aXZlVGltZVN0ZXBXZWlnaHQpO3JldHVybiBrKz0xLEh9LGFkZEJvZHk6ZnVuY3Rpb24oVSl7aWYoIVUpdGhyb3cgbmV3IEVycm9yKCJCb2R5IGlzIHJlcXVpcmVkIik7cmV0dXJuIFQucHVzaChVKSxVfSxhZGRCb2R5QXQ6ZnVuY3Rpb24oVSl7aWYoIVUpdGhyb3cgbmV3IEVycm9yKCJCb2R5IHBvc2l0aW9uIGlzIHJlcXVpcmVkIik7dmFyIEg9XyhVKTtyZXR1cm4gVC5wdXNoKEgpLEh9LHJlbW92ZUJvZHk6ZnVuY3Rpb24oVSl7aWYoVSl7dmFyIEg9VC5pbmRleE9mKFUpO2lmKCEoSDwwKSlyZXR1cm4gVC5zcGxpY2UoSCwxKSxULmxlbmd0aD09PTAmJkIucmVzZXQoKSwhMH19LGFkZFNwcmluZzpmdW5jdGlvbihVLEgsZWUsZ2Upe2lmKCFVfHwhSCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhZGQgbnVsbCBzcHJpbmcgdG8gZm9yY2Ugc2ltdWxhdG9yIik7dHlwZW9mIGVlIT0ibnVtYmVyIiYmKGVlPS0xKTt2YXIgbWU9bmV3IGUoVSxILGVlLGdlPj0wP2dlOi0xKTtyZXR1cm4gai5wdXNoKG1lKSxtZX0sZ2V0VG90YWxNb3ZlbWVudDpmdW5jdGlvbigpe3JldHVybiBTfSxyZW1vdmVTcHJpbmc6ZnVuY3Rpb24oVSl7aWYoVSl7dmFyIEg9ai5pbmRleE9mKFUpO2lmKEg+LTEpcmV0dXJuIGouc3BsaWNlKEgsMSksITB9fSxnZXRCZXN0TmV3Qm9keVBvc2l0aW9uOmZ1bmN0aW9uKFUpe3JldHVybiBCLmdldEJlc3ROZXdQb3NpdGlvbihVKX0sZ2V0QkJveDphZSxnZXRCb3VuZGluZ0JveDphZSxpbnZhbGlkYXRlQkJveDpmdW5jdGlvbigpe2NvbnNvbGUud2FybigiaW52YWxpZGF0ZUJCb3goKSBpcyBkZXByZWNhdGVkLCBib3VuZHMgYWx3YXlzIHJlY29tcHV0ZWQgb24gYGdldEJCb3goKWAgY2FsbCIpfSxncmF2aXR5OmZ1bmN0aW9uKFUpe3JldHVybiBVIT09dm9pZCAwPyh0LmdyYXZpdHk9VSxOLm9wdGlvbnMoe2dyYXZpdHk6VX0pLHRoaXMpOnQuZ3Jhdml0eX0sdGhldGE6ZnVuY3Rpb24oVSl7cmV0dXJuIFUhPT12b2lkIDA/KHQudGhldGE9VSxOLm9wdGlvbnMoe3RoZXRhOlV9KSx0aGlzKTp0LnRoZXRhfSxyYW5kb206T307cmV0dXJuIGV4cG9zZSh0LEopLG8oSiksSjtmdW5jdGlvbiBhZSgpe3JldHVybiBCLnVwZGF0ZSgpLEIuYm94fWZ1bmN0aW9uIHEoVSxIKXtpZihGLmhhcyhVKSl0aHJvdyBuZXcgRXJyb3IoIkZvcmNlICIrVSsiIGlzIGFscmVhZHkgYWRkZWQiKTtGLnNldChVLEgpLFAucHVzaChIKX1mdW5jdGlvbiBHKFUpe3ZhciBIPVAuaW5kZXhPZihGLmdldChVKSk7SDwwfHwoUC5zcGxpY2UoSCwxKSxGLmRlbGV0ZShVKSl9ZnVuY3Rpb24gcmUoKXtyZXR1cm4gRn1mdW5jdGlvbiBNKCl7aWYoVC5sZW5ndGghPT0wKXtOLmluc2VydEJvZGllcyhUKTtmb3IodmFyIFU9VC5sZW5ndGg7VS0tOyl7dmFyIEg9VFtVXTtILmlzUGlubmVkfHwoSC5yZXNldCgpLE4udXBkYXRlQm9keUZvcmNlKEgpLEwudXBkYXRlKEgpKX19fWZ1bmN0aW9uICQoKXtmb3IodmFyIFU9ai5sZW5ndGg7VS0tOylDLnVwZGF0ZShqW1VdKX19ZnVuY3Rpb24gZXhwb3NlKHQsZSl7Zm9yKHZhciBuIGluIHQpYXVnbWVudCh0LGUsbil9ZnVuY3Rpb24gYXVnbWVudCh0LGUsbil7aWYodC5oYXNPd25Qcm9wZXJ0eShuKSYmdHlwZW9mIGVbbl0hPSJmdW5jdGlvbiIpe3ZhciBvPU51bWJlci5pc0Zpbml0ZSh0W25dKTtvP2Vbbl09ZnVuY3Rpb24oZCl7aWYoZCE9PXZvaWQgMCl7aWYoIU51bWJlci5pc0Zpbml0ZShkKSl0aHJvdyBuZXcgRXJyb3IoIlZhbHVlIG9mICIrbisiIHNob3VsZCBiZSBhIHZhbGlkIG51bWJlci4iKTtyZXR1cm4gdFtuXT1kLGV9cmV0dXJuIHRbbl19OmVbbl09ZnVuY3Rpb24oZCl7cmV0dXJuIGQhPT12b2lkIDA/KHRbbl09ZCxlKTp0W25dfX19bmdyYXBoX2ZvcmNlbGF5b3V0LmV4cG9ydHM9Y3JlYXRlTGF5b3V0O25ncmFwaF9mb3JjZWxheW91dEV4cG9ydHMuc2ltdWxhdG9yPWNyZWF0ZVBoeXNpY3NTaW11bGF0b3JfMTt2YXIgZXZlbnRpZnkkMT1uZ3JhcGhfZXZlbnRzO2Z1bmN0aW9uIGNyZWF0ZUxheW91dCh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiR3JhcGggc3RydWN0dXJlIGNhbm5vdCBiZSB1bmRlZmluZWQiKTt2YXIgbj1lJiZlLmNyZWF0ZVNpbXVsYXRvcnx8Y3JlYXRlUGh5c2ljc1NpbXVsYXRvcl8xLG89bihlKTtpZihBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiUGh5c2ljcyBzZXR0aW5ncyBpcyBleHBlY3RlZCB0byBiZSBhbiBvYmplY3QiKTt2YXIgZD10LnZlcnNpb24+MTk/TTpyZTtlJiZ0eXBlb2YgZS5ub2RlTWFzcz09ImZ1bmN0aW9uIiYmKGQ9ZS5ub2RlTWFzcyk7dmFyIGg9bmV3IE1hcCxsPXt9LHU9MCxwPW8uc2V0dGluZ3Muc3ByaW5nVHJhbnNmb3JtfHxub29wO0woKSxOKCk7dmFyIGc9ITEsdj17c3RlcDpmdW5jdGlvbigpe2lmKHU9PT0wKXJldHVybiBiKCEwKSwhMDt2YXIgJD1vLnN0ZXAoKTt2Lmxhc3RNb3ZlPSQsdi5maXJlKCJzdGVwIik7dmFyIFU9JC91LEg9VTw9LjAxO3JldHVybiBiKEgpLEh9LGdldE5vZGVQb3NpdGlvbjpmdW5jdGlvbigkKXtyZXR1cm4gRygkKS5wb3N9LHNldE5vZGVQb3NpdGlvbjpmdW5jdGlvbigkKXt2YXIgVT1HKCQpO1Uuc2V0UG9zaXRpb24uYXBwbHkoVSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSxnZXRMaW5rUG9zaXRpb246ZnVuY3Rpb24oJCl7dmFyIFU9bFskXTtpZihVKXJldHVybntmcm9tOlUuZnJvbS5wb3MsdG86VS50by5wb3N9fSxnZXRHcmFwaFJlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRCQm94KCl9LGZvckVhY2hCb2R5Ol8scGluTm9kZTpmdW5jdGlvbigkLFUpe3ZhciBIPUcoJC5pZCk7SC5pc1Bpbm5lZD0hIVV9LGlzTm9kZVBpbm5lZDpmdW5jdGlvbigkKXtyZXR1cm4gRygkLmlkKS5pc1Bpbm5lZH0sZGlzcG9zZTpmdW5jdGlvbigpe3Qub2ZmKCJjaGFuZ2VkIixDKSx2LmZpcmUoImRpc3Bvc2VkIil9LGdldEJvZHk6aixnZXRTcHJpbmc6VCxnZXRGb3JjZVZlY3Rvckxlbmd0aDpPLHNpbXVsYXRvcjpvLGdyYXBoOnQsbGFzdE1vdmU6MH07cmV0dXJuIGV2ZW50aWZ5JDEodiksdjtmdW5jdGlvbiBiKCQpe2chPT0kJiYoZz0kLEIoJCkpfWZ1bmN0aW9uIF8oJCl7aC5mb3JFYWNoKCQpfWZ1bmN0aW9uIE8oKXt2YXIgJD0wLFU9MDtyZXR1cm4gXyhmdW5jdGlvbihIKXskKz1NYXRoLmFicyhILmZvcmNlLngpLFUrPU1hdGguYWJzKEguZm9yY2UueSl9KSxNYXRoLnNxcnQoJCokK1UqVSl9ZnVuY3Rpb24gVCgkLFUpe3ZhciBIO2lmKFU9PT12b2lkIDApdHlwZW9mICQhPSJvYmplY3QiP0g9JDpIPSQuaWQ7ZWxzZXt2YXIgZWU9dC5oYXNMaW5rKCQsVSk7aWYoIWVlKXJldHVybjtIPWVlLmlkfXJldHVybiBsW0hdfWZ1bmN0aW9uIGooJCl7cmV0dXJuIGguZ2V0KCQpfWZ1bmN0aW9uIE4oKXt0Lm9uKCJjaGFuZ2VkIixDKX1mdW5jdGlvbiBCKCQpe3YuZmlyZSgic3RhYmxlIiwkKX1mdW5jdGlvbiBDKCQpe2Zvcih2YXIgVT0wO1U8JC5sZW5ndGg7KytVKXt2YXIgSD0kW1VdO0guY2hhbmdlVHlwZT09PSJhZGQiPyhILm5vZGUmJlMoSC5ub2RlLmlkKSxILmxpbmsmJkYoSC5saW5rKSk6SC5jaGFuZ2VUeXBlPT09InJlbW92ZSImJihILm5vZGUmJlAoSC5ub2RlKSxILmxpbmsmJmsoSC5saW5rKSl9dT10LmdldE5vZGVzQ291bnQoKX1mdW5jdGlvbiBMKCl7dT0wLHQuZm9yRWFjaE5vZGUoZnVuY3Rpb24oJCl7UygkLmlkKSx1Kz0xfSksdC5mb3JFYWNoTGluayhGKX1mdW5jdGlvbiBTKCQpe3ZhciBVPWguZ2V0KCQpO2lmKCFVKXt2YXIgSD10LmdldE5vZGUoJCk7aWYoIUgpdGhyb3cgbmV3IEVycm9yKCJpbml0Qm9keSgpIHdhcyBjYWxsZWQgd2l0aCB1bmtub3duIG5vZGUgaWQiKTt2YXIgZWU9SC5wb3NpdGlvbjtpZighZWUpe3ZhciBnZT1KKEgpO2VlPW8uZ2V0QmVzdE5ld0JvZHlQb3NpdGlvbihnZSl9VT1vLmFkZEJvZHlBdChlZSksVS5pZD0kLGguc2V0KCQsVSksYWUoJCkscShIKSYmKFUuaXNQaW5uZWQ9ITApfX1mdW5jdGlvbiBQKCQpe3ZhciBVPSQuaWQsSD1oLmdldChVKTtIJiYoaC5kZWxldGUoVSksby5yZW1vdmVCb2R5KEgpKX1mdW5jdGlvbiBGKCQpe2FlKCQuZnJvbUlkKSxhZSgkLnRvSWQpO3ZhciBVPWguZ2V0KCQuZnJvbUlkKSxIPWguZ2V0KCQudG9JZCksZWU9by5hZGRTcHJpbmcoVSxILCQubGVuZ3RoKTtwKCQsZWUpLGxbJC5pZF09ZWV9ZnVuY3Rpb24gaygkKXt2YXIgVT1sWyQuaWRdO2lmKFUpe3ZhciBIPXQuZ2V0Tm9kZSgkLmZyb21JZCksZWU9dC5nZXROb2RlKCQudG9JZCk7SCYmYWUoSC5pZCksZWUmJmFlKGVlLmlkKSxkZWxldGUgbFskLmlkXSxvLnJlbW92ZVNwcmluZyhVKX19ZnVuY3Rpb24gSigkKXt2YXIgVT1bXTtpZighJC5saW5rcylyZXR1cm4gVTtmb3IodmFyIEg9TWF0aC5taW4oJC5saW5rcy5sZW5ndGgsMiksZWU9MDtlZTxIOysrZWUpe3ZhciBnZT0kLmxpbmtzW2VlXSxtZT1nZS5mcm9tSWQhPT0kLmlkP2guZ2V0KGdlLmZyb21JZCk6aC5nZXQoZ2UudG9JZCk7bWUmJm1lLnBvcyYmVS5wdXNoKG1lKX1yZXR1cm4gVX1mdW5jdGlvbiBhZSgkKXt2YXIgVT1oLmdldCgkKTtpZihVLm1hc3M9ZCgkKSxOdW1iZXIuaXNOYU4oVS5tYXNzKSl0aHJvdyBuZXcgRXJyb3IoIk5vZGUgbWFzcyBzaG91bGQgYmUgYSBudW1iZXIiKX1mdW5jdGlvbiBxKCQpe3JldHVybiAkJiYoJC5pc1Bpbm5lZHx8JC5kYXRhJiYkLmRhdGEuaXNQaW5uZWQpfWZ1bmN0aW9uIEcoJCl7dmFyIFU9aC5nZXQoJCk7cmV0dXJuIFV8fChTKCQpLFU9aC5nZXQoJCkpLFV9ZnVuY3Rpb24gcmUoJCl7dmFyIFU9dC5nZXRMaW5rcygkKTtyZXR1cm4gVT8xK1UubGVuZ3RoLzM6MX1mdW5jdGlvbiBNKCQpe3ZhciBVPXQuZ2V0TGlua3MoJCk7cmV0dXJuIFU/MStVLnNpemUvMzoxfX1mdW5jdGlvbiBub29wKCl7fXZhciBuZ3JhcGhfZ3JhcGg9Y3JlYXRlR3JhcGgsZXZlbnRpZnk9bmdyYXBoX2V2ZW50cztmdW5jdGlvbiBjcmVhdGVHcmFwaCh0KXtpZih0PXR8fHt9LCJ1bmlxdWVMaW5rSWQiaW4gdCYmKGNvbnNvbGUud2FybigibmdyYXBoLmdyYXBoOiBTdGFydGluZyBmcm9tIHZlcnNpb24gMC4xNCBgdW5pcXVlTGlua0lkYCBpcyBkZXByZWNhdGVkLlxuVXNlIGBtdWx0aWdyYXBoYCBvcHRpb24gaW5zdGVhZFxuIixgCmAsYE5vdGU6IHRoZXJlIGlzIGFsc28gY2hhbmdlIGluIGRlZmF1bHQgYmVoYXZpb3I6IEZyb20gbm93IG9uIGVhY2ggZ3JhcGgKaXMgY29uc2lkZXJlZCB0byBiZSBub3QgYSBtdWx0aWdyYXBoIGJ5IGRlZmF1bHQgKGVhY2ggZWRnZSBpcyB1bmlxdWUpLmApLHQubXVsdGlncmFwaD10LnVuaXF1ZUxpbmtJZCksdC5tdWx0aWdyYXBoPT09dm9pZCAwJiYodC5tdWx0aWdyYXBoPSExKSx0eXBlb2YgTWFwIT0iZnVuY3Rpb24iKXRocm93IG5ldyBFcnJvcigibmdyYXBoLmdyYXBoIHJlcXVpcmVzIGBNYXBgIHRvIGJlIGRlZmluZWQuIFBsZWFzZSBwb2x5ZmlsbCBpdCBiZWZvcmUgdXNpbmcgbmdyYXBoIik7dmFyIGU9bmV3IE1hcCxuPW5ldyBNYXAsbz17fSxkPTAsaD10Lm11bHRpZ3JhcGg/UzpMLGw9W10sdT1ILHA9SCxnPUgsdj1ILGI9e3ZlcnNpb246MjAsYWRkTm9kZTpqLGFkZExpbms6QyxyZW1vdmVMaW5rOkoscmVtb3ZlTm9kZTpCLGdldE5vZGU6TixnZXROb2RlQ291bnQ6UCxnZXRMaW5rQ291bnQ6RixnZXRFZGdlQ291bnQ6RixnZXRMaW5rc0NvdW50OkYsZ2V0Tm9kZXNDb3VudDpQLGdldExpbmtzOmssZm9yRWFjaE5vZGU6bWUsZm9yRWFjaExpbmtlZE5vZGU6TSxmb3JFYWNoTGluazpyZSxiZWdpblVwZGF0ZTpnLGVuZFVwZGF0ZTp2LGNsZWFyOkcsaGFzTGluazpxLGhhc05vZGU6TixnZXRMaW5rOnF9O3JldHVybiBldmVudGlmeShiKSxfKCksYjtmdW5jdGlvbiBfKCl7dmFyIGZlPWIub247Yi5vbj1oZTtmdW5jdGlvbiBoZSgpe3JldHVybiBiLmJlZ2luVXBkYXRlPWc9ZWUsYi5lbmRVcGRhdGU9dj1nZSx1PU8scD1ULGIub249ZmUsZmUuYXBwbHkoYixhcmd1bWVudHMpfX1mdW5jdGlvbiBPKGZlLGhlKXtsLnB1c2goe2xpbms6ZmUsY2hhbmdlVHlwZTpoZX0pfWZ1bmN0aW9uIFQoZmUsaGUpe2wucHVzaCh7bm9kZTpmZSxjaGFuZ2VUeXBlOmhlfSl9ZnVuY3Rpb24gaihmZSxoZSl7aWYoZmU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG5vZGUgaWRlbnRpZmllciIpO2coKTt2YXIgX2U9TihmZSk7cmV0dXJuIF9lPyhfZS5kYXRhPWhlLHAoX2UsInVwZGF0ZSIpKTooX2U9bmV3IE5vZGUoZmUsaGUpLHAoX2UsImFkZCIpKSxlLnNldChmZSxfZSksdigpLF9lfWZ1bmN0aW9uIE4oZmUpe3JldHVybiBlLmdldChmZSl9ZnVuY3Rpb24gQihmZSl7dmFyIGhlPU4oZmUpO2lmKCFoZSlyZXR1cm4hMTtnKCk7dmFyIF9lPWhlLmxpbmtzO3JldHVybiBfZSYmKF9lLmZvckVhY2goYWUpLGhlLmxpbmtzPW51bGwpLGUuZGVsZXRlKGZlKSxwKGhlLCJyZW1vdmUiKSx2KCksITB9ZnVuY3Rpb24gQyhmZSxoZSxfZSl7ZygpO3ZhciB4ZT1OKGZlKXx8aihmZSksTmU9TihoZSl8fGooaGUpLEllPWgoZmUsaGUsX2UpLFJlPW4uaGFzKEllLmlkKTtyZXR1cm4gbi5zZXQoSWUuaWQsSWUpLGFkZExpbmtUb05vZGUoeGUsSWUpLGZlIT09aGUmJmFkZExpbmtUb05vZGUoTmUsSWUpLHUoSWUsUmU/InVwZGF0ZSI6ImFkZCIpLHYoKSxJZX1mdW5jdGlvbiBMKGZlLGhlLF9lKXt2YXIgeGU9bWFrZUxpbmtJZChmZSxoZSksTmU9bi5nZXQoeGUpO3JldHVybiBOZT8oTmUuZGF0YT1fZSxOZSk6bmV3IExpbmsoZmUsaGUsX2UseGUpfWZ1bmN0aW9uIFMoZmUsaGUsX2Upe3ZhciB4ZT1tYWtlTGlua0lkKGZlLGhlKSxOZT1vLmhhc093blByb3BlcnR5KHhlKTtpZihOZXx8cShmZSxoZSkpe05lfHwob1t4ZV09MCk7dmFyIEllPSJAIisgKytvW3hlXTt4ZT1tYWtlTGlua0lkKGZlK0llLGhlK0llKX1yZXR1cm4gbmV3IExpbmsoZmUsaGUsX2UseGUpfWZ1bmN0aW9uIFAoKXtyZXR1cm4gZS5zaXplfWZ1bmN0aW9uIEYoKXtyZXR1cm4gbi5zaXplfWZ1bmN0aW9uIGsoZmUpe3ZhciBoZT1OKGZlKTtyZXR1cm4gaGU/aGUubGlua3M6bnVsbH1mdW5jdGlvbiBKKGZlLGhlKXtyZXR1cm4gaGUhPT12b2lkIDAmJihmZT1xKGZlLGhlKSksYWUoZmUpfWZ1bmN0aW9uIGFlKGZlKXtpZighZmV8fCFuLmdldChmZS5pZCkpcmV0dXJuITE7ZygpLG4uZGVsZXRlKGZlLmlkKTt2YXIgaGU9TihmZS5mcm9tSWQpLF9lPU4oZmUudG9JZCk7cmV0dXJuIGhlJiZoZS5saW5rcy5kZWxldGUoZmUpLF9lJiZfZS5saW5rcy5kZWxldGUoZmUpLHUoZmUsInJlbW92ZSIpLHYoKSwhMH1mdW5jdGlvbiBxKGZlLGhlKXtpZighKGZlPT09dm9pZCAwfHxoZT09PXZvaWQgMCkpcmV0dXJuIG4uZ2V0KG1ha2VMaW5rSWQoZmUsaGUpKX1mdW5jdGlvbiBHKCl7ZygpLG1lKGZ1bmN0aW9uKGZlKXtCKGZlLmlkKX0pLHYoKX1mdW5jdGlvbiByZShmZSl7aWYodHlwZW9mIGZlPT0iZnVuY3Rpb24iKWZvcih2YXIgaGU9bi52YWx1ZXMoKSxfZT1oZS5uZXh0KCk7IV9lLmRvbmU7KXtpZihmZShfZS52YWx1ZSkpcmV0dXJuITA7X2U9aGUubmV4dCgpfX1mdW5jdGlvbiBNKGZlLGhlLF9lKXt2YXIgeGU9TihmZSk7aWYoeGUmJnhlLmxpbmtzJiZ0eXBlb2YgaGU9PSJmdW5jdGlvbiIpcmV0dXJuIF9lP1UoeGUubGlua3MsZmUsaGUpOiQoeGUubGlua3MsZmUsaGUpfWZ1bmN0aW9uICQoZmUsaGUsX2Upe2Zvcih2YXIgeGUsTmU9ZmUudmFsdWVzKCksSWU9TmUubmV4dCgpOyFJZS5kb25lOyl7dmFyIFJlPUllLnZhbHVlLHZlPVJlLmZyb21JZD09PWhlP1JlLnRvSWQ6UmUuZnJvbUlkO2lmKHhlPV9lKGUuZ2V0KHZlKSxSZSkseGUpcmV0dXJuITA7SWU9TmUubmV4dCgpfX1mdW5jdGlvbiBVKGZlLGhlLF9lKXtmb3IodmFyIHhlLE5lPWZlLnZhbHVlcygpLEllPU5lLm5leHQoKTshSWUuZG9uZTspe3ZhciBSZT1JZS52YWx1ZTtpZihSZS5mcm9tSWQ9PT1oZSYmKHhlPV9lKGUuZ2V0KFJlLnRvSWQpLFJlKSx4ZSkpcmV0dXJuITA7SWU9TmUubmV4dCgpfX1mdW5jdGlvbiBIKCl7fWZ1bmN0aW9uIGVlKCl7ZCs9MX1mdW5jdGlvbiBnZSgpe2QtPTEsZD09PTAmJmwubGVuZ3RoPjAmJihiLmZpcmUoImNoYW5nZWQiLGwpLGwubGVuZ3RoPTApfWZ1bmN0aW9uIG1lKGZlKXtpZih0eXBlb2YgZmUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJGdW5jdGlvbiBpcyBleHBlY3RlZCB0byBpdGVyYXRlIG92ZXIgZ3JhcGggbm9kZXMuIFlvdSBwYXNzZWQgIitmZSk7Zm9yKHZhciBoZT1lLnZhbHVlcygpLF9lPWhlLm5leHQoKTshX2UuZG9uZTspe2lmKGZlKF9lLnZhbHVlKSlyZXR1cm4hMDtfZT1oZS5uZXh0KCl9fX1mdW5jdGlvbiBOb2RlKHQsZSl7dGhpcy5pZD10LHRoaXMubGlua3M9bnVsbCx0aGlzLmRhdGE9ZX1mdW5jdGlvbiBhZGRMaW5rVG9Ob2RlKHQsZSl7dC5saW5rcz90LmxpbmtzLmFkZChlKTp0LmxpbmtzPW5ldyBTZXQoW2VdKX1mdW5jdGlvbiBMaW5rKHQsZSxuLG8pe3RoaXMuZnJvbUlkPXQsdGhpcy50b0lkPWUsdGhpcy5kYXRhPW4sdGhpcy5pZD1vfWZ1bmN0aW9uIG1ha2VMaW5rSWQodCxlKXtyZXR1cm4gdC50b1N0cmluZygpKyLwn5GJICIrZS50b1N0cmluZygpfWNsYXNzIEdyYXBoTGF5b3V0U2lte2NvbnN0cnVjdG9yKGUpe3RoaXMucG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkoMCksdGhpcy5ncmFwaERhdGE9ZX1nZXQgcG9zaXRpb25zQnVmZmVyKCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5wb3NpdGlvbnMpfXN0YXJ0KCl7dGhyb3cgbmV3IEVycm9yKCJub3QgaW1wbGVtZW50ZWQiKX1zdG9wKCl7dGhyb3cgbmV3IEVycm9yKCJub3QgaW1wbGVtZW50ZWQiKX1nZXRQb3NpdGlvbnMoZSl7Y29uc3Qgbj10aGlzLnBvc2l0aW9uc0J1ZmZlcjtlKG4pfX1jbGFzcyBEM0ZvcmNlTGF5b3V0IGV4dGVuZHMgR3JhcGhMYXlvdXRTaW17Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5sYXlvdXRFbmdpbmU9Zm9yY2VTaW11bGF0aW9uKGUubm9kZXMsMykuZm9yY2UoImNoYXJnZSIsZm9yY2VNYW55Qm9keSgpKS5mb3JjZSgibGluayIsZm9yY2VMaW5rKGUubGlua3MpLmlkKG49Pm4uaWQpKS5mb3JjZSgiY2VudGVyIixmb3JjZUNlbnRlcigpKSx0aGlzLmxheW91dEVuZ2luZS5vbigidGljayIsKCk9Pntjb25zdCBuPXRoaXMuZ3JhcGhEYXRhLm5vZGVzLmZsYXRNYXAoKHt4Om8seTpkLHo6aH0pPT5bbyxkLGhdLm1hcChsPT5sKSk7dGhpcy5wb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheShuKX0pfXN0YXJ0KCl7dGhpcy5sYXlvdXRFbmdpbmUucmVzdGFydCgpfXN0b3AoKXt0aGlzLmxheW91dEVuZ2luZS5zdG9wKCl9fWNsYXNzIE5ncmFwaEZvcmNlTGF5b3V0IGV4dGVuZHMgR3JhcGhMYXlvdXRTaW17Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgbj1uZ3JhcGhfZ3JhcGgoKTtlLm5vZGVzLmZvckVhY2gobz0+e24uYWRkTm9kZShvLmlkLG8pfSksZS5saW5rcy5mb3JFYWNoKG89PntuLmFkZExpbmsoby5zb3VyY2Usby50YXJnZXQpfSksdGhpcy5sYXlvdXRFbmdpbmU9bmdyYXBoX2ZvcmNlbGF5b3V0RXhwb3J0cyhuLHtkaW1lbnNpb25zOjN9KTtmb3IobGV0IG8gb2YgZS5ub2Rlcyl0aGlzLmxheW91dEVuZ2luZS5zZXROb2RlUG9zaXRpb24oby5pZCxvLngsby55LG8ueik7dGhpcy5sYXlvdXRFbmdpbmUub24oInN0ZXAiLCgpPT57Y29uc3Qgbz1lLm5vZGVzLmZsYXRNYXAoKHtpZDpkfSk9Pntjb25zdHt4OmgseTpsLHo6dX09dGhpcy5sYXlvdXRFbmdpbmUuZ2V0Tm9kZVBvc2l0aW9uKGQpO3JldHVybltoLGwsdV0ubWFwKHA9PnApfSk7dGhpcy5wb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheShvKX0pfXN0YXJ0KCl7Y29uc3QgZT0oKT0+e3RoaXMubGF5b3V0RW5naW5lLnN0ZXAoKSx1c2luZz09PXRoaXMubGF5b3V0RW5naW5lJiZyYWZFeHBvcnRzKGUpfTtlKCl9c3RvcCgpe3RoaXMubGF5b3V0RW5naW5lLmRpc3Bvc2UoKX19dmFyIGxheW91dD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxEM0ZvcmNlTGF5b3V0LE5ncmFwaEZvcmNlTGF5b3V0fSk7Y29uc3QgdHJhbnNmZXI9KHQsZSk9PnRyYW5zZmVyJDEodCxlKTt2YXIgdHJhbnNmb3JtTWF0NF8xPXRyYW5zZm9ybU1hdDQkMjtmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0JDIodCxlLG4pe3ZhciBvPWVbMF0sZD1lWzFdLGg9ZVsyXSxsPW5bM10qbytuWzddKmQrblsxMV0qaCtuWzE1XTtyZXR1cm4gbD1sfHwxLHRbMF09KG5bMF0qbytuWzRdKmQrbls4XSpoK25bMTJdKS9sLHRbMV09KG5bMV0qbytuWzVdKmQrbls5XSpoK25bMTNdKS9sLHRbMl09KG5bMl0qbytuWzZdKmQrblsxMF0qaCtuWzE0XSkvbCx0fXZhciByb3RhdGVZXzE9cm90YXRlWTtmdW5jdGlvbiByb3RhdGVZKHQsZSxuLG8pe3ZhciBkPW5bMF0saD1uWzJdLGw9ZVswXS1kLHU9ZVsyXS1oLHA9TWF0aC5zaW4obyksZz1NYXRoLmNvcyhvKTtyZXR1cm4gdFswXT1kK3UqcCtsKmcsdFsxXT1lWzFdLHRbMl09aCt1KmctbCpwLHR9dmFyIHJvdGF0ZVhfMT1yb3RhdGVYO2Z1bmN0aW9uIHJvdGF0ZVgodCxlLG4sbyl7dmFyIGQ9blsxXSxoPW5bMl0sbD1lWzFdLWQsdT1lWzJdLWgscD1NYXRoLnNpbihvKSxnPU1hdGguY29zKG8pO3JldHVybiB0WzBdPWVbMF0sdFsxXT1kK2wqZy11KnAsdFsyXT1oK2wqcCt1KmcsdH12YXIgZXBzaWxvbj0xZS02LGVxdWFsc18xPWVxdWFscyxFUFNJTE9OPWVwc2lsb247ZnVuY3Rpb24gZXF1YWxzKHQsZSl7dmFyIG49dFswXSxvPXRbMV0sZD10WzJdLGg9ZVswXSxsPWVbMV0sdT1lWzJdO3JldHVybiBNYXRoLmFicyhuLWgpPD1FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMoaCkpJiZNYXRoLmFicyhvLWwpPD1FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMobyksTWF0aC5hYnMobCkpJiZNYXRoLmFicyhkLXUpPD1FUFNJTE9OKk1hdGgubWF4KDEsTWF0aC5hYnMoZCksTWF0aC5hYnModSkpfXZhciBhZGRfMT1hZGQ7ZnVuY3Rpb24gYWRkKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdK25bMF0sdFsxXT1lWzFdK25bMV0sdFsyXT1lWzJdK25bMl0sdH12YXIgc2NhbGVBbmRBZGRfMT1zY2FsZUFuZEFkZDtmdW5jdGlvbiBzY2FsZUFuZEFkZCh0LGUsbixvKXtyZXR1cm4gdFswXT1lWzBdK25bMF0qbyx0WzFdPWVbMV0rblsxXSpvLHRbMl09ZVsyXStuWzJdKm8sdH12YXIgY29weV8xPWNvcHk7ZnVuY3Rpb24gY29weSh0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0fXZhciBub3JtYWxpemVfMT1ub3JtYWxpemU7ZnVuY3Rpb24gbm9ybWFsaXplKHQsZSl7dmFyIG49ZVswXSxvPWVbMV0sZD1lWzJdLGg9bipuK28qbytkKmQ7cmV0dXJuIGg+MCYmKGg9MS9NYXRoLnNxcnQoaCksdFswXT1lWzBdKmgsdFsxXT1lWzFdKmgsdFsyXT1lWzJdKmgpLHR9dmFyIGlkZW50aXR5XzE9aWRlbnRpdHkkMTtmdW5jdGlvbiBpZGVudGl0eSQxKHQpe3JldHVybiB0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09MSx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09MSx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wLHRbMTVdPTEsdH12YXIgaW52ZXJ0XzE9aW52ZXJ0O2Z1bmN0aW9uIGludmVydCh0LGUpe3ZhciBuPWVbMF0sbz1lWzFdLGQ9ZVsyXSxoPWVbM10sbD1lWzRdLHU9ZVs1XSxwPWVbNl0sZz1lWzddLHY9ZVs4XSxiPWVbOV0sXz1lWzEwXSxPPWVbMTFdLFQ9ZVsxMl0saj1lWzEzXSxOPWVbMTRdLEI9ZVsxNV0sQz1uKnUtbypsLEw9bipwLWQqbCxTPW4qZy1oKmwsUD1vKnAtZCp1LEY9bypnLWgqdSxrPWQqZy1oKnAsSj12KmotYipULGFlPXYqTi1fKlQscT12KkItTypULEc9YipOLV8qaixyZT1iKkItTypqLE09XypCLU8qTiwkPUMqTS1MKnJlK1MqRytQKnEtRiphZStrKko7cmV0dXJuICQ/KCQ9MS8kLHRbMF09KHUqTS1wKnJlK2cqRykqJCx0WzFdPShkKnJlLW8qTS1oKkcpKiQsdFsyXT0oaiprLU4qRitCKlApKiQsdFszXT0oXypGLWIqay1PKlApKiQsdFs0XT0ocCpxLWwqTS1nKmFlKSokLHRbNV09KG4qTS1kKnEraCphZSkqJCx0WzZdPShOKlMtVCprLUIqTCkqJCx0WzddPSh2KmstXypTK08qTCkqJCx0WzhdPShsKnJlLXUqcStnKkopKiQsdFs5XT0obypxLW4qcmUtaCpKKSokLHRbMTBdPShUKkYtaipTK0IqQykqJCx0WzExXT0oYipTLXYqRi1PKkMpKiQsdFsxMl09KHUqYWUtbCpHLXAqSikqJCx0WzEzXT0obipHLW8qYWUrZCpKKSokLHRbMTRdPShqKkwtVCpQLU4qQykqJCx0WzE1XT0odipQLWIqTCtfKkMpKiQsdCk6bnVsbH12YXIgdHJhbnNsYXRlXzE9dHJhbnNsYXRlO2Z1bmN0aW9uIHRyYW5zbGF0ZSh0LGUsbil7dmFyIG89blswXSxkPW5bMV0saD1uWzJdLGwsdSxwLGcsdixiLF8sTyxULGosTixCO3JldHVybiBlPT09dD8odFsxMl09ZVswXSpvK2VbNF0qZCtlWzhdKmgrZVsxMl0sdFsxM109ZVsxXSpvK2VbNV0qZCtlWzldKmgrZVsxM10sdFsxNF09ZVsyXSpvK2VbNl0qZCtlWzEwXSpoK2VbMTRdLHRbMTVdPWVbM10qbytlWzddKmQrZVsxMV0qaCtlWzE1XSk6KGw9ZVswXSx1PWVbMV0scD1lWzJdLGc9ZVszXSx2PWVbNF0sYj1lWzVdLF89ZVs2XSxPPWVbN10sVD1lWzhdLGo9ZVs5XSxOPWVbMTBdLEI9ZVsxMV0sdFswXT1sLHRbMV09dSx0WzJdPXAsdFszXT1nLHRbNF09dix0WzVdPWIsdFs2XT1fLHRbN109Tyx0WzhdPVQsdFs5XT1qLHRbMTBdPU4sdFsxMV09Qix0WzEyXT1sKm8rdipkK1QqaCtlWzEyXSx0WzEzXT11Km8rYipkK2oqaCtlWzEzXSx0WzE0XT1wKm8rXypkK04qaCtlWzE0XSx0WzE1XT1nKm8rTypkK0IqaCtlWzE1XSksdH12YXIgc2NhbGVfMT1zY2FsZSQxO2Z1bmN0aW9uIHNjYWxlJDEodCxlLG4pe3ZhciBvPW5bMF0sZD1uWzFdLGg9blsyXTtyZXR1cm4gdFswXT1lWzBdKm8sdFsxXT1lWzFdKm8sdFsyXT1lWzJdKm8sdFszXT1lWzNdKm8sdFs0XT1lWzRdKmQsdFs1XT1lWzVdKmQsdFs2XT1lWzZdKmQsdFs3XT1lWzddKmQsdFs4XT1lWzhdKmgsdFs5XT1lWzldKmgsdFsxMF09ZVsxMF0qaCx0WzExXT1lWzExXSpoLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdLHR9dmFyIGlkZW50aXR5PWlkZW50aXR5XzEsbG9va0F0XzE9bG9va0F0JDE7ZnVuY3Rpb24gbG9va0F0JDEodCxlLG4sbyl7dmFyIGQsaCxsLHUscCxnLHYsYixfLE8sVD1lWzBdLGo9ZVsxXSxOPWVbMl0sQj1vWzBdLEM9b1sxXSxMPW9bMl0sUz1uWzBdLFA9blsxXSxGPW5bMl07cmV0dXJuIE1hdGguYWJzKFQtUyk8MWUtNiYmTWF0aC5hYnMoai1QKTwxZS02JiZNYXRoLmFicyhOLUYpPDFlLTY/aWRlbnRpdHkodCk6KHY9VC1TLGI9ai1QLF89Ti1GLE89MS9NYXRoLnNxcnQodip2K2IqYitfKl8pLHYqPU8sYio9TyxfKj1PLGQ9QypfLUwqYixoPUwqdi1CKl8sbD1CKmItQyp2LE89TWF0aC5zcXJ0KGQqZCtoKmgrbCpsKSxPPyhPPTEvTyxkKj1PLGgqPU8sbCo9Tyk6KGQ9MCxoPTAsbD0wKSx1PWIqbC1fKmgscD1fKmQtdipsLGc9dipoLWIqZCxPPU1hdGguc3FydCh1KnUrcCpwK2cqZyksTz8oTz0xL08sdSo9TyxwKj1PLGcqPU8pOih1PTAscD0wLGc9MCksdFswXT1kLHRbMV09dSx0WzJdPXYsdFszXT0wLHRbNF09aCx0WzVdPXAsdFs2XT1iLHRbN109MCx0WzhdPWwsdFs5XT1nLHRbMTBdPV8sdFsxMV09MCx0WzEyXT0tKGQqVCtoKmorbCpOKSx0WzEzXT0tKHUqVCtwKmorZypOKSx0WzE0XT0tKHYqVCtiKmorXypOKSx0WzE1XT0xLHQpfXZhciBwZXJzcGVjdGl2ZV8xPXBlcnNwZWN0aXZlJDE7ZnVuY3Rpb24gcGVyc3BlY3RpdmUkMSh0LGUsbixvLGQpe3ZhciBoPTEvTWF0aC50YW4oZS8yKSxsPTEvKG8tZCk7cmV0dXJuIHRbMF09aC9uLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPWgsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPShkK28pKmwsdFsxMV09LTEsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTIqZCpvKmwsdFsxNV09MCx0fXZhciB0cmFuc2Zvcm1NYXQ0JDE9dHJhbnNmb3JtTWF0NF8xLHZlYzNSb3RhdGVZPXJvdGF0ZVlfMSx2ZWMzUm90YXRlWD1yb3RhdGVYXzEsdmVjM0VxdWFscz1lcXVhbHNfMSx2ZWMzQWRkPWFkZF8xLHZlYzNTY2FsZUFuZEFkZD1zY2FsZUFuZEFkZF8xLHZlYzNDb3B5PWNvcHlfMSx2ZWMzTm9ybWFsaXplPW5vcm1hbGl6ZV8xLG1hdDRJZGVudGl0eT1pZGVudGl0eV8xLG1hdDRJbnZlcnQ9aW52ZXJ0XzEsbWF0NFRyYW5zbGF0ZT10cmFuc2xhdGVfMSxtYXQ0U2NhbGU9c2NhbGVfMSxsb29rQXQ9bG9va0F0XzEscGVyc3BlY3RpdmU9cGVyc3BlY3RpdmVfMSxNQVhfUEhJPU1hdGguUEkqLjUtMWUtNCxNSU5fUEhJPS1NYXRoLlBJKi41KzFlLTQsaW5lcnRpYWxUdXJudGFibGVDYW1lcmE9ZnVuY3Rpb24gdChlKXtlPWV8fHt9O3ZhciBuPSEwLG89e2FzcGVjdFJhdGlvOmUuYXNwZWN0UmF0aW8/ZS5hc3BlY3RSYXRpbzoxLHpvb21BYm91dEN1cnNvcjplLnpvb21BYm91dEN1cnNvcj09PXZvaWQgMD8hMDplLnpvb21BYm91dEN1cnNvcixkaXN0YW5jZTplLmRpc3RhbmNlPT09dm9pZCAwPzEwOmUuZGlzdGFuY2UscGhpOmUucGhpPT09dm9pZCAwPzA6ZS5waGksdGhldGE6ZS50aGV0YT09PXZvaWQgMD8wOmUudGhldGEsZm92WTplLmZvdlk9PT12b2lkIDA/TWF0aC5QSS80OmUuZm92WSxuZWFyOmUubmVhcj09PXZvaWQgMD8uMTplLm5lYXIsZmFyOmUuZmFyPT09dm9pZCAwPzEwMDplLmZhcixwYW5EZWNheVRpbWU6ZS5wYW5EZWNheVRpbWV8fDEwMCx6b29tRGVjYXlUaW1lOmUuem9vbURlY2F5VGltZXx8MTAwLHJvdGF0aW9uRGVjYXlUaW1lOmUucm90YXRpb25EZWNheVRpbWV8fDEwMCxkaXJ0eTohMCx1cDplLnVwfHxuZXcgRmxvYXQzMkFycmF5KFswLDEsMF0pLGNlbnRlcjplLmNlbnRlcnx8bmV3IEZsb2F0MzJBcnJheSgzKSxyb3RhdGlvbkNlbnRlcjplLnJvdGF0aW9uQ2VudGVyfHxlLmNlbnRlciYmZS5jZW50ZXIuc2xpY2UoKXx8bmV3IEZsb2F0MzJBcnJheSgzKSx6b29tOjAscGFuWDowLHBhblk6MCxwYW5aOjAscGl0Y2g6MCx5YXc6MCxkVGhldGE6MCxkUGhpOjAsbW91c2VYOjAsbW91c2VZOjB9LGQ9bnVsbCxoPXt0aWNrOmZ1bmN0aW9uKE0pe2lmKGsuem9vbSYmKG8uem9vbT1rLnpvb20pLGsuZFRoZXRhJiYoby5kVGhldGE9ay5kVGhldGEpLGsuZFBoaSYmKG8uZFBoaT1rLmRQaGkpLGsucGFuWCYmKG8ucGFuWD1rLnBhblgpLGsucGFuWSYmKG8ucGFuWT1rLnBhblkpLGsucGFuWiYmKG8ucGFuWj1rLnBhblopLGsueWF3JiYoby55YXc9ay55YXcpLGsucGl0Y2gmJihvLnBpdGNoPWsucGl0Y2gpLFAoayksTSl7dmFyICQ9by5kUGhpLFU9by5kVGhldGEsSD1vLnpvb20sZWU9by5wYW5YLGdlPW8ucGFuWSxtZT1vLnBhblosZmU9by5waXRjaCxoZT1vLnlhdztPYmplY3QuYXNzaWduKG8sTSksTS5kUGhpIT09dm9pZCAwJiYoby5kUGhpKz0kKSxNLmRUaGV0YSE9PXZvaWQgMCYmKG8uZFRoZXRhKz1VKSxNLnpvb20hPT12b2lkIDAmJihvLnpvb20rPUgpLE0ucGFuWCE9PXZvaWQgMCYmKG8ucGFuWCs9ZWUpLE0ucGFuWSE9PXZvaWQgMCYmKG8ucGFuWSs9Z2UpLE0ucGFuWiE9PXZvaWQgMCYmKG8ucGFuWis9bWUpLE0ucGl0Y2ghPT12b2lkIDAmJihvLnBpdGNoKz1mZSksTS55YXchPT12b2lkIDAmJihvLnlhdys9aGUpfVQoKSYmTigpLFMoKT9yZShvKTpQKG8pO3ZhciBfZT1EYXRlLm5vdygpO2QhPT1udWxsJiZGKF9lLWQpLGQ9X2UsaC5zdGF0ZS5kaXJ0eT1uLG49ITEsTygpfSx0YWludDpDLHJlc2l6ZTpMLHBhcmFtczpvLHJvdGF0ZTpHLHBpdm90OnEscGFuOkosem9vbTphZX07aC5zdGF0ZT17fSxoLnN0YXRlLnByb2plY3Rpb249bmV3IEZsb2F0MzJBcnJheSgxNiksaC5zdGF0ZS52aWV3SW52PW5ldyBGbG9hdDMyQXJyYXkoMTYpLGguc3RhdGUudmlldz1uZXcgRmxvYXQzMkFycmF5KDE2KSxoLnN0YXRlLndpZHRoPW51bGwsaC5zdGF0ZS5oZWlnaHQ9bnVsbCxoLnN0YXRlLmV5ZT1uZXcgRmxvYXQzMkFycmF5KDMpO3ZhciBsPW5ldyBGbG9hdDMyQXJyYXkoMyksdT1uZXcgRmxvYXQzMkFycmF5KDMpLHA9bmV3IEZsb2F0MzJBcnJheSgzKSxnPW5ldyBGbG9hdDMyQXJyYXkoMyksdj1uZXcgRmxvYXQzMkFycmF5KDMpLGI9bmV3IEZsb2F0MzJBcnJheSgxNiksXz17dXA6bmV3IEZsb2F0MzJBcnJheSgzKSxjZW50ZXI6bmV3IEZsb2F0MzJBcnJheSgzKX07TygpO2Z1bmN0aW9uIE8oKXt2ZWMzQ29weShfLnVwLG8udXApLHZlYzNDb3B5KF8uY2VudGVyLG8uY2VudGVyKSxfLm5lYXI9by5uZWFyLF8uZmFyPW8uZmFyLF8uZGlzdGFuY2U9by5kaXN0YW5jZSxfLnBoaT1vLnBoaSxfLnRoZXRhPW8udGhldGEsXy5mb3ZZPW8uZm92WX1mdW5jdGlvbiBUKCl7cmV0dXJuIXZlYzNFcXVhbHMoby51cCxfLnVwKXx8IXZlYzNFcXVhbHMoby5jZW50ZXIsXy5jZW50ZXIpfHxvLm5lYXIhPT1fLm5lYXJ8fG8uZmFyIT09Xy5mYXJ8fG8ucGhpIT09Xy5waGl8fG8udGhldGEhPT1fLnRoZXRhfHxvLmRpc3RhbmNlIT09Xy5kaXN0YW5jZXx8by5mb3ZZIT09Xy5mb3ZZfXZhciBqPXt9O2Z1bmN0aW9uIE4oKXtqLmRQaGk9by5waGktXy5waGksai5kVGhldGE9by50aGV0YS1fLnRoZXRhLGouem9vbT1vLmRpc3RhbmNlL18uZGlzdGFuY2UtMSxvLnRoZXRhPV8udGhldGEsby5kaXN0YW5jZT1fLmRpc3RhbmNlLG8ucGhpPV8ucGhpLGoueWF3PTAsai5waXRjaD0wLGoucGFuWD0wLGoucGFuWT0wLGoucGFuWj0wLGoubW91c2VYPTAsai5tb3VzZVk9MCxyZShqKX1mdW5jdGlvbiBCKCl7aC5zdGF0ZS5leWVbMF09MCxoLnN0YXRlLmV5ZVsxXT0wLGguc3RhdGUuZXllWzJdPW8uZGlzdGFuY2UsdmVjM1JvdGF0ZVgoaC5zdGF0ZS5leWUsaC5zdGF0ZS5leWUsdiwtby5waGkpLHZlYzNSb3RhdGVZKGguc3RhdGUuZXllLGguc3RhdGUuZXllLHYsby50aGV0YSksdmVjM0FkZChoLnN0YXRlLmV5ZSxoLnN0YXRlLmV5ZSxvLmNlbnRlciksbG9va0F0KGguc3RhdGUudmlldyxoLnN0YXRlLmV5ZSxvLmNlbnRlcixvLnVwKSxwZXJzcGVjdGl2ZShoLnN0YXRlLnByb2plY3Rpb24sby5mb3ZZLGgucGFyYW1zLmFzcGVjdFJhdGlvLG8ubmVhcixvLmZhciksbWF0NEludmVydChoLnN0YXRlLnZpZXdJbnYsaC5zdGF0ZS52aWV3KX1mdW5jdGlvbiBDKCl7bj0hMH1mdW5jdGlvbiBMKE0pe2gucGFyYW1zLmFzcGVjdFJhdGlvPU0sQigpLEMoKX1mdW5jdGlvbiBTKCl7aWYoTWF0aC5hYnMoby56b29tKT4xZS00fHxNYXRoLmFicyhvLnBhblgpPjFlLTR8fE1hdGguYWJzKG8ucGFuWSk+MWUtNHx8TWF0aC5hYnMoby5wYW5aKT4xZS00fHxNYXRoLmFicyhvLmRUaGV0YSk+MWUtNHx8TWF0aC5hYnMoby5kUGhpKT4xZS00fHxNYXRoLmFicyhvLnlhdyk+MWUtNHx8TWF0aC5hYnMoby5waXRjaCk+MWUtNClyZXR1cm4hMH1mdW5jdGlvbiBQKE0pe00uem9vbT0wLE0uZFRoZXRhPTAsTS5kUGhpPTAsTS5wYW5YPTAsTS5wYW5ZPTAsTS5wYW5aPTAsTS55YXc9MCxNLnBpdGNoPTB9ZnVuY3Rpb24gRihNKXt2YXIgJD1vLnBhbkRlY2F5VGltZT9NYXRoLmV4cCgtTS9vLnBhbkRlY2F5VGltZS9NYXRoLkxOMik6MCxVPW8uem9vbURlY2F5VGltZT9NYXRoLmV4cCgtTS9vLnpvb21EZWNheVRpbWUvTWF0aC5MTjIpOjAsSD1vLnJvdGF0aW9uRGVjYXlUaW1lP01hdGguZXhwKC1NL28ucm90YXRpb25EZWNheVRpbWUvTWF0aC5MTjIpOjA7by56b29tKj1VLG8ucGFuWCo9JCxvLnBhblkqPSQsby5wYW5aKj0kLG8uZFRoZXRhKj1ILG8uZFBoaSo9SCxvLnlhdyo9SCxvLnBpdGNoKj1IfXZhciBrPXt9O1Aoayk7ZnVuY3Rpb24gSihNLCQpe3ZhciBVPWgucGFyYW1zLmRpc3RhbmNlKk1hdGgudGFuKGgucGFyYW1zLmZvdlkqLjUpKjI7cmV0dXJuIGsucGFuWCs9TSpvLmFzcGVjdFJhdGlvKlUsay5wYW5ZKz0kKlUsaH1mdW5jdGlvbiBhZShNLCQsVSl7cmV0dXJuIGsuem9vbSs9VSxvLm1vdXNlWD1NLG8ubW91c2VZPSQsaH1mdW5jdGlvbiBxKE0sJCl7dmFyIFU9aC5wYXJhbXMuZm92WTtrLnlhdys9TSpVKm8uYXNwZWN0UmF0aW8say5waXRjaCs9JCpVfWZ1bmN0aW9uIEcoTSwkKXtrLmRUaGV0YSs9TSxrLmRQaGkrPSR9ZnVuY3Rpb24gcmUoTSl7dmFyICQ7bWF0NElkZW50aXR5KGIpLG8uem9vbUFib3V0Q3Vyc29yJiYoJD1vLmRpc3RhbmNlKk1hdGgudGFuKG8uZm92WSouNSksbFswXT1NLm1vdXNlWCpvLmFzcGVjdFJhdGlvKiQsbFsxXT1NLm1vdXNlWSokLGxbMl09MCxtYXQ0VHJhbnNsYXRlKGIsYixsKSksbFswXT0xK00uem9vbSxsWzFdPTErTS56b29tLGxbMl09MSxtYXQ0U2NhbGUoYixiLGwpLG8uem9vbUFib3V0Q3Vyc29yJiYoJD1vLmRpc3RhbmNlKk1hdGgudGFuKG8uZm92WSouNSksbFswXT0tTS5tb3VzZVgqby5hc3BlY3RSYXRpbyokLGxbMV09LU0ubW91c2VZKiQsbFsyXT0wLG1hdDRUcmFuc2xhdGUoYixiLGwpKSxiWzEyXS09TS5wYW5YKi41LGJbMTNdLT1NLnBhblkqLjUsdHJhbnNmb3JtTWF0NCQxKG8uY2VudGVyLG8uY2VudGVyLGguc3RhdGUudmlldyksdHJhbnNmb3JtTWF0NCQxKG8uY2VudGVyLG8uY2VudGVyLGIpLHRyYW5zZm9ybU1hdDQkMShvLmNlbnRlcixvLmNlbnRlcixoLnN0YXRlLnZpZXdJbnYpLG8ucm90YXRlQWJvdXRDZW50ZXImJnZlYzNDb3B5KG8ucm90YXRpb25DZW50ZXIsby5jZW50ZXIpLG8uZGlzdGFuY2UqPTErTS56b29tO3ZhciBVPW8ucGhpO28ucGhpKz1NLmRQaGksby5waGk9TWF0aC5taW4oTUFYX1BISSxNYXRoLm1heChNSU5fUEhJLG8ucGhpKSk7dmFyIEg9by5waGktVSxlZT1vLnRoZXRhO28udGhldGErPU0uZFRoZXRhO3ZhciBnZT1vLnRoZXRhLWVlO2lmKHZlYzNSb3RhdGVZKG8uY2VudGVyLG8uY2VudGVyLG8ucm90YXRpb25DZW50ZXIsZ2Utby50aGV0YSksdmVjM1JvdGF0ZVgoby5jZW50ZXIsby5jZW50ZXIsby5yb3RhdGlvbkNlbnRlciwtSCksdmVjM1JvdGF0ZVkoby5jZW50ZXIsby5jZW50ZXIsby5yb3RhdGlvbkNlbnRlcixvLnRoZXRhKSxNLnlhdyE9PTB8fE0ucGl0Y2ghPT0wKXtwWzBdPWguc3RhdGUudmlld1swXSxwWzFdPWguc3RhdGUudmlld1s0XSxwWzJdPWguc3RhdGUudmlld1s4XSx2ZWMzTm9ybWFsaXplKHAscCksdVswXT1oLnN0YXRlLnZpZXdbMV0sdVsxXT1oLnN0YXRlLnZpZXdbNV0sdVsyXT1oLnN0YXRlLnZpZXdbOV0sdmVjM05vcm1hbGl6ZSh1LHUpLGdbMF09aC5zdGF0ZS52aWV3WzJdLGdbMV09aC5zdGF0ZS52aWV3WzZdLGdbMl09aC5zdGF0ZS52aWV3WzEwXSx2ZWMzTm9ybWFsaXplKGcsZyk7dmFyIG1lPU1hdGgubWluKE1BWF9QSEksTWF0aC5tYXgoTUlOX1BISSxvLnBoaStNLnBpdGNoKi41KSksZmU9bWUtby5waGk7dmVjM1NjYWxlQW5kQWRkKG8uY2VudGVyLG8uY2VudGVyLHAsLU1hdGguc2luKE0ueWF3Ki41KSpvLmRpc3RhbmNlKSx2ZWMzU2NhbGVBbmRBZGQoby5jZW50ZXIsby5jZW50ZXIsdSwtTWF0aC5zaW4oZmUpKm8uZGlzdGFuY2UpLHZlYzNTY2FsZUFuZEFkZChvLmNlbnRlcixvLmNlbnRlcixnLCgyLU1hdGguY29zKE0ueWF3Ki41KS1NYXRoLmNvcyhmZSkpKm8uZGlzdGFuY2UpLG8ucGhpPW1lLG8udGhldGErPU0ueWF3Ki41fUIoKSxDKCl9cmV0dXJuIEwoaC5wYXJhbXMuYXNwZWN0UmF0aW8pLGh9LG1vaXplRXhwb3J0cz17fSxtb2l6ZSQxPXtnZXQgZXhwb3J0cygpe3JldHVybiBtb2l6ZUV4cG9ydHN9LHNldCBleHBvcnRzKHQpe21vaXplRXhwb3J0cz10fX0sbWljcm9NZW1vaXplRXhwb3J0cz17fSxtaWNyb01lbW9pemU9e2dldCBleHBvcnRzKCl7cmV0dXJuIG1pY3JvTWVtb2l6ZUV4cG9ydHN9LHNldCBleHBvcnRzKHQpe21pY3JvTWVtb2l6ZUV4cG9ydHM9dH19LGhhc1JlcXVpcmVkTWljcm9NZW1vaXplO2Z1bmN0aW9uIHJlcXVpcmVNaWNyb01lbW9pemUoKXtyZXR1cm4gaGFzUmVxdWlyZWRNaWNyb01lbW9pemV8fChoYXNSZXF1aXJlZE1pY3JvTWVtb2l6ZT0xLGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKG4sbyl7dC5leHBvcnRzPW8oKX0pKGNvbW1vbmpzR2xvYmFsLGZ1bmN0aW9uKCl7dmFyIG49e2lzRXF1YWw6ITAsaXNNYXRjaGluZ0tleTohMCxpc1Byb21pc2U6ITAsbWF4U2l6ZTohMCxvbkNhY2hlQWRkOiEwLG9uQ2FjaGVDaGFuZ2U6ITAsb25DYWNoZUhpdDohMCx0cmFuc2Zvcm1LZXk6ITB9LG89QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIGQoYil7dmFyIF89Yi5sZW5ndGg7cmV0dXJuIF8/Xz09PTE/W2JbMF1dOl89PT0yP1tiWzBdLGJbMV1dOl89PT0zP1tiWzBdLGJbMV0sYlsyXV06by5jYWxsKGIsMCk6W119ZnVuY3Rpb24gaChiKXt2YXIgXz17fTtmb3IodmFyIE8gaW4gYiluW09dfHwoX1tPXT1iW09dKTtyZXR1cm4gX31mdW5jdGlvbiBsKGIpe3JldHVybiB0eXBlb2YgYj09ImZ1bmN0aW9uIiYmYi5pc01lbW9pemVkfWZ1bmN0aW9uIHUoYixfKXtyZXR1cm4gYj09PV98fGIhPT1iJiZfIT09X31mdW5jdGlvbiBwKGIsXyl7dmFyIE89e307Zm9yKHZhciBUIGluIGIpT1tUXT1iW1RdO2Zvcih2YXIgVCBpbiBfKU9bVF09X1tUXTtyZXR1cm4gT312YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoXyl7dGhpcy5rZXlzPVtdLHRoaXMudmFsdWVzPVtdLHRoaXMub3B0aW9ucz1fO3ZhciBPPXR5cGVvZiBfLmlzTWF0Y2hpbmdLZXk9PSJmdW5jdGlvbiI7Tz90aGlzLmdldEtleUluZGV4PXRoaXMuX2dldEtleUluZGV4RnJvbU1hdGNoaW5nS2V5Ol8ubWF4U2l6ZT4xP3RoaXMuZ2V0S2V5SW5kZXg9dGhpcy5fZ2V0S2V5SW5kZXhGb3JNYW55OnRoaXMuZ2V0S2V5SW5kZXg9dGhpcy5fZ2V0S2V5SW5kZXhGb3JTaW5nbGUsdGhpcy5jYW5UcmFuc2Zvcm1LZXk9dHlwZW9mIF8udHJhbnNmb3JtS2V5PT0iZnVuY3Rpb24iLHRoaXMuc2hvdWxkQ2xvbmVBcmd1bWVudHM9dGhpcy5jYW5UcmFuc2Zvcm1LZXl8fE8sdGhpcy5zaG91bGRVcGRhdGVPbkFkZD10eXBlb2YgXy5vbkNhY2hlQWRkPT0iZnVuY3Rpb24iLHRoaXMuc2hvdWxkVXBkYXRlT25DaGFuZ2U9dHlwZW9mIF8ub25DYWNoZUNoYW5nZT09ImZ1bmN0aW9uIix0aGlzLnNob3VsZFVwZGF0ZU9uSGl0PXR5cGVvZiBfLm9uQ2FjaGVIaXQ9PSJmdW5jdGlvbiJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleXMubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLnByb3RvdHlwZSwic25hcHNob3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57a2V5czpkKHRoaXMua2V5cyksc2l6ZTp0aGlzLnNpemUsdmFsdWVzOmQodGhpcy52YWx1ZXMpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxiLnByb3RvdHlwZS5fZ2V0S2V5SW5kZXhGcm9tTWF0Y2hpbmdLZXk9ZnVuY3Rpb24oXyl7dmFyIE89dGhpcy5vcHRpb25zLFQ9Ty5pc01hdGNoaW5nS2V5LGo9Ty5tYXhTaXplLE49dGhpcy5rZXlzLEI9Ti5sZW5ndGg7aWYoIUIpcmV0dXJuLTE7aWYoVChOWzBdLF8pKXJldHVybiAwO2lmKGo+MSl7Zm9yKHZhciBDPTE7QzxCO0MrKylpZihUKE5bQ10sXykpcmV0dXJuIEN9cmV0dXJuLTF9LGIucHJvdG90eXBlLl9nZXRLZXlJbmRleEZvck1hbnk9ZnVuY3Rpb24oXyl7dmFyIE89dGhpcy5vcHRpb25zLmlzRXF1YWwsVD10aGlzLmtleXMsaj1ULmxlbmd0aDtpZighailyZXR1cm4tMTtpZihqPT09MSlyZXR1cm4gdGhpcy5fZ2V0S2V5SW5kZXhGb3JTaW5nbGUoXyk7dmFyIE49Xy5sZW5ndGgsQixDO2lmKE4+MSl7Zm9yKHZhciBMPTA7TDxqO0wrKylpZihCPVRbTF0sQi5sZW5ndGg9PT1OKXtmb3IoQz0wO0M8TiYmTyhCW0NdLF9bQ10pO0MrKyk7aWYoQz09PU4pcmV0dXJuIEx9fWVsc2UgZm9yKHZhciBMPTA7TDxqO0wrKylpZihCPVRbTF0sQi5sZW5ndGg9PT1OJiZPKEJbMF0sX1swXSkpcmV0dXJuIEw7cmV0dXJuLTF9LGIucHJvdG90eXBlLl9nZXRLZXlJbmRleEZvclNpbmdsZT1mdW5jdGlvbihfKXt2YXIgTz10aGlzLmtleXM7aWYoIU8ubGVuZ3RoKXJldHVybi0xO3ZhciBUPU9bMF0saj1ULmxlbmd0aDtpZihfLmxlbmd0aCE9PWopcmV0dXJuLTE7dmFyIE49dGhpcy5vcHRpb25zLmlzRXF1YWw7aWYoaj4xKXtmb3IodmFyIEI9MDtCPGo7QisrKWlmKCFOKFRbQl0sX1tCXSkpcmV0dXJuLTE7cmV0dXJuIDB9cmV0dXJuIE4oVFswXSxfWzBdKT8wOi0xfSxiLnByb3RvdHlwZS5vcmRlckJ5THJ1PWZ1bmN0aW9uKF8sTyxUKXtmb3IodmFyIGo9dGhpcy5rZXlzLE49dGhpcy52YWx1ZXMsQj1qLmxlbmd0aCxDPVQ7Qy0tOylqW0MrMV09altDXSxOW0MrMV09TltDXTtqWzBdPV8sTlswXT1PO3ZhciBMPXRoaXMub3B0aW9ucy5tYXhTaXplO0I9PT1MJiZUPT09Qj8oai5wb3AoKSxOLnBvcCgpKTpUPj1MJiYoai5sZW5ndGg9Ti5sZW5ndGg9TCl9LGIucHJvdG90eXBlLnVwZGF0ZUFzeW5jQ2FjaGU9ZnVuY3Rpb24oXyl7dmFyIE89dGhpcyxUPXRoaXMub3B0aW9ucyxqPVQub25DYWNoZUNoYW5nZSxOPVQub25DYWNoZUhpdCxCPXRoaXMua2V5c1swXSxDPXRoaXMudmFsdWVzWzBdO3RoaXMudmFsdWVzWzBdPUMudGhlbihmdW5jdGlvbihMKXtyZXR1cm4gTy5zaG91bGRVcGRhdGVPbkhpdCYmTihPLE8ub3B0aW9ucyxfKSxPLnNob3VsZFVwZGF0ZU9uQ2hhbmdlJiZqKE8sTy5vcHRpb25zLF8pLEx9LGZ1bmN0aW9uKEwpe3ZhciBTPU8uZ2V0S2V5SW5kZXgoQik7dGhyb3cgUyE9PS0xJiYoTy5rZXlzLnNwbGljZShTLDEpLE8udmFsdWVzLnNwbGljZShTLDEpKSxMfSl9LGJ9KCk7ZnVuY3Rpb24gdihiLF8pe2lmKF89PT12b2lkIDAmJihfPXt9KSxsKGIpKXJldHVybiB2KGIuZm4scChiLm9wdGlvbnMsXykpO2lmKHR5cGVvZiBiIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiB0byBgbWVtb2l6ZWAuIik7dmFyIE89Xy5pc0VxdWFsLFQ9Tz09PXZvaWQgMD91Ok8saj1fLmlzTWF0Y2hpbmdLZXksTj1fLmlzUHJvbWlzZSxCPU49PT12b2lkIDA/ITE6TixDPV8ubWF4U2l6ZSxMPUM9PT12b2lkIDA/MTpDLFM9Xy5vbkNhY2hlQWRkLFA9Xy5vbkNhY2hlQ2hhbmdlLEY9Xy5vbkNhY2hlSGl0LGs9Xy50cmFuc2Zvcm1LZXksSj1wKHtpc0VxdWFsOlQsaXNNYXRjaGluZ0tleTpqLGlzUHJvbWlzZTpCLG1heFNpemU6TCxvbkNhY2hlQWRkOlMsb25DYWNoZUNoYW5nZTpQLG9uQ2FjaGVIaXQ6Rix0cmFuc2Zvcm1LZXk6a30saChfKSksYWU9bmV3IGcoSikscT1hZS5rZXlzLEc9YWUudmFsdWVzLHJlPWFlLmNhblRyYW5zZm9ybUtleSxNPWFlLnNob3VsZENsb25lQXJndW1lbnRzLCQ9YWUuc2hvdWxkVXBkYXRlT25BZGQsVT1hZS5zaG91bGRVcGRhdGVPbkNoYW5nZSxIPWFlLnNob3VsZFVwZGF0ZU9uSGl0LGVlPWZ1bmN0aW9uKCl7dmFyIGdlPU0/ZChhcmd1bWVudHMpOmFyZ3VtZW50cztyZSYmKGdlPWsoZ2UpKTt2YXIgbWU9cS5sZW5ndGg/YWUuZ2V0S2V5SW5kZXgoZ2UpOi0xO2lmKG1lIT09LTEpSCYmRihhZSxKLGVlKSxtZSYmKGFlLm9yZGVyQnlMcnUocVttZV0sR1ttZV0sbWUpLFUmJlAoYWUsSixlZSkpO2Vsc2V7dmFyIGZlPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGhlPU0/Z2U6ZChhcmd1bWVudHMpO2FlLm9yZGVyQnlMcnUoaGUsZmUscS5sZW5ndGgpLEImJmFlLnVwZGF0ZUFzeW5jQ2FjaGUoZWUpLCQmJlMoYWUsSixlZSksVSYmUChhZSxKLGVlKX1yZXR1cm4gR1swXX07cmV0dXJuIGVlLmNhY2hlPWFlLGVlLmZuPWIsZWUuaXNNZW1vaXplZD0hMCxlZS5vcHRpb25zPUosZWV9cmV0dXJuIHZ9KX0obWljcm9NZW1vaXplKSksbWljcm9NZW1vaXplRXhwb3J0c312YXIgZmFzdEVxdWFsc0V4cG9ydHM9e30sZmFzdEVxdWFscz17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZmFzdEVxdWFsc0V4cG9ydHN9LHNldCBleHBvcnRzKHQpe2Zhc3RFcXVhbHNFeHBvcnRzPXR9fSxoYXNSZXF1aXJlZEZhc3RFcXVhbHM7ZnVuY3Rpb24gcmVxdWlyZUZhc3RFcXVhbHMoKXtyZXR1cm4gaGFzUmVxdWlyZWRGYXN0RXF1YWxzfHwoaGFzUmVxdWlyZWRGYXN0RXF1YWxzPTEsZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24obixvKXtvKGUpfSkoY29tbW9uanNHbG9iYWwsZnVuY3Rpb24obil7dmFyIG89dHlwZW9mIFdlYWtNYXA9PSJmdW5jdGlvbiIsZD1PYmplY3Qua2V5cztmdW5jdGlvbiBoKEcscmUpe3JldHVybiBHPT09cmV8fEchPT1HJiZyZSE9PXJlfWZ1bmN0aW9uIGwoRyl7cmV0dXJuIEcuY29uc3RydWN0b3I9PT1PYmplY3R8fEcuY29uc3RydWN0b3I9PW51bGx9ZnVuY3Rpb24gdShHKXtyZXR1cm4hIUcmJnR5cGVvZiBHLnRoZW49PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gcChHKXtyZXR1cm4hIShHJiZHLiQkdHlwZW9mKX1mdW5jdGlvbiBnKCl7dmFyIEc9W107cmV0dXJue2RlbGV0ZTpmdW5jdGlvbihyZSl7Zm9yKHZhciBNPTA7TTxHLmxlbmd0aDsrK00paWYoR1tNXVswXT09PXJlKXtHLnNwbGljZShNLDEpO3JldHVybn19LGdldDpmdW5jdGlvbihyZSl7Zm9yKHZhciBNPTA7TTxHLmxlbmd0aDsrK00paWYoR1tNXVswXT09PXJlKXJldHVybiBHW01dWzFdfSxzZXQ6ZnVuY3Rpb24ocmUsTSl7Zm9yKHZhciAkPTA7JDxHLmxlbmd0aDsrKyQpaWYoR1skXVswXT09PXJlKXtHWyRdWzFdPU07cmV0dXJufUcucHVzaChbcmUsTV0pfX19dmFyIHY9ZnVuY3Rpb24oRyl7cmV0dXJuIEc/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdlYWtNYXB9Omd9KG8pO2Z1bmN0aW9uIGIoRyl7cmV0dXJuIGZ1bmN0aW9uKE0pe3ZhciAkPUd8fE07cmV0dXJuIGZ1bmN0aW9uKEgsZWUsZ2UsbWUsZmUsaGUsX2Upe19lPT09dm9pZCAwJiYoX2U9digpKTt2YXIgeGU9ISFIJiZ0eXBlb2YgSD09Im9iamVjdCIsTmU9ISFlZSYmdHlwZW9mIGVlPT0ib2JqZWN0IjtpZih4ZSE9PU5lKXJldHVybiExO2lmKCF4ZSYmIU5lKXJldHVybiAkKEgsZWUsX2UpO3ZhciBJZT1fZS5nZXQoSCk7aWYoSWUmJl9lLmdldChlZSkpcmV0dXJuIEllPT09ZWU7X2Uuc2V0KEgsZWUpLF9lLnNldChlZSxIKTt2YXIgUmU9JChILGVlLF9lKTtyZXR1cm4gX2UuZGVsZXRlKEgpLF9lLmRlbGV0ZShlZSksUmV9fX1mdW5jdGlvbiBfKEcscmUsTSwkKXt2YXIgVT1HLmxlbmd0aDtpZihyZS5sZW5ndGghPT1VKXJldHVybiExO2Zvcig7VS0tID4wOylpZighTShHW1VdLHJlW1VdLFUsVSxHLHJlLCQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIE8oRyxyZSxNLCQpe3ZhciBVPUcuc2l6ZT09PXJlLnNpemU7aWYoVSYmRy5zaXplKXt2YXIgSD17fSxlZT0wO0cuZm9yRWFjaChmdW5jdGlvbihnZSxtZSl7aWYoVSl7dmFyIGZlPSExLGhlPTA7cmUuZm9yRWFjaChmdW5jdGlvbihfZSx4ZSl7IWZlJiYhSFtoZV0mJihmZT1NKG1lLHhlLGVlLGhlLEcscmUsJCkmJk0oZ2UsX2UsbWUseGUsRyxyZSwkKSxmZSYmKEhbaGVdPSEwKSksaGUrK30pLGVlKyssVT1mZX19KX1yZXR1cm4gVX12YXIgVD0iX293bmVyIixqPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7ZnVuY3Rpb24gTihHLHJlLE0sJCl7dmFyIFU9ZChHKSxIPVUubGVuZ3RoO2lmKGQocmUpLmxlbmd0aCE9PUgpcmV0dXJuITE7aWYoSClmb3IodmFyIGVlPXZvaWQgMDtILS0gPjA7KXtpZihlZT1VW0hdLGVlPT09VCl7dmFyIGdlPXAoRyksbWU9cChyZSk7aWYoKGdlfHxtZSkmJmdlIT09bWUpcmV0dXJuITF9aWYoIWoocmUsZWUpfHwhTShHW2VlXSxyZVtlZV0sZWUsZWUsRyxyZSwkKSlyZXR1cm4hMX1yZXR1cm4hMH12YXIgQj1mdW5jdGlvbigpe3JldHVybi9mb28vZy5mbGFncz09PSJnIj9mdW5jdGlvbihyZSxNKXtyZXR1cm4gcmUuc291cmNlPT09TS5zb3VyY2UmJnJlLmZsYWdzPT09TS5mbGFnc306ZnVuY3Rpb24ocmUsTSl7cmV0dXJuIHJlLnNvdXJjZT09PU0uc291cmNlJiZyZS5nbG9iYWw9PT1NLmdsb2JhbCYmcmUuaWdub3JlQ2FzZT09PU0uaWdub3JlQ2FzZSYmcmUubXVsdGlsaW5lPT09TS5tdWx0aWxpbmUmJnJlLnVuaWNvZGU9PT1NLnVuaWNvZGUmJnJlLnN0aWNreT09PU0uc3RpY2t5JiZyZS5sYXN0SW5kZXg9PT1NLmxhc3RJbmRleH19KCk7ZnVuY3Rpb24gQyhHLHJlLE0sJCl7dmFyIFU9Ry5zaXplPT09cmUuc2l6ZTtpZihVJiZHLnNpemUpe3ZhciBIPXt9O0cuZm9yRWFjaChmdW5jdGlvbihlZSxnZSl7aWYoVSl7dmFyIG1lPSExLGZlPTA7cmUuZm9yRWFjaChmdW5jdGlvbihoZSxfZSl7IW1lJiYhSFtmZV0mJihtZT1NKGVlLGhlLGdlLF9lLEcscmUsJCksbWUmJihIW2ZlXT0hMCkpLGZlKyt9KSxVPW1lfX0pfXJldHVybiBVfXZhciBMPXR5cGVvZiBNYXA9PSJmdW5jdGlvbiIsUz10eXBlb2YgU2V0PT0iZnVuY3Rpb24iLFA9T2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mO2Z1bmN0aW9uIEYoRyl7dmFyIHJlPXR5cGVvZiBHPT0iZnVuY3Rpb24iP0coTSk6ZnVuY3Rpb24oJCxVLEgsZWUsZ2UsbWUsZmUpe3JldHVybiBNKCQsVSxmZSl9O2Z1bmN0aW9uIE0oJCxVLEgpe2lmKCQ9PT1VKXJldHVybiEwO2lmKCQmJlUmJnR5cGVvZiAkPT0ib2JqZWN0IiYmdHlwZW9mIFU9PSJvYmplY3QiKXtpZihsKCQpJiZsKFUpKXJldHVybiBOKCQsVSxyZSxIKTt2YXIgZWU9QXJyYXkuaXNBcnJheSgkKSxnZT1BcnJheS5pc0FycmF5KFUpO3JldHVybiBlZXx8Z2U/ZWU9PT1nZSYmXygkLFUscmUsSCk6KGVlPSQgaW5zdGFuY2VvZiBEYXRlLGdlPVUgaW5zdGFuY2VvZiBEYXRlLGVlfHxnZT9lZT09PWdlJiZoKCQuZ2V0VGltZSgpLFUuZ2V0VGltZSgpKTooZWU9JCBpbnN0YW5jZW9mIFJlZ0V4cCxnZT1VIGluc3RhbmNlb2YgUmVnRXhwLGVlfHxnZT9lZT09PWdlJiZCKCQsVSk6dSgkKXx8dShVKT8kPT09VTpMJiYoZWU9JCBpbnN0YW5jZW9mIE1hcCxnZT1VIGluc3RhbmNlb2YgTWFwLGVlfHxnZSk/ZWU9PT1nZSYmTygkLFUscmUsSCk6UyYmKGVlPSQgaW5zdGFuY2VvZiBTZXQsZ2U9VSBpbnN0YW5jZW9mIFNldCxlZXx8Z2UpP2VlPT09Z2UmJkMoJCxVLHJlLEgpOiQudmFsdWVPZiE9PVB8fFUudmFsdWVPZiE9PVA/aCgkLnZhbHVlT2YoKSxVLnZhbHVlT2YoKSk6TigkLFUscmUsSCkpKX1yZXR1cm4gJCE9PSQmJlUhPT1VfXJldHVybiBNfXZhciBrPUYoKSxKPUYoZnVuY3Rpb24oKXtyZXR1cm4gaH0pLGFlPUYoYigpKSxxPUYoYihoKSk7bi5jaXJjdWxhckRlZXBFcXVhbD1hZSxuLmNpcmN1bGFyU2hhbGxvd0VxdWFsPXEsbi5jcmVhdGVDdXN0b21FcXVhbD1GLG4uZGVlcEVxdWFsPWssbi5zYW1lVmFsdWVaZXJvRXF1YWw9aCxuLnNoYWxsb3dFcXVhbD1KLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pfShmYXN0RXF1YWxzLGZhc3RFcXVhbHNFeHBvcnRzKSksZmFzdEVxdWFsc0V4cG9ydHN9KGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKG4sbyl7dC5leHBvcnRzPW8ocmVxdWlyZU1pY3JvTWVtb2l6ZSgpLHJlcXVpcmVGYXN0RXF1YWxzKCkpfSkoY29tbW9uanNHbG9iYWwsZnVuY3Rpb24obixvKXtmdW5jdGlvbiBkKCl7cmV0dXJuIGQ9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbihRKXtmb3IodmFyIFk9MTtZPGFyZ3VtZW50cy5sZW5ndGg7WSsrKXt2YXIgaWU9YXJndW1lbnRzW1ldO2Zvcih2YXIgc2UgaW4gaWUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGllLHNlKSYmKFFbc2VdPWllW3NlXSl9cmV0dXJuIFF9LGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGgoUSxZKXtpZihRPT1udWxsKXJldHVybnt9O3ZhciBpZT17fSxzZT1PYmplY3Qua2V5cyhRKSxsZSxuZTtmb3IobmU9MDtuZTxzZS5sZW5ndGg7bmUrKylsZT1zZVtuZV0sIShZLmluZGV4T2YobGUpPj0wKSYmKGllW2xlXT1RW2xlXSk7cmV0dXJuIGllfXZhciBsPXtpc0RlZXBFcXVhbDohMSxpc1Byb21pc2U6ITEsaXNSZWFjdDohMSxpc1NlcmlhbGl6ZWQ6ITEsaXNTaGFsbG93RXF1YWw6ITEsbWF0Y2hlc0FyZzp2b2lkIDAsbWF0Y2hlc0tleTp2b2lkIDAsbWF4QWdlOnZvaWQgMCxtYXhBcmdzOnZvaWQgMCxtYXhTaXplOjEsb25FeHBpcmU6dm9pZCAwLHByb2ZpbGVOYW1lOnZvaWQgMCxzZXJpYWxpemVyOnZvaWQgMCx1cGRhdGVDYWNoZUZvcktleTp2b2lkIDAsdHJhbnNmb3JtQXJnczp2b2lkIDAsdXBkYXRlRXhwaXJlOiExfTtmdW5jdGlvbiB1KCl7Zm9yKHZhciBRPWFyZ3VtZW50cy5sZW5ndGgsWT1uZXcgQXJyYXkoUSksaWU9MDtpZTxRO2llKyspWVtpZV09YXJndW1lbnRzW2llXTtyZXR1cm4gWS5yZWR1Y2UoZnVuY3Rpb24oc2UsbGUpe2lmKHR5cGVvZiBzZT09ImZ1bmN0aW9uIilyZXR1cm4gdHlwZW9mIGxlPT0iZnVuY3Rpb24iP2Z1bmN0aW9uKCl7c2UuYXBwbHkodGhpcyxhcmd1bWVudHMpLGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX06c2U7aWYodHlwZW9mIGxlPT0iZnVuY3Rpb24iKXJldHVybiBsZX0pfWZ1bmN0aW9uIHAoKXtmb3IodmFyIFE9YXJndW1lbnRzLmxlbmd0aCxZPW5ldyBBcnJheShRKSxpZT0wO2llPFE7aWUrKylZW2llXT1hcmd1bWVudHNbaWVdO3JldHVybiBZLnJlZHVjZShmdW5jdGlvbihzZSxsZSl7aWYodHlwZW9mIHNlPT0iZnVuY3Rpb24iKXJldHVybiB0eXBlb2YgbGU9PSJmdW5jdGlvbiI/ZnVuY3Rpb24oKXtyZXR1cm4gc2UobGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX06c2U7aWYodHlwZW9mIGxlPT0iZnVuY3Rpb24iKXJldHVybiBsZX0pfWZ1bmN0aW9uIGcoUSxZKXtmb3IodmFyIGllPTA7aWU8US5sZW5ndGg7aWUrKylpZihRW2llXS5rZXk9PT1ZKXJldHVybiBpZTtyZXR1cm4tMX1mdW5jdGlvbiB2KFEsWSl7dmFyIGllPXR5cGVvZiBZPT0iZnVuY3Rpb24iP1k6ZnVuY3Rpb24oc2UsbGUpe2Zvcih2YXIgbmU9MDtuZTxsZS5sZW5ndGg7bmUrKylpZighUShzZVtuZV0sbGVbbmVdKSlyZXR1cm4hMTtyZXR1cm4hMH07cmV0dXJuIGZ1bmN0aW9uKHNlLGxlKXtmb3IodmFyIG5lPTA7bmU8c2UubGVuZ3RoO25lKyspaWYoc2VbbmVdLmxlbmd0aD09PWxlLmxlbmd0aCYmaWUoc2VbbmVdLGxlKSlyZXR1cm4gbmU7cmV0dXJuLTF9fWZ1bmN0aW9uIGIoUSxZKXtyZXR1cm4hWXx8WT09PWw/UTpkKHt9LFEsWSx7b25DYWNoZUFkZDp1KFEub25DYWNoZUFkZCxZLm9uQ2FjaGVBZGQpLG9uQ2FjaGVDaGFuZ2U6dShRLm9uQ2FjaGVDaGFuZ2UsWS5vbkNhY2hlQ2hhbmdlKSxvbkNhY2hlSGl0OnUoUS5vbkNhY2hlSGl0LFkub25DYWNoZUhpdCksdHJhbnNmb3JtQXJnczpwKFEudHJhbnNmb3JtQXJncyxZLnRyYW5zZm9ybUFyZ3MpfSl9ZnVuY3Rpb24gXyhRKXtyZXR1cm4gdHlwZW9mIFE9PSJmdW5jdGlvbiImJlEuaXNNb2l6ZWR9ZnVuY3Rpb24gTyhRLFksaWUpe3RyeXt2YXIgc2U9aWV8fFl8fCJhbm9ueW1vdXMiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShRLCJuYW1lIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6Im1vaXplZCgiK3NlKyIpIix3cml0YWJsZTohMH0pfWNhdGNoe319ZnVuY3Rpb24gVChRLFksaWUpe3ZhciBzZT1nKFEsWSk7c2UhPT0tMSYmKGNsZWFyVGltZW91dChRW3NlXS50aW1lb3V0SWQpLGllJiZRLnNwbGljZShzZSwxKSl9ZnVuY3Rpb24gaihRLFkpe3ZhciBpZT1zZXRUaW1lb3V0KFEsWSk7cmV0dXJuIHR5cGVvZiBpZS51bnJlZj09ImZ1bmN0aW9uIiYmaWUudW5yZWYoKSxpZX1mdW5jdGlvbiBOKFEsWSxpZSxzZSl7dmFyIGxlPVkubWF4QWdlO3JldHVybiBmdW5jdGlvbiBuZSh1ZSxkZSxwZSl7dmFyIGJlPXVlLmtleXNbMF07aWYoZyhRLGJlKT09PS0xKXt2YXIgd2U9ZnVuY3Rpb24oKXt2YXIgST12KGllLHNlKSx3PUkodWUua2V5cyxiZSksRT11ZS52YWx1ZXNbd107fncmJih1ZS5rZXlzLnNwbGljZSh3LDEpLHVlLnZhbHVlcy5zcGxpY2UodywxKSx0eXBlb2YgWS5vbkNhY2hlQ2hhbmdlPT0iZnVuY3Rpb24iJiZZLm9uQ2FjaGVDaGFuZ2UodWUsZGUscGUpKSxUKFEsYmUsITApLHR5cGVvZiBZLm9uRXhwaXJlPT0iZnVuY3Rpb24iJiZZLm9uRXhwaXJlKGJlKT09PSExJiYodWUua2V5cy51bnNoaWZ0KGJlKSx1ZS52YWx1ZXMudW5zaGlmdChFKSxuZSh1ZSxkZSxwZSksdHlwZW9mIFkub25DYWNoZUNoYW5nZT09ImZ1bmN0aW9uIiYmWS5vbkNhY2hlQ2hhbmdlKHVlLGRlLHBlKSl9O1EucHVzaCh7ZXhwaXJhdGlvbk1ldGhvZDp3ZSxrZXk6YmUsdGltZW91dElkOmood2UsbGUpfSl9fX1mdW5jdGlvbiBCKFEsWSl7cmV0dXJuIGZ1bmN0aW9uKHNlKXt2YXIgbGU9c2Uua2V5c1swXSxuZT1nKFEsbGUpO35uZSYmKFQoUSxsZSwhMSksUVtuZV0udGltZW91dElkPWooUVtuZV0uZXhwaXJhdGlvbk1ldGhvZCxZLm1heEFnZSkpfX1mdW5jdGlvbiBDKFEsWSxpZSxzZSl7dmFyIGxlPXR5cGVvZiBZLm1heEFnZT09Im51bWJlciImJmlzRmluaXRlKFkubWF4QWdlKT9OKFEsWSxpZSxzZSk6dm9pZCAwO3JldHVybntvbkNhY2hlQWRkOmxlLG9uQ2FjaGVIaXQ6bGUmJlkudXBkYXRlRXhwaXJlP0IoUSxZKTp2b2lkIDB9fXZhciBMPXthbm9ueW1vdXNQcm9maWxlTmFtZUNvdW50ZXI6MSxpc0NvbGxlY3RpbmdTdGF0czohMSxwcm9maWxlczp7fX0sUz0hMTtmdW5jdGlvbiBQKFEpe1E/ZGVsZXRlIEwucHJvZmlsZXNbUV06TC5wcm9maWxlcz17fX1mdW5jdGlvbiBGKFEpe1E9PT12b2lkIDAmJihRPSEwKSxMLmlzQ29sbGVjdGluZ1N0YXRzPVF9ZnVuY3Rpb24gayhRKXt2YXIgWT1RLnByb2ZpbGVOYW1lO3JldHVybiBmdW5jdGlvbigpe1kmJiFMLnByb2ZpbGVzW1ldJiYoTC5wcm9maWxlc1tZXT17Y2FsbHM6MCxoaXRzOjB9KSxMLnByb2ZpbGVzW1ldLmNhbGxzKyt9fWZ1bmN0aW9uIEooUSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIFk9TC5wcm9maWxlcyxpZT1RLnByb2ZpbGVOYW1lO1lbaWVdfHwoWVtpZV09e2NhbGxzOjAsaGl0czowfSksWVtpZV0uY2FsbHMrKyxZW2llXS5oaXRzKyt9fWZ1bmN0aW9uIGFlKFEpe3JldHVybiBRLmRpc3BsYXlOYW1lfHxRLm5hbWV8fCJBbm9ueW1vdXMgIitMLmFub255bW91c1Byb2ZpbGVOYW1lQ291bnRlcisrfWZ1bmN0aW9uIHEoUSxZKXtyZXR1cm4gUT8oWS9RKjEwMCkudG9GaXhlZCg0KSsiJSI6IjAuMDAwMCUifWZ1bmN0aW9uIEcoUSl7IUwuaXNDb2xsZWN0aW5nU3RhdHMmJiFTJiYoY29uc29sZS53YXJuKCdTdGF0cyBhcmUgbm90IGN1cnJlbnRseSBiZWluZyBjb2xsZWN0ZWQsIHBsZWFzZSBydW4gImNvbGxlY3RTdGF0cyIgdG8gZW5hYmxlIHRoZW0uJyksUz0hMCk7dmFyIFk9TC5wcm9maWxlcztpZihRKXtpZighWVtRXSlyZXR1cm57Y2FsbHM6MCxoaXRzOjAsdXNhZ2U6IjAuMDAwMCUifTt2YXIgaWU9WVtRXTtyZXR1cm4gZCh7fSxpZSx7dXNhZ2U6cShpZS5jYWxscyxpZS5oaXRzKX0pfXZhciBzZT1PYmplY3Qua2V5cyhMLnByb2ZpbGVzKS5yZWR1Y2UoZnVuY3Rpb24obGUsbmUpe3JldHVybiBsZS5jYWxscys9WVtuZV0uY2FsbHMsbGUuaGl0cys9WVtuZV0uaGl0cyxsZX0se2NhbGxzOjAsaGl0czowfSk7cmV0dXJuIGQoe30sc2Use3Byb2ZpbGVzOk9iamVjdC5rZXlzKFkpLnJlZHVjZShmdW5jdGlvbihsZSxuZSl7cmV0dXJuIGxlW25lXT1HKG5lKSxsZX0se30pLHVzYWdlOnEoc2UuY2FsbHMsc2UuaGl0cyl9KX1mdW5jdGlvbiByZShRKXtyZXR1cm4gTC5pc0NvbGxlY3RpbmdTdGF0cz97b25DYWNoZUFkZDprKFEpLG9uQ2FjaGVIaXQ6SihRKX06e319dmFyIE09e2FyZ3VtZW50czohMCxjYWxsZWU6ITAsY2FsbGVyOiEwLGNvbnN0cnVjdG9yOiEwLGxlbmd0aDohMCxuYW1lOiEwLHByb3RvdHlwZTohMH07ZnVuY3Rpb24gJChRLFksaWUpe2llPT09dm9pZCAwJiYoaWU9W10pLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFEpLmZvckVhY2goZnVuY3Rpb24oc2Upe2lmKCFNW3NlXSYmaWUuaW5kZXhPZihzZSk9PT0tMSl7dmFyIGxlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUSxzZSk7bGUuZ2V0fHxsZS5zZXQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KFksc2UsbGUpOllbc2VdPVFbc2VdfX0pfWZ1bmN0aW9uIFUoUSxZKXt2YXIgaWU9WS5leHBpcmF0aW9ucyxzZT1RLm9wdGlvbnMsbGU9dihzZS5pc0VxdWFsLHNlLmlzTWF0Y2hpbmdLZXkpLG5lPVE7bmUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdWU9bmUuX21pY3JvTWVtb2l6ZU9wdGlvbnMub25DYWNoZUNoYW5nZSxkZT1uZS5jYWNoZTtyZXR1cm4gZGUua2V5cy5sZW5ndGg9MCxkZS52YWx1ZXMubGVuZ3RoPTAsdWUmJnVlKGRlLG5lLm9wdGlvbnMsbmUpLCEwfSxuZS5jbGVhclN0YXRzPWZ1bmN0aW9uKCl7UChuZS5vcHRpb25zLnByb2ZpbGVOYW1lKX0sbmUuZ2V0PWZ1bmN0aW9uKHVlKXt2YXIgZGU9bmUuX21pY3JvTWVtb2l6ZU9wdGlvbnMudHJhbnNmb3JtS2V5LHBlPW5lLmNhY2hlLGJlPWRlP2RlKHVlKTp1ZSx3ZT1sZShwZS5rZXlzLGJlKTtyZXR1cm4gd2UhPT0tMT9uZS5hcHBseSh0aGlzLHVlKTp2b2lkIDB9LG5lLmdldFN0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIEcobmUub3B0aW9ucy5wcm9maWxlTmFtZSl9LG5lLmhhcz1mdW5jdGlvbih1ZSl7dmFyIGRlPW5lLl9taWNyb01lbW9pemVPcHRpb25zLnRyYW5zZm9ybUtleSxwZT1kZT9kZSh1ZSk6dWU7cmV0dXJuIGxlKG5lLmNhY2hlLmtleXMscGUpIT09LTF9LG5lLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gbmUuY2FjaGVTbmFwc2hvdC5rZXlzfSxuZS5yZW1vdmU9ZnVuY3Rpb24odWUpe3ZhciBkZT1uZS5fbWljcm9NZW1vaXplT3B0aW9ucyxwZT1kZS5vbkNhY2hlQ2hhbmdlLGJlPWRlLnRyYW5zZm9ybUtleSx3ZT1uZS5jYWNoZSxPZT1sZSh3ZS5rZXlzLGJlP2JlKHVlKTp1ZSk7aWYoT2U9PT0tMSlyZXR1cm4hMTt2YXIgST13ZS5rZXlzW09lXTtyZXR1cm4gd2Uua2V5cy5zcGxpY2UoT2UsMSksd2UudmFsdWVzLnNwbGljZShPZSwxKSxwZSYmcGUod2UsbmUub3B0aW9ucyxuZSksVChpZSxJLCEwKSwhMH0sbmUuc2V0PWZ1bmN0aW9uKHVlLGRlKXt2YXIgcGU9bmUuX21pY3JvTWVtb2l6ZU9wdGlvbnMsYmU9bmUuY2FjaGUsd2U9bmUub3B0aW9ucyxPZT1wZS5vbkNhY2hlQWRkLEk9cGUub25DYWNoZUNoYW5nZSx3PXBlLnRyYW5zZm9ybUtleSxFPXc/dyh1ZSk6dWUsRD1sZShiZS5rZXlzLEUpO2lmKEQ9PT0tMSl7dmFyIFY9d2UubWF4U2l6ZS0xO2JlLnNpemU+ViYmKGJlLmtleXMubGVuZ3RoPVYsYmUudmFsdWVzLmxlbmd0aD1WKSxiZS5rZXlzLnVuc2hpZnQoRSksYmUudmFsdWVzLnVuc2hpZnQoZGUpLHdlLmlzUHJvbWlzZSYmYmUudXBkYXRlQXN5bmNDYWNoZShuZSksT2UmJk9lKGJlLHdlLG5lKSxJJiZJKGJlLHdlLG5lKX1lbHNle3ZhciBaPWJlLmtleXNbRF07YmUudmFsdWVzW0RdPWRlLEQ+MCYmYmUub3JkZXJCeUxydShaLGRlLEQpLHdlLmlzUHJvbWlzZSYmYmUudXBkYXRlQXN5bmNDYWNoZShuZSksdHlwZW9mIEk9PSJmdW5jdGlvbiImJkkoYmUsd2UsbmUpfX0sbmUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIG5lLmNhY2hlU25hcHNob3QudmFsdWVzfX1mdW5jdGlvbiBIKFEsWSl7dmFyIGllPVkuZXhwaXJhdGlvbnMsc2U9WS5vcHRpb25zLGxlPVkub3JpZ2luYWxGdW5jdGlvbixuZT1RLm9wdGlvbnM7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUSx7X21pY3JvTWVtb2l6ZU9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV9fSxjYWNoZVNuYXBzaG90Ontjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIHBlPVEuY2FjaGU7cmV0dXJue2tleXM6cGUua2V5cy5zbGljZSgwKSxzaXplOnBlLnNpemUsdmFsdWVzOnBlLnZhbHVlcy5zbGljZSgwKX19fSxleHBpcmF0aW9uczp7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpZX19LGV4cGlyYXRpb25zU25hcHNob3Q6e2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaWUuc2xpY2UoMCl9fSxpc01vaXplZDp7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiEwfX0sb3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzZX19LG9yaWdpbmFsRnVuY3Rpb246e2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbGV9fX0pO3ZhciB1ZT1ROyQobGUsdWUpfWZ1bmN0aW9uIGVlKFEsWSl7cmV0dXJuIFUoUSxZKSxIKFEsWSksUX12YXIgZ2U9dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmU3ltYm9sLmZvcj9TeW1ib2wuZm9yKCJyZWFjdC5lbGVtZW50Iik6NjAxMDM7ZnVuY3Rpb24gbWUoUSxZLGllKXt2YXIgc2U9UShkKHttYXhBcmdzOjIsaXNTaGFsbG93RXF1YWw6ITB9LGllLHtpc1JlYWN0OiExfSkpO1kuZGlzcGxheU5hbWV8fChZLmRpc3BsYXlOYW1lPVkubmFtZXx8IkNvbXBvbmVudCIpO2Z1bmN0aW9uIGxlKG5lLHVlLGRlKXt0aGlzLnByb3BzPW5lLHRoaXMuY29udGV4dD11ZSx0aGlzLnVwZGF0ZXI9ZGUsdGhpcy5Nb2l6ZWRDb21wb25lbnQ9c2UoWSl9cmV0dXJuIGxlLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50PXt9LGxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm57JCR0eXBlb2Y6Z2UsdHlwZTp0aGlzLk1vaXplZENvbXBvbmVudCxwcm9wczp0aGlzLnByb3BzLHJlZjpudWxsLGtleTpudWxsLF9vd25lcjpudWxsfX0sJChZLGxlLFsiY29udGV4dFR5cGUiLCJjb250ZXh0VHlwZXMiXSksbGUuZGlzcGxheU5hbWU9Ik1vaXplZCgiKyhZLmRpc3BsYXlOYW1lfHxZLm5hbWV8fCJDb21wb25lbnQiKSsiKSIsTyhsZSxZLm5hbWUsaWUucHJvZmlsZU5hbWUpLGxlfWZ1bmN0aW9uIGZlKFEpe3JldHVybiBmdW5jdGlvbihZKXtpZihRPj1ZLmxlbmd0aClyZXR1cm4gWTtpZihRPT09MClyZXR1cm5bXTtpZihRPT09MSlyZXR1cm5bWVswXV07aWYoUT09PTIpcmV0dXJuW1lbMF0sWVsxXV07aWYoUT09PTMpcmV0dXJuW1lbMF0sWVsxXSxZWzJdXTtmb3IodmFyIGllPVtdLHNlPTA7c2U8UTtzZSsrKWllW3NlXT1ZW3NlXTtyZXR1cm4gaWV9fWZ1bmN0aW9uIGhlKFEsWSl7Zm9yKHZhciBpZT1RLmxlbmd0aCxzZT0wO3NlPGllOysrc2UpaWYoUVtzZV09PT1ZKXJldHVybiBzZSsxO3JldHVybiAwfWZ1bmN0aW9uIF9lKCl7dmFyIFE9W10sWT1bXTtyZXR1cm4gZnVuY3Rpb24oc2UsbGUpe3ZhciBuZT10eXBlb2YgbGU7aWYobmU9PT0iZnVuY3Rpb24ifHxuZT09PSJzeW1ib2wiKXJldHVybiBsZS50b1N0cmluZygpO2lmKHR5cGVvZiBsZT09Im9iamVjdCIpe2lmKFEubGVuZ3RoKXt2YXIgdWU9aGUoUSx0aGlzKTt1ZT09PTA/UVtRLmxlbmd0aF09dGhpczooUS5zcGxpY2UodWUpLFkuc3BsaWNlKHVlKSksWVtZLmxlbmd0aF09c2U7dmFyIGRlPWhlKFEsbGUpO2lmKGRlIT09MClyZXR1cm4iW3JlZj0iKyhZLnNsaWNlKDAsZGUpLmpvaW4oIi4iKXx8Ii4iKSsiXSJ9ZWxzZSBRWzBdPWxlLFlbMF09c2U7cmV0dXJuIGxlfXJldHVybiIiK2xlfX1mdW5jdGlvbiB4ZShRKXt2YXIgWT10eXBlb2YgUTtyZXR1cm4gUSYmKFk9PT0ib2JqZWN0Inx8WT09PSJmdW5jdGlvbiIpP0pTT04uc3RyaW5naWZ5KFEsX2UoKSk6UX1mdW5jdGlvbiBOZShRKXtmb3IodmFyIFk9InwiLGllPTA7aWU8US5sZW5ndGg7aWUrKylZKz14ZShRW2llXSkrInwiO3JldHVybltZXX1mdW5jdGlvbiBJZShRKXtyZXR1cm4gdHlwZW9mIFEuc2VyaWFsaXplcj09ImZ1bmN0aW9uIj9RLnNlcmlhbGl6ZXI6TmV9ZnVuY3Rpb24gUmUoUSxZKXtyZXR1cm4gUVswXT09PVlbMF19ZnVuY3Rpb24gdmUoUSl7aWYodHlwZW9mIFE9PSJmdW5jdGlvbiIpcmV0dXJuIGZ1bmN0aW9uKFksaWUsc2Upe3JldHVybiBRKHNlLmNhY2hlLHNlLm9wdGlvbnMsc2UpfX1mdW5jdGlvbiBDZShRKXtyZXR1cm4gUS5tYXRjaGVzQXJnfHxRLmlzRGVlcEVxdWFsJiZvLmRlZXBFcXVhbHx8US5pc1NoYWxsb3dFcXVhbCYmby5zaGFsbG93RXF1YWx8fG8uc2FtZVZhbHVlWmVyb0VxdWFsfWZ1bmN0aW9uIE1lKFEpe3JldHVybiBRLm1hdGNoZXNLZXl8fFEuaXNTZXJpYWxpemVkJiZSZXx8dm9pZCAwfWZ1bmN0aW9uIFVlKFEpe3JldHVybiBwKFEuaXNTZXJpYWxpemVkJiZJZShRKSx0eXBlb2YgUS50cmFuc2Zvcm1BcmdzPT0iZnVuY3Rpb24iJiZRLnRyYW5zZm9ybUFyZ3MsdHlwZW9mIFEubWF4QXJncz09Im51bWJlciImJmZlKFEubWF4QXJncykpfWZ1bmN0aW9uIEZlKFEpe3ZhciBZPVEub3B0aW9ucy51cGRhdGVDYWNoZUZvcktleSxpZT1mdW5jdGlvbigpe2Zvcih2YXIgbGU9YXJndW1lbnRzLmxlbmd0aCxuZT1uZXcgQXJyYXkobGUpLHVlPTA7dWU8bGU7dWUrKyluZVt1ZV09YXJndW1lbnRzW3VlXTtpZighWShuZSkpcmV0dXJuIFEuYXBwbHkodGhpcyxuZSk7dmFyIGRlPVEuZm4uYXBwbHkodGhpcyxuZSk7cmV0dXJuIFEuc2V0KG5lLGRlKSxkZX07cmV0dXJuICQoUSxpZSksaWV9dmFyICRlPVsibWF0Y2hlc0FyZyIsImlzRGVlcEVxdWFsIiwiaXNQcm9taXNlIiwiaXNSZWFjdCIsImlzU2VyaWFsaXplZCIsImlzU2hhbGxvd0VxdWFsIiwibWF0Y2hlc0tleSIsIm1heEFnZSIsIm1heEFyZ3MiLCJtYXhTaXplIiwib25DYWNoZUFkZCIsIm9uQ2FjaGVDaGFuZ2UiLCJvbkNhY2hlSGl0Iiwib25FeHBpcmUiLCJwcm9maWxlTmFtZSIsInNlcmlhbGl6ZXIiLCJ1cGRhdGVDYWNoZUZvcktleSIsInRyYW5zZm9ybUFyZ3MiLCJ1cGRhdGVFeHBpcmUiXSxYPWZ1bmN0aW9uIFEoWSxpZSl7dmFyIHNlPWllfHxsO2lmKF8oWSkpe3ZhciBsZT1ZLm9yaWdpbmFsRnVuY3Rpb24sbmU9YihZLm9wdGlvbnMsc2UpO3JldHVybiBRKGxlLG5lKX1pZih0eXBlb2YgWT09Im9iamVjdCIpcmV0dXJuIGZ1bmN0aW9uKExlLEtlKXtpZih0eXBlb2YgTGU9PSJmdW5jdGlvbiIpe3ZhciBKZT1iKFksS2UpO3JldHVybiBRKExlLEplKX12YXIgenQ9YihZLExlKTtyZXR1cm4gUSh6dCl9O2lmKHNlLmlzUmVhY3QpcmV0dXJuIG1lKFEsWSxzZSk7dmFyIHVlPWQoe30sbCxzZSx7bWF4QWdlOnR5cGVvZiBzZS5tYXhBZ2U9PSJudW1iZXIiJiZzZS5tYXhBZ2U+PTA/c2UubWF4QWdlOmwubWF4QWdlLG1heEFyZ3M6dHlwZW9mIHNlLm1heEFyZ3M9PSJudW1iZXIiJiZzZS5tYXhBcmdzPj0wP3NlLm1heEFyZ3M6bC5tYXhBcmdzLG1heFNpemU6dHlwZW9mIHNlLm1heFNpemU9PSJudW1iZXIiJiZzZS5tYXhTaXplPj0wP3NlLm1heFNpemU6bC5tYXhTaXplLHByb2ZpbGVOYW1lOnNlLnByb2ZpbGVOYW1lfHxhZShZKX0pLGRlPVtdO3VlLm1hdGNoZXNBcmcsdWUuaXNEZWVwRXF1YWw7dmFyIHBlPXVlLmlzUHJvbWlzZTt1ZS5pc1JlYWN0LHVlLmlzU2VyaWFsaXplZCx1ZS5pc1NoYWxsb3dFcXVhbCx1ZS5tYXRjaGVzS2V5LHVlLm1heEFnZSx1ZS5tYXhBcmdzO3ZhciBiZT11ZS5tYXhTaXplLHdlPXVlLm9uQ2FjaGVBZGQsT2U9dWUub25DYWNoZUNoYW5nZSxJPXVlLm9uQ2FjaGVIaXQ7dWUub25FeHBpcmUsdWUucHJvZmlsZU5hbWUsdWUuc2VyaWFsaXplcjt2YXIgdz11ZS51cGRhdGVDYWNoZUZvcktleTt1ZS50cmFuc2Zvcm1BcmdzLHVlLnVwZGF0ZUV4cGlyZTt2YXIgRT1oKHVlLCRlKSxEPUNlKHVlKSxWPU1lKHVlKSxaPUMoZGUsdWUsRCxWKSxjZT1yZSh1ZSksU2U9VWUodWUpLGtlPWQoe30sRSx7aXNFcXVhbDpELGlzTWF0Y2hpbmdLZXk6Vixpc1Byb21pc2U6cGUsbWF4U2l6ZTpiZSxvbkNhY2hlQWRkOnZlKHUod2UsWi5vbkNhY2hlQWRkLGNlLm9uQ2FjaGVBZGQpKSxvbkNhY2hlQ2hhbmdlOnZlKE9lKSxvbkNhY2hlSGl0OnZlKHUoSSxaLm9uQ2FjaGVIaXQsY2Uub25DYWNoZUhpdCkpLHRyYW5zZm9ybUtleTpTZX0pLEJlPW4oWSxrZSksRGU9ZWUoQmUse2V4cGlyYXRpb25zOmRlLG9wdGlvbnM6dWUsb3JpZ2luYWxGdW5jdGlvbjpZfSk7cmV0dXJuIHcmJihEZT1GZShEZSkpLE8oRGUsWS5uYW1lLHNlLnByb2ZpbGVOYW1lKSxEZX07WC5jbGVhclN0YXRzPVAsWC5jb2xsZWN0U3RhdHM9RixYLmNvbXBvc2U9ZnVuY3Rpb24oKXtyZXR1cm4gcC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKXx8WH0sWC5kZWVwPVgoe2lzRGVlcEVxdWFsOiEwfSksWC5nZXRTdGF0cz1HLFguaW5maW5pdGU9WCh7bWF4U2l6ZToxLzB9KSxYLmlzQ29sbGVjdGluZ1N0YXRzPWZ1bmN0aW9uKCl7cmV0dXJuIEwuaXNDb2xsZWN0aW5nU3RhdHN9LFguaXNNb2l6ZWQ9ZnVuY3Rpb24oWSl7cmV0dXJuIHR5cGVvZiBZPT0iZnVuY3Rpb24iJiYhIVkuaXNNb2l6ZWR9LFgubWF0Y2hlc0FyZz1mdW5jdGlvbihRKXtyZXR1cm4gWCh7bWF0Y2hlc0FyZzpRfSl9LFgubWF0Y2hlc0tleT1mdW5jdGlvbihRKXtyZXR1cm4gWCh7bWF0Y2hlc0tleTpRfSl9O2Z1bmN0aW9uIG9lKFEsWSl7aWYoWT09PSEwKXJldHVybiBYKHttYXhBZ2U6USx1cGRhdGVFeHBpcmU6WX0pO2lmKHR5cGVvZiBZPT0ib2JqZWN0Iil7dmFyIGllPVkub25FeHBpcmUsc2U9WS51cGRhdGVFeHBpcmU7cmV0dXJuIFgoe21heEFnZTpRLG9uRXhwaXJlOmllLHVwZGF0ZUV4cGlyZTpzZX0pfXJldHVybiBYKHR5cGVvZiBZPT0iZnVuY3Rpb24iP3ttYXhBZ2U6USxvbkV4cGlyZTpZLHVwZGF0ZUV4cGlyZTohMH06e21heEFnZTpRfSl9cmV0dXJuIFgubWF4QWdlPW9lLFgubWF4QXJncz1mdW5jdGlvbihRKXtyZXR1cm4gWCh7bWF4QXJnczpRfSl9LFgubWF4U2l6ZT1mdW5jdGlvbihRKXtyZXR1cm4gWCh7bWF4U2l6ZTpRfSl9LFgucHJvZmlsZT1mdW5jdGlvbihRKXtyZXR1cm4gWCh7cHJvZmlsZU5hbWU6UX0pfSxYLnByb21pc2U9WCh7aXNQcm9taXNlOiEwLHVwZGF0ZUV4cGlyZTohMH0pLFgucmVhY3Q9WCh7aXNSZWFjdDohMH0pLFguc2VyaWFsaXplPVgoe2lzU2VyaWFsaXplZDohMH0pLFguc2VyaWFsaXplV2l0aD1mdW5jdGlvbihRKXtyZXR1cm4gWCh7aXNTZXJpYWxpemVkOiEwLHNlcmlhbGl6ZXI6UX0pfSxYLnNoYWxsb3c9WCh7aXNTaGFsbG93RXF1YWw6ITB9KSxYLnRyYW5zZm9ybUFyZ3M9ZnVuY3Rpb24oUSl7cmV0dXJuIFgoe3RyYW5zZm9ybUFyZ3M6UX0pfSxYLnVwZGF0ZUNhY2hlRm9yS2V5PWZ1bmN0aW9uKFEpe3JldHVybiBYKHt1cGRhdGVDYWNoZUZvcktleTpRfSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYLCJkZWZhdWx0Iix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsdmFsdWU6WCx3cml0YWJsZTohMX0pLFh9KX0pKG1vaXplJDEpO3ZhciBtb2l6ZT1tb2l6ZUV4cG9ydHMsQVJSQVlfVFlQRT10eXBlb2YgRmxvYXQzMkFycmF5PCJ1Ij9GbG9hdDMyQXJyYXk6QXJyYXk7TWF0aC5oeXBvdHx8KE1hdGguaHlwb3Q9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGg7ZS0tOyl0Kz1hcmd1bWVudHNbZV0qYXJndW1lbnRzW2VdO3JldHVybiBNYXRoLnNxcnQodCl9KTtmdW5jdGlvbiBjcmVhdGUkMSgpe3ZhciB0PW5ldyBBUlJBWV9UWVBFKDE2KTtyZXR1cm4gQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYodFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wKSx0WzBdPTEsdFs1XT0xLHRbMTBdPTEsdFsxNV09MSx0fWZ1bmN0aW9uIGZyb21WYWx1ZXMkMSh0LGUsbixvLGQsaCxsLHUscCxnLHYsYixfLE8sVCxqKXt2YXIgTj1uZXcgQVJSQVlfVFlQRSgxNik7cmV0dXJuIE5bMF09dCxOWzFdPWUsTlsyXT1uLE5bM109byxOWzRdPWQsTls1XT1oLE5bNl09bCxOWzddPXUsTls4XT1wLE5bOV09ZyxOWzEwXT12LE5bMTFdPWIsTlsxMl09XyxOWzEzXT1PLE5bMTRdPVQsTlsxNV09aixOfWZ1bmN0aW9uIG11bHRpcGx5KHQsZSxuKXt2YXIgbz1lWzBdLGQ9ZVsxXSxoPWVbMl0sbD1lWzNdLHU9ZVs0XSxwPWVbNV0sZz1lWzZdLHY9ZVs3XSxiPWVbOF0sXz1lWzldLE89ZVsxMF0sVD1lWzExXSxqPWVbMTJdLE49ZVsxM10sQj1lWzE0XSxDPWVbMTVdLEw9blswXSxTPW5bMV0sUD1uWzJdLEY9blszXTtyZXR1cm4gdFswXT1MKm8rUyp1K1AqYitGKmosdFsxXT1MKmQrUypwK1AqXytGKk4sdFsyXT1MKmgrUypnK1AqTytGKkIsdFszXT1MKmwrUyp2K1AqVCtGKkMsTD1uWzRdLFM9bls1XSxQPW5bNl0sRj1uWzddLHRbNF09TCpvK1MqdStQKmIrRipqLHRbNV09TCpkK1MqcCtQKl8rRipOLHRbNl09TCpoK1MqZytQKk8rRipCLHRbN109TCpsK1MqditQKlQrRipDLEw9bls4XSxTPW5bOV0sUD1uWzEwXSxGPW5bMTFdLHRbOF09TCpvK1MqdStQKmIrRipqLHRbOV09TCpkK1MqcCtQKl8rRipOLHRbMTBdPUwqaCtTKmcrUCpPK0YqQix0WzExXT1MKmwrUyp2K1AqVCtGKkMsTD1uWzEyXSxTPW5bMTNdLFA9blsxNF0sRj1uWzE1XSx0WzEyXT1MKm8rUyp1K1AqYitGKmosdFsxM109TCpkK1MqcCtQKl8rRipOLHRbMTRdPUwqaCtTKmcrUCpPK0YqQix0WzE1XT1MKmwrUyp2K1AqVCtGKkMsdH1mdW5jdGlvbiBjcmVhdGUoKXt2YXIgdD1uZXcgQVJSQVlfVFlQRSg0KTtyZXR1cm4gQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCx0WzJdPTAsdFszXT0wKSx0fWZ1bmN0aW9uIGZyb21WYWx1ZXModCxlLG4sbyl7dmFyIGQ9bmV3IEFSUkFZX1RZUEUoNCk7cmV0dXJuIGRbMF09dCxkWzFdPWUsZFsyXT1uLGRbM109byxkfWZ1bmN0aW9uIHNjYWxlKHQsZSxuKXtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm4sdFsyXT1lWzJdKm4sdFszXT1lWzNdKm4sdH1mdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KHQsZSxuKXt2YXIgbz1lWzBdLGQ9ZVsxXSxoPWVbMl0sbD1lWzNdO3JldHVybiB0WzBdPW5bMF0qbytuWzRdKmQrbls4XSpoK25bMTJdKmwsdFsxXT1uWzFdKm8rbls1XSpkK25bOV0qaCtuWzEzXSpsLHRbMl09blsyXSpvK25bNl0qZCtuWzEwXSpoK25bMTRdKmwsdFszXT1uWzNdKm8rbls3XSpkK25bMTFdKmgrblsxNV0qbCx0fShmdW5jdGlvbigpe3ZhciB0PWNyZWF0ZSgpO3JldHVybiBmdW5jdGlvbihlLG4sbyxkLGgsbCl7dmFyIHUscDtmb3Iobnx8KG49NCksb3x8KG89MCksZD9wPU1hdGgubWluKGQqbitvLGUubGVuZ3RoKTpwPWUubGVuZ3RoLHU9bzt1PHA7dSs9bil0WzBdPWVbdV0sdFsxXT1lW3UrMV0sdFsyXT1lW3UrMl0sdFszXT1lW3UrM10saCh0LHQsbCksZVt1XT10WzBdLGVbdSsxXT10WzFdLGVbdSsyXT10WzJdLGVbdSszXT10WzNdO3JldHVybiBlfX0pKCk7Y2xhc3MgU3ByaW5nRGFtcGVye2NvbnN0cnVjdG9yKGUsbj0xNSxvPTE1KXt0aGlzLnRhcmdldD1lLHRoaXMuc3RpZmZuZXNzPW4sdGhpcy5kYW1waW5nPW8sdGhpcy52ZWxvY2l0eT10aGlzLl9pbml0aWFsaXplVmVsb2NpdHkoZSksdGhpcy5hbmltYXRpb25GcmFtZUlkPW51bGwsdGhpcy5jdXJyZW50VmFsdWVzPXRoaXMuX2Nsb25lKGUpLHRoaXMucGF1c2VkPSExLHRoaXMubG9nZ2luZz0hMX1faW5pdGlhbGl6ZVZlbG9jaXR5KGUpe2lmKHR5cGVvZiBlPT0ibnVtYmVyIilyZXR1cm4gMDtpZihBcnJheS5pc0FycmF5KGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpcmV0dXJuIGUubWFwKCgpPT4wKTt7Y29uc3Qgbj17fTtmb3IoY29uc3QgbyBpbiBlKW5bb109MDtyZXR1cm4gbn19X2Nsb25lKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP1suLi5lXTpBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/ZS5zbGljZSgpOnR5cGVvZiBlPT0ib2JqZWN0Ij97Li4uZX06ZX11cGRhdGVUYXJnZXQoZSl7dGhpcy50YXJnZXQ9ZX11cGRhdGVJbml0aWFsVmFsdWVzKGUpe3RoaXMuY3VycmVudFZhbHVlcz10aGlzLl9jbG9uZShlKX1faW50ZXJwb2xhdGVTcHJpbmcoZSxuLG8sZCxoLGwpe2NvbnN0IHU9bi1lLHA9ZCp1LGc9LWgqbyx2PXArZyxiPW8rdipsO3JldHVybntuZXdDdXJyZW50VmFsdWU6ZStiKmwsbmV3VmVsb2NpdHk6Yn19c3RlcChlKXtpZih0aGlzLnBhdXNlZClyZXR1cm4gdGhpcy5jdXJyZW50VmFsdWVzO2NvbnN0IG49KG8sZCxoKT0+dGhpcy5faW50ZXJwb2xhdGVTcHJpbmcobyxkLGgsdGhpcy5zdGlmZm5lc3MsdGhpcy5kYW1waW5nLGUpO2lmKHR5cGVvZiB0aGlzLnRhcmdldD09Im51bWJlciIpe2NvbnN0e25ld0N1cnJlbnRWYWx1ZTpvLG5ld1ZlbG9jaXR5OmR9PW4odGhpcy5jdXJyZW50VmFsdWVzLHRoaXMudGFyZ2V0LHRoaXMudmVsb2NpdHkpO3RoaXMuY3VycmVudFZhbHVlcz1vLHRoaXMudmVsb2NpdHk9ZH1lbHNlIGlmKEFycmF5LmlzQXJyYXkodGhpcy50YXJnZXQpfHxBcnJheUJ1ZmZlci5pc1ZpZXcodGhpcy50YXJnZXQpKWZvcihsZXQgbz0wO288dGhpcy50YXJnZXQubGVuZ3RoO28rKyl7Y29uc3R7bmV3Q3VycmVudFZhbHVlOmQsbmV3VmVsb2NpdHk6aH09bih0aGlzLmN1cnJlbnRWYWx1ZXNbb10sdGhpcy50YXJnZXRbb10sdGhpcy52ZWxvY2l0eVtvXSk7dGhpcy5jdXJyZW50VmFsdWVzW29dPWQsdGhpcy52ZWxvY2l0eVtvXT1ofWVsc2UgZm9yKGNvbnN0IG8gaW4gdGhpcy50YXJnZXQpe2NvbnN0e25ld0N1cnJlbnRWYWx1ZTpkLG5ld1ZlbG9jaXR5Omh9PW4odGhpcy5jdXJyZW50VmFsdWVzW29dLHRoaXMudGFyZ2V0W29dLHRoaXMudmVsb2NpdHlbb10pO3RoaXMuY3VycmVudFZhbHVlc1tvXT1kLHRoaXMudmVsb2NpdHlbb109aH1yZXR1cm4gdGhpcy5jdXJyZW50VmFsdWVzfWFuaW1hdGUoZSl7Y29uc29sZS5sb2coImFuaW1hdGluZy4uLiIsdGhpcy50YXJnZXQsdGhpcyk7Y29uc3Qgbj0xLzYwLG89KCk9Pnt0aGlzLmxvZ2dpbmcmJmNvbnNvbGUubG9nKCJsb29waW5nIHNwcmluZy4uLiIsdGhpcy50YXJnZXQsdGhpcyk7Y29uc3QgZD10aGlzLnN0ZXAobik7ZShkKSx0aGlzLmFuaW1hdGlvbkZyYW1lSWQ9cmFmRXhwb3J0cyhvKX07dGhpcy5zdG9wKCksdGhpcy5hbmltYXRpb25GcmFtZUlkPXJhZkV4cG9ydHMobyl9cGF1c2UoKXt0aGlzLnBhdXNlZD0hMH1yZXN1bWUoKXt0aGlzLnBhdXNlZD0hMX1zdG9wKCl7cmFmRXhwb3J0cy5jYW5jZWwodGhpcy5hbmltYXRpb25GcmFtZUlkKX19bW9pemUoKHQsZSk9PntsZXQgbj0hMSxvLGQ9bmV3IFByb21pc2UodT0+e289dX0pO3JldHVybntzZXQ6dT0+e24/ZD11OihuPSEwLG8odSkpfSxnZXQ6KCk9PmR9fSx7bWF4U2l6ZToxLzB9KTtjb25zdCBzdGF0ZT1tb2l6ZS5tYXhBcmdzKDIpKCh0LGUsbj0oKT0+e30pPT57bGV0IG87cmV0dXJue3NldDpsPT57bz1sfSxnZXQ6KCk9PihvPT09dm9pZCAwJiYobz1uKCkpLG8pfX0se21heFNpemU6MS8wfSksZ2V0R2xvYmFsQ2FtZXJhPW1vaXplLmluZmluaXRlKHQ9PmluZXJ0aWFsVHVybnRhYmxlQ2FtZXJhKHtwYW5EZWNheVRpbWU6MjAwLHpvb21EZWNheVRpbWU6MjAwLHJvdGF0aW9uRGVjYXlUaW1lOjUwMCxkaXN0YW5jZToyZTN9KSksZ2V0T3J0aG9ncmFwaGljQ2FtZXJhPW1vaXplLmluZmluaXRlKCh0LGUpPT5pbmVydGlhbFR1cm50YWJsZUNhbWVyYSh7cGhpOk1hdGguUEkvNCx0aGV0YTpNYXRoLlBJLzQsZGlzdGFuY2U6MjAwLGNlbnRlcjpbMCwwLDBdLGZvdlk6LjAxMzg4ODg4ODg4ODg4ODg4OCooTWF0aC5QSS8yKSxuZWFyOjIsZmFyOjQwMH0pKSx1cGRhdGVDYW1lcmFzPSh0LGUsbixvKT0+e2NvbnN0IGQ9Z2V0R2xvYmFsQ2FtZXJhKHQpLGg9e25lYXI6ZC5wYXJhbXMuZGlzdGFuY2UqLjEsZmFyOmQucGFyYW1zLmRpc3RhbmNlKjVlNH07ZC5yZXNpemUobi9vKSxkLnRpY2soe2Zvdlk6TWF0aC5QSS8zLC4uLmh9KTtjb25zdCBsPWdldE9ydGhvZ3JhcGhpY0NhbWVyYSh0LCJ6b29tZWQiKTtsLnBhcmFtcy5kaXN0YW5jZT1kLnBhcmFtcy5kaXN0YW5jZSxsLnBhcmFtcy5jZW50ZXI9WzAsMCwwXSxsLnJlc2l6ZShuL28pLGwudGljayhoKTtjb25zdCB1PWdldE9ydGhvZ3JhcGhpY0NhbWVyYSh0LCJmaXhlZCIpO3UucmVzaXplKG4vbyksdS50aWNrKHtuZWFyOnUucGFyYW1zLmRpc3RhbmNlKi4xLGZhcjp1LnBhcmFtcy5kaXN0YW5jZSoxZTR9KTtjb25zdCBwPW5ldyBGbG9hdDMyQXJyYXkoZC5zdGF0ZS5wcm9qZWN0aW9uKSxnPW5ldyBGbG9hdDMyQXJyYXkoZC5zdGF0ZS52aWV3KSx2PW5ldyBGbG9hdDMyQXJyYXkobC5zdGF0ZS5wcm9qZWN0aW9uKSxiPW5ldyBGbG9hdDMyQXJyYXkobC5zdGF0ZS52aWV3KSxfPW5ldyBGbG9hdDMyQXJyYXkodS5zdGF0ZS5wcm9qZWN0aW9uKSxPPW5ldyBGbG9hdDMyQXJyYXkodS5zdGF0ZS52aWV3KSxUPW5ldyBGbG9hdDMyQXJyYXkoW2QucGFyYW1zLmRpc3RhbmNlLGQucGFyYW1zLnJvdGF0aW9uQ2VudGVyWzBdLGQucGFyYW1zLnJvdGF0aW9uQ2VudGVyWzFdLGQucGFyYW1zLnJvdGF0aW9uQ2VudGVyWzJdLGQucGFyYW1zLmNlbnRlclswXSxkLnBhcmFtcy5jZW50ZXJbMV0sZC5wYXJhbXMuY2VudGVyWzJdLGQucGFyYW1zLnBoaSxkLnBhcmFtcy50aGV0YV0pO2UodHJhbnNmZXIocCxbcC5idWZmZXJdKSx0cmFuc2ZlcihnLFtnLmJ1ZmZlcl0pLHRyYW5zZmVyKHYsW3YuYnVmZmVyXSksdHJhbnNmZXIoYixbYi5idWZmZXJdKSx0cmFuc2ZlcihfLFtfLmJ1ZmZlcl0pLHRyYW5zZmVyKE8sW08uYnVmZmVyXSksdHJhbnNmZXIoVCxbVC5idWZmZXJdKSl9LGdldENlbnRlclNwcmluZ0RhbXBlcj10PT5zdGF0ZSh0LCJjZW50ZXJTcHJpbmdEYW1wZXIiLCgpPT5uZXcgU3ByaW5nRGFtcGVyKGdldEdsb2JhbENhbWVyYSh0KS5wYXJhbXMuY2VudGVyKSkuZ2V0KCksY2VudGVyVXBkYXRlPWN1cnJ5KCh0LGUpPT57Y29uc3Qgbj1nZXRHbG9iYWxDYW1lcmEodCk7bi5wYXJhbXMuY2VudGVyPWV9KSxzdGFydENlbnRlclNwcmluZz1kZWJvdW5jZSh0PT57Y29uc29sZS5kZWJ1Zygic3RhcnRpbmcgY2VudGVyIHNwcmluZyBmb3IiLHQpO2NvbnN0IGU9Z2V0R2xvYmFsQ2FtZXJhKHQpLG49Z2V0Q2VudGVyU3ByaW5nRGFtcGVyKHQpO24udXBkYXRlSW5pdGlhbFZhbHVlcyhlLnBhcmFtcy5jZW50ZXIpLG4uYW5pbWF0ZShjZW50ZXJVcGRhdGUodCkpfSwxMDApLHNldENhbWVyYUNlbnRlcj0odCxlLG49M2UzKT0+e2NvbnNvbGUuZGVidWcoInNldENhbWVyYUNlbnRlciwgdXBkYXRpbmcgdGFyZ2V0IixbLi4uZV0pO2NvbnN0IG89Z2V0R2xvYmFsQ2FtZXJhKHQpLGQ9Z2V0Q2VudGVyU3ByaW5nRGFtcGVyKHQpO28ucGFyYW1zLnJvdGF0aW9uQ2VudGVyPWUsZC51cGRhdGVUYXJnZXQoZSksc3RhcnRDZW50ZXJTcHJpbmcodCl9LGdldERpc3RhbmNlU3ByaW5nRGFtcGVyPXQ9PnN0YXRlKHQsImRpc3RhbmNlU3ByaW5nRGFtcGVyIiwoKT0+bmV3IFNwcmluZ0RhbXBlcihnZXRHbG9iYWxDYW1lcmEodCkucGFyYW1zLmRpc3RhbmNlKSkuZ2V0KCksZGlzdGFuY2VVcGRhdGU9KHQsZSk9Pntjb25zdCBuPWdldEdsb2JhbENhbWVyYSh0KTtuLnBhcmFtcy5kaXN0YW5jZT1lfSxzdGFydERpc3RhbmNlU3ByaW5nPWRlYm91bmNlKHQ9Pntjb25zdCBlPWdldEdsb2JhbENhbWVyYSh0KSxuPWdldERpc3RhbmNlU3ByaW5nRGFtcGVyKHQpO24udXBkYXRlVGFyZ2V0KGUucGFyYW1zLmRpc3RhbmNlKSxuLnVwZGF0ZUluaXRpYWxWYWx1ZXMoZS5wYXJhbXMuZGlzdGFuY2UpLG4uYW5pbWF0ZShkaXN0YW5jZVVwZGF0ZSl9LDEwMCksc2V0Q2FtZXJhRGlzdGFuY2U9KHQsZSxuPTVlMyk9PntnZXREaXN0YW5jZVNwcmluZ0RhbXBlcih0KS51cGRhdGVUYXJnZXQoZSl9LHN0YXJ0Q2FtZXJhQW5pbWF0aW9uPXQ9PntzdGFydENlbnRlclNwcmluZyh0KSxzdGFydERpc3RhbmNlU3ByaW5nKHQpfSxnZXRDYW1lcmFBbmltYXRpb25TdGF0ZT10PT5zdGF0ZSh0LCJjYW1lcmFBbmltYXRpb25TdGF0ZSIsKCk9Pih7cGFubmluZzohMSx6b29taW5nOiExfSkpLmdldCgpLHN0YXJ0UGFubmluZz10PT57Y29uc3QgZT1nZXRDYW1lcmFBbmltYXRpb25TdGF0ZSh0KTtlLnBhbm5pbmc9ITAsZ2V0Q2VudGVyU3ByaW5nRGFtcGVyKHQpLnN0b3AoKX0sc3RvcFBhbm5pbmc9dD0+e2NvbnN0IGU9Z2V0Q2FtZXJhQW5pbWF0aW9uU3RhdGUodCk7ZS5wYW5uaW5nPSExfSxzdGFydFpvb21pbmc9dD0+e2NvbnN0IGU9Z2V0Q2FtZXJhQW5pbWF0aW9uU3RhdGUodCk7ZS56b29taW5nPSEwLGdldERpc3RhbmNlU3ByaW5nRGFtcGVyKHQpLnN0b3AoKX0sc3RvcFpvb21pbmc9dD0+e2NvbnN0IGU9Z2V0Q2FtZXJhQW5pbWF0aW9uU3RhdGUodCk7ZS56b29taW5nPSExLHN0YXJ0RGlzdGFuY2VTcHJpbmcodCl9LHpvb21HbG9iYWxDYW1lcmE9KHQsZSxuLG8pPT57Y29uc3QgZD1nZXRHbG9iYWxDYW1lcmEodCk7KGQucGFyYW1zLmRpc3RhbmNlPjI1fHxvPjApJiZkLnpvb20oZSxuLG8pfSxwYW5HbG9iYWxDYW1lcmE9KHQsLi4uZSk9PntnZXRHbG9iYWxDYW1lcmEodCkucGFuKC4uLmUpfSxnZXRHbG9iYWxDYW1lcmFQYXJhbXM9dD0+Z2V0R2xvYmFsQ2FtZXJhKHQpLnBhcmFtcyxjb21wdXRlU2NyZWVuUG9zaXRpb249KHQsW2UsbixvXSk9Pntjb25zdHtwcm9qZWN0aW9uOmQsdmlldzpofT1nZXRHbG9iYWxDYW1lcmEodCkuc3RhdGUsbD1mcm9tVmFsdWVzKGUsbixvLDEpLHU9Y3JlYXRlKCkscD1jcmVhdGUoKSxnPWZyb21WYWx1ZXMkMSguLi5kKSx2PWZyb21WYWx1ZXMkMSguLi5oKSxiPWNyZWF0ZSQxKCk7cmV0dXJuIG11bHRpcGx5KGIsZyx2KSx0cmFuc2Zvcm1NYXQ0KHUsbCxiKSxzY2FsZShwLHUsMS91WzNdKSxbcFswXSxwWzFdLHBbMl1dfTt2YXIgY2FtZXJhQW5pbWF0aW9uPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNvbXB1dGVTY3JlZW5Qb3NpdGlvbixnZXRHbG9iYWxDYW1lcmEsZ2V0R2xvYmFsQ2FtZXJhUGFyYW1zLHBhbkdsb2JhbENhbWVyYSxzZXRDYW1lcmFDZW50ZXIsc2V0Q2FtZXJhRGlzdGFuY2Usc3RhcnRDYW1lcmFBbmltYXRpb24sc3RhcnRQYW5uaW5nLHN0YXJ0Wm9vbWluZyxzdG9wUGFubmluZyxzdG9wWm9vbWluZyx1cGRhdGVDYW1lcmFzLHpvb21HbG9iYWxDYW1lcmF9KTtleHBvc2UkMSh7Li4uZGIsLi4ubGF5b3V0LC4uLmNhbWVyYUFuaW1hdGlvbn0pOwo=",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){let X;try{if(X=blob&&(window.URL||window.webkitURL).createObjectURL(blob),!X)throw"";return new Worker(X)}catch{return new Worker("data:application/javascript;base64,"+encodedJs,{type:"module"})}finally{X&&(window.URL||window.webkitURL).revokeObjectURL(X)}}var abstractLevel$1={},abstractLevel={},levelSupports={};levelSupports.supports=function(...Z){const G=Z.reduce((W,F)=>Object.assign(W,F),{});return Object.assign(G,{snapshots:G.snapshots||!1,permanence:G.permanence||!1,seek:G.seek||!1,clear:G.clear||!1,getMany:G.getMany||!1,keyIterator:G.keyIterator||!1,valueIterator:G.valueIterator||!1,iteratorNextv:G.iteratorNextv||!1,iteratorAll:G.iteratorAll||!1,status:G.status||!1,createIfMissing:G.createIfMissing||!1,errorIfExists:G.errorIfExists||!1,deferredOpen:G.deferredOpen||!1,promises:G.promises||!1,streams:G.streams||!1,encodings:Object.assign({},G.encodings),events:Object.assign({},G.events),additionalMethods:Object.assign({},G.additionalMethods)})};var levelTranscoder={},moduleError=class extends Error{constructor(Z,G){super(Z||""),typeof G=="object"&&G!==null&&(G.code&&(this.code=String(G.code)),G.expected&&(this.expected=!0),G.transient&&(this.transient=!0),G.cause&&(this.cause=G.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},encodings$1={},buffer$1={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=Y,base64Js.toByteArray=Q,base64Js.fromByteArray=te;for(var X=[],Z=[],G=typeof Uint8Array<"u"?Uint8Array:Array,W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0,U=W.length;F<U;++F)X[F]=W[F],Z[W.charCodeAt(F)]=F;Z["-".charCodeAt(0)]=62,Z["_".charCodeAt(0)]=63;function J(ie){var ne=ie.length;if(ne%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ce=ie.indexOf("=");ce===-1&&(ce=ne);var le=ce===ne?0:4-ce%4;return[ce,le]}function Y(ie){var ne=J(ie),ce=ne[0],le=ne[1];return(ce+le)*3/4-le}function D(ie,ne,ce){return(ne+ce)*3/4-ce}function Q(ie){var ne,ce=J(ie),le=ce[0],se=ce[1],pe=new G(D(ie,le,se)),ue=0,ae=se>0?le-4:le,de;for(de=0;de<ae;de+=4)ne=Z[ie.charCodeAt(de)]<<18|Z[ie.charCodeAt(de+1)]<<12|Z[ie.charCodeAt(de+2)]<<6|Z[ie.charCodeAt(de+3)],pe[ue++]=ne>>16&255,pe[ue++]=ne>>8&255,pe[ue++]=ne&255;return se===2&&(ne=Z[ie.charCodeAt(de)]<<2|Z[ie.charCodeAt(de+1)]>>4,pe[ue++]=ne&255),se===1&&(ne=Z[ie.charCodeAt(de)]<<10|Z[ie.charCodeAt(de+1)]<<4|Z[ie.charCodeAt(de+2)]>>2,pe[ue++]=ne>>8&255,pe[ue++]=ne&255),pe}function ee(ie){return X[ie>>18&63]+X[ie>>12&63]+X[ie>>6&63]+X[ie&63]}function q(ie,ne,ce){for(var le,se=[],pe=ne;pe<ce;pe+=3)le=(ie[pe]<<16&16711680)+(ie[pe+1]<<8&65280)+(ie[pe+2]&255),se.push(ee(le));return se.join("")}function te(ie){for(var ne,ce=ie.length,le=ce%3,se=[],pe=16383,ue=0,ae=ce-le;ue<ae;ue+=pe)se.push(q(ie,ue,ue+pe>ae?ae:ue+pe));return le===1?(ne=ie[ce-1],se.push(X[ne>>2]+X[ne<<4&63]+"==")):le===2&&(ne=(ie[ce-2]<<8)+ie[ce-1],se.push(X[ne>>10]+X[ne>>4&63]+X[ne<<2&63]+"=")),se.join("")}return base64Js}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(X,Z,G,W,F){var U,J,Y=F*8-W-1,D=(1<<Y)-1,Q=D>>1,ee=-7,q=G?F-1:0,te=G?-1:1,ie=X[Z+q];for(q+=te,U=ie&(1<<-ee)-1,ie>>=-ee,ee+=Y;ee>0;U=U*256+X[Z+q],q+=te,ee-=8);for(J=U&(1<<-ee)-1,U>>=-ee,ee+=W;ee>0;J=J*256+X[Z+q],q+=te,ee-=8);if(U===0)U=1-Q;else{if(U===D)return J?NaN:(ie?-1:1)*(1/0);J=J+Math.pow(2,W),U=U-Q}return(ie?-1:1)*J*Math.pow(2,U-W)};ieee754.write=function(X,Z,G,W,F,U){var J,Y,D,Q=U*8-F-1,ee=(1<<Q)-1,q=ee>>1,te=F===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=W?0:U-1,ne=W?1:-1,ce=Z<0||Z===0&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(Y=isNaN(Z)?1:0,J=ee):(J=Math.floor(Math.log(Z)/Math.LN2),Z*(D=Math.pow(2,-J))<1&&(J--,D*=2),J+q>=1?Z+=te/D:Z+=te*Math.pow(2,1-q),Z*D>=2&&(J++,D/=2),J+q>=ee?(Y=0,J=ee):J+q>=1?(Y=(Z*D-1)*Math.pow(2,F),J=J+q):(Y=Z*Math.pow(2,q-1)*Math.pow(2,F),J=0));F>=8;X[G+ie]=Y&255,ie+=ne,Y/=256,F-=8);for(J=J<<F|Y,Q+=F;Q>0;X[G+ie]=J&255,ie+=ne,J/=256,Q-=8);X[G+ie-ne]|=ce*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(X){const Z=requireBase64Js(),G=ieee754,W=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;X.Buffer=Y,X.SlowBuffer=pe,X.INSPECT_MAX_BYTES=50;const F=2147483647;X.kMaxLength=F,Y.TYPED_ARRAY_SUPPORT=U(),!Y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function U(){try{const Ve=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(Ve,oe),Ve.foo()===42}catch{return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}});function J(Ve){if(Ve>F)throw new RangeError('The value "'+Ve+'" is invalid for option "size"');const oe=new Uint8Array(Ve);return Object.setPrototypeOf(oe,Y.prototype),oe}function Y(Ve,oe,me){if(typeof Ve=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return q(Ve)}return D(Ve,oe,me)}Y.poolSize=8192;function D(Ve,oe,me){if(typeof Ve=="string")return te(Ve,oe);if(ArrayBuffer.isView(Ve))return ne(Ve);if(Ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve);if($e(Ve,ArrayBuffer)||Ve&&$e(Ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(Ve,SharedArrayBuffer)||Ve&&$e(Ve.buffer,SharedArrayBuffer)))return ce(Ve,oe,me);if(typeof Ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Se=Ve.valueOf&&Ve.valueOf();if(Se!=null&&Se!==Ve)return Y.from(Se,oe,me);const Fe=le(Ve);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ve[Symbol.toPrimitive]=="function")return Y.from(Ve[Symbol.toPrimitive]("string"),oe,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve)}Y.from=function(Ve,oe,me){return D(Ve,oe,me)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array);function Q(Ve){if(typeof Ve!="number")throw new TypeError('"size" argument must be of type number');if(Ve<0)throw new RangeError('The value "'+Ve+'" is invalid for option "size"')}function ee(Ve,oe,me){return Q(Ve),Ve<=0?J(Ve):oe!==void 0?typeof me=="string"?J(Ve).fill(oe,me):J(Ve).fill(oe):J(Ve)}Y.alloc=function(Ve,oe,me){return ee(Ve,oe,me)};function q(Ve){return Q(Ve),J(Ve<0?0:se(Ve)|0)}Y.allocUnsafe=function(Ve){return q(Ve)},Y.allocUnsafeSlow=function(Ve){return q(Ve)};function te(Ve,oe){if((typeof oe!="string"||oe==="")&&(oe="utf8"),!Y.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);const me=ue(Ve,oe)|0;let Se=J(me);const Fe=Se.write(Ve,oe);return Fe!==me&&(Se=Se.slice(0,Fe)),Se}function ie(Ve){const oe=Ve.length<0?0:se(Ve.length)|0,me=J(oe);for(let Se=0;Se<oe;Se+=1)me[Se]=Ve[Se]&255;return me}function ne(Ve){if($e(Ve,Uint8Array)){const oe=new Uint8Array(Ve);return ce(oe.buffer,oe.byteOffset,oe.byteLength)}return ie(Ve)}function ce(Ve,oe,me){if(oe<0||Ve.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Ve.byteLength<oe+(me||0))throw new RangeError('"length" is outside of buffer bounds');let Se;return oe===void 0&&me===void 0?Se=new Uint8Array(Ve):me===void 0?Se=new Uint8Array(Ve,oe):Se=new Uint8Array(Ve,oe,me),Object.setPrototypeOf(Se,Y.prototype),Se}function le(Ve){if(Y.isBuffer(Ve)){const oe=se(Ve.length)|0,me=J(oe);return me.length===0||Ve.copy(me,0,0,oe),me}if(Ve.length!==void 0)return typeof Ve.length!="number"||we(Ve.length)?J(0):ie(Ve);if(Ve.type==="Buffer"&&Array.isArray(Ve.data))return ie(Ve.data)}function se(Ve){if(Ve>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return Ve|0}function pe(Ve){return+Ve!=Ve&&(Ve=0),Y.alloc(+Ve)}Y.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==Y.prototype},Y.compare=function(oe,me){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),$e(me,Uint8Array)&&(me=Y.from(me,me.offset,me.byteLength)),!Y.isBuffer(oe)||!Y.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===me)return 0;let Se=oe.length,Fe=me.length;for(let Ke=0,Ae=Math.min(Se,Fe);Ke<Ae;++Ke)if(oe[Ke]!==me[Ke]){Se=oe[Ke],Fe=me[Ke];break}return Se<Fe?-1:Fe<Se?1:0},Y.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(oe,me){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return Y.alloc(0);let Se;if(me===void 0)for(me=0,Se=0;Se<oe.length;++Se)me+=oe[Se].length;const Fe=Y.allocUnsafe(me);let Ke=0;for(Se=0;Se<oe.length;++Se){let Ae=oe[Se];if($e(Ae,Uint8Array))Ke+Ae.length>Fe.length?(Y.isBuffer(Ae)||(Ae=Y.from(Ae)),Ae.copy(Fe,Ke)):Uint8Array.prototype.set.call(Fe,Ae,Ke);else if(Y.isBuffer(Ae))Ae.copy(Fe,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=Ae.length}return Fe};function ue(Ve,oe){if(Y.isBuffer(Ve))return Ve.length;if(ArrayBuffer.isView(Ve)||$e(Ve,ArrayBuffer))return Ve.byteLength;if(typeof Ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ve);const me=Ve.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&me===0)return 0;let Fe=!1;for(;;)switch(oe){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return ze(Ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return He(Ve).length;default:if(Fe)return Se?-1:ze(Ve).length;oe=(""+oe).toLowerCase(),Fe=!0}}Y.byteLength=ue;function ae(Ve,oe,me){let Se=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,oe>>>=0,me<=oe))return"";for(Ve||(Ve="utf8");;)switch(Ve){case"hex":return xe(this,oe,me);case"utf8":case"utf-8":return re(this,oe,me);case"ascii":return ve(this,oe,me);case"latin1":case"binary":return Te(this,oe,me);case"base64":return ye(this,oe,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye(this,oe,me);default:if(Se)throw new TypeError("Unknown encoding: "+Ve);Ve=(Ve+"").toLowerCase(),Se=!0}}Y.prototype._isBuffer=!0;function de(Ve,oe,me){const Se=Ve[oe];Ve[oe]=Ve[me],Ve[me]=Se}Y.prototype.swap16=function(){const oe=this.length;if(oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let me=0;me<oe;me+=2)de(this,me,me+1);return this},Y.prototype.swap32=function(){const oe=this.length;if(oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let me=0;me<oe;me+=4)de(this,me,me+3),de(this,me+1,me+2);return this},Y.prototype.swap64=function(){const oe=this.length;if(oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let me=0;me<oe;me+=8)de(this,me,me+7),de(this,me+1,me+6),de(this,me+2,me+5),de(this,me+3,me+4);return this},Y.prototype.toString=function(){const oe=this.length;return oe===0?"":arguments.length===0?re(this,0,oe):ae.apply(this,arguments)},Y.prototype.toLocaleString=Y.prototype.toString,Y.prototype.equals=function(oe){if(!Y.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe?!0:Y.compare(this,oe)===0},Y.prototype.inspect=function(){let oe="";const me=X.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(oe+=" ... "),"<Buffer "+oe+">"},W&&(Y.prototype[W]=Y.prototype.inspect),Y.prototype.compare=function(oe,me,Se,Fe,Ke){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),!Y.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof oe);if(me===void 0&&(me=0),Se===void 0&&(Se=oe?oe.length:0),Fe===void 0&&(Fe=0),Ke===void 0&&(Ke=this.length),me<0||Se>oe.length||Fe<0||Ke>this.length)throw new RangeError("out of range index");if(Fe>=Ke&&me>=Se)return 0;if(Fe>=Ke)return-1;if(me>=Se)return 1;if(me>>>=0,Se>>>=0,Fe>>>=0,Ke>>>=0,this===oe)return 0;let Ae=Ke-Fe,rt=Se-me;const vt=Math.min(Ae,rt),Vt=this.slice(Fe,Ke),Wt=oe.slice(me,Se);for(let ft=0;ft<vt;++ft)if(Vt[ft]!==Wt[ft]){Ae=Vt[ft],rt=Wt[ft];break}return Ae<rt?-1:rt<Ae?1:0};function be(Ve,oe,me,Se,Fe){if(Ve.length===0)return-1;if(typeof me=="string"?(Se=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,we(me)&&(me=Fe?0:Ve.length-1),me<0&&(me=Ve.length+me),me>=Ve.length){if(Fe)return-1;me=Ve.length-1}else if(me<0)if(Fe)me=0;else return-1;if(typeof oe=="string"&&(oe=Y.from(oe,Se)),Y.isBuffer(oe))return oe.length===0?-1:he(Ve,oe,me,Se,Fe);if(typeof oe=="number")return oe=oe&255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(Ve,oe,me):Uint8Array.prototype.lastIndexOf.call(Ve,oe,me):he(Ve,[oe],me,Se,Fe);throw new TypeError("val must be string, number or Buffer")}function he(Ve,oe,me,Se,Fe){let Ke=1,Ae=Ve.length,rt=oe.length;if(Se!==void 0&&(Se=String(Se).toLowerCase(),Se==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if(Ve.length<2||oe.length<2)return-1;Ke=2,Ae/=2,rt/=2,me/=2}function vt(Wt,ft){return Ke===1?Wt[ft]:Wt.readUInt16BE(ft*Ke)}let Vt;if(Fe){let Wt=-1;for(Vt=me;Vt<Ae;Vt++)if(vt(Ve,Vt)===vt(oe,Wt===-1?0:Vt-Wt)){if(Wt===-1&&(Wt=Vt),Vt-Wt+1===rt)return Wt*Ke}else Wt!==-1&&(Vt-=Vt-Wt),Wt=-1}else for(me+rt>Ae&&(me=Ae-rt),Vt=me;Vt>=0;Vt--){let Wt=!0;for(let ft=0;ft<rt;ft++)if(vt(Ve,Vt+ft)!==vt(oe,ft)){Wt=!1;break}if(Wt)return Vt}return-1}Y.prototype.includes=function(oe,me,Se){return this.indexOf(oe,me,Se)!==-1},Y.prototype.indexOf=function(oe,me,Se){return be(this,oe,me,Se,!0)},Y.prototype.lastIndexOf=function(oe,me,Se){return be(this,oe,me,Se,!1)};function Le(Ve,oe,me,Se){me=Number(me)||0;const Fe=Ve.length-me;Se?(Se=Number(Se),Se>Fe&&(Se=Fe)):Se=Fe;const Ke=oe.length;Se>Ke/2&&(Se=Ke/2);let Ae;for(Ae=0;Ae<Se;++Ae){const rt=parseInt(oe.substr(Ae*2,2),16);if(we(rt))return Ae;Ve[me+Ae]=rt}return Ae}function Xe(Ve,oe,me,Se){return Pe(ze(oe,Ve.length-me),Ve,me,Se)}function We(Ve,oe,me,Se){return Pe(Ee(oe),Ve,me,Se)}function fe(Ve,oe,me,Se){return Pe(He(oe),Ve,me,Se)}function Re(Ve,oe,me,Se){return Pe(_e(oe,Ve.length-me),Ve,me,Se)}Y.prototype.write=function(oe,me,Se,Fe){if(me===void 0)Fe="utf8",Se=this.length,me=0;else if(Se===void 0&&typeof me=="string")Fe=me,Se=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(Se)?(Se=Se>>>0,Fe===void 0&&(Fe="utf8")):(Fe=Se,Se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ke=this.length-me;if((Se===void 0||Se>Ke)&&(Se=Ke),oe.length>0&&(Se<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let Ae=!1;for(;;)switch(Fe){case"hex":return Le(this,oe,me,Se);case"utf8":case"utf-8":return Xe(this,oe,me,Se);case"ascii":case"latin1":case"binary":return We(this,oe,me,Se);case"base64":return fe(this,oe,me,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,oe,me,Se);default:if(Ae)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ae=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(Ve,oe,me){return oe===0&&me===Ve.length?Z.fromByteArray(Ve):Z.fromByteArray(Ve.slice(oe,me))}function re(Ve,oe,me){me=Math.min(Ve.length,me);const Se=[];let Fe=oe;for(;Fe<me;){const Ke=Ve[Fe];let Ae=null,rt=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Fe+rt<=me){let vt,Vt,Wt,ft;switch(rt){case 1:Ke<128&&(Ae=Ke);break;case 2:vt=Ve[Fe+1],(vt&192)===128&&(ft=(Ke&31)<<6|vt&63,ft>127&&(Ae=ft));break;case 3:vt=Ve[Fe+1],Vt=Ve[Fe+2],(vt&192)===128&&(Vt&192)===128&&(ft=(Ke&15)<<12|(vt&63)<<6|Vt&63,ft>2047&&(ft<55296||ft>57343)&&(Ae=ft));break;case 4:vt=Ve[Fe+1],Vt=Ve[Fe+2],Wt=Ve[Fe+3],(vt&192)===128&&(Vt&192)===128&&(Wt&192)===128&&(ft=(Ke&15)<<18|(vt&63)<<12|(Vt&63)<<6|Wt&63,ft>65535&&ft<1114112&&(Ae=ft))}}Ae===null?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,Se.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),Se.push(Ae),Fe+=rt}return Ge(Se)}const Ze=4096;function Ge(Ve){const oe=Ve.length;if(oe<=Ze)return String.fromCharCode.apply(String,Ve);let me="",Se=0;for(;Se<oe;)me+=String.fromCharCode.apply(String,Ve.slice(Se,Se+=Ze));return me}function ve(Ve,oe,me){let Se="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)Se+=String.fromCharCode(Ve[Fe]&127);return Se}function Te(Ve,oe,me){let Se="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)Se+=String.fromCharCode(Ve[Fe]);return Se}function xe(Ve,oe,me){const Se=Ve.length;(!oe||oe<0)&&(oe=0),(!me||me<0||me>Se)&&(me=Se);let Fe="";for(let Ke=oe;Ke<me;++Ke)Fe+=Ue[Ve[Ke]];return Fe}function Ye(Ve,oe,me){const Se=Ve.slice(oe,me);let Fe="";for(let Ke=0;Ke<Se.length-1;Ke+=2)Fe+=String.fromCharCode(Se[Ke]+Se[Ke+1]*256);return Fe}Y.prototype.slice=function(oe,me){const Se=this.length;oe=~~oe,me=me===void 0?Se:~~me,oe<0?(oe+=Se,oe<0&&(oe=0)):oe>Se&&(oe=Se),me<0?(me+=Se,me<0&&(me=0)):me>Se&&(me=Se),me<oe&&(me=oe);const Fe=this.subarray(oe,me);return Object.setPrototypeOf(Fe,Y.prototype),Fe};function ge(Ve,oe,me){if(Ve%1!==0||Ve<0)throw new RangeError("offset is not uint");if(Ve+oe>me)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Fe},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=this[oe+--me],Ke=1;for(;me>0&&(Ke*=256);)Fe+=this[oe+--me]*Ke;return Fe},Y.prototype.readUint8=Y.prototype.readUInt8=function(oe,me){return oe=oe>>>0,me||ge(oe,1,this.length),this[oe]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(oe,me){return oe=oe>>>0,me||ge(oe,2,this.length),this[oe]|this[oe+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(oe,me){return oe=oe>>>0,me||ge(oe,2,this.length),this[oe]<<8|this[oe+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+this[oe+3]*16777216},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),this[oe]*16777216+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},Y.prototype.readBigUInt64LE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24,Ke=this[++oe]+this[++oe]*2**8+this[++oe]*2**16+Se*2**24;return BigInt(Fe)+(BigInt(Ke)<<BigInt(32))}),Y.prototype.readBigUInt64BE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=me*2**24+this[++oe]*2**16+this[++oe]*2**8+this[++oe],Ke=this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+Se;return(BigInt(Fe)<<BigInt(32))+BigInt(Ke)}),Y.prototype.readIntLE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Ke*=128,Fe>=Ke&&(Fe-=Math.pow(2,8*me)),Fe},Y.prototype.readIntBE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=me,Ke=1,Ae=this[oe+--Fe];for(;Fe>0&&(Ke*=256);)Ae+=this[oe+--Fe]*Ke;return Ke*=128,Ae>=Ke&&(Ae-=Math.pow(2,8*me)),Ae},Y.prototype.readInt8=function(oe,me){return oe=oe>>>0,me||ge(oe,1,this.length),this[oe]&128?(255-this[oe]+1)*-1:this[oe]},Y.prototype.readInt16LE=function(oe,me){oe=oe>>>0,me||ge(oe,2,this.length);const Se=this[oe]|this[oe+1]<<8;return Se&32768?Se|4294901760:Se},Y.prototype.readInt16BE=function(oe,me){oe=oe>>>0,me||ge(oe,2,this.length);const Se=this[oe+1]|this[oe]<<8;return Se&32768?Se|4294901760:Se},Y.prototype.readInt32LE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},Y.prototype.readInt32BE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},Y.prototype.readBigInt64LE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=this[oe+4]+this[oe+5]*2**8+this[oe+6]*2**16+(Se<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24)}),Y.prototype.readBigInt64BE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=(me<<24)+this[++oe]*2**16+this[++oe]*2**8+this[++oe];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+Se)}),Y.prototype.readFloatLE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),G.read(this,oe,!0,23,4)},Y.prototype.readFloatBE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),G.read(this,oe,!1,23,4)},Y.prototype.readDoubleLE=function(oe,me){return oe=oe>>>0,me||ge(oe,8,this.length),G.read(this,oe,!0,52,8)},Y.prototype.readDoubleBE=function(oe,me){return oe=oe>>>0,me||ge(oe,8,this.length),G.read(this,oe,!1,52,8)};function Me(Ve,oe,me,Se,Fe,Ke){if(!Y.isBuffer(Ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Fe||oe<Ke)throw new RangeError('"value" argument is out of bounds');if(me+Se>Ve.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,Se=Se>>>0,!Fe){const rt=Math.pow(2,8*Se)-1;Me(this,oe,me,Se,rt,0)}let Ke=1,Ae=0;for(this[me]=oe&255;++Ae<Se&&(Ke*=256);)this[me+Ae]=oe/Ke&255;return me+Se},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,Se=Se>>>0,!Fe){const rt=Math.pow(2,8*Se)-1;Me(this,oe,me,Se,rt,0)}let Ke=Se-1,Ae=1;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)this[me+Ke]=oe/Ae&255;return me+Se},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,1,255,0),this[me]=oe&255,me+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,65535,0),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,65535,0),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,4294967295,0),this[me+3]=oe>>>24,this[me+2]=oe>>>16,this[me+1]=oe>>>8,this[me]=oe&255,me+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,4294967295,0),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4};function je(Ve,oe,me,Se,Fe){Je(oe,Se,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,me}function tt(Ve,oe,me,Se,Fe){Je(oe,Se,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me+7]=Ke,Ke=Ke>>8,Ve[me+6]=Ke,Ke=Ke>>8,Ve[me+5]=Ke,Ke=Ke>>8,Ve[me+4]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me+3]=Ae,Ae=Ae>>8,Ve[me+2]=Ae,Ae=Ae>>8,Ve[me+1]=Ae,Ae=Ae>>8,Ve[me]=Ae,me+8}Y.prototype.writeBigUInt64LE=et(function(oe,me=0){return je(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=et(function(oe,me=0){return tt(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*Se-1);Me(this,oe,me,Se,vt-1,-vt)}let Ke=0,Ae=1,rt=0;for(this[me]=oe&255;++Ke<Se&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke-1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+Se},Y.prototype.writeIntBE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*Se-1);Me(this,oe,me,Se,vt-1,-vt)}let Ke=Se-1,Ae=1,rt=0;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke+1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+Se},Y.prototype.writeInt8=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,1,127,-128),oe<0&&(oe=255+oe+1),this[me]=oe&255,me+1},Y.prototype.writeInt16LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,32767,-32768),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeInt16BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,32767,-32768),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeInt32LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,2147483647,-2147483648),this[me]=oe&255,this[me+1]=oe>>>8,this[me+2]=oe>>>16,this[me+3]=oe>>>24,me+4},Y.prototype.writeInt32BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4},Y.prototype.writeBigInt64LE=et(function(oe,me=0){return je(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=et(function(oe,me=0){return tt(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(Ve,oe,me,Se,Fe,Ke){if(me+Se>Ve.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function st(Ve,oe,me,Se,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,4),G.write(Ve,oe,me,Se,23,4),me+4}Y.prototype.writeFloatLE=function(oe,me,Se){return st(this,oe,me,!0,Se)},Y.prototype.writeFloatBE=function(oe,me,Se){return st(this,oe,me,!1,Se)};function qe(Ve,oe,me,Se,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,8),G.write(Ve,oe,me,Se,52,8),me+8}Y.prototype.writeDoubleLE=function(oe,me,Se){return qe(this,oe,me,!0,Se)},Y.prototype.writeDoubleBE=function(oe,me,Se){return qe(this,oe,me,!1,Se)},Y.prototype.copy=function(oe,me,Se,Fe){if(!Y.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),!Fe&&Fe!==0&&(Fe=this.length),me>=oe.length&&(me=oe.length),me||(me=0),Fe>0&&Fe<Se&&(Fe=Se),Fe===Se||oe.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),oe.length-me<Fe-Se&&(Fe=oe.length-me+Se);const Ke=Fe-Se;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,Se,Fe):Uint8Array.prototype.set.call(oe,this.subarray(Se,Fe),me),Ke},Y.prototype.fill=function(oe,me,Se,Fe){if(typeof oe=="string"){if(typeof me=="string"?(Fe=me,me=0,Se=this.length):typeof Se=="string"&&(Fe=Se,Se=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!Y.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(oe.length===1){const Ae=oe.charCodeAt(0);(Fe==="utf8"&&Ae<128||Fe==="latin1")&&(oe=Ae)}}else typeof oe=="number"?oe=oe&255:typeof oe=="boolean"&&(oe=Number(oe));if(me<0||this.length<me||this.length<Se)throw new RangeError("Out of range index");if(Se<=me)return this;me=me>>>0,Se=Se===void 0?this.length:Se>>>0,oe||(oe=0);let Ke;if(typeof oe=="number")for(Ke=me;Ke<Se;++Ke)this[Ke]=oe;else{const Ae=Y.isBuffer(oe)?oe:Y.from(oe,Fe),rt=Ae.length;if(rt===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Ke=0;Ke<Se-me;++Ke)this[Ke+me]=Ae[Ke%rt]}return this};const ot={};function ut(Ve,oe,me){ot[Ve]=class extends me{constructor(){super(),Object.defineProperty(this,"message",{value:oe.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ve}]`,this.stack,delete this.name}get code(){return Ve}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${Ve}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(Ve){return Ve?`${Ve} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(Ve,oe){return`The "${Ve}" argument must be of type number. Received type ${typeof oe}`},TypeError),ut("ERR_OUT_OF_RANGE",function(Ve,oe,me){let Se=`The value of "${Ve}" is out of range.`,Fe=me;return Number.isInteger(me)&&Math.abs(me)>2**32?Fe=dt(String(me)):typeof me=="bigint"&&(Fe=String(me),(me>BigInt(2)**BigInt(32)||me<-(BigInt(2)**BigInt(32)))&&(Fe=dt(Fe)),Fe+="n"),Se+=` It must be ${oe}. Received ${Fe}`,Se},RangeError);function dt(Ve){let oe="",me=Ve.length;const Se=Ve[0]==="-"?1:0;for(;me>=Se+4;me-=3)oe=`_${Ve.slice(me-3,me)}${oe}`;return`${Ve.slice(0,me)}${oe}`}function mt(Ve,oe,me){Ne(oe,"offset"),(Ve[oe]===void 0||Ve[oe+me]===void 0)&&ke(oe,Ve.length-(me+1))}function Je(Ve,oe,me,Se,Fe,Ke){if(Ve>me||Ve<oe){const Ae=typeof oe=="bigint"?"n":"";let rt;throw Ke>3?oe===0||oe===BigInt(0)?rt=`>= 0${Ae} and < 2${Ae} ** ${(Ke+1)*8}${Ae}`:rt=`>= -(2${Ae} ** ${(Ke+1)*8-1}${Ae}) and < 2 ** ${(Ke+1)*8-1}${Ae}`:rt=`>= ${oe}${Ae} and <= ${me}${Ae}`,new ot.ERR_OUT_OF_RANGE("value",rt,Ve)}mt(Se,Fe,Ke)}function Ne(Ve,oe){if(typeof Ve!="number")throw new ot.ERR_INVALID_ARG_TYPE(oe,"number",Ve)}function ke(Ve,oe,me){throw Math.floor(Ve)!==Ve?(Ne(Ve,me),new ot.ERR_OUT_OF_RANGE(me||"offset","an integer",Ve)):oe<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(me||"offset",`>= ${me?1:0} and <= ${oe}`,Ve)}const Ie=/[^+/0-9A-Za-z-_]/g;function Ce(Ve){if(Ve=Ve.split("=")[0],Ve=Ve.trim().replace(Ie,""),Ve.length<2)return"";for(;Ve.length%4!==0;)Ve=Ve+"=";return Ve}function ze(Ve,oe){oe=oe||1/0;let me;const Se=Ve.length;let Fe=null;const Ke=[];for(let Ae=0;Ae<Se;++Ae){if(me=Ve.charCodeAt(Ae),me>55295&&me<57344){if(!Fe){if(me>56319){(oe-=3)>-1&&Ke.push(239,191,189);continue}else if(Ae+1===Se){(oe-=3)>-1&&Ke.push(239,191,189);continue}Fe=me;continue}if(me<56320){(oe-=3)>-1&&Ke.push(239,191,189),Fe=me;continue}me=(Fe-55296<<10|me-56320)+65536}else Fe&&(oe-=3)>-1&&Ke.push(239,191,189);if(Fe=null,me<128){if((oe-=1)<0)break;Ke.push(me)}else if(me<2048){if((oe-=2)<0)break;Ke.push(me>>6|192,me&63|128)}else if(me<65536){if((oe-=3)<0)break;Ke.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((oe-=4)<0)break;Ke.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return Ke}function Ee(Ve){const oe=[];for(let me=0;me<Ve.length;++me)oe.push(Ve.charCodeAt(me)&255);return oe}function _e(Ve,oe){let me,Se,Fe;const Ke=[];for(let Ae=0;Ae<Ve.length&&!((oe-=2)<0);++Ae)me=Ve.charCodeAt(Ae),Se=me>>8,Fe=me%256,Ke.push(Fe),Ke.push(Se);return Ke}function He(Ve){return Z.toByteArray(Ce(Ve))}function Pe(Ve,oe,me,Se){let Fe;for(Fe=0;Fe<Se&&!(Fe+me>=oe.length||Fe>=Ve.length);++Fe)oe[Fe+me]=Ve[Fe];return Fe}function $e(Ve,oe){return Ve instanceof oe||Ve!=null&&Ve.constructor!=null&&Ve.constructor.name!=null&&Ve.constructor.name===oe.name}function we(Ve){return Ve!==Ve}const Ue=function(){const Ve="0123456789abcdef",oe=new Array(256);for(let me=0;me<16;++me){const Se=me*16;for(let Fe=0;Fe<16;++Fe)oe[Se+Fe]=Ve[me]+Ve[Fe]}return oe}();function et(Ve){return typeof BigInt>"u"?at:Ve}function at(){throw new Error("BigInt not supported")}})(buffer$1);let lazy=null;var textEndec$1=function(){return lazy===null&&(lazy={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),lazy},formats$2={},encoding={};const ModuleError$8=moduleError,formats$1=new Set(["buffer","view","utf8"]);let Encoding$2=class{constructor(Z){if(this.encode=Z.encode||this.encode,this.decode=Z.decode||this.decode,this.name=Z.name||this.name,this.format=Z.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!formats$1.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");Z.createViewTranscoder&&(this.createViewTranscoder=Z.createViewTranscoder),Z.createBufferTranscoder&&(this.createBufferTranscoder=Z.createBufferTranscoder),Z.createUTF8Transcoder&&(this.createUTF8Transcoder=Z.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};encoding.Encoding=Encoding$2;const{Buffer:Buffer$1}=buffer$1||{},{Encoding:Encoding$1}=encoding,textEndec=textEndec$1;let BufferFormat$2=class extends Encoding$1{constructor(Z){super({...Z,format:"buffer"})}createViewTranscoder(){return new ViewFormat$2({encode:this.encode,decode:Z=>this.decode(Buffer$1.from(Z.buffer,Z.byteOffset,Z.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},ViewFormat$2=class extends Encoding$1{constructor(Z){super({...Z,format:"view"})}createBufferTranscoder(){return new BufferFormat$2({encode:Z=>{const G=this.encode(Z);return Buffer$1.from(G.buffer,G.byteOffset,G.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},UTF8Format$2=class extends Encoding$1{constructor(Z){super({...Z,format:"utf8"})}createBufferTranscoder(){return new BufferFormat$2({encode:Z=>Buffer$1.from(this.encode(Z),"utf8"),decode:Z=>this.decode(Z.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:Z,textDecoder:G}=textEndec();return new ViewFormat$2({encode:W=>Z.encode(this.encode(W)),decode:W=>this.decode(G.decode(W)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};formats$2.BufferFormat=BufferFormat$2;formats$2.ViewFormat=ViewFormat$2;formats$2.UTF8Format=UTF8Format$2;const{Buffer}=buffer$1||{Buffer:{isBuffer:()=>!1}},{textEncoder,textDecoder}=textEndec$1(),{BufferFormat:BufferFormat$1,ViewFormat:ViewFormat$1,UTF8Format:UTF8Format$1}=formats$2,identity$4=X=>X;encodings$1.utf8=new UTF8Format$1({encode:function(X){return Buffer.isBuffer(X)?X.toString("utf8"):ArrayBuffer.isView(X)?textDecoder.decode(X):String(X)},decode:identity$4,name:"utf8",createViewTranscoder(){return new ViewFormat$1({encode:function(X){return ArrayBuffer.isView(X)?X:textEncoder.encode(X)},decode:function(X){return textDecoder.decode(X)},name:`${this.name}+view`})},createBufferTranscoder(){return new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:ArrayBuffer.isView(X)?Buffer.from(X.buffer,X.byteOffset,X.byteLength):Buffer.from(String(X),"utf8")},decode:function(X){return X.toString("utf8")},name:`${this.name}+buffer`})}});encodings$1.json=new UTF8Format$1({encode:JSON.stringify,decode:JSON.parse,name:"json"});encodings$1.buffer=new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:ArrayBuffer.isView(X)?Buffer.from(X.buffer,X.byteOffset,X.byteLength):Buffer.from(String(X),"utf8")},decode:identity$4,name:"buffer",createViewTranscoder(){return new ViewFormat$1({encode:function(X){return ArrayBuffer.isView(X)?X:Buffer.from(String(X),"utf8")},decode:function(X){return Buffer.from(X.buffer,X.byteOffset,X.byteLength)},name:`${this.name}+view`})}});encodings$1.view=new ViewFormat$1({encode:function(X){return ArrayBuffer.isView(X)?X:textEncoder.encode(X)},decode:identity$4,name:"view",createBufferTranscoder(){return new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:ArrayBuffer.isView(X)?Buffer.from(X.buffer,X.byteOffset,X.byteLength):Buffer.from(String(X),"utf8")},decode:identity$4,name:`${this.name}+buffer`})}});encodings$1.hex=new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:Buffer.from(String(X),"hex")},decode:function(X){return X.toString("hex")},name:"hex"});encodings$1.base64=new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:Buffer.from(String(X),"base64")},decode:function(X){return X.toString("base64")},name:"base64"});const ModuleError$7=moduleError,encodings=encodings$1,{Encoding}=encoding,{BufferFormat,ViewFormat,UTF8Format}=formats$2,kFormats=Symbol("formats"),kEncodings=Symbol("encodings"),validFormats=new Set(["buffer","view","utf8"]);let Transcoder$1=class{constructor(Z){if(Array.isArray(Z)){if(!Z.every(G=>validFormats.has(G)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[kEncodings]=new Map,this[kFormats]=new Set(Z);for(const G in encodings)try{this.encoding(G)}catch(W){if(W.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw W}}encodings(){return Array.from(new Set(this[kEncodings].values()))}encoding(Z){let G=this[kEncodings].get(Z);if(G===void 0){if(typeof Z=="string"&&Z!==""){if(G=lookup[Z],!G)throw new ModuleError$7(`Encoding '${Z}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof Z!="object"||Z===null)throw new TypeError("First argument 'encoding' must be a string or object");G=from(Z)}const{name:W,format:F}=G;if(!this[kFormats].has(F))if(this[kFormats].has("view"))G=G.createViewTranscoder();else if(this[kFormats].has("buffer"))G=G.createBufferTranscoder();else if(this[kFormats].has("utf8"))G=G.createUTF8Transcoder();else throw new ModuleError$7(`Encoding '${W}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const U of[Z,W,G.name,G.commonName])this[kEncodings].set(U,G)}return G}};levelTranscoder.Transcoder=Transcoder$1;function from(X){if(X instanceof Encoding)return X;const Z="type"in X&&typeof X.type=="string"?X.type:void 0,G=X.name||Z||`anonymous-${anonymousCount++}`;switch(detectFormat(X)){case"view":return new ViewFormat({...X,name:G});case"utf8":return new UTF8Format({...X,name:G});case"buffer":return new BufferFormat({...X,name:G});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function detectFormat(X){return"format"in X&&X.format!==void 0?X.format:"buffer"in X&&typeof X.buffer=="boolean"?X.buffer?"buffer":"utf8":"code"in X&&Number.isInteger(X.code)?"view":"buffer"}const aliases={binary:encodings.buffer,"utf-8":encodings.utf8},lookup={...encodings,...aliases};let anonymousCount=0;var eventsExports={},events={get exports(){return eventsExports},set exports(X){eventsExports=X}},R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(Z,G,W){return Function.prototype.apply.call(Z,G,W)},ReflectOwnKeys;R$1&&typeof R$1.ownKeys=="function"?ReflectOwnKeys=R$1.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(Z){return Object.getOwnPropertyNames(Z).concat(Object.getOwnPropertySymbols(Z))}:ReflectOwnKeys=function(Z){return Object.getOwnPropertyNames(Z)};function ProcessEmitWarning(X){console&&console.warn&&console.warn(X)}var NumberIsNaN=Number.isNaN||function(Z){return Z!==Z};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;eventsExports.once=once;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(X){if(typeof X!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof X)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(X){if(typeof X!="number"||X<0||NumberIsNaN(X))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+X+".");defaultMaxListeners=X}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||NumberIsNaN(Z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Z+".");return this._maxListeners=Z,this};function _getMaxListeners(X){return X._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:X._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(Z){for(var G=[],W=1;W<arguments.length;W++)G.push(arguments[W]);var F=Z==="error",U=this._events;if(U!==void 0)F=F&&U.error===void 0;else if(!F)return!1;if(F){var J;if(G.length>0&&(J=G[0]),J instanceof Error)throw J;var Y=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw Y.context=J,Y}var D=U[Z];if(D===void 0)return!1;if(typeof D=="function")ReflectApply(D,this,G);else for(var Q=D.length,ee=arrayClone(D,Q),W=0;W<Q;++W)ReflectApply(ee[W],this,G);return!0};function _addListener(X,Z,G,W){var F,U,J;if(checkListener(G),U=X._events,U===void 0?(U=X._events=Object.create(null),X._eventsCount=0):(U.newListener!==void 0&&(X.emit("newListener",Z,G.listener?G.listener:G),U=X._events),J=U[Z]),J===void 0)J=U[Z]=G,++X._eventsCount;else if(typeof J=="function"?J=U[Z]=W?[G,J]:[J,G]:W?J.unshift(G):J.push(G),F=_getMaxListeners(X),F>0&&J.length>F&&!J.warned){J.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(Z)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=X,Y.type=Z,Y.count=J.length,ProcessEmitWarning(Y)}return X}EventEmitter$1.prototype.addListener=function(Z,G){return _addListener(this,Z,G,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(Z,G){return _addListener(this,Z,G,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(X,Z,G){var W={fired:!1,wrapFn:void 0,target:X,type:Z,listener:G},F=onceWrapper.bind(W);return F.listener=G,W.wrapFn=F,F}EventEmitter$1.prototype.once=function(Z,G){return checkListener(G),this.on(Z,_onceWrap(this,Z,G)),this};EventEmitter$1.prototype.prependOnceListener=function(Z,G){return checkListener(G),this.prependListener(Z,_onceWrap(this,Z,G)),this};EventEmitter$1.prototype.removeListener=function(Z,G){var W,F,U,J,Y;if(checkListener(G),F=this._events,F===void 0)return this;if(W=F[Z],W===void 0)return this;if(W===G||W.listener===G)--this._eventsCount===0?this._events=Object.create(null):(delete F[Z],F.removeListener&&this.emit("removeListener",Z,W.listener||G));else if(typeof W!="function"){for(U=-1,J=W.length-1;J>=0;J--)if(W[J]===G||W[J].listener===G){Y=W[J].listener,U=J;break}if(U<0)return this;U===0?W.shift():spliceOne(W,U),W.length===1&&(F[Z]=W[0]),F.removeListener!==void 0&&this.emit("removeListener",Z,Y||G)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(Z){var G,W,F;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[Z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[Z]),this;if(arguments.length===0){var U=Object.keys(W),J;for(F=0;F<U.length;++F)J=U[F],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=W[Z],typeof G=="function")this.removeListener(Z,G);else if(G!==void 0)for(F=G.length-1;F>=0;F--)this.removeListener(Z,G[F]);return this};function _listeners(X,Z,G){var W=X._events;if(W===void 0)return[];var F=W[Z];return F===void 0?[]:typeof F=="function"?G?[F.listener||F]:[F]:G?unwrapListeners(F):arrayClone(F,F.length)}EventEmitter$1.prototype.listeners=function(Z){return _listeners(this,Z,!0)};EventEmitter$1.prototype.rawListeners=function(Z){return _listeners(this,Z,!1)};EventEmitter$1.listenerCount=function(X,Z){return typeof X.listenerCount=="function"?X.listenerCount(Z):listenerCount.call(X,Z)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(X){var Z=this._events;if(Z!==void 0){var G=Z[X];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(X,Z){for(var G=new Array(Z),W=0;W<Z;++W)G[W]=X[W];return G}function spliceOne(X,Z){for(;Z+1<X.length;Z++)X[Z]=X[Z+1];X.pop()}function unwrapListeners(X){for(var Z=new Array(X.length),G=0;G<Z.length;++G)Z[G]=X[G].listener||X[G];return Z}function once(X,Z){return new Promise(function(G,W){function F(J){X.removeListener(Z,U),W(J)}function U(){typeof X.removeListener=="function"&&X.removeListener("error",F),G([].slice.call(arguments))}eventTargetAgnosticAddListener(X,Z,U,{once:!0}),Z!=="error"&&addErrorHandlerIfEventEmitter(X,F,{once:!0})})}function addErrorHandlerIfEventEmitter(X,Z,G){typeof X.on=="function"&&eventTargetAgnosticAddListener(X,"error",Z,G)}function eventTargetAgnosticAddListener(X,Z,G,W){if(typeof X.on=="function")W.once?X.once(Z,G):X.on(Z,G);else if(typeof X.addEventListener=="function")X.addEventListener(Z,function F(U){W.once&&X.removeEventListener(Z,F),G(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof X)}var catering={},nextTickBrowser$1=typeof queueMicrotask=="function"?queueMicrotask:X=>Promise.resolve().then(X),nextTick=nextTickBrowser$1;catering.fromCallback=function(X,Z){if(X===void 0){var G=new Promise(function(W,F){X=function(U,J){U?F(U):W(J)}});X[Z!==void 0?Z:"promise"]=G}else if(typeof X!="function")throw new TypeError("Callback must be a function");return X};catering.fromPromise=function(X,Z){if(Z===void 0)return X;X.then(function(G){nextTick(()=>Z(null,G))}).catch(function(G){nextTick(()=>Z(G))})};var abstractIterator={},common$6={};common$6.getCallback=function(X,Z){return typeof X=="function"?X:Z};common$6.getOptions=function(X,Z){return typeof X=="object"&&X!==null?X:Z!==void 0?Z:{}};const{fromCallback:fromCallback$2}=catering,ModuleError$6=moduleError,{getOptions:getOptions$2,getCallback:getCallback$2}=common$6,kPromise$2=Symbol("promise"),kCallback$1=Symbol("callback"),kWorking=Symbol("working"),kHandleOne$1=Symbol("handleOne"),kHandleMany$1=Symbol("handleMany"),kAutoClose=Symbol("autoClose"),kFinishWork=Symbol("finishWork"),kReturnMany=Symbol("returnMany"),kClosing=Symbol("closing"),kHandleClose=Symbol("handleClose"),kClosed=Symbol("closed"),kCloseCallbacks$1=Symbol("closeCallbacks"),kKeyEncoding$1=Symbol("keyEncoding"),kValueEncoding$1=Symbol("valueEncoding"),kAbortOnClose=Symbol("abortOnClose"),kLegacy=Symbol("legacy"),kKeys=Symbol("keys"),kValues=Symbol("values"),kLimit=Symbol("limit"),kCount=Symbol("count"),emptyOptions=Object.freeze({}),noop$4=()=>{};let warnedEnd=!1;class CommonIterator{constructor(Z,G,W){if(typeof Z!="object"||Z===null){const F=Z===null?"null":typeof Z;throw new TypeError(`The first argument must be an abstract-level database, received ${F}`)}if(typeof G!="object"||G===null)throw new TypeError("The second argument must be an options object");this[kClosed]=!1,this[kCloseCallbacks$1]=[],this[kWorking]=!1,this[kClosing]=!1,this[kAutoClose]=!1,this[kCallback$1]=null,this[kHandleOne$1]=this[kHandleOne$1].bind(this),this[kHandleMany$1]=this[kHandleMany$1].bind(this),this[kHandleClose]=this[kHandleClose].bind(this),this[kKeyEncoding$1]=G[kKeyEncoding$1],this[kValueEncoding$1]=G[kValueEncoding$1],this[kLegacy]=W,this[kLimit]=Number.isInteger(G.limit)&&G.limit>=0?G.limit:1/0,this[kCount]=0,this[kAbortOnClose]=!!G.abortOnClose,this.db=Z,this.db.attachResource(this),this.nextTick=Z.nextTick}get count(){return this[kCount]}get limit(){return this[kLimit]}next(Z){let G;if(Z===void 0)G=new Promise((W,F)=>{Z=(U,J,Y)=>{U?F(U):this[kLegacy]?J===void 0&&Y===void 0?W():W([J,Y]):W(J)}});else if(typeof Z!="function")throw new TypeError("Callback must be a function");return this[kClosing]?this.nextTick(Z,new ModuleError$6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(Z,new ModuleError$6("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=Z,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleOne$1],null):this._next(this[kHandleOne$1])),G}_next(Z){this.nextTick(Z)}nextv(Z,G,W){return W=getCallback$2(G,W),W=fromCallback$2(W,kPromise$2),G=getOptions$2(G,emptyOptions),Number.isInteger(Z)?(this[kClosing]?this.nextTick(W,new ModuleError$6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(W,new ModuleError$6("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(Z<1&&(Z=1),this[kLimit]<1/0&&(Z=Math.min(Z,this[kLimit]-this[kCount])),this[kWorking]=!0,this[kCallback$1]=W,Z<=0?this.nextTick(this[kHandleMany$1],null,[]):this._nextv(Z,G,this[kHandleMany$1])),W[kPromise$2]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[kPromise$2])}_nextv(Z,G,W){const F=[],U=(J,Y,D)=>{if(J)return W(J);if(this[kLegacy]?Y===void 0&&D===void 0:Y===void 0)return W(null,F);F.push(this[kLegacy]?[Y,D]:Y),F.length===Z?W(null,F):this._next(U)};this._next(U)}all(Z,G){return G=getCallback$2(Z,G),G=fromCallback$2(G,kPromise$2),Z=getOptions$2(Z,emptyOptions),this[kClosing]?this.nextTick(G,new ModuleError$6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(G,new ModuleError$6("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=G,this[kAutoClose]=!0,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleMany$1],null,[]):this._all(Z,this[kHandleMany$1])),G[kPromise$2]}_all(Z,G){let W=this[kCount];const F=[],U=()=>{const Y=this[kLimit]<1/0?Math.min(1e3,this[kLimit]-W):1e3;Y<=0?this.nextTick(G,null,F):this._nextv(Y,emptyOptions,J)},J=(Y,D)=>{Y?G(Y):D.length===0?G(null,F):(F.push.apply(F,D),W+=D.length,U())};U()}[kFinishWork](){const Z=this[kCallback$1];return this[kAbortOnClose]&&Z===null?noop$4:(this[kWorking]=!1,this[kCallback$1]=null,this[kClosing]&&this._close(this[kHandleClose]),Z)}[kReturnMany](Z,G,W){this[kAutoClose]?this.close(Z.bind(null,G,W)):Z(G,W)}seek(Z,G){if(G=getOptions$2(G,emptyOptions),!this[kClosing]){if(this[kWorking])throw new ModuleError$6("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(G.keyEncoding||this[kKeyEncoding$1]),F=W.format;G.keyEncoding!==F&&(G={...G,keyEncoding:F});const U=this.db.prefixKey(W.encode(Z),F);this._seek(U,G)}}}_seek(Z,G){throw new ModuleError$6("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(Z){return Z=fromCallback$2(Z,kPromise$2),this[kClosed]?this.nextTick(Z):this[kClosing]?this[kCloseCallbacks$1].push(Z):(this[kClosing]=!0,this[kCloseCallbacks$1].push(Z),this[kWorking]?this[kAbortOnClose]&&this[kFinishWork]()(new ModuleError$6("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[kHandleClose])),Z[kPromise$2]}_close(Z){this.nextTick(Z)}[kHandleClose](){this[kClosed]=!0,this.db.detachResource(this);const Z=this[kCloseCallbacks$1];this[kCloseCallbacks$1]=[];for(const G of Z)G()}async*[Symbol.asyncIterator](){try{let Z;for(;(Z=await this.next())!==void 0;)yield Z}finally{this[kClosed]||await this.close()}}}let AbstractIterator$3=class extends CommonIterator{constructor(Z,G){super(Z,G,!0),this[kKeys]=G.keys!==!1,this[kValues]=G.values!==!1}[kHandleOne$1](Z,G,W){const F=this[kFinishWork]();if(Z)return F(Z);try{G=this[kKeys]&&G!==void 0?this[kKeyEncoding$1].decode(G):void 0,W=this[kValues]&&W!==void 0?this[kValueEncoding$1].decode(W):void 0}catch(U){return F(new IteratorDecodeError("entry",U))}G===void 0&&W===void 0||this[kCount]++,F(null,G,W)}[kHandleMany$1](Z,G){const W=this[kFinishWork]();if(Z)return this[kReturnMany](W,Z);try{for(const F of G){const U=F[0],J=F[1];F[0]=this[kKeys]&&U!==void 0?this[kKeyEncoding$1].decode(U):void 0,F[1]=this[kValues]&&J!==void 0?this[kValueEncoding$1].decode(J):void 0}}catch(F){return this[kReturnMany](W,new IteratorDecodeError("entries",F))}this[kCount]+=G.length,this[kReturnMany](W,null,G)}end(Z){return!warnedEnd&&typeof console<"u"&&(warnedEnd=!0,console.warn(new ModuleError$6("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(Z)}},AbstractKeyIterator$3=class extends CommonIterator{constructor(Z,G){super(Z,G,!1)}[kHandleOne$1](Z,G){const W=this[kFinishWork]();if(Z)return W(Z);try{G=G!==void 0?this[kKeyEncoding$1].decode(G):void 0}catch(F){return W(new IteratorDecodeError("key",F))}G!==void 0&&this[kCount]++,W(null,G)}[kHandleMany$1](Z,G){const W=this[kFinishWork]();if(Z)return this[kReturnMany](W,Z);try{for(let F=0;F<G.length;F++){const U=G[F];G[F]=U!==void 0?this[kKeyEncoding$1].decode(U):void 0}}catch(F){return this[kReturnMany](W,new IteratorDecodeError("keys",F))}this[kCount]+=G.length,this[kReturnMany](W,null,G)}},AbstractValueIterator$3=class extends CommonIterator{constructor(Z,G){super(Z,G,!1)}[kHandleOne$1](Z,G){const W=this[kFinishWork]();if(Z)return W(Z);try{G=G!==void 0?this[kValueEncoding$1].decode(G):void 0}catch(F){return W(new IteratorDecodeError("value",F))}G!==void 0&&this[kCount]++,W(null,G)}[kHandleMany$1](Z,G){const W=this[kFinishWork]();if(Z)return this[kReturnMany](W,Z);try{for(let F=0;F<G.length;F++){const U=G[F];G[F]=U!==void 0?this[kValueEncoding$1].decode(U):void 0}}catch(F){return this[kReturnMany](W,new IteratorDecodeError("values",F))}this[kCount]+=G.length,this[kReturnMany](W,null,G)}};class IteratorDecodeError extends ModuleError$6{constructor(Z,G){super(`Iterator could not decode ${Z}`,{code:"LEVEL_DECODE_ERROR",cause:G})}}for(const X of["_ended property","_nexting property","_end method"])Object.defineProperty(AbstractIterator$3.prototype,X.split(" ")[0],{get(){throw new ModuleError$6(`The ${X} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ModuleError$6(`The ${X} has been removed`,{code:"LEVEL_LEGACY"})}});AbstractIterator$3.keyEncoding=kKeyEncoding$1;AbstractIterator$3.valueEncoding=kValueEncoding$1;abstractIterator.AbstractIterator=AbstractIterator$3;abstractIterator.AbstractKeyIterator=AbstractKeyIterator$3;abstractIterator.AbstractValueIterator=AbstractValueIterator$3;var defaultKvIterator={};const{AbstractKeyIterator:AbstractKeyIterator$2,AbstractValueIterator:AbstractValueIterator$2}=abstractIterator,kIterator$1=Symbol("iterator"),kCallback=Symbol("callback"),kHandleOne=Symbol("handleOne"),kHandleMany=Symbol("handleMany");let DefaultKeyIterator$1=class extends AbstractKeyIterator$2{constructor(Z,G){super(Z,G),this[kIterator$1]=Z.iterator({...G,keys:!0,values:!1}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}},DefaultValueIterator$1=class extends AbstractValueIterator$2{constructor(Z,G){super(Z,G),this[kIterator$1]=Z.iterator({...G,keys:!1,values:!0}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}};for(const X of[DefaultKeyIterator$1,DefaultValueIterator$1]){const Z=X===DefaultKeyIterator$1,G=Z?W=>W[0]:W=>W[1];X.prototype._next=function(W){this[kCallback]=W,this[kIterator$1].next(this[kHandleOne])},X.prototype[kHandleOne]=function(W,F,U){const J=this[kCallback];W?J(W):J(null,Z?F:U)},X.prototype._nextv=function(W,F,U){this[kCallback]=U,this[kIterator$1].nextv(W,F,this[kHandleMany])},X.prototype._all=function(W,F){this[kCallback]=F,this[kIterator$1].all(W,this[kHandleMany])},X.prototype[kHandleMany]=function(W,F){const U=this[kCallback];W?U(W):U(null,F.map(G))},X.prototype._seek=function(W,F){this[kIterator$1].seek(W,F)},X.prototype._close=function(W){this[kIterator$1].close(W)}}defaultKvIterator.DefaultKeyIterator=DefaultKeyIterator$1;defaultKvIterator.DefaultValueIterator=DefaultValueIterator$1;var deferredIterator={};const{AbstractIterator:AbstractIterator$2,AbstractKeyIterator:AbstractKeyIterator$1,AbstractValueIterator:AbstractValueIterator$1}=abstractIterator,ModuleError$5=moduleError,kNut=Symbol("nut"),kUndefer$1=Symbol("undefer"),kFactory=Symbol("factory");let DeferredIterator$1=class extends AbstractIterator$2{constructor(Z,G){super(Z,G),this[kNut]=null,this[kFactory]=()=>Z.iterator(G),this.db.defer(()=>this[kUndefer$1]())}},DeferredKeyIterator$1=class extends AbstractKeyIterator$1{constructor(Z,G){super(Z,G),this[kNut]=null,this[kFactory]=()=>Z.keys(G),this.db.defer(()=>this[kUndefer$1]())}},DeferredValueIterator$1=class extends AbstractValueIterator$1{constructor(Z,G){super(Z,G),this[kNut]=null,this[kFactory]=()=>Z.values(G),this.db.defer(()=>this[kUndefer$1]())}};for(const X of[DeferredIterator$1,DeferredKeyIterator$1,DeferredValueIterator$1])X.prototype[kUndefer$1]=function(){this.db.status==="open"&&(this[kNut]=this[kFactory]())},X.prototype._next=function(Z){this[kNut]!==null?this[kNut].next(Z):this.db.status==="opening"?this.db.defer(()=>this._next(Z)):this.nextTick(Z,new ModuleError$5("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},X.prototype._nextv=function(Z,G,W){this[kNut]!==null?this[kNut].nextv(Z,G,W):this.db.status==="opening"?this.db.defer(()=>this._nextv(Z,G,W)):this.nextTick(W,new ModuleError$5("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},X.prototype._all=function(Z,G){this[kNut]!==null?this[kNut].all(G):this.db.status==="opening"?this.db.defer(()=>this._all(Z,G)):this.nextTick(G,new ModuleError$5("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},X.prototype._seek=function(Z,G){this[kNut]!==null?this[kNut]._seek(Z,G):this.db.status==="opening"&&this.db.defer(()=>this._seek(Z,G))},X.prototype._close=function(Z){this[kNut]!==null?this[kNut].close(Z):this.db.status==="opening"?this.db.defer(()=>this._close(Z)):this.nextTick(Z)};deferredIterator.DeferredIterator=DeferredIterator$1;deferredIterator.DeferredKeyIterator=DeferredKeyIterator$1;deferredIterator.DeferredValueIterator=DeferredValueIterator$1;var defaultChainedBatch={},abstractChainedBatch={};const{fromCallback:fromCallback$1}=catering,ModuleError$4=moduleError,{getCallback:getCallback$1,getOptions:getOptions$1}=common$6,kPromise$1=Symbol("promise"),kStatus$1=Symbol("status"),kOperations$1=Symbol("operations"),kFinishClose=Symbol("finishClose"),kCloseCallbacks=Symbol("closeCallbacks");let AbstractChainedBatch$1=class{constructor(Z){if(typeof Z!="object"||Z===null){const G=Z===null?"null":typeof Z;throw new TypeError(`The first argument must be an abstract-level database, received ${G}`)}this[kOperations$1]=[],this[kCloseCallbacks]=[],this[kStatus$1]="open",this[kFinishClose]=this[kFinishClose].bind(this),this.db=Z,this.db.attachResource(this),this.nextTick=Z.nextTick}get length(){return this[kOperations$1].length}put(Z,G,W){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const F=this.db._checkKey(Z)||this.db._checkValue(G);if(F)throw F;const U=W&&W.sublevel!=null?W.sublevel:this.db,J=W,Y=U.keyEncoding(W&&W.keyEncoding),D=U.valueEncoding(W&&W.valueEncoding),Q=Y.format;W={...W,keyEncoding:Q,valueEncoding:D.format},U!==this.db&&(W.sublevel=null);const ee=U.prefixKey(Y.encode(Z),Q),q=D.encode(G);return this._put(ee,q,W),this[kOperations$1].push({...J,type:"put",key:Z,value:G}),this}_put(Z,G,W){}del(Z,G){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const W=this.db._checkKey(Z);if(W)throw W;const F=G&&G.sublevel!=null?G.sublevel:this.db,U=G,J=F.keyEncoding(G&&G.keyEncoding),Y=J.format;return G={...G,keyEncoding:Y},F!==this.db&&(G.sublevel=null),this._del(F.prefixKey(J.encode(Z),Y),G),this[kOperations$1].push({...U,type:"del",key:Z}),this}_del(Z,G){}clear(){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[kOperations$1]=[],this}_clear(){}write(Z,G){return G=getCallback$1(Z,G),G=fromCallback$1(G,kPromise$1),Z=getOptions$1(Z),this[kStatus$1]!=="open"?this.nextTick(G,new ModuleError$4("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(G):(this[kStatus$1]="writing",this._write(Z,W=>{this[kStatus$1]="closing",this[kCloseCallbacks].push(()=>G(W)),W||this.db.emit("batch",this[kOperations$1]),this._close(this[kFinishClose])})),G[kPromise$1]}_write(Z,G){}close(Z){return Z=fromCallback$1(Z,kPromise$1),this[kStatus$1]==="closing"?this[kCloseCallbacks].push(Z):this[kStatus$1]==="closed"?this.nextTick(Z):(this[kCloseCallbacks].push(Z),this[kStatus$1]!=="writing"&&(this[kStatus$1]="closing",this._close(this[kFinishClose]))),Z[kPromise$1]}_close(Z){this.nextTick(Z)}[kFinishClose](){this[kStatus$1]="closed",this.db.detachResource(this);const Z=this[kCloseCallbacks];this[kCloseCallbacks]=[];for(const G of Z)G()}};abstractChainedBatch.AbstractChainedBatch=AbstractChainedBatch$1;const{AbstractChainedBatch}=abstractChainedBatch,ModuleError$3=moduleError,kEncoded=Symbol("encoded");let DefaultChainedBatch$1=class extends AbstractChainedBatch{constructor(Z){super(Z),this[kEncoded]=[]}_put(Z,G,W){this[kEncoded].push({...W,type:"put",key:Z,value:G})}_del(Z,G){this[kEncoded].push({...G,type:"del",key:Z})}_clear(){this[kEncoded]=[]}_write(Z,G){this.db.status==="opening"?this.db.defer(()=>this._write(Z,G)):this.db.status==="open"?this[kEncoded].length===0?this.nextTick(G):this.db._batch(this[kEncoded],Z,G):this.nextTick(G,new ModuleError$3("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};defaultChainedBatch.DefaultChainedBatch=DefaultChainedBatch$1;const ModuleError$2=moduleError,hasOwnProperty$5=Object.prototype.hasOwnProperty,rangeOptions$2=new Set(["lt","lte","gt","gte"]);var rangeOptions_1=function(X,Z){const G={};for(const W in X)if(hasOwnProperty$5.call(X,W)&&!(W==="keyEncoding"||W==="valueEncoding")){if(W==="start"||W==="end")throw new ModuleError$2(`The legacy range option '${W}' has been removed`,{code:"LEVEL_LEGACY"});if(W==="encoding")throw new ModuleError$2("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});rangeOptions$2.has(W)?G[W]=Z.encode(X[W]):G[W]=X[W]}return G.reverse=!!G.reverse,G.limit=Number.isInteger(G.limit)&&G.limit>=0?G.limit:-1,G};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var queueMicrotask_1,hasRequiredQueueMicrotask;function requireQueueMicrotask(){if(hasRequiredQueueMicrotask)return queueMicrotask_1;hasRequiredQueueMicrotask=1;let X;return queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal):Z=>(X||(X=Promise.resolve())).then(Z).catch(G=>setTimeout(()=>{throw G},0)),queueMicrotask_1}var nextTickBrowser,hasRequiredNextTickBrowser;function requireNextTickBrowser(){if(hasRequiredNextTickBrowser)return nextTickBrowser;hasRequiredNextTickBrowser=1;const X=requireQueueMicrotask();return nextTickBrowser=function(Z,...G){G.length===0?X(Z):X(()=>Z(...G))},nextTickBrowser}var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(X){const Z=requireBase64Js(),G=ieee754,W=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;X.Buffer=Y,X.SlowBuffer=pe,X.INSPECT_MAX_BYTES=50;const F=2147483647;X.kMaxLength=F,Y.TYPED_ARRAY_SUPPORT=U(),!Y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function U(){try{const Ve=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(Ve,oe),Ve.foo()===42}catch{return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}});function J(Ve){if(Ve>F)throw new RangeError('The value "'+Ve+'" is invalid for option "size"');const oe=new Uint8Array(Ve);return Object.setPrototypeOf(oe,Y.prototype),oe}function Y(Ve,oe,me){if(typeof Ve=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return q(Ve)}return D(Ve,oe,me)}Y.poolSize=8192;function D(Ve,oe,me){if(typeof Ve=="string")return te(Ve,oe);if(ArrayBuffer.isView(Ve))return ne(Ve);if(Ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve);if($e(Ve,ArrayBuffer)||Ve&&$e(Ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(Ve,SharedArrayBuffer)||Ve&&$e(Ve.buffer,SharedArrayBuffer)))return ce(Ve,oe,me);if(typeof Ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Se=Ve.valueOf&&Ve.valueOf();if(Se!=null&&Se!==Ve)return Y.from(Se,oe,me);const Fe=le(Ve);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ve[Symbol.toPrimitive]=="function")return Y.from(Ve[Symbol.toPrimitive]("string"),oe,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve)}Y.from=function(Ve,oe,me){return D(Ve,oe,me)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array);function Q(Ve){if(typeof Ve!="number")throw new TypeError('"size" argument must be of type number');if(Ve<0)throw new RangeError('The value "'+Ve+'" is invalid for option "size"')}function ee(Ve,oe,me){return Q(Ve),Ve<=0?J(Ve):oe!==void 0?typeof me=="string"?J(Ve).fill(oe,me):J(Ve).fill(oe):J(Ve)}Y.alloc=function(Ve,oe,me){return ee(Ve,oe,me)};function q(Ve){return Q(Ve),J(Ve<0?0:se(Ve)|0)}Y.allocUnsafe=function(Ve){return q(Ve)},Y.allocUnsafeSlow=function(Ve){return q(Ve)};function te(Ve,oe){if((typeof oe!="string"||oe==="")&&(oe="utf8"),!Y.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);const me=ue(Ve,oe)|0;let Se=J(me);const Fe=Se.write(Ve,oe);return Fe!==me&&(Se=Se.slice(0,Fe)),Se}function ie(Ve){const oe=Ve.length<0?0:se(Ve.length)|0,me=J(oe);for(let Se=0;Se<oe;Se+=1)me[Se]=Ve[Se]&255;return me}function ne(Ve){if($e(Ve,Uint8Array)){const oe=new Uint8Array(Ve);return ce(oe.buffer,oe.byteOffset,oe.byteLength)}return ie(Ve)}function ce(Ve,oe,me){if(oe<0||Ve.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Ve.byteLength<oe+(me||0))throw new RangeError('"length" is outside of buffer bounds');let Se;return oe===void 0&&me===void 0?Se=new Uint8Array(Ve):me===void 0?Se=new Uint8Array(Ve,oe):Se=new Uint8Array(Ve,oe,me),Object.setPrototypeOf(Se,Y.prototype),Se}function le(Ve){if(Y.isBuffer(Ve)){const oe=se(Ve.length)|0,me=J(oe);return me.length===0||Ve.copy(me,0,0,oe),me}if(Ve.length!==void 0)return typeof Ve.length!="number"||we(Ve.length)?J(0):ie(Ve);if(Ve.type==="Buffer"&&Array.isArray(Ve.data))return ie(Ve.data)}function se(Ve){if(Ve>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return Ve|0}function pe(Ve){return+Ve!=Ve&&(Ve=0),Y.alloc(+Ve)}Y.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==Y.prototype},Y.compare=function(oe,me){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),$e(me,Uint8Array)&&(me=Y.from(me,me.offset,me.byteLength)),!Y.isBuffer(oe)||!Y.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===me)return 0;let Se=oe.length,Fe=me.length;for(let Ke=0,Ae=Math.min(Se,Fe);Ke<Ae;++Ke)if(oe[Ke]!==me[Ke]){Se=oe[Ke],Fe=me[Ke];break}return Se<Fe?-1:Fe<Se?1:0},Y.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(oe,me){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return Y.alloc(0);let Se;if(me===void 0)for(me=0,Se=0;Se<oe.length;++Se)me+=oe[Se].length;const Fe=Y.allocUnsafe(me);let Ke=0;for(Se=0;Se<oe.length;++Se){let Ae=oe[Se];if($e(Ae,Uint8Array))Ke+Ae.length>Fe.length?(Y.isBuffer(Ae)||(Ae=Y.from(Ae)),Ae.copy(Fe,Ke)):Uint8Array.prototype.set.call(Fe,Ae,Ke);else if(Y.isBuffer(Ae))Ae.copy(Fe,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=Ae.length}return Fe};function ue(Ve,oe){if(Y.isBuffer(Ve))return Ve.length;if(ArrayBuffer.isView(Ve)||$e(Ve,ArrayBuffer))return Ve.byteLength;if(typeof Ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ve);const me=Ve.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&me===0)return 0;let Fe=!1;for(;;)switch(oe){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return ze(Ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return He(Ve).length;default:if(Fe)return Se?-1:ze(Ve).length;oe=(""+oe).toLowerCase(),Fe=!0}}Y.byteLength=ue;function ae(Ve,oe,me){let Se=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,oe>>>=0,me<=oe))return"";for(Ve||(Ve="utf8");;)switch(Ve){case"hex":return xe(this,oe,me);case"utf8":case"utf-8":return re(this,oe,me);case"ascii":return ve(this,oe,me);case"latin1":case"binary":return Te(this,oe,me);case"base64":return ye(this,oe,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye(this,oe,me);default:if(Se)throw new TypeError("Unknown encoding: "+Ve);Ve=(Ve+"").toLowerCase(),Se=!0}}Y.prototype._isBuffer=!0;function de(Ve,oe,me){const Se=Ve[oe];Ve[oe]=Ve[me],Ve[me]=Se}Y.prototype.swap16=function(){const oe=this.length;if(oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let me=0;me<oe;me+=2)de(this,me,me+1);return this},Y.prototype.swap32=function(){const oe=this.length;if(oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let me=0;me<oe;me+=4)de(this,me,me+3),de(this,me+1,me+2);return this},Y.prototype.swap64=function(){const oe=this.length;if(oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let me=0;me<oe;me+=8)de(this,me,me+7),de(this,me+1,me+6),de(this,me+2,me+5),de(this,me+3,me+4);return this},Y.prototype.toString=function(){const oe=this.length;return oe===0?"":arguments.length===0?re(this,0,oe):ae.apply(this,arguments)},Y.prototype.toLocaleString=Y.prototype.toString,Y.prototype.equals=function(oe){if(!Y.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe?!0:Y.compare(this,oe)===0},Y.prototype.inspect=function(){let oe="";const me=X.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(oe+=" ... "),"<Buffer "+oe+">"},W&&(Y.prototype[W]=Y.prototype.inspect),Y.prototype.compare=function(oe,me,Se,Fe,Ke){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),!Y.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof oe);if(me===void 0&&(me=0),Se===void 0&&(Se=oe?oe.length:0),Fe===void 0&&(Fe=0),Ke===void 0&&(Ke=this.length),me<0||Se>oe.length||Fe<0||Ke>this.length)throw new RangeError("out of range index");if(Fe>=Ke&&me>=Se)return 0;if(Fe>=Ke)return-1;if(me>=Se)return 1;if(me>>>=0,Se>>>=0,Fe>>>=0,Ke>>>=0,this===oe)return 0;let Ae=Ke-Fe,rt=Se-me;const vt=Math.min(Ae,rt),Vt=this.slice(Fe,Ke),Wt=oe.slice(me,Se);for(let ft=0;ft<vt;++ft)if(Vt[ft]!==Wt[ft]){Ae=Vt[ft],rt=Wt[ft];break}return Ae<rt?-1:rt<Ae?1:0};function be(Ve,oe,me,Se,Fe){if(Ve.length===0)return-1;if(typeof me=="string"?(Se=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,we(me)&&(me=Fe?0:Ve.length-1),me<0&&(me=Ve.length+me),me>=Ve.length){if(Fe)return-1;me=Ve.length-1}else if(me<0)if(Fe)me=0;else return-1;if(typeof oe=="string"&&(oe=Y.from(oe,Se)),Y.isBuffer(oe))return oe.length===0?-1:he(Ve,oe,me,Se,Fe);if(typeof oe=="number")return oe=oe&255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(Ve,oe,me):Uint8Array.prototype.lastIndexOf.call(Ve,oe,me):he(Ve,[oe],me,Se,Fe);throw new TypeError("val must be string, number or Buffer")}function he(Ve,oe,me,Se,Fe){let Ke=1,Ae=Ve.length,rt=oe.length;if(Se!==void 0&&(Se=String(Se).toLowerCase(),Se==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if(Ve.length<2||oe.length<2)return-1;Ke=2,Ae/=2,rt/=2,me/=2}function vt(Wt,ft){return Ke===1?Wt[ft]:Wt.readUInt16BE(ft*Ke)}let Vt;if(Fe){let Wt=-1;for(Vt=me;Vt<Ae;Vt++)if(vt(Ve,Vt)===vt(oe,Wt===-1?0:Vt-Wt)){if(Wt===-1&&(Wt=Vt),Vt-Wt+1===rt)return Wt*Ke}else Wt!==-1&&(Vt-=Vt-Wt),Wt=-1}else for(me+rt>Ae&&(me=Ae-rt),Vt=me;Vt>=0;Vt--){let Wt=!0;for(let ft=0;ft<rt;ft++)if(vt(Ve,Vt+ft)!==vt(oe,ft)){Wt=!1;break}if(Wt)return Vt}return-1}Y.prototype.includes=function(oe,me,Se){return this.indexOf(oe,me,Se)!==-1},Y.prototype.indexOf=function(oe,me,Se){return be(this,oe,me,Se,!0)},Y.prototype.lastIndexOf=function(oe,me,Se){return be(this,oe,me,Se,!1)};function Le(Ve,oe,me,Se){me=Number(me)||0;const Fe=Ve.length-me;Se?(Se=Number(Se),Se>Fe&&(Se=Fe)):Se=Fe;const Ke=oe.length;Se>Ke/2&&(Se=Ke/2);let Ae;for(Ae=0;Ae<Se;++Ae){const rt=parseInt(oe.substr(Ae*2,2),16);if(we(rt))return Ae;Ve[me+Ae]=rt}return Ae}function Xe(Ve,oe,me,Se){return Pe(ze(oe,Ve.length-me),Ve,me,Se)}function We(Ve,oe,me,Se){return Pe(Ee(oe),Ve,me,Se)}function fe(Ve,oe,me,Se){return Pe(He(oe),Ve,me,Se)}function Re(Ve,oe,me,Se){return Pe(_e(oe,Ve.length-me),Ve,me,Se)}Y.prototype.write=function(oe,me,Se,Fe){if(me===void 0)Fe="utf8",Se=this.length,me=0;else if(Se===void 0&&typeof me=="string")Fe=me,Se=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(Se)?(Se=Se>>>0,Fe===void 0&&(Fe="utf8")):(Fe=Se,Se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ke=this.length-me;if((Se===void 0||Se>Ke)&&(Se=Ke),oe.length>0&&(Se<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let Ae=!1;for(;;)switch(Fe){case"hex":return Le(this,oe,me,Se);case"utf8":case"utf-8":return Xe(this,oe,me,Se);case"ascii":case"latin1":case"binary":return We(this,oe,me,Se);case"base64":return fe(this,oe,me,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,oe,me,Se);default:if(Ae)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ae=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(Ve,oe,me){return oe===0&&me===Ve.length?Z.fromByteArray(Ve):Z.fromByteArray(Ve.slice(oe,me))}function re(Ve,oe,me){me=Math.min(Ve.length,me);const Se=[];let Fe=oe;for(;Fe<me;){const Ke=Ve[Fe];let Ae=null,rt=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Fe+rt<=me){let vt,Vt,Wt,ft;switch(rt){case 1:Ke<128&&(Ae=Ke);break;case 2:vt=Ve[Fe+1],(vt&192)===128&&(ft=(Ke&31)<<6|vt&63,ft>127&&(Ae=ft));break;case 3:vt=Ve[Fe+1],Vt=Ve[Fe+2],(vt&192)===128&&(Vt&192)===128&&(ft=(Ke&15)<<12|(vt&63)<<6|Vt&63,ft>2047&&(ft<55296||ft>57343)&&(Ae=ft));break;case 4:vt=Ve[Fe+1],Vt=Ve[Fe+2],Wt=Ve[Fe+3],(vt&192)===128&&(Vt&192)===128&&(Wt&192)===128&&(ft=(Ke&15)<<18|(vt&63)<<12|(Vt&63)<<6|Wt&63,ft>65535&&ft<1114112&&(Ae=ft))}}Ae===null?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,Se.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),Se.push(Ae),Fe+=rt}return Ge(Se)}const Ze=4096;function Ge(Ve){const oe=Ve.length;if(oe<=Ze)return String.fromCharCode.apply(String,Ve);let me="",Se=0;for(;Se<oe;)me+=String.fromCharCode.apply(String,Ve.slice(Se,Se+=Ze));return me}function ve(Ve,oe,me){let Se="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)Se+=String.fromCharCode(Ve[Fe]&127);return Se}function Te(Ve,oe,me){let Se="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)Se+=String.fromCharCode(Ve[Fe]);return Se}function xe(Ve,oe,me){const Se=Ve.length;(!oe||oe<0)&&(oe=0),(!me||me<0||me>Se)&&(me=Se);let Fe="";for(let Ke=oe;Ke<me;++Ke)Fe+=Ue[Ve[Ke]];return Fe}function Ye(Ve,oe,me){const Se=Ve.slice(oe,me);let Fe="";for(let Ke=0;Ke<Se.length-1;Ke+=2)Fe+=String.fromCharCode(Se[Ke]+Se[Ke+1]*256);return Fe}Y.prototype.slice=function(oe,me){const Se=this.length;oe=~~oe,me=me===void 0?Se:~~me,oe<0?(oe+=Se,oe<0&&(oe=0)):oe>Se&&(oe=Se),me<0?(me+=Se,me<0&&(me=0)):me>Se&&(me=Se),me<oe&&(me=oe);const Fe=this.subarray(oe,me);return Object.setPrototypeOf(Fe,Y.prototype),Fe};function ge(Ve,oe,me){if(Ve%1!==0||Ve<0)throw new RangeError("offset is not uint");if(Ve+oe>me)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Fe},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=this[oe+--me],Ke=1;for(;me>0&&(Ke*=256);)Fe+=this[oe+--me]*Ke;return Fe},Y.prototype.readUint8=Y.prototype.readUInt8=function(oe,me){return oe=oe>>>0,me||ge(oe,1,this.length),this[oe]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(oe,me){return oe=oe>>>0,me||ge(oe,2,this.length),this[oe]|this[oe+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(oe,me){return oe=oe>>>0,me||ge(oe,2,this.length),this[oe]<<8|this[oe+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+this[oe+3]*16777216},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),this[oe]*16777216+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},Y.prototype.readBigUInt64LE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24,Ke=this[++oe]+this[++oe]*2**8+this[++oe]*2**16+Se*2**24;return BigInt(Fe)+(BigInt(Ke)<<BigInt(32))}),Y.prototype.readBigUInt64BE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=me*2**24+this[++oe]*2**16+this[++oe]*2**8+this[++oe],Ke=this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+Se;return(BigInt(Fe)<<BigInt(32))+BigInt(Ke)}),Y.prototype.readIntLE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Ke*=128,Fe>=Ke&&(Fe-=Math.pow(2,8*me)),Fe},Y.prototype.readIntBE=function(oe,me,Se){oe=oe>>>0,me=me>>>0,Se||ge(oe,me,this.length);let Fe=me,Ke=1,Ae=this[oe+--Fe];for(;Fe>0&&(Ke*=256);)Ae+=this[oe+--Fe]*Ke;return Ke*=128,Ae>=Ke&&(Ae-=Math.pow(2,8*me)),Ae},Y.prototype.readInt8=function(oe,me){return oe=oe>>>0,me||ge(oe,1,this.length),this[oe]&128?(255-this[oe]+1)*-1:this[oe]},Y.prototype.readInt16LE=function(oe,me){oe=oe>>>0,me||ge(oe,2,this.length);const Se=this[oe]|this[oe+1]<<8;return Se&32768?Se|4294901760:Se},Y.prototype.readInt16BE=function(oe,me){oe=oe>>>0,me||ge(oe,2,this.length);const Se=this[oe+1]|this[oe]<<8;return Se&32768?Se|4294901760:Se},Y.prototype.readInt32LE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},Y.prototype.readInt32BE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},Y.prototype.readBigInt64LE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=this[oe+4]+this[oe+5]*2**8+this[oe+6]*2**16+(Se<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24)}),Y.prototype.readBigInt64BE=et(function(oe){oe=oe>>>0,Ne(oe,"offset");const me=this[oe],Se=this[oe+7];(me===void 0||Se===void 0)&&ke(oe,this.length-8);const Fe=(me<<24)+this[++oe]*2**16+this[++oe]*2**8+this[++oe];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+Se)}),Y.prototype.readFloatLE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),G.read(this,oe,!0,23,4)},Y.prototype.readFloatBE=function(oe,me){return oe=oe>>>0,me||ge(oe,4,this.length),G.read(this,oe,!1,23,4)},Y.prototype.readDoubleLE=function(oe,me){return oe=oe>>>0,me||ge(oe,8,this.length),G.read(this,oe,!0,52,8)},Y.prototype.readDoubleBE=function(oe,me){return oe=oe>>>0,me||ge(oe,8,this.length),G.read(this,oe,!1,52,8)};function Me(Ve,oe,me,Se,Fe,Ke){if(!Y.isBuffer(Ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Fe||oe<Ke)throw new RangeError('"value" argument is out of bounds');if(me+Se>Ve.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,Se=Se>>>0,!Fe){const rt=Math.pow(2,8*Se)-1;Me(this,oe,me,Se,rt,0)}let Ke=1,Ae=0;for(this[me]=oe&255;++Ae<Se&&(Ke*=256);)this[me+Ae]=oe/Ke&255;return me+Se},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,Se=Se>>>0,!Fe){const rt=Math.pow(2,8*Se)-1;Me(this,oe,me,Se,rt,0)}let Ke=Se-1,Ae=1;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)this[me+Ke]=oe/Ae&255;return me+Se},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,1,255,0),this[me]=oe&255,me+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,65535,0),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,65535,0),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,4294967295,0),this[me+3]=oe>>>24,this[me+2]=oe>>>16,this[me+1]=oe>>>8,this[me]=oe&255,me+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,4294967295,0),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4};function je(Ve,oe,me,Se,Fe){Je(oe,Se,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,me}function tt(Ve,oe,me,Se,Fe){Je(oe,Se,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me+7]=Ke,Ke=Ke>>8,Ve[me+6]=Ke,Ke=Ke>>8,Ve[me+5]=Ke,Ke=Ke>>8,Ve[me+4]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me+3]=Ae,Ae=Ae>>8,Ve[me+2]=Ae,Ae=Ae>>8,Ve[me+1]=Ae,Ae=Ae>>8,Ve[me]=Ae,me+8}Y.prototype.writeBigUInt64LE=et(function(oe,me=0){return je(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=et(function(oe,me=0){return tt(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*Se-1);Me(this,oe,me,Se,vt-1,-vt)}let Ke=0,Ae=1,rt=0;for(this[me]=oe&255;++Ke<Se&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke-1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+Se},Y.prototype.writeIntBE=function(oe,me,Se,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*Se-1);Me(this,oe,me,Se,vt-1,-vt)}let Ke=Se-1,Ae=1,rt=0;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke+1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+Se},Y.prototype.writeInt8=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,1,127,-128),oe<0&&(oe=255+oe+1),this[me]=oe&255,me+1},Y.prototype.writeInt16LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,32767,-32768),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeInt16BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,2,32767,-32768),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeInt32LE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,2147483647,-2147483648),this[me]=oe&255,this[me+1]=oe>>>8,this[me+2]=oe>>>16,this[me+3]=oe>>>24,me+4},Y.prototype.writeInt32BE=function(oe,me,Se){return oe=+oe,me=me>>>0,Se||Me(this,oe,me,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4},Y.prototype.writeBigInt64LE=et(function(oe,me=0){return je(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=et(function(oe,me=0){return tt(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(Ve,oe,me,Se,Fe,Ke){if(me+Se>Ve.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function st(Ve,oe,me,Se,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,4),G.write(Ve,oe,me,Se,23,4),me+4}Y.prototype.writeFloatLE=function(oe,me,Se){return st(this,oe,me,!0,Se)},Y.prototype.writeFloatBE=function(oe,me,Se){return st(this,oe,me,!1,Se)};function qe(Ve,oe,me,Se,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,8),G.write(Ve,oe,me,Se,52,8),me+8}Y.prototype.writeDoubleLE=function(oe,me,Se){return qe(this,oe,me,!0,Se)},Y.prototype.writeDoubleBE=function(oe,me,Se){return qe(this,oe,me,!1,Se)},Y.prototype.copy=function(oe,me,Se,Fe){if(!Y.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),!Fe&&Fe!==0&&(Fe=this.length),me>=oe.length&&(me=oe.length),me||(me=0),Fe>0&&Fe<Se&&(Fe=Se),Fe===Se||oe.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),oe.length-me<Fe-Se&&(Fe=oe.length-me+Se);const Ke=Fe-Se;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,Se,Fe):Uint8Array.prototype.set.call(oe,this.subarray(Se,Fe),me),Ke},Y.prototype.fill=function(oe,me,Se,Fe){if(typeof oe=="string"){if(typeof me=="string"?(Fe=me,me=0,Se=this.length):typeof Se=="string"&&(Fe=Se,Se=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!Y.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(oe.length===1){const Ae=oe.charCodeAt(0);(Fe==="utf8"&&Ae<128||Fe==="latin1")&&(oe=Ae)}}else typeof oe=="number"?oe=oe&255:typeof oe=="boolean"&&(oe=Number(oe));if(me<0||this.length<me||this.length<Se)throw new RangeError("Out of range index");if(Se<=me)return this;me=me>>>0,Se=Se===void 0?this.length:Se>>>0,oe||(oe=0);let Ke;if(typeof oe=="number")for(Ke=me;Ke<Se;++Ke)this[Ke]=oe;else{const Ae=Y.isBuffer(oe)?oe:Y.from(oe,Fe),rt=Ae.length;if(rt===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Ke=0;Ke<Se-me;++Ke)this[Ke+me]=Ae[Ke%rt]}return this};const ot={};function ut(Ve,oe,me){ot[Ve]=class extends me{constructor(){super(),Object.defineProperty(this,"message",{value:oe.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ve}]`,this.stack,delete this.name}get code(){return Ve}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${Ve}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(Ve){return Ve?`${Ve} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(Ve,oe){return`The "${Ve}" argument must be of type number. Received type ${typeof oe}`},TypeError),ut("ERR_OUT_OF_RANGE",function(Ve,oe,me){let Se=`The value of "${Ve}" is out of range.`,Fe=me;return Number.isInteger(me)&&Math.abs(me)>2**32?Fe=dt(String(me)):typeof me=="bigint"&&(Fe=String(me),(me>BigInt(2)**BigInt(32)||me<-(BigInt(2)**BigInt(32)))&&(Fe=dt(Fe)),Fe+="n"),Se+=` It must be ${oe}. Received ${Fe}`,Se},RangeError);function dt(Ve){let oe="",me=Ve.length;const Se=Ve[0]==="-"?1:0;for(;me>=Se+4;me-=3)oe=`_${Ve.slice(me-3,me)}${oe}`;return`${Ve.slice(0,me)}${oe}`}function mt(Ve,oe,me){Ne(oe,"offset"),(Ve[oe]===void 0||Ve[oe+me]===void 0)&&ke(oe,Ve.length-(me+1))}function Je(Ve,oe,me,Se,Fe,Ke){if(Ve>me||Ve<oe){const Ae=typeof oe=="bigint"?"n":"";let rt;throw Ke>3?oe===0||oe===BigInt(0)?rt=`>= 0${Ae} and < 2${Ae} ** ${(Ke+1)*8}${Ae}`:rt=`>= -(2${Ae} ** ${(Ke+1)*8-1}${Ae}) and < 2 ** ${(Ke+1)*8-1}${Ae}`:rt=`>= ${oe}${Ae} and <= ${me}${Ae}`,new ot.ERR_OUT_OF_RANGE("value",rt,Ve)}mt(Se,Fe,Ke)}function Ne(Ve,oe){if(typeof Ve!="number")throw new ot.ERR_INVALID_ARG_TYPE(oe,"number",Ve)}function ke(Ve,oe,me){throw Math.floor(Ve)!==Ve?(Ne(Ve,me),new ot.ERR_OUT_OF_RANGE(me||"offset","an integer",Ve)):oe<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(me||"offset",`>= ${me?1:0} and <= ${oe}`,Ve)}const Ie=/[^+/0-9A-Za-z-_]/g;function Ce(Ve){if(Ve=Ve.split("=")[0],Ve=Ve.trim().replace(Ie,""),Ve.length<2)return"";for(;Ve.length%4!==0;)Ve=Ve+"=";return Ve}function ze(Ve,oe){oe=oe||1/0;let me;const Se=Ve.length;let Fe=null;const Ke=[];for(let Ae=0;Ae<Se;++Ae){if(me=Ve.charCodeAt(Ae),me>55295&&me<57344){if(!Fe){if(me>56319){(oe-=3)>-1&&Ke.push(239,191,189);continue}else if(Ae+1===Se){(oe-=3)>-1&&Ke.push(239,191,189);continue}Fe=me;continue}if(me<56320){(oe-=3)>-1&&Ke.push(239,191,189),Fe=me;continue}me=(Fe-55296<<10|me-56320)+65536}else Fe&&(oe-=3)>-1&&Ke.push(239,191,189);if(Fe=null,me<128){if((oe-=1)<0)break;Ke.push(me)}else if(me<2048){if((oe-=2)<0)break;Ke.push(me>>6|192,me&63|128)}else if(me<65536){if((oe-=3)<0)break;Ke.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((oe-=4)<0)break;Ke.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return Ke}function Ee(Ve){const oe=[];for(let me=0;me<Ve.length;++me)oe.push(Ve.charCodeAt(me)&255);return oe}function _e(Ve,oe){let me,Se,Fe;const Ke=[];for(let Ae=0;Ae<Ve.length&&!((oe-=2)<0);++Ae)me=Ve.charCodeAt(Ae),Se=me>>8,Fe=me%256,Ke.push(Fe),Ke.push(Se);return Ke}function He(Ve){return Z.toByteArray(Ce(Ve))}function Pe(Ve,oe,me,Se){let Fe;for(Fe=0;Fe<Se&&!(Fe+me>=oe.length||Fe>=Ve.length);++Fe)oe[Fe+me]=Ve[Fe];return Fe}function $e(Ve,oe){return Ve instanceof oe||Ve!=null&&Ve.constructor!=null&&Ve.constructor.name!=null&&Ve.constructor.name===oe.name}function we(Ve){return Ve!==Ve}const Ue=function(){const Ve="0123456789abcdef",oe=new Array(256);for(let me=0;me<16;++me){const Se=me*16;for(let Fe=0;Fe<16;++Fe)oe[Se+Fe]=Ve[me]+Ve[Fe]}return oe}();function et(Ve){return typeof BigInt>"u"?at:Ve}function at(){throw new Error("BigInt not supported")}}(buffer)),buffer}var abstractSublevelIterator={},hasRequiredAbstractSublevelIterator;function requireAbstractSublevelIterator(){if(hasRequiredAbstractSublevelIterator)return abstractSublevelIterator;hasRequiredAbstractSublevelIterator=1;const{AbstractIterator:X,AbstractKeyIterator:Z,AbstractValueIterator:G}=abstractIterator,W=Symbol("unfix"),F=Symbol("iterator"),U=Symbol("handleOne"),J=Symbol("handleMany"),Y=Symbol("callback");class D extends X{constructor(te,ie,ne,ce){super(te,ie),this[F]=ne,this[W]=ce,this[U]=this[U].bind(this),this[J]=this[J].bind(this),this[Y]=null}[U](te,ie,ne){const ce=this[Y];if(te)return ce(te);ie!==void 0&&(ie=this[W](ie)),ce(te,ie,ne)}[J](te,ie){const ne=this[Y];if(te)return ne(te);for(const ce of ie){const le=ce[0];le!==void 0&&(ce[0]=this[W](le))}ne(te,ie)}}class Q extends Z{constructor(te,ie,ne,ce){super(te,ie),this[F]=ne,this[W]=ce,this[U]=this[U].bind(this),this[J]=this[J].bind(this),this[Y]=null}[U](te,ie){const ne=this[Y];if(te)return ne(te);ie!==void 0&&(ie=this[W](ie)),ne(te,ie)}[J](te,ie){const ne=this[Y];if(te)return ne(te);for(let ce=0;ce<ie.length;ce++){const le=ie[ce];le!==void 0&&(ie[ce]=this[W](le))}ne(te,ie)}}class ee extends G{constructor(te,ie,ne){super(te,ie),this[F]=ne}}for(const q of[D,Q])q.prototype._next=function(te){this[Y]=te,this[F].next(this[U])},q.prototype._nextv=function(te,ie,ne){this[Y]=ne,this[F].nextv(te,ie,this[J])},q.prototype._all=function(te,ie){this[Y]=ie,this[F].all(te,this[J])};for(const q of[ee])q.prototype._next=function(te){this[F].next(te)},q.prototype._nextv=function(te,ie,ne){this[F].nextv(te,ie,ne)},q.prototype._all=function(te,ie){this[F].all(te,ie)};for(const q of[D,Q,ee])q.prototype._seek=function(te,ie){this[F].seek(te,ie)},q.prototype._close=function(te){this[F].close(te)};return abstractSublevelIterator.AbstractSublevelIterator=D,abstractSublevelIterator.AbstractSublevelKeyIterator=Q,abstractSublevelIterator.AbstractSublevelValueIterator=ee,abstractSublevelIterator}var abstractSublevel,hasRequiredAbstractSublevel;function requireAbstractSublevel(){if(hasRequiredAbstractSublevel)return abstractSublevel;hasRequiredAbstractSublevel=1;const X=moduleError,{Buffer:Z}=requireBuffer()||{},{AbstractSublevelIterator:G,AbstractSublevelKeyIterator:W,AbstractSublevelValueIterator:F}=requireAbstractSublevelIterator(),U=Symbol("prefix"),J=Symbol("upperBound"),Y=Symbol("prefixRange"),D=Symbol("parent"),Q=Symbol("unfix"),ee=new TextEncoder,q={separator:"!"};abstractSublevel=function({AbstractLevel:se}){class pe extends se{static defaults(ae){if(typeof ae=="string")throw new X("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new X("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return ae==null?q:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,de,be){const{separator:he,manifest:Le,...Xe}=pe.defaults(be);de=le(de,he);const We=he.charCodeAt(0)+1,fe=ae[D]||ae;if(!ee.encode(de).every(re=>re>We&&re<127))throw new X(`Prefix must use bytes > ${We} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(te(fe,Le),Xe);const Re=(ae.prefix||"")+he+de+he,ye=Re.slice(0,-1)+String.fromCharCode(We);this[D]=fe,this[U]=new ne(Re),this[J]=new ne(ye),this[Q]=new ce,this.nextTick=fe.nextTick}prefixKey(ae,de){if(de==="utf8")return this[U].utf8+ae;if(ae.byteLength===0)return this[U][de];if(de==="view"){const be=this[U].view,he=new Uint8Array(be.byteLength+ae.byteLength);return he.set(be,0),he.set(ae,be.byteLength),he}else{const be=this[U].buffer;return Z.concat([be,ae],be.byteLength+ae.byteLength)}}[Y](ae,de){ae.gte!==void 0?ae.gte=this.prefixKey(ae.gte,de):ae.gt!==void 0?ae.gt=this.prefixKey(ae.gt,de):ae.gte=this[U][de],ae.lte!==void 0?ae.lte=this.prefixKey(ae.lte,de):ae.lt!==void 0?ae.lt=this.prefixKey(ae.lt,de):ae.lte=this[J][de]}get prefix(){return this[U].utf8}get db(){return this[D]}_open(ae,de){this[D].open({passive:!0},de)}_put(ae,de,be,he){this[D].put(ae,de,be,he)}_get(ae,de,be){this[D].get(ae,de,be)}_getMany(ae,de,be){this[D].getMany(ae,de,be)}_del(ae,de,be){this[D].del(ae,de,be)}_batch(ae,de,be){this[D].batch(ae,de,be)}_clear(ae,de){this[Y](ae,ae.keyEncoding),this[D].clear(ae,de)}_iterator(ae){this[Y](ae,ae.keyEncoding);const de=this[D].iterator(ae),be=this[Q].get(this[U].utf8.length,ae.keyEncoding);return new G(this,ae,de,be)}_keys(ae){this[Y](ae,ae.keyEncoding);const de=this[D].keys(ae),be=this[Q].get(this[U].utf8.length,ae.keyEncoding);return new W(this,ae,de,be)}_values(ae){this[Y](ae,ae.keyEncoding);const de=this[D].values(ae);return new F(this,ae,de)}}return{AbstractSublevel:pe}};const te=function(se,pe){return{...se.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...pe,encodings:{utf8:ie(se,"utf8"),buffer:ie(se,"buffer"),view:ie(se,"view")}}},ie=function(se,pe){return se.supports.encodings[pe]?se.keyEncoding(pe).name===pe:!1};class ne{constructor(pe){this.utf8=pe,this.view=ee.encode(pe),this.buffer=Z?Z.from(this.view.buffer,0,this.view.byteLength):{}}}class ce{constructor(){this.cache=new Map}get(pe,ue){let ae=this.cache.get(ue);return ae===void 0&&(ue==="view"?ae=function(de,be){return be.subarray(de)}.bind(null,pe):ae=function(de,be){return be.slice(de)}.bind(null,pe),this.cache.set(ue,ae)),ae}}const le=function(se,pe){let ue=0,ae=se.length;for(;ue<ae&&se[ue]===pe;)ue++;for(;ae>ue&&se[ae-1]===pe;)ae--;return se.slice(ue,ae)};return abstractSublevel}const{supports}=levelSupports,{Transcoder}=levelTranscoder,{EventEmitter}=eventsExports,{fromCallback}=catering,ModuleError$1=moduleError,{AbstractIterator:AbstractIterator$1}=abstractIterator,{DefaultKeyIterator,DefaultValueIterator}=defaultKvIterator,{DeferredIterator,DeferredKeyIterator,DeferredValueIterator}=deferredIterator,{DefaultChainedBatch}=defaultChainedBatch,{getCallback,getOptions}=common$6,rangeOptions$1=rangeOptions_1,kPromise=Symbol("promise"),kLanded=Symbol("landed"),kResources=Symbol("resources"),kCloseResources=Symbol("closeResources"),kOperations=Symbol("operations"),kUndefer=Symbol("undefer"),kDeferOpen=Symbol("deferOpen"),kOptions$1=Symbol("options"),kStatus=Symbol("status"),kDefaultOptions=Symbol("defaultOptions"),kTranscoder=Symbol("transcoder"),kKeyEncoding=Symbol("keyEncoding"),kValueEncoding=Symbol("valueEncoding"),noop$3=()=>{};let AbstractLevel$1=class extends EventEmitter{constructor(Z,G){if(super(),typeof Z!="object"||Z===null)throw new TypeError("The first argument 'manifest' must be an object");G=getOptions(G);const{keyEncoding:W,valueEncoding:F,passive:U,...J}=G;this[kResources]=new Set,this[kOperations]=[],this[kDeferOpen]=!0,this[kOptions$1]=J,this[kStatus]="opening",this.supports=supports(Z,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:Z.snapshots!==!1,permanence:Z.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:Z.encodings||{},events:Object.assign({},Z.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[kTranscoder]=new Transcoder(formats(this)),this[kKeyEncoding]=this[kTranscoder].encoding(W||"utf8"),this[kValueEncoding]=this[kTranscoder].encoding(F||"utf8");for(const Y of this[kTranscoder].encodings())this.supports.encodings[Y.commonName]||(this.supports.encodings[Y.commonName]=!0);this[kDefaultOptions]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[kKeyEncoding].commonName,valueEncoding:this[kValueEncoding].commonName}),key:Object.freeze({keyEncoding:this[kKeyEncoding].commonName})},this.nextTick(()=>{this[kDeferOpen]&&this.open({passive:!1},noop$3)})}get status(){return this[kStatus]}keyEncoding(Z){return this[kTranscoder].encoding(Z??this[kKeyEncoding])}valueEncoding(Z){return this[kTranscoder].encoding(Z??this[kValueEncoding])}open(Z,G){G=getCallback(Z,G),G=fromCallback(G,kPromise),Z={...this[kOptions$1],...getOptions(Z)},Z.createIfMissing=Z.createIfMissing!==!1,Z.errorIfExists=!!Z.errorIfExists;const W=F=>{this[kStatus]==="closing"||this[kStatus]==="opening"?this.once(kLanded,F?()=>W(F):W):this[kStatus]!=="open"?G(new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:F})):G()};return Z.passive?this[kStatus]==="opening"?this.once(kLanded,W):this.nextTick(W):this[kStatus]==="closed"||this[kDeferOpen]?(this[kDeferOpen]=!1,this[kStatus]="opening",this.emit("opening"),this._open(Z,F=>{if(F){this[kStatus]="closed",this[kCloseResources](()=>{this.emit(kLanded),W(F)}),this[kUndefer]();return}this[kStatus]="open",this[kUndefer](),this.emit(kLanded),this[kStatus]==="open"&&this.emit("open"),this[kStatus]==="open"&&this.emit("ready"),W()})):this[kStatus]==="open"?this.nextTick(W):this.once(kLanded,()=>this.open(Z,G)),G[kPromise]}_open(Z,G){this.nextTick(G)}close(Z){Z=fromCallback(Z,kPromise);const G=W=>{this[kStatus]==="opening"||this[kStatus]==="closing"?this.once(kLanded,W?G(W):G):this[kStatus]!=="closed"?Z(new ModuleError$1("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:W})):Z()};if(this[kStatus]==="open"){this[kStatus]="closing",this.emit("closing");const W=F=>{this[kStatus]="open",this[kUndefer](),this.emit(kLanded),G(F)};this[kCloseResources](()=>{this._close(F=>{if(F)return W(F);this[kStatus]="closed",this[kUndefer](),this.emit(kLanded),this[kStatus]==="closed"&&this.emit("closed"),G()})})}else this[kStatus]==="closed"?this.nextTick(G):this.once(kLanded,()=>this.close(Z));return Z[kPromise]}[kCloseResources](Z){if(this[kResources].size===0)return this.nextTick(Z);let G=this[kResources].size,W=!0;const F=()=>{--G===0&&(W?this.nextTick(Z):Z())};for(const U of this[kResources])U.close(F);W=!1,this[kResources].clear()}_close(Z){this.nextTick(Z)}get(Z,G,W){if(W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.get(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];const F=this._checkKey(Z);if(F)return this.nextTick(W,F),W[kPromise];const U=this.keyEncoding(G.keyEncoding),J=this.valueEncoding(G.valueEncoding),Y=U.format,D=J.format;return(G.keyEncoding!==Y||G.valueEncoding!==D)&&(G=Object.assign({},G,{keyEncoding:Y,valueEncoding:D})),this._get(this.prefixKey(U.encode(Z),Y),G,(Q,ee)=>{if(Q)return(Q.code==="LEVEL_NOT_FOUND"||Q.notFound||/NotFound/i.test(Q))&&(Q.code||(Q.code="LEVEL_NOT_FOUND"),Q.notFound||(Q.notFound=!0),Q.status||(Q.status=404)),W(Q);try{ee=J.decode(ee)}catch(q){return W(new ModuleError$1("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:q}))}W(null,ee)}),W[kPromise]}_get(Z,G,W){this.nextTick(W,new Error("NotFound"))}getMany(Z,G,W){if(W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.getMany(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];if(!Array.isArray(Z))return this.nextTick(W,new TypeError("The first argument 'keys' must be an array")),W[kPromise];if(Z.length===0)return this.nextTick(W,null,[]),W[kPromise];const F=this.keyEncoding(G.keyEncoding),U=this.valueEncoding(G.valueEncoding),J=F.format,Y=U.format;(G.keyEncoding!==J||G.valueEncoding!==Y)&&(G=Object.assign({},G,{keyEncoding:J,valueEncoding:Y}));const D=new Array(Z.length);for(let Q=0;Q<Z.length;Q++){const ee=Z[Q],q=this._checkKey(ee);if(q)return this.nextTick(W,q),W[kPromise];D[Q]=this.prefixKey(F.encode(ee),J)}return this._getMany(D,G,(Q,ee)=>{if(Q)return W(Q);try{for(let q=0;q<ee.length;q++)ee[q]!==void 0&&(ee[q]=U.decode(ee[q]))}catch(q){return W(new ModuleError$1(`Could not decode one or more of ${ee.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:q}))}W(null,ee)}),W[kPromise]}_getMany(Z,G,W){this.nextTick(W,null,new Array(Z.length).fill(void 0))}put(Z,G,W,F){if(F=getCallback(W,F),F=fromCallback(F,kPromise),W=getOptions(W,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.put(Z,G,W,F)),F[kPromise];if(maybeError(this,F))return F[kPromise];const U=this._checkKey(Z)||this._checkValue(G);if(U)return this.nextTick(F,U),F[kPromise];const J=this.keyEncoding(W.keyEncoding),Y=this.valueEncoding(W.valueEncoding),D=J.format,Q=Y.format;(W.keyEncoding!==D||W.valueEncoding!==Q)&&(W=Object.assign({},W,{keyEncoding:D,valueEncoding:Q}));const ee=this.prefixKey(J.encode(Z),D),q=Y.encode(G);return this._put(ee,q,W,te=>{if(te)return F(te);this.emit("put",Z,G),F()}),F[kPromise]}_put(Z,G,W,F){this.nextTick(F)}del(Z,G,W){if(W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].key),this[kStatus]==="opening")return this.defer(()=>this.del(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];const F=this._checkKey(Z);if(F)return this.nextTick(W,F),W[kPromise];const U=this.keyEncoding(G.keyEncoding),J=U.format;return G.keyEncoding!==J&&(G=Object.assign({},G,{keyEncoding:J})),this._del(this.prefixKey(U.encode(Z),J),G,Y=>{if(Y)return W(Y);this.emit("del",Z),W()}),W[kPromise]}_del(Z,G,W){this.nextTick(W)}batch(Z,G,W){if(!arguments.length){if(this[kStatus]==="opening")return new DefaultChainedBatch(this);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof Z=="function"?W=Z:W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.batch(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];if(!Array.isArray(Z))return this.nextTick(W,new TypeError("The first argument 'operations' must be an array")),W[kPromise];if(Z.length===0)return this.nextTick(W),W[kPromise];const F=new Array(Z.length),{keyEncoding:U,valueEncoding:J,...Y}=G;for(let D=0;D<Z.length;D++){if(typeof Z[D]!="object"||Z[D]===null)return this.nextTick(W,new TypeError("A batch operation must be an object")),W[kPromise];const Q=Object.assign({},Z[D]);if(Q.type!=="put"&&Q.type!=="del")return this.nextTick(W,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),W[kPromise];const ee=this._checkKey(Q.key);if(ee)return this.nextTick(W,ee),W[kPromise];const q=Q.sublevel!=null?Q.sublevel:this,te=q.keyEncoding(Q.keyEncoding||U),ie=te.format;if(Q.key=q.prefixKey(te.encode(Q.key),ie),Q.keyEncoding=ie,Q.type==="put"){const ne=this._checkValue(Q.value);if(ne)return this.nextTick(W,ne),W[kPromise];const ce=q.valueEncoding(Q.valueEncoding||J);Q.value=ce.encode(Q.value),Q.valueEncoding=ce.format}q!==this&&(Q.sublevel=null),F[D]=Q}return this._batch(F,Y,D=>{if(D)return W(D);this.emit("batch",Z),W()}),W[kPromise]}_batch(Z,G,W){this.nextTick(W)}sublevel(Z,G){return this._sublevel(Z,AbstractSublevel.defaults(G))}_sublevel(Z,G){return new AbstractSublevel(this,Z,G)}prefixKey(Z,G){return Z}clear(Z,G){if(G=getCallback(Z,G),G=fromCallback(G,kPromise),Z=getOptions(Z,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.clear(Z,G)),G[kPromise];if(maybeError(this,G))return G[kPromise];const W=Z,F=this.keyEncoding(Z.keyEncoding);return Z=rangeOptions$1(Z,F),Z.keyEncoding=F.format,Z.limit===0?this.nextTick(G):this._clear(Z,U=>{if(U)return G(U);this.emit("clear",W),G()}),G[kPromise]}_clear(Z,G){this.nextTick(G)}iterator(Z){const G=this.keyEncoding(Z&&Z.keyEncoding),W=this.valueEncoding(Z&&Z.valueEncoding);if(Z=rangeOptions$1(Z,G),Z.keys=Z.keys!==!1,Z.values=Z.values!==!1,Z[AbstractIterator$1.keyEncoding]=G,Z[AbstractIterator$1.valueEncoding]=W,Z.keyEncoding=G.format,Z.valueEncoding=W.format,this[kStatus]==="opening")return new DeferredIterator(this,Z);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(Z)}_iterator(Z){return new AbstractIterator$1(this,Z)}keys(Z){const G=this.keyEncoding(Z&&Z.keyEncoding),W=this.valueEncoding(Z&&Z.valueEncoding);if(Z=rangeOptions$1(Z,G),Z[AbstractIterator$1.keyEncoding]=G,Z[AbstractIterator$1.valueEncoding]=W,Z.keyEncoding=G.format,Z.valueEncoding=W.format,this[kStatus]==="opening")return new DeferredKeyIterator(this,Z);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(Z)}_keys(Z){return new DefaultKeyIterator(this,Z)}values(Z){const G=this.keyEncoding(Z&&Z.keyEncoding),W=this.valueEncoding(Z&&Z.valueEncoding);if(Z=rangeOptions$1(Z,G),Z[AbstractIterator$1.keyEncoding]=G,Z[AbstractIterator$1.valueEncoding]=W,Z.keyEncoding=G.format,Z.valueEncoding=W.format,this[kStatus]==="opening")return new DeferredValueIterator(this,Z);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(Z)}_values(Z){return new DefaultValueIterator(this,Z)}defer(Z){if(typeof Z!="function")throw new TypeError("The first argument must be a function");this[kOperations].push(Z)}[kUndefer](){if(this[kOperations].length===0)return;const Z=this[kOperations];this[kOperations]=[];for(const G of Z)G()}attachResource(Z){if(typeof Z!="object"||Z===null||typeof Z.close!="function")throw new TypeError("The first argument must be a resource object");this[kResources].add(Z)}detachResource(Z){this[kResources].delete(Z)}_chainedBatch(){return new DefaultChainedBatch(this)}_checkKey(Z){if(Z==null)return new ModuleError$1("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(Z){if(Z==null)return new ModuleError$1("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};AbstractLevel$1.prototype.nextTick=requireNextTickBrowser();const{AbstractSublevel}=requireAbstractSublevel()({AbstractLevel:AbstractLevel$1});abstractLevel.AbstractLevel=AbstractLevel$1;abstractLevel.AbstractSublevel=AbstractSublevel;const maybeError=function(X,Z){return X[kStatus]!=="open"?(X.nextTick(Z,new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},formats=function(X){return Object.keys(X.supports.encodings).filter(Z=>!!X.supports.encodings[Z])};abstractLevel$1.AbstractLevel=abstractLevel.AbstractLevel;abstractLevel$1.AbstractSublevel=abstractLevel.AbstractSublevel;abstractLevel$1.AbstractIterator=abstractIterator.AbstractIterator;abstractLevel$1.AbstractKeyIterator=abstractIterator.AbstractKeyIterator;abstractLevel$1.AbstractValueIterator=abstractIterator.AbstractValueIterator;abstractLevel$1.AbstractChainedBatch=abstractChainedBatch.AbstractChainedBatch;var rbtree=createRBTree,RED=0,BLACK=1;function RBNode(X,Z,G,W,F,U){this._color=X,this.key=Z,this.value=G,this.left=W,this.right=F,this._count=U}function cloneNode(X){return new RBNode(X._color,X.key,X.value,X.left,X.right,X._count)}function repaint(X,Z){return new RBNode(X,Z.key,Z.value,Z.left,Z.right,Z._count)}function recount(X){X._count=1+(X.left?X.left._count:0)+(X.right?X.right._count:0)}function RedBlackTree(X,Z){this._compare=X,this.root=Z}var proto=RedBlackTree.prototype;Object.defineProperty(proto,"keys",{get:function(){var X=[];return this.forEach(function(Z,G){X.push(Z)}),X}});Object.defineProperty(proto,"values",{get:function(){var X=[];return this.forEach(function(Z,G){X.push(G)}),X}});Object.defineProperty(proto,"length",{get:function(){return this.root?this.root._count:0}});proto.insert=function(X,Z){for(var G=this._compare,W=this.root,F=[],U=[];W;){var J=G(X,W.key);F.push(W),U.push(J),J<=0?W=W.left:W=W.right}F.push(new RBNode(RED,X,Z,null,null,1));for(var Y=F.length-2;Y>=0;--Y){var W=F[Y];U[Y]<=0?F[Y]=new RBNode(W._color,W.key,W.value,F[Y+1],W.right,W._count+1):F[Y]=new RBNode(W._color,W.key,W.value,W.left,F[Y+1],W._count+1)}for(var Y=F.length-1;Y>1;--Y){var D=F[Y-1],W=F[Y];if(D._color===BLACK||W._color===BLACK)break;var Q=F[Y-2];if(Q.left===D)if(D.left===W){var ee=Q.right;if(ee&&ee._color===RED)D._color=BLACK,Q.right=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(Q._color=RED,Q.left=D.right,D._color=BLACK,D.right=Q,F[Y-2]=D,F[Y-1]=W,recount(Q),recount(D),Y>=3){var q=F[Y-3];q.left===Q?q.left=D:q.right=D}break}}else{var ee=Q.right;if(ee&&ee._color===RED)D._color=BLACK,Q.right=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(D.right=W.left,Q._color=RED,Q.left=W.right,W._color=BLACK,W.left=D,W.right=Q,F[Y-2]=W,F[Y-1]=D,recount(Q),recount(D),recount(W),Y>=3){var q=F[Y-3];q.left===Q?q.left=W:q.right=W}break}}else if(D.right===W){var ee=Q.left;if(ee&&ee._color===RED)D._color=BLACK,Q.left=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(Q._color=RED,Q.right=D.left,D._color=BLACK,D.left=Q,F[Y-2]=D,F[Y-1]=W,recount(Q),recount(D),Y>=3){var q=F[Y-3];q.right===Q?q.right=D:q.left=D}break}}else{var ee=Q.left;if(ee&&ee._color===RED)D._color=BLACK,Q.left=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(D.left=W.right,Q._color=RED,Q.right=W.left,W._color=BLACK,W.right=D,W.left=Q,F[Y-2]=W,F[Y-1]=D,recount(Q),recount(D),recount(W),Y>=3){var q=F[Y-3];q.right===Q?q.right=W:q.left=W}break}}}return F[0]._color=BLACK,new RedBlackTree(G,F[0])};function doVisitFull(X,Z){if(Z.left){var G=doVisitFull(X,Z.left);if(G)return G}var G=X(Z.key,Z.value);if(G)return G;if(Z.right)return doVisitFull(X,Z.right)}function doVisitHalf(X,Z,G,W){var F=Z(X,W.key);if(F<=0){if(W.left){var U=doVisitHalf(X,Z,G,W.left);if(U)return U}var U=G(W.key,W.value);if(U)return U}if(W.right)return doVisitHalf(X,Z,G,W.right)}function doVisit(X,Z,G,W,F){var U=G(X,F.key),J=G(Z,F.key),Y;if(U<=0&&(F.left&&(Y=doVisit(X,Z,G,W,F.left),Y)||J>0&&(Y=W(F.key,F.value),Y)))return Y;if(J>0&&F.right)return doVisit(X,Z,G,W,F.right)}proto.forEach=function(Z,G,W){if(this.root)switch(arguments.length){case 1:return doVisitFull(Z,this.root);case 2:return doVisitHalf(G,this._compare,Z,this.root);case 3:return this._compare(G,W)>=0?void 0:doVisit(G,W,this._compare,Z,this.root)}};Object.defineProperty(proto,"begin",{get:function(){for(var X=[],Z=this.root;Z;)X.push(Z),Z=Z.left;return new RedBlackTreeIterator(this,X)}});Object.defineProperty(proto,"end",{get:function(){for(var X=[],Z=this.root;Z;)X.push(Z),Z=Z.right;return new RedBlackTreeIterator(this,X)}});proto.at=function(X){if(X<0)return new RedBlackTreeIterator(this,[]);for(var Z=this.root,G=[];;){if(G.push(Z),Z.left){if(X<Z.left._count){Z=Z.left;continue}X-=Z.left._count}if(!X)return new RedBlackTreeIterator(this,G);if(X-=1,Z.right){if(X>=Z.right._count)break;Z=Z.right}else break}return new RedBlackTreeIterator(this,[])};proto.ge=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U<=0&&(F=W.length),U<=0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.gt=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U<0&&(F=W.length),U<0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.lt=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U>0&&(F=W.length),U<=0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.le=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U>=0&&(F=W.length),U<0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.find=function(X){for(var Z=this._compare,G=this.root,W=[];G;){var F=Z(X,G.key);if(W.push(G),F===0)return new RedBlackTreeIterator(this,W);F<=0?G=G.left:G=G.right}return new RedBlackTreeIterator(this,[])};proto.remove=function(X){var Z=this.find(X);return Z?Z.remove():this};proto.get=function(X){for(var Z=this._compare,G=this.root;G;){var W=Z(X,G.key);if(W===0)return G.value;W<=0?G=G.left:G=G.right}};function RedBlackTreeIterator(X,Z){this.tree=X,this._stack=Z}var iproto=RedBlackTreeIterator.prototype;Object.defineProperty(iproto,"valid",{get:function(){return this._stack.length>0}});Object.defineProperty(iproto,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0});iproto.clone=function(){return new RedBlackTreeIterator(this.tree,this._stack.slice())};function swapNode(X,Z){X.key=Z.key,X.value=Z.value,X.left=Z.left,X.right=Z.right,X._color=Z._color,X._count=Z._count}function fixDoubleBlack(X){for(var Z,G,W,F,U=X.length-1;U>=0;--U){if(Z=X[U],U===0){Z._color=BLACK;return}if(G=X[U-1],G.left===Z){if(W=G.right,W.right&&W.right._color===RED){if(W=G.right=cloneNode(W),F=W.right=cloneNode(W.right),G.right=W.left,W.left=G,W.right=F,W._color=G._color,Z._color=BLACK,G._color=BLACK,F._color=BLACK,recount(G),recount(W),U>1){var J=X[U-2];J.left===G?J.left=W:J.right=W}X[U-1]=W;return}else if(W.left&&W.left._color===RED){if(W=G.right=cloneNode(W),F=W.left=cloneNode(W.left),G.right=F.left,W.left=F.right,F.left=G,F.right=W,F._color=G._color,G._color=BLACK,W._color=BLACK,Z._color=BLACK,recount(G),recount(W),recount(F),U>1){var J=X[U-2];J.left===G?J.left=F:J.right=F}X[U-1]=F;return}if(W._color===BLACK)if(G._color===RED){G._color=BLACK,G.right=repaint(RED,W);return}else{G.right=repaint(RED,W);continue}else{if(W=cloneNode(W),G.right=W.left,W.left=G,W._color=G._color,G._color=RED,recount(G),recount(W),U>1){var J=X[U-2];J.left===G?J.left=W:J.right=W}X[U-1]=W,X[U]=G,U+1<X.length?X[U+1]=Z:X.push(Z),U=U+2}}else{if(W=G.left,W.left&&W.left._color===RED){if(W=G.left=cloneNode(W),F=W.left=cloneNode(W.left),G.left=W.right,W.right=G,W.left=F,W._color=G._color,Z._color=BLACK,G._color=BLACK,F._color=BLACK,recount(G),recount(W),U>1){var J=X[U-2];J.right===G?J.right=W:J.left=W}X[U-1]=W;return}else if(W.right&&W.right._color===RED){if(W=G.left=cloneNode(W),F=W.right=cloneNode(W.right),G.left=F.right,W.right=F.left,F.right=G,F.left=W,F._color=G._color,G._color=BLACK,W._color=BLACK,Z._color=BLACK,recount(G),recount(W),recount(F),U>1){var J=X[U-2];J.right===G?J.right=F:J.left=F}X[U-1]=F;return}if(W._color===BLACK)if(G._color===RED){G._color=BLACK,G.left=repaint(RED,W);return}else{G.left=repaint(RED,W);continue}else{if(W=cloneNode(W),G.left=W.right,W.right=G,W._color=G._color,G._color=RED,recount(G),recount(W),U>1){var J=X[U-2];J.right===G?J.right=W:J.left=W}X[U-1]=W,X[U]=G,U+1<X.length?X[U+1]=Z:X.push(Z),U=U+2}}}}iproto.remove=function(){var X=this._stack;if(X.length===0)return this.tree;var Z=new Array(X.length),G=X[X.length-1];Z[Z.length-1]=new RBNode(G._color,G.key,G.value,G.left,G.right,G._count);for(var W=X.length-2;W>=0;--W){var G=X[W];G.left===X[W+1]?Z[W]=new RBNode(G._color,G.key,G.value,Z[W+1],G.right,G._count):Z[W]=new RBNode(G._color,G.key,G.value,G.left,Z[W+1],G._count)}if(G=Z[Z.length-1],G.left&&G.right){var F=Z.length;for(G=G.left;G.right;)Z.push(G),G=G.right;var U=Z[F-1];Z.push(new RBNode(G._color,U.key,U.value,G.left,G.right,G._count)),Z[F-1].key=G.key,Z[F-1].value=G.value;for(var W=Z.length-2;W>=F;--W)G=Z[W],Z[W]=new RBNode(G._color,G.key,G.value,G.left,Z[W+1],G._count);Z[F-1].left=Z[F]}if(G=Z[Z.length-1],G._color===RED){var J=Z[Z.length-2];J.left===G?J.left=null:J.right===G&&(J.right=null),Z.pop();for(var W=0;W<Z.length;++W)Z[W]._count--;return new RedBlackTree(this.tree._compare,Z[0])}else if(G.left||G.right){G.left?swapNode(G,G.left):G.right&&swapNode(G,G.right),G._color=BLACK;for(var W=0;W<Z.length-1;++W)Z[W]._count--;return new RedBlackTree(this.tree._compare,Z[0])}else{if(Z.length===1)return new RedBlackTree(this.tree._compare,null);for(var W=0;W<Z.length;++W)Z[W]._count--;var Y=Z[Z.length-2];fixDoubleBlack(Z),Y.left===G?Y.left=null:Y.right=null}return new RedBlackTree(this.tree._compare,Z[0])};Object.defineProperty(iproto,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0});Object.defineProperty(iproto,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0});Object.defineProperty(iproto,"index",{get:function(){var X=0,Z=this._stack;if(Z.length===0){var G=this.tree.root;return G?G._count:0}else Z[Z.length-1].left&&(X=Z[Z.length-1].left._count);for(var W=Z.length-2;W>=0;--W)Z[W+1]===Z[W].right&&(++X,Z[W].left&&(X+=Z[W].left._count));return X},enumerable:!0});iproto.next=function(){var X=this._stack;if(X.length!==0){var Z=X[X.length-1];if(Z.right)for(Z=Z.right;Z;)X.push(Z),Z=Z.left;else for(X.pop();X.length>0&&X[X.length-1].right===Z;)Z=X[X.length-1],X.pop()}};Object.defineProperty(iproto,"hasNext",{get:function(){var X=this._stack;if(X.length===0)return!1;if(X[X.length-1].right)return!0;for(var Z=X.length-1;Z>0;--Z)if(X[Z-1].left===X[Z])return!0;return!1}});iproto.update=function(X){var Z=this._stack;if(Z.length===0)throw new Error("Can't update empty node!");var G=new Array(Z.length),W=Z[Z.length-1];G[G.length-1]=new RBNode(W._color,W.key,X,W.left,W.right,W._count);for(var F=Z.length-2;F>=0;--F)W=Z[F],W.left===Z[F+1]?G[F]=new RBNode(W._color,W.key,W.value,G[F+1],W.right,W._count):G[F]=new RBNode(W._color,W.key,W.value,W.left,G[F+1],W._count);return new RedBlackTree(this.tree._compare,G[0])};iproto.prev=function(){var X=this._stack;if(X.length!==0){var Z=X[X.length-1];if(Z.left)for(Z=Z.left;Z;)X.push(Z),Z=Z.right;else for(X.pop();X.length>0&&X[X.length-1].left===Z;)Z=X[X.length-1],X.pop()}};Object.defineProperty(iproto,"hasPrev",{get:function(){var X=this._stack;if(X.length===0)return!1;if(X[X.length-1].left)return!0;for(var Z=X.length-1;Z>0;--Z)if(X[Z-1].right===X[Z])return!0;return!1}});function defaultCompare(X,Z){return X<Z?-1:X>Z?1:0}function createRBTree(X){return new RedBlackTree(X||defaultCompare,null)}const{AbstractLevel,AbstractIterator,AbstractKeyIterator,AbstractValueIterator}=abstractLevel$1,ModuleError=moduleError,createRBT=rbtree,rangeOptions=new Set(["gt","gte","lt","lte"]),kNone=Symbol("none"),kTree=Symbol("tree"),kIterator=Symbol("iterator"),kLowerBound=Symbol("lowerBound"),kUpperBound=Symbol("upperBound"),kOutOfRange=Symbol("outOfRange"),kReverse=Symbol("reverse"),kOptions=Symbol("options"),kTest=Symbol("test"),kAdvance=Symbol("advance"),kInit=Symbol("init");function compare(X,Z){if(typeof X=="string")return X<Z?-1:X>Z?1:0;const G=Math.min(X.byteLength,Z.byteLength);for(let W=0;W<G;W++){const F=X[W]-Z[W];if(F!==0)return F}return X.byteLength-Z.byteLength}function gt(X){return compare(X,this[kUpperBound])>0}function gte(X){return compare(X,this[kUpperBound])>=0}function lt(X){return compare(X,this[kUpperBound])<0}function lte(X){return compare(X,this[kUpperBound])<=0}class MemoryIterator extends AbstractIterator{constructor(Z,G){super(Z,G),this[kInit](Z[kTree],G)}_next(Z){if(!this[kIterator].valid)return this.nextTick(Z);const G=this[kIterator].key,W=this[kIterator].value;if(!this[kTest](G))return this.nextTick(Z);this[kIterator][this[kAdvance]](),this.nextTick(Z,null,G,W)}_nextv(Z,G,W){const F=this[kIterator],U=[];for(;F.valid&&U.length<Z&&this[kTest](F.key);)U.push([F.key,F.value]),F[this[kAdvance]]();this.nextTick(W,null,U)}_all(Z,G){const W=this.limit-this.count,F=this[kIterator],U=[];for(;F.valid&&U.length<W&&this[kTest](F.key);)U.push([F.key,F.value]),F[this[kAdvance]]();this.nextTick(G,null,U)}}class MemoryKeyIterator extends AbstractKeyIterator{constructor(Z,G){super(Z,G),this[kInit](Z[kTree],G)}_next(Z){if(!this[kIterator].valid)return this.nextTick(Z);const G=this[kIterator].key;if(!this[kTest](G))return this.nextTick(Z);this[kIterator][this[kAdvance]](),this.nextTick(Z,null,G)}_nextv(Z,G,W){const F=this[kIterator],U=[];for(;F.valid&&U.length<Z&&this[kTest](F.key);)U.push(F.key),F[this[kAdvance]]();this.nextTick(W,null,U)}_all(Z,G){const W=this.limit-this.count,F=this[kIterator],U=[];for(;F.valid&&U.length<W&&this[kTest](F.key);)U.push(F.key),F[this[kAdvance]]();this.nextTick(G,null,U)}}class MemoryValueIterator extends AbstractValueIterator{constructor(Z,G){super(Z,G),this[kInit](Z[kTree],G)}_next(Z){if(!this[kIterator].valid)return this.nextTick(Z);const G=this[kIterator].key,W=this[kIterator].value;if(!this[kTest](G))return this.nextTick(Z);this[kIterator][this[kAdvance]](),this.nextTick(Z,null,W)}_nextv(Z,G,W){const F=this[kIterator],U=[];for(;F.valid&&U.length<Z&&this[kTest](F.key);)U.push(F.value),F[this[kAdvance]]();this.nextTick(W,null,U)}_all(Z,G){const W=this.limit-this.count,F=this[kIterator],U=[];for(;F.valid&&U.length<W&&this[kTest](F.key);)U.push(F.value),F[this[kAdvance]]();this.nextTick(G,null,U)}}for(const X of[MemoryIterator,MemoryKeyIterator,MemoryValueIterator])X.prototype[kInit]=function(Z,G){this[kReverse]=G.reverse,this[kOptions]=G,this[kReverse]?(this[kAdvance]="prev",this[kLowerBound]="lte"in G?G.lte:"lt"in G?G.lt:kNone,this[kUpperBound]="gte"in G?G.gte:"gt"in G?G.gt:kNone,this[kLowerBound]===kNone?this[kIterator]=Z.end:"lte"in G?this[kIterator]=Z.le(this[kLowerBound]):this[kIterator]=Z.lt(this[kLowerBound]),this[kUpperBound]!==kNone&&(this[kTest]="gte"in G?gte:gt)):(this[kAdvance]="next",this[kLowerBound]="gte"in G?G.gte:"gt"in G?G.gt:kNone,this[kUpperBound]="lte"in G?G.lte:"lt"in G?G.lt:kNone,this[kLowerBound]===kNone?this[kIterator]=Z.begin:"gte"in G?this[kIterator]=Z.ge(this[kLowerBound]):this[kIterator]=Z.gt(this[kLowerBound]),this[kUpperBound]!==kNone&&(this[kTest]="lte"in G?lte:lt))},X.prototype[kTest]=function(){return!0},X.prototype[kOutOfRange]=function(Z){return this[kTest](Z)?this[kLowerBound]===kNone?!1:this[kReverse]?"lte"in this[kOptions]?compare(Z,this[kLowerBound])>0:compare(Z,this[kLowerBound])>=0:"gte"in this[kOptions]?compare(Z,this[kLowerBound])<0:compare(Z,this[kLowerBound])<=0:!0},X.prototype._seek=function(Z,G){this[kOutOfRange](Z)?(this[kIterator]=this[kIterator].tree.end,this[kIterator].next()):this[kReverse]?this[kIterator]=this[kIterator].tree.le(Z):this[kIterator]=this[kIterator].tree.ge(Z)};class MemoryLevel extends AbstractLevel{constructor(Z,G,W){if(typeof Z=="object"&&Z!==null&&(G=Z),typeof Z=="function"||typeof G=="function"||typeof W=="function")throw new ModuleError("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{storeEncoding:F,...U}=G||{};if(F=F||"buffer",!["buffer","view","utf8"].includes(F))throw new ModuleError("The storeEncoding option must be 'buffer', 'view' or 'utf8'",{code:"LEVEL_ENCODING_NOT_SUPPORTED"});super({seek:!0,permanence:!1,createIfMissing:!1,errorIfExists:!1,encodings:{[F]:!0}},U),this[kTree]=createRBT(compare)}_put(Z,G,W,F){const U=this[kTree].find(Z);U.valid?this[kTree]=U.update(G):this[kTree]=this[kTree].insert(Z,G),this.nextTick(F)}_get(Z,G,W){const F=this[kTree].get(Z);if(typeof F>"u")return this.nextTick(W,new Error("NotFound"));this.nextTick(W,null,F)}_getMany(Z,G,W){this.nextTick(W,null,Z.map(F=>this[kTree].get(F)))}_del(Z,G,W){this[kTree]=this[kTree].remove(Z),this.nextTick(W)}_batch(Z,G,W){let F=this[kTree];for(const U of Z){const J=U.key,Y=F.find(J);U.type==="put"?F=Y.valid?Y.update(U.value):F.insert(J,U.value):F=Y.remove()}this[kTree]=F,this.nextTick(W)}_clear(Z,G){if(Z.limit===-1&&!Object.keys(Z).some(isRangeOption))return this[kTree]=createRBT(compare),this.nextTick(G);const W=this._keys({...Z}),F=W.limit;let U=0;const J=()=>{for(let Y=0;Y<500;Y++){if(++U>F||!W[kIterator].valid||!W[kTest](W[kIterator].key))return G();this[kTree]=this[kTree].remove(W[kIterator].key),W[kIterator][W[kAdvance]]()}this.nextTick(J)};this.nextTick(J)}_iterator(Z){return new MemoryIterator(this,Z)}_keys(Z){return new MemoryKeyIterator(this,Z)}_values(Z){return new MemoryValueIterator(this,Z)}}var MemoryLevel_1=MemoryLevel;if(typeof process<"u"&&!process.browser&&typeof commonjsGlobal<"u"&&typeof commonjsGlobal.setImmediate=="function"){const X=commonjsGlobal.setImmediate;MemoryLevel.prototype.nextTick=function(Z,...G){G.length===0?X(Z):X(()=>Z(...G))}}function isRangeOption(X){return rangeOptions.has(X)}var rdfDataFactory={},BlankNode$1={};Object.defineProperty(BlankNode$1,"__esModule",{value:!0});BlankNode$1.BlankNode=void 0;class BlankNode{constructor(Z){this.termType="BlankNode",this.value=Z}equals(Z){return!!Z&&Z.termType==="BlankNode"&&Z.value===this.value}}BlankNode$1.BlankNode=BlankNode;var DataFactory$2={},DefaultGraph$1={};Object.defineProperty(DefaultGraph$1,"__esModule",{value:!0});DefaultGraph$1.DefaultGraph=void 0;class DefaultGraph{constructor(){this.termType="DefaultGraph",this.value=""}equals(Z){return!!Z&&Z.termType==="DefaultGraph"}}DefaultGraph$1.DefaultGraph=DefaultGraph;DefaultGraph.INSTANCE=new DefaultGraph;var Literal$1={},NamedNode$1={};Object.defineProperty(NamedNode$1,"__esModule",{value:!0});NamedNode$1.NamedNode=void 0;class NamedNode{constructor(Z){this.termType="NamedNode",this.value=Z}equals(Z){return!!Z&&Z.termType==="NamedNode"&&Z.value===this.value}}NamedNode$1.NamedNode=NamedNode;Object.defineProperty(Literal$1,"__esModule",{value:!0});Literal$1.Literal=void 0;const NamedNode_1$1=NamedNode$1;class Literal{constructor(Z,G){this.termType="Literal",this.value=Z,typeof G=="string"?(this.language=G,this.datatype=Literal.RDF_LANGUAGE_STRING):G?(this.language="",this.datatype=G):(this.language="",this.datatype=Literal.XSD_STRING)}equals(Z){return!!Z&&Z.termType==="Literal"&&Z.value===this.value&&Z.language===this.language&&Z.datatype.equals(this.datatype)}}Literal$1.Literal=Literal;Literal.RDF_LANGUAGE_STRING=new NamedNode_1$1.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");Literal.XSD_STRING=new NamedNode_1$1.NamedNode("http://www.w3.org/2001/XMLSchema#string");var Quad$2={};Object.defineProperty(Quad$2,"__esModule",{value:!0});Quad$2.Quad=void 0;let Quad$1=class{constructor(Z,G,W,F){this.termType="Quad",this.value="",this.subject=Z,this.predicate=G,this.object=W,this.graph=F}equals(Z){return!!Z&&(Z.termType==="Quad"||!Z.termType)&&this.subject.equals(Z.subject)&&this.predicate.equals(Z.predicate)&&this.object.equals(Z.object)&&this.graph.equals(Z.graph)}};Quad$2.Quad=Quad$1;var Variable$1={};Object.defineProperty(Variable$1,"__esModule",{value:!0});Variable$1.Variable=void 0;class Variable{constructor(Z){this.termType="Variable",this.value=Z}equals(Z){return!!Z&&Z.termType==="Variable"&&Z.value===this.value}}Variable$1.Variable=Variable;Object.defineProperty(DataFactory$2,"__esModule",{value:!0});DataFactory$2.DataFactory=void 0;const BlankNode_1=BlankNode$1,DefaultGraph_1=DefaultGraph$1,Literal_1=Literal$1,NamedNode_1=NamedNode$1,Quad_1=Quad$2,Variable_1=Variable$1;let dataFactoryCounter=0,DataFactory$1=class{constructor(Z){this.blankNodeCounter=0,Z=Z||{},this.blankNodePrefix=Z.blankNodePrefix||`df_${dataFactoryCounter++}_`}namedNode(Z){return new NamedNode_1.NamedNode(Z)}blankNode(Z){return new BlankNode_1.BlankNode(Z||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(Z,G){return new Literal_1.Literal(Z,G)}variable(Z){return new Variable_1.Variable(Z)}defaultGraph(){return DefaultGraph_1.DefaultGraph.INSTANCE}quad(Z,G,W,F){return new Quad_1.Quad(Z,G,W,F||this.defaultGraph())}fromTerm(Z){switch(Z.termType){case"NamedNode":return this.namedNode(Z.value);case"BlankNode":return this.blankNode(Z.value);case"Literal":return Z.language?this.literal(Z.value,Z.language):Z.datatype.equals(Literal_1.Literal.XSD_STRING)?this.literal(Z.value):this.literal(Z.value,this.fromTerm(Z.datatype));case"Variable":return this.variable(Z.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(Z.subject),this.fromTerm(Z.predicate),this.fromTerm(Z.object),this.fromTerm(Z.graph))}}fromQuad(Z){return this.fromTerm(Z)}resetBlankNodeCounter(){this.blankNodeCounter=0}};DataFactory$2.DataFactory=DataFactory$1;(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,F,U,J){J===void 0&&(J=U),Object.defineProperty(W,J,{enumerable:!0,get:function(){return F[U]}})}:function(W,F,U,J){J===void 0&&(J=U),W[J]=F[U]}),G=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,F){for(var U in W)U!=="default"&&!Object.prototype.hasOwnProperty.call(F,U)&&Z(F,W,U)};Object.defineProperty(X,"__esModule",{value:!0}),G(BlankNode$1,X),G(DataFactory$2,X),G(DefaultGraph$1,X),G(Literal$1,X),G(NamedNode$1,X),G(Quad$2,X),G(Variable$1,X)})(rdfDataFactory);var ResultType;(function(X){X.VOID="void",X.QUADS="quads",X.APPROXIMATE_SIZE="approximate_size"})(ResultType||(ResultType={}));class LinkedList{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var Z;return(Z=this._head)===null||Z===void 0?void 0:Z.value}get last(){var Z;return(Z=this._tail)===null||Z===void 0?void 0:Z.value}get empty(){return this._head===null}push(Z){const G={value:Z,next:null};this._tail===null?this._head=this._tail=G:this._tail.next=this._tail=G,this._length++}shift(){if(this._head===null)return;const{value:Z,next:G}=this._head;return this._head=G,G===null&&(this._tail=null),this._length--,Z}clear(){this._length=0,this._head=this._tail=null}}const resolved=Promise.resolve(void 0);function createTaskScheduler(){const X=typeof queueMicrotask=="function"?queueMicrotask:F=>resolved.then(F),Z=typeof setImmediate=="function"?setImmediate:F=>setTimeout(F,0);let G=0,W=null;return F=>{W!==null?W.push(F):++G<100?X(F):(W=[F],Z(()=>{for(const U of W)X(U);W=null,G=0}))}}let taskScheduler=createTaskScheduler();function scheduleTask(X){taskScheduler(X)}function getTaskScheduler(){return taskScheduler}function setTaskScheduler(X){taskScheduler=X}const INIT=1<<0,OPEN=1<<1,CLOSING=1<<2,CLOSED=1<<3,ENDED=1<<4,DESTROYED=1<<5;class AsyncIterator extends eventsExports.EventEmitter{constructor(Z=OPEN){super(),this._readable=!1,this._state=Z,this.on("newListener",waitForDataListener)}_changeState(Z,G=!1){const W=Z>this._state&&this._state<ENDED;return W&&(this._state=Z,Z===ENDED&&(G?taskScheduler(()=>this.emit("end")):this.emit("end"))),W}read(){return null}forEach(Z,G){this.on("data",bind(Z,G))}close(){this._changeState(CLOSED)&&this._endAsync()}destroy(Z){this.done||this._destroy(Z,G=>{Z=Z||G,Z&&this.emit("error",Z),this._end(!0)})}_destroy(Z,G){G()}_end(Z=!1){this._changeState(Z?DESTROYED:ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){taskScheduler(()=>this._end())}get readable(){return this._readable}set readable(Z){Z=!!Z&&!this.done,this._readable!==Z&&(this._readable=Z,Z&&taskScheduler(()=>this.emit("readable")))}get closed(){return this._state>=CLOSING}get ended(){return this._state===ENDED}get destroyed(){return this._state===DESTROYED}get done(){return this._state>=ENDED}toString(){const Z=this._toStringDetails();return`[${this.constructor.name}${Z?` ${Z}`:""}]`}_toStringDetails(){return""}toArray(Z){const G=[],W=typeof Z?.limit=="number"?Z.limit:1/0;return this.ended||W<=0?Promise.resolve(G):new Promise((F,U)=>{const J=()=>F(G),Y=D=>{G.push(D),G.length>=W&&(this.removeListener("error",U),this.removeListener("data",Y),this.removeListener("end",J),F(G))};this.on("error",U),this.on("data",Y),this.on("end",J)})}getProperty(Z,G){const W=this._properties;if(!G)return W&&W[Z];if(W&&Z in W)taskScheduler(()=>G(W[Z]));else{let F;(F=this._propertyCallbacks)||(this._propertyCallbacks=F=Object.create(null)),Z in F?F[Z].push(G):F[Z]=[G]}}setProperty(Z,G){const W=this._properties||(this._properties=Object.create(null));W[Z]=G;const F=this._propertyCallbacks||{},U=F[Z];if(U){delete F[Z],taskScheduler(()=>{for(const J of U)J(G)});for(Z in F)return;delete this._propertyCallbacks}}getProperties(){const Z=this._properties,G={};for(const W in Z)G[W]=Z[W];return G}setProperties(Z){for(const G in Z)this.setProperty(G,Z[G])}copyProperties(Z,G){for(const W of G)Z.getProperty(W,F=>this.setProperty(W,F))}transform(Z){return new SimpleTransformIterator(this,Z)}map(Z,G){return new MappingIterator(this,bind(Z,G))}filter(Z,G){return this.map(function(W){return Z.call(G||this,W)?W:null})}uniq(Z=identity$3){const G=new Set;return this.filter(function(W){const F=Z.call(this,W);return G.has(F)?!1:(G.add(F),!0)})}prepend(Z){return this.transform({prepend:Z})}append(Z){return this.transform({append:Z})}surround(Z,G){return this.transform({prepend:Z,append:G})}skip(Z){return this.map(G=>Z-- >0?null:G)}take(Z){return this.transform({limit:Z})}range(Z,G){return this.transform({offset:Z,limit:Math.max(G-Z+1,0)})}clone(){return new ClonedIterator(this)}}function waitForDataListener(X){X==="data"&&(this.removeListener("newListener",waitForDataListener),addSingleListener(this,"readable",emitData),this.readable&&taskScheduler(()=>emitData.call(this)))}function emitData(){let X;for(;this.listenerCount("data")!==0&&(X=this.read())!==null;)this.emit("data",X);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",emitData),addSingleListener(this,"newListener",waitForDataListener))}function addSingleListener(X,Z,G){X.listeners(Z).includes(G)||X.on(Z,G)}class EmptyIterator extends AsyncIterator{constructor(){super(),this._changeState(ENDED,!0)}}class SingletonIterator extends AsyncIterator{constructor(Z){super(),this._item=Z,Z===null?this.close():this.readable=!0}read(){const Z=this._item;return this._item=null,this.close(),Z}_toStringDetails(){return this._item===null?"":`(${this._item})`}}class ArrayIterator extends AsyncIterator{constructor(Z=[],{autoStart:G=!0,preserve:W=!0}={}){super();const F=W||!Array.isArray(Z)?[...Z]:Z;this._index=0,this._sourceStarted=G!==!1,this._truncateThreshold=W?-1:64,this._sourceStarted&&F.length===0?this.close():this._buffer=F,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let Z=null;return this._buffer&&(this._index<this._buffer.length&&(Z=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),Z}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(Z,G){delete this._buffer,G()}toArray(Z={}){if(!this._buffer)return Promise.resolve([]);const{length:G}=this._buffer,W=this._index,F=typeof Z.limit!="number"?G:W+Z.limit,U=this._buffer.slice(W,F);return this._index=F,F>=G&&this.close(),Promise.resolve(U)}}class IntegerIterator extends AsyncIterator{constructor({start:Z=0,step:G=1,end:W}={}){super(),Number.isFinite(Z)&&(Z=Math.trunc(Z)),this._next=Z,Number.isFinite(G)&&(G=Math.trunc(G)),this._step=G;const F=G>=0,U=F?1/0:-1/0;Number.isFinite(W)?W=Math.trunc(W):W!==-U&&(W=U),this._last=W,!Number.isFinite(Z)||(F?Z>W:Z<W)?this.close():this.readable=!0}read(){if(this.closed)return null;const Z=this._next,G=this._step,W=this._last,F=this._next+=G;return(G>=0?F>W:F<W)&&this.close(),Z}_toStringDetails(){return`(${this._next}...${this._last})`}}function identity$3(X){return X}const DESTINATION=Symbol("destination");class MappingIterator extends AsyncIterator{constructor(Z,G=identity$3,W={}){super(),this._map=G,this._source=ensureSourceAvailable(Z),this._destroySource=W.destroySource!==!1,Z.done?this.close():(this._source[DESTINATION]=this,this._source.on("end",destinationClose),this._source.on("error",destinationEmitError),this._source.on("readable",destinationSetReadable),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let Z,G;for(;(Z=this._source.read())!==null;)if((G=this._map(Z))!==null)return G}this.readable=!1,this._source.done&&this.close()}return null}_end(Z){this._source.removeListener("end",destinationClose),this._source.removeListener("error",destinationEmitError),this._source.removeListener("readable",destinationSetReadable),delete this._source[DESTINATION],this._destroySource&&this._source.destroy(),super._end(Z)}}function ensureSourceAvailable(X,Z=!1){if(!X||!isFunction$1(X.read)||!isFunction$1(X.on))throw new TypeError(`Invalid source: ${X}`);if(!Z&&X[DESTINATION])throw new Error("The source already has a destination");return X}class BufferedIterator extends AsyncIterator{constructor({maxBufferSize:Z=4,autoStart:G=!0}={}){super(INIT),this._buffer=new LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=Z,taskScheduler(()=>this._init(G)),this._sourceStarted=G!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(Z){Z!==1/0&&(Z=Number.isFinite(Z)?Math.max(Math.trunc(Z),1):4),this._maxBufferSize!==Z&&(this._maxBufferSize=Z,this._state===OPEN&&this._fillBuffer())}_init(Z){let G=!1;this._reading=!0,this._begin(()=>{if(G)throw new Error("done callback called multiple times");G=!0,this._reading=!1,this._changeState(OPEN),Z?this._fillBufferAsync():this.readable=!0})}_begin(Z){Z()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const Z=this._buffer;let G;return Z.empty?(G=null,this.readable=!1):G=Z.shift(),!this._reading&&Z.length<this._maxBufferSize&&(this.closed?Z.empty&&this._endAsync():this._fillBufferAsync()),G}_read(Z,G){G()}_push(Z){this.done||(this._pushedCount++,this._buffer.push(Z),this.readable=!0)}_fillBuffer(){let Z;this._reading||(this.closed?this._completeClose():(Z=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(Z,()=>{if(!Z)throw new Error("done callback called multiple times");Z=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,taskScheduler(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(CLOSING):this._completeClose()}_completeClose(){this._changeState(CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(Z,G){this._buffer.clear(),G()}_flush(Z){Z()}_toStringDetails(){const Z=this._buffer;return`{${Z.empty?"":`next: ${Z.first}, `}buffer: ${Z.length}}`}}class TransformIterator extends BufferedIterator{constructor(Z,G=Z||{}){super(G),this._boundPush=W=>this._push(W),isSourceExpression(Z)||(Z=G.source),isEventEmitter(Z)?this.source=Z:Z&&(this._createSource=isPromise(Z)?()=>Z:Z,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!G.optional,this._destroySource=G.destroySource!==!1}get source(){return isFunction$1(this._createSource)&&this._loadSourceAsync(),this._source}set source(Z){const G=this._source=this._validateSource(Z);G[DESTINATION]=this,this.done?this._destroySource&&G.destroy():G.done?this.close():(G.on("end",destinationCloseWhenDone),G.on("readable",destinationFillBuffer),G.on("error",destinationEmitError))}_loadSourceAsync(){isFunction$1(this._createSource)&&(Promise.resolve(this._createSource()).then(Z=>{delete this._createSource,this.source=Z,this._fillBuffer()},Z=>this.emit("error",Z)),this._createSource=null)}_validateSource(Z,G=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return ensureSourceAvailable(Z,G)}_read(Z,G){const W=()=>{this._pushedCount<Z&&!this.closed?taskScheduler(()=>this._readAndTransform(W,G)):G()};this._readAndTransform(W,G)}_readAndTransform(Z,G){let W;const F=this.source;!F||F.done||(W=F.read())===null?G():this._optional?this._optionalTransform(W,Z):this._transform(W,Z,this._boundPush)}_optionalTransform(Z,G){const W=this._pushedCount;this._transform(Z,()=>{W===this._pushedCount&&this._push(Z),G()},this._boundPush)}_transform(Z,G,W){W(Z),G()}_closeWhenDone(){this.close()}_end(Z){const G=this._source;G&&(G.removeListener("end",destinationCloseWhenDone),G.removeListener("error",destinationEmitError),G.removeListener("readable",destinationFillBuffer),delete G[DESTINATION],this._destroySource&&G.destroy()),super._end(Z)}}function destinationSetReadable(){this[DESTINATION].readable=!0}function destinationEmitError(X){this[DESTINATION].emit("error",X)}function destinationClose(){this[DESTINATION].close()}function destinationCloseWhenDone(){this[DESTINATION]._closeWhenDone()}function destinationFillBuffer(){this[DESTINATION]._sourceStarted!==!1&&this[DESTINATION]._fillBuffer()}class SimpleTransformIterator extends TransformIterator{constructor(Z,G){if(super(Z,G),this._offset=0,this._limit=1/0,this._filter=W=>!0,G=G||(isSourceExpression(Z)?null:Z),G){const W=isFunction$1(G)?G:G.transform,{limit:F,offset:U,filter:J,map:Y,prepend:D,append:Q}=G;U===1/0||F===-1/0?this._limit=0:(Number.isFinite(U)&&(this._offset=Math.max(Math.trunc(U),0)),Number.isFinite(F)&&(this._limit=Math.max(Math.trunc(F),0)),isFunction$1(J)&&(this._filter=J),isFunction$1(Y)&&(this._map=Y),this._transform=isFunction$1(W)?W:null),D&&(this._prepender=isEventEmitter(D)?D:fromArray(D)),Q&&(this._appender=isEventEmitter(Q)?Q:fromArray(Q))}}_read(Z,G){const W=()=>this._readAndTransformSimple(Z,F,G);this._readAndTransformSimple(Z,F,G);function F(){taskScheduler(W)}}_readAndTransformSimple(Z,G,W){let F;const{source:U}=this;if(!U||U.done){W();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<Z&&(F=U.read())!==null;){if(!this._filter(F)||this._offset!==0&&this._offset--)continue;const J=typeof this._map>"u"?F:this._map(F);if(J===null)this._optional&&this._push(F);else if(!isFunction$1(this._transform))this._push(J);else{this._optional?this._optionalTransform(J,G):this._transform(J,G,this._boundPush);return}--this._limit===0&&this.close()}W()}_begin(Z){this._insert(this._prepender,Z),delete this._prepender}_flush(Z){this._insert(this._appender,Z),delete this._appender}_insert(Z,G){const W=U=>this._push(U);!Z||Z.done?G():(Z.on("data",W),Z.on("end",F));function F(){Z.removeListener("data",W),Z.removeListener("end",F),G()}}}class MultiTransformIterator extends TransformIterator{constructor(Z,G){if(super(Z,G),this._transformerQueue=[],G){const W=isFunction$1(G)?G:G.multiTransform;W&&(this._createTransformer=W)}}_read(Z,G){const W=this._transformerQueue,F=this._optional;let U,J;for(;(U=W[0])&&U.transformer.done;){F&&U.item!==null&&(Z--,this._push(U.item)),W.shift();const{transformer:D}=U;D.removeListener("end",destinationFillBuffer),D.removeListener("readable",destinationFillBuffer),D.removeListener("error",destinationEmitError)}const{source:Y}=this;for(;Y&&!Y.done&&W.length<this.maxBufferSize&&(J=Y.read(),J!==null);){const D=this._createTransformer(J)||new EmptyIterator;D[DESTINATION]=this,D.on("end",destinationFillBuffer),D.on("readable",destinationFillBuffer),D.on("error",destinationEmitError),W.push({transformer:D,item:J})}if(U=W[0],U){const{transformer:D}=U;for(;Z-- >0&&(J=D.read())!==null;)this._push(J),F&&(U.item=null)}else Y&&Y.done&&this.close();G()}_createTransformer(Z){return new SingletonIterator(Z)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(Z){if(super._end(Z),this._destroySource)for(const G of this._transformerQueue)G.transformer.destroy()}}class UnionIterator extends BufferedIterator{constructor(Z,G={}){super(G),this._sources=[],this._currentSource=-1;const W=G.autoStart!==!1;if(isEventEmitter(Z))Z.on("error",F=>this.emit("error",F)),this._pending={loading:!1,sources:Z},W&&this._loadSources();else if(Array.isArray(Z)&&Z.length>0)for(const F of Z)this._addSource(F);else W&&this.close();this._destroySources=G.destroySources!==!1}_loadSources(){const Z=this._pending.sources;this._pending.loading=!0,Z.done?(delete this._pending,this.close()):(Z.on("data",G=>{this._addSource(G),this._fillBufferAsync()}),Z.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(Z){isPromise(Z)&&(Z=wrap(Z)),Z.done||(this._sources.push(Z),Z[DESTINATION]=this,Z.on("error",destinationEmitError),Z.on("readable",destinationFillBuffer),Z.on("end",destinationRemoveEmptySources))}_removeEmptySources(){this._sources=this._sources.filter((Z,G)=>(Z.done&&G<=this._currentSource&&this._currentSource--,!Z.done)),this._fillBuffer()}_read(Z,G){var W;((W=this._pending)===null||W===void 0?void 0:W.loading)===!1&&this._loadSources();let F=0,U;for(;F!==(F=Z);)for(let J=0;J<this._sources.length&&Z>0;J++)this._currentSource=(this._currentSource+1)%this._sources.length,(U=this._sources[this._currentSource].read())!==null&&(Z--,this._push(U));!this._pending&&this._sources.length===0&&this.close(),G()}_end(Z=!1){if(super._end(Z),this._destroySources){for(const G of this._sources)G.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function destinationRemoveEmptySources(){this[DESTINATION]._removeEmptySources()}class ClonedIterator extends TransformIterator{constructor(Z){super(Z,{autoStart:!1}),this._readPosition=0,this._reading=!1}_init(){}close(){AsyncIterator.prototype.close.call(this)}get source(){return super.source}set source(Z){const G=this._source=this._validateSource(Z),W=G&&G[DESTINATION]||(G[DESTINATION]=new HistoryReader(G));this.done?this._destroySource&&G.destroy():W.endsAt(0)?this.close():(W.register(this),(G._sourceStarted===!1||W.readAt(0)!==null)&&(this.readable=!0));const F=this._propertyCallbacks;for(const U in F){const J=F[U];for(const Y of J)this._getSourceProperty(U,Y)}}_validateSource(Z,G=!1){const W=Z&&Z[DESTINATION];return super._validateSource(Z,!W||W instanceof HistoryReader)}getProperty(Z,G){const{source:W}=this,F=this._properties,U=F&&Z in F;if(!G)return U?F&&F[Z]:W&&W.getProperty(Z);super.getProperty(Z,G),W&&!U&&this._getSourceProperty(Z,G)}_getSourceProperty(Z,G){this.source.getProperty(Z,W=>{(!this._properties||!(Z in this._properties))&&G(W)})}getProperties(){const Z=this.source?this.source.getProperties():{},G=this._properties;for(const W in G)Z[W]=G[W];return Z}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const Z=this.source;let G=null;if(!this.done&&Z){const W=Z[DESTINATION];(G=W.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,W.endsAt(this._readPosition)&&this.close()}return G}_end(Z){const G=this.source,W=G?.[DESTINATION];W&&W.unregister(this),BufferedIterator.prototype._end.call(this,Z)}}class HistoryReader{constructor(Z){if(this._history=[],this._trackers=new Set,this._source=Z,!Z.done){const G=()=>{for(const U of this._trackers)U.readable=!0},W=U=>{for(const J of this._trackers)J.emit("error",U)},F=()=>{for(const U of this._trackers)U._sourceStarted!==!1&&U._readPosition===this._history.length&&U.close();this._trackers.clear(),Z.removeListener("end",F),Z.removeListener("error",W),Z.removeListener("readable",G)};Z.on("end",F),Z.on("error",W),Z.on("readable",G)}}register(Z){this._source.done||this._trackers.add(Z)}unregister(Z){this._trackers.delete(Z)}readAt(Z){let G=null;return Z<this._history.length?G=this._history[Z]:!this._source.done&&(G=this._source.read())!==null&&(this._history[Z]=G),G}endsAt(Z){return this._source.done&&this._history.length===Z}}class WrappingIterator extends AsyncIterator{constructor(Z,G){super(),this._source=null,this._destroySource=G?.destroySource!==!1,isPromise(Z)?(this._source=new AsyncIterator,Z.then(W=>{this._source=null,this.source=W}).catch(W=>this.emit("error",W))):Z&&(this.source=Z)}set source(Z){let G=Z;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(isIterable(G)&&(G=G[Symbol.iterator]()),isIterator(G)){let W=G;G=new eventsExports.EventEmitter,G.read=()=>{if(W!==null){let F;for(;!(F=W.next()).done;)if(F.value!==null)return F.value;W=null,this.close()}return null}}else G=ensureSourceAvailable(G);if(this.done){this._destroySource&&isFunction$1(G.destroy)&&G.destroy();return}G[DESTINATION]=this,G.on("end",destinationClose),G.on("error",destinationEmitError),G.on("readable",destinationSetReadable),this._source=G,this.readable=G.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const Z=this._source.read();if(Z!==null)return Z;this.readable=!1}return null}_end(Z=!1){this._source!==null&&(this._source.removeListener("end",destinationClose),this._source.removeListener("error",destinationEmitError),this._source.removeListener("readable",destinationSetReadable),delete this._source[DESTINATION],this._destroySource&&isFunction$1(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(Z)}}function wrap(X,Z){if(Z&&("autoStart"in Z||"optional"in Z||"source"in Z||"maxBufferSize"in Z))return X&&!isEventEmitter(X)&&(X=new WrappingIterator(X)),new TransformIterator(X,Z);if(!X)return empty();if(isPromise(X))return new WrappingIterator(X,Z);if(X instanceof AsyncIterator)return X;if(Array.isArray(X))return fromArray(X);if(isIterable(X)||isIterator(X)||isEventEmitter(X))return new WrappingIterator(X,Z);throw new TypeError(`Invalid source: ${X}`)}function empty(){return new EmptyIterator}function single(X){return new SingletonIterator(X)}function fromArray(X){return new ArrayIterator(X)}function fromIterator(X){return new WrappingIterator(X)}function fromIterable(X){return new WrappingIterator(X)}function union(X){return new UnionIterator(X)}function range(X,Z,G){return new IntegerIterator({start:X,end:Z,step:G})}function bind(X,Z){return Z?X.bind(Z):X}function isFunction$1(X){return typeof X=="function"}function isEventEmitter(X){return isFunction$1(X?.on)}function isPromise(X){return isFunction$1(X?.then)}function isSourceExpression(X){return X&&(isEventEmitter(X)||isPromise(X)||isFunction$1(X))}function isIterable(X){return X&&Symbol.iterator in X}function isIterator(X){return isFunction$1(X?.next)}const __QUADSTORE_COMUNICA_EXTERNAL_MODULE_asynciterator__=Object.freeze(Object.defineProperty({__proto__:null,ArrayIterator,AsyncIterator,BufferedIterator,CLOSED,CLOSING,ClonedIterator,DESTINATION,DESTROYED,ENDED,EmptyIterator,INIT,IntegerIterator,LinkedList,MappingIterator,MultiTransformIterator,OPEN,SimpleTransformIterator,SingletonIterator,TransformIterator,UnionIterator,WrappingIterator,empty,fromArray,fromIterable,fromIterator,getTaskScheduler,identity:identity$3,isEventEmitter,isFunction:isFunction$1,isIterable,isIterator,isPromise,isSourceExpression,range,scheduleTask,setTaskScheduler,single,union,wrap},Symbol.toStringTag,{value:"Module"})),isObject$1=X=>typeof X=="object"&&X!==null,isAbstractLevel=X=>isObject$1(X)&&typeof X.open=="function"&&typeof X.batch=="function",ensureAbstractLevel=(X,Z)=>{if(!isAbstractLevel(X))throw new Error(`${Z} is not an AbstractLevel instance`)},streamToArray=X=>new Promise((Z,G)=>{const W=[],F=D=>{W.push(D)},U=()=>{X.removeListener("data",F),X.removeListener("error",Y),X.destroy()},J=()=>{U(),Z(W)},Y=D=>{U(),G(D)};X.on("error",Y),X.on("end",J),X.on("data",F)}),arrStartsWith=(X,Z)=>{for(let G=0;G<Z.length;G+=1)if(Z[G]!==X[G])return!1;return!0},RESOLVED=Promise.resolve(),emptyObject={},boundary="",separator="\0\0",defaultIndexes=[["subject","predicate","object","graph"],["object","graph","subject","predicate"],["graph","subject","predicate","object"],["subject","object","predicate","graph"],["predicate","object","graph","subject"],["graph","predicate","object","subject"]],levelPutOpts={keyEncoding:"utf8",valueEncoding:"view"},levelDelOpts={keyEncoding:"utf8"},emptyValue=new Uint8Array(0),consumeOneByOne=async(X,Z)=>new Promise((G,W)=>{let F,U=!1,J=!1;const Y=()=>{if(J=!0,(F=X.read())!==null){Promise.resolve(Z(F)).then(Y).catch(D);return}J=!1,U&&G()},D=te=>{W(te),q()},Q=()=>{U=!0,J||G(),q()},ee=()=>{J||Y()},q=()=>{X.removeListener("end",Q),X.removeListener("error",D),X.removeListener("readable",ee),typeof X.destroy=="function"&&X.destroy()};X.on("end",Q),X.on("error",D),X.on("readable",ee),X.readable!==!1&&Y()}),consumeInBatches=async(X,Z,G)=>new Promise((W,F)=>{let U=0,J=!1,Y=!1,D=new Array(Z);const Q=()=>{if(ce(),U>0){Promise.resolve(G(D.slice(0,U))).then(W).catch(q);return}W()},ee=()=>{Y=!0,J||Q()},q=le=>{ce(),F(le)},te=()=>{J||ne()};let ie=null;const ne=()=>{if(J=!0,Y){Q();return}for(;U<Z&&(ie=X.read())!==null;)D[U++]=ie;if(ie===null){J=!1;return}U===Z&&(Promise.resolve(G(D.slice())).then(ne).catch(q),U=0)},ce=()=>{X.removeListener("end",ee),X.removeListener("error",q),X.removeListener("readable",te),typeof X.destroy=="function"&&X.destroy()};X.on("end",ee),X.on("error",q),X.on("readable",te),X.readable!==!1&&ne()});let IDX=256;const HEX=[];for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);const createUid=X=>{X=X||16;let Z="",G=0;return()=>{if(!Z||G===256){for(Z="",G=(1+X)/2|0;G--;)Z+=HEX[256*Math.random()|0];Z=Z.substring(G=0,X-2)}return Z+HEX[G++]}},uid=createUid(11);class LevelIterator extends BufferedIterator{level;mapFn;levelEnded;constructor(Z,G){super({maxBufferSize:64}),this.mapFn=G,this.level=Z,this.levelEnded=!1}_read(Z,G){const W={remaining:Z};W.next=this._onNextValue.bind(this,W,G),this.level.next(W.next)}_onNextValue(Z,G,W,F,U){if(W){G(W);return}if(F===void 0&&U===void 0){this.close(),this.levelEnded=!0,G();return}if(this._push(this.mapFn(F,U)),Z.remaining-=1,Z.remaining===0){G();return}this.level.next(Z.next)}_endLevel(Z){if(this.levelEnded){Z();return}this.level.close(G=>{G||(this.levelEnded=!0),Z(G)})}_end(Z){this.ended||(super._end(Z),this._endLevel(G=>{G&&this.emit("error",G)}))}_destroy(Z,G){if(this.destroyed){G();return}this._endLevel(W=>{if(W){G(W);return}super._destroy(Z,G)})}}const xsd="http://www.w3.org/2001/XMLSchema#",string=`${xsd}string`,dateTime=`${xsd}dateTime`,integer=`${xsd}integer`,decimal=`${xsd}decimal`,double=`${xsd}double`,nonPositiveInteger=`${xsd}nonPositiveInteger`,negativeInteger=`${xsd}negativeInteger`,long=`${xsd}long`,int=`${xsd}int`,short=`${xsd}short`,byte=`${xsd}byte`,nonNegativeInteger=`${xsd}nonNegativeInteger`,unsignedLong=`${xsd}unsignedLong`,unsignedInt=`${xsd}unsignedInt`,unsignedShort=`${xsd}unsignedShort`,unsignedByte=`${xsd}unsignedByte`,positiveInteger=`${xsd}positiveInteger`,sliceString=(X,Z,G)=>X.slice(Z,Z+G),padNumStart=X=>{if(X<10)return"000"+X;if(X<100)return"00"+X;if(X<1e3)return"0"+X;if(X<1e4)return""+X;throw new Error("too long: "+X)},join=(X,Z,G)=>{let W=""+X;return Z<10?W+="00"+Z:Z<100?W+="0"+Z:W+=Z,W+=G.toFixed(17),W},ZERO=join(3,0,0),NEG_INF=join(0,0,0),POS_INF=join(6,0,0),encode=X=>{let Z=typeof X!="number"?parseFloat(X):X;if(Number.isNaN(Z))throw new Error("Cannot serialize NaN");if(Z===-1/0)return NEG_INF;if(Z===1/0)return POS_INF;if(Z===0)return ZERO;let G=0,W=0;for(Z<0&&(W=1,Z*=-1);Z>10;)Z/=10,G+=1;for(;Z<1;)Z*=10,G-=1;return W===1?G>=0?join(1,999-G,10-Z):join(2,G*-1,10-Z):G<0?join(4,999+G,Z):join(5,G,Z)},namedNodeWriter={write(X,Z,G){const W=G.compactIri(X.value);Z.lengths=padNumStart(W.length),Z.value=W}},namedNodeReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4));return Z.lengthsOffset+=4,Z.keyOffset+=J,G.namedNode(W.expandTerm(sliceString(X,F,J)))}},blankNodeWriter={write(X,Z){Z.lengths=padNumStart(X.value.length),Z.value=X.value}},blankNodeReader={read(X,Z,G){const{keyOffset:W,lengthsOffset:F}=Z,U=parseInt(sliceString(X,F,4));return Z.lengthsOffset+=4,Z.keyOffset+=U,G.blankNode(sliceString(X,W,U))}},genericLiteralWriter={write(X,Z){Z.lengths=padNumStart(X.value.length)+padNumStart(X.datatype.value.length),Z.value=X.datatype.value+separator+X.value}},genericLiteralReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4)),Y=parseInt(sliceString(X,U+4,4));return Z.lengthsOffset+=8,Z.keyOffset+=J+Y+separator.length,G.literal(sliceString(X,F+Y+separator.length,J),G.namedNode(sliceString(X,F,Y)))}},stringLiteralWriter={write(X,Z){Z.lengths=padNumStart(X.value.length),Z.value=X.value}},stringLiteralReader={read(X,Z,G){const{keyOffset:W,lengthsOffset:F}=Z,U=parseInt(sliceString(X,F,4));return Z.lengthsOffset+=4,Z.keyOffset+=U,G.literal(sliceString(X,W,U))}},langStringLiteralWriter={write(X,Z){Z.lengths=padNumStart(X.value.length)+padNumStart(X.language.length),Z.value=X.language+separator+X.value}},langStringLiteralReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4)),Y=parseInt(sliceString(X,U+4,4));return Z.lengthsOffset+=8,Z.keyOffset+=J+Y+separator.length,G.literal(sliceString(X,F+Y+separator.length,J),sliceString(X,F,Y))}},numericLiteralWriter={write(X,Z,G,W,F){Z.lengths=padNumStart(X.value.length)+padNumStart(X.datatype.value.length)+padNumStart(F.length),W?Z.value=F:Z.value=F+separator+X.datatype.value+separator+X.value}},numericLiteralReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4)),Y=parseInt(sliceString(X,U+4,4)),D=parseInt(sliceString(X,U+8,4));return Z.lengthsOffset+=12,Z.keyOffset+=D+Y+J+separator.length*2,G.literal(sliceString(X,F+D+separator.length+Y+separator.length,J),G.namedNode(sliceString(X,F+D+separator.length,Y)))}},defaultGraphWriter={write(X,Z){Z.value="dg",Z.lengths="2"}},defaultGraphReader={read(X,Z,G,W){return Z.keyOffset+=2,Z.lengthsOffset+=1,G.defaultGraph()}},termWriter={write(X,Z,G){switch(X.termType){case"NamedNode":Z.type="0",namedNodeWriter.write(X,Z,G);break;case"BlankNode":Z.type="1",blankNodeWriter.write(X,Z,G);break;case"DefaultGraph":Z.type="6",defaultGraphWriter.write(X,Z,G);break;case"Literal":if(X.language)Z.type="4",langStringLiteralWriter.write(X,Z,G);else if(X.datatype)switch(X.datatype.value){case string:Z.type="3",stringLiteralWriter.write(X,Z,G);break;case integer:case double:case decimal:case nonPositiveInteger:case negativeInteger:case long:case int:case short:case byte:case nonNegativeInteger:case unsignedLong:case unsignedInt:case unsignedShort:case unsignedByte:case positiveInteger:Z.type="5",numericLiteralWriter.write(X,Z,G,!1,encode(X.value));break;case dateTime:Z.type="7",numericLiteralWriter.write(X,Z,G,!1,encode(new Date(X.value).valueOf()));break;default:Z.type="2",genericLiteralWriter.write(X,Z,G)}else Z.type="3",stringLiteralWriter.write(X,Z,G)}}},termReader={read(X,Z,G,W){let F;const U=X.charAt(Z.lengthsOffset);switch(Z.lengthsOffset+=1,U){case"0":F=namedNodeReader.read(X,Z,G,W);break;case"1":F=blankNodeReader.read(X,Z,G,W);break;case"2":F=genericLiteralReader.read(X,Z,G,W);break;case"3":F=stringLiteralReader.read(X,Z,G,W);break;case"4":F=langStringLiteralReader.read(X,Z,G,W);break;case"5":F=numericLiteralReader.read(X,Z,G,W);break;case"6":F=defaultGraphReader.read(X,Z,G,W);break;case"7":F=numericLiteralReader.read(X,Z,G,W);break;default:throw new Error(`Unexpected encoded term type "${U}"`)}return F}},twoStepsQuadWriter={subject:{type:"",value:"",lengths:""},predicate:{type:"",value:"",lengths:""},object:{type:"",value:"",lengths:""},graph:{type:"",value:"",lengths:""},ingest(X,Z){return termWriter.write(X.subject,this.subject,Z),termWriter.write(X.predicate,this.predicate,Z),termWriter.write(X.object,this.object,Z),termWriter.write(X.graph,this.graph,Z),this},write(X,Z){let G=X,W="";for(let F=0,U;F<Z.length;F+=1)U=this[Z[F]],G+=U.value+separator,W+=U.type+U.lengths;return G+W+padNumStart(W.length)}},quadReader={subject:null,predicate:null,object:null,graph:null,keyOffset:0,lengthsOffset:0,read(X,Z,G,W,F){this.lengthsOffset=X.length-parseInt(X.slice(-4))-4,this.keyOffset=Z;for(let U=0,J;U<G.length;U+=1)J=G[U],this[J]=termReader.read(X,this,W,F),this.keyOffset+=separator.length;return W.quad(this.subject,this.predicate,this.object,this.graph)}},serialized={type:"",value:"",lengths:""},patternLiteralWriter={write(X,Z){if(X.language){langStringLiteralWriter.write(X,serialized,Z);return}if(X.datatype)switch(X.datatype.value){case string:stringLiteralWriter.write(X,serialized,Z);return;case integer:case double:case decimal:case nonPositiveInteger:case negativeInteger:case long:case int:case short:case byte:case nonNegativeInteger:case unsignedLong:case unsignedInt:case unsignedShort:case unsignedByte:case positiveInteger:numericLiteralWriter.write(X,serialized,Z,!0,encode(X.value));return;case dateTime:numericLiteralWriter.write(X,serialized,Z,!0,encode(new Date(X.value).valueOf()));return;default:genericLiteralWriter.write(X,serialized,Z);return}stringLiteralWriter.write(X,serialized,Z)}},writePattern=(X,Z,G)=>{let W=Z.prefix,F=Z.prefix,U=!0,J=!0,Y=!1,D=!1,Q=Object.entries(X).filter(([q,te])=>te).length;if(Q===0)return F+=boundary,{gt:W,lt:F,gte:U,lte:J,order:Z.terms,index:Z};let ee=0;for(;ee<Z.terms.length&&Q>0;ee+=1){const q=X[Z.terms[ee]];if(!q||Y||D)return null;switch(q.termType){case"Range":Y=!0,q.gt?(patternLiteralWriter.write(q.gt,G),W+=serialized.value,U=!1):q.gte&&(patternLiteralWriter.write(q.gte,G),W+=serialized.value,U=!0),q.lt?(patternLiteralWriter.write(q.lt,G),F+=serialized.value,J=!1):q.lte&&(patternLiteralWriter.write(q.lte,G),F+=serialized.value,J=!0);break;case"Literal":D=!0,patternLiteralWriter.write(q,G),W+=serialized.value,U=!0,patternLiteralWriter.write(q,G),F+=serialized.value,J=!0;break;case"NamedNode":namedNodeWriter.write(q,serialized,G),W+=serialized.value,U=!0,namedNodeWriter.write(q,serialized,G),F+=serialized.value,J=!0;break;case"BlankNode":blankNodeWriter.write(q,serialized,G),W+=serialized.value,U=!0,blankNodeWriter.write(q,serialized,G),F+=serialized.value,J=!0;break;case"DefaultGraph":defaultGraphWriter.write(q,serialized,G),W+=serialized.value,U=!0,defaultGraphWriter.write(q,serialized,G),F+=serialized.value,J=!0;break}Q-=1,Q>0&&ee<Z.terms.length-1&&(W+=separator,F+=separator)}return J?Y||D?F+=boundary:F+=separator+boundary:F+=separator,U?!Y&&!D&&(W+=separator):Y||D?W+=boundary:W+=separator+boundary,{gt:W,lt:F,gte:U,lte:J,order:Z.terms.slice(Y?ee-1:1),index:Z}};var sortedSetExports={},sortedSet={get exports(){return sortedSetExports},set exports(X){sortedSetExports=X}};(function(X,Z){(function(G,W){X.exports=W()})(commonjsGlobal,function(){class G{constructor(re){if(re?.strategy==null)throw"Must pass options.strategy, a strategy";if(re?.comparator==null)throw"Must pass options.comparator, a comparator";if(re?.onInsertConflict==null)throw"Must pass options.onInsertConflict, a function";this.priv=new re.strategy(re),this.length=0}insert(re){return this.priv.insert(re),this.length+=1,this}remove(re){return this.priv.remove(re),this.length-=1,this}clear(){return this.priv.clear(),this.length=0,this}contains(re){return this.priv.contains(re)}toArray(){return this.priv.toArray()}forEach(re,Ze){return this.priv.forEachImpl(re,this,Ze),this}map(re,Ze){const Ge=[];return this.forEach(function(ve,Te,xe){return Ge.push(re.call(Ze,ve,Te,xe))}),Ge}filter(re,Ze){const Ge=[];return this.forEach(function(ve,Te,xe){if(re.call(Ze,ve,Te,xe))return Ge.push(ve)}),Ge}every(re,Ze){let Ge=!0;return this.forEach(function(ve,Te,xe){Ge&&!re.call(Ze,ve,Te,xe)&&(Ge=!1)}),Ge}some(re,Ze){let Ge=!1;return this.forEach(function(ve,Te,xe){!Ge&&re.call(Ze,ve,Te,xe)&&(Ge=!0)}),Ge}findIterator(re){return this.priv.findIterator(re)}beginIterator(){return this.priv.beginIterator()}endIterator(){return this.priv.endIterator()}}class W{constructor(re,Ze){this.priv=re,this.index=Ze,this.data=this.priv.data}hasNext(){return this.index<this.data.length}hasPrevious(){return this.index>0}value(){return this.index<this.data.length?this.data[this.index]:null}setValue(re){if(!this.priv.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.data[this.index]=re}next(){return this.index>=this.data.length?null:new W(this.priv,this.index+1)}previous(){return this.index<=0?null:new W(this.priv,this.index-1)}}const F=(ye,re,Ze)=>{let Ge=0,ve=ye.length;for(;Ge<ve;){const Te=Ge+ve>>>1;Ze(ye[Te],re)<0?Ge=Te+1:ve=Te}return Ge};class U{constructor(re){this.options=re,this.onInsertConflict=this.options.onInsertConflict,this.comparator=this.options.comparator,this.data=[]}toArray(){return this.data}insert(re){const Ze=F(this.data,re,this.comparator);return this.data[Ze]!==void 0&&this.comparator(this.data[Ze],re)===0?this.data.splice(Ze,1,this.onInsertConflict(this.data[Ze],re)):this.data.splice(Ze,0,re)}remove(re){const Ze=F(this.data,re,this.comparator);if(this.comparator(this.data[Ze],re)!==0)throw"Value not in set";return this.data.splice(Ze,1)}clear(){return this.data.length=0}contains(re){const Ze=F(this.data,re,this.comparator);return this.index!==this.data.length&&this.comparator(this.data[Ze],re)===0}forEachImpl(re,Ze,Ge){const ve=this.data,Te=ve.length;for(let xe=0;xe<Te;xe++)re.call(Ge,ve[xe],xe,Ze)}findIterator(re){const Ze=F(this.data,re,this.comparator);return new W(this,Ze)}beginIterator(){return new W(this,0)}endIterator(){return new W(this,this.data.length)}}const J=(ye,re)=>{for(;re[ye]!==null;){const Ze=re;re=re[ye],re._iteratorParentNode=Ze}return re},Y=(ye,re)=>{let Ze,Ge;if(re[ye]!==null)Ze=re,re=re[ye],re._iteratorParentNode=Ze,Ge=ye==="left"?"right":"left",re=J(Ge,re);else{for(;(Ze=re._iteratorParentNode)!==null&&Ze[ye]===re;)re=Ze;re=Ze}return re};class D{constructor(re,Ze){this.tree=re,this.node=Ze}next(){if(this.node===null)return null;{const re=Y("right",this.node);return new D(this.tree,re)}}previous(){if(this.node===null){if(this.tree.root===null)return null;{this.tree.root._iteratorParentNode=null;const re=J("right",this.tree.root);return new D(this.tree,re)}}else{const re=Y("left",this.node);return re===null?null:new D(this.tree,re)}}hasNext(){return this.node!==null}hasPrevious(){return this.previous()!==null}value(){return this.node===null?null:this.node.value}setValue(re){if(!this.tree.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.node.value=re}}D.find=function(ye,re,Ze){const Ge=ye.root;Ge!=null&&(Ge._iteratorParentNode=null);let ve=Ge,Te=null;for(;ve!==null;){const xe=Ze(re,ve.value);if(xe===0)break;if(xe<0){if(ve.left===null)break;Te=ve,ve.left._iteratorParentNode=ve,ve=ve.left}else if(ve.right!==null)ve.right._iteratorParentNode=ve,ve=ve.right;else{ve=Te;break}}return new D(ye,ve)},D.left=ye=>{if(ye.root===null)return new D(ye,null);{ye.root._iteratorParentNode=null;const re=J("left",ye.root);return new D(ye,re)}},D.right=ye=>new D(ye,null);const Q=(ye,re)=>{ye!==null&&(Q(ye.left,re),re(ye.value),Q(ye.right,re))};class ee{toArray(){const re=[];return Q(this.root,function(Ze){return re.push(Ze)}),re}clear(){return this.root=null}forEachImpl(re,Ze,Ge){let ve=0;Q(this.root,function(Te){re.call(Ge,Te,ve,Ze),ve+=1})}contains(re){const Ze=this.comparator;let Ge=this.root;for(;Ge!==null;){const ve=Ze(re,Ge.value);if(ve===0)break;ve<0?Ge=Ge.left:Ge=Ge.right}return Ge!==null&&Ze(Ge.value,re)===0}findIterator(re){return D.find(this,re,this.comparator)}beginIterator(){return D.left(this)}endIterator(){return D.right(this)}}class q{constructor(re){this.value=re,this.left=null,this.right=null}}const te=(ye,re)=>{for(;ye[re]!==null;)ye=ye[re];return ye},ie=(ye,re,Ze)=>{if(ye===null)throw"Value not in set";const Ge=Ze(re,ye.value);if(Ge<0)ye.left=ie(ye.left,re,Ze);else if(Ge>0)ye.right=ie(ye.right,re,Ze);else if(ye.left===null&&ye.right===null)ye=null;else if(ye.right===null)ye=ye.left;else if(ye.left===null)ye=ye.right;else{const ve=te(ye.right,"left");ye.value=ve.value,ye.right=ie(ye.right,ve.value,Ze)}return ye};class ne extends ee{constructor(re){super(),this.options=re,this.comparator=this.options.comparator,this.onInsertConflict=this.options.onInsertConflict,this.root=null}insert(re){const Ze=this.comparator;if(this.root!==null){let Ge=this.root,ve=null;for(;;){const Te=Ze(re,Ge.value);if(Te===0){Ge.value=this.onInsertConflict(Ge.value,re);return}else{if(ve=Te<0?"left":"right",Ge[ve]===null)break;Ge=Ge[ve]}}return Ge[ve]=new q(re)}else return this.root=new q(re)}remove(re){return this.root=ie(this.root,re,this.comparator)}}class ce{constructor(re){this.value=re,this.left=null,this.right=null,this.isRed=!0}}const le=ye=>{const re=ye.right;return ye.right=re.left,re.left=ye,re.isRed=ye.isRed,ye.isRed=!0,re},se=ye=>{const re=ye.left;return ye.left=re.right,re.right=ye,re.isRed=ye.isRed,ye.isRed=!0,re},pe=ye=>{ye.isRed=!ye.isRed,ye.left.isRed=!ye.left.isRed,ye.right.isRed=!ye.right.isRed},ue=ye=>(pe(ye),ye.right!==null&&ye.right.left!==null&&ye.right.left.isRed&&(ye.right=se(ye.right),ye=le(ye),pe(ye)),ye),ae=ye=>(pe(ye),ye.left!==null&&ye.left.left!==null&&ye.left.left.isRed&&(ye=se(ye),pe(ye)),ye),de=(ye,re,Ze,Ge)=>{if(ye===null)return new ce(re);const ve=Ze(re,ye.value);return ve===0?ye.value=Ge(ye.value,re):ve<0?ye.left=de(ye.left,re,Ze,Ge):ye.right=de(ye.right,re,Ze,Ge),ye.right!==null&&ye.right.isRed&&!(ye.left!==null&&ye.left.isRed)&&(ye=le(ye)),ye.left!==null&&ye.left.isRed&&ye.left.left!==null&&ye.left.left.isRed&&(ye=se(ye)),ye.left!==null&&ye.left.isRed&&ye.right!==null&&ye.right.isRed&&pe(ye),ye},be=ye=>{for(;ye.left!==null;)ye=ye.left;return ye},he=ye=>(ye.right!==null&&ye.right.isRed&&(ye=le(ye)),ye.left!==null&&ye.left.isRed&&ye.left.left!==null&&ye.left.left.isRed&&(ye=se(ye)),ye.left!==null&&ye.left.isRed&&ye.right!==null&&ye.right.isRed&&pe(ye),ye),Le=ye=>ye.left===null?null:(!ye.left.isRed&&!(ye.left.left!==null&&ye.left.left.isRed)&&(ye=ue(ye)),ye.left=Le(ye.left),he(ye)),Xe=(ye,re,Ze)=>{if(ye===null)throw"Value not in set";if(Ze(re,ye.value)<0){if(ye.left===null)throw"Value not in set";!ye.left.isRed&&!(ye.left.left!==null&&ye.left.left.isRed)&&(ye=ue(ye)),ye.left=Xe(ye.left,re,Ze)}else{if(ye.left!==null&&ye.left.isRed&&(ye=se(ye)),ye.right===null){if(Ze(re,ye.value)===0)return null;throw"Value not in set"}!ye.right.isRed&&!(ye.right.left!==null&&ye.right.left.isRed)&&(ye=ae(ye)),Ze(re,ye.value)===0?(ye.value=be(ye.right).value,ye.right=Le(ye.right)):ye.right=Xe(ye.right,re,Ze)}return ye!==null&&(ye=he(ye)),ye};class We extends ee{constructor(re){super(),this.options=re,this.comparator=this.options.comparator,this.onInsertConflict=this.options.onInsertConflict,this.root=null}insert(re){this.root=de(this.root,re,this.comparator,this.onInsertConflict),this.root.isRed=!1}remove(re){this.root=Xe(this.root,re,this.comparator),this.root!==null&&(this.root.isRed=!1)}}const fe={OnInsertConflictThrow:(ye,re)=>{throw new Error("Value already in set")},OnInsertConflictReplace:(ye,re)=>re,OnInsertConflictIgnore:(ye,re)=>ye};class Re extends G{constructor(re){re||(re={}),re.strategy||(re.strategy=We),re.comparator||(re.comparator=function(Ze,Ge){return(Ze||0)-(Ge||0)}),re.onInsertConflict||(re.onInsertConflict=fe.OnInsertConflictThrow),super(re)}}return Re.ArrayStrategy=U,Re.BinaryTreeStrategy=ne,Re.RedBlackTreeStrategy=We,Object.assign(Re,fe),Re})})(sortedSet);class SortingIterator extends AsyncIterator{constructor(Z,G,W,F){super();let U;const J=()=>{const Y=new sortedSetExports({comparator:G}),D=()=>{Z.removeListener("data",Q),Z.removeListener("error",ee),Z.removeListener("end",q),Z.destroy()},Q=te=>{Y.insert(W(te))},ee=te=>{D(),this.emit("error",te)},q=()=>{D(),U=Y.beginIterator(),this.readable=!0};Z.on("data",Q),Z.on("error",ee),Z.on("end",q)};this.read=()=>{if(U){const Y=U.value();return Y===null?(this.close(),null):(U=U.next(),F(Y))}return this.readable=!1,null},RESOLVED.then(J).catch(Y=>{RESOLVED.then(()=>this.emit("error",Y))})}}const SORTING_KEY=Symbol(),compareSortableQuadsReverse=(X,Z)=>X[SORTING_KEY]>Z[SORTING_KEY]?-1:1,compareSortableQuads=(X,Z)=>X[SORTING_KEY]>Z[SORTING_KEY]?1:-1,emitSortableQuad=X=>X,getLevelQueryForIndex=(X,Z,G,W)=>{const F=writePattern(X,Z,G);if(F===null)return null;const U={[F.gte?"gte":"gt"]:F.gt,[F.lte?"lte":"lt"]:F.lt,keys:!0,values:!1,keyEncoding:"utf8"};return typeof W.limit=="number"&&(U.limit=W.limit),typeof W.reverse=="boolean"&&(U.reverse=W.reverse),{level:U,order:F.order,index:F.index}},getLevelQuery=(X,Z,G,W)=>{for(let F=0,U;F<Z.length;F+=1){U=Z[F];const J=getLevelQueryForIndex(X,U,G,W);if(J!==null&&(!W.order||arrStartsWith(J.order,W.order)))return J}return null},getStream=async(X,Z,G)=>{const{dataFactory:W,prefixes:F,indexes:U}=X,J=getLevelQuery(Z,U,F,G);if(J!==null){const{index:D,level:Q,order:ee}=J;let q=new LevelIterator(X.db.iterator(Q),te=>quadReader.read(te,D.prefix.length,D.terms,W,F));return{type:ResultType.QUADS,order:ee,iterator:q,index:D.terms,resorted:!1}}const Y=getLevelQuery(Z,U,F,emptyObject);if(Y!==null){const{index:D,level:Q,order:ee}=Y;let q=new LevelIterator(X.db.iterator(Q),te=>quadReader.read(te,D.prefix.length,D.terms,W,F));if(typeof G.order<"u"&&!arrStartsWith(G.order,ee)){const te=ne=>(ne[SORTING_KEY]=twoStepsQuadWriter.ingest(ne,F).write("",G.order)+separator,ne),ie=G.reverse===!0?compareSortableQuadsReverse:compareSortableQuads;if(q=new SortingIterator(q,ie,te,emitSortableQuad),typeof G.limit<"u"){const ne=function(){this.removeListener("end",ne),this.removeListener("error",ne),this.destroy()};q=q.take(G.limit).on("end",ne).on("error",ne)}}return{type:ResultType.QUADS,order:G.order||ee,iterator:q,index:D.terms,resorted:!0}}throw new Error(`No index compatible with pattern ${JSON.stringify(Z)} and options ${JSON.stringify(G)}`)},getApproximateSize=async(X,Z,G)=>{if(!X.db.approximateSize)return{type:ResultType.APPROXIMATE_SIZE,approximateSize:1/0};const{indexes:W,prefixes:F}=X,U=getLevelQuery(Z,W,F,G);if(U===null)throw new Error(`No index compatible with pattern ${JSON.stringify(Z)} and options ${JSON.stringify(G)}`);const{level:J}=U,Y=J.gte||J.gt,D=J.lte||J.lt;return new Promise((Q,ee)=>{X.db.approximateSize(Y,D,(q,te)=>{if(q){ee(q);return}Q({type:ResultType.APPROXIMATE_SIZE,approximateSize:Math.max(1,te)})})})};class Scope{id;blankNodes;factory;static async init(Z){return new Scope(Z.dataFactory,uid(),new Map)}static async load(Z,G){const W=Scope.getLevelIteratorOpts(!1,!0,G),F=new LevelIterator(Z.db.iterator(W),(Y,D)=>D),U=new Map,{dataFactory:J}=Z;return await consumeOneByOne(F,Y=>{const{originalLabel:D,randomLabel:Q}=JSON.parse(Y);U.set(D,J.blankNode(Q))}),new Scope(J,G,U)}static async delete(Z,G){const W=Z.db.batch(),F=Scope.getLevelIteratorOpts(!0,!1,G),U=new LevelIterator(Z.db.iterator(F),(J,Y)=>J);await consumeOneByOne(U,J=>{W.del(J)}),await W.write()}static getLevelIteratorOpts(Z,G,W){const F=W?`SCOPE${separator}${W}${separator}`:`SCOPE${separator}`;return{keys:Z,values:G,keyEncoding:"utf8",valueEncoding:"utf8",gte:F,lte:`${F}${boundary}`}}static addMappingToLevelBatch(Z,G,W,F){G.put(`SCOPE${separator}${Z}${separator}${W}`,JSON.stringify({originalLabel:W,randomLabel:F}))}constructor(Z,G,W){this.blankNodes=W,this.factory=Z,this.id=G}parseBlankNode(Z,G){let W=this.blankNodes.get(Z.value);return W||(W=this.factory.blankNode(uid()),this.blankNodes.set(Z.value,W),Scope.addMappingToLevelBatch(this.id,G,Z.value,W.value)),W}parseSubject(Z,G){switch(Z.termType){case"BlankNode":return this.parseBlankNode(Z,G);default:return Z}}parseObject(Z,G){switch(Z.termType){case"BlankNode":return this.parseBlankNode(Z,G);default:return Z}}parseGraph(Z,G){switch(Z.termType){case"BlankNode":return this.parseBlankNode(Z,G);default:return Z}}parseQuad(Z,G){return this.factory.quad(this.parseSubject(Z.subject,G),Z.predicate,this.parseObject(Z.object,G),this.parseGraph(Z.graph,G))}}class Quadstore{db;indexes;id;prefixes;dataFactory;constructor(Z){ensureAbstractLevel(Z.backend,'"opts.backend"'),this.dataFactory=Z.dataFactory,this.db=Z.backend,this.indexes=[],this.id=uid(),(Z.indexes||defaultIndexes).forEach(G=>this._addIndex(G)),this.prefixes=Z.prefixes||{expandTerm:G=>G,compactIri:G=>G}}ensureReady(){if(this.db.status!=="open")throw new Error(`Store is not ready (status: "${this.db.status}"). Did you call store.open()?`)}async open(){this.db.status!=="open"&&await this.db.open()}async close(){this.db.status!=="closed"&&await this.db.close()}toString(){return this.toJSON()}toJSON(){return`[object ${this.constructor.name}::${this.id}]`}_addIndex(Z){const G=Z.map(W=>W.charAt(0).toUpperCase()).join("");this.indexes.push({terms:Z,prefix:G+separator})}async clear(){if(typeof this.db.clear=="function")return new Promise((Z,G)=>{this.db.clear(W=>{W?G(W):Z()})});await this.delStream((await this.getStream({})).iterator,{batchSize:20})}match(Z,G,W,F,U=emptyObject){if(Z&&Z.termType==="Literal")return new EmptyIterator;const J={subject:Z,predicate:G,object:W,graph:F};return wrap(this.getStream(J,U).then(Y=>Y.iterator))}async countQuads(Z,G,W,F,U=emptyObject){if(Z&&Z.termType==="Literal")return 0;const J={subject:Z,predicate:G,object:W,graph:F};return(await this.getApproximateSize(J,U)).approximateSize}import(Z){const G=new eventsExports.EventEmitter;return this.putStream(Z,{}).then(()=>{G.emit("end")}).catch(W=>{G.emit("error",W)}),G}remove(Z){const G=new eventsExports.EventEmitter;return this.delStream(Z,{}).then(()=>G.emit("end")).catch(W=>G.emit("error",W)),G}removeMatches(Z,G,W,F,U=emptyObject){const J=this.match(Z,G,W,F,U);return this.remove(J)}deleteGraph(Z){return this.removeMatches(void 0,void 0,void 0,Z)}async getApproximateSize(Z,G=emptyObject){return await this.ensureReady(),await getApproximateSize(this,Z,G)}_batchPut(Z,G){const{indexes:W,prefixes:F}=this;twoStepsQuadWriter.ingest(Z,F);for(let U=0,J=W.length,Y;U<J;U+=1){Y=W[U];const D=twoStepsQuadWriter.write(Y.prefix,Y.terms);G=G.put(D,emptyValue,levelPutOpts)}return G}async put(Z,G=emptyObject){this.ensureReady();const{indexes:W,db:F}=this;let U=F.batch();return G.scope&&(Z=G.scope.parseQuad(Z,U)),this._batchPut(Z,U),await this.writeBatch(U,G),{type:ResultType.VOID}}async multiPut(Z,G=emptyObject){this.ensureReady();const{indexes:W,db:F}=this;let U=F.batch();for(let J=0,Y=Z.length,D;J<Y;J+=1)D=Z[J],G.scope&&(D=G.scope.parseQuad(D,U)),this._batchPut(D,U);return await this.writeBatch(U,G),{type:ResultType.VOID}}_batchDel(Z,G){const{indexes:W,prefixes:F}=this;twoStepsQuadWriter.ingest(Z,F);for(let U=0,J=W.length,Y;U<J;U+=1){Y=W[U];const D=twoStepsQuadWriter.write(Y.prefix,Y.terms);G=G.del(D,levelDelOpts)}return G}async del(Z,G=emptyObject){this.ensureReady();const W=this.db.batch();return this._batchDel(Z,W),await this.writeBatch(W,G),{type:ResultType.VOID}}async multiDel(Z,G=emptyObject){this.ensureReady();const W=this.db.batch();for(let F=0,U=Z.length,J;F<U;F+=1)J=Z[F],this._batchDel(J,W);return await this.writeBatch(W,G),{type:ResultType.VOID}}async patch(Z,G,W=emptyObject){this.ensureReady();const{indexes:F,db:U}=this,J=U.batch();return this._batchDel(Z,J),this._batchPut(G,J),await this.writeBatch(J,W),{type:ResultType.VOID}}async multiPatch(Z,G,W=emptyObject){this.ensureReady();const{indexes:F,db:U}=this;let J=U.batch();for(let Y=0,D=Z.length,Q;Y<D;Y+=1)Q=Z[Y],this._batchDel(Q,J);for(let Y=0,D=G.length,Q;Y<D;Y+=1)Q=G[Y],this._batchPut(Q,J);return await this.writeBatch(J,W),{type:ResultType.VOID}}async writeBatch(Z,G){G.preWrite&&await G.preWrite(Z),await Z.write()}async get(Z,G=emptyObject){this.ensureReady();const W=await this.getStream(Z,G);return{items:await streamToArray(W.iterator),type:W.type,order:W.order,index:W.index,resorted:W.resorted}}async getStream(Z,G=emptyObject){return this.ensureReady(),await getStream(this,Z,G)}async putStream(Z,G=emptyObject){this.ensureReady();const W=G.batchSize||1;return W===1?await consumeOneByOne(Z,F=>this.put(F,G)):await consumeInBatches(Z,W,F=>this.multiPut(F,G)),{type:ResultType.VOID}}async delStream(Z,G=emptyObject){this.ensureReady();const W=G.batchSize||1;return W===1?await consumeOneByOne(Z,F=>this.del(F)):await consumeInBatches(Z,W,F=>this.multiDel(F)),{type:ResultType.VOID}}async initScope(){return await this.ensureReady(),await Scope.init(this)}async loadScope(Z){return await this.ensureReady(),await Scope.load(this,Z)}async deleteScope(Z){await this.ensureReady(),await Scope.delete(this,Z)}async deleteAllScopes(){await this.ensureReady(),await Scope.delete(this)}}var sparqlalgebrajs={},sparqlAlgebra={},es6=function X(Z,G){if(Z===G)return!0;if(Z&&G&&typeof Z=="object"&&typeof G=="object"){if(Z.constructor!==G.constructor)return!1;var W,F,U;if(Array.isArray(Z)){if(W=Z.length,W!=G.length)return!1;for(F=W;F--!==0;)if(!X(Z[F],G[F]))return!1;return!0}if(Z instanceof Map&&G instanceof Map){if(Z.size!==G.size)return!1;for(F of Z.entries())if(!G.has(F[0]))return!1;for(F of Z.entries())if(!X(F[1],G.get(F[0])))return!1;return!0}if(Z instanceof Set&&G instanceof Set){if(Z.size!==G.size)return!1;for(F of Z.entries())if(!G.has(F[0]))return!1;return!0}if(ArrayBuffer.isView(Z)&&ArrayBuffer.isView(G)){if(W=Z.length,W!=G.length)return!1;for(F=W;F--!==0;)if(Z[F]!==G[F])return!1;return!0}if(Z.constructor===RegExp)return Z.source===G.source&&Z.flags===G.flags;if(Z.valueOf!==Object.prototype.valueOf)return Z.valueOf()===G.valueOf();if(Z.toString!==Object.prototype.toString)return Z.toString()===G.toString();if(U=Object.keys(Z),W=U.length,W!==Object.keys(G).length)return!1;for(F=W;F--!==0;)if(!Object.prototype.hasOwnProperty.call(G,U[F]))return!1;for(F=W;F--!==0;){var J=U[F];if(!X(Z[J],G[J]))return!1}return!0}return Z!==Z&&G!==G},rdfString={},TermUtil$1={};Object.defineProperty(TermUtil$1,"__esModule",{value:!0});TermUtil$1.stringQuadToQuad=TermUtil$1.quadToStringQuad=TermUtil$1.stringToTerm=TermUtil$1.getLiteralLanguage=TermUtil$1.getLiteralType=TermUtil$1.getLiteralValue=TermUtil$1.termToString=void 0;const rdf_data_factory_1$2=rdfDataFactory,FACTORY=new rdf_data_factory_1$2.DataFactory;function termToString(X){if(X)switch(X.termType){case"NamedNode":return X.value;case"BlankNode":return"_:"+X.value;case"Literal":const Z=X;return'"'+Z.value+'"'+(Z.datatype&&Z.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&Z.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+Z.datatype.value:"")+(Z.language?"@"+Z.language:"");case"Quad":return`<<${termToString(X.subject)} ${termToString(X.predicate)} ${termToString(X.object)}${X.graph.termType==="DefaultGraph"?"":" "+termToString(X.graph)}>>`;case"Variable":return"?"+X.value;case"DefaultGraph":return X.value}}TermUtil$1.termToString=termToString;function getLiteralValue(X){const Z=/^"([^]*)"/.exec(X);if(!Z)throw new Error(X+" is not a literal");return Z[1]}TermUtil$1.getLiteralValue=getLiteralValue;function getLiteralType(X){const Z=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(X);if(!Z)throw new Error(X+" is not a literal");return Z[1]||(Z[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}TermUtil$1.getLiteralType=getLiteralType;function getLiteralLanguage(X){const Z=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(X);if(!Z)throw new Error(X+" is not a literal");return Z[1]?Z[1].toLowerCase():""}TermUtil$1.getLiteralLanguage=getLiteralLanguage;function stringToTerm(X,Z){if(Z=Z||FACTORY,!X||!X.length)return Z.defaultGraph();switch(X[0]){case"_":return Z.blankNode(X.substr(2));case"?":if(!Z.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return Z.variable(X.substr(1));case'"':const G=getLiteralLanguage(X),W=Z.namedNode(getLiteralType(X));return Z.literal(getLiteralValue(X),G||W);case"<":default:if(X.startsWith("<<")&&X.endsWith(">>")){const F=X.slice(2,-2).trim();let U=[],J=0,Y=0,D=!1;for(let Q=0;Q<F.length;Q++){const ee=F[Q];if(ee==="<"&&J++,ee===">"){if(J===0)throw new Error("Found closing tag without opening tag in "+X);J--}if(ee==='"'){let q=!1,te=Q;for(;te-- >0&&F[te]==="\\";)q=!q;q||(D=!D)}if(ee===" "&&!D&&J===0){for(U.push(F.slice(Y,Q));F[Q+1]===" ";)Q+=1;Y=Q+1}}if(J!==0)throw new Error("Found opening tag without closing tag in "+X);if(U.push(F.slice(Y,F.length)),U.length!==3&&U.length!==4)throw new Error("Nested quad syntax error "+X);return U=U.map(Q=>Q.startsWith("<")&&!Q.includes(" ")?Q.slice(1,-1):Q),Z.quad(stringToTerm(U[0]),stringToTerm(U[1]),stringToTerm(U[2]),U[3]?stringToTerm(U[3]):void 0)}return Z.namedNode(X)}}TermUtil$1.stringToTerm=stringToTerm;function quadToStringQuad(X){return{subject:termToString(X.subject),predicate:termToString(X.predicate),object:termToString(X.object),graph:termToString(X.graph)}}TermUtil$1.quadToStringQuad=quadToStringQuad;function stringQuadToQuad(X,Z){return Z=Z||FACTORY,Z.quad(stringToTerm(X.subject,Z),stringToTerm(X.predicate,Z),stringToTerm(X.object,Z),stringToTerm(X.graph,Z))}TermUtil$1.stringQuadToQuad=stringQuadToQuad;(function(X){Object.defineProperty(X,"__esModule",{value:!0}),X.termToString=X.stringToTerm=X.stringQuadToQuad=X.quadToStringQuad=X.getLiteralValue=X.getLiteralType=X.getLiteralLanguage=void 0;const Z=TermUtil$1;Object.defineProperty(X,"getLiteralLanguage",{enumerable:!0,get:function(){return Z.getLiteralLanguage}}),Object.defineProperty(X,"getLiteralType",{enumerable:!0,get:function(){return Z.getLiteralType}}),Object.defineProperty(X,"getLiteralValue",{enumerable:!0,get:function(){return Z.getLiteralValue}}),Object.defineProperty(X,"quadToStringQuad",{enumerable:!0,get:function(){return Z.quadToStringQuad}}),Object.defineProperty(X,"stringQuadToQuad",{enumerable:!0,get:function(){return Z.stringQuadToQuad}}),Object.defineProperty(X,"stringToTerm",{enumerable:!0,get:function(){return Z.stringToTerm}}),Object.defineProperty(X,"termToString",{enumerable:!0,get:function(){return Z.termToString}})})(rdfString);var algebra={};(function(X){Object.defineProperty(X,"__esModule",{value:!0}),X.expressionTypes=X.types=void 0,function(Z){Z.ALT="alt",Z.ASK="ask",Z.BGP="bgp",Z.CONSTRUCT="construct",Z.DESCRIBE="describe",Z.DISTINCT="distinct",Z.EXPRESSION="expression",Z.EXTEND="extend",Z.FILTER="filter",Z.FROM="from",Z.GRAPH="graph",Z.GROUP="group",Z.INV="inv",Z.JOIN="join",Z.LEFT_JOIN="leftjoin",Z.LINK="link",Z.MINUS="minus",Z.NOP="nop",Z.NPS="nps",Z.ONE_OR_MORE_PATH="OneOrMorePath",Z.ORDER_BY="orderby",Z.PATH="path",Z.PATTERN="pattern",Z.PROJECT="project",Z.REDUCED="reduced",Z.SEQ="seq",Z.SERVICE="service",Z.SLICE="slice",Z.UNION="union",Z.VALUES="values",Z.ZERO_OR_MORE_PATH="ZeroOrMorePath",Z.ZERO_OR_ONE_PATH="ZeroOrOnePath",Z.COMPOSITE_UPDATE="compositeupdate",Z.DELETE_INSERT="deleteinsert",Z.LOAD="load",Z.CLEAR="clear",Z.CREATE="create",Z.DROP="drop",Z.ADD="add",Z.MOVE="move",Z.COPY="copy"}(X.types||(X.types={})),function(Z){Z.AGGREGATE="aggregate",Z.EXISTENCE="existence",Z.NAMED="named",Z.OPERATOR="operator",Z.TERM="term",Z.WILDCARD="wildcard"}(X.expressionTypes||(X.expressionTypes={}))})(algebra);var factory$2={},Wildcard$2={};let Wildcard$1=class{constructor(){return WILDCARD||this}equals(Z){return Z&&this.termType===Z.termType}};Object.defineProperty(Wildcard$1.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(Wildcard$1.prototype,"termType",{enumerable:!0,value:"Wildcard"});var WILDCARD=new Wildcard$1;Wildcard$2.Wildcard=Wildcard$1;var SparqlParser=function(){var X=function(Gt,Zt,Lt,Tt){for(Lt=Lt||{},Tt=Gt.length;Tt--;Lt[Gt[Tt]]=Zt);return Lt},Z=[6,12,13,15,16,28,35,41,50,55,107,117,120,122,123,132,133,138,195,219,224,312,322,323,324,325,326],G=[2,211],W=[107,117,120,122,123,132,133,138,322,323,324,325,326],F=[2,389],U=[1,22],J=[1,31],Y=[13,16,35,195,219,224,312],D=[6,90],Q=[45,46,58],ee=[45,58],q=[1,62],te=[1,64],ie=[1,60],ne=[1,63],ce=[1,69],le=[1,70],se=[26,34,35],pe=[13,16,35,195,219,312],ue=[13,16,312],ae=[119,141,320,327],de=[13,16,119,141,312],be=[1,96],he=[1,100],Le=[1,102],Xe=[119,141,320,321,327],We=[13,16,119,141,312,321],fe=[1,108],Re=[2,253],ye=[1,107],re=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Ze=[6,45,46,58,68,75,78,86,88,90],Ge=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],ve=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339],Te=[34,35,45,46,58],xe=[1,139],Ye=[1,140],ge=[1,151],Me=[1,131],je=[1,125],tt=[1,130],it=[1,132],st=[1,142],qe=[1,143],ot=[1,144],ut=[1,145],dt=[1,147],mt=[1,148],Je=[2,461],Ne=[1,157],ke=[1,158],Ie=[1,159],Ce=[1,152],ze=[1,153],Ee=[1,156],_e=[1,166],He=[1,167],Pe=[1,168],$e=[1,169],we=[1,170],Ue=[1,171],et=[1,172],at=[1,173],Ve=[1,174],oe=[1,175],me=[1,165],Se=[1,160],Fe=[1,161],Ke=[1,162],Ae=[1,163],rt=[1,164],vt=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Vt=[2,312],Wt=[1,199],ft=[1,197],Rt=[6,191],Yt=[2,329],ct=[2,317],xt=[45,135],Qe=[6,48,78,86,88,90],nt=[2,257],Xt=[1,213],St=[1,215],Nt=[6,48,75,78,86,88,90],jt=[2,255],sn=[1,221],Ht=[1,233],an=[1,231],Ot=[1,239],vn=[1,232],tn=[1,237],Qt=[1,238],En=[6,68,75,78,86,88,90],gn=[37,38,191,250,278],dn=[37,38,191,250,254,278],pn=[37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339],$t=[26,37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339],wn=[1,267],di=[1,266],De=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],bt=[1,275],pt=[1,274],ht=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],yt=[35,93],It=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],Mt=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Ut=[48,93],wt=[34,38],Ct=[6,13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],Ft=[6,13,16,26,34,35,38,87,93,226,231,245,246,271,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333],Et=[1,299],nn=[1,300],hn=[6,116,191],At=[48,119],fn=[6,48,86,88,90],qt=[2,341],zt=[2,333],Ln=[1,340],Dt=[1,342],Gn=[48,119,328],Xn=[13,16,34,195,312],Vn=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],ln=[13,16,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],cn=[1,374],Sn=[1,375],An=[13,16,26,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],un=[1,398],xn=[1,399],ui=[13,16,38,195,224,312],ii=[1,416],Cn=[6,48,90],zi=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],gi=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,339,340,341,342,343,344],Kn=[46,48,90,119,167,168,170,173,174],li=[1,435],ai=[1,436],Hi=[1,442],Ei=[1,441],Pn=[48,119,191,227,328],mi=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bi=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],hi=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Si=[35,48],Ki=[2,332],Pi=[1,497],Bi=[1,494],_i=[1,495],Oi=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344],xi=[1,515],pi=[46,48,90,119,167,168,170,173,174,328],ji=[13,16,34,35,195,219,224,312],Bn=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Di=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Qn=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Ai=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Qi=[13,16,34,312],Nn=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Mn=[2,344],Zi=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$i=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Fn=[2,339],qi=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],el=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],si=[46,48,90,119,167,168,170,173,174,191,227,328],tl=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],nl=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],il=[2,327],Ti={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,ObjectListPath:198,ObjectListPath_repetition0:199,GraphNodePath:200,TriplesSameSubjectPath_group0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,PropertyListPathNotEmpty_group0:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmpty_repetition1:207,PropertyListPathNotEmptyTail:208,PropertyListPathNotEmptyTail_group0:209,Path:210,Path_repetition0:211,PathSequence:212,PathSequence_repetition0:213,PathEltOrInverse:214,PathElt:215,PathPrimary:216,PathElt_option0:217,PathEltOrInverse_option0:218,"!":219,PathNegatedPropertySet:220,PathOneInPropertySet:221,PathNegatedPropertySet_repetition0:222,PathNegatedPropertySet_option0:223,"^":224,TriplesNode_repetition_plus0:225,"[":226,"]":227,TriplesNodePath_repetition_plus0:228,GraphNode_group0:229,GraphNodePath_group0:230,"<<":231,VarTriple_group0:232,VarTriple_group1:233,VarTriple_group2:234,">>":235,VarTriple_group3:236,VarTriple_group4:237,ConstTriple_group0:238,ConstTriple_group1:239,ConstTriple_group2:240,ConstTriple_group3:241,ConstTriple_group4:242,VarOrTerm:243,Term:244,BLANK_NODE_LABEL:245,ANON:246,ConditionalAndExpression:247,Expression_repetition0:248,ExpressionTail:249,"||":250,RelationalExpression:251,ConditionalAndExpression_repetition0:252,ConditionalAndExpressionTail:253,"&&":254,AdditiveExpression:255,RelationalExpression_group0:256,RelationalExpression_option0:257,IN:258,MultiplicativeExpression:259,AdditiveExpression_repetition0:260,AdditiveExpressionTail:261,AdditiveExpressionTail_group0:262,NumericLiteralPositive:263,AdditiveExpressionTail_repetition0:264,NumericLiteralNegative:265,AdditiveExpressionTail_repetition1:266,UnaryExpression:267,MultiplicativeExpression_repetition0:268,MultiplicativeExpressionTail:269,MultiplicativeExpressionTail_group0:270,"+":271,PrimaryExpression:272,"-":273,Aggregate:274,FUNC_ARITY0:275,FUNC_ARITY1:276,FUNC_ARITY2:277,",":278,IF:279,BuiltInCall_group0:280,BOUND:281,BNODE:282,BuiltInCall_option0:283,EXISTS:284,COUNT:285,Aggregate_option0:286,Aggregate_group0:287,FUNC_AGGREGATE:288,Aggregate_option1:289,GROUP_CONCAT:290,Aggregate_option2:291,Aggregate_option3:292,GroupConcatSeparator:293,SEPARATOR:294,"=":295,String:296,LANGTAG:297,"^^":298,DECIMAL:299,DOUBLE:300,BOOLEAN:301,STRING_LITERAL1:302,STRING_LITERAL2:303,STRING_LITERAL_LONG1:304,STRING_LITERAL_LONG2:305,INTEGER_POSITIVE:306,DECIMAL_POSITIVE:307,DOUBLE_POSITIVE:308,INTEGER_NEGATIVE:309,DECIMAL_NEGATIVE:310,DOUBLE_NEGATIVE:311,PNAME_LN:312,QueryOrUpdate_group0_option0:313,Prologue_repetition0_group0:314,SelectClauseBase_option0_group0:315,DISTINCT:316,REDUCED:317,DescribeQuery_group0_repetition_plus0_group0:318,DescribeQuery_group0_repetition_plus0:319,NAMED:320,SILENT:321,CLEAR:322,DROP:323,ADD:324,MOVE:325,COPY:326,ALL:327,".":328,UNION:329,"|":330,"/":331,PathElt_option0_group0:332,"?":333,"!=":334,"<":335,">":336,"<=":337,">=":338,NOT:339,CONCAT:340,COALESCE:341,SUBSTR:342,REGEX:343,REPLACE:344,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",219:"!",224:"^",226:"[",227:"]",231:"<<",235:">>",245:"BLANK_NODE_LABEL",246:"ANON",250:"||",254:"&&",258:"IN",271:"+",273:"-",275:"FUNC_ARITY0",276:"FUNC_ARITY1",277:"FUNC_ARITY2",278:",",279:"IF",281:"BOUND",282:"BNODE",284:"EXISTS",285:"COUNT",288:"FUNC_AGGREGATE",290:"GROUP_CONCAT",294:"SEPARATOR",295:"=",297:"LANGTAG",298:"^^",299:"DECIMAL",300:"DOUBLE",301:"BOOLEAN",302:"STRING_LITERAL1",303:"STRING_LITERAL2",304:"STRING_LITERAL_LONG1",305:"STRING_LITERAL_LONG2",306:"INTEGER_POSITIVE",307:"DECIMAL_POSITIVE",308:"DOUBLE_POSITIVE",309:"INTEGER_NEGATIVE",310:"DECIMAL_NEGATIVE",311:"DOUBLE_NEGATIVE",312:"PNAME_LN",316:"DISTINCT",317:"REDUCED",320:"NAMED",321:"SILENT",322:"CLEAR",323:"DROP",324:"ADD",325:"MOVE",326:"COPY",327:"ALL",328:".",329:"UNION",330:"|",331:"/",333:"?",334:"!=",335:"<",336:">",337:"<=",338:">=",339:"NOT",340:"CONCAT",341:"COALESCE",342:"SUBSTR",343:"REGEX",344:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[267,1],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],performAction:function(Zt,Lt,Tt,Jt,kt,Be,Rn){var Oe=Be.length-1;switch(kt){case 1:if(Be[Oe-1]=Be[Oe-1]||{},Pt.base&&(Be[Oe-1].base=Pt.base),Pt.base="",Be[Oe-1].prefixes=Pt.prefixes,Pt.prefixes=null,Pt.pathOnly){if(Be[Oe-1].type==="path"||"termType"in Be[Oe-1])return Be[Oe-1];throw new Error("Received full SPARQL query in path only mode")}else if(Be[Oe-1].type==="path"||"termType"in Be[Oe-1])throw new Error("Received only path in full SPARQL mode");if(Be[Oe-1].type==="update"){const Bt={};for(const _t of Be[Oe-1].updates)if(_t.updateType==="insert"){const Kt={};for(const mn of _t.insert)if(mn.type==="bgp"||mn.type==="graph")for(const bn of mn.triples)bn.subject.termType==="BlankNode"&&(Kt[bn.subject.value]=!0),bn.predicate.termType==="BlankNode"&&(Kt[bn.predicate.value]=!0),bn.object.termType==="BlankNode"&&(Kt[bn.object.value]=!0);for(const mn of Object.keys(Kt)){if(Bt[mn])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Bt[mn]=!0}}}return Be[Oe-1];case 3:this.$=en(Be[Oe-1],Be[Oe],{type:"query"});break;case 4:Pt.base=ri(Be[Oe]);break;case 5:Pt.prefixes||(Pt.prefixes={}),Be[Oe-1]=Be[Oe-1].substr(0,Be[Oe-1].length-1),Be[Oe]=ri(Be[Oe]),Pt.prefixes[Be[Oe-1]]=Be[Oe];break;case 6:this.$=en(Be[Oe-3],zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 7:if(!Pt.skipValidation&&(Ui(Be[Oe-3].variables.map(_t=>Fi(_t.expression))).some(_t=>_t.aggregation==="count"&&!(_t.expression instanceof yi))||Be[Oe].group)){for(const _t of Be[Oe-3].variables)if(_t.termType==="Variable"){if(!Be[Oe].group||!Be[Oe].group.map(Kt=>ei(Kt)).includes(ei(_t)))throw Error("Projection of ungrouped variable (?"+ei(_t)+")")}else if(Fi(_t.expression).length===0){const Kt=gl(_t.expression);for(const mn of Kt)if(!Be[Oe].group||!Be[Oe].group.map||!Be[Oe].group.map(bn=>ei(bn)).includes(ei(mn)))throw Error("Use of ungrouped variable in projection of operation (?"+ei(mn)+")")}}const ti=Be[Oe-1].where.filter(Bt=>Bt.type==="query");if(ti.length>0){const Bt=Be[Oe-3].variables.filter(Kt=>Kt.variable&&Kt.variable.value).map(Kt=>Kt.variable.value),_t=Ui(ti.map(Kt=>Kt.variables)).map(Kt=>Kt.value||Kt.variable.value);for(const Kt of Bt)if(_t.indexOf(Kt)>=0)throw Error("Target id of 'AS' (?"+Kt+") already used in subquery")}this.$=en(Be[Oe-3],zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 8:this.$=en(Be[Oe-1],{variables:[new yi]});break;case 9:const Ji=Be[Oe].map(Bt=>Bt.value||Bt.variable.value),Ri=Sl(Ji);if(Ri.length>0)throw Error("Two or more of the resulting columns have the same name (?"+Ri[0]+")");this.$=en(Be[Oe-1],{variables:Be[Oe]});break;case 10:this.$=en({queryType:"SELECT"},Be[Oe]&&(Be[Oe-1]=Wn(Be[Oe]),Be[Oe]={},Be[Oe][Be[Oe-1]]=!0,Be[Oe]));break;case 11:case 12:this.$=en(Be[Oe-3],Be[Oe-2],Be[Oe-1],Be[Oe],{type:"query"});break;case 13:case 100:case 137:case 166:this.$=Zn(Be[Oe]);break;case 14:case 28:this.$=kn(Be[Oe-3],{variable:Zn(Be[Oe-1])});break;case 15:this.$=ci(kn(Be[Oe-3],{variable:Zn(Be[Oe-1])}));break;case 16:this.$=en({queryType:"CONSTRUCT",template:Be[Oe-3]},zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 17:this.$=en({queryType:"CONSTRUCT",template:Be[Oe-2]=Be[Oe-2]?Be[Oe-2].triples:[]},zn(Be[Oe-5]),{where:[{type:"bgp",triples:$n([],Be[Oe-2])}]},Be[Oe]);break;case 18:this.$=en({queryType:"DESCRIBE",variables:Be[Oe-3]==="*"?[new yi]:Be[Oe-3].map(Zn)},zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 19:this.$=en({queryType:"ASK"},zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 20:case 61:this.$={iri:Be[Oe],named:!!Be[Oe-1]};break;case 21:this.$={where:Be[Oe].patterns};break;case 22:this.$=en(Be[Oe-1],Be[Oe]);break;case 23:this.$=en(Be[Oe-2],Be[Oe-1],Be[Oe]);break;case 24:this.$={group:Be[Oe]};break;case 25:case 26:case 32:case 34:this.$=kn(Be[Oe]);break;case 27:this.$=kn(Be[Oe-1]);break;case 29:case 35:this.$=kn(Zn(Be[Oe]));break;case 30:this.$={having:Be[Oe]};break;case 31:this.$={order:Be[Oe]};break;case 33:this.$=kn(Be[Oe],{descending:!0});break;case 36:this.$={limit:qn(Be[Oe])};break;case 37:this.$={offset:qn(Be[Oe])};break;case 38:this.$={limit:qn(Be[Oe-2]),offset:qn(Be[Oe])};break;case 39:this.$={limit:qn(Be[Oe]),offset:qn(Be[Oe-2])};break;case 40:this.$={type:"values",values:Be[Oe]};break;case 41:this.$=Be[Oe-1].map(function(Bt){var _t={};return _t[Be[Oe-3]]=Bt,_t});break;case 42:this.$=Be[Oe-1].map(function(){return{}});break;case 43:var Hn=Be[Oe-4].length;Be[Oe-4]=Be[Oe-4].map(Zn),this.$=Be[Oe-1].map(function(Bt){if(Bt.length!==Hn)throw Error("Inconsistent VALUES length");for(var _t={},Kt=0;Kt<Hn;Kt++)_t["?"+Be[Oe-4][Kt].value]=Bt[Kt];return _t});break;case 46:this.$=ci(Be[Oe]);break;case 47:this.$=void 0;break;case 48:case 92:case 117:case 167:this.$=Be[Oe-1];break;case 49:this.$={type:"update",updates:Jn(Be[Oe-2],Be[Oe-1])};break;case 50:this.$=en({type:"load",silent:!!Be[Oe-2],source:Be[Oe-1]},Be[Oe]&&{destination:Be[Oe]});break;case 51:this.$={type:Wn(Be[Oe-2]),silent:!!Be[Oe-1],graph:Be[Oe]};break;case 52:this.$={type:Wn(Be[Oe-4]),silent:!!Be[Oe-3],source:Be[Oe-2],destination:Be[Oe]};break;case 53:this.$={type:"create",silent:!!Be[Oe-2],graph:{type:"graph",name:Be[Oe]}};break;case 54:this.$={updateType:"insert",insert:hl(Be[Oe])};break;case 55:this.$={updateType:"delete",delete:Ci(hl(Be[Oe]))};break;case 56:this.$={updateType:"deletewhere",delete:Ci(Be[Oe])};break;case 57:this.$=en({updateType:"insertdelete"},Be[Oe-5],{insert:Be[Oe-4]||[]},{delete:Be[Oe-3]||[]},zn(Be[Oe-2],"using"),{where:Be[Oe].patterns});break;case 58:this.$=en({updateType:"insertdelete"},Be[Oe-5],{delete:Be[Oe-4]||[]},{insert:Be[Oe-3]||[]},zn(Be[Oe-2],"using"),{where:Be[Oe].patterns});break;case 59:this.$=Ci(Be[Oe]);break;case 60:case 63:case 160:case 181:this.$=Be[Oe];break;case 62:this.$={graph:Be[Oe]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:Be[Oe]};break;case 67:this.$={},this.$[Wn(Be[Oe])]=!0;break;case 68:this.$=Be[Oe-2]?Tn(Be[Oe-1],[Be[Oe-2]]):Tn(Be[Oe-1]);break;case 69:var Xi=en(Be[Oe-3]||{triples:[]},{type:"graph",name:Zn(Be[Oe-5])});this.$=Be[Oe]?[Xi,Be[Oe]]:[Xi];break;case 70:case 75:this.$={type:"bgp",triples:Tn(Be[Oe-2],[Be[Oe-1]])};break;case 71:this.$={type:"group",patterns:[Be[Oe-1]]};break;case 72:for(const Bt of Be[Oe-1].filter(_t=>_t.type==="bind")){const _t=Be[Oe-1].indexOf(Bt),Kt=new Set;for(const mn of Be[Oe-1].slice(0,_t))(mn.type==="group"||mn.type==="bgp")&&bl(mn).forEach(bn=>Kt.add(bn));if(Kt.has(Bt.variable.value))throw Error("Variable used to bind is already bound (?"+Bt.variable.value+")")}this.$={type:"group",patterns:Be[Oe-1]};break;case 73:this.$=Be[Oe-1]?Tn([Be[Oe-1]],Be[Oe]):Tn(Be[Oe]);break;case 74:this.$=Be[Oe]?[Be[Oe-2],Be[Oe]]:Be[Oe-2];break;case 76:Be[Oe-1].length?this.$={type:"union",patterns:Tn(Be[Oe-1].map(Yi),[Yi(Be[Oe])])}:this.$=Be[Oe];break;case 77:this.$=en(Be[Oe],{type:"optional"});break;case 78:this.$=en(Be[Oe],{type:"minus"});break;case 79:this.$=en(Be[Oe],{type:"graph",name:Zn(Be[Oe-1])});break;case 80:this.$=en(Be[Oe],{type:"service",name:Zn(Be[Oe-1]),silent:!!Be[Oe-2]});break;case 81:this.$={type:"filter",expression:Be[Oe]};break;case 82:this.$={type:"bind",variable:Zn(Be[Oe-1]),expression:Be[Oe-3]};break;case 83:this.$=ci({type:"bind",variable:Zn(Be[Oe-1]),expression:Be[Oe-3]});break;case 88:this.$={type:"functionCall",function:Be[Oe-1],args:[]};break;case 89:this.$={type:"functionCall",function:Be[Oe-5],args:Jn(Be[Oe-2],Be[Oe-1]),distinct:!!Be[Oe-3]};break;case 90:case 108:case 119:case 211:case 219:case 221:case 233:case 235:case 245:case 249:case 269:case 271:case 275:case 279:case 302:case 308:case 319:case 329:case 335:case 341:case 345:case 355:case 357:case 361:case 369:case 373:case 375:case 383:case 385:case 389:case 391:case 400:case 432:case 434:case 444:case 448:case 450:case 452:this.$=[];break;case 91:this.$=Jn(Be[Oe-2],Be[Oe-1]);break;case 93:this.$=Tn(Be[Oe-2],[Be[Oe-1]]);break;case 94:case 105:this.$=Be[Oe].map(function(Bt){return en(jn(Be[Oe-1]),Bt)});break;case 95:this.$=$n(Be[Oe].map(function(Bt){return en(jn(Be[Oe-1].entity),Bt)}),Be[Oe-1].triples);break;case 97:this.$=Tn([Be[Oe-1]],Be[Oe]);break;case 98:this.$=Tn(Be[Oe]);break;case 99:this.$=Mi(Be[Oe-1],Be[Oe]);break;case 102:case 115:case 122:this.$=Pt.factory.namedNode(ll);break;case 103:case 104:this.$=Jn(Be[Oe-1],Be[Oe]);break;case 106:this.$=Be[Oe]?$n(Be[Oe].map(function(Bt){return en(jn(Be[Oe-1].entity),Bt)}),Be[Oe-1].triples):Be[Oe-1].triples;break;case 107:this.$=Mi(Zn(Be[Oe-3]),Jn(Be[Oe-2],Be[Oe-1]),Be[Oe]);break;case 109:this.$=Mi(Zn(Be[Oe-1]),Be[Oe]);break;case 110:this.$=Be[Oe-1].length?On("|",Jn(Be[Oe-1],Be[Oe])):Be[Oe];break;case 111:this.$=Be[Oe-1].length?On("/",Jn(Be[Oe-1],Be[Oe])):Be[Oe];break;case 112:this.$=Be[Oe]?On(Be[Oe],[Be[Oe-1]]):Be[Oe-1];break;case 113:this.$=Be[Oe-1]?On(Be[Oe-1],[Be[Oe]]):Be[Oe];break;case 116:case 123:this.$=On(Be[Oe-1],[Be[Oe]]);break;case 120:this.$=On("|",Jn(Be[Oe-2],Be[Oe-1]));break;case 124:this.$=On(Be[Oe-1],[Pt.factory.namedNode(ll)]);break;case 125:case 127:this.$=Ll(Be[Oe-1]);break;case 126:case 128:this.$=vl(Be[Oe-1]);break;case 129:this.$={entity:Be[Oe],triples:[]};break;case 131:this.$={entity:Be[Oe],triples:[]};break;case 133:case 135:this.$=ci(Pt.factory.quad(Be[Oe-4],Be[Oe-3],Be[Oe-2],Zn(Be[Oe-6])));break;case 134:case 136:this.$=ci(Pt.factory.quad(Be[Oe-3],Be[Oe-2],Be[Oe-1]));break;case 141:this.$=oi(Be[Oe].replace(/^(_:)/,""));break;case 142:this.$=oi();break;case 143:this.$=Pt.factory.namedNode(al);break;case 144:case 146:case 151:case 155:this.$=Ii(Be[Oe-1],Be[Oe]);break;case 145:this.$=["||",Be[Oe]];break;case 147:this.$=["&&",Be[Oe]];break;case 149:this.$=yn(Be[Oe-1],[Be[Oe-2],Be[Oe]]);break;case 150:this.$=yn(Be[Oe-2]?"notin":"in",[Be[Oe-3],Be[Oe]]);break;case 152:case 156:this.$=[Be[Oe-1],Be[Oe]];break;case 153:this.$=["+",Ii(Be[Oe-1],Be[Oe])];break;case 154:var Vi=In(Be[Oe-1].value.replace("-",""),Be[Oe-1].datatype);this.$=["-",Ii(Vi,Be[Oe])];break;case 157:this.$=yn("UPLUS",[Be[Oe]]);break;case 158:this.$=yn(Be[Oe-1],[Be[Oe]]);break;case 159:this.$=yn("UMINUS",[Be[Oe]]);break;case 169:this.$=yn(Wn(Be[Oe-1]));break;case 170:this.$=yn(Wn(Be[Oe-3]),[Be[Oe-1]]);break;case 171:this.$=yn(Wn(Be[Oe-5]),[Be[Oe-3],Be[Oe-1]]);break;case 172:this.$=yn(Wn(Be[Oe-7]),[Be[Oe-5],Be[Oe-3],Be[Oe-1]]);break;case 173:this.$=yn(Wn(Be[Oe-1]),Be[Oe]);break;case 174:this.$=yn("bound",[Zn(Be[Oe-1])]);break;case 175:this.$=yn(Be[Oe-1],[]);break;case 176:this.$=yn(Be[Oe-3],[Be[Oe-1]]);break;case 177:this.$=yn(Be[Oe-2]?"notexists":"exists",[Yi(Be[Oe])]);break;case 178:case 179:this.$=kn(Be[Oe-1],{type:"aggregate",aggregation:Wn(Be[Oe-4]),distinct:!!Be[Oe-2]});break;case 180:this.$=kn(Be[Oe-2],{type:"aggregate",aggregation:Wn(Be[Oe-5]),distinct:!!Be[Oe-3],separator:typeof Be[Oe-1]=="string"?Be[Oe-1]:" "});break;case 182:this.$=In(Be[Oe]);break;case 183:this.$=Xl(Be[Oe-1],Wn(Be[Oe].substr(1)));break;case 184:this.$=In(Be[Oe-2],Be[Oe]);break;case 185:case 198:this.$=In(Be[Oe],sl);break;case 186:case 199:this.$=In(Be[Oe],rl);break;case 187:case 200:this.$=In(Wn(Be[Oe]),ol);break;case 190:this.$=In(Be[Oe].toLowerCase(),Gl);break;case 191:case 192:this.$=ml(Be[Oe],1);break;case 193:case 194:this.$=ml(Be[Oe],3);break;case 195:this.$=In(Be[Oe].substr(1),sl);break;case 196:this.$=In(Be[Oe].substr(1),rl);break;case 197:this.$=In(Be[Oe].substr(1).toLowerCase(),ol);break;case 201:this.$=Pt.factory.namedNode(ri(Be[Oe]));break;case 202:var Wi=Be[Oe].indexOf(":"),rn=Be[Oe].substr(0,Wi),Yn=Pt.prefixes[rn];if(!Yn)throw new Error("Unknown prefix: "+rn);var Dn=ri(Yn+Be[Oe].substr(Wi+1));this.$=Pt.factory.namedNode(Dn);break;case 203:if(Be[Oe]=Be[Oe].substr(0,Be[Oe].length-1),!(Be[Oe]in Pt.prefixes))throw new Error("Unknown prefix: "+Be[Oe]);var Dn=ri(Pt.prefixes[Be[Oe]]);this.$=Pt.factory.namedNode(Dn);break;case 212:case 220:case 222:case 224:case 234:case 236:case 242:case 246:case 250:case 264:case 266:case 268:case 270:case 272:case 274:case 276:case 278:case 303:case 309:case 320:case 336:case 370:case 386:case 405:case 407:case 433:case 435:case 445:case 449:case 451:case 453:Be[Oe-1].push(Be[Oe]);break;case 223:case 241:case 263:case 265:case 267:case 273:case 277:case 404:case 406:this.$=[Be[Oe]];break;case 280:Be[Oe-3].push(Be[Oe-2]);break;case 330:case 342:case 346:case 356:case 358:case 362:case 374:case 376:case 384:case 390:case 392:case 401:Be[Oe-2].push(Be[Oe-1]);break}},table:[X(Z,G,{3:1,4:2,7:3}),{1:[3]},X(W,[2,279],{5:4,8:5,313:6,210:7,9:8,103:9,211:10,17:11,40:12,49:13,54:14,104:15,18:16,22:17,25:21,6:[2,204],13:F,16:F,35:F,195:F,219:F,224:F,312:F,28:U,41:[1,18],50:[1,19],55:[1,20]}),X([6,13,16,28,35,41,50,55,107,117,120,122,123,132,133,138,195,219,224,312,322,323,324,325,326],[2,2],{314:23,11:24,14:25,12:[1,26],15:[1,27]}),{6:[1,28]},{6:[2,206]},{6:[2,207]},{6:[2,208]},{6:[2,217],10:29,89:30,90:J},{6:[2,205]},X(Y,[2,391],{212:32,213:33}),X(D,[2,213]),X(D,[2,214]),X(D,[2,215]),X(D,[2,216]),{105:34,107:[1,35],110:36,113:37,117:[1,38],120:[1,39],122:[1,40],123:[1,41],124:42,128:43,132:[2,304],133:[2,298],137:49,138:[1,50],322:[1,44],323:[1,45],324:[1,46],325:[1,47],326:[1,48]},X(Q,[2,219],{19:51}),X(Q,[2,221],{23:52}),X(ee,[2,235],{42:53,44:54,46:[1,55]}),{13:q,16:te,26:[1,58],34:ie,51:56,60:61,312:ne,318:59,319:57},X(Q,[2,249],{56:65}),{26:[1,66],27:67,33:68,34:ce,35:le},X(se,[2,227],{29:71,315:72,316:[1,73],317:[1,74]}),X(Z,[2,212]),X(Z,[2,209]),X(Z,[2,210]),{13:[1,75]},{16:[1,76]},{1:[2,1]},{6:[2,3]},{6:[2,218]},{34:[1,78],35:[1,80],91:77,93:[1,79]},X([6,13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],[2,110],{330:[1,81]}),X(pe,[2,398],{214:82,218:83,224:[1,84]}),{6:[2,281],106:85,191:[1,86]},X(ue,[2,283],{108:87,321:[1,88]}),X(ae,[2,289],{111:89,321:[1,90]}),X(de,[2,294],{114:91,321:[1,92]}),{118:93,119:[2,296],321:[1,94]},{46:be,121:95},{46:be,121:97},{46:be,121:98},{125:99,133:he},{129:101,132:Le},X(Xe,[2,287]),X(Xe,[2,288]),X(We,[2,291]),X(We,[2,292]),X(We,[2,293]),{132:[2,305],133:[2,299]},{13:q,16:te,60:103,312:ne},{20:104,45:fe,46:Re,57:105,58:ye,61:106},{20:109,45:fe,46:Re,57:110,58:ye,61:106},X(Q,[2,233],{43:111}),{45:[1,112],57:113,58:ye},X(re,[2,361],{179:114,180:115,181:116,48:[2,359]}),X(Ze,[2,245],{52:117}),X(Ze,[2,243],{60:61,318:118,13:q,16:te,34:ie,312:ne}),X(Ze,[2,244]),X(Ge,[2,241]),X(Ge,[2,239]),X(Ge,[2,240]),X(ve,[2,201]),X(ve,[2,202]),X(ve,[2,203]),{20:119,45:fe,46:Re,57:120,58:ye,61:106},X(Q,[2,8]),X(Q,[2,9],{33:121,34:ce,35:le}),X(Te,[2,223]),X(Te,[2,13]),{13:q,16:te,34:xe,35:Ye,36:122,39:123,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,231:je,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(se,[2,10]),X(se,[2,228]),X(se,[2,225]),X(se,[2,226]),X(Z,[2,4]),{13:[1,176]},X(vt,[2,40]),{46:[1,177]},{46:[1,178]},{34:[1,180],95:179},X(Y,[2,390]),X([6,13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,181]}),{13:q,16:te,35:[1,187],60:184,195:[1,185],215:182,216:183,219:[1,186],312:ne},X(pe,[2,399]),{6:[2,49]},X(Z,G,{7:3,4:188}),{13:q,16:te,60:189,312:ne},X(ue,[2,284]),{112:190,119:[1,191],141:[1,193],143:192,320:[1,194],327:[1,195]},X(ae,[2,290]),X(ue,Vt,{115:196,142:198,119:Wt,141:ft}),X(de,[2,295]),{119:[1,200]},{119:[2,297]},X(Rt,[2,54]),X(re,Yt,{144:201,151:202,152:203,48:ct,119:ct}),X(Rt,[2,55]),X(Rt,[2,56]),X(xt,[2,300],{126:204,129:205,132:Le}),{46:be,121:206},X(xt,[2,306],{130:207,125:208,133:he}),{46:be,121:209},X([132,133],[2,62]),X(Qe,nt,{21:210,64:211,74:212,75:Xt}),X(Q,[2,220]),{46:St,62:214},X(ue,[2,251],{59:216,320:[1,217]}),{46:[2,254]},X(Nt,jt,{24:218,63:219,67:220,68:sn}),X(Q,[2,222]),{20:222,45:fe,46:Re,57:223,58:ye,61:106},{46:[1,224]},X(ee,[2,236]),{48:[1,225]},{48:[2,360]},{13:q,16:te,34:Ht,35:an,39:230,60:235,87:ge,93:Ot,98:236,153:226,183:227,185:228,226:vn,231:je,243:229,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(En,[2,247],{61:106,53:240,57:241,20:242,45:fe,46:Re,58:ye}),X(Ge,[2,242]),X(Nt,jt,{63:219,67:220,24:243,68:sn}),X(Q,[2,250]),X(Te,[2,224]),{37:[1,244]},{37:[1,245]},X(gn,[2,432],{248:246}),{13:q,16:te,34:Ht,39:249,60:235,87:ge,93:Ot,98:236,119:[1,247],231:je,236:248,243:250,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(dn,[2,434],{252:251}),X(dn,[2,148],{256:252,257:253,258:[2,442],295:[1,254],334:[1,255],335:[1,256],336:[1,257],337:[1,258],338:[1,259],339:[1,260]}),X(pn,[2,444],{260:261}),X($t,[2,452],{268:262}),{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,263:154,265:155,272:263,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,263:154,265:155,272:264,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,263:154,265:155,272:265,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X($t,[2,160]),X($t,[2,161]),X($t,[2,162]),X($t,[2,163],{35:wn,93:di}),X($t,[2,164]),X($t,[2,165]),X($t,[2,166]),{13:q,16:te,34:xe,35:Ye,36:268,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,168]),{93:[1,269]},{35:[1,270]},{35:[1,271]},{35:[1,272]},{35:bt,93:pt,177:273},{35:[1,276]},{35:[1,278],93:[1,277]},{284:[1,279]},X(ht,[2,182],{297:[1,280],298:[1,281]}),X(ht,[2,185]),X(ht,[2,186]),X(ht,[2,187]),X(ht,[2,188]),X(ht,[2,189]),X(ht,[2,190]),{35:[1,282]},{35:[1,283]},{35:[1,284]},X(yt,[2,456]),X(yt,[2,457]),X(yt,[2,458]),X(yt,[2,459]),X(yt,[2,460]),{284:[2,462]},X(It,[2,191]),X(It,[2,192]),X(It,[2,193]),X(It,[2,194]),X(ht,[2,195]),X(ht,[2,196]),X(ht,[2,197]),X(ht,[2,198]),X(ht,[2,199]),X(ht,[2,200]),X(Z,[2,5]),X(Mt,[2,269],{92:285}),X(Ut,[2,271],{94:286}),{34:[1,288],38:[1,287]},X(wt,[2,273]),X(Y,[2,392]),X(Ct,[2,113]),X(Ct,[2,396],{217:289,332:290,26:[1,292],271:[1,293],333:[1,291]}),X(Ft,[2,114]),X(Ft,[2,115]),{13:q,16:te,35:[1,297],60:298,93:[1,296],195:Et,220:294,221:295,224:nn,312:ne},X(Y,F,{211:10,210:301}),X(W,[2,280],{6:[2,282]}),X(Rt,[2,285],{109:302,139:303,140:[1,304]}),X(Rt,[2,51]),{13:q,16:te,60:305,312:ne},X(Rt,[2,67]),X(Rt,[2,314]),X(Rt,[2,315]),X(Rt,[2,316]),{116:[1,306]},X(hn,[2,64]),{13:q,16:te,60:307,312:ne},X(ue,[2,313]),{13:q,16:te,60:308,312:ne},X(At,[2,319],{145:309}),X(At,[2,318]),{13:q,16:te,34:Ht,35:an,39:230,60:235,87:ge,93:Ot,98:236,153:310,183:227,185:228,226:vn,231:je,243:229,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(xt,[2,302],{127:311}),X(xt,[2,301]),X([45,132,135],[2,60]),X(xt,[2,308],{131:312}),X(xt,[2,307]),X([45,133,135],[2,59]),X(D,[2,6]),X(fn,[2,259],{65:313,77:314,78:[1,315]}),X(Qe,[2,258]),{13:q,16:te,35:Ye,60:321,72:319,73:320,76:316,82:318,84:317,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X([6,48,68,75,78,86,88,90],[2,21]),X(re,qt,{25:21,30:322,155:323,18:324,22:325,156:326,162:327,163:328,28:U,46:zt,48:zt,90:zt,119:zt,167:zt,168:zt,170:zt,173:zt,174:zt}),{13:q,16:te,60:329,312:ne},X(ue,[2,252]),X(D,[2,7]),X(Qe,nt,{64:211,74:212,21:330,75:Xt}),X(Nt,[2,256]),{69:[1,331]},X(Nt,jt,{63:219,67:220,24:332,68:sn}),X(Q,[2,234]),X(re,Yt,{152:203,47:333,151:334,48:[2,237]}),X(Q,[2,92]),{48:[2,363],182:335,328:[1,336]},{13:q,16:te,34:Ln,60:341,184:337,188:338,193:339,195:Dt,312:ne},X(Gn,[2,367],{188:338,193:339,60:341,186:343,187:344,184:345,13:q,16:te,34:Ln,195:Dt,312:ne}),X(Xn,[2,365]),X(Xn,[2,366]),{13:q,16:te,34:Ht,35:an,39:351,60:235,87:ge,93:Ot,98:236,185:349,197:347,225:346,226:vn,229:348,231:je,243:350,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{13:q,16:te,34:Ln,60:341,184:352,188:338,193:339,195:Dt,312:ne},X(Vn,[2,137]),X(Vn,[2,138]),X(Vn,[2,139]),X(Vn,[2,140]),X(Vn,[2,141]),X(Vn,[2,142]),X(Vn,[2,143]),X(Nt,jt,{63:219,67:220,24:353,68:sn}),X(Ze,[2,246]),X(En,[2,248]),X(D,[2,19]),{34:[1,354]},{34:[1,355]},X([37,38,191,278],[2,144],{249:356,250:[1,357]}),{13:q,16:te,34:[1,359],60:360,232:358,312:ne},{13:q,16:te,34:Ln,60:341,193:361,195:Dt,312:ne},X(Xn,[2,418]),X(Xn,[2,419]),X(gn,[2,146],{253:362,254:[1,363]}),{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,255:364,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{258:[1,365]},X(ln,[2,436]),X(ln,[2,437]),X(ln,[2,438]),X(ln,[2,439]),X(ln,[2,440]),X(ln,[2,441]),{258:[2,443]},X([37,38,191,250,254,258,278,295,334,335,336,337,338,339],[2,151],{261:366,262:367,263:368,265:369,271:[1,370],273:[1,371],306:we,307:Ue,308:et,309:at,310:Ve,311:oe}),X(pn,[2,155],{269:372,270:373,26:cn,331:Sn}),X($t,[2,157]),X($t,[2,158]),X($t,[2,159]),X(De,[2,88]),X(ln,[2,353],{175:376,316:[1,377]}),{38:[1,378]},X(De,[2,169]),{13:q,16:te,34:xe,35:Ye,36:379,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ye,36:380,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ye,36:381,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,173]),X(De,[2,90]),X(ln,[2,357],{178:382}),{34:[1,383]},X(De,[2,175]),{13:q,16:te,34:xe,35:Ye,36:384,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{46:St,62:385},X(ht,[2,183]),{13:q,16:te,60:386,312:ne},X(An,[2,463],{286:387,316:[1,388]}),X(ln,[2,467],{289:389,316:[1,390]}),X(ln,[2,469],{291:391,316:[1,392]}),{13:q,16:te,48:[1,393],60:395,87:ge,97:394,98:396,99:397,100:un,231:xn,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{48:[1,400],93:[1,401]},{46:[1,402]},X(wt,[2,274]),X(Ct,[2,112]),X(Ct,[2,397]),X(Ct,[2,393]),X(Ct,[2,394]),X(Ct,[2,395]),X(Ft,[2,116]),X(Ft,[2,118]),X(Ft,[2,119]),X(ui,[2,400],{222:403}),X(Ft,[2,121]),X(Ft,[2,122]),{13:q,16:te,60:404,195:[1,405],312:ne},{38:[1,406]},X(Rt,[2,50]),X(Rt,[2,286]),{119:[1,407]},X(Rt,[2,66]),X(ue,Vt,{142:198,115:408,119:Wt,141:ft}),X(hn,[2,65]),X(Rt,[2,53]),{48:[1,409],119:[1,411],146:410},X(At,[2,331],{154:412,328:[1,413]}),{45:[1,414],134:415,135:ii},{45:[1,417],134:418,135:ii},X(Cn,[2,261],{66:419,85:420,86:[1,421],88:[1,422]}),X(fn,[2,260]),{69:[1,423]},X(Qe,[2,30],{274:141,280:146,283:149,82:318,72:319,73:320,60:321,84:424,13:q,16:te,35:Ye,275:st,276:qe,277:ot,279:ut,281:dt,282:mt,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt}),X(zi,[2,265]),X(gi,[2,85]),X(gi,[2,86]),X(gi,[2,87]),{35:wn,93:di},{48:[1,425]},{48:[1,426]},{20:427,45:fe,46:Re,61:106},{20:428,45:fe,46:Re,61:106},X(Kn,[2,335],{157:429}),X(Kn,[2,334]),{13:q,16:te,34:Ht,35:li,39:434,60:235,87:ge,93:Ot,98:236,164:430,201:431,203:432,226:ai,231:je,243:433,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Ze,[2,20]),X(Cn,[2,22]),{13:q,16:te,34:Hi,35:Ei,60:321,70:437,71:438,72:439,73:440,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(D,[2,16]),{48:[1,443]},{48:[2,238]},{48:[2,93]},X(re,[2,362],{48:[2,364]}),X(Gn,[2,94]),X(Pn,[2,369],{189:444}),X(re,[2,373],{194:445,196:446}),X(re,[2,100]),X(re,[2,101]),X(re,[2,102]),X(Gn,[2,95]),X(Gn,[2,96]),X(Gn,[2,368]),{13:q,16:te,34:Ht,35:an,38:[1,447],39:351,60:235,87:ge,93:Ot,98:236,185:349,197:448,226:vn,229:348,231:je,243:350,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(mi,[2,404]),X(bi,[2,129]),X(bi,[2,130]),X(bi,[2,408]),X(bi,[2,409]),{227:[1,449]},X(D,[2,18]),{38:[1,450]},{38:[1,451]},X(gn,[2,433]),{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:452,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{46:[1,453]},{46:[2,412]},{46:[2,413]},{13:q,16:te,34:Ht,39:455,60:235,87:ge,93:Ot,98:236,231:je,237:454,243:456,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(dn,[2,435]),{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,251:457,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(dn,[2,149]),{35:bt,93:pt,177:458},X(pn,[2,445]),{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,259:459,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X($t,[2,448],{264:460}),X($t,[2,450],{266:461}),X(ln,[2,446]),X(ln,[2,447]),X($t,[2,453]),{13:q,16:te,34:xe,35:Ye,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,263:154,265:155,267:462,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(ln,[2,454]),X(ln,[2,455]),X(ln,[2,355],{176:463}),X(ln,[2,354]),X([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],[2,167]),{38:[1,464]},{278:[1,465]},{278:[1,466]},{13:q,16:te,34:xe,35:Ye,36:467,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{38:[1,468]},{38:[1,469]},X(De,[2,177]),X(ht,[2,184]),{13:q,16:te,26:[1,471],34:xe,35:Ye,36:472,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,287:470,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(An,[2,464]),{13:q,16:te,34:xe,35:Ye,36:473,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(ln,[2,468]),{13:q,16:te,34:xe,35:Ye,36:474,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(ln,[2,470]),X(vt,[2,41]),X(Mt,[2,270]),X(hi,[2,44]),X(hi,[2,45]),X(hi,[2,46]),X(hi,[2,47]),{13:q,16:te,60:235,87:ge,93:Ot,98:236,99:477,119:[1,475],231:xn,241:476,244:478,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(vt,[2,42]),X(Ut,[2,272]),X(Si,[2,275],{96:479}),{13:q,16:te,38:[2,402],60:298,195:Et,221:481,223:480,224:nn,312:ne},X(Ft,[2,123]),X(Ft,[2,124]),X(Ft,[2,117]),{13:q,16:te,60:482,312:ne},X(Rt,[2,52]),X([6,45,132,133,135,191],[2,68]),X(At,[2,320]),{13:q,16:te,34:[1,484],60:485,147:483,312:ne},X(At,[2,70]),X(re,[2,330],{48:Ki,119:Ki}),{46:St,62:486},X(xt,[2,303]),X(ue,[2,310],{136:487,320:[1,488]}),{46:St,62:489},X(xt,[2,309]),X(Cn,[2,23]),X(Cn,[2,262]),{87:[1,490]},{87:[1,491]},{13:q,16:te,34:Pi,35:Ye,60:321,72:319,73:320,79:492,80:493,81:Bi,82:318,83:_i,84:496,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(zi,[2,266]),X(Oi,[2,71]),X(Oi,[2,72]),X(Qe,nt,{64:211,74:212,21:498,75:Xt}),X(Nt,jt,{63:219,67:220,24:499,68:sn}),{46:[2,345],48:[2,73],89:509,90:J,119:[1,505],158:500,159:501,166:502,167:[1,503],168:[1,504],170:[1,506],173:[1,507],174:[1,508]},X(Kn,[2,343],{165:510,328:[1,511]}),X(Y,F,{211:10,202:512,205:513,210:514,34:xi}),X(pi,[2,379],{211:10,205:513,210:514,204:516,202:517,13:F,16:F,35:F,195:F,219:F,224:F,312:F,34:xi}),X(ji,[2,377]),X(ji,[2,378]),{13:q,16:te,34:Ht,35:li,39:523,60:235,87:ge,93:Ot,98:236,200:519,203:521,226:ai,228:518,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Y,F,{211:10,205:513,210:514,202:524,34:xi}),X(Nt,[2,24],{274:141,280:146,283:149,60:321,72:439,73:440,71:525,13:q,16:te,34:Hi,35:Ei,275:st,276:qe,277:ot,279:ut,281:dt,282:mt,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt}),X(Bn,[2,263]),X(Bn,[2,25]),X(Bn,[2,26]),{13:q,16:te,34:xe,35:Ye,36:526,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(Bn,[2,29]),X(Nt,jt,{63:219,67:220,24:527,68:sn}),X([48,119,227,328],[2,97],{190:528,191:[1,529]}),X(Pn,[2,99]),{13:q,16:te,34:Ht,35:an,39:351,60:235,87:ge,93:Ot,98:236,185:349,197:530,226:vn,229:348,231:je,243:350,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Di,[2,125]),X(mi,[2,405]),X(Di,[2,126]),X(Te,[2,14]),X(Te,[2,15]),X(gn,[2,145]),{13:q,16:te,34:Ht,39:532,60:235,87:ge,93:Ot,98:236,231:je,233:531,243:533,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{235:[1,534]},{235:[2,420]},{235:[2,421]},X(dn,[2,147]),X(dn,[2,150]),X(pn,[2,152]),X(pn,[2,153],{270:373,269:535,26:cn,331:Sn}),X(pn,[2,154],{270:373,269:536,26:cn,331:Sn}),X($t,[2,156]),{13:q,16:te,34:xe,35:Ye,36:537,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,170]),{13:q,16:te,34:xe,35:Ye,36:538,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ye,36:539,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{38:[1,540],278:[1,541]},X(De,[2,174]),X(De,[2,176]),{38:[1,542]},{38:[2,465]},{38:[2,466]},{38:[1,543]},{38:[2,471],191:[1,546],292:544,293:545},{13:q,16:te,34:[1,548],60:549,238:547,312:ne},{13:q,16:te,34:Ln,60:341,193:550,195:Dt,312:ne},X(Xn,[2,428]),X(Xn,[2,429]),{35:[1,553],48:[1,551],101:552},{38:[1,554]},{38:[2,403],330:[1,555]},X(Rt,[2,63]),{46:[1,556]},{46:[2,321]},{46:[2,322]},X(Rt,[2,57]),{13:q,16:te,60:557,312:ne},X(ue,[2,311]),X(Rt,[2,58]),X(Cn,[2,36],{88:[1,558]}),X(Cn,[2,37],{86:[1,559]}),X(fn,[2,31],{274:141,280:146,283:149,82:318,72:319,73:320,60:321,84:496,80:560,13:q,16:te,34:Pi,35:Ye,81:Bi,83:_i,275:st,276:qe,277:ot,279:ut,281:dt,282:mt,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt}),X(Qn,[2,267]),{35:Ye,82:561},{35:Ye,82:562},X(Qn,[2,34]),X(Qn,[2,35]),{31:563,48:[2,229],89:564,90:J},{32:565,48:[2,231],89:566,90:J},X(Kn,[2,336]),X(Ai,[2,337],{160:567,328:[1,568]}),{46:St,62:569},{46:St,62:570},{46:St,62:571},{13:q,16:te,34:[1,573],60:574,169:572,312:ne},X(Qi,[2,349],{171:575,321:[1,576]}),{13:q,16:te,35:Ye,60:321,72:319,73:320,82:318,84:577,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{35:[1,578]},X(Nn,[2,84]),X(Kn,[2,75]),X(re,[2,342],{46:Mn,48:Mn,90:Mn,119:Mn,167:Mn,168:Mn,170:Mn,173:Mn,174:Mn}),X(pi,[2,105]),X(re,[2,383],{206:579}),X(re,[2,381]),X(re,[2,382]),X(pi,[2,106]),X(pi,[2,380]),{13:q,16:te,34:Ht,35:li,38:[1,580],39:523,60:235,87:ge,93:Ot,98:236,200:581,203:521,226:ai,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(mi,[2,406]),X(Zi,[2,131]),X(Zi,[2,132]),X(Zi,[2,410]),X(Zi,[2,411]),{227:[1,582]},X(Bn,[2,264]),{37:[1,584],38:[1,583]},X(D,[2,17]),X(Pn,[2,370]),X(Pn,[2,371],{193:339,60:341,192:585,188:586,13:q,16:te,34:Ln,195:Dt,312:ne}),X(Pn,[2,103],{278:[1,587]}),{13:q,16:te,34:Ln,60:341,193:588,195:Dt,312:ne},X(Xn,[2,414]),X(Xn,[2,415]),X($i,[2,134]),X($t,[2,449]),X($t,[2,451]),{38:[1,589],278:[1,590]},{38:[1,591]},{278:[1,592]},X(De,[2,91]),X(ln,[2,358]),X(De,[2,178]),X(De,[2,179]),{38:[1,593]},{38:[2,472]},{294:[1,594]},{46:[1,595]},{46:[2,422]},{46:[2,423]},{13:q,16:te,60:235,87:ge,93:Ot,98:236,99:597,231:xn,242:596,244:598,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(vt,[2,43]),X(Si,[2,276]),{13:q,16:te,60:395,87:ge,97:600,98:396,99:397,100:un,102:599,231:xn,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Ft,[2,120]),X(ui,[2,401]),X(re,Yt,{152:203,148:601,151:602,48:[2,323]}),X(xt,[2,61]),{87:[1,603]},{87:[1,604]},X(Qn,[2,268]),X(Qn,[2,32]),X(Qn,[2,33]),{48:[2,11]},{48:[2,230]},{48:[2,12]},{48:[2,232]},X(re,qt,{163:328,161:605,162:606,46:Fn,48:Fn,90:Fn,119:Fn,167:Fn,168:Fn,170:Fn,173:Fn,174:Fn}),X(Ai,[2,338]),X(Nn,[2,76],{329:[1,607]}),X(Nn,[2,77]),X(Nn,[2,78]),{46:St,62:608},{46:[2,347]},{46:[2,348]},{13:q,16:te,34:[1,610],60:611,172:609,312:ne},X(Qi,[2,350]),X(Nn,[2,81]),{13:q,16:te,34:xe,35:Ye,36:612,39:613,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,231:je,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:Ht,35:li,39:523,60:235,87:ge,93:Ot,98:236,200:614,203:521,226:ai,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(qi,[2,127]),X(mi,[2,407]),X(qi,[2,128]),X(Bn,[2,27]),{34:[1,615]},X(Pn,[2,98]),X(Pn,[2,372]),X(re,[2,374]),{13:q,16:te,34:Ht,39:617,60:235,87:ge,93:Ot,98:236,231:je,234:616,243:618,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(De,[2,89]),X(ln,[2,356]),X(De,[2,171]),{13:q,16:te,34:xe,35:Ye,36:619,60:136,72:135,73:137,82:134,87:ge,98:138,219:Me,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Ne,288:ke,290:Ie,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:Se,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,180]),{295:[1,620]},{13:q,16:te,60:235,87:ge,93:Ot,98:236,99:622,231:xn,239:621,244:623,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{235:[1,624]},{235:[2,430]},{235:[2,431]},{13:q,16:te,38:[1,625],60:395,87:ge,97:626,98:396,99:397,100:un,231:xn,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(el,[2,277]),{48:[1,627]},{48:[2,324]},X(Cn,[2,38]),X(Cn,[2,39]),X(Kn,[2,74]),X(Kn,[2,340]),{46:[2,346]},X(Nn,[2,79]),{46:St,62:628},{46:[2,351]},{46:[2,352]},{37:[1,629]},{37:[1,630]},X(si,[2,385],{207:631,278:[1,632]}),{38:[1,633]},{48:[1,634]},{48:[2,416]},{48:[2,417]},{38:[1,635]},{296:636,302:_e,303:He,304:Pe,305:$e},{13:q,16:te,34:Ln,60:341,193:637,195:Dt,312:ne},X(Xn,[2,424]),X(Xn,[2,425]),X(tl,[2,136]),X(Si,[2,48]),X(el,[2,278]),X(nl,[2,325],{149:638,328:[1,639]}),X(Nn,[2,80]),{34:[1,640]},{34:[1,641]},X([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:642,191:[1,643]}),X(re,[2,384]),X(Bn,[2,28]),{235:[1,644]},X(De,[2,172]),{38:[2,181]},{13:q,16:te,60:235,87:ge,93:Ot,98:236,99:646,231:xn,240:645,244:647,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(re,Yt,{152:203,150:648,151:649,48:il,119:il}),X(nl,[2,326]),{38:[1,650]},{38:[1,651]},X(si,[2,386]),X(si,[2,108],{211:10,209:652,210:653,13:F,16:F,35:F,195:F,219:F,224:F,312:F,34:[1,654]}),X($i,[2,133]),{48:[1,655]},{48:[2,426]},{48:[2,427]},X(At,[2,69]),X(At,[2,328]),X(Nn,[2,82]),X(Nn,[2,83]),X(re,[2,375],{198:656,199:657}),X(re,[2,387]),X(re,[2,388]),{235:[1,658]},X(si,[2,109]),{13:q,16:te,34:Ht,35:li,39:523,60:235,87:ge,93:Ot,98:236,200:659,203:521,226:ai,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(tl,[2,135]),X(si,[2,104],{278:[1,660]}),X(re,[2,376])],defaultActions:{5:[2,206],6:[2,207],7:[2,208],9:[2,205],28:[2,1],29:[2,3],30:[2,218],85:[2,49],94:[2,297],108:[2,254],115:[2,360],165:[2,462],260:[2,443],334:[2,238],335:[2,93],359:[2,412],360:[2,413],455:[2,420],456:[2,421],471:[2,465],472:[2,466],484:[2,321],485:[2,322],545:[2,472],548:[2,422],549:[2,423],563:[2,11],564:[2,230],565:[2,12],566:[2,232],573:[2,347],574:[2,348],597:[2,430],598:[2,431],602:[2,324],607:[2,346],610:[2,351],611:[2,352],617:[2,416],618:[2,417],636:[2,181],646:[2,426],647:[2,427]},parseError:function(Zt,Lt){if(Lt.recoverable)this.trace(Zt);else{var Tt=new Error(Zt);throw Tt.hash=Lt,Tt}},parse:function(Zt){var Lt=this,Tt=[0],Jt=[null],kt=[],Be=this.table,Rn="",Oe=0,Hn=0,Xi=2,Vi=1,Wi=kt.slice.call(arguments,1),rn=Object.create(this.lexer),Yn={yy:{}};for(var Dn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Dn)&&(Yn.yy[Dn]=this.yy[Dn]);rn.setInput(Zt,Yn.yy),Yn.yy.lexer=rn,Yn.yy.parser=this,typeof rn.yylloc>"u"&&(rn.yylloc={});var ti=rn.yylloc;kt.push(ti);var Ji=rn.options&&rn.options.ranges;typeof Yn.yy.parseError=="function"?this.parseError=Yn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Ri=function(){var ni;return ni=rn.lex()||Vi,typeof ni!="number"&&(ni=Lt.symbols_[ni]||ni),ni},Bt,_t,Kt,mn,bn={},Li,Un,pl,vi;;){if(_t=Tt[Tt.length-1],this.defaultActions[_t]?Kt=this.defaultActions[_t]:((Bt===null||typeof Bt>"u")&&(Bt=Ri()),Kt=Be[_t]&&Be[_t][Bt]),typeof Kt>"u"||!Kt.length||!Kt[0]){var ki="";vi=[];for(Li in Be[_t])this.terminals_[Li]&&Li>Xi&&vi.push("'"+this.terminals_[Li]+"'");rn.showPosition?ki="Parse error on line "+(Oe+1)+`:
`+rn.showPosition()+`
Expecting `+vi.join(", ")+", got '"+(this.terminals_[Bt]||Bt)+"'":ki="Parse error on line "+(Oe+1)+": Unexpected "+(Bt==Vi?"end of input":"'"+(this.terminals_[Bt]||Bt)+"'"),this.parseError(ki,{text:rn.match,token:this.terminals_[Bt]||Bt,line:rn.yylineno,loc:ti,expected:vi})}if(Kt[0]instanceof Array&&Kt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_t+", token: "+Bt);switch(Kt[0]){case 1:Tt.push(Bt),Jt.push(rn.yytext),kt.push(rn.yylloc),Tt.push(Kt[1]),Bt=null,Hn=rn.yyleng,Rn=rn.yytext,Oe=rn.yylineno,ti=rn.yylloc;break;case 2:if(Un=this.productions_[Kt[1]][1],bn.$=Jt[Jt.length-Un],bn._$={first_line:kt[kt.length-(Un||1)].first_line,last_line:kt[kt.length-1].last_line,first_column:kt[kt.length-(Un||1)].first_column,last_column:kt[kt.length-1].last_column},Ji&&(bn._$.range=[kt[kt.length-(Un||1)].range[0],kt[kt.length-1].range[1]]),mn=this.performAction.apply(bn,[Rn,Hn,Oe,Yn.yy,Kt[1],Jt,kt].concat(Wi)),typeof mn<"u")return mn;Un&&(Tt=Tt.slice(0,-1*Un*2),Jt=Jt.slice(0,-1*Un),kt=kt.slice(0,-1*Un)),Tt.push(this.productions_[Kt[1]][0]),Jt.push(bn.$),kt.push(bn._$),pl=Be[Tt[Tt.length-2]][Tt[Tt.length-1]],Tt.push(pl);break;case 3:return!0}}return!0}},yi=Wildcard$2.Wildcard,fi="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ll=fi+"type",yl=fi+"first",fl=fi+"rest",al=fi+"nil",Gi="http://www.w3.org/2001/XMLSchema#",sl=Gi+"integer",rl=Gi+"decimal",ol=Gi+"double",Gl=Gi+"boolean",_n="",cl="",dl="";function Wn(Gt){return Gt.toLowerCase()}function Jn(Gt,Zt){return Gt.push(Zt),Gt}function $n(Gt,Zt){return Gt.push.apply(Gt,Zt),Gt}function en(Gt){Gt||(Gt={});for(var Zt=1,Lt=arguments.length,Tt;Zt<Lt&&(Tt=arguments[Zt]||{});Zt++)for(var Jt in Tt)Gt[Jt]=Tt[Jt];return Gt}function Tn(){for(var Gt=[],Zt=0,Lt=arguments.length;Zt<Lt;Zt++)Gt=Gt.concat.apply(Gt,arguments[Zt]);return Gt}function ri(Gt){if(Gt[0]==="<"&&(Gt=Gt.substring(1,Gt.length-1)),/^[a-z]+:/i.test(Gt))return Gt;if(!Pt.base)throw new Error("Cannot resolve relative IRI "+Gt+" because no base IRI was set.");switch(_n!==Pt.base&&(_n=Pt.base,cl=_n.replace(/[^\/:]*$/,""),dl=_n.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Gt[0]){case void 0:return _n;case"#":return _n+Gt;case"?":return _n.replace(/(?:\?.*)?$/,Gt);case"/":return dl+Gt;default:return cl+Gt}}function Zn(Gt){if(Gt){var Zt=Gt[0];if(Zt==="?"||Zt==="$")return Pt.factory.variable(Gt.substr(1))}return Gt}function yn(Gt,Zt){return{type:"operation",operator:Gt,args:Zt||[]}}function kn(Gt,Zt){var Lt={expression:Gt==="*"?new yi:Gt};if(Zt)for(var Tt in Zt)Lt[Tt]=Zt[Tt];return Lt}function On(Gt,Zt){return{type:"path",pathType:Gt,items:Zt}}function Ii(Gt,Zt){for(var Lt=0,Tt=Zt.length,Jt;Lt<Tt&&(Jt=Zt[Lt]);Lt++)Gt=yn(Jt[0],[Gt,Jt[1]]);return Gt}function zn(Gt,Zt){var Lt=[],Tt=[],Jt=Gt.length,kt,Be={};if(!Jt)return null;for(var Rn=0;Rn<Jt&&(kt=Gt[Rn]);Rn++)(kt.named?Tt:Lt).push(kt.iri);return Be[Zt||"from"]={default:Lt,named:Tt},Be}function qn(Gt){return parseInt(Gt,10)}function Yi(Gt){return Gt.type==="group"&&Gt.patterns.length===1?Gt.patterns[0]:Gt}function In(Gt,Zt){return Zt&&Zt.termType!=="NamedNode"&&(Zt=Pt.factory.namedNode(Zt)),Pt.factory.literal(Gt,Zt)}function Xl(Gt,Zt){return Pt.factory.literal(Gt,Zt)}function jn(Gt,Zt,Lt){var Tt={};return Gt!=null&&(Tt.subject=Gt),Zt!=null&&(Tt.predicate=Zt),Lt!=null&&(Tt.object=Lt),Tt}function oi(Gt){return typeof Gt=="string"?Gt.startsWith("e_")?Pt.factory.blankNode(Gt):Pt.factory.blankNode("e_"+Gt):Pt.factory.blankNode("g_"+ul++)}var ul=0;Pt._resetBlanks=function(){ul=0};var Vl=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Wl={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Rl=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Ni=String.fromCharCode;function ml(Gt,Zt){Gt=Gt.substring(Zt,Gt.length-Zt);try{Gt=Gt.replace(Vl,function(Lt,Tt,Jt,kt){var Be;if(Tt){if(Be=parseInt(Tt,16),isNaN(Be))throw new Error;return Ni(Be)}else if(Jt){if(Be=parseInt(Jt,16),isNaN(Be))throw new Error;return Be<65535?Ni(Be):Ni(55296+((Be-=65536)>>10),56320+(Be&1023))}else{var Rn=Wl[kt];if(!Rn)throw new Error;return Rn}})}catch{return""}if(Rl.exec(Gt))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Gt);return Gt}function Ll(Gt){var Zt=oi(),Lt=Zt,Tt=[],Jt,kt=[];Gt.forEach(function(Hn){Tt.push(Hn.entity),$n(kt,Hn.triples)});for(var Be=0,Rn=0,Oe=Tt.length,Jt=Array(Oe*2);Be<Oe;)Jt[Rn++]=jn(Lt,Pt.factory.namedNode(yl),Tt[Be]),Jt[Rn++]=jn(Lt,Pt.factory.namedNode(fl),Lt=++Be<Oe?oi():Pt.factory.namedNode(al));return{entity:Zt,triples:$n(Jt,kt)}}function vl(Gt){var Zt=oi();return{entity:Zt,triples:Gt.map(function(Lt){return en(jn(Zt),Lt)})}}function Mi(Gt,Zt,Lt){var Tt=[],Jt=[];return Zt.forEach(function(kt){Tt.push(jn(null,Gt,kt.entity)),$n(Jt,kt.triples)}),Tn(Tt,Lt||[],Jt)}function ei(Gt){return Gt.variable?Gt.variable.value:Gt.value||Gt.expression.value}function Fi(Gt){if(!Gt)return[];if(Gt.type==="aggregate")return[Gt];if(Gt.type==="operation"){const Zt=[];for(const Lt of Gt.args)Zt.push(...Fi(Lt));return Zt}return[]}function gl(Gt){const Zt=new Set,Lt=function(Tt){Tt&&(Tt.termType==="Variable"?Zt.add(Tt):Tt.type==="operation"&&Tt.args.forEach(Lt))};return Lt(Gt),Zt}function Ui(Gt,Zt=1,Lt=[]){for(const Tt of Gt)Zt>0&&Tt instanceof Array?Ui(Tt,Zt-1,Lt):Lt.push(Tt);return Lt}function wi(Gt){return Gt.termType==="Variable"}function bl(Gt){if(Gt.triples){const Zt=[];for(const Lt of Gt.triples)wi(Lt.subject)&&Zt.push(Lt.subject.value),wi(Lt.predicate)&&Zt.push(Lt.predicate.value),wi(Lt.object)&&Zt.push(Lt.object.value);return Zt}else if(Gt.patterns){const Zt=[];for(const Lt of Gt.patterns)Zt.push(...bl(Lt));return Zt}return[]}function Sl(Gt){const Zt=Gt.slice().sort(),Lt=[];for(let Tt=0;Tt<Zt.length-1;Tt++)Zt[Tt+1]==Zt[Tt]&&Lt.push(Zt[Tt]);return Lt}function ci(Gt){if(!Pt.sparqlStar)throw new Error("SPARQL* support is not enabled");return Gt}function hl(Gt){for(const Zt of Gt){if(Zt.type==="graph"&&Zt.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(Zt.type==="bgp"||Zt.type==="graph"){for(const Lt of Zt.triples)if(Lt.subject.termType==="Variable"||Lt.predicate.termType==="Variable"||Lt.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Gt}function Ci(Gt){for(const Zt of Gt)if(Zt.type==="bgp"){for(const Lt of Zt.triples)if(Lt.subject.termType==="BlankNode"||Lt.predicate.termType==="BlankNode"||Lt.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Gt}var xl=function(){var Gt={EOF:1,parseError:function(Lt,Tt){if(this.yy.parser)this.yy.parser.parseError(Lt,Tt);else throw new Error(Lt)},setInput:function(Zt,Lt){return this.yy=Lt||this.yy||{},this._input=Zt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Zt=this._input[0];this.yytext+=Zt,this.yyleng++,this.offset++,this.match+=Zt,this.matched+=Zt;var Lt=Zt.match(/(?:\r\n?|\n).*/g);return Lt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Zt},unput:function(Zt){var Lt=Zt.length,Tt=Zt.split(/(?:\r\n?|\n)/g);this._input=Zt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Lt),this.offset-=Lt;var Jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Tt.length-1&&(this.yylineno-=Tt.length-1);var kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Tt?(Tt.length===Jt.length?this.yylloc.first_column:0)+Jt[Jt.length-Tt.length].length-Tt[0].length:this.yylloc.first_column-Lt},this.options.ranges&&(this.yylloc.range=[kt[0],kt[0]+this.yyleng-Lt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Zt){this.unput(this.match.slice(Zt))},pastInput:function(){var Zt=this.matched.substr(0,this.matched.length-this.match.length);return(Zt.length>20?"...":"")+Zt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Zt=this.match;return Zt.length<20&&(Zt+=this._input.substr(0,20-Zt.length)),(Zt.substr(0,20)+(Zt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Zt=this.pastInput(),Lt=new Array(Zt.length+1).join("-");return Zt+this.upcomingInput()+`
`+Lt+"^"},test_match:function(Zt,Lt){var Tt,Jt,kt;if(this.options.backtrack_lexer&&(kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(kt.yylloc.range=this.yylloc.range.slice(0))),Jt=Zt[0].match(/(?:\r\n?|\n).*/g),Jt&&(this.yylineno+=Jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Jt?Jt[Jt.length-1].length-Jt[Jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Zt[0].length},this.yytext+=Zt[0],this.match+=Zt[0],this.matches=Zt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Zt[0].length),this.matched+=Zt[0],Tt=this.performAction.call(this,this.yy,this,Lt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Tt)return Tt;if(this._backtrack){for(var Be in kt)this[Be]=kt[Be];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Zt,Lt,Tt,Jt;this._more||(this.yytext="",this.match="");for(var kt=this._currentRules(),Be=0;Be<kt.length;Be++)if(Tt=this._input.match(this.rules[kt[Be]]),Tt&&(!Lt||Tt[0].length>Lt[0].length)){if(Lt=Tt,Jt=Be,this.options.backtrack_lexer){if(Zt=this.test_match(Tt,kt[Be]),Zt!==!1)return Zt;if(this._backtrack){Lt=!1;continue}else return!1}else if(!this.options.flex)break}return Lt?(Zt=this.test_match(Lt,kt[Jt]),Zt!==!1?Zt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Lt=this.next();return Lt||this.lex()},begin:function(Lt){this.conditionStack.push(Lt)},popState:function(){var Lt=this.conditionStack.length-1;return Lt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Lt){return Lt=this.conditionStack.length-1-Math.abs(Lt||0),Lt>=0?this.conditionStack[Lt]:"INITIAL"},pushState:function(Lt){this.begin(Lt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Lt,Tt,Jt,kt){switch(Jt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 316;case 5:return 317;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 320;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 321;case 30:return 140;case 31:return 322;case 32:return 323;case 33:return 117;case 34:return 324;case 35:return 116;case 36:return 325;case 37:return 326;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 327;case 48:return 328;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 329;case 55:return 173;case 56:return 231;case 57:return 235;case 58:return 278;case 59:return 195;case 60:return 330;case 61:return 331;case 62:return 224;case 63:return 333;case 64:return 271;case 65:return 219;case 66:return 226;case 67:return 227;case 68:return 250;case 69:return 254;case 70:return 295;case 71:return 334;case 72:return 335;case 73:return 336;case 74:return 337;case 75:return 338;case 76:return 258;case 77:return 339;case 78:return 273;case 79:return 281;case 80:return 282;case 81:return 275;case 82:return 276;case 83:return 277;case 84:return 340;case 85:return 341;case 86:return 279;case 87:return 343;case 88:return 342;case 89:return 344;case 90:return 284;case 91:return 285;case 92:return 288;case 93:return 290;case 94:return 294;case 95:return 298;case 96:return 301;case 97:return 13;case 98:return 16;case 99:return 312;case 100:return 245;case 101:return 34;case 102:return 297;case 103:return 87;case 104:return 299;case 105:return 300;case 106:return 306;case 107:return 307;case 108:return 308;case 109:return 309;case 110:return 310;case 111:return 311;case 112:return"EXPONENT";case 113:return 302;case 114:return 303;case 115:return 304;case 116:return 305;case 117:return 93;case 118:return 246;case 119:return 6;case 120:return"INVALID";case 121:console.log(Tt.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};return Gt}();Ti.lexer=xl;function Pt(){this.yy={}}return Pt.prototype=Ti,Ti.Parser=Pt,new Pt}(),SparqlParser_1=SparqlParser,XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",XSD_STRING="http://www.w3.org/2001/XMLSchema#string";function Generator$1(X){this._options=X=X||{};var Z=X.prefixes||{};this._prefixByIri={};var G=[];for(var W in Z){var F=Z[W];isString$1(F)&&(this._prefixByIri[F]=W,G.push(F))}var U=G.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+U+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=X.sparqlStar,this._indent=isString$1(X.indent)?X.indent:"  ",this._newline=isString$1(X.newline)?X.newline:`
`,this._explicitDatatype=!!X.explicitDatatype}Generator$1.prototype.toQuery=function(X){var Z="";return X.queryType&&(Z+=X.queryType.toUpperCase()+" "),X.reduced&&(Z+="REDUCED "),X.distinct&&(Z+="DISTINCT "),X.variables?Z+=mapJoin(X.variables,void 0,function(G){return isTerm$1(G)?this.toEntity(G):"("+this.toExpression(G.expression)+" AS "+variableToString(G.variable)+")"},this)+" ":X.template&&(Z+=this.group(X.template,!0)+this._newline),X.from&&(Z+=this.graphs("FROM ",X.from.default)+this.graphs("FROM NAMED ",X.from.named)),X.where&&(Z+="WHERE "+this.group(X.where,!0)+this._newline),X.updates&&(Z+=mapJoin(X.updates,";"+this._newline,this.toUpdate,this)),X.group&&(Z+="GROUP BY "+mapJoin(X.group,void 0,function(G){var W=isTerm$1(G.expression)?this.toEntity(G.expression):"("+this.toExpression(G.expression)+")";return G.variable?"("+W+" AS "+variableToString(G.variable)+")":W},this)+this._newline),X.having&&(Z+="HAVING ("+mapJoin(X.having,void 0,this.toExpression,this)+")"+this._newline),X.order&&(Z+="ORDER BY "+mapJoin(X.order,void 0,function(G){var W="("+this.toExpression(G.expression)+")";return G.descending?"DESC "+W:W},this)+this._newline),X.offset&&(Z+="OFFSET "+X.offset+this._newline),X.limit&&(Z+="LIMIT "+X.limit+this._newline),X.values&&(Z+=this.values(X)),Z=this.baseAndPrefixes(X)+Z,Z.trim()};Generator$1.prototype.baseAndPrefixes=function(X){var Z=X.base?"BASE <"+X.base+">"+this._newline:"",G="";for(var W in X.prefixes)(this._options.allPrefixes||this._usedPrefixes[W])&&(G+="PREFIX "+W+": <"+X.prefixes[W]+">"+this._newline);return Z+G};Generator$1.prototype.toPattern=function(X){var Z=X.type||X instanceof Array&&"array"||(X.subject&&X.predicate&&X.object?"triple":"");if(!(Z in this))throw new Error("Unknown entry type: "+Z);return this[Z](X)};Generator$1.prototype.triple=function(X){return this.toEntity(X.subject)+" "+this.toEntity(X.predicate)+" "+this.toEntity(X.object)+"."};Generator$1.prototype.array=function(X){return mapJoin(X,this._newline,this.toPattern,this)};Generator$1.prototype.bgp=function(X){return this.encodeTriples(X.triples)};Generator$1.prototype.encodeTriples=function(X){if(!X.length)return"";for(var Z=[],G=void 0,W=void 0,F=0;F<X.length;F++){var U=X[F];equalTerms(U.subject,G)?equalTerms(U.predicate,W)?Z.push(","):(W=U.predicate,Z.push(";"+this._newline,this._indent,this.toEntity(W))):(G&&Z.push("."+this._newline),G=U.subject,W=U.predicate,Z.push(this.toEntity(G)," ",this.toEntity(W))),Z.push(" ",this.toEntity(U.object))}return Z.push("."),Z.join("")};Generator$1.prototype.graph=function(X){return"GRAPH "+this.toEntity(X.name)+" "+this.group(X)};Generator$1.prototype.graphs=function(X,Z){return!Z||Z.length===0?"":mapJoin(Z,"",function(G){return X+this.toEntity(G)+this._newline},this)};Generator$1.prototype.group=function(X,Z){return X=Z!==!0?this.array(X.patterns||X.triples):this.toPattern(X.type!=="group"?X:X.patterns),X.indexOf(this._newline)===-1?"{ "+X+" }":"{"+this._newline+this.indent(X)+this._newline+"}"};Generator$1.prototype.query=function(X){return this.toQuery(X)};Generator$1.prototype.filter=function(X){return"FILTER("+this.toExpression(X.expression)+")"};Generator$1.prototype.bind=function(X){return"BIND("+this.toExpression(X.expression)+" AS "+variableToString(X.variable)+")"};Generator$1.prototype.optional=function(X){return"OPTIONAL "+this.group(X)};Generator$1.prototype.union=function(X){return mapJoin(X.patterns,this._newline+"UNION"+this._newline,function(Z){return this.group(Z,!0)},this)};Generator$1.prototype.minus=function(X){return"MINUS "+this.group(X)};Generator$1.prototype.values=function(X){var Z=Object.keys(X.values.reduce(function(F,U){for(var J in U)F[J]=!0;return F},{})),G,W;return Z.length===1?G=W="":(G="(",W=")"),"VALUES "+G+Z.join(" ")+W+" {"+this._newline+mapJoin(X.values,this._newline,function(F){return"  "+G+mapJoin(Z,void 0,function(U){return F[U]?this.toEntity(F[U]):"UNDEF"},this)+W},this)+this._newline+"}"};Generator$1.prototype.service=function(X){return"SERVICE "+(X.silent?"SILENT ":"")+this.toEntity(X.name)+" "+this.group(X)};Generator$1.prototype.toExpression=function(X){if(isTerm$1(X))return this.toEntity(X);switch(X.type.toLowerCase()){case"aggregate":return X.aggregation.toUpperCase()+"("+(X.distinct?"DISTINCT ":"")+this.toExpression(X.expression)+(typeof X.separator=="string"?'; SEPARATOR = "'+X.separator.replace(escape$1,escapeReplacer)+'"':"")+")";case"functioncall":return this.toEntity(X.function)+"("+mapJoin(X.args,", ",this.toExpression,this)+")";case"operation":var Z=X.operator.toUpperCase(),G=X.args||[];switch(X.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(isTerm$1(G[0])?this.toEntity(G[0]):"("+this.toExpression(G[0])+")")+" "+Z+" "+(isTerm$1(G[1])?this.toEntity(G[1]):"("+this.toExpression(G[1])+")");case"!":return"!("+this.toExpression(G[0])+")";case"uplus":return"+("+this.toExpression(G[0])+")";case"uminus":return"-("+this.toExpression(G[0])+")";case"notin":Z="NOT IN";case"in":return this.toExpression(G[0])+" "+Z+"("+(isString$1(G[1])?G[1]:mapJoin(G[1],", ",this.toExpression,this))+")";case"notexists":Z="NOT EXISTS";case"exists":return Z+" "+this.group(G[0],!0);default:return Z+"("+mapJoin(G,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+X.type)}};Generator$1.prototype.toEntity=function(X){if(isTerm$1(X))switch(X.termType){case"Wildcard":return"*";case"Variable":return variableToString(X);case"BlankNode":return"_:"+X.value;case"Literal":var Z=X.value||"",G=X.language||"",W=X.datatype;if(X='"'+Z.replace(escape$1,escapeReplacer)+'"',G)X+="@"+G;else if(W){if(!this._explicitDatatype)switch(W.value){case XSD_STRING:return X;case XSD_INTEGER:if(/^\d+$/.test(Z))return Z+" "}X+="^^"+this.encodeIRI(W.value)}return X;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return X.graph&&X.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(X.graph)+" { "+this.toEntity(X.subject)+" "+this.toEntity(X.predicate)+" "+this.toEntity(X.object)+" }  >>":"<< "+this.toEntity(X.subject)+" "+this.toEntity(X.predicate)+" "+this.toEntity(X.object)+" >>";default:return this.encodeIRI(X.value)}else{var F=X.items.map(this.toEntity,this),U=X.pathType;switch(U){case"^":case"!":return U+F[0];case"*":case"+":case"?":return"("+F[0]+U+")";default:return"("+F.join(U)+")"}}};var escape$1=/["\\\t\n\r\b\f]/g,escapeReplacer=function(X){return escapeReplacements$1[X]},escapeReplacements$1={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Generator$1.prototype.encodeIRI=function(X){var Z=this._prefixRegex.exec(X);if(Z){var G=this._prefixByIri[Z[1]];return this._usedPrefixes[G]=!0,G+":"+Z[2]}return"<"+X+">"};Generator$1.prototype.toUpdate=function(X){switch(X.type||X.updateType){case"load":return"LOAD"+(X.source?" "+this.toEntity(X.source):"")+(X.destination?" INTO GRAPH "+this.toEntity(X.destination):"");case"insert":return"INSERT DATA "+this.group(X.insert,!0);case"delete":return"DELETE DATA "+this.group(X.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(X.delete,!0);case"insertdelete":return(X.graph?"WITH "+this.toEntity(X.graph)+this._newline:"")+(X.delete.length?"DELETE "+this.group(X.delete,!0)+this._newline:"")+(X.insert.length?"INSERT "+this.group(X.insert,!0)+this._newline:"")+(X.using?this.graphs("USING ",X.using.default):"")+(X.using?this.graphs("USING NAMED ",X.using.named):"")+"WHERE "+this.group(X.where,!0);case"add":case"copy":case"move":return X.type.toUpperCase()+" "+(X.silent?"SILENT ":"")+(X.source.default?"DEFAULT":this.toEntity(X.source.name))+" TO "+this.toEntity(X.destination.name);case"create":case"clear":case"drop":return X.type.toUpperCase()+(X.silent?" SILENT ":" ")+(X.graph.default?"DEFAULT":X.graph.named?"NAMED":X.graph.all?"ALL":"GRAPH "+this.toEntity(X.graph.name));default:throw new Error("Unknown update query type: "+X.type)}};Generator$1.prototype.indent=function(X){return X.replace(/^/gm,this._indent)};function variableToString(X){return"?"+X.value}function isString$1(X){return typeof X=="string"}function isTerm$1(X){return typeof X.termType=="string"}function equalTerms(X,Z){if(!X||!isTerm$1(X)||!Z||!isTerm$1(Z)||X.termType!==Z.termType)return!1;switch(X.termType){case"Literal":return X.value===Z.value&&X.language===Z.language&&equalTerms(X.datatype,Z.datatype);case"Quad":return equalTerms(X.subject,Z.subject)&&equalTerms(X.predicate,Z.predicate)&&equalTerms(X.object,Z.object)&&equalTerms(X.graph,Z.graph);default:return X.value===Z.value}}function mapJoin(X,Z,G,W){return X.map(G,W).join(isString$1(Z)?Z:" ")}var SparqlGenerator=function(Z={}){return{stringify:function(G){var W=Object.create(Z);return W.prefixes=G.prefixes,new Generator$1(W).toQuery(G)},createGenerator:function(){return new Generator$1(Z)}}},Parser$1=SparqlParser_1.Parser,Generator=SparqlGenerator,Wildcard=Wildcard$2.Wildcard,{DataFactory}=rdfDataFactory,sparql$1={Parser:function({prefixes:X,baseIRI:Z,factory:G,sparqlStar:W,skipValidation:F,skipUngroupedVariableCheck:U,pathOnly:J}={}){var Y={};for(var D in X||{})Y[D]=X[D];var Q=new Parser$1;return Q.parse=function(){return Parser$1.base=Z||"",Parser$1.prefixes=Object.create(Y),Parser$1.factory=G||new DataFactory,Parser$1.sparqlStar=!!W,Parser$1.pathOnly=!!J,Parser$1.skipValidation=!!F||!!U,Parser$1.prototype.parse.apply(Q,arguments)},Q._resetBlanks=Parser$1._resetBlanks,Q},Generator,Wildcard};const __QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqljs__=_mergeNamespaces({__proto__:null,default:sparql$1},[sparql$1]);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(X,Z,G,W){W===void 0&&(W=G);var F=Object.getOwnPropertyDescriptor(Z,G);(!F||("get"in F?!Z.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return Z[G]}}),Object.defineProperty(X,W,F)}:function(X,Z,G,W){W===void 0&&(W=G),X[W]=Z[G]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var G in X)G!=="default"&&Object.prototype.hasOwnProperty.call(X,G)&&__createBinding$2(Z,X,G);return __setModuleDefault$2(Z,X),Z};Object.defineProperty(factory$2,"__esModule",{value:!0});const A$1=__importStar$2(algebra),rdf_data_factory_1$1=rdfDataFactory,rdf_string_1$4=rdfString,sparqljs_1$1=sparql$1;class Factory{constructor(Z){this.dataFactory=Z||new rdf_data_factory_1$1.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(Z,G=!0){return this.flattenMulti({type:A$1.types.ALT,input:Z},G)}createAsk(Z){return{type:A$1.types.ASK,input:Z}}createBoundAggregate(Z,G,W,F,U){const J=this.createAggregateExpression(G,W,F,U);return J.variable=Z,J}createBgp(Z){return{type:A$1.types.BGP,patterns:Z}}createConstruct(Z,G){return{type:A$1.types.CONSTRUCT,input:Z,template:G}}createDescribe(Z,G){return{type:A$1.types.DESCRIBE,input:Z,terms:G}}createDistinct(Z){return{type:A$1.types.DISTINCT,input:Z}}createExtend(Z,G,W){return{type:A$1.types.EXTEND,input:Z,variable:G,expression:W}}createFrom(Z,G,W){return{type:A$1.types.FROM,input:Z,default:G,named:W}}createFilter(Z,G){return{type:A$1.types.FILTER,input:Z,expression:G}}createGraph(Z,G){return{type:A$1.types.GRAPH,input:Z,name:G}}createGroup(Z,G,W){return{type:A$1.types.GROUP,input:Z,variables:G,aggregates:W}}createInv(Z){return{type:A$1.types.INV,path:Z}}createJoin(Z,G=!0){return this.flattenMulti({type:A$1.types.JOIN,input:Z},G)}createLeftJoin(Z,G,W){return W?{type:A$1.types.LEFT_JOIN,input:[Z,G],expression:W}:{type:A$1.types.LEFT_JOIN,input:[Z,G]}}createLink(Z){return{type:A$1.types.LINK,iri:Z}}createMinus(Z,G){return{type:A$1.types.MINUS,input:[Z,G]}}createNop(){return{type:A$1.types.NOP}}createNps(Z){return{type:A$1.types.NPS,iris:Z}}createOneOrMorePath(Z){return{type:A$1.types.ONE_OR_MORE_PATH,path:Z}}createOrderBy(Z,G){return{type:A$1.types.ORDER_BY,input:Z,expressions:G}}createPath(Z,G,W,F){return F?{type:A$1.types.PATH,subject:Z,predicate:G,object:W,graph:F}:{type:A$1.types.PATH,subject:Z,predicate:G,object:W,graph:this.dataFactory.defaultGraph()}}createPattern(Z,G,W,F){const U=this.dataFactory.quad(Z,G,W,F);return U.type=A$1.types.PATTERN,U}createProject(Z,G){return{type:A$1.types.PROJECT,input:Z,variables:G}}createReduced(Z){return{type:A$1.types.REDUCED,input:Z}}createSeq(Z,G=!0){return this.flattenMulti({type:A$1.types.SEQ,input:Z},G)}createService(Z,G,W){return{type:A$1.types.SERVICE,input:Z,name:G,silent:!!W}}createSlice(Z,G,W){return G=G||0,W!==void 0?{type:A$1.types.SLICE,input:Z,start:G,length:W}:{type:A$1.types.SLICE,input:Z,start:G}}createUnion(Z,G=!0){return this.flattenMulti({type:A$1.types.UNION,input:Z},G)}createValues(Z,G){return{type:A$1.types.VALUES,variables:Z,bindings:G}}createZeroOrMorePath(Z){return{type:A$1.types.ZERO_OR_MORE_PATH,path:Z}}createZeroOrOnePath(Z){return{type:A$1.types.ZERO_OR_ONE_PATH,path:Z}}createAggregateExpression(Z,G,W,F){return F?{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.AGGREGATE,aggregator:Z,expression:G,separator:F,distinct:W}:{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.AGGREGATE,aggregator:Z,expression:G,distinct:W}}createExistenceExpression(Z,G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.EXISTENCE,not:Z,input:G}}createNamedExpression(Z,G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.NAMED,name:Z,args:G}}createOperatorExpression(Z,G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.OPERATOR,operator:Z,args:G}}createTermExpression(Z){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.TERM,term:Z}}createWildcardExpression(){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.WILDCARD,wildcard:new sparqljs_1$1.Wildcard}}createTerm(Z){return(0,rdf_string_1$4.stringToTerm)(Z,this.dataFactory)}createCompositeUpdate(Z){return{type:A$1.types.COMPOSITE_UPDATE,updates:Z}}createDeleteInsert(Z,G,W){const F={type:A$1.types.DELETE_INSERT};return Z&&(F.delete=Z),G&&(F.insert=G),W&&(F.where=W),F}createLoad(Z,G,W){const F={type:A$1.types.LOAD,source:Z};return G&&(F.destination=G),this.addSilent(F,!!W)}createClear(Z,G){return this.addSilent({type:A$1.types.CLEAR,source:Z},!!G)}createCreate(Z,G){return this.addSilent({type:A$1.types.CREATE,source:Z},!!G)}createDrop(Z,G){return this.addSilent({type:A$1.types.DROP,source:Z},!!G)}createAdd(Z,G,W){return this.addSilent({type:A$1.types.ADD,source:Z,destination:G},!!W)}createMove(Z,G,W){return this.addSilent({type:A$1.types.MOVE,source:Z,destination:G},!!W)}createCopy(Z,G,W){return this.addSilent({type:A$1.types.COPY,source:Z,destination:G},!!W)}addSilent(Z,G){return G&&(Z.silent=G),Z}flattenMulti(Z,G){if(!G)return Z;const W=Z.type,F=Z.input;let U=[];for(const J of F)J.type===W?U.push(...J.input):U.push(J);return Z.input=U,Z}}factory$2.default=Factory;var util={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(util,"__esModule",{value:!0});const algebra_1=algebra,factory_1$2=__importDefault$2(factory$2);class Util{static flatten(Z){return Array.prototype.concat(...Z).filter(G=>G)}static objectify(Z){if(Z.termType){if(Z.termType==="Quad")return{type:"pattern",termType:"Quad",subject:Util.objectify(Z.subject),predicate:Util.objectify(Z.predicate),object:Util.objectify(Z.object),graph:Util.objectify(Z.graph)};{let G={termType:Z.termType,value:Z.value};return Z.language&&(G.language=Z.language),Z.datatype&&(G.datatype=Util.objectify(Z.datatype)),G}}if(Array.isArray(Z))return Z.map(G=>Util.objectify(G));if(Z===Object(Z)){let G={};for(let W of Object.keys(Z))G[W]=Util.objectify(Z[W]);return G}return Z}static inScopeVariables(Z){const G=[];function W(U){G.find(J=>U.value===J.value)||G.push(U)}function F(U){U.subject.termType==="Variable"&&W(U.subject),U.predicate.termType==="Variable"&&W(U.predicate),U.object.termType==="Variable"&&W(U.object),U.graph.termType==="Variable"&&W(U.graph),U.subject.termType==="Quad"&&F(U.subject),U.predicate.termType==="Quad"&&F(U.predicate),U.object.termType==="Quad"&&F(U.object),U.graph.termType==="Quad"&&F(U.graph)}return Util.recurseOperation(Z,{[algebra_1.types.EXPRESSION]:U=>(U.expressionType===algebra_1.expressionTypes.AGGREGATE&&U.variable&&W(U.variable),!0),[algebra_1.types.EXTEND]:U=>(W(U.variable),!0),[algebra_1.types.GRAPH]:U=>(U.name.termType==="Variable"&&W(U.name),!0),[algebra_1.types.GROUP]:U=>(U.variables.forEach(W),!0),[algebra_1.types.PATH]:U=>(U.subject.termType==="Variable"&&W(U.subject),U.object.termType==="Variable"&&W(U.object),U.graph.termType==="Variable"&&W(U.graph),U.subject.termType==="Quad"&&F(U.subject),U.object.termType==="Quad"&&F(U.object),U.graph.termType==="Quad"&&F(U.graph),!0),[algebra_1.types.PATTERN]:U=>(F(U),!0),[algebra_1.types.PROJECT]:U=>(U.variables.forEach(W),!1),[algebra_1.types.SERVICE]:U=>(U.name.termType==="Variable"&&W(U.name),!0),[algebra_1.types.VALUES]:U=>(U.variables.forEach(W),!0)}),G}static recurseOperation(Z,G){let W=Z,F=!0;const U=G[Z.type];if(U&&(F=U(Z)),!F)return;let J=Y=>Util.recurseOperation(Y,G);switch(W.type){case algebra_1.types.ALT:W.input.map(J);break;case algebra_1.types.ASK:J(W.input);break;case algebra_1.types.BGP:W.patterns.forEach(J);break;case algebra_1.types.CONSTRUCT:J(W.input),W.template.map(J);break;case algebra_1.types.DESCRIBE:J(W.input);break;case algebra_1.types.DISTINCT:J(W.input);break;case algebra_1.types.EXPRESSION:W.expressionType===algebra_1.expressionTypes.EXISTENCE&&J(W.input);break;case algebra_1.types.EXTEND:J(W.input),J(W.expression);break;case algebra_1.types.FILTER:J(W.input),J(W.expression);break;case algebra_1.types.FROM:J(W.input);break;case algebra_1.types.GRAPH:J(W.input);break;case algebra_1.types.GROUP:J(W.input),W.aggregates.forEach(J);break;case algebra_1.types.INV:J(W.path);break;case algebra_1.types.JOIN:W.input.map(J);break;case algebra_1.types.LEFT_JOIN:W.input.map(J),W.expression&&J(W.expression);break;case algebra_1.types.LINK:break;case algebra_1.types.MINUS:W.input.map(J);break;case algebra_1.types.NOP:break;case algebra_1.types.NPS:break;case algebra_1.types.ONE_OR_MORE_PATH:J(W.path);break;case algebra_1.types.ORDER_BY:J(W.input),W.expressions.forEach(J);break;case algebra_1.types.PATH:J(W.predicate);break;case algebra_1.types.PATTERN:break;case algebra_1.types.PROJECT:J(W.input);break;case algebra_1.types.REDUCED:J(W.input);break;case algebra_1.types.SEQ:W.input.map(J);break;case algebra_1.types.SERVICE:J(W.input);break;case algebra_1.types.SLICE:J(W.input);break;case algebra_1.types.UNION:W.input.map(J);break;case algebra_1.types.VALUES:break;case algebra_1.types.ZERO_OR_MORE_PATH:J(W.path);break;case algebra_1.types.ZERO_OR_ONE_PATH:J(W.path);break;case algebra_1.types.COMPOSITE_UPDATE:W.updates.forEach(Y=>J(Y));break;case algebra_1.types.DELETE_INSERT:W.delete&&W.delete.forEach(Y=>J(Y)),W.insert&&W.insert.forEach(Y=>J(Y)),W.where&&J(W.where);break;case algebra_1.types.LOAD:break;case algebra_1.types.CLEAR:break;case algebra_1.types.CREATE:break;case algebra_1.types.DROP:break;case algebra_1.types.ADD:break;case algebra_1.types.MOVE:break;case algebra_1.types.COPY:break;default:throw new Error(`Unknown Operation type ${W.type}`)}}static mapOperation(Z,G,W){let F=Z,U=!0;W=W||new factory_1$2.default;const J=G[Z.type];if(J&&({result:F,recurse:U}=J(Z,W)),!U)return F;let Y=D=>Util.mapOperation(D,G,W);switch(F.type){case algebra_1.types.ALT:return W.createAlt(F.input.map(Y));case algebra_1.types.ASK:return W.createAsk(Y(F.input));case algebra_1.types.BGP:return W.createBgp(F.patterns.map(Y));case algebra_1.types.CONSTRUCT:return W.createConstruct(Y(F.input),F.template.map(Y));case algebra_1.types.DESCRIBE:return W.createDescribe(Y(F.input),F.terms);case algebra_1.types.DISTINCT:return W.createDistinct(Y(F.input));case algebra_1.types.EXPRESSION:return Util.mapExpression(F,G,W);case algebra_1.types.EXTEND:return W.createExtend(Y(F.input),F.variable,Y(F.expression));case algebra_1.types.FILTER:return W.createFilter(Y(F.input),Y(F.expression));case algebra_1.types.FROM:return W.createFrom(Y(F.input),[...F.default],[...F.named]);case algebra_1.types.GRAPH:return W.createGraph(Y(F.input),F.name);case algebra_1.types.GROUP:return W.createGroup(Y(F.input),[].concat(F.variables),F.aggregates.map(Y));case algebra_1.types.INV:return W.createInv(Y(F.path));case algebra_1.types.JOIN:return W.createJoin(F.input.map(Y));case algebra_1.types.LEFT_JOIN:return W.createLeftJoin(Y(F.input[0]),Y(F.input[1]),F.expression?Y(F.expression):void 0);case algebra_1.types.LINK:return W.createLink(F.iri);case algebra_1.types.MINUS:return W.createMinus(Y(F.input[0]),Y(F.input[1]));case algebra_1.types.NOP:return W.createNop();case algebra_1.types.NPS:return W.createNps([].concat(F.iris));case algebra_1.types.ONE_OR_MORE_PATH:return W.createOneOrMorePath(Y(F.path));case algebra_1.types.ORDER_BY:return W.createOrderBy(Y(F.input),F.expressions.map(Y));case algebra_1.types.PATH:return W.createPath(F.subject,Y(F.predicate),F.object,F.graph);case algebra_1.types.PATTERN:return W.createPattern(F.subject,F.predicate,F.object,F.graph);case algebra_1.types.PROJECT:return W.createProject(Y(F.input),[...F.variables]);case algebra_1.types.REDUCED:return W.createReduced(Y(F.input));case algebra_1.types.SEQ:return W.createSeq(F.input.map(Y));case algebra_1.types.SERVICE:return W.createService(Y(F.input),F.name,F.silent);case algebra_1.types.SLICE:return W.createSlice(Y(F.input),F.start,F.length);case algebra_1.types.UNION:return W.createUnion(F.input.map(Y));case algebra_1.types.VALUES:return W.createValues([].concat(F.variables),F.bindings.map(D=>Object.assign({},D)));case algebra_1.types.ZERO_OR_MORE_PATH:return W.createZeroOrMorePath(Y(F.path));case algebra_1.types.ZERO_OR_ONE_PATH:return W.createZeroOrOnePath(Y(F.path));case algebra_1.types.COMPOSITE_UPDATE:return W.createCompositeUpdate(F.updates.map(Y));case algebra_1.types.DELETE_INSERT:return W.createDeleteInsert(F.delete?F.delete.map(Y):void 0,F.insert?F.insert.map(Y):void 0,F.where?Y(F.where):void 0);case algebra_1.types.LOAD:return W.createLoad(F.source,F.destination,F.silent);case algebra_1.types.CLEAR:return W.createClear(F.source,F.silent);case algebra_1.types.CREATE:return W.createCreate(F.source,F.silent);case algebra_1.types.DROP:return W.createDrop(F.source,F.silent);case algebra_1.types.ADD:return W.createAdd(F.source,F.destination);case algebra_1.types.MOVE:return W.createMove(F.source,F.destination);case algebra_1.types.COPY:return W.createCopy(F.source,F.destination);default:throw new Error(`Unknown Operation type ${F.type}`)}}static mapExpression(Z,G,W){let F=U=>Util.mapOperation(U,G,W);switch(Z.expressionType){case algebra_1.expressionTypes.AGGREGATE:return Z.variable?W.createBoundAggregate(Z.variable,Z.aggregator,F(Z.expression),Z.distinct,Z.separator):W.createAggregateExpression(Z.aggregator,F(Z.expression),Z.distinct,Z.separator);case algebra_1.expressionTypes.EXISTENCE:return W.createExistenceExpression(Z.not,F(Z.input));case algebra_1.expressionTypes.NAMED:return W.createNamedExpression(Z.name,Z.args.map(F));case algebra_1.expressionTypes.OPERATOR:return W.createOperatorExpression(Z.operator,Z.args.map(F));case algebra_1.expressionTypes.TERM:return W.createTermExpression(Z.term);case algebra_1.expressionTypes.WILDCARD:return W.createWildcardExpression();default:throw new Error(`Unknown Expression type ${Z.expressionType}`)}}static createUniqueVariable(Z,G,W){let F=0,U=Z;for(;G[U];)U=`${Z}${F++}`;return W.variable(U)}static isSimpleTerm(Z){return Z.termType!==void 0&&Z.termType!=="Quad"&&Z.termType!=="Wildcard"}static isQuad(Z){return Z.termType==="Quad"}static isWildcard(Z){return Z.termType==="Wildcard"}}util.default=Util;var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(X,Z,G,W){W===void 0&&(W=G);var F=Object.getOwnPropertyDescriptor(Z,G);(!F||("get"in F?!Z.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return Z[G]}}),Object.defineProperty(X,W,F)}:function(X,Z,G,W){W===void 0&&(W=G),X[W]=Z[G]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var G in X)G!=="default"&&Object.prototype.hasOwnProperty.call(X,G)&&__createBinding$1(Z,X,G);return __setModuleDefault$1(Z,X),Z},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(sparqlAlgebra,"__esModule",{value:!0});const equal=es6,rdf_string_1$3=rdfString,Algebra$1=__importStar$1(algebra),factory_1$1=__importDefault$1(factory$2),util_1$1=__importDefault$1(util),Parser=sparql$1.Parser,types$1=Algebra$1.types;let variables=new Set,varCount=0,useQuads=!1,factory$1;function translate$1(X,Z){Z=Z||{},factory$1=new factory_1$1.default(Z.dataFactory);let G;if(isString(X)){let W=new Parser(Z);W._resetBlanks(),G=W.parse(X)}else G=X;return translateQuery(G,Z.quads,Z.blankToVariable)}sparqlAlgebra.default=translate$1;function translateQuery(X,Z,G){if(variables=new Set,varCount=0,useQuads=!!Z,!X.type)return factory$1.createNop();if(X.type!=="query"&&X.type!=="update")throw new Error("Translate only works on complete query or update objects.");let W;if(findAllVariables(X),X.type==="query"){const F={type:"group",patterns:X.where||[]};W=translateGroupGraphPattern(F),W=translateAggregates(X,W)}else X.type==="update"&&(W=translateUpdate(X));return G&&(W=translateBlankNodesToVariables(W)),W}function isString(X){return typeof X=="string"}function isTerm(X){return!!X?.termType}function isTriple(X){return X.subject&&X.predicate&&X.object}function isVariable(X){return X?.termType==="Variable"}function findAllVariables(X){if(isTerm(X))isVariable(X)&&variables.add(`?${X.value}`);else if(Array.isArray(X))for(const Z of X)findAllVariables(Z);else if(X&&typeof X=="object")for(let Z of Object.keys(X))Z.startsWith("?")&&variables.add(Z),findAllVariables(X[Z])}function inScopeVariables(X){let Z={};if(isTriple(X)){const G=[inScopeVariables(X.subject),inScopeVariables(X.predicate),inScopeVariables(X.object),X.graph?inScopeVariables(X.graph):{}];Object.assign(Z,...G)}else if(isTerm(X))isVariable(X)&&(Z[X.value]=X);else if(X.type==="bgp"){const G=X.triples;Object.assign(Z,...G.map(inScopeVariables))}else if(X.type==="path")Object.assign(Z,...X.items.map(inScopeVariables));else if(X.type==="group"||X.type==="union"||X.type==="optional")Object.assign(Z,...X.patterns.map(inScopeVariables));else if(X.type==="service"||X.type==="graph")Object.assign(Z,inScopeVariables(X.name)),Object.assign(Z,...X.patterns.map(inScopeVariables));else if(X.type==="bind")Object.assign(Z,inScopeVariables(X.variable));else if(X.type==="values"){if(X.values.length>0){const G=Object.keys(X.values[0]).map(W=>factory$1.createTerm(W));Object.assign(Z,...G.map(inScopeVariables))}}else if(X.type==="query"&&(X.queryType==="SELECT"||X.queryType==="DESCRIBE")){X.where&&X.variables.some(util_1$1.default.isWildcard)&&Object.assign(Z,...X.where.map(inScopeVariables));for(const G of X.variables)isVariable(G)?Object.assign(Z,inScopeVariables(G)):G.variable&&Object.assign(Z,inScopeVariables(G.variable));if(X.queryType==="SELECT"){if(X.group)for(const G of X.group)G.variable&&Object.assign(Z,inScopeVariables(G.variable));if(X.values){const G={type:"values",values:X.values};Object.assign(Z,inScopeVariables(G))}}}return Z}function translateGroupGraphPattern(X){let Z=[],G=[];if("patterns"in X)for(let F of X.patterns)(F.type==="filter"?Z:G).push(F);if(X.type==="bgp")return translateBgp$1(X);let W;if(X.type==="union")W=factory$1.createUnion(G.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),translateGroupGraphPattern(F))));else{if(X.type==="graph")return translateGraph$1(X);if(X.type==="group")W=G.reduce(accumulateGroupGraphPattern,factory$1.createBgp([]));else if(X.type==="values")W=translateInlineData(X);else if(X.type==="query")W=translateQuery(X,useQuads,!1);else throw new Error(`Unexpected type: ${X.type}`)}if(Z.length>0){let F=Z.map(U=>translateExpression$1(U.expression));F.length>0&&(W=factory$1.createFilter(W,F.reduce((U,J)=>factory$1.createOperatorExpression("&&",[U,J]))))}return W}function translateExpression$1(X){if(util_1$1.default.isSimpleTerm(X)||util_1$1.default.isQuad(X))return factory$1.createTermExpression(X);if(util_1$1.default.isWildcard(X))return factory$1.createWildcardExpression();if("aggregation"in X)return factory$1.createAggregateExpression(X.aggregation,translateExpression$1(X.expression),!!X.distinct,X.separator);if("function"in X)return factory$1.createNamedExpression(X.function,X.args.map(translateExpression$1));if("operator"in X)return X.operator==="exists"||X.operator==="notexists"?factory$1.createExistenceExpression(X.operator==="notexists",translateGroupGraphPattern(X.args[0])):((X.operator==="in"||X.operator==="notin")&&(X.args=[X.args[0]].concat(X.args[1])),factory$1.createOperatorExpression(X.operator,X.args.map(translateExpression$1)));throw new Error(`Unknown expression: ${JSON.stringify(X)}`)}function translateBgp$1(X){let Z=[],G=[];for(let W of X.triples)if("pathType"in W.predicate){let F=translatePath$1(W);for(let U of F)U.type===types$1.PATH?(Z.length>0&&G.push(factory$1.createBgp(Z)),Z=[],G.push(U)):Z.push(U)}else Z.push(translateQuad(W));return Z.length>0&&G.push(factory$1.createBgp(Z)),G.length===1?G[0]:factory$1.createJoin(G)}function translatePath$1(X){let Z=X.subject,G=translatePathPredicate(X.predicate),W=X.object;return simplifyPath(Z,G,W)}function translatePathPredicate(X){if(util_1$1.default.isSimpleTerm(X)){if(X.termType==="NamedNode")return factory$1.createLink(X);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(X)}`)}if(X.pathType==="^")return factory$1.createInv(translatePathPredicate(X.items[0]));if(X.pathType==="!"){let Z=[],G=[],W;"pathType"in X.items[0]&&X.items[0].pathType==="|"?W=X.items[0].items:W=X.items;for(let J of W)if(util_1$1.default.isSimpleTerm(J))Z.push(J);else if(J.pathType==="^")G.push(J.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(J)}`);let F=factory$1.createNps(Z),U=factory$1.createInv(factory$1.createNps(G));return G.length===0?F:Z.length===0?U:factory$1.createAlt([F,U])}if(X.pathType==="/")return factory$1.createSeq(X.items.map(translatePathPredicate));if(X.pathType==="|")return factory$1.createAlt(X.items.map(translatePathPredicate));if(X.pathType==="*")return factory$1.createZeroOrMorePath(translatePathPredicate(X.items[0]));if(X.pathType==="+")return factory$1.createOneOrMorePath(translatePathPredicate(X.items[0]));if(X.pathType==="?")return factory$1.createZeroOrOnePath(translatePathPredicate(X.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(X)}`)}function simplifyPath(X,Z,G){if(Z.type===types$1.LINK)return[factory$1.createPattern(X,Z.iri,G)];if(Z.type===types$1.INV)return simplifyPath(G,Z.path,X);if(Z.type===types$1.SEQ){let W=X;return util_1$1.default.flatten(Z.input.map((F,U)=>{const J=U===Z.input.length-1?G:generateFreshVar(),Y=simplifyPath(W,F,J);return J.termType==="Variable"&&(W=J),Y}))}return[factory$1.createPath(X,Z,G)]}function generateFreshVar(){let X=`?var${varCount++}`;return variables.has(X)?generateFreshVar():(variables.add(X),factory$1.createTerm(X))}function translateQuad(X){if("pathType"in X.predicate)throw new Error("Trying to translate property path to quad.");return factory$1.createPattern(X.subject,X.predicate,X.object,X.graph)}function translateGraph$1(X){const Z={type:"group",patterns:X.patterns};let G=translateGroupGraphPattern(Z);return useQuads?G=recurseGraph(G,X.name):G=factory$1.createGraph(G,X.name),G}let typeVals=Object.values(types$1);function recurseGraph(X,Z,G){if(X.type===types$1.GRAPH){if(G)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");X=recurseGraph(X.input,X.name)}else if(X.type===types$1.BGP)X.patterns=X.patterns.map(W=>(G&&(W.subject.equals(Z)&&(W.subject=G),W.predicate.equals(Z)&&(W.predicate=G),W.object.equals(Z)&&(W.object=G)),W.graph.termType==="DefaultGraph"&&(W.graph=Z),W));else if(X.type===types$1.PATH)G&&(X.subject.equals(Z)&&(X.subject=G),X.object.equals(Z)&&(X.object=G)),X.graph.termType==="DefaultGraph"&&(X.graph=Z);else if(X.type===types$1.PROJECT&&!G)X.variables.some(W=>W.equals(Z))||(G=generateFreshVar()),X.input=recurseGraph(X.input,Z,G);else if(X.type===types$1.EXTEND&&!G)X.variable.equals(Z)&&(G=generateFreshVar()),X.input=recurseGraph(X.input,Z,G);else for(let W of Object.keys(X))Array.isArray(X[W])?X[W]=X[W].map(F=>recurseGraph(F,Z,G)):typeVals.indexOf(X[W].type)>=0?X[W]=recurseGraph(X[W],Z,G):G&&isVariable(X[W])&&X[W].equals(Z)&&(X[W]=G);return X}function accumulateGroupGraphPattern(X,Z){if(Z.type==="optional"){const G=translateGroupGraphPattern({type:"group",patterns:Z.patterns});G.type===types$1.FILTER?X=factory$1.createLeftJoin(X,G.input,G.expression):X=factory$1.createLeftJoin(X,G)}else if(Z.type==="minus"){const G=translateGroupGraphPattern({type:"group",patterns:Z.patterns});X=factory$1.createMinus(X,G)}else if(Z.type==="bind")X=factory$1.createExtend(X,Z.variable,translateExpression$1(Z.expression));else if(Z.type==="service"){const G={type:"group",patterns:Z.patterns},W=factory$1.createService(translateGroupGraphPattern(G),Z.name,Z.silent);X=simplifiedJoin(X,W)}else{const G=translateGroupGraphPattern(Z);X=simplifiedJoin(X,G)}return X}function simplifiedJoin(X,Z){return X.type===types$1.BGP&&Z.type===types$1.BGP?X=factory$1.createBgp([...X.patterns,...Z.patterns]):X.type===types$1.BGP&&X.patterns.length===0?X=Z:Z.type===types$1.BGP&&Z.patterns.length===0||(X=factory$1.createJoin([X,Z])),X}function translateInlineData(X){let Z=(X.values.length===0?[]:Object.keys(X.values[0])).map(factory$1.createTerm.bind(factory$1)),G=X.values.map(W=>{let F=Object.keys(W);F=F.filter(J=>W[J]!==void 0);let U={};for(let J of F)U[J]=W[J];return U});return factory$1.createValues(Z,G)}function translateAggregates(X,Z){const G=X,W=[],F={};if(G.variables=G.variables&&G.variables.map(J=>mapAggregate(J,F)),G.having=G.having&&G.having.map(J=>mapAggregate(J,F)),G.order=G.order&&G.order.map(J=>mapAggregate(J,F)),G.group||Object.keys(F).length>0){const J=Object.keys(F).map(D=>translateBoundAggregate$1(F[D],factory$1.createTerm(D))),Y=[];if(G.group)for(const D of G.group)if(util_1$1.default.isSimpleTerm(D.expression))Y.push(D.expression);else{const Q="variable"in D?D.variable:generateFreshVar();Z=factory$1.createExtend(Z,Q,translateExpression$1(D.expression)),Y.push(Q)}Z=factory$1.createGroup(Z,Y,J)}if(G.having)for(let J of G.having)Z=factory$1.createFilter(Z,translateExpression$1(J));X.values&&(Z=factory$1.createJoin([Z,translateInlineData(X)]));let U=[];if(X.queryType==="SELECT"||X.queryType==="DESCRIBE")if(X.variables.some(J=>J&&util_1$1.default.isWildcard(J)))U=Object.values(inScopeVariables(X)).sort((J,Y)=>J.value.localeCompare(Y.value));else for(let J of X.variables)isVariable(J)||!("variable"in J)?U.push(J):J.variable&&(U.push(J.variable),W.push(J));for(let J of W)Z=factory$1.createExtend(Z,J.variable,translateExpression$1(J.expression));return G.order&&(Z=factory$1.createOrderBy(Z,G.order.map(J=>{let Y=translateExpression$1(J.expression);return J.descending&&(Y=factory$1.createOperatorExpression("desc",[Y])),Y}))),X.queryType==="SELECT"&&(Z=factory$1.createProject(Z,U)),G.distinct&&(Z=factory$1.createDistinct(Z)),G.reduced&&(Z=factory$1.createReduced(Z)),X.queryType==="CONSTRUCT"?Z=factory$1.createConstruct(Z,(X.template||[]).map(translateQuad)):X.queryType==="ASK"?Z=factory$1.createAsk(Z):X.queryType==="DESCRIBE"&&(Z=factory$1.createDescribe(Z,U)),(G.offset||G.limit)&&(Z=factory$1.createSlice(Z,G.offset||0,G.limit)),G.from&&(Z=factory$1.createFrom(Z,G.from.default,G.from.named)),Z}function mapAggregate(X,Z){if("type"in X&&X.type==="aggregate"){let G=!1,W;for(let F of Object.keys(Z))if(equal(Z[F],X)){W=factory$1.createTerm(F),G=!0;break}return G||(W=generateFreshVar(),Z[(0,rdf_string_1$3.termToString)(W)]=X),W}return"expression"in X&&X.expression?{...X,expression:mapAggregate(X.expression,Z)}:"args"in X&&X.args?{...X,args:X.args.map(G=>mapAggregate(G,Z))}:X}function translateBoundAggregate$1(X,Z){if(X.type!=="aggregate"||!X.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(X)}`);const G=translateExpression$1(X);return G.variable=Z,G}function translateUpdate(X){return X.updates.length===1?translateSingleUpdate(X.updates[0]):factory$1.createCompositeUpdate(X.updates.map(translateSingleUpdate))}function translateSingleUpdate(X){if("type"in X){if(X.type==="load")return translateUpdateGraphLoad(X);if(X.type==="clear"||X.type==="create"||X.type==="drop")return translateUpdateGraph(X);if(X.type==="add"||X.type==="copy"||X.type==="move")return translateUpdateGraphShortcut$1(X)}else if(X.updateType==="insertdelete"||X.updateType==="deletewhere"||X.updateType==="delete"||X.updateType==="insert")return translateInsertDelete(X);throw new Error(`Unknown update type ${JSON.stringify(X)}`)}function translateInsertDelete(X){if(!useQuads)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let Z=[],G=[],W;if(X.delete&&(Z=util_1$1.default.flatten(X.delete.map(F=>translateUpdateTriplesBlock(F,X.graph)))),X.insert&&(G=util_1$1.default.flatten(X.insert.map(F=>translateUpdateTriplesBlock(F,X.graph)))),X.where&&X.where.length>0){W=translateGroupGraphPattern({type:"group",patterns:X.where});const F=X.using;F?W=factory$1.createFrom(W,F.default,F.named):X.graph&&(W=recurseGraph(W,X.graph))}else X.updateType==="deletewhere"&&Z.length>0&&(W=factory$1.createBgp(Z));return factory$1.createDeleteInsert(Z.length>0?Z:void 0,G.length>0?G:void 0,W)}function translateUpdateTriplesBlock(X,Z){let G=Z;X.type==="graph"&&(G=X.name);let W=X.triples;return G&&(W=W.map(F=>Object.assign(F,{graph:G}))),W.map(translateQuad)}function translateUpdateGraph(X){let Z;switch(util_1$1.default.isSimpleTerm(X.graph)?Z=X.graph:X.graph.all?Z="ALL":X.graph.default?Z="DEFAULT":X.graph.named?Z="NAMED":Z=X.graph.name,X.type){case"clear":return factory$1.createClear(Z,X.silent);case"create":return factory$1.createCreate(Z,X.silent);case"drop":return factory$1.createDrop(Z,X.silent)}}function translateUpdateGraphLoad(X){return factory$1.createLoad(X.source,X.destination,X.silent)}function translateUpdateGraphShortcut$1(X){const Z=X.source.default?"DEFAULT":X.source.name,G=X.destination.default?"DEFAULT":X.destination.name;switch(X.type){case"copy":return factory$1.createCopy(Z,G,X.silent);case"move":return factory$1.createMove(Z,G,X.silent);case"add":return factory$1.createAdd(Z,G,X.silent)}}function translateBlankNodesToVariables(X){const Z={},G=Array.from(variables).reduce((F,U)=>(F[U]=!0,F),{});return util_1$1.default.mapOperation(X,{[Algebra$1.types.DELETE_INSERT]:F=>({result:F,recurse:!1}),[Algebra$1.types.PATH]:(F,U)=>({result:U.createPath(W(F.subject),F.predicate,W(F.object),W(F.graph)),recurse:!1}),[Algebra$1.types.PATTERN]:(F,U)=>({result:U.createPattern(W(F.subject),W(F.predicate),W(F.object),W(F.graph)),recurse:!1}),[Algebra$1.types.CONSTRUCT]:F=>({result:factory$1.createConstruct(translateBlankNodesToVariables(F.input),F.template),recurse:!1})});function W(F){if(F.termType==="BlankNode"){let U=Z[F.value];return U||(U=util_1$1.default.createUniqueVariable(F.value,G,factory$1.dataFactory),G[U.value]=!0,Z[F.value]=U),U}return F}}var sparql={},rdfIsomorphic={},RdfIsomorphic={},hash={},utils$9={},minimalisticAssert=assert$5;function assert$5(X,Z){if(!X)throw new Error(Z||"Assertion failed")}assert$5.equal=function(Z,G,W){if(Z!=G)throw new Error(W||"Assertion failed: "+Z+" != "+G)};var inherits_browserExports={},inherits_browser={get exports(){return inherits_browserExports},set exports(X){inherits_browserExports=X}};typeof Object.create=="function"?inherits_browser.exports=function(Z,G){G&&(Z.super_=G,Z.prototype=Object.create(G.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(Z,G){if(G){Z.super_=G;var W=function(){};W.prototype=G.prototype,Z.prototype=new W,Z.prototype.constructor=Z}};var assert$4=minimalisticAssert,inherits=inherits_browserExports;utils$9.inherits=inherits;function isSurrogatePair(X,Z){return(X.charCodeAt(Z)&64512)!==55296||Z<0||Z+1>=X.length?!1:(X.charCodeAt(Z+1)&64512)===56320}function toArray(X,Z){if(Array.isArray(X))return X.slice();if(!X)return[];var G=[];if(typeof X=="string")if(Z){if(Z==="hex")for(X=X.replace(/[^a-z0-9]+/ig,""),X.length%2!==0&&(X="0"+X),F=0;F<X.length;F+=2)G.push(parseInt(X[F]+X[F+1],16))}else for(var W=0,F=0;F<X.length;F++){var U=X.charCodeAt(F);U<128?G[W++]=U:U<2048?(G[W++]=U>>6|192,G[W++]=U&63|128):isSurrogatePair(X,F)?(U=65536+((U&1023)<<10)+(X.charCodeAt(++F)&1023),G[W++]=U>>18|240,G[W++]=U>>12&63|128,G[W++]=U>>6&63|128,G[W++]=U&63|128):(G[W++]=U>>12|224,G[W++]=U>>6&63|128,G[W++]=U&63|128)}else for(F=0;F<X.length;F++)G[F]=X[F]|0;return G}utils$9.toArray=toArray;function toHex(X){for(var Z="",G=0;G<X.length;G++)Z+=zero2(X[G].toString(16));return Z}utils$9.toHex=toHex;function htonl(X){var Z=X>>>24|X>>>8&65280|X<<8&16711680|(X&255)<<24;return Z>>>0}utils$9.htonl=htonl;function toHex32(X,Z){for(var G="",W=0;W<X.length;W++){var F=X[W];Z==="little"&&(F=htonl(F)),G+=zero8(F.toString(16))}return G}utils$9.toHex32=toHex32;function zero2(X){return X.length===1?"0"+X:X}utils$9.zero2=zero2;function zero8(X){return X.length===7?"0"+X:X.length===6?"00"+X:X.length===5?"000"+X:X.length===4?"0000"+X:X.length===3?"00000"+X:X.length===2?"000000"+X:X.length===1?"0000000"+X:X}utils$9.zero8=zero8;function join32(X,Z,G,W){var F=G-Z;assert$4(F%4===0);for(var U=new Array(F/4),J=0,Y=Z;J<U.length;J++,Y+=4){var D;W==="big"?D=X[Y]<<24|X[Y+1]<<16|X[Y+2]<<8|X[Y+3]:D=X[Y+3]<<24|X[Y+2]<<16|X[Y+1]<<8|X[Y],U[J]=D>>>0}return U}utils$9.join32=join32;function split32(X,Z){for(var G=new Array(X.length*4),W=0,F=0;W<X.length;W++,F+=4){var U=X[W];Z==="big"?(G[F]=U>>>24,G[F+1]=U>>>16&255,G[F+2]=U>>>8&255,G[F+3]=U&255):(G[F+3]=U>>>24,G[F+2]=U>>>16&255,G[F+1]=U>>>8&255,G[F]=U&255)}return G}utils$9.split32=split32;function rotr32$1(X,Z){return X>>>Z|X<<32-Z}utils$9.rotr32=rotr32$1;function rotl32$2(X,Z){return X<<Z|X>>>32-Z}utils$9.rotl32=rotl32$2;function sum32$3(X,Z){return X+Z>>>0}utils$9.sum32=sum32$3;function sum32_3$1(X,Z,G){return X+Z+G>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2(X,Z,G,W){return X+Z+G+W>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2(X,Z,G,W,F){return X+Z+G+W+F>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1(X,Z,G,W){var F=X[Z],U=X[Z+1],J=W+U>>>0,Y=(J<W?1:0)+G+F;X[Z]=Y>>>0,X[Z+1]=J}utils$9.sum64=sum64$1;function sum64_hi$1(X,Z,G,W){var F=Z+W>>>0,U=(F<Z?1:0)+X+G;return U>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1(X,Z,G,W){var F=Z+W;return F>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1(X,Z,G,W,F,U,J,Y){var D=0,Q=Z;Q=Q+W>>>0,D+=Q<Z?1:0,Q=Q+U>>>0,D+=Q<U?1:0,Q=Q+Y>>>0,D+=Q<Y?1:0;var ee=X+G+F+J+D;return ee>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(X,Z,G,W,F,U,J,Y){var D=Z+W+U+Y;return D>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(X,Z,G,W,F,U,J,Y,D,Q){var ee=0,q=Z;q=q+W>>>0,ee+=q<Z?1:0,q=q+U>>>0,ee+=q<U?1:0,q=q+Y>>>0,ee+=q<Y?1:0,q=q+Q>>>0,ee+=q<Q?1:0;var te=X+G+F+J+D+ee;return te>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(X,Z,G,W,F,U,J,Y,D,Q){var ee=Z+W+U+Y+Q;return ee>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(X,Z,G){var W=Z<<32-G|X>>>G;return W>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(X,Z,G){var W=X<<32-G|Z>>>G;return W>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1(X,Z,G){return X>>>G}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1(X,Z,G){var W=X<<32-G|Z>>>G;return W>>>0}utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$3=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(Z,G){if(Z=utils$8.toArray(Z,G),this.pending?this.pending=this.pending.concat(Z):this.pending=Z,this.pendingTotal+=Z.length,this.pending.length>=this._delta8){Z=this.pending;var W=Z.length%this._delta8;this.pending=Z.slice(Z.length-W,Z.length),this.pending.length===0&&(this.pending=null),Z=utils$8.join32(Z,0,Z.length-W,this.endian);for(var F=0;F<Z.length;F+=this._delta32)this._update(Z,F,F+this._delta32)}return this};BlockHash$4.prototype.digest=function(Z){return this.update(this._pad()),assert$3(this.pending===null),this._digest(Z)};BlockHash$4.prototype._pad=function(){var Z=this.pendingTotal,G=this._delta8,W=G-(Z+this.padLength)%G,F=new Array(W+this.padLength);F[0]=128;for(var U=1;U<W;U++)F[U]=0;if(Z<<=3,this.endian==="big"){for(var J=8;J<this.padLength;J++)F[U++]=0;F[U++]=0,F[U++]=0,F[U++]=0,F[U++]=0,F[U++]=Z>>>24&255,F[U++]=Z>>>16&255,F[U++]=Z>>>8&255,F[U++]=Z&255}else for(F[U++]=Z&255,F[U++]=Z>>>8&255,F[U++]=Z>>>16&255,F[U++]=Z>>>24&255,F[U++]=0,F[U++]=0,F[U++]=0,F[U++]=0,J=8;J<this.padLength;J++)F[U++]=0;return F};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(X,Z,G,W){if(X===0)return ch32$1(Z,G,W);if(X===1||X===3)return p32(Z,G,W);if(X===2)return maj32$1(Z,G,W)}common$4.ft_1=ft_1$1;function ch32$1(X,Z,G){return X&Z^~X&G}common$4.ch32=ch32$1;function maj32$1(X,Z,G){return X&Z^X&G^Z&G}common$4.maj32=maj32$1;function p32(X,Z,G){return X^Z^G}common$4.p32=p32;function s0_256$1(X){return rotr32(X,2)^rotr32(X,13)^rotr32(X,22)}common$4.s0_256=s0_256$1;function s1_256$1(X){return rotr32(X,6)^rotr32(X,11)^rotr32(X,25)}common$4.s1_256=s1_256$1;function g0_256$1(X){return rotr32(X,7)^rotr32(X,18)^X>>>3}common$4.g0_256=g0_256$1;function g1_256$1(X){return rotr32(X,17)^rotr32(X,19)^X>>>10}common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(Z,G){for(var W=this.W,F=0;F<16;F++)W[F]=Z[G+F];for(;F<W.length;F++)W[F]=rotl32$1(W[F-3]^W[F-8]^W[F-14]^W[F-16],1);var U=this.h[0],J=this.h[1],Y=this.h[2],D=this.h[3],Q=this.h[4];for(F=0;F<W.length;F++){var ee=~~(F/20),q=sum32_5$1(rotl32$1(U,5),ft_1(ee,J,Y,D),Q,W[F],sha1_K[ee]);Q=D,D=Y,Y=rotl32$1(J,30),J=U,U=q}this.h[0]=sum32$2(this.h[0],U),this.h[1]=sum32$2(this.h[1],J),this.h[2]=sum32$2(this.h[2],Y),this.h[3]=sum32$2(this.h[3],D),this.h[4]=sum32$2(this.h[4],Q)};SHA1.prototype._digest=function(Z){return Z==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$2=minimalisticAssert,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(Z,G){for(var W=this.W,F=0;F<16;F++)W[F]=Z[G+F];for(;F<W.length;F++)W[F]=sum32_4$1(g1_256(W[F-2]),W[F-7],g0_256(W[F-15]),W[F-16]);var U=this.h[0],J=this.h[1],Y=this.h[2],D=this.h[3],Q=this.h[4],ee=this.h[5],q=this.h[6],te=this.h[7];for(assert$2(this.k.length===W.length),F=0;F<W.length;F++){var ie=sum32_5(te,s1_256(Q),ch32(Q,ee,q),this.k[F],W[F]),ne=sum32$1(s0_256(U),maj32(U,J,Y));te=q,q=ee,ee=Q,Q=sum32$1(D,ie),D=Y,Y=J,J=U,U=sum32$1(ie,ne)}this.h[0]=sum32$1(this.h[0],U),this.h[1]=sum32$1(this.h[1],J),this.h[2]=sum32$1(this.h[2],Y),this.h[3]=sum32$1(this.h[3],D),this.h[4]=sum32$1(this.h[4],Q),this.h[5]=sum32$1(this.h[5],ee),this.h[6]=sum32$1(this.h[6],q),this.h[7]=sum32$1(this.h[7],te)};SHA256$1.prototype._digest=function(Z){return Z==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(Z){return Z==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$1=minimalisticAssert,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(Z,G){for(var W=this.W,F=0;F<32;F++)W[F]=Z[G+F];for(;F<W.length;F+=2){var U=g1_512_hi(W[F-4],W[F-3]),J=g1_512_lo(W[F-4],W[F-3]),Y=W[F-14],D=W[F-13],Q=g0_512_hi(W[F-30],W[F-29]),ee=g0_512_lo(W[F-30],W[F-29]),q=W[F-32],te=W[F-31];W[F]=sum64_4_hi(U,J,Y,D,Q,ee,q,te),W[F+1]=sum64_4_lo(U,J,Y,D,Q,ee,q,te)}};SHA512$1.prototype._update=function(Z,G){this._prepareBlock(Z,G);var W=this.W,F=this.h[0],U=this.h[1],J=this.h[2],Y=this.h[3],D=this.h[4],Q=this.h[5],ee=this.h[6],q=this.h[7],te=this.h[8],ie=this.h[9],ne=this.h[10],ce=this.h[11],le=this.h[12],se=this.h[13],pe=this.h[14],ue=this.h[15];assert$1(this.k.length===W.length);for(var ae=0;ae<W.length;ae+=2){var de=pe,be=ue,he=s1_512_hi(te,ie),Le=s1_512_lo(te,ie),Xe=ch64_hi(te,ie,ne,ce,le),We=ch64_lo(te,ie,ne,ce,le,se),fe=this.k[ae],Re=this.k[ae+1],ye=W[ae],re=W[ae+1],Ze=sum64_5_hi(de,be,he,Le,Xe,We,fe,Re,ye,re),Ge=sum64_5_lo(de,be,he,Le,Xe,We,fe,Re,ye,re);de=s0_512_hi(F,U),be=s0_512_lo(F,U),he=maj64_hi(F,U,J,Y,D),Le=maj64_lo(F,U,J,Y,D,Q);var ve=sum64_hi(de,be,he,Le),Te=sum64_lo(de,be,he,Le);pe=le,ue=se,le=ne,se=ce,ne=te,ce=ie,te=sum64_hi(ee,q,Ze,Ge),ie=sum64_lo(q,q,Ze,Ge),ee=D,q=Q,D=J,Q=Y,J=F,Y=U,F=sum64_hi(Ze,Ge,ve,Te),U=sum64_lo(Ze,Ge,ve,Te)}sum64(this.h,0,F,U),sum64(this.h,2,J,Y),sum64(this.h,4,D,Q),sum64(this.h,6,ee,q),sum64(this.h,8,te,ie),sum64(this.h,10,ne,ce),sum64(this.h,12,le,se),sum64(this.h,14,pe,ue)};SHA512$1.prototype._digest=function(Z){return Z==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi(X,Z,G,W,F){var U=X&G^~X&F;return U<0&&(U+=4294967296),U}function ch64_lo(X,Z,G,W,F,U){var J=Z&W^~Z&U;return J<0&&(J+=4294967296),J}function maj64_hi(X,Z,G,W,F){var U=X&G^X&F^G&F;return U<0&&(U+=4294967296),U}function maj64_lo(X,Z,G,W,F,U){var J=Z&W^Z&U^W&U;return J<0&&(J+=4294967296),J}function s0_512_hi(X,Z){var G=rotr64_hi(X,Z,28),W=rotr64_hi(Z,X,2),F=rotr64_hi(Z,X,7),U=G^W^F;return U<0&&(U+=4294967296),U}function s0_512_lo(X,Z){var G=rotr64_lo(X,Z,28),W=rotr64_lo(Z,X,2),F=rotr64_lo(Z,X,7),U=G^W^F;return U<0&&(U+=4294967296),U}function s1_512_hi(X,Z){var G=rotr64_hi(X,Z,14),W=rotr64_hi(X,Z,18),F=rotr64_hi(Z,X,9),U=G^W^F;return U<0&&(U+=4294967296),U}function s1_512_lo(X,Z){var G=rotr64_lo(X,Z,14),W=rotr64_lo(X,Z,18),F=rotr64_lo(Z,X,9),U=G^W^F;return U<0&&(U+=4294967296),U}function g0_512_hi(X,Z){var G=rotr64_hi(X,Z,1),W=rotr64_hi(X,Z,8),F=shr64_hi(X,Z,7),U=G^W^F;return U<0&&(U+=4294967296),U}function g0_512_lo(X,Z){var G=rotr64_lo(X,Z,1),W=rotr64_lo(X,Z,8),F=shr64_lo(X,Z,7),U=G^W^F;return U<0&&(U+=4294967296),U}function g1_512_hi(X,Z){var G=rotr64_hi(X,Z,19),W=rotr64_hi(Z,X,29),F=shr64_hi(X,Z,6),U=G^W^F;return U<0&&(U+=4294967296),U}function g1_512_lo(X,Z){var G=rotr64_lo(X,Z,19),W=rotr64_lo(Z,X,29),F=shr64_lo(X,Z,6),U=G^W^F;return U<0&&(U+=4294967296),U}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(Z){return Z==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$1=utils$9,common=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(Z,G){for(var W=this.h[0],F=this.h[1],U=this.h[2],J=this.h[3],Y=this.h[4],D=W,Q=F,ee=U,q=J,te=Y,ie=0;ie<80;ie++){var ne=sum32(rotl32(sum32_4(W,f$2(ie,F,U,J),Z[r$2[ie]+G],K$1(ie)),s$3[ie]),Y);W=Y,Y=J,J=rotl32(U,10),U=F,F=ne,ne=sum32(rotl32(sum32_4(D,f$2(79-ie,Q,ee,q),Z[rh[ie]+G],Kh(ie)),sh[ie]),te),D=te,te=q,q=rotl32(ee,10),ee=Q,Q=ne}ne=sum32_3(this.h[1],U,q),this.h[1]=sum32_3(this.h[2],J,te),this.h[2]=sum32_3(this.h[3],Y,D),this.h[3]=sum32_3(this.h[4],W,Q),this.h[4]=sum32_3(this.h[0],F,ee),this.h[0]=ne};RIPEMD160.prototype._digest=function(Z){return Z==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f$2(X,Z,G,W){return X<=15?Z^G^W:X<=31?Z&G|~Z&W:X<=47?(Z|~G)^W:X<=63?Z&W|G&~W:Z^(G|~W)}function K$1(X){return X<=15?0:X<=31?1518500249:X<=47?1859775393:X<=63?2400959708:2840853838}function Kh(X){return X<=15?1352829926:X<=31?1548603684:X<=47?1836072691:X<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$3=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert=minimalisticAssert;function Hmac(X,Z,G){if(!(this instanceof Hmac))return new Hmac(X,Z,G);this.Hash=X,this.blockSize=X.blockSize/8,this.outSize=X.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(Z,G))}var hmac=Hmac;Hmac.prototype._init=function(Z){Z.length>this.blockSize&&(Z=new this.Hash().update(Z).digest()),assert(Z.length<=this.blockSize);for(var G=Z.length;G<this.blockSize;G++)Z.push(0);for(G=0;G<Z.length;G++)Z[G]^=54;for(this.inner=new this.Hash().update(Z),G=0;G<Z.length;G++)Z[G]^=106;this.outer=new this.Hash().update(Z)};Hmac.prototype.update=function(Z,G){return this.inner.update(Z,G),this};Hmac.prototype.digest=function(Z){return this.outer.update(this.inner.digest()),this.outer.digest(Z)};(function(X){var Z=X;Z.utils=utils$9,Z.common=common$5,Z.sha=sha,Z.ripemd=ripemd,Z.hmac=hmac,Z.sha1=Z.sha.sha1,Z.sha256=Z.sha.sha256,Z.sha224=Z.sha.sha224,Z.sha384=Z.sha.sha384,Z.sha512=Z.sha.sha512,Z.ripemd160=Z.ripemd.ripemd160})(hash);var rdfTerms={},QuadTermUtil={};Object.defineProperty(QuadTermUtil,"__esModule",{value:!0});QuadTermUtil.matchPatternMappings=QuadTermUtil.matchPatternComplete=QuadTermUtil.matchPattern=QuadTermUtil.matchTerm=QuadTermUtil.someTerms=QuadTermUtil.everyTerms=QuadTermUtil.reduceTerms=QuadTermUtil.mapTerms=QuadTermUtil.filterQuadTermNames=QuadTermUtil.filterTerms=QuadTermUtil.forEachTerms=QuadTermUtil.collectNamedTerms=QuadTermUtil.getNamedTerms=QuadTermUtil.getTermsNested=QuadTermUtil.getTerms=QuadTermUtil.TRIPLE_TERM_NAMES=QuadTermUtil.QUAD_TERM_NAMES=void 0;const rdf_data_factory_1=rdfDataFactory,DF=new rdf_data_factory_1.DataFactory;QuadTermUtil.QUAD_TERM_NAMES=["subject","predicate","object","graph"];QuadTermUtil.TRIPLE_TERM_NAMES=["subject","predicate","object"];function getTerms(X,Z){return Z&&X.graph.termType==="DefaultGraph"?[X.subject,X.predicate,X.object]:[X.subject,X.predicate,X.object,X.graph]}QuadTermUtil.getTerms=getTerms;function getTermsNested(X,Z){const G=[];for(const W of getTerms(X,Z))W.termType==="Quad"?getTermsNested(W,Z).forEach(F=>G.push(F)):G.push(W);return G}QuadTermUtil.getTermsNested=getTermsNested;function getNamedTerms(X){return[{key:"subject",value:X.subject},{key:"predicate",value:X.predicate},{key:"object",value:X.object},{key:"graph",value:X.graph}]}QuadTermUtil.getNamedTerms=getNamedTerms;function collectNamedTerms(X,Z,G){const W={};return X.forEach(F=>W[F.key]=F.value),Z&&(W.subject=W.subject||Z("subject"),W.predicate=W.predicate||Z("predicate"),W.object=W.object||Z("object"),W.graph=W.graph||Z("graph")),(G||DF).quad(W.subject,W.predicate,W.object,W.graph)}QuadTermUtil.collectNamedTerms=collectNamedTerms;function forEachTerms(X,Z){Z(X.subject,"subject"),Z(X.predicate,"predicate"),Z(X.object,"object"),Z(X.graph,"graph")}QuadTermUtil.forEachTerms=forEachTerms;function filterTerms(X,Z){const G=[];return Z(X.subject,"subject")&&G.push(X.subject),Z(X.predicate,"predicate")&&G.push(X.predicate),Z(X.object,"object")&&G.push(X.object),Z(X.graph,"graph")&&G.push(X.graph),G}QuadTermUtil.filterTerms=filterTerms;function filterQuadTermNames(X,Z){const G=[];return Z(X.subject,"subject")&&G.push("subject"),Z(X.predicate,"predicate")&&G.push("predicate"),Z(X.object,"object")&&G.push("object"),Z(X.graph,"graph")&&G.push("graph"),G}QuadTermUtil.filterQuadTermNames=filterQuadTermNames;function mapTerms(X,Z,G){return(G||DF).quad(Z(X.subject,"subject"),Z(X.predicate,"predicate"),Z(X.object,"object"),Z(X.graph,"graph"))}QuadTermUtil.mapTerms=mapTerms;function reduceTerms(X,Z,G){let W=G;return W=Z(W,X.subject,"subject"),W=Z(W,X.predicate,"predicate"),W=Z(W,X.object,"object"),Z(W,X.graph,"graph")}QuadTermUtil.reduceTerms=reduceTerms;function everyTerms(X,Z){return Z(X.subject,"subject")&&Z(X.predicate,"predicate")&&Z(X.object,"object")&&Z(X.graph,"graph")}QuadTermUtil.everyTerms=everyTerms;function someTerms(X,Z){return Z(X.subject,"subject")||Z(X.predicate,"predicate")||Z(X.object,"object")||Z(X.graph,"graph")}QuadTermUtil.someTerms=someTerms;function matchTerm(X,Z){return!Z||Z.termType==="Variable"||Z.termType==="Quad"&&X.termType==="Quad"&&matchPatternComplete(X,Z)||Z.equals(X)}QuadTermUtil.matchTerm=matchTerm;function matchPattern(X,Z,G,W,F){return matchTerm(X.subject,Z)&&matchTerm(X.predicate,G)&&matchTerm(X.object,W)&&matchTerm(X.graph,F)}QuadTermUtil.matchPattern=matchPattern;function matchPatternComplete(X,Z){return matchPattern(X,Z.subject,Z.predicate,Z.object,Z.graph)}QuadTermUtil.matchPatternComplete=matchPatternComplete;function matchPatternMappings(X,Z,G={}){const W={};function F(U,J){return everyTerms(U,(Y,D)=>{var Q,ee;const q=J[D];switch(Y.termType){case"Variable":return G.skipVarMapping&&q.termType==="Variable"||((ee=(Q=W[Y.value])===null||Q===void 0?void 0:Q.equals(q))!==null&&ee!==void 0?ee:(W[Y.value]=q,!0));case"Quad":return q.termType==="Quad"&&F(Y,q);default:return Y.equals(q)}})}return F(Z,X)&&(G.returnMappings?W:!0)}QuadTermUtil.matchPatternMappings=matchPatternMappings;var TermUtil={};Object.defineProperty(TermUtil,"__esModule",{value:!0});TermUtil.getQuads=TermUtil.getDefaultGraphs=TermUtil.getVariables=TermUtil.getLiterals=TermUtil.getBlankNodes=TermUtil.getNamedNodes=TermUtil.getTermsOfType=TermUtil.uniqTerms=TermUtil.TERM_TYPES=void 0;const rdf_string_1$2=rdfString;TermUtil.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function uniqTerms(X){const Z={};return X.filter(G=>{const W=rdf_string_1$2.termToString(G);return!(W in Z)&&(Z[W]=!0)})}TermUtil.uniqTerms=uniqTerms;function getTermsOfType(X,Z){return X.filter(G=>G.termType===Z)}TermUtil.getTermsOfType=getTermsOfType;function getNamedNodes(X){return getTermsOfType(X,"NamedNode")}TermUtil.getNamedNodes=getNamedNodes;function getBlankNodes(X){return getTermsOfType(X,"BlankNode")}TermUtil.getBlankNodes=getBlankNodes;function getLiterals(X){return getTermsOfType(X,"Literal")}TermUtil.getLiterals=getLiterals;function getVariables(X){return getTermsOfType(X,"Variable")}TermUtil.getVariables=getVariables;function getDefaultGraphs(X){return getTermsOfType(X,"DefaultGraph")}TermUtil.getDefaultGraphs=getDefaultGraphs;function getQuads(X){return getTermsOfType(X,"Quad")}TermUtil.getQuads=getQuads;(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,F,U,J){J===void 0&&(J=U),Object.defineProperty(W,J,{enumerable:!0,get:function(){return F[U]}})}:function(W,F,U,J){J===void 0&&(J=U),W[J]=F[U]}),G=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,F){for(var U in W)U!=="default"&&!Object.prototype.hasOwnProperty.call(F,U)&&Z(F,W,U)};Object.defineProperty(X,"__esModule",{value:!0}),G(QuadTermUtil,X),G(TermUtil,X)})(rdfTerms);Object.defineProperty(RdfIsomorphic,"__esModule",{value:!0});RdfIsomorphic.isTermGrounded=RdfIsomorphic.termToSignature=RdfIsomorphic.quadToSignature=RdfIsomorphic.sha1hex=RdfIsomorphic.hashTerm=RdfIsomorphic.hashTerms=RdfIsomorphic.getGraphBlankNodes=RdfIsomorphic.uniqGraph=RdfIsomorphic.deindexGraph=RdfIsomorphic.indexGraph=RdfIsomorphic.getQuadsWithoutBlankNodes=RdfIsomorphic.getQuadsWithBlankNodes=RdfIsomorphic.hasValue=RdfIsomorphic.hashValues=RdfIsomorphic.getBijectionInner=RdfIsomorphic.getBijection=RdfIsomorphic.isomorphic=void 0;const hash_js_1=hash,rdf_string_1$1=rdfString,rdf_terms_1=rdfTerms;function isomorphic(X,Z){return!!getBijection(X,Z)}RdfIsomorphic.isomorphic=isomorphic;function getBijection(X,Z){const G=indexGraph(getQuadsWithoutBlankNodes(X)),W=indexGraph(getQuadsWithoutBlankNodes(Z));if(Object.keys(G).length!==Object.keys(W).length)return null;for(const D in G)if(G[D]!==W[D])return null;const F=uniqGraph(getQuadsWithBlankNodes(X)),U=uniqGraph(getQuadsWithBlankNodes(Z)),J=getGraphBlankNodes(X),Y=getGraphBlankNodes(Z);return getBijectionInner(F,U,J,Y)}RdfIsomorphic.getBijection=getBijection;function getBijectionInner(X,Z,G,W,F,U){F||(F={}),U||(U={});const[J,Y]=hashTerms(X,G,F),[D,Q]=hashTerms(Z,W,U);if(Object.keys(J).length!==Object.keys(D).length)return null;for(const q in J)if(!hasValue(D,J[q]))return null;let ee={};for(const q of G){const te=rdf_string_1$1.termToString(q),ie=Y[te];for(const ne in Q)if(Q[ne]===ie){ee[te]=ne,delete Q[ne];break}}if(!arraysEqual(Object.keys(ee).sort(),G.map(rdf_string_1$1.termToString).sort())||!arraysEqual(hashValues(ee).sort(),W.map(rdf_string_1$1.termToString).sort())){ee=null;for(const q of G){const te=rdf_string_1$1.termToString(q);if(!J[te])for(const ie of W){const ne=rdf_string_1$1.termToString(ie);if(!D[ne]&&Y[te]===Q[ne]){const ce=sha1hex(te);ee=getBijectionInner(X,Z,G,W,Object.assign(Object.assign({},J),{[te]:ce}),Object.assign(Object.assign({},D),{[ne]:ce}))}}}}return ee}RdfIsomorphic.getBijectionInner=getBijectionInner;function arraysEqual(X,Z){if(X.length!==Z.length)return!1;for(let G=X.length;G--;)if(X[G]!==Z[G])return!1;return!0}function hashValues(X){const Z=[];for(const G in X)Z.push(X[G]);return Z}RdfIsomorphic.hashValues=hashValues;function hasValue(X,Z){for(const G in X)if(X[G]===Z)return!0;return!1}RdfIsomorphic.hasValue=hasValue;function getQuadsWithBlankNodes(X){return X.filter(Z=>rdf_terms_1.someTerms(Z,G=>G.termType==="BlankNode"||G.termType==="Quad"&&rdf_terms_1.getTermsNested(G).some(W=>W.termType==="BlankNode")))}RdfIsomorphic.getQuadsWithBlankNodes=getQuadsWithBlankNodes;function getQuadsWithoutBlankNodes(X){return X.filter(Z=>rdf_terms_1.everyTerms(Z,G=>G.termType!=="BlankNode"&&!(G.termType==="Quad"&&rdf_terms_1.getTermsNested(G).some(W=>W.termType==="BlankNode"))))}RdfIsomorphic.getQuadsWithoutBlankNodes=getQuadsWithoutBlankNodes;function indexGraph(X){const Z={};for(const G of X)Z[JSON.stringify(rdf_string_1$1.quadToStringQuad(G))]=!0;return Z}RdfIsomorphic.indexGraph=indexGraph;function deindexGraph(X){return Object.keys(X).map(Z=>rdf_string_1$1.stringQuadToQuad(JSON.parse(Z)))}RdfIsomorphic.deindexGraph=deindexGraph;function uniqGraph(X){return deindexGraph(indexGraph(X))}RdfIsomorphic.uniqGraph=uniqGraph;function getGraphBlankNodes(X){return rdf_terms_1.uniqTerms(X.map(Z=>rdf_terms_1.getBlankNodes(rdf_terms_1.getTermsNested(Z))).reduce((Z,G)=>Z.concat(G),[]))}RdfIsomorphic.getGraphBlankNodes=getGraphBlankNodes;function hashTerms(X,Z,G){const W=Object.assign({},G),F={};let U=!0;for(;U;){const J=Object.keys(W).length;for(const D of Z){const Q=rdf_string_1$1.termToString(D);if(!W[Q]){const[ee,q]=hashTerm(D,X,W);ee&&(W[Q]=q),F[Q]=q}}const Y={};for(const D in F){const Q=F[D];Y[Q]===void 0?Y[Q]=D:Y[Q]=!1}for(const D in Y){const Q=Y[D];Q&&(W[Q]=D)}U=J!==Object.keys(W).length}return[W,F]}RdfIsomorphic.hashTerms=hashTerms;function hashTerm(X,Z,G){const W=[];let F=!0;for(const J of Z){const Y=rdf_terms_1.getTermsNested(J);if(Y.some(D=>D.equals(X))){W.push(quadToSignature(J,G,X));for(const D of Y)!isTermGrounded(D,G)&&!D.equals(X)&&(F=!1)}}const U=sha1hex(W.sort().join(""));return[F,U]}RdfIsomorphic.hashTerm=hashTerm;function sha1hex(X){return hash_js_1.sha1().update(X).digest("hex")}RdfIsomorphic.sha1hex=sha1hex;function quadToSignature(X,Z,G){return rdf_terms_1.getTerms(X).map(W=>termToSignature(W,Z,G)).join("|")}RdfIsomorphic.quadToSignature=quadToSignature;function termToSignature(X,Z,G){return X.equals(G)?"@self":X.termType==="BlankNode"?Z[rdf_string_1$1.termToString(X)]||"@blank":X.termType==="Quad"?`<${quadToSignature(X,Z,G)}>`:rdf_string_1$1.termToString(X)}RdfIsomorphic.termToSignature=termToSignature;function isTermGrounded(X,Z){return X.termType!=="BlankNode"&&!(X.termType==="Quad"&&rdf_terms_1.getTermsNested(X).some(G=>!isTermGrounded(G,Z)))||!!Z[rdf_string_1$1.termToString(X)]}RdfIsomorphic.isTermGrounded=isTermGrounded;(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,F,U,J){J===void 0&&(J=U),Object.defineProperty(W,J,{enumerable:!0,get:function(){return F[U]}})}:function(W,F,U,J){J===void 0&&(J=U),W[J]=F[U]}),G=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,F){for(var U in W)U!=="default"&&!Object.prototype.hasOwnProperty.call(F,U)&&Z(F,W,U)};Object.defineProperty(X,"__esModule",{value:!0}),G(RdfIsomorphic,X)})(rdfIsomorphic);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(X,Z,G,W){W===void 0&&(W=G);var F=Object.getOwnPropertyDescriptor(Z,G);(!F||("get"in F?!Z.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return Z[G]}}),Object.defineProperty(X,W,F)}:function(X,Z,G,W){W===void 0&&(W=G),X[W]=Z[G]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var G in X)G!=="default"&&Object.prototype.hasOwnProperty.call(X,G)&&__createBinding(Z,X,G);return __setModuleDefault(Z,X),Z},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(sparql,"__esModule",{value:!0});sparql.toSparqlJs=sparql.toSparql=void 0;const rdf_isomorphic_1=rdfIsomorphic,rdf_string_1=rdfString,sparqljs_1=sparql$1,Algebra=__importStar(algebra),factory_1=__importDefault(factory$2),util_1=__importDefault(util),types=Algebra.types,eTypes=Algebra.expressionTypes;let context;const factory=new factory_1.default;function toSparql(X,Z={}){return new sparqljs_1.Generator(Z).stringify(toSparqlJs(X))}sparql.toSparql=toSparql;function toSparqlJs(X){resetContext(),X=removeQuads(X);let Z=translateOperation(X);return Z.type==="group"?Z.patterns[0]:Z}sparql.toSparqlJs=toSparqlJs;function resetContext(){context={project:!1,extend:[],group:[],aggregates:[],order:[]}}function translateOperation(X){switch(X.type!==types.EXTEND&&X.type!==types.ORDER_BY&&X.type!==types.GRAPH&&(context.project=!1),X.type){case types.EXPRESSION:return translateExpression(X);case types.ASK:return translateProject(X,types.ASK);case types.BGP:return translateBgp(X);case types.CONSTRUCT:return translateConstruct(X);case types.DESCRIBE:return translateProject(X,types.DESCRIBE);case types.DISTINCT:return translateDistinct(X);case types.EXTEND:return translateExtend(X);case types.FROM:return translateFrom(X);case types.FILTER:return translateFilter(X);case types.GRAPH:return translateGraph(X);case types.GROUP:return translateGroup(X);case types.JOIN:return translateJoin(X);case types.LEFT_JOIN:return translateLeftJoin(X);case types.MINUS:return translateMinus(X);case types.NOP:return{};case types.ORDER_BY:return translateOrderBy(X);case types.PATH:return translatePath(X);case types.PATTERN:return translatePattern(X);case types.PROJECT:return translateProject(X,types.PROJECT);case types.REDUCED:return translateReduced(X);case types.SERVICE:return translateService(X);case types.SLICE:return translateSlice(X);case types.UNION:return translateUnion(X);case types.VALUES:return translateValues(X);case types.COMPOSITE_UPDATE:return translateCompositeUpdate(X);case types.DELETE_INSERT:return translateDeleteInsert(X);case types.LOAD:return translateLoad(X);case types.CLEAR:return translateClear(X);case types.CREATE:return translateCreate(X);case types.DROP:return translateDrop(X);case types.ADD:return translateAdd(X);case types.MOVE:return translateMove(X);case types.COPY:return translateCopy(X)}throw new Error(`Unknown Operation type ${X.type}`)}function translateExpression(X){switch(X.expressionType){case eTypes.AGGREGATE:return translateAggregateExpression(X);case eTypes.EXISTENCE:return translateExistenceExpression(X);case eTypes.NAMED:return translateNamedExpression(X);case eTypes.OPERATOR:return translateOperatorExpression(X);case eTypes.TERM:return translateTermExpression(X);case eTypes.WILDCARD:return translateWildcardExpression(X)}throw new Error(`Unknown Expression Operation type ${X.expressionType}`)}function translatePathComponent(X){switch(X.type){case types.ALT:return translateAlt(X);case types.INV:return translateInv(X);case types.LINK:return translateLink(X);case types.NPS:return translateNps(X);case types.ONE_OR_MORE_PATH:return translateOneOrMorePath(X);case types.SEQ:return translateSeq(X);case types.ZERO_OR_MORE_PATH:return translateZeroOrMorePath(X);case types.ZERO_OR_ONE_PATH:return translateZeroOrOnePath(X)}throw new Error(`Unknown Path type ${X.type}`)}function translateTerm(X){return(0,rdf_string_1.termToString)(X)}function translateAggregateExpression(X){const Z={expression:translateExpression(X.expression),type:"aggregate",aggregation:X.aggregator,distinct:X.distinct};return X.separator&&(Z.separator=X.separator),Z}function translateExistenceExpression(X){return{type:"operation",operator:X.not?"notexists":"exists",args:util_1.default.flatten([translateOperation(X.input)])}}function translateNamedExpression(X){return{type:"functionCall",function:X.name,args:X.args.map(translateExpression)}}function translateOperatorExpression(X){if(X.operator==="desc"){const G={expression:translateExpression(X.args[0])};return G.descending=!0,G}const Z={type:"operation",operator:X.operator,args:X.args.map(translateExpression)};return(Z.operator==="in"||Z.operator==="notin")&&(Z.args=[Z.args[0]].concat([Z.args.slice(1)])),Z}function translateTermExpression(X){return X.term}function translateWildcardExpression(X){return X.wildcard}function translateBoundAggregate(X){return X}function translateBgp(X){let Z=X.patterns.map(translatePattern);return Z.length===0?null:{type:"bgp",triples:Z}}function translateConstruct(X){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:X.template.map(translatePattern),where:util_1.default.flatten([translateOperation(X.input)])}}function translateDistinct(X){let Z=translateOperation(X.input);return Z.patterns[0].distinct=!0,Z}function translateExtend(X){return context.project?(context.extend.push(X),translateOperation(X.input)):util_1.default.flatten([translateOperation(X.input),{type:"bind",variable:X.variable,expression:translateExpression(X.expression)}])}function translateFrom(X){const Z=translateOperation(X.input),G=Z.patterns[0];return G.from={default:X.default,named:X.named},Z}function translateFilter(X){return{type:"group",patterns:util_1.default.flatten([translateOperation(X.input),{type:"filter",expression:translateExpression(X.expression)}])}}function translateGraph(X){return{type:"graph",patterns:util_1.default.flatten([translateOperation(X.input)]),name:X.name}}function translateGroup(X){const Z=translateOperation(X.input),G=X.aggregates.map(translateBoundAggregate);return context.aggregates.push(...G),context.group.push(...X.variables),Z}function translateJoin(X){return util_1.default.flatten(X.input.map(translateOperation)).reduce((G,W)=>(W.type!=="bgp"||G.length==0||G[G.length-1].type!=="bgp"?G.push(W):G[G.length-1].triples.push(...W.triples),G),[])}function translateLeftJoin(X){const Z={type:"optional",patterns:[translateOperation(X.input[1])]};return X.expression&&Z.patterns.push({type:"filter",expression:translateExpression(X.expression)}),Z.patterns=util_1.default.flatten(Z.patterns),util_1.default.flatten([translateOperation(X.input[0]),Z])}function translateMinus(X){let Z=translateOperation(X.input[1]);return Z.type==="group"&&(Z=Z.patterns),Array.isArray(Z)||(Z=[Z]),util_1.default.flatten([translateOperation(X.input[0]),{type:"minus",patterns:Z}])}function translateOrderBy(X){return context.order.push(...X.expressions),translateOperation(X.input)}function translatePath(X){return{type:"bgp",triples:[{subject:X.subject,predicate:translatePathComponent(X.predicate),object:X.object}]}}function translatePattern(X){return{subject:X.subject,predicate:X.predicate,object:X.object}}function replaceAggregatorVariables(X,Z){let G=util_1.default.isSimpleTerm(X)?translateTerm(X):X;if(typeof G=="string"){if(Z[G])return Z[G]}else if(Array.isArray(X))X=X.map(W=>replaceAggregatorVariables(W,Z));else for(let W of Object.keys(X))X[W]=replaceAggregatorVariables(X[W],Z);return X}function translateProject(X,Z){const G={type:"query",prefixes:{}},W=G;let F;Z===types.PROJECT?(G.queryType="SELECT",F=X.variables):Z===types.ASK?G.queryType="ASK":Z===types.DESCRIBE&&(G.queryType="DESCRIBE",F=X.terms);const U=context.extend,J=context.group,Y=context.aggregates,D=context.order;resetContext(),context.project=!0;let Q=util_1.default.flatten([translateOperation(X.input)]);Q.length===1&&Q[0].type==="group"&&(Q=Q[0].patterns),G.where=Q;let ee={};for(let te of context.aggregates)ee[translateTerm(te.variable)]=translateExpression(te);let q={};for(let te=context.extend.length-1;te>=0;--te){let ie=context.extend[te];q[translateTerm(ie.variable)]=replaceAggregatorVariables(translateExpression(ie.expression),ee)}if(context.group.length>0&&(W.group=context.group.map(te=>{let ie=translateTerm(te);if(q[ie]){let ne=q[ie];return delete q[ie],{variable:te,expression:ne}}return{expression:te}})),context.order.length>0&&(W.order=context.order.map(translateOperation).map(te=>te.descending?te:{expression:te})),F&&(W.variables=F.map(te=>{let ie=translateTerm(te);return q[ie]?{variable:te,expression:q[ie]}:te}),W.variables.length===0&&(W.variables=[new sparqljs_1.Wildcard])),G.where.length>0&&G.where[G.where.length-1].type==="filter"){const te=G.where[G.where.length-1];objectContainsValues(te,Object.keys(ee))&&(W.having=util_1.default.flatten([replaceAggregatorVariables(te.expression,ee)]),G.where.splice(-1))}return context.extend=U,context.group=J,context.aggregates=Y,context.order=D,{type:"group",patterns:[W]}}function objectContainsValues(X,Z){return util_1.default.isSimpleTerm(X)?Z.indexOf(translateTerm(X))>=0:Array.isArray(X)?X.some(G=>objectContainsValues(G,Z)):X===Object(X)?Object.keys(X).some(G=>objectContainsValues(X[G],Z)):Z.indexOf(X)>=0}function translateReduced(X){let Z=translateOperation(X.input);return Z.patterns[0].reduced=!0,Z}function translateService(X){let Z=translateOperation(X.input);return Z.type==="group"&&(Z=Z.patterns),Array.isArray(Z)||(Z=[Z]),{type:"service",name:X.name,silent:X.silent,patterns:Z}}function translateSlice(X){let Z=translateOperation(X.input),G=Z;return Z.type&&Z.type==="group"&&(G=Z.patterns[0]),X.start!==0&&(G.offset=X.start),X.length!==void 0&&(G.limit=X.length),Z}function translateUnion(X){return{type:"union",patterns:util_1.default.flatten(X.input.map(translateOperation))}}function translateValues(X){return{type:"values",values:X.bindings.map(Z=>{let G={};for(let W of X.variables){let F=`?${W.value}`;Z[F]?G[F]=Z[F]:G[F]=void 0}return G})}}function translateAlt(X){const Z=X.input.map(translatePathComponent);return Z.every(G=>"pathType"in G&&G.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:util_1.default.flatten(Z.map(G=>G.items))}]}:{type:"path",pathType:"|",items:Z}}function translateInv(X){if(X.path.type===types.NPS){const Z=X.path.iris.map(G=>({type:"path",pathType:"^",items:[G]}));return Z.length<=1?{type:"path",pathType:"!",items:Z}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Z}]}}return{type:"path",pathType:"^",items:[translatePathComponent(X.path)]}}function translateLink(X){return X.iri}function translateNps(X){return X.iris.length<=1?{type:"path",pathType:"!",items:X.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:X.iris}]}}function translateOneOrMorePath(X){return{type:"path",pathType:"+",items:[translatePathComponent(X.path)]}}function translateSeq(X){return{type:"path",pathType:"/",items:X.input.map(translatePathComponent)}}function translateZeroOrMorePath(X){return{type:"path",pathType:"*",items:[translatePathComponent(X.path)]}}function translateZeroOrOnePath(X){return{type:"path",pathType:"?",items:[translatePathComponent(X.path)]}}function translateCompositeUpdate(X){const Z=X.updates.map(G=>translateOperation(G).updates[0]);return{prefixes:{},type:"update",updates:Z}}function translateDeleteInsert(X){var Z;let G=X.where,W;if(G&&G.type===types.FROM){let U=G;G=U.input,W={default:U.default,named:U.named}}const F=[{updateType:"insertdelete",delete:convertUpdatePatterns(X.delete||[]),insert:convertUpdatePatterns(X.insert||[])}];if(W&&(F[0].using=W),!G||G.type===types.BGP&&G.patterns.length===0)F[0].where=[];else{const U={};let J=translateOperation(removeQuadsRecursive(G,U));J.type==="group"?F[0].where=J.patterns:F[0].where=[J];const Y=Object.keys(U);if(Y.length>0){if(Y.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");const D=(Z=U[Y[0]])===null||Z===void 0?void 0:Z.graph;D&&D.value!==""&&(F[0].where=[{type:"graph",patterns:F[0].where,name:D}])}}return!X.delete&&!X.where?(F[0].updateType="insert",delete F[0].delete,delete F[0].where):!X.insert&&!X.where?(delete F[0].insert,delete F[0].where,X.delete.some(U=>U.subject.termType==="Variable"||U.predicate.termType==="Variable"||U.object.termType==="Variable")?F[0].updateType="deletewhere":F[0].updateType="delete"):!X.insert&&X.where&&X.where.type==="bgp"&&(0,rdf_isomorphic_1.isomorphic)(X.delete,X.where.patterns)&&(delete F[0].where,F[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:F}}function translateLoad(X){const Z=[{type:"load",silent:!!X.silent,source:X.source}];return X.destination&&(Z[0].destination=X.destination),{prefixes:{},type:"update",updates:Z}}function translateClear(X){return translateClearCreateDrop(X,"clear")}function translateCreate(X){return translateClearCreateDrop(X,"create")}function translateDrop(X){return translateClearCreateDrop(X,"drop")}function translateClearCreateDrop(X,Z){const G=[{type:Z,silent:!!X.silent}];return X.source==="DEFAULT"?G[0].graph={default:!0}:X.source==="NAMED"?G[0].graph={named:!0}:X.source==="ALL"?G[0].graph={all:!0}:G[0].graph={type:"graph",name:X.source},{prefixes:{},type:"update",updates:G}}function translateAdd(X){return translateUpdateGraphShortcut(X,"add")}function translateMove(X){return translateUpdateGraphShortcut(X,"move")}function translateCopy(X){return translateUpdateGraphShortcut(X,"copy")}function translateUpdateGraphShortcut(X,Z){const G=[{type:Z,silent:!!X.silent}];return G[0].source=X.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:X.source},G[0].destination=X.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:X.destination},{prefixes:{},type:"update",updates:G}}function convertUpdatePatterns(X){if(!X)return[];const Z={};return X.forEach(G=>{const W=G.graph.value;Z[W]||(Z[W]=[]),Z[W].push(G)}),Object.keys(Z).map(G=>G===""?{type:"bgp",triples:Z[G].map(translatePattern)}:{type:"graph",triples:Z[G].map(translatePattern),name:Z[G][0].graph})}function removeQuads(X){return removeQuadsRecursive(X,{})}function removeQuadsRecursive(X,Z){if(Array.isArray(X))return X.map(J=>removeQuadsRecursive(J,Z));if(!X.type||X.type===types.DELETE_INSERT)return X;if((X.type===types.PATTERN||X.type===types.PATH)&&X.graph)return Z[X.graph.value]||(Z[X.graph.value]={graph:X.graph,values:[]}),Z[X.graph.value].values.push(X),X;const G={},W={},F={};for(let J of Object.keys(X)){const Y={};G[J]=removeQuadsRecursive(X[J],Y);const D=Object.keys(Y);if(D.length>1){let Q=potentialGraphFromPatterns(Y[D[0]].values);for(let ee=1;ee<D.length;++ee){const q=potentialGraphFromPatterns(Y[D[ee]].values);Q=factory.createJoin([Q,q])}return D.map(ee=>delete Y[ee]),Q}else if(D.length===1){const Q=Y[D[0]].graph;W[J]=Q,F[Q.value]=Q}}const U=Object.keys(F);if(U.length>0)if(U.length===1&&X.type!==types.PROJECT)Z[U[0]]={graph:F[U[0]],values:[G]};else for(let J of Object.keys(W))W[J].value.length>0&&(G[J]=factory.createGraph(G[J],W[J]));return G}function potentialGraphFromPatterns(X){const Z=factory.createBgp(X),G=X[0].graph;return G.value.length===0?Z:factory.createGraph(Z,G)}(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,q,te,ie){ie===void 0&&(ie=te);var ne=Object.getOwnPropertyDescriptor(q,te);(!ne||("get"in ne?!q.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return q[te]}}),Object.defineProperty(ee,ie,ne)}:function(ee,q,te,ie){ie===void 0&&(ie=te),ee[ie]=q[te]}),G=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ee,q){Object.defineProperty(ee,"default",{enumerable:!0,value:q})}:function(ee,q){ee.default=q}),W=commonjsGlobal&&commonjsGlobal.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var q={};if(ee!=null)for(var te in ee)te!=="default"&&Object.prototype.hasOwnProperty.call(ee,te)&&Z(q,ee,te);return G(q,ee),q},F=commonjsGlobal&&commonjsGlobal.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(X,"__esModule",{value:!0}),X.Util=X.toSparqlJs=X.toSparql=X.Factory=X.Algebra=X.translate=void 0;const U=F(sparqlAlgebra);X.translate=U.default;const J=W(algebra);X.Algebra=J;const Y=F(factory$2);X.Factory=Y.default;const D=sparql;Object.defineProperty(X,"toSparql",{enumerable:!0,get:function(){return D.toSparql}}),Object.defineProperty(X,"toSparqlJs",{enumerable:!0,get:function(){return D.toSparqlJs}});const Q=F(util);X.Util=Q.default})(sparqlalgebrajs);const index$1=getDefaultExportFromCjs(sparqlalgebrajs),__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqlalgebrajs__=_mergeNamespaces({__proto__:null,default:index$1},[sparqlalgebrajs]);var __quadstore_comunica_modules__={"../node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorAbstractPath=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=G("../node_modules/rdf-data-factory/index.js"),D=G("../node_modules/rdf-string/index.js"),Q=G("sparqlalgebrajs"),ee=G("../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js"),q=new Y.DataFactory,te=new W.BindingsFactory;class ie extends F.ActorQueryOperationTypedMediated{constructor(ce,le){super(ce,"path"),this.predicateType=le}async testOperation(ce,le){if(ce.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(ce,le){return le?ce&&(ce.subject.value===le||ce.object.value===le)?this.generateVariable(ce,`${le}b`):q.variable(le):this.generateVariable(ce,"b")}async isPathArbitraryLengthDistinct(ce,le){return ce.get(U.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(ce=ce.set(U.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:ce,operation:void 0}):(ce=ce.set(U.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:ce,operation:F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ie.FACTORY.createDistinct(le),context:ce}))})}async predicateStarGraphVariable(ce,le,se,pe,ue){const ae=this.generateVariable(ie.FACTORY.createPath(ce,se,le,pe)),de=ie.FACTORY.createUnion([ie.FACTORY.createPattern(ce,ae,le,pe),ie.FACTORY.createPattern(le,ae,ce,pe)]),be=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:ue,operation:de})),he=new Set;return{bindingsStream:new J.MultiTransformIterator(be.bindingsStream,{multiTransform:Xe=>{const We=Xe.get(pe);return he.has(We.value)?new J.EmptyIterator:(he.add(We.value),new J.TransformIterator(async()=>{const fe=new J.BufferedIterator;return await this.getObjectsPredicateStar(ce,se,We,ue,{},fe,{count:0}),fe.transform({transform(Re,ye,re){re(te.bindings([[le,Re],[pe,We]])),ye()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:be.metadata}}async getObjectsPredicateStarEval(ce,le,se,pe,ue,ae){if(pe.termType==="Variable")return this.predicateStarGraphVariable(ce,se,le,pe,ue);const de=new ee.PathVariableObjectIterator(ce,le,pe,ue,this.mediatorQueryOperation,ae);return{bindingsStream:de.transform({autoStart:!1,transform(he,Le,Xe){Xe(te.bindings([[se,he]])),Le()}}),metadata:()=>new Promise(he=>de.getProperty("metadata",Le=>he(Le())))}}async getObjectsPredicateStar(ce,le,se,pe,ue,ae,de){const be=(0,D.termToString)(ce);if(ue[be])return;ae._push(ce),ue[be]=ce,de.count++;const he=this.generateVariable(),Le=ie.FACTORY.createPath(ce,le,he,se),Xe=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Le,context:pe}));return Xe.bindingsStream.on("data",async We=>{const fe=We.get(he);await this.getObjectsPredicateStar(fe,le,se,pe,ue,ae,de)}),Xe.bindingsStream.on("end",()=>{--de.count===0&&ae.close()}),Xe.metadata}async getSubjectAndObjectBindingsPredicateStar(ce,le,se,pe,ue,ae,de,be,he,Le,Xe){const We=(0,D.termToString)(pe)+(0,D.termToString)(ae);if(he[We])return;if(Xe.count++,he[We]=!0,Le._push(te.bindings([[ce,se],[le,pe]])),We in be){const Re=await be[We];for(const ye of Re)await this.getSubjectAndObjectBindingsPredicateStar(ce,le,se,ye,ue,ae,de,be,he,Le,Xe);--Xe.count===0&&Le.close();return}const fe=new Promise(async(Re,ye)=>{const re=[],Ze=this.generateVariable(),Ge=ie.FACTORY.createPath(pe,ue,Ze,ae),ve=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Ge,context:de}));ve.bindingsStream.on("data",async Te=>{const xe=Te.get(Ze);re.push(xe),await this.getSubjectAndObjectBindingsPredicateStar(ce,le,se,xe,ue,ae,de,be,he,Le,Xe)}),ve.bindingsStream.on("error",ye),ve.bindingsStream.on("end",()=>{--Xe.count===0&&Le.close(),Re(re)})});be[We]=fe}}Z.ActorAbstractPath=ie,ie.FACTORY=new Q.Factory},"../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.PathVariableObjectIterator=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("asynciterator"),U=G("../node_modules/rdf-data-factory/index.js"),J=G("../node_modules/rdf-string/index.js"),Y=G("sparqlalgebrajs"),D=new U.DataFactory,Q=new Y.Factory;class ee extends F.BufferedIterator{constructor(te,ie,ne,ce,le,se,pe=16){super({autoStart:!0}),this.subject=te,this.predicate=ie,this.graph=ne,this.context=ce,this.mediatorQueryOperation=le,this.maxRunningOperations=pe,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,se)}_end(te){for(const ie of this.runningOperations)ie.destroy();super._end(te)}_push(te,ie=!0){let ne;if(ie&&(ne=(0,J.termToString)(te),this.termHashes.has(ne)))return;const ce=D.variable("b");this.pendingOperations.push({variable:ce,operation:Q.createPath(te,this.predicate,ce,this.graph)}),ne&&(this.termHashes.set(ne,te),super._push(te))}_read(te,ie){const ne=this;(async function(){for(;ne.runningOperations.length<ne.maxRunningOperations&&ne.pendingOperations.length!==0;){const se=ne.pendingOperations.pop(),pe=W.ActorQueryOperation.getSafeBindings(await ne.mediatorQueryOperation.mediate({operation:se.operation,context:ne.context})),ue=pe.bindingsStream.transform({autoStart:!1,transform(ae,de,be){const he=ae.get(se.variable);be(he),de()}});ue.done||(ne.runningOperations.push(ue),ue.on("error",ae=>ne.destroy(ae)),ue.on("readable",()=>{ne.readable=!0,ne._fillBufferAsync()}),ue.on("end",()=>{ne.runningOperations.splice(ne.runningOperations.indexOf(ue),1),ne.readable=!0,ne._fillBufferAsync()})),ne.setProperty("metadata",pe.metadata)}let ce=0,le;for(;ce!==(ce=te);)for(let se=0;se<ne.runningOperations.length&&te>0;se++)(le=ne.runningOperations[se].read())!==null&&(te--,ne._push(le));ne.runningOperations.length===0&&ne.pendingOperations.length===0&&ne.close()})().then(()=>{ie()},ce=>this.destroy(ce))}}Z.PathVariableObjectIterator=ee},"../node_modules/@comunica/actor-abstract-path/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js"),Z),F(G("../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js"),Z)},"../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorContextPreprocessSourceToDestination=void 0;const W=G("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js");class U extends W.ActorContextPreprocess{constructor(Y){super(Y)}async test(Y){return!0}async run(Y){if(Y.context.get(F.KeysRdfResolveQuadPattern.sources)&&!Y.context.get(F.KeysRdfUpdateQuads.destination)){const D=Y.context.get(F.KeysRdfResolveQuadPattern.sources);if(D.length===1)return{context:Y.context.set(F.KeysRdfUpdateQuads.destination,D[0])}}return Y}}Z.ActorContextPreprocessSourceToDestination=U},"../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js"),Z)},"../node_modules/@comunica/actor-hash-bindings-sha1/lib/ActorHashBindingsSha1.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorHashBindingsSha1=void 0;const W=G("../node_modules/@comunica/bus-hash-bindings/lib/index.js"),F=G("../node_modules/hash.js/lib/hash.js"),U=G("../node_modules/rdf-string/index.js"),J=G("../node_modules/canonicalize/lib/canonicalize.js");class Y extends W.ActorHashBindings{async test(Q){if(!Q.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(Q){return{hashFunction:ee=>(0,F.sha1)().update(J(Object.fromEntries([...ee].map(([q,te])=>[(0,U.termToString)(q),(0,U.termToString)(te)])))).digest("hex"),hashCollisions:!0}}}Z.ActorHashBindingsSha1=Y},"../node_modules/@comunica/actor-hash-bindings-sha1/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-hash-bindings-sha1/lib/ActorHashBindingsSha1.js"),Z)},"../node_modules/@comunica/actor-init-query/lib/ActorInitQuery-browser.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorInitQuery=void 0;const W=G("../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js");typeof process>"u"&&(globalThis.process=G("./require-empty.js"));class F extends W.ActorInitQueryBase{}Z.ActorInitQuery=F},"../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorInitQueryBase=void 0;const W=G("../node_modules/@comunica/bus-init/lib/index.js");class F extends W.ActorInit{constructor(J){J.contextKeyShortcutsExtensions?.forEach(Y=>{if(Object.keys(J.contextKeyShortcuts).some(D=>Object.keys(Y).includes(D)))throw new Error("Duplicate keys found while adding `contextKeyShortcutsExtensions`.");J.contextKeyShortcuts={...J.contextKeyShortcuts,...Y}}),super(J)}async test(J){return!0}async run(J){throw new Error("ActorInitSparql#run is not supported in the browser.")}}Z.ActorInitQueryBase=F},"../node_modules/@comunica/actor-init-query/lib/MemoryPhysicalQueryPlanLogger.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MemoryPhysicalQueryPlanLogger=void 0;const W=G("../node_modules/rdf-string/index.js");class F{constructor(){this.children=new Map}logOperation(J,Y,D,Q,ee,q){const te={actor:ee,logicalOperator:J,physicalOperator:Y,rawNode:D,children:[],metadata:q};if(this.children.set(D,te.children),this.rootNode){if(!Q)throw new Error("Detected more than one parent-less node");const ie=this.children.get(Q);if(!ie)throw new Error("Could not find parent node");ie.push(te)}else{if(Q)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=te}}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(J){return{logical:J.logicalOperator,physical:J.physicalOperator,...this.getLogicalMetadata(J.rawNode),...J.metadata,...J.children.length>0?{children:J.children.map(Y=>this.planNodeToJson(Y))}:{}}}getLogicalMetadata(J){if("type"in J){const Y=J;switch(Y.type){case"pattern":return{pattern:this.quadToString(Y)};case"project":return{variables:Y.variables.map(D=>D.value)}}}return{}}quadToString(J){return`${(0,W.termToString)(J.subject)} ${(0,W.termToString)(J.predicate)} ${(0,W.termToString)(J.object)}${J.graph.termType==="DefaultGraph"?"":` ${(0,W.termToString)(J.graph)}`}`}}Z.MemoryPhysicalQueryPlanLogger=F},"../node_modules/@comunica/actor-init-query/lib/QueryEngineBase.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.QueryEngineBase=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/@comunica/core/lib/index.js"),J=G("../node_modules/@comunica/actor-init-query/lib/MemoryPhysicalQueryPlanLogger.js");class Y{constructor(Q){this.actorInitQuery=Q,this.defaultFunctionArgumentsCache={}}async queryBindings(Q,ee){return this.queryOfType(Q,ee,"bindings")}async queryQuads(Q,ee){return this.queryOfType(Q,ee,"quads")}async queryBoolean(Q,ee){return this.queryOfType(Q,ee,"boolean")}async queryVoid(Q,ee){return this.queryOfType(Q,ee,"void")}async queryOfType(Q,ee,q){const te=await this.query(Q,ee);if(te.resultType===q)return te.execute();throw new Error(`Query result type '${q}' was expected, while '${te.resultType}' was found.`)}async query(Q,ee){const q=await this.queryOrExplain(Q,ee);if("explain"in q)throw new Error("Tried to explain a query when in query-only mode");return q}async explain(Q,ee,q){return ee.explain=q,await this.queryOrExplain(Q,ee)}async queryOrExplain(Q,ee){ee=ee||{};for(const ae in ee)this.actorInitQuery.contextKeyShortcuts[ae]&&(ee[this.actorInitQuery.contextKeyShortcuts[ae]]=ee[ae],delete ee[ae]);let q=new U.ActionContext(ee),te={language:"sparql",version:"1.1"};q.has(F.KeysInitQuery.queryFormat)&&(te=q.get(F.KeysInitQuery.queryFormat),q=q.delete(F.KeysInitQuery.queryFormat),te.language==="graphql"&&(q=q.setDefault(F.KeysInitQuery.graphqlSingularizeVariables,{})));const ie=q.get(F.KeysInitQuery.baseIRI);q=q.setDefault(F.KeysInitQuery.queryTimestamp,new Date).setDefault(F.KeysRdfResolveQuadPattern.sourceIds,new Map).setDefault(F.KeysCore.log,this.actorInitQuery.logger).setDefault(F.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(F.KeysRdfResolveQuadPattern.hypermediaSourcesAggregatedStores,new Map),q=(await this.actorInitQuery.mediatorContextPreprocess.mediate({context:q})).context;const ne=q.get(F.KeysInitQuery.explain);let ce;if(typeof Q=="string"){q=q.set(F.KeysInitQuery.queryString,Q);const ae=await this.actorInitQuery.mediatorQueryParse.mediate({context:q,query:Q,queryFormat:te,baseIRI:ie});ce=ae.operation,ae.baseIRI&&(q=q.set(F.KeysInitQuery.baseIRI,ae.baseIRI))}else ce=Q;if(ne==="parsed")return{explain:!0,type:ne,data:ce};q.has(F.KeysInitQuery.initialBindings)&&(ce=(0,W.materializeOperation)(ce,q.get(F.KeysInitQuery.initialBindings)),q=q.delete(F.KeysInitQuery.queryString));const le=await this.actorInitQuery.mediatorOptimizeQueryOperation.mediate({context:q,operation:ce});if(ce=le.operation,q=le.context||q,ne==="logical")return{explain:!0,type:ne,data:ce};q=q.set(F.KeysInitQuery.query,ce);let se;ne==="physical"&&(se=new J.MemoryPhysicalQueryPlanLogger,q=q.set(F.KeysInitQuery.physicalQueryPlanLogger,se));const pe=await this.actorInitQuery.mediatorQueryOperation.mediate({context:q,operation:ce});pe.context=q;const ue=Y.internalToFinalResult(pe);if(se){switch(ue.resultType){case"bindings":await(await ue.execute()).toArray();break;case"quads":await(await ue.execute()).toArray();break;case"boolean":await ue.execute();break;case"void":await ue.execute();break}return{explain:!0,type:ne,data:se.toJson()}}return ue}async getResultMediaTypes(Q){return Q=U.ActionContext.ensureActionContext(Q),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:Q,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(Q){return Q=U.ActionContext.ensureActionContext(Q),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:Q,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(Q,ee,q){if(q=U.ActionContext.ensureActionContext(q),!ee)switch(Q.resultType){case"bindings":ee="application/json";break;case"quads":ee="application/trig";break;default:ee="simple";break}const te={...await Y.finalToInternalResult(Q),context:q};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:q,handle:te,handleMediaType:ee})).handle}invalidateHttpCache(Q,ee){return ee=U.ActionContext.ensureActionContext(ee),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:Q,context:ee})}static internalToFinalResult(Q){switch(Q.type){case"bindings":return{resultType:"bindings",execute:async()=>Q.bindingsStream,metadata:async()=>await Q.metadata(),context:Q.context};case"quads":return{resultType:"quads",execute:async()=>Q.quadStream,metadata:async()=>await Q.metadata(),context:Q.context};case"boolean":return{resultType:"boolean",execute:async()=>Q.execute(),context:Q.context};case"void":return{resultType:"void",execute:async()=>Q.execute(),context:Q.context}}}static async finalToInternalResult(Q){switch(Q.resultType){case"bindings":return{type:"bindings",bindingsStream:await Q.execute(),metadata:async()=>await Q.metadata()};case"quads":return{type:"quads",quadStream:await Q.execute(),metadata:async()=>await Q.metadata()};case"boolean":return{type:"boolean",execute:()=>Q.execute()};case"void":return{type:"void",execute:()=>Q.execute()}}}}Z.QueryEngineBase=Y},"../node_modules/@comunica/actor-init-query/lib/index-browser.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(J,Y,D,Q){Q===void 0&&(Q=D);var ee=Object.getOwnPropertyDescriptor(Y,D);(!ee||("get"in ee?!Y.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return Y[D]}}),Object.defineProperty(J,Q,ee)}:function(J,Y,D,Q){Q===void 0&&(Q=D),J[Q]=Y[D]}),F=this&&this.__exportStar||function(J,Y){for(var D in J)D!=="default"&&!Object.prototype.hasOwnProperty.call(Y,D)&&W(Y,J,D)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.QueryEngineBase=void 0,F(G("../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js"),Z),F(G("../node_modules/@comunica/actor-init-query/lib/ActorInitQuery-browser.js"),Z);var U=G("../node_modules/@comunica/actor-init-query/lib/QueryEngineBase.js");Object.defineProperty(Z,"QueryEngineBase",{enumerable:!0,get:function(){return U.QueryEngineBase}})},"../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/ActorOptimizeQueryOperationBgpToJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperationBgpToJoin=void 0;const W=G("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorOptimizeQueryOperation{async test(Y){return!0}async run(Y){return{operation:F.Util.mapOperation(Y.operation,{bgp(Q,ee){return{recurse:!1,result:ee.createJoin(Q.patterns)}}}),context:Y.context}}}Z.ActorOptimizeQueryOperationBgpToJoin=U},"../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/ActorOptimizeQueryOperationBgpToJoin.js"),Z)},"../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperationJoinBgp=void 0;const W=G("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorOptimizeQueryOperation{async test(Y){return!0}async run(Y){return{operation:F.Util.mapOperation(Y.operation,{join(Q,ee){return Q.input.every(q=>q.type==="bgp")?{recurse:!1,result:ee.createBgp(Q.input.flatMap(q=>q.patterns))}:{recurse:!1,result:Q}}}),context:Y.context}}}Z.ActorOptimizeQueryOperationJoinBgp=U},"../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js"),Z)},"../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/ActorOptimizeQueryOperationJoinConnected.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperationJoinConnected=void 0;const W=G("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorOptimizeQueryOperation{async test(Y){return!0}async run(Y){return{operation:F.Util.mapOperation(Y.operation,{join(Q,ee){return{recurse:!1,result:U.cluster(Q,ee)}}}),context:Y.context}}static cluster(Y,D){const Q=Y.input.map(ie=>({inScopeVariables:Object.fromEntries(F.Util.inScopeVariables(ie).map(ne=>[ne.value,!0])),entries:[ie]}));let ee,q=Q;do ee=q,q=U.clusterIteration(ee);while(ee.length!==q.length);const te=q.map(ie=>D.createJoin(ie.entries));return te.length===1?te[0]:D.createJoin(te,!1)}static clusterIteration(Y){const D=[];for(const Q of Y){let ee=!1;for(const q of D)if(U.haveOverlappingVariables(Q.inScopeVariables,q.inScopeVariables)){q.entries=[...q.entries,...Q.entries],q.inScopeVariables={...q.inScopeVariables,...Q.inScopeVariables},ee=!0;break}ee||D.push({inScopeVariables:Q.inScopeVariables,entries:Q.entries})}return D}static haveOverlappingVariables(Y,D){for(const Q of Object.keys(Y))if(D[Q])return!0;return!1}}Z.ActorOptimizeQueryOperationJoinConnected=U},"../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/ActorOptimizeQueryOperationJoinConnected.js"),Z)},"../node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationAsk=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"ask")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=await this.mediatorQueryOperation.mediate({operation:J.input,context:Y}),{bindingsStream:Q}=W.ActorQueryOperation.getSafeBindings(D);return{type:"boolean",execute:async()=>(await Q.take(1).toArray()).length===1}}}Z.ActorQueryOperationAsk=F},"../node_modules/@comunica/actor-query-operation-ask/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js"),Z)},"../node_modules/@comunica/actor-query-operation-bgp-join/lib/ActorQueryOperationBgpJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationBgpJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"bgp")}async testOperation(Y,D){return!0}async runOperation(Y,D){return this.mediatorQueryOperation.mediate({operation:U.FACTORY.createJoin(Y.patterns),context:D})}}Z.ActorQueryOperationBgpJoin=U,U.FACTORY=new F.Factory},"../node_modules/@comunica/actor-query-operation-bgp-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-bgp-join/lib/ActorQueryOperationBgpJoin.js"),Z)},"../node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationConstruct=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/rdf-terms/index.js"),J=G("sparqlalgebrajs"),Y=G("../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js");class D extends W.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"construct")}static getVariables(ee){return(0,U.uniqTerms)([].concat.apply([],ee.map(q=>(0,U.getVariables)((0,U.getTerms)(q)))))}async testOperation(ee,q){return!0}async runOperation(ee,q){const te=D.getVariables(ee.template),ie={type:J.Algebra.types.PROJECT,input:ee.input,variables:te},ne=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ie,context:q})),ce=q.get(F.KeysQueryOperation.localizeBlankNodes),le=ce!==void 0?ce:!0,se=new Y.BindingsToQuadsIterator(ee.template,ne.bindingsStream,le);return{metadata:()=>ne.metadata().then(ue=>({...ue,order:void 0,cardinality:{type:ue.cardinality.type,value:ue.cardinality.value*ee.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:se,type:"quads"}}}Z.ActorQueryOperationConstruct=D},"../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BindingsToQuadsIterator=void 0;const W=G("asynciterator"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("../node_modules/rdf-terms/index.js"),J=new F.DataFactory;class Y extends W.MultiTransformIterator{constructor(Q,ee,q=!0){super(ee,{autoStart:!1}),this.template=Q,this.localizeBlankNodes=q,this.blankNodeCounter=0}static bindTerm(Q,ee){return ee.termType==="Variable"?Q.get(ee):ee}static bindQuad(Q,ee){try{return(0,U.mapTerms)(ee,q=>{const te=Y.bindTerm(Q,q);if(!te)throw new Error("Unbound term");return te})}catch{}}static localizeBlankNode(Q,ee){return ee.termType==="BlankNode"?J.blankNode(`${ee.value}${Q}`):ee}static localizeQuad(Q,ee){return(0,U.mapTerms)(ee,q=>Y.localizeBlankNode(Q,q))}bindTemplate(Q,ee,q){let te=ee.map(ie=>Y.bindQuad.bind(null,Q)(ie)).filter(Boolean);return this.localizeBlankNodes&&(te=te.map(Y.localizeQuad.bind(null,q))),te}_createTransformer(Q){return new W.ArrayIterator(this.bindTemplate(Q,this.template,this.blankNodeCounter++))}}Z.BindingsToQuadsIterator=Y},"../node_modules/@comunica/actor-query-operation-construct/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js"),Z),F(G("../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js"),Z)},"../node_modules/@comunica/actor-query-operation-describe-subject/lib/ActorQueryOperationDescribeSubject.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationDescribeSubject=void 0;const W=G("../node_modules/@comunica/actor-query-operation-union/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=G("../node_modules/rdf-data-factory/index.js"),D=G("sparqlalgebrajs"),Q=new Y.DataFactory;class ee extends F.ActorQueryOperationTypedMediated{constructor(te){super(te,"describe")}async testOperation(te,ie){return!0}async runOperation(te,ie){const ne=te.terms.filter(ue=>ue.termType!=="Variable").map(ue=>{const ae=[Q.quad(ue,Q.variable("__predicate"),Q.variable("__object"))];return ae.forEach(be=>be.type="pattern"),{input:{type:D.Algebra.types.BGP,patterns:ae},template:ae,type:"construct"}});if(ne.length!==te.terms.length){let ue=[];te.terms.filter(ae=>ae.termType==="Variable").forEach((ae,de)=>{const be=[Q.quad(ae,Q.variable(`__predicate${de}`),Q.variable(`__object${de}`))];be.forEach(he=>he.type="pattern"),ue=[...ue,...be]}),ne.push({input:{type:D.Algebra.types.JOIN,input:[te.input,{type:D.Algebra.types.BGP,patterns:ue}]},template:ue,type:D.Algebra.types.CONSTRUCT})}const ce=ie.get(U.KeysQueryOperation.localizeBlankNodes);ie=ie.set(U.KeysQueryOperation.localizeBlankNodes,ce!==void 0?ce:!1);const le=(await Promise.all(ne.map(ue=>this.mediatorQueryOperation.mediate({operation:ue,context:ie})))).map(F.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new J.UnionIterator(le.map(ue=>ue.quadStream),{autoStart:!1}),metadata:()=>Promise.all(le.map(ue=>ue.metadata())).then(ue=>W.ActorQueryOperationUnion.unionMetadata(ue,!1))}}}Z.ActorQueryOperationDescribeSubject=ee},"../node_modules/@comunica/actor-query-operation-describe-subject/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-describe-subject/lib/ActorQueryOperationDescribeSubject.js"),Z)},"../node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationDistinctHash=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"distinct")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:J.input,context:Y}));return{type:"bindings",bindingsStream:D.bindingsStream.filter(await this.newHashFilter(Y)),metadata:D.metadata}}async newHashFilter(J){const{hashFunction:Y}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:J}),D={};return Q=>{const ee=Y(Q);return!(ee in D)&&(D[ee]=!0)}}}Z.ActorQueryOperationDistinctHash=F},"../node_modules/@comunica/actor-query-operation-distinct-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js"),Z)},"../node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationExtend=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/sparqlee/dist/index.js");class J extends F.ActorQueryOperationTypedMediated{constructor(D){super(D,"extend")}async testOperation(D,Q){return new U.AsyncEvaluator(D.expression,F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)),!0}async runOperation(D,Q){const{expression:ee,input:q,variable:te}=D,ie=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:q,context:Q})),ne={...F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)},ce=new U.AsyncEvaluator(ee,ne),le=async(pe,ue,ae)=>{try{const de=await ce.evaluate(pe),be=pe.set(te,de);ae(be)}catch(de){(0,U.isExpressionError)(de)?(ae(pe),this.logWarn(Q,`Expression error for extend operation with bindings '${(0,W.bindingsToString)(pe)}'`)):se.emit("error",de)}ue()},se=ie.bindingsStream.transform({autoStart:!1,transform:le});return{type:"bindings",bindingsStream:se,async metadata(){const pe=await ie.metadata();return{...pe,variables:[...pe.variables,te]}}}}}Z.ActorQueryOperationExtend=J},"../node_modules/@comunica/actor-query-operation-extend/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js"),Z)},"../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/ActorQueryOperationFilterSparqlee.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationFilterSparqlee=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/sparqlee/dist/index.js");class J extends F.ActorQueryOperationTypedMediated{constructor(D){super(D,"filter")}async testOperation(D,Q){const ee={...F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)};return new U.AsyncEvaluator(D.expression,ee),!0}async runOperation(D,Q){const ee=await this.mediatorQueryOperation.mediate({operation:D.input,context:Q}),q=F.ActorQueryOperation.getSafeBindings(ee);F.ActorQueryOperation.validateQueryOutput(q,"bindings");const te={...F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)},ie=new U.AsyncEvaluator(D.expression,te),ne=async(le,se,pe)=>{try{await ie.evaluateAsEBV(le)&&pe(le)}catch(ue){(0,U.isExpressionError)(ue)?this.logWarn(Q,"Error occurred while filtering.",()=>({error:ue,bindings:(0,W.bindingsToString)(le)})):ce.emit("error",ue)}se()},ce=q.bindingsStream.transform({transform:ne});return{type:"bindings",bindingsStream:ce,metadata:q.metadata}}}Z.ActorQueryOperationFilterSparqlee=J},"../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/ActorQueryOperationFilterSparqlee.js"),Z)},"../node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationFromQuad=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"from")}static copyOperation(Y,D){const Q={};for(const ee of Object.keys(Y))Array.isArray(Y[ee])&&ee!=="template"?ee==="variables"?Q[ee]=Y[ee]:Q[ee]=Y[ee].map(D):U.ALGEBRA_TYPES.includes(Y[ee].type)?Q[ee]=D(Y[ee]):Q[ee]=Y[ee];return Q}static applyOperationDefaultGraph(Y,D){if(Y.type==="bgp"&&Y.patterns.length>0||Y.type==="path"||Y.type==="pattern"){if(Y.type==="bgp")return U.joinOperations(Y.patterns.map(ee=>{if(ee.graph.termType!=="DefaultGraph")return U.FACTORY.createBgp([ee]);const q=D.map(te=>U.FACTORY.createBgp([U.FACTORY.createPattern(ee.subject,ee.predicate,ee.object,te)]));return U.unionOperations(q)}));if(Y.graph.termType!=="DefaultGraph")return Y;const Q=D.map(ee=>Y.type==="path"?U.FACTORY.createPath(Y.subject,Y.predicate,Y.object,ee):U.FACTORY.createPattern(Y.subject,Y.predicate,Y.object,ee));return U.unionOperations(Q)}return U.copyOperation(Y,Q=>this.applyOperationDefaultGraph(Q,D))}static applyOperationNamedGraph(Y,D,Q){if(Y.type==="bgp"&&Y.patterns.length>0||Y.type==="path"||Y.type==="pattern"){const ee=Y.type==="bgp"?Y.patterns[0].graph:Y.graph;if(ee.termType==="DefaultGraph")return{type:F.Algebra.types.BGP,patterns:[]};if(ee.termType==="Variable"){if(D.length===1){const te=D[0],ie={};ie[`?${ee.value}`]=te;const ne=U.FACTORY.createValues([ee],[ie]);let ce;return Y.type==="bgp"?ce=U.FACTORY.createBgp(Y.patterns.map(le=>U.FACTORY.createPattern(le.subject,le.predicate,le.object,te))):Y.type==="path"?ce=U.FACTORY.createPath(Y.subject,Y.predicate,Y.object,te):ce=U.FACTORY.createPattern(Y.subject,Y.predicate,Y.object,te),U.FACTORY.createJoin([ne,ce])}return U.unionOperations(D.map(te=>U.applyOperationNamedGraph(Y,[te],Q)))}return[...D,...Q].some(te=>te.equals(ee))?Y:{type:F.Algebra.types.BGP,patterns:[]}}return U.copyOperation(Y,ee=>this.applyOperationNamedGraph(ee,D,Q))}static joinOperations(Y){if(Y.length===1)return Y[0];if(Y.length>1)return U.FACTORY.createJoin(Y);throw new Error("A join can only be applied on at least one operation")}static unionOperations(Y){if(Y.length===1)return Y[0];if(Y.length>1)return U.FACTORY.createUnion(Y);throw new Error("A union can only be applied on at least one operation")}static createOperation(Y){let D=Y.input;return Y.default.length>0&&(D=U.applyOperationDefaultGraph(D,Y.default)),(Y.named.length>0||Y.default.length>0)&&(D=U.applyOperationNamedGraph(D,Y.named,Y.default)),D}async testOperation(Y,D){return!0}async runOperation(Y,D){const Q=U.createOperation(Y);return this.mediatorQueryOperation.mediate({operation:Q,context:D})}}Z.ActorQueryOperationFromQuad=U,U.FACTORY=new F.Factory,U.ALGEBRA_TYPES=Object.keys(F.Algebra.types).map(J=>F.Algebra.types[J])},"../node_modules/@comunica/actor-query-operation-from-quad/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js"),Z)},"../node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationGroup=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("asynciterator"),U=G("../node_modules/sparqlee/dist/index.js"),J=G("../node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js");class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"group")}async testOperation(Q,ee){for(const q of Q.aggregates)new U.AsyncEvaluator(q.expression,W.ActorQueryOperation.getAsyncExpressionContext(ee));return!0}async runOperation(Q,ee){const{hashFunction:q}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:ee}),{input:te,aggregates:ie}=Q,ne=await this.mediatorQueryOperation.mediate({operation:te,context:ee}),ce=W.ActorQueryOperation.getSafeBindings(ne),le=[...Q.variables,...ie.map(ue=>ue.variable)],se=W.ActorQueryOperation.getAsyncExpressionContext(ee);return{type:"bindings",bindingsStream:new F.TransformIterator(()=>new Promise((ue,ae)=>{const de=new J.GroupsState(q,Q,se);ce.bindingsStream.on("end",async()=>{try{const be=new F.ArrayIterator(await de.collectResults(),{autoStart:!1});ue(be)}catch(be){ae(be)}}),ce.bindingsStream.on("error",ae),ce.bindingsStream.on("data",be=>{de.consumeBindings(be).catch(ae)})}),{autoStart:!1}),metadata:async()=>({...await ce.metadata(),variables:le})}}}Z.ActorQueryOperationGroup=Y},"../node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.GroupsState=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("../node_modules/sparqlee/dist/index.js"),J=new F.DataFactory,Y=new W.BindingsFactory;class D{constructor(ee,q,te){this.hashFunction=ee,this.pattern=q,this.sparqleeConfig=te,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(ie=>ie.value)),this.distinctHashes=q.aggregates.some(({distinct:ie})=>ie)?new Map:null,this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(ee){const q=this.resultCheck();if(q)return q;this.waitCounter++;const te=ee.filter((le,se)=>this.groupVariables.has(se.value)),ie=this.hashBindings(te);let ne=this.groupsInitializer.get(ie),ce;if(!ne)ne=(async()=>{const le={};if(await Promise.all(this.pattern.aggregates.map(async pe=>{const ue=pe.variable.value;le[ue]=new U.AsyncAggregateEvaluator(pe,this.sparqleeConfig),await le[ue].put(ee)})),this.distinctHashes){const pe=this.hashBindings(ee);this.distinctHashes.set(ie,new Set([pe]))}const se={aggregators:le,bindings:te};return this.groups.set(ie,se),this.subtractWaitCounterAndCollect(),se})(),this.groupsInitializer.set(ie,ne),ce=ne;else{const le=ne;ce=(async()=>{const se=await le;await Promise.all(this.pattern.aggregates.map(async pe=>{if(pe.distinct){const ae=this.hashBindings(ee);if(this.distinctHashes.get(ie).has(ae))return;this.distinctHashes.get(ie).add(ae)}const ue=pe.variable.value;await se.aggregators[ue].put(ee)}))})().then(()=>{this.subtractWaitCounterAndCollect()})}return ce}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let ee=[...this.groups].map(([q,te])=>{const{bindings:ie,aggregators:ne}=te;let ce=ie;for(const le in ne){const se=ne[le].result();se&&(ce=ce.set(J.variable(le),se))}return ce});if(ee.length===0&&this.groupVariables.size===0){const q=[];for(const te of this.pattern.aggregates){const ie=te.variable,ne=U.AsyncAggregateEvaluator.emptyValue(te);ne!==void 0&&q.push([ie,ne])}ee=[Y.bindings(q)]}this.waitResolver(ee)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const ee=this.resultCheck();if(ee)return ee;this.resultHasBeenCalled=!0;const q=new Promise(te=>{this.waitResolver=te});return this.subtractWaitCounterAndCollect(),q}hashBindings(ee){return this.hashFunction(ee)}}Z.GroupsState=D},"../node_modules/@comunica/actor-query-operation-group/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js"),Z)},"../node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"join")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=(await Promise.all(J.input.map(async Q=>({output:await this.mediatorQueryOperation.mediate({operation:Q,context:Y}),operation:Q})))).map(({output:Q,operation:ee})=>({output:W.ActorQueryOperation.getSafeBindings(Q),operation:ee}));return this.mediatorJoin.mediate({type:"inner",entries:D,context:Y})}}Z.ActorQueryOperationJoin=F},"../node_modules/@comunica/actor-query-operation-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js"),Z)},"../node_modules/@comunica/actor-query-operation-leftjoin/lib/ActorQueryOperationLeftJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationLeftJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/sparqlee/dist/index.js");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"leftjoin")}async testOperation(Y,D){return!0}async runOperation(Y,D){const Q=(await Promise.all(Y.input.map(async q=>({output:await this.mediatorQueryOperation.mediate({operation:q,context:D}),operation:q})))).map(({output:q,operation:te})=>({output:W.ActorQueryOperation.getSafeBindings(q),operation:te})),ee=await this.mediatorJoin.mediate({type:"optional",entries:Q,context:D});if(Y.expression){const te=(await Q[1].output.metadata()).variables,ie={...W.ActorQueryOperation.getAsyncExpressionContext(D)},ne=new F.AsyncEvaluator(Y.expression,ie),ce=ee.bindingsStream.transform({autoStart:!1,transform:async(le,se,pe)=>{if(!te.every(ue=>le.has(ue.value)))return pe(le),se();try{await ne.evaluateAsEBV(le)&&pe(le)}catch(ue){(0,F.isExpressionError)(ue)?this.logWarn(D,"Error occurred while filtering.",()=>({error:ue,bindings:le})):ce.emit("error",ue)}se()}});ee.bindingsStream=ce}return ee}}Z.ActorQueryOperationLeftJoin=U},"../node_modules/@comunica/actor-query-operation-leftjoin/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-leftjoin/lib/ActorQueryOperationLeftJoin.js"),Z)},"../node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationMinus=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"minus")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=(await Promise.all(J.input.map(async Q=>({output:await this.mediatorQueryOperation.mediate({operation:Q,context:Y}),operation:Q})))).map(({output:Q,operation:ee})=>({output:W.ActorQueryOperation.getSafeBindings(Q),operation:ee}));return this.mediatorJoin.mediate({type:"minus",entries:D,context:Y})}}Z.ActorQueryOperationMinus=F},"../node_modules/@comunica/actor-query-operation-minus/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js"),Z)},"../node_modules/@comunica/actor-query-operation-nop/lib/ActorQueryOperationNop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationNop=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("asynciterator"),J=new W.BindingsFactory;class Y extends F.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"nop")}async testOperation(Q,ee){return!0}async runOperation(Q,ee){return{bindingsStream:new U.SingletonIterator(J.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}Z.ActorQueryOperationNop=Y},"../node_modules/@comunica/actor-query-operation-nop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-nop/lib/ActorQueryOperationNop.js"),Z)},"../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/ActorQueryOperationOrderBySparqlee.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationOrderBySparqlee=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs"),U=G("../node_modules/sparqlee/dist/index.js"),J=G("../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/SortIterator.js");class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"orderby"),this.window=Q.window??Number.POSITIVE_INFINITY}async testOperation(Q,ee){for(let q of Q.expressions)q=this.extractSortExpression(q),new U.AsyncEvaluator(q,W.ActorQueryOperation.getAsyncExpressionContext(ee));return!0}async runOperation(Q,ee){const q=await this.mediatorQueryOperation.mediate({operation:Q.input,context:ee}),te=W.ActorQueryOperation.getSafeBindings(q),ie={window:this.window},ne={...W.ActorQueryOperation.getAsyncExpressionContext(ee)};let{bindingsStream:ce}=te;for(let le=Q.expressions.length-1;le>=0;le--){let se=Q.expressions[le];const pe=this.isAscending(se);se=this.extractSortExpression(se);const ue=new U.AsyncEvaluator(se,ne),ae=async(he,Le,Xe)=>{try{const We=await ue.evaluate(he);Xe({bindings:he,result:We})}catch(We){(0,U.isExpressionError)(We)||ce.emit("error",We),Xe({bindings:he,result:void 0})}Le()},de=ce.transform({transform:ae});ce=new J.SortIterator(de,(he,Le)=>(0,U.orderTypes)(he.result,Le.result,pe),ie).map(({bindings:he,result:Le})=>he)}return{type:"bindings",bindingsStream:ce,metadata:te.metadata}}extractSortExpression(Q){const{expressionType:ee,operator:q}=Q;return ee!==F.Algebra.expressionTypes.OPERATOR?Q:q==="desc"?Q.args[0]:Q}isAscending(Q){const{expressionType:ee,operator:q}=Q;return ee!==F.Algebra.expressionTypes.OPERATOR?!0:q!=="desc"}}Z.ActorQueryOperationOrderBySparqlee=Y},"../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/SortIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SortIterator=void 0;const W=G("asynciterator");class F extends W.TransformIterator{constructor(J,Y,D){super(J,D);const Q=D&&D.window;this.windowLength=Number.isFinite(Q)&&Q>0?Q:Number.POSITIVE_INFINITY,this.sort=Y,this.sorted=[]}_read(J,Y){let D,{length:Q}=this.sorted;for(;Q!==this.windowLength&&(D=this.source.read(),D!==null);){let ee=0,q=Q-1,te,ie;for(;ee<=q;)te=Math.trunc((ee+q)/2),ie=this.sort(D,this.sorted[te]),ie<0?ee=te+1:ie>0?q=te-1:(ee=te,q=-1);this.sorted.splice(ee,0,D),Q++}Q===this.windowLength&&this._push(this.sorted.pop()),Y()}_flush(J){let{length:Y}=this.sorted;for(;Y--;)this._push(this.sorted.pop());J()}}Z.SortIterator=F},"../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/ActorQueryOperationOrderBySparqlee.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathAlt=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/actor-query-operation-union/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs");class D extends W.ActorAbstractPath{constructor(ee){super(ee,Y.Algebra.types.ALT)}async runOperation(ee,q){const te=ee.predicate,ie=(await Promise.all(te.input.map(le=>this.mediatorQueryOperation.mediate({context:q,operation:W.ActorAbstractPath.FACTORY.createPath(ee.subject,le,ee.object,ee.graph)})))).map(U.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new J.UnionIterator(ie.map(le=>le.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(ie.map(le=>le.metadata())).then(le=>F.ActorQueryOperationUnion.unionMetadata(le,!0))}}}Z.ActorQueryOperationPathAlt=D},"../node_modules/@comunica/actor-query-operation-path-alt/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathInv=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorAbstractPath{constructor(Y){super(Y,F.Algebra.types.INV)}async runOperation(Y,D){const Q=Y.predicate,ee=W.ActorAbstractPath.FACTORY.createPath(Y.object,Q.path,Y.subject,Y.graph);return this.mediatorQueryOperation.mediate({operation:ee,context:D})}}Z.ActorQueryOperationPathInv=U},"../node_modules/@comunica/actor-query-operation-path-inv/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathLink=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorAbstractPath{constructor(Y){super(Y,F.Algebra.types.LINK)}async runOperation(Y,D){const Q=Y.predicate,ee=W.ActorAbstractPath.FACTORY.createPattern(Y.subject,Q.iri,Y.object,Y.graph);return this.mediatorQueryOperation.mediate({operation:ee,context:D})}}Z.ActorQueryOperationPathLink=U},"../node_modules/@comunica/actor-query-operation-path-link/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathNps=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("sparqlalgebrajs");class J extends W.ActorAbstractPath{constructor(D){super(D,U.Algebra.types.NPS)}async runOperation(D,Q){const ee=D.predicate,q=this.generateVariable(D),te=W.ActorAbstractPath.FACTORY.createPattern(D.subject,q,D.object,D.graph),ie=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:te,context:Q}));return{type:"bindings",bindingsStream:ie.bindingsStream.transform({filter(ce){return!ee.iris.some(le=>le.equals(ce.get(q)))},transform(ce,le,se){se(ce.delete(q)),le()}}),metadata:ie.metadata}}}Z.ActorQueryOperationPathNps=J},"../node_modules/@comunica/actor-query-operation-path-nps/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathOneOrMore=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs"),D=new F.BindingsFactory;class Q extends W.ActorAbstractPath{constructor(q){super(q,Y.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(q,te){const ie=await this.isPathArbitraryLengthDistinct(te,q);if(ie.operation)return ie.operation;te=ie.context;const ne=q.predicate;if(q.subject.termType!=="Variable"&&q.object.termType==="Variable"){const pe=q.object,ue=await this.getObjectsPredicateStarEval(q.subject,ne.path,pe,q.graph,te,!1),ae=q.graph.termType==="Variable"?[pe,q.graph]:[pe];return{type:"bindings",bindingsStream:ue.bindingsStream,metadata:async()=>({...await ue.metadata(),variables:ae})}}if(q.subject.termType==="Variable"&&q.object.termType==="Variable"){const pe=W.ActorAbstractPath.FACTORY.createDistinct(W.ActorAbstractPath.FACTORY.createPath(q.subject,q.predicate.path,q.object,q.graph)),ue=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:te,operation:pe})),ae=q.subject,de=q.object,be={},he=new J.MultiTransformIterator(ue.bindingsStream,{multiTransform:Xe=>{const We=Xe.get(ae),fe=Xe.get(de),Re=q.graph.termType==="Variable"?Xe.get(q.graph):q.graph;return new J.TransformIterator(async()=>{const ye=new J.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(ae,de,We,fe,ne.path,Re,te,be,{},ye,{count:0}),ye.transform({transform(re,Ze,Ge){q.graph.termType==="Variable"&&(re=re.set(q.graph,Re)),Ge(re),Ze()}})},{maxBufferSize:128})},autoStart:!1}),Le=q.graph.termType==="Variable"?[ae,de,q.graph]:[ae,de];return{type:"bindings",bindingsStream:he,metadata:async()=>({...await ue.metadata(),variables:Le})}}if(q.subject.termType==="Variable"&&q.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:te,operation:W.ActorAbstractPath.FACTORY.createPath(q.object,W.ActorAbstractPath.FACTORY.createOneOrMorePath(W.ActorAbstractPath.FACTORY.createInv(ne.path)),q.subject,q.graph)});const ce=this.generateVariable(),le=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:te,operation:W.ActorAbstractPath.FACTORY.createPath(q.subject,ne,ce,q.graph)}));return{type:"bindings",bindingsStream:le.bindingsStream.transform({filter:pe=>q.object.equals(pe.get(ce)),transform(pe,ue,ae){const de=q.graph.termType==="Variable"?D.bindings([[q.graph,pe.get(q.graph)]]):D.bindings();ae(de),ue()}}),metadata:async()=>({...await le.metadata(),variables:q.graph.termType==="Variable"?[q.graph]:[]})}}}Z.ActorQueryOperationPathOneOrMore=Q},"../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathSeq=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("sparqlalgebrajs");class J extends W.ActorAbstractPath{constructor(D){super(D,U.Algebra.types.SEQ)}async runOperation(D,Q){const ee=D.predicate;let q=D.subject;const te=[],ie=await Promise.all(ee.input.map((le,se)=>{const pe=se===ee.input.length-1?D.object:this.generateVariable(D,`b${se}`),ue=W.ActorAbstractPath.FACTORY.createPath(q,le,pe,D.graph),ae=this.mediatorQueryOperation.mediate({context:Q,operation:ue});return q=pe,se<ee.input.length-1&&te.push(pe),{output:ae,operation:ue}}).map(async({output:le,operation:se})=>({output:F.ActorQueryOperation.getSafeBindings(await le),operation:se}))),ne=F.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:ie,context:Q}));return{type:"bindings",bindingsStream:ne.bindingsStream.transform({transform(le,se,pe){for(const ue of te)le=le.delete(ue);pe(le),se()}}),async metadata(){const le=await ne.metadata(),se=le.variables.filter(pe=>!te.some(ue=>ue.value===pe.value));return{...le,variables:se}}}}}Z.ActorQueryOperationPathSeq=J},"../node_modules/@comunica/actor-query-operation-path-seq/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathZeroOrMore=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("../node_modules/rdf-string/index.js"),D=G("sparqlalgebrajs"),Q=new F.BindingsFactory;class ee extends W.ActorAbstractPath{constructor(te){super(te,D.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(te,ie){const ne=await this.isPathArbitraryLengthDistinct(ie,te);if(ne.operation)return ne.operation;ie=ne.context;const ce=te.predicate,le=te.subject.termType==="Variable",se=te.object.termType==="Variable";if(te.subject.termType==="Variable"&&te.object.termType==="Variable"){const he=this.generateVariable(te),Le=W.ActorAbstractPath.FACTORY.createPattern(te.subject,he,te.object,te.graph),Xe=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:ie,operation:Le})),We=te.subject,fe=te.object,Re=new Set,ye={},re=new J.MultiTransformIterator(Xe.bindingsStream,{multiTransform:Ge=>{const ve=Ge.get(We),Te=Ge.get(fe),xe=te.graph.termType==="Variable"?Ge.get(te.graph):te.graph,Ye=(0,Y.termToString)(ve)+(0,Y.termToString)(xe),ge=(0,Y.termToString)(Te)+(0,Y.termToString)(xe);return new J.TransformIterator(async()=>{if(Re.has(Ye)&&Re.has(ge))return new J.EmptyIterator;const Me=new J.BufferedIterator,je={count:0};return Re.has(Ye)||(Re.add(Ye),await this.getSubjectAndObjectBindingsPredicateStar(We,fe,ve,ve,ce.path,xe,ie,ye,{},Me,je)),Re.has(ge)||(Re.add(ge),await this.getSubjectAndObjectBindingsPredicateStar(We,fe,Te,Te,ce.path,xe,ie,ye,{},Me,je)),Me.transform({transform(tt,it,st){te.graph.termType==="Variable"&&(tt=tt.set(te.graph,xe)),st(tt),it()}})})}}),Ze=te.graph.termType==="Variable"?[We,te.object,te.graph]:[We,te.object];return{type:"bindings",bindingsStream:re,metadata:async()=>({...await Xe.metadata(),variables:Ze})}}if(!le&&!se){const he=this.generateVariable(),Le=await this.getObjectsPredicateStarEval(te.subject,ce.path,he,te.graph,ie,!0);return{type:"bindings",bindingsStream:Le.bindingsStream.transform({filter:We=>te.object.equals(We.get(he)),transform(We,fe,Re){const ye=te.graph.termType==="Variable"?Q.bindings([[te.graph,We.get(te.graph)]]):Q.bindings();Re(ye),fe()}}),metadata:async()=>({...await Le.metadata(),variables:te.graph.termType==="Variable"?[te.graph]:[]})}}const pe=le?te.object:te.subject,ue=le?te.subject:te.object,ae=le?W.ActorAbstractPath.FACTORY.createInv(ce.path):ce.path,de=await this.getObjectsPredicateStarEval(pe,ae,ue,te.graph,ie,!0),be=te.graph.termType==="Variable"?[ue,te.graph]:[ue];return{type:"bindings",bindingsStream:de.bindingsStream,metadata:async()=>({...await de.metadata(),variables:be})}}}Z.ActorQueryOperationPathZeroOrMore=ee},"../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathZeroOrOne=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs"),D=new F.BindingsFactory;class Q extends W.ActorAbstractPath{constructor(q){super(q,Y.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(q,te){const ie=q.predicate,ne=q.subject.termType==="Variable",ce=q.object.termType==="Variable",le=[];if(!ne&&!ce&&q.subject.equals(q.object))return{type:"bindings",bindingsStream:new J.SingletonIterator(D.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};if(ne&&ce)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");const se=await this.isPathArbitraryLengthDistinct(te,q);if(se.operation)return se.operation;te=se.context,q.subject.termType==="Variable"&&le.push(D.bindings([[q.subject,q.object]])),q.object.termType==="Variable"&&le.push(D.bindings([[q.object,q.subject]]));const pe=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:te,operation:W.ActorAbstractPath.FACTORY.createPath(q.subject,ie.path,q.object,q.graph)}));return{type:"bindings",bindingsStream:pe.bindingsStream.prepend(le),metadata:pe.metadata}}}Z.ActorQueryOperationPathZeroOrOne=Q},"../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js"),Z)},"../node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationProject=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/data-factory/lib/index.js"),U=G("../node_modules/rdf-data-factory/index.js"),J=new U.DataFactory;class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"project")}async testOperation(Q,ee){return!0}async runOperation(Q,ee){const q=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Q.input,context:ee})),te=await q.metadata(),ie=Q.variables,ne=te.variables.filter(pe=>!ie.some(ue=>pe.value===ue.value)),ce=ie.filter(pe=>!te.variables.some(ue=>pe.value===ue.value));if(ce.length>0)throw new Error(`Variables '${ce.map(pe=>`?${pe.value}`)}' are used in the projection result, but are not assigned.`);let le=ne.length===0?q.bindingsStream:q.bindingsStream.transform({map(pe){for(const ue of ne)pe=pe.delete(ue);return pe},autoStart:!1}),se=0;return le=le.transform({map(pe){se++;const ue=new Map;return pe.map(ae=>{if(ae instanceof F.BlankNodeBindingsScoped){let de=ue.get(ae.value);return de||(de=J.blankNode(`${ae.value}${se}`),ue.set(ae.value,de)),de}return ae})},autoStart:!1}),{type:"bindings",bindingsStream:le,metadata:async()=>({...te,variables:ie})}}}Z.ActorQueryOperationProject=Y},"../node_modules/@comunica/actor-query-operation-project/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js"),Z)},"../node_modules/@comunica/actor-query-operation-quadpattern/lib/ActorQueryOperationQuadpattern.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationQuadpattern=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("../node_modules/rdf-data-factory/index.js"),Y=G("../node_modules/rdf-terms/index.js"),D=G("sparqlalgebrajs"),Q=new W.BindingsFactory,ee=new J.DataFactory,q=new D.Factory;class te extends F.ActorQueryOperationTyped{constructor(ne){super(ne,"pattern")}static isTermVariable(ne){return ne.termType==="Variable"}static getVariables(ne){return(0,Y.uniqTerms)((0,Y.getTerms)(ne).filter(te.isTermVariable))}static getDuplicateElementLinks(ne){const ce={};let le=!1;for(const pe of Y.QUAD_TERM_NAMES)if(ne[pe].termType==="Variable"){const ue=ne[pe].value,ae=(ce[ue]||(ce[ue]=[])).push(pe);le=le||ae>1}if(!le)return;const se={};for(const pe in ce){const ue=ce[pe],ae=ue.slice(1);ae.length>0&&(se[ue[0]]=ae)}return se}static validateMetadata(ne){for(const ce of["cardinality","canContainUndefs"])if(!(ce in ne))throw new Error(`Invalid metadata: missing ${ce} in ${JSON.stringify(ne)}`);return ne}static getMetadata(ne,ce,le){return()=>new Promise((se,pe)=>{ne.getProperty("metadata",ue=>se(ue)),ne.on("error",pe)}).then(se=>("canContainUndefs"in se||(se.canContainUndefs=!1),te.quadsMetadataToBindingsMetadata(te.validateMetadata(se),ce,le)))}static quadsMetadataToBindingsMetadata(ne,ce,le){return{...ne,order:ne.order?te.quadsOrderToBindingsOrder(ne.order,ce):void 0,availableOrders:ne.availableOrders?ne.availableOrders.map(se=>({cost:se.cost,terms:te.quadsOrderToBindingsOrder(se.terms,ce)})):void 0,variables:le}}static quadsOrderToBindingsOrder(ne,ce){const le={};return ne.map(se=>{const pe=ce[se.term];if(pe&&!le[pe])return le[pe]=!0,{term:ee.variable(pe),direction:se.direction}}).filter(se=>!!se)}async testOperation(ne,ce){return!0}async runOperation(ne,ce){ne.context&&(ce=ce.merge(ne.context));let le=ne;const se=this.unionDefaultGraph||ce.get(U.KeysQueryOperation.unionDefaultGraph);ne.graph.termType==="DefaultGraph"&&se&&(le=q.createPattern(ne.subject,ne.predicate,ne.object,ee.variable("__comunica:defaultGraph")));const pe=await this.mediatorResolveQuadPattern.mediate({pattern:le,context:ce}),ue=te.getVariables(ne),ae=(0,Y.reduceTerms)(ne,(Le,Xe,We)=>(Xe.termType==="Variable"&&(Le[We]=Xe.value),Le),{}),de=(Le,Xe,We)=>{const fe=ae[We];return fe&&Le.push([ee.variable(fe),Xe]),Le},be=te.getMetadata(pe.data,ae,ue);return{type:"bindings",bindingsStream:new F.ClosableTransformIterator(async()=>{let Le=pe.data;const Xe=te.getDuplicateElementLinks(ne);return ne.graph.termType==="Variable"&&!se&&(Le=Le.filter(We=>We.graph.termType!=="DefaultGraph")),Xe&&(Le=Le.filter(We=>{for(const fe of Y.TRIPLE_TERM_NAMES)for(const Re of Xe[fe]||[])if(!We[fe].equals(We[Re]))return!1;return!0})),Le.map(We=>Q.bindings((0,Y.reduceTerms)(We,de,[])))},{autoStart:!1,onClose:()=>pe.data.destroy()}),metadata:be}}}Z.ActorQueryOperationQuadpattern=te},"../node_modules/@comunica/actor-query-operation-quadpattern/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-quadpattern/lib/ActorQueryOperationQuadpattern.js"),Z)},"../node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationReducedHash=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/actor-query-operation-reduced-hash/node_modules/lru-cache/index.js");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"reduced")}async testOperation(Y,D){return!0}async runOperation(Y,D){const Q=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Y.input,context:D}));return{type:"bindings",bindingsStream:Q.bindingsStream.filter(await this.newHashFilter(D)),metadata:Q.metadata}}async newHashFilter(Y){const{hashFunction:D}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:Y}),Q=new F({max:this.cacheSize});return ee=>{const q=D(ee);return Q.has(q)?!1:(Q.set(q,!0),!0)}}}Z.ActorQueryOperationReducedHash=U},"../node_modules/@comunica/actor-query-operation-reduced-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js"),Z)},"../node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationService=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=new W.BindingsFactory;class D extends F.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"service")}async testOperation(ee,q){if(ee.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${ee.name.termType} was given.`);return!0}async runOperation(ee,q){const te=ee.name.value;let ie=q.delete(U.KeysRdfResolveQuadPattern.source).delete(U.KeysRdfResolveQuadPattern.sources).delete(U.KeysInitQuery.queryString);const ne=this.forceSparqlEndpoint?"sparql":void 0;ie=ie.set(U.KeysRdfResolveQuadPattern.sources,[{type:ne,value:te}]);let ce;try{ce=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ee.input,context:ie}))}catch(le){if(ee.silent)ce={bindingsStream:new J.SingletonIterator(Y.bindings()),type:"bindings",metadata:async()=>({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};else throw le}return ce}}Z.ActorQueryOperationService=D},"../node_modules/@comunica/actor-query-operation-service/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js"),Z)},"../node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationSlice=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"slice")}async testOperation(Y,D){return!0}async runOperation(Y,D){Y.length&&(D=D.set(F.KeysQueryOperation.limitIndicator,Y.length));const Q=await this.mediatorQueryOperation.mediate({operation:Y.input,context:D});if(Q.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(Q.bindingsStream,Y),metadata:this.sliceMetadata(Q,Y)};if(Q.type==="quads")return{type:"quads",quadStream:this.sliceStream(Q.quadStream,Y),metadata:this.sliceMetadata(Q,Y)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${Q.type}'`)}sliceStream(Y,D){const Q=!!D.length||D.length===0,{start:ee}=D,q=Q?D.start+D.length-1:Number.POSITIVE_INFINITY;return Y.transform({offset:ee,limit:Math.max(q-ee+1,0),autoStart:!1})}sliceMetadata(Y,D){const Q=!!D.length||D.length===0;return()=>Y.metadata().then(ee=>{const q={...ee.cardinality};return Number.isFinite(q.value)&&(q.value=Math.max(0,q.value-D.start),Q&&(q.value=Math.min(q.value,D.length))),{...ee,cardinality:q}})}}Z.ActorQueryOperationSlice=U},"../node_modules/@comunica/actor-query-operation-slice/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js"),Z)},"../node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationUnion=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("asynciterator"),U=G("../node_modules/rdf-terms/index.js");class J extends W.ActorQueryOperationTypedMediated{constructor(D){super(D,"union")}static unionVariables(D){return(0,U.uniqTerms)(D.flat())}static unionMetadata(D,Q){const ee={type:"exact",value:0};for(const te of D)if(te.cardinality.value&&Number.isFinite(te.cardinality.value)||te.cardinality.value===0)te.cardinality.type==="estimate"&&(ee.type="estimate"),ee.value+=te.cardinality.value;else{ee.type="estimate",ee.value=Number.POSITIVE_INFINITY;break}const q={cardinality:ee,canContainUndefs:D.some(te=>te.canContainUndefs)};return Q&&(q.variables=J.unionVariables(D.map(te=>te.variables))),q}async testOperation(D,Q){return!0}async runOperation(D,Q){const ee=(await Promise.all(D.input.map(ie=>this.mediatorQueryOperation.mediate({operation:ie,context:Q})))).map(W.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new F.UnionIterator(ee.map(ie=>ie.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(ee.map(ie=>ie.metadata())).then(ie=>J.unionMetadata(ie,!0))}}}Z.ActorQueryOperationUnion=J},"../node_modules/@comunica/actor-query-operation-union/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/ActorQueryOperationAddRewrite.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationAddRewrite=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("sparqlalgebrajs"),J=new F.DataFactory;class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"add"),this.factory=new U.Factory}async testOperation(Q,ee){return W.ActorQueryOperation.throwOnReadOnly(ee),!0}runOperation(Q,ee){const q=Q.destination==="DEFAULT"?J.defaultGraph():Q.destination,te=Q.source==="DEFAULT"?J.defaultGraph():Q.source,ie=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(J.variable("s"),J.variable("p"),J.variable("o"),q)],this.factory.createPattern(J.variable("s"),J.variable("p"),J.variable("o"),te));return this.mediatorQueryOperation.mediate({operation:ie,context:ee})}}Z.ActorQueryOperationAddRewrite=Y},"../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/ActorQueryOperationAddRewrite.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationClear=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=new F.DataFactory;class J extends W.ActorQueryOperationTypedMediated{constructor(D){super(D,"clear")}async testOperation(D,Q){return W.ActorQueryOperation.throwOnReadOnly(Q),!0}async runOperation(D,Q){let ee;D.source==="DEFAULT"?ee=U.defaultGraph():typeof D.source=="string"?ee=D.source:ee=[D.source];const{execute:q}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:ee,requireExistence:!D.silent,dropGraphs:!1},context:Q});return{type:"void",execute:q}}}Z.ActorQueryOperationClear=J},"../node_modules/@comunica/actor-query-operation-update-clear/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationUpdateCompositeUpdate=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"compositeupdate")}async testOperation(J,Y){return W.ActorQueryOperation.throwOnReadOnly(Y),!0}async runOperation(J,Y){return{type:"void",execute:()=>(async()=>{for(const Q of J.updates)await W.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:Q,context:Y})).execute()})()}}}Z.ActorQueryOperationUpdateCompositeUpdate=F},"../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/ActorQueryOperationCopyRewrite.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationCopyRewrite=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"copy"),this.factory=new F.Factory}async testOperation(Y,D){return W.ActorQueryOperation.throwOnReadOnly(D),!0}runOperation(Y,D){if(typeof Y.destination=="string"&&typeof Y.source=="string"&&Y.destination===Y.source||typeof Y.destination!="string"&&typeof Y.source!="string"&&Y.destination.equals(Y.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const Q=this.factory.createCompositeUpdate([this.factory.createDrop(Y.destination,!0),this.factory.createAdd(Y.source,Y.destination,Y.silent)]);return this.mediatorQueryOperation.mediate({operation:Q,context:D})}}Z.ActorQueryOperationCopyRewrite=U},"../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/ActorQueryOperationCopyRewrite.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationCreate=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"create")}async testOperation(J,Y){return W.ActorQueryOperation.throwOnReadOnly(Y),!0}async runOperation(J,Y){const{execute:D}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[J.source],requireNonExistence:!J.silent},context:Y});return{type:"void",execute:D}}}Z.ActorQueryOperationCreate=F},"../node_modules/@comunica/actor-query-operation-update-create/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationUpdateDeleteInsert=void 0;const W=G("../node_modules/@comunica/actor-query-operation-construct/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=new F.BindingsFactory;class D extends U.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"deleteinsert"),this.blankNodeCounter=0}async testOperation(ee,q){return U.ActorQueryOperation.throwOnReadOnly(q),!0}async runOperation(ee,q){const te=ee.where?U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ee.where,context:q})).bindingsStream:new J.ArrayIterator([Y.bindings()],{autoStart:!1});let ie,ne;ee.insert&&(ie=new W.BindingsToQuadsIterator(ee.insert.map(W.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),te.clone(),!1),this.blankNodeCounter++),ee.delete&&(ne=new W.BindingsToQuadsIterator(ee.delete.map(W.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),te.clone(),!1),this.blankNodeCounter++);const{execute:ce}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:ie,quadStreamDelete:ne,context:q});return{type:"void",execute:ce}}}Z.ActorQueryOperationUpdateDeleteInsert=D},"../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationDrop=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=new F.DataFactory;class J extends W.ActorQueryOperationTypedMediated{constructor(D){super(D,"drop")}async testOperation(D,Q){return W.ActorQueryOperation.throwOnReadOnly(Q),!0}async runOperation(D,Q){let ee;D.source==="DEFAULT"?ee=U.defaultGraph():typeof D.source=="string"?ee=D.source:ee=[D.source];const{execute:q}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:ee,requireExistence:!D.silent,dropGraphs:!0},context:Q});return{type:"void",execute:q}}}Z.ActorQueryOperationDrop=J},"../node_modules/@comunica/actor-query-operation-update-drop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationLoad=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/rdf-data-factory/index.js"),J=G("sparqlalgebrajs"),Y=new U.DataFactory;class D extends W.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"load"),this.factory=new J.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(Y.variable("s"),Y.variable("p"),Y.variable("o")),[this.factory.createPattern(Y.variable("s"),Y.variable("p"),Y.variable("o"))])}async testOperation(ee,q){return W.ActorQueryOperation.throwOnReadOnly(q),!0}async runOperation(ee,q){let te=q.set(F.KeysRdfResolveQuadPattern.sources,[ee.source.value]);ee.silent&&(te=te.set(F.KeysInitQuery.lenient,!0));let ne=D.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:te})).quadStream;ee.destination&&(ne=ne.map(le=>Y.quad(le.subject,le.predicate,le.object,ee.destination)));const{execute:ce}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:ne,context:q});return{type:"void",execute:ce}}}Z.ActorQueryOperationLoad=D},"../node_modules/@comunica/actor-query-operation-update-load/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/ActorQueryOperationMoveRewrite.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationMoveRewrite=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"move"),this.factory=new F.Factory}async testOperation(Y,D){return W.ActorQueryOperation.throwOnReadOnly(D),!0}runOperation(Y,D){if(typeof Y.destination=="string"&&typeof Y.source=="string"&&Y.destination===Y.source||typeof Y.destination!="string"&&typeof Y.source!="string"&&Y.destination.equals(Y.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const Q=[this.factory.createDrop(Y.destination,!0),this.factory.createAdd(Y.source,Y.destination,Y.silent),this.factory.createDrop(Y.source)],ee=this.factory.createCompositeUpdate(Q);return this.mediatorQueryOperation.mediate({operation:ee,context:D})}}Z.ActorQueryOperationMoveRewrite=U},"../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/ActorQueryOperationMoveRewrite.js"),Z)},"../node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationValues=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("asynciterator"),J=G("../node_modules/rdf-data-factory/index.js"),Y=new W.BindingsFactory,D=new J.DataFactory;class Q extends F.ActorQueryOperationTyped{constructor(q){super(q,"values")}async testOperation(q,te){return!0}async runOperation(q,te){const ie=new U.ArrayIterator(q.bindings.map(le=>Y.bindings(Object.entries(le).map(([se,pe])=>[D.variable(se.slice(1)),pe])))),ne=q.variables;return{type:"bindings",bindingsStream:ie,metadata:()=>Promise.resolve({cardinality:{type:"exact",value:q.bindings.length},canContainUndefs:q.bindings.some(le=>ne.some(se=>!(`?${se.value}`in le))),variables:ne})}}}Z.ActorQueryOperationValues=Q},"../node_modules/@comunica/actor-query-operation-values/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js"),Z)},"../node_modules/@comunica/actor-query-parse-sparql/lib/ActorQueryParseSparql.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryParseSparql=void 0;const W=G("../node_modules/@comunica/bus-query-parse/lib/index.js"),F=G("sparqlalgebrajs"),U=G("sparqljs");class J extends W.ActorQueryParse{constructor(D){super(D),this.prefixes=Object.freeze(this.prefixes)}async test(D){if(D.queryFormat&&D.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(D){const ee=new U.Parser({prefixes:this.prefixes,baseIRI:D.baseIRI}).parse(D.query);return{baseIRI:ee.type==="query"?ee.base:void 0,operation:(0,F.translate)(ee,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:D.baseIRI})}}}Z.ActorQueryParseSparql=J},"../node_modules/@comunica/actor-query-parse-sparql/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-parse-sparql/lib/ActorQueryParseSparql.js"),Z)},"../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/ActorRdfJoinEntriesSortCardinality.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinEntriesSortCardinality=void 0;const W=G("../node_modules/@comunica/bus-rdf-join-entries-sort/lib/index.js");class F extends W.ActorRdfJoinEntriesSort{constructor(J){super(J)}async test(J){return!0}async run(J){return{entries:[...J.entries].sort((D,Q)=>D.metadata.cardinality.value-Q.metadata.cardinality.value)}}}Z.ActorRdfJoinEntriesSortCardinality=F},"../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/ActorRdfJoinEntriesSortCardinality.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-hash/lib/ActorRdfJoinHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinHash=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(Y){const D=await W.ActorRdfJoin.getMetadatas(Y.entries),Q=W.ActorRdfJoin.overlappingVariables(D);return{result:{type:"bindings",bindingsStream:new F.HashJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,q=>W.ActorRdfJoin.hash(q,Q),W.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(Y.entries,D,Y.context)}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value+D[1].cardinality.value,persistedItems:D[0].cardinality.value,blockingItems:D[0].cardinality.value,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinHash=U},"../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/ActorRdfJoinHash.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/ActorRdfJoinMultiBind.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMultiBind=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs");class D extends F.ActorRdfJoin{constructor(ee){super(ee,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0})}static createBindStream(ee,q,te,ie,ne){const ce=le=>{const se=te.map(ue=>(0,W.materializeOperation)(ue,le,{bindFilter:!1})),pe=ue=>ue.merge(le);return new J.TransformIterator(async()=>(await ie(se,le)).transform({map:pe}),{maxBufferSize:128,autoStart:!1})};switch(ee){case"depth-first":return new J.MultiTransformIterator(q,{autoStart:!1,multiTransform:ce,optional:ne});case"breadth-first":return new J.UnionIterator(q.transform({map:ce,optional:ne}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${ee}`)}}async sortJoinEntries(ee,q){if(ee.some(le=>le.metadata.canContainUndefs))return ee;const ie={};for(const le of ee)for(const se of le.metadata.variables){let pe=ie[se.value];pe||(pe=0),ie[se.value]=++pe}const ne=[];for(const[le,se]of Object.entries(ie))se>=2&&ne.push(le);if(ne.length===0)throw new Error("Bind join can only join entries with at least one common variable");const ce=[];for(const le of ee){let se=!1;for(const pe of le.metadata.variables)if(ne.includes(pe.value)){se=!0;break}se||ce.push(le)}return(await this.mediatorJoinEntriesSort.mediate({entries:ee,context:q})).entries.sort((le,se)=>{const pe=ce.includes(le),ue=ce.includes(se);return pe===ue?0:pe?1:-1})}async getOutput(ee){const q=await F.ActorRdfJoin.getEntriesWithMetadatas(ee.entries),te=await this.sortJoinEntries(q,ee.context);this.logDebug(ee.context,"First entry for Bind Join: ",()=>({entry:te[0].operation,metadata:te[0].metadata}));for(const[se,pe]of te.entries())se!==0&&pe.output.bindingsStream.close();const ie=te[0].output,ne=[...te];ne.splice(0,1);const ce=ee.context.set(U.KeysQueryOperation.joinLeftMetadata,te[0].metadata).set(U.KeysQueryOperation.joinRightMetadatas,ne.map(se=>se.metadata));return{result:{type:"bindings",bindingsStream:D.createBindStream(this.bindOrder,ie.bindingsStream,ne.map(se=>se.operation),async(se,pe)=>{const ue=se.length===1?se[0]:D.FACTORY.createJoin(se);return W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ue,context:ce?.set(U.KeysQueryOperation.joinBindings,pe)})).bindingsStream},!1),metadata:()=>this.constructResultMetadata(te,te.map(se=>se.metadata),ee.context)},physicalPlanMetadata:{bindIndex:q.indexOf(te[0]),bindOrder:this.bindOrder}}}async getJoinCoefficients(ee,q){const te=await this.sortJoinEntries(ee.entries.map((be,he)=>({...be,metadata:q[he]})),ee.context);q=te.map(be=>be.metadata);const ie=F.ActorRdfJoin.getRequestInitialTimes(q),ne=F.ActorRdfJoin.getRequestItemTimes(q),ce=[...te],le=[...ie],se=[...ne];if(ce.splice(0,1),le.splice(0,1),se.splice(0,1),ce.some(be=>be.operation.type===Y.Algebra.types.EXTEND||be.operation.type===Y.Algebra.types.GROUP))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const pe=await Promise.all(ce.map(async be=>(await this.mediatorJoinSelectivity.mediate({entries:[te[0],be],context:ee.context})).selectivity*this.selectivityModifier)),ue=ce.map((be,he)=>be.metadata.cardinality.value*pe[he]).reduce((be,he)=>be+he,0),ae=le.reduce((be,he,Le)=>be+he*pe[Le],0),de=se.reduce((be,he,Le)=>be+he*pe[Le],0);return{iterations:q[0].cardinality.value*ue,persistedItems:0,blockingItems:0,requestTime:ie[0]+q[0].cardinality.value*(ne[0]+ae+ue*de)}}}Z.ActorRdfJoinMultiBind=D,D.FACTORY=new Y.Factory},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/ActorRdfJoinMultiBind.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/ActorRdfJoinMultiEmpty.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMultiEmpty=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("asynciterator");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"multi-empty"})}async test(Y){if((await W.ActorRdfJoin.getMetadatas(Y.entries)).every(D=>W.ActorRdfJoin.getCardinality(D).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(Y)}async getOutput(Y){for(const D of Y.entries)D.output.bindingsStream.close();return{result:{bindingsStream:new F.ArrayIterator([],{autoStart:!1}),metadata:async()=>({cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:W.ActorRdfJoin.joinVariables(await W.ActorRdfJoin.getMetadatas(Y.entries))}),type:"bindings"}}}async getJoinCoefficients(Y,D){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}Z.ActorRdfJoinMultiEmpty=U},"../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/ActorRdfJoinMultiEmpty.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/ActorRdfJoinMultiSmallest.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMultiSmallest=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("sparqlalgebrajs");class J extends F.ActorRdfJoin{constructor(D){super(D,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0})}async sortJoinEntries(D,Q){return(await this.mediatorJoinEntriesSort.mediate({entries:D,context:Q})).entries}async getOutput(D){const Q=await this.sortJoinEntries(await F.ActorRdfJoin.getEntriesWithMetadatas([...D.entries]),D.context),ee=Q[0],q=Q[1];Q.splice(0,2);const te={output:W.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:D.type,entries:[ee,q],context:D.context})),operation:J.FACTORY.createJoin([ee.operation,q.operation],!1)};return Q.push(te),{result:await this.mediatorJoin.mediate({type:D.type,entries:Q,context:D.context})}}async getJoinCoefficients(D,Q){Q=[...Q],Q=(await this.sortJoinEntries(D.entries.map((ie,ne)=>({...ie,metadata:Q[ne]})),D.context)).map(ie=>ie.metadata);const q=F.ActorRdfJoin.getRequestInitialTimes(Q),te=F.ActorRdfJoin.getRequestItemTimes(Q);return{iterations:Q[0].cardinality.value*Q[1].cardinality.value*Q.slice(2).reduce((ie,ne)=>ie*ne.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:q[0]+Q[0].cardinality.value*te[0]+q[1]+Q[1].cardinality.value*te[1]+Q.slice(2).reduce((ie,ne,ce)=>ie+q.slice(2)[ce]+ne.cardinality.value*te.slice(2)[ce],0)}}}Z.ActorRdfJoinMultiSmallest=J,J.FACTORY=new U.Factory},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/ActorRdfJoinMultiSmallest.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/ActorRdfJoinNestedLoop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinNestedLoop=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(Y){return{result:{type:"bindings",bindingsStream:new F.NestedLoopJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,W.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(Y.entries,await W.ActorRdfJoin.getMetadatas(Y.entries),Y.context)}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value*D[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinNestedLoop=U},"../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/ActorRdfJoinNestedLoop.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-none/lib/ActorRdfJoinNone.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinNone=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("asynciterator"),J=new W.BindingsFactory;class Y extends F.ActorRdfJoin{constructor(Q){super(Q,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(Q){if(Q.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(Q){return{result:{bindingsStream:new U.ArrayIterator([J.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}Z.ActorRdfJoinNone=Y},"../node_modules/@comunica/actor-rdf-join-inner-none/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-none/lib/ActorRdfJoinNone.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-single/lib/ActorRdfJoinSingle.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinSingle=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js");class F extends W.ActorRdfJoin{constructor(J){super(J,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(J){if(J.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(J){return{result:J.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}Z.ActorRdfJoinSingle=F},"../node_modules/@comunica/actor-rdf-join-inner-single/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-single/lib/ActorRdfJoinSingle.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/ActorRdfJoinSymmetricHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinSymmetricHash=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(Y){const D=await W.ActorRdfJoin.getMetadatas(Y.entries),Q=W.ActorRdfJoin.overlappingVariables(D);return{result:{type:"bindings",bindingsStream:new F.SymmetricHashJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,q=>U.hash(q,Q),W.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(Y.entries,D,Y.context)}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value+D[1].cardinality.value,persistedItems:D[0].cardinality.value+D[1].cardinality.value,blockingItems:0,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinSymmetricHash=U},"../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/ActorRdfJoinSymmetricHash.js"),Z)},"../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/ActorRdfJoinMinusHashUndef.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMinusHashUndef=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/BindingsIndex.js");class J extends F.ActorRdfJoin{constructor(D){super(D,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(D){const Q=D.entries[1].output,ee=D.entries[0].output,q=await F.ActorRdfJoin.getMetadatas(D.entries),te=F.ActorRdfJoin.overlappingVariables(q);if(te.length>0){const ie=new U.BindingsIndex(te);return{result:{type:"bindings",bindingsStream:new W.ClosableTransformIterator(async()=>(await new Promise(ce=>{Q.bindingsStream.on("data",le=>ie.add(le)),Q.bindingsStream.on("end",ce)}),ee.bindingsStream.filter(ce=>!ie.contains(ce))),{autoStart:!1,onClose(){Q.bindingsStream.destroy(),ee.bindingsStream.destroy()}}),async metadata(){const ce=await ee.metadata(),le=await ee.metadata();return{...le,canContainUndefs:ce.canContainUndefs||le.canContainUndefs}}}}}return{result:ee}}async getJoinCoefficients(D,Q){const ee=F.ActorRdfJoin.getRequestInitialTimes(Q),q=F.ActorRdfJoin.getRequestItemTimes(Q);return{iterations:(Q[0].cardinality.value+Q[1].cardinality.value)*1.01,persistedItems:Q[0].cardinality.value,blockingItems:Q[0].cardinality.value,requestTime:ee[0]+Q[0].cardinality.value*q[0]+ee[1]+Q[1].cardinality.value*q[1]}}}Z.ActorRdfJoinMinusHashUndef=J},"../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/BindingsIndex.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BindingsIndex=void 0;const W=G("../node_modules/rdf-string/index.js");class F{constructor(J){this.data={},this.keys=J}static hashTerm(J){return J&&J.termType!=="Variable"?(0,W.termToString)(J):""}add(J){if(this.isBindingsValid(J)){let Y=this.data;for(const D of this.keys){const Q=F.hashTerm(J.get(D));let ee=Y[Q];ee||(ee=Y[Q]={}),Y=ee}}}contains(J){return this.isBindingsValid(J)?this.containsRecursive(J,this.keys,[this.data]):!1}isBindingsValid(J){let Y=!1;for(const D of this.keys)if(J.get(D)){Y=!0;break}return Y}containsRecursive(J,Y,D){if(Y.length===0)return!0;let Q;[Q,...Y]=Y;for(const ee of D){const q=F.hashTerm(J.get(Q));if(q){const te=[ee[q],ee[""]].filter(Boolean);if(te.length===0)continue;if(this.containsRecursive(J,Y,te))return!0}else{let te=Object.keys(ee).map(ie=>ee[ie]);if(te.length===0&&(te=[{}]),this.containsRecursive(J,Y,te))return!0}}return!1}}Z.BindingsIndex=F},"../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/ActorRdfJoinMinusHashUndef.js"),Z)},"../node_modules/@comunica/actor-rdf-join-minus-hash/lib/ActorRdfJoinMinusHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMinusHash=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js");class U extends F.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(Y){const D=Y.entries[1].output,Q=Y.entries[0].output,ee=await F.ActorRdfJoin.getMetadatas(Y.entries),q=F.ActorRdfJoin.overlappingVariables(ee);if(q.length>0){const te={};return{result:{type:"bindings",bindingsStream:new W.ClosableTransformIterator(async()=>(await new Promise(ne=>{D.bindingsStream.on("data",ce=>{te[F.ActorRdfJoin.hash(ce,q)]=!0}),D.bindingsStream.on("end",ne)}),Q.bindingsStream.filter(ne=>!te[F.ActorRdfJoin.hash(ne,q)])),{autoStart:!1,onClose(){D.bindingsStream.destroy(),Q.bindingsStream.destroy()}}),metadata:Q.metadata}}}return{result:Q}}async getJoinCoefficients(Y,D){const Q=F.ActorRdfJoin.getRequestInitialTimes(D),ee=F.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value+D[1].cardinality.value,persistedItems:D[0].cardinality.value,blockingItems:D[0].cardinality.value,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinMinusHash=U},"../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/ActorRdfJoinMinusHash.js"),Z)},"../node_modules/@comunica/actor-rdf-join-optional-bind/lib/ActorRdfJoinOptionalBind.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinOptionalBind=void 0;const W=G("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),J=G("../node_modules/@comunica/context-entries/lib/index.js"),Y=G("sparqlalgebrajs");class D extends U.ActorRdfJoin{constructor(ee){super(ee,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0})}async getOutput(ee){ee.entries[1].output.bindingsStream.close();const q=ee.context.set(J.KeysQueryOperation.joinLeftMetadata,await ee.entries[0].output.metadata()).set(J.KeysQueryOperation.joinRightMetadatas,[await ee.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:W.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,ee.entries[0].output.bindingsStream,[ee.entries[1].operation],async(ie,ne)=>{const ce=ie[0];return F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ce,context:q?.set(J.KeysQueryOperation.joinBindings,ne)})).bindingsStream},!0),metadata:async()=>await this.constructResultMetadata(ee.entries,await U.ActorRdfJoin.getMetadatas(ee.entries),ee.context,{canContainUndefs:!0})}}}async getJoinCoefficients(ee,q){const te=U.ActorRdfJoin.getRequestInitialTimes(q),ie=U.ActorRdfJoin.getRequestItemTimes(q);if(ee.entries[1].operation.type===Y.Algebra.types.EXTEND||ee.entries[1].operation.type===Y.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const ne=(await this.mediatorJoinSelectivity.mediate({entries:ee.entries,context:ee.context})).selectivity*this.selectivityModifier;return{iterations:q[0].cardinality.value*q[1].cardinality.value*ne,persistedItems:0,blockingItems:0,requestTime:te[0]+q[0].cardinality.value*ne*(ie[0]+te[1]+q[1].cardinality.value*ie[1])}}}Z.ActorRdfJoinOptionalBind=D},"../node_modules/@comunica/actor-rdf-join-optional-bind/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-optional-bind/lib/ActorRdfJoinOptionalBind.js"),Z)},"../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/ActorRdfJoinOptionalNestedLoop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinOptionalNestedLoop=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(Y){return{result:{type:"bindings",bindingsStream:new F.NestedLoopJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,W.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(Y.entries,await W.ActorRdfJoin.getMetadatas(Y.entries),Y.context,{canContainUndefs:!0})}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value*D[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinOptionalNestedLoop=U},"../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/ActorRdfJoinOptionalNestedLoop.js"),Z)},"../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/ActorRdfJoinSelectivityVariableCounting.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.JoinTypes=Z.ActorRdfJoinSelectivityVariableCounting=void 0;const W=G("../node_modules/@comunica/bus-rdf-join-selectivity/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorRdfJoinSelectivity{constructor(D){super(D)}async test(D){return{accuracy:.5}}static getPatternCost(D){let Q=1;return D.subject.termType==="Variable"&&(Q+=4),(D.predicate.termType==="Variable"||D.type===F.Algebra.types.PATH)&&(Q+=1),D.object.termType==="Variable"&&(Q+=2),D.graph.termType==="Variable"&&(Q+=1),Q/9}static getJoinTypes(D,Q){const ee=[];return D.subject.termType==="Variable"?(D.subject.equals(Q.subject)&&ee.push(J.unboundSS),Q.type==="pattern"&&D.subject.equals(Q.predicate)&&ee.push(J.unboundSP),D.subject.equals(Q.object)&&ee.push(J.unboundSO),D.subject.equals(Q.graph)&&ee.push(J.unboundSG)):(D.subject.equals(Q.subject)&&ee.push(J.boundSS),Q.type==="pattern"&&D.subject.equals(Q.predicate)&&ee.push(J.boundSP),D.subject.equals(Q.object)&&ee.push(J.boundSO),D.subject.equals(Q.graph)&&ee.push(J.boundSG)),D.type==="pattern"&&(D.predicate.termType==="Variable"?(D.predicate.equals(Q.subject)&&ee.push(J.unboundPS),Q.type==="pattern"&&D.predicate.equals(Q.predicate)&&ee.push(J.unboundPP),D.predicate.equals(Q.object)&&ee.push(J.unboundPO),D.predicate.equals(Q.graph)&&ee.push(J.unboundPG)):(D.predicate.equals(Q.subject)&&ee.push(J.boundPS),Q.type==="pattern"&&D.predicate.equals(Q.predicate)&&ee.push(J.boundPP),D.predicate.equals(Q.object)&&ee.push(J.boundPO),D.predicate.equals(Q.graph)&&ee.push(J.boundPG))),D.object.termType==="Variable"?(D.object.equals(Q.subject)&&ee.push(J.unboundOS),Q.type==="pattern"&&D.object.equals(Q.predicate)&&ee.push(J.unboundOP),D.object.equals(Q.object)&&ee.push(J.unboundOO),D.object.equals(Q.graph)&&ee.push(J.unboundOG)):(D.object.equals(Q.subject)&&ee.push(J.boundOS),Q.type==="pattern"&&D.object.equals(Q.predicate)&&ee.push(J.boundOP),D.object.equals(Q.object)&&ee.push(J.boundOO),D.object.equals(Q.graph)&&ee.push(J.boundOG)),D.graph.termType==="Variable"?(D.graph.equals(Q.subject)&&ee.push(J.unboundGS),Q.type==="pattern"&&D.graph.equals(Q.predicate)&&ee.push(J.unboundGP),D.graph.equals(Q.object)&&ee.push(J.unboundGO),D.graph.equals(Q.graph)&&ee.push(J.unboundGG)):(D.graph.equals(Q.subject)&&ee.push(J.boundGS),Q.type==="pattern"&&D.graph.equals(Q.predicate)&&ee.push(J.boundGP),D.graph.equals(Q.object)&&ee.push(J.boundGO),D.graph.equals(Q.graph)&&ee.push(J.boundGG)),ee}static getOperationsPairwiseJoinCost(D,Q){let ee=U.MAX_PAIRWISE_COST;for(const q of U.getJoinTypes(D,Q))switch(q){case J.boundSS:ee-=2*2;break;case J.boundSP:ee-=3*2;break;case J.boundSO:ee-=1*2;break;case J.boundSG:ee-=3*2;break;case J.boundPS:ee-=3*2;break;case J.boundPP:return 1;case J.boundPO:ee-=3*2;break;case J.boundPG:ee-=3*2;break;case J.boundOS:ee-=1*2;break;case J.boundOP:ee-=3*2;break;case J.boundOO:ee-=1*2;break;case J.boundOG:ee-=3*2;break;case J.boundGS:ee-=3*2;break;case J.boundGP:ee-=3*2;break;case J.boundGO:ee-=3*2;break;case J.boundGG:ee-=3*2;break;case J.unboundSS:ee-=2;break;case J.unboundSP:ee-=3;break;case J.unboundSO:ee-=1;break;case J.unboundSG:ee-=3;break;case J.unboundPS:ee-=3;break;case J.unboundPP:ee-=3;break;case J.unboundPO:ee-=3;break;case J.unboundPG:ee-=3;break;case J.unboundOS:ee-=1;break;case J.unboundOP:ee-=3;break;case J.unboundOO:ee-=1;break;case J.unboundOG:ee-=3;break;case J.unboundGS:ee-=3;break;case J.unboundGP:ee-=3;break;case J.unboundGO:ee-=3;break;case J.unboundGG:ee-=3;break}return ee/U.MAX_PAIRWISE_COST}static getOperationsJoinCost(D){const Q=[];for(const te of D)F.Util.recurseOperation(te,{[F.Algebra.types.PATTERN](ie){return Q.push(ie),!1},[F.Algebra.types.PATH](ie){return Q.push(ie),!1}});let ee=0,q=0;for(const te of Q)for(const ie of Q)te!==ie&&(ee+=U.getOperationsPairwiseJoinCost(te,ie),q++);return ee/q*Q.reduce((te,ie)=>te*U.getPatternCost(ie),1)}async run(D){return D.entries.length<=1?{selectivity:1}:{selectivity:U.getOperationsJoinCost(D.entries.map(Q=>Q.operation))}}}Z.ActorRdfJoinSelectivityVariableCounting=U,U.MAX_PAIRWISE_COST=41*2;var J;(function(Y){Y[Y.boundSS=0]="boundSS",Y[Y.boundSP=1]="boundSP",Y[Y.boundSO=2]="boundSO",Y[Y.boundSG=3]="boundSG",Y[Y.boundPS=4]="boundPS",Y[Y.boundPP=5]="boundPP",Y[Y.boundPO=6]="boundPO",Y[Y.boundPG=7]="boundPG",Y[Y.boundOS=8]="boundOS",Y[Y.boundOP=9]="boundOP",Y[Y.boundOO=10]="boundOO",Y[Y.boundOG=11]="boundOG",Y[Y.boundGS=12]="boundGS",Y[Y.boundGP=13]="boundGP",Y[Y.boundGO=14]="boundGO",Y[Y.boundGG=15]="boundGG",Y[Y.unboundSS=16]="unboundSS",Y[Y.unboundSP=17]="unboundSP",Y[Y.unboundSO=18]="unboundSO",Y[Y.unboundSG=19]="unboundSG",Y[Y.unboundPS=20]="unboundPS",Y[Y.unboundPP=21]="unboundPP",Y[Y.unboundPO=22]="unboundPO",Y[Y.unboundPG=23]="unboundPG",Y[Y.unboundOS=24]="unboundOS",Y[Y.unboundOP=25]="unboundOP",Y[Y.unboundOO=26]="unboundOO",Y[Y.unboundOG=27]="unboundOG",Y[Y.unboundGS=28]="unboundGS",Y[Y.unboundGP=29]="unboundGP",Y[Y.unboundGO=30]="unboundGO",Y[Y.unboundGG=31]="unboundGG"})(J=Z.JoinTypes||(Z.JoinTypes={}))},"../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/ActorRdfJoinSelectivityVariableCounting.js"),Z)},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/ActorRdfResolveQuadPatternFederated.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPatternFederated=void 0;const W=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js"),F=G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js");class U extends W.ActorRdfResolveQuadPatternSource{constructor(Y){super(Y),this.emptyPatterns=new Map}async test(Y){if(!(0,W.getContextSources)(Y.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(Y){return new F.FederatedQuadSource(this.mediatorResolveQuadPattern,Y,this.emptyPatterns,this.skipEmptyPatterns)}}Z.ActorRdfResolveQuadPatternFederated=U},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.FederatedQuadSource=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("../node_modules/@comunica/data-factory/lib/index.js"),Y=G("asynciterator"),D=G("../node_modules/rdf-data-factory/index.js"),Q=G("../node_modules/rdf-terms/index.js"),ee=G("sparqlalgebrajs"),q=new D.DataFactory;class te{constructor(ne,ce,le,se){if(this.mediatorResolveQuadPattern=ne,this.sources=ce.get(U.KeysRdfResolveQuadPattern.sources),this.contextDefault=ce.delete(U.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=le,this.sourceIds=ce.get(U.KeysRdfResolveQuadPattern.sourceIds)??new Map,this.skipEmptyPatterns=se,this.algebraFactory=new ee.Factory,this.skipEmptyPatterns)for(const pe of this.sources)this.emptyPatterns.has(pe)||this.emptyPatterns.set(pe,[])}static isTermBound(ne){return ne.termType!=="Variable"}static isSubPatternOf(ne,ce){return(!te.isTermBound(ce.subject)||ce.subject.equals(ne.subject))&&(!te.isTermBound(ce.predicate)||ce.predicate.equals(ne.predicate))&&(!te.isTermBound(ce.object)||ce.object.equals(ne.object))&&(!te.isTermBound(ce.graph)||ce.graph.equals(ne.graph))}static skolemizeTerm(ne,ce){return ne.termType==="BlankNode"?new J.BlankNodeScoped(`bc_${ce}_${ne.value}`,q.namedNode(`${te.SKOLEM_PREFIX}${ce}:${ne.value}`)):ne}static skolemizeQuad(ne,ce){return(0,Q.mapTerms)(ne,le=>te.skolemizeTerm(le,ce))}static deskolemizeTerm(ne,ce){if(ne.termType==="BlankNode"&&"skolemized"in ne&&(ne=ne.skolemized),ne.termType==="NamedNode"&&ne.value.startsWith(te.SKOLEM_PREFIX)){const le=ne.value.indexOf(":",te.SKOLEM_PREFIX.length);if(ne.value.slice(te.SKOLEM_PREFIX.length,le)===ce){const pe=ne.value.slice(le+1,ne.value.length);return q.blankNode(pe)}return null}return ne}static deskolemizeQuad(ne,ce){return(0,Q.mapTerms)(ne,le=>{const se=te.deskolemizeTerm(le,ce);return se||le})}isSourceEmpty(ne,ce){if(!this.skipEmptyPatterns)return!1;const le=this.emptyPatterns.get(ne);if(le){for(const se of le)if(te.isSubPatternOf(ce,se))return!0}return!1}getSourceId(ne){let ce=this.sourceIds.get(ne);return ce===void 0&&(ce=`${this.sourceIds.size}`,this.sourceIds.set(ne,ce)),ce}match(ne,ce,le,se){const pe={cardinality:{type:"exact",value:0},canContainUndefs:!1};let ue=this.sources.length;const ae=(he,Le,Xe,We)=>{this.skipEmptyPatterns&&!he&&Xe&&!this.isSourceEmpty(Le,Xe)&&this.emptyPatterns.get(Le).push(Xe),ue||(We&&this.sources.length===1?be.setProperty("metadata",We):be.setProperty("metadata",pe))},de=Promise.all(this.sources.map(async he=>{const Le=this.getSourceId(he),Xe=te.deskolemizeTerm(ne,Le),We=te.deskolemizeTerm(ce,Le),fe=te.deskolemizeTerm(le,Le),Re=te.deskolemizeTerm(se,Le);let ye,re=(0,F.getDataSourceContext)(he,this.contextDefault);re=re.set(U.KeysRdfResolveQuadPattern.source,he);let Ze;!Xe||!We||!fe||!Re||this.isSourceEmpty(he,ye=this.algebraFactory.createPattern(Xe,We,fe,Re))?(Ze={data:new Y.ArrayIterator([],{autoStart:!1})},Ze.data.setProperty("metadata",{cardinality:0,canContainUndefs:!1})):Ze=await this.mediatorResolveQuadPattern.mediate({pattern:ye,context:re}),Ze.data.getProperty("metadata",ve=>{!ve.cardinality||!Number.isFinite(ve.cardinality.value)?(pe.cardinality.type="estimate",pe.cardinality.value=Number.POSITIVE_INFINITY,ue=0):(ve.cardinality.type==="estimate"&&(pe.cardinality.type="estimate"),pe.cardinality.value+=ve.cardinality.value,ue--),(pe.requestTime||ve.requestTime)&&(pe.requestTime=pe.requestTime||0,ve.requestTime=ve.requestTime||0,pe.requestTime+=ve.requestTime),(pe.pageSize||ve.pageSize)&&(pe.pageSize=pe.pageSize||0,ve.pageSize=ve.pageSize||0,pe.pageSize+=ve.pageSize),ve.canContainUndefs&&(pe.canContainUndefs=!0),ae(pe.cardinality.value,he,ye,ve)});const Ge=Ze.data.map(ve=>te.skolemizeQuad(ve,Le));return Ge.on("error",ve=>be.emit("error",ve)),Ge})),be=new W.ClosableTransformIterator(async()=>new Y.UnionIterator(await de),{autoStart:!1,onClose(){de.then(he=>{for(const Le of he)Le.destroy()},()=>{})}});return this.sources.length===0&&be.setProperty("metadata",pe),be}}Z.FederatedQuadSource=te,te.SKOLEM_PREFIX="urn:comunica_skolem:source_"},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/ActorRdfResolveQuadPatternFederated.js"),Z),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js"),Z)},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/ActorRdfResolveQuadPatternRdfJsSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPatternRdfJsSource=void 0;const W=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js"),F=G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js");class U extends W.ActorRdfResolveQuadPatternSource{constructor(Y){super(Y)}async test(Y){if(!(0,W.hasContextSingleSourceOfType)("rdfjsSource",Y.context))throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);const D=(0,W.getContextSource)(Y.context);if(!D||typeof D=="string"||!("match"in D)&&!D.value.match)throw new Error(`${this.name} received an invalid rdfjsSource.`);return!0}async getSource(Y){const D=(0,W.getContextSource)(Y);return new F.RdfJsQuadSource("match"in D?D:D.value)}}Z.ActorRdfResolveQuadPatternRdfJsSource=U},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/IRdfJsSourceExtended.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RdfJsQuadSource=void 0;const W=G("asynciterator");class F{constructor(J){this.source=J}static nullifyVariables(J){return!J||J.termType==="Variable"?void 0:J}match(J,Y,D,Q){const ee=this.source.match(F.nullifyVariables(J),F.nullifyVariables(Y),F.nullifyVariables(D),F.nullifyVariables(Q)),q=(0,W.wrap)(ee,{autoStart:!1});return this.setMetadata(q,J,Y,D,Q).catch(te=>q.destroy(te)),q}async setMetadata(J,Y,D,Q,ee){let q;if(this.source.countQuads)q=await this.source.countQuads(F.nullifyVariables(Y),F.nullifyVariables(D),F.nullifyVariables(Q),F.nullifyVariables(ee));else{let te=0;q=await new Promise((ie,ne)=>{const ce=this.source.match(F.nullifyVariables(Y),F.nullifyVariables(D),F.nullifyVariables(Q),F.nullifyVariables(ee));ce.on("error",ne),ce.on("end",()=>ie(te)),ce.on("data",()=>te++)})}J.setProperty("metadata",{cardinality:{type:"exact",value:q},canContainUndefs:!1})}}Z.RdfJsQuadSource=F},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/ActorRdfResolveQuadPatternRdfJsSource.js"),Z),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/IRdfJsSourceExtended.js"),Z),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js"),Z)},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfUpdateQuadsRdfJsStore=void 0;const W=G("../node_modules/@comunica/bus-rdf-update-quads/lib/index.js"),F=G("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js");class U extends W.ActorRdfUpdateQuadsDestination{constructor(Y){super(Y)}async test(Y){const D=(0,W.getContextDestination)(Y.context);if(!D||typeof D=="string"||!("remove"in D)&&"value"in D&&!D.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(Y){const D=(0,W.getContextDestination)(Y);return new F.RdfJsQuadDestination("remove"in D?D:D.value)}}Z.ActorRdfUpdateQuadsRdfJsStore=U},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RdfJsQuadDestination=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=G("../node_modules/rdf-string/index.js"),U=new W.DataFactory;class J{constructor(D){this.store=D}promisifyEventEmitter(D){return new Promise((Q,ee)=>{D.on("end",Q),D.on("error",ee)})}delete(D){return this.promisifyEventEmitter(this.store.remove(D))}insert(D){return this.promisifyEventEmitter(this.store.import(D))}async deleteGraphs(D,Q,ee){switch(D){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(U.defaultGraph()));case"NAMED":const q=this.store.match(),te={};q.on("data",ie=>{ie.graph.termType!=="DefaultGraph"&&(te[(0,F.termToString)(ie.graph)]=!0)}),await this.promisifyEventEmitter(q),await Promise.all(Object.keys(te).map(ie=>this.promisifyEventEmitter(this.store.deleteGraph((0,F.stringToTerm)(ie)))));break;default:for(const ie of Array.isArray(D)?D:[D])await this.promisifyEventEmitter(this.store.deleteGraph(ie))}}async createGraphs(D,Q){if(Q)for(const ee of D){const q=this.store.match(void 0,void 0,void 0,ee);await new Promise((te,ie)=>{q.once("data",()=>{ie(new Error(`Unable to create graph ${ee.value} as it already exists`))}),q.on("end",te),q.on("error",ie)})}}}Z.RdfJsQuadDestination=J},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js"),Z)},"../node_modules/@comunica/bindings-factory/lib/Bindings.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Bindings=void 0;const W=G("../packages/immutable/dist/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/bindingsToString.js");class U{constructor(Y,D){this.type="bindings",this.dataFactory=Y,this.entries=D}has(Y){return this.entries.has(typeof Y=="string"?Y:Y.value)}get(Y){return this.entries.get(typeof Y=="string"?Y:Y.value)}set(Y,D){return new U(this.dataFactory,this.entries.set(typeof Y=="string"?Y:Y.value,D))}delete(Y){return new U(this.dataFactory,this.entries.delete(typeof Y=="string"?Y:Y.value))}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),Y=>this.dataFactory.variable(Y))}values(){return this.iteratorToIterable(this.entries.values())}forEach(Y){this.entries.forEach((D,Q)=>Y(D,this.dataFactory.variable(Q)))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([Y,D])=>[this.dataFactory.variable(Y),D])[Symbol.iterator]()}equals(Y){if(!Y)return!1;if(this===Y)return!0;if(this.size!==Y.size)return!1;for(const D of this.keys())if(!this.get(D)?.equals(Y.get(D)))return!1;return!0}filter(Y){return new U(this.dataFactory,(0,W.Map)(this.entries.filter((D,Q)=>Y(D,this.dataFactory.variable(Q)))))}map(Y){return new U(this.dataFactory,(0,W.Map)(this.entries.map((D,Q)=>Y(D,this.dataFactory.variable(Q)))))}merge(Y){const D=new Set([...this.iteratorToIterable(this.entries.keys()),...[...Y.keys()].map(ee=>ee.value)]),Q=[];for(const ee of D){const q=this.entries.get(ee),te=Y.get(this.dataFactory.variable(ee));if(q&&te&&!q.equals(te))return;const ie=q||te;Q.push([ee,ie])}return new U(this.dataFactory,(0,W.Map)(Q))}mergeWith(Y,D){const Q=new Set([...this.iteratorToIterable(this.entries.keys()),...[...D.keys()].map(q=>q.value)]),ee=[];for(const q of Q){const te=this.dataFactory.variable(q),ie=this.entries.get(q),ne=D.get(te);let ce;ie&&ne&&!ie.equals(ne)?ce=Y(ie,ne,te):ce=ie||ne,ee.push([q,ce])}return new U(this.dataFactory,(0,W.Map)(ee))}toString(){return(0,F.bindingsToString)(this)}*mapIterable(Y,D){for(const Q of Y)yield D(Q)}iteratorToIterable(Y){return{[Symbol.iterator]:()=>Y}}}Z.Bindings=U},"../node_modules/@comunica/bindings-factory/lib/BindingsFactory.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BindingsFactory=void 0;const W=G("../packages/immutable/dist/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("../node_modules/@comunica/bindings-factory/lib/Bindings.js");class J{constructor(D=new F.DataFactory){this.dataFactory=D}bindings(D=[]){return new U.Bindings(this.dataFactory,(0,W.Map)(D.map(([Q,ee])=>[Q.value,ee])))}fromBindings(D){return this.bindings([...D])}fromRecord(D){return this.bindings(Object.entries(D).map(([Q,ee])=>[this.dataFactory.variable(Q),ee]))}}Z.BindingsFactory=J},"../node_modules/@comunica/bindings-factory/lib/bindingsToString.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.bindingsToString=void 0;const W=G("../node_modules/rdf-string/index.js");function F(U){const J={};for(const Y of U.keys())J[Y.value]=(0,W.termToString)(U.get(Y));return JSON.stringify(J,null,"  ")}Z.bindingsToString=F},"../node_modules/@comunica/bindings-factory/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bindings-factory/lib/Bindings.js"),Z),F(G("../node_modules/@comunica/bindings-factory/lib/BindingsFactory.js"),Z),F(G("../node_modules/@comunica/bindings-factory/lib/bindingsToString.js"),Z)},"../node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorContextPreprocess=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorContextPreprocess=F},"../node_modules/@comunica/bus-context-preprocess/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js"),Z)},"../node_modules/@comunica/bus-hash-bindings/lib/ActorHashBindings.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorHashBindings=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorHashBindings=F},"../node_modules/@comunica/bus-hash-bindings/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-hash-bindings/lib/ActorHashBindings.js"),Z)},"../node_modules/@comunica/bus-init/lib/ActorInit.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorInit=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorInit=F},"../node_modules/@comunica/bus-init/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-init/lib/ActorInit.js"),Z)},"../node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperation=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorOptimizeQueryOperation=F},"../node_modules/@comunica/bus-optimize-query-operation/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js"),Z)},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperation=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js"),F=G("../node_modules/@comunica/core/lib/index.js"),U=G("../node_modules/@comunica/data-factory/lib/index.js"),J=G("../node_modules/@comunica/bus-query-operation/lib/Bindings.js");let Y=0;class D extends F.Actor{constructor(ee){super(ee)}static getSafeBindings(ee){return D.validateQueryOutput(ee,"bindings"),ee}static getSafeQuads(ee){return D.validateQueryOutput(ee,"quads"),ee}static getSafeBoolean(ee){return D.validateQueryOutput(ee,"boolean"),ee}static getSafeVoid(ee){return D.validateQueryOutput(ee,"void"),ee}static cachifyMetadata(ee){let q;return()=>q||(q=ee())}static validateQueryOutput(ee,q){if(ee.type!==q)throw new Error(`Invalid query output type: Expected '${q}' but got '${ee.type}'`)}static getBaseExpressionContext(ee){const q=ee.get(W.KeysInitQuery.queryTimestamp),te=ee.get(W.KeysInitQuery.baseIRI),ie=ee.get(W.KeysInitQuery.functionArgumentsCache)||{};if(ee.has(W.KeysInitQuery.extensionFunctionCreator)&&ee.has(W.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let ne=ee.get(W.KeysInitQuery.extensionFunctionCreator);const ce=ee.get(W.KeysInitQuery.extensionFunctions);return ce&&(ne=le=>ce[le.value]),{now:q,baseIRI:te,extensionFunctionCreator:ne,functionArgumentsCache:ie}}static getExpressionContext(ee,q){return{...this.getBaseExpressionContext(ee),bnode:te=>new U.BlankNodeBindingsScoped(te||`BNODE_${Y++}`)}}static getAsyncExpressionContext(ee,q){const te={...this.getBaseExpressionContext(ee),bnode:ie=>Promise.resolve(new U.BlankNodeBindingsScoped(ie||`BNODE_${Y++}`))};return q&&(te.exists=D.createExistenceResolver(ee,q)),te}static createExistenceResolver(ee,q){return async(te,ie)=>{const ne=(0,J.materializeOperation)(te.input,ie),ce=await q.mediate({operation:ne,context:ee}),le=D.getSafeBindings(ce);return new Promise((se,pe)=>{le.bindingsStream.on("end",()=>{se(!1)}),le.bindingsStream.on("error",pe),le.bindingsStream.on("data",()=>{le.bindingsStream.close(),se(!0)})}).then(se=>te.not?!se:se)}}static throwOnReadOnly(ee){if(ee.get(W.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}}Z.ActorQueryOperation=D},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationTyped=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js");class U extends F.ActorQueryOperation{constructor(Y,D){if(super({...Y,operationName:D}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(Y){if(!Y.operation)throw new Error("Missing field 'operation' in a query operation action.");if(Y.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${Y.operation.type}`);const D=Y.operation;return this.testOperation(D,Y.context)}async run(Y){const D=Y.context.get(W.KeysInitQuery.physicalQueryPlanLogger);D&&(D.logOperation(Y.operation.type,void 0,Y.operation,Y.context.get(W.KeysInitQuery.physicalQueryPlanNode),this.name,{}),Y.context=Y.context.set(W.KeysInitQuery.physicalQueryPlanNode,Y.operation));const Q=Y.operation,ee=Y.context.set(W.KeysQueryOperation.operation,Q),q=await this.runOperation(Q,ee);return"metadata"in q&&(q.metadata=F.ActorQueryOperation.cachifyMetadata(q.metadata)),q}}Z.ActorQueryOperationTyped=U},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationTypedMediated=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js");class F extends W.ActorQueryOperationTyped{constructor(J,Y){super(J,Y)}}Z.ActorQueryOperationTypedMediated=F},"../node_modules/@comunica/bus-query-operation/lib/Bindings.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.materializeOperation=Z.materializeTerm=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/rdf-string/index.js"),U=G("sparqlalgebrajs"),J=new W.BindingsFactory;function Y(Q,ee){if(Q.termType==="Variable"){const q=ee.get(Q);if(q)return q}return Q}Z.materializeTerm=Y;function D(Q,ee,q={}){return q={strictTargetVariables:"strictTargetVariables"in q?q.strictTargetVariables:!1,bindFilter:"bindFilter"in q?q.bindFilter:!0},U.Util.mapOperation(Q,{path(te,ie){return{recurse:!1,result:ie.createPath(Y(te.subject,ee),te.predicate,Y(te.object,ee),Y(te.graph,ee))}},pattern(te,ie){return{recurse:!1,result:ie.createPattern(Y(te.subject,ee),Y(te.predicate,ee),Y(te.object,ee),Y(te.graph,ee))}},extend(te){if(ee.has(te.variable)){if(q.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,F.termToString)(te.variable)} in a BIND operator.`);return{recurse:!0,result:D(te.input,ee,q)}}return{recurse:!0,result:te}},group(te,ie){if(q.strictTargetVariables){for(const ce of te.variables)if(ee.has(ce))throw new Error(`Tried to bind variable ${(0,F.termToString)(ce)} in a GROUP BY operator.`);return{recurse:!0,result:te}}const ne=te.variables.filter(ce=>!ee.has(ce));return{recurse:!0,result:ie.createGroup(te.input,ne,te.aggregates)}},project(te,ie){if(q.strictTargetVariables){for(const le of te.variables)if(ee.has(le))throw new Error(`Tried to bind variable ${(0,F.termToString)(le)} in a SELECT operator.`);return{recurse:!0,result:te}}const ne=te.variables.filter(le=>!ee.has(le)),ce=J.bindings(te.variables.map(le=>{const se=ee.get(le);if(se)return[le,se]}).filter(le=>!!le));return{recurse:!1,result:ie.createProject(D(te.input,ce,q),ne)}},values(te,ie){if(q.strictTargetVariables){for(const ne of te.variables)if(ee.has(ne))throw new Error(`Tried to bind variable ${(0,F.termToString)(ne)} in a VALUES operator.`)}else{const ne=te.variables.filter(le=>!ee.has(le)),ce=te.bindings.map(le=>{const se={...le};let pe=!0;return ee.forEach((ue,ae)=>{const de=(0,F.termToString)(ae);de in se&&(ue.equals(se[de])||(pe=!1),delete se[de])}),pe?se:void 0}).filter(Boolean);return{recurse:!0,result:ie.createValues(ne,ce)}}return{recurse:!1,result:te}},expression(te,ie){if(!q.bindFilter)return{recurse:!1,result:te};if(te.expressionType==="term")return{recurse:!1,result:ie.createTermExpression(Y(te.term,ee))};if(te.expressionType==="aggregate"&&"variable"in te&&ee.has(te.variable)){if(q.strictTargetVariables)throw new Error(`Tried to bind ${(0,F.termToString)(te.variable)} in a ${te.aggregator} aggregate.`);return{recurse:!0,result:te}}return{recurse:!0,result:te}}})}Z.materializeOperation=D},"../node_modules/@comunica/bus-query-operation/lib/BusQueryOperation.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BusQueryOperation=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.BusIndexed{constructor(J){super({...J,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}Z.BusQueryOperation=F},"../node_modules/@comunica/bus-query-operation/lib/ClosableTransformIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ClosableTransformIterator=void 0;const W=G("asynciterator");class F extends W.TransformIterator{constructor(J,Y){super(J,Y),this.onClose=Y.onClose}_end(J){this.onClose(),super._end(J)}}Z.ClosableTransformIterator=F},"../node_modules/@comunica/bus-query-operation/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/Bindings.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/BusQueryOperation.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/ClosableTransformIterator.js"),Z)},"../node_modules/@comunica/bus-query-parse/lib/ActorQueryParse.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryParse=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorQueryParse=F},"../node_modules/@comunica/bus-query-parse/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-query-parse/lib/ActorQueryParse.js"),Z)},"../node_modules/@comunica/bus-rdf-join-entries-sort/lib/ActorRdfJoinEntriesSort.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinEntriesSort=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfJoinEntriesSort=F},"../node_modules/@comunica/bus-rdf-join-entries-sort/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-join-entries-sort/lib/ActorRdfJoinEntriesSort.js"),Z)},"../node_modules/@comunica/bus-rdf-join-selectivity/lib/ActorRdfJoinSelectivity.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinSelectivity=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfJoinSelectivity=F},"../node_modules/@comunica/bus-rdf-join-selectivity/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-join-selectivity/lib/ActorRdfJoinSelectivity.js"),Z)},"../node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/@comunica/core/lib/index.js"),J=G("../node_modules/rdf-data-factory/index.js"),Y=G("../node_modules/rdf-string/index.js"),D=new J.DataFactory;class Q extends U.Actor{constructor(q,te){super(q),this.includeInLogs=!0,this.logicalType=te.logicalType,this.physicalName=te.physicalName,this.limitEntries=te.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=te.limitEntriesMin??!1,this.canHandleUndefs=te.canHandleUndefs??!1}static hash(q,te){return te.filter(ie=>q.has(ie)).map(ie=>(0,Y.termToString)(q.get(ie))).join("")}static overlappingVariables(q){const te=q.map(ne=>ne.variables);let ie=te[0];for(const ne of te.slice(1))ie=ie.filter(ce=>ne.some(le=>le.value===ce.value));return ie}static joinVariables(q){return[...new Set(q.flatMap(te=>te.variables.map(ie=>ie.value)))].map(te=>D.variable(te))}static joinBindings(...q){if(q.length===0)return null;if(q.length===1)return q[0];let te=q[0];for(const ie of q.slice(1)){const ne=te.merge(ie);if(!ne)return null;te=ne}return te}static getCardinality(q){return q.cardinality}static async getMetadatas(q){return await Promise.all(q.map(te=>te.output.metadata()))}static async getEntriesWithMetadatas(q){const te=await Q.getMetadatas(q);return q.map((ie,ne)=>({...ie,metadata:te[ne]}))}static getRequestInitialTimes(q){return q.map(te=>te.pageSize?0:te.requestTime||0)}static getRequestItemTimes(q){return q.map(te=>te.pageSize?(te.requestTime||0)/te.pageSize:0)}async constructResultMetadata(q,te,ie,ne={}){let ce;return ne.cardinality?ce=ne.cardinality:(ce=te.reduce((le,se)=>{const pe=Q.getCardinality(se);return{type:pe.type==="estimate"?"estimate":le.type,value:le.value*pe.value}},{type:"exact",value:1}),ce.value*=(await this.mediatorJoinSelectivity.mediate({entries:q,context:ie})).selectivity),{...ne,cardinality:{type:ce.type,value:ce.value},canContainUndefs:ne.canContainUndefs??te.some(le=>le.canContainUndefs),variables:Q.joinVariables(te)}}async test(q){if(q.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${q.type}' was given.`);if(q.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?q.entries.length<this.limitEntries:q.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${q.entries.length}.`);for(const ie of q.entries)if(ie.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${ie.output.type}'`);const te=await Q.getMetadatas(q.entries);if(!this.canHandleUndefs){for(const ie of te)if(ie.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(q,te)}async run(q){let te;q.context.has(F.KeysInitQuery.physicalQueryPlanLogger)&&(te=q.context.get(F.KeysInitQuery.physicalQueryPlanNode),q.context=q.context.set(F.KeysInitQuery.physicalQueryPlanNode,q));const ie=q.context.get(F.KeysInitQuery.physicalQueryPlanLogger);let ne;this.includeInLogs&&ie&&(ne={},ie.logOperation(`join-${this.logicalType}`,this.physicalName,q,te,this.name,ne));const{result:ce,physicalPlanMetadata:le}=await this.getOutput(q),se=await Q.getMetadatas(q.entries);return ne&&(Object.assign(ne,le),ne.cardinalities=se.map(Q.getCardinality),ne.joinCoefficients=await this.getJoinCoefficients(q,se)),ce.metadata=W.ActorQueryOperation.cachifyMetadata(ce.metadata),ce}}Z.ActorRdfJoin=Q},"../node_modules/@comunica/bus-rdf-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js"),Z)},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPattern=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfResolveQuadPattern=F},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPatternSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPatternSource=void 0;const W=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js");class F extends W.ActorRdfResolveQuadPattern{constructor(J){super(J)}async test(J){return!0}async run(J){const Y=await this.getSource(J.context,J.pattern);return await this.getOutput(Y,J.pattern,J.context)}async getOutput(J,Y,D){return{data:J.match(Y.subject,Y.predicate,Y.object,Y.graph,D)}}}Z.ActorRdfResolveQuadPatternSource=F},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js"),Z),F(G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPatternSource.js"),Z),F(G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/utils.js"),Z)},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/utils.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.hasContextSingleSourceOfType=Z.hasContextSingleSource=Z.getContextSourceUrl=Z.getContextSourceFirst=Z.getContextSource=Z.getContextSources=Z.getDataSourceContext=Z.getDataSourceValue=Z.getDataSourceType=Z.isDataSourceRawType=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js");function F(ne){return typeof ne=="string"||"match"in ne}Z.isDataSourceRawType=F;function U(ne){return typeof ne=="string"?"":"match"in ne?"rdfjsSource":ne.type}Z.getDataSourceType=U;function J(ne){return F(ne)?ne:ne.value}Z.getDataSourceValue=J;function Y(ne,ce){return typeof ne=="string"||"match"in ne||!ne.context?ce:ce.merge(ne.context)}Z.getDataSourceContext=Y;function D(ne){return ne.get(W.KeysRdfResolveQuadPattern.sources)}Z.getContextSources=D;function Q(ne){return ne.get(W.KeysRdfResolveQuadPattern.source)}Z.getContextSource=Q;function ee(ne){if(ne.has(W.KeysRdfResolveQuadPattern.source))return ne.get(W.KeysRdfResolveQuadPattern.source);const ce=ne.get(W.KeysRdfResolveQuadPattern.sources);if(ce?.length===1)return ce[0]}Z.getContextSourceFirst=ee;function q(ne){if(ne){let ce=J(ne);if(typeof ce=="string"){const le=ce.indexOf("#");return le>=0&&(ce=ce.slice(0,le)),ce}}}Z.getContextSourceUrl=q;function te(ne){const ce=Q(ne);return!!(ce&&(F(ce)||ce.value))}Z.hasContextSingleSource=te;function ie(ne,ce){const le=Q(ce);return!!(le&&U(le)===ne&&J(le))}Z.hasContextSingleSourceOfType=ie},"../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfUpdateQuads=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfUpdateQuads=F},"../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfUpdateQuadsDestination=Z.deskolemize=Z.deskolemizeStream=void 0;const W=G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js");function J(Q,ee){return Q?.map(q=>W.FederatedQuadSource.deskolemizeQuad(q,ee))}Z.deskolemizeStream=J;function Y(Q){const ee=Q.context.get(F.KeysRdfUpdateQuads.destination),q=Q.context.get(F.KeysRdfResolveQuadPattern.sourceIds)?.get(ee);return q?{...Q,quadStreamInsert:J(Q.quadStreamInsert,q),quadStreamDelete:J(Q.quadStreamDelete,q)}:Q}Z.deskolemize=Y;class D extends U.ActorRdfUpdateQuads{async test(ee){return!0}async run(ee){const q=await this.getDestination(ee.context);return await this.getOutput(q,Y(ee),ee.context)}async getOutput(ee,q,te){return{execute:()=>Promise.all([q.quadStreamInsert?ee.insert(q.quadStreamInsert):Promise.resolve(),q.quadStreamDelete?ee.delete(q.quadStreamDelete):Promise.resolve(),q.deleteGraphs?ee.deleteGraphs(q.deleteGraphs.graphs,q.deleteGraphs.requireExistence,q.deleteGraphs.dropGraphs):Promise.resolve(),q.createGraphs?ee.createGraphs(q.createGraphs.graphs,q.createGraphs.requireNonExistence):Promise.resolve()]).then(()=>{})}}}Z.ActorRdfUpdateQuadsDestination=D},"../node_modules/@comunica/bus-rdf-update-quads/lib/IQuadDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.validateHttpResponse=void 0;const W=G("./require-empty.js"),F=G("../node_modules/stream-to-string/index.js");async function U(J,Y){if(Y.status>=400){let D="empty response";if(Y.body){const Q=W.ActorHttp.toNodeReadable(Y.body);D=await F(Q)}throw new Error(`Could not update ${J} (HTTP status ${Y.status}):
${D}`)}await Y.body?.cancel()}Z.validateHttpResponse=U},"../node_modules/@comunica/bus-rdf-update-quads/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js"),Z),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js"),Z),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/IQuadDestination.js"),Z),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/utils.js"),Z)},"../node_modules/@comunica/bus-rdf-update-quads/lib/utils.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getContextDestinationUrl=Z.getContextDestinationFirst=Z.getContextDestination=Z.getDataDestinationContext=Z.getDataDestinationValue=Z.getDataDestinationType=Z.isDataDestinationRawType=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js");function F(q){return typeof q=="string"||"remove"in q}Z.isDataDestinationRawType=F;function U(q){return typeof q=="string"?"":"remove"in q?"rdfjsStore":q.type}Z.getDataDestinationType=U;function J(q){return F(q)?q:q.value}Z.getDataDestinationValue=J;function Y(q,te){return typeof q=="string"||"remove"in q||!q.context?te:te.merge(q.context)}Z.getDataDestinationContext=Y;function D(q){return q.get(W.KeysRdfUpdateQuads.destination)}Z.getContextDestination=D;function Q(q){if(q.has(W.KeysRdfUpdateQuads.destination))return q.get(W.KeysRdfUpdateQuads.destination)}Z.getContextDestinationFirst=Q;function ee(q){if(q){let te=J(q);if(typeof te=="string"){const ie=te.indexOf("#");return ie>=0&&(te=te.slice(0,ie)),te}}}Z.getContextDestinationUrl=ee},"../node_modules/@comunica/context-entries/lib/Keys.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.KeysRdfUpdateQuads=Z.KeysRdfResolveQuadPattern=Z.KeysRdfParseHtmlScript=Z.KeysRdfParseJsonLd=Z.KeysQueryOperation=Z.KeysInitQuery=Z.KeysHttpProxy=Z.KeysHttpMemento=Z.KeysHttpWayback=Z.KeysHttp=Z.KeysCore=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");Z.KeysCore={log:W.CONTEXT_KEY_LOGGER},Z.KeysHttp={includeCredentials:new W.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new W.ActionContextKey("@comunica/bus-http:auth"),fetch:new W.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new W.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new W.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new W.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new W.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new W.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")},Z.KeysHttpWayback={recoverBrokenLinks:new W.ActionContextKey("@comunica/bus-http:recover-broken-links")},Z.KeysHttpMemento={datetime:new W.ActionContextKey("@comunica/actor-http-memento:datetime")},Z.KeysHttpProxy={httpProxyHandler:new W.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Z.KeysInitQuery={initialBindings:new W.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new W.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new W.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new W.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new W.ActionContextKey("@comunica/actor-init-query:queryString"),query:new W.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new W.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new W.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new W.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new W.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new W.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new W.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new W.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new W.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new W.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new W.ActionContextKey("@context")},Z.KeysQueryOperation={operation:new W.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new W.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new W.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new W.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new W.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new W.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new W.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new W.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),localizeBlankNodes:new W.ActionContextKey("@comunica/actor-query-operation:localizeBlankNodes")},Z.KeysRdfParseJsonLd={documentLoader:new W.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new W.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new W.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Z.KeysRdfParseHtmlScript={processingHtmlScript:new W.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new W.ActionContextKey("extractAllScripts")},Z.KeysRdfResolveQuadPattern={sources:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sources"),source:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:source"),sourceIds:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sourceIds"),hypermediaSourcesAggregatedStores:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:hypermediaSourcesAggregatedStores")},Z.KeysRdfUpdateQuads={destination:new W.ActionContextKey("@comunica/bus-rdf-update-quads:destination")}},"../node_modules/@comunica/context-entries/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/context-entries/lib/Keys.js"),Z)},"../node_modules/@comunica/core/lib/ActionContext.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActionContextKey=Z.ActionContext=void 0;const W=G("../packages/immutable/dist/index.js");class F{constructor(Y={}){this.map=(0,W.Map)(Y)}setDefault(Y,D){return this.has(Y)?this:this.set(Y,D)}set(Y,D){return this.setRaw(Y.name,D)}setRaw(Y,D){return new F(this.map.set(Y,D))}delete(Y){return new F(this.map.delete(Y.name))}get(Y){return this.getRaw(Y.name)}getRaw(Y){return this.map.get(Y)}getSafe(Y){if(!this.has(Y))throw new Error(`Context entry ${Y.name} is required but not available`);return this.get(Y)}has(Y){return this.hasRaw(Y.name)}hasRaw(Y){return this.map.has(Y)}merge(...Y){let D=this;for(const Q of Y)for(const ee of Q.keys())D=D.set(ee,Q.get(ee));return D}keys(){return[...this.map.keys()].map(Y=>new U(Y))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(Y){return Y instanceof F?Y:new F((0,W.Map)(Y||{}))}}Z.ActionContext=F;class U{constructor(Y){this.name=Y}}Z.ActionContextKey=U},"../node_modules/@comunica/core/lib/ActionObserver.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActionObserver=void 0;class G{constructor(F){Object.assign(this,F)}}Z.ActionObserver=G},"../node_modules/@comunica/core/lib/Actor.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Actor=void 0;const W=G("../node_modules/@comunica/core/lib/ContextEntries.js");class F{constructor(J){this.beforeActors=[],Object.assign(this,J),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(J){return J.get(W.CONTEXT_KEY_LOGGER)}runObservable(J){const Y=this.run(J);return this.bus.onRun(this,J,Y),Y}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(J,Y){const D=Y?Y():{};return D.actor=this.name,D}logTrace(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.trace(Y,this.getDefaultLogData(J,D))}logDebug(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.debug(Y,this.getDefaultLogData(J,D))}logInfo(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.info(Y,this.getDefaultLogData(J,D))}logWarn(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.warn(Y,this.getDefaultLogData(J,D))}logError(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.error(Y,this.getDefaultLogData(J,D))}logFatal(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.fatal(Y,this.getDefaultLogData(J,D))}}Z.Actor=F},"../node_modules/@comunica/core/lib/Bus.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Bus=void 0;class G{constructor(F){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,F)}subscribe(F){this.actors.push(F),this.reorderForDependencies()}subscribeObserver(F){this.observers.push(F)}unsubscribe(F){const U=this.actors.indexOf(F);return U>=0?(this.actors.splice(U,1),!0):!1}unsubscribeObserver(F){const U=this.observers.indexOf(F);return U>=0?(this.observers.splice(U,1),!0):!1}publish(F){return this.actors.map(U=>({actor:U,reply:U.test(F)}))}onRun(F,U,J){for(const Y of this.observers)Y.onRun(F,U,J)}addDependencies(F,U){for(const J of U){let Y=this.dependencyLinks.get(J);Y||(Y=[],this.dependencyLinks.set(J,Y)),Y.push(F)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const F=[];for(const U of this.dependencyLinks.keys()){const J=this.actors.indexOf(U);J>=0&&(this.actors.splice(J,1),F.push(U))}for(;F.length>0;){let U=-1;for(let Y=0;Y<F.length;Y++){let D=!0;for(const Q of this.dependencyLinks.get(F[Y]))if(!this.actors.includes(Q)&&F.includes(Q)){D=!1;break}if(D){U=Y;break}}if(U<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const J=F.splice(U,1)[0];this.actors.push(J)}}}}Z.Bus=G},"../node_modules/@comunica/core/lib/BusIndexed.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BusIndexed=void 0;const W=G("../node_modules/@comunica/core/lib/Bus.js");class F extends W.Bus{constructor(J){super(J),this.actorsIndex={}}subscribe(J){const Y=this.getActorIdentifier(J)||"_undefined_";let D=this.actorsIndex[Y];D||(D=this.actorsIndex[Y]=[]),D.push(J),super.subscribe(J)}unsubscribe(J){const Y=this.getActorIdentifier(J)||"_undefined_",D=this.actorsIndex[Y];if(D){const Q=D.indexOf(J);Q>=0&&D.splice(Q,1),D.length===0&&delete this.actorsIndex[Y]}return super.unsubscribe(J)}publish(J){const Y=this.getActionIdentifier(J);return Y?[...this.actorsIndex[Y]||[],...this.actorsIndex._undefined_||[]].map(Q=>({actor:Q,reply:Q.test(J)})):super.publish(J)}getActorIdentifier(J){return this.actorIdentifierFields.reduce((Y,D)=>Y[D],J)}getActionIdentifier(J){return this.actionIdentifierFields.reduce((Y,D)=>Y[D],J)}}Z.BusIndexed=F},"../node_modules/@comunica/core/lib/ContextEntries.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CONTEXT_KEY_LOGGER=void 0;const W=G("../node_modules/@comunica/core/lib/ActionContext.js");Z.CONTEXT_KEY_LOGGER=new W.ActionContextKey("@comunica/core:log")},"../node_modules/@comunica/core/lib/Mediator.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Mediator=void 0;class G{constructor(F){Object.assign(this,F)}publish(F){const U=this.bus.publish(F);if(U.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return U}async mediateActor(F){return await this.mediateWith(F,this.publish(F))}async mediate(F){return(await this.mediateActor(F)).runObservable(F)}}Z.Mediator=G},"../node_modules/@comunica/core/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(Y,D,Q,ee){ee===void 0&&(ee=Q);var q=Object.getOwnPropertyDescriptor(D,Q);(!q||("get"in q?!D.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return D[Q]}}),Object.defineProperty(Y,ee,q)}:function(Y,D,Q,ee){ee===void 0&&(ee=Q),Y[ee]=D[Q]}),F=this&&this.__exportStar||function(Y,D){for(var Q in Y)Q!=="default"&&!Object.prototype.hasOwnProperty.call(D,Q)&&W(D,Y,Q)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.Logger=void 0;const J=G("../node_modules/@comunica/types/lib/index.js").Logger;Z.Logger=J,F(G("../node_modules/@comunica/core/lib/ActionContext.js"),Z),F(G("../node_modules/@comunica/core/lib/Bus.js"),Z),F(G("../node_modules/@comunica/core/lib/BusIndexed.js"),Z),F(G("../node_modules/@comunica/core/lib/ContextEntries.js"),Z),F(G("../node_modules/@comunica/core/lib/ActionObserver.js"),Z),F(G("../node_modules/@comunica/core/lib/Actor.js"),Z),F(G("../node_modules/@comunica/core/lib/Mediator.js"),Z)},"../node_modules/@comunica/data-factory/lib/BlankNodeBindingsScoped.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BlankNodeBindingsScoped=void 0;class G{constructor(F){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=F}equals(F){return!!F&&F.termType==="BlankNode"&&F.value===this.value}}Z.BlankNodeBindingsScoped=G},"../node_modules/@comunica/data-factory/lib/BlankNodeScoped.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BlankNodeScoped=void 0;class G{constructor(F,U){this.termType="BlankNode",this.value=F,this.skolemized=U}equals(F){return!!F&&F.termType==="BlankNode"&&F.value===this.value}}Z.BlankNodeScoped=G},"../node_modules/@comunica/data-factory/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/data-factory/lib/BlankNodeScoped.js"),Z),F(G("../node_modules/@comunica/data-factory/lib/BlankNodeBindingsScoped.js"),Z)},"../node_modules/@comunica/logger-void/lib/LoggerVoid.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.LoggerVoid=void 0;const W=G("../node_modules/@comunica/types/lib/index.js");class F extends W.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}Z.LoggerVoid=F},"../node_modules/@comunica/logger-void/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/logger-void/lib/LoggerVoid.js"),Z)},"../node_modules/@comunica/mediator-all/lib/MediatorAll.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorAll=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J)}async mediate(J){const Y=[];let D;try{D=this.publish(J)}catch{D=[]}for(const ee of D)try{await ee.reply,Y.push(ee.actor)}catch{}return(await Promise.all(Y.map(ee=>ee.runObservable(J))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}Z.MediatorAll=F},"../node_modules/@comunica/mediator-all/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-all/lib/MediatorAll.js"),Z)},"../node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorCombinePipeline=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J)}async mediate(J){let Y;try{Y=this.publish(J)}catch{return J}if(this.filterErrors){const Q=[];for(const ee of Y)try{await ee.reply,Q.push(ee)}catch{}Y=Q}if(Y=await Promise.all(Y.map(async({actor:Q,reply:ee})=>({actor:Q,reply:await ee}))),this.order){const Q=ee=>{const q=this.field?ee[this.field]:ee;if(typeof q!="number")throw new Error("Cannot order elements that are not numbers.");return q};Y=Y.sort((ee,q)=>(this.order==="increasing"?1:-1)*(Q(ee.reply)-Q(q.reply)))}let D=J;for(const{actor:Q}of Y)D={...D,...await Q.runObservable(D)};return D}mediateWith(){throw new Error("Method not supported.")}}Z.MediatorCombinePipeline=F},"../node_modules/@comunica/mediator-combine-pipeline/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js"),Z)},"../node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorCombineUnion=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J),this.combiner=this.createCombiner()}async mediate(J){let Y;try{Y=this.publish(J)}catch{Y=[]}await Promise.all(Y.map(({reply:Q})=>Q));const D=await Promise.all(Y.map(Q=>Q.actor.runObservable(J)));return this.combiner(D)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return J=>{const Y={};return Y[this.field]={},[{}].concat(J.map(D=>D[this.field])).forEach((D,Q,ee)=>{Y[this.field]={...D,...Y[this.field]}}),Y}}}Z.MediatorCombineUnion=F},"../node_modules/@comunica/mediator-combine-union/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js"),Z)},"../node_modules/@comunica/mediator-join-coefficients-fixed/lib/MediatorJoinCoefficientsFixed.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorJoinCoefficientsFixed=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js"),F=G("../node_modules/@comunica/core/lib/index.js");class U extends F.Mediator{constructor(Y){super(Y)}async mediateWith(Y,D){const Q=[],ee=D.map(({reply:pe})=>pe).map(pe=>pe.catch(ue=>{Q.push(ue)})),q=await Promise.all(ee);let te=q.map((pe,ue)=>{if(pe)return pe.iterations*this.cpuWeight+pe.persistedItems*this.memoryWeight+pe.blockingItems*this.timeWeight+pe.requestTime*this.ioWeight});const ie=Math.max(...te.filter(pe=>pe!==void 0)),ne=Y.context.get(W.KeysQueryOperation.limitIndicator);ne&&(te=te.map((pe,ue)=>pe!==void 0&&q[ue].persistedItems>0&&q[ue].iterations>ne?pe+ie:pe));let ce=-1,le=Number.POSITIVE_INFINITY;for(const[pe,ue]of te.entries())ue!==void 0&&(ce===-1||ue<le)&&(ce=pe,le=ue);if(ce<0)throw new Error(`All actors rejected their test in ${this.name}
${Q.map(pe=>pe.message).join(`
`)}`);const se=D[ce].actor;return se.includeInLogs&&F.Actor.getContextLogger(Y.context)?.debug(`Determined physical join operator '${se.logicalType}-${se.physicalName}'`,{entries:Y.entries.length,variables:await Promise.all(Y.entries.map(async pe=>(await pe.output.metadata()).variables.map(ue=>ue.value))),costs:Object.fromEntries(te.map((pe,ue)=>[`${D[ue].actor.logicalType}-${D[ue].actor.physicalName}`,pe])),coefficients:Object.fromEntries(q.map((pe,ue)=>[`${D[ue].actor.logicalType}-${D[ue].actor.physicalName}`,pe]))}),se}}Z.MediatorJoinCoefficientsFixed=U},"../node_modules/@comunica/mediator-join-coefficients-fixed/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-join-coefficients-fixed/lib/MediatorJoinCoefficientsFixed.js"),Z)},"../node_modules/@comunica/mediator-number/lib/MediatorNumber.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorNumber=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return J=>J.reduce((Y,D,Q)=>{const ee=this.getOrDefault(D[this.field],Number.POSITIVE_INFINITY);return ee!==null&&(Number.isNaN(Y[0])||Y[0]>ee)?[ee,Q]:Y},[Number.NaN,-1])[1];case"max":return J=>J.reduce((Y,D,Q)=>{const ee=this.getOrDefault(D[this.field],Number.NEGATIVE_INFINITY);return ee!==null&&(Number.isNaN(Y[0])||Y[0]<ee)?[ee,Q]:Y},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(J,Y){return J===void 0?Y:J}async mediateWith(J,Y){let D=Y.map(({reply:te})=>te);const Q=[];if(this.ignoreErrors){const te={};te[this.field]=null,D=D.map(ie=>ie.catch(ne=>(Q.push(ne),te)))}const ee=await Promise.all(D),q=this.indexPicker(ee);if(q<0)throw new Error(`All actors rejected their test in ${this.name}
${Q.map(te=>te.message).join(`
`)}`);return Y[q].actor}}Z.MediatorNumber=F},"../node_modules/@comunica/mediator-number/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-number/lib/MediatorNumber.js"),Z)},"../node_modules/@comunica/mediator-race/lib/MediatorRace.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorRace=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J)}mediateWith(J,Y){return new Promise((D,Q)=>{const ee=[];for(const q of Y)q.reply.then(()=>{D(q.actor)}).catch(te=>{ee.push(te),ee.length===Y.length&&Q(new Error(`${this.name} mediated over all rejecting actors:
${ee.map(ie=>ie.message).join(`
`)}`))})})}}Z.MediatorRace=F},"../node_modules/@comunica/mediator-race/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-race/lib/MediatorRace.js"),Z)},"../node_modules/@comunica/types/lib/Bindings.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IActionContext.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IAggregatedStore.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/ICliArgsHandler.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IDataDestination.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IDataSource.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IJoinEntry.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IMetadata.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IPhysicalQueryPlanLogger.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IProxyHandler.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryContext.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryEngine.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryOperationResult.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/Logger.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Logger=void 0;class G{static getLevelOrdinal(F){return G.LEVELS[F]}}Z.Logger=G,G.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},"../node_modules/@comunica/types/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/types/lib/Bindings.js"),Z),F(G("../node_modules/@comunica/types/lib/IActionContext.js"),Z),F(G("../node_modules/@comunica/types/lib/IAggregatedStore.js"),Z),F(G("../node_modules/@comunica/types/lib/ICliArgsHandler.js"),Z),F(G("../node_modules/@comunica/types/lib/IDataDestination.js"),Z),F(G("../node_modules/@comunica/types/lib/IDataSource.js"),Z),F(G("../node_modules/@comunica/types/lib/IJoinEntry.js"),Z),F(G("../node_modules/@comunica/types/lib/IMetadata.js"),Z),F(G("../node_modules/@comunica/types/lib/IPhysicalQueryPlanLogger.js"),Z),F(G("../node_modules/@comunica/types/lib/IProxyHandler.js"),Z),F(G("../node_modules/@comunica/types/lib/IQueryContext.js"),Z),F(G("../node_modules/@comunica/types/lib/IQueryEngine.js"),Z),F(G("../node_modules/@comunica/types/lib/IQueryOperationResult.js"),Z),F(G("../node_modules/@comunica/types/lib/Logger.js"),Z)},"../node_modules/asyncjoin/index.js":(X,Z,G)=>{const W=G("../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js"),F=G("../node_modules/asyncjoin/join/HashJoin.js"),U=G("../node_modules/asyncjoin/join/NestedLoopJoin.js"),J=G("../node_modules/asyncjoin/join/SymmetricHashJoin.js"),Y=G("../node_modules/asyncjoin/util/MergeIterator.js");X.exports={DynamicNestedLoopJoin:W,HashJoin:F,NestedLoopJoin:U,SymmetricHashJoin:J,MergeStream:Y}},"../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js":(X,Z,G)=>{let W=G("asynciterator"),F=W.MultiTransformIterator,U=W.SimpleTransformIterator;class J extends F{constructor(D,Q,ee,q){super(D,q),this.funRight=Q,this.funJoin=ee}_createTransformer(D){return new U(this.funRight(D),{transform:(Q,ee,q)=>{let te=this.funJoin(D,Q);te!==null&&q(te),ee()}})}}X.exports=J},"../node_modules/asyncjoin/join/HashJoin.js":(X,Z,G)=>{let W=G("asynciterator").AsyncIterator;class F extends W{constructor(J,Y,D,Q){super(),this.addedDataListener=!1,this.left=J,this.right=Y,this.funHash=D,this.funJoin=Q,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",q=>this.destroy(q)),this.right.on("error",q=>this.destroy(q)),this.readable=!1,this.left.on("end",ee.bind(this));function ee(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",q=>{q==="data"&&!this.addedDataListener&&(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener());;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let Y=this.matches[this.matchIdx++],D=this.funJoin(Y,this.match);if(D!==null)return D}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let J=this.funHash(this.match);this.matches=this.leftMap.get(J)||[],this.matchIdx=0}}_addDataListener(){this.left.on("data",J.bind(this));function J(Y){let D=this.funHash(Y);this.leftMap.has(D)||this.leftMap.set(D,[]),this.leftMap.get(D).push(Y)}}}X.exports=F},"../node_modules/asyncjoin/join/NestedLoopJoin.js":(X,Z,G)=>{const{MultiTransformIterator:W,SimpleTransformIterator:F,scheduleTask:U}=G("asynciterator");class J extends W{constructor(D,Q,ee,q){super(D,q),this.right=Q,this.funJoin=ee,this.on("end",()=>this.right.close())}_end(){super._end(),U(()=>this.right.destroy())}_createTransformer(D){return new F(this.right.clone(),{transform:(Q,ee,q)=>{let te=this.funJoin(D,Q);te!==null&&q(te),ee()}})}}X.exports=J},"../node_modules/asyncjoin/join/SymmetricHashJoin.js":(X,Z,G)=>{let W=G("asynciterator").AsyncIterator;class F extends W{constructor(J,Y,D,Q){super(),this.left=J,this.right=Y,this.funHash=D,this.funJoin=Q,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",ee=>this.destroy(ee)),this.right.on("error",ee=>this.destroy(ee)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let ee=this.matches[this.matchIdx++],q=this.usedLeft?this.funJoin(this.match,ee):this.funJoin(ee,this.match);if(q!==null)return q}this.hasResults()||this._end();let J=null;for(let ee=0;ee<2&&(J=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,J===null);++ee);if(this.done||J===null)return this.readable=!1,null;let Y=this.funHash(J),D=this.usedLeft?this.leftMap:this.rightMap;return D.has(Y)||D.set(Y,[]),D.get(Y).push(J),this.match=J,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(Y)||[],this.matchIdx=0,this.read()}}X.exports=F},"../node_modules/asyncjoin/util/MergeIterator.js":(X,Z,G)=>{let W=G("asynciterator").AsyncIterator;class F extends W{constructor(J){super(),Array.isArray(J)||(J=Array.prototype.slice.call(arguments)),this.streams=J;for(let Y of J)Y.on("readable",()=>this.emit("readable")),Y.on("end",()=>this._removeStream(Y));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(J){let Y=this.streams.indexOf(J);Y<0||(this.streams.splice(Y,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let J of this.streams)J.close()}read(){for(let J=0;J<this.streams.length;++J){this.idx=(this.idx+1)%this.streams.length;let Y=this.streams[this.idx].read();if(Y!==null)return Y}return null}}X.exports=F},"../node_modules/bignumber.js/bignumber.js":function(X,Z,G){var W;(function(F){var U,J=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Y=Math.ceil,D=Math.floor,Q="[BigNumber Error] ",ee=Q+"Number primitive has more than 15 significant digits: ",q=1e14,te=14,ie=9007199254740991,ne=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ce=1e7,le=1e9;function se(Xe){var We,fe,Re,ye=qe.prototype={constructor:qe,toString:null,valueOf:null},re=new qe(1),Ze=20,Ge=4,ve=-7,Te=21,xe=-1e7,Ye=1e7,ge=!1,Me=1,je=0,tt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},it="0123456789abcdefghijklmnopqrstuvwxyz",st=!0;function qe(Ne,ke){var Ie,Ce,ze,Ee,_e,He,Pe,$e,we=this;if(!(we instanceof qe))return new qe(Ne,ke);if(ke==null){if(Ne&&Ne._isBigNumber===!0){we.s=Ne.s,!Ne.c||Ne.e>Ye?we.c=we.e=null:Ne.e<xe?we.c=[we.e=0]:(we.e=Ne.e,we.c=Ne.c.slice());return}if((He=typeof Ne=="number")&&Ne*0==0){if(we.s=1/Ne<0?(Ne=-Ne,-1):1,Ne===~~Ne){for(Ee=0,_e=Ne;_e>=10;_e/=10,Ee++);Ee>Ye?we.c=we.e=null:(we.e=Ee,we.c=[Ne]);return}$e=String(Ne)}else{if(!J.test($e=String(Ne)))return Re(we,$e,He);we.s=$e.charCodeAt(0)==45?($e=$e.slice(1),-1):1}(Ee=$e.indexOf("."))>-1&&($e=$e.replace(".","")),(_e=$e.search(/e/i))>0?(Ee<0&&(Ee=_e),Ee+=+$e.slice(_e+1),$e=$e.substring(0,_e)):Ee<0&&(Ee=$e.length)}else{if(de(ke,2,it.length,"Base"),ke==10&&st)return we=new qe(Ne),mt(we,Ze+we.e+1,Ge);if($e=String(Ne),He=typeof Ne=="number"){if(Ne*0!=0)return Re(we,$e,He,ke);if(we.s=1/Ne<0?($e=$e.slice(1),-1):1,qe.DEBUG&&$e.replace(/^0\.0*|\./,"").length>15)throw Error(ee+Ne)}else we.s=$e.charCodeAt(0)===45?($e=$e.slice(1),-1):1;for(Ie=it.slice(0,ke),Ee=_e=0,Pe=$e.length;_e<Pe;_e++)if(Ie.indexOf(Ce=$e.charAt(_e))<0){if(Ce=="."){if(_e>Ee){Ee=Pe;continue}}else if(!ze&&($e==$e.toUpperCase()&&($e=$e.toLowerCase())||$e==$e.toLowerCase()&&($e=$e.toUpperCase()))){ze=!0,_e=-1,Ee=0;continue}return Re(we,String(Ne),He,ke)}He=!1,$e=fe($e,ke,10,we.s),(Ee=$e.indexOf("."))>-1?$e=$e.replace(".",""):Ee=$e.length}for(_e=0;$e.charCodeAt(_e)===48;_e++);for(Pe=$e.length;$e.charCodeAt(--Pe)===48;);if($e=$e.slice(_e,++Pe)){if(Pe-=_e,He&&qe.DEBUG&&Pe>15&&(Ne>ie||Ne!==D(Ne)))throw Error(ee+we.s*Ne);if((Ee=Ee-_e-1)>Ye)we.c=we.e=null;else if(Ee<xe)we.c=[we.e=0];else{if(we.e=Ee,we.c=[],_e=(Ee+1)%te,Ee<0&&(_e+=te),_e<Pe){for(_e&&we.c.push(+$e.slice(0,_e)),Pe-=te;_e<Pe;)we.c.push(+$e.slice(_e,_e+=te));_e=te-($e=$e.slice(_e)).length}else _e-=Pe;for(;_e--;$e+="0");we.c.push(+$e)}}else we.c=[we.e=0]}qe.clone=se,qe.ROUND_UP=0,qe.ROUND_DOWN=1,qe.ROUND_CEIL=2,qe.ROUND_FLOOR=3,qe.ROUND_HALF_UP=4,qe.ROUND_HALF_DOWN=5,qe.ROUND_HALF_EVEN=6,qe.ROUND_HALF_CEIL=7,qe.ROUND_HALF_FLOOR=8,qe.EUCLID=9,qe.config=qe.set=function(Ne){var ke,Ie;if(Ne!=null)if(typeof Ne=="object"){if(Ne.hasOwnProperty(ke="DECIMAL_PLACES")&&(Ie=Ne[ke],de(Ie,0,le,ke),Ze=Ie),Ne.hasOwnProperty(ke="ROUNDING_MODE")&&(Ie=Ne[ke],de(Ie,0,8,ke),Ge=Ie),Ne.hasOwnProperty(ke="EXPONENTIAL_AT")&&(Ie=Ne[ke],Ie&&Ie.pop?(de(Ie[0],-le,0,ke),de(Ie[1],0,le,ke),ve=Ie[0],Te=Ie[1]):(de(Ie,-le,le,ke),ve=-(Te=Ie<0?-Ie:Ie))),Ne.hasOwnProperty(ke="RANGE"))if(Ie=Ne[ke],Ie&&Ie.pop)de(Ie[0],-le,-1,ke),de(Ie[1],1,le,ke),xe=Ie[0],Ye=Ie[1];else if(de(Ie,-le,le,ke),Ie)xe=-(Ye=Ie<0?-Ie:Ie);else throw Error(Q+ke+" cannot be zero: "+Ie);if(Ne.hasOwnProperty(ke="CRYPTO"))if(Ie=Ne[ke],Ie===!!Ie)if(Ie)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ge=Ie;else throw ge=!Ie,Error(Q+"crypto unavailable");else ge=Ie;else throw Error(Q+ke+" not true or false: "+Ie);if(Ne.hasOwnProperty(ke="MODULO_MODE")&&(Ie=Ne[ke],de(Ie,0,9,ke),Me=Ie),Ne.hasOwnProperty(ke="POW_PRECISION")&&(Ie=Ne[ke],de(Ie,0,le,ke),je=Ie),Ne.hasOwnProperty(ke="FORMAT"))if(Ie=Ne[ke],typeof Ie=="object")tt=Ie;else throw Error(Q+ke+" not an object: "+Ie);if(Ne.hasOwnProperty(ke="ALPHABET"))if(Ie=Ne[ke],typeof Ie=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Ie))st=Ie.slice(0,10)=="0123456789",it=Ie;else throw Error(Q+ke+" invalid: "+Ie)}else throw Error(Q+"Object expected: "+Ne);return{DECIMAL_PLACES:Ze,ROUNDING_MODE:Ge,EXPONENTIAL_AT:[ve,Te],RANGE:[xe,Ye],CRYPTO:ge,MODULO_MODE:Me,POW_PRECISION:je,FORMAT:tt,ALPHABET:it}},qe.isBigNumber=function(Ne){if(!Ne||Ne._isBigNumber!==!0)return!1;if(!qe.DEBUG)return!0;var ke,Ie,Ce=Ne.c,ze=Ne.e,Ee=Ne.s;e:if({}.toString.call(Ce)=="[object Array]"){if((Ee===1||Ee===-1)&&ze>=-le&&ze<=le&&ze===D(ze)){if(Ce[0]===0){if(ze===0&&Ce.length===1)return!0;break e}if(ke=(ze+1)%te,ke<1&&(ke+=te),String(Ce[0]).length==ke){for(ke=0;ke<Ce.length;ke++)if(Ie=Ce[ke],Ie<0||Ie>=q||Ie!==D(Ie))break e;if(Ie!==0)return!0}}}else if(Ce===null&&ze===null&&(Ee===null||Ee===1||Ee===-1))return!0;throw Error(Q+"Invalid BigNumber: "+Ne)},qe.maximum=qe.max=function(){return ut(arguments,ye.lt)},qe.minimum=qe.min=function(){return ut(arguments,ye.gt)},qe.random=function(){var Ne=9007199254740992,ke=Math.random()*Ne&2097151?function(){return D(Math.random()*Ne)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Ie){var Ce,ze,Ee,_e,He,Pe=0,$e=[],we=new qe(re);if(Ie==null?Ie=Ze:de(Ie,0,le),_e=Y(Ie/te),ge)if(crypto.getRandomValues){for(Ce=crypto.getRandomValues(new Uint32Array(_e*=2));Pe<_e;)He=Ce[Pe]*131072+(Ce[Pe+1]>>>11),He>=9e15?(ze=crypto.getRandomValues(new Uint32Array(2)),Ce[Pe]=ze[0],Ce[Pe+1]=ze[1]):($e.push(He%1e14),Pe+=2);Pe=_e/2}else if(crypto.randomBytes){for(Ce=crypto.randomBytes(_e*=7);Pe<_e;)He=(Ce[Pe]&31)*281474976710656+Ce[Pe+1]*1099511627776+Ce[Pe+2]*4294967296+Ce[Pe+3]*16777216+(Ce[Pe+4]<<16)+(Ce[Pe+5]<<8)+Ce[Pe+6],He>=9e15?crypto.randomBytes(7).copy(Ce,Pe):($e.push(He%1e14),Pe+=7);Pe=_e/7}else throw ge=!1,Error(Q+"crypto unavailable");if(!ge)for(;Pe<_e;)He=ke(),He<9e15&&($e[Pe++]=He%1e14);for(_e=$e[--Pe],Ie%=te,_e&&Ie&&(He=ne[te-Ie],$e[Pe]=D(_e/He)*He);$e[Pe]===0;$e.pop(),Pe--);if(Pe<0)$e=[Ee=0];else{for(Ee=-1;$e[0]===0;$e.splice(0,1),Ee-=te);for(Pe=1,He=$e[0];He>=10;He/=10,Pe++);Pe<te&&(Ee-=te-Pe)}return we.e=Ee,we.c=$e,we}}(),qe.sum=function(){for(var Ne=1,ke=arguments,Ie=new qe(ke[0]);Ne<ke.length;)Ie=Ie.plus(ke[Ne++]);return Ie},fe=function(){var Ne="0123456789";function ke(Ie,Ce,ze,Ee){for(var _e,He=[0],Pe,$e=0,we=Ie.length;$e<we;){for(Pe=He.length;Pe--;He[Pe]*=Ce);for(He[0]+=Ee.indexOf(Ie.charAt($e++)),_e=0;_e<He.length;_e++)He[_e]>ze-1&&(He[_e+1]==null&&(He[_e+1]=0),He[_e+1]+=He[_e]/ze|0,He[_e]%=ze)}return He.reverse()}return function(Ie,Ce,ze,Ee,_e){var He,Pe,$e,we,Ue,et,at,Ve,oe=Ie.indexOf("."),me=Ze,Se=Ge;for(oe>=0&&(we=je,je=0,Ie=Ie.replace(".",""),Ve=new qe(Ce),et=Ve.pow(Ie.length-oe),je=we,Ve.c=ke(Le(ue(et.c),et.e,"0"),10,ze,Ne),Ve.e=Ve.c.length),at=ke(Ie,Ce,ze,_e?(He=it,Ne):(He=Ne,it)),$e=we=at.length;at[--we]==0;at.pop());if(!at[0])return He.charAt(0);if(oe<0?--$e:(et.c=at,et.e=$e,et.s=Ee,et=We(et,Ve,me,Se,ze),at=et.c,Ue=et.r,$e=et.e),Pe=$e+me+1,oe=at[Pe],we=ze/2,Ue=Ue||Pe<0||at[Pe+1]!=null,Ue=Se<4?(oe!=null||Ue)&&(Se==0||Se==(et.s<0?3:2)):oe>we||oe==we&&(Se==4||Ue||Se==6&&at[Pe-1]&1||Se==(et.s<0?8:7)),Pe<1||!at[0])Ie=Ue?Le(He.charAt(1),-me,He.charAt(0)):He.charAt(0);else{if(at.length=Pe,Ue)for(--ze;++at[--Pe]>ze;)at[Pe]=0,Pe||(++$e,at=[1].concat(at));for(we=at.length;!at[--we];);for(oe=0,Ie="";oe<=we;Ie+=He.charAt(at[oe++]));Ie=Le(Ie,$e,He.charAt(0))}return Ie}}(),We=function(){function Ne(Ce,ze,Ee){var _e,He,Pe,$e,we=0,Ue=Ce.length,et=ze%ce,at=ze/ce|0;for(Ce=Ce.slice();Ue--;)Pe=Ce[Ue]%ce,$e=Ce[Ue]/ce|0,_e=at*Pe+$e*et,He=et*Pe+_e%ce*ce+we,we=(He/Ee|0)+(_e/ce|0)+at*$e,Ce[Ue]=He%Ee;return we&&(Ce=[we].concat(Ce)),Ce}function ke(Ce,ze,Ee,_e){var He,Pe;if(Ee!=_e)Pe=Ee>_e?1:-1;else for(He=Pe=0;He<Ee;He++)if(Ce[He]!=ze[He]){Pe=Ce[He]>ze[He]?1:-1;break}return Pe}function Ie(Ce,ze,Ee,_e){for(var He=0;Ee--;)Ce[Ee]-=He,He=Ce[Ee]<ze[Ee]?1:0,Ce[Ee]=He*_e+Ce[Ee]-ze[Ee];for(;!Ce[0]&&Ce.length>1;Ce.splice(0,1));}return function(Ce,ze,Ee,_e,He){var Pe,$e,we,Ue,et,at,Ve,oe,me,Se,Fe,Ke,Ae,rt,vt,Vt,Wt,ft=Ce.s==ze.s?1:-1,Rt=Ce.c,Yt=ze.c;if(!Rt||!Rt[0]||!Yt||!Yt[0])return new qe(!Ce.s||!ze.s||(Rt?Yt&&Rt[0]==Yt[0]:!Yt)?NaN:Rt&&Rt[0]==0||!Yt?ft*0:ft/0);for(oe=new qe(ft),me=oe.c=[],$e=Ce.e-ze.e,ft=Ee+$e+1,He||(He=q,$e=pe(Ce.e/te)-pe(ze.e/te),ft=ft/te|0),we=0;Yt[we]==(Rt[we]||0);we++);if(Yt[we]>(Rt[we]||0)&&$e--,ft<0)me.push(1),Ue=!0;else{for(rt=Rt.length,Vt=Yt.length,we=0,ft+=2,et=D(He/(Yt[0]+1)),et>1&&(Yt=Ne(Yt,et,He),Rt=Ne(Rt,et,He),Vt=Yt.length,rt=Rt.length),Ae=Vt,Se=Rt.slice(0,Vt),Fe=Se.length;Fe<Vt;Se[Fe++]=0);Wt=Yt.slice(),Wt=[0].concat(Wt),vt=Yt[0],Yt[1]>=He/2&&vt++;do{if(et=0,Pe=ke(Yt,Se,Vt,Fe),Pe<0){if(Ke=Se[0],Vt!=Fe&&(Ke=Ke*He+(Se[1]||0)),et=D(Ke/vt),et>1)for(et>=He&&(et=He-1),at=Ne(Yt,et,He),Ve=at.length,Fe=Se.length;ke(at,Se,Ve,Fe)==1;)et--,Ie(at,Vt<Ve?Wt:Yt,Ve,He),Ve=at.length,Pe=1;else et==0&&(Pe=et=1),at=Yt.slice(),Ve=at.length;if(Ve<Fe&&(at=[0].concat(at)),Ie(Se,at,Fe,He),Fe=Se.length,Pe==-1)for(;ke(Yt,Se,Vt,Fe)<1;)et++,Ie(Se,Vt<Fe?Wt:Yt,Fe,He),Fe=Se.length}else Pe===0&&(et++,Se=[0]);me[we++]=et,Se[0]?Se[Fe++]=Rt[Ae]||0:(Se=[Rt[Ae]],Fe=1)}while((Ae++<rt||Se[0]!=null)&&ft--);Ue=Se[0]!=null,me[0]||me.splice(0,1)}if(He==q){for(we=1,ft=me[0];ft>=10;ft/=10,we++);mt(oe,Ee+(oe.e=we+$e*te-1)+1,_e,Ue)}else oe.e=$e,oe.r=+Ue;return oe}}();function ot(Ne,ke,Ie,Ce){var ze,Ee,_e,He,Pe;if(Ie==null?Ie=Ge:de(Ie,0,8),!Ne.c)return Ne.toString();if(ze=Ne.c[0],_e=Ne.e,ke==null)Pe=ue(Ne.c),Pe=Ce==1||Ce==2&&(_e<=ve||_e>=Te)?he(Pe,_e):Le(Pe,_e,"0");else if(Ne=mt(new qe(Ne),ke,Ie),Ee=Ne.e,Pe=ue(Ne.c),He=Pe.length,Ce==1||Ce==2&&(ke<=Ee||Ee<=ve)){for(;He<ke;Pe+="0",He++);Pe=he(Pe,Ee)}else if(ke-=_e,Pe=Le(Pe,Ee,"0"),Ee+1>He){if(--ke>0)for(Pe+=".";ke--;Pe+="0");}else if(ke+=Ee-He,ke>0)for(Ee+1==He&&(Pe+=".");ke--;Pe+="0");return Ne.s<0&&ze?"-"+Pe:Pe}function ut(Ne,ke){for(var Ie,Ce=1,ze=new qe(Ne[0]);Ce<Ne.length;Ce++)if(Ie=new qe(Ne[Ce]),Ie.s)ke.call(ze,Ie)&&(ze=Ie);else{ze=Ie;break}return ze}function dt(Ne,ke,Ie){for(var Ce=1,ze=ke.length;!ke[--ze];ke.pop());for(ze=ke[0];ze>=10;ze/=10,Ce++);return(Ie=Ce+Ie*te-1)>Ye?Ne.c=Ne.e=null:Ie<xe?Ne.c=[Ne.e=0]:(Ne.e=Ie,Ne.c=ke),Ne}Re=function(){var Ne=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ke=/^([^.]+)\.$/,Ie=/^\.([^.]+)$/,Ce=/^-?(Infinity|NaN)$/,ze=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Ee,_e,He,Pe){var $e,we=He?_e:_e.replace(ze,"");if(Ce.test(we))Ee.s=isNaN(we)?null:we<0?-1:1;else{if(!He&&(we=we.replace(Ne,function(Ue,et,at){return $e=(at=at.toLowerCase())=="x"?16:at=="b"?2:8,!Pe||Pe==$e?et:Ue}),Pe&&($e=Pe,we=we.replace(ke,"$1").replace(Ie,"0.$1")),_e!=we))return new qe(we,$e);if(qe.DEBUG)throw Error(Q+"Not a"+(Pe?" base "+Pe:"")+" number: "+_e);Ee.s=null}Ee.c=Ee.e=null}}();function mt(Ne,ke,Ie,Ce){var ze,Ee,_e,He,Pe,$e,we,Ue=Ne.c,et=ne;if(Ue){e:{for(ze=1,He=Ue[0];He>=10;He/=10,ze++);if(Ee=ke-ze,Ee<0)Ee+=te,_e=ke,Pe=Ue[$e=0],we=Pe/et[ze-_e-1]%10|0;else if($e=Y((Ee+1)/te),$e>=Ue.length)if(Ce){for(;Ue.length<=$e;Ue.push(0));Pe=we=0,ze=1,Ee%=te,_e=Ee-te+1}else break e;else{for(Pe=He=Ue[$e],ze=1;He>=10;He/=10,ze++);Ee%=te,_e=Ee-te+ze,we=_e<0?0:Pe/et[ze-_e-1]%10|0}if(Ce=Ce||ke<0||Ue[$e+1]!=null||(_e<0?Pe:Pe%et[ze-_e-1]),Ce=Ie<4?(we||Ce)&&(Ie==0||Ie==(Ne.s<0?3:2)):we>5||we==5&&(Ie==4||Ce||Ie==6&&(Ee>0?_e>0?Pe/et[ze-_e]:0:Ue[$e-1])%10&1||Ie==(Ne.s<0?8:7)),ke<1||!Ue[0])return Ue.length=0,Ce?(ke-=Ne.e+1,Ue[0]=et[(te-ke%te)%te],Ne.e=-ke||0):Ue[0]=Ne.e=0,Ne;if(Ee==0?(Ue.length=$e,He=1,$e--):(Ue.length=$e+1,He=et[te-Ee],Ue[$e]=_e>0?D(Pe/et[ze-_e]%et[_e])*He:0),Ce)for(;;)if($e==0){for(Ee=1,_e=Ue[0];_e>=10;_e/=10,Ee++);for(_e=Ue[0]+=He,He=1;_e>=10;_e/=10,He++);Ee!=He&&(Ne.e++,Ue[0]==q&&(Ue[0]=1));break}else{if(Ue[$e]+=He,Ue[$e]!=q)break;Ue[$e--]=0,He=1}for(Ee=Ue.length;Ue[--Ee]===0;Ue.pop());}Ne.e>Ye?Ne.c=Ne.e=null:Ne.e<xe&&(Ne.c=[Ne.e=0])}return Ne}function Je(Ne){var ke,Ie=Ne.e;return Ie===null?Ne.toString():(ke=ue(Ne.c),ke=Ie<=ve||Ie>=Te?he(ke,Ie):Le(ke,Ie,"0"),Ne.s<0?"-"+ke:ke)}return ye.absoluteValue=ye.abs=function(){var Ne=new qe(this);return Ne.s<0&&(Ne.s=1),Ne},ye.comparedTo=function(Ne,ke){return ae(this,new qe(Ne,ke))},ye.decimalPlaces=ye.dp=function(Ne,ke){var Ie,Ce,ze,Ee=this;if(Ne!=null)return de(Ne,0,le),ke==null?ke=Ge:de(ke,0,8),mt(new qe(Ee),Ne+Ee.e+1,ke);if(!(Ie=Ee.c))return null;if(Ce=((ze=Ie.length-1)-pe(this.e/te))*te,ze=Ie[ze])for(;ze%10==0;ze/=10,Ce--);return Ce<0&&(Ce=0),Ce},ye.dividedBy=ye.div=function(Ne,ke){return We(this,new qe(Ne,ke),Ze,Ge)},ye.dividedToIntegerBy=ye.idiv=function(Ne,ke){return We(this,new qe(Ne,ke),0,1)},ye.exponentiatedBy=ye.pow=function(Ne,ke){var Ie,Ce,ze,Ee,_e,He,Pe,$e,we,Ue=this;if(Ne=new qe(Ne),Ne.c&&!Ne.isInteger())throw Error(Q+"Exponent not an integer: "+Je(Ne));if(ke!=null&&(ke=new qe(ke)),He=Ne.e>14,!Ue.c||!Ue.c[0]||Ue.c[0]==1&&!Ue.e&&Ue.c.length==1||!Ne.c||!Ne.c[0])return we=new qe(Math.pow(+Je(Ue),He?Ne.s*(2-be(Ne)):+Je(Ne))),ke?we.mod(ke):we;if(Pe=Ne.s<0,ke){if(ke.c?!ke.c[0]:!ke.s)return new qe(NaN);Ce=!Pe&&Ue.isInteger()&&ke.isInteger(),Ce&&(Ue=Ue.mod(ke))}else{if(Ne.e>9&&(Ue.e>0||Ue.e<-1||(Ue.e==0?Ue.c[0]>1||He&&Ue.c[1]>=24e7:Ue.c[0]<8e13||He&&Ue.c[0]<=9999975e7)))return Ee=Ue.s<0&&be(Ne)?-0:0,Ue.e>-1&&(Ee=1/Ee),new qe(Pe?1/Ee:Ee);je&&(Ee=Y(je/te+2))}for(He?(Ie=new qe(.5),Pe&&(Ne.s=1),$e=be(Ne)):(ze=Math.abs(+Je(Ne)),$e=ze%2),we=new qe(re);;){if($e){if(we=we.times(Ue),!we.c)break;Ee?we.c.length>Ee&&(we.c.length=Ee):Ce&&(we=we.mod(ke))}if(ze){if(ze=D(ze/2),ze===0)break;$e=ze%2}else if(Ne=Ne.times(Ie),mt(Ne,Ne.e+1,1),Ne.e>14)$e=be(Ne);else{if(ze=+Je(Ne),ze===0)break;$e=ze%2}Ue=Ue.times(Ue),Ee?Ue.c&&Ue.c.length>Ee&&(Ue.c.length=Ee):Ce&&(Ue=Ue.mod(ke))}return Ce?we:(Pe&&(we=re.div(we)),ke?we.mod(ke):Ee?mt(we,je,Ge,_e):we)},ye.integerValue=function(Ne){var ke=new qe(this);return Ne==null?Ne=Ge:de(Ne,0,8),mt(ke,ke.e+1,Ne)},ye.isEqualTo=ye.eq=function(Ne,ke){return ae(this,new qe(Ne,ke))===0},ye.isFinite=function(){return!!this.c},ye.isGreaterThan=ye.gt=function(Ne,ke){return ae(this,new qe(Ne,ke))>0},ye.isGreaterThanOrEqualTo=ye.gte=function(Ne,ke){return(ke=ae(this,new qe(Ne,ke)))===1||ke===0},ye.isInteger=function(){return!!this.c&&pe(this.e/te)>this.c.length-2},ye.isLessThan=ye.lt=function(Ne,ke){return ae(this,new qe(Ne,ke))<0},ye.isLessThanOrEqualTo=ye.lte=function(Ne,ke){return(ke=ae(this,new qe(Ne,ke)))===-1||ke===0},ye.isNaN=function(){return!this.s},ye.isNegative=function(){return this.s<0},ye.isPositive=function(){return this.s>0},ye.isZero=function(){return!!this.c&&this.c[0]==0},ye.minus=function(Ne,ke){var Ie,Ce,ze,Ee,_e=this,He=_e.s;if(Ne=new qe(Ne,ke),ke=Ne.s,!He||!ke)return new qe(NaN);if(He!=ke)return Ne.s=-ke,_e.plus(Ne);var Pe=_e.e/te,$e=Ne.e/te,we=_e.c,Ue=Ne.c;if(!Pe||!$e){if(!we||!Ue)return we?(Ne.s=-ke,Ne):new qe(Ue?_e:NaN);if(!we[0]||!Ue[0])return Ue[0]?(Ne.s=-ke,Ne):new qe(we[0]?_e:Ge==3?-0:0)}if(Pe=pe(Pe),$e=pe($e),we=we.slice(),He=Pe-$e){for((Ee=He<0)?(He=-He,ze=we):($e=Pe,ze=Ue),ze.reverse(),ke=He;ke--;ze.push(0));ze.reverse()}else for(Ce=(Ee=(He=we.length)<(ke=Ue.length))?He:ke,He=ke=0;ke<Ce;ke++)if(we[ke]!=Ue[ke]){Ee=we[ke]<Ue[ke];break}if(Ee&&(ze=we,we=Ue,Ue=ze,Ne.s=-Ne.s),ke=(Ce=Ue.length)-(Ie=we.length),ke>0)for(;ke--;we[Ie++]=0);for(ke=q-1;Ce>He;){if(we[--Ce]<Ue[Ce]){for(Ie=Ce;Ie&&!we[--Ie];we[Ie]=ke);--we[Ie],we[Ce]+=q}we[Ce]-=Ue[Ce]}for(;we[0]==0;we.splice(0,1),--$e);return we[0]?dt(Ne,we,$e):(Ne.s=Ge==3?-1:1,Ne.c=[Ne.e=0],Ne)},ye.modulo=ye.mod=function(Ne,ke){var Ie,Ce,ze=this;return Ne=new qe(Ne,ke),!ze.c||!Ne.s||Ne.c&&!Ne.c[0]?new qe(NaN):!Ne.c||ze.c&&!ze.c[0]?new qe(ze):(Me==9?(Ce=Ne.s,Ne.s=1,Ie=We(ze,Ne,0,3),Ne.s=Ce,Ie.s*=Ce):Ie=We(ze,Ne,0,Me),Ne=ze.minus(Ie.times(Ne)),!Ne.c[0]&&Me==1&&(Ne.s=ze.s),Ne)},ye.multipliedBy=ye.times=function(Ne,ke){var Ie,Ce,ze,Ee,_e,He,Pe,$e,we,Ue,et,at,Ve,oe,me,Se=this,Fe=Se.c,Ke=(Ne=new qe(Ne,ke)).c;if(!Fe||!Ke||!Fe[0]||!Ke[0])return!Se.s||!Ne.s||Fe&&!Fe[0]&&!Ke||Ke&&!Ke[0]&&!Fe?Ne.c=Ne.e=Ne.s=null:(Ne.s*=Se.s,!Fe||!Ke?Ne.c=Ne.e=null:(Ne.c=[0],Ne.e=0)),Ne;for(Ce=pe(Se.e/te)+pe(Ne.e/te),Ne.s*=Se.s,Pe=Fe.length,Ue=Ke.length,Pe<Ue&&(Ve=Fe,Fe=Ke,Ke=Ve,ze=Pe,Pe=Ue,Ue=ze),ze=Pe+Ue,Ve=[];ze--;Ve.push(0));for(oe=q,me=ce,ze=Ue;--ze>=0;){for(Ie=0,et=Ke[ze]%me,at=Ke[ze]/me|0,_e=Pe,Ee=ze+_e;Ee>ze;)$e=Fe[--_e]%me,we=Fe[_e]/me|0,He=at*$e+we*et,$e=et*$e+He%me*me+Ve[Ee]+Ie,Ie=($e/oe|0)+(He/me|0)+at*we,Ve[Ee--]=$e%oe;Ve[Ee]=Ie}return Ie?++Ce:Ve.splice(0,1),dt(Ne,Ve,Ce)},ye.negated=function(){var Ne=new qe(this);return Ne.s=-Ne.s||null,Ne},ye.plus=function(Ne,ke){var Ie,Ce=this,ze=Ce.s;if(Ne=new qe(Ne,ke),ke=Ne.s,!ze||!ke)return new qe(NaN);if(ze!=ke)return Ne.s=-ke,Ce.minus(Ne);var Ee=Ce.e/te,_e=Ne.e/te,He=Ce.c,Pe=Ne.c;if(!Ee||!_e){if(!He||!Pe)return new qe(ze/0);if(!He[0]||!Pe[0])return Pe[0]?Ne:new qe(He[0]?Ce:ze*0)}if(Ee=pe(Ee),_e=pe(_e),He=He.slice(),ze=Ee-_e){for(ze>0?(_e=Ee,Ie=Pe):(ze=-ze,Ie=He),Ie.reverse();ze--;Ie.push(0));Ie.reverse()}for(ze=He.length,ke=Pe.length,ze-ke<0&&(Ie=Pe,Pe=He,He=Ie,ke=ze),ze=0;ke;)ze=(He[--ke]=He[ke]+Pe[ke]+ze)/q|0,He[ke]=q===He[ke]?0:He[ke]%q;return ze&&(He=[ze].concat(He),++_e),dt(Ne,He,_e)},ye.precision=ye.sd=function(Ne,ke){var Ie,Ce,ze,Ee=this;if(Ne!=null&&Ne!==!!Ne)return de(Ne,1,le),ke==null?ke=Ge:de(ke,0,8),mt(new qe(Ee),Ne,ke);if(!(Ie=Ee.c))return null;if(ze=Ie.length-1,Ce=ze*te+1,ze=Ie[ze]){for(;ze%10==0;ze/=10,Ce--);for(ze=Ie[0];ze>=10;ze/=10,Ce++);}return Ne&&Ee.e+1>Ce&&(Ce=Ee.e+1),Ce},ye.shiftedBy=function(Ne){return de(Ne,-ie,ie),this.times("1e"+Ne)},ye.squareRoot=ye.sqrt=function(){var Ne,ke,Ie,Ce,ze,Ee=this,_e=Ee.c,He=Ee.s,Pe=Ee.e,$e=Ze+4,we=new qe("0.5");if(He!==1||!_e||!_e[0])return new qe(!He||He<0&&(!_e||_e[0])?NaN:_e?Ee:1/0);if(He=Math.sqrt(+Je(Ee)),He==0||He==1/0?(ke=ue(_e),(ke.length+Pe)%2==0&&(ke+="0"),He=Math.sqrt(+ke),Pe=pe((Pe+1)/2)-(Pe<0||Pe%2),He==1/0?ke="5e"+Pe:(ke=He.toExponential(),ke=ke.slice(0,ke.indexOf("e")+1)+Pe),Ie=new qe(ke)):Ie=new qe(He+""),Ie.c[0]){for(Pe=Ie.e,He=Pe+$e,He<3&&(He=0);;)if(ze=Ie,Ie=we.times(ze.plus(We(Ee,ze,$e,1))),ue(ze.c).slice(0,He)===(ke=ue(Ie.c)).slice(0,He))if(Ie.e<Pe&&--He,ke=ke.slice(He-3,He+1),ke=="9999"||!Ce&&ke=="4999"){if(!Ce&&(mt(ze,ze.e+Ze+2,0),ze.times(ze).eq(Ee))){Ie=ze;break}$e+=4,He+=4,Ce=1}else{(!+ke||!+ke.slice(1)&&ke.charAt(0)=="5")&&(mt(Ie,Ie.e+Ze+2,1),Ne=!Ie.times(Ie).eq(Ee));break}}return mt(Ie,Ie.e+Ze+1,Ge,Ne)},ye.toExponential=function(Ne,ke){return Ne!=null&&(de(Ne,0,le),Ne++),ot(this,Ne,ke,1)},ye.toFixed=function(Ne,ke){return Ne!=null&&(de(Ne,0,le),Ne=Ne+this.e+1),ot(this,Ne,ke)},ye.toFormat=function(Ne,ke,Ie){var Ce,ze=this;if(Ie==null)Ne!=null&&ke&&typeof ke=="object"?(Ie=ke,ke=null):Ne&&typeof Ne=="object"?(Ie=Ne,Ne=ke=null):Ie=tt;else if(typeof Ie!="object")throw Error(Q+"Argument not an object: "+Ie);if(Ce=ze.toFixed(Ne,ke),ze.c){var Ee,_e=Ce.split("."),He=+Ie.groupSize,Pe=+Ie.secondaryGroupSize,$e=Ie.groupSeparator||"",we=_e[0],Ue=_e[1],et=ze.s<0,at=et?we.slice(1):we,Ve=at.length;if(Pe&&(Ee=He,He=Pe,Pe=Ee,Ve-=Ee),He>0&&Ve>0){for(Ee=Ve%He||He,we=at.substr(0,Ee);Ee<Ve;Ee+=He)we+=$e+at.substr(Ee,He);Pe>0&&(we+=$e+at.slice(Ee)),et&&(we="-"+we)}Ce=Ue?we+(Ie.decimalSeparator||"")+((Pe=+Ie.fractionGroupSize)?Ue.replace(new RegExp("\\d{"+Pe+"}\\B","g"),"$&"+(Ie.fractionGroupSeparator||"")):Ue):we}return(Ie.prefix||"")+Ce+(Ie.suffix||"")},ye.toFraction=function(Ne){var ke,Ie,Ce,ze,Ee,_e,He,Pe,$e,we,Ue,et,at=this,Ve=at.c;if(Ne!=null&&(He=new qe(Ne),!He.isInteger()&&(He.c||He.s!==1)||He.lt(re)))throw Error(Q+"Argument "+(He.isInteger()?"out of range: ":"not an integer: ")+Je(He));if(!Ve)return new qe(at);for(ke=new qe(re),$e=Ie=new qe(re),Ce=Pe=new qe(re),et=ue(Ve),Ee=ke.e=et.length-at.e-1,ke.c[0]=ne[(_e=Ee%te)<0?te+_e:_e],Ne=!Ne||He.comparedTo(ke)>0?Ee>0?ke:$e:He,_e=Ye,Ye=1/0,He=new qe(et),Pe.c[0]=0;we=We(He,ke,0,1),ze=Ie.plus(we.times(Ce)),ze.comparedTo(Ne)!=1;)Ie=Ce,Ce=ze,$e=Pe.plus(we.times(ze=$e)),Pe=ze,ke=He.minus(we.times(ze=ke)),He=ze;return ze=We(Ne.minus(Ie),Ce,0,1),Pe=Pe.plus(ze.times($e)),Ie=Ie.plus(ze.times(Ce)),Pe.s=$e.s=at.s,Ee=Ee*2,Ue=We($e,Ce,Ee,Ge).minus(at).abs().comparedTo(We(Pe,Ie,Ee,Ge).minus(at).abs())<1?[$e,Ce]:[Pe,Ie],Ye=_e,Ue},ye.toNumber=function(){return+Je(this)},ye.toPrecision=function(Ne,ke){return Ne!=null&&de(Ne,1,le),ot(this,Ne,ke,2)},ye.toString=function(Ne){var ke,Ie=this,Ce=Ie.s,ze=Ie.e;return ze===null?Ce?(ke="Infinity",Ce<0&&(ke="-"+ke)):ke="NaN":(Ne==null?ke=ze<=ve||ze>=Te?he(ue(Ie.c),ze):Le(ue(Ie.c),ze,"0"):Ne===10&&st?(Ie=mt(new qe(Ie),Ze+ze+1,Ge),ke=Le(ue(Ie.c),Ie.e,"0")):(de(Ne,2,it.length,"Base"),ke=fe(Le(ue(Ie.c),ze,"0"),10,Ne,Ce,!0)),Ce<0&&Ie.c[0]&&(ke="-"+ke)),ke},ye.valueOf=ye.toJSON=function(){return Je(this)},ye._isBigNumber=!0,Xe!=null&&qe.set(Xe),qe}function pe(Xe){var We=Xe|0;return Xe>0||Xe===We?We:We-1}function ue(Xe){for(var We,fe,Re=1,ye=Xe.length,re=Xe[0]+"";Re<ye;){for(We=Xe[Re++]+"",fe=te-We.length;fe--;We="0"+We);re+=We}for(ye=re.length;re.charCodeAt(--ye)===48;);return re.slice(0,ye+1||1)}function ae(Xe,We){var fe,Re,ye=Xe.c,re=We.c,Ze=Xe.s,Ge=We.s,ve=Xe.e,Te=We.e;if(!Ze||!Ge)return null;if(fe=ye&&!ye[0],Re=re&&!re[0],fe||Re)return fe?Re?0:-Ge:Ze;if(Ze!=Ge)return Ze;if(fe=Ze<0,Re=ve==Te,!ye||!re)return Re?0:!ye^fe?1:-1;if(!Re)return ve>Te^fe?1:-1;for(Ge=(ve=ye.length)<(Te=re.length)?ve:Te,Ze=0;Ze<Ge;Ze++)if(ye[Ze]!=re[Ze])return ye[Ze]>re[Ze]^fe?1:-1;return ve==Te?0:ve>Te^fe?1:-1}function de(Xe,We,fe,Re){if(Xe<We||Xe>fe||Xe!==D(Xe))throw Error(Q+(Re||"Argument")+(typeof Xe=="number"?Xe<We||Xe>fe?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Xe))}function be(Xe){var We=Xe.c.length-1;return pe(Xe.e/te)==We&&Xe.c[We]%2!=0}function he(Xe,We){return(Xe.length>1?Xe.charAt(0)+"."+Xe.slice(1):Xe)+(We<0?"e":"e+")+We}function Le(Xe,We,fe){var Re,ye;if(We<0){for(ye=fe+".";++We;ye+=fe);Xe=ye+Xe}else if(Re=Xe.length,++We>Re){for(ye=fe,We-=Re;--We;ye+=fe);Xe+=ye}else We<Re&&(Xe=Xe.slice(0,We)+"."+Xe.slice(We));return Xe}U=se(),U.default=U.BigNumber=U,W=function(){return U}.call(Z,G,Z,X),W!==void 0&&(X.exports=W)})()},"../node_modules/canonicalize/lib/canonicalize.js":X=>{X.exports=function Z(G){return G===null||typeof G!="object"||G.toJSON!=null?JSON.stringify(G):Array.isArray(G)?"["+G.reduce((W,F,U)=>{const J=U===0?"":",",Y=F===void 0||typeof F=="symbol"?null:F;return W+J+Z(Y)},"")+"]":"{"+Object.keys(G).sort().reduce((W,F,U)=>{if(G[F]===void 0||typeof G[F]=="symbol")return W;const J=W.length===0?"":",";return W+J+Z(F)+":"+Z(G[F])},"")+"}"}},"../node_modules/hash.js/lib/hash.js":(X,Z,G)=>{var W=Z;W.utils=G("../node_modules/hash.js/lib/hash/utils.js"),W.common=G("../node_modules/hash.js/lib/hash/common.js"),W.sha=G("../node_modules/hash.js/lib/hash/sha.js"),W.ripemd=G("../node_modules/hash.js/lib/hash/ripemd.js"),W.hmac=G("../node_modules/hash.js/lib/hash/hmac.js"),W.sha1=W.sha.sha1,W.sha256=W.sha.sha256,W.sha224=W.sha.sha224,W.sha384=W.sha.sha384,W.sha512=W.sha.sha512,W.ripemd160=W.ripemd.ripemd160},"../node_modules/hash.js/lib/hash/common.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/minimalistic-assert/index.js");function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Z.BlockHash=U,U.prototype.update=function(Y,D){if(Y=W.toArray(Y,D),this.pending?this.pending=this.pending.concat(Y):this.pending=Y,this.pendingTotal+=Y.length,this.pending.length>=this._delta8){Y=this.pending;var Q=Y.length%this._delta8;this.pending=Y.slice(Y.length-Q,Y.length),this.pending.length===0&&(this.pending=null),Y=W.join32(Y,0,Y.length-Q,this.endian);for(var ee=0;ee<Y.length;ee+=this._delta32)this._update(Y,ee,ee+this._delta32)}return this},U.prototype.digest=function(Y){return this.update(this._pad()),F(this.pending===null),this._digest(Y)},U.prototype._pad=function(){var Y=this.pendingTotal,D=this._delta8,Q=D-(Y+this.padLength)%D,ee=new Array(Q+this.padLength);ee[0]=128;for(var q=1;q<Q;q++)ee[q]=0;if(Y<<=3,this.endian==="big"){for(var te=8;te<this.padLength;te++)ee[q++]=0;ee[q++]=0,ee[q++]=0,ee[q++]=0,ee[q++]=0,ee[q++]=Y>>>24&255,ee[q++]=Y>>>16&255,ee[q++]=Y>>>8&255,ee[q++]=Y&255}else for(ee[q++]=Y&255,ee[q++]=Y>>>8&255,ee[q++]=Y>>>16&255,ee[q++]=Y>>>24&255,ee[q++]=0,ee[q++]=0,ee[q++]=0,ee[q++]=0,te=8;te<this.padLength;te++)ee[q++]=0;return ee}},"../node_modules/hash.js/lib/hash/hmac.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/minimalistic-assert/index.js");function U(J,Y,D){if(!(this instanceof U))return new U(J,Y,D);this.Hash=J,this.blockSize=J.blockSize/8,this.outSize=J.outSize/8,this.inner=null,this.outer=null,this._init(W.toArray(Y,D))}X.exports=U,U.prototype._init=function(Y){Y.length>this.blockSize&&(Y=new this.Hash().update(Y).digest()),F(Y.length<=this.blockSize);for(var D=Y.length;D<this.blockSize;D++)Y.push(0);for(D=0;D<Y.length;D++)Y[D]^=54;for(this.inner=new this.Hash().update(Y),D=0;D<Y.length;D++)Y[D]^=106;this.outer=new this.Hash().update(Y)},U.prototype.update=function(Y,D){return this.inner.update(Y,D),this},U.prototype.digest=function(Y){return this.outer.update(this.inner.digest()),this.outer.digest(Y)}},"../node_modules/hash.js/lib/hash/ripemd.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=W.rotl32,J=W.sum32,Y=W.sum32_3,D=W.sum32_4,Q=F.BlockHash;function ee(){if(!(this instanceof ee))return new ee;Q.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}W.inherits(ee,Q),Z.ripemd160=ee,ee.blockSize=512,ee.outSize=160,ee.hmacStrength=192,ee.padLength=64,ee.prototype._update=function(ue,ae){for(var de=this.h[0],be=this.h[1],he=this.h[2],Le=this.h[3],Xe=this.h[4],We=de,fe=be,Re=he,ye=Le,re=Xe,Ze=0;Ze<80;Ze++){var Ge=J(U(D(de,q(Ze,be,he,Le),ue[ne[Ze]+ae],te(Ze)),le[Ze]),Xe);de=Xe,Xe=Le,Le=U(he,10),he=be,be=Ge,Ge=J(U(D(We,q(79-Ze,fe,Re,ye),ue[ce[Ze]+ae],ie(Ze)),se[Ze]),re),We=re,re=ye,ye=U(Re,10),Re=fe,fe=Ge}Ge=Y(this.h[1],he,ye),this.h[1]=Y(this.h[2],Le,re),this.h[2]=Y(this.h[3],Xe,We),this.h[3]=Y(this.h[4],de,fe),this.h[4]=Y(this.h[0],be,Re),this.h[0]=Ge},ee.prototype._digest=function(ue){return ue==="hex"?W.toHex32(this.h,"little"):W.split32(this.h,"little")};function q(pe,ue,ae,de){return pe<=15?ue^ae^de:pe<=31?ue&ae|~ue&de:pe<=47?(ue|~ae)^de:pe<=63?ue&de|ae&~de:ue^(ae|~de)}function te(pe){return pe<=15?0:pe<=31?1518500249:pe<=47?1859775393:pe<=63?2400959708:2840853838}function ie(pe){return pe<=15?1352829926:pe<=31?1548603684:pe<=47?1836072691:pe<=63?2053994217:0}var ne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ce=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],le=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],se=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"../node_modules/hash.js/lib/hash/sha.js":(X,Z,G)=>{Z.sha1=G("../node_modules/hash.js/lib/hash/sha/1.js"),Z.sha224=G("../node_modules/hash.js/lib/hash/sha/224.js"),Z.sha256=G("../node_modules/hash.js/lib/hash/sha/256.js"),Z.sha384=G("../node_modules/hash.js/lib/hash/sha/384.js"),Z.sha512=G("../node_modules/hash.js/lib/hash/sha/512.js")},"../node_modules/hash.js/lib/hash/sha/1.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=G("../node_modules/hash.js/lib/hash/sha/common.js"),J=W.rotl32,Y=W.sum32,D=W.sum32_5,Q=U.ft_1,ee=F.BlockHash,q=[1518500249,1859775393,2400959708,3395469782];function te(){if(!(this instanceof te))return new te;ee.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}W.inherits(te,ee),X.exports=te,te.blockSize=512,te.outSize=160,te.hmacStrength=80,te.padLength=64,te.prototype._update=function(ne,ce){for(var le=this.W,se=0;se<16;se++)le[se]=ne[ce+se];for(;se<le.length;se++)le[se]=J(le[se-3]^le[se-8]^le[se-14]^le[se-16],1);var pe=this.h[0],ue=this.h[1],ae=this.h[2],de=this.h[3],be=this.h[4];for(se=0;se<le.length;se++){var he=~~(se/20),Le=D(J(pe,5),Q(he,ue,ae,de),be,le[se],q[he]);be=de,de=ae,ae=J(ue,30),ue=pe,pe=Le}this.h[0]=Y(this.h[0],pe),this.h[1]=Y(this.h[1],ue),this.h[2]=Y(this.h[2],ae),this.h[3]=Y(this.h[3],de),this.h[4]=Y(this.h[4],be)},te.prototype._digest=function(ne){return ne==="hex"?W.toHex32(this.h,"big"):W.split32(this.h,"big")}},"../node_modules/hash.js/lib/hash/sha/224.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/sha/256.js");function U(){if(!(this instanceof U))return new U;F.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}W.inherits(U,F),X.exports=U,U.blockSize=512,U.outSize=224,U.hmacStrength=192,U.padLength=64,U.prototype._digest=function(Y){return Y==="hex"?W.toHex32(this.h.slice(0,7),"big"):W.split32(this.h.slice(0,7),"big")}},"../node_modules/hash.js/lib/hash/sha/256.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=G("../node_modules/hash.js/lib/hash/sha/common.js"),J=G("../node_modules/minimalistic-assert/index.js"),Y=W.sum32,D=W.sum32_4,Q=W.sum32_5,ee=U.ch32,q=U.maj32,te=U.s0_256,ie=U.s1_256,ne=U.g0_256,ce=U.g1_256,le=F.BlockHash,se=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pe(){if(!(this instanceof pe))return new pe;le.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=se,this.W=new Array(64)}W.inherits(pe,le),X.exports=pe,pe.blockSize=512,pe.outSize=256,pe.hmacStrength=192,pe.padLength=64,pe.prototype._update=function(ae,de){for(var be=this.W,he=0;he<16;he++)be[he]=ae[de+he];for(;he<be.length;he++)be[he]=D(ce(be[he-2]),be[he-7],ne(be[he-15]),be[he-16]);var Le=this.h[0],Xe=this.h[1],We=this.h[2],fe=this.h[3],Re=this.h[4],ye=this.h[5],re=this.h[6],Ze=this.h[7];for(J(this.k.length===be.length),he=0;he<be.length;he++){var Ge=Q(Ze,ie(Re),ee(Re,ye,re),this.k[he],be[he]),ve=Y(te(Le),q(Le,Xe,We));Ze=re,re=ye,ye=Re,Re=Y(fe,Ge),fe=We,We=Xe,Xe=Le,Le=Y(Ge,ve)}this.h[0]=Y(this.h[0],Le),this.h[1]=Y(this.h[1],Xe),this.h[2]=Y(this.h[2],We),this.h[3]=Y(this.h[3],fe),this.h[4]=Y(this.h[4],Re),this.h[5]=Y(this.h[5],ye),this.h[6]=Y(this.h[6],re),this.h[7]=Y(this.h[7],Ze)},pe.prototype._digest=function(ae){return ae==="hex"?W.toHex32(this.h,"big"):W.split32(this.h,"big")}},"../node_modules/hash.js/lib/hash/sha/384.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/sha/512.js");function U(){if(!(this instanceof U))return new U;F.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}W.inherits(U,F),X.exports=U,U.blockSize=1024,U.outSize=384,U.hmacStrength=192,U.padLength=128,U.prototype._digest=function(Y){return Y==="hex"?W.toHex32(this.h.slice(0,12),"big"):W.split32(this.h.slice(0,12),"big")}},"../node_modules/hash.js/lib/hash/sha/512.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=G("../node_modules/minimalistic-assert/index.js"),J=W.rotr64_hi,Y=W.rotr64_lo,D=W.shr64_hi,Q=W.shr64_lo,ee=W.sum64,q=W.sum64_hi,te=W.sum64_lo,ie=W.sum64_4_hi,ne=W.sum64_4_lo,ce=W.sum64_5_hi,le=W.sum64_5_lo,se=F.BlockHash,pe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ue(){if(!(this instanceof ue))return new ue;se.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pe,this.W=new Array(160)}W.inherits(ue,se),X.exports=ue,ue.blockSize=1024,ue.outSize=512,ue.hmacStrength=192,ue.padLength=128,ue.prototype._prepareBlock=function(ve,Te){for(var xe=this.W,Ye=0;Ye<32;Ye++)xe[Ye]=ve[Te+Ye];for(;Ye<xe.length;Ye+=2){var ge=re(xe[Ye-4],xe[Ye-3]),Me=Ze(xe[Ye-4],xe[Ye-3]),je=xe[Ye-14],tt=xe[Ye-13],it=Re(xe[Ye-30],xe[Ye-29]),st=ye(xe[Ye-30],xe[Ye-29]),qe=xe[Ye-32],ot=xe[Ye-31];xe[Ye]=ie(ge,Me,je,tt,it,st,qe,ot),xe[Ye+1]=ne(ge,Me,je,tt,it,st,qe,ot)}},ue.prototype._update=function(ve,Te){this._prepareBlock(ve,Te);var xe=this.W,Ye=this.h[0],ge=this.h[1],Me=this.h[2],je=this.h[3],tt=this.h[4],it=this.h[5],st=this.h[6],qe=this.h[7],ot=this.h[8],ut=this.h[9],dt=this.h[10],mt=this.h[11],Je=this.h[12],Ne=this.h[13],ke=this.h[14],Ie=this.h[15];U(this.k.length===xe.length);for(var Ce=0;Ce<xe.length;Ce+=2){var ze=ke,Ee=Ie,_e=We(ot,ut),He=fe(ot,ut),Pe=ae(ot,ut,dt,mt,Je),$e=de(ot,ut,dt,mt,Je,Ne),we=this.k[Ce],Ue=this.k[Ce+1],et=xe[Ce],at=xe[Ce+1],Ve=ce(ze,Ee,_e,He,Pe,$e,we,Ue,et,at),oe=le(ze,Ee,_e,He,Pe,$e,we,Ue,et,at);ze=Le(Ye,ge),Ee=Xe(Ye,ge),_e=be(Ye,ge,Me,je,tt),He=he(Ye,ge,Me,je,tt,it);var me=q(ze,Ee,_e,He),Se=te(ze,Ee,_e,He);ke=Je,Ie=Ne,Je=dt,Ne=mt,dt=ot,mt=ut,ot=q(st,qe,Ve,oe),ut=te(qe,qe,Ve,oe),st=tt,qe=it,tt=Me,it=je,Me=Ye,je=ge,Ye=q(Ve,oe,me,Se),ge=te(Ve,oe,me,Se)}ee(this.h,0,Ye,ge),ee(this.h,2,Me,je),ee(this.h,4,tt,it),ee(this.h,6,st,qe),ee(this.h,8,ot,ut),ee(this.h,10,dt,mt),ee(this.h,12,Je,Ne),ee(this.h,14,ke,Ie)},ue.prototype._digest=function(ve){return ve==="hex"?W.toHex32(this.h,"big"):W.split32(this.h,"big")};function ae(Ge,ve,Te,xe,Ye){var ge=Ge&Te^~Ge&Ye;return ge<0&&(ge+=4294967296),ge}function de(Ge,ve,Te,xe,Ye,ge){var Me=ve&xe^~ve&ge;return Me<0&&(Me+=4294967296),Me}function be(Ge,ve,Te,xe,Ye){var ge=Ge&Te^Ge&Ye^Te&Ye;return ge<0&&(ge+=4294967296),ge}function he(Ge,ve,Te,xe,Ye,ge){var Me=ve&xe^ve&ge^xe&ge;return Me<0&&(Me+=4294967296),Me}function Le(Ge,ve){var Te=J(Ge,ve,28),xe=J(ve,Ge,2),Ye=J(ve,Ge,7),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function Xe(Ge,ve){var Te=Y(Ge,ve,28),xe=Y(ve,Ge,2),Ye=Y(ve,Ge,7),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function We(Ge,ve){var Te=J(Ge,ve,14),xe=J(Ge,ve,18),Ye=J(ve,Ge,9),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function fe(Ge,ve){var Te=Y(Ge,ve,14),xe=Y(Ge,ve,18),Ye=Y(ve,Ge,9),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function Re(Ge,ve){var Te=J(Ge,ve,1),xe=J(Ge,ve,8),Ye=D(Ge,ve,7),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function ye(Ge,ve){var Te=Y(Ge,ve,1),xe=Y(Ge,ve,8),Ye=Q(Ge,ve,7),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function re(Ge,ve){var Te=J(Ge,ve,19),xe=J(ve,Ge,29),Ye=D(Ge,ve,6),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}function Ze(Ge,ve){var Te=Y(Ge,ve,19),xe=Y(ve,Ge,29),Ye=Q(Ge,ve,6),ge=Te^xe^Ye;return ge<0&&(ge+=4294967296),ge}},"../node_modules/hash.js/lib/hash/sha/common.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=W.rotr32;function U(ie,ne,ce,le){if(ie===0)return J(ne,ce,le);if(ie===1||ie===3)return D(ne,ce,le);if(ie===2)return Y(ne,ce,le)}Z.ft_1=U;function J(ie,ne,ce){return ie&ne^~ie&ce}Z.ch32=J;function Y(ie,ne,ce){return ie&ne^ie&ce^ne&ce}Z.maj32=Y;function D(ie,ne,ce){return ie^ne^ce}Z.p32=D;function Q(ie){return F(ie,2)^F(ie,13)^F(ie,22)}Z.s0_256=Q;function ee(ie){return F(ie,6)^F(ie,11)^F(ie,25)}Z.s1_256=ee;function q(ie){return F(ie,7)^F(ie,18)^ie>>>3}Z.g0_256=q;function te(ie){return F(ie,17)^F(ie,19)^ie>>>10}Z.g1_256=te},"../node_modules/hash.js/lib/hash/utils.js":(X,Z,G)=>{var W=G("../node_modules/minimalistic-assert/index.js"),F=G("../node_modules/inherits/inherits_browser.js");Z.inherits=F;function U(Ze,Ge){return(Ze.charCodeAt(Ge)&64512)!==55296||Ge<0||Ge+1>=Ze.length?!1:(Ze.charCodeAt(Ge+1)&64512)===56320}function J(Ze,Ge){if(Array.isArray(Ze))return Ze.slice();if(!Ze)return[];var ve=[];if(typeof Ze=="string")if(Ge){if(Ge==="hex")for(Ze=Ze.replace(/[^a-z0-9]+/ig,""),Ze.length%2!==0&&(Ze="0"+Ze),xe=0;xe<Ze.length;xe+=2)ve.push(parseInt(Ze[xe]+Ze[xe+1],16))}else for(var Te=0,xe=0;xe<Ze.length;xe++){var Ye=Ze.charCodeAt(xe);Ye<128?ve[Te++]=Ye:Ye<2048?(ve[Te++]=Ye>>6|192,ve[Te++]=Ye&63|128):U(Ze,xe)?(Ye=65536+((Ye&1023)<<10)+(Ze.charCodeAt(++xe)&1023),ve[Te++]=Ye>>18|240,ve[Te++]=Ye>>12&63|128,ve[Te++]=Ye>>6&63|128,ve[Te++]=Ye&63|128):(ve[Te++]=Ye>>12|224,ve[Te++]=Ye>>6&63|128,ve[Te++]=Ye&63|128)}else for(xe=0;xe<Ze.length;xe++)ve[xe]=Ze[xe]|0;return ve}Z.toArray=J;function Y(Ze){for(var Ge="",ve=0;ve<Ze.length;ve++)Ge+=ee(Ze[ve].toString(16));return Ge}Z.toHex=Y;function D(Ze){var Ge=Ze>>>24|Ze>>>8&65280|Ze<<8&16711680|(Ze&255)<<24;return Ge>>>0}Z.htonl=D;function Q(Ze,Ge){for(var ve="",Te=0;Te<Ze.length;Te++){var xe=Ze[Te];Ge==="little"&&(xe=D(xe)),ve+=q(xe.toString(16))}return ve}Z.toHex32=Q;function ee(Ze){return Ze.length===1?"0"+Ze:Ze}Z.zero2=ee;function q(Ze){return Ze.length===7?"0"+Ze:Ze.length===6?"00"+Ze:Ze.length===5?"000"+Ze:Ze.length===4?"0000"+Ze:Ze.length===3?"00000"+Ze:Ze.length===2?"000000"+Ze:Ze.length===1?"0000000"+Ze:Ze}Z.zero8=q;function te(Ze,Ge,ve,Te){var xe=ve-Ge;W(xe%4===0);for(var Ye=new Array(xe/4),ge=0,Me=Ge;ge<Ye.length;ge++,Me+=4){var je;Te==="big"?je=Ze[Me]<<24|Ze[Me+1]<<16|Ze[Me+2]<<8|Ze[Me+3]:je=Ze[Me+3]<<24|Ze[Me+2]<<16|Ze[Me+1]<<8|Ze[Me],Ye[ge]=je>>>0}return Ye}Z.join32=te;function ie(Ze,Ge){for(var ve=new Array(Ze.length*4),Te=0,xe=0;Te<Ze.length;Te++,xe+=4){var Ye=Ze[Te];Ge==="big"?(ve[xe]=Ye>>>24,ve[xe+1]=Ye>>>16&255,ve[xe+2]=Ye>>>8&255,ve[xe+3]=Ye&255):(ve[xe+3]=Ye>>>24,ve[xe+2]=Ye>>>16&255,ve[xe+1]=Ye>>>8&255,ve[xe]=Ye&255)}return ve}Z.split32=ie;function ne(Ze,Ge){return Ze>>>Ge|Ze<<32-Ge}Z.rotr32=ne;function ce(Ze,Ge){return Ze<<Ge|Ze>>>32-Ge}Z.rotl32=ce;function le(Ze,Ge){return Ze+Ge>>>0}Z.sum32=le;function se(Ze,Ge,ve){return Ze+Ge+ve>>>0}Z.sum32_3=se;function pe(Ze,Ge,ve,Te){return Ze+Ge+ve+Te>>>0}Z.sum32_4=pe;function ue(Ze,Ge,ve,Te,xe){return Ze+Ge+ve+Te+xe>>>0}Z.sum32_5=ue;function ae(Ze,Ge,ve,Te){var xe=Ze[Ge],Ye=Ze[Ge+1],ge=Te+Ye>>>0,Me=(ge<Te?1:0)+ve+xe;Ze[Ge]=Me>>>0,Ze[Ge+1]=ge}Z.sum64=ae;function de(Ze,Ge,ve,Te){var xe=Ge+Te>>>0,Ye=(xe<Ge?1:0)+Ze+ve;return Ye>>>0}Z.sum64_hi=de;function be(Ze,Ge,ve,Te){var xe=Ge+Te;return xe>>>0}Z.sum64_lo=be;function he(Ze,Ge,ve,Te,xe,Ye,ge,Me){var je=0,tt=Ge;tt=tt+Te>>>0,je+=tt<Ge?1:0,tt=tt+Ye>>>0,je+=tt<Ye?1:0,tt=tt+Me>>>0,je+=tt<Me?1:0;var it=Ze+ve+xe+ge+je;return it>>>0}Z.sum64_4_hi=he;function Le(Ze,Ge,ve,Te,xe,Ye,ge,Me){var je=Ge+Te+Ye+Me;return je>>>0}Z.sum64_4_lo=Le;function Xe(Ze,Ge,ve,Te,xe,Ye,ge,Me,je,tt){var it=0,st=Ge;st=st+Te>>>0,it+=st<Ge?1:0,st=st+Ye>>>0,it+=st<Ye?1:0,st=st+Me>>>0,it+=st<Me?1:0,st=st+tt>>>0,it+=st<tt?1:0;var qe=Ze+ve+xe+ge+je+it;return qe>>>0}Z.sum64_5_hi=Xe;function We(Ze,Ge,ve,Te,xe,Ye,ge,Me,je,tt){var it=Ge+Te+Ye+Me+tt;return it>>>0}Z.sum64_5_lo=We;function fe(Ze,Ge,ve){var Te=Ge<<32-ve|Ze>>>ve;return Te>>>0}Z.rotr64_hi=fe;function Re(Ze,Ge,ve){var Te=Ze<<32-ve|Ge>>>ve;return Te>>>0}Z.rotr64_lo=Re;function ye(Ze,Ge,ve){return Ze>>>ve}Z.shr64_hi=ye;function re(Ze,Ge,ve){var Te=Ze<<32-ve|Ge>>>ve;return Te>>>0}Z.shr64_lo=re},"../node_modules/inherits/inherits_browser.js":X=>{typeof Object.create=="function"?X.exports=function(G,W){W&&(G.super_=W,G.prototype=Object.create(W.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}))}:X.exports=function(G,W){if(W){G.super_=W;var F=function(){};F.prototype=W.prototype,G.prototype=new F,G.prototype.constructor=G}}},"../node_modules/lru-cache/index.js":(X,Z,G)=>{const W=G("../node_modules/yallist/yallist.js"),F=Symbol("max"),U=Symbol("length"),J=Symbol("lengthCalculator"),Y=Symbol("allowStale"),D=Symbol("maxAge"),Q=Symbol("dispose"),ee=Symbol("noDisposeOnSet"),q=Symbol("lruList"),te=Symbol("cache"),ie=Symbol("updateAgeOnGet"),ne=()=>1;class ce{constructor(he){if(typeof he=="number"&&(he={max:he}),he||(he={}),he.max&&(typeof he.max!="number"||he.max<0))throw new TypeError("max must be a non-negative number");this[F]=he.max||1/0;const Le=he.length||ne;if(this[J]=typeof Le!="function"?ne:Le,this[Y]=he.stale||!1,he.maxAge&&typeof he.maxAge!="number")throw new TypeError("maxAge must be a number");this[D]=he.maxAge||0,this[Q]=he.dispose,this[ee]=he.noDisposeOnSet||!1,this[ie]=he.updateAgeOnGet||!1,this.reset()}set max(he){if(typeof he!="number"||he<0)throw new TypeError("max must be a non-negative number");this[F]=he||1/0,pe(this)}get max(){return this[F]}set allowStale(he){this[Y]=!!he}get allowStale(){return this[Y]}set maxAge(he){if(typeof he!="number")throw new TypeError("maxAge must be a non-negative number");this[D]=he,pe(this)}get maxAge(){return this[D]}set lengthCalculator(he){typeof he!="function"&&(he=ne),he!==this[J]&&(this[J]=he,this[U]=0,this[q].forEach(Le=>{Le.length=this[J](Le.value,Le.key),this[U]+=Le.length})),pe(this)}get lengthCalculator(){return this[J]}get length(){return this[U]}get itemCount(){return this[q].length}rforEach(he,Le){Le=Le||this;for(let Xe=this[q].tail;Xe!==null;){const We=Xe.prev;de(this,he,Xe,Le),Xe=We}}forEach(he,Le){Le=Le||this;for(let Xe=this[q].head;Xe!==null;){const We=Xe.next;de(this,he,Xe,Le),Xe=We}}keys(){return this[q].toArray().map(he=>he.key)}values(){return this[q].toArray().map(he=>he.value)}reset(){this[Q]&&this[q]&&this[q].length&&this[q].forEach(he=>this[Q](he.key,he.value)),this[te]=new Map,this[q]=new W,this[U]=0}dump(){return this[q].map(he=>se(this,he)?!1:{k:he.key,v:he.value,e:he.now+(he.maxAge||0)}).toArray().filter(he=>he)}dumpLru(){return this[q]}set(he,Le,Xe){if(Xe=Xe||this[D],Xe&&typeof Xe!="number")throw new TypeError("maxAge must be a number");const We=Xe?Date.now():0,fe=this[J](Le,he);if(this[te].has(he)){if(fe>this[F])return ue(this,this[te].get(he)),!1;const re=this[te].get(he).value;return this[Q]&&(this[ee]||this[Q](he,re.value)),re.now=We,re.maxAge=Xe,re.value=Le,this[U]+=fe-re.length,re.length=fe,this.get(he),pe(this),!0}const Re=new ae(he,Le,fe,We,Xe);return Re.length>this[F]?(this[Q]&&this[Q](he,Le),!1):(this[U]+=Re.length,this[q].unshift(Re),this[te].set(he,this[q].head),pe(this),!0)}has(he){if(!this[te].has(he))return!1;const Le=this[te].get(he).value;return!se(this,Le)}get(he){return le(this,he,!0)}peek(he){return le(this,he,!1)}pop(){const he=this[q].tail;return he?(ue(this,he),he.value):null}del(he){ue(this,this[te].get(he))}load(he){this.reset();const Le=Date.now();for(let Xe=he.length-1;Xe>=0;Xe--){const We=he[Xe],fe=We.e||0;if(fe===0)this.set(We.k,We.v);else{const Re=fe-Le;Re>0&&this.set(We.k,We.v,Re)}}}prune(){this[te].forEach((he,Le)=>le(this,Le,!1))}}const le=(be,he,Le)=>{const Xe=be[te].get(he);if(Xe){const We=Xe.value;if(se(be,We)){if(ue(be,Xe),!be[Y])return}else Le&&(be[ie]&&(Xe.value.now=Date.now()),be[q].unshiftNode(Xe));return We.value}},se=(be,he)=>{if(!he||!he.maxAge&&!be[D])return!1;const Le=Date.now()-he.now;return he.maxAge?Le>he.maxAge:be[D]&&Le>be[D]},pe=be=>{if(be[U]>be[F])for(let he=be[q].tail;be[U]>be[F]&&he!==null;){const Le=he.prev;ue(be,he),he=Le}},ue=(be,he)=>{if(he){const Le=he.value;be[Q]&&be[Q](Le.key,Le.value),be[U]-=Le.length,be[te].delete(Le.key),be[q].removeNode(he)}};class ae{constructor(he,Le,Xe,We,fe){this.key=he,this.value=Le,this.length=Xe,this.now=We,this.maxAge=fe||0}}const de=(be,he,Le,Xe)=>{let We=Le.value;se(be,We)&&(ue(be,Le),be[Y]||(We=void 0)),We&&he.call(Xe,We.value,We.key,be)};X.exports=ce},"../node_modules/minimalistic-assert/index.js":X=>{X.exports=Z;function Z(G,W){if(!G)throw new Error(W||"Assertion failed")}Z.equal=function(W,F,U){if(W!=F)throw new Error(U||"Assertion failed: "+W+" != "+F)}},"../node_modules/rdf-data-factory/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/rdf-data-factory/lib/BlankNode.js"),Z),F(G("../node_modules/rdf-data-factory/lib/DataFactory.js"),Z),F(G("../node_modules/rdf-data-factory/lib/DefaultGraph.js"),Z),F(G("../node_modules/rdf-data-factory/lib/Literal.js"),Z),F(G("../node_modules/rdf-data-factory/lib/NamedNode.js"),Z),F(G("../node_modules/rdf-data-factory/lib/Quad.js"),Z),F(G("../node_modules/rdf-data-factory/lib/Variable.js"),Z)},"../node_modules/rdf-data-factory/lib/BlankNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BlankNode=void 0;class G{constructor(F){this.termType="BlankNode",this.value=F}equals(F){return!!F&&F.termType==="BlankNode"&&F.value===this.value}}Z.BlankNode=G},"../node_modules/rdf-data-factory/lib/DataFactory.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DataFactory=void 0;const W=G("../node_modules/rdf-data-factory/lib/BlankNode.js"),F=G("../node_modules/rdf-data-factory/lib/DefaultGraph.js"),U=G("../node_modules/rdf-data-factory/lib/Literal.js"),J=G("../node_modules/rdf-data-factory/lib/NamedNode.js"),Y=G("../node_modules/rdf-data-factory/lib/Quad.js"),D=G("../node_modules/rdf-data-factory/lib/Variable.js");let Q=0;class ee{constructor(te){this.blankNodeCounter=0,te=te||{},this.blankNodePrefix=te.blankNodePrefix||`df_${Q++}_`}namedNode(te){return new J.NamedNode(te)}blankNode(te){return new W.BlankNode(te||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(te,ie){return new U.Literal(te,ie)}variable(te){return new D.Variable(te)}defaultGraph(){return F.DefaultGraph.INSTANCE}quad(te,ie,ne,ce){return new Y.Quad(te,ie,ne,ce||this.defaultGraph())}fromTerm(te){switch(te.termType){case"NamedNode":return this.namedNode(te.value);case"BlankNode":return this.blankNode(te.value);case"Literal":return te.language?this.literal(te.value,te.language):te.datatype.equals(U.Literal.XSD_STRING)?this.literal(te.value):this.literal(te.value,this.fromTerm(te.datatype));case"Variable":return this.variable(te.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(te.subject),this.fromTerm(te.predicate),this.fromTerm(te.object),this.fromTerm(te.graph))}}fromQuad(te){return this.fromTerm(te)}resetBlankNodeCounter(){this.blankNodeCounter=0}}Z.DataFactory=ee},"../node_modules/rdf-data-factory/lib/DefaultGraph.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DefaultGraph=void 0;class G{constructor(){this.termType="DefaultGraph",this.value=""}equals(F){return!!F&&F.termType==="DefaultGraph"}}Z.DefaultGraph=G,G.INSTANCE=new G},"../node_modules/rdf-data-factory/lib/Literal.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Literal=void 0;const W=G("../node_modules/rdf-data-factory/lib/NamedNode.js");class F{constructor(J,Y){this.termType="Literal",this.value=J,typeof Y=="string"?(this.language=Y,this.datatype=F.RDF_LANGUAGE_STRING):Y?(this.language="",this.datatype=Y):(this.language="",this.datatype=F.XSD_STRING)}equals(J){return!!J&&J.termType==="Literal"&&J.value===this.value&&J.language===this.language&&J.datatype.equals(this.datatype)}}Z.Literal=F,F.RDF_LANGUAGE_STRING=new W.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),F.XSD_STRING=new W.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"../node_modules/rdf-data-factory/lib/NamedNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NamedNode=void 0;class G{constructor(F){this.termType="NamedNode",this.value=F}equals(F){return!!F&&F.termType==="NamedNode"&&F.value===this.value}}Z.NamedNode=G},"../node_modules/rdf-data-factory/lib/Quad.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Quad=void 0;class G{constructor(F,U,J,Y){this.termType="Quad",this.value="",this.subject=F,this.predicate=U,this.object=J,this.graph=Y}equals(F){return!!F&&(F.termType==="Quad"||!F.termType)&&this.subject.equals(F.subject)&&this.predicate.equals(F.predicate)&&this.object.equals(F.object)&&this.graph.equals(F.graph)}}Z.Quad=G},"../node_modules/rdf-data-factory/lib/Variable.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Variable=void 0;class G{constructor(F){this.termType="Variable",this.value=F}equals(F){return!!F&&F.termType==="Variable"&&F.value===this.value}}Z.Variable=G},"../node_modules/rdf-string/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.termToString=Z.stringToTerm=Z.stringQuadToQuad=Z.quadToStringQuad=Z.getLiteralValue=Z.getLiteralType=Z.getLiteralLanguage=void 0;const W=G("../node_modules/rdf-string/lib/TermUtil.js");Object.defineProperty(Z,"getLiteralLanguage",{enumerable:!0,get:function(){return W.getLiteralLanguage}}),Object.defineProperty(Z,"getLiteralType",{enumerable:!0,get:function(){return W.getLiteralType}}),Object.defineProperty(Z,"getLiteralValue",{enumerable:!0,get:function(){return W.getLiteralValue}}),Object.defineProperty(Z,"quadToStringQuad",{enumerable:!0,get:function(){return W.quadToStringQuad}}),Object.defineProperty(Z,"stringQuadToQuad",{enumerable:!0,get:function(){return W.stringQuadToQuad}}),Object.defineProperty(Z,"stringToTerm",{enumerable:!0,get:function(){return W.stringToTerm}}),Object.defineProperty(Z,"termToString",{enumerable:!0,get:function(){return W.termToString}})},"../node_modules/rdf-string/lib/TermUtil.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.stringQuadToQuad=Z.quadToStringQuad=Z.stringToTerm=Z.getLiteralLanguage=Z.getLiteralType=Z.getLiteralValue=Z.termToString=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=new W.DataFactory;function U(te){if(te)switch(te.termType){case"NamedNode":return te.value;case"BlankNode":return"_:"+te.value;case"Literal":const ie=te;return'"'+ie.value+'"'+(ie.datatype&&ie.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&ie.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+ie.datatype.value:"")+(ie.language?"@"+ie.language:"");case"Quad":return`<<${U(te.subject)} ${U(te.predicate)} ${U(te.object)}${te.graph.termType==="DefaultGraph"?"":" "+U(te.graph)}>>`;case"Variable":return"?"+te.value;case"DefaultGraph":return te.value}}Z.termToString=U;function J(te){const ie=/^"([^]*)"/.exec(te);if(!ie)throw new Error(te+" is not a literal");return ie[1]}Z.getLiteralValue=J;function Y(te){const ie=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(te);if(!ie)throw new Error(te+" is not a literal");return ie[1]||(ie[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Z.getLiteralType=Y;function D(te){const ie=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(te);if(!ie)throw new Error(te+" is not a literal");return ie[1]?ie[1].toLowerCase():""}Z.getLiteralLanguage=D;function Q(te,ie){if(ie=ie||F,!te||!te.length)return ie.defaultGraph();switch(te[0]){case"_":return ie.blankNode(te.substr(2));case"?":if(!ie.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return ie.variable(te.substr(1));case'"':const ne=D(te),ce=ie.namedNode(Y(te));return ie.literal(J(te),ne||ce);case"<":default:if(te.startsWith("<<")&&te.endsWith(">>")){const le=te.slice(2,-2).trim();let se=[],pe=0,ue=0,ae=!1;for(let de=0;de<le.length;de++){const be=le[de];if(be==="<"&&pe++,be===">"){if(pe===0)throw new Error("Found closing tag without opening tag in "+te);pe--}if(be==='"'){let he=!1,Le=de;for(;Le-- >0&&le[Le]==="\\";)he=!he;he||(ae=!ae)}if(be===" "&&!ae&&pe===0){for(se.push(le.slice(ue,de));le[de+1]===" ";)de+=1;ue=de+1}}if(pe!==0)throw new Error("Found opening tag without closing tag in "+te);if(se.push(le.slice(ue,le.length)),se.length!==3&&se.length!==4)throw new Error("Nested quad syntax error "+te);return se=se.map(de=>de.startsWith("<")&&!de.includes(" ")?de.slice(1,-1):de),ie.quad(Q(se[0]),Q(se[1]),Q(se[2]),se[3]?Q(se[3]):void 0)}return ie.namedNode(te)}}Z.stringToTerm=Q;function ee(te){return{subject:U(te.subject),predicate:U(te.predicate),object:U(te.object),graph:U(te.graph)}}Z.quadToStringQuad=ee;function q(te,ie){return ie=ie||F,ie.quad(Q(te.subject,ie),Q(te.predicate,ie),Q(te.object,ie),Q(te.graph,ie))}Z.stringQuadToQuad=q},"../node_modules/rdf-terms/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/rdf-terms/lib/QuadTermUtil.js"),Z),F(G("../node_modules/rdf-terms/lib/TermUtil.js"),Z)},"../node_modules/rdf-terms/lib/QuadTermUtil.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.matchPatternMappings=Z.matchPatternComplete=Z.matchPattern=Z.matchTerm=Z.someTerms=Z.everyTerms=Z.reduceTerms=Z.mapTerms=Z.filterQuadTermNames=Z.filterTerms=Z.forEachTerms=Z.collectNamedTerms=Z.getNamedTerms=Z.getTermsNested=Z.getTerms=Z.TRIPLE_TERM_NAMES=Z.QUAD_TERM_NAMES=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=new W.DataFactory;Z.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Z.TRIPLE_TERM_NAMES=["subject","predicate","object"];function U(ae,de){return de&&ae.graph.termType==="DefaultGraph"?[ae.subject,ae.predicate,ae.object]:[ae.subject,ae.predicate,ae.object,ae.graph]}Z.getTerms=U;function J(ae,de){const be=[];for(const he of U(ae,de))he.termType==="Quad"?J(he,de).forEach(Le=>be.push(Le)):be.push(he);return be}Z.getTermsNested=J;function Y(ae){return[{key:"subject",value:ae.subject},{key:"predicate",value:ae.predicate},{key:"object",value:ae.object},{key:"graph",value:ae.graph}]}Z.getNamedTerms=Y;function D(ae,de,be){const he={};return ae.forEach(Le=>he[Le.key]=Le.value),de&&(he.subject=he.subject||de("subject"),he.predicate=he.predicate||de("predicate"),he.object=he.object||de("object"),he.graph=he.graph||de("graph")),(be||F).quad(he.subject,he.predicate,he.object,he.graph)}Z.collectNamedTerms=D;function Q(ae,de){de(ae.subject,"subject"),de(ae.predicate,"predicate"),de(ae.object,"object"),de(ae.graph,"graph")}Z.forEachTerms=Q;function ee(ae,de){const be=[];return de(ae.subject,"subject")&&be.push(ae.subject),de(ae.predicate,"predicate")&&be.push(ae.predicate),de(ae.object,"object")&&be.push(ae.object),de(ae.graph,"graph")&&be.push(ae.graph),be}Z.filterTerms=ee;function q(ae,de){const be=[];return de(ae.subject,"subject")&&be.push("subject"),de(ae.predicate,"predicate")&&be.push("predicate"),de(ae.object,"object")&&be.push("object"),de(ae.graph,"graph")&&be.push("graph"),be}Z.filterQuadTermNames=q;function te(ae,de,be){return(be||F).quad(de(ae.subject,"subject"),de(ae.predicate,"predicate"),de(ae.object,"object"),de(ae.graph,"graph"))}Z.mapTerms=te;function ie(ae,de,be){let he=be;return he=de(he,ae.subject,"subject"),he=de(he,ae.predicate,"predicate"),he=de(he,ae.object,"object"),de(he,ae.graph,"graph")}Z.reduceTerms=ie;function ne(ae,de){return de(ae.subject,"subject")&&de(ae.predicate,"predicate")&&de(ae.object,"object")&&de(ae.graph,"graph")}Z.everyTerms=ne;function ce(ae,de){return de(ae.subject,"subject")||de(ae.predicate,"predicate")||de(ae.object,"object")||de(ae.graph,"graph")}Z.someTerms=ce;function le(ae,de){return!de||de.termType==="Variable"||de.termType==="Quad"&&ae.termType==="Quad"&&pe(ae,de)||de.equals(ae)}Z.matchTerm=le;function se(ae,de,be,he,Le){return le(ae.subject,de)&&le(ae.predicate,be)&&le(ae.object,he)&&le(ae.graph,Le)}Z.matchPattern=se;function pe(ae,de){return se(ae,de.subject,de.predicate,de.object,de.graph)}Z.matchPatternComplete=pe;function ue(ae,de,be={}){const he={};function Le(Xe,We){return ne(Xe,(fe,Re)=>{var ye,re;const Ze=We[Re];switch(fe.termType){case"Variable":return be.skipVarMapping&&Ze.termType==="Variable"||((re=(ye=he[fe.value])===null||ye===void 0?void 0:ye.equals(Ze))!==null&&re!==void 0?re:(he[fe.value]=Ze,!0));case"Quad":return Ze.termType==="Quad"&&Le(fe,Ze);default:return fe.equals(Ze)}})}return Le(de,ae)&&(be.returnMappings?he:!0)}Z.matchPatternMappings=ue},"../node_modules/rdf-terms/lib/TermUtil.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getQuads=Z.getDefaultGraphs=Z.getVariables=Z.getLiterals=Z.getBlankNodes=Z.getNamedNodes=Z.getTermsOfType=Z.uniqTerms=Z.TERM_TYPES=void 0;const W=G("../node_modules/rdf-string/index.js");Z.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function F(te){const ie={};return te.filter(ne=>{const ce=W.termToString(ne);return!(ce in ie)&&(ie[ce]=!0)})}Z.uniqTerms=F;function U(te,ie){return te.filter(ne=>ne.termType===ie)}Z.getTermsOfType=U;function J(te){return U(te,"NamedNode")}Z.getNamedNodes=J;function Y(te){return U(te,"BlankNode")}Z.getBlankNodes=Y;function D(te){return U(te,"Literal")}Z.getLiterals=D;function Q(te){return U(te,"Variable")}Z.getVariables=Q;function ee(te){return U(te,"DefaultGraph")}Z.getDefaultGraphs=ee;function q(te){return U(te,"Quad")}Z.getQuads=q},"../node_modules/relative-to-absolute-iri/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/relative-to-absolute-iri/lib/Resolve.js"),Z)},"../node_modules/relative-to-absolute-iri/lib/Resolve.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.removeDotSegmentsOfPath=Z.removeDotSegments=Z.resolve=void 0;function G(J,Y){Y=Y||"";const D=Y.indexOf("#");if(D>0&&(Y=Y.substr(0,D)),!J.length){if(Y.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${J}'`);return Y}if(J.startsWith("?")){const ce=Y.indexOf("?");return ce>0&&(Y=Y.substr(0,ce)),Y+J}if(J.startsWith("#"))return Y+J;if(!Y.length){const ce=J.indexOf(":");if(ce<0)throw new Error(`Found invalid relative IRI '${J}' for a missing baseIRI`);return F(J,ce)}const Q=J.indexOf(":");if(Q>=0)return F(J,Q);const ee=Y.indexOf(":");if(ee<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${J}'`);const q=Y.substr(0,ee+1);if(J.indexOf("//")===0)return q+F(J,Q);let te;if(Y.indexOf("//",ee)===ee+1){if(te=Y.indexOf("/",ee+3),te<0)return Y.length>ee+3?Y+"/"+F(J,Q):q+F(J,Q)}else if(te=Y.indexOf("/",ee+1),te<0)return q+F(J,Q);if(J.indexOf("/")===0)return Y.substr(0,te)+W(J);let ie=Y.substr(te);const ne=ie.lastIndexOf("/");return ne>=0&&ne<ie.length-1&&(ie=ie.substr(0,ne+1),J[0]==="."&&J[1]!=="."&&J[1]!=="/"&&J[2]&&(J=J.substr(1))),J=ie+J,J=W(J),Y.substr(0,te)+J}Z.resolve=G;function W(J){const Y=[];let D=0;for(;D<J.length;)switch(J[D]){case"/":if(J[D+1]===".")if(J[D+2]==="."){if(!U(J[D+3])){Y.push([]),D++;break}Y.pop(),J[D+3]||Y.push([]),D+=3}else{if(!U(J[D+2])){Y.push([]),D++;break}J[D+2]||Y.push([]),D+=2}else Y.push([]),D++;break;case"#":case"?":Y.length||Y.push([]),Y[Y.length-1].push(J.substr(D)),D=J.length;break;default:Y.length||Y.push([]),Y[Y.length-1].push(J[D]),D++;break}return"/"+Y.map(Q=>Q.join("")).join("/")}Z.removeDotSegments=W;function F(J,Y){let D=Y+1;Y>=0?J[Y+1]==="/"&&J[Y+2]==="/"&&(D=Y+3):J[0]==="/"&&J[1]==="/"&&(D=2);const Q=J.indexOf("/",D);if(Q<0)return J;const ee=J.substr(0,Q),q=J.substr(Q);return ee+W(q)}Z.removeDotSegmentsOfPath=F;function U(J){return!J||J==="#"||J==="?"||J==="/"}},"../node_modules/spark-md5/spark-md5.js":X=>{(function(Z){X.exports=Z()})(function(Z){var G=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function W(le,se){var pe=le[0],ue=le[1],ae=le[2],de=le[3];pe+=(ue&ae|~ue&de)+se[0]-680876936|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[1]-389564586|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[2]+606105819|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[3]-1044525330|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&ae|~ue&de)+se[4]-176418897|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[5]+1200080426|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[6]-1473231341|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[7]-45705983|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&ae|~ue&de)+se[8]+1770035416|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[9]-1958414417|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[10]-42063|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[11]-1990404162|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&ae|~ue&de)+se[12]+1804603682|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[13]-40341101|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[14]-1502002290|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[15]+1236535329|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&de|ae&~de)+se[1]-165796510|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[6]-1069501632|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[11]+643717713|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[0]-373897302|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue&de|ae&~de)+se[5]-701558691|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[10]+38016083|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[15]-660478335|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[4]-405537848|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue&de|ae&~de)+se[9]+568446438|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[14]-1019803690|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[3]-187363961|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[8]+1163531501|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue&de|ae&~de)+se[13]-1444681467|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[2]-51403784|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[7]+1735328473|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[12]-1926607734|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue^ae^de)+se[5]-378558|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[8]-2022574463|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[11]+1839030562|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[14]-35309556|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ue^ae^de)+se[1]-1530992060|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[4]+1272893353|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[7]-155497632|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[10]-1094730640|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ue^ae^de)+se[13]+681279174|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[0]-358537222|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[3]-722521979|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[6]+76029189|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ue^ae^de)+se[9]-640364487|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[12]-421815835|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[15]+530742520|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[2]-995338651|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ae^(ue|~de))+se[0]-198630844|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[7]+1126891415|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[14]-1416354905|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[5]-57434055|0,ue=(ue<<21|ue>>>11)+ae|0,pe+=(ae^(ue|~de))+se[12]+1700485571|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[3]-1894986606|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[10]-1051523|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[1]-2054922799|0,ue=(ue<<21|ue>>>11)+ae|0,pe+=(ae^(ue|~de))+se[8]+1873313359|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[15]-30611744|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[6]-1560198380|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[13]+1309151649|0,ue=(ue<<21|ue>>>11)+ae|0,pe+=(ae^(ue|~de))+se[4]-145523070|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[11]-1120210379|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[2]+718787259|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[9]-343485551|0,ue=(ue<<21|ue>>>11)+ae|0,le[0]=pe+le[0]|0,le[1]=ue+le[1]|0,le[2]=ae+le[2]|0,le[3]=de+le[3]|0}function F(le){var se=[],pe;for(pe=0;pe<64;pe+=4)se[pe>>2]=le.charCodeAt(pe)+(le.charCodeAt(pe+1)<<8)+(le.charCodeAt(pe+2)<<16)+(le.charCodeAt(pe+3)<<24);return se}function U(le){var se=[],pe;for(pe=0;pe<64;pe+=4)se[pe>>2]=le[pe]+(le[pe+1]<<8)+(le[pe+2]<<16)+(le[pe+3]<<24);return se}function J(le){var se=le.length,pe=[1732584193,-271733879,-1732584194,271733878],ue,ae,de,be,he,Le;for(ue=64;ue<=se;ue+=64)W(pe,F(le.substring(ue-64,ue)));for(le=le.substring(ue-64),ae=le.length,de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=0;ue<ae;ue+=1)de[ue>>2]|=le.charCodeAt(ue)<<(ue%4<<3);if(de[ue>>2]|=128<<(ue%4<<3),ue>55)for(W(pe,de),ue=0;ue<16;ue+=1)de[ue]=0;return be=se*8,be=be.toString(16).match(/(.*?)(.{0,8})$/),he=parseInt(be[2],16),Le=parseInt(be[1],16)||0,de[14]=he,de[15]=Le,W(pe,de),pe}function Y(le){var se=le.length,pe=[1732584193,-271733879,-1732584194,271733878],ue,ae,de,be,he,Le;for(ue=64;ue<=se;ue+=64)W(pe,U(le.subarray(ue-64,ue)));for(le=ue-64<se?le.subarray(ue-64):new Uint8Array(0),ae=le.length,de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=0;ue<ae;ue+=1)de[ue>>2]|=le[ue]<<(ue%4<<3);if(de[ue>>2]|=128<<(ue%4<<3),ue>55)for(W(pe,de),ue=0;ue<16;ue+=1)de[ue]=0;return be=se*8,be=be.toString(16).match(/(.*?)(.{0,8})$/),he=parseInt(be[2],16),Le=parseInt(be[1],16)||0,de[14]=he,de[15]=Le,W(pe,de),pe}function D(le){var se="",pe;for(pe=0;pe<4;pe+=1)se+=G[le>>pe*8+4&15]+G[le>>pe*8&15];return se}function Q(le){var se;for(se=0;se<le.length;se+=1)le[se]=D(le[se]);return le.join("")}Q(J("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function le(se,pe){return se=se|0||0,se<0?Math.max(se+pe,0):Math.min(se,pe)}ArrayBuffer.prototype.slice=function(se,pe){var ue=this.byteLength,ae=le(se,ue),de=ue,be,he,Le,Xe;return pe!==Z&&(de=le(pe,ue)),ae>de?new ArrayBuffer(0):(be=de-ae,he=new ArrayBuffer(be),Le=new Uint8Array(he),Xe=new Uint8Array(this,ae,be),Le.set(Xe),he)}}();function ee(le){return/[\u0080-\uFFFF]/.test(le)&&(le=unescape(encodeURIComponent(le))),le}function q(le,se){var pe=le.length,ue=new ArrayBuffer(pe),ae=new Uint8Array(ue),de;for(de=0;de<pe;de+=1)ae[de]=le.charCodeAt(de);return se?ae:ue}function te(le){return String.fromCharCode.apply(null,new Uint8Array(le))}function ie(le,se,pe){var ue=new Uint8Array(le.byteLength+se.byteLength);return ue.set(new Uint8Array(le)),ue.set(new Uint8Array(se),le.byteLength),pe?ue:ue.buffer}function ne(le){var se=[],pe=le.length,ue;for(ue=0;ue<pe-1;ue+=2)se.push(parseInt(le.substr(ue,2),16));return String.fromCharCode.apply(String,se)}function ce(){this.reset()}return ce.prototype.append=function(le){return this.appendBinary(ee(le)),this},ce.prototype.appendBinary=function(le){this._buff+=le,this._length+=le.length;var se=this._buff.length,pe;for(pe=64;pe<=se;pe+=64)W(this._hash,F(this._buff.substring(pe-64,pe)));return this._buff=this._buff.substring(pe-64),this},ce.prototype.end=function(le){var se=this._buff,pe=se.length,ue,ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de;for(ue=0;ue<pe;ue+=1)ae[ue>>2]|=se.charCodeAt(ue)<<(ue%4<<3);return this._finish(ae,pe),de=Q(this._hash),le&&(de=ne(de)),this.reset(),de},ce.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ce.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},ce.prototype.setState=function(le){return this._buff=le.buff,this._length=le.length,this._hash=le.hash,this},ce.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},ce.prototype._finish=function(le,se){var pe=se,ue,ae,de;if(le[pe>>2]|=128<<(pe%4<<3),pe>55)for(W(this._hash,le),pe=0;pe<16;pe+=1)le[pe]=0;ue=this._length*8,ue=ue.toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(ue[2],16),de=parseInt(ue[1],16)||0,le[14]=ae,le[15]=de,W(this._hash,le)},ce.hash=function(le,se){return ce.hashBinary(ee(le),se)},ce.hashBinary=function(le,se){var pe=J(le),ue=Q(pe);return se?ne(ue):ue},ce.ArrayBuffer=function(){this.reset()},ce.ArrayBuffer.prototype.append=function(le){var se=ie(this._buff.buffer,le,!0),pe=se.length,ue;for(this._length+=le.byteLength,ue=64;ue<=pe;ue+=64)W(this._hash,U(se.subarray(ue-64,ue)));return this._buff=ue-64<pe?new Uint8Array(se.buffer.slice(ue-64)):new Uint8Array(0),this},ce.ArrayBuffer.prototype.end=function(le){var se=this._buff,pe=se.length,ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae,de;for(ae=0;ae<pe;ae+=1)ue[ae>>2]|=se[ae]<<(ae%4<<3);return this._finish(ue,pe),de=Q(this._hash),le&&(de=ne(de)),this.reset(),de},ce.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ce.ArrayBuffer.prototype.getState=function(){var le=ce.prototype.getState.call(this);return le.buff=te(le.buff),le},ce.ArrayBuffer.prototype.setState=function(le){return le.buff=q(le.buff,!0),ce.prototype.setState.call(this,le)},ce.ArrayBuffer.prototype.destroy=ce.prototype.destroy,ce.ArrayBuffer.prototype._finish=ce.prototype._finish,ce.ArrayBuffer.hash=function(le,se){var pe=Y(new Uint8Array(le)),ue=Q(pe);return se?ne(ue):ue},ce})},"../node_modules/sparqlee/dist/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncAggregateEvaluator=Z.orderTypes=Z.isExpressionError=Z.ExpressionError=Z.AggregateEvaluator=Z.SyncEvaluator=Z.AsyncEvaluator=void 0;var W=G("../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js");Object.defineProperty(Z,"AsyncEvaluator",{enumerable:!0,get:function(){return W.AsyncEvaluator}});var F=G("../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js");Object.defineProperty(Z,"SyncEvaluator",{enumerable:!0,get:function(){return F.SyncEvaluator}});var U=G("../node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js");Object.defineProperty(Z,"AggregateEvaluator",{enumerable:!0,get:function(){return U.AggregateEvaluator}});var J=G("../node_modules/sparqlee/dist/lib/util/Errors.js");Object.defineProperty(Z,"ExpressionError",{enumerable:!0,get:function(){return J.ExpressionError}}),Object.defineProperty(Z,"isExpressionError",{enumerable:!0,get:function(){return J.isExpressionError}});var Y=G("../node_modules/sparqlee/dist/lib/util/Ordering.js");Object.defineProperty(Z,"orderTypes",{enumerable:!0,get:function(){return Y.orderTypes}});var D=G("../node_modules/sparqlee/dist/lib/evaluators/AsyncAggregateEvaluator.js");Object.defineProperty(Z,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return D.AsyncAggregateEvaluator}})},"../node_modules/sparqlee/dist/lib/aggregators/Average.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Average=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/functions/index.js"),U=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class D extends Y.BaseAggregator{constructor(){super(...arguments),this.summer=F.regularFunctions[J.RegularOperator.ADDITION],this.divider=F.regularFunctions[J.RegularOperator.DIVISION]}static emptyValue(){return(0,U.integer)(0).toRDF()}init(ee){return{sum:this.termToNumericOrError(ee),count:1}}put(ee,q){const te=this.termToNumericOrError(q);return{sum:this.summer.apply([ee.sum,te],this.sharedContext),count:ee.count+1}}result(ee){const q=new W.IntegerLiteral(ee.count);return this.divider.apply([ee.sum,q],this.sharedContext).toRDF()}}Z.Average=D},"../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseAggregator=void 0;const W=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),U=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js");class J{constructor(D,Q){this.sharedContext=Q,this.distinct=D.distinct,this.separator=D.separator||" ",this.termTransformer=new W.TermTransformer(Q.superTypeProvider)}termToNumericOrError(D){if(D.termType!=="Literal")throw new Error(`Term with value ${D.value} has type ${D.termType} and is not a numeric literal`);if(!(0,U.isSubTypeOf)(D.datatype.value,F.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${D.datatype.value} with value ${D.value} has type ${D.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(D)}extractValue(D){if(D.termType!=="Literal")throw new Error(`Term with value ${D.value} has type ${D.termType} and is not a literal`);const Q=this.termTransformer.transformLiteral(D);return{type:Q.dataType,value:Q.typedValue}}static emptyValue(){}}Z.BaseAggregator=J},"../node_modules/sparqlee/dist/lib/aggregators/Count.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Count=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),F=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class U extends F.BaseAggregator{static emptyValue(){return(0,W.integer)(0).toRDF()}init(Y){return 1}put(Y,D){return Y+1}result(Y){return(0,W.integer)(Y).toRDF()}}Z.Count=U},"../node_modules/sparqlee/dist/lib/aggregators/GroupConcat.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.GroupConcat=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),F=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class U extends F.BaseAggregator{static emptyValue(){return(0,W.string)("").toRDF()}init(Y){return Y.value}put(Y,D){return Y+this.separator+D.value}result(Y){return(0,W.string)(Y).toRDF()}}Z.GroupConcat=U},"../node_modules/sparqlee/dist/lib/aggregators/Max.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Max=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class F extends W.BaseAggregator{init(J){const{value:Y}=this.extractValue(J);return{extremeValue:Y,term:J}}put(J,Y){const D=this.extractValue(Y);return D.value>J.extremeValue?{extremeValue:D.value,term:Y}:J}result(J){return J.term}}Z.Max=F},"../node_modules/sparqlee/dist/lib/aggregators/Min.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Min=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class F extends W.BaseAggregator{init(J){const{value:Y}=this.extractValue(J);return{extremeValue:Y,term:J}}put(J,Y){const D=this.extractValue(Y);return D.value<J.extremeValue?{extremeValue:D.value,term:Y}:J}result(J){return J.term}}Z.Min=F},"../node_modules/sparqlee/dist/lib/aggregators/Sample.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sample=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class F extends W.BaseAggregator{init(J){return J}put(J,Y){return J}result(J){return J}}Z.Sample=F},"../node_modules/sparqlee/dist/lib/aggregators/Sum.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sum=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/index.js"),F=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class Y extends J.BaseAggregator{constructor(){super(...arguments),this.summer=W.regularFunctions[U.RegularOperator.ADDITION]}static emptyValue(){return(0,F.integer)(0).toRDF()}init(Q){return this.termToNumericOrError(Q)}put(Q,ee){const q=this.termToNumericOrError(ee);return this.summer.apply([Q,q],this.sharedContext)}result(Q){return Q.toRDF()}}Z.Sum=Y},"../node_modules/sparqlee/dist/lib/aggregators/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.aggregators=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/Average.js"),F=G("../node_modules/sparqlee/dist/lib/aggregators/Count.js"),U=G("../node_modules/sparqlee/dist/lib/aggregators/GroupConcat.js"),J=G("../node_modules/sparqlee/dist/lib/aggregators/Max.js"),Y=G("../node_modules/sparqlee/dist/lib/aggregators/Min.js"),D=G("../node_modules/sparqlee/dist/lib/aggregators/Sample.js"),Q=G("../node_modules/sparqlee/dist/lib/aggregators/Sum.js");Z.aggregators={count:F.Count,sum:Q.Sum,min:Y.Min,max:J.Max,avg:W.Average,group_concat:U.GroupConcat,sample:D.Sample}},"../node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AggregateEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js"),F=G("../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js");class U extends W.BaseAggregateEvaluator{constructor(Y,D,Q){super(Y,F.SyncEvaluator.completeContext(D||{}),Q),this.evaluator=new F.SyncEvaluator(Y.expression,D)}put(Y){this.init(Y)}__put(Y){try{const D=this.evaluator.evaluate(Y);this.state=this.aggregator.put(this.state,D)}catch(D){this.safeThrow(D)}}safeThrow(Y){if(this.throwError)throw Y;this.put=()=>{},this.result=()=>{}}init(Y){try{const D=this.evaluator.evaluate(Y);this.state=this.aggregator.init(D),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(D){this.safeThrow(D)}}}Z.AggregateEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/AsyncAggregateEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncAggregateEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js"),F=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js");class U extends F.BaseAggregateEvaluator{constructor(Y,D,Q){super(Y,W.AsyncEvaluator.completeContext(D||{}),Q),this.evaluator=new W.AsyncEvaluator(Y.expression,D),this.errorOccurred=!1}put(Y){return this.init(Y)}async __put(Y){try{const D=await this.evaluator.evaluate(Y);this.state=this.aggregator.put(this.state,D)}catch(D){this.safeThrow(D)}}safeThrow(Y){if(this.throwError)throw Y;this.put=async()=>{},this.result=()=>{},this.errorOccurred=!0}async init(Y){try{const D=await this.evaluator.evaluate(Y);if(!D||this.errorOccurred)return;if(this.state){this.state=this.aggregator.put(this.state,D);return}this.state=this.aggregator.init(D),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(D){this.safeThrow(D)}}}Z.AsyncAggregateEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncEvaluator=void 0;const W=G("../node_modules/lru-cache/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/AsyncRecursiveEvaluator.js");class J{constructor(D,Q={}){this.algExpr=D;const ee=Q.extensionFunctionCreator||(()=>{}),q=J.completeContext(Q),te=new F.AlgebraTransformer(Object.assign({type:"async",creator:ee},q));this.expr=te.transformAlgebra(D),this.evaluator=new U.AsyncRecursiveEvaluator(q,te)}static completeContext(D){return{now:D.now||new Date(Date.now()),baseIRI:D.baseIRI||void 0,functionArgumentsCache:D.functionArgumentsCache||{},superTypeProvider:{cache:D.typeCache||new W,discoverer:D.getSuperType||(()=>"term")},extensionFunctionCreator:D.extensionFunctionCreator,exists:D.exists,aggregate:D.aggregate,bnode:D.bnode}}async evaluate(D){return(await this.evaluator.evaluate(this.expr,D)).toRDF()}async evaluateAsEBV(D){return(await this.evaluator.evaluate(this.expr,D)).coerceEBV()}async evaluateAsInternal(D){return await this.evaluator.evaluate(this.expr,D)}}Z.AsyncEvaluator=J},"../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SyncEvaluator=void 0;const W=G("../node_modules/lru-cache/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/SyncRecursiveEvaluator.js");class J{constructor(D,Q={}){this.algExpr=D,this.context=Q;const ee=Q.extensionFunctionCreator||(()=>{}),q=J.completeContext(Q),te=new F.AlgebraTransformer(Object.assign({type:"sync",creator:ee},q));this.expr=te.transformAlgebra(D),this.evaluator=new U.SyncRecursiveEvaluator(q,te)}static completeContext(D){return{now:D.now||new Date(Date.now()),baseIRI:D.baseIRI||void 0,functionArgumentsCache:D.functionArgumentsCache||{},superTypeProvider:{cache:D.typeCache||new W,discoverer:D.getSuperType||(()=>"term")},extensionFunctionCreator:D.extensionFunctionCreator,exists:D.exists,aggregate:D.aggregate,bnode:D.bnode}}evaluate(D){return this.evaluator.evaluate(this.expr,D).toRDF()}evaluateAsEBV(D){return this.evaluator.evaluate(this.expr,D).coerceEBV()}evaluateAsInternal(D){return this.evaluator.evaluate(this.expr,D)}}Z.SyncEvaluator=J},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/AsyncRecursiveEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncRecursiveEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),J=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js");class Y extends J.BaseExpressionEvaluator{constructor(Q,ee){super(ee||new F.TermTransformer(Q.superTypeProvider)),this.context=Q,this.subEvaluators={[W.ExpressionType.Term]:this.term.bind(this),[W.ExpressionType.Variable]:this.variable.bind(this),[W.ExpressionType.Operator]:this.evalOperator.bind(this),[W.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[W.ExpressionType.Named]:this.evalNamed.bind(this),[W.ExpressionType.Existence]:this.evalExistence.bind(this),[W.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[W.ExpressionType.AsyncExtension]:this.evalAsyncExtension.bind(this)}}async evaluate(Q,ee){const q=this.subEvaluators[Q.expressionType];if(!q)throw new U.InvalidExpressionType(Q);return q.bind(this)(Q,ee)}async evalOperator(Q,ee){const q=Q.args.map(ie=>this.evaluate(ie,ee)),te=await Promise.all(q);return Q.apply(te)}async evalSpecialOperator(Q,ee){const q=this.evaluate.bind(this),te={args:Q.args,mapping:ee,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:q,bnode:this.context.bnode};return Q.applyAsync(te)}async _evalAsyncArgs(Q,ee){const q=Q.map(te=>this.evaluate(te,ee));return await Promise.all(q)}async evalNamed(Q,ee){return Q.apply(await this._evalAsyncArgs(Q.args,ee))}async evalAsyncExtension(Q,ee){return await Q.apply(await this._evalAsyncArgs(Q.args,ee))}async evalExistence(Q,ee){if(!this.context.exists)throw new U.NoExistenceHook;return new W.BooleanLiteral(await this.context.exists(Q.expression,ee))}async evalAggregate(Q,ee){if(!this.context.aggregate)throw new U.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(Q.expression))}}Z.AsyncRecursiveEvaluator=Y},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseAggregateEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Errors.js");class U{constructor(Y,D,Q){this.throwError=!1,this.expression=Y,this.aggregator=new W.aggregators[Y.aggregator](Y,D),this.throwError=Q||!1}static emptyValue(Y,D=!1){const Q=W.aggregators[Y.aggregator].emptyValue();if(Q===void 0&&D)throw new F.EmptyAggregateError;return Q}result(){return this.aggregator.constructor.emptyValue()}__result(){return this.aggregator.result(this.state)}}Z.BaseAggregateEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseExpressionEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),F=G("../node_modules/sparqlee/dist/lib/util/Errors.js");class U{constructor(Y){this.termTransformer=Y}term(Y,D){return Y}variable(Y,D){const Q=D.get((0,W.expressionToVar)(Y));if(!Q)throw new F.UnboundVariableError(Y.name,D);return this.termTransformer.transformRDFTermUnsafe(Q)}}Z.BaseExpressionEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/SyncRecursiveEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SyncRecursiveEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),J=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js");class Y extends J.BaseExpressionEvaluator{constructor(Q,ee){super(ee||new F.TermTransformer(Q.superTypeProvider)),this.context=Q,this.subEvaluators={[W.ExpressionType.Term]:this.term.bind(this),[W.ExpressionType.Variable]:this.variable.bind(this),[W.ExpressionType.Operator]:this.evalOperator.bind(this),[W.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[W.ExpressionType.Named]:this.evalNamed.bind(this),[W.ExpressionType.Existence]:this.evalExistence.bind(this),[W.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[W.ExpressionType.SyncExtension]:this.evalSyncExtension.bind(this)}}evaluate(Q,ee){const q=this.subEvaluators[Q.expressionType];if(!q)throw new U.InvalidExpressionType(Q);return q.bind(this)(Q,ee)}evalOperator(Q,ee){const q=Q.args.map(te=>this.evaluate(te,ee));return Q.apply(q)}evalSpecialOperator(Q,ee){const q=this.evaluate.bind(this),te={args:Q.args,mapping:ee,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:q,bnode:this.context.bnode};return Q.applySync(te)}evalNamed(Q,ee){const q=Q.args.map(te=>this.evaluate(te,ee));return Q.apply(q)}evalSyncExtension(Q,ee){const q=Q.args.map(te=>this.evaluate(te,ee));return Q.apply(q)}evalExistence(Q,ee){if(!this.context.exists)throw new U.NoExistenceHook;return new W.BooleanLiteral(this.context.exists(Q.expression,ee))}evalAggregate(Q,ee){if(!this.context.aggregate)throw new U.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(Q.expression))}}Z.SyncRecursiveEvaluator=Y},"../node_modules/sparqlee/dist/lib/expressions/Aggregate.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Aggregate=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y){this.name=J,this.expression=Y,this.expressionType=W.ExpressionType.Aggregate}}Z.Aggregate=F},"../node_modules/sparqlee/dist/lib/expressions/AsyncExtension.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncExtension=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.name=J,this.args=Y,this.apply=D,this.expressionType=W.ExpressionType.AsyncExtension}}Z.AsyncExtension=F},"../node_modules/sparqlee/dist/lib/expressions/Existence.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Existence=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J){this.expression=J,this.expressionType=W.ExpressionType.Existence}}Z.Existence=F},"../node_modules/sparqlee/dist/lib/expressions/Expressions.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.asTermType=Z.ExpressionType=void 0,function(W){W.Aggregate="aggregate",W.Existence="existence",W.Named="named",W.Operator="operator",W.SpecialOperator="specialOperator",W.Term="term",W.Variable="variable",W.AsyncExtension="asyncExtension",W.SyncExtension="syncExtension"}(Z.ExpressionType||(Z.ExpressionType={}));function G(W){if(W==="namedNode"||W==="literal"||W==="blankNode")return W}Z.asTermType=G},"../node_modules/sparqlee/dist/lib/expressions/Named.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Named=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.name=J,this.args=Y,this.apply=D,this.expressionType=W.ExpressionType.Named}}Z.Named=F},"../node_modules/sparqlee/dist/lib/expressions/Operator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Operator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y){this.args=J,this.apply=Y,this.expressionType=W.ExpressionType.Operator}}Z.Operator=F},"../node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SpecialOperator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.args=J,this.applyAsync=Y,this.applySync=D,this.expressionType=W.ExpressionType.SpecialOperator}}Z.SpecialOperator=F},"../node_modules/sparqlee/dist/lib/expressions/SyncExtension.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SyncExtension=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.name=J,this.args=Y,this.apply=D,this.expressionType=W.ExpressionType.SyncExtension}}Z.SyncExtension=F},"../node_modules/sparqlee/dist/lib/expressions/Term.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isNonLexicalLiteral=Z.NonLexicalLiteral=Z.StringLiteral=Z.LangStringLiteral=Z.DateTimeLiteral=Z.BooleanLiteral=Z.DoubleLiteral=Z.FloatLiteral=Z.DecimalLiteral=Z.IntegerLiteral=Z.NumericLiteral=Z.Literal=Z.isLiteralTermExpression=Z.BlankNode=Z.NamedNode=Z.Term=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),Y=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js"),D=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js"),Q=new W.DataFactory;class ee{constructor(){this.expressionType=D.ExpressionType.Term}str(){throw new J.InvalidArgumentTypes([this],F.RegularOperator.STR)}coerceEBV(){throw new J.EBVCoercionError(this)}}Z.Term=ee;class q extends ee{constructor(fe){super(),this.value=fe,this.termType="namedNode"}toRDF(){return Q.namedNode(this.value)}str(){return this.value}}Z.NamedNode=q;class te extends ee{constructor(fe){super(),this.termType="blankNode",this.value=typeof fe=="string"?Q.blankNode(fe):fe}toRDF(){return this.value}}Z.BlankNode=te;function ie(We){if(We.termType==="literal")return We}Z.isLiteralTermExpression=ie;class ne extends ee{constructor(fe,Re,ye,re){super(),this.typedValue=fe,this.dataType=Re,this.strValue=ye,this.language=re,this.termType="literal"}toRDF(){return Q.literal(this.strValue||this.str(),this.language||Q.namedNode(this.dataType))}str(){return this.strValue||this.typedValue.toString()}}Z.Literal=ne;class ce extends ne{constructor(fe,Re,ye,re){super(fe,Re,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}coerceEBV(){return!!this.typedValue}toRDF(){const fe=super.toRDF();return Number.isFinite(this.typedValue)||(fe.value=fe.value.replace("Infinity","INF")),fe}str(){return this.strValue||this.specificFormatter(this.typedValue)}}Z.NumericLiteral=ce;class le extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_INTEGER,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){return fe.toFixed(0)}}Z.IntegerLiteral=le;class se extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_DECIMAL,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){return fe.toString()}}Z.DecimalLiteral=se;class pe extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_FLOAT,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){return fe.toString()}}Z.FloatLiteral=pe;class ue extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_DOUBLE,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){if(!Number.isFinite(fe))return fe>0?"INF":fe<0?"-INF":"NaN";const Re=fe.toExponential(),[ye,re]=Re.split("e"),Ze=re.replace(/\+/u,"");return`${ye.includes(".")?ye:`${ye}.0`}E${Ze}`}}Z.DoubleLiteral=ue;class ae extends ne{constructor(fe,Re,ye){super(fe,ye||U.TypeURL.XSD_BOOLEAN,Re),this.typedValue=fe,this.strValue=Re}coerceEBV(){return this.typedValue}}Z.BooleanLiteral=ae;class de extends ne{constructor(fe,Re,ye){super(fe,ye||U.TypeURL.XSD_DATE_TIME,Re),this.typedValue=fe,this.strValue=Re}}Z.DateTimeLiteral=de;class be extends ne{constructor(fe,Re,ye){super(fe,ye||U.TypeURL.RDF_LANG_STRING,fe,Re),this.typedValue=fe,this.language=Re}coerceEBV(){return this.str().length>0}}Z.LangStringLiteral=be;class he extends ne{constructor(fe,Re){super(fe,Re||U.TypeURL.XSD_STRING,fe),this.typedValue=fe}coerceEBV(){return this.str().length>0}}Z.StringLiteral=he;class Le extends ne{constructor(fe,Re,ye,re,Ze){super({toString:()=>"undefined"},U.TypeAlias.SPARQL_NON_LEXICAL,re,Ze),this.typeURL=Re,this.openWorldType=ye}coerceEBV(){if((0,Y.isSubTypeOf)(this.typeURL,U.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,Y.isSubTypeOf)(this.typeURL,U.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new J.EBVCoercionError(this)}toRDF(){return Q.literal(this.str(),this.language||Q.namedNode(this.typeURL))}str(){return this.strValue||""}}Z.NonLexicalLiteral=Le;function Xe(We){if(We.dataType===U.TypeAlias.SPARQL_NON_LEXICAL)return We}Z.isNonLexicalLiteral=Xe},"../node_modules/sparqlee/dist/lib/expressions/Variable.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Variable=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J){this.expressionType=W.ExpressionType.Variable,this.name=J}}Z.Variable=F},"../node_modules/sparqlee/dist/lib/expressions/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Variable.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Term.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Operator.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Named.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Aggregate.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Existence.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/AsyncExtension.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/SyncExtension.js"),Z)},"../node_modules/sparqlee/dist/lib/functions/Core.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SpecialFunction=Z.NamedFunction=Z.RegularFunction=Z.BaseFunction=void 0;const W=G("../node_modules/sparqlee/dist/lib/util/Errors.js");class F{constructor(ee,q){this.operator=ee,this.apply=(te,ie)=>(this.monomorph(te,ie.superTypeProvider,ie.functionArgumentsCache)||this.handleInvalidTypes(te))(ie)(te),this.arity=q.arity,this.overloads=q.overloads}monomorph(ee,q,te){return this.overloads.search(ee,q,te)}}Z.BaseFunction=F;class U extends F{constructor(ee,q){super(ee,q),this.functionClass="regular"}handleInvalidTypes(ee){throw new W.InvalidArgumentTypes(ee,this.operator)}}Z.RegularFunction=U;class J extends F{constructor(ee,q){super(ee,q),this.functionClass="named"}handleInvalidTypes(ee){throw new W.InvalidArgumentTypes(ee,this.operator)}}Z.NamedFunction=J;class Y{constructor(ee,q){this.operator=ee,this.functionClass="special",this.arity=q.arity,this.applySync=q.applySync,this.applyAsync=q.applyAsync,this.checkArity=q.checkArity||D(this.arity)}}Z.SpecialFunction=Y;function D(Q){return ee=>Q===Number.POSITIVE_INFINITY?!0:ee.length===Q}},"../node_modules/sparqlee/dist/lib/functions/Helpers.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.expressionToVar=Z.dateTime=Z.langString=Z.string=Z.double=Z.float=Z.decimal=Z.integer=Z.bool=Z.Builder=Z.declare=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),D=G("../node_modules/sparqlee/dist/lib/functions/OverloadTree.js"),Q=new W.DataFactory;function ee(de){return new q(de)}Z.declare=ee;class q{constructor(be){this.overloadTree=new D.OverloadTree(be),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}set(be,he){return this.overloadTree.addOverload(be,he),this}copy({from:be,to:he}){const Le=this.overloadTree.getImplementationExact(be);if(!Le)throw new Y.UnexpectedError("Tried to copy implementation, but types not found",{from:be,to:he});return this.set(he,Le)}onUnary(be,he){return this.set([be],Le=>([Xe])=>he(Le)(Xe))}onUnaryTyped(be,he){return this.set([be],Le=>([Xe])=>he(Le)(Xe.typedValue))}onBinary(be,he){return this.set(be,Le=>([Xe,We])=>he(Le)(Xe,We))}onBinaryTyped(be,he){return this.set(be,Le=>([Xe,We])=>he(Le)(Xe.typedValue,We.typedValue))}onTernaryTyped(be,he){return this.set(be,Le=>([Xe,We,fe])=>he(Le)(Xe.typedValue,We.typedValue,fe.typedValue))}onTernary(be,he){return this.set(be,Le=>([Xe,We,fe])=>he(Le)(Xe,We,fe))}onQuaternaryTyped(be,he){return this.set(be,Le=>([Xe,We,fe,Re])=>he(Le)(Xe.typedValue,We.typedValue,fe.typedValue,Re.typedValue))}onTerm1(be){return this.set(["term"],he=>([Le])=>be(he)(Le))}onLiteral1(be){return this.set(["literal"],he=>([Le])=>be(he)(Le))}onBoolean1(be){return this.set([U.TypeURL.XSD_BOOLEAN],he=>([Le])=>be(he)(Le))}onBoolean1Typed(be){return this.set([U.TypeURL.XSD_BOOLEAN],he=>([Le])=>be(he)(Le.typedValue))}onString1(be){return this.set([U.TypeURL.XSD_STRING],he=>([Le])=>be(he)(Le))}onString1Typed(be){return this.set([U.TypeURL.XSD_STRING],he=>([Le])=>be(he)(Le.typedValue))}onLangString1(be){return this.set([U.TypeURL.RDF_LANG_STRING],he=>([Le])=>be(he)(Le))}onStringly1(be){return this.set([U.TypeAlias.SPARQL_STRINGLY],he=>([Le])=>be(he)(Le))}onStringly1Typed(be){return this.set([U.TypeAlias.SPARQL_STRINGLY],he=>([Le])=>be(he)(Le.typedValue))}onNumeric1(be){return this.set([U.TypeAlias.SPARQL_NUMERIC],he=>([Le])=>be(he)(Le)).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL],1)}onDateTime1(be){return this.set([U.TypeURL.XSD_DATE_TIME],he=>([Le])=>be(he)(Le)).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL],1)}numericConverter(be){const he=Le=>Xe=>be(Le)(Xe.typedValue);return this.onBinary([J.TypeURL.XSD_INTEGER],Le=>Xe=>ie(he(Le)(Xe))).onBinary([J.TypeURL.XSD_DECIMAL],Le=>Xe=>ne(he(Le)(Xe))).onBinary([J.TypeURL.XSD_FLOAT],Le=>Xe=>ce(he(Le)(Xe))).onBinary([J.TypeURL.XSD_DOUBLE],Le=>Xe=>le(he(Le)(Xe))).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL],1)}arithmetic(be){const he=Le=>(Xe,We)=>be(Le)(Xe.typedValue,We.typedValue);return this.onBinary([J.TypeURL.XSD_INTEGER,J.TypeURL.XSD_INTEGER],Le=>(Xe,We)=>ie(he(Le)(Xe,We))).onBinary([J.TypeURL.XSD_DECIMAL,J.TypeURL.XSD_DECIMAL],Le=>(Xe,We)=>ne(he(Le)(Xe,We))).onBinary([J.TypeURL.XSD_FLOAT,J.TypeURL.XSD_FLOAT],Le=>(Xe,We)=>ce(he(Le)(Xe,We))).onBinary([J.TypeURL.XSD_DOUBLE,J.TypeURL.XSD_DOUBLE],Le=>(Xe,We)=>le(he(Le)(Xe,We)))}numberTest(be){return this.numeric(he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)})}stringTest(be){return this.set([U.TypeURL.XSD_STRING,U.TypeURL.XSD_STRING],he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)}).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeURL.XSD_STRING],1).invalidLexicalForm([U.TypeURL.XSD_STRING,U.TypeAlias.SPARQL_NON_LEXICAL],2)}booleanTest(be){return this.set([U.TypeURL.XSD_BOOLEAN,U.TypeURL.XSD_BOOLEAN],he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)}).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeURL.XSD_BOOLEAN],1).invalidLexicalForm([U.TypeURL.XSD_BOOLEAN,U.TypeAlias.SPARQL_NON_LEXICAL],2)}dateTimeTest(be){return this.set([U.TypeURL.XSD_DATE_TIME,U.TypeURL.XSD_DATE_TIME],he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)}).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeURL.XSD_DATE_TIME],1).invalidLexicalForm([U.TypeURL.XSD_DATE_TIME,U.TypeAlias.SPARQL_NON_LEXICAL],2)}numeric(be){return this.set([U.TypeAlias.SPARQL_NUMERIC,U.TypeAlias.SPARQL_NUMERIC],be).invalidLexicalForm([U.TypeAlias.SPARQL_NUMERIC,U.TypeAlias.SPARQL_NON_LEXICAL],2).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeAlias.SPARQL_NUMERIC],1)}invalidLexicalForm(be,he){return this.set(be,()=>Le=>{throw new Y.InvalidLexicalForm(Le[he-1].toRDF())})}}Z.Builder=q;function te(de){return new F.BooleanLiteral(de)}Z.bool=te;function ie(de){return new F.IntegerLiteral(de)}Z.integer=ie;function ne(de){return new F.DecimalLiteral(de)}Z.decimal=ne;function ce(de){return new F.FloatLiteral(de)}Z.float=ce;function le(de){return new F.DoubleLiteral(de)}Z.double=le;function se(de){return new F.StringLiteral(de)}Z.string=se;function pe(de,be){return new F.LangStringLiteral(de,be)}Z.langString=pe;function ue(de,be){return new F.DateTimeLiteral(de,be)}Z.dateTime=ue;function ae(de){return Q.variable(de.name.slice(1))}Z.expressionToVar=ae},"../node_modules/sparqlee/dist/lib/functions/NamedFunctions.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.namedDefinitions=void 0;const W=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),F=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),U=G("../node_modules/sparqlee/dist/lib/util/Parsing.js"),J=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),Y={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_STRING).onNumeric1(()=>ne=>(0,J.string)((0,J.float)(ne.typedValue).str())).onBoolean1Typed(()=>ne=>(0,J.string)((0,J.bool)(ne).str())).onTerm1(()=>ne=>(0,J.string)(ne.str())).collect()},D={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_FLOAT).onNumeric1(()=>ne=>(0,J.float)(ne.typedValue)).onBoolean1Typed(()=>ne=>(0,J.float)(ne?1:0)).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{const ce=(0,U.parseXSDFloat)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_FLOAT);return(0,J.float)(ce)}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},Q={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_DOUBLE).onNumeric1(()=>ne=>(0,J.double)(ne.typedValue)).onBoolean1Typed(()=>ne=>(0,J.double)(ne?1:0)).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{const ce=(0,U.parseXSDFloat)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_DOUBLE);return(0,J.double)(ce)}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},ee={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_DECIMAL).onNumeric1(()=>ne=>{const ce=(0,U.parseXSDDecimal)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_DECIMAL);return(0,J.decimal)(ce)}).onString1(()=>ne=>{const ce=ne.str(),le=/^([+-])?(\d+(\.\d+)?)$/u.test(ce)?(0,U.parseXSDDecimal)(ce):void 0;if(le===void 0)throw new F.CastError(ne,W.TypeURL.XSD_DECIMAL);return(0,J.decimal)(le)}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).onBoolean1Typed(()=>ne=>(0,J.decimal)(ne?1:0)).collect()},q={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>ne=>(0,J.integer)(ne?1:0)).onNumeric1(()=>ne=>{const ce=(0,U.parseXSDInteger)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_INTEGER);return(0,J.integer)(ce)}).onString1(()=>ne=>{const ce=ne.str(),le=/^\d+$/u.test(ce)?(0,U.parseXSDInteger)(ce):void 0;if(le===void 0)throw new F.CastError(ne,W.TypeURL.XSD_INTEGER);return(0,J.integer)(le)}).copy({from:[W.TypeAlias.SPARQL_NUMERIC],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},te={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_DATE_TIME).onUnary(W.TypeURL.XSD_DATE_TIME,()=>ne=>ne).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{const ce=new Date(ne.str());if(Number.isNaN(ce.getTime()))throw new F.CastError(ne,W.TypeURL.XSD_DATE_TIME);return(0,J.dateTime)(ce,ne.str())}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},ie={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_BOOLEAN).onNumeric1(()=>ne=>(0,J.bool)(ne.coerceEBV())).onUnary(W.TypeURL.XSD_BOOLEAN,()=>ne=>(0,J.bool)(ne.coerceEBV())).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{switch(ne.str()){case"true":return(0,J.bool)(!0);case"false":return(0,J.bool)(!1);case"1":return(0,J.bool)(!0);case"0":return(0,J.bool)(!1);default:throw new F.CastError(ne,W.TypeURL.XSD_BOOLEAN)}}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()};Z.namedDefinitions={[W.TypeURL.XSD_STRING]:Y,[W.TypeURL.XSD_FLOAT]:D,[W.TypeURL.XSD_DOUBLE]:Q,[W.TypeURL.XSD_DECIMAL]:ee,[W.TypeURL.XSD_INTEGER]:q,[W.TypeURL.XSD_DATE_TIME]:te,[W.TypeURL.XSD_DATE]:te,[W.TypeURL.XSD_BOOLEAN]:ie}},"../node_modules/sparqlee/dist/lib/functions/OverloadTree.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.OverloadTree=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),U=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js"),J=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js");class Y{constructor(Q,ee){this.identifier=Q,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=ee||0,this.promotionCount=void 0}getSubtree(Q){const ee=(0,U.asGeneralType)(Q);if(ee)return this.generalOverloads[ee];for(const[q,te]of this.literalOverLoads)if(Q===q)return te}getImplementationExact(Q){let ee=this;for(const q of Q)if(ee=ee.getSubtree(q),!ee)return;return ee.implementation}search(Q,ee,q){let te=q[this.identifier],ie=0;for(;ie<Q.length&&te?.cache;){const le=Q[ie],se=(0,W.isLiteralTermExpression)(le);te=te.cache[se?se.dataType:le.termType],ie++}if(ie===Q.length&&te?.func)return te.func;const ne=[],ce=0;if(Q.length===0)return this.implementation;for(ne.push(...this.getSubTreeWithArg(Q[ce],ee).map(le=>({node:le,index:ce+1})));ne.length>0;){const{index:le,node:se}=ne.pop();if(le===Q.length&&se.implementation)return this.addToCache(q,Q,se.implementation),se.implementation;ne.push(...se.getSubTreeWithArg(Q[le],ee).map(pe=>({node:pe,index:le+1})))}}addToCache(Q,ee,q){function te(ne,ce){return ce in ne||(ne[ce]={}),ne[ce]}let ie=te(Q,this.identifier);for(const ne of ee){const ce=(0,W.isLiteralTermExpression)(ne),le=ce?ce.dataType:ne.termType;ie.cache=ie.cache||{},ie=te(ie.cache,le)}ie.func=q}addOverload(Q,ee){this._addOverload([...Q],ee,0)}_addOverload(Q,ee,q){const[te,...ie]=Q;if(!te){(this.promotionCount===void 0||q<=this.promotionCount)&&(this.promotionCount=q,this.implementation=ee);return}let ne=this.getSubtree(te);if(!ne){const ce=new Y(this.identifier,this.depth+1),le=(0,U.asGeneralType)(te);le&&(this.generalOverloads[le]=ce);const se=(0,U.asOverrideType)(te);se&&this.literalOverLoads.push([se,ce]),ne=ce}ne._addOverload(ie,ee,q),te===F.TypeURL.XSD_STRING&&this.addPromotedOverload(F.TypeURL.XSD_ANY_URI,ee,ce=>(0,J.string)(ce.str()),ie,q),te===F.TypeURL.XSD_DOUBLE&&(this.addPromotedOverload(F.TypeURL.XSD_FLOAT,ee,ce=>(0,J.double)(ce.typedValue),ie,q),this.addPromotedOverload(F.TypeURL.XSD_DECIMAL,ee,ce=>(0,J.double)(ce.typedValue),ie,q)),te===F.TypeURL.XSD_FLOAT&&this.addPromotedOverload(F.TypeURL.XSD_DECIMAL,ee,ce=>(0,J.float)(ce.typedValue),ie,q)}addPromotedOverload(Q,ee,q,te,ie){let ne=this.getSubtree(Q);if(!ne){const ce=new Y(this.identifier,this.depth+1);this.literalOverLoads.push([Q,ce]),ne=ce}ne._addOverload(te,ce=>le=>ee(ce)([...le.slice(0,this.depth),q(le[this.depth]),...le.slice(this.depth+1,le.length)]),ie+1)}getSubTreeWithArg(Q,ee){const q=[],te=(0,W.isLiteralTermExpression)(Q);if(this.generalOverloads.term&&q.push(this.generalOverloads.term),this.generalOverloads[Q.termType]&&q.push(this.generalOverloads[Q.termType]),te){const ie=(0,U.asKnownLiteralType)(te.dataType);let ne;ie?ne=U.superTypeDictTable[ie]:ne=(0,U.getSuperTypes)(te.dataType,ee);const ce=this.literalOverLoads.filter(([le,se])=>le in ne).map(([le,se])=>[ne[le],se]);ce.sort(([le,se],[pe,ue])=>le-pe),q.push(...ce.map(([le,se])=>se))}return q}}Z.OverloadTree=Y},"../node_modules/sparqlee/dist/lib/functions/RegularFunctions.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.definitions=void 0;const W=G("../node_modules/bignumber.js/bignumber.js"),F=G("../node_modules/hash.js/lib/hash.js"),U=G("../node_modules/rdf-data-factory/index.js"),J=G("../node_modules/relative-to-absolute-iri/index.js"),Y=G("../node_modules/spark-md5/spark-md5.js"),D=G("../packages/uuid/dist/index.js"),Q=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),ee=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),q=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),te=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),ie=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),ne=G("../node_modules/sparqlee/dist/lib/util/Parsing.js"),ce=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),le=G("../node_modules/sparqlee/dist/lib/functions/XPathFunctions.js"),se=new U.DataFactory,pe={arity:1,overloads:(0,ce.declare)(q.RegularOperator.NOT).onTerm1(()=>Qe=>(0,ce.bool)(!Qe.coerceEBV())).collect()},ue={arity:1,overloads:(0,ce.declare)(q.RegularOperator.UPLUS).numericConverter(()=>Qe=>Qe).collect()},ae={arity:1,overloads:(0,ce.declare)(q.RegularOperator.UMINUS).numericConverter(()=>Qe=>-Qe).collect()},de={arity:2,overloads:(0,ce.declare)(q.RegularOperator.MULTIPLICATION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).times(nt).toNumber()).collect()},be={arity:2,overloads:(0,ce.declare)(q.RegularOperator.DIVISION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).div(nt).toNumber()).onBinaryTyped([te.TypeURL.XSD_INTEGER,te.TypeURL.XSD_INTEGER],()=>(Qe,nt)=>{if(nt===0)throw new ie.ExpressionError("Integer division by 0");return(0,ce.decimal)(new W.BigNumber(Qe).div(nt).toNumber())}).collect()},he={arity:2,overloads:(0,ce.declare)(q.RegularOperator.ADDITION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).plus(nt).toNumber()).collect()},Le={arity:2,overloads:(0,ce.declare)(q.RegularOperator.SUBTRACTION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).minus(nt).toNumber()).collect()},Xe={arity:2,overloads:(0,ce.declare)(q.RegularOperator.EQUAL).numberTest(()=>(Qe,nt)=>Qe===nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)===0).booleanTest(()=>(Qe,nt)=>Qe===nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()===nt.getTime()).set(["term","term"],()=>([Qe,nt])=>(0,ce.bool)(We(Qe,nt))).collect()};function We(Qe,nt){const Xt=Qe.toRDF(),St=nt.toRDF(),Nt=Xt.equals(St);if(Xt.termType==="Literal"&&St.termType==="Literal")throw new ie.RDFEqualTypeError([Qe,nt]);return Nt}const fe={arity:2,overloads:(0,ce.declare)(q.RegularOperator.NOT_EQUAL).numberTest(()=>(Qe,nt)=>Qe!==nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)!==0).booleanTest(()=>(Qe,nt)=>Qe!==nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()!==nt.getTime()).set(["term","term"],()=>([Qe,nt])=>(0,ce.bool)(!We(Qe,nt))).collect()},Re={arity:2,overloads:(0,ce.declare)(q.RegularOperator.LT).numberTest(()=>(Qe,nt)=>Qe<nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)===-1).booleanTest(()=>(Qe,nt)=>Qe<nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()<nt.getTime()).collect()},ye={arity:2,overloads:(0,ce.declare)(q.RegularOperator.GT).numberTest(()=>(Qe,nt)=>Qe>nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)===1).booleanTest(()=>(Qe,nt)=>Qe>nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()>nt.getTime()).collect()},re={arity:2,overloads:(0,ce.declare)(q.RegularOperator.LTE).numberTest(()=>(Qe,nt)=>Qe<=nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)!==1).booleanTest(()=>(Qe,nt)=>Qe<=nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()<=nt.getTime()).collect()},Ze={arity:2,overloads:(0,ce.declare)(q.RegularOperator.GTE).numberTest(()=>(Qe,nt)=>Qe>=nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)!==-1).booleanTest(()=>(Qe,nt)=>Qe>=nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()>=nt.getTime()).collect()},Ge={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_IRI).onTerm1(()=>Qe=>(0,ce.bool)(Qe.termType==="namedNode")).collect()},ve={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_BLANK).onTerm1(()=>Qe=>(0,ce.bool)(Qe.termType==="blankNode")).collect()},Te={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_LITERAL).onTerm1(()=>Qe=>(0,ce.bool)(Qe.termType==="literal")).collect()},xe={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_NUMERIC).onNumeric1(()=>Qe=>(0,ce.bool)(!0)).onTerm1(()=>Qe=>(0,ce.bool)(!1)).collect()},Ye={arity:1,overloads:(0,ce.declare)(q.RegularOperator.STR).onTerm1(()=>Qe=>(0,ce.string)(Qe.str())).collect()},ge={arity:1,overloads:(0,ce.declare)(q.RegularOperator.LANG).onLiteral1(()=>Qe=>(0,ce.string)(Qe.language||"")).collect()},Me={arity:1,overloads:(0,ce.declare)(q.RegularOperator.DATATYPE).onLiteral1(()=>Qe=>new Q.NamedNode(Qe.dataType)).collect()},je={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IRI).set(["namedNode"],Qe=>nt=>{const Xt=nt[0],St=(0,J.resolve)(Xt.str(),Qe.baseIRI||"");return new Q.NamedNode(St)}).onString1(Qe=>nt=>{const Xt=(0,J.resolve)(nt.str(),Qe.baseIRI||"");return new Q.NamedNode(Xt)}).collect()},tt={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRDT).set([te.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:Qe})=>([nt,Xt])=>{const St=se.literal(nt.typedValue,se.namedNode(Xt.value));return new ee.TermTransformer(Qe).transformLiteral(St)}).collect()},it={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRLANG).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>new Q.LangStringLiteral(Qe,nt.toLowerCase())).collect()},st={arity:0,overloads:(0,ce.declare)(q.RegularOperator.UUID).set([],()=>()=>new Q.NamedNode(`urn:uuid:${D.v4()}`)).collect()},qe={arity:0,overloads:(0,ce.declare)(q.RegularOperator.STRUUID).set([],()=>()=>(0,ce.string)(D.v4())).collect()},ot={arity:1,overloads:(0,ce.declare)(q.RegularOperator.STRLEN).onStringly1(()=>Qe=>(0,ce.integer)([...Qe.typedValue].length)).collect()},ut={arity:[2,3],overloads:(0,ce.declare)(q.RegularOperator.SUBSTR).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_INTEGER],()=>(Qe,nt)=>(0,ce.string)([...Qe].slice(nt-1).join(""))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_INTEGER],()=>(Qe,nt)=>{const Xt=[...Qe.typedValue].slice(nt.typedValue-1).join("");return(0,ce.langString)(Xt,Qe.language)}).onTernaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_INTEGER,te.TypeURL.XSD_INTEGER],()=>(Qe,nt,Xt)=>(0,ce.string)([...Qe].slice(nt-1,Xt+nt-1).join(""))).onTernary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_INTEGER,te.TypeURL.XSD_INTEGER],()=>(Qe,nt,Xt)=>{const St=[...Qe.typedValue].slice(nt.typedValue-1,Xt.typedValue+nt.typedValue-1).join("");return(0,ce.langString)(St,Qe.language)}).collect()},dt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.UCASE).onString1Typed(()=>Qe=>(0,ce.string)(Qe.toUpperCase())).onLangString1(()=>Qe=>(0,ce.langString)(Qe.typedValue.toUpperCase(),Qe.language)).collect()},mt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.LCASE).onString1Typed(()=>Qe=>(0,ce.string)(Qe.toLowerCase())).onLangString1(()=>Qe=>(0,ce.langString)(Qe.typedValue.toLowerCase(),Qe.language)).collect()},Je={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRSTARTS).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(Qe.startsWith(nt))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);return(0,ce.bool)(Qe.typedValue.startsWith(nt.typedValue))}).collect()},Ne={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRENDS).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(Qe.endsWith(nt))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);return(0,ce.bool)(Qe.typedValue.endsWith(nt.typedValue))}).collect()},ke={arity:2,overloads:(0,ce.declare)(q.RegularOperator.CONTAINS).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(Qe.includes(nt))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);return(0,ce.bool)(Qe.typedValue.includes(nt.typedValue))}).collect()},Ie={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRBEFORE).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.string)(Qe.slice(0,Math.max(0,Qe.indexOf(nt))))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>{const[Xt,St]=[Qe.typedValue,nt.typedValue],Nt=Qe.typedValue.slice(0,Math.max(0,Xt.indexOf(St)));return Nt||!St?(0,ce.langString)(Nt,Qe.language):(0,ce.string)(Nt)}).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);const[Xt,St]=[Qe.typedValue,nt.typedValue],Nt=Qe.typedValue.slice(0,Math.max(0,Xt.indexOf(St)));return Nt||!St?(0,ce.langString)(Nt,Qe.language):(0,ce.string)(Nt)}).collect()},Ce={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRAFTER).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.string)(Qe.slice(Qe.indexOf(nt)).slice(nt.length))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>{const[Xt,St]=[Qe.typedValue,nt.typedValue],Nt=Xt.slice(Xt.indexOf(St)).slice(St.length);return Nt||!St?(0,ce.langString)(Nt,Qe.language):(0,ce.string)(Nt)}).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);const[Xt,St]=[Qe.typedValue,nt.typedValue],Nt=Xt.slice(Xt.indexOf(St)).slice(St.length);return Nt||!St?(0,ce.langString)(Nt,Qe.language):(0,ce.string)(Nt)}).collect()},ze={arity:1,overloads:(0,ce.declare)(q.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>Qe=>(0,ce.string)(encodeURI(Qe))).collect()},Ee={arity:2,overloads:(0,ce.declare)(q.RegularOperator.LANG_MATCHES).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(le.langMatches(Qe,nt))).collect()},_e=()=>(Qe,nt)=>(0,ce.bool)(le.matches(Qe,nt)),He=()=>(Qe,nt,Xt)=>(0,ce.bool)(le.matches(Qe,nt,Xt)),Pe={arity:[2,3],overloads:(0,ce.declare)(q.RegularOperator.REGEX).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],_e).onTernaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],He).collect()},$e={arity:[3,4],overloads:(0,ce.declare)(q.RegularOperator.REPLACE).onTernaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt,Xt)=>(0,ce.string)(le.replace(Qe,nt,Xt))).set([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>([Qe,nt,Xt])=>{const St=le.replace(Qe.typedValue,nt.typedValue,Xt.typedValue);return(0,ce.langString)(St,Qe.language)}).onQuaternaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt,Xt,St)=>(0,ce.string)(le.replace(Qe,nt,Xt,St))).set([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>([Qe,nt,Xt,St])=>{const Nt=le.replace(Qe.typedValue,nt.typedValue,Xt.typedValue,St.typedValue);return(0,ce.langString)(Nt,Qe.language)}).collect()},we={arity:1,overloads:(0,ce.declare)(q.RegularOperator.ABS).numericConverter(()=>Qe=>Math.abs(Qe)).collect()},Ue={arity:1,overloads:(0,ce.declare)(q.RegularOperator.ROUND).numericConverter(()=>Qe=>Math.round(Qe)).collect()},et={arity:1,overloads:(0,ce.declare)(q.RegularOperator.CEIL).numericConverter(()=>Qe=>Math.ceil(Qe)).collect()},at={arity:1,overloads:(0,ce.declare)(q.RegularOperator.FLOOR).numericConverter(()=>Qe=>Math.floor(Qe)).collect()},Ve={arity:0,overloads:(0,ce.declare)(q.RegularOperator.RAND).set([],()=>()=>(0,ce.double)(Math.random())).collect()};function oe(Qe){return ne.parseXSDDateTime(Qe.str())}const me={arity:0,overloads:(0,ce.declare)(q.RegularOperator.NOW).set([],Qe=>()=>new Q.DateTimeLiteral(Qe.now,Qe.now.toISOString())).collect()},Se={arity:1,overloads:(0,ce.declare)(q.RegularOperator.YEAR).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).year))).collect()},Fe={arity:1,overloads:(0,ce.declare)(q.RegularOperator.MONTH).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).month))).collect()},Ke={arity:1,overloads:(0,ce.declare)(q.RegularOperator.DAY).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).day))).collect()},Ae={arity:1,overloads:(0,ce.declare)(q.RegularOperator.HOURS).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).hours))).collect()},rt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.MINUTES).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).minutes))).collect()},vt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SECONDS).onDateTime1(()=>Qe=>(0,ce.decimal)(Number(oe(Qe).seconds))).collect()},Vt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.TIMEZONE).onDateTime1(()=>Qe=>{const nt=le.formatDayTimeDuration(oe(Qe).timezone);if(!nt)throw new ie.InvalidTimezoneCall(Qe.strValue);return new Q.Literal(nt,te.TypeURL.XSD_DAYTIME_DURATION,nt)}).collect()},Wt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.TZ).onDateTime1(()=>Qe=>(0,ce.string)(oe(Qe).timezone)).collect()},ft={arity:1,overloads:(0,ce.declare)(q.RegularOperator.MD5).onString1Typed(()=>Qe=>(0,ce.string)((0,Y.hash)(Qe))).collect()},Rt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA1).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha1)().update(Qe).digest("hex"))).collect()},Yt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA256).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha256)().update(Qe).digest("hex"))).collect()},ct={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA384).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha384)().update(Qe).digest("hex"))).collect()},xt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA512).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha512)().update(Qe).digest("hex"))).collect()};Z.definitions={"!":pe,uplus:ue,uminus:ae,"*":de,"/":be,"+":he,"-":Le,"=":Xe,"!=":fe,"<":Re,">":ye,"<=":re,">=":Ze,isiri:Ge,isuri:Ge,isblank:ve,isliteral:Te,isnumeric:xe,str:Ye,lang:ge,datatype:Me,iri:je,uri:je,strdt:tt,strlang:it,uuid:st,struuid:qe,strlen:ot,substr:ut,ucase:dt,lcase:mt,strstarts:Je,strends:Ne,contains:ke,strbefore:Ie,strafter:Ce,encode_for_uri:ze,langmatches:Ee,regex:Pe,replace:$e,abs:we,round:Ue,ceil:et,floor:at,rand:Ve,now:me,year:Se,month:Fe,day:Ke,hours:Ae,minutes:rt,seconds:vt,timezone:Vt,tz:Wt,md5:ft,sha1:Rt,sha256:Yt,sha384:ct,sha512:xt}},"../node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.specialDefinitions=void 0;const W=G("../packages/uuid/dist/index.js"),F=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),Y=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),D=G("../node_modules/sparqlee/dist/lib/functions/index.js"),Q={arity:1,async applyAsync({args:We,mapping:fe}){return ee({args:We,mapping:fe})},applySync({args:We,mapping:fe}){return ee({args:We,mapping:fe})}};function ee({args:We,mapping:fe}){const Re=We[0];if(Re.expressionType!==F.ExpressionType.Variable)throw new J.InvalidArgumentTypes(We,U.SpecialOperator.BOUND);const ye=fe.has((0,Y.expressionToVar)(Re));return(0,Y.bool)(ye)}const q={arity:3,async applyAsync({args:We,mapping:fe,evaluate:Re}){const re=(await Re(We[0],fe)).coerceEBV();return Re(re?We[1]:We[2],fe)},applySync({args:We,mapping:fe,evaluate:Re}){const re=Re(We[0],fe).coerceEBV();return Re(re?We[1]:We[2],fe)}},te={arity:Number.POSITIVE_INFINITY,async applyAsync({args:We,mapping:fe,evaluate:Re}){const ye=[];for(const re of We)try{return await Re(re,fe)}catch(Ze){ye.push(Ze)}throw new J.CoalesceError(ye)},applySync({args:We,mapping:fe,evaluate:Re}){const ye=[];for(const re of We)try{return Re(re,fe)}catch(Ze){ye.push(Ze)}throw new J.CoalesceError(ye)}},ie={arity:2,async applyAsync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if((await Re(ye,fe)).coerceEBV())return(0,Y.bool)(!0);const Te=(await Re(re,fe)).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if(!(await Re(re,fe)).coerceEBV())throw Ze;return(0,Y.bool)(!0)}},applySync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if(Re(ye,fe).coerceEBV())return(0,Y.bool)(!0);const Te=Re(re,fe).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if(!Re(re,fe).coerceEBV())throw Ze;return(0,Y.bool)(!0)}}},ne={arity:2,async applyAsync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if(!(await Re(ye,fe)).coerceEBV())return(0,Y.bool)(!1);const Te=(await Re(re,fe)).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if((await Re(re,fe)).coerceEBV())throw Ze;return(0,Y.bool)(!1)}},applySync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if(!Re(ye,fe).coerceEBV())return(0,Y.bool)(!1);const Te=Re(re,fe).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if(Re(re,fe).coerceEBV())throw Ze;return(0,Y.bool)(!1)}}},ce={arity:2,async applyAsync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We.map(ve=>Re(ve,fe)),[Ze,Ge]=await Promise.all([ye,re]);return(0,Y.bool)(Ze.toRDF().equals(Ge.toRDF()))},applySync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We.map(Ze=>Re(Ze,fe));return(0,Y.bool)(ye.toRDF().equals(re.toRDF()))}},le={arity:Number.POSITIVE_INFINITY,checkArity(We){return We.length>0},async applyAsync(We){const{args:fe,mapping:Re,evaluate:ye}=We,[re,...Ze]=fe,Ge=await ye(re,Re);return se(Ge,Object.assign(Object.assign({},We),{args:Ze}),[])},applySync(We){const{args:fe,mapping:Re,evaluate:ye}=We,[re,...Ze]=fe,Ge=ye(re,Re);return pe(Ge,Object.assign(Object.assign({},We),{args:Ze}),[])}};async function se(We,fe,Re){const{args:ye,mapping:re,evaluate:Ze}=fe;if(ye.length===0)return Re.every(ve=>!ve)?(0,Y.bool)(!1):Promise.reject(new J.InError(Re));try{const Ge=ye.shift(),ve=await Ze(Ge,re);return D.regularFunctions[U.RegularOperator.EQUAL].apply([We,ve],fe).typedValue?(0,Y.bool)(!0):se(We,fe,[...Re,!1])}catch(Ge){return se(We,fe,[...Re,Ge])}}function pe(We,fe,Re){const{args:ye,mapping:re,evaluate:Ze}=fe;if(ye.length===0){if(Re.every(ve=>!ve))return(0,Y.bool)(!1);throw new J.InError(Re)}try{const Ge=ye.shift(),ve=Ze(Ge,re);return D.regularFunctions[U.RegularOperator.EQUAL].apply([We,ve],fe).typedValue?(0,Y.bool)(!0):pe(We,fe,[...Re,!1])}catch(Ge){return pe(We,fe,[...Re,Ge])}}const ue={arity:Number.POSITIVE_INFINITY,checkArity(We){return We.length>0},async applyAsync(We){const Re=await D.specialFunctions[U.SpecialOperator.IN].applyAsync(We);return(0,Y.bool)(!Re.typedValue)},applySync(We){const Re=D.specialFunctions[U.SpecialOperator.IN].applySync(We);return(0,Y.bool)(!Re.typedValue)}},ae=(0,Y.declare)(U.SpecialOperator.CONCAT).onStringly1(()=>We=>We).collect(),de={arity:Number.POSITIVE_INFINITY,async applyAsync(We){const{args:fe,mapping:Re,evaluate:ye,functionArgumentsCache:re,superTypeProvider:Ze}=We,Ge=fe.map(async ge=>ye(ge,Re)).map(async ge=>{const Me=ae.search([await ge],Ze,re);if(!Me)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.CONCAT);return Me(We)([await ge])}),ve=await Promise.all(Ge),xe=ve.map(ge=>ge.typedValue).join(""),Ye=be(ve)?ve[0].language:void 0;return Ye?(0,Y.langString)(xe,Ye):(0,Y.string)(xe)},applySync(We){const{args:fe,mapping:Re,evaluate:ye,superTypeProvider:re,functionArgumentsCache:Ze}=We,Ge=fe.map(Ye=>ye(Ye,Re)).map(Ye=>{const ge=ae.search([Ye],re,Ze);if(!ge)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.CONCAT);return ge(We)([Ye])}),Te=Ge.map(Ye=>Ye.typedValue).join(""),xe=be(Ge)?Ge[0].language:void 0;return xe?(0,Y.langString)(Te,xe):(0,Y.string)(Te)}};function be(We){return We.length>0&&We.every(fe=>fe.language===We[0].language)}const he=(0,Y.declare)(U.SpecialOperator.BNODE).onString1(()=>We=>We).collect(),Le={arity:Number.POSITIVE_INFINITY,checkArity(We){return We.length===0||We.length===1},async applyAsync(We){const{args:fe,mapping:Re,evaluate:ye,superTypeProvider:re,functionArgumentsCache:Ze}=We,Ge=fe.length===1?await ye(fe[0],Re):void 0;let ve;if(Ge){const Te=he.search([Ge],re,Ze);if(!Te)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.BNODE);ve=Te(We)([Ge]).str()}if(We.bnode){const Te=await We.bnode(ve);return new F.BlankNode(Te)}return Xe(ve)},applySync(We){const{args:fe,mapping:Re,evaluate:ye,superTypeProvider:re,functionArgumentsCache:Ze}=We,Ge=fe.length===1?ye(fe[0],Re):void 0;let ve;if(Ge){const Te=he.search([Ge],re,Ze);if(!Te)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.BNODE);ve=Te(We)([Ge]).str()}if(We.bnode){const Te=We.bnode(ve);return new F.BlankNode(Te)}return Xe(ve)}};function Xe(We){return new F.BlankNode(We||W.v4())}Z.specialDefinitions={bound:Q,if:q,coalesce:te,"&&":ne,"||":ie,sameterm:ce,in:le,notin:ue,concat:de,bnode:Le}},"../node_modules/sparqlee/dist/lib/functions/XPathFunctions.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.formatDayTimeDuration=Z.langMatches=Z.replace=Z.matches=void 0;function G(D,Q,ee){return new RegExp(Q,ee).test(D)}Z.matches=G;function W(D,Q,ee,q){let te=new RegExp(Q,q);if(!te.global){const ie=q||"";te=new RegExp(Q,`${ie}g`)}return D.replace(te,ee)}Z.replace=W;function F(D,Q){const ee=D.split("-"),q=Q.split("-");if(!J(q[0],ee[0])&&!U(ee[0]))return!1;let te=1,ie=1;for(;ie<q.length;){if(U(q[ie])){ie++;continue}if(te===ee.length)return!1;if(J(q[ie],ee[te])){te++,ie++;continue}if(ee[te].length===1)return!1;te++}return!0}Z.langMatches=F;function U(D){return D==="*"}function J(D,Q){return new RegExp(`/${D}/`,"iu").test(`/${Q}/`)}function Y(D){if(!D)return;let Q="",ee=0,q=0;if(D!=="Z"&&(Q=D.startsWith("-")?"-":"",ee=Number.parseInt(D.slice(1,3),10),q=Number.parseInt(D.slice(4,6),10)),ee===0&&q===0)return"PT0S";let te=`${Q}PT`;return ee>0&&(te+=`${ee}H`),q>0&&(te+=`${q}M`),te}Z.formatDayTimeDuration=Y},"../node_modules/sparqlee/dist/lib/functions/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(ee,q,te,ie){ie===void 0&&(ie=te);var ne=Object.getOwnPropertyDescriptor(q,te);(!ne||("get"in ne?!q.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return q[te]}}),Object.defineProperty(ee,ie,ne)}:function(ee,q,te,ie){ie===void 0&&(ie=te),ee[ie]=q[te]}),F=this&&this.__exportStar||function(ee,q){for(var te in ee)te!=="default"&&!Object.prototype.hasOwnProperty.call(q,te)&&W(q,ee,te)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.OverloadTree=Z.namedFunctions=Z.specialFunctions=Z.regularFunctions=void 0;const U=G("../node_modules/sparqlee/dist/lib/functions/Core.js"),J=G("../node_modules/sparqlee/dist/lib/functions/NamedFunctions.js"),Y=G("../node_modules/sparqlee/dist/lib/functions/RegularFunctions.js"),D=G("../node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js");F(G("../node_modules/sparqlee/dist/lib/functions/Core.js"),Z),Z.regularFunctions=Object.fromEntries(Object.entries(Y.definitions).map(([ee,q])=>[ee,new U.RegularFunction(ee,q)])),Z.specialFunctions=Object.fromEntries(Object.entries(D.specialDefinitions).map(([ee,q])=>[ee,new U.SpecialFunction(ee,q)])),Z.namedFunctions=Object.fromEntries(Object.entries(J.namedDefinitions).map(([ee,q])=>[ee,new U.NamedFunction(ee,q)]));var Q=G("../node_modules/sparqlee/dist/lib/functions/OverloadTree.js");Object.defineProperty(Z,"OverloadTree",{enumerable:!0,get:function(){return Q.OverloadTree}})},"../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AlgebraTransformer=void 0;const W=G("sparqlalgebrajs"),F=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),U=G("../node_modules/sparqlee/dist/lib/functions/index.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),D=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),Q=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js");class ee extends Q.TermTransformer{constructor(te){super(te.superTypeProvider),this.algebraConfig=te,this.creatorConfig={type:te.type,creator:te.creator}}transformAlgebra(te){const ie=W.Algebra.expressionTypes;switch(te.expressionType){case ie.TERM:return this.transformTerm(te);case ie.OPERATOR:return this.transformOperator(te);case ie.NAMED:return this.transformNamed(te);case ie.EXISTENCE:return ee.transformExistence(te);case ie.AGGREGATE:return ee.transformAggregate(te);case ie.WILDCARD:return ee.transformWildcard(te)}}static transformWildcard(te){return new F.NamedNode(te.wildcard.value)}transformOperator(te){const ie=te.operator.toLowerCase();if(J.SpecialOperators.has(ie)){const se=ie,pe=te.args.map(ae=>this.transformAlgebra(ae)),ue=U.specialFunctions[se];if(!ue.checkArity(pe))throw new Y.InvalidArity(pe,se);return new F.SpecialOperator(pe,ue.applyAsync,ue.applySync)}if(!J.Operators.has(ie))throw new Y.UnknownOperator(te.operator);const ne=ie,ce=te.args.map(se=>this.transformAlgebra(se)),le=U.regularFunctions[ne];if(!ee.hasCorrectArity(ce,le.arity))throw new Y.InvalidArity(ce,ne);return new F.Operator(ce,se=>le.apply(se,this.algebraConfig))}wrapSyncFunction(te,ie){return ne=>{try{const ce=te(ne.map(le=>le.toRDF()));return this.transformRDFTermUnsafe(ce)}catch(ce){throw new D.ExtensionFunctionError(ie,ce)}}}wrapAsyncFunction(te,ie){return async ne=>{try{const ce=await te(ne.map(le=>le.toRDF()));return this.transformRDFTermUnsafe(ce)}catch(ce){throw new D.ExtensionFunctionError(ie,ce)}}}transformNamed(te){const ie=te.name.value,ne=te.args.map(ce=>this.transformAlgebra(ce));if(J.NamedOperators.has(ie)){const ce=te.name.value,le=U.namedFunctions[ce];return new F.Named(te.name,ne,se=>le.apply(se,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const ce=this.creatorConfig.creator(te.name);if(ce){const le=this.wrapSyncFunction(ce,te.name.value);return new F.SyncExtension(te.name,ne,le)}}else{const ce=this.creatorConfig.creator(te.name);if(ce){const le=this.wrapAsyncFunction(ce,te.name.value);return new F.AsyncExtension(te.name,ne,le)}}throw new Y.UnknownNamedOperator(te.name.value)}static hasCorrectArity(te,ie){return Array.isArray(ie)?ie.includes(te.length):te.length===ie}static transformAggregate(te){const ie=te.aggregator;return new F.Aggregate(ie,te)}static transformExistence(te){return new F.Existence(te)}}Z.AlgebraTransformer=ee},"../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.TermTransformer=void 0;const W=G("../node_modules/rdf-string/index.js"),F=G("sparqlalgebrajs"),U=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),D=G("../node_modules/sparqlee/dist/lib/util/Parsing.js"),Q=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js");class ee{constructor(te){this.superTypeProvider=te}transformRDFTermUnsafe(te){return this.transformTerm({term:te,type:F.Algebra.types.EXPRESSION,expressionType:F.Algebra.expressionTypes.TERM})}transformTerm(te){if(!te.term)throw new Y.InvalidExpression(te);switch(te.term.termType){case"Variable":return new U.Variable(W.termToString(te.term));case"Literal":return this.transformLiteral(te.term);case"NamedNode":return new U.NamedNode(te.term.value);case"BlankNode":return new U.BlankNode(te.term.value);default:throw new Y.InvalidTermType(te)}}transformLiteral(te){if(!te.datatype||[null,void 0,""].includes(te.datatype.value))return te.language?new U.LangStringLiteral(te.value,te.language):new U.StringLiteral(te.value);const ie=te.datatype.value,ne=(0,Q.getSuperTypeDict)(ie,this.superTypeProvider);if(J.TypeURL.XSD_STRING in ne)return new U.StringLiteral(te.value,ie);if(J.TypeURL.RDF_LANG_STRING in ne)return new U.LangStringLiteral(te.value,te.language);if(J.TypeURL.XSD_DATE_TIME in ne){const se=new Date(te.value);return Number.isNaN(se.getTime())?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):new U.DateTimeLiteral(new Date(te.value),te.value,ie)}if(J.TypeURL.XSD_BOOLEAN in ne)return te.value!=="true"&&te.value!=="false"&&te.value!=="1"&&te.value!=="0"?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):new U.BooleanLiteral(te.value==="true"||te.value==="1",te.value);if(J.TypeURL.XSD_DECIMAL in ne){const se=D.parseXSDDecimal(te.value);return se===void 0?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):J.TypeURL.XSD_INTEGER in ne?new U.IntegerLiteral(se,ie,te.value):new U.DecimalLiteral(se,ie,te.value)}const ce=J.TypeURL.XSD_FLOAT in ne,le=J.TypeURL.XSD_DOUBLE in ne;if(ce||le){const se=D.parseXSDFloat(te.value);return se===void 0?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):ce?new U.FloatLiteral(se,ie,te.value):new U.DoubleLiteral(se,ie,te.value)}return new U.Literal(te.value,ie,te.value)}}Z.TermTransformer=ee},"../node_modules/sparqlee/dist/lib/util/Consts.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NamedOperators=Z.SetFunctions=Z.SetFunction=Z.Operators=Z.SpecialOperators=Z.RegularOperators=Z.SpecialOperator=Z.RegularOperator=Z.TypeURL=Z.TypeAlias=void 0,function(J){J.SPARQL_NUMERIC="SPARQL_NUMERIC",J.SPARQL_STRINGLY="SPARQL_STRINGLY",J.SPARQL_NON_LEXICAL="SPARQL_NON_LEXICAL"}(Z.TypeAlias||(Z.TypeAlias={}));var G;(function(J){J.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",J.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",J.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",J.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",J.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",J.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",J.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",J.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",J.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",J.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",J.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",J.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",J.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",J.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",J.XSD_INT="http://www.w3.org/2001/XMLSchema#int",J.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",J.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",J.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",J.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",J.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",J.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",J.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",J.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",J.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",J.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",J.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",J.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",J.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",J.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",J.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",J.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",J.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",J.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",J.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",J.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(G=Z.TypeURL||(Z.TypeURL={}));var W;(function(J){J.NOT="!",J.UMINUS="uminus",J.UPLUS="uplus",J.EQUAL="=",J.NOT_EQUAL="!=",J.LT="<",J.GT=">",J.LTE="<=",J.GTE=">=",J.MULTIPLICATION="*",J.DIVISION="/",J.ADDITION="+",J.SUBTRACTION="-",J.IS_IRI="isiri",J.IS_URI="isuri",J.IS_BLANK="isblank",J.IS_LITERAL="isliteral",J.IS_NUMERIC="isnumeric",J.STR="str",J.LANG="lang",J.DATATYPE="datatype",J.IRI="iri",J.URI="uri",J.STRDT="strdt",J.STRLANG="strlang",J.UUID="uuid",J.STRUUID="struuid",J.STRLEN="strlen",J.SUBSTR="substr",J.UCASE="ucase",J.LCASE="lcase",J.STRSTARTS="strstarts",J.STRENDS="strends",J.CONTAINS="contains",J.STRBEFORE="strbefore",J.STRAFTER="strafter",J.ENCODE_FOR_URI="encode_for_uri",J.LANG_MATCHES="langmatches",J.REGEX="regex",J.REPLACE="replace",J.ABS="abs",J.ROUND="round",J.CEIL="ceil",J.FLOOR="floor",J.RAND="rand",J.NOW="now",J.YEAR="year",J.MONTH="month",J.DAY="day",J.HOURS="hours",J.MINUTES="minutes",J.SECONDS="seconds",J.TIMEZONE="timezone",J.TZ="tz",J.MD5="md5",J.SHA1="sha1",J.SHA256="sha256",J.SHA384="sha384",J.SHA512="sha512"})(W=Z.RegularOperator||(Z.RegularOperator={}));var F;(function(J){J.BOUND="bound",J.IF="if",J.COALESCE="coalesce",J.LOGICAL_OR="||",J.LOGICAL_AND="&&",J.SAME_TERM="sameterm",J.IN="in",J.NOT_IN="notin",J.CONCAT="concat",J.BNODE="bnode"})(F=Z.SpecialOperator||(Z.SpecialOperator={})),Z.RegularOperators=new Set(Object.values(W)),Z.SpecialOperators=new Set(Object.values(F)),Z.Operators=new Set([...Z.RegularOperators,...Z.SpecialOperators]);var U;(function(J){J.COUNT="count",J.SUM="sum",J.MIN="min",J.MAX="max",J.AVG="avg",J.GROUP_CONCAT="group_concat",J.SAMPLE="sample"})(U=Z.SetFunction||(Z.SetFunction={})),Z.SetFunctions=new Set(Object.values(U)),Z.NamedOperators=new Set([G.XSD_STRING,G.XSD_FLOAT,G.XSD_DOUBLE,G.XSD_DECIMAL,G.XSD_INTEGER,G.XSD_DATE_TIME,G.XSD_DATE,G.XSD_BOOLEAN])},"../node_modules/sparqlee/dist/lib/util/Errors.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NoExistenceHook=Z.NoAggregator=Z.ExtensionFunctionError=Z.UnknownNamedOperator=Z.UnknownOperator=Z.InvalidTermType=Z.InvalidExpressionType=Z.InvalidExpression=Z.InvalidArity=Z.UnexpectedError=Z.EmptyAggregateError=Z.IncompatibleLanguageOperation=Z.InvalidTimezoneCall=Z.CastError=Z.InvalidArgumentTypes=Z.InError=Z.CoalesceError=Z.RDFEqualTypeError=Z.EBVCoercionError=Z.UnboundVariableError=Z.InvalidLexicalForm=Z.isExpressionError=Z.ExpressionError=void 0;class G extends Error{}Z.ExpressionError=G;function W(We){return We instanceof G}Z.isExpressionError=W;class F extends G{constructor(fe){super(`Invalid lexical form '${Xe(fe)}'`),this.arg=fe}}Z.InvalidLexicalForm=F;class U extends G{constructor(fe,Re){super(`Unbound variable '${Xe(fe)}'`),this.variable=fe,this.bindings=Re}}Z.UnboundVariableError=U;class J extends G{constructor(fe){super(`Cannot coerce term to EBV '${Xe(fe)}'`),this.arg=fe}}Z.EBVCoercionError=J;class Y extends G{constructor(fe){super("Equality test for literals with unsupported datatypes"),this.args=fe}}Z.RDFEqualTypeError=Y;class D extends G{constructor(fe){super("All COALESCE arguments threw errors"),this.errors=fe}}Z.CoalesceError=D;class Q extends G{constructor(fe){super(`Some argument to IN errorred and none where equal. ${fe.map(Re=>`(${Re.toString()}) `).join("and ")}`),this.errors=fe}}Z.InError=Q;class ee extends G{constructor(fe,Re){super(`Argument types not valid for operator: '${Xe(Re)}' with '${Xe(fe)}`),this.args=fe,this.op=Re}}Z.InvalidArgumentTypes=ee;class q extends G{constructor(fe,Re){super(`Invalid cast: '${Xe(fe)}' to '${Xe(Re)}'`),this.arg=fe}}Z.CastError=q;class te extends G{constructor(fe){super(`TIMEZONE call on ${fe} which has no timezone`),this.dateString=fe}}Z.InvalidTimezoneCall=te;class ie extends G{constructor(fe,Re){super(`Operation on incompatible language literals '${Xe(fe)}' and '${Xe(Re)}'`),this.arg1=fe,this.arg2=Re}}Z.IncompatibleLanguageOperation=ie;class ne extends G{constructor(){super("Empty aggregate expression")}}Z.EmptyAggregateError=ne;class ce extends Error{constructor(fe,Re){super(`Programmer Error '${fe}'`),this.payload=Re}}Z.UnexpectedError=ce;class le extends Error{constructor(fe,Re){super(`The number of args does not match the arity of the operator '${Xe(Re)}'.`),this.args=fe,this.op=Re}}Z.InvalidArity=le;class se extends Error{constructor(fe){super(`Invalid SPARQL Expression '${Xe(fe)}'`)}}Z.InvalidExpression=se;class pe extends Error{constructor(fe){super(`Invalid expression type for SPARQL Expression '${Xe(fe)}'`),this.expr=fe}}Z.InvalidExpressionType=pe;class ue extends Error{constructor(fe){super(`Invalid term type for term '${Xe(fe)}'`),this.term=fe}}Z.InvalidTermType=ue;class ae extends Error{constructor(fe){super(`Unknown operator: '${Xe(fe)}`)}}Z.UnknownOperator=ae;class de extends Error{constructor(fe){super(`Unknown named operator: '${Xe(fe)}'`)}}Z.UnknownNamedOperator=de;class be extends Error{constructor(fe,Re){Re instanceof Error?super(`Error thrown in ${fe}: ${Re.message}${Re.stack?`
${Re.stack}`:""}`):super(`Error thrown in ${fe}`)}}Z.ExtensionFunctionError=be;class he extends Error{constructor(fe){super(`Aggregate expression ${Xe(fe)} found, but no aggregate hook provided.`)}}Z.NoAggregator=he;class Le extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}Z.NoExistenceHook=Le;function Xe(We){return JSON.stringify(We)}},"../node_modules/sparqlee/dist/lib/util/Ordering.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.orderTypes=void 0;const W=G("../node_modules/lru-cache/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js");function Y(q,te,ie,ne,ce,le){return q===te?0:q===void 0?ie?-1:1:te===void 0?ie?1:-1:q.equals(te)?0:D(q,te,ne,ce)===ie?-1:1}Z.orderTypes=Y;function D(q,te,ie,ne,ce){return q.termType!==te.termType?ee[q.termType]<ee[te.termType]:q.termType==="Literal"?Q(q,te,ie,ne):q.value<te.value}function Q(q,te,ie,ne){const ce={discoverer:ie||(()=>"term"),cache:ne||new W},le=new F.TermTransformer(ce),se=le.transformLiteral(q),pe=le.transformLiteral(te),ue=se.dataType,ae=pe.dataType,de=(0,J.getSuperTypeDict)(ue,ce),be=(0,J.getSuperTypeDict)(ae,ce);return U.TypeURL.XSD_BOOLEAN in de&&U.TypeURL.XSD_BOOLEAN in be||U.TypeURL.XSD_DATE_TIME in de&&U.TypeURL.XSD_DATE_TIME in be||U.TypeAlias.SPARQL_NUMERIC in de&&U.TypeAlias.SPARQL_NUMERIC in be||U.TypeURL.XSD_STRING in de&&U.TypeURL.XSD_STRING in be?se.typedValue<pe.typedValue:U.TypeURL.RDF_LANG_STRING in de&&U.TypeURL.RDF_LANG_STRING in be?se.typedValue<pe.typedValue||se.typedValue===pe.typedValue&&se.language<pe.language:ue<ae||se.dataType===pe.dataType&&se.str()<pe.str()}const ee={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}},"../node_modules/sparqlee/dist/lib/util/Parsing.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.parseXSDDateTime=Z.parseXSDInteger=Z.parseXSDDecimal=Z.parseXSDFloat=void 0;function G(J){const Y=Number(J);return Number.isNaN(Y)?J==="NaN"?Number.NaN:J==="INF"||J==="+INF"?Number.POSITIVE_INFINITY:J==="-INF"?Number.NEGATIVE_INFINITY:void 0:Y}Z.parseXSDFloat=G;function W(J){const Y=Number(J);return Number.isNaN(Y)?void 0:Y}Z.parseXSDDecimal=W;function F(J){const Y=Number.parseInt(J,10);return Number.isNaN(Y)?void 0:Y}Z.parseXSDInteger=F;function U(J){const Y=J.indexOf("T"),D=Y>=0?J.slice(0,Math.max(0,Y)):J,[Q,ee,q]=D.split("-");let te="00",ie="00",ne="00",ce="";if(Y>=0){const le=J.slice(Y+1),[se,pe]=le.split(/[+Z-]/u);[te,ie,ne]=se.split(":");const ue=/([+Z-].*)/u.exec(le);ce=ue?ue[0]:""}return{year:Q,month:ee,day:q,hours:te,minutes:ie,seconds:ne,timezone:ce}}Z.parseXSDDateTime=U},"../node_modules/sparqlee/dist/lib/util/TypeHandling.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isSubTypeOf=Z.getSuperTypeDict=Z.isInternalSubType=Z.asGeneralType=Z.asOverrideType=Z.asKnownLiteralType=Z.asTypeAlias=Z.typeAliasCheck=Z.extensionTableInit=Z.getSuperTypes=Z.superTypeDictTable=Z.extensionTableInput=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js");Z.extensionTableInput={[F.TypeURL.XSD_DATE_TIME_STAMP]:F.TypeURL.XSD_DATE_TIME,[F.TypeURL.XSD_DAYTIME_DURATION]:F.TypeURL.XSD_DURATION,[F.TypeURL.XSD_YEAR_MONTH_DURATION]:F.TypeURL.XSD_DURATION,[F.TypeURL.RDF_LANG_STRING]:F.TypeAlias.SPARQL_STRINGLY,[F.TypeURL.XSD_STRING]:F.TypeAlias.SPARQL_STRINGLY,[F.TypeURL.XSD_NORMALIZED_STRING]:F.TypeURL.XSD_STRING,[F.TypeURL.XSD_TOKEN]:F.TypeURL.XSD_NORMALIZED_STRING,[F.TypeURL.XSD_LANGUAGE]:F.TypeURL.XSD_TOKEN,[F.TypeURL.XSD_NM_TOKEN]:F.TypeURL.XSD_TOKEN,[F.TypeURL.XSD_NAME]:F.TypeURL.XSD_TOKEN,[F.TypeURL.XSD_NC_NAME]:F.TypeURL.XSD_NAME,[F.TypeURL.XSD_ENTITY]:F.TypeURL.XSD_NC_NAME,[F.TypeURL.XSD_ID]:F.TypeURL.XSD_NC_NAME,[F.TypeURL.XSD_ID_REF]:F.TypeURL.XSD_NC_NAME,[F.TypeURL.XSD_DOUBLE]:F.TypeAlias.SPARQL_NUMERIC,[F.TypeURL.XSD_FLOAT]:F.TypeAlias.SPARQL_NUMERIC,[F.TypeURL.XSD_DECIMAL]:F.TypeAlias.SPARQL_NUMERIC,[F.TypeURL.XSD_INTEGER]:F.TypeURL.XSD_DECIMAL,[F.TypeURL.XSD_NON_POSITIVE_INTEGER]:F.TypeURL.XSD_INTEGER,[F.TypeURL.XSD_NEGATIVE_INTEGER]:F.TypeURL.XSD_NON_POSITIVE_INTEGER,[F.TypeURL.XSD_LONG]:F.TypeURL.XSD_INTEGER,[F.TypeURL.XSD_INT]:F.TypeURL.XSD_LONG,[F.TypeURL.XSD_SHORT]:F.TypeURL.XSD_INT,[F.TypeURL.XSD_BYTE]:F.TypeURL.XSD_SHORT,[F.TypeURL.XSD_NON_NEGATIVE_INTEGER]:F.TypeURL.XSD_INTEGER,[F.TypeURL.XSD_POSITIVE_INTEGER]:F.TypeURL.XSD_NON_NEGATIVE_INTEGER,[F.TypeURL.XSD_UNSIGNED_LONG]:F.TypeURL.XSD_NON_NEGATIVE_INTEGER,[F.TypeURL.XSD_UNSIGNED_INT]:F.TypeURL.XSD_UNSIGNED_LONG,[F.TypeURL.XSD_UNSIGNED_SHORT]:F.TypeURL.XSD_UNSIGNED_INT,[F.TypeURL.XSD_UNSIGNED_BYTE]:F.TypeURL.XSD_UNSIGNED_SHORT,[F.TypeURL.XSD_DATE_TIME]:"term",[F.TypeURL.XSD_BOOLEAN]:"term",[F.TypeURL.XSD_DATE]:"term",[F.TypeURL.XSD_DURATION]:"term",[F.TypeAlias.SPARQL_NUMERIC]:"term",[F.TypeAlias.SPARQL_STRINGLY]:"term",[F.TypeAlias.SPARQL_NON_LEXICAL]:"term",[F.TypeURL.XSD_ANY_URI]:"term"};function U(le,se){const pe=se.cache.get(le);if(pe)return pe;const ue=se.discoverer(le);if(ue==="term"){const be=Object.create(null);return be.__depth=0,be[le]=0,se.cache.set(le,be),be}let ae;const de=ee(ue);return de?ae=Object.assign({},Z.superTypeDictTable[de]):ae=Object.assign({},U(ue,se)),ae.__depth++,ae[le]=ae.__depth,se.cache.set(le,ae),ae}Z.getSuperTypes=U;function J(){const le=Object.create(null);for(const[se,pe]of Object.entries(Z.extensionTableInput)){const ue=se;le[ue]||Y(ue,pe,le)}Z.superTypeDictTable=le}Z.extensionTableInit=J,J();function Y(le,se,pe){if(se==="term"||se===void 0){const ue=Object.create(null);ue.__depth=0,ue[le]=0,pe[le]=ue;return}pe[se]||Y(se,Z.extensionTableInput[se],pe),pe[le]=Object.assign(Object.assign({},pe[se]),{[le]:pe[se].__depth+1,__depth:pe[se].__depth+1})}function D(){Z.typeAliasCheck=Object.create(null);for(const le of Object.values(F.TypeAlias))Z.typeAliasCheck[le]=!0}D();function Q(le){if(le in Z.typeAliasCheck)return le}Z.asTypeAlias=Q;function ee(le){if(le in Z.superTypeDictTable)return le}Z.asKnownLiteralType=ee;function q(le){if(ee(le)||le==="term")return le}Z.asOverrideType=q;function te(le){if(le==="term"||(0,W.asTermType)(le))return le}Z.asGeneralType=te;function ie(le,se){return le!=="term"&&Z.superTypeDictTable[le]&&Z.superTypeDictTable[le][se]!==void 0}Z.isInternalSubType=ie;function ne(le,se){const pe=ee(le);return pe?Z.superTypeDictTable[pe]:U(le,se)}Z.getSuperTypeDict=ne;function ce(le,se,pe){return le==="term"?!1:ne(le,pe)[se]!==void 0}Z.isSubTypeOf=ce},"../node_modules/stream-to-string/index.js":(X,Z,G)=>{var W=G("./require-empty.js");X.exports=function(F,U,J){typeof U=="function"&&(J=U,U=null),J=J||function(){};var Y="";return new W(function(D,Q){F.on("data",function(ee){Y+=typeof U=="string"?ee.toString(U):ee.toString()}),F.on("end",function(){D(Y),J(null,Y)}),F.on("error",function(ee){Q(ee),J(ee)})})}},"../node_modules/typed-immutable-map/dist/HashMap/empty.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.empty=void 0;const F={node:G("../node_modules/typed-immutable-map/dist/nodes/index.js").EMPTY,size:0};function U(){return F}Z.empty=U},"../node_modules/typed-immutable-map/dist/HashMap/entries.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.entries=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(J){return(0,W.iterator)((0,W.getNode)(J),U)}Z.entries=F;function U(J){return[J.key,J.value]}},"../node_modules/typed-immutable-map/dist/HashMap/filter.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.filter=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/set.js"),J=function(D,Q){return(0,F.reduce)(function(ee,q,te){return D(q,te)?(0,U.set)(te,q,ee):ee},(0,W.empty)(),Q)};Z.filter=J},"../node_modules/typed-immutable-map/dist/HashMap/forEach.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.forEach=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),F=function(J,Y){return(0,W.reduce)((D,Q,ee)=>J(Q,ee),null,Y),Y};Z.forEach=F},"../node_modules/typed-immutable-map/dist/HashMap/from.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.fromObject=Z.fromIterable=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/set.js");function U(Y){let D=(0,W.empty)();for(const[Q,ee]of Y)D=(0,F.set)(Q,ee,D);return D}Z.fromIterable=U;function J(Y){let D=(0,W.empty)();for(let Q in Y)Y.hasOwnProperty(Q)&&(D=(0,F.set)(Q,Y[Q],D));return D}Z.fromObject=J},"../node_modules/typed-immutable-map/dist/HashMap/get.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.get=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(U,J,Y){const D=(0,W.findHash)(U);return(0,W.getHash)(void 0,D,U,J,Y)}Z.get=F},"../node_modules/typed-immutable-map/dist/HashMap/has.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.has=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/index.js");function U(J,Y,D){const Q=(0,W.findHash)(J);return(0,W.getHash)(F.NOTHING,Q,J,Y,D)!==F.NOTHING}Z.has=U},"../node_modules/typed-immutable-map/dist/HashMap/keys.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.keys=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(J){return(0,W.iterator)((0,W.getNode)(J),U)}Z.keys=F;function U(J){return J.key}},"../node_modules/typed-immutable-map/dist/HashMap/map.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.map=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/set.js"),J=function(D,Q){return(0,F.reduce)(function(ee,q,te){return(0,U.set)(te,D(q,te),ee)},(0,W.empty)(),Q)};Z.map=J},"../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.findHash=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/index.js");function F(U){return typeof U=="number"?U:typeof U=="string"?(0,W.stringHash)(U):Math.abs((0,W.stringHash)(JSON.stringify(U)))}Z.findHash=F},"../node_modules/typed-immutable-map/dist/HashMap/primitives/fold.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.fold=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js");function F(U,J,Y){const D=(0,W.getNode)(Y);if(D.type===0)return J;if(D.type===1)return U(J,D.value,D.key);const Q=[D.children];let ee;for(;ee=Q.shift();)for(let q=0;q<ee.length;++q){const te=ee[q];te&&te.type!==0&&(te.type===1?J=U(J,te.value,te.key):Q.push(te.children))}return J}Z.fold=F},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getHash=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/index.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js");function J(Y,D,Q,ee,q=U.defaultKeyEquals){let te=(0,F.getNode)(ee),ie=0;for(;;)switch(te.type){case 1:return q(Q,te.key)?te.value:Y;case 2:if(D===te.hash){const ne=te.children;for(let ce=0;ce<ne.length;++ce){const le=ne[ce];if(q(Q,le.key))return le.value}return Y}case 3:{const ne=(0,W.hashFragment)(ie,D),ce=(0,W.toBitmap)(ne);if(te.mask&ce){const le=(0,W.bitmapToIndex)(te.mask,ce);te=te.children[le],ie+=W.SIZE;break}return Y}case 4:{if(te=te.children[(0,W.hashFragment)(ie,D)],te){ie+=W.SIZE;break}return Y}default:return Y}}Z.getHash=J},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getNode=void 0;function G(W){return W.node}Z.getNode=G},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getSize=void 0;function G(W){return W.size}Z.getSize=G},"../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getHash.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/setKeyValue.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/iterateMap.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/fold.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js"),Z)},"../node_modules/typed-immutable-map/dist/HashMap/primitives/iterateMap.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.iterator=void 0;function G(D,Q){return new W(U(D,Q,[]))}Z.iterator=G;class W{_iterate;constructor(Q){this._iterate=Q}next(){if(!this._iterate)return{done:!0,value:null};const{value:Q,rest:ee}=this._iterate;return this._iterate=F(ee),{done:!1,value:Q}}[Symbol.iterator](){return this}}const F=D=>D&&J(D[0],D[1],D[2],D[3],D[4]);function U(D,Q,ee){switch(D.type){case 1:return{value:Q(D),rest:ee};case 2:case 4:case 3:const q=D.children;return J(q.length,q,0,Q,ee);default:return F(ee)}}function J(D,Q,ee,q,te){for(;ee<D;){const ie=Q[ee++];if(ie&&Y(ie))return U(ie,q,[D,Q,ee,q,te])}return F(te)}function Y(D){return D&&D.type!==0}},"../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.defaultKeyEquals=void 0;const G=(W,F)=>W===F;Z.defaultKeyEquals=G},"../node_modules/typed-immutable-map/dist/HashMap/primitives/setKeyValue.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.setKeyValue=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/index.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),J=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js"),Y=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js"),D=ee=>()=>ee;function Q(ee,q,te){const ie=(0,F.findHash)(ee),ne={value:(0,J.getSize)(te)},ce=(0,W.modify)((0,U.getNode)(te),0,D(q),ie,ee,ne);return(0,Y.setTree)(ce,ne.value,te)}Z.setKeyValue=Q},"../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.setTree=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js");function F(U,J,Y){return U===(0,W.getNode)(Y)?Y:{node:U,size:J}}Z.setTree=F},"../node_modules/typed-immutable-map/dist/HashMap/reduce.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.reduce=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");Z.reduce=W.fold},"../node_modules/typed-immutable-map/dist/HashMap/remove.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.remove=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/constants.js");function U(J,Y){return(0,W.setKeyValue)(J,F.NOTHING,Y)}Z.remove=U},"../node_modules/typed-immutable-map/dist/HashMap/set.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.set=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");Z.set=W.setKeyValue},"../node_modules/typed-immutable-map/dist/HashMap/size.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.size=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js");function F(U){return(0,W.getSize)(U)}Z.size=F},"../node_modules/typed-immutable-map/dist/HashMap/values.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.values=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(J){return(0,W.iterator)((0,W.getNode)(J),U)}Z.values=F;function U(J){return J.value}},"../node_modules/typed-immutable-map/dist/common/array-operations.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.insert=Z.remove=Z.replace=void 0;function G(U,J,Y){const D=Y.length,Q=Array(D);for(let ee=0;ee<D;++ee)Q[ee]=Y[ee];return Q[U]=J,Q}Z.replace=G;function W(U,J){const Y=J.length;if(Y===0||U>=Y)return J;if(Y===1)return[];const D=Array(Y-1);let Q=0;for(;Q<U;++Q)D[Q]=J[Q];for(Q=Q+1;Q<Y;++Q)D[Q-1]=J[Q];return D}Z.remove=W;function F(U,J,Y){const D=Y.length,Q=Array(D+1);let ee=0;for(;ee<U;++ee)Q[ee]=Y[ee];for(Q[ee++]=J;ee<D+1;++ee)Q[ee]=Y[ee-1];return Q}Z.insert=F},"../node_modules/typed-immutable-map/dist/common/bitwise-operations.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.bitmapToIndex=Z.toBitmap=Z.hashFragment=Z.hammingWeight=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/constants.js");function F(D){return D=D-(D>>1&1431655765),D=(D&858993459)+(D>>2&858993459),(D+(D>>4)&252645135)*16843009>>24}Z.hammingWeight=F;function U(D,Q){return Q>>>D&W.MASK}Z.hashFragment=U;function J(D){return 1<<D}Z.toBitmap=J;function Y(D,Q){return F(D&Q-1)}Z.bitmapToIndex=Y},"../node_modules/typed-immutable-map/dist/common/constants.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MIN_ARRAY_NODE=Z.MAX_INDEX_NODE=Z.MASK=Z.BUCKET_SIZE=Z.SIZE=void 0,Z.SIZE=5,Z.BUCKET_SIZE=Math.pow(2,Z.SIZE),Z.MASK=Z.BUCKET_SIZE-1,Z.MAX_INDEX_NODE=Z.BUCKET_SIZE/2,Z.MIN_ARRAY_NODE=Z.BUCKET_SIZE/4},"../node_modules/typed-immutable-map/dist/common/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/common/array-operations.js"),Z),F(G("../node_modules/typed-immutable-map/dist/common/bitwise-operations.js"),Z),F(G("../node_modules/typed-immutable-map/dist/common/constants.js"),Z),F(G("../node_modules/typed-immutable-map/dist/common/stringHash.js"),Z)},"../node_modules/typed-immutable-map/dist/common/stringHash.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.stringHash=void 0;function G(W){let F=0;for(let U=0;U<W.length;++U)F=(F<<5)-F+W.charCodeAt(U)|0;return F}Z.stringHash=G},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/ArrayNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyListNode=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/modify.js"),U=G("../node_modules/typed-immutable-map/dist/common/index.js"),J=G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/toIndexNode.js");function Y(Q,ee,q,te,ie,ne){const{size:ce,children:le}=Q,se=(0,U.hashFragment)(ee,te),pe=le[se],ue=(0,F.modify)(pe||(0,W.empty)(),ee+U.SIZE,q,te,ie,ne);return pe===ue?Q:D(pe)&&!D(ue)?{type:4,size:ce+1,children:(0,U.replace)(se,ue,le)}:!D(pe)&&D(ue)?ce-1<=U.MIN_ARRAY_NODE?(0,J.toIndexNode)(ce,se,le):{type:4,size:ce-1,children:(0,U.replace)(se,(0,W.empty)(),le)}:{type:4,size:ce,children:(0,U.replace)(se,ue,le)}}Z.modifyListNode=Y;function D(Q){return Q&&Q.type===0}},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/ArrayNode.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/toIndexNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.toIndexNode=void 0;function G(W,F,U){const J=new Array(W-1);let Y=0,D=0;for(let Q=0;Q<U.length;++Q)if(Q!==F){const ee=U[Q];ee&&ee.type>0&&(J[Y++]=ee,D|=1<<Q)}return{type:3,mask:D,children:J}}Z.toIndexNode=G},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/CollisionNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyCollisionNode=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/newCollisionList.js");function J(Y,D,Q,ee,q,te){if(ee===Y.hash){const ne=(0,U.newCollisionList)(Y.hash,Y.children,Q,q,te);return ne===Y.children?Y:ne.length>1?{type:2,hash:Y.hash,children:ne}:ne[0]}const ie=Q();return ie===W.NOTHING?Y:(++te.value,(0,F.combineLeafNodes)(D,Y.hash,Y,ee,{type:1,hash:ee,key:q,value:ie}))}Z.modifyCollisionNode=J},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/CollisionNode.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/newCollisionList.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.newCollisionList=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),F=G("../node_modules/typed-immutable-map/dist/common/index.js");function U(J,Y,D,Q,ee){const q=Y.length;for(let ie=0;ie<q;++ie){const ne=Y[ie];if(ne.key===Q){const ce=ne.value,le=D(ce);return le===ce?Y:le===W.NOTHING?(--ee.value,(0,F.remove)(ie,Y)):(0,F.insert)(ie,{type:1,hash:J,key:Q,value:le},Y)}}const te=D();return te===W.NOTHING?Y:(++ee.value,(0,F.insert)(q,{type:1,hash:J,key:Q,value:te},Y))}Z.newCollisionList=U},"../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.empty=Z.EMPTY=Z.modifyEmpty=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js");function F(J,Y,D,Q,ee,q){const te=D(void 0);return te===W.NOTHING?J:(++q.value,{type:1,hash:Q,key:ee,value:te})}Z.modifyEmpty=F,Z.EMPTY={type:0};function U(){return Z.EMPTY}Z.empty=U},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/IndexedNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyIndexedNode=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),F=G("../node_modules/typed-immutable-map/dist/common/index.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/modify.js"),J=G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/toArrayNode.js");function Y(Q,ee,q,te,ie,ne){const{mask:ce,children:le}=Q,se=(0,F.hashFragment)(ee,te),pe=(0,F.toBitmap)(se),ue=(0,F.bitmapToIndex)(ce,pe),ae=!!(ce&pe),de=ae?le[ue]:(0,W.empty)(),be=(0,U.modify)(de,ee+F.SIZE,q,te,ie,ne);if(de===be)return Q;if(ae&&be.type===0){const he=ce&~pe;return he?le.length<=2&&D(le[ue^1])?le[ue^1]:{type:3,mask:he,children:(0,F.remove)(ue,le)}:(0,W.empty)()}return!ae&&be.type!==0?le.length>=F.MAX_INDEX_NODE?(0,J.toArrayNode)(se,be,ce,le):{type:3,mask:ce|pe,children:(0,F.insert)(ue,be,le)}:{type:3,mask:ce,children:(0,F.replace)(ue,be,le)}}Z.modifyIndexedNode=Y;function D(Q){const ee=Q.type;return ee===0||ee===1||ee===2}},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/IndexedNode.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/toArrayNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.toArrayNode=void 0;function G(W,F,U,J){const Y=[];let D=U,Q=0;for(let ee=0;D;++ee)D&1&&(Y[ee]=J[Q++]),D>>>=1;return Y[W]=F,{type:4,size:Q+1,children:Y}}Z.toArrayNode=G},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/LeafNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyLeaf=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js");function J(Y,D,Q,ee,q,te){if(q===Y.key){const ne=Q(Y.value);return ne===Y.value?Y:ne===W.NOTHING?(--te.value,(0,F.empty)()):{type:1,hash:ee,key:q,value:ne}}const ie=Q();return ie===W.NOTHING?Y:(++te.value,(0,U.combineLeafNodes)(D,Y.hash,Y,ee,{type:1,hash:ee,key:q,value:ie}))}Z.modifyLeaf=J},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.combineLeafNodes=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/index.js");function F(U,J,Y,D,Q){if(J===D)return{type:2,hash:J,children:[Q,Y]};const ee=(0,W.hashFragment)(U,J),q=(0,W.hashFragment)(U,D);return{type:3,mask:(0,W.toBitmap)(ee)|(0,W.toBitmap)(q),children:ee===q?[F(U+W.SIZE,J,Y,D,Q)]:ee<q?[Y,Q]:[Q,Y]}}Z.combineLeafNodes=F},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/LeafNode.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/constants.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NOTHING=void 0,Z.NOTHING=Object.create(null)},"../node_modules/typed-immutable-map/dist/nodes/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/types.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/modify.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/modify.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modify=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js"),J=G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js"),Y=G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js");function D(Q,ee,q,te,ie,ne){switch(Q.type){case 1:return(0,W.modifyLeaf)(Q,ee,q,te,ie,ne);case 0:return(0,F.modifyEmpty)(Q,ee,q,te,ie,ne);case 4:return(0,U.modifyListNode)(Q,ee,q,te,ie,ne);case 3:return(0,J.modifyIndexedNode)(Q,ee,q,te,ie,ne);case 2:return(0,Y.modifyCollisionNode)(Q,ee,q,te,ie,ne);default:throw new Error("never")}}Z.modify=D},"../node_modules/typed-immutable-map/dist/nodes/types.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/uuid-random/index.js":(X,Z,G)=>{(function(){var W,F=0,U=[],J;for(J=0;J<256;J++)U[J]=(J+256).toString(16).substr(1);ee.BUFFER_SIZE=4096,ee.bin=Q,ee.clearBuffer=function(){W=null,F=0},ee.test=function(q){return typeof q=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(q):!1};var Y;typeof crypto<"u"?Y=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(Y=window.msCrypto),Y=Y||G("?699d"),X.exports=ee,ee.randomBytes=function(){if(Y){if(Y.randomBytes)return Y.randomBytes;if(Y.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(q){var te=new Uint8Array(q);return Y.getRandomValues(te),Array.from(te)}:function(q){var te=new Uint8Array(q);return Y.getRandomValues(te),te}}return function(q){var te,ie=[];for(te=0;te<q;te++)ie.push(Math.floor(Math.random()*256));return ie}}();function D(q){return(!W||F+q>ee.BUFFER_SIZE)&&(F=0,W=ee.randomBytes(ee.BUFFER_SIZE)),W.slice(F,F+=q)}function Q(){var q=D(16);return q[6]=q[6]&15|64,q[8]=q[8]&63|128,q}function ee(){var q=Q();return U[q[0]]+U[q[1]]+U[q[2]]+U[q[3]]+"-"+U[q[4]]+U[q[5]]+"-"+U[q[6]]+U[q[7]]+"-"+U[q[8]]+U[q[9]]+"-"+U[q[10]]+U[q[11]]+U[q[12]]+U[q[13]]+U[q[14]]+U[q[15]]}})()},"../node_modules/yallist/iterator.js":X=>{X.exports=function(Z){Z.prototype[Symbol.iterator]=function*(){for(let G=this.head;G;G=G.next)yield G.value}}},"../node_modules/yallist/yallist.js":(X,Z,G)=>{X.exports=W,W.Node=Y,W.create=W;function W(D){var Q=this;if(Q instanceof W||(Q=new W),Q.tail=null,Q.head=null,Q.length=0,D&&typeof D.forEach=="function")D.forEach(function(te){Q.push(te)});else if(arguments.length>0)for(var ee=0,q=arguments.length;ee<q;ee++)Q.push(arguments[ee]);return Q}W.prototype.removeNode=function(D){if(D.list!==this)throw new Error("removing node which does not belong to this list");var Q=D.next,ee=D.prev;return Q&&(Q.prev=ee),ee&&(ee.next=Q),D===this.head&&(this.head=Q),D===this.tail&&(this.tail=ee),D.list.length--,D.next=null,D.prev=null,D.list=null,Q},W.prototype.unshiftNode=function(D){if(D!==this.head){D.list&&D.list.removeNode(D);var Q=this.head;D.list=this,D.next=Q,Q&&(Q.prev=D),this.head=D,this.tail||(this.tail=D),this.length++}},W.prototype.pushNode=function(D){if(D!==this.tail){D.list&&D.list.removeNode(D);var Q=this.tail;D.list=this,D.prev=Q,Q&&(Q.next=D),this.tail=D,this.head||(this.head=D),this.length++}},W.prototype.push=function(){for(var D=0,Q=arguments.length;D<Q;D++)U(this,arguments[D]);return this.length},W.prototype.unshift=function(){for(var D=0,Q=arguments.length;D<Q;D++)J(this,arguments[D]);return this.length},W.prototype.pop=function(){if(this.tail){var D=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,D}},W.prototype.shift=function(){if(this.head){var D=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,D}},W.prototype.forEach=function(D,Q){Q=Q||this;for(var ee=this.head,q=0;ee!==null;q++)D.call(Q,ee.value,q,this),ee=ee.next},W.prototype.forEachReverse=function(D,Q){Q=Q||this;for(var ee=this.tail,q=this.length-1;ee!==null;q--)D.call(Q,ee.value,q,this),ee=ee.prev},W.prototype.get=function(D){for(var Q=0,ee=this.head;ee!==null&&Q<D;Q++)ee=ee.next;if(Q===D&&ee!==null)return ee.value},W.prototype.getReverse=function(D){for(var Q=0,ee=this.tail;ee!==null&&Q<D;Q++)ee=ee.prev;if(Q===D&&ee!==null)return ee.value},W.prototype.map=function(D,Q){Q=Q||this;for(var ee=new W,q=this.head;q!==null;)ee.push(D.call(Q,q.value,this)),q=q.next;return ee},W.prototype.mapReverse=function(D,Q){Q=Q||this;for(var ee=new W,q=this.tail;q!==null;)ee.push(D.call(Q,q.value,this)),q=q.prev;return ee},W.prototype.reduce=function(D,Q){var ee,q=this.head;if(arguments.length>1)ee=Q;else if(this.head)q=this.head.next,ee=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var te=0;q!==null;te++)ee=D(ee,q.value,te),q=q.next;return ee},W.prototype.reduceReverse=function(D,Q){var ee,q=this.tail;if(arguments.length>1)ee=Q;else if(this.tail)q=this.tail.prev,ee=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var te=this.length-1;q!==null;te--)ee=D(ee,q.value,te),q=q.prev;return ee},W.prototype.toArray=function(){for(var D=new Array(this.length),Q=0,ee=this.head;ee!==null;Q++)D[Q]=ee.value,ee=ee.next;return D},W.prototype.toArrayReverse=function(){for(var D=new Array(this.length),Q=0,ee=this.tail;ee!==null;Q++)D[Q]=ee.value,ee=ee.prev;return D},W.prototype.slice=function(D,Q){Q=Q||this.length,Q<0&&(Q+=this.length),D=D||0,D<0&&(D+=this.length);var ee=new W;if(Q<D||Q<0)return ee;D<0&&(D=0),Q>this.length&&(Q=this.length);for(var q=0,te=this.head;te!==null&&q<D;q++)te=te.next;for(;te!==null&&q<Q;q++,te=te.next)ee.push(te.value);return ee},W.prototype.sliceReverse=function(D,Q){Q=Q||this.length,Q<0&&(Q+=this.length),D=D||0,D<0&&(D+=this.length);var ee=new W;if(Q<D||Q<0)return ee;D<0&&(D=0),Q>this.length&&(Q=this.length);for(var q=this.length,te=this.tail;te!==null&&q>Q;q--)te=te.prev;for(;te!==null&&q>D;q--,te=te.prev)ee.push(te.value);return ee},W.prototype.splice=function(D,Q,...ee){D>this.length&&(D=this.length-1),D<0&&(D=this.length+D);for(var q=0,te=this.head;te!==null&&q<D;q++)te=te.next;for(var ie=[],q=0;te&&q<Q;q++)ie.push(te.value),te=this.removeNode(te);te===null&&(te=this.tail),te!==this.head&&te!==this.tail&&(te=te.prev);for(var q=0;q<ee.length;q++)te=F(this,te,ee[q]);return ie},W.prototype.reverse=function(){for(var D=this.head,Q=this.tail,ee=D;ee!==null;ee=ee.prev){var q=ee.prev;ee.prev=ee.next,ee.next=q}return this.head=Q,this.tail=D,this};function F(D,Q,ee){var q=Q===D.head?new Y(ee,null,Q,D):new Y(ee,Q,Q.next,D);return q.next===null&&(D.tail=q),q.prev===null&&(D.head=q),D.length++,q}function U(D,Q){D.tail=new Y(Q,D.tail,null,D),D.head||(D.head=D.tail),D.length++}function J(D,Q){D.head=new Y(Q,null,D.head,D),D.tail||(D.tail=D.head),D.length++}function Y(D,Q,ee,q){if(!(this instanceof Y))return new Y(D,Q,ee,q);this.list=q,this.value=D,Q?(Q.next=this,this.prev=Q):this.prev=null,ee?(ee.prev=this,this.next=ee):this.next=null}try{G("../node_modules/yallist/iterator.js")(W)}catch{}},"../packages/immutable/dist/Map.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Map=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/has.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/get.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/set.js"),J=G("../node_modules/typed-immutable-map/dist/HashMap/forEach.js"),Y=G("../node_modules/typed-immutable-map/dist/HashMap/map.js"),D=G("../node_modules/typed-immutable-map/dist/HashMap/filter.js"),Q=G("../node_modules/typed-immutable-map/dist/HashMap/remove.js"),ee=G("../node_modules/typed-immutable-map/dist/HashMap/entries.js"),q=G("../node_modules/typed-immutable-map/dist/HashMap/values.js"),te=G("../node_modules/typed-immutable-map/dist/HashMap/keys.js"),ie=G("../node_modules/typed-immutable-map/dist/HashMap/size.js");class ne{hashmap;constructor(le){this.hashmap=le}get size(){return(0,ie.size)(this.hashmap)}set(le,se){return new ne((0,U.set)(le,se,this.hashmap))}delete(le){return new ne((0,Q.remove)(le,this.hashmap))}get(le){return(0,F.get)(le,this.hashmap)}has(le){return(0,W.has)(le,this.hashmap)}forEach(le){(0,J.forEach)(le,this.hashmap)}map(le){return new ne((0,Y.map)(le,this.hashmap))}filter(le){return new ne((0,D.filter)(le,this.hashmap))}toJS(){return Object.fromEntries(this)}toJSON(){return this.toJS()}keys(){return(0,te.keys)(this.hashmap)}values(){return(0,q.values)(this.hashmap)}entries(){return(0,ee.entries)(this.hashmap)}[Symbol.iterator](){return this.entries()}}Z.Map=ne},"../packages/immutable/dist/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Map=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/from.js"),U=G("../packages/immutable/dist/Map.js"),J=D=>Symbol.iterator in D;function Y(D){return D?J(D)?new U.Map((0,F.fromIterable)(D)):new U.Map((0,F.fromObject)(D)):new U.Map((0,W.empty)())}Z.Map=Y},"../packages/uuid/dist/index.js":function(X,Z,G){var W=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.v4=void 0;const F=W(G("../node_modules/uuid-random/index.js"));Z.v4=F.default},asynciterator:X=>{X.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_asynciterator__},sparqlalgebrajs:X=>{X.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqlalgebrajs__},sparqljs:X=>{X.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqljs__},"?699d":()=>{},"./require-empty.js":()=>{},"./src/crypto-polyfill.js":(__unused_webpack_module,__unused_webpack_exports,__quadstore_comunica_require__)=>{const isNode=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,polyfillCrypto=({randomFillSync:X})=>{__quadstore_comunica_require__.g.crypto={},__quadstore_comunica_require__.g.crypto.getRandomValues=Z=>(X(Z),Z)};isNode&&typeof crypto>"u"&&(eval("typeof require === 'function'")?polyfillCrypto(eval("require('crypto');")):eval("import('crypto');").then(polyfillCrypto).catch(X=>{console.error(X),process.exit(1)}))},"./src/engine.js":(X,Z,G)=>{const W=new(G("../node_modules/@comunica/logger-void/lib/index.js")).LoggerVoid,F=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),U=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),J=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),Y=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),D=new(G("../node_modules/@comunica/bus-query-operation/lib/index.js")).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),Q=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),ee=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),q=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),te=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),ie=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),ne=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),ce=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),le=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus"});new(G("../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/index.js")).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:U});const se=new(G("../node_modules/@comunica/mediator-combine-pipeline/lib/index.js")).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:U});new(G("../node_modules/@comunica/actor-hash-bindings-sha1/lib/index.js")).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:J});const pe=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:J}),ue=new(G("../node_modules/@comunica/mediator-combine-pipeline/lib/index.js")).MediatorCombinePipeline({name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:Y});new(G("../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/index.js")).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:Y}),new(G("../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/index.js")).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:Y}),new(G("../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/index.js")).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:Y});const ae=new(G("../node_modules/@comunica/mediator-number/lib/index.js")).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:D});new(G("../node_modules/@comunica/actor-query-operation-values/lib/index.js")).ActorQueryOperationValues({name:"urn:comunica:default:query-operation/actors#values",bus:D});const de=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:Q});new(G("../node_modules/@comunica/actor-query-parse-sparql/lib/index.js")).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:Q});const be=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:ee}),he=new(G("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:ee}),Le=new(G("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:ee}),Xe=new(G("../node_modules/@comunica/mediator-all/lib/index.js")).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:q});new(G("../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/index.js")).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:te});const We=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:te});new(G("../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/index.js")).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:ie});const fe=new(G("../node_modules/@comunica/mediator-number/lib/index.js")).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:ie});new(G("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/index.js")).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:ne});const Re=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:ne}),ye=new(G("../node_modules/@comunica/mediator-join-coefficients-fixed/lib/index.js")).MediatorJoinCoefficientsFixed({cpuWeight:1,memoryWeight:1,timeWeight:10,ioWeight:100,name:"urn:comunica:default:rdf-join/mediators#main",bus:ce}),re=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-resolve-quad-pattern/mediators#main",bus:le});new(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/index.js")).ActorRdfResolveQuadPatternRdfJsSource({name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source",bus:le}),new(G("../node_modules/@comunica/actor-query-operation-ask/lib/index.js")).ActorQueryOperationAsk({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#ask",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-bgp-join/lib/index.js")).ActorQueryOperationBgpJoin({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#bgp",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-construct/lib/index.js")).ActorQueryOperationConstruct({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#construct",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-describe-subject/lib/index.js")).ActorQueryOperationDescribeSubject({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#describe",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-distinct-hash/lib/index.js")).ActorQueryOperationDistinctHash({mediatorHashBindings:pe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#distinct",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-extend/lib/index.js")).ActorQueryOperationExtend({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#extend",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/index.js")).ActorQueryOperationFilterSparqlee({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#filter",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-from-quad/lib/index.js")).ActorQueryOperationFromQuad({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#from",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-group/lib/index.js")).ActorQueryOperationGroup({mediatorHashBindings:pe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#group",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/index.js")).ActorQueryOperationOrderBySparqlee({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#orderby",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-nop/lib/index.js")).ActorQueryOperationNop({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#nop",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-project/lib/index.js")).ActorQueryOperationProject({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#project",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-reduced-hash/lib/index.js")).ActorQueryOperationReducedHash({mediatorHashBindings:pe,cacheSize:100,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#reduced",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-service/lib/index.js")).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#service",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-slice/lib/index.js")).ActorQueryOperationSlice({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#slice",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-union/lib/index.js")).ActorQueryOperationUnion({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#union",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-alt/lib/index.js")).ActorQueryOperationPathAlt({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-alt",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-inv/lib/index.js")).ActorQueryOperationPathInv({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-inv",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-link/lib/index.js")).ActorQueryOperationPathLink({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-link",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/index.js")).ActorQueryOperationPathZeroOrOne({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/index.js")).ActorQueryOperationAddRewrite({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-add",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/index.js")).ActorQueryOperationPathZeroOrMore({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/index.js")).ActorQueryOperationPathOneOrMore({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/index.js")).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-composite",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-nps/lib/index.js")).ActorQueryOperationPathNps({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-nps",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/index.js")).ActorQueryOperationCopyRewrite({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-copy",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/index.js")).ActorQueryOperationMoveRewrite({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-move",bus:D});const Ze=new(G("../node_modules/@comunica/actor-init-query/lib/index-browser.js")).ActorInitQuery({mediatorOptimizeQueryOperation:ue,mediatorQueryOperation:ae,mediatorQueryParse:de,mediatorQueryResultSerialize:be,mediatorQueryResultSerializeMediaTypeCombiner:he,mediatorQueryResultSerializeMediaTypeFormatCombiner:Le,mediatorContextPreprocess:se,mediatorHttpInvalidate:Xe,logger:W,defaultQueryInputFormat:"sparql",allowNoSources:!1,contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",localizeBlankNodes:"@comunica/actor-query-operation:localizeBlankNodes",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:init/actors#query",bus:F});new(G("../node_modules/@comunica/actor-rdf-join-inner-none/lib/index.js")).ActorRdfJoinNone({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-single/lib/index.js")).ActorRdfJoinSingle({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/index.js")).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js")).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:We,mediatorQueryOperation:ae,mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js")).ActorRdfJoinHash({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/index.js")).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/index.js")).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-optional-bind/lib/index.js")).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorQueryOperation:ae,mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/index.js")).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js")).ActorRdfJoinMinusHash({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/index.js")).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:ce}),new(G("../node_modules/@comunica/actor-query-operation-update-clear/lib/index.js")).ActorQueryOperationClear({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-clear",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-create/lib/index.js")).ActorQueryOperationCreate({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-create",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/index.js")).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-drop/lib/index.js")).ActorQueryOperationDrop({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-drop",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-load/lib/index.js")).ActorQueryOperationLoad({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-load",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-join/lib/index.js")).ActorQueryOperationJoin({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#join",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-leftjoin/lib/index.js")).ActorQueryOperationLeftJoin({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-minus/lib/index.js")).ActorQueryOperationMinus({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#minus",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-seq/lib/index.js")).ActorQueryOperationPathSeq({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-seq",bus:D}),new(G("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/index.js")).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:We,mediatorJoin:ye,mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:ce}),new(G("../node_modules/@comunica/actor-query-operation-quadpattern/lib/index.js")).ActorQueryOperationQuadpattern({mediatorResolveQuadPattern:re,unionDefaultGraph:!1,name:"urn:comunica:default:query-operation/actors#quadpattern",bus:D}),new(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/index.js")).ActorRdfResolveQuadPatternFederated({mediatorResolveQuadPattern:re,skipEmptyPatterns:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#federated",bus:le}),X.exports=Ze},"./src/index.js":(X,Z,G)=>{G("./src/crypto-polyfill.js");const{QueryEngineBase:W}=G("../node_modules/@comunica/actor-init-query/lib/index-browser.js"),F=new W(G("./src/engine.js")),U=Object.create(null);class J{constructor(D){this.store=D,this.engine=F}getContext(D){return{...D,source:this.store,destination:this.store}}query(D,Q=U){return F.query(D,this.getContext(Q))}queryVoid(D,Q=U){return F.queryVoid(D,this.getContext(Q))}queryBindings(D,Q=U){return F.queryBindings(D,this.getContext(Q))}queryQuads(D,Q=U){return F.queryQuads(D,this.getContext(Q))}queryBoolean(D,Q=U){return F.queryBoolean(D,this.getContext(Q))}}X.exports.D=J,X.exports.H=F},"../node_modules/@comunica/actor-query-operation-reduced-hash/node_modules/lru-cache/index.js":X=>{const Z=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,W=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new J}abort(ae=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||ae,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},F=typeof AbortSignal=="function",U=typeof W.AbortSignal=="function",J=F?AbortSignal:U?W.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(ae){ae.type==="abort"&&(this.aborted=!0,this.onabort(ae),this._listeners.forEach(de=>de(ae),this))}onabort(){}addEventListener(ae,de){ae==="abort"&&this._listeners.push(de)}removeEventListener(ae,de){ae==="abort"&&(this._listeners=this._listeners.filter(be=>be!==de))}},Y=new Set,D=(ue,ae)=>{const de=`LRU_CACHE_OPTION_${ue}`;te(de)&&ie(de,`${ue} option`,`options.${ae}`,pe)},Q=(ue,ae)=>{const de=`LRU_CACHE_METHOD_${ue}`;if(te(de)){const{prototype:be}=pe,{get:he}=Object.getOwnPropertyDescriptor(be,ue);ie(de,`${ue} method`,`cache.${ae}()`,he)}},ee=(ue,ae)=>{const de=`LRU_CACHE_PROPERTY_${ue}`;if(te(de)){const{prototype:be}=pe,{get:he}=Object.getOwnPropertyDescriptor(be,ue);ie(de,`${ue} property`,`cache.${ae}`,he)}},q=(...ue)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...ue):console.error(...ue)},te=ue=>!Y.has(ue),ie=(ue,ae,de,be)=>{Y.add(ue);const he=`The ${ae} is deprecated. Please use ${de} instead.`;q(he,"DeprecationWarning",ue,be)},ne=ue=>ue&&ue===Math.floor(ue)&&ue>0&&isFinite(ue),ce=ue=>ne(ue)?ue<=Math.pow(2,8)?Uint8Array:ue<=Math.pow(2,16)?Uint16Array:ue<=Math.pow(2,32)?Uint32Array:ue<=Number.MAX_SAFE_INTEGER?le:null:null;class le extends Array{constructor(ae){super(ae),this.fill(0)}}class se{constructor(ae){if(ae===0)return[];const de=ce(ae);this.heap=new de(ae),this.length=0}push(ae){this.heap[this.length++]=ae}pop(){return this.heap[--this.length]}}class pe{constructor(ae={}){const{max:de=0,ttl:be,ttlResolution:he=1,ttlAutopurge:Le,updateAgeOnGet:Xe,updateAgeOnHas:We,allowStale:fe,dispose:Re,disposeAfter:ye,noDisposeOnSet:re,noUpdateTTL:Ze,maxSize:Ge=0,maxEntrySize:ve=0,sizeCalculation:Te,fetchMethod:xe,fetchContext:Ye,noDeleteOnFetchRejection:ge,noDeleteOnStaleGet:Me,allowStaleOnFetchRejection:je,allowStaleOnFetchAbort:tt,ignoreFetchAbort:it}=ae,{length:st,maxAge:qe,stale:ot}=ae instanceof pe?{}:ae;if(de!==0&&!ne(de))throw new TypeError("max option must be a nonnegative integer");const ut=de?ce(de):Array;if(!ut)throw new Error("invalid max value: "+de);if(this.max=de,this.maxSize=Ge,this.maxEntrySize=ve||this.maxSize,this.sizeCalculation=Te||st,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=xe||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=Ye,!this.fetchMethod&&Ye!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(de).fill(null),this.valList=new Array(de).fill(null),this.next=new ut(de),this.prev=new ut(de),this.head=0,this.tail=0,this.free=new se(de),this.initialFill=1,this.size=0,typeof Re=="function"&&(this.dispose=Re),typeof ye=="function"?(this.disposeAfter=ye,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!re,this.noUpdateTTL=!!Ze,this.noDeleteOnFetchRejection=!!ge,this.allowStaleOnFetchRejection=!!je,this.allowStaleOnFetchAbort=!!tt,this.ignoreFetchAbort=!!it,this.maxEntrySize!==0){if(this.maxSize!==0&&!ne(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!ne(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!fe||!!ot,this.noDeleteOnStaleGet=!!Me,this.updateAgeOnGet=!!Xe,this.updateAgeOnHas=!!We,this.ttlResolution=ne(he)||he===0?he:1,this.ttlAutopurge=!!Le,this.ttl=be||qe||0,this.ttl){if(!ne(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const dt="LRU_CACHE_UNBOUNDED";te(dt)&&(Y.add(dt),q("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",dt,pe))}ot&&D("stale","allowStale"),qe&&D("maxAge","ttl"),st&&D("length","sizeCalculation")}getRemainingTTL(ae){return this.has(ae,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new le(this.max),this.starts=new le(this.max),this.setItemTTL=(be,he,Le=Z.now())=>{if(this.starts[be]=he!==0?Le:0,this.ttls[be]=he,he!==0&&this.ttlAutopurge){const Xe=setTimeout(()=>{this.isStale(be)&&this.delete(this.keyList[be])},he+1);Xe.unref&&Xe.unref()}},this.updateItemAge=be=>{this.starts[be]=this.ttls[be]!==0?Z.now():0},this.statusTTL=(be,he)=>{be&&(be.ttl=this.ttls[he],be.start=this.starts[he],be.now=ae||de(),be.remainingTTL=be.now+be.ttl-be.start)};let ae=0;const de=()=>{const be=Z.now();if(this.ttlResolution>0){ae=be;const he=setTimeout(()=>ae=0,this.ttlResolution);he.unref&&he.unref()}return be};this.getRemainingTTL=be=>{const he=this.keyMap.get(be);return he===void 0?0:this.ttls[he]===0||this.starts[he]===0?1/0:this.starts[he]+this.ttls[he]-(ae||de())},this.isStale=be=>this.ttls[be]!==0&&this.starts[be]!==0&&(ae||de())-this.starts[be]>this.ttls[be]}updateItemAge(ae){}statusTTL(ae,de){}setItemTTL(ae,de,be){}isStale(ae){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new le(this.max),this.removeItemSize=ae=>{this.calculatedSize-=this.sizes[ae],this.sizes[ae]=0},this.requireSize=(ae,de,be,he)=>{if(this.isBackgroundFetch(de))return 0;if(!ne(be))if(he){if(typeof he!="function")throw new TypeError("sizeCalculation must be a function");if(be=he(de,ae),!ne(be))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return be},this.addItemSize=(ae,de,be)=>{if(this.sizes[ae]=de,this.maxSize){const he=this.maxSize-this.sizes[ae];for(;this.calculatedSize>he;)this.evict(!0)}this.calculatedSize+=this.sizes[ae],be&&(be.entrySize=de,be.totalCalculatedSize=this.calculatedSize)}}removeItemSize(ae){}addItemSize(ae,de){}requireSize(ae,de,be,he){if(be||he)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:ae=this.allowStale}={}){if(this.size)for(let de=this.tail;!(!this.isValidIndex(de)||((ae||!this.isStale(de))&&(yield de),de===this.head));)de=this.prev[de]}*rindexes({allowStale:ae=this.allowStale}={}){if(this.size)for(let de=this.head;!(!this.isValidIndex(de)||((ae||!this.isStale(de))&&(yield de),de===this.tail));)de=this.next[de]}isValidIndex(ae){return ae!==void 0&&this.keyMap.get(this.keyList[ae])===ae}*entries(){for(const ae of this.indexes())this.valList[ae]!==void 0&&this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield[this.keyList[ae],this.valList[ae]])}*rentries(){for(const ae of this.rindexes())this.valList[ae]!==void 0&&this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield[this.keyList[ae],this.valList[ae]])}*keys(){for(const ae of this.indexes())this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.keyList[ae])}*rkeys(){for(const ae of this.rindexes())this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.keyList[ae])}*values(){for(const ae of this.indexes())this.valList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.valList[ae])}*rvalues(){for(const ae of this.rindexes())this.valList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.valList[ae])}[Symbol.iterator](){return this.entries()}find(ae,de){for(const be of this.indexes()){const he=this.valList[be],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;if(Le!==void 0&&ae(Le,this.keyList[be],this))return this.get(this.keyList[be],de)}}forEach(ae,de=this){for(const be of this.indexes()){const he=this.valList[be],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;Le!==void 0&&ae.call(de,Le,this.keyList[be],this)}}rforEach(ae,de=this){for(const be of this.rindexes()){const he=this.valList[be],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;Le!==void 0&&ae.call(de,Le,this.keyList[be],this)}}get prune(){return Q("prune","purgeStale"),this.purgeStale}purgeStale(){let ae=!1;for(const de of this.rindexes({allowStale:!0}))this.isStale(de)&&(this.delete(this.keyList[de]),ae=!0);return ae}dump(){const ae=[];for(const de of this.indexes({allowStale:!0})){const be=this.keyList[de],he=this.valList[de],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;if(Le===void 0)continue;const Xe={value:Le};if(this.ttls){Xe.ttl=this.ttls[de];const We=Z.now()-this.starts[de];Xe.start=Math.floor(Date.now()-We)}this.sizes&&(Xe.size=this.sizes[de]),ae.unshift([be,Xe])}return ae}load(ae){this.clear();for(const[de,be]of ae){if(be.start){const he=Date.now()-be.start;be.start=Z.now()-he}this.set(de,be.value,be)}}dispose(ae,de,be){}set(ae,de,{ttl:be=this.ttl,start:he,noDisposeOnSet:Le=this.noDisposeOnSet,size:Xe=0,sizeCalculation:We=this.sizeCalculation,noUpdateTTL:fe=this.noUpdateTTL,status:Re}={}){if(Xe=this.requireSize(ae,de,Xe,We),this.maxEntrySize&&Xe>this.maxEntrySize)return Re&&(Re.set="miss",Re.maxEntrySizeExceeded=!0),this.delete(ae),this;let ye=this.size===0?void 0:this.keyMap.get(ae);if(ye===void 0)ye=this.newIndex(),this.keyList[ye]=ae,this.valList[ye]=de,this.keyMap.set(ae,ye),this.next[this.tail]=ye,this.prev[ye]=this.tail,this.tail=ye,this.size++,this.addItemSize(ye,Xe,Re),Re&&(Re.set="add"),fe=!1;else{this.moveToTail(ye);const re=this.valList[ye];if(de!==re){if(this.isBackgroundFetch(re)?re.__abortController.abort(new Error("replaced")):Le||(this.dispose(re,ae,"set"),this.disposeAfter&&this.disposed.push([re,ae,"set"])),this.removeItemSize(ye),this.valList[ye]=de,this.addItemSize(ye,Xe,Re),Re){Re.set="replace";const Ze=re&&this.isBackgroundFetch(re)?re.__staleWhileFetching:re;Ze!==void 0&&(Re.oldValue=Ze)}}else Re&&(Re.set="update")}if(be!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),fe||this.setItemTTL(ye,be,he),this.statusTTL(Re,ye),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const ae=this.valList[this.head];return this.evict(!0),ae}}evict(ae){const de=this.head,be=this.keyList[de],he=this.valList[de];return this.isBackgroundFetch(he)?he.__abortController.abort(new Error("evicted")):(this.dispose(he,be,"evict"),this.disposeAfter&&this.disposed.push([he,be,"evict"])),this.removeItemSize(de),ae&&(this.keyList[de]=null,this.valList[de]=null,this.free.push(de)),this.head=this.next[de],this.keyMap.delete(be),this.size--,de}has(ae,{updateAgeOnHas:de=this.updateAgeOnHas,status:be}={}){const he=this.keyMap.get(ae);if(he!==void 0)if(this.isStale(he))be&&(be.has="stale",this.statusTTL(be,he));else return de&&this.updateItemAge(he),be&&(be.has="hit"),this.statusTTL(be,he),!0;else be&&(be.has="miss");return!1}peek(ae,{allowStale:de=this.allowStale}={}){const be=this.keyMap.get(ae);if(be!==void 0&&(de||!this.isStale(be))){const he=this.valList[be];return this.isBackgroundFetch(he)?he.__staleWhileFetching:he}}backgroundFetch(ae,de,be,he){const Le=de===void 0?void 0:this.valList[de];if(this.isBackgroundFetch(Le))return Le;const Xe=new W;be.signal&&be.signal.addEventListener("abort",()=>Xe.abort(be.signal.reason));const We={signal:Xe.signal,options:be,context:he},fe=(Ge,ve=!1)=>{const{aborted:Te}=Xe.signal,xe=be.ignoreFetchAbort&&Ge!==void 0;return be.status&&(Te&&!ve?(be.status.fetchAborted=!0,be.status.fetchError=Xe.signal.reason,xe&&(be.status.fetchAbortIgnored=!0)):be.status.fetchResolved=!0),Te&&!xe&&!ve?ye(Xe.signal.reason):(this.valList[de]===Ze&&(Ge===void 0?Ze.__staleWhileFetching?this.valList[de]=Ze.__staleWhileFetching:this.delete(ae):(be.status&&(be.status.fetchUpdated=!0),this.set(ae,Ge,We.options))),Ge)},Re=Ge=>(be.status&&(be.status.fetchRejected=!0,be.status.fetchError=Ge),ye(Ge)),ye=Ge=>{const{aborted:ve}=Xe.signal,Te=ve&&be.allowStaleOnFetchAbort,xe=Te||be.allowStaleOnFetchRejection,Ye=xe||be.noDeleteOnFetchRejection;if(this.valList[de]===Ze&&(!Ye||Ze.__staleWhileFetching===void 0?this.delete(ae):Te||(this.valList[de]=Ze.__staleWhileFetching)),xe)return be.status&&Ze.__staleWhileFetching!==void 0&&(be.status.returnedStale=!0),Ze.__staleWhileFetching;if(Ze.__returned===Ze)throw Ge},re=(Ge,ve)=>{this.fetchMethod(ae,Le,We).then(Te=>Ge(Te),ve),Xe.signal.addEventListener("abort",()=>{(!be.ignoreFetchAbort||be.allowStaleOnFetchAbort)&&(Ge(),be.allowStaleOnFetchAbort&&(Ge=Te=>fe(Te,!0)))})};be.status&&(be.status.fetchDispatched=!0);const Ze=new Promise(re).then(fe,Re);return Ze.__abortController=Xe,Ze.__staleWhileFetching=Le,Ze.__returned=null,de===void 0?(this.set(ae,Ze,{...We.options,status:void 0}),de=this.keyMap.get(ae)):this.valList[de]=Ze,Ze}isBackgroundFetch(ae){return ae&&typeof ae=="object"&&typeof ae.then=="function"&&Object.prototype.hasOwnProperty.call(ae,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(ae,"__returned")&&(ae.__returned===ae||ae.__returned===null)}async fetch(ae,{allowStale:de=this.allowStale,updateAgeOnGet:be=this.updateAgeOnGet,noDeleteOnStaleGet:he=this.noDeleteOnStaleGet,ttl:Le=this.ttl,noDisposeOnSet:Xe=this.noDisposeOnSet,size:We=0,sizeCalculation:fe=this.sizeCalculation,noUpdateTTL:Re=this.noUpdateTTL,noDeleteOnFetchRejection:ye=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:re=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ze=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ge=this.allowStaleOnFetchAbort,fetchContext:ve=this.fetchContext,forceRefresh:Te=!1,status:xe,signal:Ye}={}){if(!this.fetchMethod)return xe&&(xe.fetch="get"),this.get(ae,{allowStale:de,updateAgeOnGet:be,noDeleteOnStaleGet:he,status:xe});const ge={allowStale:de,updateAgeOnGet:be,noDeleteOnStaleGet:he,ttl:Le,noDisposeOnSet:Xe,size:We,sizeCalculation:fe,noUpdateTTL:Re,noDeleteOnFetchRejection:ye,allowStaleOnFetchRejection:re,allowStaleOnFetchAbort:Ge,ignoreFetchAbort:Ze,status:xe,signal:Ye};let Me=this.keyMap.get(ae);if(Me===void 0){xe&&(xe.fetch="miss");const je=this.backgroundFetch(ae,Me,ge,ve);return je.__returned=je}else{const je=this.valList[Me];if(this.isBackgroundFetch(je)){const ot=de&&je.__staleWhileFetching!==void 0;return xe&&(xe.fetch="inflight",ot&&(xe.returnedStale=!0)),ot?je.__staleWhileFetching:je.__returned=je}const tt=this.isStale(Me);if(!Te&&!tt)return xe&&(xe.fetch="hit"),this.moveToTail(Me),be&&this.updateItemAge(Me),this.statusTTL(xe,Me),je;const it=this.backgroundFetch(ae,Me,ge,ve),st=it.__staleWhileFetching!==void 0,qe=st&&de;return xe&&(xe.fetch=st&&tt?"stale":"refresh",qe&&tt&&(xe.returnedStale=!0)),qe?it.__staleWhileFetching:it.__returned=it}}get(ae,{allowStale:de=this.allowStale,updateAgeOnGet:be=this.updateAgeOnGet,noDeleteOnStaleGet:he=this.noDeleteOnStaleGet,status:Le}={}){const Xe=this.keyMap.get(ae);if(Xe!==void 0){const We=this.valList[Xe],fe=this.isBackgroundFetch(We);return this.statusTTL(Le,Xe),this.isStale(Xe)?(Le&&(Le.get="stale"),fe?(Le&&(Le.returnedStale=de&&We.__staleWhileFetching!==void 0),de?We.__staleWhileFetching:void 0):(he||this.delete(ae),Le&&(Le.returnedStale=de),de?We:void 0)):(Le&&(Le.get="hit"),fe?We.__staleWhileFetching:(this.moveToTail(Xe),be&&this.updateItemAge(Xe),We))}else Le&&(Le.get="miss")}connect(ae,de){this.prev[de]=ae,this.next[ae]=de}moveToTail(ae){ae!==this.tail&&(ae===this.head?this.head=this.next[ae]:this.connect(this.prev[ae],this.next[ae]),this.connect(this.tail,ae),this.tail=ae)}get del(){return Q("del","delete"),this.delete}delete(ae){let de=!1;if(this.size!==0){const be=this.keyMap.get(ae);if(be!==void 0)if(de=!0,this.size===1)this.clear();else{this.removeItemSize(be);const he=this.valList[be];this.isBackgroundFetch(he)?he.__abortController.abort(new Error("deleted")):(this.dispose(he,ae,"delete"),this.disposeAfter&&this.disposed.push([he,ae,"delete"])),this.keyMap.delete(ae),this.keyList[be]=null,this.valList[be]=null,be===this.tail?this.tail=this.prev[be]:be===this.head?this.head=this.next[be]:(this.next[this.prev[be]]=this.next[be],this.prev[this.next[be]]=this.prev[be]),this.size--,this.free.push(be)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return de}clear(){for(const ae of this.rindexes({allowStale:!0})){const de=this.valList[ae];if(this.isBackgroundFetch(de))de.__abortController.abort(new Error("deleted"));else{const be=this.keyList[ae];this.dispose(de,be,"delete"),this.disposeAfter&&this.disposed.push([de,be,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Q("reset","clear"),this.clear}get length(){return ee("length","size"),this.size}static get AbortController(){return W}static get AbortSignal(){return J}}X.exports=pe}},__quadstore_comunica_module_cache__={};function __quadstore_comunica_require__(X){var Z=__quadstore_comunica_module_cache__[X];if(Z!==void 0)return Z.exports;var G=__quadstore_comunica_module_cache__[X]={exports:{}};return __quadstore_comunica_modules__[X].call(G.exports,G,G.exports,__quadstore_comunica_require__),G.exports}__quadstore_comunica_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var __quadstore_comunica_exports__=__quadstore_comunica_require__("./src/index.js"),__quadstore_comunica_exports__Engine=__quadstore_comunica_exports__.D;__quadstore_comunica_exports__.H;const DOWNSTREAM_FROM="http://webscape.wanderer#downstream-from",directDownstreamQuery=X=>`
  PREFIX sources: <${DOWNSTREAM_FROM}>
  SELECT DISTINCT ?downstream WHERE {
    ?downstream sources: <${X}> .
  }`,directUpstreamQuery=X=>`
  PREFIX sources: <${DOWNSTREAM_FROM}>
  SELECT DISTINCT ?upstream WHERE {
    <${X}> sources: ?upstream .
  }`;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf||Function("return this")();const root$2=root$1;var Symbol$1=root$2.Symbol;const Symbol$2=Symbol$1;var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(X){var Z=hasOwnProperty$4.call(X,symToStringTag$1),G=X[symToStringTag$1];try{X[symToStringTag$1]=void 0;var W=!0}catch{}var F=nativeObjectToString$1.call(X);return W&&(Z?X[symToStringTag$1]=G:delete X[symToStringTag$1]),F}var objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString(X){return nativeObjectToString.call(X)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(X){return X==null?X===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(X)?getRawTag(X):objectToString(X)}function isObjectLike(X){return X!=null&&typeof X=="object"}var symbolTag="[object Symbol]";function isSymbol(X){return typeof X=="symbol"||isObjectLike(X)&&baseGetTag(X)==symbolTag}function arrayMap(X,Z){for(var G=-1,W=X==null?0:X.length,F=Array(W);++G<W;)F[G]=Z(X[G],G,X);return F}var isArray=Array.isArray;const isArray$1=isArray;var INFINITY$1=1/0,symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(X){if(typeof X=="string")return X;if(isArray$1(X))return arrayMap(X,baseToString)+"";if(isSymbol(X))return symbolToString?symbolToString.call(X):"";var Z=X+"";return Z=="0"&&1/X==-INFINITY$1?"-0":Z}var reWhitespace=/\s/;function trimmedEndIndex(X){for(var Z=X.length;Z--&&reWhitespace.test(X.charAt(Z)););return Z}var reTrimStart=/^\s+/;function baseTrim(X){return X&&X.slice(0,trimmedEndIndex(X)+1).replace(reTrimStart,"")}function isObject(X){var Z=typeof X;return X!=null&&(Z=="object"||Z=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(X){if(typeof X=="number")return X;if(isSymbol(X))return NAN;if(isObject(X)){var Z=typeof X.valueOf=="function"?X.valueOf():X;X=isObject(Z)?Z+"":Z}if(typeof X!="string")return X===0?X:+X;X=baseTrim(X);var G=reIsBinary.test(X);return G||reIsOctal.test(X)?freeParseInt(X.slice(2),G?2:8):reIsBadHex.test(X)?NAN:+X}var INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(X){if(!X)return X===0?X:0;if(X=toNumber(X),X===INFINITY||X===-INFINITY){var Z=X<0?-1:1;return Z*MAX_INTEGER}return X===X?X:0}function toInteger(X){var Z=toFinite(X),G=Z%1;return Z===Z?G?Z-G:Z:0}function identity$2(X){return X}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(X){if(!isObject(X))return!1;var Z=baseGetTag(X);return Z==funcTag||Z==genTag||Z==asyncTag||Z==proxyTag}var coreJsData=root$2["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var X=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}();function isMasked(X){return!!maskSrcKey&&maskSrcKey in X}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(X){if(X!=null){try{return funcToString$1.call(X)}catch{}try{return X+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(X){if(!isObject(X)||isMasked(X))return!1;var Z=isFunction(X)?reIsNative:reIsHostCtor;return Z.test(toSource(X))}function getValue(X,Z){return X?.[Z]}function getNative(X,Z){var G=getValue(X,Z);return baseIsNative(G)?G:void 0}var WeakMap$1=getNative(root$2,"WeakMap");const WeakMap$2=WeakMap$1;var metaMap=WeakMap$2&&new WeakMap$2;const metaMap$1=metaMap;var baseSetData=metaMap$1?function(X,Z){return metaMap$1.set(X,Z),X}:identity$2;const baseSetData$1=baseSetData;var objectCreate=Object.create,baseCreate=function(){function X(){}return function(Z){if(!isObject(Z))return{};if(objectCreate)return objectCreate(Z);X.prototype=Z;var G=new X;return X.prototype=void 0,G}}();const baseCreate$1=baseCreate;function createCtor(X){return function(){var Z=arguments;switch(Z.length){case 0:return new X;case 1:return new X(Z[0]);case 2:return new X(Z[0],Z[1]);case 3:return new X(Z[0],Z[1],Z[2]);case 4:return new X(Z[0],Z[1],Z[2],Z[3]);case 5:return new X(Z[0],Z[1],Z[2],Z[3],Z[4]);case 6:return new X(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]);case 7:return new X(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6])}var G=baseCreate$1(X.prototype),W=X.apply(G,Z);return isObject(W)?W:G}}var WRAP_BIND_FLAG$6=1;function createBind(X,Z,G){var W=Z&WRAP_BIND_FLAG$6,F=createCtor(X);function U(){var J=this&&this!==root$2&&this instanceof U?F:X;return J.apply(W?G:this,arguments)}return U}function apply(X,Z,G){switch(G.length){case 0:return X.call(Z);case 1:return X.call(Z,G[0]);case 2:return X.call(Z,G[0],G[1]);case 3:return X.call(Z,G[0],G[1],G[2])}return X.apply(Z,G)}var nativeMax$3=Math.max;function composeArgs(X,Z,G,W){for(var F=-1,U=X.length,J=G.length,Y=-1,D=Z.length,Q=nativeMax$3(U-J,0),ee=Array(D+Q),q=!W;++Y<D;)ee[Y]=Z[Y];for(;++F<J;)(q||F<U)&&(ee[G[F]]=X[F]);for(;Q--;)ee[Y++]=X[F++];return ee}var nativeMax$2=Math.max;function composeArgsRight(X,Z,G,W){for(var F=-1,U=X.length,J=-1,Y=G.length,D=-1,Q=Z.length,ee=nativeMax$2(U-Y,0),q=Array(ee+Q),te=!W;++F<ee;)q[F]=X[F];for(var ie=F;++D<Q;)q[ie+D]=Z[D];for(;++J<Y;)(te||F<U)&&(q[ie+G[J]]=X[F++]);return q}function countHolders(X,Z){for(var G=X.length,W=0;G--;)X[G]===Z&&++W;return W}function baseLodash(){}var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(X){this.__wrapped__=X,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}LazyWrapper.prototype=baseCreate$1(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function noop$2(){}var getData=metaMap$1?function(X){return metaMap$1.get(X)}:noop$2;const getData$1=getData;var realNames={};const realNames$1=realNames;var objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function getFuncName(X){for(var Z=X.name+"",G=realNames$1[Z],W=hasOwnProperty$2.call(realNames$1,Z)?G.length:0;W--;){var F=G[W],U=F.func;if(U==null||U==X)return F.name}return Z}function LodashWrapper(X,Z){this.__wrapped__=X,this.__actions__=[],this.__chain__=!!Z,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=baseCreate$1(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function copyArray(X,Z){var G=-1,W=X.length;for(Z||(Z=Array(W));++G<W;)Z[G]=X[G];return Z}function wrapperClone(X){if(X instanceof LazyWrapper)return X.clone();var Z=new LodashWrapper(X.__wrapped__,X.__chain__);return Z.__actions__=copyArray(X.__actions__),Z.__index__=X.__index__,Z.__values__=X.__values__,Z}var objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function lodash(X){if(isObjectLike(X)&&!isArray$1(X)&&!(X instanceof LazyWrapper)){if(X instanceof LodashWrapper)return X;if(hasOwnProperty$1.call(X,"__wrapped__"))return wrapperClone(X)}return new LodashWrapper(X)}lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;function isLaziable(X){var Z=getFuncName(X),G=lodash[Z];if(typeof G!="function"||!(Z in LazyWrapper.prototype))return!1;if(X===G)return!0;var W=getData$1(G);return!!W&&X===W[0]}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(X){var Z=0,G=0;return function(){var W=nativeNow(),F=HOT_SPAN-(W-G);if(G=W,F>0){if(++Z>=HOT_COUNT)return arguments[0]}else Z=0;return X.apply(void 0,arguments)}}var setData=shortOut(baseSetData$1);const setData$1=setData;var reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(X){var Z=X.match(reWrapDetails);return Z?Z[1].split(reSplitDetails):[]}var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(X,Z){var G=Z.length;if(!G)return X;var W=G-1;return Z[W]=(G>1?"& ":"")+Z[W],Z=Z.join(G>2?", ":" "),X.replace(reWrapComment,`{
/* [wrapped with `+Z+`] */
`)}function constant$1(X){return function(){return X}}var defineProperty=function(){try{var X=getNative(Object,"defineProperty");return X({},"",{}),X}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(X,Z){return defineProperty$1(X,"toString",{configurable:!0,enumerable:!1,value:constant$1(Z),writable:!0})}:identity$2;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(X,Z){for(var G=-1,W=X==null?0:X.length;++G<W&&Z(X[G],G,X)!==!1;);return X}function baseFindIndex(X,Z,G,W){for(var F=X.length,U=G+(W?1:-1);W?U--:++U<F;)if(Z(X[U],U,X))return U;return-1}function baseIsNaN(X){return X!==X}function strictIndexOf(X,Z,G){for(var W=G-1,F=X.length;++W<F;)if(X[W]===Z)return W;return-1}function baseIndexOf(X,Z,G){return Z===Z?strictIndexOf(X,Z,G):baseFindIndex(X,baseIsNaN,G)}function arrayIncludes(X,Z){var G=X==null?0:X.length;return!!G&&baseIndexOf(X,Z,0)>-1}var WRAP_BIND_FLAG$5=1,WRAP_BIND_KEY_FLAG$4=2,WRAP_CURRY_FLAG$5=8,WRAP_CURRY_RIGHT_FLAG$2=16,WRAP_PARTIAL_FLAG$2=32,WRAP_PARTIAL_RIGHT_FLAG$2=64,WRAP_ARY_FLAG$2=128,WRAP_REARG_FLAG$1=256,WRAP_FLIP_FLAG$1=512,wrapFlags=[["ary",WRAP_ARY_FLAG$2],["bind",WRAP_BIND_FLAG$5],["bindKey",WRAP_BIND_KEY_FLAG$4],["curry",WRAP_CURRY_FLAG$5],["curryRight",WRAP_CURRY_RIGHT_FLAG$2],["flip",WRAP_FLIP_FLAG$1],["partial",WRAP_PARTIAL_FLAG$2],["partialRight",WRAP_PARTIAL_RIGHT_FLAG$2],["rearg",WRAP_REARG_FLAG$1]];function updateWrapDetails(X,Z){return arrayEach(wrapFlags,function(G){var W="_."+G[0];Z&G[1]&&!arrayIncludes(X,W)&&X.push(W)}),X.sort()}function setWrapToString(X,Z,G){var W=Z+"";return setToString$1(X,insertWrapDetails(W,updateWrapDetails(getWrapDetails(W),G)))}var WRAP_BIND_FLAG$4=1,WRAP_BIND_KEY_FLAG$3=2,WRAP_CURRY_BOUND_FLAG$1=4,WRAP_CURRY_FLAG$4=8,WRAP_PARTIAL_FLAG$1=32,WRAP_PARTIAL_RIGHT_FLAG$1=64;function createRecurry(X,Z,G,W,F,U,J,Y,D,Q){var ee=Z&WRAP_CURRY_FLAG$4,q=ee?J:void 0,te=ee?void 0:J,ie=ee?U:void 0,ne=ee?void 0:U;Z|=ee?WRAP_PARTIAL_FLAG$1:WRAP_PARTIAL_RIGHT_FLAG$1,Z&=~(ee?WRAP_PARTIAL_RIGHT_FLAG$1:WRAP_PARTIAL_FLAG$1),Z&WRAP_CURRY_BOUND_FLAG$1||(Z&=~(WRAP_BIND_FLAG$4|WRAP_BIND_KEY_FLAG$3));var ce=[X,Z,F,ie,q,ne,te,Y,D,Q],le=G.apply(void 0,ce);return isLaziable(X)&&setData$1(le,ce),le.placeholder=W,setWrapToString(le,X,Z)}function getHolder(X){var Z=X;return Z.placeholder}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(X,Z){var G=typeof X;return Z=Z??MAX_SAFE_INTEGER,!!Z&&(G=="number"||G!="symbol"&&reIsUint.test(X))&&X>-1&&X%1==0&&X<Z}var nativeMin$2=Math.min;function reorder(X,Z){for(var G=X.length,W=nativeMin$2(Z.length,G),F=copyArray(X);W--;){var U=Z[W];X[W]=isIndex(U,G)?F[U]:void 0}return X}var PLACEHOLDER$1="__lodash_placeholder__";function replaceHolders(X,Z){for(var G=-1,W=X.length,F=0,U=[];++G<W;){var J=X[G];(J===Z||J===PLACEHOLDER$1)&&(X[G]=PLACEHOLDER$1,U[F++]=G)}return U}var WRAP_BIND_FLAG$3=1,WRAP_BIND_KEY_FLAG$2=2,WRAP_CURRY_FLAG$3=8,WRAP_CURRY_RIGHT_FLAG$1=16,WRAP_ARY_FLAG$1=128,WRAP_FLIP_FLAG=512;function createHybrid(X,Z,G,W,F,U,J,Y,D,Q){var ee=Z&WRAP_ARY_FLAG$1,q=Z&WRAP_BIND_FLAG$3,te=Z&WRAP_BIND_KEY_FLAG$2,ie=Z&(WRAP_CURRY_FLAG$3|WRAP_CURRY_RIGHT_FLAG$1),ne=Z&WRAP_FLIP_FLAG,ce=te?void 0:createCtor(X);function le(){for(var se=arguments.length,pe=Array(se),ue=se;ue--;)pe[ue]=arguments[ue];if(ie)var ae=getHolder(le),de=countHolders(pe,ae);if(W&&(pe=composeArgs(pe,W,F,ie)),U&&(pe=composeArgsRight(pe,U,J,ie)),se-=de,ie&&se<Q){var be=replaceHolders(pe,ae);return createRecurry(X,Z,createHybrid,le.placeholder,G,pe,be,Y,D,Q-se)}var he=q?G:this,Le=te?he[X]:X;return se=pe.length,Y?pe=reorder(pe,Y):ne&&se>1&&pe.reverse(),ee&&D<se&&(pe.length=D),this&&this!==root$2&&this instanceof le&&(Le=ce||createCtor(Le)),Le.apply(he,pe)}return le}function createCurry(X,Z,G){var W=createCtor(X);function F(){for(var U=arguments.length,J=Array(U),Y=U,D=getHolder(F);Y--;)J[Y]=arguments[Y];var Q=U<3&&J[0]!==D&&J[U-1]!==D?[]:replaceHolders(J,D);if(U-=Q.length,U<G)return createRecurry(X,Z,createHybrid,F.placeholder,void 0,J,Q,void 0,void 0,G-U);var ee=this&&this!==root$2&&this instanceof F?W:X;return apply(ee,this,J)}return F}var WRAP_BIND_FLAG$2=1;function createPartial(X,Z,G,W){var F=Z&WRAP_BIND_FLAG$2,U=createCtor(X);function J(){for(var Y=-1,D=arguments.length,Q=-1,ee=W.length,q=Array(ee+D),te=this&&this!==root$2&&this instanceof J?U:X;++Q<ee;)q[Q]=W[Q];for(;D--;)q[Q++]=arguments[++Y];return apply(te,F?G:this,q)}return J}var PLACEHOLDER="__lodash_placeholder__",WRAP_BIND_FLAG$1=1,WRAP_BIND_KEY_FLAG$1=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG$2=8,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,nativeMin$1=Math.min;function mergeData(X,Z){var G=X[1],W=Z[1],F=G|W,U=F<(WRAP_BIND_FLAG$1|WRAP_BIND_KEY_FLAG$1|WRAP_ARY_FLAG),J=W==WRAP_ARY_FLAG&&G==WRAP_CURRY_FLAG$2||W==WRAP_ARY_FLAG&&G==WRAP_REARG_FLAG&&X[7].length<=Z[8]||W==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&Z[7].length<=Z[8]&&G==WRAP_CURRY_FLAG$2;if(!(U||J))return X;W&WRAP_BIND_FLAG$1&&(X[2]=Z[2],F|=G&WRAP_BIND_FLAG$1?0:WRAP_CURRY_BOUND_FLAG);var Y=Z[3];if(Y){var D=X[3];X[3]=D?composeArgs(D,Y,Z[4]):Y,X[4]=D?replaceHolders(X[3],PLACEHOLDER):Z[4]}return Y=Z[5],Y&&(D=X[5],X[5]=D?composeArgsRight(D,Y,Z[6]):Y,X[6]=D?replaceHolders(X[5],PLACEHOLDER):Z[6]),Y=Z[7],Y&&(X[7]=Y),W&WRAP_ARY_FLAG&&(X[8]=X[8]==null?Z[8]:nativeMin$1(X[8],Z[8])),X[9]==null&&(X[9]=Z[9]),X[0]=Z[0],X[1]=F,X}var FUNC_ERROR_TEXT$2="Expected a function",WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG$1=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,nativeMax$1=Math.max;function createWrap(X,Z,G,W,F,U,J,Y){var D=Z&WRAP_BIND_KEY_FLAG;if(!D&&typeof X!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var Q=W?W.length:0;if(Q||(Z&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),W=F=void 0),J=J===void 0?J:nativeMax$1(toInteger(J),0),Y=Y===void 0?Y:toInteger(Y),Q-=F?F.length:0,Z&WRAP_PARTIAL_RIGHT_FLAG){var ee=W,q=F;W=F=void 0}var te=D?void 0:getData$1(X),ie=[X,Z,G,W,F,ee,q,U,J,Y];if(te&&mergeData(ie,te),X=ie[0],Z=ie[1],G=ie[2],W=ie[3],F=ie[4],Y=ie[9]=ie[9]===void 0?D?0:X.length:nativeMax$1(ie[9]-Q,0),!Y&&Z&(WRAP_CURRY_FLAG$1|WRAP_CURRY_RIGHT_FLAG)&&(Z&=~(WRAP_CURRY_FLAG$1|WRAP_CURRY_RIGHT_FLAG)),!Z||Z==WRAP_BIND_FLAG)var ne=createBind(X,Z,G);else Z==WRAP_CURRY_FLAG$1||Z==WRAP_CURRY_RIGHT_FLAG?ne=createCurry(X,Z,Y):(Z==WRAP_PARTIAL_FLAG||Z==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!F.length?ne=createPartial(X,Z,G,W):ne=createHybrid.apply(void 0,ie);var ce=te?baseSetData$1:setData$1;return setWrapToString(ce(ne,ie),X,Z)}function toString(X){return X==null?"":baseToString(X)}function baseSlice(X,Z,G){var W=-1,F=X.length;Z<0&&(Z=-Z>F?0:F+Z),G=G>F?F:G,G<0&&(G+=F),F=Z>G?0:G-Z>>>0,Z>>>=0;for(var U=Array(F);++W<F;)U[W]=X[W+Z];return U}function castSlice(X,Z,G){var W=X.length;return G=G===void 0?W:G,!Z&&G>=W?X:baseSlice(X,Z,G)}var rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsVarRange$2="\\ufe0e\\ufe0f",rsZWJ$2="\\u200d",reHasUnicode=RegExp("["+rsZWJ$2+rsAstralRange$2+rsComboRange$3+rsVarRange$2+"]");function hasUnicode(X){return reHasUnicode.test(X)}function asciiToArray(X){return X.split("")}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo$2="["+rsComboRange$2+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol="(?:"+[rsNonAstral$1+rsCombo$2+"?",rsCombo$2,rsRegional$1,rsSurrPair$1,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol+rsSeq$1,"g");function unicodeToArray(X){return X.match(reUnicode)||[]}function stringToArray(X){return hasUnicode(X)?unicodeToArray(X):asciiToArray(X)}function createCaseFirst(X){return function(Z){Z=toString(Z);var G=hasUnicode(Z)?stringToArray(Z):void 0,W=G?G[0]:Z.charAt(0),F=G?castSlice(G,1).join(""):Z.slice(1);return W[X]()+F}}var upperFirst=createCaseFirst("toUpperCase");const upperFirst$1=upperFirst;function capitalize(X){return upperFirst$1(toString(X).toLowerCase())}function arrayReduce(X,Z,G,W){var F=-1,U=X==null?0:X.length;for(W&&U&&(G=X[++F]);++F<U;)G=Z(G,X[F],F,X);return G}function basePropertyOf(X){return function(Z){return X?.[Z]}}var deburredLetters={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},deburrLetter=basePropertyOf(deburredLetters);const deburrLetter$1=deburrLetter;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsCombo$1="["+rsComboRange$1+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(X){return X=toString(X),X&&X.replace(reLatin,deburrLetter$1).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(X){return X.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(X){return reHasUnicodeWord.test(X)}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="[']",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(X){return X.match(reUnicodeWord)||[]}function words(X,Z,G){return X=toString(X),Z=G?void 0:Z,Z===void 0?hasUnicodeWord(X)?unicodeWords(X):asciiWords(X):X.match(Z)||[]}var rsApos="[']",reApos=RegExp(rsApos,"g");function createCompounder(X){return function(Z){return arrayReduce(words(deburr(Z).replace(reApos,"")),X,"")}}var camelCase=createCompounder(function(X,Z,G){return Z=Z.toLowerCase(),X+(G?capitalize(Z):Z)});const camelCase$1=camelCase;var WRAP_CURRY_FLAG=8;function curry(X,Z,G){Z=G?void 0:Z;var W=createWrap(X,WRAP_CURRY_FLAG,void 0,void 0,void 0,void 0,void 0,Z);return W.placeholder=curry.placeholder,W}curry.placeholder={};var now$2=function(){return root$2.Date.now()};const now$3=now$2;var FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(X,Z,G){var W,F,U,J,Y,D,Q=0,ee=!1,q=!1,te=!0;if(typeof X!="function")throw new TypeError(FUNC_ERROR_TEXT$1);Z=toNumber(Z)||0,isObject(G)&&(ee=!!G.leading,q="maxWait"in G,U=q?nativeMax(toNumber(G.maxWait)||0,Z):U,te="trailing"in G?!!G.trailing:te);function ie(be){var he=W,Le=F;return W=F=void 0,Q=be,J=X.apply(Le,he),J}function ne(be){return Q=be,Y=setTimeout(se,Z),ee?ie(be):J}function ce(be){var he=be-D,Le=be-Q,Xe=Z-he;return q?nativeMin(Xe,U-Le):Xe}function le(be){var he=be-D,Le=be-Q;return D===void 0||he>=Z||he<0||q&&Le>=U}function se(){var be=now$3();if(le(be))return pe(be);Y=setTimeout(se,ce(be))}function pe(be){return Y=void 0,te&&W?ie(be):(W=F=void 0,J)}function ue(){Y!==void 0&&clearTimeout(Y),Q=0,W=D=F=Y=void 0}function ae(){return Y===void 0?J:pe(now$3())}function de(){var be=now$3(),he=le(be);if(W=arguments,F=this,D=be,he){if(Y===void 0)return ne(D);if(q)return clearTimeout(Y),Y=setTimeout(se,Z),ie(D)}return Y===void 0&&(Y=setTimeout(se,Z)),J}return de.cancel=ue,de.flush=ae,de}function fromPairs(X){for(var Z=-1,G=X==null?0:X.length,W={};++Z<G;){var F=X[Z];W[F[0]]=F[1]}return W}var kebabCase=createCompounder(function(X,Z,G){return X+(G?"-":"")+Z.toLowerCase()});const kebabCase$1=kebabCase;var FUNC_ERROR_TEXT="Expected a function";function throttle(X,Z,G){var W=!0,F=!0;if(typeof X!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(G)&&(W="leading"in G?!!G.leading:W,F="trailing"in G?!!G.trailing:F),debounce(X,Z,{leading:W,maxWait:Z,trailing:F})}const backend=new MemoryLevel_1,df=new rdfDataFactory.DataFactory,store=new Quadstore({backend,dataFactory:df}),engine$1=new __quadstore_comunica_exports__Engine(store);async function buildGraph(X){console.log("BUILDING GRAPH",X);const{nodes:Z,links:G}=X,F=[...G.map(({source:U,target:J})=>df.quad(df.namedNode(J.id),df.namedNode(DOWNSTREAM_FROM),df.namedNode(U.id),df.defaultGraph()))];console.log("putting entries",F),await store.open(),await store.clear(),await store.multiPut(F),console.log("inserted",F.length,"entries")}const getProps=X=>(async Z=>fromPairs([Z].flat().map(G=>[G,X.get(G)]))).bind(X),doQuery=async(X,Z,G,W)=>{await engine$1.queryBindings(X).then(F=>{Z&&F.on("data",U=>Z(U,proxy(getProps(U)))),G&&F.on("end",U=>G(U,U&&proxy(U.get.bind(U)))),W&&F.on("error",U=>W(U,U&&proxy(U.get.bind(U))))})},db=Object.freeze(Object.defineProperty({__proto__:null,buildGraph,doQuery},Symbol.toStringTag,{value:"Module"}));var rafExports={},raf$1={get exports(){return rafExports},set exports(X){rafExports=X}},performanceNowExports={},performanceNow={get exports(){return performanceNowExports},set exports(X){performanceNowExports=X}};(function(){var X,Z,G,W,F,U;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(X()-F)/1e6},Z=process.hrtime,X=function(){var J;return J=Z(),J[0]*1e9+J[1]},W=X(),U=process.uptime()*1e9,F=W-U):Date.now?(performanceNow.exports=function(){return Date.now()-G},G=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-G},G=new Date().getTime())}).call(commonjsGlobal);var now$1=performanceNowExports,root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i$3=0;!raf&&i$3<vendors.length;i$3++)raf=root[vendors[i$3]+"Request"+suffix],caf=root[vendors[i$3]+"Cancel"+suffix]||root[vendors[i$3]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(X){if(queue.length===0){var Z=now$1(),G=Math.max(0,frameDuration-(Z-last));last=G+Z,setTimeout(function(){var W=queue.slice(0);queue.length=0;for(var F=0;F<W.length;F++)if(!W[F].cancelled)try{W[F].callback(last)}catch(U){setTimeout(function(){throw U},0)}},Math.round(G))}return queue.push({handle:++id,callback:X,cancelled:!1}),id},caf=function(X){for(var Z=0;Z<queue.length;Z++)queue[Z].handle===X&&(queue[Z].cancelled=!0)}}raf$1.exports=function(X){return raf.call(root,X)};rafExports.cancel=function(){caf.apply(root,arguments)};rafExports.polyfill=function(X){X||(X=root),X.requestAnimationFrame=raf,X.cancelAnimationFrame=caf};function forceCenter(X,Z,G){var W,F=1;X==null&&(X=0),Z==null&&(Z=0),G==null&&(G=0);function U(){var J,Y=W.length,D,Q=0,ee=0,q=0;for(J=0;J<Y;++J)D=W[J],Q+=D.x||0,ee+=D.y||0,q+=D.z||0;for(Q=(Q/Y-X)*F,ee=(ee/Y-Z)*F,q=(q/Y-G)*F,J=0;J<Y;++J)D=W[J],Q&&(D.x-=Q),ee&&(D.y-=ee),q&&(D.z-=q)}return U.initialize=function(J){W=J},U.x=function(J){return arguments.length?(X=+J,U):X},U.y=function(J){return arguments.length?(Z=+J,U):Z},U.z=function(J){return arguments.length?(G=+J,U):G},U.strength=function(J){return arguments.length?(F=+J,U):F},U}function tree_add$2(X){const Z=+this._x.call(null,X);return add$3(this.cover(Z),Z,X)}function add$3(X,Z,G){if(isNaN(Z))return X;var W,F=X._root,U={data:G},J=X._x0,Y=X._x1,D,Q,ee,q,te;if(!F)return X._root=U,X;for(;F.length;)if((ee=Z>=(D=(J+Y)/2))?J=D:Y=D,W=F,!(F=F[q=+ee]))return W[q]=U,X;if(Q=+X._x.call(null,F.data),Z===Q)return U.next=F,W?W[q]=U:X._root=U,X;do W=W?W[q]=new Array(2):X._root=new Array(2),(ee=Z>=(D=(J+Y)/2))?J=D:Y=D;while((q=+ee)==(te=+(Q>=D)));return W[te]=F,W[q]=U,X}function addAll$2(X){Array.isArray(X)||(X=Array.from(X));const Z=X.length,G=new Float64Array(Z);let W=1/0,F=-1/0;for(let U=0,J;U<Z;++U)isNaN(J=+this._x.call(null,X[U]))||(G[U]=J,J<W&&(W=J),J>F&&(F=J));if(W>F)return this;this.cover(W).cover(F);for(let U=0;U<Z;++U)add$3(this,G[U],X[U]);return this}function tree_cover$2(X){if(isNaN(X=+X))return this;var Z=this._x0,G=this._x1;if(isNaN(Z))G=(Z=Math.floor(X))+1;else{for(var W=G-Z||1,F=this._root,U,J;Z>X||X>=G;)switch(J=+(X<Z),U=new Array(2),U[J]=F,F=U,W*=2,J){case 0:G=Z+W;break;case 1:Z=G-W;break}this._root&&this._root.length&&(this._root=F)}return this._x0=Z,this._x1=G,this}function tree_data$2(){var X=[];return this.visit(function(Z){if(!Z.length)do X.push(Z.data);while(Z=Z.next)}),X}function tree_extent$2(X){return arguments.length?this.cover(+X[0][0]).cover(+X[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Half(X,Z,G){this.node=X,this.x0=Z,this.x1=G}function tree_find$2(X,Z){var G,W=this._x0,F,U,J=this._x1,Y=[],D=this._root,Q,ee;for(D&&Y.push(new Half(D,W,J)),Z==null?Z=1/0:(W=X-Z,J=X+Z);Q=Y.pop();)if(!(!(D=Q.node)||(F=Q.x0)>J||(U=Q.x1)<W))if(D.length){var q=(F+U)/2;Y.push(new Half(D[1],q,U),new Half(D[0],F,q)),(ee=+(X>=q))&&(Q=Y[Y.length-1],Y[Y.length-1]=Y[Y.length-1-ee],Y[Y.length-1-ee]=Q)}else{var te=Math.abs(X-+this._x.call(null,D.data));te<Z&&(Z=te,W=X-te,J=X+te,G=D.data)}return G}function tree_remove$2(X){if(isNaN(D=+this._x.call(null,X)))return this;var Z,G=this._root,W,F,U,J=this._x0,Y=this._x1,D,Q,ee,q,te;if(!G)return this;if(G.length)for(;;){if((ee=D>=(Q=(J+Y)/2))?J=Q:Y=Q,Z=G,!(G=G[q=+ee]))return this;if(!G.length)break;Z[q+1&1]&&(W=Z,te=q)}for(;G.data!==X;)if(F=G,!(G=G.next))return this;return(U=G.next)&&delete G.next,F?(U?F.next=U:delete F.next,this):Z?(U?Z[q]=U:delete Z[q],(G=Z[0]||Z[1])&&G===(Z[1]||Z[0])&&!G.length&&(W?W[te]=G:this._root=G),this):(this._root=U,this)}function removeAll$2(X){for(var Z=0,G=X.length;Z<G;++Z)this.remove(X[Z]);return this}function tree_root$2(){return this._root}function tree_size$2(){var X=0;return this.visit(function(Z){if(!Z.length)do++X;while(Z=Z.next)}),X}function tree_visit$2(X){var Z=[],G,W=this._root,F,U,J;for(W&&Z.push(new Half(W,this._x0,this._x1));G=Z.pop();)if(!X(W=G.node,U=G.x0,J=G.x1)&&W.length){var Y=(U+J)/2;(F=W[1])&&Z.push(new Half(F,Y,J)),(F=W[0])&&Z.push(new Half(F,U,Y))}return this}function tree_visitAfter$2(X){var Z=[],G=[],W;for(this._root&&Z.push(new Half(this._root,this._x0,this._x1));W=Z.pop();){var F=W.node;if(F.length){var U,J=W.x0,Y=W.x1,D=(J+Y)/2;(U=F[0])&&Z.push(new Half(U,J,D)),(U=F[1])&&Z.push(new Half(U,D,Y))}G.push(W)}for(;W=G.pop();)X(W.node,W.x0,W.x1);return this}function defaultX$2(X){return X[0]}function tree_x$2(X){return arguments.length?(this._x=X,this):this._x}function binarytree(X,Z){var G=new Binarytree(Z??defaultX$2,NaN,NaN);return X==null?G:G.addAll(X)}function Binarytree(X,Z,G){this._x=X,this._x0=Z,this._x1=G,this._root=void 0}function leaf_copy$2(X){for(var Z={data:X.data},G=Z;X=X.next;)G=G.next={data:X.data};return Z}var treeProto$2=binarytree.prototype=Binarytree.prototype;treeProto$2.copy=function(){var X=new Binarytree(this._x,this._x0,this._x1),Z=this._root,G,W;if(!Z)return X;if(!Z.length)return X._root=leaf_copy$2(Z),X;for(G=[{source:Z,target:X._root=new Array(2)}];Z=G.pop();)for(var F=0;F<2;++F)(W=Z.source[F])&&(W.length?G.push({source:W,target:Z.target[F]=new Array(2)}):Z.target[F]=leaf_copy$2(W));return X};treeProto$2.add=tree_add$2;treeProto$2.addAll=addAll$2;treeProto$2.cover=tree_cover$2;treeProto$2.data=tree_data$2;treeProto$2.extent=tree_extent$2;treeProto$2.find=tree_find$2;treeProto$2.remove=tree_remove$2;treeProto$2.removeAll=removeAll$2;treeProto$2.root=tree_root$2;treeProto$2.size=tree_size$2;treeProto$2.visit=tree_visit$2;treeProto$2.visitAfter=tree_visitAfter$2;treeProto$2.x=tree_x$2;function tree_add$1(X){const Z=+this._x.call(null,X),G=+this._y.call(null,X);return add$2(this.cover(Z,G),Z,G,X)}function add$2(X,Z,G,W){if(isNaN(Z)||isNaN(G))return X;var F,U=X._root,J={data:W},Y=X._x0,D=X._y0,Q=X._x1,ee=X._y1,q,te,ie,ne,ce,le,se,pe;if(!U)return X._root=J,X;for(;U.length;)if((ce=Z>=(q=(Y+Q)/2))?Y=q:Q=q,(le=G>=(te=(D+ee)/2))?D=te:ee=te,F=U,!(U=U[se=le<<1|ce]))return F[se]=J,X;if(ie=+X._x.call(null,U.data),ne=+X._y.call(null,U.data),Z===ie&&G===ne)return J.next=U,F?F[se]=J:X._root=J,X;do F=F?F[se]=new Array(4):X._root=new Array(4),(ce=Z>=(q=(Y+Q)/2))?Y=q:Q=q,(le=G>=(te=(D+ee)/2))?D=te:ee=te;while((se=le<<1|ce)===(pe=(ne>=te)<<1|ie>=q));return F[pe]=U,F[se]=J,X}function addAll$1(X){var Z,G,W=X.length,F,U,J=new Array(W),Y=new Array(W),D=1/0,Q=1/0,ee=-1/0,q=-1/0;for(G=0;G<W;++G)isNaN(F=+this._x.call(null,Z=X[G]))||isNaN(U=+this._y.call(null,Z))||(J[G]=F,Y[G]=U,F<D&&(D=F),F>ee&&(ee=F),U<Q&&(Q=U),U>q&&(q=U));if(D>ee||Q>q)return this;for(this.cover(D,Q).cover(ee,q),G=0;G<W;++G)add$2(this,J[G],Y[G],X[G]);return this}function tree_cover$1(X,Z){if(isNaN(X=+X)||isNaN(Z=+Z))return this;var G=this._x0,W=this._y0,F=this._x1,U=this._y1;if(isNaN(G))F=(G=Math.floor(X))+1,U=(W=Math.floor(Z))+1;else{for(var J=F-G||1,Y=this._root,D,Q;G>X||X>=F||W>Z||Z>=U;)switch(Q=(Z<W)<<1|X<G,D=new Array(4),D[Q]=Y,Y=D,J*=2,Q){case 0:F=G+J,U=W+J;break;case 1:G=F-J,U=W+J;break;case 2:F=G+J,W=U-J;break;case 3:G=F-J,W=U-J;break}this._root&&this._root.length&&(this._root=Y)}return this._x0=G,this._y0=W,this._x1=F,this._y1=U,this}function tree_data$1(){var X=[];return this.visit(function(Z){if(!Z.length)do X.push(Z.data);while(Z=Z.next)}),X}function tree_extent$1(X){return arguments.length?this.cover(+X[0][0],+X[0][1]).cover(+X[1][0],+X[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(X,Z,G,W,F){this.node=X,this.x0=Z,this.y0=G,this.x1=W,this.y1=F}function tree_find$1(X,Z,G){var W,F=this._x0,U=this._y0,J,Y,D,Q,ee=this._x1,q=this._y1,te=[],ie=this._root,ne,ce;for(ie&&te.push(new Quad(ie,F,U,ee,q)),G==null?G=1/0:(F=X-G,U=Z-G,ee=X+G,q=Z+G,G*=G);ne=te.pop();)if(!(!(ie=ne.node)||(J=ne.x0)>ee||(Y=ne.y0)>q||(D=ne.x1)<F||(Q=ne.y1)<U))if(ie.length){var le=(J+D)/2,se=(Y+Q)/2;te.push(new Quad(ie[3],le,se,D,Q),new Quad(ie[2],J,se,le,Q),new Quad(ie[1],le,Y,D,se),new Quad(ie[0],J,Y,le,se)),(ce=(Z>=se)<<1|X>=le)&&(ne=te[te.length-1],te[te.length-1]=te[te.length-1-ce],te[te.length-1-ce]=ne)}else{var pe=X-+this._x.call(null,ie.data),ue=Z-+this._y.call(null,ie.data),ae=pe*pe+ue*ue;if(ae<G){var de=Math.sqrt(G=ae);F=X-de,U=Z-de,ee=X+de,q=Z+de,W=ie.data}}return W}function tree_remove$1(X){if(isNaN(ee=+this._x.call(null,X))||isNaN(q=+this._y.call(null,X)))return this;var Z,G=this._root,W,F,U,J=this._x0,Y=this._y0,D=this._x1,Q=this._y1,ee,q,te,ie,ne,ce,le,se;if(!G)return this;if(G.length)for(;;){if((ne=ee>=(te=(J+D)/2))?J=te:D=te,(ce=q>=(ie=(Y+Q)/2))?Y=ie:Q=ie,Z=G,!(G=G[le=ce<<1|ne]))return this;if(!G.length)break;(Z[le+1&3]||Z[le+2&3]||Z[le+3&3])&&(W=Z,se=le)}for(;G.data!==X;)if(F=G,!(G=G.next))return this;return(U=G.next)&&delete G.next,F?(U?F.next=U:delete F.next,this):Z?(U?Z[le]=U:delete Z[le],(G=Z[0]||Z[1]||Z[2]||Z[3])&&G===(Z[3]||Z[2]||Z[1]||Z[0])&&!G.length&&(W?W[se]=G:this._root=G),this):(this._root=U,this)}function removeAll$1(X){for(var Z=0,G=X.length;Z<G;++Z)this.remove(X[Z]);return this}function tree_root$1(){return this._root}function tree_size$1(){var X=0;return this.visit(function(Z){if(!Z.length)do++X;while(Z=Z.next)}),X}function tree_visit$1(X){var Z=[],G,W=this._root,F,U,J,Y,D;for(W&&Z.push(new Quad(W,this._x0,this._y0,this._x1,this._y1));G=Z.pop();)if(!X(W=G.node,U=G.x0,J=G.y0,Y=G.x1,D=G.y1)&&W.length){var Q=(U+Y)/2,ee=(J+D)/2;(F=W[3])&&Z.push(new Quad(F,Q,ee,Y,D)),(F=W[2])&&Z.push(new Quad(F,U,ee,Q,D)),(F=W[1])&&Z.push(new Quad(F,Q,J,Y,ee)),(F=W[0])&&Z.push(new Quad(F,U,J,Q,ee))}return this}function tree_visitAfter$1(X){var Z=[],G=[],W;for(this._root&&Z.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));W=Z.pop();){var F=W.node;if(F.length){var U,J=W.x0,Y=W.y0,D=W.x1,Q=W.y1,ee=(J+D)/2,q=(Y+Q)/2;(U=F[0])&&Z.push(new Quad(U,J,Y,ee,q)),(U=F[1])&&Z.push(new Quad(U,ee,Y,D,q)),(U=F[2])&&Z.push(new Quad(U,J,q,ee,Q)),(U=F[3])&&Z.push(new Quad(U,ee,q,D,Q))}G.push(W)}for(;W=G.pop();)X(W.node,W.x0,W.y0,W.x1,W.y1);return this}function defaultX$1(X){return X[0]}function tree_x$1(X){return arguments.length?(this._x=X,this):this._x}function defaultY$1(X){return X[1]}function tree_y$1(X){return arguments.length?(this._y=X,this):this._y}function quadtree(X,Z,G){var W=new Quadtree(Z??defaultX$1,G??defaultY$1,NaN,NaN,NaN,NaN);return X==null?W:W.addAll(X)}function Quadtree(X,Z,G,W,F,U){this._x=X,this._y=Z,this._x0=G,this._y0=W,this._x1=F,this._y1=U,this._root=void 0}function leaf_copy$1(X){for(var Z={data:X.data},G=Z;X=X.next;)G=G.next={data:X.data};return Z}var treeProto$1=quadtree.prototype=Quadtree.prototype;treeProto$1.copy=function(){var X=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Z=this._root,G,W;if(!Z)return X;if(!Z.length)return X._root=leaf_copy$1(Z),X;for(G=[{source:Z,target:X._root=new Array(4)}];Z=G.pop();)for(var F=0;F<4;++F)(W=Z.source[F])&&(W.length?G.push({source:W,target:Z.target[F]=new Array(4)}):Z.target[F]=leaf_copy$1(W));return X};treeProto$1.add=tree_add$1;treeProto$1.addAll=addAll$1;treeProto$1.cover=tree_cover$1;treeProto$1.data=tree_data$1;treeProto$1.extent=tree_extent$1;treeProto$1.find=tree_find$1;treeProto$1.remove=tree_remove$1;treeProto$1.removeAll=removeAll$1;treeProto$1.root=tree_root$1;treeProto$1.size=tree_size$1;treeProto$1.visit=tree_visit$1;treeProto$1.visitAfter=tree_visitAfter$1;treeProto$1.x=tree_x$1;treeProto$1.y=tree_y$1;function tree_add(X){const Z=+this._x.call(null,X),G=+this._y.call(null,X),W=+this._z.call(null,X);return add$1(this.cover(Z,G,W),Z,G,W,X)}function add$1(X,Z,G,W,F){if(isNaN(Z)||isNaN(G)||isNaN(W))return X;var U,J=X._root,Y={data:F},D=X._x0,Q=X._y0,ee=X._z0,q=X._x1,te=X._y1,ie=X._z1,ne,ce,le,se,pe,ue,ae,de,be,he,Le;if(!J)return X._root=Y,X;for(;J.length;)if((ae=Z>=(ne=(D+q)/2))?D=ne:q=ne,(de=G>=(ce=(Q+te)/2))?Q=ce:te=ce,(be=W>=(le=(ee+ie)/2))?ee=le:ie=le,U=J,!(J=J[he=be<<2|de<<1|ae]))return U[he]=Y,X;if(se=+X._x.call(null,J.data),pe=+X._y.call(null,J.data),ue=+X._z.call(null,J.data),Z===se&&G===pe&&W===ue)return Y.next=J,U?U[he]=Y:X._root=Y,X;do U=U?U[he]=new Array(8):X._root=new Array(8),(ae=Z>=(ne=(D+q)/2))?D=ne:q=ne,(de=G>=(ce=(Q+te)/2))?Q=ce:te=ce,(be=W>=(le=(ee+ie)/2))?ee=le:ie=le;while((he=be<<2|de<<1|ae)===(Le=(ue>=le)<<2|(pe>=ce)<<1|se>=ne));return U[Le]=J,U[he]=Y,X}function addAll(X){Array.isArray(X)||(X=Array.from(X));const Z=X.length,G=new Float64Array(Z),W=new Float64Array(Z),F=new Float64Array(Z);let U=1/0,J=1/0,Y=1/0,D=-1/0,Q=-1/0,ee=-1/0;for(let q=0,te,ie,ne,ce;q<Z;++q)isNaN(ie=+this._x.call(null,te=X[q]))||isNaN(ne=+this._y.call(null,te))||isNaN(ce=+this._z.call(null,te))||(G[q]=ie,W[q]=ne,F[q]=ce,ie<U&&(U=ie),ie>D&&(D=ie),ne<J&&(J=ne),ne>Q&&(Q=ne),ce<Y&&(Y=ce),ce>ee&&(ee=ce));if(U>D||J>Q||Y>ee)return this;this.cover(U,J,Y).cover(D,Q,ee);for(let q=0;q<Z;++q)add$1(this,G[q],W[q],F[q],X[q]);return this}function tree_cover(X,Z,G){if(isNaN(X=+X)||isNaN(Z=+Z)||isNaN(G=+G))return this;var W=this._x0,F=this._y0,U=this._z0,J=this._x1,Y=this._y1,D=this._z1;if(isNaN(W))J=(W=Math.floor(X))+1,Y=(F=Math.floor(Z))+1,D=(U=Math.floor(G))+1;else{for(var Q=J-W||1,ee=this._root,q,te;W>X||X>=J||F>Z||Z>=Y||U>G||G>=D;)switch(te=(G<U)<<2|(Z<F)<<1|X<W,q=new Array(8),q[te]=ee,ee=q,Q*=2,te){case 0:J=W+Q,Y=F+Q,D=U+Q;break;case 1:W=J-Q,Y=F+Q,D=U+Q;break;case 2:J=W+Q,F=Y-Q,D=U+Q;break;case 3:W=J-Q,F=Y-Q,D=U+Q;break;case 4:J=W+Q,Y=F+Q,U=D-Q;break;case 5:W=J-Q,Y=F+Q,U=D-Q;break;case 6:J=W+Q,F=Y-Q,U=D-Q;break;case 7:W=J-Q,F=Y-Q,U=D-Q;break}this._root&&this._root.length&&(this._root=ee)}return this._x0=W,this._y0=F,this._z0=U,this._x1=J,this._y1=Y,this._z1=D,this}function tree_data(){var X=[];return this.visit(function(Z){if(!Z.length)do X.push(Z.data);while(Z=Z.next)}),X}function tree_extent(X){return arguments.length?this.cover(+X[0][0],+X[0][1],+X[0][2]).cover(+X[1][0],+X[1][1],+X[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Octant(X,Z,G,W,F,U,J){this.node=X,this.x0=Z,this.y0=G,this.z0=W,this.x1=F,this.y1=U,this.z1=J}function tree_find(X,Z,G,W){var F,U=this._x0,J=this._y0,Y=this._z0,D,Q,ee,q,te,ie,ne=this._x1,ce=this._y1,le=this._z1,se=[],pe=this._root,ue,ae;for(pe&&se.push(new Octant(pe,U,J,Y,ne,ce,le)),W==null?W=1/0:(U=X-W,J=Z-W,Y=G-W,ne=X+W,ce=Z+W,le=G+W,W*=W);ue=se.pop();)if(!(!(pe=ue.node)||(D=ue.x0)>ne||(Q=ue.y0)>ce||(ee=ue.z0)>le||(q=ue.x1)<U||(te=ue.y1)<J||(ie=ue.z1)<Y))if(pe.length){var de=(D+q)/2,be=(Q+te)/2,he=(ee+ie)/2;se.push(new Octant(pe[7],de,be,he,q,te,ie),new Octant(pe[6],D,be,he,de,te,ie),new Octant(pe[5],de,Q,he,q,be,ie),new Octant(pe[4],D,Q,he,de,be,ie),new Octant(pe[3],de,be,ee,q,te,he),new Octant(pe[2],D,be,ee,de,te,he),new Octant(pe[1],de,Q,ee,q,be,he),new Octant(pe[0],D,Q,ee,de,be,he)),(ae=(G>=he)<<2|(Z>=be)<<1|X>=de)&&(ue=se[se.length-1],se[se.length-1]=se[se.length-1-ae],se[se.length-1-ae]=ue)}else{var Le=X-+this._x.call(null,pe.data),Xe=Z-+this._y.call(null,pe.data),We=G-+this._z.call(null,pe.data),fe=Le*Le+Xe*Xe+We*We;if(fe<W){var Re=Math.sqrt(W=fe);U=X-Re,J=Z-Re,Y=G-Re,ne=X+Re,ce=Z+Re,le=G+Re,F=pe.data}}return F}function tree_remove(X){if(isNaN(te=+this._x.call(null,X))||isNaN(ie=+this._y.call(null,X))||isNaN(ne=+this._z.call(null,X)))return this;var Z,G=this._root,W,F,U,J=this._x0,Y=this._y0,D=this._z0,Q=this._x1,ee=this._y1,q=this._z1,te,ie,ne,ce,le,se,pe,ue,ae,de,be;if(!G)return this;if(G.length)for(;;){if((pe=te>=(ce=(J+Q)/2))?J=ce:Q=ce,(ue=ie>=(le=(Y+ee)/2))?Y=le:ee=le,(ae=ne>=(se=(D+q)/2))?D=se:q=se,Z=G,!(G=G[de=ae<<2|ue<<1|pe]))return this;if(!G.length)break;(Z[de+1&7]||Z[de+2&7]||Z[de+3&7]||Z[de+4&7]||Z[de+5&7]||Z[de+6&7]||Z[de+7&7])&&(W=Z,be=de)}for(;G.data!==X;)if(F=G,!(G=G.next))return this;return(U=G.next)&&delete G.next,F?(U?F.next=U:delete F.next,this):Z?(U?Z[de]=U:delete Z[de],(G=Z[0]||Z[1]||Z[2]||Z[3]||Z[4]||Z[5]||Z[6]||Z[7])&&G===(Z[7]||Z[6]||Z[5]||Z[4]||Z[3]||Z[2]||Z[1]||Z[0])&&!G.length&&(W?W[be]=G:this._root=G),this):(this._root=U,this)}function removeAll(X){for(var Z=0,G=X.length;Z<G;++Z)this.remove(X[Z]);return this}function tree_root(){return this._root}function tree_size(){var X=0;return this.visit(function(Z){if(!Z.length)do++X;while(Z=Z.next)}),X}function tree_visit(X){var Z=[],G,W=this._root,F,U,J,Y,D,Q,ee;for(W&&Z.push(new Octant(W,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));G=Z.pop();)if(!X(W=G.node,U=G.x0,J=G.y0,Y=G.z0,D=G.x1,Q=G.y1,ee=G.z1)&&W.length){var q=(U+D)/2,te=(J+Q)/2,ie=(Y+ee)/2;(F=W[7])&&Z.push(new Octant(F,q,te,ie,D,Q,ee)),(F=W[6])&&Z.push(new Octant(F,U,te,ie,q,Q,ee)),(F=W[5])&&Z.push(new Octant(F,q,J,ie,D,te,ee)),(F=W[4])&&Z.push(new Octant(F,U,J,ie,q,te,ee)),(F=W[3])&&Z.push(new Octant(F,q,te,Y,D,Q,ie)),(F=W[2])&&Z.push(new Octant(F,U,te,Y,q,Q,ie)),(F=W[1])&&Z.push(new Octant(F,q,J,Y,D,te,ie)),(F=W[0])&&Z.push(new Octant(F,U,J,Y,q,te,ie))}return this}function tree_visitAfter(X){var Z=[],G=[],W;for(this._root&&Z.push(new Octant(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));W=Z.pop();){var F=W.node;if(F.length){var U,J=W.x0,Y=W.y0,D=W.z0,Q=W.x1,ee=W.y1,q=W.z1,te=(J+Q)/2,ie=(Y+ee)/2,ne=(D+q)/2;(U=F[0])&&Z.push(new Octant(U,J,Y,D,te,ie,ne)),(U=F[1])&&Z.push(new Octant(U,te,Y,D,Q,ie,ne)),(U=F[2])&&Z.push(new Octant(U,J,ie,D,te,ee,ne)),(U=F[3])&&Z.push(new Octant(U,te,ie,D,Q,ee,ne)),(U=F[4])&&Z.push(new Octant(U,J,Y,ne,te,ie,q)),(U=F[5])&&Z.push(new Octant(U,te,Y,ne,Q,ie,q)),(U=F[6])&&Z.push(new Octant(U,J,ie,ne,te,ee,q)),(U=F[7])&&Z.push(new Octant(U,te,ie,ne,Q,ee,q))}G.push(W)}for(;W=G.pop();)X(W.node,W.x0,W.y0,W.z0,W.x1,W.y1,W.z1);return this}function defaultX(X){return X[0]}function tree_x(X){return arguments.length?(this._x=X,this):this._x}function defaultY(X){return X[1]}function tree_y(X){return arguments.length?(this._y=X,this):this._y}function defaultZ(X){return X[2]}function tree_z(X){return arguments.length?(this._z=X,this):this._z}function octree(X,Z,G,W){var F=new Octree(Z??defaultX,G??defaultY,W??defaultZ,NaN,NaN,NaN,NaN,NaN,NaN);return X==null?F:F.addAll(X)}function Octree(X,Z,G,W,F,U,J,Y,D){this._x=X,this._y=Z,this._z=G,this._x0=W,this._y0=F,this._z0=U,this._x1=J,this._y1=Y,this._z1=D,this._root=void 0}function leaf_copy(X){for(var Z={data:X.data},G=Z;X=X.next;)G=G.next={data:X.data};return Z}var treeProto=octree.prototype=Octree.prototype;treeProto.copy=function(){var X=new Octree(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),Z=this._root,G,W;if(!Z)return X;if(!Z.length)return X._root=leaf_copy(Z),X;for(G=[{source:Z,target:X._root=new Array(8)}];Z=G.pop();)for(var F=0;F<8;++F)(W=Z.source[F])&&(W.length?G.push({source:W,target:Z.target[F]=new Array(8)}):Z.target[F]=leaf_copy(W));return X};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;treeProto.z=tree_z;function constant(X){return function(){return X}}function jiggle(X){return(X()-.5)*1e-6}function index(X){return X.index}function find(X,Z){var G=X.get(Z);if(!G)throw new Error("node not found: "+Z);return G}function forceLink(X){var Z=index,G=te,W,F=constant(30),U,J,Y,D,Q,ee,q=1;X==null&&(X=[]);function te(se){return 1/Math.min(D[se.source.index],D[se.target.index])}function ie(se){for(var pe=0,ue=X.length;pe<q;++pe)for(var ae=0,de,be,he,Le=0,Xe=0,We=0,fe,Re;ae<ue;++ae)de=X[ae],be=de.source,he=de.target,Le=he.x+he.vx-be.x-be.vx||jiggle(ee),Y>1&&(Xe=he.y+he.vy-be.y-be.vy||jiggle(ee)),Y>2&&(We=he.z+he.vz-be.z-be.vz||jiggle(ee)),fe=Math.sqrt(Le*Le+Xe*Xe+We*We),fe=(fe-U[ae])/fe*se*W[ae],Le*=fe,Xe*=fe,We*=fe,he.vx-=Le*(Re=Q[ae]),Y>1&&(he.vy-=Xe*Re),Y>2&&(he.vz-=We*Re),be.vx+=Le*(Re=1-Re),Y>1&&(be.vy+=Xe*Re),Y>2&&(be.vz+=We*Re)}function ne(){if(J){var se,pe=J.length,ue=X.length,ae=new Map(J.map((be,he)=>[Z(be,he,J),be])),de;for(se=0,D=new Array(pe);se<ue;++se)de=X[se],de.index=se,typeof de.source!="object"&&(de.source=find(ae,de.source)),typeof de.target!="object"&&(de.target=find(ae,de.target)),D[de.source.index]=(D[de.source.index]||0)+1,D[de.target.index]=(D[de.target.index]||0)+1;for(se=0,Q=new Array(ue);se<ue;++se)de=X[se],Q[se]=D[de.source.index]/(D[de.source.index]+D[de.target.index]);W=new Array(ue),ce(),U=new Array(ue),le()}}function ce(){if(J)for(var se=0,pe=X.length;se<pe;++se)W[se]=+G(X[se],se,X)}function le(){if(J)for(var se=0,pe=X.length;se<pe;++se)U[se]=+F(X[se],se,X)}return ie.initialize=function(se,...pe){J=se,ee=pe.find(ue=>typeof ue=="function")||Math.random,Y=pe.find(ue=>[1,2,3].includes(ue))||2,ne()},ie.links=function(se){return arguments.length?(X=se,ne(),ie):X},ie.id=function(se){return arguments.length?(Z=se,ie):Z},ie.iterations=function(se){return arguments.length?(q=+se,ie):q},ie.strength=function(se){return arguments.length?(G=typeof se=="function"?se:constant(+se),ce(),ie):G},ie.distance=function(se){return arguments.length?(F=typeof se=="function"?se:constant(+se),le(),ie):F},ie}var noop$1={value:()=>{}};function dispatch(){for(var X=0,Z=arguments.length,G={},W;X<Z;++X){if(!(W=arguments[X]+"")||W in G||/[\s.]/.test(W))throw new Error("illegal type: "+W);G[W]=[]}return new Dispatch(G)}function Dispatch(X){this._=X}function parseTypenames(X,Z){return X.trim().split(/^|\s+/).map(function(G){var W="",F=G.indexOf(".");if(F>=0&&(W=G.slice(F+1),G=G.slice(0,F)),G&&!Z.hasOwnProperty(G))throw new Error("unknown type: "+G);return{type:G,name:W}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(X,Z){var G=this._,W=parseTypenames(X+"",G),F,U=-1,J=W.length;if(arguments.length<2){for(;++U<J;)if((F=(X=W[U]).type)&&(F=get(G[F],X.name)))return F;return}if(Z!=null&&typeof Z!="function")throw new Error("invalid callback: "+Z);for(;++U<J;)if(F=(X=W[U]).type)G[F]=set(G[F],X.name,Z);else if(Z==null)for(F in G)G[F]=set(G[F],X.name,null);return this},copy:function(){var X={},Z=this._;for(var G in Z)X[G]=Z[G].slice();return new Dispatch(X)},call:function(X,Z){if((F=arguments.length-2)>0)for(var G=new Array(F),W=0,F,U;W<F;++W)G[W]=arguments[W+2];if(!this._.hasOwnProperty(X))throw new Error("unknown type: "+X);for(U=this._[X],W=0,F=U.length;W<F;++W)U[W].value.apply(Z,G)},apply:function(X,Z,G){if(!this._.hasOwnProperty(X))throw new Error("unknown type: "+X);for(var W=this._[X],F=0,U=W.length;F<U;++F)W[F].value.apply(Z,G)}};function get(X,Z){for(var G=0,W=X.length,F;G<W;++G)if((F=X[G]).name===Z)return F.value}function set(X,Z,G){for(var W=0,F=X.length;W<F;++W)if(X[W].name===Z){X[W]=noop$1,X=X.slice(0,W).concat(X.slice(W+1));break}return G!=null&&X.push({name:Z,value:G}),X}var frame=0,timeout=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(X){setTimeout(X,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(X,Z,G){if(typeof X!="function")throw new TypeError("callback is not a function");G=(G==null?now():+G)+(Z==null?0:+Z),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=X,this._time=G,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(X,Z,G){var W=new Timer;return W.restart(X,Z,G),W}function timerFlush(){now(),++frame;for(var X=taskHead,Z;X;)(Z=clockNow-X._time)>=0&&X._call.call(void 0,Z),X=X._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var X=clock.now(),Z=X-clockLast;Z>pokeDelay&&(clockSkew-=Z,clockLast=X)}function nap(){for(var X,Z=taskHead,G,W=1/0;Z;)Z._call?(W>Z._time&&(W=Z._time),X=Z,Z=Z._next):(G=Z._next,Z._next=null,Z=X?X._next=G:taskHead=G);taskTail=X,sleep(W)}function sleep(X){if(!frame){timeout&&(timeout=clearTimeout(timeout));var Z=X-clockNow;Z>24?(X<1/0&&(timeout=setTimeout(wake,X-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}const a$2=1664525,c$2=1013904223,m$3=4294967296;function lcg(){let X=1;return()=>(X=(a$2*X+c$2)%m$3)/m$3}var MAX_DIMENSIONS=3;function x$3(X){return X.x}function y$3(X){return X.y}function z$1(X){return X.z}var initialRadius=10,initialAngleRoll=Math.PI*(3-Math.sqrt(5)),initialAngleYaw=Math.PI*20/(9+Math.sqrt(221));function forceSimulation(X,Z){Z=Z||2;var G=Math.min(MAX_DIMENSIONS,Math.max(1,Math.round(Z))),W,F=1,U=.001,J=1-Math.pow(U,1/300),Y=0,D=.6,Q=new Map,ee=timer(ie),q=dispatch("tick","end"),te=lcg();X==null&&(X=[]);function ie(){ne(),q.call("tick",W),F<U&&(ee.stop(),q.call("end",W))}function ne(se){var pe,ue=X.length,ae;se===void 0&&(se=1);for(var de=0;de<se;++de)for(F+=(Y-F)*J,Q.forEach(function(be){be(F)}),pe=0;pe<ue;++pe)ae=X[pe],ae.fx==null?ae.x+=ae.vx*=D:(ae.x=ae.fx,ae.vx=0),G>1&&(ae.fy==null?ae.y+=ae.vy*=D:(ae.y=ae.fy,ae.vy=0)),G>2&&(ae.fz==null?ae.z+=ae.vz*=D:(ae.z=ae.fz,ae.vz=0));return W}function ce(){for(var se=0,pe=X.length,ue;se<pe;++se){if(ue=X[se],ue.index=se,ue.fx!=null&&(ue.x=ue.fx),ue.fy!=null&&(ue.y=ue.fy),ue.fz!=null&&(ue.z=ue.fz),isNaN(ue.x)||G>1&&isNaN(ue.y)||G>2&&isNaN(ue.z)){var ae=initialRadius*(G>2?Math.cbrt(.5+se):G>1?Math.sqrt(.5+se):se),de=se*initialAngleRoll,be=se*initialAngleYaw;G===1?ue.x=ae:G===2?(ue.x=ae*Math.cos(de),ue.y=ae*Math.sin(de)):(ue.x=ae*Math.sin(de)*Math.cos(be),ue.y=ae*Math.cos(de),ue.z=ae*Math.sin(de)*Math.sin(be))}(isNaN(ue.vx)||G>1&&isNaN(ue.vy)||G>2&&isNaN(ue.vz))&&(ue.vx=0,G>1&&(ue.vy=0),G>2&&(ue.vz=0))}}function le(se){return se.initialize&&se.initialize(X,te,G),se}return ce(),W={tick:ne,restart:function(){return ee.restart(ie),W},stop:function(){return ee.stop(),W},numDimensions:function(se){return arguments.length?(G=Math.min(MAX_DIMENSIONS,Math.max(1,Math.round(se))),Q.forEach(le),W):G},nodes:function(se){return arguments.length?(X=se,ce(),Q.forEach(le),W):X},alpha:function(se){return arguments.length?(F=+se,W):F},alphaMin:function(se){return arguments.length?(U=+se,W):U},alphaDecay:function(se){return arguments.length?(J=+se,W):+J},alphaTarget:function(se){return arguments.length?(Y=+se,W):Y},velocityDecay:function(se){return arguments.length?(D=1-se,W):1-D},randomSource:function(se){return arguments.length?(te=se,Q.forEach(le),W):te},force:function(se,pe){return arguments.length>1?(pe==null?Q.delete(se):Q.set(se,le(pe)),W):Q.get(se)},find:function(){var se=Array.prototype.slice.call(arguments),pe=se.shift()||0,ue=(G>1?se.shift():null)||0,ae=(G>2?se.shift():null)||0,de=se.shift()||1/0,be=0,he=X.length,Le,Xe,We,fe,Re,ye;for(de*=de,be=0;be<he;++be)Re=X[be],Le=pe-Re.x,Xe=ue-(Re.y||0),We=ae-(Re.z||0),fe=Le*Le+Xe*Xe+We*We,fe<de&&(ye=Re,de=fe);return ye},on:function(se,pe){return arguments.length>1?(q.on(se,pe),W):q.on(se)}}}function forceManyBody(){var X,Z,G,W,F,U=constant(-30),J,Y=1,D=1/0,Q=.81;function ee(ne){var ce,le=X.length,se=(Z===1?binarytree(X,x$3):Z===2?quadtree(X,x$3,y$3):Z===3?octree(X,x$3,y$3,z$1):null).visitAfter(te);for(F=ne,ce=0;ce<le;++ce)G=X[ce],se.visit(ie)}function q(){if(X){var ne,ce=X.length,le;for(J=new Array(ce),ne=0;ne<ce;++ne)le=X[ne],J[le.index]=+U(le,ne,X)}}function te(ne){var ce=0,le,se,pe=0,ue,ae,de,be,he=ne.length;if(he){for(ue=ae=de=be=0;be<he;++be)(le=ne[be])&&(se=Math.abs(le.value))&&(ce+=le.value,pe+=se,ue+=se*(le.x||0),ae+=se*(le.y||0),de+=se*(le.z||0));ce*=Math.sqrt(4/he),ne.x=ue/pe,Z>1&&(ne.y=ae/pe),Z>2&&(ne.z=de/pe)}else{le=ne,le.x=le.data.x,Z>1&&(le.y=le.data.y),Z>2&&(le.z=le.data.z);do ce+=J[le.data.index];while(le=le.next)}ne.value=ce}function ie(ne,ce,le,se,pe){if(!ne.value)return!0;var ue=[le,se,pe][Z-1],ae=ne.x-G.x,de=Z>1?ne.y-G.y:0,be=Z>2?ne.z-G.z:0,he=ue-ce,Le=ae*ae+de*de+be*be;if(he*he/Q<Le)return Le<D&&(ae===0&&(ae=jiggle(W),Le+=ae*ae),Z>1&&de===0&&(de=jiggle(W),Le+=de*de),Z>2&&be===0&&(be=jiggle(W),Le+=be*be),Le<Y&&(Le=Math.sqrt(Y*Le)),G.vx+=ae*ne.value*F/Le,Z>1&&(G.vy+=de*ne.value*F/Le),Z>2&&(G.vz+=be*ne.value*F/Le)),!0;if(ne.length||Le>=D)return;(ne.data!==G||ne.next)&&(ae===0&&(ae=jiggle(W),Le+=ae*ae),Z>1&&de===0&&(de=jiggle(W),Le+=de*de),Z>2&&be===0&&(be=jiggle(W),Le+=be*be),Le<Y&&(Le=Math.sqrt(Y*Le)));do ne.data!==G&&(he=J[ne.data.index]*F/Le,G.vx+=ae*he,Z>1&&(G.vy+=de*he),Z>2&&(G.vz+=be*he));while(ne=ne.next)}return ee.initialize=function(ne,...ce){X=ne,W=ce.find(le=>typeof le=="function")||Math.random,Z=ce.find(le=>[1,2,3].includes(le))||2,q()},ee.strength=function(ne){return arguments.length?(U=typeof ne=="function"?ne:constant(+ne),q(),ee):U},ee.distanceMin=function(ne){return arguments.length?(Y=ne*ne,ee):Math.sqrt(Y)},ee.distanceMax=function(ne){return arguments.length?(D=ne*ne,ee):Math.sqrt(D)},ee.theta=function(ne){return arguments.length?(Q=ne*ne,ee):Math.sqrt(Q)},ee}var ngraph_forcelayoutExports={},ngraph_forcelayout={get exports(){return ngraph_forcelayoutExports},set exports(X){ngraph_forcelayoutExports=X}},generateCreateBodyExports={},generateCreateBody={get exports(){return generateCreateBodyExports},set exports(X){generateCreateBodyExports=X}},getVariableName$2=function X(Z){return Z===0?"x":Z===1?"y":Z===2?"z":"c"+(Z+1)};const getVariableName$1=getVariableName$2;var createPatternBuilder$6=function X(Z){return G;function G(W,F){let U=F&&F.indent||0,J=F&&F.join!==void 0?F.join:`
`,Y=Array(U+1).join(" "),D=[];for(let Q=0;Q<Z;++Q){let ee=getVariableName$1(Q),q=Q===0?"":Y;D.push(q+W.replace(/{var}/g,ee))}return D.join(J)}};const createPatternBuilder$5=createPatternBuilder$6;generateCreateBody.exports=generateCreateBodyFunction$1;generateCreateBodyExports.generateCreateBodyFunctionBody=generateCreateBodyFunctionBody;generateCreateBodyExports.getVectorCode=getVectorCode;generateCreateBodyExports.getBodyCode=getBodyCode;function generateCreateBodyFunction$1(X,Z){let G=generateCreateBodyFunctionBody(X,Z),{Body:W}=new Function(G)();return W}function generateCreateBodyFunctionBody(X,Z){return`
${getVectorCode(X,Z)}
${getBodyCode(X)}
return {Body: Body, Vector: Vector};
`}function getBodyCode(X){let Z=createPatternBuilder$5(X),G=Z("{var}",{join:", "});return`
function Body(${G}) {
  this.isPinned = false;
  this.pos = new Vector(${G});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${G}) {
  ${Z("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function getVectorCode(X,Z){let G=createPatternBuilder$5(X),W="";return Z&&(W=`${G(`
   var v{var};
Object.defineProperty(this, '{var}', {
  set: function(v) { 
    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
    v{var} = v; 
  },
  get: function() { return v{var}; }
});`)}`),`function Vector(${G("{var}",{join:", "})}) {
  ${W}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${G('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${G("this.{var} = v.{var};",{indent:4})}
    } else {
      ${G('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${G("this.{var} = ",{join:""})}0;
  };`}var generateQuadTreeExports={},generateQuadTree={get exports(){return generateQuadTreeExports},set exports(X){generateQuadTreeExports=X}};const createPatternBuilder$4=createPatternBuilder$6,getVariableName=getVariableName$2;generateQuadTree.exports=generateQuadTreeFunction$1;generateQuadTreeExports.generateQuadTreeFunctionBody=generateQuadTreeFunctionBody;generateQuadTreeExports.getInsertStackCode=getInsertStackCode;generateQuadTreeExports.getQuadNodeCode=getQuadNodeCode;generateQuadTreeExports.isSamePosition=isSamePosition;generateQuadTreeExports.getChildBodyCode=getChildBodyCode;generateQuadTreeExports.setChildBodyCode=setChildBodyCode;function generateQuadTreeFunction$1(X){let Z=generateQuadTreeFunctionBody(X);return new Function(Z)()}function generateQuadTreeFunctionBody(X){let Z=createPatternBuilder$4(X),G=Math.pow(2,X);return`
${getInsertStackCode()}
${getQuadNodeCode(X)}
${isSamePosition(X)}
${getChildBodyCode(X)}
${setChildBodyCode(X)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${J("      node.")}
      node.body = null;
      node.mass = ${Z("node.mass_{var} = ",{join:""})}0;
      ${Z("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${Z("var d{var};",{indent:4})}
    var r; 
    ${Z("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${Z("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${Z("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${Z("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${Z("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${Z("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${getVariableName(0)} - node.min_${getVariableName(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${Z("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${U()}
        }
      }
    }

    ${Z("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${Z("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${Z("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${Z("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${Z("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${Z("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${Z("root.min_{var} = {var}min;",{indent:4})}
    ${Z("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${Z("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${Z("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${Z("var min_{var} = node.min_{var};",{indent:8})}
        ${Z("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${F(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${Z("child.min_{var} = min_{var};",{indent:10})}
          ${Z("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${Z("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${Z("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function F(Y){let D=[],Q=Array(Y+1).join(" ");for(let ee=0;ee<X;++ee)D.push(Q+`if (${getVariableName(ee)} > max_${getVariableName(ee)}) {`),D.push(Q+`  quadIdx = quadIdx + ${Math.pow(2,ee)};`),D.push(Q+`  min_${getVariableName(ee)} = max_${getVariableName(ee)};`),D.push(Q+`  max_${getVariableName(ee)} = node.max_${getVariableName(ee)};`),D.push(Q+"}");return D.join(`
`)}function U(){let Y=Array(11).join(" "),D=[];for(let Q=0;Q<G;++Q)D.push(Y+`if (node.quad${Q}) {`),D.push(Y+`  queue[pushIdx] = node.quad${Q};`),D.push(Y+"  queueLength += 1;"),D.push(Y+"  pushIdx += 1;"),D.push(Y+"}");return D.join(`
`)}function J(Y){let D=[];for(let Q=0;Q<G;++Q)D.push(`${Y}quad${Q} = null;`);return D.join(`
`)}}function isSamePosition(X){let Z=createPatternBuilder$4(X);return`
  function isSamePosition(point1, point2) {
    ${Z("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${Z("d{var} < 1e-8",{join:" && "})};
  }  
`}function setChildBodyCode(X){var Z=Math.pow(2,X);return`
function setChild(node, idx, child) {
  ${G()}
}`;function G(){let W=[];for(let F=0;F<Z;++F){let U=F===0?"  ":"  else ";W.push(`${U}if (idx === ${F}) node.quad${F} = child;`)}return W.join(`
`)}}function getChildBodyCode(X){return`function getChild(node, idx) {
${Z()}
  return null;
}`;function Z(){let G=[],W=Math.pow(2,X);for(let F=0;F<W;++F)G.push(`  if (idx === ${F}) return node.quad${F};`);return G.join(`
`)}}function getQuadNodeCode(X){let Z=createPatternBuilder$4(X),G=Math.pow(2,X);var W=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${F("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${Z("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${Z("this.min_{var} = 0;",{indent:2})}
  ${Z("this.max_{var} = 0;",{indent:2})}
}
`;return W;function F(U){let J=[];for(let Y=0;Y<G;++Y)J.push(`${U}quad${Y} = null;`);return J.join(`
`)}}function getInsertStackCode(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}var generateBoundsExports={},generateBounds={get exports(){return generateBoundsExports},set exports(X){generateBoundsExports=X}};generateBounds.exports=generateBoundsFunction$1;generateBoundsExports.generateFunctionBody=generateBoundsFunctionBody;const createPatternBuilder$3=createPatternBuilder$6;function generateBoundsFunction$1(X){let Z=generateBoundsFunctionBody(X);return new Function("bodies","settings","random",Z)}function generateBoundsFunctionBody(X){let Z=createPatternBuilder$3(X);return`
  var boundingBox = {
    ${Z("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${Z("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${Z("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${Z("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${Z("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${Z("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${Z("var max_{var} = -Infinity;",{indent:4})}
    ${Z("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${Z("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${Z("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${Z("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${Z("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${Z("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}var generateCreateDragForceExports={},generateCreateDragForce={get exports(){return generateCreateDragForceExports},set exports(X){generateCreateDragForceExports=X}};const createPatternBuilder$2=createPatternBuilder$6;generateCreateDragForce.exports=generateCreateDragForceFunction$1;generateCreateDragForceExports.generateCreateDragForceFunctionBody=generateCreateDragForceFunctionBody;function generateCreateDragForceFunction$1(X){let Z=generateCreateDragForceFunctionBody(X);return new Function("options",Z)}function generateCreateDragForceFunctionBody(X){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${createPatternBuilder$2(X)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}var generateCreateSpringForceExports={},generateCreateSpringForce={get exports(){return generateCreateSpringForceExports},set exports(X){generateCreateSpringForceExports=X}};const createPatternBuilder$1=createPatternBuilder$6;generateCreateSpringForce.exports=generateCreateSpringForceFunction$1;generateCreateSpringForceExports.generateCreateSpringForceFunctionBody=generateCreateSpringForceFunctionBody;function generateCreateSpringForceFunction$1(X){let Z=generateCreateSpringForceFunctionBody(X);return new Function("options","random",Z)}function generateCreateSpringForceFunctionBody(X){let Z=createPatternBuilder$1(X);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${Z("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${Z("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${Z("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${Z("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}var generateIntegratorExports={},generateIntegrator={get exports(){return generateIntegratorExports},set exports(X){generateIntegratorExports=X}};const createPatternBuilder=createPatternBuilder$6;generateIntegrator.exports=generateIntegratorFunction$1;generateIntegratorExports.generateIntegratorFunctionBody=generateIntegratorFunctionBody;function generateIntegratorFunction$1(X){let Z=generateIntegratorFunctionBody(X);return new Function("bodies","timeStep","adaptiveTimeStepWeight",Z)}function generateIntegratorFunctionBody(X){let Z=createPatternBuilder(X);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${Z("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${Z("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${Z("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${Z("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${Z("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${Z("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${Z("body.pos.{var} += d{var};",{indent:4})}

    ${Z("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${Z("t{var} * t{var}",{join:" + "})})/length;
`}var spring,hasRequiredSpring;function requireSpring(){if(hasRequiredSpring)return spring;hasRequiredSpring=1,spring=X;function X(Z,G,W,F){this.from=Z,this.to=G,this.length=W,this.coefficient=F}return spring}var ngraph_merge,hasRequiredNgraph_merge;function requireNgraph_merge(){if(hasRequiredNgraph_merge)return ngraph_merge;hasRequiredNgraph_merge=1,ngraph_merge=X;function X(Z,G){var W;if(Z||(Z={}),G){for(W in G)if(G.hasOwnProperty(W)){var F=Z.hasOwnProperty(W),U=typeof G[W],J=!F||typeof Z[W]!==U;J?Z[W]=G[W]:U==="object"&&(Z[W]=X(Z[W],G[W]))}}return Z}return ngraph_merge}var ngraph_events=function X(Z){validateSubject(Z);var G=createEventsStorage(Z);return Z.on=G.on,Z.off=G.off,Z.fire=G.fire,Z};function createEventsStorage(X){var Z=Object.create(null);return{on:function(G,W,F){if(typeof W!="function")throw new Error("callback is expected to be a function");var U=Z[G];return U||(U=Z[G]=[]),U.push({callback:W,ctx:F}),X},off:function(G,W){var F=typeof G>"u";if(F)return Z=Object.create(null),X;if(Z[G]){var U=typeof W!="function";if(U)delete Z[G];else for(var J=Z[G],Y=0;Y<J.length;++Y)J[Y].callback===W&&J.splice(Y,1)}return X},fire:function(G){var W=Z[G];if(!W)return X;var F;arguments.length>1&&(F=Array.prototype.splice.call(arguments,1));for(var U=0;U<W.length;++U){var J=W[U];J.callback.apply(J.ctx,F)}return X}}}function validateSubject(X){if(!X)throw new Error("Eventify cannot use falsy object as events subject");for(var Z=["on","fire","off"],G=0;G<Z.length;++G)if(X.hasOwnProperty(Z[G]))throw new Error("Subject cannot be eventified, since it already has property '"+Z[G]+"'")}var ngraph_randomExports={},ngraph_random={get exports(){return ngraph_randomExports},set exports(X){ngraph_randomExports=X}},hasRequiredNgraph_random;function requireNgraph_random(){if(hasRequiredNgraph_random)return ngraph_randomExports;hasRequiredNgraph_random=1,ngraph_random.exports=X,ngraph_randomExports.random=X,ngraph_randomExports.randomIterator=Y;function X(D){var Q=typeof D=="number"?D:+new Date;return new Z(Q)}function Z(D){this.seed=D}Z.prototype.next=J,Z.prototype.nextDouble=U,Z.prototype.uniform=U,Z.prototype.gaussian=G;function G(){var D,Q,ee;do Q=this.nextDouble()*2-1,ee=this.nextDouble()*2-1,D=Q*Q+ee*ee;while(D>=1||D===0);return Q*Math.sqrt(-2*Math.log(D)/D)}Z.prototype.levy=W;function W(){var D=1.5,Q=Math.pow(F(1+D)*Math.sin(Math.PI*D/2)/(F((1+D)/2)*D*Math.pow(2,(D-1)/2)),1/D);return this.gaussian()*Q/Math.pow(Math.abs(this.gaussian()),1/D)}function F(D){return Math.sqrt(2*Math.PI/D)*Math.pow(1/Math.E*(D+1/(12*D-1/(10*D))),D)}function U(){var D=this.seed;return D=D+2127912214+(D<<12)&4294967295,D=(D^3345072700^D>>>19)&4294967295,D=D+374761393+(D<<5)&4294967295,D=(D+3550635116^D<<9)&4294967295,D=D+4251993797+(D<<3)&4294967295,D=(D^3042594569^D>>>16)&4294967295,this.seed=D,(D&268435455)/268435456}function J(D){return Math.floor(this.nextDouble()*D)}function Y(D,Q){var ee=Q||X();if(typeof ee.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:te,shuffle:q};function q(){var ie,ne,ce;for(ie=D.length-1;ie>0;--ie)ne=ee.next(ie+1),ce=D[ne],D[ne]=D[ie],D[ie]=ce;return D}function te(ie){var ne,ce,le;for(ne=D.length-1;ne>0;--ne)ce=ee.next(ne+1),le=D[ce],D[ce]=D[ne],D[ne]=le,ie(le);D.length&&ie(D[0])}}return ngraph_randomExports}var createPhysicsSimulator_1=createPhysicsSimulator,generateCreateBodyFunction=generateCreateBodyExports,generateQuadTreeFunction=generateQuadTreeExports,generateBoundsFunction=generateBoundsExports,generateCreateDragForceFunction=generateCreateDragForceExports,generateCreateSpringForceFunction=generateCreateSpringForceExports,generateIntegratorFunction=generateIntegratorExports,dimensionalCache={};function createPhysicsSimulator(X){var Z=requireSpring(),G=requireNgraph_merge(),W=ngraph_events;if(X){if(X.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(X.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}X=G(X,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var F=dimensionalCache[X.dimensions];if(!F){var U=X.dimensions;F={Body:generateCreateBodyFunction(U,X.debug),createQuadTree:generateQuadTreeFunction(U),createBounds:generateBoundsFunction(U),createDragForce:generateCreateDragForceFunction(U),createSpringForce:generateCreateSpringForceFunction(U),integrate:generateIntegratorFunction(U)},dimensionalCache[U]=F}var J=F.Body,Y=F.createQuadTree,D=F.createBounds,Q=F.createDragForce,ee=F.createSpringForce,q=F.integrate,te=Ze=>new J(Ze),ie=requireNgraph_random().random(42),ne=[],ce=[],le=Y(X,ie),se=D(ne,X,ie),pe=ee(X,ie),ue=Q(X),ae=0,de=[],be=new Map,he=0;We("nbody",ye),We("spring",re);var Le={bodies:ne,quadTree:le,springs:ce,settings:X,addForce:We,removeForce:fe,getForces:Re,step:function(){for(var Ze=0;Ze<de.length;++Ze)de[Ze](he);var Ge=q(ne,X.timeStep,X.adaptiveTimeStepWeight);return he+=1,Ge},addBody:function(Ze){if(!Ze)throw new Error("Body is required");return ne.push(Ze),Ze},addBodyAt:function(Ze){if(!Ze)throw new Error("Body position is required");var Ge=te(Ze);return ne.push(Ge),Ge},removeBody:function(Ze){if(Ze){var Ge=ne.indexOf(Ze);if(!(Ge<0))return ne.splice(Ge,1),ne.length===0&&se.reset(),!0}},addSpring:function(Ze,Ge,ve,Te){if(!Ze||!Ge)throw new Error("Cannot add null spring to force simulator");typeof ve!="number"&&(ve=-1);var xe=new Z(Ze,Ge,ve,Te>=0?Te:-1);return ce.push(xe),xe},getTotalMovement:function(){return ae},removeSpring:function(Ze){if(Ze){var Ge=ce.indexOf(Ze);if(Ge>-1)return ce.splice(Ge,1),!0}},getBestNewBodyPosition:function(Ze){return se.getBestNewPosition(Ze)},getBBox:Xe,getBoundingBox:Xe,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(Ze){return Ze!==void 0?(X.gravity=Ze,le.options({gravity:Ze}),this):X.gravity},theta:function(Ze){return Ze!==void 0?(X.theta=Ze,le.options({theta:Ze}),this):X.theta},random:ie};return expose(X,Le),W(Le),Le;function Xe(){return se.update(),se.box}function We(Ze,Ge){if(be.has(Ze))throw new Error("Force "+Ze+" is already added");be.set(Ze,Ge),de.push(Ge)}function fe(Ze){var Ge=de.indexOf(be.get(Ze));Ge<0||(de.splice(Ge,1),be.delete(Ze))}function Re(){return be}function ye(){if(ne.length!==0){le.insertBodies(ne);for(var Ze=ne.length;Ze--;){var Ge=ne[Ze];Ge.isPinned||(Ge.reset(),le.updateBodyForce(Ge),ue.update(Ge))}}}function re(){for(var Ze=ce.length;Ze--;)pe.update(ce[Ze])}}function expose(X,Z){for(var G in X)augment(X,Z,G)}function augment(X,Z,G){if(X.hasOwnProperty(G)&&typeof Z[G]!="function"){var W=Number.isFinite(X[G]);W?Z[G]=function(F){if(F!==void 0){if(!Number.isFinite(F))throw new Error("Value of "+G+" should be a valid number.");return X[G]=F,Z}return X[G]}:Z[G]=function(F){return F!==void 0?(X[G]=F,Z):X[G]}}}ngraph_forcelayout.exports=createLayout;ngraph_forcelayoutExports.simulator=createPhysicsSimulator_1;var eventify$1=ngraph_events;function createLayout(X,Z){if(!X)throw new Error("Graph structure cannot be undefined");var G=Z&&Z.createSimulator||createPhysicsSimulator_1,W=G(Z);if(Array.isArray(Z))throw new Error("Physics settings is expected to be an object");var F=X.version>19?ye:Re;Z&&typeof Z.nodeMass=="function"&&(F=Z.nodeMass);var U=new Map,J={},Y=0,D=W.settings.springTransform||noop;ue(),le();var Q=!1,ee={step:function(){if(Y===0)return q(!0),!0;var re=W.step();ee.lastMove=re,ee.fire("step");var Ze=re/Y,Ge=Ze<=.01;return q(Ge),Ge},getNodePosition:function(re){return fe(re).pos},setNodePosition:function(re){var Ze=fe(re);Ze.setPosition.apply(Ze,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(re){var Ze=J[re];if(Ze)return{from:Ze.from.pos,to:Ze.to.pos}},getGraphRect:function(){return W.getBBox()},forEachBody:te,pinNode:function(re,Ze){var Ge=fe(re.id);Ge.isPinned=!!Ze},isNodePinned:function(re){return fe(re.id).isPinned},dispose:function(){X.off("changed",pe),ee.fire("disposed")},getBody:ce,getSpring:ne,getForceVectorLength:ie,simulator:W,graph:X,lastMove:0};return eventify$1(ee),ee;function q(re){Q!==re&&(Q=re,se(re))}function te(re){U.forEach(re)}function ie(){var re=0,Ze=0;return te(function(Ge){re+=Math.abs(Ge.force.x),Ze+=Math.abs(Ge.force.y)}),Math.sqrt(re*re+Ze*Ze)}function ne(re,Ze){var Ge;if(Ze===void 0)typeof re!="object"?Ge=re:Ge=re.id;else{var ve=X.hasLink(re,Ze);if(!ve)return;Ge=ve.id}return J[Ge]}function ce(re){return U.get(re)}function le(){X.on("changed",pe)}function se(re){ee.fire("stable",re)}function pe(re){for(var Ze=0;Ze<re.length;++Ze){var Ge=re[Ze];Ge.changeType==="add"?(Ge.node&&ae(Ge.node.id),Ge.link&&be(Ge.link)):Ge.changeType==="remove"&&(Ge.node&&de(Ge.node),Ge.link&&he(Ge.link))}Y=X.getNodesCount()}function ue(){Y=0,X.forEachNode(function(re){ae(re.id),Y+=1}),X.forEachLink(be)}function ae(re){var Ze=U.get(re);if(!Ze){var Ge=X.getNode(re);if(!Ge)throw new Error("initBody() was called with unknown node id");var ve=Ge.position;if(!ve){var Te=Le(Ge);ve=W.getBestNewBodyPosition(Te)}Ze=W.addBodyAt(ve),Ze.id=re,U.set(re,Ze),Xe(re),We(Ge)&&(Ze.isPinned=!0)}}function de(re){var Ze=re.id,Ge=U.get(Ze);Ge&&(U.delete(Ze),W.removeBody(Ge))}function be(re){Xe(re.fromId),Xe(re.toId);var Ze=U.get(re.fromId),Ge=U.get(re.toId),ve=W.addSpring(Ze,Ge,re.length);D(re,ve),J[re.id]=ve}function he(re){var Ze=J[re.id];if(Ze){var Ge=X.getNode(re.fromId),ve=X.getNode(re.toId);Ge&&Xe(Ge.id),ve&&Xe(ve.id),delete J[re.id],W.removeSpring(Ze)}}function Le(re){var Ze=[];if(!re.links)return Ze;for(var Ge=Math.min(re.links.length,2),ve=0;ve<Ge;++ve){var Te=re.links[ve],xe=Te.fromId!==re.id?U.get(Te.fromId):U.get(Te.toId);xe&&xe.pos&&Ze.push(xe)}return Ze}function Xe(re){var Ze=U.get(re);if(Ze.mass=F(re),Number.isNaN(Ze.mass))throw new Error("Node mass should be a number")}function We(re){return re&&(re.isPinned||re.data&&re.data.isPinned)}function fe(re){var Ze=U.get(re);return Ze||(ae(re),Ze=U.get(re)),Ze}function Re(re){var Ze=X.getLinks(re);return Ze?1+Ze.length/3:1}function ye(re){var Ze=X.getLinks(re);return Ze?1+Ze.size/3:1}}function noop(){}var ngraph_graph=createGraph,eventify=ngraph_events;function createGraph(X){if(X=X||{},"uniqueLinkId"in X&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),X.multigraph=X.uniqueLinkId),X.multigraph===void 0&&(X.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var Z=new Map,G=new Map,W={},F=0,U=X.multigraph?ae:ue,J=[],Y=Ge,D=Ge,Q=Ge,ee=Ge,q={version:20,addNode:ce,addLink:pe,removeLink:Le,removeNode:se,getNode:le,getNodeCount:de,getLinkCount:be,getEdgeCount:be,getLinksCount:be,getNodesCount:de,getLinks:he,forEachNode:xe,forEachLinkedNode:ye,forEachLink:Re,beginUpdate:Q,endUpdate:ee,clear:fe,hasLink:We,hasNode:le,getLink:We};return eventify(q),te(),q;function te(){var Ye=q.on;q.on=ge;function ge(){return q.beginUpdate=Q=ve,q.endUpdate=ee=Te,Y=ie,D=ne,q.on=Ye,Ye.apply(q,arguments)}}function ie(Ye,ge){J.push({link:Ye,changeType:ge})}function ne(Ye,ge){J.push({node:Ye,changeType:ge})}function ce(Ye,ge){if(Ye===void 0)throw new Error("Invalid node identifier");Q();var Me=le(Ye);return Me?(Me.data=ge,D(Me,"update")):(Me=new Node(Ye,ge),D(Me,"add")),Z.set(Ye,Me),ee(),Me}function le(Ye){return Z.get(Ye)}function se(Ye){var ge=le(Ye);if(!ge)return!1;Q();var Me=ge.links;return Me&&(Me.forEach(Xe),ge.links=null),Z.delete(Ye),D(ge,"remove"),ee(),!0}function pe(Ye,ge,Me){Q();var je=le(Ye)||ce(Ye),tt=le(ge)||ce(ge),it=U(Ye,ge,Me),st=G.has(it.id);return G.set(it.id,it),addLinkToNode(je,it),Ye!==ge&&addLinkToNode(tt,it),Y(it,st?"update":"add"),ee(),it}function ue(Ye,ge,Me){var je=makeLinkId(Ye,ge),tt=G.get(je);return tt?(tt.data=Me,tt):new Link(Ye,ge,Me,je)}function ae(Ye,ge,Me){var je=makeLinkId(Ye,ge),tt=W.hasOwnProperty(je);if(tt||We(Ye,ge)){tt||(W[je]=0);var it="@"+ ++W[je];je=makeLinkId(Ye+it,ge+it)}return new Link(Ye,ge,Me,je)}function de(){return Z.size}function be(){return G.size}function he(Ye){var ge=le(Ye);return ge?ge.links:null}function Le(Ye,ge){return ge!==void 0&&(Ye=We(Ye,ge)),Xe(Ye)}function Xe(Ye){if(!Ye||!G.get(Ye.id))return!1;Q(),G.delete(Ye.id);var ge=le(Ye.fromId),Me=le(Ye.toId);return ge&&ge.links.delete(Ye),Me&&Me.links.delete(Ye),Y(Ye,"remove"),ee(),!0}function We(Ye,ge){if(!(Ye===void 0||ge===void 0))return G.get(makeLinkId(Ye,ge))}function fe(){Q(),xe(function(Ye){se(Ye.id)}),ee()}function Re(Ye){if(typeof Ye=="function")for(var ge=G.values(),Me=ge.next();!Me.done;){if(Ye(Me.value))return!0;Me=ge.next()}}function ye(Ye,ge,Me){var je=le(Ye);if(je&&je.links&&typeof ge=="function")return Me?Ze(je.links,Ye,ge):re(je.links,Ye,ge)}function re(Ye,ge,Me){for(var je,tt=Ye.values(),it=tt.next();!it.done;){var st=it.value,qe=st.fromId===ge?st.toId:st.fromId;if(je=Me(Z.get(qe),st),je)return!0;it=tt.next()}}function Ze(Ye,ge,Me){for(var je,tt=Ye.values(),it=tt.next();!it.done;){var st=it.value;if(st.fromId===ge&&(je=Me(Z.get(st.toId),st),je))return!0;it=tt.next()}}function Ge(){}function ve(){F+=1}function Te(){F-=1,F===0&&J.length>0&&(q.fire("changed",J),J.length=0)}function xe(Ye){if(typeof Ye!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Ye);for(var ge=Z.values(),Me=ge.next();!Me.done;){if(Ye(Me.value))return!0;Me=ge.next()}}}function Node(X,Z){this.id=X,this.links=null,this.data=Z}function addLinkToNode(X,Z){X.links?X.links.add(Z):X.links=new Set([Z])}function Link(X,Z,G,W){this.fromId=X,this.toId=Z,this.data=G,this.id=W}function makeLinkId(X,Z){return X.toString()+" "+Z.toString()}class GraphLayoutSim{constructor(Z){this.positions=new Float32Array(0),this.graphData=Z}get positionsBuffer(){return new Float32Array(this.positions)}start(){throw new Error("not implemented")}stop(){throw new Error("not implemented")}getPositions(Z){const G=this.positionsBuffer;Z(G)}}class D3ForceLayout extends GraphLayoutSim{constructor(Z){super(Z),this.layoutEngine=forceSimulation(Z.nodes,3).force("charge",forceManyBody()).force("link",forceLink(Z.links).id(G=>G.id)).force("center",forceCenter()),this.layoutEngine.on("tick",()=>{const G=this.graphData.nodes.flatMap(({x:W,y:F,z:U})=>[W,F,U].map(J=>J));this.positions=new Float32Array(G)})}start(){this.layoutEngine.restart()}stop(){this.layoutEngine.stop()}}class NgraphForceLayout extends GraphLayoutSim{constructor(Z){super(Z);const G=ngraph_graph();Z.nodes.forEach(W=>{G.addNode(W.id,W)}),Z.links.forEach(W=>{G.addLink(W.source,W.target)}),this.layoutEngine=ngraph_forcelayoutExports(G,{dimensions:3});for(let W of Z.nodes)this.layoutEngine.setNodePosition(W.id,W.x,W.y,W.z);this.layoutEngine.on("step",()=>{const W=Z.nodes.flatMap(({id:F})=>{const{x:U,y:J,z:Y}=this.layoutEngine.getNodePosition(F);return[U,J,Y].map(D=>D)});this.positions=new Float32Array(W)})}start(){const Z=()=>{this.layoutEngine.step(),using===this.layoutEngine&&rafExports(Z)};Z()}stop(){this.layoutEngine.dispose()}}const layout=Object.freeze(Object.defineProperty({__proto__:null,D3ForceLayout,NgraphForceLayout},Symbol.toStringTag,{value:"Module"})),transfer=(X,Z)=>transfer$1(X,Z);var transformMat4_1=transformMat4$2;function transformMat4$2(X,Z,G){var W=Z[0],F=Z[1],U=Z[2],J=G[3]*W+G[7]*F+G[11]*U+G[15];return J=J||1,X[0]=(G[0]*W+G[4]*F+G[8]*U+G[12])/J,X[1]=(G[1]*W+G[5]*F+G[9]*U+G[13])/J,X[2]=(G[2]*W+G[6]*F+G[10]*U+G[14])/J,X}var rotateY_1=rotateY;function rotateY(X,Z,G,W){var F=G[0],U=G[2],J=Z[0]-F,Y=Z[2]-U,D=Math.sin(W),Q=Math.cos(W);return X[0]=F+Y*D+J*Q,X[1]=Z[1],X[2]=U+Y*Q-J*D,X}var rotateX_1=rotateX;function rotateX(X,Z,G,W){var F=G[1],U=G[2],J=Z[1]-F,Y=Z[2]-U,D=Math.sin(W),Q=Math.cos(W);return X[0]=Z[0],X[1]=F+J*Q-Y*D,X[2]=U+J*D+Y*Q,X}var epsilon=1e-6,equals_1=equals,EPSILON=epsilon;function equals(X,Z){var G=X[0],W=X[1],F=X[2],U=Z[0],J=Z[1],Y=Z[2];return Math.abs(G-U)<=EPSILON*Math.max(1,Math.abs(G),Math.abs(U))&&Math.abs(W-J)<=EPSILON*Math.max(1,Math.abs(W),Math.abs(J))&&Math.abs(F-Y)<=EPSILON*Math.max(1,Math.abs(F),Math.abs(Y))}var add_1=add;function add(X,Z,G){return X[0]=Z[0]+G[0],X[1]=Z[1]+G[1],X[2]=Z[2]+G[2],X}var scaleAndAdd_1=scaleAndAdd;function scaleAndAdd(X,Z,G,W){return X[0]=Z[0]+G[0]*W,X[1]=Z[1]+G[1]*W,X[2]=Z[2]+G[2]*W,X}var copy_1=copy;function copy(X,Z){return X[0]=Z[0],X[1]=Z[1],X[2]=Z[2],X}var normalize_1=normalize;function normalize(X,Z){var G=Z[0],W=Z[1],F=Z[2],U=G*G+W*W+F*F;return U>0&&(U=1/Math.sqrt(U),X[0]=Z[0]*U,X[1]=Z[1]*U,X[2]=Z[2]*U),X}var identity_1=identity$1;function identity$1(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}var invert_1=invert;function invert(X,Z){var G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8],q=Z[9],te=Z[10],ie=Z[11],ne=Z[12],ce=Z[13],le=Z[14],se=Z[15],pe=G*Y-W*J,ue=G*D-F*J,ae=G*Q-U*J,de=W*D-F*Y,be=W*Q-U*Y,he=F*Q-U*D,Le=ee*ce-q*ne,Xe=ee*le-te*ne,We=ee*se-ie*ne,fe=q*le-te*ce,Re=q*se-ie*ce,ye=te*se-ie*le,re=pe*ye-ue*Re+ae*fe+de*We-be*Xe+he*Le;return re?(re=1/re,X[0]=(Y*ye-D*Re+Q*fe)*re,X[1]=(F*Re-W*ye-U*fe)*re,X[2]=(ce*he-le*be+se*de)*re,X[3]=(te*be-q*he-ie*de)*re,X[4]=(D*We-J*ye-Q*Xe)*re,X[5]=(G*ye-F*We+U*Xe)*re,X[6]=(le*ae-ne*he-se*ue)*re,X[7]=(ee*he-te*ae+ie*ue)*re,X[8]=(J*Re-Y*We+Q*Le)*re,X[9]=(W*We-G*Re-U*Le)*re,X[10]=(ne*be-ce*ae+se*pe)*re,X[11]=(q*ae-ee*be-ie*pe)*re,X[12]=(Y*Xe-J*fe-D*Le)*re,X[13]=(G*fe-W*Xe+F*Le)*re,X[14]=(ce*ue-ne*de-le*pe)*re,X[15]=(ee*de-q*ue+te*pe)*re,X):null}var translate_1=translate;function translate(X,Z,G){var W=G[0],F=G[1],U=G[2],J,Y,D,Q,ee,q,te,ie,ne,ce,le,se;return Z===X?(X[12]=Z[0]*W+Z[4]*F+Z[8]*U+Z[12],X[13]=Z[1]*W+Z[5]*F+Z[9]*U+Z[13],X[14]=Z[2]*W+Z[6]*F+Z[10]*U+Z[14],X[15]=Z[3]*W+Z[7]*F+Z[11]*U+Z[15]):(J=Z[0],Y=Z[1],D=Z[2],Q=Z[3],ee=Z[4],q=Z[5],te=Z[6],ie=Z[7],ne=Z[8],ce=Z[9],le=Z[10],se=Z[11],X[0]=J,X[1]=Y,X[2]=D,X[3]=Q,X[4]=ee,X[5]=q,X[6]=te,X[7]=ie,X[8]=ne,X[9]=ce,X[10]=le,X[11]=se,X[12]=J*W+ee*F+ne*U+Z[12],X[13]=Y*W+q*F+ce*U+Z[13],X[14]=D*W+te*F+le*U+Z[14],X[15]=Q*W+ie*F+se*U+Z[15]),X}var scale_1=scale$1;function scale$1(X,Z,G){var W=G[0],F=G[1],U=G[2];return X[0]=Z[0]*W,X[1]=Z[1]*W,X[2]=Z[2]*W,X[3]=Z[3]*W,X[4]=Z[4]*F,X[5]=Z[5]*F,X[6]=Z[6]*F,X[7]=Z[7]*F,X[8]=Z[8]*U,X[9]=Z[9]*U,X[10]=Z[10]*U,X[11]=Z[11]*U,X[12]=Z[12],X[13]=Z[13],X[14]=Z[14],X[15]=Z[15],X}var identity=identity_1,lookAt_1=lookAt$1;function lookAt$1(X,Z,G,W){var F,U,J,Y,D,Q,ee,q,te,ie,ne=Z[0],ce=Z[1],le=Z[2],se=W[0],pe=W[1],ue=W[2],ae=G[0],de=G[1],be=G[2];return Math.abs(ne-ae)<1e-6&&Math.abs(ce-de)<1e-6&&Math.abs(le-be)<1e-6?identity(X):(ee=ne-ae,q=ce-de,te=le-be,ie=1/Math.sqrt(ee*ee+q*q+te*te),ee*=ie,q*=ie,te*=ie,F=pe*te-ue*q,U=ue*ee-se*te,J=se*q-pe*ee,ie=Math.sqrt(F*F+U*U+J*J),ie?(ie=1/ie,F*=ie,U*=ie,J*=ie):(F=0,U=0,J=0),Y=q*J-te*U,D=te*F-ee*J,Q=ee*U-q*F,ie=Math.sqrt(Y*Y+D*D+Q*Q),ie?(ie=1/ie,Y*=ie,D*=ie,Q*=ie):(Y=0,D=0,Q=0),X[0]=F,X[1]=Y,X[2]=ee,X[3]=0,X[4]=U,X[5]=D,X[6]=q,X[7]=0,X[8]=J,X[9]=Q,X[10]=te,X[11]=0,X[12]=-(F*ne+U*ce+J*le),X[13]=-(Y*ne+D*ce+Q*le),X[14]=-(ee*ne+q*ce+te*le),X[15]=1,X)}var perspective_1=perspective$1;function perspective$1(X,Z,G,W,F){var U=1/Math.tan(Z/2),J=1/(W-F);return X[0]=U/G,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=U,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=(F+W)*J,X[11]=-1,X[12]=0,X[13]=0,X[14]=2*F*W*J,X[15]=0,X}var transformMat4$1=transformMat4_1,vec3RotateY=rotateY_1,vec3RotateX=rotateX_1,vec3Equals=equals_1,vec3Add=add_1,vec3ScaleAndAdd=scaleAndAdd_1,vec3Copy=copy_1,vec3Normalize=normalize_1,mat4Identity=identity_1,mat4Invert=invert_1,mat4Translate=translate_1,mat4Scale=scale_1,lookAt=lookAt_1,perspective=perspective_1,MAX_PHI=Math.PI*.5-1e-4,MIN_PHI=-Math.PI*.5+1e-4,inertialTurntableCamera=function X(Z){Z=Z||{};var G=!0,W={aspectRatio:Z.aspectRatio?Z.aspectRatio:1,zoomAboutCursor:Z.zoomAboutCursor===void 0?!0:Z.zoomAboutCursor,distance:Z.distance===void 0?10:Z.distance,phi:Z.phi===void 0?0:Z.phi,theta:Z.theta===void 0?0:Z.theta,fovY:Z.fovY===void 0?Math.PI/4:Z.fovY,near:Z.near===void 0?.1:Z.near,far:Z.far===void 0?100:Z.far,panDecayTime:Z.panDecayTime||100,zoomDecayTime:Z.zoomDecayTime||100,rotationDecayTime:Z.rotationDecayTime||100,dirty:!0,up:Z.up||new Float32Array([0,1,0]),center:Z.center||new Float32Array(3),rotationCenter:Z.rotationCenter||Z.center&&Z.center.slice()||new Float32Array(3),zoom:0,panX:0,panY:0,panZ:0,pitch:0,yaw:0,dTheta:0,dPhi:0,mouseX:0,mouseY:0},F=null,U={tick:function(ye){if(he.zoom&&(W.zoom=he.zoom),he.dTheta&&(W.dTheta=he.dTheta),he.dPhi&&(W.dPhi=he.dPhi),he.panX&&(W.panX=he.panX),he.panY&&(W.panY=he.panY),he.panZ&&(W.panZ=he.panZ),he.yaw&&(W.yaw=he.yaw),he.pitch&&(W.pitch=he.pitch),de(he),ye){var re=W.dPhi,Ze=W.dTheta,Ge=W.zoom,ve=W.panX,Te=W.panY,xe=W.panZ,Ye=W.pitch,ge=W.yaw;Object.assign(W,ye),ye.dPhi!==void 0&&(W.dPhi+=re),ye.dTheta!==void 0&&(W.dTheta+=Ze),ye.zoom!==void 0&&(W.zoom+=Ge),ye.panX!==void 0&&(W.panX+=ve),ye.panY!==void 0&&(W.panY+=Te),ye.panZ!==void 0&&(W.panZ+=xe),ye.pitch!==void 0&&(W.pitch+=Ye),ye.yaw!==void 0&&(W.yaw+=ge)}ne()&&le(),ae()?Re(W):de(W);var Me=Date.now();F!==null&&be(Me-F),F=Me,U.state.dirty=G,G=!1,ie()},taint:pe,resize:ue,params:W,rotate:fe,pivot:We,pan:Le,zoom:Xe};U.state={},U.state.projection=new Float32Array(16),U.state.viewInv=new Float32Array(16),U.state.view=new Float32Array(16),U.state.width=null,U.state.height=null,U.state.eye=new Float32Array(3);var J=new Float32Array(3),Y=new Float32Array(3),D=new Float32Array(3),Q=new Float32Array(3),ee=new Float32Array(3),q=new Float32Array(16),te={up:new Float32Array(3),center:new Float32Array(3)};ie();function ie(){vec3Copy(te.up,W.up),vec3Copy(te.center,W.center),te.near=W.near,te.far=W.far,te.distance=W.distance,te.phi=W.phi,te.theta=W.theta,te.fovY=W.fovY}function ne(){return!vec3Equals(W.up,te.up)||!vec3Equals(W.center,te.center)||W.near!==te.near||W.far!==te.far||W.phi!==te.phi||W.theta!==te.theta||W.distance!==te.distance||W.fovY!==te.fovY}var ce={};function le(){ce.dPhi=W.phi-te.phi,ce.dTheta=W.theta-te.theta,ce.zoom=W.distance/te.distance-1,W.theta=te.theta,W.distance=te.distance,W.phi=te.phi,ce.yaw=0,ce.pitch=0,ce.panX=0,ce.panY=0,ce.panZ=0,ce.mouseX=0,ce.mouseY=0,Re(ce)}function se(){U.state.eye[0]=0,U.state.eye[1]=0,U.state.eye[2]=W.distance,vec3RotateX(U.state.eye,U.state.eye,ee,-W.phi),vec3RotateY(U.state.eye,U.state.eye,ee,W.theta),vec3Add(U.state.eye,U.state.eye,W.center),lookAt(U.state.view,U.state.eye,W.center,W.up),perspective(U.state.projection,W.fovY,U.params.aspectRatio,W.near,W.far),mat4Invert(U.state.viewInv,U.state.view)}function pe(){G=!0}function ue(ye){U.params.aspectRatio=ye,se(),pe()}function ae(){if(Math.abs(W.zoom)>1e-4||Math.abs(W.panX)>1e-4||Math.abs(W.panY)>1e-4||Math.abs(W.panZ)>1e-4||Math.abs(W.dTheta)>1e-4||Math.abs(W.dPhi)>1e-4||Math.abs(W.yaw)>1e-4||Math.abs(W.pitch)>1e-4)return!0}function de(ye){ye.zoom=0,ye.dTheta=0,ye.dPhi=0,ye.panX=0,ye.panY=0,ye.panZ=0,ye.yaw=0,ye.pitch=0}function be(ye){var re=W.panDecayTime?Math.exp(-ye/W.panDecayTime/Math.LN2):0,Ze=W.zoomDecayTime?Math.exp(-ye/W.zoomDecayTime/Math.LN2):0,Ge=W.rotationDecayTime?Math.exp(-ye/W.rotationDecayTime/Math.LN2):0;W.zoom*=Ze,W.panX*=re,W.panY*=re,W.panZ*=re,W.dTheta*=Ge,W.dPhi*=Ge,W.yaw*=Ge,W.pitch*=Ge}var he={};de(he);function Le(ye,re){var Ze=U.params.distance*Math.tan(U.params.fovY*.5)*2;return he.panX+=ye*W.aspectRatio*Ze,he.panY+=re*Ze,U}function Xe(ye,re,Ze){return he.zoom+=Ze,W.mouseX=ye,W.mouseY=re,U}function We(ye,re){var Ze=U.params.fovY;he.yaw+=ye*Ze*W.aspectRatio,he.pitch+=re*Ze}function fe(ye,re){he.dTheta+=ye,he.dPhi+=re}function Re(ye){var re;mat4Identity(q),W.zoomAboutCursor&&(re=W.distance*Math.tan(W.fovY*.5),J[0]=ye.mouseX*W.aspectRatio*re,J[1]=ye.mouseY*re,J[2]=0,mat4Translate(q,q,J)),J[0]=1+ye.zoom,J[1]=1+ye.zoom,J[2]=1,mat4Scale(q,q,J),W.zoomAboutCursor&&(re=W.distance*Math.tan(W.fovY*.5),J[0]=-ye.mouseX*W.aspectRatio*re,J[1]=-ye.mouseY*re,J[2]=0,mat4Translate(q,q,J)),q[12]-=ye.panX*.5,q[13]-=ye.panY*.5,transformMat4$1(W.center,W.center,U.state.view),transformMat4$1(W.center,W.center,q),transformMat4$1(W.center,W.center,U.state.viewInv),W.rotateAboutCenter&&vec3Copy(W.rotationCenter,W.center),W.distance*=1+ye.zoom;var Ze=W.phi;W.phi+=ye.dPhi,W.phi=Math.min(MAX_PHI,Math.max(MIN_PHI,W.phi));var Ge=W.phi-Ze,ve=W.theta;W.theta+=ye.dTheta;var Te=W.theta-ve;if(vec3RotateY(W.center,W.center,W.rotationCenter,Te-W.theta),vec3RotateX(W.center,W.center,W.rotationCenter,-Ge),vec3RotateY(W.center,W.center,W.rotationCenter,W.theta),ye.yaw!==0||ye.pitch!==0){D[0]=U.state.view[0],D[1]=U.state.view[4],D[2]=U.state.view[8],vec3Normalize(D,D),Y[0]=U.state.view[1],Y[1]=U.state.view[5],Y[2]=U.state.view[9],vec3Normalize(Y,Y),Q[0]=U.state.view[2],Q[1]=U.state.view[6],Q[2]=U.state.view[10],vec3Normalize(Q,Q);var xe=Math.min(MAX_PHI,Math.max(MIN_PHI,W.phi+ye.pitch*.5)),Ye=xe-W.phi;vec3ScaleAndAdd(W.center,W.center,D,-Math.sin(ye.yaw*.5)*W.distance),vec3ScaleAndAdd(W.center,W.center,Y,-Math.sin(Ye)*W.distance),vec3ScaleAndAdd(W.center,W.center,Q,(2-Math.cos(ye.yaw*.5)-Math.cos(Ye))*W.distance),W.phi=xe,W.theta+=ye.yaw*.5}se(),pe()}return ue(U.params.aspectRatio),U},ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var X=0,Z=arguments.length;Z--;)X+=arguments[Z]*arguments[Z];return Math.sqrt(X)});function create$1(){var X=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=0,X[12]=0,X[13]=0,X[14]=0),X[0]=1,X[5]=1,X[10]=1,X[15]=1,X}function fromValues$1(X,Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce){var le=new ARRAY_TYPE(16);return le[0]=X,le[1]=Z,le[2]=G,le[3]=W,le[4]=F,le[5]=U,le[6]=J,le[7]=Y,le[8]=D,le[9]=Q,le[10]=ee,le[11]=q,le[12]=te,le[13]=ie,le[14]=ne,le[15]=ce,le}function multiply(X,Z,G){var W=Z[0],F=Z[1],U=Z[2],J=Z[3],Y=Z[4],D=Z[5],Q=Z[6],ee=Z[7],q=Z[8],te=Z[9],ie=Z[10],ne=Z[11],ce=Z[12],le=Z[13],se=Z[14],pe=Z[15],ue=G[0],ae=G[1],de=G[2],be=G[3];return X[0]=ue*W+ae*Y+de*q+be*ce,X[1]=ue*F+ae*D+de*te+be*le,X[2]=ue*U+ae*Q+de*ie+be*se,X[3]=ue*J+ae*ee+de*ne+be*pe,ue=G[4],ae=G[5],de=G[6],be=G[7],X[4]=ue*W+ae*Y+de*q+be*ce,X[5]=ue*F+ae*D+de*te+be*le,X[6]=ue*U+ae*Q+de*ie+be*se,X[7]=ue*J+ae*ee+de*ne+be*pe,ue=G[8],ae=G[9],de=G[10],be=G[11],X[8]=ue*W+ae*Y+de*q+be*ce,X[9]=ue*F+ae*D+de*te+be*le,X[10]=ue*U+ae*Q+de*ie+be*se,X[11]=ue*J+ae*ee+de*ne+be*pe,ue=G[12],ae=G[13],de=G[14],be=G[15],X[12]=ue*W+ae*Y+de*q+be*ce,X[13]=ue*F+ae*D+de*te+be*le,X[14]=ue*U+ae*Q+de*ie+be*se,X[15]=ue*J+ae*ee+de*ne+be*pe,X}function create(){var X=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(X[0]=0,X[1]=0,X[2]=0,X[3]=0),X}function fromValues(X,Z,G,W){var F=new ARRAY_TYPE(4);return F[0]=X,F[1]=Z,F[2]=G,F[3]=W,F}function scale(X,Z,G){return X[0]=Z[0]*G,X[1]=Z[1]*G,X[2]=Z[2]*G,X[3]=Z[3]*G,X}function transformMat4(X,Z,G){var W=Z[0],F=Z[1],U=Z[2],J=Z[3];return X[0]=G[0]*W+G[4]*F+G[8]*U+G[12]*J,X[1]=G[1]*W+G[5]*F+G[9]*U+G[13]*J,X[2]=G[2]*W+G[6]*F+G[10]*U+G[14]*J,X[3]=G[3]*W+G[7]*F+G[11]*U+G[15]*J,X}(function(){var X=create();return function(Z,G,W,F,U,J){var Y,D;for(G||(G=4),W||(W=0),F?D=Math.min(F*G+W,Z.length):D=Z.length,Y=W;Y<D;Y+=G)X[0]=Z[Y],X[1]=Z[Y+1],X[2]=Z[Y+2],X[3]=Z[Y+3],U(X,X,J),Z[Y]=X[0],Z[Y+1]=X[1],Z[Y+2]=X[2],Z[Y+3]=X[3];return Z}})();class SpringDamper{constructor(Z,G=15,W=15){this.target=Z,this.stiffness=G,this.damping=W,this.velocity=this._initializeVelocity(Z),this.animationFrameId=null,this.currentValues=this._clone(Z),this.paused=!1,this.logging=!1}_initializeVelocity(Z){if(typeof Z=="number")return 0;if(Array.isArray(Z)||ArrayBuffer.isView(Z))return Z.map(()=>0);{const G={};for(const W in Z)G[W]=0;return G}}_clone(Z){return Array.isArray(Z)?[...Z]:ArrayBuffer.isView(Z)?Z.slice():typeof Z=="object"?{...Z}:Z}updateTarget(Z){this.target=Z}updateInitialValues(Z){this.currentValues=this._clone(Z)}_interpolateSpring(Z,G,W,F,U,J){const Y=G-Z,D=F*Y,Q=-U*W,ee=D+Q,q=W+ee*J;return{newCurrentValue:Z+q*J,newVelocity:q}}step(Z){if(this.paused)return this.currentValues;const G=(W,F,U)=>this._interpolateSpring(W,F,U,this.stiffness,this.damping,Z);if(typeof this.target=="number"){const{newCurrentValue:W,newVelocity:F}=G(this.currentValues,this.target,this.velocity);this.currentValues=W,this.velocity=F}else if(Array.isArray(this.target)||ArrayBuffer.isView(this.target))for(let W=0;W<this.target.length;W++){const{newCurrentValue:F,newVelocity:U}=G(this.currentValues[W],this.target[W],this.velocity[W]);this.currentValues[W]=F,this.velocity[W]=U}else for(const W in this.target){const{newCurrentValue:F,newVelocity:U}=G(this.currentValues[W],this.target[W],this.velocity[W]);this.currentValues[W]=F,this.velocity[W]=U}return this.currentValues}animate(Z){console.log("animating...",this.target,this);const G=1/60,W=()=>{this.logging&&console.log("looping spring...",this.target,this);const F=this.step(G);Z(F),this.animationFrameId=rafExports(W)};this.stop(),this.animationFrameId=rafExports(W)}pause(){this.paused=!0}resume(){this.paused=!1}stop(){rafExports.cancel(this.animationFrameId)}}const asyncState=moize((X,Z)=>{let G=!1,W,F=new Promise(Y=>{W=Y});return{set:Y=>{G?F=Y:(G=!0,W(Y))},get:()=>F}},{maxSize:1/0}),state=moize.maxArgs(2)((X,Z,G=()=>{})=>{let W;return{set:J=>{W=J},get:()=>(W===void 0&&(W=G()),W)}},{maxSize:1/0}),getGlobalCamera=moize.infinite(X=>inertialTurntableCamera({panDecayTime:200,zoomDecayTime:200,rotationDecayTime:500,distance:2e3})),getOrthographicCamera=moize.infinite((X,Z)=>inertialTurntableCamera({phi:Math.PI/4,theta:Math.PI/4,distance:200,center:[0,0,0],fovY:.013888888888888888*(Math.PI/2),near:2,far:400})),updateCameras$1=(X,Z,G,W)=>{const F=getGlobalCamera(X),U={near:F.params.distance*.1,far:F.params.distance*5e4};F.resize(G/W),F.tick({fovY:Math.PI/3,...U});const J=getOrthographicCamera(X,"zoomed");J.params.distance=F.params.distance,J.params.center=[0,0,0],J.resize(G/W),J.tick(U);const Y=getOrthographicCamera(X,"fixed");Y.resize(G/W),Y.tick({near:Y.params.distance*.1,far:Y.params.distance*1e4});const D=new Float32Array(F.state.projection),Q=new Float32Array(F.state.view),ee=new Float32Array(J.state.projection),q=new Float32Array(J.state.view),te=new Float32Array(Y.state.projection),ie=new Float32Array(Y.state.view),ne=new Float32Array([F.params.distance,F.params.rotationCenter[0],F.params.rotationCenter[1],F.params.rotationCenter[2],F.params.center[0],F.params.center[1],F.params.center[2],F.params.phi,F.params.theta]);Z(transfer(D,[D.buffer]),transfer(Q,[Q.buffer]),transfer(ee,[ee.buffer]),transfer(q,[q.buffer]),transfer(te,[te.buffer]),transfer(ie,[ie.buffer]),transfer(ne,[ne.buffer]))},getCenterSpringDamper=X=>state(X,"centerSpringDamper",()=>new SpringDamper(getGlobalCamera(X).params.center)).get(),centerUpdate=curry((X,Z)=>{const G=getGlobalCamera(X);G.params.center=Z}),startCenterSpring=debounce(X=>{console.debug("starting center spring for",X);const Z=getGlobalCamera(X),G=getCenterSpringDamper(X);G.updateInitialValues(Z.params.center),G.animate(centerUpdate(X))},100),setCameraCenter$1=(X,Z,G=3e3)=>{console.debug("setCameraCenter, updating target",[...Z]);const W=getGlobalCamera(X),F=getCenterSpringDamper(X);W.params.rotationCenter=Z,F.updateTarget(Z),startCenterSpring(X)},getDistanceSpringDamper=X=>state(X,"distanceSpringDamper",()=>new SpringDamper(getGlobalCamera(X).params.distance)).get(),distanceUpdate=(X,Z)=>{const G=getGlobalCamera(X);G.params.distance=Z},startDistanceSpring=debounce(X=>{const Z=getGlobalCamera(X),G=getDistanceSpringDamper(X);G.updateTarget(Z.params.distance),G.updateInitialValues(Z.params.distance),G.animate(distanceUpdate)},100),setCameraDistance$1=(X,Z,G=5e3)=>{getDistanceSpringDamper(X).updateTarget(Z)},startCameraAnimation=X=>{startCenterSpring(X),startDistanceSpring(X)},getCameraAnimationState=X=>state(X,"cameraAnimationState",()=>({panning:!1,zooming:!1})).get(),startPanning$1=X=>{const Z=getCameraAnimationState(X);Z.panning=!0,getCenterSpringDamper(X).stop()},stopPanning$1=X=>{const Z=getCameraAnimationState(X);Z.panning=!1},startZooming$1=X=>{const Z=getCameraAnimationState(X);Z.zooming=!0,getDistanceSpringDamper(X).stop()},stopZooming$1=X=>{const Z=getCameraAnimationState(X);Z.zooming=!1,startDistanceSpring(X)},zoomGlobalCamera$1=(X,Z,G,W)=>{const F=getGlobalCamera(X);(F.params.distance>25||W>0)&&F.zoom(Z,G,W)},panGlobalCamera$1=(X,...Z)=>{getGlobalCamera(X).pan(...Z)},getGlobalCameraParams$1=X=>getGlobalCamera(X).params,computeScreenPosition$1=(X,[Z,G,W])=>{const{projection:F,view:U}=getGlobalCamera(X).state,J=fromValues(Z,G,W,1),Y=create(),D=create(),Q=fromValues$1(...F),ee=fromValues$1(...U),q=create$1();return multiply(q,Q,ee),transformMat4(Y,J,q),scale(D,Y,1/Y[3]),[D[0],D[1],D[2]]},cameraAnimation=Object.freeze(Object.defineProperty({__proto__:null,computeScreenPosition:computeScreenPosition$1,getGlobalCamera,getGlobalCameraParams:getGlobalCameraParams$1,panGlobalCamera:panGlobalCamera$1,setCameraCenter:setCameraCenter$1,setCameraDistance:setCameraDistance$1,startCameraAnimation,startPanning:startPanning$1,startZooming:startZooming$1,stopPanning:stopPanning$1,stopZooming:stopZooming$1,updateCameras:updateCameras$1,zoomGlobalCamera:zoomGlobalCamera$1},Symbol.toStringTag,{value:"Module"}));expose$1({...db,...layout,...cameraAnimation});var __spreadArray=globalThis&&globalThis.__spreadArray||function(X,Z,G){if(G||arguments.length===2)for(var W=0,F=Z.length,U;W<F;W++)(U||!(W in Z))&&(U||(U=Array.prototype.slice.call(Z,0,W)),U[W]=Z[W]);return X.concat(U||Array.prototype.slice.call(Z))},BrowserInfo=function(){function X(Z,G,W){this.name=Z,this.version=G,this.os=W,this.type="browser"}return X}(),NodeInfo=function(){function X(Z){this.version=Z,this.type="node",this.name="node",this.os=process.platform}return X}(),SearchBotDeviceInfo=function(){function X(Z,G,W,F){this.name=Z,this.version=G,this.os=W,this.bot=F,this.type="bot-device"}return X}(),BotInfo=function(){function X(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return X}(),ReactNativeInfo=function(){function X(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return X}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(X){return X?parseUserAgent(X):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(X){return X!==""&&userAgentRules.reduce(function(Z,G){var W=G[0],F=G[1];if(Z)return Z;var U=F.exec(X);return!!U&&[W,U]},!1)}function parseUserAgent(X){var Z=matchUserAgent(X);if(!Z)return null;var G=Z[0],W=Z[1];if(G==="searchbot")return new BotInfo;var F=W[1]&&W[1].split(".").join("_").split("_").slice(0,3);F?F.length<REQUIRED_VERSION_PARTS&&(F=__spreadArray(__spreadArray([],F,!0),createVersionParts(REQUIRED_VERSION_PARTS-F.length),!0)):F=[];var U=F.join("."),J=detectOS(X),Y=SEARCHBOT_OS_REGEX.exec(X);return Y&&Y[1]?new SearchBotDeviceInfo(G,U,J,Y[1]):new BrowserInfo(G,U,J)}function detectOS(X){for(var Z=0,G=operatingSystemRules.length;Z<G;Z++){var W=operatingSystemRules[Z],F=W[0],U=W[1],J=U.exec(X);if(J)return F}return null}function getNodeVersion(){var X=typeof process<"u"&&process.version;return X?new NodeInfo(process.version.slice(1)):null}function createVersionParts(X){for(var Z=[],G=0;G<X;G++)Z.push("0");return Z}const useWorkers=detect(navigator.userAgent)?.name!=="safari";console.log(useWorkers?"Using workers":"Not using workers");const graphDb=moize.infinite(X=>useWorkers?wrap$1(new WorkerWrapper):db),graphLayout=moize.infinite(X=>useWorkers?wrap$1(new WorkerWrapper):layout),graphCameraAnimation=moize.infinite(X=>cameraAnimation);var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(X,Z,G){if(!Z.has(X))throw new TypeError("attempted to set private field on non-instance");return Z.set(X,G),G},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(X,Z){if(!Z.has(X))throw new TypeError("attempted to get private field on non-instance");return Z.get(X)},_block,_blocks,_bytes,_finalized,_first,_h0,_h1,_h2,_h3,_h4,_h5,_h6,_h7,_hashed,_hBytes,_is224,_lastByteIndex,_start;const BKDRHash=function(X){var Z=131,G=137,W=0;X+="x";var F=Math.floor(9007199254740991/G);for(let U=0;U<X.length;U++)W>F&&(W=Math.floor(W/G)),W=W*Z+X.charCodeAt(U);return W},HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],blocks=[];class Sha256{constructor(Z=!1,G=!1){_block.set(this,void 0),_blocks.set(this,void 0),_bytes.set(this,void 0),_finalized.set(this,void 0),_first.set(this,void 0),_h0.set(this,void 0),_h1.set(this,void 0),_h2.set(this,void 0),_h3.set(this,void 0),_h4.set(this,void 0),_h5.set(this,void 0),_h6.set(this,void 0),_h7.set(this,void 0),_hashed.set(this,void 0),_hBytes.set(this,void 0),_is224.set(this,void 0),_lastByteIndex.set(this,0),_start.set(this,void 0),this.init(Z,G)}init(Z,G){G?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,__classPrivateFieldSet(this,_blocks,blocks)):__classPrivateFieldSet(this,_blocks,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Z?(__classPrivateFieldSet(this,_h0,3238371032),__classPrivateFieldSet(this,_h1,914150663),__classPrivateFieldSet(this,_h2,812702999),__classPrivateFieldSet(this,_h3,4144912697),__classPrivateFieldSet(this,_h4,4290775857),__classPrivateFieldSet(this,_h5,1750603025),__classPrivateFieldSet(this,_h6,1694076839),__classPrivateFieldSet(this,_h7,3204075428)):(__classPrivateFieldSet(this,_h0,1779033703),__classPrivateFieldSet(this,_h1,3144134277),__classPrivateFieldSet(this,_h2,1013904242),__classPrivateFieldSet(this,_h3,2773480762),__classPrivateFieldSet(this,_h4,1359893119),__classPrivateFieldSet(this,_h5,2600822924),__classPrivateFieldSet(this,_h6,528734635),__classPrivateFieldSet(this,_h7,1541459225)),__classPrivateFieldSet(this,_block,__classPrivateFieldSet(this,_start,__classPrivateFieldSet(this,_bytes,__classPrivateFieldSet(this,_hBytes,0)))),__classPrivateFieldSet(this,_finalized,__classPrivateFieldSet(this,_hashed,!1)),__classPrivateFieldSet(this,_first,!0),__classPrivateFieldSet(this,_is224,Z)}update(Z){if(__classPrivateFieldGet(this,_finalized))return this;let G;Z instanceof ArrayBuffer?G=new Uint8Array(Z):G=Z;let W=0;const F=G.length,U=__classPrivateFieldGet(this,_blocks);for(;W<F;){let J;if(__classPrivateFieldGet(this,_hashed)&&(__classPrivateFieldSet(this,_hashed,!1),U[0]=__classPrivateFieldGet(this,_block),U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),typeof G!="string")for(J=__classPrivateFieldGet(this,_start);W<F&&J<64;++W)U[J>>2]|=G[W]<<SHIFT[J++&3];else for(J=__classPrivateFieldGet(this,_start);W<F&&J<64;++W){let Y=G.charCodeAt(W);Y<128?U[J>>2]|=Y<<SHIFT[J++&3]:Y<2048?(U[J>>2]|=(192|Y>>6)<<SHIFT[J++&3],U[J>>2]|=(128|Y&63)<<SHIFT[J++&3]):Y<55296||Y>=57344?(U[J>>2]|=(224|Y>>12)<<SHIFT[J++&3],U[J>>2]|=(128|Y>>6&63)<<SHIFT[J++&3],U[J>>2]|=(128|Y&63)<<SHIFT[J++&3]):(Y=65536+((Y&1023)<<10|G.charCodeAt(++W)&1023),U[J>>2]|=(240|Y>>18)<<SHIFT[J++&3],U[J>>2]|=(128|Y>>12&63)<<SHIFT[J++&3],U[J>>2]|=(128|Y>>6&63)<<SHIFT[J++&3],U[J>>2]|=(128|Y&63)<<SHIFT[J++&3])}__classPrivateFieldSet(this,_lastByteIndex,J),__classPrivateFieldSet(this,_bytes,__classPrivateFieldGet(this,_bytes)+(J-__classPrivateFieldGet(this,_start))),J>=64?(__classPrivateFieldSet(this,_block,U[16]),__classPrivateFieldSet(this,_start,J-64),this.hash(),__classPrivateFieldSet(this,_hashed,!0)):__classPrivateFieldSet(this,_start,J)}return __classPrivateFieldGet(this,_bytes)>4294967295&&(__classPrivateFieldSet(this,_hBytes,__classPrivateFieldGet(this,_hBytes)+(__classPrivateFieldGet(this,_bytes)/4294967296<<0)),__classPrivateFieldSet(this,_bytes,__classPrivateFieldGet(this,_bytes)%4294967296)),this}finalize(){if(__classPrivateFieldGet(this,_finalized))return;__classPrivateFieldSet(this,_finalized,!0);const Z=__classPrivateFieldGet(this,_blocks),G=__classPrivateFieldGet(this,_lastByteIndex);Z[16]=__classPrivateFieldGet(this,_block),Z[G>>2]|=EXTRA[G&3],__classPrivateFieldSet(this,_block,Z[16]),G>=56&&(__classPrivateFieldGet(this,_hashed)||this.hash(),Z[0]=__classPrivateFieldGet(this,_block),Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),Z[14]=__classPrivateFieldGet(this,_hBytes)<<3|__classPrivateFieldGet(this,_bytes)>>>29,Z[15]=__classPrivateFieldGet(this,_bytes)<<3,this.hash()}hash(){let Z=__classPrivateFieldGet(this,_h0),G=__classPrivateFieldGet(this,_h1),W=__classPrivateFieldGet(this,_h2),F=__classPrivateFieldGet(this,_h3),U=__classPrivateFieldGet(this,_h4),J=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),D=__classPrivateFieldGet(this,_h7);const Q=__classPrivateFieldGet(this,_blocks);let ee,q,te,ie,ne,ce,le,se,pe,ue;for(let ae=16;ae<64;++ae)ie=Q[ae-15],ee=(ie>>>7|ie<<25)^(ie>>>18|ie<<14)^ie>>>3,ie=Q[ae-2],q=(ie>>>17|ie<<15)^(ie>>>19|ie<<13)^ie>>>10,Q[ae]=Q[ae-16]+ee+Q[ae-7]+q<<0;ue=G&W;for(let ae=0;ae<64;ae+=4)__classPrivateFieldGet(this,_first)?(__classPrivateFieldGet(this,_is224)?(le=300032,ie=Q[0]-1413257819,D=ie-150054599<<0,F=ie+24177077<<0):(le=704751109,ie=Q[0]-210244248,D=ie-1521486534<<0,F=ie+143694565<<0),__classPrivateFieldSet(this,_first,!1)):(ee=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),q=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),le=Z&G,te=le^Z&W^ue,ce=U&J^~U&Y,ie=D+q+ce+K[ae]+Q[ae],ne=ee+te,D=F+ie<<0,F=ie+ne<<0),ee=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),q=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),se=F&Z,te=se^F&G^le,ce=D&U^~D&J,ie=Y+q+ce+K[ae+1]+Q[ae+1],ne=ee+te,Y=W+ie<<0,W=ie+ne<<0,ee=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),q=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),pe=W&F,te=pe^W&Z^se,ce=Y&D^~Y&U,ie=J+q+ce+K[ae+2]+Q[ae+2],ne=ee+te,J=G+ie<<0,G=ie+ne<<0,ee=(G>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),q=(J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7),ue=G&W,te=ue^G&F^pe,ce=J&Y^~J&D,ie=U+q+ce+K[ae+3]+Q[ae+3],ne=ee+te,U=Z+ie<<0,Z=ie+ne<<0;__classPrivateFieldSet(this,_h0,__classPrivateFieldGet(this,_h0)+Z<<0),__classPrivateFieldSet(this,_h1,__classPrivateFieldGet(this,_h1)+G<<0),__classPrivateFieldSet(this,_h2,__classPrivateFieldGet(this,_h2)+W<<0),__classPrivateFieldSet(this,_h3,__classPrivateFieldGet(this,_h3)+F<<0),__classPrivateFieldSet(this,_h4,__classPrivateFieldGet(this,_h4)+U<<0),__classPrivateFieldSet(this,_h5,__classPrivateFieldGet(this,_h5)+J<<0),__classPrivateFieldSet(this,_h6,__classPrivateFieldGet(this,_h6)+Y<<0),__classPrivateFieldSet(this,_h7,__classPrivateFieldGet(this,_h7)+D<<0)}hex(){this.finalize();const Z=__classPrivateFieldGet(this,_h0),G=__classPrivateFieldGet(this,_h1),W=__classPrivateFieldGet(this,_h2),F=__classPrivateFieldGet(this,_h3),U=__classPrivateFieldGet(this,_h4),J=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),D=__classPrivateFieldGet(this,_h7);let Q=HEX_CHARS[Z>>28&15]+HEX_CHARS[Z>>24&15]+HEX_CHARS[Z>>20&15]+HEX_CHARS[Z>>16&15]+HEX_CHARS[Z>>12&15]+HEX_CHARS[Z>>8&15]+HEX_CHARS[Z>>4&15]+HEX_CHARS[Z&15]+HEX_CHARS[G>>28&15]+HEX_CHARS[G>>24&15]+HEX_CHARS[G>>20&15]+HEX_CHARS[G>>16&15]+HEX_CHARS[G>>12&15]+HEX_CHARS[G>>8&15]+HEX_CHARS[G>>4&15]+HEX_CHARS[G&15]+HEX_CHARS[W>>28&15]+HEX_CHARS[W>>24&15]+HEX_CHARS[W>>20&15]+HEX_CHARS[W>>16&15]+HEX_CHARS[W>>12&15]+HEX_CHARS[W>>8&15]+HEX_CHARS[W>>4&15]+HEX_CHARS[W&15]+HEX_CHARS[F>>28&15]+HEX_CHARS[F>>24&15]+HEX_CHARS[F>>20&15]+HEX_CHARS[F>>16&15]+HEX_CHARS[F>>12&15]+HEX_CHARS[F>>8&15]+HEX_CHARS[F>>4&15]+HEX_CHARS[F&15]+HEX_CHARS[U>>28&15]+HEX_CHARS[U>>24&15]+HEX_CHARS[U>>20&15]+HEX_CHARS[U>>16&15]+HEX_CHARS[U>>12&15]+HEX_CHARS[U>>8&15]+HEX_CHARS[U>>4&15]+HEX_CHARS[U&15]+HEX_CHARS[J>>28&15]+HEX_CHARS[J>>24&15]+HEX_CHARS[J>>20&15]+HEX_CHARS[J>>16&15]+HEX_CHARS[J>>12&15]+HEX_CHARS[J>>8&15]+HEX_CHARS[J>>4&15]+HEX_CHARS[J&15]+HEX_CHARS[Y>>28&15]+HEX_CHARS[Y>>24&15]+HEX_CHARS[Y>>20&15]+HEX_CHARS[Y>>16&15]+HEX_CHARS[Y>>12&15]+HEX_CHARS[Y>>8&15]+HEX_CHARS[Y>>4&15]+HEX_CHARS[Y&15];return __classPrivateFieldGet(this,_is224)||(Q+=HEX_CHARS[D>>28&15]+HEX_CHARS[D>>24&15]+HEX_CHARS[D>>20&15]+HEX_CHARS[D>>16&15]+HEX_CHARS[D>>12&15]+HEX_CHARS[D>>8&15]+HEX_CHARS[D>>4&15]+HEX_CHARS[D&15]),Q}toString(){return this.hex()}digest(){this.finalize();const Z=__classPrivateFieldGet(this,_h0),G=__classPrivateFieldGet(this,_h1),W=__classPrivateFieldGet(this,_h2),F=__classPrivateFieldGet(this,_h3),U=__classPrivateFieldGet(this,_h4),J=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),D=__classPrivateFieldGet(this,_h7),Q=[Z>>24&255,Z>>16&255,Z>>8&255,Z&255,G>>24&255,G>>16&255,G>>8&255,G&255,W>>24&255,W>>16&255,W>>8&255,W&255,F>>24&255,F>>16&255,F>>8&255,F&255,U>>24&255,U>>16&255,U>>8&255,U&255,J>>24&255,J>>16&255,J>>8&255,J&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255];return __classPrivateFieldGet(this,_is224)||Q.push(D>>24&255,D>>16&255,D>>8&255,D&255),Q}array(){return this.digest()}arrayBuffer(){this.finalize();const Z=new ArrayBuffer(__classPrivateFieldGet(this,_is224)?28:32),G=new DataView(Z);return G.setUint32(0,__classPrivateFieldGet(this,_h0)),G.setUint32(4,__classPrivateFieldGet(this,_h1)),G.setUint32(8,__classPrivateFieldGet(this,_h2)),G.setUint32(12,__classPrivateFieldGet(this,_h3)),G.setUint32(16,__classPrivateFieldGet(this,_h4)),G.setUint32(20,__classPrivateFieldGet(this,_h5)),G.setUint32(24,__classPrivateFieldGet(this,_h6)),__classPrivateFieldGet(this,_is224)||G.setUint32(28,__classPrivateFieldGet(this,_h7)),Z}}_block=new WeakMap,_blocks=new WeakMap,_bytes=new WeakMap,_finalized=new WeakMap,_first=new WeakMap,_h0=new WeakMap,_h1=new WeakMap,_h2=new WeakMap,_h3=new WeakMap,_h4=new WeakMap,_h5=new WeakMap,_h6=new WeakMap,_h7=new WeakMap,_hashed=new WeakMap,_hBytes=new WeakMap,_is224=new WeakMap,_lastByteIndex=new WeakMap,_start=new WeakMap;function Sha256ToInt(X){const Z=new Sha256;return Z.update(X),parseInt(Z.hex().substring(0,8),16)}const RGB2HEX=function(X){var Z="#";return X.forEach(function(G){G<16&&(Z+=0),Z+=G.toString(16)}),Z},HSL2RGB=function(X,Z,G){X/=360;var W=G<.5?G*(1+Z):G+Z-G*Z,F=2*G-W;return[X+1/3,X,X-1/3].map(function(U){return U<0&&U++,U>1&&U--,U<1/6?U=F+(W-F)*6*U:U<.5?U=W:U<2/3?U=F+(W-F)*6*(2/3-U):U=F,Math.round(U*255)})};class ColorHash{constructor(Z={}){const[G,W]=[Z.lightness,Z.saturation].map(function(F){return F=F!==void 0?F:[.35,.5,.65],Array.isArray(F)?F.concat():[F]});this.L=G,this.S=W,typeof Z.hue=="number"&&(Z.hue={min:Z.hue,max:Z.hue}),typeof Z.hue=="object"&&!Array.isArray(Z.hue)&&(Z.hue=[Z.hue]),typeof Z.hue>"u"&&(Z.hue=[]),this.hueRanges=Z.hue.map(function(F){return{min:typeof F.min>"u"?0:F.min,max:typeof F.max>"u"?360:F.max}}),this.hash=Sha256ToInt,typeof Z.hash=="function"&&(this.hash=Z.hash),Z.hash==="bkdr"&&(this.hash=BKDRHash)}hsl(Z){var G,W,F,U=this.hash(Z),J=727;if(this.hueRanges.length){const Y=this.hueRanges[U%this.hueRanges.length];G=U/this.hueRanges.length%J*(Y.max-Y.min)/J+Y.min}else G=U%359;return U=Math.ceil(U/360),W=this.S[U%this.S.length],U=Math.ceil(U/this.S.length),F=this.L[U%this.L.length],[G,W,F]}rgb(Z){var G=this.hsl(Z);return HSL2RGB.apply(this,G)}hex(Z){var G=this.rgb(Z);return RGB2HEX(G)}}var gpuIoExports={},gpuIo={get exports(){return gpuIoExports},set exports(X){gpuIoExports=X}};(function(X,Z){(function(W,F){X.exports=F()})(self,()=>(()=>{var G={566:function(J,Y){(function(D,Q){Q(Y)})(this,function(D){function Q(fe){return!Number.isNaN(fe)&&typeof fe=="number"}function ee(fe){return Q(fe)&&Number.isFinite(fe)}function q(fe){return ee(fe)&&fe%1===0}function te(fe){return Q(fe)&&fe>0}function ie(fe){return q(fe)&&fe>0}function ne(fe){return Q(fe)&&fe<0}function ce(fe){return q(fe)&&fe<0}function le(fe){return Q(fe)&&fe>=0}function se(fe){return q(fe)&&fe>=0}function pe(fe){return Q(fe)&&fe<=0}function ue(fe){return q(fe)&&fe<=0}function ae(fe,Re,ye){return Q(fe)&&fe>=Re&&fe<=ye}function de(fe,Re,ye){return q(fe)&&fe>=Re&&fe<=ye}function be(fe){return typeof fe=="string"}function he(fe){return ArrayBuffer.isView(fe)&&!(fe instanceof DataView)}function Le(fe){return Array.isArray(fe)||he(fe)}function Xe(fe){return typeof fe=="object"&&!Le(fe)&&fe!==null&&!(fe instanceof ArrayBuffer)&&!(fe instanceof DataView)}function We(fe){return typeof fe=="boolean"}D.isArray=Le,D.isBoolean=We,D.isFiniteNumber=ee,D.isInteger=q,D.isIntegerInRange=de,D.isNegativeInteger=ce,D.isNegativeNumber=ne,D.isNonNegativeInteger=se,D.isNonNegativeNumber=le,D.isNonPositiveInteger=ue,D.isNonPositiveNumber=pe,D.isNumber=Q,D.isNumberInRange=ae,D.isObject=Xe,D.isPositiveInteger=ie,D.isPositiveNumber=te,D.isString=be,D.isTypedArray=he,Object.defineProperty(D,"__esModule",{value:!0})})},809:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.changeDpiBlob=de,Y.changeDpiDataUrl=be;function D(We){if(Array.isArray(We)){for(var fe=0,Re=Array(We.length);fe<We.length;fe++)Re[fe]=We[fe];return Re}else return Array.from(We)}function Q(){for(var We=new Int32Array(256),fe=0;fe<256;fe++){for(var Re=fe,ye=0;ye<8;ye++)Re=Re&1?3988292384^Re>>>1:Re>>>1;We[fe]=Re}return We}function ee(We){var fe=-1;q||(q=Q());for(var Re=0;Re<We.length;Re++)fe=q[(fe^We[Re])&255]^fe>>>8;return fe^-1}var q=void 0,te="image/png",ie="image/jpeg",ne="AAlwSFlz",ce="AAAJcEhZ",le="AAAACXBI",se="p".charCodeAt(0),pe="H".charCodeAt(0),ue="Y".charCodeAt(0),ae="s".charCodeAt(0);function de(We,fe){var Re=We.slice(0,33);return new Promise(function(ye,re){var Ze=new FileReader;Ze.onload=function(){var Ge=new Uint8Array(Ze.result),ve=We.slice(33),Te=Xe(Ge,fe,We.type);ye(new Blob([Te,ve],{type:We.type}))},Ze.readAsArrayBuffer(Re)})}function be(We,fe){var Re=We.split(","),ye=Re[0],re=Re[1],Ze=void 0,Ge=void 0,ve=!1;if(ye.indexOf(te)!==-1){Ze=te;var Te=he(re);Te>=0?(Ge=Math.ceil((Te+28)/3)*4,ve=!0):Ge=44}ye.indexOf(ie)!==-1&&(Ze=ie,Ge=24);for(var xe=re.substring(0,Ge),Ye=re.substring(Ge),ge=atob(xe),Me=new Uint8Array(ge.length),je=0;je<Me.length;je++)Me[je]=ge.charCodeAt(je);var tt=Xe(Me,fe,Ze,ve),it=btoa(String.fromCharCode.apply(String,D(tt)));return[ye,",",it,Ye].join("")}function he(We){var fe=We.indexOf(ne);return fe===-1&&(fe=We.indexOf(ce)),fe===-1&&(fe=We.indexOf(le)),fe}function Le(We){for(var fe=We.length-1,Re=fe;Re>=4;Re--)if(We[Re-4]===9&&We[Re-3]===se&&We[Re-2]===pe&&We[Re-1]===ue&&We[Re]===ae)return Re-3}function Xe(We,fe,Re,ye){if(Re===ie)return We[13]=1,We[14]=fe>>8,We[15]=fe&255,We[16]=fe>>8,We[17]=fe&255,We;if(Re===te){var re=new Uint8Array(13);fe*=39.3701,re[0]=se,re[1]=pe,re[2]=ue,re[3]=ae,re[4]=fe>>>24,re[5]=fe>>>16,re[6]=fe>>>8,re[7]=fe&255,re[8]=re[4],re[9]=re[5],re[10]=re[6],re[11]=re[7],re[12]=1;var Ze=ee(re),Ge=new Uint8Array(4);if(Ge[0]=Ze>>>24,Ge[1]=Ze>>>16,Ge[2]=Ze>>>8,Ge[3]=Ze&255,ye){var ve=Le(We);return We.set(re,ve),We.set(Ge,ve+13),We}else{var Te=new Uint8Array(4);Te[0]=0,Te[1]=0,Te[2]=0,Te[3]=9;var xe=new Uint8Array(54);return xe.set(We,0),xe.set(Te,33),xe.set(re,37),xe.set(Ge,50),xe}}}},162:function(J,Y,D){var Q,ee,q;(function(te,ie){ee=[],Q=ie,q=typeof Q=="function"?Q.apply(Y,ee):Q,q!==void 0&&(J.exports=q)})(this,function(){function te(ue,ae){return typeof ae>"u"?ae={autoBom:!1}:typeof ae!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ae={autoBom:!ae}),ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ue.type)?new Blob(["\uFEFF",ue],{type:ue.type}):ue}function ie(ue,ae,de){var be=new XMLHttpRequest;be.open("GET",ue),be.responseType="blob",be.onload=function(){pe(be.response,ae,de)},be.onerror=function(){console.error("could not download file")},be.send()}function ne(ue){var ae=new XMLHttpRequest;ae.open("HEAD",ue,!1);try{ae.send()}catch{}return 200<=ae.status&&299>=ae.status}function ce(ue){try{ue.dispatchEvent(new MouseEvent("click"))}catch{var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ue.dispatchEvent(ae)}}var le=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof D.g=="object"&&D.g.global===D.g?D.g:void 0,se=le.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),pe=le.saveAs||(typeof window!="object"||window!==le?function(){}:"download"in HTMLAnchorElement.prototype&&!se?function(ue,ae,de){var be=le.URL||le.webkitURL,he=document.createElement("a");ae=ae||ue.name||"download",he.download=ae,he.rel="noopener",typeof ue=="string"?(he.href=ue,he.origin===location.origin?ce(he):ne(he.href)?ie(ue,ae,de):ce(he,he.target="_blank")):(he.href=be.createObjectURL(ue),setTimeout(function(){be.revokeObjectURL(he.href)},4e4),setTimeout(function(){ce(he)},0))}:"msSaveOrOpenBlob"in navigator?function(ue,ae,de){if(ae=ae||ue.name||"download",typeof ue!="string")navigator.msSaveOrOpenBlob(te(ue,de),ae);else if(ne(ue))ie(ue,ae,de);else{var be=document.createElement("a");be.href=ue,be.target="_blank",setTimeout(function(){ce(be)})}}:function(ue,ae,de,be){if(be=be||open("","_blank"),be&&(be.document.title=be.document.body.innerText="downloading..."),typeof ue=="string")return ie(ue,ae,de);var he=ue.type==="application/octet-stream",Le=/constructor/i.test(le.HTMLElement)||le.safari,Xe=/CriOS\/[\d]+/.test(navigator.userAgent);if((Xe||he&&Le||se)&&typeof FileReader<"u"){var We=new FileReader;We.onloadend=function(){var ye=We.result;ye=Xe?ye:ye.replace(/^data:[^;]*;/,"data:attachment/file;"),be?be.location.href=ye:location=ye,be=null},We.readAsDataURL(ue)}else{var fe=le.URL||le.webkitURL,Re=fe.createObjectURL(ue);be?be.location=Re:location.href=Re,be=null,setTimeout(function(){fe.revokeObjectURL(Re)},4e4)}});le.saveAs=pe.saveAs=pe,J.exports=pe})},484:function(J,Y,D){var Q=this&&this.__assign||function(){return Q=Object.assign||function(ye){for(var re,Ze=1,Ge=arguments.length;Ze<Ge;Ze++){re=arguments[Ze];for(var ve in re)Object.prototype.hasOwnProperty.call(re,ve)&&(ye[ve]=re[ve])}return ye},Q.apply(this,arguments)},ee=this&&this.__spreadArray||function(ye,re,Ze){if(Ze||arguments.length===2)for(var Ge=0,ve=re.length,Te;Ge<ve;Ge++)(Te||!(Ge in re))&&(Te||(Te=Array.prototype.slice.call(re,0,Ge)),Te[Ge]=re[Ge]);return ye.concat(Te||Array.prototype.slice.call(re))};Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPUComposer=void 0;var q=D(809),te=D(566),ie=D(355);D(191);var ne=D(601),ce=D(404),le=D(593),se=D(651),pe=D(567),ue=D(946),ae=D(929),de=D(634),be=D(380),he=D(690),Le=D(579),Xe=D(707),We=D(798),fe=D(581),Re=function(){function ye(re){var Ze;this._errorState=!1,this._circlePositionsBuffer={},this._vertexAttributeLocations={},this._enabledVertexAttributes={},this._extensions={},this._clearValue=0,this._copyPrograms={},this._setValuePrograms={},this._vertexShaders=(Ze={},Ze[ne.DEFAULT_PROGRAM_NAME]={src:se.DEFAULT_VERT_SHADER_SOURCE,compiledShaders:{}},Ze[ne.SEGMENT_PROGRAM_NAME]={src:ue.SEGMENT_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_POINTS_PROGRAM_NAME]={src:ae.LAYER_POINTS_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_VECTOR_FIELD_PROGRAM_NAME]={src:de.LAYER_VECTOR_FIELD_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_LINES_PROGRAM_NAME]={src:pe.LAYER_LINES_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_MESH_PROGRAM_NAME]={src:be.LAYER_MESH_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze),this.verboseLogging=!1,this._numTicks=0;var Ge=["canvas","context","contextID","contextAttributes","glslVersion","intPrecision","floatPrecision","clearValue","verboseLogging","errorCallback"],ve=["canvas"],Te=Object.keys(re);(0,Xe.checkValidKeys)(Te,Ge,"GPUComposer(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer(params)"),re.verboseLogging!==void 0&&(this.verboseLogging=re.verboseLogging);var xe=this;this._errorCallback=function(it){xe._errorState||(xe._errorState=!0,re.errorCallback?re.errorCallback(it):(0,ne.DEFAULT_ERROR_CALLBACK)(it))};var Ye=re.canvas,ge=re.context;if(!ge){if(re.contextID){var Me=Ye.getContext(re.contextID,re.contextAttributes);Me?ge=Me:console.warn("Unable to initialize WebGL context with contextID: ".concat(re.contextID,"."))}if(!ge){var Me=Ye.getContext(ne.WEBGL2,re.contextAttributes)||Ye.getContext(ne.WEBGL1,re.contextAttributes)||Ye.getContext(ne.EXPERIMENTAL_WEBGL2,re.contextAttributes)||Ye.getContext(ne.EXPERIMENTAL_WEBGL,re.contextAttributes);Me&&(ge=Me)}if(!ge){this._errorCallback("Unable to initialize WebGL context.");return}}this.isWebGL2=(0,le.isWebGL2)(ge),this.isWebGL2?this.verboseLogging&&console.log("Using WebGL 2.0 context."):this.verboseLogging&&console.log("Using WebGL 1.0 context."),this.gl=ge;var je=re.glslVersion||(this.isWebGL2?ne.GLSL3:ne.GLSL1);if(!this.isWebGL2&&je===ne.GLSL3&&(console.warn("GLSL3.x is incompatible with WebGL1.0 contexts, falling back to GLSL1."),je=ne.GLSL1),this.glslVersion=je,this.intPrecision=re.intPrecision||ne.PRECISION_HIGH_P,this.floatPrecision=re.floatPrecision||ne.PRECISION_HIGH_P,ge.disable(ge.DEPTH_TEST),ge.pixelStorei(ge.UNPACK_ALIGNMENT,1),this.isWebGL2)ge.bindVertexArray(null);else{var tt=(0,fe.getExtension)(this,fe.OES_VERTEX_ARRAY_OBJECT,!0);tt.bindVertexArrayOES(null)}ge.bindBuffer(ge.ARRAY_BUFFER,null),re.clearValue!==void 0&&(this.clearValue=re.clearValue),this.resize([Ye.clientWidth,Ye.clientHeight]),this.verboseLogging&&console.log("".concat(this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)," textures max."))}return ye.initWithThreeRenderer=function(re,Ze){var Ge=new ye(Q(Q({floatPrecision:re.capabilities.precision,intPrecision:re.capabilities.precision},Ze),{canvas:re.domElement,context:re.getContext()}));return Ge._threeRenderer=re,Ge},Object.defineProperty(ye.prototype,"canvas",{get:function(){return this.gl.canvas},enumerable:!1,configurable:!0}),ye.prototype._setValueProgramForType=function(re){var Ze=this._setValuePrograms,Ge=(0,he.uniformTypeForType)(re,this.glslVersion);return Ze[Ge]===void 0&&(Ze[Ge]=(0,Le.setValueProgram)(this,{type:re,value:[0,0,0,0]})),Ze[Ge]},ye.prototype._copyProgramForType=function(re){var Ze=this._copyPrograms,Ge=(0,he.uniformTypeForType)(re,this.glslVersion);return Ze[Ge]===void 0&&(Ze[Ge]=(0,Le.copyProgram)(this,{type:re})),Ze[Ge]},ye.prototype._initVertexBuffer=function(re){var Ze=this,Ge=Ze._errorCallback,ve=Ze.gl,Te=Ze.isWebGL2;if(Te)ve.bindVertexArray(null);else{var xe=(0,fe.getExtension)(this,fe.OES_VERTEX_ARRAY_OBJECT,!0);xe.bindVertexArrayOES(null)}var Ye=ve.createBuffer();if(!Ye){Ge("Unable to allocate gl buffer.");return}return ve.bindBuffer(ve.ARRAY_BUFFER,Ye),ve.bufferData(ve.ARRAY_BUFFER,re,ve.STATIC_DRAW),Ye},ye.prototype._getQuadPositionsBuffer=function(){if(this._quadPositionsBuffer===void 0){var re=new Float32Array([-1,-1,1,-1,-1,1,1,1]);this._quadPositionsBuffer=this._initVertexBuffer(re)}return this._quadPositionsBuffer},ye.prototype._getBoundaryPositionsBuffer=function(){if(this._boundaryPositionsBuffer===void 0){var re=new Float32Array([-1,-1,1,-1,1,1,-1,1,-1,-1]);this._boundaryPositionsBuffer=this._initVertexBuffer(re)}return this._boundaryPositionsBuffer},ye.prototype._getCirclePositionsBuffer=function(re){var Ze=this._circlePositionsBuffer;if(Ze[re]==null){for(var Ge=[0,0],ve=0;ve<re;ve++)Ge.push(Math.cos(2*Math.PI*ve/re),Math.sin(2*Math.PI*ve/re));Ge.push(Math.cos(0),Math.sin(0));var Te=new Float32Array(Ge),xe=this._initVertexBuffer(Te);Ze[re]=xe}return Ze[re]},ye.prototype._cloneGPULayer=function(re,Ze){for(var Ge=re.is1D()?re.length:[re.width,re.height],ve=new ie.GPULayer(this,{name:Ze||"".concat(re.name,"-clone"),dimensions:Ge,type:re.type,numComponents:re.numComponents,filter:re.filter,wrapX:re.wrapX,wrapY:re.wrapY,numBuffers:re.numBuffers,clearValue:re.clearValue}),Te=this._copyProgramForType(re.type),xe=0;xe<re.numBuffers-1;xe++)ve.incrementBufferIndex();for(var xe=0;xe<re.numBuffers;xe++)this.step({program:Te,input:re.getStateAtIndex(xe),output:ve});for(var xe=-1;xe<re.bufferIndex;xe++)ve.incrementBufferIndex();return ve},ye.prototype._getVertexShader=function(re,Ze,Ge,ve){var Te=this,xe=Te._errorCallback,Ye=Te._vertexShaders,ge=Te.gl,Me=Te.glslVersion,je=Te.intPrecision,tt=Te.floatPrecision,it=Ye[re],st=it.compiledShaders,qe=it.src;if(Ze===""&&(Ze="_default"),st[Ze]===void 0){if(qe==="")throw new Error('Error compiling GPUProgram "'.concat(ve,'": no source for vertex shader with name "').concat(re,'".'));var ot=(0,le.preprocessVertexShader)(qe,Me),ut=(0,le.compileShader)(ge,Me,je,tt,ot,ge.VERTEX_SHADER,ve,xe,Ge,void 0,!0);if(!ut){xe('Unable to compile "'.concat(re).concat(Ze,'" vertex shader for GPUProgram "').concat(ve,'".'));return}st[Ze]=ut}return st[Ze]},ye.prototype.resize=function(re){var Ze=this.canvas,Ge=re[0],ve=re[1];if(!(0,te.isNonNegativeInteger)(Ge)||!(0,te.isNonNegativeInteger)(ve))throw(0,te.isArray)(re)?new Error("Invalid dimensions parameter supplied to GPUComposer.resize(), expected positive integers, got: ".concat(Ge,", ").concat(ve)):new Error("Invalid dimensions parameter supplied to GPUComposer.resize(), expected dimensions array of length 2, got: ".concat(JSON.stringify(re)));Ze.width=Ge,Ze.height=ve,this._width=Ge,this._height=ve},ye.prototype._drawSetup=function(re,Ze,Ge,ve,Te,xe){var Ye=this.gl,ge=[];if(Te)if(Te.layer)ge.push(Te);else if(Te.constructor===ie.GPULayer)ge.push(Te.currentState);else for(var Me=0;Me<Te.length;Me++){var je=Te[Me];ge.push(je.currentState?je.currentState:je)}var tt=re._getProgramWithName(Ze,Ge,ge);this._setOutputLayer(re.name,ve,Te,xe),Ye.useProgram(tt);for(var Me=0;Me<ge.length;Me++)Ye.activeTexture(Ye.TEXTURE0+Me),Ye.bindTexture(Ye.TEXTURE_2D,ge[Me].texture);return re._setInternalFragmentUniforms(tt,ge),tt},ye.prototype._setBlendMode=function(re){var Ze=this.gl;re&&(Ze.enable(Ze.BLEND),Ze.blendFunc(Ze.SRC_ALPHA,Ze.ONE_MINUS_SRC_ALPHA))},ye.prototype._addLayerToInputs=function(re,Ze){return Ze===void 0?[re]:(0,te.isArray)(Ze)?(0,le.indexOfLayerInArray)(re,Ze)>=0?Ze:ee(ee([],Ze,!0),[re],!1):Ze===re||Ze.layer===re?[Ze]:[Ze,re]},ye.prototype._passThroughLayerDataFromInputToOutput=function(re){var Ze=this._copyProgramForType(re._internalType);this.step({program:Ze,input:re,output:re})},ye.prototype._setOutputLayer=function(re,Ze,Ge,ve){var Te=this,xe=Te.gl,Ye=Te.isWebGL2;if(!ve){xe.bindFramebuffer(xe.FRAMEBUFFER,null);var ge=this,Me=ge._width,je=ge._height;xe.viewport(0,0,Me,je);return}for(var tt=(0,te.isArray)(ve)?ve:[ve],it=0,st=tt.length;it<st;it++){var qe=tt[it];if(Ge&&(Ge===ve||Ge.layer===ve||(0,te.isArray)(Ge)&&(0,le.indexOfLayerInArray)(qe,Ge)>=0)){if(qe.numBuffers===1)throw new Error('Cannot use same buffer "'.concat(qe.name,'" for input and output of a program. Try increasing the number of buffers in your output layer to at least 2 so you can render to nextState using currentState as an input.'));Ze?qe._prepareForWrite(!0):(this._passThroughLayerDataFromInputToOutput(qe),qe._prepareForWrite(!1))}else Ze?qe._prepareForWrite(!0):(qe._usingTextureOverrideForCurrentBuffer()&&this._passThroughLayerDataFromInputToOutput(qe),qe._prepareForWrite(!1))}var ot=tt[0],ut=void 0,dt=[xe.COLOR_ATTACHMENT0];if(tt.length>1){ut=[];for(var it=1,st=tt.length;it<st;it++)ut.push(tt[it]._currentTexture),dt.push(xe.COLOR_ATTACHMENT0+it)}(0,We.bindFrameBuffer)(this,ot,ot._currentTexture,ut),Ye&&xe.drawBuffers(dt);var mt=this._widthHeightForOutput(re,ve),Je=mt.width,Ne=mt.height;xe.viewport(0,0,Je,Ne)},ye.prototype._setVertexAttribute=function(re,Ze,Ge,ve){var Te=this,xe=Te.gl,Ye=Te._vertexAttributeLocations,ge=Te._enabledVertexAttributes,Me=Ye[Ze],je;if(Me||(Me=new WeakMap,Ye[Ze]=Me),je===void 0){if(je=xe.getAttribLocation(re,Ze),je<0)throw new Error('Unable to find vertex attribute "'.concat(Ze,'" in program "').concat(ve,'".'));Me.set(re,je)}xe.vertexAttribPointer(je,Ge,xe.FLOAT,!1,0,0),xe.enableVertexAttribArray(je),ge[je]=!0},ye.prototype._disableVertexAttributes=function(){for(var re=this,Ze=re._enabledVertexAttributes,Ge=re.gl,ve=Object.keys(Ze),Te=0,xe=ve.length;Te<xe;Te++){var Ye=ve[Te];Ze[Ye]&&(Ge.disableVertexAttribArray(Ye),delete Ze[Ye])}},ye.prototype._setPositionAttribute=function(re,Ze){this._setVertexAttribute(re,"a_gpuio_position",2,Ze)},ye.prototype._setIndexAttribute=function(re,Ze){this._setVertexAttribute(re,"a_gpuio_index",1,Ze)},ye.prototype._setUVAttribute=function(re,Ze){this._setVertexAttribute(re,"a_gpuio_uv",2,Ze)},ye.prototype._widthHeightForOutput=function(re,Ze){if((0,te.isArray)(Ze)){for(var Ge=Ze[0],ve=Ge?Ge.width:this._width,Te=Ge?Ge.height:this._height,xe=1,Ye=Ze.length;xe<Ye;xe++){var ge=Ze[xe];if(ge.width!==ve||ge.height!==Te)throw new Error("Output GPULayers must have the same dimensions, got dimensions [".concat(ve,", ").concat(Te,"] and [").concat(ge.width,", ").concat(ge.height,'] for program "').concat(re,'".'))}return{width:ve,height:Te}}var Me=Ze?Ze.width:this._width,je=Ze?Ze.height:this._height;return{width:Me,height:je}},ye.prototype._iterateOverOutputsIfNeeded=function(re,Ze){if(re.output&&(0,te.isArray)(re.output)&&this.glslVersion===ne.GLSL1){for(var Ge=0,ve=re.output.length;Ge<ve;Ge++)this[Ze](Q(Q({},re),{program:Ge===0?re.program:re.program._childPrograms[Ge-1],output:re.output[Ge]}));return!0}return!1},ye.prototype._drawFinish=function(re){var Ze=this.gl;re.blendAlpha&&Ze.disable(Ze.BLEND)},ye.prototype.step=function(re){var Ze=["program","input","output","blendAlpha"],Ge=["program"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.step(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.step(params)"),!this._iterateOverOutputsIfNeeded(re,"step")){var Te=this,xe=Te.gl,Ye=Te._errorState,ge=re.program,Me=re.input,je=re.output;if(!Ye){var tt=this._drawSetup(ge,ne.DEFAULT_PROGRAM_NAME,{},!0,Me,je);ge._setVertexUniform(tt,"u_gpuio_scale",[1,1],ne.FLOAT),ge._setVertexUniform(tt,"u_gpuio_translation",[0,0],ne.FLOAT),xe.bindBuffer(xe.ARRAY_BUFFER,this._getQuadPositionsBuffer()),this._setPositionAttribute(tt,ge.name),this._setBlendMode(re.blendAlpha),xe.drawArrays(xe.TRIANGLE_STRIP,0,4),this._drawFinish(re)}}},ye.prototype.stepBoundary=function(re){var Ze=["program","input","output","edges","blendAlpha"],Ge=["program"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.stepBoundary(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.stepBoundary(params)"),!this._iterateOverOutputsIfNeeded(re,"stepBoundary")){var Te=this,xe=Te.gl,Ye=Te._errorState,ge=re.program,Me=re.input,je=re.output;if(!Ye){var tt=this._widthHeightForOutput(ge.name,je),it=tt.width,st=tt.height,qe=this._drawSetup(ge,ne.DEFAULT_PROGRAM_NAME,{},!1,Me,je),ot=[1/it,1/st];if(ge._setVertexUniform(qe,"u_gpuio_scale",[1-ot[0],1-ot[1]],ne.FLOAT),ge._setVertexUniform(qe,"u_gpuio_translation",ot,ne.FLOAT),xe.bindBuffer(xe.ARRAY_BUFFER,this._getBoundaryPositionsBuffer()),this._setPositionAttribute(qe,ge.name),this._setBlendMode(re.blendAlpha),re.edges){var ut=re.edges;(0,te.isArray)(ut)||(ut=[ut]);for(var dt=0,mt=ut.length;dt<mt;dt++){var Je=ut[dt];Je===ne.BOUNDARY_LEFT&&xe.drawArrays(xe.LINES,3,2),Je===ne.BOUNDARY_RIGHT&&xe.drawArrays(xe.LINES,1,2),Je===ne.BOUNDARY_TOP&&xe.drawArrays(xe.LINES,2,2),Je===ne.BOUNDARY_BOTTOM&&xe.drawArrays(xe.LINES,0,2)}}else xe.drawArrays(xe.LINE_LOOP,0,4);this._drawFinish(re)}}},ye.prototype.stepNonBoundary=function(re){var Ze=["program","input","output","blendAlpha"],Ge=["program"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.stepNonBoundary(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.stepNonBoundary(params)"),!this._iterateOverOutputsIfNeeded(re,"stepNonBoundary")){var Te=this,xe=Te.gl,Ye=Te._errorState,ge=re.program,Me=re.input,je=re.output;if(!Ye){var tt=this._widthHeightForOutput(ge.name,je),it=tt.width,st=tt.height,qe=this._drawSetup(ge,ne.DEFAULT_PROGRAM_NAME,{},!1,Me,je),ot=[1/it,1/st];ge._setVertexUniform(qe,"u_gpuio_scale",[1-2*ot[0],1-2*ot[1]],ne.FLOAT),ge._setVertexUniform(qe,"u_gpuio_translation",ot,ne.FLOAT),xe.bindBuffer(xe.ARRAY_BUFFER,this._getQuadPositionsBuffer()),this._setPositionAttribute(qe,ge.name),this._setBlendMode(re.blendAlpha),xe.drawArrays(xe.TRIANGLE_STRIP,0,4),this._drawFinish(re)}}},ye.prototype.stepCircle=function(re){var Ze,Ge=["program","position","diameter","useOutputScale","input","output","numSegments","blendAlpha"],ve=["program","position","diameter"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.stepCircle(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.stepCircle(params)"),!this._iterateOverOutputsIfNeeded(re,"stepCircle")){var xe=this,Ye=xe.gl,ge=xe._errorState,Me=re.program,je=re.position,tt=re.diameter,it=re.input,st=re.output;if(!ge){var qe=this._width,ot=this._height;re.useOutputScale&&(Ze=this._widthHeightForOutput(Me.name,st),qe=Ze.width,ot=Ze.height);var ut=this._drawSetup(Me,ne.DEFAULT_PROGRAM_NAME,{},!1,it,st);Me._setVertexUniform(ut,"u_gpuio_scale",[tt/qe,tt/ot],ne.FLOAT),Me._setVertexUniform(ut,"u_gpuio_translation",[2*je[0]/qe-1,2*je[1]/ot-1],ne.FLOAT);var dt=re.numSegments?re.numSegments:ne.DEFAULT_CIRCLE_NUM_SEGMENTS;if(dt<3)throw new Error("numSegments for GPUComposer.stepCircle must be greater than 2, got ".concat(dt,"."));Ye.bindBuffer(Ye.ARRAY_BUFFER,this._getCirclePositionsBuffer(dt)),this._setPositionAttribute(ut,Me.name),this._setBlendMode(re.blendAlpha),Ye.drawArrays(Ye.TRIANGLE_FAN,0,dt+2),this._drawFinish(re)}}},ye.prototype.stepSegment=function(re){var Ze,Ge=["program","position1","position2","thickness","useOutputScale","input","output","endCaps","numCapSegments","blendAlpha"],ve=["program","position1","position2","thickness"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.stepSegment(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.stepSegment(params)"),!this._iterateOverOutputsIfNeeded(re,"stepSegment")){var xe=this,Ye=xe.gl,ge=xe._errorState,Me=re.program,je=re.position1,tt=re.position2,it=re.thickness,st=re.input,qe=re.output;if(!ge){var ot=this._width,ut=this._height;re.useOutputScale&&(Ze=this._widthHeightForOutput(Me.name,qe),ot=Ze.width,ut=Ze.height);var dt=this._drawSetup(Me,ne.SEGMENT_PROGRAM_NAME,{},!1,st,qe);Me._setVertexUniform(dt,"u_gpuio_halfThickness",it/2,ne.FLOAT),Me._setVertexUniform(dt,"u_gpuio_scale",[2/ot,2/ut],ne.FLOAT);var mt=je[0]-tt[0],Je=je[1]-tt[1],Ne=Math.atan2(Je,mt);Me._setVertexUniform(dt,"u_gpuio_rotation",Ne,ne.FLOAT);var ke=(je[0]+tt[0])/2,Ie=(je[1]+tt[1])/2;Me._setVertexUniform(dt,"u_gpuio_translation",[2*ke/ot-1,2*Ie/ut-1],ne.FLOAT);var Ce=Math.sqrt(mt*mt+Je*Je),ze=re.numCapSegments?re.numCapSegments*2:ne.DEFAULT_CIRCLE_NUM_SEGMENTS;if(re.endCaps){if(ze<6||ze%6!==0)throw new Error("numCapSegments for GPUComposer.stepSegment must be divisible by 3, got ".concat(ze/2,"."));Me._setVertexUniform(dt,"u_gpuio_length",Ce,ne.FLOAT),Ye.bindBuffer(Ye.ARRAY_BUFFER,this._getCirclePositionsBuffer(ze))}else Me._setVertexUniform(dt,"u_gpuio_length",Ce-it,ne.FLOAT),Ye.bindBuffer(Ye.ARRAY_BUFFER,this._getQuadPositionsBuffer());this._setPositionAttribute(dt,Me.name),this._setBlendMode(re.blendAlpha),re.endCaps?Ye.drawArrays(Ye.TRIANGLE_FAN,0,ze+2):Ye.drawArrays(Ye.TRIANGLE_STRIP,0,4),this._drawFinish(re)}}},ye.prototype.stepRect=function(re){var Ze=["program","position","size","useOutputScale","input","output","blendAlpha"],Ge=["program","position","size"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.stepRect(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.stepRect(params)"),!this._iterateOverOutputsIfNeeded(re,"stepRect")){var Te=[re.position[0],re.position[1]+re.size[1]/2],xe=[re.position[0]+re.size[0],Te[1]];this.stepSegment({program:re.program,position1:Te,position2:xe,thickness:re.size[1],useOutputScale:re.useOutputScale,input:re.input,output:re.output,endCaps:!1,blendAlpha:re.blendAlpha})}},ye.prototype.drawLayerAsPoints=function(re){var Ze,Ge=["layer","program","input","output","pointSize","useOutputScale","count","color","wrapX","wrapY","blendAlpha"],ve=["layer"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.drawLayerAsPoints(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.drawLayerAsPoints(params)"),!this._iterateOverOutputsIfNeeded(re,"drawLayerAsPoints")){var xe=this,Ye=xe.gl,ge=xe._pointIndexArray,Me=xe.glslVersion,je=xe._errorState,tt=re.layer,it=re.output;if(!je){if(tt.numComponents!==2&&tt.numComponents!==4)throw new Error('GPUComposer.drawLayerAsPoints() must be passed a layer parameter with either 2 or 4 components, got layer "'.concat(tt.name,'" with ').concat(tt.numComponents," components."));var st=tt.length,qe=re.count||st;if(qe>st)throw new Error("Invalid count ".concat(qe," for layer parameter of length ").concat(st,"."));Me===ne.GLSL1&&qe>ne.MAX_FLOAT_INT&&console.warn("Points positions array length: ".concat(qe," is longer than what is supported by GLSL1 : ").concat(ne.MAX_FLOAT_INT,"."));var ot=re.program;if(ot===void 0){ot=this._setValueProgramForType(ne.FLOAT);var ut=re.color||[1,0,0];if(ut.length!==3)throw new Error("Color parameter must have length 3, got ".concat(JSON.stringify(ut),"."));ot.setUniform("u_value",ee(ee([],ut,!0),[1],!1),ne.FLOAT)}var dt=this._addLayerToInputs(tt,re.input),mt={};tt.numComponents===4&&(mt[ne.GPUIO_VS_POSITION_W_ACCUM]="1"),re.wrapX&&(mt[ne.GPUIO_VS_WRAP_X]="1"),re.wrapY&&(mt[ne.GPUIO_VS_WRAP_Y]="1");var Je=this._drawSetup(ot,ne.LAYER_POINTS_PROGRAM_NAME,mt,!1,dt,it);ot._setVertexUniform(Je,"u_gpuio_positions",(0,le.indexOfLayerInArray)(tt,dt),ne.INT);var Ne=this._width,ke=this._height;re.useOutputScale&&(Ze=this._widthHeightForOutput(ot.name,it),Ne=Ze.width,ke=Ze.height),ot._setVertexUniform(Je,"u_gpuio_scale",[1/Ne,1/ke],ne.FLOAT);var Ie=re.pointSize||1;ot._setVertexUniform(Je,"u_gpuio_pointSize",Ie,ne.FLOAT);var Ce=[tt.width,tt.height];if(ot._setVertexUniform(Je,"u_gpuio_positionsDimensions",Ce,ne.FLOAT),Me===ne.GLSL1){if(this._pointIndexBuffer===void 0||ge&&ge.length<qe){var ze=(0,le.initSequentialFloatArray)(st);this._pointIndexArray=ze,this._pointIndexBuffer=this._initVertexBuffer(ze)}Ye.bindBuffer(Ye.ARRAY_BUFFER,this._pointIndexBuffer),this._setIndexAttribute(Je,ot.name)}this._setBlendMode(re.blendAlpha),Ye.drawArrays(Ye.POINTS,0,qe),this._drawFinish(re)}}},ye.prototype.drawLayerAsVectorField=function(re){var Ze=["layer","program","input","output","vectorSpacing","vectorScale","color","blendAlpha"],Ge=["layer"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.drawLayerAsVectorField(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.drawLayerAsVectorField(params)"),!this._iterateOverOutputsIfNeeded(re,"drawLayerAsVectorField")){var Te=this,xe=Te.gl,Ye=Te._vectorFieldIndexArray,ge=Te._width,Me=Te._height,je=Te.glslVersion,tt=Te._errorState,it=re.layer,st=re.output;if(!tt){if(it.numComponents!==2)throw new Error('GPUComposer.drawLayerAsVectorField() must be passed a fieldLayer with 2 components, got fieldLayer "'.concat(it.name,'" with ').concat(it.numComponents," components."));var qe=re.program;if(qe===void 0){qe=this._setValueProgramForType(ne.FLOAT);var ot=re.color||[1,0,0];if(ot.length!==3)throw new Error("color parameter must have length 3, got ".concat(JSON.stringify(ot),"."));qe.setUniform("u_value",ee(ee([],ot,!0),[1],!1),ne.FLOAT)}var ut=this._addLayerToInputs(it,re.input),dt=this._drawSetup(qe,ne.LAYER_VECTOR_FIELD_PROGRAM_NAME,{},!1,ut,st);qe._setVertexUniform(dt,"u_gpuio_vectors",(0,le.indexOfLayerInArray)(it,ut),ne.INT);var mt=re.vectorScale||1;qe._setVertexUniform(dt,"u_gpuio_scale",[mt/ge,mt/Me],ne.FLOAT);var Je=re.vectorSpacing||10,Ne=[Math.floor(ge/Je),Math.floor(Me/Je)];qe._setVertexUniform(dt,"u_gpuio_dimensions",Ne,ne.FLOAT);var ke=2*Ne[0]*Ne[1];if(je===ne.GLSL1){if(this._vectorFieldIndexBuffer===void 0||Ye&&Ye.length<ke){var Ie=(0,le.initSequentialFloatArray)(ke);this._vectorFieldIndexArray=Ie,this._vectorFieldIndexBuffer=this._initVertexBuffer(Ie)}xe.bindBuffer(xe.ARRAY_BUFFER,this._vectorFieldIndexBuffer),this._setIndexAttribute(dt,qe.name)}this._setBlendMode(re.blendAlpha),xe.drawArrays(xe.LINES,0,ke),this._drawFinish(re)}}},ye.prototype.drawLayerAsMesh=function(re){var Ze,Ge=["layer","indices","program","input","output","useOutputScale","color","blendAlpha"],ve=["layer"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.drawLayerAsMesh(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.drawLayerAsMesh(params)"),!this._iterateOverOutputsIfNeeded(re,"drawLayerAsMesh")){var xe=this,Ye=xe.gl,ge=xe._width,Me=xe._height,je=xe.glslVersion,tt=xe._errorState,it=xe._meshIndexBuffer,st=xe._meshIndexArray,qe=re.layer,ot=re.output;if(!tt){if(qe.numComponents!==2&&qe.numComponents!==4)throw new Error('GPUComposer.drawLayerAsMesh() must be passed a layer parameter with either 2 or 4 components, got position GPULayer "'.concat(qe.name,'" with ').concat(qe.numComponents," components."));var ut=qe.is1D()?qe.length:qe.width*qe.height;je===ne.GLSL1&&ut>ne.MAX_FLOAT_INT&&console.warn("Mesh positions array length: ".concat(ut," is longer than what is supported by GLSL1 : ").concat(ne.MAX_FLOAT_INT,"."));var dt=re.program;if(dt===void 0){dt=this._setValueProgramForType(ne.FLOAT);var mt=re.color||[1,0,0];if(mt.length!==3)throw new Error("Color parameter must have length 3, got ".concat(JSON.stringify(mt),"."));dt.setUniform("u_value",ee(ee([],mt,!0),[1],!1),ne.FLOAT)}var Je=this._addLayerToInputs(qe,re.input),Ne={};qe.numComponents===4&&(Ne[ne.GPUIO_VS_POSITION_W_ACCUM]="1");var ke=this._drawSetup(dt,ne.LAYER_MESH_PROGRAM_NAME,Ne,!1,Je,ot);dt._setVertexUniform(ke,"u_gpuio_positions",(0,le.indexOfLayerInArray)(qe,Je),ne.INT);var Ie=ge,Ce=Me;re.useOutputScale&&(Ze=this._widthHeightForOutput(dt.name,ot),Ie=Ze.width,Ce=Ze.height),dt._setVertexUniform(ke,"u_gpuio_scale",[1/Ie,1/Ce],ne.FLOAT);var ze=[qe.width,qe.height];if(dt._setVertexUniform(ke,"u_gpuio_positionsDimensions",ze,ne.FLOAT),je===ne.GLSL1){if(it===void 0||st&&st.length<ut){var Ee=(0,le.initSequentialFloatArray)(ut);this._meshIndexArray=Ee,this._meshIndexBuffer=this._initVertexBuffer(Ee)}Ye.bindBuffer(Ye.ARRAY_BUFFER,this._meshIndexBuffer),this._setIndexAttribute(ke,dt.name)}if(this._setBlendMode(re.blendAlpha),re.indices){var _e=re.indices,He=_e.glType,Pe=_e.count,$e=_e.buffer;Ye.bindBuffer(Ye.ELEMENT_ARRAY_BUFFER,$e);var we=0;Ye.drawElements(Ye.TRIANGLES,Pe,He,we)}else Ye.drawArrays(Ye.TRIANGLES,0,ut);this._drawFinish(re)}}},Object.defineProperty(ye.prototype,"clearValue",{get:function(){return this._clearValue},set:function(re){var Ze=ne.FLOAT,Ge=4;if(!(0,Xe.isValidClearValue)(re,Ge,Ze))throw new Error("Invalid clearValue: ".concat(JSON.stringify(re)," for GPUComposer, expected ").concat(Ze," or array of ").concat(Ze," of length ").concat(Ge,"."));this._clearValue=(0,te.isArray)(re)?re.slice():re,this._clearValueVec4=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(ye.prototype,"clearValueVec4",{get:function(){var re=this._clearValueVec4;if(!re){var Ze=this.clearValue;if(re=[],(0,te.isFiniteNumber)(Ze))re.push(Ze,Ze,Ze,Ze);else{re.push.apply(re,Ze);for(var Ge=re.length;Ge<4;Ge++)re.push(0)}this._clearValueVec4=re}return re},enumerable:!1,configurable:!0}),ye.prototype.clear=function(){var re=this,Ze=re.verboseLogging,Ge=re.clearValueVec4;Ze&&console.log("Clearing GPUComoser.");var ve=this._setValueProgramForType(ne.FLOAT);ve.setUniform("u_value",Ge),this.step({program:ve})},ye.prototype.undoThreeState=function(){var re=this,Ze=re.gl,Ge=re._threeRenderer,ve=re.isWebGL2;if(!Ge)throw new Error("Can't call undoThreeState() on a GPUComposer that was not inited with GPUComposer.initWithThreeRenderer().");if(Ze.disable(Ze.BLEND),Ge)if(ve)Ze.bindVertexArray(null);else{var Te=(0,fe.getExtension)(this,fe.OES_VERTEX_ARRAY_OBJECT,!0);Te.bindVertexArrayOES(null)}},ye.prototype.resetThreeState=function(){var re=this,Ze=re.gl,Ge=re._threeRenderer;if(!Ge)throw new Error("Can't call resetThreeState() on a GPUComposer that was not inited with GPUComposer.initWithThreeRenderer().");var ve=Ge.getViewport(new ce.Vector4);Ze.viewport(ve.x,ve.y,ve.width,ve.height),Ge.resetState()},ye.prototype.savePNG=function(re){re===void 0&&(re={});var Ze=["filename","dpi","callback"],Ge=Object.keys(re);(0,Xe.checkValidKeys)(Ge,Ze,"GPUComposer.savePNG(params)");var ve=this.canvas,Te=re.filename||"output",xe=re.callback||saveAs;ve.toBlob(function(Ye){if(!Ye){console.warn("Problem saving PNG, unable to init blob from canvas.");return}re.dpi?(0,q.changeDpiBlob)(Ye,re.dpi).then(function(ge){xe(ge,"".concat(Te,".png"))}):xe(Ye,"".concat(Te,".png"))},"image/png")},ye.prototype.tick=function(){this._numTicks+=1;var re=this,Ze=re._lastTickTime,Ge=re._lastTickFPS,ve=performance.now();if(this._lastTickTime=ve,!Ze)return{fps:0,numTicks:this._numTicks};var Te=1e3/(ve-Ze);Ge||(Ge=Te);var xe=.9,Ye=Number.parseFloat((xe*Ge+(1-xe)*Te).toFixed(1));return this._lastTickFPS=Ye,{fps:Ye,numTicks:this._numTicks}},Object.defineProperty(ye.prototype,"numTicks",{get:function(){return this._numTicks},enumerable:!1,configurable:!0}),ye.prototype.dispose=function(){var re=this,Ze,Ge=this,ve=Ge.gl,Te=Ge.verboseLogging;Te&&console.log("Deallocating GPUComposer."),this._quadPositionsBuffer&&(ve.deleteBuffer(this._quadPositionsBuffer),delete this._quadPositionsBuffer),this._boundaryPositionsBuffer&&(ve.deleteBuffer(this._boundaryPositionsBuffer),delete this._boundaryPositionsBuffer),Object.keys(this._circlePositionsBuffer).forEach(function(xe){ve.deleteBuffer(re._circlePositionsBuffer[xe])}),delete this._circlePositionsBuffer,delete this._pointIndexArray,this._pointIndexBuffer&&(ve.deleteBuffer(this._pointIndexBuffer),delete this._pointIndexBuffer),delete this._vectorFieldIndexArray,this._vectorFieldIndexBuffer&&(ve.deleteBuffer(this._vectorFieldIndexBuffer),delete this._vectorFieldIndexBuffer),this._indexedLinesIndexBuffer&&(ve.deleteBuffer(this._indexedLinesIndexBuffer),delete this._indexedLinesIndexBuffer),Object.keys(this._vertexAttributeLocations).forEach(function(xe){delete re._vertexAttributeLocations[xe]}),delete this._vertexAttributeLocations,delete this._enabledVertexAttributes,Object.values(this._vertexShaders).forEach(function(xe){var Ye=xe.compiledShaders;Object.keys(Ye).forEach(function(ge){ve.deleteShader(Ye[ge]),delete Ye[ge]})}),delete this._vertexShaders,Object.values(this._copyPrograms).forEach(function(xe){xe.dispose()}),Object.keys(this._copyPrograms).forEach(function(xe){delete re._copyPrograms[xe]}),delete this._copyPrograms,Object.values(this._setValuePrograms).forEach(function(xe){xe.dispose()}),Object.keys(this._setValuePrograms).forEach(function(xe){delete re._setValuePrograms[xe]}),delete this._setValuePrograms,(Ze=this._wrappedLineColorProgram)===null||Ze===void 0||Ze.dispose(),delete this._wrappedLineColorProgram,delete this._threeRenderer,delete this.gl,delete this.canvas,delete this._errorCallback,delete this._extensions,delete this._errorState,delete this.verboseLogging,delete this._numTicks,delete this.isWebGL2,delete this.glslVersion,delete this.intPrecision,delete this.floatPrecision,delete this._width,delete this._height,delete this._clearValue,delete this._clearValueVec4},ye}();Y.GPUComposer=Re},981:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPUIndexBuffer=void 0;var Q=D(566),ee=D(650),q=D(707),te=D(581),ie=function(){function ne(ce,le){if(this._composer=ce,!le)throw new Error("Error initing GPUIndexBuffer: must pass params to GPUIndexBuffer(composer, params).");if(!(0,Q.isObject)(le))throw new Error("Error initing GPUIndexBuffer: must pass valid params object to GPUIndexBuffer(composer, params), got ".concat(JSON.stringify(le),"."));var se=["indices","name"],pe=["indices"],ue=Object.keys(le);(0,q.checkValidKeys)(ue,se,"GPUIndexBuffer(composer, params)",le.name),(0,q.checkRequiredKeys)(ue,pe,"GPUIndexBuffer(composer, params)",le.name);var ae=le.indices,de=ce.gl,be=ce.isWebGL2,he=de.createBuffer();de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,he),(0,ee.isTypedArray)(ae)||(ae=new Uint32Array(ae));var Le;switch(ae.constructor){case Uint8Array:Le=de.UNSIGNED_BYTE;break;case Uint16Array:Le=de.UNSIGNED_SHORT;break;case Uint32Array:if(!be){var Xe=(0,te.getExtension)(ce,te.OES_ELEMENT_INDEX_UINT,!0);if(!Xe){Le=de.UNSIGNED_SHORT,ae=Uint16Array.from(ae);break}}Le=de.UNSIGNED_INT;break}de.bufferData(de.ELEMENT_ARRAY_BUFFER,ae,de.STATIC_DRAW),this.buffer=he,this.glType=Le,this.count=ae.length}return ne.prototype.dispose=function(){var ce=this,le=ce._composer,se=ce.buffer;le.gl.deleteBuffer(se),delete this._composer,delete this.buffer,delete this.glType,delete this.count},ne}();Y.GPUIndexBuffer=ie},355:function(J,Y,D){var Q=this&&this.__awaiter||function(de,be,he,Le){function Xe(We){return We instanceof he?We:new he(function(fe){fe(We)})}return new(he||(he=Promise))(function(We,fe){function Re(Ze){try{re(Le.next(Ze))}catch(Ge){fe(Ge)}}function ye(Ze){try{re(Le.throw(Ze))}catch(Ge){fe(Ge)}}function re(Ze){Ze.done?We(Ze.value):Xe(Ze.value).then(Re,ye)}re((Le=Le.apply(de,be||[])).next())})},ee=this&&this.__generator||function(de,be){var he={label:0,sent:function(){if(We[0]&1)throw We[1];return We[1]},trys:[],ops:[]},Le,Xe,We,fe;return fe={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Re(re){return function(Ze){return ye([re,Ze])}}function ye(re){if(Le)throw new TypeError("Generator is already executing.");for(;he;)try{if(Le=1,Xe&&(We=re[0]&2?Xe.return:re[0]?Xe.throw||((We=Xe.return)&&We.call(Xe),0):Xe.next)&&!(We=We.call(Xe,re[1])).done)return We;switch(Xe=0,We&&(re=[re[0]&2,We.value]),re[0]){case 0:case 1:We=re;break;case 4:return he.label++,{value:re[1],done:!1};case 5:he.label++,Xe=re[1],re=[0];continue;case 7:re=he.ops.pop(),he.trys.pop();continue;default:if(We=he.trys,!(We=We.length>0&&We[We.length-1])&&(re[0]===6||re[0]===2)){he=0;continue}if(re[0]===3&&(!We||re[1]>We[0]&&re[1]<We[3])){he.label=re[1];break}if(re[0]===6&&he.label<We[1]){he.label=We[1],We=re;break}if(We&&he.label<We[2]){he.label=We[2],he.ops.push(re);break}We[2]&&he.ops.pop(),he.trys.pop();continue}re=be.call(de,he)}catch(Ze){re=[6,Ze],Xe=0}finally{Le=We=0}if(re[0]&5)throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPULayer=void 0;var q=D(650),te=D(566),ie=D(809),ne=D(162),ce=D(707),le=D(601),se=D(593),pe=D(798),ue=D(690),ae=function(){function de(be,he){this._clearValue=0,this._bufferIndex=0,this._buffers=[];var Le=(he||{}).name;if(!be)throw new Error('Error initing GPULayer "'.concat(Le,'": must pass GPUComposer instance to GPULayer(composer, params).'));if(!he)throw new Error("Error initing GPULayer: must pass params to GPULayer(composer, params).");if(!(0,te.isObject)(he))throw new Error("Error initing GPULayer: must pass valid params object to GPULayer(composer, params), got ".concat(JSON.stringify(he),"."));var Xe=["name","type","numComponents","dimensions","filter","wrapX","wrapY","numBuffers","clearValue","array"],We=["name","type","numComponents","dimensions"],fe=Object.keys(he);(0,ce.checkValidKeys)(fe,Xe,"GPULayer(composer, params)",he.name),(0,ce.checkRequiredKeys)(fe,We,"GPULayer(composer, params)",he.name);var Re=he.dimensions,ye=he.type,re=he.numComponents,Ze=be.gl;if(this._composer=be,this.name=Le,!(0,te.isPositiveInteger)(re)||re>4)throw new Error("Invalid numComponents: ".concat(JSON.stringify(re),' for GPULayer "').concat(Le,'", must be number in range [1-4].'));this.numComponents=re;var Ge=de.calcGPULayerSize(Re,Le,be.verboseLogging),ve=Ge.length,Te=Ge.width,xe=Ge.height;this._length=ve,this._width=Te,this._height=xe;var Ye=ve===void 0&&(ye===le.FLOAT||ye==le.HALF_FLOAT)?le.LINEAR:le.NEAREST,ge=he.filter!==void 0?he.filter:Ye;if(!(0,ce.isValidFilter)(ge))throw new Error("Invalid filter: ".concat(JSON.stringify(ge),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validFilters),"."));if(ge===le.LINEAR&&!(ye===le.FLOAT||ye==le.HALF_FLOAT))throw new Error('LINEAR filtering is not supported on integer types, please use NEAREST filtering for GPULayer "'.concat(Le,'" with type: ').concat(ye,"."));this.filter=ge;var Me=he.wrapX!==void 0?he.wrapX:le.CLAMP_TO_EDGE;if(!(0,ce.isValidWrap)(Me))throw new Error("Invalid wrapX: ".concat(JSON.stringify(Me),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validWraps),"."));this.wrapX=Me;var je=he.wrapY!==void 0?he.wrapY:le.CLAMP_TO_EDGE;if(!(0,ce.isValidWrap)(je))throw new Error("Invalid wrapY: ".concat(JSON.stringify(je),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validWraps),"."));if(this.wrapY=je,!(0,ce.isValidDataType)(ye))throw new Error("Invalid type: ".concat(JSON.stringify(ye),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validDataTypes),"."));this.type=ye;var tt=de.getGPULayerInternalType({composer:be,type:ye,name:Le});this._internalType=tt;var it=de.getGLTextureParameters({composer:be,name:Le,numComponents:re,internalType:tt}),st=it.glFormat,qe=it.glInternalFormat,ot=it.glType,ut=it.glNumChannels;this._glInternalFormat=qe,this._glFormat=st,this._glType=ot,this._glNumChannels=ut;var dt=de.getGPULayerInternalFilter({composer:be,filter:ge,wrapX:Me,wrapY:je,internalType:tt,name:Le});this._internalFilter=dt,this._glFilter=Ze[dt],this._internalWrapX=de.getGPULayerInternalWrap({composer:be,wrap:Me,internalFilter:dt,internalType:tt,name:Le}),this._glWrapS=Ze[this._internalWrapX],this._internalWrapY=de.getGPULayerInternalWrap({composer:be,wrap:je,internalFilter:dt,internalType:tt,name:Le}),this._glWrapT=Ze[this._internalWrapY];var mt=he.numBuffers!==void 0?he.numBuffers:1;if(!(0,te.isPositiveInteger)(mt))throw new Error("Invalid numBuffers: ".concat(JSON.stringify(mt),' for GPULayer "').concat(Le,'", must be positive integer.'));this.numBuffers=mt,he.clearValue!==void 0&&(this.clearValue=he.clearValue),this._initBuffers(he.array)}return de.initFromImageURL=function(be,he){return Q(this,void 0,void 0,function(){return ee(this,function(Le){return[2,new Promise(function(Xe,We){if(!he)throw new Error("Error initing GPULayer: must pass params to GPULayer.initFromImageURL(composer, params).");if(!(0,te.isObject)(he))throw new Error("Error initing GPULayer: must pass valid params object to GPULayer.initFromImageURL(composer, params), got ".concat(JSON.stringify(he),"."));var fe=["name","url","filter","wrapX","wrapY","format","type","clearValue"],Re=["name","url"],ye=Object.keys(he);(0,ce.checkValidKeys)(ye,fe,"GPULayer.initFromImageURL(composer, params)",he.name),(0,ce.checkRequiredKeys)(ye,Re,"GPULayer.initFromImageURL(composer, params)",he.name);var re=he.url,Ze=he.name,Ge=he.filter,ve=he.wrapX,Te=he.wrapY,xe=he.type,Ye=he.format;if(!(0,te.isString)(re))throw new Error("Expected GPULayer.initFromImageURL params to have url of type string, got ".concat(re," of type ").concat(typeof re,"."));if(xe&&!(0,ce.isValidImageType)(xe))throw new Error('Invalid type: "'.concat(xe,'" for GPULayer.initFromImageURL "').concat(Ze,'", must be one of ').concat(JSON.stringify(le.validImageTypes),"."));if(Ye&&!(0,ce.isValidImageFormat)(Ye))throw new Error('Invalid format: "'.concat(Ye,'" for GPULayer.initFromImageURL "').concat(Ze,'", must be one of ').concat(JSON.stringify(le.validImageFormats),"."));var ge=new de(be,{name:Ze,type:xe||le.FLOAT,numComponents:Ye?Ye.length:4,dimensions:[1,1],filter:Ge,wrapX:ve,wrapY:Te,numBuffers:1,clearValue:he.clearValue}),Me=new Image;Me.onload=function(){ge.resize([Me.width,Me.height],Me),Xe(ge)},Me.onerror=function(je){We(new Error('Error loading image "'.concat(Ze,'": ').concat(je)))},Me.src=re})]})})},Object.defineProperty(de.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"length",{get:function(){if(!this._length)throw new Error('Cannot access length on 2D GPULayer "'.concat(this.name,'".'));return this._length},enumerable:!1,configurable:!0}),de.prototype.is1D=function(){return this._length!==void 0},de.prototype.is2D=function(){return!this.is1D()},de.prototype._usingTextureOverrideForCurrentBuffer=function(){return!!(this._textureOverrides&&this._textureOverrides[this.bufferIndex])},de.prototype.copyCurrentStateToGPULayer=function(be){var he=this._composer;if(this===be)throw new Error("Can't call GPULayer.copyCurrentStateToGPULayer() on self.");var Le=he._copyProgramForType(this._internalType);he.step({program:Le,input:this,output:be})},de.prototype._initBuffers=function(be){var he=this,Le=he.name,Xe=he.numBuffers,We=he._composer,fe=he._glInternalFormat,Re=he._glFormat,ye=he._glType,re=he._glFilter,Ze=he._glWrapS,Ge=he._glWrapT,ve=he.width,Te=he.height,xe=We.gl,Ye=We._errorCallback,ge=null;(0,te.isArray)(be)?ge=de.validateGPULayerArray(be,this):be?.constructor===HTMLImageElement&&(ge=be);for(var Me=0;Me<Xe;Me++){var je=xe.createTexture();if(!je){Ye('Could not init texture for GPULayer "'.concat(Le,'": ').concat(xe.getError(),"."));return}xe.bindTexture(xe.TEXTURE_2D,je),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_WRAP_S,Ze),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_WRAP_T,Ge),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_MIN_FILTER,re),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_MAG_FILTER,re),xe.texImage2D(xe.TEXTURE_2D,0,fe,ve,Te,0,Re,ye,ge),this._buffers.push(je)}xe.bindTexture(xe.TEXTURE_2D,null),xe.bindFramebuffer(xe.FRAMEBUFFER,null)},Object.defineProperty(de.prototype,"bufferIndex",{get:function(){return this._bufferIndex},enumerable:!1,configurable:!0}),de.prototype.incrementBufferIndex=function(){var be=this.numBuffers;be!==1&&(this._bufferIndex=(this.bufferIndex+1)%be)},de.prototype.decrementBufferIndex=function(){var be=this.numBuffers;be!==1&&(this._bufferIndex=(this.bufferIndex-1+be)%be)},Object.defineProperty(de.prototype,"currentState",{get:function(){return this.getStateAtIndex(this.bufferIndex)},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"_currentTexture",{get:function(){var be=this,he=be._buffers,Le=be._bufferIndex,Xe=be._textureOverrides;return Xe&&Xe[Le]?Xe[Le]:he[Le]},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"lastState",{get:function(){if(this.numBuffers===1)throw new Error('Cannot access lastState on GPULayer "'.concat(this.name,'" with only one buffer.'));return this.getStateAtIndex((this.bufferIndex-1+this.numBuffers)%this.numBuffers)},enumerable:!1,configurable:!0}),de.prototype.getStateAtIndex=function(be){var he=this,Le=he.numBuffers,Xe=he._textureOverrides,We=he._buffers;be<0&&be>-Le&&(be+=Le),(be<0||be>=Le)&&(console.warn("Out of range buffer index: ".concat(be,' for GPULayer "').concat(this.name,'" with $.numBuffers} buffer').concat(Le>1?"s":"",".  Was this intentional?")),be<0?be+=Le*Math.ceil(Math.abs(be)/Le):be=be%Le);var fe=We[be];return Xe&&Xe[be]&&(fe=Xe[be]),{texture:fe,layer:this}},de.prototype._prepareForWrite=function(be){be&&this.incrementBufferIndex(),this._textureOverrides&&(this._textureOverrides[this.bufferIndex]=void 0)},de.prototype.setFromArray=function(be){var he=this,Le=he._composer,Xe=he._glInternalFormat,We=he._glFormat,fe=he._glType,Re=he.width,ye=he.height,re=he._currentTexture,Ze=Le.gl,Ge=de.validateGPULayerArray(be,this);Ze.bindTexture(Ze.TEXTURE_2D,re),Ze.texImage2D(Ze.TEXTURE_2D,0,Xe,Re,ye,0,We,fe,Ge),Ze.bindTexture(Ze.TEXTURE_2D,null)},de.prototype.setAtIndex2D=function(be,he,Le){var Xe=this,We=Xe._composer,fe=Xe.width,Re=Xe.height,ye=Xe._currentTexture,re=We.gl;if(be<0||be>=fe||he<0||he>=Re)throw new Error("Invalid coordinates [".concat(be,", ").concat(he,'] for GPULayer "').concat(this.name,'" with dimensions [').concat(fe,", ").concat(Re,"]."));var Ze=de.validateGPULayerArray(Le,this,1);re.bindTexture(re.TEXTURE_2D,ye),re.texSubImage2D(re.TEXTURE_2D,0,be,he,1,1,this._glFormat,this._glType,Ze),re.bindTexture(re.TEXTURE_2D,null)},de.prototype.setAtIndex1D=function(be,he){var Le=this;Le._glInternalFormat,Le._glFormat,Le._glType;var Xe=Le.width,We=Le.height;if(Le._currentTexture,be<0||be>=Xe*We)throw new Error("Invalid index ".concat(be,' for GPULayer "').concat(this.name,'" with dimensions [').concat(Xe,", ").concat(We,"]."));var fe=be%Xe,Re=Math.floor(be/Xe);this.setAtIndex2D(fe,Re,he)},de.prototype.resize=function(be,he){var Le=this,Xe=Le.name,We=Le._composer,fe=We.verboseLogging;fe&&console.log('Resizing GPULayer "'.concat(Xe,'" to ').concat(JSON.stringify(be),"."));var Re=de.calcGPULayerSize(be,Xe,fe),ye=Re.length,re=Re.width,Ze=Re.height;this._length=ye,this._width=re,this._height=Ze,this._destroyBuffers(),this._initBuffers(he)},Object.defineProperty(de.prototype,"clearValue",{get:function(){return this._clearValue},set:function(be){var he=this,Le=he.numComponents,Xe=he.type;if(!(0,ce.isValidClearValue)(be,Le,Xe))throw new Error("Invalid clearValue: ".concat(JSON.stringify(be),' for GPULayer "').concat(this.name,'", expected ').concat(Xe," or array of ").concat(Xe," of length ").concat(Le,"."));this._clearValue=(0,te.isArray)(be)?be.slice():be,this._clearValueVec4=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"clearValueVec4",{get:function(){var be=this._clearValueVec4;if(!be){var he=this.clearValue;if(be=[],(0,te.isFiniteNumber)(he))be.push(he,he,he,he);else{be.push.apply(be,he);for(var Le=be.length;Le<4;Le++)be.push(0)}this._clearValueVec4=be}return be},enumerable:!1,configurable:!0}),de.prototype.clear=function(be){be===void 0&&(be=!1);var he=this,Le=he.name,Xe=he._composer,We=he.clearValueVec4,fe=he.numBuffers,Re=he.type,ye=Xe.verboseLogging;ye&&console.log('Clearing GPULayer "'.concat(Le,'".'));var re=Xe._setValueProgramForType(Re);re.setUniform("u_value",We),this.decrementBufferIndex();for(var Ze=be?fe:1,Ge=0;Ge<Ze;Ge++)Xe.step({program:re,output:this});be&&this.incrementBufferIndex()},de.prototype._getValuesSetup=function(){var be=this,he=be.width,Le=be.height,Xe=be._composer,We=be._currentTexture,fe=this._valuesRaw,Re=Xe.gl;(0,pe.bindFrameBuffer)(Xe,this,We);var ye=this,re=ye._glNumChannels,Ze=ye._glType,Ge=ye._glFormat,ve=ye._internalType;switch(ve){case le.HALF_FLOAT:Re.FLOAT!==void 0?(re=4,Ge=Re.RGBA,Ze=Re.FLOAT,fe=fe||new Float32Array(he*Le*re)):fe=fe||new Uint16Array(he*Le*re);break;case le.FLOAT:re=4,Ge=Re.RGBA,fe=fe||new Float32Array(he*Le*re);break;case le.UNSIGNED_BYTE:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.UNSIGNED_INT,fe=fe||new Uint32Array(he*Le*re);break;case le.UNSIGNED_SHORT:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.UNSIGNED_INT,fe=fe||new Uint32Array(he*Le*re);break;case le.UNSIGNED_INT:re=4,Ge=Re.RGBA_INTEGER,fe=fe||new Uint32Array(he*Le*re);break;case le.BYTE:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.INT,fe=fe||new Int32Array(he*Le*re);break;case le.SHORT:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.INT,fe=fe||new Int32Array(he*Le*re);break;case le.INT:re=4,Ge=Re.RGBA_INTEGER,fe=fe||new Int32Array(he*Le*re);break;default:throw new Error("Unsupported internalType ".concat(ve," for getValues()."))}if(this._valuesRaw=fe,(0,se.readyToRead)(Re))return{_glFormat:Ge,_glType:Ze,_valuesRaw:fe,_glNumChannels:re,_internalType:ve};throw new Error("Unable to read values from Buffer with status: ".concat(Re.checkFramebufferStatus(Re.FRAMEBUFFER),"."))},de.prototype._getValuesPost=function(be,he,Le){var Xe=this,We=Xe.width,fe=Xe.height,Re=Xe.numComponents,ye=Xe.type,re=(this._length?this._length:We*fe)*Re,Ze=Le===le.HALF_FLOAT&&be.constructor===Uint16Array,Ge=this._valuesBufferView;Ze&&!Ge&&(Ge=new DataView(be.buffer),this._valuesBufferView=Ge),be.length===re&&(0,ue.arrayConstructorForType)(ye,!0)===be.constructor?this._values=be:this._values||(this._values=de.initArrayForType(ye,re,!0));var ve=this._values;if(Ge||ve!==be||Re!==he)for(var Te=0,xe=We*fe;Te<xe;Te++){var Ye=Te*he,ge=Te*Re;if(ge>=re)break;for(var Me=0;Me<Re;Me++)Ge?ve[ge+Me]=(0,q.getFloat16)(Ge,2*(Ye+Me),!0):ve[ge+Me]=be[Ye+Me]}return ve},de.prototype.getValues=function(){var be=this,he=be.width,Le=be.height,Xe=be._composer,We=Xe.gl,fe=this._getValuesSetup(),Re=fe._glFormat,ye=fe._glType,re=fe._valuesRaw,Ze=fe._glNumChannels,Ge=fe._internalType;return We.readPixels(0,0,he,Le,Re,ye,re),this._getValuesPost(re,Ze,Ge)},de.prototype.getValuesAsync=function(){return Q(this,void 0,void 0,function(){var be,he,Le,Xe,We,fe,Re,ye,re,Ze,Ge,ve;return ee(this,function(Te){switch(Te.label){case 0:return be=this,he=be.width,Le=be.height,Xe=be._composer,We=Xe.gl,fe=Xe.isWebGL2,fe?(Re=this._getValuesSetup(),ye=Re._glFormat,re=Re._glType,Ze=Re._valuesRaw,Ge=Re._glNumChannels,ve=Re._internalType,[4,(0,se.readPixelsAsync)(We,0,0,he,Le,ye,re,Ze)]):[2,this.getValues()];case 1:return Te.sent(),[2,this._getValuesPost(Ze,Ge,ve)]}})})},de.prototype._getCanvasWithImageData=function(be){var he=this.getValues(),Le=this,Xe=Le.width,We=Le.height,fe=Le.numComponents,Re=Le.type;be=be||(Re===le.FLOAT||Re===le.HALF_FLOAT?255:1);var ye=document.createElement("canvas");ye.width=Xe,ye.height=We;for(var re=ye.getContext("2d"),Ze=re.getImageData(0,0,Xe,We),Ge=Ze.data,ve=0;ve<We;ve++)for(var Te=0;Te<Xe;Te++){for(var xe=ve*Xe+Te,Ye=(We-1-ve)*Xe+Te,ge=0;ge<fe;ge++)Ge[4*Ye+ge]=he[fe*xe+ge]*be;fe===1&&(Ge[4*Ye+1]=Ge[4*Ye],Ge[4*Ye+2]=Ge[4*Ye]),fe<4&&(Ge[4*Ye+3]=255)}return re.putImageData(Ze,0,0),ye},de.prototype.getImage=function(be){if(be){var he=["multiplier"],Le=Object.keys(be);(0,ce.checkValidKeys)(Le,he,"GPULayer.getImage(params)")}var Xe=this._getCanvasWithImageData(be&&be.multiplier),We=new Image;return We.src=Xe.toDataURL(),We},de.prototype.savePNG=function(be){be===void 0&&(be={});var he=["filename","dpi","multiplier","callback"],Le=Object.keys(be);(0,ce.checkValidKeys)(Le,he,"GPULayer.savePNG(params)");var Xe=this.name,We=be.callback||ne.saveAs,fe=be.filename||Xe,Re=this._getCanvasWithImageData(be.multiplier);Re.toBlob(function(ye){if(!ye){console.warn('Problem saving PNG from GPULayer "'.concat(Xe,'", unable to init blob.'));return}be.dpi?(0,ie.changeDpiBlob)(ye,be.dpi).then(function(re){We(re,"".concat(fe,".png"))}):We(ye,"".concat(fe,".png"))},"image/png")},de.prototype.attachToThreeTexture=function(be){var he=this,Le=he._composer,Xe=he.numBuffers,We=he.currentState,fe=he.name,Re=Le._threeRenderer,ye=Le.gl;if(!Re)throw new Error("GPUComposer was not inited with a renderer.");if(Xe>1)throw new Error('GPULayer "'.concat(fe,'" contains multiple WebGL textures (one for each buffer) that are flip-flopped during compute cycles, please choose a GPULayer with one buffer.  You can copy the current state of this GPULayer to a single buffer GPULayer during your render loop.'));var re=Re.properties.get(be);ye.deleteTexture(re.__webglTexture),re.__webglTexture=We.texture,re.__webglInit=!0},de.prototype._destroyBuffers=function(){var be=this,he=be._composer,Le=be._buffers,Xe=he.gl;Le.forEach(function(We){Xe.deleteTexture(We),(0,pe.disposeFramebuffers)(Xe,We)}),Le.length=0,delete this._textureOverrides},de.prototype.clone=function(be){return this._composer._cloneGPULayer(this,be)},de.prototype.dispose=function(){var be=this,he=be.name,Le=be._composer,Xe=Le.gl,We=Le.verboseLogging;if(We&&console.log('Deallocating GPULayer "'.concat(he,'".')),!Xe)throw new Error("Must call dispose() on all GPULayers before calling dispose() on GPUComposer.");this._destroyBuffers(),delete this._buffers,delete this._composer,this._values&&delete this._values,this._valuesRaw&&delete this._valuesRaw},de}();Y.GPULayer=ae},191:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.minMaxValuesForType=Y.testFilterWrap=Y.testWriteSupport=Y.shouldCastIntTypeAsFloat=void 0;var Q=D(566),ee=D(650),q=D(601),te=D(690),ie=D(581),ne=D(798),ce=D(355),le=D(593),se={writeSupport:{},filterWrapSupport:{}};ce.GPULayer.initArrayForType=function(be,he,Le){return Le===void 0&&(Le=!1),new((0,te.arrayConstructorForType)(be,Le))(he)},ce.GPULayer.calcGPULayerSize=function(be,he,Le){if((0,Q.isNumber)(be)){if(!(0,Q.isPositiveInteger)(be))throw new Error("Invalid length: ".concat(JSON.stringify(be),' for GPULayer "').concat(he,'", must be positive integer.'));var Xe=be,We=Math.ceil(Math.sqrt(Xe)),fe=Math.ceil(Xe/We);return Le&&console.log("Using [".concat(We,", ").concat(fe,"] for 1D array of length ").concat(be,' in GPULayer "').concat(he,'".')),{width:We,height:fe,length:Xe}}var Re=be[0];if(!(0,Q.isPositiveInteger)(Re))throw new Error("Invalid width: ".concat(JSON.stringify(Re),' for GPULayer "').concat(he,'", must be positive integer.'));var ye=be[1];if(!(0,Q.isPositiveInteger)(ye))throw new Error("Invalid height: ".concat(JSON.stringify(ye),' for GPULayer "').concat(he,'", must be positive integer.'));return{width:Re,height:ye}},ce.GPULayer.getGPULayerInternalWrap=function(be){var he=be.composer,Le=be.wrap,Xe=be.internalFilter,We=be.internalType;return Le===q.CLAMP_TO_EDGE||ae(he,We,Xe,Le)?Le:q.CLAMP_TO_EDGE},ce.GPULayer.getGPULayerInternalFilter=function(be){var he=be.filter;if(he===q.NEAREST)return he;var Le=be.composer,Xe=be.internalType,We=be.wrapX,fe=be.wrapY,Re=be.name;if(Xe===q.HALF_FLOAT){var ye=(0,ie.getExtension)(Le,ie.OES_TEXTURE_HAlF_FLOAT_LINEAR,!0)||(0,ie.getExtension)(Le,ie.OES_TEXTURE_FLOAT_LINEAR,!0);(!ye||!ae(Le,Xe,he,We)||!ae(Le,Xe,he,fe))&&(console.warn("This browser does not support ".concat(he," filtering for type ").concat(Xe," and wrap [").concat(We,", ").concat(fe,'].  Falling back to NEAREST filter for GPULayer "').concat(Re,'" with ').concat(he," polyfill in fragment shader.")),he=q.NEAREST)}if(Xe===q.FLOAT){var ye=(0,ie.getExtension)(Le,ie.OES_TEXTURE_FLOAT_LINEAR,!0);(!ye||!ae(Le,Xe,he,We)||!ae(Le,Xe,he,fe))&&(console.warn("This browser does not support ".concat(he," filtering for type ").concat(Xe," and wrap [").concat(We,", ").concat(fe,'].  Falling back to NEAREST filter for GPULayer "').concat(Re,'" with ').concat(he," polyfill in fragment shader.")),he=q.NEAREST)}return he};function pe(be,he){var Le=be.glslVersion,Xe=be.isWebGL2;return Le===q.GLSL3&&Xe?!1:he===q.UNSIGNED_BYTE||he===q.BYTE||he===q.SHORT||he===q.INT||he===q.UNSIGNED_SHORT||he===q.UNSIGNED_INT}Y.shouldCastIntTypeAsFloat=pe,ce.GPULayer.getGLTextureParameters=function(be){var he=be.composer,Le=be.name,Xe=be.numComponents,We=be.internalType,fe=he.gl,Re=he.glslVersion,ye=he.isWebGL2,re,Ze,Ge,ve;if(ye){if(ve=Xe,Xe===3&&(ve=4),We===q.FLOAT||We===q.HALF_FLOAT)switch(ve){case 1:Ze=fe.RED;break;case 2:Ze=fe.RG;break;case 4:Ze=fe.RGBA;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}else switch(ve){case 1:Ze=fe.RED_INTEGER;break;case 2:Ze=fe.RG_INTEGER;break;case 4:Ze=fe.RGBA_INTEGER;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}switch(We){case q.HALF_FLOAT:switch(re=fe.HALF_FLOAT,ve){case 1:Ge=fe.R16F;break;case 2:Ge=fe.RG16F;break;case 4:Ge=fe.RGBA16F;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.FLOAT:switch(re=fe.FLOAT,ve){case 1:Ge=fe.R32F;break;case 2:Ge=fe.RG32F;break;case 4:Ge=fe.RGBA32F;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.UNSIGNED_BYTE:if(re=fe.UNSIGNED_BYTE,Re===q.GLSL1&&We===q.UNSIGNED_BYTE)Ge=Ze;else switch(ve){case 1:Ge=fe.R8UI;break;case 2:Ge=fe.RG8UI;break;case 4:Ge=fe.RGBA8UI;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.BYTE:switch(re=fe.BYTE,ve){case 1:Ge=fe.R8I;break;case 2:Ge=fe.RG8I;break;case 4:Ge=fe.RGBA8I;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.SHORT:switch(re=fe.SHORT,ve){case 1:Ge=fe.R16I;break;case 2:Ge=fe.RG16I;break;case 4:Ge=fe.RGBA16I;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.UNSIGNED_SHORT:switch(re=fe.UNSIGNED_SHORT,ve){case 1:Ge=fe.R16UI;break;case 2:Ge=fe.RG16UI;break;case 4:Ge=fe.RGBA16UI;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.INT:switch(re=fe.INT,ve){case 1:Ge=fe.R32I;break;case 2:Ge=fe.RG32I;break;case 4:Ge=fe.RGBA32I;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.UNSIGNED_INT:switch(re=fe.UNSIGNED_INT,ve){case 1:Ge=fe.R32UI;break;case 2:Ge=fe.RG32UI;break;case 4:Ge=fe.RGBA32UI;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;default:throw new Error('Unsupported type: "'.concat(We,'" for GPULayer "').concat(Le,'".'))}}else{if(Xe<1||Xe>4)throw new Error("Unsupported numComponents: ".concat(Xe,' for GPULayer "').concat(Le,'".'));switch(ve=4,Ze=fe.RGBA,Ge=fe.RGBA,We){case q.FLOAT:re=fe.FLOAT;break;case q.HALF_FLOAT:re=fe.HALF_FLOAT||(0,ie.getExtension)(he,ie.OES_TEXTURE_HALF_FLOAT).HALF_FLOAT_OES;break;default:throw new Error('Unsupported type: "'.concat(We,'" in WebGL 1.0 for GPULayer "').concat(Le,'".'))}}if(re===void 0||Ze===void 0||Ge===void 0){var Te=[];throw re===void 0&&Te.push("glType"),Ze===void 0&&Te.push("glFormat"),Ge===void 0&&Te.push("glInternalFormat"),new Error("Invalid type: ".concat(We," for numComponents: ").concat(Xe,", unable to init parameter").concat(Te.length>1?"s":""," ").concat(Te.join(", "),' for GPULayer "').concat(Le,'".'))}if(ve===void 0||Xe<1||Xe>4||ve<Xe)throw new Error("Invalid numChannels: ".concat(ve," for numComponents: ").concat(Xe,' for GPULayer "').concat(Le,'".'));return{glFormat:Ze,glInternalFormat:Ge,glType:re,glNumChannels:ve}};function ue(be,he){var Le=be.gl,Xe=be.glslVersion,We=be.isWebGL2,fe="".concat(We,",").concat(he,",").concat(Xe===q.GLSL3?"3":"1");if(se.writeSupport[fe]!==void 0)return se.writeSupport[fe];var Re=Le.createTexture();if(!Re)return se.writeSupport[fe]=!1,se.writeSupport[fe];Le.bindTexture(Le.TEXTURE_2D,Re);var ye=Le[q.CLAMP_TO_EDGE],re=Le[q.NEAREST],Ze=10,Ge=10;Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_S,ye),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_T,ye),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MIN_FILTER,re),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MAG_FILTER,re);var ve=ce.GPULayer.getGLTextureParameters({composer:be,name:"testWriteSupport",numComponents:1,internalType:he}),Te=ve.glInternalFormat,xe=ve.glFormat,Ye=ve.glType;Le.texImage2D(Le.TEXTURE_2D,0,Te,Ze,Ge,0,xe,Ye,null);var ge=Le.createFramebuffer();if(!ge)return Le.deleteTexture(Re),se.writeSupport[fe]=!1,se.writeSupport[fe];Le.bindFramebuffer(Le.FRAMEBUFFER,ge),Le.framebufferTexture2D(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_2D,Re,0);var Me=Le.checkFramebufferStatus(Le.FRAMEBUFFER)===Le.FRAMEBUFFER_COMPLETE;return Le.deleteTexture(Re),Le.deleteFramebuffer(ge),se.writeSupport[fe]=Me,se.writeSupport[fe]}Y.testWriteSupport=ue;function ae(be,he,Le,Xe){var We,fe=be.gl,Re=be.glslVersion,ye=be.intPrecision,re=be.floatPrecision,Ze=be._errorCallback,Ge=be.isWebGL2,ve="".concat(Ge,",").concat(he,",").concat(Le,",").concat(Xe,",").concat(Re===q.GLSL3?"3":"1");if(se.filterWrapSupport[ve]!==void 0)return se.filterWrapSupport[ve];var Te=fe.createTexture();if(!Te)return se.filterWrapSupport[ve]=!1,se.filterWrapSupport[ve];fe.bindTexture(fe.TEXTURE_2D,Te);var xe=fe[Xe],Ye=fe[Le],ge=3,Me=3,je=1;fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_S,xe),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_T,xe),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MIN_FILTER,Ye),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MAG_FILTER,Ye);for(var tt=ce.GPULayer.getGLTextureParameters({composer:be,name:"testFilterWrap",numComponents:je,internalType:he}),it=tt.glInternalFormat,st=tt.glFormat,qe=tt.glType,ot=tt.glNumChannels,ut=[3,56.5,834,-53.6,.003,96.2,23,90.2,32],dt=ce.GPULayer.initArrayForType(he,ut.length*ot,!0),mt=0;mt<ut.length;mt++)dt[mt*ot]=ut[mt],ut[mt]=dt[mt*ot];if(he===q.HALF_FLOAT){for(var Je=new Uint16Array(dt.length),Ne=new DataView(Je.buffer),mt=0;mt<dt.length;mt++)(0,ee.setFloat16)(Ne,2*mt,dt[mt],!0);dt=Je}fe.texImage2D(fe.TEXTURE_2D,0,it,ge,Me,0,st,qe,dt);var ke=new ce.GPULayer(be,{name:"testFloatLinearFiltering-output",type:he,numComponents:je,dimensions:[ge,Me],wrapX:q.CLAMP_TO_EDGE,wrapY:q.CLAMP_TO_EDGE,filter:q.NEAREST}),Ie=Le===q.LINEAR?.5:1,Ce="testFilterWrap-program",ze=`
in vec2 v_uv;
uniform vec2 u_offset;
#ifdef GPUIO_INT
	uniform isampler2D u_input;
	out int out_result;
#endif
#ifdef GPUIO_UINT
	uniform usampler2D u_input;
	out uint out_result;
#endif
#ifdef GPUIO_FLOAT
	uniform sampler2D u_input;
	out float out_result;
#endif
void main() {
	out_result = texture(u_input, v_uv + offset).x;
}`;Re!==q.GLSL3&&(ze=(0,le.convertFragmentShaderToGLSL1)(ze,Ce)[0]);var Ee=(0,le.compileShader)(fe,Re,ye,re,ze,fe.FRAGMENT_SHADER,Ce,Ze,(We={offset:"vec2(".concat(Ie/ge,", ").concat(Ie/Me,")")},We[(0,le.isUnsignedIntType)(he)?"GPUIO_UINT":(0,le.isIntType)(he)?"GPUIO_INT":"GPUIO_FLOAT"]="1",We),void 0,!0);function _e(Se,Fe){return Xe===q.CLAMP_TO_EDGE?Math.max(0,Math.min(Fe-1,Se)):(Se+Fe)%Fe}var He=be._getVertexShader(q.DEFAULT_PROGRAM_NAME,"",{},Ce);if(He&&Ee){var Pe=(0,le.initGLProgram)(fe,He,Ee,Ce,Ze);if(Pe){ke._prepareForWrite(!1),(0,ne.bindFrameBuffer)(be,ke,ke._currentTexture),fe.viewport(0,0,ge,Me),fe.useProgram(Pe),fe.activeTexture(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,Te),fe.uniform2fv(fe.getUniformLocation(Pe,"u_gpuio_scale"),[1,1]),fe.uniform2fv(fe.getUniformLocation(Pe,"u_gpuio_translation"),[0,0]),fe.bindBuffer(fe.ARRAY_BUFFER,be._getQuadPositionsBuffer()),be._setPositionAttribute(Pe,Ce),fe.drawArrays(fe.TRIANGLE_STRIP,0,4),fe.disable(fe.BLEND);for(var $e=ke.getValues(),we=!0,Ue=(0,le.isIntType)(he)?0:he===q.HALF_FLOAT?.01:1e-4,et=0;et<ge;et++)for(var at=0;at<Me;at++){var Ve=void 0;if(Le===q.LINEAR)Ve=(ut[at*ge+et]+ut[at*ge+_e(et+1,ge)]+ut[_e(at+1,Me)*ge+et]+ut[_e(at+1,Me)*ge+_e(et+1,ge)])/4;else{var oe=_e(et+Ie,ge),me=_e(at+Ie,Me);Ve=ut[me*ge+oe]}var mt=at*ge+et;if(Math.abs((Ve-$e[mt])/Ve)>Ue){we=!1;break}}se.filterWrapSupport[ve]=we,fe.deleteProgram(Pe)}else se.filterWrapSupport[ve]=!1;fe.deleteShader(Ee)}else se.filterWrapSupport[ve]=!1;return ke.dispose(),fe.deleteTexture(Te),se.filterWrapSupport[ve]}Y.testFilterWrap=ae,ce.GPULayer.getGPULayerInternalType=function(be){var he=be.composer,Le=be.name,Xe=he._errorCallback,We=he.isWebGL2,fe=be.type,Re=fe,ye=pe(he,fe);if(ye&&(Re===q.UNSIGNED_BYTE||Re===q.BYTE?Re=q.HALF_FLOAT:(console.warn("Falling back ".concat(Re,' type to FLOAT type for glsl1.x support for GPULayer "').concat(Le,`".
Large UNSIGNED_INT or INT with absolute value > 16,777,216 are not supported, on mobile UNSIGNED_INT, INT, UNSIGNED_SHORT, and SHORT with absolute value > 2,048 may not be supported.`)),Re=q.FLOAT)),We){if(Re===q.FLOAT){var re=(0,ie.getExtension)(he,ie.EXT_COLOR_BUFFER_FLOAT,!0);if(!re)console.warn('FLOAT not supported in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT;else{var Ze=ue(he,Re);Ze||(console.warn('FLOAT not supported for writing operations in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT)}}if(Re===q.HALF_FLOAT){var Ge=(0,ie.getExtension)(he,ie.EXT_COLOR_BUFFER_HALF_FLOAT,!0);Ge||(0,ie.getExtension)(he,ie.EXT_COLOR_BUFFER_FLOAT,!0);var Ze=ue(he,Re);Ze||(console.warn("This browser does not support writing to HALF_FLOAT textures."),Xe("This browser does not support writing to HALF_FLOAT textures."))}}else{if(Re===q.FLOAT){var re=(0,ie.getExtension)(he,ie.OES_TEXTURE_FLOAT,!0);if(re){var Ze=ue(he,Re);Ze||(console.warn('FLOAT not supported for writing operations in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT)}else console.warn('FLOAT not supported in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT}if(Re===q.HALF_FLOAT){(0,ie.getExtension)(he,ie.OES_TEXTURE_HALF_FLOAT,!0);var Ze=ue(he,Re);Ze||console.warn("This browser does not support writing to HALF_FLOAT textures.")}}return Re};function de(be){var he=-1/0,Le=1/0;switch(be){case q.UNSIGNED_BYTE:he=q.MIN_UNSIGNED_BYTE,Le=q.MAX_UNSIGNED_BYTE;break;case q.BYTE:he=q.MIN_BYTE,Le=q.MAX_BYTE;break;case q.UNSIGNED_SHORT:he=q.MIN_UNSIGNED_SHORT,Le=q.MAX_UNSIGNED_SHORT;break;case q.SHORT:he=q.MIN_SHORT,Le=q.MAX_SHORT;break;case q.UNSIGNED_INT:he=q.MIN_UNSIGNED_INT,Le=q.MAX_UNSIGNED_INT;break;case q.INT:he=q.MIN_INT,Le=q.MAX_INT;break}return{min:he,max:Le}}Y.minMaxValuesForType=de,ce.GPULayer.validateGPULayerArray=function(be,he,Le){Le===void 0&&(Le=null);var Xe=he.numComponents,We=he.width,fe=he.height,Re=he.name,ye=he._glNumChannels,re=he._internalType,Ze=he.is1D()?he.length:null;if(Le){if(be.length!==Le*Xe)throw new Error("Invalid data length: ".concat(be.length,' for GPULayer "').concat(Re,'" of numComponents: ').concat(Xe,"."))}else if(be.length!==We*fe*Xe&&(!Ze||Ze&&be.length!==Ze*Xe))throw new Error("Invalid data length: ".concat(be.length,' for GPULayer "').concat(Re,'" of ').concat(Ze?"length ".concat(Ze," and "):"","dimensions: [").concat(We,", ").concat(fe,"] and numComponents: ").concat(Xe,"."));var Ge=!1;switch(be.constructor){case Array:Ge=!0;break;case Float32Array:Ge=re!==q.FLOAT;break;case Uint8Array:Ge=re!==q.UNSIGNED_BYTE;break;case Int8Array:Ge=re!==q.BYTE;break;case Uint16Array:Ge=re!==q.UNSIGNED_SHORT;break;case Int16Array:Ge=re!==q.SHORT;break;case Uint32Array:Ge=re!==q.UNSIGNED_INT;break;case Int32Array:Ge=re!==q.INT;break;default:throw new Error("Invalid array type: ".concat(be.constructor.name,' for GPULayer "').concat(Re,'", please use one of [').concat(q.validArrayTypes.map(function(mt){return mt.name}).join(", "),"]."))}var ve=de(re),Te=ve.min,xe=ve.max,Ye=Le?Le*ye:We*fe*ye,ge=be.length!==Ye,Me=be;if(Ge||ge){Me=ce.GPULayer.initArrayForType(re,Ye);for(var je=re===q.HALF_FLOAT&&Ge?new DataView(Me.buffer):null,tt=0,it=be.length/Xe;tt<it;tt++)for(var st=0;st<Xe;st++){var qe=be[tt*Xe+st],ot=qe,ut=!1;ot<Te?(ot=Te,ut=!0):ot>xe&&(ot=xe,ut=!0),ut&&console.warn("Clipping out of range value ".concat(qe," to ").concat(ot,' for GPULayer "').concat(Re,'" with internal type ').concat(re,"."));var dt=tt*ye+st;je?(0,ee.setFloat16)(je,2*dt,ot,!0):Me[dt]=ot}}return Me}},664:function(J,Y,D){var Q=this&&this.__extends||function(){var ue=function(ae,de){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,he){be.__proto__=he}||function(be,he){for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&(be[Le]=he[Le])},ue(ae,de)};return function(ae,de){if(typeof de!="function"&&de!==null)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");ue(ae,de);function be(){this.constructor=ae}ae.prototype=de===null?Object.create(de):(be.prototype=de.prototype,new be)}}(),ee=this&&this.__assign||function(){return ee=Object.assign||function(ue){for(var ae,de=1,be=arguments.length;de<be;de++){ae=arguments[de];for(var he in ae)Object.prototype.hasOwnProperty.call(ae,he)&&(ue[he]=ae[he])}return ue},ee.apply(this,arguments)};Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPUProgram=void 0;var q=D(601),te=D(593),ie=D(360),ne=D(566),ce=D(707),le=D(581),se=function(){function ue(ae,de){var be=this;this._fragmentShaders={},this._compileTimeConstants={},this._uniforms={},this._programs={},this._programsKeyLookup=new WeakMap,this._samplerUniformsIndices=[];var he=(de||{}).name;if(!ae)throw new Error('Error initing GPUProgram "'.concat(he,'": must pass GPUComposer instance to GPUProgram(composer, params).'));if(!de)throw new Error("Error initing GPUProgram: must pass params to GPUProgram(composer, params).");if(!(0,ne.isObject)(de))throw new Error("Error initing GPUProgram: must pass valid params object to GPUProgram(composer, params), got ".concat(JSON.stringify(de),"."));var Le=["name","fragmentShader","uniforms","compileTimeConstants"],Xe=["name","fragmentShader"],We=Object.keys(de);(0,ce.checkValidKeys)(We,Le,"GPUProgram(composer, params)",de.name),(0,ce.checkRequiredKeys)(We,Xe,"GPUProgram(composer, params)",de.name);var fe=de.fragmentShader,Re=de.uniforms,ye=de.compileTimeConstants;this._composer=ae,this.name=he;var re=(0,ne.isString)(fe)?fe:fe.join(`
`),Ze=(0,te.preprocessFragmentShader)(re,ae.glslVersion,he),Ge=Ze.shaderSource,ve=Ze.samplerUniforms,Te=Ze.additionalSources;if(this._fragmentShaderSource=Ge,ve.forEach(function(st,qe){be._samplerUniformsIndices.push({name:st,inputIndex:0,shaderIndex:qe})}),this.constructor===ue&&Te){this._childPrograms=[];for(var xe=0,Ye=Te.length;xe<Ye;xe++)this._childPrograms.push(new pe(ae,de,{fragmentShaderSource:Te[xe]}))}if(ye&&(this._compileTimeConstants=ee({},ye)),ae.glslVersion===q.GLSL1&&(Ge.includes("dFdx")||Ge.includes("dFdy")||Ge.includes("fwidth"))){var ge=(0,le.getExtension)(ae,le.OES_STANDARD_DERIVATIVES,!0);ge&&(this._extensions=`#extension GL_OES_standard_derivatives : enable
`)}if(Re)for(var xe=0;xe<Re.length;xe++){var Me=Re[xe],je=Me.name,tt=Me.value,it=Me.type;this.setUniform(je,tt,it)}}return ue.prototype.recompile=function(ae){var de=this._compileTimeConstants,be=!1;if(Object.keys(ae).forEach(function(tt){de[tt]!==ae[tt]&&(be=!0,de[tt]=ae[tt])}),!!be){for(var he=this,Le=he._fragmentShaders,Xe=he._programs,We=he._programsKeyLookup,fe=he._composer,Re=he._uniforms,ye=fe.gl,re=Object.keys(Xe),Ze=0,Ge=re.length;Ze<Ge;Ze++){var ve=re[Ze],Te=Xe[ve];ye.deleteProgram(Te),We.delete(Te),delete Xe[ve]}for(var xe=Object.keys(Le),Ze=0,Ye=xe.length;Ze<Ye;Ze++){var ve=xe[Ze];ye.deleteShader(Le[ve]),delete Le[ve]}for(var ge=Object.values(Re),Ze=0,Me=ge.length;Ze<Me;Ze++)ge[Ze].location=new WeakMap;if(this._childPrograms)for(var Ze=0,je=this._childPrograms.length;Ze<je;Ze++)this._childPrograms[Ze].recompile(ae)}},ue.prototype._getFragmentShader=function(ae,de){var be=this._fragmentShaders;if(be[ae])return be[ae];for(var he=this,Le=he._composer,Xe=he.name,We=he._fragmentShaderSource,fe=he._compileTimeConstants,Re=he._extensions,ye=Le.gl,re=Le._errorCallback,Ze=Le.verboseLogging,Ge=Le.glslVersion,ve=Le.floatPrecision,Te=Le.intPrecision,xe=Object.keys(de),Ye=0;Ye<xe.length;Ye++){var ge=xe[Ye];fe[ge]=de[ge]}Ze&&console.log('Compiling fragment shader for GPUProgram "'.concat(Xe,'" with compile time constants: ').concat(JSON.stringify(fe)));var Me=(0,te.compileShader)(ye,Ge,Te,ve,We,ye.FRAGMENT_SHADER,Xe,re,fe,Re,Object.keys(be).length===0);if(!Me){re('Unable to compile fragment shader for GPUProgram "'.concat(Xe,'".'));return}return be[ae]=Me,be[ae]},ue.prototype._getProgramWithName=function(ae,de,be){for(var he=this,Le=he._samplerUniformsIndices,Xe=he._composer,We="",fe={},Re=0,ye=Le.length;Re<ye;Re++){var re=Le[Re].inputIndex,Ze=be[re].layer,Ge=Ze.filter,ve=Ze.wrapX,Te=Ze.wrapY,xe=Ze.type,Ye=Ze._internalFilter,ge=Ze._internalWrapX,Me=Ze._internalWrapY,je=ve===ge?0:ve===q.REPEAT?1:0,tt=Te===Me?0:Te===q.REPEAT?1:0,it=Ge===Ye?0:Ge===q.LINEAR?1:0;We+="_IN".concat(Re,"_").concat(je,"_").concat(tt,"_").concat(it),fe["".concat(ie.SAMPLER2D_WRAP_X).concat(Re)]="".concat(je),fe["".concat(ie.SAMPLER2D_WRAP_Y).concat(Re)]="".concat(tt),fe["".concat(ie.SAMPLER2D_FILTER).concat(Re)]="".concat(it),Xe.glslVersion===q.GLSL1&&(0,te.isIntType)(xe)&&(fe["".concat(ie.SAMPLER2D_CAST_INT).concat(Re)]="1")}var st=Object.keys(de).map(function($e){return"_".concat($e,"_").concat(de[$e])}).join(),qe="".concat(ae).concat(st).concat(We);if(this._programs[qe])return this._programs[qe];var ot=this,ut=ot._uniforms,dt=ot._programs,mt=ot._programsKeyLookup,Je=Xe.gl,Ne=Xe._errorCallback,ke=Xe._getVertexShader(ae,st,de,this.name);if(ke===void 0){Ne('Unable to init vertex shader "'.concat(ae).concat(st,'" for GPUProgram "').concat(this.name,'".'));return}var Ie=this._getFragmentShader(We,fe);if(Ie===void 0){Ne('Unable to init fragment shader "'.concat(We,'" for GPUProgram "').concat(this.name,'".'));return}var Ce=(0,te.initGLProgram)(Je,ke,Ie,this.name,Ne);if(Ce===void 0){Je.deleteShader(Ie),Ne('Unable to init program "'.concat(qe,'" for GPUProgram "').concat(this.name,'".'));return}Je.useProgram(Ce);for(var ze=Object.keys(ut),Re=0,Ee=ze.length;Re<Ee;Re++){var _e=ze[Re],He=ut[_e],Pe=He.value,xe=He.type;this._setProgramUniform(Ce,_e,Pe,xe)}return dt[qe]=Ce,mt.set(Ce,qe),Ce},ue.prototype._setProgramUniform=function(ae,de,be,he){var Le,Xe=this,We=Xe._composer,fe=Xe._uniforms,Re=We.gl,ye=We._errorCallback,re=We.glslVersion,Ze=re===q.GLSL3,Ge=(Le=fe[de])===null||Le===void 0?void 0:Le.location.get(ae);if(Ge===void 0){var ve=Re.getUniformLocation(ae,de);if(ve===null){console.warn('Could not init uniform "'.concat(de,'" for program "').concat(this.name,'". Check that uniform is present in shader code, unused uniforms may be removed by compiler. Also check that uniform type in shader code matches type ').concat(he,". Error code: ").concat(Re.getError(),"."));return}Ge=ve,fe[de]&&fe[de].location.set(ae,Ge);var Te=Re.getUniform(ae,Ge),xe=!1;if(he===q.BOOL_1D_UNIFORM||he===q.BOOL_2D_UNIFORM||he===q.BOOL_3D_UNIFORM||he===q.BOOL_4D_UNIFORM?!(0,ne.isBoolean)(Te)&&Te.constructor!==Array&&(xe=!0):he===q.FLOAT_1D_UNIFORM||he===q.FLOAT_2D_UNIFORM||he===q.FLOAT_3D_UNIFORM||he===q.FLOAT_4D_UNIFORM?!(0,ne.isFiniteNumber)(Te)&&Te.constructor!==Float32Array&&(xe=!0):he===q.INT_1D_UNIFORM||he===q.INT_2D_UNIFORM||he===q.INT_3D_UNIFORM||he===q.INT_4D_UNIFORM?!(0,ne.isInteger)(Te)&&Te.constructor!==Int32Array&&(xe=!0):(he===q.UINT_1D_UNIFORM||he===q.UINT_2D_UNIFORM||he===q.UINT_3D_UNIFORM||he===q.UINT_4D_UNIFORM)&&(Ze?!(0,ne.isNonNegativeInteger)(Te)&&Te.constructor!==Uint32Array&&(xe=!0):!(0,ne.isNonNegativeInteger)(Te)&&Te.constructor!==Int32Array&&(xe=!0)),xe){ye('Invalid uniform "'.concat(de,'" for program "').concat(this.name,'". Check that uniform type in shader code matches type ').concat(he,", gl.getUniform(program, location) returned type: ").concat(Te.constructor.name,"."));return}}switch(he){case q.BOOL_1D_UNIFORM:Re.uniform1i(Ge,be?1:0);break;case q.BOOL_2D_UNIFORM:Re.uniform2i(Ge,be[0]?1:0,be[1]?1:0);break;case q.BOOL_3D_UNIFORM:Re.uniform3i(Ge,be[0]?1:0,be[1]?1:0,be[2]?1:0);break;case q.BOOL_4D_UNIFORM:Re.uniform4i(Ge,be[0]?1:0,be[1]?1:0,be[2]?1:0,be[3]?1:0);break;case q.FLOAT_1D_UNIFORM:Re.uniform1f(Ge,be);break;case q.FLOAT_2D_UNIFORM:Re.uniform2fv(Ge,be);break;case q.FLOAT_3D_UNIFORM:Re.uniform3fv(Ge,be);break;case q.FLOAT_4D_UNIFORM:Re.uniform4fv(Ge,be);break;case q.INT_1D_UNIFORM:Re.uniform1i(Ge,be);break;case q.INT_2D_UNIFORM:Re.uniform2iv(Ge,be);break;case q.INT_3D_UNIFORM:Re.uniform3iv(Ge,be);break;case q.INT_4D_UNIFORM:Re.uniform4iv(Ge,be);break;case q.UINT_1D_UNIFORM:Ze?Re.uniform1ui(Ge,be):Re.uniform1i(Ge,be);break;case q.UINT_2D_UNIFORM:Ze?Re.uniform2uiv(Ge,be):Re.uniform2iv(Ge,be);break;case q.UINT_3D_UNIFORM:Ze?Re.uniform3uiv(Ge,be):Re.uniform3iv(Ge,be);break;case q.UINT_4D_UNIFORM:Ze?Re.uniform4uiv(Ge,be):Re.uniform4iv(Ge,be);break;default:throw new Error("Unknown uniform type ".concat(he,' for GPUProgram "').concat(this.name,'".'))}},ue.prototype._cacheUniformValue=function(ae,de,be){var he=this._uniforms,Le=he[ae];if(!Le)return he[ae]={location:new WeakMap,value:(0,ne.isArray)(de)?de.slice():de,type:be},!0;var Xe=Le.value;if(Le.value=(0,ne.isArray)(de)?de.slice():de,(0,ne.isArray)(de)){for(var We=0,fe=de.length;We<fe;We++)if(de[We]!==Xe[We])return!0;return!1}return de!==Xe},ue.prototype.setUniform=function(ae,de,be){var he,Le=this,Xe=Le._programs,We=Le._uniforms,fe=Le._composer,Re=Le._samplerUniformsIndices,ye=fe.verboseLogging,re=fe.gl;if((0,ne.isArray)(de)){var Ze=de.length;if(Ze>4)throw new Error("Invalid uniform value: [".concat(de.join(", "),'] passed to GPUProgram "').concat(this.name,', uniforms must be of type number[] with length <= 4, number, or boolean."'))}var Ge=(he=We[ae])===null||he===void 0?void 0:he.type;if(be){var ve=(0,te.uniformInternalTypeForValue)(de,be,ae,this.name);if(Ge===void 0)Ge=ve;else if(Ge!==ve)throw new Error('Uniform "'.concat(ae,'" for GPUProgram "').concat(this.name,'" cannot change from type ').concat(Ge," to type ").concat(ve,"."))}if(Ge===void 0)throw new Error('Unknown type for uniform "'.concat(ae,'", please pass in type to GPUProgram.setUniform(name, value, type) when initing a new uniform.'));var Te=this._cacheUniformValue(ae,de,Ge);if(Te){var xe=Re.find(function(st){return st.name===ae});xe&&(0,ne.isInteger)(de)&&(xe.inputIndex=de),ye&&console.log('Setting uniform "'.concat(ae,'" for program "').concat(this.name,'" to value ').concat(JSON.stringify(de),"."));for(var Ye=Object.keys(Xe),ge=0,Me=Ye.length;ge<Me;ge++){var je=Ye[ge],tt=Xe[je];re.useProgram(tt),this._setProgramUniform(tt,ae,de,Ge)}if(this._childPrograms)for(var ge=0,it=this._childPrograms.length;ge<it;ge++)this._childPrograms[ge].setUniform(ae,de,be)}},ue.prototype._setInternalFragmentUniforms=function(ae,de){if(de.length!==0){if(!ae)throw new Error("Must pass in valid WebGLProgram to GPUProgram._setInternalFragmentUniforms, got undefined.");var be=this,he=be._programsKeyLookup,Le=be._samplerUniformsIndices,Xe=he.get(ae);if(!Xe)throw new Error('Could not find valid programName for WebGLProgram in GPUProgram "'.concat(this.name,'".'));for(var We=new Array(Math.max(de.length,Le.length)).fill(-1),fe=0,Re=Le.length;fe<Re;fe++){var ye=Le[fe],re=ye.inputIndex,Ze=ye.shaderIndex;We[re]>=0?console.warn("Found > 1 sampler2D uniforms at texture index ".concat(re,' for GPUProgram "').concat(this.name,'".')):We[re]=Ze}for(var fe=0,Ge=de.length;fe<Ge;fe++){var ve=de[fe].layer,Te=ve.width,xe=ve.height,Ye=We[fe];if(!(Ye<0)){var ge=ve.filter,Me=ve.wrapX,je=ve.wrapY,tt=ve._internalFilter,it=ve._internalWrapX,st=ve._internalWrapY,qe=ge!==tt;if(qe||Me!==it||je!==st){var ot=[.5/Te,.5/xe],ut="".concat(ie.SAMPLER2D_HALF_PX_UNIFORM).concat(Ye),dt=this._cacheUniformValue(ut,ot,q.FLOAT_2D_UNIFORM);if(dt&&this._setProgramUniform(ae,ut,ot,q.FLOAT_2D_UNIFORM),qe){var mt=[Te,xe],Je="".concat(ie.SAMPLER2D_DIMENSIONS_UNIFORM).concat(Ye),Ne=this._cacheUniformValue(Je,mt,q.FLOAT_2D_UNIFORM);Ne&&this._setProgramUniform(ae,Je,mt,q.FLOAT_2D_UNIFORM)}}}}}},ue.prototype._setVertexUniform=function(ae,de,be,he){if(!ae)throw new Error("Must pass in valid WebGLProgram to GPUProgram._setVertexUniform, got undefined.");var Le=this._programsKeyLookup,Xe=Le.get(ae);if(!Xe)throw new Error('Could not find valid programName for WebGLProgram in GPUProgram "'.concat(this.name,'".'));var We=(0,te.uniformInternalTypeForValue)(be,he,de,this.name);this._setProgramUniform(ae,de,be,We)},ue.prototype.dispose=function(){var ae=this,de=ae._composer,be=ae._fragmentShaders,he=ae._programs,Le=ae._programsKeyLookup,Xe=de.gl,We=de.verboseLogging;if(We&&console.log('Deallocating GPUProgram "'.concat(this.name,'".')),!Xe)throw new Error("Must call dispose() on all GPUPrograms before calling dispose() on GPUComposer.");if(Object.values(he).forEach(function(ye){ye&&(Xe.deleteProgram(ye),Le.delete(ye))}),Object.keys(he).forEach(function(ye){delete he[ye]}),Object.values(be).forEach(function(ye){Xe.deleteShader(ye)}),Object.keys(be).forEach(function(ye){delete be[ye]}),this._childPrograms){for(var fe=0,Re=this._childPrograms.length;fe<Re;fe++)this._childPrograms[fe].dispose();this._childPrograms.length}delete this._childPrograms,delete this._composer,delete this.name,delete this._fragmentShaderSource,delete this._compileTimeConstants,delete this._extensions,delete this._uniforms,delete this._programs,delete this._programsKeyLookup,delete this._fragmentShaders,delete this._samplerUniformsIndices},ue}();Y.GPUProgram=se;var pe=function(ue){Q(ae,ue);function ae(de,be,he){var Le=ue.call(this,de,be)||this,Xe=he.fragmentShaderSource;return Le._fragmentShaderSource=Xe,Le}return ae}(se)},579:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.wrappedLineColorProgram=Y.renderSignedAmplitudeProgram=Y.renderAmplitudeProgram=Y.renderRGBProgram=Y.zeroProgram=Y.setColorProgram=Y.setValueProgram=Y.multiplyValueProgram=Y.addValueProgram=Y.addLayersProgram=Y.copyProgram=void 0;var Q=D(566),ee=D(601),q=D(690),te=D(664);function ie(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=(0,q.glslTypeForType)(We,4),ye=Xe.name||"copy_".concat((0,q.uniformTypeForType)(We,Le.glslVersion),"_layer");return new te.GPUProgram(Le,{name:ye,fragmentShader:`
in vec2 v_uv;
uniform `.concat(fe," ").concat((0,q.glslPrefixForType)(We),`sampler2D u_state;
out `).concat(fe," ").concat(Re,` out_result;
void main() {
	out_result = texture(u_state, v_uv);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT}]})}Y.copyProgram=ie;function ne(Le,Xe){var We=Xe.type,fe=Xe.numInputs||2,Re=Xe.precision||"",ye=Xe.components||"xyzw",re=(0,q.glslTypeForType)(We,ye.length),Ze=new Array(fe),Ge=Xe.name||"".concat(fe,"-way_add_").concat((0,q.uniformTypeForType)(We,Le.glslVersion),"_").concat(ye);return new te.GPUProgram(Le,{name:Ge,fragmentShader:`
in vec2 v_uv;
`.concat(Ze.map(function(ve,Te){return"uniform ".concat(Re," ").concat((0,q.glslPrefixForType)(We),"sampler2D u_state").concat(Te,";")}).join(`
`),`
out `).concat(Re," ").concat(re,` out_result;
void main() {
	out_result = `).concat(Ze.map(function(ve,Te){return"texture(u_state".concat(Te,", v_uv).").concat(ye)}).join(" + "),`;
}`),uniforms:Ze.map(function(ve,Te){return{name:"u_state".concat(Te),value:Te,type:ee.INT}})})}Y.addLayersProgram=ne;function ce(Le,Xe){var We=Xe.type,fe=Xe.value,Re=Xe.precision||"",ye=(0,Q.isArray)(fe)?fe.length:1,re=(0,q.glslTypeForType)(We,ye),Ze=ye===1?4:ye,Ge=(0,q.glslTypeForType)(We,Ze),ve=(0,q.glslComponentSelectionForNumComponents)(Ze),Te=Xe.name||"addValue_".concat(re,"_w_length_").concat(ye);return new te.GPUProgram(Le,{name:Te,fragmentShader:`
in vec2 v_uv;
uniform `.concat(Re," ").concat(re,` u_value;
uniform `).concat(Re," ").concat((0,q.glslPrefixForType)(We),`sampler2D u_state;
out `).concat(Re," ").concat(Ge,` out_result;
void main() {
	out_result = `).concat(re!==Ge?Ge:"","(u_value) + texture(u_state, v_uv)").concat(ve,`;
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_value",value:fe,type:(0,q.uniformTypeForType)(We,Le.glslVersion)}]})}Y.addValueProgram=ce;function le(Le,Xe){var We=Xe.type,fe=Xe.value,Re=Xe.precision||"",ye=(0,Q.isArray)(fe)?fe.length:1,re=(0,q.glslTypeForType)(We,ye),Ze=ye===1?4:ye,Ge=(0,q.glslTypeForType)(We,Ze),ve=(0,q.glslComponentSelectionForNumComponents)(Ze),Te=Xe.name||"addValue_".concat(re,"_w_length_").concat(ye);return new te.GPUProgram(Le,{name:Te,fragmentShader:`
in vec2 v_uv;
uniform `.concat(Re," ").concat(re,` u_value;
uniform `).concat(Re," ").concat((0,q.glslPrefixForType)(We),`sampler2D u_state;
out `).concat(Re," ").concat(Ge,` out_result;
void main() {
	out_result = `).concat(re!==Ge?Ge:"","(u_value) * texture(u_state, v_uv)").concat(ve,`;
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_value",value:fe,type:(0,q.uniformTypeForType)(We,Le.glslVersion)}]})}Y.multiplyValueProgram=le;function se(Le,Xe){var We=Xe.type,fe=Xe.value,Re=Xe.precision||"",ye=(0,Q.isArray)(fe)?fe.length:1,re=(0,q.glslTypeForType)(We,ye),Ze=ye===1?4:ye,Ge=(0,q.glslTypeForType)(We,Ze),ve=Xe.name||"setValue_".concat(re,"_w_length_").concat(ye);return new te.GPUProgram(Le,{name:ve,fragmentShader:`
uniform `.concat(Re," ").concat(re,` u_value;
out `).concat(Re," ").concat(Ge,` out_result;
void main() {
	out_result = `).concat(re!==Ge?Ge:"",`(u_value);
}`),uniforms:[{name:"u_value",value:fe,type:(0,q.uniformTypeForType)(We,Le.glslVersion)}]})}Y.setValueProgram=se;function pe(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=Xe.opacity===void 0?1:Xe.opacity,ye=Xe.color||[0,0,0],re=Xe.name||"setColor",Ze=(0,q.glslTypeForType)(We,4);return new te.GPUProgram(Le,{name:re,fragmentShader:`
uniform `.concat(fe,` vec3 u_color;
uniform `).concat(fe,` float u_opacity;
out `).concat(fe," ").concat(Ze,` out_result;
void main() {
	out_result = `).concat(Ze,`(u_color, u_opacity);
}`),uniforms:[{name:"u_color",value:ye,type:ee.FLOAT},{name:"u_opacity",value:Re,type:ee.FLOAT}]})}Y.setColorProgram=pe;function ue(Le,Xe){return se(Le,{type:ee.FLOAT,value:0,name:Xe.name})}Y.zeroProgram=ue;function ae(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=3,ye=(0,q.glslTypeForType)(We,Re),re=(0,q.glslTypeForType)(ee.FLOAT,Re),Ze=(0,q.glslPrefixForType)(We),Ge=re===ye,ve=Xe.name||"renderRGB_".concat(ye);return new te.GPUProgram(Le,{name:ve,fragmentShader:`
in vec2 v_uv;
uniform float u_opacity;
uniform float u_scale;
uniform `.concat(fe," ").concat(Ze,`sampler2D u_state;
out vec4 out_result;
void main() {
	vec3 color = u_scale * (`).concat(Ge?"":re,`(texture(u_state, v_uv).rgb));
	out_result = vec4(color, u_opacity);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_scale",value:Xe.scale!==void 0?Xe.scale:1,type:ee.FLOAT},{name:"u_opacity",value:Xe.opacity!==void 0?Xe.opacity:1,type:ee.FLOAT}]})}Y.renderRGBProgram=ae;function de(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=Xe.components||"xyzw",ye=Re.length,re=(0,q.glslTypeForType)(We,ye),Ze=(0,q.glslTypeForType)(ee.FLOAT,ye),Ge=(0,q.glslPrefixForType)(We),ve=Ze===re,Te=Xe.name||"renderAmplitude_".concat(re,"_w_").concat(ye,"_components");return new te.GPUProgram(Le,{name:Te,fragmentShader:`
in vec2 v_uv;
uniform float u_opacity;
uniform float u_scale;
uniform vec3 u_colorMax;
uniform vec3 u_colorMin;
uniform `.concat(fe," ").concat(Ge,`sampler2D u_state;
out vec4 out_result;
void main() {
	float amplitude = u_scale * `).concat(ye===1?"abs":"length","(").concat(ve?"":Ze,"(texture(u_state, v_uv)").concat(Re==="xyzw"||Re==="rgba"||Re==="stpq"?"":".".concat(Re),`));
	vec3 color = mix(u_colorMin, u_colorMax, amplitude);
	out_result = vec4(color, u_opacity);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_scale",value:Xe.scale!==void 0?Xe.scale:1,type:ee.FLOAT},{name:"u_opacity",value:Xe.opacity!==void 0?Xe.opacity:1,type:ee.FLOAT},{name:"u_colorMax",value:Xe.colorMax||[1,1,1],type:ee.FLOAT},{name:"u_colorMin",value:Xe.colorMin||[0,0,0],type:ee.FLOAT}]})}Y.renderAmplitudeProgram=de;function be(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=(0,q.glslTypeForType)(We,1),ye=(0,q.glslPrefixForType)(We),re=Re==="float",Ze=Xe.component||"x",Ge=Xe.name||"renderAmplitude_".concat(Re,"_").concat(Ze);return new te.GPUProgram(Le,{name:Ge,fragmentShader:`
in vec2 v_uv;
uniform float u_opacity;
uniform float u_scale;
uniform float u_bias;
uniform vec3 u_colorMin;
uniform vec3 u_colorMax;
uniform vec3 u_colorCenter;
uniform `.concat(fe," ").concat(ye,`sampler2D u_state;
out vec4 out_result;
void main() {
	float signedAmplitude = u_scale * (`).concat(re?"":"float","(texture(u_state, v_uv).").concat(Ze,`) - u_bias);
	float amplitudeSign = sign(signedAmplitude);
	vec3 interpColor = mix(u_colorMin, u_colorMax, amplitudeSign / 2.0 + 0.5);
	vec3 color = mix(u_colorCenter, interpColor, signedAmplitude * amplitudeSign);
	out_result = vec4(color, u_opacity);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_scale",value:Xe.scale!==void 0?Xe.scale:1,type:ee.FLOAT},{name:"u_bias",value:Xe.bias||0,type:ee.FLOAT},{name:"u_opacity",value:Xe.opacity!==void 0?Xe.opacity:1,type:ee.FLOAT},{name:"u_colorMin",value:Xe.colorMin||[0,0,1],type:ee.FLOAT},{name:"u_colorMax",value:Xe.colorMax||[1,0,0],type:ee.FLOAT},{name:"u_colorCenter",value:Xe.colorCenter||[1,1,1],type:ee.FLOAT}]})}Y.renderSignedAmplitudeProgram=be;function he(Le){return new te.GPUProgram(Le,{name:"wrappedLineColor",fragmentShader:`
in vec2 v_lineWrapping;
uniform vec4 u_value;
out vec4 out_result;
void main() {
	// Check if this line has wrapped.
	if ((v_lineWrapping.x != 0.0 && v_lineWrapping.x != 1.0) || (v_lineWrapping.y != 0.0 && v_lineWrapping.y != 1.0)) {
		// Render nothing.
		discard;
		return;
	}
	out_result = vec4(u_value);
}`})}Y.wrappedLineColorProgram=he},404:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Vector4=void 0;var D=function(){function Q(ee,q,te,ie){ee===void 0&&(ee=0),q===void 0&&(q=0),te===void 0&&(te=0),ie===void 0&&(ie=1),this.x=ee,this.y=q,this.z=te,this.w=ie}return Object.defineProperty(Q.prototype,"width",{get:function(){return this.z},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"height",{get:function(){return this.w},enumerable:!1,configurable:!0}),Q.prototype.copy=function(ee){return this.x=ee.x,this.y=ee.y,this.z=ee.z,this.w=ee.w,this},Q}();Y.Vector4=D},707:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.checkRequiredKeys=Y.checkValidKeys=Y.isNumberOfType=Y.isValidClearValue=Y.isValidImageType=Y.isValidImageFormat=Y.isValidWrap=Y.isValidFilter=Y.isValidDataType=void 0;var Q=D(566),ee=D(601);function q(ae){return ee.validDataTypes.indexOf(ae)>-1}Y.isValidDataType=q;function te(ae){return ee.validFilters.indexOf(ae)>-1}Y.isValidFilter=te;function ie(ae){return ee.validWraps.indexOf(ae)>-1}Y.isValidWrap=ie;function ne(ae){return ee.validImageFormats.indexOf(ae)>-1}Y.isValidImageFormat=ne;function ce(ae){return ee.validImageTypes.indexOf(ae)>-1}Y.isValidImageType=ce;function le(ae,de,be){if((0,Q.isArray)(ae)){if(ae.length!==de)return!1;for(var he=0;he<ae.length;he++)if(!se(ae[he],be))return!1}else if(!se(ae,be))return!1;return!0}Y.isValidClearValue=le;function se(ae,de){switch(de){case ee.HALF_FLOAT:case ee.FLOAT:return(0,Q.isFiniteNumber)(ae);case ee.BYTE:return ae<-128||ae>127?!1:(0,Q.isInteger)(ae);case ee.SHORT:return ae<-32768||ae>32767?!1:(0,Q.isInteger)(ae);case ee.INT:return ae<-2147483648||ae>2147483647?!1:(0,Q.isInteger)(ae);case ee.UNSIGNED_BYTE:return ae>255?!1:(0,Q.isNonNegativeInteger)(ae);case ee.UNSIGNED_SHORT:return ae>65535?!1:(0,Q.isNonNegativeInteger)(ae);case ee.UNSIGNED_INT:return ae>4294967295?!1:(0,Q.isNonNegativeInteger)(ae);default:throw new Error("Unknown type ".concat(de))}}Y.isNumberOfType=se;function pe(ae,de,be,he){ae.forEach(function(Le){de.indexOf(Le)<0&&console.warn('Invalid params key "'.concat(Le,'" passed to ').concat(be).concat(he?' with name "'.concat(he,'"'):"",".  Valid keys are ").concat(JSON.stringify(de),"."))})}Y.checkValidKeys=pe;function ue(ae,de,be,he){de.forEach(function(Le){if(ae.indexOf(Le)<0)throw new Error('Required params key "'.concat(Le,'" was not passed to ').concat(be).concat(he?' with name "'.concat(he,'"'):"","."))})}Y.checkRequiredKeys=ue},601:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_POINTS_PROGRAM_NAME=Y.SEGMENT_PROGRAM_NAME=Y.DEFAULT_PROGRAM_NAME=Y.BOOL_4D_UNIFORM=Y.BOOL_3D_UNIFORM=Y.BOOL_2D_UNIFORM=Y.BOOL_1D_UNIFORM=Y.UINT_4D_UNIFORM=Y.UINT_3D_UNIFORM=Y.UINT_2D_UNIFORM=Y.UINT_1D_UNIFORM=Y.INT_4D_UNIFORM=Y.INT_3D_UNIFORM=Y.INT_2D_UNIFORM=Y.INT_1D_UNIFORM=Y.FLOAT_4D_UNIFORM=Y.FLOAT_3D_UNIFORM=Y.FLOAT_2D_UNIFORM=Y.FLOAT_1D_UNIFORM=Y.PRECISION_HIGH_P=Y.PRECISION_MEDIUM_P=Y.PRECISION_LOW_P=Y.EXPERIMENTAL_WEBGL2=Y.EXPERIMENTAL_WEBGL=Y.WEBGL1=Y.WEBGL2=Y.GLSL1=Y.GLSL3=Y.validImageTypes=Y.validImageFormats=Y.RGBA=Y.RGB=Y.validWraps=Y.validFilters=Y.validDataTypes=Y.validArrayTypes=Y.REPEAT=Y.CLAMP_TO_EDGE=Y.LINEAR=Y.NEAREST=Y.UINT=Y.BOOL=Y.INT=Y.UNSIGNED_INT=Y.SHORT=Y.UNSIGNED_SHORT=Y.BYTE=Y.UNSIGNED_BYTE=Y.FLOAT=Y.HALF_FLOAT=void 0,Y.BOUNDARY_RIGHT=Y.BOUNDARY_LEFT=Y.BOUNDARY_BOTTOM=Y.BOUNDARY_TOP=Y.GPUIO_FLOAT_PRECISION=Y.GPUIO_INT_PRECISION=Y.MAX_FLOAT_INT=Y.MIN_FLOAT_INT=Y.MAX_HALF_FLOAT_INT=Y.MIN_HALF_FLOAT_INT=Y.MAX_INT=Y.MIN_INT=Y.MAX_UNSIGNED_INT=Y.MIN_UNSIGNED_INT=Y.MAX_SHORT=Y.MIN_SHORT=Y.MAX_UNSIGNED_SHORT=Y.MIN_UNSIGNED_SHORT=Y.MAX_BYTE=Y.MIN_BYTE=Y.MAX_UNSIGNED_BYTE=Y.MIN_UNSIGNED_BYTE=Y.DEFAULT_CIRCLE_NUM_SEGMENTS=Y.DEFAULT_ERROR_CALLBACK=Y.GPUIO_VS_POSITION_W_ACCUM=Y.GPUIO_VS_NORMAL_ATTRIBUTE=Y.GPUIO_VS_UV_ATTRIBUTE=Y.GPUIO_VS_INDEXED_POSITIONS=Y.GPUIO_VS_WRAP_Y=Y.GPUIO_VS_WRAP_X=Y.LAYER_MESH_PROGRAM_NAME=Y.LAYER_VECTOR_FIELD_PROGRAM_NAME=Y.LAYER_LINES_PROGRAM_NAME=void 0,Y.HALF_FLOAT="HALF_FLOAT",Y.FLOAT="FLOAT",Y.UNSIGNED_BYTE="UNSIGNED_BYTE",Y.BYTE="BYTE",Y.UNSIGNED_SHORT="UNSIGNED_SHORT",Y.SHORT="SHORT",Y.UNSIGNED_INT="UNSIGNED_INT",Y.INT="INT",Y.BOOL="BOOL",Y.UINT="UINT",Y.NEAREST="NEAREST",Y.LINEAR="LINEAR",Y.CLAMP_TO_EDGE="CLAMP_TO_EDGE",Y.REPEAT="REPEAT",Y.validArrayTypes=[Float32Array,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Array],Y.validDataTypes=[Y.HALF_FLOAT,Y.FLOAT,Y.UNSIGNED_BYTE,Y.BYTE,Y.UNSIGNED_SHORT,Y.SHORT,Y.UNSIGNED_INT,Y.INT],Y.validFilters=[Y.NEAREST,Y.LINEAR],Y.validWraps=[Y.CLAMP_TO_EDGE,Y.REPEAT],Y.RGB="RGB",Y.RGBA="RGBA",Y.validImageFormats=[Y.RGB,Y.RGBA],Y.validImageTypes=[Y.UNSIGNED_BYTE,Y.FLOAT,Y.HALF_FLOAT],Y.GLSL3="300 es",Y.GLSL1="100",Y.WEBGL2="webgl2",Y.WEBGL1="webgl",Y.EXPERIMENTAL_WEBGL="experimental-webgl",Y.EXPERIMENTAL_WEBGL2="experimental-webgl2",Y.PRECISION_LOW_P="lowp",Y.PRECISION_MEDIUM_P="mediump",Y.PRECISION_HIGH_P="highp",Y.FLOAT_1D_UNIFORM="FLOAT_1D_UNIFORM",Y.FLOAT_2D_UNIFORM="FLOAT_2D_UNIFORM",Y.FLOAT_3D_UNIFORM="FLOAT_3D_UNIFORM",Y.FLOAT_4D_UNIFORM="FLOAT_4D_UNIFORM",Y.INT_1D_UNIFORM="INT_1D_UNIFORM",Y.INT_2D_UNIFORM="INT_2D_UNIFORM",Y.INT_3D_UNIFORM="INT_3D_UNIFORM",Y.INT_4D_UNIFORM="INT_4D_UNIFORM",Y.UINT_1D_UNIFORM="UINT_1D_UNIFORM",Y.UINT_2D_UNIFORM="UINT_2D_UNIFORM",Y.UINT_3D_UNIFORM="UINT_3D_UNIFORM",Y.UINT_4D_UNIFORM="UINT_4D_UNIFORM",Y.BOOL_1D_UNIFORM="BOOL_1D_UNIFORM",Y.BOOL_2D_UNIFORM="BOOL_2D_UNIFORM",Y.BOOL_3D_UNIFORM="BOOL_3D_UNIFORM",Y.BOOL_4D_UNIFORM="BOOL_4D_UNIFORM",Y.DEFAULT_PROGRAM_NAME="DEFAULT",Y.SEGMENT_PROGRAM_NAME="SEGMENT",Y.LAYER_POINTS_PROGRAM_NAME="LAYER_POINTS",Y.LAYER_LINES_PROGRAM_NAME="LAYER_LINES",Y.LAYER_VECTOR_FIELD_PROGRAM_NAME="LAYER_VECTOR_FIELD",Y.LAYER_MESH_PROGRAM_NAME="LAYER_MESH",Y.GPUIO_VS_WRAP_X="GPUIO_VS_WRAP_X",Y.GPUIO_VS_WRAP_Y="GPUIO_VS_WRAP_Y",Y.GPUIO_VS_INDEXED_POSITIONS="GPUIO_VS_INDEXED_POSITIONS",Y.GPUIO_VS_UV_ATTRIBUTE="GPUIO_VS_UV_ATTRIBUTE",Y.GPUIO_VS_NORMAL_ATTRIBUTE="GPUIO_VS_NORMAL_ATTRIBUTE",Y.GPUIO_VS_POSITION_W_ACCUM="GPUIO_VS_POSITION_W_ACCUM";var D=function(Q){throw new Error(Q)};Y.DEFAULT_ERROR_CALLBACK=D,Y.DEFAULT_CIRCLE_NUM_SEGMENTS=18,Y.MIN_UNSIGNED_BYTE=0,Y.MAX_UNSIGNED_BYTE=Math.pow(2,8)-1,Y.MIN_BYTE=-Math.pow(2,7),Y.MAX_BYTE=Math.pow(2,7)-1,Y.MIN_UNSIGNED_SHORT=0,Y.MAX_UNSIGNED_SHORT=Math.pow(2,16)-1,Y.MIN_SHORT=-Math.pow(2,15),Y.MAX_SHORT=Math.pow(2,15)-1,Y.MIN_UNSIGNED_INT=0,Y.MAX_UNSIGNED_INT=Math.pow(2,32)-1,Y.MIN_INT=-Math.pow(2,31),Y.MAX_INT=Math.pow(2,31)-1,Y.MIN_HALF_FLOAT_INT=-2048,Y.MAX_HALF_FLOAT_INT=2048,Y.MIN_FLOAT_INT=-16777216,Y.MAX_FLOAT_INT=16777216,Y.GPUIO_INT_PRECISION="GPUIO_INT_PRECISION",Y.GPUIO_FLOAT_PRECISION="GPUIO_FLOAT_PRECISION",Y.BOUNDARY_TOP="BOUNDARY_TOP",Y.BOUNDARY_BOTTOM="BOUNDARY_BOTTOM",Y.BOUNDARY_LEFT="BOUNDARY_LEFT",Y.BOUNDARY_RIGHT="BOUNDARY_RIGHT"},690:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.glslComponentSelectionForNumComponents=Y.glslPrefixForType=Y.glslTypeForType=Y.arrayConstructorForType=Y.uniformTypeForType=Y.intForPrecision=void 0;var Q=D(601);function ee(le){if(le===Q.PRECISION_HIGH_P)return 2;if(le===Q.PRECISION_MEDIUM_P)return 1;if(le===Q.PRECISION_LOW_P)return 0;throw new Error("Unknown shader precision value: ".concat(JSON.stringify(le),"."))}Y.intForPrecision=ee;function q(le,se){switch(le){case Q.HALF_FLOAT:case Q.FLOAT:return Q.FLOAT;case Q.UNSIGNED_BYTE:case Q.UNSIGNED_SHORT:case Q.UNSIGNED_INT:return se===Q.GLSL1?Q.INT:Q.UINT;case Q.BYTE:case Q.SHORT:case Q.INT:return Q.INT;default:throw new Error("Invalid type: ".concat(le," passed to glslKeyForType."))}}Y.uniformTypeForType=q;function te(le,se){switch(se===void 0&&(se=!1),le){case Q.HALF_FLOAT:return se?Float32Array:Uint16Array;case Q.FLOAT:return Float32Array;case Q.UNSIGNED_BYTE:return Uint8Array;case Q.BYTE:return Int8Array;case Q.UNSIGNED_SHORT:return Uint16Array;case Q.SHORT:return Int16Array;case Q.UNSIGNED_INT:return Uint32Array;case Q.INT:return Int32Array;default:throw new Error('Unsupported type: "'.concat(le,'".'))}}Y.arrayConstructorForType=te;function ie(le,se){switch(le){case Q.HALF_FLOAT:case Q.FLOAT:return se===1?"float":"vec".concat(se);case Q.UNSIGNED_BYTE:case Q.UNSIGNED_SHORT:case Q.UNSIGNED_INT:return se===1?"uint":"uvec".concat(se);case Q.BYTE:case Q.SHORT:case Q.INT:return se===1?"int":"ivec".concat(se)}throw new Error("Invalid type: ".concat(le," passed to glslTypeForType."))}Y.glslTypeForType=ie;function ne(le){switch(le){case Q.HALF_FLOAT:case Q.FLOAT:return"";case Q.UNSIGNED_BYTE:case Q.UNSIGNED_SHORT:case Q.UNSIGNED_INT:return"u";case Q.BYTE:case Q.SHORT:case Q.INT:return"i"}throw new Error("Invalid type: ".concat(le," passed to glslPrefixForType."))}Y.glslPrefixForType=ne;function ce(le){switch(le){case 1:return".x";case 2:return".xy";case 3:return".xyz";case 4:return""}throw new Error("Invalid numComponents: ".concat(le," passed to glslComponentSelectionForNumComponents."))}Y.glslComponentSelectionForNumComponents=ce},581:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getExtension=Y.OES_STANDARD_DERIVATIVES=Y.OES_ELEMENT_INDEX_UINT=Y.OES_VERTEX_ARRAY_OBJECT=Y.EXT_COLOR_BUFFER_HALF_FLOAT=Y.EXT_COLOR_BUFFER_FLOAT=Y.WEBGL_DEPTH_TEXTURE=Y.OES_TEXTURE_HAlF_FLOAT_LINEAR=Y.OES_TEXTURE_FLOAT_LINEAR=Y.OES_TEXTURE_HALF_FLOAT=Y.OES_TEXTURE_FLOAT=void 0,Y.OES_TEXTURE_FLOAT="OES_texture_float",Y.OES_TEXTURE_HALF_FLOAT="OES_texture_half_float",Y.OES_TEXTURE_FLOAT_LINEAR="OES_texture_float_linear",Y.OES_TEXTURE_HAlF_FLOAT_LINEAR="OES_texture_half_float_linear",Y.WEBGL_DEPTH_TEXTURE="WEBGL_depth_texture",Y.EXT_COLOR_BUFFER_FLOAT="EXT_color_buffer_float",Y.EXT_COLOR_BUFFER_HALF_FLOAT="EXT_color_buffer_half_float",Y.OES_VERTEX_ARRAY_OBJECT="OES_vertex_array_object",Y.OES_ELEMENT_INDEX_UINT="OES_element_index_uint",Y.OES_STANDARD_DERIVATIVES="OES_standard_derivatives";function D(Q,ee,q){if(q===void 0&&(q=!1),Q._extensions[ee]!==void 0)return Q._extensions[ee];var te=Q.gl,ie=Q._errorCallback,ne=Q._extensions;Q.verboseLogging;var ce;try{ce=te.getExtension(ee)}catch{}return ce?(ne[ee]=ce,Q.verboseLogging&&console.log("Loaded extension: ".concat(ee,"."))):(ne[ee]=!1,Q.verboseLogging&&console.log("Unsupported ".concat(q?"optional ":"","extension: ").concat(ee,"."))),!ce&&!q&&ie("Required extension unsupported by this device / browser: ".concat(ee,".")),ce}Y.getExtension=D},798:function(J,Y){var D=this&&this.__spreadArray||function(ne,ce,le){if(le||arguments.length===2)for(var se=0,pe=ce.length,ue;se<pe;se++)(ue||!(se in ce))&&(ue||(ue=Array.prototype.slice.call(ce,0,se)),ue[se]=ce[se]);return ne.concat(ue||Array.prototype.slice.call(ce))};Object.defineProperty(Y,"__esModule",{value:!0}),Y.disposeFramebuffers=Y.bindFrameBuffer=void 0;var Q=new WeakMap,ee=new WeakMap;function q(ne,ce,le,se){var pe=ne.gl,ue=ne._errorCallback,ae=ne.isWebGL2,de=pe.createFramebuffer();if(!de){ue('Could not init framebuffer for GPULayer "'.concat(ce.name,'": ').concat(pe.getError(),"."));return}if(pe.bindFramebuffer(pe.FRAMEBUFFER,de),pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,le,0),se){if(!ae)throw new Error("WebGL1 does not support drawing to multiple outputs.");if(se.length>15)throw new Error("Can't draw to more than 16 outputs.");for(var be=0,he=se.length;be<he;be++)pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0+be+1,pe.TEXTURE_2D,se[be],0)}var Le=pe.checkFramebufferStatus(pe.FRAMEBUFFER);return Le!==pe.FRAMEBUFFER_COMPLETE&&ue('Invalid status for framebuffer for GPULayer "'.concat(ce.name,'": ').concat(Le,".")),de}function te(ne,ce,le,se){var pe=ne.gl,ue=se?D([le],se,!0):le,ae=Q.get(ue);if(!ae){if(ae=q(ne,ce,le,se),!ae)return;Q.set(ue,ae);var de=ee.get(le)||[];if(de.push(ae),ee.set(le,de),se)for(var be=0,he=se.length;be<he;be++){var Le=se[be],Xe=ee.get(Le)||[];Xe.push(ae),ee.set(Le,Xe)}}pe.bindFramebuffer(pe.FRAMEBUFFER,ae)}Y.bindFrameBuffer=te;function ie(ne,ce){ne.bindFramebuffer(ne.FRAMEBUFFER,null);var le=ee.get(ce);if(le)for(var se=0,pe=le.length;se<pe;se++)ne.deleteFramebuffer(le[se]);ee.delete(ce)}Y.disposeFramebuffers=ie},724:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.PRECISION_SOURCE=void 0;var Q=D(601),ee=D(690);Y.PRECISION_SOURCE=`
#if (`.concat(Q.GPUIO_INT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_LOW_P),`)
	precision lowp int;
	#if (__VERSION__ == 300)
		precision lowp isampler2D;
		precision lowp usampler2D;
	#endif
#elif (`).concat(Q.GPUIO_INT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_MEDIUM_P),`)
	precision mediump int;
	#if (__VERSION__ == 300)
		precision mediump isampler2D;
		precision mediump usampler2D;
	#endif
#else 
	#ifdef GL_FRAGMENT_PRECISION_HIGH
		precision highp int;
		#if (__VERSION__ == 300)
			precision highp isampler2D;
			precision highp usampler2D;
		#endif
	#else
		precision mediump int;
		#if (__VERSION__ == 300)
			precision mediump isampler2D;
			precision mediump usampler2D;
		#endif
	#endif
#endif
#if (`).concat(Q.GPUIO_FLOAT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_LOW_P),`)
	precision lowp float;
	precision lowp sampler2D;
#elif (`).concat(Q.GPUIO_FLOAT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_MEDIUM_P),`)
	precision mediump float;
	precision mediump sampler2D;
#else
	#ifdef GL_FRAGMENT_PRECISION_HIGH
		precision highp float;
		precision highp sampler2D;
	#else
		precision mediump float;
		precision mediump sampler2D;
	#endif
#endif
`)},651:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.DEFAULT_VERT_SHADER_SOURCE=void 0;var Q=D(601);Y.DEFAULT_VERT_SHADER_SOURCE=`
in vec2 a_gpuio_position;
#ifdef `.concat(Q.GPUIO_VS_UV_ATTRIBUTE,`
	in vec2 a_gpuio_uv;
#endif
#ifdef `).concat(Q.GPUIO_VS_NORMAL_ATTRIBUTE,`
	in vec2 a_gpuio_normal;
#endif

uniform vec2 u_gpuio_scale;
uniform vec2 u_gpuio_translation;

out vec2 v_uv;
out vec2 v_uv_local;
#ifdef `).concat(Q.GPUIO_VS_NORMAL_ATTRIBUTE,`
	out vec2 v_normal;
#endif

void main() {
	// Optional varyings.
	#ifdef `).concat(Q.GPUIO_VS_UV_ATTRIBUTE,`
		v_uv_local = a_gpuio_uv;
	#else
		v_uv_local = 0.5 * (a_gpuio_position + 1.0);
	#endif
	#ifdef `).concat(Q.GPUIO_VS_NORMAL_ATTRIBUTE,`
		v_normal = a_gpuio_normal;
	#endif

	// Apply transformations.
	vec2 position = u_gpuio_scale * a_gpuio_position + u_gpuio_translation;

	// Calculate a global uv for the viewport.
	v_uv = 0.5 * (position + 1.0);

	// Calculate vertex position.
	gl_Position = vec4(position, 0, 1);
}`)},567:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_LINES_VERTEX_SHADER_SOURCE=void 0;var Q=D(601),ee=D(324);Y.LAYER_LINES_VERTEX_SHADER_SOURCE=`
`.concat(ee.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300 || `).concat(Q.GPUIO_VS_INDEXED_POSITIONS,` == 1)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_positions; // Texture lookup with position data.
uniform vec2 u_gpuio_positionsDimensions;
uniform vec2 u_gpuio_scale;

out vec2 v_uv;
out vec2 v_lineWrapping; // Use this to test if line is only half wrapped and should not be rendered.
flat out int v_index;

void main() {
	// Calculate a uv based on the point's index attribute.
	#if (__VERSION__ != 300 || `).concat(Q.GPUIO_VS_INDEXED_POSITIONS,` == 1)
		vec2 positionUV = uvFromIndex(a_gpuio_index, u_gpuio_positionsDimensions);
		v_index = int(a_gpuio_index);
	#else
		vec2 positionUV = uvFromIndex(gl_VertexID, u_gpuio_positionsDimensions);
		v_index = gl_VertexID;
	#endif

	// Calculate a global uv for the viewport.
	// Lookup vertex position and scale to [0, 1] range.
	#ifdef `).concat(Q.GPUIO_VS_POSITION_W_ACCUM,`
		// We have packed a 2D displacement with the position.
		vec4 positionData = texture(u_gpuio_positions, positionUV);
		// position = first two components plus last two components (optional accumulation buffer).
		v_uv = (positionData.rg + positionData.ba) * u_gpuio_scale;
	#else
		v_uv = texture(u_gpuio_positions, positionUV).rg  * u_gpuio_scale;
	#endif

	// Wrap if needed.
	v_lineWrapping = vec2(0.0);
	#ifdef `).concat(Q.GPUIO_VS_WRAP_X,`
		v_lineWrapping.x = max(step(1.0, v_uv.x), step(v_uv.x, 0.0));
		v_ux.x = fract(v_uv.x + 1.0);
	#endif
	#ifdef `).concat(Q.GPUIO_VS_WRAP_Y,`
		v_lineWrapping.y = max(step(1.0, v_uv.y), step(v_uv.y, 0.0));
		v_ux.y = fract(v_uv.y + 1.0);
	#endif

	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_Position = vec4(position, 0, 1);
}`)},380:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_MESH_VERTEX_SHADER_SOURCE=void 0;var Q=D(601),ee=D(324);Y.LAYER_MESH_VERTEX_SHADER_SOURCE=`
`.concat(ee.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_positions; // Texture lookup with position data.
uniform vec2 u_gpuio_positionsDimensions;
uniform vec2 u_gpuio_scale;

out vec2 v_uv;
out vec2 v_uv_position;
out vec2 v_position;
flat out int v_index;

void main() {
	// Calculate a uv based on the point's index attribute.
	#if (__VERSION__ == 300)
		v_uv_position = uvFromIndex(gl_VertexID, u_gpuio_positionsDimensions);
		v_index = gl_VertexID;
	#else
		v_uv_position = uvFromIndex(a_gpuio_index, u_gpuio_positionsDimensions);
		v_index = int(a_gpuio_index);
	#endif

	// Calculate a global uv for the viewport.
	// Lookup vertex position and scale to [0, 1] range.
	#ifdef `).concat(Q.GPUIO_VS_POSITION_W_ACCUM,`
		// We have packed a 2D displacement with the position.
		vec4 positionData = texture(u_gpuio_positions, v_uv_position);
		// position = first two components plus last two components (optional accumulation buffer).
		v_position = positionData.rg + positionData.ba;
		v_uv = v_position * u_gpuio_scale;
	#else
		v_position = texture(u_gpuio_positions, v_uv_position).rg;
		v_uv = v_position * u_gpuio_scale;
	#endif

	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_Position = vec4(position, 0, 1);
}`)},929:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_POINTS_VERTEX_SHADER_SOURCE=void 0;var Q=D(601),ee=D(324);Y.LAYER_POINTS_VERTEX_SHADER_SOURCE=`
`.concat(ee.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_positions; // Texture lookup with position data.
uniform vec2 u_gpuio_positionsDimensions;
uniform vec2 u_gpuio_scale;
uniform float u_gpuio_pointSize;

out vec2 v_uv;
out vec2 v_uv_position;
out vec2 v_position;
flat out int v_index;

void main() {
	// Calculate a uv based on the point's index attribute.
	#if (__VERSION__ == 300)
		v_uv_position = uvFromIndex(gl_VertexID, u_gpuio_positionsDimensions);
		v_index = gl_VertexID;
	#else
		v_uv_position = uvFromIndex(a_gpuio_index, u_gpuio_positionsDimensions);
		v_index = int(a_gpuio_index);
	#endif

	// Calculate a global uv for the viewport.
	// Lookup vertex position and scale to [0, 1] range.
	#ifdef `).concat(Q.GPUIO_VS_POSITION_W_ACCUM,`
		// We have packed a 2D displacement with the position.
		vec4 positionData = texture(u_gpuio_positions, v_uv_position);
		// position = first two components plus last two components (optional accumulation buffer).
		v_position = positionData.rg + positionData.ba;
		v_uv = v_position * u_gpuio_scale;
	#else
		v_position = texture(u_gpuio_positions, v_uv_position).rg;
		v_uv = v_position * u_gpuio_scale;
	#endif

	// Wrap if needed.
	#ifdef `).concat(Q.GPUIO_VS_WRAP_X,`
		v_uv.x = fract(v_uv.x + ceil(abs(v_uv.x)));
	#endif
	#ifdef `).concat(Q.GPUIO_VS_WRAP_Y,`
		v_uv.y = fract(v_uv.y + ceil(abs(v_uv.y)));
	#endif

	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_PointSize = u_gpuio_pointSize;
	gl_Position = vec4(position, 0, 1);
}`)},634:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_VECTOR_FIELD_VERTEX_SHADER_SOURCE=void 0;var Q=D(324);Y.LAYER_VECTOR_FIELD_VERTEX_SHADER_SOURCE=`
`.concat(Q.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_vectors; // Texture lookup with vector data.
uniform vec2 u_gpuio_dimensions;
uniform vec2 u_gpuio_scale;

out vec2 v_uv;
flat out int v_index;

void main() {
	#if (__VERSION__ == 300)
		// Divide index by 2.
		int index = gl_VertexID / 2;
		v_index = index;
	#else
		// Divide index by 2.
		float index = floor((a_gpuio_index + 0.5) / 2.0);
		v_index = int(index);
	#endif

	// Calculate a uv based on the vertex index attribute.
	v_uv = uvFromIndex(index, u_gpuio_dimensions);
	#if (__VERSION__ == 300)
		// Add vector displacement if needed.
		v_uv += float(gl_VertexID - 2 * index) * texture(u_gpuio_vectors, v_uv).xy * u_gpuio_scale;
	#else
		// Add vector displacement if needed.
		v_uv += (a_gpuio_index - 2.0 * index) * texture(u_gpuio_vectors, v_uv).xy * u_gpuio_scale;
	#endif


	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_Position = vec4(position, 0, 1);
}`)},946:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.SEGMENT_VERTEX_SHADER_SOURCE=void 0,Y.SEGMENT_VERTEX_SHADER_SOURCE=`
in vec2 a_gpuio_position;

uniform float u_gpuio_halfThickness;
uniform vec2 u_gpuio_scale;
uniform float u_gpuio_length;
uniform float u_gpuio_rotation;
uniform vec2 u_gpuio_translation;

out vec2 v_uv_local;
out vec2 v_uv;

mat2 rotate2d(float _angle){
	return mat2(cos(_angle), -sin(_angle), sin(_angle), cos(_angle));
}

void main() {
	// Calculate UV coordinates of current rendered object.
	v_uv_local = 0.5 * (a_gpuio_position + 1.0);

	vec2 position = a_gpuio_position;
	// Apply thickness / radius.
	position *= u_gpuio_halfThickness;
	// Stretch center of shape to form a round-capped line segment.
	float signX = sign(position.x);
	position.x += signX * u_gpuio_length / 2.0;
	v_uv_local.x = (signX + 1.0) / 2.0;// Set entire cap uv.x to 1 or 0.
	// Apply transformations.
	position = u_gpuio_scale * (rotate2d(-u_gpuio_rotation) * position) + u_gpuio_translation;

	// Calculate a global uv for the viewport.
	v_uv = 0.5 * (position + 1.0);

	// Calculate vertex position.
	gl_Position = vec4(position, 0, 1);
}`},324:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.VERTEX_SHADER_HELPERS_SOURCE=void 0,Y.VERTEX_SHADER_HELPERS_SOURCE=`
/**
 * Create UV coordinates from a 1D index for data stored in a texture of size "dimensions".
 */
vec2 uvFromIndex(const float index, const vec2 dimensions) {
	float y = floor((index + 0.5) / dimensions.x);
	float x = floor(index - y * dimensions.x + 0.5);
	return vec2(x + 0.5, y + 0.5) / dimensions;
}
vec2 uvFromIndex(const int index, const vec2 dimensions) {
	int width = int(dimensions.x);
	int y = index / width;
	int x = index - y * width;
	return vec2(float(x) + 0.5, float(y) + 0.5) / dimensions;
}
vec2 uvFromIndex(const float index, const ivec2 dimensions) {
	float width = float(dimensions.x);
	float y = floor((index + 0.5) / width);
	float x = floor(index - y * width + 0.5);
	return vec2(x + 0.5, y + 0.5) / vec2(dimensions);
}
vec2 uvFromIndex(const int index, const ivec2 dimensions) {
	int y = index / dimensions.x;
	int x = index - y * dimensions.x;
	return vec2(float(x) + 0.5, float(y) + 0.5) / vec2(dimensions);
}`},607:function(J,Y,D){var Q=this&&this.__assign||function(){return Q=Object.assign||function(it){for(var st,qe=1,ot=arguments.length;qe<ot;qe++){st=arguments[qe];for(var ut in st)Object.prototype.hasOwnProperty.call(st,ut)&&(it[ut]=st[ut])}return it},Q.apply(this,arguments)},ee=this&&this.__createBinding||(Object.create?function(it,st,qe,ot){ot===void 0&&(ot=qe);var ut=Object.getOwnPropertyDescriptor(st,qe);(!ut||("get"in ut?!st.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return st[qe]}}),Object.defineProperty(it,ot,ut)}:function(it,st,qe,ot){ot===void 0&&(ot=qe),it[ot]=st[qe]}),q=this&&this.__exportStar||function(it,st){for(var qe in it)qe!=="default"&&!Object.prototype.hasOwnProperty.call(st,qe)&&ee(st,it,qe)};Object.defineProperty(Y,"__esModule",{value:!0}),Y._testing=Y.renderRGBProgram=Y.zeroProgram=Y.setColorProgram=Y.setValueProgram=Y.renderSignedAmplitudeProgram=Y.renderAmplitudeProgram=Y.multiplyValueProgram=Y.addValueProgram=Y.addLayersProgram=Y.copyProgram=Y.getFragmentShaderMediumpPrecision=Y.getVertexShaderMediumpPrecision=Y.isHighpSupportedInFragmentShader=Y.isHighpSupportedInVertexShader=Y.isWebGL2Supported=Y.isWebGL2=Y.GPUIndexBuffer=Y.GPUProgram=Y.GPULayer=Y.GPUComposer=void 0;var te=D(593),ie=D(484);Object.defineProperty(Y,"GPUComposer",{enumerable:!0,get:function(){return ie.GPUComposer}});var ne=D(355);Object.defineProperty(Y,"GPULayer",{enumerable:!0,get:function(){return ne.GPULayer}});var ce=D(191),le=D(664);Object.defineProperty(Y,"GPUProgram",{enumerable:!0,get:function(){return le.GPUProgram}});var se=D(981);Object.defineProperty(Y,"GPUIndexBuffer",{enumerable:!0,get:function(){return se.GPUIndexBuffer}});var pe=D(707),ue=D(126),ae=D(581),de=D(360),be=D(690),he=D(579),Le=Q(Q(Q(Q(Q(Q({isFloatType:te.isFloatType,isUnsignedIntType:te.isUnsignedIntType,isSignedIntType:te.isSignedIntType,isIntType:te.isIntType,makeShaderHeader:te.makeShaderHeader,compileShader:te.compileShader,initGLProgram:te.initGLProgram,readyToRead:te.readyToRead,preprocessVertexShader:te.preprocessVertexShader,preprocessFragmentShader:te.preprocessFragmentShader,isPowerOf2:te.isPowerOf2,initSequentialFloatArray:te.initSequentialFloatArray,uniformInternalTypeForValue:te.uniformInternalTypeForValue,indexOfLayerInArray:te.indexOfLayerInArray,readPixelsAsync:te.readPixelsAsync},ae),ue),pe),ce),de),be);Y._testing=Le;var Xe=te.isWebGL2,We=te.isWebGL2Supported,fe=te.isHighpSupportedInVertexShader,Re=te.isHighpSupportedInFragmentShader,ye=te.getVertexShaderMediumpPrecision,re=te.getFragmentShaderMediumpPrecision;Y.isWebGL2=Xe,Y.isWebGL2Supported=We,Y.isHighpSupportedInVertexShader=fe,Y.isHighpSupportedInFragmentShader=Re,Y.getVertexShaderMediumpPrecision=ye,Y.getFragmentShaderMediumpPrecision=re;var Ze=he.copyProgram,Ge=he.addLayersProgram,ve=he.addValueProgram,Te=he.multiplyValueProgram,xe=he.setValueProgram,Ye=he.setColorProgram,ge=he.zeroProgram,Me=he.renderRGBProgram,je=he.renderAmplitudeProgram,tt=he.renderSignedAmplitudeProgram;Y.copyProgram=Ze,Y.addLayersProgram=Ge,Y.addValueProgram=ve,Y.multiplyValueProgram=Te,Y.setValueProgram=xe,Y.setColorProgram=Ye,Y.zeroProgram=ge,Y.renderRGBProgram=Me,Y.renderAmplitudeProgram=je,Y.renderSignedAmplitudeProgram=tt,q(D(601),Y)},360:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.fragmentShaderPolyfills=Y.GLSL1Polyfills=Y.texturePolyfill=Y.SAMPLER2D_DIMENSIONS_UNIFORM=Y.SAMPLER2D_HALF_PX_UNIFORM=Y.SAMPLER2D_FILTER=Y.SAMPLER2D_CAST_INT=Y.SAMPLER2D_WRAP_Y=Y.SAMPLER2D_WRAP_X=void 0;var Q=D(601),ee=D(126);Y.SAMPLER2D_WRAP_X="GPUIO_WRAP_X",Y.SAMPLER2D_WRAP_Y="GPUIO_WRAP_Y",Y.SAMPLER2D_CAST_INT="GPUIO_CAST_INT",Y.SAMPLER2D_FILTER="GPUIO_FILTER",Y.SAMPLER2D_HALF_PX_UNIFORM="u_gpuio_half_px",Y.SAMPLER2D_DIMENSIONS_UNIFORM="u_gpuio_dimensions";function q(ge){var Me=ge.match(/\btexture\(/g);if(!Me||Me.length===0)return{shaderSource:ge,samplerUniforms:[]};var je=(0,ee.getSampler2DsInProgram)(ge);if(je.length===0)return{shaderSource:ge,samplerUniforms:je};je.forEach(function(dt,mt){var Je=new RegExp("\\btexture(2D)?\\(\\s?".concat(dt,"\\b"),"gs");ge=ge.replace(Je,"GPUIO_TEXTURE_POLYFILL".concat(mt,"(").concat(dt))});var tt=ge.match(/\btexture(2D)?\(/g);tt?.length&&console.warn("Fragment shader polyfill has missed some calls to texture().",ge);for(var it={},st=0;st<je.length;st++)it["".concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(st)]="vec2",it["".concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(st)]="vec2";function qe(dt,mt,Je){Je===void 0&&(Je="");var Ne=Je===""?"":")",ke=Je===""?mt:"i";return`
`.concat(ke,"vec4 GPUIO_TEXTURE_POLYFILL").concat(dt,"(const ").concat(mt,`sampler2D sampler, const vec2 uv) {
	`).concat(mt===""?"#if (".concat(Y.SAMPLER2D_FILTER).concat(dt," == 0)"):"",`
		#if (`).concat(Y.SAMPLER2D_WRAP_X).concat(dt,` == 0)
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"texture(sampler, uv)").concat(Ne,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_WRAP_CLAMP_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,")").concat(Ne,`;
			#endif
		#else
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"GPUIO_TEXTURE_WRAP_REPEAT_CLAMP(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,")").concat(Ne,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_WRAP_REPEAT_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,")").concat(Ne,`;
			#endif
		#endif
	`).concat(mt===""?`#else
		#if (`.concat(Y.SAMPLER2D_WRAP_X).concat(dt,` == 0)
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Ne,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP_WRAP_CLAMP_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Ne,`;
			#endif
		#else
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP_WRAP_REPEAT_CLAMP(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Ne,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP_WRAP_REPEAT_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Ne,`;
			#endif
		#endif
	#endif`):"",`
}
`)}function ot(dt){return`
`.concat(dt,"vec4 GPUIO_TEXTURE_WRAP_REPEAT_REPEAT(const ").concat(dt,`sampler2D sampler, const vec2 uv, const vec2 halfPx) {
	return texture(sampler, GPUIO_WRAP_REPEAT_UV(uv));
}
`).concat(dt,"vec4 GPUIO_TEXTURE_WRAP_REPEAT_CLAMP(const ").concat(dt,`sampler2D sampler, vec2 uv, const vec2 halfPx) {
	uv.x = GPUIO_WRAP_REPEAT_UV_COORD(uv.x);
	// uv.y = GPUIO_WRAP_CLAMP_UV_COORD(uv.y, halfPx.y);
	return texture(sampler, uv);
}
`).concat(dt,"vec4 GPUIO_TEXTURE_WRAP_CLAMP_REPEAT(const ").concat(dt,`sampler2D sampler, vec2 uv, const vec2 halfPx) {
	// uv.x = GPUIO_WRAP_CLAMP_UV_COORD(uv.x, halfPx.x);
	uv.y = GPUIO_WRAP_REPEAT_UV_COORD(uv.y);
	return texture(sampler, uv);
}
`)}function ut(dt){var mt=dt?"GPUIO_TEXTURE_WRAP_".concat(dt):"texture",Je=dt?", halfPx":"";return`
vec4 GPUIO_TEXTURE_BILINEAR_INTERP`.concat(dt?"_WRAP_".concat(dt):"",`(const sampler2D sampler, const vec2 uv, const vec2 halfPx, const vec2 dimensions) {
	vec2 pxFraction = fract(uv * dimensions);
	vec2 offset = halfPx - vec2(0.00001, 0.00001) * max(
			step(abs(pxFraction.x - 0.5), 0.001),
			step(abs(pxFraction.y - 0.5), 0.001)
		);
	vec2 baseUV = uv - offset;
	vec2 diagOffset = vec2(offset.x, -offset.y);
	vec4 minmin = `).concat(mt,"(sampler, baseUV").concat(Je,`);
	vec4 maxmin = `).concat(mt,"(sampler, uv + diagOffset").concat(Je,`);
	vec4 minmax = `).concat(mt,"(sampler, uv - diagOffset").concat(Je,`);
	vec4 maxmax = `).concat(mt,"(sampler, uv + offset").concat(Je,`);
	vec2 t = fract(baseUV * dimensions);
	vec4 yMin = mix(minmin, maxmin, t.x);
	vec4 yMax = mix(minmax, maxmax, t.x);
	return mix(yMin, yMax, t.y);
}
`)}return ge=`
`.concat(Object.keys(it).map(function(dt){return"uniform ".concat(it[dt]," ").concat(dt,";")}).join(`
`),`

float GPUIO_WRAP_REPEAT_UV_COORD(const float coord) {
	return fract(coord + ceil(abs(coord)));
}
vec2 GPUIO_WRAP_REPEAT_UV(const vec2 uv) {
	return fract(uv + ceil(abs(uv)));
}
// float GPUIO_WRAP_CLAMP_UV_COORD(const float coord, const float halfPx) {
// 	return clamp(coord, halfPx, 1.0 - halfPx);
// }

`).concat(ot(""),`
#if (__VERSION__ == 300)
`).concat(["u","i"].map(function(dt){return ot(dt)}).join(`
`),`
#endif

`).concat([null,"REPEAT_REPEAT","REPEAT_CLAMP","CLAMP_REPEAT"].map(function(dt){return ut(dt)}).join(`
`),`

`).concat(je.map(function(dt,mt){return"#ifndef ".concat(Y.SAMPLER2D_CAST_INT).concat(mt,`
	`).concat(qe(mt,""),`
#endif`)}).join(`
`),`
#if (__VERSION__ == 300)
`).concat(["u","i"].map(function(dt){return je.map(function(mt,Je){return qe(Je,dt)}).join(`
`)}).join(`
`),`
#else
	`).concat(je.map(function(dt,mt){return"#ifdef ".concat(Y.SAMPLER2D_CAST_INT).concat(mt,`
	`).concat(qe(mt,"","ivec4("),`
#endif`)}).join(`
`),`
#endif

`).concat(ge),{shaderSource:ge,samplerUniforms:je}}Y.texturePolyfill=q;function te(ge){switch(ge){case"int":case"uint":return"float";case"ivec2":case"uvec2":return"vec2";case"ivec3":case"uvec3":return"vec3";case"ivec4":case"uvec4":return"vec4"}throw new Error("Unknown type ".concat(ge,"."))}function ie(ge){switch(ge){case"bool":return"float";case"bvec2":return"vec2";case"bvec3":return"vec3";case"bvec4":return"vec4"}throw new Error("Unknown type ".concat(ge,"."))}function ne(ge){return"".concat(ge," abs(const ").concat(ge," a) { return ").concat(ge,"(abs(").concat(te(ge),"(a))); }")}function ce(ge){return"".concat(ge," sign(const ").concat(ge," a) { return ").concat(ge,"(sign(").concat(te(ge),"(a))); }")}function le(ge){return"".concat(ge," trunc(const ").concat(ge," a) { return round(a - fract(a) * sign(a)); }")}function se(ge){return"".concat(ge," round(const ").concat(ge," a) { return floor(a + 0.5); }")}function pe(ge){return"".concat(ge," roundEven(const ").concat(ge," a) { return 2.0 * round(a / 2.0); }")}function ue(ge,Me){return"".concat(ge," min(const ").concat(ge," a, const ").concat(Me," b) { return ").concat(ge,"(min(").concat(te(ge),"(a), ").concat(te(Me),"(b))); }")}function ae(ge,Me){return"".concat(ge," max(const ").concat(ge," a, const ").concat(Me," b) { return ").concat(ge,"(max(").concat(te(ge),"(a), ").concat(te(Me),"(b))); }")}function de(ge,Me){return"".concat(ge," clamp(const ").concat(ge," a, const ").concat(Me," min, const ").concat(Me," max) { return ").concat(ge,"(clamp(").concat(te(ge),"(a), ").concat(te(Me),"(min), ").concat(te(Me),"(max))); }")}function be(ge,Me){return"".concat(ge," mix(const ").concat(ge," a, const ").concat(ge," b, const ").concat(Me," c) { return mix(a, b, ").concat(ie(Me),"(c)); }")}function he(ge,Me,je){return"a[".concat(ge,"][").concat(Me,"] * a[").concat((ge+1)%je,"][").concat((Me+1)%je,"] - a[").concat((ge+1)%je,"][").concat(Me,"] * a[").concat(ge,"][").concat((Me+1)%je,"]")}function Le(ge,Me,je){return[0,1,2].map(function(tt){return"a[".concat(ge,"][").concat((Me+tt)%je,"] * (").concat(he((ge+1)%je,(Me+1+tt)%je,je),")")}).join(" + ")}function Xe(ge,Me,je){return[0,1,2,3].map(function(tt){return"a[".concat(ge,"][").concat((Me+tt)%je,"] * (").concat(Le((ge+1)%je,(Me+1+tt)%je,je),")")}).join(" + ")}function We(ge){var Me="";return ge.includes("abs")&&(Me+=`


`.concat(ne("int"),`
`).concat(ne("ivec2"),`
`).concat(ne("ivec3"),`
`).concat(ne("ivec4"),`
`)),ge.includes("sign")&&(Me+=`


`.concat(ce("int"),`
`).concat(ce("ivec2"),`
`).concat(ce("ivec3"),`
`).concat(ce("ivec4"),`
`)),ge.includes("round")&&(Me+=`


`.concat(se("float"),`
`).concat(se("vec2"),`
`).concat(se("vec3"),`
`).concat(se("vec4"),`
`)),ge.includes("trunc")&&(Me+=`


`.concat(le("float"),`
`).concat(le("vec2"),`
`).concat(le("vec3"),`
`).concat(le("vec4"),`
`)),ge.includes("roundEven")&&(Me+=`


`.concat(pe("float"),`
`).concat(pe("vec2"),`
`).concat(pe("vec3"),`
`).concat(pe("vec4"),`
`)),ge.includes("min")&&(Me+=`


`.concat(ue("int","int"),`
`).concat(ue("ivec2","ivec2"),`
`).concat(ue("ivec3","ivec3"),`
`).concat(ue("ivec4","ivec4"),`
`).concat(ue("ivec2","int"),`
`).concat(ue("ivec3","int"),`
`).concat(ue("ivec4","int"),`
`)),ge.includes("max")&&(Me+=`


`.concat(ae("int","int"),`
`).concat(ae("ivec2","ivec2"),`
`).concat(ae("ivec3","ivec3"),`
`).concat(ae("ivec4","ivec4"),`
`).concat(ae("ivec2","int"),`
`).concat(ae("ivec3","int"),`
`).concat(ae("ivec4","int"),`
`)),ge.includes("clamp")&&(Me+=`


`.concat(de("int","int"),`
`).concat(de("ivec2","ivec2"),`
`).concat(de("ivec3","ivec3"),`
`).concat(de("ivec4","ivec4"),`
`).concat(de("ivec2","int"),`
`).concat(de("ivec3","int"),`
`).concat(de("ivec4","int"),`
`)),ge.includes("mix")&&(Me+=`


`.concat(be("float","bool"),`
`).concat(be("vec2","bvec2"),`
`).concat(be("vec3","bvec3"),`
`).concat(be("vec4","bvec4"),`
`)),ge.includes("outerProduct")&&(Me+=`


mat2 outerProduct(const vec2 a, const vec2 b) {
	return mat2(
		a.x * b.x, a.x * b.y,
		a.y * b.x, a.y * b.y
	);
}
mat3 outerProduct(const vec3 a, const vec3 b) {
	return mat3(
		a.x * b.x, a.x * b.y, a.x * b.z,
		a.y * b.x, a.y * b.y, a.y * b.z,
		a.z * b.x, a.z * b.y, a.z * b.z
	);
}
mat4 outerProduct(const vec4 a, const vec4 b) {
	return mat4(
		a.x * b.x, a.x * b.y, a.x * b.z, a.x * b.w,
		a.y * b.x, a.y * b.y, a.y * b.z, a.y * b.w,
		a.z * b.x, a.z * b.y, a.z * b.z, a.z * b.w,
		a.w * b.x, a.w * b.y, a.w * b.z, a.w * b.w
	);
}
`),ge.includes("transpose")&&(Me+=`


mat2 transpose(mat2 a) {
	float temp = a[0][1];
	a[0][1] = a[1][0];
	a[1][0] = temp;
	return a;
}
mat3 transpose(mat3 a) {
	float temp = a[0][2];
	a[0][2] = a[2][0];
	a[2][0] = temp;
	temp = a[0][1];
	a[0][1] = a[1][0];
	a[1][0] = temp;
	temp = a[1][2];
	a[1][2] = a[2][1];
	a[2][1] = temp;
	return a;
}
mat4 transpose(mat4 a) {
	float temp = a[0][3];
	a[0][3] = a[3][0];
	a[3][0] = temp;
	temp = a[0][2];
	a[0][2] = a[2][0];
	a[2][0] = temp;
	temp = a[2][3];
	a[2][3] = a[3][2];
	a[3][2] = temp;
	temp = a[0][1];
	a[0][1] = a[1][0];
	a[1][0] = temp;
	temp = a[1][2];
	a[1][2] = a[2][1];
	a[2][1] = temp;
	temp = a[2][3];
	a[2][3] = a[3][2];
	a[3][2] = temp;
	return a;
}
`),ge.includes("determinant")&&(Me+=`


float determinant(const mat2 a) {
	return `.concat(he(0,0,2),`;
}
float determinant(const mat3 a) {
	return `).concat(Le(0,0,3),`;
}
float determinant(const mat4 a) {
	return `).concat(Xe(0,0,4),`;
}
`)),ge.includes("sinh")&&(Me+=`


float sinh(const float x) {
	return (pow(`.concat(Math.E,", x) - pow(").concat(Math.E,`, -x)) / 2.0;
}
`)),ge.includes("cosh")&&(Me+=`


float cosh(const float x) {
	return (pow(`.concat(Math.E,", x) + pow(").concat(Math.E,`, -x)) / 2.0; 
}
`)),ge.includes("tanh")&&(Me+=`


float tanh(const float x) {
	float e = exp(2.0 * x);
	return (e - 1.0) / (e + 1.0);
}
`),ge.includes("asinh")&&(Me+=`


float asinh(const float x) {
	return log(x + sqrt(x * x + 1.0));
}
`),ge.includes("asinh")&&(Me+=`


float acosh(const float x) {
	return log(x + sqrt(x * x - 1.0));
}
`),ge.includes("asinh")&&(Me+=`


float atanh(float x) {
	x = (x + 1.0) / (x - 1.0);
	return 0.5 * log(x * sign(x));
}
`),Me}Y.GLSL1Polyfills=We;function fe(ge,Me){return"vec2 index1DToUV(const ".concat(ge," index1D, const ").concat(Me,` dimensions) {
	`).concat(ge," width = ").concat(ge,`(dimensions.x);
	`).concat(ge,` y = index1D / width;
	`).concat(ge,` x = index1D - width * y;
	float u = (float(x) + 0.5) / float(dimensions.x);
	float v = (float(y) + 0.5) / float(dimensions.y);
	return vec2(u, v);
}`)}function Re(ge,Me){return"".concat(ge," modi(const ").concat(ge," x, const ").concat(Me," y) { return x - y * (x / y); }")}function ye(ge,Me){return"".concat(Me," stepi(const ").concat(ge," x, const ").concat(Me," y) { return ").concat(Me,"(step(").concat(te(ge),"(x), ").concat(te(Me),"(y))); }")}function re(ge,Me){return"".concat(ge," bitshiftLeft(const ").concat(ge," a, const ").concat(Me,` b) {
	#if (__VERSION__ == 300)
		return a << b;
	#else
		return a * `).concat(ge,"(pow(").concat(te(Me),"(2.0), ").concat(te(Me),`(b)));
	#endif
}`)}function Ze(ge,Me){return"".concat(ge," bitshiftRight(const ").concat(ge," a, const ").concat(Me,` b) {
	#if (__VERSION__ == 300)
		return a >> b;
	#else
		return `).concat(ge,"(round(").concat(te(ge),"(a) / pow(").concat(te(Me),"(2.0), ").concat(te(Me),`(b))));
	#endif
}`)}function Ge(ge){return"int bitwiseOr".concat(ge===32?"":ge,`(int a, int b) {
	#if (__VERSION__ == 300)
		return a | b;
	#else
		int result = 0;
		int n = 1;
		
		for (int i = 0; i < `).concat(ge,`; i++) {
			if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
				result += n;
			}
			a = a / 2;
			b = b / 2;
			n = n * 2;
			if(!(a > 0 || b > 0)) {
				break;
			}
		}
		return result;
	#endif
}`)}function ve(ge){return"int bitwiseXOR".concat(ge===32?"":ge,`(int a, int b) {
	#if (__VERSION__ == 300)
		return a ^ b;
	#else
		int result = 0;
		int n = 1;
		
		for (int i = 0; i < `).concat(ge,`; i++) {
			if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
				result += n;
			}
			a = a / 2;
			b = b / 2;
			n = n * 2;
			if(!(a > 0 || b > 0)) {
				break;
			}
		}
		return result;
	#endif
}`)}function Te(ge){return"int bitwiseAnd".concat(ge===32?"":ge,`(int a, int b) {
	#if (__VERSION__ == 300)
		return a & b;
	#else
		int result = 0;
		int n = 1;
		for (int i = 0; i < `).concat(ge,`; i++) {
			if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
				result += n;
			}
			a = a / 2;
			b = b / 2;
			n = n * 2;
			if(!(a > 0 && b > 0)) {
				break;
			}
		}
		return result;
	#endif
}`)}function xe(ge){return"int bitwiseNot".concat(ge===32?"":ge,`(int a) {
	#if (__VERSION__ == 300)
		return ~a;
	#else
		int result = 0;
		int n = 1;

		for (int i = 0; i < `).concat(ge,`; i++) {
			if (modi(a, 2) == 0) {
				result += n;
			}
			a = a / 2;
			n = n * 2;
		}
		return result;
	#endif
}`)}function Ye(ge,Me){var je="";return ge.includes("index1DToUV")&&(je+=`

`.concat(fe("int","ivec2"),`
`).concat(fe("int","vec2"),`
#if (__VERSION__ == 300)
`).concat(fe("int","uvec2"),`
`).concat(fe("uint","uvec2"),`
`).concat(fe("uint","ivec2"),`
`).concat(fe("uint","vec2"),`
#endif
`)),(ge.includes("modi")||Me===Q.GLSL1&&ge.includes("bitwise"))&&(je+=`

`.concat(Re("int","int"),`
`).concat(Re("ivec2","ivec2"),`
`).concat(Re("ivec3","ivec3"),`
`).concat(Re("ivec4","ivec4"),`
`).concat(Re("ivec2","int"),`
`).concat(Re("ivec3","int"),`
`).concat(Re("ivec4","int"),`
#if (__VERSION__ == 300)
`).concat(Re("uint","uint"),`
`).concat(Re("uvec2","uvec2"),`
`).concat(Re("uvec3","uvec3"),`
`).concat(Re("uvec4","uvec4"),`
`).concat(Re("uvec2","uint"),`
`).concat(Re("uvec3","uint"),`
`).concat(Re("uvec4","uint"),`
#endif
`)),ge.includes("stepi")&&(je+=`

`.concat(ye("int","int"),`
`).concat(ye("ivec2","ivec2"),`
`).concat(ye("ivec3","ivec3"),`
`).concat(ye("ivec4","ivec4"),`
`).concat(ye("int","ivec2"),`
`).concat(ye("int","ivec3"),`
`).concat(ye("int","ivec4"),`
#if (__VERSION__ == 300)
`).concat(ye("uint","uint"),`
`).concat(ye("uvec2","uvec2"),`
`).concat(ye("uvec3","uvec3"),`
`).concat(ye("uvec4","uvec4"),`
`).concat(ye("uint","uvec2"),`
`).concat(ye("uint","uvec3"),`
`).concat(ye("uint","uvec4"),`
#endif
`)),ge.includes("bitshiftLeft")&&(je+=`

`.concat(re("int","int"),`
`).concat(re("ivec2","ivec2"),`
`).concat(re("ivec3","ivec3"),`
`).concat(re("ivec4","ivec4"),`
`).concat(re("ivec2","int"),`
`).concat(re("ivec3","int"),`
`).concat(re("ivec4","int"),`
#if (__VERSION__ == 300)
`).concat(re("uint","uint"),`
`).concat(re("uvec2","uvec2"),`
`).concat(re("uvec3","uvec3"),`
`).concat(re("uvec4","uvec4"),`
`).concat(re("uvec2","uint"),`
`).concat(re("uvec3","uint"),`
`).concat(re("uvec4","uint"),`
#endif
`)),ge.includes("bitshiftRight")&&(je+=`

`.concat(Ze("int","int"),`
`).concat(Ze("ivec2","ivec2"),`
`).concat(Ze("ivec3","ivec3"),`
`).concat(Ze("ivec4","ivec4"),`
`).concat(Ze("ivec2","int"),`
`).concat(Ze("ivec3","int"),`
`).concat(Ze("ivec4","int"),`
#if (__VERSION__ == 300)
`).concat(Ze("uint","uint"),`
`).concat(Ze("uvec2","uvec2"),`
`).concat(Ze("uvec3","uvec3"),`
`).concat(Ze("uvec4","uvec4"),`
`).concat(Ze("uvec2","uint"),`
`).concat(Ze("uvec3","uint"),`
`).concat(Ze("uvec4","uint"),`
#endif
`)),ge.includes("bitwiseOr")&&(je+=`

`.concat(Ge(8),`
`).concat(Ge(16),`
`).concat(Ge(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseOr`.concat(tt,`(uint a, uint b) {
	return uint(bitwiseOr`).concat(tt,`(int(a), int(b)));
}`)}).join(`
`),`
#endif
`)),ge.includes("bitwiseXOR")&&(je+=`

`.concat(ve(8),`
`).concat(ve(16),`
`).concat(ve(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseXOR`.concat(tt,`(uint a, uint b) {
	return uint(bitwiseXOR`).concat(tt,`(int(a), int(b)));
}`)}).join(`
`),`
#endif
`)),ge.includes("bitwiseAnd")&&(je+=`

`.concat(Te(8),`
`).concat(Te(16),`
`).concat(Te(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseAnd`.concat(tt,`(uint a, uint b) {
	return uint(bitwiseAnd`).concat(tt,`(int(a), int(b)));
}`)}).join(`
`),`
#endif
`)),ge.includes("bitwiseNot")&&(je+=`

`.concat(xe(8),`
`).concat(xe(16),`
`).concat(xe(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseNot`.concat(tt,`(uint a) {
	return uint(bitwiseNot`).concat(tt,`(int(a)));
}`)}).join(`
`),`
#endif
`)),je}Y.fragmentShaderPolyfills=Ye},126:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getSampler2DsInProgram=Y.stripComments=Y.stripPrecision=Y.stripVersion=Y.highpToMediump=Y.glsl1Uint=Y.glsl1Sampler2D=Y.glsl1Texture=Y.checkFragmentShaderForFragColor=Y.glsl1FragmentOut=Y.getFragmentOuts=Y.glsl1FragmentIn=Y.glsl1VertexOut=Y.castVaryingToFloat=Y.glsl1VertexIn=void 0;var Q=D(601);function ee(ye){return ye.replace(/\bin\b/g,"attribute")}Y.glsl1VertexIn=ee;function q(ye){return ye.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function te(ye,re,Ze){var Ge=new RegExp("\\b".concat(q(re),"\\s*=\\s*\\S[^;]*;"),"sg"),ve=ye.match(Ge);if(ve)for(var Te=0;Te<ve.length;Te++){var xe=new RegExp("\\b".concat(q(re),"\\s*=\\s*(\\S[^;]*);"),"s"),Ye=ve[Te].match(xe);if(Ye&&Ye[1]){var ge=new RegExp("\\b".concat(q(re),"\\s*=\\s*").concat(q(Ye[1]),"\\s*;"),"s");ye=ye.replace(ge,"".concat(re," = ").concat(Ze,"(").concat(Ye[1],");"))}else console.warn('Could not find value in expression: "'.concat(ve[Te],'"'))}else console.warn("No assignment found for shader variable ".concat(re,"."));return ye}function ie(ye,re,Ze){var Ge=new RegExp("".concat(re,"\\s+\\S[^;]*;"),"g"),ve=ye.match(Ge);if(ve){var Te=new RegExp("".concat(re,"\\b"),"g");ye=ye.replace(Te,"varying ".concat(Ze));for(var xe=0;xe<ve.length;xe++){var Ye=new RegExp("".concat(re,"\\s+(\\S[^;]*);")),ge=ve[xe].match(Ye);ge&&ge[2]?ye=te(ye,ge[2],Ze):console.warn('Could not find variable name in expression: "'.concat(ve[xe],'"'))}}return ye}function ne(ye){return ye=ie(ye,"\\bvarying\\s+(u)?int","float"),ye=ie(ye,"\\bvarying\\s+(i|u)vec2","vec2"),ye=ie(ye,"\\bvarying\\s+(i|u)vec3","vec3"),ye=ie(ye,"\\bvarying\\s+(i|u)vec4","vec4"),ye}Y.castVaryingToFloat=ne;function ce(ye){return ye=ye.replace(/(\bflat\s+)?\bout\b/g,"varying"),ye=ne(ye),ye}Y.glsl1VertexOut=ce;function le(ye){return ye=ye.replace(/(\bflat\s+)?\bin\b/g,"varying"),ye=ne(ye),ye}Y.glsl1FragmentIn=le;function se(ye,re){for(var Ze={},Ge=0;;){var ve=ye.match(/\b(layout\s*\(\s*location\s*=\s*([0-9]+)\s*\)\s*)?out\s+((lowp|mediump|highp)\s+)?((float|int|uint|([iu]?vec[234]))\s+)?([_$a-zA-Z0-9]+)\s*;/);if(!ve){if(Object.keys(Ze).length===0)return[];for(var Te=Object.keys(Ze),xe=Te.length,Ye=new Array(Ge).fill(void 0),ge=0;ge<xe;ge++){var Me=Te[ge],je=Ze[Me],tt=je.location,it=je.type;if(Ye[tt]!==void 0)throw new Error('Must be exactly one out declaration per layout location in GPUProgram "'.concat(re,'", conflicting declarations found at location ').concat(tt,"."));Ye[tt]={name:Me,type:it}}if(Te.length!==Ge+1)throw new Error('Must be exactly one out declaration per layout location in GPUProgram "'.concat(re,'", layout locations must be sequential (no missing location numbers) starting from 0.'));for(var ge=0;ge<=Ge;ge++)if(Ye[ge]===void 0)throw new Error("Missing out declaration at location ".concat(ge,' in GPUProgram "').concat(re,'", layout locations must be sequential (no missing location numbers) starting from 0.'));return Ye}var st=ve[8],qe=parseInt(ve[2]||"0"),ot=ve[6];if(!ot)throw new Error('No type found for out declaration "'.concat(ve[0],'" for GPUProgram "').concat(re,'".'));if(!st)throw new Error('No variable name found for out declaration "'.concat(ve[0],'" for GPUProgram "').concat(re,'".'));if(Ze[st]){if(Ze[st].location!==qe)throw new Error('All out declarations for variable "'.concat(st,'" must have same location in GPUProgram "').concat(re,'".'))}else qe>Ge&&(Ge=qe),Ze[st]={location:qe,type:ot};ye=ye.replace(ve[0],"")}}Y.getFragmentOuts=se;function pe(ye,re){var Ze=se(ye,re);if(Ze.length===0)return[ye];ye=ye.replace(/\blayout\s*\(\s*location\s*=\s*([0-9]+)\s*\)\s*/g,"");for(var Ge=[],ve=0,Te=Ze.length;ve<Te;ve++){var xe=Ze[ve],Ye=xe.type,ge=xe.name,Me=new RegExp("\\bout\\s+((lowp|mediump|highp)\\s+)?(float|int|uint|([iu]?vec[234]))\\s+".concat(ge,"\\s*;"),"g"),je=ye.replace(Me,"");je=je.replace(/\bout\b/g,"");for(var tt=!1,it=new RegExp("\\b".concat(ge,"\\s*=\\s*(\\S.*?);"),"s");;){var st=je.match(it);if(st&&st[1]){tt=!0;var qe="";switch(Ye){case"float":case"int":case"uint":qe=", 0, 0, 0";break;case"vec2":case"ivec2":case"uvec2":qe=", 0, 0";break;case"vec3":case"ivec3":case"uvec3":qe=", 0";break}je=je.replace(it,"gl_FragColor = vec4(".concat(st[1]).concat(qe,");"))}else{if(!tt)throw new Error('No assignment found for out declaration in GPUProgram "'.concat(re,'".'));break}}Ge.push(je)}return Ge}Y.glsl1FragmentOut=pe;function ue(ye){return!!ye.match(/\bgl_FragColor\b/)}function ae(ye,re,Ze){var Ge=ue(ye);if(re===Q.GLSL3&&Ge)throw new Error('Found "gl_FragColor" declaration in fragment shader for GPUProgram "'.concat(Ze,'": either init GPUComposer with glslVersion = GLSL1 or use GLSL3 syntax in your fragment shader.'))}Y.checkFragmentShaderForFragColor=ae;function de(ye){return ye.replace(/\btexture\(/g,"texture2D(")}Y.glsl1Texture=de;function be(ye){return ye.replace(/\b(i|u)sampler2D\b/g,"sampler2D")}Y.glsl1Sampler2D=be;function he(ye){return ye=ye.replace(/\buint\b/g,"int"),ye=ye.replace(/\buvec2\b/g,"ivec2"),ye=ye.replace(/\buvec3\b/g,"ivec3"),ye=ye.replace(/\buvec4\b/g,"ivec4"),ye=ye.replace(/\buint\(/g,"int("),ye=ye.replace(/\buvec2\(/g,"ivec2("),ye=ye.replace(/\buvec3\(/g,"ivec3("),ye=ye.replace(/\buvec4\(/g,"ivec4("),ye}Y.glsl1Uint=he;function Le(ye){return ye.replace(/\bhighp\b/,"mediump")}Y.highpToMediump=Le;function Xe(ye){var re=ye.length;return ye=ye.replace(/^\s*\#version\s+([0-9]+(\s+(es)+)?)\s*/,""),ye.length!==re&&console.warn("GPUIO expects shader source that does not contain #version declarations, removing...."),ye}Y.stripVersion=Xe;function We(ye){var re=ye.length;return ye=ye.replace(/\s*precision\s+((highp)|(mediump)|(lowp))\s+[a-zA-Z0-9]+\s*;/g,""),ye.length!==re&&console.warn("GPUIO expects shader source that does not contain precision declarations, removing...."),ye}Y.stripPrecision=We;function fe(ye){return ye=ye.replace(/[\t ]*\/\/.*\n/g,""),ye=ye.replace(/\/\*.*?\*\//gs,""),ye}Y.stripComments=fe;function Re(ye){var re={},Ze="\\buniform\\s+(((highp)|(mediump)|(lowp))\\s+)?(i|u)?sampler2D\\s+(\\w+)\\s*;",Ge=ye.match(new RegExp(Ze,"g"));if(!Ge||Ge.length===0)return[];var ve=new RegExp(Ze);return Ge.forEach(function(Te){var xe=Te.match(ve);if(!xe||!xe[7]){console.warn('Could not find sampler2D uniform name in string "'.concat(Te,'".'));return}re[xe[7]]=!0}),Object.keys(re)}Y.getSampler2DsInProgram=Re},593:function(J,Y,D){var Q=this&&this.__awaiter||function(Je,Ne,ke,Ie){function Ce(ze){return ze instanceof ke?ze:new ke(function(Ee){Ee(ze)})}return new(ke||(ke=Promise))(function(ze,Ee){function _e($e){try{Pe(Ie.next($e))}catch(we){Ee(we)}}function He($e){try{Pe(Ie.throw($e))}catch(we){Ee(we)}}function Pe($e){$e.done?ze($e.value):Ce($e.value).then(_e,He)}Pe((Ie=Ie.apply(Je,Ne||[])).next())})},ee=this&&this.__generator||function(Je,Ne){var ke={label:0,sent:function(){if(ze[0]&1)throw ze[1];return ze[1]},trys:[],ops:[]},Ie,Ce,ze,Ee;return Ee={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(Ee[Symbol.iterator]=function(){return this}),Ee;function _e(Pe){return function($e){return He([Pe,$e])}}function He(Pe){if(Ie)throw new TypeError("Generator is already executing.");for(;ke;)try{if(Ie=1,Ce&&(ze=Pe[0]&2?Ce.return:Pe[0]?Ce.throw||((ze=Ce.return)&&ze.call(Ce),0):Ce.next)&&!(ze=ze.call(Ce,Pe[1])).done)return ze;switch(Ce=0,ze&&(Pe=[Pe[0]&2,ze.value]),Pe[0]){case 0:case 1:ze=Pe;break;case 4:return ke.label++,{value:Pe[1],done:!1};case 5:ke.label++,Ce=Pe[1],Pe=[0];continue;case 7:Pe=ke.ops.pop(),ke.trys.pop();continue;default:if(ze=ke.trys,!(ze=ze.length>0&&ze[ze.length-1])&&(Pe[0]===6||Pe[0]===2)){ke=0;continue}if(Pe[0]===3&&(!ze||Pe[1]>ze[0]&&Pe[1]<ze[3])){ke.label=Pe[1];break}if(Pe[0]===6&&ke.label<ze[1]){ke.label=ze[1],ze=Pe;break}if(ze&&ke.label<ze[2]){ke.label=ze[2],ke.ops.push(Pe);break}ze[2]&&ke.ops.pop(),ke.trys.pop();continue}Pe=Ne.call(Je,ke)}catch($e){Pe=[6,$e],Ce=0}finally{Ie=ze=0}if(Pe[0]&5)throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.readPixelsAsync=Y.indexOfLayerInArray=Y.uniformInternalTypeForValue=Y.preprocessFragmentShader=Y.preprocessVertexShader=Y.convertFragmentShaderToGLSL1=Y.initSequentialFloatArray=Y.isPowerOf2=Y.getFragmentShaderMediumpPrecision=Y.getVertexShaderMediumpPrecision=Y.isHighpSupportedInFragmentShader=Y.isHighpSupportedInVertexShader=Y.readyToRead=Y.isWebGL2Supported=Y.isWebGL2=Y.initGLProgram=Y.compileShader=Y.makeShaderHeader=Y.isIntType=Y.isSignedIntType=Y.isUnsignedIntType=Y.isFloatType=void 0;var q=D(566),te=D(601),ie=D(690),ne=D(724),ce=D(360),le=D(126),se={supportsWebGL2:void 0,supportsHighpVertex:void 0,supportsHighpFragment:void 0,mediumpVertexPrecision:void 0,mediumpFragmentPrecision:void 0};function pe(Je){return Je===te.FLOAT||Je===te.HALF_FLOAT}Y.isFloatType=pe;function ue(Je){return Je===te.UNSIGNED_BYTE||Je===te.UNSIGNED_SHORT||Je===te.UNSIGNED_INT}Y.isUnsignedIntType=ue;function ae(Je){return Je===te.BYTE||Je===te.SHORT||Je===te.INT}Y.isSignedIntType=ae;function de(Je){return ue(Je)||ae(Je)}Y.isIntType=de;function be(Je){for(var Ne="",ke=Object.keys(Je),Ie=0;Ie<ke.length;Ie++){var Ce=ke[Ie];if(!(0,q.isString)(Ce)||!(0,q.isString)(Je[Ce]))throw new Error("GPUProgram compile time constants must be passed in as key value pairs that are both strings, got key value pair of type [".concat(typeof Ce," : ").concat(typeof Je[Ce],"] for key ").concat(Ce,"."));Ne+="#define ".concat(Ce," ").concat(Je[Ce],`
`)}return Ne}function he(Je,Ne,ke,Ie,Ce){var ze,Ee=Je===te.GLSL3?"#version ".concat(te.GLSL3,`
`):"",_e=Ie?be(Ie):"",He=be((ze={},ze[te.GPUIO_INT_PRECISION]="".concat((0,ie.intForPrecision)(Ne)),ze[te.GPUIO_FLOAT_PRECISION]="".concat((0,ie.intForPrecision)(ke)),ze));return"".concat(Ee).concat(Ce||"").concat(_e).concat(He).concat(ne.PRECISION_SOURCE)}Y.makeShaderHeader=he;function Le(Je,Ne,ke,Ie,Ce,ze,Ee,_e,He,Pe,$e){$e===void 0&&($e=!1);var we=Je.createShader(ze);if(!we)return _e("Unable to init gl shader."),null;var Ue=he(Ne,ke,Ie,He,Pe),et="".concat(Ue).concat(Ce);if(Je.shaderSource(we,et),Je.compileShader(we),$e){var at=Je.getShaderParameter(we,Je.COMPILE_STATUS);if(!at)return console.log(et.split(`
`).map(function(Ve,oe){return"".concat(oe,"	").concat(Ve)}).join(`
`)),_e("Could not compile ".concat(ze===Je.FRAGMENT_SHADER?"fragment":"vertex",' shader for program "').concat(Ee,'": ').concat(Je.getShaderInfoLog(we),".")),null}return we}Y.compileShader=Le;function Xe(Je,Ne,ke,Ie,Ce){var ze=Je.createProgram();if(!ze){Ce('Unable to init GL program for GPUProgram "'.concat(Ie,'", gl.createProgram() has failed.'));return}Je.attachShader(ze,Ne),Je.attachShader(ze,ke),Je.linkProgram(ze);var Ee=Je.getProgramParameter(ze,Je.LINK_STATUS);if(!Ee){Ce('GPUProgram "'.concat(Ie,'" failed to link: ').concat(Je.getProgramInfoLog(ze)));return}return ze}Y.initGLProgram=Xe;function We(Je){return typeof WebGL2RenderingContext<"u"&&Je instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&Je instanceof WebGL2ComputeRenderingContext}Y.isWebGL2=We;function fe(){if(se.supportsWebGL2===void 0){var Je=document.createElement("canvas").getContext(te.WEBGL2);se.supportsWebGL2=We(Je)}return se.supportsWebGL2}Y.isWebGL2Supported=fe;function Re(Je){return Je.checkFramebufferStatus(Je.FRAMEBUFFER)==Je.FRAMEBUFFER_COMPLETE}Y.readyToRead=Re;function ye(Je,Ne){var ke=document.createElement("canvas").getContext(te.WEBGL1);if(!ke)throw new Error("Unable to init webgl context.");try{var Ie=Le(ke,te.GLSL1,te.PRECISION_HIGH_P,te.PRECISION_HIGH_P,Je,ke.VERTEX_SHADER,"highpFragmentTest",te.DEFAULT_ERROR_CALLBACK),Ce=Le(ke,te.GLSL1,te.PRECISION_HIGH_P,te.PRECISION_HIGH_P,Ne,ke.FRAGMENT_SHADER,"highpFragmentTest",te.DEFAULT_ERROR_CALLBACK),ze=Xe(ke,Ie,Ce,"highpFragmentTest",te.DEFAULT_ERROR_CALLBACK);ke.deleteProgram(ze),ke.deleteShader(Ie),ke.deleteShader(Ce)}catch{return!1}return!0}function re(){if(se.supportsHighpVertex===void 0){var Je=ye("void main() { highp float test = 0.524; gl_Position = vec4(test, test, 0, 1); }","void main() { gl_FragColor = vec4(0); }");se.supportsHighpVertex=Je}return se.supportsHighpVertex}Y.isHighpSupportedInVertexShader=re;function Ze(){if(se.supportsHighpFragment===void 0){var Je=ye("void main() { gl_Position = vec4(0.5, 0.5, 0, 1); }","void main() { highp float test = 1.35; gl_FragColor = vec4(test); }");se.supportsHighpFragment=Je}return se.supportsHighpFragment}Y.isHighpSupportedInFragmentShader=Ze;function Ge(Je,Ne,ke,Ie,Ce){var ze=Xe(Ne,Ie,ke,Je,te.DEFAULT_ERROR_CALLBACK);if(!ze)throw new Error("Unable to init WebGLProgram.");var Ee=Ne.getAttribLocation(ze,"position"),_e=Ne.createBuffer();Ne.bindBuffer(Ne.ARRAY_BUFFER,_e),Ne.bufferData(Ne.ARRAY_BUFFER,1,Ne.STATIC_DRAW),Ne.enableVertexAttribArray(Ee),Ne.vertexAttribPointer(Ee,1,Ne.UNSIGNED_BYTE,!1,0,0),Ne.viewport(0,0,1,1),Ne.useProgram(ze),Ce(ze),Ne.drawArrays(Ne.POINTS,0,1);var He=new Uint8Array(4);return Ne.readPixels(0,0,1,1,Ne.RGBA,Ne.UNSIGNED_BYTE,He),Ne.disableVertexAttribArray(Ee),Ne.deleteProgram(ze),Ne.deleteShader(Ie),Ne.deleteShader(ke),Ne.deleteBuffer(_e),He}function ve(){if(se.mediumpVertexPrecision===void 0){var Je=document.createElement("canvas"),Ne=Je.getContext("webgl");if(!Ne)throw new Error("Unable to init webgl context.");var ke=Le(Ne,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	attribute vec4 position;  // needed because of another bug in Safari
	uniform mediump vec3 v;
	varying mediump vec4 v_result;
	void main() {
		gl_Position = position;
		gl_PointSize = 1.0;
		v_result = vec4(normalize(v) * 0.5 + 0.5, 1);
	}
		`,Ne.VERTEX_SHADER,"mediumpPrecisionVertexTest",te.DEFAULT_ERROR_CALLBACK);if(!ke)throw new Error("Unable to init vertex shader.");var Ie=Le(Ne,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	varying mediump vec4 v_result;
	void main() {
		gl_FragColor = v_result;
	}
		`,Ne.FRAGMENT_SHADER,"mediumpPrecisionVertexTest",te.DEFAULT_ERROR_CALLBACK);if(!Ie)throw new Error("Unable to init fragment shader.");var Ce=Math.pow(2,31)-1,ze=Math.sqrt(Ce),Ee=(ze/Math.sqrt(ze*ze*3)*.5+.5)*255|0,_e=Ge("mediumpPrecisionVertexTest",Ne,Ie,ke,function(Pe){var $e=Ne.getUniformLocation(Pe,"v");Ne.uniform3f($e,ze,ze,ze)}),He=Math.abs(_e[0]-Ee)>16;se.mediumpVertexPrecision=He?te.PRECISION_MEDIUM_P:te.PRECISION_HIGH_P}return se.mediumpVertexPrecision}Y.getVertexShaderMediumpPrecision=ve;function Te(){if(se.mediumpFragmentPrecision===void 0){var Je=document.createElement("canvas"),Ne=Je.getContext("webgl");if(!Ne)throw new Error("Unable to init webgl context.");var ke=Le(Ne,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	attribute vec4 position;  // needed because of another bug in Safari
	void main() {
		gl_Position = position;
		gl_PointSize = 1.0;
	}
		`,Ne.VERTEX_SHADER,"mediumpPrecisionFragmentTest",te.DEFAULT_ERROR_CALLBACK);if(!ke)throw new Error("Unable to init vertex shader.");var Ie=Le(Ne,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	uniform mediump vec3 v;
	void main() {
		gl_FragColor = vec4(normalize(v) * 0.5 + 0.5, 1);
	}
		`,Ne.FRAGMENT_SHADER,"mediumpPrecisionFragmentTest",te.DEFAULT_ERROR_CALLBACK);if(!Ie)throw new Error("Unable to init fragment shader.");var Ce=Math.pow(2,31)-1,ze=Math.sqrt(Ce),Ee=(ze/Math.sqrt(ze*ze*3)*.5+.5)*255|0,_e=Ge("mediumpPrecisionFragmentTest",Ne,Ie,ke,function(Pe){var $e=Ne.getUniformLocation(Pe,"v");Ne.uniform3f($e,ze,ze,ze)}),He=Math.abs(_e[0]-Ee)>16;se.mediumpFragmentPrecision=He?te.PRECISION_MEDIUM_P:te.PRECISION_HIGH_P}return se.mediumpFragmentPrecision}Y.getFragmentShaderMediumpPrecision=Te;function xe(Je){return Je>0&&(Je&Je-1)==0}Y.isPowerOf2=xe;function Ye(Je){for(var Ne=new Float32Array(Je),ke=0;ke<Je;ke++)Ne[ke]=ke;return Ne}Y.initSequentialFloatArray=Ye;function ge(Je){return Je=(0,le.stripVersion)(Je),Je=(0,le.stripPrecision)(Je),Je=(0,le.stripComments)(Je),Je}function Me(Je){return Je=(0,le.glsl1Sampler2D)(Je),Je=(0,le.glsl1Uint)(Je),Je=(0,le.glsl1Texture)(Je),Je}function je(Je){return Je=Me(Je),Je=(0,le.glsl1VertexIn)(Je),Je=(0,le.glsl1VertexOut)(Je),Je}function tt(Je,Ne){return Je=Me(Je),Je=(0,le.glsl1FragmentIn)(Je),(0,le.glsl1FragmentOut)(Je,Ne)}Y.convertFragmentShaderToGLSL1=tt;function it(Je,Ne){return Je=ge(Je),re()||(console.warn("highp not supported in vertex shader in this browser, falling back to mediump."),Je=(0,le.highpToMediump)(Je)),Ne===te.GLSL3?Je:je(Je)}Y.preprocessVertexShader=it;function st(Je,Ne,ke){var Ie;Je=ge(Je),(0,le.checkFragmentShaderForFragColor)(Je,Ne,ke),Ze()||(console.warn("highp not supported in fragment shader in this browser, falling back to mediump."),Je=(0,le.highpToMediump)(Je)),Je=(0,ce.fragmentShaderPolyfills)(Je,Ne)+Je;var Ce;if(Ie=(0,ce.texturePolyfill)(Je),Je=Ie.shaderSource,Ce=Ie.samplerUniforms,Ne!==te.GLSL3){for(var ze=tt(Je,ke),Ee=0,_e=ze.length;Ee<_e;Ee++)ze[Ee]=(0,ce.GLSL1Polyfills)(ze[Ee])+ze[Ee];if(Je=ze.shift(),ze.length)return{shaderSource:Je,samplerUniforms:Ce,additionalSources:ze}}return{shaderSource:Je,samplerUniforms:Ce}}Y.preprocessFragmentShader=st;function qe(Je,Ne,ke,Ie){if(Ne===te.FLOAT){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isFiniteNumber)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected float or float[] of length 1-4.'))}else if(!(0,q.isFiniteNumber)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected float or float[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.FLOAT_1D_UNIFORM;if(Je.length===2)return te.FLOAT_2D_UNIFORM;if(Je.length===3)return te.FLOAT_3D_UNIFORM;if(Je.length===4)return te.FLOAT_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected float or float[] of length 1-4.'))}else if(Ne===te.INT){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isInteger)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected int or int[] of length 1-4.'))}else if(!(0,q.isInteger)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected int or int[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.INT_1D_UNIFORM;if(Je.length===2)return te.INT_2D_UNIFORM;if(Je.length===3)return te.INT_3D_UNIFORM;if(Je.length===4)return te.INT_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected int or int[] of length 1-4.'))}else if(Ne===te.UINT){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isNonNegativeInteger)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected uint or uint[] of length 1-4.'))}else if(!(0,q.isNonNegativeInteger)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected uint or uint[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.UINT_1D_UNIFORM;if(Je.length===2)return te.UINT_2D_UNIFORM;if(Je.length===3)return te.UINT_3D_UNIFORM;if(Je.length===4)return te.UINT_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected uint or uint[] of length 1-4.'))}else if(Ne===te.BOOL){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isBoolean)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected bool or bool[] of length 1-4.'))}else if(!(0,q.isBoolean)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected bool or bool[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.BOOL_1D_UNIFORM;if(Je.length===2)return te.BOOL_2D_UNIFORM;if(Je.length===3)return te.BOOL_3D_UNIFORM;if(Je.length===4)return te.BOOL_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ie,'", expected boolean.'))}else throw new Error('Invalid type "'.concat(Ne,'" for uniform "').concat(ke,'" in program "').concat(Ie,'", expected ').concat(te.FLOAT," or ").concat(te.INT," or ").concat(te.BOOL,"."))}Y.uniformInternalTypeForValue=qe;function ot(Je,Ne){return Ne.findIndex(function(ke){return ke===Je||ke.layer===Je})}Y.indexOfLayerInArray=ot;function ut(Je,Ne,ke,Ie){return new Promise(function(Ce,ze){function Ee(){var _e=Je.clientWaitSync(Ne,ke,0);if(_e===Je.WAIT_FAILED){ze();return}if(_e===Je.TIMEOUT_EXPIRED){setTimeout(Ee,Ie);return}Ce()}Ee()})}function dt(Je,Ne,ke,Ie,Ce){return Q(this,void 0,void 0,function(){var ze;return ee(this,function(Ee){switch(Ee.label){case 0:return ze=Je.fenceSync(Je.SYNC_GPU_COMMANDS_COMPLETE,0),Je.flush(),[4,ut(Je,ze,0,10)];case 1:return Ee.sent(),Je.deleteSync(ze),Je.bindBuffer(Ne,ke),Je.getBufferSubData(Ne,Ie,Ce),Je.bindBuffer(Ne,null),[2]}})})}function mt(Je,Ne,ke,Ie,Ce,ze,Ee,_e){return Q(this,void 0,void 0,function(){var He;return ee(this,function(Pe){switch(Pe.label){case 0:return He=Je.createBuffer(),Je.bindBuffer(Je.PIXEL_PACK_BUFFER,He),Je.bufferData(Je.PIXEL_PACK_BUFFER,_e.byteLength,Je.STREAM_READ),Je.readPixels(Ne,ke,Ie,Ce,ze,Ee,0),Je.bindBuffer(Je.PIXEL_PACK_BUFFER,null),[4,dt(Je,Je.PIXEL_PACK_BUFFER,He,0,_e)];case 1:return Pe.sent(),Je.deleteBuffer(He),[2,_e]}})})}Y.readPixelsAsync=mt},557:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getFloat16=te,Y.setFloat16=ie;var Q=D(802),ee=D(605),q=D(983);function te(ne,ce,...le){return(0,ee.convertToNumber)((0,q.DataViewPrototypeGetUint16)(ne,ce,...(0,Q.safeIfNeeded)(le)))}function ie(ne,ce,le,...se){return(0,q.DataViewPrototypeSetUint16)(ne,ce,(0,ee.roundToFloat16Bits)(le),...(0,Q.safeIfNeeded)(se))}},310:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.isFloat16Array=pe;var Q=D(802),ee=D(299),q=D(605),te=D(554),ie=D(930),ne=D(983),ce=D(700);const le=2,se=new ne.NativeWeakMap;function pe(fe){return(0,ne.WeakMapPrototypeHas)(se,fe)||!(0,ne.ArrayBufferIsView)(fe)&&(0,ee.hasFloat16ArrayBrand)(fe)}function ue(fe){if(!pe(fe))throw(0,ne.NativeTypeError)(ie.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function ae(fe,Re){const ye=pe(fe),re=(0,te.isNativeTypedArray)(fe);if(!ye&&!re)throw(0,ne.NativeTypeError)(ie.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof Re=="number"){let Ze;if(ye){const Ge=de(fe);Ze=(0,ne.TypedArrayPrototypeGetLength)(Ge)}else Ze=(0,ne.TypedArrayPrototypeGetLength)(fe);if(Ze<Re)throw(0,ne.NativeTypeError)(ie.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,te.isNativeBigIntTypedArray)(fe))throw(0,ne.NativeTypeError)(ie.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function de(fe){const Re=(0,ne.WeakMapPrototypeGet)(se,fe);if(Re!==void 0){const Ze=(0,ne.TypedArrayPrototypeGetBuffer)(Re);if((0,ce.IsDetachedBuffer)(Ze))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return Re}const ye=fe.buffer;if((0,ce.IsDetachedBuffer)(ye))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const re=(0,ne.ReflectConstruct)(Xe,[ye,fe.byteOffset,fe.length],fe.constructor);return(0,ne.WeakMapPrototypeGet)(se,re)}function be(fe){const Re=(0,ne.TypedArrayPrototypeGetLength)(fe),ye=[];for(let re=0;re<Re;++re)ye[re]=(0,q.convertToNumber)(fe[re]);return ye}const he=new ne.NativeWeakSet;for(const fe of(0,ne.ReflectOwnKeys)(ne.TypedArrayPrototype)){if(fe===ne.SymbolToStringTag)continue;const Re=(0,ne.ReflectGetOwnPropertyDescriptor)(ne.TypedArrayPrototype,fe);(0,ne.ObjectHasOwn)(Re,"get")&&typeof Re.get=="function"&&(0,ne.WeakSetPrototypeAdd)(he,Re.get)}const Le=(0,ne.ObjectFreeze)({get(fe,Re,ye){return(0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)?(0,q.convertToNumber)((0,ne.ReflectGet)(fe,Re)):(0,ne.WeakSetPrototypeHas)(he,(0,ne.ObjectPrototype__lookupGetter__)(fe,Re))?(0,ne.ReflectGet)(fe,Re):(0,ne.ReflectGet)(fe,Re,ye)},set(fe,Re,ye,re){return(0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)?(0,ne.ReflectSet)(fe,Re,(0,q.roundToFloat16Bits)(ye)):(0,ne.ReflectSet)(fe,Re,ye,re)},getOwnPropertyDescriptor(fe,Re){if((0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)){const ye=(0,ne.ReflectGetOwnPropertyDescriptor)(fe,Re);return ye.value=(0,q.convertToNumber)(ye.value),ye}return(0,ne.ReflectGetOwnPropertyDescriptor)(fe,Re)},defineProperty(fe,Re,ye){return(0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)&&(0,ne.ObjectHasOwn)(ye,"value")&&(ye.value=(0,q.roundToFloat16Bits)(ye.value)),(0,ne.ReflectDefineProperty)(fe,Re,ye)}});class Xe{constructor(Re,ye,re){let Ze;if(pe(Re))Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,[de(Re)],new.target);else if((0,te.isObject)(Re)&&!(0,te.isArrayBuffer)(Re)){let ve,Te;if((0,te.isNativeTypedArray)(Re)){ve=Re,Te=(0,ne.TypedArrayPrototypeGetLength)(Re);const xe=(0,ne.TypedArrayPrototypeGetBuffer)(Re),Ye=(0,te.isSharedArrayBuffer)(xe)?ne.NativeArrayBuffer:(0,ce.SpeciesConstructor)(xe,ne.NativeArrayBuffer);if((0,ce.IsDetachedBuffer)(xe))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,te.isNativeBigIntTypedArray)(Re))throw(0,ne.NativeTypeError)(ie.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const ge=new Ye(Te*le);Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,[ge],new.target)}else{const xe=Re[ne.SymbolIterator];if(xe!=null&&typeof xe!="function")throw(0,ne.NativeTypeError)(ie.ITERATOR_PROPERTY_IS_NOT_CALLABLE);xe!=null?(0,te.isOrdinaryArray)(Re)?(ve=Re,Te=Re.length):(ve=[...Re],Te=ve.length):(ve=Re,Te=(0,ce.ToLength)(ve.length)),Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,[Te],new.target)}for(let xe=0;xe<Te;++xe)Ze[xe]=(0,q.roundToFloat16Bits)(ve[xe])}else Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,arguments,new.target);const Ge=new ne.NativeProxy(Ze,Le);return(0,ne.WeakMapPrototypeSet)(se,Ge,Ze),Ge}static from(Re,...ye){const re=this;if(!(0,ne.ReflectHas)(re,ee.brand))throw(0,ne.NativeTypeError)(ie.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(re===Xe){if(pe(Re)&&ye.length===0){const ge=de(Re),Me=new ne.NativeUint16Array((0,ne.TypedArrayPrototypeGetBuffer)(ge),(0,ne.TypedArrayPrototypeGetByteOffset)(ge),(0,ne.TypedArrayPrototypeGetLength)(ge));return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.TypedArrayPrototypeSlice)(Me)))}if(ye.length===0)return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.Uint16ArrayFrom)(Re,q.roundToFloat16Bits)));const xe=ye[0],Ye=ye[1];return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.Uint16ArrayFrom)(Re,function(ge,...Me){return(0,q.roundToFloat16Bits)((0,ne.ReflectApply)(xe,this,[ge,...(0,Q.safeIfNeeded)(Me)]))},Ye)))}let Ze,Ge;const ve=Re[ne.SymbolIterator];if(ve!=null&&typeof ve!="function")throw(0,ne.NativeTypeError)(ie.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(ve!=null)(0,te.isOrdinaryArray)(Re)?(Ze=Re,Ge=Re.length):(0,te.isOrdinaryNativeTypedArray)(Re)?(Ze=Re,Ge=(0,ne.TypedArrayPrototypeGetLength)(Re)):(Ze=[...Re],Ge=Ze.length);else{if(Re==null)throw(0,ne.NativeTypeError)(ie.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);Ze=(0,ne.NativeObject)(Re),Ge=(0,ce.ToLength)(Ze.length)}const Te=new re(Ge);if(ye.length===0)for(let xe=0;xe<Ge;++xe)Te[xe]=Ze[xe];else{const xe=ye[0],Ye=ye[1];for(let ge=0;ge<Ge;++ge)Te[ge]=(0,ne.ReflectApply)(xe,Ye,[Ze[ge],ge])}return Te}static of(...Re){const ye=this;if(!(0,ne.ReflectHas)(ye,ee.brand))throw(0,ne.NativeTypeError)(ie.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const re=Re.length;if(ye===Xe){const Ge=new Xe(re),ve=de(Ge);for(let Te=0;Te<re;++Te)ve[Te]=(0,q.roundToFloat16Bits)(Re[Te]);return Ge}const Ze=new ye(re);for(let Ge=0;Ge<re;++Ge)Ze[Ge]=Re[Ge];return Ze}keys(){ue(this);const Re=de(this);return(0,ne.TypedArrayPrototypeKeys)(Re)}values(){ue(this);const Re=de(this);return(0,Q.wrap)(function*(){for(const ye of(0,ne.TypedArrayPrototypeValues)(Re))yield(0,q.convertToNumber)(ye)}())}entries(){ue(this);const Re=de(this);return(0,Q.wrap)(function*(){for(const[ye,re]of(0,ne.TypedArrayPrototypeEntries)(Re))yield[ye,(0,q.convertToNumber)(re)]}())}at(Re){ue(this);const ye=de(this),re=(0,ne.TypedArrayPrototypeGetLength)(ye),Ze=(0,ce.ToIntegerOrInfinity)(Re),Ge=Ze>=0?Ze:re+Ze;if(!(Ge<0||Ge>=re))return(0,q.convertToNumber)(ye[Ge])}map(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0],ve=(0,ce.SpeciesConstructor)(re,Xe);if(ve===Xe){const xe=new Xe(Ze),Ye=de(xe);for(let ge=0;ge<Ze;++ge){const Me=(0,q.convertToNumber)(re[ge]);Ye[ge]=(0,q.roundToFloat16Bits)((0,ne.ReflectApply)(Re,Ge,[Me,ge,this]))}return xe}const Te=new ve(Ze);ae(Te,Ze);for(let xe=0;xe<Ze;++xe){const Ye=(0,q.convertToNumber)(re[xe]);Te[xe]=(0,ne.ReflectApply)(Re,Ge,[Ye,xe,this])}return Te}filter(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0],ve=[];for(let Ye=0;Ye<Ze;++Ye){const ge=(0,q.convertToNumber)(re[Ye]);(0,ne.ReflectApply)(Re,Ge,[ge,Ye,this])&&(0,ne.ArrayPrototypePush)(ve,ge)}const Te=(0,ce.SpeciesConstructor)(re,Xe),xe=new Te(ve);return ae(xe),xe}reduce(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);if(Ze===0&&ye.length===0)throw(0,ne.NativeTypeError)(ie.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let Ge,ve;ye.length===0?(Ge=(0,q.convertToNumber)(re[0]),ve=1):(Ge=ye[0],ve=0);for(let Te=ve;Te<Ze;++Te)Ge=Re(Ge,(0,q.convertToNumber)(re[Te]),Te,this);return Ge}reduceRight(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);if(Ze===0&&ye.length===0)throw(0,ne.NativeTypeError)(ie.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let Ge,ve;ye.length===0?(Ge=(0,q.convertToNumber)(re[Ze-1]),ve=Ze-2):(Ge=ye[0],ve=Ze-1);for(let Te=ve;Te>=0;--Te)Ge=Re(Ge,(0,q.convertToNumber)(re[Te]),Te,this);return Ge}forEach(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve)(0,ne.ReflectApply)(Re,Ge,[(0,q.convertToNumber)(re[ve]),ve,this])}find(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return Te}}findIndex(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return ve}return-1}findLast(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=Ze-1;ve>=0;--ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return Te}}findLastIndex(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=Ze-1;ve>=0;--ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return ve}return-1}every(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve)if(!(0,ne.ReflectApply)(Re,Ge,[(0,q.convertToNumber)(re[ve]),ve,this]))return!1;return!0}some(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve)if((0,ne.ReflectApply)(Re,Ge,[(0,q.convertToNumber)(re[ve]),ve,this]))return!0;return!1}set(Re,...ye){ue(this);const re=de(this),Ze=(0,ce.ToIntegerOrInfinity)(ye[0]);if(Ze<0)throw(0,ne.NativeRangeError)(ie.OFFSET_IS_OUT_OF_BOUNDS);if(Re==null)throw(0,ne.NativeTypeError)(ie.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,te.isNativeBigIntTypedArray)(Re))throw(0,ne.NativeTypeError)(ie.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(pe(Re))return(0,ne.TypedArrayPrototypeSet)(de(this),de(Re),Ze);if((0,te.isNativeTypedArray)(Re)){const xe=(0,ne.TypedArrayPrototypeGetBuffer)(Re);if((0,ce.IsDetachedBuffer)(xe))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const Ge=(0,ne.TypedArrayPrototypeGetLength)(re),ve=(0,ne.NativeObject)(Re),Te=(0,ce.ToLength)(ve.length);if(Ze===1/0||Te+Ze>Ge)throw(0,ne.NativeRangeError)(ie.OFFSET_IS_OUT_OF_BOUNDS);for(let xe=0;xe<Te;++xe)re[xe+Ze]=(0,q.roundToFloat16Bits)(ve[xe])}reverse(){ue(this);const Re=de(this);return(0,ne.TypedArrayPrototypeReverse)(Re),this}fill(Re,...ye){ue(this);const re=de(this);return(0,ne.TypedArrayPrototypeFill)(re,(0,q.roundToFloat16Bits)(Re),...(0,Q.safeIfNeeded)(ye)),this}copyWithin(Re,ye,...re){ue(this);const Ze=de(this);return(0,ne.TypedArrayPrototypeCopyWithin)(Ze,Re,ye,...(0,Q.safeIfNeeded)(re)),this}sort(Re){ue(this);const ye=de(this),re=Re!==void 0?Re:ce.defaultCompare;return(0,ne.TypedArrayPrototypeSort)(ye,(Ze,Ge)=>re((0,q.convertToNumber)(Ze),(0,q.convertToNumber)(Ge))),this}slice(Re,ye){ue(this);const re=de(this),Ze=(0,ce.SpeciesConstructor)(re,Xe);if(Ze===Xe){const it=new ne.NativeUint16Array((0,ne.TypedArrayPrototypeGetBuffer)(re),(0,ne.TypedArrayPrototypeGetByteOffset)(re),(0,ne.TypedArrayPrototypeGetLength)(re));return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.TypedArrayPrototypeSlice)(it,Re,ye)))}const Ge=(0,ne.TypedArrayPrototypeGetLength)(re),ve=(0,ce.ToIntegerOrInfinity)(Re),Te=ye===void 0?Ge:(0,ce.ToIntegerOrInfinity)(ye);let xe;ve===-1/0?xe=0:ve<0?xe=Ge+ve>0?Ge+ve:0:xe=Ge<ve?Ge:ve;let Ye;Te===-1/0?Ye=0:Te<0?Ye=Ge+Te>0?Ge+Te:0:Ye=Ge<Te?Ge:Te;const ge=Ye-xe>0?Ye-xe:0,Me=new Ze(ge);if(ae(Me,ge),ge===0)return Me;const je=(0,ne.TypedArrayPrototypeGetBuffer)(re);if((0,ce.IsDetachedBuffer)(je))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let tt=0;for(;xe<Ye;)Me[tt]=(0,q.convertToNumber)(re[xe]),++xe,++tt;return Me}subarray(Re,ye){ue(this);const re=de(this),Ze=(0,ce.SpeciesConstructor)(re,Xe),Ge=new ne.NativeUint16Array((0,ne.TypedArrayPrototypeGetBuffer)(re),(0,ne.TypedArrayPrototypeGetByteOffset)(re),(0,ne.TypedArrayPrototypeGetLength)(re)),ve=(0,ne.TypedArrayPrototypeSubarray)(Ge,Re,ye),Te=new Ze((0,ne.TypedArrayPrototypeGetBuffer)(ve),(0,ne.TypedArrayPrototypeGetByteOffset)(ve),(0,ne.TypedArrayPrototypeGetLength)(ve));return ae(Te),Te}indexOf(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);let Ge=(0,ce.ToIntegerOrInfinity)(ye[0]);if(Ge===1/0)return-1;Ge<0&&(Ge+=Ze,Ge<0&&(Ge=0));for(let ve=Ge;ve<Ze;++ve)if((0,ne.ObjectHasOwn)(re,ve)&&(0,q.convertToNumber)(re[ve])===Re)return ve;return-1}lastIndexOf(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);let Ge=ye.length>=1?(0,ce.ToIntegerOrInfinity)(ye[0]):Ze-1;if(Ge===-1/0)return-1;Ge>=0?Ge=Ge<Ze-1?Ge:Ze-1:Ge+=Ze;for(let ve=Ge;ve>=0;--ve)if((0,ne.ObjectHasOwn)(re,ve)&&(0,q.convertToNumber)(re[ve])===Re)return ve;return-1}includes(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);let Ge=(0,ce.ToIntegerOrInfinity)(ye[0]);if(Ge===1/0)return!1;Ge<0&&(Ge+=Ze,Ge<0&&(Ge=0));const ve=(0,ne.NumberIsNaN)(Re);for(let Te=Ge;Te<Ze;++Te){const xe=(0,q.convertToNumber)(re[Te]);if(ve&&(0,ne.NumberIsNaN)(xe)||xe===Re)return!0}return!1}join(Re){ue(this);const ye=de(this),re=be(ye);return(0,ne.ArrayPrototypeJoin)(re,Re)}toLocaleString(...Re){ue(this);const ye=de(this),re=be(ye);return(0,ne.ArrayPrototypeToLocaleString)(re,...(0,Q.safeIfNeeded)(Re))}get[ne.SymbolToStringTag](){if(pe(this))return"Float16Array"}}Y.Float16Array=Xe,(0,ne.ObjectDefineProperty)(Xe,"BYTES_PER_ELEMENT",{value:le}),(0,ne.ObjectDefineProperty)(Xe,ee.brand,{}),(0,ne.ReflectSetPrototypeOf)(Xe,ne.TypedArray);const We=Xe.prototype;(0,ne.ObjectDefineProperty)(We,"BYTES_PER_ELEMENT",{value:le}),(0,ne.ObjectDefineProperty)(We,ne.SymbolIterator,{value:We.values,writable:!0,configurable:!0}),(0,ne.ReflectSetPrototypeOf)(We,ne.TypedArrayPrototype)},802:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.safeIfNeeded=te,Y.wrap=ce;var Q=D(983);const ee=new Q.NativeWeakMap,q=(0,Q.ObjectCreate)(null,{next:{value:function(){const se=(0,Q.WeakMapPrototypeGet)(ee,this);return(0,Q.ArrayIteratorPrototypeNext)(se)}},[Q.SymbolIterator]:{value:function(){return this}}});function te(le){if(le[Q.SymbolIterator]===Q.NativeArrayPrototypeSymbolIterator)return le;const se=(0,Q.ObjectCreate)(q);return(0,Q.WeakMapPrototypeSet)(ee,se,(0,Q.ArrayPrototypeSymbolIterator)(le)),se}const ie=new Q.NativeWeakMap,ne=(0,Q.ObjectCreate)(Q.IteratorPrototype,{next:{value:function(){const se=(0,Q.WeakMapPrototypeGet)(ie,this);return(0,Q.GeneratorPrototypeNext)(se)},writable:!0,configurable:!0}});for(const le of(0,Q.ReflectOwnKeys)(Q.ArrayIteratorPrototype))le!=="next"&&(0,Q.ObjectDefineProperty)(ne,le,(0,Q.ReflectGetOwnPropertyDescriptor)(Q.ArrayIteratorPrototype,le));function ce(le){const se=(0,Q.ObjectCreate)(ne);return(0,Q.WeakMapPrototypeSet)(ie,se,le),se}},299:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.hasFloat16ArrayBrand=ie;var Q=D(554),ee=D(930),q=D(983);const te=(0,q.SymbolFor)("__Float16Array__");Y.brand=te;function ie(ne){if(!(0,Q.isObjectLike)(ne))return!1;const ce=(0,q.ReflectGetPrototypeOf)(ne);if(!(0,Q.isObjectLike)(ce))return!1;const le=ce.constructor;if(le===void 0)return!1;if(!(0,Q.isObject)(le))throw(0,q.NativeTypeError)(ee.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,q.ReflectHas)(le,te)}},605:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertToNumber=ue,Y.roundToFloat16Bits=ce;var Q=D(983);const ee=new Q.NativeArrayBuffer(4),q=new Q.NativeFloat32Array(ee),te=new Q.NativeUint32Array(ee),ie=new Q.NativeUint32Array(512),ne=new Q.NativeUint32Array(512);for(let ae=0;ae<256;++ae){const de=ae-127;de<-27?(ie[ae]=0,ie[ae|256]=32768,ne[ae]=24,ne[ae|256]=24):de<-14?(ie[ae]=1024>>-de-14,ie[ae|256]=1024>>-de-14|32768,ne[ae]=-de-1,ne[ae|256]=-de-1):de<=15?(ie[ae]=de+15<<10,ie[ae|256]=de+15<<10|32768,ne[ae]=13,ne[ae|256]=13):de<128?(ie[ae]=31744,ie[ae|256]=64512,ne[ae]=24,ne[ae|256]=24):(ie[ae]=31744,ie[ae|256]=64512,ne[ae]=13,ne[ae|256]=13)}function ce(ae){q[0]=ae;const de=te[0],be=de>>23&511;return ie[be]+((de&8388607)>>ne[be])}const le=new Q.NativeUint32Array(2048),se=new Q.NativeUint32Array(64),pe=new Q.NativeUint32Array(64);for(let ae=1;ae<1024;++ae){let de=ae<<13,be=0;for(;!(de&8388608);)de<<=1,be-=8388608;de&=-8388609,be+=947912704,le[ae]=de|be}for(let ae=1024;ae<2048;++ae)le[ae]=939524096+(ae-1024<<13);for(let ae=1;ae<31;++ae)se[ae]=ae<<23;se[31]=1199570944,se[32]=2147483648;for(let ae=33;ae<63;++ae)se[ae]=2147483648+(ae-32<<23);se[63]=3347054592;for(let ae=1;ae<64;++ae)ae!==32&&(pe[ae]=1024);function ue(ae){const de=ae>>10;return te[0]=le[pe[de]+(ae&1023)]+se[de],q[0]}},554:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.isArrayBuffer=ne,Y.isCanonicalIntegerIndexString=pe,Y.isNativeBigIntTypedArray=ie,Y.isNativeTypedArray=te,Y.isObject=ee,Y.isObjectLike=q,Y.isOrdinaryArray=le,Y.isOrdinaryNativeTypedArray=se,Y.isSharedArrayBuffer=ce;var Q=D(983);function ee(ue){return ue!==null&&typeof ue=="object"||typeof ue=="function"}function q(ue){return ue!==null&&typeof ue=="object"}function te(ue){return(0,Q.TypedArrayPrototypeGetSymbolToStringTag)(ue)!==void 0}function ie(ue){const ae=(0,Q.TypedArrayPrototypeGetSymbolToStringTag)(ue);return ae==="BigInt64Array"||ae==="BigUint64Array"}function ne(ue){try{return(0,Q.ArrayBufferPrototypeGetByteLength)(ue),!0}catch{return!1}}function ce(ue){if(Q.NativeSharedArrayBuffer===null)return!1;try{return(0,Q.SharedArrayBufferPrototypeGetByteLength)(ue),!0}catch{return!1}}function le(ue){return(0,Q.ArrayIsArray)(ue)?ue[Q.SymbolIterator]===Q.NativeArrayPrototypeSymbolIterator?!0:ue[Q.SymbolIterator]()[Q.SymbolToStringTag]==="Array Iterator":!1}function se(ue){return te(ue)?ue[Q.SymbolIterator]===Q.NativeTypedArrayPrototypeSymbolIterator?!0:ue[Q.SymbolIterator]()[Q.SymbolToStringTag]==="Array Iterator":!1}function pe(ue){if(typeof ue!="string")return!1;const ae=+ue;return ue!==ae+""||!(0,Q.NumberIsFinite)(ae)?!1:ae===(0,Q.MathTrunc)(ae)}},930:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0});const D="This is not an object";Y.THIS_IS_NOT_AN_OBJECT=D;const Q="This is not a Float16Array object";Y.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=Q;const ee="This constructor is not a subclass of Float16Array";Y.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=ee;const q="The constructor property value is not an object";Y.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=q;const te="Species constructor didn't return TypedArray object";Y.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=te;const ie="Derived constructor created TypedArray object which was too small length";Y.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=ie;const ne="Attempting to access detached ArrayBuffer";Y.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=ne;const ce="Cannot convert undefined or null to object";Y.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=ce;const le="Cannot mix BigInt and other types, use explicit conversions";Y.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=le;const se="@@iterator property is not callable";Y.ITERATOR_PROPERTY_IS_NOT_CALLABLE=se;const pe="Reduce of empty array with no initial value";Y.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=pe;const ue="Offset is out of bounds";Y.OFFSET_IS_OUT_OF_BOUNDS=ue},983:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0});var Q=D(930);function ee(dn){return(pn,...$t)=>te(dn,pn,$t)}function q(dn,pn){return ee(le(dn,pn).get)}const{apply:te,construct:ie,defineProperty:ne,get:ce,getOwnPropertyDescriptor:le,getPrototypeOf:se,has:pe,ownKeys:ue,set:ae,setPrototypeOf:de}=Reflect;Y.ReflectSetPrototypeOf=de,Y.ReflectSet=ae,Y.ReflectOwnKeys=ue,Y.ReflectHas=pe,Y.ReflectGetPrototypeOf=se,Y.ReflectGetOwnPropertyDescriptor=le,Y.ReflectGet=ce,Y.ReflectDefineProperty=ne,Y.ReflectConstruct=ie,Y.ReflectApply=te;const be=Proxy;Y.NativeProxy=be;const{MAX_SAFE_INTEGER:he,isFinite:Le,isNaN:Xe}=Number;Y.NumberIsNaN=Xe,Y.NumberIsFinite=Le,Y.MAX_SAFE_INTEGER=he;const{iterator:We,species:fe,toStringTag:Re,for:ye}=Symbol;Y.SymbolFor=ye,Y.SymbolToStringTag=Re,Y.SymbolSpecies=fe,Y.SymbolIterator=We;const re=Object;Y.NativeObject=re;const{create:Ze,defineProperty:Ge,freeze:ve,is:Te}=re;Y.ObjectIs=Te,Y.ObjectFreeze=ve,Y.ObjectDefineProperty=Ge,Y.ObjectCreate=Ze;const xe=re.prototype,Ye=xe.__lookupGetter__?ee(xe.__lookupGetter__):(dn,pn)=>{if(dn==null)throw Nt(Q.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let $t=re(dn);do{const wn=le($t,pn);if(wn!==void 0)return ge(wn,"get")?wn.get:void 0}while(($t=se($t))!==null)};Y.ObjectPrototype__lookupGetter__=Ye;const ge=re.hasOwn||ee(xe.hasOwnProperty);Y.ObjectHasOwn=ge;const Me=Array,je=Me.isArray;Y.ArrayIsArray=je;const tt=Me.prototype,it=ee(tt.join);Y.ArrayPrototypeJoin=it;const st=ee(tt.push);Y.ArrayPrototypePush=st;const qe=ee(tt.toLocaleString);Y.ArrayPrototypeToLocaleString=qe;const ot=tt[We];Y.NativeArrayPrototypeSymbolIterator=ot;const ut=ee(ot);Y.ArrayPrototypeSymbolIterator=ut;const dt=Math.trunc;Y.MathTrunc=dt;const mt=ArrayBuffer;Y.NativeArrayBuffer=mt;const Je=mt.isView;Y.ArrayBufferIsView=Je;const Ne=mt.prototype,ke=ee(Ne.slice);Y.ArrayBufferPrototypeSlice=ke;const Ie=q(Ne,"byteLength");Y.ArrayBufferPrototypeGetByteLength=Ie;const Ce=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;Y.NativeSharedArrayBuffer=Ce;const ze=Ce&&q(Ce.prototype,"byteLength");Y.SharedArrayBufferPrototypeGetByteLength=ze;const Ee=se(Uint8Array);Y.TypedArray=Ee;const _e=Ee.from,He=Ee.prototype;Y.TypedArrayPrototype=He;const Pe=He[We];Y.NativeTypedArrayPrototypeSymbolIterator=Pe;const $e=ee(He.keys);Y.TypedArrayPrototypeKeys=$e;const we=ee(He.values);Y.TypedArrayPrototypeValues=we;const Ue=ee(He.entries);Y.TypedArrayPrototypeEntries=Ue;const et=ee(He.set);Y.TypedArrayPrototypeSet=et;const at=ee(He.reverse);Y.TypedArrayPrototypeReverse=at;const Ve=ee(He.fill);Y.TypedArrayPrototypeFill=Ve;const oe=ee(He.copyWithin);Y.TypedArrayPrototypeCopyWithin=oe;const me=ee(He.sort);Y.TypedArrayPrototypeSort=me;const Se=ee(He.slice);Y.TypedArrayPrototypeSlice=Se;const Fe=ee(He.subarray);Y.TypedArrayPrototypeSubarray=Fe;const Ke=q(He,"buffer");Y.TypedArrayPrototypeGetBuffer=Ke;const Ae=q(He,"byteOffset");Y.TypedArrayPrototypeGetByteOffset=Ae;const rt=q(He,"length");Y.TypedArrayPrototypeGetLength=rt;const vt=q(He,Re);Y.TypedArrayPrototypeGetSymbolToStringTag=vt;const Vt=Uint16Array;Y.NativeUint16Array=Vt;const Wt=(...dn)=>te(_e,Vt,dn);Y.Uint16ArrayFrom=Wt;const ft=Uint32Array;Y.NativeUint32Array=ft;const Rt=Float32Array;Y.NativeFloat32Array=Rt;const Yt=se([][We]());Y.ArrayIteratorPrototype=Yt;const ct=ee(Yt.next);Y.ArrayIteratorPrototypeNext=ct;const xt=ee(function*(){}().next);Y.GeneratorPrototypeNext=xt;const Qe=se(Yt);Y.IteratorPrototype=Qe;const nt=DataView.prototype,Xt=ee(nt.getUint16);Y.DataViewPrototypeGetUint16=Xt;const St=ee(nt.setUint16);Y.DataViewPrototypeSetUint16=St;const Nt=TypeError;Y.NativeTypeError=Nt;const jt=RangeError;Y.NativeRangeError=jt;const sn=WeakSet;Y.NativeWeakSet=sn;const Ht=sn.prototype,an=ee(Ht.add);Y.WeakSetPrototypeAdd=an;const Ot=ee(Ht.has);Y.WeakSetPrototypeHas=Ot;const vn=WeakMap;Y.NativeWeakMap=vn;const tn=vn.prototype,Qt=ee(tn.get);Y.WeakMapPrototypeGet=Qt;const En=ee(tn.has);Y.WeakMapPrototypeHas=En;const gn=ee(tn.set);Y.WeakMapPrototypeSet=gn},700:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.IsDetachedBuffer=ce,Y.SpeciesConstructor=ne,Y.ToIntegerOrInfinity=te,Y.ToLength=ie,Y.defaultCompare=le;var Q=D(554),ee=D(930),q=D(983);function te(se){const pe=+se;return(0,q.NumberIsNaN)(pe)||pe===0?0:(0,q.MathTrunc)(pe)}function ie(se){const pe=te(se);return pe<0?0:pe<q.MAX_SAFE_INTEGER?pe:q.MAX_SAFE_INTEGER}function ne(se,pe){if(!(0,Q.isObject)(se))throw(0,q.NativeTypeError)(ee.THIS_IS_NOT_AN_OBJECT);const ue=se.constructor;if(ue===void 0)return pe;if(!(0,Q.isObject)(ue))throw(0,q.NativeTypeError)(ee.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const ae=ue[q.SymbolSpecies];return ae??pe}function ce(se){if((0,Q.isSharedArrayBuffer)(se))return!1;try{return(0,q.ArrayBufferPrototypeSlice)(se,0,0),!1}catch{}return!0}function le(se,pe){const ue=(0,q.NumberIsNaN)(se),ae=(0,q.NumberIsNaN)(pe);if(ue&&ae)return 0;if(ue)return 1;if(ae||se<pe)return-1;if(se>pe)return 1;if(se===0&&pe===0){const de=(0,q.ObjectIs)(se,0),be=(0,q.ObjectIs)(pe,0);if(!de&&be)return-1;if(de&&!be)return 1}return 0}},216:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.hfround=q;var Q=D(605),ee=D(983);function q(te){const ie=+te;if(!(0,ee.NumberIsFinite)(ie)||ie===0)return ie;const ne=(0,Q.roundToFloat16Bits)(ie);return(0,Q.convertToNumber)(ne)}},650:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0});var Q=D(310);Y.Float16Array=Q.Float16Array,Y.isFloat16Array=Q.isFloat16Array;var ee=D(146);Y.isTypedArray=ee.isTypedArray;var q=D(557);Y.getFloat16=q.getFloat16,Y.setFloat16=q.setFloat16;var te=D(216);Y.hfround=te.hfround},146:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.isTypedArray=q;var Q=D(310),ee=D(554);function q(te){return(0,ee.isNativeTypedArray)(te)||(0,Q.isFloat16Array)(te)}}},W={};function F(J){var Y=W[J];if(Y!==void 0)return Y.exports;var D=W[J]={exports:{}};return G[J].call(D.exports,D,D.exports,F),D.exports}F.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var U=F(607);return U})())})(gpuIo);const hasEnoughFramebufferAttachments=moize(X=>{const{gl:Z}=getCanvasAndGLContext(X);return Z.getParameter(Z.MAX_COLOR_ATTACHMENTS)>=8}),getLayers=(X,Z,{type:G=gpuIoExports.HALF_FLOAT,numComponents:W=1,dimensions:F=32}={})=>{const U=getGPUComposer(X);console.log(Z,"making layers",U.gl);const J=new gpuIoExports.GPULayer(U,{name:`current_${Z}`,type:G,dimensions:F,numComponents:W,numBuffers:2}),Y=new gpuIoExports.GPULayer(U,{name:`target_${Z}`,type:G,dimensions:F,numComponents:W,numBuffers:1}),D=new Texture;Y.attachToThreeTexture(D);const Q=new gpuIoExports.GPULayer(U,{name:`view_${Z}`,type:G,dimensions:F,numComponents:W,numBuffers:1}),ee=new Texture;return Q.attachToThreeTexture(ee),{current:J,target:Y,view:Q,viewTexture:ee,targetTexture:D}},getPositionLayers=moize.infinite(X=>getLayers(X,"position",{numComponents:3})),getColorLayers=moize.infinite(X=>getLayers(X,"color",{numComponents:4})),getSizeLayers=moize.infinite(X=>getLayers(X,"size",{numComponents:1})),getEmphasisLayers=moize.infinite(X=>getLayers(X,"emphasis",{numComponents:1})),setAllLayerSizes=(X,Z)=>{console.log("setting layer sizes to",Z),[getPositionLayers(X),getColorLayers(X),getSizeLayers(X),getEmphasisLayers(X)].forEach(({current:W,target:F,view:U,viewTexture:J,targetTexture:Y})=>{W.resize(Z),F.resize(Z),F.attachToThreeTexture(Y),U.resize(Z),U.attachToThreeTexture(J)})},getInterpolationProgram=moize.infinite(X=>new gpuIoExports.GPUProgram(getGPUComposer(X),{name:"interpolation",fragmentShader:`
      in vec2 v_uv;

      // the current and target textures
      uniform sampler2D uTargetPositions;
      uniform sampler2D uCurrentPositions;
      uniform sampler2D uTargetColors;
      uniform sampler2D uCurrentColors;
      uniform sampler2D uTargetSizes;
      uniform sampler2D uCurrentSizes;
      uniform sampler2D uTargetEmphasis;
      uniform sampler2D uCurrentEmphasis;

      // the interpolation ratio
      uniform float uMixRatio;

      layout(location = 0) out vec3 outPositions;
      layout(location = 1) out vec3 viewPositions;
      layout(location = 2) out vec4 outColors;
      layout(location = 3) out vec4 viewColors;
      layout(location = 4) out float outSizes;
      layout(location = 5) out float viewSizes;
      layout(location = 6) out float outEmphasis;
      layout(location = 7) out float viewEmphasis;

      void main() {
        vec3 targetPosition = texture(uTargetPositions, v_uv).xyz;
        vec3 currentPosition = texture(uCurrentPositions, v_uv).xyz;
        outPositions = mix(currentPosition, targetPosition, uMixRatio);
        viewPositions = outPositions;

        vec4 targetColor = texture(uTargetColors, v_uv);
        vec4 currentColor = texture(uCurrentColors, v_uv);
        outColors = mix(currentColor, targetColor, uMixRatio);
        viewColors = outColors;

        float targetSize = texture(uTargetSizes, v_uv).r;
        float currentSize = texture(uCurrentSizes, v_uv).r;
        outSizes = mix(currentSize, targetSize, uMixRatio);
        viewSizes = outSizes;

        float targetEmphasis = texture(uTargetEmphasis, v_uv).r;
        float currentEmphasis = texture(uCurrentEmphasis, v_uv).r;
        outEmphasis = mix(currentEmphasis, targetEmphasis, uMixRatio);
        viewEmphasis = outEmphasis;
      }
    `,uniforms:[{name:"uTargetPositions",type:gpuIoExports.INT,value:0},{name:"uCurrentPositions",type:gpuIoExports.INT,value:1},{name:"uTargetColors",type:gpuIoExports.INT,value:2},{name:"uCurrentColors",type:gpuIoExports.INT,value:3},{name:"uTargetSizes",type:gpuIoExports.INT,value:4},{name:"uCurrentSizes",type:gpuIoExports.INT,value:5},{name:"uTargetEmphasis",type:gpuIoExports.INT,value:6},{name:"uCurrentEmphasis",type:gpuIoExports.INT,value:7},{name:"uMixRatio",type:gpuIoExports.FLOAT,value:.1}]}));var node_default$1=`precision highp float;
precision highp int;

in vec3 vertexPosition;
in vec3 vertexNormal;
in int index;

uniform cameras {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
  float distance;
  vec3 center;
  vec3 rotationCenter;
};

uniform int selectedIndex;
uniform vec4 selectedColor;
float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float defaultFogVisibility = 0.3;
float defaultFogBoundaryClipZ = 700.0;

uniform float globalScale;
uniform float nodeScale;
uniform float edgeScale;
uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeFog;
uniform float nodeFog;

float computeFog(float positionClipZ, float fogBoundaryClipZ) {
  float fogLevel = 1.0 - bump(positionClipZ, 1.0, fogBoundaryClipZ);
  fogLevel = mix(
    fogLevel, 
    0.0,
    smoothstep(400.0, 800.0, distance)
  );
  
  return fogLevel;
}

struct CameraMatrices {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
};

struct NodeGeometryBundle {
  vec3 globalNDC;
  vec4 globalClipPosition;
  vec4 orthoFixedClipPosition;
  vec4 orthoZoomedClipPosition;
  vec4 orthographicClipPosition;
};

NodeGeometryBundle nodeGeometry(
  in vec3 nodePosition,
  in vec3 vertexPosition,
  float scale,
  in CameraMatrices cam
) {
  vec4 globalClipPosition = cam.projection * cam.view * vec4(nodePosition, 1.0);
  vec3 globalNDC = globalClipPosition.xyz / globalClipPosition.w;

  vec4 orthoFixedClipPosition = cam.orthoFixedProjection * cam.orthoFixedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0);
  vec3 orthoFixedNDC = orthoFixedClipPosition.xyz / orthoFixedClipPosition.w;
  
  vec4 orthoZoomedClipPosition = cam.orthoZoomedProjection * cam.orthoZoomedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0)*0.5;
  vec3 orthoZoomedNDC = orthoZoomedClipPosition.xyz / orthoZoomedClipPosition.w;

  vec3 localNDC = mix(orthoZoomedNDC, orthoFixedNDC, 0.5);

  
  vec3 orthographicNDC = vec3(localNDC.xy + globalNDC.xy, globalNDC.z + (localNDC.z - 0.99)*0.1 );
  
  vec4 orthographicClipPosition = vec4(orthographicNDC * globalClipPosition.w, globalClipPosition.w);
  
  return NodeGeometryBundle(
    globalNDC,
    globalClipPosition,
    orthoFixedClipPosition,
    orthoZoomedClipPosition,
    orthographicClipPosition
  );
}

ivec2 getTextureIndex(int index, ivec2 textureDimensions) {
  int textureLength = textureDimensions.x * textureDimensions.y;
  

  
  int x = index % textureDimensions.x;
  int y = index / textureDimensions.x;

  return ivec2(x,y);
}

uniform vec2 mousePosition;

uniform sampler2D positionTexture;
uniform sampler2D colorTexture;
uniform sampler2D sizeTexture;
uniform sampler2D emphasisTexture;

uniform ivec2 textureDimensions;

#ifdef PICKER
  flat out vec4 color;
#else
  out vec4 color;
#endif

out vec3 position;
out vec3 normal;

vec3 desaturate(vec3 color, float amount) {
  float average = (color.r + color.g + color.b) / 3.0;
  return mix(color, vec3(average), amount);
}

void main() {
  int id = int(index);
  
  vec3 nodePosition = texelFetch(positionTexture, getTextureIndex(id, textureDimensions), 0).xyz;
  vec4 nodeColor = texelFetch(colorTexture, getTextureIndex(id, textureDimensions), 0);
  float nodeSize = texelFetch(sizeTexture, getTextureIndex(id, textureDimensions), 0).r;
  float nodeEmphasis = texelFetch(emphasisTexture, getTextureIndex(id, textureDimensions), 0).r;

  float scale = nodeSize;
  float isSelected = float(index == selectedIndex);
  scale *= mix(1.0, 1.1, isSelected);
  
  #ifdef PICKER
    scale = max(scale, 0.05);
  #endif

  NodeGeometryBundle geo = nodeGeometry(
    nodePosition,
    vertexPosition,
    scale,
    CameraMatrices(
      projection,
      view,
      orthoFixedProjection,
      orthoFixedView,
      orthoZoomedProjection,
      orthoZoomedView
    )
  );
  
  
  
  
  

  vec4 clipPosition = geo.orthographicClipPosition;
  
  #ifdef PICKER
    color = instanceIdToColor();
  #else
    color = mix(nodeColor, selectedColor*1.4, float(index == selectedIndex));

    
    vec3 selectedNodePosition = texelFetch(positionTexture, getTextureIndex(selectedIndex, textureDimensions), 0).xyz;

    float fogVisibility = 0.2;

    
    float selectedDistance = length(nodePosition - selectedNodePosition);
    float anythingSelected = float(selectedIndex > -1);
    
    
    float fog = min(computeFog(geo.globalClipPosition.z, defaultFogBoundaryClipZ), 1.0-isSelected);
    fog = min(fog, 1.0-nodeEmphasis);
    fog = mix(0.0, fog, nodeFog);
    color.rgb *= mix(1.0, 0.5, fog);
    color.rgb = desaturate(color.rgb, (1.0-fogVisibility)*fog);
    
    
  #endif

  normal = mat3(orthoFixedView) * vertexNormal;
  gl_Position = clipPosition;
}`,node_default=`precision lowp float;
in vec4 color;
in vec3 normal;

in vec3 position;
out vec4 fragColor;

void main() {
    
    
    const vec3 lightDirection = normalize(vec3(0.0, 0.0, 1.0));
    float light = dot(normal, lightDirection);
    fragColor = vec4(color.xyz * light, color.a);

    
    
}`,node_picker_default$1=`precision highp float;

vec4 instanceIdToColor() {
    int instanceId = gl_InstanceID + 1;
    float r = float(instanceId & 0x0000FF) / 255.0;
    float g = float((instanceId & 0x00FF00) >> 8) / 255.0;
    float b = float((instanceId & 0xFF0000) >> 16) / 255.0;

    return vec4(r, g, b, 1.0);
}

#define PICKER
in vec3 vertexPosition;
in vec3 vertexNormal;
in int index;

uniform cameras {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
  float distance;
  vec3 center;
  vec3 rotationCenter;
};

uniform int selectedIndex;
uniform vec4 selectedColor;
float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float defaultFogVisibility = 0.3;
float defaultFogBoundaryClipZ = 700.0;

uniform float globalScale;
uniform float nodeScale;
uniform float edgeScale;
uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeFog;
uniform float nodeFog;

float computeFog(float positionClipZ, float fogBoundaryClipZ) {
  float fogLevel = 1.0 - bump(positionClipZ, 1.0, fogBoundaryClipZ);
  fogLevel = mix(
    fogLevel, 
    0.0,
    smoothstep(400.0, 800.0, distance)
  );
  
  return fogLevel;
}

struct CameraMatrices {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
};

struct NodeGeometryBundle {
  vec3 globalNDC;
  vec4 globalClipPosition;
  vec4 orthoFixedClipPosition;
  vec4 orthoZoomedClipPosition;
  vec4 orthographicClipPosition;
};

NodeGeometryBundle nodeGeometry(
  in vec3 nodePosition,
  in vec3 vertexPosition,
  float scale,
  in CameraMatrices cam
) {
  vec4 globalClipPosition = cam.projection * cam.view * vec4(nodePosition, 1.0);
  vec3 globalNDC = globalClipPosition.xyz / globalClipPosition.w;

  vec4 orthoFixedClipPosition = cam.orthoFixedProjection * cam.orthoFixedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0);
  vec3 orthoFixedNDC = orthoFixedClipPosition.xyz / orthoFixedClipPosition.w;
  
  vec4 orthoZoomedClipPosition = cam.orthoZoomedProjection * cam.orthoZoomedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0)*0.5;
  vec3 orthoZoomedNDC = orthoZoomedClipPosition.xyz / orthoZoomedClipPosition.w;

  vec3 localNDC = mix(orthoZoomedNDC, orthoFixedNDC, 0.5);

  
  vec3 orthographicNDC = vec3(localNDC.xy + globalNDC.xy, globalNDC.z + (localNDC.z - 0.99)*0.1 );
  
  vec4 orthographicClipPosition = vec4(orthographicNDC * globalClipPosition.w, globalClipPosition.w);
  
  return NodeGeometryBundle(
    globalNDC,
    globalClipPosition,
    orthoFixedClipPosition,
    orthoZoomedClipPosition,
    orthographicClipPosition
  );
}

ivec2 getTextureIndex(int index, ivec2 textureDimensions) {
  int textureLength = textureDimensions.x * textureDimensions.y;
  

  
  int x = index % textureDimensions.x;
  int y = index / textureDimensions.x;

  return ivec2(x,y);
}

uniform vec2 mousePosition;

uniform sampler2D positionTexture;
uniform sampler2D colorTexture;
uniform sampler2D sizeTexture;
uniform sampler2D emphasisTexture;

uniform ivec2 textureDimensions;

#ifdef PICKER
  flat out vec4 color;
#else
  out vec4 color;
#endif

out vec3 position;
out vec3 normal;

vec3 desaturate(vec3 color, float amount) {
  float average = (color.r + color.g + color.b) / 3.0;
  return mix(color, vec3(average), amount);
}

void main() {
  int id = int(index);
  
  vec3 nodePosition = texelFetch(positionTexture, getTextureIndex(id, textureDimensions), 0).xyz;
  vec4 nodeColor = texelFetch(colorTexture, getTextureIndex(id, textureDimensions), 0);
  float nodeSize = texelFetch(sizeTexture, getTextureIndex(id, textureDimensions), 0).r;
  float nodeEmphasis = texelFetch(emphasisTexture, getTextureIndex(id, textureDimensions), 0).r;

  float scale = nodeSize;
  float isSelected = float(index == selectedIndex);
  scale *= mix(1.0, 1.1, isSelected);
  
  #ifdef PICKER
    scale = max(scale, 0.05);
  #endif

  NodeGeometryBundle geo = nodeGeometry(
    nodePosition,
    vertexPosition,
    scale,
    CameraMatrices(
      projection,
      view,
      orthoFixedProjection,
      orthoFixedView,
      orthoZoomedProjection,
      orthoZoomedView
    )
  );
  
  
  
  
  

  vec4 clipPosition = geo.orthographicClipPosition;
  
  #ifdef PICKER
    color = instanceIdToColor();
  #else
    color = mix(nodeColor, selectedColor*1.4, float(index == selectedIndex));

    
    vec3 selectedNodePosition = texelFetch(positionTexture, getTextureIndex(selectedIndex, textureDimensions), 0).xyz;

    float fogVisibility = 0.2;

    
    float selectedDistance = length(nodePosition - selectedNodePosition);
    float anythingSelected = float(selectedIndex > -1);
    
    
    float fog = min(computeFog(geo.globalClipPosition.z, defaultFogBoundaryClipZ), 1.0-isSelected);
    fog = min(fog, 1.0-nodeEmphasis);
    fog = mix(0.0, fog, nodeFog);
    color.rgb *= mix(1.0, 0.5, fog);
    color.rgb = desaturate(color.rgb, (1.0-fogVisibility)*fog);
    
    
  #endif

  normal = mat3(orthoFixedView) * vertexNormal;
  gl_Position = clipPosition;
}`,node_picker_default=`precision highp float;

flat in vec4 color;
out vec4 fragColor;

void main() {
    fragColor = color;
}`,edge_default$1=`precision highp float;
precision highp int;

in vec3 segmentOffset;
in ivec2 edgeIndices;

out vec4 color;
out vec4 position;
out float size;
flat out vec2 edgeDirection;
flat out float edgeLength;
flat out float edgeLength2D;
flat out float isAnySelected;
flat out vec2 sourcePosition2D;
flat out vec2 targetPosition2D;
flat out float sourceSize;
flat out float targetSize;
out float isSource;
out float isTarget;
out float emphasis;
out float selected;
out float hovering;
out float v;
out float y;
out float fog;

out float offsetRadius2D;

uniform vec2 mousePosition;

uniform cameras {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
  float distance;
  vec3 center;
  vec3 rotationCenter;
};

uniform int selectedIndex;
uniform vec4 selectedColor;
float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float defaultFogVisibility = 0.3;
float defaultFogBoundaryClipZ = 700.0;

uniform float globalScale;
uniform float nodeScale;
uniform float edgeScale;
uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeFog;
uniform float nodeFog;

float computeFog(float positionClipZ, float fogBoundaryClipZ) {
  float fogLevel = 1.0 - bump(positionClipZ, 1.0, fogBoundaryClipZ);
  fogLevel = mix(
    fogLevel, 
    0.0,
    smoothstep(400.0, 800.0, distance)
  );
  
  return fogLevel;
}

struct CameraMatrices {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
};

struct NodeGeometryBundle {
  vec3 globalNDC;
  vec4 globalClipPosition;
  vec4 orthoFixedClipPosition;
  vec4 orthoZoomedClipPosition;
  vec4 orthographicClipPosition;
};

NodeGeometryBundle nodeGeometry(
  in vec3 nodePosition,
  in vec3 vertexPosition,
  float scale,
  in CameraMatrices cam
) {
  vec4 globalClipPosition = cam.projection * cam.view * vec4(nodePosition, 1.0);
  vec3 globalNDC = globalClipPosition.xyz / globalClipPosition.w;

  vec4 orthoFixedClipPosition = cam.orthoFixedProjection * cam.orthoFixedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0);
  vec3 orthoFixedNDC = orthoFixedClipPosition.xyz / orthoFixedClipPosition.w;
  
  vec4 orthoZoomedClipPosition = cam.orthoZoomedProjection * cam.orthoZoomedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0)*0.5;
  vec3 orthoZoomedNDC = orthoZoomedClipPosition.xyz / orthoZoomedClipPosition.w;

  vec3 localNDC = mix(orthoZoomedNDC, orthoFixedNDC, 0.5);

  
  vec3 orthographicNDC = vec3(localNDC.xy + globalNDC.xy, globalNDC.z + (localNDC.z - 0.99)*0.1 );
  
  vec4 orthographicClipPosition = vec4(orthographicNDC * globalClipPosition.w, globalClipPosition.w);
  
  return NodeGeometryBundle(
    globalNDC,
    globalClipPosition,
    orthoFixedClipPosition,
    orthoZoomedClipPosition,
    orthographicClipPosition
  );
}

ivec2 getTextureIndex(int index, ivec2 textureDimensions) {
  int textureLength = textureDimensions.x * textureDimensions.y;
  

  
  int x = index % textureDimensions.x;
  int y = index / textureDimensions.x;

  return ivec2(x,y);
}

uniform sampler2D positionTexture;
uniform sampler2D colorTexture;
uniform sampler2D sizeTexture;
uniform sampler2D emphasisTexture;
uniform ivec2 textureDimensions;

uniform vec2 viewport;

uniform int hoveringIndex;
uniform float edgeOvershoot;

vec4 edgeGeometry(
    in vec3 nodePosition,
    in vec3 vertexPosition,
    in vec2 edgeDirection,
    float scale,
    float flatness,
    in CameraMatrices cam
) {
    vec2 normalizedEdgeDirection = normalize(edgeDirection);
    vec2 edgePerpendicular = vec2(-normalizedEdgeDirection.y, normalizedEdgeDirection.x) * scale * globalScale * edgeScale / 3.0;
    vec4 position = cam.projection * cam.view * vec4(nodePosition, 1.0);
    vec4 positionNDC = position / position.w;

    vec4 positionClip = vec4(position.xy + vertexPosition.y * 1.0 * edgePerpendicular, position.zw);

    vec4 positionFixedStrokeNDC = positionNDC + vec4(vertexPosition.y * edgePerpendicular, 0.0, 0.0);
    vec4 positionFixedStrokeClip = positionFixedStrokeNDC * position.w;

    return mix(positionClip, positionFixedStrokeClip, flatness);
}

vec3 desaturate(vec3 color, float amount) {
  float average = (color.r + color.g + color.b) / 3.0;
  return mix(color, vec3(average), amount);
}

void main() {
    selected = float(selectedIndex == edgeIndices.x || selectedIndex == edgeIndices.y);
    hovering = float(hoveringIndex == edgeIndices.x || hoveringIndex == edgeIndices.y);
    isAnySelected = float(selectedIndex > -1);

    vec3 offset = segmentOffset;
    offset.y *= edgeOvershoot;

    vec3 segmentPosition = offset.yxz + vec3(0.5 * edgeOvershoot, 0.0, 0.0);

    

    isSource = segmentPosition.x;
    isTarget = 1.0 - segmentPosition.x;

    float sourceEmphasis = texelFetch(emphasisTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0).r;
    float targetEmphasis = texelFetch(emphasisTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0).r;

    emphasis = max(sourceEmphasis, targetEmphasis);

    position = vec4(0);
    vec3 vertexOffset = segmentPosition + vec3(0.0, 0, 0.0);

    vec3 sourceNodePosition = texelFetch(positionTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0).xyz;
    vec3 targetNodePosition = texelFetch(positionTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0).xyz;

    vec3 nodePosition = sourceNodePosition * isSource + targetNodePosition * isTarget;

    
    

    
    

    vec4 sourcePositionClip = projection * view * vec4(sourceNodePosition, 1.0);
    vec4 targetPositionClip = projection * view * vec4(targetNodePosition, 1.0);

    vec2 sourcePosition2DNDC = sourcePositionClip.xy / sourcePositionClip.w;
    vec2 targetPosition2DNDC = targetPositionClip.xy / targetPositionClip.w;

    
    sourcePosition2D = (sourcePosition2DNDC + 1.0) * 0.5 * viewport;
    targetPosition2D = (targetPosition2DNDC + 1.0) * 0.5 * viewport;
    edgeLength2D = length(targetPosition2D - sourcePosition2D);

    edgeDirection = normalize(targetPositionClip.xyz / targetPositionClip.w - sourcePositionClip.xyz / sourcePositionClip.w).xy;
    edgeLength = length(targetNodePosition.xyz - sourceNodePosition.xyz);

    sourceSize = texelFetch(sizeTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0).r;
    targetSize = texelFetch(sizeTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0).r;

    size = sourceSize * isSource + targetSize * isTarget;

    
    
    size *= 0.4;

    position = edgeGeometry(
            nodePosition,
            vertexOffset,
            edgeDirection,
            size,
            1.0,
            
            CameraMatrices(
                projection,
                
                view,
                orthoFixedProjection,
                
                orthoFixedView,
                orthoZoomedProjection,
                orthoZoomedView
            )
        );

    
    vec4 sourceColor = texelFetch(colorTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0);
    sourceColor = mix(sourceColor, selectedColor, float(selectedIndex == edgeIndices.x));
    vec4 targetColor = texelFetch(colorTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0);
    targetColor = mix(targetColor, selectedColor, float(selectedIndex == edgeIndices.y));
    color += sourceColor * isSource;
    color += targetColor * isTarget;

    
    color.rgb = desaturate(color.rgb, mix(1.0, 0.2, emphasis));
    color.a *= mix(0.2, 1.0, mix(1.0, emphasis, isAnySelected));
    color.a *= mix(0.4, 1.0, mix(1.0, selected, isAnySelected));

    
    color.a *= mix(1.0, mix(0.3, 1.0, selected), smoothstep(400.0, 1200.0, distance));

    fog = computeFog(position.z, defaultFogBoundaryClipZ / 2.0);
    fog = min(fog, 1.0 - selected);
    fog = min(fog, 1.0 - emphasis);
    fog = mix(0.0, fog, edgeFog);
    color.a *= mix(1.0, 0.1, fog);

    

    gl_Position = position;
    y = vertexOffset.y;
    v = segmentPosition.y;

    

    
    
    
    
    

    
    
    
    
}`,edge_default=`precision highp float;

in float selected;
in float isTarget;

in float fog;
in vec4 color;

in float emphasis;
in float size;
in float offsetRadius2D;

flat in float edgeLength;
flat in float edgeLength2D;
flat in vec2 sourcePosition2D;
flat in vec2 targetPosition2D;
in float y;
in float v;

flat in float sourceSize;
flat in float targetSize;

out vec4 fragColor;

const float PI = 3.1415926535897932384626433832795;
const float freq = 1.0;

uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeWaveSpeed;
uniform float edgeOvershoot;

uniform float time;
uniform float devicePixelRatio;
uniform sampler2D nodeDepthTexture;

float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float wave(float t, float freq) {
    return pow(sin(t * freq * PI), 2.0);
}
void main() {
    
    float u_2D = length(gl_FragCoord.xy / devicePixelRatio - sourcePosition2D) / edgeLength2D;
    fragColor = color;

    float u_3D = isTarget;

    
    fragColor.a *= mix(bump(v, 2.0 * (1.0 - fog), 1.0), 1.0, fog);

    
    float u_hybrid = mix(u_2D, u_3D, 0.5);
    float endBumpsMellow =
        clamp(bump(u_hybrid, 1.0, 0.5) +
                bump(1.0 - u_hybrid, 1.0, 0.5), 0.0, 1.0);

    float endBumpsFirm =
        clamp(bump(u_hybrid, 1.0, 0.1) +
                bump(1.0 - u_hybrid, 1.0, 0.1), 0.0, 1.0);

    
    float otherEndBumps =
        clamp(bump(u_3D, 1.0, offsetRadius2D / edgeLength) +
                bump(1.0 - u_3D, 1.0, offsetRadius2D / edgeLength), 0.0, 1.0);

    
    
    float frequency = edgeLength2D * 1.0 * edgeFrequency * sourceSize;
    float waveSpeed = 4.0 * edgeWaveSpeed / edgeLength2D;
    float waves = mix(
            1.0,
            wave(u_2D - time * waveSpeed, frequency),
            mix(0.5, 1.0, emphasis) 
        );

    
    float highFrequency = edgeLength / 4.0 * edgeFrequency;
    float pulseSpeed = 20.0 / edgeLength * edgePulseSpeed;
    float pulse = clamp(pow(wave(u_2D - time * pulseSpeed, 1.0), edgeLength2D / 5.0), 0.0, 1.0);

    

    
    fragColor.rgb = mix(fragColor.rgb, vec3(1.0, 1.0, 0.0), mix(0.0, pulse, 0.1));

    
    fragColor.a *= mix(1.0, waves, 1.0 - pulse);

    
    fragColor.a *= bump(
            v,
            1.0,
            (pulse * mix(0.2, 0.4, selected) * wave(u_3D, highFrequency)) + 0.6
        );

    
    

    
    fragColor.a *= mix(0.4, 1.0, selected);

    
    fragColor.a *= mix(1.0, 0.0, mix(endBumpsMellow, endBumpsFirm, pulse));

    
    fragColor.a *= bump(u_3D - 0.5, 2.0, edgeOvershoot);

    
    float nodeDepth = texelFetch(nodeDepthTexture, ivec2(gl_FragCoord.xy), 0).r;
    
    gl_FragDepth = max(gl_FragCoord.z, nodeDepth) - 0.0001;

    
    
    

    
    
    
}`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2;const i$2=window,s$2=i$2.trustedTypes,e$3=s$2?s$2.createPolicy("lit-html",{createHTML:X=>X}):void 0,o$2="$lit$",n$1=`lit$${(Math.random()+"").slice(9)}$`,l$2="?"+n$1,h$2=`<${l$2}>`,r$1=document,d$2=()=>r$1.createComment(""),u$1=X=>X===null||typeof X!="object"&&typeof X!="function",c$1=Array.isArray,v$2=X=>c$1(X)||typeof X?.[Symbol.iterator]=="function",a$1=`[ 	
\f\r]`,f$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_=/-->/g,m$2=/>/g,p$1=RegExp(`>|${a$1}(?:([^\\s"'>=/]+)(${a$1}*=${a$1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g$1=/'/g,$$1=/"/g,y$2=/^(?:script|style|textarea|title)$/i,w$1=X=>(Z,...G)=>({_$litType$:X,strings:Z,values:G}),x$2=w$1(1),T=Symbol.for("lit-noChange"),A=Symbol.for("lit-nothing"),E=new WeakMap,C=r$1.createTreeWalker(r$1,129,null,!1),P=(X,Z)=>{const G=X.length-1,W=[];let F,U=Z===2?"<svg>":"",J=f$1;for(let D=0;D<G;D++){const Q=X[D];let ee,q,te=-1,ie=0;for(;ie<Q.length&&(J.lastIndex=ie,q=J.exec(Q),q!==null);)ie=J.lastIndex,J===f$1?q[1]==="!--"?J=_:q[1]!==void 0?J=m$2:q[2]!==void 0?(y$2.test(q[2])&&(F=RegExp("</"+q[2],"g")),J=p$1):q[3]!==void 0&&(J=p$1):J===p$1?q[0]===">"?(J=F??f$1,te=-1):q[1]===void 0?te=-2:(te=J.lastIndex-q[2].length,ee=q[1],J=q[3]===void 0?p$1:q[3]==='"'?$$1:g$1):J===$$1||J===g$1?J=p$1:J===_||J===m$2?J=f$1:(J=p$1,F=void 0);const ne=J===p$1&&X[D+1].startsWith("/>")?" ":"";U+=J===f$1?Q+h$2:te>=0?(W.push(ee),Q.slice(0,te)+o$2+Q.slice(te)+n$1+ne):Q+n$1+(te===-2?(W.push(void 0),D):ne)}const Y=U+(X[G]||"<?>")+(Z===2?"</svg>":"");if(!Array.isArray(X)||!X.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e$3!==void 0?e$3.createHTML(Y):Y,W]};class V{constructor({strings:Z,_$litType$:G},W){let F;this.parts=[];let U=0,J=0;const Y=Z.length-1,D=this.parts,[Q,ee]=P(Z,G);if(this.el=V.createElement(Q,W),C.currentNode=this.el.content,G===2){const q=this.el.content,te=q.firstChild;te.remove(),q.append(...te.childNodes)}for(;(F=C.nextNode())!==null&&D.length<Y;){if(F.nodeType===1){if(F.hasAttributes()){const q=[];for(const te of F.getAttributeNames())if(te.endsWith(o$2)||te.startsWith(n$1)){const ie=ee[J++];if(q.push(te),ie!==void 0){const ne=F.getAttribute(ie.toLowerCase()+o$2).split(n$1),ce=/([.?@])?(.*)/.exec(ie);D.push({type:1,index:U,name:ce[2],strings:ne,ctor:ce[1]==="."?k$2:ce[1]==="?"?I$1:ce[1]==="@"?L$1:R})}else D.push({type:6,index:U})}for(const te of q)F.removeAttribute(te)}if(y$2.test(F.tagName)){const q=F.textContent.split(n$1),te=q.length-1;if(te>0){F.textContent=s$2?s$2.emptyScript:"";for(let ie=0;ie<te;ie++)F.append(q[ie],d$2()),C.nextNode(),D.push({type:2,index:++U});F.append(q[te],d$2())}}}else if(F.nodeType===8)if(F.data===l$2)D.push({type:2,index:U});else{let q=-1;for(;(q=F.data.indexOf(n$1,q+1))!==-1;)D.push({type:7,index:U}),q+=n$1.length-1}U++}}static createElement(Z,G){const W=r$1.createElement("template");return W.innerHTML=Z,W}}function N$1(X,Z,G=X,W){var F,U,J,Y;if(Z===T)return Z;let D=W!==void 0?(F=G._$Co)===null||F===void 0?void 0:F[W]:G._$Cl;const Q=u$1(Z)?void 0:Z._$litDirective$;return D?.constructor!==Q&&((U=D?._$AO)===null||U===void 0||U.call(D,!1),Q===void 0?D=void 0:(D=new Q(X),D._$AT(X,G,W)),W!==void 0?((J=(Y=G)._$Co)!==null&&J!==void 0?J:Y._$Co=[])[W]=D:G._$Cl=D),D!==void 0&&(Z=N$1(X,D._$AS(X,Z.values),D,W)),Z}let S$1=class{constructor(Z,G){this._$AV=[],this._$AN=void 0,this._$AD=Z,this._$AM=G}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Z){var G;const{el:{content:W},parts:F}=this._$AD,U=((G=Z?.creationScope)!==null&&G!==void 0?G:r$1).importNode(W,!0);C.currentNode=U;let J=C.nextNode(),Y=0,D=0,Q=F[0];for(;Q!==void 0;){if(Y===Q.index){let ee;Q.type===2?ee=new M$2(J,J.nextSibling,this,Z):Q.type===1?ee=new Q.ctor(J,Q.name,Q.strings,this,Z):Q.type===6&&(ee=new z(J,this,Z)),this._$AV.push(ee),Q=F[++D]}Y!==Q?.index&&(J=C.nextNode(),Y++)}return U}v(Z){let G=0;for(const W of this._$AV)W!==void 0&&(W.strings!==void 0?(W._$AI(Z,W,G),G+=W.strings.length-2):W._$AI(Z[G])),G++}},M$2=class Zl{constructor(Z,G,W,F){var U;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=Z,this._$AB=G,this._$AM=W,this.options=F,this._$Cp=(U=F?.isConnected)===null||U===void 0||U}get _$AU(){var Z,G;return(G=(Z=this._$AM)===null||Z===void 0?void 0:Z._$AU)!==null&&G!==void 0?G:this._$Cp}get parentNode(){let Z=this._$AA.parentNode;const G=this._$AM;return G!==void 0&&Z?.nodeType===11&&(Z=G.parentNode),Z}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Z,G=this){Z=N$1(this,Z,G),u$1(Z)?Z===A||Z==null||Z===""?(this._$AH!==A&&this._$AR(),this._$AH=A):Z!==this._$AH&&Z!==T&&this._(Z):Z._$litType$!==void 0?this.g(Z):Z.nodeType!==void 0?this.$(Z):v$2(Z)?this.T(Z):this._(Z)}k(Z){return this._$AA.parentNode.insertBefore(Z,this._$AB)}$(Z){this._$AH!==Z&&(this._$AR(),this._$AH=this.k(Z))}_(Z){this._$AH!==A&&u$1(this._$AH)?this._$AA.nextSibling.data=Z:this.$(r$1.createTextNode(Z)),this._$AH=Z}g(Z){var G;const{values:W,_$litType$:F}=Z,U=typeof F=="number"?this._$AC(Z):(F.el===void 0&&(F.el=V.createElement(F.h,this.options)),F);if(((G=this._$AH)===null||G===void 0?void 0:G._$AD)===U)this._$AH.v(W);else{const J=new S$1(U,this),Y=J.u(this.options);J.v(W),this.$(Y),this._$AH=J}}_$AC(Z){let G=E.get(Z.strings);return G===void 0&&E.set(Z.strings,G=new V(Z)),G}T(Z){c$1(this._$AH)||(this._$AH=[],this._$AR());const G=this._$AH;let W,F=0;for(const U of Z)F===G.length?G.push(W=new Zl(this.k(d$2()),this.k(d$2()),this,this.options)):W=G[F],W._$AI(U),F++;F<G.length&&(this._$AR(W&&W._$AB.nextSibling,F),G.length=F)}_$AR(Z=this._$AA.nextSibling,G){var W;for((W=this._$AP)===null||W===void 0||W.call(this,!1,!0,G);Z&&Z!==this._$AB;){const F=Z.nextSibling;Z.remove(),Z=F}}setConnected(Z){var G;this._$AM===void 0&&(this._$Cp=Z,(G=this._$AP)===null||G===void 0||G.call(this,Z))}};class R{constructor(Z,G,W,F,U){this.type=1,this._$AH=A,this._$AN=void 0,this.element=Z,this.name=G,this._$AM=F,this.options=U,W.length>2||W[0]!==""||W[1]!==""?(this._$AH=Array(W.length-1).fill(new String),this.strings=W):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(Z,G=this,W,F){const U=this.strings;let J=!1;if(U===void 0)Z=N$1(this,Z,G,0),J=!u$1(Z)||Z!==this._$AH&&Z!==T,J&&(this._$AH=Z);else{const Y=Z;let D,Q;for(Z=U[0],D=0;D<U.length-1;D++)Q=N$1(this,Y[W+D],G,D),Q===T&&(Q=this._$AH[D]),J||(J=!u$1(Q)||Q!==this._$AH[D]),Q===A?Z=A:Z!==A&&(Z+=(Q??"")+U[D+1]),this._$AH[D]=Q}J&&!F&&this.j(Z)}j(Z){Z===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Z??"")}}let k$2=class extends R{constructor(){super(...arguments),this.type=3}j(Z){this.element[this.name]=Z===A?void 0:Z}};const H$1=s$2?s$2.emptyScript:"";let I$1=class extends R{constructor(){super(...arguments),this.type=4}j(Z){Z&&Z!==A?this.element.setAttribute(this.name,H$1):this.element.removeAttribute(this.name)}},L$1=class extends R{constructor(Z,G,W,F,U){super(Z,G,W,F,U),this.type=5}_$AI(Z,G=this){var W;if((Z=(W=N$1(this,Z,G,0))!==null&&W!==void 0?W:A)===T)return;const F=this._$AH,U=Z===A&&F!==A||Z.capture!==F.capture||Z.once!==F.once||Z.passive!==F.passive,J=Z!==A&&(F===A||U);U&&this.element.removeEventListener(this.name,this,F),J&&this.element.addEventListener(this.name,this,Z),this._$AH=Z}handleEvent(Z){var G,W;typeof this._$AH=="function"?this._$AH.call((W=(G=this.options)===null||G===void 0?void 0:G.host)!==null&&W!==void 0?W:this.element,Z):this._$AH.handleEvent(Z)}};class z{constructor(Z,G,W){this.element=Z,this.type=6,this._$AN=void 0,this._$AM=G,this.options=W}get _$AU(){return this._$AM._$AU}_$AI(Z){N$1(this,Z)}}const j$1=i$2.litHtmlPolyfillSupport;j$1?.(V,M$2),((t$2=i$2.litHtmlVersions)!==null&&t$2!==void 0?t$2:i$2.litHtmlVersions=[]).push("2.7.1");const B=(X,Z,G)=>{var W,F;const U=(W=G?.renderBefore)!==null&&W!==void 0?W:Z;let J=U._$litPart$;if(J===void 0){const Y=(F=G?.renderBefore)!==null&&F!==void 0?F:null;U._$litPart$=J=new M$2(Z.insertBefore(d$2(),Y),Y,void 0,G??{})}return J._$AI(X),J};function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(X){_defaults=X}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=X=>escapeReplacements[X];function escape(X,Z){if(Z){if(escapeTest.test(X))return X.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(X))return X.replace(escapeReplaceNoEncode,getEscapeReplacement);return X}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(X){return X.replace(unescapeTest,(Z,G)=>(G=G.toLowerCase(),G==="colon"?":":G.charAt(0)==="#"?G.charAt(1)==="x"?String.fromCharCode(parseInt(G.substring(2),16)):String.fromCharCode(+G.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(X,Z){X=typeof X=="string"?X:X.source,Z=Z||"";const G={replace:(W,F)=>(F=typeof F=="object"&&"source"in F?F.source:F,F=F.replace(caret,"$1"),X=X.replace(W,F),G),getRegex:()=>new RegExp(X,Z)};return G}function cleanUrl(X){try{X=encodeURI(X).replace(/%25/g,"%")}catch{return null}return X}const noopTest={exec:()=>null};function splitCells(X,Z){const G=X.replace(/\|/g,(U,J,Y)=>{let D=!1,Q=J;for(;--Q>=0&&Y[Q]==="\\";)D=!D;return D?"|":" |"}),W=G.split(/ \|/);let F=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),Z)if(W.length>Z)W.splice(Z);else for(;W.length<Z;)W.push("");for(;F<W.length;F++)W[F]=W[F].trim().replace(/\\\|/g,"|");return W}function rtrim(X,Z,G){const W=X.length;if(W===0)return"";let F=0;for(;F<W;){const U=X.charAt(W-F-1);if(U===Z&&!G)F++;else if(U!==Z&&G)F++;else break}return X.slice(0,W-F)}function findClosingBracket(X,Z){if(X.indexOf(Z[1])===-1)return-1;let G=0;for(let W=0;W<X.length;W++)if(X[W]==="\\")W++;else if(X[W]===Z[0])G++;else if(X[W]===Z[1]&&(G--,G<0))return W;return-1}function outputLink(X,Z,G,W){const F=Z.href,U=Z.title?escape(Z.title):null,J=X[1].replace(/\\([\[\]])/g,"$1");if(X[0].charAt(0)!=="!"){W.state.inLink=!0;const Y={type:"link",raw:G,href:F,title:U,text:J,tokens:W.inlineTokens(J)};return W.state.inLink=!1,Y}return{type:"image",raw:G,href:F,title:U,text:escape(J)}}function indentCodeCompensation(X,Z){const G=X.match(/^(\s+)(?:```)/);if(G===null)return Z;const W=G[1];return Z.split(`
`).map(F=>{const U=F.match(/^\s+/);if(U===null)return F;const[J]=U;return J.length>=W.length?F.slice(W.length):F}).join(`
`)}class _Tokenizer{options;rules;lexer;constructor(Z){this.options=Z||_defaults}space(Z){const G=this.rules.block.newline.exec(Z);if(G&&G[0].length>0)return{type:"space",raw:G[0]}}code(Z){const G=this.rules.block.code.exec(Z);if(G){const W=G[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:G[0],codeBlockStyle:"indented",text:this.options.pedantic?W:rtrim(W,`
`)}}}fences(Z){const G=this.rules.block.fences.exec(Z);if(G){const W=G[0],F=indentCodeCompensation(W,G[3]||"");return{type:"code",raw:W,lang:G[2]?G[2].trim().replace(this.rules.inline._escapes,"$1"):G[2],text:F}}}heading(Z){const G=this.rules.block.heading.exec(Z);if(G){let W=G[2].trim();if(/#$/.test(W)){const F=rtrim(W,"#");(this.options.pedantic||!F||/ $/.test(F))&&(W=F.trim())}return{type:"heading",raw:G[0],depth:G[1].length,text:W,tokens:this.lexer.inline(W)}}}hr(Z){const G=this.rules.block.hr.exec(Z);if(G)return{type:"hr",raw:G[0]}}blockquote(Z){const G=this.rules.block.blockquote.exec(Z);if(G){const W=rtrim(G[0].replace(/^ *>[ \t]?/gm,""),`
`),F=this.lexer.state.top;this.lexer.state.top=!0;const U=this.lexer.blockTokens(W);return this.lexer.state.top=F,{type:"blockquote",raw:G[0],tokens:U,text:W}}}list(Z){let G=this.rules.block.list.exec(Z);if(G){let W=G[1].trim();const F=W.length>1,U={type:"list",raw:"",ordered:F,start:F?+W.slice(0,-1):"",loose:!1,items:[]};W=F?`\\d{1,9}\\${W.slice(-1)}`:`\\${W}`,this.options.pedantic&&(W=F?W:"[*+-]");const J=new RegExp(`^( {0,3}${W})((?:[	 ][^\\n]*)?(?:\\n|$))`);let Y="",D="",Q=!1;for(;Z;){let ee=!1;if(!(G=J.exec(Z))||this.rules.block.hr.test(Z))break;Y=G[0],Z=Z.substring(Y.length);let q=G[2].split(`
`,1)[0].replace(/^\t+/,se=>" ".repeat(3*se.length)),te=Z.split(`
`,1)[0],ie=0;this.options.pedantic?(ie=2,D=q.trimStart()):(ie=G[2].search(/[^ ]/),ie=ie>4?1:ie,D=q.slice(ie),ie+=G[1].length);let ne=!1;if(!q&&/^ *$/.test(te)&&(Y+=te+`
`,Z=Z.substring(te.length+1),ee=!0),!ee){const se=new RegExp(`^ {0,${Math.min(3,ie-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),pe=new RegExp(`^ {0,${Math.min(3,ie-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ue=new RegExp(`^ {0,${Math.min(3,ie-1)}}(?:\`\`\`|~~~)`),ae=new RegExp(`^ {0,${Math.min(3,ie-1)}}#`);for(;Z;){const de=Z.split(`
`,1)[0];if(te=de,this.options.pedantic&&(te=te.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ue.test(te)||ae.test(te)||se.test(te)||pe.test(Z))break;if(te.search(/[^ ]/)>=ie||!te.trim())D+=`
`+te.slice(ie);else{if(ne||q.search(/[^ ]/)>=4||ue.test(q)||ae.test(q)||pe.test(q))break;D+=`
`+te}!ne&&!te.trim()&&(ne=!0),Y+=de+`
`,Z=Z.substring(de.length+1),q=te.slice(ie)}}U.loose||(Q?U.loose=!0:/\n *\n *$/.test(Y)&&(Q=!0));let ce=null,le;this.options.gfm&&(ce=/^\[[ xX]\] /.exec(D),ce&&(le=ce[0]!=="[ ] ",D=D.replace(/^\[[ xX]\] +/,""))),U.items.push({type:"list_item",raw:Y,task:!!ce,checked:le,loose:!1,text:D,tokens:[]}),U.raw+=Y}U.items[U.items.length-1].raw=Y.trimEnd(),U.items[U.items.length-1].text=D.trimEnd(),U.raw=U.raw.trimEnd();for(let ee=0;ee<U.items.length;ee++)if(this.lexer.state.top=!1,U.items[ee].tokens=this.lexer.blockTokens(U.items[ee].text,[]),!U.loose){const q=U.items[ee].tokens.filter(ie=>ie.type==="space"),te=q.length>0&&q.some(ie=>/\n.*\n/.test(ie.raw));U.loose=te}if(U.loose)for(let ee=0;ee<U.items.length;ee++)U.items[ee].loose=!0;return U}}html(Z){const G=this.rules.block.html.exec(Z);if(G)return{type:"html",block:!0,raw:G[0],pre:G[1]==="pre"||G[1]==="script"||G[1]==="style",text:G[0]}}def(Z){const G=this.rules.block.def.exec(Z);if(G){const W=G[1].toLowerCase().replace(/\s+/g," "),F=G[2]?G[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",U=G[3]?G[3].substring(1,G[3].length-1).replace(this.rules.inline._escapes,"$1"):G[3];return{type:"def",tag:W,raw:G[0],href:F,title:U}}}table(Z){const G=this.rules.block.table.exec(Z);if(G){if(!/[:|]/.test(G[2]))return;const W={type:"table",raw:G[0],header:splitCells(G[1]).map(F=>({text:F,tokens:[]})),align:G[2].replace(/^\||\| *$/g,"").split("|"),rows:G[3]&&G[3].trim()?G[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(W.header.length===W.align.length){let F=W.align.length,U,J,Y,D;for(U=0;U<F;U++){const Q=W.align[U];Q&&(/^ *-+: *$/.test(Q)?W.align[U]="right":/^ *:-+: *$/.test(Q)?W.align[U]="center":/^ *:-+ *$/.test(Q)?W.align[U]="left":W.align[U]=null)}for(F=W.rows.length,U=0;U<F;U++)W.rows[U]=splitCells(W.rows[U],W.header.length).map(Q=>({text:Q,tokens:[]}));for(F=W.header.length,J=0;J<F;J++)W.header[J].tokens=this.lexer.inline(W.header[J].text);for(F=W.rows.length,J=0;J<F;J++)for(D=W.rows[J],Y=0;Y<D.length;Y++)D[Y].tokens=this.lexer.inline(D[Y].text);return W}}}lheading(Z){const G=this.rules.block.lheading.exec(Z);if(G)return{type:"heading",raw:G[0],depth:G[2].charAt(0)==="="?1:2,text:G[1],tokens:this.lexer.inline(G[1])}}paragraph(Z){const G=this.rules.block.paragraph.exec(Z);if(G){const W=G[1].charAt(G[1].length-1)===`
`?G[1].slice(0,-1):G[1];return{type:"paragraph",raw:G[0],text:W,tokens:this.lexer.inline(W)}}}text(Z){const G=this.rules.block.text.exec(Z);if(G)return{type:"text",raw:G[0],text:G[0],tokens:this.lexer.inline(G[0])}}escape(Z){const G=this.rules.inline.escape.exec(Z);if(G)return{type:"escape",raw:G[0],text:escape(G[1])}}tag(Z){const G=this.rules.inline.tag.exec(Z);if(G)return!this.lexer.state.inLink&&/^<a /i.test(G[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(G[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(G[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(G[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:G[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:G[0]}}link(Z){const G=this.rules.inline.link.exec(Z);if(G){const W=G[2].trim();if(!this.options.pedantic&&/^</.test(W)){if(!/>$/.test(W))return;const J=rtrim(W.slice(0,-1),"\\");if((W.length-J.length)%2===0)return}else{const J=findClosingBracket(G[2],"()");if(J>-1){const D=(G[0].indexOf("!")===0?5:4)+G[1].length+J;G[2]=G[2].substring(0,J),G[0]=G[0].substring(0,D).trim(),G[3]=""}}let F=G[2],U="";if(this.options.pedantic){const J=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(F);J&&(F=J[1],U=J[3])}else U=G[3]?G[3].slice(1,-1):"";return F=F.trim(),/^</.test(F)&&(this.options.pedantic&&!/>$/.test(W)?F=F.slice(1):F=F.slice(1,-1)),outputLink(G,{href:F&&F.replace(this.rules.inline._escapes,"$1"),title:U&&U.replace(this.rules.inline._escapes,"$1")},G[0],this.lexer)}}reflink(Z,G){let W;if((W=this.rules.inline.reflink.exec(Z))||(W=this.rules.inline.nolink.exec(Z))){let F=(W[2]||W[1]).replace(/\s+/g," ");if(F=G[F.toLowerCase()],!F){const U=W[0].charAt(0);return{type:"text",raw:U,text:U}}return outputLink(W,F,W[0],this.lexer)}}emStrong(Z,G,W=""){let F=this.rules.inline.emStrong.lDelim.exec(Z);if(!F||F[3]&&W.match(/[\p{L}\p{N}]/u))return;if(!(F[1]||F[2]||"")||!W||this.rules.inline.punctuation.exec(W)){const J=[...F[0]].length-1;let Y,D,Q=J,ee=0;const q=F[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(q.lastIndex=0,G=G.slice(-1*Z.length+F[0].length-1);(F=q.exec(G))!=null;){if(Y=F[1]||F[2]||F[3]||F[4]||F[5]||F[6],!Y)continue;if(D=[...Y].length,F[3]||F[4]){Q+=D;continue}else if((F[5]||F[6])&&J%3&&!((J+D)%3)){ee+=D;continue}if(Q-=D,Q>0)continue;D=Math.min(D,D+Q+ee);const te=[...Z].slice(0,J+F.index+D+1).join("");if(Math.min(J,D)%2){const ne=te.slice(1,-1);return{type:"em",raw:te,text:ne,tokens:this.lexer.inlineTokens(ne)}}const ie=te.slice(2,-2);return{type:"strong",raw:te,text:ie,tokens:this.lexer.inlineTokens(ie)}}}}codespan(Z){const G=this.rules.inline.code.exec(Z);if(G){let W=G[2].replace(/\n/g," ");const F=/[^ ]/.test(W),U=/^ /.test(W)&&/ $/.test(W);return F&&U&&(W=W.substring(1,W.length-1)),W=escape(W,!0),{type:"codespan",raw:G[0],text:W}}}br(Z){const G=this.rules.inline.br.exec(Z);if(G)return{type:"br",raw:G[0]}}del(Z){const G=this.rules.inline.del.exec(Z);if(G)return{type:"del",raw:G[0],text:G[2],tokens:this.lexer.inlineTokens(G[2])}}autolink(Z){const G=this.rules.inline.autolink.exec(Z);if(G){let W,F;return G[2]==="@"?(W=escape(G[1]),F="mailto:"+W):(W=escape(G[1]),F=W),{type:"link",raw:G[0],text:W,href:F,tokens:[{type:"text",raw:W,text:W}]}}}url(Z){let G;if(G=this.rules.inline.url.exec(Z)){let W,F;if(G[2]==="@")W=escape(G[0]),F="mailto:"+W;else{let U;do U=G[0],G[0]=this.rules.inline._backpedal.exec(G[0])[0];while(U!==G[0]);W=escape(G[0]),G[1]==="www."?F="http://"+G[0]:F=G[0]}return{type:"link",raw:G[0],text:W,href:F,tokens:[{type:"text",raw:W,text:W}]}}}inlineText(Z){const G=this.rules.inline.text.exec(Z);if(G){let W;return this.lexer.state.inRawBlock?W=G[0]:W=escape(G[0]),{type:"text",raw:G[0],text:W}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d{1,9}[.)])/;block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block.lheading=edit(block.lheading).replace(/bull/g,block.bullet).getRegex();block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();block.normal={...block};block.gfm={...block.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.pedantic={...block.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};inline._punctuation="\\p{P}$+<=>`^|~";inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;inline.anyPunctuation=/\\[punct]/g;inline._escapes=/\\([punct])/g;inline._comment=edit(block._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(Z){this.tokens=[],this.tokens.links=Object.create(null),this.options=Z||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const G={block:block.normal,inline:inline.normal};this.options.pedantic?(G.block=block.pedantic,G.inline=inline.pedantic):this.options.gfm&&(G.block=block.gfm,this.options.breaks?G.inline=inline.breaks:G.inline=inline.gfm),this.tokenizer.rules=G}static get rules(){return{block,inline}}static lex(Z,G){return new _Lexer(G).lex(Z)}static lexInline(Z,G){return new _Lexer(G).inlineTokens(Z)}lex(Z){Z=Z.replace(/\r\n|\r/g,`
`),this.blockTokens(Z,this.tokens);let G;for(;G=this.inlineQueue.shift();)this.inlineTokens(G.src,G.tokens);return this.tokens}blockTokens(Z,G=[]){this.options.pedantic?Z=Z.replace(/\t/g,"    ").replace(/^ +$/gm,""):Z=Z.replace(/^( *)(\t+)/gm,(Y,D,Q)=>D+"    ".repeat(Q.length));let W,F,U,J;for(;Z;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Y=>(W=Y.call({lexer:this},Z,G))?(Z=Z.substring(W.raw.length),G.push(W),!0):!1))){if(W=this.tokenizer.space(Z)){Z=Z.substring(W.raw.length),W.raw.length===1&&G.length>0?G[G.length-1].raw+=`
`:G.push(W);continue}if(W=this.tokenizer.code(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&(F.type==="paragraph"||F.type==="text")?(F.raw+=`
`+W.raw,F.text+=`
`+W.text,this.inlineQueue[this.inlineQueue.length-1].src=F.text):G.push(W);continue}if(W=this.tokenizer.fences(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.heading(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.hr(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.blockquote(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.list(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.html(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.def(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&(F.type==="paragraph"||F.type==="text")?(F.raw+=`
`+W.raw,F.text+=`
`+W.raw,this.inlineQueue[this.inlineQueue.length-1].src=F.text):this.tokens.links[W.tag]||(this.tokens.links[W.tag]={href:W.href,title:W.title});continue}if(W=this.tokenizer.table(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.lheading(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(U=Z,this.options.extensions&&this.options.extensions.startBlock){let Y=1/0;const D=Z.slice(1);let Q;this.options.extensions.startBlock.forEach(ee=>{Q=ee.call({lexer:this},D),typeof Q=="number"&&Q>=0&&(Y=Math.min(Y,Q))}),Y<1/0&&Y>=0&&(U=Z.substring(0,Y+1))}if(this.state.top&&(W=this.tokenizer.paragraph(U))){F=G[G.length-1],J&&F.type==="paragraph"?(F.raw+=`
`+W.raw,F.text+=`
`+W.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=F.text):G.push(W),J=U.length!==Z.length,Z=Z.substring(W.raw.length);continue}if(W=this.tokenizer.text(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&F.type==="text"?(F.raw+=`
`+W.raw,F.text+=`
`+W.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=F.text):G.push(W);continue}if(Z){const Y="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw new Error(Y)}}return this.state.top=!0,G}inline(Z,G=[]){return this.inlineQueue.push({src:Z,tokens:G}),G}inlineTokens(Z,G=[]){let W,F,U,J=Z,Y,D,Q;if(this.tokens.links){const ee=Object.keys(this.tokens.links);if(ee.length>0)for(;(Y=this.tokenizer.rules.inline.reflinkSearch.exec(J))!=null;)ee.includes(Y[0].slice(Y[0].lastIndexOf("[")+1,-1))&&(J=J.slice(0,Y.index)+"["+"a".repeat(Y[0].length-2)+"]"+J.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Y=this.tokenizer.rules.inline.blockSkip.exec(J))!=null;)J=J.slice(0,Y.index)+"["+"a".repeat(Y[0].length-2)+"]"+J.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Y=this.tokenizer.rules.inline.anyPunctuation.exec(J))!=null;)J=J.slice(0,Y.index)+"++"+J.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Z;)if(D||(Q=""),D=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ee=>(W=ee.call({lexer:this},Z,G))?(Z=Z.substring(W.raw.length),G.push(W),!0):!1))){if(W=this.tokenizer.escape(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.tag(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&W.type==="text"&&F.type==="text"?(F.raw+=W.raw,F.text+=W.text):G.push(W);continue}if(W=this.tokenizer.link(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.reflink(Z,this.tokens.links)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&W.type==="text"&&F.type==="text"?(F.raw+=W.raw,F.text+=W.text):G.push(W);continue}if(W=this.tokenizer.emStrong(Z,J,Q)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.codespan(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.br(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.del(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.autolink(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(!this.state.inLink&&(W=this.tokenizer.url(Z))){Z=Z.substring(W.raw.length),G.push(W);continue}if(U=Z,this.options.extensions&&this.options.extensions.startInline){let ee=1/0;const q=Z.slice(1);let te;this.options.extensions.startInline.forEach(ie=>{te=ie.call({lexer:this},q),typeof te=="number"&&te>=0&&(ee=Math.min(ee,te))}),ee<1/0&&ee>=0&&(U=Z.substring(0,ee+1))}if(W=this.tokenizer.inlineText(U)){Z=Z.substring(W.raw.length),W.raw.slice(-1)!=="_"&&(Q=W.raw.slice(-1)),D=!0,F=G[G.length-1],F&&F.type==="text"?(F.raw+=W.raw,F.text+=W.text):G.push(W);continue}if(Z){const ee="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(ee);break}else throw new Error(ee)}}return G}}class _Renderer{options;constructor(Z){this.options=Z||_defaults}code(Z,G,W){const F=(G||"").match(/^\S*/)?.[0];return Z=Z.replace(/\n$/,"")+`
`,F?'<pre><code class="language-'+escape(F)+'">'+(W?Z:escape(Z,!0))+`</code></pre>
`:"<pre><code>"+(W?Z:escape(Z,!0))+`</code></pre>
`}blockquote(Z){return`<blockquote>
${Z}</blockquote>
`}html(Z,G){return Z}heading(Z,G,W){return`<h${G}>${Z}</h${G}>
`}hr(){return`<hr>
`}list(Z,G,W){const F=G?"ol":"ul",U=G&&W!==1?' start="'+W+'"':"";return"<"+F+U+`>
`+Z+"</"+F+`>
`}listitem(Z,G,W){return`<li>${Z}</li>
`}checkbox(Z){return"<input "+(Z?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(Z){return`<p>${Z}</p>
`}table(Z,G){return G&&(G=`<tbody>${G}</tbody>`),`<table>
<thead>
`+Z+`</thead>
`+G+`</table>
`}tablerow(Z){return`<tr>
${Z}</tr>
`}tablecell(Z,G){const W=G.header?"th":"td";return(G.align?`<${W} align="${G.align}">`:`<${W}>`)+Z+`</${W}>
`}strong(Z){return`<strong>${Z}</strong>`}em(Z){return`<em>${Z}</em>`}codespan(Z){return`<code>${Z}</code>`}br(){return"<br>"}del(Z){return`<del>${Z}</del>`}link(Z,G,W){const F=cleanUrl(Z);if(F===null)return W;Z=F;let U='<a href="'+Z+'"';return G&&(U+=' title="'+G+'"'),U+=">"+W+"</a>",U}image(Z,G,W){const F=cleanUrl(Z);if(F===null)return W;Z=F;let U=`<img src="${Z}" alt="${W}"`;return G&&(U+=` title="${G}"`),U+=">",U}text(Z){return Z}}class _TextRenderer{strong(Z){return Z}em(Z){return Z}codespan(Z){return Z}del(Z){return Z}html(Z){return Z}text(Z){return Z}link(Z,G,W){return""+W}image(Z,G,W){return""+W}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(Z){this.options=Z||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(Z,G){return new _Parser(G).parse(Z)}static parseInline(Z,G){return new _Parser(G).parseInline(Z)}parse(Z,G=!0){let W="";for(let F=0;F<Z.length;F++){const U=Z[F];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]){const J=U,Y=this.options.extensions.renderers[J.type].call({parser:this},J);if(Y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(J.type)){W+=Y||"";continue}}switch(U.type){case"space":continue;case"hr":{W+=this.renderer.hr();continue}case"heading":{const J=U;W+=this.renderer.heading(this.parseInline(J.tokens),J.depth,unescape$1(this.parseInline(J.tokens,this.textRenderer)));continue}case"code":{const J=U;W+=this.renderer.code(J.text,J.lang,!!J.escaped);continue}case"table":{const J=U;let Y="",D="";for(let ee=0;ee<J.header.length;ee++)D+=this.renderer.tablecell(this.parseInline(J.header[ee].tokens),{header:!0,align:J.align[ee]});Y+=this.renderer.tablerow(D);let Q="";for(let ee=0;ee<J.rows.length;ee++){const q=J.rows[ee];D="";for(let te=0;te<q.length;te++)D+=this.renderer.tablecell(this.parseInline(q[te].tokens),{header:!1,align:J.align[te]});Q+=this.renderer.tablerow(D)}W+=this.renderer.table(Y,Q);continue}case"blockquote":{const J=U,Y=this.parse(J.tokens);W+=this.renderer.blockquote(Y);continue}case"list":{const J=U,Y=J.ordered,D=J.start,Q=J.loose;let ee="";for(let q=0;q<J.items.length;q++){const te=J.items[q],ie=te.checked,ne=te.task;let ce="";if(te.task){const le=this.renderer.checkbox(!!ie);Q?te.tokens.length>0&&te.tokens[0].type==="paragraph"?(te.tokens[0].text=le+" "+te.tokens[0].text,te.tokens[0].tokens&&te.tokens[0].tokens.length>0&&te.tokens[0].tokens[0].type==="text"&&(te.tokens[0].tokens[0].text=le+" "+te.tokens[0].tokens[0].text)):te.tokens.unshift({type:"text",text:le+" "}):ce+=le+" "}ce+=this.parse(te.tokens,Q),ee+=this.renderer.listitem(ce,ne,!!ie)}W+=this.renderer.list(ee,Y,D);continue}case"html":{const J=U;W+=this.renderer.html(J.text,J.block);continue}case"paragraph":{const J=U;W+=this.renderer.paragraph(this.parseInline(J.tokens));continue}case"text":{let J=U,Y=J.tokens?this.parseInline(J.tokens):J.text;for(;F+1<Z.length&&Z[F+1].type==="text";)J=Z[++F],Y+=`
`+(J.tokens?this.parseInline(J.tokens):J.text);W+=G?this.renderer.paragraph(Y):Y;continue}default:{const J='Token with "'+U.type+'" type was not found.';if(this.options.silent)return console.error(J),"";throw new Error(J)}}}return W}parseInline(Z,G){G=G||this.renderer;let W="";for(let F=0;F<Z.length;F++){const U=Z[F];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]){const J=this.options.extensions.renderers[U.type].call({parser:this},U);if(J!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(U.type)){W+=J||"";continue}}switch(U.type){case"escape":{const J=U;W+=G.text(J.text);break}case"html":{const J=U;W+=G.html(J.text);break}case"link":{const J=U;W+=G.link(J.href,J.title,this.parseInline(J.tokens,G));break}case"image":{const J=U;W+=G.image(J.href,J.title,J.text);break}case"strong":{const J=U;W+=G.strong(this.parseInline(J.tokens,G));break}case"em":{const J=U;W+=G.em(this.parseInline(J.tokens,G));break}case"codespan":{const J=U;W+=G.codespan(J.text);break}case"br":{W+=G.br();break}case"del":{const J=U;W+=G.del(this.parseInline(J.tokens,G));break}case"text":{const J=U;W+=G.text(J.text);break}default:{const J='Token with "'+U.type+'" type was not found.';if(this.options.silent)return console.error(J),"";throw new Error(J)}}}return W}}class _Hooks{options;constructor(Z){this.options=Z||_defaults}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(Z){return Z}postprocess(Z){return Z}}class Marked{defaults=_getDefaults();options=this.setOptions;parse=this.#e(_Lexer.lex,_Parser.parse);parseInline=this.#e(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;parser=_Parser.parse;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;lexer=_Lexer.lex;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...Z){this.use(...Z)}walkTokens(Z,G){let W=[];for(const F of Z)switch(W=W.concat(G.call(this,F)),F.type){case"table":{const U=F;for(const J of U.header)W=W.concat(this.walkTokens(J.tokens,G));for(const J of U.rows)for(const Y of J)W=W.concat(this.walkTokens(Y.tokens,G));break}case"list":{const U=F;W=W.concat(this.walkTokens(U.items,G));break}default:{const U=F;this.defaults.extensions?.childTokens?.[U.type]?this.defaults.extensions.childTokens[U.type].forEach(J=>{W=W.concat(this.walkTokens(U[J],G))}):U.tokens&&(W=W.concat(this.walkTokens(U.tokens,G)))}}return W}use(...Z){const G=this.defaults.extensions||{renderers:{},childTokens:{}};return Z.forEach(W=>{const F={...W};if(F.async=this.defaults.async||F.async||!1,W.extensions&&(W.extensions.forEach(U=>{if(!U.name)throw new Error("extension name required");if("renderer"in U){const J=G.renderers[U.name];J?G.renderers[U.name]=function(...Y){let D=U.renderer.apply(this,Y);return D===!1&&(D=J.apply(this,Y)),D}:G.renderers[U.name]=U.renderer}if("tokenizer"in U){if(!U.level||U.level!=="block"&&U.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const J=G[U.level];J?J.unshift(U.tokenizer):G[U.level]=[U.tokenizer],U.start&&(U.level==="block"?G.startBlock?G.startBlock.push(U.start):G.startBlock=[U.start]:U.level==="inline"&&(G.startInline?G.startInline.push(U.start):G.startInline=[U.start]))}"childTokens"in U&&U.childTokens&&(G.childTokens[U.name]=U.childTokens)}),F.extensions=G),W.renderer){const U=this.defaults.renderer||new _Renderer(this.defaults);for(const J in W.renderer){const Y=W.renderer[J],D=J,Q=U[D];U[D]=(...ee)=>{let q=Y.apply(U,ee);return q===!1&&(q=Q.apply(U,ee)),q||""}}F.renderer=U}if(W.tokenizer){const U=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const J in W.tokenizer){const Y=W.tokenizer[J],D=J,Q=U[D];U[D]=(...ee)=>{let q=Y.apply(U,ee);return q===!1&&(q=Q.apply(U,ee)),q}}F.tokenizer=U}if(W.hooks){const U=this.defaults.hooks||new _Hooks;for(const J in W.hooks){const Y=W.hooks[J],D=J,Q=U[D];_Hooks.passThroughHooks.has(J)?U[D]=ee=>{if(this.defaults.async)return Promise.resolve(Y.call(U,ee)).then(te=>Q.call(U,te));const q=Y.call(U,ee);return Q.call(U,q)}:U[D]=(...ee)=>{let q=Y.apply(U,ee);return q===!1&&(q=Q.apply(U,ee)),q}}F.hooks=U}if(W.walkTokens){const U=this.defaults.walkTokens,J=W.walkTokens;F.walkTokens=function(Y){let D=[];return D.push(J.call(this,Y)),U&&(D=D.concat(U.call(this,Y))),D}}this.defaults={...this.defaults,...F}}),this}setOptions(Z){return this.defaults={...this.defaults,...Z},this}#e(Z,G){return(W,F)=>{const U={...F},J={...this.defaults,...U};this.defaults.async===!0&&U.async===!1&&(J.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),J.async=!0);const Y=this.#t(!!J.silent,!!J.async);if(typeof W>"u"||W===null)return Y(new Error("marked(): input parameter is undefined or null"));if(typeof W!="string")return Y(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(W)+", string expected"));if(J.hooks&&(J.hooks.options=J),J.async)return Promise.resolve(J.hooks?J.hooks.preprocess(W):W).then(D=>Z(D,J)).then(D=>J.walkTokens?Promise.all(this.walkTokens(D,J.walkTokens)).then(()=>D):D).then(D=>G(D,J)).then(D=>J.hooks?J.hooks.postprocess(D):D).catch(Y);try{J.hooks&&(W=J.hooks.preprocess(W));const D=Z(W,J);J.walkTokens&&this.walkTokens(D,J.walkTokens);let Q=G(D,J);return J.hooks&&(Q=J.hooks.postprocess(Q)),Q}catch(D){return Y(D)}}}#t(Z,G){return W=>{if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,Z){const F="<p>An error occurred:</p><pre>"+escape(W.message+"",!0)+"</pre>";return G?Promise.resolve(F):F}if(G)return Promise.reject(W);throw W}}}const markedInstance=new Marked;function marked(X,Z){return markedInstance.parse(X,Z)}marked.options=marked.setOptions=function(X){return markedInstance.setOptions(X),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...X){return markedInstance.use(...X),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(X,Z){return markedInstance.walkTokens(X,Z)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$2=X=>(...Z)=>({_$litDirective$:X,values:Z});let i$1=class{constructor(Z){}get _$AU(){return this._$AM._$AU}_$AT(Z,G,W){this._$Ct=Z,this._$AM=G,this._$Ci=W}_$AS(Z,G){return this.update(Z,G)}update(Z,G){return this.render(...G)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let e$1=class extends i$1{constructor(Z){if(super(Z),this.et=A,Z.type!==t$1.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(Z){if(Z===A||Z==null)return this.ft=void 0,this.et=Z;if(Z===T)return Z;if(typeof Z!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(Z===this.et)return this.ft;this.et=Z;const G=[Z];return G.raw=G,this.ft={_$litType$:this.constructor.resultType,strings:G,values:[]}}};e$1.directiveName="unsafeHTML",e$1.resultType=1;const o$1=e$2(e$1);var hue;function s$1(X,Z,G){return Math.min(Math.max(X||0,Z),G)}function h$1(X){return{r:s$1(X.r,0,255),g:s$1(X.g,0,255),b:s$1(X.b,0,255),a:s$1(X.a,0,1)}}function x$1(X){return{r:255*X.r,g:255*X.g,b:255*X.b,a:X.a}}function O(X){return{r:X.r/255,g:X.g/255,b:X.b/255,a:X.a}}function I(X,Z){Z===void 0&&(Z=0);var G=Math.pow(10,Z);return{r:Math.round(X.r*G)/G,g:Math.round(X.g*G)/G,b:Math.round(X.b*G)/G,a:X.a}}function M$1(X,Z,G,W,F,U){return(1-Z/G)*W+Z/G*Math.round((1-X)*F+X*U)}function m$1(X,Z,G,W,F){F===void 0&&(F={unitInput:!1,unitOutput:!1,roundOutput:!0}),F.unitInput&&(X=x$1(X),Z=x$1(Z)),X=h$1(X);var U=(Z=h$1(Z)).a+X.a-Z.a*X.a,J=G(X,Z,W),Y=h$1({r:M$1(X.a,Z.a,U,X.r,Z.r,J.r),g:M$1(X.a,Z.a,U,X.g,Z.g,J.g),b:M$1(X.a,Z.a,U,X.b,Z.b,J.b),a:U});return F.unitOutput?O(Y):F.roundOutput?I(Y):I(Y,9)}function d$1(X,Z,G){return x$1(G(O(X),O(Z)))}function l$1(X){return .3*X.r+.59*X.g+.11*X.b}function v$1(X,Z){var G=Z-l$1(X);return function(W){var F=l$1(W),U=W.r,J=W.g,Y=W.b,D=Math.min(U,J,Y),Q=Math.max(U,J,Y);function ee(te){return F+(te-F)*F/(F-D)}function q(te){return F+(te-F)*(1-F)/(Q-F)}return D<0&&(U=ee(U),J=ee(J),Y=ee(Y)),Q>1&&(U=q(U),J=q(J),Y=q(Y)),{r:U,g:J,b:Y}}({r:X.r+G,g:X.g+G,b:X.b+G})}function y$1(X){return Math.max(X.r,X.g,X.b)-Math.min(X.r,X.g,X.b)}function L(X,Z){var G=["r","g","b"].sort(function(Y,D){return X[Y]-X[D]}),W=G[0],F=G[1],U=G[2],J={r:X.r,g:X.g,b:X.b};return J[U]>J[W]?(J[F]=(J[F]-J[W])*Z/(J[U]-J[W]),J[U]=Z):J[F]=J[U]=0,J[W]=0,J}function k$1(X,Z){return v$1(L(Z,y$1(X)),l$1(X))}hue=function(X,Z){return m$1(X,Z,d$1,k$1,{unitInput:!0,unitOutput:!0})};var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(X){return typeof X=="string"?X.length>0:typeof X=="number"},n=function(X,Z,G){return Z===void 0&&(Z=0),G===void 0&&(G=Math.pow(10,Z)),Math.round(G*X)/G+0},e=function(X,Z,G){return Z===void 0&&(Z=0),G===void 0&&(G=1),X>G?G:X>Z?X:Z},u=function(X){return(X=isFinite(X)?X%360:0)>0?X:X+360},a=function(X){return{r:e(X.r,0,255),g:e(X.g,0,255),b:e(X.b,0,255),a:e(X.a)}},o=function(X){return{r:n(X.r),g:n(X.g),b:n(X.b),a:n(X.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(X){var Z=X.toString(16);return Z.length<2?"0"+Z:Z},h=function(X){var Z=X.r,G=X.g,W=X.b,F=X.a,U=Math.max(Z,G,W),J=U-Math.min(Z,G,W),Y=J?U===Z?(G-W)/J:U===G?2+(W-Z)/J:4+(Z-G)/J:0;return{h:60*(Y<0?Y+6:Y),s:U?J/U*100:0,v:U/255*100,a:F}},b=function(X){var Z=X.h,G=X.s,W=X.v,F=X.a;Z=Z/360*6,G/=100,W/=100;var U=Math.floor(Z),J=W*(1-G),Y=W*(1-(Z-U)*G),D=W*(1-(1-Z+U)*G),Q=U%6;return{r:255*[W,Y,J,J,D,W][Q],g:255*[D,W,W,Y,J,J][Q],b:255*[J,J,D,W,W,Y][Q],a:F}},g=function(X){return{h:u(X.h),s:e(X.s,0,100),l:e(X.l,0,100),a:e(X.a)}},d=function(X){return{h:n(X.h),s:n(X.s),l:n(X.l),a:n(X.a,3)}},f=function(X){return b((G=(Z=X).s,{h:Z.h,s:(G*=((W=Z.l)<50?W:100-W)/100)>0?2*G/(W+G)*100:0,v:W+G,a:Z.a}));var Z,G,W},c=function(X){return{h:(Z=h(X)).h,s:(F=(200-(G=Z.s))*(W=Z.v)/100)>0&&F<200?G*W/100/(F<=100?F:200-F)*100:0,l:F/2,a:Z.a};var Z,G,W,F},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(X){var Z=i.exec(X);return Z?(X=Z[1]).length<=4?{r:parseInt(X[0]+X[0],16),g:parseInt(X[1]+X[1],16),b:parseInt(X[2]+X[2],16),a:X.length===4?n(parseInt(X[3]+X[3],16)/255,2):1}:X.length===6||X.length===8?{r:parseInt(X.substr(0,2),16),g:parseInt(X.substr(2,2),16),b:parseInt(X.substr(4,2),16),a:X.length===8?n(parseInt(X.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(X){var Z=v.exec(X)||m.exec(X);return Z?Z[2]!==Z[4]||Z[4]!==Z[6]?null:a({r:Number(Z[1])/(Z[2]?100/255:1),g:Number(Z[3])/(Z[4]?100/255:1),b:Number(Z[5])/(Z[6]?100/255:1),a:Z[7]===void 0?1:Number(Z[7])/(Z[8]?100:1)}):null},"rgb"],[function(X){var Z=l.exec(X)||p.exec(X);if(!Z)return null;var G,W,F=g({h:(G=Z[1],W=Z[2],W===void 0&&(W="deg"),Number(G)*(r[W]||1)),s:Number(Z[3]),l:Number(Z[4]),a:Z[5]===void 0?1:Number(Z[5])/(Z[6]?100:1)});return f(F)},"hsl"]],object:[[function(X){var Z=X.r,G=X.g,W=X.b,F=X.a,U=F===void 0?1:F;return t(Z)&&t(G)&&t(W)?a({r:Number(Z),g:Number(G),b:Number(W),a:Number(U)}):null},"rgb"],[function(X){var Z=X.h,G=X.s,W=X.l,F=X.a,U=F===void 0?1:F;if(!t(Z)||!t(G)||!t(W))return null;var J=g({h:Number(Z),s:Number(G),l:Number(W),a:Number(U)});return f(J)},"hsl"],[function(X){var Z=X.h,G=X.s,W=X.v,F=X.a,U=F===void 0?1:F;if(!t(Z)||!t(G)||!t(W))return null;var J=function(Y){return{h:u(Y.h),s:e(Y.s,0,100),v:e(Y.v,0,100),a:e(Y.a)}}({h:Number(Z),s:Number(G),v:Number(W),a:Number(U)});return b(J)},"hsv"]]},N=function(X,Z){for(var G=0;G<Z.length;G++){var W=Z[G][0](X);if(W)return[W,Z[G][1]]}return[null,void 0]},x=function(X){return typeof X=="string"?N(X.trim(),y.string):typeof X=="object"&&X!==null?N(X,y.object):[null,void 0]},M=function(X,Z){var G=c(X);return{h:G.h,s:e(G.s+100*Z,0,100),l:G.l,a:G.a}},H=function(X){return(299*X.r+587*X.g+114*X.b)/1e3/255},$=function(X,Z){var G=c(X);return{h:G.h,s:G.s,l:e(G.l+100*Z,0,100),a:G.a}},j=function(){function X(Z){this.parsed=x(Z)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return X.prototype.isValid=function(){return this.parsed!==null},X.prototype.brightness=function(){return n(H(this.rgba),2)},X.prototype.isDark=function(){return H(this.rgba)<.5},X.prototype.isLight=function(){return H(this.rgba)>=.5},X.prototype.toHex=function(){return Z=o(this.rgba),G=Z.r,W=Z.g,F=Z.b,J=(U=Z.a)<1?s(n(255*U)):"","#"+s(G)+s(W)+s(F)+J;var Z,G,W,F,U,J},X.prototype.toRgb=function(){return o(this.rgba)},X.prototype.toRgbString=function(){return Z=o(this.rgba),G=Z.r,W=Z.g,F=Z.b,(U=Z.a)<1?"rgba("+G+", "+W+", "+F+", "+U+")":"rgb("+G+", "+W+", "+F+")";var Z,G,W,F,U},X.prototype.toHsl=function(){return d(c(this.rgba))},X.prototype.toHslString=function(){return Z=d(c(this.rgba)),G=Z.h,W=Z.s,F=Z.l,(U=Z.a)<1?"hsla("+G+", "+W+"%, "+F+"%, "+U+")":"hsl("+G+", "+W+"%, "+F+"%)";var Z,G,W,F,U},X.prototype.toHsv=function(){return Z=h(this.rgba),{h:n(Z.h),s:n(Z.s),v:n(Z.v),a:n(Z.a,3)};var Z},X.prototype.invert=function(){return w({r:255-(Z=this.rgba).r,g:255-Z.g,b:255-Z.b,a:Z.a});var Z},X.prototype.saturate=function(Z){return Z===void 0&&(Z=.1),w(M(this.rgba,Z))},X.prototype.desaturate=function(Z){return Z===void 0&&(Z=.1),w(M(this.rgba,-Z))},X.prototype.grayscale=function(){return w(M(this.rgba,-1))},X.prototype.lighten=function(Z){return Z===void 0&&(Z=.1),w($(this.rgba,Z))},X.prototype.darken=function(Z){return Z===void 0&&(Z=.1),w($(this.rgba,-Z))},X.prototype.rotate=function(Z){return Z===void 0&&(Z=15),this.hue(this.hue()+Z)},X.prototype.alpha=function(Z){return typeof Z=="number"?w({r:(G=this.rgba).r,g:G.g,b:G.b,a:Z}):n(this.rgba.a,3);var G},X.prototype.hue=function(Z){var G=c(this.rgba);return typeof Z=="number"?w({h:Z,s:G.s,l:G.l,a:G.a}):n(G.h)},X.prototype.isEqual=function(Z){return this.toHex()===w(Z).toHex()},X}(),w=function(X){return X instanceof j?X:new j(X)},S=[],k=function(X){X.forEach(function(Z){S.indexOf(Z)<0&&(Z(j,y),S.push(Z))})};function namesPlugin(X,Z){var G={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},W={};for(var F in G)W[G[F]]=F;var U={};X.prototype.toName=function(J){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var Y,D,Q=W[this.toHex()];if(Q)return Q;if(J?.closest){var ee=this.toRgb(),q=1/0,te="black";if(!U.length)for(var ie in G)U[ie]=new X(G[ie]).toRgb();for(var ne in G){var ce=(Y=ee,D=U[ne],Math.pow(Y.r-D.r,2)+Math.pow(Y.g-D.g,2)+Math.pow(Y.b-D.b,2));ce<q&&(q=ce,te=ne)}return te}},Z.string.push([function(J){var Y=J.toLowerCase(),D=Y==="transparent"?"#0000":G[Y];return D?new X(D).toRgb():null},"name"])}const setComponent=(X,Z)=>{state(X,"component").set(Z)},getComponent=X=>state(X,"component").get(),defaultColorMap=({color:X})=>X,getDefaultColors=moize.infinite(async(X,Z=identity$2)=>{const{nodes:G,links:W}=X;return new Float32Array(G.map(defaultColorMap).flatMap(Z))}),defaultSizeMap=({size:X})=>Math.sqrt(X)/40,getDefaultSizes=moize.infinite(async(X,Z=identity$2)=>{const{nodes:G,links:W}=X;return new Float32Array(G.map(defaultSizeMap).map(Z))}),applyVisuals=async(X,{colorMap:Z=identity$2,sizeMap:G=identity$2,immediate:W=!1}={})=>{W=!hasEnoughFramebufferAttachments(X)||W;const F=await getDefaultColors(await getGraphData(X),Z),U=await getDefaultSizes(await getGraphData(X),G),J=getColorLayers(X),Y=getSizeLayers(X),D=getEmphasisLayers(X);J.target.setFromArray(F),Y.target.setFromArray(U),D.target.setFromArray(new Float32Array(U.length).fill(0)),W&&(J.current.setFromArray(F),Y.current.setFromArray(U),D.current.setFromArray(new Float32Array(U.length).fill(0)),J.view.setFromArray(F),Y.view.setFromArray(U),D.view.setFromArray(new Float32Array(U.length).fill(0)))},applyVisualsToNode=async(X,Z,{colorMap:G=identity$2,sizeMap:W=identity$2,emphasis:F=0,immediate:U=!1}={})=>{U=!hasEnoughFramebufferAttachments(X)||U;const J=new Float32Array(G(defaultColorMap(Z))),Y=new Float32Array([W(defaultSizeMap(Z))]),D=new Float32Array([F]),Q=getColorLayers(X),ee=getSizeLayers(X),q=getEmphasisLayers(X);Q.target.setAtIndex1D(Z.index,J),ee.target.setAtIndex1D(Z.index,Y),q.target.setAtIndex1D(Z.index,D),U&&(Q.current.setAtIndex1D(Z.index,J),ee.current.setAtIndex1D(Z.index,Y),q.current.setAtIndex1D(Z.index,D),Q.view.setAtIndex1D(Z.index,J),ee.view.setAtIndex1D(Z.index,Y),q.view.setAtIndex1D(Z.index,D))},initializationVisualMaps={colorMap:X=>{const Z=X.slice(0,3).reduce((G,W)=>G+W,0)/3;return[...X.slice(0,3).map(G=>Z),.5]},sizeMap:X=>X*.5},initializeSelectionVisuals=async(X,Z=!1)=>{try{await applyVisuals(X,{...initializationVisualMaps,immediate:Z})}catch(G){console.error(G)}},onImgErrorHandler="this.parentNode.style.display='none'",onImgSuccessHandler="this.parentNode.style.display='initial'",selectionInfo=X=>x$2`
  <div class="project">
    <h3>
      <a target="_blank" href="${X.data?.homepage}">${X.data?.name}</a>
    </h3>
    <div class="description">
      ${X.data?.description&&o$1(marked.parse(X.data?.description))}
    </div>
    <div class="links">
      <span class="owner">
        <div class="owner-name-container">
          ${X.ownerData?.html_url?x$2`<a target="_blank" href="${X.ownerData?.html_url}"
                >${X.ownerData?.name}</a
              >`:x$2`<span>${X.ownerData?.name}</span>`}
        </div>
        <div class="avatar-container">
          <img
            class="avatar-stroke"
            src="${X.ownerData?.avatar_url}"
            onerror=${onImgErrorHandler}
            onload=${onImgSuccessHandler}
            alt=""
          />
          <img
            class="avatar"
            src="${X.ownerData?.avatar_url}"
            onerror=${onImgErrorHandler}
            onload=${onImgSuccessHandler}
            alt="${X.ownerData?.name}"
          />
        </div>
      </span>
      <span><a target="_blank" href="${X.navId}">NPM</a></span>
      ${X.data?.repository?x$2`<span
            ><a target="_blank" href="${X.data?.repository}">Git</a></span
          >`:x$2``}
      ${X.data?.bugs?x$2`<span
            ><a target="_blank" href="${X.data?.bugs}">Issues</a></span
          >`:x$2``}
      <!-- <a href="${X.ownerData?.html_url}">Owner Profile</a> -->
    </div>
  </div>
`,showSelectionInfo=debounce((X,Z)=>{const W=getComponent(X)?.shadowRoot?.getElementById("selection-info");if(Z){const F=selectionInfo(Z);W&&B(F,W)}else W&&B(x$2``,W)},0),selectNodeAndDownstreamDependents=async(X,Z,G=!0)=>{if(Z){setSelectedIndex(X,Z.index);const W=getNodePosition(X,Z),F=directDownstreamQuery(Z.id),U=directUpstreamQuery(Z.id),{nodesById:J,links:Y}=await getGraphData(X),D=({sizeMap:Q=identity$2,emphasis:ee=1,colorMap:q=identity$2})=>(te,ie)=>{ie(["upstream","downstream"]).then(({upstream:ne,downstream:ce})=>{applyVisualsToNode(X,J[ne?.value||Z.id],{sizeMap:Q,emphasis:ee,colorMap:q}),applyVisualsToNode(X,J[ce?.value||Z.id],{sizeMap:Q,emphasis:ee,colorMap:q})})};initializeSelectionVisuals(X).then(()=>{graphDb(X).doQuery(F,proxy(D({sizeMap:Q=>Q*2,colorMap:Q=>{const ee={r:Q[0],g:Q[1],b:Q[2],a:Q[3]},q={r:57/255,g:179/255,b:83/255,a:.8},te=hue(ee,q);return[te.r,te.g,te.b,te.a]}}))),applyVisualsToNode(X,Z,{sizeMap:Q=>Q*4,emphasis:1}),graphDb(X).doQuery(U,proxy(D({sizeMap:Q=>Q*2,colorMap:Q=>{const ee={r:Q[0],g:Q[1],b:Q[2],a:Q[3]},q={r:0,g:102/255,b:209/255,a:.8},te=hue(ee,q);return[te.r,te.g,te.b,te.a]}}))),G&&setCameraCenter(X,W),G&&setCameraDistance(X,selectedZoom||75)})}else G&&setCameraDistance(X,deselectedZoom||1500),G&&setCameraCenter(X,[0,0,0],4e3),applyVisuals(X),setSelectedIndex(X,-1);showSelectionInfo(X,Z)};window.initializeSelectionVisuals=initializeSelectionVisuals;const getSelectedIndex=X=>state(X,"selectedIndex",()=>-1).get(),setSelectedIndex=(X,Z)=>{state(X,"selectedIndex").set(Z)},getSelectedNode=async X=>{const Z=getSelectedIndex(X),{nodes:G}=await getGraphData(X);return G[Z]};k([namesPlugin]);let initSelectedColor=()=>w("deeppink").toRgb();const getSelectedColor=X=>{const Z=state(X,"selectedColor",initSelectedColor).get();return new Float32Array([Z.r/255,Z.g/255,Z.b/255,1])},_object_pattern=/^[og]\s*(.+)?/,_material_library_pattern=/^mtllib /,_material_use_pattern=/^usemtl /,_map_use_pattern=/^usemap /,_face_vertex_data_separator_pattern=/\s+/,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_ab=new Vector3,_cb=new Vector3,_color=new Color;function ParserState(){const X={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(Z,G){if(this.object&&this.object.fromDeclaration===!1){this.object.name=Z,this.object.fromDeclaration=G!==!1;return}const W=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:Z||"",fromDeclaration:G!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(F,U){const J=this._finalize(!1);J&&(J.inherited||J.groupCount<=0)&&this.materials.splice(J.index,1);const Y={index:this.materials.length,name:F||"",mtllib:Array.isArray(U)&&U.length>0?U[U.length-1]:"",smooth:J!==void 0?J.smooth:this.smooth,groupStart:J!==void 0?J.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(D){const Q={index:typeof D=="number"?D:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return Q.clone=this.clone.bind(Q),Q}};return this.materials.push(Y),Y},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(F){const U=this.currentMaterial();if(U&&U.groupEnd===-1&&(U.groupEnd=this.geometry.vertices.length/3,U.groupCount=U.groupEnd-U.groupStart,U.inherited=!1),F&&this.materials.length>1)for(let J=this.materials.length-1;J>=0;J--)this.materials[J].groupCount<=0&&this.materials.splice(J,1);return F&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),U}},W&&W.name&&typeof W.clone=="function"){const F=W.clone(0);F.inherited=!0,this.object.materials.push(F)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(Z,G){const W=parseInt(Z,10);return(W>=0?W-1:W+G/3)*3},parseNormalIndex:function(Z,G){const W=parseInt(Z,10);return(W>=0?W-1:W+G/3)*3},parseUVIndex:function(Z,G){const W=parseInt(Z,10);return(W>=0?W-1:W+G/2)*2},addVertex:function(Z,G,W){const F=this.vertices,U=this.object.geometry.vertices;U.push(F[Z+0],F[Z+1],F[Z+2]),U.push(F[G+0],F[G+1],F[G+2]),U.push(F[W+0],F[W+1],F[W+2])},addVertexPoint:function(Z){const G=this.vertices;this.object.geometry.vertices.push(G[Z+0],G[Z+1],G[Z+2])},addVertexLine:function(Z){const G=this.vertices;this.object.geometry.vertices.push(G[Z+0],G[Z+1],G[Z+2])},addNormal:function(Z,G,W){const F=this.normals,U=this.object.geometry.normals;U.push(F[Z+0],F[Z+1],F[Z+2]),U.push(F[G+0],F[G+1],F[G+2]),U.push(F[W+0],F[W+1],F[W+2])},addFaceNormal:function(Z,G,W){const F=this.vertices,U=this.object.geometry.normals;_vA.fromArray(F,Z),_vB.fromArray(F,G),_vC.fromArray(F,W),_cb.subVectors(_vC,_vB),_ab.subVectors(_vA,_vB),_cb.cross(_ab),_cb.normalize(),U.push(_cb.x,_cb.y,_cb.z),U.push(_cb.x,_cb.y,_cb.z),U.push(_cb.x,_cb.y,_cb.z)},addColor:function(Z,G,W){const F=this.colors,U=this.object.geometry.colors;F[Z]!==void 0&&U.push(F[Z+0],F[Z+1],F[Z+2]),F[G]!==void 0&&U.push(F[G+0],F[G+1],F[G+2]),F[W]!==void 0&&U.push(F[W+0],F[W+1],F[W+2])},addUV:function(Z,G,W){const F=this.uvs,U=this.object.geometry.uvs;U.push(F[Z+0],F[Z+1]),U.push(F[G+0],F[G+1]),U.push(F[W+0],F[W+1])},addDefaultUV:function(){const Z=this.object.geometry.uvs;Z.push(0,0),Z.push(0,0),Z.push(0,0)},addUVLine:function(Z){const G=this.uvs;this.object.geometry.uvs.push(G[Z+0],G[Z+1])},addFace:function(Z,G,W,F,U,J,Y,D,Q){const ee=this.vertices.length;let q=this.parseVertexIndex(Z,ee),te=this.parseVertexIndex(G,ee),ie=this.parseVertexIndex(W,ee);if(this.addVertex(q,te,ie),this.addColor(q,te,ie),Y!==void 0&&Y!==""){const ne=this.normals.length;q=this.parseNormalIndex(Y,ne),te=this.parseNormalIndex(D,ne),ie=this.parseNormalIndex(Q,ne),this.addNormal(q,te,ie)}else this.addFaceNormal(q,te,ie);if(F!==void 0&&F!==""){const ne=this.uvs.length;q=this.parseUVIndex(F,ne),te=this.parseUVIndex(U,ne),ie=this.parseUVIndex(J,ne),this.addUV(q,te,ie),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(Z){this.object.geometry.type="Points";const G=this.vertices.length;for(let W=0,F=Z.length;W<F;W++){const U=this.parseVertexIndex(Z[W],G);this.addVertexPoint(U),this.addColor(U)}},addLineGeometry:function(Z,G){this.object.geometry.type="Line";const W=this.vertices.length,F=this.uvs.length;for(let U=0,J=Z.length;U<J;U++)this.addVertexLine(this.parseVertexIndex(Z[U],W));for(let U=0,J=G.length;U<J;U++)this.addUVLine(this.parseUVIndex(G[U],F))}};return X.startObject("",!1),X}class OBJLoader extends Loader{constructor(Z){super(Z),this.materials=null}load(Z,G,W,F){const U=this,J=new FileLoader(this.manager);J.setPath(this.path),J.setRequestHeader(this.requestHeader),J.setWithCredentials(this.withCredentials),J.load(Z,function(Y){try{G(U.parse(Y))}catch(D){F?F(D):console.error(D),U.manager.itemError(Z)}},W,F)}setMaterials(Z){return this.materials=Z,this}parse(Z){const G=new ParserState;Z.indexOf(`\r
`)!==-1&&(Z=Z.replace(/\r\n/g,`
`)),Z.indexOf(`\\
`)!==-1&&(Z=Z.replace(/\\\n/g,""));const W=Z.split(`
`);let F=[];for(let Y=0,D=W.length;Y<D;Y++){const Q=W[Y].trimStart();if(Q.length===0)continue;const ee=Q.charAt(0);if(ee!=="#")if(ee==="v"){const q=Q.split(_face_vertex_data_separator_pattern);switch(q[0]){case"v":G.vertices.push(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3])),q.length>=7?(_color.setRGB(parseFloat(q[4]),parseFloat(q[5]),parseFloat(q[6])).convertSRGBToLinear(),G.colors.push(_color.r,_color.g,_color.b)):G.colors.push(void 0,void 0,void 0);break;case"vn":G.normals.push(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3]));break;case"vt":G.uvs.push(parseFloat(q[1]),parseFloat(q[2]));break}}else if(ee==="f"){const te=Q.slice(1).trim().split(_face_vertex_data_separator_pattern),ie=[];for(let ce=0,le=te.length;ce<le;ce++){const se=te[ce];if(se.length>0){const pe=se.split("/");ie.push(pe)}}const ne=ie[0];for(let ce=1,le=ie.length-1;ce<le;ce++){const se=ie[ce],pe=ie[ce+1];G.addFace(ne[0],se[0],pe[0],ne[1],se[1],pe[1],ne[2],se[2],pe[2])}}else if(ee==="l"){const q=Q.substring(1).trim().split(" ");let te=[];const ie=[];if(Q.indexOf("/")===-1)te=q;else for(let ne=0,ce=q.length;ne<ce;ne++){const le=q[ne].split("/");le[0]!==""&&te.push(le[0]),le[1]!==""&&ie.push(le[1])}G.addLineGeometry(te,ie)}else if(ee==="p"){const te=Q.slice(1).trim().split(" ");G.addPointGeometry(te)}else if((F=_object_pattern.exec(Q))!==null){const q=(" "+F[0].slice(1).trim()).slice(1);G.startObject(q)}else if(_material_use_pattern.test(Q))G.object.startMaterial(Q.substring(7).trim(),G.materialLibraries);else if(_material_library_pattern.test(Q))G.materialLibraries.push(Q.substring(7).trim());else if(_map_use_pattern.test(Q))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(ee==="s"){if(F=Q.split(" "),F.length>1){const te=F[1].trim().toLowerCase();G.object.smooth=te!=="0"&&te!=="off"}else G.object.smooth=!0;const q=G.object.currentMaterial();q&&(q.smooth=G.object.smooth)}else{if(Q==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+Q+'"')}}G.finalize();const U=new Group;if(U.materialLibraries=[].concat(G.materialLibraries),!(G.objects.length===1&&G.objects[0].geometry.vertices.length===0)===!0)for(let Y=0,D=G.objects.length;Y<D;Y++){const Q=G.objects[Y],ee=Q.geometry,q=Q.materials,te=ee.type==="Line",ie=ee.type==="Points";let ne=!1;if(ee.vertices.length===0)continue;const ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute(ee.vertices,3)),ee.normals.length>0&&ce.setAttribute("normal",new Float32BufferAttribute(ee.normals,3)),ee.colors.length>0&&(ne=!0,ce.setAttribute("color",new Float32BufferAttribute(ee.colors,3))),ee.hasUVIndices===!0&&ce.setAttribute("uv",new Float32BufferAttribute(ee.uvs,2));const le=[];for(let pe=0,ue=q.length;pe<ue;pe++){const ae=q[pe],de=ae.name+"_"+ae.smooth+"_"+ne;let be=G.materials[de];if(this.materials!==null){if(be=this.materials.create(ae.name),te&&be&&!(be instanceof LineBasicMaterial)){const he=new LineBasicMaterial;Material.prototype.copy.call(he,be),he.color.copy(be.color),be=he}else if(ie&&be&&!(be instanceof PointsMaterial)){const he=new PointsMaterial({size:10,sizeAttenuation:!1});Material.prototype.copy.call(he,be),he.color.copy(be.color),he.map=be.map,be=he}}be===void 0&&(te?be=new LineBasicMaterial:ie?be=new PointsMaterial({size:1,sizeAttenuation:!1}):be=new MeshPhongMaterial,be.name=ae.name,be.flatShading=!ae.smooth,be.vertexColors=ne,G.materials[de]=be),le.push(be)}let se;if(le.length>1){for(let pe=0,ue=q.length;pe<ue;pe++){const ae=q[pe];ce.addGroup(ae.groupStart,ae.groupCount,pe)}te?se=new LineSegments(ce,le):ie?se=new Points(ce,le):se=new Mesh(ce,le)}else te?se=new LineSegments(ce,le[0]):ie?se=new Points(ce,le[0]):se=new Mesh(ce,le[0]);se.name=Q.name,U.add(se)}else if(G.vertices.length>0){const Y=new PointsMaterial({size:1,sizeAttenuation:!1}),D=new BufferGeometry;D.setAttribute("position",new Float32BufferAttribute(G.vertices,3)),G.colors.length>0&&G.colors[0]!==void 0&&(D.setAttribute("color",new Float32BufferAttribute(G.colors,3)),Y.vertexColors=!0);const Q=new Points(D,Y);U.add(Q)}return U}}const heartObjString=`# Blender 3.5.0
# www.blender.org
mtllib heart.mtl
o Cuore
v -2.537370 -2.347903 -0.366966
v -1.956434 -2.800752 -0.005766
v -1.208932 -2.717832 -1.071761
v -1.332258 -2.469922 -1.234073
v -0.984560 -2.596021 -0.733674
v -0.978460 -2.529004 -0.178987
v -1.674614 -2.904690 0.028076
v -1.159338 -2.843787 -0.435325
v -1.403372 -2.993618 -0.258696
v -1.313240 -2.921749 -0.682960
v -1.106351 -2.719054 -0.950708
v -2.252048 1.055419 -0.981534
v -1.830171 1.128409 -0.425332
v -2.708519 -0.141553 0.608432
v -3.222840 -0.496318 0.544339
v -2.569565 -0.902553 0.709959
v -3.143161 0.140941 0.420165
v -0.474087 -0.198478 -0.455020
v -0.462808 -0.346154 -0.044542
v -0.528919 -1.124691 -0.740861
v -0.563042 -0.033268 -0.866877
v -1.328361 -1.072274 -1.503738
v -0.938323 -0.790190 -1.408582
v -3.617506 0.109731 -0.750494
v -3.363630 0.515394 -0.289305
v -2.707890 0.926293 -0.418676
v -3.095605 0.668362 -0.989265
v -1.260693 0.626546 -1.378971
v -1.306876 0.872060 -1.256774
v -1.007055 0.503345 -1.343776
v -1.041055 0.729208 -1.211841
v -0.705091 0.452258 -0.743730
v -0.734573 0.472528 0.069516
v -2.645543 0.661626 0.315291
v -2.506139 0.907575 0.053669
v -2.426360 -1.594110 0.552784
v -2.765469 -1.913028 0.286962
v -3.066931 -1.112062 0.544780
v -0.721017 -1.982133 -0.781900
v -0.563657 -1.402271 -0.104570
v -1.387802 -1.962546 -1.408617
v -1.030823 -1.965888 -1.355024
v -3.104814 -1.738131 -0.408723
v -3.104167 -1.720302 0.032804
v -2.324447 -1.900637 -1.179082
v -3.079695 -1.193114 -0.889793
v -2.974981 -1.536083 -0.688516
v -2.641200 -1.014609 -1.330246
v -1.255348 -1.567668 0.552931
v -0.834412 -1.236371 0.499465
v -1.274589 -2.625602 0.070163
v -1.270904 0.617438 0.373264
v -1.105653 0.734856 0.226520
v -2.399280 0.742527 -1.289296
v -2.322941 0.924017 -1.222959
v -2.978811 0.530862 -1.220269
v -2.727726 -0.370168 -1.333436
v -3.213425 -0.522410 -1.090171
v -1.197738 -0.912694 0.681871
v -1.226699 -0.149988 0.609563
v -0.799614 0.055523 0.440088
v -1.359284 1.039829 -0.800440
v -0.963663 0.794233 -0.552669
v -1.269946 0.949590 -0.069494
v -1.587937 -3.014371 -0.197344
v -1.423231 -2.879792 -0.004172
v -1.182544 -2.746961 -0.050558
v -2.221019 -2.517079 -0.785785
v -1.819342 -2.619985 -0.975888
v -1.623953 -2.972547 -0.547284
v -2.042756 -2.738481 -0.566126
v -3.421482 -0.921969 0.379603
v -3.509578 -0.140940 -1.024090
v -0.718718 -1.020174 -1.225338
v -3.294083 0.379318 -1.062455
v -0.788130 0.326793 -1.205196
v -0.907551 -2.157088 -1.180230
v -1.729408 1.061322 -1.078557
v -2.110504 -2.621070 0.113005
v -0.675267 -1.469629 0.223357
v -3.229534 0.475841 0.151640
v -0.564139 -0.310709 0.291784
v -1.821675 0.995190 0.064086
v -3.638716 -1.420592 -0.486532
v -3.549278 -1.408227 -0.522455
v -3.619269 -1.390350 -0.463361
v -3.541490 -1.384455 -0.532013
v -3.556308 -1.416174 -0.533479
v -3.667992 -1.345246 -0.519278
v -3.645213 -1.331146 -0.505347
v -3.606048 -1.356931 -0.540204
v -3.575464 -1.347507 -0.524396
v -3.658846 -1.432134 -0.449752
v -3.636287 -1.404042 -0.427796
v -3.652470 -1.455881 -0.345160
v -3.683105 -1.471171 -0.369340
v -3.555480 -1.357769 -0.514015
v -3.621383 -1.366625 -0.461463
v -3.617660 -1.331567 -0.495670
v -3.546185 -1.382635 -0.511501
v -3.654397 -1.412669 -0.529743
v -3.649131 -1.378140 -0.543008
v -3.594257 -1.400347 -0.551965
v -3.703043 -1.375659 -0.511696
v -3.592260 -1.421066 -0.539043
v -3.653948 -1.414602 -0.304110
v -3.683171 -1.391500 -0.297315
v -3.703832 -1.443562 -0.139183
v -3.649464 -1.347031 -0.447191
v -3.639078 -1.381393 -0.422143
v -3.704006 -1.423743 -0.471295
v -3.702092 -1.455127 -0.400046
v -3.719744 -1.389733 -0.474298
v -3.706716 -1.351509 -0.482814
v -3.717000 -1.392326 -0.373379
v -3.687374 -1.374611 -0.359182
v -3.673413 -1.332367 -0.465990
v -3.764204 -1.466427 0.007179
v -3.741221 -1.484028 0.011595
v -3.715633 -1.478965 0.070835
v -3.722979 -1.394006 -0.287128
v -3.751591 -1.424226 -0.284728
v -3.760145 -1.385487 -0.192243
v -3.779560 -1.404847 -0.199915
v -3.764533 -1.477525 -0.191441
v -3.729517 -1.429764 -0.359214
v -3.683853 -1.479912 -0.276737
v -3.652839 -1.448523 -0.293595
v -3.723145 -1.489015 -0.222421
v -3.666315 -1.460717 0.093963
v -3.623348 -1.347704 0.194688
v -3.680438 -1.441795 0.130420
v -3.647333 -1.351912 0.217012
v -3.683796 -1.474630 0.043153
v -3.708706 -1.486561 0.039085
v -3.696204 -1.428215 -0.006015
v -3.691626 -1.413253 0.027221
v -3.769501 -1.404813 -0.012096
v -3.738081 -1.405936 0.052293
v -3.736997 -1.392510 -0.014278
v -3.716601 -1.397333 0.029561
v -3.574513 -1.286012 0.231434
v -3.596897 -1.257769 0.218135
v -3.615048 -1.326155 0.177824
v -3.657990 -1.370200 0.102759
v -3.658229 -1.445947 0.069985
v -3.697743 -1.324526 0.152587
v -3.710330 -1.383105 0.077332
v -3.720638 -1.378445 0.123438
v -3.661631 -1.287697 0.156762
v -3.715537 -1.444626 0.113017
v -3.692225 -1.304406 0.207618
v -3.742305 -1.427735 0.076703
v -3.536281 -1.267198 0.382978
v -3.557871 -1.297522 0.352744
v -3.644929 -1.200676 0.286411
v -3.690194 -1.125085 0.263640
v -3.642558 -1.281314 0.284042
v -3.655771 -1.316231 0.248278
v -3.597978 -1.319596 0.237809
v -3.620885 -1.322690 0.260537
v -3.727595 -0.985158 0.266725
v -3.678745 -1.185595 0.219310
v -3.681663 -1.244805 0.202550
v -3.690968 -1.119814 0.240349
v -3.658294 -1.197377 0.203772
v -3.675480 -1.111379 0.227133
v -3.627869 -1.238278 0.198990
v -3.622204 -1.205904 0.281500
v -3.608719 -1.201506 0.254585
v -3.648258 -1.104246 0.257171
v -3.713809 -0.915813 0.264921
v -3.713886 -0.989362 0.265536
v -3.657571 -1.106182 0.274433
v -3.706364 -0.985940 0.250479
v -3.656257 -1.099066 0.240480
v -3.729745 -0.937099 0.242936
v -3.731612 -0.979470 0.233956
v -3.740688 -0.988070 0.251157
v -3.703151 -0.829543 0.297397
v -3.714826 -0.857923 0.274755
v -3.737433 -0.916850 0.255054
v -3.737809 -0.910866 0.268665
v -3.715911 -0.844131 0.287964
v -3.725359 -0.906394 0.279594
v -3.402459 -1.184607 0.414501
v -3.424517 -1.182490 0.403661
v -3.560323 -1.311863 0.327214
v -3.471877 -1.287359 0.342182
v -3.439011 -1.252928 0.363684
v -3.511838 -1.245139 0.314324
v -3.557650 -1.245245 0.332856
v -3.561675 -1.244242 0.300620
v -3.613073 -1.248847 0.304937
v -3.423783 -1.170835 0.457367
v -3.393488 -1.120193 0.468194
v -3.485145 -1.214544 0.394924
v -3.466620 -1.212418 0.373031
v -3.462013 -1.246282 0.434436
v -3.404281 -1.226889 0.431194
v -3.420226 -1.236794 0.443194
v -3.395463 -1.271524 0.437469
v -3.401944 -1.229493 0.413568
v -3.391631 -1.275030 0.424050
v -3.387976 -1.098938 0.461326
v -3.383162 -1.114053 0.461051
v -3.383950 -1.112896 0.451248
v -3.428793 -1.163965 0.424327
v -3.397243 -1.107054 0.464116
v -3.408251 -1.287916 0.441020
v -3.338579 -1.341381 0.467933
v -3.418880 -1.308329 0.426828
v -3.400205 -1.290408 0.405591
v -3.442558 -1.299163 0.387619
v -3.462729 -1.298197 0.395686
v -3.341890 -1.367522 0.463493
v -3.337215 -1.333560 0.458785
v -3.334496 -1.359114 0.452322
v -3.378615 -1.331103 0.440668
v -3.412637 -1.299424 0.399387
v -3.788263 -1.346133 -0.135788
v -3.815179 -1.367300 -0.136236
v -3.712748 -1.423629 -0.132249
v -3.730647 -1.393886 -0.064737
v -3.729430 -1.395751 -0.138964
v -3.712207 -1.440015 -0.076468
v -3.721781 -1.470775 -0.114878
v -3.723255 -1.467417 -0.061607
v -3.752716 -1.479944 -0.068384
v -3.795882 -1.450409 -0.124282
v -3.763011 -1.483463 -0.132021
v -3.811349 -1.254167 -0.030305
v -3.791649 -1.334909 -0.051525
v -3.828547 -1.290119 -0.047249
v -3.799398 -1.376050 -0.051801
v -3.834476 -1.304320 -0.070553
v -3.814052 -1.404128 -0.123935
v -3.785901 -1.292286 -0.060140
v -3.756484 -1.353169 -0.080825
v -3.772157 -1.331679 -0.113523
v -3.801858 -1.234840 -0.044549
v -3.833033 -1.167034 0.027068
v -3.821908 -1.166997 0.021455
v -3.840446 -1.191059 0.007884
v -3.833632 -1.264412 -0.070391
v -3.818538 -1.178553 -0.001065
v -3.821015 -1.235528 -0.057852
v -3.830491 -1.191948 -0.014576
v -3.291580 -1.468215 0.492230
v -3.298112 -1.466399 0.484668
v -3.307860 -1.396111 0.480234
v -3.297290 -1.438326 0.490853
v -3.296544 -1.449196 0.479574
v -3.342660 -1.359658 0.452026
v -3.633249 -1.411126 -0.465230
v -3.703691 -1.396755 -0.503392
v -3.672224 -1.426307 -0.489212
v -3.740653 -1.382497 -0.169720
v -3.684921 -1.382446 0.076174
v -3.594157 -1.230320 0.277967
v -3.682262 -1.217769 0.247395
v -3.483717 -1.289786 0.407226
v -3.578415 -1.261128 0.337379
v -3.803753 -1.417067 -0.062265
v -3.774304 -1.369577 -0.042421
v -3.787765 -1.432317 -0.198503
v -3.590268 -1.306302 0.220578
v -3.576618 -1.243054 0.259693
v -3.464468 -1.204204 0.425977
v -3.706948 -1.453000 -0.039917
v -3.759881 -1.359928 -0.058911
v -2.220199 1.114900 -0.549534
v -2.301899 1.000135 -0.705016
v -2.198001 1.015329 -0.539239
v -2.261249 0.966627 -0.736421
v -2.302805 1.035177 -0.714146
v -2.016132 1.096349 -0.598471
v -2.026062 1.024677 -0.602282
v -2.114506 1.039962 -0.693242
v -2.145249 0.960222 -0.700354
v -2.232428 1.118778 -0.463172
v -2.218179 1.018611 -0.457449
v -2.336670 1.017039 -0.284904
v -2.313729 1.114285 -0.289272
v -2.197755 0.930594 -0.699879
v -2.149171 0.983829 -0.541149
v -2.069218 0.970491 -0.613700
v -2.072408 0.985695 -0.493886
v -2.260746 0.947140 -0.697424
v -2.162959 1.179971 -0.609344
v -2.095898 1.140062 -0.647774
v -2.210886 1.095005 -0.711844
v -2.031538 1.184135 -0.540715
v -2.260510 1.104961 -0.685599
v -2.272948 0.913536 -0.224782
v -2.190887 0.900777 -0.120529
v -2.130062 0.972779 -0.423636
v -2.172299 0.985192 -0.451956
v -2.106654 1.201645 -0.447989
v -2.239299 1.159624 -0.331749
v -2.173083 1.191191 -0.504105
v -1.992285 1.122539 -0.495497
v -2.110199 1.061475 -0.284337
v -2.007014 1.026717 -0.500151
v -2.123890 0.973712 -0.294156
v -2.335530 0.769657 0.391493
v -2.429533 0.707232 0.429793
v -2.146565 0.967003 -0.127745
v -2.154017 1.031031 -0.127841
v -2.125089 0.894421 0.075762
v -2.135266 0.950777 0.094054
v -2.274490 1.017503 0.124322
v -2.333105 1.018634 0.092986
v -2.174280 1.112135 -0.231897
v -2.189206 1.006926 0.091775
v -2.374772 0.970125 -0.113799
v -2.362605 1.043056 -0.140718
v -2.361010 1.018064 0.025359
v -2.476380 0.455810 0.503944
v -2.466271 0.647804 0.423258
v -2.354301 0.670912 0.346418
v -2.399310 0.562075 0.416127
v -2.313254 0.713921 0.401120
v -2.245586 0.729844 0.340233
v -2.335913 0.624210 0.417792
v -2.299796 0.684650 0.357664
v -2.288745 0.118550 0.532658
v -2.458598 0.560576 0.426605
v -2.349451 0.390738 0.477038
v -2.328249 0.397290 0.506786
v -2.357265 0.522759 0.488910
v -2.348346 0.408802 0.553962
v -2.226779 0.164717 0.595363
v -2.208373 0.137421 0.544796
v -2.397576 0.467979 0.554333
v -2.443609 0.433497 0.562256
v -2.334806 0.168527 0.659099
v -1.967616 -0.114503 0.671330
v -2.333336 0.052119 0.682327
v -2.267912 -0.023538 0.686383
v -2.396123 0.011414 0.611348
v -2.388897 0.145046 0.612396
v -2.374640 0.058955 0.659040
v -2.383865 0.141011 0.571576
v -1.592071 -0.241319 0.677399
v -2.006325 -0.053578 0.616506
v -2.121757 0.046036 0.592304
v -2.023122 -0.061238 0.656585
v -2.226647 0.090970 0.653108
v -2.260496 -0.015727 0.586459
v -2.055139 -0.036214 0.591949
v -1.863338 -0.174442 0.627967
v -2.181313 -0.096542 0.636665
v -2.169159 -0.077332 0.669093
v -1.919884 -0.171421 0.655015
v -1.472199 -0.345806 0.671966
v -1.470029 -0.350345 0.646078
v -1.667319 -0.232413 0.657781
v -1.671980 -0.221249 0.632014
v -1.857653 -0.133193 0.620983
v -1.621568 -0.179565 0.654729
v -1.869973 -0.116411 0.636558
v -1.571811 -0.211211 0.629878
v -1.321786 -0.518809 0.658487
v -1.339527 -0.513675 0.659855
v -1.384946 -0.395665 0.642740
v -1.387121 -0.373276 0.665135
v -1.505246 -0.241991 0.636156
v -1.455768 -0.289794 0.674371
v -1.342317 -0.500177 0.672240
v -2.512125 -0.561174 0.688250
v -2.494566 -0.380294 0.675478
v -2.484398 -0.517426 0.692252
v -2.534732 -0.347044 0.706327
v -2.476266 -0.215957 0.659044
v -2.418958 -0.122310 0.631539
v -2.364060 -0.136831 0.641246
v -2.409570 -0.214852 0.701722
v -2.352236 -0.129029 0.693141
v -2.422665 -0.229093 0.663425
v -2.536255 -0.524519 0.740036
v -2.397619 -0.796158 0.727373
v -2.472015 -0.414196 0.700441
v -2.494620 -0.423465 0.736763
v -2.484940 -0.556720 0.735551
v -2.628046 -0.544252 0.712880
v -2.543482 -0.599233 0.700454
v -2.371353 -0.840842 0.710579
v -2.401386 -0.830318 0.709945
v -2.519943 -0.616077 0.724096
v -2.389224 -0.833049 0.694356
v -2.459269 -0.646458 0.695967
v -2.463954 -0.611962 0.721117
v -2.861484 -0.577509 0.734779
v -2.690310 -0.516411 0.731661
v -2.688279 -0.486031 0.700283
v -2.643425 -0.441490 0.707478
v -2.571984 -0.390037 0.692070
v -2.892188 -0.606093 0.725683
v -2.884832 -0.590539 0.715409
v -2.724128 -0.545504 0.719371
v -2.821881 -0.532759 0.725867
v -2.884522 -0.570791 0.719316
v -2.036701 0.842950 0.202131
v -2.023730 0.779320 0.205193
v -2.289872 0.812634 0.157252
v -2.202871 0.806978 0.150274
v -2.305299 0.754961 0.261219
v -2.190850 0.734313 0.295073
v -2.355711 0.832990 0.283776
v -2.343870 0.822633 0.214038
v -2.346582 0.860502 0.291111
v -2.288285 0.946453 0.235250
v -2.182453 0.874542 0.289100
v -1.801196 0.567426 0.366607
v -2.074383 0.734102 0.294727
v -2.147372 0.781468 0.311315
v -1.872704 0.669066 0.340574
v -1.909789 0.736684 0.312633
v -1.907139 0.659634 0.319486
v -2.159412 0.942544 0.215990
v -2.030976 0.742345 0.228045
v -1.870862 0.641594 0.303433
v -2.031556 0.715406 0.283212
v -1.689107 0.462163 0.427526
v -1.700408 0.465927 0.437483
v -1.704683 0.456867 0.420698
v -1.724278 0.532384 0.414527
v -1.855787 0.696883 0.311798
v -1.816954 0.640064 0.315355
v -1.735401 0.553197 0.375835
v -1.720390 0.495117 0.386544
v -2.218929 1.068021 -0.521852
v -2.076128 1.204246 -0.519505
v -2.043070 1.173701 -0.454554
v -2.153927 0.841553 0.091500
v -2.332847 0.942317 -0.218312
v -2.483861 0.563892 0.475274
v -2.361378 0.536517 0.444233
v -2.454071 0.591435 0.498529
v -2.281756 -0.091790 0.665952
v -2.296669 -0.094698 0.634600
v -2.355712 0.098694 0.553038
v -1.562129 -0.282555 0.647377
v -2.549171 -0.411040 0.728394
v -2.131335 0.945620 0.172422
v -2.473806 0.511774 0.453158
v -1.562906 -0.209579 0.674087
v -2.367373 0.751043 0.301821
v -1.101501 1.319480 -1.136776
v -1.072267 1.351883 -0.984234
v -1.366290 1.500088 -1.367419
v -1.592431 1.147196 -1.300841
v -1.542420 1.388072 -1.492712
v -2.365111 1.401366 -1.174639
v -1.993374 1.230410 -1.068325
v -2.463055 1.577953 -1.051171
v -1.754877 1.722059 -0.963153
v -1.989787 1.599767 -0.892731
v -1.336421 0.537175 -0.305152
v -0.984502 0.497908 -0.306084
v -3.301217 1.725612 -0.953763
v -3.188316 1.869614 -0.873997
v -3.451364 1.666862 -1.048936
v -1.603021 0.457362 -0.668903
v -1.513855 0.360436 -0.954713
v -1.684688 0.873493 -0.807304
v -0.774754 0.360651 -0.694619
v -0.837634 0.437449 -0.456607
v -1.215631 0.289968 -1.085039
v -1.017138 0.609049 -1.103274
v -1.271118 0.655652 -1.186831
v -3.250888 1.860645 -0.943488
v -3.485634 1.726526 -1.132752
v -3.404851 2.476286 -1.515905
v -3.508790 2.312280 -1.639892
v -3.238787 2.513905 -1.440945
v -3.647862 1.812380 -1.499678
v -3.644259 1.706272 -1.318947
v -3.650773 1.974004 -1.609875
v -3.019470 2.227857 -1.242372
v -3.016641 2.001194 -1.100085
v -3.371459 2.428926 -1.424891
v -3.536137 2.281944 -1.522263
v -3.643956 2.204635 -1.625287
v -3.061563 2.277679 -0.956030
v -3.196573 2.458432 -1.225379
v -3.093774 2.225466 -1.009292
v -3.624221 1.819424 -1.344265
v -3.637913 2.098955 -1.526554
v -3.702333 1.945891 -1.505572
v -3.160913 2.122922 -1.509727
v -3.012445 2.083500 -1.288395
v -3.323634 1.905305 -1.533471
v -3.170923 1.792660 -1.290727
v -3.463141 1.882692 -1.534002
v -3.374967 1.728146 -1.364884
v -3.220019 1.740928 -1.170728
v -3.089972 1.846095 -1.132608
v -3.240936 2.284480 -1.527121
v -3.388916 2.108621 -1.612680
v -1.393530 0.961295 -1.218531
v -1.119044 1.058164 -1.164850
v -0.881478 0.932595 -0.688543
v -0.861053 0.842310 -0.900156
v -1.840956 1.147928 -0.874211
v -1.670793 0.967999 -1.073151
v -1.365879 1.080653 -0.521049
v -1.520969 1.077173 -0.563638
v -1.192720 1.102119 -0.540394
v -2.587198 2.117579 -1.046069
v -2.713982 2.029456 -0.973680
v -3.119354 2.483418 -1.174591
v -2.844504 1.549318 -1.216790
v -2.933336 1.773612 -0.972354
v -2.817370 1.642643 -1.658810
v -2.783792 1.483368 -1.482532
v -2.223207 1.499402 -1.640861
v -1.797423 1.690050 -1.537939
v -1.698683 1.788301 -1.310262
v -2.680198 2.053021 -1.627686
v -3.166235 2.534894 -1.312270
v -1.780044 1.145149 -1.213779
v -1.946323 1.380537 -0.828976
v -0.861842 0.300087 -0.930368
v -3.563593 1.681863 -1.173752
v -3.169877 2.004271 -1.713429
v -3.097816 2.018519 -0.862611
v -1.011697 0.932906 -0.513849
v -1.613655 0.940812 -0.610686
v -1.539876 0.862585 -1.166789
v -0.922122 0.796724 -1.023570
v -1.626686 1.766187 -1.126675
v -1.959921 1.594664 -1.639797
v -2.407953 1.700419 -0.978609
v -1.161481 1.337698 -0.786116
v -3.473618 1.609469 -1.232216
v -1.525705 0.515950 -0.447143
v -3.140078 2.033770 -0.917368
v -3.105496 2.308629 -1.389364
v -3.215499 1.268910 -0.523973
v -3.192176 1.041404 -0.599601
v -3.026140 1.512005 -0.796785
v -2.890556 1.045386 -0.739368
v -2.516056 1.265654 -0.692152
v -2.884417 1.459487 -0.892533
v -2.388726 1.375816 -0.336407
v -2.504619 1.197685 -0.284193
v -2.286079 1.456447 -0.634691
v -2.752130 1.267693 -0.168214
v -1.871874 1.721876 -0.188594
v -1.755189 1.745452 -0.343216
v -2.389945 0.839530 -0.503868
v -3.071480 0.335023 -0.469610
v -3.040808 0.322933 -0.225434
v -2.638644 0.636003 -0.789558
v -1.981670 1.786565 -0.052175
v -1.773167 1.852423 -0.399470
v -1.972527 1.814152 -0.142721
v -2.307943 2.481967 -0.556132
v -2.407488 2.459535 -0.403850
v -2.150049 2.449062 -0.698350
v -2.367345 2.129566 -0.010194
v -2.264729 1.977514 0.040689
v -2.433240 2.282777 -0.111760
v -1.847115 2.023398 -0.777570
v -1.901225 2.212441 -0.808223
v -1.804833 2.180740 -0.735428
v -1.735176 1.909760 -0.645106
v -2.420514 2.049999 -0.252216
v -2.272267 1.837057 -0.185179
v -2.285417 2.443099 -0.428903
v -2.167146 2.405434 -0.582325
v -2.013947 2.402870 -0.708529
v -2.346984 2.199488 -0.107109
v -2.164993 1.937775 -0.008708
v -1.721665 2.007398 -0.612212
v -1.947935 2.301219 -0.691016
v -1.771867 2.032475 -0.599864
v -2.346856 2.072402 -0.562978
v -2.115407 1.767865 -0.457602
v -2.122548 1.976172 -0.684426
v -2.376509 1.931024 -0.335589
v -1.997469 2.029314 -0.722363
v -1.943417 1.829350 -0.590469
v -2.011218 1.732617 -0.371817
v -2.152793 1.748730 -0.276856
v -2.359704 2.252435 -0.549692
v -2.187163 2.192671 -0.713297
v -2.904676 0.759649 -0.718073
v -2.586073 1.063217 -0.664491
v -3.223706 0.855342 -0.362782
v -2.470308 1.133009 -0.401521
v -2.411613 0.798179 -0.254600
v -2.488836 1.131260 -0.521034
v -2.820697 0.619307 -0.017872
v -2.527979 0.732504 -0.076446
v -2.904273 1.423977 -0.201429
v -3.040265 1.427480 -0.262455
v -2.534786 1.557889 -0.118494
v -2.215217 1.517592 -0.362178
v -2.247905 1.582265 -0.186538
v -2.339887 1.614471 -0.861049
v -2.385300 1.852746 -0.931288
v -3.040721 1.676199 -0.627879
v -2.667583 1.943509 -0.849667
v -2.460055 2.393058 -0.254524
v -3.091083 0.637622 -0.621434
v -2.601849 1.221688 -0.201300
v -1.702780 1.860437 -0.466717
v -2.031824 2.345273 -0.800219
v -2.362981 2.368704 -0.250864
v -2.463919 0.711374 -0.704666
v -3.105117 1.523807 -0.388822
v -2.674182 1.783269 -0.938841
v -3.025816 0.634875 -0.210874
v -1.760731 1.768162 -0.527805
v -2.146586 1.833490 0.024647
v -2.435768 2.183362 -0.384451
v -4.484924 0.543321 -0.637161
v -4.092868 0.288502 -0.624860
v -4.230126 0.880896 -0.809544
v -4.019209 0.486605 -0.710533
v -4.307859 0.778467 -0.835062
v -3.896440 0.812020 -0.417519
v -3.973784 0.812842 -0.310885
v -3.830371 0.744180 -0.518030
v -4.077422 0.567201 -0.185935
v -4.231160 0.361645 -0.288810
v -3.549988 0.165959 -0.067115
v -3.450928 0.336964 -0.090995
v -4.253305 1.177520 -0.229756
v -4.294913 1.265172 -0.346751
v -4.265747 1.063602 -0.122765
v -3.358552 0.498218 -0.303357
v -3.369277 0.481817 -0.531315
v -3.670547 -0.042039 -0.528382
v -3.680556 -0.059898 -0.321734
v -3.558621 0.153659 -0.722419
v -3.459270 0.326401 -0.706001
v -4.303907 1.119276 -0.171448
v -4.345523 1.216730 -0.340795
v -4.314039 1.089538 -0.196797
v -4.804018 0.763106 -0.534987
v -4.775936 0.678579 -0.410281
v -4.776922 0.862225 -0.652746
v -4.528552 0.739782 -0.093009
v -4.618754 0.659712 -0.175227
v -4.531784 1.202735 -0.678519
v -4.639466 1.103375 -0.724333
v -4.451821 1.291297 -0.563535
v -4.447519 0.708825 -0.284049
v -4.297019 0.850595 -0.230631
v -4.793071 0.759079 -0.442928
v -4.747118 0.770177 -0.436781
v -4.761247 0.909963 -0.570088
v -4.786053 0.958394 -0.650244
v -4.570776 0.749903 -0.169879
v -4.412494 0.854775 -0.047815
v -4.382876 0.911816 -0.110238
v -4.638080 1.165383 -0.665069
v -4.652433 1.106143 -0.626096
v -4.509608 1.222156 -0.561080
v -4.473796 0.764261 -0.531685
v -4.260837 0.982331 -0.447716
v -4.424194 0.952328 -0.628464
v -4.358889 0.757432 -0.350488
v -4.480717 1.044701 -0.658695
v -4.329425 1.110705 -0.553593
v -4.245244 1.068581 -0.379356
v -4.241378 0.955101 -0.303685
v -4.614201 0.733069 -0.521100
v -4.587283 0.876063 -0.651471
v -3.877823 0.426101 -0.695296
v -3.894630 0.607400 -0.670713
v -3.934090 0.290106 -0.666891
v -3.980713 0.080439 -0.389950
v -3.964826 0.099305 -0.499516
v -3.999208 0.108738 -0.280631
v -3.589459 0.605526 -0.416953
v -3.620813 0.584738 -0.285330
v -3.887525 0.369191 -0.103397
v -3.949510 0.263657 -0.122296
v -3.869714 0.500875 -0.131653
v -4.269228 0.579625 -0.218556
v -4.353635 0.500530 -0.286054
v -4.174663 0.677371 -0.190173
v -4.063420 1.050055 -0.497461
v -4.417102 1.004048 -0.806859
v -4.187271 1.029887 -0.735561
v -4.504155 0.667805 -0.754114
v -4.445781 0.467887 -0.513357
v -3.636684 0.016036 -0.154316
v -4.693641 0.962796 -0.748746
v -4.397149 1.250601 -0.441363
v -4.705463 0.716880 -0.282972
v -3.845328 0.605822 -0.191909
v -3.642741 0.006212 -0.637964
v -4.367705 0.669138 -0.812693
v -4.109810 1.068723 -0.625165
v -4.074520 0.769736 -0.217950
v -3.964814 0.164341 -0.174338
v -4.712862 0.637496 -0.285436
v -4.356503 1.303795 -0.468150
v -3.397448 0.429575 -0.156299
v -3.403569 0.422942 -0.643813
v -4.311859 0.941866 -0.059997
v -4.725245 1.011420 -0.622169
v -4.550855 0.681195 -0.389424
v -3.848089 0.695944 -0.612568
v -4.433056 0.468024 -0.385569
v -3.364292 -1.762151 -0.375629
v -3.761203 -1.297886 -0.096179
v -3.181236 -1.667769 0.325376
v -3.845778 -1.209320 -0.674823
v -3.051779 -0.762820 -1.061696
v -2.800585 -1.281711 -0.813439
v -3.492964 -1.321958 -0.974560
v -3.096636 -1.693249 -0.690654
v -2.503409 -0.574323 0.506810
v -3.016658 -1.030188 0.758566
v -2.595118 -1.278167 0.625928
v -2.757995 -0.235532 0.708368
v -2.564049 -1.532861 -0.248706
v -2.899466 -1.894302 -0.045103
v -2.700062 -1.625192 0.469719
v -3.506500 -0.152495 0.707084
v -3.252368 0.253379 0.709069
v -3.618523 0.084745 0.491482
v -3.923275 -0.099655 -0.297870
v -3.568824 0.495699 -0.918996
v -3.615575 0.150176 -1.269764
v -3.887034 -0.294820 -1.252353
v -3.850934 0.106902 -1.166401
v -3.224760 0.697398 -0.506254
v -2.876997 0.507813 0.107865
v -3.113871 0.572798 0.443409
v -3.327276 0.552383 0.382928
v -3.981454 -0.786470 -0.164304
v -4.064712 -0.479952 -1.068049
v -3.786145 -0.614678 0.415541
v -3.239574 0.481126 -0.943186
vn -0.6714 -0.7195 0.1777
vn -0.4870 -0.8731 -0.0220
vn 0.6705 -0.4712 -0.5730
vn 0.3245 -0.3998 -0.8572
vn -0.0651 -0.8764 -0.4771
vn 0.8825 -0.4078 -0.2341
vn 0.1353 -0.0876 0.9869
vn -0.3345 -0.7022 0.6285
vn 0.5017 -0.7744 0.3855
vn 0.5017 -0.8641 -0.0398
vn 0.6045 -0.7862 -0.1281
vn -0.1264 0.9566 0.2626
vn 0.0009 0.2943 0.9557
vn -0.1717 0.3496 0.9210
vn -0.2869 -0.0720 0.9552
vn 0.8560 0.0518 -0.5144
vn 0.9953 -0.0958 0.0126
vn 0.9486 -0.1085 0.2972
vn 0.9300 -0.0133 -0.3672
vn -0.0722 0.0608 -0.9955
vn 0.1924 0.0643 -0.9792
vn 0.5739 0.0714 -0.8158
vn -0.7771 0.2804 -0.5634
vn -0.4742 0.8481 0.2362
vn -0.4127 0.9019 -0.1273
vn -0.7535 0.6405 -0.1486
vn 0.0120 0.6996 -0.7145
vn 0.3860 0.4682 -0.7949
vn 0.8138 0.5068 -0.2842
vn 0.9492 0.3035 0.0831
vn 0.9092 0.3303 -0.2534
vn 0.9503 0.2996 -0.0851
vn -0.1062 0.7521 0.6505
vn -0.0285 0.3447 0.9383
vn 0.0049 -0.2207 0.9753
vn -0.3077 -0.3945 0.8658
vn -0.5617 -0.4374 0.7022
vn -0.2538 -0.4457 0.8585
vn 0.9190 -0.1668 -0.3571
vn 0.9335 -0.3491 0.0820
vn 0.7253 -0.1472 -0.6725
vn 0.2811 -0.0657 -0.9574
vn -0.6834 -0.5019 0.5301
vn -0.6511 -0.4390 -0.6192
vn -0.6458 -0.6818 0.3436
vn -0.5953 -0.3372 -0.7293
vn -0.2460 -0.2478 -0.9371
vn -0.3571 -0.3386 -0.8705
vn -0.4699 -0.5295 -0.7063
vn 0.0186 -0.1947 0.9807
vn 0.0087 -0.3914 0.9202
vn 0.6149 -0.3911 0.6848
vn 0.5316 -0.3596 0.7669
vn 0.1039 0.7162 0.6901
vn 0.4049 0.4352 0.8042
vn 0.8069 0.3170 0.4984
vn -0.2588 0.4258 -0.8670
vn -0.3880 0.8526 -0.3501
vn -0.0944 0.8858 -0.4544
vn -0.5699 0.5467 -0.6135
vn -0.4449 -0.0115 -0.8955
vn -0.4971 0.1428 -0.8559
vn -0.1320 -0.0226 -0.9910
vn -0.4313 -0.0624 -0.9001
vn 0.4683 0.0280 0.8831
vn 0.8172 -0.1117 0.5654
vn 0.6337 0.7572 0.1582
vn 0.5867 0.7963 -0.1474
vn 0.2803 0.9109 -0.3027
vn 0.1414 0.9558 0.2577
vn -0.3616 -0.8855 0.2918
vn 0.0971 -0.9845 -0.1461
vn 0.2359 -0.8801 0.4120
vn 0.0471 -0.3056 0.9510
vn 0.4094 -0.4684 0.7830
vn -0.2161 -0.8001 -0.5596
vn -0.4194 -0.7869 -0.4527
vn -0.6178 -0.7863 0.0078
vn -0.6651 -0.7143 0.2178
vn -0.6557 -0.7277 -0.2013
vn -0.5197 -0.8530 -0.0485
vn -0.2174 -0.6081 -0.7635
vn 0.4756 -0.4065 -0.7801
vn 0.3934 -0.8534 -0.3420
vn 0.8777 -0.3978 -0.2671
vn 0.9193 -0.3917 0.0372
vn 0.8458 -0.5307 0.0548
vn 0.7708 -0.6327 -0.0739
vn 0.6232 -0.7487 0.2260
vn 0.7711 -0.6049 0.1987
vn -0.0311 0.9938 -0.1069
vn -0.2239 0.9737 0.0420
vn -0.2215 0.9661 0.1329
vn -0.2663 0.2163 0.9393
vn -0.1881 0.0961 0.9774
vn -0.4709 -0.1186 0.8742
vn -0.0000 0.1322 0.9912
vn 0.9980 -0.0456 -0.0438
vn 0.9477 -0.1076 0.3005
vn 0.9780 0.0065 -0.2086
vn -0.0827 0.0763 -0.9937
vn 0.6677 0.0455 -0.7430
vn 0.1648 0.0581 -0.9846
vn -0.4855 0.8452 0.2235
vn -0.5337 0.8455 -0.0196
vn -0.7584 0.5906 -0.2759
vn -0.0071 0.4445 -0.8958
vn 0.3566 0.5107 -0.7823
vn 0.7050 0.4338 -0.5610
vn 0.7459 0.6486 -0.1516
vn 0.8014 0.5980 0.0141
vn 0.9385 0.3444 0.0254
vn 0.9286 0.2733 0.2510
vn -0.0130 0.6219 0.7830
vn -0.3875 0.7657 0.5134
vn -0.3795 0.5172 0.7671
vn -0.2053 -0.2571 0.9443
vn 0.9013 -0.1831 -0.3926
vn 0.9754 -0.2166 -0.0412
vn 0.9066 -0.3494 0.2368
vn 0.1464 -0.1148 -0.9825
vn 0.5859 -0.0828 -0.8061
vn 0.1384 -0.3086 -0.9411
vn -0.6984 -0.6676 -0.2579
vn -0.7327 -0.6799 0.0285
vn -0.6812 -0.5140 -0.5214
vn -0.1346 -0.0964 -0.9862
vn -0.2422 -0.4175 -0.8758
vn -0.6840 -0.4704 -0.5575
vn 0.2835 -0.2092 0.9359
vn 0.0443 -0.4154 0.9086
vn 0.4144 -0.3942 0.8203
vn 0.7575 -0.4098 0.5082
vn 0.6212 0.7566 0.2041
vn 0.1917 0.8419 0.5044
vn 0.6055 0.4738 0.6394
vn 0.2244 0.2986 0.9276
vn -0.4090 0.6782 -0.6105
vn -0.0372 0.3568 -0.9334
vn -0.1476 0.0827 -0.9856
vn -0.2843 -0.0549 -0.9572
vn -0.5956 -0.3367 -0.7294
vn 0.3244 0.1015 0.9405
vn 0.0211 0.0952 0.9952
vn 0.5582 0.0231 0.8294
vn 0.5067 0.8610 0.0444
vn 0.4908 0.8345 -0.2504
vn 0.1199 0.9893 -0.0831
vn 0.2516 0.9638 0.0882
vn 0.0696 -0.9897 -0.1254
vn 0.1471 -0.8660 0.4779
vn -0.4173 -0.7859 -0.4563
vn -0.3865 0.8867 -0.2536
vn 0.3472 -0.7008 0.6232
vn 0.8276 -0.5602 0.0365
vn 0.5355 -0.3862 0.7511
vn 0.1987 -0.5048 -0.8401
vn -0.0583 0.2463 -0.9675
vn 0.2978 0.4477 -0.8431
vn 0.8764 -0.3968 -0.2728
vn 0.9158 0.3603 0.1776
vn -0.1911 0.4998 -0.8448
vn -0.4630 0.3284 -0.8233
vn -0.0140 0.7963 -0.6048
vn 0.9032 0.0258 0.4285
vn 0.6788 -0.7198 0.1456
vn 0.4480 -0.8499 -0.2774
vn 0.8101 -0.5606 0.1718
vn 0.9705 -0.2378 0.0409
vn 0.5668 -0.7953 -0.2151
vn 0.5784 0.2678 0.7705
vn 0.5722 0.2914 0.7666
vn 0.4118 0.9055 0.1024
vn 0.2109 0.8827 0.4199
vn -0.4954 -0.2447 -0.8335
vn -0.2735 -0.3083 -0.9111
vn -0.1952 -0.5325 -0.8236
vn -0.1798 -0.9057 -0.3838
vn 0.8034 0.5408 0.2492
vn 0.9432 0.1261 0.3074
vn 0.6516 0.5655 0.5056
vn 0.0935 0.9378 0.3342
vn 0.9857 0.0807 0.1476
vn -0.2363 -0.8987 -0.3696
vn -0.8805 -0.1500 -0.4496
vn -0.6564 0.6723 -0.3423
vn -0.8159 -0.5369 -0.2146
vn -0.5712 0.7861 0.2363
vn -0.9439 0.3285 0.0341
vn -0.6131 -0.7886 0.0478
vn -0.6134 -0.7191 0.3264
vn -0.8254 -0.3411 0.4498
vn 0.0065 0.9648 0.2629
vn -0.0695 0.9918 -0.1077
vn -0.9008 0.2509 -0.3544
vn -0.4058 -0.8877 -0.2175
vn -0.8368 -0.4551 -0.3042
vn -0.3256 -0.9416 -0.0858
vn 0.5319 -0.6734 0.5134
vn 0.4937 -0.8662 -0.0778
vn 0.1014 -0.9905 -0.0927
vn 0.7496 -0.6273 0.2111
vn 0.8972 -0.3180 0.3065
vn 0.4119 -0.8992 0.1473
vn 0.0931 -0.8685 0.4868
vn -0.7423 0.5578 0.3713
vn 0.4249 -0.8761 -0.2280
vn 0.8374 -0.4247 -0.3440
vn 0.7895 -0.6045 -0.1061
vn 0.2192 -0.9370 0.2720
vn 0.8968 0.1699 -0.4085
vn 0.8774 0.3806 -0.2922
vn 0.7621 0.6427 0.0784
vn 0.5214 0.8400 -0.1501
vn 0.4226 0.7399 -0.5235
vn 0.8386 0.4441 -0.3154
vn -0.1862 0.6262 0.7571
vn -0.4129 0.5611 0.7174
vn -0.8176 -0.0593 0.5727
vn -0.2793 0.9421 0.1855
vn 0.8021 0.1855 -0.5677
vn -0.5234 0.8330 -0.1794
vn -0.0377 0.9591 -0.2807
vn 0.1590 0.8256 -0.5414
vn 0.6421 0.3507 -0.6817
vn -0.2479 -0.6367 0.7302
vn -0.0483 0.7921 -0.6085
vn -0.8414 0.4855 -0.2372
vn -0.9445 0.3087 0.1123
vn -0.9062 0.4183 -0.0621
vn -0.5600 0.6123 -0.5581
vn -0.8311 -0.2094 0.5152
vn -0.3402 -0.8219 0.4568
vn -0.6564 0.1164 0.7453
vn -0.6375 -0.2668 0.7228
vn -0.5185 -0.3897 0.7611
vn -0.2744 -0.8269 0.4909
vn -0.8009 -0.1692 0.5744
vn -0.5475 -0.0407 0.8358
vn -0.7507 -0.3123 0.5822
vn -0.8018 -0.1707 0.5727
vn -0.3546 -0.6623 0.6601
vn -0.6154 -0.4382 0.6552
vn 0.4274 -0.8503 0.3070
vn 0.8195 -0.5463 -0.1735
vn -0.9890 0.1207 -0.0860
vn 0.1539 -0.9879 0.0206
vn -0.6843 -0.1984 0.7017
vn -0.4846 0.2603 -0.8351
vn -0.6875 0.3551 -0.6334
vn -0.9877 -0.0966 -0.1232
vn 0.5296 0.3336 -0.7799
vn -0.6783 0.1065 -0.7270
vn 0.7073 0.4830 -0.5162
vn 0.4194 0.4069 -0.8115
vn 0.3833 0.3347 -0.8608
vn 0.2608 0.3013 -0.9172
vn 0.5167 0.4922 0.7005
vn 0.7405 0.6075 0.2874
vn 0.8241 0.3226 0.4656
vn 0.0358 -0.1621 0.9861
vn 0.8943 0.0028 0.4474
vn 0.7751 0.4103 0.4805
vn 0.8659 0.4090 -0.2880
vn -0.5700 -0.2014 -0.7966
vn -0.9358 -0.3492 -0.0479
vn -0.2322 0.6632 -0.7115
vn 0.3727 -0.1491 0.9159
vn 0.8207 0.1097 -0.5607
vn -0.6625 0.1831 -0.7263
vn -0.2991 0.4038 -0.8646
vn -0.8956 0.0650 -0.4401
vn -0.9178 0.3534 -0.1808
vn -0.7163 0.4524 -0.5313
vn -0.7486 -0.1199 0.6520
vn -0.5780 -0.0220 0.8158
vn -0.5067 0.8521 0.1315
vn 0.7976 0.0217 -0.6028
vn 0.5071 -0.7771 -0.3727
vn -0.1481 -0.9078 0.3923
vn 0.7174 -0.2000 -0.6673
vn 0.7085 0.2510 -0.6595
vn 0.0111 0.9996 0.0249
vn -0.0857 0.9955 0.0417
vn -0.3693 0.6671 0.6470
vn -0.0282 0.8331 0.5525
vn -0.3262 0.9447 -0.0328
vn 0.9619 0.2312 0.1457
vn -0.0377 0.7402 -0.6713
vn -0.4963 -0.2687 0.8255
vn 0.2475 0.0168 0.9687
vn 0.6749 -0.3018 0.6734
vn 0.5032 0.1448 0.8519
vn 0.9617 -0.2224 0.1603
vn 0.9881 -0.1222 -0.0939
vn 0.2533 0.8162 -0.5192
vn 0.4427 0.3158 -0.8392
vn -0.0358 0.5782 -0.8151
vn -0.7152 0.6209 -0.3210
vn -0.6717 0.6369 -0.3783
vn -0.4675 -0.3275 0.8211
vn -0.7594 -0.5243 0.3854
vn -0.3625 -0.3575 0.8607
vn 0.6639 -0.1806 -0.7256
vn 0.7744 0.1038 -0.6242
vn 0.8735 0.0876 -0.4788
vn -0.1179 -0.9770 -0.1778
vn -0.3080 -0.9429 0.1270
vn -0.5913 -0.0617 0.8041
vn -0.1298 0.3056 0.9433
vn 0.4573 0.6411 0.6163
vn 0.7295 0.3193 -0.6049
vn 0.0693 -0.6096 -0.7897
vn -0.4441 -0.7526 -0.4863
vn -0.4406 0.6315 -0.6380
vn 0.4214 0.6052 -0.6754
vn -0.7960 0.2086 -0.5682
vn -0.3483 0.4602 -0.8167
vn 0.9070 -0.4088 0.1014
vn 0.9208 0.3765 0.1017
vn 0.7480 0.5927 0.2988
vn 0.9325 0.3490 0.0935
vn 0.4710 -0.8707 0.1417
vn 0.9719 0.1983 -0.1268
vn 0.3770 -0.9237 0.0687
vn -0.8562 -0.4726 -0.2088
vn -0.9148 -0.3578 -0.1873
vn -0.7141 -0.6981 -0.0515
vn -0.6972 -0.7123 0.0812
vn -0.8635 -0.4817 0.1494
vn 0.4080 -0.4291 0.8059
vn -0.4319 -0.4777 0.7651
vn 0.0873 -0.0231 0.9959
vn -0.4062 -0.1852 0.8948
vn 0.3303 0.1440 0.9328
vn -0.2641 -0.3049 0.9150
vn -0.9496 -0.1251 -0.2875
vn 0.8267 0.5620 -0.0269
vn 0.8207 0.5688 -0.0543
vn 0.9659 0.2511 0.0634
vn 0.7940 0.0562 0.6054
vn -0.2407 0.8484 -0.4714
vn -0.8444 -0.3344 0.4186
vn -0.8549 0.3393 -0.3924
vn 0.4283 0.6285 -0.6493
vn -0.5536 0.5231 -0.6480
vn 0.0338 -0.2780 -0.9600
vn 0.6823 0.5023 0.5312
vn 0.8337 0.2171 -0.5078
vn 0.8204 0.1816 -0.5422
vn -0.8675 -0.4356 -0.2404
vn 0.2910 -0.8544 0.4304
vn 0.3865 -0.1384 -0.9119
vn 0.2508 0.3160 -0.9150
vn 0.5864 0.6412 -0.4949
vn 0.9476 -0.2156 0.2360
vn -0.6114 0.5671 -0.5519
vn 0.0035 0.9994 0.0335
vn 0.1297 0.9355 -0.3286
vn 0.1804 -0.9624 -0.2033
vn 0.6886 -0.7002 0.1884
vn 0.8292 -0.5320 -0.1713
vn 0.5513 -0.0176 0.8341
vn 0.4573 0.7154 0.5282
vn -0.5231 -0.2982 -0.7984
vn -0.5094 -0.6562 -0.5567
vn -0.3067 -0.8532 -0.4220
vn 0.6354 0.7286 0.2557
vn 0.5160 0.8389 0.1732
vn 0.9006 0.2903 0.3234
vn 0.6299 0.6945 0.3477
vn 0.8716 0.4321 0.2314
vn -0.8344 -0.4178 -0.3595
vn -0.8772 -0.4255 -0.2225
vn -0.9167 0.2415 -0.3185
vn -0.9436 0.3292 0.0341
vn -0.5796 0.7799 0.2364
vn -0.7172 -0.5396 0.4409
vn -0.9044 -0.1817 0.3860
vn -0.5066 0.8620 -0.0183
vn -0.7271 0.6855 -0.0370
vn -0.9348 0.2021 -0.2920
vn -0.7763 0.5686 -0.2723
vn 0.7343 -0.6713 0.1010
vn 0.9175 -0.3919 0.0680
vn 0.9339 -0.3575 0.0028
vn 0.4507 -0.8628 -0.2291
vn -0.0395 -0.9982 -0.0453
vn 0.8359 -0.4275 -0.3443
vn -0.2264 -0.9573 0.1796
vn 0.4157 -0.9035 0.1044
vn 0.8695 0.4155 -0.2671
vn 0.9687 -0.1543 -0.1942
vn 0.3967 0.9176 0.0249
vn 0.0862 0.8252 0.5582
vn 0.6901 0.2227 -0.6886
vn 0.8248 -0.5118 -0.2404
vn 0.8422 0.2119 -0.4958
vn 0.4872 0.4932 -0.7207
vn 0.2229 0.5408 -0.8111
vn -0.5096 0.8372 -0.1985
vn -0.9836 0.1772 0.0338
vn -0.4647 0.5356 -0.7051
vn -0.7892 0.5682 -0.2333
vn -0.2431 -0.7520 0.6127
vn -0.7541 -0.2765 0.5957
vn -0.6609 0.3599 0.6586
vn -0.6757 0.3154 0.6663
vn -0.5017 -0.0401 0.8641
vn 0.1277 0.1387 0.9821
vn -0.7288 -0.2092 0.6520
vn -0.5599 0.1112 -0.8211
vn 0.8837 0.3708 -0.2857
vn 0.6392 0.3364 -0.6915
vn 0.8786 0.3653 -0.3076
vn 0.2917 0.5053 0.8121
vn 0.6252 0.6574 0.4207
vn 0.8171 0.3236 0.4771
vn 0.2424 0.1538 0.9579
vn 0.7871 0.0043 0.6168
vn 0.6188 -0.3426 0.7069
vn 0.1423 0.1432 0.9794
vn 0.7824 0.4107 0.4682
vn 0.9018 0.4112 -0.1329
vn 0.4481 0.2353 -0.8625
vn 0.3617 0.1780 -0.9151
vn -0.7964 -0.2556 -0.5480
vn 0.1348 -0.9826 0.1281
vn 0.6294 0.1847 -0.7548
vn -0.9976 0.0483 -0.0488
vn -0.6339 -0.1071 0.7659
vn -0.6595 -0.0010 0.7517
vn -0.5703 0.8212 -0.0184
vn 0.4283 -0.8686 -0.2492
vn 0.1118 -0.9930 0.0388
vn 0.7060 -0.2633 -0.6575
vn 0.5055 0.5586 -0.6576
vn 0.4298 0.7645 -0.4804
vn 0.4752 0.8673 -0.1483
vn 0.1733 0.7975 -0.5779
vn -0.7029 0.2209 0.6762
vn 0.0016 -0.2100 0.9777
vn -0.5063 0.1203 0.8539
vn -0.7168 0.6462 0.2621
vn -0.5131 0.7800 -0.3584
vn -0.1532 -0.2155 0.9644
vn -0.5775 0.0448 0.8152
vn -0.7143 0.6645 0.2194
vn 0.4977 0.2164 0.8399
vn 0.0222 0.3021 0.9530
vn 0.9518 0.3039 -0.0407
vn 0.8767 0.0200 -0.4807
vn -0.4159 0.6327 -0.6532
vn -0.4239 -0.0992 0.9002
vn -0.1858 -0.0852 0.9789
vn -0.3946 -0.3771 0.8379
vn 0.5776 -0.2652 -0.7720
vn 0.1178 -0.9400 -0.3202
vn -0.7644 -0.2077 0.6104
vn -0.6109 -0.0804 0.7876
vn 0.7241 0.6891 0.0268
vn 0.7174 0.2416 -0.6535
vn 0.5029 -0.1028 -0.8582
vn -0.1799 -0.9234 -0.3391
vn -0.5447 -0.6194 0.5654
vn 0.2769 -0.6384 -0.7181
vn -0.5935 -0.7956 -0.1214
vn -0.3023 0.4876 -0.8191
vn 0.8580 0.5137 0.0012
vn 0.8443 0.5359 0.0004
vn -0.0101 -0.9983 0.0568
vn 0.8215 -0.4896 -0.2922
vn -0.3642 -0.9248 0.1101
vn -0.9278 -0.3648 0.0784
vn 0.2160 -0.4989 0.8393
vn -0.3635 0.0622 0.9295
vn 0.5237 0.4517 0.7223
vn 0.7750 0.0231 0.6315
vn -0.9761 -0.0952 -0.1955
vn -0.9050 -0.2198 0.3642
vn -0.9612 -0.2540 0.1072
vn -0.9535 0.0214 -0.3006
vn 0.9026 0.3517 0.2484
vn 0.8783 0.4638 -0.1162
vn -0.3327 0.8002 -0.4990
vn -0.7694 0.5264 -0.3619
vn -0.9941 0.0215 -0.1067
vn 0.9580 0.2869 -0.0038
vn 0.8999 -0.1368 0.4140
vn 0.0100 0.7057 -0.7085
vn 0.6987 -0.2609 -0.6662
vn 0.0828 0.2626 0.9614
vn 0.9735 -0.1340 -0.1852
vn -0.8346 -0.1307 0.5351
vn -0.9011 -0.2383 -0.3623
vn -0.7191 -0.4874 0.4953
vn -0.3167 0.5172 -0.7951
vn 0.3573 0.3304 -0.8736
vn 0.2953 -0.0287 -0.9550
vn -0.6962 -0.1978 -0.6901
vn -0.2449 -0.8685 -0.4309
vn 0.6010 0.2352 -0.7638
vn 0.6368 0.4987 -0.5881
vn 0.6986 -0.1370 -0.7023
vn -0.4334 -0.8660 -0.2494
vn -0.9852 -0.1062 -0.1347
vn -0.8104 0.4566 -0.3671
vn -0.9296 -0.2975 -0.2174
vn -0.7204 -0.4816 -0.4991
vn -0.8910 0.1917 -0.4116
vn -0.2038 -0.9077 0.3668
vn -0.2224 -0.9018 0.3705
vn 0.4651 -0.8293 -0.3098
vn 0.5358 -0.8357 0.1203
vn 0.2259 0.8455 -0.4839
vn 0.0712 0.7513 -0.6561
vn -0.1515 0.7946 -0.5879
vn -0.5323 0.8348 -0.1402
vn 0.1133 -0.9715 -0.2081
vn 0.7017 -0.7119 -0.0283
vn -0.0875 -0.9401 -0.3295
vn -0.0321 -0.9956 -0.0884
vn -0.5583 -0.8211 -0.1191
vn 0.4303 -0.9009 0.0569
vn -0.4549 -0.7665 -0.4533
vn 0.4389 0.8783 0.1897
vn 0.8779 -0.1712 0.4473
vn -0.1369 0.9903 -0.0224
vn 0.3973 0.7972 0.4546
vn 0.0583 0.9157 0.3976
vn 0.7470 0.3803 0.5453
vn 0.9878 0.1506 -0.0393
vn -0.6530 0.6711 0.3511
vn 0.1169 0.4530 0.8838
vn 0.8322 -0.5470 0.0913
vn 0.8676 0.4598 0.1895
vn 0.7920 -0.5410 -0.2830
vn 0.7209 0.6929 0.0094
vn -0.4412 0.8756 0.1967
vn -0.9657 0.1619 -0.2029
vn 0.2328 0.9217 0.3103
vn -0.7888 0.1535 0.5952
vn -0.6923 0.7126 0.1139
vn -0.9101 -0.3006 -0.2851
vn -0.9108 -0.4019 -0.0949
vn -0.8095 -0.5602 -0.1757
vn -0.9946 0.0735 0.0730
vn -0.8326 -0.3413 -0.4362
vn -0.9778 -0.1142 -0.1754
vn -0.9505 -0.2982 -0.0877
vn -0.7759 0.4381 0.4539
vn -0.9784 -0.1967 -0.0640
vn -0.9222 0.3499 -0.1649
vn -0.7603 -0.0346 -0.6486
vn -0.9327 -0.0274 -0.3596
vn 0.4902 -0.6661 -0.5621
vn -0.1316 -0.4984 -0.8569
vn 0.0695 -0.7299 -0.6801
vn 0.9286 -0.0447 0.3683
vn 0.3816 -0.3667 -0.8485
vn -0.1394 -0.4926 -0.8590
vn 0.6297 -0.5398 0.5586
vn 0.5901 -0.4491 0.6708
vn 0.5768 0.3574 0.7345
vn 0.3504 0.3404 0.8726
vn 0.0017 -0.3917 -0.9201
vn 0.9273 -0.3252 -0.1855
vn 0.5496 0.7389 0.3899
vn -0.2043 -0.2752 -0.9394
vn -0.8682 0.0742 -0.4907
vn 0.5235 -0.1461 -0.8394
vn 0.1835 -0.1574 -0.9703
vn 0.9747 0.2224 -0.0212
vn 0.8191 -0.0613 -0.5703
vn 0.5436 0.4478 0.7099
vn 0.8985 0.4285 0.0958
vn 0.7577 0.2621 -0.5977
vn 0.3300 0.3940 0.8578
vn 0.2270 0.0344 0.9733
vn -0.1160 0.1517 0.9816
vn 0.1185 0.1957 0.9735
vn 0.4874 0.6646 0.5663
vn -0.0712 -0.3296 0.9414
vn -0.9275 0.0472 0.3707
vn -0.9903 0.0545 -0.1275
vn -0.1438 -0.3823 0.9128
vn 0.7450 0.6615 -0.0859
vn 0.4435 0.8062 -0.3916
vn 0.3579 0.8780 0.3178
vn -0.2157 -0.9107 -0.3523
vn 0.0069 -0.5228 -0.8524
vn -0.0125 -0.3742 -0.9273
vn 0.1741 -0.1121 -0.9783
vn 0.0588 -0.1745 -0.9829
vn 0.0986 -0.8719 0.4796
vn 0.0104 -0.2887 0.9574
vn -0.0177 -0.9948 0.1007
vn -0.2299 -0.8958 -0.3805
vn -0.5998 -0.7076 0.3736
vn -0.7823 -0.6214 0.0434
vn -0.6769 -0.5687 0.4673
vn -0.2162 -0.8757 0.4317
vn 0.1796 0.8142 0.5521
vn -0.0193 -0.1643 -0.9862
vn -0.0072 -0.1392 -0.9902
vn 0.0031 -0.2378 -0.9713
vn -0.1798 -0.2425 -0.9533
vn 0.6977 0.2832 0.6580
vn -0.1432 -0.6850 0.7143
vn 0.8270 -0.5545 -0.0930
vn -0.1286 -0.1850 -0.9743
vn 0.7068 0.5334 -0.4646
vn 0.5842 0.7811 0.2206
vn -0.1713 -0.1458 -0.9744
vn 0.0446 0.0631 0.9970
vn 0.3298 0.1685 0.9289
vn 0.7201 -0.0314 -0.6932
vn 0.1437 -0.0005 -0.9896
vn -0.7503 0.3604 0.5543
vn -0.7431 0.4942 0.4513
vn -0.3065 -0.0907 -0.9475
vn 0.0924 -0.2878 -0.9532
vn 0.4279 -0.2722 -0.8618
vn 0.4900 -0.8705 -0.0454
vn -0.2406 -0.3092 -0.9201
vn 0.4893 -0.3397 0.8032
vn 0.8471 -0.2683 0.4587
vn 0.0853 -0.0029 0.9964
vn -0.5228 -0.3409 0.7813
vn 0.8412 0.0562 0.5378
vn 0.7296 0.1005 0.6764
vn 0.7524 -0.0381 -0.6576
vn 0.9791 0.1885 -0.0761
vn -0.2363 -0.2074 0.9493
vn 0.0660 -0.4524 0.8894
vn -0.7335 -0.4712 -0.4898
vn -0.7716 -0.4563 0.4432
vn -0.2258 -0.1238 -0.9663
vn 0.3718 0.1475 -0.9165
vn 0.9383 0.3400 0.0628
vn 0.7091 0.2718 -0.6506
vn 0.1410 -0.3478 0.9269
vn -0.0514 0.0535 0.9972
vn -0.1019 0.2080 0.9728
vn -0.0535 -0.8842 -0.4640
vn -0.0614 -0.2713 -0.9605
vn -0.3140 0.3720 0.8735
vn -0.5787 0.6602 -0.4787
vn -0.5787 0.6601 -0.4789
vn -0.3640 0.8058 0.4671
vn -0.3811 0.4930 0.7821
vn 0.2243 -0.5888 0.7766
vn 0.1268 -0.3716 -0.9197
vn 0.1877 -0.6016 -0.7764
vn -0.2591 0.4027 -0.8779
vn 0.8376 0.1454 -0.5266
vn 0.8347 0.3005 -0.4614
vn 0.7081 0.5120 -0.4862
vn 0.0731 -0.7744 -0.6285
vn -0.5998 -0.6586 -0.4544
vn -0.3791 -0.6648 -0.6437
vn -0.9440 0.2587 0.2046
vn -0.9785 0.0994 -0.1809
vn 0.2599 0.8814 0.3945
vn -0.2512 0.8290 0.4997
vn 0.0586 0.6522 0.7558
vn -0.4927 -0.1261 0.8610
vn -0.7715 -0.4567 0.4430
vn -0.2527 0.2336 0.9389
vn 0.0411 0.2466 0.9682
vn 0.0022 -0.3275 0.9449
vn -0.3436 -0.5094 0.7890
vn 0.2732 0.6599 0.6999
vn -0.1377 -0.8898 -0.4351
vn -0.4229 -0.9042 0.0604
vn 0.1031 -0.8860 0.4520
vn -0.2231 0.2652 0.9380
vn -0.7414 -0.5233 0.4201
vn 0.3351 -0.2260 -0.9147
vn 0.7916 0.5211 -0.3191
vn 0.6012 0.0080 -0.7991
vn -0.9064 0.0844 0.4139
vn -0.1288 0.2350 -0.9634
vn 0.2388 0.0914 -0.9668
vn 0.2434 -0.4451 -0.8618
vn -0.7333 -0.6119 -0.2963
vn 0.8891 0.3501 -0.2949
vn 0.7887 -0.5997 -0.1351
vn 0.7004 -0.4393 -0.5625
vn -0.8031 0.5792 -0.1397
vn -0.9842 -0.1457 -0.1004
vn -0.8146 -0.1479 -0.5608
vn -0.4560 -0.7371 0.4987
vn 0.2143 -0.9683 0.1286
vn 0.1951 0.8829 -0.4271
vn -0.1511 0.9813 -0.1192
vn 0.1629 -0.9557 -0.2452
vn 0.2795 -0.9110 -0.3032
vn -0.0600 -0.9440 -0.3243
vn -0.2284 0.9694 0.0898
vn -0.5420 0.8386 -0.0546
vn -0.8776 0.4211 0.2292
vn 0.7658 0.6182 0.1774
vn 0.7743 0.3432 0.5316
vn -0.1568 0.6772 0.7189
vn 0.0133 0.5083 0.8611
vn 0.4886 0.3345 0.8058
vn 0.9779 -0.1667 0.1265
vn 0.9512 0.1112 0.2879
vn 0.7351 0.5966 0.3219
vn 0.7045 0.6844 0.1880
vn 0.2091 0.9289 0.3056
vn -0.1342 0.9490 0.2854
vn -0.9835 0.1774 0.0361
vn -0.8823 -0.0869 0.4626
vn -0.8514 0.5240 0.0209
vn -0.7332 -0.0904 -0.6740
vn -0.7813 -0.0924 -0.6173
vn -0.4558 -0.4885 -0.7441
vn 0.2838 -0.9278 -0.2421
vn 0.5095 -0.6599 0.5522
vn 0.3927 -0.2516 0.8846
vn 0.9084 -0.1574 0.3874
vn 0.2965 -0.5925 -0.7490
vn -0.1526 -0.3702 -0.9163
vn 0.2131 -0.1498 -0.9655
vn -0.4268 -0.3260 -0.8436
vn -0.1955 -0.2992 -0.9339
vn 0.9102 0.2568 0.3251
vn 0.8496 0.4653 0.2484
vn 0.6971 0.4428 0.5639
vn 0.4599 0.3776 0.8037
vn -0.1145 0.3652 0.9239
vn -0.0735 0.3156 0.9460
vn -0.4224 0.1531 0.8934
vn 0.2442 -0.2566 -0.9352
vn -0.4339 0.2872 0.8540
vn 0.5403 0.7198 0.4360
vn -0.0941 -0.4570 0.8845
vn 0.0888 0.1297 0.9876
vn -0.4629 0.1678 0.8704
vn 0.0063 0.0589 0.9982
vn -0.6920 -0.1512 -0.7059
vn 0.0145 0.0906 0.9958
vn 0.5230 0.4268 -0.7378
vn 0.7609 0.6172 -0.2001
vn 0.5846 0.5008 0.6383
vn 0.2942 0.5272 0.7972
vn 0.0008 -0.2511 -0.9680
vn -0.1769 -0.6386 -0.7489
vn -0.2639 -0.7833 0.5629
vn -0.5895 -0.8026 0.0913
vn -0.4350 -0.8523 -0.2906
vn -0.2587 -0.6843 0.6818
vn 0.4668 0.8832 -0.0451
vn 0.2445 0.8068 -0.5379
vn 0.2232 0.7461 -0.6274
vn 0.4256 0.8686 -0.2539
vn -0.1432 -0.1975 -0.9698
vn 0.1159 0.0482 -0.9921
vn 0.7508 0.6368 -0.1755
vn 0.8598 0.4005 -0.3169
vn 0.0230 0.0023 0.9997
vn -0.1999 -0.0754 -0.9769
vn 0.2878 -0.0952 -0.9529
vn -0.0939 -0.0610 -0.9937
vn -0.9273 0.3712 0.0477
vn -0.8352 0.1858 -0.5176
vn 0.4770 -0.2929 -0.8287
vn -0.3604 -0.0530 -0.9313
vn 0.9332 -0.2910 -0.2109
vn -0.3494 -0.2208 0.9106
vn -0.5494 -0.8342 -0.0474
vn -0.0754 -0.6680 0.7403
vn -0.1703 -0.4328 0.8852
vn -0.3276 -0.9404 -0.0909
vn 0.8298 0.3145 0.4610
vn 0.8660 0.3660 -0.3407
vn -0.1335 0.3059 0.9426
vn -0.2290 0.1959 -0.9535
vn -0.4861 0.2562 0.8355
vn -0.8776 0.1063 -0.4675
vn 0.2097 -0.4938 0.8439
vn -0.1772 0.1937 -0.9649
vn -0.4526 0.8098 -0.3733
vn 0.4430 -0.4691 -0.7640
vn 0.7341 0.6790 0.0079
vn 0.6982 0.4419 -0.5632
vn 0.5008 0.0605 -0.8634
vn -0.8108 0.4832 0.3305
vn 0.1068 0.8312 0.5457
vn 0.4258 0.8410 0.3338
vn -0.5197 0.6846 0.5111
vn 0.1255 0.7064 0.6966
vn -0.7635 -0.4091 0.4998
vn -0.0896 -0.4494 0.8888
vn -0.4043 -0.9144 -0.0191
vn -0.1072 0.3289 0.9383
vn 0.4984 0.7810 0.3763
vn 0.5773 0.7781 0.2473
vn -0.1380 -0.8894 -0.4358
vn 0.0016 -0.5217 0.8531
vn 0.0615 -0.5334 -0.8436
vn -0.3358 -0.8450 -0.4162
vn 0.8320 0.1150 -0.5427
vn 0.4833 -0.4643 -0.7422
vn 0.8953 0.4451 -0.0179
vn 0.6708 0.4457 0.5928
vn 0.5317 0.7117 0.4591
vn 0.7221 0.6741 0.1550
vn -0.5330 -0.7800 -0.3280
vn -0.3332 -0.7004 -0.6312
vn -0.7792 -0.6104 0.1426
vn 0.6934 0.6662 -0.2744
vn 0.5230 0.8005 0.2928
vn 0.4361 0.2383 -0.8678
vn -0.5554 -0.7665 0.3224
vn 0.0654 -0.6300 -0.7739
vn 0.1387 -0.3730 -0.9174
vn 0.1016 -0.6326 -0.7678
vn -0.1395 -0.8057 -0.5757
vn -0.1861 -0.8874 -0.4218
vn -0.3040 -0.9385 0.1635
vn -0.0991 0.4978 0.8616
vn -0.4684 -0.2848 0.8363
vn -0.1362 0.2516 0.9582
vn -0.9480 -0.2651 -0.1759
vn 0.3625 0.7885 0.4969
vn -0.6270 0.1634 0.7617
vn -0.2557 0.3449 0.9031
vn 0.0564 0.3778 0.9242
vn 0.1134 -0.5480 0.8288
vn -0.4618 -0.8289 0.3156
vn -0.9346 -0.0627 0.3503
vn -0.7046 -0.3067 -0.6398
vn -0.7016 0.3675 0.6105
vn 0.7604 0.3180 0.5663
vn 0.9364 0.0182 -0.3506
vn 0.8925 0.0238 -0.4504
vn 0.2681 -0.2204 -0.9378
vn 0.3901 -0.2925 -0.8731
vn -0.7030 0.4117 0.5799
vn -0.7409 0.4853 0.4643
vn -0.7029 0.4114 0.5802
vn 0.1752 0.5207 -0.8356
vn -0.5940 0.6896 -0.4143
vn -0.2007 0.9785 -0.0464
vn 0.3566 0.7255 0.5886
vn -0.5495 -0.8185 0.1677
vn -0.2066 -0.0592 -0.9766
vn -0.7761 -0.5775 -0.2533
vn -0.9330 -0.1996 -0.2995
vn -0.6680 0.4768 -0.5713
vn -0.5479 0.7136 0.4366
vn -0.5818 0.5098 0.6337
vn -0.5285 0.7203 0.4493
vn -0.7022 0.3263 0.6328
vn -0.8253 0.2585 0.5020
vn -0.6095 0.4970 0.6177
vn -0.8557 0.2526 0.4516
vn -0.7875 0.3961 0.4722
vn -0.7297 0.3931 0.5595
vn -0.9054 0.3960 0.1529
vn -0.8344 -0.1020 0.5416
vn -0.6621 0.4280 0.6152
vn 0.3288 0.7762 0.5379
vn 0.3513 0.9200 0.1739
vn -0.0596 0.3457 0.9365
vn -0.4728 0.7515 -0.4601
vn -0.4115 -0.7621 0.4999
vn -0.3699 0.8986 0.2360
vn 0.0186 -0.4500 0.8928
vn 0.3271 -0.2036 0.9228
vn -0.6668 -0.2549 0.7003
vn 0.2550 -0.0436 -0.9660
vn 0.2442 -0.1621 -0.9561
vn 0.7586 0.1217 -0.6401
vn -0.2141 -0.1852 -0.9591
vn -0.1455 -0.2814 -0.9485
vn 0.6578 0.5725 0.4893
vn 0.9091 0.3363 -0.2457
vn 0.1206 0.4072 0.9053
vn -0.5730 -0.6964 -0.4321
vn -0.8212 -0.4421 0.3608
vn -0.5050 0.0459 0.8619
vn 0.4721 0.6056 0.6406
vn 0.2643 0.2318 0.9362
vn 0.0157 -0.1134 -0.9934
vn 0.1784 0.5468 0.8180
vn 0.4204 0.8875 0.1887
vn -0.0134 -0.8412 0.5405
vn -0.2115 -0.7572 0.6180
vn -0.0501 -0.4362 0.8984
vn -0.2640 -0.5466 -0.7947
vn -0.1806 -0.3167 -0.9312
vn -0.2871 -0.7828 -0.5520
vn -0.1607 -0.7474 -0.6447
vn 0.3803 0.7319 -0.5655
vn 0.4443 0.8727 -0.2025
vn 0.1934 0.3283 -0.9246
vn 0.6251 0.7579 -0.1865
vn 0.6162 0.7735 -0.1485
vn -0.3713 -0.8889 0.2682
vn -0.4037 -0.9131 -0.0568
vn -0.4831 -0.3729 0.7922
vn -0.2625 -0.6465 0.7164
vn -0.4298 0.1725 0.8863
vn 0.2389 0.6856 0.6877
vn 0.0200 0.5756 0.8175
vn -0.6036 0.1669 0.7796
vn 0.0438 0.3709 0.9276
vn 0.2742 0.4284 0.8610
vn 0.2711 -0.2361 0.9332
vn 0.9641 0.1778 0.1973
vn 0.7378 0.3388 0.5838
vn 0.9829 0.1832 0.0167
vn 0.6975 -0.0495 -0.7149
vn -0.4440 -0.3680 -0.8170
vn -0.2968 -0.2976 -0.9074
vn -0.5143 -0.0702 0.8547
vn -0.6104 0.5058 0.6096
vn -0.1566 0.0630 -0.9856
vn 0.2205 0.5838 -0.7814
vn 0.2829 0.3321 0.8998
vn 0.2578 0.2955 0.9199
vn -0.9033 -0.3775 -0.2036
vn -0.7998 -0.3479 -0.4891
vn -0.8961 -0.0032 -0.4438
vn -0.7827 -0.6102 0.1227
vn -0.8888 -0.1779 0.4224
vn -0.9986 -0.0364 -0.0382
vn -0.8322 -0.0632 -0.5509
vn -0.7663 0.4147 0.4908
vn -0.6796 0.5183 0.5191
vn -0.8774 0.0550 0.4767
vn -0.9154 0.3310 0.2291
vn -0.6476 0.3643 0.6693
vn -0.8445 0.4580 0.2776
vn -0.4132 0.2123 0.8855
vn -0.4303 0.6846 0.5884
vn -0.1165 0.7022 0.7024
vn 0.5960 0.4589 0.6590
vn 0.3113 0.2197 0.9246
vn -0.6394 0.7658 0.0685
vn -0.1152 0.8723 -0.4752
vn -0.0570 0.9982 -0.0202
vn 0.0184 -0.5665 0.8239
vn -0.4040 -0.1023 0.9090
vn 0.6080 0.0292 -0.7934
vn -0.3156 -0.6456 -0.6954
vn 0.7216 0.5871 0.3670
vn 0.9256 0.3722 -0.0695
vn -0.7126 -0.6497 -0.2648
vn -0.6212 -0.7667 0.1620
vn -0.8209 -0.5232 -0.2289
vn 0.6276 -0.0057 -0.7785
vn -0.8273 -0.3676 0.4247
vn -0.2519 -0.2483 0.9354
vn 0.3628 0.7882 0.4971
vn -0.0982 -0.9709 0.2185
vn -0.0980 -0.9463 0.3082
vn -0.0578 -0.4895 0.8701
vn 0.1274 -0.7073 0.6953
vn -0.2994 -0.8729 -0.3853
vn 0.5081 0.6886 -0.5175
vn 0.1261 0.3595 -0.9246
vn -0.8127 0.0438 0.5811
vn -0.8522 0.0843 -0.5164
vn -0.4960 0.2013 -0.8446
vn -0.6040 -0.1085 -0.7895
vn 0.2451 -0.2140 -0.9456
vn 0.1565 -0.3447 -0.9256
vn 0.6138 -0.1736 0.7702
vn 0.8444 -0.3477 -0.4074
vn 0.1305 -0.2616 0.9563
vn -0.8852 0.0141 0.4650
vn 0.0175 0.2241 0.9744
vn 0.2844 -0.7573 0.5880
vn 0.8684 -0.4883 -0.0862
vn 0.5953 0.6200 -0.5112
vn 0.4751 0.3430 0.8103
vn 0.7491 0.4026 0.5261
vn 0.6494 0.7066 0.2809
vn -0.4378 0.6378 -0.6336
vn 0.9415 -0.1687 -0.2916
vn 0.7525 -0.0259 -0.6581
vn 0.9780 -0.0691 -0.1967
vn 0.7239 0.2846 -0.6285
vn 0.3478 0.9170 0.1950
vn 0.9567 0.2526 0.1444
vn 0.2057 0.8666 0.4547
vn 0.1807 0.9491 0.2580
vn 0.5580 0.5932 0.5804
vn 0.5622 0.4810 0.6727
vn 0.5603 0.6114 0.5588
vn 0.1775 0.7947 0.5805
vn 0.1422 0.8120 -0.5660
vn 0.5230 0.3420 0.7807
vn 0.6558 0.6204 0.4301
vn 0.6126 0.5029 0.6098
vn 0.4859 0.6486 0.5859
vn 0.5856 0.7845 0.2042
vn 0.2466 0.7176 0.6513
vn 0.5452 0.2686 0.7941
vn -0.4400 0.4086 0.7997
vn -0.6466 0.5695 0.5075
vn -0.1057 0.9423 -0.3175
vn 0.8633 -0.4670 0.1912
vn 0.5068 -0.4860 0.7120
vn 0.1621 -0.5283 0.8334
vn -0.1191 0.2924 -0.9488
vn -0.9326 -0.2130 -0.2915
vn -0.9486 -0.2989 0.1043
vn 0.6638 0.2078 0.7185
vn 0.7591 0.2662 0.5940
vn 0.7080 0.3178 -0.6306
vn 0.1118 0.2132 0.9706
vn -0.2749 -0.1006 0.9562
vn -0.7092 0.4215 0.5651
vn 0.8933 -0.4389 0.0970
vn 0.0343 0.2340 -0.9716
vn 0.5245 -0.8430 -0.1195
vn 0.3239 -0.8667 0.3794
vn 0.6202 -0.6917 0.3701
vn 0.2945 -0.0702 -0.9531
vn -0.7973 0.5960 0.0957
vn 0.5015 -0.6489 -0.5722
vn 0.4807 -0.4223 -0.7685
vn 0.1287 -0.2577 -0.9576
vn -0.2375 0.4798 -0.8446
vn -0.6780 0.4970 -0.5416
vn -0.9185 0.3953 0.0046
vn -0.5873 -0.1277 -0.7992
vn -0.8876 0.2896 -0.3581
vn -0.9849 -0.0455 -0.1669
vn -0.2902 0.3525 0.8897
vn 0.1517 -0.3449 -0.9263
vn 0.4187 -0.5583 -0.7163
vn 0.6117 -0.5730 -0.5454
vn 0.6335 -0.7737 0.0089
vn 0.6564 -0.3013 0.6917
vn 0.8030 -0.3905 0.4501
vn 0.6113 -0.5722 -0.5467
vn -0.4003 0.1641 0.9016
vn -0.6834 0.0350 0.7292
vn 0.1478 -0.6706 0.7269
vn 0.5890 0.4515 0.6703
vn 0.7919 0.0634 0.6073
vn 0.2139 0.9282 0.3044
vn -0.2587 0.5103 -0.8202
vn 0.2314 0.8029 -0.5494
vn 0.6118 0.0471 -0.7896
vn 0.8858 -0.3802 -0.2660
vn 0.8601 0.0520 -0.5075
vn 0.8284 0.4929 -0.2662
vn 0.3940 -0.7751 0.4940
vn 0.5256 0.5791 0.6232
vn 0.4714 0.6503 0.5957
vn 0.4440 0.5347 0.7190
vn 0.6152 0.6311 0.4726
vn 0.6216 0.7813 0.0573
vn 0.5625 0.6177 0.5496
vn 0.9182 0.2715 0.2885
vn -0.0442 -0.1065 0.9933
vn -0.4770 -0.0144 0.8788
vn 0.2099 0.1905 0.9590
vn 0.0172 0.5538 0.8325
vn -0.4099 0.8744 0.2597
vn -0.4587 0.8588 -0.2282
vn -0.0189 0.9165 0.3996
vn 0.2076 0.9674 0.1454
vn 0.5649 -0.5873 0.5796
vn 0.9026 0.0327 0.4292
vn 0.6872 -0.0046 0.7264
vn -0.4362 -0.0454 -0.8987
vn 0.2426 -0.0840 -0.9665
vn 0.3460 0.2241 -0.9111
vn -0.9263 -0.2152 -0.3093
vn -0.6140 -0.0073 0.7893
vn 0.9602 0.2347 0.1514
vn 0.9673 0.2227 0.1210
vn 0.9390 0.3095 -0.1501
vn 0.8418 0.2574 -0.4744
vn 0.2868 0.2773 0.9170
vn -0.1744 -0.2492 0.9526
vn -0.4034 0.1266 0.9062
vn -0.5977 0.2483 0.7623
vn -0.2175 -0.0043 0.9760
vn 0.4295 -0.8829 0.1895
vn 0.2236 -0.6784 0.6998
vn 0.2250 -0.6682 0.7091
vn 0.4393 -0.8942 0.0864
vn 0.3292 -0.2087 -0.9209
vn 0.5125 -0.6008 -0.6136
vn 0.0703 -0.1858 -0.9801
vn -0.6780 0.6476 -0.3478
vn -0.6749 0.6456 -0.3574
vn -0.5948 0.4095 -0.6918
vn -0.4726 -0.8110 -0.3448
vn -0.4839 -0.8737 0.0491
vn -0.4077 -0.6579 -0.6332
vn 0.6061 0.3531 -0.7128
vn -0.6430 -0.5733 0.5079
vn 0.5355 0.2470 -0.8076
vn 0.0825 -0.3621 -0.9285
vn -0.2482 -0.3362 0.9085
vn 0.7936 0.5967 0.1189
vn 0.7547 0.5162 -0.4048
vn -0.0006 0.1561 0.9877
vn -0.0150 0.1754 0.9844
vn -0.5762 -0.5207 0.6300
vn -0.5187 -0.0395 0.8541
vn -0.5618 -0.3144 0.7652
vn -0.1769 0.2293 0.9571
vn -0.0624 0.5078 0.8592
vn 0.1201 0.4984 0.8586
vn -0.2276 -0.4023 0.8868
vn -0.1565 -0.0843 0.9841
vn 0.2931 0.8245 0.4841
vn 0.4209 0.7446 -0.5180
vn 0.0019 0.1146 -0.9934
vn 0.4541 0.8869 -0.0852
vn -0.3775 -0.7647 0.5222
vn -0.4217 -0.7855 -0.4529
vn -0.1895 -0.1250 -0.9739
vn -0.3251 0.5135 0.7942
vn 0.2128 0.4394 -0.8727
vn 0.2176 0.4533 -0.8644
vn 0.0596 0.6799 0.7309
vn -0.5577 0.6620 0.5007
vn -0.5617 0.6498 0.5120
vn -0.9393 0.3259 -0.1071
vn 0.1589 -0.4595 0.8738
vn -0.7071 0.4268 -0.5638
vn 0.0286 0.9547 -0.2962
vn -0.3482 0.8440 -0.4079
vn -0.3868 0.6678 -0.6360
vn -0.8789 0.0363 0.4756
vn -0.3904 0.9093 0.1444
vn -0.6067 0.5832 0.5401
vn -0.9803 -0.1643 0.1094
vn -0.7459 0.1075 0.6573
vn -0.2533 0.6541 0.7127
vn -0.6219 0.6160 0.4835
vn -0.7089 0.5348 0.4598
vn -0.6757 0.6750 0.2962
vn -0.5094 0.7714 0.3814
vn -0.6753 0.5263 0.5167
vn 0.1560 -0.0645 0.9856
vn -0.8619 0.4641 0.2042
vn -0.7461 0.1385 0.6513
vn -0.3458 0.4998 0.7941
vn -0.3395 -0.4952 0.7997
vn -0.4456 -0.6815 0.5805
vn -0.8096 0.0254 -0.5865
vn -0.9166 -0.2430 -0.3175
vn -0.7843 -0.5769 0.2281
vn 0.3638 0.9095 0.2012
vn 0.4382 0.5592 0.7038
vn 0.4509 0.2758 0.8489
vn 0.5158 0.8015 0.3025
vn 0.0153 -0.2105 -0.9775
vn -0.2378 -0.3368 -0.9110
vn -0.4459 -0.6841 -0.5772
vn -0.3130 -0.8231 0.4738
vn 0.3502 0.6205 0.7016
vn 0.4948 0.8689 0.0127
vn 0.4338 -0.2066 0.8770
vn -0.0450 -0.6202 0.7831
vn 0.6448 0.7570 -0.1054
vn 0.7367 0.6403 0.2177
vn 0.6271 0.1612 0.7621
vn 0.7280 0.4413 0.5246
vn 0.7204 0.4314 0.5431
vn 0.2030 0.6471 -0.7349
vn 0.3972 0.7549 -0.5218
vn -0.2257 -0.0163 -0.9741
vn 0.0979 0.1700 -0.9806
vn -0.5917 -0.7412 -0.3170
vn -0.5242 -0.8514 0.0193
vn -0.5946 -0.5721 -0.5649
vn -0.3821 -0.2292 -0.8953
vn -0.6916 -0.6224 0.3665
vn -0.3129 -0.5923 -0.7424
vn -0.6927 -0.7179 0.0686
vn 0.3472 -0.0494 -0.9365
vn 0.3603 -0.0413 -0.9319
vn 0.7742 0.6028 -0.1931
vn 0.3683 0.6244 0.6888
vn -0.5281 -0.7449 -0.4077
vn -0.1738 -0.1158 0.9779
vn 0.1306 0.1530 0.9796
vn -0.3592 0.0441 0.9322
vn 0.3192 0.9214 0.2216
vn -0.4399 -0.8722 -0.2140
vn -0.4031 -0.9099 -0.0982
vn -0.4468 -0.8815 0.1526
vn -0.3674 -0.8070 0.4623
vn -0.2637 -0.3617 -0.8942
vn -0.1558 0.7632 0.6272
vn -0.9554 0.0841 0.2832
vn -0.9536 -0.0830 -0.2893
vn -0.7272 -0.0512 -0.6845
vn -0.0647 -0.6785 0.7318
vn 0.3403 -0.2672 0.9015
vn -0.3178 0.6588 -0.6819
vn -0.6092 0.7470 -0.2662
vn -0.9789 0.1630 0.1235
vn -0.6850 0.5101 0.5202
vn -0.2648 0.8867 0.3790
vn -0.6523 0.5205 0.5510
vn -0.6775 0.5822 0.4494
vn -0.7145 0.5158 0.4726
vn -0.8641 0.5001 0.0573
vn -0.6936 0.4657 0.5496
vn -0.4034 0.8684 0.2885
vn -0.0065 -0.4828 0.8757
vn -0.2193 0.1797 0.9590
vn -0.5503 -0.0643 0.8325
vn -0.8302 -0.4953 -0.2560
vn -0.9038 -0.1533 0.3996
vn -0.9874 0.0633 0.1454
vn 0.5391 0.6092 0.5817
vn -0.1649 0.8880 0.4292
vn -0.0964 0.6804 0.7264
vn -0.2405 -0.3086 -0.9203
vn 0.1683 0.1477 -0.9746
vn 0.5483 0.8146 -0.1894
vn 0.4253 0.7714 -0.4733
vn 0.7536 0.6105 0.2438
vn -0.0958 0.5005 -0.8604
vn -0.2350 0.2535 -0.9383
vn 0.2355 0.3771 -0.8958
vn -0.5225 -0.3212 -0.7898
vn -0.6481 -0.7138 0.2654
vn -0.6947 -0.4473 0.5633
vn -0.7569 -0.6535 0.0106
vn -0.6472 -0.5031 -0.5728
vn -0.3795 -0.7825 -0.4936
vn 0.0948 -0.2259 -0.9695
vn 0.2285 -0.4256 -0.8756
vn 0.8367 0.4189 0.3527
vn -0.0021 -0.0036 1.0000
vn -0.4965 -0.2280 0.8376
vn 0.0384 -0.4198 0.9068
vn -0.0675 -0.8732 0.4826
vn 0.6543 0.0425 0.7550
vn 0.5505 -0.7344 -0.3969
vn -0.6006 0.5159 0.6109
vn -0.8121 0.1329 0.5682
vn -0.7924 0.5979 0.1210
vn -0.9394 0.3428 0.0033
vn -0.4262 0.2257 -0.8760
vn -0.3960 0.6800 -0.6171
vn 0.7582 0.4789 0.4425
vn 0.0071 0.8961 -0.4438
vn -0.5648 0.8223 0.0690
vn -0.9560 -0.2931 -0.0113
vn -0.8647 -0.3209 0.3863
vn -0.9301 0.1887 0.3150
vn -0.5708 -0.7153 -0.4031
vn -0.0769 -0.9584 -0.2750
vn -0.4119 -0.8826 0.2264
vn 0.1507 -0.1303 -0.9800
vn -0.4379 -0.3874 -0.8113
vn 0.5619 0.1621 -0.8112
vn 0.2322 -0.3260 -0.9164
vn 0.0051 0.0614 0.9981
vn -0.5385 -0.3740 0.7551
vn -0.2046 -0.5134 0.8334
vn 0.2830 -0.0316 0.9586
vn 0.7475 -0.6619 0.0565
vn 0.6116 -0.5954 -0.5210
vn 0.4461 0.4500 0.7736
vn -0.5945 0.3687 0.7146
vn -0.2592 0.6815 0.6844
vn -0.8141 0.5502 0.1858
vn -0.8267 0.5590 0.0641
vn -0.7964 0.1941 -0.5728
vn -0.0199 0.7136 -0.7003
vn 0.3661 0.9272 0.0789
vn -0.1347 0.9803 0.1443
vn -0.9194 -0.3859 0.0753
vn -0.9504 0.1350 0.2801
vn -0.9859 0.1083 0.1276
s 0
usemtl Materiale
f 1//1 2//1 44//1
f 2//2 71//2 70//2
f 3//3 77//3 11//3
f 4//4 42//4 3//4
f 10//5 70//5 3//5
f 11//6 77//6 39//6
f 7//7 66//7 79//7
f 7//8 79//8 2//8
f 67//9 66//9 9//9
f 8//10 9//10 10//10
f 10//11 11//11 8//11
f 13//12 35//12 83//12
f 60//13 52//13 14//13
f 14//14 34//14 17//14
f 16//15 15//15 38//15
f 74//16 76//16 21//16
f 20//17 19//17 40//17
f 19//18 82//18 80//18
f 21//19 20//19 74//19
f 57//20 54//20 28//20
f 22//21 28//21 23//21
f 23//22 30//22 76//22
f 24//23 75//23 73//23
f 81//24 35//24 26//24
f 26//25 12//25 27//25
f 25//26 27//26 24//26
f 29//27 55//27 78//27
f 28//28 29//28 31//28
f 76//29 31//29 32//29
f 33//30 19//30 18//30
f 32//31 21//31 76//31
f 32//32 18//32 21//32
f 34//33 83//33 35//33
f 34//34 14//34 52//34
f 36//35 49//35 16//35
f 36//36 38//36 37//36
f 38//37 72//37 37//37
f 36//38 37//38 79//38
f 39//39 77//39 74//39
f 39//40 40//40 6//40
f 42//41 74//41 77//41
f 22//42 23//42 42//42
f 44//43 37//43 72//43
f 47//44 68//44 43//44
f 44//45 79//45 37//45
f 45//46 46//46 48//46
f 45//47 48//47 41//47
f 41//48 4//48 69//48
f 45//49 69//49 68//49
f 59//50 16//50 49//50
f 49//51 36//51 79//51
f 50//52 67//52 80//52
f 49//53 51//53 67//53
f 53//54 83//54 52//54
f 52//55 61//55 53//55
f 61//56 82//56 33//56
f 54//57 56//57 55//57
f 55//58 27//58 12//58
f 12//59 78//59 55//59
f 56//60 75//60 27//60
f 57//61 58//61 56//61
f 56//62 73//62 75//62
f 57//63 22//63 48//63
f 57//64 48//64 58//64
f 59//65 50//65 61//65
f 50//66 80//66 82//66
f 63//67 64//67 33//67
f 62//68 63//68 31//68
f 62//69 29//69 78//69
f 64//70 13//70 83//70
f 7//71 2//71 65//71
f 70//72 10//72 9//72
f 65//73 9//73 66//73
f 51//74 79//74 66//74
f 51//75 66//75 67//75
f 69//76 3//76 70//76
f 68//77 70//77 71//77
f 1//78 71//78 2//78
f 44//79 2//79 79//79
f 71//80 1//80 68//80
f 65//81 2//81 70//81
f 4//82 3//82 69//82
f 3//83 42//83 77//83
f 10//84 3//84 11//84
f 5//85 11//85 39//85
f 5//86 39//86 6//86
f 5//87 6//87 8//87
f 5//88 8//88 11//88
f 8//89 67//89 9//89
f 67//90 8//90 6//90
f 12//91 13//91 78//91
f 12//92 26//92 13//92
f 13//93 26//93 35//93
f 15//94 14//94 17//94
f 16//95 14//95 15//95
f 38//96 15//96 72//96
f 14//97 16//97 60//97
f 20//98 18//98 19//98
f 40//99 19//99 80//99
f 18//100 20//100 21//100
f 22//101 57//101 28//101
f 74//102 23//102 76//102
f 23//103 28//103 30//103
f 25//104 81//104 26//104
f 25//105 26//105 27//105
f 24//106 27//106 75//106
f 29//107 28//107 55//107
f 30//108 28//108 31//108
f 76//109 30//109 31//109
f 63//110 32//110 31//110
f 33//111 32//111 63//111
f 32//112 33//112 18//112
f 19//113 33//113 82//113
f 34//114 52//114 83//114
f 81//115 34//115 35//115
f 34//116 81//116 17//116
f 36//117 16//117 38//117
f 20//118 39//118 74//118
f 39//119 20//119 40//119
f 6//120 40//120 80//120
f 41//121 22//121 42//121
f 42//122 23//122 74//122
f 4//123 41//123 42//123
f 43//124 68//124 1//124
f 43//125 1//125 44//125
f 45//126 47//126 46//126
f 41//127 48//127 22//127
f 45//128 41//128 69//128
f 47//129 45//129 68//129
f 59//130 49//130 50//130
f 51//131 49//131 79//131
f 50//132 49//132 67//132
f 80//133 67//133 6//133
f 64//134 53//134 33//134
f 53//135 64//135 83//135
f 53//136 61//136 33//136
f 52//137 60//137 61//137
f 55//138 56//138 27//138
f 54//139 55//139 28//139
f 54//140 57//140 56//140
f 56//141 58//141 73//141
f 58//142 48//142 46//142
f 60//143 59//143 61//143
f 59//144 60//144 16//144
f 61//145 50//145 82//145
f 62//146 64//146 63//146
f 29//147 62//147 31//147
f 13//148 62//148 78//148
f 64//149 62//149 13//149
f 65//150 70//150 9//150
f 7//151 65//151 66//151
f 68//152 69//152 70//152
f 450//814 452//814 451//814
f 451//815 533//815 536//815
f 452//816 454//816 534//816 519//816
f 455//817 456//817 506//817 457//817
f 453//818 518//818 454//818
f 454//819 518//819 534//819
f 454//820 503//820 453//820
f 453//821 517//821 518//821
f 523//822 517//822 453//822
f 455//823 514//823 517//823
f 508//824 458//824 459//824 509//824
f 457//825 524//825 535//825
f 459//826 535//826 524//826
f 466//827 465//827 467//827 507//827
f 458//828 536//828 533//828
f 509//829 530//829 538//829
f 508//830 509//830 460//830
f 508//831 461//831 510//831
f 462//832 515//832 463//832
f 464//833 526//833 537//833
f 467//834 465//834 538//834 530//834
f 466//835 507//835 531//835
f 473//836 463//836 528//836 539//836
f 504//837 529//837 461//837
f 505//838 468//838 525//838
f 525//839 532//839 505//839
f 470//840 472//840 471//840
f 471//841 525//841 470//841
f 464//842 463//842 473//842
f 483//843 475//843 485//843 484//843
f 464//844 473//844 474//844
f 475//845 521//845 476//845
f 475//846 476//846 485//846
f 477//847 475//847 522//847
f 486//848 511//848 513//848
f 479//849 537//849 526//849
f 485//850 527//850 480//850
f 488//851 487//851 481//851
f 481//852 482//852 488//852
f 499//853 473//853 539//853 482//853
f 487//854 522//854 475//854
f 486//855 513//855 487//855
f 513//856 522//856 487//856
f 486//857 539//857 528//857
f 489//858 479//858 526//858
f 526//859 474//859 489//859
f 479//860 489//860 490//860
f 490//861 485//861 491//861
f 496//866 489//866 497//866
f 489//867 474//867 497//867
f 498//869 473//869 499//869
f 500//870 540//870 487//870 483//870
f 500//872 484//872 501//872
f 484//873 490//873 501//873
f 502//875 503//875 471//875 472//875
f 502//876 453//876 503//876
f 505//877 532//877 503//877 450//877
f 502//878 472//878 531//878
f 531//879 523//879 502//879
f 504//880 536//880 529//880
f 505//881 450//881 451//881
f 458//882 511//882 512//882 459//882
f 507//883 456//883 523//883
f 506//884 530//884 524//884
f 509//885 524//885 530//885
f 510//886 529//886 536//886
f 512//887 528//887 535//887
f 516//888 527//888 534//888 518//888
f 511//889 458//889 513//889
f 533//890 522//890 513//890
f 462//891 464//891 514//891
f 514//892 457//892 515//892
f 515//893 535//893 528//893
f 516//894 478//894 480//894
f 516//895 480//895 527//895
f 516//896 517//896 479//896 478//896
f 516//897 518//897 517//897
f 520//898 519//898 521//898 477//898
f 533//899 520//899 477//899 522//899
f 527//900 521//900 519//900 534//900
f 451//901 452//901 520//901
f 451//902 520//902 533//902
f 523//903 455//903 517//903
f 455//904 523//904 456//904
f 457//905 506//905 524//905
f 514//906 455//906 457//906
f 509//907 459//907 524//907
f 458//908 510//908 536//908
f 458//909 508//909 510//909
f 460//910 509//910 538//910
f 508//911 460//911 461//911
f 510//912 461//912 529//912
f 463//913 515//913 528//913
f 468//914 504//914 469//914
f 469//915 504//915 461//915
f 504//916 468//916 505//916
f 525//917 471//917 532//917
f 531//918 470//918 466//918
f 470//919 531//919 472//919
f 464//920 462//920 463//920
f 474//921 526//921 464//921
f 485//922 476//922 527//922
f 475//923 477//923 521//923
f 486//924 512//924 511//924
f 486//925 528//925 512//925
f 491//926 478//926 479//926
f 478//927 491//927 480//927
f 480//928 491//928 485//928
f 481//929 487//929 540//929
f 488//932 482//932 539//932
f 484//933 485//933 490//933
f 483//934 487//934 475//934
f 488//935 486//935 487//935
f 486//936 488//936 539//936
f 479//937 490//937 491//937
f 496//942 490//942 489//942
f 496//943 501//943 490//943
f 498//945 474//945 473//945
f 498//946 497//946 474//946
f 500//947 483//947 484//947
f 503//949 532//949 471//949
f 502//950 523//950 453//950
f 504//951 451//951 536//951
f 504//952 505//952 451//952
f 531//953 507//953 523//953
f 507//954 506//954 456//954
f 506//955 507//955 467//955
f 454//956 452//956 450//956 503//956
f 506//957 467//957 530//957
f 459//958 512//958 535//958
f 513//959 458//959 533//959
f 517//960 514//960 537//960
f 514//961 464//961 537//961
f 515//962 457//962 535//962
f 462//963 514//963 515//963
f 517//964 537//964 479//964
f 519//965 520//965 452//965
f 521//966 527//966 476//966
f 541//967 616//967 614//967
f 541//968 543//968 542//968
f 543//969 615//969 546//969
f 542//970 546//970 608//970
f 544//971 545//971 591//971
f 544//972 608//972 546//972
f 548//973 547//973 609//973
f 595//974 591//974 545//974
f 609//975 600//975 550//975
f 599//976 614//976 616//976
f 598//977 596//977 550//977
f 557//978 602//978 551//978
f 617//979 610//979 552//979
f 567//980 611//980 574//980 568//980
f 576//981 618//981 557//981
f 557//982 552//982 558//982
f 557//983 559//983 576//983
f 560//984 562//984 606//984
f 570//985 619//985 612//985 575//985
f 566//986 568//986 569//986
f 569//987 577//987 610//987
f 571//988 570//988 575//988 576//988
f 572//989 574//989 562//989 560//989
f 572//991 561//991 607//991 612//991
f 560//992 561//992 572//992
f 576//993 575//993 563//993 564//993
f 574//994 573//994 578//994
f 575//995 565//995 563//995
f 612//996 607//996 565//996
f 587//997 571//997 576//997 559//997
f 564//998 618//998 576//998
f 577//999 568//999 578//999
f 568//1000 574//1000 578//1000
f 579//1001 558//1001 610//1001
f 585//1005 579//1005 584//1005
f 585//1006 558//1006 579//1006
f 587//1007 559//1007 586//1007
f 588//1008 572//1008 612//1008 619//1008
f 589//1009 573//1009 588//1009
f 589//1010 578//1010 573//1010
f 590//1011 591//1011 556//1011
f 592//1012 542//1012 554//1012
f 554//1013 555//1013 592//1013
f 594//1014 548//1014 609//1014
f 609//1015 597//1015 594//1015
f 595//1016 613//1016 591//1016
f 597//1017 550//1017 596//1017
f 598//1018 600//1018 564//1018 563//1018
f 599//1019 565//1019 607//1019 614//1019
f 549//1020 547//1020 593//1020 595//1020
f 567//1021 604//1021 615//1021 611//1021
f 552//1022 549//1022 617//1022
f 601//1023 551//1023 602//1023
f 602//1024 547//1024 601//1024
f 566//1025 604//1025 567//1025
f 561//1026 605//1026 614//1026 607//1026
f 603//1027 617//1027 549//1027
f 566//1028 569//1028 603//1028
f 603//1029 546//1029 604//1029
f 606//1030 611//1030 615//1030
f 605//1031 606//1031 543//1031
f 605//1032 541//1032 614//1032
f 542//1033 543//1033 546//1033
f 541//1034 605//1034 543//1034
f 592//1035 541//1035 542//1035
f 541//1036 592//1036 616//1036
f 603//1037 544//1037 546//1037
f 544//1038 603//1038 545//1038
f 545//1039 603//1039 549//1039
f 547//1040 549//1040 601//1040
f 609//1041 547//1041 600//1041
f 547//1042 548//1042 593//1042
f 549//1043 595//1043 545//1043
f 598//1044 599//1044 596//1044
f 596//1045 599//1045 616//1045
f 557//1046 618//1046 602//1046
f 558//1047 552//1047 610//1047
f 557//1048 551//1048 552//1048
f 559//1049 557//1049 558//1049
f 606//1050 562//1050 611//1050
f 611//1051 562//1051 574//1051
f 568//1052 566//1052 567//1052
f 617//1053 569//1053 610//1053
f 569//1054 568//1054 577//1054
f 574//1056 572//1056 573//1056
f 575//1057 612//1057 565//1057
f 577//1058 579//1058 610//1058
f 579//1059 577//1059 578//1059
f 584//1064 578//1064 589//1064
f 584//1065 579//1065 578//1065
f 586//1068 558//1068 585//1068
f 586//1069 559//1069 558//1069
f 588//1072 573//1072 572//1072
f 544//1075 590//1075 608//1075
f 590//1076 544//1076 591//1076
f 556//1077 591//1077 613//1077
f 554//1078 542//1078 608//1078
f 592//1079 555//1079 616//1079
f 594//1080 593//1080 548//1080
f 593//1081 594//1081 553//1081
f 593//1082 553//1082 595//1082
f 595//1083 553//1083 613//1083
f 597//1084 609//1084 550//1084
f 600//1085 618//1085 564//1085
f 599//1086 598//1086 565//1086
f 598//1087 563//1087 565//1087
f 600//1088 598//1088 550//1088
f 601//1089 552//1089 551//1089
f 600//1090 602//1090 618//1090
f 602//1091 600//1091 547//1091
f 552//1092 601//1092 549//1092
f 566//1093 603//1093 604//1093
f 603//1094 569//1094 617//1094
f 604//1095 546//1095 615//1095
f 560//1096 605//1096 561//1096
f 605//1097 560//1097 606//1097
f 543//1098 606//1098 615//1098
usemtl Materiale.001
f 620//1099 679//1099 692//1099
f 692//1100 629//1100 711//1100
f 620//1101 691//1101 621//1101
f 675//1102 690//1102 700//1102 710//1102
f 679//1103 702//1103 629//1103
f 622//1104 690//1104 675//1104
f 624//1105 623//1105 621//1105 699//1105
f 628//1106 685//1106 686//1106 629//1106
f 627//1107 688//1107 625//1107
f 710//1108 700//1108 627//1108
f 697//1109 701//1109 628//1109
f 682//1110 630//1110 631//1110 684//1110
f 686//1111 711//1111 629//1111
f 628//1112 629//1112 683//1112
f 683//1113 629//1113 702//1113
f 628//1114 682//1114 684//1114
f 628//1115 684//1115 697//1115
f 684//1116 631//1116 705//1116 697//1116
f 630//1117 683//1117 702//1117 693//1117
f 682//1118 683//1118 630//1118
f 705//1119 635//1119 681//1119 697//1119
f 636//1120 706//1120 710//1120
f 639//1121 674//1121 675//1121 640//1121
f 680//1122 635//1122 636//1122
f 679//1123 693//1123 702//1123
f 637//1124 678//1124 698//1124
f 639//1125 676//1125 674//1125
f 641//1126 659//1126 707//1126 634//1126
f 640//1127 675//1127 706//1127
f 675//1128 710//1128 706//1128
f 641//1129 634//1129 632//1129
f 642//1130 633//1130 704//1130 695//1130
f 641//1131 633//1131 642//1131
f 659//1132 641//1132 643//1132 660//1132
f 647//1133 685//1133 687//1133 659//1133
f 650//1134 694//1134 657//1134 661//1134
f 652//1135 709//1135 696//1135 658//1135
f 649//1136 661//1136 651//1136
f 653//1137 652//1137 658//1137 660//1137
f 654//1138 645//1138 703//1138 696//1138
f 656//1140 657//1140 654//1140
f 644//1141 645//1141 654//1141
f 647//1142 696//1142 703//1142 648//1142
f 654//1143 655//1143 656//1143
f 651//1144 663//1144 695//1144 704//1144
f 658//1145 647//1145 659//1145
f 659//1146 660//1146 658//1146
f 647//1147 658//1147 696//1147
f 662//1148 661//1148 657//1148 708//1148
f 668//1149 662//1149 708//1149 673//1149
f 669//1153 663//1153 668//1153
f 669//1154 695//1154 663//1154
f 671//1155 653//1155 660//1155 643//1155
f 671//1156 643//1156 670//1156
f 670//1157 642//1157 695//1157 669//1157
f 672//1158 655//1158 696//1158 709//1158
f 673//1159 656//1159 672//1159
f 673//1160 708//1160 656//1160
f 681//1161 680//1161 625//1161 626//1161
f 674//1162 676//1162 623//1162
f 676//1163 698//1163 621//1163
f 678//1164 621//1164 698//1164
f 686//1165 648//1165 703//1165 711//1165
f 681//1166 626//1166 697//1166
f 680//1167 636//1167 627//1167
f 687//1168 701//1168 707//1168
f 685//1169 648//1169 686//1169
f 688//1170 700//1170 704//1170 633//1170
f 688//1171 633//1171 632//1171
f 626//1172 634//1172 707//1172 701//1172
f 625//1173 632//1173 626//1173
f 632//1174 634//1174 626//1174
f 689//1175 649//1175 651//1175 690//1175
f 690//1176 651//1176 704//1176 700//1176
f 689//1177 624//1177 699//1177 694//1177
f 622//1178 624//1178 689//1178
f 644//1179 620//1179 692//1179 645//1179
f 645//1180 692//1180 711//1180 703//1180
f 620//1181 644//1181 646//1181 691//1181
f 691//1182 694//1182 699//1182
f 692//1183 679//1183 629//1183
f 621//1184 691//1184 699//1184
f 620//1185 677//1185 679//1185
f 623//1186 622//1186 675//1186
f 622//1187 623//1187 624//1187
f 627//1188 700//1188 688//1188
f 697//1189 626//1189 701//1189
f 677//1190 620//1190 621//1190 678//1190
f 685//1191 628//1191 687//1191
f 628//1192 701//1192 687//1192
f 682//1193 628//1193 683//1193
f 635//1194 680//1194 681//1194
f 637//1195 677//1195 678//1195
f 677//1196 637//1196 638//1196
f 679//1197 677//1197 638//1197
f 679//1198 638//1198 693//1198
f 639//1199 698//1199 676//1199
f 641//1200 632//1200 633//1200
f 643//1201 641//1201 642//1201
f 646//1202 644//1202 657//1202
f 694//1203 646//1203 657//1203
f 685//1204 647//1204 648//1204
f 659//1205 687//1205 707//1205
f 649//1206 650//1206 661//1206
f 654//1208 657//1208 644//1208
f 656//1209 708//1209 657//1209
f 655//1210 654//1210 696//1210
f 651//1211 661//1211 662//1211
f 663//1212 651//1212 662//1212
f 668//1217 663//1217 662//1217
f 670//1220 643//1220 642//1220
f 672//1223 656//1223 655//1223
f 623//1226 676//1226 621//1226
f 674//1227 623//1227 675//1227
f 680//1228 627//1228 625//1228
f 627//1229 636//1229 710//1229
f 625//1230 688//1230 632//1230
f 649//1231 689//1231 650//1231
f 650//1232 689//1232 694//1232
f 622//1233 689//1233 690//1233
f 691//1234 646//1234 694//1234
f 712//1235 714//1235 713//1235
f 714//1236 741//1236 713//1236
f 713//1237 715//1237 712//1237
f 715//1238 740//1238 718//1238
f 712//1239 718//1239 719//1239
f 716//1240 718//1240 733//1240
f 717//1241 719//1241 718//1241
f 720//1242 736//1242 723//1242
f 723//1243 728//1243 727//1243
f 721//1244 727//1244 741//1244
f 721//1245 726//1245 722//1245
f 714//1246 725//1246 726//1246
f 723//1247 722//1247 720//1247
f 724//1248 725//1248 719//1248
f 728//1249 738//1249 729//1249
f 727//1250 729//1250 741//1250
f 730//1251 738//1251 731//1251
f 734//1252 740//1252 730//1252
f 732//1253 733//1253 734//1253
f 734//1254 731//1254 732//1254
f 737//1255 723//1255 736//1255
f 742//1256 731//1256 735//1256
f 735//1257 731//1257 738//1257
f 739//1258 740//1258 715//1258
f 739//1259 713//1259 741//1259
f 730//1260 741//1260 729//1260
f 712//1261 715//1261 718//1261
f 725//1262 712//1262 719//1262
f 712//1263 725//1263 714//1263
f 732//1264 716//1264 733//1264
f 733//1265 718//1265 740//1265
f 716//1266 732//1266 742//1266
f 716//1267 717//1267 718//1267
f 721//1268 723//1268 727//1268
f 714//1269 721//1269 741//1269
f 721//1270 714//1270 726//1270
f 723//1271 721//1271 722//1271
f 725//1272 724//1272 726//1272
f 717//1273 724//1273 719//1273
f 737//1274 728//1274 723//1274
f 727//1275 728//1275 729//1275
f 728//1276 737//1276 738//1276
f 730//1277 729//1277 738//1277
f 734//1278 730//1278 731//1278
f 734//1279 733//1279 740//1279
f 732//1280 731//1280 742//1280
f 735//1281 737//1281 736//1281
f 737//1282 735//1282 738//1282
f 713//1283 739//1283 715//1283
f 730//1284 739//1284 741//1284
f 739//1285 730//1285 740//1285
usemtl Materiale.004
f 90//153 89//153 114//153 117//153
f 84//154 85//154 86//154
f 84//155 86//155 255//155
f 85//156 100//156 86//156
f 103//157 88//157 105//157
f 103//158 102//158 91//158
f 87//159 91//159 92//159
f 88//160 87//160 85//160
f 87//161 97//161 100//161
f 89//162 91//162 102//162
f 102//163 104//163 89//163
f 89//164 90//164 92//164 91//164
f 98//165 110//165 94//165 86//165
f 93//166 84//166 255//166
f 96//167 257//167 93//167
f 255//168 86//168 94//168
f 95//169 94//169 128//169
f 93//170 95//170 96//170
f 97//171 109//171 98//171
f 98//172 100//172 97//172
f 99//173 97//173 92//173
f 99//174 117//174 109//174
f 101//175 104//175 102//175
f 101//176 102//176 103//176
f 103//177 105//177 101//177
f 101//178 105//178 257//178
f 107//179 225//179 223//179
f 106//180 108//180 128//180
f 109//181 110//181 98//181
f 107//182 109//182 117//182 116//182
f 110//183 106//183 128//183 94//183
f 96//184 112//184 111//184 257//184
f 113//185 104//185 256//185
f 123//186 121//186 122//186 124//186
f 111//187 112//187 126//187
f 114//188 116//188 117//188
f 115//189 113//189 126//189
f 119//190 118//190 229//190
f 119//191 120//191 118//191
f 118//192 151//192 153//192
f 121//193 107//193 116//193
f 121//194 123//194 258//194 107//194
f 124//195 122//195 266//195
f 129//196 125//196 112//196 96//196
f 112//197 125//197 266//197 126//197
f 129//198 231//198 125//198
f 132//199 130//199 131//199 133//199
f 127//200 96//200 95//200
f 129//201 96//201 127//201
f 128//202 227//202 127//202
f 128//203 108//203 227//203
f 127//204 227//204 129//204
f 132//205 120//205 130//205
f 139//206 138//206 264//206 153//206
f 135//207 229//207 228//207
f 134//208 270//208 146//208
f 134//209 146//209 130//209
f 135//210 130//210 120//210
f 136//211 146//211 270//211
f 136//212 224//212 137//212
f 224//213 271//213 140//213
f 137//214 140//214 141//214
f 137//215 141//215 259//215
f 137//216 146//216 136//216
f 138//217 140//217 265//217
f 265//218 235//218 138//218
f 138//219 235//219 264//219
f 138//220 139//220 141//220 140//220
f 146//221 145//221 143//221 144//221
f 139//222 148//222 141//222
f 148//223 259//223 141//223
f 145//224 137//224 259//224
f 145//225 168//225 143//225
f 159//226 151//226 132//226 133//226
f 147//227 259//227 148//227
f 148//228 149//228 147//228
f 139//229 153//229 149//229
f 147//230 149//230 152//230
f 147//231 150//231 259//231
f 151//232 152//232 153//232
f 159//233 161//233 188//233 155//233
f 263//234 194//234 158//234
f 154//235 158//235 155//235
f 155//236 262//236 154//236
f 188//237 262//237 155//237
f 157//238 261//238 158//238
f 158//239 194//239 156//239
f 159//240 158//240 152//240
f 158//241 261//241 152//241
f 159//242 133//242 161//242
f 159//243 155//243 158//243
f 131//244 160//244 161//244 133//244
f 160//245 131//245 144//245 267//245
f 261//246 163//246 164//246 152//246
f 160//247 188//247 161//247
f 157//248 156//248 162//248
f 163//249 166//249 164//249
f 166//250 150//250 164//250
f 163//251 261//251 157//251 165//251
f 186//252 190//252 191//252 187//252
f 163//253 165//253 167//253
f 170//254 268//254 143//254
f 168//255 150//255 166//255
f 168//256 167//256 176//256
f 166//257 167//257 168//257
f 169//258 194//258 260//258
f 260//259 268//259 170//259
f 170//260 171//260 169//260
f 185//261 162//261 173//261
f 172//262 173//262 175//262
f 173//263 174//263 175//263
f 175//264 171//264 176//264
f 178//265 167//265 165//265
f 165//266 157//266 179//266
f 180//267 181//267 184//267
f 181//268 172//268 175//268
f 181//269 180//269 172//269
f 182//270 177//270 178//270
f 182//271 181//271 177//271
f 178//272 179//272 182//272
f 182//273 183//273 184//273
f 182//274 184//274 181//274
f 183//275 179//275 162//275
f 185//276 180//276 184//276
f 192//277 263//277 269//277 197//277
f 190//278 186//278 203//278
f 160//279 267//279 189//279
f 188//280 215//280 262//280
f 142//281 189//281 267//281
f 142//282 143//282 191//282
f 193//283 191//283 268//283
f 192//284 193//284 194//284
f 192//285 194//285 263//285
f 193//286 260//286 194//286
f 192//287 197//287 198//287 193//287
f 200//288 202//288 204//288 203//288
f 198//289 208//289 187//289
f 199//290 154//290 262//290
f 201//291 210//291 202//291
f 201//292 200//292 206//292 196//292
f 205//293 196//293 206//293
f 206//294 200//294 203//294
f 203//295 207//295 206//295
f 123//296 221//296 240//296 258//296
f 207//297 186//297 187//297
f 187//298 205//298 207//298
f 208//299 269//299 209//299
f 208//300 209//300 205//300
f 210//301 212//301 219//301
f 210//302 219//302 216//302
f 199//303 262//303 212//303
f 220//304 189//304 190//304
f 190//305 203//305 213//305
f 213//306 203//306 204//306
f 214//307 215//307 189//307
f 215//308 212//308 262//308
f 252//309 211//309 216//309
f 202//310 210//310 211//310
f 217//311 202//311 211//311
f 217//312 213//312 204//312
f 220//313 218//313 254//313
f 254//314 216//314 219//314
f 221//315 123//315 124//315 222//315
f 221//316 247//316 241//316 240//316
f 124//317 266//317 222//317
f 221//318 222//318 245//318
f 226//319 228//319 227//319 108//319
f 226//320 108//320 223//320
f 224//321 239//321 271//321
f 224//322 226//322 223//322
f 229//323 129//323 227//323
f 249//324 253//324 251//324 252//324
f 227//325 228//325 229//325
f 125//326 230//326 266//326
f 230//327 237//327 266//327
f 230//328 125//328 231//328
f 231//329 118//329 230//329
f 230//330 118//330 264//330
f 232//331 243//331 242//331
f 234//332 242//332 244//332
f 234//333 235//333 233//333
f 234//334 264//334 235//334
f 233//335 271//335 238//335
f 233//336 232//336 234//336
f 222//337 266//337 237//337
f 239//338 225//338 240//338
f 225//339 258//339 240//339
f 238//340 240//340 241//340
f 241//341 232//341 238//341
f 243//342 246//342 242//342
f 244//343 236//343 234//343
f 245//344 244//344 248//344
f 247//345 246//345 241//345
f 247//346 245//346 248//346
f 250//347 254//347 218//347 253//347
f 251//348 217//348 211//348
f 218//349 217//349 251//349
f 218//350 251//350 253//350
f 254//351 250//351 216//351
f 85//352 84//352 88//352
f 103//353 87//353 88//353
f 87//354 103//354 91//354
f 87//355 92//355 97//355
f 85//356 87//356 100//356
f 89//357 104//357 114//357
f 99//358 90//358 117//358
f 90//359 99//359 92//359
f 93//360 257//360 84//360
f 93//361 255//361 94//361
f 93//362 94//362 95//362
f 100//363 98//363 86//363
f 97//364 99//364 109//364
f 101//365 256//365 104//365
f 256//366 101//366 111//366
f 111//367 101//367 257//367
f 223//368 106//368 107//368
f 225//369 107//369 258//369
f 106//370 223//370 108//370
f 106//371 109//371 107//371
f 109//372 106//372 110//372
f 111//373 113//373 256//373
f 113//374 111//374 126//374
f 113//375 114//375 104//375
f 114//376 113//376 115//376
f 114//377 115//377 116//377
f 118//378 120//378 151//378
f 264//379 118//379 153//379
f 115//380 121//380 116//380
f 121//381 115//381 122//381
f 122//382 115//382 126//382
f 126//383 266//383 122//383
f 128//384 127//384 95//384
f 144//385 130//385 146//385
f 130//386 144//386 131//386
f 134//387 135//387 228//387
f 135//388 119//388 229//388
f 134//389 228//389 270//389
f 119//390 135//390 120//390
f 135//391 134//391 130//391
f 224//392 136//392 226//392
f 226//393 136//393 270//393
f 137//394 224//394 140//394
f 265//395 140//395 271//395
f 143//396 142//396 144//396
f 144//397 142//397 267//397
f 145//398 146//398 137//398
f 150//399 145//399 259//399
f 145//400 150//400 168//400
f 148//401 139//401 149//401
f 147//402 152//402 164//402
f 147//403 164//403 150//403
f 153//404 152//404 149//404
f 132//405 151//405 120//405
f 151//406 159//406 152//406
f 154//407 263//407 158//407
f 263//408 154//408 269//408
f 157//409 158//409 156//409
f 162//410 156//410 173//410
f 157//411 162//411 179//411
f 166//412 163//412 167//412
f 176//413 170//413 143//413
f 143//414 168//414 176//414
f 170//415 176//415 171//415
f 169//416 156//416 194//416
f 169//417 260//417 170//417
f 169//418 171//418 174//418
f 169//419 174//419 156//419
f 172//420 185//420 173//420
f 185//421 172//421 180//421
f 174//422 173//422 156//422
f 175//423 174//423 171//423
f 177//424 175//424 176//424
f 178//425 176//425 167//425
f 176//426 178//426 177//426
f 178//427 165//427 179//427
f 88//428 84//428 257//428 105//428
f 177//429 181//429 175//429
f 183//430 182//430 179//430
f 185//431 183//431 162//431
f 183//432 185//432 184//432
f 187//433 191//433 198//433
f 215//434 160//434 189//434
f 160//435 215//435 188//435
f 142//436 190//436 189//436
f 190//437 142//437 191//437
f 191//438 143//438 268//438
f 193//439 268//439 260//439
f 193//440 198//440 191//440
f 195//441 209//441 269//441
f 196//442 195//442 201//442
f 195//443 196//443 209//443
f 208//444 197//444 269//444
f 197//445 208//445 198//445
f 195//446 199//446 201//446
f 199//447 195//447 154//447
f 154//448 195//448 269//448
f 200//449 201//449 202//449
f 205//450 209//450 196//450
f 205//451 206//451 207//451
f 207//452 203//452 186//452
f 187//453 208//453 205//453
f 210//454 216//454 211//454
f 210//455 201//455 199//455
f 210//456 199//456 212//456
f 213//457 220//457 190//457
f 220//458 214//458 189//458
f 249//459 216//459 250//459
f 252//460 216//460 249//460
f 217//461 204//461 202//461
f 217//462 218//462 213//462
f 218//463 220//463 213//463
f 214//464 219//464 215//464
f 215//465 219//465 212//465
f 220//466 219//466 214//466
f 219//467 220//467 254//467
f 247//468 221//468 245//468
f 224//469 223//469 225//469
f 239//470 224//470 225//470
f 229//471 231//471 129//471
f 228//472 226//472 270//472
f 231//473 229//473 118//473
f 230//474 264//474 237//474
f 234//475 232//475 242//475
f 233//476 235//476 265//476
f 233//477 265//477 271//477
f 233//478 238//478 232//478
f 236//479 222//479 237//479
f 234//480 236//480 264//480
f 236//481 237//481 264//481
f 222//482 236//482 245//482
f 239//483 238//483 271//483
f 238//484 239//484 240//484
f 248//485 242//485 246//485
f 242//486 248//486 244//486
f 244//487 245//487 236//487
f 243//488 241//488 246//488
f 241//489 243//489 232//489
f 247//490 248//490 246//490
f 249//491 250//491 253//491
f 252//492 251//492 211//492
f 278//493 277//493 302//493 304//493
f 272//494 273//494 274//494
f 272//495 274//495 433//495
f 273//496 289//496 274//496
f 292//497 276//497 294//497
f 292//498 291//498 279//498
f 275//499 279//499 280//499
f 276//500 275//500 273//500
f 275//501 285//501 289//501
f 277//502 279//502 291//502
f 291//503 293//503 277//503
f 277//504 278//504 280//504 279//504
f 437//505 295//505 406//505 411//505
f 281//506 272//506 433//506
f 284//507 301//507 281//507
f 433//508 274//508 282//508
f 283//509 282//509 437//509
f 281//510 283//510 284//510
f 285//511 288//511 286//511
f 286//512 289//512 285//512
f 287//513 285//513 280//513
f 287//514 304//514 288//514
f 290//515 293//515 291//515
f 290//516 291//516 292//516
f 292//517 294//517 290//517
f 290//518 294//518 301//518
f 295//519 297//519 296//519
f 297//520 305//520 296//520
f 296//521 407//521 406//521
f 288//522 297//522 298//522 286//522
f 286//523 298//523 282//523 274//523
f 297//524 288//524 304//524 305//524
f 298//525 295//525 437//525 282//525
f 299//526 435//526 293//526 434//526
f 302//527 303//527 305//527 304//527
f 299//528 434//528 301//528
f 299//529 314//529 435//529
f 299//530 300//530 314//530
f 303//531 435//531 314//531
f 310//532 308//532 309//532 311//532
f 307//533 413//533 412//533
f 306//534 440//534 335//534
f 308//535 296//535 305//535
f 309//536 314//536 315//536
f 308//537 310//537 436//537 296//537
f 311//538 315//538 446//538
f 318//539 313//539 300//539 284//539
f 316//540 317//540 284//540 283//540
f 312//541 315//541 314//541
f 319//542 336//542 440//542 438//542
f 318//543 284//543 317//543
f 316//544 283//544 437//544
f 316//545 411//545 410//545
f 437//546 411//546 316//546
f 316//547 410//547 318//547
f 319//548 447//548 443//548 344//548
f 319//549 438//549 447//549
f 319//550 344//550 342//550
f 307//551 320//551 438//551 440//551
f 342//552 343//552 336//552
f 307//553 412//553 410//553
f 320//554 410//554 449//554
f 320//555 447//555 438//555
f 322//556 321//556 326//556 325//556
f 321//557 328//557 449//557
f 408//558 409//558 321//558
f 331//559 325//559 323//559 335//559
f 322//560 325//560 439//560
f 322//561 328//561 321//561
f 323//562 326//562 324//562
f 324//563 326//563 409//563
f 324//564 306//564 323//564
f 417//565 414//565 306//565
f 376//566 327//566 350//566 377//566
f 331//567 439//567 325//567
f 346//568 347//568 349//568 348//568
f 327//569 376//569 443//569
f 376//570 341//570 443//570
f 329//571 322//571 439//571
f 329//572 334//572 327//572
f 331//573 330//573 439//573
f 330//574 329//574 439//574
f 331//575 335//575 332//575
f 330//576 333//576 334//576
f 330//577 334//577 329//577
f 337//578 349//578 332//578
f 384//579 379//579 339//579
f 339//580 445//580 384//580
f 338//581 337//581 339//581
f 348//582 349//582 338//582
f 338//583 354//583 355//583
f 341//584 343//584 342//584
f 342//585 344//585 341//585
f 338//586 355//586 345//586
f 347//587 334//587 333//587
f 351//588 346//588 362//588 360//588
f 346//589 348//589 362//589
f 359//590 358//590 355//590 352//590
f 353//591 442//591 350//591
f 350//592 327//592 351//592
f 327//593 334//593 351//593
f 351//594 360//594 352//594
f 353//595 354//595 441//595
f 354//596 340//596 441//596
f 441//597 442//597 353//597
f 353//598 352//598 355//598
f 356//599 345//599 444//599
f 356//600 357//600 365//600
f 356//601 365//601 370//601
f 358//602 345//602 355//602
f 361//603 362//603 338//603 448//603
f 359//604 352//604 360//604
f 360//605 363//605 359//605
f 359//606 363//606 444//606
f 363//607 366//607 357//607 444//607
f 364//608 367//608 370//608
f 364//609 370//609 365//609
f 379//610 378//610 380//610 377//610
f 364//611 365//611 357//611
f 367//612 366//612 368//612
f 368//613 448//613 369//613
f 370//614 345//614 356//614
f 369//615 448//615 345//615
f 369//616 370//616 367//616
f 372//617 383//617 373//617
f 373//618 392//618 371//618
f 445//619 343//619 374//619
f 374//620 375//620 398//620
f 376//621 375//621 341//621
f 376//622 377//622 380//622
f 376//623 380//623 372//623
f 441//624 379//624 377//624 442//624
f 396//625 371//625 387//625 386//625
f 441//626 340//626 379//626
f 378//627 384//627 383//627
f 381//628 382//628 385//628
f 382//629 390//629 389//629
f 385//630 383//630 384//630
f 383//631 385//631 393//631
f 393//632 373//632 383//632
f 393//633 392//633 373//633
f 381//628 385//628 384//628
f 386//634 390//634 381//634
f 386//635 395//635 401//635
f 387//636 391//636 389//636
f 387//637 389//637 390//637
f 391//638 387//638 371//638
f 391//639 371//639 392//639
f 393//640 385//640 382//640
f 392//641 388//641 391//641
f 395//642 384//642 394//642
f 395//643 381//643 384//643
f 384//644 445//644 402//644
f 408//645 406//645 407//645 409//645
f 386//646 401//646 396//646
f 397//647 445//647 374//647
f 374//648 398//648 397//648
f 398//649 396//649 397//649
f 397//650 402//650 445//650
f 394//651 402//651 403//651
f 401//652 395//652 394//652
f 400//653 396//653 401//653
f 401//654 399//654 400//654
f 403//655 397//655 396//655
f 404//656 405//656 310//656
f 310//657 311//657 404//657
f 404//658 446//658 429//658
f 422//659 407//659 436//659 405//659
f 406//660 408//660 411//660
f 408//661 449//661 411//661
f 412//662 318//662 410//662
f 411//663 449//663 410//663
f 312//664 421//664 315//664
f 312//665 313//665 413//665
f 413//666 306//666 414//666
f 415//667 418//667 420//667
f 415//668 427//668 426//668
f 418//669 426//669 428//669
f 419//670 414//670 417//670
f 417//671 409//671 416//671
f 416//672 420//672 418//672
f 419//673 421//673 414//673
f 409//674 407//674 422//674
f 423//675 420//675 424//675
f 425//676 426//676 427//676
f 428//677 419//677 418//677
f 423//678 405//678 432//678
f 430//679 432//679 405//679
f 430//680 429//680 431//680
f 431//681 432//681 430//681
f 273//682 272//682 276//682
f 292//683 275//683 276//683
f 275//684 292//684 279//684
f 275//685 280//685 285//685
f 273//686 275//686 289//686
f 277//687 293//687 302//687
f 287//688 278//688 304//688
f 278//689 287//689 280//689
f 281//690 301//690 272//690
f 281//691 433//691 282//691
f 281//692 282//692 283//692
f 289//693 286//693 274//693
f 285//694 287//694 288//694
f 290//695 434//695 293//695
f 434//696 290//696 301//696
f 295//697 296//697 406//697
f 296//698 436//698 407//698
f 297//699 295//699 298//699
f 300//700 299//700 301//700
f 284//701 300//701 301//701
f 276//702 272//702 301//702 294//702
f 435//703 302//703 293//703
f 302//704 435//704 303//704
f 307//705 306//705 413//705
f 306//706 307//706 440//706
f 323//707 306//707 335//707
f 303//708 308//708 305//708
f 308//709 303//709 309//709
f 309//710 303//710 314//710
f 311//711 309//711 315//711
f 300//712 312//712 314//712
f 313//713 312//713 300//713
f 317//714 316//714 318//714
f 319//715 342//715 336//715
f 320//716 307//716 410//716
f 320//717 449//717 328//717
f 320//718 328//718 447//718
f 408//719 321//719 449//719
f 321//720 409//720 326//720
f 417//721 324//721 409//721
f 324//722 417//722 306//722
f 323//723 325//723 326//723
f 377//724 350//724 442//724
f 329//725 328//725 322//725
f 328//726 329//726 327//726
f 447//727 328//727 443//727
f 328//728 327//728 443//728
f 330//729 331//729 332//729
f 330//730 332//730 333//730
f 333//731 332//731 349//731
f 335//732 337//732 332//732
f 335//733 440//733 336//733
f 337//734 335//734 336//734
f 337//735 336//735 343//735
f 384//736 378//736 379//736
f 445//737 339//737 343//737
f 338//738 349//738 337//738
f 338//739 340//739 354//739
f 338//740 339//740 340//740
f 339//741 337//741 343//741
f 340//742 339//742 379//742
f 341//743 344//743 443//743
f 448//744 338//744 345//744
f 346//745 351//745 347//745
f 347//746 351//746 334//746
f 349//747 347//747 333//747
f 362//748 348//748 338//748
f 350//749 351//749 352//749
f 353//750 350//750 352//750
f 353//751 355//751 354//751
f 357//752 356//752 444//752
f 358//753 359//753 444//753
f 358//754 444//754 345//754
f 368//755 361//755 448//755
f 362//756 361//756 363//756
f 360//757 362//757 363//757
f 361//758 368//758 363//758
f 366//759 364//759 357//759
f 366//760 363//760 368//760
f 369//761 367//761 368//761
f 366//762 367//762 364//762
f 370//763 369//763 345//763
f 375//764 372//764 398//764
f 371//765 372//765 373//765
f 396//766 372//766 371//766
f 341//767 374//767 343//767
f 374//768 341//768 375//768
f 372//769 380//769 383//769
f 376//770 372//770 375//770
f 380//771 378//771 383//771
f 382//772 381//772 390//772
f 386//773 387//773 390//773
f 386//774 381//774 395//774
f 388//775 382//775 389//775
f 388//776 389//776 391//776
f 388//777 393//777 382//777
f 392//778 393//778 388//778
f 394//779 384//779 402//779
f 396//780 398//780 372//780
f 399//781 394//781 403//781
f 399//782 403//782 400//782
f 399//783 401//783 394//783
f 400//784 403//784 396//784
f 403//785 402//785 397//785
f 310//786 405//786 436//786
f 404//787 311//787 446//787
f 430//788 404//788 429//788
f 404//789 430//789 405//789
f 412//790 313//790 318//790
f 312//791 413//791 421//791
f 315//792 421//792 446//792
f 412//793 413//793 313//793
f 421//794 413//794 414//794
f 418//795 415//795 426//795
f 416//796 419//796 417//796
f 416//797 424//797 420//797
f 419//798 416//798 418//798
f 419//799 446//799 421//799
f 446//800 419//800 429//800
f 422//801 424//801 409//801
f 424//802 416//802 409//802
f 423//803 422//803 405//803
f 422//804 423//804 424//804
f 431//805 425//805 432//805
f 425//806 427//806 432//806
f 425//807 431//807 428//807
f 426//808 425//808 428//808
f 428//809 429//809 419//809
f 428//810 431//810 429//810
f 423//811 415//811 420//811
f 427//812 423//812 432//812
f 423//813 427//813 415//813
usemtl Materiale.002
f 492//862 495//862 493//862
f 493//863 499//863 482//863
f 492//864 493//864 540//864
f 492//865 494//865 495//865
f 496//868 494//868 501//868
f 498//871 495//871 497//871
f 500//874 492//874 540//874
f 493//930 481//930 540//930
f 481//931 493//931 482//931
f 493//938 495//938 499//938
f 494//939 492//939 501//939
f 495//940 494//940 497//940
f 496//941 497//941 494//941
f 498//944 499//944 495//944
f 500//948 501//948 492//948
f 570//990 583//990 619//990
f 581//1002 583//1002 587//1002
f 582//1003 581//1003 585//1003
f 580//1004 582//1004 589//1004
f 570//1055 571//1055 583//1055
f 581//1060 580//1060 583//1060
f 587//1061 583//1061 571//1061
f 582//1062 580//1062 581//1062
f 583//1063 580//1063 619//1063
f 582//1066 584//1066 589//1066
f 584//1067 582//1067 585//1067
f 581//1070 586//1070 585//1070
f 586//1071 581//1071 587//1071
f 580//1073 588//1073 619//1073
f 588//1074 580//1074 589//1074
f 652//1139 667//1139 709//1139
f 665//1150 667//1150 671//1150
f 666//1151 665//1151 669//1151
f 664//1152 666//1152 673//1152
f 652//1207 653//1207 667//1207
f 665//1213 664//1213 667//1213
f 671//1214 667//1214 653//1214
f 666//1215 664//1215 665//1215
f 667//1216 664//1216 709//1216
f 666//1218 668//1218 673//1218
f 668//1219 666//1219 669//1219
f 665//1221 670//1221 669//1221
f 670//1222 665//1222 671//1222
f 664//1224 672//1224 709//1224
f 672//1225 664//1225 673//1225
`,defaultAttributes={globalScale:1,nodeScale:1,edgeScale:1,edgeOvershoot:1.25,edgeFog:1,nodeFog:1,edgeFrequency:2,edgePulseSpeed:1,edgeWaveSpeed:1,focus:-1},getAttributes=X=>state(X,"attributes",()=>structuredClone(defaultAttributes)).get(),getNodeVisualizerMesh=moize.infinite((X,Z="heart")=>{let G;if(Z==="box")G=new BoxGeometry(1,1,1);else if(Z==="heart"){const ee=new OBJLoader().parse(heartObjString).children[0].geometry;if(!ee.index){const ie=[],ne=ee.attributes.position;for(let ce=0;ce<ne.count;ce+=3)ie.push(ce,ce+1,ce+2);ee.setIndex(ie)}let q=.25;ee.scale(q,q,q),console.log(ee),G=ee;let te=new TorusKnotGeometry(1,.3,128,64,3,5);console.log(te)}else Z==="brain"&&(G=new TorusKnotGeometry(1,.3,128,64,3,5));const W=new InstancedBufferGeometry;W.setAttribute("vertexPosition",G.attributes.position),W.setAttribute("vertexNormal",G.attributes.normal),W.setIndex(G.index),W.setAttribute("index",new InstancedBufferAttribute(new Int32Array([]),1));const F=new RawShaderMaterial({vertexShader:node_default$1,fragmentShader:node_default,glslVersion:GLSL3}),U=new RawShaderMaterial({vertexShader:node_picker_default$1,fragmentShader:node_picker_default,depthWrite:!0,glslVersion:GLSL3});W.setAttribute("index",new InstancedBufferAttribute(new Int32Array([1,2,3,4]),1)),F.uniformsGroups=[getCamerasUniformsGroup(X)];const J=new Mesh(W,F),Y=new Mesh(W,U);return{mesh:J,pickerMesh:Y}}),initializeNodeVisualizerUniforms=X=>{const{mesh:Z,pickerMesh:G}=getNodeVisualizerMesh(X);Z.material.uniforms={positionTexture:{value:getPositionLayers(X).viewTexture},colorTexture:{value:getColorLayers(X).viewTexture},sizeTexture:{value:getSizeLayers(X).viewTexture},emphasisTexture:{value:getEmphasisLayers(X).viewTexture},textureDimensions:{value:[getColorLayers(X).view.width,getColorLayers(X).view.height]},mousePosition:{value:getPointerPositionClip(X)},selectedIndex:{value:-1},selectedColor:{value:getSelectedColor(X)},hoveringIndex:{value:getCurrentlyHoveringIndex(X)},time:{value:performance.now()/1e3}};const W=getAttributes(X);Object.entries(W).forEach(([F,U])=>{Z.material.uniforms[F]={value:U}}),G.material.uniforms=Z.material.uniforms,Z.material.needsUpdate=!0,G.material.needsUpdate=!0},updateNodeVisualizerUniforms=X=>{const{mesh:Z,pickerMesh:G}=getNodeVisualizerMesh(X),W=getAttributes(X);for(const F of[Z.material.uniforms,G.material.uniforms])F.globalScale.value=W.globalScale,F.nodeScale.value=W.nodeScale,F.edgeScale.value=W.edgeScale,F.edgeFrequency.value=W.edgeFrequency,F.edgePulseSpeed.value=W.edgePulseSpeed,F.positionTexture.value=getPositionLayers(X).viewTexture,F.colorTexture.value=getColorLayers(X).viewTexture,F.sizeTexture.value=getSizeLayers(X).viewTexture,F.emphasisTexture.value=getEmphasisLayers(X).viewTexture,F.textureDimensions.value=[getColorLayers(X).view.width,getColorLayers(X).view.height],F.mousePosition.value=getPointerPositionClip(X),F.selectedIndex.value=getSelectedIndex(X),F.selectedColor.value=getSelectedColor(X),F.hoveringIndex.value=getCurrentlyHoveringIndex(X),F.time.value=performance.now()/1e3;Object.entries(W).forEach(([F,U])=>{Z.material.uniforms[F].value=U,G.material.uniforms[F].value=U})},getNodeIndexArray=moize.infinite((X,Z)=>{const G=new Int32Array(Z);for(let W=0;W<Z;W++)G[W]=W;return new InstancedBufferAttribute(G,1)}),loadNodeVertexArray=(X,Z)=>{console.log("loading node vertex array",Z);const{mesh:G,pickerMesh:W}=getNodeVisualizerMesh(X),F=getNodeIndexArray(X,1e4);G.geometry.setAttribute("index",F),G.geometry.instanceCount=Z,W.geometry.setAttribute("index",F),W.geometry.instanceCount=Z},getEdgeVisualizerMesh=moize.infinite(X=>{const Z=new CylinderGeometry(.5,.5,1,4,4,!0),G=new InstancedBufferGeometry;G.setAttribute("segmentOffset",Z.attributes.position),G.setIndex(Z.index),G.setAttribute("edgeIndices",new InstancedBufferAttribute(new Int32Array([1,2,3]),2));const W=new RawShaderMaterial({vertexShader:edge_default$1,fragmentShader:edge_default,uniforms:{},depthTest:!1,depthWrite:!0,depthFunc:LessEqualDepth,transparent:!0,glslVersion:GLSL3});return new Mesh(G,W)}),getEdgeIndexBuffer=moize.infinite((X,Z)=>{const G=new Int32Array(1e4);return G.set(Z.flat()),new InstancedBufferAttribute(G,2)}),loadEdgeVertexArray=(X,Z)=>{console.log("loading edge vertex array",Z);const G=getEdgeVisualizerMesh(X),W=getEdgeIndexBuffer(X,Z);G.geometry.setAttribute("edgeIndices",W),G.geometry.instanceCount=Z.length},initializeEdgeVisualizerUniforms=X=>{const Z=getEdgeVisualizerMesh(X);Z.material.uniforms={positionTexture:{value:getPositionLayers(X).viewTexture},colorTexture:{value:getColorLayers(X).viewTexture},sizeTexture:{value:getSizeLayers(X).viewTexture},nodeDepthTexture:{value:getNodeDepthRenderTarget(X).depthTexture},emphasisTexture:{value:getEmphasisLayers(X).viewTexture},textureDimensions:{value:[getColorLayers(X).current.width,getColorLayers(X).current.height]},mousePosition:{value:getPointerPositionClip(X)},selectedIndex:{value:getSelectedIndex(X)},selectedColor:{value:getSelectedColor(X)},hoveringIndex:{value:getCurrentlyHoveringIndex(X)},time:{value:performance.now()/1e3},viewport:{value:[0,0]},devicePixelRatio:{value:window.devicePixelRatio}};const G=getAttributes(X);Object.entries(G).forEach(([W,F])=>{Z.material.uniforms[W]={value:F}}),Z.material.uniformsGroups=[getCamerasUniformsGroup(X)],Z.material.needsUpdate=!0},viewport=new Vector2,updateEdgeVisualizerUniforms=X=>{const{renderer:Z}=getThreeSetup(X);Z.getSize(viewport);const G=getEdgeVisualizerMesh(X);for(const F of[G.material.uniforms])F.positionTexture.value=getPositionLayers(X).viewTexture,F.colorTexture.value=getColorLayers(X).viewTexture,F.sizeTexture.value=getSizeLayers(X).viewTexture,F.emphasisTexture.value=getEmphasisLayers(X).viewTexture,F.textureDimensions.value=[getColorLayers(X).view.width,getColorLayers(X).view.height],F.nodeDepthTexture.value=getNodeDepthRenderTarget(X).depthTexture,F.mousePosition.value=getPointerPositionClip(X),F.selectedIndex.value=getSelectedIndex(X),F.selectedColor.value=getSelectedColor(X),F.hoveringIndex.value=getCurrentlyHoveringIndex(X),F.time.value=performance.now()/1e3,F.viewport.value=viewport.toArray();const W=getAttributes(X);Object.entries(W).forEach(([F,U])=>{G.material.uniforms[F].value=U})},getThreeSetup=moize.infinite(X=>{const{canvas:Z,gl:G}=getCanvasAndGLContext(X),W=new Scene,F=new Scene,U=new Scene,J=new PerspectiveCamera(75,window.innerWidth/window.innerHeight,.5,1e3);J.position.z=50;const Y=new WebGLRenderer({canvas:Z,context:G});Y.setSize(window.innerWidth,window.innerHeight),Y.setPixelRatio(window.devicePixelRatio);const D=getEdgeVisualizerMesh(X);W.add(D);const Q=getNodeVisualizerMesh(X).mesh;W.add(Q);const ee=getNodeVisualizerMesh(X).pickerMesh;return U.add(ee),{scene:W,depthScene:F,pickerScene:U,camera:J,renderer:Y,nodeVisualizerMesh:Q,edgeVisualizerMesh:D,nodePickerMesh:ee}}),getPickerRenderTarget=moize.infinite(X=>{const{canvas:Z}=getCanvasAndGLContext(X);return new WebGLRenderTarget(Z.width,Z.height,{stencilBuffer:!1})}),getNodeDepthRenderTarget=moize.infinite(X=>{const{canvas:Z}=getCanvasAndGLContext(X);return new WebGLRenderTarget(Z.width,Z.height,{depthTexture:new DepthTexture(Z.width,Z.height),depthBuffer:!0,stencilBuffer:!1})}),colorHash=new ColorHash({saturation:.7,lightness:.6}),makeNavId=X=>X.replace(/^(https?:\/\/)?(www\.)?([a-z0-9-]+\.)+[a-z0-9-]+/i,"").replace(/\/$/,"").replace(/^\//,"").replace(/[^A-Za-z0-9\.]/gi,"-").replace(/-+/g,"-").replace(/^package-/,"").replace(/-v-/,"-"),setGraphData=async(X,Z)=>{let{set:G}=asyncState(X,"graphData");G(Z);const{nodes:W,linkIndexPairs:F}=Z;setAllLayerSizes(X,W.length),prepareGraphDBWorker(X,Z),loadEdgeVertexArray(X,F),loadNodeVertexArray(X,W.length);const U=new Float32Array(W.flatMap(({color:ee})=>ee));console.log("setting colors",U,"to",getColorLayers(X)),getColorLayers(X).target.setFromArray(U),getColorLayers(X).current.setFromArray(U);const J=new Float32Array(W.length);for(let ee=0;ee<J.length;ee++)J[ee]=Math.sqrt(W[ee].size)/40;console.log("setting sizes",J,"to",getSizeLayers(X)),getSizeLayers(X).target.setFromArray(J),getSizeLayers(X).current.setFromArray(J);const Y=40,D=()=>[Math.random()*Y-1,Math.random()*Y-1,Math.random()*Y-1],Q=new Float32Array(W.flatMap(D));getPositionLayers(X).target.setFromArray(Q),getPositionLayers(X).current.setFromArray(Q),getEmphasisLayers(X).target.setFromArray(new Float32Array(W.length).fill(0)),getEmphasisLayers(X).current.setFromArray(new Float32Array(W.length).fill(0))},getGraphData=async X=>asyncState(X,"graphData").get(),randomGraphData=(X,Z)=>{const G=[...Array(X).keys()].map(Y=>({index:Y,id:`node://${Y}`,size:10,color:[...colorHash.rgb(String(Y)).map(D=>D/255),1],navId:makeNavId(`node-${Y}`)})),W=[...Array(Z).keys()].map(()=>{const Y=Math.floor(Math.random()*X),D=Math.floor(Math.random()*X);return{sourceIndex:Y,targetIndex:D,source:G[Y],target:G[D]}}),F=W.map(({sourceIndex:Y,targetIndex:D})=>[Y,D]),U=fromPairs(G.map(Y=>[Y.navId,Y])),J=fromPairs(G.map(Y=>[Y.id,Y]));return{nodes:G,links:W,linkIndexPairs:F,nodesByNavId:U,nodesById:J}},prepareGraphDBWorker=async(X,Z)=>await graphDb(X).buildGraph(Z);let engine;const getLayoutSimulator=moize.infinite(async(X,Z)=>{const G=(await graphLayout(X)).D3ForceLayout;return engine=await new G(Z),engine.start(),engine},{onExpire:()=>{engine.stop()}}),getLatestTargetPositions=moize(X=>state(X,"latestTargetPositions").get()),updateNodePositionTargets=async X=>{const Z=await getGraphData(X);(await getLayoutSimulator(X,Z)).getPositions(proxy(W=>{W.length>0&&(state(X,"latestTargetPositions").set(W),hasEnoughFramebufferAttachments(X)?getPositionLayers(X).target.setFromArray(W):getPositionLayers(X).view.setFromArray(W))}))},getNodePosition=(X,Z)=>{const G=getLatestTargetPositions(X)?getLatestTargetPositions(X):[],W=Z.index;return[G[W*3],G[W*3+1],G[W*3+2]]},normalizedEventCoordinates=(X,Z)=>{const{canvas:G}=getCanvasAndGLContext(X),W=G.getBoundingClientRect(),F=(Z.clientX-W.left)/W.width,U=(Z.clientY-W.top)/W.height;return{x:F*2-1,y:-(U*2-1)}},globalCamera=(X,...Z)=>graphCameraAnimation(X).getGlobalCamera(X,...Z),updateCameras=(X,...Z)=>graphCameraAnimation(X).updateCameras(X,...Z),getGlobalCameraParams=(X,...Z)=>graphCameraAnimation(X).getGlobalCameraParams(X,...Z),setCameraCenter=(X,...Z)=>graphCameraAnimation(X).setCameraCenter(X,...Z),setCameraDistance=(X,...Z)=>graphCameraAnimation(X).setCameraDistance(X,...Z),zoomGlobalCamera=(X,...Z)=>graphCameraAnimation(X).zoomGlobalCamera(X,...Z),panGlobalCamera=(X,...Z)=>graphCameraAnimation(X).panGlobalCamera(X,...Z),startZooming=(X,...Z)=>graphCameraAnimation(X).startZooming(X,...Z),stopZooming=(X,...Z)=>graphCameraAnimation(X).stopZooming(X,...Z),startPanning=(X,...Z)=>graphCameraAnimation(X).startPanning(X,...Z),stopPanning=(X,...Z)=>graphCameraAnimation(X).stopPanning(X,...Z),computeScreenPosition=(X,...Z)=>graphCameraAnimation(X).computeScreenPosition(X,...Z),deviceHasMouse=moize.infinite(()=>window.matchMedia("(pointer:fine)").matches);let selectedZoom,deselectedZoom;const maxSelectedZoom=500,minUnselectedZoom=maxSelectedZoom,zoomingStopped=async X=>{stopZooming(X);const Z=getSelectedIndex(X),G=(await getGlobalCameraParams(X)).distance;Z>-1?selectedZoom=Math.min(G,maxSelectedZoom):deselectedZoom=Math.max(G,minUnselectedZoom)},getPointerPositionInfo=X=>state(X,"pointerPositionInfo",()=>({x:0,y:0,canvasX:0,canvasY:0,pickerX:0,pickerY:0})).get(),pickedColor=new Uint8Array(4).fill(0);let lastOverIndex=-1,dragging=!1,countLastDragEvents=0,cumulativeDragDistance=0;const incrementDragEvents=()=>{countLastDragEvents++},getPointerPositionClip=X=>[getPointerPositionInfo(X).x,getPointerPositionInfo(X).y],getPointerPositionPicker=X=>[getPointerPositionInfo(X).pickerX,getPointerPositionInfo(X).pickerY],collectPointerPositionInfo=curry((X,{x:Z,y:G})=>{const{canvas:W}=getCanvasAndGLContext(X),F=getPointerPositionInfo(X);F.x=Z,F.y=G,F.canvasX=(Z+1)/2*W.width,F.canvasY=(G+1)/2*W.height;const U=window.devicePixelRatio||1;F.pickerX=Math.floor(F.canvasX/U),F.pickerY=Math.floor(F.canvasY/U)}),getCurrentlyHoveringIndex=X=>state(X,"currentlyHoveringIndex",()=>-1).get(),getCurrentlyHoveringNode=async X=>{const{nodes:Z}=await getGraphData(X),G=getCurrentlyHoveringIndex(X);return Z[G]},setupSelection=moize.infinite(X=>{const Z=X.context,{canvas:G}=getCanvasAndGLContext(Z);normalizedInteractionEvents_1(G).on("touchmove",collectPointerPositionInfo(Z)).on("mousemove",collectPointerPositionInfo(Z)),normalizedInteractionEvents_1(G).on("mousemove",()=>{!dragging&&updatePickerColorDebounced(Z)()}),normalizedInteractionEvents_1(G).on("touchmove",incrementDragEvents).on("pinchmove",incrementDragEvents).on("mousemove",incrementDragEvents),G.addEventListener("pointerdown",async W=>{console.log("pointer down");const F=async([J,Y])=>{console.log("pointer clickHandler",J,Y);const D=cumulativeDragDistance>.03||countLastDragEvents>5;if(console.log("was drag",D,cumulativeDragDistance,countLastDragEvents),dragging=!1,!D){const Q=getCurrentlyHoveringIndex(Z);setSelectedIndex(Z,Q),console.log("selected index set to",Q),getSelectedInfo(Z).then(ee=>{G.dispatchEvent(new CustomEvent("selected",{detail:{selectedIndex:Q,info:ee}}))}),G.dispatchEvent(new CustomEvent("tap",{detail:{selectedIndex:Q}}))}},U=new Promise((J,Y)=>{G.addEventListener("pointerup",J,{once:!0}),setTimeout(()=>Y("pointer event timed out after 100ms"),200)});dragging=!0,countLastDragEvents=0,cumulativeDragDistance=0,Promise.all([U,getNextHoverOnUpdate(Z)]).then(F).catch(J=>console.log(J)),setTimeout(()=>{cumulativeDragDistance>.03||countLastDragEvents>5||updatePickerColor(Z)},2),collectPointerPositionInfo(Z,normalizedEventCoordinates(Z,W))}),G.addEventListener("selected",W=>{const F=W.detail.info;console.log("preparing to navigate:",F,void 0),X.setAttribute("focus",F?.navId)}),G.addEventListener("hover",async W=>{const{nodes:F}=await getGraphData(Z),U=W.detail.wasHoveredIndex;U>-1&&F[U];const J=W.detail.nowHoveredIndex,Y=J>-1?F[J]:null;getSelectedIndex(Z)>-1&&F[getSelectedIndex(Z)],Y?state(Z,"currentlyHoveringIndex").set(Y?.index!=null?Y.index:-1):state(Z,"currentlyHoveringIndex").set(-1)})}),radiansPerHalfScreenWidth=Math.PI/3,setupCameraInteraction=X=>{const{canvas:Z}=getCanvasAndGLContext(X);Z.addEventListener("wheel",G=>{const W=Math.exp(G.deltaY/Z.clientHeight*2)-1,F=Math.sign(W);startZooming(X),zoomGlobalCamera(X,0,0,F*Math.min(Math.abs(W),.06)),G.preventDefault(),zoomingStopped(X)},{passive:!1}),normalizedInteractionEvents_1(Z).on("mousemove",function(G){!G.active||G.buttons!==1||(cumulativeDragDistance+=Math.sqrt(Math.pow(G.dx,2)+Math.pow(G.dy,2)),G.mods.shift?(startPanning(X),panGlobalCamera(X,G.dx,G.dy)):G.mods.meta?globalCamera(X).pivot(G.dx,G.dy):(globalCamera(X).rotate(-G.dx*radiansPerHalfScreenWidth,-G.dy*radiansPerHalfScreenWidth),stopPanning(X)),G.originalEvent.preventDefault())}).on("touchmove",function(G){collectPointerPositionInfo(G),G.active&&(cumulativeDragDistance+=Math.sqrt(Math.pow(G.dx,2)+Math.pow(G.dy,2)),globalCamera(X).rotate(-G.dx*radiansPerHalfScreenWidth,-G.dy*radiansPerHalfScreenWidth))}).on("pinchmove",function(G){G.active&&(dragging=!0,startPanning(X),startZooming(X),zoomGlobalCamera(X,0,0,1-G.zoomx),panGlobalCamera(X,G.dx,G.dy))}).on("touchstart",G=>G.originalEvent.preventDefault()).on("pinchstart",G=>G.originalEvent.preventDefault()).on("pinchend",()=>{stopPanning(X),zoomingStopped(X)})},pickerState=moize.infinite(X=>({lastOverIndex:-1,pickerTime:0,pickerSync:null,pickerFailures:0,pickerGuardFailed:!1})),getNodeIndexFromPickerColor=X=>X[0]+X[1]*256+X[2]*256*256-1,checkPickerSync=X=>{const Z=pickerState(X),G=getCanvasAndGLContext(X).gl,W=()=>G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.pickerSync?G?.clientWaitSync(Z.pickerSync,0,0)===G?.CONDITION_SATISFIED?(G.deleteSync(Z.pickerSync),Z.pickerSync=W(),!0):!1:(Z.pickerSync=W(),!1)},updatePickerColor=moize.infinite(X=>()=>{const Z=pickerState(X),G=checkPickerSync(X),{canvas:W}=getCanvasAndGLContext(X),F=getCanvasAndGLContext(X).gl;if(Z.pickerFailures>10&&(Z.pickerGuardFailed=!0,console.warn("picker guard failed")),!G&&!Z.pickerGuardFailed)console.debug("not ready to read picker pixel yet"),Z.pickerFailures+=1;else{Z.pickerFailures=0;const{renderer:U}=getThreeSetup(X),J=getPointerPositionPicker(X),Y=getPickerRenderTarget(X);U.readRenderTargetPixels(Y,...J,1,1,pickedColor),F.flush();const D=getNodeIndexFromPickerColor(pickedColor);setTimeout(()=>{W.dispatchEvent(new CustomEvent("hover",{detail:{wasHoveredIndex:lastOverIndex,nowHoveredIndex:D}}))},1),D>-1&&setTimeout(()=>{W.dispatchEvent(new CustomEvent("hoveron",{detail:{wasHoveredIndex:lastOverIndex,nowHoveredIndex:D}}))},10),lastOverIndex=D}}),updatePickerColorThrottled=X=>throttle(updatePickerColor(X),1e3),updatePickerColorDebounced=X=>debounce(updatePickerColor(X),300),getNextHoverOnUpdate=async X=>(console.log("waiting for hover event"),new Promise(Z=>{const G=getCanvasAndGLContext(X).canvas,W=F=>{console.log("got hover event",F.detail),Z(F.detail)};G.addEventListener("hover",W,{once:!0})})),getSelectedInfo=async X=>{const{nodes:Z}=await getGraphData(X);return Z[getSelectedIndex(X)]},makeCursor=moize.deep((X,{classes:Z,htmlTemplate:G,applyScreenPositionStyle:W}={})=>{const F=getComponent(X);W=W||((ee,q)=>{q.style.left=`${ee[0]}vw`,q.style.bottom=`${ee[1]}vh`});const U=document.createElement("div");U?.classList.add("cursor"),Z?.forEach(ee=>U?.classList.add(ee)),F?.shadowRoot?.appendChild(U);const J=ee=>{W(ee,U)},Y=ee=>{const q=[(ee[0]+1)/2*100,(ee[1]+1)/2*100];J(q)},D=throttle(async ee=>{const q=getNodePosition(X,ee),te=await computeScreenPosition(X,q);Y(te)},1e3/10),Q=throttle(async ee=>{ee?(await D(ee),U.classList.add("focused")):U.classList.remove("focused"),ee&&G&&B(G(ee),U)},50);return{element:U,alignToScreenPosition:J,alignToNDCPosition:Y,alignToNode:D,highlightNode:Q,destroy:()=>U.remove()}}),selectedCursor=moize.infinite(X=>makeCursor(X,{classes:["selected-cursor"]})),hoveredTooltip=moize.infinite(X=>makeCursor(X,{classes:["hovered-tooltip"],htmlTemplate:Z=>x$2`
      <div class="node-name">${Z.data?.name}</div>
    `,applyScreenPositionStyle(Z,G){G.style.left=`calc(min(${Z[0]}vw, calc(100vw - 15em)))`,G.style.bottom=`${Z[1]}vh`}})),hoveredCursor=moize.infinite(X=>makeCursor(X,{classes:["hovered-cursor"]}));window.addEventListener("keydown",X=>{X.key,X.key});const getWidthAndHeight=moize(X=>{const Z=getComponent(X),G=window.devicePixelRatio||1,W=Z.clientWidth,F=Z.clientHeight,U=Math.floor(W*G),J=Math.floor(F*G);return{width:U,height:J,clientWidth:W,clientHeight:F}}),setCanvas=(X,Z=null)=>{const{set:G,get:W}=state(X,"canvas"),F=W();G(Z?F||Z:F||document.createElement("canvas"))},getCanvasAndGLContext=moize.infinite(X=>{const Z=state(X,"canvas").get(),G=Z.getContext("webgl2",{powerPreference:"high-performance"});return G?console.log("WebGL2 initialized"):console.error("WebGL2 failed to initialize"),G.getExtension("WEBGL_color_buffer_float")||console.warn("WEBGL_color_buffer_float is not supported :("),{canvas:Z,gl:G}}),getGPUComposer=moize.infinite(X=>{const{renderer:Z}=getThreeSetup(X);return gpuIoExports.GPUComposer.initWithThreeRenderer(Z)}),fillCanvasToWindow=X=>{getCanvasAndGLContext(X);const{renderer:Z}=getThreeSetup(X),{width:G,height:W,clientWidth:F,clientHeight:U}=getWidthAndHeight(X);getComponent(X),Z.setSize(F,U),getPickerRenderTarget(X).setSize(F,U),getNodeDepthRenderTarget(X).setSize(G,W),globalCamera(X).resize(G/W)},initializeRenderer=X=>{initializeNodeVisualizerUniforms(X),initializeEdgeVisualizerUniforms(X)},interpolate=X=>{const Z=getGPUComposer(X);Z.undoThreeState();const G=[getPositionLayers(X),getColorLayers(X),getSizeLayers(X),getEmphasisLayers(X)],W=getInterpolationProgram(X);Z.step({program:W,input:G.flatMap(F=>[F.target,F.current]),output:G.flatMap(F=>[F.current,F.view])}),Z.resetThreeState()},animateGraph=X=>{getWidthAndHeight.remove(X),updateNodePositionTargets(X),getSelectedNode(X).then(Q=>{selectedCursor(X).highlightNode(Q)}),deviceHasMouse()&&getCurrentlyHoveringNode(X).then(Q=>{hoveredTooltip(X).highlightNode(Q),hoveredCursor(X).highlightNode(Q)});const{width:Z,height:G}=getWidthAndHeight(X);updateCameras(X,cameraUniformsGroupUpdater(X),Z,G),getCanvasAndGLContext(X),hasEnoughFramebufferAttachments(X)&&interpolate(X),fillCanvasToWindow(X);const{renderer:W,scene:F,camera:U,nodeVisualizerMesh:J,nodePickerMesh:Y,edgeVisualizerMesh:D}=getThreeSetup(X);updateNodeVisualizerUniforms(X),updateEdgeVisualizerUniforms(X),J.material.depthTest&&(W.setRenderTarget(getNodeDepthRenderTarget(X)),W.render(J,U)),W.setRenderTarget(null),W.render(F,U),W.setRenderTarget(getPickerRenderTarget(X)),W.render(Y,U),deviceHasMouse()&&updatePickerColorThrottled(X)(),requestAnimationFrame(()=>animateGraph(X))};var handlers={},on=(X,Z)=>{handlers[X]??(handlers[X]=[]),handlers[X].push(Z)},off=(X,Z)=>{var G;(G=handlers[X])==null||G.splice(handlers[X].indexOf(Z),1)},emit=async(X,Z,G)=>{for(const W of handlers[X]??[])await W(Z,G)},stripTrailingSlash=X=>X.length>1&&X.endsWith("/")?X.slice(0,-1):X,parsePattern=X=>{var Z;const G=(Z=X.match(/(:[^/]+)/g))==null?void 0:Z.map(W=>W.substring(1));return G&&{keys:G,regExp:new RegExp("^"+X.replace(/(:[^/]+)/g,"([^/]+)")+"$")}},getParams=(X,Z)=>Object.fromEntries(Z.map((G,W)=>[G,X[W+1]])),routeDefinitions=[],currentRoute,findDefinition=X=>{for(const Z of routeDefinitions){const{pattern:G,regExp:W,keys:F}=Z,U=W?X.match(W):G==="*"||G===X;if(U){const J=Array.isArray(U)?getParams(U,F):void 0;return{definition:Z,params:J}}}},handleChange=async(X,Z)=>{const G=findDefinition(X),W=!!G,F=G?.params??{},U=currentRoute;currentRoute={path:X,params:F,matches:W,trigger:Z},await emit("before-route",currentRoute,U),await G?.definition.action(F,currentRoute,U),await emit("route",currentRoute,U)},src_default={get currentRoute(){return currentRoute},on,off,start({handleInitial:X=!0}={}){const Z=window.location.hash!=""&&window.location.hash;X&&handleChange(Z||window.location.pathname||"/","init"),window.addEventListener("popstate",()=>handleChange(window.location.pathname,"popstate")),window.addEventListener("hashchange",()=>{handleChange(window.location.hash,"hashchange")})},route(X,Z){const G=stripTrailingSlash(X),{regExp:W,keys:F=[]}=parsePattern(X)||{};routeDefinitions.push({pattern:G,action:Z,regExp:W,keys:F})},push(X){window.history.pushState(null,"",stripTrailingSlash(X)),handleChange(X,"push")},replace(X){window.history.replaceState(null,"",stripTrailingSlash(X)),handleChange(X,"replace")}};src_default.route("#-",()=>{console.log("navigating to nothing")});src_default.route("#node/:id",async(X,{trigger:Z})=>{});class WebscapeWanderer extends HTMLElement{constructor(){if(super(),this.context=Symbol(),setComponent(this.context,this),getComponent(this.context)!==this)throw new Error("What the heck")}set graphData(Z){setGraphData(this.context,Z)}get graphData(){return getGraphData(this.context)}connectedCallback(){const Z=this.context,G=this.attachShadow({mode:"open"}),W=document.createElement("style");W.textContent=`
      :host {
        display: block;
        // width: 800px;
        // height: 600px;
        min-width: 100%;
        min-height: 99vh;
        max-height: 100vh;
      }
    `,G.appendChild(W);const F=document.createElement("canvas");G.appendChild(F),setCanvas(Z,F),console.log("Canvas created and set"),initializeRenderer(Z),console.log("Renderer initialized"),getThreeSetup(Z),console.log("Three.js setup complete"),setupCameraInteraction(Z),console.log("Camera interaction set up"),setupSelection(this),console.log("Selection setup complete"),document.querySelector("html")?.classList.add("loading"),console.log("Added loading class to HTML"),getGraphData(this.context).then(U=>{console.log("Graph data retrieved",U),document.querySelector("html").classList.remove("loading"),console.log("Removed loading class from HTML"),animateGraph(this.context),console.log("Graph animation started"),src_default.start(),console.log("Navigation started")})}disconnectedCallback(){}adoptedCallback(){}attributeChangedCallback(Z,G,W){const F=this.context,U=getAttributes(this.context);U[camelCase$1(Z)]=W||defaultAttributes[camelCase$1(Z)],Z=="focus"&&getGraphData(F).then(({nodesByNavId:J})=>{const Y=J[W];selectNodeAndDownstreamDependents(F,Y,!0)})}}WebscapeWanderer.observedAttributes=Object.keys(defaultAttributes).map(kebabCase$1);customElements.define("webscape-wanderer",WebscapeWanderer);window.addEventListener("DOMContentLoaded",()=>{for(let X of document.querySelectorAll("webscape-wanderer"))X.graphData=randomGraphData(5,10),setTimeout(()=>{X.graphData=randomGraphData(200,2e3)},3e6)});
