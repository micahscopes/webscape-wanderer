const ut=Symbol("Comlink.proxy"),It=Symbol("Comlink.endpoint"),Ft=Symbol("Comlink.releaseProxy"),Le=Symbol("Comlink.thrown"),lt=e=>typeof e=="object"&&e!==null||typeof e=="function",Rt={canHandle:e=>lt(e)&&e[ut],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Be(e,t),[n,[n]]},deserialize(e){return e.start(),kt(e)}},Kt={canHandle:e=>lt(e)&&Le in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},ht=new Map([["proxy",Rt],["throw",Kt]]);function Be(e,t=self){t.addEventListener("message",function n(r){if(!r||!r.data)return;const{id:s,type:i,path:o}=Object.assign({path:[]},r.data),u=(r.data.argumentList||[]).map(oe);let p;try{const C=o.slice(0,-1).reduce((l,f)=>l[f],e),b=o.reduce((l,f)=>l[f],e);switch(i){case"GET":p=b;break;case"SET":C[o.slice(-1)[0]]=oe(r.data.value),p=!0;break;case"APPLY":p=b.apply(C,u);break;case"CONSTRUCT":{const l=new b(...u);p=jt(l)}break;case"ENDPOINT":{const{port1:l,port2:f}=new MessageChannel;Be(e,f),p=se(l,[l])}break;case"RELEASE":p=void 0;break;default:return}}catch(C){p={value:C,[Le]:0}}Promise.resolve(p).catch(C=>({value:C,[Le]:0})).then(C=>{const[b,l]=Ge(C);t.postMessage(Object.assign(Object.assign({},b),{id:s}),l),i==="RELEASE"&&(t.removeEventListener("message",n),pt(t))})}),t.start&&t.start()}function qt(e){return e.constructor.name==="MessagePort"}function pt(e){qt(e)&&e.close()}function kt(e,t){return Ue(e,[],t)}function be(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ue(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(i,o){if(be(r),o===Ft)return()=>le(e,{type:"RELEASE",path:t.map(u=>u.toString())}).then(()=>{pt(e),r=!0});if(o==="then"){if(t.length===0)return{then:()=>s};const u=le(e,{type:"GET",path:t.map(p=>p.toString())}).then(oe);return u.then.bind(u)}return Ue(e,[...t,o])},set(i,o,u){be(r);const[p,C]=Ge(u);return le(e,{type:"SET",path:[...t,o].map(b=>b.toString()),value:p},C).then(oe)},apply(i,o,u){be(r);const p=t[t.length-1];if(p===It)return le(e,{type:"ENDPOINT"}).then(oe);if(p==="bind")return Ue(e,t.slice(0,-1));const[C,b]=Je(u);return le(e,{type:"APPLY",path:t.map(l=>l.toString()),argumentList:C},b).then(oe)},construct(i,o){be(r);const[u,p]=Je(o);return le(e,{type:"CONSTRUCT",path:t.map(C=>C.toString()),argumentList:u},p).then(oe)}});return s}function Dt(e){return Array.prototype.concat.apply([],e)}function Je(e){const t=e.map(Ge);return[t.map(n=>n[0]),Dt(t.map(n=>n[1]))]}const dt=new WeakMap;function se(e,t){return dt.set(e,t),e}function jt(e){return Object.assign(e,{[ut]:!0})}function Ge(e){for(const[t,n]of ht)if(n.canHandle(e)){const[r,s]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},s]}return[{type:"RAW",value:e},dt.get(e)||[]]}function oe(e){switch(e.type){case"HANDLER":return ht.get(e.name).deserialize(e.value);case"RAW":return e.value}}function le(e,t,n){return new Promise(r=>{const s=Nt();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==s||(e.removeEventListener("message",i),r(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),n)})}function Nt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yt=Ht;function Ht(e,t,n){var r=t[0],s=t[1],i=t[2],o=n[3]*r+n[7]*s+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/o,e}var Lt=Ut;function Ut(e,t,n,r){var s=n[0],i=n[2],o=t[0]-s,u=t[2]-i,p=Math.sin(r),C=Math.cos(r);return e[0]=s+u*p+o*C,e[1]=t[1],e[2]=i+u*C-o*p,e}var Xt=Zt;function Zt(e,t,n,r){var s=n[1],i=n[2],o=t[1]-s,u=t[2]-i,p=Math.sin(r),C=Math.cos(r);return e[0]=t[0],e[1]=s+o*C-u*p,e[2]=i+o*p+u*C,e}var $t=1e-6,Wt=Bt,qe=$t;function Bt(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1],u=t[2];return Math.abs(n-i)<=qe*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=qe*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-u)<=qe*Math.max(1,Math.abs(s),Math.abs(u))}var Gt=Vt;function Vt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Qt=Jt;function Jt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var er=tr;function tr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var rr=nr;function nr(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var vt=ir;function ir(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var ar=sr;function sr(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],o=t[4],u=t[5],p=t[6],C=t[7],b=t[8],l=t[9],f=t[10],y=t[11],O=t[12],x=t[13],_=t[14],T=t[15],I=n*u-r*o,w=n*p-s*o,R=n*C-i*o,K=r*p-s*u,q=r*C-i*u,D=s*C-i*p,W=b*x-l*O,Y=b*_-f*O,B=b*T-y*O,M=l*_-f*x,P=l*T-y*x,h=f*T-y*_,d=I*h-w*P+R*M+K*B-q*Y+D*W;return d?(d=1/d,e[0]=(u*h-p*P+C*M)*d,e[1]=(s*P-r*h-i*M)*d,e[2]=(x*D-_*q+T*K)*d,e[3]=(f*q-l*D-y*K)*d,e[4]=(p*B-o*h-C*Y)*d,e[5]=(n*h-s*B+i*Y)*d,e[6]=(_*R-O*D-T*w)*d,e[7]=(b*D-f*R+y*w)*d,e[8]=(o*P-u*B+C*W)*d,e[9]=(r*B-n*P-i*W)*d,e[10]=(O*q-x*R+T*I)*d,e[11]=(l*R-b*q-y*I)*d,e[12]=(u*Y-o*M-p*W)*d,e[13]=(n*M-r*Y+s*W)*d,e[14]=(x*w-O*K-_*I)*d,e[15]=(b*K-l*w+f*I)*d,e):null}var or=cr;function cr(e,t,n){var r=n[0],s=n[1],i=n[2],o,u,p,C,b,l,f,y,O,x,_,T;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(o=t[0],u=t[1],p=t[2],C=t[3],b=t[4],l=t[5],f=t[6],y=t[7],O=t[8],x=t[9],_=t[10],T=t[11],e[0]=o,e[1]=u,e[2]=p,e[3]=C,e[4]=b,e[5]=l,e[6]=f,e[7]=y,e[8]=O,e[9]=x,e[10]=_,e[11]=T,e[12]=o*r+b*s+O*i+t[12],e[13]=u*r+l*s+x*i+t[13],e[14]=p*r+f*s+_*i+t[14],e[15]=C*r+y*s+T*i+t[15]),e}var fr=ur;function ur(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var lr=vt,hr=pr;function pr(e,t,n,r){var s,i,o,u,p,C,b,l,f,y,O=t[0],x=t[1],_=t[2],T=r[0],I=r[1],w=r[2],R=n[0],K=n[1],q=n[2];return Math.abs(O-R)<1e-6&&Math.abs(x-K)<1e-6&&Math.abs(_-q)<1e-6?lr(e):(b=O-R,l=x-K,f=_-q,y=1/Math.sqrt(b*b+l*l+f*f),b*=y,l*=y,f*=y,s=I*f-w*l,i=w*b-T*f,o=T*l-I*b,y=Math.sqrt(s*s+i*i+o*o),y?(y=1/y,s*=y,i*=y,o*=y):(s=0,i=0,o=0),u=l*o-f*i,p=f*s-b*o,C=b*i-l*s,y=Math.sqrt(u*u+p*p+C*C),y?(y=1/y,u*=y,p*=y,C*=y):(u=0,p=0,C=0),e[0]=s,e[1]=u,e[2]=b,e[3]=0,e[4]=i,e[5]=p,e[6]=l,e[7]=0,e[8]=o,e[9]=C,e[10]=f,e[11]=0,e[12]=-(s*O+i*x+o*_),e[13]=-(u*O+p*x+C*_),e[14]=-(b*O+l*x+f*_),e[15]=1,e)}var dr=vr;function vr(e,t,n,r,s){var i=1/Math.tan(t/2),o=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*o,e[15]=0,e}var ke=Yt,De=Lt,et=Xt,tt=Wt,yr=Gt,je=Qt,Ne=er,Ye=rr,gr=vt,mr=ar,rt=or,Cr=fr,_r=hr,Ar=dr,nt=Math.PI*.5-1e-4,it=-Math.PI*.5+1e-4,yt=function(t){t=t||{};var n=!0,r={aspectRatio:t.aspectRatio?t.aspectRatio:1,zoomAboutCursor:t.zoomAboutCursor===void 0?!0:t.zoomAboutCursor,distance:t.distance===void 0?10:t.distance,phi:t.phi===void 0?0:t.phi,theta:t.theta===void 0?0:t.theta,fovY:t.fovY===void 0?Math.PI/4:t.fovY,near:t.near===void 0?.1:t.near,far:t.far===void 0?100:t.far,panDecayTime:t.panDecayTime||100,zoomDecayTime:t.zoomDecayTime||100,rotationDecayTime:t.rotationDecayTime||100,dirty:!0,up:t.up||new Float32Array([0,1,0]),center:t.center||new Float32Array(3),rotationCenter:t.rotationCenter||t.center&&t.center.slice()||new Float32Array(3),zoom:0,panX:0,panY:0,panZ:0,pitch:0,yaw:0,dTheta:0,dPhi:0,mouseX:0,mouseY:0},s=null,i={tick:function(h){if(D.zoom&&(r.zoom=D.zoom),D.dTheta&&(r.dTheta=D.dTheta),D.dPhi&&(r.dPhi=D.dPhi),D.panX&&(r.panX=D.panX),D.panY&&(r.panY=D.panY),D.panZ&&(r.panZ=D.panZ),D.yaw&&(r.yaw=D.yaw),D.pitch&&(r.pitch=D.pitch),K(D),h){var d=r.dPhi,z=r.dTheta,k=r.zoom,S=r.panX,N=r.panY,L=r.panZ,U=r.pitch,G=r.yaw;Object.assign(r,h),h.dPhi!==void 0&&(r.dPhi+=d),h.dTheta!==void 0&&(r.dTheta+=z),h.zoom!==void 0&&(r.zoom+=k),h.panX!==void 0&&(r.panX+=S),h.panY!==void 0&&(r.panY+=N),h.panZ!==void 0&&(r.panZ+=L),h.pitch!==void 0&&(r.pitch+=U),h.yaw!==void 0&&(r.yaw+=G)}O()&&_(),R()?P(r):K(r);var Z=Date.now();s!==null&&q(Z-s),s=Z,i.state.dirty=n,n=!1,y()},taint:I,resize:w,params:r,rotate:M,pivot:B,pan:W,zoom:Y};i.state={},i.state.projection=new Float32Array(16),i.state.viewInv=new Float32Array(16),i.state.view=new Float32Array(16),i.state.width=null,i.state.height=null,i.state.eye=new Float32Array(3);var o=new Float32Array(3),u=new Float32Array(3),p=new Float32Array(3),C=new Float32Array(3),b=new Float32Array(3),l=new Float32Array(16),f={up:new Float32Array(3),center:new Float32Array(3)};y();function y(){Ne(f.up,r.up),Ne(f.center,r.center),f.near=r.near,f.far=r.far,f.distance=r.distance,f.phi=r.phi,f.theta=r.theta,f.fovY=r.fovY}function O(){return!tt(r.up,f.up)||!tt(r.center,f.center)||r.near!==f.near||r.far!==f.far||r.phi!==f.phi||r.theta!==f.theta||r.distance!==f.distance||r.fovY!==f.fovY}var x={};function _(){x.dPhi=r.phi-f.phi,x.dTheta=r.theta-f.theta,x.zoom=r.distance/f.distance-1,r.theta=f.theta,r.distance=f.distance,r.phi=f.phi,x.yaw=0,x.pitch=0,x.panX=0,x.panY=0,x.panZ=0,x.mouseX=0,x.mouseY=0,P(x)}function T(){i.state.eye[0]=0,i.state.eye[1]=0,i.state.eye[2]=r.distance,et(i.state.eye,i.state.eye,b,-r.phi),De(i.state.eye,i.state.eye,b,r.theta),yr(i.state.eye,i.state.eye,r.center),_r(i.state.view,i.state.eye,r.center,r.up),Ar(i.state.projection,r.fovY,i.params.aspectRatio,r.near,r.far),mr(i.state.viewInv,i.state.view)}function I(){n=!0}function w(h){i.params.aspectRatio=h,T(),I()}function R(){if(Math.abs(r.zoom)>1e-4||Math.abs(r.panX)>1e-4||Math.abs(r.panY)>1e-4||Math.abs(r.panZ)>1e-4||Math.abs(r.dTheta)>1e-4||Math.abs(r.dPhi)>1e-4||Math.abs(r.yaw)>1e-4||Math.abs(r.pitch)>1e-4)return!0}function K(h){h.zoom=0,h.dTheta=0,h.dPhi=0,h.panX=0,h.panY=0,h.panZ=0,h.yaw=0,h.pitch=0}function q(h){var d=r.panDecayTime?Math.exp(-h/r.panDecayTime/Math.LN2):0,z=r.zoomDecayTime?Math.exp(-h/r.zoomDecayTime/Math.LN2):0,k=r.rotationDecayTime?Math.exp(-h/r.rotationDecayTime/Math.LN2):0;r.zoom*=z,r.panX*=d,r.panY*=d,r.panZ*=d,r.dTheta*=k,r.dPhi*=k,r.yaw*=k,r.pitch*=k}var D={};K(D);function W(h,d){var z=i.params.distance*Math.tan(i.params.fovY*.5)*2;return D.panX+=h*r.aspectRatio*z,D.panY+=d*z,i}function Y(h,d,z){return D.zoom+=z,r.mouseX=h,r.mouseY=d,i}function B(h,d){var z=i.params.fovY;D.yaw+=h*z*r.aspectRatio,D.pitch+=d*z}function M(h,d){D.dTheta+=h,D.dPhi+=d}function P(h){var d;gr(l),r.zoomAboutCursor&&(d=r.distance*Math.tan(r.fovY*.5),o[0]=h.mouseX*r.aspectRatio*d,o[1]=h.mouseY*d,o[2]=0,rt(l,l,o)),o[0]=1+h.zoom,o[1]=1+h.zoom,o[2]=1,Cr(l,l,o),r.zoomAboutCursor&&(d=r.distance*Math.tan(r.fovY*.5),o[0]=-h.mouseX*r.aspectRatio*d,o[1]=-h.mouseY*d,o[2]=0,rt(l,l,o)),l[12]-=h.panX*.5,l[13]-=h.panY*.5,ke(r.center,r.center,i.state.view),ke(r.center,r.center,l),ke(r.center,r.center,i.state.viewInv),r.rotateAboutCenter&&Ne(r.rotationCenter,r.center),r.distance*=1+h.zoom;var z=r.phi;r.phi+=h.dPhi,r.phi=Math.min(nt,Math.max(it,r.phi));var k=r.phi-z,S=r.theta;r.theta+=h.dTheta;var N=r.theta-S;if(De(r.center,r.center,r.rotationCenter,N-r.theta),et(r.center,r.center,r.rotationCenter,-k),De(r.center,r.center,r.rotationCenter,r.theta),h.yaw!==0||h.pitch!==0){p[0]=i.state.view[0],p[1]=i.state.view[4],p[2]=i.state.view[8],Ye(p,p),u[0]=i.state.view[1],u[1]=i.state.view[5],u[2]=i.state.view[9],Ye(u,u),C[0]=i.state.view[2],C[1]=i.state.view[6],C[2]=i.state.view[10],Ye(C,C);var L=Math.min(nt,Math.max(it,r.phi+h.pitch*.5)),U=L-r.phi;je(r.center,r.center,p,-Math.sin(h.yaw*.5)*r.distance),je(r.center,r.center,u,-Math.sin(U)*r.distance),je(r.center,r.center,C,(2-Math.cos(h.yaw*.5)-Math.cos(U))*r.distance),r.phi=L,r.theta+=h.yaw*.5}T(),I()}return w(i.params.aspectRatio),i},Xe={},wr={get exports(){return Xe},set exports(e){Xe=e}},Ie={},Mr={get exports(){return Ie},set exports(e){Ie=e}},at;function Er(){return at||(at=1,function(e,t){(function(n,r){e.exports=r()})(we,function(){var n={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},r=Array.prototype.slice;function s(l){var f=l.length;return f?f===1?[l[0]]:f===2?[l[0],l[1]]:f===3?[l[0],l[1],l[2]]:r.call(l,0):[]}function i(l){var f={};for(var y in l)n[y]||(f[y]=l[y]);return f}function o(l){return typeof l=="function"&&l.isMemoized}function u(l,f){return l===f||l!==l&&f!==f}function p(l,f){var y={};for(var O in l)y[O]=l[O];for(var O in f)y[O]=f[O];return y}var C=function(){function l(f){this.keys=[],this.values=[],this.options=f;var y=typeof f.isMatchingKey=="function";y?this.getKeyIndex=this._getKeyIndexFromMatchingKey:f.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof f.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||y,this.shouldUpdateOnAdd=typeof f.onCacheAdd=="function",this.shouldUpdateOnChange=typeof f.onCacheChange=="function",this.shouldUpdateOnHit=typeof f.onCacheHit=="function"}return Object.defineProperty(l.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"snapshot",{get:function(){return{keys:s(this.keys),size:this.size,values:s(this.values)}},enumerable:!1,configurable:!0}),l.prototype._getKeyIndexFromMatchingKey=function(f){var y=this.options,O=y.isMatchingKey,x=y.maxSize,_=this.keys,T=_.length;if(!T)return-1;if(O(_[0],f))return 0;if(x>1){for(var I=1;I<T;I++)if(O(_[I],f))return I}return-1},l.prototype._getKeyIndexForMany=function(f){var y=this.options.isEqual,O=this.keys,x=O.length;if(!x)return-1;if(x===1)return this._getKeyIndexForSingle(f);var _=f.length,T,I;if(_>1){for(var w=0;w<x;w++)if(T=O[w],T.length===_){for(I=0;I<_&&y(T[I],f[I]);I++);if(I===_)return w}}else for(var w=0;w<x;w++)if(T=O[w],T.length===_&&y(T[0],f[0]))return w;return-1},l.prototype._getKeyIndexForSingle=function(f){var y=this.keys;if(!y.length)return-1;var O=y[0],x=O.length;if(f.length!==x)return-1;var _=this.options.isEqual;if(x>1){for(var T=0;T<x;T++)if(!_(O[T],f[T]))return-1;return 0}return _(O[0],f[0])?0:-1},l.prototype.orderByLru=function(f,y,O){for(var x=this.keys,_=this.values,T=x.length,I=O;I--;)x[I+1]=x[I],_[I+1]=_[I];x[0]=f,_[0]=y;var w=this.options.maxSize;T===w&&O===T?(x.pop(),_.pop()):O>=w&&(x.length=_.length=w)},l.prototype.updateAsyncCache=function(f){var y=this,O=this.options,x=O.onCacheChange,_=O.onCacheHit,T=this.keys[0],I=this.values[0];this.values[0]=I.then(function(w){return y.shouldUpdateOnHit&&_(y,y.options,f),y.shouldUpdateOnChange&&x(y,y.options,f),w},function(w){var R=y.getKeyIndex(T);throw R!==-1&&(y.keys.splice(R,1),y.values.splice(R,1)),w})},l}();function b(l,f){if(f===void 0&&(f={}),o(l))return b(l.fn,p(l.options,f));if(typeof l!="function")throw new TypeError("You must pass a function to `memoize`.");var y=f.isEqual,O=y===void 0?u:y,x=f.isMatchingKey,_=f.isPromise,T=_===void 0?!1:_,I=f.maxSize,w=I===void 0?1:I,R=f.onCacheAdd,K=f.onCacheChange,q=f.onCacheHit,D=f.transformKey,W=p({isEqual:O,isMatchingKey:x,isPromise:T,maxSize:w,onCacheAdd:R,onCacheChange:K,onCacheHit:q,transformKey:D},i(f)),Y=new C(W),B=Y.keys,M=Y.values,P=Y.canTransformKey,h=Y.shouldCloneArguments,d=Y.shouldUpdateOnAdd,z=Y.shouldUpdateOnChange,k=Y.shouldUpdateOnHit,S=function(){var N=h?s(arguments):arguments;P&&(N=D(N));var L=B.length?Y.getKeyIndex(N):-1;if(L!==-1)k&&q(Y,W,S),L&&(Y.orderByLru(B[L],M[L],L),z&&K(Y,W,S));else{var U=l.apply(this,arguments),G=h?N:s(arguments);Y.orderByLru(G,U,B.length),T&&Y.updateAsyncCache(S),d&&R(Y,W,S),z&&K(Y,W,S)}return M[0]};return S.cache=Y,S.fn=l,S.isMemoized=!0,S.options=W,S}return b})}(Mr)),Ie}var Ce={},zr={get exports(){return Ce},set exports(e){Ce=e}},st;function xr(){return st||(st=1,function(e,t){(function(n,r){r(t)})(we,function(n){var r=typeof WeakMap=="function",s=Object.keys;function i(M,P){return M===P||M!==M&&P!==P}function o(M){return M.constructor===Object||M.constructor==null}function u(M){return!!M&&typeof M.then=="function"}function p(M){return!!(M&&M.$$typeof)}function C(){var M=[];return{delete:function(P){for(var h=0;h<M.length;++h)if(M[h][0]===P){M.splice(h,1);return}},get:function(P){for(var h=0;h<M.length;++h)if(M[h][0]===P)return M[h][1]},set:function(P,h){for(var d=0;d<M.length;++d)if(M[d][0]===P){M[d][1]=h;return}M.push([P,h])}}}var b=function(M){return M?function(){return new WeakMap}:C}(r);function l(M){return function(h){var d=M||h;return function(k,S,N,L,U,G,Z){Z===void 0&&(Z=b());var ie=!!k&&typeof k=="object",Me=!!S&&typeof S=="object";if(ie!==Me)return!1;if(!ie&&!Me)return d(k,S,Z);var Ee=Z.get(k);if(Ee&&Z.get(S))return Ee===S;Z.set(k,S),Z.set(S,k);var Fe=d(k,S,Z);return Z.delete(k),Z.delete(S),Fe}}}function f(M,P,h,d){var z=M.length;if(P.length!==z)return!1;for(;z-- >0;)if(!h(M[z],P[z],z,z,M,P,d))return!1;return!0}function y(M,P,h,d){var z=M.size===P.size;if(z&&M.size){var k={},S=0;M.forEach(function(N,L){if(z){var U=!1,G=0;P.forEach(function(Z,ie){!U&&!k[G]&&(U=h(L,ie,S,G,M,P,d)&&h(N,Z,L,ie,M,P,d),U&&(k[G]=!0)),G++}),S++,z=U}})}return z}var O="_owner",x=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function _(M,P,h,d){var z=s(M),k=z.length;if(s(P).length!==k)return!1;if(k)for(var S=void 0;k-- >0;){if(S=z[k],S===O){var N=p(M),L=p(P);if((N||L)&&N!==L)return!1}if(!x(P,S)||!h(M[S],P[S],S,S,M,P,d))return!1}return!0}var T=function(){return/foo/g.flags==="g"?function(P,h){return P.source===h.source&&P.flags===h.flags}:function(P,h){return P.source===h.source&&P.global===h.global&&P.ignoreCase===h.ignoreCase&&P.multiline===h.multiline&&P.unicode===h.unicode&&P.sticky===h.sticky&&P.lastIndex===h.lastIndex}}();function I(M,P,h,d){var z=M.size===P.size;if(z&&M.size){var k={};M.forEach(function(S,N){if(z){var L=!1,U=0;P.forEach(function(G,Z){!L&&!k[U]&&(L=h(S,G,N,Z,M,P,d),L&&(k[U]=!0)),U++}),z=L}})}return z}var w=typeof Map=="function",R=typeof Set=="function",K=Object.prototype.valueOf;function q(M){var P=typeof M=="function"?M(h):function(d,z,k,S,N,L,U){return h(d,z,U)};function h(d,z,k){if(d===z)return!0;if(d&&z&&typeof d=="object"&&typeof z=="object"){if(o(d)&&o(z))return _(d,z,P,k);var S=Array.isArray(d),N=Array.isArray(z);return S||N?S===N&&f(d,z,P,k):(S=d instanceof Date,N=z instanceof Date,S||N?S===N&&i(d.getTime(),z.getTime()):(S=d instanceof RegExp,N=z instanceof RegExp,S||N?S===N&&T(d,z):u(d)||u(z)?d===z:w&&(S=d instanceof Map,N=z instanceof Map,S||N)?S===N&&y(d,z,P,k):R&&(S=d instanceof Set,N=z instanceof Set,S||N)?S===N&&I(d,z,P,k):d.valueOf!==K||z.valueOf!==K?i(d.valueOf(),z.valueOf()):_(d,z,P,k)))}return d!==d&&z!==z}return h}var D=q(),W=q(function(){return i}),Y=q(l()),B=q(l(i));n.circularDeepEqual=Y,n.circularShallowEqual=B,n.createCustomEqual=q,n.deepEqual=D,n.sameValueZeroEqual=i,n.shallowEqual=W,Object.defineProperty(n,"__esModule",{value:!0})})}(zr,Ce)),Ce}(function(e,t){(function(n,r){e.exports=r(Er(),xr())})(we,function(n,r){function s(){return s=Object.assign?Object.assign.bind():function(a){for(var c=1;c<arguments.length;c++){var m=arguments[c];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(a[v]=m[v])}return a},s.apply(this,arguments)}function i(a,c){if(a==null)return{};var m={},v=Object.keys(a),A,g;for(g=0;g<v.length;g++)A=v[g],!(c.indexOf(A)>=0)&&(m[A]=a[A]);return m}var o={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function u(){for(var a=arguments.length,c=new Array(a),m=0;m<a;m++)c[m]=arguments[m];return c.reduce(function(v,A){if(typeof v=="function")return typeof A=="function"?function(){v.apply(this,arguments),A.apply(this,arguments)}:v;if(typeof A=="function")return A})}function p(){for(var a=arguments.length,c=new Array(a),m=0;m<a;m++)c[m]=arguments[m];return c.reduce(function(v,A){if(typeof v=="function")return typeof A=="function"?function(){return v(A.apply(this,arguments))}:v;if(typeof A=="function")return A})}function C(a,c){for(var m=0;m<a.length;m++)if(a[m].key===c)return m;return-1}function b(a,c){var m=typeof c=="function"?c:function(v,A){for(var g=0;g<A.length;g++)if(!a(v[g],A[g]))return!1;return!0};return function(v,A){for(var g=0;g<v.length;g++)if(v[g].length===A.length&&m(v[g],A))return g;return-1}}function l(a,c){return!c||c===o?a:s({},a,c,{onCacheAdd:u(a.onCacheAdd,c.onCacheAdd),onCacheChange:u(a.onCacheChange,c.onCacheChange),onCacheHit:u(a.onCacheHit,c.onCacheHit),transformArgs:p(a.transformArgs,c.transformArgs)})}function f(a){return typeof a=="function"&&a.isMoized}function y(a,c,m){try{var v=m||c||"anonymous";Object.defineProperty(a,"name",{configurable:!0,enumerable:!1,value:"moized("+v+")",writable:!0})}catch{}}function O(a,c,m){var v=C(a,c);v!==-1&&(clearTimeout(a[v].timeoutId),m&&a.splice(v,1))}function x(a,c){var m=setTimeout(a,c);return typeof m.unref=="function"&&m.unref(),m}function _(a,c,m,v){var A=c.maxAge;return function g(E,j,X){var H=E.keys[0];if(C(a,H)===-1){var $=function(){var Q=b(m,v),ee=Q(E.keys,H),fe=E.values[ee];~ee&&(E.keys.splice(ee,1),E.values.splice(ee,1),typeof c.onCacheChange=="function"&&c.onCacheChange(E,j,X)),O(a,H,!0),typeof c.onExpire=="function"&&c.onExpire(H)===!1&&(E.keys.unshift(H),E.values.unshift(fe),g(E,j,X),typeof c.onCacheChange=="function"&&c.onCacheChange(E,j,X))};a.push({expirationMethod:$,key:H,timeoutId:x($,A)})}}}function T(a,c){return function(v){var A=v.keys[0],g=C(a,A);~g&&(O(a,A,!1),a[g].timeoutId=x(a[g].expirationMethod,c.maxAge))}}function I(a,c,m,v){var A=typeof c.maxAge=="number"&&isFinite(c.maxAge)?_(a,c,m,v):void 0;return{onCacheAdd:A,onCacheHit:A&&c.updateExpire?T(a,c):void 0}}var w={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},R=!1;function K(a){a?delete w.profiles[a]:w.profiles={}}function q(a){a===void 0&&(a=!0),w.isCollectingStats=a}function D(a){var c=a.profileName;return function(){c&&!w.profiles[c]&&(w.profiles[c]={calls:0,hits:0}),w.profiles[c].calls++}}function W(a){return function(){var c=w.profiles,m=a.profileName;c[m]||(c[m]={calls:0,hits:0}),c[m].calls++,c[m].hits++}}function Y(a){return a.displayName||a.name||"Anonymous "+w.anonymousProfileNameCounter++}function B(a,c){return a?(c/a*100).toFixed(4)+"%":"0.0000%"}function M(a){!w.isCollectingStats&&!R&&(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),R=!0);var c=w.profiles;if(a){if(!c[a])return{calls:0,hits:0,usage:"0.0000%"};var m=c[a];return s({},m,{usage:B(m.calls,m.hits)})}var v=Object.keys(w.profiles).reduce(function(A,g){return A.calls+=c[g].calls,A.hits+=c[g].hits,A},{calls:0,hits:0});return s({},v,{profiles:Object.keys(c).reduce(function(A,g){return A[g]=M(g),A},{}),usage:B(v.calls,v.hits)})}function P(a){return w.isCollectingStats?{onCacheAdd:D(a),onCacheHit:W(a)}:{}}var h={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function d(a,c,m){m===void 0&&(m=[]),Object.getOwnPropertyNames(a).forEach(function(v){if(!h[v]&&m.indexOf(v)===-1){var A=Object.getOwnPropertyDescriptor(a,v);A.get||A.set?Object.defineProperty(c,v,A):c[v]=a[v]}})}function z(a,c){var m=c.expirations,v=a.options,A=b(v.isEqual,v.isMatchingKey),g=a;g.clear=function(){var E=g._microMemoizeOptions.onCacheChange,j=g.cache;return j.keys.length=0,j.values.length=0,E&&E(j,g.options,g),!0},g.clearStats=function(){K(g.options.profileName)},g.get=function(E){var j=g._microMemoizeOptions.transformKey,X=g.cache,H=j?j(E):E,$=A(X.keys,H);return $!==-1?g.apply(this,E):void 0},g.getStats=function(){return M(g.options.profileName)},g.has=function(E){var j=g._microMemoizeOptions.transformKey,X=j?j(E):E;return A(g.cache.keys,X)!==-1},g.keys=function(){return g.cacheSnapshot.keys},g.remove=function(E){var j=g._microMemoizeOptions,X=j.onCacheChange,H=j.transformKey,$=g.cache,V=A($.keys,H?H(E):E);if(V===-1)return!1;var Q=$.keys[V];return $.keys.splice(V,1),$.values.splice(V,1),X&&X($,g.options,g),O(m,Q,!0),!0},g.set=function(E,j){var X=g._microMemoizeOptions,H=g.cache,$=g.options,V=X.onCacheAdd,Q=X.onCacheChange,ee=X.transformKey,fe=ee?ee(E):E,re=A(H.keys,fe);if(re===-1){var ue=$.maxSize-1;H.size>ue&&(H.keys.length=ue,H.values.length=ue),H.keys.unshift(fe),H.values.unshift(j),$.isPromise&&H.updateAsyncCache(g),V&&V(H,$,g),Q&&Q(H,$,g)}else{var ze=H.keys[re];H.values[re]=j,re>0&&H.orderByLru(ze,j,re),$.isPromise&&H.updateAsyncCache(g),typeof Q=="function"&&Q(H,$,g)}},g.values=function(){return g.cacheSnapshot.values}}function k(a,c){var m=c.expirations,v=c.options,A=c.originalFunction,g=a.options;Object.defineProperties(a,{_microMemoizeOptions:{configurable:!0,get:function(){return g}},cacheSnapshot:{configurable:!0,get:function(){var X=a.cache;return{keys:X.keys.slice(0),size:X.size,values:X.values.slice(0)}}},expirations:{configurable:!0,get:function(){return m}},expirationsSnapshot:{configurable:!0,get:function(){return m.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return v}},originalFunction:{configurable:!0,get:function(){return A}}});var E=a;d(A,E)}function S(a,c){return z(a,c),k(a,c),a}var N=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function L(a,c,m){var v=a(s({maxArgs:2,isShallowEqual:!0},m,{isReact:!1}));c.displayName||(c.displayName=c.name||"Component");function A(g,E,j){this.props=g,this.context=E,this.updater=j,this.MoizedComponent=v(c)}return A.prototype.isReactComponent={},A.prototype.render=function(){return{$$typeof:N,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},d(c,A,["contextType","contextTypes"]),A.displayName="Moized("+(c.displayName||c.name||"Component")+")",y(A,c.name,m.profileName),A}function U(a){return function(c){if(a>=c.length)return c;if(a===0)return[];if(a===1)return[c[0]];if(a===2)return[c[0],c[1]];if(a===3)return[c[0],c[1],c[2]];for(var m=[],v=0;v<a;v++)m[v]=c[v];return m}}function G(a,c){for(var m=a.length,v=0;v<m;++v)if(a[v]===c)return v+1;return 0}function Z(){var a=[],c=[];return function(v,A){var g=typeof A;if(g==="function"||g==="symbol")return A.toString();if(typeof A=="object"){if(a.length){var E=G(a,this);E===0?a[a.length]=this:(a.splice(E),c.splice(E)),c[c.length]=v;var j=G(a,A);if(j!==0)return"[ref="+(c.slice(0,j).join(".")||".")+"]"}else a[0]=A,c[0]=v;return A}return""+A}}function ie(a){var c=typeof a;return a&&(c==="object"||c==="function")?JSON.stringify(a,Z()):a}function Me(a){for(var c="|",m=0;m<a.length;m++)c+=ie(a[m])+"|";return[c]}function Ee(a){return typeof a.serializer=="function"?a.serializer:Me}function Fe(a,c){return a[0]===c[0]}function Re(a){if(typeof a=="function")return function(c,m,v){return a(v.cache,v.options,v)}}function _t(a){return a.matchesArg||a.isDeepEqual&&r.deepEqual||a.isShallowEqual&&r.shallowEqual||r.sameValueZeroEqual}function At(a){return a.matchesKey||a.isSerialized&&Fe||void 0}function wt(a){return p(a.isSerialized&&Ee(a),typeof a.transformArgs=="function"&&a.transformArgs,typeof a.maxArgs=="number"&&U(a.maxArgs))}function Mt(a){var c=a.options.updateCacheForKey,m=function(){for(var A=arguments.length,g=new Array(A),E=0;E<A;E++)g[E]=arguments[E];if(!c(g))return a.apply(this,g);var j=a.fn.apply(this,g);return a.set(g,j),j};return d(a,m),m}var Et=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],F=function a(c,m){var v=m||o;if(f(c)){var A=c.originalFunction,g=l(c.options,v);return a(A,g)}if(typeof c=="object")return function(Ke,Ot){if(typeof Ke=="function"){var St=l(c,Ot);return a(Ke,St)}var Tt=l(c,Ke);return a(Tt)};if(v.isReact)return L(a,c,v);var E=s({},o,v,{maxAge:typeof v.maxAge=="number"&&v.maxAge>=0?v.maxAge:o.maxAge,maxArgs:typeof v.maxArgs=="number"&&v.maxArgs>=0?v.maxArgs:o.maxArgs,maxSize:typeof v.maxSize=="number"&&v.maxSize>=0?v.maxSize:o.maxSize,profileName:v.profileName||Y(c)}),j=[];E.matchesArg,E.isDeepEqual;var X=E.isPromise;E.isReact,E.isSerialized,E.isShallowEqual,E.matchesKey,E.maxAge,E.maxArgs;var H=E.maxSize,$=E.onCacheAdd,V=E.onCacheChange,Q=E.onCacheHit;E.onExpire,E.profileName,E.serializer;var ee=E.updateCacheForKey;E.transformArgs,E.updateExpire;var fe=i(E,Et),re=_t(E),ue=At(E),ze=I(j,E,re,ue),Qe=P(E),xt=wt(E),bt=s({},fe,{isEqual:re,isMatchingKey:ue,isPromise:X,maxSize:H,onCacheAdd:Re(u($,ze.onCacheAdd,Qe.onCacheAdd)),onCacheChange:Re(V),onCacheHit:Re(u(Q,ze.onCacheHit,Qe.onCacheHit)),transformKey:xt}),Pt=n(c,bt),xe=S(Pt,{expirations:j,options:E,originalFunction:c});return ee&&(xe=Mt(xe)),y(xe,c.name,v.profileName),xe};F.clearStats=K,F.collectStats=q,F.compose=function(){return p.apply(void 0,arguments)||F},F.deep=F({isDeepEqual:!0}),F.getStats=M,F.infinite=F({maxSize:1/0}),F.isCollectingStats=function(){return w.isCollectingStats},F.isMoized=function(c){return typeof c=="function"&&!!c.isMoized},F.matchesArg=function(a){return F({matchesArg:a})},F.matchesKey=function(a){return F({matchesKey:a})};function zt(a,c){if(c===!0)return F({maxAge:a,updateExpire:c});if(typeof c=="object"){var m=c.onExpire,v=c.updateExpire;return F({maxAge:a,onExpire:m,updateExpire:v})}return F(typeof c=="function"?{maxAge:a,onExpire:c,updateExpire:!0}:{maxAge:a})}return F.maxAge=zt,F.maxArgs=function(a){return F({maxArgs:a})},F.maxSize=function(a){return F({maxSize:a})},F.profile=function(a){return F({profileName:a})},F.promise=F({isPromise:!0,updateExpire:!0}),F.react=F({isReact:!0}),F.serialize=F({isSerialized:!0}),F.serializeWith=function(a){return F({isSerialized:!0,serializer:a})},F.shallow=F({isShallowEqual:!0}),F.transformArgs=function(a){return F({transformArgs:a})},F.updateCacheForKey=function(a){return F({updateCacheForKey:a})},Object.defineProperty(F,"default",{configurable:!1,enumerable:!1,value:F,writable:!1}),F})})(wr);var gt=Xe,ce=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var t=1.70158;return e===1?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return e===0?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-ce.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?ce.Bounce.In(e*2)*.5:ce.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(t*2,e)/2:(1-Math.pow(2-t*2,e))/2+.5}}}}),ge;typeof self>"u"&&typeof process<"u"&&process.hrtime?ge=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?ge=self.performance.now.bind(self.performance):Date.now!==void 0?ge=Date.now:ge=function(){return new Date().getTime()};var me=ge,br=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,n){t===void 0&&(t=me()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<r.length;s++){var i=this._tweens[r[s]],o=!n;i&&i.update(t,o)===!1&&!n&&delete this._tweens[r[s]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),he={Linear:function(e,t){var n=e.length-1,r=n*t,s=Math.floor(r),i=he.Utils.Linear;return t<0?i(e[0],e[1],r):t>1?i(e[n],e[n-1],n-r):i(e[s],e[s+1>n?n:s+1],r-s)},Bezier:function(e,t){for(var n=0,r=e.length-1,s=Math.pow,i=he.Utils.Bernstein,o=0;o<=r;o++)n+=s(1-t,r-o)*s(t,o)*e[o]*i(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,s=Math.floor(r),i=he.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(s=Math.floor(r=n*(1+t))),i(e[(s-1+n)%n],e[s],e[(s+1)%n],e[(s+2)%n],r-s)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(i(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):i(e[s?s-1:0],e[s],e[n<s+1?n:s+1],e[n<s+2?n:s+2],r-s)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=he.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,s){var i=(n-e)*.5,o=(r-t)*.5,u=s*s,p=s*u;return(2*t-2*n+i+o)*p+(-3*t+3*n-2*i-o)*u+i*s+t}}},Pr=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Ze=new br,mt=function(){function e(t,n){n===void 0&&(n=Ze),this._object=t,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ce.Linear.None,this._interpolationFunction=he.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Pr.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(t,n){return this._valuesEnd=Object.create(t),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(t){return t===void 0&&(t=1e3),this._duration=t,this},e.prototype.start=function(t,n){if(t===void 0&&(t=me()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n),this},e.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},e.prototype._setupProperties=function(t,n,r,s,i){for(var o in r){var u=t[o],p=Array.isArray(u),C=p?"array":typeof u,b=!p&&Array.isArray(r[o]);if(!(C==="undefined"||C==="function")){if(b){var l=r[o];if(l.length===0)continue;l=l.map(this._handleRelativeValue.bind(this,u)),n[o]===void 0&&(r[o]=[u].concat(l))}if((C==="object"||p)&&u&&!b){n[o]=p?[]:{};for(var f in u)n[o][f]=u[f];s[o]=p?[]:{},this._setupProperties(u,n[o],r[o],s[o],i)}else(typeof n[o]>"u"||i)&&(n[o]=u),p||(n[o]*=1),b?s[o]=r[o].slice().reverse():s[o]=n[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=me()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=me()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return t===void 0&&(t=Ze),this._group=t,this},e.prototype.delay=function(t){return t===void 0&&(t=0),this._delayTime=t,this},e.prototype.repeat=function(t){return t===void 0&&(t=0),this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return t===void 0&&(t=!1),this._yoyo=t,this},e.prototype.easing=function(t){return t===void 0&&(t=ce.Linear.None),this._easingFunction=t,this},e.prototype.interpolation=function(t){return t===void 0&&(t=he.Linear),this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){if(t===void 0&&(t=me()),n===void 0&&(n=!0),this._isPaused)return!0;var r,s,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;n&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),s=(t-this._startTime)/this._duration,s=this._duration===0||s>1?1:s;var o=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),s===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,p=this._chainedTweens.length;u<p;u++)this._chainedTweens[u].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,n,r,s){for(var i in r)if(n[i]!==void 0){var o=n[i]||0,u=r[i],p=Array.isArray(t[i]),C=Array.isArray(u),b=!p&&C;b?t[i]=this._interpolationFunction(u,s):typeof u=="object"&&u?this._updateProperties(t[i],o,u,s):(u=this._handleRelativeValue(o,u),typeof u=="number"&&(t[i]=o+(u-o)*s))}},e.prototype._handleRelativeValue=function(t,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],r=this._valuesEnd[t];typeof r=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(r):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=n},e}(),J=Ze;J.getAll.bind(J);J.removeAll.bind(J);J.add.bind(J);J.remove.bind(J);var Or=J.update.bind(J),_e={},Sr={get exports(){return _e},set exports(e){_e=e}},$e={},Pe={get exports(){return $e},set exports(e){$e=e}};(function(){var e,t,n,r,s,i;typeof performance<"u"&&performance!==null&&performance.now?Pe.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Pe.exports=function(){return(e()-s)/1e6},t=process.hrtime,e=function(){var o;return o=t(),o[0]*1e9+o[1]},r=e(),i=process.uptime()*1e9,s=r-i):Date.now?(Pe.exports=function(){return Date.now()-n},n=Date.now()):(Pe.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(we);var Tr=$e,te=typeof window>"u"?we:window,Oe=["moz","webkit"],pe="AnimationFrame",de=te["request"+pe],Ae=te["cancel"+pe]||te["cancelRequest"+pe];for(var ye=0;!de&&ye<Oe.length;ye++)de=te[Oe[ye]+"Request"+pe],Ae=te[Oe[ye]+"Cancel"+pe]||te[Oe[ye]+"CancelRequest"+pe];if(!de||!Ae){var He=0,ot=0,ae=[],Ir=1e3/60;de=function(e){if(ae.length===0){var t=Tr(),n=Math.max(0,Ir-(t-He));He=n+t,setTimeout(function(){var r=ae.slice(0);ae.length=0;for(var s=0;s<r.length;s++)if(!r[s].cancelled)try{r[s].callback(He)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return ae.push({handle:++ot,callback:e,cancelled:!1}),ot},Ae=function(e){for(var t=0;t<ae.length;t++)ae[t].handle===e&&(ae[t].cancelled=!0)}}Sr.exports=function(e){return de.call(te,e)};_e.cancel=function(){Ae.apply(te,arguments)};_e.polyfill=function(e){e||(e=te),e.requestAnimationFrame=de,e.cancelAnimationFrame=Ae};var ve=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Fr(){var e=new ve(16);return ve!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function ct(e,t,n,r,s,i,o,u,p,C,b,l,f,y,O,x){var _=new ve(16);return _[0]=e,_[1]=t,_[2]=n,_[3]=r,_[4]=s,_[5]=i,_[6]=o,_[7]=u,_[8]=p,_[9]=C,_[10]=b,_[11]=l,_[12]=f,_[13]=y,_[14]=O,_[15]=x,_}function Rr(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3],u=t[4],p=t[5],C=t[6],b=t[7],l=t[8],f=t[9],y=t[10],O=t[11],x=t[12],_=t[13],T=t[14],I=t[15],w=n[0],R=n[1],K=n[2],q=n[3];return e[0]=w*r+R*u+K*l+q*x,e[1]=w*s+R*p+K*f+q*_,e[2]=w*i+R*C+K*y+q*T,e[3]=w*o+R*b+K*O+q*I,w=n[4],R=n[5],K=n[6],q=n[7],e[4]=w*r+R*u+K*l+q*x,e[5]=w*s+R*p+K*f+q*_,e[6]=w*i+R*C+K*y+q*T,e[7]=w*o+R*b+K*O+q*I,w=n[8],R=n[9],K=n[10],q=n[11],e[8]=w*r+R*u+K*l+q*x,e[9]=w*s+R*p+K*f+q*_,e[10]=w*i+R*C+K*y+q*T,e[11]=w*o+R*b+K*O+q*I,w=n[12],R=n[13],K=n[14],q=n[15],e[12]=w*r+R*u+K*l+q*x,e[13]=w*s+R*p+K*f+q*_,e[14]=w*i+R*C+K*y+q*T,e[15]=w*o+R*b+K*O+q*I,e}function We(){var e=new ve(4);return ve!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Kr(e,t,n,r){var s=new ve(4);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s}function qr(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function kr(e,t,n){var r=t[0],s=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*s+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*s+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*s+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*s+n[11]*i+n[15]*o,e}(function(){var e=We();return function(t,n,r,s,i,o){var u,p;for(n||(n=4),r||(r=0),s?p=Math.min(s*n+r,t.length):p=t.length,u=r;u<p;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],i(e,e,o),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}})();const Ve=gt.infinite(()=>yt({panDecayTime:200,zoomDecayTime:200,rotationDecayTime:500,distance:2e3})),ft=gt.infinite(e=>yt({phi:Math.PI/4,theta:Math.PI/4,distance:200,center:[0,0,0],fovY:.013888888888888888*(Math.PI/2),near:2,far:400})),ne=Ve(),Dr=(e,t,n)=>{const r=Ve(),s={near:r.params.distance*.1,far:r.params.distance*5e4};r.resize(t/n),r.tick({fovY:Math.PI/3,...s});const i=ft("zoomed");i.params.distance=r.params.distance,i.resize(t/n),i.tick(s);const o=ft("fixed");o.resize(t/n),o.tick({near:o.params.distance*.1,far:o.params.distance*1e4});const u=new Float32Array(r.state.projection),p=new Float32Array(r.state.view),C=new Float32Array(i.state.projection),b=new Float32Array(i.state.view),l=new Float32Array(o.state.projection),f=new Float32Array(o.state.view);e(se(u,[u.buffer]),se(p,[p.buffer]),se(C,[C.buffer]),se(b,[b.buffer]),se(l,[l.buffer]),se(f,[f.buffer]))};let Se,Te;const jr=(e,t=3e3)=>{Se?.stop(),Se=new mt(ne.params.center).to(e,t).easing(ce.Cubic.InOut),Se.start(),ne.params.rotationCenter=e},Nr=(e,t=5e3)=>{Te?.stop(),Te=new mt(ne.params).to({distance:e},t).easing(ce.Cubic.InOut),Te.start()},Ct=()=>{_e(Ct),Or()};Ct();const Yr=()=>{Se?.stop()},Hr=()=>{},Lr=()=>{Te?.stop()},Ur=()=>{},Xr=(e,t,n)=>{(ne.params.distance>25||n>0)&&ne.zoom(e,t,n)},Zr=(...e)=>{ne.pan(...e)},$r=()=>ne.params,Wr=([e,t,n])=>{const{projection:r,view:s}=Ve().state,i=Kr(e,t,n,1),o=We(),u=We(),p=ct(...r),C=ct(...s),b=Fr();return Rr(b,p,C),kr(o,i,b),qr(u,o,1/o[3]),[u[0],u[1],u[2]]};Be({startPanning:Yr,stopPanning:Hr,startZooming:Lr,stopZooming:Ur,globalCamera:ne,getGlobalCameraParams:$r,updateCameras:Dr,setCameraCenter:jr,setCameraDistance:Nr,zoomGlobalCamera:Xr,panGlobalCamera:Zr,computeScreenPosition:Wr});
