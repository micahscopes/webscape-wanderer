function _mergeNamespaces(X,Z){for(var G=0;G<Z.length;G++){const W=Z[G];if(typeof W!="string"&&!Array.isArray(W)){for(const F in W)if(F!=="default"&&!(F in X)){const U=Object.getOwnPropertyDescriptor(W,F);U&&Object.defineProperty(X,F,U.get?U:{enumerable:!0,get:()=>W[F]})}}}return Object.freeze(Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}))}(function(){const Z=document.createElement("link").relList;if(Z&&Z.supports&&Z.supports("modulepreload"))return;for(const F of document.querySelectorAll('link[rel="modulepreload"]'))W(F);new MutationObserver(F=>{for(const U of F)if(U.type==="childList")for(const J of U.addedNodes)J.tagName==="LINK"&&J.rel==="modulepreload"&&W(J)}).observe(document,{childList:!0,subtree:!0});function G(F){const U={};return F.integrity&&(U.integrity=F.integrity),F.referrerPolicy&&(U.referrerPolicy=F.referrerPolicy),F.crossOrigin==="use-credentials"?U.credentials="include":F.crossOrigin==="anonymous"?U.credentials="omit":U.credentials="same-origin",U}function W(F){if(F.ep)return;F.ep=!0;const U=G(F);fetch(F.href,U)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}var moizeExports={},moize$1={get exports(){return moizeExports},set exports(X){moizeExports=X}},microMemoizeExports={},microMemoize={get exports(){return microMemoizeExports},set exports(X){microMemoizeExports=X}},hasRequiredMicroMemoize;function requireMicroMemoize(){return hasRequiredMicroMemoize||(hasRequiredMicroMemoize=1,function(X,Z){(function(G,W){X.exports=W()})(commonjsGlobal,function(){var G={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},W=Array.prototype.slice;function F(q){var te=q.length;return te?te===1?[q[0]]:te===2?[q[0],q[1]]:te===3?[q[0],q[1],q[2]]:W.call(q,0):[]}function U(q){var te={};for(var ie in q)G[ie]||(te[ie]=q[ie]);return te}function J(q){return typeof q=="function"&&q.isMemoized}function Y(q,te){return q===te||q!==q&&te!==te}function D(q,te){var ie={};for(var ne in q)ie[ne]=q[ne];for(var ne in te)ie[ne]=te[ne];return ie}var Q=function(){function q(te){this.keys=[],this.values=[],this.options=te;var ie=typeof te.isMatchingKey=="function";ie?this.getKeyIndex=this._getKeyIndexFromMatchingKey:te.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof te.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||ie,this.shouldUpdateOnAdd=typeof te.onCacheAdd=="function",this.shouldUpdateOnChange=typeof te.onCacheChange=="function",this.shouldUpdateOnHit=typeof te.onCacheHit=="function"}return Object.defineProperty(q.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"snapshot",{get:function(){return{keys:F(this.keys),size:this.size,values:F(this.values)}},enumerable:!1,configurable:!0}),q.prototype._getKeyIndexFromMatchingKey=function(te){var ie=this.options,ne=ie.isMatchingKey,ce=ie.maxSize,le=this.keys,se=le.length;if(!se)return-1;if(ne(le[0],te))return 0;if(ce>1){for(var pe=1;pe<se;pe++)if(ne(le[pe],te))return pe}return-1},q.prototype._getKeyIndexForMany=function(te){var ie=this.options.isEqual,ne=this.keys,ce=ne.length;if(!ce)return-1;if(ce===1)return this._getKeyIndexForSingle(te);var le=te.length,se,pe;if(le>1){for(var ue=0;ue<ce;ue++)if(se=ne[ue],se.length===le){for(pe=0;pe<le&&ie(se[pe],te[pe]);pe++);if(pe===le)return ue}}else for(var ue=0;ue<ce;ue++)if(se=ne[ue],se.length===le&&ie(se[0],te[0]))return ue;return-1},q.prototype._getKeyIndexForSingle=function(te){var ie=this.keys;if(!ie.length)return-1;var ne=ie[0],ce=ne.length;if(te.length!==ce)return-1;var le=this.options.isEqual;if(ce>1){for(var se=0;se<ce;se++)if(!le(ne[se],te[se]))return-1;return 0}return le(ne[0],te[0])?0:-1},q.prototype.orderByLru=function(te,ie,ne){for(var ce=this.keys,le=this.values,se=ce.length,pe=ne;pe--;)ce[pe+1]=ce[pe],le[pe+1]=le[pe];ce[0]=te,le[0]=ie;var ue=this.options.maxSize;se===ue&&ne===se?(ce.pop(),le.pop()):ne>=ue&&(ce.length=le.length=ue)},q.prototype.updateAsyncCache=function(te){var ie=this,ne=this.options,ce=ne.onCacheChange,le=ne.onCacheHit,se=this.keys[0],pe=this.values[0];this.values[0]=pe.then(function(ue){return ie.shouldUpdateOnHit&&le(ie,ie.options,te),ie.shouldUpdateOnChange&&ce(ie,ie.options,te),ue},function(ue){var ae=ie.getKeyIndex(se);throw ae!==-1&&(ie.keys.splice(ae,1),ie.values.splice(ae,1)),ue})},q}();function ee(q,te){if(te===void 0&&(te={}),J(q))return ee(q.fn,D(q.options,te));if(typeof q!="function")throw new TypeError("You must pass a function to `memoize`.");var ie=te.isEqual,ne=ie===void 0?Y:ie,ce=te.isMatchingKey,le=te.isPromise,se=le===void 0?!1:le,pe=te.maxSize,ue=pe===void 0?1:pe,ae=te.onCacheAdd,de=te.onCacheChange,be=te.onCacheHit,he=te.transformKey,Le=D({isEqual:ne,isMatchingKey:ce,isPromise:se,maxSize:ue,onCacheAdd:ae,onCacheChange:de,onCacheHit:be,transformKey:he},U(te)),Xe=new Q(Le),We=Xe.keys,fe=Xe.values,Re=Xe.canTransformKey,ye=Xe.shouldCloneArguments,re=Xe.shouldUpdateOnAdd,Ze=Xe.shouldUpdateOnChange,Ge=Xe.shouldUpdateOnHit,ve=function(){var Te=ye?F(arguments):arguments;Re&&(Te=he(Te));var xe=We.length?Xe.getKeyIndex(Te):-1;if(xe!==-1)Ge&&be(Xe,Le,ve),xe&&(Xe.orderByLru(We[xe],fe[xe],xe),Ze&&de(Xe,Le,ve));else{var Ie=q.apply(this,arguments),Se=ye?Te:F(arguments);Xe.orderByLru(Se,Ie,We.length),se&&Xe.updateAsyncCache(ve),re&&ae(Xe,Le,ve),Ze&&de(Xe,Le,ve)}return fe[0]};return ve.cache=Xe,ve.fn=q,ve.isMemoized=!0,ve.options=Le,ve}return ee})}(microMemoize)),microMemoizeExports}var fastEqualsExports={},fastEquals={get exports(){return fastEqualsExports},set exports(X){fastEqualsExports=X}},hasRequiredFastEquals;function requireFastEquals(){return hasRequiredFastEquals||(hasRequiredFastEquals=1,function(X,Z){(function(G,W){W(Z)})(commonjsGlobal,function(G){var W=typeof WeakMap=="function",F=Object.keys;function U(fe,Re){return fe===Re||fe!==fe&&Re!==Re}function J(fe){return fe.constructor===Object||fe.constructor==null}function Y(fe){return!!fe&&typeof fe.then=="function"}function D(fe){return!!(fe&&fe.$$typeof)}function Q(){var fe=[];return{delete:function(Re){for(var ye=0;ye<fe.length;++ye)if(fe[ye][0]===Re){fe.splice(ye,1);return}},get:function(Re){for(var ye=0;ye<fe.length;++ye)if(fe[ye][0]===Re)return fe[ye][1]},set:function(Re,ye){for(var re=0;re<fe.length;++re)if(fe[re][0]===Re){fe[re][1]=ye;return}fe.push([Re,ye])}}}var ee=function(fe){return fe?function(){return new WeakMap}:Q}(W);function q(fe){return function(ye){var re=fe||ye;return function(Ge,ve,Te,xe,Ie,Se,Ne){Ne===void 0&&(Ne=ee());var je=!!Ge&&typeof Ge=="object",tt=!!ve&&typeof ve=="object";if(je!==tt)return!1;if(!je&&!tt)return re(Ge,ve,Ne);var it=Ne.get(Ge);if(it&&Ne.get(ve))return it===ve;Ne.set(Ge,ve),Ne.set(ve,Ge);var st=re(Ge,ve,Ne);return Ne.delete(Ge),Ne.delete(ve),st}}}function te(fe,Re,ye,re){var Ze=fe.length;if(Re.length!==Ze)return!1;for(;Ze-- >0;)if(!ye(fe[Ze],Re[Ze],Ze,Ze,fe,Re,re))return!1;return!0}function ie(fe,Re,ye,re){var Ze=fe.size===Re.size;if(Ze&&fe.size){var Ge={},ve=0;fe.forEach(function(Te,xe){if(Ze){var Ie=!1,Se=0;Re.forEach(function(Ne,je){!Ie&&!Ge[Se]&&(Ie=ye(xe,je,ve,Se,fe,Re,re)&&ye(Te,Ne,xe,je,fe,Re,re),Ie&&(Ge[Se]=!0)),Se++}),ve++,Ze=Ie}})}return Ze}var ne="_owner",ce=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function le(fe,Re,ye,re){var Ze=F(fe),Ge=Ze.length;if(F(Re).length!==Ge)return!1;if(Ge)for(var ve=void 0;Ge-- >0;){if(ve=Ze[Ge],ve===ne){var Te=D(fe),xe=D(Re);if((Te||xe)&&Te!==xe)return!1}if(!ce(Re,ve)||!ye(fe[ve],Re[ve],ve,ve,fe,Re,re))return!1}return!0}var se=function(){return/foo/g.flags==="g"?function(Re,ye){return Re.source===ye.source&&Re.flags===ye.flags}:function(Re,ye){return Re.source===ye.source&&Re.global===ye.global&&Re.ignoreCase===ye.ignoreCase&&Re.multiline===ye.multiline&&Re.unicode===ye.unicode&&Re.sticky===ye.sticky&&Re.lastIndex===ye.lastIndex}}();function pe(fe,Re,ye,re){var Ze=fe.size===Re.size;if(Ze&&fe.size){var Ge={};fe.forEach(function(ve,Te){if(Ze){var xe=!1,Ie=0;Re.forEach(function(Se,Ne){!xe&&!Ge[Ie]&&(xe=ye(ve,Se,Te,Ne,fe,Re,re),xe&&(Ge[Ie]=!0)),Ie++}),Ze=xe}})}return Ze}var ue=typeof Map=="function",ae=typeof Set=="function",de=Object.prototype.valueOf;function be(fe){var Re=typeof fe=="function"?fe(ye):function(re,Ze,Ge,ve,Te,xe,Ie){return ye(re,Ze,Ie)};function ye(re,Ze,Ge){if(re===Ze)return!0;if(re&&Ze&&typeof re=="object"&&typeof Ze=="object"){if(J(re)&&J(Ze))return le(re,Ze,Re,Ge);var ve=Array.isArray(re),Te=Array.isArray(Ze);return ve||Te?ve===Te&&te(re,Ze,Re,Ge):(ve=re instanceof Date,Te=Ze instanceof Date,ve||Te?ve===Te&&U(re.getTime(),Ze.getTime()):(ve=re instanceof RegExp,Te=Ze instanceof RegExp,ve||Te?ve===Te&&se(re,Ze):Y(re)||Y(Ze)?re===Ze:ue&&(ve=re instanceof Map,Te=Ze instanceof Map,ve||Te)?ve===Te&&ie(re,Ze,Re,Ge):ae&&(ve=re instanceof Set,Te=Ze instanceof Set,ve||Te)?ve===Te&&pe(re,Ze,Re,Ge):re.valueOf!==de||Ze.valueOf!==de?U(re.valueOf(),Ze.valueOf()):le(re,Ze,Re,Ge)))}return re!==re&&Ze!==Ze}return ye}var he=be(),Le=be(function(){return U}),Xe=be(q()),We=be(q(U));G.circularDeepEqual=Xe,G.circularShallowEqual=We,G.createCustomEqual=be,G.deepEqual=he,G.sameValueZeroEqual=U,G.shallowEqual=Le,Object.defineProperty(G,"__esModule",{value:!0})})}(fastEquals,fastEqualsExports)),fastEqualsExports}(function(X,Z){(function(G,W){X.exports=W(requireMicroMemoize(),requireFastEquals())})(commonjsGlobal,function(G,W){function F(){return F=Object.assign?Object.assign.bind():function(Ye){for(var Ce=1;Ce<arguments.length;Ce++){var ze=arguments[Ce];for(var Ee in ze)Object.prototype.hasOwnProperty.call(ze,Ee)&&(Ye[Ee]=ze[Ee])}return Ye},F.apply(this,arguments)}function U(Ye,Ce){if(Ye==null)return{};var ze={},Ee=Object.keys(Ye),_e,He;for(He=0;He<Ee.length;He++)_e=Ee[He],!(Ce.indexOf(_e)>=0)&&(ze[_e]=Ye[_e]);return ze}var J={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function Y(){for(var Ye=arguments.length,Ce=new Array(Ye),ze=0;ze<Ye;ze++)Ce[ze]=arguments[ze];return Ce.reduce(function(Ee,_e){if(typeof Ee=="function")return typeof _e=="function"?function(){Ee.apply(this,arguments),_e.apply(this,arguments)}:Ee;if(typeof _e=="function")return _e})}function D(){for(var Ye=arguments.length,Ce=new Array(Ye),ze=0;ze<Ye;ze++)Ce[ze]=arguments[ze];return Ce.reduce(function(Ee,_e){if(typeof Ee=="function")return typeof _e=="function"?function(){return Ee(_e.apply(this,arguments))}:Ee;if(typeof _e=="function")return _e})}function Q(Ye,Ce){for(var ze=0;ze<Ye.length;ze++)if(Ye[ze].key===Ce)return ze;return-1}function ee(Ye,Ce){var ze=typeof Ce=="function"?Ce:function(Ee,_e){for(var He=0;He<_e.length;He++)if(!Ye(Ee[He],_e[He]))return!1;return!0};return function(Ee,_e){for(var He=0;He<Ee.length;He++)if(Ee[He].length===_e.length&&ze(Ee[He],_e))return He;return-1}}function q(Ye,Ce){return!Ce||Ce===J?Ye:F({},Ye,Ce,{onCacheAdd:Y(Ye.onCacheAdd,Ce.onCacheAdd),onCacheChange:Y(Ye.onCacheChange,Ce.onCacheChange),onCacheHit:Y(Ye.onCacheHit,Ce.onCacheHit),transformArgs:D(Ye.transformArgs,Ce.transformArgs)})}function te(Ye){return typeof Ye=="function"&&Ye.isMoized}function ie(Ye,Ce,ze){try{var Ee=ze||Ce||"anonymous";Object.defineProperty(Ye,"name",{configurable:!0,enumerable:!1,value:"moized("+Ee+")",writable:!0})}catch{}}function ne(Ye,Ce,ze){var Ee=Q(Ye,Ce);Ee!==-1&&(clearTimeout(Ye[Ee].timeoutId),ze&&Ye.splice(Ee,1))}function ce(Ye,Ce){var ze=setTimeout(Ye,Ce);return typeof ze.unref=="function"&&ze.unref(),ze}function le(Ye,Ce,ze,Ee){var _e=Ce.maxAge;return function He(Pe,$e,we){var Ue=Pe.keys[0];if(Q(Ye,Ue)===-1){var et=function(){var Ve=ee(ze,Ee),oe=Ve(Pe.keys,Ue),me=Pe.values[oe];~oe&&(Pe.keys.splice(oe,1),Pe.values.splice(oe,1),typeof Ce.onCacheChange=="function"&&Ce.onCacheChange(Pe,$e,we)),ne(Ye,Ue,!0),typeof Ce.onExpire=="function"&&Ce.onExpire(Ue)===!1&&(Pe.keys.unshift(Ue),Pe.values.unshift(me),He(Pe,$e,we),typeof Ce.onCacheChange=="function"&&Ce.onCacheChange(Pe,$e,we))};Ye.push({expirationMethod:et,key:Ue,timeoutId:ce(et,_e)})}}}function se(Ye,Ce){return function(Ee){var _e=Ee.keys[0],He=Q(Ye,_e);~He&&(ne(Ye,_e,!1),Ye[He].timeoutId=ce(Ye[He].expirationMethod,Ce.maxAge))}}function pe(Ye,Ce,ze,Ee){var _e=typeof Ce.maxAge=="number"&&isFinite(Ce.maxAge)?le(Ye,Ce,ze,Ee):void 0;return{onCacheAdd:_e,onCacheHit:_e&&Ce.updateExpire?se(Ye,Ce):void 0}}var ue={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},ae=!1;function de(Ye){Ye?delete ue.profiles[Ye]:ue.profiles={}}function be(Ye){Ye===void 0&&(Ye=!0),ue.isCollectingStats=Ye}function he(Ye){var Ce=Ye.profileName;return function(){Ce&&!ue.profiles[Ce]&&(ue.profiles[Ce]={calls:0,hits:0}),ue.profiles[Ce].calls++}}function Le(Ye){return function(){var Ce=ue.profiles,ze=Ye.profileName;Ce[ze]||(Ce[ze]={calls:0,hits:0}),Ce[ze].calls++,Ce[ze].hits++}}function Xe(Ye){return Ye.displayName||Ye.name||"Anonymous "+ue.anonymousProfileNameCounter++}function We(Ye,Ce){return Ye?(Ce/Ye*100).toFixed(4)+"%":"0.0000%"}function fe(Ye){!ue.isCollectingStats&&!ae&&(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),ae=!0);var Ce=ue.profiles;if(Ye){if(!Ce[Ye])return{calls:0,hits:0,usage:"0.0000%"};var ze=Ce[Ye];return F({},ze,{usage:We(ze.calls,ze.hits)})}var Ee=Object.keys(ue.profiles).reduce(function(_e,He){return _e.calls+=Ce[He].calls,_e.hits+=Ce[He].hits,_e},{calls:0,hits:0});return F({},Ee,{profiles:Object.keys(Ce).reduce(function(_e,He){return _e[He]=fe(He),_e},{}),usage:We(Ee.calls,Ee.hits)})}function Re(Ye){return ue.isCollectingStats?{onCacheAdd:he(Ye),onCacheHit:Le(Ye)}:{}}var ye={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function re(Ye,Ce,ze){ze===void 0&&(ze=[]),Object.getOwnPropertyNames(Ye).forEach(function(Ee){if(!ye[Ee]&&ze.indexOf(Ee)===-1){var _e=Object.getOwnPropertyDescriptor(Ye,Ee);_e.get||_e.set?Object.defineProperty(Ce,Ee,_e):Ce[Ee]=Ye[Ee]}})}function Ze(Ye,Ce){var ze=Ce.expirations,Ee=Ye.options,_e=ee(Ee.isEqual,Ee.isMatchingKey),He=Ye;He.clear=function(){var Pe=He._microMemoizeOptions.onCacheChange,$e=He.cache;return $e.keys.length=0,$e.values.length=0,Pe&&Pe($e,He.options,He),!0},He.clearStats=function(){de(He.options.profileName)},He.get=function(Pe){var $e=He._microMemoizeOptions.transformKey,we=He.cache,Ue=$e?$e(Pe):Pe,et=_e(we.keys,Ue);return et!==-1?He.apply(this,Pe):void 0},He.getStats=function(){return fe(He.options.profileName)},He.has=function(Pe){var $e=He._microMemoizeOptions.transformKey,we=$e?$e(Pe):Pe;return _e(He.cache.keys,we)!==-1},He.keys=function(){return He.cacheSnapshot.keys},He.remove=function(Pe){var $e=He._microMemoizeOptions,we=$e.onCacheChange,Ue=$e.transformKey,et=He.cache,at=_e(et.keys,Ue?Ue(Pe):Pe);if(at===-1)return!1;var Ve=et.keys[at];return et.keys.splice(at,1),et.values.splice(at,1),we&&we(et,He.options,He),ne(ze,Ve,!0),!0},He.set=function(Pe,$e){var we=He._microMemoizeOptions,Ue=He.cache,et=He.options,at=we.onCacheAdd,Ve=we.onCacheChange,oe=we.transformKey,me=oe?oe(Pe):Pe,ge=_e(Ue.keys,me);if(ge===-1){var Fe=et.maxSize-1;Ue.size>Fe&&(Ue.keys.length=Fe,Ue.values.length=Fe),Ue.keys.unshift(me),Ue.values.unshift($e),et.isPromise&&Ue.updateAsyncCache(He),at&&at(Ue,et,He),Ve&&Ve(Ue,et,He)}else{var Ke=Ue.keys[ge];Ue.values[ge]=$e,ge>0&&Ue.orderByLru(Ke,$e,ge),et.isPromise&&Ue.updateAsyncCache(He),typeof Ve=="function"&&Ve(Ue,et,He)}},He.values=function(){return He.cacheSnapshot.values}}function Ge(Ye,Ce){var ze=Ce.expirations,Ee=Ce.options,_e=Ce.originalFunction,He=Ye.options;Object.defineProperties(Ye,{_microMemoizeOptions:{configurable:!0,get:function(){return He}},cacheSnapshot:{configurable:!0,get:function(){var we=Ye.cache;return{keys:we.keys.slice(0),size:we.size,values:we.values.slice(0)}}},expirations:{configurable:!0,get:function(){return ze}},expirationsSnapshot:{configurable:!0,get:function(){return ze.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return Ee}},originalFunction:{configurable:!0,get:function(){return _e}}});var Pe=Ye;re(_e,Pe)}function ve(Ye,Ce){return Ze(Ye,Ce),Ge(Ye,Ce),Ye}var Te=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function xe(Ye,Ce,ze){var Ee=Ye(F({maxArgs:2,isShallowEqual:!0},ze,{isReact:!1}));Ce.displayName||(Ce.displayName=Ce.name||"Component");function _e(He,Pe,$e){this.props=He,this.context=Pe,this.updater=$e,this.MoizedComponent=Ee(Ce)}return _e.prototype.isReactComponent={},_e.prototype.render=function(){return{$$typeof:Te,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},re(Ce,_e,["contextType","contextTypes"]),_e.displayName="Moized("+(Ce.displayName||Ce.name||"Component")+")",ie(_e,Ce.name,ze.profileName),_e}function Ie(Ye){return function(Ce){if(Ye>=Ce.length)return Ce;if(Ye===0)return[];if(Ye===1)return[Ce[0]];if(Ye===2)return[Ce[0],Ce[1]];if(Ye===3)return[Ce[0],Ce[1],Ce[2]];for(var ze=[],Ee=0;Ee<Ye;Ee++)ze[Ee]=Ce[Ee];return ze}}function Se(Ye,Ce){for(var ze=Ye.length,Ee=0;Ee<ze;++Ee)if(Ye[Ee]===Ce)return Ee+1;return 0}function Ne(){var Ye=[],Ce=[];return function(Ee,_e){var He=typeof _e;if(He==="function"||He==="symbol")return _e.toString();if(typeof _e=="object"){if(Ye.length){var Pe=Se(Ye,this);Pe===0?Ye[Ye.length]=this:(Ye.splice(Pe),Ce.splice(Pe)),Ce[Ce.length]=Ee;var $e=Se(Ye,_e);if($e!==0)return"[ref="+(Ce.slice(0,$e).join(".")||".")+"]"}else Ye[0]=_e,Ce[0]=Ee;return _e}return""+_e}}function je(Ye){var Ce=typeof Ye;return Ye&&(Ce==="object"||Ce==="function")?JSON.stringify(Ye,Ne()):Ye}function tt(Ye){for(var Ce="|",ze=0;ze<Ye.length;ze++)Ce+=je(Ye[ze])+"|";return[Ce]}function it(Ye){return typeof Ye.serializer=="function"?Ye.serializer:tt}function st(Ye,Ce){return Ye[0]===Ce[0]}function qe(Ye){if(typeof Ye=="function")return function(Ce,ze,Ee){return Ye(Ee.cache,Ee.options,Ee)}}function ot(Ye){return Ye.matchesArg||Ye.isDeepEqual&&W.deepEqual||Ye.isShallowEqual&&W.shallowEqual||W.sameValueZeroEqual}function ut(Ye){return Ye.matchesKey||Ye.isSerialized&&st||void 0}function dt(Ye){return D(Ye.isSerialized&&it(Ye),typeof Ye.transformArgs=="function"&&Ye.transformArgs,typeof Ye.maxArgs=="number"&&Ie(Ye.maxArgs))}function mt(Ye){var Ce=Ye.options.updateCacheForKey,ze=function(){for(var _e=arguments.length,He=new Array(_e),Pe=0;Pe<_e;Pe++)He[Pe]=arguments[Pe];if(!Ce(He))return Ye.apply(this,He);var $e=Ye.fn.apply(this,He);return Ye.set(He,$e),$e};return re(Ye,ze),ze}var Je=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],Me=function Ye(Ce,ze){var Ee=ze||J;if(te(Ce)){var _e=Ce.originalFunction,He=q(Ce.options,Ee);return Ye(_e,He)}if(typeof Ce=="object")return function(ft,Rt){if(typeof ft=="function"){var It=q(Ce,Rt);return Ye(ft,It)}var ct=q(Ce,ft);return Ye(ct)};if(Ee.isReact)return xe(Ye,Ce,Ee);var Pe=F({},J,Ee,{maxAge:typeof Ee.maxAge=="number"&&Ee.maxAge>=0?Ee.maxAge:J.maxAge,maxArgs:typeof Ee.maxArgs=="number"&&Ee.maxArgs>=0?Ee.maxArgs:J.maxArgs,maxSize:typeof Ee.maxSize=="number"&&Ee.maxSize>=0?Ee.maxSize:J.maxSize,profileName:Ee.profileName||Xe(Ce)}),$e=[];Pe.matchesArg,Pe.isDeepEqual;var we=Pe.isPromise;Pe.isReact,Pe.isSerialized,Pe.isShallowEqual,Pe.matchesKey,Pe.maxAge,Pe.maxArgs;var Ue=Pe.maxSize,et=Pe.onCacheAdd,at=Pe.onCacheChange,Ve=Pe.onCacheHit;Pe.onExpire,Pe.profileName,Pe.serializer;var oe=Pe.updateCacheForKey;Pe.transformArgs,Pe.updateExpire;var me=U(Pe,Je),ge=ot(Pe),Fe=ut(Pe),Ke=pe($e,Pe,ge,Fe),Ae=Re(Pe),rt=dt(Pe),vt=F({},me,{isEqual:ge,isMatchingKey:Fe,isPromise:we,maxSize:Ue,onCacheAdd:qe(Y(et,Ke.onCacheAdd,Ae.onCacheAdd)),onCacheChange:qe(at),onCacheHit:qe(Y(Ve,Ke.onCacheHit,Ae.onCacheHit)),transformKey:rt}),Vt=G(Ce,vt),Wt=ve(Vt,{expirations:$e,options:Pe,originalFunction:Ce});return oe&&(Wt=mt(Wt)),ie(Wt,Ce.name,Ee.profileName),Wt};Me.clearStats=de,Me.collectStats=be,Me.compose=function(){return D.apply(void 0,arguments)||Me},Me.deep=Me({isDeepEqual:!0}),Me.getStats=fe,Me.infinite=Me({maxSize:1/0}),Me.isCollectingStats=function(){return ue.isCollectingStats},Me.isMoized=function(Ce){return typeof Ce=="function"&&!!Ce.isMoized},Me.matchesArg=function(Ye){return Me({matchesArg:Ye})},Me.matchesKey=function(Ye){return Me({matchesKey:Ye})};function ke(Ye,Ce){if(Ce===!0)return Me({maxAge:Ye,updateExpire:Ce});if(typeof Ce=="object"){var ze=Ce.onExpire,Ee=Ce.updateExpire;return Me({maxAge:Ye,onExpire:ze,updateExpire:Ee})}return Me(typeof Ce=="function"?{maxAge:Ye,onExpire:Ce,updateExpire:!0}:{maxAge:Ye})}return Me.maxAge=ke,Me.maxArgs=function(Ye){return Me({maxArgs:Ye})},Me.maxSize=function(Ye){return Me({maxSize:Ye})},Me.profile=function(Ye){return Me({profileName:Ye})},Me.promise=Me({isPromise:!0,updateExpire:!0}),Me.react=Me({isReact:!0}),Me.serialize=Me({isSerialized:!0}),Me.serializeWith=function(Ye){return Me({isSerialized:!0,serializer:Ye})},Me.shallow=Me({isShallowEqual:!0}),Me.transformArgs=function(Ye){return Me({transformArgs:Ye})},Me.updateCacheForKey=function(Ye){return Me({updateCacheForKey:Ye})},Object.defineProperty(Me,"default",{configurable:!1,enumerable:!1,value:Me,writable:!1}),Me})})(moize$1);const moize=moizeExports,proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),throwMarker=Symbol("Comlink.thrown"),isObject$3=X=>typeof X=="object"&&X!==null||typeof X=="function",proxyTransferHandler={canHandle:X=>isObject$3(X)&&X[proxyMarker],serialize(X){const{port1:Z,port2:G}=new MessageChannel;return expose$1(X,Z),[G,[G]]},deserialize(X){return X.start(),wrap$1(X)}},throwTransferHandler={canHandle:X=>isObject$3(X)&&throwMarker in X,serialize({value:X}){let Z;return X instanceof Error?Z={isError:!0,value:{message:X.message,name:X.name,stack:X.stack}}:Z={isError:!1,value:X},[Z,[]]},deserialize(X){throw X.isError?Object.assign(new Error(X.value.message),X.value):X.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function expose$1(X,Z=self){Z.addEventListener("message",function G(W){if(!W||!W.data)return;const{id:F,type:U,path:J}=Object.assign({path:[]},W.data),Y=(W.data.argumentList||[]).map(fromWireValue);let D;try{const Q=J.slice(0,-1).reduce((q,te)=>q[te],X),ee=J.reduce((q,te)=>q[te],X);switch(U){case"GET":D=ee;break;case"SET":Q[J.slice(-1)[0]]=fromWireValue(W.data.value),D=!0;break;case"APPLY":D=ee.apply(Q,Y);break;case"CONSTRUCT":{const q=new ee(...Y);D=proxy(q)}break;case"ENDPOINT":{const{port1:q,port2:te}=new MessageChannel;expose$1(X,te),D=transfer$1(q,[q])}break;case"RELEASE":D=void 0;break;default:return}}catch(Q){D={value:Q,[throwMarker]:0}}Promise.resolve(D).catch(Q=>({value:Q,[throwMarker]:0})).then(Q=>{const[ee,q]=toWireValue(Q);Z.postMessage(Object.assign(Object.assign({},ee),{id:F}),q),U==="RELEASE"&&(Z.removeEventListener("message",G),closeEndPoint(Z))})}),Z.start&&Z.start()}function isMessagePort(X){return X.constructor.name==="MessagePort"}function closeEndPoint(X){isMessagePort(X)&&X.close()}function wrap$1(X,Z){return createProxy(X,[],Z)}function throwIfProxyReleased(X){if(X)throw new Error("Proxy has been released and is not useable")}function createProxy(X,Z=[],G=function(){}){let W=!1;const F=new Proxy(G,{get(U,J){if(throwIfProxyReleased(W),J===releaseProxy)return()=>requestResponseMessage(X,{type:"RELEASE",path:Z.map(Y=>Y.toString())}).then(()=>{closeEndPoint(X),W=!0});if(J==="then"){if(Z.length===0)return{then:()=>F};const Y=requestResponseMessage(X,{type:"GET",path:Z.map(D=>D.toString())}).then(fromWireValue);return Y.then.bind(Y)}return createProxy(X,[...Z,J])},set(U,J,Y){throwIfProxyReleased(W);const[D,Q]=toWireValue(Y);return requestResponseMessage(X,{type:"SET",path:[...Z,J].map(ee=>ee.toString()),value:D},Q).then(fromWireValue)},apply(U,J,Y){throwIfProxyReleased(W);const D=Z[Z.length-1];if(D===createEndpoint)return requestResponseMessage(X,{type:"ENDPOINT"}).then(fromWireValue);if(D==="bind")return createProxy(X,Z.slice(0,-1));const[Q,ee]=processArguments(Y);return requestResponseMessage(X,{type:"APPLY",path:Z.map(q=>q.toString()),argumentList:Q},ee).then(fromWireValue)},construct(U,J){throwIfProxyReleased(W);const[Y,D]=processArguments(J);return requestResponseMessage(X,{type:"CONSTRUCT",path:Z.map(Q=>Q.toString()),argumentList:Y},D).then(fromWireValue)}});return F}function myFlat(X){return Array.prototype.concat.apply([],X)}function processArguments(X){const Z=X.map(toWireValue);return[Z.map(G=>G[0]),myFlat(Z.map(G=>G[1]))]}const transferCache=new WeakMap;function transfer$1(X,Z){return transferCache.set(X,Z),X}function proxy(X){return Object.assign(X,{[proxyMarker]:!0})}function toWireValue(X){for(const[Z,G]of transferHandlers)if(G.canHandle(X)){const[W,F]=G.serialize(X);return[{type:"HANDLER",name:Z,value:W},F]}return[{type:"RAW",value:X},transferCache.get(X)||[]]}function fromWireValue(X){switch(X.type){case"HANDLER":return transferHandlers.get(X.name).deserialize(X.value);case"RAW":return X.value}}function requestResponseMessage(X,Z,G){return new Promise(W=>{const F=generateUUID$1();X.addEventListener("message",function U(J){!J.data||!J.data.id||J.data.id!==F||(X.removeEventListener("message",U),W(J.data))}),X.start&&X.start(),X.postMessage(Object.assign({id:F},Z),G)})}function generateUUID$1(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="158",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",KeepStencilOp=7680,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(Z,G){this._listeners===void 0&&(this._listeners={});const W=this._listeners;W[Z]===void 0&&(W[Z]=[]),W[Z].indexOf(G)===-1&&W[Z].push(G)}hasEventListener(Z,G){if(this._listeners===void 0)return!1;const W=this._listeners;return W[Z]!==void 0&&W[Z].indexOf(G)!==-1}removeEventListener(Z,G){if(this._listeners===void 0)return;const F=this._listeners[Z];if(F!==void 0){const U=F.indexOf(G);U!==-1&&F.splice(U,1)}}dispatchEvent(Z){if(this._listeners===void 0)return;const W=this._listeners[Z.type];if(W!==void 0){Z.target=this;const F=W.slice(0);for(let U=0,J=F.length;U<J;U++)F[U].call(this,Z);Z.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const X=Math.random()*4294967295|0,Z=Math.random()*4294967295|0,G=Math.random()*4294967295|0,W=Math.random()*4294967295|0;return(_lut[X&255]+_lut[X>>8&255]+_lut[X>>16&255]+_lut[X>>24&255]+"-"+_lut[Z&255]+_lut[Z>>8&255]+"-"+_lut[Z>>16&15|64]+_lut[Z>>24&255]+"-"+_lut[G&63|128]+_lut[G>>8&255]+"-"+_lut[G>>16&255]+_lut[G>>24&255]+_lut[W&255]+_lut[W>>8&255]+_lut[W>>16&255]+_lut[W>>24&255]).toLowerCase()}function clamp(X,Z,G){return Math.max(Z,Math.min(G,X))}function euclideanModulo(X,Z){return(X%Z+Z)%Z}function lerp(X,Z,G){return(1-G)*X+G*Z}function isPowerOfTwo(X){return(X&X-1)===0&&X!==0}function floorPowerOfTwo(X){return Math.pow(2,Math.floor(Math.log(X)/Math.LN2))}function denormalize(X,Z){switch(Z.constructor){case Float32Array:return X;case Uint32Array:return X/4294967295;case Uint16Array:return X/65535;case Uint8Array:return X/255;case Int32Array:return Math.max(X/2147483647,-1);case Int16Array:return Math.max(X/32767,-1);case Int8Array:return Math.max(X/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(X,Z){switch(Z.constructor){case Float32Array:return X;case Uint32Array:return Math.round(X*4294967295);case Uint16Array:return Math.round(X*65535);case Uint8Array:return Math.round(X*255);case Int32Array:return Math.round(X*2147483647);case Int16Array:return Math.round(X*32767);case Int8Array:return Math.round(X*127);default:throw new Error("Invalid component type.")}}class Vector2{constructor(Z=0,G=0){Vector2.prototype.isVector2=!0,this.x=Z,this.y=G}get width(){return this.x}set width(Z){this.x=Z}get height(){return this.y}set height(Z){this.y=Z}set(Z,G){return this.x=Z,this.y=G,this}setScalar(Z){return this.x=Z,this.y=Z,this}setX(Z){return this.x=Z,this}setY(Z){return this.y=Z,this}setComponent(Z,G){switch(Z){case 0:this.x=G;break;case 1:this.y=G;break;default:throw new Error("index is out of range: "+Z)}return this}getComponent(Z){switch(Z){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+Z)}}clone(){return new this.constructor(this.x,this.y)}copy(Z){return this.x=Z.x,this.y=Z.y,this}add(Z){return this.x+=Z.x,this.y+=Z.y,this}addScalar(Z){return this.x+=Z,this.y+=Z,this}addVectors(Z,G){return this.x=Z.x+G.x,this.y=Z.y+G.y,this}addScaledVector(Z,G){return this.x+=Z.x*G,this.y+=Z.y*G,this}sub(Z){return this.x-=Z.x,this.y-=Z.y,this}subScalar(Z){return this.x-=Z,this.y-=Z,this}subVectors(Z,G){return this.x=Z.x-G.x,this.y=Z.y-G.y,this}multiply(Z){return this.x*=Z.x,this.y*=Z.y,this}multiplyScalar(Z){return this.x*=Z,this.y*=Z,this}divide(Z){return this.x/=Z.x,this.y/=Z.y,this}divideScalar(Z){return this.multiplyScalar(1/Z)}applyMatrix3(Z){const G=this.x,W=this.y,F=Z.elements;return this.x=F[0]*G+F[3]*W+F[6],this.y=F[1]*G+F[4]*W+F[7],this}min(Z){return this.x=Math.min(this.x,Z.x),this.y=Math.min(this.y,Z.y),this}max(Z){return this.x=Math.max(this.x,Z.x),this.y=Math.max(this.y,Z.y),this}clamp(Z,G){return this.x=Math.max(Z.x,Math.min(G.x,this.x)),this.y=Math.max(Z.y,Math.min(G.y,this.y)),this}clampScalar(Z,G){return this.x=Math.max(Z,Math.min(G,this.x)),this.y=Math.max(Z,Math.min(G,this.y)),this}clampLength(Z,G){const W=this.length();return this.divideScalar(W||1).multiplyScalar(Math.max(Z,Math.min(G,W)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(Z){return this.x*Z.x+this.y*Z.y}cross(Z){return this.x*Z.y-this.y*Z.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(Z){const G=Math.sqrt(this.lengthSq()*Z.lengthSq());if(G===0)return Math.PI/2;const W=this.dot(Z)/G;return Math.acos(clamp(W,-1,1))}distanceTo(Z){return Math.sqrt(this.distanceToSquared(Z))}distanceToSquared(Z){const G=this.x-Z.x,W=this.y-Z.y;return G*G+W*W}manhattanDistanceTo(Z){return Math.abs(this.x-Z.x)+Math.abs(this.y-Z.y)}setLength(Z){return this.normalize().multiplyScalar(Z)}lerp(Z,G){return this.x+=(Z.x-this.x)*G,this.y+=(Z.y-this.y)*G,this}lerpVectors(Z,G,W){return this.x=Z.x+(G.x-Z.x)*W,this.y=Z.y+(G.y-Z.y)*W,this}equals(Z){return Z.x===this.x&&Z.y===this.y}fromArray(Z,G=0){return this.x=Z[G],this.y=Z[G+1],this}toArray(Z=[],G=0){return Z[G]=this.x,Z[G+1]=this.y,Z}fromBufferAttribute(Z,G){return this.x=Z.getX(G),this.y=Z.getY(G),this}rotateAround(Z,G){const W=Math.cos(G),F=Math.sin(G),U=this.x-Z.x,J=this.y-Z.y;return this.x=U*W-J*F+Z.x,this.y=U*F+J*W+Z.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(Z,G,W,F,U,J,Y,D,Q){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],Z!==void 0&&this.set(Z,G,W,F,U,J,Y,D,Q)}set(Z,G,W,F,U,J,Y,D,Q){const ee=this.elements;return ee[0]=Z,ee[1]=F,ee[2]=Y,ee[3]=G,ee[4]=U,ee[5]=D,ee[6]=W,ee[7]=J,ee[8]=Q,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(Z){const G=this.elements,W=Z.elements;return G[0]=W[0],G[1]=W[1],G[2]=W[2],G[3]=W[3],G[4]=W[4],G[5]=W[5],G[6]=W[6],G[7]=W[7],G[8]=W[8],this}extractBasis(Z,G,W){return Z.setFromMatrix3Column(this,0),G.setFromMatrix3Column(this,1),W.setFromMatrix3Column(this,2),this}setFromMatrix4(Z){const G=Z.elements;return this.set(G[0],G[4],G[8],G[1],G[5],G[9],G[2],G[6],G[10]),this}multiply(Z){return this.multiplyMatrices(this,Z)}premultiply(Z){return this.multiplyMatrices(Z,this)}multiplyMatrices(Z,G){const W=Z.elements,F=G.elements,U=this.elements,J=W[0],Y=W[3],D=W[6],Q=W[1],ee=W[4],q=W[7],te=W[2],ie=W[5],ne=W[8],ce=F[0],le=F[3],se=F[6],pe=F[1],ue=F[4],ae=F[7],de=F[2],be=F[5],he=F[8];return U[0]=J*ce+Y*pe+D*de,U[3]=J*le+Y*ue+D*be,U[6]=J*se+Y*ae+D*he,U[1]=Q*ce+ee*pe+q*de,U[4]=Q*le+ee*ue+q*be,U[7]=Q*se+ee*ae+q*he,U[2]=te*ce+ie*pe+ne*de,U[5]=te*le+ie*ue+ne*be,U[8]=te*se+ie*ae+ne*he,this}multiplyScalar(Z){const G=this.elements;return G[0]*=Z,G[3]*=Z,G[6]*=Z,G[1]*=Z,G[4]*=Z,G[7]*=Z,G[2]*=Z,G[5]*=Z,G[8]*=Z,this}determinant(){const Z=this.elements,G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8];return G*J*ee-G*Y*Q-W*U*ee+W*Y*D+F*U*Q-F*J*D}invert(){const Z=this.elements,G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8],q=ee*J-Y*Q,te=Y*D-ee*U,ie=Q*U-J*D,ne=G*q+W*te+F*ie;if(ne===0)return this.set(0,0,0,0,0,0,0,0,0);const ce=1/ne;return Z[0]=q*ce,Z[1]=(F*Q-ee*W)*ce,Z[2]=(Y*W-F*J)*ce,Z[3]=te*ce,Z[4]=(ee*G-F*D)*ce,Z[5]=(F*U-Y*G)*ce,Z[6]=ie*ce,Z[7]=(W*D-Q*G)*ce,Z[8]=(J*G-W*U)*ce,this}transpose(){let Z;const G=this.elements;return Z=G[1],G[1]=G[3],G[3]=Z,Z=G[2],G[2]=G[6],G[6]=Z,Z=G[5],G[5]=G[7],G[7]=Z,this}getNormalMatrix(Z){return this.setFromMatrix4(Z).invert().transpose()}transposeIntoArray(Z){const G=this.elements;return Z[0]=G[0],Z[1]=G[3],Z[2]=G[6],Z[3]=G[1],Z[4]=G[4],Z[5]=G[7],Z[6]=G[2],Z[7]=G[5],Z[8]=G[8],this}setUvTransform(Z,G,W,F,U,J,Y){const D=Math.cos(U),Q=Math.sin(U);return this.set(W*D,W*Q,-W*(D*J+Q*Y)+J+Z,-F*Q,F*D,-F*(-Q*J+D*Y)+Y+G,0,0,1),this}scale(Z,G){return this.premultiply(_m3.makeScale(Z,G)),this}rotate(Z){return this.premultiply(_m3.makeRotation(-Z)),this}translate(Z,G){return this.premultiply(_m3.makeTranslation(Z,G)),this}makeTranslation(Z,G){return Z.isVector2?this.set(1,0,Z.x,0,1,Z.y,0,0,1):this.set(1,0,Z,0,1,G,0,0,1),this}makeRotation(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(G,-W,0,W,G,0,0,0,1),this}makeScale(Z,G){return this.set(Z,0,0,0,G,0,0,0,1),this}equals(Z){const G=this.elements,W=Z.elements;for(let F=0;F<9;F++)if(G[F]!==W[F])return!1;return!0}fromArray(Z,G=0){for(let W=0;W<9;W++)this.elements[W]=Z[W+G];return this}toArray(Z=[],G=0){const W=this.elements;return Z[G]=W[0],Z[G+1]=W[1],Z[G+2]=W[2],Z[G+3]=W[3],Z[G+4]=W[4],Z[G+5]=W[5],Z[G+6]=W[6],Z[G+7]=W[7],Z[G+8]=W[8],Z}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(X){for(let Z=X.length-1;Z>=0;--Z)if(X[Z]>=65535)return!0;return!1}function createElementNS(X){return document.createElementNS("http://www.w3.org/1999/xhtml",X)}function createCanvasElement(){const X=createElementNS("canvas");return X.style.display="block",X}const _cache={};function warnOnce(X){X in _cache||(_cache[X]=!0,console.warn(X))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:X=>X,fromReference:X=>X},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:X=>X.convertSRGBToLinear(),fromReference:X=>X.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:X=>X.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:X=>X.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:X=>X.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:X=>X.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(X){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!X},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(X){if(!SUPPORTED_WORKING_COLOR_SPACES.has(X))throw new Error(`Unsupported working color space, "${X}".`);this._workingColorSpace=X},convert:function(X,Z,G){if(this.enabled===!1||Z===G||!Z||!G)return X;const W=COLOR_SPACES[Z].toReference,F=COLOR_SPACES[G].fromReference;return F(W(X))},fromWorkingColorSpace:function(X,Z){return this.convert(X,this._workingColorSpace,Z)},toWorkingColorSpace:function(X,Z){return this.convert(X,Z,this._workingColorSpace)},getPrimaries:function(X){return COLOR_SPACES[X].primaries},getTransfer:function(X){return X===NoColorSpace?LinearTransfer:COLOR_SPACES[X].transfer}};function SRGBToLinear(X){return X<.04045?X*.0773993808:Math.pow(X*.9478672986+.0521327014,2.4)}function LinearToSRGB(X){return X<.0031308?X*12.92:1.055*Math.pow(X,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(Z){if(/^data:/i.test(Z.src)||typeof HTMLCanvasElement>"u")return Z.src;let G;if(Z instanceof HTMLCanvasElement)G=Z;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=Z.width,_canvas.height=Z.height;const W=_canvas.getContext("2d");Z instanceof ImageData?W.putImageData(Z,0,0):W.drawImage(Z,0,0,Z.width,Z.height),G=_canvas}return G.width>2048||G.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",Z),G.toDataURL("image/jpeg",.6)):G.toDataURL("image/png")}static sRGBToLinear(Z){if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const G=createElementNS("canvas");G.width=Z.width,G.height=Z.height;const W=G.getContext("2d");W.drawImage(Z,0,0,Z.width,Z.height);const F=W.getImageData(0,0,Z.width,Z.height),U=F.data;for(let J=0;J<U.length;J++)U[J]=SRGBToLinear(U[J]/255)*255;return W.putImageData(F,0,0),G}else if(Z.data){const G=Z.data.slice(0);for(let W=0;W<G.length;W++)G instanceof Uint8Array||G instanceof Uint8ClampedArray?G[W]=Math.floor(SRGBToLinear(G[W]/255)*255):G[W]=SRGBToLinear(G[W]);return{data:G,width:Z.width,height:Z.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),Z}}let _sourceId=0;class Source{constructor(Z=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=Z,this.version=0}set needsUpdate(Z){Z===!0&&this.version++}toJSON(Z){const G=Z===void 0||typeof Z=="string";if(!G&&Z.images[this.uuid]!==void 0)return Z.images[this.uuid];const W={uuid:this.uuid,url:""},F=this.data;if(F!==null){let U;if(Array.isArray(F)){U=[];for(let J=0,Y=F.length;J<Y;J++)F[J].isDataTexture?U.push(serializeImage(F[J].image)):U.push(serializeImage(F[J]))}else U=serializeImage(F);W.url=U}return G||(Z.images[this.uuid]=W),W}}function serializeImage(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap?ImageUtils.getDataURL(X):X.data?{data:Array.from(X.data),width:X.width,height:X.height,type:X.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(Z=Texture.DEFAULT_IMAGE,G=Texture.DEFAULT_MAPPING,W=ClampToEdgeWrapping,F=ClampToEdgeWrapping,U=LinearFilter,J=LinearMipmapLinearFilter,Y=RGBAFormat,D=UnsignedByteType,Q=Texture.DEFAULT_ANISOTROPY,ee=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(Z),this.mipmaps=[],this.mapping=G,this.channel=0,this.wrapS=W,this.wrapT=F,this.magFilter=U,this.minFilter=J,this.anisotropy=Q,this.format=Y,this.internalFormat=null,this.type=D,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof ee=="string"?this.colorSpace=ee:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=ee===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(Z=null){this.source.data=Z}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(Z){return this.name=Z.name,this.source=Z.source,this.mipmaps=Z.mipmaps.slice(0),this.mapping=Z.mapping,this.channel=Z.channel,this.wrapS=Z.wrapS,this.wrapT=Z.wrapT,this.magFilter=Z.magFilter,this.minFilter=Z.minFilter,this.anisotropy=Z.anisotropy,this.format=Z.format,this.internalFormat=Z.internalFormat,this.type=Z.type,this.offset.copy(Z.offset),this.repeat.copy(Z.repeat),this.center.copy(Z.center),this.rotation=Z.rotation,this.matrixAutoUpdate=Z.matrixAutoUpdate,this.matrix.copy(Z.matrix),this.generateMipmaps=Z.generateMipmaps,this.premultiplyAlpha=Z.premultiplyAlpha,this.flipY=Z.flipY,this.unpackAlignment=Z.unpackAlignment,this.colorSpace=Z.colorSpace,this.userData=JSON.parse(JSON.stringify(Z.userData)),this.needsUpdate=!0,this}toJSON(Z){const G=Z===void 0||typeof Z=="string";if(!G&&Z.textures[this.uuid]!==void 0)return Z.textures[this.uuid];const W={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(Z).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(W.userData=this.userData),G||(Z.textures[this.uuid]=W),W}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(Z){if(this.mapping!==UVMapping)return Z;if(Z.applyMatrix3(this.matrix),Z.x<0||Z.x>1)switch(this.wrapS){case RepeatWrapping:Z.x=Z.x-Math.floor(Z.x);break;case ClampToEdgeWrapping:Z.x=Z.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(Z.x)%2)===1?Z.x=Math.ceil(Z.x)-Z.x:Z.x=Z.x-Math.floor(Z.x);break}if(Z.y<0||Z.y>1)switch(this.wrapT){case RepeatWrapping:Z.y=Z.y-Math.floor(Z.y);break;case ClampToEdgeWrapping:Z.y=Z.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(Z.y)%2)===1?Z.y=Math.ceil(Z.y)-Z.y:Z.y=Z.y-Math.floor(Z.y);break}return this.flipY&&(Z.y=1-Z.y),Z}set needsUpdate(Z){Z===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set encoding(Z){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=Z===sRGBEncoding?SRGBColorSpace:NoColorSpace}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(Z=0,G=0,W=0,F=1){Vector4.prototype.isVector4=!0,this.x=Z,this.y=G,this.z=W,this.w=F}get width(){return this.z}set width(Z){this.z=Z}get height(){return this.w}set height(Z){this.w=Z}set(Z,G,W,F){return this.x=Z,this.y=G,this.z=W,this.w=F,this}setScalar(Z){return this.x=Z,this.y=Z,this.z=Z,this.w=Z,this}setX(Z){return this.x=Z,this}setY(Z){return this.y=Z,this}setZ(Z){return this.z=Z,this}setW(Z){return this.w=Z,this}setComponent(Z,G){switch(Z){case 0:this.x=G;break;case 1:this.y=G;break;case 2:this.z=G;break;case 3:this.w=G;break;default:throw new Error("index is out of range: "+Z)}return this}getComponent(Z){switch(Z){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+Z)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(Z){return this.x=Z.x,this.y=Z.y,this.z=Z.z,this.w=Z.w!==void 0?Z.w:1,this}add(Z){return this.x+=Z.x,this.y+=Z.y,this.z+=Z.z,this.w+=Z.w,this}addScalar(Z){return this.x+=Z,this.y+=Z,this.z+=Z,this.w+=Z,this}addVectors(Z,G){return this.x=Z.x+G.x,this.y=Z.y+G.y,this.z=Z.z+G.z,this.w=Z.w+G.w,this}addScaledVector(Z,G){return this.x+=Z.x*G,this.y+=Z.y*G,this.z+=Z.z*G,this.w+=Z.w*G,this}sub(Z){return this.x-=Z.x,this.y-=Z.y,this.z-=Z.z,this.w-=Z.w,this}subScalar(Z){return this.x-=Z,this.y-=Z,this.z-=Z,this.w-=Z,this}subVectors(Z,G){return this.x=Z.x-G.x,this.y=Z.y-G.y,this.z=Z.z-G.z,this.w=Z.w-G.w,this}multiply(Z){return this.x*=Z.x,this.y*=Z.y,this.z*=Z.z,this.w*=Z.w,this}multiplyScalar(Z){return this.x*=Z,this.y*=Z,this.z*=Z,this.w*=Z,this}applyMatrix4(Z){const G=this.x,W=this.y,F=this.z,U=this.w,J=Z.elements;return this.x=J[0]*G+J[4]*W+J[8]*F+J[12]*U,this.y=J[1]*G+J[5]*W+J[9]*F+J[13]*U,this.z=J[2]*G+J[6]*W+J[10]*F+J[14]*U,this.w=J[3]*G+J[7]*W+J[11]*F+J[15]*U,this}divideScalar(Z){return this.multiplyScalar(1/Z)}setAxisAngleFromQuaternion(Z){this.w=2*Math.acos(Z.w);const G=Math.sqrt(1-Z.w*Z.w);return G<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=Z.x/G,this.y=Z.y/G,this.z=Z.z/G),this}setAxisAngleFromRotationMatrix(Z){let G,W,F,U;const D=Z.elements,Q=D[0],ee=D[4],q=D[8],te=D[1],ie=D[5],ne=D[9],ce=D[2],le=D[6],se=D[10];if(Math.abs(ee-te)<.01&&Math.abs(q-ce)<.01&&Math.abs(ne-le)<.01){if(Math.abs(ee+te)<.1&&Math.abs(q+ce)<.1&&Math.abs(ne+le)<.1&&Math.abs(Q+ie+se-3)<.1)return this.set(1,0,0,0),this;G=Math.PI;const ue=(Q+1)/2,ae=(ie+1)/2,de=(se+1)/2,be=(ee+te)/4,he=(q+ce)/4,Le=(ne+le)/4;return ue>ae&&ue>de?ue<.01?(W=0,F=.707106781,U=.707106781):(W=Math.sqrt(ue),F=be/W,U=he/W):ae>de?ae<.01?(W=.707106781,F=0,U=.707106781):(F=Math.sqrt(ae),W=be/F,U=Le/F):de<.01?(W=.707106781,F=.707106781,U=0):(U=Math.sqrt(de),W=he/U,F=Le/U),this.set(W,F,U,G),this}let pe=Math.sqrt((le-ne)*(le-ne)+(q-ce)*(q-ce)+(te-ee)*(te-ee));return Math.abs(pe)<.001&&(pe=1),this.x=(le-ne)/pe,this.y=(q-ce)/pe,this.z=(te-ee)/pe,this.w=Math.acos((Q+ie+se-1)/2),this}min(Z){return this.x=Math.min(this.x,Z.x),this.y=Math.min(this.y,Z.y),this.z=Math.min(this.z,Z.z),this.w=Math.min(this.w,Z.w),this}max(Z){return this.x=Math.max(this.x,Z.x),this.y=Math.max(this.y,Z.y),this.z=Math.max(this.z,Z.z),this.w=Math.max(this.w,Z.w),this}clamp(Z,G){return this.x=Math.max(Z.x,Math.min(G.x,this.x)),this.y=Math.max(Z.y,Math.min(G.y,this.y)),this.z=Math.max(Z.z,Math.min(G.z,this.z)),this.w=Math.max(Z.w,Math.min(G.w,this.w)),this}clampScalar(Z,G){return this.x=Math.max(Z,Math.min(G,this.x)),this.y=Math.max(Z,Math.min(G,this.y)),this.z=Math.max(Z,Math.min(G,this.z)),this.w=Math.max(Z,Math.min(G,this.w)),this}clampLength(Z,G){const W=this.length();return this.divideScalar(W||1).multiplyScalar(Math.max(Z,Math.min(G,W)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(Z){return this.x*Z.x+this.y*Z.y+this.z*Z.z+this.w*Z.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(Z){return this.normalize().multiplyScalar(Z)}lerp(Z,G){return this.x+=(Z.x-this.x)*G,this.y+=(Z.y-this.y)*G,this.z+=(Z.z-this.z)*G,this.w+=(Z.w-this.w)*G,this}lerpVectors(Z,G,W){return this.x=Z.x+(G.x-Z.x)*W,this.y=Z.y+(G.y-Z.y)*W,this.z=Z.z+(G.z-Z.z)*W,this.w=Z.w+(G.w-Z.w)*W,this}equals(Z){return Z.x===this.x&&Z.y===this.y&&Z.z===this.z&&Z.w===this.w}fromArray(Z,G=0){return this.x=Z[G],this.y=Z[G+1],this.z=Z[G+2],this.w=Z[G+3],this}toArray(Z=[],G=0){return Z[G]=this.x,Z[G+1]=this.y,Z[G+2]=this.z,Z[G+3]=this.w,Z}fromBufferAttribute(Z,G){return this.x=Z.getX(G),this.y=Z.getY(G),this.z=Z.getZ(G),this.w=Z.getW(G),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(Z=1,G=1,W={}){super(),this.isRenderTarget=!0,this.width=Z,this.height=G,this.depth=1,this.scissor=new Vector4(0,0,Z,G),this.scissorTest=!1,this.viewport=new Vector4(0,0,Z,G);const F={width:Z,height:G,depth:1};W.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),W.colorSpace=W.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),W=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},W),this.texture=new Texture(F,W.mapping,W.wrapS,W.wrapT,W.magFilter,W.minFilter,W.format,W.type,W.anisotropy,W.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=W.generateMipmaps,this.texture.internalFormat=W.internalFormat,this.depthBuffer=W.depthBuffer,this.stencilBuffer=W.stencilBuffer,this.depthTexture=W.depthTexture,this.samples=W.samples}setSize(Z,G,W=1){(this.width!==Z||this.height!==G||this.depth!==W)&&(this.width=Z,this.height=G,this.depth=W,this.texture.image.width=Z,this.texture.image.height=G,this.texture.image.depth=W,this.dispose()),this.viewport.set(0,0,Z,G),this.scissor.set(0,0,Z,G)}clone(){return new this.constructor().copy(this)}copy(Z){this.width=Z.width,this.height=Z.height,this.depth=Z.depth,this.scissor.copy(Z.scissor),this.scissorTest=Z.scissorTest,this.viewport.copy(Z.viewport),this.texture=Z.texture.clone(),this.texture.isRenderTargetTexture=!0;const G=Object.assign({},Z.texture.image);return this.texture.source=new Source(G),this.depthBuffer=Z.depthBuffer,this.stencilBuffer=Z.stencilBuffer,Z.depthTexture!==null&&(this.depthTexture=Z.depthTexture.clone()),this.samples=Z.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(Z=1,G=1,W={}){super(Z,G,W),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(Z=null,G=1,W=1,F=1){super(null),this.isDataArrayTexture=!0,this.image={data:Z,width:G,height:W,depth:F},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Data3DTexture extends Texture{constructor(Z=null,G=1,W=1,F=1){super(null),this.isData3DTexture=!0,this.image={data:Z,width:G,height:W,depth:F},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Quaternion{constructor(Z=0,G=0,W=0,F=1){this.isQuaternion=!0,this._x=Z,this._y=G,this._z=W,this._w=F}static slerpFlat(Z,G,W,F,U,J,Y){let D=W[F+0],Q=W[F+1],ee=W[F+2],q=W[F+3];const te=U[J+0],ie=U[J+1],ne=U[J+2],ce=U[J+3];if(Y===0){Z[G+0]=D,Z[G+1]=Q,Z[G+2]=ee,Z[G+3]=q;return}if(Y===1){Z[G+0]=te,Z[G+1]=ie,Z[G+2]=ne,Z[G+3]=ce;return}if(q!==ce||D!==te||Q!==ie||ee!==ne){let le=1-Y;const se=D*te+Q*ie+ee*ne+q*ce,pe=se>=0?1:-1,ue=1-se*se;if(ue>Number.EPSILON){const de=Math.sqrt(ue),be=Math.atan2(de,se*pe);le=Math.sin(le*be)/de,Y=Math.sin(Y*be)/de}const ae=Y*pe;if(D=D*le+te*ae,Q=Q*le+ie*ae,ee=ee*le+ne*ae,q=q*le+ce*ae,le===1-Y){const de=1/Math.sqrt(D*D+Q*Q+ee*ee+q*q);D*=de,Q*=de,ee*=de,q*=de}}Z[G]=D,Z[G+1]=Q,Z[G+2]=ee,Z[G+3]=q}static multiplyQuaternionsFlat(Z,G,W,F,U,J){const Y=W[F],D=W[F+1],Q=W[F+2],ee=W[F+3],q=U[J],te=U[J+1],ie=U[J+2],ne=U[J+3];return Z[G]=Y*ne+ee*q+D*ie-Q*te,Z[G+1]=D*ne+ee*te+Q*q-Y*ie,Z[G+2]=Q*ne+ee*ie+Y*te-D*q,Z[G+3]=ee*ne-Y*q-D*te-Q*ie,Z}get x(){return this._x}set x(Z){this._x=Z,this._onChangeCallback()}get y(){return this._y}set y(Z){this._y=Z,this._onChangeCallback()}get z(){return this._z}set z(Z){this._z=Z,this._onChangeCallback()}get w(){return this._w}set w(Z){this._w=Z,this._onChangeCallback()}set(Z,G,W,F){return this._x=Z,this._y=G,this._z=W,this._w=F,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(Z){return this._x=Z.x,this._y=Z.y,this._z=Z.z,this._w=Z.w,this._onChangeCallback(),this}setFromEuler(Z,G){const W=Z._x,F=Z._y,U=Z._z,J=Z._order,Y=Math.cos,D=Math.sin,Q=Y(W/2),ee=Y(F/2),q=Y(U/2),te=D(W/2),ie=D(F/2),ne=D(U/2);switch(J){case"XYZ":this._x=te*ee*q+Q*ie*ne,this._y=Q*ie*q-te*ee*ne,this._z=Q*ee*ne+te*ie*q,this._w=Q*ee*q-te*ie*ne;break;case"YXZ":this._x=te*ee*q+Q*ie*ne,this._y=Q*ie*q-te*ee*ne,this._z=Q*ee*ne-te*ie*q,this._w=Q*ee*q+te*ie*ne;break;case"ZXY":this._x=te*ee*q-Q*ie*ne,this._y=Q*ie*q+te*ee*ne,this._z=Q*ee*ne+te*ie*q,this._w=Q*ee*q-te*ie*ne;break;case"ZYX":this._x=te*ee*q-Q*ie*ne,this._y=Q*ie*q+te*ee*ne,this._z=Q*ee*ne-te*ie*q,this._w=Q*ee*q+te*ie*ne;break;case"YZX":this._x=te*ee*q+Q*ie*ne,this._y=Q*ie*q+te*ee*ne,this._z=Q*ee*ne-te*ie*q,this._w=Q*ee*q-te*ie*ne;break;case"XZY":this._x=te*ee*q-Q*ie*ne,this._y=Q*ie*q-te*ee*ne,this._z=Q*ee*ne+te*ie*q,this._w=Q*ee*q+te*ie*ne;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+J)}return G!==!1&&this._onChangeCallback(),this}setFromAxisAngle(Z,G){const W=G/2,F=Math.sin(W);return this._x=Z.x*F,this._y=Z.y*F,this._z=Z.z*F,this._w=Math.cos(W),this._onChangeCallback(),this}setFromRotationMatrix(Z){const G=Z.elements,W=G[0],F=G[4],U=G[8],J=G[1],Y=G[5],D=G[9],Q=G[2],ee=G[6],q=G[10],te=W+Y+q;if(te>0){const ie=.5/Math.sqrt(te+1);this._w=.25/ie,this._x=(ee-D)*ie,this._y=(U-Q)*ie,this._z=(J-F)*ie}else if(W>Y&&W>q){const ie=2*Math.sqrt(1+W-Y-q);this._w=(ee-D)/ie,this._x=.25*ie,this._y=(F+J)/ie,this._z=(U+Q)/ie}else if(Y>q){const ie=2*Math.sqrt(1+Y-W-q);this._w=(U-Q)/ie,this._x=(F+J)/ie,this._y=.25*ie,this._z=(D+ee)/ie}else{const ie=2*Math.sqrt(1+q-W-Y);this._w=(J-F)/ie,this._x=(U+Q)/ie,this._y=(D+ee)/ie,this._z=.25*ie}return this._onChangeCallback(),this}setFromUnitVectors(Z,G){let W=Z.dot(G)+1;return W<Number.EPSILON?(W=0,Math.abs(Z.x)>Math.abs(Z.z)?(this._x=-Z.y,this._y=Z.x,this._z=0,this._w=W):(this._x=0,this._y=-Z.z,this._z=Z.y,this._w=W)):(this._x=Z.y*G.z-Z.z*G.y,this._y=Z.z*G.x-Z.x*G.z,this._z=Z.x*G.y-Z.y*G.x,this._w=W),this.normalize()}angleTo(Z){return 2*Math.acos(Math.abs(clamp(this.dot(Z),-1,1)))}rotateTowards(Z,G){const W=this.angleTo(Z);if(W===0)return this;const F=Math.min(1,G/W);return this.slerp(Z,F),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(Z){return this._x*Z._x+this._y*Z._y+this._z*Z._z+this._w*Z._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let Z=this.length();return Z===0?(this._x=0,this._y=0,this._z=0,this._w=1):(Z=1/Z,this._x=this._x*Z,this._y=this._y*Z,this._z=this._z*Z,this._w=this._w*Z),this._onChangeCallback(),this}multiply(Z){return this.multiplyQuaternions(this,Z)}premultiply(Z){return this.multiplyQuaternions(Z,this)}multiplyQuaternions(Z,G){const W=Z._x,F=Z._y,U=Z._z,J=Z._w,Y=G._x,D=G._y,Q=G._z,ee=G._w;return this._x=W*ee+J*Y+F*Q-U*D,this._y=F*ee+J*D+U*Y-W*Q,this._z=U*ee+J*Q+W*D-F*Y,this._w=J*ee-W*Y-F*D-U*Q,this._onChangeCallback(),this}slerp(Z,G){if(G===0)return this;if(G===1)return this.copy(Z);const W=this._x,F=this._y,U=this._z,J=this._w;let Y=J*Z._w+W*Z._x+F*Z._y+U*Z._z;if(Y<0?(this._w=-Z._w,this._x=-Z._x,this._y=-Z._y,this._z=-Z._z,Y=-Y):this.copy(Z),Y>=1)return this._w=J,this._x=W,this._y=F,this._z=U,this;const D=1-Y*Y;if(D<=Number.EPSILON){const ie=1-G;return this._w=ie*J+G*this._w,this._x=ie*W+G*this._x,this._y=ie*F+G*this._y,this._z=ie*U+G*this._z,this.normalize(),this._onChangeCallback(),this}const Q=Math.sqrt(D),ee=Math.atan2(Q,Y),q=Math.sin((1-G)*ee)/Q,te=Math.sin(G*ee)/Q;return this._w=J*q+this._w*te,this._x=W*q+this._x*te,this._y=F*q+this._y*te,this._z=U*q+this._z*te,this._onChangeCallback(),this}slerpQuaternions(Z,G,W){return this.copy(Z).slerp(G,W)}random(){const Z=Math.random(),G=Math.sqrt(1-Z),W=Math.sqrt(Z),F=2*Math.PI*Math.random(),U=2*Math.PI*Math.random();return this.set(G*Math.cos(F),W*Math.sin(U),W*Math.cos(U),G*Math.sin(F))}equals(Z){return Z._x===this._x&&Z._y===this._y&&Z._z===this._z&&Z._w===this._w}fromArray(Z,G=0){return this._x=Z[G],this._y=Z[G+1],this._z=Z[G+2],this._w=Z[G+3],this._onChangeCallback(),this}toArray(Z=[],G=0){return Z[G]=this._x,Z[G+1]=this._y,Z[G+2]=this._z,Z[G+3]=this._w,Z}fromBufferAttribute(Z,G){return this._x=Z.getX(G),this._y=Z.getY(G),this._z=Z.getZ(G),this._w=Z.getW(G),this}toJSON(){return this.toArray()}_onChange(Z){return this._onChangeCallback=Z,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(Z=0,G=0,W=0){Vector3.prototype.isVector3=!0,this.x=Z,this.y=G,this.z=W}set(Z,G,W){return W===void 0&&(W=this.z),this.x=Z,this.y=G,this.z=W,this}setScalar(Z){return this.x=Z,this.y=Z,this.z=Z,this}setX(Z){return this.x=Z,this}setY(Z){return this.y=Z,this}setZ(Z){return this.z=Z,this}setComponent(Z,G){switch(Z){case 0:this.x=G;break;case 1:this.y=G;break;case 2:this.z=G;break;default:throw new Error("index is out of range: "+Z)}return this}getComponent(Z){switch(Z){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+Z)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(Z){return this.x=Z.x,this.y=Z.y,this.z=Z.z,this}add(Z){return this.x+=Z.x,this.y+=Z.y,this.z+=Z.z,this}addScalar(Z){return this.x+=Z,this.y+=Z,this.z+=Z,this}addVectors(Z,G){return this.x=Z.x+G.x,this.y=Z.y+G.y,this.z=Z.z+G.z,this}addScaledVector(Z,G){return this.x+=Z.x*G,this.y+=Z.y*G,this.z+=Z.z*G,this}sub(Z){return this.x-=Z.x,this.y-=Z.y,this.z-=Z.z,this}subScalar(Z){return this.x-=Z,this.y-=Z,this.z-=Z,this}subVectors(Z,G){return this.x=Z.x-G.x,this.y=Z.y-G.y,this.z=Z.z-G.z,this}multiply(Z){return this.x*=Z.x,this.y*=Z.y,this.z*=Z.z,this}multiplyScalar(Z){return this.x*=Z,this.y*=Z,this.z*=Z,this}multiplyVectors(Z,G){return this.x=Z.x*G.x,this.y=Z.y*G.y,this.z=Z.z*G.z,this}applyEuler(Z){return this.applyQuaternion(_quaternion$4.setFromEuler(Z))}applyAxisAngle(Z,G){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(Z,G))}applyMatrix3(Z){const G=this.x,W=this.y,F=this.z,U=Z.elements;return this.x=U[0]*G+U[3]*W+U[6]*F,this.y=U[1]*G+U[4]*W+U[7]*F,this.z=U[2]*G+U[5]*W+U[8]*F,this}applyNormalMatrix(Z){return this.applyMatrix3(Z).normalize()}applyMatrix4(Z){const G=this.x,W=this.y,F=this.z,U=Z.elements,J=1/(U[3]*G+U[7]*W+U[11]*F+U[15]);return this.x=(U[0]*G+U[4]*W+U[8]*F+U[12])*J,this.y=(U[1]*G+U[5]*W+U[9]*F+U[13])*J,this.z=(U[2]*G+U[6]*W+U[10]*F+U[14])*J,this}applyQuaternion(Z){const G=this.x,W=this.y,F=this.z,U=Z.x,J=Z.y,Y=Z.z,D=Z.w,Q=2*(J*F-Y*W),ee=2*(Y*G-U*F),q=2*(U*W-J*G);return this.x=G+D*Q+J*q-Y*ee,this.y=W+D*ee+Y*Q-U*q,this.z=F+D*q+U*ee-J*Q,this}project(Z){return this.applyMatrix4(Z.matrixWorldInverse).applyMatrix4(Z.projectionMatrix)}unproject(Z){return this.applyMatrix4(Z.projectionMatrixInverse).applyMatrix4(Z.matrixWorld)}transformDirection(Z){const G=this.x,W=this.y,F=this.z,U=Z.elements;return this.x=U[0]*G+U[4]*W+U[8]*F,this.y=U[1]*G+U[5]*W+U[9]*F,this.z=U[2]*G+U[6]*W+U[10]*F,this.normalize()}divide(Z){return this.x/=Z.x,this.y/=Z.y,this.z/=Z.z,this}divideScalar(Z){return this.multiplyScalar(1/Z)}min(Z){return this.x=Math.min(this.x,Z.x),this.y=Math.min(this.y,Z.y),this.z=Math.min(this.z,Z.z),this}max(Z){return this.x=Math.max(this.x,Z.x),this.y=Math.max(this.y,Z.y),this.z=Math.max(this.z,Z.z),this}clamp(Z,G){return this.x=Math.max(Z.x,Math.min(G.x,this.x)),this.y=Math.max(Z.y,Math.min(G.y,this.y)),this.z=Math.max(Z.z,Math.min(G.z,this.z)),this}clampScalar(Z,G){return this.x=Math.max(Z,Math.min(G,this.x)),this.y=Math.max(Z,Math.min(G,this.y)),this.z=Math.max(Z,Math.min(G,this.z)),this}clampLength(Z,G){const W=this.length();return this.divideScalar(W||1).multiplyScalar(Math.max(Z,Math.min(G,W)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(Z){return this.x*Z.x+this.y*Z.y+this.z*Z.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(Z){return this.normalize().multiplyScalar(Z)}lerp(Z,G){return this.x+=(Z.x-this.x)*G,this.y+=(Z.y-this.y)*G,this.z+=(Z.z-this.z)*G,this}lerpVectors(Z,G,W){return this.x=Z.x+(G.x-Z.x)*W,this.y=Z.y+(G.y-Z.y)*W,this.z=Z.z+(G.z-Z.z)*W,this}cross(Z){return this.crossVectors(this,Z)}crossVectors(Z,G){const W=Z.x,F=Z.y,U=Z.z,J=G.x,Y=G.y,D=G.z;return this.x=F*D-U*Y,this.y=U*J-W*D,this.z=W*Y-F*J,this}projectOnVector(Z){const G=Z.lengthSq();if(G===0)return this.set(0,0,0);const W=Z.dot(this)/G;return this.copy(Z).multiplyScalar(W)}projectOnPlane(Z){return _vector$b.copy(this).projectOnVector(Z),this.sub(_vector$b)}reflect(Z){return this.sub(_vector$b.copy(Z).multiplyScalar(2*this.dot(Z)))}angleTo(Z){const G=Math.sqrt(this.lengthSq()*Z.lengthSq());if(G===0)return Math.PI/2;const W=this.dot(Z)/G;return Math.acos(clamp(W,-1,1))}distanceTo(Z){return Math.sqrt(this.distanceToSquared(Z))}distanceToSquared(Z){const G=this.x-Z.x,W=this.y-Z.y,F=this.z-Z.z;return G*G+W*W+F*F}manhattanDistanceTo(Z){return Math.abs(this.x-Z.x)+Math.abs(this.y-Z.y)+Math.abs(this.z-Z.z)}setFromSpherical(Z){return this.setFromSphericalCoords(Z.radius,Z.phi,Z.theta)}setFromSphericalCoords(Z,G,W){const F=Math.sin(G)*Z;return this.x=F*Math.sin(W),this.y=Math.cos(G)*Z,this.z=F*Math.cos(W),this}setFromCylindrical(Z){return this.setFromCylindricalCoords(Z.radius,Z.theta,Z.y)}setFromCylindricalCoords(Z,G,W){return this.x=Z*Math.sin(G),this.y=W,this.z=Z*Math.cos(G),this}setFromMatrixPosition(Z){const G=Z.elements;return this.x=G[12],this.y=G[13],this.z=G[14],this}setFromMatrixScale(Z){const G=this.setFromMatrixColumn(Z,0).length(),W=this.setFromMatrixColumn(Z,1).length(),F=this.setFromMatrixColumn(Z,2).length();return this.x=G,this.y=W,this.z=F,this}setFromMatrixColumn(Z,G){return this.fromArray(Z.elements,G*4)}setFromMatrix3Column(Z,G){return this.fromArray(Z.elements,G*3)}setFromEuler(Z){return this.x=Z._x,this.y=Z._y,this.z=Z._z,this}setFromColor(Z){return this.x=Z.r,this.y=Z.g,this.z=Z.b,this}equals(Z){return Z.x===this.x&&Z.y===this.y&&Z.z===this.z}fromArray(Z,G=0){return this.x=Z[G],this.y=Z[G+1],this.z=Z[G+2],this}toArray(Z=[],G=0){return Z[G]=this.x,Z[G+1]=this.y,Z[G+2]=this.z,Z}fromBufferAttribute(Z,G){return this.x=Z.getX(G),this.y=Z.getY(G),this.z=Z.getZ(G),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const Z=(Math.random()-.5)*2,G=Math.random()*Math.PI*2,W=Math.sqrt(1-Z**2);return this.x=W*Math.cos(G),this.y=W*Math.sin(G),this.z=Z,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$b=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(Z=new Vector3(1/0,1/0,1/0),G=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=Z,this.max=G}set(Z,G){return this.min.copy(Z),this.max.copy(G),this}setFromArray(Z){this.makeEmpty();for(let G=0,W=Z.length;G<W;G+=3)this.expandByPoint(_vector$a.fromArray(Z,G));return this}setFromBufferAttribute(Z){this.makeEmpty();for(let G=0,W=Z.count;G<W;G++)this.expandByPoint(_vector$a.fromBufferAttribute(Z,G));return this}setFromPoints(Z){this.makeEmpty();for(let G=0,W=Z.length;G<W;G++)this.expandByPoint(Z[G]);return this}setFromCenterAndSize(Z,G){const W=_vector$a.copy(G).multiplyScalar(.5);return this.min.copy(Z).sub(W),this.max.copy(Z).add(W),this}setFromObject(Z,G=!1){return this.makeEmpty(),this.expandByObject(Z,G)}clone(){return new this.constructor().copy(this)}copy(Z){return this.min.copy(Z.min),this.max.copy(Z.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(Z){return this.isEmpty()?Z.set(0,0,0):Z.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(Z){return this.isEmpty()?Z.set(0,0,0):Z.subVectors(this.max,this.min)}expandByPoint(Z){return this.min.min(Z),this.max.max(Z),this}expandByVector(Z){return this.min.sub(Z),this.max.add(Z),this}expandByScalar(Z){return this.min.addScalar(-Z),this.max.addScalar(Z),this}expandByObject(Z,G=!1){Z.updateWorldMatrix(!1,!1);const W=Z.geometry;if(W!==void 0){const U=W.getAttribute("position");if(G===!0&&U!==void 0&&Z.isInstancedMesh!==!0)for(let J=0,Y=U.count;J<Y;J++)Z.isMesh===!0?Z.getVertexPosition(J,_vector$a):_vector$a.fromBufferAttribute(U,J),_vector$a.applyMatrix4(Z.matrixWorld),this.expandByPoint(_vector$a);else Z.boundingBox!==void 0?(Z.boundingBox===null&&Z.computeBoundingBox(),_box$3.copy(Z.boundingBox)):(W.boundingBox===null&&W.computeBoundingBox(),_box$3.copy(W.boundingBox)),_box$3.applyMatrix4(Z.matrixWorld),this.union(_box$3)}const F=Z.children;for(let U=0,J=F.length;U<J;U++)this.expandByObject(F[U],G);return this}containsPoint(Z){return!(Z.x<this.min.x||Z.x>this.max.x||Z.y<this.min.y||Z.y>this.max.y||Z.z<this.min.z||Z.z>this.max.z)}containsBox(Z){return this.min.x<=Z.min.x&&Z.max.x<=this.max.x&&this.min.y<=Z.min.y&&Z.max.y<=this.max.y&&this.min.z<=Z.min.z&&Z.max.z<=this.max.z}getParameter(Z,G){return G.set((Z.x-this.min.x)/(this.max.x-this.min.x),(Z.y-this.min.y)/(this.max.y-this.min.y),(Z.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(Z){return!(Z.max.x<this.min.x||Z.min.x>this.max.x||Z.max.y<this.min.y||Z.min.y>this.max.y||Z.max.z<this.min.z||Z.min.z>this.max.z)}intersectsSphere(Z){return this.clampPoint(Z.center,_vector$a),_vector$a.distanceToSquared(Z.center)<=Z.radius*Z.radius}intersectsPlane(Z){let G,W;return Z.normal.x>0?(G=Z.normal.x*this.min.x,W=Z.normal.x*this.max.x):(G=Z.normal.x*this.max.x,W=Z.normal.x*this.min.x),Z.normal.y>0?(G+=Z.normal.y*this.min.y,W+=Z.normal.y*this.max.y):(G+=Z.normal.y*this.max.y,W+=Z.normal.y*this.min.y),Z.normal.z>0?(G+=Z.normal.z*this.min.z,W+=Z.normal.z*this.max.z):(G+=Z.normal.z*this.max.z,W+=Z.normal.z*this.min.z),G<=-Z.constant&&W>=-Z.constant}intersectsTriangle(Z){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(Z.a,_center),_v1$7.subVectors(Z.b,_center),_v2$4.subVectors(Z.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let G=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(G,_v0$2,_v1$7,_v2$4,_extents)||(G=[1,0,0,0,1,0,0,0,1],!satForAxes(G,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),G=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(G,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(Z,G){return G.copy(Z).clamp(this.min,this.max)}distanceToPoint(Z){return this.clampPoint(Z,_vector$a).distanceTo(Z)}getBoundingSphere(Z){return this.isEmpty()?Z.makeEmpty():(this.getCenter(Z.center),Z.radius=this.getSize(_vector$a).length()*.5),Z}intersect(Z){return this.min.max(Z.min),this.max.min(Z.max),this.isEmpty()&&this.makeEmpty(),this}union(Z){return this.min.min(Z.min),this.max.max(Z.max),this}applyMatrix4(Z){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(Z),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(Z),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(Z),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(Z),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(Z),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(Z),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(Z),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(Z),this.setFromPoints(_points),this)}translate(Z){return this.min.add(Z),this.max.add(Z),this}equals(Z){return Z.min.equals(this.min)&&Z.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$a=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(X,Z,G,W,F){for(let U=0,J=X.length-3;U<=J;U+=3){_testAxis.fromArray(X,U);const Y=F.x*Math.abs(_testAxis.x)+F.y*Math.abs(_testAxis.y)+F.z*Math.abs(_testAxis.z),D=Z.dot(_testAxis),Q=G.dot(_testAxis),ee=W.dot(_testAxis);if(Math.max(-Math.max(D,Q,ee),Math.min(D,Q,ee))>Y)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(Z=new Vector3,G=-1){this.center=Z,this.radius=G}set(Z,G){return this.center.copy(Z),this.radius=G,this}setFromPoints(Z,G){const W=this.center;G!==void 0?W.copy(G):_box$2.setFromPoints(Z).getCenter(W);let F=0;for(let U=0,J=Z.length;U<J;U++)F=Math.max(F,W.distanceToSquared(Z[U]));return this.radius=Math.sqrt(F),this}copy(Z){return this.center.copy(Z.center),this.radius=Z.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(Z){return Z.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(Z){return Z.distanceTo(this.center)-this.radius}intersectsSphere(Z){const G=this.radius+Z.radius;return Z.center.distanceToSquared(this.center)<=G*G}intersectsBox(Z){return Z.intersectsSphere(this)}intersectsPlane(Z){return Math.abs(Z.distanceToPoint(this.center))<=this.radius}clampPoint(Z,G){const W=this.center.distanceToSquared(Z);return G.copy(Z),W>this.radius*this.radius&&(G.sub(this.center).normalize(),G.multiplyScalar(this.radius).add(this.center)),G}getBoundingBox(Z){return this.isEmpty()?(Z.makeEmpty(),Z):(Z.set(this.center,this.center),Z.expandByScalar(this.radius),Z)}applyMatrix4(Z){return this.center.applyMatrix4(Z),this.radius=this.radius*Z.getMaxScaleOnAxis(),this}translate(Z){return this.center.add(Z),this}expandByPoint(Z){if(this.isEmpty())return this.center.copy(Z),this.radius=0,this;_v1$6.subVectors(Z,this.center);const G=_v1$6.lengthSq();if(G>this.radius*this.radius){const W=Math.sqrt(G),F=(W-this.radius)*.5;this.center.addScaledVector(_v1$6,F/W),this.radius+=F}return this}union(Z){return Z.isEmpty()?this:this.isEmpty()?(this.copy(Z),this):(this.center.equals(Z.center)===!0?this.radius=Math.max(this.radius,Z.radius):(_v2$3.subVectors(Z.center,this.center).setLength(Z.radius),this.expandByPoint(_v1$6.copy(Z.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(Z.center).sub(_v2$3))),this)}equals(Z){return Z.center.equals(this.center)&&Z.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$9=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(Z=new Vector3,G=new Vector3(0,0,-1)){this.origin=Z,this.direction=G}set(Z,G){return this.origin.copy(Z),this.direction.copy(G),this}copy(Z){return this.origin.copy(Z.origin),this.direction.copy(Z.direction),this}at(Z,G){return G.copy(this.origin).addScaledVector(this.direction,Z)}lookAt(Z){return this.direction.copy(Z).sub(this.origin).normalize(),this}recast(Z){return this.origin.copy(this.at(Z,_vector$9)),this}closestPointToPoint(Z,G){G.subVectors(Z,this.origin);const W=G.dot(this.direction);return W<0?G.copy(this.origin):G.copy(this.origin).addScaledVector(this.direction,W)}distanceToPoint(Z){return Math.sqrt(this.distanceSqToPoint(Z))}distanceSqToPoint(Z){const G=_vector$9.subVectors(Z,this.origin).dot(this.direction);return G<0?this.origin.distanceToSquared(Z):(_vector$9.copy(this.origin).addScaledVector(this.direction,G),_vector$9.distanceToSquared(Z))}distanceSqToSegment(Z,G,W,F){_segCenter.copy(Z).add(G).multiplyScalar(.5),_segDir.copy(G).sub(Z).normalize(),_diff.copy(this.origin).sub(_segCenter);const U=Z.distanceTo(G)*.5,J=-this.direction.dot(_segDir),Y=_diff.dot(this.direction),D=-_diff.dot(_segDir),Q=_diff.lengthSq(),ee=Math.abs(1-J*J);let q,te,ie,ne;if(ee>0)if(q=J*D-Y,te=J*Y-D,ne=U*ee,q>=0)if(te>=-ne)if(te<=ne){const ce=1/ee;q*=ce,te*=ce,ie=q*(q+J*te+2*Y)+te*(J*q+te+2*D)+Q}else te=U,q=Math.max(0,-(J*te+Y)),ie=-q*q+te*(te+2*D)+Q;else te=-U,q=Math.max(0,-(J*te+Y)),ie=-q*q+te*(te+2*D)+Q;else te<=-ne?(q=Math.max(0,-(-J*U+Y)),te=q>0?-U:Math.min(Math.max(-U,-D),U),ie=-q*q+te*(te+2*D)+Q):te<=ne?(q=0,te=Math.min(Math.max(-U,-D),U),ie=te*(te+2*D)+Q):(q=Math.max(0,-(J*U+Y)),te=q>0?U:Math.min(Math.max(-U,-D),U),ie=-q*q+te*(te+2*D)+Q);else te=J>0?-U:U,q=Math.max(0,-(J*te+Y)),ie=-q*q+te*(te+2*D)+Q;return W&&W.copy(this.origin).addScaledVector(this.direction,q),F&&F.copy(_segCenter).addScaledVector(_segDir,te),ie}intersectSphere(Z,G){_vector$9.subVectors(Z.center,this.origin);const W=_vector$9.dot(this.direction),F=_vector$9.dot(_vector$9)-W*W,U=Z.radius*Z.radius;if(F>U)return null;const J=Math.sqrt(U-F),Y=W-J,D=W+J;return D<0?null:Y<0?this.at(D,G):this.at(Y,G)}intersectsSphere(Z){return this.distanceSqToPoint(Z.center)<=Z.radius*Z.radius}distanceToPlane(Z){const G=Z.normal.dot(this.direction);if(G===0)return Z.distanceToPoint(this.origin)===0?0:null;const W=-(this.origin.dot(Z.normal)+Z.constant)/G;return W>=0?W:null}intersectPlane(Z,G){const W=this.distanceToPlane(Z);return W===null?null:this.at(W,G)}intersectsPlane(Z){const G=Z.distanceToPoint(this.origin);return G===0||Z.normal.dot(this.direction)*G<0}intersectBox(Z,G){let W,F,U,J,Y,D;const Q=1/this.direction.x,ee=1/this.direction.y,q=1/this.direction.z,te=this.origin;return Q>=0?(W=(Z.min.x-te.x)*Q,F=(Z.max.x-te.x)*Q):(W=(Z.max.x-te.x)*Q,F=(Z.min.x-te.x)*Q),ee>=0?(U=(Z.min.y-te.y)*ee,J=(Z.max.y-te.y)*ee):(U=(Z.max.y-te.y)*ee,J=(Z.min.y-te.y)*ee),W>J||U>F||((U>W||isNaN(W))&&(W=U),(J<F||isNaN(F))&&(F=J),q>=0?(Y=(Z.min.z-te.z)*q,D=(Z.max.z-te.z)*q):(Y=(Z.max.z-te.z)*q,D=(Z.min.z-te.z)*q),W>D||Y>F)||((Y>W||W!==W)&&(W=Y),(D<F||F!==F)&&(F=D),F<0)?null:this.at(W>=0?W:F,G)}intersectsBox(Z){return this.intersectBox(Z,_vector$9)!==null}intersectTriangle(Z,G,W,F,U){_edge1.subVectors(G,Z),_edge2.subVectors(W,Z),_normal$1.crossVectors(_edge1,_edge2);let J=this.direction.dot(_normal$1),Y;if(J>0){if(F)return null;Y=1}else if(J<0)Y=-1,J=-J;else return null;_diff.subVectors(this.origin,Z);const D=Y*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(D<0)return null;const Q=Y*this.direction.dot(_edge1.cross(_diff));if(Q<0||D+Q>J)return null;const ee=-Y*_diff.dot(_normal$1);return ee<0?null:this.at(ee/J,U)}applyMatrix4(Z){return this.origin.applyMatrix4(Z),this.direction.transformDirection(Z),this}equals(Z){return Z.origin.equals(this.origin)&&Z.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce,le){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Z!==void 0&&this.set(Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce,le)}set(Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce,le){const se=this.elements;return se[0]=Z,se[4]=G,se[8]=W,se[12]=F,se[1]=U,se[5]=J,se[9]=Y,se[13]=D,se[2]=Q,se[6]=ee,se[10]=q,se[14]=te,se[3]=ie,se[7]=ne,se[11]=ce,se[15]=le,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(Z){const G=this.elements,W=Z.elements;return G[0]=W[0],G[1]=W[1],G[2]=W[2],G[3]=W[3],G[4]=W[4],G[5]=W[5],G[6]=W[6],G[7]=W[7],G[8]=W[8],G[9]=W[9],G[10]=W[10],G[11]=W[11],G[12]=W[12],G[13]=W[13],G[14]=W[14],G[15]=W[15],this}copyPosition(Z){const G=this.elements,W=Z.elements;return G[12]=W[12],G[13]=W[13],G[14]=W[14],this}setFromMatrix3(Z){const G=Z.elements;return this.set(G[0],G[3],G[6],0,G[1],G[4],G[7],0,G[2],G[5],G[8],0,0,0,0,1),this}extractBasis(Z,G,W){return Z.setFromMatrixColumn(this,0),G.setFromMatrixColumn(this,1),W.setFromMatrixColumn(this,2),this}makeBasis(Z,G,W){return this.set(Z.x,G.x,W.x,0,Z.y,G.y,W.y,0,Z.z,G.z,W.z,0,0,0,0,1),this}extractRotation(Z){const G=this.elements,W=Z.elements,F=1/_v1$5.setFromMatrixColumn(Z,0).length(),U=1/_v1$5.setFromMatrixColumn(Z,1).length(),J=1/_v1$5.setFromMatrixColumn(Z,2).length();return G[0]=W[0]*F,G[1]=W[1]*F,G[2]=W[2]*F,G[3]=0,G[4]=W[4]*U,G[5]=W[5]*U,G[6]=W[6]*U,G[7]=0,G[8]=W[8]*J,G[9]=W[9]*J,G[10]=W[10]*J,G[11]=0,G[12]=0,G[13]=0,G[14]=0,G[15]=1,this}makeRotationFromEuler(Z){const G=this.elements,W=Z.x,F=Z.y,U=Z.z,J=Math.cos(W),Y=Math.sin(W),D=Math.cos(F),Q=Math.sin(F),ee=Math.cos(U),q=Math.sin(U);if(Z.order==="XYZ"){const te=J*ee,ie=J*q,ne=Y*ee,ce=Y*q;G[0]=D*ee,G[4]=-D*q,G[8]=Q,G[1]=ie+ne*Q,G[5]=te-ce*Q,G[9]=-Y*D,G[2]=ce-te*Q,G[6]=ne+ie*Q,G[10]=J*D}else if(Z.order==="YXZ"){const te=D*ee,ie=D*q,ne=Q*ee,ce=Q*q;G[0]=te+ce*Y,G[4]=ne*Y-ie,G[8]=J*Q,G[1]=J*q,G[5]=J*ee,G[9]=-Y,G[2]=ie*Y-ne,G[6]=ce+te*Y,G[10]=J*D}else if(Z.order==="ZXY"){const te=D*ee,ie=D*q,ne=Q*ee,ce=Q*q;G[0]=te-ce*Y,G[4]=-J*q,G[8]=ne+ie*Y,G[1]=ie+ne*Y,G[5]=J*ee,G[9]=ce-te*Y,G[2]=-J*Q,G[6]=Y,G[10]=J*D}else if(Z.order==="ZYX"){const te=J*ee,ie=J*q,ne=Y*ee,ce=Y*q;G[0]=D*ee,G[4]=ne*Q-ie,G[8]=te*Q+ce,G[1]=D*q,G[5]=ce*Q+te,G[9]=ie*Q-ne,G[2]=-Q,G[6]=Y*D,G[10]=J*D}else if(Z.order==="YZX"){const te=J*D,ie=J*Q,ne=Y*D,ce=Y*Q;G[0]=D*ee,G[4]=ce-te*q,G[8]=ne*q+ie,G[1]=q,G[5]=J*ee,G[9]=-Y*ee,G[2]=-Q*ee,G[6]=ie*q+ne,G[10]=te-ce*q}else if(Z.order==="XZY"){const te=J*D,ie=J*Q,ne=Y*D,ce=Y*Q;G[0]=D*ee,G[4]=-q,G[8]=Q*ee,G[1]=te*q+ce,G[5]=J*ee,G[9]=ie*q-ne,G[2]=ne*q-ie,G[6]=Y*ee,G[10]=ce*q+te}return G[3]=0,G[7]=0,G[11]=0,G[12]=0,G[13]=0,G[14]=0,G[15]=1,this}makeRotationFromQuaternion(Z){return this.compose(_zero,Z,_one)}lookAt(Z,G,W){const F=this.elements;return _z.subVectors(Z,G),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(W,_z),_x.lengthSq()===0&&(Math.abs(W.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(W,_z)),_x.normalize(),_y.crossVectors(_z,_x),F[0]=_x.x,F[4]=_y.x,F[8]=_z.x,F[1]=_x.y,F[5]=_y.y,F[9]=_z.y,F[2]=_x.z,F[6]=_y.z,F[10]=_z.z,this}multiply(Z){return this.multiplyMatrices(this,Z)}premultiply(Z){return this.multiplyMatrices(Z,this)}multiplyMatrices(Z,G){const W=Z.elements,F=G.elements,U=this.elements,J=W[0],Y=W[4],D=W[8],Q=W[12],ee=W[1],q=W[5],te=W[9],ie=W[13],ne=W[2],ce=W[6],le=W[10],se=W[14],pe=W[3],ue=W[7],ae=W[11],de=W[15],be=F[0],he=F[4],Le=F[8],Xe=F[12],We=F[1],fe=F[5],Re=F[9],ye=F[13],re=F[2],Ze=F[6],Ge=F[10],ve=F[14],Te=F[3],xe=F[7],Ie=F[11],Se=F[15];return U[0]=J*be+Y*We+D*re+Q*Te,U[4]=J*he+Y*fe+D*Ze+Q*xe,U[8]=J*Le+Y*Re+D*Ge+Q*Ie,U[12]=J*Xe+Y*ye+D*ve+Q*Se,U[1]=ee*be+q*We+te*re+ie*Te,U[5]=ee*he+q*fe+te*Ze+ie*xe,U[9]=ee*Le+q*Re+te*Ge+ie*Ie,U[13]=ee*Xe+q*ye+te*ve+ie*Se,U[2]=ne*be+ce*We+le*re+se*Te,U[6]=ne*he+ce*fe+le*Ze+se*xe,U[10]=ne*Le+ce*Re+le*Ge+se*Ie,U[14]=ne*Xe+ce*ye+le*ve+se*Se,U[3]=pe*be+ue*We+ae*re+de*Te,U[7]=pe*he+ue*fe+ae*Ze+de*xe,U[11]=pe*Le+ue*Re+ae*Ge+de*Ie,U[15]=pe*Xe+ue*ye+ae*ve+de*Se,this}multiplyScalar(Z){const G=this.elements;return G[0]*=Z,G[4]*=Z,G[8]*=Z,G[12]*=Z,G[1]*=Z,G[5]*=Z,G[9]*=Z,G[13]*=Z,G[2]*=Z,G[6]*=Z,G[10]*=Z,G[14]*=Z,G[3]*=Z,G[7]*=Z,G[11]*=Z,G[15]*=Z,this}determinant(){const Z=this.elements,G=Z[0],W=Z[4],F=Z[8],U=Z[12],J=Z[1],Y=Z[5],D=Z[9],Q=Z[13],ee=Z[2],q=Z[6],te=Z[10],ie=Z[14],ne=Z[3],ce=Z[7],le=Z[11],se=Z[15];return ne*(+U*D*q-F*Q*q-U*Y*te+W*Q*te+F*Y*ie-W*D*ie)+ce*(+G*D*ie-G*Q*te+U*J*te-F*J*ie+F*Q*ee-U*D*ee)+le*(+G*Q*q-G*Y*ie-U*J*q+W*J*ie+U*Y*ee-W*Q*ee)+se*(-F*Y*ee-G*D*q+G*Y*te+F*J*q-W*J*te+W*D*ee)}transpose(){const Z=this.elements;let G;return G=Z[1],Z[1]=Z[4],Z[4]=G,G=Z[2],Z[2]=Z[8],Z[8]=G,G=Z[6],Z[6]=Z[9],Z[9]=G,G=Z[3],Z[3]=Z[12],Z[12]=G,G=Z[7],Z[7]=Z[13],Z[13]=G,G=Z[11],Z[11]=Z[14],Z[14]=G,this}setPosition(Z,G,W){const F=this.elements;return Z.isVector3?(F[12]=Z.x,F[13]=Z.y,F[14]=Z.z):(F[12]=Z,F[13]=G,F[14]=W),this}invert(){const Z=this.elements,G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8],q=Z[9],te=Z[10],ie=Z[11],ne=Z[12],ce=Z[13],le=Z[14],se=Z[15],pe=q*le*Q-ce*te*Q+ce*D*ie-Y*le*ie-q*D*se+Y*te*se,ue=ne*te*Q-ee*le*Q-ne*D*ie+J*le*ie+ee*D*se-J*te*se,ae=ee*ce*Q-ne*q*Q+ne*Y*ie-J*ce*ie-ee*Y*se+J*q*se,de=ne*q*D-ee*ce*D-ne*Y*te+J*ce*te+ee*Y*le-J*q*le,be=G*pe+W*ue+F*ae+U*de;if(be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const he=1/be;return Z[0]=pe*he,Z[1]=(ce*te*U-q*le*U-ce*F*ie+W*le*ie+q*F*se-W*te*se)*he,Z[2]=(Y*le*U-ce*D*U+ce*F*Q-W*le*Q-Y*F*se+W*D*se)*he,Z[3]=(q*D*U-Y*te*U-q*F*Q+W*te*Q+Y*F*ie-W*D*ie)*he,Z[4]=ue*he,Z[5]=(ee*le*U-ne*te*U+ne*F*ie-G*le*ie-ee*F*se+G*te*se)*he,Z[6]=(ne*D*U-J*le*U-ne*F*Q+G*le*Q+J*F*se-G*D*se)*he,Z[7]=(J*te*U-ee*D*U+ee*F*Q-G*te*Q-J*F*ie+G*D*ie)*he,Z[8]=ae*he,Z[9]=(ne*q*U-ee*ce*U-ne*W*ie+G*ce*ie+ee*W*se-G*q*se)*he,Z[10]=(J*ce*U-ne*Y*U+ne*W*Q-G*ce*Q-J*W*se+G*Y*se)*he,Z[11]=(ee*Y*U-J*q*U-ee*W*Q+G*q*Q+J*W*ie-G*Y*ie)*he,Z[12]=de*he,Z[13]=(ee*ce*F-ne*q*F+ne*W*te-G*ce*te-ee*W*le+G*q*le)*he,Z[14]=(ne*Y*F-J*ce*F-ne*W*D+G*ce*D+J*W*le-G*Y*le)*he,Z[15]=(J*q*F-ee*Y*F+ee*W*D-G*q*D-J*W*te+G*Y*te)*he,this}scale(Z){const G=this.elements,W=Z.x,F=Z.y,U=Z.z;return G[0]*=W,G[4]*=F,G[8]*=U,G[1]*=W,G[5]*=F,G[9]*=U,G[2]*=W,G[6]*=F,G[10]*=U,G[3]*=W,G[7]*=F,G[11]*=U,this}getMaxScaleOnAxis(){const Z=this.elements,G=Z[0]*Z[0]+Z[1]*Z[1]+Z[2]*Z[2],W=Z[4]*Z[4]+Z[5]*Z[5]+Z[6]*Z[6],F=Z[8]*Z[8]+Z[9]*Z[9]+Z[10]*Z[10];return Math.sqrt(Math.max(G,W,F))}makeTranslation(Z,G,W){return Z.isVector3?this.set(1,0,0,Z.x,0,1,0,Z.y,0,0,1,Z.z,0,0,0,1):this.set(1,0,0,Z,0,1,0,G,0,0,1,W,0,0,0,1),this}makeRotationX(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(1,0,0,0,0,G,-W,0,0,W,G,0,0,0,0,1),this}makeRotationY(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(G,0,W,0,0,1,0,0,-W,0,G,0,0,0,0,1),this}makeRotationZ(Z){const G=Math.cos(Z),W=Math.sin(Z);return this.set(G,-W,0,0,W,G,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(Z,G){const W=Math.cos(G),F=Math.sin(G),U=1-W,J=Z.x,Y=Z.y,D=Z.z,Q=U*J,ee=U*Y;return this.set(Q*J+W,Q*Y-F*D,Q*D+F*Y,0,Q*Y+F*D,ee*Y+W,ee*D-F*J,0,Q*D-F*Y,ee*D+F*J,U*D*D+W,0,0,0,0,1),this}makeScale(Z,G,W){return this.set(Z,0,0,0,0,G,0,0,0,0,W,0,0,0,0,1),this}makeShear(Z,G,W,F,U,J){return this.set(1,W,U,0,Z,1,J,0,G,F,1,0,0,0,0,1),this}compose(Z,G,W){const F=this.elements,U=G._x,J=G._y,Y=G._z,D=G._w,Q=U+U,ee=J+J,q=Y+Y,te=U*Q,ie=U*ee,ne=U*q,ce=J*ee,le=J*q,se=Y*q,pe=D*Q,ue=D*ee,ae=D*q,de=W.x,be=W.y,he=W.z;return F[0]=(1-(ce+se))*de,F[1]=(ie+ae)*de,F[2]=(ne-ue)*de,F[3]=0,F[4]=(ie-ae)*be,F[5]=(1-(te+se))*be,F[6]=(le+pe)*be,F[7]=0,F[8]=(ne+ue)*he,F[9]=(le-pe)*he,F[10]=(1-(te+ce))*he,F[11]=0,F[12]=Z.x,F[13]=Z.y,F[14]=Z.z,F[15]=1,this}decompose(Z,G,W){const F=this.elements;let U=_v1$5.set(F[0],F[1],F[2]).length();const J=_v1$5.set(F[4],F[5],F[6]).length(),Y=_v1$5.set(F[8],F[9],F[10]).length();this.determinant()<0&&(U=-U),Z.x=F[12],Z.y=F[13],Z.z=F[14],_m1$2.copy(this);const Q=1/U,ee=1/J,q=1/Y;return _m1$2.elements[0]*=Q,_m1$2.elements[1]*=Q,_m1$2.elements[2]*=Q,_m1$2.elements[4]*=ee,_m1$2.elements[5]*=ee,_m1$2.elements[6]*=ee,_m1$2.elements[8]*=q,_m1$2.elements[9]*=q,_m1$2.elements[10]*=q,G.setFromRotationMatrix(_m1$2),W.x=U,W.y=J,W.z=Y,this}makePerspective(Z,G,W,F,U,J,Y=WebGLCoordinateSystem){const D=this.elements,Q=2*U/(G-Z),ee=2*U/(W-F),q=(G+Z)/(G-Z),te=(W+F)/(W-F);let ie,ne;if(Y===WebGLCoordinateSystem)ie=-(J+U)/(J-U),ne=-2*J*U/(J-U);else if(Y===WebGPUCoordinateSystem)ie=-J/(J-U),ne=-J*U/(J-U);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+Y);return D[0]=Q,D[4]=0,D[8]=q,D[12]=0,D[1]=0,D[5]=ee,D[9]=te,D[13]=0,D[2]=0,D[6]=0,D[10]=ie,D[14]=ne,D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this}makeOrthographic(Z,G,W,F,U,J,Y=WebGLCoordinateSystem){const D=this.elements,Q=1/(G-Z),ee=1/(W-F),q=1/(J-U),te=(G+Z)*Q,ie=(W+F)*ee;let ne,ce;if(Y===WebGLCoordinateSystem)ne=(J+U)*q,ce=-2*q;else if(Y===WebGPUCoordinateSystem)ne=U*q,ce=-1*q;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+Y);return D[0]=2*Q,D[4]=0,D[8]=0,D[12]=-te,D[1]=0,D[5]=2*ee,D[9]=0,D[13]=-ie,D[2]=0,D[6]=0,D[10]=ce,D[14]=-ne,D[3]=0,D[7]=0,D[11]=0,D[15]=1,this}equals(Z){const G=this.elements,W=Z.elements;for(let F=0;F<16;F++)if(G[F]!==W[F])return!1;return!0}fromArray(Z,G=0){for(let W=0;W<16;W++)this.elements[W]=Z[W+G];return this}toArray(Z=[],G=0){const W=this.elements;return Z[G]=W[0],Z[G+1]=W[1],Z[G+2]=W[2],Z[G+3]=W[3],Z[G+4]=W[4],Z[G+5]=W[5],Z[G+6]=W[6],Z[G+7]=W[7],Z[G+8]=W[8],Z[G+9]=W[9],Z[G+10]=W[10],Z[G+11]=W[11],Z[G+12]=W[12],Z[G+13]=W[13],Z[G+14]=W[14],Z[G+15]=W[15],Z}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(Z=0,G=0,W=0,F=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=Z,this._y=G,this._z=W,this._order=F}get x(){return this._x}set x(Z){this._x=Z,this._onChangeCallback()}get y(){return this._y}set y(Z){this._y=Z,this._onChangeCallback()}get z(){return this._z}set z(Z){this._z=Z,this._onChangeCallback()}get order(){return this._order}set order(Z){this._order=Z,this._onChangeCallback()}set(Z,G,W,F=this._order){return this._x=Z,this._y=G,this._z=W,this._order=F,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(Z){return this._x=Z._x,this._y=Z._y,this._z=Z._z,this._order=Z._order,this._onChangeCallback(),this}setFromRotationMatrix(Z,G=this._order,W=!0){const F=Z.elements,U=F[0],J=F[4],Y=F[8],D=F[1],Q=F[5],ee=F[9],q=F[2],te=F[6],ie=F[10];switch(G){case"XYZ":this._y=Math.asin(clamp(Y,-1,1)),Math.abs(Y)<.9999999?(this._x=Math.atan2(-ee,ie),this._z=Math.atan2(-J,U)):(this._x=Math.atan2(te,Q),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ee,-1,1)),Math.abs(ee)<.9999999?(this._y=Math.atan2(Y,ie),this._z=Math.atan2(D,Q)):(this._y=Math.atan2(-q,U),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(te,-1,1)),Math.abs(te)<.9999999?(this._y=Math.atan2(-q,ie),this._z=Math.atan2(-J,Q)):(this._y=0,this._z=Math.atan2(D,U));break;case"ZYX":this._y=Math.asin(-clamp(q,-1,1)),Math.abs(q)<.9999999?(this._x=Math.atan2(te,ie),this._z=Math.atan2(D,U)):(this._x=0,this._z=Math.atan2(-J,Q));break;case"YZX":this._z=Math.asin(clamp(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(-ee,Q),this._y=Math.atan2(-q,U)):(this._x=0,this._y=Math.atan2(Y,ie));break;case"XZY":this._z=Math.asin(-clamp(J,-1,1)),Math.abs(J)<.9999999?(this._x=Math.atan2(te,Q),this._y=Math.atan2(Y,U)):(this._x=Math.atan2(-ee,ie),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+G)}return this._order=G,W===!0&&this._onChangeCallback(),this}setFromQuaternion(Z,G,W){return _matrix.makeRotationFromQuaternion(Z),this.setFromRotationMatrix(_matrix,G,W)}setFromVector3(Z,G=this._order){return this.set(Z.x,Z.y,Z.z,G)}reorder(Z){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,Z)}equals(Z){return Z._x===this._x&&Z._y===this._y&&Z._z===this._z&&Z._order===this._order}fromArray(Z){return this._x=Z[0],this._y=Z[1],this._z=Z[2],Z[3]!==void 0&&(this._order=Z[3]),this._onChangeCallback(),this}toArray(Z=[],G=0){return Z[G]=this._x,Z[G+1]=this._y,Z[G+2]=this._z,Z[G+3]=this._order,Z}_onChange(Z){return this._onChangeCallback=Z,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(Z){this.mask=(1<<Z|0)>>>0}enable(Z){this.mask|=1<<Z|0}enableAll(){this.mask=-1}toggle(Z){this.mask^=1<<Z|0}disable(Z){this.mask&=~(1<<Z|0)}disableAll(){this.mask=0}test(Z){return(this.mask&Z.mask)!==0}isEnabled(Z){return(this.mask&(1<<Z|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const Z=new Vector3,G=new Euler,W=new Quaternion,F=new Vector3(1,1,1);function U(){W.setFromEuler(G,!1)}function J(){G.setFromQuaternion(W,void 0,!1)}G._onChange(U),W._onChange(J),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:Z},rotation:{configurable:!0,enumerable:!0,value:G},quaternion:{configurable:!0,enumerable:!0,value:W},scale:{configurable:!0,enumerable:!0,value:F},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(Z){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(Z),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(Z){return this.quaternion.premultiply(Z),this}setRotationFromAxisAngle(Z,G){this.quaternion.setFromAxisAngle(Z,G)}setRotationFromEuler(Z){this.quaternion.setFromEuler(Z,!0)}setRotationFromMatrix(Z){this.quaternion.setFromRotationMatrix(Z)}setRotationFromQuaternion(Z){this.quaternion.copy(Z)}rotateOnAxis(Z,G){return _q1.setFromAxisAngle(Z,G),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(Z,G){return _q1.setFromAxisAngle(Z,G),this.quaternion.premultiply(_q1),this}rotateX(Z){return this.rotateOnAxis(_xAxis,Z)}rotateY(Z){return this.rotateOnAxis(_yAxis,Z)}rotateZ(Z){return this.rotateOnAxis(_zAxis,Z)}translateOnAxis(Z,G){return _v1$4.copy(Z).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(G)),this}translateX(Z){return this.translateOnAxis(_xAxis,Z)}translateY(Z){return this.translateOnAxis(_yAxis,Z)}translateZ(Z){return this.translateOnAxis(_zAxis,Z)}localToWorld(Z){return this.updateWorldMatrix(!0,!1),Z.applyMatrix4(this.matrixWorld)}worldToLocal(Z){return this.updateWorldMatrix(!0,!1),Z.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(Z,G,W){Z.isVector3?_target.copy(Z):_target.set(Z,G,W);const F=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),F&&(_m1$1.extractRotation(F.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(Z){if(arguments.length>1){for(let G=0;G<arguments.length;G++)this.add(arguments[G]);return this}return Z===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",Z),this):(Z&&Z.isObject3D?(Z.parent!==null&&Z.parent.remove(Z),Z.parent=this,this.children.push(Z),Z.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",Z),this)}remove(Z){if(arguments.length>1){for(let W=0;W<arguments.length;W++)this.remove(arguments[W]);return this}const G=this.children.indexOf(Z);return G!==-1&&(Z.parent=null,this.children.splice(G,1),Z.dispatchEvent(_removedEvent)),this}removeFromParent(){const Z=this.parent;return Z!==null&&Z.remove(this),this}clear(){return this.remove(...this.children)}attach(Z){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),Z.parent!==null&&(Z.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(Z.parent.matrixWorld)),Z.applyMatrix4(_m1$1),this.add(Z),Z.updateWorldMatrix(!1,!0),this}getObjectById(Z){return this.getObjectByProperty("id",Z)}getObjectByName(Z){return this.getObjectByProperty("name",Z)}getObjectByProperty(Z,G){if(this[Z]===G)return this;for(let W=0,F=this.children.length;W<F;W++){const J=this.children[W].getObjectByProperty(Z,G);if(J!==void 0)return J}}getObjectsByProperty(Z,G){let W=[];this[Z]===G&&W.push(this);for(let F=0,U=this.children.length;F<U;F++){const J=this.children[F].getObjectsByProperty(Z,G);J.length>0&&(W=W.concat(J))}return W}getWorldPosition(Z){return this.updateWorldMatrix(!0,!1),Z.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(Z){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,Z,_scale$2),Z}getWorldScale(Z){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,Z),Z}getWorldDirection(Z){this.updateWorldMatrix(!0,!1);const G=this.matrixWorld.elements;return Z.set(G[8],G[9],G[10]).normalize()}raycast(){}traverse(Z){Z(this);const G=this.children;for(let W=0,F=G.length;W<F;W++)G[W].traverse(Z)}traverseVisible(Z){if(this.visible===!1)return;Z(this);const G=this.children;for(let W=0,F=G.length;W<F;W++)G[W].traverseVisible(Z)}traverseAncestors(Z){const G=this.parent;G!==null&&(Z(G),G.traverseAncestors(Z))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(Z){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||Z)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,Z=!0);const G=this.children;for(let W=0,F=G.length;W<F;W++){const U=G[W];(U.matrixWorldAutoUpdate===!0||Z===!0)&&U.updateMatrixWorld(Z)}}updateWorldMatrix(Z,G){const W=this.parent;if(Z===!0&&W!==null&&W.matrixWorldAutoUpdate===!0&&W.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),G===!0){const F=this.children;for(let U=0,J=F.length;U<J;U++){const Y=F[U];Y.matrixWorldAutoUpdate===!0&&Y.updateWorldMatrix(!1,!0)}}}toJSON(Z){const G=Z===void 0||typeof Z=="string",W={};G&&(Z={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},W.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const F={};F.uuid=this.uuid,F.type=this.type,this.name!==""&&(F.name=this.name),this.castShadow===!0&&(F.castShadow=!0),this.receiveShadow===!0&&(F.receiveShadow=!0),this.visible===!1&&(F.visible=!1),this.frustumCulled===!1&&(F.frustumCulled=!1),this.renderOrder!==0&&(F.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(F.userData=this.userData),F.layers=this.layers.mask,F.matrix=this.matrix.toArray(),F.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(F.matrixAutoUpdate=!1),this.isInstancedMesh&&(F.type="InstancedMesh",F.count=this.count,F.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(F.instanceColor=this.instanceColor.toJSON()));function U(Y,D){return Y[D.uuid]===void 0&&(Y[D.uuid]=D.toJSON(Z)),D.uuid}if(this.isScene)this.background&&(this.background.isColor?F.background=this.background.toJSON():this.background.isTexture&&(F.background=this.background.toJSON(Z).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(F.environment=this.environment.toJSON(Z).uuid);else if(this.isMesh||this.isLine||this.isPoints){F.geometry=U(Z.geometries,this.geometry);const Y=this.geometry.parameters;if(Y!==void 0&&Y.shapes!==void 0){const D=Y.shapes;if(Array.isArray(D))for(let Q=0,ee=D.length;Q<ee;Q++){const q=D[Q];U(Z.shapes,q)}else U(Z.shapes,D)}}if(this.isSkinnedMesh&&(F.bindMode=this.bindMode,F.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(U(Z.skeletons,this.skeleton),F.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const Y=[];for(let D=0,Q=this.material.length;D<Q;D++)Y.push(U(Z.materials,this.material[D]));F.material=Y}else F.material=U(Z.materials,this.material);if(this.children.length>0){F.children=[];for(let Y=0;Y<this.children.length;Y++)F.children.push(this.children[Y].toJSON(Z).object)}if(this.animations.length>0){F.animations=[];for(let Y=0;Y<this.animations.length;Y++){const D=this.animations[Y];F.animations.push(U(Z.animations,D))}}if(G){const Y=J(Z.geometries),D=J(Z.materials),Q=J(Z.textures),ee=J(Z.images),q=J(Z.shapes),te=J(Z.skeletons),ie=J(Z.animations),ne=J(Z.nodes);Y.length>0&&(W.geometries=Y),D.length>0&&(W.materials=D),Q.length>0&&(W.textures=Q),ee.length>0&&(W.images=ee),q.length>0&&(W.shapes=q),te.length>0&&(W.skeletons=te),ie.length>0&&(W.animations=ie),ne.length>0&&(W.nodes=ne)}return W.object=F,W;function J(Y){const D=[];for(const Q in Y){const ee=Y[Q];delete ee.metadata,D.push(ee)}return D}}clone(Z){return new this.constructor().copy(this,Z)}copy(Z,G=!0){if(this.name=Z.name,this.up.copy(Z.up),this.position.copy(Z.position),this.rotation.order=Z.rotation.order,this.quaternion.copy(Z.quaternion),this.scale.copy(Z.scale),this.matrix.copy(Z.matrix),this.matrixWorld.copy(Z.matrixWorld),this.matrixAutoUpdate=Z.matrixAutoUpdate,this.matrixWorldNeedsUpdate=Z.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=Z.matrixWorldAutoUpdate,this.layers.mask=Z.layers.mask,this.visible=Z.visible,this.castShadow=Z.castShadow,this.receiveShadow=Z.receiveShadow,this.frustumCulled=Z.frustumCulled,this.renderOrder=Z.renderOrder,this.animations=Z.animations.slice(),this.userData=JSON.parse(JSON.stringify(Z.userData)),G===!0)for(let W=0;W<Z.children.length;W++){const F=Z.children[W];this.add(F.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(Z=new Vector3,G=new Vector3,W=new Vector3){this.a=Z,this.b=G,this.c=W}static getNormal(Z,G,W,F){F.subVectors(W,G),_v0$1.subVectors(Z,G),F.cross(_v0$1);const U=F.lengthSq();return U>0?F.multiplyScalar(1/Math.sqrt(U)):F.set(0,0,0)}static getBarycoord(Z,G,W,F,U){_v0$1.subVectors(F,G),_v1$3.subVectors(W,G),_v2$2.subVectors(Z,G);const J=_v0$1.dot(_v0$1),Y=_v0$1.dot(_v1$3),D=_v0$1.dot(_v2$2),Q=_v1$3.dot(_v1$3),ee=_v1$3.dot(_v2$2),q=J*Q-Y*Y;if(q===0)return U.set(-2,-1,-1);const te=1/q,ie=(Q*D-Y*ee)*te,ne=(J*ee-Y*D)*te;return U.set(1-ie-ne,ne,ie)}static containsPoint(Z,G,W,F){return this.getBarycoord(Z,G,W,F,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(Z,G,W,F,U,J,Y,D){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(Z,G,W,F,U,J,Y,D)}static getInterpolation(Z,G,W,F,U,J,Y,D){return this.getBarycoord(Z,G,W,F,_v3$1),D.setScalar(0),D.addScaledVector(U,_v3$1.x),D.addScaledVector(J,_v3$1.y),D.addScaledVector(Y,_v3$1.z),D}static isFrontFacing(Z,G,W,F){return _v0$1.subVectors(W,G),_v1$3.subVectors(Z,G),_v0$1.cross(_v1$3).dot(F)<0}set(Z,G,W){return this.a.copy(Z),this.b.copy(G),this.c.copy(W),this}setFromPointsAndIndices(Z,G,W,F){return this.a.copy(Z[G]),this.b.copy(Z[W]),this.c.copy(Z[F]),this}setFromAttributeAndIndices(Z,G,W,F){return this.a.fromBufferAttribute(Z,G),this.b.fromBufferAttribute(Z,W),this.c.fromBufferAttribute(Z,F),this}clone(){return new this.constructor().copy(this)}copy(Z){return this.a.copy(Z.a),this.b.copy(Z.b),this.c.copy(Z.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(Z){return Z.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(Z){return Triangle.getNormal(this.a,this.b,this.c,Z)}getPlane(Z){return Z.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(Z,G){return Triangle.getBarycoord(Z,this.a,this.b,this.c,G)}getUV(Z,G,W,F,U){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(Z,this.a,this.b,this.c,G,W,F,U)}getInterpolation(Z,G,W,F,U){return Triangle.getInterpolation(Z,this.a,this.b,this.c,G,W,F,U)}containsPoint(Z){return Triangle.containsPoint(Z,this.a,this.b,this.c)}isFrontFacing(Z){return Triangle.isFrontFacing(this.a,this.b,this.c,Z)}intersectsBox(Z){return Z.intersectsTriangle(this)}closestPointToPoint(Z,G){const W=this.a,F=this.b,U=this.c;let J,Y;_vab.subVectors(F,W),_vac.subVectors(U,W),_vap.subVectors(Z,W);const D=_vab.dot(_vap),Q=_vac.dot(_vap);if(D<=0&&Q<=0)return G.copy(W);_vbp.subVectors(Z,F);const ee=_vab.dot(_vbp),q=_vac.dot(_vbp);if(ee>=0&&q<=ee)return G.copy(F);const te=D*q-ee*Q;if(te<=0&&D>=0&&ee<=0)return J=D/(D-ee),G.copy(W).addScaledVector(_vab,J);_vcp.subVectors(Z,U);const ie=_vab.dot(_vcp),ne=_vac.dot(_vcp);if(ne>=0&&ie<=ne)return G.copy(U);const ce=ie*Q-D*ne;if(ce<=0&&Q>=0&&ne<=0)return Y=Q/(Q-ne),G.copy(W).addScaledVector(_vac,Y);const le=ee*ne-ie*q;if(le<=0&&q-ee>=0&&ie-ne>=0)return _vbc.subVectors(U,F),Y=(q-ee)/(q-ee+(ie-ne)),G.copy(F).addScaledVector(_vbc,Y);const se=1/(le+ce+te);return J=ce*se,Y=te*se,G.copy(W).addScaledVector(_vab,J).addScaledVector(_vac,Y)}equals(Z){return Z.a.equals(this.a)&&Z.b.equals(this.b)&&Z.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(X,Z,G){return G<0&&(G+=1),G>1&&(G-=1),G<1/6?X+(Z-X)*6*G:G<1/2?Z:G<2/3?X+(Z-X)*6*(2/3-G):X}class Color{constructor(Z,G,W){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(Z,G,W)}set(Z,G,W){if(G===void 0&&W===void 0){const F=Z;F&&F.isColor?this.copy(F):typeof F=="number"?this.setHex(F):typeof F=="string"&&this.setStyle(F)}else this.setRGB(Z,G,W);return this}setScalar(Z){return this.r=Z,this.g=Z,this.b=Z,this}setHex(Z,G=SRGBColorSpace){return Z=Math.floor(Z),this.r=(Z>>16&255)/255,this.g=(Z>>8&255)/255,this.b=(Z&255)/255,ColorManagement.toWorkingColorSpace(this,G),this}setRGB(Z,G,W,F=ColorManagement.workingColorSpace){return this.r=Z,this.g=G,this.b=W,ColorManagement.toWorkingColorSpace(this,F),this}setHSL(Z,G,W,F=ColorManagement.workingColorSpace){if(Z=euclideanModulo(Z,1),G=clamp(G,0,1),W=clamp(W,0,1),G===0)this.r=this.g=this.b=W;else{const U=W<=.5?W*(1+G):W+G-W*G,J=2*W-U;this.r=hue2rgb(J,U,Z+1/3),this.g=hue2rgb(J,U,Z),this.b=hue2rgb(J,U,Z-1/3)}return ColorManagement.toWorkingColorSpace(this,F),this}setStyle(Z,G=SRGBColorSpace){function W(U){U!==void 0&&parseFloat(U)<1&&console.warn("THREE.Color: Alpha component of "+Z+" will be ignored.")}let F;if(F=/^(\w+)\(([^\)]*)\)/.exec(Z)){let U;const J=F[1],Y=F[2];switch(J){case"rgb":case"rgba":if(U=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return W(U[4]),this.setRGB(Math.min(255,parseInt(U[1],10))/255,Math.min(255,parseInt(U[2],10))/255,Math.min(255,parseInt(U[3],10))/255,G);if(U=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return W(U[4]),this.setRGB(Math.min(100,parseInt(U[1],10))/100,Math.min(100,parseInt(U[2],10))/100,Math.min(100,parseInt(U[3],10))/100,G);break;case"hsl":case"hsla":if(U=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return W(U[4]),this.setHSL(parseFloat(U[1])/360,parseFloat(U[2])/100,parseFloat(U[3])/100,G);break;default:console.warn("THREE.Color: Unknown color model "+Z)}}else if(F=/^\#([A-Fa-f\d]+)$/.exec(Z)){const U=F[1],J=U.length;if(J===3)return this.setRGB(parseInt(U.charAt(0),16)/15,parseInt(U.charAt(1),16)/15,parseInt(U.charAt(2),16)/15,G);if(J===6)return this.setHex(parseInt(U,16),G);console.warn("THREE.Color: Invalid hex color "+Z)}else if(Z&&Z.length>0)return this.setColorName(Z,G);return this}setColorName(Z,G=SRGBColorSpace){const W=_colorKeywords[Z.toLowerCase()];return W!==void 0?this.setHex(W,G):console.warn("THREE.Color: Unknown color "+Z),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(Z){return this.r=Z.r,this.g=Z.g,this.b=Z.b,this}copySRGBToLinear(Z){return this.r=SRGBToLinear(Z.r),this.g=SRGBToLinear(Z.g),this.b=SRGBToLinear(Z.b),this}copyLinearToSRGB(Z){return this.r=LinearToSRGB(Z.r),this.g=LinearToSRGB(Z.g),this.b=LinearToSRGB(Z.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(Z=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color$1.copy(this),Z),Math.round(clamp(_color$1.r*255,0,255))*65536+Math.round(clamp(_color$1.g*255,0,255))*256+Math.round(clamp(_color$1.b*255,0,255))}getHexString(Z=SRGBColorSpace){return("000000"+this.getHex(Z).toString(16)).slice(-6)}getHSL(Z,G=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color$1.copy(this),G);const W=_color$1.r,F=_color$1.g,U=_color$1.b,J=Math.max(W,F,U),Y=Math.min(W,F,U);let D,Q;const ee=(Y+J)/2;if(Y===J)D=0,Q=0;else{const q=J-Y;switch(Q=ee<=.5?q/(J+Y):q/(2-J-Y),J){case W:D=(F-U)/q+(F<U?6:0);break;case F:D=(U-W)/q+2;break;case U:D=(W-F)/q+4;break}D/=6}return Z.h=D,Z.s=Q,Z.l=ee,Z}getRGB(Z,G=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color$1.copy(this),G),Z.r=_color$1.r,Z.g=_color$1.g,Z.b=_color$1.b,Z}getStyle(Z=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color$1.copy(this),Z);const G=_color$1.r,W=_color$1.g,F=_color$1.b;return Z!==SRGBColorSpace?`color(${Z} ${G.toFixed(3)} ${W.toFixed(3)} ${F.toFixed(3)})`:`rgb(${Math.round(G*255)},${Math.round(W*255)},${Math.round(F*255)})`}offsetHSL(Z,G,W){return this.getHSL(_hslA),this.setHSL(_hslA.h+Z,_hslA.s+G,_hslA.l+W)}add(Z){return this.r+=Z.r,this.g+=Z.g,this.b+=Z.b,this}addColors(Z,G){return this.r=Z.r+G.r,this.g=Z.g+G.g,this.b=Z.b+G.b,this}addScalar(Z){return this.r+=Z,this.g+=Z,this.b+=Z,this}sub(Z){return this.r=Math.max(0,this.r-Z.r),this.g=Math.max(0,this.g-Z.g),this.b=Math.max(0,this.b-Z.b),this}multiply(Z){return this.r*=Z.r,this.g*=Z.g,this.b*=Z.b,this}multiplyScalar(Z){return this.r*=Z,this.g*=Z,this.b*=Z,this}lerp(Z,G){return this.r+=(Z.r-this.r)*G,this.g+=(Z.g-this.g)*G,this.b+=(Z.b-this.b)*G,this}lerpColors(Z,G,W){return this.r=Z.r+(G.r-Z.r)*W,this.g=Z.g+(G.g-Z.g)*W,this.b=Z.b+(G.b-Z.b)*W,this}lerpHSL(Z,G){this.getHSL(_hslA),Z.getHSL(_hslB);const W=lerp(_hslA.h,_hslB.h,G),F=lerp(_hslA.s,_hslB.s,G),U=lerp(_hslA.l,_hslB.l,G);return this.setHSL(W,F,U),this}setFromVector3(Z){return this.r=Z.x,this.g=Z.y,this.b=Z.z,this}applyMatrix3(Z){const G=this.r,W=this.g,F=this.b,U=Z.elements;return this.r=U[0]*G+U[3]*W+U[6]*F,this.g=U[1]*G+U[4]*W+U[7]*F,this.b=U[2]*G+U[5]*W+U[8]*F,this}equals(Z){return Z.r===this.r&&Z.g===this.g&&Z.b===this.b}fromArray(Z,G=0){return this.r=Z[G],this.g=Z[G+1],this.b=Z[G+2],this}toArray(Z=[],G=0){return Z[G]=this.r,Z[G+1]=this.g,Z[G+2]=this.b,Z}fromBufferAttribute(Z,G){return this.r=Z.getX(G),this.g=Z.getY(G),this.b=Z.getZ(G),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color$1=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(Z){this._alphaTest>0!=Z>0&&this.version++,this._alphaTest=Z}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(Z){if(Z!==void 0)for(const G in Z){const W=Z[G];if(W===void 0){console.warn(`THREE.Material: parameter '${G}' has value of undefined.`);continue}const F=this[G];if(F===void 0){console.warn(`THREE.Material: '${G}' is not a property of THREE.${this.type}.`);continue}F&&F.isColor?F.set(W):F&&F.isVector3&&W&&W.isVector3?F.copy(W):this[G]=W}}toJSON(Z){const G=Z===void 0||typeof Z=="string";G&&(Z={textures:{},images:{}});const W={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};W.uuid=this.uuid,W.type=this.type,this.name!==""&&(W.name=this.name),this.color&&this.color.isColor&&(W.color=this.color.getHex()),this.roughness!==void 0&&(W.roughness=this.roughness),this.metalness!==void 0&&(W.metalness=this.metalness),this.sheen!==void 0&&(W.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(W.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(W.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(W.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(W.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(W.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(W.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(W.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(W.shininess=this.shininess),this.clearcoat!==void 0&&(W.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(W.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(W.clearcoatMap=this.clearcoatMap.toJSON(Z).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(W.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(Z).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(W.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(Z).uuid,W.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(W.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(W.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(W.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(W.iridescenceMap=this.iridescenceMap.toJSON(Z).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(W.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(Z).uuid),this.anisotropy!==void 0&&(W.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(W.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(W.anisotropyMap=this.anisotropyMap.toJSON(Z).uuid),this.map&&this.map.isTexture&&(W.map=this.map.toJSON(Z).uuid),this.matcap&&this.matcap.isTexture&&(W.matcap=this.matcap.toJSON(Z).uuid),this.alphaMap&&this.alphaMap.isTexture&&(W.alphaMap=this.alphaMap.toJSON(Z).uuid),this.lightMap&&this.lightMap.isTexture&&(W.lightMap=this.lightMap.toJSON(Z).uuid,W.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(W.aoMap=this.aoMap.toJSON(Z).uuid,W.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(W.bumpMap=this.bumpMap.toJSON(Z).uuid,W.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(W.normalMap=this.normalMap.toJSON(Z).uuid,W.normalMapType=this.normalMapType,W.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(W.displacementMap=this.displacementMap.toJSON(Z).uuid,W.displacementScale=this.displacementScale,W.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(W.roughnessMap=this.roughnessMap.toJSON(Z).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(W.metalnessMap=this.metalnessMap.toJSON(Z).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(W.emissiveMap=this.emissiveMap.toJSON(Z).uuid),this.specularMap&&this.specularMap.isTexture&&(W.specularMap=this.specularMap.toJSON(Z).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(W.specularIntensityMap=this.specularIntensityMap.toJSON(Z).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(W.specularColorMap=this.specularColorMap.toJSON(Z).uuid),this.envMap&&this.envMap.isTexture&&(W.envMap=this.envMap.toJSON(Z).uuid,this.combine!==void 0&&(W.combine=this.combine)),this.envMapIntensity!==void 0&&(W.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(W.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(W.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(W.gradientMap=this.gradientMap.toJSON(Z).uuid),this.transmission!==void 0&&(W.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(W.transmissionMap=this.transmissionMap.toJSON(Z).uuid),this.thickness!==void 0&&(W.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(W.thicknessMap=this.thicknessMap.toJSON(Z).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(W.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(W.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(W.size=this.size),this.shadowSide!==null&&(W.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(W.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(W.blending=this.blending),this.side!==FrontSide&&(W.side=this.side),this.vertexColors===!0&&(W.vertexColors=!0),this.opacity<1&&(W.opacity=this.opacity),this.transparent===!0&&(W.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(W.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(W.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(W.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(W.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(W.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(W.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(W.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(W.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(W.depthFunc=this.depthFunc),this.depthTest===!1&&(W.depthTest=this.depthTest),this.depthWrite===!1&&(W.depthWrite=this.depthWrite),this.colorWrite===!1&&(W.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(W.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(W.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(W.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(W.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(W.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(W.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(W.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(W.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(W.rotation=this.rotation),this.polygonOffset===!0&&(W.polygonOffset=!0),this.polygonOffsetFactor!==0&&(W.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(W.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(W.linewidth=this.linewidth),this.dashSize!==void 0&&(W.dashSize=this.dashSize),this.gapSize!==void 0&&(W.gapSize=this.gapSize),this.scale!==void 0&&(W.scale=this.scale),this.dithering===!0&&(W.dithering=!0),this.alphaTest>0&&(W.alphaTest=this.alphaTest),this.alphaHash===!0&&(W.alphaHash=!0),this.alphaToCoverage===!0&&(W.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(W.premultipliedAlpha=!0),this.forceSinglePass===!0&&(W.forceSinglePass=!0),this.wireframe===!0&&(W.wireframe=!0),this.wireframeLinewidth>1&&(W.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(W.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(W.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(W.flatShading=!0),this.visible===!1&&(W.visible=!1),this.toneMapped===!1&&(W.toneMapped=!1),this.fog===!1&&(W.fog=!1),Object.keys(this.userData).length>0&&(W.userData=this.userData);function F(U){const J=[];for(const Y in U){const D=U[Y];delete D.metadata,J.push(D)}return J}if(G){const U=F(Z.textures),J=F(Z.images);U.length>0&&(W.textures=U),J.length>0&&(W.images=J)}return W}clone(){return new this.constructor().copy(this)}copy(Z){this.name=Z.name,this.blending=Z.blending,this.side=Z.side,this.vertexColors=Z.vertexColors,this.opacity=Z.opacity,this.transparent=Z.transparent,this.blendSrc=Z.blendSrc,this.blendDst=Z.blendDst,this.blendEquation=Z.blendEquation,this.blendSrcAlpha=Z.blendSrcAlpha,this.blendDstAlpha=Z.blendDstAlpha,this.blendEquationAlpha=Z.blendEquationAlpha,this.blendColor.copy(Z.blendColor),this.blendAlpha=Z.blendAlpha,this.depthFunc=Z.depthFunc,this.depthTest=Z.depthTest,this.depthWrite=Z.depthWrite,this.stencilWriteMask=Z.stencilWriteMask,this.stencilFunc=Z.stencilFunc,this.stencilRef=Z.stencilRef,this.stencilFuncMask=Z.stencilFuncMask,this.stencilFail=Z.stencilFail,this.stencilZFail=Z.stencilZFail,this.stencilZPass=Z.stencilZPass,this.stencilWrite=Z.stencilWrite;const G=Z.clippingPlanes;let W=null;if(G!==null){const F=G.length;W=new Array(F);for(let U=0;U!==F;++U)W[U]=G[U].clone()}return this.clippingPlanes=W,this.clipIntersection=Z.clipIntersection,this.clipShadows=Z.clipShadows,this.shadowSide=Z.shadowSide,this.colorWrite=Z.colorWrite,this.precision=Z.precision,this.polygonOffset=Z.polygonOffset,this.polygonOffsetFactor=Z.polygonOffsetFactor,this.polygonOffsetUnits=Z.polygonOffsetUnits,this.dithering=Z.dithering,this.alphaTest=Z.alphaTest,this.alphaHash=Z.alphaHash,this.alphaToCoverage=Z.alphaToCoverage,this.premultipliedAlpha=Z.premultipliedAlpha,this.forceSinglePass=Z.forceSinglePass,this.visible=Z.visible,this.toneMapped=Z.toneMapped,this.userData=JSON.parse(JSON.stringify(Z.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(Z){Z===!0&&this.version++}}class MeshBasicMaterial extends Material{constructor(Z){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.map=Z.map,this.lightMap=Z.lightMap,this.lightMapIntensity=Z.lightMapIntensity,this.aoMap=Z.aoMap,this.aoMapIntensity=Z.aoMapIntensity,this.specularMap=Z.specularMap,this.alphaMap=Z.alphaMap,this.envMap=Z.envMap,this.combine=Z.combine,this.reflectivity=Z.reflectivity,this.refractionRatio=Z.refractionRatio,this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this.wireframeLinecap=Z.wireframeLinecap,this.wireframeLinejoin=Z.wireframeLinejoin,this.fog=Z.fog,this}}const _vector$8=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(Z,G,W=!1){if(Array.isArray(Z))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=Z,this.itemSize=G,this.count=Z!==void 0?Z.length/G:0,this.normalized=W,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(Z){Z===!0&&this.version++}setUsage(Z){return this.usage=Z,this}copy(Z){return this.name=Z.name,this.array=new Z.array.constructor(Z.array),this.itemSize=Z.itemSize,this.count=Z.count,this.normalized=Z.normalized,this.usage=Z.usage,this.gpuType=Z.gpuType,this}copyAt(Z,G,W){Z*=this.itemSize,W*=G.itemSize;for(let F=0,U=this.itemSize;F<U;F++)this.array[Z+F]=G.array[W+F];return this}copyArray(Z){return this.array.set(Z),this}applyMatrix3(Z){if(this.itemSize===2)for(let G=0,W=this.count;G<W;G++)_vector2$1.fromBufferAttribute(this,G),_vector2$1.applyMatrix3(Z),this.setXY(G,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.applyMatrix3(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyMatrix4(Z){for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.applyMatrix4(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyNormalMatrix(Z){for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.applyNormalMatrix(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}transformDirection(Z){for(let G=0,W=this.count;G<W;G++)_vector$8.fromBufferAttribute(this,G),_vector$8.transformDirection(Z),this.setXYZ(G,_vector$8.x,_vector$8.y,_vector$8.z);return this}set(Z,G=0){return this.array.set(Z,G),this}getComponent(Z,G){let W=this.array[Z*this.itemSize+G];return this.normalized&&(W=denormalize(W,this.array)),W}setComponent(Z,G,W){return this.normalized&&(W=normalize$1(W,this.array)),this.array[Z*this.itemSize+G]=W,this}getX(Z){let G=this.array[Z*this.itemSize];return this.normalized&&(G=denormalize(G,this.array)),G}setX(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize]=G,this}getY(Z){let G=this.array[Z*this.itemSize+1];return this.normalized&&(G=denormalize(G,this.array)),G}setY(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize+1]=G,this}getZ(Z){let G=this.array[Z*this.itemSize+2];return this.normalized&&(G=denormalize(G,this.array)),G}setZ(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize+2]=G,this}getW(Z){let G=this.array[Z*this.itemSize+3];return this.normalized&&(G=denormalize(G,this.array)),G}setW(Z,G){return this.normalized&&(G=normalize$1(G,this.array)),this.array[Z*this.itemSize+3]=G,this}setXY(Z,G,W){return Z*=this.itemSize,this.normalized&&(G=normalize$1(G,this.array),W=normalize$1(W,this.array)),this.array[Z+0]=G,this.array[Z+1]=W,this}setXYZ(Z,G,W,F){return Z*=this.itemSize,this.normalized&&(G=normalize$1(G,this.array),W=normalize$1(W,this.array),F=normalize$1(F,this.array)),this.array[Z+0]=G,this.array[Z+1]=W,this.array[Z+2]=F,this}setXYZW(Z,G,W,F,U){return Z*=this.itemSize,this.normalized&&(G=normalize$1(G,this.array),W=normalize$1(W,this.array),F=normalize$1(F,this.array),U=normalize$1(U,this.array)),this.array[Z+0]=G,this.array[Z+1]=W,this.array[Z+2]=F,this.array[Z+3]=U,this}onUpload(Z){return this.onUploadCallback=Z,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const Z={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(Z.name=this.name),this.usage!==StaticDrawUsage&&(Z.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(Z.updateRange=this.updateRange),Z}}class Uint16BufferAttribute extends BufferAttribute{constructor(Z,G,W){super(new Uint16Array(Z),G,W)}}class Uint32BufferAttribute extends BufferAttribute{constructor(Z,G,W){super(new Uint32Array(Z),G,W)}}class Float32BufferAttribute extends BufferAttribute{constructor(Z,G,W){super(new Float32Array(Z),G,W)}}let _id$2=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$7=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(Z){return Array.isArray(Z)?this.index=new(arrayNeedsUint32(Z)?Uint32BufferAttribute:Uint16BufferAttribute)(Z,1):this.index=Z,this}getAttribute(Z){return this.attributes[Z]}setAttribute(Z,G){return this.attributes[Z]=G,this}deleteAttribute(Z){return delete this.attributes[Z],this}hasAttribute(Z){return this.attributes[Z]!==void 0}addGroup(Z,G,W=0){this.groups.push({start:Z,count:G,materialIndex:W})}clearGroups(){this.groups=[]}setDrawRange(Z,G){this.drawRange.start=Z,this.drawRange.count=G}applyMatrix4(Z){const G=this.attributes.position;G!==void 0&&(G.applyMatrix4(Z),G.needsUpdate=!0);const W=this.attributes.normal;if(W!==void 0){const U=new Matrix3().getNormalMatrix(Z);W.applyNormalMatrix(U),W.needsUpdate=!0}const F=this.attributes.tangent;return F!==void 0&&(F.transformDirection(Z),F.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(Z){return _m1.makeRotationFromQuaternion(Z),this.applyMatrix4(_m1),this}rotateX(Z){return _m1.makeRotationX(Z),this.applyMatrix4(_m1),this}rotateY(Z){return _m1.makeRotationY(Z),this.applyMatrix4(_m1),this}rotateZ(Z){return _m1.makeRotationZ(Z),this.applyMatrix4(_m1),this}translate(Z,G,W){return _m1.makeTranslation(Z,G,W),this.applyMatrix4(_m1),this}scale(Z,G,W){return _m1.makeScale(Z,G,W),this.applyMatrix4(_m1),this}lookAt(Z){return _obj.lookAt(Z),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(Z){const G=[];for(let W=0,F=Z.length;W<F;W++){const U=Z[W];G.push(U.x,U.y,U.z||0)}return this.setAttribute("position",new Float32BufferAttribute(G,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const Z=this.attributes.position,G=this.morphAttributes.position;if(Z&&Z.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(Z!==void 0){if(this.boundingBox.setFromBufferAttribute(Z),G)for(let W=0,F=G.length;W<F;W++){const U=G[W];_box$1.setFromBufferAttribute(U),this.morphTargetsRelative?(_vector$7.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$7),_vector$7.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$7)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const Z=this.attributes.position,G=this.morphAttributes.position;if(Z&&Z.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(Z){const W=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(Z),G)for(let U=0,J=G.length;U<J;U++){const Y=G[U];_boxMorphTargets.setFromBufferAttribute(Y),this.morphTargetsRelative?(_vector$7.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$7),_vector$7.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$7)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(W);let F=0;for(let U=0,J=Z.count;U<J;U++)_vector$7.fromBufferAttribute(Z,U),F=Math.max(F,W.distanceToSquared(_vector$7));if(G)for(let U=0,J=G.length;U<J;U++){const Y=G[U],D=this.morphTargetsRelative;for(let Q=0,ee=Y.count;Q<ee;Q++)_vector$7.fromBufferAttribute(Y,Q),D&&(_offset.fromBufferAttribute(Z,Q),_vector$7.add(_offset)),F=Math.max(F,W.distanceToSquared(_vector$7))}this.boundingSphere.radius=Math.sqrt(F),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const Z=this.index,G=this.attributes;if(Z===null||G.position===void 0||G.normal===void 0||G.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const W=Z.array,F=G.position.array,U=G.normal.array,J=G.uv.array,Y=F.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*Y),4));const D=this.getAttribute("tangent").array,Q=[],ee=[];for(let We=0;We<Y;We++)Q[We]=new Vector3,ee[We]=new Vector3;const q=new Vector3,te=new Vector3,ie=new Vector3,ne=new Vector2,ce=new Vector2,le=new Vector2,se=new Vector3,pe=new Vector3;function ue(We,fe,Re){q.fromArray(F,We*3),te.fromArray(F,fe*3),ie.fromArray(F,Re*3),ne.fromArray(J,We*2),ce.fromArray(J,fe*2),le.fromArray(J,Re*2),te.sub(q),ie.sub(q),ce.sub(ne),le.sub(ne);const ye=1/(ce.x*le.y-le.x*ce.y);isFinite(ye)&&(se.copy(te).multiplyScalar(le.y).addScaledVector(ie,-ce.y).multiplyScalar(ye),pe.copy(ie).multiplyScalar(ce.x).addScaledVector(te,-le.x).multiplyScalar(ye),Q[We].add(se),Q[fe].add(se),Q[Re].add(se),ee[We].add(pe),ee[fe].add(pe),ee[Re].add(pe))}let ae=this.groups;ae.length===0&&(ae=[{start:0,count:W.length}]);for(let We=0,fe=ae.length;We<fe;++We){const Re=ae[We],ye=Re.start,re=Re.count;for(let Ze=ye,Ge=ye+re;Ze<Ge;Ze+=3)ue(W[Ze+0],W[Ze+1],W[Ze+2])}const de=new Vector3,be=new Vector3,he=new Vector3,Le=new Vector3;function Xe(We){he.fromArray(U,We*3),Le.copy(he);const fe=Q[We];de.copy(fe),de.sub(he.multiplyScalar(he.dot(fe))).normalize(),be.crossVectors(Le,fe);const ye=be.dot(ee[We])<0?-1:1;D[We*4]=de.x,D[We*4+1]=de.y,D[We*4+2]=de.z,D[We*4+3]=ye}for(let We=0,fe=ae.length;We<fe;++We){const Re=ae[We],ye=Re.start,re=Re.count;for(let Ze=ye,Ge=ye+re;Ze<Ge;Ze+=3)Xe(W[Ze+0]),Xe(W[Ze+1]),Xe(W[Ze+2])}}computeVertexNormals(){const Z=this.index,G=this.getAttribute("position");if(G!==void 0){let W=this.getAttribute("normal");if(W===void 0)W=new BufferAttribute(new Float32Array(G.count*3),3),this.setAttribute("normal",W);else for(let te=0,ie=W.count;te<ie;te++)W.setXYZ(te,0,0,0);const F=new Vector3,U=new Vector3,J=new Vector3,Y=new Vector3,D=new Vector3,Q=new Vector3,ee=new Vector3,q=new Vector3;if(Z)for(let te=0,ie=Z.count;te<ie;te+=3){const ne=Z.getX(te+0),ce=Z.getX(te+1),le=Z.getX(te+2);F.fromBufferAttribute(G,ne),U.fromBufferAttribute(G,ce),J.fromBufferAttribute(G,le),ee.subVectors(J,U),q.subVectors(F,U),ee.cross(q),Y.fromBufferAttribute(W,ne),D.fromBufferAttribute(W,ce),Q.fromBufferAttribute(W,le),Y.add(ee),D.add(ee),Q.add(ee),W.setXYZ(ne,Y.x,Y.y,Y.z),W.setXYZ(ce,D.x,D.y,D.z),W.setXYZ(le,Q.x,Q.y,Q.z)}else for(let te=0,ie=G.count;te<ie;te+=3)F.fromBufferAttribute(G,te+0),U.fromBufferAttribute(G,te+1),J.fromBufferAttribute(G,te+2),ee.subVectors(J,U),q.subVectors(F,U),ee.cross(q),W.setXYZ(te+0,ee.x,ee.y,ee.z),W.setXYZ(te+1,ee.x,ee.y,ee.z),W.setXYZ(te+2,ee.x,ee.y,ee.z);this.normalizeNormals(),W.needsUpdate=!0}}normalizeNormals(){const Z=this.attributes.normal;for(let G=0,W=Z.count;G<W;G++)_vector$7.fromBufferAttribute(Z,G),_vector$7.normalize(),Z.setXYZ(G,_vector$7.x,_vector$7.y,_vector$7.z)}toNonIndexed(){function Z(Y,D){const Q=Y.array,ee=Y.itemSize,q=Y.normalized,te=new Q.constructor(D.length*ee);let ie=0,ne=0;for(let ce=0,le=D.length;ce<le;ce++){Y.isInterleavedBufferAttribute?ie=D[ce]*Y.data.stride+Y.offset:ie=D[ce]*ee;for(let se=0;se<ee;se++)te[ne++]=Q[ie++]}return new BufferAttribute(te,ee,q)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const G=new BufferGeometry,W=this.index.array,F=this.attributes;for(const Y in F){const D=F[Y],Q=Z(D,W);G.setAttribute(Y,Q)}const U=this.morphAttributes;for(const Y in U){const D=[],Q=U[Y];for(let ee=0,q=Q.length;ee<q;ee++){const te=Q[ee],ie=Z(te,W);D.push(ie)}G.morphAttributes[Y]=D}G.morphTargetsRelative=this.morphTargetsRelative;const J=this.groups;for(let Y=0,D=J.length;Y<D;Y++){const Q=J[Y];G.addGroup(Q.start,Q.count,Q.materialIndex)}return G}toJSON(){const Z={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(Z.uuid=this.uuid,Z.type=this.type,this.name!==""&&(Z.name=this.name),Object.keys(this.userData).length>0&&(Z.userData=this.userData),this.parameters!==void 0){const D=this.parameters;for(const Q in D)D[Q]!==void 0&&(Z[Q]=D[Q]);return Z}Z.data={attributes:{}};const G=this.index;G!==null&&(Z.data.index={type:G.array.constructor.name,array:Array.prototype.slice.call(G.array)});const W=this.attributes;for(const D in W){const Q=W[D];Z.data.attributes[D]=Q.toJSON(Z.data)}const F={};let U=!1;for(const D in this.morphAttributes){const Q=this.morphAttributes[D],ee=[];for(let q=0,te=Q.length;q<te;q++){const ie=Q[q];ee.push(ie.toJSON(Z.data))}ee.length>0&&(F[D]=ee,U=!0)}U&&(Z.data.morphAttributes=F,Z.data.morphTargetsRelative=this.morphTargetsRelative);const J=this.groups;J.length>0&&(Z.data.groups=JSON.parse(JSON.stringify(J)));const Y=this.boundingSphere;return Y!==null&&(Z.data.boundingSphere={center:Y.center.toArray(),radius:Y.radius}),Z}clone(){return new this.constructor().copy(this)}copy(Z){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const G={};this.name=Z.name;const W=Z.index;W!==null&&this.setIndex(W.clone(G));const F=Z.attributes;for(const Q in F){const ee=F[Q];this.setAttribute(Q,ee.clone(G))}const U=Z.morphAttributes;for(const Q in U){const ee=[],q=U[Q];for(let te=0,ie=q.length;te<ie;te++)ee.push(q[te].clone(G));this.morphAttributes[Q]=ee}this.morphTargetsRelative=Z.morphTargetsRelative;const J=Z.groups;for(let Q=0,ee=J.length;Q<ee;Q++){const q=J[Q];this.addGroup(q.start,q.count,q.materialIndex)}const Y=Z.boundingBox;Y!==null&&(this.boundingBox=Y.clone());const D=Z.boundingSphere;return D!==null&&(this.boundingSphere=D.clone()),this.drawRange.start=Z.drawRange.start,this.drawRange.count=Z.drawRange.count,this.userData=Z.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$5=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(Z=new BufferGeometry,G=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=Z,this.material=G,this.updateMorphTargets()}copy(Z,G){return super.copy(Z,G),Z.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=Z.morphTargetInfluences.slice()),Z.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},Z.morphTargetDictionary)),this.material=Array.isArray(Z.material)?Z.material.slice():Z.material,this.geometry=Z.geometry,this}updateMorphTargets(){const G=this.geometry.morphAttributes,W=Object.keys(G);if(W.length>0){const F=G[W[0]];if(F!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U=0,J=F.length;U<J;U++){const Y=F[U].name||String(U);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=U}}}}getVertexPosition(Z,G){const W=this.geometry,F=W.attributes.position,U=W.morphAttributes.position,J=W.morphTargetsRelative;G.fromBufferAttribute(F,Z);const Y=this.morphTargetInfluences;if(U&&Y){_morphA.set(0,0,0);for(let D=0,Q=U.length;D<Q;D++){const ee=Y[D],q=U[D];ee!==0&&(_tempA.fromBufferAttribute(q,Z),J?_morphA.addScaledVector(_tempA,ee):_morphA.addScaledVector(_tempA.sub(G),ee))}G.add(_morphA)}return G}raycast(Z,G){const W=this.geometry,F=this.material,U=this.matrixWorld;F!==void 0&&(W.boundingSphere===null&&W.computeBoundingSphere(),_sphere$5.copy(W.boundingSphere),_sphere$5.applyMatrix4(U),_ray$3.copy(Z.ray).recast(Z.near),!(_sphere$5.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$5,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(Z.far-Z.near)**2))&&(_inverseMatrix$3.copy(U).invert(),_ray$3.copy(Z.ray).applyMatrix4(_inverseMatrix$3),!(W.boundingBox!==null&&_ray$3.intersectsBox(W.boundingBox)===!1)&&this._computeIntersections(Z,G,_ray$3)))}_computeIntersections(Z,G,W){let F;const U=this.geometry,J=this.material,Y=U.index,D=U.attributes.position,Q=U.attributes.uv,ee=U.attributes.uv1,q=U.attributes.normal,te=U.groups,ie=U.drawRange;if(Y!==null)if(Array.isArray(J))for(let ne=0,ce=te.length;ne<ce;ne++){const le=te[ne],se=J[le.materialIndex],pe=Math.max(le.start,ie.start),ue=Math.min(Y.count,Math.min(le.start+le.count,ie.start+ie.count));for(let ae=pe,de=ue;ae<de;ae+=3){const be=Y.getX(ae),he=Y.getX(ae+1),Le=Y.getX(ae+2);F=checkGeometryIntersection(this,se,Z,W,Q,ee,q,be,he,Le),F&&(F.faceIndex=Math.floor(ae/3),F.face.materialIndex=le.materialIndex,G.push(F))}}else{const ne=Math.max(0,ie.start),ce=Math.min(Y.count,ie.start+ie.count);for(let le=ne,se=ce;le<se;le+=3){const pe=Y.getX(le),ue=Y.getX(le+1),ae=Y.getX(le+2);F=checkGeometryIntersection(this,J,Z,W,Q,ee,q,pe,ue,ae),F&&(F.faceIndex=Math.floor(le/3),G.push(F))}}else if(D!==void 0)if(Array.isArray(J))for(let ne=0,ce=te.length;ne<ce;ne++){const le=te[ne],se=J[le.materialIndex],pe=Math.max(le.start,ie.start),ue=Math.min(D.count,Math.min(le.start+le.count,ie.start+ie.count));for(let ae=pe,de=ue;ae<de;ae+=3){const be=ae,he=ae+1,Le=ae+2;F=checkGeometryIntersection(this,se,Z,W,Q,ee,q,be,he,Le),F&&(F.faceIndex=Math.floor(ae/3),F.face.materialIndex=le.materialIndex,G.push(F))}}else{const ne=Math.max(0,ie.start),ce=Math.min(D.count,ie.start+ie.count);for(let le=ne,se=ce;le<se;le+=3){const pe=le,ue=le+1,ae=le+2;F=checkGeometryIntersection(this,J,Z,W,Q,ee,q,pe,ue,ae),F&&(F.faceIndex=Math.floor(le/3),G.push(F))}}}}function checkIntersection(X,Z,G,W,F,U,J,Y){let D;if(Z.side===BackSide?D=W.intersectTriangle(J,U,F,!0,Y):D=W.intersectTriangle(F,U,J,Z.side===FrontSide,Y),D===null)return null;_intersectionPointWorld.copy(Y),_intersectionPointWorld.applyMatrix4(X.matrixWorld);const Q=G.ray.origin.distanceTo(_intersectionPointWorld);return Q<G.near||Q>G.far?null:{distance:Q,point:_intersectionPointWorld.clone(),object:X}}function checkGeometryIntersection(X,Z,G,W,F,U,J,Y,D,Q){X.getVertexPosition(Y,_vA$1),X.getVertexPosition(D,_vB$1),X.getVertexPosition(Q,_vC$1);const ee=checkIntersection(X,Z,G,W,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ee){F&&(_uvA$1.fromBufferAttribute(F,Y),_uvB$1.fromBufferAttribute(F,D),_uvC$1.fromBufferAttribute(F,Q),ee.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),U&&(_uvA$1.fromBufferAttribute(U,Y),_uvB$1.fromBufferAttribute(U,D),_uvC$1.fromBufferAttribute(U,Q),ee.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),ee.uv2=ee.uv1),J&&(_normalA.fromBufferAttribute(J,Y),_normalB.fromBufferAttribute(J,D),_normalC.fromBufferAttribute(J,Q),ee.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),ee.normal.dot(W.direction)>0&&ee.normal.multiplyScalar(-1));const q={a:Y,b:D,c:Q,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,q.normal),ee.face=q}return ee}class BoxGeometry extends BufferGeometry{constructor(Z=1,G=1,W=1,F=1,U=1,J=1){super(),this.type="BoxGeometry",this.parameters={width:Z,height:G,depth:W,widthSegments:F,heightSegments:U,depthSegments:J};const Y=this;F=Math.floor(F),U=Math.floor(U),J=Math.floor(J);const D=[],Q=[],ee=[],q=[];let te=0,ie=0;ne("z","y","x",-1,-1,W,G,Z,J,U,0),ne("z","y","x",1,-1,W,G,-Z,J,U,1),ne("x","z","y",1,1,Z,W,G,F,J,2),ne("x","z","y",1,-1,Z,W,-G,F,J,3),ne("x","y","z",1,-1,Z,G,W,F,U,4),ne("x","y","z",-1,-1,Z,G,-W,F,U,5),this.setIndex(D),this.setAttribute("position",new Float32BufferAttribute(Q,3)),this.setAttribute("normal",new Float32BufferAttribute(ee,3)),this.setAttribute("uv",new Float32BufferAttribute(q,2));function ne(ce,le,se,pe,ue,ae,de,be,he,Le,Xe){const We=ae/he,fe=de/Le,Re=ae/2,ye=de/2,re=be/2,Ze=he+1,Ge=Le+1;let ve=0,Te=0;const xe=new Vector3;for(let Ie=0;Ie<Ge;Ie++){const Se=Ie*fe-ye;for(let Ne=0;Ne<Ze;Ne++){const je=Ne*We-Re;xe[ce]=je*pe,xe[le]=Se*ue,xe[se]=re,Q.push(xe.x,xe.y,xe.z),xe[ce]=0,xe[le]=0,xe[se]=be>0?1:-1,ee.push(xe.x,xe.y,xe.z),q.push(Ne/he),q.push(1-Ie/Le),ve+=1}}for(let Ie=0;Ie<Le;Ie++)for(let Se=0;Se<he;Se++){const Ne=te+Se+Ze*Ie,je=te+Se+Ze*(Ie+1),tt=te+(Se+1)+Ze*(Ie+1),it=te+(Se+1)+Ze*Ie;D.push(Ne,je,it),D.push(je,tt,it),Te+=6}Y.addGroup(ie,Te,Xe),ie+=Te,te+=ve}}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new BoxGeometry(Z.width,Z.height,Z.depth,Z.widthSegments,Z.heightSegments,Z.depthSegments)}}function cloneUniforms(X){const Z={};for(const G in X){Z[G]={};for(const W in X[G]){const F=X[G][W];F&&(F.isColor||F.isMatrix3||F.isMatrix4||F.isVector2||F.isVector3||F.isVector4||F.isTexture||F.isQuaternion)?F.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),Z[G][W]=null):Z[G][W]=F.clone():Array.isArray(F)?Z[G][W]=F.slice():Z[G][W]=F}}return Z}function mergeUniforms(X){const Z={};for(let G=0;G<X.length;G++){const W=cloneUniforms(X[G]);for(const F in W)Z[F]=W[F]}return Z}function cloneUniformsGroups(X){const Z=[];for(let G=0;G<X.length;G++)Z.push(X[G].clone());return Z}function getUnlitUniformColorSpace(X){return X.getRenderTarget()===null?X.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(Z){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,Z!==void 0&&this.setValues(Z)}copy(Z){return super.copy(Z),this.fragmentShader=Z.fragmentShader,this.vertexShader=Z.vertexShader,this.uniforms=cloneUniforms(Z.uniforms),this.uniformsGroups=cloneUniformsGroups(Z.uniformsGroups),this.defines=Object.assign({},Z.defines),this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this.fog=Z.fog,this.lights=Z.lights,this.clipping=Z.clipping,this.extensions=Object.assign({},Z.extensions),this.glslVersion=Z.glslVersion,this}toJSON(Z){const G=super.toJSON(Z);G.glslVersion=this.glslVersion,G.uniforms={};for(const F in this.uniforms){const J=this.uniforms[F].value;J&&J.isTexture?G.uniforms[F]={type:"t",value:J.toJSON(Z).uuid}:J&&J.isColor?G.uniforms[F]={type:"c",value:J.getHex()}:J&&J.isVector2?G.uniforms[F]={type:"v2",value:J.toArray()}:J&&J.isVector3?G.uniforms[F]={type:"v3",value:J.toArray()}:J&&J.isVector4?G.uniforms[F]={type:"v4",value:J.toArray()}:J&&J.isMatrix3?G.uniforms[F]={type:"m3",value:J.toArray()}:J&&J.isMatrix4?G.uniforms[F]={type:"m4",value:J.toArray()}:G.uniforms[F]={value:J}}Object.keys(this.defines).length>0&&(G.defines=this.defines),G.vertexShader=this.vertexShader,G.fragmentShader=this.fragmentShader,G.lights=this.lights,G.clipping=this.clipping;const W={};for(const F in this.extensions)this.extensions[F]===!0&&(W[F]=!0);return Object.keys(W).length>0&&(G.extensions=W),G}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(Z,G){return super.copy(Z,G),this.matrixWorldInverse.copy(Z.matrixWorldInverse),this.projectionMatrix.copy(Z.projectionMatrix),this.projectionMatrixInverse.copy(Z.projectionMatrixInverse),this.coordinateSystem=Z.coordinateSystem,this}getWorldDirection(Z){return super.getWorldDirection(Z).negate()}updateMatrixWorld(Z){super.updateMatrixWorld(Z),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(Z,G){super.updateWorldMatrix(Z,G),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(Z=50,G=1,W=.1,F=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=Z,this.zoom=1,this.near=W,this.far=F,this.focus=10,this.aspect=G,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(Z,G){return super.copy(Z,G),this.fov=Z.fov,this.zoom=Z.zoom,this.near=Z.near,this.far=Z.far,this.focus=Z.focus,this.aspect=Z.aspect,this.view=Z.view===null?null:Object.assign({},Z.view),this.filmGauge=Z.filmGauge,this.filmOffset=Z.filmOffset,this}setFocalLength(Z){const G=.5*this.getFilmHeight()/Z;this.fov=RAD2DEG*2*Math.atan(G),this.updateProjectionMatrix()}getFocalLength(){const Z=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/Z}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(Z,G,W,F,U,J){this.aspect=Z/G,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=Z,this.view.fullHeight=G,this.view.offsetX=W,this.view.offsetY=F,this.view.width=U,this.view.height=J,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const Z=this.near;let G=Z*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,W=2*G,F=this.aspect*W,U=-.5*F;const J=this.view;if(this.view!==null&&this.view.enabled){const D=J.fullWidth,Q=J.fullHeight;U+=J.offsetX*F/D,G-=J.offsetY*W/Q,F*=J.width/D,W*=J.height/Q}const Y=this.filmOffset;Y!==0&&(U+=Z*Y/this.getFilmWidth()),this.projectionMatrix.makePerspective(U,U+F,G,G-W,Z,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(Z){const G=super.toJSON(Z);return G.object.fov=this.fov,G.object.zoom=this.zoom,G.object.near=this.near,G.object.far=this.far,G.object.focus=this.focus,G.object.aspect=this.aspect,this.view!==null&&(G.object.view=Object.assign({},this.view)),G.object.filmGauge=this.filmGauge,G.object.filmOffset=this.filmOffset,G}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(Z,G,W){super(),this.type="CubeCamera",this.renderTarget=W,this.coordinateSystem=null,this.activeMipmapLevel=0;const F=new PerspectiveCamera(fov,aspect,Z,G);F.layers=this.layers,this.add(F);const U=new PerspectiveCamera(fov,aspect,Z,G);U.layers=this.layers,this.add(U);const J=new PerspectiveCamera(fov,aspect,Z,G);J.layers=this.layers,this.add(J);const Y=new PerspectiveCamera(fov,aspect,Z,G);Y.layers=this.layers,this.add(Y);const D=new PerspectiveCamera(fov,aspect,Z,G);D.layers=this.layers,this.add(D);const Q=new PerspectiveCamera(fov,aspect,Z,G);Q.layers=this.layers,this.add(Q)}updateCoordinateSystem(){const Z=this.coordinateSystem,G=this.children.concat(),[W,F,U,J,Y,D]=G;for(const Q of G)this.remove(Q);if(Z===WebGLCoordinateSystem)W.up.set(0,1,0),W.lookAt(1,0,0),F.up.set(0,1,0),F.lookAt(-1,0,0),U.up.set(0,0,-1),U.lookAt(0,1,0),J.up.set(0,0,1),J.lookAt(0,-1,0),Y.up.set(0,1,0),Y.lookAt(0,0,1),D.up.set(0,1,0),D.lookAt(0,0,-1);else if(Z===WebGPUCoordinateSystem)W.up.set(0,-1,0),W.lookAt(-1,0,0),F.up.set(0,-1,0),F.lookAt(1,0,0),U.up.set(0,0,1),U.lookAt(0,1,0),J.up.set(0,0,-1),J.lookAt(0,-1,0),Y.up.set(0,-1,0),Y.lookAt(0,0,1),D.up.set(0,-1,0),D.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+Z);for(const Q of G)this.add(Q),Q.updateMatrixWorld()}update(Z,G){this.parent===null&&this.updateMatrixWorld();const{renderTarget:W,activeMipmapLevel:F}=this;this.coordinateSystem!==Z.coordinateSystem&&(this.coordinateSystem=Z.coordinateSystem,this.updateCoordinateSystem());const[U,J,Y,D,Q,ee]=this.children,q=Z.getRenderTarget(),te=Z.getActiveCubeFace(),ie=Z.getActiveMipmapLevel(),ne=Z.xr.enabled;Z.xr.enabled=!1;const ce=W.texture.generateMipmaps;W.texture.generateMipmaps=!1,Z.setRenderTarget(W,0,F),Z.render(G,U),Z.setRenderTarget(W,1,F),Z.render(G,J),Z.setRenderTarget(W,2,F),Z.render(G,Y),Z.setRenderTarget(W,3,F),Z.render(G,D),Z.setRenderTarget(W,4,F),Z.render(G,Q),W.texture.generateMipmaps=ce,Z.setRenderTarget(W,5,F),Z.render(G,ee),Z.setRenderTarget(q,te,ie),Z.xr.enabled=ne,W.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(Z,G,W,F,U,J,Y,D,Q,ee){Z=Z!==void 0?Z:[],G=G!==void 0?G:CubeReflectionMapping,super(Z,G,W,F,U,J,Y,D,Q,ee),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(Z){this.image=Z}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(Z=1,G={}){super(Z,Z,G),this.isWebGLCubeRenderTarget=!0;const W={width:Z,height:Z,depth:1},F=[W,W,W,W,W,W];G.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),G.colorSpace=G.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new CubeTexture(F,G.mapping,G.wrapS,G.wrapT,G.magFilter,G.minFilter,G.format,G.type,G.anisotropy,G.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=G.generateMipmaps!==void 0?G.generateMipmaps:!1,this.texture.minFilter=G.minFilter!==void 0?G.minFilter:LinearFilter}fromEquirectangularTexture(Z,G){this.texture.type=G.type,this.texture.colorSpace=G.colorSpace,this.texture.generateMipmaps=G.generateMipmaps,this.texture.minFilter=G.minFilter,this.texture.magFilter=G.magFilter;const W={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},F=new BoxGeometry(5,5,5),U=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(W.uniforms),vertexShader:W.vertexShader,fragmentShader:W.fragmentShader,side:BackSide,blending:NoBlending});U.uniforms.tEquirect.value=G;const J=new Mesh(F,U),Y=G.minFilter;return G.minFilter===LinearMipmapLinearFilter&&(G.minFilter=LinearFilter),new CubeCamera(1,10,this).update(Z,J),G.minFilter=Y,J.geometry.dispose(),J.material.dispose(),this}clear(Z,G,W,F){const U=Z.getRenderTarget();for(let J=0;J<6;J++)Z.setRenderTarget(this,J),Z.clear(G,W,F);Z.setRenderTarget(U)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(Z=new Vector3(1,0,0),G=0){this.isPlane=!0,this.normal=Z,this.constant=G}set(Z,G){return this.normal.copy(Z),this.constant=G,this}setComponents(Z,G,W,F){return this.normal.set(Z,G,W),this.constant=F,this}setFromNormalAndCoplanarPoint(Z,G){return this.normal.copy(Z),this.constant=-G.dot(this.normal),this}setFromCoplanarPoints(Z,G,W){const F=_vector1.subVectors(W,G).cross(_vector2.subVectors(Z,G)).normalize();return this.setFromNormalAndCoplanarPoint(F,Z),this}copy(Z){return this.normal.copy(Z.normal),this.constant=Z.constant,this}normalize(){const Z=1/this.normal.length();return this.normal.multiplyScalar(Z),this.constant*=Z,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(Z){return this.normal.dot(Z)+this.constant}distanceToSphere(Z){return this.distanceToPoint(Z.center)-Z.radius}projectPoint(Z,G){return G.copy(Z).addScaledVector(this.normal,-this.distanceToPoint(Z))}intersectLine(Z,G){const W=Z.delta(_vector1),F=this.normal.dot(W);if(F===0)return this.distanceToPoint(Z.start)===0?G.copy(Z.start):null;const U=-(Z.start.dot(this.normal)+this.constant)/F;return U<0||U>1?null:G.copy(Z.start).addScaledVector(W,U)}intersectsLine(Z){const G=this.distanceToPoint(Z.start),W=this.distanceToPoint(Z.end);return G<0&&W>0||W<0&&G>0}intersectsBox(Z){return Z.intersectsPlane(this)}intersectsSphere(Z){return Z.intersectsPlane(this)}coplanarPoint(Z){return Z.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(Z,G){const W=G||_normalMatrix.getNormalMatrix(Z),F=this.coplanarPoint(_vector1).applyMatrix4(Z),U=this.normal.applyMatrix3(W).normalize();return this.constant=-F.dot(U),this}translate(Z){return this.constant-=Z.dot(this.normal),this}equals(Z){return Z.normal.equals(this.normal)&&Z.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$4=new Sphere,_vector$6=new Vector3;class Frustum{constructor(Z=new Plane,G=new Plane,W=new Plane,F=new Plane,U=new Plane,J=new Plane){this.planes=[Z,G,W,F,U,J]}set(Z,G,W,F,U,J){const Y=this.planes;return Y[0].copy(Z),Y[1].copy(G),Y[2].copy(W),Y[3].copy(F),Y[4].copy(U),Y[5].copy(J),this}copy(Z){const G=this.planes;for(let W=0;W<6;W++)G[W].copy(Z.planes[W]);return this}setFromProjectionMatrix(Z,G=WebGLCoordinateSystem){const W=this.planes,F=Z.elements,U=F[0],J=F[1],Y=F[2],D=F[3],Q=F[4],ee=F[5],q=F[6],te=F[7],ie=F[8],ne=F[9],ce=F[10],le=F[11],se=F[12],pe=F[13],ue=F[14],ae=F[15];if(W[0].setComponents(D-U,te-Q,le-ie,ae-se).normalize(),W[1].setComponents(D+U,te+Q,le+ie,ae+se).normalize(),W[2].setComponents(D+J,te+ee,le+ne,ae+pe).normalize(),W[3].setComponents(D-J,te-ee,le-ne,ae-pe).normalize(),W[4].setComponents(D-Y,te-q,le-ce,ae-ue).normalize(),G===WebGLCoordinateSystem)W[5].setComponents(D+Y,te+q,le+ce,ae+ue).normalize();else if(G===WebGPUCoordinateSystem)W[5].setComponents(Y,q,ce,ue).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+G);return this}intersectsObject(Z){if(Z.boundingSphere!==void 0)Z.boundingSphere===null&&Z.computeBoundingSphere(),_sphere$4.copy(Z.boundingSphere).applyMatrix4(Z.matrixWorld);else{const G=Z.geometry;G.boundingSphere===null&&G.computeBoundingSphere(),_sphere$4.copy(G.boundingSphere).applyMatrix4(Z.matrixWorld)}return this.intersectsSphere(_sphere$4)}intersectsSprite(Z){return _sphere$4.center.set(0,0,0),_sphere$4.radius=.7071067811865476,_sphere$4.applyMatrix4(Z.matrixWorld),this.intersectsSphere(_sphere$4)}intersectsSphere(Z){const G=this.planes,W=Z.center,F=-Z.radius;for(let U=0;U<6;U++)if(G[U].distanceToPoint(W)<F)return!1;return!0}intersectsBox(Z){const G=this.planes;for(let W=0;W<6;W++){const F=G[W];if(_vector$6.x=F.normal.x>0?Z.max.x:Z.min.x,_vector$6.y=F.normal.y>0?Z.max.y:Z.min.y,_vector$6.z=F.normal.z>0?Z.max.z:Z.min.z,F.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(Z){const G=this.planes;for(let W=0;W<6;W++)if(G[W].distanceToPoint(Z)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let X=null,Z=!1,G=null,W=null;function F(U,J){G(U,J),W=X.requestAnimationFrame(F)}return{start:function(){Z!==!0&&G!==null&&(W=X.requestAnimationFrame(F),Z=!0)},stop:function(){X.cancelAnimationFrame(W),Z=!1},setAnimationLoop:function(U){G=U},setContext:function(U){X=U}}}function WebGLAttributes(X,Z){const G=Z.isWebGL2,W=new WeakMap;function F(Q,ee){const q=Q.array,te=Q.usage,ie=X.createBuffer();X.bindBuffer(ee,ie),X.bufferData(ee,q,te),Q.onUploadCallback();let ne;if(q instanceof Float32Array)ne=X.FLOAT;else if(q instanceof Uint16Array)if(Q.isFloat16BufferAttribute)if(G)ne=X.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else ne=X.UNSIGNED_SHORT;else if(q instanceof Int16Array)ne=X.SHORT;else if(q instanceof Uint32Array)ne=X.UNSIGNED_INT;else if(q instanceof Int32Array)ne=X.INT;else if(q instanceof Int8Array)ne=X.BYTE;else if(q instanceof Uint8Array)ne=X.UNSIGNED_BYTE;else if(q instanceof Uint8ClampedArray)ne=X.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+q);return{buffer:ie,type:ne,bytesPerElement:q.BYTES_PER_ELEMENT,version:Q.version}}function U(Q,ee,q){const te=ee.array,ie=ee.updateRange;X.bindBuffer(q,Q),ie.count===-1?X.bufferSubData(q,0,te):(G?X.bufferSubData(q,ie.offset*te.BYTES_PER_ELEMENT,te,ie.offset,ie.count):X.bufferSubData(q,ie.offset*te.BYTES_PER_ELEMENT,te.subarray(ie.offset,ie.offset+ie.count)),ie.count=-1),ee.onUploadCallback()}function J(Q){return Q.isInterleavedBufferAttribute&&(Q=Q.data),W.get(Q)}function Y(Q){Q.isInterleavedBufferAttribute&&(Q=Q.data);const ee=W.get(Q);ee&&(X.deleteBuffer(ee.buffer),W.delete(Q))}function D(Q,ee){if(Q.isGLBufferAttribute){const te=W.get(Q);(!te||te.version<Q.version)&&W.set(Q,{buffer:Q.buffer,type:Q.type,bytesPerElement:Q.elementSize,version:Q.version});return}Q.isInterleavedBufferAttribute&&(Q=Q.data);const q=W.get(Q);q===void 0?W.set(Q,F(Q,ee)):q.version<Q.version&&(U(q.buffer,Q,ee),q.version=Q.version)}return{get:J,remove:Y,update:D}}class PlaneGeometry extends BufferGeometry{constructor(Z=1,G=1,W=1,F=1){super(),this.type="PlaneGeometry",this.parameters={width:Z,height:G,widthSegments:W,heightSegments:F};const U=Z/2,J=G/2,Y=Math.floor(W),D=Math.floor(F),Q=Y+1,ee=D+1,q=Z/Y,te=G/D,ie=[],ne=[],ce=[],le=[];for(let se=0;se<ee;se++){const pe=se*te-J;for(let ue=0;ue<Q;ue++){const ae=ue*q-U;ne.push(ae,-pe,0),ce.push(0,0,1),le.push(ue/Y),le.push(1-se/D)}}for(let se=0;se<D;se++)for(let pe=0;pe<Y;pe++){const ue=pe+Q*se,ae=pe+Q*(se+1),de=pe+1+Q*(se+1),be=pe+1+Q*se;ie.push(ue,ae,be),ie.push(ae,de,be)}this.setIndex(ie),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(le,2))}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new PlaneGeometry(Z.width,Z.height,Z.widthSegments,Z.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common$7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common:common$7,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(X,Z,G,W,F,U,J){const Y=new Color(0);let D=U===!0?0:1,Q,ee,q=null,te=0,ie=null;function ne(le,se){let pe=!1,ue=se.isScene===!0?se.background:null;ue&&ue.isTexture&&(ue=(se.backgroundBlurriness>0?G:Z).get(ue)),ue===null?ce(Y,D):ue&&ue.isColor&&(ce(ue,1),pe=!0);const ae=X.xr.getEnvironmentBlendMode();ae==="additive"?W.buffers.color.setClear(0,0,0,1,J):ae==="alpha-blend"&&W.buffers.color.setClear(0,0,0,0,J),(X.autoClear||pe)&&X.clear(X.autoClearColor,X.autoClearDepth,X.autoClearStencil),ue&&(ue.isCubeTexture||ue.mapping===CubeUVReflectionMapping)?(ee===void 0&&(ee=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ee.geometry.deleteAttribute("normal"),ee.geometry.deleteAttribute("uv"),ee.onBeforeRender=function(de,be,he){this.matrixWorld.copyPosition(he.matrixWorld)},Object.defineProperty(ee.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),F.update(ee)),ee.material.uniforms.envMap.value=ue,ee.material.uniforms.flipEnvMap.value=ue.isCubeTexture&&ue.isRenderTargetTexture===!1?-1:1,ee.material.uniforms.backgroundBlurriness.value=se.backgroundBlurriness,ee.material.uniforms.backgroundIntensity.value=se.backgroundIntensity,ee.material.toneMapped=ColorManagement.getTransfer(ue.colorSpace)!==SRGBTransfer,(q!==ue||te!==ue.version||ie!==X.toneMapping)&&(ee.material.needsUpdate=!0,q=ue,te=ue.version,ie=X.toneMapping),ee.layers.enableAll(),le.unshift(ee,ee.geometry,ee.material,0,0,null)):ue&&ue.isTexture&&(Q===void 0&&(Q=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),Q.geometry.deleteAttribute("normal"),Object.defineProperty(Q.material,"map",{get:function(){return this.uniforms.t2D.value}}),F.update(Q)),Q.material.uniforms.t2D.value=ue,Q.material.uniforms.backgroundIntensity.value=se.backgroundIntensity,Q.material.toneMapped=ColorManagement.getTransfer(ue.colorSpace)!==SRGBTransfer,ue.matrixAutoUpdate===!0&&ue.updateMatrix(),Q.material.uniforms.uvTransform.value.copy(ue.matrix),(q!==ue||te!==ue.version||ie!==X.toneMapping)&&(Q.material.needsUpdate=!0,q=ue,te=ue.version,ie=X.toneMapping),Q.layers.enableAll(),le.unshift(Q,Q.geometry,Q.material,0,0,null))}function ce(le,se){le.getRGB(_rgb,getUnlitUniformColorSpace(X)),W.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,se,J)}return{getClearColor:function(){return Y},setClearColor:function(le,se=1){Y.set(le),D=se,ce(Y,D)},getClearAlpha:function(){return D},setClearAlpha:function(le){D=le,ce(Y,D)},render:ne}}function WebGLBindingStates(X,Z,G,W){const F=X.getParameter(X.MAX_VERTEX_ATTRIBS),U=W.isWebGL2?null:Z.get("OES_vertex_array_object"),J=W.isWebGL2||U!==null,Y={},D=le(null);let Q=D,ee=!1;function q(re,Ze,Ge,ve,Te){let xe=!1;if(J){const Ie=ce(ve,Ge,Ze);Q!==Ie&&(Q=Ie,ie(Q.object)),xe=se(re,ve,Ge,Te),xe&&pe(re,ve,Ge,Te)}else{const Ie=Ze.wireframe===!0;(Q.geometry!==ve.id||Q.program!==Ge.id||Q.wireframe!==Ie)&&(Q.geometry=ve.id,Q.program=Ge.id,Q.wireframe=Ie,xe=!0)}Te!==null&&G.update(Te,X.ELEMENT_ARRAY_BUFFER),(xe||ee)&&(ee=!1,Le(re,Ze,Ge,ve),Te!==null&&X.bindBuffer(X.ELEMENT_ARRAY_BUFFER,G.get(Te).buffer))}function te(){return W.isWebGL2?X.createVertexArray():U.createVertexArrayOES()}function ie(re){return W.isWebGL2?X.bindVertexArray(re):U.bindVertexArrayOES(re)}function ne(re){return W.isWebGL2?X.deleteVertexArray(re):U.deleteVertexArrayOES(re)}function ce(re,Ze,Ge){const ve=Ge.wireframe===!0;let Te=Y[re.id];Te===void 0&&(Te={},Y[re.id]=Te);let xe=Te[Ze.id];xe===void 0&&(xe={},Te[Ze.id]=xe);let Ie=xe[ve];return Ie===void 0&&(Ie=le(te()),xe[ve]=Ie),Ie}function le(re){const Ze=[],Ge=[],ve=[];for(let Te=0;Te<F;Te++)Ze[Te]=0,Ge[Te]=0,ve[Te]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ze,enabledAttributes:Ge,attributeDivisors:ve,object:re,attributes:{},index:null}}function se(re,Ze,Ge,ve){const Te=Q.attributes,xe=Ze.attributes;let Ie=0;const Se=Ge.getAttributes();for(const Ne in Se)if(Se[Ne].location>=0){const tt=Te[Ne];let it=xe[Ne];if(it===void 0&&(Ne==="instanceMatrix"&&re.instanceMatrix&&(it=re.instanceMatrix),Ne==="instanceColor"&&re.instanceColor&&(it=re.instanceColor)),tt===void 0||tt.attribute!==it||it&&tt.data!==it.data)return!0;Ie++}return Q.attributesNum!==Ie||Q.index!==ve}function pe(re,Ze,Ge,ve){const Te={},xe=Ze.attributes;let Ie=0;const Se=Ge.getAttributes();for(const Ne in Se)if(Se[Ne].location>=0){let tt=xe[Ne];tt===void 0&&(Ne==="instanceMatrix"&&re.instanceMatrix&&(tt=re.instanceMatrix),Ne==="instanceColor"&&re.instanceColor&&(tt=re.instanceColor));const it={};it.attribute=tt,tt&&tt.data&&(it.data=tt.data),Te[Ne]=it,Ie++}Q.attributes=Te,Q.attributesNum=Ie,Q.index=ve}function ue(){const re=Q.newAttributes;for(let Ze=0,Ge=re.length;Ze<Ge;Ze++)re[Ze]=0}function ae(re){de(re,0)}function de(re,Ze){const Ge=Q.newAttributes,ve=Q.enabledAttributes,Te=Q.attributeDivisors;Ge[re]=1,ve[re]===0&&(X.enableVertexAttribArray(re),ve[re]=1),Te[re]!==Ze&&((W.isWebGL2?X:Z.get("ANGLE_instanced_arrays"))[W.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](re,Ze),Te[re]=Ze)}function be(){const re=Q.newAttributes,Ze=Q.enabledAttributes;for(let Ge=0,ve=Ze.length;Ge<ve;Ge++)Ze[Ge]!==re[Ge]&&(X.disableVertexAttribArray(Ge),Ze[Ge]=0)}function he(re,Ze,Ge,ve,Te,xe,Ie){Ie===!0?X.vertexAttribIPointer(re,Ze,Ge,Te,xe):X.vertexAttribPointer(re,Ze,Ge,ve,Te,xe)}function Le(re,Ze,Ge,ve){if(W.isWebGL2===!1&&(re.isInstancedMesh||ve.isInstancedBufferGeometry)&&Z.get("ANGLE_instanced_arrays")===null)return;ue();const Te=ve.attributes,xe=Ge.getAttributes(),Ie=Ze.defaultAttributeValues;for(const Se in xe){const Ne=xe[Se];if(Ne.location>=0){let je=Te[Se];if(je===void 0&&(Se==="instanceMatrix"&&re.instanceMatrix&&(je=re.instanceMatrix),Se==="instanceColor"&&re.instanceColor&&(je=re.instanceColor)),je!==void 0){const tt=je.normalized,it=je.itemSize,st=G.get(je);if(st===void 0)continue;const qe=st.buffer,ot=st.type,ut=st.bytesPerElement,dt=W.isWebGL2===!0&&(ot===X.INT||ot===X.UNSIGNED_INT||je.gpuType===IntType);if(je.isInterleavedBufferAttribute){const mt=je.data,Je=mt.stride,Me=je.offset;if(mt.isInstancedInterleavedBuffer){for(let ke=0;ke<Ne.locationSize;ke++)de(Ne.location+ke,mt.meshPerAttribute);re.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=mt.meshPerAttribute*mt.count)}else for(let ke=0;ke<Ne.locationSize;ke++)ae(Ne.location+ke);X.bindBuffer(X.ARRAY_BUFFER,qe);for(let ke=0;ke<Ne.locationSize;ke++)he(Ne.location+ke,it/Ne.locationSize,ot,tt,Je*ut,(Me+it/Ne.locationSize*ke)*ut,dt)}else{if(je.isInstancedBufferAttribute){for(let mt=0;mt<Ne.locationSize;mt++)de(Ne.location+mt,je.meshPerAttribute);re.isInstancedMesh!==!0&&ve._maxInstanceCount===void 0&&(ve._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let mt=0;mt<Ne.locationSize;mt++)ae(Ne.location+mt);X.bindBuffer(X.ARRAY_BUFFER,qe);for(let mt=0;mt<Ne.locationSize;mt++)he(Ne.location+mt,it/Ne.locationSize,ot,tt,it*ut,it/Ne.locationSize*mt*ut,dt)}}else if(Ie!==void 0){const tt=Ie[Se];if(tt!==void 0)switch(tt.length){case 2:X.vertexAttrib2fv(Ne.location,tt);break;case 3:X.vertexAttrib3fv(Ne.location,tt);break;case 4:X.vertexAttrib4fv(Ne.location,tt);break;default:X.vertexAttrib1fv(Ne.location,tt)}}}}be()}function Xe(){Re();for(const re in Y){const Ze=Y[re];for(const Ge in Ze){const ve=Ze[Ge];for(const Te in ve)ne(ve[Te].object),delete ve[Te];delete Ze[Ge]}delete Y[re]}}function We(re){if(Y[re.id]===void 0)return;const Ze=Y[re.id];for(const Ge in Ze){const ve=Ze[Ge];for(const Te in ve)ne(ve[Te].object),delete ve[Te];delete Ze[Ge]}delete Y[re.id]}function fe(re){for(const Ze in Y){const Ge=Y[Ze];if(Ge[re.id]===void 0)continue;const ve=Ge[re.id];for(const Te in ve)ne(ve[Te].object),delete ve[Te];delete Ge[re.id]}}function Re(){ye(),ee=!0,Q!==D&&(Q=D,ie(Q.object))}function ye(){D.geometry=null,D.program=null,D.wireframe=!1}return{setup:q,reset:Re,resetDefaultState:ye,dispose:Xe,releaseStatesOfGeometry:We,releaseStatesOfProgram:fe,initAttributes:ue,enableAttribute:ae,disableUnusedAttributes:be}}function WebGLBufferRenderer(X,Z,G,W){const F=W.isWebGL2;let U;function J(Q){U=Q}function Y(Q,ee){X.drawArrays(U,Q,ee),G.update(ee,U,1)}function D(Q,ee,q){if(q===0)return;let te,ie;if(F)te=X,ie="drawArraysInstanced";else if(te=Z.get("ANGLE_instanced_arrays"),ie="drawArraysInstancedANGLE",te===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}te[ie](U,Q,ee,q),G.update(ee,U,q)}this.setMode=J,this.render=Y,this.renderInstances=D}function WebGLCapabilities(X,Z,G){let W;function F(){if(W!==void 0)return W;if(Z.has("EXT_texture_filter_anisotropic")===!0){const he=Z.get("EXT_texture_filter_anisotropic");W=X.getParameter(he.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else W=0;return W}function U(he){if(he==="highp"){if(X.getShaderPrecisionFormat(X.VERTEX_SHADER,X.HIGH_FLOAT).precision>0&&X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.HIGH_FLOAT).precision>0)return"highp";he="mediump"}return he==="mediump"&&X.getShaderPrecisionFormat(X.VERTEX_SHADER,X.MEDIUM_FLOAT).precision>0&&X.getShaderPrecisionFormat(X.FRAGMENT_SHADER,X.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const J=typeof WebGL2RenderingContext<"u"&&X.constructor.name==="WebGL2RenderingContext";let Y=G.precision!==void 0?G.precision:"highp";const D=U(Y);D!==Y&&(console.warn("THREE.WebGLRenderer:",Y,"not supported, using",D,"instead."),Y=D);const Q=J||Z.has("WEBGL_draw_buffers"),ee=G.logarithmicDepthBuffer===!0,q=X.getParameter(X.MAX_TEXTURE_IMAGE_UNITS),te=X.getParameter(X.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ie=X.getParameter(X.MAX_TEXTURE_SIZE),ne=X.getParameter(X.MAX_CUBE_MAP_TEXTURE_SIZE),ce=X.getParameter(X.MAX_VERTEX_ATTRIBS),le=X.getParameter(X.MAX_VERTEX_UNIFORM_VECTORS),se=X.getParameter(X.MAX_VARYING_VECTORS),pe=X.getParameter(X.MAX_FRAGMENT_UNIFORM_VECTORS),ue=te>0,ae=J||Z.has("OES_texture_float"),de=ue&&ae,be=J?X.getParameter(X.MAX_SAMPLES):0;return{isWebGL2:J,drawBuffers:Q,getMaxAnisotropy:F,getMaxPrecision:U,precision:Y,logarithmicDepthBuffer:ee,maxTextures:q,maxVertexTextures:te,maxTextureSize:ie,maxCubemapSize:ne,maxAttributes:ce,maxVertexUniforms:le,maxVaryings:se,maxFragmentUniforms:pe,vertexTextures:ue,floatFragmentTextures:ae,floatVertexTextures:de,maxSamples:be}}function WebGLClipping(X){const Z=this;let G=null,W=0,F=!1,U=!1;const J=new Plane,Y=new Matrix3,D={value:null,needsUpdate:!1};this.uniform=D,this.numPlanes=0,this.numIntersection=0,this.init=function(q,te){const ie=q.length!==0||te||W!==0||F;return F=te,W=q.length,ie},this.beginShadows=function(){U=!0,ee(null)},this.endShadows=function(){U=!1},this.setGlobalState=function(q,te){G=ee(q,te,0)},this.setState=function(q,te,ie){const ne=q.clippingPlanes,ce=q.clipIntersection,le=q.clipShadows,se=X.get(q);if(!F||ne===null||ne.length===0||U&&!le)U?ee(null):Q();else{const pe=U?0:W,ue=pe*4;let ae=se.clippingState||null;D.value=ae,ae=ee(ne,te,ue,ie);for(let de=0;de!==ue;++de)ae[de]=G[de];se.clippingState=ae,this.numIntersection=ce?this.numPlanes:0,this.numPlanes+=pe}};function Q(){D.value!==G&&(D.value=G,D.needsUpdate=W>0),Z.numPlanes=W,Z.numIntersection=0}function ee(q,te,ie,ne){const ce=q!==null?q.length:0;let le=null;if(ce!==0){if(le=D.value,ne!==!0||le===null){const se=ie+ce*4,pe=te.matrixWorldInverse;Y.getNormalMatrix(pe),(le===null||le.length<se)&&(le=new Float32Array(se));for(let ue=0,ae=ie;ue!==ce;++ue,ae+=4)J.copy(q[ue]).applyMatrix4(pe,Y),J.normal.toArray(le,ae),le[ae+3]=J.constant}D.value=le,D.needsUpdate=!0}return Z.numPlanes=ce,Z.numIntersection=0,le}}function WebGLCubeMaps(X){let Z=new WeakMap;function G(J,Y){return Y===EquirectangularReflectionMapping?J.mapping=CubeReflectionMapping:Y===EquirectangularRefractionMapping&&(J.mapping=CubeRefractionMapping),J}function W(J){if(J&&J.isTexture&&J.isRenderTargetTexture===!1){const Y=J.mapping;if(Y===EquirectangularReflectionMapping||Y===EquirectangularRefractionMapping)if(Z.has(J)){const D=Z.get(J).texture;return G(D,J.mapping)}else{const D=J.image;if(D&&D.height>0){const Q=new WebGLCubeRenderTarget(D.height/2);return Q.fromEquirectangularTexture(X,J),Z.set(J,Q),J.addEventListener("dispose",F),G(Q.texture,J.mapping)}else return null}}return J}function F(J){const Y=J.target;Y.removeEventListener("dispose",F);const D=Z.get(Y);D!==void 0&&(Z.delete(Y),D.dispose())}function U(){Z=new WeakMap}return{get:W,dispose:U}}class OrthographicCamera extends Camera{constructor(Z=-1,G=1,W=1,F=-1,U=.1,J=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=Z,this.right=G,this.top=W,this.bottom=F,this.near=U,this.far=J,this.updateProjectionMatrix()}copy(Z,G){return super.copy(Z,G),this.left=Z.left,this.right=Z.right,this.top=Z.top,this.bottom=Z.bottom,this.near=Z.near,this.far=Z.far,this.zoom=Z.zoom,this.view=Z.view===null?null:Object.assign({},Z.view),this}setViewOffset(Z,G,W,F,U,J){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=Z,this.view.fullHeight=G,this.view.offsetX=W,this.view.offsetY=F,this.view.width=U,this.view.height=J,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const Z=(this.right-this.left)/(2*this.zoom),G=(this.top-this.bottom)/(2*this.zoom),W=(this.right+this.left)/2,F=(this.top+this.bottom)/2;let U=W-Z,J=W+Z,Y=F+G,D=F-G;if(this.view!==null&&this.view.enabled){const Q=(this.right-this.left)/this.view.fullWidth/this.zoom,ee=(this.top-this.bottom)/this.view.fullHeight/this.zoom;U+=Q*this.view.offsetX,J=U+Q*this.view.width,Y-=ee*this.view.offsetY,D=Y-ee*this.view.height}this.projectionMatrix.makeOrthographic(U,J,Y,D,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(Z){const G=super.toJSON(Z);return G.object.zoom=this.zoom,G.object.left=this.left,G.object.right=this.right,G.object.top=this.top,G.object.bottom=this.bottom,G.object.near=this.near,G.object.far=this.far,this.view!==null&&(G.object.view=Object.assign({},this.view)),G}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(Z){this._renderer=Z,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(Z,G=0,W=.1,F=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),this._setSize(256);const U=this._allocateTargets();return U.depthBuffer=!0,this._sceneToCubeUV(Z,W,F,U),G>0&&this._blur(U,0,0,G),this._applyPMREM(U),this._cleanup(U),U}fromEquirectangular(Z,G=null){return this._fromTexture(Z,G)}fromCubemap(Z,G=null){return this._fromTexture(Z,G)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(Z){this._lodMax=Math.floor(Math.log2(Z)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let Z=0;Z<this._lodPlanes.length;Z++)this._lodPlanes[Z].dispose()}_cleanup(Z){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),Z.scissorTest=!1,_setViewport(Z,0,0,Z.width,Z.height)}_fromTexture(Z,G){Z.mapping===CubeReflectionMapping||Z.mapping===CubeRefractionMapping?this._setSize(Z.image.length===0?16:Z.image[0].width||Z.image[0].image.width):this._setSize(Z.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel();const W=G||this._allocateTargets();return this._textureToCubeUV(Z,W),this._applyPMREM(W),this._cleanup(W),W}_allocateTargets(){const Z=3*Math.max(this._cubeSize,112),G=4*this._cubeSize,W={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},F=_createRenderTarget(Z,G,W);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==Z||this._pingPongRenderTarget.height!==G){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(Z,G,W);const{_lodMax:U}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(U)),this._blurMaterial=_getBlurShader(U,Z,G)}return F}_compileMaterial(Z){const G=new Mesh(this._lodPlanes[0],Z);this._renderer.compile(G,_flatCamera)}_sceneToCubeUV(Z,G,W,F){const Y=new PerspectiveCamera(90,1,G,W),D=[1,-1,1,1,1,1],Q=[1,1,1,-1,-1,-1],ee=this._renderer,q=ee.autoClear,te=ee.toneMapping;ee.getClearColor(_clearColor),ee.toneMapping=NoToneMapping,ee.autoClear=!1;const ie=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ne=new Mesh(new BoxGeometry,ie);let ce=!1;const le=Z.background;le?le.isColor&&(ie.color.copy(le),Z.background=null,ce=!0):(ie.color.copy(_clearColor),ce=!0);for(let se=0;se<6;se++){const pe=se%3;pe===0?(Y.up.set(0,D[se],0),Y.lookAt(Q[se],0,0)):pe===1?(Y.up.set(0,0,D[se]),Y.lookAt(0,Q[se],0)):(Y.up.set(0,D[se],0),Y.lookAt(0,0,Q[se]));const ue=this._cubeSize;_setViewport(F,pe*ue,se>2?ue:0,ue,ue),ee.setRenderTarget(F),ce&&ee.render(ne,Y),ee.render(Z,Y)}ne.geometry.dispose(),ne.material.dispose(),ee.toneMapping=te,ee.autoClear=q,Z.background=le}_textureToCubeUV(Z,G){const W=this._renderer,F=Z.mapping===CubeReflectionMapping||Z.mapping===CubeRefractionMapping;F?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=Z.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const U=F?this._cubemapMaterial:this._equirectMaterial,J=new Mesh(this._lodPlanes[0],U),Y=U.uniforms;Y.envMap.value=Z;const D=this._cubeSize;_setViewport(G,0,0,3*D,2*D),W.setRenderTarget(G),W.render(J,_flatCamera)}_applyPMREM(Z){const G=this._renderer,W=G.autoClear;G.autoClear=!1;for(let F=1;F<this._lodPlanes.length;F++){const U=Math.sqrt(this._sigmas[F]*this._sigmas[F]-this._sigmas[F-1]*this._sigmas[F-1]),J=_axisDirections[(F-1)%_axisDirections.length];this._blur(Z,F-1,F,U,J)}G.autoClear=W}_blur(Z,G,W,F,U){const J=this._pingPongRenderTarget;this._halfBlur(Z,J,G,W,F,"latitudinal",U),this._halfBlur(J,Z,W,W,F,"longitudinal",U)}_halfBlur(Z,G,W,F,U,J,Y){const D=this._renderer,Q=this._blurMaterial;J!=="latitudinal"&&J!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ee=3,q=new Mesh(this._lodPlanes[F],Q),te=Q.uniforms,ie=this._sizeLods[W]-1,ne=isFinite(U)?Math.PI/(2*ie):2*Math.PI/(2*MAX_SAMPLES-1),ce=U/ne,le=isFinite(U)?1+Math.floor(ee*ce):MAX_SAMPLES;le>MAX_SAMPLES&&console.warn(`sigmaRadians, ${U}, is too large and will clip, as it requested ${le} samples when the maximum is set to ${MAX_SAMPLES}`);const se=[];let pe=0;for(let he=0;he<MAX_SAMPLES;++he){const Le=he/ce,Xe=Math.exp(-Le*Le/2);se.push(Xe),he===0?pe+=Xe:he<le&&(pe+=2*Xe)}for(let he=0;he<se.length;he++)se[he]=se[he]/pe;te.envMap.value=Z.texture,te.samples.value=le,te.weights.value=se,te.latitudinal.value=J==="latitudinal",Y&&(te.poleAxis.value=Y);const{_lodMax:ue}=this;te.dTheta.value=ne,te.mipInt.value=ue-W;const ae=this._sizeLods[F],de=3*ae*(F>ue-LOD_MIN?F-ue+LOD_MIN:0),be=4*(this._cubeSize-ae);_setViewport(G,de,be,3*ae,2*ae),D.setRenderTarget(G),D.render(q,_flatCamera)}}function _createPlanes(X){const Z=[],G=[],W=[];let F=X;const U=X-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let J=0;J<U;J++){const Y=Math.pow(2,F);G.push(Y);let D=1/Y;J>X-LOD_MIN?D=EXTRA_LOD_SIGMA[J-X+LOD_MIN-1]:J===0&&(D=0),W.push(D);const Q=1/(Y-2),ee=-Q,q=1+Q,te=[ee,ee,q,ee,q,q,ee,ee,q,q,ee,q],ie=6,ne=6,ce=3,le=2,se=1,pe=new Float32Array(ce*ne*ie),ue=new Float32Array(le*ne*ie),ae=new Float32Array(se*ne*ie);for(let be=0;be<ie;be++){const he=be%3*2/3-1,Le=be>2?0:-1,Xe=[he,Le,0,he+2/3,Le,0,he+2/3,Le+1,0,he,Le,0,he+2/3,Le+1,0,he,Le+1,0];pe.set(Xe,ce*ne*be),ue.set(te,le*ne*be);const We=[be,be,be,be,be,be];ae.set(We,se*ne*be)}const de=new BufferGeometry;de.setAttribute("position",new BufferAttribute(pe,ce)),de.setAttribute("uv",new BufferAttribute(ue,le)),de.setAttribute("faceIndex",new BufferAttribute(ae,se)),Z.push(de),F>LOD_MIN&&F--}return{lodPlanes:Z,sizeLods:G,sigmas:W}}function _createRenderTarget(X,Z,G){const W=new WebGLRenderTarget(X,Z,G);return W.texture.mapping=CubeUVReflectionMapping,W.texture.name="PMREM.cubeUv",W.scissorTest=!0,W}function _setViewport(X,Z,G,W,F){X.viewport.set(Z,G,W,F),X.scissor.set(Z,G,W,F)}function _getBlurShader(X,Z,G){const W=new Float32Array(MAX_SAMPLES),F=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/Z,CUBEUV_TEXEL_HEIGHT:1/G,CUBEUV_MAX_MIP:`${X}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:W},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:F}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(X){let Z=new WeakMap,G=null;function W(Y){if(Y&&Y.isTexture){const D=Y.mapping,Q=D===EquirectangularReflectionMapping||D===EquirectangularRefractionMapping,ee=D===CubeReflectionMapping||D===CubeRefractionMapping;if(Q||ee)if(Y.isRenderTargetTexture&&Y.needsPMREMUpdate===!0){Y.needsPMREMUpdate=!1;let q=Z.get(Y);return G===null&&(G=new PMREMGenerator(X)),q=Q?G.fromEquirectangular(Y,q):G.fromCubemap(Y,q),Z.set(Y,q),q.texture}else{if(Z.has(Y))return Z.get(Y).texture;{const q=Y.image;if(Q&&q&&q.height>0||ee&&q&&F(q)){G===null&&(G=new PMREMGenerator(X));const te=Q?G.fromEquirectangular(Y):G.fromCubemap(Y);return Z.set(Y,te),Y.addEventListener("dispose",U),te.texture}else return null}}}return Y}function F(Y){let D=0;const Q=6;for(let ee=0;ee<Q;ee++)Y[ee]!==void 0&&D++;return D===Q}function U(Y){const D=Y.target;D.removeEventListener("dispose",U);const Q=Z.get(D);Q!==void 0&&(Z.delete(D),Q.dispose())}function J(){Z=new WeakMap,G!==null&&(G.dispose(),G=null)}return{get:W,dispose:J}}function WebGLExtensions(X){const Z={};function G(W){if(Z[W]!==void 0)return Z[W];let F;switch(W){case"WEBGL_depth_texture":F=X.getExtension("WEBGL_depth_texture")||X.getExtension("MOZ_WEBGL_depth_texture")||X.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":F=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":F=X.getExtension("WEBGL_compressed_texture_s3tc")||X.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||X.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":F=X.getExtension("WEBGL_compressed_texture_pvrtc")||X.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:F=X.getExtension(W)}return Z[W]=F,F}return{has:function(W){return G(W)!==null},init:function(W){W.isWebGL2?G("EXT_color_buffer_float"):(G("WEBGL_depth_texture"),G("OES_texture_float"),G("OES_texture_half_float"),G("OES_texture_half_float_linear"),G("OES_standard_derivatives"),G("OES_element_index_uint"),G("OES_vertex_array_object"),G("ANGLE_instanced_arrays")),G("OES_texture_float_linear"),G("EXT_color_buffer_half_float"),G("WEBGL_multisampled_render_to_texture")},get:function(W){const F=G(W);return F===null&&console.warn("THREE.WebGLRenderer: "+W+" extension not supported."),F}}}function WebGLGeometries(X,Z,G,W){const F={},U=new WeakMap;function J(q){const te=q.target;te.index!==null&&Z.remove(te.index);for(const ne in te.attributes)Z.remove(te.attributes[ne]);for(const ne in te.morphAttributes){const ce=te.morphAttributes[ne];for(let le=0,se=ce.length;le<se;le++)Z.remove(ce[le])}te.removeEventListener("dispose",J),delete F[te.id];const ie=U.get(te);ie&&(Z.remove(ie),U.delete(te)),W.releaseStatesOfGeometry(te),te.isInstancedBufferGeometry===!0&&delete te._maxInstanceCount,G.memory.geometries--}function Y(q,te){return F[te.id]===!0||(te.addEventListener("dispose",J),F[te.id]=!0,G.memory.geometries++),te}function D(q){const te=q.attributes;for(const ne in te)Z.update(te[ne],X.ARRAY_BUFFER);const ie=q.morphAttributes;for(const ne in ie){const ce=ie[ne];for(let le=0,se=ce.length;le<se;le++)Z.update(ce[le],X.ARRAY_BUFFER)}}function Q(q){const te=[],ie=q.index,ne=q.attributes.position;let ce=0;if(ie!==null){const pe=ie.array;ce=ie.version;for(let ue=0,ae=pe.length;ue<ae;ue+=3){const de=pe[ue+0],be=pe[ue+1],he=pe[ue+2];te.push(de,be,be,he,he,de)}}else if(ne!==void 0){const pe=ne.array;ce=ne.version;for(let ue=0,ae=pe.length/3-1;ue<ae;ue+=3){const de=ue+0,be=ue+1,he=ue+2;te.push(de,be,be,he,he,de)}}else return;const le=new(arrayNeedsUint32(te)?Uint32BufferAttribute:Uint16BufferAttribute)(te,1);le.version=ce;const se=U.get(q);se&&Z.remove(se),U.set(q,le)}function ee(q){const te=U.get(q);if(te){const ie=q.index;ie!==null&&te.version<ie.version&&Q(q)}else Q(q);return U.get(q)}return{get:Y,update:D,getWireframeAttribute:ee}}function WebGLIndexedBufferRenderer(X,Z,G,W){const F=W.isWebGL2;let U;function J(te){U=te}let Y,D;function Q(te){Y=te.type,D=te.bytesPerElement}function ee(te,ie){X.drawElements(U,ie,Y,te*D),G.update(ie,U,1)}function q(te,ie,ne){if(ne===0)return;let ce,le;if(F)ce=X,le="drawElementsInstanced";else if(ce=Z.get("ANGLE_instanced_arrays"),le="drawElementsInstancedANGLE",ce===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ce[le](U,ie,Y,te*D,ne),G.update(ie,U,ne)}this.setMode=J,this.setIndex=Q,this.render=ee,this.renderInstances=q}function WebGLInfo(X){const Z={geometries:0,textures:0},G={frame:0,calls:0,triangles:0,points:0,lines:0};function W(U,J,Y){switch(G.calls++,J){case X.TRIANGLES:G.triangles+=Y*(U/3);break;case X.LINES:G.lines+=Y*(U/2);break;case X.LINE_STRIP:G.lines+=Y*(U-1);break;case X.LINE_LOOP:G.lines+=Y*U;break;case X.POINTS:G.points+=Y*U;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",J);break}}function F(){G.calls=0,G.triangles=0,G.points=0,G.lines=0}return{memory:Z,render:G,programs:null,autoReset:!0,reset:F,update:W}}function numericalSort(X,Z){return X[0]-Z[0]}function absNumericalSort(X,Z){return Math.abs(Z[1])-Math.abs(X[1])}function WebGLMorphtargets(X,Z,G){const W={},F=new Float32Array(8),U=new WeakMap,J=new Vector4,Y=[];for(let Q=0;Q<8;Q++)Y[Q]=[Q,0];function D(Q,ee,q){const te=Q.morphTargetInfluences;if(Z.isWebGL2===!0){const ne=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,ce=ne!==void 0?ne.length:0;let le=U.get(ee);if(le===void 0||le.count!==ce){let Ze=function(){ye.dispose(),U.delete(ee),ee.removeEventListener("dispose",Ze)};var ie=Ze;le!==void 0&&le.texture.dispose();const ue=ee.morphAttributes.position!==void 0,ae=ee.morphAttributes.normal!==void 0,de=ee.morphAttributes.color!==void 0,be=ee.morphAttributes.position||[],he=ee.morphAttributes.normal||[],Le=ee.morphAttributes.color||[];let Xe=0;ue===!0&&(Xe=1),ae===!0&&(Xe=2),de===!0&&(Xe=3);let We=ee.attributes.position.count*Xe,fe=1;We>Z.maxTextureSize&&(fe=Math.ceil(We/Z.maxTextureSize),We=Z.maxTextureSize);const Re=new Float32Array(We*fe*4*ce),ye=new DataArrayTexture(Re,We,fe,ce);ye.type=FloatType,ye.needsUpdate=!0;const re=Xe*4;for(let Ge=0;Ge<ce;Ge++){const ve=be[Ge],Te=he[Ge],xe=Le[Ge],Ie=We*fe*4*Ge;for(let Se=0;Se<ve.count;Se++){const Ne=Se*re;ue===!0&&(J.fromBufferAttribute(ve,Se),Re[Ie+Ne+0]=J.x,Re[Ie+Ne+1]=J.y,Re[Ie+Ne+2]=J.z,Re[Ie+Ne+3]=0),ae===!0&&(J.fromBufferAttribute(Te,Se),Re[Ie+Ne+4]=J.x,Re[Ie+Ne+5]=J.y,Re[Ie+Ne+6]=J.z,Re[Ie+Ne+7]=0),de===!0&&(J.fromBufferAttribute(xe,Se),Re[Ie+Ne+8]=J.x,Re[Ie+Ne+9]=J.y,Re[Ie+Ne+10]=J.z,Re[Ie+Ne+11]=xe.itemSize===4?J.w:1)}}le={count:ce,texture:ye,size:new Vector2(We,fe)},U.set(ee,le),ee.addEventListener("dispose",Ze)}let se=0;for(let ue=0;ue<te.length;ue++)se+=te[ue];const pe=ee.morphTargetsRelative?1:1-se;q.getUniforms().setValue(X,"morphTargetBaseInfluence",pe),q.getUniforms().setValue(X,"morphTargetInfluences",te),q.getUniforms().setValue(X,"morphTargetsTexture",le.texture,G),q.getUniforms().setValue(X,"morphTargetsTextureSize",le.size)}else{const ne=te===void 0?0:te.length;let ce=W[ee.id];if(ce===void 0||ce.length!==ne){ce=[];for(let ae=0;ae<ne;ae++)ce[ae]=[ae,0];W[ee.id]=ce}for(let ae=0;ae<ne;ae++){const de=ce[ae];de[0]=ae,de[1]=te[ae]}ce.sort(absNumericalSort);for(let ae=0;ae<8;ae++)ae<ne&&ce[ae][1]?(Y[ae][0]=ce[ae][0],Y[ae][1]=ce[ae][1]):(Y[ae][0]=Number.MAX_SAFE_INTEGER,Y[ae][1]=0);Y.sort(numericalSort);const le=ee.morphAttributes.position,se=ee.morphAttributes.normal;let pe=0;for(let ae=0;ae<8;ae++){const de=Y[ae],be=de[0],he=de[1];be!==Number.MAX_SAFE_INTEGER&&he?(le&&ee.getAttribute("morphTarget"+ae)!==le[be]&&ee.setAttribute("morphTarget"+ae,le[be]),se&&ee.getAttribute("morphNormal"+ae)!==se[be]&&ee.setAttribute("morphNormal"+ae,se[be]),F[ae]=he,pe+=he):(le&&ee.hasAttribute("morphTarget"+ae)===!0&&ee.deleteAttribute("morphTarget"+ae),se&&ee.hasAttribute("morphNormal"+ae)===!0&&ee.deleteAttribute("morphNormal"+ae),F[ae]=0)}const ue=ee.morphTargetsRelative?1:1-pe;q.getUniforms().setValue(X,"morphTargetBaseInfluence",ue),q.getUniforms().setValue(X,"morphTargetInfluences",F)}}return{update:D}}function WebGLObjects(X,Z,G,W){let F=new WeakMap;function U(D){const Q=W.render.frame,ee=D.geometry,q=Z.get(D,ee);if(F.get(q)!==Q&&(Z.update(q),F.set(q,Q)),D.isInstancedMesh&&(D.hasEventListener("dispose",Y)===!1&&D.addEventListener("dispose",Y),F.get(D)!==Q&&(G.update(D.instanceMatrix,X.ARRAY_BUFFER),D.instanceColor!==null&&G.update(D.instanceColor,X.ARRAY_BUFFER),F.set(D,Q))),D.isSkinnedMesh){const te=D.skeleton;F.get(te)!==Q&&(te.update(),F.set(te,Q))}return q}function J(){F=new WeakMap}function Y(D){const Q=D.target;Q.removeEventListener("dispose",Y),G.remove(Q.instanceMatrix),Q.instanceColor!==null&&G.remove(Q.instanceColor)}return{update:U,dispose:J}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(X,Z,G){const W=X[0];if(W<=0||W>0)return X;const F=Z*G;let U=arrayCacheF32[F];if(U===void 0&&(U=new Float32Array(F),arrayCacheF32[F]=U),Z!==0){W.toArray(U,0);for(let J=1,Y=0;J!==Z;++J)Y+=G,X[J].toArray(U,Y)}return U}function arraysEqual$1(X,Z){if(X.length!==Z.length)return!1;for(let G=0,W=X.length;G<W;G++)if(X[G]!==Z[G])return!1;return!0}function copyArray$1(X,Z){for(let G=0,W=Z.length;G<W;G++)X[G]=Z[G]}function allocTexUnits(X,Z){let G=arrayCacheI32[Z];G===void 0&&(G=new Int32Array(Z),arrayCacheI32[Z]=G);for(let W=0;W!==Z;++W)G[W]=X.allocateTextureUnit();return G}function setValueV1f(X,Z){const G=this.cache;G[0]!==Z&&(X.uniform1f(this.addr,Z),G[0]=Z)}function setValueV2f(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y)&&(X.uniform2f(this.addr,Z.x,Z.y),G[0]=Z.x,G[1]=Z.y);else{if(arraysEqual$1(G,Z))return;X.uniform2fv(this.addr,Z),copyArray$1(G,Z)}}function setValueV3f(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z)&&(X.uniform3f(this.addr,Z.x,Z.y,Z.z),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z);else if(Z.r!==void 0)(G[0]!==Z.r||G[1]!==Z.g||G[2]!==Z.b)&&(X.uniform3f(this.addr,Z.r,Z.g,Z.b),G[0]=Z.r,G[1]=Z.g,G[2]=Z.b);else{if(arraysEqual$1(G,Z))return;X.uniform3fv(this.addr,Z),copyArray$1(G,Z)}}function setValueV4f(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z||G[3]!==Z.w)&&(X.uniform4f(this.addr,Z.x,Z.y,Z.z,Z.w),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z,G[3]=Z.w);else{if(arraysEqual$1(G,Z))return;X.uniform4fv(this.addr,Z),copyArray$1(G,Z)}}function setValueM2(X,Z){const G=this.cache,W=Z.elements;if(W===void 0){if(arraysEqual$1(G,Z))return;X.uniformMatrix2fv(this.addr,!1,Z),copyArray$1(G,Z)}else{if(arraysEqual$1(G,W))return;mat2array.set(W),X.uniformMatrix2fv(this.addr,!1,mat2array),copyArray$1(G,W)}}function setValueM3(X,Z){const G=this.cache,W=Z.elements;if(W===void 0){if(arraysEqual$1(G,Z))return;X.uniformMatrix3fv(this.addr,!1,Z),copyArray$1(G,Z)}else{if(arraysEqual$1(G,W))return;mat3array.set(W),X.uniformMatrix3fv(this.addr,!1,mat3array),copyArray$1(G,W)}}function setValueM4(X,Z){const G=this.cache,W=Z.elements;if(W===void 0){if(arraysEqual$1(G,Z))return;X.uniformMatrix4fv(this.addr,!1,Z),copyArray$1(G,Z)}else{if(arraysEqual$1(G,W))return;mat4array.set(W),X.uniformMatrix4fv(this.addr,!1,mat4array),copyArray$1(G,W)}}function setValueV1i(X,Z){const G=this.cache;G[0]!==Z&&(X.uniform1i(this.addr,Z),G[0]=Z)}function setValueV2i(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y)&&(X.uniform2i(this.addr,Z.x,Z.y),G[0]=Z.x,G[1]=Z.y);else{if(arraysEqual$1(G,Z))return;X.uniform2iv(this.addr,Z),copyArray$1(G,Z)}}function setValueV3i(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z)&&(X.uniform3i(this.addr,Z.x,Z.y,Z.z),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z);else{if(arraysEqual$1(G,Z))return;X.uniform3iv(this.addr,Z),copyArray$1(G,Z)}}function setValueV4i(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z||G[3]!==Z.w)&&(X.uniform4i(this.addr,Z.x,Z.y,Z.z,Z.w),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z,G[3]=Z.w);else{if(arraysEqual$1(G,Z))return;X.uniform4iv(this.addr,Z),copyArray$1(G,Z)}}function setValueV1ui(X,Z){const G=this.cache;G[0]!==Z&&(X.uniform1ui(this.addr,Z),G[0]=Z)}function setValueV2ui(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y)&&(X.uniform2ui(this.addr,Z.x,Z.y),G[0]=Z.x,G[1]=Z.y);else{if(arraysEqual$1(G,Z))return;X.uniform2uiv(this.addr,Z),copyArray$1(G,Z)}}function setValueV3ui(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z)&&(X.uniform3ui(this.addr,Z.x,Z.y,Z.z),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z);else{if(arraysEqual$1(G,Z))return;X.uniform3uiv(this.addr,Z),copyArray$1(G,Z)}}function setValueV4ui(X,Z){const G=this.cache;if(Z.x!==void 0)(G[0]!==Z.x||G[1]!==Z.y||G[2]!==Z.z||G[3]!==Z.w)&&(X.uniform4ui(this.addr,Z.x,Z.y,Z.z,Z.w),G[0]=Z.x,G[1]=Z.y,G[2]=Z.z,G[3]=Z.w);else{if(arraysEqual$1(G,Z))return;X.uniform4uiv(this.addr,Z),copyArray$1(G,Z)}}function setValueT1(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTexture2D(Z||emptyTexture,F)}function setValueT3D1(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTexture3D(Z||empty3dTexture,F)}function setValueT6(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTextureCube(Z||emptyCubeTexture,F)}function setValueT2DArray1(X,Z,G){const W=this.cache,F=G.allocateTextureUnit();W[0]!==F&&(X.uniform1i(this.addr,F),W[0]=F),G.setTexture2DArray(Z||emptyArrayTexture,F)}function getSingularSetter(X){switch(X){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(X,Z){X.uniform1fv(this.addr,Z)}function setValueV2fArray(X,Z){const G=flatten(Z,this.size,2);X.uniform2fv(this.addr,G)}function setValueV3fArray(X,Z){const G=flatten(Z,this.size,3);X.uniform3fv(this.addr,G)}function setValueV4fArray(X,Z){const G=flatten(Z,this.size,4);X.uniform4fv(this.addr,G)}function setValueM2Array(X,Z){const G=flatten(Z,this.size,4);X.uniformMatrix2fv(this.addr,!1,G)}function setValueM3Array(X,Z){const G=flatten(Z,this.size,9);X.uniformMatrix3fv(this.addr,!1,G)}function setValueM4Array(X,Z){const G=flatten(Z,this.size,16);X.uniformMatrix4fv(this.addr,!1,G)}function setValueV1iArray(X,Z){X.uniform1iv(this.addr,Z)}function setValueV2iArray(X,Z){X.uniform2iv(this.addr,Z)}function setValueV3iArray(X,Z){X.uniform3iv(this.addr,Z)}function setValueV4iArray(X,Z){X.uniform4iv(this.addr,Z)}function setValueV1uiArray(X,Z){X.uniform1uiv(this.addr,Z)}function setValueV2uiArray(X,Z){X.uniform2uiv(this.addr,Z)}function setValueV3uiArray(X,Z){X.uniform3uiv(this.addr,Z)}function setValueV4uiArray(X,Z){X.uniform4uiv(this.addr,Z)}function setValueT1Array(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTexture2D(Z[J]||emptyTexture,U[J])}function setValueT3DArray(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTexture3D(Z[J]||empty3dTexture,U[J])}function setValueT6Array(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTextureCube(Z[J]||emptyCubeTexture,U[J])}function setValueT2DArrayArray(X,Z,G){const W=this.cache,F=Z.length,U=allocTexUnits(G,F);arraysEqual$1(W,U)||(X.uniform1iv(this.addr,U),copyArray$1(W,U));for(let J=0;J!==F;++J)G.setTexture2DArray(Z[J]||emptyArrayTexture,U[J])}function getPureArraySetter(X){switch(X){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(Z,G,W){this.id=Z,this.addr=W,this.cache=[],this.setValue=getSingularSetter(G.type)}}class PureArrayUniform{constructor(Z,G,W){this.id=Z,this.addr=W,this.cache=[],this.size=G.size,this.setValue=getPureArraySetter(G.type)}}class StructuredUniform{constructor(Z){this.id=Z,this.seq=[],this.map={}}setValue(Z,G,W){const F=this.seq;for(let U=0,J=F.length;U!==J;++U){const Y=F[U];Y.setValue(Z,G[Y.id],W)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(X,Z){X.seq.push(Z),X.map[Z.id]=Z}function parseUniform(X,Z,G){const W=X.name,F=W.length;for(RePathPart.lastIndex=0;;){const U=RePathPart.exec(W),J=RePathPart.lastIndex;let Y=U[1];const D=U[2]==="]",Q=U[3];if(D&&(Y=Y|0),Q===void 0||Q==="["&&J+2===F){addUniform(G,Q===void 0?new SingleUniform(Y,X,Z):new PureArrayUniform(Y,X,Z));break}else{let q=G.map[Y];q===void 0&&(q=new StructuredUniform(Y),addUniform(G,q)),G=q}}}class WebGLUniforms{constructor(Z,G){this.seq=[],this.map={};const W=Z.getProgramParameter(G,Z.ACTIVE_UNIFORMS);for(let F=0;F<W;++F){const U=Z.getActiveUniform(G,F),J=Z.getUniformLocation(G,U.name);parseUniform(U,J,this)}}setValue(Z,G,W,F){const U=this.map[G];U!==void 0&&U.setValue(Z,W,F)}setOptional(Z,G,W){const F=G[W];F!==void 0&&this.setValue(Z,W,F)}static upload(Z,G,W,F){for(let U=0,J=G.length;U!==J;++U){const Y=G[U],D=W[Y.id];D.needsUpdate!==!1&&Y.setValue(Z,D.value,F)}}static seqWithValue(Z,G){const W=[];for(let F=0,U=Z.length;F!==U;++F){const J=Z[F];J.id in G&&W.push(J)}return W}}function WebGLShader(X,Z,G){const W=X.createShader(Z);return X.shaderSource(W,G),X.compileShader(W),W}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(X,Z){const G=X.split(`
`),W=[],F=Math.max(Z-6,0),U=Math.min(Z+6,G.length);for(let J=F;J<U;J++){const Y=J+1;W.push(`${Y===Z?">":" "} ${Y}: ${G[J]}`)}return W.join(`
`)}function getEncodingComponents(X){const Z=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),G=ColorManagement.getPrimaries(X);let W;switch(Z===G?W="":Z===P3Primaries&&G===Rec709Primaries?W="LinearDisplayP3ToLinearSRGB":Z===Rec709Primaries&&G===P3Primaries&&(W="LinearSRGBToLinearDisplayP3"),X){case LinearSRGBColorSpace:case LinearDisplayP3ColorSpace:return[W,"LinearTransferOETF"];case SRGBColorSpace:case DisplayP3ColorSpace:return[W,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",X),[W,"LinearTransferOETF"]}}function getShaderErrors(X,Z,G){const W=X.getShaderParameter(Z,X.COMPILE_STATUS),F=X.getShaderInfoLog(Z).trim();if(W&&F==="")return"";const U=/ERROR: 0:(\d+)/.exec(F);if(U){const J=parseInt(U[1]);return G.toUpperCase()+`

`+F+`

`+handleSource(X.getShaderSource(Z),J)}else return F}function getTexelEncodingFunction(X,Z){const G=getEncodingComponents(Z);return`vec4 ${X}( vec4 value ) { return ${G[0]}( ${G[1]}( value ) ); }`}function getToneMappingFunction(X,Z){let G;switch(Z){case LinearToneMapping:G="Linear";break;case ReinhardToneMapping:G="Reinhard";break;case CineonToneMapping:G="OptimizedCineon";break;case ACESFilmicToneMapping:G="ACESFilmic";break;case CustomToneMapping:G="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",Z),G="Linear"}return"vec3 "+X+"( vec3 color ) { return "+G+"ToneMapping( color ); }"}function generateExtensions(X){return[X.extensionDerivatives||X.envMapCubeUVHeight||X.bumpMap||X.normalMapTangentSpace||X.clearcoatNormalMap||X.flatShading||X.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(X.extensionFragDepth||X.logarithmicDepthBuffer)&&X.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",X.extensionDrawBuffers&&X.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(X.extensionShaderTextureLOD||X.envMap||X.transmission)&&X.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(X){const Z=[];for(const G in X){const W=X[G];W!==!1&&Z.push("#define "+G+" "+W)}return Z.join(`
`)}function fetchAttributeLocations(X,Z){const G={},W=X.getProgramParameter(Z,X.ACTIVE_ATTRIBUTES);for(let F=0;F<W;F++){const U=X.getActiveAttrib(Z,F),J=U.name;let Y=1;U.type===X.FLOAT_MAT2&&(Y=2),U.type===X.FLOAT_MAT3&&(Y=3),U.type===X.FLOAT_MAT4&&(Y=4),G[J]={type:U.type,location:X.getAttribLocation(Z,J),locationSize:Y}}return G}function filterEmptyLine(X){return X!==""}function replaceLightNums(X,Z){const G=Z.numSpotLightShadows+Z.numSpotLightMaps-Z.numSpotLightShadowsWithMaps;return X.replace(/NUM_DIR_LIGHTS/g,Z.numDirLights).replace(/NUM_SPOT_LIGHTS/g,Z.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,Z.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,G).replace(/NUM_RECT_AREA_LIGHTS/g,Z.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,Z.numPointLights).replace(/NUM_HEMI_LIGHTS/g,Z.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,Z.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,Z.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,Z.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,Z.numPointLightShadows)}function replaceClippingPlaneNums(X,Z){return X.replace(/NUM_CLIPPING_PLANES/g,Z.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,Z.numClippingPlanes-Z.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(X){return X.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(X,Z){let G=ShaderChunk[Z];if(G===void 0){const W=shaderChunkMap.get(Z);if(W!==void 0)G=ShaderChunk[W],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',Z,W);else throw new Error("Can not resolve #include <"+Z+">")}return resolveIncludes(G)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(X){return X.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(X,Z,G,W){let F="";for(let U=parseInt(Z);U<parseInt(G);U++)F+=W.replace(/\[\s*i\s*\]/g,"[ "+U+" ]").replace(/UNROLLED_LOOP_INDEX/g,U);return F}function generatePrecision(X){let Z="precision "+X.precision+` float;
precision `+X.precision+" int;";return X.precision==="highp"?Z+=`
#define HIGH_PRECISION`:X.precision==="mediump"?Z+=`
#define MEDIUM_PRECISION`:X.precision==="lowp"&&(Z+=`
#define LOW_PRECISION`),Z}function generateShadowMapTypeDefine(X){let Z="SHADOWMAP_TYPE_BASIC";return X.shadowMapType===PCFShadowMap?Z="SHADOWMAP_TYPE_PCF":X.shadowMapType===PCFSoftShadowMap?Z="SHADOWMAP_TYPE_PCF_SOFT":X.shadowMapType===VSMShadowMap&&(Z="SHADOWMAP_TYPE_VSM"),Z}function generateEnvMapTypeDefine(X){let Z="ENVMAP_TYPE_CUBE";if(X.envMap)switch(X.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:Z="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:Z="ENVMAP_TYPE_CUBE_UV";break}return Z}function generateEnvMapModeDefine(X){let Z="ENVMAP_MODE_REFLECTION";if(X.envMap)switch(X.envMapMode){case CubeRefractionMapping:Z="ENVMAP_MODE_REFRACTION";break}return Z}function generateEnvMapBlendingDefine(X){let Z="ENVMAP_BLENDING_NONE";if(X.envMap)switch(X.combine){case MultiplyOperation:Z="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:Z="ENVMAP_BLENDING_MIX";break;case AddOperation:Z="ENVMAP_BLENDING_ADD";break}return Z}function generateCubeUVSize(X){const Z=X.envMapCubeUVHeight;if(Z===null)return null;const G=Math.log2(Z)-2,W=1/Z;return{texelWidth:1/(3*Math.max(Math.pow(2,G),7*16)),texelHeight:W,maxMip:G}}function WebGLProgram(X,Z,G,W){const F=X.getContext(),U=G.defines;let J=G.vertexShader,Y=G.fragmentShader;const D=generateShadowMapTypeDefine(G),Q=generateEnvMapTypeDefine(G),ee=generateEnvMapModeDefine(G),q=generateEnvMapBlendingDefine(G),te=generateCubeUVSize(G),ie=G.isWebGL2?"":generateExtensions(G),ne=generateDefines(U),ce=F.createProgram();let le,se,pe=G.glslVersion?"#version "+G.glslVersion+`
`:"";G.isRawShaderMaterial?(le=["#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne].filter(filterEmptyLine).join(`
`),le.length>0&&(le+=`
`),se=[ie,"#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne].filter(filterEmptyLine).join(`
`),se.length>0&&(se+=`
`)):(le=[generatePrecision(G),"#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne,G.instancing?"#define USE_INSTANCING":"",G.instancingColor?"#define USE_INSTANCING_COLOR":"",G.useFog&&G.fog?"#define USE_FOG":"",G.useFog&&G.fogExp2?"#define FOG_EXP2":"",G.map?"#define USE_MAP":"",G.envMap?"#define USE_ENVMAP":"",G.envMap?"#define "+ee:"",G.lightMap?"#define USE_LIGHTMAP":"",G.aoMap?"#define USE_AOMAP":"",G.bumpMap?"#define USE_BUMPMAP":"",G.normalMap?"#define USE_NORMALMAP":"",G.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",G.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",G.displacementMap?"#define USE_DISPLACEMENTMAP":"",G.emissiveMap?"#define USE_EMISSIVEMAP":"",G.anisotropy?"#define USE_ANISOTROPY":"",G.anisotropyMap?"#define USE_ANISOTROPYMAP":"",G.clearcoatMap?"#define USE_CLEARCOATMAP":"",G.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",G.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",G.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",G.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",G.specularMap?"#define USE_SPECULARMAP":"",G.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",G.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",G.roughnessMap?"#define USE_ROUGHNESSMAP":"",G.metalnessMap?"#define USE_METALNESSMAP":"",G.alphaMap?"#define USE_ALPHAMAP":"",G.alphaHash?"#define USE_ALPHAHASH":"",G.transmission?"#define USE_TRANSMISSION":"",G.transmissionMap?"#define USE_TRANSMISSIONMAP":"",G.thicknessMap?"#define USE_THICKNESSMAP":"",G.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",G.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",G.mapUv?"#define MAP_UV "+G.mapUv:"",G.alphaMapUv?"#define ALPHAMAP_UV "+G.alphaMapUv:"",G.lightMapUv?"#define LIGHTMAP_UV "+G.lightMapUv:"",G.aoMapUv?"#define AOMAP_UV "+G.aoMapUv:"",G.emissiveMapUv?"#define EMISSIVEMAP_UV "+G.emissiveMapUv:"",G.bumpMapUv?"#define BUMPMAP_UV "+G.bumpMapUv:"",G.normalMapUv?"#define NORMALMAP_UV "+G.normalMapUv:"",G.displacementMapUv?"#define DISPLACEMENTMAP_UV "+G.displacementMapUv:"",G.metalnessMapUv?"#define METALNESSMAP_UV "+G.metalnessMapUv:"",G.roughnessMapUv?"#define ROUGHNESSMAP_UV "+G.roughnessMapUv:"",G.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+G.anisotropyMapUv:"",G.clearcoatMapUv?"#define CLEARCOATMAP_UV "+G.clearcoatMapUv:"",G.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+G.clearcoatNormalMapUv:"",G.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+G.clearcoatRoughnessMapUv:"",G.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+G.iridescenceMapUv:"",G.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+G.iridescenceThicknessMapUv:"",G.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+G.sheenColorMapUv:"",G.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+G.sheenRoughnessMapUv:"",G.specularMapUv?"#define SPECULARMAP_UV "+G.specularMapUv:"",G.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+G.specularColorMapUv:"",G.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+G.specularIntensityMapUv:"",G.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+G.transmissionMapUv:"",G.thicknessMapUv?"#define THICKNESSMAP_UV "+G.thicknessMapUv:"",G.vertexTangents&&G.flatShading===!1?"#define USE_TANGENT":"",G.vertexColors?"#define USE_COLOR":"",G.vertexAlphas?"#define USE_COLOR_ALPHA":"",G.vertexUv1s?"#define USE_UV1":"",G.vertexUv2s?"#define USE_UV2":"",G.vertexUv3s?"#define USE_UV3":"",G.pointsUvs?"#define USE_POINTS_UV":"",G.flatShading?"#define FLAT_SHADED":"",G.skinning?"#define USE_SKINNING":"",G.morphTargets?"#define USE_MORPHTARGETS":"",G.morphNormals&&G.flatShading===!1?"#define USE_MORPHNORMALS":"",G.morphColors&&G.isWebGL2?"#define USE_MORPHCOLORS":"",G.morphTargetsCount>0&&G.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",G.morphTargetsCount>0&&G.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+G.morphTextureStride:"",G.morphTargetsCount>0&&G.isWebGL2?"#define MORPHTARGETS_COUNT "+G.morphTargetsCount:"",G.doubleSided?"#define DOUBLE_SIDED":"",G.flipSided?"#define FLIP_SIDED":"",G.shadowMapEnabled?"#define USE_SHADOWMAP":"",G.shadowMapEnabled?"#define "+D:"",G.sizeAttenuation?"#define USE_SIZEATTENUATION":"",G.numLightProbes>0?"#define USE_LIGHT_PROBES":"",G.useLegacyLights?"#define LEGACY_LIGHTS":"",G.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",G.logarithmicDepthBuffer&&G.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),se=[ie,generatePrecision(G),"#define SHADER_TYPE "+G.shaderType,"#define SHADER_NAME "+G.shaderName,ne,G.useFog&&G.fog?"#define USE_FOG":"",G.useFog&&G.fogExp2?"#define FOG_EXP2":"",G.map?"#define USE_MAP":"",G.matcap?"#define USE_MATCAP":"",G.envMap?"#define USE_ENVMAP":"",G.envMap?"#define "+Q:"",G.envMap?"#define "+ee:"",G.envMap?"#define "+q:"",te?"#define CUBEUV_TEXEL_WIDTH "+te.texelWidth:"",te?"#define CUBEUV_TEXEL_HEIGHT "+te.texelHeight:"",te?"#define CUBEUV_MAX_MIP "+te.maxMip+".0":"",G.lightMap?"#define USE_LIGHTMAP":"",G.aoMap?"#define USE_AOMAP":"",G.bumpMap?"#define USE_BUMPMAP":"",G.normalMap?"#define USE_NORMALMAP":"",G.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",G.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",G.emissiveMap?"#define USE_EMISSIVEMAP":"",G.anisotropy?"#define USE_ANISOTROPY":"",G.anisotropyMap?"#define USE_ANISOTROPYMAP":"",G.clearcoat?"#define USE_CLEARCOAT":"",G.clearcoatMap?"#define USE_CLEARCOATMAP":"",G.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",G.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",G.iridescence?"#define USE_IRIDESCENCE":"",G.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",G.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",G.specularMap?"#define USE_SPECULARMAP":"",G.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",G.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",G.roughnessMap?"#define USE_ROUGHNESSMAP":"",G.metalnessMap?"#define USE_METALNESSMAP":"",G.alphaMap?"#define USE_ALPHAMAP":"",G.alphaTest?"#define USE_ALPHATEST":"",G.alphaHash?"#define USE_ALPHAHASH":"",G.sheen?"#define USE_SHEEN":"",G.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",G.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",G.transmission?"#define USE_TRANSMISSION":"",G.transmissionMap?"#define USE_TRANSMISSIONMAP":"",G.thicknessMap?"#define USE_THICKNESSMAP":"",G.vertexTangents&&G.flatShading===!1?"#define USE_TANGENT":"",G.vertexColors||G.instancingColor?"#define USE_COLOR":"",G.vertexAlphas?"#define USE_COLOR_ALPHA":"",G.vertexUv1s?"#define USE_UV1":"",G.vertexUv2s?"#define USE_UV2":"",G.vertexUv3s?"#define USE_UV3":"",G.pointsUvs?"#define USE_POINTS_UV":"",G.gradientMap?"#define USE_GRADIENTMAP":"",G.flatShading?"#define FLAT_SHADED":"",G.doubleSided?"#define DOUBLE_SIDED":"",G.flipSided?"#define FLIP_SIDED":"",G.shadowMapEnabled?"#define USE_SHADOWMAP":"",G.shadowMapEnabled?"#define "+D:"",G.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",G.numLightProbes>0?"#define USE_LIGHT_PROBES":"",G.useLegacyLights?"#define LEGACY_LIGHTS":"",G.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",G.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",G.logarithmicDepthBuffer&&G.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",G.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",G.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",G.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",G.toneMapping):"",G.dithering?"#define DITHERING":"",G.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",G.outputColorSpace),G.useDepthPacking?"#define DEPTH_PACKING "+G.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),J=resolveIncludes(J),J=replaceLightNums(J,G),J=replaceClippingPlaneNums(J,G),Y=resolveIncludes(Y),Y=replaceLightNums(Y,G),Y=replaceClippingPlaneNums(Y,G),J=unrollLoops(J),Y=unrollLoops(Y),G.isWebGL2&&G.isRawShaderMaterial!==!0&&(pe=`#version 300 es
`,le=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+le,se=["precision mediump sampler2DArray;","#define varying in",G.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",G.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+se);const ue=pe+le+J,ae=pe+se+Y,de=WebGLShader(F,F.VERTEX_SHADER,ue),be=WebGLShader(F,F.FRAGMENT_SHADER,ae);F.attachShader(ce,de),F.attachShader(ce,be),G.index0AttributeName!==void 0?F.bindAttribLocation(ce,0,G.index0AttributeName):G.morphTargets===!0&&F.bindAttribLocation(ce,0,"position"),F.linkProgram(ce);function he(fe){if(X.debug.checkShaderErrors){const Re=F.getProgramInfoLog(ce).trim(),ye=F.getShaderInfoLog(de).trim(),re=F.getShaderInfoLog(be).trim();let Ze=!0,Ge=!0;if(F.getProgramParameter(ce,F.LINK_STATUS)===!1)if(Ze=!1,typeof X.debug.onShaderError=="function")X.debug.onShaderError(F,ce,de,be);else{const ve=getShaderErrors(F,de,"vertex"),Te=getShaderErrors(F,be,"fragment");console.error("THREE.WebGLProgram: Shader Error "+F.getError()+" - VALIDATE_STATUS "+F.getProgramParameter(ce,F.VALIDATE_STATUS)+`

Program Info Log: `+Re+`
`+ve+`
`+Te)}else Re!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Re):(ye===""||re==="")&&(Ge=!1);Ge&&(fe.diagnostics={runnable:Ze,programLog:Re,vertexShader:{log:ye,prefix:le},fragmentShader:{log:re,prefix:se}})}F.deleteShader(de),F.deleteShader(be),Le=new WebGLUniforms(F,ce),Xe=fetchAttributeLocations(F,ce)}let Le;this.getUniforms=function(){return Le===void 0&&he(this),Le};let Xe;this.getAttributes=function(){return Xe===void 0&&he(this),Xe};let We=G.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return We===!1&&(We=F.getProgramParameter(ce,COMPLETION_STATUS_KHR)),We},this.destroy=function(){W.releaseStatesOfProgram(this),F.deleteProgram(ce),this.program=void 0},this.type=G.shaderType,this.name=G.shaderName,this.id=programIdCount++,this.cacheKey=Z,this.usedTimes=1,this.program=ce,this.vertexShader=de,this.fragmentShader=be,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(Z){const G=Z.vertexShader,W=Z.fragmentShader,F=this._getShaderStage(G),U=this._getShaderStage(W),J=this._getShaderCacheForMaterial(Z);return J.has(F)===!1&&(J.add(F),F.usedTimes++),J.has(U)===!1&&(J.add(U),U.usedTimes++),this}remove(Z){const G=this.materialCache.get(Z);for(const W of G)W.usedTimes--,W.usedTimes===0&&this.shaderCache.delete(W.code);return this.materialCache.delete(Z),this}getVertexShaderID(Z){return this._getShaderStage(Z.vertexShader).id}getFragmentShaderID(Z){return this._getShaderStage(Z.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(Z){const G=this.materialCache;let W=G.get(Z);return W===void 0&&(W=new Set,G.set(Z,W)),W}_getShaderStage(Z){const G=this.shaderCache;let W=G.get(Z);return W===void 0&&(W=new WebGLShaderStage(Z),G.set(Z,W)),W}}class WebGLShaderStage{constructor(Z){this.id=_id$1++,this.code=Z,this.usedTimes=0}}function WebGLPrograms(X,Z,G,W,F,U,J){const Y=new Layers,D=new WebGLShaderCache,Q=[],ee=F.isWebGL2,q=F.logarithmicDepthBuffer,te=F.vertexTextures;let ie=F.precision;const ne={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ce(Xe){return Xe===0?"uv":`uv${Xe}`}function le(Xe,We,fe,Re,ye){const re=Re.fog,Ze=ye.geometry,Ge=Xe.isMeshStandardMaterial?Re.environment:null,ve=(Xe.isMeshStandardMaterial?G:Z).get(Xe.envMap||Ge),Te=ve&&ve.mapping===CubeUVReflectionMapping?ve.image.height:null,xe=ne[Xe.type];Xe.precision!==null&&(ie=F.getMaxPrecision(Xe.precision),ie!==Xe.precision&&console.warn("THREE.WebGLProgram.getParameters:",Xe.precision,"not supported, using",ie,"instead."));const Ie=Ze.morphAttributes.position||Ze.morphAttributes.normal||Ze.morphAttributes.color,Se=Ie!==void 0?Ie.length:0;let Ne=0;Ze.morphAttributes.position!==void 0&&(Ne=1),Ze.morphAttributes.normal!==void 0&&(Ne=2),Ze.morphAttributes.color!==void 0&&(Ne=3);let je,tt,it,st;if(xe){const jt=ShaderLib[xe];je=jt.vertexShader,tt=jt.fragmentShader}else je=Xe.vertexShader,tt=Xe.fragmentShader,D.update(Xe),it=D.getVertexShaderID(Xe),st=D.getFragmentShaderID(Xe);const qe=X.getRenderTarget(),ot=ye.isInstancedMesh===!0,ut=!!Xe.map,dt=!!Xe.matcap,mt=!!ve,Je=!!Xe.aoMap,Me=!!Xe.lightMap,ke=!!Xe.bumpMap,Ye=!!Xe.normalMap,Ce=!!Xe.displacementMap,ze=!!Xe.emissiveMap,Ee=!!Xe.metalnessMap,_e=!!Xe.roughnessMap,He=Xe.anisotropy>0,Pe=Xe.clearcoat>0,$e=Xe.iridescence>0,we=Xe.sheen>0,Ue=Xe.transmission>0,et=He&&!!Xe.anisotropyMap,at=Pe&&!!Xe.clearcoatMap,Ve=Pe&&!!Xe.clearcoatNormalMap,oe=Pe&&!!Xe.clearcoatRoughnessMap,me=$e&&!!Xe.iridescenceMap,ge=$e&&!!Xe.iridescenceThicknessMap,Fe=we&&!!Xe.sheenColorMap,Ke=we&&!!Xe.sheenRoughnessMap,Ae=!!Xe.specularMap,rt=!!Xe.specularColorMap,vt=!!Xe.specularIntensityMap,Vt=Ue&&!!Xe.transmissionMap,Wt=Ue&&!!Xe.thicknessMap,ft=!!Xe.gradientMap,Rt=!!Xe.alphaMap,It=Xe.alphaTest>0,ct=!!Xe.alphaHash,xt=!!Xe.extensions,Qe=!!Ze.attributes.uv1,nt=!!Ze.attributes.uv2,Xt=!!Ze.attributes.uv3;let St=NoToneMapping;return Xe.toneMapped&&(qe===null||qe.isXRRenderTarget===!0)&&(St=X.toneMapping),{isWebGL2:ee,shaderID:xe,shaderType:Xe.type,shaderName:Xe.name,vertexShader:je,fragmentShader:tt,defines:Xe.defines,customVertexShaderID:it,customFragmentShaderID:st,isRawShaderMaterial:Xe.isRawShaderMaterial===!0,glslVersion:Xe.glslVersion,precision:ie,instancing:ot,instancingColor:ot&&ye.instanceColor!==null,supportsVertexTextures:te,outputColorSpace:qe===null?X.outputColorSpace:qe.isXRRenderTarget===!0?qe.texture.colorSpace:LinearSRGBColorSpace,map:ut,matcap:dt,envMap:mt,envMapMode:mt&&ve.mapping,envMapCubeUVHeight:Te,aoMap:Je,lightMap:Me,bumpMap:ke,normalMap:Ye,displacementMap:te&&Ce,emissiveMap:ze,normalMapObjectSpace:Ye&&Xe.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Ye&&Xe.normalMapType===TangentSpaceNormalMap,metalnessMap:Ee,roughnessMap:_e,anisotropy:He,anisotropyMap:et,clearcoat:Pe,clearcoatMap:at,clearcoatNormalMap:Ve,clearcoatRoughnessMap:oe,iridescence:$e,iridescenceMap:me,iridescenceThicknessMap:ge,sheen:we,sheenColorMap:Fe,sheenRoughnessMap:Ke,specularMap:Ae,specularColorMap:rt,specularIntensityMap:vt,transmission:Ue,transmissionMap:Vt,thicknessMap:Wt,gradientMap:ft,opaque:Xe.transparent===!1&&Xe.blending===NormalBlending,alphaMap:Rt,alphaTest:It,alphaHash:ct,combine:Xe.combine,mapUv:ut&&ce(Xe.map.channel),aoMapUv:Je&&ce(Xe.aoMap.channel),lightMapUv:Me&&ce(Xe.lightMap.channel),bumpMapUv:ke&&ce(Xe.bumpMap.channel),normalMapUv:Ye&&ce(Xe.normalMap.channel),displacementMapUv:Ce&&ce(Xe.displacementMap.channel),emissiveMapUv:ze&&ce(Xe.emissiveMap.channel),metalnessMapUv:Ee&&ce(Xe.metalnessMap.channel),roughnessMapUv:_e&&ce(Xe.roughnessMap.channel),anisotropyMapUv:et&&ce(Xe.anisotropyMap.channel),clearcoatMapUv:at&&ce(Xe.clearcoatMap.channel),clearcoatNormalMapUv:Ve&&ce(Xe.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:oe&&ce(Xe.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&ce(Xe.iridescenceMap.channel),iridescenceThicknessMapUv:ge&&ce(Xe.iridescenceThicknessMap.channel),sheenColorMapUv:Fe&&ce(Xe.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&ce(Xe.sheenRoughnessMap.channel),specularMapUv:Ae&&ce(Xe.specularMap.channel),specularColorMapUv:rt&&ce(Xe.specularColorMap.channel),specularIntensityMapUv:vt&&ce(Xe.specularIntensityMap.channel),transmissionMapUv:Vt&&ce(Xe.transmissionMap.channel),thicknessMapUv:Wt&&ce(Xe.thicknessMap.channel),alphaMapUv:Rt&&ce(Xe.alphaMap.channel),vertexTangents:!!Ze.attributes.tangent&&(Ye||He),vertexColors:Xe.vertexColors,vertexAlphas:Xe.vertexColors===!0&&!!Ze.attributes.color&&Ze.attributes.color.itemSize===4,vertexUv1s:Qe,vertexUv2s:nt,vertexUv3s:Xt,pointsUvs:ye.isPoints===!0&&!!Ze.attributes.uv&&(ut||Rt),fog:!!re,useFog:Xe.fog===!0,fogExp2:re&&re.isFogExp2,flatShading:Xe.flatShading===!0,sizeAttenuation:Xe.sizeAttenuation===!0,logarithmicDepthBuffer:q,skinning:ye.isSkinnedMesh===!0,morphTargets:Ze.morphAttributes.position!==void 0,morphNormals:Ze.morphAttributes.normal!==void 0,morphColors:Ze.morphAttributes.color!==void 0,morphTargetsCount:Se,morphTextureStride:Ne,numDirLights:We.directional.length,numPointLights:We.point.length,numSpotLights:We.spot.length,numSpotLightMaps:We.spotLightMap.length,numRectAreaLights:We.rectArea.length,numHemiLights:We.hemi.length,numDirLightShadows:We.directionalShadowMap.length,numPointLightShadows:We.pointShadowMap.length,numSpotLightShadows:We.spotShadowMap.length,numSpotLightShadowsWithMaps:We.numSpotLightShadowsWithMaps,numLightProbes:We.numLightProbes,numClippingPlanes:J.numPlanes,numClipIntersection:J.numIntersection,dithering:Xe.dithering,shadowMapEnabled:X.shadowMap.enabled&&fe.length>0,shadowMapType:X.shadowMap.type,toneMapping:St,useLegacyLights:X._useLegacyLights,decodeVideoTexture:ut&&Xe.map.isVideoTexture===!0&&ColorManagement.getTransfer(Xe.map.colorSpace)===SRGBTransfer,premultipliedAlpha:Xe.premultipliedAlpha,doubleSided:Xe.side===DoubleSide,flipSided:Xe.side===BackSide,useDepthPacking:Xe.depthPacking>=0,depthPacking:Xe.depthPacking||0,index0AttributeName:Xe.index0AttributeName,extensionDerivatives:xt&&Xe.extensions.derivatives===!0,extensionFragDepth:xt&&Xe.extensions.fragDepth===!0,extensionDrawBuffers:xt&&Xe.extensions.drawBuffers===!0,extensionShaderTextureLOD:xt&&Xe.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:ee||W.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ee||W.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ee||W.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:W.has("KHR_parallel_shader_compile"),customProgramCacheKey:Xe.customProgramCacheKey()}}function se(Xe){const We=[];if(Xe.shaderID?We.push(Xe.shaderID):(We.push(Xe.customVertexShaderID),We.push(Xe.customFragmentShaderID)),Xe.defines!==void 0)for(const fe in Xe.defines)We.push(fe),We.push(Xe.defines[fe]);return Xe.isRawShaderMaterial===!1&&(pe(We,Xe),ue(We,Xe),We.push(X.outputColorSpace)),We.push(Xe.customProgramCacheKey),We.join()}function pe(Xe,We){Xe.push(We.precision),Xe.push(We.outputColorSpace),Xe.push(We.envMapMode),Xe.push(We.envMapCubeUVHeight),Xe.push(We.mapUv),Xe.push(We.alphaMapUv),Xe.push(We.lightMapUv),Xe.push(We.aoMapUv),Xe.push(We.bumpMapUv),Xe.push(We.normalMapUv),Xe.push(We.displacementMapUv),Xe.push(We.emissiveMapUv),Xe.push(We.metalnessMapUv),Xe.push(We.roughnessMapUv),Xe.push(We.anisotropyMapUv),Xe.push(We.clearcoatMapUv),Xe.push(We.clearcoatNormalMapUv),Xe.push(We.clearcoatRoughnessMapUv),Xe.push(We.iridescenceMapUv),Xe.push(We.iridescenceThicknessMapUv),Xe.push(We.sheenColorMapUv),Xe.push(We.sheenRoughnessMapUv),Xe.push(We.specularMapUv),Xe.push(We.specularColorMapUv),Xe.push(We.specularIntensityMapUv),Xe.push(We.transmissionMapUv),Xe.push(We.thicknessMapUv),Xe.push(We.combine),Xe.push(We.fogExp2),Xe.push(We.sizeAttenuation),Xe.push(We.morphTargetsCount),Xe.push(We.morphAttributeCount),Xe.push(We.numDirLights),Xe.push(We.numPointLights),Xe.push(We.numSpotLights),Xe.push(We.numSpotLightMaps),Xe.push(We.numHemiLights),Xe.push(We.numRectAreaLights),Xe.push(We.numDirLightShadows),Xe.push(We.numPointLightShadows),Xe.push(We.numSpotLightShadows),Xe.push(We.numSpotLightShadowsWithMaps),Xe.push(We.numLightProbes),Xe.push(We.shadowMapType),Xe.push(We.toneMapping),Xe.push(We.numClippingPlanes),Xe.push(We.numClipIntersection),Xe.push(We.depthPacking)}function ue(Xe,We){Y.disableAll(),We.isWebGL2&&Y.enable(0),We.supportsVertexTextures&&Y.enable(1),We.instancing&&Y.enable(2),We.instancingColor&&Y.enable(3),We.matcap&&Y.enable(4),We.envMap&&Y.enable(5),We.normalMapObjectSpace&&Y.enable(6),We.normalMapTangentSpace&&Y.enable(7),We.clearcoat&&Y.enable(8),We.iridescence&&Y.enable(9),We.alphaTest&&Y.enable(10),We.vertexColors&&Y.enable(11),We.vertexAlphas&&Y.enable(12),We.vertexUv1s&&Y.enable(13),We.vertexUv2s&&Y.enable(14),We.vertexUv3s&&Y.enable(15),We.vertexTangents&&Y.enable(16),We.anisotropy&&Y.enable(17),We.alphaHash&&Y.enable(18),Xe.push(Y.mask),Y.disableAll(),We.fog&&Y.enable(0),We.useFog&&Y.enable(1),We.flatShading&&Y.enable(2),We.logarithmicDepthBuffer&&Y.enable(3),We.skinning&&Y.enable(4),We.morphTargets&&Y.enable(5),We.morphNormals&&Y.enable(6),We.morphColors&&Y.enable(7),We.premultipliedAlpha&&Y.enable(8),We.shadowMapEnabled&&Y.enable(9),We.useLegacyLights&&Y.enable(10),We.doubleSided&&Y.enable(11),We.flipSided&&Y.enable(12),We.useDepthPacking&&Y.enable(13),We.dithering&&Y.enable(14),We.transmission&&Y.enable(15),We.sheen&&Y.enable(16),We.opaque&&Y.enable(17),We.pointsUvs&&Y.enable(18),We.decodeVideoTexture&&Y.enable(19),Xe.push(Y.mask)}function ae(Xe){const We=ne[Xe.type];let fe;if(We){const Re=ShaderLib[We];fe=UniformsUtils.clone(Re.uniforms)}else fe=Xe.uniforms;return fe}function de(Xe,We){let fe;for(let Re=0,ye=Q.length;Re<ye;Re++){const re=Q[Re];if(re.cacheKey===We){fe=re,++fe.usedTimes;break}}return fe===void 0&&(fe=new WebGLProgram(X,We,Xe,U),Q.push(fe)),fe}function be(Xe){if(--Xe.usedTimes===0){const We=Q.indexOf(Xe);Q[We]=Q[Q.length-1],Q.pop(),Xe.destroy()}}function he(Xe){D.remove(Xe)}function Le(){D.dispose()}return{getParameters:le,getProgramCacheKey:se,getUniforms:ae,acquireProgram:de,releaseProgram:be,releaseShaderCache:he,programs:Q,dispose:Le}}function WebGLProperties(){let X=new WeakMap;function Z(U){let J=X.get(U);return J===void 0&&(J={},X.set(U,J)),J}function G(U){X.delete(U)}function W(U,J,Y){X.get(U)[J]=Y}function F(){X=new WeakMap}return{get:Z,remove:G,update:W,dispose:F}}function painterSortStable(X,Z){return X.groupOrder!==Z.groupOrder?X.groupOrder-Z.groupOrder:X.renderOrder!==Z.renderOrder?X.renderOrder-Z.renderOrder:X.material.id!==Z.material.id?X.material.id-Z.material.id:X.z!==Z.z?X.z-Z.z:X.id-Z.id}function reversePainterSortStable(X,Z){return X.groupOrder!==Z.groupOrder?X.groupOrder-Z.groupOrder:X.renderOrder!==Z.renderOrder?X.renderOrder-Z.renderOrder:X.z!==Z.z?Z.z-X.z:X.id-Z.id}function WebGLRenderList(){const X=[];let Z=0;const G=[],W=[],F=[];function U(){Z=0,G.length=0,W.length=0,F.length=0}function J(q,te,ie,ne,ce,le){let se=X[Z];return se===void 0?(se={id:q.id,object:q,geometry:te,material:ie,groupOrder:ne,renderOrder:q.renderOrder,z:ce,group:le},X[Z]=se):(se.id=q.id,se.object=q,se.geometry=te,se.material=ie,se.groupOrder=ne,se.renderOrder=q.renderOrder,se.z=ce,se.group=le),Z++,se}function Y(q,te,ie,ne,ce,le){const se=J(q,te,ie,ne,ce,le);ie.transmission>0?W.push(se):ie.transparent===!0?F.push(se):G.push(se)}function D(q,te,ie,ne,ce,le){const se=J(q,te,ie,ne,ce,le);ie.transmission>0?W.unshift(se):ie.transparent===!0?F.unshift(se):G.unshift(se)}function Q(q,te){G.length>1&&G.sort(q||painterSortStable),W.length>1&&W.sort(te||reversePainterSortStable),F.length>1&&F.sort(te||reversePainterSortStable)}function ee(){for(let q=Z,te=X.length;q<te;q++){const ie=X[q];if(ie.id===null)break;ie.id=null,ie.object=null,ie.geometry=null,ie.material=null,ie.group=null}}return{opaque:G,transmissive:W,transparent:F,init:U,push:Y,unshift:D,finish:ee,sort:Q}}function WebGLRenderLists(){let X=new WeakMap;function Z(W,F){const U=X.get(W);let J;return U===void 0?(J=new WebGLRenderList,X.set(W,[J])):F>=U.length?(J=new WebGLRenderList,U.push(J)):J=U[F],J}function G(){X=new WeakMap}return{get:Z,dispose:G}}function UniformsCache(){const X={};return{get:function(Z){if(X[Z.id]!==void 0)return X[Z.id];let G;switch(Z.type){case"DirectionalLight":G={direction:new Vector3,color:new Color};break;case"SpotLight":G={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":G={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":G={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":G={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return X[Z.id]=G,G}}}function ShadowUniformsCache(){const X={};return{get:function(Z){if(X[Z.id]!==void 0)return X[Z.id];let G;switch(Z.type){case"DirectionalLight":G={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":G={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":G={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return X[Z.id]=G,G}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(X,Z){return(Z.castShadow?2:0)-(X.castShadow?2:0)+(Z.map?1:0)-(X.map?1:0)}function WebGLLights(X,Z){const G=new UniformsCache,W=ShadowUniformsCache(),F={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ee=0;ee<9;ee++)F.probe.push(new Vector3);const U=new Vector3,J=new Matrix4,Y=new Matrix4;function D(ee,q){let te=0,ie=0,ne=0;for(let Re=0;Re<9;Re++)F.probe[Re].set(0,0,0);let ce=0,le=0,se=0,pe=0,ue=0,ae=0,de=0,be=0,he=0,Le=0,Xe=0;ee.sort(shadowCastingAndTexturingLightsFirst);const We=q===!0?Math.PI:1;for(let Re=0,ye=ee.length;Re<ye;Re++){const re=ee[Re],Ze=re.color,Ge=re.intensity,ve=re.distance,Te=re.shadow&&re.shadow.map?re.shadow.map.texture:null;if(re.isAmbientLight)te+=Ze.r*Ge*We,ie+=Ze.g*Ge*We,ne+=Ze.b*Ge*We;else if(re.isLightProbe){for(let xe=0;xe<9;xe++)F.probe[xe].addScaledVector(re.sh.coefficients[xe],Ge);Xe++}else if(re.isDirectionalLight){const xe=G.get(re);if(xe.color.copy(re.color).multiplyScalar(re.intensity*We),re.castShadow){const Ie=re.shadow,Se=W.get(re);Se.shadowBias=Ie.bias,Se.shadowNormalBias=Ie.normalBias,Se.shadowRadius=Ie.radius,Se.shadowMapSize=Ie.mapSize,F.directionalShadow[ce]=Se,F.directionalShadowMap[ce]=Te,F.directionalShadowMatrix[ce]=re.shadow.matrix,ae++}F.directional[ce]=xe,ce++}else if(re.isSpotLight){const xe=G.get(re);xe.position.setFromMatrixPosition(re.matrixWorld),xe.color.copy(Ze).multiplyScalar(Ge*We),xe.distance=ve,xe.coneCos=Math.cos(re.angle),xe.penumbraCos=Math.cos(re.angle*(1-re.penumbra)),xe.decay=re.decay,F.spot[se]=xe;const Ie=re.shadow;if(re.map&&(F.spotLightMap[he]=re.map,he++,Ie.updateMatrices(re),re.castShadow&&Le++),F.spotLightMatrix[se]=Ie.matrix,re.castShadow){const Se=W.get(re);Se.shadowBias=Ie.bias,Se.shadowNormalBias=Ie.normalBias,Se.shadowRadius=Ie.radius,Se.shadowMapSize=Ie.mapSize,F.spotShadow[se]=Se,F.spotShadowMap[se]=Te,be++}se++}else if(re.isRectAreaLight){const xe=G.get(re);xe.color.copy(Ze).multiplyScalar(Ge),xe.halfWidth.set(re.width*.5,0,0),xe.halfHeight.set(0,re.height*.5,0),F.rectArea[pe]=xe,pe++}else if(re.isPointLight){const xe=G.get(re);if(xe.color.copy(re.color).multiplyScalar(re.intensity*We),xe.distance=re.distance,xe.decay=re.decay,re.castShadow){const Ie=re.shadow,Se=W.get(re);Se.shadowBias=Ie.bias,Se.shadowNormalBias=Ie.normalBias,Se.shadowRadius=Ie.radius,Se.shadowMapSize=Ie.mapSize,Se.shadowCameraNear=Ie.camera.near,Se.shadowCameraFar=Ie.camera.far,F.pointShadow[le]=Se,F.pointShadowMap[le]=Te,F.pointShadowMatrix[le]=re.shadow.matrix,de++}F.point[le]=xe,le++}else if(re.isHemisphereLight){const xe=G.get(re);xe.skyColor.copy(re.color).multiplyScalar(Ge*We),xe.groundColor.copy(re.groundColor).multiplyScalar(Ge*We),F.hemi[ue]=xe,ue++}}pe>0&&(Z.isWebGL2||X.has("OES_texture_float_linear")===!0?(F.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,F.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):X.has("OES_texture_half_float_linear")===!0?(F.rectAreaLTC1=UniformsLib.LTC_HALF_1,F.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),F.ambient[0]=te,F.ambient[1]=ie,F.ambient[2]=ne;const fe=F.hash;(fe.directionalLength!==ce||fe.pointLength!==le||fe.spotLength!==se||fe.rectAreaLength!==pe||fe.hemiLength!==ue||fe.numDirectionalShadows!==ae||fe.numPointShadows!==de||fe.numSpotShadows!==be||fe.numSpotMaps!==he||fe.numLightProbes!==Xe)&&(F.directional.length=ce,F.spot.length=se,F.rectArea.length=pe,F.point.length=le,F.hemi.length=ue,F.directionalShadow.length=ae,F.directionalShadowMap.length=ae,F.pointShadow.length=de,F.pointShadowMap.length=de,F.spotShadow.length=be,F.spotShadowMap.length=be,F.directionalShadowMatrix.length=ae,F.pointShadowMatrix.length=de,F.spotLightMatrix.length=be+he-Le,F.spotLightMap.length=he,F.numSpotLightShadowsWithMaps=Le,F.numLightProbes=Xe,fe.directionalLength=ce,fe.pointLength=le,fe.spotLength=se,fe.rectAreaLength=pe,fe.hemiLength=ue,fe.numDirectionalShadows=ae,fe.numPointShadows=de,fe.numSpotShadows=be,fe.numSpotMaps=he,fe.numLightProbes=Xe,F.version=nextVersion++)}function Q(ee,q){let te=0,ie=0,ne=0,ce=0,le=0;const se=q.matrixWorldInverse;for(let pe=0,ue=ee.length;pe<ue;pe++){const ae=ee[pe];if(ae.isDirectionalLight){const de=F.directional[te];de.direction.setFromMatrixPosition(ae.matrixWorld),U.setFromMatrixPosition(ae.target.matrixWorld),de.direction.sub(U),de.direction.transformDirection(se),te++}else if(ae.isSpotLight){const de=F.spot[ne];de.position.setFromMatrixPosition(ae.matrixWorld),de.position.applyMatrix4(se),de.direction.setFromMatrixPosition(ae.matrixWorld),U.setFromMatrixPosition(ae.target.matrixWorld),de.direction.sub(U),de.direction.transformDirection(se),ne++}else if(ae.isRectAreaLight){const de=F.rectArea[ce];de.position.setFromMatrixPosition(ae.matrixWorld),de.position.applyMatrix4(se),Y.identity(),J.copy(ae.matrixWorld),J.premultiply(se),Y.extractRotation(J),de.halfWidth.set(ae.width*.5,0,0),de.halfHeight.set(0,ae.height*.5,0),de.halfWidth.applyMatrix4(Y),de.halfHeight.applyMatrix4(Y),ce++}else if(ae.isPointLight){const de=F.point[ie];de.position.setFromMatrixPosition(ae.matrixWorld),de.position.applyMatrix4(se),ie++}else if(ae.isHemisphereLight){const de=F.hemi[le];de.direction.setFromMatrixPosition(ae.matrixWorld),de.direction.transformDirection(se),le++}}}return{setup:D,setupView:Q,state:F}}function WebGLRenderState(X,Z){const G=new WebGLLights(X,Z),W=[],F=[];function U(){W.length=0,F.length=0}function J(q){W.push(q)}function Y(q){F.push(q)}function D(q){G.setup(W,q)}function Q(q){G.setupView(W,q)}return{init:U,state:{lightsArray:W,shadowsArray:F,lights:G},setupLights:D,setupLightsView:Q,pushLight:J,pushShadow:Y}}function WebGLRenderStates(X,Z){let G=new WeakMap;function W(U,J=0){const Y=G.get(U);let D;return Y===void 0?(D=new WebGLRenderState(X,Z),G.set(U,[D])):J>=Y.length?(D=new WebGLRenderState(X,Z),Y.push(D)):D=Y[J],D}function F(){G=new WeakMap}return{get:W,dispose:F}}class MeshDepthMaterial extends Material{constructor(Z){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(Z)}copy(Z){return super.copy(Z),this.depthPacking=Z.depthPacking,this.map=Z.map,this.alphaMap=Z.alphaMap,this.displacementMap=Z.displacementMap,this.displacementScale=Z.displacementScale,this.displacementBias=Z.displacementBias,this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(Z){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(Z)}copy(Z){return super.copy(Z),this.map=Z.map,this.alphaMap=Z.alphaMap,this.displacementMap=Z.displacementMap,this.displacementScale=Z.displacementScale,this.displacementBias=Z.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(X,Z,G){let W=new Frustum;const F=new Vector2,U=new Vector2,J=new Vector4,Y=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),D=new MeshDistanceMaterial,Q={},ee=G.maxTextureSize,q={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},te=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ie=te.clone();ie.defines.HORIZONTAL_PASS=1;const ne=new BufferGeometry;ne.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ce=new Mesh(ne,te),le=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let se=this.type;this.render=function(de,be,he){if(le.enabled===!1||le.autoUpdate===!1&&le.needsUpdate===!1||de.length===0)return;const Le=X.getRenderTarget(),Xe=X.getActiveCubeFace(),We=X.getActiveMipmapLevel(),fe=X.state;fe.setBlending(NoBlending),fe.buffers.color.setClear(1,1,1,1),fe.buffers.depth.setTest(!0),fe.setScissorTest(!1);const Re=se!==VSMShadowMap&&this.type===VSMShadowMap,ye=se===VSMShadowMap&&this.type!==VSMShadowMap;for(let re=0,Ze=de.length;re<Ze;re++){const Ge=de[re],ve=Ge.shadow;if(ve===void 0){console.warn("THREE.WebGLShadowMap:",Ge,"has no shadow.");continue}if(ve.autoUpdate===!1&&ve.needsUpdate===!1)continue;F.copy(ve.mapSize);const Te=ve.getFrameExtents();if(F.multiply(Te),U.copy(ve.mapSize),(F.x>ee||F.y>ee)&&(F.x>ee&&(U.x=Math.floor(ee/Te.x),F.x=U.x*Te.x,ve.mapSize.x=U.x),F.y>ee&&(U.y=Math.floor(ee/Te.y),F.y=U.y*Te.y,ve.mapSize.y=U.y)),ve.map===null||Re===!0||ye===!0){const Ie=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};ve.map!==null&&ve.map.dispose(),ve.map=new WebGLRenderTarget(F.x,F.y,Ie),ve.map.texture.name=Ge.name+".shadowMap",ve.camera.updateProjectionMatrix()}X.setRenderTarget(ve.map),X.clear();const xe=ve.getViewportCount();for(let Ie=0;Ie<xe;Ie++){const Se=ve.getViewport(Ie);J.set(U.x*Se.x,U.y*Se.y,U.x*Se.z,U.y*Se.w),fe.viewport(J),ve.updateMatrices(Ge,Ie),W=ve.getFrustum(),ae(be,he,ve.camera,Ge,this.type)}ve.isPointLightShadow!==!0&&this.type===VSMShadowMap&&pe(ve,he),ve.needsUpdate=!1}se=this.type,le.needsUpdate=!1,X.setRenderTarget(Le,Xe,We)};function pe(de,be){const he=Z.update(ce);te.defines.VSM_SAMPLES!==de.blurSamples&&(te.defines.VSM_SAMPLES=de.blurSamples,ie.defines.VSM_SAMPLES=de.blurSamples,te.needsUpdate=!0,ie.needsUpdate=!0),de.mapPass===null&&(de.mapPass=new WebGLRenderTarget(F.x,F.y)),te.uniforms.shadow_pass.value=de.map.texture,te.uniforms.resolution.value=de.mapSize,te.uniforms.radius.value=de.radius,X.setRenderTarget(de.mapPass),X.clear(),X.renderBufferDirect(be,null,he,te,ce,null),ie.uniforms.shadow_pass.value=de.mapPass.texture,ie.uniforms.resolution.value=de.mapSize,ie.uniforms.radius.value=de.radius,X.setRenderTarget(de.map),X.clear(),X.renderBufferDirect(be,null,he,ie,ce,null)}function ue(de,be,he,Le){let Xe=null;const We=he.isPointLight===!0?de.customDistanceMaterial:de.customDepthMaterial;if(We!==void 0)Xe=We;else if(Xe=he.isPointLight===!0?D:Y,X.localClippingEnabled&&be.clipShadows===!0&&Array.isArray(be.clippingPlanes)&&be.clippingPlanes.length!==0||be.displacementMap&&be.displacementScale!==0||be.alphaMap&&be.alphaTest>0||be.map&&be.alphaTest>0){const fe=Xe.uuid,Re=be.uuid;let ye=Q[fe];ye===void 0&&(ye={},Q[fe]=ye);let re=ye[Re];re===void 0&&(re=Xe.clone(),ye[Re]=re),Xe=re}if(Xe.visible=be.visible,Xe.wireframe=be.wireframe,Le===VSMShadowMap?Xe.side=be.shadowSide!==null?be.shadowSide:be.side:Xe.side=be.shadowSide!==null?be.shadowSide:q[be.side],Xe.alphaMap=be.alphaMap,Xe.alphaTest=be.alphaTest,Xe.map=be.map,Xe.clipShadows=be.clipShadows,Xe.clippingPlanes=be.clippingPlanes,Xe.clipIntersection=be.clipIntersection,Xe.displacementMap=be.displacementMap,Xe.displacementScale=be.displacementScale,Xe.displacementBias=be.displacementBias,Xe.wireframeLinewidth=be.wireframeLinewidth,Xe.linewidth=be.linewidth,he.isPointLight===!0&&Xe.isMeshDistanceMaterial===!0){const fe=X.properties.get(Xe);fe.light=he}return Xe}function ae(de,be,he,Le,Xe){if(de.visible===!1)return;if(de.layers.test(be.layers)&&(de.isMesh||de.isLine||de.isPoints)&&(de.castShadow||de.receiveShadow&&Xe===VSMShadowMap)&&(!de.frustumCulled||W.intersectsObject(de))){de.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,de.matrixWorld);const Re=Z.update(de),ye=de.material;if(Array.isArray(ye)){const re=Re.groups;for(let Ze=0,Ge=re.length;Ze<Ge;Ze++){const ve=re[Ze],Te=ye[ve.materialIndex];if(Te&&Te.visible){const xe=ue(de,Te,Le,Xe);X.renderBufferDirect(he,null,Re,xe,de,ve)}}}else if(ye.visible){const re=ue(de,ye,Le,Xe);X.renderBufferDirect(he,null,Re,re,de,null)}}const fe=de.children;for(let Re=0,ye=fe.length;Re<ye;Re++)ae(fe[Re],be,he,Le,Xe)}}function WebGLState(X,Z,G){const W=G.isWebGL2;function F(){let ct=!1;const xt=new Vector4;let Qe=null;const nt=new Vector4(0,0,0,0);return{setMask:function(Xt){Qe!==Xt&&!ct&&(X.colorMask(Xt,Xt,Xt,Xt),Qe=Xt)},setLocked:function(Xt){ct=Xt},setClear:function(Xt,St,Mt,jt,sn){sn===!0&&(Xt*=jt,St*=jt,Mt*=jt),xt.set(Xt,St,Mt,jt),nt.equals(xt)===!1&&(X.clearColor(Xt,St,Mt,jt),nt.copy(xt))},reset:function(){ct=!1,Qe=null,nt.set(-1,0,0,0)}}}function U(){let ct=!1,xt=null,Qe=null,nt=null;return{setTest:function(Xt){Xt?ut(X.DEPTH_TEST):dt(X.DEPTH_TEST)},setMask:function(Xt){xt!==Xt&&!ct&&(X.depthMask(Xt),xt=Xt)},setFunc:function(Xt){if(Qe!==Xt){switch(Xt){case NeverDepth:X.depthFunc(X.NEVER);break;case AlwaysDepth:X.depthFunc(X.ALWAYS);break;case LessDepth:X.depthFunc(X.LESS);break;case LessEqualDepth:X.depthFunc(X.LEQUAL);break;case EqualDepth:X.depthFunc(X.EQUAL);break;case GreaterEqualDepth:X.depthFunc(X.GEQUAL);break;case GreaterDepth:X.depthFunc(X.GREATER);break;case NotEqualDepth:X.depthFunc(X.NOTEQUAL);break;default:X.depthFunc(X.LEQUAL)}Qe=Xt}},setLocked:function(Xt){ct=Xt},setClear:function(Xt){nt!==Xt&&(X.clearDepth(Xt),nt=Xt)},reset:function(){ct=!1,xt=null,Qe=null,nt=null}}}function J(){let ct=!1,xt=null,Qe=null,nt=null,Xt=null,St=null,Mt=null,jt=null,sn=null;return{setTest:function(Ht){ct||(Ht?ut(X.STENCIL_TEST):dt(X.STENCIL_TEST))},setMask:function(Ht){xt!==Ht&&!ct&&(X.stencilMask(Ht),xt=Ht)},setFunc:function(Ht,an,Ot){(Qe!==Ht||nt!==an||Xt!==Ot)&&(X.stencilFunc(Ht,an,Ot),Qe=Ht,nt=an,Xt=Ot)},setOp:function(Ht,an,Ot){(St!==Ht||Mt!==an||jt!==Ot)&&(X.stencilOp(Ht,an,Ot),St=Ht,Mt=an,jt=Ot)},setLocked:function(Ht){ct=Ht},setClear:function(Ht){sn!==Ht&&(X.clearStencil(Ht),sn=Ht)},reset:function(){ct=!1,xt=null,Qe=null,nt=null,Xt=null,St=null,Mt=null,jt=null,sn=null}}}const Y=new F,D=new U,Q=new J,ee=new WeakMap,q=new WeakMap;let te={},ie={},ne=new WeakMap,ce=[],le=null,se=!1,pe=null,ue=null,ae=null,de=null,be=null,he=null,Le=null,Xe=new Color(0,0,0),We=0,fe=!1,Re=null,ye=null,re=null,Ze=null,Ge=null;const ve=X.getParameter(X.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Te=!1,xe=0;const Ie=X.getParameter(X.VERSION);Ie.indexOf("WebGL")!==-1?(xe=parseFloat(/^WebGL (\d)/.exec(Ie)[1]),Te=xe>=1):Ie.indexOf("OpenGL ES")!==-1&&(xe=parseFloat(/^OpenGL ES (\d)/.exec(Ie)[1]),Te=xe>=2);let Se=null,Ne={};const je=X.getParameter(X.SCISSOR_BOX),tt=X.getParameter(X.VIEWPORT),it=new Vector4().fromArray(je),st=new Vector4().fromArray(tt);function qe(ct,xt,Qe,nt){const Xt=new Uint8Array(4),St=X.createTexture();X.bindTexture(ct,St),X.texParameteri(ct,X.TEXTURE_MIN_FILTER,X.NEAREST),X.texParameteri(ct,X.TEXTURE_MAG_FILTER,X.NEAREST);for(let Mt=0;Mt<Qe;Mt++)W&&(ct===X.TEXTURE_3D||ct===X.TEXTURE_2D_ARRAY)?X.texImage3D(xt,0,X.RGBA,1,1,nt,0,X.RGBA,X.UNSIGNED_BYTE,Xt):X.texImage2D(xt+Mt,0,X.RGBA,1,1,0,X.RGBA,X.UNSIGNED_BYTE,Xt);return St}const ot={};ot[X.TEXTURE_2D]=qe(X.TEXTURE_2D,X.TEXTURE_2D,1),ot[X.TEXTURE_CUBE_MAP]=qe(X.TEXTURE_CUBE_MAP,X.TEXTURE_CUBE_MAP_POSITIVE_X,6),W&&(ot[X.TEXTURE_2D_ARRAY]=qe(X.TEXTURE_2D_ARRAY,X.TEXTURE_2D_ARRAY,1,1),ot[X.TEXTURE_3D]=qe(X.TEXTURE_3D,X.TEXTURE_3D,1,1)),Y.setClear(0,0,0,1),D.setClear(1),Q.setClear(0),ut(X.DEPTH_TEST),D.setFunc(LessEqualDepth),Ee(!1),_e(CullFaceBack),ut(X.CULL_FACE),Ce(NoBlending);function ut(ct){te[ct]!==!0&&(X.enable(ct),te[ct]=!0)}function dt(ct){te[ct]!==!1&&(X.disable(ct),te[ct]=!1)}function mt(ct,xt){return ie[ct]!==xt?(X.bindFramebuffer(ct,xt),ie[ct]=xt,W&&(ct===X.DRAW_FRAMEBUFFER&&(ie[X.FRAMEBUFFER]=xt),ct===X.FRAMEBUFFER&&(ie[X.DRAW_FRAMEBUFFER]=xt)),!0):!1}function Je(ct,xt){let Qe=ce,nt=!1;if(ct)if(Qe=ne.get(xt),Qe===void 0&&(Qe=[],ne.set(xt,Qe)),ct.isWebGLMultipleRenderTargets){const Xt=ct.texture;if(Qe.length!==Xt.length||Qe[0]!==X.COLOR_ATTACHMENT0){for(let St=0,Mt=Xt.length;St<Mt;St++)Qe[St]=X.COLOR_ATTACHMENT0+St;Qe.length=Xt.length,nt=!0}}else Qe[0]!==X.COLOR_ATTACHMENT0&&(Qe[0]=X.COLOR_ATTACHMENT0,nt=!0);else Qe[0]!==X.BACK&&(Qe[0]=X.BACK,nt=!0);nt&&(G.isWebGL2?X.drawBuffers(Qe):Z.get("WEBGL_draw_buffers").drawBuffersWEBGL(Qe))}function Me(ct){return le!==ct?(X.useProgram(ct),le=ct,!0):!1}const ke={[AddEquation]:X.FUNC_ADD,[SubtractEquation]:X.FUNC_SUBTRACT,[ReverseSubtractEquation]:X.FUNC_REVERSE_SUBTRACT};if(W)ke[MinEquation]=X.MIN,ke[MaxEquation]=X.MAX;else{const ct=Z.get("EXT_blend_minmax");ct!==null&&(ke[MinEquation]=ct.MIN_EXT,ke[MaxEquation]=ct.MAX_EXT)}const Ye={[ZeroFactor]:X.ZERO,[OneFactor]:X.ONE,[SrcColorFactor]:X.SRC_COLOR,[SrcAlphaFactor]:X.SRC_ALPHA,[SrcAlphaSaturateFactor]:X.SRC_ALPHA_SATURATE,[DstColorFactor]:X.DST_COLOR,[DstAlphaFactor]:X.DST_ALPHA,[OneMinusSrcColorFactor]:X.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:X.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:X.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:X.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:X.CONSTANT_COLOR,[OneMinusConstantColorFactor]:X.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:X.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:X.ONE_MINUS_CONSTANT_ALPHA};function Ce(ct,xt,Qe,nt,Xt,St,Mt,jt,sn,Ht){if(ct===NoBlending){se===!0&&(dt(X.BLEND),se=!1);return}if(se===!1&&(ut(X.BLEND),se=!0),ct!==CustomBlending){if(ct!==pe||Ht!==fe){if((ue!==AddEquation||be!==AddEquation)&&(X.blendEquation(X.FUNC_ADD),ue=AddEquation,be=AddEquation),Ht)switch(ct){case NormalBlending:X.blendFuncSeparate(X.ONE,X.ONE_MINUS_SRC_ALPHA,X.ONE,X.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:X.blendFunc(X.ONE,X.ONE);break;case SubtractiveBlending:X.blendFuncSeparate(X.ZERO,X.ONE_MINUS_SRC_COLOR,X.ZERO,X.ONE);break;case MultiplyBlending:X.blendFuncSeparate(X.ZERO,X.SRC_COLOR,X.ZERO,X.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}else switch(ct){case NormalBlending:X.blendFuncSeparate(X.SRC_ALPHA,X.ONE_MINUS_SRC_ALPHA,X.ONE,X.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:X.blendFunc(X.SRC_ALPHA,X.ONE);break;case SubtractiveBlending:X.blendFuncSeparate(X.ZERO,X.ONE_MINUS_SRC_COLOR,X.ZERO,X.ONE);break;case MultiplyBlending:X.blendFunc(X.ZERO,X.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ct);break}ae=null,de=null,he=null,Le=null,Xe.set(0,0,0),We=0,pe=ct,fe=Ht}return}Xt=Xt||xt,St=St||Qe,Mt=Mt||nt,(xt!==ue||Xt!==be)&&(X.blendEquationSeparate(ke[xt],ke[Xt]),ue=xt,be=Xt),(Qe!==ae||nt!==de||St!==he||Mt!==Le)&&(X.blendFuncSeparate(Ye[Qe],Ye[nt],Ye[St],Ye[Mt]),ae=Qe,de=nt,he=St,Le=Mt),(jt.equals(Xe)===!1||sn!==We)&&(X.blendColor(jt.r,jt.g,jt.b,sn),Xe.copy(jt),We=sn),pe=ct,fe=!1}function ze(ct,xt){ct.side===DoubleSide?dt(X.CULL_FACE):ut(X.CULL_FACE);let Qe=ct.side===BackSide;xt&&(Qe=!Qe),Ee(Qe),ct.blending===NormalBlending&&ct.transparent===!1?Ce(NoBlending):Ce(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst,ct.blendEquationAlpha,ct.blendSrcAlpha,ct.blendDstAlpha,ct.blendColor,ct.blendAlpha,ct.premultipliedAlpha),D.setFunc(ct.depthFunc),D.setTest(ct.depthTest),D.setMask(ct.depthWrite),Y.setMask(ct.colorWrite);const nt=ct.stencilWrite;Q.setTest(nt),nt&&(Q.setMask(ct.stencilWriteMask),Q.setFunc(ct.stencilFunc,ct.stencilRef,ct.stencilFuncMask),Q.setOp(ct.stencilFail,ct.stencilZFail,ct.stencilZPass)),Pe(ct.polygonOffset,ct.polygonOffsetFactor,ct.polygonOffsetUnits),ct.alphaToCoverage===!0?ut(X.SAMPLE_ALPHA_TO_COVERAGE):dt(X.SAMPLE_ALPHA_TO_COVERAGE)}function Ee(ct){Re!==ct&&(ct?X.frontFace(X.CW):X.frontFace(X.CCW),Re=ct)}function _e(ct){ct!==CullFaceNone?(ut(X.CULL_FACE),ct!==ye&&(ct===CullFaceBack?X.cullFace(X.BACK):ct===CullFaceFront?X.cullFace(X.FRONT):X.cullFace(X.FRONT_AND_BACK))):dt(X.CULL_FACE),ye=ct}function He(ct){ct!==re&&(Te&&X.lineWidth(ct),re=ct)}function Pe(ct,xt,Qe){ct?(ut(X.POLYGON_OFFSET_FILL),(Ze!==xt||Ge!==Qe)&&(X.polygonOffset(xt,Qe),Ze=xt,Ge=Qe)):dt(X.POLYGON_OFFSET_FILL)}function $e(ct){ct?ut(X.SCISSOR_TEST):dt(X.SCISSOR_TEST)}function we(ct){ct===void 0&&(ct=X.TEXTURE0+ve-1),Se!==ct&&(X.activeTexture(ct),Se=ct)}function Ue(ct,xt,Qe){Qe===void 0&&(Se===null?Qe=X.TEXTURE0+ve-1:Qe=Se);let nt=Ne[Qe];nt===void 0&&(nt={type:void 0,texture:void 0},Ne[Qe]=nt),(nt.type!==ct||nt.texture!==xt)&&(Se!==Qe&&(X.activeTexture(Qe),Se=Qe),X.bindTexture(ct,xt||ot[ct]),nt.type=ct,nt.texture=xt)}function et(){const ct=Ne[Se];ct!==void 0&&ct.type!==void 0&&(X.bindTexture(ct.type,null),ct.type=void 0,ct.texture=void 0)}function at(){try{X.compressedTexImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ve(){try{X.compressedTexImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function oe(){try{X.texSubImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function me(){try{X.texSubImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function ge(){try{X.compressedTexSubImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Fe(){try{X.compressedTexSubImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ke(){try{X.texStorage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Ae(){try{X.texStorage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function rt(){try{X.texImage2D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function vt(){try{X.texImage3D.apply(X,arguments)}catch(ct){console.error("THREE.WebGLState:",ct)}}function Vt(ct){it.equals(ct)===!1&&(X.scissor(ct.x,ct.y,ct.z,ct.w),it.copy(ct))}function Wt(ct){st.equals(ct)===!1&&(X.viewport(ct.x,ct.y,ct.z,ct.w),st.copy(ct))}function ft(ct,xt){let Qe=q.get(xt);Qe===void 0&&(Qe=new WeakMap,q.set(xt,Qe));let nt=Qe.get(ct);nt===void 0&&(nt=X.getUniformBlockIndex(xt,ct.name),Qe.set(ct,nt))}function Rt(ct,xt){const nt=q.get(xt).get(ct);ee.get(xt)!==nt&&(X.uniformBlockBinding(xt,nt,ct.__bindingPointIndex),ee.set(xt,nt))}function It(){X.disable(X.BLEND),X.disable(X.CULL_FACE),X.disable(X.DEPTH_TEST),X.disable(X.POLYGON_OFFSET_FILL),X.disable(X.SCISSOR_TEST),X.disable(X.STENCIL_TEST),X.disable(X.SAMPLE_ALPHA_TO_COVERAGE),X.blendEquation(X.FUNC_ADD),X.blendFunc(X.ONE,X.ZERO),X.blendFuncSeparate(X.ONE,X.ZERO,X.ONE,X.ZERO),X.blendColor(0,0,0,0),X.colorMask(!0,!0,!0,!0),X.clearColor(0,0,0,0),X.depthMask(!0),X.depthFunc(X.LESS),X.clearDepth(1),X.stencilMask(4294967295),X.stencilFunc(X.ALWAYS,0,4294967295),X.stencilOp(X.KEEP,X.KEEP,X.KEEP),X.clearStencil(0),X.cullFace(X.BACK),X.frontFace(X.CCW),X.polygonOffset(0,0),X.activeTexture(X.TEXTURE0),X.bindFramebuffer(X.FRAMEBUFFER,null),W===!0&&(X.bindFramebuffer(X.DRAW_FRAMEBUFFER,null),X.bindFramebuffer(X.READ_FRAMEBUFFER,null)),X.useProgram(null),X.lineWidth(1),X.scissor(0,0,X.canvas.width,X.canvas.height),X.viewport(0,0,X.canvas.width,X.canvas.height),te={},Se=null,Ne={},ie={},ne=new WeakMap,ce=[],le=null,se=!1,pe=null,ue=null,ae=null,de=null,be=null,he=null,Le=null,Xe=new Color(0,0,0),We=0,fe=!1,Re=null,ye=null,re=null,Ze=null,Ge=null,it.set(0,0,X.canvas.width,X.canvas.height),st.set(0,0,X.canvas.width,X.canvas.height),Y.reset(),D.reset(),Q.reset()}return{buffers:{color:Y,depth:D,stencil:Q},enable:ut,disable:dt,bindFramebuffer:mt,drawBuffers:Je,useProgram:Me,setBlending:Ce,setMaterial:ze,setFlipSided:Ee,setCullFace:_e,setLineWidth:He,setPolygonOffset:Pe,setScissorTest:$e,activeTexture:we,bindTexture:Ue,unbindTexture:et,compressedTexImage2D:at,compressedTexImage3D:Ve,texImage2D:rt,texImage3D:vt,updateUBOMapping:ft,uniformBlockBinding:Rt,texStorage2D:Ke,texStorage3D:Ae,texSubImage2D:oe,texSubImage3D:me,compressedTexSubImage2D:ge,compressedTexSubImage3D:Fe,scissor:Vt,viewport:Wt,reset:It}}function WebGLTextures(X,Z,G,W,F,U,J){const Y=F.isWebGL2,D=F.maxTextures,Q=F.maxCubemapSize,ee=F.maxTextureSize,q=F.maxSamples,te=Z.has("WEBGL_multisampled_render_to_texture")?Z.get("WEBGL_multisampled_render_to_texture"):null,ie=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ne=new WeakMap;let ce;const le=new WeakMap;let se=!1;try{se=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function pe(we,Ue){return se?new OffscreenCanvas(we,Ue):createElementNS("canvas")}function ue(we,Ue,et,at){let Ve=1;if((we.width>at||we.height>at)&&(Ve=at/Math.max(we.width,we.height)),Ve<1||Ue===!0)if(typeof HTMLImageElement<"u"&&we instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&we instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&we instanceof ImageBitmap){const oe=Ue?floorPowerOfTwo:Math.floor,me=oe(Ve*we.width),ge=oe(Ve*we.height);ce===void 0&&(ce=pe(me,ge));const Fe=et?pe(me,ge):ce;return Fe.width=me,Fe.height=ge,Fe.getContext("2d").drawImage(we,0,0,me,ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+we.width+"x"+we.height+") to ("+me+"x"+ge+")."),Fe}else return"data"in we&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+we.width+"x"+we.height+")."),we;return we}function ae(we){return isPowerOfTwo(we.width)&&isPowerOfTwo(we.height)}function de(we){return Y?!1:we.wrapS!==ClampToEdgeWrapping||we.wrapT!==ClampToEdgeWrapping||we.minFilter!==NearestFilter&&we.minFilter!==LinearFilter}function be(we,Ue){return we.generateMipmaps&&Ue&&we.minFilter!==NearestFilter&&we.minFilter!==LinearFilter}function he(we){X.generateMipmap(we)}function Le(we,Ue,et,at,Ve=!1){if(Y===!1)return Ue;if(we!==null){if(X[we]!==void 0)return X[we];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+we+"'")}let oe=Ue;if(Ue===X.RED&&(et===X.FLOAT&&(oe=X.R32F),et===X.HALF_FLOAT&&(oe=X.R16F),et===X.UNSIGNED_BYTE&&(oe=X.R8)),Ue===X.RED_INTEGER&&(et===X.UNSIGNED_BYTE&&(oe=X.R8UI),et===X.UNSIGNED_SHORT&&(oe=X.R16UI),et===X.UNSIGNED_INT&&(oe=X.R32UI),et===X.BYTE&&(oe=X.R8I),et===X.SHORT&&(oe=X.R16I),et===X.INT&&(oe=X.R32I)),Ue===X.RG&&(et===X.FLOAT&&(oe=X.RG32F),et===X.HALF_FLOAT&&(oe=X.RG16F),et===X.UNSIGNED_BYTE&&(oe=X.RG8)),Ue===X.RGBA){const me=Ve?LinearTransfer:ColorManagement.getTransfer(at);et===X.FLOAT&&(oe=X.RGBA32F),et===X.HALF_FLOAT&&(oe=X.RGBA16F),et===X.UNSIGNED_BYTE&&(oe=me===SRGBTransfer?X.SRGB8_ALPHA8:X.RGBA8),et===X.UNSIGNED_SHORT_4_4_4_4&&(oe=X.RGBA4),et===X.UNSIGNED_SHORT_5_5_5_1&&(oe=X.RGB5_A1)}return(oe===X.R16F||oe===X.R32F||oe===X.RG16F||oe===X.RG32F||oe===X.RGBA16F||oe===X.RGBA32F)&&Z.get("EXT_color_buffer_float"),oe}function Xe(we,Ue,et){return be(we,et)===!0||we.isFramebufferTexture&&we.minFilter!==NearestFilter&&we.minFilter!==LinearFilter?Math.log2(Math.max(Ue.width,Ue.height))+1:we.mipmaps!==void 0&&we.mipmaps.length>0?we.mipmaps.length:we.isCompressedTexture&&Array.isArray(we.image)?Ue.mipmaps.length:1}function We(we){return we===NearestFilter||we===NearestMipmapNearestFilter||we===NearestMipmapLinearFilter?X.NEAREST:X.LINEAR}function fe(we){const Ue=we.target;Ue.removeEventListener("dispose",fe),ye(Ue),Ue.isVideoTexture&&ne.delete(Ue)}function Re(we){const Ue=we.target;Ue.removeEventListener("dispose",Re),Ze(Ue)}function ye(we){const Ue=W.get(we);if(Ue.__webglInit===void 0)return;const et=we.source,at=le.get(et);if(at){const Ve=at[Ue.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&re(we),Object.keys(at).length===0&&le.delete(et)}W.remove(we)}function re(we){const Ue=W.get(we);X.deleteTexture(Ue.__webglTexture);const et=we.source,at=le.get(et);delete at[Ue.__cacheKey],J.memory.textures--}function Ze(we){const Ue=we.texture,et=W.get(we),at=W.get(Ue);if(at.__webglTexture!==void 0&&(X.deleteTexture(at.__webglTexture),J.memory.textures--),we.depthTexture&&we.depthTexture.dispose(),we.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(et.__webglFramebuffer[Ve]))for(let oe=0;oe<et.__webglFramebuffer[Ve].length;oe++)X.deleteFramebuffer(et.__webglFramebuffer[Ve][oe]);else X.deleteFramebuffer(et.__webglFramebuffer[Ve]);et.__webglDepthbuffer&&X.deleteRenderbuffer(et.__webglDepthbuffer[Ve])}else{if(Array.isArray(et.__webglFramebuffer))for(let Ve=0;Ve<et.__webglFramebuffer.length;Ve++)X.deleteFramebuffer(et.__webglFramebuffer[Ve]);else X.deleteFramebuffer(et.__webglFramebuffer);if(et.__webglDepthbuffer&&X.deleteRenderbuffer(et.__webglDepthbuffer),et.__webglMultisampledFramebuffer&&X.deleteFramebuffer(et.__webglMultisampledFramebuffer),et.__webglColorRenderbuffer)for(let Ve=0;Ve<et.__webglColorRenderbuffer.length;Ve++)et.__webglColorRenderbuffer[Ve]&&X.deleteRenderbuffer(et.__webglColorRenderbuffer[Ve]);et.__webglDepthRenderbuffer&&X.deleteRenderbuffer(et.__webglDepthRenderbuffer)}if(we.isWebGLMultipleRenderTargets)for(let Ve=0,oe=Ue.length;Ve<oe;Ve++){const me=W.get(Ue[Ve]);me.__webglTexture&&(X.deleteTexture(me.__webglTexture),J.memory.textures--),W.remove(Ue[Ve])}W.remove(Ue),W.remove(we)}let Ge=0;function ve(){Ge=0}function Te(){const we=Ge;return we>=D&&console.warn("THREE.WebGLTextures: Trying to use "+we+" texture units while this GPU supports only "+D),Ge+=1,we}function xe(we){const Ue=[];return Ue.push(we.wrapS),Ue.push(we.wrapT),Ue.push(we.wrapR||0),Ue.push(we.magFilter),Ue.push(we.minFilter),Ue.push(we.anisotropy),Ue.push(we.internalFormat),Ue.push(we.format),Ue.push(we.type),Ue.push(we.generateMipmaps),Ue.push(we.premultiplyAlpha),Ue.push(we.flipY),Ue.push(we.unpackAlignment),Ue.push(we.colorSpace),Ue.join()}function Ie(we,Ue){const et=W.get(we);if(we.isVideoTexture&&Pe(we),we.isRenderTargetTexture===!1&&we.version>0&&et.__version!==we.version){const at=we.image;if(at===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(at.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ut(et,we,Ue);return}}G.bindTexture(X.TEXTURE_2D,et.__webglTexture,X.TEXTURE0+Ue)}function Se(we,Ue){const et=W.get(we);if(we.version>0&&et.__version!==we.version){ut(et,we,Ue);return}G.bindTexture(X.TEXTURE_2D_ARRAY,et.__webglTexture,X.TEXTURE0+Ue)}function Ne(we,Ue){const et=W.get(we);if(we.version>0&&et.__version!==we.version){ut(et,we,Ue);return}G.bindTexture(X.TEXTURE_3D,et.__webglTexture,X.TEXTURE0+Ue)}function je(we,Ue){const et=W.get(we);if(we.version>0&&et.__version!==we.version){dt(et,we,Ue);return}G.bindTexture(X.TEXTURE_CUBE_MAP,et.__webglTexture,X.TEXTURE0+Ue)}const tt={[RepeatWrapping]:X.REPEAT,[ClampToEdgeWrapping]:X.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:X.MIRRORED_REPEAT},it={[NearestFilter]:X.NEAREST,[NearestMipmapNearestFilter]:X.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:X.NEAREST_MIPMAP_LINEAR,[LinearFilter]:X.LINEAR,[LinearMipmapNearestFilter]:X.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:X.LINEAR_MIPMAP_LINEAR},st={[NeverCompare]:X.NEVER,[AlwaysCompare]:X.ALWAYS,[LessCompare]:X.LESS,[LessEqualCompare]:X.LEQUAL,[EqualCompare]:X.EQUAL,[GreaterEqualCompare]:X.GEQUAL,[GreaterCompare]:X.GREATER,[NotEqualCompare]:X.NOTEQUAL};function qe(we,Ue,et){if(et?(X.texParameteri(we,X.TEXTURE_WRAP_S,tt[Ue.wrapS]),X.texParameteri(we,X.TEXTURE_WRAP_T,tt[Ue.wrapT]),(we===X.TEXTURE_3D||we===X.TEXTURE_2D_ARRAY)&&X.texParameteri(we,X.TEXTURE_WRAP_R,tt[Ue.wrapR]),X.texParameteri(we,X.TEXTURE_MAG_FILTER,it[Ue.magFilter]),X.texParameteri(we,X.TEXTURE_MIN_FILTER,it[Ue.minFilter])):(X.texParameteri(we,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE),X.texParameteri(we,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE),(we===X.TEXTURE_3D||we===X.TEXTURE_2D_ARRAY)&&X.texParameteri(we,X.TEXTURE_WRAP_R,X.CLAMP_TO_EDGE),(Ue.wrapS!==ClampToEdgeWrapping||Ue.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),X.texParameteri(we,X.TEXTURE_MAG_FILTER,We(Ue.magFilter)),X.texParameteri(we,X.TEXTURE_MIN_FILTER,We(Ue.minFilter)),Ue.minFilter!==NearestFilter&&Ue.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Ue.compareFunction&&(X.texParameteri(we,X.TEXTURE_COMPARE_MODE,X.COMPARE_REF_TO_TEXTURE),X.texParameteri(we,X.TEXTURE_COMPARE_FUNC,st[Ue.compareFunction])),Z.has("EXT_texture_filter_anisotropic")===!0){const at=Z.get("EXT_texture_filter_anisotropic");if(Ue.magFilter===NearestFilter||Ue.minFilter!==NearestMipmapLinearFilter&&Ue.minFilter!==LinearMipmapLinearFilter||Ue.type===FloatType&&Z.has("OES_texture_float_linear")===!1||Y===!1&&Ue.type===HalfFloatType&&Z.has("OES_texture_half_float_linear")===!1)return;(Ue.anisotropy>1||W.get(Ue).__currentAnisotropy)&&(X.texParameterf(we,at.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ue.anisotropy,F.getMaxAnisotropy())),W.get(Ue).__currentAnisotropy=Ue.anisotropy)}}function ot(we,Ue){let et=!1;we.__webglInit===void 0&&(we.__webglInit=!0,Ue.addEventListener("dispose",fe));const at=Ue.source;let Ve=le.get(at);Ve===void 0&&(Ve={},le.set(at,Ve));const oe=xe(Ue);if(oe!==we.__cacheKey){Ve[oe]===void 0&&(Ve[oe]={texture:X.createTexture(),usedTimes:0},J.memory.textures++,et=!0),Ve[oe].usedTimes++;const me=Ve[we.__cacheKey];me!==void 0&&(Ve[we.__cacheKey].usedTimes--,me.usedTimes===0&&re(Ue)),we.__cacheKey=oe,we.__webglTexture=Ve[oe].texture}return et}function ut(we,Ue,et){let at=X.TEXTURE_2D;(Ue.isDataArrayTexture||Ue.isCompressedArrayTexture)&&(at=X.TEXTURE_2D_ARRAY),Ue.isData3DTexture&&(at=X.TEXTURE_3D);const Ve=ot(we,Ue),oe=Ue.source;G.bindTexture(at,we.__webglTexture,X.TEXTURE0+et);const me=W.get(oe);if(oe.version!==me.__version||Ve===!0){G.activeTexture(X.TEXTURE0+et);const ge=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Fe=Ue.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ue.colorSpace),Ke=Ue.colorSpace===NoColorSpace||ge===Fe?X.NONE:X.BROWSER_DEFAULT_WEBGL;X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Ue.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Ue.unpackAlignment),X.pixelStorei(X.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);const Ae=de(Ue)&&ae(Ue.image)===!1;let rt=ue(Ue.image,Ae,!1,ee);rt=$e(Ue,rt);const vt=ae(rt)||Y,Vt=U.convert(Ue.format,Ue.colorSpace);let Wt=U.convert(Ue.type),ft=Le(Ue.internalFormat,Vt,Wt,Ue.colorSpace,Ue.isVideoTexture);qe(at,Ue,vt);let Rt;const It=Ue.mipmaps,ct=Y&&Ue.isVideoTexture!==!0,xt=me.__version===void 0||Ve===!0,Qe=Xe(Ue,rt,vt);if(Ue.isDepthTexture)ft=X.DEPTH_COMPONENT,Y?Ue.type===FloatType?ft=X.DEPTH_COMPONENT32F:Ue.type===UnsignedIntType?ft=X.DEPTH_COMPONENT24:Ue.type===UnsignedInt248Type?ft=X.DEPTH24_STENCIL8:ft=X.DEPTH_COMPONENT16:Ue.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ue.format===DepthFormat&&ft===X.DEPTH_COMPONENT&&Ue.type!==UnsignedShortType&&Ue.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ue.type=UnsignedIntType,Wt=U.convert(Ue.type)),Ue.format===DepthStencilFormat&&ft===X.DEPTH_COMPONENT&&(ft=X.DEPTH_STENCIL,Ue.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ue.type=UnsignedInt248Type,Wt=U.convert(Ue.type))),xt&&(ct?G.texStorage2D(X.TEXTURE_2D,1,ft,rt.width,rt.height):G.texImage2D(X.TEXTURE_2D,0,ft,rt.width,rt.height,0,Vt,Wt,null));else if(Ue.isDataTexture)if(It.length>0&&vt){ct&&xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,It[0].width,It[0].height);for(let nt=0,Xt=It.length;nt<Xt;nt++)Rt=It[nt],ct?G.texSubImage2D(X.TEXTURE_2D,nt,0,0,Rt.width,Rt.height,Vt,Wt,Rt.data):G.texImage2D(X.TEXTURE_2D,nt,ft,Rt.width,Rt.height,0,Vt,Wt,Rt.data);Ue.generateMipmaps=!1}else ct?(xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,rt.width,rt.height),G.texSubImage2D(X.TEXTURE_2D,0,0,0,rt.width,rt.height,Vt,Wt,rt.data)):G.texImage2D(X.TEXTURE_2D,0,ft,rt.width,rt.height,0,Vt,Wt,rt.data);else if(Ue.isCompressedTexture)if(Ue.isCompressedArrayTexture){ct&&xt&&G.texStorage3D(X.TEXTURE_2D_ARRAY,Qe,ft,It[0].width,It[0].height,rt.depth);for(let nt=0,Xt=It.length;nt<Xt;nt++)Rt=It[nt],Ue.format!==RGBAFormat?Vt!==null?ct?G.compressedTexSubImage3D(X.TEXTURE_2D_ARRAY,nt,0,0,0,Rt.width,Rt.height,rt.depth,Vt,Rt.data,0,0):G.compressedTexImage3D(X.TEXTURE_2D_ARRAY,nt,ft,Rt.width,Rt.height,rt.depth,0,Rt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?G.texSubImage3D(X.TEXTURE_2D_ARRAY,nt,0,0,0,Rt.width,Rt.height,rt.depth,Vt,Wt,Rt.data):G.texImage3D(X.TEXTURE_2D_ARRAY,nt,ft,Rt.width,Rt.height,rt.depth,0,Vt,Wt,Rt.data)}else{ct&&xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,It[0].width,It[0].height);for(let nt=0,Xt=It.length;nt<Xt;nt++)Rt=It[nt],Ue.format!==RGBAFormat?Vt!==null?ct?G.compressedTexSubImage2D(X.TEXTURE_2D,nt,0,0,Rt.width,Rt.height,Vt,Rt.data):G.compressedTexImage2D(X.TEXTURE_2D,nt,ft,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ct?G.texSubImage2D(X.TEXTURE_2D,nt,0,0,Rt.width,Rt.height,Vt,Wt,Rt.data):G.texImage2D(X.TEXTURE_2D,nt,ft,Rt.width,Rt.height,0,Vt,Wt,Rt.data)}else if(Ue.isDataArrayTexture)ct?(xt&&G.texStorage3D(X.TEXTURE_2D_ARRAY,Qe,ft,rt.width,rt.height,rt.depth),G.texSubImage3D(X.TEXTURE_2D_ARRAY,0,0,0,0,rt.width,rt.height,rt.depth,Vt,Wt,rt.data)):G.texImage3D(X.TEXTURE_2D_ARRAY,0,ft,rt.width,rt.height,rt.depth,0,Vt,Wt,rt.data);else if(Ue.isData3DTexture)ct?(xt&&G.texStorage3D(X.TEXTURE_3D,Qe,ft,rt.width,rt.height,rt.depth),G.texSubImage3D(X.TEXTURE_3D,0,0,0,0,rt.width,rt.height,rt.depth,Vt,Wt,rt.data)):G.texImage3D(X.TEXTURE_3D,0,ft,rt.width,rt.height,rt.depth,0,Vt,Wt,rt.data);else if(Ue.isFramebufferTexture){if(xt)if(ct)G.texStorage2D(X.TEXTURE_2D,Qe,ft,rt.width,rt.height);else{let nt=rt.width,Xt=rt.height;for(let St=0;St<Qe;St++)G.texImage2D(X.TEXTURE_2D,St,ft,nt,Xt,0,Vt,Wt,null),nt>>=1,Xt>>=1}}else if(It.length>0&&vt){ct&&xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,It[0].width,It[0].height);for(let nt=0,Xt=It.length;nt<Xt;nt++)Rt=It[nt],ct?G.texSubImage2D(X.TEXTURE_2D,nt,0,0,Vt,Wt,Rt):G.texImage2D(X.TEXTURE_2D,nt,ft,Vt,Wt,Rt);Ue.generateMipmaps=!1}else ct?(xt&&G.texStorage2D(X.TEXTURE_2D,Qe,ft,rt.width,rt.height),G.texSubImage2D(X.TEXTURE_2D,0,0,0,Vt,Wt,rt)):G.texImage2D(X.TEXTURE_2D,0,ft,Vt,Wt,rt);be(Ue,vt)&&he(at),me.__version=oe.version,Ue.onUpdate&&Ue.onUpdate(Ue)}we.__version=Ue.version}function dt(we,Ue,et){if(Ue.image.length!==6)return;const at=ot(we,Ue),Ve=Ue.source;G.bindTexture(X.TEXTURE_CUBE_MAP,we.__webglTexture,X.TEXTURE0+et);const oe=W.get(Ve);if(Ve.version!==oe.__version||at===!0){G.activeTexture(X.TEXTURE0+et);const me=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),ge=Ue.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ue.colorSpace),Fe=Ue.colorSpace===NoColorSpace||me===ge?X.NONE:X.BROWSER_DEFAULT_WEBGL;X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Ue.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Ue.unpackAlignment),X.pixelStorei(X.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fe);const Ke=Ue.isCompressedTexture||Ue.image[0].isCompressedTexture,Ae=Ue.image[0]&&Ue.image[0].isDataTexture,rt=[];for(let nt=0;nt<6;nt++)!Ke&&!Ae?rt[nt]=ue(Ue.image[nt],!1,!0,Q):rt[nt]=Ae?Ue.image[nt].image:Ue.image[nt],rt[nt]=$e(Ue,rt[nt]);const vt=rt[0],Vt=ae(vt)||Y,Wt=U.convert(Ue.format,Ue.colorSpace),ft=U.convert(Ue.type),Rt=Le(Ue.internalFormat,Wt,ft,Ue.colorSpace),It=Y&&Ue.isVideoTexture!==!0,ct=oe.__version===void 0||at===!0;let xt=Xe(Ue,vt,Vt);qe(X.TEXTURE_CUBE_MAP,Ue,Vt);let Qe;if(Ke){It&&ct&&G.texStorage2D(X.TEXTURE_CUBE_MAP,xt,Rt,vt.width,vt.height);for(let nt=0;nt<6;nt++){Qe=rt[nt].mipmaps;for(let Xt=0;Xt<Qe.length;Xt++){const St=Qe[Xt];Ue.format!==RGBAFormat?Wt!==null?It?G.compressedTexSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,0,0,St.width,St.height,Wt,St.data):G.compressedTexImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,Rt,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):It?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,0,0,St.width,St.height,Wt,ft,St.data):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt,Rt,St.width,St.height,0,Wt,ft,St.data)}}}else{Qe=Ue.mipmaps,It&&ct&&(Qe.length>0&&xt++,G.texStorage2D(X.TEXTURE_CUBE_MAP,xt,Rt,rt[0].width,rt[0].height));for(let nt=0;nt<6;nt++)if(Ae){It?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,0,0,rt[nt].width,rt[nt].height,Wt,ft,rt[nt].data):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,Rt,rt[nt].width,rt[nt].height,0,Wt,ft,rt[nt].data);for(let Xt=0;Xt<Qe.length;Xt++){const Mt=Qe[Xt].image[nt].image;It?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,0,0,Mt.width,Mt.height,Wt,ft,Mt.data):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,Rt,Mt.width,Mt.height,0,Wt,ft,Mt.data)}}else{It?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,0,0,Wt,ft,rt[nt]):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0,Rt,Wt,ft,rt[nt]);for(let Xt=0;Xt<Qe.length;Xt++){const St=Qe[Xt];It?G.texSubImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,0,0,Wt,ft,St.image[nt]):G.texImage2D(X.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Xt+1,Rt,Wt,ft,St.image[nt])}}}be(Ue,Vt)&&he(X.TEXTURE_CUBE_MAP),oe.__version=Ve.version,Ue.onUpdate&&Ue.onUpdate(Ue)}we.__version=Ue.version}function mt(we,Ue,et,at,Ve,oe){const me=U.convert(et.format,et.colorSpace),ge=U.convert(et.type),Fe=Le(et.internalFormat,me,ge,et.colorSpace);if(!W.get(Ue).__hasExternalTextures){const Ae=Math.max(1,Ue.width>>oe),rt=Math.max(1,Ue.height>>oe);Ve===X.TEXTURE_3D||Ve===X.TEXTURE_2D_ARRAY?G.texImage3D(Ve,oe,Fe,Ae,rt,Ue.depth,0,me,ge,null):G.texImage2D(Ve,oe,Fe,Ae,rt,0,me,ge,null)}G.bindFramebuffer(X.FRAMEBUFFER,we),He(Ue)?te.framebufferTexture2DMultisampleEXT(X.FRAMEBUFFER,at,Ve,W.get(et).__webglTexture,0,_e(Ue)):(Ve===X.TEXTURE_2D||Ve>=X.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=X.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&X.framebufferTexture2D(X.FRAMEBUFFER,at,Ve,W.get(et).__webglTexture,oe),G.bindFramebuffer(X.FRAMEBUFFER,null)}function Je(we,Ue,et){if(X.bindRenderbuffer(X.RENDERBUFFER,we),Ue.depthBuffer&&!Ue.stencilBuffer){let at=Y===!0?X.DEPTH_COMPONENT24:X.DEPTH_COMPONENT16;if(et||He(Ue)){const Ve=Ue.depthTexture;Ve&&Ve.isDepthTexture&&(Ve.type===FloatType?at=X.DEPTH_COMPONENT32F:Ve.type===UnsignedIntType&&(at=X.DEPTH_COMPONENT24));const oe=_e(Ue);He(Ue)?te.renderbufferStorageMultisampleEXT(X.RENDERBUFFER,oe,at,Ue.width,Ue.height):X.renderbufferStorageMultisample(X.RENDERBUFFER,oe,at,Ue.width,Ue.height)}else X.renderbufferStorage(X.RENDERBUFFER,at,Ue.width,Ue.height);X.framebufferRenderbuffer(X.FRAMEBUFFER,X.DEPTH_ATTACHMENT,X.RENDERBUFFER,we)}else if(Ue.depthBuffer&&Ue.stencilBuffer){const at=_e(Ue);et&&He(Ue)===!1?X.renderbufferStorageMultisample(X.RENDERBUFFER,at,X.DEPTH24_STENCIL8,Ue.width,Ue.height):He(Ue)?te.renderbufferStorageMultisampleEXT(X.RENDERBUFFER,at,X.DEPTH24_STENCIL8,Ue.width,Ue.height):X.renderbufferStorage(X.RENDERBUFFER,X.DEPTH_STENCIL,Ue.width,Ue.height),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.DEPTH_STENCIL_ATTACHMENT,X.RENDERBUFFER,we)}else{const at=Ue.isWebGLMultipleRenderTargets===!0?Ue.texture:[Ue.texture];for(let Ve=0;Ve<at.length;Ve++){const oe=at[Ve],me=U.convert(oe.format,oe.colorSpace),ge=U.convert(oe.type),Fe=Le(oe.internalFormat,me,ge,oe.colorSpace),Ke=_e(Ue);et&&He(Ue)===!1?X.renderbufferStorageMultisample(X.RENDERBUFFER,Ke,Fe,Ue.width,Ue.height):He(Ue)?te.renderbufferStorageMultisampleEXT(X.RENDERBUFFER,Ke,Fe,Ue.width,Ue.height):X.renderbufferStorage(X.RENDERBUFFER,Fe,Ue.width,Ue.height)}}X.bindRenderbuffer(X.RENDERBUFFER,null)}function Me(we,Ue){if(Ue&&Ue.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(G.bindFramebuffer(X.FRAMEBUFFER,we),!(Ue.depthTexture&&Ue.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!W.get(Ue.depthTexture).__webglTexture||Ue.depthTexture.image.width!==Ue.width||Ue.depthTexture.image.height!==Ue.height)&&(Ue.depthTexture.image.width=Ue.width,Ue.depthTexture.image.height=Ue.height,Ue.depthTexture.needsUpdate=!0),Ie(Ue.depthTexture,0);const at=W.get(Ue.depthTexture).__webglTexture,Ve=_e(Ue);if(Ue.depthTexture.format===DepthFormat)He(Ue)?te.framebufferTexture2DMultisampleEXT(X.FRAMEBUFFER,X.DEPTH_ATTACHMENT,X.TEXTURE_2D,at,0,Ve):X.framebufferTexture2D(X.FRAMEBUFFER,X.DEPTH_ATTACHMENT,X.TEXTURE_2D,at,0);else if(Ue.depthTexture.format===DepthStencilFormat)He(Ue)?te.framebufferTexture2DMultisampleEXT(X.FRAMEBUFFER,X.DEPTH_STENCIL_ATTACHMENT,X.TEXTURE_2D,at,0,Ve):X.framebufferTexture2D(X.FRAMEBUFFER,X.DEPTH_STENCIL_ATTACHMENT,X.TEXTURE_2D,at,0);else throw new Error("Unknown depthTexture format")}function ke(we){const Ue=W.get(we),et=we.isWebGLCubeRenderTarget===!0;if(we.depthTexture&&!Ue.__autoAllocateDepthBuffer){if(et)throw new Error("target.depthTexture not supported in Cube render targets");Me(Ue.__webglFramebuffer,we)}else if(et){Ue.__webglDepthbuffer=[];for(let at=0;at<6;at++)G.bindFramebuffer(X.FRAMEBUFFER,Ue.__webglFramebuffer[at]),Ue.__webglDepthbuffer[at]=X.createRenderbuffer(),Je(Ue.__webglDepthbuffer[at],we,!1)}else G.bindFramebuffer(X.FRAMEBUFFER,Ue.__webglFramebuffer),Ue.__webglDepthbuffer=X.createRenderbuffer(),Je(Ue.__webglDepthbuffer,we,!1);G.bindFramebuffer(X.FRAMEBUFFER,null)}function Ye(we,Ue,et){const at=W.get(we);Ue!==void 0&&mt(at.__webglFramebuffer,we,we.texture,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,0),et!==void 0&&ke(we)}function Ce(we){const Ue=we.texture,et=W.get(we),at=W.get(Ue);we.addEventListener("dispose",Re),we.isWebGLMultipleRenderTargets!==!0&&(at.__webglTexture===void 0&&(at.__webglTexture=X.createTexture()),at.__version=Ue.version,J.memory.textures++);const Ve=we.isWebGLCubeRenderTarget===!0,oe=we.isWebGLMultipleRenderTargets===!0,me=ae(we)||Y;if(Ve){et.__webglFramebuffer=[];for(let ge=0;ge<6;ge++)if(Y&&Ue.mipmaps&&Ue.mipmaps.length>0){et.__webglFramebuffer[ge]=[];for(let Fe=0;Fe<Ue.mipmaps.length;Fe++)et.__webglFramebuffer[ge][Fe]=X.createFramebuffer()}else et.__webglFramebuffer[ge]=X.createFramebuffer()}else{if(Y&&Ue.mipmaps&&Ue.mipmaps.length>0){et.__webglFramebuffer=[];for(let ge=0;ge<Ue.mipmaps.length;ge++)et.__webglFramebuffer[ge]=X.createFramebuffer()}else et.__webglFramebuffer=X.createFramebuffer();if(oe)if(F.drawBuffers){const ge=we.texture;for(let Fe=0,Ke=ge.length;Fe<Ke;Fe++){const Ae=W.get(ge[Fe]);Ae.__webglTexture===void 0&&(Ae.__webglTexture=X.createTexture(),J.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(Y&&we.samples>0&&He(we)===!1){const ge=oe?Ue:[Ue];et.__webglMultisampledFramebuffer=X.createFramebuffer(),et.__webglColorRenderbuffer=[],G.bindFramebuffer(X.FRAMEBUFFER,et.__webglMultisampledFramebuffer);for(let Fe=0;Fe<ge.length;Fe++){const Ke=ge[Fe];et.__webglColorRenderbuffer[Fe]=X.createRenderbuffer(),X.bindRenderbuffer(X.RENDERBUFFER,et.__webglColorRenderbuffer[Fe]);const Ae=U.convert(Ke.format,Ke.colorSpace),rt=U.convert(Ke.type),vt=Le(Ke.internalFormat,Ae,rt,Ke.colorSpace,we.isXRRenderTarget===!0),Vt=_e(we);X.renderbufferStorageMultisample(X.RENDERBUFFER,Vt,vt,we.width,we.height),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Fe,X.RENDERBUFFER,et.__webglColorRenderbuffer[Fe])}X.bindRenderbuffer(X.RENDERBUFFER,null),we.depthBuffer&&(et.__webglDepthRenderbuffer=X.createRenderbuffer(),Je(et.__webglDepthRenderbuffer,we,!0)),G.bindFramebuffer(X.FRAMEBUFFER,null)}}if(Ve){G.bindTexture(X.TEXTURE_CUBE_MAP,at.__webglTexture),qe(X.TEXTURE_CUBE_MAP,Ue,me);for(let ge=0;ge<6;ge++)if(Y&&Ue.mipmaps&&Ue.mipmaps.length>0)for(let Fe=0;Fe<Ue.mipmaps.length;Fe++)mt(et.__webglFramebuffer[ge][Fe],we,Ue,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Fe);else mt(et.__webglFramebuffer[ge],we,Ue,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0);be(Ue,me)&&he(X.TEXTURE_CUBE_MAP),G.unbindTexture()}else if(oe){const ge=we.texture;for(let Fe=0,Ke=ge.length;Fe<Ke;Fe++){const Ae=ge[Fe],rt=W.get(Ae);G.bindTexture(X.TEXTURE_2D,rt.__webglTexture),qe(X.TEXTURE_2D,Ae,me),mt(et.__webglFramebuffer,we,Ae,X.COLOR_ATTACHMENT0+Fe,X.TEXTURE_2D,0),be(Ae,me)&&he(X.TEXTURE_2D)}G.unbindTexture()}else{let ge=X.TEXTURE_2D;if((we.isWebGL3DRenderTarget||we.isWebGLArrayRenderTarget)&&(Y?ge=we.isWebGL3DRenderTarget?X.TEXTURE_3D:X.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),G.bindTexture(ge,at.__webglTexture),qe(ge,Ue,me),Y&&Ue.mipmaps&&Ue.mipmaps.length>0)for(let Fe=0;Fe<Ue.mipmaps.length;Fe++)mt(et.__webglFramebuffer[Fe],we,Ue,X.COLOR_ATTACHMENT0,ge,Fe);else mt(et.__webglFramebuffer,we,Ue,X.COLOR_ATTACHMENT0,ge,0);be(Ue,me)&&he(ge),G.unbindTexture()}we.depthBuffer&&ke(we)}function ze(we){const Ue=ae(we)||Y,et=we.isWebGLMultipleRenderTargets===!0?we.texture:[we.texture];for(let at=0,Ve=et.length;at<Ve;at++){const oe=et[at];if(be(oe,Ue)){const me=we.isWebGLCubeRenderTarget?X.TEXTURE_CUBE_MAP:X.TEXTURE_2D,ge=W.get(oe).__webglTexture;G.bindTexture(me,ge),he(me),G.unbindTexture()}}}function Ee(we){if(Y&&we.samples>0&&He(we)===!1){const Ue=we.isWebGLMultipleRenderTargets?we.texture:[we.texture],et=we.width,at=we.height;let Ve=X.COLOR_BUFFER_BIT;const oe=[],me=we.stencilBuffer?X.DEPTH_STENCIL_ATTACHMENT:X.DEPTH_ATTACHMENT,ge=W.get(we),Fe=we.isWebGLMultipleRenderTargets===!0;if(Fe)for(let Ke=0;Ke<Ue.length;Ke++)G.bindFramebuffer(X.FRAMEBUFFER,ge.__webglMultisampledFramebuffer),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.RENDERBUFFER,null),G.bindFramebuffer(X.FRAMEBUFFER,ge.__webglFramebuffer),X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.TEXTURE_2D,null,0);G.bindFramebuffer(X.READ_FRAMEBUFFER,ge.__webglMultisampledFramebuffer),G.bindFramebuffer(X.DRAW_FRAMEBUFFER,ge.__webglFramebuffer);for(let Ke=0;Ke<Ue.length;Ke++){oe.push(X.COLOR_ATTACHMENT0+Ke),we.depthBuffer&&oe.push(me);const Ae=ge.__ignoreDepthValues!==void 0?ge.__ignoreDepthValues:!1;if(Ae===!1&&(we.depthBuffer&&(Ve|=X.DEPTH_BUFFER_BIT),we.stencilBuffer&&(Ve|=X.STENCIL_BUFFER_BIT)),Fe&&X.framebufferRenderbuffer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.RENDERBUFFER,ge.__webglColorRenderbuffer[Ke]),Ae===!0&&(X.invalidateFramebuffer(X.READ_FRAMEBUFFER,[me]),X.invalidateFramebuffer(X.DRAW_FRAMEBUFFER,[me])),Fe){const rt=W.get(Ue[Ke]).__webglTexture;X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,rt,0)}X.blitFramebuffer(0,0,et,at,0,0,et,at,Ve,X.NEAREST),ie&&X.invalidateFramebuffer(X.READ_FRAMEBUFFER,oe)}if(G.bindFramebuffer(X.READ_FRAMEBUFFER,null),G.bindFramebuffer(X.DRAW_FRAMEBUFFER,null),Fe)for(let Ke=0;Ke<Ue.length;Ke++){G.bindFramebuffer(X.FRAMEBUFFER,ge.__webglMultisampledFramebuffer),X.framebufferRenderbuffer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.RENDERBUFFER,ge.__webglColorRenderbuffer[Ke]);const Ae=W.get(Ue[Ke]).__webglTexture;G.bindFramebuffer(X.FRAMEBUFFER,ge.__webglFramebuffer),X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0+Ke,X.TEXTURE_2D,Ae,0)}G.bindFramebuffer(X.DRAW_FRAMEBUFFER,ge.__webglMultisampledFramebuffer)}}function _e(we){return Math.min(q,we.samples)}function He(we){const Ue=W.get(we);return Y&&we.samples>0&&Z.has("WEBGL_multisampled_render_to_texture")===!0&&Ue.__useRenderToTexture!==!1}function Pe(we){const Ue=J.render.frame;ne.get(we)!==Ue&&(ne.set(we,Ue),we.update())}function $e(we,Ue){const et=we.colorSpace,at=we.format,Ve=we.type;return we.isCompressedTexture===!0||we.isVideoTexture===!0||we.format===_SRGBAFormat||et!==LinearSRGBColorSpace&&et!==NoColorSpace&&(ColorManagement.getTransfer(et)===SRGBTransfer?Y===!1?Z.has("EXT_sRGB")===!0&&at===RGBAFormat?(we.format=_SRGBAFormat,we.minFilter=LinearFilter,we.generateMipmaps=!1):Ue=ImageUtils.sRGBToLinear(Ue):(at!==RGBAFormat||Ve!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",et)),Ue}this.allocateTextureUnit=Te,this.resetTextureUnits=ve,this.setTexture2D=Ie,this.setTexture2DArray=Se,this.setTexture3D=Ne,this.setTextureCube=je,this.rebindTextures=Ye,this.setupRenderTarget=Ce,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=mt,this.useMultisampledRTT=He}function WebGLUtils(X,Z,G){const W=G.isWebGL2;function F(U,J=NoColorSpace){let Y;const D=ColorManagement.getTransfer(J);if(U===UnsignedByteType)return X.UNSIGNED_BYTE;if(U===UnsignedShort4444Type)return X.UNSIGNED_SHORT_4_4_4_4;if(U===UnsignedShort5551Type)return X.UNSIGNED_SHORT_5_5_5_1;if(U===ByteType)return X.BYTE;if(U===ShortType)return X.SHORT;if(U===UnsignedShortType)return X.UNSIGNED_SHORT;if(U===IntType)return X.INT;if(U===UnsignedIntType)return X.UNSIGNED_INT;if(U===FloatType)return X.FLOAT;if(U===HalfFloatType)return W?X.HALF_FLOAT:(Y=Z.get("OES_texture_half_float"),Y!==null?Y.HALF_FLOAT_OES:null);if(U===AlphaFormat)return X.ALPHA;if(U===RGBAFormat)return X.RGBA;if(U===LuminanceFormat)return X.LUMINANCE;if(U===LuminanceAlphaFormat)return X.LUMINANCE_ALPHA;if(U===DepthFormat)return X.DEPTH_COMPONENT;if(U===DepthStencilFormat)return X.DEPTH_STENCIL;if(U===_SRGBAFormat)return Y=Z.get("EXT_sRGB"),Y!==null?Y.SRGB_ALPHA_EXT:null;if(U===RedFormat)return X.RED;if(U===RedIntegerFormat)return X.RED_INTEGER;if(U===RGFormat)return X.RG;if(U===RGIntegerFormat)return X.RG_INTEGER;if(U===RGBAIntegerFormat)return X.RGBA_INTEGER;if(U===RGB_S3TC_DXT1_Format||U===RGBA_S3TC_DXT1_Format||U===RGBA_S3TC_DXT3_Format||U===RGBA_S3TC_DXT5_Format)if(D===SRGBTransfer)if(Y=Z.get("WEBGL_compressed_texture_s3tc_srgb"),Y!==null){if(U===RGB_S3TC_DXT1_Format)return Y.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT1_Format)return Y.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT3_Format)return Y.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(U===RGBA_S3TC_DXT5_Format)return Y.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(Y=Z.get("WEBGL_compressed_texture_s3tc"),Y!==null){if(U===RGB_S3TC_DXT1_Format)return Y.COMPRESSED_RGB_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT1_Format)return Y.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(U===RGBA_S3TC_DXT3_Format)return Y.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(U===RGBA_S3TC_DXT5_Format)return Y.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(U===RGB_PVRTC_4BPPV1_Format||U===RGB_PVRTC_2BPPV1_Format||U===RGBA_PVRTC_4BPPV1_Format||U===RGBA_PVRTC_2BPPV1_Format)if(Y=Z.get("WEBGL_compressed_texture_pvrtc"),Y!==null){if(U===RGB_PVRTC_4BPPV1_Format)return Y.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(U===RGB_PVRTC_2BPPV1_Format)return Y.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(U===RGBA_PVRTC_4BPPV1_Format)return Y.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(U===RGBA_PVRTC_2BPPV1_Format)return Y.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(U===RGB_ETC1_Format)return Y=Z.get("WEBGL_compressed_texture_etc1"),Y!==null?Y.COMPRESSED_RGB_ETC1_WEBGL:null;if(U===RGB_ETC2_Format||U===RGBA_ETC2_EAC_Format)if(Y=Z.get("WEBGL_compressed_texture_etc"),Y!==null){if(U===RGB_ETC2_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ETC2:Y.COMPRESSED_RGB8_ETC2;if(U===RGBA_ETC2_EAC_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:Y.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(U===RGBA_ASTC_4x4_Format||U===RGBA_ASTC_5x4_Format||U===RGBA_ASTC_5x5_Format||U===RGBA_ASTC_6x5_Format||U===RGBA_ASTC_6x6_Format||U===RGBA_ASTC_8x5_Format||U===RGBA_ASTC_8x6_Format||U===RGBA_ASTC_8x8_Format||U===RGBA_ASTC_10x5_Format||U===RGBA_ASTC_10x6_Format||U===RGBA_ASTC_10x8_Format||U===RGBA_ASTC_10x10_Format||U===RGBA_ASTC_12x10_Format||U===RGBA_ASTC_12x12_Format)if(Y=Z.get("WEBGL_compressed_texture_astc"),Y!==null){if(U===RGBA_ASTC_4x4_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:Y.COMPRESSED_RGBA_ASTC_4x4_KHR;if(U===RGBA_ASTC_5x4_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:Y.COMPRESSED_RGBA_ASTC_5x4_KHR;if(U===RGBA_ASTC_5x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:Y.COMPRESSED_RGBA_ASTC_5x5_KHR;if(U===RGBA_ASTC_6x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:Y.COMPRESSED_RGBA_ASTC_6x5_KHR;if(U===RGBA_ASTC_6x6_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:Y.COMPRESSED_RGBA_ASTC_6x6_KHR;if(U===RGBA_ASTC_8x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:Y.COMPRESSED_RGBA_ASTC_8x5_KHR;if(U===RGBA_ASTC_8x6_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:Y.COMPRESSED_RGBA_ASTC_8x6_KHR;if(U===RGBA_ASTC_8x8_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:Y.COMPRESSED_RGBA_ASTC_8x8_KHR;if(U===RGBA_ASTC_10x5_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:Y.COMPRESSED_RGBA_ASTC_10x5_KHR;if(U===RGBA_ASTC_10x6_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:Y.COMPRESSED_RGBA_ASTC_10x6_KHR;if(U===RGBA_ASTC_10x8_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:Y.COMPRESSED_RGBA_ASTC_10x8_KHR;if(U===RGBA_ASTC_10x10_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:Y.COMPRESSED_RGBA_ASTC_10x10_KHR;if(U===RGBA_ASTC_12x10_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:Y.COMPRESSED_RGBA_ASTC_12x10_KHR;if(U===RGBA_ASTC_12x12_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:Y.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(U===RGBA_BPTC_Format||U===RGB_BPTC_SIGNED_Format||U===RGB_BPTC_UNSIGNED_Format)if(Y=Z.get("EXT_texture_compression_bptc"),Y!==null){if(U===RGBA_BPTC_Format)return D===SRGBTransfer?Y.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:Y.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(U===RGB_BPTC_SIGNED_Format)return Y.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(U===RGB_BPTC_UNSIGNED_Format)return Y.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(U===RED_RGTC1_Format||U===SIGNED_RED_RGTC1_Format||U===RED_GREEN_RGTC2_Format||U===SIGNED_RED_GREEN_RGTC2_Format)if(Y=Z.get("EXT_texture_compression_rgtc"),Y!==null){if(U===RGBA_BPTC_Format)return Y.COMPRESSED_RED_RGTC1_EXT;if(U===SIGNED_RED_RGTC1_Format)return Y.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(U===RED_GREEN_RGTC2_Format)return Y.COMPRESSED_RED_GREEN_RGTC2_EXT;if(U===SIGNED_RED_GREEN_RGTC2_Format)return Y.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return U===UnsignedInt248Type?W?X.UNSIGNED_INT_24_8:(Y=Z.get("WEBGL_depth_texture"),Y!==null?Y.UNSIGNED_INT_24_8_WEBGL:null):X[U]!==void 0?X[U]:null}return{convert:F}}class ArrayCamera extends PerspectiveCamera{constructor(Z=[]){super(),this.isArrayCamera=!0,this.cameras=Z}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(Z){return this._targetRay!==null&&this._targetRay.dispatchEvent(Z),this._grip!==null&&this._grip.dispatchEvent(Z),this._hand!==null&&this._hand.dispatchEvent(Z),this}connect(Z){if(Z&&Z.hand){const G=this._hand;if(G)for(const W of Z.hand.values())this._getHandJoint(G,W)}return this.dispatchEvent({type:"connected",data:Z}),this}disconnect(Z){return this.dispatchEvent({type:"disconnected",data:Z}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(Z,G,W){let F=null,U=null,J=null;const Y=this._targetRay,D=this._grip,Q=this._hand;if(Z&&G.session.visibilityState!=="visible-blurred"){if(Q&&Z.hand){J=!0;for(const ce of Z.hand.values()){const le=G.getJointPose(ce,W),se=this._getHandJoint(Q,ce);le!==null&&(se.matrix.fromArray(le.transform.matrix),se.matrix.decompose(se.position,se.rotation,se.scale),se.matrixWorldNeedsUpdate=!0,se.jointRadius=le.radius),se.visible=le!==null}const ee=Q.joints["index-finger-tip"],q=Q.joints["thumb-tip"],te=ee.position.distanceTo(q.position),ie=.02,ne=.005;Q.inputState.pinching&&te>ie+ne?(Q.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:Z.handedness,target:this})):!Q.inputState.pinching&&te<=ie-ne&&(Q.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:Z.handedness,target:this}))}else D!==null&&Z.gripSpace&&(U=G.getPose(Z.gripSpace,W),U!==null&&(D.matrix.fromArray(U.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale),D.matrixWorldNeedsUpdate=!0,U.linearVelocity?(D.hasLinearVelocity=!0,D.linearVelocity.copy(U.linearVelocity)):D.hasLinearVelocity=!1,U.angularVelocity?(D.hasAngularVelocity=!0,D.angularVelocity.copy(U.angularVelocity)):D.hasAngularVelocity=!1));Y!==null&&(F=G.getPose(Z.targetRaySpace,W),F===null&&U!==null&&(F=U),F!==null&&(Y.matrix.fromArray(F.transform.matrix),Y.matrix.decompose(Y.position,Y.rotation,Y.scale),Y.matrixWorldNeedsUpdate=!0,F.linearVelocity?(Y.hasLinearVelocity=!0,Y.linearVelocity.copy(F.linearVelocity)):Y.hasLinearVelocity=!1,F.angularVelocity?(Y.hasAngularVelocity=!0,Y.angularVelocity.copy(F.angularVelocity)):Y.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return Y!==null&&(Y.visible=F!==null),D!==null&&(D.visible=U!==null),Q!==null&&(Q.visible=J!==null),this}_getHandJoint(Z,G){if(Z.joints[G.jointName]===void 0){const W=new Group;W.matrixAutoUpdate=!1,W.visible=!1,Z.joints[G.jointName]=W,Z.add(W)}return Z.joints[G.jointName]}}class DepthTexture extends Texture{constructor(Z,G,W,F,U,J,Y,D,Q,ee){if(ee=ee!==void 0?ee:DepthFormat,ee!==DepthFormat&&ee!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");W===void 0&&ee===DepthFormat&&(W=UnsignedIntType),W===void 0&&ee===DepthStencilFormat&&(W=UnsignedInt248Type),super(null,F,U,J,Y,D,ee,W,Q),this.isDepthTexture=!0,this.image={width:Z,height:G},this.magFilter=Y!==void 0?Y:NearestFilter,this.minFilter=D!==void 0?D:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(Z){return super.copy(Z),this.compareFunction=Z.compareFunction,this}toJSON(Z){const G=super.toJSON(Z);return this.compareFunction!==null&&(G.compareFunction=this.compareFunction),G}}class WebXRManager extends EventDispatcher{constructor(Z,G){super();const W=this;let F=null,U=1,J=null,Y="local-floor",D=1,Q=null,ee=null,q=null,te=null,ie=null,ne=null;const ce=G.getContextAttributes();let le=null,se=null;const pe=[],ue=[],ae=new PerspectiveCamera;ae.layers.enable(1),ae.viewport=new Vector4;const de=new PerspectiveCamera;de.layers.enable(2),de.viewport=new Vector4;const be=[ae,de],he=new ArrayCamera;he.layers.enable(1),he.layers.enable(2);let Le=null,Xe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Se){let Ne=pe[Se];return Ne===void 0&&(Ne=new WebXRController,pe[Se]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(Se){let Ne=pe[Se];return Ne===void 0&&(Ne=new WebXRController,pe[Se]=Ne),Ne.getGripSpace()},this.getHand=function(Se){let Ne=pe[Se];return Ne===void 0&&(Ne=new WebXRController,pe[Se]=Ne),Ne.getHandSpace()};function We(Se){const Ne=ue.indexOf(Se.inputSource);if(Ne===-1)return;const je=pe[Ne];je!==void 0&&(je.update(Se.inputSource,Se.frame,Q||J),je.dispatchEvent({type:Se.type,data:Se.inputSource}))}function fe(){F.removeEventListener("select",We),F.removeEventListener("selectstart",We),F.removeEventListener("selectend",We),F.removeEventListener("squeeze",We),F.removeEventListener("squeezestart",We),F.removeEventListener("squeezeend",We),F.removeEventListener("end",fe),F.removeEventListener("inputsourceschange",Re);for(let Se=0;Se<pe.length;Se++){const Ne=ue[Se];Ne!==null&&(ue[Se]=null,pe[Se].disconnect(Ne))}Le=null,Xe=null,Z.setRenderTarget(le),ie=null,te=null,q=null,F=null,se=null,Ie.stop(),W.isPresenting=!1,W.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Se){U=Se,W.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Se){Y=Se,W.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return Q||J},this.setReferenceSpace=function(Se){Q=Se},this.getBaseLayer=function(){return te!==null?te:ie},this.getBinding=function(){return q},this.getFrame=function(){return ne},this.getSession=function(){return F},this.setSession=async function(Se){if(F=Se,F!==null){if(le=Z.getRenderTarget(),F.addEventListener("select",We),F.addEventListener("selectstart",We),F.addEventListener("selectend",We),F.addEventListener("squeeze",We),F.addEventListener("squeezestart",We),F.addEventListener("squeezeend",We),F.addEventListener("end",fe),F.addEventListener("inputsourceschange",Re),ce.xrCompatible!==!0&&await G.makeXRCompatible(),F.renderState.layers===void 0||Z.capabilities.isWebGL2===!1){const Ne={antialias:F.renderState.layers===void 0?ce.antialias:!0,alpha:!0,depth:ce.depth,stencil:ce.stencil,framebufferScaleFactor:U};ie=new XRWebGLLayer(F,G,Ne),F.updateRenderState({baseLayer:ie}),se=new WebGLRenderTarget(ie.framebufferWidth,ie.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:Z.outputColorSpace,stencilBuffer:ce.stencil})}else{let Ne=null,je=null,tt=null;ce.depth&&(tt=ce.stencil?G.DEPTH24_STENCIL8:G.DEPTH_COMPONENT24,Ne=ce.stencil?DepthStencilFormat:DepthFormat,je=ce.stencil?UnsignedInt248Type:UnsignedIntType);const it={colorFormat:G.RGBA8,depthFormat:tt,scaleFactor:U};q=new XRWebGLBinding(F,G),te=q.createProjectionLayer(it),F.updateRenderState({layers:[te]}),se=new WebGLRenderTarget(te.textureWidth,te.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(te.textureWidth,te.textureHeight,je,void 0,void 0,void 0,void 0,void 0,void 0,Ne),stencilBuffer:ce.stencil,colorSpace:Z.outputColorSpace,samples:ce.antialias?4:0});const st=Z.properties.get(se);st.__ignoreDepthValues=te.ignoreDepthValues}se.isXRRenderTarget=!0,this.setFoveation(D),Q=null,J=await F.requestReferenceSpace(Y),Ie.setContext(F),Ie.start(),W.isPresenting=!0,W.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(F!==null)return F.environmentBlendMode};function Re(Se){for(let Ne=0;Ne<Se.removed.length;Ne++){const je=Se.removed[Ne],tt=ue.indexOf(je);tt>=0&&(ue[tt]=null,pe[tt].disconnect(je))}for(let Ne=0;Ne<Se.added.length;Ne++){const je=Se.added[Ne];let tt=ue.indexOf(je);if(tt===-1){for(let st=0;st<pe.length;st++)if(st>=ue.length){ue.push(je),tt=st;break}else if(ue[st]===null){ue[st]=je,tt=st;break}if(tt===-1)break}const it=pe[tt];it&&it.connect(je)}}const ye=new Vector3,re=new Vector3;function Ze(Se,Ne,je){ye.setFromMatrixPosition(Ne.matrixWorld),re.setFromMatrixPosition(je.matrixWorld);const tt=ye.distanceTo(re),it=Ne.projectionMatrix.elements,st=je.projectionMatrix.elements,qe=it[14]/(it[10]-1),ot=it[14]/(it[10]+1),ut=(it[9]+1)/it[5],dt=(it[9]-1)/it[5],mt=(it[8]-1)/it[0],Je=(st[8]+1)/st[0],Me=qe*mt,ke=qe*Je,Ye=tt/(-mt+Je),Ce=Ye*-mt;Ne.matrixWorld.decompose(Se.position,Se.quaternion,Se.scale),Se.translateX(Ce),Se.translateZ(Ye),Se.matrixWorld.compose(Se.position,Se.quaternion,Se.scale),Se.matrixWorldInverse.copy(Se.matrixWorld).invert();const ze=qe+Ye,Ee=ot+Ye,_e=Me-Ce,He=ke+(tt-Ce),Pe=ut*ot/Ee*ze,$e=dt*ot/Ee*ze;Se.projectionMatrix.makePerspective(_e,He,Pe,$e,ze,Ee),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert()}function Ge(Se,Ne){Ne===null?Se.matrixWorld.copy(Se.matrix):Se.matrixWorld.multiplyMatrices(Ne.matrixWorld,Se.matrix),Se.matrixWorldInverse.copy(Se.matrixWorld).invert()}this.updateCamera=function(Se){if(F===null)return;he.near=de.near=ae.near=Se.near,he.far=de.far=ae.far=Se.far,(Le!==he.near||Xe!==he.far)&&(F.updateRenderState({depthNear:he.near,depthFar:he.far}),Le=he.near,Xe=he.far);const Ne=Se.parent,je=he.cameras;Ge(he,Ne);for(let tt=0;tt<je.length;tt++)Ge(je[tt],Ne);je.length===2?Ze(he,ae,de):he.projectionMatrix.copy(ae.projectionMatrix),ve(Se,he,Ne)};function ve(Se,Ne,je){je===null?Se.matrix.copy(Ne.matrixWorld):(Se.matrix.copy(je.matrixWorld),Se.matrix.invert(),Se.matrix.multiply(Ne.matrixWorld)),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.updateMatrixWorld(!0),Se.projectionMatrix.copy(Ne.projectionMatrix),Se.projectionMatrixInverse.copy(Ne.projectionMatrixInverse),Se.isPerspectiveCamera&&(Se.fov=RAD2DEG*2*Math.atan(1/Se.projectionMatrix.elements[5]),Se.zoom=1)}this.getCamera=function(){return he},this.getFoveation=function(){if(!(te===null&&ie===null))return D},this.setFoveation=function(Se){D=Se,te!==null&&(te.fixedFoveation=Se),ie!==null&&ie.fixedFoveation!==void 0&&(ie.fixedFoveation=Se)};let Te=null;function xe(Se,Ne){if(ee=Ne.getViewerPose(Q||J),ne=Ne,ee!==null){const je=ee.views;ie!==null&&(Z.setRenderTargetFramebuffer(se,ie.framebuffer),Z.setRenderTarget(se));let tt=!1;je.length!==he.cameras.length&&(he.cameras.length=0,tt=!0);for(let it=0;it<je.length;it++){const st=je[it];let qe=null;if(ie!==null)qe=ie.getViewport(st);else{const ut=q.getViewSubImage(te,st);qe=ut.viewport,it===0&&(Z.setRenderTargetTextures(se,ut.colorTexture,te.ignoreDepthValues?void 0:ut.depthStencilTexture),Z.setRenderTarget(se))}let ot=be[it];ot===void 0&&(ot=new PerspectiveCamera,ot.layers.enable(it),ot.viewport=new Vector4,be[it]=ot),ot.matrix.fromArray(st.transform.matrix),ot.matrix.decompose(ot.position,ot.quaternion,ot.scale),ot.projectionMatrix.fromArray(st.projectionMatrix),ot.projectionMatrixInverse.copy(ot.projectionMatrix).invert(),ot.viewport.set(qe.x,qe.y,qe.width,qe.height),it===0&&(he.matrix.copy(ot.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale)),tt===!0&&he.cameras.push(ot)}}for(let je=0;je<pe.length;je++){const tt=ue[je],it=pe[je];tt!==null&&it!==void 0&&it.update(tt,Ne,Q||J)}Te&&Te(Se,Ne),Ne.detectedPlanes&&W.dispatchEvent({type:"planesdetected",data:Ne}),ne=null}const Ie=new WebGLAnimation;Ie.setAnimationLoop(xe),this.setAnimationLoop=function(Se){Te=Se},this.dispose=function(){}}}function WebGLMaterials(X,Z){function G(le,se){le.matrixAutoUpdate===!0&&le.updateMatrix(),se.value.copy(le.matrix)}function W(le,se){se.color.getRGB(le.fogColor.value,getUnlitUniformColorSpace(X)),se.isFog?(le.fogNear.value=se.near,le.fogFar.value=se.far):se.isFogExp2&&(le.fogDensity.value=se.density)}function F(le,se,pe,ue,ae){se.isMeshBasicMaterial||se.isMeshLambertMaterial?U(le,se):se.isMeshToonMaterial?(U(le,se),q(le,se)):se.isMeshPhongMaterial?(U(le,se),ee(le,se)):se.isMeshStandardMaterial?(U(le,se),te(le,se),se.isMeshPhysicalMaterial&&ie(le,se,ae)):se.isMeshMatcapMaterial?(U(le,se),ne(le,se)):se.isMeshDepthMaterial?U(le,se):se.isMeshDistanceMaterial?(U(le,se),ce(le,se)):se.isMeshNormalMaterial?U(le,se):se.isLineBasicMaterial?(J(le,se),se.isLineDashedMaterial&&Y(le,se)):se.isPointsMaterial?D(le,se,pe,ue):se.isSpriteMaterial?Q(le,se):se.isShadowMaterial?(le.color.value.copy(se.color),le.opacity.value=se.opacity):se.isShaderMaterial&&(se.uniformsNeedUpdate=!1)}function U(le,se){le.opacity.value=se.opacity,se.color&&le.diffuse.value.copy(se.color),se.emissive&&le.emissive.value.copy(se.emissive).multiplyScalar(se.emissiveIntensity),se.map&&(le.map.value=se.map,G(se.map,le.mapTransform)),se.alphaMap&&(le.alphaMap.value=se.alphaMap,G(se.alphaMap,le.alphaMapTransform)),se.bumpMap&&(le.bumpMap.value=se.bumpMap,G(se.bumpMap,le.bumpMapTransform),le.bumpScale.value=se.bumpScale,se.side===BackSide&&(le.bumpScale.value*=-1)),se.normalMap&&(le.normalMap.value=se.normalMap,G(se.normalMap,le.normalMapTransform),le.normalScale.value.copy(se.normalScale),se.side===BackSide&&le.normalScale.value.negate()),se.displacementMap&&(le.displacementMap.value=se.displacementMap,G(se.displacementMap,le.displacementMapTransform),le.displacementScale.value=se.displacementScale,le.displacementBias.value=se.displacementBias),se.emissiveMap&&(le.emissiveMap.value=se.emissiveMap,G(se.emissiveMap,le.emissiveMapTransform)),se.specularMap&&(le.specularMap.value=se.specularMap,G(se.specularMap,le.specularMapTransform)),se.alphaTest>0&&(le.alphaTest.value=se.alphaTest);const pe=Z.get(se).envMap;if(pe&&(le.envMap.value=pe,le.flipEnvMap.value=pe.isCubeTexture&&pe.isRenderTargetTexture===!1?-1:1,le.reflectivity.value=se.reflectivity,le.ior.value=se.ior,le.refractionRatio.value=se.refractionRatio),se.lightMap){le.lightMap.value=se.lightMap;const ue=X._useLegacyLights===!0?Math.PI:1;le.lightMapIntensity.value=se.lightMapIntensity*ue,G(se.lightMap,le.lightMapTransform)}se.aoMap&&(le.aoMap.value=se.aoMap,le.aoMapIntensity.value=se.aoMapIntensity,G(se.aoMap,le.aoMapTransform))}function J(le,se){le.diffuse.value.copy(se.color),le.opacity.value=se.opacity,se.map&&(le.map.value=se.map,G(se.map,le.mapTransform))}function Y(le,se){le.dashSize.value=se.dashSize,le.totalSize.value=se.dashSize+se.gapSize,le.scale.value=se.scale}function D(le,se,pe,ue){le.diffuse.value.copy(se.color),le.opacity.value=se.opacity,le.size.value=se.size*pe,le.scale.value=ue*.5,se.map&&(le.map.value=se.map,G(se.map,le.uvTransform)),se.alphaMap&&(le.alphaMap.value=se.alphaMap,G(se.alphaMap,le.alphaMapTransform)),se.alphaTest>0&&(le.alphaTest.value=se.alphaTest)}function Q(le,se){le.diffuse.value.copy(se.color),le.opacity.value=se.opacity,le.rotation.value=se.rotation,se.map&&(le.map.value=se.map,G(se.map,le.mapTransform)),se.alphaMap&&(le.alphaMap.value=se.alphaMap,G(se.alphaMap,le.alphaMapTransform)),se.alphaTest>0&&(le.alphaTest.value=se.alphaTest)}function ee(le,se){le.specular.value.copy(se.specular),le.shininess.value=Math.max(se.shininess,1e-4)}function q(le,se){se.gradientMap&&(le.gradientMap.value=se.gradientMap)}function te(le,se){le.metalness.value=se.metalness,se.metalnessMap&&(le.metalnessMap.value=se.metalnessMap,G(se.metalnessMap,le.metalnessMapTransform)),le.roughness.value=se.roughness,se.roughnessMap&&(le.roughnessMap.value=se.roughnessMap,G(se.roughnessMap,le.roughnessMapTransform)),Z.get(se).envMap&&(le.envMapIntensity.value=se.envMapIntensity)}function ie(le,se,pe){le.ior.value=se.ior,se.sheen>0&&(le.sheenColor.value.copy(se.sheenColor).multiplyScalar(se.sheen),le.sheenRoughness.value=se.sheenRoughness,se.sheenColorMap&&(le.sheenColorMap.value=se.sheenColorMap,G(se.sheenColorMap,le.sheenColorMapTransform)),se.sheenRoughnessMap&&(le.sheenRoughnessMap.value=se.sheenRoughnessMap,G(se.sheenRoughnessMap,le.sheenRoughnessMapTransform))),se.clearcoat>0&&(le.clearcoat.value=se.clearcoat,le.clearcoatRoughness.value=se.clearcoatRoughness,se.clearcoatMap&&(le.clearcoatMap.value=se.clearcoatMap,G(se.clearcoatMap,le.clearcoatMapTransform)),se.clearcoatRoughnessMap&&(le.clearcoatRoughnessMap.value=se.clearcoatRoughnessMap,G(se.clearcoatRoughnessMap,le.clearcoatRoughnessMapTransform)),se.clearcoatNormalMap&&(le.clearcoatNormalMap.value=se.clearcoatNormalMap,G(se.clearcoatNormalMap,le.clearcoatNormalMapTransform),le.clearcoatNormalScale.value.copy(se.clearcoatNormalScale),se.side===BackSide&&le.clearcoatNormalScale.value.negate())),se.iridescence>0&&(le.iridescence.value=se.iridescence,le.iridescenceIOR.value=se.iridescenceIOR,le.iridescenceThicknessMinimum.value=se.iridescenceThicknessRange[0],le.iridescenceThicknessMaximum.value=se.iridescenceThicknessRange[1],se.iridescenceMap&&(le.iridescenceMap.value=se.iridescenceMap,G(se.iridescenceMap,le.iridescenceMapTransform)),se.iridescenceThicknessMap&&(le.iridescenceThicknessMap.value=se.iridescenceThicknessMap,G(se.iridescenceThicknessMap,le.iridescenceThicknessMapTransform))),se.transmission>0&&(le.transmission.value=se.transmission,le.transmissionSamplerMap.value=pe.texture,le.transmissionSamplerSize.value.set(pe.width,pe.height),se.transmissionMap&&(le.transmissionMap.value=se.transmissionMap,G(se.transmissionMap,le.transmissionMapTransform)),le.thickness.value=se.thickness,se.thicknessMap&&(le.thicknessMap.value=se.thicknessMap,G(se.thicknessMap,le.thicknessMapTransform)),le.attenuationDistance.value=se.attenuationDistance,le.attenuationColor.value.copy(se.attenuationColor)),se.anisotropy>0&&(le.anisotropyVector.value.set(se.anisotropy*Math.cos(se.anisotropyRotation),se.anisotropy*Math.sin(se.anisotropyRotation)),se.anisotropyMap&&(le.anisotropyMap.value=se.anisotropyMap,G(se.anisotropyMap,le.anisotropyMapTransform))),le.specularIntensity.value=se.specularIntensity,le.specularColor.value.copy(se.specularColor),se.specularColorMap&&(le.specularColorMap.value=se.specularColorMap,G(se.specularColorMap,le.specularColorMapTransform)),se.specularIntensityMap&&(le.specularIntensityMap.value=se.specularIntensityMap,G(se.specularIntensityMap,le.specularIntensityMapTransform))}function ne(le,se){se.matcap&&(le.matcap.value=se.matcap)}function ce(le,se){const pe=Z.get(se).light;le.referencePosition.value.setFromMatrixPosition(pe.matrixWorld),le.nearDistance.value=pe.shadow.camera.near,le.farDistance.value=pe.shadow.camera.far}return{refreshFogUniforms:W,refreshMaterialUniforms:F}}function WebGLUniformsGroups(X,Z,G,W){let F={},U={},J=[];const Y=G.isWebGL2?X.getParameter(X.MAX_UNIFORM_BUFFER_BINDINGS):0;function D(pe,ue){const ae=ue.program;W.uniformBlockBinding(pe,ae)}function Q(pe,ue){let ae=F[pe.id];ae===void 0&&(ne(pe),ae=ee(pe),F[pe.id]=ae,pe.addEventListener("dispose",le));const de=ue.program;W.updateUBOMapping(pe,de);const be=Z.render.frame;U[pe.id]!==be&&(te(pe),U[pe.id]=be)}function ee(pe){const ue=q();pe.__bindingPointIndex=ue;const ae=X.createBuffer(),de=pe.__size,be=pe.usage;return X.bindBuffer(X.UNIFORM_BUFFER,ae),X.bufferData(X.UNIFORM_BUFFER,de,be),X.bindBuffer(X.UNIFORM_BUFFER,null),X.bindBufferBase(X.UNIFORM_BUFFER,ue,ae),ae}function q(){for(let pe=0;pe<Y;pe++)if(J.indexOf(pe)===-1)return J.push(pe),pe;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function te(pe){const ue=F[pe.id],ae=pe.uniforms,de=pe.__cache;X.bindBuffer(X.UNIFORM_BUFFER,ue);for(let be=0,he=ae.length;be<he;be++){const Le=ae[be];if(ie(Le,be,de)===!0){const Xe=Le.__offset,We=Array.isArray(Le.value)?Le.value:[Le.value];let fe=0;for(let Re=0;Re<We.length;Re++){const ye=We[Re],re=ce(ye);typeof ye=="number"?(Le.__data[0]=ye,X.bufferSubData(X.UNIFORM_BUFFER,Xe+fe,Le.__data)):ye.isMatrix3?(Le.__data[0]=ye.elements[0],Le.__data[1]=ye.elements[1],Le.__data[2]=ye.elements[2],Le.__data[3]=ye.elements[0],Le.__data[4]=ye.elements[3],Le.__data[5]=ye.elements[4],Le.__data[6]=ye.elements[5],Le.__data[7]=ye.elements[0],Le.__data[8]=ye.elements[6],Le.__data[9]=ye.elements[7],Le.__data[10]=ye.elements[8],Le.__data[11]=ye.elements[0]):(ye.toArray(Le.__data,fe),fe+=re.storage/Float32Array.BYTES_PER_ELEMENT)}X.bufferSubData(X.UNIFORM_BUFFER,Xe,Le.__data)}}X.bindBuffer(X.UNIFORM_BUFFER,null)}function ie(pe,ue,ae){const de=pe.value;if(ae[ue]===void 0){if(typeof de=="number")ae[ue]=de;else{const be=Array.isArray(de)?de:[de],he=[];for(let Le=0;Le<be.length;Le++)he.push(be[Le].clone());ae[ue]=he}return!0}else if(typeof de=="number"){if(ae[ue]!==de)return ae[ue]=de,!0}else{const be=Array.isArray(ae[ue])?ae[ue]:[ae[ue]],he=Array.isArray(de)?de:[de];for(let Le=0;Le<be.length;Le++){const Xe=be[Le];if(Xe.equals(he[Le])===!1)return Xe.copy(he[Le]),!0}}return!1}function ne(pe){const ue=pe.uniforms;let ae=0;const de=16;let be=0;for(let he=0,Le=ue.length;he<Le;he++){const Xe=ue[he],We={boundary:0,storage:0},fe=Array.isArray(Xe.value)?Xe.value:[Xe.value];for(let Re=0,ye=fe.length;Re<ye;Re++){const re=fe[Re],Ze=ce(re);We.boundary+=Ze.boundary,We.storage+=Ze.storage}if(Xe.__data=new Float32Array(We.storage/Float32Array.BYTES_PER_ELEMENT),Xe.__offset=ae,he>0){be=ae%de;const Re=de-be;be!==0&&Re-We.boundary<0&&(ae+=de-be,Xe.__offset=ae)}ae+=We.storage}return be=ae%de,be>0&&(ae+=de-be),pe.__size=ae,pe.__cache={},this}function ce(pe){const ue={boundary:0,storage:0};return typeof pe=="number"?(ue.boundary=4,ue.storage=4):pe.isVector2?(ue.boundary=8,ue.storage=8):pe.isVector3||pe.isColor?(ue.boundary=16,ue.storage=12):pe.isVector4?(ue.boundary=16,ue.storage=16):pe.isMatrix3?(ue.boundary=48,ue.storage=48):pe.isMatrix4?(ue.boundary=64,ue.storage=64):pe.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",pe),ue}function le(pe){const ue=pe.target;ue.removeEventListener("dispose",le);const ae=J.indexOf(ue.__bindingPointIndex);J.splice(ae,1),X.deleteBuffer(F[ue.id]),delete F[ue.id],delete U[ue.id]}function se(){for(const pe in F)X.deleteBuffer(F[pe]);J=[],F={},U={}}return{bind:D,update:Q,dispose:se}}class WebGLRenderer{constructor(Z={}){const{canvas:G=createCanvasElement(),context:W=null,depth:F=!0,stencil:U=!0,alpha:J=!1,antialias:Y=!1,premultipliedAlpha:D=!0,preserveDrawingBuffer:Q=!1,powerPreference:ee="default",failIfMajorPerformanceCaveat:q=!1}=Z;this.isWebGLRenderer=!0;let te;W!==null?te=W.getContextAttributes().alpha:te=J;const ie=new Uint32Array(4),ne=new Int32Array(4);let ce=null,le=null;const se=[],pe=[];this.domElement=G,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ue=this;let ae=!1,de=0,be=0,he=null,Le=-1,Xe=null;const We=new Vector4,fe=new Vector4;let Re=null;const ye=new Color(0);let re=0,Ze=G.width,Ge=G.height,ve=1,Te=null,xe=null;const Ie=new Vector4(0,0,Ze,Ge),Se=new Vector4(0,0,Ze,Ge);let Ne=!1;const je=new Frustum;let tt=!1,it=!1,st=null;const qe=new Matrix4,ot=new Vector2,ut=new Vector3,dt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function mt(){return he===null?ve:1}let Je=W;function Me(De,bt){for(let pt=0;pt<De.length;pt++){const ht=De[pt],yt=G.getContext(ht,bt);if(yt!==null)return yt}return null}try{const De={alpha:!0,depth:F,stencil:U,antialias:Y,premultipliedAlpha:D,preserveDrawingBuffer:Q,powerPreference:ee,failIfMajorPerformanceCaveat:q};if("setAttribute"in G&&G.setAttribute("data-engine",`three.js r${REVISION}`),G.addEventListener("webglcontextlost",It,!1),G.addEventListener("webglcontextrestored",ct,!1),G.addEventListener("webglcontextcreationerror",xt,!1),Je===null){const bt=["webgl2","webgl","experimental-webgl"];if(ue.isWebGL1Renderer===!0&&bt.shift(),Je=Me(bt,De),Je===null)throw Me(bt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Je instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Je.getShaderPrecisionFormat===void 0&&(Je.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(De){throw console.error("THREE.WebGLRenderer: "+De.message),De}let ke,Ye,Ce,ze,Ee,_e,He,Pe,$e,we,Ue,et,at,Ve,oe,me,ge,Fe,Ke,Ae,rt,vt,Vt,Wt;function ft(){ke=new WebGLExtensions(Je),Ye=new WebGLCapabilities(Je,ke,Z),ke.init(Ye),vt=new WebGLUtils(Je,ke,Ye),Ce=new WebGLState(Je,ke,Ye),ze=new WebGLInfo(Je),Ee=new WebGLProperties,_e=new WebGLTextures(Je,ke,Ce,Ee,Ye,vt,ze),He=new WebGLCubeMaps(ue),Pe=new WebGLCubeUVMaps(ue),$e=new WebGLAttributes(Je,Ye),Vt=new WebGLBindingStates(Je,ke,$e,Ye),we=new WebGLGeometries(Je,$e,ze,Vt),Ue=new WebGLObjects(Je,we,$e,ze),Ke=new WebGLMorphtargets(Je,Ye,_e),me=new WebGLClipping(Ee),et=new WebGLPrograms(ue,He,Pe,ke,Ye,Vt,me),at=new WebGLMaterials(ue,Ee),Ve=new WebGLRenderLists,oe=new WebGLRenderStates(ke,Ye),Fe=new WebGLBackground(ue,He,Pe,Ce,Ue,te,D),ge=new WebGLShadowMap(ue,Ue,Ye),Wt=new WebGLUniformsGroups(Je,ze,Ye,Ce),Ae=new WebGLBufferRenderer(Je,ke,ze,Ye),rt=new WebGLIndexedBufferRenderer(Je,ke,ze,Ye),ze.programs=et.programs,ue.capabilities=Ye,ue.extensions=ke,ue.properties=Ee,ue.renderLists=Ve,ue.shadowMap=ge,ue.state=Ce,ue.info=ze}ft();const Rt=new WebXRManager(ue,Je);this.xr=Rt,this.getContext=function(){return Je},this.getContextAttributes=function(){return Je.getContextAttributes()},this.forceContextLoss=function(){const De=ke.get("WEBGL_lose_context");De&&De.loseContext()},this.forceContextRestore=function(){const De=ke.get("WEBGL_lose_context");De&&De.restoreContext()},this.getPixelRatio=function(){return ve},this.setPixelRatio=function(De){De!==void 0&&(ve=De,this.setSize(Ze,Ge,!1))},this.getSize=function(De){return De.set(Ze,Ge)},this.setSize=function(De,bt,pt=!0){if(Rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ze=De,Ge=bt,G.width=Math.floor(De*ve),G.height=Math.floor(bt*ve),pt===!0&&(G.style.width=De+"px",G.style.height=bt+"px"),this.setViewport(0,0,De,bt)},this.getDrawingBufferSize=function(De){return De.set(Ze*ve,Ge*ve).floor()},this.setDrawingBufferSize=function(De,bt,pt){Ze=De,Ge=bt,ve=pt,G.width=Math.floor(De*pt),G.height=Math.floor(bt*pt),this.setViewport(0,0,De,bt)},this.getCurrentViewport=function(De){return De.copy(We)},this.getViewport=function(De){return De.copy(Ie)},this.setViewport=function(De,bt,pt,ht){De.isVector4?Ie.set(De.x,De.y,De.z,De.w):Ie.set(De,bt,pt,ht),Ce.viewport(We.copy(Ie).multiplyScalar(ve).floor())},this.getScissor=function(De){return De.copy(Se)},this.setScissor=function(De,bt,pt,ht){De.isVector4?Se.set(De.x,De.y,De.z,De.w):Se.set(De,bt,pt,ht),Ce.scissor(fe.copy(Se).multiplyScalar(ve).floor())},this.getScissorTest=function(){return Ne},this.setScissorTest=function(De){Ce.setScissorTest(Ne=De)},this.setOpaqueSort=function(De){Te=De},this.setTransparentSort=function(De){xe=De},this.getClearColor=function(De){return De.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(De=!0,bt=!0,pt=!0){let ht=0;if(De){let yt=!1;if(he!==null){const Yt=he.texture.format;yt=Yt===RGBAIntegerFormat||Yt===RGIntegerFormat||Yt===RedIntegerFormat}if(yt){const Yt=he.texture.type,Nt=Yt===UnsignedByteType||Yt===UnsignedIntType||Yt===UnsignedShortType||Yt===UnsignedInt248Type||Yt===UnsignedShort4444Type||Yt===UnsignedShort5551Type,Ut=Fe.getClearColor(),wt=Fe.getClearAlpha(),Ct=Ut.r,Ft=Ut.g,Et=Ut.b;Nt?(ie[0]=Ct,ie[1]=Ft,ie[2]=Et,ie[3]=wt,Je.clearBufferuiv(Je.COLOR,0,ie)):(ne[0]=Ct,ne[1]=Ft,ne[2]=Et,ne[3]=wt,Je.clearBufferiv(Je.COLOR,0,ne))}else ht|=Je.COLOR_BUFFER_BIT}bt&&(ht|=Je.DEPTH_BUFFER_BIT),pt&&(ht|=Je.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Je.clear(ht)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){G.removeEventListener("webglcontextlost",It,!1),G.removeEventListener("webglcontextrestored",ct,!1),G.removeEventListener("webglcontextcreationerror",xt,!1),Ve.dispose(),oe.dispose(),Ee.dispose(),He.dispose(),Pe.dispose(),Ue.dispose(),Vt.dispose(),Wt.dispose(),et.dispose(),Rt.dispose(),Rt.removeEventListener("sessionstart",sn),Rt.removeEventListener("sessionend",Ht),st&&(st.dispose(),st=null),an.stop()};function It(De){De.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ae=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),ae=!1;const De=ze.autoReset,bt=ge.enabled,pt=ge.autoUpdate,ht=ge.needsUpdate,yt=ge.type;ft(),ze.autoReset=De,ge.enabled=bt,ge.autoUpdate=pt,ge.needsUpdate=ht,ge.type=yt}function xt(De){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",De.statusMessage)}function Qe(De){const bt=De.target;bt.removeEventListener("dispose",Qe),nt(bt)}function nt(De){Xt(De),Ee.remove(De)}function Xt(De){const bt=Ee.get(De).programs;bt!==void 0&&(bt.forEach(function(pt){et.releaseProgram(pt)}),De.isShaderMaterial&&et.releaseShaderCache(De))}this.renderBufferDirect=function(De,bt,pt,ht,yt,Yt){bt===null&&(bt=dt);const Nt=yt.isMesh&&yt.matrixWorld.determinant()<0,Ut=$t(De,bt,pt,ht,yt);Ce.setMaterial(ht,Nt);let wt=pt.index,Ct=1;if(ht.wireframe===!0){if(wt=we.getWireframeAttribute(pt),wt===void 0)return;Ct=2}const Ft=pt.drawRange,Et=pt.attributes.position;let nn=Ft.start*Ct,hn=(Ft.start+Ft.count)*Ct;Yt!==null&&(nn=Math.max(nn,Yt.start*Ct),hn=Math.min(hn,(Yt.start+Yt.count)*Ct)),wt!==null?(nn=Math.max(nn,0),hn=Math.min(hn,wt.count)):Et!=null&&(nn=Math.max(nn,0),hn=Math.min(hn,Et.count));const At=hn-nn;if(At<0||At===1/0)return;Vt.setup(yt,ht,Ut,pt,wt);let fn,qt=Ae;if(wt!==null&&(fn=$e.get(wt),qt=rt,qt.setIndex(fn)),yt.isMesh)ht.wireframe===!0?(Ce.setLineWidth(ht.wireframeLinewidth*mt()),qt.setMode(Je.LINES)):qt.setMode(Je.TRIANGLES);else if(yt.isLine){let zt=ht.linewidth;zt===void 0&&(zt=1),Ce.setLineWidth(zt*mt()),yt.isLineSegments?qt.setMode(Je.LINES):yt.isLineLoop?qt.setMode(Je.LINE_LOOP):qt.setMode(Je.LINE_STRIP)}else yt.isPoints?qt.setMode(Je.POINTS):yt.isSprite&&qt.setMode(Je.TRIANGLES);if(yt.isInstancedMesh)qt.renderInstances(nn,At,yt.count);else if(pt.isInstancedBufferGeometry){const zt=pt._maxInstanceCount!==void 0?pt._maxInstanceCount:1/0,Ln=Math.min(pt.instanceCount,zt);qt.renderInstances(nn,At,Ln)}else qt.render(nn,At)};function St(De,bt,pt){De.transparent===!0&&De.side===DoubleSide&&De.forceSinglePass===!1?(De.side=BackSide,De.needsUpdate=!0,Sn(De,bt,pt),De.side=FrontSide,De.needsUpdate=!0,Sn(De,bt,pt),De.side=DoubleSide):Sn(De,bt,pt)}this.compile=function(De,bt,pt=null){pt===null&&(pt=De),le=oe.get(pt),le.init(),pe.push(le),pt.traverseVisible(function(yt){yt.isLight&&yt.layers.test(bt.layers)&&(le.pushLight(yt),yt.castShadow&&le.pushShadow(yt))}),De!==pt&&De.traverseVisible(function(yt){yt.isLight&&yt.layers.test(bt.layers)&&(le.pushLight(yt),yt.castShadow&&le.pushShadow(yt))}),le.setupLights(ue._useLegacyLights);const ht=new Set;return De.traverse(function(yt){const Yt=yt.material;if(Yt)if(Array.isArray(Yt))for(let Nt=0;Nt<Yt.length;Nt++){const Ut=Yt[Nt];St(Ut,pt,yt),ht.add(Ut)}else St(Yt,pt,yt),ht.add(Yt)}),pe.pop(),le=null,ht},this.compileAsync=function(De,bt,pt=null){const ht=this.compile(De,bt,pt);return new Promise(yt=>{function Yt(){if(ht.forEach(function(Nt){Ee.get(Nt).currentProgram.isReady()&&ht.delete(Nt)}),ht.size===0){yt(De);return}setTimeout(Yt,10)}ke.get("KHR_parallel_shader_compile")!==null?Yt():setTimeout(Yt,10)})};let Mt=null;function jt(De){Mt&&Mt(De)}function sn(){an.stop()}function Ht(){an.start()}const an=new WebGLAnimation;an.setAnimationLoop(jt),typeof self<"u"&&an.setContext(self),this.setAnimationLoop=function(De){Mt=De,Rt.setAnimationLoop(De),De===null?an.stop():an.start()},Rt.addEventListener("sessionstart",sn),Rt.addEventListener("sessionend",Ht),this.render=function(De,bt){if(bt!==void 0&&bt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ae===!0)return;De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),bt.parent===null&&bt.matrixWorldAutoUpdate===!0&&bt.updateMatrixWorld(),Rt.enabled===!0&&Rt.isPresenting===!0&&(Rt.cameraAutoUpdate===!0&&Rt.updateCamera(bt),bt=Rt.getCamera()),De.isScene===!0&&De.onBeforeRender(ue,De,bt,he),le=oe.get(De,pe.length),le.init(),pe.push(le),qe.multiplyMatrices(bt.projectionMatrix,bt.matrixWorldInverse),je.setFromProjectionMatrix(qe),it=this.localClippingEnabled,tt=me.init(this.clippingPlanes,it),ce=Ve.get(De,se.length),ce.init(),se.push(ce),Ot(De,bt,0,ue.sortObjects),ce.finish(),ue.sortObjects===!0&&ce.sort(Te,xe),this.info.render.frame++,tt===!0&&me.beginShadows();const pt=le.state.shadowsArray;if(ge.render(pt,De,bt),tt===!0&&me.endShadows(),this.info.autoReset===!0&&this.info.reset(),Fe.render(ce,De),le.setupLights(ue._useLegacyLights),bt.isArrayCamera){const ht=bt.cameras;for(let yt=0,Yt=ht.length;yt<Yt;yt++){const Nt=ht[yt];vn(ce,De,Nt,Nt.viewport)}}else vn(ce,De,bt);he!==null&&(_e.updateMultisampleRenderTarget(he),_e.updateRenderTargetMipmap(he)),De.isScene===!0&&De.onAfterRender(ue,De,bt),Vt.resetDefaultState(),Le=-1,Xe=null,pe.pop(),pe.length>0?le=pe[pe.length-1]:le=null,se.pop(),se.length>0?ce=se[se.length-1]:ce=null};function Ot(De,bt,pt,ht){if(De.visible===!1)return;if(De.layers.test(bt.layers)){if(De.isGroup)pt=De.renderOrder;else if(De.isLOD)De.autoUpdate===!0&&De.update(bt);else if(De.isLight)le.pushLight(De),De.castShadow&&le.pushShadow(De);else if(De.isSprite){if(!De.frustumCulled||je.intersectsSprite(De)){ht&&ut.setFromMatrixPosition(De.matrixWorld).applyMatrix4(qe);const Nt=Ue.update(De),Ut=De.material;Ut.visible&&ce.push(De,Nt,Ut,pt,ut.z,null)}}else if((De.isMesh||De.isLine||De.isPoints)&&(!De.frustumCulled||je.intersectsObject(De))){const Nt=Ue.update(De),Ut=De.material;if(ht&&(De.boundingSphere!==void 0?(De.boundingSphere===null&&De.computeBoundingSphere(),ut.copy(De.boundingSphere.center)):(Nt.boundingSphere===null&&Nt.computeBoundingSphere(),ut.copy(Nt.boundingSphere.center)),ut.applyMatrix4(De.matrixWorld).applyMatrix4(qe)),Array.isArray(Ut)){const wt=Nt.groups;for(let Ct=0,Ft=wt.length;Ct<Ft;Ct++){const Et=wt[Ct],nn=Ut[Et.materialIndex];nn&&nn.visible&&ce.push(De,Nt,nn,pt,ut.z,Et)}}else Ut.visible&&ce.push(De,Nt,Ut,pt,ut.z,null)}}const Yt=De.children;for(let Nt=0,Ut=Yt.length;Nt<Ut;Nt++)Ot(Yt[Nt],bt,pt,ht)}function vn(De,bt,pt,ht){const yt=De.opaque,Yt=De.transmissive,Nt=De.transparent;le.setupLightsView(pt),tt===!0&&me.setGlobalState(ue.clippingPlanes,pt),Yt.length>0&&tn(yt,Yt,bt,pt),ht&&Ce.viewport(We.copy(ht)),yt.length>0&&Qt(yt,bt,pt),Yt.length>0&&Qt(Yt,bt,pt),Nt.length>0&&Qt(Nt,bt,pt),Ce.buffers.depth.setTest(!0),Ce.buffers.depth.setMask(!0),Ce.buffers.color.setMask(!0),Ce.setPolygonOffset(!1)}function tn(De,bt,pt,ht){if((pt.isScene===!0?pt.overrideMaterial:null)!==null)return;const Yt=Ye.isWebGL2;st===null&&(st=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Yt?4:0})),ue.getDrawingBufferSize(ot),Yt?st.setSize(ot.x,ot.y):st.setSize(floorPowerOfTwo(ot.x),floorPowerOfTwo(ot.y));const Nt=ue.getRenderTarget();ue.setRenderTarget(st),ue.getClearColor(ye),re=ue.getClearAlpha(),re<1&&ue.setClearColor(16777215,.5),ue.clear();const Ut=ue.toneMapping;ue.toneMapping=NoToneMapping,Qt(De,pt,ht),_e.updateMultisampleRenderTarget(st),_e.updateRenderTargetMipmap(st);let wt=!1;for(let Ct=0,Ft=bt.length;Ct<Ft;Ct++){const Et=bt[Ct],nn=Et.object,hn=Et.geometry,At=Et.material,fn=Et.group;if(At.side===DoubleSide&&nn.layers.test(ht.layers)){const qt=At.side;At.side=BackSide,At.needsUpdate=!0,En(nn,pt,ht,hn,At,fn),At.side=qt,At.needsUpdate=!0,wt=!0}}wt===!0&&(_e.updateMultisampleRenderTarget(st),_e.updateRenderTargetMipmap(st)),ue.setRenderTarget(Nt),ue.setClearColor(ye,re),ue.toneMapping=Ut}function Qt(De,bt,pt){const ht=bt.isScene===!0?bt.overrideMaterial:null;for(let yt=0,Yt=De.length;yt<Yt;yt++){const Nt=De[yt],Ut=Nt.object,wt=Nt.geometry,Ct=ht===null?Nt.material:ht,Ft=Nt.group;Ut.layers.test(pt.layers)&&En(Ut,bt,pt,wt,Ct,Ft)}}function En(De,bt,pt,ht,yt,Yt){De.onBeforeRender(ue,bt,pt,ht,yt,Yt),De.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,De.matrixWorld),De.normalMatrix.getNormalMatrix(De.modelViewMatrix),yt.onBeforeRender(ue,bt,pt,ht,De,Yt),yt.transparent===!0&&yt.side===DoubleSide&&yt.forceSinglePass===!1?(yt.side=BackSide,yt.needsUpdate=!0,ue.renderBufferDirect(pt,bt,ht,yt,De,Yt),yt.side=FrontSide,yt.needsUpdate=!0,ue.renderBufferDirect(pt,bt,ht,yt,De,Yt),yt.side=DoubleSide):ue.renderBufferDirect(pt,bt,ht,yt,De,Yt),De.onAfterRender(ue,bt,pt,ht,yt,Yt)}function Sn(De,bt,pt){bt.isScene!==!0&&(bt=dt);const ht=Ee.get(De),yt=le.state.lights,Yt=le.state.shadowsArray,Nt=yt.state.version,Ut=et.getParameters(De,yt.state,Yt,bt,pt),wt=et.getProgramCacheKey(Ut);let Ct=ht.programs;ht.environment=De.isMeshStandardMaterial?bt.environment:null,ht.fog=bt.fog,ht.envMap=(De.isMeshStandardMaterial?Pe:He).get(De.envMap||ht.environment),Ct===void 0&&(De.addEventListener("dispose",Qe),Ct=new Map,ht.programs=Ct);let Ft=Ct.get(wt);if(Ft!==void 0){if(ht.currentProgram===Ft&&ht.lightsStateVersion===Nt)return pn(De,Ut),Ft}else Ut.uniforms=et.getUniforms(De),De.onBuild(pt,Ut,ue),De.onBeforeCompile(Ut,ue),Ft=et.acquireProgram(Ut,wt),Ct.set(wt,Ft),ht.uniforms=Ut.uniforms;const Et=ht.uniforms;return(!De.isShaderMaterial&&!De.isRawShaderMaterial||De.clipping===!0)&&(Et.clippingPlanes=me.uniform),pn(De,Ut),ht.needsLights=di(De),ht.lightsStateVersion=Nt,ht.needsLights&&(Et.ambientLightColor.value=yt.state.ambient,Et.lightProbe.value=yt.state.probe,Et.directionalLights.value=yt.state.directional,Et.directionalLightShadows.value=yt.state.directionalShadow,Et.spotLights.value=yt.state.spot,Et.spotLightShadows.value=yt.state.spotShadow,Et.rectAreaLights.value=yt.state.rectArea,Et.ltc_1.value=yt.state.rectAreaLTC1,Et.ltc_2.value=yt.state.rectAreaLTC2,Et.pointLights.value=yt.state.point,Et.pointLightShadows.value=yt.state.pointShadow,Et.hemisphereLights.value=yt.state.hemi,Et.directionalShadowMap.value=yt.state.directionalShadowMap,Et.directionalShadowMatrix.value=yt.state.directionalShadowMatrix,Et.spotShadowMap.value=yt.state.spotShadowMap,Et.spotLightMatrix.value=yt.state.spotLightMatrix,Et.spotLightMap.value=yt.state.spotLightMap,Et.pointShadowMap.value=yt.state.pointShadowMap,Et.pointShadowMatrix.value=yt.state.pointShadowMatrix),ht.currentProgram=Ft,ht.uniformsList=null,Ft}function dn(De){if(De.uniformsList===null){const bt=De.currentProgram.getUniforms();De.uniformsList=WebGLUniforms.seqWithValue(bt.seq,De.uniforms)}return De.uniformsList}function pn(De,bt){const pt=Ee.get(De);pt.outputColorSpace=bt.outputColorSpace,pt.instancing=bt.instancing,pt.instancingColor=bt.instancingColor,pt.skinning=bt.skinning,pt.morphTargets=bt.morphTargets,pt.morphNormals=bt.morphNormals,pt.morphColors=bt.morphColors,pt.morphTargetsCount=bt.morphTargetsCount,pt.numClippingPlanes=bt.numClippingPlanes,pt.numIntersection=bt.numClipIntersection,pt.vertexAlphas=bt.vertexAlphas,pt.vertexTangents=bt.vertexTangents,pt.toneMapping=bt.toneMapping}function $t(De,bt,pt,ht,yt){bt.isScene!==!0&&(bt=dt),_e.resetTextureUnits();const Yt=bt.fog,Nt=ht.isMeshStandardMaterial?bt.environment:null,Ut=he===null?ue.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:LinearSRGBColorSpace,wt=(ht.isMeshStandardMaterial?Pe:He).get(ht.envMap||Nt),Ct=ht.vertexColors===!0&&!!pt.attributes.color&&pt.attributes.color.itemSize===4,Ft=!!pt.attributes.tangent&&(!!ht.normalMap||ht.anisotropy>0),Et=!!pt.morphAttributes.position,nn=!!pt.morphAttributes.normal,hn=!!pt.morphAttributes.color;let At=NoToneMapping;ht.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(At=ue.toneMapping);const fn=pt.morphAttributes.position||pt.morphAttributes.normal||pt.morphAttributes.color,qt=fn!==void 0?fn.length:0,zt=Ee.get(ht),Ln=le.state.lights;if(tt===!0&&(it===!0||De!==Xe)){const un=De===Xe&&ht.id===Le;me.setState(ht,De,un)}let Dt=!1;ht.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==Ln.state.version||zt.outputColorSpace!==Ut||yt.isInstancedMesh&&zt.instancing===!1||!yt.isInstancedMesh&&zt.instancing===!0||yt.isSkinnedMesh&&zt.skinning===!1||!yt.isSkinnedMesh&&zt.skinning===!0||yt.isInstancedMesh&&zt.instancingColor===!0&&yt.instanceColor===null||yt.isInstancedMesh&&zt.instancingColor===!1&&yt.instanceColor!==null||zt.envMap!==wt||ht.fog===!0&&zt.fog!==Yt||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==me.numPlanes||zt.numIntersection!==me.numIntersection)||zt.vertexAlphas!==Ct||zt.vertexTangents!==Ft||zt.morphTargets!==Et||zt.morphNormals!==nn||zt.morphColors!==hn||zt.toneMapping!==At||Ye.isWebGL2===!0&&zt.morphTargetsCount!==qt)&&(Dt=!0):(Dt=!0,zt.__version=ht.version);let Gn=zt.currentProgram;Dt===!0&&(Gn=Sn(ht,bt,yt));let Xn=!1,Vn=!1,ln=!1;const cn=Gn.getUniforms(),gn=zt.uniforms;if(Ce.useProgram(Gn.program)&&(Xn=!0,Vn=!0,ln=!0),ht.id!==Le&&(Le=ht.id,Vn=!0),Xn||Xe!==De){cn.setValue(Je,"projectionMatrix",De.projectionMatrix),cn.setValue(Je,"viewMatrix",De.matrixWorldInverse);const un=cn.map.cameraPosition;un!==void 0&&un.setValue(Je,ut.setFromMatrixPosition(De.matrixWorld)),Ye.logarithmicDepthBuffer&&cn.setValue(Je,"logDepthBufFC",2/(Math.log(De.far+1)/Math.LN2)),(ht.isMeshPhongMaterial||ht.isMeshToonMaterial||ht.isMeshLambertMaterial||ht.isMeshBasicMaterial||ht.isMeshStandardMaterial||ht.isShaderMaterial)&&cn.setValue(Je,"isOrthographic",De.isOrthographicCamera===!0),Xe!==De&&(Xe=De,Vn=!0,ln=!0)}if(yt.isSkinnedMesh){cn.setOptional(Je,yt,"bindMatrix"),cn.setOptional(Je,yt,"bindMatrixInverse");const un=yt.skeleton;un&&(Ye.floatVertexTextures?(un.boneTexture===null&&un.computeBoneTexture(),cn.setValue(Je,"boneTexture",un.boneTexture,_e),cn.setValue(Je,"boneTextureSize",un.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const An=pt.morphAttributes;if((An.position!==void 0||An.normal!==void 0||An.color!==void 0&&Ye.isWebGL2===!0)&&Ke.update(yt,pt,Gn),(Vn||zt.receiveShadow!==yt.receiveShadow)&&(zt.receiveShadow=yt.receiveShadow,cn.setValue(Je,"receiveShadow",yt.receiveShadow)),ht.isMeshGouraudMaterial&&ht.envMap!==null&&(gn.envMap.value=wt,gn.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),Vn&&(cn.setValue(Je,"toneMappingExposure",ue.toneMappingExposure),zt.needsLights&&wn(gn,ln),Yt&&ht.fog===!0&&at.refreshFogUniforms(gn,Yt),at.refreshMaterialUniforms(gn,ht,ve,Ge,st),WebGLUniforms.upload(Je,dn(zt),gn,_e)),ht.isShaderMaterial&&ht.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Je,dn(zt),gn,_e),ht.uniformsNeedUpdate=!1),ht.isSpriteMaterial&&cn.setValue(Je,"center",yt.center),cn.setValue(Je,"modelViewMatrix",yt.modelViewMatrix),cn.setValue(Je,"normalMatrix",yt.normalMatrix),cn.setValue(Je,"modelMatrix",yt.matrixWorld),ht.isShaderMaterial||ht.isRawShaderMaterial){const un=ht.uniformsGroups;for(let xn=0,ui=un.length;xn<ui;xn++)if(Ye.isWebGL2){const ii=un[xn];Wt.update(ii,Gn),Wt.bind(ii,Gn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Gn}function wn(De,bt){De.ambientLightColor.needsUpdate=bt,De.lightProbe.needsUpdate=bt,De.directionalLights.needsUpdate=bt,De.directionalLightShadows.needsUpdate=bt,De.pointLights.needsUpdate=bt,De.pointLightShadows.needsUpdate=bt,De.spotLights.needsUpdate=bt,De.spotLightShadows.needsUpdate=bt,De.rectAreaLights.needsUpdate=bt,De.hemisphereLights.needsUpdate=bt}function di(De){return De.isMeshLambertMaterial||De.isMeshToonMaterial||De.isMeshPhongMaterial||De.isMeshStandardMaterial||De.isShadowMaterial||De.isShaderMaterial&&De.lights===!0}this.getActiveCubeFace=function(){return de},this.getActiveMipmapLevel=function(){return be},this.getRenderTarget=function(){return he},this.setRenderTargetTextures=function(De,bt,pt){Ee.get(De.texture).__webglTexture=bt,Ee.get(De.depthTexture).__webglTexture=pt;const ht=Ee.get(De);ht.__hasExternalTextures=!0,ht.__hasExternalTextures&&(ht.__autoAllocateDepthBuffer=pt===void 0,ht.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ht.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(De,bt){const pt=Ee.get(De);pt.__webglFramebuffer=bt,pt.__useDefaultFramebuffer=bt===void 0},this.setRenderTarget=function(De,bt=0,pt=0){he=De,de=bt,be=pt;let ht=!0,yt=null,Yt=!1,Nt=!1;if(De){const wt=Ee.get(De);wt.__useDefaultFramebuffer!==void 0?(Ce.bindFramebuffer(Je.FRAMEBUFFER,null),ht=!1):wt.__webglFramebuffer===void 0?_e.setupRenderTarget(De):wt.__hasExternalTextures&&_e.rebindTextures(De,Ee.get(De.texture).__webglTexture,Ee.get(De.depthTexture).__webglTexture);const Ct=De.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(Nt=!0);const Ft=Ee.get(De).__webglFramebuffer;De.isWebGLCubeRenderTarget?(Array.isArray(Ft[bt])?yt=Ft[bt][pt]:yt=Ft[bt],Yt=!0):Ye.isWebGL2&&De.samples>0&&_e.useMultisampledRTT(De)===!1?yt=Ee.get(De).__webglMultisampledFramebuffer:Array.isArray(Ft)?yt=Ft[pt]:yt=Ft,We.copy(De.viewport),fe.copy(De.scissor),Re=De.scissorTest}else We.copy(Ie).multiplyScalar(ve).floor(),fe.copy(Se).multiplyScalar(ve).floor(),Re=Ne;if(Ce.bindFramebuffer(Je.FRAMEBUFFER,yt)&&Ye.drawBuffers&&ht&&Ce.drawBuffers(De,yt),Ce.viewport(We),Ce.scissor(fe),Ce.setScissorTest(Re),Yt){const wt=Ee.get(De.texture);Je.framebufferTexture2D(Je.FRAMEBUFFER,Je.COLOR_ATTACHMENT0,Je.TEXTURE_CUBE_MAP_POSITIVE_X+bt,wt.__webglTexture,pt)}else if(Nt){const wt=Ee.get(De.texture),Ct=bt||0;Je.framebufferTextureLayer(Je.FRAMEBUFFER,Je.COLOR_ATTACHMENT0,wt.__webglTexture,pt||0,Ct)}Le=-1},this.readRenderTargetPixels=function(De,bt,pt,ht,yt,Yt,Nt){if(!(De&&De.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ut=Ee.get(De).__webglFramebuffer;if(De.isWebGLCubeRenderTarget&&Nt!==void 0&&(Ut=Ut[Nt]),Ut){Ce.bindFramebuffer(Je.FRAMEBUFFER,Ut);try{const wt=De.texture,Ct=wt.format,Ft=wt.type;if(Ct!==RGBAFormat&&vt.convert(Ct)!==Je.getParameter(Je.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Et=Ft===HalfFloatType&&(ke.has("EXT_color_buffer_half_float")||Ye.isWebGL2&&ke.has("EXT_color_buffer_float"));if(Ft!==UnsignedByteType&&vt.convert(Ft)!==Je.getParameter(Je.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ft===FloatType&&(Ye.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}bt>=0&&bt<=De.width-ht&&pt>=0&&pt<=De.height-yt&&Je.readPixels(bt,pt,ht,yt,vt.convert(Ct),vt.convert(Ft),Yt)}finally{const wt=he!==null?Ee.get(he).__webglFramebuffer:null;Ce.bindFramebuffer(Je.FRAMEBUFFER,wt)}}},this.copyFramebufferToTexture=function(De,bt,pt=0){const ht=Math.pow(2,-pt),yt=Math.floor(bt.image.width*ht),Yt=Math.floor(bt.image.height*ht);_e.setTexture2D(bt,0),Je.copyTexSubImage2D(Je.TEXTURE_2D,pt,0,0,De.x,De.y,yt,Yt),Ce.unbindTexture()},this.copyTextureToTexture=function(De,bt,pt,ht=0){const yt=bt.image.width,Yt=bt.image.height,Nt=vt.convert(pt.format),Ut=vt.convert(pt.type);_e.setTexture2D(pt,0),Je.pixelStorei(Je.UNPACK_FLIP_Y_WEBGL,pt.flipY),Je.pixelStorei(Je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pt.premultiplyAlpha),Je.pixelStorei(Je.UNPACK_ALIGNMENT,pt.unpackAlignment),bt.isDataTexture?Je.texSubImage2D(Je.TEXTURE_2D,ht,De.x,De.y,yt,Yt,Nt,Ut,bt.image.data):bt.isCompressedTexture?Je.compressedTexSubImage2D(Je.TEXTURE_2D,ht,De.x,De.y,bt.mipmaps[0].width,bt.mipmaps[0].height,Nt,bt.mipmaps[0].data):Je.texSubImage2D(Je.TEXTURE_2D,ht,De.x,De.y,Nt,Ut,bt.image),ht===0&&pt.generateMipmaps&&Je.generateMipmap(Je.TEXTURE_2D),Ce.unbindTexture()},this.copyTextureToTexture3D=function(De,bt,pt,ht,yt=0){if(ue.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Yt=De.max.x-De.min.x+1,Nt=De.max.y-De.min.y+1,Ut=De.max.z-De.min.z+1,wt=vt.convert(ht.format),Ct=vt.convert(ht.type);let Ft;if(ht.isData3DTexture)_e.setTexture3D(ht,0),Ft=Je.TEXTURE_3D;else if(ht.isDataArrayTexture)_e.setTexture2DArray(ht,0),Ft=Je.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Je.pixelStorei(Je.UNPACK_FLIP_Y_WEBGL,ht.flipY),Je.pixelStorei(Je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ht.premultiplyAlpha),Je.pixelStorei(Je.UNPACK_ALIGNMENT,ht.unpackAlignment);const Et=Je.getParameter(Je.UNPACK_ROW_LENGTH),nn=Je.getParameter(Je.UNPACK_IMAGE_HEIGHT),hn=Je.getParameter(Je.UNPACK_SKIP_PIXELS),At=Je.getParameter(Je.UNPACK_SKIP_ROWS),fn=Je.getParameter(Je.UNPACK_SKIP_IMAGES),qt=pt.isCompressedTexture?pt.mipmaps[0]:pt.image;Je.pixelStorei(Je.UNPACK_ROW_LENGTH,qt.width),Je.pixelStorei(Je.UNPACK_IMAGE_HEIGHT,qt.height),Je.pixelStorei(Je.UNPACK_SKIP_PIXELS,De.min.x),Je.pixelStorei(Je.UNPACK_SKIP_ROWS,De.min.y),Je.pixelStorei(Je.UNPACK_SKIP_IMAGES,De.min.z),pt.isDataTexture||pt.isData3DTexture?Je.texSubImage3D(Ft,yt,bt.x,bt.y,bt.z,Yt,Nt,Ut,wt,Ct,qt.data):pt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Je.compressedTexSubImage3D(Ft,yt,bt.x,bt.y,bt.z,Yt,Nt,Ut,wt,qt.data)):Je.texSubImage3D(Ft,yt,bt.x,bt.y,bt.z,Yt,Nt,Ut,wt,Ct,qt),Je.pixelStorei(Je.UNPACK_ROW_LENGTH,Et),Je.pixelStorei(Je.UNPACK_IMAGE_HEIGHT,nn),Je.pixelStorei(Je.UNPACK_SKIP_PIXELS,hn),Je.pixelStorei(Je.UNPACK_SKIP_ROWS,At),Je.pixelStorei(Je.UNPACK_SKIP_IMAGES,fn),yt===0&&ht.generateMipmaps&&Je.generateMipmap(Ft),Ce.unbindTexture()},this.initTexture=function(De){De.isCubeTexture?_e.setTextureCube(De,0):De.isData3DTexture?_e.setTexture3D(De,0):De.isDataArrayTexture||De.isCompressedArrayTexture?_e.setTexture2DArray(De,0):_e.setTexture2D(De,0),Ce.unbindTexture()},this.resetState=function(){de=0,be=0,he=null,Ce.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(Z){this._outputColorSpace=Z;const G=this.getContext();G.drawingBufferColorSpace=Z===DisplayP3ColorSpace?"display-p3":"srgb",G.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(Z){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!Z}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set outputEncoding(Z){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=Z===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(Z){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=Z}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(Z,G){return super.copy(Z,G),Z.background!==null&&(this.background=Z.background.clone()),Z.environment!==null&&(this.environment=Z.environment.clone()),Z.fog!==null&&(this.fog=Z.fog.clone()),this.backgroundBlurriness=Z.backgroundBlurriness,this.backgroundIntensity=Z.backgroundIntensity,Z.overrideMaterial!==null&&(this.overrideMaterial=Z.overrideMaterial.clone()),this.matrixAutoUpdate=Z.matrixAutoUpdate,this}toJSON(Z){const G=super.toJSON(Z);return this.fog!==null&&(G.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(G.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(G.object.backgroundIntensity=this.backgroundIntensity),G}}class InstancedBufferAttribute extends BufferAttribute{constructor(Z,G,W,F=1){super(Z,G,W),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=F}copy(Z){return super.copy(Z),this.meshPerAttribute=Z.meshPerAttribute,this}toJSON(){const Z=super.toJSON();return Z.meshPerAttribute=this.meshPerAttribute,Z.isInstancedBufferAttribute=!0,Z}}class LineBasicMaterial extends Material{constructor(Z){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.map=Z.map,this.linewidth=Z.linewidth,this.linecap=Z.linecap,this.linejoin=Z.linejoin,this.fog=Z.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(Z=new BufferGeometry,G=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=Z,this.material=G,this.updateMorphTargets()}copy(Z,G){return super.copy(Z,G),this.material=Array.isArray(Z.material)?Z.material.slice():Z.material,this.geometry=Z.geometry,this}computeLineDistances(){const Z=this.geometry;if(Z.index===null){const G=Z.attributes.position,W=[0];for(let F=1,U=G.count;F<U;F++)_start$1.fromBufferAttribute(G,F-1),_end$1.fromBufferAttribute(G,F),W[F]=W[F-1],W[F]+=_start$1.distanceTo(_end$1);Z.setAttribute("lineDistance",new Float32BufferAttribute(W,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(Z,G){const W=this.geometry,F=this.matrixWorld,U=Z.params.Line.threshold,J=W.drawRange;if(W.boundingSphere===null&&W.computeBoundingSphere(),_sphere$1.copy(W.boundingSphere),_sphere$1.applyMatrix4(F),_sphere$1.radius+=U,Z.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(F).invert(),_ray$1.copy(Z.ray).applyMatrix4(_inverseMatrix$1);const Y=U/((this.scale.x+this.scale.y+this.scale.z)/3),D=Y*Y,Q=new Vector3,ee=new Vector3,q=new Vector3,te=new Vector3,ie=this.isLineSegments?2:1,ne=W.index,le=W.attributes.position;if(ne!==null){const se=Math.max(0,J.start),pe=Math.min(ne.count,J.start+J.count);for(let ue=se,ae=pe-1;ue<ae;ue+=ie){const de=ne.getX(ue),be=ne.getX(ue+1);if(Q.fromBufferAttribute(le,de),ee.fromBufferAttribute(le,be),_ray$1.distanceSqToSegment(Q,ee,te,q)>D)continue;te.applyMatrix4(this.matrixWorld);const Le=Z.ray.origin.distanceTo(te);Le<Z.near||Le>Z.far||G.push({distance:Le,point:q.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}else{const se=Math.max(0,J.start),pe=Math.min(le.count,J.start+J.count);for(let ue=se,ae=pe-1;ue<ae;ue+=ie){if(Q.fromBufferAttribute(le,ue),ee.fromBufferAttribute(le,ue+1),_ray$1.distanceSqToSegment(Q,ee,te,q)>D)continue;te.applyMatrix4(this.matrixWorld);const be=Z.ray.origin.distanceTo(te);be<Z.near||be>Z.far||G.push({distance:be,point:q.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const G=this.geometry.morphAttributes,W=Object.keys(G);if(W.length>0){const F=G[W[0]];if(F!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U=0,J=F.length;U<J;U++){const Y=F[U].name||String(U);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=U}}}}}const _start$2=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(Z,G){super(Z,G),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const Z=this.geometry;if(Z.index===null){const G=Z.attributes.position,W=[];for(let F=0,U=G.count;F<U;F+=2)_start$2.fromBufferAttribute(G,F),_end.fromBufferAttribute(G,F+1),W[F]=F===0?0:W[F-1],W[F+1]=W[F]+_start$2.distanceTo(_end);Z.setAttribute("lineDistance",new Float32BufferAttribute(W,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PointsMaterial extends Material{constructor(Z){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.map=Z.map,this.alphaMap=Z.alphaMap,this.size=Z.size,this.sizeAttenuation=Z.sizeAttenuation,this.fog=Z.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(Z=new BufferGeometry,G=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=Z,this.material=G,this.updateMorphTargets()}copy(Z,G){return super.copy(Z,G),this.material=Array.isArray(Z.material)?Z.material.slice():Z.material,this.geometry=Z.geometry,this}raycast(Z,G){const W=this.geometry,F=this.matrixWorld,U=Z.params.Points.threshold,J=W.drawRange;if(W.boundingSphere===null&&W.computeBoundingSphere(),_sphere.copy(W.boundingSphere),_sphere.applyMatrix4(F),_sphere.radius+=U,Z.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(F).invert(),_ray.copy(Z.ray).applyMatrix4(_inverseMatrix);const Y=U/((this.scale.x+this.scale.y+this.scale.z)/3),D=Y*Y,Q=W.index,q=W.attributes.position;if(Q!==null){const te=Math.max(0,J.start),ie=Math.min(Q.count,J.start+J.count);for(let ne=te,ce=ie;ne<ce;ne++){const le=Q.getX(ne);_position$2.fromBufferAttribute(q,le),testPoint(_position$2,le,D,F,Z,G,this)}}else{const te=Math.max(0,J.start),ie=Math.min(q.count,J.start+J.count);for(let ne=te,ce=ie;ne<ce;ne++)_position$2.fromBufferAttribute(q,ne),testPoint(_position$2,ne,D,F,Z,G,this)}}updateMorphTargets(){const G=this.geometry.morphAttributes,W=Object.keys(G);if(W.length>0){const F=G[W[0]];if(F!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let U=0,J=F.length;U<J;U++){const Y=F[U].name||String(U);this.morphTargetInfluences.push(0),this.morphTargetDictionary[Y]=U}}}}}function testPoint(X,Z,G,W,F,U,J){const Y=_ray.distanceSqToPoint(X);if(Y<G){const D=new Vector3;_ray.closestPointToPoint(X,D),D.applyMatrix4(W);const Q=F.ray.origin.distanceTo(D);if(Q<F.near||Q>F.far)return;U.push({distance:Q,distanceToRay:Math.sqrt(Y),point:D,index:Z,face:null,object:J})}}class CylinderGeometry extends BufferGeometry{constructor(Z=1,G=1,W=1,F=32,U=1,J=!1,Y=0,D=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:Z,radiusBottom:G,height:W,radialSegments:F,heightSegments:U,openEnded:J,thetaStart:Y,thetaLength:D};const Q=this;F=Math.floor(F),U=Math.floor(U);const ee=[],q=[],te=[],ie=[];let ne=0;const ce=[],le=W/2;let se=0;pe(),J===!1&&(Z>0&&ue(!0),G>0&&ue(!1)),this.setIndex(ee),this.setAttribute("position",new Float32BufferAttribute(q,3)),this.setAttribute("normal",new Float32BufferAttribute(te,3)),this.setAttribute("uv",new Float32BufferAttribute(ie,2));function pe(){const ae=new Vector3,de=new Vector3;let be=0;const he=(G-Z)/W;for(let Le=0;Le<=U;Le++){const Xe=[],We=Le/U,fe=We*(G-Z)+Z;for(let Re=0;Re<=F;Re++){const ye=Re/F,re=ye*D+Y,Ze=Math.sin(re),Ge=Math.cos(re);de.x=fe*Ze,de.y=-We*W+le,de.z=fe*Ge,q.push(de.x,de.y,de.z),ae.set(Ze,he,Ge).normalize(),te.push(ae.x,ae.y,ae.z),ie.push(ye,1-We),Xe.push(ne++)}ce.push(Xe)}for(let Le=0;Le<F;Le++)for(let Xe=0;Xe<U;Xe++){const We=ce[Xe][Le],fe=ce[Xe+1][Le],Re=ce[Xe+1][Le+1],ye=ce[Xe][Le+1];ee.push(We,fe,ye),ee.push(fe,Re,ye),be+=6}Q.addGroup(se,be,0),se+=be}function ue(ae){const de=ne,be=new Vector2,he=new Vector3;let Le=0;const Xe=ae===!0?Z:G,We=ae===!0?1:-1;for(let Re=1;Re<=F;Re++)q.push(0,le*We,0),te.push(0,We,0),ie.push(.5,.5),ne++;const fe=ne;for(let Re=0;Re<=F;Re++){const re=Re/F*D+Y,Ze=Math.cos(re),Ge=Math.sin(re);he.x=Xe*Ge,he.y=le*We,he.z=Xe*Ze,q.push(he.x,he.y,he.z),te.push(0,We,0),be.x=Ze*.5+.5,be.y=Ge*.5*We+.5,ie.push(be.x,be.y),ne++}for(let Re=0;Re<F;Re++){const ye=de+Re,re=fe+Re;ae===!0?ee.push(re,re+1,ye):ee.push(re+1,re,ye),Le+=3}Q.addGroup(se,Le,ae===!0?1:2),se+=Le}}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new CylinderGeometry(Z.radiusTop,Z.radiusBottom,Z.height,Z.radialSegments,Z.heightSegments,Z.openEnded,Z.thetaStart,Z.thetaLength)}}class TorusKnotGeometry extends BufferGeometry{constructor(Z=1,G=.4,W=64,F=8,U=2,J=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:Z,tube:G,tubularSegments:W,radialSegments:F,p:U,q:J},W=Math.floor(W),F=Math.floor(F);const Y=[],D=[],Q=[],ee=[],q=new Vector3,te=new Vector3,ie=new Vector3,ne=new Vector3,ce=new Vector3,le=new Vector3,se=new Vector3;for(let ue=0;ue<=W;++ue){const ae=ue/W*U*Math.PI*2;pe(ae,U,J,Z,ie),pe(ae+.01,U,J,Z,ne),le.subVectors(ne,ie),se.addVectors(ne,ie),ce.crossVectors(le,se),se.crossVectors(ce,le),ce.normalize(),se.normalize();for(let de=0;de<=F;++de){const be=de/F*Math.PI*2,he=-G*Math.cos(be),Le=G*Math.sin(be);q.x=ie.x+(he*se.x+Le*ce.x),q.y=ie.y+(he*se.y+Le*ce.y),q.z=ie.z+(he*se.z+Le*ce.z),D.push(q.x,q.y,q.z),te.subVectors(q,ie).normalize(),Q.push(te.x,te.y,te.z),ee.push(ue/W),ee.push(de/F)}}for(let ue=1;ue<=W;ue++)for(let ae=1;ae<=F;ae++){const de=(F+1)*(ue-1)+(ae-1),be=(F+1)*ue+(ae-1),he=(F+1)*ue+ae,Le=(F+1)*(ue-1)+ae;Y.push(de,be,Le),Y.push(be,he,Le)}this.setIndex(Y),this.setAttribute("position",new Float32BufferAttribute(D,3)),this.setAttribute("normal",new Float32BufferAttribute(Q,3)),this.setAttribute("uv",new Float32BufferAttribute(ee,2));function pe(ue,ae,de,be,he){const Le=Math.cos(ue),Xe=Math.sin(ue),We=de/ae*ue,fe=Math.cos(We);he.x=be*(2+fe)*.5*Le,he.y=be*(2+fe)*Xe*.5,he.z=be*Math.sin(We)*.5}}copy(Z){return super.copy(Z),this.parameters=Object.assign({},Z.parameters),this}static fromJSON(Z){return new TorusKnotGeometry(Z.radius,Z.tube,Z.tubularSegments,Z.radialSegments,Z.p,Z.q)}}class RawShaderMaterial extends ShaderMaterial{constructor(Z){super(Z),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshPhongMaterial extends Material{constructor(Z){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(Z)}copy(Z){return super.copy(Z),this.color.copy(Z.color),this.specular.copy(Z.specular),this.shininess=Z.shininess,this.map=Z.map,this.lightMap=Z.lightMap,this.lightMapIntensity=Z.lightMapIntensity,this.aoMap=Z.aoMap,this.aoMapIntensity=Z.aoMapIntensity,this.emissive.copy(Z.emissive),this.emissiveMap=Z.emissiveMap,this.emissiveIntensity=Z.emissiveIntensity,this.bumpMap=Z.bumpMap,this.bumpScale=Z.bumpScale,this.normalMap=Z.normalMap,this.normalMapType=Z.normalMapType,this.normalScale.copy(Z.normalScale),this.displacementMap=Z.displacementMap,this.displacementScale=Z.displacementScale,this.displacementBias=Z.displacementBias,this.specularMap=Z.specularMap,this.alphaMap=Z.alphaMap,this.envMap=Z.envMap,this.combine=Z.combine,this.reflectivity=Z.reflectivity,this.refractionRatio=Z.refractionRatio,this.wireframe=Z.wireframe,this.wireframeLinewidth=Z.wireframeLinewidth,this.wireframeLinecap=Z.wireframeLinecap,this.wireframeLinejoin=Z.wireframeLinejoin,this.flatShading=Z.flatShading,this.fog=Z.fog,this}}const Cache={enabled:!1,files:{},add:function(X,Z){this.enabled!==!1&&(this.files[X]=Z)},get:function(X){if(this.enabled!==!1)return this.files[X]},remove:function(X){delete this.files[X]},clear:function(){this.files={}}};class LoadingManager{constructor(Z,G,W){const F=this;let U=!1,J=0,Y=0,D;const Q=[];this.onStart=void 0,this.onLoad=Z,this.onProgress=G,this.onError=W,this.itemStart=function(ee){Y++,U===!1&&F.onStart!==void 0&&F.onStart(ee,J,Y),U=!0},this.itemEnd=function(ee){J++,F.onProgress!==void 0&&F.onProgress(ee,J,Y),J===Y&&(U=!1,F.onLoad!==void 0&&F.onLoad())},this.itemError=function(ee){F.onError!==void 0&&F.onError(ee)},this.resolveURL=function(ee){return D?D(ee):ee},this.setURLModifier=function(ee){return D=ee,this},this.addHandler=function(ee,q){return Q.push(ee,q),this},this.removeHandler=function(ee){const q=Q.indexOf(ee);return q!==-1&&Q.splice(q,2),this},this.getHandler=function(ee){for(let q=0,te=Q.length;q<te;q+=2){const ie=Q[q],ne=Q[q+1];if(ie.global&&(ie.lastIndex=0),ie.test(ee))return ne}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(Z){this.manager=Z!==void 0?Z:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(Z,G){const W=this;return new Promise(function(F,U){W.load(Z,F,G,U)})}parse(){}setCrossOrigin(Z){return this.crossOrigin=Z,this}setWithCredentials(Z){return this.withCredentials=Z,this}setPath(Z){return this.path=Z,this}setResourcePath(Z){return this.resourcePath=Z,this}setRequestHeader(Z){return this.requestHeader=Z,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(Z,G){super(Z),this.response=G}}class FileLoader extends Loader{constructor(Z){super(Z)}load(Z,G,W,F){Z===void 0&&(Z=""),this.path!==void 0&&(Z=this.path+Z),Z=this.manager.resolveURL(Z);const U=Cache.get(Z);if(U!==void 0)return this.manager.itemStart(Z),setTimeout(()=>{G&&G(U),this.manager.itemEnd(Z)},0),U;if(loading[Z]!==void 0){loading[Z].push({onLoad:G,onProgress:W,onError:F});return}loading[Z]=[],loading[Z].push({onLoad:G,onProgress:W,onError:F});const J=new Request(Z,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),Y=this.mimeType,D=this.responseType;fetch(J).then(Q=>{if(Q.status===200||Q.status===0){if(Q.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Q.body===void 0||Q.body.getReader===void 0)return Q;const ee=loading[Z],q=Q.body.getReader(),te=Q.headers.get("Content-Length")||Q.headers.get("X-File-Size"),ie=te?parseInt(te):0,ne=ie!==0;let ce=0;const le=new ReadableStream({start(se){pe();function pe(){q.read().then(({done:ue,value:ae})=>{if(ue)se.close();else{ce+=ae.byteLength;const de=new ProgressEvent("progress",{lengthComputable:ne,loaded:ce,total:ie});for(let be=0,he=ee.length;be<he;be++){const Le=ee[be];Le.onProgress&&Le.onProgress(de)}se.enqueue(ae),pe()}})}}});return new Response(le)}else throw new HttpError(`fetch for "${Q.url}" responded with ${Q.status}: ${Q.statusText}`,Q)}).then(Q=>{switch(D){case"arraybuffer":return Q.arrayBuffer();case"blob":return Q.blob();case"document":return Q.text().then(ee=>new DOMParser().parseFromString(ee,Y));case"json":return Q.json();default:if(Y===void 0)return Q.text();{const q=/charset="?([^;"\s]*)"?/i.exec(Y),te=q&&q[1]?q[1].toLowerCase():void 0,ie=new TextDecoder(te);return Q.arrayBuffer().then(ne=>ie.decode(ne))}}}).then(Q=>{Cache.add(Z,Q);const ee=loading[Z];delete loading[Z];for(let q=0,te=ee.length;q<te;q++){const ie=ee[q];ie.onLoad&&ie.onLoad(Q)}}).catch(Q=>{const ee=loading[Z];if(ee===void 0)throw this.manager.itemError(Z),Q;delete loading[Z];for(let q=0,te=ee.length;q<te;q++){const ie=ee[q];ie.onError&&ie.onError(Q)}this.manager.itemError(Z)}).finally(()=>{this.manager.itemEnd(Z)}),this.manager.itemStart(Z)}setResponseType(Z){return this.responseType=Z,this}setMimeType(Z){return this.mimeType=Z,this}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(Z){return super.copy(Z),this.instanceCount=Z.instanceCount,this}toJSON(){const Z=super.toJSON();return Z.instanceCount=this.instanceCount,Z.isInstancedBufferGeometry=!0,Z}}class Uniform{constructor(Z){this.value=Z}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(Z){return this.uniforms.push(Z),this}remove(Z){const G=this.uniforms.indexOf(Z);return G!==-1&&this.uniforms.splice(G,1),this}setName(Z){return this.name=Z,this}setUsage(Z){return this.usage=Z,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(Z){this.name=Z.name,this.usage=Z.usage;const G=Z.uniforms;this.uniforms.length=0;for(let W=0,F=G.length;W<F;W++)this.uniforms.push(G[W].clone());return this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const getCamerasUniforms=moize.infinite(X=>({globalPerspective:new Uniform(new Matrix4),globalView:new Uniform(new Matrix4),zoomedProjection:new Uniform(new Matrix4),zoomedView:new Uniform(new Matrix4),fixedPerspective:new Uniform(new Matrix4),fixedView:new Uniform(new Matrix4),distance:new Uniform(0),center:new Uniform(new Vector3(0,0,0)),rotationCenter:new Uniform(new Vector3(0,0,0))})),getCamerasUniformsGroup=moize.infinite(X=>{const Z=new UniformsGroup;Z.setName("cameras");const G=getCamerasUniforms(X);return Object.values(G).forEach(W=>{Z.add(W)}),Z}),cameraUniformsGroupUpdater=X=>moize(proxy((Z,G,W,F,U,J,Y)=>{const D=getCamerasUniforms(X);D.globalPerspective.value.fromArray(Z),D.globalView.value.fromArray(G),D.zoomedProjection.value.fromArray(W),D.zoomedView.value.fromArray(F),D.fixedPerspective.value.fromArray(U),D.fixedView.value.fromArray(J),D.distance.value=Y[0],D.center.value.fromArray(Y.slice(1,4)),D.rotationCenter.value.fromArray(Y.slice(4,7))}));var mouse$1={};function mouseButtons(X){if(typeof X=="object"){if("buttons"in X)return X.buttons;if("which"in X){var Z=X.which;if(Z===2)return 4;if(Z===3)return 2;if(Z>0)return 1<<Z-1}else if("button"in X){var Z=X.button;if(Z===1)return 4;if(Z===2)return 2;if(Z>=0)return 1<<Z}}return 0}mouse$1.buttons=mouseButtons;function mouseElement(X){return X.target||X.srcElement||window}mouse$1.element=mouseElement;function mouseRelativeX(X){if(typeof X=="object"){if("offsetX"in X)return X.offsetX;var Z=mouseElement(X),G=Z.getBoundingClientRect();return X.clientX-G.left}return 0}mouse$1.x=mouseRelativeX;function mouseRelativeY(X){if(typeof X=="object"){if("offsetY"in X)return X.offsetY;var Z=mouseElement(X),G=Z.getBoundingClientRect();return X.clientY-G.top}return 0}mouse$1.y=mouseRelativeY;var mouseListen_1=mouseListen,mouse=mouse$1;function mouseListen(X,Z){Z||(Z=X,X=window);var G=0,W=0,F=0,U={shift:!1,alt:!1,control:!1,meta:!1},J=!1;function Y(pe){var ue=!1;return"altKey"in pe&&(ue=ue||pe.altKey!==U.alt,U.alt=!!pe.altKey),"shiftKey"in pe&&(ue=ue||pe.shiftKey!==U.shift,U.shift=!!pe.shiftKey),"ctrlKey"in pe&&(ue=ue||pe.ctrlKey!==U.control,U.control=!!pe.ctrlKey),"metaKey"in pe&&(ue=ue||pe.metaKey!==U.meta,U.meta=!!pe.metaKey),ue}function D(pe,ue){var ae=mouse.x(ue),de=mouse.y(ue);"buttons"in ue&&(pe=ue.buttons|0),(pe!==G||ae!==W||de!==F||Y(ue))&&(G=pe|0,W=ae||0,F=de||0,Z&&Z(G,W,F,U))}function Q(pe){D(0,pe)}function ee(){(G||W||F||U.shift||U.alt||U.meta||U.control)&&(W=F=0,G=0,U.shift=U.alt=U.control=U.meta=!1,Z&&Z(0,0,0,U))}function q(pe){Y(pe)&&Z&&Z(G,W,F,U)}function te(pe){mouse.buttons(pe)===0?D(0,pe):D(G,pe)}function ie(pe){D(G|mouse.buttons(pe),pe)}function ne(pe){D(G&~mouse.buttons(pe),pe)}function ce(){J||(J=!0,X.addEventListener("mousemove",te),X.addEventListener("mousedown",ie),X.addEventListener("mouseup",ne),X.addEventListener("mouseleave",Q),X.addEventListener("mouseenter",Q),X.addEventListener("mouseout",Q),X.addEventListener("mouseover",Q),X.addEventListener("blur",ee),X.addEventListener("keyup",q),X.addEventListener("keydown",q),X.addEventListener("keypress",q),X!==window&&(window.addEventListener("blur",ee),window.addEventListener("keyup",q),window.addEventListener("keydown",q),window.addEventListener("keypress",q)))}function le(){J&&(J=!1,X.removeEventListener("mousemove",te),X.removeEventListener("mousedown",ie),X.removeEventListener("mouseup",ne),X.removeEventListener("mouseleave",Q),X.removeEventListener("mouseenter",Q),X.removeEventListener("mouseout",Q),X.removeEventListener("mouseover",Q),X.removeEventListener("blur",ee),X.removeEventListener("keyup",q),X.removeEventListener("keydown",q),X.removeEventListener("keypress",q),X!==window&&(window.removeEventListener("blur",ee),window.removeEventListener("keyup",q),window.removeEventListener("keydown",q),window.removeEventListener("keypress",q)))}ce();var se={element:X};return Object.defineProperties(se,{enabled:{get:function(){return J},set:function(pe){pe?ce():le()},enumerable:!0},buttons:{get:function(){return G},enumerable:!0},x:{get:function(){return W},enumerable:!0},y:{get:function(){return F},enumerable:!0},mods:{get:function(){return U},enumerable:!0}}),se}var rootPosition={left:0,top:0},mouseEventOffset_1=mouseEventOffset;function mouseEventOffset(X,Z,G){Z=Z||X.currentTarget||X.srcElement,Array.isArray(G)||(G=[0,0]);var W=X.clientX||0,F=X.clientY||0,U=getBoundingClientOffset(Z);return G[0]=W-U.left,G[1]=F-U.top,G}function getBoundingClientOffset(X){return X===window||X===document||X===document.body?rootPosition:X.getBoundingClientRect()}var eventEmitterExports={},eventEmitter$1={get exports(){return eventEmitterExports},set exports(X){eventEmitterExports=X}},dExports={},d$4={get exports(){return dExports},set exports(X){dExports=X}},_undefined$1=void 0,is$4=function(X){return X!==_undefined$1&&X!==null},isValue$3=is$4,possibleTypes={object:!0,function:!0,undefined:!0},is$3=function(X){return isValue$3(X)?hasOwnProperty.call(possibleTypes,typeof X):!1},isObject$2=is$3,is$2=function(X){if(!isObject$2(X))return!1;try{return X.constructor?X.constructor.prototype===X:!1}catch{return!1}},isPrototype=is$2,is$1=function(X){if(typeof X!="function"||!hasOwnProperty.call(X,"length"))return!1;try{if(typeof X.length!="number"||typeof X.call!="function"||typeof X.apply!="function")return!1}catch{return!1}return!isPrototype(X)},isFunction$2=is$1,classRe=/^\s*class[\s{/}]/,functionToString=Function.prototype.toString,is=function(X){return!(!isFunction$2(X)||classRe.test(functionToString.call(X)))},isImplemented$2=function(){var X=Object.assign,Z;return typeof X!="function"?!1:(Z={foo:"raz"},X(Z,{bar:"dwa"},{trzy:"trzy"}),Z.foo+Z.bar+Z.trzy==="razdwatrzy")},isImplemented$1,hasRequiredIsImplemented;function requireIsImplemented(){return hasRequiredIsImplemented||(hasRequiredIsImplemented=1,isImplemented$1=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),isImplemented$1}var noop$5=function(){},_undefined=noop$5(),isValue$2=function(X){return X!==_undefined&&X!==null},shim$2,hasRequiredShim$2;function requireShim$2(){if(hasRequiredShim$2)return shim$2;hasRequiredShim$2=1;var X=isValue$2,Z=Object.keys;return shim$2=function(G){return Z(X(G)?Object(G):G)},shim$2}var keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=requireIsImplemented()()?Object.keys:requireShim$2()),keys}var validValue,hasRequiredValidValue;function requireValidValue(){if(hasRequiredValidValue)return validValue;hasRequiredValidValue=1;var X=isValue$2;return validValue=function(Z){if(!X(Z))throw new TypeError("Cannot use null or undefined");return Z},validValue}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var X=requireKeys(),Z=requireValidValue(),G=Math.max;return shim$1=function(W,F){var U,J,Y=G(arguments.length,2),D;for(W=Object(Z(W)),D=function(Q){try{W[Q]=F[Q]}catch(ee){U||(U=ee)}},J=1;J<Y;++J)F=arguments[J],X(F).forEach(D);if(U!==void 0)throw U;return W},shim$1}var assign$1=isImplemented$2()?Object.assign:requireShim$1(),isValue$1=isValue$2,forEach=Array.prototype.forEach,create$2=Object.create,process$1=function(X,Z){var G;for(G in X)Z[G]=X[G]},normalizeOptions=function(X){var Z=create$2(null);return forEach.call(arguments,function(G){isValue$1(G)&&process$1(Object(G),Z)}),Z},str="razdwatrzy",isImplemented=function(){return typeof str.contains!="function"?!1:str.contains("dwa")===!0&&str.contains("foo")===!1},shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var X=String.prototype.indexOf;return shim=function(Z){return X.call(this,Z,arguments[1])>-1},shim}var contains$1=isImplemented()?String.prototype.contains:requireShim(),isValue=is$4,isPlainFunction=is,assign=assign$1,normalizeOpts=normalizeOptions,contains=contains$1,d$3=d$4.exports=function(X,Z){var G,W,F,U,J;return arguments.length<2||typeof X!="string"?(U=Z,Z=X,X=null):U=arguments[2],isValue(X)?(G=contains.call(X,"c"),W=contains.call(X,"e"),F=contains.call(X,"w")):(G=F=!0,W=!1),J={value:Z,configurable:G,enumerable:W,writable:F},U?assign(normalizeOpts(U),J):J};d$3.gs=function(X,Z,G){var W,F,U,J;return typeof X!="string"?(U=G,G=Z,Z=X,X=null):U=arguments[3],isValue(Z)?isPlainFunction(Z)?isValue(G)?isPlainFunction(G)||(U=G,G=void 0):G=void 0:(U=Z,Z=G=void 0):Z=void 0,isValue(X)?(W=contains.call(X,"c"),F=contains.call(X,"e")):(W=!0,F=!1),J={get:Z,set:G,configurable:W,enumerable:F},U?assign(normalizeOpts(U),J):J};var validCallable=function(X){if(typeof X!="function")throw new TypeError(X+" is not a function");return X};(function(X,Z){var G=dExports,W=validCallable,F=Function.prototype.apply,U=Function.prototype.call,J=Object.create,Y=Object.defineProperty,D=Object.defineProperties,Q=Object.prototype.hasOwnProperty,ee={configurable:!0,enumerable:!1,writable:!0},q,te,ie,ne,ce,le,se;q=function(pe,ue){var ae;return W(ue),Q.call(this,"__ee__")?ae=this.__ee__:(ae=ee.value=J(null),Y(this,"__ee__",ee),ee.value=null),ae[pe]?typeof ae[pe]=="object"?ae[pe].push(ue):ae[pe]=[ae[pe],ue]:ae[pe]=ue,this},te=function(pe,ue){var ae,de;return W(ue),de=this,q.call(this,pe,ae=function(){ie.call(de,pe,ae),F.call(ue,this,arguments)}),ae.__eeOnceListener__=ue,this},ie=function(pe,ue){var ae,de,be,he;if(W(ue),!Q.call(this,"__ee__"))return this;if(ae=this.__ee__,!ae[pe])return this;if(de=ae[pe],typeof de=="object")for(he=0;be=de[he];++he)(be===ue||be.__eeOnceListener__===ue)&&(de.length===2?ae[pe]=de[he?0:1]:de.splice(he,1));else(de===ue||de.__eeOnceListener__===ue)&&delete ae[pe];return this},ne=function(pe){var ue,ae,de,be,he;if(Q.call(this,"__ee__")&&(be=this.__ee__[pe],!!be))if(typeof be=="object"){for(ae=arguments.length,he=new Array(ae-1),ue=1;ue<ae;++ue)he[ue-1]=arguments[ue];for(be=be.slice(),ue=0;de=be[ue];++ue)F.call(de,this,he)}else switch(arguments.length){case 1:U.call(be,this);break;case 2:U.call(be,this,arguments[1]);break;case 3:U.call(be,this,arguments[1],arguments[2]);break;default:for(ae=arguments.length,he=new Array(ae-1),ue=1;ue<ae;++ue)he[ue-1]=arguments[ue];F.call(be,this,he)}},ce={on:q,once:te,off:ie,emit:ne},le={on:G(q),once:G(te),off:G(ie),emit:G(ne)},se=D({},le),X.exports=Z=function(pe){return pe==null?J(se):D(Object(pe),le)},Z.methods=ce})(eventEmitter$1,eventEmitterExports);var normalizedInteractionEvents_1=normalizedInteractionEvents,mouseChange=mouseListen_1,eventOffset=mouseEventOffset_1,eventEmitter=eventEmitterExports;function normalizedInteractionEvents(X){X=X||window;var Z=eventEmitter(),G=[null,null],W=[null,null],F=[null,null],U=[null,null],J=0,Y={},D,Q,ee=X===window?function(){D=window.innerWidth,Q=window.innerHeight}:function(){D=X.clientWidth,Q=X.clientHeight},q=0,te,ie,ne={},ce=mouseChange(X,function(re,Ze,Ge,ve){te=Ze,ie=Ge,q=re,ne=ve});function le(re){eventOffset(re,X,F),ee(),Y.buttons=q,Y.mods=ne,Y.x0=Y.x=Y.x1=2*F[0]/D-1,Y.y0=Y.y=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.dx=2*re.deltaX/D,Y.dy=-2*re.deltaY/Q,Y.dz=2*re.deltaZ/D,Y.active=1,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("wheel",Y),G[0]=F[0],G[1]=F[1]}var se=null,pe=null,ue=0;function ae(re){eventOffset(re,X,F),ue=0,ee(),Y.buttons=q,Y.mods=ne,Y.x=Y.x1=2*F[0]/D-1,Y.y=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.active=ue,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("mouseup",Y),se=pe=null,G[0]=F[0],G[1]=F[1]}function de(re){eventOffset(re,X,F),ue=1,ee(),se=te,pe=ie,Y.buttons=q,Y.mods=ne,Y.x=Y.x0=Y.x1=2*F[0]/D-1,Y.y=Y.y0=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.active=ue,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("mousedown",Y),G[0]=F[0],G[1]=F[1]}function be(re){eventOffset(re,X,F),ee(),Y.buttons=q,Y.mods=ne,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.x=Y.x1=2*F[0]/D-1,Y.y=Y.y1=1-2*F[1]/Q,Y.x2=null,Y.y2=null,Y.dx=2*(F[0]-G[0])/D,Y.dy=-2*(F[1]-G[1])/Q,Y.active=ue,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("mousemove",Y),G[0]=F[0],G[1]=F[1]}function he(re){for(var Ze=re.identifier,Ge=0;Ge<U.length;Ge++)if(U[Ge]&&U[Ge].touch&&U[Ge].touch.identifier===Ze)return Ge;return-1}function Le(re){W[0]=null,W[1]=null;for(var Ze=0;Ze<re.changedTouches.length;Ze++){var Ge=re.changedTouches[Ze],ve=Ge.identifier,Te=he(ve);if(Te===-1&&J<2){var xe=U[0]?1:0,Ie=U[0]?0:1,Se={position:[0,0],touch:null};U[xe]=Se,J++,Se.touch=Ge,eventOffset(Ge,X,Se.position),U[Ie]&&U[Ie].touch}}for(var Ne=0,je=0,tt=0,Ze=0;Ze<U.length;Ze++)U[Ze]&&(Ne+=U[Ze].position[0],je+=U[Ze].position[1],tt++);if(Ne/=tt,je/=tt,J>0){if(Y.theta=0,tt>1){var it=U[1].position[0]-U[0].position[0],st=(U[0].position[1]-U[1].position[1])*D/Q;Y.theta=Math.atan2(st,it)}ee(),Y.buttons=0,Y.mods={},Y.active=J,se=Ne,pe=je,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.x=2*Ne/D-1,Y.y=1-2*je/Q,Y.x1=2*U[0].position[0]/D-1,Y.y1=1-2*U[0].position[1]/Q,J>1&&(Y.x2=2*U[1].position[0]/D-1,Y.y2=1-2*U[1].position[1]/Q),Y.active=J,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.dtheta=0,Y.originalEvent=re,Z.emit(J===1?"touchstart":"pinchstart",Y)}}function Xe(re){for(var Ze,Ge=!1,ve=0;ve<re.changedTouches.length;ve++){var Te=re.changedTouches[ve];Ze=he(Te),Ze!==-1&&(Ge=!0,U[Ze].touch=Te,eventOffset(Te,X,U[Ze].position))}if(Ge){if(J===1){for(Ze=0;Ze<U.length&&!U[Ze];Ze++);if(U[Ze]&&W[Ze]){var xe=U[Ze].position[0],Ie=U[Ze].position[1],Se=xe-W[Ze][0],Ne=Ie-W[Ze][1];Y.buttons=0,Y.mods={},Y.active=J,Y.x=Y.x1=2*xe/D-1,Y.y=Y.y1=1-2*Ie/Q,Y.x2=null,Y.y2=null,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.dx=2*Se/D,Y.dy=-2*Ne/Q,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit("touchmove",Y)}}else if(J===2&&W[0]&&W[1]){var je=W[0],tt=W[1],it=tt[0]-je[0],st=(tt[1]-je[1])*D/Q,qe=U[0].position,ot=U[1].position,ut=ot[0]-qe[0],dt=(qe[1]-ot[1])*D/Q,mt=Math.sqrt(it*it+st*st)*.5,Je=Math.atan2(st,it),Me=Math.sqrt(ut*ut+dt*dt)*.5,ke=Math.atan2(dt,ut),Ye=(tt[0]+je[0])*.5,Ce=(tt[1]+je[1])*.5,Se=.5*(ot[0]+qe[0]-je[0]-tt[0]),Ne=.5*(ot[1]+qe[1]-je[1]-tt[1]),ze=Me/mt,Ee=ke-Je;Y.buttons=0,Y.mods=ne,Y.active=J,Y.x=2*Ye/D-1,Y.y=1-2*Ce/Q,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.x1=2*qe[0]/D-1,Y.y1=1-2*qe[1]/Q,Y.x2=2*ot[0]/D-1,Y.y2=1-2*ot[1]/Q,Y.dx=2*Se/D,Y.dy=-2*Ne/Q,Y.dz=0,Y.zoomx=ze,Y.zoomy=ze,Y.theta=ke,Y.dtheta=Ee,Y.originalEvent=re,Z.emit("pinchmove",Y)}}U[0]&&(W[0]=U[0].position.slice()),U[1]&&(W[1]=U[1].position.slice())}function We(re){for(var Ze,Ge=0;Ge<re.changedTouches.length;Ge++){var ve=re.changedTouches[Ge],Te=he(ve);if(Te!==-1){Ze=U[Te],U[Te]=null,J--;var xe=Te===0?1:0;U[xe]&&U[xe].touch}}var Ie=0,Se=0;if(J===0)Ze&&(Ie=Ze.position[0],Se=Ze.position[1]);else{for(var Ne=0,Ge=0;Ge<U.length;Ge++)U[Ge]&&(Ie+=U[Ge].position[0],Se+=U[Ge].position[1],Ne++);Ie/=Ne,Se/=Ne}J<2&&(Y.buttons=0,Y.mods=ne,Y.active=J,Y.x=2*Ie/D-1,Y.y=1-2*Se/Q,Y.x0=2*se/D-1,Y.y0=1-2*pe/Q,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=re,Z.emit(J===0?"touchend":"pinchend",Y)),J===0&&(se=pe=null)}var fe=!1;function Re(){fe||(fe=!0,ce.enabled=!0,X.addEventListener("wheel",le,!1),X.addEventListener("mousedown",de,!1),window.addEventListener("mousemove",be,!1),window.addEventListener("mouseup",ae,!1),X.addEventListener("touchstart",Le,!1),window.addEventListener("touchmove",Xe,!1),window.addEventListener("touchend",We,!1),window.addEventListener("touchcancel",We,!1))}function ye(){fe&&(fe=!1,ce.enabled=!1,X.removeEventListener("wheel",le,!1),X.removeEventListener("mousedown",de,!1),window.removeEventListener("mousemove",be,!1),window.removeEventListener("mouseup",ae,!1),X.removeEventListener("touchstart",Le,!1),window.removeEventListener("touchmove",Xe,!1),window.removeEventListener("touchend",We,!1),window.removeEventListener("touchcancel",We,!1))}return Re(),Z.enable=Re,Z.disable=ye,Z}const encodedJs="ZnVuY3Rpb24gX21lcmdlTmFtZXNwYWNlcyh0LGUpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24obil7biYmdHlwZW9mIG4hPSJzdHJpbmciJiYhQXJyYXkuaXNBcnJheShuKSYmT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihvKXtpZihvIT09ImRlZmF1bHQiJiYhKG8gaW4gdCkpe3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixvKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLGQuZ2V0P2Q6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5bb119fSl9fSl9KSxPYmplY3QuZnJlZXplKHQpfXZhciBjb21tb25qc0dsb2JhbD10eXBlb2YgZ2xvYmFsVGhpczwidSI/Z2xvYmFsVGhpczp0eXBlb2Ygd2luZG93PCJ1Ij93aW5kb3c6dHlwZW9mIGdsb2JhbDwidSI/Z2xvYmFsOnR5cGVvZiBzZWxmPCJ1Ij9zZWxmOnt9O2Z1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJkZWZhdWx0Iik/dC5kZWZhdWx0OnR9dmFyIGFic3RyYWN0TGV2ZWwkMT17fSxhYnN0cmFjdExldmVsPXt9LGxldmVsU3VwcG9ydHM9e307bGV2ZWxTdXBwb3J0cy5zdXBwb3J0cz1mdW5jdGlvbiguLi5lKXtjb25zdCBuPWUucmVkdWNlKChvLGQpPT5PYmplY3QuYXNzaWduKG8sZCkse30pO3JldHVybiBPYmplY3QuYXNzaWduKG4se3NuYXBzaG90czpuLnNuYXBzaG90c3x8ITEscGVybWFuZW5jZTpuLnBlcm1hbmVuY2V8fCExLHNlZWs6bi5zZWVrfHwhMSxjbGVhcjpuLmNsZWFyfHwhMSxnZXRNYW55Om4uZ2V0TWFueXx8ITEsa2V5SXRlcmF0b3I6bi5rZXlJdGVyYXRvcnx8ITEsdmFsdWVJdGVyYXRvcjpuLnZhbHVlSXRlcmF0b3J8fCExLGl0ZXJhdG9yTmV4dHY6bi5pdGVyYXRvck5leHR2fHwhMSxpdGVyYXRvckFsbDpuLml0ZXJhdG9yQWxsfHwhMSxzdGF0dXM6bi5zdGF0dXN8fCExLGNyZWF0ZUlmTWlzc2luZzpuLmNyZWF0ZUlmTWlzc2luZ3x8ITEsZXJyb3JJZkV4aXN0czpuLmVycm9ySWZFeGlzdHN8fCExLGRlZmVycmVkT3BlbjpuLmRlZmVycmVkT3Blbnx8ITEscHJvbWlzZXM6bi5wcm9taXNlc3x8ITEsc3RyZWFtczpuLnN0cmVhbXN8fCExLGVuY29kaW5nczpPYmplY3QuYXNzaWduKHt9LG4uZW5jb2RpbmdzKSxldmVudHM6T2JqZWN0LmFzc2lnbih7fSxuLmV2ZW50cyksYWRkaXRpb25hbE1ldGhvZHM6T2JqZWN0LmFzc2lnbih7fSxuLmFkZGl0aW9uYWxNZXRob2RzKX0pfTt2YXIgbGV2ZWxUcmFuc2NvZGVyPXt9LG1vZHVsZUVycm9yPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlfHwiIiksdHlwZW9mIG49PSJvYmplY3QiJiZuIT09bnVsbCYmKG4uY29kZSYmKHRoaXMuY29kZT1TdHJpbmcobi5jb2RlKSksbi5leHBlY3RlZCYmKHRoaXMuZXhwZWN0ZWQ9ITApLG4udHJhbnNpZW50JiYodGhpcy50cmFuc2llbnQ9ITApLG4uY2F1c2UmJih0aGlzLmNhdXNlPW4uY2F1c2UpKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKX19LGVuY29kaW5ncyQxPXt9LGJ1ZmZlciQxPXt9LGJhc2U2NEpzPXt9LGhhc1JlcXVpcmVkQmFzZTY0SnM7ZnVuY3Rpb24gcmVxdWlyZUJhc2U2NEpzKCl7aWYoaGFzUmVxdWlyZWRCYXNlNjRKcylyZXR1cm4gYmFzZTY0SnM7aGFzUmVxdWlyZWRCYXNlNjRKcz0xLGJhc2U2NEpzLmJ5dGVMZW5ndGg9dSxiYXNlNjRKcy50b0J5dGVBcnJheT1nLGJhc2U2NEpzLmZyb21CeXRlQXJyYXk9Xztmb3IodmFyIHQ9W10sZT1bXSxuPXR5cGVvZiBVaW50OEFycmF5PCJ1Ij9VaW50OEFycmF5OkFycmF5LG89IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLGQ9MCxoPW8ubGVuZ3RoO2Q8aDsrK2QpdFtkXT1vW2RdLGVbby5jaGFyQ29kZUF0KGQpXT1kO2VbIi0iLmNoYXJDb2RlQXQoMCldPTYyLGVbIl8iLmNoYXJDb2RlQXQoMCldPTYzO2Z1bmN0aW9uIGwoTyl7dmFyIFQ9Ty5sZW5ndGg7aWYoVCU0PjApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Iik7dmFyIFM9Ty5pbmRleE9mKCI9Iik7Uz09PS0xJiYoUz1UKTt2YXIgTj1TPT09VD8wOjQtUyU0O3JldHVybltTLE5dfWZ1bmN0aW9uIHUoTyl7dmFyIFQ9bChPKSxTPVRbMF0sTj1UWzFdO3JldHVybihTK04pKjMvNC1OfWZ1bmN0aW9uIHAoTyxULFMpe3JldHVybihUK1MpKjMvNC1TfWZ1bmN0aW9uIGcoTyl7dmFyIFQsUz1sKE8pLE49U1swXSxCPVNbMV0sTD1uZXcgbihwKE8sTixCKSksQz0wLGo9Qj4wP04tNDpOLFA7Zm9yKFA9MDtQPGo7UCs9NClUPWVbTy5jaGFyQ29kZUF0KFApXTw8MTh8ZVtPLmNoYXJDb2RlQXQoUCsxKV08PDEyfGVbTy5jaGFyQ29kZUF0KFArMildPDw2fGVbTy5jaGFyQ29kZUF0KFArMyldLExbQysrXT1UPj4xNiYyNTUsTFtDKytdPVQ+PjgmMjU1LExbQysrXT1UJjI1NTtyZXR1cm4gQj09PTImJihUPWVbTy5jaGFyQ29kZUF0KFApXTw8MnxlW08uY2hhckNvZGVBdChQKzEpXT4+NCxMW0MrK109VCYyNTUpLEI9PT0xJiYoVD1lW08uY2hhckNvZGVBdChQKV08PDEwfGVbTy5jaGFyQ29kZUF0KFArMSldPDw0fGVbTy5jaGFyQ29kZUF0KFArMildPj4yLExbQysrXT1UPj44JjI1NSxMW0MrK109VCYyNTUpLEx9ZnVuY3Rpb24gdihPKXtyZXR1cm4gdFtPPj4xOCY2M10rdFtPPj4xMiY2M10rdFtPPj42JjYzXSt0W08mNjNdfWZ1bmN0aW9uIGIoTyxULFMpe2Zvcih2YXIgTixCPVtdLEw9VDtMPFM7TCs9MylOPShPW0xdPDwxNiYxNjcxMTY4MCkrKE9bTCsxXTw8OCY2NTI4MCkrKE9bTCsyXSYyNTUpLEIucHVzaCh2KE4pKTtyZXR1cm4gQi5qb2luKCIiKX1mdW5jdGlvbiBfKE8pe2Zvcih2YXIgVCxTPU8ubGVuZ3RoLE49UyUzLEI9W10sTD0xNjM4MyxDPTAsaj1TLU47QzxqO0MrPUwpQi5wdXNoKGIoTyxDLEMrTD5qP2o6QytMKSk7cmV0dXJuIE49PT0xPyhUPU9bUy0xXSxCLnB1c2godFtUPj4yXSt0W1Q8PDQmNjNdKyI9PSIpKTpOPT09MiYmKFQ9KE9bUy0yXTw8OCkrT1tTLTFdLEIucHVzaCh0W1Q+PjEwXSt0W1Q+PjQmNjNdK3RbVDw8MiY2M10rIj0iKSksQi5qb2luKCIiKX1yZXR1cm4gYmFzZTY0SnN9dmFyIGllZWU3NTQ9e307LyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi92YXIgaGFzUmVxdWlyZWRJZWVlNzU0O2Z1bmN0aW9uIHJlcXVpcmVJZWVlNzU0KCl7cmV0dXJuIGhhc1JlcXVpcmVkSWVlZTc1NHx8KGhhc1JlcXVpcmVkSWVlZTc1ND0xLGllZWU3NTQucmVhZD1mdW5jdGlvbih0LGUsbixvLGQpe3ZhciBoLGwsdT1kKjgtby0xLHA9KDE8PHUpLTEsZz1wPj4xLHY9LTcsYj1uP2QtMTowLF89bj8tMToxLE89dFtlK2JdO2ZvcihiKz1fLGg9TyYoMTw8LXYpLTEsTz4+PS12LHYrPXU7dj4wO2g9aCoyNTYrdFtlK2JdLGIrPV8sdi09OCk7Zm9yKGw9aCYoMTw8LXYpLTEsaD4+PS12LHYrPW87dj4wO2w9bCoyNTYrdFtlK2JdLGIrPV8sdi09OCk7aWYoaD09PTApaD0xLWc7ZWxzZXtpZihoPT09cClyZXR1cm4gbD9OYU46KE8/LTE6MSkqKDEvMCk7bD1sK01hdGgucG93KDIsbyksaD1oLWd9cmV0dXJuKE8/LTE6MSkqbCpNYXRoLnBvdygyLGgtbyl9LGllZWU3NTQud3JpdGU9ZnVuY3Rpb24odCxlLG4sbyxkLGgpe3ZhciBsLHUscCxnPWgqOC1kLTEsdj0oMTw8ZyktMSxiPXY+PjEsXz1kPT09MjM/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLE89bz8wOmgtMSxUPW8/MTotMSxTPWU8MHx8ZT09PTAmJjEvZTwwPzE6MDtmb3IoZT1NYXRoLmFicyhlKSxpc05hTihlKXx8ZT09PTEvMD8odT1pc05hTihlKT8xOjAsbD12KToobD1NYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSxlKihwPU1hdGgucG93KDIsLWwpKTwxJiYobC0tLHAqPTIpLGwrYj49MT9lKz1fL3A6ZSs9XypNYXRoLnBvdygyLDEtYiksZSpwPj0yJiYobCsrLHAvPTIpLGwrYj49dj8odT0wLGw9dik6bCtiPj0xPyh1PShlKnAtMSkqTWF0aC5wb3coMixkKSxsPWwrYik6KHU9ZSpNYXRoLnBvdygyLGItMSkqTWF0aC5wb3coMixkKSxsPTApKTtkPj04O3RbbitPXT11JjI1NSxPKz1ULHUvPTI1NixkLT04KTtmb3IobD1sPDxkfHUsZys9ZDtnPjA7dFtuK09dPWwmMjU1LE8rPVQsbC89MjU2LGctPTgpO3RbbitPLVRdfD1TKjEyOH0pLGllZWU3NTR9LyohCiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLgogKgogKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPgogKiBAbGljZW5zZSAgTUlUCiAqLyhmdW5jdGlvbih0KXtjb25zdCBlPXJlcXVpcmVCYXNlNjRKcygpLG49cmVxdWlyZUllZWU3NTQoKSxvPXR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJnR5cGVvZiBTeW1ib2wuZm9yPT0iZnVuY3Rpb24iP1N5bWJvbC5mb3IoIm5vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tIik6bnVsbDt0LkJ1ZmZlcj11LHQuU2xvd0J1ZmZlcj1MLHQuSU5TUEVDVF9NQVhfQllURVM9NTA7Y29uc3QgZD0yMTQ3NDgzNjQ3O3Qua01heExlbmd0aD1kLHUuVFlQRURfQVJSQVlfU1VQUE9SVD1oKCksIXUuVFlQRURfQVJSQVlfU1VQUE9SVCYmdHlwZW9mIGNvbnNvbGU8InUiJiZ0eXBlb2YgY29uc29sZS5lcnJvcj09ImZ1bmN0aW9uIiYmY29uc29sZS5lcnJvcigiVGhpcyBicm93c2VyIGxhY2tzIHR5cGVkIGFycmF5IChVaW50OEFycmF5KSBzdXBwb3J0IHdoaWNoIGlzIHJlcXVpcmVkIGJ5IGBidWZmZXJgIHY1LnguIFVzZSBgYnVmZmVyYCB2NC54IGlmIHlvdSByZXF1aXJlIG9sZCBicm93c2VyIHN1cHBvcnQuIik7ZnVuY3Rpb24gaCgpe3RyeXtjb25zdCBJPW5ldyBVaW50OEFycmF5KDEpLHc9e2ZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19O3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YodyxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKEksdyksSS5mb28oKT09PTQyfWNhdGNoe3JldHVybiExfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodS5wcm90b3R5cGUsInBhcmVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7aWYodS5pc0J1ZmZlcih0aGlzKSlyZXR1cm4gdGhpcy5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJvZmZzZXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnl0ZU9mZnNldH19KTtmdW5jdGlvbiBsKEkpe2lmKEk+ZCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlICInK0krJyIgaXMgaW52YWxpZCBmb3Igb3B0aW9uICJzaXplIicpO2NvbnN0IHc9bmV3IFVpbnQ4QXJyYXkoSSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih3LHUucHJvdG90eXBlKSx3fWZ1bmN0aW9uIHUoSSx3LEUpe2lmKHR5cGVvZiBJPT0ibnVtYmVyIil7aWYodHlwZW9mIHc9PSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAic3RyaW5nIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO3JldHVybiBiKEkpfXJldHVybiBwKEksdyxFKX11LnBvb2xTaXplPTgxOTI7ZnVuY3Rpb24gcChJLHcsRSl7aWYodHlwZW9mIEk9PSJzdHJpbmciKXJldHVybiBfKEksdyk7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KEkpKXJldHVybiBUKEkpO2lmKEk9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgSSk7aWYoZGUoSSxBcnJheUJ1ZmZlcil8fEkmJmRlKEkuYnVmZmVyLEFycmF5QnVmZmVyKXx8dHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPCJ1IiYmKGRlKEksU2hhcmVkQXJyYXlCdWZmZXIpfHxJJiZkZShJLmJ1ZmZlcixTaGFyZWRBcnJheUJ1ZmZlcikpKXJldHVybiBTKEksdyxFKTtpZih0eXBlb2YgST09Im51bWJlciIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgb2YgdHlwZSBudW1iZXIuIFJlY2VpdmVkIHR5cGUgbnVtYmVyJyk7Y29uc3QgRD1JLnZhbHVlT2YmJkkudmFsdWVPZigpO2lmKEQhPW51bGwmJkQhPT1JKXJldHVybiB1LmZyb20oRCx3LEUpO2NvbnN0IFY9TihJKTtpZihWKXJldHVybiBWO2lmKHR5cGVvZiBTeW1ib2w8InUiJiZTeW1ib2wudG9QcmltaXRpdmUhPW51bGwmJnR5cGVvZiBJW1N5bWJvbC50b1ByaW1pdGl2ZV09PSJmdW5jdGlvbiIpcmV0dXJuIHUuZnJvbShJW1N5bWJvbC50b1ByaW1pdGl2ZV0oInN0cmluZyIpLHcsRSk7dGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgQXJyYXktbGlrZSBPYmplY3QuIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgSSl9dS5mcm9tPWZ1bmN0aW9uKEksdyxFKXtyZXR1cm4gcChJLHcsRSl9LE9iamVjdC5zZXRQcm90b3R5cGVPZih1LnByb3RvdHlwZSxVaW50OEFycmF5LnByb3RvdHlwZSksT2JqZWN0LnNldFByb3RvdHlwZU9mKHUsVWludDhBcnJheSk7ZnVuY3Rpb24gZyhJKXtpZih0eXBlb2YgSSE9Im51bWJlciIpdGhyb3cgbmV3IFR5cGVFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXInKTtpZihJPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJytJKyciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKX1mdW5jdGlvbiB2KEksdyxFKXtyZXR1cm4gZyhJKSxJPD0wP2woSSk6dyE9PXZvaWQgMD90eXBlb2YgRT09InN0cmluZyI/bChJKS5maWxsKHcsRSk6bChJKS5maWxsKHcpOmwoSSl9dS5hbGxvYz1mdW5jdGlvbihJLHcsRSl7cmV0dXJuIHYoSSx3LEUpfTtmdW5jdGlvbiBiKEkpe3JldHVybiBnKEkpLGwoSTwwPzA6QihJKXwwKX11LmFsbG9jVW5zYWZlPWZ1bmN0aW9uKEkpe3JldHVybiBiKEkpfSx1LmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihJKXtyZXR1cm4gYihJKX07ZnVuY3Rpb24gXyhJLHcpe2lmKCh0eXBlb2YgdyE9InN0cmluZyJ8fHc9PT0iIikmJih3PSJ1dGY4IiksIXUuaXNFbmNvZGluZyh3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK3cpO2NvbnN0IEU9QyhJLHcpfDA7bGV0IEQ9bChFKTtjb25zdCBWPUQud3JpdGUoSSx3KTtyZXR1cm4gViE9PUUmJihEPUQuc2xpY2UoMCxWKSksRH1mdW5jdGlvbiBPKEkpe2NvbnN0IHc9SS5sZW5ndGg8MD8wOkIoSS5sZW5ndGgpfDAsRT1sKHcpO2ZvcihsZXQgRD0wO0Q8dztEKz0xKUVbRF09SVtEXSYyNTU7cmV0dXJuIEV9ZnVuY3Rpb24gVChJKXtpZihkZShJLFVpbnQ4QXJyYXkpKXtjb25zdCB3PW5ldyBVaW50OEFycmF5KEkpO3JldHVybiBTKHcuYnVmZmVyLHcuYnl0ZU9mZnNldCx3LmJ5dGVMZW5ndGgpfXJldHVybiBPKEkpfWZ1bmN0aW9uIFMoSSx3LEUpe2lmKHc8MHx8SS5ieXRlTGVuZ3RoPHcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJvZmZzZXQiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2lmKEkuYnl0ZUxlbmd0aDx3KyhFfHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignImxlbmd0aCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzJyk7bGV0IEQ7cmV0dXJuIHc9PT12b2lkIDAmJkU9PT12b2lkIDA/RD1uZXcgVWludDhBcnJheShJKTpFPT09dm9pZCAwP0Q9bmV3IFVpbnQ4QXJyYXkoSSx3KTpEPW5ldyBVaW50OEFycmF5KEksdyxFKSxPYmplY3Quc2V0UHJvdG90eXBlT2YoRCx1LnByb3RvdHlwZSksRH1mdW5jdGlvbiBOKEkpe2lmKHUuaXNCdWZmZXIoSSkpe2NvbnN0IHc9QihJLmxlbmd0aCl8MCxFPWwodyk7cmV0dXJuIEUubGVuZ3RoPT09MHx8SS5jb3B5KEUsMCwwLHcpLEV9aWYoSS5sZW5ndGghPT12b2lkIDApcmV0dXJuIHR5cGVvZiBJLmxlbmd0aCE9Im51bWJlciJ8fHBlKEkubGVuZ3RoKT9sKDApOk8oSSk7aWYoSS50eXBlPT09IkJ1ZmZlciImJkFycmF5LmlzQXJyYXkoSS5kYXRhKSlyZXR1cm4gTyhJLmRhdGEpfWZ1bmN0aW9uIEIoSSl7aWYoST49ZCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweCIrZC50b1N0cmluZygxNikrIiBieXRlcyIpO3JldHVybiBJfDB9ZnVuY3Rpb24gTChJKXtyZXR1cm4rSSE9SSYmKEk9MCksdS5hbGxvYygrSSl9dS5pc0J1ZmZlcj1mdW5jdGlvbih3KXtyZXR1cm4gdyE9bnVsbCYmdy5faXNCdWZmZXI9PT0hMCYmdyE9PXUucHJvdG90eXBlfSx1LmNvbXBhcmU9ZnVuY3Rpb24odyxFKXtpZihkZSh3LFVpbnQ4QXJyYXkpJiYodz11LmZyb20odyx3Lm9mZnNldCx3LmJ5dGVMZW5ndGgpKSxkZShFLFVpbnQ4QXJyYXkpJiYoRT11LmZyb20oRSxFLm9mZnNldCxFLmJ5dGVMZW5ndGgpKSwhdS5pc0J1ZmZlcih3KXx8IXUuaXNCdWZmZXIoRSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJidWYxIiwgImJ1ZjIiIGFyZ3VtZW50cyBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5Jyk7aWYodz09PUUpcmV0dXJuIDA7bGV0IEQ9dy5sZW5ndGgsVj1FLmxlbmd0aDtmb3IobGV0IFo9MCxjZT1NYXRoLm1pbihELFYpO1o8Y2U7KytaKWlmKHdbWl0hPT1FW1pdKXtEPXdbWl0sVj1FW1pdO2JyZWFrfXJldHVybiBEPFY/LTE6VjxEPzE6MH0sdS5pc0VuY29kaW5nPWZ1bmN0aW9uKHcpe3N3aXRjaChTdHJpbmcodykudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSx1LmNvbmNhdD1mdW5jdGlvbih3LEUpe2lmKCFBcnJheS5pc0FycmF5KHcpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0IiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZih3Lmxlbmd0aD09PTApcmV0dXJuIHUuYWxsb2MoMCk7bGV0IEQ7aWYoRT09PXZvaWQgMClmb3IoRT0wLEQ9MDtEPHcubGVuZ3RoOysrRClFKz13W0RdLmxlbmd0aDtjb25zdCBWPXUuYWxsb2NVbnNhZmUoRSk7bGV0IFo9MDtmb3IoRD0wO0Q8dy5sZW5ndGg7KytEKXtsZXQgY2U9d1tEXTtpZihkZShjZSxVaW50OEFycmF5KSlaK2NlLmxlbmd0aD5WLmxlbmd0aD8odS5pc0J1ZmZlcihjZSl8fChjZT11LmZyb20oY2UpKSxjZS5jb3B5KFYsWikpOlVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFYsY2UsWik7ZWxzZSBpZih1LmlzQnVmZmVyKGNlKSljZS5jb3B5KFYsWik7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7Wis9Y2UubGVuZ3RofXJldHVybiBWfTtmdW5jdGlvbiBDKEksdyl7aWYodS5pc0J1ZmZlcihJKSlyZXR1cm4gSS5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KEkpfHxkZShJLEFycmF5QnVmZmVyKSlyZXR1cm4gSS5ieXRlTGVuZ3RoO2lmKHR5cGVvZiBJIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBzdHJpbmcsIEJ1ZmZlciwgb3IgQXJyYXlCdWZmZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgSSk7Y29uc3QgRT1JLmxlbmd0aCxEPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdPT09ITA7aWYoIUQmJkU9PT0wKXJldHVybiAwO2xldCBWPSExO2Zvcig7Oylzd2l0Y2godyl7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gRTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBpZShJKS5sZW5ndGg7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBFKjI7Y2FzZSJoZXgiOnJldHVybiBFPj4+MTtjYXNlImJhc2U2NCI6cmV0dXJuIG5lKEkpLmxlbmd0aDtkZWZhdWx0OmlmKFYpcmV0dXJuIEQ/LTE6aWUoSSkubGVuZ3RoO3c9KCIiK3cpLnRvTG93ZXJDYXNlKCksVj0hMH19dS5ieXRlTGVuZ3RoPUM7ZnVuY3Rpb24gaihJLHcsRSl7bGV0IEQ9ITE7aWYoKHc9PT12b2lkIDB8fHc8MCkmJih3PTApLHc+dGhpcy5sZW5ndGh8fCgoRT09PXZvaWQgMHx8RT50aGlzLmxlbmd0aCkmJihFPXRoaXMubGVuZ3RoKSxFPD0wKXx8KEU+Pj49MCx3Pj4+PTAsRTw9dykpcmV0dXJuIiI7Zm9yKEl8fChJPSJ1dGY4Iik7Oylzd2l0Y2goSSl7Y2FzZSJoZXgiOnJldHVybiBtZSh0aGlzLHcsRSk7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gJCh0aGlzLHcsRSk7Y2FzZSJhc2NpaSI6cmV0dXJuIGVlKHRoaXMsdyxFKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBnZSh0aGlzLHcsRSk7Y2FzZSJiYXNlNjQiOnJldHVybiBNKHRoaXMsdyxFKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIGZlKHRoaXMsdyxFKTtkZWZhdWx0OmlmKEQpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitJKTtJPShJKyIiKS50b0xvd2VyQ2FzZSgpLEQ9ITB9fXUucHJvdG90eXBlLl9pc0J1ZmZlcj0hMDtmdW5jdGlvbiBQKEksdyxFKXtjb25zdCBEPUlbd107SVt3XT1JW0VdLElbRV09RH11LnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXtjb25zdCB3PXRoaXMubGVuZ3RoO2lmKHclMiE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKGxldCBFPTA7RTx3O0UrPTIpUCh0aGlzLEUsRSsxKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtpZih3JTQhPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cyIpO2ZvcihsZXQgRT0wO0U8dztFKz00KVAodGhpcyxFLEUrMyksUCh0aGlzLEUrMSxFKzIpO3JldHVybiB0aGlzfSx1LnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXtjb25zdCB3PXRoaXMubGVuZ3RoO2lmKHclOCE9PTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzIik7Zm9yKGxldCBFPTA7RTx3O0UrPTgpUCh0aGlzLEUsRSs3KSxQKHRoaXMsRSsxLEUrNiksUCh0aGlzLEUrMixFKzUpLFAodGhpcyxFKzMsRSs0KTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtjb25zdCB3PXRoaXMubGVuZ3RoO3JldHVybiB3PT09MD8iIjphcmd1bWVudHMubGVuZ3RoPT09MD8kKHRoaXMsMCx3KTpqLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdS5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmc9dS5wcm90b3R5cGUudG9TdHJpbmcsdS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHcpe2lmKCF1LmlzQnVmZmVyKHcpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtyZXR1cm4gdGhpcz09PXc/ITA6dS5jb21wYXJlKHRoaXMsdyk9PT0wfSx1LnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7bGV0IHc9IiI7Y29uc3QgRT10LklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB3PXRoaXMudG9TdHJpbmcoImhleCIsMCxFKS5yZXBsYWNlKC8oLnsyfSkvZywiJDEgIikudHJpbSgpLHRoaXMubGVuZ3RoPkUmJih3Kz0iIC4uLiAiKSwiPEJ1ZmZlciAiK3crIj4ifSxvJiYodS5wcm90b3R5cGVbb109dS5wcm90b3R5cGUuaW5zcGVjdCksdS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih3LEUsRCxWLFope2lmKGRlKHcsVWludDhBcnJheSkmJih3PXUuZnJvbSh3LHcub2Zmc2V0LHcuYnl0ZUxlbmd0aCkpLCF1LmlzQnVmZmVyKHcpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAidGFyZ2V0IiBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIEJ1ZmZlciBvciBVaW50OEFycmF5LiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHcpO2lmKEU9PT12b2lkIDAmJihFPTApLEQ9PT12b2lkIDAmJihEPXc/dy5sZW5ndGg6MCksVj09PXZvaWQgMCYmKFY9MCksWj09PXZvaWQgMCYmKFo9dGhpcy5sZW5ndGgpLEU8MHx8RD53Lmxlbmd0aHx8VjwwfHxaPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJvdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihWPj1aJiZFPj1EKXJldHVybiAwO2lmKFY+PVopcmV0dXJuLTE7aWYoRT49RClyZXR1cm4gMTtpZihFPj4+PTAsRD4+Pj0wLFY+Pj49MCxaPj4+PTAsdGhpcz09PXcpcmV0dXJuIDA7bGV0IGNlPVotVixTZT1ELUU7Y29uc3Qga2U9TWF0aC5taW4oY2UsU2UpLEJlPXRoaXMuc2xpY2UoVixaKSxEZT13LnNsaWNlKEUsRCk7Zm9yKGxldCBMZT0wO0xlPGtlOysrTGUpaWYoQmVbTGVdIT09RGVbTGVdKXtjZT1CZVtMZV0sU2U9RGVbTGVdO2JyZWFrfXJldHVybiBjZTxTZT8tMTpTZTxjZT8xOjB9O2Z1bmN0aW9uIEYoSSx3LEUsRCxWKXtpZihJLmxlbmd0aD09PTApcmV0dXJuLTE7aWYodHlwZW9mIEU9PSJzdHJpbmciPyhEPUUsRT0wKTpFPjIxNDc0ODM2NDc/RT0yMTQ3NDgzNjQ3OkU8LTIxNDc0ODM2NDgmJihFPS0yMTQ3NDgzNjQ4KSxFPStFLHBlKEUpJiYoRT1WPzA6SS5sZW5ndGgtMSksRTwwJiYoRT1JLmxlbmd0aCtFKSxFPj1JLmxlbmd0aCl7aWYoVilyZXR1cm4tMTtFPUkubGVuZ3RoLTF9ZWxzZSBpZihFPDApaWYoVilFPTA7ZWxzZSByZXR1cm4tMTtpZih0eXBlb2Ygdz09InN0cmluZyImJih3PXUuZnJvbSh3LEQpKSx1LmlzQnVmZmVyKHcpKXJldHVybiB3Lmxlbmd0aD09PTA/LTE6ayhJLHcsRSxELFYpO2lmKHR5cGVvZiB3PT0ibnVtYmVyIilyZXR1cm4gdz13JjI1NSx0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj09ImZ1bmN0aW9uIj9WP1VpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChJLHcsRSk6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChJLHcsRSk6ayhJLFt3XSxFLEQsVik7dGhyb3cgbmV3IFR5cGVFcnJvcigidmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyIil9ZnVuY3Rpb24gayhJLHcsRSxELFYpe2xldCBaPTEsY2U9SS5sZW5ndGgsU2U9dy5sZW5ndGg7aWYoRCE9PXZvaWQgMCYmKEQ9U3RyaW5nKEQpLnRvTG93ZXJDYXNlKCksRD09PSJ1Y3MyInx8RD09PSJ1Y3MtMiJ8fEQ9PT0idXRmMTZsZSJ8fEQ9PT0idXRmLTE2bGUiKSl7aWYoSS5sZW5ndGg8Mnx8dy5sZW5ndGg8MilyZXR1cm4tMTtaPTIsY2UvPTIsU2UvPTIsRS89Mn1mdW5jdGlvbiBrZShEZSxMZSl7cmV0dXJuIFo9PT0xP0RlW0xlXTpEZS5yZWFkVUludDE2QkUoTGUqWil9bGV0IEJlO2lmKFYpe2xldCBEZT0tMTtmb3IoQmU9RTtCZTxjZTtCZSsrKWlmKGtlKEksQmUpPT09a2UodyxEZT09PS0xPzA6QmUtRGUpKXtpZihEZT09PS0xJiYoRGU9QmUpLEJlLURlKzE9PT1TZSlyZXR1cm4gRGUqWn1lbHNlIERlIT09LTEmJihCZS09QmUtRGUpLERlPS0xfWVsc2UgZm9yKEUrU2U+Y2UmJihFPWNlLVNlKSxCZT1FO0JlPj0wO0JlLS0pe2xldCBEZT0hMDtmb3IobGV0IExlPTA7TGU8U2U7TGUrKylpZihrZShJLEJlK0xlKSE9PWtlKHcsTGUpKXtEZT0hMTticmVha31pZihEZSlyZXR1cm4gQmV9cmV0dXJuLTF9dS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB0aGlzLmluZGV4T2YodyxFLEQpIT09LTF9LHUucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odyxFLEQpe3JldHVybiBGKHRoaXMsdyxFLEQsITApfSx1LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIEYodGhpcyx3LEUsRCwhMSl9O2Z1bmN0aW9uIEooSSx3LEUsRCl7RT1OdW1iZXIoRSl8fDA7Y29uc3QgVj1JLmxlbmd0aC1FO0Q/KEQ9TnVtYmVyKEQpLEQ+ViYmKEQ9VikpOkQ9Vjtjb25zdCBaPXcubGVuZ3RoO0Q+Wi8yJiYoRD1aLzIpO2xldCBjZTtmb3IoY2U9MDtjZTxEOysrY2Upe2NvbnN0IFNlPXBhcnNlSW50KHcuc3Vic3RyKGNlKjIsMiksMTYpO2lmKHBlKFNlKSlyZXR1cm4gY2U7SVtFK2NlXT1TZX1yZXR1cm4gY2V9ZnVuY3Rpb24gYWUoSSx3LEUsRCl7cmV0dXJuIHVlKGllKHcsSS5sZW5ndGgtRSksSSxFLEQpfWZ1bmN0aW9uIFgoSSx3LEUsRCl7cmV0dXJuIHVlKHNlKHcpLEksRSxEKX1mdW5jdGlvbiBHKEksdyxFLEQpe3JldHVybiB1ZShuZSh3KSxJLEUsRCl9ZnVuY3Rpb24gcmUoSSx3LEUsRCl7cmV0dXJuIHVlKGxlKHcsSS5sZW5ndGgtRSksSSxFLEQpfXUucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHcsRSxELFYpe2lmKEU9PT12b2lkIDApVj0idXRmOCIsRD10aGlzLmxlbmd0aCxFPTA7ZWxzZSBpZihEPT09dm9pZCAwJiZ0eXBlb2YgRT09InN0cmluZyIpVj1FLEQ9dGhpcy5sZW5ndGgsRT0wO2Vsc2UgaWYoaXNGaW5pdGUoRSkpRT1FPj4+MCxpc0Zpbml0ZShEKT8oRD1EPj4+MCxWPT09dm9pZCAwJiYoVj0idXRmOCIpKTooVj1ELEQ9dm9pZCAwKTtlbHNlIHRocm93IG5ldyBFcnJvcigiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQiKTtjb25zdCBaPXRoaXMubGVuZ3RoLUU7aWYoKEQ9PT12b2lkIDB8fEQ+WikmJihEPVopLHcubGVuZ3RoPjAmJihEPDB8fEU8MCl8fEU+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7Vnx8KFY9InV0ZjgiKTtsZXQgY2U9ITE7Zm9yKDs7KXN3aXRjaChWKXtjYXNlImhleCI6cmV0dXJuIEoodGhpcyx3LEUsRCk7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gYWUodGhpcyx3LEUsRCk7Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gWCh0aGlzLHcsRSxEKTtjYXNlImJhc2U2NCI6cmV0dXJuIEcodGhpcyx3LEUsRCk7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiByZSh0aGlzLHcsRSxEKTtkZWZhdWx0OmlmKGNlKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrVik7Vj0oIiIrVikudG9Mb3dlckNhc2UoKSxjZT0hMH19LHUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07ZnVuY3Rpb24gTShJLHcsRSl7cmV0dXJuIHc9PT0wJiZFPT09SS5sZW5ndGg/ZS5mcm9tQnl0ZUFycmF5KEkpOmUuZnJvbUJ5dGVBcnJheShJLnNsaWNlKHcsRSkpfWZ1bmN0aW9uICQoSSx3LEUpe0U9TWF0aC5taW4oSS5sZW5ndGgsRSk7Y29uc3QgRD1bXTtsZXQgVj13O2Zvcig7VjxFOyl7Y29uc3QgWj1JW1ZdO2xldCBjZT1udWxsLFNlPVo+MjM5PzQ6Wj4yMjM/MzpaPjE5MT8yOjE7aWYoVitTZTw9RSl7bGV0IGtlLEJlLERlLExlO3N3aXRjaChTZSl7Y2FzZSAxOlo8MTI4JiYoY2U9Wik7YnJlYWs7Y2FzZSAyOmtlPUlbVisxXSwoa2UmMTkyKT09PTEyOCYmKExlPShaJjMxKTw8NnxrZSY2MyxMZT4xMjcmJihjZT1MZSkpO2JyZWFrO2Nhc2UgMzprZT1JW1YrMV0sQmU9SVtWKzJdLChrZSYxOTIpPT09MTI4JiYoQmUmMTkyKT09PTEyOCYmKExlPShaJjE1KTw8MTJ8KGtlJjYzKTw8NnxCZSY2MyxMZT4yMDQ3JiYoTGU8NTUyOTZ8fExlPjU3MzQzKSYmKGNlPUxlKSk7YnJlYWs7Y2FzZSA0OmtlPUlbVisxXSxCZT1JW1YrMl0sRGU9SVtWKzNdLChrZSYxOTIpPT09MTI4JiYoQmUmMTkyKT09PTEyOCYmKERlJjE5Mik9PT0xMjgmJihMZT0oWiYxNSk8PDE4fChrZSY2Myk8PDEyfChCZSY2Myk8PDZ8RGUmNjMsTGU+NjU1MzUmJkxlPDExMTQxMTImJihjZT1MZSkpfX1jZT09PW51bGw/KGNlPTY1NTMzLFNlPTEpOmNlPjY1NTM1JiYoY2UtPTY1NTM2LEQucHVzaChjZT4+PjEwJjEwMjN8NTUyOTYpLGNlPTU2MzIwfGNlJjEwMjMpLEQucHVzaChjZSksVis9U2V9cmV0dXJuIEgoRCl9Y29uc3QgVT00MDk2O2Z1bmN0aW9uIEgoSSl7Y29uc3Qgdz1JLmxlbmd0aDtpZih3PD1VKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxJKTtsZXQgRT0iIixEPTA7Zm9yKDtEPHc7KUUrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLEkuc2xpY2UoRCxEKz1VKSk7cmV0dXJuIEV9ZnVuY3Rpb24gZWUoSSx3LEUpe2xldCBEPSIiO0U9TWF0aC5taW4oSS5sZW5ndGgsRSk7Zm9yKGxldCBWPXc7VjxFOysrVilEKz1TdHJpbmcuZnJvbUNoYXJDb2RlKElbVl0mMTI3KTtyZXR1cm4gRH1mdW5jdGlvbiBnZShJLHcsRSl7bGV0IEQ9IiI7RT1NYXRoLm1pbihJLmxlbmd0aCxFKTtmb3IobGV0IFY9dztWPEU7KytWKUQrPVN0cmluZy5mcm9tQ2hhckNvZGUoSVtWXSk7cmV0dXJuIER9ZnVuY3Rpb24gbWUoSSx3LEUpe2NvbnN0IEQ9SS5sZW5ndGg7KCF3fHx3PDApJiYodz0wKSwoIUV8fEU8MHx8RT5EKSYmKEU9RCk7bGV0IFY9IiI7Zm9yKGxldCBaPXc7WjxFOysrWilWKz1iZVtJW1pdXTtyZXR1cm4gVn1mdW5jdGlvbiBmZShJLHcsRSl7Y29uc3QgRD1JLnNsaWNlKHcsRSk7bGV0IFY9IiI7Zm9yKGxldCBaPTA7WjxELmxlbmd0aC0xO1orPTIpVis9U3RyaW5nLmZyb21DaGFyQ29kZShEW1pdK0RbWisxXSoyNTYpO3JldHVybiBWfXUucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHcsRSl7Y29uc3QgRD10aGlzLmxlbmd0aDt3PX5+dyxFPUU9PT12b2lkIDA/RDp+fkUsdzwwPyh3Kz1ELHc8MCYmKHc9MCkpOnc+RCYmKHc9RCksRTwwPyhFKz1ELEU8MCYmKEU9MCkpOkU+RCYmKEU9RCksRTx3JiYoRT13KTtjb25zdCBWPXRoaXMuc3ViYXJyYXkodyxFKTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKFYsdS5wcm90b3R5cGUpLFZ9O2Z1bmN0aW9uIGhlKEksdyxFKXtpZihJJTEhPT0wfHxJPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm9mZnNldCBpcyBub3QgdWludCIpO2lmKEkrdz5FKXRocm93IG5ldyBSYW5nZUVycm9yKCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoIil9dS5wcm90b3R5cGUucmVhZFVpbnRMRT11LnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKHcsRSxEKXt3PXc+Pj4wLEU9RT4+PjAsRHx8aGUodyxFLHRoaXMubGVuZ3RoKTtsZXQgVj10aGlzW3ddLFo9MSxjZT0wO2Zvcig7KytjZTxFJiYoWio9MjU2KTspVis9dGhpc1t3K2NlXSpaO3JldHVybiBWfSx1LnByb3RvdHlwZS5yZWFkVWludEJFPXUucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24odyxFLEQpe3c9dz4+PjAsRT1FPj4+MCxEfHxoZSh3LEUsdGhpcy5sZW5ndGgpO2xldCBWPXRoaXNbdystLUVdLFo9MTtmb3IoO0U+MCYmKFoqPTI1Nik7KVYrPXRoaXNbdystLUVdKlo7cmV0dXJuIFZ9LHUucHJvdG90eXBlLnJlYWRVaW50OD11LnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDEsdGhpcy5sZW5ndGgpLHRoaXNbd119LHUucHJvdG90eXBlLnJlYWRVaW50MTZMRT11LnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDIsdGhpcy5sZW5ndGgpLHRoaXNbd118dGhpc1t3KzFdPDw4fSx1LnByb3RvdHlwZS5yZWFkVWludDE2QkU9dS5wcm90b3R5cGUucmVhZFVJbnQxNkJFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywyLHRoaXMubGVuZ3RoKSx0aGlzW3ddPDw4fHRoaXNbdysxXX0sdS5wcm90b3R5cGUucmVhZFVpbnQzMkxFPXUucHJvdG90eXBlLnJlYWRVSW50MzJMRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksKHRoaXNbd118dGhpc1t3KzFdPDw4fHRoaXNbdysyXTw8MTYpK3RoaXNbdyszXSoxNjc3NzIxNn0sdS5wcm90b3R5cGUucmVhZFVpbnQzMkJFPXUucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksdGhpc1t3XSoxNjc3NzIxNisodGhpc1t3KzFdPDwxNnx0aGlzW3crMl08PDh8dGhpc1t3KzNdKX0sdS5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NExFPXdlKGZ1bmN0aW9uKHcpe3c9dz4+PjAscSh3LCJvZmZzZXQiKTtjb25zdCBFPXRoaXNbd10sRD10aGlzW3crN107KEU9PT12b2lkIDB8fEQ9PT12b2lkIDApJiZvZSh3LHRoaXMubGVuZ3RoLTgpO2NvbnN0IFY9RSt0aGlzWysrd10qMioqOCt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjI0LFo9dGhpc1srK3ddK3RoaXNbKyt3XSoyKio4K3RoaXNbKyt3XSoyKioxNitEKjIqKjI0O3JldHVybiBCaWdJbnQoVikrKEJpZ0ludChaKTw8QmlnSW50KDMyKSl9KSx1LnByb3RvdHlwZS5yZWFkQmlnVUludDY0QkU9d2UoZnVuY3Rpb24odyl7dz13Pj4+MCxxKHcsIm9mZnNldCIpO2NvbnN0IEU9dGhpc1t3XSxEPXRoaXNbdys3XTsoRT09PXZvaWQgMHx8RD09PXZvaWQgMCkmJm9lKHcsdGhpcy5sZW5ndGgtOCk7Y29uc3QgVj1FKjIqKjI0K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqOCt0aGlzWysrd10sWj10aGlzWysrd10qMioqMjQrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKio4K0Q7cmV0dXJuKEJpZ0ludChWKTw8QmlnSW50KDMyKSkrQmlnSW50KFopfSksdS5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKHcsRSxEKXt3PXc+Pj4wLEU9RT4+PjAsRHx8aGUodyxFLHRoaXMubGVuZ3RoKTtsZXQgVj10aGlzW3ddLFo9MSxjZT0wO2Zvcig7KytjZTxFJiYoWio9MjU2KTspVis9dGhpc1t3K2NlXSpaO3JldHVybiBaKj0xMjgsVj49WiYmKFYtPU1hdGgucG93KDIsOCpFKSksVn0sdS5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKHcsRSxEKXt3PXc+Pj4wLEU9RT4+PjAsRHx8aGUodyxFLHRoaXMubGVuZ3RoKTtsZXQgVj1FLFo9MSxjZT10aGlzW3crLS1WXTtmb3IoO1Y+MCYmKFoqPTI1Nik7KWNlKz10aGlzW3crLS1WXSpaO3JldHVybiBaKj0xMjgsY2U+PVomJihjZS09TWF0aC5wb3coMiw4KkUpKSxjZX0sdS5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDEsdGhpcy5sZW5ndGgpLHRoaXNbd10mMTI4PygyNTUtdGhpc1t3XSsxKSotMTp0aGlzW3ddfSx1LnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbih3LEUpe3c9dz4+PjAsRXx8aGUodywyLHRoaXMubGVuZ3RoKTtjb25zdCBEPXRoaXNbd118dGhpc1t3KzFdPDw4O3JldHVybiBEJjMyNzY4P0R8NDI5NDkwMTc2MDpEfSx1LnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbih3LEUpe3c9dz4+PjAsRXx8aGUodywyLHRoaXMubGVuZ3RoKTtjb25zdCBEPXRoaXNbdysxXXx0aGlzW3ddPDw4O3JldHVybiBEJjMyNzY4P0R8NDI5NDkwMTc2MDpEfSx1LnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksdGhpc1t3XXx0aGlzW3crMV08PDh8dGhpc1t3KzJdPDwxNnx0aGlzW3crM108PDI0fSx1LnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksdGhpc1t3XTw8MjR8dGhpc1t3KzFdPDwxNnx0aGlzW3crMl08PDh8dGhpc1t3KzNdfSx1LnByb3RvdHlwZS5yZWFkQmlnSW50NjRMRT13ZShmdW5jdGlvbih3KXt3PXc+Pj4wLHEodywib2Zmc2V0Iik7Y29uc3QgRT10aGlzW3ddLEQ9dGhpc1t3KzddOyhFPT09dm9pZCAwfHxEPT09dm9pZCAwKSYmb2Uodyx0aGlzLmxlbmd0aC04KTtjb25zdCBWPXRoaXNbdys0XSt0aGlzW3crNV0qMioqOCt0aGlzW3crNl0qMioqMTYrKEQ8PDI0KTtyZXR1cm4oQmlnSW50KFYpPDxCaWdJbnQoMzIpKStCaWdJbnQoRSt0aGlzWysrd10qMioqOCt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjI0KX0pLHUucHJvdG90eXBlLnJlYWRCaWdJbnQ2NEJFPXdlKGZ1bmN0aW9uKHcpe3c9dz4+PjAscSh3LCJvZmZzZXQiKTtjb25zdCBFPXRoaXNbd10sRD10aGlzW3crN107KEU9PT12b2lkIDB8fEQ9PT12b2lkIDApJiZvZSh3LHRoaXMubGVuZ3RoLTgpO2NvbnN0IFY9KEU8PDI0KSt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddO3JldHVybihCaWdJbnQoVik8PEJpZ0ludCgzMikpK0JpZ0ludCh0aGlzWysrd10qMioqMjQrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKio4K0QpfSksdS5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLHcsITAsMjMsNCl9LHUucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx3LCExLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlTEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLHcsITAsNTIsOCl9LHUucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsOCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsdywhMSw1Miw4KX07ZnVuY3Rpb24gX2UoSSx3LEUsRCxWLFope2lmKCF1LmlzQnVmZmVyKEkpKXRocm93IG5ldyBUeXBlRXJyb3IoJyJidWZmZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih3PlZ8fHc8Wil0aHJvdyBuZXcgUmFuZ2VFcnJvcignInZhbHVlIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJyk7aWYoRStEPkkubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX11LnByb3RvdHlwZS53cml0ZVVpbnRMRT11LnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbih3LEUsRCxWKXtpZih3PSt3LEU9RT4+PjAsRD1EPj4+MCwhVil7Y29uc3QgU2U9TWF0aC5wb3coMiw4KkQpLTE7X2UodGhpcyx3LEUsRCxTZSwwKX1sZXQgWj0xLGNlPTA7Zm9yKHRoaXNbRV09dyYyNTU7KytjZTxEJiYoWio9MjU2KTspdGhpc1tFK2NlXT13L1omMjU1O3JldHVybiBFK0R9LHUucHJvdG90eXBlLndyaXRlVWludEJFPXUucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHcsRSxELFYpe2lmKHc9K3csRT1FPj4+MCxEPUQ+Pj4wLCFWKXtjb25zdCBTZT1NYXRoLnBvdygyLDgqRCktMTtfZSh0aGlzLHcsRSxELFNlLDApfWxldCBaPUQtMSxjZT0xO2Zvcih0aGlzW0UrWl09dyYyNTU7LS1aPj0wJiYoY2UqPTI1Nik7KXRoaXNbRStaXT13L2NlJjI1NTtyZXR1cm4gRStEfSx1LnByb3RvdHlwZS53cml0ZVVpbnQ4PXUucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMSwyNTUsMCksdGhpc1tFXT13JjI1NSxFKzF9LHUucHJvdG90eXBlLndyaXRlVWludDE2TEU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwyLDY1NTM1LDApLHRoaXNbRV09dyYyNTUsdGhpc1tFKzFdPXc+Pj44LEUrMn0sdS5wcm90b3R5cGUud3JpdGVVaW50MTZCRT11LnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDIsNjU1MzUsMCksdGhpc1tFXT13Pj4+OCx0aGlzW0UrMV09dyYyNTUsRSsyfSx1LnByb3RvdHlwZS53cml0ZVVpbnQzMkxFPXUucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbRSszXT13Pj4+MjQsdGhpc1tFKzJdPXc+Pj4xNix0aGlzW0UrMV09dz4+PjgsdGhpc1tFXT13JjI1NSxFKzR9LHUucHJvdG90eXBlLndyaXRlVWludDMyQkU9dS5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSw0LDQyOTQ5NjcyOTUsMCksdGhpc1tFXT13Pj4+MjQsdGhpc1tFKzFdPXc+Pj4xNix0aGlzW0UrMl09dz4+PjgsdGhpc1tFKzNdPXcmMjU1LEUrNH07ZnVuY3Rpb24geGUoSSx3LEUsRCxWKXskZSh3LEQsVixJLEUsNyk7bGV0IFo9TnVtYmVyKHcmQmlnSW50KDQyOTQ5NjcyOTUpKTtJW0UrK109WixaPVo+PjgsSVtFKytdPVosWj1aPj44LElbRSsrXT1aLFo9Wj4+OCxJW0UrK109WjtsZXQgY2U9TnVtYmVyKHc+PkJpZ0ludCgzMikmQmlnSW50KDQyOTQ5NjcyOTUpKTtyZXR1cm4gSVtFKytdPWNlLGNlPWNlPj44LElbRSsrXT1jZSxjZT1jZT4+OCxJW0UrK109Y2UsY2U9Y2U+PjgsSVtFKytdPWNlLEV9ZnVuY3Rpb24gUmUoSSx3LEUsRCxWKXskZSh3LEQsVixJLEUsNyk7bGV0IFo9TnVtYmVyKHcmQmlnSW50KDQyOTQ5NjcyOTUpKTtJW0UrN109WixaPVo+PjgsSVtFKzZdPVosWj1aPj44LElbRSs1XT1aLFo9Wj4+OCxJW0UrNF09WjtsZXQgY2U9TnVtYmVyKHc+PkJpZ0ludCgzMikmQmlnSW50KDQyOTQ5NjcyOTUpKTtyZXR1cm4gSVtFKzNdPWNlLGNlPWNlPj44LElbRSsyXT1jZSxjZT1jZT4+OCxJW0UrMV09Y2UsY2U9Y2U+PjgsSVtFXT1jZSxFKzh9dS5wcm90b3R5cGUud3JpdGVCaWdVSW50NjRMRT13ZShmdW5jdGlvbih3LEU9MCl7cmV0dXJuIHhlKHRoaXMsdyxFLEJpZ0ludCgwKSxCaWdJbnQoIjB4ZmZmZmZmZmZmZmZmZmZmZiIpKX0pLHUucHJvdG90eXBlLndyaXRlQmlnVUludDY0QkU9d2UoZnVuY3Rpb24odyxFPTApe3JldHVybiBSZSh0aGlzLHcsRSxCaWdJbnQoMCksQmlnSW50KCIweGZmZmZmZmZmZmZmZmZmZmYiKSl9KSx1LnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHcsRSxELFYpe2lmKHc9K3csRT1FPj4+MCwhVil7Y29uc3Qga2U9TWF0aC5wb3coMiw4KkQtMSk7X2UodGhpcyx3LEUsRCxrZS0xLC1rZSl9bGV0IFo9MCxjZT0xLFNlPTA7Zm9yKHRoaXNbRV09dyYyNTU7KytaPEQmJihjZSo9MjU2KTspdzwwJiZTZT09PTAmJnRoaXNbRStaLTFdIT09MCYmKFNlPTEpLHRoaXNbRStaXT0ody9jZT4+MCktU2UmMjU1O3JldHVybiBFK0R9LHUucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odyxFLEQsVil7aWYodz0rdyxFPUU+Pj4wLCFWKXtjb25zdCBrZT1NYXRoLnBvdygyLDgqRC0xKTtfZSh0aGlzLHcsRSxELGtlLTEsLWtlKX1sZXQgWj1ELTEsY2U9MSxTZT0wO2Zvcih0aGlzW0UrWl09dyYyNTU7LS1aPj0wJiYoY2UqPTI1Nik7KXc8MCYmU2U9PT0wJiZ0aGlzW0UrWisxXSE9PTAmJihTZT0xKSx0aGlzW0UrWl09KHcvY2U+PjApLVNlJjI1NTtyZXR1cm4gRStEfSx1LnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMSwxMjcsLTEyOCksdzwwJiYodz0yNTUrdysxKSx0aGlzW0VdPXcmMjU1LEUrMX0sdS5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDIsMzI3NjcsLTMyNzY4KSx0aGlzW0VdPXcmMjU1LHRoaXNbRSsxXT13Pj4+OCxFKzJ9LHUucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwyLDMyNzY3LC0zMjc2OCksdGhpc1tFXT13Pj4+OCx0aGlzW0UrMV09dyYyNTUsRSsyfSx1LnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW0VdPXcmMjU1LHRoaXNbRSsxXT13Pj4+OCx0aGlzW0UrMl09dz4+PjE2LHRoaXNbRSszXT13Pj4+MjQsRSs0fSx1LnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx3PDAmJih3PTQyOTQ5NjcyOTUrdysxKSx0aGlzW0VdPXc+Pj4yNCx0aGlzW0UrMV09dz4+PjE2LHRoaXNbRSsyXT13Pj4+OCx0aGlzW0UrM109dyYyNTUsRSs0fSx1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0TEU9d2UoZnVuY3Rpb24odyxFPTApe3JldHVybiB4ZSh0aGlzLHcsRSwtQmlnSW50KCIweDgwMDAwMDAwMDAwMDAwMDAiKSxCaWdJbnQoIjB4N2ZmZmZmZmZmZmZmZmZmZiIpKX0pLHUucHJvdG90eXBlLndyaXRlQmlnSW50NjRCRT13ZShmdW5jdGlvbih3LEU9MCl7cmV0dXJuIFJlKHRoaXMsdyxFLC1CaWdJbnQoIjB4ODAwMDAwMDAwMDAwMDAwMCIpLEJpZ0ludCgiMHg3ZmZmZmZmZmZmZmZmZmZmIikpfSk7ZnVuY3Rpb24gSWUoSSx3LEUsRCxWLFope2lmKEUrRD5JLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYoRTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKX1mdW5jdGlvbiBOZShJLHcsRSxELFYpe3JldHVybiB3PSt3LEU9RT4+PjAsVnx8SWUoSSx3LEUsNCksbi53cml0ZShJLHcsRSxELDIzLDQpLEUrNH11LnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiBOZSh0aGlzLHcsRSwhMCxEKX0sdS5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gTmUodGhpcyx3LEUsITEsRCl9O2Z1bmN0aW9uIHZlKEksdyxFLEQsVil7cmV0dXJuIHc9K3csRT1FPj4+MCxWfHxJZShJLHcsRSw4KSxuLndyaXRlKEksdyxFLEQsNTIsOCksRSs4fXUucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB2ZSh0aGlzLHcsRSwhMCxEKX0sdS5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHZlKHRoaXMsdyxFLCExLEQpfSx1LnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHcsRSxELFYpe2lmKCF1LmlzQnVmZmVyKHcpKXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlciIpO2lmKER8fChEPTApLCFWJiZWIT09MCYmKFY9dGhpcy5sZW5ndGgpLEU+PXcubGVuZ3RoJiYoRT13Lmxlbmd0aCksRXx8KEU9MCksVj4wJiZWPEQmJihWPUQpLFY9PT1EfHx3Lmxlbmd0aD09PTB8fHRoaXMubGVuZ3RoPT09MClyZXR1cm4gMDtpZihFPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMiKTtpZihEPDB8fEQ+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZihWPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzIik7Vj50aGlzLmxlbmd0aCYmKFY9dGhpcy5sZW5ndGgpLHcubGVuZ3RoLUU8Vi1EJiYoVj13Lmxlbmd0aC1FK0QpO2NvbnN0IFo9Vi1EO3JldHVybiB0aGlzPT09dyYmdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmNvcHlXaXRoaW49PSJmdW5jdGlvbiI/dGhpcy5jb3B5V2l0aGluKEUsRCxWKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCh3LHRoaXMuc3ViYXJyYXkoRCxWKSxFKSxafSx1LnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHcsRSxELFYpe2lmKHR5cGVvZiB3PT0ic3RyaW5nIil7aWYodHlwZW9mIEU9PSJzdHJpbmciPyhWPUUsRT0wLEQ9dGhpcy5sZW5ndGgpOnR5cGVvZiBEPT0ic3RyaW5nIiYmKFY9RCxEPXRoaXMubGVuZ3RoKSxWIT09dm9pZCAwJiZ0eXBlb2YgViE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcigiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZyIpO2lmKHR5cGVvZiBWPT0ic3RyaW5nIiYmIXUuaXNFbmNvZGluZyhWKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK1YpO2lmKHcubGVuZ3RoPT09MSl7Y29uc3QgY2U9dy5jaGFyQ29kZUF0KDApOyhWPT09InV0ZjgiJiZjZTwxMjh8fFY9PT0ibGF0aW4xIikmJih3PWNlKX19ZWxzZSB0eXBlb2Ygdz09Im51bWJlciI/dz13JjI1NTp0eXBlb2Ygdz09ImJvb2xlYW4iJiYodz1OdW1iZXIodykpO2lmKEU8MHx8dGhpcy5sZW5ndGg8RXx8dGhpcy5sZW5ndGg8RCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiT3V0IG9mIHJhbmdlIGluZGV4Iik7aWYoRDw9RSlyZXR1cm4gdGhpcztFPUU+Pj4wLEQ9RD09PXZvaWQgMD90aGlzLmxlbmd0aDpEPj4+MCx3fHwodz0wKTtsZXQgWjtpZih0eXBlb2Ygdz09Im51bWJlciIpZm9yKFo9RTtaPEQ7KytaKXRoaXNbWl09dztlbHNle2NvbnN0IGNlPXUuaXNCdWZmZXIodyk/dzp1LmZyb20odyxWKSxTZT1jZS5sZW5ndGg7aWYoU2U9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2YWx1ZSAiJyt3KyciIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50ICJ2YWx1ZSInKTtmb3IoWj0wO1o8RC1FOysrWil0aGlzW1orRV09Y2VbWiVTZV19cmV0dXJuIHRoaXN9O2NvbnN0IENlPXt9O2Z1bmN0aW9uIE1lKEksdyxFKXtDZVtJXT1jbGFzcyBleHRlbmRzIEV7Y29uc3RydWN0b3IoKXtzdXBlcigpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCJtZXNzYWdlIix7dmFsdWU6dy5hcHBseSh0aGlzLGFyZ3VtZW50cyksd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdGhpcy5uYW1lPWAke3RoaXMubmFtZX0gWyR7SX1dYCx0aGlzLnN0YWNrLGRlbGV0ZSB0aGlzLm5hbWV9Z2V0IGNvZGUoKXtyZXR1cm4gSX1zZXQgY29kZShWKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywiY29kZSIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOlYsd3JpdGFibGU6ITB9KX10b1N0cmluZygpe3JldHVybmAke3RoaXMubmFtZX0gWyR7SX1dOiAke3RoaXMubWVzc2FnZX1gfX19TWUoIkVSUl9CVUZGRVJfT1VUX09GX0JPVU5EUyIsZnVuY3Rpb24oSSl7cmV0dXJuIEk/YCR7SX0gaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzYDoiQXR0ZW1wdCB0byBhY2Nlc3MgbWVtb3J5IG91dHNpZGUgYnVmZmVyIGJvdW5kcyJ9LFJhbmdlRXJyb3IpLE1lKCJFUlJfSU5WQUxJRF9BUkdfVFlQRSIsZnVuY3Rpb24oSSx3KXtyZXR1cm5gVGhlICIke0l9IiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlICR7dHlwZW9mIHd9YH0sVHlwZUVycm9yKSxNZSgiRVJSX09VVF9PRl9SQU5HRSIsZnVuY3Rpb24oSSx3LEUpe2xldCBEPWBUaGUgdmFsdWUgb2YgIiR7SX0iIGlzIG91dCBvZiByYW5nZS5gLFY9RTtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihFKSYmTWF0aC5hYnMoRSk+MioqMzI/Vj1VZShTdHJpbmcoRSkpOnR5cGVvZiBFPT0iYmlnaW50IiYmKFY9U3RyaW5nKEUpLChFPkJpZ0ludCgyKSoqQmlnSW50KDMyKXx8RTwtKEJpZ0ludCgyKSoqQmlnSW50KDMyKSkpJiYoVj1VZShWKSksVis9Im4iKSxEKz1gIEl0IG11c3QgYmUgJHt3fS4gUmVjZWl2ZWQgJHtWfWAsRH0sUmFuZ2VFcnJvcik7ZnVuY3Rpb24gVWUoSSl7bGV0IHc9IiIsRT1JLmxlbmd0aDtjb25zdCBEPUlbMF09PT0iLSI/MTowO2Zvcig7RT49RCs0O0UtPTMpdz1gXyR7SS5zbGljZShFLTMsRSl9JHt3fWA7cmV0dXJuYCR7SS5zbGljZSgwLEUpfSR7d31gfWZ1bmN0aW9uIEZlKEksdyxFKXtxKHcsIm9mZnNldCIpLChJW3ddPT09dm9pZCAwfHxJW3crRV09PT12b2lkIDApJiZvZSh3LEkubGVuZ3RoLShFKzEpKX1mdW5jdGlvbiAkZShJLHcsRSxELFYsWil7aWYoST5FfHxJPHcpe2NvbnN0IGNlPXR5cGVvZiB3PT0iYmlnaW50Ij8ibiI6IiI7bGV0IFNlO3Rocm93IFo+Mz93PT09MHx8dz09PUJpZ0ludCgwKT9TZT1gPj0gMCR7Y2V9IGFuZCA8IDIke2NlfSAqKiAkeyhaKzEpKjh9JHtjZX1gOlNlPWA+PSAtKDIke2NlfSAqKiAkeyhaKzEpKjgtMX0ke2NlfSkgYW5kIDwgMiAqKiAkeyhaKzEpKjgtMX0ke2NlfWA6U2U9YD49ICR7d30ke2NlfSBhbmQgPD0gJHtFfSR7Y2V9YCxuZXcgQ2UuRVJSX09VVF9PRl9SQU5HRSgidmFsdWUiLFNlLEkpfUZlKEQsVixaKX1mdW5jdGlvbiBxKEksdyl7aWYodHlwZW9mIEkhPSJudW1iZXIiKXRocm93IG5ldyBDZS5FUlJfSU5WQUxJRF9BUkdfVFlQRSh3LCJudW1iZXIiLEkpfWZ1bmN0aW9uIG9lKEksdyxFKXt0aHJvdyBNYXRoLmZsb29yKEkpIT09ST8ocShJLEUpLG5ldyBDZS5FUlJfT1VUX09GX1JBTkdFKEV8fCJvZmZzZXQiLCJhbiBpbnRlZ2VyIixJKSk6dzwwP25ldyBDZS5FUlJfQlVGRkVSX09VVF9PRl9CT1VORFM6bmV3IENlLkVSUl9PVVRfT0ZfUkFOR0UoRXx8Im9mZnNldCIsYD49ICR7RT8xOjB9IGFuZCA8PSAke3d9YCxJKX1jb25zdCBRPS9bXisvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gWShJKXtpZihJPUkuc3BsaXQoIj0iKVswXSxJPUkudHJpbSgpLnJlcGxhY2UoUSwiIiksSS5sZW5ndGg8MilyZXR1cm4iIjtmb3IoO0kubGVuZ3RoJTQhPT0wOylJPUkrIj0iO3JldHVybiBJfWZ1bmN0aW9uIGllKEksdyl7dz13fHwxLzA7bGV0IEU7Y29uc3QgRD1JLmxlbmd0aDtsZXQgVj1udWxsO2NvbnN0IFo9W107Zm9yKGxldCBjZT0wO2NlPEQ7KytjZSl7aWYoRT1JLmNoYXJDb2RlQXQoY2UpLEU+NTUyOTUmJkU8NTczNDQpe2lmKCFWKXtpZihFPjU2MzE5KXsody09Myk+LTEmJloucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9ZWxzZSBpZihjZSsxPT09RCl7KHctPTMpPi0xJiZaLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfVY9RTtjb250aW51ZX1pZihFPDU2MzIwKXsody09Myk+LTEmJloucHVzaCgyMzksMTkxLDE4OSksVj1FO2NvbnRpbnVlfUU9KFYtNTUyOTY8PDEwfEUtNTYzMjApKzY1NTM2fWVsc2UgViYmKHctPTMpPi0xJiZaLnB1c2goMjM5LDE5MSwxODkpO2lmKFY9bnVsbCxFPDEyOCl7aWYoKHctPTEpPDApYnJlYWs7Wi5wdXNoKEUpfWVsc2UgaWYoRTwyMDQ4KXtpZigody09Mik8MClicmVhaztaLnB1c2goRT4+NnwxOTIsRSY2M3wxMjgpfWVsc2UgaWYoRTw2NTUzNil7aWYoKHctPTMpPDApYnJlYWs7Wi5wdXNoKEU+PjEyfDIyNCxFPj42JjYzfDEyOCxFJjYzfDEyOCl9ZWxzZSBpZihFPDExMTQxMTIpe2lmKCh3LT00KTwwKWJyZWFrO1oucHVzaChFPj4xOHwyNDAsRT4+MTImNjN8MTI4LEU+PjYmNjN8MTI4LEUmNjN8MTI4KX1lbHNlIHRocm93IG5ldyBFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50Iil9cmV0dXJuIFp9ZnVuY3Rpb24gc2UoSSl7Y29uc3Qgdz1bXTtmb3IobGV0IEU9MDtFPEkubGVuZ3RoOysrRSl3LnB1c2goSS5jaGFyQ29kZUF0KEUpJjI1NSk7cmV0dXJuIHd9ZnVuY3Rpb24gbGUoSSx3KXtsZXQgRSxELFY7Y29uc3QgWj1bXTtmb3IobGV0IGNlPTA7Y2U8SS5sZW5ndGgmJiEoKHctPTIpPDApOysrY2UpRT1JLmNoYXJDb2RlQXQoY2UpLEQ9RT4+OCxWPUUlMjU2LFoucHVzaChWKSxaLnB1c2goRCk7cmV0dXJuIFp9ZnVuY3Rpb24gbmUoSSl7cmV0dXJuIGUudG9CeXRlQXJyYXkoWShJKSl9ZnVuY3Rpb24gdWUoSSx3LEUsRCl7bGV0IFY7Zm9yKFY9MDtWPEQmJiEoVitFPj13Lmxlbmd0aHx8Vj49SS5sZW5ndGgpOysrVil3W1YrRV09SVtWXTtyZXR1cm4gVn1mdW5jdGlvbiBkZShJLHcpe3JldHVybiBJIGluc3RhbmNlb2Ygd3x8SSE9bnVsbCYmSS5jb25zdHJ1Y3RvciE9bnVsbCYmSS5jb25zdHJ1Y3Rvci5uYW1lIT1udWxsJiZJLmNvbnN0cnVjdG9yLm5hbWU9PT13Lm5hbWV9ZnVuY3Rpb24gcGUoSSl7cmV0dXJuIEkhPT1JfWNvbnN0IGJlPWZ1bmN0aW9uKCl7Y29uc3QgST0iMDEyMzQ1Njc4OWFiY2RlZiIsdz1uZXcgQXJyYXkoMjU2KTtmb3IobGV0IEU9MDtFPDE2OysrRSl7Y29uc3QgRD1FKjE2O2ZvcihsZXQgVj0wO1Y8MTY7KytWKXdbRCtWXT1JW0VdK0lbVl19cmV0dXJuIHd9KCk7ZnVuY3Rpb24gd2UoSSl7cmV0dXJuIHR5cGVvZiBCaWdJbnQ+InUiP09lOkl9ZnVuY3Rpb24gT2UoKXt0aHJvdyBuZXcgRXJyb3IoIkJpZ0ludCBub3Qgc3VwcG9ydGVkIil9fSkoYnVmZmVyJDEpO2xldCBsYXp5PW51bGw7dmFyIHRleHRFbmRlYyQxPWZ1bmN0aW9uKCl7cmV0dXJuIGxhenk9PT1udWxsJiYobGF6eT17dGV4dEVuY29kZXI6bmV3IFRleHRFbmNvZGVyLHRleHREZWNvZGVyOm5ldyBUZXh0RGVjb2Rlcn0pLGxhenl9LGZvcm1hdHMkMj17fSxlbmNvZGluZz17fTtjb25zdCBNb2R1bGVFcnJvciQ4PW1vZHVsZUVycm9yLGZvcm1hdHMkMT1uZXcgU2V0KFsiYnVmZmVyIiwidmlldyIsInV0ZjgiXSk7bGV0IEVuY29kaW5nJDI9Y2xhc3N7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5lbmNvZGU9ZS5lbmNvZGV8fHRoaXMuZW5jb2RlLHRoaXMuZGVjb2RlPWUuZGVjb2RlfHx0aGlzLmRlY29kZSx0aGlzLm5hbWU9ZS5uYW1lfHx0aGlzLm5hbWUsdGhpcy5mb3JtYXQ9ZS5mb3JtYXR8fHRoaXMuZm9ybWF0LHR5cGVvZiB0aGlzLmVuY29kZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgJ2VuY29kZScgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uIik7aWYodHlwZW9mIHRoaXMuZGVjb2RlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSAnZGVjb2RlJyBwcm9wZXJ0eSBtdXN0IGJlIGEgZnVuY3Rpb24iKTtpZih0aGlzLmVuY29kZT10aGlzLmVuY29kZS5iaW5kKHRoaXMpLHRoaXMuZGVjb2RlPXRoaXMuZGVjb2RlLmJpbmQodGhpcyksdHlwZW9mIHRoaXMubmFtZSE9InN0cmluZyJ8fHRoaXMubmFtZT09PSIiKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSAnbmFtZScgcHJvcGVydHkgbXVzdCBiZSBhIHN0cmluZyIpO2lmKHR5cGVvZiB0aGlzLmZvcm1hdCE9InN0cmluZyJ8fCFmb3JtYXRzJDEuaGFzKHRoaXMuZm9ybWF0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgJ2Zvcm1hdCcgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgJ2J1ZmZlcicsICd2aWV3JywgJ3V0ZjgnIik7ZS5jcmVhdGVWaWV3VHJhbnNjb2RlciYmKHRoaXMuY3JlYXRlVmlld1RyYW5zY29kZXI9ZS5jcmVhdGVWaWV3VHJhbnNjb2RlciksZS5jcmVhdGVCdWZmZXJUcmFuc2NvZGVyJiYodGhpcy5jcmVhdGVCdWZmZXJUcmFuc2NvZGVyPWUuY3JlYXRlQnVmZmVyVHJhbnNjb2RlciksZS5jcmVhdGVVVEY4VHJhbnNjb2RlciYmKHRoaXMuY3JlYXRlVVRGOFRyYW5zY29kZXI9ZS5jcmVhdGVVVEY4VHJhbnNjb2Rlcil9Z2V0IGNvbW1vbk5hbWUoKXtyZXR1cm4gdGhpcy5uYW1lLnNwbGl0KCIrIilbMF19Y3JlYXRlQnVmZmVyVHJhbnNjb2Rlcigpe3Rocm93IG5ldyBNb2R1bGVFcnJvciQ4KGBFbmNvZGluZyAnJHt0aGlzLm5hbWV9JyBjYW5ub3QgYmUgdHJhbnNjb2RlZCB0byAnYnVmZmVyJ2Ase2NvZGU6IkxFVkVMX0VOQ09ESU5HX05PVF9TVVBQT1JURUQifSl9Y3JlYXRlVmlld1RyYW5zY29kZXIoKXt0aHJvdyBuZXcgTW9kdWxlRXJyb3IkOChgRW5jb2RpbmcgJyR7dGhpcy5uYW1lfScgY2Fubm90IGJlIHRyYW5zY29kZWQgdG8gJ3ZpZXcnYCx7Y29kZToiTEVWRUxfRU5DT0RJTkdfTk9UX1NVUFBPUlRFRCJ9KX1jcmVhdGVVVEY4VHJhbnNjb2Rlcigpe3Rocm93IG5ldyBNb2R1bGVFcnJvciQ4KGBFbmNvZGluZyAnJHt0aGlzLm5hbWV9JyBjYW5ub3QgYmUgdHJhbnNjb2RlZCB0byAndXRmOCdgLHtjb2RlOiJMRVZFTF9FTkNPRElOR19OT1RfU1VQUE9SVEVEIn0pfX07ZW5jb2RpbmcuRW5jb2Rpbmc9RW5jb2RpbmckMjtjb25zdHtCdWZmZXI6QnVmZmVyJDF9PWJ1ZmZlciQxfHx7fSx7RW5jb2Rpbmc6RW5jb2RpbmckMX09ZW5jb2RpbmcsdGV4dEVuZGVjPXRleHRFbmRlYyQxO2xldCBCdWZmZXJGb3JtYXQkMj1jbGFzcyBleHRlbmRzIEVuY29kaW5nJDF7Y29uc3RydWN0b3IoZSl7c3VwZXIoey4uLmUsZm9ybWF0OiJidWZmZXIifSl9Y3JlYXRlVmlld1RyYW5zY29kZXIoKXtyZXR1cm4gbmV3IFZpZXdGb3JtYXQkMih7ZW5jb2RlOnRoaXMuZW5jb2RlLGRlY29kZTplPT50aGlzLmRlY29kZShCdWZmZXIkMS5mcm9tKGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpKSxuYW1lOmAke3RoaXMubmFtZX0rdmlld2B9KX1jcmVhdGVCdWZmZXJUcmFuc2NvZGVyKCl7cmV0dXJuIHRoaXN9fSxWaWV3Rm9ybWF0JDI9Y2xhc3MgZXh0ZW5kcyBFbmNvZGluZyQxe2NvbnN0cnVjdG9yKGUpe3N1cGVyKHsuLi5lLGZvcm1hdDoidmlldyJ9KX1jcmVhdGVCdWZmZXJUcmFuc2NvZGVyKCl7cmV0dXJuIG5ldyBCdWZmZXJGb3JtYXQkMih7ZW5jb2RlOmU9Pntjb25zdCBuPXRoaXMuZW5jb2RlKGUpO3JldHVybiBCdWZmZXIkMS5mcm9tKG4uYnVmZmVyLG4uYnl0ZU9mZnNldCxuLmJ5dGVMZW5ndGgpfSxkZWNvZGU6dGhpcy5kZWNvZGUsbmFtZTpgJHt0aGlzLm5hbWV9K2J1ZmZlcmB9KX1jcmVhdGVWaWV3VHJhbnNjb2Rlcigpe3JldHVybiB0aGlzfX0sVVRGOEZvcm1hdCQyPWNsYXNzIGV4dGVuZHMgRW5jb2RpbmckMXtjb25zdHJ1Y3RvcihlKXtzdXBlcih7Li4uZSxmb3JtYXQ6InV0ZjgifSl9Y3JlYXRlQnVmZmVyVHJhbnNjb2Rlcigpe3JldHVybiBuZXcgQnVmZmVyRm9ybWF0JDIoe2VuY29kZTplPT5CdWZmZXIkMS5mcm9tKHRoaXMuZW5jb2RlKGUpLCJ1dGY4IiksZGVjb2RlOmU9PnRoaXMuZGVjb2RlKGUudG9TdHJpbmcoInV0ZjgiKSksbmFtZTpgJHt0aGlzLm5hbWV9K2J1ZmZlcmB9KX1jcmVhdGVWaWV3VHJhbnNjb2Rlcigpe2NvbnN0e3RleHRFbmNvZGVyOmUsdGV4dERlY29kZXI6bn09dGV4dEVuZGVjKCk7cmV0dXJuIG5ldyBWaWV3Rm9ybWF0JDIoe2VuY29kZTpvPT5lLmVuY29kZSh0aGlzLmVuY29kZShvKSksZGVjb2RlOm89PnRoaXMuZGVjb2RlKG4uZGVjb2RlKG8pKSxuYW1lOmAke3RoaXMubmFtZX0rdmlld2B9KX1jcmVhdGVVVEY4VHJhbnNjb2Rlcigpe3JldHVybiB0aGlzfX07Zm9ybWF0cyQyLkJ1ZmZlckZvcm1hdD1CdWZmZXJGb3JtYXQkMjtmb3JtYXRzJDIuVmlld0Zvcm1hdD1WaWV3Rm9ybWF0JDI7Zm9ybWF0cyQyLlVURjhGb3JtYXQ9VVRGOEZvcm1hdCQyO2NvbnN0e0J1ZmZlcn09YnVmZmVyJDF8fHtCdWZmZXI6e2lzQnVmZmVyOigpPT4hMX19LHt0ZXh0RW5jb2Rlcix0ZXh0RGVjb2Rlcn09dGV4dEVuZGVjJDEoKSx7QnVmZmVyRm9ybWF0OkJ1ZmZlckZvcm1hdCQxLFZpZXdGb3JtYXQ6Vmlld0Zvcm1hdCQxLFVURjhGb3JtYXQ6VVRGOEZvcm1hdCQxfT1mb3JtYXRzJDIsaWRlbnRpdHkkND10PT50O2VuY29kaW5ncyQxLnV0Zjg9bmV3IFVURjhGb3JtYXQkMSh7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIodCk/dC50b1N0cmluZygidXRmOCIpOkFycmF5QnVmZmVyLmlzVmlldyh0KT90ZXh0RGVjb2Rlci5kZWNvZGUodCk6U3RyaW5nKHQpfSxkZWNvZGU6aWRlbnRpdHkkNCxuYW1lOiJ1dGY4IixjcmVhdGVWaWV3VHJhbnNjb2Rlcigpe3JldHVybiBuZXcgVmlld0Zvcm1hdCQxKHtlbmNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyh0KT90OnRleHRFbmNvZGVyLmVuY29kZSh0KX0sZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0ZXh0RGVjb2Rlci5kZWNvZGUodCl9LG5hbWU6YCR7dGhpcy5uYW1lfSt2aWV3YH0pfSxjcmVhdGVCdWZmZXJUcmFuc2NvZGVyKCl7cmV0dXJuIG5ldyBCdWZmZXJGb3JtYXQkMSh7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIodCk/dDpBcnJheUJ1ZmZlci5pc1ZpZXcodCk/QnVmZmVyLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk6QnVmZmVyLmZyb20oU3RyaW5nKHQpLCJ1dGY4Iil9LGRlY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygidXRmOCIpfSxuYW1lOmAke3RoaXMubmFtZX0rYnVmZmVyYH0pfX0pO2VuY29kaW5ncyQxLmpzb249bmV3IFVURjhGb3JtYXQkMSh7ZW5jb2RlOkpTT04uc3RyaW5naWZ5LGRlY29kZTpKU09OLnBhcnNlLG5hbWU6Impzb24ifSk7ZW5jb2RpbmdzJDEuYnVmZmVyPW5ldyBCdWZmZXJGb3JtYXQkMSh7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIodCk/dDpBcnJheUJ1ZmZlci5pc1ZpZXcodCk/QnVmZmVyLmZyb20odC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCk6QnVmZmVyLmZyb20oU3RyaW5nKHQpLCJ1dGY4Iil9LGRlY29kZTppZGVudGl0eSQ0LG5hbWU6ImJ1ZmZlciIsY3JlYXRlVmlld1RyYW5zY29kZXIoKXtyZXR1cm4gbmV3IFZpZXdGb3JtYXQkMSh7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodCk/dDpCdWZmZXIuZnJvbShTdHJpbmcodCksInV0ZjgiKX0sZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBCdWZmZXIuZnJvbSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX0sbmFtZTpgJHt0aGlzLm5hbWV9K3ZpZXdgfSl9fSk7ZW5jb2RpbmdzJDEudmlldz1uZXcgVmlld0Zvcm1hdCQxKHtlbmNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyh0KT90OnRleHRFbmNvZGVyLmVuY29kZSh0KX0sZGVjb2RlOmlkZW50aXR5JDQsbmFtZToidmlldyIsY3JlYXRlQnVmZmVyVHJhbnNjb2Rlcigpe3JldHVybiBuZXcgQnVmZmVyRm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHQpP3Q6QXJyYXlCdWZmZXIuaXNWaWV3KHQpP0J1ZmZlci5mcm9tKHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpOkJ1ZmZlci5mcm9tKFN0cmluZyh0KSwidXRmOCIpfSxkZWNvZGU6aWRlbnRpdHkkNCxuYW1lOmAke3RoaXMubmFtZX0rYnVmZmVyYH0pfX0pO2VuY29kaW5ncyQxLmhleD1uZXcgQnVmZmVyRm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHQpP3Q6QnVmZmVyLmZyb20oU3RyaW5nKHQpLCJoZXgiKX0sZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCJoZXgiKX0sbmFtZToiaGV4In0pO2VuY29kaW5ncyQxLmJhc2U2ND1uZXcgQnVmZmVyRm9ybWF0JDEoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHQpP3Q6QnVmZmVyLmZyb20oU3RyaW5nKHQpLCJiYXNlNjQiKX0sZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCJiYXNlNjQiKX0sbmFtZToiYmFzZTY0In0pO2NvbnN0IE1vZHVsZUVycm9yJDc9bW9kdWxlRXJyb3IsZW5jb2RpbmdzPWVuY29kaW5ncyQxLHtFbmNvZGluZ309ZW5jb2Rpbmcse0J1ZmZlckZvcm1hdCxWaWV3Rm9ybWF0LFVURjhGb3JtYXR9PWZvcm1hdHMkMixrRm9ybWF0cz1TeW1ib2woImZvcm1hdHMiKSxrRW5jb2RpbmdzPVN5bWJvbCgiZW5jb2RpbmdzIiksdmFsaWRGb3JtYXRzPW5ldyBTZXQoWyJidWZmZXIiLCJ2aWV3IiwidXRmOCJdKTtsZXQgVHJhbnNjb2RlciQxPWNsYXNze2NvbnN0cnVjdG9yKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKCFlLmV2ZXJ5KG49PnZhbGlkRm9ybWF0cy5oYXMobikpKXRocm93IG5ldyBUeXBlRXJyb3IoIkZvcm1hdCBtdXN0IGJlIG9uZSBvZiAnYnVmZmVyJywgJ3ZpZXcnLCAndXRmOCciKX1lbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCAnZm9ybWF0cycgbXVzdCBiZSBhbiBhcnJheSIpO3RoaXNba0VuY29kaW5nc109bmV3IE1hcCx0aGlzW2tGb3JtYXRzXT1uZXcgU2V0KGUpO2Zvcihjb25zdCBuIGluIGVuY29kaW5ncyl0cnl7dGhpcy5lbmNvZGluZyhuKX1jYXRjaChvKXtpZihvLmNvZGUhPT0iTEVWRUxfRU5DT0RJTkdfTk9UX1NVUFBPUlRFRCIpdGhyb3cgb319ZW5jb2RpbmdzKCl7cmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh0aGlzW2tFbmNvZGluZ3NdLnZhbHVlcygpKSl9ZW5jb2RpbmcoZSl7bGV0IG49dGhpc1trRW5jb2RpbmdzXS5nZXQoZSk7aWYobj09PXZvaWQgMCl7aWYodHlwZW9mIGU9PSJzdHJpbmciJiZlIT09IiIpe2lmKG49bG9va3VwW2VdLCFuKXRocm93IG5ldyBNb2R1bGVFcnJvciQ3KGBFbmNvZGluZyAnJHtlfScgaXMgbm90IGZvdW5kYCx7Y29kZToiTEVWRUxfRU5DT0RJTkdfTk9UX0ZPVU5EIn0pfWVsc2V7aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCAnZW5jb2RpbmcnIG11c3QgYmUgYSBzdHJpbmcgb3Igb2JqZWN0Iik7bj1mcm9tKGUpfWNvbnN0e25hbWU6byxmb3JtYXQ6ZH09bjtpZighdGhpc1trRm9ybWF0c10uaGFzKGQpKWlmKHRoaXNba0Zvcm1hdHNdLmhhcygidmlldyIpKW49bi5jcmVhdGVWaWV3VHJhbnNjb2RlcigpO2Vsc2UgaWYodGhpc1trRm9ybWF0c10uaGFzKCJidWZmZXIiKSluPW4uY3JlYXRlQnVmZmVyVHJhbnNjb2RlcigpO2Vsc2UgaWYodGhpc1trRm9ybWF0c10uaGFzKCJ1dGY4Iikpbj1uLmNyZWF0ZVVURjhUcmFuc2NvZGVyKCk7ZWxzZSB0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNyhgRW5jb2RpbmcgJyR7b30nIGNhbm5vdCBiZSB0cmFuc2NvZGVkYCx7Y29kZToiTEVWRUxfRU5DT0RJTkdfTk9UX1NVUFBPUlRFRCJ9KTtmb3IoY29uc3QgaCBvZltlLG8sbi5uYW1lLG4uY29tbW9uTmFtZV0pdGhpc1trRW5jb2RpbmdzXS5zZXQoaCxuKX1yZXR1cm4gbn19O2xldmVsVHJhbnNjb2Rlci5UcmFuc2NvZGVyPVRyYW5zY29kZXIkMTtmdW5jdGlvbiBmcm9tKHQpe2lmKHQgaW5zdGFuY2VvZiBFbmNvZGluZylyZXR1cm4gdDtjb25zdCBlPSJ0eXBlImluIHQmJnR5cGVvZiB0LnR5cGU9PSJzdHJpbmciP3QudHlwZTp2b2lkIDAsbj10Lm5hbWV8fGV8fGBhbm9ueW1vdXMtJHthbm9ueW1vdXNDb3VudCsrfWA7c3dpdGNoKGRldGVjdEZvcm1hdCh0KSl7Y2FzZSJ2aWV3IjpyZXR1cm4gbmV3IFZpZXdGb3JtYXQoey4uLnQsbmFtZTpufSk7Y2FzZSJ1dGY4IjpyZXR1cm4gbmV3IFVURjhGb3JtYXQoey4uLnQsbmFtZTpufSk7Y2FzZSJidWZmZXIiOnJldHVybiBuZXcgQnVmZmVyRm9ybWF0KHsuLi50LG5hbWU6bn0pO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigiRm9ybWF0IG11c3QgYmUgb25lIG9mICdidWZmZXInLCAndmlldycsICd1dGY4JyIpfX1mdW5jdGlvbiBkZXRlY3RGb3JtYXQodCl7cmV0dXJuImZvcm1hdCJpbiB0JiZ0LmZvcm1hdCE9PXZvaWQgMD90LmZvcm1hdDoiYnVmZmVyImluIHQmJnR5cGVvZiB0LmJ1ZmZlcj09ImJvb2xlYW4iP3QuYnVmZmVyPyJidWZmZXIiOiJ1dGY4IjoiY29kZSJpbiB0JiZOdW1iZXIuaXNJbnRlZ2VyKHQuY29kZSk/InZpZXciOiJidWZmZXIifWNvbnN0IGFsaWFzZXM9e2JpbmFyeTplbmNvZGluZ3MuYnVmZmVyLCJ1dGYtOCI6ZW5jb2RpbmdzLnV0Zjh9LGxvb2t1cD17Li4uZW5jb2RpbmdzLC4uLmFsaWFzZXN9O2xldCBhbm9ueW1vdXNDb3VudD0wO3ZhciBldmVudHNFeHBvcnRzPXt9LGV2ZW50cz17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZXZlbnRzRXhwb3J0c30sc2V0IGV4cG9ydHModCl7ZXZlbnRzRXhwb3J0cz10fX0sUj10eXBlb2YgUmVmbGVjdD09Im9iamVjdCI/UmVmbGVjdDpudWxsLFJlZmxlY3RBcHBseT1SJiZ0eXBlb2YgUi5hcHBseT09ImZ1bmN0aW9uIj9SLmFwcGx5OmZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSxuLG8pfSxSZWZsZWN0T3duS2V5cztSJiZ0eXBlb2YgUi5vd25LZXlzPT0iZnVuY3Rpb24iP1JlZmxlY3RPd25LZXlzPVIub3duS2V5czpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP1JlZmxlY3RPd25LZXlzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSl9OlJlZmxlY3RPd25LZXlzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKX07ZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHQpe2NvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKHQpfXZhciBOdW1iZXJJc05hTj1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT09ZX07ZnVuY3Rpb24gRXZlbnRFbWl0dGVyJDEoKXtFdmVudEVtaXR0ZXIkMS5pbml0LmNhbGwodGhpcyl9ZXZlbnRzLmV4cG9ydHM9RXZlbnRFbWl0dGVyJDE7ZXZlbnRzRXhwb3J0cy5vbmNlPW9uY2U7RXZlbnRFbWl0dGVyJDEuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlciQxO0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMDtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTA7RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBkZWZhdWx0TWF4TGlzdGVuZXJzPTEwO2Z1bmN0aW9uIGNoZWNrTGlzdGVuZXIodCl7aWYodHlwZW9mIHQhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJsaXN0ZW5lciIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIkMSwiZGVmYXVsdE1heExpc3RlbmVycyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnN9LHNldDpmdW5jdGlvbih0KXtpZih0eXBlb2YgdCE9Im51bWJlciJ8fHQ8MHx8TnVtYmVySXNOYU4odCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiAiZGVmYXVsdE1heExpc3RlbmVycyIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyt0KyIuIik7ZGVmYXVsdE1heExpc3RlbmVycz10fX0pO0V2ZW50RW1pdHRlciQxLmluaXQ9ZnVuY3Rpb24oKXsodGhpcy5fZXZlbnRzPT09dm9pZCAwfHx0aGlzLl9ldmVudHM9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykmJih0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9O0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPSJudW1iZXIifHxlPDB8fE51bWJlcklzTmFOKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgIm4iIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZSsiLiIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfTtmdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHQpe3JldHVybiB0Ll9tYXhMaXN0ZW5lcnM9PT12b2lkIDA/RXZlbnRFbWl0dGVyJDEuZGVmYXVsdE1heExpc3RlbmVyczp0Ll9tYXhMaXN0ZW5lcnN9RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpfTtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXtmb3IodmFyIG49W10sbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspbi5wdXNoKGFyZ3VtZW50c1tvXSk7dmFyIGQ9ZT09PSJlcnJvciIsaD10aGlzLl9ldmVudHM7aWYoaCE9PXZvaWQgMClkPWQmJmguZXJyb3I9PT12b2lkIDA7ZWxzZSBpZighZClyZXR1cm4hMTtpZihkKXt2YXIgbDtpZihuLmxlbmd0aD4wJiYobD1uWzBdKSxsIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgbDt2YXIgdT1uZXcgRXJyb3IoIlVuaGFuZGxlZCBlcnJvci4iKyhsPyIgKCIrbC5tZXNzYWdlKyIpIjoiIikpO3Rocm93IHUuY29udGV4dD1sLHV9dmFyIHA9aFtlXTtpZihwPT09dm9pZCAwKXJldHVybiExO2lmKHR5cGVvZiBwPT0iZnVuY3Rpb24iKVJlZmxlY3RBcHBseShwLHRoaXMsbik7ZWxzZSBmb3IodmFyIGc9cC5sZW5ndGgsdj1hcnJheUNsb25lKHAsZyksbz0wO288ZzsrK28pUmVmbGVjdEFwcGx5KHZbb10sdGhpcyxuKTtyZXR1cm4hMH07ZnVuY3Rpb24gX2FkZExpc3RlbmVyKHQsZSxuLG8pe3ZhciBkLGgsbDtpZihjaGVja0xpc3RlbmVyKG4pLGg9dC5fZXZlbnRzLGg9PT12b2lkIDA/KGg9dC5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdC5fZXZlbnRzQ291bnQ9MCk6KGgubmV3TGlzdGVuZXIhPT12b2lkIDAmJih0LmVtaXQoIm5ld0xpc3RlbmVyIixlLG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxoPXQuX2V2ZW50cyksbD1oW2VdKSxsPT09dm9pZCAwKWw9aFtlXT1uLCsrdC5fZXZlbnRzQ291bnQ7ZWxzZSBpZih0eXBlb2YgbD09ImZ1bmN0aW9uIj9sPWhbZV09bz9bbixsXTpbbCxuXTpvP2wudW5zaGlmdChuKTpsLnB1c2gobiksZD1fZ2V0TWF4TGlzdGVuZXJzKHQpLGQ+MCYmbC5sZW5ndGg+ZCYmIWwud2FybmVkKXtsLndhcm5lZD0hMDt2YXIgdT1uZXcgRXJyb3IoIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gIitsLmxlbmd0aCsiICIrU3RyaW5nKGUpKyIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdCIpO3UubmFtZT0iTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nIix1LmVtaXR0ZXI9dCx1LnR5cGU9ZSx1LmNvdW50PWwubGVuZ3RoLFByb2Nlc3NFbWl0V2FybmluZyh1KX1yZXR1cm4gdH1FdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsZSxuLCExKX07RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLm9uPUV2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKGUsbil7cmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLGUsbiwhMCl9O2Z1bmN0aW9uIG9uY2VXcmFwcGVyKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCxhcmd1bWVudHMubGVuZ3RoPT09MD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBfb25jZVdyYXAodCxlLG4pe3ZhciBvPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDp0LHR5cGU6ZSxsaXN0ZW5lcjpufSxkPW9uY2VXcmFwcGVyLmJpbmQobyk7cmV0dXJuIGQubGlzdGVuZXI9bixvLndyYXBGbj1kLGR9RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihuKSx0aGlzLm9uKGUsX29uY2VXcmFwKHRoaXMsZSxuKSksdGhpc307RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihuKSx0aGlzLnByZXBlbmRMaXN0ZW5lcihlLF9vbmNlV3JhcCh0aGlzLGUsbikpLHRoaXN9O0V2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe3ZhciBvLGQsaCxsLHU7aWYoY2hlY2tMaXN0ZW5lcihuKSxkPXRoaXMuX2V2ZW50cyxkPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKG89ZFtlXSxvPT09dm9pZCAwKXJldHVybiB0aGlzO2lmKG89PT1ufHxvLmxpc3RlbmVyPT09biktLXRoaXMuX2V2ZW50c0NvdW50PT09MD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIGRbZV0sZC5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSxvLmxpc3RlbmVyfHxuKSk7ZWxzZSBpZih0eXBlb2YgbyE9ImZ1bmN0aW9uIil7Zm9yKGg9LTEsbD1vLmxlbmd0aC0xO2w+PTA7bC0tKWlmKG9bbF09PT1ufHxvW2xdLmxpc3RlbmVyPT09bil7dT1vW2xdLmxpc3RlbmVyLGg9bDticmVha31pZihoPDApcmV0dXJuIHRoaXM7aD09PTA/by5zaGlmdCgpOnNwbGljZU9uZShvLGgpLG8ubGVuZ3RoPT09MSYmKGRbZV09b1swXSksZC5yZW1vdmVMaXN0ZW5lciE9PXZvaWQgMCYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSx1fHxuKX1yZXR1cm4gdGhpc307RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLm9mZj1FdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgbixvLGQ7aWYobz10aGlzLl9ldmVudHMsbz09PXZvaWQgMClyZXR1cm4gdGhpcztpZihvLnJlbW92ZUxpc3RlbmVyPT09dm9pZCAwKXJldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6b1tlXSE9PXZvaWQgMCYmKC0tdGhpcy5fZXZlbnRzQ291bnQ9PT0wP3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBvW2VdKSx0aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXt2YXIgaD1PYmplY3Qua2V5cyhvKSxsO2ZvcihkPTA7ZDxoLmxlbmd0aDsrK2QpbD1oW2RdLGwhPT0icmVtb3ZlTGlzdGVuZXIiJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhsKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlbW92ZUxpc3RlbmVyIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKG49b1tlXSx0eXBlb2Ygbj09ImZ1bmN0aW9uIil0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbik7ZWxzZSBpZihuIT09dm9pZCAwKWZvcihkPW4ubGVuZ3RoLTE7ZD49MDtkLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bZF0pO3JldHVybiB0aGlzfTtmdW5jdGlvbiBfbGlzdGVuZXJzKHQsZSxuKXt2YXIgbz10Ll9ldmVudHM7aWYobz09PXZvaWQgMClyZXR1cm5bXTt2YXIgZD1vW2VdO3JldHVybiBkPT09dm9pZCAwP1tdOnR5cGVvZiBkPT0iZnVuY3Rpb24iP24/W2QubGlzdGVuZXJ8fGRdOltkXTpuP3Vud3JhcExpc3RlbmVycyhkKTphcnJheUNsb25lKGQsZC5sZW5ndGgpfUV2ZW50RW1pdHRlciQxLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyxlLCEwKX07RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gX2xpc3RlbmVycyh0aGlzLGUsITEpfTtFdmVudEVtaXR0ZXIkMS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR5cGVvZiB0Lmxpc3RlbmVyQ291bnQ9PSJmdW5jdGlvbiI/dC5saXN0ZW5lckNvdW50KGUpOmxpc3RlbmVyQ291bnQuY2FsbCh0LGUpfTtFdmVudEVtaXR0ZXIkMS5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1saXN0ZW5lckNvdW50O2Z1bmN0aW9uIGxpc3RlbmVyQ291bnQodCl7dmFyIGU9dGhpcy5fZXZlbnRzO2lmKGUhPT12b2lkIDApe3ZhciBuPWVbdF07aWYodHlwZW9mIG49PSJmdW5jdGlvbiIpcmV0dXJuIDE7aWYobiE9PXZvaWQgMClyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9RXZlbnRFbWl0dGVyJDEucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpOltdfTtmdW5jdGlvbiBhcnJheUNsb25lKHQsZSl7Zm9yKHZhciBuPW5ldyBBcnJheShlKSxvPTA7bzxlOysrbyluW29dPXRbb107cmV0dXJuIG59ZnVuY3Rpb24gc3BsaWNlT25lKHQsZSl7Zm9yKDtlKzE8dC5sZW5ndGg7ZSsrKXRbZV09dFtlKzFdO3QucG9wKCl9ZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodC5sZW5ndGgpLG49MDtuPGUubGVuZ3RoOysrbillW25dPXRbbl0ubGlzdGVuZXJ8fHRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gb25jZSh0LGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLG8pe2Z1bmN0aW9uIGQobCl7dC5yZW1vdmVMaXN0ZW5lcihlLGgpLG8obCl9ZnVuY3Rpb24gaCgpe3R5cGVvZiB0LnJlbW92ZUxpc3RlbmVyPT0iZnVuY3Rpb24iJiZ0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsZCksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcih0LGUsaCx7b25jZTohMH0pLGUhPT0iZXJyb3IiJiZhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcih0LGQse29uY2U6ITB9KX0pfWZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKHQsZSxuKXt0eXBlb2YgdC5vbj09ImZ1bmN0aW9uIiYmZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKHQsImVycm9yIixlLG4pfWZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcih0LGUsbixvKXtpZih0eXBlb2YgdC5vbj09ImZ1bmN0aW9uIilvLm9uY2U/dC5vbmNlKGUsbik6dC5vbihlLG4pO2Vsc2UgaWYodHlwZW9mIHQuYWRkRXZlbnRMaXN0ZW5lcj09ImZ1bmN0aW9uIil0LmFkZEV2ZW50TGlzdGVuZXIoZSxmdW5jdGlvbiBkKGgpe28ub25jZSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsZCksbihoKX0pO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJlbWl0dGVyIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIHQpfXZhciBjYXRlcmluZz17fSxuZXh0VGlja0Jyb3dzZXIkMT10eXBlb2YgcXVldWVNaWNyb3Rhc2s9PSJmdW5jdGlvbiI/cXVldWVNaWNyb3Rhc2s6dD0+UHJvbWlzZS5yZXNvbHZlKCkudGhlbih0KSxuZXh0VGljaz1uZXh0VGlja0Jyb3dzZXIkMTtjYXRlcmluZy5mcm9tQ2FsbGJhY2s9ZnVuY3Rpb24odCxlKXtpZih0PT09dm9pZCAwKXt2YXIgbj1uZXcgUHJvbWlzZShmdW5jdGlvbihvLGQpe3Q9ZnVuY3Rpb24oaCxsKXtoP2QoaCk6byhsKX19KTt0W2UhPT12b2lkIDA/ZToicHJvbWlzZSJdPW59ZWxzZSBpZih0eXBlb2YgdCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKCJDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24iKTtyZXR1cm4gdH07Y2F0ZXJpbmcuZnJvbVByb21pc2U9ZnVuY3Rpb24odCxlKXtpZihlPT09dm9pZCAwKXJldHVybiB0O3QudGhlbihmdW5jdGlvbihuKXtuZXh0VGljaygoKT0+ZShudWxsLG4pKX0pLmNhdGNoKGZ1bmN0aW9uKG4pe25leHRUaWNrKCgpPT5lKG4pKX0pfTt2YXIgYWJzdHJhY3RJdGVyYXRvcj17fSxjb21tb24kNj17fTtjb21tb24kNi5nZXRDYWxsYmFjaz1mdW5jdGlvbih0LGUpe3JldHVybiB0eXBlb2YgdD09ImZ1bmN0aW9uIj90OmV9O2NvbW1vbiQ2LmdldE9wdGlvbnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHlwZW9mIHQ9PSJvYmplY3QiJiZ0IT09bnVsbD90OmUhPT12b2lkIDA/ZTp7fX07Y29uc3R7ZnJvbUNhbGxiYWNrOmZyb21DYWxsYmFjayQyfT1jYXRlcmluZyxNb2R1bGVFcnJvciQ2PW1vZHVsZUVycm9yLHtnZXRPcHRpb25zOmdldE9wdGlvbnMkMixnZXRDYWxsYmFjazpnZXRDYWxsYmFjayQyfT1jb21tb24kNixrUHJvbWlzZSQyPVN5bWJvbCgicHJvbWlzZSIpLGtDYWxsYmFjayQxPVN5bWJvbCgiY2FsbGJhY2siKSxrV29ya2luZz1TeW1ib2woIndvcmtpbmciKSxrSGFuZGxlT25lJDE9U3ltYm9sKCJoYW5kbGVPbmUiKSxrSGFuZGxlTWFueSQxPVN5bWJvbCgiaGFuZGxlTWFueSIpLGtBdXRvQ2xvc2U9U3ltYm9sKCJhdXRvQ2xvc2UiKSxrRmluaXNoV29yaz1TeW1ib2woImZpbmlzaFdvcmsiKSxrUmV0dXJuTWFueT1TeW1ib2woInJldHVybk1hbnkiKSxrQ2xvc2luZz1TeW1ib2woImNsb3NpbmciKSxrSGFuZGxlQ2xvc2U9U3ltYm9sKCJoYW5kbGVDbG9zZSIpLGtDbG9zZWQ9U3ltYm9sKCJjbG9zZWQiKSxrQ2xvc2VDYWxsYmFja3MkMT1TeW1ib2woImNsb3NlQ2FsbGJhY2tzIiksa0tleUVuY29kaW5nJDE9U3ltYm9sKCJrZXlFbmNvZGluZyIpLGtWYWx1ZUVuY29kaW5nJDE9U3ltYm9sKCJ2YWx1ZUVuY29kaW5nIiksa0Fib3J0T25DbG9zZT1TeW1ib2woImFib3J0T25DbG9zZSIpLGtMZWdhY3k9U3ltYm9sKCJsZWdhY3kiKSxrS2V5cz1TeW1ib2woImtleXMiKSxrVmFsdWVzPVN5bWJvbCgidmFsdWVzIiksa0xpbWl0PVN5bWJvbCgibGltaXQiKSxrQ291bnQ9U3ltYm9sKCJjb3VudCIpLGVtcHR5T3B0aW9ucz1PYmplY3QuZnJlZXplKHt9KSxub29wJDQ9KCk9Pnt9O2xldCB3YXJuZWRFbmQ9ITE7Y2xhc3MgQ29tbW9uSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuLG8pe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGwpe2NvbnN0IGQ9ZT09PW51bGw/Im51bGwiOnR5cGVvZiBlO3Rocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGFic3RyYWN0LWxldmVsIGRhdGFiYXNlLCByZWNlaXZlZCAke2R9YCl9aWYodHlwZW9mIG4hPSJvYmplY3QifHxuPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gb3B0aW9ucyBvYmplY3QiKTt0aGlzW2tDbG9zZWRdPSExLHRoaXNba0Nsb3NlQ2FsbGJhY2tzJDFdPVtdLHRoaXNba1dvcmtpbmddPSExLHRoaXNba0Nsb3NpbmddPSExLHRoaXNba0F1dG9DbG9zZV09ITEsdGhpc1trQ2FsbGJhY2skMV09bnVsbCx0aGlzW2tIYW5kbGVPbmUkMV09dGhpc1trSGFuZGxlT25lJDFdLmJpbmQodGhpcyksdGhpc1trSGFuZGxlTWFueSQxXT10aGlzW2tIYW5kbGVNYW55JDFdLmJpbmQodGhpcyksdGhpc1trSGFuZGxlQ2xvc2VdPXRoaXNba0hhbmRsZUNsb3NlXS5iaW5kKHRoaXMpLHRoaXNba0tleUVuY29kaW5nJDFdPW5ba0tleUVuY29kaW5nJDFdLHRoaXNba1ZhbHVlRW5jb2RpbmckMV09bltrVmFsdWVFbmNvZGluZyQxXSx0aGlzW2tMZWdhY3ldPW8sdGhpc1trTGltaXRdPU51bWJlci5pc0ludGVnZXIobi5saW1pdCkmJm4ubGltaXQ+PTA/bi5saW1pdDoxLzAsdGhpc1trQ291bnRdPTAsdGhpc1trQWJvcnRPbkNsb3NlXT0hIW4uYWJvcnRPbkNsb3NlLHRoaXMuZGI9ZSx0aGlzLmRiLmF0dGFjaFJlc291cmNlKHRoaXMpLHRoaXMubmV4dFRpY2s9ZS5uZXh0VGlja31nZXQgY291bnQoKXtyZXR1cm4gdGhpc1trQ291bnRdfWdldCBsaW1pdCgpe3JldHVybiB0aGlzW2tMaW1pdF19bmV4dChlKXtsZXQgbjtpZihlPT09dm9pZCAwKW49bmV3IFByb21pc2UoKG8sZCk9PntlPShoLGwsdSk9PntoP2QoaCk6dGhpc1trTGVnYWN5XT9sPT09dm9pZCAwJiZ1PT09dm9pZCAwP28oKTpvKFtsLHVdKTpvKGwpfX0pO2Vsc2UgaWYodHlwZW9mIGUhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uIik7cmV0dXJuIHRoaXNba0Nsb3NpbmddP3RoaXMubmV4dFRpY2soZSxuZXcgTW9kdWxlRXJyb3IkNigiSXRlcmF0b3IgaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIG5leHQoKSBhZnRlciBjbG9zZSgpIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfTk9UX09QRU4ifSkpOnRoaXNba1dvcmtpbmddP3RoaXMubmV4dFRpY2soZSxuZXcgTW9kdWxlRXJyb3IkNigiSXRlcmF0b3IgaXMgYnVzeTogY2Fubm90IGNhbGwgbmV4dCgpIHVudGlsIHByZXZpb3VzIGNhbGwgaGFzIGNvbXBsZXRlZCIse2NvZGU6IkxFVkVMX0lURVJBVE9SX0JVU1kifSkpOih0aGlzW2tXb3JraW5nXT0hMCx0aGlzW2tDYWxsYmFjayQxXT1lLHRoaXNba0NvdW50XT49dGhpc1trTGltaXRdP3RoaXMubmV4dFRpY2sodGhpc1trSGFuZGxlT25lJDFdLG51bGwpOnRoaXMuX25leHQodGhpc1trSGFuZGxlT25lJDFdKSksbn1fbmV4dChlKXt0aGlzLm5leHRUaWNrKGUpfW5leHR2KGUsbixvKXtyZXR1cm4gbz1nZXRDYWxsYmFjayQyKG4sbyksbz1mcm9tQ2FsbGJhY2skMihvLGtQcm9taXNlJDIpLG49Z2V0T3B0aW9ucyQyKG4sZW1wdHlPcHRpb25zKSxOdW1iZXIuaXNJbnRlZ2VyKGUpPyh0aGlzW2tDbG9zaW5nXT90aGlzLm5leHRUaWNrKG8sbmV3IE1vZHVsZUVycm9yJDYoIkl0ZXJhdG9yIGlzIG5vdCBvcGVuOiBjYW5ub3QgY2FsbCBuZXh0digpIGFmdGVyIGNsb3NlKCkiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9OT1RfT1BFTiJ9KSk6dGhpc1trV29ya2luZ10/dGhpcy5uZXh0VGljayhvLG5ldyBNb2R1bGVFcnJvciQ2KCJJdGVyYXRvciBpcyBidXN5OiBjYW5ub3QgY2FsbCBuZXh0digpIHVudGlsIHByZXZpb3VzIGNhbGwgaGFzIGNvbXBsZXRlZCIse2NvZGU6IkxFVkVMX0lURVJBVE9SX0JVU1kifSkpOihlPDEmJihlPTEpLHRoaXNba0xpbWl0XTwxLzAmJihlPU1hdGgubWluKGUsdGhpc1trTGltaXRdLXRoaXNba0NvdW50XSkpLHRoaXNba1dvcmtpbmddPSEwLHRoaXNba0NhbGxiYWNrJDFdPW8sZTw9MD90aGlzLm5leHRUaWNrKHRoaXNba0hhbmRsZU1hbnkkMV0sbnVsbCxbXSk6dGhpcy5fbmV4dHYoZSxuLHRoaXNba0hhbmRsZU1hbnkkMV0pKSxvW2tQcm9taXNlJDJdKToodGhpcy5uZXh0VGljayhvLG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCAnc2l6ZScgbXVzdCBiZSBhbiBpbnRlZ2VyIikpLG9ba1Byb21pc2UkMl0pfV9uZXh0dihlLG4sbyl7Y29uc3QgZD1bXSxoPShsLHUscCk9PntpZihsKXJldHVybiBvKGwpO2lmKHRoaXNba0xlZ2FjeV0/dT09PXZvaWQgMCYmcD09PXZvaWQgMDp1PT09dm9pZCAwKXJldHVybiBvKG51bGwsZCk7ZC5wdXNoKHRoaXNba0xlZ2FjeV0/W3UscF06dSksZC5sZW5ndGg9PT1lP28obnVsbCxkKTp0aGlzLl9uZXh0KGgpfTt0aGlzLl9uZXh0KGgpfWFsbChlLG4pe3JldHVybiBuPWdldENhbGxiYWNrJDIoZSxuKSxuPWZyb21DYWxsYmFjayQyKG4sa1Byb21pc2UkMiksZT1nZXRPcHRpb25zJDIoZSxlbXB0eU9wdGlvbnMpLHRoaXNba0Nsb3NpbmddP3RoaXMubmV4dFRpY2sobixuZXcgTW9kdWxlRXJyb3IkNigiSXRlcmF0b3IgaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIGFsbCgpIGFmdGVyIGNsb3NlKCkiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9OT1RfT1BFTiJ9KSk6dGhpc1trV29ya2luZ10/dGhpcy5uZXh0VGljayhuLG5ldyBNb2R1bGVFcnJvciQ2KCJJdGVyYXRvciBpcyBidXN5OiBjYW5ub3QgY2FsbCBhbGwoKSB1bnRpbCBwcmV2aW91cyBjYWxsIGhhcyBjb21wbGV0ZWQiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9CVVNZIn0pKToodGhpc1trV29ya2luZ109ITAsdGhpc1trQ2FsbGJhY2skMV09bix0aGlzW2tBdXRvQ2xvc2VdPSEwLHRoaXNba0NvdW50XT49dGhpc1trTGltaXRdP3RoaXMubmV4dFRpY2sodGhpc1trSGFuZGxlTWFueSQxXSxudWxsLFtdKTp0aGlzLl9hbGwoZSx0aGlzW2tIYW5kbGVNYW55JDFdKSksbltrUHJvbWlzZSQyXX1fYWxsKGUsbil7bGV0IG89dGhpc1trQ291bnRdO2NvbnN0IGQ9W10saD0oKT0+e2NvbnN0IHU9dGhpc1trTGltaXRdPDEvMD9NYXRoLm1pbigxZTMsdGhpc1trTGltaXRdLW8pOjFlMzt1PD0wP3RoaXMubmV4dFRpY2sobixudWxsLGQpOnRoaXMuX25leHR2KHUsZW1wdHlPcHRpb25zLGwpfSxsPSh1LHApPT57dT9uKHUpOnAubGVuZ3RoPT09MD9uKG51bGwsZCk6KGQucHVzaC5hcHBseShkLHApLG8rPXAubGVuZ3RoLGgoKSl9O2goKX1ba0ZpbmlzaFdvcmtdKCl7Y29uc3QgZT10aGlzW2tDYWxsYmFjayQxXTtyZXR1cm4gdGhpc1trQWJvcnRPbkNsb3NlXSYmZT09PW51bGw/bm9vcCQ0Oih0aGlzW2tXb3JraW5nXT0hMSx0aGlzW2tDYWxsYmFjayQxXT1udWxsLHRoaXNba0Nsb3NpbmddJiZ0aGlzLl9jbG9zZSh0aGlzW2tIYW5kbGVDbG9zZV0pLGUpfVtrUmV0dXJuTWFueV0oZSxuLG8pe3RoaXNba0F1dG9DbG9zZV0/dGhpcy5jbG9zZShlLmJpbmQobnVsbCxuLG8pKTplKG4sbyl9c2VlayhlLG4pe2lmKG49Z2V0T3B0aW9ucyQyKG4sZW1wdHlPcHRpb25zKSwhdGhpc1trQ2xvc2luZ10pe2lmKHRoaXNba1dvcmtpbmddKXRocm93IG5ldyBNb2R1bGVFcnJvciQ2KCJJdGVyYXRvciBpcyBidXN5OiBjYW5ub3QgY2FsbCBzZWVrKCkgdW50aWwgbmV4dCgpIGhhcyBjb21wbGV0ZWQiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9CVVNZIn0pO3tjb25zdCBvPXRoaXMuZGIua2V5RW5jb2Rpbmcobi5rZXlFbmNvZGluZ3x8dGhpc1trS2V5RW5jb2RpbmckMV0pLGQ9by5mb3JtYXQ7bi5rZXlFbmNvZGluZyE9PWQmJihuPXsuLi5uLGtleUVuY29kaW5nOmR9KTtjb25zdCBoPXRoaXMuZGIucHJlZml4S2V5KG8uZW5jb2RlKGUpLGQpO3RoaXMuX3NlZWsoaCxuKX19fV9zZWVrKGUsbil7dGhyb3cgbmV3IE1vZHVsZUVycm9yJDYoIkl0ZXJhdG9yIGRvZXMgbm90IHN1cHBvcnQgc2VlaygpIix7Y29kZToiTEVWRUxfTk9UX1NVUFBPUlRFRCJ9KX1jbG9zZShlKXtyZXR1cm4gZT1mcm9tQ2FsbGJhY2skMihlLGtQcm9taXNlJDIpLHRoaXNba0Nsb3NlZF0/dGhpcy5uZXh0VGljayhlKTp0aGlzW2tDbG9zaW5nXT90aGlzW2tDbG9zZUNhbGxiYWNrcyQxXS5wdXNoKGUpOih0aGlzW2tDbG9zaW5nXT0hMCx0aGlzW2tDbG9zZUNhbGxiYWNrcyQxXS5wdXNoKGUpLHRoaXNba1dvcmtpbmddP3RoaXNba0Fib3J0T25DbG9zZV0mJnRoaXNba0ZpbmlzaFdvcmtdKCkobmV3IE1vZHVsZUVycm9yJDYoIkFib3J0ZWQgb24gaXRlcmF0b3IgY2xvc2UoKSIse2NvZGU6IkxFVkVMX0lURVJBVE9SX05PVF9PUEVOIn0pKTp0aGlzLl9jbG9zZSh0aGlzW2tIYW5kbGVDbG9zZV0pKSxlW2tQcm9taXNlJDJdfV9jbG9zZShlKXt0aGlzLm5leHRUaWNrKGUpfVtrSGFuZGxlQ2xvc2VdKCl7dGhpc1trQ2xvc2VkXT0hMCx0aGlzLmRiLmRldGFjaFJlc291cmNlKHRoaXMpO2NvbnN0IGU9dGhpc1trQ2xvc2VDYWxsYmFja3MkMV07dGhpc1trQ2xvc2VDYWxsYmFja3MkMV09W107Zm9yKGNvbnN0IG4gb2YgZSluKCl9YXN5bmMqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpe3RyeXtsZXQgZTtmb3IoOyhlPWF3YWl0IHRoaXMubmV4dCgpKSE9PXZvaWQgMDspeWllbGQgZX1maW5hbGx5e3RoaXNba0Nsb3NlZF18fGF3YWl0IHRoaXMuY2xvc2UoKX19fWxldCBBYnN0cmFjdEl0ZXJhdG9yJDM9Y2xhc3MgZXh0ZW5kcyBDb21tb25JdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiwhMCksdGhpc1trS2V5c109bi5rZXlzIT09ITEsdGhpc1trVmFsdWVzXT1uLnZhbHVlcyE9PSExfVtrSGFuZGxlT25lJDFdKGUsbixvKXtjb25zdCBkPXRoaXNba0ZpbmlzaFdvcmtdKCk7aWYoZSlyZXR1cm4gZChlKTt0cnl7bj10aGlzW2tLZXlzXSYmbiE9PXZvaWQgMD90aGlzW2tLZXlFbmNvZGluZyQxXS5kZWNvZGUobik6dm9pZCAwLG89dGhpc1trVmFsdWVzXSYmbyE9PXZvaWQgMD90aGlzW2tWYWx1ZUVuY29kaW5nJDFdLmRlY29kZShvKTp2b2lkIDB9Y2F0Y2goaCl7cmV0dXJuIGQobmV3IEl0ZXJhdG9yRGVjb2RlRXJyb3IoImVudHJ5IixoKSl9bj09PXZvaWQgMCYmbz09PXZvaWQgMHx8dGhpc1trQ291bnRdKyssZChudWxsLG4sbyl9W2tIYW5kbGVNYW55JDFdKGUsbil7Y29uc3Qgbz10aGlzW2tGaW5pc2hXb3JrXSgpO2lmKGUpcmV0dXJuIHRoaXNba1JldHVybk1hbnldKG8sZSk7dHJ5e2Zvcihjb25zdCBkIG9mIG4pe2NvbnN0IGg9ZFswXSxsPWRbMV07ZFswXT10aGlzW2tLZXlzXSYmaCE9PXZvaWQgMD90aGlzW2tLZXlFbmNvZGluZyQxXS5kZWNvZGUoaCk6dm9pZCAwLGRbMV09dGhpc1trVmFsdWVzXSYmbCE9PXZvaWQgMD90aGlzW2tWYWx1ZUVuY29kaW5nJDFdLmRlY29kZShsKTp2b2lkIDB9fWNhdGNoKGQpe3JldHVybiB0aGlzW2tSZXR1cm5NYW55XShvLG5ldyBJdGVyYXRvckRlY29kZUVycm9yKCJlbnRyaWVzIixkKSl9dGhpc1trQ291bnRdKz1uLmxlbmd0aCx0aGlzW2tSZXR1cm5NYW55XShvLG51bGwsbil9ZW5kKGUpe3JldHVybiF3YXJuZWRFbmQmJnR5cGVvZiBjb25zb2xlPCJ1IiYmKHdhcm5lZEVuZD0hMCxjb25zb2xlLndhcm4obmV3IE1vZHVsZUVycm9yJDYoIlRoZSBpdGVyYXRvci5lbmQoKSBtZXRob2Qgd2FzIHJlbmFtZWQgdG8gY2xvc2UoKSBhbmQgZW5kKCkgaXMgYW4gYWxpYXMgdGhhdCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiIse2NvZGU6IkxFVkVMX0xFR0FDWSJ9KSkpLHRoaXMuY2xvc2UoZSl9fSxBYnN0cmFjdEtleUl0ZXJhdG9yJDM9Y2xhc3MgZXh0ZW5kcyBDb21tb25JdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiwhMSl9W2tIYW5kbGVPbmUkMV0oZSxuKXtjb25zdCBvPXRoaXNba0ZpbmlzaFdvcmtdKCk7aWYoZSlyZXR1cm4gbyhlKTt0cnl7bj1uIT09dm9pZCAwP3RoaXNba0tleUVuY29kaW5nJDFdLmRlY29kZShuKTp2b2lkIDB9Y2F0Y2goZCl7cmV0dXJuIG8obmV3IEl0ZXJhdG9yRGVjb2RlRXJyb3IoImtleSIsZCkpfW4hPT12b2lkIDAmJnRoaXNba0NvdW50XSsrLG8obnVsbCxuKX1ba0hhbmRsZU1hbnkkMV0oZSxuKXtjb25zdCBvPXRoaXNba0ZpbmlzaFdvcmtdKCk7aWYoZSlyZXR1cm4gdGhpc1trUmV0dXJuTWFueV0obyxlKTt0cnl7Zm9yKGxldCBkPTA7ZDxuLmxlbmd0aDtkKyspe2NvbnN0IGg9bltkXTtuW2RdPWghPT12b2lkIDA/dGhpc1trS2V5RW5jb2RpbmckMV0uZGVjb2RlKGgpOnZvaWQgMH19Y2F0Y2goZCl7cmV0dXJuIHRoaXNba1JldHVybk1hbnldKG8sbmV3IEl0ZXJhdG9yRGVjb2RlRXJyb3IoImtleXMiLGQpKX10aGlzW2tDb3VudF0rPW4ubGVuZ3RoLHRoaXNba1JldHVybk1hbnldKG8sbnVsbCxuKX19LEFic3RyYWN0VmFsdWVJdGVyYXRvciQzPWNsYXNzIGV4dGVuZHMgQ29tbW9uSXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4sITEpfVtrSGFuZGxlT25lJDFdKGUsbil7Y29uc3Qgbz10aGlzW2tGaW5pc2hXb3JrXSgpO2lmKGUpcmV0dXJuIG8oZSk7dHJ5e249biE9PXZvaWQgMD90aGlzW2tWYWx1ZUVuY29kaW5nJDFdLmRlY29kZShuKTp2b2lkIDB9Y2F0Y2goZCl7cmV0dXJuIG8obmV3IEl0ZXJhdG9yRGVjb2RlRXJyb3IoInZhbHVlIixkKSl9biE9PXZvaWQgMCYmdGhpc1trQ291bnRdKyssbyhudWxsLG4pfVtrSGFuZGxlTWFueSQxXShlLG4pe2NvbnN0IG89dGhpc1trRmluaXNoV29ya10oKTtpZihlKXJldHVybiB0aGlzW2tSZXR1cm5NYW55XShvLGUpO3RyeXtmb3IobGV0IGQ9MDtkPG4ubGVuZ3RoO2QrKyl7Y29uc3QgaD1uW2RdO25bZF09aCE9PXZvaWQgMD90aGlzW2tWYWx1ZUVuY29kaW5nJDFdLmRlY29kZShoKTp2b2lkIDB9fWNhdGNoKGQpe3JldHVybiB0aGlzW2tSZXR1cm5NYW55XShvLG5ldyBJdGVyYXRvckRlY29kZUVycm9yKCJ2YWx1ZXMiLGQpKX10aGlzW2tDb3VudF0rPW4ubGVuZ3RoLHRoaXNba1JldHVybk1hbnldKG8sbnVsbCxuKX19O2NsYXNzIEl0ZXJhdG9yRGVjb2RlRXJyb3IgZXh0ZW5kcyBNb2R1bGVFcnJvciQ2e2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoYEl0ZXJhdG9yIGNvdWxkIG5vdCBkZWNvZGUgJHtlfWAse2NvZGU6IkxFVkVMX0RFQ09ERV9FUlJPUiIsY2F1c2U6bn0pfX1mb3IoY29uc3QgdCBvZlsiX2VuZGVkIHByb3BlcnR5IiwiX25leHRpbmcgcHJvcGVydHkiLCJfZW5kIG1ldGhvZCJdKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEl0ZXJhdG9yJDMucHJvdG90eXBlLHQuc3BsaXQoIiAiKVswXSx7Z2V0KCl7dGhyb3cgbmV3IE1vZHVsZUVycm9yJDYoYFRoZSAke3R9IGhhcyBiZWVuIHJlbW92ZWRgLHtjb2RlOiJMRVZFTF9MRUdBQ1kifSl9LHNldCgpe3Rocm93IG5ldyBNb2R1bGVFcnJvciQ2KGBUaGUgJHt0fSBoYXMgYmVlbiByZW1vdmVkYCx7Y29kZToiTEVWRUxfTEVHQUNZIn0pfX0pO0Fic3RyYWN0SXRlcmF0b3IkMy5rZXlFbmNvZGluZz1rS2V5RW5jb2RpbmckMTtBYnN0cmFjdEl0ZXJhdG9yJDMudmFsdWVFbmNvZGluZz1rVmFsdWVFbmNvZGluZyQxO2Fic3RyYWN0SXRlcmF0b3IuQWJzdHJhY3RJdGVyYXRvcj1BYnN0cmFjdEl0ZXJhdG9yJDM7YWJzdHJhY3RJdGVyYXRvci5BYnN0cmFjdEtleUl0ZXJhdG9yPUFic3RyYWN0S2V5SXRlcmF0b3IkMzthYnN0cmFjdEl0ZXJhdG9yLkFic3RyYWN0VmFsdWVJdGVyYXRvcj1BYnN0cmFjdFZhbHVlSXRlcmF0b3IkMzt2YXIgZGVmYXVsdEt2SXRlcmF0b3I9e307Y29uc3R7QWJzdHJhY3RLZXlJdGVyYXRvcjpBYnN0cmFjdEtleUl0ZXJhdG9yJDIsQWJzdHJhY3RWYWx1ZUl0ZXJhdG9yOkFic3RyYWN0VmFsdWVJdGVyYXRvciQyfT1hYnN0cmFjdEl0ZXJhdG9yLGtJdGVyYXRvciQxPVN5bWJvbCgiaXRlcmF0b3IiKSxrQ2FsbGJhY2s9U3ltYm9sKCJjYWxsYmFjayIpLGtIYW5kbGVPbmU9U3ltYm9sKCJoYW5kbGVPbmUiKSxrSGFuZGxlTWFueT1TeW1ib2woImhhbmRsZU1hbnkiKTtsZXQgRGVmYXVsdEtleUl0ZXJhdG9yJDE9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdEtleUl0ZXJhdG9yJDJ7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLHRoaXNba0l0ZXJhdG9yJDFdPWUuaXRlcmF0b3Ioey4uLm4sa2V5czohMCx2YWx1ZXM6ITF9KSx0aGlzW2tIYW5kbGVPbmVdPXRoaXNba0hhbmRsZU9uZV0uYmluZCh0aGlzKSx0aGlzW2tIYW5kbGVNYW55XT10aGlzW2tIYW5kbGVNYW55XS5iaW5kKHRoaXMpfX0sRGVmYXVsdFZhbHVlSXRlcmF0b3IkMT1jbGFzcyBleHRlbmRzIEFic3RyYWN0VmFsdWVJdGVyYXRvciQye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSx0aGlzW2tJdGVyYXRvciQxXT1lLml0ZXJhdG9yKHsuLi5uLGtleXM6ITEsdmFsdWVzOiEwfSksdGhpc1trSGFuZGxlT25lXT10aGlzW2tIYW5kbGVPbmVdLmJpbmQodGhpcyksdGhpc1trSGFuZGxlTWFueV09dGhpc1trSGFuZGxlTWFueV0uYmluZCh0aGlzKX19O2Zvcihjb25zdCB0IG9mW0RlZmF1bHRLZXlJdGVyYXRvciQxLERlZmF1bHRWYWx1ZUl0ZXJhdG9yJDFdKXtjb25zdCBlPXQ9PT1EZWZhdWx0S2V5SXRlcmF0b3IkMSxuPWU/bz0+b1swXTpvPT5vWzFdO3QucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKG8pe3RoaXNba0NhbGxiYWNrXT1vLHRoaXNba0l0ZXJhdG9yJDFdLm5leHQodGhpc1trSGFuZGxlT25lXSl9LHQucHJvdG90eXBlW2tIYW5kbGVPbmVdPWZ1bmN0aW9uKG8sZCxoKXtjb25zdCBsPXRoaXNba0NhbGxiYWNrXTtvP2wobyk6bChudWxsLGU/ZDpoKX0sdC5wcm90b3R5cGUuX25leHR2PWZ1bmN0aW9uKG8sZCxoKXt0aGlzW2tDYWxsYmFja109aCx0aGlzW2tJdGVyYXRvciQxXS5uZXh0dihvLGQsdGhpc1trSGFuZGxlTWFueV0pfSx0LnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKG8sZCl7dGhpc1trQ2FsbGJhY2tdPWQsdGhpc1trSXRlcmF0b3IkMV0uYWxsKG8sdGhpc1trSGFuZGxlTWFueV0pfSx0LnByb3RvdHlwZVtrSGFuZGxlTWFueV09ZnVuY3Rpb24obyxkKXtjb25zdCBoPXRoaXNba0NhbGxiYWNrXTtvP2gobyk6aChudWxsLGQubWFwKG4pKX0sdC5wcm90b3R5cGUuX3NlZWs9ZnVuY3Rpb24obyxkKXt0aGlzW2tJdGVyYXRvciQxXS5zZWVrKG8sZCl9LHQucHJvdG90eXBlLl9jbG9zZT1mdW5jdGlvbihvKXt0aGlzW2tJdGVyYXRvciQxXS5jbG9zZShvKX19ZGVmYXVsdEt2SXRlcmF0b3IuRGVmYXVsdEtleUl0ZXJhdG9yPURlZmF1bHRLZXlJdGVyYXRvciQxO2RlZmF1bHRLdkl0ZXJhdG9yLkRlZmF1bHRWYWx1ZUl0ZXJhdG9yPURlZmF1bHRWYWx1ZUl0ZXJhdG9yJDE7dmFyIGRlZmVycmVkSXRlcmF0b3I9e307Y29uc3R7QWJzdHJhY3RJdGVyYXRvcjpBYnN0cmFjdEl0ZXJhdG9yJDIsQWJzdHJhY3RLZXlJdGVyYXRvcjpBYnN0cmFjdEtleUl0ZXJhdG9yJDEsQWJzdHJhY3RWYWx1ZUl0ZXJhdG9yOkFic3RyYWN0VmFsdWVJdGVyYXRvciQxfT1hYnN0cmFjdEl0ZXJhdG9yLE1vZHVsZUVycm9yJDU9bW9kdWxlRXJyb3Isa051dD1TeW1ib2woIm51dCIpLGtVbmRlZmVyJDE9U3ltYm9sKCJ1bmRlZmVyIiksa0ZhY3Rvcnk9U3ltYm9sKCJmYWN0b3J5Iik7bGV0IERlZmVycmVkSXRlcmF0b3IkMT1jbGFzcyBleHRlbmRzIEFic3RyYWN0SXRlcmF0b3IkMntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksdGhpc1trTnV0XT1udWxsLHRoaXNba0ZhY3RvcnldPSgpPT5lLml0ZXJhdG9yKG4pLHRoaXMuZGIuZGVmZXIoKCk9PnRoaXNba1VuZGVmZXIkMV0oKSl9fSxEZWZlcnJlZEtleUl0ZXJhdG9yJDE9Y2xhc3MgZXh0ZW5kcyBBYnN0cmFjdEtleUl0ZXJhdG9yJDF7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLHRoaXNba051dF09bnVsbCx0aGlzW2tGYWN0b3J5XT0oKT0+ZS5rZXlzKG4pLHRoaXMuZGIuZGVmZXIoKCk9PnRoaXNba1VuZGVmZXIkMV0oKSl9fSxEZWZlcnJlZFZhbHVlSXRlcmF0b3IkMT1jbGFzcyBleHRlbmRzIEFic3RyYWN0VmFsdWVJdGVyYXRvciQxe2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSx0aGlzW2tOdXRdPW51bGwsdGhpc1trRmFjdG9yeV09KCk9PmUudmFsdWVzKG4pLHRoaXMuZGIuZGVmZXIoKCk9PnRoaXNba1VuZGVmZXIkMV0oKSl9fTtmb3IoY29uc3QgdCBvZltEZWZlcnJlZEl0ZXJhdG9yJDEsRGVmZXJyZWRLZXlJdGVyYXRvciQxLERlZmVycmVkVmFsdWVJdGVyYXRvciQxXSl0LnByb3RvdHlwZVtrVW5kZWZlciQxXT1mdW5jdGlvbigpe3RoaXMuZGIuc3RhdHVzPT09Im9wZW4iJiYodGhpc1trTnV0XT10aGlzW2tGYWN0b3J5XSgpKX0sdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpc1trTnV0XSE9PW51bGw/dGhpc1trTnV0XS5uZXh0KGUpOnRoaXMuZGIuc3RhdHVzPT09Im9wZW5pbmciP3RoaXMuZGIuZGVmZXIoKCk9PnRoaXMuX25leHQoZSkpOnRoaXMubmV4dFRpY2soZSxuZXcgTW9kdWxlRXJyb3IkNSgiSXRlcmF0b3IgaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIG5leHQoKSBhZnRlciBjbG9zZSgpIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfTk9UX09QRU4ifSkpfSx0LnByb3RvdHlwZS5fbmV4dHY9ZnVuY3Rpb24oZSxuLG8pe3RoaXNba051dF0hPT1udWxsP3RoaXNba051dF0ubmV4dHYoZSxuLG8pOnRoaXMuZGIuc3RhdHVzPT09Im9wZW5pbmciP3RoaXMuZGIuZGVmZXIoKCk9PnRoaXMuX25leHR2KGUsbixvKSk6dGhpcy5uZXh0VGljayhvLG5ldyBNb2R1bGVFcnJvciQ1KCJJdGVyYXRvciBpcyBub3Qgb3BlbjogY2Fubm90IGNhbGwgbmV4dHYoKSBhZnRlciBjbG9zZSgpIix7Y29kZToiTEVWRUxfSVRFUkFUT1JfTk9UX09QRU4ifSkpfSx0LnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKGUsbil7dGhpc1trTnV0XSE9PW51bGw/dGhpc1trTnV0XS5hbGwobik6dGhpcy5kYi5zdGF0dXM9PT0ib3BlbmluZyI/dGhpcy5kYi5kZWZlcigoKT0+dGhpcy5fYWxsKGUsbikpOnRoaXMubmV4dFRpY2sobixuZXcgTW9kdWxlRXJyb3IkNSgiSXRlcmF0b3IgaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIGFsbCgpIGFmdGVyIGNsb3NlKCkiLHtjb2RlOiJMRVZFTF9JVEVSQVRPUl9OT1RfT1BFTiJ9KSl9LHQucHJvdG90eXBlLl9zZWVrPWZ1bmN0aW9uKGUsbil7dGhpc1trTnV0XSE9PW51bGw/dGhpc1trTnV0XS5fc2VlayhlLG4pOnRoaXMuZGIuc3RhdHVzPT09Im9wZW5pbmciJiZ0aGlzLmRiLmRlZmVyKCgpPT50aGlzLl9zZWVrKGUsbikpfSx0LnByb3RvdHlwZS5fY2xvc2U9ZnVuY3Rpb24oZSl7dGhpc1trTnV0XSE9PW51bGw/dGhpc1trTnV0XS5jbG9zZShlKTp0aGlzLmRiLnN0YXR1cz09PSJvcGVuaW5nIj90aGlzLmRiLmRlZmVyKCgpPT50aGlzLl9jbG9zZShlKSk6dGhpcy5uZXh0VGljayhlKX07ZGVmZXJyZWRJdGVyYXRvci5EZWZlcnJlZEl0ZXJhdG9yPURlZmVycmVkSXRlcmF0b3IkMTtkZWZlcnJlZEl0ZXJhdG9yLkRlZmVycmVkS2V5SXRlcmF0b3I9RGVmZXJyZWRLZXlJdGVyYXRvciQxO2RlZmVycmVkSXRlcmF0b3IuRGVmZXJyZWRWYWx1ZUl0ZXJhdG9yPURlZmVycmVkVmFsdWVJdGVyYXRvciQxO3ZhciBkZWZhdWx0Q2hhaW5lZEJhdGNoPXt9LGFic3RyYWN0Q2hhaW5lZEJhdGNoPXt9O2NvbnN0e2Zyb21DYWxsYmFjazpmcm9tQ2FsbGJhY2skMX09Y2F0ZXJpbmcsTW9kdWxlRXJyb3IkND1tb2R1bGVFcnJvcix7Z2V0Q2FsbGJhY2s6Z2V0Q2FsbGJhY2skMSxnZXRPcHRpb25zOmdldE9wdGlvbnMkMX09Y29tbW9uJDYsa1Byb21pc2UkMT1TeW1ib2woInByb21pc2UiKSxrU3RhdHVzJDE9U3ltYm9sKCJzdGF0dXMiKSxrT3BlcmF0aW9ucyQxPVN5bWJvbCgib3BlcmF0aW9ucyIpLGtGaW5pc2hDbG9zZT1TeW1ib2woImZpbmlzaENsb3NlIiksa0Nsb3NlQ2FsbGJhY2tzPVN5bWJvbCgiY2xvc2VDYWxsYmFja3MiKTtsZXQgQWJzdHJhY3RDaGFpbmVkQmF0Y2gkMT1jbGFzc3tjb25zdHJ1Y3RvcihlKXtpZih0eXBlb2YgZSE9Im9iamVjdCJ8fGU9PT1udWxsKXtjb25zdCBuPWU9PT1udWxsPyJudWxsIjp0eXBlb2YgZTt0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBhYnN0cmFjdC1sZXZlbCBkYXRhYmFzZSwgcmVjZWl2ZWQgJHtufWApfXRoaXNba09wZXJhdGlvbnMkMV09W10sdGhpc1trQ2xvc2VDYWxsYmFja3NdPVtdLHRoaXNba1N0YXR1cyQxXT0ib3BlbiIsdGhpc1trRmluaXNoQ2xvc2VdPXRoaXNba0ZpbmlzaENsb3NlXS5iaW5kKHRoaXMpLHRoaXMuZGI9ZSx0aGlzLmRiLmF0dGFjaFJlc291cmNlKHRoaXMpLHRoaXMubmV4dFRpY2s9ZS5uZXh0VGlja31nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXNba09wZXJhdGlvbnMkMV0ubGVuZ3RofXB1dChlLG4sbyl7aWYodGhpc1trU3RhdHVzJDFdIT09Im9wZW4iKXRocm93IG5ldyBNb2R1bGVFcnJvciQ0KCJCYXRjaCBpcyBub3Qgb3BlbjogY2Fubm90IGNhbGwgcHV0KCkgYWZ0ZXIgd3JpdGUoKSBvciBjbG9zZSgpIix7Y29kZToiTEVWRUxfQkFUQ0hfTk9UX09QRU4ifSk7Y29uc3QgZD10aGlzLmRiLl9jaGVja0tleShlKXx8dGhpcy5kYi5fY2hlY2tWYWx1ZShuKTtpZihkKXRocm93IGQ7Y29uc3QgaD1vJiZvLnN1YmxldmVsIT1udWxsP28uc3VibGV2ZWw6dGhpcy5kYixsPW8sdT1oLmtleUVuY29kaW5nKG8mJm8ua2V5RW5jb2RpbmcpLHA9aC52YWx1ZUVuY29kaW5nKG8mJm8udmFsdWVFbmNvZGluZyksZz11LmZvcm1hdDtvPXsuLi5vLGtleUVuY29kaW5nOmcsdmFsdWVFbmNvZGluZzpwLmZvcm1hdH0saCE9PXRoaXMuZGImJihvLnN1YmxldmVsPW51bGwpO2NvbnN0IHY9aC5wcmVmaXhLZXkodS5lbmNvZGUoZSksZyksYj1wLmVuY29kZShuKTtyZXR1cm4gdGhpcy5fcHV0KHYsYixvKSx0aGlzW2tPcGVyYXRpb25zJDFdLnB1c2goey4uLmwsdHlwZToicHV0IixrZXk6ZSx2YWx1ZTpufSksdGhpc31fcHV0KGUsbixvKXt9ZGVsKGUsbil7aWYodGhpc1trU3RhdHVzJDFdIT09Im9wZW4iKXRocm93IG5ldyBNb2R1bGVFcnJvciQ0KCJCYXRjaCBpcyBub3Qgb3BlbjogY2Fubm90IGNhbGwgZGVsKCkgYWZ0ZXIgd3JpdGUoKSBvciBjbG9zZSgpIix7Y29kZToiTEVWRUxfQkFUQ0hfTk9UX09QRU4ifSk7Y29uc3Qgbz10aGlzLmRiLl9jaGVja0tleShlKTtpZihvKXRocm93IG87Y29uc3QgZD1uJiZuLnN1YmxldmVsIT1udWxsP24uc3VibGV2ZWw6dGhpcy5kYixoPW4sbD1kLmtleUVuY29kaW5nKG4mJm4ua2V5RW5jb2RpbmcpLHU9bC5mb3JtYXQ7cmV0dXJuIG49ey4uLm4sa2V5RW5jb2Rpbmc6dX0sZCE9PXRoaXMuZGImJihuLnN1YmxldmVsPW51bGwpLHRoaXMuX2RlbChkLnByZWZpeEtleShsLmVuY29kZShlKSx1KSxuKSx0aGlzW2tPcGVyYXRpb25zJDFdLnB1c2goey4uLmgsdHlwZToiZGVsIixrZXk6ZX0pLHRoaXN9X2RlbChlLG4pe31jbGVhcigpe2lmKHRoaXNba1N0YXR1cyQxXSE9PSJvcGVuIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkNCgiQmF0Y2ggaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIGNsZWFyKCkgYWZ0ZXIgd3JpdGUoKSBvciBjbG9zZSgpIix7Y29kZToiTEVWRUxfQkFUQ0hfTk9UX09QRU4ifSk7cmV0dXJuIHRoaXMuX2NsZWFyKCksdGhpc1trT3BlcmF0aW9ucyQxXT1bXSx0aGlzfV9jbGVhcigpe313cml0ZShlLG4pe3JldHVybiBuPWdldENhbGxiYWNrJDEoZSxuKSxuPWZyb21DYWxsYmFjayQxKG4sa1Byb21pc2UkMSksZT1nZXRPcHRpb25zJDEoZSksdGhpc1trU3RhdHVzJDFdIT09Im9wZW4iP3RoaXMubmV4dFRpY2sobixuZXcgTW9kdWxlRXJyb3IkNCgiQmF0Y2ggaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIHdyaXRlKCkgYWZ0ZXIgd3JpdGUoKSBvciBjbG9zZSgpIix7Y29kZToiTEVWRUxfQkFUQ0hfTk9UX09QRU4ifSkpOnRoaXMubGVuZ3RoPT09MD90aGlzLmNsb3NlKG4pOih0aGlzW2tTdGF0dXMkMV09IndyaXRpbmciLHRoaXMuX3dyaXRlKGUsbz0+e3RoaXNba1N0YXR1cyQxXT0iY2xvc2luZyIsdGhpc1trQ2xvc2VDYWxsYmFja3NdLnB1c2goKCk9Pm4obykpLG98fHRoaXMuZGIuZW1pdCgiYmF0Y2giLHRoaXNba09wZXJhdGlvbnMkMV0pLHRoaXMuX2Nsb3NlKHRoaXNba0ZpbmlzaENsb3NlXSl9KSksbltrUHJvbWlzZSQxXX1fd3JpdGUoZSxuKXt9Y2xvc2UoZSl7cmV0dXJuIGU9ZnJvbUNhbGxiYWNrJDEoZSxrUHJvbWlzZSQxKSx0aGlzW2tTdGF0dXMkMV09PT0iY2xvc2luZyI/dGhpc1trQ2xvc2VDYWxsYmFja3NdLnB1c2goZSk6dGhpc1trU3RhdHVzJDFdPT09ImNsb3NlZCI/dGhpcy5uZXh0VGljayhlKToodGhpc1trQ2xvc2VDYWxsYmFja3NdLnB1c2goZSksdGhpc1trU3RhdHVzJDFdIT09IndyaXRpbmciJiYodGhpc1trU3RhdHVzJDFdPSJjbG9zaW5nIix0aGlzLl9jbG9zZSh0aGlzW2tGaW5pc2hDbG9zZV0pKSksZVtrUHJvbWlzZSQxXX1fY2xvc2UoZSl7dGhpcy5uZXh0VGljayhlKX1ba0ZpbmlzaENsb3NlXSgpe3RoaXNba1N0YXR1cyQxXT0iY2xvc2VkIix0aGlzLmRiLmRldGFjaFJlc291cmNlKHRoaXMpO2NvbnN0IGU9dGhpc1trQ2xvc2VDYWxsYmFja3NdO3RoaXNba0Nsb3NlQ2FsbGJhY2tzXT1bXTtmb3IoY29uc3QgbiBvZiBlKW4oKX19O2Fic3RyYWN0Q2hhaW5lZEJhdGNoLkFic3RyYWN0Q2hhaW5lZEJhdGNoPUFic3RyYWN0Q2hhaW5lZEJhdGNoJDE7Y29uc3R7QWJzdHJhY3RDaGFpbmVkQmF0Y2h9PWFic3RyYWN0Q2hhaW5lZEJhdGNoLE1vZHVsZUVycm9yJDM9bW9kdWxlRXJyb3Isa0VuY29kZWQ9U3ltYm9sKCJlbmNvZGVkIik7bGV0IERlZmF1bHRDaGFpbmVkQmF0Y2gkMT1jbGFzcyBleHRlbmRzIEFic3RyYWN0Q2hhaW5lZEJhdGNoe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXNba0VuY29kZWRdPVtdfV9wdXQoZSxuLG8pe3RoaXNba0VuY29kZWRdLnB1c2goey4uLm8sdHlwZToicHV0IixrZXk6ZSx2YWx1ZTpufSl9X2RlbChlLG4pe3RoaXNba0VuY29kZWRdLnB1c2goey4uLm4sdHlwZToiZGVsIixrZXk6ZX0pfV9jbGVhcigpe3RoaXNba0VuY29kZWRdPVtdfV93cml0ZShlLG4pe3RoaXMuZGIuc3RhdHVzPT09Im9wZW5pbmciP3RoaXMuZGIuZGVmZXIoKCk9PnRoaXMuX3dyaXRlKGUsbikpOnRoaXMuZGIuc3RhdHVzPT09Im9wZW4iP3RoaXNba0VuY29kZWRdLmxlbmd0aD09PTA/dGhpcy5uZXh0VGljayhuKTp0aGlzLmRiLl9iYXRjaCh0aGlzW2tFbmNvZGVkXSxlLG4pOnRoaXMubmV4dFRpY2sobixuZXcgTW9kdWxlRXJyb3IkMygiQmF0Y2ggaXMgbm90IG9wZW46IGNhbm5vdCBjYWxsIHdyaXRlKCkgYWZ0ZXIgd3JpdGUoKSBvciBjbG9zZSgpIix7Y29kZToiTEVWRUxfQkFUQ0hfTk9UX09QRU4ifSkpfX07ZGVmYXVsdENoYWluZWRCYXRjaC5EZWZhdWx0Q2hhaW5lZEJhdGNoPURlZmF1bHRDaGFpbmVkQmF0Y2gkMTtjb25zdCBNb2R1bGVFcnJvciQyPW1vZHVsZUVycm9yLGhhc093blByb3BlcnR5JDQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxyYW5nZU9wdGlvbnMkMj1uZXcgU2V0KFsibHQiLCJsdGUiLCJndCIsImd0ZSJdKTt2YXIgcmFuZ2VPcHRpb25zXzE9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXt9O2Zvcihjb25zdCBvIGluIHQpaWYoaGFzT3duUHJvcGVydHkkNC5jYWxsKHQsbykmJiEobz09PSJrZXlFbmNvZGluZyJ8fG89PT0idmFsdWVFbmNvZGluZyIpKXtpZihvPT09InN0YXJ0Inx8bz09PSJlbmQiKXRocm93IG5ldyBNb2R1bGVFcnJvciQyKGBUaGUgbGVnYWN5IHJhbmdlIG9wdGlvbiAnJHtvfScgaGFzIGJlZW4gcmVtb3ZlZGAse2NvZGU6IkxFVkVMX0xFR0FDWSJ9KTtpZihvPT09ImVuY29kaW5nIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkMigiVGhlIGxldmVsdXAtc3R5bGUgJ2VuY29kaW5nJyBhbGlhcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgJ3ZhbHVlRW5jb2RpbmcnIGluc3RlYWQiLHtjb2RlOiJMRVZFTF9MRUdBQ1kifSk7cmFuZ2VPcHRpb25zJDIuaGFzKG8pP25bb109ZS5lbmNvZGUodFtvXSk6bltvXT10W29dfXJldHVybiBuLnJldmVyc2U9ISFuLnJldmVyc2Usbi5saW1pdD1OdW1iZXIuaXNJbnRlZ2VyKG4ubGltaXQpJiZuLmxpbWl0Pj0wP24ubGltaXQ6LTEsbn07LyohIHF1ZXVlLW1pY3JvdGFzay4gTUlUIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL3ZhciBxdWV1ZU1pY3JvdGFza18xLGhhc1JlcXVpcmVkUXVldWVNaWNyb3Rhc2s7ZnVuY3Rpb24gcmVxdWlyZVF1ZXVlTWljcm90YXNrKCl7aWYoaGFzUmVxdWlyZWRRdWV1ZU1pY3JvdGFzaylyZXR1cm4gcXVldWVNaWNyb3Rhc2tfMTtoYXNSZXF1aXJlZFF1ZXVlTWljcm90YXNrPTE7bGV0IHQ7cmV0dXJuIHF1ZXVlTWljcm90YXNrXzE9dHlwZW9mIHF1ZXVlTWljcm90YXNrPT0iZnVuY3Rpb24iP3F1ZXVlTWljcm90YXNrLmJpbmQodHlwZW9mIHdpbmRvdzwidSI/d2luZG93OmNvbW1vbmpzR2xvYmFsKTplPT4odHx8KHQ9UHJvbWlzZS5yZXNvbHZlKCkpKS50aGVuKGUpLmNhdGNoKG49PnNldFRpbWVvdXQoKCk9Pnt0aHJvdyBufSwwKSkscXVldWVNaWNyb3Rhc2tfMX12YXIgbmV4dFRpY2tCcm93c2VyLGhhc1JlcXVpcmVkTmV4dFRpY2tCcm93c2VyO2Z1bmN0aW9uIHJlcXVpcmVOZXh0VGlja0Jyb3dzZXIoKXtpZihoYXNSZXF1aXJlZE5leHRUaWNrQnJvd3NlcilyZXR1cm4gbmV4dFRpY2tCcm93c2VyO2hhc1JlcXVpcmVkTmV4dFRpY2tCcm93c2VyPTE7Y29uc3QgdD1yZXF1aXJlUXVldWVNaWNyb3Rhc2soKTtyZXR1cm4gbmV4dFRpY2tCcm93c2VyPWZ1bmN0aW9uKGUsLi4ubil7bi5sZW5ndGg9PT0wP3QoZSk6dCgoKT0+ZSguLi5uKSl9LG5leHRUaWNrQnJvd3Nlcn12YXIgYnVmZmVyPXt9Oy8qIQogKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci4KICoKICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz4KICogQGxpY2Vuc2UgIE1JVAogKi92YXIgaGFzUmVxdWlyZWRCdWZmZXI7ZnVuY3Rpb24gcmVxdWlyZUJ1ZmZlcigpe3JldHVybiBoYXNSZXF1aXJlZEJ1ZmZlcnx8KGhhc1JlcXVpcmVkQnVmZmVyPTEsZnVuY3Rpb24odCl7Y29uc3QgZT1yZXF1aXJlQmFzZTY0SnMoKSxuPXJlcXVpcmVJZWVlNzU0KCksbz10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLmZvcj09ImZ1bmN0aW9uIj9TeW1ib2wuZm9yKCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpOm51bGw7dC5CdWZmZXI9dSx0LlNsb3dCdWZmZXI9TCx0LklOU1BFQ1RfTUFYX0JZVEVTPTUwO2NvbnN0IGQ9MjE0NzQ4MzY0Nzt0LmtNYXhMZW5ndGg9ZCx1LlRZUEVEX0FSUkFZX1NVUFBPUlQ9aCgpLCF1LlRZUEVEX0FSUkFZX1NVUFBPUlQmJnR5cGVvZiBjb25zb2xlPCJ1IiYmdHlwZW9mIGNvbnNvbGUuZXJyb3I9PSJmdW5jdGlvbiImJmNvbnNvbGUuZXJyb3IoIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LiIpO2Z1bmN0aW9uIGgoKXt0cnl7Y29uc3QgST1uZXcgVWludDhBcnJheSgxKSx3PXtmb286ZnVuY3Rpb24oKXtyZXR1cm4gNDJ9fTtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHcsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZihJLHcpLEkuZm9vKCk9PT00Mn1jYXRjaHtyZXR1cm4hMX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHUucHJvdG90eXBlLCJwYXJlbnQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe2lmKHUuaXNCdWZmZXIodGhpcykpcmV0dXJuIHRoaXMuYnVmZmVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LnByb3RvdHlwZSwib2Zmc2V0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtpZih1LmlzQnVmZmVyKHRoaXMpKXJldHVybiB0aGlzLmJ5dGVPZmZzZXR9fSk7ZnVuY3Rpb24gbChJKXtpZihJPmQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSAiJytJKyciIGlzIGludmFsaWQgZm9yIG9wdGlvbiAic2l6ZSInKTtjb25zdCB3PW5ldyBVaW50OEFycmF5KEkpO3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Yodyx1LnByb3RvdHlwZSksd31mdW5jdGlvbiB1KEksdyxFKXtpZih0eXBlb2YgST09Im51bWJlciIpe2lmKHR5cGVvZiB3PT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInN0cmluZyIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIHN0cmluZy4gUmVjZWl2ZWQgdHlwZSBudW1iZXInKTtyZXR1cm4gYihJKX1yZXR1cm4gcChJLHcsRSl9dS5wb29sU2l6ZT04MTkyO2Z1bmN0aW9uIHAoSSx3LEUpe2lmKHR5cGVvZiBJPT0ic3RyaW5nIilyZXR1cm4gXyhJLHcpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhJKSlyZXR1cm4gVChJKTtpZihJPT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIEkpO2lmKGRlKEksQXJyYXlCdWZmZXIpfHxJJiZkZShJLmJ1ZmZlcixBcnJheUJ1ZmZlcil8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSImJihkZShJLFNoYXJlZEFycmF5QnVmZmVyKXx8SSYmZGUoSS5idWZmZXIsU2hhcmVkQXJyYXlCdWZmZXIpKSlyZXR1cm4gUyhJLHcsRSk7aWYodHlwZW9mIEk9PSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAidmFsdWUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG9mIHR5cGUgbnVtYmVyLiBSZWNlaXZlZCB0eXBlIG51bWJlcicpO2NvbnN0IEQ9SS52YWx1ZU9mJiZJLnZhbHVlT2YoKTtpZihEIT1udWxsJiZEIT09SSlyZXR1cm4gdS5mcm9tKEQsdyxFKTtjb25zdCBWPU4oSSk7aWYoVilyZXR1cm4gVjtpZih0eXBlb2YgU3ltYm9sPCJ1IiYmU3ltYm9sLnRvUHJpbWl0aXZlIT1udWxsJiZ0eXBlb2YgSVtTeW1ib2wudG9QcmltaXRpdmVdPT0iZnVuY3Rpb24iKXJldHVybiB1LmZyb20oSVtTeW1ib2wudG9QcmltaXRpdmVdKCJzdHJpbmciKSx3LEUpO3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIEkpfXUuZnJvbT1mdW5jdGlvbihJLHcsRSl7cmV0dXJuIHAoSSx3LEUpfSxPYmplY3Quc2V0UHJvdG90eXBlT2YodS5wcm90b3R5cGUsVWludDhBcnJheS5wcm90b3R5cGUpLE9iamVjdC5zZXRQcm90b3R5cGVPZih1LFVpbnQ4QXJyYXkpO2Z1bmN0aW9uIGcoSSl7aWYodHlwZW9mIEkhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoJyJzaXplIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyJyk7aWYoSTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgIicrSSsnIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gInNpemUiJyl9ZnVuY3Rpb24gdihJLHcsRSl7cmV0dXJuIGcoSSksSTw9MD9sKEkpOnchPT12b2lkIDA/dHlwZW9mIEU9PSJzdHJpbmciP2woSSkuZmlsbCh3LEUpOmwoSSkuZmlsbCh3KTpsKEkpfXUuYWxsb2M9ZnVuY3Rpb24oSSx3LEUpe3JldHVybiB2KEksdyxFKX07ZnVuY3Rpb24gYihJKXtyZXR1cm4gZyhJKSxsKEk8MD8wOkIoSSl8MCl9dS5hbGxvY1Vuc2FmZT1mdW5jdGlvbihJKXtyZXR1cm4gYihJKX0sdS5hbGxvY1Vuc2FmZVNsb3c9ZnVuY3Rpb24oSSl7cmV0dXJuIGIoSSl9O2Z1bmN0aW9uIF8oSSx3KXtpZigodHlwZW9mIHchPSJzdHJpbmcifHx3PT09IiIpJiYodz0idXRmOCIpLCF1LmlzRW5jb2RpbmcodykpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIit3KTtjb25zdCBFPUMoSSx3KXwwO2xldCBEPWwoRSk7Y29uc3QgVj1ELndyaXRlKEksdyk7cmV0dXJuIFYhPT1FJiYoRD1ELnNsaWNlKDAsVikpLER9ZnVuY3Rpb24gTyhJKXtjb25zdCB3PUkubGVuZ3RoPDA/MDpCKEkubGVuZ3RoKXwwLEU9bCh3KTtmb3IobGV0IEQ9MDtEPHc7RCs9MSlFW0RdPUlbRF0mMjU1O3JldHVybiBFfWZ1bmN0aW9uIFQoSSl7aWYoZGUoSSxVaW50OEFycmF5KSl7Y29uc3Qgdz1uZXcgVWludDhBcnJheShJKTtyZXR1cm4gUyh3LmJ1ZmZlcix3LmJ5dGVPZmZzZXQsdy5ieXRlTGVuZ3RoKX1yZXR1cm4gTyhJKX1mdW5jdGlvbiBTKEksdyxFKXtpZih3PDB8fEkuYnl0ZUxlbmd0aDx3KXRocm93IG5ldyBSYW5nZUVycm9yKCcib2Zmc2V0IiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMnKTtpZihJLmJ5dGVMZW5ndGg8dysoRXx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJsZW5ndGgiIGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kcycpO2xldCBEO3JldHVybiB3PT09dm9pZCAwJiZFPT09dm9pZCAwP0Q9bmV3IFVpbnQ4QXJyYXkoSSk6RT09PXZvaWQgMD9EPW5ldyBVaW50OEFycmF5KEksdyk6RD1uZXcgVWludDhBcnJheShJLHcsRSksT2JqZWN0LnNldFByb3RvdHlwZU9mKEQsdS5wcm90b3R5cGUpLER9ZnVuY3Rpb24gTihJKXtpZih1LmlzQnVmZmVyKEkpKXtjb25zdCB3PUIoSS5sZW5ndGgpfDAsRT1sKHcpO3JldHVybiBFLmxlbmd0aD09PTB8fEkuY29weShFLDAsMCx3KSxFfWlmKEkubGVuZ3RoIT09dm9pZCAwKXJldHVybiB0eXBlb2YgSS5sZW5ndGghPSJudW1iZXIifHxwZShJLmxlbmd0aCk/bCgwKTpPKEkpO2lmKEkudHlwZT09PSJCdWZmZXIiJiZBcnJheS5pc0FycmF5KEkuZGF0YSkpcmV0dXJuIE8oSS5kYXRhKX1mdW5jdGlvbiBCKEkpe2lmKEk+PWQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiK2QudG9TdHJpbmcoMTYpKyIgYnl0ZXMiKTtyZXR1cm4gSXwwfWZ1bmN0aW9uIEwoSSl7cmV0dXJuK0khPUkmJihJPTApLHUuYWxsb2MoK0kpfXUuaXNCdWZmZXI9ZnVuY3Rpb24odyl7cmV0dXJuIHchPW51bGwmJncuX2lzQnVmZmVyPT09ITAmJnchPT11LnByb3RvdHlwZX0sdS5jb21wYXJlPWZ1bmN0aW9uKHcsRSl7aWYoZGUodyxVaW50OEFycmF5KSYmKHc9dS5mcm9tKHcsdy5vZmZzZXQsdy5ieXRlTGVuZ3RoKSksZGUoRSxVaW50OEFycmF5KSYmKEU9dS5mcm9tKEUsRS5vZmZzZXQsRS5ieXRlTGVuZ3RoKSksIXUuaXNCdWZmZXIodyl8fCF1LmlzQnVmZmVyKEUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSAiYnVmMSIsICJidWYyIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheScpO2lmKHc9PT1FKXJldHVybiAwO2xldCBEPXcubGVuZ3RoLFY9RS5sZW5ndGg7Zm9yKGxldCBaPTAsY2U9TWF0aC5taW4oRCxWKTtaPGNlOysrWilpZih3W1pdIT09RVtaXSl7RD13W1pdLFY9RVtaXTticmVha31yZXR1cm4gRDxWPy0xOlY8RD8xOjB9LHUuaXNFbmNvZGluZz1mdW5jdGlvbih3KXtzd2l0Y2goU3RyaW5nKHcpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sdS5jb25jYXQ9ZnVuY3Rpb24odyxFKXtpZighQXJyYXkuaXNBcnJheSh3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYody5sZW5ndGg9PT0wKXJldHVybiB1LmFsbG9jKDApO2xldCBEO2lmKEU9PT12b2lkIDApZm9yKEU9MCxEPTA7RDx3Lmxlbmd0aDsrK0QpRSs9d1tEXS5sZW5ndGg7Y29uc3QgVj11LmFsbG9jVW5zYWZlKEUpO2xldCBaPTA7Zm9yKEQ9MDtEPHcubGVuZ3RoOysrRCl7bGV0IGNlPXdbRF07aWYoZGUoY2UsVWludDhBcnJheSkpWitjZS5sZW5ndGg+Vi5sZW5ndGg/KHUuaXNCdWZmZXIoY2UpfHwoY2U9dS5mcm9tKGNlKSksY2UuY29weShWLFopKTpVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChWLGNlLFopO2Vsc2UgaWYodS5pc0J1ZmZlcihjZSkpY2UuY29weShWLFopO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcignImxpc3QiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpO1orPWNlLmxlbmd0aH1yZXR1cm4gVn07ZnVuY3Rpb24gQyhJLHcpe2lmKHUuaXNCdWZmZXIoSSkpcmV0dXJuIEkubGVuZ3RoO2lmKEFycmF5QnVmZmVyLmlzVmlldyhJKXx8ZGUoSSxBcnJheUJ1ZmZlcikpcmV0dXJuIEkuYnl0ZUxlbmd0aDtpZih0eXBlb2YgSSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlICJzdHJpbmciIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIEkpO2NvbnN0IEU9SS5sZW5ndGgsRD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXT09PSEwO2lmKCFEJiZFPT09MClyZXR1cm4gMDtsZXQgVj0hMTtmb3IoOzspc3dpdGNoKHcpe2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIEU7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gaWUoSSkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gRSoyO2Nhc2UiaGV4IjpyZXR1cm4gRT4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBuZShJKS5sZW5ndGg7ZGVmYXVsdDppZihWKXJldHVybiBEPy0xOmllKEkpLmxlbmd0aDt3PSgiIit3KS50b0xvd2VyQ2FzZSgpLFY9ITB9fXUuYnl0ZUxlbmd0aD1DO2Z1bmN0aW9uIGooSSx3LEUpe2xldCBEPSExO2lmKCh3PT09dm9pZCAwfHx3PDApJiYodz0wKSx3PnRoaXMubGVuZ3RofHwoKEU9PT12b2lkIDB8fEU+dGhpcy5sZW5ndGgpJiYoRT10aGlzLmxlbmd0aCksRTw9MCl8fChFPj4+PTAsdz4+Pj0wLEU8PXcpKXJldHVybiIiO2ZvcihJfHwoST0idXRmOCIpOzspc3dpdGNoKEkpe2Nhc2UiaGV4IjpyZXR1cm4gbWUodGhpcyx3LEUpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuICQodGhpcyx3LEUpO2Nhc2UiYXNjaWkiOnJldHVybiBlZSh0aGlzLHcsRSk7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gZ2UodGhpcyx3LEUpO2Nhc2UiYmFzZTY0IjpyZXR1cm4gTSh0aGlzLHcsRSk7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBmZSh0aGlzLHcsRSk7ZGVmYXVsdDppZihEKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrSSk7ST0oSSsiIikudG9Mb3dlckNhc2UoKSxEPSEwfX11LnByb3RvdHlwZS5faXNCdWZmZXI9ITA7ZnVuY3Rpb24gUChJLHcsRSl7Y29uc3QgRD1JW3ddO0lbd109SVtFXSxJW0VdPUR9dS5wcm90b3R5cGUuc3dhcDE2PWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtpZih3JTIhPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cyIpO2ZvcihsZXQgRT0wO0U8dztFKz0yKVAodGhpcyxFLEUrMSk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe2NvbnN0IHc9dGhpcy5sZW5ndGg7aWYodyU0IT09MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMiKTtmb3IobGV0IEU9MDtFPHc7RSs9NClQKHRoaXMsRSxFKzMpLFAodGhpcyxFKzEsRSsyKTtyZXR1cm4gdGhpc30sdS5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtpZih3JTghPT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cyIpO2ZvcihsZXQgRT0wO0U8dztFKz04KVAodGhpcyxFLEUrNyksUCh0aGlzLEUrMSxFKzYpLFAodGhpcyxFKzIsRSs1KSxQKHRoaXMsRSszLEUrNCk7cmV0dXJuIHRoaXN9LHUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7Y29uc3Qgdz10aGlzLmxlbmd0aDtyZXR1cm4gdz09PTA/IiI6YXJndW1lbnRzLmxlbmd0aD09PTA/JCh0aGlzLDAsdyk6ai5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHUucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nPXUucHJvdG90eXBlLnRvU3RyaW5nLHUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih3KXtpZighdS5pc0J1ZmZlcih3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7cmV0dXJuIHRoaXM9PT13PyEwOnUuY29tcGFyZSh0aGlzLHcpPT09MH0sdS5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe2xldCB3PSIiO2NvbnN0IEU9dC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdz10aGlzLnRvU3RyaW5nKCJoZXgiLDAsRSkucmVwbGFjZSgvKC57Mn0pL2csIiQxICIpLnRyaW0oKSx0aGlzLmxlbmd0aD5FJiYodys9IiAuLi4gIiksIjxCdWZmZXIgIit3KyI+In0sbyYmKHUucHJvdG90eXBlW29dPXUucHJvdG90eXBlLmluc3BlY3QpLHUucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odyxFLEQsVixaKXtpZihkZSh3LFVpbnQ4QXJyYXkpJiYodz11LmZyb20odyx3Lm9mZnNldCx3LmJ5dGVMZW5ndGgpKSwhdS5pc0J1ZmZlcih3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgInRhcmdldCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiB3KTtpZihFPT09dm9pZCAwJiYoRT0wKSxEPT09dm9pZCAwJiYoRD13P3cubGVuZ3RoOjApLFY9PT12b2lkIDAmJihWPTApLFo9PT12b2lkIDAmJihaPXRoaXMubGVuZ3RoKSxFPDB8fEQ+dy5sZW5ndGh8fFY8MHx8Wj50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYoVj49WiYmRT49RClyZXR1cm4gMDtpZihWPj1aKXJldHVybi0xO2lmKEU+PUQpcmV0dXJuIDE7aWYoRT4+Pj0wLEQ+Pj49MCxWPj4+PTAsWj4+Pj0wLHRoaXM9PT13KXJldHVybiAwO2xldCBjZT1aLVYsU2U9RC1FO2NvbnN0IGtlPU1hdGgubWluKGNlLFNlKSxCZT10aGlzLnNsaWNlKFYsWiksRGU9dy5zbGljZShFLEQpO2ZvcihsZXQgTGU9MDtMZTxrZTsrK0xlKWlmKEJlW0xlXSE9PURlW0xlXSl7Y2U9QmVbTGVdLFNlPURlW0xlXTticmVha31yZXR1cm4gY2U8U2U/LTE6U2U8Y2U/MTowfTtmdW5jdGlvbiBGKEksdyxFLEQsVil7aWYoSS5sZW5ndGg9PT0wKXJldHVybi0xO2lmKHR5cGVvZiBFPT0ic3RyaW5nIj8oRD1FLEU9MCk6RT4yMTQ3NDgzNjQ3P0U9MjE0NzQ4MzY0NzpFPC0yMTQ3NDgzNjQ4JiYoRT0tMjE0NzQ4MzY0OCksRT0rRSxwZShFKSYmKEU9Vj8wOkkubGVuZ3RoLTEpLEU8MCYmKEU9SS5sZW5ndGgrRSksRT49SS5sZW5ndGgpe2lmKFYpcmV0dXJuLTE7RT1JLmxlbmd0aC0xfWVsc2UgaWYoRTwwKWlmKFYpRT0wO2Vsc2UgcmV0dXJuLTE7aWYodHlwZW9mIHc9PSJzdHJpbmciJiYodz11LmZyb20odyxEKSksdS5pc0J1ZmZlcih3KSlyZXR1cm4gdy5sZW5ndGg9PT0wPy0xOmsoSSx3LEUsRCxWKTtpZih0eXBlb2Ygdz09Im51bWJlciIpcmV0dXJuIHc9dyYyNTUsdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y9PSJmdW5jdGlvbiI/Vj9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoSSx3LEUpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoSSx3LEUpOmsoSSxbd10sRSxELFYpO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIGsoSSx3LEUsRCxWKXtsZXQgWj0xLGNlPUkubGVuZ3RoLFNlPXcubGVuZ3RoO2lmKEQhPT12b2lkIDAmJihEPVN0cmluZyhEKS50b0xvd2VyQ2FzZSgpLEQ9PT0idWNzMiJ8fEQ9PT0idWNzLTIifHxEPT09InV0ZjE2bGUifHxEPT09InV0Zi0xNmxlIikpe2lmKEkubGVuZ3RoPDJ8fHcubGVuZ3RoPDIpcmV0dXJuLTE7Wj0yLGNlLz0yLFNlLz0yLEUvPTJ9ZnVuY3Rpb24ga2UoRGUsTGUpe3JldHVybiBaPT09MT9EZVtMZV06RGUucmVhZFVJbnQxNkJFKExlKlopfWxldCBCZTtpZihWKXtsZXQgRGU9LTE7Zm9yKEJlPUU7QmU8Y2U7QmUrKylpZihrZShJLEJlKT09PWtlKHcsRGU9PT0tMT8wOkJlLURlKSl7aWYoRGU9PT0tMSYmKERlPUJlKSxCZS1EZSsxPT09U2UpcmV0dXJuIERlKlp9ZWxzZSBEZSE9PS0xJiYoQmUtPUJlLURlKSxEZT0tMX1lbHNlIGZvcihFK1NlPmNlJiYoRT1jZS1TZSksQmU9RTtCZT49MDtCZS0tKXtsZXQgRGU9ITA7Zm9yKGxldCBMZT0wO0xlPFNlO0xlKyspaWYoa2UoSSxCZStMZSkhPT1rZSh3LExlKSl7RGU9ITE7YnJlYWt9aWYoRGUpcmV0dXJuIEJlfXJldHVybi0xfXUucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdGhpcy5pbmRleE9mKHcsRSxEKSE9PS0xfSx1LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gRih0aGlzLHcsRSxELCEwKX0sdS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odyxFLEQpe3JldHVybiBGKHRoaXMsdyxFLEQsITEpfTtmdW5jdGlvbiBKKEksdyxFLEQpe0U9TnVtYmVyKEUpfHwwO2NvbnN0IFY9SS5sZW5ndGgtRTtEPyhEPU51bWJlcihEKSxEPlYmJihEPVYpKTpEPVY7Y29uc3QgWj13Lmxlbmd0aDtEPlovMiYmKEQ9Wi8yKTtsZXQgY2U7Zm9yKGNlPTA7Y2U8RDsrK2NlKXtjb25zdCBTZT1wYXJzZUludCh3LnN1YnN0cihjZSoyLDIpLDE2KTtpZihwZShTZSkpcmV0dXJuIGNlO0lbRStjZV09U2V9cmV0dXJuIGNlfWZ1bmN0aW9uIGFlKEksdyxFLEQpe3JldHVybiB1ZShpZSh3LEkubGVuZ3RoLUUpLEksRSxEKX1mdW5jdGlvbiBYKEksdyxFLEQpe3JldHVybiB1ZShzZSh3KSxJLEUsRCl9ZnVuY3Rpb24gRyhJLHcsRSxEKXtyZXR1cm4gdWUobmUodyksSSxFLEQpfWZ1bmN0aW9uIHJlKEksdyxFLEQpe3JldHVybiB1ZShsZSh3LEkubGVuZ3RoLUUpLEksRSxEKX11LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih3LEUsRCxWKXtpZihFPT09dm9pZCAwKVY9InV0ZjgiLEQ9dGhpcy5sZW5ndGgsRT0wO2Vsc2UgaWYoRD09PXZvaWQgMCYmdHlwZW9mIEU9PSJzdHJpbmciKVY9RSxEPXRoaXMubGVuZ3RoLEU9MDtlbHNlIGlmKGlzRmluaXRlKEUpKUU9RT4+PjAsaXNGaW5pdGUoRCk/KEQ9RD4+PjAsVj09PXZvaWQgMCYmKFY9InV0ZjgiKSk6KFY9RCxEPXZvaWQgMCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkJ1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIik7Y29uc3QgWj10aGlzLmxlbmd0aC1FO2lmKChEPT09dm9pZCAwfHxEPlopJiYoRD1aKSx3Lmxlbmd0aD4wJiYoRDwwfHxFPDApfHxFPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcyIpO1Z8fChWPSJ1dGY4Iik7bGV0IGNlPSExO2Zvcig7Oylzd2l0Y2goVil7Y2FzZSJoZXgiOnJldHVybiBKKHRoaXMsdyxFLEQpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIGFlKHRoaXMsdyxFLEQpO2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIFgodGhpcyx3LEUsRCk7Y2FzZSJiYXNlNjQiOnJldHVybiBHKHRoaXMsdyxFLEQpO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gcmUodGhpcyx3LEUsRCk7ZGVmYXVsdDppZihjZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK1YpO1Y9KCIiK1YpLnRvTG93ZXJDYXNlKCksY2U9ITB9fSx1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O2Z1bmN0aW9uIE0oSSx3LEUpe3JldHVybiB3PT09MCYmRT09PUkubGVuZ3RoP2UuZnJvbUJ5dGVBcnJheShJKTplLmZyb21CeXRlQXJyYXkoSS5zbGljZSh3LEUpKX1mdW5jdGlvbiAkKEksdyxFKXtFPU1hdGgubWluKEkubGVuZ3RoLEUpO2NvbnN0IEQ9W107bGV0IFY9dztmb3IoO1Y8RTspe2NvbnN0IFo9SVtWXTtsZXQgY2U9bnVsbCxTZT1aPjIzOT80Olo+MjIzPzM6Wj4xOTE/MjoxO2lmKFYrU2U8PUUpe2xldCBrZSxCZSxEZSxMZTtzd2l0Y2goU2Upe2Nhc2UgMTpaPDEyOCYmKGNlPVopO2JyZWFrO2Nhc2UgMjprZT1JW1YrMV0sKGtlJjE5Mik9PT0xMjgmJihMZT0oWiYzMSk8PDZ8a2UmNjMsTGU+MTI3JiYoY2U9TGUpKTticmVhaztjYXNlIDM6a2U9SVtWKzFdLEJlPUlbVisyXSwoa2UmMTkyKT09PTEyOCYmKEJlJjE5Mik9PT0xMjgmJihMZT0oWiYxNSk8PDEyfChrZSY2Myk8PDZ8QmUmNjMsTGU+MjA0NyYmKExlPDU1Mjk2fHxMZT41NzM0MykmJihjZT1MZSkpO2JyZWFrO2Nhc2UgNDprZT1JW1YrMV0sQmU9SVtWKzJdLERlPUlbViszXSwoa2UmMTkyKT09PTEyOCYmKEJlJjE5Mik9PT0xMjgmJihEZSYxOTIpPT09MTI4JiYoTGU9KFomMTUpPDwxOHwoa2UmNjMpPDwxMnwoQmUmNjMpPDw2fERlJjYzLExlPjY1NTM1JiZMZTwxMTE0MTEyJiYoY2U9TGUpKX19Y2U9PT1udWxsPyhjZT02NTUzMyxTZT0xKTpjZT42NTUzNSYmKGNlLT02NTUzNixELnB1c2goY2U+Pj4xMCYxMDIzfDU1Mjk2KSxjZT01NjMyMHxjZSYxMDIzKSxELnB1c2goY2UpLFYrPVNlfXJldHVybiBIKEQpfWNvbnN0IFU9NDA5NjtmdW5jdGlvbiBIKEkpe2NvbnN0IHc9SS5sZW5ndGg7aWYodzw9VSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsSSk7bGV0IEU9IiIsRD0wO2Zvcig7RDx3OylFKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxJLnNsaWNlKEQsRCs9VSkpO3JldHVybiBFfWZ1bmN0aW9uIGVlKEksdyxFKXtsZXQgRD0iIjtFPU1hdGgubWluKEkubGVuZ3RoLEUpO2ZvcihsZXQgVj13O1Y8RTsrK1YpRCs9U3RyaW5nLmZyb21DaGFyQ29kZShJW1ZdJjEyNyk7cmV0dXJuIER9ZnVuY3Rpb24gZ2UoSSx3LEUpe2xldCBEPSIiO0U9TWF0aC5taW4oSS5sZW5ndGgsRSk7Zm9yKGxldCBWPXc7VjxFOysrVilEKz1TdHJpbmcuZnJvbUNoYXJDb2RlKElbVl0pO3JldHVybiBEfWZ1bmN0aW9uIG1lKEksdyxFKXtjb25zdCBEPUkubGVuZ3RoOyghd3x8dzwwKSYmKHc9MCksKCFFfHxFPDB8fEU+RCkmJihFPUQpO2xldCBWPSIiO2ZvcihsZXQgWj13O1o8RTsrK1opVis9YmVbSVtaXV07cmV0dXJuIFZ9ZnVuY3Rpb24gZmUoSSx3LEUpe2NvbnN0IEQ9SS5zbGljZSh3LEUpO2xldCBWPSIiO2ZvcihsZXQgWj0wO1o8RC5sZW5ndGgtMTtaKz0yKVYrPVN0cmluZy5mcm9tQ2hhckNvZGUoRFtaXStEW1orMV0qMjU2KTtyZXR1cm4gVn11LnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih3LEUpe2NvbnN0IEQ9dGhpcy5sZW5ndGg7dz1+fncsRT1FPT09dm9pZCAwP0Q6fn5FLHc8MD8odys9RCx3PDAmJih3PTApKTp3PkQmJih3PUQpLEU8MD8oRSs9RCxFPDAmJihFPTApKTpFPkQmJihFPUQpLEU8dyYmKEU9dyk7Y29uc3QgVj10aGlzLnN1YmFycmF5KHcsRSk7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihWLHUucHJvdG90eXBlKSxWfTtmdW5jdGlvbiBoZShJLHcsRSl7aWYoSSUxIT09MHx8STwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJvZmZzZXQgaXMgbm90IHVpbnQiKTtpZihJK3c+RSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCIpfXUucHJvdG90eXBlLnJlYWRVaW50TEU9dS5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9dGhpc1t3XSxaPTEsY2U9MDtmb3IoOysrY2U8RSYmKFoqPTI1Nik7KVYrPXRoaXNbdytjZV0qWjtyZXR1cm4gVn0sdS5wcm90b3R5cGUucmVhZFVpbnRCRT11LnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKHcsRSxEKXt3PXc+Pj4wLEU9RT4+PjAsRHx8aGUodyxFLHRoaXMubGVuZ3RoKTtsZXQgVj10aGlzW3crLS1FXSxaPTE7Zm9yKDtFPjAmJihaKj0yNTYpOylWKz10aGlzW3crLS1FXSpaO3JldHVybiBWfSx1LnByb3RvdHlwZS5yZWFkVWludDg9dS5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywxLHRoaXMubGVuZ3RoKSx0aGlzW3ddfSx1LnByb3RvdHlwZS5yZWFkVWludDE2TEU9dS5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywyLHRoaXMubGVuZ3RoKSx0aGlzW3ddfHRoaXNbdysxXTw8OH0sdS5wcm90b3R5cGUucmVhZFVpbnQxNkJFPXUucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCksdGhpc1t3XTw8OHx0aGlzW3crMV19LHUucHJvdG90eXBlLnJlYWRVaW50MzJMRT11LnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLCh0aGlzW3ddfHRoaXNbdysxXTw8OHx0aGlzW3crMl08PDE2KSt0aGlzW3crM10qMTY3NzcyMTZ9LHUucHJvdG90eXBlLnJlYWRVaW50MzJCRT11LnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLHRoaXNbd10qMTY3NzcyMTYrKHRoaXNbdysxXTw8MTZ8dGhpc1t3KzJdPDw4fHRoaXNbdyszXSl9LHUucHJvdG90eXBlLnJlYWRCaWdVSW50NjRMRT13ZShmdW5jdGlvbih3KXt3PXc+Pj4wLHEodywib2Zmc2V0Iik7Y29uc3QgRT10aGlzW3ddLEQ9dGhpc1t3KzddOyhFPT09dm9pZCAwfHxEPT09dm9pZCAwKSYmb2Uodyx0aGlzLmxlbmd0aC04KTtjb25zdCBWPUUrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKioyNCxaPXRoaXNbKyt3XSt0aGlzWysrd10qMioqOCt0aGlzWysrd10qMioqMTYrRCoyKioyNDtyZXR1cm4gQmlnSW50KFYpKyhCaWdJbnQoWik8PEJpZ0ludCgzMikpfSksdS5wcm90b3R5cGUucmVhZEJpZ1VJbnQ2NEJFPXdlKGZ1bmN0aW9uKHcpe3c9dz4+PjAscSh3LCJvZmZzZXQiKTtjb25zdCBFPXRoaXNbd10sRD10aGlzW3crN107KEU9PT12b2lkIDB8fEQ9PT12b2lkIDApJiZvZSh3LHRoaXMubGVuZ3RoLTgpO2NvbnN0IFY9RSoyKioyNCt0aGlzWysrd10qMioqMTYrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddLFo9dGhpc1srK3ddKjIqKjI0K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqOCtEO3JldHVybihCaWdJbnQoVik8PEJpZ0ludCgzMikpK0JpZ0ludChaKX0pLHUucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9dGhpc1t3XSxaPTEsY2U9MDtmb3IoOysrY2U8RSYmKFoqPTI1Nik7KVYrPXRoaXNbdytjZV0qWjtyZXR1cm4gWio9MTI4LFY+PVomJihWLT1NYXRoLnBvdygyLDgqRSkpLFZ9LHUucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbih3LEUsRCl7dz13Pj4+MCxFPUU+Pj4wLER8fGhlKHcsRSx0aGlzLmxlbmd0aCk7bGV0IFY9RSxaPTEsY2U9dGhpc1t3Ky0tVl07Zm9yKDtWPjAmJihaKj0yNTYpOyljZSs9dGhpc1t3Ky0tVl0qWjtyZXR1cm4gWio9MTI4LGNlPj1aJiYoY2UtPU1hdGgucG93KDIsOCpFKSksY2V9LHUucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodywxLHRoaXMubGVuZ3RoKSx0aGlzW3ddJjEyOD8oMjU1LXRoaXNbd10rMSkqLTE6dGhpc1t3XX0sdS5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24odyxFKXt3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCk7Y29uc3QgRD10aGlzW3ddfHRoaXNbdysxXTw8ODtyZXR1cm4gRCYzMjc2OD9EfDQyOTQ5MDE3NjA6RH0sdS5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24odyxFKXt3PXc+Pj4wLEV8fGhlKHcsMix0aGlzLmxlbmd0aCk7Y29uc3QgRD10aGlzW3crMV18dGhpc1t3XTw8ODtyZXR1cm4gRCYzMjc2OD9EfDQyOTQ5MDE3NjA6RH0sdS5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLHRoaXNbd118dGhpc1t3KzFdPDw4fHRoaXNbdysyXTw8MTZ8dGhpc1t3KzNdPDwyNH0sdS5wcm90b3R5cGUucmVhZEludDMyQkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDQsdGhpcy5sZW5ndGgpLHRoaXNbd108PDI0fHRoaXNbdysxXTw8MTZ8dGhpc1t3KzJdPDw4fHRoaXNbdyszXX0sdS5wcm90b3R5cGUucmVhZEJpZ0ludDY0TEU9d2UoZnVuY3Rpb24odyl7dz13Pj4+MCxxKHcsIm9mZnNldCIpO2NvbnN0IEU9dGhpc1t3XSxEPXRoaXNbdys3XTsoRT09PXZvaWQgMHx8RD09PXZvaWQgMCkmJm9lKHcsdGhpcy5sZW5ndGgtOCk7Y29uc3QgVj10aGlzW3crNF0rdGhpc1t3KzVdKjIqKjgrdGhpc1t3KzZdKjIqKjE2KyhEPDwyNCk7cmV0dXJuKEJpZ0ludChWKTw8QmlnSW50KDMyKSkrQmlnSW50KEUrdGhpc1srK3ddKjIqKjgrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKioyNCl9KSx1LnByb3RvdHlwZS5yZWFkQmlnSW50NjRCRT13ZShmdW5jdGlvbih3KXt3PXc+Pj4wLHEodywib2Zmc2V0Iik7Y29uc3QgRT10aGlzW3ddLEQ9dGhpc1t3KzddOyhFPT09dm9pZCAwfHxEPT09dm9pZCAwKSYmb2Uodyx0aGlzLmxlbmd0aC04KTtjb25zdCBWPShFPDwyNCkrdGhpc1srK3ddKjIqKjE2K3RoaXNbKyt3XSoyKio4K3RoaXNbKyt3XTtyZXR1cm4oQmlnSW50KFYpPDxCaWdJbnQoMzIpKStCaWdJbnQodGhpc1srK3ddKjIqKjI0K3RoaXNbKyt3XSoyKioxNit0aGlzWysrd10qMioqOCtEKX0pLHUucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw0LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx3LCEwLDIzLDQpfSx1LnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbih3LEUpe3JldHVybiB3PXc+Pj4wLEV8fGhlKHcsNCx0aGlzLmxlbmd0aCksbi5yZWFkKHRoaXMsdywhMSwyMyw0KX0sdS5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKHcsRSl7cmV0dXJuIHc9dz4+PjAsRXx8aGUodyw4LHRoaXMubGVuZ3RoKSxuLnJlYWQodGhpcyx3LCEwLDUyLDgpfSx1LnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24odyxFKXtyZXR1cm4gdz13Pj4+MCxFfHxoZSh3LDgsdGhpcy5sZW5ndGgpLG4ucmVhZCh0aGlzLHcsITEsNTIsOCl9O2Z1bmN0aW9uIF9lKEksdyxFLEQsVixaKXtpZighdS5pc0J1ZmZlcihJKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodz5WfHx3PFopdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKEUrRD5JLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9dS5wcm90b3R5cGUud3JpdGVVaW50TEU9dS5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odyxFLEQsVil7aWYodz0rdyxFPUU+Pj4wLEQ9RD4+PjAsIVYpe2NvbnN0IFNlPU1hdGgucG93KDIsOCpEKS0xO19lKHRoaXMsdyxFLEQsU2UsMCl9bGV0IFo9MSxjZT0wO2Zvcih0aGlzW0VdPXcmMjU1OysrY2U8RCYmKFoqPTI1Nik7KXRoaXNbRStjZV09dy9aJjI1NTtyZXR1cm4gRStEfSx1LnByb3RvdHlwZS53cml0ZVVpbnRCRT11LnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbih3LEUsRCxWKXtpZih3PSt3LEU9RT4+PjAsRD1EPj4+MCwhVil7Y29uc3QgU2U9TWF0aC5wb3coMiw4KkQpLTE7X2UodGhpcyx3LEUsRCxTZSwwKX1sZXQgWj1ELTEsY2U9MTtmb3IodGhpc1tFK1pdPXcmMjU1Oy0tWj49MCYmKGNlKj0yNTYpOyl0aGlzW0UrWl09dy9jZSYyNTU7cmV0dXJuIEUrRH0sdS5wcm90b3R5cGUud3JpdGVVaW50OD11LnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDEsMjU1LDApLHRoaXNbRV09dyYyNTUsRSsxfSx1LnByb3RvdHlwZS53cml0ZVVpbnQxNkxFPXUucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMiw2NTUzNSwwKSx0aGlzW0VdPXcmMjU1LHRoaXNbRSsxXT13Pj4+OCxFKzJ9LHUucHJvdG90eXBlLndyaXRlVWludDE2QkU9dS5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwyLDY1NTM1LDApLHRoaXNbRV09dz4+PjgsdGhpc1tFKzFdPXcmMjU1LEUrMn0sdS5wcm90b3R5cGUud3JpdGVVaW50MzJMRT11LnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsNDI5NDk2NzI5NSwwKSx0aGlzW0UrM109dz4+PjI0LHRoaXNbRSsyXT13Pj4+MTYsdGhpc1tFKzFdPXc+Pj44LHRoaXNbRV09dyYyNTUsRSs0fSx1LnByb3RvdHlwZS53cml0ZVVpbnQzMkJFPXUucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbRV09dz4+PjI0LHRoaXNbRSsxXT13Pj4+MTYsdGhpc1tFKzJdPXc+Pj44LHRoaXNbRSszXT13JjI1NSxFKzR9O2Z1bmN0aW9uIHhlKEksdyxFLEQsVil7JGUodyxELFYsSSxFLDcpO2xldCBaPU51bWJlcih3JkJpZ0ludCg0Mjk0OTY3Mjk1KSk7SVtFKytdPVosWj1aPj44LElbRSsrXT1aLFo9Wj4+OCxJW0UrK109WixaPVo+PjgsSVtFKytdPVo7bGV0IGNlPU51bWJlcih3Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIElbRSsrXT1jZSxjZT1jZT4+OCxJW0UrK109Y2UsY2U9Y2U+PjgsSVtFKytdPWNlLGNlPWNlPj44LElbRSsrXT1jZSxFfWZ1bmN0aW9uIFJlKEksdyxFLEQsVil7JGUodyxELFYsSSxFLDcpO2xldCBaPU51bWJlcih3JkJpZ0ludCg0Mjk0OTY3Mjk1KSk7SVtFKzddPVosWj1aPj44LElbRSs2XT1aLFo9Wj4+OCxJW0UrNV09WixaPVo+PjgsSVtFKzRdPVo7bGV0IGNlPU51bWJlcih3Pj5CaWdJbnQoMzIpJkJpZ0ludCg0Mjk0OTY3Mjk1KSk7cmV0dXJuIElbRSszXT1jZSxjZT1jZT4+OCxJW0UrMl09Y2UsY2U9Y2U+PjgsSVtFKzFdPWNlLGNlPWNlPj44LElbRV09Y2UsRSs4fXUucHJvdG90eXBlLndyaXRlQmlnVUludDY0TEU9d2UoZnVuY3Rpb24odyxFPTApe3JldHVybiB4ZSh0aGlzLHcsRSxCaWdJbnQoMCksQmlnSW50KCIweGZmZmZmZmZmZmZmZmZmZmYiKSl9KSx1LnByb3RvdHlwZS53cml0ZUJpZ1VJbnQ2NEJFPXdlKGZ1bmN0aW9uKHcsRT0wKXtyZXR1cm4gUmUodGhpcyx3LEUsQmlnSW50KDApLEJpZ0ludCgiMHhmZmZmZmZmZmZmZmZmZmZmIikpfSksdS5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih3LEUsRCxWKXtpZih3PSt3LEU9RT4+PjAsIVYpe2NvbnN0IGtlPU1hdGgucG93KDIsOCpELTEpO19lKHRoaXMsdyxFLEQsa2UtMSwta2UpfWxldCBaPTAsY2U9MSxTZT0wO2Zvcih0aGlzW0VdPXcmMjU1OysrWjxEJiYoY2UqPTI1Nik7KXc8MCYmU2U9PT0wJiZ0aGlzW0UrWi0xXSE9PTAmJihTZT0xKSx0aGlzW0UrWl09KHcvY2U+PjApLVNlJjI1NTtyZXR1cm4gRStEfSx1LnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHcsRSxELFYpe2lmKHc9K3csRT1FPj4+MCwhVil7Y29uc3Qga2U9TWF0aC5wb3coMiw4KkQtMSk7X2UodGhpcyx3LEUsRCxrZS0xLC1rZSl9bGV0IFo9RC0xLGNlPTEsU2U9MDtmb3IodGhpc1tFK1pdPXcmMjU1Oy0tWj49MCYmKGNlKj0yNTYpOyl3PDAmJlNlPT09MCYmdGhpc1tFK1orMV0hPT0wJiYoU2U9MSksdGhpc1tFK1pdPSh3L2NlPj4wKS1TZSYyNTU7cmV0dXJuIEUrRH0sdS5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDEsMTI3LC0xMjgpLHc8MCYmKHc9MjU1K3crMSksdGhpc1tFXT13JjI1NSxFKzF9LHUucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIHc9K3csRT1FPj4+MCxEfHxfZSh0aGlzLHcsRSwyLDMyNzY3LC0zMjc2OCksdGhpc1tFXT13JjI1NSx0aGlzW0UrMV09dz4+PjgsRSsyfSx1LnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB3PSt3LEU9RT4+PjAsRHx8X2UodGhpcyx3LEUsMiwzMjc2NywtMzI3NjgpLHRoaXNbRV09dz4+PjgsdGhpc1tFKzFdPXcmMjU1LEUrMn0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdGhpc1tFXT13JjI1NSx0aGlzW0UrMV09dz4+PjgsdGhpc1tFKzJdPXc+Pj4xNix0aGlzW0UrM109dz4+PjI0LEUrNH0sdS5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLER8fF9lKHRoaXMsdyxFLDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdzwwJiYodz00Mjk0OTY3Mjk1K3crMSksdGhpc1tFXT13Pj4+MjQsdGhpc1tFKzFdPXc+Pj4xNix0aGlzW0UrMl09dz4+PjgsdGhpc1tFKzNdPXcmMjU1LEUrNH0sdS5wcm90b3R5cGUud3JpdGVCaWdJbnQ2NExFPXdlKGZ1bmN0aW9uKHcsRT0wKXtyZXR1cm4geGUodGhpcyx3LEUsLUJpZ0ludCgiMHg4MDAwMDAwMDAwMDAwMDAwIiksQmlnSW50KCIweDdmZmZmZmZmZmZmZmZmZmYiKSl9KSx1LnByb3RvdHlwZS53cml0ZUJpZ0ludDY0QkU9d2UoZnVuY3Rpb24odyxFPTApe3JldHVybiBSZSh0aGlzLHcsRSwtQmlnSW50KCIweDgwMDAwMDAwMDAwMDAwMDAiKSxCaWdJbnQoIjB4N2ZmZmZmZmZmZmZmZmZmZiIpKX0pO2Z1bmN0aW9uIEllKEksdyxFLEQsVixaKXtpZihFK0Q+SS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKEU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gTmUoSSx3LEUsRCxWKXtyZXR1cm4gdz0rdyxFPUU+Pj4wLFZ8fEllKEksdyxFLDQpLG4ud3JpdGUoSSx3LEUsRCwyMyw0KSxFKzR9dS5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gTmUodGhpcyx3LEUsITAsRCl9LHUucHJvdG90eXBlLndyaXRlRmxvYXRCRT1mdW5jdGlvbih3LEUsRCl7cmV0dXJuIE5lKHRoaXMsdyxFLCExLEQpfTtmdW5jdGlvbiB2ZShJLHcsRSxELFYpe3JldHVybiB3PSt3LEU9RT4+PjAsVnx8SWUoSSx3LEUsOCksbi53cml0ZShJLHcsRSxELDUyLDgpLEUrOH11LnByb3RvdHlwZS53cml0ZURvdWJsZUxFPWZ1bmN0aW9uKHcsRSxEKXtyZXR1cm4gdmUodGhpcyx3LEUsITAsRCl9LHUucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odyxFLEQpe3JldHVybiB2ZSh0aGlzLHcsRSwhMSxEKX0sdS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih3LEUsRCxWKXtpZighdS5pc0J1ZmZlcih3KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJhcmd1bWVudCBzaG91bGQgYmUgYSBCdWZmZXIiKTtpZihEfHwoRD0wKSwhViYmViE9PTAmJihWPXRoaXMubGVuZ3RoKSxFPj13Lmxlbmd0aCYmKEU9dy5sZW5ndGgpLEV8fChFPTApLFY+MCYmVjxEJiYoVj1EKSxWPT09RHx8dy5sZW5ndGg9PT0wfHx0aGlzLmxlbmd0aD09PTApcmV0dXJuIDA7aWYoRTwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYoRDwwfHxEPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYoVjwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO1Y+dGhpcy5sZW5ndGgmJihWPXRoaXMubGVuZ3RoKSx3Lmxlbmd0aC1FPFYtRCYmKFY9dy5sZW5ndGgtRStEKTtjb25zdCBaPVYtRDtyZXR1cm4gdGhpcz09PXcmJnR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluPT0iZnVuY3Rpb24iP3RoaXMuY29weVdpdGhpbihFLEQsVik6VWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodyx0aGlzLnN1YmFycmF5KEQsViksRSksWn0sdS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih3LEUsRCxWKXtpZih0eXBlb2Ygdz09InN0cmluZyIpe2lmKHR5cGVvZiBFPT0ic3RyaW5nIj8oVj1FLEU9MCxEPXRoaXMubGVuZ3RoKTp0eXBlb2YgRD09InN0cmluZyImJihWPUQsRD10aGlzLmxlbmd0aCksViE9PXZvaWQgMCYmdHlwZW9mIFYhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZih0eXBlb2YgVj09InN0cmluZyImJiF1LmlzRW5jb2RpbmcoVikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitWKTtpZih3Lmxlbmd0aD09PTEpe2NvbnN0IGNlPXcuY2hhckNvZGVBdCgwKTsoVj09PSJ1dGY4IiYmY2U8MTI4fHxWPT09ImxhdGluMSIpJiYodz1jZSl9fWVsc2UgdHlwZW9mIHc9PSJudW1iZXIiP3c9dyYyNTU6dHlwZW9mIHc9PSJib29sZWFuIiYmKHc9TnVtYmVyKHcpKTtpZihFPDB8fHRoaXMubGVuZ3RoPEV8fHRoaXMubGVuZ3RoPEQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKEQ8PUUpcmV0dXJuIHRoaXM7RT1FPj4+MCxEPUQ9PT12b2lkIDA/dGhpcy5sZW5ndGg6RD4+PjAsd3x8KHc9MCk7bGV0IFo7aWYodHlwZW9mIHc9PSJudW1iZXIiKWZvcihaPUU7WjxEOysrWil0aGlzW1pdPXc7ZWxzZXtjb25zdCBjZT11LmlzQnVmZmVyKHcpP3c6dS5mcm9tKHcsViksU2U9Y2UubGVuZ3RoO2lmKFNlPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmFsdWUgIicrdysnIiBpcyBpbnZhbGlkIGZvciBhcmd1bWVudCAidmFsdWUiJyk7Zm9yKFo9MDtaPEQtRTsrK1opdGhpc1taK0VdPWNlW1olU2VdfXJldHVybiB0aGlzfTtjb25zdCBDZT17fTtmdW5jdGlvbiBNZShJLHcsRSl7Q2VbSV09Y2xhc3MgZXh0ZW5kcyBFe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywibWVzc2FnZSIse3ZhbHVlOncuYXBwbHkodGhpcyxhcmd1bWVudHMpLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHRoaXMubmFtZT1gJHt0aGlzLm5hbWV9IFske0l9XWAsdGhpcy5zdGFjayxkZWxldGUgdGhpcy5uYW1lfWdldCBjb2RlKCl7cmV0dXJuIEl9c2V0IGNvZGUoVil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImNvZGUiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpWLHdyaXRhYmxlOiEwfSl9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLm5hbWV9IFske0l9XTogJHt0aGlzLm1lc3NhZ2V9YH19fU1lKCJFUlJfQlVGRkVSX09VVF9PRl9CT1VORFMiLGZ1bmN0aW9uKEkpe3JldHVybiBJP2Ake0l9IGlzIG91dHNpZGUgb2YgYnVmZmVyIGJvdW5kc2A6IkF0dGVtcHQgdG8gYWNjZXNzIG1lbW9yeSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMifSxSYW5nZUVycm9yKSxNZSgiRVJSX0lOVkFMSURfQVJHX1RZUEUiLGZ1bmN0aW9uKEksdyl7cmV0dXJuYFRoZSAiJHtJfSIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB3fWB9LFR5cGVFcnJvciksTWUoIkVSUl9PVVRfT0ZfUkFOR0UiLGZ1bmN0aW9uKEksdyxFKXtsZXQgRD1gVGhlIHZhbHVlIG9mICIke0l9IiBpcyBvdXQgb2YgcmFuZ2UuYCxWPUU7cmV0dXJuIE51bWJlci5pc0ludGVnZXIoRSkmJk1hdGguYWJzKEUpPjIqKjMyP1Y9VWUoU3RyaW5nKEUpKTp0eXBlb2YgRT09ImJpZ2ludCImJihWPVN0cmluZyhFKSwoRT5CaWdJbnQoMikqKkJpZ0ludCgzMil8fEU8LShCaWdJbnQoMikqKkJpZ0ludCgzMikpKSYmKFY9VWUoVikpLFYrPSJuIiksRCs9YCBJdCBtdXN0IGJlICR7d30uIFJlY2VpdmVkICR7Vn1gLER9LFJhbmdlRXJyb3IpO2Z1bmN0aW9uIFVlKEkpe2xldCB3PSIiLEU9SS5sZW5ndGg7Y29uc3QgRD1JWzBdPT09Ii0iPzE6MDtmb3IoO0U+PUQrNDtFLT0zKXc9YF8ke0kuc2xpY2UoRS0zLEUpfSR7d31gO3JldHVybmAke0kuc2xpY2UoMCxFKX0ke3d9YH1mdW5jdGlvbiBGZShJLHcsRSl7cSh3LCJvZmZzZXQiKSwoSVt3XT09PXZvaWQgMHx8SVt3K0VdPT09dm9pZCAwKSYmb2UodyxJLmxlbmd0aC0oRSsxKSl9ZnVuY3Rpb24gJGUoSSx3LEUsRCxWLFope2lmKEk+RXx8STx3KXtjb25zdCBjZT10eXBlb2Ygdz09ImJpZ2ludCI/Im4iOiIiO2xldCBTZTt0aHJvdyBaPjM/dz09PTB8fHc9PT1CaWdJbnQoMCk/U2U9YD49IDAke2NlfSBhbmQgPCAyJHtjZX0gKiogJHsoWisxKSo4fSR7Y2V9YDpTZT1gPj0gLSgyJHtjZX0gKiogJHsoWisxKSo4LTF9JHtjZX0pIGFuZCA8IDIgKiogJHsoWisxKSo4LTF9JHtjZX1gOlNlPWA+PSAke3d9JHtjZX0gYW5kIDw9ICR7RX0ke2NlfWAsbmV3IENlLkVSUl9PVVRfT0ZfUkFOR0UoInZhbHVlIixTZSxJKX1GZShELFYsWil9ZnVuY3Rpb24gcShJLHcpe2lmKHR5cGVvZiBJIT0ibnVtYmVyIil0aHJvdyBuZXcgQ2UuRVJSX0lOVkFMSURfQVJHX1RZUEUodywibnVtYmVyIixJKX1mdW5jdGlvbiBvZShJLHcsRSl7dGhyb3cgTWF0aC5mbG9vcihJKSE9PUk/KHEoSSxFKSxuZXcgQ2UuRVJSX09VVF9PRl9SQU5HRShFfHwib2Zmc2V0IiwiYW4gaW50ZWdlciIsSSkpOnc8MD9uZXcgQ2UuRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTOm5ldyBDZS5FUlJfT1VUX09GX1JBTkdFKEV8fCJvZmZzZXQiLGA+PSAke0U/MTowfSBhbmQgPD0gJHt3fWAsSSl9Y29uc3QgUT0vW14rLzAtOUEtWmEtei1fXS9nO2Z1bmN0aW9uIFkoSSl7aWYoST1JLnNwbGl0KCI9IilbMF0sST1JLnRyaW0oKS5yZXBsYWNlKFEsIiIpLEkubGVuZ3RoPDIpcmV0dXJuIiI7Zm9yKDtJLmxlbmd0aCU0IT09MDspST1JKyI9IjtyZXR1cm4gSX1mdW5jdGlvbiBpZShJLHcpe3c9d3x8MS8wO2xldCBFO2NvbnN0IEQ9SS5sZW5ndGg7bGV0IFY9bnVsbDtjb25zdCBaPVtdO2ZvcihsZXQgY2U9MDtjZTxEOysrY2Upe2lmKEU9SS5jaGFyQ29kZUF0KGNlKSxFPjU1Mjk1JiZFPDU3MzQ0KXtpZighVil7aWYoRT41NjMxOSl7KHctPTMpPi0xJiZaLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWVsc2UgaWYoY2UrMT09PUQpeyh3LT0zKT4tMSYmWi5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1WPUU7Y29udGludWV9aWYoRTw1NjMyMCl7KHctPTMpPi0xJiZaLnB1c2goMjM5LDE5MSwxODkpLFY9RTtjb250aW51ZX1FPShWLTU1Mjk2PDwxMHxFLTU2MzIwKSs2NTUzNn1lbHNlIFYmJih3LT0zKT4tMSYmWi5wdXNoKDIzOSwxOTEsMTg5KTtpZihWPW51bGwsRTwxMjgpe2lmKCh3LT0xKTwwKWJyZWFrO1oucHVzaChFKX1lbHNlIGlmKEU8MjA0OCl7aWYoKHctPTIpPDApYnJlYWs7Wi5wdXNoKEU+PjZ8MTkyLEUmNjN8MTI4KX1lbHNlIGlmKEU8NjU1MzYpe2lmKCh3LT0zKTwwKWJyZWFrO1oucHVzaChFPj4xMnwyMjQsRT4+NiY2M3wxMjgsRSY2M3wxMjgpfWVsc2UgaWYoRTwxMTE0MTEyKXtpZigody09NCk8MClicmVhaztaLnB1c2goRT4+MTh8MjQwLEU+PjEyJjYzfDEyOCxFPj42JjYzfDEyOCxFJjYzfDEyOCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpfXJldHVybiBafWZ1bmN0aW9uIHNlKEkpe2NvbnN0IHc9W107Zm9yKGxldCBFPTA7RTxJLmxlbmd0aDsrK0Updy5wdXNoKEkuY2hhckNvZGVBdChFKSYyNTUpO3JldHVybiB3fWZ1bmN0aW9uIGxlKEksdyl7bGV0IEUsRCxWO2NvbnN0IFo9W107Zm9yKGxldCBjZT0wO2NlPEkubGVuZ3RoJiYhKCh3LT0yKTwwKTsrK2NlKUU9SS5jaGFyQ29kZUF0KGNlKSxEPUU+PjgsVj1FJTI1NixaLnB1c2goViksWi5wdXNoKEQpO3JldHVybiBafWZ1bmN0aW9uIG5lKEkpe3JldHVybiBlLnRvQnl0ZUFycmF5KFkoSSkpfWZ1bmN0aW9uIHVlKEksdyxFLEQpe2xldCBWO2ZvcihWPTA7VjxEJiYhKFYrRT49dy5sZW5ndGh8fFY+PUkubGVuZ3RoKTsrK1Ypd1tWK0VdPUlbVl07cmV0dXJuIFZ9ZnVuY3Rpb24gZGUoSSx3KXtyZXR1cm4gSSBpbnN0YW5jZW9mIHd8fEkhPW51bGwmJkkuY29uc3RydWN0b3IhPW51bGwmJkkuY29uc3RydWN0b3IubmFtZSE9bnVsbCYmSS5jb25zdHJ1Y3Rvci5uYW1lPT09dy5uYW1lfWZ1bmN0aW9uIHBlKEkpe3JldHVybiBJIT09SX1jb25zdCBiZT1mdW5jdGlvbigpe2NvbnN0IEk9IjAxMjM0NTY3ODlhYmNkZWYiLHc9bmV3IEFycmF5KDI1Nik7Zm9yKGxldCBFPTA7RTwxNjsrK0Upe2NvbnN0IEQ9RSoxNjtmb3IobGV0IFY9MDtWPDE2OysrVil3W0QrVl09SVtFXStJW1ZdfXJldHVybiB3fSgpO2Z1bmN0aW9uIHdlKEkpe3JldHVybiB0eXBlb2YgQmlnSW50PiJ1Ij9PZTpJfWZ1bmN0aW9uIE9lKCl7dGhyb3cgbmV3IEVycm9yKCJCaWdJbnQgbm90IHN1cHBvcnRlZCIpfX0oYnVmZmVyKSksYnVmZmVyfXZhciBhYnN0cmFjdFN1YmxldmVsSXRlcmF0b3I9e30saGFzUmVxdWlyZWRBYnN0cmFjdFN1YmxldmVsSXRlcmF0b3I7ZnVuY3Rpb24gcmVxdWlyZUFic3RyYWN0U3VibGV2ZWxJdGVyYXRvcigpe2lmKGhhc1JlcXVpcmVkQWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yKXJldHVybiBhYnN0cmFjdFN1YmxldmVsSXRlcmF0b3I7aGFzUmVxdWlyZWRBYnN0cmFjdFN1YmxldmVsSXRlcmF0b3I9MTtjb25zdHtBYnN0cmFjdEl0ZXJhdG9yOnQsQWJzdHJhY3RLZXlJdGVyYXRvcjplLEFic3RyYWN0VmFsdWVJdGVyYXRvcjpufT1hYnN0cmFjdEl0ZXJhdG9yLG89U3ltYm9sKCJ1bmZpeCIpLGQ9U3ltYm9sKCJpdGVyYXRvciIpLGg9U3ltYm9sKCJoYW5kbGVPbmUiKSxsPVN5bWJvbCgiaGFuZGxlTWFueSIpLHU9U3ltYm9sKCJjYWxsYmFjayIpO2NsYXNzIHAgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKF8sTyxULFMpe3N1cGVyKF8sTyksdGhpc1tkXT1ULHRoaXNbb109Uyx0aGlzW2hdPXRoaXNbaF0uYmluZCh0aGlzKSx0aGlzW2xdPXRoaXNbbF0uYmluZCh0aGlzKSx0aGlzW3VdPW51bGx9W2hdKF8sTyxUKXtjb25zdCBTPXRoaXNbdV07aWYoXylyZXR1cm4gUyhfKTtPIT09dm9pZCAwJiYoTz10aGlzW29dKE8pKSxTKF8sTyxUKX1bbF0oXyxPKXtjb25zdCBUPXRoaXNbdV07aWYoXylyZXR1cm4gVChfKTtmb3IoY29uc3QgUyBvZiBPKXtjb25zdCBOPVNbMF07TiE9PXZvaWQgMCYmKFNbMF09dGhpc1tvXShOKSl9VChfLE8pfX1jbGFzcyBnIGV4dGVuZHMgZXtjb25zdHJ1Y3RvcihfLE8sVCxTKXtzdXBlcihfLE8pLHRoaXNbZF09VCx0aGlzW29dPVMsdGhpc1toXT10aGlzW2hdLmJpbmQodGhpcyksdGhpc1tsXT10aGlzW2xdLmJpbmQodGhpcyksdGhpc1t1XT1udWxsfVtoXShfLE8pe2NvbnN0IFQ9dGhpc1t1XTtpZihfKXJldHVybiBUKF8pO08hPT12b2lkIDAmJihPPXRoaXNbb10oTykpLFQoXyxPKX1bbF0oXyxPKXtjb25zdCBUPXRoaXNbdV07aWYoXylyZXR1cm4gVChfKTtmb3IobGV0IFM9MDtTPE8ubGVuZ3RoO1MrKyl7Y29uc3QgTj1PW1NdO04hPT12b2lkIDAmJihPW1NdPXRoaXNbb10oTikpfVQoXyxPKX19Y2xhc3MgdiBleHRlbmRzIG57Y29uc3RydWN0b3IoXyxPLFQpe3N1cGVyKF8sTyksdGhpc1tkXT1UfX1mb3IoY29uc3QgYiBvZltwLGddKWIucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKF8pe3RoaXNbdV09Xyx0aGlzW2RdLm5leHQodGhpc1toXSl9LGIucHJvdG90eXBlLl9uZXh0dj1mdW5jdGlvbihfLE8sVCl7dGhpc1t1XT1ULHRoaXNbZF0ubmV4dHYoXyxPLHRoaXNbbF0pfSxiLnByb3RvdHlwZS5fYWxsPWZ1bmN0aW9uKF8sTyl7dGhpc1t1XT1PLHRoaXNbZF0uYWxsKF8sdGhpc1tsXSl9O2Zvcihjb25zdCBiIG9mW3ZdKWIucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKF8pe3RoaXNbZF0ubmV4dChfKX0sYi5wcm90b3R5cGUuX25leHR2PWZ1bmN0aW9uKF8sTyxUKXt0aGlzW2RdLm5leHR2KF8sTyxUKX0sYi5wcm90b3R5cGUuX2FsbD1mdW5jdGlvbihfLE8pe3RoaXNbZF0uYWxsKF8sTyl9O2Zvcihjb25zdCBiIG9mW3AsZyx2XSliLnByb3RvdHlwZS5fc2Vlaz1mdW5jdGlvbihfLE8pe3RoaXNbZF0uc2VlayhfLE8pfSxiLnByb3RvdHlwZS5fY2xvc2U9ZnVuY3Rpb24oXyl7dGhpc1tkXS5jbG9zZShfKX07cmV0dXJuIGFic3RyYWN0U3VibGV2ZWxJdGVyYXRvci5BYnN0cmFjdFN1YmxldmVsSXRlcmF0b3I9cCxhYnN0cmFjdFN1YmxldmVsSXRlcmF0b3IuQWJzdHJhY3RTdWJsZXZlbEtleUl0ZXJhdG9yPWcsYWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yLkFic3RyYWN0U3VibGV2ZWxWYWx1ZUl0ZXJhdG9yPXYsYWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yfXZhciBhYnN0cmFjdFN1YmxldmVsLGhhc1JlcXVpcmVkQWJzdHJhY3RTdWJsZXZlbDtmdW5jdGlvbiByZXF1aXJlQWJzdHJhY3RTdWJsZXZlbCgpe2lmKGhhc1JlcXVpcmVkQWJzdHJhY3RTdWJsZXZlbClyZXR1cm4gYWJzdHJhY3RTdWJsZXZlbDtoYXNSZXF1aXJlZEFic3RyYWN0U3VibGV2ZWw9MTtjb25zdCB0PW1vZHVsZUVycm9yLHtCdWZmZXI6ZX09cmVxdWlyZUJ1ZmZlcigpfHx7fSx7QWJzdHJhY3RTdWJsZXZlbEl0ZXJhdG9yOm4sQWJzdHJhY3RTdWJsZXZlbEtleUl0ZXJhdG9yOm8sQWJzdHJhY3RTdWJsZXZlbFZhbHVlSXRlcmF0b3I6ZH09cmVxdWlyZUFic3RyYWN0U3VibGV2ZWxJdGVyYXRvcigpLGg9U3ltYm9sKCJwcmVmaXgiKSxsPVN5bWJvbCgidXBwZXJCb3VuZCIpLHU9U3ltYm9sKCJwcmVmaXhSYW5nZSIpLHA9U3ltYm9sKCJwYXJlbnQiKSxnPVN5bWJvbCgidW5maXgiKSx2PW5ldyBUZXh0RW5jb2RlcixiPXtzZXBhcmF0b3I6IiEifTthYnN0cmFjdFN1YmxldmVsPWZ1bmN0aW9uKHtBYnN0cmFjdExldmVsOkJ9KXtjbGFzcyBMIGV4dGVuZHMgQntzdGF0aWMgZGVmYXVsdHMoail7aWYodHlwZW9mIGo9PSJzdHJpbmciKXRocm93IG5ldyB0KCJUaGUgc3VibGV2ZWxkb3duIHN0cmluZyBzaG9ydGhhbmQgZm9yIHsgc2VwYXJhdG9yIH0gaGFzIGJlZW4gcmVtb3ZlZCIse2NvZGU6IkxFVkVMX0xFR0FDWSJ9KTtpZihqJiZqLm9wZW4pdGhyb3cgbmV3IHQoIlRoZSBzdWJsZXZlbGRvd24gb3BlbiBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZCIse2NvZGU6IkxFVkVMX0xFR0FDWSJ9KTtyZXR1cm4gaj09bnVsbD9iOmouc2VwYXJhdG9yP2o6ey4uLmosc2VwYXJhdG9yOiIhIn19Y29uc3RydWN0b3IoaixQLEYpe2NvbnN0e3NlcGFyYXRvcjprLG1hbmlmZXN0OkosLi4uYWV9PUwuZGVmYXVsdHMoRik7UD1OKFAsayk7Y29uc3QgWD1rLmNoYXJDb2RlQXQoMCkrMSxHPWpbcF18fGo7aWYoIXYuZW5jb2RlKFApLmV2ZXJ5KCQ9PiQ+WCYmJDwxMjcpKXRocm93IG5ldyB0KGBQcmVmaXggbXVzdCB1c2UgYnl0ZXMgPiAke1h9IDwgMTI3YCx7Y29kZToiTEVWRUxfSU5WQUxJRF9QUkVGSVgifSk7c3VwZXIoXyhHLEopLGFlKTtjb25zdCByZT0oai5wcmVmaXh8fCIiKStrK1ArayxNPXJlLnNsaWNlKDAsLTEpK1N0cmluZy5mcm9tQ2hhckNvZGUoWCk7dGhpc1twXT1HLHRoaXNbaF09bmV3IFQocmUpLHRoaXNbbF09bmV3IFQoTSksdGhpc1tnXT1uZXcgUyx0aGlzLm5leHRUaWNrPUcubmV4dFRpY2t9cHJlZml4S2V5KGosUCl7aWYoUD09PSJ1dGY4IilyZXR1cm4gdGhpc1toXS51dGY4K2o7aWYoai5ieXRlTGVuZ3RoPT09MClyZXR1cm4gdGhpc1toXVtQXTtpZihQPT09InZpZXciKXtjb25zdCBGPXRoaXNbaF0udmlldyxrPW5ldyBVaW50OEFycmF5KEYuYnl0ZUxlbmd0aCtqLmJ5dGVMZW5ndGgpO3JldHVybiBrLnNldChGLDApLGsuc2V0KGosRi5ieXRlTGVuZ3RoKSxrfWVsc2V7Y29uc3QgRj10aGlzW2hdLmJ1ZmZlcjtyZXR1cm4gZS5jb25jYXQoW0Ysal0sRi5ieXRlTGVuZ3RoK2ouYnl0ZUxlbmd0aCl9fVt1XShqLFApe2ouZ3RlIT09dm9pZCAwP2ouZ3RlPXRoaXMucHJlZml4S2V5KGouZ3RlLFApOmouZ3QhPT12b2lkIDA/ai5ndD10aGlzLnByZWZpeEtleShqLmd0LFApOmouZ3RlPXRoaXNbaF1bUF0sai5sdGUhPT12b2lkIDA/ai5sdGU9dGhpcy5wcmVmaXhLZXkoai5sdGUsUCk6ai5sdCE9PXZvaWQgMD9qLmx0PXRoaXMucHJlZml4S2V5KGoubHQsUCk6ai5sdGU9dGhpc1tsXVtQXX1nZXQgcHJlZml4KCl7cmV0dXJuIHRoaXNbaF0udXRmOH1nZXQgZGIoKXtyZXR1cm4gdGhpc1twXX1fb3BlbihqLFApe3RoaXNbcF0ub3Blbih7cGFzc2l2ZTohMH0sUCl9X3B1dChqLFAsRixrKXt0aGlzW3BdLnB1dChqLFAsRixrKX1fZ2V0KGosUCxGKXt0aGlzW3BdLmdldChqLFAsRil9X2dldE1hbnkoaixQLEYpe3RoaXNbcF0uZ2V0TWFueShqLFAsRil9X2RlbChqLFAsRil7dGhpc1twXS5kZWwoaixQLEYpfV9iYXRjaChqLFAsRil7dGhpc1twXS5iYXRjaChqLFAsRil9X2NsZWFyKGosUCl7dGhpc1t1XShqLGoua2V5RW5jb2RpbmcpLHRoaXNbcF0uY2xlYXIoaixQKX1faXRlcmF0b3Ioail7dGhpc1t1XShqLGoua2V5RW5jb2RpbmcpO2NvbnN0IFA9dGhpc1twXS5pdGVyYXRvcihqKSxGPXRoaXNbZ10uZ2V0KHRoaXNbaF0udXRmOC5sZW5ndGgsai5rZXlFbmNvZGluZyk7cmV0dXJuIG5ldyBuKHRoaXMsaixQLEYpfV9rZXlzKGope3RoaXNbdV0oaixqLmtleUVuY29kaW5nKTtjb25zdCBQPXRoaXNbcF0ua2V5cyhqKSxGPXRoaXNbZ10uZ2V0KHRoaXNbaF0udXRmOC5sZW5ndGgsai5rZXlFbmNvZGluZyk7cmV0dXJuIG5ldyBvKHRoaXMsaixQLEYpfV92YWx1ZXMoail7dGhpc1t1XShqLGoua2V5RW5jb2RpbmcpO2NvbnN0IFA9dGhpc1twXS52YWx1ZXMoaik7cmV0dXJuIG5ldyBkKHRoaXMsaixQKX19cmV0dXJue0Fic3RyYWN0U3VibGV2ZWw6TH19O2NvbnN0IF89ZnVuY3Rpb24oQixMKXtyZXR1cm57Li4uQi5zdXBwb3J0cyxjcmVhdGVJZk1pc3Npbmc6ITEsZXJyb3JJZkV4aXN0czohMSxldmVudHM6e30sYWRkaXRpb25hbE1ldGhvZHM6e30sLi4uTCxlbmNvZGluZ3M6e3V0Zjg6TyhCLCJ1dGY4IiksYnVmZmVyOk8oQiwiYnVmZmVyIiksdmlldzpPKEIsInZpZXciKX19fSxPPWZ1bmN0aW9uKEIsTCl7cmV0dXJuIEIuc3VwcG9ydHMuZW5jb2RpbmdzW0xdP0Iua2V5RW5jb2RpbmcoTCkubmFtZT09PUw6ITF9O2NsYXNzIFR7Y29uc3RydWN0b3IoTCl7dGhpcy51dGY4PUwsdGhpcy52aWV3PXYuZW5jb2RlKEwpLHRoaXMuYnVmZmVyPWU/ZS5mcm9tKHRoaXMudmlldy5idWZmZXIsMCx0aGlzLnZpZXcuYnl0ZUxlbmd0aCk6e319fWNsYXNzIFN7Y29uc3RydWN0b3IoKXt0aGlzLmNhY2hlPW5ldyBNYXB9Z2V0KEwsQyl7bGV0IGo9dGhpcy5jYWNoZS5nZXQoQyk7cmV0dXJuIGo9PT12b2lkIDAmJihDPT09InZpZXciP2o9ZnVuY3Rpb24oUCxGKXtyZXR1cm4gRi5zdWJhcnJheShQKX0uYmluZChudWxsLEwpOmo9ZnVuY3Rpb24oUCxGKXtyZXR1cm4gRi5zbGljZShQKX0uYmluZChudWxsLEwpLHRoaXMuY2FjaGUuc2V0KEMsaikpLGp9fWNvbnN0IE49ZnVuY3Rpb24oQixMKXtsZXQgQz0wLGo9Qi5sZW5ndGg7Zm9yKDtDPGomJkJbQ109PT1MOylDKys7Zm9yKDtqPkMmJkJbai0xXT09PUw7KWotLTtyZXR1cm4gQi5zbGljZShDLGopfTtyZXR1cm4gYWJzdHJhY3RTdWJsZXZlbH1jb25zdHtzdXBwb3J0c309bGV2ZWxTdXBwb3J0cyx7VHJhbnNjb2Rlcn09bGV2ZWxUcmFuc2NvZGVyLHtFdmVudEVtaXR0ZXJ9PWV2ZW50c0V4cG9ydHMse2Zyb21DYWxsYmFja309Y2F0ZXJpbmcsTW9kdWxlRXJyb3IkMT1tb2R1bGVFcnJvcix7QWJzdHJhY3RJdGVyYXRvcjpBYnN0cmFjdEl0ZXJhdG9yJDF9PWFic3RyYWN0SXRlcmF0b3Ise0RlZmF1bHRLZXlJdGVyYXRvcixEZWZhdWx0VmFsdWVJdGVyYXRvcn09ZGVmYXVsdEt2SXRlcmF0b3Ise0RlZmVycmVkSXRlcmF0b3IsRGVmZXJyZWRLZXlJdGVyYXRvcixEZWZlcnJlZFZhbHVlSXRlcmF0b3J9PWRlZmVycmVkSXRlcmF0b3Ise0RlZmF1bHRDaGFpbmVkQmF0Y2h9PWRlZmF1bHRDaGFpbmVkQmF0Y2gse2dldENhbGxiYWNrLGdldE9wdGlvbnN9PWNvbW1vbiQ2LHJhbmdlT3B0aW9ucyQxPXJhbmdlT3B0aW9uc18xLGtQcm9taXNlPVN5bWJvbCgicHJvbWlzZSIpLGtMYW5kZWQ9U3ltYm9sKCJsYW5kZWQiKSxrUmVzb3VyY2VzPVN5bWJvbCgicmVzb3VyY2VzIiksa0Nsb3NlUmVzb3VyY2VzPVN5bWJvbCgiY2xvc2VSZXNvdXJjZXMiKSxrT3BlcmF0aW9ucz1TeW1ib2woIm9wZXJhdGlvbnMiKSxrVW5kZWZlcj1TeW1ib2woInVuZGVmZXIiKSxrRGVmZXJPcGVuPVN5bWJvbCgiZGVmZXJPcGVuIiksa09wdGlvbnMkMT1TeW1ib2woIm9wdGlvbnMiKSxrU3RhdHVzPVN5bWJvbCgic3RhdHVzIiksa0RlZmF1bHRPcHRpb25zPVN5bWJvbCgiZGVmYXVsdE9wdGlvbnMiKSxrVHJhbnNjb2Rlcj1TeW1ib2woInRyYW5zY29kZXIiKSxrS2V5RW5jb2Rpbmc9U3ltYm9sKCJrZXlFbmNvZGluZyIpLGtWYWx1ZUVuY29kaW5nPVN5bWJvbCgidmFsdWVFbmNvZGluZyIpLG5vb3AkMz0oKT0+e307bGV0IEFic3RyYWN0TGV2ZWwkMT1jbGFzcyBleHRlbmRzIEV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihlLG4pe2lmKHN1cGVyKCksdHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgJ21hbmlmZXN0JyBtdXN0IGJlIGFuIG9iamVjdCIpO249Z2V0T3B0aW9ucyhuKTtjb25zdHtrZXlFbmNvZGluZzpvLHZhbHVlRW5jb2Rpbmc6ZCxwYXNzaXZlOmgsLi4ubH09bjt0aGlzW2tSZXNvdXJjZXNdPW5ldyBTZXQsdGhpc1trT3BlcmF0aW9uc109W10sdGhpc1trRGVmZXJPcGVuXT0hMCx0aGlzW2tPcHRpb25zJDFdPWwsdGhpc1trU3RhdHVzXT0ib3BlbmluZyIsdGhpcy5zdXBwb3J0cz1zdXBwb3J0cyhlLHtzdGF0dXM6ITAscHJvbWlzZXM6ITAsY2xlYXI6ITAsZ2V0TWFueTohMCxkZWZlcnJlZE9wZW46ITAsc25hcHNob3RzOmUuc25hcHNob3RzIT09ITEscGVybWFuZW5jZTplLnBlcm1hbmVuY2UhPT0hMSxrZXlJdGVyYXRvcjohMCx2YWx1ZUl0ZXJhdG9yOiEwLGl0ZXJhdG9yTmV4dHY6ITAsaXRlcmF0b3JBbGw6ITAsZW5jb2RpbmdzOmUuZW5jb2RpbmdzfHx7fSxldmVudHM6T2JqZWN0LmFzc2lnbih7fSxlLmV2ZW50cyx7b3BlbmluZzohMCxvcGVuOiEwLGNsb3Npbmc6ITAsY2xvc2VkOiEwLHB1dDohMCxkZWw6ITAsYmF0Y2g6ITAsY2xlYXI6ITB9KX0pLHRoaXNba1RyYW5zY29kZXJdPW5ldyBUcmFuc2NvZGVyKGZvcm1hdHModGhpcykpLHRoaXNba0tleUVuY29kaW5nXT10aGlzW2tUcmFuc2NvZGVyXS5lbmNvZGluZyhvfHwidXRmOCIpLHRoaXNba1ZhbHVlRW5jb2RpbmddPXRoaXNba1RyYW5zY29kZXJdLmVuY29kaW5nKGR8fCJ1dGY4Iik7Zm9yKGNvbnN0IHUgb2YgdGhpc1trVHJhbnNjb2Rlcl0uZW5jb2RpbmdzKCkpdGhpcy5zdXBwb3J0cy5lbmNvZGluZ3NbdS5jb21tb25OYW1lXXx8KHRoaXMuc3VwcG9ydHMuZW5jb2RpbmdzW3UuY29tbW9uTmFtZV09ITApO3RoaXNba0RlZmF1bHRPcHRpb25zXT17ZW1wdHk6T2JqZWN0LmZyZWV6ZSh7fSksZW50cnk6T2JqZWN0LmZyZWV6ZSh7a2V5RW5jb2Rpbmc6dGhpc1trS2V5RW5jb2RpbmddLmNvbW1vbk5hbWUsdmFsdWVFbmNvZGluZzp0aGlzW2tWYWx1ZUVuY29kaW5nXS5jb21tb25OYW1lfSksa2V5Ok9iamVjdC5mcmVlemUoe2tleUVuY29kaW5nOnRoaXNba0tleUVuY29kaW5nXS5jb21tb25OYW1lfSl9LHRoaXMubmV4dFRpY2soKCk9Pnt0aGlzW2tEZWZlck9wZW5dJiZ0aGlzLm9wZW4oe3Bhc3NpdmU6ITF9LG5vb3AkMyl9KX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXNba1N0YXR1c119a2V5RW5jb2RpbmcoZSl7cmV0dXJuIHRoaXNba1RyYW5zY29kZXJdLmVuY29kaW5nKGU/P3RoaXNba0tleUVuY29kaW5nXSl9dmFsdWVFbmNvZGluZyhlKXtyZXR1cm4gdGhpc1trVHJhbnNjb2Rlcl0uZW5jb2RpbmcoZT8/dGhpc1trVmFsdWVFbmNvZGluZ10pfW9wZW4oZSxuKXtuPWdldENhbGxiYWNrKGUsbiksbj1mcm9tQ2FsbGJhY2sobixrUHJvbWlzZSksZT17Li4udGhpc1trT3B0aW9ucyQxXSwuLi5nZXRPcHRpb25zKGUpfSxlLmNyZWF0ZUlmTWlzc2luZz1lLmNyZWF0ZUlmTWlzc2luZyE9PSExLGUuZXJyb3JJZkV4aXN0cz0hIWUuZXJyb3JJZkV4aXN0cztjb25zdCBvPWQ9Pnt0aGlzW2tTdGF0dXNdPT09ImNsb3NpbmcifHx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciP3RoaXMub25jZShrTGFuZGVkLGQ/KCk9Pm8oZCk6byk6dGhpc1trU3RhdHVzXSE9PSJvcGVuIj9uKG5ldyBNb2R1bGVFcnJvciQxKCJEYXRhYmFzZSBpcyBub3Qgb3BlbiIse2NvZGU6IkxFVkVMX0RBVEFCQVNFX05PVF9PUEVOIixjYXVzZTpkfSkpOm4oKX07cmV0dXJuIGUucGFzc2l2ZT90aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciP3RoaXMub25jZShrTGFuZGVkLG8pOnRoaXMubmV4dFRpY2sobyk6dGhpc1trU3RhdHVzXT09PSJjbG9zZWQifHx0aGlzW2tEZWZlck9wZW5dPyh0aGlzW2tEZWZlck9wZW5dPSExLHRoaXNba1N0YXR1c109Im9wZW5pbmciLHRoaXMuZW1pdCgib3BlbmluZyIpLHRoaXMuX29wZW4oZSxkPT57aWYoZCl7dGhpc1trU3RhdHVzXT0iY2xvc2VkIix0aGlzW2tDbG9zZVJlc291cmNlc10oKCk9Pnt0aGlzLmVtaXQoa0xhbmRlZCksbyhkKX0pLHRoaXNba1VuZGVmZXJdKCk7cmV0dXJufXRoaXNba1N0YXR1c109Im9wZW4iLHRoaXNba1VuZGVmZXJdKCksdGhpcy5lbWl0KGtMYW5kZWQpLHRoaXNba1N0YXR1c109PT0ib3BlbiImJnRoaXMuZW1pdCgib3BlbiIpLHRoaXNba1N0YXR1c109PT0ib3BlbiImJnRoaXMuZW1pdCgicmVhZHkiKSxvKCl9KSk6dGhpc1trU3RhdHVzXT09PSJvcGVuIj90aGlzLm5leHRUaWNrKG8pOnRoaXMub25jZShrTGFuZGVkLCgpPT50aGlzLm9wZW4oZSxuKSksbltrUHJvbWlzZV19X29wZW4oZSxuKXt0aGlzLm5leHRUaWNrKG4pfWNsb3NlKGUpe2U9ZnJvbUNhbGxiYWNrKGUsa1Byb21pc2UpO2NvbnN0IG49bz0+e3RoaXNba1N0YXR1c109PT0ib3BlbmluZyJ8fHRoaXNba1N0YXR1c109PT0iY2xvc2luZyI/dGhpcy5vbmNlKGtMYW5kZWQsbz9uKG8pOm4pOnRoaXNba1N0YXR1c10hPT0iY2xvc2VkIj9lKG5ldyBNb2R1bGVFcnJvciQxKCJEYXRhYmFzZSBpcyBub3QgY2xvc2VkIix7Y29kZToiTEVWRUxfREFUQUJBU0VfTk9UX0NMT1NFRCIsY2F1c2U6b30pKTplKCl9O2lmKHRoaXNba1N0YXR1c109PT0ib3BlbiIpe3RoaXNba1N0YXR1c109ImNsb3NpbmciLHRoaXMuZW1pdCgiY2xvc2luZyIpO2NvbnN0IG89ZD0+e3RoaXNba1N0YXR1c109Im9wZW4iLHRoaXNba1VuZGVmZXJdKCksdGhpcy5lbWl0KGtMYW5kZWQpLG4oZCl9O3RoaXNba0Nsb3NlUmVzb3VyY2VzXSgoKT0+e3RoaXMuX2Nsb3NlKGQ9PntpZihkKXJldHVybiBvKGQpO3RoaXNba1N0YXR1c109ImNsb3NlZCIsdGhpc1trVW5kZWZlcl0oKSx0aGlzLmVtaXQoa0xhbmRlZCksdGhpc1trU3RhdHVzXT09PSJjbG9zZWQiJiZ0aGlzLmVtaXQoImNsb3NlZCIpLG4oKX0pfSl9ZWxzZSB0aGlzW2tTdGF0dXNdPT09ImNsb3NlZCI/dGhpcy5uZXh0VGljayhuKTp0aGlzLm9uY2Uoa0xhbmRlZCwoKT0+dGhpcy5jbG9zZShlKSk7cmV0dXJuIGVba1Byb21pc2VdfVtrQ2xvc2VSZXNvdXJjZXNdKGUpe2lmKHRoaXNba1Jlc291cmNlc10uc2l6ZT09PTApcmV0dXJuIHRoaXMubmV4dFRpY2soZSk7bGV0IG49dGhpc1trUmVzb3VyY2VzXS5zaXplLG89ITA7Y29uc3QgZD0oKT0+ey0tbj09PTAmJihvP3RoaXMubmV4dFRpY2soZSk6ZSgpKX07Zm9yKGNvbnN0IGggb2YgdGhpc1trUmVzb3VyY2VzXSloLmNsb3NlKGQpO289ITEsdGhpc1trUmVzb3VyY2VzXS5jbGVhcigpfV9jbG9zZShlKXt0aGlzLm5leHRUaWNrKGUpfWdldChlLG4sbyl7aWYobz1nZXRDYWxsYmFjayhuLG8pLG89ZnJvbUNhbGxiYWNrKG8sa1Byb21pc2UpLG49Z2V0T3B0aW9ucyhuLHRoaXNba0RlZmF1bHRPcHRpb25zXS5lbnRyeSksdGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIilyZXR1cm4gdGhpcy5kZWZlcigoKT0+dGhpcy5nZXQoZSxuLG8pKSxvW2tQcm9taXNlXTtpZihtYXliZUVycm9yKHRoaXMsbykpcmV0dXJuIG9ba1Byb21pc2VdO2NvbnN0IGQ9dGhpcy5fY2hlY2tLZXkoZSk7aWYoZClyZXR1cm4gdGhpcy5uZXh0VGljayhvLGQpLG9ba1Byb21pc2VdO2NvbnN0IGg9dGhpcy5rZXlFbmNvZGluZyhuLmtleUVuY29kaW5nKSxsPXRoaXMudmFsdWVFbmNvZGluZyhuLnZhbHVlRW5jb2RpbmcpLHU9aC5mb3JtYXQscD1sLmZvcm1hdDtyZXR1cm4obi5rZXlFbmNvZGluZyE9PXV8fG4udmFsdWVFbmNvZGluZyE9PXApJiYobj1PYmplY3QuYXNzaWduKHt9LG4se2tleUVuY29kaW5nOnUsdmFsdWVFbmNvZGluZzpwfSkpLHRoaXMuX2dldCh0aGlzLnByZWZpeEtleShoLmVuY29kZShlKSx1KSxuLChnLHYpPT57aWYoZylyZXR1cm4oZy5jb2RlPT09IkxFVkVMX05PVF9GT1VORCJ8fGcubm90Rm91bmR8fC9Ob3RGb3VuZC9pLnRlc3QoZykpJiYoZy5jb2RlfHwoZy5jb2RlPSJMRVZFTF9OT1RfRk9VTkQiKSxnLm5vdEZvdW5kfHwoZy5ub3RGb3VuZD0hMCksZy5zdGF0dXN8fChnLnN0YXR1cz00MDQpKSxvKGcpO3RyeXt2PWwuZGVjb2RlKHYpfWNhdGNoKGIpe3JldHVybiBvKG5ldyBNb2R1bGVFcnJvciQxKCJDb3VsZCBub3QgZGVjb2RlIHZhbHVlIix7Y29kZToiTEVWRUxfREVDT0RFX0VSUk9SIixjYXVzZTpifSkpfW8obnVsbCx2KX0pLG9ba1Byb21pc2VdfV9nZXQoZSxuLG8pe3RoaXMubmV4dFRpY2sobyxuZXcgRXJyb3IoIk5vdEZvdW5kIikpfWdldE1hbnkoZSxuLG8pe2lmKG89Z2V0Q2FsbGJhY2sobixvKSxvPWZyb21DYWxsYmFjayhvLGtQcm9taXNlKSxuPWdldE9wdGlvbnMobix0aGlzW2tEZWZhdWx0T3B0aW9uc10uZW50cnkpLHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIHRoaXMuZGVmZXIoKCk9PnRoaXMuZ2V0TWFueShlLG4sbykpLG9ba1Byb21pc2VdO2lmKG1heWJlRXJyb3IodGhpcyxvKSlyZXR1cm4gb1trUHJvbWlzZV07aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxuZXcgVHlwZUVycm9yKCJUaGUgZmlyc3QgYXJndW1lbnQgJ2tleXMnIG11c3QgYmUgYW4gYXJyYXkiKSksb1trUHJvbWlzZV07aWYoZS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLm5leHRUaWNrKG8sbnVsbCxbXSksb1trUHJvbWlzZV07Y29uc3QgZD10aGlzLmtleUVuY29kaW5nKG4ua2V5RW5jb2RpbmcpLGg9dGhpcy52YWx1ZUVuY29kaW5nKG4udmFsdWVFbmNvZGluZyksbD1kLmZvcm1hdCx1PWguZm9ybWF0OyhuLmtleUVuY29kaW5nIT09bHx8bi52YWx1ZUVuY29kaW5nIT09dSkmJihuPU9iamVjdC5hc3NpZ24oe30sbix7a2V5RW5jb2Rpbmc6bCx2YWx1ZUVuY29kaW5nOnV9KSk7Y29uc3QgcD1uZXcgQXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgZz0wO2c8ZS5sZW5ndGg7ZysrKXtjb25zdCB2PWVbZ10sYj10aGlzLl9jaGVja0tleSh2KTtpZihiKXJldHVybiB0aGlzLm5leHRUaWNrKG8sYiksb1trUHJvbWlzZV07cFtnXT10aGlzLnByZWZpeEtleShkLmVuY29kZSh2KSxsKX1yZXR1cm4gdGhpcy5fZ2V0TWFueShwLG4sKGcsdik9PntpZihnKXJldHVybiBvKGcpO3RyeXtmb3IobGV0IGI9MDtiPHYubGVuZ3RoO2IrKyl2W2JdIT09dm9pZCAwJiYodltiXT1oLmRlY29kZSh2W2JdKSl9Y2F0Y2goYil7cmV0dXJuIG8obmV3IE1vZHVsZUVycm9yJDEoYENvdWxkIG5vdCBkZWNvZGUgb25lIG9yIG1vcmUgb2YgJHt2Lmxlbmd0aH0gdmFsdWUocylgLHtjb2RlOiJMRVZFTF9ERUNPREVfRVJST1IiLGNhdXNlOmJ9KSl9byhudWxsLHYpfSksb1trUHJvbWlzZV19X2dldE1hbnkoZSxuLG8pe3RoaXMubmV4dFRpY2sobyxudWxsLG5ldyBBcnJheShlLmxlbmd0aCkuZmlsbCh2b2lkIDApKX1wdXQoZSxuLG8sZCl7aWYoZD1nZXRDYWxsYmFjayhvLGQpLGQ9ZnJvbUNhbGxiYWNrKGQsa1Byb21pc2UpLG89Z2V0T3B0aW9ucyhvLHRoaXNba0RlZmF1bHRPcHRpb25zXS5lbnRyeSksdGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIilyZXR1cm4gdGhpcy5kZWZlcigoKT0+dGhpcy5wdXQoZSxuLG8sZCkpLGRba1Byb21pc2VdO2lmKG1heWJlRXJyb3IodGhpcyxkKSlyZXR1cm4gZFtrUHJvbWlzZV07Y29uc3QgaD10aGlzLl9jaGVja0tleShlKXx8dGhpcy5fY2hlY2tWYWx1ZShuKTtpZihoKXJldHVybiB0aGlzLm5leHRUaWNrKGQsaCksZFtrUHJvbWlzZV07Y29uc3QgbD10aGlzLmtleUVuY29kaW5nKG8ua2V5RW5jb2RpbmcpLHU9dGhpcy52YWx1ZUVuY29kaW5nKG8udmFsdWVFbmNvZGluZykscD1sLmZvcm1hdCxnPXUuZm9ybWF0OyhvLmtleUVuY29kaW5nIT09cHx8by52YWx1ZUVuY29kaW5nIT09ZykmJihvPU9iamVjdC5hc3NpZ24oe30sbyx7a2V5RW5jb2Rpbmc6cCx2YWx1ZUVuY29kaW5nOmd9KSk7Y29uc3Qgdj10aGlzLnByZWZpeEtleShsLmVuY29kZShlKSxwKSxiPXUuZW5jb2RlKG4pO3JldHVybiB0aGlzLl9wdXQodixiLG8sXz0+e2lmKF8pcmV0dXJuIGQoXyk7dGhpcy5lbWl0KCJwdXQiLGUsbiksZCgpfSksZFtrUHJvbWlzZV19X3B1dChlLG4sbyxkKXt0aGlzLm5leHRUaWNrKGQpfWRlbChlLG4sbyl7aWYobz1nZXRDYWxsYmFjayhuLG8pLG89ZnJvbUNhbGxiYWNrKG8sa1Byb21pc2UpLG49Z2V0T3B0aW9ucyhuLHRoaXNba0RlZmF1bHRPcHRpb25zXS5rZXkpLHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIHRoaXMuZGVmZXIoKCk9PnRoaXMuZGVsKGUsbixvKSksb1trUHJvbWlzZV07aWYobWF5YmVFcnJvcih0aGlzLG8pKXJldHVybiBvW2tQcm9taXNlXTtjb25zdCBkPXRoaXMuX2NoZWNrS2V5KGUpO2lmKGQpcmV0dXJuIHRoaXMubmV4dFRpY2sobyxkKSxvW2tQcm9taXNlXTtjb25zdCBoPXRoaXMua2V5RW5jb2Rpbmcobi5rZXlFbmNvZGluZyksbD1oLmZvcm1hdDtyZXR1cm4gbi5rZXlFbmNvZGluZyE9PWwmJihuPU9iamVjdC5hc3NpZ24oe30sbix7a2V5RW5jb2Rpbmc6bH0pKSx0aGlzLl9kZWwodGhpcy5wcmVmaXhLZXkoaC5lbmNvZGUoZSksbCksbix1PT57aWYodSlyZXR1cm4gbyh1KTt0aGlzLmVtaXQoImRlbCIsZSksbygpfSksb1trUHJvbWlzZV19X2RlbChlLG4sbyl7dGhpcy5uZXh0VGljayhvKX1iYXRjaChlLG4sbyl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpe2lmKHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIG5ldyBEZWZhdWx0Q2hhaW5lZEJhdGNoKHRoaXMpO2lmKHRoaXNba1N0YXR1c10hPT0ib3BlbiIpdGhyb3cgbmV3IE1vZHVsZUVycm9yJDEoIkRhdGFiYXNlIGlzIG5vdCBvcGVuIix7Y29kZToiTEVWRUxfREFUQUJBU0VfTk9UX09QRU4ifSk7cmV0dXJuIHRoaXMuX2NoYWluZWRCYXRjaCgpfWlmKHR5cGVvZiBlPT0iZnVuY3Rpb24iP289ZTpvPWdldENhbGxiYWNrKG4sbyksbz1mcm9tQ2FsbGJhY2sobyxrUHJvbWlzZSksbj1nZXRPcHRpb25zKG4sdGhpc1trRGVmYXVsdE9wdGlvbnNdLmVtcHR5KSx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiB0aGlzLmRlZmVyKCgpPT50aGlzLmJhdGNoKGUsbixvKSksb1trUHJvbWlzZV07aWYobWF5YmVFcnJvcih0aGlzLG8pKXJldHVybiBvW2tQcm9taXNlXTtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdGhpcy5uZXh0VGljayhvLG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCAnb3BlcmF0aW9ucycgbXVzdCBiZSBhbiBhcnJheSIpKSxvW2tQcm9taXNlXTtpZihlLmxlbmd0aD09PTApcmV0dXJuIHRoaXMubmV4dFRpY2sobyksb1trUHJvbWlzZV07Y29uc3QgZD1uZXcgQXJyYXkoZS5sZW5ndGgpLHtrZXlFbmNvZGluZzpoLHZhbHVlRW5jb2Rpbmc6bCwuLi51fT1uO2ZvcihsZXQgcD0wO3A8ZS5sZW5ndGg7cCsrKXtpZih0eXBlb2YgZVtwXSE9Im9iamVjdCJ8fGVbcF09PT1udWxsKXJldHVybiB0aGlzLm5leHRUaWNrKG8sbmV3IFR5cGVFcnJvcigiQSBiYXRjaCBvcGVyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QiKSksb1trUHJvbWlzZV07Y29uc3QgZz1PYmplY3QuYXNzaWduKHt9LGVbcF0pO2lmKGcudHlwZSE9PSJwdXQiJiZnLnR5cGUhPT0iZGVsIilyZXR1cm4gdGhpcy5uZXh0VGljayhvLG5ldyBUeXBlRXJyb3IoIkEgYmF0Y2ggb3BlcmF0aW9uIG11c3QgaGF2ZSBhIHR5cGUgcHJvcGVydHkgdGhhdCBpcyAncHV0JyBvciAnZGVsJyIpKSxvW2tQcm9taXNlXTtjb25zdCB2PXRoaXMuX2NoZWNrS2V5KGcua2V5KTtpZih2KXJldHVybiB0aGlzLm5leHRUaWNrKG8sdiksb1trUHJvbWlzZV07Y29uc3QgYj1nLnN1YmxldmVsIT1udWxsP2cuc3VibGV2ZWw6dGhpcyxfPWIua2V5RW5jb2RpbmcoZy5rZXlFbmNvZGluZ3x8aCksTz1fLmZvcm1hdDtpZihnLmtleT1iLnByZWZpeEtleShfLmVuY29kZShnLmtleSksTyksZy5rZXlFbmNvZGluZz1PLGcudHlwZT09PSJwdXQiKXtjb25zdCBUPXRoaXMuX2NoZWNrVmFsdWUoZy52YWx1ZSk7aWYoVClyZXR1cm4gdGhpcy5uZXh0VGljayhvLFQpLG9ba1Byb21pc2VdO2NvbnN0IFM9Yi52YWx1ZUVuY29kaW5nKGcudmFsdWVFbmNvZGluZ3x8bCk7Zy52YWx1ZT1TLmVuY29kZShnLnZhbHVlKSxnLnZhbHVlRW5jb2Rpbmc9Uy5mb3JtYXR9YiE9PXRoaXMmJihnLnN1YmxldmVsPW51bGwpLGRbcF09Z31yZXR1cm4gdGhpcy5fYmF0Y2goZCx1LHA9PntpZihwKXJldHVybiBvKHApO3RoaXMuZW1pdCgiYmF0Y2giLGUpLG8oKX0pLG9ba1Byb21pc2VdfV9iYXRjaChlLG4sbyl7dGhpcy5uZXh0VGljayhvKX1zdWJsZXZlbChlLG4pe3JldHVybiB0aGlzLl9zdWJsZXZlbChlLEFic3RyYWN0U3VibGV2ZWwuZGVmYXVsdHMobikpfV9zdWJsZXZlbChlLG4pe3JldHVybiBuZXcgQWJzdHJhY3RTdWJsZXZlbCh0aGlzLGUsbil9cHJlZml4S2V5KGUsbil7cmV0dXJuIGV9Y2xlYXIoZSxuKXtpZihuPWdldENhbGxiYWNrKGUsbiksbj1mcm9tQ2FsbGJhY2sobixrUHJvbWlzZSksZT1nZXRPcHRpb25zKGUsdGhpc1trRGVmYXVsdE9wdGlvbnNdLmVtcHR5KSx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiB0aGlzLmRlZmVyKCgpPT50aGlzLmNsZWFyKGUsbikpLG5ba1Byb21pc2VdO2lmKG1heWJlRXJyb3IodGhpcyxuKSlyZXR1cm4gbltrUHJvbWlzZV07Y29uc3Qgbz1lLGQ9dGhpcy5rZXlFbmNvZGluZyhlLmtleUVuY29kaW5nKTtyZXR1cm4gZT1yYW5nZU9wdGlvbnMkMShlLGQpLGUua2V5RW5jb2Rpbmc9ZC5mb3JtYXQsZS5saW1pdD09PTA/dGhpcy5uZXh0VGljayhuKTp0aGlzLl9jbGVhcihlLGg9PntpZihoKXJldHVybiBuKGgpO3RoaXMuZW1pdCgiY2xlYXIiLG8pLG4oKX0pLG5ba1Byb21pc2VdfV9jbGVhcihlLG4pe3RoaXMubmV4dFRpY2sobil9aXRlcmF0b3IoZSl7Y29uc3Qgbj10aGlzLmtleUVuY29kaW5nKGUmJmUua2V5RW5jb2RpbmcpLG89dGhpcy52YWx1ZUVuY29kaW5nKGUmJmUudmFsdWVFbmNvZGluZyk7aWYoZT1yYW5nZU9wdGlvbnMkMShlLG4pLGUua2V5cz1lLmtleXMhPT0hMSxlLnZhbHVlcz1lLnZhbHVlcyE9PSExLGVbQWJzdHJhY3RJdGVyYXRvciQxLmtleUVuY29kaW5nXT1uLGVbQWJzdHJhY3RJdGVyYXRvciQxLnZhbHVlRW5jb2RpbmddPW8sZS5rZXlFbmNvZGluZz1uLmZvcm1hdCxlLnZhbHVlRW5jb2Rpbmc9by5mb3JtYXQsdGhpc1trU3RhdHVzXT09PSJvcGVuaW5nIilyZXR1cm4gbmV3IERlZmVycmVkSXRlcmF0b3IodGhpcyxlKTtpZih0aGlzW2tTdGF0dXNdIT09Im9wZW4iKXRocm93IG5ldyBNb2R1bGVFcnJvciQxKCJEYXRhYmFzZSBpcyBub3Qgb3BlbiIse2NvZGU6IkxFVkVMX0RBVEFCQVNFX05PVF9PUEVOIn0pO3JldHVybiB0aGlzLl9pdGVyYXRvcihlKX1faXRlcmF0b3IoZSl7cmV0dXJuIG5ldyBBYnN0cmFjdEl0ZXJhdG9yJDEodGhpcyxlKX1rZXlzKGUpe2NvbnN0IG49dGhpcy5rZXlFbmNvZGluZyhlJiZlLmtleUVuY29kaW5nKSxvPXRoaXMudmFsdWVFbmNvZGluZyhlJiZlLnZhbHVlRW5jb2RpbmcpO2lmKGU9cmFuZ2VPcHRpb25zJDEoZSxuKSxlW0Fic3RyYWN0SXRlcmF0b3IkMS5rZXlFbmNvZGluZ109bixlW0Fic3RyYWN0SXRlcmF0b3IkMS52YWx1ZUVuY29kaW5nXT1vLGUua2V5RW5jb2Rpbmc9bi5mb3JtYXQsZS52YWx1ZUVuY29kaW5nPW8uZm9ybWF0LHRoaXNba1N0YXR1c109PT0ib3BlbmluZyIpcmV0dXJuIG5ldyBEZWZlcnJlZEtleUl0ZXJhdG9yKHRoaXMsZSk7aWYodGhpc1trU3RhdHVzXSE9PSJvcGVuIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkMSgiRGF0YWJhc2UgaXMgbm90IG9wZW4iLHtjb2RlOiJMRVZFTF9EQVRBQkFTRV9OT1RfT1BFTiJ9KTtyZXR1cm4gdGhpcy5fa2V5cyhlKX1fa2V5cyhlKXtyZXR1cm4gbmV3IERlZmF1bHRLZXlJdGVyYXRvcih0aGlzLGUpfXZhbHVlcyhlKXtjb25zdCBuPXRoaXMua2V5RW5jb2RpbmcoZSYmZS5rZXlFbmNvZGluZyksbz10aGlzLnZhbHVlRW5jb2RpbmcoZSYmZS52YWx1ZUVuY29kaW5nKTtpZihlPXJhbmdlT3B0aW9ucyQxKGUsbiksZVtBYnN0cmFjdEl0ZXJhdG9yJDEua2V5RW5jb2RpbmddPW4sZVtBYnN0cmFjdEl0ZXJhdG9yJDEudmFsdWVFbmNvZGluZ109byxlLmtleUVuY29kaW5nPW4uZm9ybWF0LGUudmFsdWVFbmNvZGluZz1vLmZvcm1hdCx0aGlzW2tTdGF0dXNdPT09Im9wZW5pbmciKXJldHVybiBuZXcgRGVmZXJyZWRWYWx1ZUl0ZXJhdG9yKHRoaXMsZSk7aWYodGhpc1trU3RhdHVzXSE9PSJvcGVuIil0aHJvdyBuZXcgTW9kdWxlRXJyb3IkMSgiRGF0YWJhc2UgaXMgbm90IG9wZW4iLHtjb2RlOiJMRVZFTF9EQVRBQkFTRV9OT1RfT1BFTiJ9KTtyZXR1cm4gdGhpcy5fdmFsdWVzKGUpfV92YWx1ZXMoZSl7cmV0dXJuIG5ldyBEZWZhdWx0VmFsdWVJdGVyYXRvcih0aGlzLGUpfWRlZmVyKGUpe2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24iKTt0aGlzW2tPcGVyYXRpb25zXS5wdXNoKGUpfVtrVW5kZWZlcl0oKXtpZih0aGlzW2tPcGVyYXRpb25zXS5sZW5ndGg9PT0wKXJldHVybjtjb25zdCBlPXRoaXNba09wZXJhdGlvbnNdO3RoaXNba09wZXJhdGlvbnNdPVtdO2Zvcihjb25zdCBuIG9mIGUpbigpfWF0dGFjaFJlc291cmNlKGUpe2lmKHR5cGVvZiBlIT0ib2JqZWN0Inx8ZT09PW51bGx8fHR5cGVvZiBlLmNsb3NlIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcmVzb3VyY2Ugb2JqZWN0Iik7dGhpc1trUmVzb3VyY2VzXS5hZGQoZSl9ZGV0YWNoUmVzb3VyY2UoZSl7dGhpc1trUmVzb3VyY2VzXS5kZWxldGUoZSl9X2NoYWluZWRCYXRjaCgpe3JldHVybiBuZXcgRGVmYXVsdENoYWluZWRCYXRjaCh0aGlzKX1fY2hlY2tLZXkoZSl7aWYoZT09bnVsbClyZXR1cm4gbmV3IE1vZHVsZUVycm9yJDEoIktleSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQiLHtjb2RlOiJMRVZFTF9JTlZBTElEX0tFWSJ9KX1fY2hlY2tWYWx1ZShlKXtpZihlPT1udWxsKXJldHVybiBuZXcgTW9kdWxlRXJyb3IkMSgiVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIix7Y29kZToiTEVWRUxfSU5WQUxJRF9WQUxVRSJ9KX19O0Fic3RyYWN0TGV2ZWwkMS5wcm90b3R5cGUubmV4dFRpY2s9cmVxdWlyZU5leHRUaWNrQnJvd3NlcigpO2NvbnN0e0Fic3RyYWN0U3VibGV2ZWx9PXJlcXVpcmVBYnN0cmFjdFN1YmxldmVsKCkoe0Fic3RyYWN0TGV2ZWw6QWJzdHJhY3RMZXZlbCQxfSk7YWJzdHJhY3RMZXZlbC5BYnN0cmFjdExldmVsPUFic3RyYWN0TGV2ZWwkMTthYnN0cmFjdExldmVsLkFic3RyYWN0U3VibGV2ZWw9QWJzdHJhY3RTdWJsZXZlbDtjb25zdCBtYXliZUVycm9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRba1N0YXR1c10hPT0ib3BlbiI/KHQubmV4dFRpY2soZSxuZXcgTW9kdWxlRXJyb3IkMSgiRGF0YWJhc2UgaXMgbm90IG9wZW4iLHtjb2RlOiJMRVZFTF9EQVRBQkFTRV9OT1RfT1BFTiJ9KSksITApOiExfSxmb3JtYXRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0LnN1cHBvcnRzLmVuY29kaW5ncykuZmlsdGVyKGU9PiEhdC5zdXBwb3J0cy5lbmNvZGluZ3NbZV0pfTthYnN0cmFjdExldmVsJDEuQWJzdHJhY3RMZXZlbD1hYnN0cmFjdExldmVsLkFic3RyYWN0TGV2ZWw7YWJzdHJhY3RMZXZlbCQxLkFic3RyYWN0U3VibGV2ZWw9YWJzdHJhY3RMZXZlbC5BYnN0cmFjdFN1YmxldmVsO2Fic3RyYWN0TGV2ZWwkMS5BYnN0cmFjdEl0ZXJhdG9yPWFic3RyYWN0SXRlcmF0b3IuQWJzdHJhY3RJdGVyYXRvcjthYnN0cmFjdExldmVsJDEuQWJzdHJhY3RLZXlJdGVyYXRvcj1hYnN0cmFjdEl0ZXJhdG9yLkFic3RyYWN0S2V5SXRlcmF0b3I7YWJzdHJhY3RMZXZlbCQxLkFic3RyYWN0VmFsdWVJdGVyYXRvcj1hYnN0cmFjdEl0ZXJhdG9yLkFic3RyYWN0VmFsdWVJdGVyYXRvcjthYnN0cmFjdExldmVsJDEuQWJzdHJhY3RDaGFpbmVkQmF0Y2g9YWJzdHJhY3RDaGFpbmVkQmF0Y2guQWJzdHJhY3RDaGFpbmVkQmF0Y2g7dmFyIHJidHJlZT1jcmVhdGVSQlRyZWUsUkVEPTAsQkxBQ0s9MTtmdW5jdGlvbiBSQk5vZGUodCxlLG4sbyxkLGgpe3RoaXMuX2NvbG9yPXQsdGhpcy5rZXk9ZSx0aGlzLnZhbHVlPW4sdGhpcy5sZWZ0PW8sdGhpcy5yaWdodD1kLHRoaXMuX2NvdW50PWh9ZnVuY3Rpb24gY2xvbmVOb2RlKHQpe3JldHVybiBuZXcgUkJOb2RlKHQuX2NvbG9yLHQua2V5LHQudmFsdWUsdC5sZWZ0LHQucmlnaHQsdC5fY291bnQpfWZ1bmN0aW9uIHJlcGFpbnQodCxlKXtyZXR1cm4gbmV3IFJCTm9kZSh0LGUua2V5LGUudmFsdWUsZS5sZWZ0LGUucmlnaHQsZS5fY291bnQpfWZ1bmN0aW9uIHJlY291bnQodCl7dC5fY291bnQ9MSsodC5sZWZ0P3QubGVmdC5fY291bnQ6MCkrKHQucmlnaHQ/dC5yaWdodC5fY291bnQ6MCl9ZnVuY3Rpb24gUmVkQmxhY2tUcmVlKHQsZSl7dGhpcy5fY29tcGFyZT10LHRoaXMucm9vdD1lfXZhciBwcm90bz1SZWRCbGFja1RyZWUucHJvdG90eXBlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywia2V5cyIse2dldDpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZSxuKXt0LnB1c2goZSl9KSx0fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywidmFsdWVzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlLG4pe3QucHVzaChuKX0pLHR9fSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290P3RoaXMucm9vdC5fY291bnQ6MH19KTtwcm90by5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fY29tcGFyZSxvPXRoaXMucm9vdCxkPVtdLGg9W107bzspe3ZhciBsPW4odCxvLmtleSk7ZC5wdXNoKG8pLGgucHVzaChsKSxsPD0wP289by5sZWZ0Om89by5yaWdodH1kLnB1c2gobmV3IFJCTm9kZShSRUQsdCxlLG51bGwsbnVsbCwxKSk7Zm9yKHZhciB1PWQubGVuZ3RoLTI7dT49MDstLXUpe3ZhciBvPWRbdV07aFt1XTw9MD9kW3VdPW5ldyBSQk5vZGUoby5fY29sb3Isby5rZXksby52YWx1ZSxkW3UrMV0sby5yaWdodCxvLl9jb3VudCsxKTpkW3VdPW5ldyBSQk5vZGUoby5fY29sb3Isby5rZXksby52YWx1ZSxvLmxlZnQsZFt1KzFdLG8uX2NvdW50KzEpfWZvcih2YXIgdT1kLmxlbmd0aC0xO3U+MTstLXUpe3ZhciBwPWRbdS0xXSxvPWRbdV07aWYocC5fY29sb3I9PT1CTEFDS3x8by5fY29sb3I9PT1CTEFDSylicmVhazt2YXIgZz1kW3UtMl07aWYoZy5sZWZ0PT09cClpZihwLmxlZnQ9PT1vKXt2YXIgdj1nLnJpZ2h0O2lmKHYmJnYuX2NvbG9yPT09UkVEKXAuX2NvbG9yPUJMQUNLLGcucmlnaHQ9cmVwYWludChCTEFDSyx2KSxnLl9jb2xvcj1SRUQsdS09MTtlbHNle2lmKGcuX2NvbG9yPVJFRCxnLmxlZnQ9cC5yaWdodCxwLl9jb2xvcj1CTEFDSyxwLnJpZ2h0PWcsZFt1LTJdPXAsZFt1LTFdPW8scmVjb3VudChnKSxyZWNvdW50KHApLHU+PTMpe3ZhciBiPWRbdS0zXTtiLmxlZnQ9PT1nP2IubGVmdD1wOmIucmlnaHQ9cH1icmVha319ZWxzZXt2YXIgdj1nLnJpZ2h0O2lmKHYmJnYuX2NvbG9yPT09UkVEKXAuX2NvbG9yPUJMQUNLLGcucmlnaHQ9cmVwYWludChCTEFDSyx2KSxnLl9jb2xvcj1SRUQsdS09MTtlbHNle2lmKHAucmlnaHQ9by5sZWZ0LGcuX2NvbG9yPVJFRCxnLmxlZnQ9by5yaWdodCxvLl9jb2xvcj1CTEFDSyxvLmxlZnQ9cCxvLnJpZ2h0PWcsZFt1LTJdPW8sZFt1LTFdPXAscmVjb3VudChnKSxyZWNvdW50KHApLHJlY291bnQobyksdT49Myl7dmFyIGI9ZFt1LTNdO2IubGVmdD09PWc/Yi5sZWZ0PW86Yi5yaWdodD1vfWJyZWFrfX1lbHNlIGlmKHAucmlnaHQ9PT1vKXt2YXIgdj1nLmxlZnQ7aWYodiYmdi5fY29sb3I9PT1SRUQpcC5fY29sb3I9QkxBQ0ssZy5sZWZ0PXJlcGFpbnQoQkxBQ0ssdiksZy5fY29sb3I9UkVELHUtPTE7ZWxzZXtpZihnLl9jb2xvcj1SRUQsZy5yaWdodD1wLmxlZnQscC5fY29sb3I9QkxBQ0sscC5sZWZ0PWcsZFt1LTJdPXAsZFt1LTFdPW8scmVjb3VudChnKSxyZWNvdW50KHApLHU+PTMpe3ZhciBiPWRbdS0zXTtiLnJpZ2h0PT09Zz9iLnJpZ2h0PXA6Yi5sZWZ0PXB9YnJlYWt9fWVsc2V7dmFyIHY9Zy5sZWZ0O2lmKHYmJnYuX2NvbG9yPT09UkVEKXAuX2NvbG9yPUJMQUNLLGcubGVmdD1yZXBhaW50KEJMQUNLLHYpLGcuX2NvbG9yPVJFRCx1LT0xO2Vsc2V7aWYocC5sZWZ0PW8ucmlnaHQsZy5fY29sb3I9UkVELGcucmlnaHQ9by5sZWZ0LG8uX2NvbG9yPUJMQUNLLG8ucmlnaHQ9cCxvLmxlZnQ9ZyxkW3UtMl09byxkW3UtMV09cCxyZWNvdW50KGcpLHJlY291bnQocCkscmVjb3VudChvKSx1Pj0zKXt2YXIgYj1kW3UtM107Yi5yaWdodD09PWc/Yi5yaWdodD1vOmIubGVmdD1vfWJyZWFrfX19cmV0dXJuIGRbMF0uX2NvbG9yPUJMQUNLLG5ldyBSZWRCbGFja1RyZWUobixkWzBdKX07ZnVuY3Rpb24gZG9WaXNpdEZ1bGwodCxlKXtpZihlLmxlZnQpe3ZhciBuPWRvVmlzaXRGdWxsKHQsZS5sZWZ0KTtpZihuKXJldHVybiBufXZhciBuPXQoZS5rZXksZS52YWx1ZSk7aWYobilyZXR1cm4gbjtpZihlLnJpZ2h0KXJldHVybiBkb1Zpc2l0RnVsbCh0LGUucmlnaHQpfWZ1bmN0aW9uIGRvVmlzaXRIYWxmKHQsZSxuLG8pe3ZhciBkPWUodCxvLmtleSk7aWYoZDw9MCl7aWYoby5sZWZ0KXt2YXIgaD1kb1Zpc2l0SGFsZih0LGUsbixvLmxlZnQpO2lmKGgpcmV0dXJuIGh9dmFyIGg9bihvLmtleSxvLnZhbHVlKTtpZihoKXJldHVybiBofWlmKG8ucmlnaHQpcmV0dXJuIGRvVmlzaXRIYWxmKHQsZSxuLG8ucmlnaHQpfWZ1bmN0aW9uIGRvVmlzaXQodCxlLG4sbyxkKXt2YXIgaD1uKHQsZC5rZXkpLGw9bihlLGQua2V5KSx1O2lmKGg8PTAmJihkLmxlZnQmJih1PWRvVmlzaXQodCxlLG4sbyxkLmxlZnQpLHUpfHxsPjAmJih1PW8oZC5rZXksZC52YWx1ZSksdSkpKXJldHVybiB1O2lmKGw+MCYmZC5yaWdodClyZXR1cm4gZG9WaXNpdCh0LGUsbixvLGQucmlnaHQpfXByb3RvLmZvckVhY2g9ZnVuY3Rpb24oZSxuLG8pe2lmKHRoaXMucm9vdClzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOnJldHVybiBkb1Zpc2l0RnVsbChlLHRoaXMucm9vdCk7Y2FzZSAyOnJldHVybiBkb1Zpc2l0SGFsZihuLHRoaXMuX2NvbXBhcmUsZSx0aGlzLnJvb3QpO2Nhc2UgMzpyZXR1cm4gdGhpcy5fY29tcGFyZShuLG8pPj0wP3ZvaWQgMDpkb1Zpc2l0KG4sbyx0aGlzLl9jb21wYXJlLGUsdGhpcy5yb290KX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywiYmVnaW4iLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLnJvb3Q7ZTspdC5wdXNoKGUpLGU9ZS5sZWZ0O3JldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyx0KX19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sImVuZCIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMucm9vdDtlOyl0LnB1c2goZSksZT1lLnJpZ2h0O3JldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyx0KX19KTtwcm90by5hdD1mdW5jdGlvbih0KXtpZih0PDApcmV0dXJuIG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLFtdKTtmb3IodmFyIGU9dGhpcy5yb290LG49W107Oyl7aWYobi5wdXNoKGUpLGUubGVmdCl7aWYodDxlLmxlZnQuX2NvdW50KXtlPWUubGVmdDtjb250aW51ZX10LT1lLmxlZnQuX2NvdW50fWlmKCF0KXJldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyxuKTtpZih0LT0xLGUucmlnaHQpe2lmKHQ+PWUucmlnaHQuX2NvdW50KWJyZWFrO2U9ZS5yaWdodH1lbHNlIGJyZWFrfXJldHVybiBuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyxbXSl9O3Byb3RvLmdlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jb21wYXJlLG49dGhpcy5yb290LG89W10sZD0wO247KXt2YXIgaD1lKHQsbi5rZXkpO28ucHVzaChuKSxoPD0wJiYoZD1vLmxlbmd0aCksaDw9MD9uPW4ubGVmdDpuPW4ucmlnaHR9cmV0dXJuIG8ubGVuZ3RoPWQsbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsbyl9O3Byb3RvLmd0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jb21wYXJlLG49dGhpcy5yb290LG89W10sZD0wO247KXt2YXIgaD1lKHQsbi5rZXkpO28ucHVzaChuKSxoPDAmJihkPW8ubGVuZ3RoKSxoPDA/bj1uLmxlZnQ6bj1uLnJpZ2h0fXJldHVybiBvLmxlbmd0aD1kLG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLG8pfTtwcm90by5sdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY29tcGFyZSxuPXRoaXMucm9vdCxvPVtdLGQ9MDtuOyl7dmFyIGg9ZSh0LG4ua2V5KTtvLnB1c2gobiksaD4wJiYoZD1vLmxlbmd0aCksaDw9MD9uPW4ubGVmdDpuPW4ucmlnaHR9cmV0dXJuIG8ubGVuZ3RoPWQsbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsbyl9O3Byb3RvLmxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jb21wYXJlLG49dGhpcy5yb290LG89W10sZD0wO247KXt2YXIgaD1lKHQsbi5rZXkpO28ucHVzaChuKSxoPj0wJiYoZD1vLmxlbmd0aCksaDwwP249bi5sZWZ0Om49bi5yaWdodH1yZXR1cm4gby5sZW5ndGg9ZCxuZXcgUmVkQmxhY2tUcmVlSXRlcmF0b3IodGhpcyxvKX07cHJvdG8uZmluZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY29tcGFyZSxuPXRoaXMucm9vdCxvPVtdO247KXt2YXIgZD1lKHQsbi5rZXkpO2lmKG8ucHVzaChuKSxkPT09MClyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHRoaXMsbyk7ZDw9MD9uPW4ubGVmdDpuPW4ucmlnaHR9cmV0dXJuIG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLFtdKX07cHJvdG8ucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZmluZCh0KTtyZXR1cm4gZT9lLnJlbW92ZSgpOnRoaXN9O3Byb3RvLmdldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY29tcGFyZSxuPXRoaXMucm9vdDtuOyl7dmFyIG89ZSh0LG4ua2V5KTtpZihvPT09MClyZXR1cm4gbi52YWx1ZTtvPD0wP249bi5sZWZ0Om49bi5yaWdodH19O2Z1bmN0aW9uIFJlZEJsYWNrVHJlZUl0ZXJhdG9yKHQsZSl7dGhpcy50cmVlPXQsdGhpcy5fc3RhY2s9ZX12YXIgaXByb3RvPVJlZEJsYWNrVHJlZUl0ZXJhdG9yLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXByb3RvLCJ2YWxpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFjay5sZW5ndGg+MH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXByb3RvLCJub2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YWNrLmxlbmd0aD4wP3RoaXMuX3N0YWNrW3RoaXMuX3N0YWNrLmxlbmd0aC0xXTpudWxsfSxlbnVtZXJhYmxlOiEwfSk7aXByb3RvLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSZWRCbGFja1RyZWVJdGVyYXRvcih0aGlzLnRyZWUsdGhpcy5fc3RhY2suc2xpY2UoKSl9O2Z1bmN0aW9uIHN3YXBOb2RlKHQsZSl7dC5rZXk9ZS5rZXksdC52YWx1ZT1lLnZhbHVlLHQubGVmdD1lLmxlZnQsdC5yaWdodD1lLnJpZ2h0LHQuX2NvbG9yPWUuX2NvbG9yLHQuX2NvdW50PWUuX2NvdW50fWZ1bmN0aW9uIGZpeERvdWJsZUJsYWNrKHQpe2Zvcih2YXIgZSxuLG8sZCxoPXQubGVuZ3RoLTE7aD49MDstLWgpe2lmKGU9dFtoXSxoPT09MCl7ZS5fY29sb3I9QkxBQ0s7cmV0dXJufWlmKG49dFtoLTFdLG4ubGVmdD09PWUpe2lmKG89bi5yaWdodCxvLnJpZ2h0JiZvLnJpZ2h0Ll9jb2xvcj09PVJFRCl7aWYobz1uLnJpZ2h0PWNsb25lTm9kZShvKSxkPW8ucmlnaHQ9Y2xvbmVOb2RlKG8ucmlnaHQpLG4ucmlnaHQ9by5sZWZ0LG8ubGVmdD1uLG8ucmlnaHQ9ZCxvLl9jb2xvcj1uLl9jb2xvcixlLl9jb2xvcj1CTEFDSyxuLl9jb2xvcj1CTEFDSyxkLl9jb2xvcj1CTEFDSyxyZWNvdW50KG4pLHJlY291bnQobyksaD4xKXt2YXIgbD10W2gtMl07bC5sZWZ0PT09bj9sLmxlZnQ9bzpsLnJpZ2h0PW99dFtoLTFdPW87cmV0dXJufWVsc2UgaWYoby5sZWZ0JiZvLmxlZnQuX2NvbG9yPT09UkVEKXtpZihvPW4ucmlnaHQ9Y2xvbmVOb2RlKG8pLGQ9by5sZWZ0PWNsb25lTm9kZShvLmxlZnQpLG4ucmlnaHQ9ZC5sZWZ0LG8ubGVmdD1kLnJpZ2h0LGQubGVmdD1uLGQucmlnaHQ9byxkLl9jb2xvcj1uLl9jb2xvcixuLl9jb2xvcj1CTEFDSyxvLl9jb2xvcj1CTEFDSyxlLl9jb2xvcj1CTEFDSyxyZWNvdW50KG4pLHJlY291bnQobykscmVjb3VudChkKSxoPjEpe3ZhciBsPXRbaC0yXTtsLmxlZnQ9PT1uP2wubGVmdD1kOmwucmlnaHQ9ZH10W2gtMV09ZDtyZXR1cm59aWYoby5fY29sb3I9PT1CTEFDSylpZihuLl9jb2xvcj09PVJFRCl7bi5fY29sb3I9QkxBQ0ssbi5yaWdodD1yZXBhaW50KFJFRCxvKTtyZXR1cm59ZWxzZXtuLnJpZ2h0PXJlcGFpbnQoUkVELG8pO2NvbnRpbnVlfWVsc2V7aWYobz1jbG9uZU5vZGUobyksbi5yaWdodD1vLmxlZnQsby5sZWZ0PW4sby5fY29sb3I9bi5fY29sb3Isbi5fY29sb3I9UkVELHJlY291bnQobikscmVjb3VudChvKSxoPjEpe3ZhciBsPXRbaC0yXTtsLmxlZnQ9PT1uP2wubGVmdD1vOmwucmlnaHQ9b310W2gtMV09byx0W2hdPW4saCsxPHQubGVuZ3RoP3RbaCsxXT1lOnQucHVzaChlKSxoPWgrMn19ZWxzZXtpZihvPW4ubGVmdCxvLmxlZnQmJm8ubGVmdC5fY29sb3I9PT1SRUQpe2lmKG89bi5sZWZ0PWNsb25lTm9kZShvKSxkPW8ubGVmdD1jbG9uZU5vZGUoby5sZWZ0KSxuLmxlZnQ9by5yaWdodCxvLnJpZ2h0PW4sby5sZWZ0PWQsby5fY29sb3I9bi5fY29sb3IsZS5fY29sb3I9QkxBQ0ssbi5fY29sb3I9QkxBQ0ssZC5fY29sb3I9QkxBQ0sscmVjb3VudChuKSxyZWNvdW50KG8pLGg+MSl7dmFyIGw9dFtoLTJdO2wucmlnaHQ9PT1uP2wucmlnaHQ9bzpsLmxlZnQ9b310W2gtMV09bztyZXR1cm59ZWxzZSBpZihvLnJpZ2h0JiZvLnJpZ2h0Ll9jb2xvcj09PVJFRCl7aWYobz1uLmxlZnQ9Y2xvbmVOb2RlKG8pLGQ9by5yaWdodD1jbG9uZU5vZGUoby5yaWdodCksbi5sZWZ0PWQucmlnaHQsby5yaWdodD1kLmxlZnQsZC5yaWdodD1uLGQubGVmdD1vLGQuX2NvbG9yPW4uX2NvbG9yLG4uX2NvbG9yPUJMQUNLLG8uX2NvbG9yPUJMQUNLLGUuX2NvbG9yPUJMQUNLLHJlY291bnQobikscmVjb3VudChvKSxyZWNvdW50KGQpLGg+MSl7dmFyIGw9dFtoLTJdO2wucmlnaHQ9PT1uP2wucmlnaHQ9ZDpsLmxlZnQ9ZH10W2gtMV09ZDtyZXR1cm59aWYoby5fY29sb3I9PT1CTEFDSylpZihuLl9jb2xvcj09PVJFRCl7bi5fY29sb3I9QkxBQ0ssbi5sZWZ0PXJlcGFpbnQoUkVELG8pO3JldHVybn1lbHNle24ubGVmdD1yZXBhaW50KFJFRCxvKTtjb250aW51ZX1lbHNle2lmKG89Y2xvbmVOb2RlKG8pLG4ubGVmdD1vLnJpZ2h0LG8ucmlnaHQ9bixvLl9jb2xvcj1uLl9jb2xvcixuLl9jb2xvcj1SRUQscmVjb3VudChuKSxyZWNvdW50KG8pLGg+MSl7dmFyIGw9dFtoLTJdO2wucmlnaHQ9PT1uP2wucmlnaHQ9bzpsLmxlZnQ9b310W2gtMV09byx0W2hdPW4saCsxPHQubGVuZ3RoP3RbaCsxXT1lOnQucHVzaChlKSxoPWgrMn19fX1pcHJvdG8ucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhY2s7aWYodC5sZW5ndGg9PT0wKXJldHVybiB0aGlzLnRyZWU7dmFyIGU9bmV3IEFycmF5KHQubGVuZ3RoKSxuPXRbdC5sZW5ndGgtMV07ZVtlLmxlbmd0aC0xXT1uZXcgUkJOb2RlKG4uX2NvbG9yLG4ua2V5LG4udmFsdWUsbi5sZWZ0LG4ucmlnaHQsbi5fY291bnQpO2Zvcih2YXIgbz10Lmxlbmd0aC0yO28+PTA7LS1vKXt2YXIgbj10W29dO24ubGVmdD09PXRbbysxXT9lW29dPW5ldyBSQk5vZGUobi5fY29sb3Isbi5rZXksbi52YWx1ZSxlW28rMV0sbi5yaWdodCxuLl9jb3VudCk6ZVtvXT1uZXcgUkJOb2RlKG4uX2NvbG9yLG4ua2V5LG4udmFsdWUsbi5sZWZ0LGVbbysxXSxuLl9jb3VudCl9aWYobj1lW2UubGVuZ3RoLTFdLG4ubGVmdCYmbi5yaWdodCl7dmFyIGQ9ZS5sZW5ndGg7Zm9yKG49bi5sZWZ0O24ucmlnaHQ7KWUucHVzaChuKSxuPW4ucmlnaHQ7dmFyIGg9ZVtkLTFdO2UucHVzaChuZXcgUkJOb2RlKG4uX2NvbG9yLGgua2V5LGgudmFsdWUsbi5sZWZ0LG4ucmlnaHQsbi5fY291bnQpKSxlW2QtMV0ua2V5PW4ua2V5LGVbZC0xXS52YWx1ZT1uLnZhbHVlO2Zvcih2YXIgbz1lLmxlbmd0aC0yO28+PWQ7LS1vKW49ZVtvXSxlW29dPW5ldyBSQk5vZGUobi5fY29sb3Isbi5rZXksbi52YWx1ZSxuLmxlZnQsZVtvKzFdLG4uX2NvdW50KTtlW2QtMV0ubGVmdD1lW2RdfWlmKG49ZVtlLmxlbmd0aC0xXSxuLl9jb2xvcj09PVJFRCl7dmFyIGw9ZVtlLmxlbmd0aC0yXTtsLmxlZnQ9PT1uP2wubGVmdD1udWxsOmwucmlnaHQ9PT1uJiYobC5yaWdodD1udWxsKSxlLnBvcCgpO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7KytvKWVbb10uX2NvdW50LS07cmV0dXJuIG5ldyBSZWRCbGFja1RyZWUodGhpcy50cmVlLl9jb21wYXJlLGVbMF0pfWVsc2UgaWYobi5sZWZ0fHxuLnJpZ2h0KXtuLmxlZnQ/c3dhcE5vZGUobixuLmxlZnQpOm4ucmlnaHQmJnN3YXBOb2RlKG4sbi5yaWdodCksbi5fY29sb3I9QkxBQ0s7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aC0xOysrbyllW29dLl9jb3VudC0tO3JldHVybiBuZXcgUmVkQmxhY2tUcmVlKHRoaXMudHJlZS5fY29tcGFyZSxlWzBdKX1lbHNle2lmKGUubGVuZ3RoPT09MSlyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZSh0aGlzLnRyZWUuX2NvbXBhcmUsbnVsbCk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28pZVtvXS5fY291bnQtLTt2YXIgdT1lW2UubGVuZ3RoLTJdO2ZpeERvdWJsZUJsYWNrKGUpLHUubGVmdD09PW4/dS5sZWZ0PW51bGw6dS5yaWdodD1udWxsfXJldHVybiBuZXcgUmVkQmxhY2tUcmVlKHRoaXMudHJlZS5fY29tcGFyZSxlWzBdKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGlwcm90bywia2V5Iix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fc3RhY2subGVuZ3RoPjApcmV0dXJuIHRoaXMuX3N0YWNrW3RoaXMuX3N0YWNrLmxlbmd0aC0xXS5rZXl9LGVudW1lcmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXByb3RvLCJ2YWx1ZSIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuX3N0YWNrLmxlbmd0aD4wKXJldHVybiB0aGlzLl9zdGFja1t0aGlzLl9zdGFjay5sZW5ndGgtMV0udmFsdWV9LGVudW1lcmFibGU6ITB9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaXByb3RvLCJpbmRleCIse2dldDpmdW5jdGlvbigpe3ZhciB0PTAsZT10aGlzLl9zdGFjaztpZihlLmxlbmd0aD09PTApe3ZhciBuPXRoaXMudHJlZS5yb290O3JldHVybiBuP24uX2NvdW50OjB9ZWxzZSBlW2UubGVuZ3RoLTFdLmxlZnQmJih0PWVbZS5sZW5ndGgtMV0ubGVmdC5fY291bnQpO2Zvcih2YXIgbz1lLmxlbmd0aC0yO28+PTA7LS1vKWVbbysxXT09PWVbb10ucmlnaHQmJigrK3QsZVtvXS5sZWZ0JiYodCs9ZVtvXS5sZWZ0Ll9jb3VudCkpO3JldHVybiB0fSxlbnVtZXJhYmxlOiEwfSk7aXByb3RvLm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdGFjaztpZih0Lmxlbmd0aCE9PTApe3ZhciBlPXRbdC5sZW5ndGgtMV07aWYoZS5yaWdodClmb3IoZT1lLnJpZ2h0O2U7KXQucHVzaChlKSxlPWUubGVmdDtlbHNlIGZvcih0LnBvcCgpO3QubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0ucmlnaHQ9PT1lOyllPXRbdC5sZW5ndGgtMV0sdC5wb3AoKX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShpcHJvdG8sImhhc05leHQiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdGFjaztpZih0Lmxlbmd0aD09PTApcmV0dXJuITE7aWYodFt0Lmxlbmd0aC0xXS5yaWdodClyZXR1cm4hMDtmb3IodmFyIGU9dC5sZW5ndGgtMTtlPjA7LS1lKWlmKHRbZS0xXS5sZWZ0PT09dFtlXSlyZXR1cm4hMDtyZXR1cm4hMX19KTtpcHJvdG8udXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3N0YWNrO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IHVwZGF0ZSBlbXB0eSBub2RlISIpO3ZhciBuPW5ldyBBcnJheShlLmxlbmd0aCksbz1lW2UubGVuZ3RoLTFdO25bbi5sZW5ndGgtMV09bmV3IFJCTm9kZShvLl9jb2xvcixvLmtleSx0LG8ubGVmdCxvLnJpZ2h0LG8uX2NvdW50KTtmb3IodmFyIGQ9ZS5sZW5ndGgtMjtkPj0wOy0tZClvPWVbZF0sby5sZWZ0PT09ZVtkKzFdP25bZF09bmV3IFJCTm9kZShvLl9jb2xvcixvLmtleSxvLnZhbHVlLG5bZCsxXSxvLnJpZ2h0LG8uX2NvdW50KTpuW2RdPW5ldyBSQk5vZGUoby5fY29sb3Isby5rZXksby52YWx1ZSxvLmxlZnQsbltkKzFdLG8uX2NvdW50KTtyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZSh0aGlzLnRyZWUuX2NvbXBhcmUsblswXSl9O2lwcm90by5wcmV2PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhY2s7aWYodC5sZW5ndGghPT0wKXt2YXIgZT10W3QubGVuZ3RoLTFdO2lmKGUubGVmdClmb3IoZT1lLmxlZnQ7ZTspdC5wdXNoKGUpLGU9ZS5yaWdodDtlbHNlIGZvcih0LnBvcCgpO3QubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0ubGVmdD09PWU7KWU9dFt0Lmxlbmd0aC0xXSx0LnBvcCgpfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGlwcm90bywiaGFzUHJldiIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YWNrO2lmKHQubGVuZ3RoPT09MClyZXR1cm4hMTtpZih0W3QubGVuZ3RoLTFdLmxlZnQpcmV0dXJuITA7Zm9yKHZhciBlPXQubGVuZ3RoLTE7ZT4wOy0tZSlpZih0W2UtMV0ucmlnaHQ9PT10W2VdKXJldHVybiEwO3JldHVybiExfX0pO2Z1bmN0aW9uIGRlZmF1bHRDb21wYXJlKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIGNyZWF0ZVJCVHJlZSh0KXtyZXR1cm4gbmV3IFJlZEJsYWNrVHJlZSh0fHxkZWZhdWx0Q29tcGFyZSxudWxsKX1jb25zdHtBYnN0cmFjdExldmVsLEFic3RyYWN0SXRlcmF0b3IsQWJzdHJhY3RLZXlJdGVyYXRvcixBYnN0cmFjdFZhbHVlSXRlcmF0b3J9PWFic3RyYWN0TGV2ZWwkMSxNb2R1bGVFcnJvcj1tb2R1bGVFcnJvcixjcmVhdGVSQlQ9cmJ0cmVlLHJhbmdlT3B0aW9ucz1uZXcgU2V0KFsiZ3QiLCJndGUiLCJsdCIsImx0ZSJdKSxrTm9uZT1TeW1ib2woIm5vbmUiKSxrVHJlZT1TeW1ib2woInRyZWUiKSxrSXRlcmF0b3I9U3ltYm9sKCJpdGVyYXRvciIpLGtMb3dlckJvdW5kPVN5bWJvbCgibG93ZXJCb3VuZCIpLGtVcHBlckJvdW5kPVN5bWJvbCgidXBwZXJCb3VuZCIpLGtPdXRPZlJhbmdlPVN5bWJvbCgib3V0T2ZSYW5nZSIpLGtSZXZlcnNlPVN5bWJvbCgicmV2ZXJzZSIpLGtPcHRpb25zPVN5bWJvbCgib3B0aW9ucyIpLGtUZXN0PVN5bWJvbCgidGVzdCIpLGtBZHZhbmNlPVN5bWJvbCgiYWR2YW5jZSIpLGtJbml0PVN5bWJvbCgiaW5pdCIpO2Z1bmN0aW9uIGNvbXBhcmUodCxlKXtpZih0eXBlb2YgdD09InN0cmluZyIpcmV0dXJuIHQ8ZT8tMTp0PmU/MTowO2NvbnN0IG49TWF0aC5taW4odC5ieXRlTGVuZ3RoLGUuYnl0ZUxlbmd0aCk7Zm9yKGxldCBvPTA7bzxuO28rKyl7Y29uc3QgZD10W29dLWVbb107aWYoZCE9PTApcmV0dXJuIGR9cmV0dXJuIHQuYnl0ZUxlbmd0aC1lLmJ5dGVMZW5ndGh9ZnVuY3Rpb24gZ3QodCl7cmV0dXJuIGNvbXBhcmUodCx0aGlzW2tVcHBlckJvdW5kXSk+MH1mdW5jdGlvbiBndGUodCl7cmV0dXJuIGNvbXBhcmUodCx0aGlzW2tVcHBlckJvdW5kXSk+PTB9ZnVuY3Rpb24gbHQodCl7cmV0dXJuIGNvbXBhcmUodCx0aGlzW2tVcHBlckJvdW5kXSk8MH1mdW5jdGlvbiBsdGUodCl7cmV0dXJuIGNvbXBhcmUodCx0aGlzW2tVcHBlckJvdW5kXSk8PTB9Y2xhc3MgTWVtb3J5SXRlcmF0b3IgZXh0ZW5kcyBBYnN0cmFjdEl0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoZSxuKSx0aGlzW2tJbml0XShlW2tUcmVlXSxuKX1fbmV4dChlKXtpZighdGhpc1trSXRlcmF0b3JdLnZhbGlkKXJldHVybiB0aGlzLm5leHRUaWNrKGUpO2NvbnN0IG49dGhpc1trSXRlcmF0b3JdLmtleSxvPXRoaXNba0l0ZXJhdG9yXS52YWx1ZTtpZighdGhpc1trVGVzdF0obikpcmV0dXJuIHRoaXMubmV4dFRpY2soZSk7dGhpc1trSXRlcmF0b3JdW3RoaXNba0FkdmFuY2VdXSgpLHRoaXMubmV4dFRpY2soZSxudWxsLG4sbyl9X25leHR2KGUsbixvKXtjb25zdCBkPXRoaXNba0l0ZXJhdG9yXSxoPVtdO2Zvcig7ZC52YWxpZCYmaC5sZW5ndGg8ZSYmdGhpc1trVGVzdF0oZC5rZXkpOyloLnB1c2goW2Qua2V5LGQudmFsdWVdKSxkW3RoaXNba0FkdmFuY2VdXSgpO3RoaXMubmV4dFRpY2sobyxudWxsLGgpfV9hbGwoZSxuKXtjb25zdCBvPXRoaXMubGltaXQtdGhpcy5jb3VudCxkPXRoaXNba0l0ZXJhdG9yXSxoPVtdO2Zvcig7ZC52YWxpZCYmaC5sZW5ndGg8byYmdGhpc1trVGVzdF0oZC5rZXkpOyloLnB1c2goW2Qua2V5LGQudmFsdWVdKSxkW3RoaXNba0FkdmFuY2VdXSgpO3RoaXMubmV4dFRpY2sobixudWxsLGgpfX1jbGFzcyBNZW1vcnlLZXlJdGVyYXRvciBleHRlbmRzIEFic3RyYWN0S2V5SXRlcmF0b3J7Y29uc3RydWN0b3IoZSxuKXtzdXBlcihlLG4pLHRoaXNba0luaXRdKGVba1RyZWVdLG4pfV9uZXh0KGUpe2lmKCF0aGlzW2tJdGVyYXRvcl0udmFsaWQpcmV0dXJuIHRoaXMubmV4dFRpY2soZSk7Y29uc3Qgbj10aGlzW2tJdGVyYXRvcl0ua2V5O2lmKCF0aGlzW2tUZXN0XShuKSlyZXR1cm4gdGhpcy5uZXh0VGljayhlKTt0aGlzW2tJdGVyYXRvcl1bdGhpc1trQWR2YW5jZV1dKCksdGhpcy5uZXh0VGljayhlLG51bGwsbil9X25leHR2KGUsbixvKXtjb25zdCBkPXRoaXNba0l0ZXJhdG9yXSxoPVtdO2Zvcig7ZC52YWxpZCYmaC5sZW5ndGg8ZSYmdGhpc1trVGVzdF0oZC5rZXkpOyloLnB1c2goZC5rZXkpLGRbdGhpc1trQWR2YW5jZV1dKCk7dGhpcy5uZXh0VGljayhvLG51bGwsaCl9X2FsbChlLG4pe2NvbnN0IG89dGhpcy5saW1pdC10aGlzLmNvdW50LGQ9dGhpc1trSXRlcmF0b3JdLGg9W107Zm9yKDtkLnZhbGlkJiZoLmxlbmd0aDxvJiZ0aGlzW2tUZXN0XShkLmtleSk7KWgucHVzaChkLmtleSksZFt0aGlzW2tBZHZhbmNlXV0oKTt0aGlzLm5leHRUaWNrKG4sbnVsbCxoKX19Y2xhc3MgTWVtb3J5VmFsdWVJdGVyYXRvciBleHRlbmRzIEFic3RyYWN0VmFsdWVJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKGUsbiksdGhpc1trSW5pdF0oZVtrVHJlZV0sbil9X25leHQoZSl7aWYoIXRoaXNba0l0ZXJhdG9yXS52YWxpZClyZXR1cm4gdGhpcy5uZXh0VGljayhlKTtjb25zdCBuPXRoaXNba0l0ZXJhdG9yXS5rZXksbz10aGlzW2tJdGVyYXRvcl0udmFsdWU7aWYoIXRoaXNba1Rlc3RdKG4pKXJldHVybiB0aGlzLm5leHRUaWNrKGUpO3RoaXNba0l0ZXJhdG9yXVt0aGlzW2tBZHZhbmNlXV0oKSx0aGlzLm5leHRUaWNrKGUsbnVsbCxvKX1fbmV4dHYoZSxuLG8pe2NvbnN0IGQ9dGhpc1trSXRlcmF0b3JdLGg9W107Zm9yKDtkLnZhbGlkJiZoLmxlbmd0aDxlJiZ0aGlzW2tUZXN0XShkLmtleSk7KWgucHVzaChkLnZhbHVlKSxkW3RoaXNba0FkdmFuY2VdXSgpO3RoaXMubmV4dFRpY2sobyxudWxsLGgpfV9hbGwoZSxuKXtjb25zdCBvPXRoaXMubGltaXQtdGhpcy5jb3VudCxkPXRoaXNba0l0ZXJhdG9yXSxoPVtdO2Zvcig7ZC52YWxpZCYmaC5sZW5ndGg8byYmdGhpc1trVGVzdF0oZC5rZXkpOyloLnB1c2goZC52YWx1ZSksZFt0aGlzW2tBZHZhbmNlXV0oKTt0aGlzLm5leHRUaWNrKG4sbnVsbCxoKX19Zm9yKGNvbnN0IHQgb2ZbTWVtb3J5SXRlcmF0b3IsTWVtb3J5S2V5SXRlcmF0b3IsTWVtb3J5VmFsdWVJdGVyYXRvcl0pdC5wcm90b3R5cGVba0luaXRdPWZ1bmN0aW9uKGUsbil7dGhpc1trUmV2ZXJzZV09bi5yZXZlcnNlLHRoaXNba09wdGlvbnNdPW4sdGhpc1trUmV2ZXJzZV0/KHRoaXNba0FkdmFuY2VdPSJwcmV2Iix0aGlzW2tMb3dlckJvdW5kXT0ibHRlImluIG4/bi5sdGU6Imx0ImluIG4/bi5sdDprTm9uZSx0aGlzW2tVcHBlckJvdW5kXT0iZ3RlImluIG4/bi5ndGU6Imd0ImluIG4/bi5ndDprTm9uZSx0aGlzW2tMb3dlckJvdW5kXT09PWtOb25lP3RoaXNba0l0ZXJhdG9yXT1lLmVuZDoibHRlImluIG4/dGhpc1trSXRlcmF0b3JdPWUubGUodGhpc1trTG93ZXJCb3VuZF0pOnRoaXNba0l0ZXJhdG9yXT1lLmx0KHRoaXNba0xvd2VyQm91bmRdKSx0aGlzW2tVcHBlckJvdW5kXSE9PWtOb25lJiYodGhpc1trVGVzdF09Imd0ZSJpbiBuP2d0ZTpndCkpOih0aGlzW2tBZHZhbmNlXT0ibmV4dCIsdGhpc1trTG93ZXJCb3VuZF09Imd0ZSJpbiBuP24uZ3RlOiJndCJpbiBuP24uZ3Q6a05vbmUsdGhpc1trVXBwZXJCb3VuZF09Imx0ZSJpbiBuP24ubHRlOiJsdCJpbiBuP24ubHQ6a05vbmUsdGhpc1trTG93ZXJCb3VuZF09PT1rTm9uZT90aGlzW2tJdGVyYXRvcl09ZS5iZWdpbjoiZ3RlImluIG4/dGhpc1trSXRlcmF0b3JdPWUuZ2UodGhpc1trTG93ZXJCb3VuZF0pOnRoaXNba0l0ZXJhdG9yXT1lLmd0KHRoaXNba0xvd2VyQm91bmRdKSx0aGlzW2tVcHBlckJvdW5kXSE9PWtOb25lJiYodGhpc1trVGVzdF09Imx0ZSJpbiBuP2x0ZTpsdCkpfSx0LnByb3RvdHlwZVtrVGVzdF09ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGVba091dE9mUmFuZ2VdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW2tUZXN0XShlKT90aGlzW2tMb3dlckJvdW5kXT09PWtOb25lPyExOnRoaXNba1JldmVyc2VdPyJsdGUiaW4gdGhpc1trT3B0aW9uc10/Y29tcGFyZShlLHRoaXNba0xvd2VyQm91bmRdKT4wOmNvbXBhcmUoZSx0aGlzW2tMb3dlckJvdW5kXSk+PTA6Imd0ZSJpbiB0aGlzW2tPcHRpb25zXT9jb21wYXJlKGUsdGhpc1trTG93ZXJCb3VuZF0pPDA6Y29tcGFyZShlLHRoaXNba0xvd2VyQm91bmRdKTw9MDohMH0sdC5wcm90b3R5cGUuX3NlZWs9ZnVuY3Rpb24oZSxuKXt0aGlzW2tPdXRPZlJhbmdlXShlKT8odGhpc1trSXRlcmF0b3JdPXRoaXNba0l0ZXJhdG9yXS50cmVlLmVuZCx0aGlzW2tJdGVyYXRvcl0ubmV4dCgpKTp0aGlzW2tSZXZlcnNlXT90aGlzW2tJdGVyYXRvcl09dGhpc1trSXRlcmF0b3JdLnRyZWUubGUoZSk6dGhpc1trSXRlcmF0b3JdPXRoaXNba0l0ZXJhdG9yXS50cmVlLmdlKGUpfTtjbGFzcyBNZW1vcnlMZXZlbCBleHRlbmRzIEFic3RyYWN0TGV2ZWx7Y29uc3RydWN0b3IoZSxuLG8pe2lmKHR5cGVvZiBlPT0ib2JqZWN0IiYmZSE9PW51bGwmJihuPWUpLHR5cGVvZiBlPT0iZnVuY3Rpb24ifHx0eXBlb2Ygbj09ImZ1bmN0aW9uInx8dHlwZW9mIG89PSJmdW5jdGlvbiIpdGhyb3cgbmV3IE1vZHVsZUVycm9yKCJUaGUgbGV2ZWx1cC1zdHlsZSBjYWxsYmFjayBhcmd1bWVudCBoYXMgYmVlbiByZW1vdmVkIix7Y29kZToiTEVWRUxfTEVHQUNZIn0pO2xldHtzdG9yZUVuY29kaW5nOmQsLi4uaH09bnx8e307aWYoZD1kfHwiYnVmZmVyIiwhWyJidWZmZXIiLCJ2aWV3IiwidXRmOCJdLmluY2x1ZGVzKGQpKXRocm93IG5ldyBNb2R1bGVFcnJvcigiVGhlIHN0b3JlRW5jb2Rpbmcgb3B0aW9uIG11c3QgYmUgJ2J1ZmZlcicsICd2aWV3JyBvciAndXRmOCciLHtjb2RlOiJMRVZFTF9FTkNPRElOR19OT1RfU1VQUE9SVEVEIn0pO3N1cGVyKHtzZWVrOiEwLHBlcm1hbmVuY2U6ITEsY3JlYXRlSWZNaXNzaW5nOiExLGVycm9ySWZFeGlzdHM6ITEsZW5jb2RpbmdzOntbZF06ITB9fSxoKSx0aGlzW2tUcmVlXT1jcmVhdGVSQlQoY29tcGFyZSl9X3B1dChlLG4sbyxkKXtjb25zdCBoPXRoaXNba1RyZWVdLmZpbmQoZSk7aC52YWxpZD90aGlzW2tUcmVlXT1oLnVwZGF0ZShuKTp0aGlzW2tUcmVlXT10aGlzW2tUcmVlXS5pbnNlcnQoZSxuKSx0aGlzLm5leHRUaWNrKGQpfV9nZXQoZSxuLG8pe2NvbnN0IGQ9dGhpc1trVHJlZV0uZ2V0KGUpO2lmKHR5cGVvZiBkPiJ1IilyZXR1cm4gdGhpcy5uZXh0VGljayhvLG5ldyBFcnJvcigiTm90Rm91bmQiKSk7dGhpcy5uZXh0VGljayhvLG51bGwsZCl9X2dldE1hbnkoZSxuLG8pe3RoaXMubmV4dFRpY2sobyxudWxsLGUubWFwKGQ9PnRoaXNba1RyZWVdLmdldChkKSkpfV9kZWwoZSxuLG8pe3RoaXNba1RyZWVdPXRoaXNba1RyZWVdLnJlbW92ZShlKSx0aGlzLm5leHRUaWNrKG8pfV9iYXRjaChlLG4sbyl7bGV0IGQ9dGhpc1trVHJlZV07Zm9yKGNvbnN0IGggb2YgZSl7Y29uc3QgbD1oLmtleSx1PWQuZmluZChsKTtoLnR5cGU9PT0icHV0Ij9kPXUudmFsaWQ/dS51cGRhdGUoaC52YWx1ZSk6ZC5pbnNlcnQobCxoLnZhbHVlKTpkPXUucmVtb3ZlKCl9dGhpc1trVHJlZV09ZCx0aGlzLm5leHRUaWNrKG8pfV9jbGVhcihlLG4pe2lmKGUubGltaXQ9PT0tMSYmIU9iamVjdC5rZXlzKGUpLnNvbWUoaXNSYW5nZU9wdGlvbikpcmV0dXJuIHRoaXNba1RyZWVdPWNyZWF0ZVJCVChjb21wYXJlKSx0aGlzLm5leHRUaWNrKG4pO2NvbnN0IG89dGhpcy5fa2V5cyh7Li4uZX0pLGQ9by5saW1pdDtsZXQgaD0wO2NvbnN0IGw9KCk9Pntmb3IobGV0IHU9MDt1PDUwMDt1Kyspe2lmKCsraD5kfHwhb1trSXRlcmF0b3JdLnZhbGlkfHwhb1trVGVzdF0ob1trSXRlcmF0b3JdLmtleSkpcmV0dXJuIG4oKTt0aGlzW2tUcmVlXT10aGlzW2tUcmVlXS5yZW1vdmUob1trSXRlcmF0b3JdLmtleSksb1trSXRlcmF0b3JdW29ba0FkdmFuY2VdXSgpfXRoaXMubmV4dFRpY2sobCl9O3RoaXMubmV4dFRpY2sobCl9X2l0ZXJhdG9yKGUpe3JldHVybiBuZXcgTWVtb3J5SXRlcmF0b3IodGhpcyxlKX1fa2V5cyhlKXtyZXR1cm4gbmV3IE1lbW9yeUtleUl0ZXJhdG9yKHRoaXMsZSl9X3ZhbHVlcyhlKXtyZXR1cm4gbmV3IE1lbW9yeVZhbHVlSXRlcmF0b3IodGhpcyxlKX19dmFyIE1lbW9yeUxldmVsXzE9TWVtb3J5TGV2ZWw7aWYodHlwZW9mIHByb2Nlc3M8InUiJiYhcHJvY2Vzcy5icm93c2VyJiZ0eXBlb2YgY29tbW9uanNHbG9iYWw8InUiJiZ0eXBlb2YgY29tbW9uanNHbG9iYWwuc2V0SW1tZWRpYXRlPT0iZnVuY3Rpb24iKXtjb25zdCB0PWNvbW1vbmpzR2xvYmFsLnNldEltbWVkaWF0ZTtNZW1vcnlMZXZlbC5wcm90b3R5cGUubmV4dFRpY2s9ZnVuY3Rpb24oZSwuLi5uKXtuLmxlbmd0aD09PTA/dChlKTp0KCgpPT5lKC4uLm4pKX19ZnVuY3Rpb24gaXNSYW5nZU9wdGlvbih0KXtyZXR1cm4gcmFuZ2VPcHRpb25zLmhhcyh0KX12YXIgcmRmRGF0YUZhY3Rvcnk9e30sQmxhbmtOb2RlJDE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KEJsYW5rTm9kZSQxLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtCbGFua05vZGUkMS5CbGFua05vZGU9dm9pZCAwO2NsYXNzIEJsYW5rTm9kZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnRlcm1UeXBlPSJCbGFua05vZGUiLHRoaXMudmFsdWU9ZX1lcXVhbHMoZSl7cmV0dXJuISFlJiZlLnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJmUudmFsdWU9PT10aGlzLnZhbHVlfX1CbGFua05vZGUkMS5CbGFua05vZGU9QmxhbmtOb2RlO3ZhciBEYXRhRmFjdG9yeSQyPXt9LERlZmF1bHRHcmFwaCQxPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZhdWx0R3JhcGgkMSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7RGVmYXVsdEdyYXBoJDEuRGVmYXVsdEdyYXBoPXZvaWQgMDtjbGFzcyBEZWZhdWx0R3JhcGh7Y29uc3RydWN0b3IoKXt0aGlzLnRlcm1UeXBlPSJEZWZhdWx0R3JhcGgiLHRoaXMudmFsdWU9IiJ9ZXF1YWxzKGUpe3JldHVybiEhZSYmZS50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgifX1EZWZhdWx0R3JhcGgkMS5EZWZhdWx0R3JhcGg9RGVmYXVsdEdyYXBoO0RlZmF1bHRHcmFwaC5JTlNUQU5DRT1uZXcgRGVmYXVsdEdyYXBoO3ZhciBMaXRlcmFsJDE9e30sTmFtZWROb2RlJDE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KE5hbWVkTm9kZSQxLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtOYW1lZE5vZGUkMS5OYW1lZE5vZGU9dm9pZCAwO2NsYXNzIE5hbWVkTm9kZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnRlcm1UeXBlPSJOYW1lZE5vZGUiLHRoaXMudmFsdWU9ZX1lcXVhbHMoZSl7cmV0dXJuISFlJiZlLnRlcm1UeXBlPT09Ik5hbWVkTm9kZSImJmUudmFsdWU9PT10aGlzLnZhbHVlfX1OYW1lZE5vZGUkMS5OYW1lZE5vZGU9TmFtZWROb2RlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXRlcmFsJDEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO0xpdGVyYWwkMS5MaXRlcmFsPXZvaWQgMDtjb25zdCBOYW1lZE5vZGVfMSQxPU5hbWVkTm9kZSQxO2NsYXNzIExpdGVyYWx7Y29uc3RydWN0b3IoZSxuKXt0aGlzLnRlcm1UeXBlPSJMaXRlcmFsIix0aGlzLnZhbHVlPWUsdHlwZW9mIG49PSJzdHJpbmciPyh0aGlzLmxhbmd1YWdlPW4sdGhpcy5kYXRhdHlwZT1MaXRlcmFsLlJERl9MQU5HVUFHRV9TVFJJTkcpOm4/KHRoaXMubGFuZ3VhZ2U9IiIsdGhpcy5kYXRhdHlwZT1uKToodGhpcy5sYW5ndWFnZT0iIix0aGlzLmRhdGF0eXBlPUxpdGVyYWwuWFNEX1NUUklORyl9ZXF1YWxzKGUpe3JldHVybiEhZSYmZS50ZXJtVHlwZT09PSJMaXRlcmFsIiYmZS52YWx1ZT09PXRoaXMudmFsdWUmJmUubGFuZ3VhZ2U9PT10aGlzLmxhbmd1YWdlJiZlLmRhdGF0eXBlLmVxdWFscyh0aGlzLmRhdGF0eXBlKX19TGl0ZXJhbCQxLkxpdGVyYWw9TGl0ZXJhbDtMaXRlcmFsLlJERl9MQU5HVUFHRV9TVFJJTkc9bmV3IE5hbWVkTm9kZV8xJDEuTmFtZWROb2RlKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjbGFuZ1N0cmluZyIpO0xpdGVyYWwuWFNEX1NUUklORz1uZXcgTmFtZWROb2RlXzEkMS5OYW1lZE5vZGUoImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZyIpO3ZhciBRdWFkJDI9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFF1YWQkMiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7UXVhZCQyLlF1YWQ9dm9pZCAwO2xldCBRdWFkJDE9Y2xhc3N7Y29uc3RydWN0b3IoZSxuLG8sZCl7dGhpcy50ZXJtVHlwZT0iUXVhZCIsdGhpcy52YWx1ZT0iIix0aGlzLnN1YmplY3Q9ZSx0aGlzLnByZWRpY2F0ZT1uLHRoaXMub2JqZWN0PW8sdGhpcy5ncmFwaD1kfWVxdWFscyhlKXtyZXR1cm4hIWUmJihlLnRlcm1UeXBlPT09IlF1YWQifHwhZS50ZXJtVHlwZSkmJnRoaXMuc3ViamVjdC5lcXVhbHMoZS5zdWJqZWN0KSYmdGhpcy5wcmVkaWNhdGUuZXF1YWxzKGUucHJlZGljYXRlKSYmdGhpcy5vYmplY3QuZXF1YWxzKGUub2JqZWN0KSYmdGhpcy5ncmFwaC5lcXVhbHMoZS5ncmFwaCl9fTtRdWFkJDIuUXVhZD1RdWFkJDE7dmFyIFZhcmlhYmxlJDE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFZhcmlhYmxlJDEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO1ZhcmlhYmxlJDEuVmFyaWFibGU9dm9pZCAwO2NsYXNzIFZhcmlhYmxle2NvbnN0cnVjdG9yKGUpe3RoaXMudGVybVR5cGU9IlZhcmlhYmxlIix0aGlzLnZhbHVlPWV9ZXF1YWxzKGUpe3JldHVybiEhZSYmZS50ZXJtVHlwZT09PSJWYXJpYWJsZSImJmUudmFsdWU9PT10aGlzLnZhbHVlfX1WYXJpYWJsZSQxLlZhcmlhYmxlPVZhcmlhYmxlO09iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRhRmFjdG9yeSQyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtEYXRhRmFjdG9yeSQyLkRhdGFGYWN0b3J5PXZvaWQgMDtjb25zdCBCbGFua05vZGVfMT1CbGFua05vZGUkMSxEZWZhdWx0R3JhcGhfMT1EZWZhdWx0R3JhcGgkMSxMaXRlcmFsXzE9TGl0ZXJhbCQxLE5hbWVkTm9kZV8xPU5hbWVkTm9kZSQxLFF1YWRfMT1RdWFkJDIsVmFyaWFibGVfMT1WYXJpYWJsZSQxO2xldCBkYXRhRmFjdG9yeUNvdW50ZXI9MCxEYXRhRmFjdG9yeSQxPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuYmxhbmtOb2RlQ291bnRlcj0wLGU9ZXx8e30sdGhpcy5ibGFua05vZGVQcmVmaXg9ZS5ibGFua05vZGVQcmVmaXh8fGBkZl8ke2RhdGFGYWN0b3J5Q291bnRlcisrfV9gfW5hbWVkTm9kZShlKXtyZXR1cm4gbmV3IE5hbWVkTm9kZV8xLk5hbWVkTm9kZShlKX1ibGFua05vZGUoZSl7cmV0dXJuIG5ldyBCbGFua05vZGVfMS5CbGFua05vZGUoZXx8YCR7dGhpcy5ibGFua05vZGVQcmVmaXh9JHt0aGlzLmJsYW5rTm9kZUNvdW50ZXIrK31gKX1saXRlcmFsKGUsbil7cmV0dXJuIG5ldyBMaXRlcmFsXzEuTGl0ZXJhbChlLG4pfXZhcmlhYmxlKGUpe3JldHVybiBuZXcgVmFyaWFibGVfMS5WYXJpYWJsZShlKX1kZWZhdWx0R3JhcGgoKXtyZXR1cm4gRGVmYXVsdEdyYXBoXzEuRGVmYXVsdEdyYXBoLklOU1RBTkNFfXF1YWQoZSxuLG8sZCl7cmV0dXJuIG5ldyBRdWFkXzEuUXVhZChlLG4sbyxkfHx0aGlzLmRlZmF1bHRHcmFwaCgpKX1mcm9tVGVybShlKXtzd2l0Y2goZS50ZXJtVHlwZSl7Y2FzZSJOYW1lZE5vZGUiOnJldHVybiB0aGlzLm5hbWVkTm9kZShlLnZhbHVlKTtjYXNlIkJsYW5rTm9kZSI6cmV0dXJuIHRoaXMuYmxhbmtOb2RlKGUudmFsdWUpO2Nhc2UiTGl0ZXJhbCI6cmV0dXJuIGUubGFuZ3VhZ2U/dGhpcy5saXRlcmFsKGUudmFsdWUsZS5sYW5ndWFnZSk6ZS5kYXRhdHlwZS5lcXVhbHMoTGl0ZXJhbF8xLkxpdGVyYWwuWFNEX1NUUklORyk/dGhpcy5saXRlcmFsKGUudmFsdWUpOnRoaXMubGl0ZXJhbChlLnZhbHVlLHRoaXMuZnJvbVRlcm0oZS5kYXRhdHlwZSkpO2Nhc2UiVmFyaWFibGUiOnJldHVybiB0aGlzLnZhcmlhYmxlKGUudmFsdWUpO2Nhc2UiRGVmYXVsdEdyYXBoIjpyZXR1cm4gdGhpcy5kZWZhdWx0R3JhcGgoKTtjYXNlIlF1YWQiOnJldHVybiB0aGlzLnF1YWQodGhpcy5mcm9tVGVybShlLnN1YmplY3QpLHRoaXMuZnJvbVRlcm0oZS5wcmVkaWNhdGUpLHRoaXMuZnJvbVRlcm0oZS5vYmplY3QpLHRoaXMuZnJvbVRlcm0oZS5ncmFwaCkpfX1mcm9tUXVhZChlKXtyZXR1cm4gdGhpcy5mcm9tVGVybShlKX1yZXNldEJsYW5rTm9kZUNvdW50ZXIoKXt0aGlzLmJsYW5rTm9kZUNvdW50ZXI9MH19O0RhdGFGYWN0b3J5JDIuRGF0YUZhY3Rvcnk9RGF0YUZhY3RvcnkkMTsoZnVuY3Rpb24odCl7dmFyIGU9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24obyxkLGgsbCl7bD09PXZvaWQgMCYmKGw9aCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sbCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZFtoXX19KX06ZnVuY3Rpb24obyxkLGgsbCl7bD09PXZvaWQgMCYmKGw9aCksb1tsXT1kW2hdfSksbj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19leHBvcnRTdGFyfHxmdW5jdGlvbihvLGQpe2Zvcih2YXIgaCBpbiBvKWghPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxoKSYmZShkLG8saCl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuKEJsYW5rTm9kZSQxLHQpLG4oRGF0YUZhY3RvcnkkMix0KSxuKERlZmF1bHRHcmFwaCQxLHQpLG4oTGl0ZXJhbCQxLHQpLG4oTmFtZWROb2RlJDEsdCksbihRdWFkJDIsdCksbihWYXJpYWJsZSQxLHQpfSkocmRmRGF0YUZhY3RvcnkpO3ZhciBSZXN1bHRUeXBlOyhmdW5jdGlvbih0KXt0LlZPSUQ9InZvaWQiLHQuUVVBRFM9InF1YWRzIix0LkFQUFJPWElNQVRFX1NJWkU9ImFwcHJveGltYXRlX3NpemUifSkoUmVzdWx0VHlwZXx8KFJlc3VsdFR5cGU9e30pKTtjbGFzcyBMaW5rZWRMaXN0e2NvbnN0cnVjdG9yKCl7dGhpcy5fbGVuZ3RoPTAsdGhpcy5faGVhZD1udWxsLHRoaXMuX3RhaWw9bnVsbH1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX2xlbmd0aH1nZXQgZmlyc3QoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9oZWFkKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudmFsdWV9Z2V0IGxhc3QoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl90YWlsKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudmFsdWV9Z2V0IGVtcHR5KCl7cmV0dXJuIHRoaXMuX2hlYWQ9PT1udWxsfXB1c2goZSl7Y29uc3Qgbj17dmFsdWU6ZSxuZXh0Om51bGx9O3RoaXMuX3RhaWw9PT1udWxsP3RoaXMuX2hlYWQ9dGhpcy5fdGFpbD1uOnRoaXMuX3RhaWwubmV4dD10aGlzLl90YWlsPW4sdGhpcy5fbGVuZ3RoKyt9c2hpZnQoKXtpZih0aGlzLl9oZWFkPT09bnVsbClyZXR1cm47Y29uc3R7dmFsdWU6ZSxuZXh0Om59PXRoaXMuX2hlYWQ7cmV0dXJuIHRoaXMuX2hlYWQ9bixuPT09bnVsbCYmKHRoaXMuX3RhaWw9bnVsbCksdGhpcy5fbGVuZ3RoLS0sZX1jbGVhcigpe3RoaXMuX2xlbmd0aD0wLHRoaXMuX2hlYWQ9dGhpcy5fdGFpbD1udWxsfX1jb25zdCByZXNvbHZlZD1Qcm9taXNlLnJlc29sdmUodm9pZCAwKTtmdW5jdGlvbiBjcmVhdGVUYXNrU2NoZWR1bGVyKCl7Y29uc3QgdD10eXBlb2YgcXVldWVNaWNyb3Rhc2s9PSJmdW5jdGlvbiI/cXVldWVNaWNyb3Rhc2s6ZD0+cmVzb2x2ZWQudGhlbihkKSxlPXR5cGVvZiBzZXRJbW1lZGlhdGU9PSJmdW5jdGlvbiI/c2V0SW1tZWRpYXRlOmQ9PnNldFRpbWVvdXQoZCwwKTtsZXQgbj0wLG89bnVsbDtyZXR1cm4gZD0+e28hPT1udWxsP28ucHVzaChkKTorK248MTAwP3QoZCk6KG89W2RdLGUoKCk9Pntmb3IoY29uc3QgaCBvZiBvKXQoaCk7bz1udWxsLG49MH0pKX19bGV0IHRhc2tTY2hlZHVsZXI9Y3JlYXRlVGFza1NjaGVkdWxlcigpO2Z1bmN0aW9uIHNjaGVkdWxlVGFzayh0KXt0YXNrU2NoZWR1bGVyKHQpfWZ1bmN0aW9uIGdldFRhc2tTY2hlZHVsZXIoKXtyZXR1cm4gdGFza1NjaGVkdWxlcn1mdW5jdGlvbiBzZXRUYXNrU2NoZWR1bGVyKHQpe3Rhc2tTY2hlZHVsZXI9dH1jb25zdCBJTklUPTE8PDAsT1BFTj0xPDwxLENMT1NJTkc9MTw8MixDTE9TRUQ9MTw8MyxFTkRFRD0xPDw0LERFU1RST1lFRD0xPDw1O2NsYXNzIEFzeW5jSXRlcmF0b3IgZXh0ZW5kcyBldmVudHNFeHBvcnRzLkV2ZW50RW1pdHRlcntjb25zdHJ1Y3RvcihlPU9QRU4pe3N1cGVyKCksdGhpcy5fcmVhZGFibGU9ITEsdGhpcy5fc3RhdGU9ZSx0aGlzLm9uKCJuZXdMaXN0ZW5lciIsd2FpdEZvckRhdGFMaXN0ZW5lcil9X2NoYW5nZVN0YXRlKGUsbj0hMSl7Y29uc3Qgbz1lPnRoaXMuX3N0YXRlJiZ0aGlzLl9zdGF0ZTxFTkRFRDtyZXR1cm4gbyYmKHRoaXMuX3N0YXRlPWUsZT09PUVOREVEJiYobj90YXNrU2NoZWR1bGVyKCgpPT50aGlzLmVtaXQoImVuZCIpKTp0aGlzLmVtaXQoImVuZCIpKSksb31yZWFkKCl7cmV0dXJuIG51bGx9Zm9yRWFjaChlLG4pe3RoaXMub24oImRhdGEiLGJpbmQoZSxuKSl9Y2xvc2UoKXt0aGlzLl9jaGFuZ2VTdGF0ZShDTE9TRUQpJiZ0aGlzLl9lbmRBc3luYygpfWRlc3Ryb3koZSl7dGhpcy5kb25lfHx0aGlzLl9kZXN0cm95KGUsbj0+e2U9ZXx8bixlJiZ0aGlzLmVtaXQoImVycm9yIixlKSx0aGlzLl9lbmQoITApfSl9X2Rlc3Ryb3koZSxuKXtuKCl9X2VuZChlPSExKXt0aGlzLl9jaGFuZ2VTdGF0ZShlP0RFU1RST1lFRDpFTkRFRCkmJih0aGlzLl9yZWFkYWJsZT0hMSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVhZGFibGUiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygiZGF0YSIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJlbmQiKSl9X2VuZEFzeW5jKCl7dGFza1NjaGVkdWxlcigoKT0+dGhpcy5fZW5kKCkpfWdldCByZWFkYWJsZSgpe3JldHVybiB0aGlzLl9yZWFkYWJsZX1zZXQgcmVhZGFibGUoZSl7ZT0hIWUmJiF0aGlzLmRvbmUsdGhpcy5fcmVhZGFibGUhPT1lJiYodGhpcy5fcmVhZGFibGU9ZSxlJiZ0YXNrU2NoZWR1bGVyKCgpPT50aGlzLmVtaXQoInJlYWRhYmxlIikpKX1nZXQgY2xvc2VkKCl7cmV0dXJuIHRoaXMuX3N0YXRlPj1DTE9TSU5HfWdldCBlbmRlZCgpe3JldHVybiB0aGlzLl9zdGF0ZT09PUVOREVEfWdldCBkZXN0cm95ZWQoKXtyZXR1cm4gdGhpcy5fc3RhdGU9PT1ERVNUUk9ZRUR9Z2V0IGRvbmUoKXtyZXR1cm4gdGhpcy5fc3RhdGU+PUVOREVEfXRvU3RyaW5nKCl7Y29uc3QgZT10aGlzLl90b1N0cmluZ0RldGFpbHMoKTtyZXR1cm5gWyR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfSR7ZT9gICR7ZX1gOiIifV1gfV90b1N0cmluZ0RldGFpbHMoKXtyZXR1cm4iIn10b0FycmF5KGUpe2NvbnN0IG49W10sbz10eXBlb2YgZT8ubGltaXQ9PSJudW1iZXIiP2UubGltaXQ6MS8wO3JldHVybiB0aGlzLmVuZGVkfHxvPD0wP1Byb21pc2UucmVzb2x2ZShuKTpuZXcgUHJvbWlzZSgoZCxoKT0+e2NvbnN0IGw9KCk9PmQobiksdT1wPT57bi5wdXNoKHApLG4ubGVuZ3RoPj1vJiYodGhpcy5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGgpLHRoaXMucmVtb3ZlTGlzdGVuZXIoImRhdGEiLHUpLHRoaXMucmVtb3ZlTGlzdGVuZXIoImVuZCIsbCksZChuKSl9O3RoaXMub24oImVycm9yIixoKSx0aGlzLm9uKCJkYXRhIix1KSx0aGlzLm9uKCJlbmQiLGwpfSl9Z2V0UHJvcGVydHkoZSxuKXtjb25zdCBvPXRoaXMuX3Byb3BlcnRpZXM7aWYoIW4pcmV0dXJuIG8mJm9bZV07aWYobyYmZSBpbiBvKXRhc2tTY2hlZHVsZXIoKCk9Pm4ob1tlXSkpO2Vsc2V7bGV0IGQ7KGQ9dGhpcy5fcHJvcGVydHlDYWxsYmFja3MpfHwodGhpcy5fcHJvcGVydHlDYWxsYmFja3M9ZD1PYmplY3QuY3JlYXRlKG51bGwpKSxlIGluIGQ/ZFtlXS5wdXNoKG4pOmRbZV09W25dfX1zZXRQcm9wZXJ0eShlLG4pe2NvbnN0IG89dGhpcy5fcHJvcGVydGllc3x8KHRoaXMuX3Byb3BlcnRpZXM9T2JqZWN0LmNyZWF0ZShudWxsKSk7b1tlXT1uO2NvbnN0IGQ9dGhpcy5fcHJvcGVydHlDYWxsYmFja3N8fHt9LGg9ZFtlXTtpZihoKXtkZWxldGUgZFtlXSx0YXNrU2NoZWR1bGVyKCgpPT57Zm9yKGNvbnN0IGwgb2YgaClsKG4pfSk7Zm9yKGUgaW4gZClyZXR1cm47ZGVsZXRlIHRoaXMuX3Byb3BlcnR5Q2FsbGJhY2tzfX1nZXRQcm9wZXJ0aWVzKCl7Y29uc3QgZT10aGlzLl9wcm9wZXJ0aWVzLG49e307Zm9yKGNvbnN0IG8gaW4gZSluW29dPWVbb107cmV0dXJuIG59c2V0UHJvcGVydGllcyhlKXtmb3IoY29uc3QgbiBpbiBlKXRoaXMuc2V0UHJvcGVydHkobixlW25dKX1jb3B5UHJvcGVydGllcyhlLG4pe2Zvcihjb25zdCBvIG9mIG4pZS5nZXRQcm9wZXJ0eShvLGQ9PnRoaXMuc2V0UHJvcGVydHkobyxkKSl9dHJhbnNmb3JtKGUpe3JldHVybiBuZXcgU2ltcGxlVHJhbnNmb3JtSXRlcmF0b3IodGhpcyxlKX1tYXAoZSxuKXtyZXR1cm4gbmV3IE1hcHBpbmdJdGVyYXRvcih0aGlzLGJpbmQoZSxuKSl9ZmlsdGVyKGUsbil7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKG8pe3JldHVybiBlLmNhbGwobnx8dGhpcyxvKT9vOm51bGx9KX11bmlxKGU9aWRlbnRpdHkkMyl7Y29uc3Qgbj1uZXcgU2V0O3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihvKXtjb25zdCBkPWUuY2FsbCh0aGlzLG8pO3JldHVybiBuLmhhcyhkKT8hMToobi5hZGQoZCksITApfSl9cHJlcGVuZChlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0oe3ByZXBlbmQ6ZX0pfWFwcGVuZChlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0oe2FwcGVuZDplfSl9c3Vycm91bmQoZSxuKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0oe3ByZXBlbmQ6ZSxhcHBlbmQ6bn0pfXNraXAoZSl7cmV0dXJuIHRoaXMubWFwKG49PmUtLSA+MD9udWxsOm4pfXRha2UoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtKHtsaW1pdDplfSl9cmFuZ2UoZSxuKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0oe29mZnNldDplLGxpbWl0Ok1hdGgubWF4KG4tZSsxLDApfSl9Y2xvbmUoKXtyZXR1cm4gbmV3IENsb25lZEl0ZXJhdG9yKHRoaXMpfX1mdW5jdGlvbiB3YWl0Rm9yRGF0YUxpc3RlbmVyKHQpe3Q9PT0iZGF0YSImJih0aGlzLnJlbW92ZUxpc3RlbmVyKCJuZXdMaXN0ZW5lciIsd2FpdEZvckRhdGFMaXN0ZW5lciksYWRkU2luZ2xlTGlzdGVuZXIodGhpcywicmVhZGFibGUiLGVtaXREYXRhKSx0aGlzLnJlYWRhYmxlJiZ0YXNrU2NoZWR1bGVyKCgpPT5lbWl0RGF0YS5jYWxsKHRoaXMpKSl9ZnVuY3Rpb24gZW1pdERhdGEoKXtsZXQgdDtmb3IoO3RoaXMubGlzdGVuZXJDb3VudCgiZGF0YSIpIT09MCYmKHQ9dGhpcy5yZWFkKCkpIT09bnVsbDspdGhpcy5lbWl0KCJkYXRhIix0KTt0aGlzLmxpc3RlbmVyQ291bnQoImRhdGEiKT09PTAmJiF0aGlzLmRvbmUmJih0aGlzLnJlbW92ZUxpc3RlbmVyKCJyZWFkYWJsZSIsZW1pdERhdGEpLGFkZFNpbmdsZUxpc3RlbmVyKHRoaXMsIm5ld0xpc3RlbmVyIix3YWl0Rm9yRGF0YUxpc3RlbmVyKSl9ZnVuY3Rpb24gYWRkU2luZ2xlTGlzdGVuZXIodCxlLG4pe3QubGlzdGVuZXJzKGUpLmluY2x1ZGVzKG4pfHx0Lm9uKGUsbil9Y2xhc3MgRW1wdHlJdGVyYXRvciBleHRlbmRzIEFzeW5jSXRlcmF0b3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuX2NoYW5nZVN0YXRlKEVOREVELCEwKX19Y2xhc3MgU2luZ2xldG9uSXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5faXRlbT1lLGU9PT1udWxsP3RoaXMuY2xvc2UoKTp0aGlzLnJlYWRhYmxlPSEwfXJlYWQoKXtjb25zdCBlPXRoaXMuX2l0ZW07cmV0dXJuIHRoaXMuX2l0ZW09bnVsbCx0aGlzLmNsb3NlKCksZX1fdG9TdHJpbmdEZXRhaWxzKCl7cmV0dXJuIHRoaXMuX2l0ZW09PT1udWxsPyIiOmAoJHt0aGlzLl9pdGVtfSlgfX1jbGFzcyBBcnJheUl0ZXJhdG9yIGV4dGVuZHMgQXN5bmNJdGVyYXRvcntjb25zdHJ1Y3RvcihlPVtdLHthdXRvU3RhcnQ6bj0hMCxwcmVzZXJ2ZTpvPSEwfT17fSl7c3VwZXIoKTtjb25zdCBkPW98fCFBcnJheS5pc0FycmF5KGUpP1suLi5lXTplO3RoaXMuX2luZGV4PTAsdGhpcy5fc291cmNlU3RhcnRlZD1uIT09ITEsdGhpcy5fdHJ1bmNhdGVUaHJlc2hvbGQ9bz8tMTo2NCx0aGlzLl9zb3VyY2VTdGFydGVkJiZkLmxlbmd0aD09PTA/dGhpcy5jbG9zZSgpOnRoaXMuX2J1ZmZlcj1kLHRoaXMucmVhZGFibGU9ITB9cmVhZCgpe3RoaXMuX3NvdXJjZVN0YXJ0ZWR8fCh0aGlzLl9zb3VyY2VTdGFydGVkPSEwKTtsZXQgZT1udWxsO3JldHVybiB0aGlzLl9idWZmZXImJih0aGlzLl9pbmRleDx0aGlzLl9idWZmZXIubGVuZ3RoJiYoZT10aGlzLl9idWZmZXJbdGhpcy5faW5kZXgrK10pLHRoaXMuX2luZGV4PT09dGhpcy5fYnVmZmVyLmxlbmd0aD8oZGVsZXRlIHRoaXMuX2J1ZmZlcix0aGlzLmNsb3NlKCkpOnRoaXMuX2luZGV4PT09dGhpcy5fdHJ1bmNhdGVUaHJlc2hvbGQmJih0aGlzLl9idWZmZXIuc3BsaWNlKDAsdGhpcy5fdHJ1bmNhdGVUaHJlc2hvbGQpLHRoaXMuX2luZGV4PTApKSxlfV90b1N0cmluZ0RldGFpbHMoKXtyZXR1cm5gKCR7dGhpcy5fYnVmZmVyP3RoaXMuX2J1ZmZlci5sZW5ndGgtdGhpcy5faW5kZXg6MH0pYH1fZGVzdHJveShlLG4pe2RlbGV0ZSB0aGlzLl9idWZmZXIsbigpfXRvQXJyYXkoZT17fSl7aWYoIXRoaXMuX2J1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtjb25zdHtsZW5ndGg6bn09dGhpcy5fYnVmZmVyLG89dGhpcy5faW5kZXgsZD10eXBlb2YgZS5saW1pdCE9Im51bWJlciI/bjpvK2UubGltaXQsaD10aGlzLl9idWZmZXIuc2xpY2UobyxkKTtyZXR1cm4gdGhpcy5faW5kZXg9ZCxkPj1uJiZ0aGlzLmNsb3NlKCksUHJvbWlzZS5yZXNvbHZlKGgpfX1jbGFzcyBJbnRlZ2VySXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKHtzdGFydDplPTAsc3RlcDpuPTEsZW5kOm99PXt9KXtzdXBlcigpLE51bWJlci5pc0Zpbml0ZShlKSYmKGU9TWF0aC50cnVuYyhlKSksdGhpcy5fbmV4dD1lLE51bWJlci5pc0Zpbml0ZShuKSYmKG49TWF0aC50cnVuYyhuKSksdGhpcy5fc3RlcD1uO2NvbnN0IGQ9bj49MCxoPWQ/MS8wOi0xLzA7TnVtYmVyLmlzRmluaXRlKG8pP289TWF0aC50cnVuYyhvKTpvIT09LWgmJihvPWgpLHRoaXMuX2xhc3Q9bywhTnVtYmVyLmlzRmluaXRlKGUpfHwoZD9lPm86ZTxvKT90aGlzLmNsb3NlKCk6dGhpcy5yZWFkYWJsZT0hMH1yZWFkKCl7aWYodGhpcy5jbG9zZWQpcmV0dXJuIG51bGw7Y29uc3QgZT10aGlzLl9uZXh0LG49dGhpcy5fc3RlcCxvPXRoaXMuX2xhc3QsZD10aGlzLl9uZXh0Kz1uO3JldHVybihuPj0wP2Q+bzpkPG8pJiZ0aGlzLmNsb3NlKCksZX1fdG9TdHJpbmdEZXRhaWxzKCl7cmV0dXJuYCgke3RoaXMuX25leHR9Li4uJHt0aGlzLl9sYXN0fSlgfX1mdW5jdGlvbiBpZGVudGl0eSQzKHQpe3JldHVybiB0fWNvbnN0IERFU1RJTkFUSU9OPVN5bWJvbCgiZGVzdGluYXRpb24iKTtjbGFzcyBNYXBwaW5nSXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbj1pZGVudGl0eSQzLG89e30pe3N1cGVyKCksdGhpcy5fbWFwPW4sdGhpcy5fc291cmNlPWVuc3VyZVNvdXJjZUF2YWlsYWJsZShlKSx0aGlzLl9kZXN0cm95U291cmNlPW8uZGVzdHJveVNvdXJjZSE9PSExLGUuZG9uZT90aGlzLmNsb3NlKCk6KHRoaXMuX3NvdXJjZVtERVNUSU5BVElPTl09dGhpcyx0aGlzLl9zb3VyY2Uub24oImVuZCIsZGVzdGluYXRpb25DbG9zZSksdGhpcy5fc291cmNlLm9uKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpLHRoaXMuX3NvdXJjZS5vbigicmVhZGFibGUiLGRlc3RpbmF0aW9uU2V0UmVhZGFibGUpLHRoaXMucmVhZGFibGU9dGhpcy5fc291cmNlLnJlYWRhYmxlKX1yZWFkKCl7aWYoIXRoaXMuZG9uZSl7aWYodGhpcy5fc291cmNlLnJlYWRhYmxlKXtsZXQgZSxuO2Zvcig7KGU9dGhpcy5fc291cmNlLnJlYWQoKSkhPT1udWxsOylpZigobj10aGlzLl9tYXAoZSkpIT09bnVsbClyZXR1cm4gbn10aGlzLnJlYWRhYmxlPSExLHRoaXMuX3NvdXJjZS5kb25lJiZ0aGlzLmNsb3NlKCl9cmV0dXJuIG51bGx9X2VuZChlKXt0aGlzLl9zb3VyY2UucmVtb3ZlTGlzdGVuZXIoImVuZCIsZGVzdGluYXRpb25DbG9zZSksdGhpcy5fc291cmNlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpLHRoaXMuX3NvdXJjZS5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLGRlc3RpbmF0aW9uU2V0UmVhZGFibGUpLGRlbGV0ZSB0aGlzLl9zb3VyY2VbREVTVElOQVRJT05dLHRoaXMuX2Rlc3Ryb3lTb3VyY2UmJnRoaXMuX3NvdXJjZS5kZXN0cm95KCksc3VwZXIuX2VuZChlKX19ZnVuY3Rpb24gZW5zdXJlU291cmNlQXZhaWxhYmxlKHQsZT0hMSl7aWYoIXR8fCFpc0Z1bmN0aW9uJDEodC5yZWFkKXx8IWlzRnVuY3Rpb24kMSh0Lm9uKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHNvdXJjZTogJHt0fWApO2lmKCFlJiZ0W0RFU1RJTkFUSU9OXSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzb3VyY2UgYWxyZWFkeSBoYXMgYSBkZXN0aW5hdGlvbiIpO3JldHVybiB0fWNsYXNzIEJ1ZmZlcmVkSXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKHttYXhCdWZmZXJTaXplOmU9NCxhdXRvU3RhcnQ6bj0hMH09e30pe3N1cGVyKElOSVQpLHRoaXMuX2J1ZmZlcj1uZXcgTGlua2VkTGlzdCx0aGlzLl9tYXhCdWZmZXJTaXplPTQsdGhpcy5fcmVhZGluZz0hMCx0aGlzLl9wdXNoZWRDb3VudD0wLHRoaXMubWF4QnVmZmVyU2l6ZT1lLHRhc2tTY2hlZHVsZXIoKCk9PnRoaXMuX2luaXQobikpLHRoaXMuX3NvdXJjZVN0YXJ0ZWQ9biE9PSExfWdldCBtYXhCdWZmZXJTaXplKCl7cmV0dXJuIHRoaXMuX21heEJ1ZmZlclNpemV9c2V0IG1heEJ1ZmZlclNpemUoZSl7ZSE9PTEvMCYmKGU9TnVtYmVyLmlzRmluaXRlKGUpP01hdGgubWF4KE1hdGgudHJ1bmMoZSksMSk6NCksdGhpcy5fbWF4QnVmZmVyU2l6ZSE9PWUmJih0aGlzLl9tYXhCdWZmZXJTaXplPWUsdGhpcy5fc3RhdGU9PT1PUEVOJiZ0aGlzLl9maWxsQnVmZmVyKCkpfV9pbml0KGUpe2xldCBuPSExO3RoaXMuX3JlYWRpbmc9ITAsdGhpcy5fYmVnaW4oKCk9PntpZihuKXRocm93IG5ldyBFcnJvcigiZG9uZSBjYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMiKTtuPSEwLHRoaXMuX3JlYWRpbmc9ITEsdGhpcy5fY2hhbmdlU3RhdGUoT1BFTiksZT90aGlzLl9maWxsQnVmZmVyQXN5bmMoKTp0aGlzLnJlYWRhYmxlPSEwfSl9X2JlZ2luKGUpe2UoKX1yZWFkKCl7aWYodGhpcy5kb25lKXJldHVybiBudWxsO3RoaXMuX3NvdXJjZVN0YXJ0ZWR8fCh0aGlzLl9zb3VyY2VTdGFydGVkPSEwKTtjb25zdCBlPXRoaXMuX2J1ZmZlcjtsZXQgbjtyZXR1cm4gZS5lbXB0eT8obj1udWxsLHRoaXMucmVhZGFibGU9ITEpOm49ZS5zaGlmdCgpLCF0aGlzLl9yZWFkaW5nJiZlLmxlbmd0aDx0aGlzLl9tYXhCdWZmZXJTaXplJiYodGhpcy5jbG9zZWQ/ZS5lbXB0eSYmdGhpcy5fZW5kQXN5bmMoKTp0aGlzLl9maWxsQnVmZmVyQXN5bmMoKSksbn1fcmVhZChlLG4pe24oKX1fcHVzaChlKXt0aGlzLmRvbmV8fCh0aGlzLl9wdXNoZWRDb3VudCsrLHRoaXMuX2J1ZmZlci5wdXNoKGUpLHRoaXMucmVhZGFibGU9ITApfV9maWxsQnVmZmVyKCl7bGV0IGU7dGhpcy5fcmVhZGluZ3x8KHRoaXMuY2xvc2VkP3RoaXMuX2NvbXBsZXRlQ2xvc2UoKTooZT1NYXRoLm1pbih0aGlzLl9tYXhCdWZmZXJTaXplLXRoaXMuX2J1ZmZlci5sZW5ndGgsMTI4KSk+MCYmKHRoaXMuX3B1c2hlZENvdW50PTAsdGhpcy5fcmVhZGluZz0hMCx0aGlzLl9yZWFkKGUsKCk9PntpZighZSl0aHJvdyBuZXcgRXJyb3IoImRvbmUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzIik7ZT0wLHRoaXMuX3JlYWRpbmc9ITEsdGhpcy5jbG9zZWQ/dGhpcy5fY29tcGxldGVDbG9zZSgpOnRoaXMuX3B1c2hlZENvdW50JiYodGhpcy5yZWFkYWJsZT0hMCx0aGlzLl9idWZmZXIubGVuZ3RoPHRoaXMuX21heEJ1ZmZlclNpemUvMiYmdGhpcy5fZmlsbEJ1ZmZlckFzeW5jKCkpfSkpKX1fZmlsbEJ1ZmZlckFzeW5jKCl7dGhpcy5fcmVhZGluZ3x8KHRoaXMuX3JlYWRpbmc9ITAsdGFza1NjaGVkdWxlcigoKT0+e3RoaXMuX3JlYWRpbmc9ITEsdGhpcy5fZmlsbEJ1ZmZlcigpfSkpfWNsb3NlKCl7dGhpcy5fcmVhZGluZz90aGlzLl9jaGFuZ2VTdGF0ZShDTE9TSU5HKTp0aGlzLl9jb21wbGV0ZUNsb3NlKCl9X2NvbXBsZXRlQ2xvc2UoKXt0aGlzLl9jaGFuZ2VTdGF0ZShDTE9TRUQpJiYodGhpcy5fcmVhZGluZz0hMCx0aGlzLl9mbHVzaCgoKT0+e2lmKCF0aGlzLl9yZWFkaW5nKXRocm93IG5ldyBFcnJvcigiZG9uZSBjYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMiKTt0aGlzLl9yZWFkaW5nPSExLHRoaXMuX2J1ZmZlci5lbXB0eSYmdGhpcy5fZW5kQXN5bmMoKX0pKX1fZGVzdHJveShlLG4pe3RoaXMuX2J1ZmZlci5jbGVhcigpLG4oKX1fZmx1c2goZSl7ZSgpfV90b1N0cmluZ0RldGFpbHMoKXtjb25zdCBlPXRoaXMuX2J1ZmZlcjtyZXR1cm5geyR7ZS5lbXB0eT8iIjpgbmV4dDogJHtlLmZpcnN0fSwgYH1idWZmZXI6ICR7ZS5sZW5ndGh9fWB9fWNsYXNzIFRyYW5zZm9ybUl0ZXJhdG9yIGV4dGVuZHMgQnVmZmVyZWRJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG49ZXx8e30pe3N1cGVyKG4pLHRoaXMuX2JvdW5kUHVzaD1vPT50aGlzLl9wdXNoKG8pLGlzU291cmNlRXhwcmVzc2lvbihlKXx8KGU9bi5zb3VyY2UpLGlzRXZlbnRFbWl0dGVyKGUpP3RoaXMuc291cmNlPWU6ZSYmKHRoaXMuX2NyZWF0ZVNvdXJjZT1pc1Byb21pc2UoZSk/KCk9PmU6ZSx0aGlzLl9zb3VyY2VTdGFydGVkJiZ0aGlzLl9sb2FkU291cmNlQXN5bmMoKSksdGhpcy5fb3B0aW9uYWw9ISFuLm9wdGlvbmFsLHRoaXMuX2Rlc3Ryb3lTb3VyY2U9bi5kZXN0cm95U291cmNlIT09ITF9Z2V0IHNvdXJjZSgpe3JldHVybiBpc0Z1bmN0aW9uJDEodGhpcy5fY3JlYXRlU291cmNlKSYmdGhpcy5fbG9hZFNvdXJjZUFzeW5jKCksdGhpcy5fc291cmNlfXNldCBzb3VyY2UoZSl7Y29uc3Qgbj10aGlzLl9zb3VyY2U9dGhpcy5fdmFsaWRhdGVTb3VyY2UoZSk7bltERVNUSU5BVElPTl09dGhpcyx0aGlzLmRvbmU/dGhpcy5fZGVzdHJveVNvdXJjZSYmbi5kZXN0cm95KCk6bi5kb25lP3RoaXMuY2xvc2UoKToobi5vbigiZW5kIixkZXN0aW5hdGlvbkNsb3NlV2hlbkRvbmUpLG4ub24oInJlYWRhYmxlIixkZXN0aW5hdGlvbkZpbGxCdWZmZXIpLG4ub24oImVycm9yIixkZXN0aW5hdGlvbkVtaXRFcnJvcikpfV9sb2FkU291cmNlQXN5bmMoKXtpc0Z1bmN0aW9uJDEodGhpcy5fY3JlYXRlU291cmNlKSYmKFByb21pc2UucmVzb2x2ZSh0aGlzLl9jcmVhdGVTb3VyY2UoKSkudGhlbihlPT57ZGVsZXRlIHRoaXMuX2NyZWF0ZVNvdXJjZSx0aGlzLnNvdXJjZT1lLHRoaXMuX2ZpbGxCdWZmZXIoKX0sZT0+dGhpcy5lbWl0KCJlcnJvciIsZSkpLHRoaXMuX2NyZWF0ZVNvdXJjZT1udWxsKX1fdmFsaWRhdGVTb3VyY2UoZSxuPSExKXtpZih0aGlzLl9zb3VyY2V8fHR5cGVvZiB0aGlzLl9jcmVhdGVTb3VyY2U8InUiKXRocm93IG5ldyBFcnJvcigiVGhlIHNvdXJjZSBjYW5ub3QgYmUgY2hhbmdlZCBhZnRlciBpdCBoYXMgYmVlbiBzZXQiKTtyZXR1cm4gZW5zdXJlU291cmNlQXZhaWxhYmxlKGUsbil9X3JlYWQoZSxuKXtjb25zdCBvPSgpPT57dGhpcy5fcHVzaGVkQ291bnQ8ZSYmIXRoaXMuY2xvc2VkP3Rhc2tTY2hlZHVsZXIoKCk9PnRoaXMuX3JlYWRBbmRUcmFuc2Zvcm0obyxuKSk6bigpfTt0aGlzLl9yZWFkQW5kVHJhbnNmb3JtKG8sbil9X3JlYWRBbmRUcmFuc2Zvcm0oZSxuKXtsZXQgbztjb25zdCBkPXRoaXMuc291cmNlOyFkfHxkLmRvbmV8fChvPWQucmVhZCgpKT09PW51bGw/bigpOnRoaXMuX29wdGlvbmFsP3RoaXMuX29wdGlvbmFsVHJhbnNmb3JtKG8sZSk6dGhpcy5fdHJhbnNmb3JtKG8sZSx0aGlzLl9ib3VuZFB1c2gpfV9vcHRpb25hbFRyYW5zZm9ybShlLG4pe2NvbnN0IG89dGhpcy5fcHVzaGVkQ291bnQ7dGhpcy5fdHJhbnNmb3JtKGUsKCk9PntvPT09dGhpcy5fcHVzaGVkQ291bnQmJnRoaXMuX3B1c2goZSksbigpfSx0aGlzLl9ib3VuZFB1c2gpfV90cmFuc2Zvcm0oZSxuLG8pe28oZSksbigpfV9jbG9zZVdoZW5Eb25lKCl7dGhpcy5jbG9zZSgpfV9lbmQoZSl7Y29uc3Qgbj10aGlzLl9zb3VyY2U7biYmKG4ucmVtb3ZlTGlzdGVuZXIoImVuZCIsZGVzdGluYXRpb25DbG9zZVdoZW5Eb25lKSxuLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpLG4ucmVtb3ZlTGlzdGVuZXIoInJlYWRhYmxlIixkZXN0aW5hdGlvbkZpbGxCdWZmZXIpLGRlbGV0ZSBuW0RFU1RJTkFUSU9OXSx0aGlzLl9kZXN0cm95U291cmNlJiZuLmRlc3Ryb3koKSksc3VwZXIuX2VuZChlKX19ZnVuY3Rpb24gZGVzdGluYXRpb25TZXRSZWFkYWJsZSgpe3RoaXNbREVTVElOQVRJT05dLnJlYWRhYmxlPSEwfWZ1bmN0aW9uIGRlc3RpbmF0aW9uRW1pdEVycm9yKHQpe3RoaXNbREVTVElOQVRJT05dLmVtaXQoImVycm9yIix0KX1mdW5jdGlvbiBkZXN0aW5hdGlvbkNsb3NlKCl7dGhpc1tERVNUSU5BVElPTl0uY2xvc2UoKX1mdW5jdGlvbiBkZXN0aW5hdGlvbkNsb3NlV2hlbkRvbmUoKXt0aGlzW0RFU1RJTkFUSU9OXS5fY2xvc2VXaGVuRG9uZSgpfWZ1bmN0aW9uIGRlc3RpbmF0aW9uRmlsbEJ1ZmZlcigpe3RoaXNbREVTVElOQVRJT05dLl9zb3VyY2VTdGFydGVkIT09ITEmJnRoaXNbREVTVElOQVRJT05dLl9maWxsQnVmZmVyKCl9Y2xhc3MgU2ltcGxlVHJhbnNmb3JtSXRlcmF0b3IgZXh0ZW5kcyBUcmFuc2Zvcm1JdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe2lmKHN1cGVyKGUsbiksdGhpcy5fb2Zmc2V0PTAsdGhpcy5fbGltaXQ9MS8wLHRoaXMuX2ZpbHRlcj1vPT4hMCxuPW58fChpc1NvdXJjZUV4cHJlc3Npb24oZSk/bnVsbDplKSxuKXtjb25zdCBvPWlzRnVuY3Rpb24kMShuKT9uOm4udHJhbnNmb3JtLHtsaW1pdDpkLG9mZnNldDpoLGZpbHRlcjpsLG1hcDp1LHByZXBlbmQ6cCxhcHBlbmQ6Z309bjtoPT09MS8wfHxkPT09LTEvMD90aGlzLl9saW1pdD0wOihOdW1iZXIuaXNGaW5pdGUoaCkmJih0aGlzLl9vZmZzZXQ9TWF0aC5tYXgoTWF0aC50cnVuYyhoKSwwKSksTnVtYmVyLmlzRmluaXRlKGQpJiYodGhpcy5fbGltaXQ9TWF0aC5tYXgoTWF0aC50cnVuYyhkKSwwKSksaXNGdW5jdGlvbiQxKGwpJiYodGhpcy5fZmlsdGVyPWwpLGlzRnVuY3Rpb24kMSh1KSYmKHRoaXMuX21hcD11KSx0aGlzLl90cmFuc2Zvcm09aXNGdW5jdGlvbiQxKG8pP286bnVsbCkscCYmKHRoaXMuX3ByZXBlbmRlcj1pc0V2ZW50RW1pdHRlcihwKT9wOmZyb21BcnJheShwKSksZyYmKHRoaXMuX2FwcGVuZGVyPWlzRXZlbnRFbWl0dGVyKGcpP2c6ZnJvbUFycmF5KGcpKX19X3JlYWQoZSxuKXtjb25zdCBvPSgpPT50aGlzLl9yZWFkQW5kVHJhbnNmb3JtU2ltcGxlKGUsZCxuKTt0aGlzLl9yZWFkQW5kVHJhbnNmb3JtU2ltcGxlKGUsZCxuKTtmdW5jdGlvbiBkKCl7dGFza1NjaGVkdWxlcihvKX19X3JlYWRBbmRUcmFuc2Zvcm1TaW1wbGUoZSxuLG8pe2xldCBkO2NvbnN0e3NvdXJjZTpofT10aGlzO2lmKCFofHxoLmRvbmUpe28oKTtyZXR1cm59Zm9yKHRoaXMuX2xpbWl0PT09MCYmdGhpcy5jbG9zZSgpOyF0aGlzLmNsb3NlZCYmdGhpcy5fcHVzaGVkQ291bnQ8ZSYmKGQ9aC5yZWFkKCkpIT09bnVsbDspe2lmKCF0aGlzLl9maWx0ZXIoZCl8fHRoaXMuX29mZnNldCE9PTAmJnRoaXMuX29mZnNldC0tKWNvbnRpbnVlO2NvbnN0IGw9dHlwZW9mIHRoaXMuX21hcD4idSI/ZDp0aGlzLl9tYXAoZCk7aWYobD09PW51bGwpdGhpcy5fb3B0aW9uYWwmJnRoaXMuX3B1c2goZCk7ZWxzZSBpZighaXNGdW5jdGlvbiQxKHRoaXMuX3RyYW5zZm9ybSkpdGhpcy5fcHVzaChsKTtlbHNle3RoaXMuX29wdGlvbmFsP3RoaXMuX29wdGlvbmFsVHJhbnNmb3JtKGwsbik6dGhpcy5fdHJhbnNmb3JtKGwsbix0aGlzLl9ib3VuZFB1c2gpO3JldHVybn0tLXRoaXMuX2xpbWl0PT09MCYmdGhpcy5jbG9zZSgpfW8oKX1fYmVnaW4oZSl7dGhpcy5faW5zZXJ0KHRoaXMuX3ByZXBlbmRlcixlKSxkZWxldGUgdGhpcy5fcHJlcGVuZGVyfV9mbHVzaChlKXt0aGlzLl9pbnNlcnQodGhpcy5fYXBwZW5kZXIsZSksZGVsZXRlIHRoaXMuX2FwcGVuZGVyfV9pbnNlcnQoZSxuKXtjb25zdCBvPWg9PnRoaXMuX3B1c2goaCk7IWV8fGUuZG9uZT9uKCk6KGUub24oImRhdGEiLG8pLGUub24oImVuZCIsZCkpO2Z1bmN0aW9uIGQoKXtlLnJlbW92ZUxpc3RlbmVyKCJkYXRhIixvKSxlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGQpLG4oKX19fWNsYXNzIE11bHRpVHJhbnNmb3JtSXRlcmF0b3IgZXh0ZW5kcyBUcmFuc2Zvcm1JdGVyYXRvcntjb25zdHJ1Y3RvcihlLG4pe2lmKHN1cGVyKGUsbiksdGhpcy5fdHJhbnNmb3JtZXJRdWV1ZT1bXSxuKXtjb25zdCBvPWlzRnVuY3Rpb24kMShuKT9uOm4ubXVsdGlUcmFuc2Zvcm07byYmKHRoaXMuX2NyZWF0ZVRyYW5zZm9ybWVyPW8pfX1fcmVhZChlLG4pe2NvbnN0IG89dGhpcy5fdHJhbnNmb3JtZXJRdWV1ZSxkPXRoaXMuX29wdGlvbmFsO2xldCBoLGw7Zm9yKDsoaD1vWzBdKSYmaC50cmFuc2Zvcm1lci5kb25lOyl7ZCYmaC5pdGVtIT09bnVsbCYmKGUtLSx0aGlzLl9wdXNoKGguaXRlbSkpLG8uc2hpZnQoKTtjb25zdHt0cmFuc2Zvcm1lcjpwfT1oO3AucmVtb3ZlTGlzdGVuZXIoImVuZCIsZGVzdGluYXRpb25GaWxsQnVmZmVyKSxwLnJlbW92ZUxpc3RlbmVyKCJyZWFkYWJsZSIsZGVzdGluYXRpb25GaWxsQnVmZmVyKSxwLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpfWNvbnN0e3NvdXJjZTp1fT10aGlzO2Zvcig7dSYmIXUuZG9uZSYmby5sZW5ndGg8dGhpcy5tYXhCdWZmZXJTaXplJiYobD11LnJlYWQoKSxsIT09bnVsbCk7KXtjb25zdCBwPXRoaXMuX2NyZWF0ZVRyYW5zZm9ybWVyKGwpfHxuZXcgRW1wdHlJdGVyYXRvcjtwW0RFU1RJTkFUSU9OXT10aGlzLHAub24oImVuZCIsZGVzdGluYXRpb25GaWxsQnVmZmVyKSxwLm9uKCJyZWFkYWJsZSIsZGVzdGluYXRpb25GaWxsQnVmZmVyKSxwLm9uKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpLG8ucHVzaCh7dHJhbnNmb3JtZXI6cCxpdGVtOmx9KX1pZihoPW9bMF0saCl7Y29uc3R7dHJhbnNmb3JtZXI6cH09aDtmb3IoO2UtLSA+MCYmKGw9cC5yZWFkKCkpIT09bnVsbDspdGhpcy5fcHVzaChsKSxkJiYoaC5pdGVtPW51bGwpfWVsc2UgdSYmdS5kb25lJiZ0aGlzLmNsb3NlKCk7bigpfV9jcmVhdGVUcmFuc2Zvcm1lcihlKXtyZXR1cm4gbmV3IFNpbmdsZXRvbkl0ZXJhdG9yKGUpfV9jbG9zZVdoZW5Eb25lKCl7dGhpcy5fdHJhbnNmb3JtZXJRdWV1ZS5sZW5ndGh8fHRoaXMuY2xvc2UoKX1fZW5kKGUpe2lmKHN1cGVyLl9lbmQoZSksdGhpcy5fZGVzdHJveVNvdXJjZSlmb3IoY29uc3QgbiBvZiB0aGlzLl90cmFuc2Zvcm1lclF1ZXVlKW4udHJhbnNmb3JtZXIuZGVzdHJveSgpfX1jbGFzcyBVbmlvbkl0ZXJhdG9yIGV4dGVuZHMgQnVmZmVyZWRJdGVyYXRvcntjb25zdHJ1Y3RvcihlLG49e30pe3N1cGVyKG4pLHRoaXMuX3NvdXJjZXM9W10sdGhpcy5fY3VycmVudFNvdXJjZT0tMTtjb25zdCBvPW4uYXV0b1N0YXJ0IT09ITE7aWYoaXNFdmVudEVtaXR0ZXIoZSkpZS5vbigiZXJyb3IiLGQ9PnRoaXMuZW1pdCgiZXJyb3IiLGQpKSx0aGlzLl9wZW5kaW5nPXtsb2FkaW5nOiExLHNvdXJjZXM6ZX0sbyYmdGhpcy5fbG9hZFNvdXJjZXMoKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApZm9yKGNvbnN0IGQgb2YgZSl0aGlzLl9hZGRTb3VyY2UoZCk7ZWxzZSBvJiZ0aGlzLmNsb3NlKCk7dGhpcy5fZGVzdHJveVNvdXJjZXM9bi5kZXN0cm95U291cmNlcyE9PSExfV9sb2FkU291cmNlcygpe2NvbnN0IGU9dGhpcy5fcGVuZGluZy5zb3VyY2VzO3RoaXMuX3BlbmRpbmcubG9hZGluZz0hMCxlLmRvbmU/KGRlbGV0ZSB0aGlzLl9wZW5kaW5nLHRoaXMuY2xvc2UoKSk6KGUub24oImRhdGEiLG49Pnt0aGlzLl9hZGRTb3VyY2UobiksdGhpcy5fZmlsbEJ1ZmZlckFzeW5jKCl9KSxlLm9uKCJlbmQiLCgpPT57ZGVsZXRlIHRoaXMuX3BlbmRpbmcsdGhpcy5fZmlsbEJ1ZmZlcigpfSkpfV9hZGRTb3VyY2UoZSl7aXNQcm9taXNlKGUpJiYoZT13cmFwJDEoZSkpLGUuZG9uZXx8KHRoaXMuX3NvdXJjZXMucHVzaChlKSxlW0RFU1RJTkFUSU9OXT10aGlzLGUub24oImVycm9yIixkZXN0aW5hdGlvbkVtaXRFcnJvciksZS5vbigicmVhZGFibGUiLGRlc3RpbmF0aW9uRmlsbEJ1ZmZlciksZS5vbigiZW5kIixkZXN0aW5hdGlvblJlbW92ZUVtcHR5U291cmNlcykpfV9yZW1vdmVFbXB0eVNvdXJjZXMoKXt0aGlzLl9zb3VyY2VzPXRoaXMuX3NvdXJjZXMuZmlsdGVyKChlLG4pPT4oZS5kb25lJiZuPD10aGlzLl9jdXJyZW50U291cmNlJiZ0aGlzLl9jdXJyZW50U291cmNlLS0sIWUuZG9uZSkpLHRoaXMuX2ZpbGxCdWZmZXIoKX1fcmVhZChlLG4pe3ZhciBvOygobz10aGlzLl9wZW5kaW5nKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8ubG9hZGluZyk9PT0hMSYmdGhpcy5fbG9hZFNvdXJjZXMoKTtsZXQgZD0wLGg7Zm9yKDtkIT09KGQ9ZSk7KWZvcihsZXQgbD0wO2w8dGhpcy5fc291cmNlcy5sZW5ndGgmJmU+MDtsKyspdGhpcy5fY3VycmVudFNvdXJjZT0odGhpcy5fY3VycmVudFNvdXJjZSsxKSV0aGlzLl9zb3VyY2VzLmxlbmd0aCwoaD10aGlzLl9zb3VyY2VzW3RoaXMuX2N1cnJlbnRTb3VyY2VdLnJlYWQoKSkhPT1udWxsJiYoZS0tLHRoaXMuX3B1c2goaCkpOyF0aGlzLl9wZW5kaW5nJiZ0aGlzLl9zb3VyY2VzLmxlbmd0aD09PTAmJnRoaXMuY2xvc2UoKSxuKCl9X2VuZChlPSExKXtpZihzdXBlci5fZW5kKGUpLHRoaXMuX2Rlc3Ryb3lTb3VyY2VzKXtmb3IoY29uc3QgbiBvZiB0aGlzLl9zb3VyY2VzKW4uZGVzdHJveSgpO3RoaXMuX3BlbmRpbmcmJih0aGlzLl9wZW5kaW5nLnNvdXJjZXMuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLl9wZW5kaW5nKX19fWZ1bmN0aW9uIGRlc3RpbmF0aW9uUmVtb3ZlRW1wdHlTb3VyY2VzKCl7dGhpc1tERVNUSU5BVElPTl0uX3JlbW92ZUVtcHR5U291cmNlcygpfWNsYXNzIENsb25lZEl0ZXJhdG9yIGV4dGVuZHMgVHJhbnNmb3JtSXRlcmF0b3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSx7YXV0b1N0YXJ0OiExfSksdGhpcy5fcmVhZFBvc2l0aW9uPTAsdGhpcy5fcmVhZGluZz0hMX1faW5pdCgpe31jbG9zZSgpe0FzeW5jSXRlcmF0b3IucHJvdG90eXBlLmNsb3NlLmNhbGwodGhpcyl9Z2V0IHNvdXJjZSgpe3JldHVybiBzdXBlci5zb3VyY2V9c2V0IHNvdXJjZShlKXtjb25zdCBuPXRoaXMuX3NvdXJjZT10aGlzLl92YWxpZGF0ZVNvdXJjZShlKSxvPW4mJm5bREVTVElOQVRJT05dfHwobltERVNUSU5BVElPTl09bmV3IEhpc3RvcnlSZWFkZXIobikpO3RoaXMuZG9uZT90aGlzLl9kZXN0cm95U291cmNlJiZuLmRlc3Ryb3koKTpvLmVuZHNBdCgwKT90aGlzLmNsb3NlKCk6KG8ucmVnaXN0ZXIodGhpcyksKG4uX3NvdXJjZVN0YXJ0ZWQ9PT0hMXx8by5yZWFkQXQoMCkhPT1udWxsKSYmKHRoaXMucmVhZGFibGU9ITApKTtjb25zdCBkPXRoaXMuX3Byb3BlcnR5Q2FsbGJhY2tzO2Zvcihjb25zdCBoIGluIGQpe2NvbnN0IGw9ZFtoXTtmb3IoY29uc3QgdSBvZiBsKXRoaXMuX2dldFNvdXJjZVByb3BlcnR5KGgsdSl9fV92YWxpZGF0ZVNvdXJjZShlLG49ITEpe2NvbnN0IG89ZSYmZVtERVNUSU5BVElPTl07cmV0dXJuIHN1cGVyLl92YWxpZGF0ZVNvdXJjZShlLCFvfHxvIGluc3RhbmNlb2YgSGlzdG9yeVJlYWRlcil9Z2V0UHJvcGVydHkoZSxuKXtjb25zdHtzb3VyY2U6b309dGhpcyxkPXRoaXMuX3Byb3BlcnRpZXMsaD1kJiZlIGluIGQ7aWYoIW4pcmV0dXJuIGg/ZCYmZFtlXTpvJiZvLmdldFByb3BlcnR5KGUpO3N1cGVyLmdldFByb3BlcnR5KGUsbiksbyYmIWgmJnRoaXMuX2dldFNvdXJjZVByb3BlcnR5KGUsbil9X2dldFNvdXJjZVByb3BlcnR5KGUsbil7dGhpcy5zb3VyY2UuZ2V0UHJvcGVydHkoZSxvPT57KCF0aGlzLl9wcm9wZXJ0aWVzfHwhKGUgaW4gdGhpcy5fcHJvcGVydGllcykpJiZuKG8pfSl9Z2V0UHJvcGVydGllcygpe2NvbnN0IGU9dGhpcy5zb3VyY2U/dGhpcy5zb3VyY2UuZ2V0UHJvcGVydGllcygpOnt9LG49dGhpcy5fcHJvcGVydGllcztmb3IoY29uc3QgbyBpbiBuKWVbb109bltvXTtyZXR1cm4gZX1fdG9TdHJpbmdEZXRhaWxzKCl7cmV0dXJuYHtzb3VyY2U6ICR7dGhpcy5zb3VyY2U/dGhpcy5zb3VyY2UudG9TdHJpbmcoKToibm9uZSJ9fWB9cmVhZCgpe3RoaXMuX3NvdXJjZVN0YXJ0ZWR8fCh0aGlzLl9zb3VyY2VTdGFydGVkPSEwKTtjb25zdCBlPXRoaXMuc291cmNlO2xldCBuPW51bGw7aWYoIXRoaXMuZG9uZSYmZSl7Y29uc3Qgbz1lW0RFU1RJTkFUSU9OXTsobj1vLnJlYWRBdCh0aGlzLl9yZWFkUG9zaXRpb24pKSE9PW51bGw/dGhpcy5fcmVhZFBvc2l0aW9uKys6dGhpcy5yZWFkYWJsZT0hMSxvLmVuZHNBdCh0aGlzLl9yZWFkUG9zaXRpb24pJiZ0aGlzLmNsb3NlKCl9cmV0dXJuIG59X2VuZChlKXtjb25zdCBuPXRoaXMuc291cmNlLG89bj8uW0RFU1RJTkFUSU9OXTtvJiZvLnVucmVnaXN0ZXIodGhpcyksQnVmZmVyZWRJdGVyYXRvci5wcm90b3R5cGUuX2VuZC5jYWxsKHRoaXMsZSl9fWNsYXNzIEhpc3RvcnlSZWFkZXJ7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5faGlzdG9yeT1bXSx0aGlzLl90cmFja2Vycz1uZXcgU2V0LHRoaXMuX3NvdXJjZT1lLCFlLmRvbmUpe2NvbnN0IG49KCk9Pntmb3IoY29uc3QgaCBvZiB0aGlzLl90cmFja2VycyloLnJlYWRhYmxlPSEwfSxvPWg9Pntmb3IoY29uc3QgbCBvZiB0aGlzLl90cmFja2VycylsLmVtaXQoImVycm9yIixoKX0sZD0oKT0+e2Zvcihjb25zdCBoIG9mIHRoaXMuX3RyYWNrZXJzKWguX3NvdXJjZVN0YXJ0ZWQhPT0hMSYmaC5fcmVhZFBvc2l0aW9uPT09dGhpcy5faGlzdG9yeS5sZW5ndGgmJmguY2xvc2UoKTt0aGlzLl90cmFja2Vycy5jbGVhcigpLGUucmVtb3ZlTGlzdGVuZXIoImVuZCIsZCksZS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLG8pLGUucmVtb3ZlTGlzdGVuZXIoInJlYWRhYmxlIixuKX07ZS5vbigiZW5kIixkKSxlLm9uKCJlcnJvciIsbyksZS5vbigicmVhZGFibGUiLG4pfX1yZWdpc3RlcihlKXt0aGlzLl9zb3VyY2UuZG9uZXx8dGhpcy5fdHJhY2tlcnMuYWRkKGUpfXVucmVnaXN0ZXIoZSl7dGhpcy5fdHJhY2tlcnMuZGVsZXRlKGUpfXJlYWRBdChlKXtsZXQgbj1udWxsO3JldHVybiBlPHRoaXMuX2hpc3RvcnkubGVuZ3RoP249dGhpcy5faGlzdG9yeVtlXTohdGhpcy5fc291cmNlLmRvbmUmJihuPXRoaXMuX3NvdXJjZS5yZWFkKCkpIT09bnVsbCYmKHRoaXMuX2hpc3RvcnlbZV09biksbn1lbmRzQXQoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZS5kb25lJiZ0aGlzLl9oaXN0b3J5Lmxlbmd0aD09PWV9fWNsYXNzIFdyYXBwaW5nSXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbil7c3VwZXIoKSx0aGlzLl9zb3VyY2U9bnVsbCx0aGlzLl9kZXN0cm95U291cmNlPW4/LmRlc3Ryb3lTb3VyY2UhPT0hMSxpc1Byb21pc2UoZSk/KHRoaXMuX3NvdXJjZT1uZXcgQXN5bmNJdGVyYXRvcixlLnRoZW4obz0+e3RoaXMuX3NvdXJjZT1udWxsLHRoaXMuc291cmNlPW99KS5jYXRjaChvPT50aGlzLmVtaXQoImVycm9yIixvKSkpOmUmJih0aGlzLnNvdXJjZT1lKX1zZXQgc291cmNlKGUpe2xldCBuPWU7aWYodGhpcy5fc291cmNlIT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzb3VyY2UgY2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgaXQgaGFzIGJlZW4gc2V0Iik7aWYoaXNJdGVyYWJsZShuKSYmKG49bltTeW1ib2wuaXRlcmF0b3JdKCkpLGlzSXRlcmF0b3Iobikpe2xldCBvPW47bj1uZXcgZXZlbnRzRXhwb3J0cy5FdmVudEVtaXR0ZXIsbi5yZWFkPSgpPT57aWYobyE9PW51bGwpe2xldCBkO2Zvcig7IShkPW8ubmV4dCgpKS5kb25lOylpZihkLnZhbHVlIT09bnVsbClyZXR1cm4gZC52YWx1ZTtvPW51bGwsdGhpcy5jbG9zZSgpfXJldHVybiBudWxsfX1lbHNlIG49ZW5zdXJlU291cmNlQXZhaWxhYmxlKG4pO2lmKHRoaXMuZG9uZSl7dGhpcy5fZGVzdHJveVNvdXJjZSYmaXNGdW5jdGlvbiQxKG4uZGVzdHJveSkmJm4uZGVzdHJveSgpO3JldHVybn1uW0RFU1RJTkFUSU9OXT10aGlzLG4ub24oImVuZCIsZGVzdGluYXRpb25DbG9zZSksbi5vbigiZXJyb3IiLGRlc3RpbmF0aW9uRW1pdEVycm9yKSxuLm9uKCJyZWFkYWJsZSIsZGVzdGluYXRpb25TZXRSZWFkYWJsZSksdGhpcy5fc291cmNlPW4sdGhpcy5yZWFkYWJsZT1uLnJlYWRhYmxlIT09ITF9cmVhZCgpe2lmKHRoaXMuX3NvdXJjZSE9PW51bGwmJnRoaXMuX3NvdXJjZS5yZWFkYWJsZSE9PSExKXtjb25zdCBlPXRoaXMuX3NvdXJjZS5yZWFkKCk7aWYoZSE9PW51bGwpcmV0dXJuIGU7dGhpcy5yZWFkYWJsZT0hMX1yZXR1cm4gbnVsbH1fZW5kKGU9ITEpe3RoaXMuX3NvdXJjZSE9PW51bGwmJih0aGlzLl9zb3VyY2UucmVtb3ZlTGlzdGVuZXIoImVuZCIsZGVzdGluYXRpb25DbG9zZSksdGhpcy5fc291cmNlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsZGVzdGluYXRpb25FbWl0RXJyb3IpLHRoaXMuX3NvdXJjZS5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLGRlc3RpbmF0aW9uU2V0UmVhZGFibGUpLGRlbGV0ZSB0aGlzLl9zb3VyY2VbREVTVElOQVRJT05dLHRoaXMuX2Rlc3Ryb3lTb3VyY2UmJmlzRnVuY3Rpb24kMSh0aGlzLl9zb3VyY2UuZGVzdHJveSkmJnRoaXMuX3NvdXJjZS5kZXN0cm95KCksdGhpcy5fc291cmNlPW51bGwpLHN1cGVyLl9lbmQoZSl9fWZ1bmN0aW9uIHdyYXAkMSh0LGUpe2lmKGUmJigiYXV0b1N0YXJ0ImluIGV8fCJvcHRpb25hbCJpbiBlfHwic291cmNlImluIGV8fCJtYXhCdWZmZXJTaXplImluIGUpKXJldHVybiB0JiYhaXNFdmVudEVtaXR0ZXIodCkmJih0PW5ldyBXcmFwcGluZ0l0ZXJhdG9yKHQpKSxuZXcgVHJhbnNmb3JtSXRlcmF0b3IodCxlKTtpZighdClyZXR1cm4gZW1wdHkoKTtpZihpc1Byb21pc2UodCkpcmV0dXJuIG5ldyBXcmFwcGluZ0l0ZXJhdG9yKHQsZSk7aWYodCBpbnN0YW5jZW9mIEFzeW5jSXRlcmF0b3IpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZnJvbUFycmF5KHQpO2lmKGlzSXRlcmFibGUodCl8fGlzSXRlcmF0b3IodCl8fGlzRXZlbnRFbWl0dGVyKHQpKXJldHVybiBuZXcgV3JhcHBpbmdJdGVyYXRvcih0LGUpO3Rocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgc291cmNlOiAke3R9YCl9ZnVuY3Rpb24gZW1wdHkoKXtyZXR1cm4gbmV3IEVtcHR5SXRlcmF0b3J9ZnVuY3Rpb24gc2luZ2xlKHQpe3JldHVybiBuZXcgU2luZ2xldG9uSXRlcmF0b3IodCl9ZnVuY3Rpb24gZnJvbUFycmF5KHQpe3JldHVybiBuZXcgQXJyYXlJdGVyYXRvcih0KX1mdW5jdGlvbiBmcm9tSXRlcmF0b3IodCl7cmV0dXJuIG5ldyBXcmFwcGluZ0l0ZXJhdG9yKHQpfWZ1bmN0aW9uIGZyb21JdGVyYWJsZSh0KXtyZXR1cm4gbmV3IFdyYXBwaW5nSXRlcmF0b3IodCl9ZnVuY3Rpb24gdW5pb24odCl7cmV0dXJuIG5ldyBVbmlvbkl0ZXJhdG9yKHQpfWZ1bmN0aW9uIHJhbmdlKHQsZSxuKXtyZXR1cm4gbmV3IEludGVnZXJJdGVyYXRvcih7c3RhcnQ6dCxlbmQ6ZSxzdGVwOm59KX1mdW5jdGlvbiBiaW5kKHQsZSl7cmV0dXJuIGU/dC5iaW5kKGUpOnR9ZnVuY3Rpb24gaXNGdW5jdGlvbiQxKHQpe3JldHVybiB0eXBlb2YgdD09ImZ1bmN0aW9uIn1mdW5jdGlvbiBpc0V2ZW50RW1pdHRlcih0KXtyZXR1cm4gaXNGdW5jdGlvbiQxKHQ/Lm9uKX1mdW5jdGlvbiBpc1Byb21pc2UodCl7cmV0dXJuIGlzRnVuY3Rpb24kMSh0Py50aGVuKX1mdW5jdGlvbiBpc1NvdXJjZUV4cHJlc3Npb24odCl7cmV0dXJuIHQmJihpc0V2ZW50RW1pdHRlcih0KXx8aXNQcm9taXNlKHQpfHxpc0Z1bmN0aW9uJDEodCkpfWZ1bmN0aW9uIGlzSXRlcmFibGUodCl7cmV0dXJuIHQmJlN5bWJvbC5pdGVyYXRvciBpbiB0fWZ1bmN0aW9uIGlzSXRlcmF0b3IodCl7cmV0dXJuIGlzRnVuY3Rpb24kMSh0Py5uZXh0KX12YXIgX19RVUFEU1RPUkVfQ09NVU5JQ0FfRVhURVJOQUxfTU9EVUxFX2FzeW5jaXRlcmF0b3JfXz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxBcnJheUl0ZXJhdG9yLEFzeW5jSXRlcmF0b3IsQnVmZmVyZWRJdGVyYXRvcixDTE9TRUQsQ0xPU0lORyxDbG9uZWRJdGVyYXRvcixERVNUSU5BVElPTixERVNUUk9ZRUQsRU5ERUQsRW1wdHlJdGVyYXRvcixJTklULEludGVnZXJJdGVyYXRvcixMaW5rZWRMaXN0LE1hcHBpbmdJdGVyYXRvcixNdWx0aVRyYW5zZm9ybUl0ZXJhdG9yLE9QRU4sU2ltcGxlVHJhbnNmb3JtSXRlcmF0b3IsU2luZ2xldG9uSXRlcmF0b3IsVHJhbnNmb3JtSXRlcmF0b3IsVW5pb25JdGVyYXRvcixXcmFwcGluZ0l0ZXJhdG9yLGVtcHR5LGZyb21BcnJheSxmcm9tSXRlcmFibGUsZnJvbUl0ZXJhdG9yLGdldFRhc2tTY2hlZHVsZXIsaWRlbnRpdHk6aWRlbnRpdHkkMyxpc0V2ZW50RW1pdHRlcixpc0Z1bmN0aW9uOmlzRnVuY3Rpb24kMSxpc0l0ZXJhYmxlLGlzSXRlcmF0b3IsaXNQcm9taXNlLGlzU291cmNlRXhwcmVzc2lvbixyYW5nZSxzY2hlZHVsZVRhc2ssc2V0VGFza1NjaGVkdWxlcixzaW5nbGUsdW5pb24sd3JhcDp3cmFwJDF9KTtjb25zdCBpc09iamVjdCQyPXQ9PnR5cGVvZiB0PT0ib2JqZWN0IiYmdCE9PW51bGwsaXNBYnN0cmFjdExldmVsPXQ9PmlzT2JqZWN0JDIodCkmJnR5cGVvZiB0Lm9wZW49PSJmdW5jdGlvbiImJnR5cGVvZiB0LmJhdGNoPT0iZnVuY3Rpb24iLGVuc3VyZUFic3RyYWN0TGV2ZWw9KHQsZSk9PntpZighaXNBYnN0cmFjdExldmVsKHQpKXRocm93IG5ldyBFcnJvcihgJHtlfSBpcyBub3QgYW4gQWJzdHJhY3RMZXZlbCBpbnN0YW5jZWApfSxzdHJlYW1Ub0FycmF5PXQ9Pm5ldyBQcm9taXNlKChlLG4pPT57Y29uc3Qgbz1bXSxkPXA9PntvLnB1c2gocCl9LGg9KCk9Pnt0LnJlbW92ZUxpc3RlbmVyKCJkYXRhIixkKSx0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdSksdC5kZXN0cm95KCl9LGw9KCk9PntoKCksZShvKX0sdT1wPT57aCgpLG4ocCl9O3Qub24oImVycm9yIix1KSx0Lm9uKCJlbmQiLGwpLHQub24oImRhdGEiLGQpfSksYXJyU3RhcnRzV2l0aD0odCxlKT0+e2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bis9MSlpZihlW25dIT09dFtuXSlyZXR1cm4hMTtyZXR1cm4hMH0sUkVTT0xWRUQ9UHJvbWlzZS5yZXNvbHZlKCksZW1wdHlPYmplY3Q9e30sYm91bmRhcnk9IvSPv78iLHNlcGFyYXRvcj0iXDBcMCIsZGVmYXVsdEluZGV4ZXM9W1sic3ViamVjdCIsInByZWRpY2F0ZSIsIm9iamVjdCIsImdyYXBoIl0sWyJvYmplY3QiLCJncmFwaCIsInN1YmplY3QiLCJwcmVkaWNhdGUiXSxbImdyYXBoIiwic3ViamVjdCIsInByZWRpY2F0ZSIsIm9iamVjdCJdLFsic3ViamVjdCIsIm9iamVjdCIsInByZWRpY2F0ZSIsImdyYXBoIl0sWyJwcmVkaWNhdGUiLCJvYmplY3QiLCJncmFwaCIsInN1YmplY3QiXSxbImdyYXBoIiwicHJlZGljYXRlIiwib2JqZWN0Iiwic3ViamVjdCJdXSxsZXZlbFB1dE9wdHM9e2tleUVuY29kaW5nOiJ1dGY4Iix2YWx1ZUVuY29kaW5nOiJ2aWV3In0sbGV2ZWxEZWxPcHRzPXtrZXlFbmNvZGluZzoidXRmOCJ9LGVtcHR5VmFsdWU9bmV3IFVpbnQ4QXJyYXkoMCksY29uc3VtZU9uZUJ5T25lPWFzeW5jKHQsZSk9Pm5ldyBQcm9taXNlKChuLG8pPT57bGV0IGQsaD0hMSxsPSExO2NvbnN0IHU9KCk9PntpZihsPSEwLChkPXQucmVhZCgpKSE9PW51bGwpe1Byb21pc2UucmVzb2x2ZShlKGQpKS50aGVuKHUpLmNhdGNoKHApO3JldHVybn1sPSExLGgmJm4oKX0scD1fPT57byhfKSxiKCl9LGc9KCk9PntoPSEwLGx8fG4oKSxiKCl9LHY9KCk9PntsfHx1KCl9LGI9KCk9Pnt0LnJlbW92ZUxpc3RlbmVyKCJlbmQiLGcpLHQucmVtb3ZlTGlzdGVuZXIoImVycm9yIixwKSx0LnJlbW92ZUxpc3RlbmVyKCJyZWFkYWJsZSIsdiksdHlwZW9mIHQuZGVzdHJveT09ImZ1bmN0aW9uIiYmdC5kZXN0cm95KCl9O3Qub24oImVuZCIsZyksdC5vbigiZXJyb3IiLHApLHQub24oInJlYWRhYmxlIix2KSx0LnJlYWRhYmxlIT09ITEmJnUoKX0pLGNvbnN1bWVJbkJhdGNoZXM9YXN5bmModCxlLG4pPT5uZXcgUHJvbWlzZSgobyxkKT0+e2xldCBoPTAsbD0hMSx1PSExLHA9bmV3IEFycmF5KGUpO2NvbnN0IGc9KCk9PntpZihTKCksaD4wKXtQcm9taXNlLnJlc29sdmUobihwLnNsaWNlKDAsaCkpKS50aGVuKG8pLmNhdGNoKGIpO3JldHVybn1vKCl9LHY9KCk9Pnt1PSEwLGx8fGcoKX0sYj1OPT57UygpLGQoTil9LF89KCk9PntsfHxUKCl9O2xldCBPPW51bGw7Y29uc3QgVD0oKT0+e2lmKGw9ITAsdSl7ZygpO3JldHVybn1mb3IoO2g8ZSYmKE89dC5yZWFkKCkpIT09bnVsbDspcFtoKytdPU87aWYoTz09PW51bGwpe2w9ITE7cmV0dXJufWg9PT1lJiYoUHJvbWlzZS5yZXNvbHZlKG4ocC5zbGljZSgpKSkudGhlbihUKS5jYXRjaChiKSxoPTApfSxTPSgpPT57dC5yZW1vdmVMaXN0ZW5lcigiZW5kIix2KSx0LnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsYiksdC5yZW1vdmVMaXN0ZW5lcigicmVhZGFibGUiLF8pLHR5cGVvZiB0LmRlc3Ryb3k9PSJmdW5jdGlvbiImJnQuZGVzdHJveSgpfTt0Lm9uKCJlbmQiLHYpLHQub24oImVycm9yIixiKSx0Lm9uKCJyZWFkYWJsZSIsXyksdC5yZWFkYWJsZSE9PSExJiZUKCl9KTtsZXQgSURYPTI1Njtjb25zdCBIRVg9W107Zm9yKDtJRFgtLTspSEVYW0lEWF09KElEWCsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7Y29uc3QgY3JlYXRlVWlkPXQ9Pnt0PXR8fDE2O2xldCBlPSIiLG49MDtyZXR1cm4oKT0+e2lmKCFlfHxuPT09MjU2KXtmb3IoZT0iIixuPSgxK3QpLzJ8MDtuLS07KWUrPUhFWFsyNTYqTWF0aC5yYW5kb20oKXwwXTtlPWUuc3Vic3RyaW5nKG49MCx0LTIpfXJldHVybiBlK0hFWFtuKytdfX0sdWlkPWNyZWF0ZVVpZCgxMSk7Y2xhc3MgTGV2ZWxJdGVyYXRvciBleHRlbmRzIEJ1ZmZlcmVkSXRlcmF0b3J7bGV2ZWw7bWFwRm47bGV2ZWxFbmRlZDtjb25zdHJ1Y3RvcihlLG4pe3N1cGVyKHttYXhCdWZmZXJTaXplOjY0fSksdGhpcy5tYXBGbj1uLHRoaXMubGV2ZWw9ZSx0aGlzLmxldmVsRW5kZWQ9ITF9X3JlYWQoZSxuKXtjb25zdCBvPXtyZW1haW5pbmc6ZX07by5uZXh0PXRoaXMuX29uTmV4dFZhbHVlLmJpbmQodGhpcyxvLG4pLHRoaXMubGV2ZWwubmV4dChvLm5leHQpfV9vbk5leHRWYWx1ZShlLG4sbyxkLGgpe2lmKG8pe24obyk7cmV0dXJufWlmKGQ9PT12b2lkIDAmJmg9PT12b2lkIDApe3RoaXMuY2xvc2UoKSx0aGlzLmxldmVsRW5kZWQ9ITAsbigpO3JldHVybn1pZih0aGlzLl9wdXNoKHRoaXMubWFwRm4oZCxoKSksZS5yZW1haW5pbmctPTEsZS5yZW1haW5pbmc9PT0wKXtuKCk7cmV0dXJufXRoaXMubGV2ZWwubmV4dChlLm5leHQpfV9lbmRMZXZlbChlKXtpZih0aGlzLmxldmVsRW5kZWQpe2UoKTtyZXR1cm59dGhpcy5sZXZlbC5jbG9zZShuPT57bnx8KHRoaXMubGV2ZWxFbmRlZD0hMCksZShuKX0pfV9lbmQoZSl7dGhpcy5lbmRlZHx8KHN1cGVyLl9lbmQoZSksdGhpcy5fZW5kTGV2ZWwobj0+e24mJnRoaXMuZW1pdCgiZXJyb3IiLG4pfSkpfV9kZXN0cm95KGUsbil7aWYodGhpcy5kZXN0cm95ZWQpe24oKTtyZXR1cm59dGhpcy5fZW5kTGV2ZWwobz0+e2lmKG8pe24obyk7cmV0dXJufXN1cGVyLl9kZXN0cm95KGUsbil9KX19Y29uc3QgeHNkPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSMiLHN0cmluZz1gJHt4c2R9c3RyaW5nYCxkYXRlVGltZT1gJHt4c2R9ZGF0ZVRpbWVgLGludGVnZXI9YCR7eHNkfWludGVnZXJgLGRlY2ltYWw9YCR7eHNkfWRlY2ltYWxgLGRvdWJsZT1gJHt4c2R9ZG91YmxlYCxub25Qb3NpdGl2ZUludGVnZXI9YCR7eHNkfW5vblBvc2l0aXZlSW50ZWdlcmAsbmVnYXRpdmVJbnRlZ2VyPWAke3hzZH1uZWdhdGl2ZUludGVnZXJgLGxvbmc9YCR7eHNkfWxvbmdgLGludD1gJHt4c2R9aW50YCxzaG9ydD1gJHt4c2R9c2hvcnRgLGJ5dGU9YCR7eHNkfWJ5dGVgLG5vbk5lZ2F0aXZlSW50ZWdlcj1gJHt4c2R9bm9uTmVnYXRpdmVJbnRlZ2VyYCx1bnNpZ25lZExvbmc9YCR7eHNkfXVuc2lnbmVkTG9uZ2AsdW5zaWduZWRJbnQ9YCR7eHNkfXVuc2lnbmVkSW50YCx1bnNpZ25lZFNob3J0PWAke3hzZH11bnNpZ25lZFNob3J0YCx1bnNpZ25lZEJ5dGU9YCR7eHNkfXVuc2lnbmVkQnl0ZWAscG9zaXRpdmVJbnRlZ2VyPWAke3hzZH1wb3NpdGl2ZUludGVnZXJgLHNsaWNlU3RyaW5nPSh0LGUsbik9PnQuc2xpY2UoZSxlK24pLHBhZE51bVN0YXJ0PXQ9PntpZih0PDEwKXJldHVybiIwMDAiK3Q7aWYodDwxMDApcmV0dXJuIjAwIit0O2lmKHQ8MWUzKXJldHVybiIwIit0O2lmKHQ8MWU0KXJldHVybiIiK3Q7dGhyb3cgbmV3IEVycm9yKCJ0b28gbG9uZzogIit0KX0sam9pbj0odCxlLG4pPT57bGV0IG89IiIrdDtyZXR1cm4gZTwxMD9vKz0iMDAiK2U6ZTwxMDA/bys9IjAiK2U6bys9ZSxvKz1uLnRvRml4ZWQoMTcpLG99LFpFUk89am9pbigzLDAsMCksTkVHX0lORj1qb2luKDAsMCwwKSxQT1NfSU5GPWpvaW4oNiwwLDApLGVuY29kZT10PT57bGV0IGU9dHlwZW9mIHQhPSJudW1iZXIiP3BhcnNlRmxvYXQodCk6dDtpZihOdW1iZXIuaXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc2VyaWFsaXplIE5hTiIpO2lmKGU9PT0tMS8wKXJldHVybiBORUdfSU5GO2lmKGU9PT0xLzApcmV0dXJuIFBPU19JTkY7aWYoZT09PTApcmV0dXJuIFpFUk87bGV0IG49MCxvPTA7Zm9yKGU8MCYmKG89MSxlKj0tMSk7ZT4xMDspZS89MTAsbis9MTtmb3IoO2U8MTspZSo9MTAsbi09MTtyZXR1cm4gbz09PTE/bj49MD9qb2luKDEsOTk5LW4sMTAtZSk6am9pbigyLG4qLTEsMTAtZSk6bjwwP2pvaW4oNCw5OTkrbixlKTpqb2luKDUsbixlKX0sbmFtZWROb2RlV3JpdGVyPXt3cml0ZSh0LGUsbil7Y29uc3Qgbz1uLmNvbXBhY3RJcmkodC52YWx1ZSk7ZS5sZW5ndGhzPXBhZE51bVN0YXJ0KG8ubGVuZ3RoKSxlLnZhbHVlPW99fSxuYW1lZE5vZGVSZWFkZXI9e3JlYWQodCxlLG4sbyl7Y29uc3R7a2V5T2Zmc2V0OmQsbGVuZ3Roc09mZnNldDpofT1lLGw9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoLDQpKTtyZXR1cm4gZS5sZW5ndGhzT2Zmc2V0Kz00LGUua2V5T2Zmc2V0Kz1sLG4ubmFtZWROb2RlKG8uZXhwYW5kVGVybShzbGljZVN0cmluZyh0LGQsbCkpKX19LGJsYW5rTm9kZVdyaXRlcj17d3JpdGUodCxlKXtlLmxlbmd0aHM9cGFkTnVtU3RhcnQodC52YWx1ZS5sZW5ndGgpLGUudmFsdWU9dC52YWx1ZX19LGJsYW5rTm9kZVJlYWRlcj17cmVhZCh0LGUsbil7Y29uc3R7a2V5T2Zmc2V0Om8sbGVuZ3Roc09mZnNldDpkfT1lLGg9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxkLDQpKTtyZXR1cm4gZS5sZW5ndGhzT2Zmc2V0Kz00LGUua2V5T2Zmc2V0Kz1oLG4uYmxhbmtOb2RlKHNsaWNlU3RyaW5nKHQsbyxoKSl9fSxnZW5lcmljTGl0ZXJhbFdyaXRlcj17d3JpdGUodCxlKXtlLmxlbmd0aHM9cGFkTnVtU3RhcnQodC52YWx1ZS5sZW5ndGgpK3BhZE51bVN0YXJ0KHQuZGF0YXR5cGUudmFsdWUubGVuZ3RoKSxlLnZhbHVlPXQuZGF0YXR5cGUudmFsdWUrc2VwYXJhdG9yK3QudmFsdWV9fSxnZW5lcmljTGl0ZXJhbFJlYWRlcj17cmVhZCh0LGUsbixvKXtjb25zdHtrZXlPZmZzZXQ6ZCxsZW5ndGhzT2Zmc2V0Omh9PWUsbD1wYXJzZUludChzbGljZVN0cmluZyh0LGgsNCkpLHU9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoKzQsNCkpO3JldHVybiBlLmxlbmd0aHNPZmZzZXQrPTgsZS5rZXlPZmZzZXQrPWwrdStzZXBhcmF0b3IubGVuZ3RoLG4ubGl0ZXJhbChzbGljZVN0cmluZyh0LGQrdStzZXBhcmF0b3IubGVuZ3RoLGwpLG4ubmFtZWROb2RlKHNsaWNlU3RyaW5nKHQsZCx1KSkpfX0sc3RyaW5nTGl0ZXJhbFdyaXRlcj17d3JpdGUodCxlKXtlLmxlbmd0aHM9cGFkTnVtU3RhcnQodC52YWx1ZS5sZW5ndGgpLGUudmFsdWU9dC52YWx1ZX19LHN0cmluZ0xpdGVyYWxSZWFkZXI9e3JlYWQodCxlLG4pe2NvbnN0e2tleU9mZnNldDpvLGxlbmd0aHNPZmZzZXQ6ZH09ZSxoPXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsZCw0KSk7cmV0dXJuIGUubGVuZ3Roc09mZnNldCs9NCxlLmtleU9mZnNldCs9aCxuLmxpdGVyYWwoc2xpY2VTdHJpbmcodCxvLGgpKX19LGxhbmdTdHJpbmdMaXRlcmFsV3JpdGVyPXt3cml0ZSh0LGUpe2UubGVuZ3Rocz1wYWROdW1TdGFydCh0LnZhbHVlLmxlbmd0aCkrcGFkTnVtU3RhcnQodC5sYW5ndWFnZS5sZW5ndGgpLGUudmFsdWU9dC5sYW5ndWFnZStzZXBhcmF0b3IrdC52YWx1ZX19LGxhbmdTdHJpbmdMaXRlcmFsUmVhZGVyPXtyZWFkKHQsZSxuLG8pe2NvbnN0e2tleU9mZnNldDpkLGxlbmd0aHNPZmZzZXQ6aH09ZSxsPXBhcnNlSW50KHNsaWNlU3RyaW5nKHQsaCw0KSksdT1wYXJzZUludChzbGljZVN0cmluZyh0LGgrNCw0KSk7cmV0dXJuIGUubGVuZ3Roc09mZnNldCs9OCxlLmtleU9mZnNldCs9bCt1K3NlcGFyYXRvci5sZW5ndGgsbi5saXRlcmFsKHNsaWNlU3RyaW5nKHQsZCt1K3NlcGFyYXRvci5sZW5ndGgsbCksc2xpY2VTdHJpbmcodCxkLHUpKX19LG51bWVyaWNMaXRlcmFsV3JpdGVyPXt3cml0ZSh0LGUsbixvLGQpe2UubGVuZ3Rocz1wYWROdW1TdGFydCh0LnZhbHVlLmxlbmd0aCkrcGFkTnVtU3RhcnQodC5kYXRhdHlwZS52YWx1ZS5sZW5ndGgpK3BhZE51bVN0YXJ0KGQubGVuZ3RoKSxvP2UudmFsdWU9ZDplLnZhbHVlPWQrc2VwYXJhdG9yK3QuZGF0YXR5cGUudmFsdWUrc2VwYXJhdG9yK3QudmFsdWV9fSxudW1lcmljTGl0ZXJhbFJlYWRlcj17cmVhZCh0LGUsbixvKXtjb25zdHtrZXlPZmZzZXQ6ZCxsZW5ndGhzT2Zmc2V0Omh9PWUsbD1wYXJzZUludChzbGljZVN0cmluZyh0LGgsNCkpLHU9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoKzQsNCkpLHA9cGFyc2VJbnQoc2xpY2VTdHJpbmcodCxoKzgsNCkpO3JldHVybiBlLmxlbmd0aHNPZmZzZXQrPTEyLGUua2V5T2Zmc2V0Kz1wK3UrbCtzZXBhcmF0b3IubGVuZ3RoKjIsbi5saXRlcmFsKHNsaWNlU3RyaW5nKHQsZCtwK3NlcGFyYXRvci5sZW5ndGgrdStzZXBhcmF0b3IubGVuZ3RoLGwpLG4ubmFtZWROb2RlKHNsaWNlU3RyaW5nKHQsZCtwK3NlcGFyYXRvci5sZW5ndGgsdSkpKX19LGRlZmF1bHRHcmFwaFdyaXRlcj17d3JpdGUodCxlKXtlLnZhbHVlPSJkZyIsZS5sZW5ndGhzPSIyIn19LGRlZmF1bHRHcmFwaFJlYWRlcj17cmVhZCh0LGUsbixvKXtyZXR1cm4gZS5rZXlPZmZzZXQrPTIsZS5sZW5ndGhzT2Zmc2V0Kz0xLG4uZGVmYXVsdEdyYXBoKCl9fSx0ZXJtV3JpdGVyPXt3cml0ZSh0LGUsbil7c3dpdGNoKHQudGVybVR5cGUpe2Nhc2UiTmFtZWROb2RlIjplLnR5cGU9IjAiLG5hbWVkTm9kZVdyaXRlci53cml0ZSh0LGUsbik7YnJlYWs7Y2FzZSJCbGFua05vZGUiOmUudHlwZT0iMSIsYmxhbmtOb2RlV3JpdGVyLndyaXRlKHQsZSxuKTticmVhaztjYXNlIkRlZmF1bHRHcmFwaCI6ZS50eXBlPSI2IixkZWZhdWx0R3JhcGhXcml0ZXIud3JpdGUodCxlLG4pO2JyZWFrO2Nhc2UiTGl0ZXJhbCI6aWYodC5sYW5ndWFnZSllLnR5cGU9IjQiLGxhbmdTdHJpbmdMaXRlcmFsV3JpdGVyLndyaXRlKHQsZSxuKTtlbHNlIGlmKHQuZGF0YXR5cGUpc3dpdGNoKHQuZGF0YXR5cGUudmFsdWUpe2Nhc2Ugc3RyaW5nOmUudHlwZT0iMyIsc3RyaW5nTGl0ZXJhbFdyaXRlci53cml0ZSh0LGUsbik7YnJlYWs7Y2FzZSBpbnRlZ2VyOmNhc2UgZG91YmxlOmNhc2UgZGVjaW1hbDpjYXNlIG5vblBvc2l0aXZlSW50ZWdlcjpjYXNlIG5lZ2F0aXZlSW50ZWdlcjpjYXNlIGxvbmc6Y2FzZSBpbnQ6Y2FzZSBzaG9ydDpjYXNlIGJ5dGU6Y2FzZSBub25OZWdhdGl2ZUludGVnZXI6Y2FzZSB1bnNpZ25lZExvbmc6Y2FzZSB1bnNpZ25lZEludDpjYXNlIHVuc2lnbmVkU2hvcnQ6Y2FzZSB1bnNpZ25lZEJ5dGU6Y2FzZSBwb3NpdGl2ZUludGVnZXI6ZS50eXBlPSI1IixudW1lcmljTGl0ZXJhbFdyaXRlci53cml0ZSh0LGUsbiwhMSxlbmNvZGUodC52YWx1ZSkpO2JyZWFrO2Nhc2UgZGF0ZVRpbWU6ZS50eXBlPSI3IixudW1lcmljTGl0ZXJhbFdyaXRlci53cml0ZSh0LGUsbiwhMSxlbmNvZGUobmV3IERhdGUodC52YWx1ZSkudmFsdWVPZigpKSk7YnJlYWs7ZGVmYXVsdDplLnR5cGU9IjIiLGdlbmVyaWNMaXRlcmFsV3JpdGVyLndyaXRlKHQsZSxuKX1lbHNlIGUudHlwZT0iMyIsc3RyaW5nTGl0ZXJhbFdyaXRlci53cml0ZSh0LGUsbil9fX0sdGVybVJlYWRlcj17cmVhZCh0LGUsbixvKXtsZXQgZDtjb25zdCBoPXQuY2hhckF0KGUubGVuZ3Roc09mZnNldCk7c3dpdGNoKGUubGVuZ3Roc09mZnNldCs9MSxoKXtjYXNlIjAiOmQ9bmFtZWROb2RlUmVhZGVyLnJlYWQodCxlLG4sbyk7YnJlYWs7Y2FzZSIxIjpkPWJsYW5rTm9kZVJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiMiI6ZD1nZW5lcmljTGl0ZXJhbFJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiMyI6ZD1zdHJpbmdMaXRlcmFsUmVhZGVyLnJlYWQodCxlLG4sbyk7YnJlYWs7Y2FzZSI0IjpkPWxhbmdTdHJpbmdMaXRlcmFsUmVhZGVyLnJlYWQodCxlLG4sbyk7YnJlYWs7Y2FzZSI1IjpkPW51bWVyaWNMaXRlcmFsUmVhZGVyLnJlYWQodCxlLG4sbyk7YnJlYWs7Y2FzZSI2IjpkPWRlZmF1bHRHcmFwaFJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2Nhc2UiNyI6ZD1udW1lcmljTGl0ZXJhbFJlYWRlci5yZWFkKHQsZSxuLG8pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGVuY29kZWQgdGVybSB0eXBlICIke2h9ImApfXJldHVybiBkfX0sdHdvU3RlcHNRdWFkV3JpdGVyPXtzdWJqZWN0Ont0eXBlOiIiLHZhbHVlOiIiLGxlbmd0aHM6IiJ9LHByZWRpY2F0ZTp7dHlwZToiIix2YWx1ZToiIixsZW5ndGhzOiIifSxvYmplY3Q6e3R5cGU6IiIsdmFsdWU6IiIsbGVuZ3RoczoiIn0sZ3JhcGg6e3R5cGU6IiIsdmFsdWU6IiIsbGVuZ3RoczoiIn0saW5nZXN0KHQsZSl7cmV0dXJuIHRlcm1Xcml0ZXIud3JpdGUodC5zdWJqZWN0LHRoaXMuc3ViamVjdCxlKSx0ZXJtV3JpdGVyLndyaXRlKHQucHJlZGljYXRlLHRoaXMucHJlZGljYXRlLGUpLHRlcm1Xcml0ZXIud3JpdGUodC5vYmplY3QsdGhpcy5vYmplY3QsZSksdGVybVdyaXRlci53cml0ZSh0LmdyYXBoLHRoaXMuZ3JhcGgsZSksdGhpc30sd3JpdGUodCxlKXtsZXQgbj10LG89IiI7Zm9yKGxldCBkPTAsaDtkPGUubGVuZ3RoO2QrPTEpaD10aGlzW2VbZF1dLG4rPWgudmFsdWUrc2VwYXJhdG9yLG8rPWgudHlwZStoLmxlbmd0aHM7cmV0dXJuIG4rbytwYWROdW1TdGFydChvLmxlbmd0aCl9fSxxdWFkUmVhZGVyPXtzdWJqZWN0Om51bGwscHJlZGljYXRlOm51bGwsb2JqZWN0Om51bGwsZ3JhcGg6bnVsbCxrZXlPZmZzZXQ6MCxsZW5ndGhzT2Zmc2V0OjAscmVhZCh0LGUsbixvLGQpe3RoaXMubGVuZ3Roc09mZnNldD10Lmxlbmd0aC1wYXJzZUludCh0LnNsaWNlKC00KSktNCx0aGlzLmtleU9mZnNldD1lO2ZvcihsZXQgaD0wLGw7aDxuLmxlbmd0aDtoKz0xKWw9bltoXSx0aGlzW2xdPXRlcm1SZWFkZXIucmVhZCh0LHRoaXMsbyxkKSx0aGlzLmtleU9mZnNldCs9c2VwYXJhdG9yLmxlbmd0aDtyZXR1cm4gby5xdWFkKHRoaXMuc3ViamVjdCx0aGlzLnByZWRpY2F0ZSx0aGlzLm9iamVjdCx0aGlzLmdyYXBoKX19LHNlcmlhbGl6ZWQ9e3R5cGU6IiIsdmFsdWU6IiIsbGVuZ3RoczoiIn0scGF0dGVybkxpdGVyYWxXcml0ZXI9e3dyaXRlKHQsZSl7aWYodC5sYW5ndWFnZSl7bGFuZ1N0cmluZ0xpdGVyYWxXcml0ZXIud3JpdGUodCxzZXJpYWxpemVkLGUpO3JldHVybn1pZih0LmRhdGF0eXBlKXN3aXRjaCh0LmRhdGF0eXBlLnZhbHVlKXtjYXNlIHN0cmluZzpzdHJpbmdMaXRlcmFsV3JpdGVyLndyaXRlKHQsc2VyaWFsaXplZCxlKTtyZXR1cm47Y2FzZSBpbnRlZ2VyOmNhc2UgZG91YmxlOmNhc2UgZGVjaW1hbDpjYXNlIG5vblBvc2l0aXZlSW50ZWdlcjpjYXNlIG5lZ2F0aXZlSW50ZWdlcjpjYXNlIGxvbmc6Y2FzZSBpbnQ6Y2FzZSBzaG9ydDpjYXNlIGJ5dGU6Y2FzZSBub25OZWdhdGl2ZUludGVnZXI6Y2FzZSB1bnNpZ25lZExvbmc6Y2FzZSB1bnNpZ25lZEludDpjYXNlIHVuc2lnbmVkU2hvcnQ6Y2FzZSB1bnNpZ25lZEJ5dGU6Y2FzZSBwb3NpdGl2ZUludGVnZXI6bnVtZXJpY0xpdGVyYWxXcml0ZXIud3JpdGUodCxzZXJpYWxpemVkLGUsITAsZW5jb2RlKHQudmFsdWUpKTtyZXR1cm47Y2FzZSBkYXRlVGltZTpudW1lcmljTGl0ZXJhbFdyaXRlci53cml0ZSh0LHNlcmlhbGl6ZWQsZSwhMCxlbmNvZGUobmV3IERhdGUodC52YWx1ZSkudmFsdWVPZigpKSk7cmV0dXJuO2RlZmF1bHQ6Z2VuZXJpY0xpdGVyYWxXcml0ZXIud3JpdGUodCxzZXJpYWxpemVkLGUpO3JldHVybn1zdHJpbmdMaXRlcmFsV3JpdGVyLndyaXRlKHQsc2VyaWFsaXplZCxlKX19LHdyaXRlUGF0dGVybj0odCxlLG4pPT57bGV0IG89ZS5wcmVmaXgsZD1lLnByZWZpeCxoPSEwLGw9ITAsdT0hMSxwPSExLGc9T2JqZWN0LmVudHJpZXModCkuZmlsdGVyKChbYixfXSk9Pl8pLmxlbmd0aDtpZihnPT09MClyZXR1cm4gZCs9Ym91bmRhcnkse2d0Om8sbHQ6ZCxndGU6aCxsdGU6bCxvcmRlcjplLnRlcm1zLGluZGV4OmV9O2xldCB2PTA7Zm9yKDt2PGUudGVybXMubGVuZ3RoJiZnPjA7dis9MSl7Y29uc3QgYj10W2UudGVybXNbdl1dO2lmKCFifHx1fHxwKXJldHVybiBudWxsO3N3aXRjaChiLnRlcm1UeXBlKXtjYXNlIlJhbmdlIjp1PSEwLGIuZ3Q/KHBhdHRlcm5MaXRlcmFsV3JpdGVyLndyaXRlKGIuZ3Qsbiksbys9c2VyaWFsaXplZC52YWx1ZSxoPSExKTpiLmd0ZSYmKHBhdHRlcm5MaXRlcmFsV3JpdGVyLndyaXRlKGIuZ3RlLG4pLG8rPXNlcmlhbGl6ZWQudmFsdWUsaD0hMCksYi5sdD8ocGF0dGVybkxpdGVyYWxXcml0ZXIud3JpdGUoYi5sdCxuKSxkKz1zZXJpYWxpemVkLnZhbHVlLGw9ITEpOmIubHRlJiYocGF0dGVybkxpdGVyYWxXcml0ZXIud3JpdGUoYi5sdGUsbiksZCs9c2VyaWFsaXplZC52YWx1ZSxsPSEwKTticmVhaztjYXNlIkxpdGVyYWwiOnA9ITAscGF0dGVybkxpdGVyYWxXcml0ZXIud3JpdGUoYixuKSxvKz1zZXJpYWxpemVkLnZhbHVlLGg9ITAscGF0dGVybkxpdGVyYWxXcml0ZXIud3JpdGUoYixuKSxkKz1zZXJpYWxpemVkLnZhbHVlLGw9ITA7YnJlYWs7Y2FzZSJOYW1lZE5vZGUiOm5hbWVkTm9kZVdyaXRlci53cml0ZShiLHNlcmlhbGl6ZWQsbiksbys9c2VyaWFsaXplZC52YWx1ZSxoPSEwLG5hbWVkTm9kZVdyaXRlci53cml0ZShiLHNlcmlhbGl6ZWQsbiksZCs9c2VyaWFsaXplZC52YWx1ZSxsPSEwO2JyZWFrO2Nhc2UiQmxhbmtOb2RlIjpibGFua05vZGVXcml0ZXIud3JpdGUoYixzZXJpYWxpemVkLG4pLG8rPXNlcmlhbGl6ZWQudmFsdWUsaD0hMCxibGFua05vZGVXcml0ZXIud3JpdGUoYixzZXJpYWxpemVkLG4pLGQrPXNlcmlhbGl6ZWQudmFsdWUsbD0hMDticmVhaztjYXNlIkRlZmF1bHRHcmFwaCI6ZGVmYXVsdEdyYXBoV3JpdGVyLndyaXRlKGIsc2VyaWFsaXplZCxuKSxvKz1zZXJpYWxpemVkLnZhbHVlLGg9ITAsZGVmYXVsdEdyYXBoV3JpdGVyLndyaXRlKGIsc2VyaWFsaXplZCxuKSxkKz1zZXJpYWxpemVkLnZhbHVlLGw9ITA7YnJlYWt9Zy09MSxnPjAmJnY8ZS50ZXJtcy5sZW5ndGgtMSYmKG8rPXNlcGFyYXRvcixkKz1zZXBhcmF0b3IpfXJldHVybiBsP3V8fHA/ZCs9Ym91bmRhcnk6ZCs9c2VwYXJhdG9yK2JvdW5kYXJ5OmQrPXNlcGFyYXRvcixoPyF1JiYhcCYmKG8rPXNlcGFyYXRvcik6dXx8cD9vKz1ib3VuZGFyeTpvKz1zZXBhcmF0b3IrYm91bmRhcnkse2d0Om8sbHQ6ZCxndGU6aCxsdGU6bCxvcmRlcjplLnRlcm1zLnNsaWNlKHU/di0xOjEpLGluZGV4OmV9fTt2YXIgc29ydGVkU2V0RXhwb3J0cz17fSxzb3J0ZWRTZXQ9e2dldCBleHBvcnRzKCl7cmV0dXJuIHNvcnRlZFNldEV4cG9ydHN9LHNldCBleHBvcnRzKHQpe3NvcnRlZFNldEV4cG9ydHM9dH19OyhmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihuLG8pe3QuZXhwb3J0cz1vKCl9KShjb21tb25qc0dsb2JhbCxmdW5jdGlvbigpe2NsYXNzIG57Y29uc3RydWN0b3IoJCl7aWYoJD8uc3RyYXRlZ3k9PW51bGwpdGhyb3ciTXVzdCBwYXNzIG9wdGlvbnMuc3RyYXRlZ3ksIGEgc3RyYXRlZ3kiO2lmKCQ/LmNvbXBhcmF0b3I9PW51bGwpdGhyb3ciTXVzdCBwYXNzIG9wdGlvbnMuY29tcGFyYXRvciwgYSBjb21wYXJhdG9yIjtpZigkPy5vbkluc2VydENvbmZsaWN0PT1udWxsKXRocm93Ik11c3QgcGFzcyBvcHRpb25zLm9uSW5zZXJ0Q29uZmxpY3QsIGEgZnVuY3Rpb24iO3RoaXMucHJpdj1uZXcgJC5zdHJhdGVneSgkKSx0aGlzLmxlbmd0aD0wfWluc2VydCgkKXtyZXR1cm4gdGhpcy5wcml2Lmluc2VydCgkKSx0aGlzLmxlbmd0aCs9MSx0aGlzfXJlbW92ZSgkKXtyZXR1cm4gdGhpcy5wcml2LnJlbW92ZSgkKSx0aGlzLmxlbmd0aC09MSx0aGlzfWNsZWFyKCl7cmV0dXJuIHRoaXMucHJpdi5jbGVhcigpLHRoaXMubGVuZ3RoPTAsdGhpc31jb250YWlucygkKXtyZXR1cm4gdGhpcy5wcml2LmNvbnRhaW5zKCQpfXRvQXJyYXkoKXtyZXR1cm4gdGhpcy5wcml2LnRvQXJyYXkoKX1mb3JFYWNoKCQsVSl7cmV0dXJuIHRoaXMucHJpdi5mb3JFYWNoSW1wbCgkLHRoaXMsVSksdGhpc31tYXAoJCxVKXtjb25zdCBIPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWUsZ2UsbWUpe3JldHVybiBILnB1c2goJC5jYWxsKFUsZWUsZ2UsbWUpKX0pLEh9ZmlsdGVyKCQsVSl7Y29uc3QgSD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGVlLGdlLG1lKXtpZigkLmNhbGwoVSxlZSxnZSxtZSkpcmV0dXJuIEgucHVzaChlZSl9KSxIfWV2ZXJ5KCQsVSl7bGV0IEg9ITA7cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlZSxnZSxtZSl7SCYmISQuY2FsbChVLGVlLGdlLG1lKSYmKEg9ITEpfSksSH1zb21lKCQsVSl7bGV0IEg9ITE7cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlZSxnZSxtZSl7IUgmJiQuY2FsbChVLGVlLGdlLG1lKSYmKEg9ITApfSksSH1maW5kSXRlcmF0b3IoJCl7cmV0dXJuIHRoaXMucHJpdi5maW5kSXRlcmF0b3IoJCl9YmVnaW5JdGVyYXRvcigpe3JldHVybiB0aGlzLnByaXYuYmVnaW5JdGVyYXRvcigpfWVuZEl0ZXJhdG9yKCl7cmV0dXJuIHRoaXMucHJpdi5lbmRJdGVyYXRvcigpfX1jbGFzcyBve2NvbnN0cnVjdG9yKCQsVSl7dGhpcy5wcml2PSQsdGhpcy5pbmRleD1VLHRoaXMuZGF0YT10aGlzLnByaXYuZGF0YX1oYXNOZXh0KCl7cmV0dXJuIHRoaXMuaW5kZXg8dGhpcy5kYXRhLmxlbmd0aH1oYXNQcmV2aW91cygpe3JldHVybiB0aGlzLmluZGV4PjB9dmFsdWUoKXtyZXR1cm4gdGhpcy5pbmRleDx0aGlzLmRhdGEubGVuZ3RoP3RoaXMuZGF0YVt0aGlzLmluZGV4XTpudWxsfXNldFZhbHVlKCQpe2lmKCF0aGlzLnByaXYub3B0aW9ucy5hbGxvd1NldFZhbHVlKXRocm93Ik11c3Qgc2V0IG9wdGlvbnMuYWxsb3dTZXRWYWx1ZSI7aWYoIXRoaXMuaGFzTmV4dCgpKXRocm93IkNhbm5vdCBzZXQgdmFsdWUgYXQgZW5kIG9mIHNldCI7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLmluZGV4XT0kfW5leHQoKXtyZXR1cm4gdGhpcy5pbmRleD49dGhpcy5kYXRhLmxlbmd0aD9udWxsOm5ldyBvKHRoaXMucHJpdix0aGlzLmluZGV4KzEpfXByZXZpb3VzKCl7cmV0dXJuIHRoaXMuaW5kZXg8PTA/bnVsbDpuZXcgbyh0aGlzLnByaXYsdGhpcy5pbmRleC0xKX19Y29uc3QgZD0oTSwkLFUpPT57bGV0IEg9MCxlZT1NLmxlbmd0aDtmb3IoO0g8ZWU7KXtjb25zdCBnZT1IK2VlPj4+MTtVKE1bZ2VdLCQpPDA/SD1nZSsxOmVlPWdlfXJldHVybiBIfTtjbGFzcyBoe2NvbnN0cnVjdG9yKCQpe3RoaXMub3B0aW9ucz0kLHRoaXMub25JbnNlcnRDb25mbGljdD10aGlzLm9wdGlvbnMub25JbnNlcnRDb25mbGljdCx0aGlzLmNvbXBhcmF0b3I9dGhpcy5vcHRpb25zLmNvbXBhcmF0b3IsdGhpcy5kYXRhPVtdfXRvQXJyYXkoKXtyZXR1cm4gdGhpcy5kYXRhfWluc2VydCgkKXtjb25zdCBVPWQodGhpcy5kYXRhLCQsdGhpcy5jb21wYXJhdG9yKTtyZXR1cm4gdGhpcy5kYXRhW1VdIT09dm9pZCAwJiZ0aGlzLmNvbXBhcmF0b3IodGhpcy5kYXRhW1VdLCQpPT09MD90aGlzLmRhdGEuc3BsaWNlKFUsMSx0aGlzLm9uSW5zZXJ0Q29uZmxpY3QodGhpcy5kYXRhW1VdLCQpKTp0aGlzLmRhdGEuc3BsaWNlKFUsMCwkKX1yZW1vdmUoJCl7Y29uc3QgVT1kKHRoaXMuZGF0YSwkLHRoaXMuY29tcGFyYXRvcik7aWYodGhpcy5jb21wYXJhdG9yKHRoaXMuZGF0YVtVXSwkKSE9PTApdGhyb3ciVmFsdWUgbm90IGluIHNldCI7cmV0dXJuIHRoaXMuZGF0YS5zcGxpY2UoVSwxKX1jbGVhcigpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RoPTB9Y29udGFpbnMoJCl7Y29uc3QgVT1kKHRoaXMuZGF0YSwkLHRoaXMuY29tcGFyYXRvcik7cmV0dXJuIHRoaXMuaW5kZXghPT10aGlzLmRhdGEubGVuZ3RoJiZ0aGlzLmNvbXBhcmF0b3IodGhpcy5kYXRhW1VdLCQpPT09MH1mb3JFYWNoSW1wbCgkLFUsSCl7Y29uc3QgZWU9dGhpcy5kYXRhLGdlPWVlLmxlbmd0aDtmb3IobGV0IG1lPTA7bWU8Z2U7bWUrKykkLmNhbGwoSCxlZVttZV0sbWUsVSl9ZmluZEl0ZXJhdG9yKCQpe2NvbnN0IFU9ZCh0aGlzLmRhdGEsJCx0aGlzLmNvbXBhcmF0b3IpO3JldHVybiBuZXcgbyh0aGlzLFUpfWJlZ2luSXRlcmF0b3IoKXtyZXR1cm4gbmV3IG8odGhpcywwKX1lbmRJdGVyYXRvcigpe3JldHVybiBuZXcgbyh0aGlzLHRoaXMuZGF0YS5sZW5ndGgpfX1jb25zdCBsPShNLCQpPT57Zm9yKDskW01dIT09bnVsbDspe2NvbnN0IFU9JDskPSRbTV0sJC5faXRlcmF0b3JQYXJlbnROb2RlPVV9cmV0dXJuICR9LHU9KE0sJCk9PntsZXQgVSxIO2lmKCRbTV0hPT1udWxsKVU9JCwkPSRbTV0sJC5faXRlcmF0b3JQYXJlbnROb2RlPVUsSD1NPT09ImxlZnQiPyJyaWdodCI6ImxlZnQiLCQ9bChILCQpO2Vsc2V7Zm9yKDsoVT0kLl9pdGVyYXRvclBhcmVudE5vZGUpIT09bnVsbCYmVVtNXT09PSQ7KSQ9VTskPVV9cmV0dXJuICR9O2NsYXNzIHB7Y29uc3RydWN0b3IoJCxVKXt0aGlzLnRyZWU9JCx0aGlzLm5vZGU9VX1uZXh0KCl7aWYodGhpcy5ub2RlPT09bnVsbClyZXR1cm4gbnVsbDt7Y29uc3QgJD11KCJyaWdodCIsdGhpcy5ub2RlKTtyZXR1cm4gbmV3IHAodGhpcy50cmVlLCQpfX1wcmV2aW91cygpe2lmKHRoaXMubm9kZT09PW51bGwpe2lmKHRoaXMudHJlZS5yb290PT09bnVsbClyZXR1cm4gbnVsbDt7dGhpcy50cmVlLnJvb3QuX2l0ZXJhdG9yUGFyZW50Tm9kZT1udWxsO2NvbnN0ICQ9bCgicmlnaHQiLHRoaXMudHJlZS5yb290KTtyZXR1cm4gbmV3IHAodGhpcy50cmVlLCQpfX1lbHNle2NvbnN0ICQ9dSgibGVmdCIsdGhpcy5ub2RlKTtyZXR1cm4gJD09PW51bGw/bnVsbDpuZXcgcCh0aGlzLnRyZWUsJCl9fWhhc05leHQoKXtyZXR1cm4gdGhpcy5ub2RlIT09bnVsbH1oYXNQcmV2aW91cygpe3JldHVybiB0aGlzLnByZXZpb3VzKCkhPT1udWxsfXZhbHVlKCl7cmV0dXJuIHRoaXMubm9kZT09PW51bGw/bnVsbDp0aGlzLm5vZGUudmFsdWV9c2V0VmFsdWUoJCl7aWYoIXRoaXMudHJlZS5vcHRpb25zLmFsbG93U2V0VmFsdWUpdGhyb3ciTXVzdCBzZXQgb3B0aW9ucy5hbGxvd1NldFZhbHVlIjtpZighdGhpcy5oYXNOZXh0KCkpdGhyb3ciQ2Fubm90IHNldCB2YWx1ZSBhdCBlbmQgb2Ygc2V0IjtyZXR1cm4gdGhpcy5ub2RlLnZhbHVlPSR9fXAuZmluZD1mdW5jdGlvbihNLCQsVSl7Y29uc3QgSD1NLnJvb3Q7SCE9bnVsbCYmKEguX2l0ZXJhdG9yUGFyZW50Tm9kZT1udWxsKTtsZXQgZWU9SCxnZT1udWxsO2Zvcig7ZWUhPT1udWxsOyl7Y29uc3QgbWU9VSgkLGVlLnZhbHVlKTtpZihtZT09PTApYnJlYWs7aWYobWU8MCl7aWYoZWUubGVmdD09PW51bGwpYnJlYWs7Z2U9ZWUsZWUubGVmdC5faXRlcmF0b3JQYXJlbnROb2RlPWVlLGVlPWVlLmxlZnR9ZWxzZSBpZihlZS5yaWdodCE9PW51bGwpZWUucmlnaHQuX2l0ZXJhdG9yUGFyZW50Tm9kZT1lZSxlZT1lZS5yaWdodDtlbHNle2VlPWdlO2JyZWFrfX1yZXR1cm4gbmV3IHAoTSxlZSl9LHAubGVmdD1NPT57aWYoTS5yb290PT09bnVsbClyZXR1cm4gbmV3IHAoTSxudWxsKTt7TS5yb290Ll9pdGVyYXRvclBhcmVudE5vZGU9bnVsbDtjb25zdCAkPWwoImxlZnQiLE0ucm9vdCk7cmV0dXJuIG5ldyBwKE0sJCl9fSxwLnJpZ2h0PU09Pm5ldyBwKE0sbnVsbCk7Y29uc3QgZz0oTSwkKT0+e00hPT1udWxsJiYoZyhNLmxlZnQsJCksJChNLnZhbHVlKSxnKE0ucmlnaHQsJCkpfTtjbGFzcyB2e3RvQXJyYXkoKXtjb25zdCAkPVtdO3JldHVybiBnKHRoaXMucm9vdCxmdW5jdGlvbihVKXtyZXR1cm4gJC5wdXNoKFUpfSksJH1jbGVhcigpe3JldHVybiB0aGlzLnJvb3Q9bnVsbH1mb3JFYWNoSW1wbCgkLFUsSCl7bGV0IGVlPTA7Zyh0aGlzLnJvb3QsZnVuY3Rpb24oZ2UpeyQuY2FsbChILGdlLGVlLFUpLGVlKz0xfSl9Y29udGFpbnMoJCl7Y29uc3QgVT10aGlzLmNvbXBhcmF0b3I7bGV0IEg9dGhpcy5yb290O2Zvcig7SCE9PW51bGw7KXtjb25zdCBlZT1VKCQsSC52YWx1ZSk7aWYoZWU9PT0wKWJyZWFrO2VlPDA/SD1ILmxlZnQ6SD1ILnJpZ2h0fXJldHVybiBIIT09bnVsbCYmVShILnZhbHVlLCQpPT09MH1maW5kSXRlcmF0b3IoJCl7cmV0dXJuIHAuZmluZCh0aGlzLCQsdGhpcy5jb21wYXJhdG9yKX1iZWdpbkl0ZXJhdG9yKCl7cmV0dXJuIHAubGVmdCh0aGlzKX1lbmRJdGVyYXRvcigpe3JldHVybiBwLnJpZ2h0KHRoaXMpfX1jbGFzcyBie2NvbnN0cnVjdG9yKCQpe3RoaXMudmFsdWU9JCx0aGlzLmxlZnQ9bnVsbCx0aGlzLnJpZ2h0PW51bGx9fWNvbnN0IF89KE0sJCk9Pntmb3IoO01bJF0hPT1udWxsOylNPU1bJF07cmV0dXJuIE19LE89KE0sJCxVKT0+e2lmKE09PT1udWxsKXRocm93IlZhbHVlIG5vdCBpbiBzZXQiO2NvbnN0IEg9VSgkLE0udmFsdWUpO2lmKEg8MClNLmxlZnQ9TyhNLmxlZnQsJCxVKTtlbHNlIGlmKEg+MClNLnJpZ2h0PU8oTS5yaWdodCwkLFUpO2Vsc2UgaWYoTS5sZWZ0PT09bnVsbCYmTS5yaWdodD09PW51bGwpTT1udWxsO2Vsc2UgaWYoTS5yaWdodD09PW51bGwpTT1NLmxlZnQ7ZWxzZSBpZihNLmxlZnQ9PT1udWxsKU09TS5yaWdodDtlbHNle2NvbnN0IGVlPV8oTS5yaWdodCwibGVmdCIpO00udmFsdWU9ZWUudmFsdWUsTS5yaWdodD1PKE0ucmlnaHQsZWUudmFsdWUsVSl9cmV0dXJuIE19O2NsYXNzIFQgZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKCQpe3N1cGVyKCksdGhpcy5vcHRpb25zPSQsdGhpcy5jb21wYXJhdG9yPXRoaXMub3B0aW9ucy5jb21wYXJhdG9yLHRoaXMub25JbnNlcnRDb25mbGljdD10aGlzLm9wdGlvbnMub25JbnNlcnRDb25mbGljdCx0aGlzLnJvb3Q9bnVsbH1pbnNlcnQoJCl7Y29uc3QgVT10aGlzLmNvbXBhcmF0b3I7aWYodGhpcy5yb290IT09bnVsbCl7bGV0IEg9dGhpcy5yb290LGVlPW51bGw7Zm9yKDs7KXtjb25zdCBnZT1VKCQsSC52YWx1ZSk7aWYoZ2U9PT0wKXtILnZhbHVlPXRoaXMub25JbnNlcnRDb25mbGljdChILnZhbHVlLCQpO3JldHVybn1lbHNle2lmKGVlPWdlPDA/ImxlZnQiOiJyaWdodCIsSFtlZV09PT1udWxsKWJyZWFrO0g9SFtlZV19fXJldHVybiBIW2VlXT1uZXcgYigkKX1lbHNlIHJldHVybiB0aGlzLnJvb3Q9bmV3IGIoJCl9cmVtb3ZlKCQpe3JldHVybiB0aGlzLnJvb3Q9Tyh0aGlzLnJvb3QsJCx0aGlzLmNvbXBhcmF0b3IpfX1jbGFzcyBTe2NvbnN0cnVjdG9yKCQpe3RoaXMudmFsdWU9JCx0aGlzLmxlZnQ9bnVsbCx0aGlzLnJpZ2h0PW51bGwsdGhpcy5pc1JlZD0hMH19Y29uc3QgTj1NPT57Y29uc3QgJD1NLnJpZ2h0O3JldHVybiBNLnJpZ2h0PSQubGVmdCwkLmxlZnQ9TSwkLmlzUmVkPU0uaXNSZWQsTS5pc1JlZD0hMCwkfSxCPU09Pntjb25zdCAkPU0ubGVmdDtyZXR1cm4gTS5sZWZ0PSQucmlnaHQsJC5yaWdodD1NLCQuaXNSZWQ9TS5pc1JlZCxNLmlzUmVkPSEwLCR9LEw9TT0+e00uaXNSZWQ9IU0uaXNSZWQsTS5sZWZ0LmlzUmVkPSFNLmxlZnQuaXNSZWQsTS5yaWdodC5pc1JlZD0hTS5yaWdodC5pc1JlZH0sQz1NPT4oTChNKSxNLnJpZ2h0IT09bnVsbCYmTS5yaWdodC5sZWZ0IT09bnVsbCYmTS5yaWdodC5sZWZ0LmlzUmVkJiYoTS5yaWdodD1CKE0ucmlnaHQpLE09TihNKSxMKE0pKSxNKSxqPU09PihMKE0pLE0ubGVmdCE9PW51bGwmJk0ubGVmdC5sZWZ0IT09bnVsbCYmTS5sZWZ0LmxlZnQuaXNSZWQmJihNPUIoTSksTChNKSksTSksUD0oTSwkLFUsSCk9PntpZihNPT09bnVsbClyZXR1cm4gbmV3IFMoJCk7Y29uc3QgZWU9VSgkLE0udmFsdWUpO3JldHVybiBlZT09PTA/TS52YWx1ZT1IKE0udmFsdWUsJCk6ZWU8MD9NLmxlZnQ9UChNLmxlZnQsJCxVLEgpOk0ucmlnaHQ9UChNLnJpZ2h0LCQsVSxIKSxNLnJpZ2h0IT09bnVsbCYmTS5yaWdodC5pc1JlZCYmIShNLmxlZnQhPT1udWxsJiZNLmxlZnQuaXNSZWQpJiYoTT1OKE0pKSxNLmxlZnQhPT1udWxsJiZNLmxlZnQuaXNSZWQmJk0ubGVmdC5sZWZ0IT09bnVsbCYmTS5sZWZ0LmxlZnQuaXNSZWQmJihNPUIoTSkpLE0ubGVmdCE9PW51bGwmJk0ubGVmdC5pc1JlZCYmTS5yaWdodCE9PW51bGwmJk0ucmlnaHQuaXNSZWQmJkwoTSksTX0sRj1NPT57Zm9yKDtNLmxlZnQhPT1udWxsOylNPU0ubGVmdDtyZXR1cm4gTX0saz1NPT4oTS5yaWdodCE9PW51bGwmJk0ucmlnaHQuaXNSZWQmJihNPU4oTSkpLE0ubGVmdCE9PW51bGwmJk0ubGVmdC5pc1JlZCYmTS5sZWZ0LmxlZnQhPT1udWxsJiZNLmxlZnQubGVmdC5pc1JlZCYmKE09QihNKSksTS5sZWZ0IT09bnVsbCYmTS5sZWZ0LmlzUmVkJiZNLnJpZ2h0IT09bnVsbCYmTS5yaWdodC5pc1JlZCYmTChNKSxNKSxKPU09Pk0ubGVmdD09PW51bGw/bnVsbDooIU0ubGVmdC5pc1JlZCYmIShNLmxlZnQubGVmdCE9PW51bGwmJk0ubGVmdC5sZWZ0LmlzUmVkKSYmKE09QyhNKSksTS5sZWZ0PUooTS5sZWZ0KSxrKE0pKSxhZT0oTSwkLFUpPT57aWYoTT09PW51bGwpdGhyb3ciVmFsdWUgbm90IGluIHNldCI7aWYoVSgkLE0udmFsdWUpPDApe2lmKE0ubGVmdD09PW51bGwpdGhyb3ciVmFsdWUgbm90IGluIHNldCI7IU0ubGVmdC5pc1JlZCYmIShNLmxlZnQubGVmdCE9PW51bGwmJk0ubGVmdC5sZWZ0LmlzUmVkKSYmKE09QyhNKSksTS5sZWZ0PWFlKE0ubGVmdCwkLFUpfWVsc2V7aWYoTS5sZWZ0IT09bnVsbCYmTS5sZWZ0LmlzUmVkJiYoTT1CKE0pKSxNLnJpZ2h0PT09bnVsbCl7aWYoVSgkLE0udmFsdWUpPT09MClyZXR1cm4gbnVsbDt0aHJvdyJWYWx1ZSBub3QgaW4gc2V0In0hTS5yaWdodC5pc1JlZCYmIShNLnJpZ2h0LmxlZnQhPT1udWxsJiZNLnJpZ2h0LmxlZnQuaXNSZWQpJiYoTT1qKE0pKSxVKCQsTS52YWx1ZSk9PT0wPyhNLnZhbHVlPUYoTS5yaWdodCkudmFsdWUsTS5yaWdodD1KKE0ucmlnaHQpKTpNLnJpZ2h0PWFlKE0ucmlnaHQsJCxVKX1yZXR1cm4gTSE9PW51bGwmJihNPWsoTSkpLE19O2NsYXNzIFggZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKCQpe3N1cGVyKCksdGhpcy5vcHRpb25zPSQsdGhpcy5jb21wYXJhdG9yPXRoaXMub3B0aW9ucy5jb21wYXJhdG9yLHRoaXMub25JbnNlcnRDb25mbGljdD10aGlzLm9wdGlvbnMub25JbnNlcnRDb25mbGljdCx0aGlzLnJvb3Q9bnVsbH1pbnNlcnQoJCl7dGhpcy5yb290PVAodGhpcy5yb290LCQsdGhpcy5jb21wYXJhdG9yLHRoaXMub25JbnNlcnRDb25mbGljdCksdGhpcy5yb290LmlzUmVkPSExfXJlbW92ZSgkKXt0aGlzLnJvb3Q9YWUodGhpcy5yb290LCQsdGhpcy5jb21wYXJhdG9yKSx0aGlzLnJvb3QhPT1udWxsJiYodGhpcy5yb290LmlzUmVkPSExKX19Y29uc3QgRz17T25JbnNlcnRDb25mbGljdFRocm93OihNLCQpPT57dGhyb3cgbmV3IEVycm9yKCJWYWx1ZSBhbHJlYWR5IGluIHNldCIpfSxPbkluc2VydENvbmZsaWN0UmVwbGFjZTooTSwkKT0+JCxPbkluc2VydENvbmZsaWN0SWdub3JlOihNLCQpPT5NfTtjbGFzcyByZSBleHRlbmRzIG57Y29uc3RydWN0b3IoJCl7JHx8KCQ9e30pLCQuc3RyYXRlZ3l8fCgkLnN0cmF0ZWd5PVgpLCQuY29tcGFyYXRvcnx8KCQuY29tcGFyYXRvcj1mdW5jdGlvbihVLEgpe3JldHVybihVfHwwKS0oSHx8MCl9KSwkLm9uSW5zZXJ0Q29uZmxpY3R8fCgkLm9uSW5zZXJ0Q29uZmxpY3Q9Ry5Pbkluc2VydENvbmZsaWN0VGhyb3cpLHN1cGVyKCQpfX1yZXR1cm4gcmUuQXJyYXlTdHJhdGVneT1oLHJlLkJpbmFyeVRyZWVTdHJhdGVneT1ULHJlLlJlZEJsYWNrVHJlZVN0cmF0ZWd5PVgsT2JqZWN0LmFzc2lnbihyZSxHKSxyZX0pfSkoc29ydGVkU2V0KTtjbGFzcyBTb3J0aW5nSXRlcmF0b3IgZXh0ZW5kcyBBc3luY0l0ZXJhdG9ye2NvbnN0cnVjdG9yKGUsbixvLGQpe3N1cGVyKCk7bGV0IGg7Y29uc3QgbD0oKT0+e2NvbnN0IHU9bmV3IHNvcnRlZFNldEV4cG9ydHMoe2NvbXBhcmF0b3I6bn0pLHA9KCk9PntlLnJlbW92ZUxpc3RlbmVyKCJkYXRhIixnKSxlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsdiksZS5yZW1vdmVMaXN0ZW5lcigiZW5kIixiKSxlLmRlc3Ryb3koKX0sZz1fPT57dS5pbnNlcnQobyhfKSl9LHY9Xz0+e3AoKSx0aGlzLmVtaXQoImVycm9yIixfKX0sYj0oKT0+e3AoKSxoPXUuYmVnaW5JdGVyYXRvcigpLHRoaXMucmVhZGFibGU9ITB9O2Uub24oImRhdGEiLGcpLGUub24oImVycm9yIix2KSxlLm9uKCJlbmQiLGIpfTt0aGlzLnJlYWQ9KCk9PntpZihoKXtjb25zdCB1PWgudmFsdWUoKTtyZXR1cm4gdT09PW51bGw/KHRoaXMuY2xvc2UoKSxudWxsKTooaD1oLm5leHQoKSxkKHUpKX1yZXR1cm4gdGhpcy5yZWFkYWJsZT0hMSxudWxsfSxSRVNPTFZFRC50aGVuKGwpLmNhdGNoKHU9PntSRVNPTFZFRC50aGVuKCgpPT50aGlzLmVtaXQoImVycm9yIix1KSl9KX19Y29uc3QgU09SVElOR19LRVk9U3ltYm9sKCksY29tcGFyZVNvcnRhYmxlUXVhZHNSZXZlcnNlPSh0LGUpPT50W1NPUlRJTkdfS0VZXT5lW1NPUlRJTkdfS0VZXT8tMToxLGNvbXBhcmVTb3J0YWJsZVF1YWRzPSh0LGUpPT50W1NPUlRJTkdfS0VZXT5lW1NPUlRJTkdfS0VZXT8xOi0xLGVtaXRTb3J0YWJsZVF1YWQ9dD0+dCxnZXRMZXZlbFF1ZXJ5Rm9ySW5kZXg9KHQsZSxuLG8pPT57Y29uc3QgZD13cml0ZVBhdHRlcm4odCxlLG4pO2lmKGQ9PT1udWxsKXJldHVybiBudWxsO2NvbnN0IGg9e1tkLmd0ZT8iZ3RlIjoiZ3QiXTpkLmd0LFtkLmx0ZT8ibHRlIjoibHQiXTpkLmx0LGtleXM6ITAsdmFsdWVzOiExLGtleUVuY29kaW5nOiJ1dGY4In07cmV0dXJuIHR5cGVvZiBvLmxpbWl0PT0ibnVtYmVyIiYmKGgubGltaXQ9by5saW1pdCksdHlwZW9mIG8ucmV2ZXJzZT09ImJvb2xlYW4iJiYoaC5yZXZlcnNlPW8ucmV2ZXJzZSkse2xldmVsOmgsb3JkZXI6ZC5vcmRlcixpbmRleDpkLmluZGV4fX0sZ2V0TGV2ZWxRdWVyeT0odCxlLG4sbyk9Pntmb3IobGV0IGQ9MCxoO2Q8ZS5sZW5ndGg7ZCs9MSl7aD1lW2RdO2NvbnN0IGw9Z2V0TGV2ZWxRdWVyeUZvckluZGV4KHQsaCxuLG8pO2lmKGwhPT1udWxsJiYoIW8ub3JkZXJ8fGFyclN0YXJ0c1dpdGgobC5vcmRlcixvLm9yZGVyKSkpcmV0dXJuIGx9cmV0dXJuIG51bGx9LGdldFN0cmVhbT1hc3luYyh0LGUsbik9Pntjb25zdHtkYXRhRmFjdG9yeTpvLHByZWZpeGVzOmQsaW5kZXhlczpofT10LGw9Z2V0TGV2ZWxRdWVyeShlLGgsZCxuKTtpZihsIT09bnVsbCl7Y29uc3R7aW5kZXg6cCxsZXZlbDpnLG9yZGVyOnZ9PWw7bGV0IGI9bmV3IExldmVsSXRlcmF0b3IodC5kYi5pdGVyYXRvcihnKSxfPT5xdWFkUmVhZGVyLnJlYWQoXyxwLnByZWZpeC5sZW5ndGgscC50ZXJtcyxvLGQpKTtyZXR1cm57dHlwZTpSZXN1bHRUeXBlLlFVQURTLG9yZGVyOnYsaXRlcmF0b3I6YixpbmRleDpwLnRlcm1zLHJlc29ydGVkOiExfX1jb25zdCB1PWdldExldmVsUXVlcnkoZSxoLGQsZW1wdHlPYmplY3QpO2lmKHUhPT1udWxsKXtjb25zdHtpbmRleDpwLGxldmVsOmcsb3JkZXI6dn09dTtsZXQgYj1uZXcgTGV2ZWxJdGVyYXRvcih0LmRiLml0ZXJhdG9yKGcpLF89PnF1YWRSZWFkZXIucmVhZChfLHAucHJlZml4Lmxlbmd0aCxwLnRlcm1zLG8sZCkpO2lmKHR5cGVvZiBuLm9yZGVyPCJ1IiYmIWFyclN0YXJ0c1dpdGgobi5vcmRlcix2KSl7Y29uc3QgXz1UPT4oVFtTT1JUSU5HX0tFWV09dHdvU3RlcHNRdWFkV3JpdGVyLmluZ2VzdChULGQpLndyaXRlKCIiLG4ub3JkZXIpK3NlcGFyYXRvcixUKSxPPW4ucmV2ZXJzZT09PSEwP2NvbXBhcmVTb3J0YWJsZVF1YWRzUmV2ZXJzZTpjb21wYXJlU29ydGFibGVRdWFkcztpZihiPW5ldyBTb3J0aW5nSXRlcmF0b3IoYixPLF8sZW1pdFNvcnRhYmxlUXVhZCksdHlwZW9mIG4ubGltaXQ8InUiKXtjb25zdCBUPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVMaXN0ZW5lcigiZW5kIixUKSx0aGlzLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIsVCksdGhpcy5kZXN0cm95KCl9O2I9Yi50YWtlKG4ubGltaXQpLm9uKCJlbmQiLFQpLm9uKCJlcnJvciIsVCl9fXJldHVybnt0eXBlOlJlc3VsdFR5cGUuUVVBRFMsb3JkZXI6bi5vcmRlcnx8dixpdGVyYXRvcjpiLGluZGV4OnAudGVybXMscmVzb3J0ZWQ6ITB9fXRocm93IG5ldyBFcnJvcihgTm8gaW5kZXggY29tcGF0aWJsZSB3aXRoIHBhdHRlcm4gJHtKU09OLnN0cmluZ2lmeShlKX0gYW5kIG9wdGlvbnMgJHtKU09OLnN0cmluZ2lmeShuKX1gKX0sZ2V0QXBwcm94aW1hdGVTaXplPWFzeW5jKHQsZSxuKT0+e2lmKCF0LmRiLmFwcHJveGltYXRlU2l6ZSlyZXR1cm57dHlwZTpSZXN1bHRUeXBlLkFQUFJPWElNQVRFX1NJWkUsYXBwcm94aW1hdGVTaXplOjEvMH07Y29uc3R7aW5kZXhlczpvLHByZWZpeGVzOmR9PXQsaD1nZXRMZXZlbFF1ZXJ5KGUsbyxkLG4pO2lmKGg9PT1udWxsKXRocm93IG5ldyBFcnJvcihgTm8gaW5kZXggY29tcGF0aWJsZSB3aXRoIHBhdHRlcm4gJHtKU09OLnN0cmluZ2lmeShlKX0gYW5kIG9wdGlvbnMgJHtKU09OLnN0cmluZ2lmeShuKX1gKTtjb25zdHtsZXZlbDpsfT1oLHU9bC5ndGV8fGwuZ3QscD1sLmx0ZXx8bC5sdDtyZXR1cm4gbmV3IFByb21pc2UoKGcsdik9Pnt0LmRiLmFwcHJveGltYXRlU2l6ZSh1LHAsKGIsXyk9PntpZihiKXt2KGIpO3JldHVybn1nKHt0eXBlOlJlc3VsdFR5cGUuQVBQUk9YSU1BVEVfU0laRSxhcHByb3hpbWF0ZVNpemU6TWF0aC5tYXgoMSxfKX0pfSl9KX07Y2xhc3MgU2NvcGV7aWQ7YmxhbmtOb2RlcztmYWN0b3J5O3N0YXRpYyBhc3luYyBpbml0KGUpe3JldHVybiBuZXcgU2NvcGUoZS5kYXRhRmFjdG9yeSx1aWQoKSxuZXcgTWFwKX1zdGF0aWMgYXN5bmMgbG9hZChlLG4pe2NvbnN0IG89U2NvcGUuZ2V0TGV2ZWxJdGVyYXRvck9wdHMoITEsITAsbiksZD1uZXcgTGV2ZWxJdGVyYXRvcihlLmRiLml0ZXJhdG9yKG8pLCh1LHApPT5wKSxoPW5ldyBNYXAse2RhdGFGYWN0b3J5Omx9PWU7cmV0dXJuIGF3YWl0IGNvbnN1bWVPbmVCeU9uZShkLHU9Pntjb25zdHtvcmlnaW5hbExhYmVsOnAscmFuZG9tTGFiZWw6Z309SlNPTi5wYXJzZSh1KTtoLnNldChwLGwuYmxhbmtOb2RlKGcpKX0pLG5ldyBTY29wZShsLG4saCl9c3RhdGljIGFzeW5jIGRlbGV0ZShlLG4pe2NvbnN0IG89ZS5kYi5iYXRjaCgpLGQ9U2NvcGUuZ2V0TGV2ZWxJdGVyYXRvck9wdHMoITAsITEsbiksaD1uZXcgTGV2ZWxJdGVyYXRvcihlLmRiLml0ZXJhdG9yKGQpLChsLHUpPT5sKTthd2FpdCBjb25zdW1lT25lQnlPbmUoaCxsPT57by5kZWwobCl9KSxhd2FpdCBvLndyaXRlKCl9c3RhdGljIGdldExldmVsSXRlcmF0b3JPcHRzKGUsbixvKXtjb25zdCBkPW8/YFNDT1BFJHtzZXBhcmF0b3J9JHtvfSR7c2VwYXJhdG9yfWA6YFNDT1BFJHtzZXBhcmF0b3J9YDtyZXR1cm57a2V5czplLHZhbHVlczpuLGtleUVuY29kaW5nOiJ1dGY4Iix2YWx1ZUVuY29kaW5nOiJ1dGY4IixndGU6ZCxsdGU6YCR7ZH0ke2JvdW5kYXJ5fWB9fXN0YXRpYyBhZGRNYXBwaW5nVG9MZXZlbEJhdGNoKGUsbixvLGQpe24ucHV0KGBTQ09QRSR7c2VwYXJhdG9yfSR7ZX0ke3NlcGFyYXRvcn0ke299YCxKU09OLnN0cmluZ2lmeSh7b3JpZ2luYWxMYWJlbDpvLHJhbmRvbUxhYmVsOmR9KSl9Y29uc3RydWN0b3IoZSxuLG8pe3RoaXMuYmxhbmtOb2Rlcz1vLHRoaXMuZmFjdG9yeT1lLHRoaXMuaWQ9bn1wYXJzZUJsYW5rTm9kZShlLG4pe2xldCBvPXRoaXMuYmxhbmtOb2Rlcy5nZXQoZS52YWx1ZSk7cmV0dXJuIG98fChvPXRoaXMuZmFjdG9yeS5ibGFua05vZGUodWlkKCkpLHRoaXMuYmxhbmtOb2Rlcy5zZXQoZS52YWx1ZSxvKSxTY29wZS5hZGRNYXBwaW5nVG9MZXZlbEJhdGNoKHRoaXMuaWQsbixlLnZhbHVlLG8udmFsdWUpKSxvfXBhcnNlU3ViamVjdChlLG4pe3N3aXRjaChlLnRlcm1UeXBlKXtjYXNlIkJsYW5rTm9kZSI6cmV0dXJuIHRoaXMucGFyc2VCbGFua05vZGUoZSxuKTtkZWZhdWx0OnJldHVybiBlfX1wYXJzZU9iamVjdChlLG4pe3N3aXRjaChlLnRlcm1UeXBlKXtjYXNlIkJsYW5rTm9kZSI6cmV0dXJuIHRoaXMucGFyc2VCbGFua05vZGUoZSxuKTtkZWZhdWx0OnJldHVybiBlfX1wYXJzZUdyYXBoKGUsbil7c3dpdGNoKGUudGVybVR5cGUpe2Nhc2UiQmxhbmtOb2RlIjpyZXR1cm4gdGhpcy5wYXJzZUJsYW5rTm9kZShlLG4pO2RlZmF1bHQ6cmV0dXJuIGV9fXBhcnNlUXVhZChlLG4pe3JldHVybiB0aGlzLmZhY3RvcnkucXVhZCh0aGlzLnBhcnNlU3ViamVjdChlLnN1YmplY3QsbiksZS5wcmVkaWNhdGUsdGhpcy5wYXJzZU9iamVjdChlLm9iamVjdCxuKSx0aGlzLnBhcnNlR3JhcGgoZS5ncmFwaCxuKSl9fWNsYXNzIFF1YWRzdG9yZXtkYjtpbmRleGVzO2lkO3ByZWZpeGVzO2RhdGFGYWN0b3J5O2NvbnN0cnVjdG9yKGUpe2Vuc3VyZUFic3RyYWN0TGV2ZWwoZS5iYWNrZW5kLCcib3B0cy5iYWNrZW5kIicpLHRoaXMuZGF0YUZhY3Rvcnk9ZS5kYXRhRmFjdG9yeSx0aGlzLmRiPWUuYmFja2VuZCx0aGlzLmluZGV4ZXM9W10sdGhpcy5pZD11aWQoKSwoZS5pbmRleGVzfHxkZWZhdWx0SW5kZXhlcykuZm9yRWFjaChuPT50aGlzLl9hZGRJbmRleChuKSksdGhpcy5wcmVmaXhlcz1lLnByZWZpeGVzfHx7ZXhwYW5kVGVybTpuPT5uLGNvbXBhY3RJcmk6bj0+bn19ZW5zdXJlUmVhZHkoKXtpZih0aGlzLmRiLnN0YXR1cyE9PSJvcGVuIil0aHJvdyBuZXcgRXJyb3IoYFN0b3JlIGlzIG5vdCByZWFkeSAoc3RhdHVzOiAiJHt0aGlzLmRiLnN0YXR1c30iKS4gRGlkIHlvdSBjYWxsIHN0b3JlLm9wZW4oKT9gKX1hc3luYyBvcGVuKCl7dGhpcy5kYi5zdGF0dXMhPT0ib3BlbiImJmF3YWl0IHRoaXMuZGIub3BlbigpfWFzeW5jIGNsb3NlKCl7dGhpcy5kYi5zdGF0dXMhPT0iY2xvc2VkIiYmYXdhaXQgdGhpcy5kYi5jbG9zZSgpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudG9KU09OKCl9dG9KU09OKCl7cmV0dXJuYFtvYmplY3QgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9Ojoke3RoaXMuaWR9XWB9X2FkZEluZGV4KGUpe2NvbnN0IG49ZS5tYXAobz0+by5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSkuam9pbigiIik7dGhpcy5pbmRleGVzLnB1c2goe3Rlcm1zOmUscHJlZml4Om4rc2VwYXJhdG9yfSl9YXN5bmMgY2xlYXIoKXtpZih0eXBlb2YgdGhpcy5kYi5jbGVhcj09ImZ1bmN0aW9uIilyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9Pnt0aGlzLmRiLmNsZWFyKG89PntvP24obyk6ZSgpfSl9KTthd2FpdCB0aGlzLmRlbFN0cmVhbSgoYXdhaXQgdGhpcy5nZXRTdHJlYW0oe30pKS5pdGVyYXRvcix7YmF0Y2hTaXplOjIwfSl9bWF0Y2goZSxuLG8sZCxoPWVtcHR5T2JqZWN0KXtpZihlJiZlLnRlcm1UeXBlPT09IkxpdGVyYWwiKXJldHVybiBuZXcgRW1wdHlJdGVyYXRvcjtjb25zdCBsPXtzdWJqZWN0OmUscHJlZGljYXRlOm4sb2JqZWN0Om8sZ3JhcGg6ZH07cmV0dXJuIHdyYXAkMSh0aGlzLmdldFN0cmVhbShsLGgpLnRoZW4odT0+dS5pdGVyYXRvcikpfWFzeW5jIGNvdW50UXVhZHMoZSxuLG8sZCxoPWVtcHR5T2JqZWN0KXtpZihlJiZlLnRlcm1UeXBlPT09IkxpdGVyYWwiKXJldHVybiAwO2NvbnN0IGw9e3N1YmplY3Q6ZSxwcmVkaWNhdGU6bixvYmplY3Q6byxncmFwaDpkfTtyZXR1cm4oYXdhaXQgdGhpcy5nZXRBcHByb3hpbWF0ZVNpemUobCxoKSkuYXBwcm94aW1hdGVTaXplfWltcG9ydChlKXtjb25zdCBuPW5ldyBldmVudHNFeHBvcnRzLkV2ZW50RW1pdHRlcjtyZXR1cm4gdGhpcy5wdXRTdHJlYW0oZSx7fSkudGhlbigoKT0+e24uZW1pdCgiZW5kIil9KS5jYXRjaChvPT57bi5lbWl0KCJlcnJvciIsbyl9KSxufXJlbW92ZShlKXtjb25zdCBuPW5ldyBldmVudHNFeHBvcnRzLkV2ZW50RW1pdHRlcjtyZXR1cm4gdGhpcy5kZWxTdHJlYW0oZSx7fSkudGhlbigoKT0+bi5lbWl0KCJlbmQiKSkuY2F0Y2gobz0+bi5lbWl0KCJlcnJvciIsbykpLG59cmVtb3ZlTWF0Y2hlcyhlLG4sbyxkLGg9ZW1wdHlPYmplY3Qpe2NvbnN0IGw9dGhpcy5tYXRjaChlLG4sbyxkLGgpO3JldHVybiB0aGlzLnJlbW92ZShsKX1kZWxldGVHcmFwaChlKXtyZXR1cm4gdGhpcy5yZW1vdmVNYXRjaGVzKHZvaWQgMCx2b2lkIDAsdm9pZCAwLGUpfWFzeW5jIGdldEFwcHJveGltYXRlU2l6ZShlLG49ZW1wdHlPYmplY3Qpe3JldHVybiBhd2FpdCB0aGlzLmVuc3VyZVJlYWR5KCksYXdhaXQgZ2V0QXBwcm94aW1hdGVTaXplKHRoaXMsZSxuKX1fYmF0Y2hQdXQoZSxuKXtjb25zdHtpbmRleGVzOm8scHJlZml4ZXM6ZH09dGhpczt0d29TdGVwc1F1YWRXcml0ZXIuaW5nZXN0KGUsZCk7Zm9yKGxldCBoPTAsbD1vLmxlbmd0aCx1O2g8bDtoKz0xKXt1PW9baF07Y29uc3QgcD10d29TdGVwc1F1YWRXcml0ZXIud3JpdGUodS5wcmVmaXgsdS50ZXJtcyk7bj1uLnB1dChwLGVtcHR5VmFsdWUsbGV2ZWxQdXRPcHRzKX1yZXR1cm4gbn1hc3luYyBwdXQoZSxuPWVtcHR5T2JqZWN0KXt0aGlzLmVuc3VyZVJlYWR5KCk7Y29uc3R7aW5kZXhlczpvLGRiOmR9PXRoaXM7bGV0IGg9ZC5iYXRjaCgpO3JldHVybiBuLnNjb3BlJiYoZT1uLnNjb3BlLnBhcnNlUXVhZChlLGgpKSx0aGlzLl9iYXRjaFB1dChlLGgpLGF3YWl0IHRoaXMud3JpdGVCYXRjaChoLG4pLHt0eXBlOlJlc3VsdFR5cGUuVk9JRH19YXN5bmMgbXVsdGlQdXQoZSxuPWVtcHR5T2JqZWN0KXt0aGlzLmVuc3VyZVJlYWR5KCk7Y29uc3R7aW5kZXhlczpvLGRiOmR9PXRoaXM7bGV0IGg9ZC5iYXRjaCgpO2ZvcihsZXQgbD0wLHU9ZS5sZW5ndGgscDtsPHU7bCs9MSlwPWVbbF0sbi5zY29wZSYmKHA9bi5zY29wZS5wYXJzZVF1YWQocCxoKSksdGhpcy5fYmF0Y2hQdXQocCxoKTtyZXR1cm4gYXdhaXQgdGhpcy53cml0ZUJhdGNoKGgsbikse3R5cGU6UmVzdWx0VHlwZS5WT0lEfX1fYmF0Y2hEZWwoZSxuKXtjb25zdHtpbmRleGVzOm8scHJlZml4ZXM6ZH09dGhpczt0d29TdGVwc1F1YWRXcml0ZXIuaW5nZXN0KGUsZCk7Zm9yKGxldCBoPTAsbD1vLmxlbmd0aCx1O2g8bDtoKz0xKXt1PW9baF07Y29uc3QgcD10d29TdGVwc1F1YWRXcml0ZXIud3JpdGUodS5wcmVmaXgsdS50ZXJtcyk7bj1uLmRlbChwLGxldmVsRGVsT3B0cyl9cmV0dXJuIG59YXN5bmMgZGVsKGUsbj1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0IG89dGhpcy5kYi5iYXRjaCgpO3JldHVybiB0aGlzLl9iYXRjaERlbChlLG8pLGF3YWl0IHRoaXMud3JpdGVCYXRjaChvLG4pLHt0eXBlOlJlc3VsdFR5cGUuVk9JRH19YXN5bmMgbXVsdGlEZWwoZSxuPWVtcHR5T2JqZWN0KXt0aGlzLmVuc3VyZVJlYWR5KCk7Y29uc3Qgbz10aGlzLmRiLmJhdGNoKCk7Zm9yKGxldCBkPTAsaD1lLmxlbmd0aCxsO2Q8aDtkKz0xKWw9ZVtkXSx0aGlzLl9iYXRjaERlbChsLG8pO3JldHVybiBhd2FpdCB0aGlzLndyaXRlQmF0Y2gobyxuKSx7dHlwZTpSZXN1bHRUeXBlLlZPSUR9fWFzeW5jIHBhdGNoKGUsbixvPWVtcHR5T2JqZWN0KXt0aGlzLmVuc3VyZVJlYWR5KCk7Y29uc3R7aW5kZXhlczpkLGRiOmh9PXRoaXMsbD1oLmJhdGNoKCk7cmV0dXJuIHRoaXMuX2JhdGNoRGVsKGUsbCksdGhpcy5fYmF0Y2hQdXQobixsKSxhd2FpdCB0aGlzLndyaXRlQmF0Y2gobCxvKSx7dHlwZTpSZXN1bHRUeXBlLlZPSUR9fWFzeW5jIG11bHRpUGF0Y2goZSxuLG89ZW1wdHlPYmplY3Qpe3RoaXMuZW5zdXJlUmVhZHkoKTtjb25zdHtpbmRleGVzOmQsZGI6aH09dGhpcztsZXQgbD1oLmJhdGNoKCk7Zm9yKGxldCB1PTAscD1lLmxlbmd0aCxnO3U8cDt1Kz0xKWc9ZVt1XSx0aGlzLl9iYXRjaERlbChnLGwpO2ZvcihsZXQgdT0wLHA9bi5sZW5ndGgsZzt1PHA7dSs9MSlnPW5bdV0sdGhpcy5fYmF0Y2hQdXQoZyxsKTtyZXR1cm4gYXdhaXQgdGhpcy53cml0ZUJhdGNoKGwsbykse3R5cGU6UmVzdWx0VHlwZS5WT0lEfX1hc3luYyB3cml0ZUJhdGNoKGUsbil7bi5wcmVXcml0ZSYmYXdhaXQgbi5wcmVXcml0ZShlKSxhd2FpdCBlLndyaXRlKCl9YXN5bmMgZ2V0KGUsbj1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0IG89YXdhaXQgdGhpcy5nZXRTdHJlYW0oZSxuKTtyZXR1cm57aXRlbXM6YXdhaXQgc3RyZWFtVG9BcnJheShvLml0ZXJhdG9yKSx0eXBlOm8udHlwZSxvcmRlcjpvLm9yZGVyLGluZGV4Om8uaW5kZXgscmVzb3J0ZWQ6by5yZXNvcnRlZH19YXN5bmMgZ2V0U3RyZWFtKGUsbj1lbXB0eU9iamVjdCl7cmV0dXJuIHRoaXMuZW5zdXJlUmVhZHkoKSxhd2FpdCBnZXRTdHJlYW0odGhpcyxlLG4pfWFzeW5jIHB1dFN0cmVhbShlLG49ZW1wdHlPYmplY3Qpe3RoaXMuZW5zdXJlUmVhZHkoKTtjb25zdCBvPW4uYmF0Y2hTaXplfHwxO3JldHVybiBvPT09MT9hd2FpdCBjb25zdW1lT25lQnlPbmUoZSxkPT50aGlzLnB1dChkLG4pKTphd2FpdCBjb25zdW1lSW5CYXRjaGVzKGUsbyxkPT50aGlzLm11bHRpUHV0KGQsbikpLHt0eXBlOlJlc3VsdFR5cGUuVk9JRH19YXN5bmMgZGVsU3RyZWFtKGUsbj1lbXB0eU9iamVjdCl7dGhpcy5lbnN1cmVSZWFkeSgpO2NvbnN0IG89bi5iYXRjaFNpemV8fDE7cmV0dXJuIG89PT0xP2F3YWl0IGNvbnN1bWVPbmVCeU9uZShlLGQ9PnRoaXMuZGVsKGQpKTphd2FpdCBjb25zdW1lSW5CYXRjaGVzKGUsbyxkPT50aGlzLm11bHRpRGVsKGQpKSx7dHlwZTpSZXN1bHRUeXBlLlZPSUR9fWFzeW5jIGluaXRTY29wZSgpe3JldHVybiBhd2FpdCB0aGlzLmVuc3VyZVJlYWR5KCksYXdhaXQgU2NvcGUuaW5pdCh0aGlzKX1hc3luYyBsb2FkU2NvcGUoZSl7cmV0dXJuIGF3YWl0IHRoaXMuZW5zdXJlUmVhZHkoKSxhd2FpdCBTY29wZS5sb2FkKHRoaXMsZSl9YXN5bmMgZGVsZXRlU2NvcGUoZSl7YXdhaXQgdGhpcy5lbnN1cmVSZWFkeSgpLGF3YWl0IFNjb3BlLmRlbGV0ZSh0aGlzLGUpfWFzeW5jIGRlbGV0ZUFsbFNjb3Blcygpe2F3YWl0IHRoaXMuZW5zdXJlUmVhZHkoKSxhd2FpdCBTY29wZS5kZWxldGUodGhpcyl9fXZhciBzcGFycWxhbGdlYnJhanM9e30sc3BhcnFsQWxnZWJyYT17fSxlczY9ZnVuY3Rpb24gdChlLG4pe2lmKGU9PT1uKXJldHVybiEwO2lmKGUmJm4mJnR5cGVvZiBlPT0ib2JqZWN0IiYmdHlwZW9mIG49PSJvYmplY3QiKXtpZihlLmNvbnN0cnVjdG9yIT09bi5jb25zdHJ1Y3RvcilyZXR1cm4hMTt2YXIgbyxkLGg7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYobz1lLmxlbmd0aCxvIT1uLmxlbmd0aClyZXR1cm4hMTtmb3IoZD1vO2QtLSE9PTA7KWlmKCF0KGVbZF0sbltkXSkpcmV0dXJuITE7cmV0dXJuITB9aWYoZSBpbnN0YW5jZW9mIE1hcCYmbiBpbnN0YW5jZW9mIE1hcCl7aWYoZS5zaXplIT09bi5zaXplKXJldHVybiExO2ZvcihkIG9mIGUuZW50cmllcygpKWlmKCFuLmhhcyhkWzBdKSlyZXR1cm4hMTtmb3IoZCBvZiBlLmVudHJpZXMoKSlpZighdChkWzFdLG4uZ2V0KGRbMF0pKSlyZXR1cm4hMTtyZXR1cm4hMH1pZihlIGluc3RhbmNlb2YgU2V0JiZuIGluc3RhbmNlb2YgU2V0KXtpZihlLnNpemUhPT1uLnNpemUpcmV0dXJuITE7Zm9yKGQgb2YgZS5lbnRyaWVzKCkpaWYoIW4uaGFzKGRbMF0pKXJldHVybiExO3JldHVybiEwfWlmKEFycmF5QnVmZmVyLmlzVmlldyhlKSYmQXJyYXlCdWZmZXIuaXNWaWV3KG4pKXtpZihvPWUubGVuZ3RoLG8hPW4ubGVuZ3RoKXJldHVybiExO2ZvcihkPW87ZC0tIT09MDspaWYoZVtkXSE9PW5bZF0pcmV0dXJuITE7cmV0dXJuITB9aWYoZS5jb25zdHJ1Y3Rvcj09PVJlZ0V4cClyZXR1cm4gZS5zb3VyY2U9PT1uLnNvdXJjZSYmZS5mbGFncz09PW4uZmxhZ3M7aWYoZS52YWx1ZU9mIT09T2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKXJldHVybiBlLnZhbHVlT2YoKT09PW4udmFsdWVPZigpO2lmKGUudG9TdHJpbmchPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKXJldHVybiBlLnRvU3RyaW5nKCk9PT1uLnRvU3RyaW5nKCk7aWYoaD1PYmplY3Qua2V5cyhlKSxvPWgubGVuZ3RoLG8hPT1PYmplY3Qua2V5cyhuKS5sZW5ndGgpcmV0dXJuITE7Zm9yKGQ9bztkLS0hPT0wOylpZighT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saFtkXSkpcmV0dXJuITE7Zm9yKGQ9bztkLS0hPT0wOyl7dmFyIGw9aFtkXTtpZighdChlW2xdLG5bbF0pKXJldHVybiExfXJldHVybiEwfXJldHVybiBlIT09ZSYmbiE9PW59LHJkZlN0cmluZz17fSxUZXJtVXRpbCQxPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXJtVXRpbCQxLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtUZXJtVXRpbCQxLnN0cmluZ1F1YWRUb1F1YWQ9VGVybVV0aWwkMS5xdWFkVG9TdHJpbmdRdWFkPVRlcm1VdGlsJDEuc3RyaW5nVG9UZXJtPVRlcm1VdGlsJDEuZ2V0TGl0ZXJhbExhbmd1YWdlPVRlcm1VdGlsJDEuZ2V0TGl0ZXJhbFR5cGU9VGVybVV0aWwkMS5nZXRMaXRlcmFsVmFsdWU9VGVybVV0aWwkMS50ZXJtVG9TdHJpbmc9dm9pZCAwO2NvbnN0IHJkZl9kYXRhX2ZhY3RvcnlfMSQyPXJkZkRhdGFGYWN0b3J5LEZBQ1RPUlk9bmV3IHJkZl9kYXRhX2ZhY3RvcnlfMSQyLkRhdGFGYWN0b3J5O2Z1bmN0aW9uIHRlcm1Ub1N0cmluZyh0KXtpZih0KXN3aXRjaCh0LnRlcm1UeXBlKXtjYXNlIk5hbWVkTm9kZSI6cmV0dXJuIHQudmFsdWU7Y2FzZSJCbGFua05vZGUiOnJldHVybiJfOiIrdC52YWx1ZTtjYXNlIkxpdGVyYWwiOmNvbnN0IGU9dDtyZXR1cm4nIicrZS52YWx1ZSsnIicrKGUuZGF0YXR5cGUmJmUuZGF0YXR5cGUudmFsdWUhPT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIiYmZS5kYXRhdHlwZS52YWx1ZSE9PSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjbGFuZ1N0cmluZyI/Il5eIitlLmRhdGF0eXBlLnZhbHVlOiIiKSsoZS5sYW5ndWFnZT8iQCIrZS5sYW5ndWFnZToiIik7Y2FzZSJRdWFkIjpyZXR1cm5gPDwke3Rlcm1Ub1N0cmluZyh0LnN1YmplY3QpfSAke3Rlcm1Ub1N0cmluZyh0LnByZWRpY2F0ZSl9ICR7dGVybVRvU3RyaW5nKHQub2JqZWN0KX0ke3QuZ3JhcGgudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIj8iIjoiICIrdGVybVRvU3RyaW5nKHQuZ3JhcGgpfT4+YDtjYXNlIlZhcmlhYmxlIjpyZXR1cm4iPyIrdC52YWx1ZTtjYXNlIkRlZmF1bHRHcmFwaCI6cmV0dXJuIHQudmFsdWV9fVRlcm1VdGlsJDEudGVybVRvU3RyaW5nPXRlcm1Ub1N0cmluZztmdW5jdGlvbiBnZXRMaXRlcmFsVmFsdWUodCl7Y29uc3QgZT0vXiIoW15dKikiLy5leGVjKHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcih0KyIgaXMgbm90IGEgbGl0ZXJhbCIpO3JldHVybiBlWzFdfVRlcm1VdGlsJDEuZ2V0TGl0ZXJhbFZhbHVlPWdldExpdGVyYWxWYWx1ZTtmdW5jdGlvbiBnZXRMaXRlcmFsVHlwZSh0KXtjb25zdCBlPS9eIlteXSoiKD86XF5cXihbXiJdKyl8KEApW15AIl0rKT8kLy5leGVjKHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcih0KyIgaXMgbm90IGEgbGl0ZXJhbCIpO3JldHVybiBlWzFdfHwoZVsyXT8iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmciKX1UZXJtVXRpbCQxLmdldExpdGVyYWxUeXBlPWdldExpdGVyYWxUeXBlO2Z1bmN0aW9uIGdldExpdGVyYWxMYW5ndWFnZSh0KXtjb25zdCBlPS9eIlteXSoiKD86QChbXkAiXSspfFxeXF5bXiJdKyk/JC8uZXhlYyh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IodCsiIGlzIG5vdCBhIGxpdGVyYWwiKTtyZXR1cm4gZVsxXT9lWzFdLnRvTG93ZXJDYXNlKCk6IiJ9VGVybVV0aWwkMS5nZXRMaXRlcmFsTGFuZ3VhZ2U9Z2V0TGl0ZXJhbExhbmd1YWdlO2Z1bmN0aW9uIHN0cmluZ1RvVGVybSh0LGUpe2lmKGU9ZXx8RkFDVE9SWSwhdHx8IXQubGVuZ3RoKXJldHVybiBlLmRlZmF1bHRHcmFwaCgpO3N3aXRjaCh0WzBdKXtjYXNlIl8iOnJldHVybiBlLmJsYW5rTm9kZSh0LnN1YnN0cigyKSk7Y2FzZSI/IjppZighZS52YXJpYWJsZSl0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgJ3ZhcmlhYmxlKCknIG1ldGhvZCBvbiB0aGUgZ2l2ZW4gRGF0YUZhY3RvcnkiKTtyZXR1cm4gZS52YXJpYWJsZSh0LnN1YnN0cigxKSk7Y2FzZSciJzpjb25zdCBuPWdldExpdGVyYWxMYW5ndWFnZSh0KSxvPWUubmFtZWROb2RlKGdldExpdGVyYWxUeXBlKHQpKTtyZXR1cm4gZS5saXRlcmFsKGdldExpdGVyYWxWYWx1ZSh0KSxufHxvKTtjYXNlIjwiOmRlZmF1bHQ6aWYodC5zdGFydHNXaXRoKCI8PCIpJiZ0LmVuZHNXaXRoKCI+PiIpKXtjb25zdCBkPXQuc2xpY2UoMiwtMikudHJpbSgpO2xldCBoPVtdLGw9MCx1PTAscD0hMTtmb3IobGV0IGc9MDtnPGQubGVuZ3RoO2crKyl7Y29uc3Qgdj1kW2ddO2lmKHY9PT0iPCImJmwrKyx2PT09Ij4iKXtpZihsPT09MCl0aHJvdyBuZXcgRXJyb3IoIkZvdW5kIGNsb3NpbmcgdGFnIHdpdGhvdXQgb3BlbmluZyB0YWcgaW4gIit0KTtsLS19aWYodj09PSciJyl7bGV0IGI9ITEsXz1nO2Zvcig7Xy0tID4wJiZkW19dPT09IlxcIjspYj0hYjtifHwocD0hcCl9aWYodj09PSIgIiYmIXAmJmw9PT0wKXtmb3IoaC5wdXNoKGQuc2xpY2UodSxnKSk7ZFtnKzFdPT09IiAiOylnKz0xO3U9ZysxfX1pZihsIT09MCl0aHJvdyBuZXcgRXJyb3IoIkZvdW5kIG9wZW5pbmcgdGFnIHdpdGhvdXQgY2xvc2luZyB0YWcgaW4gIit0KTtpZihoLnB1c2goZC5zbGljZSh1LGQubGVuZ3RoKSksaC5sZW5ndGghPT0zJiZoLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCJOZXN0ZWQgcXVhZCBzeW50YXggZXJyb3IgIit0KTtyZXR1cm4gaD1oLm1hcChnPT5nLnN0YXJ0c1dpdGgoIjwiKSYmIWcuaW5jbHVkZXMoIiAiKT9nLnNsaWNlKDEsLTEpOmcpLGUucXVhZChzdHJpbmdUb1Rlcm0oaFswXSksc3RyaW5nVG9UZXJtKGhbMV0pLHN0cmluZ1RvVGVybShoWzJdKSxoWzNdP3N0cmluZ1RvVGVybShoWzNdKTp2b2lkIDApfXJldHVybiBlLm5hbWVkTm9kZSh0KX19VGVybVV0aWwkMS5zdHJpbmdUb1Rlcm09c3RyaW5nVG9UZXJtO2Z1bmN0aW9uIHF1YWRUb1N0cmluZ1F1YWQodCl7cmV0dXJue3N1YmplY3Q6dGVybVRvU3RyaW5nKHQuc3ViamVjdCkscHJlZGljYXRlOnRlcm1Ub1N0cmluZyh0LnByZWRpY2F0ZSksb2JqZWN0OnRlcm1Ub1N0cmluZyh0Lm9iamVjdCksZ3JhcGg6dGVybVRvU3RyaW5nKHQuZ3JhcGgpfX1UZXJtVXRpbCQxLnF1YWRUb1N0cmluZ1F1YWQ9cXVhZFRvU3RyaW5nUXVhZDtmdW5jdGlvbiBzdHJpbmdRdWFkVG9RdWFkKHQsZSl7cmV0dXJuIGU9ZXx8RkFDVE9SWSxlLnF1YWQoc3RyaW5nVG9UZXJtKHQuc3ViamVjdCxlKSxzdHJpbmdUb1Rlcm0odC5wcmVkaWNhdGUsZSksc3RyaW5nVG9UZXJtKHQub2JqZWN0LGUpLHN0cmluZ1RvVGVybSh0LmdyYXBoLGUpKX1UZXJtVXRpbCQxLnN0cmluZ1F1YWRUb1F1YWQ9c3RyaW5nUXVhZFRvUXVhZDsoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQudGVybVRvU3RyaW5nPXQuc3RyaW5nVG9UZXJtPXQuc3RyaW5nUXVhZFRvUXVhZD10LnF1YWRUb1N0cmluZ1F1YWQ9dC5nZXRMaXRlcmFsVmFsdWU9dC5nZXRMaXRlcmFsVHlwZT10LmdldExpdGVyYWxMYW5ndWFnZT12b2lkIDA7Y29uc3QgZT1UZXJtVXRpbCQxO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJnZXRMaXRlcmFsTGFuZ3VhZ2UiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmdldExpdGVyYWxMYW5ndWFnZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZ2V0TGl0ZXJhbFR5cGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmdldExpdGVyYWxUeXBlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJnZXRMaXRlcmFsVmFsdWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLmdldExpdGVyYWxWYWx1ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwicXVhZFRvU3RyaW5nUXVhZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUucXVhZFRvU3RyaW5nUXVhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwic3RyaW5nUXVhZFRvUXVhZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RyaW5nUXVhZFRvUXVhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwic3RyaW5nVG9UZXJtIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zdHJpbmdUb1Rlcm19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInRlcm1Ub1N0cmluZyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUudGVybVRvU3RyaW5nfX0pfSkocmRmU3RyaW5nKTt2YXIgYWxnZWJyYT17fTsoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZXhwcmVzc2lvblR5cGVzPXQudHlwZXM9dm9pZCAwLGZ1bmN0aW9uKGUpe2UuQUxUPSJhbHQiLGUuQVNLPSJhc2siLGUuQkdQPSJiZ3AiLGUuQ09OU1RSVUNUPSJjb25zdHJ1Y3QiLGUuREVTQ1JJQkU9ImRlc2NyaWJlIixlLkRJU1RJTkNUPSJkaXN0aW5jdCIsZS5FWFBSRVNTSU9OPSJleHByZXNzaW9uIixlLkVYVEVORD0iZXh0ZW5kIixlLkZJTFRFUj0iZmlsdGVyIixlLkZST009ImZyb20iLGUuR1JBUEg9ImdyYXBoIixlLkdST1VQPSJncm91cCIsZS5JTlY9ImludiIsZS5KT0lOPSJqb2luIixlLkxFRlRfSk9JTj0ibGVmdGpvaW4iLGUuTElOSz0ibGluayIsZS5NSU5VUz0ibWludXMiLGUuTk9QPSJub3AiLGUuTlBTPSJucHMiLGUuT05FX09SX01PUkVfUEFUSD0iT25lT3JNb3JlUGF0aCIsZS5PUkRFUl9CWT0ib3JkZXJieSIsZS5QQVRIPSJwYXRoIixlLlBBVFRFUk49InBhdHRlcm4iLGUuUFJPSkVDVD0icHJvamVjdCIsZS5SRURVQ0VEPSJyZWR1Y2VkIixlLlNFUT0ic2VxIixlLlNFUlZJQ0U9InNlcnZpY2UiLGUuU0xJQ0U9InNsaWNlIixlLlVOSU9OPSJ1bmlvbiIsZS5WQUxVRVM9InZhbHVlcyIsZS5aRVJPX09SX01PUkVfUEFUSD0iWmVyb09yTW9yZVBhdGgiLGUuWkVST19PUl9PTkVfUEFUSD0iWmVyb09yT25lUGF0aCIsZS5DT01QT1NJVEVfVVBEQVRFPSJjb21wb3NpdGV1cGRhdGUiLGUuREVMRVRFX0lOU0VSVD0iZGVsZXRlaW5zZXJ0IixlLkxPQUQ9ImxvYWQiLGUuQ0xFQVI9ImNsZWFyIixlLkNSRUFURT0iY3JlYXRlIixlLkRST1A9ImRyb3AiLGUuQUREPSJhZGQiLGUuTU9WRT0ibW92ZSIsZS5DT1BZPSJjb3B5In0odC50eXBlc3x8KHQudHlwZXM9e30pKSxmdW5jdGlvbihlKXtlLkFHR1JFR0FURT0iYWdncmVnYXRlIixlLkVYSVNURU5DRT0iZXhpc3RlbmNlIixlLk5BTUVEPSJuYW1lZCIsZS5PUEVSQVRPUj0ib3BlcmF0b3IiLGUuVEVSTT0idGVybSIsZS5XSUxEQ0FSRD0id2lsZGNhcmQifSh0LmV4cHJlc3Npb25UeXBlc3x8KHQuZXhwcmVzc2lvblR5cGVzPXt9KSl9KShhbGdlYnJhKTt2YXIgZmFjdG9yeSQyPXt9LFdpbGRjYXJkJDI9e307bGV0IFdpbGRjYXJkJDE9Y2xhc3N7Y29uc3RydWN0b3IoKXtyZXR1cm4gV0lMRENBUkR8fHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLnRlcm1UeXBlPT09ZS50ZXJtVHlwZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShXaWxkY2FyZCQxLnByb3RvdHlwZSwidmFsdWUiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOiIqIn0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShXaWxkY2FyZCQxLnByb3RvdHlwZSwidGVybVR5cGUiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOiJXaWxkY2FyZCJ9KTt2YXIgV0lMRENBUkQ9bmV3IFdpbGRjYXJkJDE7V2lsZGNhcmQkMi5XaWxkY2FyZD1XaWxkY2FyZCQxO3ZhciBTcGFycWxQYXJzZXI9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbihBZSxUZSxqZSxQZSl7Zm9yKGplPWplfHx7fSxQZT1BZS5sZW5ndGg7UGUtLTtqZVtBZVtQZV1dPVRlKTtyZXR1cm4gamV9LGU9WzYsMTIsMTMsMTUsMTYsMjgsMzUsNDEsNTAsNTUsMTA3LDExNywxMjAsMTIyLDEyMywxMzIsMTMzLDEzOCwxOTUsMjE5LDIyNCwzMTIsMzIyLDMyMywzMjQsMzI1LDMyNl0sbj1bMiwyMTFdLG89WzEwNywxMTcsMTIwLDEyMiwxMjMsMTMyLDEzMywxMzgsMzIyLDMyMywzMjQsMzI1LDMyNl0sZD1bMiwzODldLGg9WzEsMjJdLGw9WzEsMzFdLHU9WzEzLDE2LDM1LDE5NSwyMTksMjI0LDMxMl0scD1bNiw5MF0sZz1bNDUsNDYsNThdLHY9WzQ1LDU4XSxiPVsxLDYyXSxfPVsxLDY0XSxPPVsxLDYwXSxUPVsxLDYzXSxTPVsxLDY5XSxOPVsxLDcwXSxCPVsyNiwzNCwzNV0sTD1bMTMsMTYsMzUsMTk1LDIxOSwzMTJdLEM9WzEzLDE2LDMxMl0saj1bMTE5LDE0MSwzMjAsMzI3XSxQPVsxMywxNiwxMTksMTQxLDMxMl0sRj1bMSw5Nl0saz1bMSwxMDBdLEo9WzEsMTAyXSxhZT1bMTE5LDE0MSwzMjAsMzIxLDMyN10sWD1bMTMsMTYsMTE5LDE0MSwzMTIsMzIxXSxHPVsxLDEwOF0scmU9WzIsMjUzXSxNPVsxLDEwN10sJD1bMTMsMTYsMzQsMzUsODcsOTMsMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLFU9WzYsNDUsNDYsNTgsNjgsNzUsNzgsODYsODgsOTBdLEg9WzYsMTMsMTYsMzQsNDUsNDYsNTgsNjgsNzUsNzgsODYsODgsOTAsMzEyXSxlZT1bNiwxMywxNiwyNiwzNCwzNSwzNywzOCw0NSw0Niw0OCw1OCw2OCw3NSw3OCw4Niw4Nyw4OCw5MCw5MywxMDAsMTE2LDExOSwxMzIsMTMzLDEzNSwxNDAsMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMTk1LDIxOSwyMjQsMjI2LDIyNywyMzEsMjM1LDI0NSwyNDYsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzgsMjk1LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzI4LDMzMCwzMzEsMzMzLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5XSxnZT1bMzQsMzUsNDUsNDYsNThdLG1lPVsxLDEzOV0sZmU9WzEsMTQwXSxoZT1bMSwxNTFdLF9lPVsxLDEzMV0seGU9WzEsMTI1XSxSZT1bMSwxMzBdLEllPVsxLDEzMl0sTmU9WzEsMTQyXSx2ZT1bMSwxNDNdLENlPVsxLDE0NF0sTWU9WzEsMTQ1XSxVZT1bMSwxNDddLEZlPVsxLDE0OF0sJGU9WzIsNDYxXSxxPVsxLDE1N10sb2U9WzEsMTU4XSxRPVsxLDE1OV0sWT1bMSwxNTJdLGllPVsxLDE1M10sc2U9WzEsMTU2XSxsZT1bMSwxNjZdLG5lPVsxLDE2N10sdWU9WzEsMTY4XSxkZT1bMSwxNjldLHBlPVsxLDE3MF0sYmU9WzEsMTcxXSx3ZT1bMSwxNzJdLE9lPVsxLDE3M10sST1bMSwxNzRdLHc9WzEsMTc1XSxFPVsxLDE2NV0sRD1bMSwxNjBdLFY9WzEsMTYxXSxaPVsxLDE2Ml0sY2U9WzEsMTYzXSxTZT1bMSwxNjRdLGtlPVs2LDEzLDE2LDM0LDM1LDQ2LDQ4LDg3LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOF0sQmU9WzIsMzEyXSxEZT1bMSwxOTldLExlPVsxLDE5N10sS2U9WzYsMTkxXSxKZT1bMiwzMjldLHp0PVsyLDMxN10seXQ9WzQ1LDEzNV0seWU9WzYsNDgsNzgsODYsODgsOTBdLEVlPVsyLDI1N10scWU9WzEsMjEzXSxYZT1bMSwyMTVdLFllPVs2LDQ4LDc1LDc4LDg2LDg4LDkwXSxxdD1bMiwyNTVdLFh0PVsxLDIyMV0saHQ9WzEsMjMzXSxucj1bMSwyMzFdLHJ0PVsxLDIzOV0saXI9WzEsMjMyXSxudD1bMSwyMzddLGl0PVsxLDIzOF0scXI9WzYsNjgsNzUsNzgsODYsODgsOTBdLGhyPVszNywzOCwxOTEsMjUwLDI3OF0sS3Q9WzM3LDM4LDE5MSwyNTAsMjU0LDI3OF0sV3Q9WzM3LDM4LDE5MSwyNTAsMjU0LDI1OCwyNzEsMjczLDI3OCwyOTUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzM0LDMzNSwzMzYsMzM3LDMzOCwzMzldLGF0PVsyNiwzNywzOCwxOTEsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzgsMjk1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMzMSwzMzQsMzM1LDMzNiwzMzcsMzM4LDMzOV0sWHI9WzEsMjY3XSxLcj1bMSwyNjZdLHN0PVs2LDEzLDE2LDI2LDM0LDM1LDM3LDM4LDQ2LDQ4LDc1LDc4LDgxLDgzLDg2LDg3LDg4LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwyMjYsMjMxLDI0NSwyNDYsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzUsMjc2LDI3NywyNzgsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDI5NSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOCwzMzEsMzM0LDMzNSwzMzYsMzM3LDMzOCwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sV3I9WzEsMjc1XSxKcj1bMSwyNzRdLGN0PVsxMywxNiwyNiwzNCwzNSwzNywzOCw0Niw0OCw4Nyw5MCw5MywxMDAsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMTkxLDE5NSwyMTksMjI0LDIyNiwyMjcsMjMxLDIzNSwyNDUsMjQ2LDI1MCwyNTQsMjU4LDI3MSwyNzMsMjc4LDI5NSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOCwzMzEsMzM0LDMzNSwzMzYsMzM3LDMzOCwzMzldLGFyPVszNSw5M10scHI9WzEzLDE2LDI2LDM0LDM1LDM3LDM4LDQ2LDQ4LDg3LDkwLDkzLDEwMCwxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwxOTEsMTk1LDIxOSwyMjQsMjI2LDIyNywyMzEsMjM1LDI0NSwyNDYsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzgsMjk1LDI5NywyOTgsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjgsMzMxLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5XSxZcj1bMTMsMTYsNDgsODcsMTAwLDIzMSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSxacj1bNDgsOTNdLGVuPVszNCwzOF0sQnQ9WzYsMTMsMTYsMzQsMzUsMzgsODcsOTMsMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzMwLDMzMV0sYnQ9WzYsMTMsMTYsMjYsMzQsMzUsMzgsODcsOTMsMjI2LDIzMSwyNDUsMjQ2LDI3MSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMzMCwzMzEsMzMzXSx0bj1bMSwyOTldLHJuPVsxLDMwMF0sbm49WzYsMTE2LDE5MV0sRHQ9WzQ4LDExOV0sSXI9WzYsNDgsODYsODgsOTBdLGFuPVsyLDM0MV0sVHQ9WzIsMzMzXSx4dD1bMSwzNDBdLEl0PVsxLDM0Ml0sc3I9WzQ4LDExOSwzMjhdLF90PVsxMywxNiwzNCwxOTUsMzEyXSxGdD1bMTMsMTYsMzQsMzUsMzgsNDYsNDgsODcsOTAsOTMsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMTkxLDE5NSwyMTksMjI0LDIyNiwyMjcsMjMxLDIzNSwyNDUsMjQ2LDI3OCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOF0sdHQ9WzEzLDE2LDM0LDM1LDg3LDIxOSwyNzEsMjczLDI3NSwyNzYsMjc3LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMzOSwzNDAsMzQxLDM0MiwzNDMsMzQ0XSxScj1bMSwzNzRdLE5yPVsxLDM3NV0sc249WzEzLDE2LDI2LDM0LDM1LDg3LDIxOSwyNzEsMjczLDI3NSwyNzYsMjc3LDI3OSwyODEsMjgyLDI4NCwyODUsMjg4LDI5MCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMzOSwzNDAsMzQxLDM0MiwzNDMsMzQ0XSxQcj1bMSwzOThdLE10PVsxLDM5OV0sb249WzEzLDE2LDM4LDE5NSwyMjQsMzEyXSx1bj1bMSw0MTZdLFJ0PVs2LDQ4LDkwXSxjbj1bNiwxMywxNiwzNSw0OCw3OCw4Niw4OCw5MCwyNzUsMjc2LDI3NywyNzksMjgxLDI4MiwyODQsMjg1LDI4OCwyOTAsMzEyLDMzOSwzNDAsMzQxLDM0MiwzNDMsMzQ0XSxMcj1bNiwxMywxNiwzNCwzNSw0Niw0OCw3OCw4MSw4Myw4Niw4Nyw4OCw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwyMjYsMjMxLDI0NSwyNDYsMjc1LDI3NiwyNzcsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzI4LDMzOSwzNDAsMzQxLDM0MiwzNDMsMzQ0XSxrdD1bNDYsNDgsOTAsMTE5LDE2NywxNjgsMTcwLDE3MywxNzRdLG9yPVsxLDQzNV0sdXI9WzEsNDM2XSxsbj1bMSw0NDJdLGRuPVsxLDQ0MV0sJHQ9WzQ4LDExOSwxOTEsMjI3LDMyOF0sbXI9WzEzLDE2LDM0LDM1LDM4LDg3LDkzLDIyNiwyMzEsMjQ1LDI0NiwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyXSx5cj1bMTMsMTYsMzQsMzUsMzgsNDgsODcsOTMsMTE5LDE5MSwyMjYsMjI3LDIzMSwyNDUsMjQ2LDI3OCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOF0sZ3I9WzEzLDE2LDM4LDQ4LDg3LDEwMCwyMzEsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMl0sQ3I9WzM1LDQ4XSxmbj1bMiwzMzJdLGhuPVsxLDQ5N10scG49WzEsNDk0XSxtbj1bMSw0OTVdLHluPVs2LDEzLDE2LDI2LDM0LDM1LDM3LDM4LDQ2LDQ4LDY4LDc1LDc4LDgxLDgzLDg2LDg3LDg4LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwyMjYsMjMxLDI0NSwyNDYsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzUsMjc2LDI3NywyNzgsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDI5NSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOCwzMjksMzMxLDMzNCwzMzUsMzM2LDMzNywzMzgsMzM5LDM0MCwzNDEsMzQyLDM0MywzNDRdLEJyPVsxLDUxNV0sYnI9WzQ2LDQ4LDkwLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDMyOF0sZ249WzEzLDE2LDM0LDM1LDE5NSwyMTksMjI0LDMxMl0sVXQ9WzYsMTMsMTYsMzQsMzUsNDgsNzUsNzgsODYsODgsOTAsMjc1LDI3NiwyNzcsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDMxMiwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sYm49WzEzLDE2LDM0LDM1LDM4LDQ4LDg3LDkzLDExOSwxOTEsMTk1LDIyNiwyMjcsMjMxLDI0NSwyNDYsMjc4LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTIsMzI4XSxKdD1bNiwxMywxNiwzNCwzNSw0OCw4MSw4Myw4Niw4OCw5MCwyNzUsMjc2LDI3NywyNzksMjgxLDI4MiwyODQsMjg1LDI4OCwyOTAsMzEyLDMzOSwzNDAsMzQxLDM0MiwzNDMsMzQ0XSxfbj1bMTMsMTYsMzQsMzUsNDYsNDgsODcsOTAsOTMsMTE5LDE2NywxNjgsMTcwLDE3MywxNzQsMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLHZuPVsxMywxNiwzNCwzMTJdLEF0PVsxMywxNiwzNCwzNSw0Niw0OCw4Nyw5MCw5MywxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwyMjYsMjMxLDI0NSwyNDYsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLE90PVsyLDM0NF0sX3I9WzEzLDE2LDM0LDM1LDM4LDQ2LDQ4LDg3LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwyMjYsMjI3LDIzMSwyNDUsMjQ2LDI3OCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOF0sd249WzEzLDE2LDM0LDM1LDM3LDM4LDQ2LDQ4LDg3LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwxOTUsMjE5LDIyNCwyMjYsMjI3LDIzMSwyMzUsMjQ1LDI0NiwyNzgsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMjhdLFN0PVsyLDMzOV0sRW49WzEzLDE2LDM0LDM1LDM4LDQ2LDQ4LDg3LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwxOTUsMjE5LDIyNCwyMjYsMjI3LDIzMSwyNDUsMjQ2LDI3OCwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOF0sVG49WzEzLDE2LDM4LDg3LDEwMCwyMzEsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMl0sY3I9WzQ2LDQ4LDkwLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwyMjcsMzI4XSxBbj1bMTMsMTYsMzQsMzgsNDgsODcsMTAwLDE5NSwyMzEsMjM1LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLE9uPVsxMywxNiwzNCwzNSw0OCw4Nyw5MywxMTksMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLFNuPVsyLDMyN10sRHI9e3RyYWNlOmZ1bmN0aW9uKCl7fSx5eTp7fSxzeW1ib2xzXzp7ZXJyb3I6MixRdWVyeU9yVXBkYXRlOjMsUHJvbG9ndWU6NCxRdWVyeU9yVXBkYXRlX2dyb3VwMDo1LEVPRjo2LFByb2xvZ3VlX3JlcGV0aXRpb24wOjcsUXVlcnk6OCxRdWVyeV9ncm91cDA6OSxRdWVyeV9vcHRpb24wOjEwLEJhc2VEZWNsOjExLEJBU0U6MTIsSVJJUkVGOjEzLFByZWZpeERlY2w6MTQsUFJFRklYOjE1LFBOQU1FX05TOjE2LFNlbGVjdFF1ZXJ5OjE3LFNlbGVjdENsYXVzZVdpbGRjYXJkOjE4LFNlbGVjdFF1ZXJ5X3JlcGV0aXRpb24wOjE5LFdoZXJlQ2xhdXNlOjIwLFNvbHV0aW9uTW9kaWZpZXJOb0dyb3VwOjIxLFNlbGVjdENsYXVzZVZhcnM6MjIsU2VsZWN0UXVlcnlfcmVwZXRpdGlvbjE6MjMsU29sdXRpb25Nb2RpZmllcjoyNCxTZWxlY3RDbGF1c2VCYXNlOjI1LCIqIjoyNixTZWxlY3RDbGF1c2VWYXJzX3JlcGV0aXRpb25fcGx1czA6MjcsU0VMRUNUOjI4LFNlbGVjdENsYXVzZUJhc2Vfb3B0aW9uMDoyOSxTdWJTZWxlY3Q6MzAsU3ViU2VsZWN0X29wdGlvbjA6MzEsU3ViU2VsZWN0X29wdGlvbjE6MzIsU2VsZWN0Q2xhdXNlSXRlbTozMyxWQVI6MzQsIigiOjM1LEV4cHJlc3Npb246MzYsQVM6MzcsIikiOjM4LFZhclRyaXBsZTozOSxDb25zdHJ1Y3RRdWVyeTo0MCxDT05TVFJVQ1Q6NDEsQ29uc3RydWN0VGVtcGxhdGU6NDIsQ29uc3RydWN0UXVlcnlfcmVwZXRpdGlvbjA6NDMsQ29uc3RydWN0UXVlcnlfcmVwZXRpdGlvbjE6NDQsV0hFUkU6NDUsInsiOjQ2LENvbnN0cnVjdFF1ZXJ5X29wdGlvbjA6NDcsIn0iOjQ4LERlc2NyaWJlUXVlcnk6NDksREVTQ1JJQkU6NTAsRGVzY3JpYmVRdWVyeV9ncm91cDA6NTEsRGVzY3JpYmVRdWVyeV9yZXBldGl0aW9uMDo1MixEZXNjcmliZVF1ZXJ5X29wdGlvbjA6NTMsQXNrUXVlcnk6NTQsQVNLOjU1LEFza1F1ZXJ5X3JlcGV0aXRpb24wOjU2LERhdGFzZXRDbGF1c2U6NTcsRlJPTTo1OCxEYXRhc2V0Q2xhdXNlX29wdGlvbjA6NTksaXJpOjYwLFdoZXJlQ2xhdXNlX29wdGlvbjA6NjEsR3JvdXBHcmFwaFBhdHRlcm46NjIsU29sdXRpb25Nb2RpZmllcl9vcHRpb24wOjYzLFNvbHV0aW9uTW9kaWZpZXJOb0dyb3VwX29wdGlvbjA6NjQsU29sdXRpb25Nb2RpZmllck5vR3JvdXBfb3B0aW9uMTo2NSxTb2x1dGlvbk1vZGlmaWVyTm9Hcm91cF9vcHRpb24yOjY2LEdyb3VwQ2xhdXNlOjY3LEdST1VQOjY4LEJZOjY5LEdyb3VwQ2xhdXNlX3JlcGV0aXRpb25fcGx1czA6NzAsR3JvdXBDb25kaXRpb246NzEsQnVpbHRJbkNhbGw6NzIsRnVuY3Rpb25DYWxsOjczLEhhdmluZ0NsYXVzZTo3NCxIQVZJTkc6NzUsSGF2aW5nQ2xhdXNlX3JlcGV0aXRpb25fcGx1czA6NzYsT3JkZXJDbGF1c2U6NzcsT1JERVI6NzgsT3JkZXJDbGF1c2VfcmVwZXRpdGlvbl9wbHVzMDo3OSxPcmRlckNvbmRpdGlvbjo4MCxBU0M6ODEsQnJhY2tldHRlZEV4cHJlc3Npb246ODIsREVTQzo4MyxDb25zdHJhaW50Ojg0LExpbWl0T2Zmc2V0Q2xhdXNlczo4NSxMSU1JVDo4NixJTlRFR0VSOjg3LE9GRlNFVDo4OCxWYWx1ZXNDbGF1c2U6ODksVkFMVUVTOjkwLElubGluZURhdGE6OTEsSW5saW5lRGF0YV9yZXBldGl0aW9uMDo5MixOSUw6OTMsSW5saW5lRGF0YV9yZXBldGl0aW9uMTo5NCxJbmxpbmVEYXRhX3JlcGV0aXRpb25fcGx1czI6OTUsSW5saW5lRGF0YV9yZXBldGl0aW9uMzo5NixEYXRhQmxvY2tWYWx1ZTo5NyxMaXRlcmFsOjk4LENvbnN0VHJpcGxlOjk5LFVOREVGOjEwMCxEYXRhQmxvY2tWYWx1ZUxpc3Q6MTAxLERhdGFCbG9ja1ZhbHVlTGlzdF9yZXBldGl0aW9uX3BsdXMwOjEwMixVcGRhdGU6MTAzLFVwZGF0ZV9yZXBldGl0aW9uMDoxMDQsVXBkYXRlMToxMDUsVXBkYXRlX29wdGlvbjA6MTA2LExPQUQ6MTA3LFVwZGF0ZTFfb3B0aW9uMDoxMDgsVXBkYXRlMV9vcHRpb24xOjEwOSxVcGRhdGUxX2dyb3VwMDoxMTAsVXBkYXRlMV9vcHRpb24yOjExMSxHcmFwaFJlZkFsbDoxMTIsVXBkYXRlMV9ncm91cDE6MTEzLFVwZGF0ZTFfb3B0aW9uMzoxMTQsR3JhcGhPckRlZmF1bHQ6MTE1LFRPOjExNixDUkVBVEU6MTE3LFVwZGF0ZTFfb3B0aW9uNDoxMTgsR1JBUEg6MTE5LElOU0VSVERBVEE6MTIwLFF1YWRQYXR0ZXJuOjEyMSxERUxFVEVEQVRBOjEyMixERUxFVEVXSEVSRToxMjMsVXBkYXRlMV9vcHRpb241OjEyNCxJbnNlcnRDbGF1c2U6MTI1LFVwZGF0ZTFfb3B0aW9uNjoxMjYsVXBkYXRlMV9yZXBldGl0aW9uMDoxMjcsVXBkYXRlMV9vcHRpb243OjEyOCxEZWxldGVDbGF1c2U6MTI5LFVwZGF0ZTFfb3B0aW9uODoxMzAsVXBkYXRlMV9yZXBldGl0aW9uMToxMzEsREVMRVRFOjEzMixJTlNFUlQ6MTMzLFVzaW5nQ2xhdXNlOjEzNCxVU0lORzoxMzUsVXNpbmdDbGF1c2Vfb3B0aW9uMDoxMzYsV2l0aENsYXVzZToxMzcsV0lUSDoxMzgsSW50b0dyYXBoQ2xhdXNlOjEzOSxJTlRPOjE0MCxERUZBVUxUOjE0MSxHcmFwaE9yRGVmYXVsdF9vcHRpb24wOjE0MixHcmFwaFJlZkFsbF9ncm91cDA6MTQzLFF1YWRQYXR0ZXJuX29wdGlvbjA6MTQ0LFF1YWRQYXR0ZXJuX3JlcGV0aXRpb24wOjE0NSxRdWFkc05vdFRyaXBsZXM6MTQ2LFF1YWRzTm90VHJpcGxlc19ncm91cDA6MTQ3LFF1YWRzTm90VHJpcGxlc19vcHRpb24wOjE0OCxRdWFkc05vdFRyaXBsZXNfb3B0aW9uMToxNDksUXVhZHNOb3RUcmlwbGVzX29wdGlvbjI6MTUwLFRyaXBsZXNUZW1wbGF0ZToxNTEsVHJpcGxlc1RlbXBsYXRlX3JlcGV0aXRpb24wOjE1MixUcmlwbGVzU2FtZVN1YmplY3Q6MTUzLFRyaXBsZXNUZW1wbGF0ZV9vcHRpb24wOjE1NCxHcm91cEdyYXBoUGF0dGVyblN1YjoxNTUsR3JvdXBHcmFwaFBhdHRlcm5TdWJfb3B0aW9uMDoxNTYsR3JvdXBHcmFwaFBhdHRlcm5TdWJfcmVwZXRpdGlvbjA6MTU3LEdyb3VwR3JhcGhQYXR0ZXJuU3ViVGFpbDoxNTgsR3JhcGhQYXR0ZXJuTm90VHJpcGxlczoxNTksR3JvdXBHcmFwaFBhdHRlcm5TdWJUYWlsX29wdGlvbjA6MTYwLEdyb3VwR3JhcGhQYXR0ZXJuU3ViVGFpbF9vcHRpb24xOjE2MSxUcmlwbGVzQmxvY2s6MTYyLFRyaXBsZXNCbG9ja19yZXBldGl0aW9uMDoxNjMsVHJpcGxlc1NhbWVTdWJqZWN0UGF0aDoxNjQsVHJpcGxlc0Jsb2NrX29wdGlvbjA6MTY1LEdyYXBoUGF0dGVybk5vdFRyaXBsZXNfcmVwZXRpdGlvbjA6MTY2LE9QVElPTkFMOjE2NyxNSU5VUzoxNjgsR3JhcGhQYXR0ZXJuTm90VHJpcGxlc19ncm91cDA6MTY5LFNFUlZJQ0U6MTcwLEdyYXBoUGF0dGVybk5vdFRyaXBsZXNfb3B0aW9uMDoxNzEsR3JhcGhQYXR0ZXJuTm90VHJpcGxlc19ncm91cDE6MTcyLEZJTFRFUjoxNzMsQklORDoxNzQsRnVuY3Rpb25DYWxsX29wdGlvbjA6MTc1LEZ1bmN0aW9uQ2FsbF9yZXBldGl0aW9uMDoxNzYsRXhwcmVzc2lvbkxpc3Q6MTc3LEV4cHJlc3Npb25MaXN0X3JlcGV0aXRpb24wOjE3OCxDb25zdHJ1Y3RUZW1wbGF0ZV9vcHRpb24wOjE3OSxDb25zdHJ1Y3RUcmlwbGVzOjE4MCxDb25zdHJ1Y3RUcmlwbGVzX3JlcGV0aXRpb24wOjE4MSxDb25zdHJ1Y3RUcmlwbGVzX29wdGlvbjA6MTgyLFRyaXBsZXNTYW1lU3ViamVjdF9ncm91cDA6MTgzLFByb3BlcnR5TGlzdE5vdEVtcHR5OjE4NCxUcmlwbGVzTm9kZToxODUsUHJvcGVydHlMaXN0OjE4NixQcm9wZXJ0eUxpc3Rfb3B0aW9uMDoxODcsVmVyYk9iamVjdExpc3Q6MTg4LFByb3BlcnR5TGlzdE5vdEVtcHR5X3JlcGV0aXRpb24wOjE4OSxTZW1pT3B0aW9uYWxWZXJiT2JqZWN0TGlzdDoxOTAsIjsiOjE5MSxTZW1pT3B0aW9uYWxWZXJiT2JqZWN0TGlzdF9vcHRpb24wOjE5MixWZXJiOjE5MyxPYmplY3RMaXN0OjE5NCxhOjE5NSxPYmplY3RMaXN0X3JlcGV0aXRpb24wOjE5NixHcmFwaE5vZGU6MTk3LE9iamVjdExpc3RQYXRoOjE5OCxPYmplY3RMaXN0UGF0aF9yZXBldGl0aW9uMDoxOTksR3JhcGhOb2RlUGF0aDoyMDAsVHJpcGxlc1NhbWVTdWJqZWN0UGF0aF9ncm91cDA6MjAxLFByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eToyMDIsVHJpcGxlc05vZGVQYXRoOjIwMyxUcmlwbGVzU2FtZVN1YmplY3RQYXRoX29wdGlvbjA6MjA0LFByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eV9ncm91cDA6MjA1LFByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eV9yZXBldGl0aW9uMDoyMDYsUHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5X3JlcGV0aXRpb24xOjIwNyxQcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlUYWlsOjIwOCxQcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlUYWlsX2dyb3VwMDoyMDksUGF0aDoyMTAsUGF0aF9yZXBldGl0aW9uMDoyMTEsUGF0aFNlcXVlbmNlOjIxMixQYXRoU2VxdWVuY2VfcmVwZXRpdGlvbjA6MjEzLFBhdGhFbHRPckludmVyc2U6MjE0LFBhdGhFbHQ6MjE1LFBhdGhQcmltYXJ5OjIxNixQYXRoRWx0X29wdGlvbjA6MjE3LFBhdGhFbHRPckludmVyc2Vfb3B0aW9uMDoyMTgsIiEiOjIxOSxQYXRoTmVnYXRlZFByb3BlcnR5U2V0OjIyMCxQYXRoT25lSW5Qcm9wZXJ0eVNldDoyMjEsUGF0aE5lZ2F0ZWRQcm9wZXJ0eVNldF9yZXBldGl0aW9uMDoyMjIsUGF0aE5lZ2F0ZWRQcm9wZXJ0eVNldF9vcHRpb24wOjIyMywiXiI6MjI0LFRyaXBsZXNOb2RlX3JlcGV0aXRpb25fcGx1czA6MjI1LCJbIjoyMjYsIl0iOjIyNyxUcmlwbGVzTm9kZVBhdGhfcmVwZXRpdGlvbl9wbHVzMDoyMjgsR3JhcGhOb2RlX2dyb3VwMDoyMjksR3JhcGhOb2RlUGF0aF9ncm91cDA6MjMwLCI8PCI6MjMxLFZhclRyaXBsZV9ncm91cDA6MjMyLFZhclRyaXBsZV9ncm91cDE6MjMzLFZhclRyaXBsZV9ncm91cDI6MjM0LCI+PiI6MjM1LFZhclRyaXBsZV9ncm91cDM6MjM2LFZhclRyaXBsZV9ncm91cDQ6MjM3LENvbnN0VHJpcGxlX2dyb3VwMDoyMzgsQ29uc3RUcmlwbGVfZ3JvdXAxOjIzOSxDb25zdFRyaXBsZV9ncm91cDI6MjQwLENvbnN0VHJpcGxlX2dyb3VwMzoyNDEsQ29uc3RUcmlwbGVfZ3JvdXA0OjI0MixWYXJPclRlcm06MjQzLFRlcm06MjQ0LEJMQU5LX05PREVfTEFCRUw6MjQ1LEFOT046MjQ2LENvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbjoyNDcsRXhwcmVzc2lvbl9yZXBldGl0aW9uMDoyNDgsRXhwcmVzc2lvblRhaWw6MjQ5LCJ8fCI6MjUwLFJlbGF0aW9uYWxFeHByZXNzaW9uOjI1MSxDb25kaXRpb25hbEFuZEV4cHJlc3Npb25fcmVwZXRpdGlvbjA6MjUyLENvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblRhaWw6MjUzLCImJiI6MjU0LEFkZGl0aXZlRXhwcmVzc2lvbjoyNTUsUmVsYXRpb25hbEV4cHJlc3Npb25fZ3JvdXAwOjI1NixSZWxhdGlvbmFsRXhwcmVzc2lvbl9vcHRpb24wOjI1NyxJTjoyNTgsTXVsdGlwbGljYXRpdmVFeHByZXNzaW9uOjI1OSxBZGRpdGl2ZUV4cHJlc3Npb25fcmVwZXRpdGlvbjA6MjYwLEFkZGl0aXZlRXhwcmVzc2lvblRhaWw6MjYxLEFkZGl0aXZlRXhwcmVzc2lvblRhaWxfZ3JvdXAwOjI2MixOdW1lcmljTGl0ZXJhbFBvc2l0aXZlOjI2MyxBZGRpdGl2ZUV4cHJlc3Npb25UYWlsX3JlcGV0aXRpb24wOjI2NCxOdW1lcmljTGl0ZXJhbE5lZ2F0aXZlOjI2NSxBZGRpdGl2ZUV4cHJlc3Npb25UYWlsX3JlcGV0aXRpb24xOjI2NixVbmFyeUV4cHJlc3Npb246MjY3LE11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl9yZXBldGl0aW9uMDoyNjgsTXVsdGlwbGljYXRpdmVFeHByZXNzaW9uVGFpbDoyNjksTXVsdGlwbGljYXRpdmVFeHByZXNzaW9uVGFpbF9ncm91cDA6MjcwLCIrIjoyNzEsUHJpbWFyeUV4cHJlc3Npb246MjcyLCItIjoyNzMsQWdncmVnYXRlOjI3NCxGVU5DX0FSSVRZMDoyNzUsRlVOQ19BUklUWTE6Mjc2LEZVTkNfQVJJVFkyOjI3NywiLCI6Mjc4LElGOjI3OSxCdWlsdEluQ2FsbF9ncm91cDA6MjgwLEJPVU5EOjI4MSxCTk9ERToyODIsQnVpbHRJbkNhbGxfb3B0aW9uMDoyODMsRVhJU1RTOjI4NCxDT1VOVDoyODUsQWdncmVnYXRlX29wdGlvbjA6Mjg2LEFnZ3JlZ2F0ZV9ncm91cDA6Mjg3LEZVTkNfQUdHUkVHQVRFOjI4OCxBZ2dyZWdhdGVfb3B0aW9uMToyODksR1JPVVBfQ09OQ0FUOjI5MCxBZ2dyZWdhdGVfb3B0aW9uMjoyOTEsQWdncmVnYXRlX29wdGlvbjM6MjkyLEdyb3VwQ29uY2F0U2VwYXJhdG9yOjI5MyxTRVBBUkFUT1I6Mjk0LCI9IjoyOTUsU3RyaW5nOjI5NixMQU5HVEFHOjI5NywiXl4iOjI5OCxERUNJTUFMOjI5OSxET1VCTEU6MzAwLEJPT0xFQU46MzAxLFNUUklOR19MSVRFUkFMMTozMDIsU1RSSU5HX0xJVEVSQUwyOjMwMyxTVFJJTkdfTElURVJBTF9MT05HMTozMDQsU1RSSU5HX0xJVEVSQUxfTE9ORzI6MzA1LElOVEVHRVJfUE9TSVRJVkU6MzA2LERFQ0lNQUxfUE9TSVRJVkU6MzA3LERPVUJMRV9QT1NJVElWRTozMDgsSU5URUdFUl9ORUdBVElWRTozMDksREVDSU1BTF9ORUdBVElWRTozMTAsRE9VQkxFX05FR0FUSVZFOjMxMSxQTkFNRV9MTjozMTIsUXVlcnlPclVwZGF0ZV9ncm91cDBfb3B0aW9uMDozMTMsUHJvbG9ndWVfcmVwZXRpdGlvbjBfZ3JvdXAwOjMxNCxTZWxlY3RDbGF1c2VCYXNlX29wdGlvbjBfZ3JvdXAwOjMxNSxESVNUSU5DVDozMTYsUkVEVUNFRDozMTcsRGVzY3JpYmVRdWVyeV9ncm91cDBfcmVwZXRpdGlvbl9wbHVzMF9ncm91cDA6MzE4LERlc2NyaWJlUXVlcnlfZ3JvdXAwX3JlcGV0aXRpb25fcGx1czA6MzE5LE5BTUVEOjMyMCxTSUxFTlQ6MzIxLENMRUFSOjMyMixEUk9QOjMyMyxBREQ6MzI0LE1PVkU6MzI1LENPUFk6MzI2LEFMTDozMjcsIi4iOjMyOCxVTklPTjozMjksInwiOjMzMCwiLyI6MzMxLFBhdGhFbHRfb3B0aW9uMF9ncm91cDA6MzMyLCI/IjozMzMsIiE9IjozMzQsIjwiOjMzNSwiPiI6MzM2LCI8PSI6MzM3LCI+PSI6MzM4LE5PVDozMzksQ09OQ0FUOjM0MCxDT0FMRVNDRTozNDEsU1VCU1RSOjM0MixSRUdFWDozNDMsUkVQTEFDRTozNDQsJGFjY2VwdDowLCRlbmQ6MX0sdGVybWluYWxzXzp7MjoiZXJyb3IiLDY6IkVPRiIsMTI6IkJBU0UiLDEzOiJJUklSRUYiLDE1OiJQUkVGSVgiLDE2OiJQTkFNRV9OUyIsMjY6IioiLDI4OiJTRUxFQ1QiLDM0OiJWQVIiLDM1OiIoIiwzNzoiQVMiLDM4OiIpIiw0MToiQ09OU1RSVUNUIiw0NToiV0hFUkUiLDQ2OiJ7Iiw0ODoifSIsNTA6IkRFU0NSSUJFIiw1NToiQVNLIiw1ODoiRlJPTSIsNjg6IkdST1VQIiw2OToiQlkiLDc1OiJIQVZJTkciLDc4OiJPUkRFUiIsODE6IkFTQyIsODM6IkRFU0MiLDg2OiJMSU1JVCIsODc6IklOVEVHRVIiLDg4OiJPRkZTRVQiLDkwOiJWQUxVRVMiLDkzOiJOSUwiLDEwMDoiVU5ERUYiLDEwNzoiTE9BRCIsMTE2OiJUTyIsMTE3OiJDUkVBVEUiLDExOToiR1JBUEgiLDEyMDoiSU5TRVJUREFUQSIsMTIyOiJERUxFVEVEQVRBIiwxMjM6IkRFTEVURVdIRVJFIiwxMzI6IkRFTEVURSIsMTMzOiJJTlNFUlQiLDEzNToiVVNJTkciLDEzODoiV0lUSCIsMTQwOiJJTlRPIiwxNDE6IkRFRkFVTFQiLDE2NzoiT1BUSU9OQUwiLDE2ODoiTUlOVVMiLDE3MDoiU0VSVklDRSIsMTczOiJGSUxURVIiLDE3NDoiQklORCIsMTkxOiI7IiwxOTU6ImEiLDIxOToiISIsMjI0OiJeIiwyMjY6IlsiLDIyNzoiXSIsMjMxOiI8PCIsMjM1OiI+PiIsMjQ1OiJCTEFOS19OT0RFX0xBQkVMIiwyNDY6IkFOT04iLDI1MDoifHwiLDI1NDoiJiYiLDI1ODoiSU4iLDI3MToiKyIsMjczOiItIiwyNzU6IkZVTkNfQVJJVFkwIiwyNzY6IkZVTkNfQVJJVFkxIiwyNzc6IkZVTkNfQVJJVFkyIiwyNzg6IiwiLDI3OToiSUYiLDI4MToiQk9VTkQiLDI4MjoiQk5PREUiLDI4NDoiRVhJU1RTIiwyODU6IkNPVU5UIiwyODg6IkZVTkNfQUdHUkVHQVRFIiwyOTA6IkdST1VQX0NPTkNBVCIsMjk0OiJTRVBBUkFUT1IiLDI5NToiPSIsMjk3OiJMQU5HVEFHIiwyOTg6Il5eIiwyOTk6IkRFQ0lNQUwiLDMwMDoiRE9VQkxFIiwzMDE6IkJPT0xFQU4iLDMwMjoiU1RSSU5HX0xJVEVSQUwxIiwzMDM6IlNUUklOR19MSVRFUkFMMiIsMzA0OiJTVFJJTkdfTElURVJBTF9MT05HMSIsMzA1OiJTVFJJTkdfTElURVJBTF9MT05HMiIsMzA2OiJJTlRFR0VSX1BPU0lUSVZFIiwzMDc6IkRFQ0lNQUxfUE9TSVRJVkUiLDMwODoiRE9VQkxFX1BPU0lUSVZFIiwzMDk6IklOVEVHRVJfTkVHQVRJVkUiLDMxMDoiREVDSU1BTF9ORUdBVElWRSIsMzExOiJET1VCTEVfTkVHQVRJVkUiLDMxMjoiUE5BTUVfTE4iLDMxNjoiRElTVElOQ1QiLDMxNzoiUkVEVUNFRCIsMzIwOiJOQU1FRCIsMzIxOiJTSUxFTlQiLDMyMjoiQ0xFQVIiLDMyMzoiRFJPUCIsMzI0OiJBREQiLDMyNToiTU9WRSIsMzI2OiJDT1BZIiwzMjc6IkFMTCIsMzI4OiIuIiwzMjk6IlVOSU9OIiwzMzA6InwiLDMzMToiLyIsMzMzOiI/IiwzMzQ6IiE9IiwzMzU6IjwiLDMzNjoiPiIsMzM3OiI8PSIsMzM4OiI+PSIsMzM5OiJOT1QiLDM0MDoiQ09OQ0FUIiwzNDE6IkNPQUxFU0NFIiwzNDI6IlNVQlNUUiIsMzQzOiJSRUdFWCIsMzQ0OiJSRVBMQUNFIn0scHJvZHVjdGlvbnNfOlswLFszLDNdLFs0LDFdLFs4LDJdLFsxMSwyXSxbMTQsM10sWzE3LDRdLFsxNyw0XSxbMTgsMl0sWzIyLDJdLFsyNSwyXSxbMzAsNF0sWzMwLDRdLFszMywxXSxbMzMsNV0sWzMzLDVdLFs0MCw1XSxbNDAsN10sWzQ5LDVdLFs1NCw0XSxbNTcsM10sWzIwLDJdLFsyNCwyXSxbMjEsM10sWzY3LDNdLFs3MSwxXSxbNzEsMV0sWzcxLDNdLFs3MSw1XSxbNzEsMV0sWzc0LDJdLFs3NywzXSxbODAsMl0sWzgwLDJdLFs4MCwxXSxbODAsMV0sWzg1LDJdLFs4NSwyXSxbODUsNF0sWzg1LDRdLFs4OSwyXSxbOTEsNF0sWzkxLDRdLFs5MSw2XSxbOTcsMV0sWzk3LDFdLFs5NywxXSxbOTcsMV0sWzEwMSwzXSxbMTAzLDNdLFsxMDUsNF0sWzEwNSwzXSxbMTA1LDVdLFsxMDUsNF0sWzEwNSwyXSxbMTA1LDJdLFsxMDUsMl0sWzEwNSw2XSxbMTA1LDZdLFsxMjksMl0sWzEyNSwyXSxbMTM0LDNdLFsxMzcsMl0sWzEzOSwzXSxbMTE1LDFdLFsxMTUsMl0sWzExMiwyXSxbMTEyLDFdLFsxMjEsNF0sWzE0Niw3XSxbMTUxLDNdLFs2MiwzXSxbNjIsM10sWzE1NSwyXSxbMTU4LDNdLFsxNjIsM10sWzE1OSwyXSxbMTU5LDJdLFsxNTksMl0sWzE1OSwzXSxbMTU5LDRdLFsxNTksMl0sWzE1OSw2XSxbMTU5LDZdLFsxNTksMV0sWzg0LDFdLFs4NCwxXSxbODQsMV0sWzczLDJdLFs3Myw2XSxbMTc3LDFdLFsxNzcsNF0sWzQyLDNdLFsxODAsM10sWzE1MywyXSxbMTUzLDJdLFsxODYsMV0sWzE4NCwyXSxbMTkwLDJdLFsxODgsMl0sWzE5MywxXSxbMTkzLDFdLFsxOTMsMV0sWzE5NCwyXSxbMTk4LDJdLFsxNjQsMl0sWzE2NCwyXSxbMjAyLDRdLFsyMDgsMV0sWzIwOCwzXSxbMjEwLDJdLFsyMTIsMl0sWzIxNSwyXSxbMjE0LDJdLFsyMTYsMV0sWzIxNiwxXSxbMjE2LDJdLFsyMTYsM10sWzIyMCwxXSxbMjIwLDFdLFsyMjAsNF0sWzIyMSwxXSxbMjIxLDFdLFsyMjEsMl0sWzIyMSwyXSxbMTg1LDNdLFsxODUsM10sWzIwMywzXSxbMjAzLDNdLFsxOTcsMV0sWzE5NywxXSxbMjAwLDFdLFsyMDAsMV0sWzM5LDldLFszOSw1XSxbOTksOV0sWzk5LDVdLFsyNDMsMV0sWzI0MywxXSxbMjQ0LDFdLFsyNDQsMV0sWzI0NCwxXSxbMjQ0LDFdLFsyNDQsMV0sWzM2LDJdLFsyNDksMl0sWzI0NywyXSxbMjUzLDJdLFsyNTEsMV0sWzI1MSwzXSxbMjUxLDRdLFsyNTUsMl0sWzI2MSwyXSxbMjYxLDJdLFsyNjEsMl0sWzI1OSwyXSxbMjY5LDJdLFsyNjcsMl0sWzI2NywyXSxbMjY3LDJdLFsyNjcsMV0sWzI3MiwxXSxbMjcyLDFdLFsyNzIsMV0sWzI3MiwxXSxbMjcyLDFdLFsyNzIsMV0sWzgyLDNdLFs3MiwxXSxbNzIsMl0sWzcyLDRdLFs3Miw2XSxbNzIsOF0sWzcyLDJdLFs3Miw0XSxbNzIsMl0sWzcyLDRdLFs3MiwzXSxbMjc0LDVdLFsyNzQsNV0sWzI3NCw2XSxbMjkzLDRdLFs5OCwxXSxbOTgsMl0sWzk4LDNdLFs5OCwxXSxbOTgsMV0sWzk4LDFdLFs5OCwxXSxbOTgsMV0sWzk4LDFdLFsyOTYsMV0sWzI5NiwxXSxbMjk2LDFdLFsyOTYsMV0sWzI2MywxXSxbMjYzLDFdLFsyNjMsMV0sWzI2NSwxXSxbMjY1LDFdLFsyNjUsMV0sWzYwLDFdLFs2MCwxXSxbNjAsMV0sWzMxMywwXSxbMzEzLDFdLFs1LDFdLFs1LDFdLFs1LDFdLFszMTQsMV0sWzMxNCwxXSxbNywwXSxbNywyXSxbOSwxXSxbOSwxXSxbOSwxXSxbOSwxXSxbMTAsMF0sWzEwLDFdLFsxOSwwXSxbMTksMl0sWzIzLDBdLFsyMywyXSxbMjcsMV0sWzI3LDJdLFszMTUsMV0sWzMxNSwxXSxbMjksMF0sWzI5LDFdLFszMSwwXSxbMzEsMV0sWzMyLDBdLFszMiwxXSxbNDMsMF0sWzQzLDJdLFs0NCwwXSxbNDQsMl0sWzQ3LDBdLFs0NywxXSxbMzE4LDFdLFszMTgsMV0sWzMxOSwxXSxbMzE5LDJdLFs1MSwxXSxbNTEsMV0sWzUyLDBdLFs1MiwyXSxbNTMsMF0sWzUzLDFdLFs1NiwwXSxbNTYsMl0sWzU5LDBdLFs1OSwxXSxbNjEsMF0sWzYxLDFdLFs2MywwXSxbNjMsMV0sWzY0LDBdLFs2NCwxXSxbNjUsMF0sWzY1LDFdLFs2NiwwXSxbNjYsMV0sWzcwLDFdLFs3MCwyXSxbNzYsMV0sWzc2LDJdLFs3OSwxXSxbNzksMl0sWzkyLDBdLFs5MiwyXSxbOTQsMF0sWzk0LDJdLFs5NSwxXSxbOTUsMl0sWzk2LDBdLFs5NiwyXSxbMTAyLDFdLFsxMDIsMl0sWzEwNCwwXSxbMTA0LDRdLFsxMDYsMF0sWzEwNiwyXSxbMTA4LDBdLFsxMDgsMV0sWzEwOSwwXSxbMTA5LDFdLFsxMTAsMV0sWzExMCwxXSxbMTExLDBdLFsxMTEsMV0sWzExMywxXSxbMTEzLDFdLFsxMTMsMV0sWzExNCwwXSxbMTE0LDFdLFsxMTgsMF0sWzExOCwxXSxbMTI0LDBdLFsxMjQsMV0sWzEyNiwwXSxbMTI2LDFdLFsxMjcsMF0sWzEyNywyXSxbMTI4LDBdLFsxMjgsMV0sWzEzMCwwXSxbMTMwLDFdLFsxMzEsMF0sWzEzMSwyXSxbMTM2LDBdLFsxMzYsMV0sWzE0MiwwXSxbMTQyLDFdLFsxNDMsMV0sWzE0MywxXSxbMTQzLDFdLFsxNDQsMF0sWzE0NCwxXSxbMTQ1LDBdLFsxNDUsMl0sWzE0NywxXSxbMTQ3LDFdLFsxNDgsMF0sWzE0OCwxXSxbMTQ5LDBdLFsxNDksMV0sWzE1MCwwXSxbMTUwLDFdLFsxNTIsMF0sWzE1MiwzXSxbMTU0LDBdLFsxNTQsMV0sWzE1NiwwXSxbMTU2LDFdLFsxNTcsMF0sWzE1NywyXSxbMTYwLDBdLFsxNjAsMV0sWzE2MSwwXSxbMTYxLDFdLFsxNjMsMF0sWzE2MywzXSxbMTY1LDBdLFsxNjUsMV0sWzE2NiwwXSxbMTY2LDNdLFsxNjksMV0sWzE2OSwxXSxbMTcxLDBdLFsxNzEsMV0sWzE3MiwxXSxbMTcyLDFdLFsxNzUsMF0sWzE3NSwxXSxbMTc2LDBdLFsxNzYsM10sWzE3OCwwXSxbMTc4LDNdLFsxNzksMF0sWzE3OSwxXSxbMTgxLDBdLFsxODEsM10sWzE4MiwwXSxbMTgyLDFdLFsxODMsMV0sWzE4MywxXSxbMTg3LDBdLFsxODcsMV0sWzE4OSwwXSxbMTg5LDJdLFsxOTIsMF0sWzE5MiwxXSxbMTk2LDBdLFsxOTYsM10sWzE5OSwwXSxbMTk5LDNdLFsyMDEsMV0sWzIwMSwxXSxbMjA0LDBdLFsyMDQsMV0sWzIwNSwxXSxbMjA1LDFdLFsyMDYsMF0sWzIwNiwzXSxbMjA3LDBdLFsyMDcsMl0sWzIwOSwxXSxbMjA5LDFdLFsyMTEsMF0sWzIxMSwzXSxbMjEzLDBdLFsyMTMsM10sWzMzMiwxXSxbMzMyLDFdLFszMzIsMV0sWzIxNywwXSxbMjE3LDFdLFsyMTgsMF0sWzIxOCwxXSxbMjIyLDBdLFsyMjIsM10sWzIyMywwXSxbMjIzLDFdLFsyMjUsMV0sWzIyNSwyXSxbMjI4LDFdLFsyMjgsMl0sWzIyOSwxXSxbMjI5LDFdLFsyMzAsMV0sWzIzMCwxXSxbMjMyLDFdLFsyMzIsMV0sWzIzMywxXSxbMjMzLDFdLFsyMzQsMV0sWzIzNCwxXSxbMjM2LDFdLFsyMzYsMV0sWzIzNywxXSxbMjM3LDFdLFsyMzgsMV0sWzIzOCwxXSxbMjM5LDFdLFsyMzksMV0sWzI0MCwxXSxbMjQwLDFdLFsyNDEsMV0sWzI0MSwxXSxbMjQyLDFdLFsyNDIsMV0sWzI0OCwwXSxbMjQ4LDJdLFsyNTIsMF0sWzI1MiwyXSxbMjU2LDFdLFsyNTYsMV0sWzI1NiwxXSxbMjU2LDFdLFsyNTYsMV0sWzI1NiwxXSxbMjU3LDBdLFsyNTcsMV0sWzI2MCwwXSxbMjYwLDJdLFsyNjIsMV0sWzI2MiwxXSxbMjY0LDBdLFsyNjQsMl0sWzI2NiwwXSxbMjY2LDJdLFsyNjgsMF0sWzI2OCwyXSxbMjcwLDFdLFsyNzAsMV0sWzI4MCwxXSxbMjgwLDFdLFsyODAsMV0sWzI4MCwxXSxbMjgwLDFdLFsyODMsMF0sWzI4MywxXSxbMjg2LDBdLFsyODYsMV0sWzI4NywxXSxbMjg3LDFdLFsyODksMF0sWzI4OSwxXSxbMjkxLDBdLFsyOTEsMV0sWzI5MiwwXSxbMjkyLDFdXSxwZXJmb3JtQWN0aW9uOmZ1bmN0aW9uKFRlLGplLFBlLFZlLFFlLFcsbXQpe3ZhciB0ZT1XLmxlbmd0aC0xO3N3aXRjaChRZSl7Y2FzZSAxOmlmKFdbdGUtMV09V1t0ZS0xXXx8e30sSGUuYmFzZSYmKFdbdGUtMV0uYmFzZT1IZS5iYXNlKSxIZS5iYXNlPSIiLFdbdGUtMV0ucHJlZml4ZXM9SGUucHJlZml4ZXMsSGUucHJlZml4ZXM9bnVsbCxIZS5wYXRoT25seSl7aWYoV1t0ZS0xXS50eXBlPT09InBhdGgifHwidGVybVR5cGUiaW4gV1t0ZS0xXSlyZXR1cm4gV1t0ZS0xXTt0aHJvdyBuZXcgRXJyb3IoIlJlY2VpdmVkIGZ1bGwgU1BBUlFMIHF1ZXJ5IGluIHBhdGggb25seSBtb2RlIil9ZWxzZSBpZihXW3RlLTFdLnR5cGU9PT0icGF0aCJ8fCJ0ZXJtVHlwZSJpbiBXW3RlLTFdKXRocm93IG5ldyBFcnJvcigiUmVjZWl2ZWQgb25seSBwYXRoIGluIGZ1bGwgU1BBUlFMIG1vZGUiKTtpZihXW3RlLTFdLnR5cGU9PT0idXBkYXRlIil7Y29uc3QgemU9e307Zm9yKGNvbnN0IFdlIG9mIFdbdGUtMV0udXBkYXRlcylpZihXZS51cGRhdGVUeXBlPT09Imluc2VydCIpe2NvbnN0IEdlPXt9O2Zvcihjb25zdCBvdCBvZiBXZS5pbnNlcnQpaWYob3QudHlwZT09PSJiZ3AifHxvdC50eXBlPT09ImdyYXBoIilmb3IoY29uc3QgdXQgb2Ygb3QudHJpcGxlcyl1dC5zdWJqZWN0LnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJihHZVt1dC5zdWJqZWN0LnZhbHVlXT0hMCksdXQucHJlZGljYXRlLnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJihHZVt1dC5wcmVkaWNhdGUudmFsdWVdPSEwKSx1dC5vYmplY3QudGVybVR5cGU9PT0iQmxhbmtOb2RlIiYmKEdlW3V0Lm9iamVjdC52YWx1ZV09ITApO2Zvcihjb25zdCBvdCBvZiBPYmplY3Qua2V5cyhHZSkpe2lmKHplW290XSl0aHJvdyBuZXcgRXJyb3IoIkRldGVjdGVkIHJldXNlIGJsYW5rIG5vZGUgYWNyb3NzIGRpZmZlcmVudCBJTlNFUlQgREFUQSBjbGF1c2VzIik7emVbb3RdPSEwfX19cmV0dXJuIFdbdGUtMV07Y2FzZSAzOnRoaXMuJD1aZShXW3RlLTFdLFdbdGVdLHt0eXBlOiJxdWVyeSJ9KTticmVhaztjYXNlIDQ6SGUuYmFzZT1scihXW3RlXSk7YnJlYWs7Y2FzZSA1OkhlLnByZWZpeGVzfHwoSGUucHJlZml4ZXM9e30pLFdbdGUtMV09V1t0ZS0xXS5zdWJzdHIoMCxXW3RlLTFdLmxlbmd0aC0xKSxXW3RlXT1scihXW3RlXSksSGUucHJlZml4ZXNbV1t0ZS0xXV09V1t0ZV07YnJlYWs7Y2FzZSA2OnRoaXMuJD1aZShXW3RlLTNdLEx0KFdbdGUtMl0pLFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgNzppZighSGUuc2tpcFZhbGlkYXRpb24mJihWcihXW3RlLTNdLnZhcmlhYmxlcy5tYXAoV2U9PlVyKFdlLmV4cHJlc3Npb24pKSkuc29tZShXZT0+V2UuYWdncmVnYXRpb249PT0iY291bnQiJiYhKFdlLmV4cHJlc3Npb24gaW5zdGFuY2VvZiB2cikpfHxXW3RlXS5ncm91cCkpe2Zvcihjb25zdCBXZSBvZiBXW3RlLTNdLnZhcmlhYmxlcylpZihXZS50ZXJtVHlwZT09PSJWYXJpYWJsZSIpe2lmKCFXW3RlXS5ncm91cHx8IVdbdGVdLmdyb3VwLm1hcChHZT0+ZXIoR2UpKS5pbmNsdWRlcyhlcihXZSkpKXRocm93IEVycm9yKCJQcm9qZWN0aW9uIG9mIHVuZ3JvdXBlZCB2YXJpYWJsZSAoPyIrZXIoV2UpKyIpIil9ZWxzZSBpZihVcihXZS5leHByZXNzaW9uKS5sZW5ndGg9PT0wKXtjb25zdCBHZT1YbihXZS5leHByZXNzaW9uKTtmb3IoY29uc3Qgb3Qgb2YgR2UpaWYoIVdbdGVdLmdyb3VwfHwhV1t0ZV0uZ3JvdXAubWFwfHwhV1t0ZV0uZ3JvdXAubWFwKHV0PT5lcih1dCkpLmluY2x1ZGVzKGVyKG90KSkpdGhyb3cgRXJyb3IoIlVzZSBvZiB1bmdyb3VwZWQgdmFyaWFibGUgaW4gcHJvamVjdGlvbiBvZiBvcGVyYXRpb24gKD8iK2VyKG90KSsiKSIpfX1jb25zdCB0cj1XW3RlLTFdLndoZXJlLmZpbHRlcih6ZT0+emUudHlwZT09PSJxdWVyeSIpO2lmKHRyLmxlbmd0aD4wKXtjb25zdCB6ZT1XW3RlLTNdLnZhcmlhYmxlcy5maWx0ZXIoR2U9PkdlLnZhcmlhYmxlJiZHZS52YXJpYWJsZS52YWx1ZSkubWFwKEdlPT5HZS52YXJpYWJsZS52YWx1ZSksV2U9VnIodHIubWFwKEdlPT5HZS52YXJpYWJsZXMpKS5tYXAoR2U9PkdlLnZhbHVlfHxHZS52YXJpYWJsZS52YWx1ZSk7Zm9yKGNvbnN0IEdlIG9mIHplKWlmKFdlLmluZGV4T2YoR2UpPj0wKXRocm93IEVycm9yKCJUYXJnZXQgaWQgb2YgJ0FTJyAoPyIrR2UrIikgYWxyZWFkeSB1c2VkIGluIHN1YnF1ZXJ5Iil9dGhpcy4kPVplKFdbdGUtM10sTHQoV1t0ZS0yXSksV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSA4OnRoaXMuJD1aZShXW3RlLTFdLHt2YXJpYWJsZXM6W25ldyB2cl19KTticmVhaztjYXNlIDk6Y29uc3QgSHI9V1t0ZV0ubWFwKHplPT56ZS52YWx1ZXx8emUudmFyaWFibGUudmFsdWUpLFNyPUtuKEhyKTtpZihTci5sZW5ndGg+MCl0aHJvdyBFcnJvcigiVHdvIG9yIG1vcmUgb2YgdGhlIHJlc3VsdGluZyBjb2x1bW5zIGhhdmUgdGhlIHNhbWUgbmFtZSAoPyIrU3JbMF0rIikiKTt0aGlzLiQ9WmUoV1t0ZS0xXSx7dmFyaWFibGVzOldbdGVdfSk7YnJlYWs7Y2FzZSAxMDp0aGlzLiQ9WmUoe3F1ZXJ5VHlwZToiU0VMRUNUIn0sV1t0ZV0mJihXW3RlLTFdPXB0KFdbdGVdKSxXW3RlXT17fSxXW3RlXVtXW3RlLTFdXT0hMCxXW3RlXSkpO2JyZWFrO2Nhc2UgMTE6Y2FzZSAxMjp0aGlzLiQ9WmUoV1t0ZS0zXSxXW3RlLTJdLFdbdGUtMV0sV1t0ZV0se3R5cGU6InF1ZXJ5In0pO2JyZWFrO2Nhc2UgMTM6Y2FzZSAxMDA6Y2FzZSAxMzc6Y2FzZSAxNjY6dGhpcy4kPWR0KFdbdGVdKTticmVhaztjYXNlIDE0OmNhc2UgMjg6dGhpcy4kPVB0KFdbdGUtM10se3ZhcmlhYmxlOmR0KFdbdGUtMV0pfSk7YnJlYWs7Y2FzZSAxNTp0aGlzLiQ9ZnIoUHQoV1t0ZS0zXSx7dmFyaWFibGU6ZHQoV1t0ZS0xXSl9KSk7YnJlYWs7Y2FzZSAxNjp0aGlzLiQ9WmUoe3F1ZXJ5VHlwZToiQ09OU1RSVUNUIix0ZW1wbGF0ZTpXW3RlLTNdfSxMdChXW3RlLTJdKSxXW3RlLTFdLFdbdGVdKTticmVhaztjYXNlIDE3OnRoaXMuJD1aZSh7cXVlcnlUeXBlOiJDT05TVFJVQ1QiLHRlbXBsYXRlOldbdGUtMl09V1t0ZS0yXT9XW3RlLTJdLnRyaXBsZXM6W119LEx0KFdbdGUtNV0pLHt3aGVyZTpbe3R5cGU6ImJncCIsdHJpcGxlczpZdChbXSxXW3RlLTJdKX1dfSxXW3RlXSk7YnJlYWs7Y2FzZSAxODp0aGlzLiQ9WmUoe3F1ZXJ5VHlwZToiREVTQ1JJQkUiLHZhcmlhYmxlczpXW3RlLTNdPT09IioiP1tuZXcgdnJdOldbdGUtM10ubWFwKGR0KX0sTHQoV1t0ZS0yXSksV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAxOTp0aGlzLiQ9WmUoe3F1ZXJ5VHlwZToiQVNLIn0sTHQoV1t0ZS0yXSksV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAyMDpjYXNlIDYxOnRoaXMuJD17aXJpOldbdGVdLG5hbWVkOiEhV1t0ZS0xXX07YnJlYWs7Y2FzZSAyMTp0aGlzLiQ9e3doZXJlOldbdGVdLnBhdHRlcm5zfTticmVhaztjYXNlIDIyOnRoaXMuJD1aZShXW3RlLTFdLFdbdGVdKTticmVhaztjYXNlIDIzOnRoaXMuJD1aZShXW3RlLTJdLFdbdGUtMV0sV1t0ZV0pO2JyZWFrO2Nhc2UgMjQ6dGhpcy4kPXtncm91cDpXW3RlXX07YnJlYWs7Y2FzZSAyNTpjYXNlIDI2OmNhc2UgMzI6Y2FzZSAzNDp0aGlzLiQ9UHQoV1t0ZV0pO2JyZWFrO2Nhc2UgMjc6dGhpcy4kPVB0KFdbdGUtMV0pO2JyZWFrO2Nhc2UgMjk6Y2FzZSAzNTp0aGlzLiQ9UHQoZHQoV1t0ZV0pKTticmVhaztjYXNlIDMwOnRoaXMuJD17aGF2aW5nOldbdGVdfTticmVhaztjYXNlIDMxOnRoaXMuJD17b3JkZXI6V1t0ZV19O2JyZWFrO2Nhc2UgMzM6dGhpcy4kPVB0KFdbdGVdLHtkZXNjZW5kaW5nOiEwfSk7YnJlYWs7Y2FzZSAzNjp0aGlzLiQ9e2xpbWl0Olp0KFdbdGVdKX07YnJlYWs7Y2FzZSAzNzp0aGlzLiQ9e29mZnNldDpadChXW3RlXSl9O2JyZWFrO2Nhc2UgMzg6dGhpcy4kPXtsaW1pdDpadChXW3RlLTJdKSxvZmZzZXQ6WnQoV1t0ZV0pfTticmVhaztjYXNlIDM5OnRoaXMuJD17bGltaXQ6WnQoV1t0ZV0pLG9mZnNldDpadChXW3RlLTJdKX07YnJlYWs7Y2FzZSA0MDp0aGlzLiQ9e3R5cGU6InZhbHVlcyIsdmFsdWVzOldbdGVdfTticmVhaztjYXNlIDQxOnRoaXMuJD1XW3RlLTFdLm1hcChmdW5jdGlvbih6ZSl7dmFyIFdlPXt9O3JldHVybiBXZVtXW3RlLTNdXT16ZSxXZX0pO2JyZWFrO2Nhc2UgNDI6dGhpcy4kPVdbdGUtMV0ubWFwKGZ1bmN0aW9uKCl7cmV0dXJue319KTticmVhaztjYXNlIDQzOnZhciBDdD1XW3RlLTRdLmxlbmd0aDtXW3RlLTRdPVdbdGUtNF0ubWFwKGR0KSx0aGlzLiQ9V1t0ZS0xXS5tYXAoZnVuY3Rpb24oemUpe2lmKHplLmxlbmd0aCE9PUN0KXRocm93IEVycm9yKCJJbmNvbnNpc3RlbnQgVkFMVUVTIGxlbmd0aCIpO2Zvcih2YXIgV2U9e30sR2U9MDtHZTxDdDtHZSsrKVdlWyI/IitXW3RlLTRdW0dlXS52YWx1ZV09emVbR2VdO3JldHVybiBXZX0pO2JyZWFrO2Nhc2UgNDY6dGhpcy4kPWZyKFdbdGVdKTticmVhaztjYXNlIDQ3OnRoaXMuJD12b2lkIDA7YnJlYWs7Y2FzZSA0ODpjYXNlIDkyOmNhc2UgMTE3OmNhc2UgMTY3OnRoaXMuJD1XW3RlLTFdO2JyZWFrO2Nhc2UgNDk6dGhpcy4kPXt0eXBlOiJ1cGRhdGUiLHVwZGF0ZXM6TnQoV1t0ZS0yXSxXW3RlLTFdKX07YnJlYWs7Y2FzZSA1MDp0aGlzLiQ9WmUoe3R5cGU6ImxvYWQiLHNpbGVudDohIVdbdGUtMl0sc291cmNlOldbdGUtMV19LFdbdGVdJiZ7ZGVzdGluYXRpb246V1t0ZV19KTticmVhaztjYXNlIDUxOnRoaXMuJD17dHlwZTpwdChXW3RlLTJdKSxzaWxlbnQ6ISFXW3RlLTFdLGdyYXBoOldbdGVdfTticmVhaztjYXNlIDUyOnRoaXMuJD17dHlwZTpwdChXW3RlLTRdKSxzaWxlbnQ6ISFXW3RlLTNdLHNvdXJjZTpXW3RlLTJdLGRlc3RpbmF0aW9uOldbdGVdfTticmVhaztjYXNlIDUzOnRoaXMuJD17dHlwZToiY3JlYXRlIixzaWxlbnQ6ISFXW3RlLTJdLGdyYXBoOnt0eXBlOiJncmFwaCIsbmFtZTpXW3RlXX19O2JyZWFrO2Nhc2UgNTQ6dGhpcy4kPXt1cGRhdGVUeXBlOiJpbnNlcnQiLGluc2VydDpGbihXW3RlXSl9O2JyZWFrO2Nhc2UgNTU6dGhpcy4kPXt1cGRhdGVUeXBlOiJkZWxldGUiLGRlbGV0ZTpHcihGbihXW3RlXSkpfTticmVhaztjYXNlIDU2OnRoaXMuJD17dXBkYXRlVHlwZToiZGVsZXRld2hlcmUiLGRlbGV0ZTpHcihXW3RlXSl9O2JyZWFrO2Nhc2UgNTc6dGhpcy4kPVplKHt1cGRhdGVUeXBlOiJpbnNlcnRkZWxldGUifSxXW3RlLTVdLHtpbnNlcnQ6V1t0ZS00XXx8W119LHtkZWxldGU6V1t0ZS0zXXx8W119LEx0KFdbdGUtMl0sInVzaW5nIikse3doZXJlOldbdGVdLnBhdHRlcm5zfSk7YnJlYWs7Y2FzZSA1ODp0aGlzLiQ9WmUoe3VwZGF0ZVR5cGU6Imluc2VydGRlbGV0ZSJ9LFdbdGUtNV0se2RlbGV0ZTpXW3RlLTRdfHxbXX0se2luc2VydDpXW3RlLTNdfHxbXX0sTHQoV1t0ZS0yXSwidXNpbmciKSx7d2hlcmU6V1t0ZV0ucGF0dGVybnN9KTticmVhaztjYXNlIDU5OnRoaXMuJD1HcihXW3RlXSk7YnJlYWs7Y2FzZSA2MDpjYXNlIDYzOmNhc2UgMTYwOmNhc2UgMTgxOnRoaXMuJD1XW3RlXTticmVhaztjYXNlIDYyOnRoaXMuJD17Z3JhcGg6V1t0ZV19O2JyZWFrO2Nhc2UgNjQ6dGhpcy4kPXt0eXBlOiJncmFwaCIsZGVmYXVsdDohMH07YnJlYWs7Y2FzZSA2NTpjYXNlIDY2OnRoaXMuJD17dHlwZToiZ3JhcGgiLG5hbWU6V1t0ZV19O2JyZWFrO2Nhc2UgNjc6dGhpcy4kPXt9LHRoaXMuJFtwdChXW3RlXSldPSEwO2JyZWFrO2Nhc2UgNjg6dGhpcy4kPVdbdGUtMl0/dnQoV1t0ZS0xXSxbV1t0ZS0yXV0pOnZ0KFdbdGUtMV0pO2JyZWFrO2Nhc2UgNjk6dmFyIFRyPVplKFdbdGUtM118fHt0cmlwbGVzOltdfSx7dHlwZToiZ3JhcGgiLG5hbWU6ZHQoV1t0ZS01XSl9KTt0aGlzLiQ9V1t0ZV0/W1RyLFdbdGVdXTpbVHJdO2JyZWFrO2Nhc2UgNzA6Y2FzZSA3NTp0aGlzLiQ9e3R5cGU6ImJncCIsdHJpcGxlczp2dChXW3RlLTJdLFtXW3RlLTFdXSl9O2JyZWFrO2Nhc2UgNzE6dGhpcy4kPXt0eXBlOiJncm91cCIscGF0dGVybnM6W1dbdGUtMV1dfTticmVhaztjYXNlIDcyOmZvcihjb25zdCB6ZSBvZiBXW3RlLTFdLmZpbHRlcihXZT0+V2UudHlwZT09PSJiaW5kIikpe2NvbnN0IFdlPVdbdGUtMV0uaW5kZXhPZih6ZSksR2U9bmV3IFNldDtmb3IoY29uc3Qgb3Qgb2YgV1t0ZS0xXS5zbGljZSgwLFdlKSkob3QudHlwZT09PSJncm91cCJ8fG90LnR5cGU9PT0iYmdwIikmJkRuKG90KS5mb3JFYWNoKHV0PT5HZS5hZGQodXQpKTtpZihHZS5oYXMoemUudmFyaWFibGUudmFsdWUpKXRocm93IEVycm9yKCJWYXJpYWJsZSB1c2VkIHRvIGJpbmQgaXMgYWxyZWFkeSBib3VuZCAoPyIremUudmFyaWFibGUudmFsdWUrIikiKX10aGlzLiQ9e3R5cGU6Imdyb3VwIixwYXR0ZXJuczpXW3RlLTFdfTticmVhaztjYXNlIDczOnRoaXMuJD1XW3RlLTFdP3Z0KFtXW3RlLTFdXSxXW3RlXSk6dnQoV1t0ZV0pO2JyZWFrO2Nhc2UgNzQ6dGhpcy4kPVdbdGVdP1tXW3RlLTJdLFdbdGVdXTpXW3RlLTJdO2JyZWFrO2Nhc2UgNzY6V1t0ZS0xXS5sZW5ndGg/dGhpcy4kPXt0eXBlOiJ1bmlvbiIscGF0dGVybnM6dnQoV1t0ZS0xXS5tYXAoTXIpLFtNcihXW3RlXSldKX06dGhpcy4kPVdbdGVdO2JyZWFrO2Nhc2UgNzc6dGhpcy4kPVplKFdbdGVdLHt0eXBlOiJvcHRpb25hbCJ9KTticmVhaztjYXNlIDc4OnRoaXMuJD1aZShXW3RlXSx7dHlwZToibWludXMifSk7YnJlYWs7Y2FzZSA3OTp0aGlzLiQ9WmUoV1t0ZV0se3R5cGU6ImdyYXBoIixuYW1lOmR0KFdbdGUtMV0pfSk7YnJlYWs7Y2FzZSA4MDp0aGlzLiQ9WmUoV1t0ZV0se3R5cGU6InNlcnZpY2UiLG5hbWU6ZHQoV1t0ZS0xXSksc2lsZW50OiEhV1t0ZS0yXX0pO2JyZWFrO2Nhc2UgODE6dGhpcy4kPXt0eXBlOiJmaWx0ZXIiLGV4cHJlc3Npb246V1t0ZV19O2JyZWFrO2Nhc2UgODI6dGhpcy4kPXt0eXBlOiJiaW5kIix2YXJpYWJsZTpkdChXW3RlLTFdKSxleHByZXNzaW9uOldbdGUtM119O2JyZWFrO2Nhc2UgODM6dGhpcy4kPWZyKHt0eXBlOiJiaW5kIix2YXJpYWJsZTpkdChXW3RlLTFdKSxleHByZXNzaW9uOldbdGUtM119KTticmVhaztjYXNlIDg4OnRoaXMuJD17dHlwZToiZnVuY3Rpb25DYWxsIixmdW5jdGlvbjpXW3RlLTFdLGFyZ3M6W119O2JyZWFrO2Nhc2UgODk6dGhpcy4kPXt0eXBlOiJmdW5jdGlvbkNhbGwiLGZ1bmN0aW9uOldbdGUtNV0sYXJnczpOdChXW3RlLTJdLFdbdGUtMV0pLGRpc3RpbmN0OiEhV1t0ZS0zXX07YnJlYWs7Y2FzZSA5MDpjYXNlIDEwODpjYXNlIDExOTpjYXNlIDIxMTpjYXNlIDIxOTpjYXNlIDIyMTpjYXNlIDIzMzpjYXNlIDIzNTpjYXNlIDI0NTpjYXNlIDI0OTpjYXNlIDI2OTpjYXNlIDI3MTpjYXNlIDI3NTpjYXNlIDI3OTpjYXNlIDMwMjpjYXNlIDMwODpjYXNlIDMxOTpjYXNlIDMyOTpjYXNlIDMzNTpjYXNlIDM0MTpjYXNlIDM0NTpjYXNlIDM1NTpjYXNlIDM1NzpjYXNlIDM2MTpjYXNlIDM2OTpjYXNlIDM3MzpjYXNlIDM3NTpjYXNlIDM4MzpjYXNlIDM4NTpjYXNlIDM4OTpjYXNlIDM5MTpjYXNlIDQwMDpjYXNlIDQzMjpjYXNlIDQzNDpjYXNlIDQ0NDpjYXNlIDQ0ODpjYXNlIDQ1MDpjYXNlIDQ1Mjp0aGlzLiQ9W107YnJlYWs7Y2FzZSA5MTp0aGlzLiQ9TnQoV1t0ZS0yXSxXW3RlLTFdKTticmVhaztjYXNlIDkzOnRoaXMuJD12dChXW3RlLTJdLFtXW3RlLTFdXSk7YnJlYWs7Y2FzZSA5NDpjYXNlIDEwNTp0aGlzLiQ9V1t0ZV0ubWFwKGZ1bmN0aW9uKHplKXtyZXR1cm4gWmUoR3QoV1t0ZS0xXSksemUpfSk7YnJlYWs7Y2FzZSA5NTp0aGlzLiQ9WXQoV1t0ZV0ubWFwKGZ1bmN0aW9uKHplKXtyZXR1cm4gWmUoR3QoV1t0ZS0xXS5lbnRpdHkpLHplKX0pLFdbdGUtMV0udHJpcGxlcyk7YnJlYWs7Y2FzZSA5Nzp0aGlzLiQ9dnQoW1dbdGUtMV1dLFdbdGVdKTticmVhaztjYXNlIDk4OnRoaXMuJD12dChXW3RlXSk7YnJlYWs7Y2FzZSA5OTp0aGlzLiQ9JHIoV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAxMDI6Y2FzZSAxMTU6Y2FzZSAxMjI6dGhpcy4kPUhlLmZhY3RvcnkubmFtZWROb2RlKGpuKTticmVhaztjYXNlIDEwMzpjYXNlIDEwNDp0aGlzLiQ9TnQoV1t0ZS0xXSxXW3RlXSk7YnJlYWs7Y2FzZSAxMDY6dGhpcy4kPVdbdGVdP1l0KFdbdGVdLm1hcChmdW5jdGlvbih6ZSl7cmV0dXJuIFplKEd0KFdbdGUtMV0uZW50aXR5KSx6ZSl9KSxXW3RlLTFdLnRyaXBsZXMpOldbdGUtMV0udHJpcGxlczticmVhaztjYXNlIDEwNzp0aGlzLiQ9JHIoZHQoV1t0ZS0zXSksTnQoV1t0ZS0yXSxXW3RlLTFdKSxXW3RlXSk7YnJlYWs7Y2FzZSAxMDk6dGhpcy4kPSRyKGR0KFdbdGUtMV0pLFdbdGVdKTticmVhaztjYXNlIDExMDp0aGlzLiQ9V1t0ZS0xXS5sZW5ndGg/UXQoInwiLE50KFdbdGUtMV0sV1t0ZV0pKTpXW3RlXTticmVhaztjYXNlIDExMTp0aGlzLiQ9V1t0ZS0xXS5sZW5ndGg/UXQoIi8iLE50KFdbdGUtMV0sV1t0ZV0pKTpXW3RlXTticmVhaztjYXNlIDExMjp0aGlzLiQ9V1t0ZV0/UXQoV1t0ZV0sW1dbdGUtMV1dKTpXW3RlLTFdO2JyZWFrO2Nhc2UgMTEzOnRoaXMuJD1XW3RlLTFdP1F0KFdbdGUtMV0sW1dbdGVdXSk6V1t0ZV07YnJlYWs7Y2FzZSAxMTY6Y2FzZSAxMjM6dGhpcy4kPVF0KFdbdGUtMV0sW1dbdGVdXSk7YnJlYWs7Y2FzZSAxMjA6dGhpcy4kPVF0KCJ8IixOdChXW3RlLTJdLFdbdGUtMV0pKTticmVhaztjYXNlIDEyNDp0aGlzLiQ9UXQoV1t0ZS0xXSxbSGUuZmFjdG9yeS5uYW1lZE5vZGUoam4pXSk7YnJlYWs7Y2FzZSAxMjU6Y2FzZSAxMjc6dGhpcy4kPXpuKFdbdGUtMV0pO2JyZWFrO2Nhc2UgMTI2OmNhc2UgMTI4OnRoaXMuJD1xbihXW3RlLTFdKTticmVhaztjYXNlIDEyOTp0aGlzLiQ9e2VudGl0eTpXW3RlXSx0cmlwbGVzOltdfTticmVhaztjYXNlIDEzMTp0aGlzLiQ9e2VudGl0eTpXW3RlXSx0cmlwbGVzOltdfTticmVhaztjYXNlIDEzMzpjYXNlIDEzNTp0aGlzLiQ9ZnIoSGUuZmFjdG9yeS5xdWFkKFdbdGUtNF0sV1t0ZS0zXSxXW3RlLTJdLGR0KFdbdGUtNl0pKSk7YnJlYWs7Y2FzZSAxMzQ6Y2FzZSAxMzY6dGhpcy4kPWZyKEhlLmZhY3RvcnkucXVhZChXW3RlLTNdLFdbdGUtMl0sV1t0ZS0xXSkpO2JyZWFrO2Nhc2UgMTQxOnRoaXMuJD1kcihXW3RlXS5yZXBsYWNlKC9eKF86KS8sIiIpKTticmVhaztjYXNlIDE0Mjp0aGlzLiQ9ZHIoKTticmVhaztjYXNlIDE0Mzp0aGlzLiQ9SGUuZmFjdG9yeS5uYW1lZE5vZGUoeG4pO2JyZWFrO2Nhc2UgMTQ0OmNhc2UgMTQ2OmNhc2UgMTUxOmNhc2UgMTU1OnRoaXMuJD1GcihXW3RlLTFdLFdbdGVdKTticmVhaztjYXNlIDE0NTp0aGlzLiQ9WyJ8fCIsV1t0ZV1dO2JyZWFrO2Nhc2UgMTQ3OnRoaXMuJD1bIiYmIixXW3RlXV07YnJlYWs7Y2FzZSAxNDk6dGhpcy4kPWZ0KFdbdGUtMV0sW1dbdGUtMl0sV1t0ZV1dKTticmVhaztjYXNlIDE1MDp0aGlzLiQ9ZnQoV1t0ZS0yXT8ibm90aW4iOiJpbiIsW1dbdGUtM10sV1t0ZV1dKTticmVhaztjYXNlIDE1MjpjYXNlIDE1Njp0aGlzLiQ9W1dbdGUtMV0sV1t0ZV1dO2JyZWFrO2Nhc2UgMTUzOnRoaXMuJD1bIisiLEZyKFdbdGUtMV0sV1t0ZV0pXTticmVhaztjYXNlIDE1NDp2YXIgQXI9d3QoV1t0ZS0xXS52YWx1ZS5yZXBsYWNlKCItIiwiIiksV1t0ZS0xXS5kYXRhdHlwZSk7dGhpcy4kPVsiLSIsRnIoQXIsV1t0ZV0pXTticmVhaztjYXNlIDE1Nzp0aGlzLiQ9ZnQoIlVQTFVTIixbV1t0ZV1dKTticmVhaztjYXNlIDE1ODp0aGlzLiQ9ZnQoV1t0ZS0xXSxbV1t0ZV1dKTticmVhaztjYXNlIDE1OTp0aGlzLiQ9ZnQoIlVNSU5VUyIsW1dbdGVdXSk7YnJlYWs7Y2FzZSAxNjk6dGhpcy4kPWZ0KHB0KFdbdGUtMV0pKTticmVhaztjYXNlIDE3MDp0aGlzLiQ9ZnQocHQoV1t0ZS0zXSksW1dbdGUtMV1dKTticmVhaztjYXNlIDE3MTp0aGlzLiQ9ZnQocHQoV1t0ZS01XSksW1dbdGUtM10sV1t0ZS0xXV0pO2JyZWFrO2Nhc2UgMTcyOnRoaXMuJD1mdChwdChXW3RlLTddKSxbV1t0ZS01XSxXW3RlLTNdLFdbdGUtMV1dKTticmVhaztjYXNlIDE3Mzp0aGlzLiQ9ZnQocHQoV1t0ZS0xXSksV1t0ZV0pO2JyZWFrO2Nhc2UgMTc0OnRoaXMuJD1mdCgiYm91bmQiLFtkdChXW3RlLTFdKV0pO2JyZWFrO2Nhc2UgMTc1OnRoaXMuJD1mdChXW3RlLTFdLFtdKTticmVhaztjYXNlIDE3Njp0aGlzLiQ9ZnQoV1t0ZS0zXSxbV1t0ZS0xXV0pO2JyZWFrO2Nhc2UgMTc3OnRoaXMuJD1mdChXW3RlLTJdPyJub3RleGlzdHMiOiJleGlzdHMiLFtNcihXW3RlXSldKTticmVhaztjYXNlIDE3ODpjYXNlIDE3OTp0aGlzLiQ9UHQoV1t0ZS0xXSx7dHlwZToiYWdncmVnYXRlIixhZ2dyZWdhdGlvbjpwdChXW3RlLTRdKSxkaXN0aW5jdDohIVdbdGUtMl19KTticmVhaztjYXNlIDE4MDp0aGlzLiQ9UHQoV1t0ZS0yXSx7dHlwZToiYWdncmVnYXRlIixhZ2dyZWdhdGlvbjpwdChXW3RlLTVdKSxkaXN0aW5jdDohIVdbdGUtM10sc2VwYXJhdG9yOnR5cGVvZiBXW3RlLTFdPT0ic3RyaW5nIj9XW3RlLTFdOiIgIn0pO2JyZWFrO2Nhc2UgMTgyOnRoaXMuJD13dChXW3RlXSk7YnJlYWs7Y2FzZSAxODM6dGhpcy4kPVZuKFdbdGUtMV0scHQoV1t0ZV0uc3Vic3RyKDEpKSk7YnJlYWs7Y2FzZSAxODQ6dGhpcy4kPXd0KFdbdGUtMl0sV1t0ZV0pO2JyZWFrO2Nhc2UgMTg1OmNhc2UgMTk4OnRoaXMuJD13dChXW3RlXSxJbik7YnJlYWs7Y2FzZSAxODY6Y2FzZSAxOTk6dGhpcy4kPXd0KFdbdGVdLFJuKTticmVhaztjYXNlIDE4NzpjYXNlIDIwMDp0aGlzLiQ9d3QocHQoV1t0ZV0pLE5uKTticmVhaztjYXNlIDE5MDp0aGlzLiQ9d3QoV1t0ZV0udG9Mb3dlckNhc2UoKSxVbik7YnJlYWs7Y2FzZSAxOTE6Y2FzZSAxOTI6dGhpcy4kPUJuKFdbdGVdLDEpO2JyZWFrO2Nhc2UgMTkzOmNhc2UgMTk0OnRoaXMuJD1CbihXW3RlXSwzKTticmVhaztjYXNlIDE5NTp0aGlzLiQ9d3QoV1t0ZV0uc3Vic3RyKDEpLEluKTticmVhaztjYXNlIDE5Njp0aGlzLiQ9d3QoV1t0ZV0uc3Vic3RyKDEpLFJuKTticmVhaztjYXNlIDE5Nzp0aGlzLiQ9d3QoV1t0ZV0uc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCksTm4pO2JyZWFrO2Nhc2UgMjAxOnRoaXMuJD1IZS5mYWN0b3J5Lm5hbWVkTm9kZShscihXW3RlXSkpO2JyZWFrO2Nhc2UgMjAyOnZhciBPcj1XW3RlXS5pbmRleE9mKCI6IiksZXQ9V1t0ZV0uc3Vic3RyKDAsT3IpLEV0PUhlLnByZWZpeGVzW2V0XTtpZighRXQpdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZWZpeDogIitldCk7dmFyIEh0PWxyKEV0K1dbdGVdLnN1YnN0cihPcisxKSk7dGhpcy4kPUhlLmZhY3RvcnkubmFtZWROb2RlKEh0KTticmVhaztjYXNlIDIwMzppZihXW3RlXT1XW3RlXS5zdWJzdHIoMCxXW3RlXS5sZW5ndGgtMSksIShXW3RlXWluIEhlLnByZWZpeGVzKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcHJlZml4OiAiK1dbdGVdKTt2YXIgSHQ9bHIoSGUucHJlZml4ZXNbV1t0ZV1dKTt0aGlzLiQ9SGUuZmFjdG9yeS5uYW1lZE5vZGUoSHQpO2JyZWFrO2Nhc2UgMjEyOmNhc2UgMjIwOmNhc2UgMjIyOmNhc2UgMjI0OmNhc2UgMjM0OmNhc2UgMjM2OmNhc2UgMjQyOmNhc2UgMjQ2OmNhc2UgMjUwOmNhc2UgMjY0OmNhc2UgMjY2OmNhc2UgMjY4OmNhc2UgMjcwOmNhc2UgMjcyOmNhc2UgMjc0OmNhc2UgMjc2OmNhc2UgMjc4OmNhc2UgMzAzOmNhc2UgMzA5OmNhc2UgMzIwOmNhc2UgMzM2OmNhc2UgMzcwOmNhc2UgMzg2OmNhc2UgNDA1OmNhc2UgNDA3OmNhc2UgNDMzOmNhc2UgNDM1OmNhc2UgNDQ1OmNhc2UgNDQ5OmNhc2UgNDUxOmNhc2UgNDUzOldbdGUtMV0ucHVzaChXW3RlXSk7YnJlYWs7Y2FzZSAyMjM6Y2FzZSAyNDE6Y2FzZSAyNjM6Y2FzZSAyNjU6Y2FzZSAyNjc6Y2FzZSAyNzM6Y2FzZSAyNzc6Y2FzZSA0MDQ6Y2FzZSA0MDY6dGhpcy4kPVtXW3RlXV07YnJlYWs7Y2FzZSAyODA6V1t0ZS0zXS5wdXNoKFdbdGUtMl0pO2JyZWFrO2Nhc2UgMzMwOmNhc2UgMzQyOmNhc2UgMzQ2OmNhc2UgMzU2OmNhc2UgMzU4OmNhc2UgMzYyOmNhc2UgMzc0OmNhc2UgMzc2OmNhc2UgMzg0OmNhc2UgMzkwOmNhc2UgMzkyOmNhc2UgNDAxOldbdGUtMl0ucHVzaChXW3RlLTFdKTticmVha319LHRhYmxlOlt0KGUsbix7MzoxLDQ6Miw3OjN9KSx7MTpbM119LHQobyxbMiwyNzldLHs1OjQsODo1LDMxMzo2LDIxMDo3LDk6OCwxMDM6OSwyMTE6MTAsMTc6MTEsNDA6MTIsNDk6MTMsNTQ6MTQsMTA0OjE1LDE4OjE2LDIyOjE3LDI1OjIxLDY6WzIsMjA0XSwxMzpkLDE2OmQsMzU6ZCwxOTU6ZCwyMTk6ZCwyMjQ6ZCwzMTI6ZCwyODpoLDQxOlsxLDE4XSw1MDpbMSwxOV0sNTU6WzEsMjBdfSksdChbNiwxMywxNiwyOCwzNSw0MSw1MCw1NSwxMDcsMTE3LDEyMCwxMjIsMTIzLDEzMiwxMzMsMTM4LDE5NSwyMTksMjI0LDMxMiwzMjIsMzIzLDMyNCwzMjUsMzI2XSxbMiwyXSx7MzE0OjIzLDExOjI0LDE0OjI1LDEyOlsxLDI2XSwxNTpbMSwyN119KSx7NjpbMSwyOF19LHs2OlsyLDIwNl19LHs2OlsyLDIwN119LHs2OlsyLDIwOF19LHs2OlsyLDIxN10sMTA6MjksODk6MzAsOTA6bH0sezY6WzIsMjA1XX0sdCh1LFsyLDM5MV0sezIxMjozMiwyMTM6MzN9KSx0KHAsWzIsMjEzXSksdChwLFsyLDIxNF0pLHQocCxbMiwyMTVdKSx0KHAsWzIsMjE2XSksezEwNTozNCwxMDc6WzEsMzVdLDExMDozNiwxMTM6MzcsMTE3OlsxLDM4XSwxMjA6WzEsMzldLDEyMjpbMSw0MF0sMTIzOlsxLDQxXSwxMjQ6NDIsMTI4OjQzLDEzMjpbMiwzMDRdLDEzMzpbMiwyOThdLDEzNzo0OSwxMzg6WzEsNTBdLDMyMjpbMSw0NF0sMzIzOlsxLDQ1XSwzMjQ6WzEsNDZdLDMyNTpbMSw0N10sMzI2OlsxLDQ4XX0sdChnLFsyLDIxOV0sezE5OjUxfSksdChnLFsyLDIyMV0sezIzOjUyfSksdCh2LFsyLDIzNV0sezQyOjUzLDQ0OjU0LDQ2OlsxLDU1XX0pLHsxMzpiLDE2Ol8sMjY6WzEsNThdLDM0Ok8sNTE6NTYsNjA6NjEsMzEyOlQsMzE4OjU5LDMxOTo1N30sdChnLFsyLDI0OV0sezU2OjY1fSksezI2OlsxLDY2XSwyNzo2NywzMzo2OCwzNDpTLDM1Ok59LHQoQixbMiwyMjddLHsyOTo3MSwzMTU6NzIsMzE2OlsxLDczXSwzMTc6WzEsNzRdfSksdChlLFsyLDIxMl0pLHQoZSxbMiwyMDldKSx0KGUsWzIsMjEwXSksezEzOlsxLDc1XX0sezE2OlsxLDc2XX0sezE6WzIsMV19LHs2OlsyLDNdfSx7NjpbMiwyMThdfSx7MzQ6WzEsNzhdLDM1OlsxLDgwXSw5MTo3Nyw5MzpbMSw3OV19LHQoWzYsMTMsMTYsMzQsMzUsMzgsODcsOTMsMjI2LDIzMSwyNDUsMjQ2LDI5OSwzMDAsMzAxLDMwMiwzMDMsMzA0LDMwNSwzMDYsMzA3LDMwOCwzMDksMzEwLDMxMSwzMTJdLFsyLDExMF0sezMzMDpbMSw4MV19KSx0KEwsWzIsMzk4XSx7MjE0OjgyLDIxODo4MywyMjQ6WzEsODRdfSksezY6WzIsMjgxXSwxMDY6ODUsMTkxOlsxLDg2XX0sdChDLFsyLDI4M10sezEwODo4NywzMjE6WzEsODhdfSksdChqLFsyLDI4OV0sezExMTo4OSwzMjE6WzEsOTBdfSksdChQLFsyLDI5NF0sezExNDo5MSwzMjE6WzEsOTJdfSksezExODo5MywxMTk6WzIsMjk2XSwzMjE6WzEsOTRdfSx7NDY6RiwxMjE6OTV9LHs0NjpGLDEyMTo5N30sezQ2OkYsMTIxOjk4fSx7MTI1Ojk5LDEzMzprfSx7MTI5OjEwMSwxMzI6Sn0sdChhZSxbMiwyODddKSx0KGFlLFsyLDI4OF0pLHQoWCxbMiwyOTFdKSx0KFgsWzIsMjkyXSksdChYLFsyLDI5M10pLHsxMzI6WzIsMzA1XSwxMzM6WzIsMjk5XX0sezEzOmIsMTY6Xyw2MDoxMDMsMzEyOlR9LHsyMDoxMDQsNDU6Ryw0NjpyZSw1NzoxMDUsNTg6TSw2MToxMDZ9LHsyMDoxMDksNDU6Ryw0NjpyZSw1NzoxMTAsNTg6TSw2MToxMDZ9LHQoZyxbMiwyMzNdLHs0MzoxMTF9KSx7NDU6WzEsMTEyXSw1NzoxMTMsNTg6TX0sdCgkLFsyLDM2MV0sezE3OToxMTQsMTgwOjExNSwxODE6MTE2LDQ4OlsyLDM1OV19KSx0KFUsWzIsMjQ1XSx7NTI6MTE3fSksdChVLFsyLDI0M10sezYwOjYxLDMxODoxMTgsMTM6YiwxNjpfLDM0Ok8sMzEyOlR9KSx0KFUsWzIsMjQ0XSksdChILFsyLDI0MV0pLHQoSCxbMiwyMzldKSx0KEgsWzIsMjQwXSksdChlZSxbMiwyMDFdKSx0KGVlLFsyLDIwMl0pLHQoZWUsWzIsMjAzXSksezIwOjExOSw0NTpHLDQ2OnJlLDU3OjEyMCw1ODpNLDYxOjEwNn0sdChnLFsyLDhdKSx0KGcsWzIsOV0sezMzOjEyMSwzNDpTLDM1Ok59KSx0KGdlLFsyLDIyM10pLHQoZ2UsWzIsMTNdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjEyMiwzOToxMjMsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjMxOnhlLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChCLFsyLDEwXSksdChCLFsyLDIyOF0pLHQoQixbMiwyMjVdKSx0KEIsWzIsMjI2XSksdChlLFsyLDRdKSx7MTM6WzEsMTc2XX0sdChrZSxbMiw0MF0pLHs0NjpbMSwxNzddfSx7NDY6WzEsMTc4XX0sezM0OlsxLDE4MF0sOTU6MTc5fSx0KHUsWzIsMzkwXSksdChbNiwxMywxNiwzNCwzNSwzOCw4Nyw5MywyMjYsMjMxLDI0NSwyNDYsMjk5LDMwMCwzMDEsMzAyLDMwMywzMDQsMzA1LDMwNiwzMDcsMzA4LDMwOSwzMTAsMzExLDMxMiwzMzBdLFsyLDExMV0sezMzMTpbMSwxODFdfSksezEzOmIsMTY6XywzNTpbMSwxODddLDYwOjE4NCwxOTU6WzEsMTg1XSwyMTU6MTgyLDIxNjoxODMsMjE5OlsxLDE4Nl0sMzEyOlR9LHQoTCxbMiwzOTldKSx7NjpbMiw0OV19LHQoZSxuLHs3OjMsNDoxODh9KSx7MTM6YiwxNjpfLDYwOjE4OSwzMTI6VH0sdChDLFsyLDI4NF0pLHsxMTI6MTkwLDExOTpbMSwxOTFdLDE0MTpbMSwxOTNdLDE0MzoxOTIsMzIwOlsxLDE5NF0sMzI3OlsxLDE5NV19LHQoaixbMiwyOTBdKSx0KEMsQmUsezExNToxOTYsMTQyOjE5OCwxMTk6RGUsMTQxOkxlfSksdChQLFsyLDI5NV0pLHsxMTk6WzEsMjAwXX0sezExOTpbMiwyOTddfSx0KEtlLFsyLDU0XSksdCgkLEplLHsxNDQ6MjAxLDE1MToyMDIsMTUyOjIwMyw0ODp6dCwxMTk6enR9KSx0KEtlLFsyLDU1XSksdChLZSxbMiw1Nl0pLHQoeXQsWzIsMzAwXSx7MTI2OjIwNCwxMjk6MjA1LDEzMjpKfSksezQ2OkYsMTIxOjIwNn0sdCh5dCxbMiwzMDZdLHsxMzA6MjA3LDEyNToyMDgsMTMzOmt9KSx7NDY6RiwxMjE6MjA5fSx0KFsxMzIsMTMzXSxbMiw2Ml0pLHQoeWUsRWUsezIxOjIxMCw2NDoyMTEsNzQ6MjEyLDc1OnFlfSksdChnLFsyLDIyMF0pLHs0NjpYZSw2MjoyMTR9LHQoQyxbMiwyNTFdLHs1OToyMTYsMzIwOlsxLDIxN119KSx7NDY6WzIsMjU0XX0sdChZZSxxdCx7MjQ6MjE4LDYzOjIxOSw2NzoyMjAsNjg6WHR9KSx0KGcsWzIsMjIyXSksezIwOjIyMiw0NTpHLDQ2OnJlLDU3OjIyMyw1ODpNLDYxOjEwNn0sezQ2OlsxLDIyNF19LHQodixbMiwyMzZdKSx7NDg6WzEsMjI1XX0sezQ4OlsyLDM2MF19LHsxMzpiLDE2Ol8sMzQ6aHQsMzU6bnIsMzk6MjMwLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMTUzOjIyNiwxODM6MjI3LDE4NToyMjgsMjI2OmlyLDIzMTp4ZSwyNDM6MjI5LDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQocXIsWzIsMjQ3XSx7NjE6MTA2LDUzOjI0MCw1NzoyNDEsMjA6MjQyLDQ1OkcsNDY6cmUsNTg6TX0pLHQoSCxbMiwyNDJdKSx0KFllLHF0LHs2MzoyMTksNjc6MjIwLDI0OjI0Myw2ODpYdH0pLHQoZyxbMiwyNTBdKSx0KGdlLFsyLDIyNF0pLHszNzpbMSwyNDRdfSx7Mzc6WzEsMjQ1XX0sdChocixbMiw0MzJdLHsyNDg6MjQ2fSksezEzOmIsMTY6XywzNDpodCwzOToyNDksNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwxMTk6WzEsMjQ3XSwyMzE6eGUsMjM2OjI0OCwyNDM6MjUwLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoS3QsWzIsNDM0XSx7MjUyOjI1MX0pLHQoS3QsWzIsMTQ4XSx7MjU2OjI1MiwyNTc6MjUzLDI1ODpbMiw0NDJdLDI5NTpbMSwyNTRdLDMzNDpbMSwyNTVdLDMzNTpbMSwyNTZdLDMzNjpbMSwyNTddLDMzNzpbMSwyNThdLDMzODpbMSwyNTldLDMzOTpbMSwyNjBdfSksdChXdCxbMiw0NDRdLHsyNjA6MjYxfSksdChhdCxbMiw0NTJdLHsyNjg6MjYyfSksezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDI2MzoxNTQsMjY1OjE1NSwyNzI6MjYzLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDI2MzoxNTQsMjY1OjE1NSwyNzI6MjY0LDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDI2MzoxNTQsMjY1OjE1NSwyNzI6MjY1LDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChhdCxbMiwxNjBdKSx0KGF0LFsyLDE2MV0pLHQoYXQsWzIsMTYyXSksdChhdCxbMiwxNjNdLHszNTpYciw5MzpLcn0pLHQoYXQsWzIsMTY0XSksdChhdCxbMiwxNjVdKSx0KGF0LFsyLDE2Nl0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6MjY4LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChzdCxbMiwxNjhdKSx7OTM6WzEsMjY5XX0sezM1OlsxLDI3MF19LHszNTpbMSwyNzFdfSx7MzU6WzEsMjcyXX0sezM1OldyLDkzOkpyLDE3NzoyNzN9LHszNTpbMSwyNzZdfSx7MzU6WzEsMjc4XSw5MzpbMSwyNzddfSx7Mjg0OlsxLDI3OV19LHQoY3QsWzIsMTgyXSx7Mjk3OlsxLDI4MF0sMjk4OlsxLDI4MV19KSx0KGN0LFsyLDE4NV0pLHQoY3QsWzIsMTg2XSksdChjdCxbMiwxODddKSx0KGN0LFsyLDE4OF0pLHQoY3QsWzIsMTg5XSksdChjdCxbMiwxOTBdKSx7MzU6WzEsMjgyXX0sezM1OlsxLDI4M119LHszNTpbMSwyODRdfSx0KGFyLFsyLDQ1Nl0pLHQoYXIsWzIsNDU3XSksdChhcixbMiw0NThdKSx0KGFyLFsyLDQ1OV0pLHQoYXIsWzIsNDYwXSksezI4NDpbMiw0NjJdfSx0KHByLFsyLDE5MV0pLHQocHIsWzIsMTkyXSksdChwcixbMiwxOTNdKSx0KHByLFsyLDE5NF0pLHQoY3QsWzIsMTk1XSksdChjdCxbMiwxOTZdKSx0KGN0LFsyLDE5N10pLHQoY3QsWzIsMTk4XSksdChjdCxbMiwxOTldKSx0KGN0LFsyLDIwMF0pLHQoZSxbMiw1XSksdChZcixbMiwyNjldLHs5MjoyODV9KSx0KFpyLFsyLDI3MV0sezk0OjI4Nn0pLHszNDpbMSwyODhdLDM4OlsxLDI4N119LHQoZW4sWzIsMjczXSksdCh1LFsyLDM5Ml0pLHQoQnQsWzIsMTEzXSksdChCdCxbMiwzOTZdLHsyMTc6Mjg5LDMzMjoyOTAsMjY6WzEsMjkyXSwyNzE6WzEsMjkzXSwzMzM6WzEsMjkxXX0pLHQoYnQsWzIsMTE0XSksdChidCxbMiwxMTVdKSx7MTM6YiwxNjpfLDM1OlsxLDI5N10sNjA6Mjk4LDkzOlsxLDI5Nl0sMTk1OnRuLDIyMDoyOTQsMjIxOjI5NSwyMjQ6cm4sMzEyOlR9LHQodSxkLHsyMTE6MTAsMjEwOjMwMX0pLHQobyxbMiwyODBdLHs2OlsyLDI4Ml19KSx0KEtlLFsyLDI4NV0sezEwOTozMDIsMTM5OjMwMywxNDA6WzEsMzA0XX0pLHQoS2UsWzIsNTFdKSx7MTM6YiwxNjpfLDYwOjMwNSwzMTI6VH0sdChLZSxbMiw2N10pLHQoS2UsWzIsMzE0XSksdChLZSxbMiwzMTVdKSx0KEtlLFsyLDMxNl0pLHsxMTY6WzEsMzA2XX0sdChubixbMiw2NF0pLHsxMzpiLDE2Ol8sNjA6MzA3LDMxMjpUfSx0KEMsWzIsMzEzXSksezEzOmIsMTY6Xyw2MDozMDgsMzEyOlR9LHQoRHQsWzIsMzE5XSx7MTQ1OjMwOX0pLHQoRHQsWzIsMzE4XSksezEzOmIsMTY6XywzNDpodCwzNTpuciwzOToyMzAsNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwxNTM6MzEwLDE4MzoyMjcsMTg1OjIyOCwyMjY6aXIsMjMxOnhlLDI0MzoyMjksMjQ0OjIzNCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdCh5dCxbMiwzMDJdLHsxMjc6MzExfSksdCh5dCxbMiwzMDFdKSx0KFs0NSwxMzIsMTM1XSxbMiw2MF0pLHQoeXQsWzIsMzA4XSx7MTMxOjMxMn0pLHQoeXQsWzIsMzA3XSksdChbNDUsMTMzLDEzNV0sWzIsNTldKSx0KHAsWzIsNl0pLHQoSXIsWzIsMjU5XSx7NjU6MzEzLDc3OjMxNCw3ODpbMSwzMTVdfSksdCh5ZSxbMiwyNThdKSx7MTM6YiwxNjpfLDM1OmZlLDYwOjMyMSw3MjozMTksNzM6MzIwLDc2OjMxNiw4MjozMTgsODQ6MzE3LDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChbNiw0OCw2OCw3NSw3OCw4Niw4OCw5MF0sWzIsMjFdKSx0KCQsYW4sezI1OjIxLDMwOjMyMiwxNTU6MzIzLDE4OjMyNCwyMjozMjUsMTU2OjMyNiwxNjI6MzI3LDE2MzozMjgsMjg6aCw0NjpUdCw0ODpUdCw5MDpUdCwxMTk6VHQsMTY3OlR0LDE2ODpUdCwxNzA6VHQsMTczOlR0LDE3NDpUdH0pLHsxMzpiLDE2Ol8sNjA6MzI5LDMxMjpUfSx0KEMsWzIsMjUyXSksdChwLFsyLDddKSx0KHllLEVlLHs2NDoyMTEsNzQ6MjEyLDIxOjMzMCw3NTpxZX0pLHQoWWUsWzIsMjU2XSksezY5OlsxLDMzMV19LHQoWWUscXQsezYzOjIxOSw2NzoyMjAsMjQ6MzMyLDY4Olh0fSksdChnLFsyLDIzNF0pLHQoJCxKZSx7MTUyOjIwMyw0NzozMzMsMTUxOjMzNCw0ODpbMiwyMzddfSksdChnLFsyLDkyXSksezQ4OlsyLDM2M10sMTgyOjMzNSwzMjg6WzEsMzM2XX0sezEzOmIsMTY6XywzNDp4dCw2MDozNDEsMTg0OjMzNywxODg6MzM4LDE5MzozMzksMTk1Okl0LDMxMjpUfSx0KHNyLFsyLDM2N10sezE4ODozMzgsMTkzOjMzOSw2MDozNDEsMTg2OjM0MywxODc6MzQ0LDE4NDozNDUsMTM6YiwxNjpfLDM0Onh0LDE5NTpJdCwzMTI6VH0pLHQoX3QsWzIsMzY1XSksdChfdCxbMiwzNjZdKSx7MTM6YiwxNjpfLDM0Omh0LDM1Om5yLDM5OjM1MSw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDE4NTozNDksMTk3OjM0NywyMjU6MzQ2LDIyNjppciwyMjk6MzQ4LDIzMTp4ZSwyNDM6MzUwLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHsxMzpiLDE2Ol8sMzQ6eHQsNjA6MzQxLDE4NDozNTIsMTg4OjMzOCwxOTM6MzM5LDE5NTpJdCwzMTI6VH0sdChGdCxbMiwxMzddKSx0KEZ0LFsyLDEzOF0pLHQoRnQsWzIsMTM5XSksdChGdCxbMiwxNDBdKSx0KEZ0LFsyLDE0MV0pLHQoRnQsWzIsMTQyXSksdChGdCxbMiwxNDNdKSx0KFllLHF0LHs2MzoyMTksNjc6MjIwLDI0OjM1Myw2ODpYdH0pLHQoVSxbMiwyNDZdKSx0KHFyLFsyLDI0OF0pLHQocCxbMiwxOV0pLHszNDpbMSwzNTRdfSx7MzQ6WzEsMzU1XX0sdChbMzcsMzgsMTkxLDI3OF0sWzIsMTQ0XSx7MjQ5OjM1NiwyNTA6WzEsMzU3XX0pLHsxMzpiLDE2Ol8sMzQ6WzEsMzU5XSw2MDozNjAsMjMyOjM1OCwzMTI6VH0sezEzOmIsMTY6XywzNDp4dCw2MDozNDEsMTkzOjM2MSwxOTU6SXQsMzEyOlR9LHQoX3QsWzIsNDE4XSksdChfdCxbMiw0MTldKSx0KGhyLFsyLDE0Nl0sezI1MzozNjIsMjU0OlsxLDM2M119KSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI1NTozNjQsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7MjU4OlsxLDM2NV19LHQodHQsWzIsNDM2XSksdCh0dCxbMiw0MzddKSx0KHR0LFsyLDQzOF0pLHQodHQsWzIsNDM5XSksdCh0dCxbMiw0NDBdKSx0KHR0LFsyLDQ0MV0pLHsyNTg6WzIsNDQzXX0sdChbMzcsMzgsMTkxLDI1MCwyNTQsMjU4LDI3OCwyOTUsMzM0LDMzNSwzMzYsMzM3LDMzOCwzMzldLFsyLDE1MV0sezI2MTozNjYsMjYyOjM2NywyNjM6MzY4LDI2NTozNjksMjcxOlsxLDM3MF0sMjczOlsxLDM3MV0sMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3fSksdChXdCxbMiwxNTVdLHsyNjk6MzcyLDI3MDozNzMsMjY6UnIsMzMxOk5yfSksdChhdCxbMiwxNTddKSx0KGF0LFsyLDE1OF0pLHQoYXQsWzIsMTU5XSksdChzdCxbMiw4OF0pLHQodHQsWzIsMzUzXSx7MTc1OjM3NiwzMTY6WzEsMzc3XX0pLHszODpbMSwzNzhdfSx0KHN0LFsyLDE2OV0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6Mzc5LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjozODAsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjM4MSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpSZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoc3QsWzIsMTczXSksdChzdCxbMiw5MF0pLHQodHQsWzIsMzU3XSx7MTc4OjM4Mn0pLHszNDpbMSwzODNdfSx0KHN0LFsyLDE3NV0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6Mzg0LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sezQ2OlhlLDYyOjM4NX0sdChjdCxbMiwxODNdKSx7MTM6YiwxNjpfLDYwOjM4NiwzMTI6VH0sdChzbixbMiw0NjNdLHsyODY6Mzg3LDMxNjpbMSwzODhdfSksdCh0dCxbMiw0NjddLHsyODk6Mzg5LDMxNjpbMSwzOTBdfSksdCh0dCxbMiw0NjldLHsyOTE6MzkxLDMxNjpbMSwzOTJdfSksezEzOmIsMTY6Xyw0ODpbMSwzOTNdLDYwOjM5NSw4NzpoZSw5NzozOTQsOTg6Mzk2LDk5OjM5NywxMDA6UHIsMjMxOk10LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sezQ4OlsxLDQwMF0sOTM6WzEsNDAxXX0sezQ2OlsxLDQwMl19LHQoZW4sWzIsMjc0XSksdChCdCxbMiwxMTJdKSx0KEJ0LFsyLDM5N10pLHQoQnQsWzIsMzkzXSksdChCdCxbMiwzOTRdKSx0KEJ0LFsyLDM5NV0pLHQoYnQsWzIsMTE2XSksdChidCxbMiwxMThdKSx0KGJ0LFsyLDExOV0pLHQob24sWzIsNDAwXSx7MjIyOjQwM30pLHQoYnQsWzIsMTIxXSksdChidCxbMiwxMjJdKSx7MTM6YiwxNjpfLDYwOjQwNCwxOTU6WzEsNDA1XSwzMTI6VH0sezM4OlsxLDQwNl19LHQoS2UsWzIsNTBdKSx0KEtlLFsyLDI4Nl0pLHsxMTk6WzEsNDA3XX0sdChLZSxbMiw2Nl0pLHQoQyxCZSx7MTQyOjE5OCwxMTU6NDA4LDExOTpEZSwxNDE6TGV9KSx0KG5uLFsyLDY1XSksdChLZSxbMiw1M10pLHs0ODpbMSw0MDldLDExOTpbMSw0MTFdLDE0Njo0MTB9LHQoRHQsWzIsMzMxXSx7MTU0OjQxMiwzMjg6WzEsNDEzXX0pLHs0NTpbMSw0MTRdLDEzNDo0MTUsMTM1OnVufSx7NDU6WzEsNDE3XSwxMzQ6NDE4LDEzNTp1bn0sdChSdCxbMiwyNjFdLHs2Njo0MTksODU6NDIwLDg2OlsxLDQyMV0sODg6WzEsNDIyXX0pLHQoSXIsWzIsMjYwXSksezY5OlsxLDQyM119LHQoeWUsWzIsMzBdLHsyNzQ6MTQxLDI4MDoxNDYsMjgzOjE0OSw4MjozMTgsNzI6MzE5LDczOjMyMCw2MDozMjEsODQ6NDI0LDEzOmIsMTY6XywzNTpmZSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgxOlVlLDI4MjpGZSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9KSx0KGNuLFsyLDI2NV0pLHQoTHIsWzIsODVdKSx0KExyLFsyLDg2XSksdChMcixbMiw4N10pLHszNTpYciw5MzpLcn0sezQ4OlsxLDQyNV19LHs0ODpbMSw0MjZdfSx7MjA6NDI3LDQ1OkcsNDY6cmUsNjE6MTA2fSx7MjA6NDI4LDQ1OkcsNDY6cmUsNjE6MTA2fSx0KGt0LFsyLDMzNV0sezE1Nzo0Mjl9KSx0KGt0LFsyLDMzNF0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzU6b3IsMzk6NDM0LDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMTY0OjQzMCwyMDE6NDMxLDIwMzo0MzIsMjI2OnVyLDIzMTp4ZSwyNDM6NDMzLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoVSxbMiwyMF0pLHQoUnQsWzIsMjJdKSx7MTM6YiwxNjpfLDM0OmxuLDM1OmRuLDYwOjMyMSw3MDo0MzcsNzE6NDM4LDcyOjQzOSw3Mzo0NDAsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KHAsWzIsMTZdKSx7NDg6WzEsNDQzXX0sezQ4OlsyLDIzOF19LHs0ODpbMiw5M119LHQoJCxbMiwzNjJdLHs0ODpbMiwzNjRdfSksdChzcixbMiw5NF0pLHQoJHQsWzIsMzY5XSx7MTg5OjQ0NH0pLHQoJCxbMiwzNzNdLHsxOTQ6NDQ1LDE5Njo0NDZ9KSx0KCQsWzIsMTAwXSksdCgkLFsyLDEwMV0pLHQoJCxbMiwxMDJdKSx0KHNyLFsyLDk1XSksdChzcixbMiw5Nl0pLHQoc3IsWzIsMzY4XSksezEzOmIsMTY6XywzNDpodCwzNTpuciwzODpbMSw0NDddLDM5OjM1MSw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDE4NTozNDksMTk3OjQ0OCwyMjY6aXIsMjI5OjM0OCwyMzE6eGUsMjQzOjM1MCwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KG1yLFsyLDQwNF0pLHQoeXIsWzIsMTI5XSksdCh5cixbMiwxMzBdKSx0KHlyLFsyLDQwOF0pLHQoeXIsWzIsNDA5XSksezIyNzpbMSw0NDldfSx0KHAsWzIsMThdKSx7Mzg6WzEsNDUwXX0sezM4OlsxLDQ1MV19LHQoaHIsWzIsNDMzXSksezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6NDUyLDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpSZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHs0NjpbMSw0NTNdfSx7NDY6WzIsNDEyXX0sezQ2OlsyLDQxM119LHsxMzpiLDE2Ol8sMzQ6aHQsMzk6NDU1LDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMjMxOnhlLDIzNzo0NTQsMjQzOjQ1NiwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KEt0LFsyLDQzNV0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjUxOjQ1NywyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChLdCxbMiwxNDldKSx7MzU6V3IsOTM6SnIsMTc3OjQ1OH0sdChXdCxbMiw0NDVdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI1OTo0NTksMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChhdCxbMiw0NDhdLHsyNjQ6NDYwfSksdChhdCxbMiw0NTBdLHsyNjY6NDYxfSksdCh0dCxbMiw0NDZdKSx0KHR0LFsyLDQ0N10pLHQoYXQsWzIsNDUzXSksezEzOmIsMTY6XywzNDptZSwzNTpmZSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNjM6MTU0LDI2NToxNTUsMjY3OjQ2MiwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KHR0LFsyLDQ1NF0pLHQodHQsWzIsNDU1XSksdCh0dCxbMiwzNTVdLHsxNzY6NDYzfSksdCh0dCxbMiwzNTRdKSx0KFs2LDEzLDE2LDI2LDM0LDM1LDM3LDM4LDQ2LDQ4LDc4LDgxLDgzLDg2LDg3LDg4LDkwLDkzLDExOSwxNjcsMTY4LDE3MCwxNzMsMTc0LDE5MSwyMjYsMjMxLDI0NSwyNDYsMjUwLDI1NCwyNTgsMjcxLDI3MywyNzUsMjc2LDI3NywyNzgsMjc5LDI4MSwyODIsMjg0LDI4NSwyODgsMjkwLDI5NSwyOTksMzAwLDMwMSwzMDIsMzAzLDMwNCwzMDUsMzA2LDMwNywzMDgsMzA5LDMxMCwzMTEsMzEyLDMyOCwzMzEsMzM0LDMzNSwzMzYsMzM3LDMzOCwzMzksMzQwLDM0MSwzNDIsMzQzLDM0NF0sWzIsMTY3XSksezM4OlsxLDQ2NF19LHsyNzg6WzEsNDY1XX0sezI3ODpbMSw0NjZdfSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjQ2Nyw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpSZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHszODpbMSw0NjhdfSx7Mzg6WzEsNDY5XX0sdChzdCxbMiwxNzddKSx0KGN0LFsyLDE4NF0pLHsxMzpiLDE2Ol8sMjY6WzEsNDcxXSwzNDptZSwzNTpmZSwzNjo0NzIsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4Nzo0NzAsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoc24sWzIsNDY0XSksezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo0NzMsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KHR0LFsyLDQ2OF0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6NDc0LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdCh0dCxbMiw0NzBdKSx0KGtlLFsyLDQxXSksdChZcixbMiwyNzBdKSx0KGdyLFsyLDQ0XSksdChncixbMiw0NV0pLHQoZ3IsWzIsNDZdKSx0KGdyLFsyLDQ3XSksezEzOmIsMTY6Xyw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDk5OjQ3NywxMTk6WzEsNDc1XSwyMzE6TXQsMjQxOjQ3NiwyNDQ6NDc4LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KGtlLFsyLDQyXSksdChacixbMiwyNzJdKSx0KENyLFsyLDI3NV0sezk2OjQ3OX0pLHsxMzpiLDE2Ol8sMzg6WzIsNDAyXSw2MDoyOTgsMTk1OnRuLDIyMTo0ODEsMjIzOjQ4MCwyMjQ6cm4sMzEyOlR9LHQoYnQsWzIsMTIzXSksdChidCxbMiwxMjRdKSx0KGJ0LFsyLDExN10pLHsxMzpiLDE2Ol8sNjA6NDgyLDMxMjpUfSx0KEtlLFsyLDUyXSksdChbNiw0NSwxMzIsMTMzLDEzNSwxOTFdLFsyLDY4XSksdChEdCxbMiwzMjBdKSx7MTM6YiwxNjpfLDM0OlsxLDQ4NF0sNjA6NDg1LDE0Nzo0ODMsMzEyOlR9LHQoRHQsWzIsNzBdKSx0KCQsWzIsMzMwXSx7NDg6Zm4sMTE5OmZufSksezQ2OlhlLDYyOjQ4Nn0sdCh5dCxbMiwzMDNdKSx0KEMsWzIsMzEwXSx7MTM2OjQ4NywzMjA6WzEsNDg4XX0pLHs0NjpYZSw2Mjo0ODl9LHQoeXQsWzIsMzA5XSksdChSdCxbMiwyM10pLHQoUnQsWzIsMjYyXSksezg3OlsxLDQ5MF19LHs4NzpbMSw0OTFdfSx7MTM6YiwxNjpfLDM0OmhuLDM1OmZlLDYwOjMyMSw3MjozMTksNzM6MzIwLDc5OjQ5Miw4MDo0OTMsODE6cG4sODI6MzE4LDgzOm1uLDg0OjQ5NiwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoY24sWzIsMjY2XSksdCh5bixbMiw3MV0pLHQoeW4sWzIsNzJdKSx0KHllLEVlLHs2NDoyMTEsNzQ6MjEyLDIxOjQ5OCw3NTpxZX0pLHQoWWUscXQsezYzOjIxOSw2NzoyMjAsMjQ6NDk5LDY4Olh0fSksezQ2OlsyLDM0NV0sNDg6WzIsNzNdLDg5OjUwOSw5MDpsLDExOTpbMSw1MDVdLDE1ODo1MDAsMTU5OjUwMSwxNjY6NTAyLDE2NzpbMSw1MDNdLDE2ODpbMSw1MDRdLDE3MDpbMSw1MDZdLDE3MzpbMSw1MDddLDE3NDpbMSw1MDhdfSx0KGt0LFsyLDM0M10sezE2NTo1MTAsMzI4OlsxLDUxMV19KSx0KHUsZCx7MjExOjEwLDIwMjo1MTIsMjA1OjUxMywyMTA6NTE0LDM0OkJyfSksdChicixbMiwzNzldLHsyMTE6MTAsMjA1OjUxMywyMTA6NTE0LDIwNDo1MTYsMjAyOjUxNywxMzpkLDE2OmQsMzU6ZCwxOTU6ZCwyMTk6ZCwyMjQ6ZCwzMTI6ZCwzNDpCcn0pLHQoZ24sWzIsMzc3XSksdChnbixbMiwzNzhdKSx7MTM6YiwxNjpfLDM0Omh0LDM1Om9yLDM5OjUyMyw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDIwMDo1MTksMjAzOjUyMSwyMjY6dXIsMjI4OjUxOCwyMzA6NTIwLDIzMTp4ZSwyNDM6NTIyLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQodSxkLHsyMTE6MTAsMjA1OjUxMywyMTA6NTE0LDIwMjo1MjQsMzQ6QnJ9KSx0KFllLFsyLDI0XSx7Mjc0OjE0MSwyODA6MTQ2LDI4MzoxNDksNjA6MzIxLDcyOjQzOSw3Mzo0NDAsNzE6NTI1LDEzOmIsMTY6XywzNDpsbiwzNTpkbiwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgxOlVlLDI4MjpGZSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9KSx0KFV0LFsyLDI2M10pLHQoVXQsWzIsMjVdKSx0KFV0LFsyLDI2XSksezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo1MjYsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx0KFV0LFsyLDI5XSksdChZZSxxdCx7NjM6MjE5LDY3OjIyMCwyNDo1MjcsNjg6WHR9KSx0KFs0OCwxMTksMjI3LDMyOF0sWzIsOTddLHsxOTA6NTI4LDE5MTpbMSw1MjldfSksdCgkdCxbMiw5OV0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzU6bnIsMzk6MzUxLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMTg1OjM0OSwxOTc6NTMwLDIyNjppciwyMjk6MzQ4LDIzMTp4ZSwyNDM6MzUwLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoYm4sWzIsMTI1XSksdChtcixbMiw0MDVdKSx0KGJuLFsyLDEyNl0pLHQoZ2UsWzIsMTRdKSx0KGdlLFsyLDE1XSksdChocixbMiwxNDVdKSx7MTM6YiwxNjpfLDM0Omh0LDM5OjUzMiw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDIzMTp4ZSwyMzM6NTMxLDI0Mzo1MzMsMjQ0OjIzNCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sezIzNTpbMSw1MzRdfSx7MjM1OlsyLDQyMF19LHsyMzU6WzIsNDIxXX0sdChLdCxbMiwxNDddKSx0KEt0LFsyLDE1MF0pLHQoV3QsWzIsMTUyXSksdChXdCxbMiwxNTNdLHsyNzA6MzczLDI2OTo1MzUsMjY6UnIsMzMxOk5yfSksdChXdCxbMiwxNTRdLHsyNzA6MzczLDI2OTo1MzYsMjY6UnIsMzMxOk5yfSksdChhdCxbMiwxNTZdKSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjUzNyw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpSZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHQoc3QsWzIsMTcwXSksezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo1MzgsNjA6MTM2LDcyOjEzNSw3MzoxMzcsODI6MTM0LDg3OmhlLDk4OjEzOCwyMTk6X2UsMjQ3OjEyNCwyNTE6MTI2LDI1NToxMjcsMjU5OjEyOCwyNjM6MTU0LDI2NToxNTUsMjY3OjEyOSwyNzE6UmUsMjcyOjEzMywyNzM6SWUsMjc0OjE0MSwyNzU6TmUsMjc2OnZlLDI3NzpDZSwyNzk6TWUsMjgwOjE0NiwyODE6VWUsMjgyOkZlLDI4MzoxNDksMjg0OiRlLDI4NTpxLDI4ODpvZSwyOTA6USwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VCwzMzk6RSwzNDA6RCwzNDE6ViwzNDI6WiwzNDM6Y2UsMzQ0OlNlfSx7MTM6YiwxNjpfLDM0Om1lLDM1OmZlLDM2OjUzOSw2MDoxMzYsNzI6MTM1LDczOjEzNyw4MjoxMzQsODc6aGUsOTg6MTM4LDIxOTpfZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpSZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHszODpbMSw1NDBdLDI3ODpbMSw1NDFdfSx0KHN0LFsyLDE3NF0pLHQoc3QsWzIsMTc2XSksezM4OlsxLDU0Ml19LHszODpbMiw0NjVdfSx7Mzg6WzIsNDY2XX0sezM4OlsxLDU0M119LHszODpbMiw0NzFdLDE5MTpbMSw1NDZdLDI5Mjo1NDQsMjkzOjU0NX0sezEzOmIsMTY6XywzNDpbMSw1NDhdLDYwOjU0OSwyMzg6NTQ3LDMxMjpUfSx7MTM6YiwxNjpfLDM0Onh0LDYwOjM0MSwxOTM6NTUwLDE5NTpJdCwzMTI6VH0sdChfdCxbMiw0MjhdKSx0KF90LFsyLDQyOV0pLHszNTpbMSw1NTNdLDQ4OlsxLDU1MV0sMTAxOjU1Mn0sezM4OlsxLDU1NF19LHszODpbMiw0MDNdLDMzMDpbMSw1NTVdfSx0KEtlLFsyLDYzXSksezQ2OlsxLDU1Nl19LHs0NjpbMiwzMjFdfSx7NDY6WzIsMzIyXX0sdChLZSxbMiw1N10pLHsxMzpiLDE2Ol8sNjA6NTU3LDMxMjpUfSx0KEMsWzIsMzExXSksdChLZSxbMiw1OF0pLHQoUnQsWzIsMzZdLHs4ODpbMSw1NThdfSksdChSdCxbMiwzN10sezg2OlsxLDU1OV19KSx0KElyLFsyLDMxXSx7Mjc0OjE0MSwyODA6MTQ2LDI4MzoxNDksODI6MzE4LDcyOjMxOSw3MzozMjAsNjA6MzIxLDg0OjQ5Niw4MDo1NjAsMTM6YiwxNjpfLDM0OmhuLDM1OmZlLDgxOnBuLDgzOm1uLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODE6VWUsMjgyOkZlLDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0pLHQoSnQsWzIsMjY3XSksezM1OmZlLDgyOjU2MX0sezM1OmZlLDgyOjU2Mn0sdChKdCxbMiwzNF0pLHQoSnQsWzIsMzVdKSx7MzE6NTYzLDQ4OlsyLDIyOV0sODk6NTY0LDkwOmx9LHszMjo1NjUsNDg6WzIsMjMxXSw4OTo1NjYsOTA6bH0sdChrdCxbMiwzMzZdKSx0KF9uLFsyLDMzN10sezE2MDo1NjcsMzI4OlsxLDU2OF19KSx7NDY6WGUsNjI6NTY5fSx7NDY6WGUsNjI6NTcwfSx7NDY6WGUsNjI6NTcxfSx7MTM6YiwxNjpfLDM0OlsxLDU3M10sNjA6NTc0LDE2OTo1NzIsMzEyOlR9LHQodm4sWzIsMzQ5XSx7MTcxOjU3NSwzMjE6WzEsNTc2XX0pLHsxMzpiLDE2Ol8sMzU6ZmUsNjA6MzIxLDcyOjMxOSw3MzozMjAsODI6MzE4LDg0OjU3NywyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHszNTpbMSw1NzhdfSx0KEF0LFsyLDg0XSksdChrdCxbMiw3NV0pLHQoJCxbMiwzNDJdLHs0NjpPdCw0ODpPdCw5MDpPdCwxMTk6T3QsMTY3Ok90LDE2ODpPdCwxNzA6T3QsMTczOk90LDE3NDpPdH0pLHQoYnIsWzIsMTA1XSksdCgkLFsyLDM4M10sezIwNjo1Nzl9KSx0KCQsWzIsMzgxXSksdCgkLFsyLDM4Ml0pLHQoYnIsWzIsMTA2XSksdChicixbMiwzODBdKSx7MTM6YiwxNjpfLDM0Omh0LDM1Om9yLDM4OlsxLDU4MF0sMzk6NTIzLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMjAwOjU4MSwyMDM6NTIxLDIyNjp1ciwyMzA6NTIwLDIzMTp4ZSwyNDM6NTIyLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQobXIsWzIsNDA2XSksdChfcixbMiwxMzFdKSx0KF9yLFsyLDEzMl0pLHQoX3IsWzIsNDEwXSksdChfcixbMiw0MTFdKSx7MjI3OlsxLDU4Ml19LHQoVXQsWzIsMjY0XSksezM3OlsxLDU4NF0sMzg6WzEsNTgzXX0sdChwLFsyLDE3XSksdCgkdCxbMiwzNzBdKSx0KCR0LFsyLDM3MV0sezE5MzozMzksNjA6MzQxLDE5Mjo1ODUsMTg4OjU4NiwxMzpiLDE2Ol8sMzQ6eHQsMTk1Okl0LDMxMjpUfSksdCgkdCxbMiwxMDNdLHsyNzg6WzEsNTg3XX0pLHsxMzpiLDE2Ol8sMzQ6eHQsNjA6MzQxLDE5Mzo1ODgsMTk1Okl0LDMxMjpUfSx0KF90LFsyLDQxNF0pLHQoX3QsWzIsNDE1XSksdCh3bixbMiwxMzRdKSx0KGF0LFsyLDQ0OV0pLHQoYXQsWzIsNDUxXSksezM4OlsxLDU4OV0sMjc4OlsxLDU5MF19LHszODpbMSw1OTFdfSx7Mjc4OlsxLDU5Ml19LHQoc3QsWzIsOTFdKSx0KHR0LFsyLDM1OF0pLHQoc3QsWzIsMTc4XSksdChzdCxbMiwxNzldKSx7Mzg6WzEsNTkzXX0sezM4OlsyLDQ3Ml19LHsyOTQ6WzEsNTk0XX0sezQ2OlsxLDU5NV19LHs0NjpbMiw0MjJdfSx7NDY6WzIsNDIzXX0sezEzOmIsMTY6Xyw2MDoyMzUsODc6aGUsOTM6cnQsOTg6MjM2LDk5OjU5NywyMzE6TXQsMjQyOjU5NiwyNDQ6NTk4LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KGtlLFsyLDQzXSksdChDcixbMiwyNzZdKSx7MTM6YiwxNjpfLDYwOjM5NSw4NzpoZSw5Nzo2MDAsOTg6Mzk2LDk5OjM5NywxMDA6UHIsMTAyOjU5OSwyMzE6TXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KGJ0LFsyLDEyMF0pLHQob24sWzIsNDAxXSksdCgkLEplLHsxNTI6MjAzLDE0ODo2MDEsMTUxOjYwMiw0ODpbMiwzMjNdfSksdCh5dCxbMiw2MV0pLHs4NzpbMSw2MDNdfSx7ODc6WzEsNjA0XX0sdChKdCxbMiwyNjhdKSx0KEp0LFsyLDMyXSksdChKdCxbMiwzM10pLHs0ODpbMiwxMV19LHs0ODpbMiwyMzBdfSx7NDg6WzIsMTJdfSx7NDg6WzIsMjMyXX0sdCgkLGFuLHsxNjM6MzI4LDE2MTo2MDUsMTYyOjYwNiw0NjpTdCw0ODpTdCw5MDpTdCwxMTk6U3QsMTY3OlN0LDE2ODpTdCwxNzA6U3QsMTczOlN0LDE3NDpTdH0pLHQoX24sWzIsMzM4XSksdChBdCxbMiw3Nl0sezMyOTpbMSw2MDddfSksdChBdCxbMiw3N10pLHQoQXQsWzIsNzhdKSx7NDY6WGUsNjI6NjA4fSx7NDY6WzIsMzQ3XX0sezQ2OlsyLDM0OF19LHsxMzpiLDE2Ol8sMzQ6WzEsNjEwXSw2MDo2MTEsMTcyOjYwOSwzMTI6VH0sdCh2bixbMiwzNTBdKSx0KEF0LFsyLDgxXSksezEzOmIsMTY6XywzNDptZSwzNTpmZSwzNjo2MTIsMzk6NjEzLDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDIzMTp4ZSwyNDc6MTI0LDI1MToxMjYsMjU1OjEyNywyNTk6MTI4LDI2MzoxNTQsMjY1OjE1NSwyNjc6MTI5LDI3MTpSZSwyNzI6MTMzLDI3MzpJZSwyNzQ6MTQxLDI3NTpOZSwyNzY6dmUsMjc3OkNlLDI3OTpNZSwyODA6MTQ2LDI4MTpVZSwyODI6RmUsMjgzOjE0OSwyODQ6JGUsMjg1OnEsMjg4Om9lLDI5MDpRLDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpULDMzOTpFLDM0MDpELDM0MTpWLDM0MjpaLDM0MzpjZSwzNDQ6U2V9LHsxMzpiLDE2Ol8sMzQ6aHQsMzU6b3IsMzk6NTIzLDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMjAwOjYxNCwyMDM6NTIxLDIyNjp1ciwyMzA6NTIwLDIzMTp4ZSwyNDM6NTIyLDI0NDoyMzQsMjQ1Om50LDI0NjppdCwyNjM6MTU0LDI2NToxNTUsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlR9LHQoRW4sWzIsMTI3XSksdChtcixbMiw0MDddKSx0KEVuLFsyLDEyOF0pLHQoVXQsWzIsMjddKSx7MzQ6WzEsNjE1XX0sdCgkdCxbMiw5OF0pLHQoJHQsWzIsMzcyXSksdCgkLFsyLDM3NF0pLHsxMzpiLDE2Ol8sMzQ6aHQsMzk6NjE3LDYwOjIzNSw4NzpoZSw5MzpydCw5ODoyMzYsMjMxOnhlLDIzNDo2MTYsMjQzOjYxOCwyNDQ6MjM0LDI0NTpudCwyNDY6aXQsMjYzOjE1NCwyNjU6MTU1LDI5NjoxNTAsMjk5OlksMzAwOmllLDMwMTpzZSwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGUsMzA2OnBlLDMwNzpiZSwzMDg6d2UsMzA5Ok9lLDMxMDpJLDMxMTp3LDMxMjpUfSx0KHN0LFsyLDg5XSksdCh0dCxbMiwzNTZdKSx0KHN0LFsyLDE3MV0pLHsxMzpiLDE2Ol8sMzQ6bWUsMzU6ZmUsMzY6NjE5LDYwOjEzNiw3MjoxMzUsNzM6MTM3LDgyOjEzNCw4NzpoZSw5ODoxMzgsMjE5Ol9lLDI0NzoxMjQsMjUxOjEyNiwyNTU6MTI3LDI1OToxMjgsMjYzOjE1NCwyNjU6MTU1LDI2NzoxMjksMjcxOlJlLDI3MjoxMzMsMjczOkllLDI3NDoxNDEsMjc1Ok5lLDI3Njp2ZSwyNzc6Q2UsMjc5Ok1lLDI4MDoxNDYsMjgxOlVlLDI4MjpGZSwyODM6MTQ5LDI4NDokZSwyODU6cSwyODg6b2UsMjkwOlEsMjk2OjE1MCwyOTk6WSwzMDA6aWUsMzAxOnNlLDMwMjpsZSwzMDM6bmUsMzA0OnVlLDMwNTpkZSwzMDY6cGUsMzA3OmJlLDMwODp3ZSwzMDk6T2UsMzEwOkksMzExOncsMzEyOlQsMzM5OkUsMzQwOkQsMzQxOlYsMzQyOlosMzQzOmNlLDM0NDpTZX0sdChzdCxbMiwxODBdKSx7Mjk1OlsxLDYyMF19LHsxMzpiLDE2Ol8sNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiw5OTo2MjIsMjMxOk10LDIzOTo2MjEsMjQ0OjYyMywyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sezIzNTpbMSw2MjRdfSx7MjM1OlsyLDQzMF19LHsyMzU6WzIsNDMxXX0sezEzOmIsMTY6XywzODpbMSw2MjVdLDYwOjM5NSw4NzpoZSw5Nzo2MjYsOTg6Mzk2LDk5OjM5NywxMDA6UHIsMjMxOk10LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChUbixbMiwyNzddKSx7NDg6WzEsNjI3XX0sezQ4OlsyLDMyNF19LHQoUnQsWzIsMzhdKSx0KFJ0LFsyLDM5XSksdChrdCxbMiw3NF0pLHQoa3QsWzIsMzQwXSksezQ2OlsyLDM0Nl19LHQoQXQsWzIsNzldKSx7NDY6WGUsNjI6NjI4fSx7NDY6WzIsMzUxXX0sezQ2OlsyLDM1Ml19LHszNzpbMSw2MjldfSx7Mzc6WzEsNjMwXX0sdChjcixbMiwzODVdLHsyMDc6NjMxLDI3ODpbMSw2MzJdfSksezM4OlsxLDYzM119LHs0ODpbMSw2MzRdfSx7NDg6WzIsNDE2XX0sezQ4OlsyLDQxN119LHszODpbMSw2MzVdfSx7Mjk2OjYzNiwzMDI6bGUsMzAzOm5lLDMwNDp1ZSwzMDU6ZGV9LHsxMzpiLDE2Ol8sMzQ6eHQsNjA6MzQxLDE5Mzo2MzcsMTk1Okl0LDMxMjpUfSx0KF90LFsyLDQyNF0pLHQoX3QsWzIsNDI1XSksdChBbixbMiwxMzZdKSx0KENyLFsyLDQ4XSksdChUbixbMiwyNzhdKSx0KE9uLFsyLDMyNV0sezE0OTo2MzgsMzI4OlsxLDYzOV19KSx0KEF0LFsyLDgwXSksezM0OlsxLDY0MF19LHszNDpbMSw2NDFdfSx0KFs0Niw0OCw5MCwxMTksMTY3LDE2OCwxNzAsMTczLDE3NCwyMjcsMzI4XSxbMiwxMDddLHsyMDg6NjQyLDE5MTpbMSw2NDNdfSksdCgkLFsyLDM4NF0pLHQoVXQsWzIsMjhdKSx7MjM1OlsxLDY0NF19LHQoc3QsWzIsMTcyXSksezM4OlsyLDE4MV19LHsxMzpiLDE2Ol8sNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiw5OTo2NDYsMjMxOk10LDI0MDo2NDUsMjQ0OjY0NywyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdCgkLEplLHsxNTI6MjAzLDE1MDo2NDgsMTUxOjY0OSw0ODpTbiwxMTk6U259KSx0KE9uLFsyLDMyNl0pLHszODpbMSw2NTBdfSx7Mzg6WzEsNjUxXX0sdChjcixbMiwzODZdKSx0KGNyLFsyLDEwOF0sezIxMToxMCwyMDk6NjUyLDIxMDo2NTMsMTM6ZCwxNjpkLDM1OmQsMTk1OmQsMjE5OmQsMjI0OmQsMzEyOmQsMzQ6WzEsNjU0XX0pLHQod24sWzIsMTMzXSksezQ4OlsxLDY1NV19LHs0ODpbMiw0MjZdfSx7NDg6WzIsNDI3XX0sdChEdCxbMiw2OV0pLHQoRHQsWzIsMzI4XSksdChBdCxbMiw4Ml0pLHQoQXQsWzIsODNdKSx0KCQsWzIsMzc1XSx7MTk4OjY1NiwxOTk6NjU3fSksdCgkLFsyLDM4N10pLHQoJCxbMiwzODhdKSx7MjM1OlsxLDY1OF19LHQoY3IsWzIsMTA5XSksezEzOmIsMTY6XywzNDpodCwzNTpvciwzOTo1MjMsNjA6MjM1LDg3OmhlLDkzOnJ0LDk4OjIzNiwyMDA6NjU5LDIwMzo1MjEsMjI2OnVyLDIzMDo1MjAsMjMxOnhlLDI0Mzo1MjIsMjQ0OjIzNCwyNDU6bnQsMjQ2Oml0LDI2MzoxNTQsMjY1OjE1NSwyOTY6MTUwLDI5OTpZLDMwMDppZSwzMDE6c2UsMzAyOmxlLDMwMzpuZSwzMDQ6dWUsMzA1OmRlLDMwNjpwZSwzMDc6YmUsMzA4OndlLDMwOTpPZSwzMTA6SSwzMTE6dywzMTI6VH0sdChBbixbMiwxMzVdKSx0KGNyLFsyLDEwNF0sezI3ODpbMSw2NjBdfSksdCgkLFsyLDM3Nl0pXSxkZWZhdWx0QWN0aW9uczp7NTpbMiwyMDZdLDY6WzIsMjA3XSw3OlsyLDIwOF0sOTpbMiwyMDVdLDI4OlsyLDFdLDI5OlsyLDNdLDMwOlsyLDIxOF0sODU6WzIsNDldLDk0OlsyLDI5N10sMTA4OlsyLDI1NF0sMTE1OlsyLDM2MF0sMTY1OlsyLDQ2Ml0sMjYwOlsyLDQ0M10sMzM0OlsyLDIzOF0sMzM1OlsyLDkzXSwzNTk6WzIsNDEyXSwzNjA6WzIsNDEzXSw0NTU6WzIsNDIwXSw0NTY6WzIsNDIxXSw0NzE6WzIsNDY1XSw0NzI6WzIsNDY2XSw0ODQ6WzIsMzIxXSw0ODU6WzIsMzIyXSw1NDU6WzIsNDcyXSw1NDg6WzIsNDIyXSw1NDk6WzIsNDIzXSw1NjM6WzIsMTFdLDU2NDpbMiwyMzBdLDU2NTpbMiwxMl0sNTY2OlsyLDIzMl0sNTczOlsyLDM0N10sNTc0OlsyLDM0OF0sNTk3OlsyLDQzMF0sNTk4OlsyLDQzMV0sNjAyOlsyLDMyNF0sNjA3OlsyLDM0Nl0sNjEwOlsyLDM1MV0sNjExOlsyLDM1Ml0sNjE3OlsyLDQxNl0sNjE4OlsyLDQxN10sNjM2OlsyLDE4MV0sNjQ2OlsyLDQyNl0sNjQ3OlsyLDQyN119LHBhcnNlRXJyb3I6ZnVuY3Rpb24oVGUsamUpe2lmKGplLnJlY292ZXJhYmxlKXRoaXMudHJhY2UoVGUpO2Vsc2V7dmFyIFBlPW5ldyBFcnJvcihUZSk7dGhyb3cgUGUuaGFzaD1qZSxQZX19LHBhcnNlOmZ1bmN0aW9uKFRlKXt2YXIgamU9dGhpcyxQZT1bMF0sVmU9W251bGxdLFFlPVtdLFc9dGhpcy50YWJsZSxtdD0iIix0ZT0wLEN0PTAsVHI9MixBcj0xLE9yPVFlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGV0PU9iamVjdC5jcmVhdGUodGhpcy5sZXhlciksRXQ9e3l5Ont9fTtmb3IodmFyIEh0IGluIHRoaXMueXkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMueXksSHQpJiYoRXQueXlbSHRdPXRoaXMueXlbSHRdKTtldC5zZXRJbnB1dChUZSxFdC55eSksRXQueXkubGV4ZXI9ZXQsRXQueXkucGFyc2VyPXRoaXMsdHlwZW9mIGV0Lnl5bGxvYz4idSImJihldC55eWxsb2M9e30pO3ZhciB0cj1ldC55eWxsb2M7UWUucHVzaCh0cik7dmFyIEhyPWV0Lm9wdGlvbnMmJmV0Lm9wdGlvbnMucmFuZ2VzO3R5cGVvZiBFdC55eS5wYXJzZUVycm9yPT0iZnVuY3Rpb24iP3RoaXMucGFyc2VFcnJvcj1FdC55eS5wYXJzZUVycm9yOnRoaXMucGFyc2VFcnJvcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykucGFyc2VFcnJvcjtmb3IodmFyIFNyPWZ1bmN0aW9uKCl7dmFyIHJyO3JldHVybiBycj1ldC5sZXgoKXx8QXIsdHlwZW9mIHJyIT0ibnVtYmVyIiYmKHJyPWplLnN5bWJvbHNfW3JyXXx8cnIpLHJyfSx6ZSxXZSxHZSxvdCx1dD17fSxqcixqdCxNbix4cjs7KXtpZihXZT1QZVtQZS5sZW5ndGgtMV0sdGhpcy5kZWZhdWx0QWN0aW9uc1tXZV0/R2U9dGhpcy5kZWZhdWx0QWN0aW9uc1tXZV06KCh6ZT09PW51bGx8fHR5cGVvZiB6ZT4idSIpJiYoemU9U3IoKSksR2U9V1tXZV0mJldbV2VdW3plXSksdHlwZW9mIEdlPiJ1Inx8IUdlLmxlbmd0aHx8IUdlWzBdKXt2YXIgenI9IiI7eHI9W107Zm9yKGpyIGluIFdbV2VdKXRoaXMudGVybWluYWxzX1tqcl0mJmpyPlRyJiZ4ci5wdXNoKCInIit0aGlzLnRlcm1pbmFsc19banJdKyInIik7ZXQuc2hvd1Bvc2l0aW9uP3pyPSJQYXJzZSBlcnJvciBvbiBsaW5lICIrKHRlKzEpK2A6CmArZXQuc2hvd1Bvc2l0aW9uKCkrYApFeHBlY3RpbmcgYCt4ci5qb2luKCIsICIpKyIsIGdvdCAnIisodGhpcy50ZXJtaW5hbHNfW3plXXx8emUpKyInIjp6cj0iUGFyc2UgZXJyb3Igb24gbGluZSAiKyh0ZSsxKSsiOiBVbmV4cGVjdGVkICIrKHplPT1Bcj8iZW5kIG9mIGlucHV0IjoiJyIrKHRoaXMudGVybWluYWxzX1t6ZV18fHplKSsiJyIpLHRoaXMucGFyc2VFcnJvcih6cix7dGV4dDpldC5tYXRjaCx0b2tlbjp0aGlzLnRlcm1pbmFsc19bemVdfHx6ZSxsaW5lOmV0Lnl5bGluZW5vLGxvYzp0cixleHBlY3RlZDp4cn0pfWlmKEdlWzBdaW5zdGFuY2VvZiBBcnJheSYmR2UubGVuZ3RoPjEpdGhyb3cgbmV3IEVycm9yKCJQYXJzZSBFcnJvcjogbXVsdGlwbGUgYWN0aW9ucyBwb3NzaWJsZSBhdCBzdGF0ZTogIitXZSsiLCB0b2tlbjogIit6ZSk7c3dpdGNoKEdlWzBdKXtjYXNlIDE6UGUucHVzaCh6ZSksVmUucHVzaChldC55eXRleHQpLFFlLnB1c2goZXQueXlsbG9jKSxQZS5wdXNoKEdlWzFdKSx6ZT1udWxsLEN0PWV0Lnl5bGVuZyxtdD1ldC55eXRleHQsdGU9ZXQueXlsaW5lbm8sdHI9ZXQueXlsbG9jO2JyZWFrO2Nhc2UgMjppZihqdD10aGlzLnByb2R1Y3Rpb25zX1tHZVsxXV1bMV0sdXQuJD1WZVtWZS5sZW5ndGgtanRdLHV0Ll8kPXtmaXJzdF9saW5lOlFlW1FlLmxlbmd0aC0oanR8fDEpXS5maXJzdF9saW5lLGxhc3RfbGluZTpRZVtRZS5sZW5ndGgtMV0ubGFzdF9saW5lLGZpcnN0X2NvbHVtbjpRZVtRZS5sZW5ndGgtKGp0fHwxKV0uZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOlFlW1FlLmxlbmd0aC0xXS5sYXN0X2NvbHVtbn0sSHImJih1dC5fJC5yYW5nZT1bUWVbUWUubGVuZ3RoLShqdHx8MSldLnJhbmdlWzBdLFFlW1FlLmxlbmd0aC0xXS5yYW5nZVsxXV0pLG90PXRoaXMucGVyZm9ybUFjdGlvbi5hcHBseSh1dCxbbXQsQ3QsdGUsRXQueXksR2VbMV0sVmUsUWVdLmNvbmNhdChPcikpLHR5cGVvZiBvdDwidSIpcmV0dXJuIG90O2p0JiYoUGU9UGUuc2xpY2UoMCwtMSpqdCoyKSxWZT1WZS5zbGljZSgwLC0xKmp0KSxRZT1RZS5zbGljZSgwLC0xKmp0KSksUGUucHVzaCh0aGlzLnByb2R1Y3Rpb25zX1tHZVsxXV1bMF0pLFZlLnB1c2godXQuJCksUWUucHVzaCh1dC5fJCksTW49V1tQZVtQZS5sZW5ndGgtMl1dW1BlW1BlLmxlbmd0aC0xXV0sUGUucHVzaChNbik7YnJlYWs7Y2FzZSAzOnJldHVybiEwfX1yZXR1cm4hMH19LHZyPVdpbGRjYXJkJDIuV2lsZGNhcmQsd3I9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiLGpuPXdyKyJ0eXBlIixrbj13cisiZmlyc3QiLCRuPXdyKyJyZXN0Iix4bj13cisibmlsIixFcj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjIixJbj1FcisiaW50ZWdlciIsUm49RXIrImRlY2ltYWwiLE5uPUVyKyJkb3VibGUiLFVuPUVyKyJib29sZWFuIixWdD0iIixQbj0iIixMbj0iIjtmdW5jdGlvbiBwdChBZSl7cmV0dXJuIEFlLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gTnQoQWUsVGUpe3JldHVybiBBZS5wdXNoKFRlKSxBZX1mdW5jdGlvbiBZdChBZSxUZSl7cmV0dXJuIEFlLnB1c2guYXBwbHkoQWUsVGUpLEFlfWZ1bmN0aW9uIFplKEFlKXtBZXx8KEFlPXt9KTtmb3IodmFyIFRlPTEsamU9YXJndW1lbnRzLmxlbmd0aCxQZTtUZTxqZSYmKFBlPWFyZ3VtZW50c1tUZV18fHt9KTtUZSsrKWZvcih2YXIgVmUgaW4gUGUpQWVbVmVdPVBlW1ZlXTtyZXR1cm4gQWV9ZnVuY3Rpb24gdnQoKXtmb3IodmFyIEFlPVtdLFRlPTAsamU9YXJndW1lbnRzLmxlbmd0aDtUZTxqZTtUZSsrKUFlPUFlLmNvbmNhdC5hcHBseShBZSxhcmd1bWVudHNbVGVdKTtyZXR1cm4gQWV9ZnVuY3Rpb24gbHIoQWUpe2lmKEFlWzBdPT09IjwiJiYoQWU9QWUuc3Vic3RyaW5nKDEsQWUubGVuZ3RoLTEpKSwvXlthLXpdKzovaS50ZXN0KEFlKSlyZXR1cm4gQWU7aWYoIUhlLmJhc2UpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVzb2x2ZSByZWxhdGl2ZSBJUkkgIitBZSsiIGJlY2F1c2Ugbm8gYmFzZSBJUkkgd2FzIHNldC4iKTtzd2l0Y2goVnQhPT1IZS5iYXNlJiYoVnQ9SGUuYmFzZSxQbj1WdC5yZXBsYWNlKC9bXlwvOl0qJC8sIiIpLExuPVZ0Lm1hdGNoKC9eKD86W2Etel0rOlwvKik/W15cL10qLylbMF0pLEFlWzBdKXtjYXNlIHZvaWQgMDpyZXR1cm4gVnQ7Y2FzZSIjIjpyZXR1cm4gVnQrQWU7Y2FzZSI/IjpyZXR1cm4gVnQucmVwbGFjZSgvKD86XD8uKik/JC8sQWUpO2Nhc2UiLyI6cmV0dXJuIExuK0FlO2RlZmF1bHQ6cmV0dXJuIFBuK0FlfX1mdW5jdGlvbiBkdChBZSl7aWYoQWUpe3ZhciBUZT1BZVswXTtpZihUZT09PSI/Inx8VGU9PT0iJCIpcmV0dXJuIEhlLmZhY3RvcnkudmFyaWFibGUoQWUuc3Vic3RyKDEpKX1yZXR1cm4gQWV9ZnVuY3Rpb24gZnQoQWUsVGUpe3JldHVybnt0eXBlOiJvcGVyYXRpb24iLG9wZXJhdG9yOkFlLGFyZ3M6VGV8fFtdfX1mdW5jdGlvbiBQdChBZSxUZSl7dmFyIGplPXtleHByZXNzaW9uOkFlPT09IioiP25ldyB2cjpBZX07aWYoVGUpZm9yKHZhciBQZSBpbiBUZSlqZVtQZV09VGVbUGVdO3JldHVybiBqZX1mdW5jdGlvbiBRdChBZSxUZSl7cmV0dXJue3R5cGU6InBhdGgiLHBhdGhUeXBlOkFlLGl0ZW1zOlRlfX1mdW5jdGlvbiBGcihBZSxUZSl7Zm9yKHZhciBqZT0wLFBlPVRlLmxlbmd0aCxWZTtqZTxQZSYmKFZlPVRlW2plXSk7amUrKylBZT1mdChWZVswXSxbQWUsVmVbMV1dKTtyZXR1cm4gQWV9ZnVuY3Rpb24gTHQoQWUsVGUpe3ZhciBqZT1bXSxQZT1bXSxWZT1BZS5sZW5ndGgsUWUsVz17fTtpZighVmUpcmV0dXJuIG51bGw7Zm9yKHZhciBtdD0wO210PFZlJiYoUWU9QWVbbXRdKTttdCsrKShRZS5uYW1lZD9QZTpqZSkucHVzaChRZS5pcmkpO3JldHVybiBXW1RlfHwiZnJvbSJdPXtkZWZhdWx0OmplLG5hbWVkOlBlfSxXfWZ1bmN0aW9uIFp0KEFlKXtyZXR1cm4gcGFyc2VJbnQoQWUsMTApfWZ1bmN0aW9uIE1yKEFlKXtyZXR1cm4gQWUudHlwZT09PSJncm91cCImJkFlLnBhdHRlcm5zLmxlbmd0aD09PTE/QWUucGF0dGVybnNbMF06QWV9ZnVuY3Rpb24gd3QoQWUsVGUpe3JldHVybiBUZSYmVGUudGVybVR5cGUhPT0iTmFtZWROb2RlIiYmKFRlPUhlLmZhY3RvcnkubmFtZWROb2RlKFRlKSksSGUuZmFjdG9yeS5saXRlcmFsKEFlLFRlKX1mdW5jdGlvbiBWbihBZSxUZSl7cmV0dXJuIEhlLmZhY3RvcnkubGl0ZXJhbChBZSxUZSl9ZnVuY3Rpb24gR3QoQWUsVGUsamUpe3ZhciBQZT17fTtyZXR1cm4gQWUhPW51bGwmJihQZS5zdWJqZWN0PUFlKSxUZSE9bnVsbCYmKFBlLnByZWRpY2F0ZT1UZSksamUhPW51bGwmJihQZS5vYmplY3Q9amUpLFBlfWZ1bmN0aW9uIGRyKEFlKXtyZXR1cm4gdHlwZW9mIEFlPT0ic3RyaW5nIj9BZS5zdGFydHNXaXRoKCJlXyIpP0hlLmZhY3RvcnkuYmxhbmtOb2RlKEFlKTpIZS5mYWN0b3J5LmJsYW5rTm9kZSgiZV8iK0FlKTpIZS5mYWN0b3J5LmJsYW5rTm9kZSgiZ18iK0NuKyspfXZhciBDbj0wO0hlLl9yZXNldEJsYW5rcz1mdW5jdGlvbigpe0NuPTB9O3ZhciBRbj0vXFx1KFthLWZBLUYwLTldezR9KXxcXFUoW2EtZkEtRjAtOV17OH0pfFxcKC4pL2csR249eyJcXCI6IlxcIiwiJyI6IiciLCciJzonIicsdDoiCSIsYjoiXGIiLG46YApgLHI6IlxyIixmOiJcZiJ9LEhuPS9bXHVEODAwLVx1REJGRl0oW15cdURDMDAtXHVERkZGXXwkKS8sa3I9U3RyaW5nLmZyb21DaGFyQ29kZTtmdW5jdGlvbiBCbihBZSxUZSl7QWU9QWUuc3Vic3RyaW5nKFRlLEFlLmxlbmd0aC1UZSk7dHJ5e0FlPUFlLnJlcGxhY2UoUW4sZnVuY3Rpb24oamUsUGUsVmUsUWUpe3ZhciBXO2lmKFBlKXtpZihXPXBhcnNlSW50KFBlLDE2KSxpc05hTihXKSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGtyKFcpfWVsc2UgaWYoVmUpe2lmKFc9cGFyc2VJbnQoVmUsMTYpLGlzTmFOKFcpKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gVzw2NTUzNT9rcihXKTprcig1NTI5NisoKFctPTY1NTM2KT4+MTApLDU2MzIwKyhXJjEwMjMpKX1lbHNle3ZhciBtdD1HbltRZV07aWYoIW10KXRocm93IG5ldyBFcnJvcjtyZXR1cm4gbXR9fSl9Y2F0Y2h7cmV0dXJuIiJ9aWYoSG4uZXhlYyhBZSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHVuaWNvZGUgY29kZXBvaW50IG9mIHN1cnJvZ2F0ZSBwYWlyIHdpdGhvdXQgY29ycmVzcG9uZGluZyBjb2RlcG9pbnQgaW4gIitBZSk7cmV0dXJuIEFlfWZ1bmN0aW9uIHpuKEFlKXt2YXIgVGU9ZHIoKSxqZT1UZSxQZT1bXSxWZSxRZT1bXTtBZS5mb3JFYWNoKGZ1bmN0aW9uKEN0KXtQZS5wdXNoKEN0LmVudGl0eSksWXQoUWUsQ3QudHJpcGxlcyl9KTtmb3IodmFyIFc9MCxtdD0wLHRlPVBlLmxlbmd0aCxWZT1BcnJheSh0ZSoyKTtXPHRlOylWZVttdCsrXT1HdChqZSxIZS5mYWN0b3J5Lm5hbWVkTm9kZShrbiksUGVbV10pLFZlW210KytdPUd0KGplLEhlLmZhY3RvcnkubmFtZWROb2RlKCRuKSxqZT0rK1c8dGU/ZHIoKTpIZS5mYWN0b3J5Lm5hbWVkTm9kZSh4bikpO3JldHVybntlbnRpdHk6VGUsdHJpcGxlczpZdChWZSxRZSl9fWZ1bmN0aW9uIHFuKEFlKXt2YXIgVGU9ZHIoKTtyZXR1cm57ZW50aXR5OlRlLHRyaXBsZXM6QWUubWFwKGZ1bmN0aW9uKGplKXtyZXR1cm4gWmUoR3QoVGUpLGplKX0pfX1mdW5jdGlvbiAkcihBZSxUZSxqZSl7dmFyIFBlPVtdLFZlPVtdO3JldHVybiBUZS5mb3JFYWNoKGZ1bmN0aW9uKFFlKXtQZS5wdXNoKEd0KG51bGwsQWUsUWUuZW50aXR5KSksWXQoVmUsUWUudHJpcGxlcyl9KSx2dChQZSxqZXx8W10sVmUpfWZ1bmN0aW9uIGVyKEFlKXtyZXR1cm4gQWUudmFyaWFibGU/QWUudmFyaWFibGUudmFsdWU6QWUudmFsdWV8fEFlLmV4cHJlc3Npb24udmFsdWV9ZnVuY3Rpb24gVXIoQWUpe2lmKCFBZSlyZXR1cm5bXTtpZihBZS50eXBlPT09ImFnZ3JlZ2F0ZSIpcmV0dXJuW0FlXTtpZihBZS50eXBlPT09Im9wZXJhdGlvbiIpe2NvbnN0IFRlPVtdO2Zvcihjb25zdCBqZSBvZiBBZS5hcmdzKVRlLnB1c2goLi4uVXIoamUpKTtyZXR1cm4gVGV9cmV0dXJuW119ZnVuY3Rpb24gWG4oQWUpe2NvbnN0IFRlPW5ldyBTZXQsamU9ZnVuY3Rpb24oUGUpe1BlJiYoUGUudGVybVR5cGU9PT0iVmFyaWFibGUiP1RlLmFkZChQZSk6UGUudHlwZT09PSJvcGVyYXRpb24iJiZQZS5hcmdzLmZvckVhY2goamUpKX07cmV0dXJuIGplKEFlKSxUZX1mdW5jdGlvbiBWcihBZSxUZT0xLGplPVtdKXtmb3IoY29uc3QgUGUgb2YgQWUpVGU+MCYmUGUgaW5zdGFuY2VvZiBBcnJheT9WcihQZSxUZS0xLGplKTpqZS5wdXNoKFBlKTtyZXR1cm4gamV9ZnVuY3Rpb24gUXIoQWUpe3JldHVybiBBZS50ZXJtVHlwZT09PSJWYXJpYWJsZSJ9ZnVuY3Rpb24gRG4oQWUpe2lmKEFlLnRyaXBsZXMpe2NvbnN0IFRlPVtdO2Zvcihjb25zdCBqZSBvZiBBZS50cmlwbGVzKVFyKGplLnN1YmplY3QpJiZUZS5wdXNoKGplLnN1YmplY3QudmFsdWUpLFFyKGplLnByZWRpY2F0ZSkmJlRlLnB1c2goamUucHJlZGljYXRlLnZhbHVlKSxRcihqZS5vYmplY3QpJiZUZS5wdXNoKGplLm9iamVjdC52YWx1ZSk7cmV0dXJuIFRlfWVsc2UgaWYoQWUucGF0dGVybnMpe2NvbnN0IFRlPVtdO2Zvcihjb25zdCBqZSBvZiBBZS5wYXR0ZXJucylUZS5wdXNoKC4uLkRuKGplKSk7cmV0dXJuIFRlfXJldHVybltdfWZ1bmN0aW9uIEtuKEFlKXtjb25zdCBUZT1BZS5zbGljZSgpLnNvcnQoKSxqZT1bXTtmb3IobGV0IFBlPTA7UGU8VGUubGVuZ3RoLTE7UGUrKylUZVtQZSsxXT09VGVbUGVdJiZqZS5wdXNoKFRlW1BlXSk7cmV0dXJuIGplfWZ1bmN0aW9uIGZyKEFlKXtpZighSGUuc3BhcnFsU3Rhcil0aHJvdyBuZXcgRXJyb3IoIlNQQVJRTCogc3VwcG9ydCBpcyBub3QgZW5hYmxlZCIpO3JldHVybiBBZX1mdW5jdGlvbiBGbihBZSl7Zm9yKGNvbnN0IFRlIG9mIEFlKXtpZihUZS50eXBlPT09ImdyYXBoIiYmVGUubmFtZS50ZXJtVHlwZT09PSJWYXJpYWJsZSIpdGhyb3cgbmV3IEVycm9yKCJEZXRlY3RlZCBpbGxlZ2FsIHZhcmlhYmxlIGluIEdSQVBIIik7aWYoVGUudHlwZT09PSJiZ3AifHxUZS50eXBlPT09ImdyYXBoIil7Zm9yKGNvbnN0IGplIG9mIFRlLnRyaXBsZXMpaWYoamUuc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSJ8fGplLnByZWRpY2F0ZS50ZXJtVHlwZT09PSJWYXJpYWJsZSJ8fGplLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIpdGhyb3cgbmV3IEVycm9yKCJEZXRlY3RlZCBpbGxlZ2FsIHZhcmlhYmxlIGluIEJHUCIpfX1yZXR1cm4gQWV9ZnVuY3Rpb24gR3IoQWUpe2Zvcihjb25zdCBUZSBvZiBBZSlpZihUZS50eXBlPT09ImJncCIpe2Zvcihjb25zdCBqZSBvZiBUZS50cmlwbGVzKWlmKGplLnN1YmplY3QudGVybVR5cGU9PT0iQmxhbmtOb2RlInx8amUucHJlZGljYXRlLnRlcm1UeXBlPT09IkJsYW5rTm9kZSJ8fGplLm9iamVjdC50ZXJtVHlwZT09PSJCbGFua05vZGUiKXRocm93IG5ldyBFcnJvcigiRGV0ZWN0ZWQgaWxsZWdhbCBibGFuayBub2RlIGluIEJHUCIpfXJldHVybiBBZX12YXIgV249ZnVuY3Rpb24oKXt2YXIgQWU9e0VPRjoxLHBhcnNlRXJyb3I6ZnVuY3Rpb24oamUsUGUpe2lmKHRoaXMueXkucGFyc2VyKXRoaXMueXkucGFyc2VyLnBhcnNlRXJyb3IoamUsUGUpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGplKX0sc2V0SW5wdXQ6ZnVuY3Rpb24oVGUsamUpe3JldHVybiB0aGlzLnl5PWplfHx0aGlzLnl5fHx7fSx0aGlzLl9pbnB1dD1UZSx0aGlzLl9tb3JlPXRoaXMuX2JhY2t0cmFjaz10aGlzLmRvbmU9ITEsdGhpcy55eWxpbmVubz10aGlzLnl5bGVuZz0wLHRoaXMueXl0ZXh0PXRoaXMubWF0Y2hlZD10aGlzLm1hdGNoPSIiLHRoaXMuY29uZGl0aW9uU3RhY2s9WyJJTklUSUFMIl0sdGhpcy55eWxsb2M9e2ZpcnN0X2xpbmU6MSxmaXJzdF9jb2x1bW46MCxsYXN0X2xpbmU6MSxsYXN0X2NvbHVtbjowfSx0aGlzLm9wdGlvbnMucmFuZ2VzJiYodGhpcy55eWxsb2MucmFuZ2U9WzAsMF0pLHRoaXMub2Zmc2V0PTAsdGhpc30saW5wdXQ6ZnVuY3Rpb24oKXt2YXIgVGU9dGhpcy5faW5wdXRbMF07dGhpcy55eXRleHQrPVRlLHRoaXMueXlsZW5nKyssdGhpcy5vZmZzZXQrKyx0aGlzLm1hdGNoKz1UZSx0aGlzLm1hdGNoZWQrPVRlO3ZhciBqZT1UZS5tYXRjaCgvKD86XHJcbj98XG4pLiovZyk7cmV0dXJuIGplPyh0aGlzLnl5bGluZW5vKyssdGhpcy55eWxsb2MubGFzdF9saW5lKyspOnRoaXMueXlsbG9jLmxhc3RfY29sdW1uKyssdGhpcy5vcHRpb25zLnJhbmdlcyYmdGhpcy55eWxsb2MucmFuZ2VbMV0rKyx0aGlzLl9pbnB1dD10aGlzLl9pbnB1dC5zbGljZSgxKSxUZX0sdW5wdXQ6ZnVuY3Rpb24oVGUpe3ZhciBqZT1UZS5sZW5ndGgsUGU9VGUuc3BsaXQoLyg/OlxyXG4/fFxuKS9nKTt0aGlzLl9pbnB1dD1UZSt0aGlzLl9pbnB1dCx0aGlzLnl5dGV4dD10aGlzLnl5dGV4dC5zdWJzdHIoMCx0aGlzLnl5dGV4dC5sZW5ndGgtamUpLHRoaXMub2Zmc2V0LT1qZTt2YXIgVmU9dGhpcy5tYXRjaC5zcGxpdCgvKD86XHJcbj98XG4pL2cpO3RoaXMubWF0Y2g9dGhpcy5tYXRjaC5zdWJzdHIoMCx0aGlzLm1hdGNoLmxlbmd0aC0xKSx0aGlzLm1hdGNoZWQ9dGhpcy5tYXRjaGVkLnN1YnN0cigwLHRoaXMubWF0Y2hlZC5sZW5ndGgtMSksUGUubGVuZ3RoLTEmJih0aGlzLnl5bGluZW5vLT1QZS5sZW5ndGgtMSk7dmFyIFFlPXRoaXMueXlsbG9jLnJhbmdlO3JldHVybiB0aGlzLnl5bGxvYz17Zmlyc3RfbGluZTp0aGlzLnl5bGxvYy5maXJzdF9saW5lLGxhc3RfbGluZTp0aGlzLnl5bGluZW5vKzEsZmlyc3RfY29sdW1uOnRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbixsYXN0X2NvbHVtbjpQZT8oUGUubGVuZ3RoPT09VmUubGVuZ3RoP3RoaXMueXlsbG9jLmZpcnN0X2NvbHVtbjowKStWZVtWZS5sZW5ndGgtUGUubGVuZ3RoXS5sZW5ndGgtUGVbMF0ubGVuZ3RoOnRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbi1qZX0sdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVtRZVswXSxRZVswXSt0aGlzLnl5bGVuZy1qZV0pLHRoaXMueXlsZW5nPXRoaXMueXl0ZXh0Lmxlbmd0aCx0aGlzfSxtb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vcmU9ITAsdGhpc30scmVqZWN0OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmJhY2t0cmFja19sZXhlcil0aGlzLl9iYWNrdHJhY2s9ITA7ZWxzZSByZXR1cm4gdGhpcy5wYXJzZUVycm9yKCJMZXhpY2FsIGVycm9yIG9uIGxpbmUgIisodGhpcy55eWxpbmVubysxKStgLiBZb3UgY2FuIG9ubHkgaW52b2tlIHJlamVjdCgpIGluIHRoZSBsZXhlciB3aGVuIHRoZSBsZXhlciBpcyBvZiB0aGUgYmFja3RyYWNraW5nIHBlcnN1YXNpb24gKG9wdGlvbnMuYmFja3RyYWNrX2xleGVyID0gdHJ1ZSkuCmArdGhpcy5zaG93UG9zaXRpb24oKSx7dGV4dDoiIix0b2tlbjpudWxsLGxpbmU6dGhpcy55eWxpbmVub30pO3JldHVybiB0aGlzfSxsZXNzOmZ1bmN0aW9uKFRlKXt0aGlzLnVucHV0KHRoaXMubWF0Y2guc2xpY2UoVGUpKX0scGFzdElucHV0OmZ1bmN0aW9uKCl7dmFyIFRlPXRoaXMubWF0Y2hlZC5zdWJzdHIoMCx0aGlzLm1hdGNoZWQubGVuZ3RoLXRoaXMubWF0Y2gubGVuZ3RoKTtyZXR1cm4oVGUubGVuZ3RoPjIwPyIuLi4iOiIiKStUZS5zdWJzdHIoLTIwKS5yZXBsYWNlKC9cbi9nLCIiKX0sdXBjb21pbmdJbnB1dDpmdW5jdGlvbigpe3ZhciBUZT10aGlzLm1hdGNoO3JldHVybiBUZS5sZW5ndGg8MjAmJihUZSs9dGhpcy5faW5wdXQuc3Vic3RyKDAsMjAtVGUubGVuZ3RoKSksKFRlLnN1YnN0cigwLDIwKSsoVGUubGVuZ3RoPjIwPyIuLi4iOiIiKSkucmVwbGFjZSgvXG4vZywiIil9LHNob3dQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBUZT10aGlzLnBhc3RJbnB1dCgpLGplPW5ldyBBcnJheShUZS5sZW5ndGgrMSkuam9pbigiLSIpO3JldHVybiBUZSt0aGlzLnVwY29taW5nSW5wdXQoKStgCmAramUrIl4ifSx0ZXN0X21hdGNoOmZ1bmN0aW9uKFRlLGplKXt2YXIgUGUsVmUsUWU7aWYodGhpcy5vcHRpb25zLmJhY2t0cmFja19sZXhlciYmKFFlPXt5eWxpbmVubzp0aGlzLnl5bGluZW5vLHl5bGxvYzp7Zmlyc3RfbGluZTp0aGlzLnl5bGxvYy5maXJzdF9saW5lLGxhc3RfbGluZTp0aGlzLmxhc3RfbGluZSxmaXJzdF9jb2x1bW46dGhpcy55eWxsb2MuZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOnRoaXMueXlsbG9jLmxhc3RfY29sdW1ufSx5eXRleHQ6dGhpcy55eXRleHQsbWF0Y2g6dGhpcy5tYXRjaCxtYXRjaGVzOnRoaXMubWF0Y2hlcyxtYXRjaGVkOnRoaXMubWF0Y2hlZCx5eWxlbmc6dGhpcy55eWxlbmcsb2Zmc2V0OnRoaXMub2Zmc2V0LF9tb3JlOnRoaXMuX21vcmUsX2lucHV0OnRoaXMuX2lucHV0LHl5OnRoaXMueXksY29uZGl0aW9uU3RhY2s6dGhpcy5jb25kaXRpb25TdGFjay5zbGljZSgwKSxkb25lOnRoaXMuZG9uZX0sdGhpcy5vcHRpb25zLnJhbmdlcyYmKFFlLnl5bGxvYy5yYW5nZT10aGlzLnl5bGxvYy5yYW5nZS5zbGljZSgwKSkpLFZlPVRlWzBdLm1hdGNoKC8oPzpcclxuP3xcbikuKi9nKSxWZSYmKHRoaXMueXlsaW5lbm8rPVZlLmxlbmd0aCksdGhpcy55eWxsb2M9e2ZpcnN0X2xpbmU6dGhpcy55eWxsb2MubGFzdF9saW5lLGxhc3RfbGluZTp0aGlzLnl5bGluZW5vKzEsZmlyc3RfY29sdW1uOnRoaXMueXlsbG9jLmxhc3RfY29sdW1uLGxhc3RfY29sdW1uOlZlP1ZlW1ZlLmxlbmd0aC0xXS5sZW5ndGgtVmVbVmUubGVuZ3RoLTFdLm1hdGNoKC9ccj9cbj8vKVswXS5sZW5ndGg6dGhpcy55eWxsb2MubGFzdF9jb2x1bW4rVGVbMF0ubGVuZ3RofSx0aGlzLnl5dGV4dCs9VGVbMF0sdGhpcy5tYXRjaCs9VGVbMF0sdGhpcy5tYXRjaGVzPVRlLHRoaXMueXlsZW5nPXRoaXMueXl0ZXh0Lmxlbmd0aCx0aGlzLm9wdGlvbnMucmFuZ2VzJiYodGhpcy55eWxsb2MucmFuZ2U9W3RoaXMub2Zmc2V0LHRoaXMub2Zmc2V0Kz10aGlzLnl5bGVuZ10pLHRoaXMuX21vcmU9ITEsdGhpcy5fYmFja3RyYWNrPSExLHRoaXMuX2lucHV0PXRoaXMuX2lucHV0LnNsaWNlKFRlWzBdLmxlbmd0aCksdGhpcy5tYXRjaGVkKz1UZVswXSxQZT10aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh0aGlzLHRoaXMueXksdGhpcyxqZSx0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTFdKSx0aGlzLmRvbmUmJnRoaXMuX2lucHV0JiYodGhpcy5kb25lPSExKSxQZSlyZXR1cm4gUGU7aWYodGhpcy5fYmFja3RyYWNrKXtmb3IodmFyIFcgaW4gUWUpdGhpc1tXXT1RZVtXXTtyZXR1cm4hMX1yZXR1cm4hMX0sbmV4dDpmdW5jdGlvbigpe2lmKHRoaXMuZG9uZSlyZXR1cm4gdGhpcy5FT0Y7dGhpcy5faW5wdXR8fCh0aGlzLmRvbmU9ITApO3ZhciBUZSxqZSxQZSxWZTt0aGlzLl9tb3JlfHwodGhpcy55eXRleHQ9IiIsdGhpcy5tYXRjaD0iIik7Zm9yKHZhciBRZT10aGlzLl9jdXJyZW50UnVsZXMoKSxXPTA7VzxRZS5sZW5ndGg7VysrKWlmKFBlPXRoaXMuX2lucHV0Lm1hdGNoKHRoaXMucnVsZXNbUWVbV11dKSxQZSYmKCFqZXx8UGVbMF0ubGVuZ3RoPmplWzBdLmxlbmd0aCkpe2lmKGplPVBlLFZlPVcsdGhpcy5vcHRpb25zLmJhY2t0cmFja19sZXhlcil7aWYoVGU9dGhpcy50ZXN0X21hdGNoKFBlLFFlW1ddKSxUZSE9PSExKXJldHVybiBUZTtpZih0aGlzLl9iYWNrdHJhY2spe2plPSExO2NvbnRpbnVlfWVsc2UgcmV0dXJuITF9ZWxzZSBpZighdGhpcy5vcHRpb25zLmZsZXgpYnJlYWt9cmV0dXJuIGplPyhUZT10aGlzLnRlc3RfbWF0Y2goamUsUWVbVmVdKSxUZSE9PSExP1RlOiExKTp0aGlzLl9pbnB1dD09PSIiP3RoaXMuRU9GOnRoaXMucGFyc2VFcnJvcigiTGV4aWNhbCBlcnJvciBvbiBsaW5lICIrKHRoaXMueXlsaW5lbm8rMSkrYC4gVW5yZWNvZ25pemVkIHRleHQuCmArdGhpcy5zaG93UG9zaXRpb24oKSx7dGV4dDoiIix0b2tlbjpudWxsLGxpbmU6dGhpcy55eWxpbmVub30pfSxsZXg6ZnVuY3Rpb24oKXt2YXIgamU9dGhpcy5uZXh0KCk7cmV0dXJuIGplfHx0aGlzLmxleCgpfSxiZWdpbjpmdW5jdGlvbihqZSl7dGhpcy5jb25kaXRpb25TdGFjay5wdXNoKGplKX0scG9wU3RhdGU6ZnVuY3Rpb24oKXt2YXIgamU9dGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMTtyZXR1cm4gamU+MD90aGlzLmNvbmRpdGlvblN0YWNrLnBvcCgpOnRoaXMuY29uZGl0aW9uU3RhY2tbMF19LF9jdXJyZW50UnVsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgmJnRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV0/dGhpcy5jb25kaXRpb25zW3RoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV1dLnJ1bGVzOnRoaXMuY29uZGl0aW9ucy5JTklUSUFMLnJ1bGVzfSx0b3BTdGF0ZTpmdW5jdGlvbihqZSl7cmV0dXJuIGplPXRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTEtTWF0aC5hYnMoamV8fDApLGplPj0wP3RoaXMuY29uZGl0aW9uU3RhY2tbamVdOiJJTklUSUFMIn0scHVzaFN0YXRlOmZ1bmN0aW9uKGplKXt0aGlzLmJlZ2luKGplKX0sc3RhdGVTdGFja1NpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGh9LG9wdGlvbnM6e2ZsZXg6ITAsImNhc2UtaW5zZW5zaXRpdmUiOiEwfSxwZXJmb3JtQWN0aW9uOmZ1bmN0aW9uKGplLFBlLFZlLFFlKXtzd2l0Y2goVmUpe2Nhc2UgMDpicmVhaztjYXNlIDE6cmV0dXJuIDEyO2Nhc2UgMjpyZXR1cm4gMTU7Y2FzZSAzOnJldHVybiAyODtjYXNlIDQ6cmV0dXJuIDMxNjtjYXNlIDU6cmV0dXJuIDMxNztjYXNlIDY6cmV0dXJuIDM1O2Nhc2UgNzpyZXR1cm4gMzc7Y2FzZSA4OnJldHVybiAzODtjYXNlIDk6cmV0dXJuIDI2O2Nhc2UgMTA6cmV0dXJuIDQxO2Nhc2UgMTE6cmV0dXJuIDQ1O2Nhc2UgMTI6cmV0dXJuIDQ2O2Nhc2UgMTM6cmV0dXJuIDQ4O2Nhc2UgMTQ6cmV0dXJuIDUwO2Nhc2UgMTU6cmV0dXJuIDU1O2Nhc2UgMTY6cmV0dXJuIDU4O2Nhc2UgMTc6cmV0dXJuIDMyMDtjYXNlIDE4OnJldHVybiA2ODtjYXNlIDE5OnJldHVybiA2OTtjYXNlIDIwOnJldHVybiA3NTtjYXNlIDIxOnJldHVybiA3ODtjYXNlIDIyOnJldHVybiA4MTtjYXNlIDIzOnJldHVybiA4MztjYXNlIDI0OnJldHVybiA4NjtjYXNlIDI1OnJldHVybiA4ODtjYXNlIDI2OnJldHVybiA5MDtjYXNlIDI3OnJldHVybiAxOTE7Y2FzZSAyODpyZXR1cm4gMTA3O2Nhc2UgMjk6cmV0dXJuIDMyMTtjYXNlIDMwOnJldHVybiAxNDA7Y2FzZSAzMTpyZXR1cm4gMzIyO2Nhc2UgMzI6cmV0dXJuIDMyMztjYXNlIDMzOnJldHVybiAxMTc7Y2FzZSAzNDpyZXR1cm4gMzI0O2Nhc2UgMzU6cmV0dXJuIDExNjtjYXNlIDM2OnJldHVybiAzMjU7Y2FzZSAzNzpyZXR1cm4gMzI2O2Nhc2UgMzg6cmV0dXJuIDEyMDtjYXNlIDM5OnJldHVybiAxMjI7Y2FzZSA0MDpyZXR1cm4gMTIzO2Nhc2UgNDE6cmV0dXJuIDEzODtjYXNlIDQyOnJldHVybiAxMzI7Y2FzZSA0MzpyZXR1cm4gMTMzO2Nhc2UgNDQ6cmV0dXJuIDEzNTtjYXNlIDQ1OnJldHVybiAxNDE7Y2FzZSA0NjpyZXR1cm4gMTE5O2Nhc2UgNDc6cmV0dXJuIDMyNztjYXNlIDQ4OnJldHVybiAzMjg7Y2FzZSA0OTpyZXR1cm4gMTY3O2Nhc2UgNTA6cmV0dXJuIDE3MDtjYXNlIDUxOnJldHVybiAxNzQ7Y2FzZSA1MjpyZXR1cm4gMTAwO2Nhc2UgNTM6cmV0dXJuIDE2ODtjYXNlIDU0OnJldHVybiAzMjk7Y2FzZSA1NTpyZXR1cm4gMTczO2Nhc2UgNTY6cmV0dXJuIDIzMTtjYXNlIDU3OnJldHVybiAyMzU7Y2FzZSA1ODpyZXR1cm4gMjc4O2Nhc2UgNTk6cmV0dXJuIDE5NTtjYXNlIDYwOnJldHVybiAzMzA7Y2FzZSA2MTpyZXR1cm4gMzMxO2Nhc2UgNjI6cmV0dXJuIDIyNDtjYXNlIDYzOnJldHVybiAzMzM7Y2FzZSA2NDpyZXR1cm4gMjcxO2Nhc2UgNjU6cmV0dXJuIDIxOTtjYXNlIDY2OnJldHVybiAyMjY7Y2FzZSA2NzpyZXR1cm4gMjI3O2Nhc2UgNjg6cmV0dXJuIDI1MDtjYXNlIDY5OnJldHVybiAyNTQ7Y2FzZSA3MDpyZXR1cm4gMjk1O2Nhc2UgNzE6cmV0dXJuIDMzNDtjYXNlIDcyOnJldHVybiAzMzU7Y2FzZSA3MzpyZXR1cm4gMzM2O2Nhc2UgNzQ6cmV0dXJuIDMzNztjYXNlIDc1OnJldHVybiAzMzg7Y2FzZSA3NjpyZXR1cm4gMjU4O2Nhc2UgNzc6cmV0dXJuIDMzOTtjYXNlIDc4OnJldHVybiAyNzM7Y2FzZSA3OTpyZXR1cm4gMjgxO2Nhc2UgODA6cmV0dXJuIDI4MjtjYXNlIDgxOnJldHVybiAyNzU7Y2FzZSA4MjpyZXR1cm4gMjc2O2Nhc2UgODM6cmV0dXJuIDI3NztjYXNlIDg0OnJldHVybiAzNDA7Y2FzZSA4NTpyZXR1cm4gMzQxO2Nhc2UgODY6cmV0dXJuIDI3OTtjYXNlIDg3OnJldHVybiAzNDM7Y2FzZSA4ODpyZXR1cm4gMzQyO2Nhc2UgODk6cmV0dXJuIDM0NDtjYXNlIDkwOnJldHVybiAyODQ7Y2FzZSA5MTpyZXR1cm4gMjg1O2Nhc2UgOTI6cmV0dXJuIDI4ODtjYXNlIDkzOnJldHVybiAyOTA7Y2FzZSA5NDpyZXR1cm4gMjk0O2Nhc2UgOTU6cmV0dXJuIDI5ODtjYXNlIDk2OnJldHVybiAzMDE7Y2FzZSA5NzpyZXR1cm4gMTM7Y2FzZSA5ODpyZXR1cm4gMTY7Y2FzZSA5OTpyZXR1cm4gMzEyO2Nhc2UgMTAwOnJldHVybiAyNDU7Y2FzZSAxMDE6cmV0dXJuIDM0O2Nhc2UgMTAyOnJldHVybiAyOTc7Y2FzZSAxMDM6cmV0dXJuIDg3O2Nhc2UgMTA0OnJldHVybiAyOTk7Y2FzZSAxMDU6cmV0dXJuIDMwMDtjYXNlIDEwNjpyZXR1cm4gMzA2O2Nhc2UgMTA3OnJldHVybiAzMDc7Y2FzZSAxMDg6cmV0dXJuIDMwODtjYXNlIDEwOTpyZXR1cm4gMzA5O2Nhc2UgMTEwOnJldHVybiAzMTA7Y2FzZSAxMTE6cmV0dXJuIDMxMTtjYXNlIDExMjpyZXR1cm4iRVhQT05FTlQiO2Nhc2UgMTEzOnJldHVybiAzMDI7Y2FzZSAxMTQ6cmV0dXJuIDMwMztjYXNlIDExNTpyZXR1cm4gMzA0O2Nhc2UgMTE2OnJldHVybiAzMDU7Y2FzZSAxMTc6cmV0dXJuIDkzO2Nhc2UgMTE4OnJldHVybiAyNDY7Y2FzZSAxMTk6cmV0dXJuIDY7Y2FzZSAxMjA6cmV0dXJuIklOVkFMSUQiO2Nhc2UgMTIxOmNvbnNvbGUubG9nKFBlLnl5dGV4dCk7YnJlYWt9fSxydWxlczpbL14oPzpccyt8KCNbXlxuXHJdKikpL2ksL14oPzpCQVNFKS9pLC9eKD86UFJFRklYKS9pLC9eKD86U0VMRUNUKS9pLC9eKD86RElTVElOQ1QpL2ksL14oPzpSRURVQ0VEKS9pLC9eKD86XCgpL2ksL14oPzpBUykvaSwvXig/OlwpKS9pLC9eKD86XCopL2ksL14oPzpDT05TVFJVQ1QpL2ksL14oPzpXSEVSRSkvaSwvXig/Olx7KS9pLC9eKD86XH0pL2ksL14oPzpERVNDUklCRSkvaSwvXig/OkFTSykvaSwvXig/OkZST00pL2ksL14oPzpOQU1FRCkvaSwvXig/OkdST1VQKS9pLC9eKD86QlkpL2ksL14oPzpIQVZJTkcpL2ksL14oPzpPUkRFUikvaSwvXig/OkFTQykvaSwvXig/OkRFU0MpL2ksL14oPzpMSU1JVCkvaSwvXig/Ok9GRlNFVCkvaSwvXig/OlZBTFVFUykvaSwvXig/OjspL2ksL14oPzpMT0FEKS9pLC9eKD86U0lMRU5UKS9pLC9eKD86SU5UTykvaSwvXig/OkNMRUFSKS9pLC9eKD86RFJPUCkvaSwvXig/OkNSRUFURSkvaSwvXig/OkFERCkvaSwvXig/OlRPKS9pLC9eKD86TU9WRSkvaSwvXig/OkNPUFkpL2ksL14oPzpJTlNFUlQoKFxzK3woI1teXG5ccl0qKVxuXHI/KSspREFUQSkvaSwvXig/OkRFTEVURSgoXHMrfCgjW15cblxyXSopXG5ccj8pKylEQVRBKS9pLC9eKD86REVMRVRFKChccyt8KCNbXlxuXHJdKilcblxyPykrKVdIRVJFKS9pLC9eKD86V0lUSCkvaSwvXig/OkRFTEVURSkvaSwvXig/OklOU0VSVCkvaSwvXig/OlVTSU5HKS9pLC9eKD86REVGQVVMVCkvaSwvXig/OkdSQVBIKS9pLC9eKD86QUxMKS9pLC9eKD86XC4pL2ksL14oPzpPUFRJT05BTCkvaSwvXig/OlNFUlZJQ0UpL2ksL14oPzpCSU5EKS9pLC9eKD86VU5ERUYpL2ksL14oPzpNSU5VUykvaSwvXig/OlVOSU9OKS9pLC9eKD86RklMVEVSKS9pLC9eKD86PDwpL2ksL14oPzo+PikvaSwvXig/OiwpL2ksL14oPzphKS9pLC9eKD86XHwpL2ksL14oPzpcLykvaSwvXig/OlxeKS9pLC9eKD86XD8pL2ksL14oPzpcKykvaSwvXig/OiEpL2ksL14oPzpcWykvaSwvXig/OlxdKS9pLC9eKD86XHxcfCkvaSwvXig/OiYmKS9pLC9eKD86PSkvaSwvXig/OiE9KS9pLC9eKD86PCkvaSwvXig/Oj4pL2ksL14oPzo8PSkvaSwvXig/Oj49KS9pLC9eKD86SU4pL2ksL14oPzpOT1QpL2ksL14oPzotKS9pLC9eKD86Qk9VTkQpL2ksL14oPzpCTk9ERSkvaSwvXig/OihSQU5EfE5PV3xVVUlEfFNUUlVVSUQpKS9pLC9eKD86KExBTkd8REFUQVRZUEV8SVJJfFVSSXxBQlN8Q0VJTHxGTE9PUnxST1VORHxTVFJMRU58U1RSfFVDQVNFfExDQVNFfEVOQ09ERV9GT1JfVVJJfFlFQVJ8TU9OVEh8REFZfEhPVVJTfE1JTlVURVN8U0VDT05EU3xUSU1FWk9ORXxUWnxNRDV8U0hBMXxTSEEyNTZ8U0hBMzg0fFNIQTUxMnxpc0lSSXxpc1VSSXxpc0JMQU5LfGlzTElURVJBTHxpc05VTUVSSUMpKS9pLC9eKD86KExBTkdNQVRDSEVTfENPTlRBSU5TfFNUUlNUQVJUU3xTVFJFTkRTfFNUUkJFRk9SRXxTVFJBRlRFUnxTVFJMQU5HfFNUUkRUfHNhbWVUZXJtKSkvaSwvXig/OkNPTkNBVCkvaSwvXig/OkNPQUxFU0NFKS9pLC9eKD86SUYpL2ksL14oPzpSRUdFWCkvaSwvXig/OlNVQlNUUikvaSwvXig/OlJFUExBQ0UpL2ksL14oPzpFWElTVFMpL2ksL14oPzpDT1VOVCkvaSwvXig/OlNVTXxNSU58TUFYfEFWR3xTQU1QTEUpL2ksL14oPzpHUk9VUF9DT05DQVQpL2ksL14oPzpTRVBBUkFUT1IpL2ksL14oPzpcXlxeKS9pLC9eKD86dHJ1ZXxmYWxzZSkvaSwvXig/Oig8KD86W148PlwiXHtcfVx8XF5gXFxcdTAwMDAtXHUwMDIwXSkqPikpL2ksL14oPzooKChbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSkoPzooPzooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pfFwuKSooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pKT8pPzopKS9pLC9eKD86KCgoKFtBLVphLXpcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAyRkZcdTAzNzAtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRF18W1x1RDgwMC1cdURCN0ZdW1x1REMwMC1cdURGRkZdKSg/Oig/OigoKD86KFtBLVphLXpcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAyRkZcdTAzNzAtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRF18W1x1RDgwMC1cdURCN0ZdW1x1REMwMC1cdURGRkZdKXxfKSl8LXxbMC05XXxcdTAwQjd8W1x1MDMwMC1cdTAzNkZcdTIwM0YtXHUyMDQwXSl8XC4pKigoKD86KFtBLVphLXpcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAyRkZcdTAzNzAtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRF18W1x1RDgwMC1cdURCN0ZdW1x1REMwMC1cdURGRkZdKXxfKSl8LXxbMC05XXxcdTAwQjd8W1x1MDMwMC1cdTAzNkZcdTIwM0YtXHUyMDQwXSkpPyk/OikoKD86KCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfDp8WzAtOV18KCglKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkpfChcXChffH58XC58LXwhfFwkfCZ8J3xcKHxcKXxcKnxcK3wsfDt8PXxcL3xcP3wjfEB8JSkpKSkoPzooPzooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pfFwufDp8KCglKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkpfChcXChffH58XC58LXwhfFwkfCZ8J3xcKHxcKXxcKnxcK3wsfDt8PXxcL3xcP3wjfEB8JSkpKSkqKD86KCgoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXwtfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKXw6fCgoJShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKXwoXFwoX3x+fFwufC18IXxcJHwmfCd8XCh8XCl8XCp8XCt8LHw7fD18XC98XD98I3xAfCUpKSkpKT8pKSkvaSwvXig/OihfOig/OigoPzooW0EtWmEtelx1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDJGRlx1MDM3MC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZEXXxbXHVEODAwLVx1REI3Rl1bXHVEQzAwLVx1REZGRl0pfF8pKXxbMC05XSkoPzooPzooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pfFwuKSooKCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfC18WzAtOV18XHUwMEI3fFtcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0pKT8pKS9pLC9eKD86KFtcP1wkXSgoPzooKD86KFtBLVphLXpcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAyRkZcdTAzNzAtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRF18W1x1RDgwMC1cdURCN0ZdW1x1REMwMC1cdURGRkZdKXxfKSl8WzAtOV0pKD86KCg/OihbQS1aYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdfFtcdUQ4MDAtXHVEQjdGXVtcdURDMDAtXHVERkZGXSl8XykpfFswLTldfFx1MDBCN3xbXHUwMzAwLVx1MDM2Rlx1MjAzRi1cdTIwNDBdKSopKSkvaSwvXig/OihAW2EtekEtWl0rKD86LVthLXpBLVowLTldKykqKSkvaSwvXig/OihbMC05XSspKS9pLC9eKD86KFswLTldKlwuWzAtOV0rKSkvaSwvXig/OihbMC05XStcLlswLTldKihbZUVdWystXT9bMC05XSspfFwuKFswLTldKSsoW2VFXVsrLV0/WzAtOV0rKXwoWzAtOV0pKyhbZUVdWystXT9bMC05XSspKSkvaSwvXig/OihcKyhbMC05XSspKSkvaSwvXig/OihcKyhbMC05XSpcLlswLTldKykpKS9pLC9eKD86KFwrKFswLTldK1wuWzAtOV0qKFtlRV1bKy1dP1swLTldKyl8XC4oWzAtOV0pKyhbZUVdWystXT9bMC05XSspfChbMC05XSkrKFtlRV1bKy1dP1swLTldKykpKSkvaSwvXig/OigtKFswLTldKykpKS9pLC9eKD86KC0oWzAtOV0qXC5bMC05XSspKSkvaSwvXig/OigtKFswLTldK1wuWzAtOV0qKFtlRV1bKy1dP1swLTldKyl8XC4oWzAtOV0pKyhbZUVdWystXT9bMC05XSspfChbMC05XSkrKFtlRV1bKy1dP1swLTldKykpKSkvaSwvXig/OihbZUVdWystXT9bMC05XSspKS9pLC9eKD86KCcoPzooPzpbXlx1MDAyN1x1MDA1Q1x1MDAwQVx1MDAwRF0pfChcXFt0Ym5yZlxcXCInXXxcXHUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pfFxcVShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKSkqJykpL2ksL14oPzooIig/Oig/OlteXHUwMDIyXHUwMDVDXHUwMDBBXHUwMDBEXSl8KFxcW3RibnJmXFxcIiddfFxcdShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSl8XFxVKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkpKSoiKSkvaSwvXig/OignJycoPzooPzonfCcnKT8oPzpbXidcXF18KFxcW3RibnJmXFxcIiddfFxcdShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSl8XFxVKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkpKSkqJycnKSkvaSwvXig/OigiIiIoPzooPzoifCIiKT8oPzpbXlwiXFxdfChcXFt0Ym5yZlxcXCInXXxcXHUoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pfFxcVShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKFswLTlBLUZhLWZdKShbMC05QS1GYS1mXSkoWzAtOUEtRmEtZl0pKSkpKiIiIikpL2ksL14oPzooXCgoXHUwMDIwfFx1MDAwOXxcdTAwMER8XHUwMDBBKSpcKSkpL2ksL14oPzooXFsoXHUwMDIwfFx1MDAwOXxcdTAwMER8XHUwMDBBKSpcXSkpL2ksL14oPzokKS9pLC9eKD86LikvaSwvXig/Oi4pL2ldLGNvbmRpdGlvbnM6e0lOSVRJQUw6e3J1bGVzOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwLDYxLDYyLDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDkxLDkyLDkzLDk0LDk1LDk2LDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMV0saW5jbHVzaXZlOiEwfX19O3JldHVybiBBZX0oKTtEci5sZXhlcj1XbjtmdW5jdGlvbiBIZSgpe3RoaXMueXk9e319cmV0dXJuIEhlLnByb3RvdHlwZT1EcixEci5QYXJzZXI9SGUsbmV3IEhlfSgpLFNwYXJxbFBhcnNlcl8xPVNwYXJxbFBhcnNlcixYU0RfSU5URUdFUj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjaW50ZWdlciIsWFNEX1NUUklORz0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIjtmdW5jdGlvbiBHZW5lcmF0b3IkMSh0KXt0aGlzLl9vcHRpb25zPXQ9dHx8e307dmFyIGU9dC5wcmVmaXhlc3x8e307dGhpcy5fcHJlZml4QnlJcmk9e307dmFyIG49W107Zm9yKHZhciBvIGluIGUpe3ZhciBkPWVbb107aXNTdHJpbmckMShkKSYmKHRoaXMuX3ByZWZpeEJ5SXJpW2RdPW8sbi5wdXNoKGQpKX12YXIgaD1uLmpvaW4oInwiKS5yZXBsYWNlKC9bXF1cL1woXClcKlwrXD9cLlxcXCRdL2csIlxcJCYiKTt0aGlzLl9wcmVmaXhSZWdleD1uZXcgUmVnRXhwKCJeKCIraCsiKShbYS16QS1aXVtcXC1fYS16QS1aMC05XSopJCIpLHRoaXMuX3VzZWRQcmVmaXhlcz17fSx0aGlzLl9zcGFycWxTdGFyPXQuc3BhcnFsU3Rhcix0aGlzLl9pbmRlbnQ9aXNTdHJpbmckMSh0LmluZGVudCk/dC5pbmRlbnQ6IiAgIix0aGlzLl9uZXdsaW5lPWlzU3RyaW5nJDEodC5uZXdsaW5lKT90Lm5ld2xpbmU6YApgLHRoaXMuX2V4cGxpY2l0RGF0YXR5cGU9ISF0LmV4cGxpY2l0RGF0YXR5cGV9R2VuZXJhdG9yJDEucHJvdG90eXBlLnRvUXVlcnk9ZnVuY3Rpb24odCl7dmFyIGU9IiI7cmV0dXJuIHQucXVlcnlUeXBlJiYoZSs9dC5xdWVyeVR5cGUudG9VcHBlckNhc2UoKSsiICIpLHQucmVkdWNlZCYmKGUrPSJSRURVQ0VEICIpLHQuZGlzdGluY3QmJihlKz0iRElTVElOQ1QgIiksdC52YXJpYWJsZXM/ZSs9bWFwSm9pbih0LnZhcmlhYmxlcyx2b2lkIDAsZnVuY3Rpb24obil7cmV0dXJuIGlzVGVybSQxKG4pP3RoaXMudG9FbnRpdHkobik6IigiK3RoaXMudG9FeHByZXNzaW9uKG4uZXhwcmVzc2lvbikrIiBBUyAiK3ZhcmlhYmxlVG9TdHJpbmcobi52YXJpYWJsZSkrIikifSx0aGlzKSsiICI6dC50ZW1wbGF0ZSYmKGUrPXRoaXMuZ3JvdXAodC50ZW1wbGF0ZSwhMCkrdGhpcy5fbmV3bGluZSksdC5mcm9tJiYoZSs9dGhpcy5ncmFwaHMoIkZST00gIix0LmZyb20uZGVmYXVsdCkrdGhpcy5ncmFwaHMoIkZST00gTkFNRUQgIix0LmZyb20ubmFtZWQpKSx0LndoZXJlJiYoZSs9IldIRVJFICIrdGhpcy5ncm91cCh0LndoZXJlLCEwKSt0aGlzLl9uZXdsaW5lKSx0LnVwZGF0ZXMmJihlKz1tYXBKb2luKHQudXBkYXRlcywiOyIrdGhpcy5fbmV3bGluZSx0aGlzLnRvVXBkYXRlLHRoaXMpKSx0Lmdyb3VwJiYoZSs9IkdST1VQIEJZICIrbWFwSm9pbih0Lmdyb3VwLHZvaWQgMCxmdW5jdGlvbihuKXt2YXIgbz1pc1Rlcm0kMShuLmV4cHJlc3Npb24pP3RoaXMudG9FbnRpdHkobi5leHByZXNzaW9uKToiKCIrdGhpcy50b0V4cHJlc3Npb24obi5leHByZXNzaW9uKSsiKSI7cmV0dXJuIG4udmFyaWFibGU/IigiK28rIiBBUyAiK3ZhcmlhYmxlVG9TdHJpbmcobi52YXJpYWJsZSkrIikiOm99LHRoaXMpK3RoaXMuX25ld2xpbmUpLHQuaGF2aW5nJiYoZSs9IkhBVklORyAoIittYXBKb2luKHQuaGF2aW5nLHZvaWQgMCx0aGlzLnRvRXhwcmVzc2lvbix0aGlzKSsiKSIrdGhpcy5fbmV3bGluZSksdC5vcmRlciYmKGUrPSJPUkRFUiBCWSAiK21hcEpvaW4odC5vcmRlcix2b2lkIDAsZnVuY3Rpb24obil7dmFyIG89IigiK3RoaXMudG9FeHByZXNzaW9uKG4uZXhwcmVzc2lvbikrIikiO3JldHVybiBuLmRlc2NlbmRpbmc/IkRFU0MgIitvOm99LHRoaXMpK3RoaXMuX25ld2xpbmUpLHQub2Zmc2V0JiYoZSs9Ik9GRlNFVCAiK3Qub2Zmc2V0K3RoaXMuX25ld2xpbmUpLHQubGltaXQmJihlKz0iTElNSVQgIit0LmxpbWl0K3RoaXMuX25ld2xpbmUpLHQudmFsdWVzJiYoZSs9dGhpcy52YWx1ZXModCkpLGU9dGhpcy5iYXNlQW5kUHJlZml4ZXModCkrZSxlLnRyaW0oKX07R2VuZXJhdG9yJDEucHJvdG90eXBlLmJhc2VBbmRQcmVmaXhlcz1mdW5jdGlvbih0KXt2YXIgZT10LmJhc2U/IkJBU0UgPCIrdC5iYXNlKyI+Iit0aGlzLl9uZXdsaW5lOiIiLG49IiI7Zm9yKHZhciBvIGluIHQucHJlZml4ZXMpKHRoaXMuX29wdGlvbnMuYWxsUHJlZml4ZXN8fHRoaXMuX3VzZWRQcmVmaXhlc1tvXSkmJihuKz0iUFJFRklYICIrbysiOiA8Iit0LnByZWZpeGVzW29dKyI+Iit0aGlzLl9uZXdsaW5lKTtyZXR1cm4gZStufTtHZW5lcmF0b3IkMS5wcm90b3R5cGUudG9QYXR0ZXJuPWZ1bmN0aW9uKHQpe3ZhciBlPXQudHlwZXx8dCBpbnN0YW5jZW9mIEFycmF5JiYiYXJyYXkifHwodC5zdWJqZWN0JiZ0LnByZWRpY2F0ZSYmdC5vYmplY3Q/InRyaXBsZSI6IiIpO2lmKCEoZSBpbiB0aGlzKSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gZW50cnkgdHlwZTogIitlKTtyZXR1cm4gdGhpc1tlXSh0KX07R2VuZXJhdG9yJDEucHJvdG90eXBlLnRyaXBsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b0VudGl0eSh0LnN1YmplY3QpKyIgIit0aGlzLnRvRW50aXR5KHQucHJlZGljYXRlKSsiICIrdGhpcy50b0VudGl0eSh0Lm9iamVjdCkrIi4ifTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuYXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuIG1hcEpvaW4odCx0aGlzLl9uZXdsaW5lLHRoaXMudG9QYXR0ZXJuLHRoaXMpfTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuYmdwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVuY29kZVRyaXBsZXModC50cmlwbGVzKX07R2VuZXJhdG9yJDEucHJvdG90eXBlLmVuY29kZVRyaXBsZXM9ZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybiIiO2Zvcih2YXIgZT1bXSxuPXZvaWQgMCxvPXZvaWQgMCxkPTA7ZDx0Lmxlbmd0aDtkKyspe3ZhciBoPXRbZF07ZXF1YWxUZXJtcyhoLnN1YmplY3Qsbik/ZXF1YWxUZXJtcyhoLnByZWRpY2F0ZSxvKT9lLnB1c2goIiwiKToobz1oLnByZWRpY2F0ZSxlLnB1c2goIjsiK3RoaXMuX25ld2xpbmUsdGhpcy5faW5kZW50LHRoaXMudG9FbnRpdHkobykpKToobiYmZS5wdXNoKCIuIit0aGlzLl9uZXdsaW5lKSxuPWguc3ViamVjdCxvPWgucHJlZGljYXRlLGUucHVzaCh0aGlzLnRvRW50aXR5KG4pLCIgIix0aGlzLnRvRW50aXR5KG8pKSksZS5wdXNoKCIgIix0aGlzLnRvRW50aXR5KGgub2JqZWN0KSl9cmV0dXJuIGUucHVzaCgiLiIpLGUuam9pbigiIil9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5ncmFwaD1mdW5jdGlvbih0KXtyZXR1cm4iR1JBUEggIit0aGlzLnRvRW50aXR5KHQubmFtZSkrIiAiK3RoaXMuZ3JvdXAodCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5ncmFwaHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hZXx8ZS5sZW5ndGg9PT0wPyIiOm1hcEpvaW4oZSwiIixmdW5jdGlvbihuKXtyZXR1cm4gdCt0aGlzLnRvRW50aXR5KG4pK3RoaXMuX25ld2xpbmV9LHRoaXMpfTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuZ3JvdXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1lIT09ITA/dGhpcy5hcnJheSh0LnBhdHRlcm5zfHx0LnRyaXBsZXMpOnRoaXMudG9QYXR0ZXJuKHQudHlwZSE9PSJncm91cCI/dDp0LnBhdHRlcm5zKSx0LmluZGV4T2YodGhpcy5fbmV3bGluZSk9PT0tMT8ieyAiK3QrIiB9IjoieyIrdGhpcy5fbmV3bGluZSt0aGlzLmluZGVudCh0KSt0aGlzLl9uZXdsaW5lKyJ9In07R2VuZXJhdG9yJDEucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRvUXVlcnkodCl9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIkZJTFRFUigiK3RoaXMudG9FeHByZXNzaW9uKHQuZXhwcmVzc2lvbikrIikifTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0KXtyZXR1cm4iQklORCgiK3RoaXMudG9FeHByZXNzaW9uKHQuZXhwcmVzc2lvbikrIiBBUyAiK3ZhcmlhYmxlVG9TdHJpbmcodC52YXJpYWJsZSkrIikifTtHZW5lcmF0b3IkMS5wcm90b3R5cGUub3B0aW9uYWw9ZnVuY3Rpb24odCl7cmV0dXJuIk9QVElPTkFMICIrdGhpcy5ncm91cCh0KX07R2VuZXJhdG9yJDEucHJvdG90eXBlLnVuaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBtYXBKb2luKHQucGF0dGVybnMsdGhpcy5fbmV3bGluZSsiVU5JT04iK3RoaXMuX25ld2xpbmUsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ3JvdXAoZSwhMCl9LHRoaXMpfTtHZW5lcmF0b3IkMS5wcm90b3R5cGUubWludXM9ZnVuY3Rpb24odCl7cmV0dXJuIk1JTlVTICIrdGhpcy5ncm91cCh0KX07R2VuZXJhdG9yJDEucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3Qua2V5cyh0LnZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24oZCxoKXtmb3IodmFyIGwgaW4gaClkW2xdPSEwO3JldHVybiBkfSx7fSkpLG4sbztyZXR1cm4gZS5sZW5ndGg9PT0xP249bz0iIjoobj0iKCIsbz0iKSIpLCJWQUxVRVMgIituK2Uuam9pbigiICIpK28rIiB7Iit0aGlzLl9uZXdsaW5lK21hcEpvaW4odC52YWx1ZXMsdGhpcy5fbmV3bGluZSxmdW5jdGlvbihkKXtyZXR1cm4iICAiK24rbWFwSm9pbihlLHZvaWQgMCxmdW5jdGlvbihoKXtyZXR1cm4gZFtoXT90aGlzLnRvRW50aXR5KGRbaF0pOiJVTkRFRiJ9LHRoaXMpK299LHRoaXMpK3RoaXMuX25ld2xpbmUrIn0ifTtHZW5lcmF0b3IkMS5wcm90b3R5cGUuc2VydmljZT1mdW5jdGlvbih0KXtyZXR1cm4iU0VSVklDRSAiKyh0LnNpbGVudD8iU0lMRU5UICI6IiIpK3RoaXMudG9FbnRpdHkodC5uYW1lKSsiICIrdGhpcy5ncm91cCh0KX07R2VuZXJhdG9yJDEucHJvdG90eXBlLnRvRXhwcmVzc2lvbj1mdW5jdGlvbih0KXtpZihpc1Rlcm0kMSh0KSlyZXR1cm4gdGhpcy50b0VudGl0eSh0KTtzd2l0Y2godC50eXBlLnRvTG93ZXJDYXNlKCkpe2Nhc2UiYWdncmVnYXRlIjpyZXR1cm4gdC5hZ2dyZWdhdGlvbi50b1VwcGVyQ2FzZSgpKyIoIisodC5kaXN0aW5jdD8iRElTVElOQ1QgIjoiIikrdGhpcy50b0V4cHJlc3Npb24odC5leHByZXNzaW9uKSsodHlwZW9mIHQuc2VwYXJhdG9yPT0ic3RyaW5nIj8nOyBTRVBBUkFUT1IgPSAiJyt0LnNlcGFyYXRvci5yZXBsYWNlKGVzY2FwZSxlc2NhcGVSZXBsYWNlcikrJyInOiIiKSsiKSI7Y2FzZSJmdW5jdGlvbmNhbGwiOnJldHVybiB0aGlzLnRvRW50aXR5KHQuZnVuY3Rpb24pKyIoIittYXBKb2luKHQuYXJncywiLCAiLHRoaXMudG9FeHByZXNzaW9uLHRoaXMpKyIpIjtjYXNlIm9wZXJhdGlvbiI6dmFyIGU9dC5vcGVyYXRvci50b1VwcGVyQ2FzZSgpLG49dC5hcmdzfHxbXTtzd2l0Y2godC5vcGVyYXRvci50b0xvd2VyQ2FzZSgpKXtjYXNlIjwiOmNhc2UiPiI6Y2FzZSI+PSI6Y2FzZSI8PSI6Y2FzZSImJiI6Y2FzZSJ8fCI6Y2FzZSI9IjpjYXNlIiE9IjpjYXNlIisiOmNhc2UiLSI6Y2FzZSIqIjpjYXNlIi8iOnJldHVybihpc1Rlcm0kMShuWzBdKT90aGlzLnRvRW50aXR5KG5bMF0pOiIoIit0aGlzLnRvRXhwcmVzc2lvbihuWzBdKSsiKSIpKyIgIitlKyIgIisoaXNUZXJtJDEoblsxXSk/dGhpcy50b0VudGl0eShuWzFdKToiKCIrdGhpcy50b0V4cHJlc3Npb24oblsxXSkrIikiKTtjYXNlIiEiOnJldHVybiIhKCIrdGhpcy50b0V4cHJlc3Npb24oblswXSkrIikiO2Nhc2UidXBsdXMiOnJldHVybiIrKCIrdGhpcy50b0V4cHJlc3Npb24oblswXSkrIikiO2Nhc2UidW1pbnVzIjpyZXR1cm4iLSgiK3RoaXMudG9FeHByZXNzaW9uKG5bMF0pKyIpIjtjYXNlIm5vdGluIjplPSJOT1QgSU4iO2Nhc2UiaW4iOnJldHVybiB0aGlzLnRvRXhwcmVzc2lvbihuWzBdKSsiICIrZSsiKCIrKGlzU3RyaW5nJDEoblsxXSk/blsxXTptYXBKb2luKG5bMV0sIiwgIix0aGlzLnRvRXhwcmVzc2lvbix0aGlzKSkrIikiO2Nhc2Uibm90ZXhpc3RzIjplPSJOT1QgRVhJU1RTIjtjYXNlImV4aXN0cyI6cmV0dXJuIGUrIiAiK3RoaXMuZ3JvdXAoblswXSwhMCk7ZGVmYXVsdDpyZXR1cm4gZSsiKCIrbWFwSm9pbihuLCIsICIsdGhpcy50b0V4cHJlc3Npb24sdGhpcykrIikifWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGV4cHJlc3Npb24gdHlwZTogIit0LnR5cGUpfX07R2VuZXJhdG9yJDEucHJvdG90eXBlLnRvRW50aXR5PWZ1bmN0aW9uKHQpe2lmKGlzVGVybSQxKHQpKXN3aXRjaCh0LnRlcm1UeXBlKXtjYXNlIldpbGRjYXJkIjpyZXR1cm4iKiI7Y2FzZSJWYXJpYWJsZSI6cmV0dXJuIHZhcmlhYmxlVG9TdHJpbmcodCk7Y2FzZSJCbGFua05vZGUiOnJldHVybiJfOiIrdC52YWx1ZTtjYXNlIkxpdGVyYWwiOnZhciBlPXQudmFsdWV8fCIiLG49dC5sYW5ndWFnZXx8IiIsbz10LmRhdGF0eXBlO2lmKHQ9JyInK2UucmVwbGFjZShlc2NhcGUsZXNjYXBlUmVwbGFjZXIpKyciJyxuKXQrPSJAIituO2Vsc2UgaWYobyl7aWYoIXRoaXMuX2V4cGxpY2l0RGF0YXR5cGUpc3dpdGNoKG8udmFsdWUpe2Nhc2UgWFNEX1NUUklORzpyZXR1cm4gdDtjYXNlIFhTRF9JTlRFR0VSOmlmKC9eXGQrJC8udGVzdChlKSlyZXR1cm4gZSsiICJ9dCs9Il5eIit0aGlzLmVuY29kZUlSSShvLnZhbHVlKX1yZXR1cm4gdDtjYXNlIlF1YWQiOmlmKCF0aGlzLl9zcGFycWxTdGFyKXRocm93IG5ldyBFcnJvcigiU1BBUlFMKiBzdXBwb3J0IGlzIG5vdCBlbmFibGVkIik7cmV0dXJuIHQuZ3JhcGgmJnQuZ3JhcGgudGVybVR5cGUhPT0iRGVmYXVsdEdyYXBoIj8iPDwgR1JBUEggIit0aGlzLnRvRW50aXR5KHQuZ3JhcGgpKyIgeyAiK3RoaXMudG9FbnRpdHkodC5zdWJqZWN0KSsiICIrdGhpcy50b0VudGl0eSh0LnByZWRpY2F0ZSkrIiAiK3RoaXMudG9FbnRpdHkodC5vYmplY3QpKyIgfSAgPj4iOiI8PCAiK3RoaXMudG9FbnRpdHkodC5zdWJqZWN0KSsiICIrdGhpcy50b0VudGl0eSh0LnByZWRpY2F0ZSkrIiAiK3RoaXMudG9FbnRpdHkodC5vYmplY3QpKyIgPj4iO2RlZmF1bHQ6cmV0dXJuIHRoaXMuZW5jb2RlSVJJKHQudmFsdWUpfWVsc2V7dmFyIGQ9dC5pdGVtcy5tYXAodGhpcy50b0VudGl0eSx0aGlzKSxoPXQucGF0aFR5cGU7c3dpdGNoKGgpe2Nhc2UiXiI6Y2FzZSIhIjpyZXR1cm4gaCtkWzBdO2Nhc2UiKiI6Y2FzZSIrIjpjYXNlIj8iOnJldHVybiIoIitkWzBdK2grIikiO2RlZmF1bHQ6cmV0dXJuIigiK2Quam9pbihoKSsiKSJ9fX07dmFyIGVzY2FwZT0vWyJcXFx0XG5cclxiXGZdL2csZXNjYXBlUmVwbGFjZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGVzY2FwZVJlcGxhY2VtZW50c1t0XX0sZXNjYXBlUmVwbGFjZW1lbnRzPXsiXFwiOiJcXFxcIiwnIic6J1xcIicsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxyIjoiXFxyIiwiXGIiOiJcXGIiLCJcZiI6IlxcZiJ9O0dlbmVyYXRvciQxLnByb3RvdHlwZS5lbmNvZGVJUkk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcHJlZml4UmVnZXguZXhlYyh0KTtpZihlKXt2YXIgbj10aGlzLl9wcmVmaXhCeUlyaVtlWzFdXTtyZXR1cm4gdGhpcy5fdXNlZFByZWZpeGVzW25dPSEwLG4rIjoiK2VbMl19cmV0dXJuIjwiK3QrIj4ifTtHZW5lcmF0b3IkMS5wcm90b3R5cGUudG9VcGRhdGU9ZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZXx8dC51cGRhdGVUeXBlKXtjYXNlImxvYWQiOnJldHVybiJMT0FEIisodC5zb3VyY2U/IiAiK3RoaXMudG9FbnRpdHkodC5zb3VyY2UpOiIiKSsodC5kZXN0aW5hdGlvbj8iIElOVE8gR1JBUEggIit0aGlzLnRvRW50aXR5KHQuZGVzdGluYXRpb24pOiIiKTtjYXNlImluc2VydCI6cmV0dXJuIklOU0VSVCBEQVRBICIrdGhpcy5ncm91cCh0Lmluc2VydCwhMCk7Y2FzZSJkZWxldGUiOnJldHVybiJERUxFVEUgREFUQSAiK3RoaXMuZ3JvdXAodC5kZWxldGUsITApO2Nhc2UiZGVsZXRld2hlcmUiOnJldHVybiJERUxFVEUgV0hFUkUgIit0aGlzLmdyb3VwKHQuZGVsZXRlLCEwKTtjYXNlImluc2VydGRlbGV0ZSI6cmV0dXJuKHQuZ3JhcGg/IldJVEggIit0aGlzLnRvRW50aXR5KHQuZ3JhcGgpK3RoaXMuX25ld2xpbmU6IiIpKyh0LmRlbGV0ZS5sZW5ndGg/IkRFTEVURSAiK3RoaXMuZ3JvdXAodC5kZWxldGUsITApK3RoaXMuX25ld2xpbmU6IiIpKyh0Lmluc2VydC5sZW5ndGg/IklOU0VSVCAiK3RoaXMuZ3JvdXAodC5pbnNlcnQsITApK3RoaXMuX25ld2xpbmU6IiIpKyh0LnVzaW5nP3RoaXMuZ3JhcGhzKCJVU0lORyAiLHQudXNpbmcuZGVmYXVsdCk6IiIpKyh0LnVzaW5nP3RoaXMuZ3JhcGhzKCJVU0lORyBOQU1FRCAiLHQudXNpbmcubmFtZWQpOiIiKSsiV0hFUkUgIit0aGlzLmdyb3VwKHQud2hlcmUsITApO2Nhc2UiYWRkIjpjYXNlImNvcHkiOmNhc2UibW92ZSI6cmV0dXJuIHQudHlwZS50b1VwcGVyQ2FzZSgpKyIgIisodC5zaWxlbnQ/IlNJTEVOVCAiOiIiKSsodC5zb3VyY2UuZGVmYXVsdD8iREVGQVVMVCI6dGhpcy50b0VudGl0eSh0LnNvdXJjZS5uYW1lKSkrIiBUTyAiK3RoaXMudG9FbnRpdHkodC5kZXN0aW5hdGlvbi5uYW1lKTtjYXNlImNyZWF0ZSI6Y2FzZSJjbGVhciI6Y2FzZSJkcm9wIjpyZXR1cm4gdC50eXBlLnRvVXBwZXJDYXNlKCkrKHQuc2lsZW50PyIgU0lMRU5UICI6IiAiKSsodC5ncmFwaC5kZWZhdWx0PyJERUZBVUxUIjp0LmdyYXBoLm5hbWVkPyJOQU1FRCI6dC5ncmFwaC5hbGw/IkFMTCI6IkdSQVBIICIrdGhpcy50b0VudGl0eSh0LmdyYXBoLm5hbWUpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biB1cGRhdGUgcXVlcnkgdHlwZTogIit0LnR5cGUpfX07R2VuZXJhdG9yJDEucHJvdG90eXBlLmluZGVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eL2dtLHRoaXMuX2luZGVudCl9O2Z1bmN0aW9uIHZhcmlhYmxlVG9TdHJpbmcodCl7cmV0dXJuIj8iK3QudmFsdWV9ZnVuY3Rpb24gaXNTdHJpbmckMSh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmcifWZ1bmN0aW9uIGlzVGVybSQxKHQpe3JldHVybiB0eXBlb2YgdC50ZXJtVHlwZT09InN0cmluZyJ9ZnVuY3Rpb24gZXF1YWxUZXJtcyh0LGUpe2lmKCF0fHwhaXNUZXJtJDEodCl8fCFlfHwhaXNUZXJtJDEoZSl8fHQudGVybVR5cGUhPT1lLnRlcm1UeXBlKXJldHVybiExO3N3aXRjaCh0LnRlcm1UeXBlKXtjYXNlIkxpdGVyYWwiOnJldHVybiB0LnZhbHVlPT09ZS52YWx1ZSYmdC5sYW5ndWFnZT09PWUubGFuZ3VhZ2UmJmVxdWFsVGVybXModC5kYXRhdHlwZSxlLmRhdGF0eXBlKTtjYXNlIlF1YWQiOnJldHVybiBlcXVhbFRlcm1zKHQuc3ViamVjdCxlLnN1YmplY3QpJiZlcXVhbFRlcm1zKHQucHJlZGljYXRlLGUucHJlZGljYXRlKSYmZXF1YWxUZXJtcyh0Lm9iamVjdCxlLm9iamVjdCkmJmVxdWFsVGVybXModC5ncmFwaCxlLmdyYXBoKTtkZWZhdWx0OnJldHVybiB0LnZhbHVlPT09ZS52YWx1ZX19ZnVuY3Rpb24gbWFwSm9pbih0LGUsbixvKXtyZXR1cm4gdC5tYXAobixvKS5qb2luKGlzU3RyaW5nJDEoZSk/ZToiICIpfXZhciBTcGFycWxHZW5lcmF0b3I9ZnVuY3Rpb24oZT17fSl7cmV0dXJue3N0cmluZ2lmeTpmdW5jdGlvbihuKXt2YXIgbz1PYmplY3QuY3JlYXRlKGUpO3JldHVybiBvLnByZWZpeGVzPW4ucHJlZml4ZXMsbmV3IEdlbmVyYXRvciQxKG8pLnRvUXVlcnkobil9LGNyZWF0ZUdlbmVyYXRvcjpmdW5jdGlvbigpe3JldHVybiBuZXcgR2VuZXJhdG9yJDEoZSl9fX0sUGFyc2VyJDE9U3BhcnFsUGFyc2VyXzEuUGFyc2VyLEdlbmVyYXRvcj1TcGFycWxHZW5lcmF0b3IsV2lsZGNhcmQ9V2lsZGNhcmQkMi5XaWxkY2FyZCx7RGF0YUZhY3Rvcnl9PXJkZkRhdGFGYWN0b3J5LHNwYXJxbCQxPXtQYXJzZXI6ZnVuY3Rpb24oe3ByZWZpeGVzOnQsYmFzZUlSSTplLGZhY3Rvcnk6bixzcGFycWxTdGFyOm8sc2tpcFZhbGlkYXRpb246ZCxza2lwVW5ncm91cGVkVmFyaWFibGVDaGVjazpoLHBhdGhPbmx5Omx9PXt9KXt2YXIgdT17fTtmb3IodmFyIHAgaW4gdHx8e30pdVtwXT10W3BdO3ZhciBnPW5ldyBQYXJzZXIkMTtyZXR1cm4gZy5wYXJzZT1mdW5jdGlvbigpe3JldHVybiBQYXJzZXIkMS5iYXNlPWV8fCIiLFBhcnNlciQxLnByZWZpeGVzPU9iamVjdC5jcmVhdGUodSksUGFyc2VyJDEuZmFjdG9yeT1ufHxuZXcgRGF0YUZhY3RvcnksUGFyc2VyJDEuc3BhcnFsU3Rhcj0hIW8sUGFyc2VyJDEucGF0aE9ubHk9ISFsLFBhcnNlciQxLnNraXBWYWxpZGF0aW9uPSEhZHx8ISFoLFBhcnNlciQxLnByb3RvdHlwZS5wYXJzZS5hcHBseShnLGFyZ3VtZW50cyl9LGcuX3Jlc2V0QmxhbmtzPVBhcnNlciQxLl9yZXNldEJsYW5rcyxnfSxHZW5lcmF0b3IsV2lsZGNhcmR9LF9fUVVBRFNUT1JFX0NPTVVOSUNBX0VYVEVSTkFMX01PRFVMRV9zcGFycWxqc19fPV9tZXJnZU5hbWVzcGFjZXMoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6c3BhcnFsJDF9LFtzcGFycWwkMV0pLF9fY3JlYXRlQmluZGluZyQyPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxuLG8pe289PT12b2lkIDAmJihvPW4pO3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTsoIWR8fCgiZ2V0ImluIGQ/IWUuX19lc01vZHVsZTpkLndyaXRhYmxlfHxkLmNvbmZpZ3VyYWJsZSkpJiYoZD17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtuXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLGQpfTpmdW5jdGlvbih0LGUsbixvKXtvPT09dm9pZCAwJiYobz1uKSx0W29dPWVbbl19KSxfX3NldE1vZHVsZURlZmF1bHQkMj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSl9OmZ1bmN0aW9uKHQsZSl7dC5kZWZhdWx0PWV9KSxfX2ltcG9ydFN0YXIkMj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIG4gaW4gdCluIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmX19jcmVhdGVCaW5kaW5nJDIoZSx0LG4pO3JldHVybiBfX3NldE1vZHVsZURlZmF1bHQkMihlLHQpLGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShmYWN0b3J5JDIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IEE9X19pbXBvcnRTdGFyJDIoYWxnZWJyYSkscmRmX2RhdGFfZmFjdG9yeV8xJDE9cmRmRGF0YUZhY3RvcnkscmRmX3N0cmluZ18xJDQ9cmRmU3RyaW5nLHNwYXJxbGpzXzEkMT1zcGFycWwkMTtjbGFzcyBGYWN0b3J5e2NvbnN0cnVjdG9yKGUpe3RoaXMuZGF0YUZhY3Rvcnk9ZXx8bmV3IHJkZl9kYXRhX2ZhY3RvcnlfMSQxLkRhdGFGYWN0b3J5LHRoaXMuc3RyaW5nVHlwZT10aGlzLmNyZWF0ZVRlcm0oImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3N0cmluZyIpfWNyZWF0ZUFsdChlLG49ITApe3JldHVybiB0aGlzLmZsYXR0ZW5NdWx0aSh7dHlwZTpBLnR5cGVzLkFMVCxpbnB1dDplfSxuKX1jcmVhdGVBc2soZSl7cmV0dXJue3R5cGU6QS50eXBlcy5BU0ssaW5wdXQ6ZX19Y3JlYXRlQm91bmRBZ2dyZWdhdGUoZSxuLG8sZCxoKXtjb25zdCBsPXRoaXMuY3JlYXRlQWdncmVnYXRlRXhwcmVzc2lvbihuLG8sZCxoKTtyZXR1cm4gbC52YXJpYWJsZT1lLGx9Y3JlYXRlQmdwKGUpe3JldHVybnt0eXBlOkEudHlwZXMuQkdQLHBhdHRlcm5zOmV9fWNyZWF0ZUNvbnN0cnVjdChlLG4pe3JldHVybnt0eXBlOkEudHlwZXMuQ09OU1RSVUNULGlucHV0OmUsdGVtcGxhdGU6bn19Y3JlYXRlRGVzY3JpYmUoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLkRFU0NSSUJFLGlucHV0OmUsdGVybXM6bn19Y3JlYXRlRGlzdGluY3QoZSl7cmV0dXJue3R5cGU6QS50eXBlcy5ESVNUSU5DVCxpbnB1dDplfX1jcmVhdGVFeHRlbmQoZSxuLG8pe3JldHVybnt0eXBlOkEudHlwZXMuRVhURU5ELGlucHV0OmUsdmFyaWFibGU6bixleHByZXNzaW9uOm99fWNyZWF0ZUZyb20oZSxuLG8pe3JldHVybnt0eXBlOkEudHlwZXMuRlJPTSxpbnB1dDplLGRlZmF1bHQ6bixuYW1lZDpvfX1jcmVhdGVGaWx0ZXIoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLkZJTFRFUixpbnB1dDplLGV4cHJlc3Npb246bn19Y3JlYXRlR3JhcGgoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLkdSQVBILGlucHV0OmUsbmFtZTpufX1jcmVhdGVHcm91cChlLG4sbyl7cmV0dXJue3R5cGU6QS50eXBlcy5HUk9VUCxpbnB1dDplLHZhcmlhYmxlczpuLGFnZ3JlZ2F0ZXM6b319Y3JlYXRlSW52KGUpe3JldHVybnt0eXBlOkEudHlwZXMuSU5WLHBhdGg6ZX19Y3JlYXRlSm9pbihlLG49ITApe3JldHVybiB0aGlzLmZsYXR0ZW5NdWx0aSh7dHlwZTpBLnR5cGVzLkpPSU4saW5wdXQ6ZX0sbil9Y3JlYXRlTGVmdEpvaW4oZSxuLG8pe3JldHVybiBvP3t0eXBlOkEudHlwZXMuTEVGVF9KT0lOLGlucHV0OltlLG5dLGV4cHJlc3Npb246b306e3R5cGU6QS50eXBlcy5MRUZUX0pPSU4saW5wdXQ6W2Usbl19fWNyZWF0ZUxpbmsoZSl7cmV0dXJue3R5cGU6QS50eXBlcy5MSU5LLGlyaTplfX1jcmVhdGVNaW51cyhlLG4pe3JldHVybnt0eXBlOkEudHlwZXMuTUlOVVMsaW5wdXQ6W2Usbl19fWNyZWF0ZU5vcCgpe3JldHVybnt0eXBlOkEudHlwZXMuTk9QfX1jcmVhdGVOcHMoZSl7cmV0dXJue3R5cGU6QS50eXBlcy5OUFMsaXJpczplfX1jcmVhdGVPbmVPck1vcmVQYXRoKGUpe3JldHVybnt0eXBlOkEudHlwZXMuT05FX09SX01PUkVfUEFUSCxwYXRoOmV9fWNyZWF0ZU9yZGVyQnkoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLk9SREVSX0JZLGlucHV0OmUsZXhwcmVzc2lvbnM6bn19Y3JlYXRlUGF0aChlLG4sbyxkKXtyZXR1cm4gZD97dHlwZTpBLnR5cGVzLlBBVEgsc3ViamVjdDplLHByZWRpY2F0ZTpuLG9iamVjdDpvLGdyYXBoOmR9Ont0eXBlOkEudHlwZXMuUEFUSCxzdWJqZWN0OmUscHJlZGljYXRlOm4sb2JqZWN0Om8sZ3JhcGg6dGhpcy5kYXRhRmFjdG9yeS5kZWZhdWx0R3JhcGgoKX19Y3JlYXRlUGF0dGVybihlLG4sbyxkKXtjb25zdCBoPXRoaXMuZGF0YUZhY3RvcnkucXVhZChlLG4sbyxkKTtyZXR1cm4gaC50eXBlPUEudHlwZXMuUEFUVEVSTixofWNyZWF0ZVByb2plY3QoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLlBST0pFQ1QsaW5wdXQ6ZSx2YXJpYWJsZXM6bn19Y3JlYXRlUmVkdWNlZChlKXtyZXR1cm57dHlwZTpBLnR5cGVzLlJFRFVDRUQsaW5wdXQ6ZX19Y3JlYXRlU2VxKGUsbj0hMCl7cmV0dXJuIHRoaXMuZmxhdHRlbk11bHRpKHt0eXBlOkEudHlwZXMuU0VRLGlucHV0OmV9LG4pfWNyZWF0ZVNlcnZpY2UoZSxuLG8pe3JldHVybnt0eXBlOkEudHlwZXMuU0VSVklDRSxpbnB1dDplLG5hbWU6bixzaWxlbnQ6ISFvfX1jcmVhdGVTbGljZShlLG4sbyl7cmV0dXJuIG49bnx8MCxvIT09dm9pZCAwP3t0eXBlOkEudHlwZXMuU0xJQ0UsaW5wdXQ6ZSxzdGFydDpuLGxlbmd0aDpvfTp7dHlwZTpBLnR5cGVzLlNMSUNFLGlucHV0OmUsc3RhcnQ6bn19Y3JlYXRlVW5pb24oZSxuPSEwKXtyZXR1cm4gdGhpcy5mbGF0dGVuTXVsdGkoe3R5cGU6QS50eXBlcy5VTklPTixpbnB1dDplfSxuKX1jcmVhdGVWYWx1ZXMoZSxuKXtyZXR1cm57dHlwZTpBLnR5cGVzLlZBTFVFUyx2YXJpYWJsZXM6ZSxiaW5kaW5nczpufX1jcmVhdGVaZXJvT3JNb3JlUGF0aChlKXtyZXR1cm57dHlwZTpBLnR5cGVzLlpFUk9fT1JfTU9SRV9QQVRILHBhdGg6ZX19Y3JlYXRlWmVyb09yT25lUGF0aChlKXtyZXR1cm57dHlwZTpBLnR5cGVzLlpFUk9fT1JfT05FX1BBVEgscGF0aDplfX1jcmVhdGVBZ2dyZWdhdGVFeHByZXNzaW9uKGUsbixvLGQpe3JldHVybiBkP3t0eXBlOkEudHlwZXMuRVhQUkVTU0lPTixleHByZXNzaW9uVHlwZTpBLmV4cHJlc3Npb25UeXBlcy5BR0dSRUdBVEUsYWdncmVnYXRvcjplLGV4cHJlc3Npb246bixzZXBhcmF0b3I6ZCxkaXN0aW5jdDpvfTp7dHlwZTpBLnR5cGVzLkVYUFJFU1NJT04sZXhwcmVzc2lvblR5cGU6QS5leHByZXNzaW9uVHlwZXMuQUdHUkVHQVRFLGFnZ3JlZ2F0b3I6ZSxleHByZXNzaW9uOm4sZGlzdGluY3Q6b319Y3JlYXRlRXhpc3RlbmNlRXhwcmVzc2lvbihlLG4pe3JldHVybnt0eXBlOkEudHlwZXMuRVhQUkVTU0lPTixleHByZXNzaW9uVHlwZTpBLmV4cHJlc3Npb25UeXBlcy5FWElTVEVOQ0Usbm90OmUsaW5wdXQ6bn19Y3JlYXRlTmFtZWRFeHByZXNzaW9uKGUsbil7cmV0dXJue3R5cGU6QS50eXBlcy5FWFBSRVNTSU9OLGV4cHJlc3Npb25UeXBlOkEuZXhwcmVzc2lvblR5cGVzLk5BTUVELG5hbWU6ZSxhcmdzOm59fWNyZWF0ZU9wZXJhdG9yRXhwcmVzc2lvbihlLG4pe3JldHVybnt0eXBlOkEudHlwZXMuRVhQUkVTU0lPTixleHByZXNzaW9uVHlwZTpBLmV4cHJlc3Npb25UeXBlcy5PUEVSQVRPUixvcGVyYXRvcjplLGFyZ3M6bn19Y3JlYXRlVGVybUV4cHJlc3Npb24oZSl7cmV0dXJue3R5cGU6QS50eXBlcy5FWFBSRVNTSU9OLGV4cHJlc3Npb25UeXBlOkEuZXhwcmVzc2lvblR5cGVzLlRFUk0sdGVybTplfX1jcmVhdGVXaWxkY2FyZEV4cHJlc3Npb24oKXtyZXR1cm57dHlwZTpBLnR5cGVzLkVYUFJFU1NJT04sZXhwcmVzc2lvblR5cGU6QS5leHByZXNzaW9uVHlwZXMuV0lMRENBUkQsd2lsZGNhcmQ6bmV3IHNwYXJxbGpzXzEkMS5XaWxkY2FyZH19Y3JlYXRlVGVybShlKXtyZXR1cm4oMCxyZGZfc3RyaW5nXzEkNC5zdHJpbmdUb1Rlcm0pKGUsdGhpcy5kYXRhRmFjdG9yeSl9Y3JlYXRlQ29tcG9zaXRlVXBkYXRlKGUpe3JldHVybnt0eXBlOkEudHlwZXMuQ09NUE9TSVRFX1VQREFURSx1cGRhdGVzOmV9fWNyZWF0ZURlbGV0ZUluc2VydChlLG4sbyl7Y29uc3QgZD17dHlwZTpBLnR5cGVzLkRFTEVURV9JTlNFUlR9O3JldHVybiBlJiYoZC5kZWxldGU9ZSksbiYmKGQuaW5zZXJ0PW4pLG8mJihkLndoZXJlPW8pLGR9Y3JlYXRlTG9hZChlLG4sbyl7Y29uc3QgZD17dHlwZTpBLnR5cGVzLkxPQUQsc291cmNlOmV9O3JldHVybiBuJiYoZC5kZXN0aW5hdGlvbj1uKSx0aGlzLmFkZFNpbGVudChkLCEhbyl9Y3JlYXRlQ2xlYXIoZSxuKXtyZXR1cm4gdGhpcy5hZGRTaWxlbnQoe3R5cGU6QS50eXBlcy5DTEVBUixzb3VyY2U6ZX0sISFuKX1jcmVhdGVDcmVhdGUoZSxuKXtyZXR1cm4gdGhpcy5hZGRTaWxlbnQoe3R5cGU6QS50eXBlcy5DUkVBVEUsc291cmNlOmV9LCEhbil9Y3JlYXRlRHJvcChlLG4pe3JldHVybiB0aGlzLmFkZFNpbGVudCh7dHlwZTpBLnR5cGVzLkRST1Asc291cmNlOmV9LCEhbil9Y3JlYXRlQWRkKGUsbixvKXtyZXR1cm4gdGhpcy5hZGRTaWxlbnQoe3R5cGU6QS50eXBlcy5BREQsc291cmNlOmUsZGVzdGluYXRpb246bn0sISFvKX1jcmVhdGVNb3ZlKGUsbixvKXtyZXR1cm4gdGhpcy5hZGRTaWxlbnQoe3R5cGU6QS50eXBlcy5NT1ZFLHNvdXJjZTplLGRlc3RpbmF0aW9uOm59LCEhbyl9Y3JlYXRlQ29weShlLG4sbyl7cmV0dXJuIHRoaXMuYWRkU2lsZW50KHt0eXBlOkEudHlwZXMuQ09QWSxzb3VyY2U6ZSxkZXN0aW5hdGlvbjpufSwhIW8pfWFkZFNpbGVudChlLG4pe3JldHVybiBuJiYoZS5zaWxlbnQ9biksZX1mbGF0dGVuTXVsdGkoZSxuKXtpZighbilyZXR1cm4gZTtjb25zdCBvPWUudHlwZSxkPWUuaW5wdXQ7bGV0IGg9W107Zm9yKGNvbnN0IGwgb2YgZClsLnR5cGU9PT1vP2gucHVzaCguLi5sLmlucHV0KTpoLnB1c2gobCk7cmV0dXJuIGUuaW5wdXQ9aCxlfX1mYWN0b3J5JDIuZGVmYXVsdD1GYWN0b3J5O3ZhciB1dGlsPXt9LF9faW1wb3J0RGVmYXVsdCQyPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHV0aWwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IGFsZ2VicmFfMT1hbGdlYnJhLGZhY3RvcnlfMSQyPV9faW1wb3J0RGVmYXVsdCQyKGZhY3RvcnkkMik7Y2xhc3MgVXRpbHtzdGF0aWMgZmxhdHRlbihlKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdCguLi5lKS5maWx0ZXIobj0+bil9c3RhdGljIG9iamVjdGlmeShlKXtpZihlLnRlcm1UeXBlKXtpZihlLnRlcm1UeXBlPT09IlF1YWQiKXJldHVybnt0eXBlOiJwYXR0ZXJuIix0ZXJtVHlwZToiUXVhZCIsc3ViamVjdDpVdGlsLm9iamVjdGlmeShlLnN1YmplY3QpLHByZWRpY2F0ZTpVdGlsLm9iamVjdGlmeShlLnByZWRpY2F0ZSksb2JqZWN0OlV0aWwub2JqZWN0aWZ5KGUub2JqZWN0KSxncmFwaDpVdGlsLm9iamVjdGlmeShlLmdyYXBoKX07e2xldCBuPXt0ZXJtVHlwZTplLnRlcm1UeXBlLHZhbHVlOmUudmFsdWV9O3JldHVybiBlLmxhbmd1YWdlJiYobi5sYW5ndWFnZT1lLmxhbmd1YWdlKSxlLmRhdGF0eXBlJiYobi5kYXRhdHlwZT1VdGlsLm9iamVjdGlmeShlLmRhdGF0eXBlKSksbn19aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAobj0+VXRpbC5vYmplY3RpZnkobikpO2lmKGU9PT1PYmplY3QoZSkpe2xldCBuPXt9O2ZvcihsZXQgbyBvZiBPYmplY3Qua2V5cyhlKSluW29dPVV0aWwub2JqZWN0aWZ5KGVbb10pO3JldHVybiBufXJldHVybiBlfXN0YXRpYyBpblNjb3BlVmFyaWFibGVzKGUpe2NvbnN0IG49W107ZnVuY3Rpb24gbyhoKXtuLmZpbmQobD0+aC52YWx1ZT09PWwudmFsdWUpfHxuLnB1c2goaCl9ZnVuY3Rpb24gZChoKXtoLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiZvKGguc3ViamVjdCksaC5wcmVkaWNhdGUudGVybVR5cGU9PT0iVmFyaWFibGUiJiZvKGgucHJlZGljYXRlKSxoLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJm8oaC5vYmplY3QpLGguZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiJiZvKGguZ3JhcGgpLGguc3ViamVjdC50ZXJtVHlwZT09PSJRdWFkIiYmZChoLnN1YmplY3QpLGgucHJlZGljYXRlLnRlcm1UeXBlPT09IlF1YWQiJiZkKGgucHJlZGljYXRlKSxoLm9iamVjdC50ZXJtVHlwZT09PSJRdWFkIiYmZChoLm9iamVjdCksaC5ncmFwaC50ZXJtVHlwZT09PSJRdWFkIiYmZChoLmdyYXBoKX1yZXR1cm4gVXRpbC5yZWN1cnNlT3BlcmF0aW9uKGUse1thbGdlYnJhXzEudHlwZXMuRVhQUkVTU0lPTl06aD0+KGguZXhwcmVzc2lvblR5cGU9PT1hbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLkFHR1JFR0FURSYmaC52YXJpYWJsZSYmbyhoLnZhcmlhYmxlKSwhMCksW2FsZ2VicmFfMS50eXBlcy5FWFRFTkRdOmg9PihvKGgudmFyaWFibGUpLCEwKSxbYWxnZWJyYV8xLnR5cGVzLkdSQVBIXTpoPT4oaC5uYW1lLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmbyhoLm5hbWUpLCEwKSxbYWxnZWJyYV8xLnR5cGVzLkdST1VQXTpoPT4oaC52YXJpYWJsZXMuZm9yRWFjaChvKSwhMCksW2FsZ2VicmFfMS50eXBlcy5QQVRIXTpoPT4oaC5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmbyhoLnN1YmplY3QpLGgub2JqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmbyhoLm9iamVjdCksaC5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJm8oaC5ncmFwaCksaC5zdWJqZWN0LnRlcm1UeXBlPT09IlF1YWQiJiZkKGguc3ViamVjdCksaC5vYmplY3QudGVybVR5cGU9PT0iUXVhZCImJmQoaC5vYmplY3QpLGguZ3JhcGgudGVybVR5cGU9PT0iUXVhZCImJmQoaC5ncmFwaCksITApLFthbGdlYnJhXzEudHlwZXMuUEFUVEVSTl06aD0+KGQoaCksITApLFthbGdlYnJhXzEudHlwZXMuUFJPSkVDVF06aD0+KGgudmFyaWFibGVzLmZvckVhY2gobyksITEpLFthbGdlYnJhXzEudHlwZXMuU0VSVklDRV06aD0+KGgubmFtZS50ZXJtVHlwZT09PSJWYXJpYWJsZSImJm8oaC5uYW1lKSwhMCksW2FsZ2VicmFfMS50eXBlcy5WQUxVRVNdOmg9PihoLnZhcmlhYmxlcy5mb3JFYWNoKG8pLCEwKX0pLG59c3RhdGljIHJlY3Vyc2VPcGVyYXRpb24oZSxuKXtsZXQgbz1lLGQ9ITA7Y29uc3QgaD1uW2UudHlwZV07aWYoaCYmKGQ9aChlKSksIWQpcmV0dXJuO2xldCBsPXU9PlV0aWwucmVjdXJzZU9wZXJhdGlvbih1LG4pO3N3aXRjaChvLnR5cGUpe2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkFMVDpvLmlucHV0Lm1hcChsKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5BU0s6bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5CR1A6by5wYXR0ZXJucy5mb3JFYWNoKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkNPTlNUUlVDVDpsKG8uaW5wdXQpLG8udGVtcGxhdGUubWFwKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkRFU0NSSUJFOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRElTVElOQ1Q6bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5FWFBSRVNTSU9OOm8uZXhwcmVzc2lvblR5cGU9PT1hbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLkVYSVNURU5DRSYmbChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5FWFRFTkQ6bChvLmlucHV0KSxsKG8uZXhwcmVzc2lvbik7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRklMVEVSOmwoby5pbnB1dCksbChvLmV4cHJlc3Npb24pO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkZST006bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5HUkFQSDpsKG8uaW5wdXQpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkdST1VQOmwoby5pbnB1dCksby5hZ2dyZWdhdGVzLmZvckVhY2gobCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuSU5WOmwoby5wYXRoKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5KT0lOOm8uaW5wdXQubWFwKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkxFRlRfSk9JTjpvLmlucHV0Lm1hcChsKSxvLmV4cHJlc3Npb24mJmwoby5leHByZXNzaW9uKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5MSU5LOmJyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk1JTlVTOm8uaW5wdXQubWFwKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk5PUDpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5OUFM6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuT05FX09SX01PUkVfUEFUSDpsKG8ucGF0aCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuT1JERVJfQlk6bChvLmlucHV0KSxvLmV4cHJlc3Npb25zLmZvckVhY2gobCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuUEFUSDpsKG8ucHJlZGljYXRlKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5QQVRURVJOOmJyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlBST0pFQ1Q6bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5SRURVQ0VEOmwoby5pbnB1dCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuU0VROm8uaW5wdXQubWFwKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlNFUlZJQ0U6bChvLmlucHV0KTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5TTElDRTpsKG8uaW5wdXQpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlVOSU9OOm8uaW5wdXQubWFwKGwpO2JyZWFrO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlZBTFVFUzpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5aRVJPX09SX01PUkVfUEFUSDpsKG8ucGF0aCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuWkVST19PUl9PTkVfUEFUSDpsKG8ucGF0aCk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQ09NUE9TSVRFX1VQREFURTpvLnVwZGF0ZXMuZm9yRWFjaCh1PT5sKHUpKTticmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5ERUxFVEVfSU5TRVJUOm8uZGVsZXRlJiZvLmRlbGV0ZS5mb3JFYWNoKHU9PmwodSkpLG8uaW5zZXJ0JiZvLmluc2VydC5mb3JFYWNoKHU9PmwodSkpLG8ud2hlcmUmJmwoby53aGVyZSk7YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTE9BRDpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5DTEVBUjpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5DUkVBVEU6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRFJPUDpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5BREQ6YnJlYWs7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTU9WRTpicmVhaztjYXNlIGFsZ2VicmFfMS50eXBlcy5DT1BZOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIE9wZXJhdGlvbiB0eXBlICR7by50eXBlfWApfX1zdGF0aWMgbWFwT3BlcmF0aW9uKGUsbixvKXtsZXQgZD1lLGg9ITA7bz1vfHxuZXcgZmFjdG9yeV8xJDIuZGVmYXVsdDtjb25zdCBsPW5bZS50eXBlXTtpZihsJiYoe3Jlc3VsdDpkLHJlY3Vyc2U6aH09bChlLG8pKSwhaClyZXR1cm4gZDtsZXQgdT1wPT5VdGlsLm1hcE9wZXJhdGlvbihwLG4sbyk7c3dpdGNoKGQudHlwZSl7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQUxUOnJldHVybiBvLmNyZWF0ZUFsdChkLmlucHV0Lm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuQVNLOnJldHVybiBvLmNyZWF0ZUFzayh1KGQuaW5wdXQpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5CR1A6cmV0dXJuIG8uY3JlYXRlQmdwKGQucGF0dGVybnMubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5DT05TVFJVQ1Q6cmV0dXJuIG8uY3JlYXRlQ29uc3RydWN0KHUoZC5pbnB1dCksZC50ZW1wbGF0ZS5tYXAodSkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkRFU0NSSUJFOnJldHVybiBvLmNyZWF0ZURlc2NyaWJlKHUoZC5pbnB1dCksZC50ZXJtcyk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRElTVElOQ1Q6cmV0dXJuIG8uY3JlYXRlRGlzdGluY3QodShkLmlucHV0KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuRVhQUkVTU0lPTjpyZXR1cm4gVXRpbC5tYXBFeHByZXNzaW9uKGQsbixvKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5FWFRFTkQ6cmV0dXJuIG8uY3JlYXRlRXh0ZW5kKHUoZC5pbnB1dCksZC52YXJpYWJsZSx1KGQuZXhwcmVzc2lvbikpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkZJTFRFUjpyZXR1cm4gby5jcmVhdGVGaWx0ZXIodShkLmlucHV0KSx1KGQuZXhwcmVzc2lvbikpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkZST006cmV0dXJuIG8uY3JlYXRlRnJvbSh1KGQuaW5wdXQpLFsuLi5kLmRlZmF1bHRdLFsuLi5kLm5hbWVkXSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuR1JBUEg6cmV0dXJuIG8uY3JlYXRlR3JhcGgodShkLmlucHV0KSxkLm5hbWUpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkdST1VQOnJldHVybiBvLmNyZWF0ZUdyb3VwKHUoZC5pbnB1dCksW10uY29uY2F0KGQudmFyaWFibGVzKSxkLmFnZ3JlZ2F0ZXMubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5JTlY6cmV0dXJuIG8uY3JlYXRlSW52KHUoZC5wYXRoKSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuSk9JTjpyZXR1cm4gby5jcmVhdGVKb2luKGQuaW5wdXQubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5MRUZUX0pPSU46cmV0dXJuIG8uY3JlYXRlTGVmdEpvaW4odShkLmlucHV0WzBdKSx1KGQuaW5wdXRbMV0pLGQuZXhwcmVzc2lvbj91KGQuZXhwcmVzc2lvbik6dm9pZCAwKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5MSU5LOnJldHVybiBvLmNyZWF0ZUxpbmsoZC5pcmkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk1JTlVTOnJldHVybiBvLmNyZWF0ZU1pbnVzKHUoZC5pbnB1dFswXSksdShkLmlucHV0WzFdKSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTk9QOnJldHVybiBvLmNyZWF0ZU5vcCgpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk5QUzpyZXR1cm4gby5jcmVhdGVOcHMoW10uY29uY2F0KGQuaXJpcykpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk9ORV9PUl9NT1JFX1BBVEg6cmV0dXJuIG8uY3JlYXRlT25lT3JNb3JlUGF0aCh1KGQucGF0aCkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLk9SREVSX0JZOnJldHVybiBvLmNyZWF0ZU9yZGVyQnkodShkLmlucHV0KSxkLmV4cHJlc3Npb25zLm1hcCh1KSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuUEFUSDpyZXR1cm4gby5jcmVhdGVQYXRoKGQuc3ViamVjdCx1KGQucHJlZGljYXRlKSxkLm9iamVjdCxkLmdyYXBoKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5QQVRURVJOOnJldHVybiBvLmNyZWF0ZVBhdHRlcm4oZC5zdWJqZWN0LGQucHJlZGljYXRlLGQub2JqZWN0LGQuZ3JhcGgpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlBST0pFQ1Q6cmV0dXJuIG8uY3JlYXRlUHJvamVjdCh1KGQuaW5wdXQpLFsuLi5kLnZhcmlhYmxlc10pO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlJFRFVDRUQ6cmV0dXJuIG8uY3JlYXRlUmVkdWNlZCh1KGQuaW5wdXQpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5TRVE6cmV0dXJuIG8uY3JlYXRlU2VxKGQuaW5wdXQubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5TRVJWSUNFOnJldHVybiBvLmNyZWF0ZVNlcnZpY2UodShkLmlucHV0KSxkLm5hbWUsZC5zaWxlbnQpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlNMSUNFOnJldHVybiBvLmNyZWF0ZVNsaWNlKHUoZC5pbnB1dCksZC5zdGFydCxkLmxlbmd0aCk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuVU5JT046cmV0dXJuIG8uY3JlYXRlVW5pb24oZC5pbnB1dC5tYXAodSkpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLlZBTFVFUzpyZXR1cm4gby5jcmVhdGVWYWx1ZXMoW10uY29uY2F0KGQudmFyaWFibGVzKSxkLmJpbmRpbmdzLm1hcChwPT5PYmplY3QuYXNzaWduKHt9LHApKSk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuWkVST19PUl9NT1JFX1BBVEg6cmV0dXJuIG8uY3JlYXRlWmVyb09yTW9yZVBhdGgodShkLnBhdGgpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5aRVJPX09SX09ORV9QQVRIOnJldHVybiBvLmNyZWF0ZVplcm9Pck9uZVBhdGgodShkLnBhdGgpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5DT01QT1NJVEVfVVBEQVRFOnJldHVybiBvLmNyZWF0ZUNvbXBvc2l0ZVVwZGF0ZShkLnVwZGF0ZXMubWFwKHUpKTtjYXNlIGFsZ2VicmFfMS50eXBlcy5ERUxFVEVfSU5TRVJUOnJldHVybiBvLmNyZWF0ZURlbGV0ZUluc2VydChkLmRlbGV0ZT9kLmRlbGV0ZS5tYXAodSk6dm9pZCAwLGQuaW5zZXJ0P2QuaW5zZXJ0Lm1hcCh1KTp2b2lkIDAsZC53aGVyZT91KGQud2hlcmUpOnZvaWQgMCk7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTE9BRDpyZXR1cm4gby5jcmVhdGVMb2FkKGQuc291cmNlLGQuZGVzdGluYXRpb24sZC5zaWxlbnQpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkNMRUFSOnJldHVybiBvLmNyZWF0ZUNsZWFyKGQuc291cmNlLGQuc2lsZW50KTtjYXNlIGFsZ2VicmFfMS50eXBlcy5DUkVBVEU6cmV0dXJuIG8uY3JlYXRlQ3JlYXRlKGQuc291cmNlLGQuc2lsZW50KTtjYXNlIGFsZ2VicmFfMS50eXBlcy5EUk9QOnJldHVybiBvLmNyZWF0ZURyb3AoZC5zb3VyY2UsZC5zaWxlbnQpO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkFERDpyZXR1cm4gby5jcmVhdGVBZGQoZC5zb3VyY2UsZC5kZXN0aW5hdGlvbik7Y2FzZSBhbGdlYnJhXzEudHlwZXMuTU9WRTpyZXR1cm4gby5jcmVhdGVNb3ZlKGQuc291cmNlLGQuZGVzdGluYXRpb24pO2Nhc2UgYWxnZWJyYV8xLnR5cGVzLkNPUFk6cmV0dXJuIG8uY3JlYXRlQ29weShkLnNvdXJjZSxkLmRlc3RpbmF0aW9uKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBPcGVyYXRpb24gdHlwZSAke2QudHlwZX1gKX19c3RhdGljIG1hcEV4cHJlc3Npb24oZSxuLG8pe2xldCBkPWg9PlV0aWwubWFwT3BlcmF0aW9uKGgsbixvKTtzd2l0Y2goZS5leHByZXNzaW9uVHlwZSl7Y2FzZSBhbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLkFHR1JFR0FURTpyZXR1cm4gZS52YXJpYWJsZT9vLmNyZWF0ZUJvdW5kQWdncmVnYXRlKGUudmFyaWFibGUsZS5hZ2dyZWdhdG9yLGQoZS5leHByZXNzaW9uKSxlLmRpc3RpbmN0LGUuc2VwYXJhdG9yKTpvLmNyZWF0ZUFnZ3JlZ2F0ZUV4cHJlc3Npb24oZS5hZ2dyZWdhdG9yLGQoZS5leHByZXNzaW9uKSxlLmRpc3RpbmN0LGUuc2VwYXJhdG9yKTtjYXNlIGFsZ2VicmFfMS5leHByZXNzaW9uVHlwZXMuRVhJU1RFTkNFOnJldHVybiBvLmNyZWF0ZUV4aXN0ZW5jZUV4cHJlc3Npb24oZS5ub3QsZChlLmlucHV0KSk7Y2FzZSBhbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLk5BTUVEOnJldHVybiBvLmNyZWF0ZU5hbWVkRXhwcmVzc2lvbihlLm5hbWUsZS5hcmdzLm1hcChkKSk7Y2FzZSBhbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLk9QRVJBVE9SOnJldHVybiBvLmNyZWF0ZU9wZXJhdG9yRXhwcmVzc2lvbihlLm9wZXJhdG9yLGUuYXJncy5tYXAoZCkpO2Nhc2UgYWxnZWJyYV8xLmV4cHJlc3Npb25UeXBlcy5URVJNOnJldHVybiBvLmNyZWF0ZVRlcm1FeHByZXNzaW9uKGUudGVybSk7Y2FzZSBhbGdlYnJhXzEuZXhwcmVzc2lvblR5cGVzLldJTERDQVJEOnJldHVybiBvLmNyZWF0ZVdpbGRjYXJkRXhwcmVzc2lvbigpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIEV4cHJlc3Npb24gdHlwZSAke2UuZXhwcmVzc2lvblR5cGV9YCl9fXN0YXRpYyBjcmVhdGVVbmlxdWVWYXJpYWJsZShlLG4sbyl7bGV0IGQ9MCxoPWU7Zm9yKDtuW2hdOyloPWAke2V9JHtkKyt9YDtyZXR1cm4gby52YXJpYWJsZShoKX1zdGF0aWMgaXNTaW1wbGVUZXJtKGUpe3JldHVybiBlLnRlcm1UeXBlIT09dm9pZCAwJiZlLnRlcm1UeXBlIT09IlF1YWQiJiZlLnRlcm1UeXBlIT09IldpbGRjYXJkIn1zdGF0aWMgaXNRdWFkKGUpe3JldHVybiBlLnRlcm1UeXBlPT09IlF1YWQifXN0YXRpYyBpc1dpbGRjYXJkKGUpe3JldHVybiBlLnRlcm1UeXBlPT09IldpbGRjYXJkIn19dXRpbC5kZWZhdWx0PVV0aWw7dmFyIF9fY3JlYXRlQmluZGluZyQxPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxuLG8pe289PT12b2lkIDAmJihvPW4pO3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTsoIWR8fCgiZ2V0ImluIGQ/IWUuX19lc01vZHVsZTpkLndyaXRhYmxlfHxkLmNvbmZpZ3VyYWJsZSkpJiYoZD17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtuXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLGQpfTpmdW5jdGlvbih0LGUsbixvKXtvPT09dm9pZCAwJiYobz1uKSx0W29dPWVbbl19KSxfX3NldE1vZHVsZURlZmF1bHQkMT1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19zZXRNb2R1bGVEZWZhdWx0fHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJkZWZhdWx0Iix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSl9OmZ1bmN0aW9uKHQsZSl7dC5kZWZhdWx0PWV9KSxfX2ltcG9ydFN0YXIkMT1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih0KXtpZih0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIGU9e307aWYodCE9bnVsbClmb3IodmFyIG4gaW4gdCluIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmX19jcmVhdGVCaW5kaW5nJDEoZSx0LG4pO3JldHVybiBfX3NldE1vZHVsZURlZmF1bHQkMShlLHQpLGV9LF9faW1wb3J0RGVmYXVsdCQxPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGU/dDp7ZGVmYXVsdDp0fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHNwYXJxbEFsZ2VicmEsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO2NvbnN0IGVxdWFsPWVzNixyZGZfc3RyaW5nXzEkMz1yZGZTdHJpbmcsQWxnZWJyYSQxPV9faW1wb3J0U3RhciQxKGFsZ2VicmEpLGZhY3RvcnlfMSQxPV9faW1wb3J0RGVmYXVsdCQxKGZhY3RvcnkkMiksdXRpbF8xJDE9X19pbXBvcnREZWZhdWx0JDEodXRpbCksUGFyc2VyPXNwYXJxbCQxLlBhcnNlcix0eXBlcyQxPUFsZ2VicmEkMS50eXBlcztsZXQgdmFyaWFibGVzPW5ldyBTZXQsdmFyQ291bnQ9MCx1c2VRdWFkcz0hMSxmYWN0b3J5JDE7ZnVuY3Rpb24gdHJhbnNsYXRlJDEodCxlKXtlPWV8fHt9LGZhY3RvcnkkMT1uZXcgZmFjdG9yeV8xJDEuZGVmYXVsdChlLmRhdGFGYWN0b3J5KTtsZXQgbjtpZihpc1N0cmluZyh0KSl7bGV0IG89bmV3IFBhcnNlcihlKTtvLl9yZXNldEJsYW5rcygpLG49by5wYXJzZSh0KX1lbHNlIG49dDtyZXR1cm4gdHJhbnNsYXRlUXVlcnkobixlLnF1YWRzLGUuYmxhbmtUb1ZhcmlhYmxlKX1zcGFycWxBbGdlYnJhLmRlZmF1bHQ9dHJhbnNsYXRlJDE7ZnVuY3Rpb24gdHJhbnNsYXRlUXVlcnkodCxlLG4pe2lmKHZhcmlhYmxlcz1uZXcgU2V0LHZhckNvdW50PTAsdXNlUXVhZHM9ISFlLCF0LnR5cGUpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVOb3AoKTtpZih0LnR5cGUhPT0icXVlcnkiJiZ0LnR5cGUhPT0idXBkYXRlIil0aHJvdyBuZXcgRXJyb3IoIlRyYW5zbGF0ZSBvbmx5IHdvcmtzIG9uIGNvbXBsZXRlIHF1ZXJ5IG9yIHVwZGF0ZSBvYmplY3RzLiIpO2xldCBvO2lmKGZpbmRBbGxWYXJpYWJsZXModCksdC50eXBlPT09InF1ZXJ5Iil7Y29uc3QgZD17dHlwZToiZ3JvdXAiLHBhdHRlcm5zOnQud2hlcmV8fFtdfTtvPXRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKGQpLG89dHJhbnNsYXRlQWdncmVnYXRlcyh0LG8pfWVsc2UgdC50eXBlPT09InVwZGF0ZSImJihvPXRyYW5zbGF0ZVVwZGF0ZSh0KSk7cmV0dXJuIG4mJihvPXRyYW5zbGF0ZUJsYW5rTm9kZXNUb1ZhcmlhYmxlcyhvKSksb31mdW5jdGlvbiBpc1N0cmluZyh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmcifWZ1bmN0aW9uIGlzVGVybSh0KXtyZXR1cm4hIXQ/LnRlcm1UeXBlfWZ1bmN0aW9uIGlzVHJpcGxlKHQpe3JldHVybiB0LnN1YmplY3QmJnQucHJlZGljYXRlJiZ0Lm9iamVjdH1mdW5jdGlvbiBpc1ZhcmlhYmxlKHQpe3JldHVybiB0Py50ZXJtVHlwZT09PSJWYXJpYWJsZSJ9ZnVuY3Rpb24gZmluZEFsbFZhcmlhYmxlcyh0KXtpZihpc1Rlcm0odCkpaXNWYXJpYWJsZSh0KSYmdmFyaWFibGVzLmFkZChgPyR7dC52YWx1ZX1gKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkpZm9yKGNvbnN0IGUgb2YgdClmaW5kQWxsVmFyaWFibGVzKGUpO2Vsc2UgaWYodCYmdHlwZW9mIHQ9PSJvYmplY3QiKWZvcihsZXQgZSBvZiBPYmplY3Qua2V5cyh0KSllLnN0YXJ0c1dpdGgoIj8iKSYmdmFyaWFibGVzLmFkZChlKSxmaW5kQWxsVmFyaWFibGVzKHRbZV0pfWZ1bmN0aW9uIGluU2NvcGVWYXJpYWJsZXModCl7bGV0IGU9e307aWYoaXNUcmlwbGUodCkpe2NvbnN0IG49W2luU2NvcGVWYXJpYWJsZXModC5zdWJqZWN0KSxpblNjb3BlVmFyaWFibGVzKHQucHJlZGljYXRlKSxpblNjb3BlVmFyaWFibGVzKHQub2JqZWN0KSx0LmdyYXBoP2luU2NvcGVWYXJpYWJsZXModC5ncmFwaCk6e31dO09iamVjdC5hc3NpZ24oZSwuLi5uKX1lbHNlIGlmKGlzVGVybSh0KSlpc1ZhcmlhYmxlKHQpJiYoZVt0LnZhbHVlXT10KTtlbHNlIGlmKHQudHlwZT09PSJiZ3AiKXtjb25zdCBuPXQudHJpcGxlcztPYmplY3QuYXNzaWduKGUsLi4ubi5tYXAoaW5TY29wZVZhcmlhYmxlcykpfWVsc2UgaWYodC50eXBlPT09InBhdGgiKU9iamVjdC5hc3NpZ24oZSwuLi50Lml0ZW1zLm1hcChpblNjb3BlVmFyaWFibGVzKSk7ZWxzZSBpZih0LnR5cGU9PT0iZ3JvdXAifHx0LnR5cGU9PT0idW5pb24ifHx0LnR5cGU9PT0ib3B0aW9uYWwiKU9iamVjdC5hc3NpZ24oZSwuLi50LnBhdHRlcm5zLm1hcChpblNjb3BlVmFyaWFibGVzKSk7ZWxzZSBpZih0LnR5cGU9PT0ic2VydmljZSJ8fHQudHlwZT09PSJncmFwaCIpT2JqZWN0LmFzc2lnbihlLGluU2NvcGVWYXJpYWJsZXModC5uYW1lKSksT2JqZWN0LmFzc2lnbihlLC4uLnQucGF0dGVybnMubWFwKGluU2NvcGVWYXJpYWJsZXMpKTtlbHNlIGlmKHQudHlwZT09PSJiaW5kIilPYmplY3QuYXNzaWduKGUsaW5TY29wZVZhcmlhYmxlcyh0LnZhcmlhYmxlKSk7ZWxzZSBpZih0LnR5cGU9PT0idmFsdWVzIil7aWYodC52YWx1ZXMubGVuZ3RoPjApe2NvbnN0IG49T2JqZWN0LmtleXModC52YWx1ZXNbMF0pLm1hcChvPT5mYWN0b3J5JDEuY3JlYXRlVGVybShvKSk7T2JqZWN0LmFzc2lnbihlLC4uLm4ubWFwKGluU2NvcGVWYXJpYWJsZXMpKX19ZWxzZSBpZih0LnR5cGU9PT0icXVlcnkiJiYodC5xdWVyeVR5cGU9PT0iU0VMRUNUInx8dC5xdWVyeVR5cGU9PT0iREVTQ1JJQkUiKSl7dC53aGVyZSYmdC52YXJpYWJsZXMuc29tZSh1dGlsXzEkMS5kZWZhdWx0LmlzV2lsZGNhcmQpJiZPYmplY3QuYXNzaWduKGUsLi4udC53aGVyZS5tYXAoaW5TY29wZVZhcmlhYmxlcykpO2Zvcihjb25zdCBuIG9mIHQudmFyaWFibGVzKWlzVmFyaWFibGUobik/T2JqZWN0LmFzc2lnbihlLGluU2NvcGVWYXJpYWJsZXMobikpOm4udmFyaWFibGUmJk9iamVjdC5hc3NpZ24oZSxpblNjb3BlVmFyaWFibGVzKG4udmFyaWFibGUpKTtpZih0LnF1ZXJ5VHlwZT09PSJTRUxFQ1QiKXtpZih0Lmdyb3VwKWZvcihjb25zdCBuIG9mIHQuZ3JvdXApbi52YXJpYWJsZSYmT2JqZWN0LmFzc2lnbihlLGluU2NvcGVWYXJpYWJsZXMobi52YXJpYWJsZSkpO2lmKHQudmFsdWVzKXtjb25zdCBuPXt0eXBlOiJ2YWx1ZXMiLHZhbHVlczp0LnZhbHVlc307T2JqZWN0LmFzc2lnbihlLGluU2NvcGVWYXJpYWJsZXMobikpfX19cmV0dXJuIGV9ZnVuY3Rpb24gdHJhbnNsYXRlR3JvdXBHcmFwaFBhdHRlcm4odCl7bGV0IGU9W10sbj1bXTtpZigicGF0dGVybnMiaW4gdClmb3IobGV0IGQgb2YgdC5wYXR0ZXJucykoZC50eXBlPT09ImZpbHRlciI/ZTpuKS5wdXNoKGQpO2lmKHQudHlwZT09PSJiZ3AiKXJldHVybiB0cmFuc2xhdGVCZ3AkMSh0KTtsZXQgbztpZih0LnR5cGU9PT0idW5pb24iKW89ZmFjdG9yeSQxLmNyZWF0ZVVuaW9uKG4ubWFwKGQ9PihkLnR5cGUhPT0iZ3JvdXAiJiYoZD17dHlwZToiZ3JvdXAiLHBhdHRlcm5zOltkXX0pLHRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKGQpKSkpO2Vsc2V7aWYodC50eXBlPT09ImdyYXBoIilyZXR1cm4gdHJhbnNsYXRlR3JhcGgkMSh0KTtpZih0LnR5cGU9PT0iZ3JvdXAiKW89bi5yZWR1Y2UoYWNjdW11bGF0ZUdyb3VwR3JhcGhQYXR0ZXJuLGZhY3RvcnkkMS5jcmVhdGVCZ3AoW10pKTtlbHNlIGlmKHQudHlwZT09PSJ2YWx1ZXMiKW89dHJhbnNsYXRlSW5saW5lRGF0YSh0KTtlbHNlIGlmKHQudHlwZT09PSJxdWVyeSIpbz10cmFuc2xhdGVRdWVyeSh0LHVzZVF1YWRzLCExKTtlbHNlIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlOiAke3QudHlwZX1gKX1pZihlLmxlbmd0aD4wKXtsZXQgZD1lLm1hcChoPT50cmFuc2xhdGVFeHByZXNzaW9uJDEoaC5leHByZXNzaW9uKSk7ZC5sZW5ndGg+MCYmKG89ZmFjdG9yeSQxLmNyZWF0ZUZpbHRlcihvLGQucmVkdWNlKChoLGwpPT5mYWN0b3J5JDEuY3JlYXRlT3BlcmF0b3JFeHByZXNzaW9uKCImJiIsW2gsbF0pKSkpfXJldHVybiBvfWZ1bmN0aW9uIHRyYW5zbGF0ZUV4cHJlc3Npb24kMSh0KXtpZih1dGlsXzEkMS5kZWZhdWx0LmlzU2ltcGxlVGVybSh0KXx8dXRpbF8xJDEuZGVmYXVsdC5pc1F1YWQodCkpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVUZXJtRXhwcmVzc2lvbih0KTtpZih1dGlsXzEkMS5kZWZhdWx0LmlzV2lsZGNhcmQodCkpcmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVXaWxkY2FyZEV4cHJlc3Npb24oKTtpZigiYWdncmVnYXRpb24iaW4gdClyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUFnZ3JlZ2F0ZUV4cHJlc3Npb24odC5hZ2dyZWdhdGlvbix0cmFuc2xhdGVFeHByZXNzaW9uJDEodC5leHByZXNzaW9uKSwhIXQuZGlzdGluY3QsdC5zZXBhcmF0b3IpO2lmKCJmdW5jdGlvbiJpbiB0KXJldHVybiBmYWN0b3J5JDEuY3JlYXRlTmFtZWRFeHByZXNzaW9uKHQuZnVuY3Rpb24sdC5hcmdzLm1hcCh0cmFuc2xhdGVFeHByZXNzaW9uJDEpKTtpZigib3BlcmF0b3IiaW4gdClyZXR1cm4gdC5vcGVyYXRvcj09PSJleGlzdHMifHx0Lm9wZXJhdG9yPT09Im5vdGV4aXN0cyI/ZmFjdG9yeSQxLmNyZWF0ZUV4aXN0ZW5jZUV4cHJlc3Npb24odC5vcGVyYXRvcj09PSJub3RleGlzdHMiLHRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKHQuYXJnc1swXSkpOigodC5vcGVyYXRvcj09PSJpbiJ8fHQub3BlcmF0b3I9PT0ibm90aW4iKSYmKHQuYXJncz1bdC5hcmdzWzBdXS5jb25jYXQodC5hcmdzWzFdKSksZmFjdG9yeSQxLmNyZWF0ZU9wZXJhdG9yRXhwcmVzc2lvbih0Lm9wZXJhdG9yLHQuYXJncy5tYXAodHJhbnNsYXRlRXhwcmVzc2lvbiQxKSkpO3Rocm93IG5ldyBFcnJvcihgVW5rbm93biBleHByZXNzaW9uOiAke0pTT04uc3RyaW5naWZ5KHQpfWApfWZ1bmN0aW9uIHRyYW5zbGF0ZUJncCQxKHQpe2xldCBlPVtdLG49W107Zm9yKGxldCBvIG9mIHQudHJpcGxlcylpZigicGF0aFR5cGUiaW4gby5wcmVkaWNhdGUpe2xldCBkPXRyYW5zbGF0ZVBhdGgkMShvKTtmb3IobGV0IGggb2YgZCloLnR5cGU9PT10eXBlcyQxLlBBVEg/KGUubGVuZ3RoPjAmJm4ucHVzaChmYWN0b3J5JDEuY3JlYXRlQmdwKGUpKSxlPVtdLG4ucHVzaChoKSk6ZS5wdXNoKGgpfWVsc2UgZS5wdXNoKHRyYW5zbGF0ZVF1YWQobykpO3JldHVybiBlLmxlbmd0aD4wJiZuLnB1c2goZmFjdG9yeSQxLmNyZWF0ZUJncChlKSksbi5sZW5ndGg9PT0xP25bMF06ZmFjdG9yeSQxLmNyZWF0ZUpvaW4obil9ZnVuY3Rpb24gdHJhbnNsYXRlUGF0aCQxKHQpe2xldCBlPXQuc3ViamVjdCxuPXRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUodC5wcmVkaWNhdGUpLG89dC5vYmplY3Q7cmV0dXJuIHNpbXBsaWZ5UGF0aChlLG4sbyl9ZnVuY3Rpb24gdHJhbnNsYXRlUGF0aFByZWRpY2F0ZSh0KXtpZih1dGlsXzEkMS5kZWZhdWx0LmlzU2ltcGxlVGVybSh0KSl7aWYodC50ZXJtVHlwZT09PSJOYW1lZE5vZGUiKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlTGluayh0KTt0aHJvdyBuZXcgRXJyb3IoYFBhdGggcHJlZGljYXRlIHNob3VsZCBiZSBhIE5hbWVkTm9kZSwgZ290ICR7SlNPTi5zdHJpbmdpZnkodCl9YCl9aWYodC5wYXRoVHlwZT09PSJeIilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZUludih0cmFuc2xhdGVQYXRoUHJlZGljYXRlKHQuaXRlbXNbMF0pKTtpZih0LnBhdGhUeXBlPT09IiEiKXtsZXQgZT1bXSxuPVtdLG87InBhdGhUeXBlImluIHQuaXRlbXNbMF0mJnQuaXRlbXNbMF0ucGF0aFR5cGU9PT0ifCI/bz10Lml0ZW1zWzBdLml0ZW1zOm89dC5pdGVtcztmb3IobGV0IGwgb2YgbylpZih1dGlsXzEkMS5kZWZhdWx0LmlzU2ltcGxlVGVybShsKSllLnB1c2gobCk7ZWxzZSBpZihsLnBhdGhUeXBlPT09Il4iKW4ucHVzaChsLml0ZW1zWzBdKTtlbHNlIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBpdGVtOiAke0pTT04uc3RyaW5naWZ5KGwpfWApO2xldCBkPWZhY3RvcnkkMS5jcmVhdGVOcHMoZSksaD1mYWN0b3J5JDEuY3JlYXRlSW52KGZhY3RvcnkkMS5jcmVhdGVOcHMobikpO3JldHVybiBuLmxlbmd0aD09PTA/ZDplLmxlbmd0aD09PTA/aDpmYWN0b3J5JDEuY3JlYXRlQWx0KFtkLGhdKX1pZih0LnBhdGhUeXBlPT09Ii8iKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlU2VxKHQuaXRlbXMubWFwKHRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUpKTtpZih0LnBhdGhUeXBlPT09InwiKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlQWx0KHQuaXRlbXMubWFwKHRyYW5zbGF0ZVBhdGhQcmVkaWNhdGUpKTtpZih0LnBhdGhUeXBlPT09IioiKXJldHVybiBmYWN0b3J5JDEuY3JlYXRlWmVyb09yTW9yZVBhdGgodHJhbnNsYXRlUGF0aFByZWRpY2F0ZSh0Lml0ZW1zWzBdKSk7aWYodC5wYXRoVHlwZT09PSIrIilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZU9uZU9yTW9yZVBhdGgodHJhbnNsYXRlUGF0aFByZWRpY2F0ZSh0Lml0ZW1zWzBdKSk7aWYodC5wYXRoVHlwZT09PSI/IilyZXR1cm4gZmFjdG9yeSQxLmNyZWF0ZVplcm9Pck9uZVBhdGgodHJhbnNsYXRlUGF0aFByZWRpY2F0ZSh0Lml0ZW1zWzBdKSk7dGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gdHJhbnNsYXRlIHBhdGggZXhwcmVzc2lvbiAke0pTT04uc3RyaW5naWZ5KHQpfWApfWZ1bmN0aW9uIHNpbXBsaWZ5UGF0aCh0LGUsbil7aWYoZS50eXBlPT09dHlwZXMkMS5MSU5LKXJldHVybltmYWN0b3J5JDEuY3JlYXRlUGF0dGVybih0LGUuaXJpLG4pXTtpZihlLnR5cGU9PT10eXBlcyQxLklOVilyZXR1cm4gc2ltcGxpZnlQYXRoKG4sZS5wYXRoLHQpO2lmKGUudHlwZT09PXR5cGVzJDEuU0VRKXtsZXQgbz10O3JldHVybiB1dGlsXzEkMS5kZWZhdWx0LmZsYXR0ZW4oZS5pbnB1dC5tYXAoKGQsaCk9Pntjb25zdCBsPWg9PT1lLmlucHV0Lmxlbmd0aC0xP246Z2VuZXJhdGVGcmVzaFZhcigpLHU9c2ltcGxpZnlQYXRoKG8sZCxsKTtyZXR1cm4gbC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJihvPWwpLHV9KSl9cmV0dXJuW2ZhY3RvcnkkMS5jcmVhdGVQYXRoKHQsZSxuKV19ZnVuY3Rpb24gZ2VuZXJhdGVGcmVzaFZhcigpe2xldCB0PWA/dmFyJHt2YXJDb3VudCsrfWA7cmV0dXJuIHZhcmlhYmxlcy5oYXModCk/Z2VuZXJhdGVGcmVzaFZhcigpOih2YXJpYWJsZXMuYWRkKHQpLGZhY3RvcnkkMS5jcmVhdGVUZXJtKHQpKX1mdW5jdGlvbiB0cmFuc2xhdGVRdWFkKHQpe2lmKCJwYXRoVHlwZSJpbiB0LnByZWRpY2F0ZSl0aHJvdyBuZXcgRXJyb3IoIlRyeWluZyB0byB0cmFuc2xhdGUgcHJvcGVydHkgcGF0aCB0byBxdWFkLiIpO3JldHVybiBmYWN0b3J5JDEuY3JlYXRlUGF0dGVybih0LnN1YmplY3QsdC5wcmVkaWNhdGUsdC5vYmplY3QsdC5ncmFwaCl9ZnVuY3Rpb24gdHJhbnNsYXRlR3JhcGgkMSh0KXtjb25zdCBlPXt0eXBlOiJncm91cCIscGF0dGVybnM6dC5wYXR0ZXJuc307bGV0IG49dHJhbnNsYXRlR3JvdXBHcmFwaFBhdHRlcm4oZSk7cmV0dXJuIHVzZVF1YWRzP249cmVjdXJzZUdyYXBoKG4sdC5uYW1lKTpuPWZhY3RvcnkkMS5jcmVhdGVHcmFwaChuLHQubmFtZSksbn1sZXQgdHlwZVZhbHM9T2JqZWN0LnZhbHVlcyh0eXBlcyQxKTtmdW5jdGlvbiByZWN1cnNlR3JhcGgodCxlLG4pe2lmKHQudHlwZT09PXR5cGVzJDEuR1JBUEgpe2lmKG4pdGhyb3cgbmV3IEVycm9yKCJSZWN1cnNpbmcgdGhyb3VnaCBuZXN0ZWQgR1JBUEggc3RhdGVtZW50cyB3aXRoIGEgcmVwbGFjZW1lbnQgaXMgaW1wb3NzaWJsZS4iKTt0PXJlY3Vyc2VHcmFwaCh0LmlucHV0LHQubmFtZSl9ZWxzZSBpZih0LnR5cGU9PT10eXBlcyQxLkJHUCl0LnBhdHRlcm5zPXQucGF0dGVybnMubWFwKG89PihuJiYoby5zdWJqZWN0LmVxdWFscyhlKSYmKG8uc3ViamVjdD1uKSxvLnByZWRpY2F0ZS5lcXVhbHMoZSkmJihvLnByZWRpY2F0ZT1uKSxvLm9iamVjdC5lcXVhbHMoZSkmJihvLm9iamVjdD1uKSksby5ncmFwaC50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgiJiYoby5ncmFwaD1lKSxvKSk7ZWxzZSBpZih0LnR5cGU9PT10eXBlcyQxLlBBVEgpbiYmKHQuc3ViamVjdC5lcXVhbHMoZSkmJih0LnN1YmplY3Q9biksdC5vYmplY3QuZXF1YWxzKGUpJiYodC5vYmplY3Q9bikpLHQuZ3JhcGgudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIiYmKHQuZ3JhcGg9ZSk7ZWxzZSBpZih0LnR5cGU9PT10eXBlcyQxLlBST0pFQ1QmJiFuKXQudmFyaWFibGVzLnNvbWUobz0+by5lcXVhbHMoZSkpfHwobj1nZW5lcmF0ZUZyZXNoVmFyKCkpLHQuaW5wdXQ9cmVjdXJzZUdyYXBoKHQuaW5wdXQsZSxuKTtlbHNlIGlmKHQudHlwZT09PXR5cGVzJDEuRVhURU5EJiYhbil0LnZhcmlhYmxlLmVxdWFscyhlKSYmKG49Z2VuZXJhdGVGcmVzaFZhcigpKSx0LmlucHV0PXJlY3Vyc2VHcmFwaCh0LmlucHV0LGUsbik7ZWxzZSBmb3IobGV0IG8gb2YgT2JqZWN0LmtleXModCkpQXJyYXkuaXNBcnJheSh0W29dKT90W29dPXRbb10ubWFwKGQ9PnJlY3Vyc2VHcmFwaChkLGUsbikpOnR5cGVWYWxzLmluZGV4T2YodFtvXS50eXBlKT49MD90W29dPXJlY3Vyc2VHcmFwaCh0W29dLGUsbik6biYmaXNWYXJpYWJsZSh0W29dKSYmdFtvXS5lcXVhbHMoZSkmJih0W29dPW4pO3JldHVybiB0fWZ1bmN0aW9uIGFjY3VtdWxhdGVHcm91cEdyYXBoUGF0dGVybih0LGUpe2lmKGUudHlwZT09PSJvcHRpb25hbCIpe2NvbnN0IG49dHJhbnNsYXRlR3JvdXBHcmFwaFBhdHRlcm4oe3R5cGU6Imdyb3VwIixwYXR0ZXJuczplLnBhdHRlcm5zfSk7bi50eXBlPT09dHlwZXMkMS5GSUxURVI/dD1mYWN0b3J5JDEuY3JlYXRlTGVmdEpvaW4odCxuLmlucHV0LG4uZXhwcmVzc2lvbik6dD1mYWN0b3J5JDEuY3JlYXRlTGVmdEpvaW4odCxuKX1lbHNlIGlmKGUudHlwZT09PSJtaW51cyIpe2NvbnN0IG49dHJhbnNsYXRlR3JvdXBHcmFwaFBhdHRlcm4oe3R5cGU6Imdyb3VwIixwYXR0ZXJuczplLnBhdHRlcm5zfSk7dD1mYWN0b3J5JDEuY3JlYXRlTWludXModCxuKX1lbHNlIGlmKGUudHlwZT09PSJiaW5kIil0PWZhY3RvcnkkMS5jcmVhdGVFeHRlbmQodCxlLnZhcmlhYmxlLHRyYW5zbGF0ZUV4cHJlc3Npb24kMShlLmV4cHJlc3Npb24pKTtlbHNlIGlmKGUudHlwZT09PSJzZXJ2aWNlIil7Y29uc3Qgbj17dHlwZToiZ3JvdXAiLHBhdHRlcm5zOmUucGF0dGVybnN9LG89ZmFjdG9yeSQxLmNyZWF0ZVNlcnZpY2UodHJhbnNsYXRlR3JvdXBHcmFwaFBhdHRlcm4obiksZS5uYW1lLGUuc2lsZW50KTt0PXNpbXBsaWZpZWRKb2luKHQsbyl9ZWxzZXtjb25zdCBuPXRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKGUpO3Q9c2ltcGxpZmllZEpvaW4odCxuKX1yZXR1cm4gdH1mdW5jdGlvbiBzaW1wbGlmaWVkSm9pbih0LGUpe3JldHVybiB0LnR5cGU9PT10eXBlcyQxLkJHUCYmZS50eXBlPT09dHlwZXMkMS5CR1A/dD1mYWN0b3J5JDEuY3JlYXRlQmdwKFsuLi50LnBhdHRlcm5zLC4uLmUucGF0dGVybnNdKTp0LnR5cGU9PT10eXBlcyQxLkJHUCYmdC5wYXR0ZXJucy5sZW5ndGg9PT0wP3Q9ZTplLnR5cGU9PT10eXBlcyQxLkJHUCYmZS5wYXR0ZXJucy5sZW5ndGg9PT0wfHwodD1mYWN0b3J5JDEuY3JlYXRlSm9pbihbdCxlXSkpLHR9ZnVuY3Rpb24gdHJhbnNsYXRlSW5saW5lRGF0YSh0KXtsZXQgZT0odC52YWx1ZXMubGVuZ3RoPT09MD9bXTpPYmplY3Qua2V5cyh0LnZhbHVlc1swXSkpLm1hcChmYWN0b3J5JDEuY3JlYXRlVGVybS5iaW5kKGZhY3RvcnkkMSkpLG49dC52YWx1ZXMubWFwKG89PntsZXQgZD1PYmplY3Qua2V5cyhvKTtkPWQuZmlsdGVyKGw9Pm9bbF0hPT12b2lkIDApO2xldCBoPXt9O2ZvcihsZXQgbCBvZiBkKWhbbF09b1tsXTtyZXR1cm4gaH0pO3JldHVybiBmYWN0b3J5JDEuY3JlYXRlVmFsdWVzKGUsbil9ZnVuY3Rpb24gdHJhbnNsYXRlQWdncmVnYXRlcyh0LGUpe2NvbnN0IG49dCxvPVtdLGQ9e307aWYobi52YXJpYWJsZXM9bi52YXJpYWJsZXMmJm4udmFyaWFibGVzLm1hcChsPT5tYXBBZ2dyZWdhdGUobCxkKSksbi5oYXZpbmc9bi5oYXZpbmcmJm4uaGF2aW5nLm1hcChsPT5tYXBBZ2dyZWdhdGUobCxkKSksbi5vcmRlcj1uLm9yZGVyJiZuLm9yZGVyLm1hcChsPT5tYXBBZ2dyZWdhdGUobCxkKSksbi5ncm91cHx8T2JqZWN0LmtleXMoZCkubGVuZ3RoPjApe2NvbnN0IGw9T2JqZWN0LmtleXMoZCkubWFwKHA9PnRyYW5zbGF0ZUJvdW5kQWdncmVnYXRlJDEoZFtwXSxmYWN0b3J5JDEuY3JlYXRlVGVybShwKSkpLHU9W107aWYobi5ncm91cClmb3IoY29uc3QgcCBvZiBuLmdyb3VwKWlmKHV0aWxfMSQxLmRlZmF1bHQuaXNTaW1wbGVUZXJtKHAuZXhwcmVzc2lvbikpdS5wdXNoKHAuZXhwcmVzc2lvbik7ZWxzZXtjb25zdCBnPSJ2YXJpYWJsZSJpbiBwP3AudmFyaWFibGU6Z2VuZXJhdGVGcmVzaFZhcigpO2U9ZmFjdG9yeSQxLmNyZWF0ZUV4dGVuZChlLGcsdHJhbnNsYXRlRXhwcmVzc2lvbiQxKHAuZXhwcmVzc2lvbikpLHUucHVzaChnKX1lPWZhY3RvcnkkMS5jcmVhdGVHcm91cChlLHUsbCl9aWYobi5oYXZpbmcpZm9yKGxldCBsIG9mIG4uaGF2aW5nKWU9ZmFjdG9yeSQxLmNyZWF0ZUZpbHRlcihlLHRyYW5zbGF0ZUV4cHJlc3Npb24kMShsKSk7dC52YWx1ZXMmJihlPWZhY3RvcnkkMS5jcmVhdGVKb2luKFtlLHRyYW5zbGF0ZUlubGluZURhdGEodCldKSk7bGV0IGg9W107aWYodC5xdWVyeVR5cGU9PT0iU0VMRUNUInx8dC5xdWVyeVR5cGU9PT0iREVTQ1JJQkUiKWlmKHQudmFyaWFibGVzLnNvbWUobD0+bCYmdXRpbF8xJDEuZGVmYXVsdC5pc1dpbGRjYXJkKGwpKSloPU9iamVjdC52YWx1ZXMoaW5TY29wZVZhcmlhYmxlcyh0KSkuc29ydCgobCx1KT0+bC52YWx1ZS5sb2NhbGVDb21wYXJlKHUudmFsdWUpKTtlbHNlIGZvcihsZXQgbCBvZiB0LnZhcmlhYmxlcylpc1ZhcmlhYmxlKGwpfHwhKCJ2YXJpYWJsZSJpbiBsKT9oLnB1c2gobCk6bC52YXJpYWJsZSYmKGgucHVzaChsLnZhcmlhYmxlKSxvLnB1c2gobCkpO2ZvcihsZXQgbCBvZiBvKWU9ZmFjdG9yeSQxLmNyZWF0ZUV4dGVuZChlLGwudmFyaWFibGUsdHJhbnNsYXRlRXhwcmVzc2lvbiQxKGwuZXhwcmVzc2lvbikpO3JldHVybiBuLm9yZGVyJiYoZT1mYWN0b3J5JDEuY3JlYXRlT3JkZXJCeShlLG4ub3JkZXIubWFwKGw9PntsZXQgdT10cmFuc2xhdGVFeHByZXNzaW9uJDEobC5leHByZXNzaW9uKTtyZXR1cm4gbC5kZXNjZW5kaW5nJiYodT1mYWN0b3J5JDEuY3JlYXRlT3BlcmF0b3JFeHByZXNzaW9uKCJkZXNjIixbdV0pKSx1fSkpKSx0LnF1ZXJ5VHlwZT09PSJTRUxFQ1QiJiYoZT1mYWN0b3J5JDEuY3JlYXRlUHJvamVjdChlLGgpKSxuLmRpc3RpbmN0JiYoZT1mYWN0b3J5JDEuY3JlYXRlRGlzdGluY3QoZSkpLG4ucmVkdWNlZCYmKGU9ZmFjdG9yeSQxLmNyZWF0ZVJlZHVjZWQoZSkpLHQucXVlcnlUeXBlPT09IkNPTlNUUlVDVCI/ZT1mYWN0b3J5JDEuY3JlYXRlQ29uc3RydWN0KGUsKHQudGVtcGxhdGV8fFtdKS5tYXAodHJhbnNsYXRlUXVhZCkpOnQucXVlcnlUeXBlPT09IkFTSyI/ZT1mYWN0b3J5JDEuY3JlYXRlQXNrKGUpOnQucXVlcnlUeXBlPT09IkRFU0NSSUJFIiYmKGU9ZmFjdG9yeSQxLmNyZWF0ZURlc2NyaWJlKGUsaCkpLChuLm9mZnNldHx8bi5saW1pdCkmJihlPWZhY3RvcnkkMS5jcmVhdGVTbGljZShlLG4ub2Zmc2V0fHwwLG4ubGltaXQpKSxuLmZyb20mJihlPWZhY3RvcnkkMS5jcmVhdGVGcm9tKGUsbi5mcm9tLmRlZmF1bHQsbi5mcm9tLm5hbWVkKSksZX1mdW5jdGlvbiBtYXBBZ2dyZWdhdGUodCxlKXtpZigidHlwZSJpbiB0JiZ0LnR5cGU9PT0iYWdncmVnYXRlIil7bGV0IG49ITEsbztmb3IobGV0IGQgb2YgT2JqZWN0LmtleXMoZSkpaWYoZXF1YWwoZVtkXSx0KSl7bz1mYWN0b3J5JDEuY3JlYXRlVGVybShkKSxuPSEwO2JyZWFrfXJldHVybiBufHwobz1nZW5lcmF0ZUZyZXNoVmFyKCksZVsoMCxyZGZfc3RyaW5nXzEkMy50ZXJtVG9TdHJpbmcpKG8pXT10KSxvfXJldHVybiJleHByZXNzaW9uImluIHQmJnQuZXhwcmVzc2lvbj97Li4udCxleHByZXNzaW9uOm1hcEFnZ3JlZ2F0ZSh0LmV4cHJlc3Npb24sZSl9OiJhcmdzImluIHQmJnQuYXJncz97Li4udCxhcmdzOnQuYXJncy5tYXAobj0+bWFwQWdncmVnYXRlKG4sZSkpfTp0fWZ1bmN0aW9uIHRyYW5zbGF0ZUJvdW5kQWdncmVnYXRlJDEodCxlKXtpZih0LnR5cGUhPT0iYWdncmVnYXRlInx8IXQuYWdncmVnYXRpb24pdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGlucHV0OiAke0pTT04uc3RyaW5naWZ5KHQpfWApO2NvbnN0IG49dHJhbnNsYXRlRXhwcmVzc2lvbiQxKHQpO3JldHVybiBuLnZhcmlhYmxlPWUsbn1mdW5jdGlvbiB0cmFuc2xhdGVVcGRhdGUodCl7cmV0dXJuIHQudXBkYXRlcy5sZW5ndGg9PT0xP3RyYW5zbGF0ZVNpbmdsZVVwZGF0ZSh0LnVwZGF0ZXNbMF0pOmZhY3RvcnkkMS5jcmVhdGVDb21wb3NpdGVVcGRhdGUodC51cGRhdGVzLm1hcCh0cmFuc2xhdGVTaW5nbGVVcGRhdGUpKX1mdW5jdGlvbiB0cmFuc2xhdGVTaW5nbGVVcGRhdGUodCl7aWYoInR5cGUiaW4gdCl7aWYodC50eXBlPT09ImxvYWQiKXJldHVybiB0cmFuc2xhdGVVcGRhdGVHcmFwaExvYWQodCk7aWYodC50eXBlPT09ImNsZWFyInx8dC50eXBlPT09ImNyZWF0ZSJ8fHQudHlwZT09PSJkcm9wIilyZXR1cm4gdHJhbnNsYXRlVXBkYXRlR3JhcGgodCk7aWYodC50eXBlPT09ImFkZCJ8fHQudHlwZT09PSJjb3B5Inx8dC50eXBlPT09Im1vdmUiKXJldHVybiB0cmFuc2xhdGVVcGRhdGVHcmFwaFNob3J0Y3V0JDEodCl9ZWxzZSBpZih0LnVwZGF0ZVR5cGU9PT0iaW5zZXJ0ZGVsZXRlInx8dC51cGRhdGVUeXBlPT09ImRlbGV0ZXdoZXJlInx8dC51cGRhdGVUeXBlPT09ImRlbGV0ZSJ8fHQudXBkYXRlVHlwZT09PSJpbnNlcnQiKXJldHVybiB0cmFuc2xhdGVJbnNlcnREZWxldGUodCk7dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHVwZGF0ZSB0eXBlICR7SlNPTi5zdHJpbmdpZnkodCl9YCl9ZnVuY3Rpb24gdHJhbnNsYXRlSW5zZXJ0RGVsZXRlKHQpe2lmKCF1c2VRdWFkcyl0aHJvdyBuZXcgRXJyb3IoIklOU0VSVC9ERUxFVEUgb3BlcmF0aW9ucyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBxdWFkcyBvcHRpb24gZW5hYmxlZCIpO2xldCBlPVtdLG49W10sbztpZih0LmRlbGV0ZSYmKGU9dXRpbF8xJDEuZGVmYXVsdC5mbGF0dGVuKHQuZGVsZXRlLm1hcChkPT50cmFuc2xhdGVVcGRhdGVUcmlwbGVzQmxvY2soZCx0LmdyYXBoKSkpKSx0Lmluc2VydCYmKG49dXRpbF8xJDEuZGVmYXVsdC5mbGF0dGVuKHQuaW5zZXJ0Lm1hcChkPT50cmFuc2xhdGVVcGRhdGVUcmlwbGVzQmxvY2soZCx0LmdyYXBoKSkpKSx0LndoZXJlJiZ0LndoZXJlLmxlbmd0aD4wKXtvPXRyYW5zbGF0ZUdyb3VwR3JhcGhQYXR0ZXJuKHt0eXBlOiJncm91cCIscGF0dGVybnM6dC53aGVyZX0pO2NvbnN0IGQ9dC51c2luZztkP289ZmFjdG9yeSQxLmNyZWF0ZUZyb20obyxkLmRlZmF1bHQsZC5uYW1lZCk6dC5ncmFwaCYmKG89cmVjdXJzZUdyYXBoKG8sdC5ncmFwaCkpfWVsc2UgdC51cGRhdGVUeXBlPT09ImRlbGV0ZXdoZXJlIiYmZS5sZW5ndGg+MCYmKG89ZmFjdG9yeSQxLmNyZWF0ZUJncChlKSk7cmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVEZWxldGVJbnNlcnQoZS5sZW5ndGg+MD9lOnZvaWQgMCxuLmxlbmd0aD4wP246dm9pZCAwLG8pfWZ1bmN0aW9uIHRyYW5zbGF0ZVVwZGF0ZVRyaXBsZXNCbG9jayh0LGUpe2xldCBuPWU7dC50eXBlPT09ImdyYXBoIiYmKG49dC5uYW1lKTtsZXQgbz10LnRyaXBsZXM7cmV0dXJuIG4mJihvPW8ubWFwKGQ9Pk9iamVjdC5hc3NpZ24oZCx7Z3JhcGg6bn0pKSksby5tYXAodHJhbnNsYXRlUXVhZCl9ZnVuY3Rpb24gdHJhbnNsYXRlVXBkYXRlR3JhcGgodCl7bGV0IGU7c3dpdGNoKHV0aWxfMSQxLmRlZmF1bHQuaXNTaW1wbGVUZXJtKHQuZ3JhcGgpP2U9dC5ncmFwaDp0LmdyYXBoLmFsbD9lPSJBTEwiOnQuZ3JhcGguZGVmYXVsdD9lPSJERUZBVUxUIjp0LmdyYXBoLm5hbWVkP2U9Ik5BTUVEIjplPXQuZ3JhcGgubmFtZSx0LnR5cGUpe2Nhc2UiY2xlYXIiOnJldHVybiBmYWN0b3J5JDEuY3JlYXRlQ2xlYXIoZSx0LnNpbGVudCk7Y2FzZSJjcmVhdGUiOnJldHVybiBmYWN0b3J5JDEuY3JlYXRlQ3JlYXRlKGUsdC5zaWxlbnQpO2Nhc2UiZHJvcCI6cmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVEcm9wKGUsdC5zaWxlbnQpfX1mdW5jdGlvbiB0cmFuc2xhdGVVcGRhdGVHcmFwaExvYWQodCl7cmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVMb2FkKHQuc291cmNlLHQuZGVzdGluYXRpb24sdC5zaWxlbnQpfWZ1bmN0aW9uIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoU2hvcnRjdXQkMSh0KXtjb25zdCBlPXQuc291cmNlLmRlZmF1bHQ/IkRFRkFVTFQiOnQuc291cmNlLm5hbWUsbj10LmRlc3RpbmF0aW9uLmRlZmF1bHQ/IkRFRkFVTFQiOnQuZGVzdGluYXRpb24ubmFtZTtzd2l0Y2godC50eXBlKXtjYXNlImNvcHkiOnJldHVybiBmYWN0b3J5JDEuY3JlYXRlQ29weShlLG4sdC5zaWxlbnQpO2Nhc2UibW92ZSI6cmV0dXJuIGZhY3RvcnkkMS5jcmVhdGVNb3ZlKGUsbix0LnNpbGVudCk7Y2FzZSJhZGQiOnJldHVybiBmYWN0b3J5JDEuY3JlYXRlQWRkKGUsbix0LnNpbGVudCl9fWZ1bmN0aW9uIHRyYW5zbGF0ZUJsYW5rTm9kZXNUb1ZhcmlhYmxlcyh0KXtjb25zdCBlPXt9LG49QXJyYXkuZnJvbSh2YXJpYWJsZXMpLnJlZHVjZSgoZCxoKT0+KGRbaF09ITAsZCkse30pO3JldHVybiB1dGlsXzEkMS5kZWZhdWx0Lm1hcE9wZXJhdGlvbih0LHtbQWxnZWJyYSQxLnR5cGVzLkRFTEVURV9JTlNFUlRdOmQ9Pih7cmVzdWx0OmQscmVjdXJzZTohMX0pLFtBbGdlYnJhJDEudHlwZXMuUEFUSF06KGQsaCk9Pih7cmVzdWx0OmguY3JlYXRlUGF0aChvKGQuc3ViamVjdCksZC5wcmVkaWNhdGUsbyhkLm9iamVjdCksbyhkLmdyYXBoKSkscmVjdXJzZTohMX0pLFtBbGdlYnJhJDEudHlwZXMuUEFUVEVSTl06KGQsaCk9Pih7cmVzdWx0OmguY3JlYXRlUGF0dGVybihvKGQuc3ViamVjdCksbyhkLnByZWRpY2F0ZSksbyhkLm9iamVjdCksbyhkLmdyYXBoKSkscmVjdXJzZTohMX0pLFtBbGdlYnJhJDEudHlwZXMuQ09OU1RSVUNUXTpkPT4oe3Jlc3VsdDpmYWN0b3J5JDEuY3JlYXRlQ29uc3RydWN0KHRyYW5zbGF0ZUJsYW5rTm9kZXNUb1ZhcmlhYmxlcyhkLmlucHV0KSxkLnRlbXBsYXRlKSxyZWN1cnNlOiExfSl9KTtmdW5jdGlvbiBvKGQpe2lmKGQudGVybVR5cGU9PT0iQmxhbmtOb2RlIil7bGV0IGg9ZVtkLnZhbHVlXTtyZXR1cm4gaHx8KGg9dXRpbF8xJDEuZGVmYXVsdC5jcmVhdGVVbmlxdWVWYXJpYWJsZShkLnZhbHVlLG4sZmFjdG9yeSQxLmRhdGFGYWN0b3J5KSxuW2gudmFsdWVdPSEwLGVbZC52YWx1ZV09aCksaH1yZXR1cm4gZH19dmFyIHNwYXJxbD17fSxyZGZJc29tb3JwaGljPXt9LFJkZklzb21vcnBoaWM9e30saGFzaD17fSx1dGlscyQ5PXt9LG1pbmltYWxpc3RpY0Fzc2VydD1hc3NlcnQkNTtmdW5jdGlvbiBhc3NlcnQkNSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihlfHwiQXNzZXJ0aW9uIGZhaWxlZCIpfWFzc2VydCQ1LmVxdWFsPWZ1bmN0aW9uKGUsbixvKXtpZihlIT1uKXRocm93IG5ldyBFcnJvcihvfHwiQXNzZXJ0aW9uIGZhaWxlZDogIitlKyIgIT0gIituKX07dmFyIGluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzPXt9LGluaGVyaXRzX2Jyb3dzZXI9e2dldCBleHBvcnRzKCl7cmV0dXJuIGluaGVyaXRzX2Jyb3dzZXJFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtpbmhlcml0c19icm93c2VyRXhwb3J0cz10fX07dHlwZW9mIE9iamVjdC5jcmVhdGU9PSJmdW5jdGlvbiI/aW5oZXJpdHNfYnJvd3Nlci5leHBvcnRzPWZ1bmN0aW9uKGUsbil7biYmKGUuc3VwZXJfPW4sZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTppbmhlcml0c19icm93c2VyLmV4cG9ydHM9ZnVuY3Rpb24oZSxuKXtpZihuKXtlLnN1cGVyXz1uO3ZhciBvPWZ1bmN0aW9uKCl7fTtvLnByb3RvdHlwZT1uLnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbyxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lfX07dmFyIGFzc2VydCQ0PW1pbmltYWxpc3RpY0Fzc2VydCxpbmhlcml0cz1pbmhlcml0c19icm93c2VyRXhwb3J0czt1dGlscyQ5LmluaGVyaXRzPWluaGVyaXRzO2Z1bmN0aW9uIGlzU3Vycm9nYXRlUGFpcih0LGUpe3JldHVybih0LmNoYXJDb2RlQXQoZSkmNjQ1MTIpIT09NTUyOTZ8fGU8MHx8ZSsxPj10Lmxlbmd0aD8hMToodC5jaGFyQ29kZUF0KGUrMSkmNjQ1MTIpPT09NTYzMjB9ZnVuY3Rpb24gdG9BcnJheSh0LGUpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQuc2xpY2UoKTtpZighdClyZXR1cm5bXTt2YXIgbj1bXTtpZih0eXBlb2YgdD09InN0cmluZyIpaWYoZSl7aWYoZT09PSJoZXgiKWZvcih0PXQucmVwbGFjZSgvW15hLXowLTldKy9pZywiIiksdC5sZW5ndGglMiE9PTAmJih0PSIwIit0KSxkPTA7ZDx0Lmxlbmd0aDtkKz0yKW4ucHVzaChwYXJzZUludCh0W2RdK3RbZCsxXSwxNikpfWVsc2UgZm9yKHZhciBvPTAsZD0wO2Q8dC5sZW5ndGg7ZCsrKXt2YXIgaD10LmNoYXJDb2RlQXQoZCk7aDwxMjg/bltvKytdPWg6aDwyMDQ4PyhuW28rK109aD4+NnwxOTIsbltvKytdPWgmNjN8MTI4KTppc1N1cnJvZ2F0ZVBhaXIodCxkKT8oaD02NTUzNisoKGgmMTAyMyk8PDEwKSsodC5jaGFyQ29kZUF0KCsrZCkmMTAyMyksbltvKytdPWg+PjE4fDI0MCxuW28rK109aD4+MTImNjN8MTI4LG5bbysrXT1oPj42JjYzfDEyOCxuW28rK109aCY2M3wxMjgpOihuW28rK109aD4+MTJ8MjI0LG5bbysrXT1oPj42JjYzfDEyOCxuW28rK109aCY2M3wxMjgpfWVsc2UgZm9yKGQ9MDtkPHQubGVuZ3RoO2QrKyluW2RdPXRbZF18MDtyZXR1cm4gbn11dGlscyQ5LnRvQXJyYXk9dG9BcnJheTtmdW5jdGlvbiB0b0hleCh0KXtmb3IodmFyIGU9IiIsbj0wO248dC5sZW5ndGg7bisrKWUrPXplcm8yKHRbbl0udG9TdHJpbmcoMTYpKTtyZXR1cm4gZX11dGlscyQ5LnRvSGV4PXRvSGV4O2Z1bmN0aW9uIGh0b25sKHQpe3ZhciBlPXQ+Pj4yNHx0Pj4+OCY2NTI4MHx0PDw4JjE2NzExNjgwfCh0JjI1NSk8PDI0O3JldHVybiBlPj4+MH11dGlscyQ5Lmh0b25sPWh0b25sO2Z1bmN0aW9uIHRvSGV4MzIodCxlKXtmb3IodmFyIG49IiIsbz0wO288dC5sZW5ndGg7bysrKXt2YXIgZD10W29dO2U9PT0ibGl0dGxlIiYmKGQ9aHRvbmwoZCkpLG4rPXplcm84KGQudG9TdHJpbmcoMTYpKX1yZXR1cm4gbn11dGlscyQ5LnRvSGV4MzI9dG9IZXgzMjtmdW5jdGlvbiB6ZXJvMih0KXtyZXR1cm4gdC5sZW5ndGg9PT0xPyIwIit0OnR9dXRpbHMkOS56ZXJvMj16ZXJvMjtmdW5jdGlvbiB6ZXJvOCh0KXtyZXR1cm4gdC5sZW5ndGg9PT03PyIwIit0OnQubGVuZ3RoPT09Nj8iMDAiK3Q6dC5sZW5ndGg9PT01PyIwMDAiK3Q6dC5sZW5ndGg9PT00PyIwMDAwIit0OnQubGVuZ3RoPT09Mz8iMDAwMDAiK3Q6dC5sZW5ndGg9PT0yPyIwMDAwMDAiK3Q6dC5sZW5ndGg9PT0xPyIwMDAwMDAwIit0OnR9dXRpbHMkOS56ZXJvOD16ZXJvODtmdW5jdGlvbiBqb2luMzIodCxlLG4sbyl7dmFyIGQ9bi1lO2Fzc2VydCQ0KGQlND09PTApO2Zvcih2YXIgaD1uZXcgQXJyYXkoZC80KSxsPTAsdT1lO2w8aC5sZW5ndGg7bCsrLHUrPTQpe3ZhciBwO289PT0iYmlnIj9wPXRbdV08PDI0fHRbdSsxXTw8MTZ8dFt1KzJdPDw4fHRbdSszXTpwPXRbdSszXTw8MjR8dFt1KzJdPDwxNnx0W3UrMV08PDh8dFt1XSxoW2xdPXA+Pj4wfXJldHVybiBofXV0aWxzJDkuam9pbjMyPWpvaW4zMjtmdW5jdGlvbiBzcGxpdDMyKHQsZSl7Zm9yKHZhciBuPW5ldyBBcnJheSh0Lmxlbmd0aCo0KSxvPTAsZD0wO288dC5sZW5ndGg7bysrLGQrPTQpe3ZhciBoPXRbb107ZT09PSJiaWciPyhuW2RdPWg+Pj4yNCxuW2QrMV09aD4+PjE2JjI1NSxuW2QrMl09aD4+PjgmMjU1LG5bZCszXT1oJjI1NSk6KG5bZCszXT1oPj4+MjQsbltkKzJdPWg+Pj4xNiYyNTUsbltkKzFdPWg+Pj44JjI1NSxuW2RdPWgmMjU1KX1yZXR1cm4gbn11dGlscyQ5LnNwbGl0MzI9c3BsaXQzMjtmdW5jdGlvbiByb3RyMzIkMSh0LGUpe3JldHVybiB0Pj4+ZXx0PDwzMi1lfXV0aWxzJDkucm90cjMyPXJvdHIzMiQxO2Z1bmN0aW9uIHJvdGwzMiQyKHQsZSl7cmV0dXJuIHQ8PGV8dD4+PjMyLWV9dXRpbHMkOS5yb3RsMzI9cm90bDMyJDI7ZnVuY3Rpb24gc3VtMzIkMyh0LGUpe3JldHVybiB0K2U+Pj4wfXV0aWxzJDkuc3VtMzI9c3VtMzIkMztmdW5jdGlvbiBzdW0zMl8zJDEodCxlLG4pe3JldHVybiB0K2Urbj4+PjB9dXRpbHMkOS5zdW0zMl8zPXN1bTMyXzMkMTtmdW5jdGlvbiBzdW0zMl80JDIodCxlLG4sbyl7cmV0dXJuIHQrZStuK28+Pj4wfXV0aWxzJDkuc3VtMzJfND1zdW0zMl80JDI7ZnVuY3Rpb24gc3VtMzJfNSQyKHQsZSxuLG8sZCl7cmV0dXJuIHQrZStuK28rZD4+PjB9dXRpbHMkOS5zdW0zMl81PXN1bTMyXzUkMjtmdW5jdGlvbiBzdW02NCQxKHQsZSxuLG8pe3ZhciBkPXRbZV0saD10W2UrMV0sbD1vK2g+Pj4wLHU9KGw8bz8xOjApK24rZDt0W2VdPXU+Pj4wLHRbZSsxXT1sfXV0aWxzJDkuc3VtNjQ9c3VtNjQkMTtmdW5jdGlvbiBzdW02NF9oaSQxKHQsZSxuLG8pe3ZhciBkPWUrbz4+PjAsaD0oZDxlPzE6MCkrdCtuO3JldHVybiBoPj4+MH11dGlscyQ5LnN1bTY0X2hpPXN1bTY0X2hpJDE7ZnVuY3Rpb24gc3VtNjRfbG8kMSh0LGUsbixvKXt2YXIgZD1lK287cmV0dXJuIGQ+Pj4wfXV0aWxzJDkuc3VtNjRfbG89c3VtNjRfbG8kMTtmdW5jdGlvbiBzdW02NF80X2hpJDEodCxlLG4sbyxkLGgsbCx1KXt2YXIgcD0wLGc9ZTtnPWcrbz4+PjAscCs9ZzxlPzE6MCxnPWcraD4+PjAscCs9ZzxoPzE6MCxnPWcrdT4+PjAscCs9Zzx1PzE6MDt2YXIgdj10K24rZCtsK3A7cmV0dXJuIHY+Pj4wfXV0aWxzJDkuc3VtNjRfNF9oaT1zdW02NF80X2hpJDE7ZnVuY3Rpb24gc3VtNjRfNF9sbyQxKHQsZSxuLG8sZCxoLGwsdSl7dmFyIHA9ZStvK2grdTtyZXR1cm4gcD4+PjB9dXRpbHMkOS5zdW02NF80X2xvPXN1bTY0XzRfbG8kMTtmdW5jdGlvbiBzdW02NF81X2hpJDEodCxlLG4sbyxkLGgsbCx1LHAsZyl7dmFyIHY9MCxiPWU7Yj1iK28+Pj4wLHYrPWI8ZT8xOjAsYj1iK2g+Pj4wLHYrPWI8aD8xOjAsYj1iK3U+Pj4wLHYrPWI8dT8xOjAsYj1iK2c+Pj4wLHYrPWI8Zz8xOjA7dmFyIF89dCtuK2QrbCtwK3Y7cmV0dXJuIF8+Pj4wfXV0aWxzJDkuc3VtNjRfNV9oaT1zdW02NF81X2hpJDE7ZnVuY3Rpb24gc3VtNjRfNV9sbyQxKHQsZSxuLG8sZCxoLGwsdSxwLGcpe3ZhciB2PWUrbytoK3UrZztyZXR1cm4gdj4+PjB9dXRpbHMkOS5zdW02NF81X2xvPXN1bTY0XzVfbG8kMTtmdW5jdGlvbiByb3RyNjRfaGkkMSh0LGUsbil7dmFyIG89ZTw8MzItbnx0Pj4+bjtyZXR1cm4gbz4+PjB9dXRpbHMkOS5yb3RyNjRfaGk9cm90cjY0X2hpJDE7ZnVuY3Rpb24gcm90cjY0X2xvJDEodCxlLG4pe3ZhciBvPXQ8PDMyLW58ZT4+Pm47cmV0dXJuIG8+Pj4wfXV0aWxzJDkucm90cjY0X2xvPXJvdHI2NF9sbyQxO2Z1bmN0aW9uIHNocjY0X2hpJDEodCxlLG4pe3JldHVybiB0Pj4+bn11dGlscyQ5LnNocjY0X2hpPXNocjY0X2hpJDE7ZnVuY3Rpb24gc2hyNjRfbG8kMSh0LGUsbil7dmFyIG89dDw8MzItbnxlPj4+bjtyZXR1cm4gbz4+PjB9dXRpbHMkOS5zaHI2NF9sbz1zaHI2NF9sbyQxO3ZhciBjb21tb24kNT17fSx1dGlscyQ4PXV0aWxzJDksYXNzZXJ0JDM9bWluaW1hbGlzdGljQXNzZXJ0O2Z1bmN0aW9uIEJsb2NrSGFzaCQ0KCl7dGhpcy5wZW5kaW5nPW51bGwsdGhpcy5wZW5kaW5nVG90YWw9MCx0aGlzLmJsb2NrU2l6ZT10aGlzLmNvbnN0cnVjdG9yLmJsb2NrU2l6ZSx0aGlzLm91dFNpemU9dGhpcy5jb25zdHJ1Y3Rvci5vdXRTaXplLHRoaXMuaG1hY1N0cmVuZ3RoPXRoaXMuY29uc3RydWN0b3IuaG1hY1N0cmVuZ3RoLHRoaXMucGFkTGVuZ3RoPXRoaXMuY29uc3RydWN0b3IucGFkTGVuZ3RoLzgsdGhpcy5lbmRpYW49ImJpZyIsdGhpcy5fZGVsdGE4PXRoaXMuYmxvY2tTaXplLzgsdGhpcy5fZGVsdGEzMj10aGlzLmJsb2NrU2l6ZS8zMn1jb21tb24kNS5CbG9ja0hhc2g9QmxvY2tIYXNoJDQ7QmxvY2tIYXNoJDQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4pe2lmKGU9dXRpbHMkOC50b0FycmF5KGUsbiksdGhpcy5wZW5kaW5nP3RoaXMucGVuZGluZz10aGlzLnBlbmRpbmcuY29uY2F0KGUpOnRoaXMucGVuZGluZz1lLHRoaXMucGVuZGluZ1RvdGFsKz1lLmxlbmd0aCx0aGlzLnBlbmRpbmcubGVuZ3RoPj10aGlzLl9kZWx0YTgpe2U9dGhpcy5wZW5kaW5nO3ZhciBvPWUubGVuZ3RoJXRoaXMuX2RlbHRhODt0aGlzLnBlbmRpbmc9ZS5zbGljZShlLmxlbmd0aC1vLGUubGVuZ3RoKSx0aGlzLnBlbmRpbmcubGVuZ3RoPT09MCYmKHRoaXMucGVuZGluZz1udWxsKSxlPXV0aWxzJDguam9pbjMyKGUsMCxlLmxlbmd0aC1vLHRoaXMuZW5kaWFuKTtmb3IodmFyIGQ9MDtkPGUubGVuZ3RoO2QrPXRoaXMuX2RlbHRhMzIpdGhpcy5fdXBkYXRlKGUsZCxkK3RoaXMuX2RlbHRhMzIpfXJldHVybiB0aGlzfTtCbG9ja0hhc2gkNC5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZSh0aGlzLl9wYWQoKSksYXNzZXJ0JDModGhpcy5wZW5kaW5nPT09bnVsbCksdGhpcy5fZGlnZXN0KGUpfTtCbG9ja0hhc2gkNC5wcm90b3R5cGUuX3BhZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGVuZGluZ1RvdGFsLG49dGhpcy5fZGVsdGE4LG89bi0oZSt0aGlzLnBhZExlbmd0aCklbixkPW5ldyBBcnJheShvK3RoaXMucGFkTGVuZ3RoKTtkWzBdPTEyODtmb3IodmFyIGg9MTtoPG87aCsrKWRbaF09MDtpZihlPDw9Myx0aGlzLmVuZGlhbj09PSJiaWciKXtmb3IodmFyIGw9ODtsPHRoaXMucGFkTGVuZ3RoO2wrKylkW2grK109MDtkW2grK109MCxkW2grK109MCxkW2grK109MCxkW2grK109MCxkW2grK109ZT4+PjI0JjI1NSxkW2grK109ZT4+PjE2JjI1NSxkW2grK109ZT4+PjgmMjU1LGRbaCsrXT1lJjI1NX1lbHNlIGZvcihkW2grK109ZSYyNTUsZFtoKytdPWU+Pj44JjI1NSxkW2grK109ZT4+PjE2JjI1NSxkW2grK109ZT4+PjI0JjI1NSxkW2grK109MCxkW2grK109MCxkW2grK109MCxkW2grK109MCxsPTg7bDx0aGlzLnBhZExlbmd0aDtsKyspZFtoKytdPTA7cmV0dXJuIGR9O3ZhciBzaGE9e30sY29tbW9uJDQ9e30sdXRpbHMkNz11dGlscyQ5LHJvdHIzMj11dGlscyQ3LnJvdHIzMjtmdW5jdGlvbiBmdF8xJDEodCxlLG4sbyl7aWYodD09PTApcmV0dXJuIGNoMzIkMShlLG4sbyk7aWYodD09PTF8fHQ9PT0zKXJldHVybiBwMzIoZSxuLG8pO2lmKHQ9PT0yKXJldHVybiBtYWozMiQxKGUsbixvKX1jb21tb24kNC5mdF8xPWZ0XzEkMTtmdW5jdGlvbiBjaDMyJDEodCxlLG4pe3JldHVybiB0JmVefnQmbn1jb21tb24kNC5jaDMyPWNoMzIkMTtmdW5jdGlvbiBtYWozMiQxKHQsZSxuKXtyZXR1cm4gdCZlXnQmbl5lJm59Y29tbW9uJDQubWFqMzI9bWFqMzIkMTtmdW5jdGlvbiBwMzIodCxlLG4pe3JldHVybiB0XmVebn1jb21tb24kNC5wMzI9cDMyO2Z1bmN0aW9uIHMwXzI1NiQxKHQpe3JldHVybiByb3RyMzIodCwyKV5yb3RyMzIodCwxMylecm90cjMyKHQsMjIpfWNvbW1vbiQ0LnMwXzI1Nj1zMF8yNTYkMTtmdW5jdGlvbiBzMV8yNTYkMSh0KXtyZXR1cm4gcm90cjMyKHQsNilecm90cjMyKHQsMTEpXnJvdHIzMih0LDI1KX1jb21tb24kNC5zMV8yNTY9czFfMjU2JDE7ZnVuY3Rpb24gZzBfMjU2JDEodCl7cmV0dXJuIHJvdHIzMih0LDcpXnJvdHIzMih0LDE4KV50Pj4+M31jb21tb24kNC5nMF8yNTY9ZzBfMjU2JDE7ZnVuY3Rpb24gZzFfMjU2JDEodCl7cmV0dXJuIHJvdHIzMih0LDE3KV5yb3RyMzIodCwxOSledD4+PjEwfWNvbW1vbiQ0LmcxXzI1Nj1nMV8yNTYkMTt2YXIgdXRpbHMkNj11dGlscyQ5LGNvbW1vbiQzPWNvbW1vbiQ1LHNoYUNvbW1vbiQxPWNvbW1vbiQ0LHJvdGwzMiQxPXV0aWxzJDYucm90bDMyLHN1bTMyJDI9dXRpbHMkNi5zdW0zMixzdW0zMl81JDE9dXRpbHMkNi5zdW0zMl81LGZ0XzE9c2hhQ29tbW9uJDEuZnRfMSxCbG9ja0hhc2gkMz1jb21tb24kMy5CbG9ja0hhc2gsc2hhMV9LPVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwzMzk1NDY5NzgyXTtmdW5jdGlvbiBTSEExKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU0hBMSkpcmV0dXJuIG5ldyBTSEExO0Jsb2NrSGFzaCQzLmNhbGwodGhpcyksdGhpcy5oPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0sdGhpcy5XPW5ldyBBcnJheSg4MCl9dXRpbHMkNi5pbmhlcml0cyhTSEExLEJsb2NrSGFzaCQzKTt2YXIgXzE9U0hBMTtTSEExLmJsb2NrU2l6ZT01MTI7U0hBMS5vdXRTaXplPTE2MDtTSEExLmhtYWNTdHJlbmd0aD04MDtTSEExLnBhZExlbmd0aD02NDtTSEExLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUsbil7Zm9yKHZhciBvPXRoaXMuVyxkPTA7ZDwxNjtkKyspb1tkXT1lW24rZF07Zm9yKDtkPG8ubGVuZ3RoO2QrKylvW2RdPXJvdGwzMiQxKG9bZC0zXV5vW2QtOF1eb1tkLTE0XV5vW2QtMTZdLDEpO3ZhciBoPXRoaXMuaFswXSxsPXRoaXMuaFsxXSx1PXRoaXMuaFsyXSxwPXRoaXMuaFszXSxnPXRoaXMuaFs0XTtmb3IoZD0wO2Q8by5sZW5ndGg7ZCsrKXt2YXIgdj1+fihkLzIwKSxiPXN1bTMyXzUkMShyb3RsMzIkMShoLDUpLGZ0XzEodixsLHUscCksZyxvW2RdLHNoYTFfS1t2XSk7Zz1wLHA9dSx1PXJvdGwzMiQxKGwsMzApLGw9aCxoPWJ9dGhpcy5oWzBdPXN1bTMyJDIodGhpcy5oWzBdLGgpLHRoaXMuaFsxXT1zdW0zMiQyKHRoaXMuaFsxXSxsKSx0aGlzLmhbMl09c3VtMzIkMih0aGlzLmhbMl0sdSksdGhpcy5oWzNdPXN1bTMyJDIodGhpcy5oWzNdLHApLHRoaXMuaFs0XT1zdW0zMiQyKHRoaXMuaFs0XSxnKX07U0hBMS5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PSJoZXgiP3V0aWxzJDYudG9IZXgzMih0aGlzLmgsImJpZyIpOnV0aWxzJDYuc3BsaXQzMih0aGlzLmgsImJpZyIpfTt2YXIgdXRpbHMkNT11dGlscyQ5LGNvbW1vbiQyPWNvbW1vbiQ1LHNoYUNvbW1vbj1jb21tb24kNCxhc3NlcnQkMj1taW5pbWFsaXN0aWNBc3NlcnQsc3VtMzIkMT11dGlscyQ1LnN1bTMyLHN1bTMyXzQkMT11dGlscyQ1LnN1bTMyXzQsc3VtMzJfNT11dGlscyQ1LnN1bTMyXzUsY2gzMj1zaGFDb21tb24uY2gzMixtYWozMj1zaGFDb21tb24ubWFqMzIsczBfMjU2PXNoYUNvbW1vbi5zMF8yNTYsczFfMjU2PXNoYUNvbW1vbi5zMV8yNTYsZzBfMjU2PXNoYUNvbW1vbi5nMF8yNTYsZzFfMjU2PXNoYUNvbW1vbi5nMV8yNTYsQmxvY2tIYXNoJDI9Y29tbW9uJDIuQmxvY2tIYXNoLHNoYTI1Nl9LPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdO2Z1bmN0aW9uIFNIQTI1NiQxKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgU0hBMjU2JDEpKXJldHVybiBuZXcgU0hBMjU2JDE7QmxvY2tIYXNoJDIuY2FsbCh0aGlzKSx0aGlzLmg9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSx0aGlzLms9c2hhMjU2X0ssdGhpcy5XPW5ldyBBcnJheSg2NCl9dXRpbHMkNS5pbmhlcml0cyhTSEEyNTYkMSxCbG9ja0hhc2gkMik7dmFyIF8yNTY9U0hBMjU2JDE7U0hBMjU2JDEuYmxvY2tTaXplPTUxMjtTSEEyNTYkMS5vdXRTaXplPTI1NjtTSEEyNTYkMS5obWFjU3RyZW5ndGg9MTkyO1NIQTI1NiQxLnBhZExlbmd0aD02NDtTSEEyNTYkMS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlLG4pe2Zvcih2YXIgbz10aGlzLlcsZD0wO2Q8MTY7ZCsrKW9bZF09ZVtuK2RdO2Zvcig7ZDxvLmxlbmd0aDtkKyspb1tkXT1zdW0zMl80JDEoZzFfMjU2KG9bZC0yXSksb1tkLTddLGcwXzI1NihvW2QtMTVdKSxvW2QtMTZdKTt2YXIgaD10aGlzLmhbMF0sbD10aGlzLmhbMV0sdT10aGlzLmhbMl0scD10aGlzLmhbM10sZz10aGlzLmhbNF0sdj10aGlzLmhbNV0sYj10aGlzLmhbNl0sXz10aGlzLmhbN107Zm9yKGFzc2VydCQyKHRoaXMuay5sZW5ndGg9PT1vLmxlbmd0aCksZD0wO2Q8by5sZW5ndGg7ZCsrKXt2YXIgTz1zdW0zMl81KF8sczFfMjU2KGcpLGNoMzIoZyx2LGIpLHRoaXMua1tkXSxvW2RdKSxUPXN1bTMyJDEoczBfMjU2KGgpLG1hajMyKGgsbCx1KSk7Xz1iLGI9dix2PWcsZz1zdW0zMiQxKHAsTykscD11LHU9bCxsPWgsaD1zdW0zMiQxKE8sVCl9dGhpcy5oWzBdPXN1bTMyJDEodGhpcy5oWzBdLGgpLHRoaXMuaFsxXT1zdW0zMiQxKHRoaXMuaFsxXSxsKSx0aGlzLmhbMl09c3VtMzIkMSh0aGlzLmhbMl0sdSksdGhpcy5oWzNdPXN1bTMyJDEodGhpcy5oWzNdLHApLHRoaXMuaFs0XT1zdW0zMiQxKHRoaXMuaFs0XSxnKSx0aGlzLmhbNV09c3VtMzIkMSh0aGlzLmhbNV0sdiksdGhpcy5oWzZdPXN1bTMyJDEodGhpcy5oWzZdLGIpLHRoaXMuaFs3XT1zdW0zMiQxKHRoaXMuaFs3XSxfKX07U0hBMjU2JDEucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0iaGV4Ij91dGlscyQ1LnRvSGV4MzIodGhpcy5oLCJiaWciKTp1dGlscyQ1LnNwbGl0MzIodGhpcy5oLCJiaWciKX07dmFyIHV0aWxzJDQ9dXRpbHMkOSxTSEEyNTY9XzI1NjtmdW5jdGlvbiBTSEEyMjQoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBTSEEyMjQpKXJldHVybiBuZXcgU0hBMjI0O1NIQTI1Ni5jYWxsKHRoaXMpLHRoaXMuaD1bMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF19dXRpbHMkNC5pbmhlcml0cyhTSEEyMjQsU0hBMjU2KTt2YXIgXzIyND1TSEEyMjQ7U0hBMjI0LmJsb2NrU2l6ZT01MTI7U0hBMjI0Lm91dFNpemU9MjI0O1NIQTIyNC5obWFjU3RyZW5ndGg9MTkyO1NIQTIyNC5wYWRMZW5ndGg9NjQ7U0hBMjI0LnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09ImhleCI/dXRpbHMkNC50b0hleDMyKHRoaXMuaC5zbGljZSgwLDcpLCJiaWciKTp1dGlscyQ0LnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsNyksImJpZyIpfTt2YXIgdXRpbHMkMz11dGlscyQ5LGNvbW1vbiQxPWNvbW1vbiQ1LGFzc2VydCQxPW1pbmltYWxpc3RpY0Fzc2VydCxyb3RyNjRfaGk9dXRpbHMkMy5yb3RyNjRfaGkscm90cjY0X2xvPXV0aWxzJDMucm90cjY0X2xvLHNocjY0X2hpPXV0aWxzJDMuc2hyNjRfaGksc2hyNjRfbG89dXRpbHMkMy5zaHI2NF9sbyxzdW02ND11dGlscyQzLnN1bTY0LHN1bTY0X2hpPXV0aWxzJDMuc3VtNjRfaGksc3VtNjRfbG89dXRpbHMkMy5zdW02NF9sbyxzdW02NF80X2hpPXV0aWxzJDMuc3VtNjRfNF9oaSxzdW02NF80X2xvPXV0aWxzJDMuc3VtNjRfNF9sbyxzdW02NF81X2hpPXV0aWxzJDMuc3VtNjRfNV9oaSxzdW02NF81X2xvPXV0aWxzJDMuc3VtNjRfNV9sbyxCbG9ja0hhc2gkMT1jb21tb24kMS5CbG9ja0hhc2gsc2hhNTEyX0s9WzExMTYzNTI0MDgsMzYwOTc2NzQ1OCwxODk5NDQ3NDQxLDYwMjg5MTcyNSwzMDQ5MzIzNDcxLDM5NjQ0ODQzOTksMzkyMTAwOTU3MywyMTczMjk1NTQ4LDk2MTk4NzE2Myw0MDgxNjI4NDcyLDE1MDg5NzA5OTMsMzA1MzgzNDI2NSwyNDUzNjM1NzQ4LDI5Mzc2NzE1NzksMjg3MDc2MzIyMSwzNjY0NjA5NTYwLDM2MjQzODEwODAsMjczNDg4MzM5NCwzMTA1OTg0MDEsMTE2NDk5NjU0Miw2MDcyMjUyNzgsMTMyMzYxMDc2NCwxNDI2ODgxOTg3LDM1OTAzMDQ5OTQsMTkyNTA3ODM4OCw0MDY4MTgyMzgzLDIxNjIwNzgyMDYsOTkxMzM2MTEzLDI2MTQ4ODgxMDMsNjMzODAzMzE3LDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCwzODM1MzkwNDAxLDI2NjY2MTM0NTgsNDAyMjIyNDc3NCw5NDQ3MTExMzksMjY0MzQ3MDc4LDIzNDEyNjI3NzMsNjA0ODA3NjI4LDIwMDc4MDA5MzMsNzcwMjU1OTgzLDE0OTU5OTA5MDEsMTI0OTE1MDEyMiwxODU2NDMxMjM1LDE1NTUwODE2OTIsMzE3NTIxODEzMiwxOTk2MDY0OTg2LDIxOTg5NTA4MzcsMjU1NDIyMDg4MiwzOTk5NzE5MzM5LDI4MjE4MzQzNDksNzY2Nzg0MDE2LDI5NTI5OTY4MDgsMjU2NjU5NDg3OSwzMjEwMzEzNjcxLDMyMDMzMzc5NTYsMzMzNjU3MTg5MSwxMDM0NDU3MDI2LDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSwxMTM5MjY5OTMsMzc1ODMyNjM4MywzMzgyNDE4OTUsMTY4NzE3OTM2LDY2NjMwNzIwNSwxMTg4MTc5OTY0LDc3MzUyOTkxMiwxNTQ2MDQ1NzM0LDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSwxMzk2MTgyMjkxLDI2NDM4MzM4MjMsMTY5NTE4MzcwMCwyMzQzNTI3MzkwLDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCwyMTc3MDI2MzUwLDEyMDY3NTkxNDIsMjQ1Njk1NjAzNywzNDQwNzc2MjcsMjczMDQ4NTkyMSwxMjkwODYzNDYwLDI4MjAzMDI0MTEsMzE1ODQ1NDI3MywzMjU5NzMwODAwLDM1MDU5NTI2NTcsMzM0NTc2NDc3MSwxMDYyMTcwMDgsMzUxNjA2NTgxNywzNjA2MDA4MzQ0LDM2MDAzNTI4MDQsMTQzMjcyNTc3Niw0MDk0NTcxOTA5LDE0NjcwMzE1OTQsMjc1NDIzMzQ0LDg1MTE2OTcyMCw0MzAyMjc3MzQsMzEwMDgyMzc1Miw1MDY5NDg2MTYsMTM2MzI1ODE5NSw2NTkwNjA1NTYsMzc1MDY4NTU5Myw4ODM5OTc4NzcsMzc4NTA1MDI4MCw5NTgxMzk1NzEsMzMxODMwNzQyNywxMzIyODIyMjE4LDM4MTI3MjM0MDMsMTUzNzAwMjA2MywyMDAzMDM0OTk1LDE3NDc4NzM3NzksMzYwMjAzNjg5OSwxOTU1NTYyMjIyLDE1NzU5OTAwMTIsMjAyNDEwNDgxNSwxMTI1NTkyOTI4LDIyMjc3MzA0NTIsMjcxNjkwNDMwNiwyMzYxODUyNDI0LDQ0Mjc3NjA0NCwyNDI4NDM2NDc0LDU5MzY5ODM0NCwyNzU2NzM0MTg3LDM3MzMxMTAyNDksMzIwNDAzMTQ3OSwyOTk5MzUxNTczLDMzMjkzMjUyOTgsMzgxNTkyMDQyNywzMzkxNTY5NjE0LDM5MjgzODM5MDAsMzUxNTI2NzI3MSw1NjYyODA3MTEsMzk0MDE4NzYwNiwzNDU0MDY5NTM0LDQxMTg2MzAyNzEsNDAwMDIzOTk5MiwxMTY0MTg0NzQsMTkxNDEzODU1NCwxNzQyOTI0MjEsMjczMTA1NTI3MCwyODkzODAzNTYsMzIwMzk5MzAwNiw0NjAzOTMyNjksMzIwNjIwMzE1LDY4NTQ3MTczMyw1ODc0OTY4MzYsODUyMTQyOTcxLDEwODY3OTI4NTEsMTAxNzAzNjI5OCwzNjU1NDMxMDAsMTEyNjAwMDU4MCwyNjE4Mjk3Njc2LDEyODgwMzM0NzAsMzQwOTg1NTE1OCwxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYsMTYwNzE2NzkxNSw5ODcxNjc0NjgsMTgxNjQwMjMxNiwxMjQ2MTg5NTkxXTtmdW5jdGlvbiBTSEE1MTIkMSgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFNIQTUxMiQxKSlyZXR1cm4gbmV3IFNIQTUxMiQxO0Jsb2NrSGFzaCQxLmNhbGwodGhpcyksdGhpcy5oPVsxNzc5MDMzNzAzLDQwODkyMzU3MjAsMzE0NDEzNDI3NywyMjI3ODczNTk1LDEwMTM5MDQyNDIsNDI3MTE3NTcyMywyNzczNDgwNzYyLDE1OTU3NTAxMjksMTM1OTg5MzExOSwyOTE3NTY1MTM3LDI2MDA4MjI5MjQsNzI1NTExMTk5LDUyODczNDYzNSw0MjE1Mzg5NTQ3LDE1NDE0NTkyMjUsMzI3MDMzMjA5XSx0aGlzLms9c2hhNTEyX0ssdGhpcy5XPW5ldyBBcnJheSgxNjApfXV0aWxzJDMuaW5oZXJpdHMoU0hBNTEyJDEsQmxvY2tIYXNoJDEpO3ZhciBfNTEyPVNIQTUxMiQxO1NIQTUxMiQxLmJsb2NrU2l6ZT0xMDI0O1NIQTUxMiQxLm91dFNpemU9NTEyO1NIQTUxMiQxLmhtYWNTdHJlbmd0aD0xOTI7U0hBNTEyJDEucGFkTGVuZ3RoPTEyODtTSEE1MTIkMS5wcm90b3R5cGUuX3ByZXBhcmVCbG9jaz1mdW5jdGlvbihlLG4pe2Zvcih2YXIgbz10aGlzLlcsZD0wO2Q8MzI7ZCsrKW9bZF09ZVtuK2RdO2Zvcig7ZDxvLmxlbmd0aDtkKz0yKXt2YXIgaD1nMV81MTJfaGkob1tkLTRdLG9bZC0zXSksbD1nMV81MTJfbG8ob1tkLTRdLG9bZC0zXSksdT1vW2QtMTRdLHA9b1tkLTEzXSxnPWcwXzUxMl9oaShvW2QtMzBdLG9bZC0yOV0pLHY9ZzBfNTEyX2xvKG9bZC0zMF0sb1tkLTI5XSksYj1vW2QtMzJdLF89b1tkLTMxXTtvW2RdPXN1bTY0XzRfaGkoaCxsLHUscCxnLHYsYixfKSxvW2QrMV09c3VtNjRfNF9sbyhoLGwsdSxwLGcsdixiLF8pfX07U0hBNTEyJDEucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSxuKXt0aGlzLl9wcmVwYXJlQmxvY2soZSxuKTt2YXIgbz10aGlzLlcsZD10aGlzLmhbMF0saD10aGlzLmhbMV0sbD10aGlzLmhbMl0sdT10aGlzLmhbM10scD10aGlzLmhbNF0sZz10aGlzLmhbNV0sdj10aGlzLmhbNl0sYj10aGlzLmhbN10sXz10aGlzLmhbOF0sTz10aGlzLmhbOV0sVD10aGlzLmhbMTBdLFM9dGhpcy5oWzExXSxOPXRoaXMuaFsxMl0sQj10aGlzLmhbMTNdLEw9dGhpcy5oWzE0XSxDPXRoaXMuaFsxNV07YXNzZXJ0JDEodGhpcy5rLmxlbmd0aD09PW8ubGVuZ3RoKTtmb3IodmFyIGo9MDtqPG8ubGVuZ3RoO2orPTIpe3ZhciBQPUwsRj1DLGs9czFfNTEyX2hpKF8sTyksSj1zMV81MTJfbG8oXyxPKSxhZT1jaDY0X2hpKF8sTyxULFMsTiksWD1jaDY0X2xvKF8sTyxULFMsTixCKSxHPXRoaXMua1tqXSxyZT10aGlzLmtbaisxXSxNPW9bal0sJD1vW2orMV0sVT1zdW02NF81X2hpKFAsRixrLEosYWUsWCxHLHJlLE0sJCksSD1zdW02NF81X2xvKFAsRixrLEosYWUsWCxHLHJlLE0sJCk7UD1zMF81MTJfaGkoZCxoKSxGPXMwXzUxMl9sbyhkLGgpLGs9bWFqNjRfaGkoZCxoLGwsdSxwKSxKPW1hajY0X2xvKGQsaCxsLHUscCxnKTt2YXIgZWU9c3VtNjRfaGkoUCxGLGssSiksZ2U9c3VtNjRfbG8oUCxGLGssSik7TD1OLEM9QixOPVQsQj1TLFQ9XyxTPU8sXz1zdW02NF9oaSh2LGIsVSxIKSxPPXN1bTY0X2xvKGIsYixVLEgpLHY9cCxiPWcscD1sLGc9dSxsPWQsdT1oLGQ9c3VtNjRfaGkoVSxILGVlLGdlKSxoPXN1bTY0X2xvKFUsSCxlZSxnZSl9c3VtNjQodGhpcy5oLDAsZCxoKSxzdW02NCh0aGlzLmgsMixsLHUpLHN1bTY0KHRoaXMuaCw0LHAsZyksc3VtNjQodGhpcy5oLDYsdixiKSxzdW02NCh0aGlzLmgsOCxfLE8pLHN1bTY0KHRoaXMuaCwxMCxULFMpLHN1bTY0KHRoaXMuaCwxMixOLEIpLHN1bTY0KHRoaXMuaCwxNCxMLEMpfTtTSEE1MTIkMS5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PSJoZXgiP3V0aWxzJDMudG9IZXgzMih0aGlzLmgsImJpZyIpOnV0aWxzJDMuc3BsaXQzMih0aGlzLmgsImJpZyIpfTtmdW5jdGlvbiBjaDY0X2hpKHQsZSxuLG8sZCl7dmFyIGg9dCZuXn50JmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9ZnVuY3Rpb24gY2g2NF9sbyh0LGUsbixvLGQsaCl7dmFyIGw9ZSZvXn5lJmg7cmV0dXJuIGw8MCYmKGwrPTQyOTQ5NjcyOTYpLGx9ZnVuY3Rpb24gbWFqNjRfaGkodCxlLG4sbyxkKXt2YXIgaD10Jm5edCZkXm4mZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBtYWo2NF9sbyh0LGUsbixvLGQsaCl7dmFyIGw9ZSZvXmUmaF5vJmg7cmV0dXJuIGw8MCYmKGwrPTQyOTQ5NjcyOTYpLGx9ZnVuY3Rpb24gczBfNTEyX2hpKHQsZSl7dmFyIG49cm90cjY0X2hpKHQsZSwyOCksbz1yb3RyNjRfaGkoZSx0LDIpLGQ9cm90cjY0X2hpKGUsdCw3KSxoPW5eb15kO3JldHVybiBoPDAmJihoKz00Mjk0OTY3Mjk2KSxofWZ1bmN0aW9uIHMwXzUxMl9sbyh0LGUpe3ZhciBuPXJvdHI2NF9sbyh0LGUsMjgpLG89cm90cjY0X2xvKGUsdCwyKSxkPXJvdHI2NF9sbyhlLHQsNyksaD1uXm9eZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBzMV81MTJfaGkodCxlKXt2YXIgbj1yb3RyNjRfaGkodCxlLDE0KSxvPXJvdHI2NF9oaSh0LGUsMTgpLGQ9cm90cjY0X2hpKGUsdCw5KSxoPW5eb15kO3JldHVybiBoPDAmJihoKz00Mjk0OTY3Mjk2KSxofWZ1bmN0aW9uIHMxXzUxMl9sbyh0LGUpe3ZhciBuPXJvdHI2NF9sbyh0LGUsMTQpLG89cm90cjY0X2xvKHQsZSwxOCksZD1yb3RyNjRfbG8oZSx0LDkpLGg9bl5vXmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9ZnVuY3Rpb24gZzBfNTEyX2hpKHQsZSl7dmFyIG49cm90cjY0X2hpKHQsZSwxKSxvPXJvdHI2NF9oaSh0LGUsOCksZD1zaHI2NF9oaSh0LGUsNyksaD1uXm9eZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBnMF81MTJfbG8odCxlKXt2YXIgbj1yb3RyNjRfbG8odCxlLDEpLG89cm90cjY0X2xvKHQsZSw4KSxkPXNocjY0X2xvKHQsZSw3KSxoPW5eb15kO3JldHVybiBoPDAmJihoKz00Mjk0OTY3Mjk2KSxofWZ1bmN0aW9uIGcxXzUxMl9oaSh0LGUpe3ZhciBuPXJvdHI2NF9oaSh0LGUsMTkpLG89cm90cjY0X2hpKGUsdCwyOSksZD1zaHI2NF9oaSh0LGUsNiksaD1uXm9eZDtyZXR1cm4gaDwwJiYoaCs9NDI5NDk2NzI5NiksaH1mdW5jdGlvbiBnMV81MTJfbG8odCxlKXt2YXIgbj1yb3RyNjRfbG8odCxlLDE5KSxvPXJvdHI2NF9sbyhlLHQsMjkpLGQ9c2hyNjRfbG8odCxlLDYpLGg9bl5vXmQ7cmV0dXJuIGg8MCYmKGgrPTQyOTQ5NjcyOTYpLGh9dmFyIHV0aWxzJDI9dXRpbHMkOSxTSEE1MTI9XzUxMjtmdW5jdGlvbiBTSEEzODQoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBTSEEzODQpKXJldHVybiBuZXcgU0hBMzg0O1NIQTUxMi5jYWxsKHRoaXMpLHRoaXMuaD1bMzQxODA3MDM2NSwzMjM4MzcxMDMyLDE2NTQyNzAyNTAsOTE0MTUwNjYzLDI0Mzg1MjkzNzAsODEyNzAyOTk5LDM1NTQ2MjM2MCw0MTQ0OTEyNjk3LDE3MzE0MDU0MTUsNDI5MDc3NTg1NywyMzk0MTgwMjMxLDE3NTA2MDMwMjUsMzY3NTAwODUyNSwxNjk0MDc2ODM5LDEyMDMwNjI4MTMsMzIwNDA3NTQyOF19dXRpbHMkMi5pbmhlcml0cyhTSEEzODQsU0hBNTEyKTt2YXIgXzM4ND1TSEEzODQ7U0hBMzg0LmJsb2NrU2l6ZT0xMDI0O1NIQTM4NC5vdXRTaXplPTM4NDtTSEEzODQuaG1hY1N0cmVuZ3RoPTE5MjtTSEEzODQucGFkTGVuZ3RoPTEyODtTSEEzODQucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0iaGV4Ij91dGlscyQyLnRvSGV4MzIodGhpcy5oLnNsaWNlKDAsMTIpLCJiaWciKTp1dGlscyQyLnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsMTIpLCJiaWciKX07c2hhLnNoYTE9XzE7c2hhLnNoYTIyND1fMjI0O3NoYS5zaGEyNTY9XzI1NjtzaGEuc2hhMzg0PV8zODQ7c2hhLnNoYTUxMj1fNTEyO3ZhciByaXBlbWQ9e30sdXRpbHMkMT11dGlscyQ5LGNvbW1vbj1jb21tb24kNSxyb3RsMzI9dXRpbHMkMS5yb3RsMzIsc3VtMzI9dXRpbHMkMS5zdW0zMixzdW0zMl8zPXV0aWxzJDEuc3VtMzJfMyxzdW0zMl80PXV0aWxzJDEuc3VtMzJfNCxCbG9ja0hhc2g9Y29tbW9uLkJsb2NrSGFzaDtmdW5jdGlvbiBSSVBFTUQxNjAoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBSSVBFTUQxNjApKXJldHVybiBuZXcgUklQRU1EMTYwO0Jsb2NrSGFzaC5jYWxsKHRoaXMpLHRoaXMuaD1bMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdLHRoaXMuZW5kaWFuPSJsaXR0bGUifXV0aWxzJDEuaW5oZXJpdHMoUklQRU1EMTYwLEJsb2NrSGFzaCk7cmlwZW1kLnJpcGVtZDE2MD1SSVBFTUQxNjA7UklQRU1EMTYwLmJsb2NrU2l6ZT01MTI7UklQRU1EMTYwLm91dFNpemU9MTYwO1JJUEVNRDE2MC5obWFjU3RyZW5ndGg9MTkyO1JJUEVNRDE2MC5wYWRMZW5ndGg9NjQ7UklQRU1EMTYwLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUsbil7Zm9yKHZhciBvPXRoaXMuaFswXSxkPXRoaXMuaFsxXSxoPXRoaXMuaFsyXSxsPXRoaXMuaFszXSx1PXRoaXMuaFs0XSxwPW8sZz1kLHY9aCxiPWwsXz11LE89MDtPPDgwO08rKyl7dmFyIFQ9c3VtMzIocm90bDMyKHN1bTMyXzQobyxmKE8sZCxoLGwpLGVbcltPXStuXSxLKE8pKSxzW09dKSx1KTtvPXUsdT1sLGw9cm90bDMyKGgsMTApLGg9ZCxkPVQsVD1zdW0zMihyb3RsMzIoc3VtMzJfNChwLGYoNzktTyxnLHYsYiksZVtyaFtPXStuXSxLaChPKSksc2hbT10pLF8pLHA9XyxfPWIsYj1yb3RsMzIodiwxMCksdj1nLGc9VH1UPXN1bTMyXzModGhpcy5oWzFdLGgsYiksdGhpcy5oWzFdPXN1bTMyXzModGhpcy5oWzJdLGwsXyksdGhpcy5oWzJdPXN1bTMyXzModGhpcy5oWzNdLHUscCksdGhpcy5oWzNdPXN1bTMyXzModGhpcy5oWzRdLG8sZyksdGhpcy5oWzRdPXN1bTMyXzModGhpcy5oWzBdLGQsdiksdGhpcy5oWzBdPVR9O1JJUEVNRDE2MC5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PSJoZXgiP3V0aWxzJDEudG9IZXgzMih0aGlzLmgsImxpdHRsZSIpOnV0aWxzJDEuc3BsaXQzMih0aGlzLmgsImxpdHRsZSIpfTtmdW5jdGlvbiBmKHQsZSxuLG8pe3JldHVybiB0PD0xNT9lXm5ebzp0PD0zMT9lJm58fmUmbzp0PD00Nz8oZXx+bilebzp0PD02Mz9lJm98biZ+bzplXihufH5vKX1mdW5jdGlvbiBLKHQpe3JldHVybiB0PD0xNT8wOnQ8PTMxPzE1MTg1MDAyNDk6dDw9NDc/MTg1OTc3NTM5Mzp0PD02Mz8yNDAwOTU5NzA4OjI4NDA4NTM4Mzh9ZnVuY3Rpb24gS2godCl7cmV0dXJuIHQ8PTE1PzEzNTI4Mjk5MjY6dDw9MzE/MTU0ODYwMzY4NDp0PD00Nz8xODM2MDcyNjkxOnQ8PTYzPzIwNTM5OTQyMTc6MH12YXIgcj1bMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSw3LDQsMTMsMSwxMCw2LDE1LDMsMTIsMCw5LDUsMiwxNCwxMSw4LDMsMTAsMTQsNCw5LDE1LDgsMSwyLDcsMCw2LDEzLDExLDUsMTIsMSw5LDExLDEwLDAsOCwxMiw0LDEzLDMsNywxNSwxNCw1LDYsMiw0LDAsNSw5LDcsMTIsMiwxMCwxNCwxLDMsOCwxMSw2LDE1LDEzXSxyaD1bNSwxNCw3LDAsOSwyLDExLDQsMTMsNiwxNSw4LDEsMTAsMywxMiw2LDExLDMsNywwLDEzLDUsMTAsMTQsMTUsOCwxMiw0LDksMSwyLDE1LDUsMSwzLDcsMTQsNiw5LDExLDgsMTIsMiwxMCwwLDQsMTMsOCw2LDQsMSwzLDExLDE1LDAsNSwxMiwyLDEzLDksNywxMCwxNCwxMiwxNSwxMCw0LDEsNSw4LDcsNiwyLDEzLDE0LDAsMyw5LDExXSxzPVsxMSwxNCwxNSwxMiw1LDgsNyw5LDExLDEzLDE0LDE1LDYsNyw5LDgsNyw2LDgsMTMsMTEsOSw3LDE1LDcsMTIsMTUsOSwxMSw3LDEzLDEyLDExLDEzLDYsNywxNCw5LDEzLDE1LDE0LDgsMTMsNiw1LDEyLDcsNSwxMSwxMiwxNCwxNSwxNCwxNSw5LDgsOSwxNCw1LDYsOCw2LDUsMTIsOSwxNSw1LDExLDYsOCwxMywxMiw1LDEyLDEzLDE0LDExLDgsNSw2XSxzaD1bOCw5LDksMTEsMTMsMTUsMTUsNSw3LDcsOCwxMSwxNCwxNCwxMiw2LDksMTMsMTUsNywxMiw4LDksMTEsNyw3LDEyLDcsNiwxNSwxMywxMSw5LDcsMTUsMTEsOCw2LDYsMTQsMTIsMTMsNSwxNCwxMywxMyw3LDUsMTUsNSw4LDExLDE0LDE0LDYsMTQsNiw5LDEyLDksMTIsNSwxNSw4LDgsNSwxMiw5LDEyLDUsMTQsNiw4LDEzLDYsNSwxNSwxMywxMSwxMV0sdXRpbHM9dXRpbHMkOSxhc3NlcnQ9bWluaW1hbGlzdGljQXNzZXJ0O2Z1bmN0aW9uIEhtYWModCxlLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIEhtYWMpKXJldHVybiBuZXcgSG1hYyh0LGUsbik7dGhpcy5IYXNoPXQsdGhpcy5ibG9ja1NpemU9dC5ibG9ja1NpemUvOCx0aGlzLm91dFNpemU9dC5vdXRTaXplLzgsdGhpcy5pbm5lcj1udWxsLHRoaXMub3V0ZXI9bnVsbCx0aGlzLl9pbml0KHV0aWxzLnRvQXJyYXkoZSxuKSl9dmFyIGhtYWM9SG1hYztIbWFjLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbihlKXtlLmxlbmd0aD50aGlzLmJsb2NrU2l6ZSYmKGU9bmV3IHRoaXMuSGFzaCgpLnVwZGF0ZShlKS5kaWdlc3QoKSksYXNzZXJ0KGUubGVuZ3RoPD10aGlzLmJsb2NrU2l6ZSk7Zm9yKHZhciBuPWUubGVuZ3RoO248dGhpcy5ibG9ja1NpemU7bisrKWUucHVzaCgwKTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKWVbbl1ePTU0O2Zvcih0aGlzLmlubmVyPW5ldyB0aGlzLkhhc2goKS51cGRhdGUoZSksbj0wO248ZS5sZW5ndGg7bisrKWVbbl1ePTEwNjt0aGlzLm91dGVyPW5ldyB0aGlzLkhhc2goKS51cGRhdGUoZSl9O0htYWMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLmlubmVyLnVwZGF0ZShlLG4pLHRoaXN9O0htYWMucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vdXRlci51cGRhdGUodGhpcy5pbm5lci5kaWdlc3QoKSksdGhpcy5vdXRlci5kaWdlc3QoZSl9OyhmdW5jdGlvbih0KXt2YXIgZT10O2UudXRpbHM9dXRpbHMkOSxlLmNvbW1vbj1jb21tb24kNSxlLnNoYT1zaGEsZS5yaXBlbWQ9cmlwZW1kLGUuaG1hYz1obWFjLGUuc2hhMT1lLnNoYS5zaGExLGUuc2hhMjU2PWUuc2hhLnNoYTI1NixlLnNoYTIyND1lLnNoYS5zaGEyMjQsZS5zaGEzODQ9ZS5zaGEuc2hhMzg0LGUuc2hhNTEyPWUuc2hhLnNoYTUxMixlLnJpcGVtZDE2MD1lLnJpcGVtZC5yaXBlbWQxNjB9KShoYXNoKTt2YXIgcmRmVGVybXM9e30sUXVhZFRlcm1VdGlsPXt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWFkVGVybVV0aWwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO1F1YWRUZXJtVXRpbC5tYXRjaFBhdHRlcm5NYXBwaW5ncz1RdWFkVGVybVV0aWwubWF0Y2hQYXR0ZXJuQ29tcGxldGU9UXVhZFRlcm1VdGlsLm1hdGNoUGF0dGVybj1RdWFkVGVybVV0aWwubWF0Y2hUZXJtPVF1YWRUZXJtVXRpbC5zb21lVGVybXM9UXVhZFRlcm1VdGlsLmV2ZXJ5VGVybXM9UXVhZFRlcm1VdGlsLnJlZHVjZVRlcm1zPVF1YWRUZXJtVXRpbC5tYXBUZXJtcz1RdWFkVGVybVV0aWwuZmlsdGVyUXVhZFRlcm1OYW1lcz1RdWFkVGVybVV0aWwuZmlsdGVyVGVybXM9UXVhZFRlcm1VdGlsLmZvckVhY2hUZXJtcz1RdWFkVGVybVV0aWwuY29sbGVjdE5hbWVkVGVybXM9UXVhZFRlcm1VdGlsLmdldE5hbWVkVGVybXM9UXVhZFRlcm1VdGlsLmdldFRlcm1zTmVzdGVkPVF1YWRUZXJtVXRpbC5nZXRUZXJtcz1RdWFkVGVybVV0aWwuVFJJUExFX1RFUk1fTkFNRVM9UXVhZFRlcm1VdGlsLlFVQURfVEVSTV9OQU1FUz12b2lkIDA7Y29uc3QgcmRmX2RhdGFfZmFjdG9yeV8xPXJkZkRhdGFGYWN0b3J5LERGPW5ldyByZGZfZGF0YV9mYWN0b3J5XzEuRGF0YUZhY3Rvcnk7UXVhZFRlcm1VdGlsLlFVQURfVEVSTV9OQU1FUz1bInN1YmplY3QiLCJwcmVkaWNhdGUiLCJvYmplY3QiLCJncmFwaCJdO1F1YWRUZXJtVXRpbC5UUklQTEVfVEVSTV9OQU1FUz1bInN1YmplY3QiLCJwcmVkaWNhdGUiLCJvYmplY3QiXTtmdW5jdGlvbiBnZXRUZXJtcyh0LGUpe3JldHVybiBlJiZ0LmdyYXBoLnRlcm1UeXBlPT09IkRlZmF1bHRHcmFwaCI/W3Quc3ViamVjdCx0LnByZWRpY2F0ZSx0Lm9iamVjdF06W3Quc3ViamVjdCx0LnByZWRpY2F0ZSx0Lm9iamVjdCx0LmdyYXBoXX1RdWFkVGVybVV0aWwuZ2V0VGVybXM9Z2V0VGVybXM7ZnVuY3Rpb24gZ2V0VGVybXNOZXN0ZWQodCxlKXtjb25zdCBuPVtdO2Zvcihjb25zdCBvIG9mIGdldFRlcm1zKHQsZSkpby50ZXJtVHlwZT09PSJRdWFkIj9nZXRUZXJtc05lc3RlZChvLGUpLmZvckVhY2goZD0+bi5wdXNoKGQpKTpuLnB1c2gobyk7cmV0dXJuIG59UXVhZFRlcm1VdGlsLmdldFRlcm1zTmVzdGVkPWdldFRlcm1zTmVzdGVkO2Z1bmN0aW9uIGdldE5hbWVkVGVybXModCl7cmV0dXJuW3trZXk6InN1YmplY3QiLHZhbHVlOnQuc3ViamVjdH0se2tleToicHJlZGljYXRlIix2YWx1ZTp0LnByZWRpY2F0ZX0se2tleToib2JqZWN0Iix2YWx1ZTp0Lm9iamVjdH0se2tleToiZ3JhcGgiLHZhbHVlOnQuZ3JhcGh9XX1RdWFkVGVybVV0aWwuZ2V0TmFtZWRUZXJtcz1nZXROYW1lZFRlcm1zO2Z1bmN0aW9uIGNvbGxlY3ROYW1lZFRlcm1zKHQsZSxuKXtjb25zdCBvPXt9O3JldHVybiB0LmZvckVhY2goZD0+b1tkLmtleV09ZC52YWx1ZSksZSYmKG8uc3ViamVjdD1vLnN1YmplY3R8fGUoInN1YmplY3QiKSxvLnByZWRpY2F0ZT1vLnByZWRpY2F0ZXx8ZSgicHJlZGljYXRlIiksby5vYmplY3Q9by5vYmplY3R8fGUoIm9iamVjdCIpLG8uZ3JhcGg9by5ncmFwaHx8ZSgiZ3JhcGgiKSksKG58fERGKS5xdWFkKG8uc3ViamVjdCxvLnByZWRpY2F0ZSxvLm9iamVjdCxvLmdyYXBoKX1RdWFkVGVybVV0aWwuY29sbGVjdE5hbWVkVGVybXM9Y29sbGVjdE5hbWVkVGVybXM7ZnVuY3Rpb24gZm9yRWFjaFRlcm1zKHQsZSl7ZSh0LnN1YmplY3QsInN1YmplY3QiKSxlKHQucHJlZGljYXRlLCJwcmVkaWNhdGUiKSxlKHQub2JqZWN0LCJvYmplY3QiKSxlKHQuZ3JhcGgsImdyYXBoIil9UXVhZFRlcm1VdGlsLmZvckVhY2hUZXJtcz1mb3JFYWNoVGVybXM7ZnVuY3Rpb24gZmlsdGVyVGVybXModCxlKXtjb25zdCBuPVtdO3JldHVybiBlKHQuc3ViamVjdCwic3ViamVjdCIpJiZuLnB1c2godC5zdWJqZWN0KSxlKHQucHJlZGljYXRlLCJwcmVkaWNhdGUiKSYmbi5wdXNoKHQucHJlZGljYXRlKSxlKHQub2JqZWN0LCJvYmplY3QiKSYmbi5wdXNoKHQub2JqZWN0KSxlKHQuZ3JhcGgsImdyYXBoIikmJm4ucHVzaCh0LmdyYXBoKSxufVF1YWRUZXJtVXRpbC5maWx0ZXJUZXJtcz1maWx0ZXJUZXJtcztmdW5jdGlvbiBmaWx0ZXJRdWFkVGVybU5hbWVzKHQsZSl7Y29uc3Qgbj1bXTtyZXR1cm4gZSh0LnN1YmplY3QsInN1YmplY3QiKSYmbi5wdXNoKCJzdWJqZWN0IiksZSh0LnByZWRpY2F0ZSwicHJlZGljYXRlIikmJm4ucHVzaCgicHJlZGljYXRlIiksZSh0Lm9iamVjdCwib2JqZWN0IikmJm4ucHVzaCgib2JqZWN0IiksZSh0LmdyYXBoLCJncmFwaCIpJiZuLnB1c2goImdyYXBoIiksbn1RdWFkVGVybVV0aWwuZmlsdGVyUXVhZFRlcm1OYW1lcz1maWx0ZXJRdWFkVGVybU5hbWVzO2Z1bmN0aW9uIG1hcFRlcm1zKHQsZSxuKXtyZXR1cm4obnx8REYpLnF1YWQoZSh0LnN1YmplY3QsInN1YmplY3QiKSxlKHQucHJlZGljYXRlLCJwcmVkaWNhdGUiKSxlKHQub2JqZWN0LCJvYmplY3QiKSxlKHQuZ3JhcGgsImdyYXBoIikpfVF1YWRUZXJtVXRpbC5tYXBUZXJtcz1tYXBUZXJtcztmdW5jdGlvbiByZWR1Y2VUZXJtcyh0LGUsbil7bGV0IG89bjtyZXR1cm4gbz1lKG8sdC5zdWJqZWN0LCJzdWJqZWN0Iiksbz1lKG8sdC5wcmVkaWNhdGUsInByZWRpY2F0ZSIpLG89ZShvLHQub2JqZWN0LCJvYmplY3QiKSxlKG8sdC5ncmFwaCwiZ3JhcGgiKX1RdWFkVGVybVV0aWwucmVkdWNlVGVybXM9cmVkdWNlVGVybXM7ZnVuY3Rpb24gZXZlcnlUZXJtcyh0LGUpe3JldHVybiBlKHQuc3ViamVjdCwic3ViamVjdCIpJiZlKHQucHJlZGljYXRlLCJwcmVkaWNhdGUiKSYmZSh0Lm9iamVjdCwib2JqZWN0IikmJmUodC5ncmFwaCwiZ3JhcGgiKX1RdWFkVGVybVV0aWwuZXZlcnlUZXJtcz1ldmVyeVRlcm1zO2Z1bmN0aW9uIHNvbWVUZXJtcyh0LGUpe3JldHVybiBlKHQuc3ViamVjdCwic3ViamVjdCIpfHxlKHQucHJlZGljYXRlLCJwcmVkaWNhdGUiKXx8ZSh0Lm9iamVjdCwib2JqZWN0Iil8fGUodC5ncmFwaCwiZ3JhcGgiKX1RdWFkVGVybVV0aWwuc29tZVRlcm1zPXNvbWVUZXJtcztmdW5jdGlvbiBtYXRjaFRlcm0odCxlKXtyZXR1cm4hZXx8ZS50ZXJtVHlwZT09PSJWYXJpYWJsZSJ8fGUudGVybVR5cGU9PT0iUXVhZCImJnQudGVybVR5cGU9PT0iUXVhZCImJm1hdGNoUGF0dGVybkNvbXBsZXRlKHQsZSl8fGUuZXF1YWxzKHQpfVF1YWRUZXJtVXRpbC5tYXRjaFRlcm09bWF0Y2hUZXJtO2Z1bmN0aW9uIG1hdGNoUGF0dGVybih0LGUsbixvLGQpe3JldHVybiBtYXRjaFRlcm0odC5zdWJqZWN0LGUpJiZtYXRjaFRlcm0odC5wcmVkaWNhdGUsbikmJm1hdGNoVGVybSh0Lm9iamVjdCxvKSYmbWF0Y2hUZXJtKHQuZ3JhcGgsZCl9UXVhZFRlcm1VdGlsLm1hdGNoUGF0dGVybj1tYXRjaFBhdHRlcm47ZnVuY3Rpb24gbWF0Y2hQYXR0ZXJuQ29tcGxldGUodCxlKXtyZXR1cm4gbWF0Y2hQYXR0ZXJuKHQsZS5zdWJqZWN0LGUucHJlZGljYXRlLGUub2JqZWN0LGUuZ3JhcGgpfVF1YWRUZXJtVXRpbC5tYXRjaFBhdHRlcm5Db21wbGV0ZT1tYXRjaFBhdHRlcm5Db21wbGV0ZTtmdW5jdGlvbiBtYXRjaFBhdHRlcm5NYXBwaW5ncyh0LGUsbj17fSl7Y29uc3Qgbz17fTtmdW5jdGlvbiBkKGgsbCl7cmV0dXJuIGV2ZXJ5VGVybXMoaCwodSxwKT0+e3ZhciBnLHY7Y29uc3QgYj1sW3BdO3N3aXRjaCh1LnRlcm1UeXBlKXtjYXNlIlZhcmlhYmxlIjpyZXR1cm4gbi5za2lwVmFyTWFwcGluZyYmYi50ZXJtVHlwZT09PSJWYXJpYWJsZSJ8fCgodj0oZz1vW3UudmFsdWVdKT09PW51bGx8fGc9PT12b2lkIDA/dm9pZCAwOmcuZXF1YWxzKGIpKSE9PW51bGwmJnYhPT12b2lkIDA/djoob1t1LnZhbHVlXT1iLCEwKSk7Y2FzZSJRdWFkIjpyZXR1cm4gYi50ZXJtVHlwZT09PSJRdWFkIiYmZCh1LGIpO2RlZmF1bHQ6cmV0dXJuIHUuZXF1YWxzKGIpfX0pfXJldHVybiBkKGUsdCkmJihuLnJldHVybk1hcHBpbmdzP286ITApfVF1YWRUZXJtVXRpbC5tYXRjaFBhdHRlcm5NYXBwaW5ncz1tYXRjaFBhdHRlcm5NYXBwaW5nczt2YXIgVGVybVV0aWw9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KFRlcm1VdGlsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtUZXJtVXRpbC5nZXRRdWFkcz1UZXJtVXRpbC5nZXREZWZhdWx0R3JhcGhzPVRlcm1VdGlsLmdldFZhcmlhYmxlcz1UZXJtVXRpbC5nZXRMaXRlcmFscz1UZXJtVXRpbC5nZXRCbGFua05vZGVzPVRlcm1VdGlsLmdldE5hbWVkTm9kZXM9VGVybVV0aWwuZ2V0VGVybXNPZlR5cGU9VGVybVV0aWwudW5pcVRlcm1zPVRlcm1VdGlsLlRFUk1fVFlQRVM9dm9pZCAwO2NvbnN0IHJkZl9zdHJpbmdfMSQyPXJkZlN0cmluZztUZXJtVXRpbC5URVJNX1RZUEVTPVsiTmFtZWROb2RlIiwiQmxhbmtOb2RlIiwiTGl0ZXJhbCIsIlZhcmlhYmxlIiwiRGVmYXVsdEdyYXBoIiwiUXVhZCJdO2Z1bmN0aW9uIHVuaXFUZXJtcyh0KXtjb25zdCBlPXt9O3JldHVybiB0LmZpbHRlcihuPT57Y29uc3Qgbz1yZGZfc3RyaW5nXzEkMi50ZXJtVG9TdHJpbmcobik7cmV0dXJuIShvIGluIGUpJiYoZVtvXT0hMCl9KX1UZXJtVXRpbC51bmlxVGVybXM9dW5pcVRlcm1zO2Z1bmN0aW9uIGdldFRlcm1zT2ZUeXBlKHQsZSl7cmV0dXJuIHQuZmlsdGVyKG49Pm4udGVybVR5cGU9PT1lKX1UZXJtVXRpbC5nZXRUZXJtc09mVHlwZT1nZXRUZXJtc09mVHlwZTtmdW5jdGlvbiBnZXROYW1lZE5vZGVzKHQpe3JldHVybiBnZXRUZXJtc09mVHlwZSh0LCJOYW1lZE5vZGUiKX1UZXJtVXRpbC5nZXROYW1lZE5vZGVzPWdldE5hbWVkTm9kZXM7ZnVuY3Rpb24gZ2V0QmxhbmtOb2Rlcyh0KXtyZXR1cm4gZ2V0VGVybXNPZlR5cGUodCwiQmxhbmtOb2RlIil9VGVybVV0aWwuZ2V0QmxhbmtOb2Rlcz1nZXRCbGFua05vZGVzO2Z1bmN0aW9uIGdldExpdGVyYWxzKHQpe3JldHVybiBnZXRUZXJtc09mVHlwZSh0LCJMaXRlcmFsIil9VGVybVV0aWwuZ2V0TGl0ZXJhbHM9Z2V0TGl0ZXJhbHM7ZnVuY3Rpb24gZ2V0VmFyaWFibGVzKHQpe3JldHVybiBnZXRUZXJtc09mVHlwZSh0LCJWYXJpYWJsZSIpfVRlcm1VdGlsLmdldFZhcmlhYmxlcz1nZXRWYXJpYWJsZXM7ZnVuY3Rpb24gZ2V0RGVmYXVsdEdyYXBocyh0KXtyZXR1cm4gZ2V0VGVybXNPZlR5cGUodCwiRGVmYXVsdEdyYXBoIil9VGVybVV0aWwuZ2V0RGVmYXVsdEdyYXBocz1nZXREZWZhdWx0R3JhcGhzO2Z1bmN0aW9uIGdldFF1YWRzKHQpe3JldHVybiBnZXRUZXJtc09mVHlwZSh0LCJRdWFkIil9VGVybVV0aWwuZ2V0UXVhZHM9Z2V0UXVhZHM7KGZ1bmN0aW9uKHQpe3ZhciBlPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKG8sZCxoLGwpe2w9PT12b2lkIDAmJihsPWgpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLGwse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRbaF19fSl9OmZ1bmN0aW9uKG8sZCxoLGwpe2w9PT12b2lkIDAmJihsPWgpLG9bbF09ZFtoXX0pLG49Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24obyxkKXtmb3IodmFyIGggaW4gbyloIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsaCkmJmUoZCxvLGgpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbihRdWFkVGVybVV0aWwsdCksbihUZXJtVXRpbCx0KX0pKHJkZlRlcm1zKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoUmRmSXNvbW9ycGhpYywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7UmRmSXNvbW9ycGhpYy5pc1Rlcm1Hcm91bmRlZD1SZGZJc29tb3JwaGljLnRlcm1Ub1NpZ25hdHVyZT1SZGZJc29tb3JwaGljLnF1YWRUb1NpZ25hdHVyZT1SZGZJc29tb3JwaGljLnNoYTFoZXg9UmRmSXNvbW9ycGhpYy5oYXNoVGVybT1SZGZJc29tb3JwaGljLmhhc2hUZXJtcz1SZGZJc29tb3JwaGljLmdldEdyYXBoQmxhbmtOb2Rlcz1SZGZJc29tb3JwaGljLnVuaXFHcmFwaD1SZGZJc29tb3JwaGljLmRlaW5kZXhHcmFwaD1SZGZJc29tb3JwaGljLmluZGV4R3JhcGg9UmRmSXNvbW9ycGhpYy5nZXRRdWFkc1dpdGhvdXRCbGFua05vZGVzPVJkZklzb21vcnBoaWMuZ2V0UXVhZHNXaXRoQmxhbmtOb2Rlcz1SZGZJc29tb3JwaGljLmhhc1ZhbHVlPVJkZklzb21vcnBoaWMuaGFzaFZhbHVlcz1SZGZJc29tb3JwaGljLmdldEJpamVjdGlvbklubmVyPVJkZklzb21vcnBoaWMuZ2V0QmlqZWN0aW9uPVJkZklzb21vcnBoaWMuaXNvbW9ycGhpYz12b2lkIDA7Y29uc3QgaGFzaF9qc18xPWhhc2gscmRmX3N0cmluZ18xJDE9cmRmU3RyaW5nLHJkZl90ZXJtc18xPXJkZlRlcm1zO2Z1bmN0aW9uIGlzb21vcnBoaWModCxlKXtyZXR1cm4hIWdldEJpamVjdGlvbih0LGUpfVJkZklzb21vcnBoaWMuaXNvbW9ycGhpYz1pc29tb3JwaGljO2Z1bmN0aW9uIGdldEJpamVjdGlvbih0LGUpe2NvbnN0IG49aW5kZXhHcmFwaChnZXRRdWFkc1dpdGhvdXRCbGFua05vZGVzKHQpKSxvPWluZGV4R3JhcGgoZ2V0UXVhZHNXaXRob3V0QmxhbmtOb2RlcyhlKSk7aWYoT2JqZWN0LmtleXMobikubGVuZ3RoIT09T2JqZWN0LmtleXMobykubGVuZ3RoKXJldHVybiBudWxsO2Zvcihjb25zdCBwIGluIG4paWYobltwXSE9PW9bcF0pcmV0dXJuIG51bGw7Y29uc3QgZD11bmlxR3JhcGgoZ2V0UXVhZHNXaXRoQmxhbmtOb2Rlcyh0KSksaD11bmlxR3JhcGgoZ2V0UXVhZHNXaXRoQmxhbmtOb2RlcyhlKSksbD1nZXRHcmFwaEJsYW5rTm9kZXModCksdT1nZXRHcmFwaEJsYW5rTm9kZXMoZSk7cmV0dXJuIGdldEJpamVjdGlvbklubmVyKGQsaCxsLHUpfVJkZklzb21vcnBoaWMuZ2V0QmlqZWN0aW9uPWdldEJpamVjdGlvbjtmdW5jdGlvbiBnZXRCaWplY3Rpb25Jbm5lcih0LGUsbixvLGQsaCl7ZHx8KGQ9e30pLGh8fChoPXt9KTtjb25zdFtsLHVdPWhhc2hUZXJtcyh0LG4sZCksW3AsZ109aGFzaFRlcm1zKGUsbyxoKTtpZihPYmplY3Qua2V5cyhsKS5sZW5ndGghPT1PYmplY3Qua2V5cyhwKS5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGNvbnN0IGIgaW4gbClpZighaGFzVmFsdWUocCxsW2JdKSlyZXR1cm4gbnVsbDtsZXQgdj17fTtmb3IoY29uc3QgYiBvZiBuKXtjb25zdCBfPXJkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZyhiKSxPPXVbX107Zm9yKGNvbnN0IFQgaW4gZylpZihnW1RdPT09Tyl7dltfXT1ULGRlbGV0ZSBnW1RdO2JyZWFrfX1pZighYXJyYXlzRXF1YWwoT2JqZWN0LmtleXModikuc29ydCgpLG4ubWFwKHJkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZykuc29ydCgpKXx8IWFycmF5c0VxdWFsKGhhc2hWYWx1ZXModikuc29ydCgpLG8ubWFwKHJkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZykuc29ydCgpKSl7dj1udWxsO2Zvcihjb25zdCBiIG9mIG4pe2NvbnN0IF89cmRmX3N0cmluZ18xJDEudGVybVRvU3RyaW5nKGIpO2lmKCFsW19dKWZvcihjb25zdCBPIG9mIG8pe2NvbnN0IFQ9cmRmX3N0cmluZ18xJDEudGVybVRvU3RyaW5nKE8pO2lmKCFwW1RdJiZ1W19dPT09Z1tUXSl7Y29uc3QgUz1zaGExaGV4KF8pO3Y9Z2V0QmlqZWN0aW9uSW5uZXIodCxlLG4sbyxPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse1tfXTpTfSksT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHApLHtbVF06U30pKX19fX1yZXR1cm4gdn1SZGZJc29tb3JwaGljLmdldEJpamVjdGlvbklubmVyPWdldEJpamVjdGlvbklubmVyO2Z1bmN0aW9uIGFycmF5c0VxdWFsKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IG49dC5sZW5ndGg7bi0tOylpZih0W25dIT09ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBoYXNoVmFsdWVzKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gaW4gdCllLnB1c2godFtuXSk7cmV0dXJuIGV9UmRmSXNvbW9ycGhpYy5oYXNoVmFsdWVzPWhhc2hWYWx1ZXM7ZnVuY3Rpb24gaGFzVmFsdWUodCxlKXtmb3IoY29uc3QgbiBpbiB0KWlmKHRbbl09PT1lKXJldHVybiEwO3JldHVybiExfVJkZklzb21vcnBoaWMuaGFzVmFsdWU9aGFzVmFsdWU7ZnVuY3Rpb24gZ2V0UXVhZHNXaXRoQmxhbmtOb2Rlcyh0KXtyZXR1cm4gdC5maWx0ZXIoZT0+cmRmX3Rlcm1zXzEuc29tZVRlcm1zKGUsbj0+bi50ZXJtVHlwZT09PSJCbGFua05vZGUifHxuLnRlcm1UeXBlPT09IlF1YWQiJiZyZGZfdGVybXNfMS5nZXRUZXJtc05lc3RlZChuKS5zb21lKG89Pm8udGVybVR5cGU9PT0iQmxhbmtOb2RlIikpKX1SZGZJc29tb3JwaGljLmdldFF1YWRzV2l0aEJsYW5rTm9kZXM9Z2V0UXVhZHNXaXRoQmxhbmtOb2RlcztmdW5jdGlvbiBnZXRRdWFkc1dpdGhvdXRCbGFua05vZGVzKHQpe3JldHVybiB0LmZpbHRlcihlPT5yZGZfdGVybXNfMS5ldmVyeVRlcm1zKGUsbj0+bi50ZXJtVHlwZSE9PSJCbGFua05vZGUiJiYhKG4udGVybVR5cGU9PT0iUXVhZCImJnJkZl90ZXJtc18xLmdldFRlcm1zTmVzdGVkKG4pLnNvbWUobz0+by50ZXJtVHlwZT09PSJCbGFua05vZGUiKSkpKX1SZGZJc29tb3JwaGljLmdldFF1YWRzV2l0aG91dEJsYW5rTm9kZXM9Z2V0UXVhZHNXaXRob3V0QmxhbmtOb2RlcztmdW5jdGlvbiBpbmRleEdyYXBoKHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gb2YgdCllW0pTT04uc3RyaW5naWZ5KHJkZl9zdHJpbmdfMSQxLnF1YWRUb1N0cmluZ1F1YWQobikpXT0hMDtyZXR1cm4gZX1SZGZJc29tb3JwaGljLmluZGV4R3JhcGg9aW5kZXhHcmFwaDtmdW5jdGlvbiBkZWluZGV4R3JhcGgodCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChlPT5yZGZfc3RyaW5nXzEkMS5zdHJpbmdRdWFkVG9RdWFkKEpTT04ucGFyc2UoZSkpKX1SZGZJc29tb3JwaGljLmRlaW5kZXhHcmFwaD1kZWluZGV4R3JhcGg7ZnVuY3Rpb24gdW5pcUdyYXBoKHQpe3JldHVybiBkZWluZGV4R3JhcGgoaW5kZXhHcmFwaCh0KSl9UmRmSXNvbW9ycGhpYy51bmlxR3JhcGg9dW5pcUdyYXBoO2Z1bmN0aW9uIGdldEdyYXBoQmxhbmtOb2Rlcyh0KXtyZXR1cm4gcmRmX3Rlcm1zXzEudW5pcVRlcm1zKHQubWFwKGU9PnJkZl90ZXJtc18xLmdldEJsYW5rTm9kZXMocmRmX3Rlcm1zXzEuZ2V0VGVybXNOZXN0ZWQoZSkpKS5yZWR1Y2UoKGUsbik9PmUuY29uY2F0KG4pLFtdKSl9UmRmSXNvbW9ycGhpYy5nZXRHcmFwaEJsYW5rTm9kZXM9Z2V0R3JhcGhCbGFua05vZGVzO2Z1bmN0aW9uIGhhc2hUZXJtcyh0LGUsbil7Y29uc3Qgbz1PYmplY3QuYXNzaWduKHt9LG4pLGQ9e307bGV0IGg9ITA7Zm9yKDtoOyl7Y29uc3QgbD1PYmplY3Qua2V5cyhvKS5sZW5ndGg7Zm9yKGNvbnN0IHAgb2YgZSl7Y29uc3QgZz1yZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcocCk7aWYoIW9bZ10pe2NvbnN0W3YsYl09aGFzaFRlcm0ocCx0LG8pO3YmJihvW2ddPWIpLGRbZ109Yn19Y29uc3QgdT17fTtmb3IoY29uc3QgcCBpbiBkKXtjb25zdCBnPWRbcF07dVtnXT09PXZvaWQgMD91W2ddPXA6dVtnXT0hMX1mb3IoY29uc3QgcCBpbiB1KXtjb25zdCBnPXVbcF07ZyYmKG9bZ109cCl9aD1sIT09T2JqZWN0LmtleXMobykubGVuZ3RofXJldHVybltvLGRdfVJkZklzb21vcnBoaWMuaGFzaFRlcm1zPWhhc2hUZXJtcztmdW5jdGlvbiBoYXNoVGVybSh0LGUsbil7Y29uc3Qgbz1bXTtsZXQgZD0hMDtmb3IoY29uc3QgbCBvZiBlKXtjb25zdCB1PXJkZl90ZXJtc18xLmdldFRlcm1zTmVzdGVkKGwpO2lmKHUuc29tZShwPT5wLmVxdWFscyh0KSkpe28ucHVzaChxdWFkVG9TaWduYXR1cmUobCxuLHQpKTtmb3IoY29uc3QgcCBvZiB1KSFpc1Rlcm1Hcm91bmRlZChwLG4pJiYhcC5lcXVhbHModCkmJihkPSExKX19Y29uc3QgaD1zaGExaGV4KG8uc29ydCgpLmpvaW4oIiIpKTtyZXR1cm5bZCxoXX1SZGZJc29tb3JwaGljLmhhc2hUZXJtPWhhc2hUZXJtO2Z1bmN0aW9uIHNoYTFoZXgodCl7cmV0dXJuIGhhc2hfanNfMS5zaGExKCkudXBkYXRlKHQpLmRpZ2VzdCgiaGV4Iil9UmRmSXNvbW9ycGhpYy5zaGExaGV4PXNoYTFoZXg7ZnVuY3Rpb24gcXVhZFRvU2lnbmF0dXJlKHQsZSxuKXtyZXR1cm4gcmRmX3Rlcm1zXzEuZ2V0VGVybXModCkubWFwKG89PnRlcm1Ub1NpZ25hdHVyZShvLGUsbikpLmpvaW4oInwiKX1SZGZJc29tb3JwaGljLnF1YWRUb1NpZ25hdHVyZT1xdWFkVG9TaWduYXR1cmU7ZnVuY3Rpb24gdGVybVRvU2lnbmF0dXJlKHQsZSxuKXtyZXR1cm4gdC5lcXVhbHMobik/IkBzZWxmIjp0LnRlcm1UeXBlPT09IkJsYW5rTm9kZSI/ZVtyZGZfc3RyaW5nXzEkMS50ZXJtVG9TdHJpbmcodCldfHwiQGJsYW5rIjp0LnRlcm1UeXBlPT09IlF1YWQiP2A8JHtxdWFkVG9TaWduYXR1cmUodCxlLG4pfT5gOnJkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZyh0KX1SZGZJc29tb3JwaGljLnRlcm1Ub1NpZ25hdHVyZT10ZXJtVG9TaWduYXR1cmU7ZnVuY3Rpb24gaXNUZXJtR3JvdW5kZWQodCxlKXtyZXR1cm4gdC50ZXJtVHlwZSE9PSJCbGFua05vZGUiJiYhKHQudGVybVR5cGU9PT0iUXVhZCImJnJkZl90ZXJtc18xLmdldFRlcm1zTmVzdGVkKHQpLnNvbWUobj0+IWlzVGVybUdyb3VuZGVkKG4sZSkpKXx8ISFlW3JkZl9zdHJpbmdfMSQxLnRlcm1Ub1N0cmluZyh0KV19UmRmSXNvbW9ycGhpYy5pc1Rlcm1Hcm91bmRlZD1pc1Rlcm1Hcm91bmRlZDsoZnVuY3Rpb24odCl7dmFyIGU9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24obyxkLGgsbCl7bD09PXZvaWQgMCYmKGw9aCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sbCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZFtoXX19KX06ZnVuY3Rpb24obyxkLGgsbCl7bD09PXZvaWQgMCYmKGw9aCksb1tsXT1kW2hdfSksbj1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19leHBvcnRTdGFyfHxmdW5jdGlvbihvLGQpe2Zvcih2YXIgaCBpbiBvKWghPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxoKSYmZShkLG8saCl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuKFJkZklzb21vcnBoaWMsdCl9KShyZGZJc29tb3JwaGljKTt2YXIgX19jcmVhdGVCaW5kaW5nPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKHQsZSxuLG8pe289PT12b2lkIDAmJihvPW4pO3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTsoIWR8fCgiZ2V0ImluIGQ/IWUuX19lc01vZHVsZTpkLndyaXRhYmxlfHxkLmNvbmZpZ3VyYWJsZSkpJiYoZD17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZVtuXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLGQpfTpmdW5jdGlvbih0LGUsbixvKXtvPT09dm9pZCAwJiYobz1uKSx0W29dPWVbbl19KSxfX3NldE1vZHVsZURlZmF1bHQ9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pfTpmdW5jdGlvbih0LGUpe3QuZGVmYXVsdD1lfSksX19pbXBvcnRTdGFyPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2ltcG9ydFN0YXJ8fGZ1bmN0aW9uKHQpe2lmKHQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgZT17fTtpZih0IT1udWxsKWZvcih2YXIgbiBpbiB0KW4hPT0iZGVmYXVsdCImJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZfX2NyZWF0ZUJpbmRpbmcoZSx0LG4pO3JldHVybiBfX3NldE1vZHVsZURlZmF1bHQoZSx0KSxlfSxfX2ltcG9ydERlZmF1bHQ9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntkZWZhdWx0OnR9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoc3BhcnFsLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtzcGFycWwudG9TcGFycWxKcz1zcGFycWwudG9TcGFycWw9dm9pZCAwO2NvbnN0IHJkZl9pc29tb3JwaGljXzE9cmRmSXNvbW9ycGhpYyxyZGZfc3RyaW5nXzE9cmRmU3RyaW5nLHNwYXJxbGpzXzE9c3BhcnFsJDEsQWxnZWJyYT1fX2ltcG9ydFN0YXIoYWxnZWJyYSksZmFjdG9yeV8xPV9faW1wb3J0RGVmYXVsdChmYWN0b3J5JDIpLHV0aWxfMT1fX2ltcG9ydERlZmF1bHQodXRpbCksdHlwZXM9QWxnZWJyYS50eXBlcyxlVHlwZXM9QWxnZWJyYS5leHByZXNzaW9uVHlwZXM7bGV0IGNvbnRleHQ7Y29uc3QgZmFjdG9yeT1uZXcgZmFjdG9yeV8xLmRlZmF1bHQ7ZnVuY3Rpb24gdG9TcGFycWwodCxlPXt9KXtyZXR1cm4gbmV3IHNwYXJxbGpzXzEuR2VuZXJhdG9yKGUpLnN0cmluZ2lmeSh0b1NwYXJxbEpzKHQpKX1zcGFycWwudG9TcGFycWw9dG9TcGFycWw7ZnVuY3Rpb24gdG9TcGFycWxKcyh0KXtyZXNldENvbnRleHQoKSx0PXJlbW92ZVF1YWRzKHQpO2xldCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0KTtyZXR1cm4gZS50eXBlPT09Imdyb3VwIj9lLnBhdHRlcm5zWzBdOmV9c3BhcnFsLnRvU3BhcnFsSnM9dG9TcGFycWxKcztmdW5jdGlvbiByZXNldENvbnRleHQoKXtjb250ZXh0PXtwcm9qZWN0OiExLGV4dGVuZDpbXSxncm91cDpbXSxhZ2dyZWdhdGVzOltdLG9yZGVyOltdfX1mdW5jdGlvbiB0cmFuc2xhdGVPcGVyYXRpb24odCl7c3dpdGNoKHQudHlwZSE9PXR5cGVzLkVYVEVORCYmdC50eXBlIT09dHlwZXMuT1JERVJfQlkmJnQudHlwZSE9PXR5cGVzLkdSQVBIJiYoY29udGV4dC5wcm9qZWN0PSExKSx0LnR5cGUpe2Nhc2UgdHlwZXMuRVhQUkVTU0lPTjpyZXR1cm4gdHJhbnNsYXRlRXhwcmVzc2lvbih0KTtjYXNlIHR5cGVzLkFTSzpyZXR1cm4gdHJhbnNsYXRlUHJvamVjdCh0LHR5cGVzLkFTSyk7Y2FzZSB0eXBlcy5CR1A6cmV0dXJuIHRyYW5zbGF0ZUJncCh0KTtjYXNlIHR5cGVzLkNPTlNUUlVDVDpyZXR1cm4gdHJhbnNsYXRlQ29uc3RydWN0KHQpO2Nhc2UgdHlwZXMuREVTQ1JJQkU6cmV0dXJuIHRyYW5zbGF0ZVByb2plY3QodCx0eXBlcy5ERVNDUklCRSk7Y2FzZSB0eXBlcy5ESVNUSU5DVDpyZXR1cm4gdHJhbnNsYXRlRGlzdGluY3QodCk7Y2FzZSB0eXBlcy5FWFRFTkQ6cmV0dXJuIHRyYW5zbGF0ZUV4dGVuZCh0KTtjYXNlIHR5cGVzLkZST006cmV0dXJuIHRyYW5zbGF0ZUZyb20odCk7Y2FzZSB0eXBlcy5GSUxURVI6cmV0dXJuIHRyYW5zbGF0ZUZpbHRlcih0KTtjYXNlIHR5cGVzLkdSQVBIOnJldHVybiB0cmFuc2xhdGVHcmFwaCh0KTtjYXNlIHR5cGVzLkdST1VQOnJldHVybiB0cmFuc2xhdGVHcm91cCh0KTtjYXNlIHR5cGVzLkpPSU46cmV0dXJuIHRyYW5zbGF0ZUpvaW4odCk7Y2FzZSB0eXBlcy5MRUZUX0pPSU46cmV0dXJuIHRyYW5zbGF0ZUxlZnRKb2luKHQpO2Nhc2UgdHlwZXMuTUlOVVM6cmV0dXJuIHRyYW5zbGF0ZU1pbnVzKHQpO2Nhc2UgdHlwZXMuTk9QOnJldHVybnt9O2Nhc2UgdHlwZXMuT1JERVJfQlk6cmV0dXJuIHRyYW5zbGF0ZU9yZGVyQnkodCk7Y2FzZSB0eXBlcy5QQVRIOnJldHVybiB0cmFuc2xhdGVQYXRoKHQpO2Nhc2UgdHlwZXMuUEFUVEVSTjpyZXR1cm4gdHJhbnNsYXRlUGF0dGVybih0KTtjYXNlIHR5cGVzLlBST0pFQ1Q6cmV0dXJuIHRyYW5zbGF0ZVByb2plY3QodCx0eXBlcy5QUk9KRUNUKTtjYXNlIHR5cGVzLlJFRFVDRUQ6cmV0dXJuIHRyYW5zbGF0ZVJlZHVjZWQodCk7Y2FzZSB0eXBlcy5TRVJWSUNFOnJldHVybiB0cmFuc2xhdGVTZXJ2aWNlKHQpO2Nhc2UgdHlwZXMuU0xJQ0U6cmV0dXJuIHRyYW5zbGF0ZVNsaWNlKHQpO2Nhc2UgdHlwZXMuVU5JT046cmV0dXJuIHRyYW5zbGF0ZVVuaW9uKHQpO2Nhc2UgdHlwZXMuVkFMVUVTOnJldHVybiB0cmFuc2xhdGVWYWx1ZXModCk7Y2FzZSB0eXBlcy5DT01QT1NJVEVfVVBEQVRFOnJldHVybiB0cmFuc2xhdGVDb21wb3NpdGVVcGRhdGUodCk7Y2FzZSB0eXBlcy5ERUxFVEVfSU5TRVJUOnJldHVybiB0cmFuc2xhdGVEZWxldGVJbnNlcnQodCk7Y2FzZSB0eXBlcy5MT0FEOnJldHVybiB0cmFuc2xhdGVMb2FkKHQpO2Nhc2UgdHlwZXMuQ0xFQVI6cmV0dXJuIHRyYW5zbGF0ZUNsZWFyKHQpO2Nhc2UgdHlwZXMuQ1JFQVRFOnJldHVybiB0cmFuc2xhdGVDcmVhdGUodCk7Y2FzZSB0eXBlcy5EUk9QOnJldHVybiB0cmFuc2xhdGVEcm9wKHQpO2Nhc2UgdHlwZXMuQUREOnJldHVybiB0cmFuc2xhdGVBZGQodCk7Y2FzZSB0eXBlcy5NT1ZFOnJldHVybiB0cmFuc2xhdGVNb3ZlKHQpO2Nhc2UgdHlwZXMuQ09QWTpyZXR1cm4gdHJhbnNsYXRlQ29weSh0KX10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gT3BlcmF0aW9uIHR5cGUgJHt0LnR5cGV9YCl9ZnVuY3Rpb24gdHJhbnNsYXRlRXhwcmVzc2lvbih0KXtzd2l0Y2godC5leHByZXNzaW9uVHlwZSl7Y2FzZSBlVHlwZXMuQUdHUkVHQVRFOnJldHVybiB0cmFuc2xhdGVBZ2dyZWdhdGVFeHByZXNzaW9uKHQpO2Nhc2UgZVR5cGVzLkVYSVNURU5DRTpyZXR1cm4gdHJhbnNsYXRlRXhpc3RlbmNlRXhwcmVzc2lvbih0KTtjYXNlIGVUeXBlcy5OQU1FRDpyZXR1cm4gdHJhbnNsYXRlTmFtZWRFeHByZXNzaW9uKHQpO2Nhc2UgZVR5cGVzLk9QRVJBVE9SOnJldHVybiB0cmFuc2xhdGVPcGVyYXRvckV4cHJlc3Npb24odCk7Y2FzZSBlVHlwZXMuVEVSTTpyZXR1cm4gdHJhbnNsYXRlVGVybUV4cHJlc3Npb24odCk7Y2FzZSBlVHlwZXMuV0lMRENBUkQ6cmV0dXJuIHRyYW5zbGF0ZVdpbGRjYXJkRXhwcmVzc2lvbih0KX10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gRXhwcmVzc2lvbiBPcGVyYXRpb24gdHlwZSAke3QuZXhwcmVzc2lvblR5cGV9YCl9ZnVuY3Rpb24gdHJhbnNsYXRlUGF0aENvbXBvbmVudCh0KXtzd2l0Y2godC50eXBlKXtjYXNlIHR5cGVzLkFMVDpyZXR1cm4gdHJhbnNsYXRlQWx0KHQpO2Nhc2UgdHlwZXMuSU5WOnJldHVybiB0cmFuc2xhdGVJbnYodCk7Y2FzZSB0eXBlcy5MSU5LOnJldHVybiB0cmFuc2xhdGVMaW5rKHQpO2Nhc2UgdHlwZXMuTlBTOnJldHVybiB0cmFuc2xhdGVOcHModCk7Y2FzZSB0eXBlcy5PTkVfT1JfTU9SRV9QQVRIOnJldHVybiB0cmFuc2xhdGVPbmVPck1vcmVQYXRoKHQpO2Nhc2UgdHlwZXMuU0VROnJldHVybiB0cmFuc2xhdGVTZXEodCk7Y2FzZSB0eXBlcy5aRVJPX09SX01PUkVfUEFUSDpyZXR1cm4gdHJhbnNsYXRlWmVyb09yTW9yZVBhdGgodCk7Y2FzZSB0eXBlcy5aRVJPX09SX09ORV9QQVRIOnJldHVybiB0cmFuc2xhdGVaZXJvT3JPbmVQYXRoKHQpfXRocm93IG5ldyBFcnJvcihgVW5rbm93biBQYXRoIHR5cGUgJHt0LnR5cGV9YCl9ZnVuY3Rpb24gdHJhbnNsYXRlVGVybSh0KXtyZXR1cm4oMCxyZGZfc3RyaW5nXzEudGVybVRvU3RyaW5nKSh0KX1mdW5jdGlvbiB0cmFuc2xhdGVBZ2dyZWdhdGVFeHByZXNzaW9uKHQpe2NvbnN0IGU9e2V4cHJlc3Npb246dHJhbnNsYXRlRXhwcmVzc2lvbih0LmV4cHJlc3Npb24pLHR5cGU6ImFnZ3JlZ2F0ZSIsYWdncmVnYXRpb246dC5hZ2dyZWdhdG9yLGRpc3RpbmN0OnQuZGlzdGluY3R9O3JldHVybiB0LnNlcGFyYXRvciYmKGUuc2VwYXJhdG9yPXQuc2VwYXJhdG9yKSxlfWZ1bmN0aW9uIHRyYW5zbGF0ZUV4aXN0ZW5jZUV4cHJlc3Npb24odCl7cmV0dXJue3R5cGU6Im9wZXJhdGlvbiIsb3BlcmF0b3I6dC5ub3Q/Im5vdGV4aXN0cyI6ImV4aXN0cyIsYXJnczp1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCldKX19ZnVuY3Rpb24gdHJhbnNsYXRlTmFtZWRFeHByZXNzaW9uKHQpe3JldHVybnt0eXBlOiJmdW5jdGlvbkNhbGwiLGZ1bmN0aW9uOnQubmFtZSxhcmdzOnQuYXJncy5tYXAodHJhbnNsYXRlRXhwcmVzc2lvbil9fWZ1bmN0aW9uIHRyYW5zbGF0ZU9wZXJhdG9yRXhwcmVzc2lvbih0KXtpZih0Lm9wZXJhdG9yPT09ImRlc2MiKXtjb25zdCBuPXtleHByZXNzaW9uOnRyYW5zbGF0ZUV4cHJlc3Npb24odC5hcmdzWzBdKX07cmV0dXJuIG4uZGVzY2VuZGluZz0hMCxufWNvbnN0IGU9e3R5cGU6Im9wZXJhdGlvbiIsb3BlcmF0b3I6dC5vcGVyYXRvcixhcmdzOnQuYXJncy5tYXAodHJhbnNsYXRlRXhwcmVzc2lvbil9O3JldHVybihlLm9wZXJhdG9yPT09ImluInx8ZS5vcGVyYXRvcj09PSJub3RpbiIpJiYoZS5hcmdzPVtlLmFyZ3NbMF1dLmNvbmNhdChbZS5hcmdzLnNsaWNlKDEpXSkpLGV9ZnVuY3Rpb24gdHJhbnNsYXRlVGVybUV4cHJlc3Npb24odCl7cmV0dXJuIHQudGVybX1mdW5jdGlvbiB0cmFuc2xhdGVXaWxkY2FyZEV4cHJlc3Npb24odCl7cmV0dXJuIHQud2lsZGNhcmR9ZnVuY3Rpb24gdHJhbnNsYXRlQm91bmRBZ2dyZWdhdGUodCl7cmV0dXJuIHR9ZnVuY3Rpb24gdHJhbnNsYXRlQmdwKHQpe2xldCBlPXQucGF0dGVybnMubWFwKHRyYW5zbGF0ZVBhdHRlcm4pO3JldHVybiBlLmxlbmd0aD09PTA/bnVsbDp7dHlwZToiYmdwIix0cmlwbGVzOmV9fWZ1bmN0aW9uIHRyYW5zbGF0ZUNvbnN0cnVjdCh0KXtyZXR1cm57dHlwZToicXVlcnkiLHByZWZpeGVzOnt9LHF1ZXJ5VHlwZToiQ09OU1RSVUNUIix0ZW1wbGF0ZTp0LnRlbXBsYXRlLm1hcCh0cmFuc2xhdGVQYXR0ZXJuKSx3aGVyZTp1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCldKX19ZnVuY3Rpb24gdHJhbnNsYXRlRGlzdGluY3QodCl7bGV0IGU9dHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpO3JldHVybiBlLnBhdHRlcm5zWzBdLmRpc3RpbmN0PSEwLGV9ZnVuY3Rpb24gdHJhbnNsYXRlRXh0ZW5kKHQpe3JldHVybiBjb250ZXh0LnByb2plY3Q/KGNvbnRleHQuZXh0ZW5kLnB1c2godCksdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpKTp1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCkse3R5cGU6ImJpbmQiLHZhcmlhYmxlOnQudmFyaWFibGUsZXhwcmVzc2lvbjp0cmFuc2xhdGVFeHByZXNzaW9uKHQuZXhwcmVzc2lvbil9XSl9ZnVuY3Rpb24gdHJhbnNsYXRlRnJvbSh0KXtjb25zdCBlPXRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KSxuPWUucGF0dGVybnNbMF07cmV0dXJuIG4uZnJvbT17ZGVmYXVsdDp0LmRlZmF1bHQsbmFtZWQ6dC5uYW1lZH0sZX1mdW5jdGlvbiB0cmFuc2xhdGVGaWx0ZXIodCl7cmV0dXJue3R5cGU6Imdyb3VwIixwYXR0ZXJuczp1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCkse3R5cGU6ImZpbHRlciIsZXhwcmVzc2lvbjp0cmFuc2xhdGVFeHByZXNzaW9uKHQuZXhwcmVzc2lvbil9XSl9fWZ1bmN0aW9uIHRyYW5zbGF0ZUdyYXBoKHQpe3JldHVybnt0eXBlOiJncmFwaCIscGF0dGVybnM6dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpXSksbmFtZTp0Lm5hbWV9fWZ1bmN0aW9uIHRyYW5zbGF0ZUdyb3VwKHQpe2NvbnN0IGU9dHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpLG49dC5hZ2dyZWdhdGVzLm1hcCh0cmFuc2xhdGVCb3VuZEFnZ3JlZ2F0ZSk7cmV0dXJuIGNvbnRleHQuYWdncmVnYXRlcy5wdXNoKC4uLm4pLGNvbnRleHQuZ3JvdXAucHVzaCguLi50LnZhcmlhYmxlcyksZX1mdW5jdGlvbiB0cmFuc2xhdGVKb2luKHQpe3JldHVybiB1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKHQuaW5wdXQubWFwKHRyYW5zbGF0ZU9wZXJhdGlvbikpLnJlZHVjZSgobixvKT0+KG8udHlwZSE9PSJiZ3AifHxuLmxlbmd0aD09MHx8bltuLmxlbmd0aC0xXS50eXBlIT09ImJncCI/bi5wdXNoKG8pOm5bbi5sZW5ndGgtMV0udHJpcGxlcy5wdXNoKC4uLm8udHJpcGxlcyksbiksW10pfWZ1bmN0aW9uIHRyYW5zbGF0ZUxlZnRKb2luKHQpe2NvbnN0IGU9e3R5cGU6Im9wdGlvbmFsIixwYXR0ZXJuczpbdHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXRbMV0pXX07cmV0dXJuIHQuZXhwcmVzc2lvbiYmZS5wYXR0ZXJucy5wdXNoKHt0eXBlOiJmaWx0ZXIiLGV4cHJlc3Npb246dHJhbnNsYXRlRXhwcmVzc2lvbih0LmV4cHJlc3Npb24pfSksZS5wYXR0ZXJucz11dGlsXzEuZGVmYXVsdC5mbGF0dGVuKGUucGF0dGVybnMpLHV0aWxfMS5kZWZhdWx0LmZsYXR0ZW4oW3RyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0WzBdKSxlXSl9ZnVuY3Rpb24gdHJhbnNsYXRlTWludXModCl7bGV0IGU9dHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXRbMV0pO3JldHVybiBlLnR5cGU9PT0iZ3JvdXAiJiYoZT1lLnBhdHRlcm5zKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLHV0aWxfMS5kZWZhdWx0LmZsYXR0ZW4oW3RyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0WzBdKSx7dHlwZToibWludXMiLHBhdHRlcm5zOmV9XSl9ZnVuY3Rpb24gdHJhbnNsYXRlT3JkZXJCeSh0KXtyZXR1cm4gY29udGV4dC5vcmRlci5wdXNoKC4uLnQuZXhwcmVzc2lvbnMpLHRyYW5zbGF0ZU9wZXJhdGlvbih0LmlucHV0KX1mdW5jdGlvbiB0cmFuc2xhdGVQYXRoKHQpe3JldHVybnt0eXBlOiJiZ3AiLHRyaXBsZXM6W3tzdWJqZWN0OnQuc3ViamVjdCxwcmVkaWNhdGU6dHJhbnNsYXRlUGF0aENvbXBvbmVudCh0LnByZWRpY2F0ZSksb2JqZWN0OnQub2JqZWN0fV19fWZ1bmN0aW9uIHRyYW5zbGF0ZVBhdHRlcm4odCl7cmV0dXJue3N1YmplY3Q6dC5zdWJqZWN0LHByZWRpY2F0ZTp0LnByZWRpY2F0ZSxvYmplY3Q6dC5vYmplY3R9fWZ1bmN0aW9uIHJlcGxhY2VBZ2dyZWdhdG9yVmFyaWFibGVzKHQsZSl7bGV0IG49dXRpbF8xLmRlZmF1bHQuaXNTaW1wbGVUZXJtKHQpP3RyYW5zbGF0ZVRlcm0odCk6dDtpZih0eXBlb2Ygbj09InN0cmluZyIpe2lmKGVbbl0pcmV0dXJuIGVbbl19ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXQ9dC5tYXAobz0+cmVwbGFjZUFnZ3JlZ2F0b3JWYXJpYWJsZXMobyxlKSk7ZWxzZSBmb3IobGV0IG8gb2YgT2JqZWN0LmtleXModCkpdFtvXT1yZXBsYWNlQWdncmVnYXRvclZhcmlhYmxlcyh0W29dLGUpO3JldHVybiB0fWZ1bmN0aW9uIHRyYW5zbGF0ZVByb2plY3QodCxlKXtjb25zdCBuPXt0eXBlOiJxdWVyeSIscHJlZml4ZXM6e319LG89bjtsZXQgZDtlPT09dHlwZXMuUFJPSkVDVD8obi5xdWVyeVR5cGU9IlNFTEVDVCIsZD10LnZhcmlhYmxlcyk6ZT09PXR5cGVzLkFTSz9uLnF1ZXJ5VHlwZT0iQVNLIjplPT09dHlwZXMuREVTQ1JJQkUmJihuLnF1ZXJ5VHlwZT0iREVTQ1JJQkUiLGQ9dC50ZXJtcyk7Y29uc3QgaD1jb250ZXh0LmV4dGVuZCxsPWNvbnRleHQuZ3JvdXAsdT1jb250ZXh0LmFnZ3JlZ2F0ZXMscD1jb250ZXh0Lm9yZGVyO3Jlc2V0Q29udGV4dCgpLGNvbnRleHQucHJvamVjdD0hMDtsZXQgZz11dGlsXzEuZGVmYXVsdC5mbGF0dGVuKFt0cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCldKTtnLmxlbmd0aD09PTEmJmdbMF0udHlwZT09PSJncm91cCImJihnPWdbMF0ucGF0dGVybnMpLG4ud2hlcmU9ZztsZXQgdj17fTtmb3IobGV0IF8gb2YgY29udGV4dC5hZ2dyZWdhdGVzKXZbdHJhbnNsYXRlVGVybShfLnZhcmlhYmxlKV09dHJhbnNsYXRlRXhwcmVzc2lvbihfKTtsZXQgYj17fTtmb3IobGV0IF89Y29udGV4dC5leHRlbmQubGVuZ3RoLTE7Xz49MDstLV8pe2xldCBPPWNvbnRleHQuZXh0ZW5kW19dO2JbdHJhbnNsYXRlVGVybShPLnZhcmlhYmxlKV09cmVwbGFjZUFnZ3JlZ2F0b3JWYXJpYWJsZXModHJhbnNsYXRlRXhwcmVzc2lvbihPLmV4cHJlc3Npb24pLHYpfWlmKGNvbnRleHQuZ3JvdXAubGVuZ3RoPjAmJihvLmdyb3VwPWNvbnRleHQuZ3JvdXAubWFwKF89PntsZXQgTz10cmFuc2xhdGVUZXJtKF8pO2lmKGJbT10pe2xldCBUPWJbT107cmV0dXJuIGRlbGV0ZSBiW09dLHt2YXJpYWJsZTpfLGV4cHJlc3Npb246VH19cmV0dXJue2V4cHJlc3Npb246X319KSksY29udGV4dC5vcmRlci5sZW5ndGg+MCYmKG8ub3JkZXI9Y29udGV4dC5vcmRlci5tYXAodHJhbnNsYXRlT3BlcmF0aW9uKS5tYXAoXz0+Xy5kZXNjZW5kaW5nP186e2V4cHJlc3Npb246X30pKSxkJiYoby52YXJpYWJsZXM9ZC5tYXAoXz0+e2xldCBPPXRyYW5zbGF0ZVRlcm0oXyk7cmV0dXJuIGJbT10/e3ZhcmlhYmxlOl8sZXhwcmVzc2lvbjpiW09dfTpffSksby52YXJpYWJsZXMubGVuZ3RoPT09MCYmKG8udmFyaWFibGVzPVtuZXcgc3BhcnFsanNfMS5XaWxkY2FyZF0pKSxuLndoZXJlLmxlbmd0aD4wJiZuLndoZXJlW24ud2hlcmUubGVuZ3RoLTFdLnR5cGU9PT0iZmlsdGVyIil7Y29uc3QgXz1uLndoZXJlW24ud2hlcmUubGVuZ3RoLTFdO29iamVjdENvbnRhaW5zVmFsdWVzKF8sT2JqZWN0LmtleXModikpJiYoby5oYXZpbmc9dXRpbF8xLmRlZmF1bHQuZmxhdHRlbihbcmVwbGFjZUFnZ3JlZ2F0b3JWYXJpYWJsZXMoXy5leHByZXNzaW9uLHYpXSksbi53aGVyZS5zcGxpY2UoLTEpKX1yZXR1cm4gY29udGV4dC5leHRlbmQ9aCxjb250ZXh0Lmdyb3VwPWwsY29udGV4dC5hZ2dyZWdhdGVzPXUsY29udGV4dC5vcmRlcj1wLHt0eXBlOiJncm91cCIscGF0dGVybnM6W29dfX1mdW5jdGlvbiBvYmplY3RDb250YWluc1ZhbHVlcyh0LGUpe3JldHVybiB1dGlsXzEuZGVmYXVsdC5pc1NpbXBsZVRlcm0odCk/ZS5pbmRleE9mKHRyYW5zbGF0ZVRlcm0odCkpPj0wOkFycmF5LmlzQXJyYXkodCk/dC5zb21lKG49Pm9iamVjdENvbnRhaW5zVmFsdWVzKG4sZSkpOnQ9PT1PYmplY3QodCk/T2JqZWN0LmtleXModCkuc29tZShuPT5vYmplY3RDb250YWluc1ZhbHVlcyh0W25dLGUpKTplLmluZGV4T2YodCk+PTB9ZnVuY3Rpb24gdHJhbnNsYXRlUmVkdWNlZCh0KXtsZXQgZT10cmFuc2xhdGVPcGVyYXRpb24odC5pbnB1dCk7cmV0dXJuIGUucGF0dGVybnNbMF0ucmVkdWNlZD0hMCxlfWZ1bmN0aW9uIHRyYW5zbGF0ZVNlcnZpY2UodCl7bGV0IGU9dHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpO3JldHVybiBlLnR5cGU9PT0iZ3JvdXAiJiYoZT1lLnBhdHRlcm5zKSxBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLHt0eXBlOiJzZXJ2aWNlIixuYW1lOnQubmFtZSxzaWxlbnQ6dC5zaWxlbnQscGF0dGVybnM6ZX19ZnVuY3Rpb24gdHJhbnNsYXRlU2xpY2UodCl7bGV0IGU9dHJhbnNsYXRlT3BlcmF0aW9uKHQuaW5wdXQpLG49ZTtyZXR1cm4gZS50eXBlJiZlLnR5cGU9PT0iZ3JvdXAiJiYobj1lLnBhdHRlcm5zWzBdKSx0LnN0YXJ0IT09MCYmKG4ub2Zmc2V0PXQuc3RhcnQpLHQubGVuZ3RoIT09dm9pZCAwJiYobi5saW1pdD10Lmxlbmd0aCksZX1mdW5jdGlvbiB0cmFuc2xhdGVVbmlvbih0KXtyZXR1cm57dHlwZToidW5pb24iLHBhdHRlcm5zOnV0aWxfMS5kZWZhdWx0LmZsYXR0ZW4odC5pbnB1dC5tYXAodHJhbnNsYXRlT3BlcmF0aW9uKSl9fWZ1bmN0aW9uIHRyYW5zbGF0ZVZhbHVlcyh0KXtyZXR1cm57dHlwZToidmFsdWVzIix2YWx1ZXM6dC5iaW5kaW5ncy5tYXAoZT0+e2xldCBuPXt9O2ZvcihsZXQgbyBvZiB0LnZhcmlhYmxlcyl7bGV0IGQ9YD8ke28udmFsdWV9YDtlW2RdP25bZF09ZVtkXTpuW2RdPXZvaWQgMH1yZXR1cm4gbn0pfX1mdW5jdGlvbiB0cmFuc2xhdGVBbHQodCl7Y29uc3QgZT10LmlucHV0Lm1hcCh0cmFuc2xhdGVQYXRoQ29tcG9uZW50KTtyZXR1cm4gZS5ldmVyeShuPT4icGF0aFR5cGUiaW4gbiYmbi5wYXRoVHlwZT09PSIhIik/e3R5cGU6InBhdGgiLHBhdGhUeXBlOiIhIixpdGVtczpbe3R5cGU6InBhdGgiLHBhdGhUeXBlOiJ8IixpdGVtczp1dGlsXzEuZGVmYXVsdC5mbGF0dGVuKGUubWFwKG49Pm4uaXRlbXMpKX1dfTp7dHlwZToicGF0aCIscGF0aFR5cGU6InwiLGl0ZW1zOmV9fWZ1bmN0aW9uIHRyYW5zbGF0ZUludih0KXtpZih0LnBhdGgudHlwZT09PXR5cGVzLk5QUyl7Y29uc3QgZT10LnBhdGguaXJpcy5tYXAobj0+KHt0eXBlOiJwYXRoIixwYXRoVHlwZToiXiIsaXRlbXM6W25dfSkpO3JldHVybiBlLmxlbmd0aDw9MT97dHlwZToicGF0aCIscGF0aFR5cGU6IiEiLGl0ZW1zOmV9Ont0eXBlOiJwYXRoIixwYXRoVHlwZToiISIsaXRlbXM6W3t0eXBlOiJwYXRoIixwYXRoVHlwZToifCIsaXRlbXM6ZX1dfX1yZXR1cm57dHlwZToicGF0aCIscGF0aFR5cGU6Il4iLGl0ZW1zOlt0cmFuc2xhdGVQYXRoQ29tcG9uZW50KHQucGF0aCldfX1mdW5jdGlvbiB0cmFuc2xhdGVMaW5rKHQpe3JldHVybiB0LmlyaX1mdW5jdGlvbiB0cmFuc2xhdGVOcHModCl7cmV0dXJuIHQuaXJpcy5sZW5ndGg8PTE/e3R5cGU6InBhdGgiLHBhdGhUeXBlOiIhIixpdGVtczp0LmlyaXN9Ont0eXBlOiJwYXRoIixwYXRoVHlwZToiISIsaXRlbXM6W3t0eXBlOiJwYXRoIixwYXRoVHlwZToifCIsaXRlbXM6dC5pcmlzfV19fWZ1bmN0aW9uIHRyYW5zbGF0ZU9uZU9yTW9yZVBhdGgodCl7cmV0dXJue3R5cGU6InBhdGgiLHBhdGhUeXBlOiIrIixpdGVtczpbdHJhbnNsYXRlUGF0aENvbXBvbmVudCh0LnBhdGgpXX19ZnVuY3Rpb24gdHJhbnNsYXRlU2VxKHQpe3JldHVybnt0eXBlOiJwYXRoIixwYXRoVHlwZToiLyIsaXRlbXM6dC5pbnB1dC5tYXAodHJhbnNsYXRlUGF0aENvbXBvbmVudCl9fWZ1bmN0aW9uIHRyYW5zbGF0ZVplcm9Pck1vcmVQYXRoKHQpe3JldHVybnt0eXBlOiJwYXRoIixwYXRoVHlwZToiKiIsaXRlbXM6W3RyYW5zbGF0ZVBhdGhDb21wb25lbnQodC5wYXRoKV19fWZ1bmN0aW9uIHRyYW5zbGF0ZVplcm9Pck9uZVBhdGgodCl7cmV0dXJue3R5cGU6InBhdGgiLHBhdGhUeXBlOiI/IixpdGVtczpbdHJhbnNsYXRlUGF0aENvbXBvbmVudCh0LnBhdGgpXX19ZnVuY3Rpb24gdHJhbnNsYXRlQ29tcG9zaXRlVXBkYXRlKHQpe2NvbnN0IGU9dC51cGRhdGVzLm1hcChuPT50cmFuc2xhdGVPcGVyYXRpb24obikudXBkYXRlc1swXSk7cmV0dXJue3ByZWZpeGVzOnt9LHR5cGU6InVwZGF0ZSIsdXBkYXRlczplfX1mdW5jdGlvbiB0cmFuc2xhdGVEZWxldGVJbnNlcnQodCl7dmFyIGU7bGV0IG49dC53aGVyZSxvO2lmKG4mJm4udHlwZT09PXR5cGVzLkZST00pe2xldCBoPW47bj1oLmlucHV0LG89e2RlZmF1bHQ6aC5kZWZhdWx0LG5hbWVkOmgubmFtZWR9fWNvbnN0IGQ9W3t1cGRhdGVUeXBlOiJpbnNlcnRkZWxldGUiLGRlbGV0ZTpjb252ZXJ0VXBkYXRlUGF0dGVybnModC5kZWxldGV8fFtdKSxpbnNlcnQ6Y29udmVydFVwZGF0ZVBhdHRlcm5zKHQuaW5zZXJ0fHxbXSl9XTtpZihvJiYoZFswXS51c2luZz1vKSwhbnx8bi50eXBlPT09dHlwZXMuQkdQJiZuLnBhdHRlcm5zLmxlbmd0aD09PTApZFswXS53aGVyZT1bXTtlbHNle2NvbnN0IGg9e307bGV0IGw9dHJhbnNsYXRlT3BlcmF0aW9uKHJlbW92ZVF1YWRzUmVjdXJzaXZlKG4saCkpO2wudHlwZT09PSJncm91cCI/ZFswXS53aGVyZT1sLnBhdHRlcm5zOmRbMF0ud2hlcmU9W2xdO2NvbnN0IHU9T2JqZWN0LmtleXMoaCk7aWYodS5sZW5ndGg+MCl7aWYodS5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiVGhpcyBpcyB1bmV4cGVjdGVkIGFuZCBtaWdodCBpbmRpY2F0ZSBhbiBlcnJvciBpbiBncmFwaCBoYW5kbGluZyBmb3IgdXBkYXRlcy4iKTtjb25zdCBwPShlPWhbdVswXV0pPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5ncmFwaDtwJiZwLnZhbHVlIT09IiImJihkWzBdLndoZXJlPVt7dHlwZToiZ3JhcGgiLHBhdHRlcm5zOmRbMF0ud2hlcmUsbmFtZTpwfV0pfX1yZXR1cm4hdC5kZWxldGUmJiF0LndoZXJlPyhkWzBdLnVwZGF0ZVR5cGU9Imluc2VydCIsZGVsZXRlIGRbMF0uZGVsZXRlLGRlbGV0ZSBkWzBdLndoZXJlKTohdC5pbnNlcnQmJiF0LndoZXJlPyhkZWxldGUgZFswXS5pbnNlcnQsZGVsZXRlIGRbMF0ud2hlcmUsdC5kZWxldGUuc29tZShoPT5oLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUifHxoLnByZWRpY2F0ZS50ZXJtVHlwZT09PSJWYXJpYWJsZSJ8fGgub2JqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIik/ZFswXS51cGRhdGVUeXBlPSJkZWxldGV3aGVyZSI6ZFswXS51cGRhdGVUeXBlPSJkZWxldGUiKTohdC5pbnNlcnQmJnQud2hlcmUmJnQud2hlcmUudHlwZT09PSJiZ3AiJiYoMCxyZGZfaXNvbW9ycGhpY18xLmlzb21vcnBoaWMpKHQuZGVsZXRlLHQud2hlcmUucGF0dGVybnMpJiYoZGVsZXRlIGRbMF0ud2hlcmUsZFswXS51cGRhdGVUeXBlPSJkZWxldGV3aGVyZSIpLHtwcmVmaXhlczp7fSx0eXBlOiJ1cGRhdGUiLHVwZGF0ZXM6ZH19ZnVuY3Rpb24gdHJhbnNsYXRlTG9hZCh0KXtjb25zdCBlPVt7dHlwZToibG9hZCIsc2lsZW50OiEhdC5zaWxlbnQsc291cmNlOnQuc291cmNlfV07cmV0dXJuIHQuZGVzdGluYXRpb24mJihlWzBdLmRlc3RpbmF0aW9uPXQuZGVzdGluYXRpb24pLHtwcmVmaXhlczp7fSx0eXBlOiJ1cGRhdGUiLHVwZGF0ZXM6ZX19ZnVuY3Rpb24gdHJhbnNsYXRlQ2xlYXIodCl7cmV0dXJuIHRyYW5zbGF0ZUNsZWFyQ3JlYXRlRHJvcCh0LCJjbGVhciIpfWZ1bmN0aW9uIHRyYW5zbGF0ZUNyZWF0ZSh0KXtyZXR1cm4gdHJhbnNsYXRlQ2xlYXJDcmVhdGVEcm9wKHQsImNyZWF0ZSIpfWZ1bmN0aW9uIHRyYW5zbGF0ZURyb3AodCl7cmV0dXJuIHRyYW5zbGF0ZUNsZWFyQ3JlYXRlRHJvcCh0LCJkcm9wIil9ZnVuY3Rpb24gdHJhbnNsYXRlQ2xlYXJDcmVhdGVEcm9wKHQsZSl7Y29uc3Qgbj1be3R5cGU6ZSxzaWxlbnQ6ISF0LnNpbGVudH1dO3JldHVybiB0LnNvdXJjZT09PSJERUZBVUxUIj9uWzBdLmdyYXBoPXtkZWZhdWx0OiEwfTp0LnNvdXJjZT09PSJOQU1FRCI/blswXS5ncmFwaD17bmFtZWQ6ITB9OnQuc291cmNlPT09IkFMTCI/blswXS5ncmFwaD17YWxsOiEwfTpuWzBdLmdyYXBoPXt0eXBlOiJncmFwaCIsbmFtZTp0LnNvdXJjZX0se3ByZWZpeGVzOnt9LHR5cGU6InVwZGF0ZSIsdXBkYXRlczpufX1mdW5jdGlvbiB0cmFuc2xhdGVBZGQodCl7cmV0dXJuIHRyYW5zbGF0ZVVwZGF0ZUdyYXBoU2hvcnRjdXQodCwiYWRkIil9ZnVuY3Rpb24gdHJhbnNsYXRlTW92ZSh0KXtyZXR1cm4gdHJhbnNsYXRlVXBkYXRlR3JhcGhTaG9ydGN1dCh0LCJtb3ZlIil9ZnVuY3Rpb24gdHJhbnNsYXRlQ29weSh0KXtyZXR1cm4gdHJhbnNsYXRlVXBkYXRlR3JhcGhTaG9ydGN1dCh0LCJjb3B5Iil9ZnVuY3Rpb24gdHJhbnNsYXRlVXBkYXRlR3JhcGhTaG9ydGN1dCh0LGUpe2NvbnN0IG49W3t0eXBlOmUsc2lsZW50OiEhdC5zaWxlbnR9XTtyZXR1cm4gblswXS5zb3VyY2U9dC5zb3VyY2U9PT0iREVGQVVMVCI/e3R5cGU6ImdyYXBoIixkZWZhdWx0OiEwfTp7dHlwZToiZ3JhcGgiLG5hbWU6dC5zb3VyY2V9LG5bMF0uZGVzdGluYXRpb249dC5kZXN0aW5hdGlvbj09PSJERUZBVUxUIj97dHlwZToiZ3JhcGgiLGRlZmF1bHQ6ITB9Ont0eXBlOiJncmFwaCIsbmFtZTp0LmRlc3RpbmF0aW9ufSx7cHJlZml4ZXM6e30sdHlwZToidXBkYXRlIix1cGRhdGVzOm59fWZ1bmN0aW9uIGNvbnZlcnRVcGRhdGVQYXR0ZXJucyh0KXtpZighdClyZXR1cm5bXTtjb25zdCBlPXt9O3JldHVybiB0LmZvckVhY2gobj0+e2NvbnN0IG89bi5ncmFwaC52YWx1ZTtlW29dfHwoZVtvXT1bXSksZVtvXS5wdXNoKG4pfSksT2JqZWN0LmtleXMoZSkubWFwKG49Pm49PT0iIj97dHlwZToiYmdwIix0cmlwbGVzOmVbbl0ubWFwKHRyYW5zbGF0ZVBhdHRlcm4pfTp7dHlwZToiZ3JhcGgiLHRyaXBsZXM6ZVtuXS5tYXAodHJhbnNsYXRlUGF0dGVybiksbmFtZTplW25dWzBdLmdyYXBofSl9ZnVuY3Rpb24gcmVtb3ZlUXVhZHModCl7cmV0dXJuIHJlbW92ZVF1YWRzUmVjdXJzaXZlKHQse30pfWZ1bmN0aW9uIHJlbW92ZVF1YWRzUmVjdXJzaXZlKHQsZSl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAobD0+cmVtb3ZlUXVhZHNSZWN1cnNpdmUobCxlKSk7aWYoIXQudHlwZXx8dC50eXBlPT09dHlwZXMuREVMRVRFX0lOU0VSVClyZXR1cm4gdDtpZigodC50eXBlPT09dHlwZXMuUEFUVEVSTnx8dC50eXBlPT09dHlwZXMuUEFUSCkmJnQuZ3JhcGgpcmV0dXJuIGVbdC5ncmFwaC52YWx1ZV18fChlW3QuZ3JhcGgudmFsdWVdPXtncmFwaDp0LmdyYXBoLHZhbHVlczpbXX0pLGVbdC5ncmFwaC52YWx1ZV0udmFsdWVzLnB1c2godCksdDtjb25zdCBuPXt9LG89e30sZD17fTtmb3IobGV0IGwgb2YgT2JqZWN0LmtleXModCkpe2NvbnN0IHU9e307bltsXT1yZW1vdmVRdWFkc1JlY3Vyc2l2ZSh0W2xdLHUpO2NvbnN0IHA9T2JqZWN0LmtleXModSk7aWYocC5sZW5ndGg+MSl7bGV0IGc9cG90ZW50aWFsR3JhcGhGcm9tUGF0dGVybnModVtwWzBdXS52YWx1ZXMpO2ZvcihsZXQgdj0xO3Y8cC5sZW5ndGg7Kyt2KXtjb25zdCBiPXBvdGVudGlhbEdyYXBoRnJvbVBhdHRlcm5zKHVbcFt2XV0udmFsdWVzKTtnPWZhY3RvcnkuY3JlYXRlSm9pbihbZyxiXSl9cmV0dXJuIHAubWFwKHY9PmRlbGV0ZSB1W3ZdKSxnfWVsc2UgaWYocC5sZW5ndGg9PT0xKXtjb25zdCBnPXVbcFswXV0uZ3JhcGg7b1tsXT1nLGRbZy52YWx1ZV09Z319Y29uc3QgaD1PYmplY3Qua2V5cyhkKTtpZihoLmxlbmd0aD4wKWlmKGgubGVuZ3RoPT09MSYmdC50eXBlIT09dHlwZXMuUFJPSkVDVCllW2hbMF1dPXtncmFwaDpkW2hbMF1dLHZhbHVlczpbbl19O2Vsc2UgZm9yKGxldCBsIG9mIE9iamVjdC5rZXlzKG8pKW9bbF0udmFsdWUubGVuZ3RoPjAmJihuW2xdPWZhY3RvcnkuY3JlYXRlR3JhcGgobltsXSxvW2xdKSk7cmV0dXJuIG59ZnVuY3Rpb24gcG90ZW50aWFsR3JhcGhGcm9tUGF0dGVybnModCl7Y29uc3QgZT1mYWN0b3J5LmNyZWF0ZUJncCh0KSxuPXRbMF0uZ3JhcGg7cmV0dXJuIG4udmFsdWUubGVuZ3RoPT09MD9lOmZhY3RvcnkuY3JlYXRlR3JhcGgoZSxuKX0oZnVuY3Rpb24odCl7dmFyIGU9Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odixiLF8sTyl7Tz09PXZvaWQgMCYmKE89Xyk7dmFyIFQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLF8pOyghVHx8KCJnZXQiaW4gVD8hYi5fX2VzTW9kdWxlOlQud3JpdGFibGV8fFQuY29uZmlndXJhYmxlKSkmJihUPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBiW19dfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2LE8sVCl9OmZ1bmN0aW9uKHYsYixfLE8pe089PT12b2lkIDAmJihPPV8pLHZbT109YltfXX0pLG49Y29tbW9uanNHbG9iYWwmJmNvbW1vbmpzR2xvYmFsLl9fc2V0TW9kdWxlRGVmYXVsdHx8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24odixiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodiwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6Yn0pfTpmdW5jdGlvbih2LGIpe3YuZGVmYXVsdD1ifSksbz1jb21tb25qc0dsb2JhbCYmY29tbW9uanNHbG9iYWwuX19pbXBvcnRTdGFyfHxmdW5jdGlvbih2KXtpZih2JiZ2Ll9fZXNNb2R1bGUpcmV0dXJuIHY7dmFyIGI9e307aWYodiE9bnVsbClmb3IodmFyIF8gaW4gdilfIT09ImRlZmF1bHQiJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodixfKSYmZShiLHYsXyk7cmV0dXJuIG4oYix2KSxifSxkPWNvbW1vbmpzR2xvYmFsJiZjb21tb25qc0dsb2JhbC5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKHYpe3JldHVybiB2JiZ2Ll9fZXNNb2R1bGU/djp7ZGVmYXVsdDp2fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuVXRpbD10LnRvU3BhcnFsSnM9dC50b1NwYXJxbD10LkZhY3Rvcnk9dC5BbGdlYnJhPXQudHJhbnNsYXRlPXZvaWQgMDtjb25zdCBoPWQoc3BhcnFsQWxnZWJyYSk7dC50cmFuc2xhdGU9aC5kZWZhdWx0O2NvbnN0IGw9byhhbGdlYnJhKTt0LkFsZ2VicmE9bDtjb25zdCB1PWQoZmFjdG9yeSQyKTt0LkZhY3Rvcnk9dS5kZWZhdWx0O2NvbnN0IHA9c3BhcnFsO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0b1NwYXJxbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAudG9TcGFycWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInRvU3BhcnFsSnMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBwLnRvU3BhcnFsSnN9fSk7Y29uc3QgZz1kKHV0aWwpO3QuVXRpbD1nLmRlZmF1bHR9KShzcGFycWxhbGdlYnJhanMpO3ZhciBpbmRleCQxPWdldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHNwYXJxbGFsZ2VicmFqcyksX19RVUFEU1RPUkVfQ09NVU5JQ0FfRVhURVJOQUxfTU9EVUxFX3NwYXJxbGFsZ2VicmFqc19fPV9tZXJnZU5hbWVzcGFjZXMoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6aW5kZXgkMX0sW3NwYXJxbGFsZ2VicmFqc10pLF9fcXVhZHN0b3JlX2NvbXVuaWNhX21vZHVsZXNfXz17Ii4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvQWN0b3JBYnN0cmFjdFBhdGguanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvckFic3RyYWN0UGF0aD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxsPW4oImFzeW5jaXRlcmF0b3IiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLGc9bigic3BhcnFsYWxnZWJyYWpzIiksdj1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL1BhdGhWYXJpYWJsZU9iamVjdEl0ZXJhdG9yLmpzIiksYj1uZXcgdS5EYXRhRmFjdG9yeSxfPW5ldyBvLkJpbmRpbmdzRmFjdG9yeTtjbGFzcyBPIGV4dGVuZHMgZC5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihTLE4pe3N1cGVyKFMsInBhdGgiKSx0aGlzLnByZWRpY2F0ZVR5cGU9Tn1hc3luYyB0ZXN0T3BlcmF0aW9uKFMsTil7aWYoUy5wcmVkaWNhdGUudHlwZSE9PXRoaXMucHJlZGljYXRlVHlwZSl0aHJvdyBuZXcgRXJyb3IoYFRoaXMgQWN0b3Igb25seSBzdXBwb3J0cyAke3RoaXMucHJlZGljYXRlVHlwZX0gUGF0aCBvcGVyYXRpb25zLmApO3JldHVybiEwfWdlbmVyYXRlVmFyaWFibGUoUyxOKXtyZXR1cm4gTj9TJiYoUy5zdWJqZWN0LnZhbHVlPT09Tnx8Uy5vYmplY3QudmFsdWU9PT1OKT90aGlzLmdlbmVyYXRlVmFyaWFibGUoUyxgJHtOfWJgKTpiLnZhcmlhYmxlKE4pOnRoaXMuZ2VuZXJhdGVWYXJpYWJsZShTLCJiIil9YXN5bmMgaXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3QoUyxOKXtyZXR1cm4gUy5nZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24uaXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3RLZXkpPyhTPVMuc2V0KGguS2V5c1F1ZXJ5T3BlcmF0aW9uLmlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0S2V5LCExKSx7Y29udGV4dDpTLG9wZXJhdGlvbjp2b2lkIDB9KTooUz1TLnNldChoLktleXNRdWVyeU9wZXJhdGlvbi5pc1BhdGhBcmJpdHJhcnlMZW5ndGhEaXN0aW5jdEtleSwhMCkse2NvbnRleHQ6UyxvcGVyYXRpb246ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOk8uRkFDVE9SWS5jcmVhdGVEaXN0aW5jdChOKSxjb250ZXh0OlN9KSl9KX1hc3luYyBwcmVkaWNhdGVTdGFyR3JhcGhWYXJpYWJsZShTLE4sQixMLEMpe2NvbnN0IGo9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKE8uRkFDVE9SWS5jcmVhdGVQYXRoKFMsQixOLEwpKSxQPU8uRkFDVE9SWS5jcmVhdGVVbmlvbihbTy5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4oUyxqLE4sTCksTy5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4oTixqLFMsTCldKSxGPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe2NvbnRleHQ6QyxvcGVyYXRpb246UH0pKSxrPW5ldyBTZXQ7cmV0dXJue2JpbmRpbmdzU3RyZWFtOm5ldyBsLk11bHRpVHJhbnNmb3JtSXRlcmF0b3IoRi5iaW5kaW5nc1N0cmVhbSx7bXVsdGlUcmFuc2Zvcm06YWU9Pntjb25zdCBYPWFlLmdldChMKTtyZXR1cm4gay5oYXMoWC52YWx1ZSk/bmV3IGwuRW1wdHlJdGVyYXRvcjooay5hZGQoWC52YWx1ZSksbmV3IGwuVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+e2NvbnN0IEc9bmV3IGwuQnVmZmVyZWRJdGVyYXRvcjtyZXR1cm4gYXdhaXQgdGhpcy5nZXRPYmplY3RzUHJlZGljYXRlU3RhcihTLEIsWCxDLHt9LEcse2NvdW50OjB9KSxHLnRyYW5zZm9ybSh7dHJhbnNmb3JtKHJlLE0sJCl7JChfLmJpbmRpbmdzKFtbTixyZV0sW0wsWF1dKSksTSgpfX0pfSx7bWF4QnVmZmVyU2l6ZToxMjh9KSl9LGF1dG9TdGFydDohMX0pLG1ldGFkYXRhOkYubWV0YWRhdGF9fWFzeW5jIGdldE9iamVjdHNQcmVkaWNhdGVTdGFyRXZhbChTLE4sQixMLEMsail7aWYoTC50ZXJtVHlwZT09PSJWYXJpYWJsZSIpcmV0dXJuIHRoaXMucHJlZGljYXRlU3RhckdyYXBoVmFyaWFibGUoUyxCLE4sTCxDKTtjb25zdCBQPW5ldyB2LlBhdGhWYXJpYWJsZU9iamVjdEl0ZXJhdG9yKFMsTixMLEMsdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLGopO3JldHVybntiaW5kaW5nc1N0cmVhbTpQLnRyYW5zZm9ybSh7YXV0b1N0YXJ0OiExLHRyYW5zZm9ybShrLEosYWUpe2FlKF8uYmluZGluZ3MoW1tCLGtdXSkpLEooKX19KSxtZXRhZGF0YTooKT0+bmV3IFByb21pc2Uoaz0+UC5nZXRQcm9wZXJ0eSgibWV0YWRhdGEiLEo9PmsoSigpKSkpfX1hc3luYyBnZXRPYmplY3RzUHJlZGljYXRlU3RhcihTLE4sQixMLEMsaixQKXtjb25zdCBGPSgwLHAudGVybVRvU3RyaW5nKShTKTtpZihDW0ZdKXJldHVybjtqLl9wdXNoKFMpLENbRl09UyxQLmNvdW50Kys7Y29uc3Qgaz10aGlzLmdlbmVyYXRlVmFyaWFibGUoKSxKPU8uRkFDVE9SWS5jcmVhdGVQYXRoKFMsTixrLEIpLGFlPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpKLGNvbnRleHQ6TH0pKTtyZXR1cm4gYWUuYmluZGluZ3NTdHJlYW0ub24oImRhdGEiLGFzeW5jIFg9Pntjb25zdCBHPVguZ2V0KGspO2F3YWl0IHRoaXMuZ2V0T2JqZWN0c1ByZWRpY2F0ZVN0YXIoRyxOLEIsTCxDLGosUCl9KSxhZS5iaW5kaW5nc1N0cmVhbS5vbigiZW5kIiwoKT0+ey0tUC5jb3VudD09PTAmJmouY2xvc2UoKX0pLGFlLm1ldGFkYXRhfWFzeW5jIGdldFN1YmplY3RBbmRPYmplY3RCaW5kaW5nc1ByZWRpY2F0ZVN0YXIoUyxOLEIsTCxDLGosUCxGLGssSixhZSl7Y29uc3QgWD0oMCxwLnRlcm1Ub1N0cmluZykoTCkrKDAscC50ZXJtVG9TdHJpbmcpKGopO2lmKGtbWF0pcmV0dXJuO2lmKGFlLmNvdW50Kyssa1tYXT0hMCxKLl9wdXNoKF8uYmluZGluZ3MoW1tTLEJdLFtOLExdXSkpLFggaW4gRil7Y29uc3QgcmU9YXdhaXQgRltYXTtmb3IoY29uc3QgTSBvZiByZSlhd2FpdCB0aGlzLmdldFN1YmplY3RBbmRPYmplY3RCaW5kaW5nc1ByZWRpY2F0ZVN0YXIoUyxOLEIsTSxDLGosUCxGLGssSixhZSk7LS1hZS5jb3VudD09PTAmJkouY2xvc2UoKTtyZXR1cm59Y29uc3QgRz1uZXcgUHJvbWlzZShhc3luYyhyZSxNKT0+e2NvbnN0ICQ9W10sVT10aGlzLmdlbmVyYXRlVmFyaWFibGUoKSxIPU8uRkFDVE9SWS5jcmVhdGVQYXRoKEwsQyxVLGopLGVlPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpILGNvbnRleHQ6UH0pKTtlZS5iaW5kaW5nc1N0cmVhbS5vbigiZGF0YSIsYXN5bmMgZ2U9Pntjb25zdCBtZT1nZS5nZXQoVSk7JC5wdXNoKG1lKSxhd2FpdCB0aGlzLmdldFN1YmplY3RBbmRPYmplY3RCaW5kaW5nc1ByZWRpY2F0ZVN0YXIoUyxOLEIsbWUsQyxqLFAsRixrLEosYWUpfSksZWUuYmluZGluZ3NTdHJlYW0ub24oImVycm9yIixNKSxlZS5iaW5kaW5nc1N0cmVhbS5vbigiZW5kIiwoKT0+ey0tYWUuY291bnQ9PT0wJiZKLmNsb3NlKCkscmUoJCl9KX0pO0ZbWF09R319ZS5BY3RvckFic3RyYWN0UGF0aD1PLE8uRkFDVE9SWT1uZXcgZy5GYWN0b3J5fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9QYXRoVmFyaWFibGVPYmplY3RJdGVyYXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlBhdGhWYXJpYWJsZU9iamVjdEl0ZXJhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oImFzeW5jaXRlcmF0b3IiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLHU9bigic3BhcnFsYWxnZWJyYWpzIikscD1uZXcgaC5EYXRhRmFjdG9yeSxnPW5ldyB1LkZhY3Rvcnk7Y2xhc3MgdiBleHRlbmRzIGQuQnVmZmVyZWRJdGVyYXRvcntjb25zdHJ1Y3RvcihfLE8sVCxTLE4sQixMPTE2KXtzdXBlcih7YXV0b1N0YXJ0OiEwfSksdGhpcy5zdWJqZWN0PV8sdGhpcy5wcmVkaWNhdGU9Tyx0aGlzLmdyYXBoPVQsdGhpcy5jb250ZXh0PVMsdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uPU4sdGhpcy5tYXhSdW5uaW5nT3BlcmF0aW9ucz1MLHRoaXMudGVybUhhc2hlcz1uZXcgTWFwLHRoaXMucnVubmluZ09wZXJhdGlvbnM9W10sdGhpcy5wZW5kaW5nT3BlcmF0aW9ucz1bXSx0aGlzLl9wdXNoKHRoaXMuc3ViamVjdCxCKX1fZW5kKF8pe2Zvcihjb25zdCBPIG9mIHRoaXMucnVubmluZ09wZXJhdGlvbnMpTy5kZXN0cm95KCk7c3VwZXIuX2VuZChfKX1fcHVzaChfLE89ITApe2xldCBUO2lmKE8mJihUPSgwLGwudGVybVRvU3RyaW5nKShfKSx0aGlzLnRlcm1IYXNoZXMuaGFzKFQpKSlyZXR1cm47Y29uc3QgUz1wLnZhcmlhYmxlKCJiIik7dGhpcy5wZW5kaW5nT3BlcmF0aW9ucy5wdXNoKHt2YXJpYWJsZTpTLG9wZXJhdGlvbjpnLmNyZWF0ZVBhdGgoXyx0aGlzLnByZWRpY2F0ZSxTLHRoaXMuZ3JhcGgpfSksVCYmKHRoaXMudGVybUhhc2hlcy5zZXQoVCxfKSxzdXBlci5fcHVzaChfKSl9X3JlYWQoXyxPKXtjb25zdCBUPXRoaXM7KGFzeW5jIGZ1bmN0aW9uKCl7Zm9yKDtULnJ1bm5pbmdPcGVyYXRpb25zLmxlbmd0aDxULm1heFJ1bm5pbmdPcGVyYXRpb25zJiZULnBlbmRpbmdPcGVyYXRpb25zLmxlbmd0aCE9PTA7KXtjb25zdCBCPVQucGVuZGluZ09wZXJhdGlvbnMucG9wKCksTD1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IFQubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Qi5vcGVyYXRpb24sY29udGV4dDpULmNvbnRleHR9KSksQz1MLmJpbmRpbmdzU3RyZWFtLnRyYW5zZm9ybSh7YXV0b1N0YXJ0OiExLHRyYW5zZm9ybShqLFAsRil7Y29uc3Qgaz1qLmdldChCLnZhcmlhYmxlKTtGKGspLFAoKX19KTtDLmRvbmV8fChULnJ1bm5pbmdPcGVyYXRpb25zLnB1c2goQyksQy5vbigiZXJyb3IiLGo9PlQuZGVzdHJveShqKSksQy5vbigicmVhZGFibGUiLCgpPT57VC5yZWFkYWJsZT0hMCxULl9maWxsQnVmZmVyQXN5bmMoKX0pLEMub24oImVuZCIsKCk9PntULnJ1bm5pbmdPcGVyYXRpb25zLnNwbGljZShULnJ1bm5pbmdPcGVyYXRpb25zLmluZGV4T2YoQyksMSksVC5yZWFkYWJsZT0hMCxULl9maWxsQnVmZmVyQXN5bmMoKX0pKSxULnNldFByb3BlcnR5KCJtZXRhZGF0YSIsTC5tZXRhZGF0YSl9bGV0IFM9MCxOO2Zvcig7UyE9PShTPV8pOylmb3IobGV0IEI9MDtCPFQucnVubmluZ09wZXJhdGlvbnMubGVuZ3RoJiZfPjA7QisrKShOPVQucnVubmluZ09wZXJhdGlvbnNbQl0ucmVhZCgpKSE9PW51bGwmJihfLS0sVC5fcHVzaChOKSk7VC5ydW5uaW5nT3BlcmF0aW9ucy5sZW5ndGg9PT0wJiZULnBlbmRpbmdPcGVyYXRpb25zLmxlbmd0aD09PTAmJlQuY2xvc2UoKX0pKCkudGhlbigoKT0+e08oKX0sUz0+dGhpcy5kZXN0cm95KFMpKX19ZS5QYXRoVmFyaWFibGVPYmplY3RJdGVyYXRvcj12fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL0FjdG9yQWJzdHJhY3RQYXRoLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL1BhdGhWYXJpYWJsZU9iamVjdEl0ZXJhdG9yLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWNvbnRleHQtcHJlcHJvY2Vzcy1zb3VyY2UtdG8tZGVzdGluYXRpb24vbGliL0FjdG9yQ29udGV4dFByZXByb2Nlc3NTb3VyY2VUb0Rlc3RpbmF0aW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JDb250ZXh0UHJlcHJvY2Vzc1NvdXJjZVRvRGVzdGluYXRpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtY29udGV4dC1wcmVwcm9jZXNzL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JDb250ZXh0UHJlcHJvY2Vzc3tjb25zdHJ1Y3Rvcih1KXtzdXBlcih1KX1hc3luYyB0ZXN0KHUpe3JldHVybiEwfWFzeW5jIHJ1bih1KXtpZih1LmNvbnRleHQuZ2V0KGQuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VzKSYmIXUuY29udGV4dC5nZXQoZC5LZXlzUmRmVXBkYXRlUXVhZHMuZGVzdGluYXRpb24pKXtjb25zdCBwPXUuY29udGV4dC5nZXQoZC5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZXMpO2lmKHAubGVuZ3RoPT09MSlyZXR1cm57Y29udGV4dDp1LmNvbnRleHQuc2V0KGQuS2V5c1JkZlVwZGF0ZVF1YWRzLmRlc3RpbmF0aW9uLHBbMF0pfX1yZXR1cm4gdX19ZS5BY3RvckNvbnRleHRQcmVwcm9jZXNzU291cmNlVG9EZXN0aW5hdGlvbj1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1jb250ZXh0LXByZXByb2Nlc3Mtc291cmNlLXRvLWRlc3RpbmF0aW9uL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWNvbnRleHQtcHJlcHJvY2Vzcy1zb3VyY2UtdG8tZGVzdGluYXRpb24vbGliL0FjdG9yQ29udGV4dFByZXByb2Nlc3NTb3VyY2VUb0Rlc3RpbmF0aW9uLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWhhc2gtYmluZGluZ3Mtc2hhMS9saWIvQWN0b3JIYXNoQmluZGluZ3NTaGExLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JIYXNoQmluZGluZ3NTaGExPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWhhc2gtYmluZGluZ3MvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9jYW5vbmljYWxpemUvbGliL2Nhbm9uaWNhbGl6ZS5qcyIpO2NsYXNzIHUgZXh0ZW5kcyBvLkFjdG9ySGFzaEJpbmRpbmdze2FzeW5jIHRlc3QoZyl7aWYoIWcuYWxsb3dIYXNoQ29sbGlzaW9ucyl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gbm90IHByb3ZpZGUgaGFzaCBmdW5jdGlvbnMgd2l0aG91dCBoYXNoIGNvbGxpc2lvbnNgKTtyZXR1cm4hMH1hc3luYyBydW4oZyl7cmV0dXJue2hhc2hGdW5jdGlvbjp2PT4oMCxkLnNoYTEpKCkudXBkYXRlKGwoT2JqZWN0LmZyb21FbnRyaWVzKFsuLi52XS5tYXAoKFtiLF9dKT0+WygwLGgudGVybVRvU3RyaW5nKShiKSwoMCxoLnRlcm1Ub1N0cmluZykoXyldKSkpKS5kaWdlc3QoImhleCIpLGhhc2hDb2xsaXNpb25zOiEwfX19ZS5BY3Rvckhhc2hCaW5kaW5nc1NoYTE9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaGFzaC1iaW5kaW5ncy1zaGExL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWhhc2gtYmluZGluZ3Mtc2hhMS9saWIvQWN0b3JIYXNoQmluZGluZ3NTaGExLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnkvbGliL0FjdG9ySW5pdFF1ZXJ5LWJyb3dzZXIuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvckluaXRRdWVyeT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnkvbGliL0FjdG9ySW5pdFF1ZXJ5QmFzZS5qcyIpO3R5cGVvZiBwcm9jZXNzPiJ1IiYmKGdsb2JhbFRoaXMucHJvY2Vzcz1uKCIuL3JlcXVpcmUtZW1wdHkuanMiKSk7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3JJbml0UXVlcnlCYXNle31lLkFjdG9ySW5pdFF1ZXJ5PWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnkvbGliL0FjdG9ySW5pdFF1ZXJ5QmFzZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9ySW5pdFF1ZXJ5QmFzZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1pbml0L2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ySW5pdHtjb25zdHJ1Y3RvcihsKXtsLmNvbnRleHRLZXlTaG9ydGN1dHNFeHRlbnNpb25zPy5mb3JFYWNoKHU9PntpZihPYmplY3Qua2V5cyhsLmNvbnRleHRLZXlTaG9ydGN1dHMpLnNvbWUocD0+T2JqZWN0LmtleXModSkuaW5jbHVkZXMocCkpKXRocm93IG5ldyBFcnJvcigiRHVwbGljYXRlIGtleXMgZm91bmQgd2hpbGUgYWRkaW5nIGBjb250ZXh0S2V5U2hvcnRjdXRzRXh0ZW5zaW9uc2AuIik7bC5jb250ZXh0S2V5U2hvcnRjdXRzPXsuLi5sLmNvbnRleHRLZXlTaG9ydGN1dHMsLi4udX19KSxzdXBlcihsKX1hc3luYyB0ZXN0KGwpe3JldHVybiEwfWFzeW5jIHJ1bihsKXt0aHJvdyBuZXcgRXJyb3IoIkFjdG9ySW5pdFNwYXJxbCNydW4gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci4iKX19ZS5BY3RvckluaXRRdWVyeUJhc2U9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeS9saWIvTWVtb3J5UGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXIuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NZW1vcnlQaHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IoKXt0aGlzLmNoaWxkcmVuPW5ldyBNYXB9bG9nT3BlcmF0aW9uKGwsdSxwLGcsdixiKXtjb25zdCBfPXthY3Rvcjp2LGxvZ2ljYWxPcGVyYXRvcjpsLHBoeXNpY2FsT3BlcmF0b3I6dSxyYXdOb2RlOnAsY2hpbGRyZW46W10sbWV0YWRhdGE6Yn07aWYodGhpcy5jaGlsZHJlbi5zZXQocCxfLmNoaWxkcmVuKSx0aGlzLnJvb3ROb2RlKXtpZighZyl0aHJvdyBuZXcgRXJyb3IoIkRldGVjdGVkIG1vcmUgdGhhbiBvbmUgcGFyZW50LWxlc3Mgbm9kZSIpO2NvbnN0IE89dGhpcy5jaGlsZHJlbi5nZXQoZyk7aWYoIU8pdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCBwYXJlbnQgbm9kZSIpO08ucHVzaChfKX1lbHNle2lmKGcpdGhyb3cgbmV3IEVycm9yKCJObyByb290IG5vZGUgaGFzIGJlZW4gc2V0IHlldCwgd2hpbGUgYSBwYXJlbnQgaXMgYmVpbmcgcmVmZXJlbmNlZCIpO3RoaXMucm9vdE5vZGU9X319dG9Kc29uKCl7cmV0dXJuIHRoaXMucm9vdE5vZGU/dGhpcy5wbGFuTm9kZVRvSnNvbih0aGlzLnJvb3ROb2RlKTp7fX1wbGFuTm9kZVRvSnNvbihsKXtyZXR1cm57bG9naWNhbDpsLmxvZ2ljYWxPcGVyYXRvcixwaHlzaWNhbDpsLnBoeXNpY2FsT3BlcmF0b3IsLi4udGhpcy5nZXRMb2dpY2FsTWV0YWRhdGEobC5yYXdOb2RlKSwuLi5sLm1ldGFkYXRhLC4uLmwuY2hpbGRyZW4ubGVuZ3RoPjA/e2NoaWxkcmVuOmwuY2hpbGRyZW4ubWFwKHU9PnRoaXMucGxhbk5vZGVUb0pzb24odSkpfTp7fX19Z2V0TG9naWNhbE1ldGFkYXRhKGwpe2lmKCJ0eXBlImluIGwpe2NvbnN0IHU9bDtzd2l0Y2godS50eXBlKXtjYXNlInBhdHRlcm4iOnJldHVybntwYXR0ZXJuOnRoaXMucXVhZFRvU3RyaW5nKHUpfTtjYXNlInByb2plY3QiOnJldHVybnt2YXJpYWJsZXM6dS52YXJpYWJsZXMubWFwKHA9PnAudmFsdWUpfX19cmV0dXJue319cXVhZFRvU3RyaW5nKGwpe3JldHVybmAkeygwLG8udGVybVRvU3RyaW5nKShsLnN1YmplY3QpfSAkeygwLG8udGVybVRvU3RyaW5nKShsLnByZWRpY2F0ZSl9ICR7KDAsby50ZXJtVG9TdHJpbmcpKGwub2JqZWN0KX0ke2wuZ3JhcGgudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIj8iIjpgICR7KDAsby50ZXJtVG9TdHJpbmcpKGwuZ3JhcGgpfWB9YH19ZS5NZW1vcnlQaHlzaWNhbFF1ZXJ5UGxhbkxvZ2dlcj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9RdWVyeUVuZ2luZUJhc2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5RdWVyeUVuZ2luZUJhc2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnkvbGliL01lbW9yeVBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyLmpzIik7Y2xhc3MgdXtjb25zdHJ1Y3RvcihnKXt0aGlzLmFjdG9ySW5pdFF1ZXJ5PWcsdGhpcy5kZWZhdWx0RnVuY3Rpb25Bcmd1bWVudHNDYWNoZT17fX1hc3luYyBxdWVyeUJpbmRpbmdzKGcsdil7cmV0dXJuIHRoaXMucXVlcnlPZlR5cGUoZyx2LCJiaW5kaW5ncyIpfWFzeW5jIHF1ZXJ5UXVhZHMoZyx2KXtyZXR1cm4gdGhpcy5xdWVyeU9mVHlwZShnLHYsInF1YWRzIil9YXN5bmMgcXVlcnlCb29sZWFuKGcsdil7cmV0dXJuIHRoaXMucXVlcnlPZlR5cGUoZyx2LCJib29sZWFuIil9YXN5bmMgcXVlcnlWb2lkKGcsdil7cmV0dXJuIHRoaXMucXVlcnlPZlR5cGUoZyx2LCJ2b2lkIil9YXN5bmMgcXVlcnlPZlR5cGUoZyx2LGIpe2NvbnN0IF89YXdhaXQgdGhpcy5xdWVyeShnLHYpO2lmKF8ucmVzdWx0VHlwZT09PWIpcmV0dXJuIF8uZXhlY3V0ZSgpO3Rocm93IG5ldyBFcnJvcihgUXVlcnkgcmVzdWx0IHR5cGUgJyR7Yn0nIHdhcyBleHBlY3RlZCwgd2hpbGUgJyR7Xy5yZXN1bHRUeXBlfScgd2FzIGZvdW5kLmApfWFzeW5jIHF1ZXJ5KGcsdil7Y29uc3QgYj1hd2FpdCB0aGlzLnF1ZXJ5T3JFeHBsYWluKGcsdik7aWYoImV4cGxhaW4iaW4gYil0aHJvdyBuZXcgRXJyb3IoIlRyaWVkIHRvIGV4cGxhaW4gYSBxdWVyeSB3aGVuIGluIHF1ZXJ5LW9ubHkgbW9kZSIpO3JldHVybiBifWFzeW5jIGV4cGxhaW4oZyx2LGIpe3JldHVybiB2LmV4cGxhaW49Yixhd2FpdCB0aGlzLnF1ZXJ5T3JFeHBsYWluKGcsdil9YXN5bmMgcXVlcnlPckV4cGxhaW4oZyx2KXt2PXZ8fHt9O2Zvcihjb25zdCBqIGluIHYpdGhpcy5hY3RvckluaXRRdWVyeS5jb250ZXh0S2V5U2hvcnRjdXRzW2pdJiYodlt0aGlzLmFjdG9ySW5pdFF1ZXJ5LmNvbnRleHRLZXlTaG9ydGN1dHNbal1dPXZbal0sZGVsZXRlIHZbal0pO2xldCBiPW5ldyBoLkFjdGlvbkNvbnRleHQodiksXz17bGFuZ3VhZ2U6InNwYXJxbCIsdmVyc2lvbjoiMS4xIn07Yi5oYXMoZC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5Rm9ybWF0KSYmKF89Yi5nZXQoZC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5Rm9ybWF0KSxiPWIuZGVsZXRlKGQuS2V5c0luaXRRdWVyeS5xdWVyeUZvcm1hdCksXy5sYW5ndWFnZT09PSJncmFwaHFsIiYmKGI9Yi5zZXREZWZhdWx0KGQuS2V5c0luaXRRdWVyeS5ncmFwaHFsU2luZ3VsYXJpemVWYXJpYWJsZXMse30pKSk7Y29uc3QgTz1iLmdldChkLktleXNJbml0UXVlcnkuYmFzZUlSSSk7Yj1iLnNldERlZmF1bHQoZC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5VGltZXN0YW1wLG5ldyBEYXRlKS5zZXREZWZhdWx0KGQuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VJZHMsbmV3IE1hcCkuc2V0RGVmYXVsdChkLktleXNDb3JlLmxvZyx0aGlzLmFjdG9ySW5pdFF1ZXJ5LmxvZ2dlcikuc2V0RGVmYXVsdChkLktleXNJbml0UXVlcnkuZnVuY3Rpb25Bcmd1bWVudHNDYWNoZSx0aGlzLmRlZmF1bHRGdW5jdGlvbkFyZ3VtZW50c0NhY2hlKS5zZXREZWZhdWx0KGQuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5oeXBlcm1lZGlhU291cmNlc0FnZ3JlZ2F0ZWRTdG9yZXMsbmV3IE1hcCksYj0oYXdhaXQgdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvckNvbnRleHRQcmVwcm9jZXNzLm1lZGlhdGUoe2NvbnRleHQ6Yn0pKS5jb250ZXh0O2NvbnN0IFQ9Yi5nZXQoZC5LZXlzSW5pdFF1ZXJ5LmV4cGxhaW4pO2xldCBTO2lmKHR5cGVvZiBnPT0ic3RyaW5nIil7Yj1iLnNldChkLktleXNJbml0UXVlcnkucXVlcnlTdHJpbmcsZyk7Y29uc3Qgaj1hd2FpdCB0aGlzLmFjdG9ySW5pdFF1ZXJ5Lm1lZGlhdG9yUXVlcnlQYXJzZS5tZWRpYXRlKHtjb250ZXh0OmIscXVlcnk6ZyxxdWVyeUZvcm1hdDpfLGJhc2VJUkk6T30pO1M9ai5vcGVyYXRpb24sai5iYXNlSVJJJiYoYj1iLnNldChkLktleXNJbml0UXVlcnkuYmFzZUlSSSxqLmJhc2VJUkkpKX1lbHNlIFM9ZztpZihUPT09InBhcnNlZCIpcmV0dXJue2V4cGxhaW46ITAsdHlwZTpULGRhdGE6U307Yi5oYXMoZC5LZXlzSW5pdFF1ZXJ5LmluaXRpYWxCaW5kaW5ncykmJihTPSgwLG8ubWF0ZXJpYWxpemVPcGVyYXRpb24pKFMsYi5nZXQoZC5LZXlzSW5pdFF1ZXJ5LmluaXRpYWxCaW5kaW5ncykpLGI9Yi5kZWxldGUoZC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5U3RyaW5nKSk7Y29uc3QgTj1hd2FpdCB0aGlzLmFjdG9ySW5pdFF1ZXJ5Lm1lZGlhdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0OmIsb3BlcmF0aW9uOlN9KTtpZihTPU4ub3BlcmF0aW9uLGI9Ti5jb250ZXh0fHxiLFQ9PT0ibG9naWNhbCIpcmV0dXJue2V4cGxhaW46ITAsdHlwZTpULGRhdGE6U307Yj1iLnNldChkLktleXNJbml0UXVlcnkucXVlcnksUyk7bGV0IEI7VD09PSJwaHlzaWNhbCImJihCPW5ldyBsLk1lbW9yeVBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyLGI9Yi5zZXQoZC5LZXlzSW5pdFF1ZXJ5LnBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyLEIpKTtjb25zdCBMPWF3YWl0IHRoaXMuYWN0b3JJbml0UXVlcnkubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0OmIsb3BlcmF0aW9uOlN9KTtMLmNvbnRleHQ9Yjtjb25zdCBDPXUuaW50ZXJuYWxUb0ZpbmFsUmVzdWx0KEwpO2lmKEIpe3N3aXRjaChDLnJlc3VsdFR5cGUpe2Nhc2UiYmluZGluZ3MiOmF3YWl0KGF3YWl0IEMuZXhlY3V0ZSgpKS50b0FycmF5KCk7YnJlYWs7Y2FzZSJxdWFkcyI6YXdhaXQoYXdhaXQgQy5leGVjdXRlKCkpLnRvQXJyYXkoKTticmVhaztjYXNlImJvb2xlYW4iOmF3YWl0IEMuZXhlY3V0ZSgpO2JyZWFrO2Nhc2Uidm9pZCI6YXdhaXQgQy5leGVjdXRlKCk7YnJlYWt9cmV0dXJue2V4cGxhaW46ITAsdHlwZTpULGRhdGE6Qi50b0pzb24oKX19cmV0dXJuIEN9YXN5bmMgZ2V0UmVzdWx0TWVkaWFUeXBlcyhnKXtyZXR1cm4gZz1oLkFjdGlvbkNvbnRleHQuZW5zdXJlQWN0aW9uQ29udGV4dChnKSwoYXdhaXQgdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvclF1ZXJ5UmVzdWx0U2VyaWFsaXplTWVkaWFUeXBlQ29tYmluZXIubWVkaWF0ZSh7Y29udGV4dDpnLG1lZGlhVHlwZXM6ITB9KSkubWVkaWFUeXBlc31hc3luYyBnZXRSZXN1bHRNZWRpYVR5cGVGb3JtYXRzKGcpe3JldHVybiBnPWguQWN0aW9uQ29udGV4dC5lbnN1cmVBY3Rpb25Db250ZXh0KGcpLChhd2FpdCB0aGlzLmFjdG9ySW5pdFF1ZXJ5Lm1lZGlhdG9yUXVlcnlSZXN1bHRTZXJpYWxpemVNZWRpYVR5cGVGb3JtYXRDb21iaW5lci5tZWRpYXRlKHtjb250ZXh0OmcsbWVkaWFUeXBlRm9ybWF0czohMH0pKS5tZWRpYVR5cGVGb3JtYXRzfWFzeW5jIHJlc3VsdFRvU3RyaW5nKGcsdixiKXtpZihiPWguQWN0aW9uQ29udGV4dC5lbnN1cmVBY3Rpb25Db250ZXh0KGIpLCF2KXN3aXRjaChnLnJlc3VsdFR5cGUpe2Nhc2UiYmluZGluZ3MiOnY9ImFwcGxpY2F0aW9uL2pzb24iO2JyZWFrO2Nhc2UicXVhZHMiOnY9ImFwcGxpY2F0aW9uL3RyaWciO2JyZWFrO2RlZmF1bHQ6dj0ic2ltcGxlIjticmVha31jb25zdCBfPXsuLi5hd2FpdCB1LmZpbmFsVG9JbnRlcm5hbFJlc3VsdChnKSxjb250ZXh0OmJ9O3JldHVybihhd2FpdCB0aGlzLmFjdG9ySW5pdFF1ZXJ5Lm1lZGlhdG9yUXVlcnlSZXN1bHRTZXJpYWxpemUubWVkaWF0ZSh7Y29udGV4dDpiLGhhbmRsZTpfLGhhbmRsZU1lZGlhVHlwZTp2fSkpLmhhbmRsZX1pbnZhbGlkYXRlSHR0cENhY2hlKGcsdil7cmV0dXJuIHY9aC5BY3Rpb25Db250ZXh0LmVuc3VyZUFjdGlvbkNvbnRleHQodiksdGhpcy5hY3RvckluaXRRdWVyeS5tZWRpYXRvckh0dHBJbnZhbGlkYXRlLm1lZGlhdGUoe3VybDpnLGNvbnRleHQ6dn0pfXN0YXRpYyBpbnRlcm5hbFRvRmluYWxSZXN1bHQoZyl7c3dpdGNoKGcudHlwZSl7Y2FzZSJiaW5kaW5ncyI6cmV0dXJue3Jlc3VsdFR5cGU6ImJpbmRpbmdzIixleGVjdXRlOmFzeW5jKCk9PmcuYmluZGluZ3NTdHJlYW0sbWV0YWRhdGE6YXN5bmMoKT0+YXdhaXQgZy5tZXRhZGF0YSgpLGNvbnRleHQ6Zy5jb250ZXh0fTtjYXNlInF1YWRzIjpyZXR1cm57cmVzdWx0VHlwZToicXVhZHMiLGV4ZWN1dGU6YXN5bmMoKT0+Zy5xdWFkU3RyZWFtLG1ldGFkYXRhOmFzeW5jKCk9PmF3YWl0IGcubWV0YWRhdGEoKSxjb250ZXh0OmcuY29udGV4dH07Y2FzZSJib29sZWFuIjpyZXR1cm57cmVzdWx0VHlwZToiYm9vbGVhbiIsZXhlY3V0ZTphc3luYygpPT5nLmV4ZWN1dGUoKSxjb250ZXh0OmcuY29udGV4dH07Y2FzZSJ2b2lkIjpyZXR1cm57cmVzdWx0VHlwZToidm9pZCIsZXhlY3V0ZTphc3luYygpPT5nLmV4ZWN1dGUoKSxjb250ZXh0OmcuY29udGV4dH19fXN0YXRpYyBhc3luYyBmaW5hbFRvSW50ZXJuYWxSZXN1bHQoZyl7c3dpdGNoKGcucmVzdWx0VHlwZSl7Y2FzZSJiaW5kaW5ncyI6cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTphd2FpdCBnLmV4ZWN1dGUoKSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCBnLm1ldGFkYXRhKCl9O2Nhc2UicXVhZHMiOnJldHVybnt0eXBlOiJxdWFkcyIscXVhZFN0cmVhbTphd2FpdCBnLmV4ZWN1dGUoKSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCBnLm1ldGFkYXRhKCl9O2Nhc2UiYm9vbGVhbiI6cmV0dXJue3R5cGU6ImJvb2xlYW4iLGV4ZWN1dGU6KCk9PmcuZXhlY3V0ZSgpfTtjYXNlInZvaWQiOnJldHVybnt0eXBlOiJ2b2lkIixleGVjdXRlOigpPT5nLmV4ZWN1dGUoKX19fX1lLlF1ZXJ5RW5naW5lQmFzZT11fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9pbmRleC1icm93c2VyLmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGwsdSxwLGcpe2c9PT12b2lkIDAmJihnPXApO3ZhciB2PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodSxwKTsoIXZ8fCgiZ2V0ImluIHY/IXUuX19lc01vZHVsZTp2LndyaXRhYmxlfHx2LmNvbmZpZ3VyYWJsZSkpJiYodj17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdVtwXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobCxnLHYpfTpmdW5jdGlvbihsLHUscCxnKXtnPT09dm9pZCAwJiYoZz1wKSxsW2ddPXVbcF19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihsLHUpe2Zvcih2YXIgcCBpbiBsKXAhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodSxwKSYmbyh1LGwscCl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlF1ZXJ5RW5naW5lQmFzZT12b2lkIDAsZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnkvbGliL0FjdG9ySW5pdFF1ZXJ5QmFzZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9BY3RvckluaXRRdWVyeS1icm93c2VyLmpzIiksZSk7dmFyIGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9RdWVyeUVuZ2luZUJhc2UuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiUXVlcnlFbmdpbmVCYXNlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5RdWVyeUVuZ2luZUJhc2V9fSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1iZ3AtdG8tam9pbi9saWIvQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uQmdwVG9Kb2luLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uQmdwVG9Kb2luPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbnthc3luYyB0ZXN0KHUpe3JldHVybiEwfWFzeW5jIHJ1bih1KXtyZXR1cm57b3BlcmF0aW9uOmQuVXRpbC5tYXBPcGVyYXRpb24odS5vcGVyYXRpb24se2JncChnLHYpe3JldHVybntyZWN1cnNlOiExLHJlc3VsdDp2LmNyZWF0ZUpvaW4oZy5wYXR0ZXJucyl9fX0pLGNvbnRleHQ6dS5jb250ZXh0fX19ZS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25CZ3BUb0pvaW49aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3Itb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uLWJncC10by1qb2luL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1iZ3AtdG8tam9pbi9saWIvQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uQmdwVG9Kb2luLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1qb2luLWJncC9saWIvQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uSm9pbkJncC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5CZ3A9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9ue2FzeW5jIHRlc3QodSl7cmV0dXJuITB9YXN5bmMgcnVuKHUpe3JldHVybntvcGVyYXRpb246ZC5VdGlsLm1hcE9wZXJhdGlvbih1Lm9wZXJhdGlvbix7am9pbihnLHYpe3JldHVybiBnLmlucHV0LmV2ZXJ5KGI9PmIudHlwZT09PSJiZ3AiKT97cmVjdXJzZTohMSxyZXN1bHQ6di5jcmVhdGVCZ3AoZy5pbnB1dC5mbGF0TWFwKGI9PmIucGF0dGVybnMpKX06e3JlY3Vyc2U6ITEscmVzdWx0Omd9fX0pLGNvbnRleHQ6dS5jb250ZXh0fX19ZS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQmdwPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1qb2luLWJncC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1iZ3AvbGliL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5CZ3AuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3Itb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uLWpvaW4tY29ubmVjdGVkL2xpYi9BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQ29ubmVjdGVkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uSm9pbkNvbm5lY3RlZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb257YXN5bmMgdGVzdCh1KXtyZXR1cm4hMH1hc3luYyBydW4odSl7cmV0dXJue29wZXJhdGlvbjpkLlV0aWwubWFwT3BlcmF0aW9uKHUub3BlcmF0aW9uLHtqb2luKGcsdil7cmV0dXJue3JlY3Vyc2U6ITEscmVzdWx0OmguY2x1c3RlcihnLHYpfX19KSxjb250ZXh0OnUuY29udGV4dH19c3RhdGljIGNsdXN0ZXIodSxwKXtjb25zdCBnPXUuaW5wdXQubWFwKE89Pih7aW5TY29wZVZhcmlhYmxlczpPYmplY3QuZnJvbUVudHJpZXMoZC5VdGlsLmluU2NvcGVWYXJpYWJsZXMoTykubWFwKFQ9PltULnZhbHVlLCEwXSkpLGVudHJpZXM6W09dfSkpO2xldCB2LGI9ZztkbyB2PWIsYj1oLmNsdXN0ZXJJdGVyYXRpb24odik7d2hpbGUodi5sZW5ndGghPT1iLmxlbmd0aCk7Y29uc3QgXz1iLm1hcChPPT5wLmNyZWF0ZUpvaW4oTy5lbnRyaWVzKSk7cmV0dXJuIF8ubGVuZ3RoPT09MT9fWzBdOnAuY3JlYXRlSm9pbihfLCExKX1zdGF0aWMgY2x1c3Rlckl0ZXJhdGlvbih1KXtjb25zdCBwPVtdO2Zvcihjb25zdCBnIG9mIHUpe2xldCB2PSExO2Zvcihjb25zdCBiIG9mIHApaWYoaC5oYXZlT3ZlcmxhcHBpbmdWYXJpYWJsZXMoZy5pblNjb3BlVmFyaWFibGVzLGIuaW5TY29wZVZhcmlhYmxlcykpe2IuZW50cmllcz1bLi4uYi5lbnRyaWVzLC4uLmcuZW50cmllc10sYi5pblNjb3BlVmFyaWFibGVzPXsuLi5iLmluU2NvcGVWYXJpYWJsZXMsLi4uZy5pblNjb3BlVmFyaWFibGVzfSx2PSEwO2JyZWFrfXZ8fHAucHVzaCh7aW5TY29wZVZhcmlhYmxlczpnLmluU2NvcGVWYXJpYWJsZXMsZW50cmllczpnLmVudHJpZXN9KX1yZXR1cm4gcH1zdGF0aWMgaGF2ZU92ZXJsYXBwaW5nVmFyaWFibGVzKHUscCl7Zm9yKGNvbnN0IGcgb2YgT2JqZWN0LmtleXModSkpaWYocFtnXSlyZXR1cm4hMDtyZXR1cm4hMX19ZS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb25Kb2luQ29ubmVjdGVkPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1qb2luLWNvbm5lY3RlZC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1jb25uZWN0ZWQvbGliL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5Db25uZWN0ZWQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWFzay9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkFzay5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Bc2s9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwsImFzayIpfWFzeW5jIHRlc3RPcGVyYXRpb24obCx1KXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24obCx1KXtjb25zdCBwPWF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246bC5pbnB1dCxjb250ZXh0OnV9KSx7YmluZGluZ3NTdHJlYW06Z309by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhwKTtyZXR1cm57dHlwZToiYm9vbGVhbiIsZXhlY3V0ZTphc3luYygpPT4oYXdhaXQgZy50YWtlKDEpLnRvQXJyYXkoKSkubGVuZ3RoPT09MX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkFzaz1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tYXNrL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1hc2svbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Bc2suanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWJncC1qb2luL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQmdwSm9pbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25CZ3BKb2luPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUsImJncCIpfWFzeW5jIHRlc3RPcGVyYXRpb24odSxwKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24odSxwKXtyZXR1cm4gdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpoLkZBQ1RPUlkuY3JlYXRlSm9pbih1LnBhdHRlcm5zKSxjb250ZXh0OnB9KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQmdwSm9pbj1oLGguRkFDVE9SWT1uZXcgZC5GYWN0b3J5fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tYmdwLWpvaW4vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWJncC1qb2luL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQmdwSm9pbi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tY29uc3RydWN0L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQ29uc3RydWN0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkNvbnN0cnVjdD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvaW5kZXguanMiKSxsPW4oInNwYXJxbGFsZ2VicmFqcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tY29uc3RydWN0L2xpYi9CaW5kaW5nc1RvUXVhZHNJdGVyYXRvci5qcyIpO2NsYXNzIHAgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHYpe3N1cGVyKHYsImNvbnN0cnVjdCIpfXN0YXRpYyBnZXRWYXJpYWJsZXModil7cmV0dXJuKDAsaC51bmlxVGVybXMpKFtdLmNvbmNhdC5hcHBseShbXSx2Lm1hcChiPT4oMCxoLmdldFZhcmlhYmxlcykoKDAsaC5nZXRUZXJtcykoYikpKSkpfWFzeW5jIHRlc3RPcGVyYXRpb24odixiKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24odixiKXtjb25zdCBfPXAuZ2V0VmFyaWFibGVzKHYudGVtcGxhdGUpLE89e3R5cGU6bC5BbGdlYnJhLnR5cGVzLlBST0pFQ1QsaW5wdXQ6di5pbnB1dCx2YXJpYWJsZXM6X30sVD1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Tyxjb250ZXh0OmJ9KSksUz1iLmdldChkLktleXNRdWVyeU9wZXJhdGlvbi5sb2NhbGl6ZUJsYW5rTm9kZXMpLE49UyE9PXZvaWQgMD9TOiEwLEI9bmV3IHUuQmluZGluZ3NUb1F1YWRzSXRlcmF0b3Iodi50ZW1wbGF0ZSxULmJpbmRpbmdzU3RyZWFtLE4pO3JldHVybnttZXRhZGF0YTooKT0+VC5tZXRhZGF0YSgpLnRoZW4oQz0+KHsuLi5DLG9yZGVyOnZvaWQgMCxjYXJkaW5hbGl0eTp7dHlwZTpDLmNhcmRpbmFsaXR5LnR5cGUsdmFsdWU6Qy5jYXJkaW5hbGl0eS52YWx1ZSp2LnRlbXBsYXRlLmxlbmd0aH0sY2FuQ29udGFpblVuZGVmczohMSxhdmFpbGFibGVPcmRlcnM6dm9pZCAwfSkpLHF1YWRTdHJlYW06Qix0eXBlOiJxdWFkcyJ9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Db25zdHJ1Y3Q9cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvQmluZGluZ3NUb1F1YWRzSXRlcmF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CaW5kaW5nc1RvUXVhZHNJdGVyYXRvcj12b2lkIDA7Y29uc3Qgbz1uKCJhc3luY2l0ZXJhdG9yIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9pbmRleC5qcyIpLGw9bmV3IGQuRGF0YUZhY3Rvcnk7Y2xhc3MgdSBleHRlbmRzIG8uTXVsdGlUcmFuc2Zvcm1JdGVyYXRvcntjb25zdHJ1Y3RvcihnLHYsYj0hMCl7c3VwZXIodix7YXV0b1N0YXJ0OiExfSksdGhpcy50ZW1wbGF0ZT1nLHRoaXMubG9jYWxpemVCbGFua05vZGVzPWIsdGhpcy5ibGFua05vZGVDb3VudGVyPTB9c3RhdGljIGJpbmRUZXJtKGcsdil7cmV0dXJuIHYudGVybVR5cGU9PT0iVmFyaWFibGUiP2cuZ2V0KHYpOnZ9c3RhdGljIGJpbmRRdWFkKGcsdil7dHJ5e3JldHVybigwLGgubWFwVGVybXMpKHYsYj0+e2NvbnN0IF89dS5iaW5kVGVybShnLGIpO2lmKCFfKXRocm93IG5ldyBFcnJvcigiVW5ib3VuZCB0ZXJtIik7cmV0dXJuIF99KX1jYXRjaHt9fXN0YXRpYyBsb2NhbGl6ZUJsYW5rTm9kZShnLHYpe3JldHVybiB2LnRlcm1UeXBlPT09IkJsYW5rTm9kZSI/bC5ibGFua05vZGUoYCR7di52YWx1ZX0ke2d9YCk6dn1zdGF0aWMgbG9jYWxpemVRdWFkKGcsdil7cmV0dXJuKDAsaC5tYXBUZXJtcykodixiPT51LmxvY2FsaXplQmxhbmtOb2RlKGcsYikpfWJpbmRUZW1wbGF0ZShnLHYsYil7bGV0IF89di5tYXAoTz0+dS5iaW5kUXVhZC5iaW5kKG51bGwsZykoTykpLmZpbHRlcihCb29sZWFuKTtyZXR1cm4gdGhpcy5sb2NhbGl6ZUJsYW5rTm9kZXMmJihfPV8ubWFwKHUubG9jYWxpemVRdWFkLmJpbmQobnVsbCxiKSkpLF99X2NyZWF0ZVRyYW5zZm9ybWVyKGcpe3JldHVybiBuZXcgby5BcnJheUl0ZXJhdG9yKHRoaXMuYmluZFRlbXBsYXRlKGcsdGhpcy50ZW1wbGF0ZSx0aGlzLmJsYW5rTm9kZUNvdW50ZXIrKykpfX1lLkJpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yPXV9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1jb25zdHJ1Y3QvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWNvbnN0cnVjdC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkNvbnN0cnVjdC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tY29uc3RydWN0L2xpYi9CaW5kaW5nc1RvUXVhZHNJdGVyYXRvci5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZGVzY3JpYmUtc3ViamVjdC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkRlc2NyaWJlU3ViamVjdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25EZXNjcmliZVN1YmplY3Q9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdW5pb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxsPW4oImFzeW5jaXRlcmF0b3IiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIikscD1uKCJzcGFycWxhbGdlYnJhanMiKSxnPW5ldyB1LkRhdGFGYWN0b3J5O2NsYXNzIHYgZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKF8pe3N1cGVyKF8sImRlc2NyaWJlIil9YXN5bmMgdGVzdE9wZXJhdGlvbihfLE8pe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihfLE8pe2NvbnN0IFQ9Xy50ZXJtcy5maWx0ZXIoQz0+Qy50ZXJtVHlwZSE9PSJWYXJpYWJsZSIpLm1hcChDPT57Y29uc3Qgaj1bZy5xdWFkKEMsZy52YXJpYWJsZSgiX19wcmVkaWNhdGUiKSxnLnZhcmlhYmxlKCJfX29iamVjdCIpKV07cmV0dXJuIGouZm9yRWFjaChGPT5GLnR5cGU9InBhdHRlcm4iKSx7aW5wdXQ6e3R5cGU6cC5BbGdlYnJhLnR5cGVzLkJHUCxwYXR0ZXJuczpqfSx0ZW1wbGF0ZTpqLHR5cGU6ImNvbnN0cnVjdCJ9fSk7aWYoVC5sZW5ndGghPT1fLnRlcm1zLmxlbmd0aCl7bGV0IEM9W107Xy50ZXJtcy5maWx0ZXIoaj0+ai50ZXJtVHlwZT09PSJWYXJpYWJsZSIpLmZvckVhY2goKGosUCk9Pntjb25zdCBGPVtnLnF1YWQoaixnLnZhcmlhYmxlKGBfX3ByZWRpY2F0ZSR7UH1gKSxnLnZhcmlhYmxlKGBfX29iamVjdCR7UH1gKSldO0YuZm9yRWFjaChrPT5rLnR5cGU9InBhdHRlcm4iKSxDPVsuLi5DLC4uLkZdfSksVC5wdXNoKHtpbnB1dDp7dHlwZTpwLkFsZ2VicmEudHlwZXMuSk9JTixpbnB1dDpbXy5pbnB1dCx7dHlwZTpwLkFsZ2VicmEudHlwZXMuQkdQLHBhdHRlcm5zOkN9XX0sdGVtcGxhdGU6Qyx0eXBlOnAuQWxnZWJyYS50eXBlcy5DT05TVFJVQ1R9KX1jb25zdCBTPU8uZ2V0KGguS2V5c1F1ZXJ5T3BlcmF0aW9uLmxvY2FsaXplQmxhbmtOb2Rlcyk7Tz1PLnNldChoLktleXNRdWVyeU9wZXJhdGlvbi5sb2NhbGl6ZUJsYW5rTm9kZXMsUyE9PXZvaWQgMD9TOiExKTtjb25zdCBOPShhd2FpdCBQcm9taXNlLmFsbChULm1hcChDPT50aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOkMsY29udGV4dDpPfSkpKSkubWFwKGQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlUXVhZHMpO3JldHVybnt0eXBlOiJxdWFkcyIscXVhZFN0cmVhbTpuZXcgbC5Vbmlvbkl0ZXJhdG9yKE4ubWFwKEM9PkMucXVhZFN0cmVhbSkse2F1dG9TdGFydDohMX0pLG1ldGFkYXRhOigpPT5Qcm9taXNlLmFsbChOLm1hcChDPT5DLm1ldGFkYXRhKCkpKS50aGVuKEM9Pm8uQWN0b3JRdWVyeU9wZXJhdGlvblVuaW9uLnVuaW9uTWV0YWRhdGEoQywhMSkpfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRGVzY3JpYmVTdWJqZWN0PXZ9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kZXNjcmliZS1zdWJqZWN0L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kZXNjcmliZS1zdWJqZWN0L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRGVzY3JpYmVTdWJqZWN0LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kaXN0aW5jdC1oYXNoL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRGlzdGluY3RIYXNoLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkRpc3RpbmN0SGFzaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IobCl7c3VwZXIobCwiZGlzdGluY3QiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGwsdSl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKGwsdSl7Y29uc3QgcD1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246bC5pbnB1dCxjb250ZXh0OnV9KSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpwLmJpbmRpbmdzU3RyZWFtLmZpbHRlcihhd2FpdCB0aGlzLm5ld0hhc2hGaWx0ZXIodSkpLG1ldGFkYXRhOnAubWV0YWRhdGF9fWFzeW5jIG5ld0hhc2hGaWx0ZXIobCl7Y29uc3R7aGFzaEZ1bmN0aW9uOnV9PWF3YWl0IHRoaXMubWVkaWF0b3JIYXNoQmluZGluZ3MubWVkaWF0ZSh7YWxsb3dIYXNoQ29sbGlzaW9uczohMCxjb250ZXh0Omx9KSxwPXt9O3JldHVybiBnPT57Y29uc3Qgdj11KGcpO3JldHVybiEodiBpbiBwKSYmKHBbdl09ITApfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRGlzdGluY3RIYXNoPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kaXN0aW5jdC1oYXNoL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kaXN0aW5jdC1oYXNoL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uRGlzdGluY3RIYXNoLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1leHRlbmQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25FeHRlbmQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRXh0ZW5kPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2luZGV4LmpzIik7Y2xhc3MgbCBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IocCl7c3VwZXIocCwiZXh0ZW5kIil9YXN5bmMgdGVzdE9wZXJhdGlvbihwLGcpe3JldHVybiBuZXcgaC5Bc3luY0V2YWx1YXRvcihwLmV4cHJlc3Npb24sZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldEFzeW5jRXhwcmVzc2lvbkNvbnRleHQoZyx0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24pKSwhMH1hc3luYyBydW5PcGVyYXRpb24ocCxnKXtjb25zdHtleHByZXNzaW9uOnYsaW5wdXQ6Yix2YXJpYWJsZTpffT1wLE89ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmIsY29udGV4dDpnfSkpLFQ9ey4uLmQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KGcsdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uKX0sUz1uZXcgaC5Bc3luY0V2YWx1YXRvcih2LFQpLE49YXN5bmMoTCxDLGopPT57dHJ5e2NvbnN0IFA9YXdhaXQgUy5ldmFsdWF0ZShMKSxGPUwuc2V0KF8sUCk7aihGKX1jYXRjaChQKXsoMCxoLmlzRXhwcmVzc2lvbkVycm9yKShQKT8oaihMKSx0aGlzLmxvZ1dhcm4oZyxgRXhwcmVzc2lvbiBlcnJvciBmb3IgZXh0ZW5kIG9wZXJhdGlvbiB3aXRoIGJpbmRpbmdzICckeygwLG8uYmluZGluZ3NUb1N0cmluZykoTCl9J2ApKTpCLmVtaXQoImVycm9yIixQKX1DKCl9LEI9Ty5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe2F1dG9TdGFydDohMSx0cmFuc2Zvcm06Tn0pO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06Qixhc3luYyBtZXRhZGF0YSgpe2NvbnN0IEw9YXdhaXQgTy5tZXRhZGF0YSgpO3JldHVybnsuLi5MLHZhcmlhYmxlczpbLi4uTC52YXJpYWJsZXMsX119fX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkV4dGVuZD1sfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZXh0ZW5kL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1leHRlbmQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25FeHRlbmQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWZpbHRlci1zcGFycWxlZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkZpbHRlclNwYXJxbGVlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkZpbHRlclNwYXJxbGVlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2luZGV4LmpzIik7Y2xhc3MgbCBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IocCl7c3VwZXIocCwiZmlsdGVyIil9YXN5bmMgdGVzdE9wZXJhdGlvbihwLGcpe2NvbnN0IHY9ey4uLmQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KGcsdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uKX07cmV0dXJuIG5ldyBoLkFzeW5jRXZhbHVhdG9yKHAuZXhwcmVzc2lvbix2KSwhMH1hc3luYyBydW5PcGVyYXRpb24ocCxnKXtjb25zdCB2PWF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246cC5pbnB1dCxjb250ZXh0Omd9KSxiPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3Modik7ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLnZhbGlkYXRlUXVlcnlPdXRwdXQoYiwiYmluZGluZ3MiKTtjb25zdCBfPXsuLi5kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dChnLHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbil9LE89bmV3IGguQXN5bmNFdmFsdWF0b3IocC5leHByZXNzaW9uLF8pLFQ9YXN5bmMoTixCLEwpPT57dHJ5e2F3YWl0IE8uZXZhbHVhdGVBc0VCVihOKSYmTChOKX1jYXRjaChDKXsoMCxoLmlzRXhwcmVzc2lvbkVycm9yKShDKT90aGlzLmxvZ1dhcm4oZywiRXJyb3Igb2NjdXJyZWQgd2hpbGUgZmlsdGVyaW5nLiIsKCk9Pih7ZXJyb3I6QyxiaW5kaW5nczooMCxvLmJpbmRpbmdzVG9TdHJpbmcpKE4pfSkpOlMuZW1pdCgiZXJyb3IiLEMpfUIoKX0sUz1iLmJpbmRpbmdzU3RyZWFtLnRyYW5zZm9ybSh7dHJhbnNmb3JtOlR9KTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOlMsbWV0YWRhdGE6Yi5tZXRhZGF0YX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkZpbHRlclNwYXJxbGVlPWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1maWx0ZXItc3BhcnFsZWUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWZpbHRlci1zcGFycWxlZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkZpbHRlclNwYXJxbGVlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1mcm9tLXF1YWQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Gcm9tUXVhZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Gcm9tUXVhZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJmcm9tIil9c3RhdGljIGNvcHlPcGVyYXRpb24odSxwKXtjb25zdCBnPXt9O2Zvcihjb25zdCB2IG9mIE9iamVjdC5rZXlzKHUpKUFycmF5LmlzQXJyYXkodVt2XSkmJnYhPT0idGVtcGxhdGUiP3Y9PT0idmFyaWFibGVzIj9nW3ZdPXVbdl06Z1t2XT11W3ZdLm1hcChwKTpoLkFMR0VCUkFfVFlQRVMuaW5jbHVkZXModVt2XS50eXBlKT9nW3ZdPXAodVt2XSk6Z1t2XT11W3ZdO3JldHVybiBnfXN0YXRpYyBhcHBseU9wZXJhdGlvbkRlZmF1bHRHcmFwaCh1LHApe2lmKHUudHlwZT09PSJiZ3AiJiZ1LnBhdHRlcm5zLmxlbmd0aD4wfHx1LnR5cGU9PT0icGF0aCJ8fHUudHlwZT09PSJwYXR0ZXJuIil7aWYodS50eXBlPT09ImJncCIpcmV0dXJuIGguam9pbk9wZXJhdGlvbnModS5wYXR0ZXJucy5tYXAodj0+e2lmKHYuZ3JhcGgudGVybVR5cGUhPT0iRGVmYXVsdEdyYXBoIilyZXR1cm4gaC5GQUNUT1JZLmNyZWF0ZUJncChbdl0pO2NvbnN0IGI9cC5tYXAoXz0+aC5GQUNUT1JZLmNyZWF0ZUJncChbaC5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4odi5zdWJqZWN0LHYucHJlZGljYXRlLHYub2JqZWN0LF8pXSkpO3JldHVybiBoLnVuaW9uT3BlcmF0aW9ucyhiKX0pKTtpZih1LmdyYXBoLnRlcm1UeXBlIT09IkRlZmF1bHRHcmFwaCIpcmV0dXJuIHU7Y29uc3QgZz1wLm1hcCh2PT51LnR5cGU9PT0icGF0aCI/aC5GQUNUT1JZLmNyZWF0ZVBhdGgodS5zdWJqZWN0LHUucHJlZGljYXRlLHUub2JqZWN0LHYpOmguRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKHUuc3ViamVjdCx1LnByZWRpY2F0ZSx1Lm9iamVjdCx2KSk7cmV0dXJuIGgudW5pb25PcGVyYXRpb25zKGcpfXJldHVybiBoLmNvcHlPcGVyYXRpb24odSxnPT50aGlzLmFwcGx5T3BlcmF0aW9uRGVmYXVsdEdyYXBoKGcscCkpfXN0YXRpYyBhcHBseU9wZXJhdGlvbk5hbWVkR3JhcGgodSxwLGcpe2lmKHUudHlwZT09PSJiZ3AiJiZ1LnBhdHRlcm5zLmxlbmd0aD4wfHx1LnR5cGU9PT0icGF0aCJ8fHUudHlwZT09PSJwYXR0ZXJuIil7Y29uc3Qgdj11LnR5cGU9PT0iYmdwIj91LnBhdHRlcm5zWzBdLmdyYXBoOnUuZ3JhcGg7aWYodi50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgiKXJldHVybnt0eXBlOmQuQWxnZWJyYS50eXBlcy5CR1AscGF0dGVybnM6W119O2lmKHYudGVybVR5cGU9PT0iVmFyaWFibGUiKXtpZihwLmxlbmd0aD09PTEpe2NvbnN0IF89cFswXSxPPXt9O09bYD8ke3YudmFsdWV9YF09Xztjb25zdCBUPWguRkFDVE9SWS5jcmVhdGVWYWx1ZXMoW3ZdLFtPXSk7bGV0IFM7cmV0dXJuIHUudHlwZT09PSJiZ3AiP1M9aC5GQUNUT1JZLmNyZWF0ZUJncCh1LnBhdHRlcm5zLm1hcChOPT5oLkZBQ1RPUlkuY3JlYXRlUGF0dGVybihOLnN1YmplY3QsTi5wcmVkaWNhdGUsTi5vYmplY3QsXykpKTp1LnR5cGU9PT0icGF0aCI/Uz1oLkZBQ1RPUlkuY3JlYXRlUGF0aCh1LnN1YmplY3QsdS5wcmVkaWNhdGUsdS5vYmplY3QsXyk6Uz1oLkZBQ1RPUlkuY3JlYXRlUGF0dGVybih1LnN1YmplY3QsdS5wcmVkaWNhdGUsdS5vYmplY3QsXyksaC5GQUNUT1JZLmNyZWF0ZUpvaW4oW1QsU10pfXJldHVybiBoLnVuaW9uT3BlcmF0aW9ucyhwLm1hcChfPT5oLmFwcGx5T3BlcmF0aW9uTmFtZWRHcmFwaCh1LFtfXSxnKSkpfXJldHVyblsuLi5wLC4uLmddLnNvbWUoXz0+Xy5lcXVhbHModikpP3U6e3R5cGU6ZC5BbGdlYnJhLnR5cGVzLkJHUCxwYXR0ZXJuczpbXX19cmV0dXJuIGguY29weU9wZXJhdGlvbih1LHY9PnRoaXMuYXBwbHlPcGVyYXRpb25OYW1lZEdyYXBoKHYscCxnKSl9c3RhdGljIGpvaW5PcGVyYXRpb25zKHUpe2lmKHUubGVuZ3RoPT09MSlyZXR1cm4gdVswXTtpZih1Lmxlbmd0aD4xKXJldHVybiBoLkZBQ1RPUlkuY3JlYXRlSm9pbih1KTt0aHJvdyBuZXcgRXJyb3IoIkEgam9pbiBjYW4gb25seSBiZSBhcHBsaWVkIG9uIGF0IGxlYXN0IG9uZSBvcGVyYXRpb24iKX1zdGF0aWMgdW5pb25PcGVyYXRpb25zKHUpe2lmKHUubGVuZ3RoPT09MSlyZXR1cm4gdVswXTtpZih1Lmxlbmd0aD4xKXJldHVybiBoLkZBQ1RPUlkuY3JlYXRlVW5pb24odSk7dGhyb3cgbmV3IEVycm9yKCJBIHVuaW9uIGNhbiBvbmx5IGJlIGFwcGxpZWQgb24gYXQgbGVhc3Qgb25lIG9wZXJhdGlvbiIpfXN0YXRpYyBjcmVhdGVPcGVyYXRpb24odSl7bGV0IHA9dS5pbnB1dDtyZXR1cm4gdS5kZWZhdWx0Lmxlbmd0aD4wJiYocD1oLmFwcGx5T3BlcmF0aW9uRGVmYXVsdEdyYXBoKHAsdS5kZWZhdWx0KSksKHUubmFtZWQubGVuZ3RoPjB8fHUuZGVmYXVsdC5sZW5ndGg+MCkmJihwPWguYXBwbHlPcGVyYXRpb25OYW1lZEdyYXBoKHAsdS5uYW1lZCx1LmRlZmF1bHQpKSxwfWFzeW5jIHRlc3RPcGVyYXRpb24odSxwKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24odSxwKXtjb25zdCBnPWguY3JlYXRlT3BlcmF0aW9uKHUpO3JldHVybiB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmcsY29udGV4dDpwfSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkZyb21RdWFkPWgsaC5GQUNUT1JZPW5ldyBkLkZhY3RvcnksaC5BTEdFQlJBX1RZUEVTPU9iamVjdC5rZXlzKGQuQWxnZWJyYS50eXBlcykubWFwKGw9PmQuQWxnZWJyYS50eXBlc1tsXSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1mcm9tLXF1YWQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWZyb20tcXVhZC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkZyb21RdWFkLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ncm91cC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkdyb3VwLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkdyb3VwPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oImFzeW5jaXRlcmF0b3IiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1ncm91cC9saWIvR3JvdXBzU3RhdGUuanMiKTtjbGFzcyB1IGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihnKXtzdXBlcihnLCJncm91cCIpfWFzeW5jIHRlc3RPcGVyYXRpb24oZyx2KXtmb3IoY29uc3QgYiBvZiBnLmFnZ3JlZ2F0ZXMpbmV3IGguQXN5bmNFdmFsdWF0b3IoYi5leHByZXNzaW9uLG8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KHYpKTtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24oZyx2KXtjb25zdHtoYXNoRnVuY3Rpb246Yn09YXdhaXQgdGhpcy5tZWRpYXRvckhhc2hCaW5kaW5ncy5tZWRpYXRlKHthbGxvd0hhc2hDb2xsaXNpb25zOiEwLGNvbnRleHQ6dn0pLHtpbnB1dDpfLGFnZ3JlZ2F0ZXM6T309ZyxUPWF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Xyxjb250ZXh0OnZ9KSxTPW8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoVCksTj1bLi4uZy52YXJpYWJsZXMsLi4uTy5tYXAoQz0+Qy52YXJpYWJsZSldLEI9by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldEFzeW5jRXhwcmVzc2lvbkNvbnRleHQodik7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgZC5UcmFuc2Zvcm1JdGVyYXRvcigoKT0+bmV3IFByb21pc2UoKEMsaik9Pntjb25zdCBQPW5ldyBsLkdyb3Vwc1N0YXRlKGIsZyxCKTtTLmJpbmRpbmdzU3RyZWFtLm9uKCJlbmQiLGFzeW5jKCk9Pnt0cnl7Y29uc3QgRj1uZXcgZC5BcnJheUl0ZXJhdG9yKGF3YWl0IFAuY29sbGVjdFJlc3VsdHMoKSx7YXV0b1N0YXJ0OiExfSk7QyhGKX1jYXRjaChGKXtqKEYpfX0pLFMuYmluZGluZ3NTdHJlYW0ub24oImVycm9yIixqKSxTLmJpbmRpbmdzU3RyZWFtLm9uKCJkYXRhIixGPT57UC5jb25zdW1lQmluZGluZ3MoRikuY2F0Y2goail9KX0pLHthdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTphc3luYygpPT4oey4uLmF3YWl0IFMubWV0YWRhdGEoKSx2YXJpYWJsZXM6Tn0pfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uR3JvdXA9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWdyb3VwL2xpYi9Hcm91cHNTdGF0ZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkdyb3Vwc1N0YXRlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9pbmRleC5qcyIpLGw9bmV3IGQuRGF0YUZhY3RvcnksdT1uZXcgby5CaW5kaW5nc0ZhY3Rvcnk7Y2xhc3MgcHtjb25zdHJ1Y3Rvcih2LGIsXyl7dGhpcy5oYXNoRnVuY3Rpb249dix0aGlzLnBhdHRlcm49Yix0aGlzLnNwYXJxbGVlQ29uZmlnPV8sdGhpcy5ncm91cHM9bmV3IE1hcCx0aGlzLmdyb3Vwc0luaXRpYWxpemVyPW5ldyBNYXAsdGhpcy5ncm91cFZhcmlhYmxlcz1uZXcgU2V0KHRoaXMucGF0dGVybi52YXJpYWJsZXMubWFwKE89Pk8udmFsdWUpKSx0aGlzLmRpc3RpbmN0SGFzaGVzPWIuYWdncmVnYXRlcy5zb21lKCh7ZGlzdGluY3Q6T30pPT5PKT9uZXcgTWFwOm51bGwsdGhpcy53YWl0Q291bnRlcj0xLHRoaXMucmVzdWx0SGFzQmVlbkNhbGxlZD0hMX1jb25zdW1lQmluZGluZ3Modil7Y29uc3QgYj10aGlzLnJlc3VsdENoZWNrKCk7aWYoYilyZXR1cm4gYjt0aGlzLndhaXRDb3VudGVyKys7Y29uc3QgXz12LmZpbHRlcigoTixCKT0+dGhpcy5ncm91cFZhcmlhYmxlcy5oYXMoQi52YWx1ZSkpLE89dGhpcy5oYXNoQmluZGluZ3MoXyk7bGV0IFQ9dGhpcy5ncm91cHNJbml0aWFsaXplci5nZXQoTyksUztpZighVClUPShhc3luYygpPT57Y29uc3QgTj17fTtpZihhd2FpdCBQcm9taXNlLmFsbCh0aGlzLnBhdHRlcm4uYWdncmVnYXRlcy5tYXAoYXN5bmMgTD0+e2NvbnN0IEM9TC52YXJpYWJsZS52YWx1ZTtOW0NdPW5ldyBoLkFzeW5jQWdncmVnYXRlRXZhbHVhdG9yKEwsdGhpcy5zcGFycWxlZUNvbmZpZyksYXdhaXQgTltDXS5wdXQodil9KSksdGhpcy5kaXN0aW5jdEhhc2hlcyl7Y29uc3QgTD10aGlzLmhhc2hCaW5kaW5ncyh2KTt0aGlzLmRpc3RpbmN0SGFzaGVzLnNldChPLG5ldyBTZXQoW0xdKSl9Y29uc3QgQj17YWdncmVnYXRvcnM6TixiaW5kaW5nczpffTtyZXR1cm4gdGhpcy5ncm91cHMuc2V0KE8sQiksdGhpcy5zdWJ0cmFjdFdhaXRDb3VudGVyQW5kQ29sbGVjdCgpLEJ9KSgpLHRoaXMuZ3JvdXBzSW5pdGlhbGl6ZXIuc2V0KE8sVCksUz1UO2Vsc2V7Y29uc3QgTj1UO1M9KGFzeW5jKCk9Pntjb25zdCBCPWF3YWl0IE47YXdhaXQgUHJvbWlzZS5hbGwodGhpcy5wYXR0ZXJuLmFnZ3JlZ2F0ZXMubWFwKGFzeW5jIEw9PntpZihMLmRpc3RpbmN0KXtjb25zdCBqPXRoaXMuaGFzaEJpbmRpbmdzKHYpO2lmKHRoaXMuZGlzdGluY3RIYXNoZXMuZ2V0KE8pLmhhcyhqKSlyZXR1cm47dGhpcy5kaXN0aW5jdEhhc2hlcy5nZXQoTykuYWRkKGopfWNvbnN0IEM9TC52YXJpYWJsZS52YWx1ZTthd2FpdCBCLmFnZ3JlZ2F0b3JzW0NdLnB1dCh2KX0pKX0pKCkudGhlbigoKT0+e3RoaXMuc3VidHJhY3RXYWl0Q291bnRlckFuZENvbGxlY3QoKX0pfXJldHVybiBTfXN1YnRyYWN0V2FpdENvdW50ZXJBbmRDb2xsZWN0KCl7LS10aGlzLndhaXRDb3VudGVyPT09MCYmdGhpcy5oYW5kbGVSZXN1bHRDb2xsZWN0aW9uKCl9aGFuZGxlUmVzdWx0Q29sbGVjdGlvbigpe2xldCB2PVsuLi50aGlzLmdyb3Vwc10ubWFwKChbYixfXSk9Pntjb25zdHtiaW5kaW5nczpPLGFnZ3JlZ2F0b3JzOlR9PV87bGV0IFM9Tztmb3IoY29uc3QgTiBpbiBUKXtjb25zdCBCPVRbTl0ucmVzdWx0KCk7QiYmKFM9Uy5zZXQobC52YXJpYWJsZShOKSxCKSl9cmV0dXJuIFN9KTtpZih2Lmxlbmd0aD09PTAmJnRoaXMuZ3JvdXBWYXJpYWJsZXMuc2l6ZT09PTApe2NvbnN0IGI9W107Zm9yKGNvbnN0IF8gb2YgdGhpcy5wYXR0ZXJuLmFnZ3JlZ2F0ZXMpe2NvbnN0IE89Xy52YXJpYWJsZSxUPWguQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3IuZW1wdHlWYWx1ZShfKTtUIT09dm9pZCAwJiZiLnB1c2goW08sVF0pfXY9W3UuYmluZGluZ3MoYildfXRoaXMud2FpdFJlc29sdmVyKHYpfXJlc3VsdENoZWNrKCl7aWYodGhpcy5yZXN1bHRIYXNCZWVuQ2FsbGVkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIkNhbGxpbmcgYW55IGZ1bmN0aW9uIGFmdGVyIGNhbGxpbmcgY29sbGVjdFJlc3VsdCBpcyBpbnZhbGlkLiIpKX1jb2xsZWN0UmVzdWx0cygpe2NvbnN0IHY9dGhpcy5yZXN1bHRDaGVjaygpO2lmKHYpcmV0dXJuIHY7dGhpcy5yZXN1bHRIYXNCZWVuQ2FsbGVkPSEwO2NvbnN0IGI9bmV3IFByb21pc2UoXz0+e3RoaXMud2FpdFJlc29sdmVyPV99KTtyZXR1cm4gdGhpcy5zdWJ0cmFjdFdhaXRDb3VudGVyQW5kQ29sbGVjdCgpLGJ9aGFzaEJpbmRpbmdzKHYpe3JldHVybiB0aGlzLmhhc2hGdW5jdGlvbih2KX19ZS5Hcm91cHNTdGF0ZT1wfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZ3JvdXAvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWdyb3VwL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uR3JvdXAuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWpvaW4vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Kb2luLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkpvaW49dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwsImpvaW4iKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGwsdSl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKGwsdSl7Y29uc3QgcD0oYXdhaXQgUHJvbWlzZS5hbGwobC5pbnB1dC5tYXAoYXN5bmMgZz0+KHtvdXRwdXQ6YXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpnLGNvbnRleHQ6dX0pLG9wZXJhdGlvbjpnfSkpKSkubWFwKCh7b3V0cHV0Omcsb3BlcmF0aW9uOnZ9KT0+KHtvdXRwdXQ6by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhnKSxvcGVyYXRpb246dn0pKTtyZXR1cm4gdGhpcy5tZWRpYXRvckpvaW4ubWVkaWF0ZSh7dHlwZToiaW5uZXIiLGVudHJpZXM6cCxjb250ZXh0OnV9KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uSm9pbj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tam9pbi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tam9pbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkpvaW4uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWxlZnRqb2luL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTGVmdEpvaW4uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTGVmdEpvaW49dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJsZWZ0am9pbiIpfWFzeW5jIHRlc3RPcGVyYXRpb24odSxwKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24odSxwKXtjb25zdCBnPShhd2FpdCBQcm9taXNlLmFsbCh1LmlucHV0Lm1hcChhc3luYyBiPT4oe291dHB1dDphd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmIsY29udGV4dDpwfSksb3BlcmF0aW9uOmJ9KSkpKS5tYXAoKHtvdXRwdXQ6YixvcGVyYXRpb246X30pPT4oe291dHB1dDpvLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGIpLG9wZXJhdGlvbjpffSkpLHY9YXdhaXQgdGhpcy5tZWRpYXRvckpvaW4ubWVkaWF0ZSh7dHlwZToib3B0aW9uYWwiLGVudHJpZXM6Zyxjb250ZXh0OnB9KTtpZih1LmV4cHJlc3Npb24pe2NvbnN0IF89KGF3YWl0IGdbMV0ub3V0cHV0Lm1ldGFkYXRhKCkpLnZhcmlhYmxlcyxPPXsuLi5vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dChwKX0sVD1uZXcgZC5Bc3luY0V2YWx1YXRvcih1LmV4cHJlc3Npb24sTyksUz12LmJpbmRpbmdzU3RyZWFtLnRyYW5zZm9ybSh7YXV0b1N0YXJ0OiExLHRyYW5zZm9ybTphc3luYyhOLEIsTCk9PntpZighXy5ldmVyeShDPT5OLmhhcyhDLnZhbHVlKSkpcmV0dXJuIEwoTiksQigpO3RyeXthd2FpdCBULmV2YWx1YXRlQXNFQlYoTikmJkwoTil9Y2F0Y2goQyl7KDAsZC5pc0V4cHJlc3Npb25FcnJvcikoQyk/dGhpcy5sb2dXYXJuKHAsIkVycm9yIG9jY3VycmVkIHdoaWxlIGZpbHRlcmluZy4iLCgpPT4oe2Vycm9yOkMsYmluZGluZ3M6Tn0pKTpTLmVtaXQoImVycm9yIixDKX1CKCl9fSk7di5iaW5kaW5nc1N0cmVhbT1TfXJldHVybiB2fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25MZWZ0Sm9pbj1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tbGVmdGpvaW4vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWxlZnRqb2luL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTGVmdEpvaW4uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW1pbnVzL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTWludXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTWludXM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwsIm1pbnVzIil9YXN5bmMgdGVzdE9wZXJhdGlvbihsLHUpe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihsLHUpe2NvbnN0IHA9KGF3YWl0IFByb21pc2UuYWxsKGwuaW5wdXQubWFwKGFzeW5jIGc9Pih7b3V0cHV0OmF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Zyxjb250ZXh0OnV9KSxvcGVyYXRpb246Z30pKSkpLm1hcCgoe291dHB1dDpnLG9wZXJhdGlvbjp2fSk9Pih7b3V0cHV0Om8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoZyksb3BlcmF0aW9uOnZ9KSk7cmV0dXJuIHRoaXMubWVkaWF0b3JKb2luLm1lZGlhdGUoe3R5cGU6Im1pbnVzIixlbnRyaWVzOnAsY29udGV4dDp1fSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbk1pbnVzPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1taW51cy9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tbWludXMvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25NaW51cy5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tbm9wL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTm9wLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbk5vcD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCJhc3luY2l0ZXJhdG9yIiksbD1uZXcgby5CaW5kaW5nc0ZhY3Rvcnk7Y2xhc3MgdSBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IoZyl7c3VwZXIoZywibm9wIil9YXN5bmMgdGVzdE9wZXJhdGlvbihnLHYpe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihnLHYpe3JldHVybntiaW5kaW5nc1N0cmVhbTpuZXcgaC5TaW5nbGV0b25JdGVyYXRvcihsLmJpbmRpbmdzKCkpLG1ldGFkYXRhOigpPT5Qcm9taXNlLnJlc29sdmUoe2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6MX0sY2FuQ29udGFpblVuZGVmczohMSx2YXJpYWJsZXM6W119KSx0eXBlOiJiaW5kaW5ncyJ9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Ob3A9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW5vcC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tbm9wL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTm9wLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1vcmRlcmJ5LXNwYXJxbGVlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uT3JkZXJCeVNwYXJxbGVlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbk9yZGVyQnlTcGFycWxlZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1vcmRlcmJ5LXNwYXJxbGVlL2xpYi9Tb3J0SXRlcmF0b3IuanMiKTtjbGFzcyB1IGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihnKXtzdXBlcihnLCJvcmRlcmJ5IiksdGhpcy53aW5kb3c9Zy53aW5kb3c/P051bWJlci5QT1NJVElWRV9JTkZJTklUWX1hc3luYyB0ZXN0T3BlcmF0aW9uKGcsdil7Zm9yKGxldCBiIG9mIGcuZXhwcmVzc2lvbnMpYj10aGlzLmV4dHJhY3RTb3J0RXhwcmVzc2lvbihiKSxuZXcgaC5Bc3luY0V2YWx1YXRvcihiLG8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRBc3luY0V4cHJlc3Npb25Db250ZXh0KHYpKTtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24oZyx2KXtjb25zdCBiPWF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Zy5pbnB1dCxjb250ZXh0OnZ9KSxfPW8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYiksTz17d2luZG93OnRoaXMud2luZG93fSxUPXsuLi5vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0QXN5bmNFeHByZXNzaW9uQ29udGV4dCh2KX07bGV0e2JpbmRpbmdzU3RyZWFtOlN9PV87Zm9yKGxldCBOPWcuZXhwcmVzc2lvbnMubGVuZ3RoLTE7Tj49MDtOLS0pe2xldCBCPWcuZXhwcmVzc2lvbnNbTl07Y29uc3QgTD10aGlzLmlzQXNjZW5kaW5nKEIpO0I9dGhpcy5leHRyYWN0U29ydEV4cHJlc3Npb24oQik7Y29uc3QgQz1uZXcgaC5Bc3luY0V2YWx1YXRvcihCLFQpLGo9YXN5bmMoayxKLGFlKT0+e3RyeXtjb25zdCBYPWF3YWl0IEMuZXZhbHVhdGUoayk7YWUoe2JpbmRpbmdzOmsscmVzdWx0Olh9KX1jYXRjaChYKXsoMCxoLmlzRXhwcmVzc2lvbkVycm9yKShYKXx8Uy5lbWl0KCJlcnJvciIsWCksYWUoe2JpbmRpbmdzOmsscmVzdWx0OnZvaWQgMH0pfUooKX0sUD1TLnRyYW5zZm9ybSh7dHJhbnNmb3JtOmp9KTtTPW5ldyBsLlNvcnRJdGVyYXRvcihQLChrLEopPT4oMCxoLm9yZGVyVHlwZXMpKGsucmVzdWx0LEoucmVzdWx0LEwpLE8pLm1hcCgoe2JpbmRpbmdzOmsscmVzdWx0Okp9KT0+ayl9cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpTLG1ldGFkYXRhOl8ubWV0YWRhdGF9fWV4dHJhY3RTb3J0RXhwcmVzc2lvbihnKXtjb25zdHtleHByZXNzaW9uVHlwZTp2LG9wZXJhdG9yOmJ9PWc7cmV0dXJuIHYhPT1kLkFsZ2VicmEuZXhwcmVzc2lvblR5cGVzLk9QRVJBVE9SP2c6Yj09PSJkZXNjIj9nLmFyZ3NbMF06Z31pc0FzY2VuZGluZyhnKXtjb25zdHtleHByZXNzaW9uVHlwZTp2LG9wZXJhdG9yOmJ9PWc7cmV0dXJuIHYhPT1kLkFsZ2VicmEuZXhwcmVzc2lvblR5cGVzLk9QRVJBVE9SPyEwOmIhPT0iZGVzYyJ9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbk9yZGVyQnlTcGFycWxlZT11fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tb3JkZXJieS1zcGFycWxlZS9saWIvU29ydEl0ZXJhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU29ydEl0ZXJhdG9yPXZvaWQgMDtjb25zdCBvPW4oImFzeW5jaXRlcmF0b3IiKTtjbGFzcyBkIGV4dGVuZHMgby5UcmFuc2Zvcm1JdGVyYXRvcntjb25zdHJ1Y3RvcihsLHUscCl7c3VwZXIobCxwKTtjb25zdCBnPXAmJnAud2luZG93O3RoaXMud2luZG93TGVuZ3RoPU51bWJlci5pc0Zpbml0ZShnKSYmZz4wP2c6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHRoaXMuc29ydD11LHRoaXMuc29ydGVkPVtdfV9yZWFkKGwsdSl7bGV0IHAse2xlbmd0aDpnfT10aGlzLnNvcnRlZDtmb3IoO2chPT10aGlzLndpbmRvd0xlbmd0aCYmKHA9dGhpcy5zb3VyY2UucmVhZCgpLHAhPT1udWxsKTspe2xldCB2PTAsYj1nLTEsXyxPO2Zvcig7djw9YjspXz1NYXRoLnRydW5jKCh2K2IpLzIpLE89dGhpcy5zb3J0KHAsdGhpcy5zb3J0ZWRbX10pLE88MD92PV8rMTpPPjA/Yj1fLTE6KHY9XyxiPS0xKTt0aGlzLnNvcnRlZC5zcGxpY2UodiwwLHApLGcrK31nPT09dGhpcy53aW5kb3dMZW5ndGgmJnRoaXMuX3B1c2godGhpcy5zb3J0ZWQucG9wKCkpLHUoKX1fZmx1c2gobCl7bGV0e2xlbmd0aDp1fT10aGlzLnNvcnRlZDtmb3IoO3UtLTspdGhpcy5fcHVzaCh0aGlzLnNvcnRlZC5wb3AoKSk7bCgpfX1lLlNvcnRJdGVyYXRvcj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tb3JkZXJieS1zcGFycWxlZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tb3JkZXJieS1zcGFycWxlZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk9yZGVyQnlTcGFycWxlZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1hbHQvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoQWx0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhBbHQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdW5pb24vbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksbD1uKCJhc3luY2l0ZXJhdG9yIiksdT1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBwIGV4dGVuZHMgby5BY3RvckFic3RyYWN0UGF0aHtjb25zdHJ1Y3Rvcih2KXtzdXBlcih2LHUuQWxnZWJyYS50eXBlcy5BTFQpfWFzeW5jIHJ1bk9wZXJhdGlvbih2LGIpe2NvbnN0IF89di5wcmVkaWNhdGUsTz0oYXdhaXQgUHJvbWlzZS5hbGwoXy5pbnB1dC5tYXAoTj0+dGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe2NvbnRleHQ6YixvcGVyYXRpb246by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdGgodi5zdWJqZWN0LE4sdi5vYmplY3Qsdi5ncmFwaCl9KSkpKS5tYXAoaC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgbC5Vbmlvbkl0ZXJhdG9yKE8ubWFwKE49Pk4uYmluZGluZ3NTdHJlYW0pLHthdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTooKT0+UHJvbWlzZS5hbGwoTy5tYXAoTj0+Ti5tZXRhZGF0YSgpKSkudGhlbihOPT5kLkFjdG9yUXVlcnlPcGVyYXRpb25Vbmlvbi51bmlvbk1ldGFkYXRhKE4sITApKX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhBbHQ9cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtYWx0L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWFsdC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhBbHQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtaW52L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEludi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoSW52PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItYWJzdHJhY3QtcGF0aC9saWIvaW5kZXguanMiKSxkPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yQWJzdHJhY3RQYXRoe2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUsZC5BbGdlYnJhLnR5cGVzLklOVil9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7Y29uc3QgZz11LnByZWRpY2F0ZSx2PW8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXRoKHUub2JqZWN0LGcucGF0aCx1LnN1YmplY3QsdS5ncmFwaCk7cmV0dXJuIHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246dixjb250ZXh0OnB9KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEludj1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1pbnYvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtaW52L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEludi5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1saW5rL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aExpbmsuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aExpbms9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3IodSl7c3VwZXIodSxkLkFsZ2VicmEudHlwZXMuTElOSyl9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7Y29uc3QgZz11LnByZWRpY2F0ZSx2PW8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXR0ZXJuKHUuc3ViamVjdCxnLmlyaSx1Lm9iamVjdCx1LmdyYXBoKTtyZXR1cm4gdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjp2LGNvbnRleHQ6cH0pfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoTGluaz1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1saW5rL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLWxpbmsvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoTGluay5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1ucHMvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoTnBzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhOcHM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgbCBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3IocCl7c3VwZXIocCxoLkFsZ2VicmEudHlwZXMuTlBTKX1hc3luYyBydW5PcGVyYXRpb24ocCxnKXtjb25zdCB2PXAucHJlZGljYXRlLGI9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKHApLF89by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4ocC5zdWJqZWN0LGIscC5vYmplY3QscC5ncmFwaCksTz1kLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Xyxjb250ZXh0Omd9KSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpPLmJpbmRpbmdzU3RyZWFtLnRyYW5zZm9ybSh7ZmlsdGVyKFMpe3JldHVybiF2LmlyaXMuc29tZShOPT5OLmVxdWFscyhTLmdldChiKSkpfSx0cmFuc2Zvcm0oUyxOLEIpe0IoUy5kZWxldGUoYikpLE4oKX19KSxtZXRhZGF0YTpPLm1ldGFkYXRhfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aE5wcz1sfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1ucHMvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbnBzL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aE5wcy5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1vbmUtb3ItbW9yZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhPbmVPck1vcmUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aE9uZU9yTW9yZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksbD1uKCJhc3luY2l0ZXJhdG9yIiksdT1uKCJzcGFycWxhbGdlYnJhanMiKSxwPW5ldyBkLkJpbmRpbmdzRmFjdG9yeTtjbGFzcyBnIGV4dGVuZHMgby5BY3RvckFic3RyYWN0UGF0aHtjb25zdHJ1Y3RvcihiKXtzdXBlcihiLHUuQWxnZWJyYS50eXBlcy5PTkVfT1JfTU9SRV9QQVRIKX1hc3luYyBydW5PcGVyYXRpb24oYixfKXtjb25zdCBPPWF3YWl0IHRoaXMuaXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3QoXyxiKTtpZihPLm9wZXJhdGlvbilyZXR1cm4gTy5vcGVyYXRpb247Xz1PLmNvbnRleHQ7Y29uc3QgVD1iLnByZWRpY2F0ZTtpZihiLnN1YmplY3QudGVybVR5cGUhPT0iVmFyaWFibGUiJiZiLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIpe2NvbnN0IEw9Yi5vYmplY3QsQz1hd2FpdCB0aGlzLmdldE9iamVjdHNQcmVkaWNhdGVTdGFyRXZhbChiLnN1YmplY3QsVC5wYXRoLEwsYi5ncmFwaCxfLCExKSxqPWIuZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP1tMLGIuZ3JhcGhdOltMXTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOkMuYmluZGluZ3NTdHJlYW0sbWV0YWRhdGE6YXN5bmMoKT0+KHsuLi5hd2FpdCBDLm1ldGFkYXRhKCksdmFyaWFibGVzOmp9KX19aWYoYi5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmYi5vYmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiKXtjb25zdCBMPW8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVEaXN0aW5jdChvLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlUGF0aChiLnN1YmplY3QsYi5wcmVkaWNhdGUucGF0aCxiLm9iamVjdCxiLmdyYXBoKSksQz1oLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0Ol8sb3BlcmF0aW9uOkx9KSksaj1iLnN1YmplY3QsUD1iLm9iamVjdCxGPXt9LGs9bmV3IGwuTXVsdGlUcmFuc2Zvcm1JdGVyYXRvcihDLmJpbmRpbmdzU3RyZWFtLHttdWx0aVRyYW5zZm9ybTphZT0+e2NvbnN0IFg9YWUuZ2V0KGopLEc9YWUuZ2V0KFApLHJlPWIuZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP2FlLmdldChiLmdyYXBoKTpiLmdyYXBoO3JldHVybiBuZXcgbC5UcmFuc2Zvcm1JdGVyYXRvcihhc3luYygpPT57Y29uc3QgTT1uZXcgbC5CdWZmZXJlZEl0ZXJhdG9yO3JldHVybiBhd2FpdCB0aGlzLmdldFN1YmplY3RBbmRPYmplY3RCaW5kaW5nc1ByZWRpY2F0ZVN0YXIoaixQLFgsRyxULnBhdGgscmUsXyxGLHt9LE0se2NvdW50OjB9KSxNLnRyYW5zZm9ybSh7dHJhbnNmb3JtKCQsVSxIKXtiLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmKCQ9JC5zZXQoYi5ncmFwaCxyZSkpLEgoJCksVSgpfX0pfSx7bWF4QnVmZmVyU2l6ZToxMjh9KX0sYXV0b1N0YXJ0OiExfSksSj1iLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9baixQLGIuZ3JhcGhdOltqLFBdO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06ayxtZXRhZGF0YTphc3luYygpPT4oey4uLmF3YWl0IEMubWV0YWRhdGEoKSx2YXJpYWJsZXM6Sn0pfX1pZihiLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiZiLm9iamVjdC50ZXJtVHlwZSE9PSJWYXJpYWJsZSIpcmV0dXJuIHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0Ol8sb3BlcmF0aW9uOm8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVQYXRoKGIub2JqZWN0LG8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVPbmVPck1vcmVQYXRoKG8uQWN0b3JBYnN0cmFjdFBhdGguRkFDVE9SWS5jcmVhdGVJbnYoVC5wYXRoKSksYi5zdWJqZWN0LGIuZ3JhcGgpfSk7Y29uc3QgUz10aGlzLmdlbmVyYXRlVmFyaWFibGUoKSxOPWguQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe2NvbnRleHQ6XyxvcGVyYXRpb246by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdGgoYi5zdWJqZWN0LFQsUyxiLmdyYXBoKX0pKTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOk4uYmluZGluZ3NTdHJlYW0udHJhbnNmb3JtKHtmaWx0ZXI6TD0+Yi5vYmplY3QuZXF1YWxzKEwuZ2V0KFMpKSx0cmFuc2Zvcm0oTCxDLGope2NvbnN0IFA9Yi5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/cC5iaW5kaW5ncyhbW2IuZ3JhcGgsTC5nZXQoYi5ncmFwaCldXSk6cC5iaW5kaW5ncygpO2ooUCksQygpfX0pLG1ldGFkYXRhOmFzeW5jKCk9Pih7Li4uYXdhaXQgTi5tZXRhZGF0YSgpLHZhcmlhYmxlczpiLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9bYi5ncmFwaF06W119KX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhPbmVPck1vcmU9Z30sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtb25lLW9yLW1vcmUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtb25lLW9yLW1vcmUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoT25lT3JNb3JlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLXNlcS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhTZXEuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFNlcT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksaD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBsIGV4dGVuZHMgby5BY3RvckFic3RyYWN0UGF0aHtjb25zdHJ1Y3RvcihwKXtzdXBlcihwLGguQWxnZWJyYS50eXBlcy5TRVEpfWFzeW5jIHJ1bk9wZXJhdGlvbihwLGcpe2NvbnN0IHY9cC5wcmVkaWNhdGU7bGV0IGI9cC5zdWJqZWN0O2NvbnN0IF89W10sTz1hd2FpdCBQcm9taXNlLmFsbCh2LmlucHV0Lm1hcCgoTixCKT0+e2NvbnN0IEw9Qj09PXYuaW5wdXQubGVuZ3RoLTE/cC5vYmplY3Q6dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKHAsYGIke0J9YCksQz1vLkFjdG9yQWJzdHJhY3RQYXRoLkZBQ1RPUlkuY3JlYXRlUGF0aChiLE4sTCxwLmdyYXBoKSxqPXRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtjb250ZXh0Omcsb3BlcmF0aW9uOkN9KTtyZXR1cm4gYj1MLEI8di5pbnB1dC5sZW5ndGgtMSYmXy5wdXNoKEwpLHtvdXRwdXQ6aixvcGVyYXRpb246Q319KS5tYXAoYXN5bmMoe291dHB1dDpOLG9wZXJhdGlvbjpCfSk9Pih7b3V0cHV0OmQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgTiksb3BlcmF0aW9uOkJ9KSkpLFQ9ZC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9ySm9pbi5tZWRpYXRlKHt0eXBlOiJpbm5lciIsZW50cmllczpPLGNvbnRleHQ6Z30pKTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOlQuYmluZGluZ3NTdHJlYW0udHJhbnNmb3JtKHt0cmFuc2Zvcm0oTixCLEwpe2Zvcihjb25zdCBDIG9mIF8pTj1OLmRlbGV0ZShDKTtMKE4pLEIoKX19KSxhc3luYyBtZXRhZGF0YSgpe2NvbnN0IE49YXdhaXQgVC5tZXRhZGF0YSgpLEI9Ti52YXJpYWJsZXMuZmlsdGVyKEw9PiFfLnNvbWUoQz0+Qy52YWx1ZT09PUwudmFsdWUpKTtyZXR1cm57Li4uTix2YXJpYWJsZXM6Qn19fX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFNlcT1sfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1zZXEvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtc2VxL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFNlcS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC16ZXJvLW9yLW1vcmUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yTW9yZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yTW9yZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWFic3RyYWN0LXBhdGgvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksbD1uKCJhc3luY2l0ZXJhdG9yIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpLHA9bigic3BhcnFsYWxnZWJyYWpzIiksZz1uZXcgZC5CaW5kaW5nc0ZhY3Rvcnk7Y2xhc3MgdiBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3IoXyl7c3VwZXIoXyxwLkFsZ2VicmEudHlwZXMuWkVST19PUl9NT1JFX1BBVEgpfWFzeW5jIHJ1bk9wZXJhdGlvbihfLE8pe2NvbnN0IFQ9YXdhaXQgdGhpcy5pc1BhdGhBcmJpdHJhcnlMZW5ndGhEaXN0aW5jdChPLF8pO2lmKFQub3BlcmF0aW9uKXJldHVybiBULm9wZXJhdGlvbjtPPVQuY29udGV4dDtjb25zdCBTPV8ucHJlZGljYXRlLE49Xy5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIixCPV8ub2JqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIjtpZihfLnN1YmplY3QudGVybVR5cGU9PT0iVmFyaWFibGUiJiZfLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIpe2NvbnN0IGs9dGhpcy5nZW5lcmF0ZVZhcmlhYmxlKF8pLEo9by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdHRlcm4oXy5zdWJqZWN0LGssXy5vYmplY3QsXy5ncmFwaCksYWU9aC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7Y29udGV4dDpPLG9wZXJhdGlvbjpKfSkpLFg9Xy5zdWJqZWN0LEc9Xy5vYmplY3QscmU9bmV3IFNldCxNPXt9LCQ9bmV3IGwuTXVsdGlUcmFuc2Zvcm1JdGVyYXRvcihhZS5iaW5kaW5nc1N0cmVhbSx7bXVsdGlUcmFuc2Zvcm06SD0+e2NvbnN0IGVlPUguZ2V0KFgpLGdlPUguZ2V0KEcpLG1lPV8uZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP0guZ2V0KF8uZ3JhcGgpOl8uZ3JhcGgsZmU9KDAsdS50ZXJtVG9TdHJpbmcpKGVlKSsoMCx1LnRlcm1Ub1N0cmluZykobWUpLGhlPSgwLHUudGVybVRvU3RyaW5nKShnZSkrKDAsdS50ZXJtVG9TdHJpbmcpKG1lKTtyZXR1cm4gbmV3IGwuVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+e2lmKHJlLmhhcyhmZSkmJnJlLmhhcyhoZSkpcmV0dXJuIG5ldyBsLkVtcHR5SXRlcmF0b3I7Y29uc3QgX2U9bmV3IGwuQnVmZmVyZWRJdGVyYXRvcix4ZT17Y291bnQ6MH07cmV0dXJuIHJlLmhhcyhmZSl8fChyZS5hZGQoZmUpLGF3YWl0IHRoaXMuZ2V0U3ViamVjdEFuZE9iamVjdEJpbmRpbmdzUHJlZGljYXRlU3RhcihYLEcsZWUsZWUsUy5wYXRoLG1lLE8sTSx7fSxfZSx4ZSkpLHJlLmhhcyhoZSl8fChyZS5hZGQoaGUpLGF3YWl0IHRoaXMuZ2V0U3ViamVjdEFuZE9iamVjdEJpbmRpbmdzUHJlZGljYXRlU3RhcihYLEcsZ2UsZ2UsUy5wYXRoLG1lLE8sTSx7fSxfZSx4ZSkpLF9lLnRyYW5zZm9ybSh7dHJhbnNmb3JtKFJlLEllLE5lKXtfLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmKFJlPVJlLnNldChfLmdyYXBoLG1lKSksTmUoUmUpLEllKCl9fSl9KX19KSxVPV8uZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiP1tYLF8ub2JqZWN0LF8uZ3JhcGhdOltYLF8ub2JqZWN0XTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOiQsbWV0YWRhdGE6YXN5bmMoKT0+KHsuLi5hd2FpdCBhZS5tZXRhZGF0YSgpLHZhcmlhYmxlczpVfSl9fWlmKCFOJiYhQil7Y29uc3Qgaz10aGlzLmdlbmVyYXRlVmFyaWFibGUoKSxKPWF3YWl0IHRoaXMuZ2V0T2JqZWN0c1ByZWRpY2F0ZVN0YXJFdmFsKF8uc3ViamVjdCxTLnBhdGgsayxfLmdyYXBoLE8sITApO3JldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06Si5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe2ZpbHRlcjpYPT5fLm9iamVjdC5lcXVhbHMoWC5nZXQoaykpLHRyYW5zZm9ybShYLEcscmUpe2NvbnN0IE09Xy5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/Zy5iaW5kaW5ncyhbW18uZ3JhcGgsWC5nZXQoXy5ncmFwaCldXSk6Zy5iaW5kaW5ncygpO3JlKE0pLEcoKX19KSxtZXRhZGF0YTphc3luYygpPT4oey4uLmF3YWl0IEoubWV0YWRhdGEoKSx2YXJpYWJsZXM6Xy5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/W18uZ3JhcGhdOltdfSl9fWNvbnN0IEw9Tj9fLm9iamVjdDpfLnN1YmplY3QsQz1OP18uc3ViamVjdDpfLm9iamVjdCxqPU4/by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZUludihTLnBhdGgpOlMucGF0aCxQPWF3YWl0IHRoaXMuZ2V0T2JqZWN0c1ByZWRpY2F0ZVN0YXJFdmFsKEwsaixDLF8uZ3JhcGgsTywhMCksRj1fLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIj9bQyxfLmdyYXBoXTpbQ107cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpQLmJpbmRpbmdzU3RyZWFtLG1ldGFkYXRhOmFzeW5jKCk9Pih7Li4uYXdhaXQgUC5tZXRhZGF0YSgpLHZhcmlhYmxlczpGfSl9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yTW9yZT12fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC16ZXJvLW9yLW1vcmUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1tb3JlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck1vcmUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1vbmUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yT25lLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhaZXJvT3JPbmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1hYnN0cmFjdC1wYXRoL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bigic3BhcnFsYWxnZWJyYWpzIikscD1uZXcgZC5CaW5kaW5nc0ZhY3Rvcnk7Y2xhc3MgZyBleHRlbmRzIG8uQWN0b3JBYnN0cmFjdFBhdGh7Y29uc3RydWN0b3IoYil7c3VwZXIoYix1LkFsZ2VicmEudHlwZXMuWkVST19PUl9PTkVfUEFUSCl9YXN5bmMgcnVuT3BlcmF0aW9uKGIsXyl7Y29uc3QgTz1iLnByZWRpY2F0ZSxUPWIuc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIsUz1iLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSIsTj1bXTtpZighVCYmIVMmJmIuc3ViamVjdC5lcXVhbHMoYi5vYmplY3QpKXJldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IGwuU2luZ2xldG9uSXRlcmF0b3IocC5iaW5kaW5ncygpKSxtZXRhZGF0YTooKT0+UHJvbWlzZS5yZXNvbHZlKHtjYXJkaW5hbGl0eTp7dHlwZToiZXhhY3QiLHZhbHVlOjF9LGNhbkNvbnRhaW5VbmRlZnM6ITEsdmFyaWFibGVzOltdfSl9O2lmKFQmJlMpdGhyb3cgbmV3IEVycm9yKCJaZXJvT3JPbmUgcGF0aCBleHByZXNzaW9ucyB3aXRoIDIgdmFyaWFibGVzIG5vdCBzdXBwb3J0ZWQgeWV0Iik7Y29uc3QgQj1hd2FpdCB0aGlzLmlzUGF0aEFyYml0cmFyeUxlbmd0aERpc3RpbmN0KF8sYik7aWYoQi5vcGVyYXRpb24pcmV0dXJuIEIub3BlcmF0aW9uO189Qi5jb250ZXh0LGIuc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJk4ucHVzaChwLmJpbmRpbmdzKFtbYi5zdWJqZWN0LGIub2JqZWN0XV0pKSxiLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJk4ucHVzaChwLmJpbmRpbmdzKFtbYi5vYmplY3QsYi5zdWJqZWN0XV0pKTtjb25zdCBMPWguQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe2NvbnRleHQ6XyxvcGVyYXRpb246by5BY3RvckFic3RyYWN0UGF0aC5GQUNUT1JZLmNyZWF0ZVBhdGgoYi5zdWJqZWN0LE8ucGF0aCxiLm9iamVjdCxiLmdyYXBoKX0pKTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOkwuYmluZGluZ3NTdHJlYW0ucHJlcGVuZChOKSxtZXRhZGF0YTpMLm1ldGFkYXRhfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aFplcm9Pck9uZT1nfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC16ZXJvLW9yLW9uZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC16ZXJvLW9yLW9uZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhaZXJvT3JPbmUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXByb2plY3QvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Qcm9qZWN0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblByb2plY3Q9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGw9bmV3IGguRGF0YUZhY3Rvcnk7Y2xhc3MgdSBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IoZyl7c3VwZXIoZywicHJvamVjdCIpfWFzeW5jIHRlc3RPcGVyYXRpb24oZyx2KXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24oZyx2KXtjb25zdCBiPW8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpnLmlucHV0LGNvbnRleHQ6dn0pKSxfPWF3YWl0IGIubWV0YWRhdGEoKSxPPWcudmFyaWFibGVzLFQ9Xy52YXJpYWJsZXMuZmlsdGVyKEw9PiFPLnNvbWUoQz0+TC52YWx1ZT09PUMudmFsdWUpKSxTPU8uZmlsdGVyKEw9PiFfLnZhcmlhYmxlcy5zb21lKEM9PkwudmFsdWU9PT1DLnZhbHVlKSk7aWYoUy5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYFZhcmlhYmxlcyAnJHtTLm1hcChMPT5gPyR7TC52YWx1ZX1gKX0nIGFyZSB1c2VkIGluIHRoZSBwcm9qZWN0aW9uIHJlc3VsdCwgYnV0IGFyZSBub3QgYXNzaWduZWQuYCk7bGV0IE49VC5sZW5ndGg9PT0wP2IuYmluZGluZ3NTdHJlYW06Yi5iaW5kaW5nc1N0cmVhbS50cmFuc2Zvcm0oe21hcChMKXtmb3IoY29uc3QgQyBvZiBUKUw9TC5kZWxldGUoQyk7cmV0dXJuIEx9LGF1dG9TdGFydDohMX0pLEI9MDtyZXR1cm4gTj1OLnRyYW5zZm9ybSh7bWFwKEwpe0IrKztjb25zdCBDPW5ldyBNYXA7cmV0dXJuIEwubWFwKGo9PntpZihqIGluc3RhbmNlb2YgZC5CbGFua05vZGVCaW5kaW5nc1Njb3BlZCl7bGV0IFA9Qy5nZXQoai52YWx1ZSk7cmV0dXJuIFB8fChQPWwuYmxhbmtOb2RlKGAke2oudmFsdWV9JHtCfWApLEMuc2V0KGoudmFsdWUsUCkpLFB9cmV0dXJuIGp9KX0sYXV0b1N0YXJ0OiExfSkse3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpOLG1ldGFkYXRhOmFzeW5jKCk9Pih7Li4uXyx2YXJpYWJsZXM6T30pfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUHJvamVjdD11fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcHJvamVjdC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcHJvamVjdC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblByb2plY3QuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXF1YWRwYXR0ZXJuL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uUXVhZHBhdHRlcm4uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUXVhZHBhdHRlcm49dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9pbmRleC5qcyIpLHA9bigic3BhcnFsYWxnZWJyYWpzIiksZz1uZXcgby5CaW5kaW5nc0ZhY3Rvcnksdj1uZXcgbC5EYXRhRmFjdG9yeSxiPW5ldyBwLkZhY3Rvcnk7Y2xhc3MgXyBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVke2NvbnN0cnVjdG9yKFQpe3N1cGVyKFQsInBhdHRlcm4iKX1zdGF0aWMgaXNUZXJtVmFyaWFibGUoVCl7cmV0dXJuIFQudGVybVR5cGU9PT0iVmFyaWFibGUifXN0YXRpYyBnZXRWYXJpYWJsZXMoVCl7cmV0dXJuKDAsdS51bmlxVGVybXMpKCgwLHUuZ2V0VGVybXMpKFQpLmZpbHRlcihfLmlzVGVybVZhcmlhYmxlKSl9c3RhdGljIGdldER1cGxpY2F0ZUVsZW1lbnRMaW5rcyhUKXtjb25zdCBTPXt9O2xldCBOPSExO2Zvcihjb25zdCBMIG9mIHUuUVVBRF9URVJNX05BTUVTKWlmKFRbTF0udGVybVR5cGU9PT0iVmFyaWFibGUiKXtjb25zdCBDPVRbTF0udmFsdWUsaj0oU1tDXXx8KFNbQ109W10pKS5wdXNoKEwpO049Tnx8aj4xfWlmKCFOKXJldHVybjtjb25zdCBCPXt9O2Zvcihjb25zdCBMIGluIFMpe2NvbnN0IEM9U1tMXSxqPUMuc2xpY2UoMSk7ai5sZW5ndGg+MCYmKEJbQ1swXV09ail9cmV0dXJuIEJ9c3RhdGljIHZhbGlkYXRlTWV0YWRhdGEoVCl7Zm9yKGNvbnN0IFMgb2ZbImNhcmRpbmFsaXR5IiwiY2FuQ29udGFpblVuZGVmcyJdKWlmKCEoUyBpbiBUKSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWV0YWRhdGE6IG1pc3NpbmcgJHtTfSBpbiAke0pTT04uc3RyaW5naWZ5KFQpfWApO3JldHVybiBUfXN0YXRpYyBnZXRNZXRhZGF0YShULFMsTil7cmV0dXJuKCk9Pm5ldyBQcm9taXNlKChCLEwpPT57VC5nZXRQcm9wZXJ0eSgibWV0YWRhdGEiLEM9PkIoQykpLFQub24oImVycm9yIixMKX0pLnRoZW4oQj0+KCJjYW5Db250YWluVW5kZWZzImluIEJ8fChCLmNhbkNvbnRhaW5VbmRlZnM9ITEpLF8ucXVhZHNNZXRhZGF0YVRvQmluZGluZ3NNZXRhZGF0YShfLnZhbGlkYXRlTWV0YWRhdGEoQiksUyxOKSkpfXN0YXRpYyBxdWFkc01ldGFkYXRhVG9CaW5kaW5nc01ldGFkYXRhKFQsUyxOKXtyZXR1cm57Li4uVCxvcmRlcjpULm9yZGVyP18ucXVhZHNPcmRlclRvQmluZGluZ3NPcmRlcihULm9yZGVyLFMpOnZvaWQgMCxhdmFpbGFibGVPcmRlcnM6VC5hdmFpbGFibGVPcmRlcnM/VC5hdmFpbGFibGVPcmRlcnMubWFwKEI9Pih7Y29zdDpCLmNvc3QsdGVybXM6Xy5xdWFkc09yZGVyVG9CaW5kaW5nc09yZGVyKEIudGVybXMsUyl9KSk6dm9pZCAwLHZhcmlhYmxlczpOfX1zdGF0aWMgcXVhZHNPcmRlclRvQmluZGluZ3NPcmRlcihULFMpe2NvbnN0IE49e307cmV0dXJuIFQubWFwKEI9Pntjb25zdCBMPVNbQi50ZXJtXTtpZihMJiYhTltMXSlyZXR1cm4gTltMXT0hMCx7dGVybTp2LnZhcmlhYmxlKEwpLGRpcmVjdGlvbjpCLmRpcmVjdGlvbn19KS5maWx0ZXIoQj0+ISFCKX1hc3luYyB0ZXN0T3BlcmF0aW9uKFQsUyl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKFQsUyl7VC5jb250ZXh0JiYoUz1TLm1lcmdlKFQuY29udGV4dCkpO2xldCBOPVQ7Y29uc3QgQj10aGlzLnVuaW9uRGVmYXVsdEdyYXBofHxTLmdldChoLktleXNRdWVyeU9wZXJhdGlvbi51bmlvbkRlZmF1bHRHcmFwaCk7VC5ncmFwaC50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgiJiZCJiYoTj1iLmNyZWF0ZVBhdHRlcm4oVC5zdWJqZWN0LFQucHJlZGljYXRlLFQub2JqZWN0LHYudmFyaWFibGUoIl9fY29tdW5pY2E6ZGVmYXVsdEdyYXBoIikpKTtjb25zdCBMPWF3YWl0IHRoaXMubWVkaWF0b3JSZXNvbHZlUXVhZFBhdHRlcm4ubWVkaWF0ZSh7cGF0dGVybjpOLGNvbnRleHQ6U30pLEM9Xy5nZXRWYXJpYWJsZXMoVCksaj0oMCx1LnJlZHVjZVRlcm1zKShULChKLGFlLFgpPT4oYWUudGVybVR5cGU9PT0iVmFyaWFibGUiJiYoSltYXT1hZS52YWx1ZSksSikse30pLFA9KEosYWUsWCk9Pntjb25zdCBHPWpbWF07cmV0dXJuIEcmJkoucHVzaChbdi52YXJpYWJsZShHKSxhZV0pLEp9LEY9Xy5nZXRNZXRhZGF0YShMLmRhdGEsaixDKTtyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOm5ldyBkLkNsb3NhYmxlVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+e2xldCBKPUwuZGF0YTtjb25zdCBhZT1fLmdldER1cGxpY2F0ZUVsZW1lbnRMaW5rcyhUKTtyZXR1cm4gVC5ncmFwaC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJiFCJiYoSj1KLmZpbHRlcihYPT5YLmdyYXBoLnRlcm1UeXBlIT09IkRlZmF1bHRHcmFwaCIpKSxhZSYmKEo9Si5maWx0ZXIoWD0+e2Zvcihjb25zdCBHIG9mIHUuVFJJUExFX1RFUk1fTkFNRVMpZm9yKGNvbnN0IHJlIG9mIGFlW0ddfHxbXSlpZighWFtHXS5lcXVhbHMoWFtyZV0pKXJldHVybiExO3JldHVybiEwfSkpLEoubWFwKFg9PmcuYmluZGluZ3MoKDAsdS5yZWR1Y2VUZXJtcykoWCxQLFtdKSkpfSx7YXV0b1N0YXJ0OiExLG9uQ2xvc2U6KCk9PkwuZGF0YS5kZXN0cm95KCl9KSxtZXRhZGF0YTpGfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uUXVhZHBhdHRlcm49X30sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXF1YWRwYXR0ZXJuL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1xdWFkcGF0dGVybi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblF1YWRwYXR0ZXJuLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1yZWR1Y2VkLWhhc2gvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25SZWR1Y2VkSGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25SZWR1Y2VkSGFzaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1yZWR1Y2VkLWhhc2gvbm9kZV9tb2R1bGVzL2xydS1jYWNoZS9pbmRleC5qcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUsInJlZHVjZWQiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHUscCl7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHUscCl7Y29uc3QgZz1vLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246dS5pbnB1dCxjb250ZXh0OnB9KSk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpnLmJpbmRpbmdzU3RyZWFtLmZpbHRlcihhd2FpdCB0aGlzLm5ld0hhc2hGaWx0ZXIocCkpLG1ldGFkYXRhOmcubWV0YWRhdGF9fWFzeW5jIG5ld0hhc2hGaWx0ZXIodSl7Y29uc3R7aGFzaEZ1bmN0aW9uOnB9PWF3YWl0IHRoaXMubWVkaWF0b3JIYXNoQmluZGluZ3MubWVkaWF0ZSh7YWxsb3dIYXNoQ29sbGlzaW9uczohMCxjb250ZXh0OnV9KSxnPW5ldyBkKHttYXg6dGhpcy5jYWNoZVNpemV9KTtyZXR1cm4gdj0+e2NvbnN0IGI9cCh2KTtyZXR1cm4gZy5oYXMoYik/ITE6KGcuc2V0KGIsITApLCEwKX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblJlZHVjZWRIYXNoPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1yZWR1Y2VkLWhhc2gvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXJlZHVjZWQtaGFzaC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblJlZHVjZWRIYXNoLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1zZXJ2aWNlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uU2VydmljZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25TZXJ2aWNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bmV3IG8uQmluZGluZ3NGYWN0b3J5O2NsYXNzIHAgZXh0ZW5kcyBkLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHYpe3N1cGVyKHYsInNlcnZpY2UiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHYsYil7aWYodi5uYW1lLnRlcm1UeXBlIT09Ik5hbWVkTm9kZSIpdGhyb3cgbmV3IEVycm9yKGAke3RoaXMubmFtZX0gY2FuIG9ubHkgcXVlcnkgc2VydmljZXMgYnkgSVJJLCB3aGlsZSBhICR7di5uYW1lLnRlcm1UeXBlfSB3YXMgZ2l2ZW4uYCk7cmV0dXJuITB9YXN5bmMgcnVuT3BlcmF0aW9uKHYsYil7Y29uc3QgXz12Lm5hbWUudmFsdWU7bGV0IE89Yi5kZWxldGUoaC5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZSkuZGVsZXRlKGguS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VzKS5kZWxldGUoaC5LZXlzSW5pdFF1ZXJ5LnF1ZXJ5U3RyaW5nKTtjb25zdCBUPXRoaXMuZm9yY2VTcGFycWxFbmRwb2ludD8ic3BhcnFsIjp2b2lkIDA7Tz1PLnNldChoLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcyxbe3R5cGU6VCx2YWx1ZTpffV0pO2xldCBTO3RyeXtTPWQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjp2LmlucHV0LGNvbnRleHQ6T30pKX1jYXRjaChOKXtpZih2LnNpbGVudClTPXtiaW5kaW5nc1N0cmVhbTpuZXcgbC5TaW5nbGV0b25JdGVyYXRvcih1LmJpbmRpbmdzKCkpLHR5cGU6ImJpbmRpbmdzIixtZXRhZGF0YTphc3luYygpPT4oe2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6MX0sY2FuQ29udGFpblVuZGVmczohMSx2YXJpYWJsZXM6W119KX07ZWxzZSB0aHJvdyBOfXJldHVybiBTfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25TZXJ2aWNlPXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1zZXJ2aWNlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1zZXJ2aWNlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uU2VydmljZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2xpY2UvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25TbGljZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25TbGljZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJzbGljZSIpfWFzeW5jIHRlc3RPcGVyYXRpb24odSxwKXtyZXR1cm4hMH1hc3luYyBydW5PcGVyYXRpb24odSxwKXt1Lmxlbmd0aCYmKHA9cC5zZXQoZC5LZXlzUXVlcnlPcGVyYXRpb24ubGltaXRJbmRpY2F0b3IsdS5sZW5ndGgpKTtjb25zdCBnPWF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246dS5pbnB1dCxjb250ZXh0OnB9KTtpZihnLnR5cGU9PT0iYmluZGluZ3MiKXJldHVybnt0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06dGhpcy5zbGljZVN0cmVhbShnLmJpbmRpbmdzU3RyZWFtLHUpLG1ldGFkYXRhOnRoaXMuc2xpY2VNZXRhZGF0YShnLHUpfTtpZihnLnR5cGU9PT0icXVhZHMiKXJldHVybnt0eXBlOiJxdWFkcyIscXVhZFN0cmVhbTp0aGlzLnNsaWNlU3RyZWFtKGcucXVhZFN0cmVhbSx1KSxtZXRhZGF0YTp0aGlzLnNsaWNlTWV0YWRhdGEoZyx1KX07dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHF1ZXJ5IG91dHB1dCB0eXBlOiBFeHBlY3RlZCAnYmluZGluZ3MnIG9yICdxdWFkcycgYnV0IGdvdCAnJHtnLnR5cGV9J2ApfXNsaWNlU3RyZWFtKHUscCl7Y29uc3QgZz0hIXAubGVuZ3RofHxwLmxlbmd0aD09PTAse3N0YXJ0OnZ9PXAsYj1nP3Auc3RhcnQrcC5sZW5ndGgtMTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuIHUudHJhbnNmb3JtKHtvZmZzZXQ6dixsaW1pdDpNYXRoLm1heChiLXYrMSwwKSxhdXRvU3RhcnQ6ITF9KX1zbGljZU1ldGFkYXRhKHUscCl7Y29uc3QgZz0hIXAubGVuZ3RofHxwLmxlbmd0aD09PTA7cmV0dXJuKCk9PnUubWV0YWRhdGEoKS50aGVuKHY9Pntjb25zdCBiPXsuLi52LmNhcmRpbmFsaXR5fTtyZXR1cm4gTnVtYmVyLmlzRmluaXRlKGIudmFsdWUpJiYoYi52YWx1ZT1NYXRoLm1heCgwLGIudmFsdWUtcC5zdGFydCksZyYmKGIudmFsdWU9TWF0aC5taW4oYi52YWx1ZSxwLmxlbmd0aCkpKSx7Li4udixjYXJkaW5hbGl0eTpifX0pfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25TbGljZT1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tc2xpY2UvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXNsaWNlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uU2xpY2UuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVuaW9uL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVW5pb24uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVW5pb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiYXN5bmNpdGVyYXRvciIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9pbmRleC5qcyIpO2NsYXNzIGwgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHApe3N1cGVyKHAsInVuaW9uIil9c3RhdGljIHVuaW9uVmFyaWFibGVzKHApe3JldHVybigwLGgudW5pcVRlcm1zKShwLmZsYXQoKSl9c3RhdGljIHVuaW9uTWV0YWRhdGEocCxnKXtjb25zdCB2PXt0eXBlOiJleGFjdCIsdmFsdWU6MH07Zm9yKGNvbnN0IF8gb2YgcClpZihfLmNhcmRpbmFsaXR5LnZhbHVlJiZOdW1iZXIuaXNGaW5pdGUoXy5jYXJkaW5hbGl0eS52YWx1ZSl8fF8uY2FyZGluYWxpdHkudmFsdWU9PT0wKV8uY2FyZGluYWxpdHkudHlwZT09PSJlc3RpbWF0ZSImJih2LnR5cGU9ImVzdGltYXRlIiksdi52YWx1ZSs9Xy5jYXJkaW5hbGl0eS52YWx1ZTtlbHNle3YudHlwZT0iZXN0aW1hdGUiLHYudmFsdWU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2JyZWFrfWNvbnN0IGI9e2NhcmRpbmFsaXR5OnYsY2FuQ29udGFpblVuZGVmczpwLnNvbWUoXz0+Xy5jYW5Db250YWluVW5kZWZzKX07cmV0dXJuIGcmJihiLnZhcmlhYmxlcz1sLnVuaW9uVmFyaWFibGVzKHAubWFwKF89Pl8udmFyaWFibGVzKSkpLGJ9YXN5bmMgdGVzdE9wZXJhdGlvbihwLGcpe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihwLGcpe2NvbnN0IHY9KGF3YWl0IFByb21pc2UuYWxsKHAuaW5wdXQubWFwKE89PnRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Tyxjb250ZXh0Omd9KSkpKS5tYXAoby5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyk7cmV0dXJue3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgZC5Vbmlvbkl0ZXJhdG9yKHYubWFwKE89Pk8uYmluZGluZ3NTdHJlYW0pLHthdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTooKT0+UHJvbWlzZS5hbGwodi5tYXAoTz0+Ty5tZXRhZGF0YSgpKSkudGhlbihPPT5sLnVuaW9uTWV0YWRhdGEoTywhMCkpfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVW5pb249bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVuaW9uL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11bmlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblVuaW9uLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtYWRkLXJld3JpdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25BZGRSZXdyaXRlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbkFkZFJld3JpdGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxoPW4oInNwYXJxbGFsZ2VicmFqcyIpLGw9bmV3IGQuRGF0YUZhY3Rvcnk7Y2xhc3MgdSBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IoZyl7c3VwZXIoZywiYWRkIiksdGhpcy5mYWN0b3J5PW5ldyBoLkZhY3Rvcnl9YXN5bmMgdGVzdE9wZXJhdGlvbihnLHYpe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KHYpLCEwfXJ1bk9wZXJhdGlvbihnLHYpe2NvbnN0IGI9Zy5kZXN0aW5hdGlvbj09PSJERUZBVUxUIj9sLmRlZmF1bHRHcmFwaCgpOmcuZGVzdGluYXRpb24sXz1nLnNvdXJjZT09PSJERUZBVUxUIj9sLmRlZmF1bHRHcmFwaCgpOmcuc291cmNlLE89dGhpcy5mYWN0b3J5LmNyZWF0ZURlbGV0ZUluc2VydCh2b2lkIDAsW3RoaXMuZmFjdG9yeS5jcmVhdGVQYXR0ZXJuKGwudmFyaWFibGUoInMiKSxsLnZhcmlhYmxlKCJwIiksbC52YXJpYWJsZSgibyIpLGIpXSx0aGlzLmZhY3RvcnkuY3JlYXRlUGF0dGVybihsLnZhcmlhYmxlKCJzIiksbC52YXJpYWJsZSgicCIpLGwudmFyaWFibGUoIm8iKSxfKSk7cmV0dXJuIHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Tyxjb250ZXh0OnZ9KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQWRkUmV3cml0ZT11fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWFkZC1yZXdyaXRlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtYWRkLXJld3JpdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25BZGRSZXdyaXRlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY2xlYXIvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25DbGVhci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25DbGVhcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGg9bmV3IGQuRGF0YUZhY3Rvcnk7Y2xhc3MgbCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IocCl7c3VwZXIocCwiY2xlYXIiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKHAsZyl7cmV0dXJuIG8uQWN0b3JRdWVyeU9wZXJhdGlvbi50aHJvd09uUmVhZE9ubHkoZyksITB9YXN5bmMgcnVuT3BlcmF0aW9uKHAsZyl7bGV0IHY7cC5zb3VyY2U9PT0iREVGQVVMVCI/dj1oLmRlZmF1bHRHcmFwaCgpOnR5cGVvZiBwLnNvdXJjZT09InN0cmluZyI/dj1wLnNvdXJjZTp2PVtwLnNvdXJjZV07Y29uc3R7ZXhlY3V0ZTpifT1hd2FpdCB0aGlzLm1lZGlhdG9yVXBkYXRlUXVhZHMubWVkaWF0ZSh7ZGVsZXRlR3JhcGhzOntncmFwaHM6dixyZXF1aXJlRXhpc3RlbmNlOiFwLnNpbGVudCxkcm9wR3JhcGhzOiExfSxjb250ZXh0Omd9KTtyZXR1cm57dHlwZToidm9pZCIsZXhlY3V0ZTpifX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ2xlYXI9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jbGVhci9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNsZWFyL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQ2xlYXIuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jb21wb3NpdGV1cGRhdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25VcGRhdGVDb21wb3NpdGVVcGRhdGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlQ29tcG9zaXRlVXBkYXRlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihsKXtzdXBlcihsLCJjb21wb3NpdGV1cGRhdGUiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGwsdSl7cmV0dXJuIG8uQWN0b3JRdWVyeU9wZXJhdGlvbi50aHJvd09uUmVhZE9ubHkodSksITB9YXN5bmMgcnVuT3BlcmF0aW9uKGwsdSl7cmV0dXJue3R5cGU6InZvaWQiLGV4ZWN1dGU6KCk9Pihhc3luYygpPT57Zm9yKGNvbnN0IGcgb2YgbC51cGRhdGVzKWF3YWl0IG8uQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlVm9pZChhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmcsY29udGV4dDp1fSkpLmV4ZWN1dGUoKX0pKCl9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25VcGRhdGVDb21wb3NpdGVVcGRhdGU9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jb21wb3NpdGV1cGRhdGUvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jb21wb3NpdGV1cGRhdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25VcGRhdGVDb21wb3NpdGVVcGRhdGUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jb3B5LXJld3JpdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Db3B5UmV3cml0ZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25Db3B5UmV3cml0ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1LCJjb3B5IiksdGhpcy5mYWN0b3J5PW5ldyBkLkZhY3Rvcnl9YXN5bmMgdGVzdE9wZXJhdGlvbih1LHApe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KHApLCEwfXJ1bk9wZXJhdGlvbih1LHApe2lmKHR5cGVvZiB1LmRlc3RpbmF0aW9uPT0ic3RyaW5nIiYmdHlwZW9mIHUuc291cmNlPT0ic3RyaW5nIiYmdS5kZXN0aW5hdGlvbj09PXUuc291cmNlfHx0eXBlb2YgdS5kZXN0aW5hdGlvbiE9InN0cmluZyImJnR5cGVvZiB1LnNvdXJjZSE9InN0cmluZyImJnUuZGVzdGluYXRpb24uZXF1YWxzKHUuc291cmNlKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt0eXBlOiJ2b2lkIixleGVjdXRlOigpPT5Qcm9taXNlLnJlc29sdmUoKX0pO2NvbnN0IGc9dGhpcy5mYWN0b3J5LmNyZWF0ZUNvbXBvc2l0ZVVwZGF0ZShbdGhpcy5mYWN0b3J5LmNyZWF0ZURyb3AodS5kZXN0aW5hdGlvbiwhMCksdGhpcy5mYWN0b3J5LmNyZWF0ZUFkZCh1LnNvdXJjZSx1LmRlc3RpbmF0aW9uLHUuc2lsZW50KV0pO3JldHVybiB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOmcsY29udGV4dDpwfSl9fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkNvcHlSZXdyaXRlPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29weS1yZXdyaXRlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtY29weS1yZXdyaXRlL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uQ29weVJld3JpdGUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jcmVhdGUvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25DcmVhdGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ3JlYXRlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZHtjb25zdHJ1Y3RvcihsKXtzdXBlcihsLCJjcmVhdGUiKX1hc3luYyB0ZXN0T3BlcmF0aW9uKGwsdSl7cmV0dXJuIG8uQWN0b3JRdWVyeU9wZXJhdGlvbi50aHJvd09uUmVhZE9ubHkodSksITB9YXN5bmMgcnVuT3BlcmF0aW9uKGwsdSl7Y29uc3R7ZXhlY3V0ZTpwfT1hd2FpdCB0aGlzLm1lZGlhdG9yVXBkYXRlUXVhZHMubWVkaWF0ZSh7Y3JlYXRlR3JhcGhzOntncmFwaHM6W2wuc291cmNlXSxyZXF1aXJlTm9uRXhpc3RlbmNlOiFsLnNpbGVudH0sY29udGV4dDp1fSk7cmV0dXJue3R5cGU6InZvaWQiLGV4ZWN1dGU6cH19fWUuQWN0b3JRdWVyeU9wZXJhdGlvbkNyZWF0ZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNyZWF0ZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNyZWF0ZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkNyZWF0ZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRlbGV0ZWluc2VydC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblVwZGF0ZURlbGV0ZUluc2VydC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25VcGRhdGVEZWxldGVJbnNlcnQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tY29uc3RydWN0L2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGw9bigiYXN5bmNpdGVyYXRvciIpLHU9bmV3IGQuQmluZGluZ3NGYWN0b3J5O2NsYXNzIHAgZXh0ZW5kcyBoLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHYpe3N1cGVyKHYsImRlbGV0ZWluc2VydCIpLHRoaXMuYmxhbmtOb2RlQ291bnRlcj0wfWFzeW5jIHRlc3RPcGVyYXRpb24odixiKXtyZXR1cm4gaC5BY3RvclF1ZXJ5T3BlcmF0aW9uLnRocm93T25SZWFkT25seShiKSwhMH1hc3luYyBydW5PcGVyYXRpb24odixiKXtjb25zdCBfPXYud2hlcmU/aC5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9yUXVlcnlPcGVyYXRpb24ubWVkaWF0ZSh7b3BlcmF0aW9uOnYud2hlcmUsY29udGV4dDpifSkpLmJpbmRpbmdzU3RyZWFtOm5ldyBsLkFycmF5SXRlcmF0b3IoW3UuYmluZGluZ3MoKV0se2F1dG9TdGFydDohMX0pO2xldCBPLFQ7di5pbnNlcnQmJihPPW5ldyBvLkJpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yKHYuaW5zZXJ0Lm1hcChvLkJpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yLmxvY2FsaXplUXVhZC5iaW5kKG51bGwsdGhpcy5ibGFua05vZGVDb3VudGVyKSksXy5jbG9uZSgpLCExKSx0aGlzLmJsYW5rTm9kZUNvdW50ZXIrKyksdi5kZWxldGUmJihUPW5ldyBvLkJpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yKHYuZGVsZXRlLm1hcChvLkJpbmRpbmdzVG9RdWFkc0l0ZXJhdG9yLmxvY2FsaXplUXVhZC5iaW5kKG51bGwsdGhpcy5ibGFua05vZGVDb3VudGVyKSksXy5jbG9uZSgpLCExKSx0aGlzLmJsYW5rTm9kZUNvdW50ZXIrKyk7Y29uc3R7ZXhlY3V0ZTpTfT1hd2FpdCB0aGlzLm1lZGlhdG9yVXBkYXRlUXVhZHMubWVkaWF0ZSh7cXVhZFN0cmVhbUluc2VydDpPLHF1YWRTdHJlYW1EZWxldGU6VCxjb250ZXh0OmJ9KTtyZXR1cm57dHlwZToidm9pZCIsZXhlY3V0ZTpTfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlRGVsZXRlSW5zZXJ0PXB9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtZGVsZXRlaW5zZXJ0L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtZGVsZXRlaW5zZXJ0L2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlRGVsZXRlSW5zZXJ0LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtZHJvcC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkRyb3AuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uRHJvcD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGg9bmV3IGQuRGF0YUZhY3Rvcnk7Y2xhc3MgbCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkTWVkaWF0ZWR7Y29uc3RydWN0b3IocCl7c3VwZXIocCwiZHJvcCIpfWFzeW5jIHRlc3RPcGVyYXRpb24ocCxnKXtyZXR1cm4gby5BY3RvclF1ZXJ5T3BlcmF0aW9uLnRocm93T25SZWFkT25seShnKSwhMH1hc3luYyBydW5PcGVyYXRpb24ocCxnKXtsZXQgdjtwLnNvdXJjZT09PSJERUZBVUxUIj92PWguZGVmYXVsdEdyYXBoKCk6dHlwZW9mIHAuc291cmNlPT0ic3RyaW5nIj92PXAuc291cmNlOnY9W3Auc291cmNlXTtjb25zdHtleGVjdXRlOmJ9PWF3YWl0IHRoaXMubWVkaWF0b3JVcGRhdGVRdWFkcy5tZWRpYXRlKHtkZWxldGVHcmFwaHM6e2dyYXBoczp2LHJlcXVpcmVFeGlzdGVuY2U6IXAuc2lsZW50LGRyb3BHcmFwaHM6ITB9LGNvbnRleHQ6Z30pO3JldHVybnt0eXBlOiJ2b2lkIixleGVjdXRlOmJ9fX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Ecm9wPWx9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtZHJvcC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWRyb3AvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25Ecm9wLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtbG9hZC9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbkxvYWQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTG9hZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksbD1uKCJzcGFycWxhbGdlYnJhanMiKSx1PW5ldyBoLkRhdGFGYWN0b3J5O2NsYXNzIHAgZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHYpe3N1cGVyKHYsImxvYWQiKSx0aGlzLmZhY3Rvcnk9bmV3IGwuRmFjdG9yeSx0aGlzLmNvbnN0cnVjdE9wZXJhdGlvbj10aGlzLmZhY3RvcnkuY3JlYXRlQ29uc3RydWN0KHRoaXMuZmFjdG9yeS5jcmVhdGVQYXR0ZXJuKHUudmFyaWFibGUoInMiKSx1LnZhcmlhYmxlKCJwIiksdS52YXJpYWJsZSgibyIpKSxbdGhpcy5mYWN0b3J5LmNyZWF0ZVBhdHRlcm4odS52YXJpYWJsZSgicyIpLHUudmFyaWFibGUoInAiKSx1LnZhcmlhYmxlKCJvIikpXSl9YXN5bmMgdGVzdE9wZXJhdGlvbih2LGIpe3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24udGhyb3dPblJlYWRPbmx5KGIpLCEwfWFzeW5jIHJ1bk9wZXJhdGlvbih2LGIpe2xldCBfPWIuc2V0KGQuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VzLFt2LnNvdXJjZS52YWx1ZV0pO3Yuc2lsZW50JiYoXz1fLnNldChkLktleXNJbml0UXVlcnkubGVuaWVudCwhMCkpO2xldCBUPXAuZ2V0U2FmZVF1YWRzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246dGhpcy5jb25zdHJ1Y3RPcGVyYXRpb24sY29udGV4dDpffSkpLnF1YWRTdHJlYW07di5kZXN0aW5hdGlvbiYmKFQ9VC5tYXAoTj0+dS5xdWFkKE4uc3ViamVjdCxOLnByZWRpY2F0ZSxOLm9iamVjdCx2LmRlc3RpbmF0aW9uKSkpO2NvbnN0e2V4ZWN1dGU6U309YXdhaXQgdGhpcy5tZWRpYXRvclVwZGF0ZVF1YWRzLm1lZGlhdGUoe3F1YWRTdHJlYW1JbnNlcnQ6VCxjb250ZXh0OmJ9KTtyZXR1cm57dHlwZToidm9pZCIsZXhlY3V0ZTpTfX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uTG9hZD1wfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWxvYWQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1sb2FkL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uTG9hZC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLW1vdmUtcmV3cml0ZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk1vdmVSZXdyaXRlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvbk1vdmVSZXdyaXRlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVke2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUsIm1vdmUiKSx0aGlzLmZhY3Rvcnk9bmV3IGQuRmFjdG9yeX1hc3luYyB0ZXN0T3BlcmF0aW9uKHUscCl7cmV0dXJuIG8uQWN0b3JRdWVyeU9wZXJhdGlvbi50aHJvd09uUmVhZE9ubHkocCksITB9cnVuT3BlcmF0aW9uKHUscCl7aWYodHlwZW9mIHUuZGVzdGluYXRpb249PSJzdHJpbmciJiZ0eXBlb2YgdS5zb3VyY2U9PSJzdHJpbmciJiZ1LmRlc3RpbmF0aW9uPT09dS5zb3VyY2V8fHR5cGVvZiB1LmRlc3RpbmF0aW9uIT0ic3RyaW5nIiYmdHlwZW9mIHUuc291cmNlIT0ic3RyaW5nIiYmdS5kZXN0aW5hdGlvbi5lcXVhbHModS5zb3VyY2UpKXJldHVybiBQcm9taXNlLnJlc29sdmUoe3R5cGU6InZvaWQiLGV4ZWN1dGU6KCk9PlByb21pc2UucmVzb2x2ZSgpfSk7Y29uc3QgZz1bdGhpcy5mYWN0b3J5LmNyZWF0ZURyb3AodS5kZXN0aW5hdGlvbiwhMCksdGhpcy5mYWN0b3J5LmNyZWF0ZUFkZCh1LnNvdXJjZSx1LmRlc3RpbmF0aW9uLHUuc2lsZW50KSx0aGlzLmZhY3RvcnkuY3JlYXRlRHJvcCh1LnNvdXJjZSldLHY9dGhpcy5mYWN0b3J5LmNyZWF0ZUNvbXBvc2l0ZVVwZGF0ZShnKTtyZXR1cm4gdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjp2LGNvbnRleHQ6cH0pfX1lLkFjdG9yUXVlcnlPcGVyYXRpb25Nb3ZlUmV3cml0ZT1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLW1vdmUtcmV3cml0ZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLW1vdmUtcmV3cml0ZS9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbk1vdmVSZXdyaXRlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi12YWx1ZXMvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25WYWx1ZXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVmFsdWVzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxoPW4oImFzeW5jaXRlcmF0b3IiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksdT1uZXcgby5CaW5kaW5nc0ZhY3RvcnkscD1uZXcgbC5EYXRhRmFjdG9yeTtjbGFzcyBnIGV4dGVuZHMgZC5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWR7Y29uc3RydWN0b3IoYil7c3VwZXIoYiwidmFsdWVzIil9YXN5bmMgdGVzdE9wZXJhdGlvbihiLF8pe3JldHVybiEwfWFzeW5jIHJ1bk9wZXJhdGlvbihiLF8pe2NvbnN0IE89bmV3IGguQXJyYXlJdGVyYXRvcihiLmJpbmRpbmdzLm1hcChOPT51LmJpbmRpbmdzKE9iamVjdC5lbnRyaWVzKE4pLm1hcCgoW0IsTF0pPT5bcC52YXJpYWJsZShCLnNsaWNlKDEpKSxMXSkpKSksVD1iLnZhcmlhYmxlcztyZXR1cm57dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOk8sbWV0YWRhdGE6KCk9PlByb21pc2UucmVzb2x2ZSh7Y2FyZGluYWxpdHk6e3R5cGU6ImV4YWN0Iix2YWx1ZTpiLmJpbmRpbmdzLmxlbmd0aH0sY2FuQ29udGFpblVuZGVmczpiLmJpbmRpbmdzLnNvbWUoTj0+VC5zb21lKEI9PiEoYD8ke0IudmFsdWV9YGluIE4pKSksdmFyaWFibGVzOlR9KX19fWUuQWN0b3JRdWVyeU9wZXJhdGlvblZhbHVlcz1nfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdmFsdWVzL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi12YWx1ZXMvbGliL0FjdG9yUXVlcnlPcGVyYXRpb25WYWx1ZXMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktcGFyc2Utc3BhcnFsL2xpYi9BY3RvclF1ZXJ5UGFyc2VTcGFycWwuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5UGFyc2VTcGFycWw9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktcGFyc2UvbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKSxoPW4oInNwYXJxbGpzIik7Y2xhc3MgbCBleHRlbmRzIG8uQWN0b3JRdWVyeVBhcnNle2NvbnN0cnVjdG9yKHApe3N1cGVyKHApLHRoaXMucHJlZml4ZXM9T2JqZWN0LmZyZWV6ZSh0aGlzLnByZWZpeGVzKX1hc3luYyB0ZXN0KHApe2lmKHAucXVlcnlGb3JtYXQmJnAucXVlcnlGb3JtYXQubGFuZ3VhZ2UhPT0ic3BhcnFsIil0aHJvdyBuZXcgRXJyb3IoIlRoaXMgYWN0b3IgY2FuIG9ubHkgcGFyc2UgU1BBUlFMIHF1ZXJpZXMiKTtyZXR1cm4hMH1hc3luYyBydW4ocCl7Y29uc3Qgdj1uZXcgaC5QYXJzZXIoe3ByZWZpeGVzOnRoaXMucHJlZml4ZXMsYmFzZUlSSTpwLmJhc2VJUkl9KS5wYXJzZShwLnF1ZXJ5KTtyZXR1cm57YmFzZUlSSTp2LnR5cGU9PT0icXVlcnkiP3YuYmFzZTp2b2lkIDAsb3BlcmF0aW9uOigwLGQudHJhbnNsYXRlKSh2LHtxdWFkczohMCxwcmVmaXhlczp0aGlzLnByZWZpeGVzLGJsYW5rVG9WYXJpYWJsZTohMCxiYXNlSVJJOnAuYmFzZUlSSX0pfX19ZS5BY3RvclF1ZXJ5UGFyc2VTcGFycWw9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktcGFyc2Utc3BhcnFsL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LXBhcnNlLXNwYXJxbC9saWIvQWN0b3JRdWVyeVBhcnNlU3BhcnFsLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWVudHJpZXMtc29ydC1jYXJkaW5hbGl0eS9saWIvQWN0b3JSZGZKb2luRW50cmllc1NvcnRDYXJkaW5hbGl0eS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbkVudHJpZXNTb3J0Q2FyZGluYWxpdHk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4tZW50cmllcy1zb3J0L2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUmRmSm9pbkVudHJpZXNTb3J0e2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfWFzeW5jIHRlc3QobCl7cmV0dXJuITB9YXN5bmMgcnVuKGwpe3JldHVybntlbnRyaWVzOlsuLi5sLmVudHJpZXNdLnNvcnQoKHAsZyk9PnAubWV0YWRhdGEuY2FyZGluYWxpdHkudmFsdWUtZy5tZXRhZGF0YS5jYXJkaW5hbGl0eS52YWx1ZSl9fX1lLkFjdG9yUmRmSm9pbkVudHJpZXNTb3J0Q2FyZGluYWxpdHk9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tZW50cmllcy1zb3J0LWNhcmRpbmFsaXR5L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWVudHJpZXMtc29ydC1jYXJkaW5hbGl0eS9saWIvQWN0b3JSZGZKb2luRW50cmllc1NvcnRDYXJkaW5hbGl0eS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1oYXNoL2xpYi9BY3RvclJkZkpvaW5IYXNoLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luSGFzaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IodSl7c3VwZXIodSx7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6Imhhc2giLGxpbWl0RW50cmllczoyfSl9YXN5bmMgZ2V0T3V0cHV0KHUpe2NvbnN0IHA9YXdhaXQgby5BY3RvclJkZkpvaW4uZ2V0TWV0YWRhdGFzKHUuZW50cmllcyksZz1vLkFjdG9yUmRmSm9pbi5vdmVybGFwcGluZ1ZhcmlhYmxlcyhwKTtyZXR1cm57cmVzdWx0Ont0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06bmV3IGQuSGFzaEpvaW4odS5lbnRyaWVzWzBdLm91dHB1dC5iaW5kaW5nc1N0cmVhbSx1LmVudHJpZXNbMV0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLGI9Pm8uQWN0b3JSZGZKb2luLmhhc2goYixnKSxvLkFjdG9yUmRmSm9pbi5qb2luQmluZGluZ3MpLG1ldGFkYXRhOmFzeW5jKCk9PmF3YWl0IHRoaXMuY29uc3RydWN0UmVzdWx0TWV0YWRhdGEodS5lbnRyaWVzLHAsdS5jb250ZXh0KX19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHModSxwKXtjb25zdCBnPW8uQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJbml0aWFsVGltZXMocCksdj1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SXRlbVRpbWVzKHApO3JldHVybntpdGVyYXRpb25zOnBbMF0uY2FyZGluYWxpdHkudmFsdWUrcFsxXS5jYXJkaW5hbGl0eS52YWx1ZSxwZXJzaXN0ZWRJdGVtczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlLGJsb2NraW5nSXRlbXM6cFswXS5jYXJkaW5hbGl0eS52YWx1ZSxyZXF1ZXN0VGltZTpnWzBdK3BbMF0uY2FyZGluYWxpdHkudmFsdWUqdlswXStnWzFdK3BbMV0uY2FyZGluYWxpdHkudmFsdWUqdlsxXX19fWUuQWN0b3JSZGZKb2luSGFzaD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1oYXNoL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLWhhc2gvbGliL0FjdG9yUmRmSm9pbkhhc2guanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktYmluZC9saWIvQWN0b3JSZGZKb2luTXVsdGlCaW5kLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luTXVsdGlCaW5kPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksbD1uKCJhc3luY2l0ZXJhdG9yIiksdT1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBwIGV4dGVuZHMgZC5BY3RvclJkZkpvaW57Y29uc3RydWN0b3Iodil7c3VwZXIodix7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6ImJpbmQiLGNhbkhhbmRsZVVuZGVmczohMH0pfXN0YXRpYyBjcmVhdGVCaW5kU3RyZWFtKHYsYixfLE8sVCl7Y29uc3QgUz1OPT57Y29uc3QgQj1fLm1hcChDPT4oMCxvLm1hdGVyaWFsaXplT3BlcmF0aW9uKShDLE4se2JpbmRGaWx0ZXI6ITF9KSksTD1DPT5DLm1lcmdlKE4pO3JldHVybiBuZXcgbC5UcmFuc2Zvcm1JdGVyYXRvcihhc3luYygpPT4oYXdhaXQgTyhCLE4pKS50cmFuc2Zvcm0oe21hcDpMfSkse21heEJ1ZmZlclNpemU6MTI4LGF1dG9TdGFydDohMX0pfTtzd2l0Y2godil7Y2FzZSJkZXB0aC1maXJzdCI6cmV0dXJuIG5ldyBsLk11bHRpVHJhbnNmb3JtSXRlcmF0b3IoYix7YXV0b1N0YXJ0OiExLG11bHRpVHJhbnNmb3JtOlMsb3B0aW9uYWw6VH0pO2Nhc2UiYnJlYWR0aC1maXJzdCI6cmV0dXJuIG5ldyBsLlVuaW9uSXRlcmF0b3IoYi50cmFuc2Zvcm0oe21hcDpTLG9wdGlvbmFsOlR9KSx7YXV0b1N0YXJ0OiExfSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFJlY2VpdmVkIHJlcXVlc3QgZm9yIHVua25vd24gYmluZCBvcmRlcjogJHt2fWApfX1hc3luYyBzb3J0Sm9pbkVudHJpZXModixiKXtpZih2LnNvbWUoTj0+Ti5tZXRhZGF0YS5jYW5Db250YWluVW5kZWZzKSlyZXR1cm4gdjtjb25zdCBPPXt9O2Zvcihjb25zdCBOIG9mIHYpZm9yKGNvbnN0IEIgb2YgTi5tZXRhZGF0YS52YXJpYWJsZXMpe2xldCBMPU9bQi52YWx1ZV07THx8KEw9MCksT1tCLnZhbHVlXT0rK0x9Y29uc3QgVD1bXTtmb3IoY29uc3RbTixCXW9mIE9iamVjdC5lbnRyaWVzKE8pKUI+PTImJlQucHVzaChOKTtpZihULmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJCaW5kIGpvaW4gY2FuIG9ubHkgam9pbiBlbnRyaWVzIHdpdGggYXQgbGVhc3Qgb25lIGNvbW1vbiB2YXJpYWJsZSIpO2NvbnN0IFM9W107Zm9yKGNvbnN0IE4gb2Ygdil7bGV0IEI9ITE7Zm9yKGNvbnN0IEwgb2YgTi5tZXRhZGF0YS52YXJpYWJsZXMpaWYoVC5pbmNsdWRlcyhMLnZhbHVlKSl7Qj0hMDticmVha31CfHxTLnB1c2goTil9cmV0dXJuKGF3YWl0IHRoaXMubWVkaWF0b3JKb2luRW50cmllc1NvcnQubWVkaWF0ZSh7ZW50cmllczp2LGNvbnRleHQ6Yn0pKS5lbnRyaWVzLnNvcnQoKE4sQik9Pntjb25zdCBMPVMuaW5jbHVkZXMoTiksQz1TLmluY2x1ZGVzKEIpO3JldHVybiBMPT09Qz8wOkw/MTotMX0pfWFzeW5jIGdldE91dHB1dCh2KXtjb25zdCBiPWF3YWl0IGQuQWN0b3JSZGZKb2luLmdldEVudHJpZXNXaXRoTWV0YWRhdGFzKHYuZW50cmllcyksXz1hd2FpdCB0aGlzLnNvcnRKb2luRW50cmllcyhiLHYuY29udGV4dCk7dGhpcy5sb2dEZWJ1Zyh2LmNvbnRleHQsIkZpcnN0IGVudHJ5IGZvciBCaW5kIEpvaW46ICIsKCk9Pih7ZW50cnk6X1swXS5vcGVyYXRpb24sbWV0YWRhdGE6X1swXS5tZXRhZGF0YX0pKTtmb3IoY29uc3RbQixMXW9mIF8uZW50cmllcygpKUIhPT0wJiZMLm91dHB1dC5iaW5kaW5nc1N0cmVhbS5jbG9zZSgpO2NvbnN0IE89X1swXS5vdXRwdXQsVD1bLi4uX107VC5zcGxpY2UoMCwxKTtjb25zdCBTPXYuY29udGV4dC5zZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24uam9pbkxlZnRNZXRhZGF0YSxfWzBdLm1ldGFkYXRhKS5zZXQoaC5LZXlzUXVlcnlPcGVyYXRpb24uam9pblJpZ2h0TWV0YWRhdGFzLFQubWFwKEI9PkIubWV0YWRhdGEpKTtyZXR1cm57cmVzdWx0Ont0eXBlOiJiaW5kaW5ncyIsYmluZGluZ3NTdHJlYW06cC5jcmVhdGVCaW5kU3RyZWFtKHRoaXMuYmluZE9yZGVyLE8uYmluZGluZ3NTdHJlYW0sVC5tYXAoQj0+Qi5vcGVyYXRpb24pLGFzeW5jKEIsTCk9Pntjb25zdCBDPUIubGVuZ3RoPT09MT9CWzBdOnAuRkFDVE9SWS5jcmVhdGVKb2luKEIpO3JldHVybiBvLkFjdG9yUXVlcnlPcGVyYXRpb24uZ2V0U2FmZUJpbmRpbmdzKGF3YWl0IHRoaXMubWVkaWF0b3JRdWVyeU9wZXJhdGlvbi5tZWRpYXRlKHtvcGVyYXRpb246Qyxjb250ZXh0OlM/LnNldChoLktleXNRdWVyeU9wZXJhdGlvbi5qb2luQmluZGluZ3MsTCl9KSkuYmluZGluZ3NTdHJlYW19LCExKSxtZXRhZGF0YTooKT0+dGhpcy5jb25zdHJ1Y3RSZXN1bHRNZXRhZGF0YShfLF8ubWFwKEI9PkIubWV0YWRhdGEpLHYuY29udGV4dCl9LHBoeXNpY2FsUGxhbk1ldGFkYXRhOntiaW5kSW5kZXg6Yi5pbmRleE9mKF9bMF0pLGJpbmRPcmRlcjp0aGlzLmJpbmRPcmRlcn19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHModixiKXtjb25zdCBfPWF3YWl0IHRoaXMuc29ydEpvaW5FbnRyaWVzKHYuZW50cmllcy5tYXAoKEYsayk9Pih7Li4uRixtZXRhZGF0YTpiW2tdfSkpLHYuY29udGV4dCk7Yj1fLm1hcChGPT5GLm1ldGFkYXRhKTtjb25zdCBPPWQuQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJbml0aWFsVGltZXMoYiksVD1kLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SXRlbVRpbWVzKGIpLFM9Wy4uLl9dLE49Wy4uLk9dLEI9Wy4uLlRdO2lmKFMuc3BsaWNlKDAsMSksTi5zcGxpY2UoMCwxKSxCLnNwbGljZSgwLDEpLFMuc29tZShGPT5GLm9wZXJhdGlvbi50eXBlPT09dS5BbGdlYnJhLnR5cGVzLkVYVEVORHx8Ri5vcGVyYXRpb24udHlwZT09PXUuQWxnZWJyYS50eXBlcy5HUk9VUCkpdGhyb3cgbmV3IEVycm9yKGBBY3RvciAke3RoaXMubmFtZX0gY2FuIG5vdCBiaW5kIG9uIEV4dGVuZCBhbmQgR3JvdXAgb3BlcmF0aW9uc2ApO2NvbnN0IEw9YXdhaXQgUHJvbWlzZS5hbGwoUy5tYXAoYXN5bmMgRj0+KGF3YWl0IHRoaXMubWVkaWF0b3JKb2luU2VsZWN0aXZpdHkubWVkaWF0ZSh7ZW50cmllczpbX1swXSxGXSxjb250ZXh0OnYuY29udGV4dH0pKS5zZWxlY3Rpdml0eSp0aGlzLnNlbGVjdGl2aXR5TW9kaWZpZXIpKSxDPVMubWFwKChGLGspPT5GLm1ldGFkYXRhLmNhcmRpbmFsaXR5LnZhbHVlKkxba10pLnJlZHVjZSgoRixrKT0+RitrLDApLGo9Ti5yZWR1Y2UoKEYsayxKKT0+RitrKkxbSl0sMCksUD1CLnJlZHVjZSgoRixrLEopPT5GK2sqTFtKXSwwKTtyZXR1cm57aXRlcmF0aW9uczpiWzBdLmNhcmRpbmFsaXR5LnZhbHVlKkMscGVyc2lzdGVkSXRlbXM6MCxibG9ja2luZ0l0ZW1zOjAscmVxdWVzdFRpbWU6T1swXStiWzBdLmNhcmRpbmFsaXR5LnZhbHVlKihUWzBdK2orQypQKX19fWUuQWN0b3JSZGZKb2luTXVsdGlCaW5kPXAscC5GQUNUT1JZPW5ldyB1LkZhY3Rvcnl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWJpbmQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktYmluZC9saWIvQWN0b3JSZGZKb2luTXVsdGlCaW5kLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWVtcHR5L2xpYi9BY3RvclJkZkpvaW5NdWx0aUVtcHR5LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luTXVsdGlFbXB0eT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxkPW4oImFzeW5jaXRlcmF0b3IiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IodSl7c3VwZXIodSx7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6Im11bHRpLWVtcHR5In0pfWFzeW5jIHRlc3QodSl7aWYoKGF3YWl0IG8uQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyh1LmVudHJpZXMpKS5ldmVyeShwPT5vLkFjdG9yUmRmSm9pbi5nZXRDYXJkaW5hbGl0eShwKS52YWx1ZT4wKSl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gb25seSBqb2luIGVudHJpZXMgd2hlcmUgYXQgbGVhc3Qgb25lIGlzIGVtcHR5YCk7cmV0dXJuIHN1cGVyLnRlc3QodSl9YXN5bmMgZ2V0T3V0cHV0KHUpe2Zvcihjb25zdCBwIG9mIHUuZW50cmllcylwLm91dHB1dC5iaW5kaW5nc1N0cmVhbS5jbG9zZSgpO3JldHVybntyZXN1bHQ6e2JpbmRpbmdzU3RyZWFtOm5ldyBkLkFycmF5SXRlcmF0b3IoW10se2F1dG9TdGFydDohMX0pLG1ldGFkYXRhOmFzeW5jKCk9Pih7Y2FyZGluYWxpdHk6e3R5cGU6ImV4YWN0Iix2YWx1ZTowfSxjYW5Db250YWluVW5kZWZzOiExLHZhcmlhYmxlczpvLkFjdG9yUmRmSm9pbi5qb2luVmFyaWFibGVzKGF3YWl0IG8uQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyh1LmVudHJpZXMpKX0pLHR5cGU6ImJpbmRpbmdzIn19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHModSxwKXtyZXR1cm57aXRlcmF0aW9uczowLHBlcnNpc3RlZEl0ZW1zOjAsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOjB9fX1lLkFjdG9yUmRmSm9pbk11bHRpRW1wdHk9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktZW1wdHkvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktZW1wdHkvbGliL0FjdG9yUmRmSm9pbk11bHRpRW1wdHkuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbXVsdGktc21hbGxlc3QvbGliL0FjdG9yUmRmSm9pbk11bHRpU21hbGxlc3QuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5NdWx0aVNtYWxsZXN0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpLGg9bigic3BhcnFsYWxnZWJyYWpzIik7Y2xhc3MgbCBleHRlbmRzIGQuQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHApe3N1cGVyKHAse2xvZ2ljYWxUeXBlOiJpbm5lciIscGh5c2ljYWxOYW1lOiJtdWx0aS1zbWFsbGVzdCIsbGltaXRFbnRyaWVzOjMsbGltaXRFbnRyaWVzTWluOiEwfSl9YXN5bmMgc29ydEpvaW5FbnRyaWVzKHAsZyl7cmV0dXJuKGF3YWl0IHRoaXMubWVkaWF0b3JKb2luRW50cmllc1NvcnQubWVkaWF0ZSh7ZW50cmllczpwLGNvbnRleHQ6Z30pKS5lbnRyaWVzfWFzeW5jIGdldE91dHB1dChwKXtjb25zdCBnPWF3YWl0IHRoaXMuc29ydEpvaW5FbnRyaWVzKGF3YWl0IGQuQWN0b3JSZGZKb2luLmdldEVudHJpZXNXaXRoTWV0YWRhdGFzKFsuLi5wLmVudHJpZXNdKSxwLmNvbnRleHQpLHY9Z1swXSxiPWdbMV07Zy5zcGxpY2UoMCwyKTtjb25zdCBfPXtvdXRwdXQ6by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmdldFNhZmVCaW5kaW5ncyhhd2FpdCB0aGlzLm1lZGlhdG9ySm9pbi5tZWRpYXRlKHt0eXBlOnAudHlwZSxlbnRyaWVzOlt2LGJdLGNvbnRleHQ6cC5jb250ZXh0fSkpLG9wZXJhdGlvbjpsLkZBQ1RPUlkuY3JlYXRlSm9pbihbdi5vcGVyYXRpb24sYi5vcGVyYXRpb25dLCExKX07cmV0dXJuIGcucHVzaChfKSx7cmVzdWx0OmF3YWl0IHRoaXMubWVkaWF0b3JKb2luLm1lZGlhdGUoe3R5cGU6cC50eXBlLGVudHJpZXM6Zyxjb250ZXh0OnAuY29udGV4dH0pfX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHAsZyl7Zz1bLi4uZ10sZz0oYXdhaXQgdGhpcy5zb3J0Sm9pbkVudHJpZXMocC5lbnRyaWVzLm1hcCgoTyxUKT0+KHsuLi5PLG1ldGFkYXRhOmdbVF19KSkscC5jb250ZXh0KSkubWFwKE89Pk8ubWV0YWRhdGEpO2NvbnN0IGI9ZC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEluaXRpYWxUaW1lcyhnKSxfPWQuQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJdGVtVGltZXMoZyk7cmV0dXJue2l0ZXJhdGlvbnM6Z1swXS5jYXJkaW5hbGl0eS52YWx1ZSpnWzFdLmNhcmRpbmFsaXR5LnZhbHVlKmcuc2xpY2UoMikucmVkdWNlKChPLFQpPT5PKlQuY2FyZGluYWxpdHkudmFsdWUsMSkscGVyc2lzdGVkSXRlbXM6MCxibG9ja2luZ0l0ZW1zOjAscmVxdWVzdFRpbWU6YlswXStnWzBdLmNhcmRpbmFsaXR5LnZhbHVlKl9bMF0rYlsxXStnWzFdLmNhcmRpbmFsaXR5LnZhbHVlKl9bMV0rZy5zbGljZSgyKS5yZWR1Y2UoKE8sVCxTKT0+TytiLnNsaWNlKDIpW1NdK1QuY2FyZGluYWxpdHkudmFsdWUqXy5zbGljZSgyKVtTXSwwKX19fWUuQWN0b3JSZGZKb2luTXVsdGlTbWFsbGVzdD1sLGwuRkFDVE9SWT1uZXcgaC5GYWN0b3J5fSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1zbWFsbGVzdC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1zbWFsbGVzdC9saWIvQWN0b3JSZGZKb2luTXVsdGlTbWFsbGVzdC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1uZXN0ZWRsb29wL2xpYi9BY3RvclJkZkpvaW5OZXN0ZWRMb29wLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luTmVzdGVkTG9vcD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IodSl7c3VwZXIodSx7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6Im5lc3RlZC1sb29wIixsaW1pdEVudHJpZXM6MixjYW5IYW5kbGVVbmRlZnM6ITB9KX1hc3luYyBnZXRPdXRwdXQodSl7cmV0dXJue3Jlc3VsdDp7dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOm5ldyBkLk5lc3RlZExvb3BKb2luKHUuZW50cmllc1swXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sdS5lbnRyaWVzWzFdLm91dHB1dC5iaW5kaW5nc1N0cmVhbSxvLkFjdG9yUmRmSm9pbi5qb2luQmluZGluZ3Mse2F1dG9TdGFydDohMX0pLG1ldGFkYXRhOmFzeW5jKCk9PmF3YWl0IHRoaXMuY29uc3RydWN0UmVzdWx0TWV0YWRhdGEodS5lbnRyaWVzLGF3YWl0IG8uQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyh1LmVudHJpZXMpLHUuY29udGV4dCl9fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHUscCl7Y29uc3QgZz1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKHApLHY9by5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhwKTtyZXR1cm57aXRlcmF0aW9uczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlKnBbMV0uY2FyZGluYWxpdHkudmFsdWUscGVyc2lzdGVkSXRlbXM6MCxibG9ja2luZ0l0ZW1zOjAscmVxdWVzdFRpbWU6Z1swXStwWzBdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMF0rZ1sxXStwWzFdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMV19fX1lLkFjdG9yUmRmSm9pbk5lc3RlZExvb3A9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbmVzdGVkbG9vcC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1uZXN0ZWRsb29wL2xpYi9BY3RvclJkZkpvaW5OZXN0ZWRMb29wLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW5vbmUvbGliL0FjdG9yUmRmSm9pbk5vbmUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5Ob25lPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpLGg9bigiYXN5bmNpdGVyYXRvciIpLGw9bmV3IG8uQmluZGluZ3NGYWN0b3J5O2NsYXNzIHUgZXh0ZW5kcyBkLkFjdG9yUmRmSm9pbntjb25zdHJ1Y3RvcihnKXtzdXBlcihnLHtsb2dpY2FsVHlwZToiaW5uZXIiLHBoeXNpY2FsTmFtZToibm9uZSIsbGltaXRFbnRyaWVzOjB9KX1hc3luYyB0ZXN0KGcpe2lmKGcuZW50cmllcy5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gb25seSBqb2luIHplcm8gZW50cmllc2ApO3JldHVybiBhd2FpdCB0aGlzLmdldEpvaW5Db2VmZmljaWVudHMoKX1hc3luYyBnZXRPdXRwdXQoZyl7cmV0dXJue3Jlc3VsdDp7YmluZGluZ3NTdHJlYW06bmV3IGguQXJyYXlJdGVyYXRvcihbbC5iaW5kaW5ncygpXSx7YXV0b1N0YXJ0OiExfSksbWV0YWRhdGE6KCk9PlByb21pc2UucmVzb2x2ZSh7Y2FyZGluYWxpdHk6e3R5cGU6ImV4YWN0Iix2YWx1ZToxfSxjYW5Db250YWluVW5kZWZzOiExLHZhcmlhYmxlczpbXX0pLHR5cGU6ImJpbmRpbmdzIn19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHMoKXtyZXR1cm57aXRlcmF0aW9uczowLHBlcnNpc3RlZEl0ZW1zOjAsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOjB9fX1lLkFjdG9yUmRmSm9pbk5vbmU9dX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbm9uZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1ub25lL2xpYi9BY3RvclJkZkpvaW5Ob25lLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLXNpbmdsZS9saWIvQWN0b3JSZGZKb2luU2luZ2xlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luU2luZ2xlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9yUmRmSm9pbntjb25zdHJ1Y3RvcihsKXtzdXBlcihsLHtsb2dpY2FsVHlwZToiaW5uZXIiLHBoeXNpY2FsTmFtZToic2luZ2xlIixsaW1pdEVudHJpZXM6MX0pLHRoaXMuaW5jbHVkZUluTG9ncz0hMX1hc3luYyB0ZXN0KGwpe2lmKGwuZW50cmllcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcihgQWN0b3IgJHt0aGlzLm5hbWV9IGNhbiBvbmx5IGpvaW4gYSBzaW5nbGUgZW50cnlgKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRKb2luQ29lZmZpY2llbnRzKCl9YXN5bmMgZ2V0T3V0cHV0KGwpe3JldHVybntyZXN1bHQ6bC5lbnRyaWVzWzBdLm91dHB1dH19YXN5bmMgZ2V0Sm9pbkNvZWZmaWNpZW50cygpe3JldHVybntpdGVyYXRpb25zOjAscGVyc2lzdGVkSXRlbXM6MCxibG9ja2luZ0l0ZW1zOjAscmVxdWVzdFRpbWU6MH19fWUuQWN0b3JSZGZKb2luU2luZ2xlPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLXNpbmdsZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1zaW5nbGUvbGliL0FjdG9yUmRmSm9pblNpbmdsZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1zeW1tZXRyaWNoYXNoL2xpYi9BY3RvclJkZkpvaW5TeW1tZXRyaWNIYXNoLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luU3ltbWV0cmljSGFzaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IodSl7c3VwZXIodSx7bG9naWNhbFR5cGU6ImlubmVyIixwaHlzaWNhbE5hbWU6InN5bW1ldHJpYy1oYXNoIixsaW1pdEVudHJpZXM6Mn0pfWFzeW5jIGdldE91dHB1dCh1KXtjb25zdCBwPWF3YWl0IG8uQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyh1LmVudHJpZXMpLGc9by5BY3RvclJkZkpvaW4ub3ZlcmxhcHBpbmdWYXJpYWJsZXMocCk7cmV0dXJue3Jlc3VsdDp7dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOm5ldyBkLlN5bW1ldHJpY0hhc2hKb2luKHUuZW50cmllc1swXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sdS5lbnRyaWVzWzFdLm91dHB1dC5iaW5kaW5nc1N0cmVhbSxiPT5oLmhhc2goYixnKSxvLkFjdG9yUmRmSm9pbi5qb2luQmluZGluZ3MpLG1ldGFkYXRhOmFzeW5jKCk9PmF3YWl0IHRoaXMuY29uc3RydWN0UmVzdWx0TWV0YWRhdGEodS5lbnRyaWVzLHAsdS5jb250ZXh0KX19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHModSxwKXtjb25zdCBnPW8uQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJbml0aWFsVGltZXMocCksdj1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SXRlbVRpbWVzKHApO3JldHVybntpdGVyYXRpb25zOnBbMF0uY2FyZGluYWxpdHkudmFsdWUrcFsxXS5jYXJkaW5hbGl0eS52YWx1ZSxwZXJzaXN0ZWRJdGVtczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlK3BbMV0uY2FyZGluYWxpdHkudmFsdWUsYmxvY2tpbmdJdGVtczowLHJlcXVlc3RUaW1lOmdbMF0rcFswXS5jYXJkaW5hbGl0eS52YWx1ZSp2WzBdK2dbMV0rcFsxXS5jYXJkaW5hbGl0eS52YWx1ZSp2WzFdfX19ZS5BY3RvclJkZkpvaW5TeW1tZXRyaWNIYXNoPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLXN5bW1ldHJpY2hhc2gvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItc3ltbWV0cmljaGFzaC9saWIvQWN0b3JSZGZKb2luU3ltbWV0cmljSGFzaC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoLXVuZGVmL2xpYi9BY3RvclJkZkpvaW5NaW51c0hhc2hVbmRlZi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbk1pbnVzSGFzaFVuZGVmPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoLXVuZGVmL2xpYi9CaW5kaW5nc0luZGV4LmpzIik7Y2xhc3MgbCBleHRlbmRzIGQuQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHApe3N1cGVyKHAse2xvZ2ljYWxUeXBlOiJtaW51cyIscGh5c2ljYWxOYW1lOiJoYXNoLXVuZGVmIixsaW1pdEVudHJpZXM6MixjYW5IYW5kbGVVbmRlZnM6ITB9KX1hc3luYyBnZXRPdXRwdXQocCl7Y29uc3QgZz1wLmVudHJpZXNbMV0ub3V0cHV0LHY9cC5lbnRyaWVzWzBdLm91dHB1dCxiPWF3YWl0IGQuQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyhwLmVudHJpZXMpLF89ZC5BY3RvclJkZkpvaW4ub3ZlcmxhcHBpbmdWYXJpYWJsZXMoYik7aWYoXy5sZW5ndGg+MCl7Y29uc3QgTz1uZXcgaC5CaW5kaW5nc0luZGV4KF8pO3JldHVybntyZXN1bHQ6e3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgby5DbG9zYWJsZVRyYW5zZm9ybUl0ZXJhdG9yKGFzeW5jKCk9Pihhd2FpdCBuZXcgUHJvbWlzZShTPT57Zy5iaW5kaW5nc1N0cmVhbS5vbigiZGF0YSIsTj0+Ty5hZGQoTikpLGcuYmluZGluZ3NTdHJlYW0ub24oImVuZCIsUyl9KSx2LmJpbmRpbmdzU3RyZWFtLmZpbHRlcihTPT4hTy5jb250YWlucyhTKSkpLHthdXRvU3RhcnQ6ITEsb25DbG9zZSgpe2cuYmluZGluZ3NTdHJlYW0uZGVzdHJveSgpLHYuYmluZGluZ3NTdHJlYW0uZGVzdHJveSgpfX0pLGFzeW5jIG1ldGFkYXRhKCl7Y29uc3QgUz1hd2FpdCB2Lm1ldGFkYXRhKCksTj1hd2FpdCB2Lm1ldGFkYXRhKCk7cmV0dXJuey4uLk4sY2FuQ29udGFpblVuZGVmczpTLmNhbkNvbnRhaW5VbmRlZnN8fE4uY2FuQ29udGFpblVuZGVmc319fX19cmV0dXJue3Jlc3VsdDp2fX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHAsZyl7Y29uc3Qgdj1kLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKGcpLGI9ZC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhnKTtyZXR1cm57aXRlcmF0aW9uczooZ1swXS5jYXJkaW5hbGl0eS52YWx1ZStnWzFdLmNhcmRpbmFsaXR5LnZhbHVlKSoxLjAxLHBlcnNpc3RlZEl0ZW1zOmdbMF0uY2FyZGluYWxpdHkudmFsdWUsYmxvY2tpbmdJdGVtczpnWzBdLmNhcmRpbmFsaXR5LnZhbHVlLHJlcXVlc3RUaW1lOnZbMF0rZ1swXS5jYXJkaW5hbGl0eS52YWx1ZSpiWzBdK3ZbMV0rZ1sxXS5jYXJkaW5hbGl0eS52YWx1ZSpiWzFdfX19ZS5BY3RvclJkZkpvaW5NaW51c0hhc2hVbmRlZj1sfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoLXVuZGVmL2xpYi9CaW5kaW5nc0luZGV4LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQmluZGluZ3NJbmRleD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCl7dGhpcy5kYXRhPXt9LHRoaXMua2V5cz1sfXN0YXRpYyBoYXNoVGVybShsKXtyZXR1cm4gbCYmbC50ZXJtVHlwZSE9PSJWYXJpYWJsZSI/KDAsby50ZXJtVG9TdHJpbmcpKGwpOiIifWFkZChsKXtpZih0aGlzLmlzQmluZGluZ3NWYWxpZChsKSl7bGV0IHU9dGhpcy5kYXRhO2Zvcihjb25zdCBwIG9mIHRoaXMua2V5cyl7Y29uc3QgZz1kLmhhc2hUZXJtKGwuZ2V0KHApKTtsZXQgdj11W2ddO3Z8fCh2PXVbZ109e30pLHU9dn19fWNvbnRhaW5zKGwpe3JldHVybiB0aGlzLmlzQmluZGluZ3NWYWxpZChsKT90aGlzLmNvbnRhaW5zUmVjdXJzaXZlKGwsdGhpcy5rZXlzLFt0aGlzLmRhdGFdKTohMX1pc0JpbmRpbmdzVmFsaWQobCl7bGV0IHU9ITE7Zm9yKGNvbnN0IHAgb2YgdGhpcy5rZXlzKWlmKGwuZ2V0KHApKXt1PSEwO2JyZWFrfXJldHVybiB1fWNvbnRhaW5zUmVjdXJzaXZlKGwsdSxwKXtpZih1Lmxlbmd0aD09PTApcmV0dXJuITA7bGV0IGc7W2csLi4udV09dTtmb3IoY29uc3QgdiBvZiBwKXtjb25zdCBiPWQuaGFzaFRlcm0obC5nZXQoZykpO2lmKGIpe2NvbnN0IF89W3ZbYl0sdlsiIl1dLmZpbHRlcihCb29sZWFuKTtpZihfLmxlbmd0aD09PTApY29udGludWU7aWYodGhpcy5jb250YWluc1JlY3Vyc2l2ZShsLHUsXykpcmV0dXJuITB9ZWxzZXtsZXQgXz1PYmplY3Qua2V5cyh2KS5tYXAoTz0+dltPXSk7aWYoXy5sZW5ndGg9PT0wJiYoXz1be31dKSx0aGlzLmNvbnRhaW5zUmVjdXJzaXZlKGwsdSxfKSlyZXR1cm4hMH19cmV0dXJuITF9fWUuQmluZGluZ3NJbmRleD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoLXVuZGVmL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW1pbnVzLWhhc2gtdW5kZWYvbGliL0FjdG9yUmRmSm9pbk1pbnVzSGFzaFVuZGVmLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW1pbnVzLWhhc2gvbGliL0FjdG9yUmRmSm9pbk1pbnVzSGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUmRmSm9pbk1pbnVzSGFzaD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvaW5kZXguanMiKTtjbGFzcyBoIGV4dGVuZHMgZC5BY3RvclJkZkpvaW57Y29uc3RydWN0b3IodSl7c3VwZXIodSx7bG9naWNhbFR5cGU6Im1pbnVzIixwaHlzaWNhbE5hbWU6Imhhc2giLGxpbWl0RW50cmllczoyfSl9YXN5bmMgZ2V0T3V0cHV0KHUpe2NvbnN0IHA9dS5lbnRyaWVzWzFdLm91dHB1dCxnPXUuZW50cmllc1swXS5vdXRwdXQsdj1hd2FpdCBkLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModS5lbnRyaWVzKSxiPWQuQWN0b3JSZGZKb2luLm92ZXJsYXBwaW5nVmFyaWFibGVzKHYpO2lmKGIubGVuZ3RoPjApe2NvbnN0IF89e307cmV0dXJue3Jlc3VsdDp7dHlwZToiYmluZGluZ3MiLGJpbmRpbmdzU3RyZWFtOm5ldyBvLkNsb3NhYmxlVHJhbnNmb3JtSXRlcmF0b3IoYXN5bmMoKT0+KGF3YWl0IG5ldyBQcm9taXNlKFQ9PntwLmJpbmRpbmdzU3RyZWFtLm9uKCJkYXRhIixTPT57X1tkLkFjdG9yUmRmSm9pbi5oYXNoKFMsYildPSEwfSkscC5iaW5kaW5nc1N0cmVhbS5vbigiZW5kIixUKX0pLGcuYmluZGluZ3NTdHJlYW0uZmlsdGVyKFQ9PiFfW2QuQWN0b3JSZGZKb2luLmhhc2goVCxiKV0pKSx7YXV0b1N0YXJ0OiExLG9uQ2xvc2UoKXtwLmJpbmRpbmdzU3RyZWFtLmRlc3Ryb3koKSxnLmJpbmRpbmdzU3RyZWFtLmRlc3Ryb3koKX19KSxtZXRhZGF0YTpnLm1ldGFkYXRhfX19cmV0dXJue3Jlc3VsdDpnfX1hc3luYyBnZXRKb2luQ29lZmZpY2llbnRzKHUscCl7Y29uc3QgZz1kLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKHApLHY9ZC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEl0ZW1UaW1lcyhwKTtyZXR1cm57aXRlcmF0aW9uczpwWzBdLmNhcmRpbmFsaXR5LnZhbHVlK3BbMV0uY2FyZGluYWxpdHkudmFsdWUscGVyc2lzdGVkSXRlbXM6cFswXS5jYXJkaW5hbGl0eS52YWx1ZSxibG9ja2luZ0l0ZW1zOnBbMF0uY2FyZGluYWxpdHkudmFsdWUscmVxdWVzdFRpbWU6Z1swXStwWzBdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMF0rZ1sxXStwWzFdLmNhcmRpbmFsaXR5LnZhbHVlKnZbMV19fX1lLkFjdG9yUmRmSm9pbk1pbnVzSGFzaD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW1pbnVzLWhhc2gvbGliL0FjdG9yUmRmSm9pbk1pbnVzSGFzaC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1vcHRpb25hbC1iaW5kL2xpYi9BY3RvclJkZkpvaW5PcHRpb25hbEJpbmQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5PcHRpb25hbEJpbmQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1iaW5kL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSx1PW4oInNwYXJxbGFsZ2VicmFqcyIpO2NsYXNzIHAgZXh0ZW5kcyBoLkFjdG9yUmRmSm9pbntjb25zdHJ1Y3Rvcih2KXtzdXBlcih2LHtsb2dpY2FsVHlwZToib3B0aW9uYWwiLHBoeXNpY2FsTmFtZToiYmluZCIsbGltaXRFbnRyaWVzOjIsY2FuSGFuZGxlVW5kZWZzOiEwfSl9YXN5bmMgZ2V0T3V0cHV0KHYpe3YuZW50cmllc1sxXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0uY2xvc2UoKTtjb25zdCBiPXYuY29udGV4dC5zZXQobC5LZXlzUXVlcnlPcGVyYXRpb24uam9pbkxlZnRNZXRhZGF0YSxhd2FpdCB2LmVudHJpZXNbMF0ub3V0cHV0Lm1ldGFkYXRhKCkpLnNldChsLktleXNRdWVyeU9wZXJhdGlvbi5qb2luUmlnaHRNZXRhZGF0YXMsW2F3YWl0IHYuZW50cmllc1sxXS5vdXRwdXQubWV0YWRhdGEoKV0pO3JldHVybntyZXN1bHQ6e3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpvLkFjdG9yUmRmSm9pbk11bHRpQmluZC5jcmVhdGVCaW5kU3RyZWFtKHRoaXMuYmluZE9yZGVyLHYuZW50cmllc1swXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sW3YuZW50cmllc1sxXS5vcGVyYXRpb25dLGFzeW5jKE8sVCk9Pntjb25zdCBTPU9bMF07cmV0dXJuIGQuQWN0b3JRdWVyeU9wZXJhdGlvbi5nZXRTYWZlQmluZGluZ3MoYXdhaXQgdGhpcy5tZWRpYXRvclF1ZXJ5T3BlcmF0aW9uLm1lZGlhdGUoe29wZXJhdGlvbjpTLGNvbnRleHQ6Yj8uc2V0KGwuS2V5c1F1ZXJ5T3BlcmF0aW9uLmpvaW5CaW5kaW5ncyxUKX0pKS5iaW5kaW5nc1N0cmVhbX0sITApLG1ldGFkYXRhOmFzeW5jKCk9PmF3YWl0IHRoaXMuY29uc3RydWN0UmVzdWx0TWV0YWRhdGEodi5lbnRyaWVzLGF3YWl0IGguQWN0b3JSZGZKb2luLmdldE1ldGFkYXRhcyh2LmVudHJpZXMpLHYuY29udGV4dCx7Y2FuQ29udGFpblVuZGVmczohMH0pfX19YXN5bmMgZ2V0Sm9pbkNvZWZmaWNpZW50cyh2LGIpe2NvbnN0IF89aC5BY3RvclJkZkpvaW4uZ2V0UmVxdWVzdEluaXRpYWxUaW1lcyhiKSxPPWguQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJdGVtVGltZXMoYik7aWYodi5lbnRyaWVzWzFdLm9wZXJhdGlvbi50eXBlPT09dS5BbGdlYnJhLnR5cGVzLkVYVEVORHx8di5lbnRyaWVzWzFdLm9wZXJhdGlvbi50eXBlPT09dS5BbGdlYnJhLnR5cGVzLkdST1VQKXRocm93IG5ldyBFcnJvcihgQWN0b3IgJHt0aGlzLm5hbWV9IGNhbiBub3QgYmluZCBvbiBFeHRlbmQgYW5kIEdyb3VwIG9wZXJhdGlvbnNgKTtjb25zdCBUPShhd2FpdCB0aGlzLm1lZGlhdG9ySm9pblNlbGVjdGl2aXR5Lm1lZGlhdGUoe2VudHJpZXM6di5lbnRyaWVzLGNvbnRleHQ6di5jb250ZXh0fSkpLnNlbGVjdGl2aXR5KnRoaXMuc2VsZWN0aXZpdHlNb2RpZmllcjtyZXR1cm57aXRlcmF0aW9uczpiWzBdLmNhcmRpbmFsaXR5LnZhbHVlKmJbMV0uY2FyZGluYWxpdHkudmFsdWUqVCxwZXJzaXN0ZWRJdGVtczowLGJsb2NraW5nSXRlbXM6MCxyZXF1ZXN0VGltZTpfWzBdK2JbMF0uY2FyZGluYWxpdHkudmFsdWUqVCooT1swXStfWzFdK2JbMV0uY2FyZGluYWxpdHkudmFsdWUqT1sxXSl9fX1lLkFjdG9yUmRmSm9pbk9wdGlvbmFsQmluZD1wfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1vcHRpb25hbC1iaW5kL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW9wdGlvbmFsLWJpbmQvbGliL0FjdG9yUmRmSm9pbk9wdGlvbmFsQmluZC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1vcHRpb25hbC1uZXN0ZWRsb29wL2xpYi9BY3RvclJkZkpvaW5PcHRpb25hbE5lc3RlZExvb3AuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5PcHRpb25hbE5lc3RlZExvb3A9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIG8uQWN0b3JSZGZKb2lue2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUse2xvZ2ljYWxUeXBlOiJvcHRpb25hbCIscGh5c2ljYWxOYW1lOiJuZXN0ZWQtbG9vcCIsbGltaXRFbnRyaWVzOjIsY2FuSGFuZGxlVW5kZWZzOiEwfSl9YXN5bmMgZ2V0T3V0cHV0KHUpe3JldHVybntyZXN1bHQ6e3R5cGU6ImJpbmRpbmdzIixiaW5kaW5nc1N0cmVhbTpuZXcgZC5OZXN0ZWRMb29wSm9pbih1LmVudHJpZXNbMF0ub3V0cHV0LmJpbmRpbmdzU3RyZWFtLHUuZW50cmllc1sxXS5vdXRwdXQuYmluZGluZ3NTdHJlYW0sby5BY3RvclJkZkpvaW4uam9pbkJpbmRpbmdzLHtvcHRpb25hbDohMCxhdXRvU3RhcnQ6ITF9KSxtZXRhZGF0YTphc3luYygpPT5hd2FpdCB0aGlzLmNvbnN0cnVjdFJlc3VsdE1ldGFkYXRhKHUuZW50cmllcyxhd2FpdCBvLkFjdG9yUmRmSm9pbi5nZXRNZXRhZGF0YXModS5lbnRyaWVzKSx1LmNvbnRleHQse2NhbkNvbnRhaW5VbmRlZnM6ITB9KX19fWFzeW5jIGdldEpvaW5Db2VmZmljaWVudHModSxwKXtjb25zdCBnPW8uQWN0b3JSZGZKb2luLmdldFJlcXVlc3RJbml0aWFsVGltZXMocCksdj1vLkFjdG9yUmRmSm9pbi5nZXRSZXF1ZXN0SXRlbVRpbWVzKHApO3JldHVybntpdGVyYXRpb25zOnBbMF0uY2FyZGluYWxpdHkudmFsdWUqcFsxXS5jYXJkaW5hbGl0eS52YWx1ZSxwZXJzaXN0ZWRJdGVtczowLGJsb2NraW5nSXRlbXM6MCxyZXF1ZXN0VGltZTpnWzBdK3BbMF0uY2FyZGluYWxpdHkudmFsdWUqdlswXStnWzFdK3BbMV0uY2FyZGluYWxpdHkudmFsdWUqdlsxXX19fWUuQWN0b3JSZGZKb2luT3B0aW9uYWxOZXN0ZWRMb29wPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLW9wdGlvbmFsLW5lc3RlZGxvb3AvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tb3B0aW9uYWwtbmVzdGVkbG9vcC9saWIvQWN0b3JSZGZKb2luT3B0aW9uYWxOZXN0ZWRMb29wLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLXNlbGVjdGl2aXR5LXZhcmlhYmxlLWNvdW50aW5nL2xpYi9BY3RvclJkZkpvaW5TZWxlY3Rpdml0eVZhcmlhYmxlQ291bnRpbmcuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Kb2luVHlwZXM9ZS5BY3RvclJkZkpvaW5TZWxlY3Rpdml0eVZhcmlhYmxlQ291bnRpbmc9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4tc2VsZWN0aXZpdHkvbGliL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZkpvaW5TZWxlY3Rpdml0eXtjb25zdHJ1Y3RvcihwKXtzdXBlcihwKX1hc3luYyB0ZXN0KHApe3JldHVybnthY2N1cmFjeTouNX19c3RhdGljIGdldFBhdHRlcm5Db3N0KHApe2xldCBnPTE7cmV0dXJuIHAuc3ViamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJihnKz00KSwocC5wcmVkaWNhdGUudGVybVR5cGU9PT0iVmFyaWFibGUifHxwLnR5cGU9PT1kLkFsZ2VicmEudHlwZXMuUEFUSCkmJihnKz0xKSxwLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSImJihnKz0yKSxwLmdyYXBoLnRlcm1UeXBlPT09IlZhcmlhYmxlIiYmKGcrPTEpLGcvOX1zdGF0aWMgZ2V0Sm9pblR5cGVzKHAsZyl7Y29uc3Qgdj1bXTtyZXR1cm4gcC5zdWJqZWN0LnRlcm1UeXBlPT09IlZhcmlhYmxlIj8ocC5zdWJqZWN0LmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC51bmJvdW5kU1MpLGcudHlwZT09PSJwYXR0ZXJuIiYmcC5zdWJqZWN0LmVxdWFscyhnLnByZWRpY2F0ZSkmJnYucHVzaChsLnVuYm91bmRTUCkscC5zdWJqZWN0LmVxdWFscyhnLm9iamVjdCkmJnYucHVzaChsLnVuYm91bmRTTykscC5zdWJqZWN0LmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwudW5ib3VuZFNHKSk6KHAuc3ViamVjdC5lcXVhbHMoZy5zdWJqZWN0KSYmdi5wdXNoKGwuYm91bmRTUyksZy50eXBlPT09InBhdHRlcm4iJiZwLnN1YmplY3QuZXF1YWxzKGcucHJlZGljYXRlKSYmdi5wdXNoKGwuYm91bmRTUCkscC5zdWJqZWN0LmVxdWFscyhnLm9iamVjdCkmJnYucHVzaChsLmJvdW5kU08pLHAuc3ViamVjdC5lcXVhbHMoZy5ncmFwaCkmJnYucHVzaChsLmJvdW5kU0cpKSxwLnR5cGU9PT0icGF0dGVybiImJihwLnByZWRpY2F0ZS50ZXJtVHlwZT09PSJWYXJpYWJsZSI/KHAucHJlZGljYXRlLmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC51bmJvdW5kUFMpLGcudHlwZT09PSJwYXR0ZXJuIiYmcC5wcmVkaWNhdGUuZXF1YWxzKGcucHJlZGljYXRlKSYmdi5wdXNoKGwudW5ib3VuZFBQKSxwLnByZWRpY2F0ZS5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC51bmJvdW5kUE8pLHAucHJlZGljYXRlLmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwudW5ib3VuZFBHKSk6KHAucHJlZGljYXRlLmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC5ib3VuZFBTKSxnLnR5cGU9PT0icGF0dGVybiImJnAucHJlZGljYXRlLmVxdWFscyhnLnByZWRpY2F0ZSkmJnYucHVzaChsLmJvdW5kUFApLHAucHJlZGljYXRlLmVxdWFscyhnLm9iamVjdCkmJnYucHVzaChsLmJvdW5kUE8pLHAucHJlZGljYXRlLmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwuYm91bmRQRykpKSxwLm9iamVjdC50ZXJtVHlwZT09PSJWYXJpYWJsZSI/KHAub2JqZWN0LmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC51bmJvdW5kT1MpLGcudHlwZT09PSJwYXR0ZXJuIiYmcC5vYmplY3QuZXF1YWxzKGcucHJlZGljYXRlKSYmdi5wdXNoKGwudW5ib3VuZE9QKSxwLm9iamVjdC5lcXVhbHMoZy5vYmplY3QpJiZ2LnB1c2gobC51bmJvdW5kT08pLHAub2JqZWN0LmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwudW5ib3VuZE9HKSk6KHAub2JqZWN0LmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC5ib3VuZE9TKSxnLnR5cGU9PT0icGF0dGVybiImJnAub2JqZWN0LmVxdWFscyhnLnByZWRpY2F0ZSkmJnYucHVzaChsLmJvdW5kT1ApLHAub2JqZWN0LmVxdWFscyhnLm9iamVjdCkmJnYucHVzaChsLmJvdW5kT08pLHAub2JqZWN0LmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwuYm91bmRPRykpLHAuZ3JhcGgudGVybVR5cGU9PT0iVmFyaWFibGUiPyhwLmdyYXBoLmVxdWFscyhnLnN1YmplY3QpJiZ2LnB1c2gobC51bmJvdW5kR1MpLGcudHlwZT09PSJwYXR0ZXJuIiYmcC5ncmFwaC5lcXVhbHMoZy5wcmVkaWNhdGUpJiZ2LnB1c2gobC51bmJvdW5kR1ApLHAuZ3JhcGguZXF1YWxzKGcub2JqZWN0KSYmdi5wdXNoKGwudW5ib3VuZEdPKSxwLmdyYXBoLmVxdWFscyhnLmdyYXBoKSYmdi5wdXNoKGwudW5ib3VuZEdHKSk6KHAuZ3JhcGguZXF1YWxzKGcuc3ViamVjdCkmJnYucHVzaChsLmJvdW5kR1MpLGcudHlwZT09PSJwYXR0ZXJuIiYmcC5ncmFwaC5lcXVhbHMoZy5wcmVkaWNhdGUpJiZ2LnB1c2gobC5ib3VuZEdQKSxwLmdyYXBoLmVxdWFscyhnLm9iamVjdCkmJnYucHVzaChsLmJvdW5kR08pLHAuZ3JhcGguZXF1YWxzKGcuZ3JhcGgpJiZ2LnB1c2gobC5ib3VuZEdHKSksdn1zdGF0aWMgZ2V0T3BlcmF0aW9uc1BhaXJ3aXNlSm9pbkNvc3QocCxnKXtsZXQgdj1oLk1BWF9QQUlSV0lTRV9DT1NUO2Zvcihjb25zdCBiIG9mIGguZ2V0Sm9pblR5cGVzKHAsZykpc3dpdGNoKGIpe2Nhc2UgbC5ib3VuZFNTOnYtPTIqMjticmVhaztjYXNlIGwuYm91bmRTUDp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kU086di09MSoyO2JyZWFrO2Nhc2UgbC5ib3VuZFNHOnYtPTMqMjticmVhaztjYXNlIGwuYm91bmRQUzp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kUFA6cmV0dXJuIDE7Y2FzZSBsLmJvdW5kUE86di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZFBHOnYtPTMqMjticmVhaztjYXNlIGwuYm91bmRPUzp2LT0xKjI7YnJlYWs7Y2FzZSBsLmJvdW5kT1A6di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZE9POnYtPTEqMjticmVhaztjYXNlIGwuYm91bmRPRzp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kR1M6di09MyoyO2JyZWFrO2Nhc2UgbC5ib3VuZEdQOnYtPTMqMjticmVhaztjYXNlIGwuYm91bmRHTzp2LT0zKjI7YnJlYWs7Y2FzZSBsLmJvdW5kR0c6di09MyoyO2JyZWFrO2Nhc2UgbC51bmJvdW5kU1M6di09MjticmVhaztjYXNlIGwudW5ib3VuZFNQOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRTTzp2LT0xO2JyZWFrO2Nhc2UgbC51bmJvdW5kU0c6di09MzticmVhaztjYXNlIGwudW5ib3VuZFBTOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRQUDp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kUE86di09MzticmVhaztjYXNlIGwudW5ib3VuZFBHOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRPUzp2LT0xO2JyZWFrO2Nhc2UgbC51bmJvdW5kT1A6di09MzticmVhaztjYXNlIGwudW5ib3VuZE9POnYtPTE7YnJlYWs7Y2FzZSBsLnVuYm91bmRPRzp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kR1M6di09MzticmVhaztjYXNlIGwudW5ib3VuZEdQOnYtPTM7YnJlYWs7Y2FzZSBsLnVuYm91bmRHTzp2LT0zO2JyZWFrO2Nhc2UgbC51bmJvdW5kR0c6di09MzticmVha31yZXR1cm4gdi9oLk1BWF9QQUlSV0lTRV9DT1NUfXN0YXRpYyBnZXRPcGVyYXRpb25zSm9pbkNvc3QocCl7Y29uc3QgZz1bXTtmb3IoY29uc3QgXyBvZiBwKWQuVXRpbC5yZWN1cnNlT3BlcmF0aW9uKF8se1tkLkFsZ2VicmEudHlwZXMuUEFUVEVSTl0oTyl7cmV0dXJuIGcucHVzaChPKSwhMX0sW2QuQWxnZWJyYS50eXBlcy5QQVRIXShPKXtyZXR1cm4gZy5wdXNoKE8pLCExfX0pO2xldCB2PTAsYj0wO2Zvcihjb25zdCBfIG9mIGcpZm9yKGNvbnN0IE8gb2YgZylfIT09TyYmKHYrPWguZ2V0T3BlcmF0aW9uc1BhaXJ3aXNlSm9pbkNvc3QoXyxPKSxiKyspO3JldHVybiB2L2IqZy5yZWR1Y2UoKF8sTyk9Pl8qaC5nZXRQYXR0ZXJuQ29zdChPKSwxKX1hc3luYyBydW4ocCl7cmV0dXJuIHAuZW50cmllcy5sZW5ndGg8PTE/e3NlbGVjdGl2aXR5OjF9OntzZWxlY3Rpdml0eTpoLmdldE9wZXJhdGlvbnNKb2luQ29zdChwLmVudHJpZXMubWFwKGc9Pmcub3BlcmF0aW9uKSl9fX1lLkFjdG9yUmRmSm9pblNlbGVjdGl2aXR5VmFyaWFibGVDb3VudGluZz1oLGguTUFYX1BBSVJXSVNFX0NPU1Q9NDEqMjt2YXIgbDsoZnVuY3Rpb24odSl7dVt1LmJvdW5kU1M9MF09ImJvdW5kU1MiLHVbdS5ib3VuZFNQPTFdPSJib3VuZFNQIix1W3UuYm91bmRTTz0yXT0iYm91bmRTTyIsdVt1LmJvdW5kU0c9M109ImJvdW5kU0ciLHVbdS5ib3VuZFBTPTRdPSJib3VuZFBTIix1W3UuYm91bmRQUD01XT0iYm91bmRQUCIsdVt1LmJvdW5kUE89Nl09ImJvdW5kUE8iLHVbdS5ib3VuZFBHPTddPSJib3VuZFBHIix1W3UuYm91bmRPUz04XT0iYm91bmRPUyIsdVt1LmJvdW5kT1A9OV09ImJvdW5kT1AiLHVbdS5ib3VuZE9PPTEwXT0iYm91bmRPTyIsdVt1LmJvdW5kT0c9MTFdPSJib3VuZE9HIix1W3UuYm91bmRHUz0xMl09ImJvdW5kR1MiLHVbdS5ib3VuZEdQPTEzXT0iYm91bmRHUCIsdVt1LmJvdW5kR089MTRdPSJib3VuZEdPIix1W3UuYm91bmRHRz0xNV09ImJvdW5kR0ciLHVbdS51bmJvdW5kU1M9MTZdPSJ1bmJvdW5kU1MiLHVbdS51bmJvdW5kU1A9MTddPSJ1bmJvdW5kU1AiLHVbdS51bmJvdW5kU089MThdPSJ1bmJvdW5kU08iLHVbdS51bmJvdW5kU0c9MTldPSJ1bmJvdW5kU0ciLHVbdS51bmJvdW5kUFM9MjBdPSJ1bmJvdW5kUFMiLHVbdS51bmJvdW5kUFA9MjFdPSJ1bmJvdW5kUFAiLHVbdS51bmJvdW5kUE89MjJdPSJ1bmJvdW5kUE8iLHVbdS51bmJvdW5kUEc9MjNdPSJ1bmJvdW5kUEciLHVbdS51bmJvdW5kT1M9MjRdPSJ1bmJvdW5kT1MiLHVbdS51bmJvdW5kT1A9MjVdPSJ1bmJvdW5kT1AiLHVbdS51bmJvdW5kT089MjZdPSJ1bmJvdW5kT08iLHVbdS51bmJvdW5kT0c9MjddPSJ1bmJvdW5kT0ciLHVbdS51bmJvdW5kR1M9MjhdPSJ1bmJvdW5kR1MiLHVbdS51bmJvdW5kR1A9MjldPSJ1bmJvdW5kR1AiLHVbdS51bmJvdW5kR089MzBdPSJ1bmJvdW5kR08iLHVbdS51bmJvdW5kR0c9MzFdPSJ1bmJvdW5kR0cifSkobD1lLkpvaW5UeXBlc3x8KGUuSm9pblR5cGVzPXt9KSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLXNlbGVjdGl2aXR5LXZhcmlhYmxlLWNvdW50aW5nL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLXNlbGVjdGl2aXR5LXZhcmlhYmxlLWNvdW50aW5nL2xpYi9BY3RvclJkZkpvaW5TZWxlY3Rpdml0eVZhcmlhYmxlQ291bnRpbmcuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLWZlZGVyYXRlZC9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5GZWRlcmF0ZWQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVybkZlZGVyYXRlZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL0ZlZGVyYXRlZFF1YWRTb3VyY2UuanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVyblNvdXJjZXtjb25zdHJ1Y3Rvcih1KXtzdXBlcih1KSx0aGlzLmVtcHR5UGF0dGVybnM9bmV3IE1hcH1hc3luYyB0ZXN0KHUpe2lmKCEoMCxvLmdldENvbnRleHRTb3VyY2VzKSh1LmNvbnRleHQpKXRocm93IG5ldyBFcnJvcihgQWN0b3IgJHt0aGlzLm5hbWV9IGNhbiBvbmx5IHJlc29sdmUgcXVhZCBwYXR0ZXJuIHF1ZXJpZXMgYWdhaW5zdCBhIHNvdXJjZXMgYXJyYXkuYCk7cmV0dXJuITB9YXN5bmMgZ2V0U291cmNlKHUpe3JldHVybiBuZXcgZC5GZWRlcmF0ZWRRdWFkU291cmNlKHRoaXMubWVkaWF0b3JSZXNvbHZlUXVhZFBhdHRlcm4sdSx0aGlzLmVtcHR5UGF0dGVybnMsdGhpcy5za2lwRW1wdHlQYXR0ZXJucyl9fWUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5GZWRlcmF0ZWQ9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLWZlZGVyYXRlZC9saWIvRmVkZXJhdGVkUXVhZFNvdXJjZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkZlZGVyYXRlZFF1YWRTb3VyY2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2RhdGEtZmFjdG9yeS9saWIvaW5kZXguanMiKSx1PW4oImFzeW5jaXRlcmF0b3IiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksZz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXRlcm1zL2luZGV4LmpzIiksdj1uKCJzcGFycWxhbGdlYnJhanMiKSxiPW5ldyBwLkRhdGFGYWN0b3J5O2NsYXNzIF97Y29uc3RydWN0b3IoVCxTLE4sQil7aWYodGhpcy5tZWRpYXRvclJlc29sdmVRdWFkUGF0dGVybj1ULHRoaXMuc291cmNlcz1TLmdldChoLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcyksdGhpcy5jb250ZXh0RGVmYXVsdD1TLmRlbGV0ZShoLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcyksdGhpcy5lbXB0eVBhdHRlcm5zPU4sdGhpcy5zb3VyY2VJZHM9Uy5nZXQoaC5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZUlkcyk/P25ldyBNYXAsdGhpcy5za2lwRW1wdHlQYXR0ZXJucz1CLHRoaXMuYWxnZWJyYUZhY3Rvcnk9bmV3IHYuRmFjdG9yeSx0aGlzLnNraXBFbXB0eVBhdHRlcm5zKWZvcihjb25zdCBMIG9mIHRoaXMuc291cmNlcyl0aGlzLmVtcHR5UGF0dGVybnMuaGFzKEwpfHx0aGlzLmVtcHR5UGF0dGVybnMuc2V0KEwsW10pfXN0YXRpYyBpc1Rlcm1Cb3VuZChUKXtyZXR1cm4gVC50ZXJtVHlwZSE9PSJWYXJpYWJsZSJ9c3RhdGljIGlzU3ViUGF0dGVybk9mKFQsUyl7cmV0dXJuKCFfLmlzVGVybUJvdW5kKFMuc3ViamVjdCl8fFMuc3ViamVjdC5lcXVhbHMoVC5zdWJqZWN0KSkmJighXy5pc1Rlcm1Cb3VuZChTLnByZWRpY2F0ZSl8fFMucHJlZGljYXRlLmVxdWFscyhULnByZWRpY2F0ZSkpJiYoIV8uaXNUZXJtQm91bmQoUy5vYmplY3QpfHxTLm9iamVjdC5lcXVhbHMoVC5vYmplY3QpKSYmKCFfLmlzVGVybUJvdW5kKFMuZ3JhcGgpfHxTLmdyYXBoLmVxdWFscyhULmdyYXBoKSl9c3RhdGljIHNrb2xlbWl6ZVRlcm0oVCxTKXtyZXR1cm4gVC50ZXJtVHlwZT09PSJCbGFua05vZGUiP25ldyBsLkJsYW5rTm9kZVNjb3BlZChgYmNfJHtTfV8ke1QudmFsdWV9YCxiLm5hbWVkTm9kZShgJHtfLlNLT0xFTV9QUkVGSVh9JHtTfToke1QudmFsdWV9YCkpOlR9c3RhdGljIHNrb2xlbWl6ZVF1YWQoVCxTKXtyZXR1cm4oMCxnLm1hcFRlcm1zKShULE49Pl8uc2tvbGVtaXplVGVybShOLFMpKX1zdGF0aWMgZGVza29sZW1pemVUZXJtKFQsUyl7aWYoVC50ZXJtVHlwZT09PSJCbGFua05vZGUiJiYic2tvbGVtaXplZCJpbiBUJiYoVD1ULnNrb2xlbWl6ZWQpLFQudGVybVR5cGU9PT0iTmFtZWROb2RlIiYmVC52YWx1ZS5zdGFydHNXaXRoKF8uU0tPTEVNX1BSRUZJWCkpe2NvbnN0IE49VC52YWx1ZS5pbmRleE9mKCI6IixfLlNLT0xFTV9QUkVGSVgubGVuZ3RoKTtpZihULnZhbHVlLnNsaWNlKF8uU0tPTEVNX1BSRUZJWC5sZW5ndGgsTik9PT1TKXtjb25zdCBMPVQudmFsdWUuc2xpY2UoTisxLFQudmFsdWUubGVuZ3RoKTtyZXR1cm4gYi5ibGFua05vZGUoTCl9cmV0dXJuIG51bGx9cmV0dXJuIFR9c3RhdGljIGRlc2tvbGVtaXplUXVhZChULFMpe3JldHVybigwLGcubWFwVGVybXMpKFQsTj0+e2NvbnN0IEI9Xy5kZXNrb2xlbWl6ZVRlcm0oTixTKTtyZXR1cm4gQnx8Tn0pfWlzU291cmNlRW1wdHkoVCxTKXtpZighdGhpcy5za2lwRW1wdHlQYXR0ZXJucylyZXR1cm4hMTtjb25zdCBOPXRoaXMuZW1wdHlQYXR0ZXJucy5nZXQoVCk7aWYoTil7Zm9yKGNvbnN0IEIgb2YgTilpZihfLmlzU3ViUGF0dGVybk9mKFMsQikpcmV0dXJuITB9cmV0dXJuITF9Z2V0U291cmNlSWQoVCl7bGV0IFM9dGhpcy5zb3VyY2VJZHMuZ2V0KFQpO3JldHVybiBTPT09dm9pZCAwJiYoUz1gJHt0aGlzLnNvdXJjZUlkcy5zaXplfWAsdGhpcy5zb3VyY2VJZHMuc2V0KFQsUykpLFN9bWF0Y2goVCxTLE4sQil7Y29uc3QgTD17Y2FyZGluYWxpdHk6e3R5cGU6ImV4YWN0Iix2YWx1ZTowfSxjYW5Db250YWluVW5kZWZzOiExfTtsZXQgQz10aGlzLnNvdXJjZXMubGVuZ3RoO2NvbnN0IGo9KGssSixhZSxYKT0+e3RoaXMuc2tpcEVtcHR5UGF0dGVybnMmJiFrJiZhZSYmIXRoaXMuaXNTb3VyY2VFbXB0eShKLGFlKSYmdGhpcy5lbXB0eVBhdHRlcm5zLmdldChKKS5wdXNoKGFlKSxDfHwoWCYmdGhpcy5zb3VyY2VzLmxlbmd0aD09PTE/Ri5zZXRQcm9wZXJ0eSgibWV0YWRhdGEiLFgpOkYuc2V0UHJvcGVydHkoIm1ldGFkYXRhIixMKSl9LFA9UHJvbWlzZS5hbGwodGhpcy5zb3VyY2VzLm1hcChhc3luYyBrPT57Y29uc3QgSj10aGlzLmdldFNvdXJjZUlkKGspLGFlPV8uZGVza29sZW1pemVUZXJtKFQsSiksWD1fLmRlc2tvbGVtaXplVGVybShTLEopLEc9Xy5kZXNrb2xlbWl6ZVRlcm0oTixKKSxyZT1fLmRlc2tvbGVtaXplVGVybShCLEopO2xldCBNLCQ9KDAsZC5nZXREYXRhU291cmNlQ29udGV4dCkoayx0aGlzLmNvbnRleHREZWZhdWx0KTskPSQuc2V0KGguS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2Usayk7bGV0IFU7IWFlfHwhWHx8IUd8fCFyZXx8dGhpcy5pc1NvdXJjZUVtcHR5KGssTT10aGlzLmFsZ2VicmFGYWN0b3J5LmNyZWF0ZVBhdHRlcm4oYWUsWCxHLHJlKSk/KFU9e2RhdGE6bmV3IHUuQXJyYXlJdGVyYXRvcihbXSx7YXV0b1N0YXJ0OiExfSl9LFUuZGF0YS5zZXRQcm9wZXJ0eSgibWV0YWRhdGEiLHtjYXJkaW5hbGl0eTowLGNhbkNvbnRhaW5VbmRlZnM6ITF9KSk6VT1hd2FpdCB0aGlzLm1lZGlhdG9yUmVzb2x2ZVF1YWRQYXR0ZXJuLm1lZGlhdGUoe3BhdHRlcm46TSxjb250ZXh0OiR9KSxVLmRhdGEuZ2V0UHJvcGVydHkoIm1ldGFkYXRhIixlZT0+eyFlZS5jYXJkaW5hbGl0eXx8IU51bWJlci5pc0Zpbml0ZShlZS5jYXJkaW5hbGl0eS52YWx1ZSk/KEwuY2FyZGluYWxpdHkudHlwZT0iZXN0aW1hdGUiLEwuY2FyZGluYWxpdHkudmFsdWU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLEM9MCk6KGVlLmNhcmRpbmFsaXR5LnR5cGU9PT0iZXN0aW1hdGUiJiYoTC5jYXJkaW5hbGl0eS50eXBlPSJlc3RpbWF0ZSIpLEwuY2FyZGluYWxpdHkudmFsdWUrPWVlLmNhcmRpbmFsaXR5LnZhbHVlLEMtLSksKEwucmVxdWVzdFRpbWV8fGVlLnJlcXVlc3RUaW1lKSYmKEwucmVxdWVzdFRpbWU9TC5yZXF1ZXN0VGltZXx8MCxlZS5yZXF1ZXN0VGltZT1lZS5yZXF1ZXN0VGltZXx8MCxMLnJlcXVlc3RUaW1lKz1lZS5yZXF1ZXN0VGltZSksKEwucGFnZVNpemV8fGVlLnBhZ2VTaXplKSYmKEwucGFnZVNpemU9TC5wYWdlU2l6ZXx8MCxlZS5wYWdlU2l6ZT1lZS5wYWdlU2l6ZXx8MCxMLnBhZ2VTaXplKz1lZS5wYWdlU2l6ZSksZWUuY2FuQ29udGFpblVuZGVmcyYmKEwuY2FuQ29udGFpblVuZGVmcz0hMCksaihMLmNhcmRpbmFsaXR5LnZhbHVlLGssTSxlZSl9KTtjb25zdCBIPVUuZGF0YS5tYXAoZWU9Pl8uc2tvbGVtaXplUXVhZChlZSxKKSk7cmV0dXJuIEgub24oImVycm9yIixlZT0+Ri5lbWl0KCJlcnJvciIsZWUpKSxIfSkpLEY9bmV3IG8uQ2xvc2FibGVUcmFuc2Zvcm1JdGVyYXRvcihhc3luYygpPT5uZXcgdS5Vbmlvbkl0ZXJhdG9yKGF3YWl0IFApLHthdXRvU3RhcnQ6ITEsb25DbG9zZSgpe1AudGhlbihrPT57Zm9yKGNvbnN0IEogb2YgaylKLmRlc3Ryb3koKX0sKCk9Pnt9KX19KTtyZXR1cm4gdGhpcy5zb3VyY2VzLmxlbmd0aD09PTAmJkYuc2V0UHJvcGVydHkoIm1ldGFkYXRhIixMKSxGfX1lLkZlZGVyYXRlZFF1YWRTb3VyY2U9XyxfLlNLT0xFTV9QUkVGSVg9InVybjpjb211bmljYV9za29sZW06c291cmNlXyJ9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLWZlZGVyYXRlZC9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5GZWRlcmF0ZWQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLWZlZGVyYXRlZC9saWIvRmVkZXJhdGVkUXVhZFNvdXJjZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tcmRmanMtc291cmNlL2xpYi9BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVyblJkZkpzU291cmNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5SZGZKc1NvdXJjZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1yZGZqcy1zb3VyY2UvbGliL1JkZkpzUXVhZFNvdXJjZS5qcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuU291cmNle2NvbnN0cnVjdG9yKHUpe3N1cGVyKHUpfWFzeW5jIHRlc3QodSl7aWYoISgwLG8uaGFzQ29udGV4dFNpbmdsZVNvdXJjZU9mVHlwZSkoInJkZmpzU291cmNlIix1LmNvbnRleHQpKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IHJlcXVpcmVzIGEgc2luZ2xlIHNvdXJjZSB3aXRoIGFuIHJkZmpzU291cmNlIHRvIGJlIHByZXNlbnQgaW4gdGhlIGNvbnRleHQuYCk7Y29uc3QgcD0oMCxvLmdldENvbnRleHRTb3VyY2UpKHUuY29udGV4dCk7aWYoIXB8fHR5cGVvZiBwPT0ic3RyaW5nInx8ISgibWF0Y2giaW4gcCkmJiFwLnZhbHVlLm1hdGNoKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IHJlY2VpdmVkIGFuIGludmFsaWQgcmRmanNTb3VyY2UuYCk7cmV0dXJuITB9YXN5bmMgZ2V0U291cmNlKHUpe2NvbnN0IHA9KDAsby5nZXRDb250ZXh0U291cmNlKSh1KTtyZXR1cm4gbmV3IGQuUmRmSnNRdWFkU291cmNlKCJtYXRjaCJpbiBwP3A6cC52YWx1ZSl9fWUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5SZGZKc1NvdXJjZT1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tcmRmanMtc291cmNlL2xpYi9JUmRmSnNTb3VyY2VFeHRlbmRlZC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1yZGZqcy1zb3VyY2UvbGliL1JkZkpzUXVhZFNvdXJjZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlJkZkpzUXVhZFNvdXJjZT12b2lkIDA7Y29uc3Qgbz1uKCJhc3luY2l0ZXJhdG9yIik7Y2xhc3MgZHtjb25zdHJ1Y3RvcihsKXt0aGlzLnNvdXJjZT1sfXN0YXRpYyBudWxsaWZ5VmFyaWFibGVzKGwpe3JldHVybiFsfHxsLnRlcm1UeXBlPT09IlZhcmlhYmxlIj92b2lkIDA6bH1tYXRjaChsLHUscCxnKXtjb25zdCB2PXRoaXMuc291cmNlLm1hdGNoKGQubnVsbGlmeVZhcmlhYmxlcyhsKSxkLm51bGxpZnlWYXJpYWJsZXModSksZC5udWxsaWZ5VmFyaWFibGVzKHApLGQubnVsbGlmeVZhcmlhYmxlcyhnKSksYj0oMCxvLndyYXApKHYse2F1dG9TdGFydDohMX0pO3JldHVybiB0aGlzLnNldE1ldGFkYXRhKGIsbCx1LHAsZykuY2F0Y2goXz0+Yi5kZXN0cm95KF8pKSxifWFzeW5jIHNldE1ldGFkYXRhKGwsdSxwLGcsdil7bGV0IGI7aWYodGhpcy5zb3VyY2UuY291bnRRdWFkcyliPWF3YWl0IHRoaXMuc291cmNlLmNvdW50UXVhZHMoZC5udWxsaWZ5VmFyaWFibGVzKHUpLGQubnVsbGlmeVZhcmlhYmxlcyhwKSxkLm51bGxpZnlWYXJpYWJsZXMoZyksZC5udWxsaWZ5VmFyaWFibGVzKHYpKTtlbHNle2xldCBfPTA7Yj1hd2FpdCBuZXcgUHJvbWlzZSgoTyxUKT0+e2NvbnN0IFM9dGhpcy5zb3VyY2UubWF0Y2goZC5udWxsaWZ5VmFyaWFibGVzKHUpLGQubnVsbGlmeVZhcmlhYmxlcyhwKSxkLm51bGxpZnlWYXJpYWJsZXMoZyksZC5udWxsaWZ5VmFyaWFibGVzKHYpKTtTLm9uKCJlcnJvciIsVCksUy5vbigiZW5kIiwoKT0+TyhfKSksUy5vbigiZGF0YSIsKCk9Pl8rKyl9KX1sLnNldFByb3BlcnR5KCJtZXRhZGF0YSIse2NhcmRpbmFsaXR5Ont0eXBlOiJleGFjdCIsdmFsdWU6Yn0sY2FuQ29udGFpblVuZGVmczohMX0pfX1lLlJkZkpzUXVhZFNvdXJjZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4tcmRmanMtc291cmNlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1yZGZqcy1zb3VyY2UvbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuUmRmSnNTb3VyY2UuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLXJkZmpzLXNvdXJjZS9saWIvSVJkZkpzU291cmNlRXh0ZW5kZWQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLXJkZmpzLXNvdXJjZS9saWIvUmRmSnNRdWFkU291cmNlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi11cGRhdGUtcXVhZHMtcmRmanMtc3RvcmUvbGliL0FjdG9yUmRmVXBkYXRlUXVhZHNSZGZKc1N0b3JlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZVcGRhdGVRdWFkc1JkZkpzU3RvcmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkcy9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXVwZGF0ZS1xdWFkcy1yZGZqcy1zdG9yZS9saWIvUmRmSnNRdWFkRGVzdGluYXRpb24uanMiKTtjbGFzcyBoIGV4dGVuZHMgby5BY3RvclJkZlVwZGF0ZVF1YWRzRGVzdGluYXRpb257Y29uc3RydWN0b3IodSl7c3VwZXIodSl9YXN5bmMgdGVzdCh1KXtjb25zdCBwPSgwLG8uZ2V0Q29udGV4dERlc3RpbmF0aW9uKSh1LmNvbnRleHQpO2lmKCFwfHx0eXBlb2YgcD09InN0cmluZyJ8fCEoInJlbW92ZSJpbiBwKSYmInZhbHVlImluIHAmJiFwLnZhbHVlLnJlbW92ZSl0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfSByZWNlaXZlZCBhbiBpbnZhbGlkIHJkZmpzU3RvcmUuYCk7cmV0dXJuITB9YXN5bmMgZ2V0RGVzdGluYXRpb24odSl7Y29uc3QgcD0oMCxvLmdldENvbnRleHREZXN0aW5hdGlvbikodSk7cmV0dXJuIG5ldyBkLlJkZkpzUXVhZERlc3RpbmF0aW9uKCJyZW1vdmUiaW4gcD9wOnAudmFsdWUpfX1lLkFjdG9yUmRmVXBkYXRlUXVhZHNSZGZKc1N0b3JlPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi11cGRhdGUtcXVhZHMtcmRmanMtc3RvcmUvbGliL1JkZkpzUXVhZERlc3RpbmF0aW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuUmRmSnNRdWFkRGVzdGluYXRpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIiksaD1uZXcgby5EYXRhRmFjdG9yeTtjbGFzcyBse2NvbnN0cnVjdG9yKHApe3RoaXMuc3RvcmU9cH1wcm9taXNpZnlFdmVudEVtaXR0ZXIocCl7cmV0dXJuIG5ldyBQcm9taXNlKChnLHYpPT57cC5vbigiZW5kIixnKSxwLm9uKCJlcnJvciIsdil9KX1kZWxldGUocCl7cmV0dXJuIHRoaXMucHJvbWlzaWZ5RXZlbnRFbWl0dGVyKHRoaXMuc3RvcmUucmVtb3ZlKHApKX1pbnNlcnQocCl7cmV0dXJuIHRoaXMucHJvbWlzaWZ5RXZlbnRFbWl0dGVyKHRoaXMuc3RvcmUuaW1wb3J0KHApKX1hc3luYyBkZWxldGVHcmFwaHMocCxnLHYpe3N3aXRjaChwKXtjYXNlIkFMTCI6YXdhaXQgdGhpcy5wcm9taXNpZnlFdmVudEVtaXR0ZXIodGhpcy5zdG9yZS5kZWxldGVHcmFwaChoLmRlZmF1bHRHcmFwaCgpKSk7Y2FzZSJOQU1FRCI6Y29uc3QgYj10aGlzLnN0b3JlLm1hdGNoKCksXz17fTtiLm9uKCJkYXRhIixPPT57Ty5ncmFwaC50ZXJtVHlwZSE9PSJEZWZhdWx0R3JhcGgiJiYoX1soMCxkLnRlcm1Ub1N0cmluZykoTy5ncmFwaCldPSEwKX0pLGF3YWl0IHRoaXMucHJvbWlzaWZ5RXZlbnRFbWl0dGVyKGIpLGF3YWl0IFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF8pLm1hcChPPT50aGlzLnByb21pc2lmeUV2ZW50RW1pdHRlcih0aGlzLnN0b3JlLmRlbGV0ZUdyYXBoKCgwLGQuc3RyaW5nVG9UZXJtKShPKSkpKSk7YnJlYWs7ZGVmYXVsdDpmb3IoY29uc3QgTyBvZiBBcnJheS5pc0FycmF5KHApP3A6W3BdKWF3YWl0IHRoaXMucHJvbWlzaWZ5RXZlbnRFbWl0dGVyKHRoaXMuc3RvcmUuZGVsZXRlR3JhcGgoTykpfX1hc3luYyBjcmVhdGVHcmFwaHMocCxnKXtpZihnKWZvcihjb25zdCB2IG9mIHApe2NvbnN0IGI9dGhpcy5zdG9yZS5tYXRjaCh2b2lkIDAsdm9pZCAwLHZvaWQgMCx2KTthd2FpdCBuZXcgUHJvbWlzZSgoXyxPKT0+e2Iub25jZSgiZGF0YSIsKCk9PntPKG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyZWF0ZSBncmFwaCAke3YudmFsdWV9IGFzIGl0IGFscmVhZHkgZXhpc3RzYCkpfSksYi5vbigiZW5kIixfKSxiLm9uKCJlcnJvciIsTyl9KX19fWUuUmRmSnNRdWFkRGVzdGluYXRpb249bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXVwZGF0ZS1xdWFkcy1yZGZqcy1zdG9yZS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtdXBkYXRlLXF1YWRzLXJkZmpzLXN0b3JlL2xpYi9BY3RvclJkZlVwZGF0ZVF1YWRzUmRmSnNTdG9yZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9iaW5kaW5ncy1mYWN0b3J5L2xpYi9CaW5kaW5ncy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJpbmRpbmdzPXZvaWQgMDtjb25zdCBvPW4oIi4uL3BhY2thZ2VzL2ltbXV0YWJsZS9kaXN0L2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2JpbmRpbmdzVG9TdHJpbmcuanMiKTtjbGFzcyBoe2NvbnN0cnVjdG9yKHUscCl7dGhpcy50eXBlPSJiaW5kaW5ncyIsdGhpcy5kYXRhRmFjdG9yeT11LHRoaXMuZW50cmllcz1wfWhhcyh1KXtyZXR1cm4gdGhpcy5lbnRyaWVzLmhhcyh0eXBlb2YgdT09InN0cmluZyI/dTp1LnZhbHVlKX1nZXQodSl7cmV0dXJuIHRoaXMuZW50cmllcy5nZXQodHlwZW9mIHU9PSJzdHJpbmciP3U6dS52YWx1ZSl9c2V0KHUscCl7cmV0dXJuIG5ldyBoKHRoaXMuZGF0YUZhY3RvcnksdGhpcy5lbnRyaWVzLnNldCh0eXBlb2YgdT09InN0cmluZyI/dTp1LnZhbHVlLHApKX1kZWxldGUodSl7cmV0dXJuIG5ldyBoKHRoaXMuZGF0YUZhY3RvcnksdGhpcy5lbnRyaWVzLmRlbGV0ZSh0eXBlb2YgdT09InN0cmluZyI/dTp1LnZhbHVlKSl9a2V5cygpe3JldHVybiB0aGlzLm1hcEl0ZXJhYmxlKHRoaXMuaXRlcmF0b3JUb0l0ZXJhYmxlKHRoaXMuZW50cmllcy5rZXlzKCkpLHU9PnRoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUodSkpfXZhbHVlcygpe3JldHVybiB0aGlzLml0ZXJhdG9yVG9JdGVyYWJsZSh0aGlzLmVudHJpZXMudmFsdWVzKCkpfWZvckVhY2godSl7dGhpcy5lbnRyaWVzLmZvckVhY2goKHAsZyk9PnUocCx0aGlzLmRhdGFGYWN0b3J5LnZhcmlhYmxlKGcpKSl9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5lbnRyaWVzLnNpemV9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5tYXBJdGVyYWJsZSh0aGlzLml0ZXJhdG9yVG9JdGVyYWJsZSh0aGlzLmVudHJpZXMuZW50cmllcygpKSwoW3UscF0pPT5bdGhpcy5kYXRhRmFjdG9yeS52YXJpYWJsZSh1KSxwXSlbU3ltYm9sLml0ZXJhdG9yXSgpfWVxdWFscyh1KXtpZighdSlyZXR1cm4hMTtpZih0aGlzPT09dSlyZXR1cm4hMDtpZih0aGlzLnNpemUhPT11LnNpemUpcmV0dXJuITE7Zm9yKGNvbnN0IHAgb2YgdGhpcy5rZXlzKCkpaWYoIXRoaXMuZ2V0KHApPy5lcXVhbHModS5nZXQocCkpKXJldHVybiExO3JldHVybiEwfWZpbHRlcih1KXtyZXR1cm4gbmV3IGgodGhpcy5kYXRhRmFjdG9yeSwoMCxvLk1hcCkodGhpcy5lbnRyaWVzLmZpbHRlcigocCxnKT0+dShwLHRoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUoZykpKSkpfW1hcCh1KXtyZXR1cm4gbmV3IGgodGhpcy5kYXRhRmFjdG9yeSwoMCxvLk1hcCkodGhpcy5lbnRyaWVzLm1hcCgocCxnKT0+dShwLHRoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUoZykpKSkpfW1lcmdlKHUpe2NvbnN0IHA9bmV3IFNldChbLi4udGhpcy5pdGVyYXRvclRvSXRlcmFibGUodGhpcy5lbnRyaWVzLmtleXMoKSksLi4uWy4uLnUua2V5cygpXS5tYXAodj0+di52YWx1ZSldKSxnPVtdO2Zvcihjb25zdCB2IG9mIHApe2NvbnN0IGI9dGhpcy5lbnRyaWVzLmdldCh2KSxfPXUuZ2V0KHRoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUodikpO2lmKGImJl8mJiFiLmVxdWFscyhfKSlyZXR1cm47Y29uc3QgTz1ifHxfO2cucHVzaChbdixPXSl9cmV0dXJuIG5ldyBoKHRoaXMuZGF0YUZhY3RvcnksKDAsby5NYXApKGcpKX1tZXJnZVdpdGgodSxwKXtjb25zdCBnPW5ldyBTZXQoWy4uLnRoaXMuaXRlcmF0b3JUb0l0ZXJhYmxlKHRoaXMuZW50cmllcy5rZXlzKCkpLC4uLlsuLi5wLmtleXMoKV0ubWFwKGI9PmIudmFsdWUpXSksdj1bXTtmb3IoY29uc3QgYiBvZiBnKXtjb25zdCBfPXRoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUoYiksTz10aGlzLmVudHJpZXMuZ2V0KGIpLFQ9cC5nZXQoXyk7bGV0IFM7TyYmVCYmIU8uZXF1YWxzKFQpP1M9dShPLFQsXyk6Uz1PfHxULHYucHVzaChbYixTXSl9cmV0dXJuIG5ldyBoKHRoaXMuZGF0YUZhY3RvcnksKDAsby5NYXApKHYpKX10b1N0cmluZygpe3JldHVybigwLGQuYmluZGluZ3NUb1N0cmluZykodGhpcyl9Km1hcEl0ZXJhYmxlKHUscCl7Zm9yKGNvbnN0IGcgb2YgdSl5aWVsZCBwKGcpfWl0ZXJhdG9yVG9JdGVyYWJsZSh1KXtyZXR1cm57W1N5bWJvbC5pdGVyYXRvcl06KCk9PnV9fX1lLkJpbmRpbmdzPWh9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL0JpbmRpbmdzRmFjdG9yeS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJpbmRpbmdzRmFjdG9yeT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9wYWNrYWdlcy9pbW11dGFibGUvZGlzdC9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvQmluZGluZ3MuanMiKTtjbGFzcyBse2NvbnN0cnVjdG9yKHA9bmV3IGQuRGF0YUZhY3Rvcnkpe3RoaXMuZGF0YUZhY3Rvcnk9cH1iaW5kaW5ncyhwPVtdKXtyZXR1cm4gbmV3IGguQmluZGluZ3ModGhpcy5kYXRhRmFjdG9yeSwoMCxvLk1hcCkocC5tYXAoKFtnLHZdKT0+W2cudmFsdWUsdl0pKSl9ZnJvbUJpbmRpbmdzKHApe3JldHVybiB0aGlzLmJpbmRpbmdzKFsuLi5wXSl9ZnJvbVJlY29yZChwKXtyZXR1cm4gdGhpcy5iaW5kaW5ncyhPYmplY3QuZW50cmllcyhwKS5tYXAoKFtnLHZdKT0+W3RoaXMuZGF0YUZhY3RvcnkudmFyaWFibGUoZyksdl0pKX19ZS5CaW5kaW5nc0ZhY3Rvcnk9bH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvYmluZGluZ3NUb1N0cmluZy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmJpbmRpbmdzVG9TdHJpbmc9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiKTtmdW5jdGlvbiBkKGgpe2NvbnN0IGw9e307Zm9yKGNvbnN0IHUgb2YgaC5rZXlzKCkpbFt1LnZhbHVlXT0oMCxvLnRlcm1Ub1N0cmluZykoaC5nZXQodSkpO3JldHVybiBKU09OLnN0cmluZ2lmeShsLG51bGwsIiAgIil9ZS5iaW5kaW5nc1RvU3RyaW5nPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvQmluZGluZ3MuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvQmluZGluZ3NGYWN0b3J5LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2JpbmRpbmdzLWZhY3RvcnkvbGliL2JpbmRpbmdzVG9TdHJpbmcuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWNvbnRleHQtcHJlcHJvY2Vzcy9saWIvQWN0b3JDb250ZXh0UHJlcHJvY2Vzcy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yQ29udGV4dFByZXByb2Nlc3M9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9yQ29udGV4dFByZXByb2Nlc3M9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWNvbnRleHQtcHJlcHJvY2Vzcy9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtY29udGV4dC1wcmVwcm9jZXNzL2xpYi9BY3RvckNvbnRleHRQcmVwcm9jZXNzLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1oYXNoLWJpbmRpbmdzL2xpYi9BY3Rvckhhc2hCaW5kaW5ncy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9ySGFzaEJpbmRpbmdzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3Rvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX19ZS5BY3Rvckhhc2hCaW5kaW5ncz1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtaGFzaC1iaW5kaW5ncy9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtaGFzaC1iaW5kaW5ncy9saWIvQWN0b3JIYXNoQmluZGluZ3MuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLWluaXQvbGliL0FjdG9ySW5pdC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9ySW5pdD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCl9fWUuQWN0b3JJbml0PWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1pbml0L2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1pbml0L2xpYi9BY3RvckluaXQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5BY3Rvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKX19ZS5BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb249ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL2xpYi9BY3Rvck9wdGltaXplUXVlcnlPcGVyYXRpb24uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2RhdGEtZmFjdG9yeS9saWIvaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQmluZGluZ3MuanMiKTtsZXQgdT0wO2NsYXNzIHAgZXh0ZW5kcyBkLkFjdG9ye2NvbnN0cnVjdG9yKHYpe3N1cGVyKHYpfXN0YXRpYyBnZXRTYWZlQmluZGluZ3Modil7cmV0dXJuIHAudmFsaWRhdGVRdWVyeU91dHB1dCh2LCJiaW5kaW5ncyIpLHZ9c3RhdGljIGdldFNhZmVRdWFkcyh2KXtyZXR1cm4gcC52YWxpZGF0ZVF1ZXJ5T3V0cHV0KHYsInF1YWRzIiksdn1zdGF0aWMgZ2V0U2FmZUJvb2xlYW4odil7cmV0dXJuIHAudmFsaWRhdGVRdWVyeU91dHB1dCh2LCJib29sZWFuIiksdn1zdGF0aWMgZ2V0U2FmZVZvaWQodil7cmV0dXJuIHAudmFsaWRhdGVRdWVyeU91dHB1dCh2LCJ2b2lkIiksdn1zdGF0aWMgY2FjaGlmeU1ldGFkYXRhKHYpe2xldCBiO3JldHVybigpPT5ifHwoYj12KCkpfXN0YXRpYyB2YWxpZGF0ZVF1ZXJ5T3V0cHV0KHYsYil7aWYodi50eXBlIT09Yil0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcXVlcnkgb3V0cHV0IHR5cGU6IEV4cGVjdGVkICcke2J9JyBidXQgZ290ICcke3YudHlwZX0nYCl9c3RhdGljIGdldEJhc2VFeHByZXNzaW9uQ29udGV4dCh2KXtjb25zdCBiPXYuZ2V0KG8uS2V5c0luaXRRdWVyeS5xdWVyeVRpbWVzdGFtcCksXz12LmdldChvLktleXNJbml0UXVlcnkuYmFzZUlSSSksTz12LmdldChvLktleXNJbml0UXVlcnkuZnVuY3Rpb25Bcmd1bWVudHNDYWNoZSl8fHt9O2lmKHYuaGFzKG8uS2V5c0luaXRRdWVyeS5leHRlbnNpb25GdW5jdGlvbkNyZWF0b3IpJiZ2LmhhcyhvLktleXNJbml0UXVlcnkuZXh0ZW5zaW9uRnVuY3Rpb25zKSl0aHJvdyBuZXcgRXJyb3IoIklsbGVnYWwgc2ltdWx0YW5lb3VzIHVzYWdlIG9mIGV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvciBhbmQgZXh0ZW5zaW9uRnVuY3Rpb25zIGluIGNvbnRleHQiKTtsZXQgVD12LmdldChvLktleXNJbml0UXVlcnkuZXh0ZW5zaW9uRnVuY3Rpb25DcmVhdG9yKTtjb25zdCBTPXYuZ2V0KG8uS2V5c0luaXRRdWVyeS5leHRlbnNpb25GdW5jdGlvbnMpO3JldHVybiBTJiYoVD1OPT5TW04udmFsdWVdKSx7bm93OmIsYmFzZUlSSTpfLGV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcjpULGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6T319c3RhdGljIGdldEV4cHJlc3Npb25Db250ZXh0KHYsYil7cmV0dXJuey4uLnRoaXMuZ2V0QmFzZUV4cHJlc3Npb25Db250ZXh0KHYpLGJub2RlOl89Pm5ldyBoLkJsYW5rTm9kZUJpbmRpbmdzU2NvcGVkKF98fGBCTk9ERV8ke3UrK31gKX19c3RhdGljIGdldEFzeW5jRXhwcmVzc2lvbkNvbnRleHQodixiKXtjb25zdCBfPXsuLi50aGlzLmdldEJhc2VFeHByZXNzaW9uQ29udGV4dCh2KSxibm9kZTpPPT5Qcm9taXNlLnJlc29sdmUobmV3IGguQmxhbmtOb2RlQmluZGluZ3NTY29wZWQoT3x8YEJOT0RFXyR7dSsrfWApKX07cmV0dXJuIGImJihfLmV4aXN0cz1wLmNyZWF0ZUV4aXN0ZW5jZVJlc29sdmVyKHYsYikpLF99c3RhdGljIGNyZWF0ZUV4aXN0ZW5jZVJlc29sdmVyKHYsYil7cmV0dXJuIGFzeW5jKF8sTyk9Pntjb25zdCBUPSgwLGwubWF0ZXJpYWxpemVPcGVyYXRpb24pKF8uaW5wdXQsTyksUz1hd2FpdCBiLm1lZGlhdGUoe29wZXJhdGlvbjpULGNvbnRleHQ6dn0pLE49cC5nZXRTYWZlQmluZGluZ3MoUyk7cmV0dXJuIG5ldyBQcm9taXNlKChCLEwpPT57Ti5iaW5kaW5nc1N0cmVhbS5vbigiZW5kIiwoKT0+e0IoITEpfSksTi5iaW5kaW5nc1N0cmVhbS5vbigiZXJyb3IiLEwpLE4uYmluZGluZ3NTdHJlYW0ub24oImRhdGEiLCgpPT57Ti5iaW5kaW5nc1N0cmVhbS5jbG9zZSgpLEIoITApfSl9KS50aGVuKEI9Pl8ubm90PyFCOkIpfX1zdGF0aWMgdGhyb3dPblJlYWRPbmx5KHYpe2lmKHYuZ2V0KG8uS2V5c1F1ZXJ5T3BlcmF0aW9uLnJlYWRPbmx5KSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCBhIHdyaXRlIG9wZXJhdGlvbiBpbiByZWFkLW9ubHkgbW9kZSIpfX1lLkFjdG9yUXVlcnlPcGVyYXRpb249cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uLmpzIik7Y2xhc3MgaCBleHRlbmRzIGQuQWN0b3JRdWVyeU9wZXJhdGlvbntjb25zdHJ1Y3Rvcih1LHApe2lmKHN1cGVyKHsuLi51LG9wZXJhdGlvbk5hbWU6cH0pLCF0aGlzLm9wZXJhdGlvbk5hbWUpdGhyb3cgbmV3IEVycm9yKCdBIHZhbGlkICJvcGVyYXRpb25OYW1lIiBhcmd1bWVudCBtdXN0IGJlIHByb3ZpZGVkLicpfWFzeW5jIHRlc3QodSl7aWYoIXUub3BlcmF0aW9uKXRocm93IG5ldyBFcnJvcigiTWlzc2luZyBmaWVsZCAnb3BlcmF0aW9uJyBpbiBhIHF1ZXJ5IG9wZXJhdGlvbiBhY3Rpb24uIik7aWYodS5vcGVyYXRpb24udHlwZSE9PXRoaXMub3BlcmF0aW9uTmFtZSl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBvbmx5IHN1cHBvcnRzICR7dGhpcy5vcGVyYXRpb25OYW1lfSBvcGVyYXRpb25zLCBidXQgZ290ICR7dS5vcGVyYXRpb24udHlwZX1gKTtjb25zdCBwPXUub3BlcmF0aW9uO3JldHVybiB0aGlzLnRlc3RPcGVyYXRpb24ocCx1LmNvbnRleHQpfWFzeW5jIHJ1bih1KXtjb25zdCBwPXUuY29udGV4dC5nZXQoby5LZXlzSW5pdFF1ZXJ5LnBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyKTtwJiYocC5sb2dPcGVyYXRpb24odS5vcGVyYXRpb24udHlwZSx2b2lkIDAsdS5vcGVyYXRpb24sdS5jb250ZXh0LmdldChvLktleXNJbml0UXVlcnkucGh5c2ljYWxRdWVyeVBsYW5Ob2RlKSx0aGlzLm5hbWUse30pLHUuY29udGV4dD11LmNvbnRleHQuc2V0KG8uS2V5c0luaXRRdWVyeS5waHlzaWNhbFF1ZXJ5UGxhbk5vZGUsdS5vcGVyYXRpb24pKTtjb25zdCBnPXUub3BlcmF0aW9uLHY9dS5jb250ZXh0LnNldChvLktleXNRdWVyeU9wZXJhdGlvbi5vcGVyYXRpb24sZyksYj1hd2FpdCB0aGlzLnJ1bk9wZXJhdGlvbihnLHYpO3JldHVybiJtZXRhZGF0YSJpbiBiJiYoYi5tZXRhZGF0YT1kLkFjdG9yUXVlcnlPcGVyYXRpb24uY2FjaGlmeU1ldGFkYXRhKGIubWV0YWRhdGEpKSxifX1lLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVkPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkLmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVke2NvbnN0cnVjdG9yKGwsdSl7c3VwZXIobCx1KX19ZS5BY3RvclF1ZXJ5T3BlcmF0aW9uVHlwZWRNZWRpYXRlZD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9CaW5kaW5ncy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm1hdGVyaWFsaXplT3BlcmF0aW9uPWUubWF0ZXJpYWxpemVUZXJtPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYmluZGluZ3MtZmFjdG9yeS9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIiksaD1uKCJzcGFycWxhbGdlYnJhanMiKSxsPW5ldyBvLkJpbmRpbmdzRmFjdG9yeTtmdW5jdGlvbiB1KGcsdil7aWYoZy50ZXJtVHlwZT09PSJWYXJpYWJsZSIpe2NvbnN0IGI9di5nZXQoZyk7aWYoYilyZXR1cm4gYn1yZXR1cm4gZ31lLm1hdGVyaWFsaXplVGVybT11O2Z1bmN0aW9uIHAoZyx2LGI9e30pe3JldHVybiBiPXtzdHJpY3RUYXJnZXRWYXJpYWJsZXM6InN0cmljdFRhcmdldFZhcmlhYmxlcyJpbiBiP2Iuc3RyaWN0VGFyZ2V0VmFyaWFibGVzOiExLGJpbmRGaWx0ZXI6ImJpbmRGaWx0ZXIiaW4gYj9iLmJpbmRGaWx0ZXI6ITB9LGguVXRpbC5tYXBPcGVyYXRpb24oZyx7cGF0aChfLE8pe3JldHVybntyZWN1cnNlOiExLHJlc3VsdDpPLmNyZWF0ZVBhdGgodShfLnN1YmplY3QsdiksXy5wcmVkaWNhdGUsdShfLm9iamVjdCx2KSx1KF8uZ3JhcGgsdikpfX0scGF0dGVybihfLE8pe3JldHVybntyZWN1cnNlOiExLHJlc3VsdDpPLmNyZWF0ZVBhdHRlcm4odShfLnN1YmplY3QsdiksdShfLnByZWRpY2F0ZSx2KSx1KF8ub2JqZWN0LHYpLHUoXy5ncmFwaCx2KSl9fSxleHRlbmQoXyl7aWYodi5oYXMoXy52YXJpYWJsZSkpe2lmKGIuc3RyaWN0VGFyZ2V0VmFyaWFibGVzKXRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gYmluZCB2YXJpYWJsZSAkeygwLGQudGVybVRvU3RyaW5nKShfLnZhcmlhYmxlKX0gaW4gYSBCSU5EIG9wZXJhdG9yLmApO3JldHVybntyZWN1cnNlOiEwLHJlc3VsdDpwKF8uaW5wdXQsdixiKX19cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ol99fSxncm91cChfLE8pe2lmKGIuc3RyaWN0VGFyZ2V0VmFyaWFibGVzKXtmb3IoY29uc3QgUyBvZiBfLnZhcmlhYmxlcylpZih2LmhhcyhTKSl0aHJvdyBuZXcgRXJyb3IoYFRyaWVkIHRvIGJpbmQgdmFyaWFibGUgJHsoMCxkLnRlcm1Ub1N0cmluZykoUyl9IGluIGEgR1JPVVAgQlkgb3BlcmF0b3IuYCk7cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ol99fWNvbnN0IFQ9Xy52YXJpYWJsZXMuZmlsdGVyKFM9PiF2LmhhcyhTKSk7cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ok8uY3JlYXRlR3JvdXAoXy5pbnB1dCxULF8uYWdncmVnYXRlcyl9fSxwcm9qZWN0KF8sTyl7aWYoYi5zdHJpY3RUYXJnZXRWYXJpYWJsZXMpe2Zvcihjb25zdCBOIG9mIF8udmFyaWFibGVzKWlmKHYuaGFzKE4pKXRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gYmluZCB2YXJpYWJsZSAkeygwLGQudGVybVRvU3RyaW5nKShOKX0gaW4gYSBTRUxFQ1Qgb3BlcmF0b3IuYCk7cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ol99fWNvbnN0IFQ9Xy52YXJpYWJsZXMuZmlsdGVyKE49PiF2LmhhcyhOKSksUz1sLmJpbmRpbmdzKF8udmFyaWFibGVzLm1hcChOPT57Y29uc3QgQj12LmdldChOKTtpZihCKXJldHVybltOLEJdfSkuZmlsdGVyKE49PiEhTikpO3JldHVybntyZWN1cnNlOiExLHJlc3VsdDpPLmNyZWF0ZVByb2plY3QocChfLmlucHV0LFMsYiksVCl9fSx2YWx1ZXMoXyxPKXtpZihiLnN0cmljdFRhcmdldFZhcmlhYmxlcyl7Zm9yKGNvbnN0IFQgb2YgXy52YXJpYWJsZXMpaWYodi5oYXMoVCkpdGhyb3cgbmV3IEVycm9yKGBUcmllZCB0byBiaW5kIHZhcmlhYmxlICR7KDAsZC50ZXJtVG9TdHJpbmcpKFQpfSBpbiBhIFZBTFVFUyBvcGVyYXRvci5gKX1lbHNle2NvbnN0IFQ9Xy52YXJpYWJsZXMuZmlsdGVyKE49PiF2LmhhcyhOKSksUz1fLmJpbmRpbmdzLm1hcChOPT57Y29uc3QgQj17Li4uTn07bGV0IEw9ITA7cmV0dXJuIHYuZm9yRWFjaCgoQyxqKT0+e2NvbnN0IFA9KDAsZC50ZXJtVG9TdHJpbmcpKGopO1AgaW4gQiYmKEMuZXF1YWxzKEJbUF0pfHwoTD0hMSksZGVsZXRlIEJbUF0pfSksTD9COnZvaWQgMH0pLmZpbHRlcihCb29sZWFuKTtyZXR1cm57cmVjdXJzZTohMCxyZXN1bHQ6Ty5jcmVhdGVWYWx1ZXMoVCxTKX19cmV0dXJue3JlY3Vyc2U6ITEscmVzdWx0Ol99fSxleHByZXNzaW9uKF8sTyl7aWYoIWIuYmluZEZpbHRlcilyZXR1cm57cmVjdXJzZTohMSxyZXN1bHQ6X307aWYoXy5leHByZXNzaW9uVHlwZT09PSJ0ZXJtIilyZXR1cm57cmVjdXJzZTohMSxyZXN1bHQ6Ty5jcmVhdGVUZXJtRXhwcmVzc2lvbih1KF8udGVybSx2KSl9O2lmKF8uZXhwcmVzc2lvblR5cGU9PT0iYWdncmVnYXRlIiYmInZhcmlhYmxlImluIF8mJnYuaGFzKF8udmFyaWFibGUpKXtpZihiLnN0cmljdFRhcmdldFZhcmlhYmxlcyl0aHJvdyBuZXcgRXJyb3IoYFRyaWVkIHRvIGJpbmQgJHsoMCxkLnRlcm1Ub1N0cmluZykoXy52YXJpYWJsZSl9IGluIGEgJHtfLmFnZ3JlZ2F0b3J9IGFnZ3JlZ2F0ZS5gKTtyZXR1cm57cmVjdXJzZTohMCxyZXN1bHQ6X319cmV0dXJue3JlY3Vyc2U6ITAscmVzdWx0Ol99fX0pfWUubWF0ZXJpYWxpemVPcGVyYXRpb249cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQnVzUXVlcnlPcGVyYXRpb24uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CdXNRdWVyeU9wZXJhdGlvbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQnVzSW5kZXhlZHtjb25zdHJ1Y3RvcihsKXtzdXBlcih7Li4ubCxhY3RvcklkZW50aWZpZXJGaWVsZHM6WyJvcGVyYXRpb25OYW1lIl0sYWN0aW9uSWRlbnRpZmllckZpZWxkczpbIm9wZXJhdGlvbiIsInR5cGUiXX0pfX1lLkJ1c1F1ZXJ5T3BlcmF0aW9uPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0Nsb3NhYmxlVHJhbnNmb3JtSXRlcmF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5DbG9zYWJsZVRyYW5zZm9ybUl0ZXJhdG9yPXZvaWQgMDtjb25zdCBvPW4oImFzeW5jaXRlcmF0b3IiKTtjbGFzcyBkIGV4dGVuZHMgby5UcmFuc2Zvcm1JdGVyYXRvcntjb25zdHJ1Y3RvcihsLHUpe3N1cGVyKGwsdSksdGhpcy5vbkNsb3NlPXUub25DbG9zZX1fZW5kKGwpe3RoaXMub25DbG9zZSgpLHN1cGVyLl9lbmQobCl9fWUuQ2xvc2FibGVUcmFuc2Zvcm1JdGVyYXRvcj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb24uanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvQWN0b3JRdWVyeU9wZXJhdGlvblR5cGVkLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0FjdG9yUXVlcnlPcGVyYXRpb25UeXBlZE1lZGlhdGVkLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0JpbmRpbmdzLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0J1c1F1ZXJ5T3BlcmF0aW9uLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb24vbGliL0Nsb3NhYmxlVHJhbnNmb3JtSXRlcmF0b3IuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LXBhcnNlL2xpYi9BY3RvclF1ZXJ5UGFyc2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclF1ZXJ5UGFyc2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9yUXVlcnlQYXJzZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcXVlcnktcGFyc2UvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LXBhcnNlL2xpYi9BY3RvclF1ZXJ5UGFyc2UuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLWVudHJpZXMtc29ydC9saWIvQWN0b3JSZGZKb2luRW50cmllc1NvcnQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZkpvaW5FbnRyaWVzU29ydD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCl9fWUuQWN0b3JSZGZKb2luRW50cmllc1NvcnQ9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luLWVudHJpZXMtc29ydC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4tZW50cmllcy1zb3J0L2xpYi9BY3RvclJkZkpvaW5FbnRyaWVzU29ydC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4tc2VsZWN0aXZpdHkvbGliL0FjdG9yUmRmSm9pblNlbGVjdGl2aXR5LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luU2VsZWN0aXZpdHk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkFjdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfX1lLkFjdG9yUmRmSm9pblNlbGVjdGl2aXR5PWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi1zZWxlY3Rpdml0eS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4tc2VsZWN0aXZpdHkvbGliL0FjdG9yUmRmSm9pblNlbGVjdGl2aXR5LmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9saWIvQWN0b3JSZGZKb2luLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZKb2luPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIikscD1uZXcgbC5EYXRhRmFjdG9yeTtjbGFzcyBnIGV4dGVuZHMgaC5BY3Rvcntjb25zdHJ1Y3RvcihiLF8pe3N1cGVyKGIpLHRoaXMuaW5jbHVkZUluTG9ncz0hMCx0aGlzLmxvZ2ljYWxUeXBlPV8ubG9naWNhbFR5cGUsdGhpcy5waHlzaWNhbE5hbWU9Xy5waHlzaWNhbE5hbWUsdGhpcy5saW1pdEVudHJpZXM9Xy5saW1pdEVudHJpZXM/P051bWJlci5QT1NJVElWRV9JTkZJTklUWSx0aGlzLmxpbWl0RW50cmllc01pbj1fLmxpbWl0RW50cmllc01pbj8/ITEsdGhpcy5jYW5IYW5kbGVVbmRlZnM9Xy5jYW5IYW5kbGVVbmRlZnM/PyExfXN0YXRpYyBoYXNoKGIsXyl7cmV0dXJuIF8uZmlsdGVyKE89PmIuaGFzKE8pKS5tYXAoTz0+KDAsdS50ZXJtVG9TdHJpbmcpKGIuZ2V0KE8pKSkuam9pbigiIil9c3RhdGljIG92ZXJsYXBwaW5nVmFyaWFibGVzKGIpe2NvbnN0IF89Yi5tYXAoVD0+VC52YXJpYWJsZXMpO2xldCBPPV9bMF07Zm9yKGNvbnN0IFQgb2YgXy5zbGljZSgxKSlPPU8uZmlsdGVyKFM9PlQuc29tZShOPT5OLnZhbHVlPT09Uy52YWx1ZSkpO3JldHVybiBPfXN0YXRpYyBqb2luVmFyaWFibGVzKGIpe3JldHVyblsuLi5uZXcgU2V0KGIuZmxhdE1hcChfPT5fLnZhcmlhYmxlcy5tYXAoTz0+Ty52YWx1ZSkpKV0ubWFwKF89PnAudmFyaWFibGUoXykpfXN0YXRpYyBqb2luQmluZGluZ3MoLi4uYil7aWYoYi5sZW5ndGg9PT0wKXJldHVybiBudWxsO2lmKGIubGVuZ3RoPT09MSlyZXR1cm4gYlswXTtsZXQgXz1iWzBdO2Zvcihjb25zdCBPIG9mIGIuc2xpY2UoMSkpe2NvbnN0IFQ9Xy5tZXJnZShPKTtpZighVClyZXR1cm4gbnVsbDtfPVR9cmV0dXJuIF99c3RhdGljIGdldENhcmRpbmFsaXR5KGIpe3JldHVybiBiLmNhcmRpbmFsaXR5fXN0YXRpYyBhc3luYyBnZXRNZXRhZGF0YXMoYil7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKGIubWFwKF89Pl8ub3V0cHV0Lm1ldGFkYXRhKCkpKX1zdGF0aWMgYXN5bmMgZ2V0RW50cmllc1dpdGhNZXRhZGF0YXMoYil7Y29uc3QgXz1hd2FpdCBnLmdldE1ldGFkYXRhcyhiKTtyZXR1cm4gYi5tYXAoKE8sVCk9Pih7Li4uTyxtZXRhZGF0YTpfW1RdfSkpfXN0YXRpYyBnZXRSZXF1ZXN0SW5pdGlhbFRpbWVzKGIpe3JldHVybiBiLm1hcChfPT5fLnBhZ2VTaXplPzA6Xy5yZXF1ZXN0VGltZXx8MCl9c3RhdGljIGdldFJlcXVlc3RJdGVtVGltZXMoYil7cmV0dXJuIGIubWFwKF89Pl8ucGFnZVNpemU/KF8ucmVxdWVzdFRpbWV8fDApL18ucGFnZVNpemU6MCl9YXN5bmMgY29uc3RydWN0UmVzdWx0TWV0YWRhdGEoYixfLE8sVD17fSl7bGV0IFM7cmV0dXJuIFQuY2FyZGluYWxpdHk/Uz1ULmNhcmRpbmFsaXR5OihTPV8ucmVkdWNlKChOLEIpPT57Y29uc3QgTD1nLmdldENhcmRpbmFsaXR5KEIpO3JldHVybnt0eXBlOkwudHlwZT09PSJlc3RpbWF0ZSI/ImVzdGltYXRlIjpOLnR5cGUsdmFsdWU6Ti52YWx1ZSpMLnZhbHVlfX0se3R5cGU6ImV4YWN0Iix2YWx1ZToxfSksUy52YWx1ZSo9KGF3YWl0IHRoaXMubWVkaWF0b3JKb2luU2VsZWN0aXZpdHkubWVkaWF0ZSh7ZW50cmllczpiLGNvbnRleHQ6T30pKS5zZWxlY3Rpdml0eSksey4uLlQsY2FyZGluYWxpdHk6e3R5cGU6Uy50eXBlLHZhbHVlOlMudmFsdWV9LGNhbkNvbnRhaW5VbmRlZnM6VC5jYW5Db250YWluVW5kZWZzPz9fLnNvbWUoTj0+Ti5jYW5Db250YWluVW5kZWZzKSx2YXJpYWJsZXM6Zy5qb2luVmFyaWFibGVzKF8pfX1hc3luYyB0ZXN0KGIpe2lmKGIudHlwZSE9PXRoaXMubG9naWNhbFR5cGUpdGhyb3cgbmV3IEVycm9yKGAke3RoaXMubmFtZX0gY2FuIG9ubHkgaGFuZGxlIGxvZ2ljYWwgam9pbnMgb2YgdHlwZSAnJHt0aGlzLmxvZ2ljYWxUeXBlfScsIHdoaWxlICcke2IudHlwZX0nIHdhcyBnaXZlbi5gKTtpZihiLmVudHJpZXMubGVuZ3RoPD0xKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IHJlcXVpcmVzIGF0IGxlYXN0IHR3byBqb2luIGVudHJpZXMuYCk7aWYodGhpcy5saW1pdEVudHJpZXNNaW4/Yi5lbnRyaWVzLmxlbmd0aDx0aGlzLmxpbWl0RW50cmllczpiLmVudHJpZXMubGVuZ3RoPnRoaXMubGltaXRFbnRyaWVzKXRocm93IG5ldyBFcnJvcihgJHt0aGlzLm5hbWV9IHJlcXVpcmVzICR7dGhpcy5saW1pdEVudHJpZXN9IGpvaW4gZW50cmllcyBhdCAke3RoaXMubGltaXRFbnRyaWVzTWluPyJsZWFzdCI6Im1vc3QifS4gVGhlIGlucHV0IGNvbnRhaW5lZCAke2IuZW50cmllcy5sZW5ndGh9LmApO2Zvcihjb25zdCBPIG9mIGIuZW50cmllcylpZihPLm91dHB1dC50eXBlIT09ImJpbmRpbmdzIil0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdHlwZSBvZiBhIGpvaW4gZW50cnk6IEV4cGVjdGVkICdiaW5kaW5ncycgYnV0IGdvdCAnJHtPLm91dHB1dC50eXBlfSdgKTtjb25zdCBfPWF3YWl0IGcuZ2V0TWV0YWRhdGFzKGIuZW50cmllcyk7aWYoIXRoaXMuY2FuSGFuZGxlVW5kZWZzKXtmb3IoY29uc3QgTyBvZiBfKWlmKE8uY2FuQ29udGFpblVuZGVmcyl0aHJvdyBuZXcgRXJyb3IoYEFjdG9yICR7dGhpcy5uYW1lfSBjYW4gbm90IGpvaW4gc3RyZWFtcyBjb250YWluaW5nIHVuZGVmc2ApfXJldHVybiBhd2FpdCB0aGlzLmdldEpvaW5Db2VmZmljaWVudHMoYixfKX1hc3luYyBydW4oYil7bGV0IF87Yi5jb250ZXh0LmhhcyhkLktleXNJbml0UXVlcnkucGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXIpJiYoXz1iLmNvbnRleHQuZ2V0KGQuS2V5c0luaXRRdWVyeS5waHlzaWNhbFF1ZXJ5UGxhbk5vZGUpLGIuY29udGV4dD1iLmNvbnRleHQuc2V0KGQuS2V5c0luaXRRdWVyeS5waHlzaWNhbFF1ZXJ5UGxhbk5vZGUsYikpO2NvbnN0IE89Yi5jb250ZXh0LmdldChkLktleXNJbml0UXVlcnkucGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXIpO2xldCBUO3RoaXMuaW5jbHVkZUluTG9ncyYmTyYmKFQ9e30sTy5sb2dPcGVyYXRpb24oYGpvaW4tJHt0aGlzLmxvZ2ljYWxUeXBlfWAsdGhpcy5waHlzaWNhbE5hbWUsYixfLHRoaXMubmFtZSxUKSk7Y29uc3R7cmVzdWx0OlMscGh5c2ljYWxQbGFuTWV0YWRhdGE6Tn09YXdhaXQgdGhpcy5nZXRPdXRwdXQoYiksQj1hd2FpdCBnLmdldE1ldGFkYXRhcyhiLmVudHJpZXMpO3JldHVybiBUJiYoT2JqZWN0LmFzc2lnbihULE4pLFQuY2FyZGluYWxpdGllcz1CLm1hcChnLmdldENhcmRpbmFsaXR5KSxULmpvaW5Db2VmZmljaWVudHM9YXdhaXQgdGhpcy5nZXRKb2luQ29lZmZpY2llbnRzKGIsQikpLFMubWV0YWRhdGE9by5BY3RvclF1ZXJ5T3BlcmF0aW9uLmNhY2hpZnlNZXRhZGF0YShTLm1ldGFkYXRhKSxTfX1lLkFjdG9yUmRmSm9pbj1nfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLWpvaW4vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1qb2luL2xpYi9BY3RvclJkZkpvaW4uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm4uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVybj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCl9fWUuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm49ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5Tb3VyY2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3RvclJkZlJlc29sdmVRdWFkUGF0dGVyblNvdXJjZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm57Y29uc3RydWN0b3IobCl7c3VwZXIobCl9YXN5bmMgdGVzdChsKXtyZXR1cm4hMH1hc3luYyBydW4obCl7Y29uc3QgdT1hd2FpdCB0aGlzLmdldFNvdXJjZShsLmNvbnRleHQsbC5wYXR0ZXJuKTtyZXR1cm4gYXdhaXQgdGhpcy5nZXRPdXRwdXQodSxsLnBhdHRlcm4sbC5jb250ZXh0KX1hc3luYyBnZXRPdXRwdXQobCx1LHApe3JldHVybntkYXRhOmwubWF0Y2godS5zdWJqZWN0LHUucHJlZGljYXRlLHUub2JqZWN0LHUuZ3JhcGgscCl9fX1lLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuU291cmNlPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm4uanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5Tb3VyY2UuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvdXRpbHMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9saWIvdXRpbHMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5oYXNDb250ZXh0U2luZ2xlU291cmNlT2ZUeXBlPWUuaGFzQ29udGV4dFNpbmdsZVNvdXJjZT1lLmdldENvbnRleHRTb3VyY2VVcmw9ZS5nZXRDb250ZXh0U291cmNlRmlyc3Q9ZS5nZXRDb250ZXh0U291cmNlPWUuZ2V0Q29udGV4dFNvdXJjZXM9ZS5nZXREYXRhU291cmNlQ29udGV4dD1lLmdldERhdGFTb3VyY2VWYWx1ZT1lLmdldERhdGFTb3VyY2VUeXBlPWUuaXNEYXRhU291cmNlUmF3VHlwZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKTtmdW5jdGlvbiBkKFQpe3JldHVybiB0eXBlb2YgVD09InN0cmluZyJ8fCJtYXRjaCJpbiBUfWUuaXNEYXRhU291cmNlUmF3VHlwZT1kO2Z1bmN0aW9uIGgoVCl7cmV0dXJuIHR5cGVvZiBUPT0ic3RyaW5nIj8iIjoibWF0Y2giaW4gVD8icmRmanNTb3VyY2UiOlQudHlwZX1lLmdldERhdGFTb3VyY2VUeXBlPWg7ZnVuY3Rpb24gbChUKXtyZXR1cm4gZChUKT9UOlQudmFsdWV9ZS5nZXREYXRhU291cmNlVmFsdWU9bDtmdW5jdGlvbiB1KFQsUyl7cmV0dXJuIHR5cGVvZiBUPT0ic3RyaW5nInx8Im1hdGNoImluIFR8fCFULmNvbnRleHQ/UzpTLm1lcmdlKFQuY29udGV4dCl9ZS5nZXREYXRhU291cmNlQ29udGV4dD11O2Z1bmN0aW9uIHAoVCl7cmV0dXJuIFQuZ2V0KG8uS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VzKX1lLmdldENvbnRleHRTb3VyY2VzPXA7ZnVuY3Rpb24gZyhUKXtyZXR1cm4gVC5nZXQoby5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZSl9ZS5nZXRDb250ZXh0U291cmNlPWc7ZnVuY3Rpb24gdihUKXtpZihULmhhcyhvLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlKSlyZXR1cm4gVC5nZXQoby5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuLnNvdXJjZSk7Y29uc3QgUz1ULmdldChvLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm4uc291cmNlcyk7aWYoUz8ubGVuZ3RoPT09MSlyZXR1cm4gU1swXX1lLmdldENvbnRleHRTb3VyY2VGaXJzdD12O2Z1bmN0aW9uIGIoVCl7aWYoVCl7bGV0IFM9bChUKTtpZih0eXBlb2YgUz09InN0cmluZyIpe2NvbnN0IE49Uy5pbmRleE9mKCIjIik7cmV0dXJuIE4+PTAmJihTPVMuc2xpY2UoMCxOKSksU319fWUuZ2V0Q29udGV4dFNvdXJjZVVybD1iO2Z1bmN0aW9uIF8oVCl7Y29uc3QgUz1nKFQpO3JldHVybiEhKFMmJihkKFMpfHxTLnZhbHVlKSl9ZS5oYXNDb250ZXh0U2luZ2xlU291cmNlPV87ZnVuY3Rpb24gTyhULFMpe2NvbnN0IE49ZyhTKTtyZXR1cm4hIShOJiZoKE4pPT09VCYmbChOKSl9ZS5oYXNDb250ZXh0U2luZ2xlU291cmNlT2ZUeXBlPU99LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzL2xpYi9BY3RvclJkZlVwZGF0ZVF1YWRzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZVcGRhdGVRdWFkcz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQWN0b3J7Y29uc3RydWN0b3IobCl7c3VwZXIobCl9fWUuQWN0b3JSZGZVcGRhdGVRdWFkcz1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkcy9saWIvQWN0b3JSZGZVcGRhdGVRdWFkc0Rlc3RpbmF0aW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0b3JSZGZVcGRhdGVRdWFkc0Rlc3RpbmF0aW9uPWUuZGVza29sZW1pemU9ZS5kZXNrb2xlbWl6ZVN0cmVhbT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL0FjdG9yUmRmVXBkYXRlUXVhZHMuanMiKTtmdW5jdGlvbiBsKGcsdil7cmV0dXJuIGc/Lm1hcChiPT5vLkZlZGVyYXRlZFF1YWRTb3VyY2UuZGVza29sZW1pemVRdWFkKGIsdikpfWUuZGVza29sZW1pemVTdHJlYW09bDtmdW5jdGlvbiB1KGcpe2NvbnN0IHY9Zy5jb250ZXh0LmdldChkLktleXNSZGZVcGRhdGVRdWFkcy5kZXN0aW5hdGlvbiksYj1nLmNvbnRleHQuZ2V0KGQuS2V5c1JkZlJlc29sdmVRdWFkUGF0dGVybi5zb3VyY2VJZHMpPy5nZXQodik7cmV0dXJuIGI/ey4uLmcscXVhZFN0cmVhbUluc2VydDpsKGcucXVhZFN0cmVhbUluc2VydCxiKSxxdWFkU3RyZWFtRGVsZXRlOmwoZy5xdWFkU3RyZWFtRGVsZXRlLGIpfTpnfWUuZGVza29sZW1pemU9dTtjbGFzcyBwIGV4dGVuZHMgaC5BY3RvclJkZlVwZGF0ZVF1YWRze2FzeW5jIHRlc3Qodil7cmV0dXJuITB9YXN5bmMgcnVuKHYpe2NvbnN0IGI9YXdhaXQgdGhpcy5nZXREZXN0aW5hdGlvbih2LmNvbnRleHQpO3JldHVybiBhd2FpdCB0aGlzLmdldE91dHB1dChiLHUodiksdi5jb250ZXh0KX1hc3luYyBnZXRPdXRwdXQodixiLF8pe3JldHVybntleGVjdXRlOigpPT5Qcm9taXNlLmFsbChbYi5xdWFkU3RyZWFtSW5zZXJ0P3YuaW5zZXJ0KGIucXVhZFN0cmVhbUluc2VydCk6UHJvbWlzZS5yZXNvbHZlKCksYi5xdWFkU3RyZWFtRGVsZXRlP3YuZGVsZXRlKGIucXVhZFN0cmVhbURlbGV0ZSk6UHJvbWlzZS5yZXNvbHZlKCksYi5kZWxldGVHcmFwaHM/di5kZWxldGVHcmFwaHMoYi5kZWxldGVHcmFwaHMuZ3JhcGhzLGIuZGVsZXRlR3JhcGhzLnJlcXVpcmVFeGlzdGVuY2UsYi5kZWxldGVHcmFwaHMuZHJvcEdyYXBocyk6UHJvbWlzZS5yZXNvbHZlKCksYi5jcmVhdGVHcmFwaHM/di5jcmVhdGVHcmFwaHMoYi5jcmVhdGVHcmFwaHMuZ3JhcGhzLGIuY3JlYXRlR3JhcGhzLnJlcXVpcmVOb25FeGlzdGVuY2UpOlByb21pc2UucmVzb2x2ZSgpXSkudGhlbigoKT0+e30pfX19ZS5BY3RvclJkZlVwZGF0ZVF1YWRzRGVzdGluYXRpb249cH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL0lRdWFkRGVzdGluYXRpb24uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS52YWxpZGF0ZUh0dHBSZXNwb25zZT12b2lkIDA7Y29uc3Qgbz1uKCIuL3JlcXVpcmUtZW1wdHkuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zdHJlYW0tdG8tc3RyaW5nL2luZGV4LmpzIik7YXN5bmMgZnVuY3Rpb24gaChsLHUpe2lmKHUuc3RhdHVzPj00MDApe2xldCBwPSJlbXB0eSByZXNwb25zZSI7aWYodS5ib2R5KXtjb25zdCBnPW8uQWN0b3JIdHRwLnRvTm9kZVJlYWRhYmxlKHUuYm9keSk7cD1hd2FpdCBkKGcpfXRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHVwZGF0ZSAke2x9IChIVFRQIHN0YXR1cyAke3Uuc3RhdHVzfSk6CiR7cH1gKX1hd2FpdCB1LmJvZHk/LmNhbmNlbCgpfWUudmFsaWRhdGVIdHRwUmVzcG9uc2U9aH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL0FjdG9yUmRmVXBkYXRlUXVhZHMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL0FjdG9yUmRmVXBkYXRlUXVhZHNEZXN0aW5hdGlvbi5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkcy9saWIvSVF1YWREZXN0aW5hdGlvbi5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkcy9saWIvdXRpbHMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvbGliL3V0aWxzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0Q29udGV4dERlc3RpbmF0aW9uVXJsPWUuZ2V0Q29udGV4dERlc3RpbmF0aW9uRmlyc3Q9ZS5nZXRDb250ZXh0RGVzdGluYXRpb249ZS5nZXREYXRhRGVzdGluYXRpb25Db250ZXh0PWUuZ2V0RGF0YURlc3RpbmF0aW9uVmFsdWU9ZS5nZXREYXRhRGVzdGluYXRpb25UeXBlPWUuaXNEYXRhRGVzdGluYXRpb25SYXdUeXBlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyIpO2Z1bmN0aW9uIGQoYil7cmV0dXJuIHR5cGVvZiBiPT0ic3RyaW5nInx8InJlbW92ZSJpbiBifWUuaXNEYXRhRGVzdGluYXRpb25SYXdUeXBlPWQ7ZnVuY3Rpb24gaChiKXtyZXR1cm4gdHlwZW9mIGI9PSJzdHJpbmciPyIiOiJyZW1vdmUiaW4gYj8icmRmanNTdG9yZSI6Yi50eXBlfWUuZ2V0RGF0YURlc3RpbmF0aW9uVHlwZT1oO2Z1bmN0aW9uIGwoYil7cmV0dXJuIGQoYik/YjpiLnZhbHVlfWUuZ2V0RGF0YURlc3RpbmF0aW9uVmFsdWU9bDtmdW5jdGlvbiB1KGIsXyl7cmV0dXJuIHR5cGVvZiBiPT0ic3RyaW5nInx8InJlbW92ZSJpbiBifHwhYi5jb250ZXh0P186Xy5tZXJnZShiLmNvbnRleHQpfWUuZ2V0RGF0YURlc3RpbmF0aW9uQ29udGV4dD11O2Z1bmN0aW9uIHAoYil7cmV0dXJuIGIuZ2V0KG8uS2V5c1JkZlVwZGF0ZVF1YWRzLmRlc3RpbmF0aW9uKX1lLmdldENvbnRleHREZXN0aW5hdGlvbj1wO2Z1bmN0aW9uIGcoYil7aWYoYi5oYXMoby5LZXlzUmRmVXBkYXRlUXVhZHMuZGVzdGluYXRpb24pKXJldHVybiBiLmdldChvLktleXNSZGZVcGRhdGVRdWFkcy5kZXN0aW5hdGlvbil9ZS5nZXRDb250ZXh0RGVzdGluYXRpb25GaXJzdD1nO2Z1bmN0aW9uIHYoYil7aWYoYil7bGV0IF89bChiKTtpZih0eXBlb2YgXz09InN0cmluZyIpe2NvbnN0IE89Xy5pbmRleE9mKCIjIik7cmV0dXJuIE8+PTAmJihfPV8uc2xpY2UoMCxPKSksX319fWUuZ2V0Q29udGV4dERlc3RpbmF0aW9uVXJsPXZ9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvS2V5cy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLktleXNSZGZVcGRhdGVRdWFkcz1lLktleXNSZGZSZXNvbHZlUXVhZFBhdHRlcm49ZS5LZXlzUmRmUGFyc2VIdG1sU2NyaXB0PWUuS2V5c1JkZlBhcnNlSnNvbkxkPWUuS2V5c1F1ZXJ5T3BlcmF0aW9uPWUuS2V5c0luaXRRdWVyeT1lLktleXNIdHRwUHJveHk9ZS5LZXlzSHR0cE1lbWVudG89ZS5LZXlzSHR0cFdheWJhY2s9ZS5LZXlzSHR0cD1lLktleXNDb3JlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtlLktleXNDb3JlPXtsb2c6by5DT05URVhUX0tFWV9MT0dHRVJ9LGUuS2V5c0h0dHA9e2luY2x1ZGVDcmVkZW50aWFsczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6aW5jbHVkZS1jcmVkZW50aWFscyIpLGF1dGg6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1odHRwOmF1dGgiKSxmZXRjaDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6ZmV0Y2giKSxodHRwVGltZW91dDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLWh0dHA6aHR0cC10aW1lb3V0IiksaHR0cEJvZHlUaW1lb3V0Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtaHR0cDpodHRwLWJvZHktdGltZW91dCIpLGh0dHBSZXRyeUNvdW50Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtaHR0cDpodHRwLXJldHJ5LWNvdW50IiksaHR0cFJldHJ5RGVsYXk6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtcmV0cnktZGVsYXkiKSxodHRwUmV0cnlPblNlcnZlckVycm9yOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtaHR0cDpodHRwLXJldHJ5LW9uLXNlcnZlci1lcnJvciIpfSxlLktleXNIdHRwV2F5YmFjaz17cmVjb3ZlckJyb2tlbkxpbmtzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtaHR0cDpyZWNvdmVyLWJyb2tlbi1saW5rcyIpfSxlLktleXNIdHRwTWVtZW50bz17ZGF0ZXRpbWU6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWh0dHAtbWVtZW50bzpkYXRldGltZSIpfSxlLktleXNIdHRwUHJveHk9e2h0dHBQcm94eUhhbmRsZXI6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWh0dHAtcHJveHk6aHR0cFByb3h5SGFuZGxlciIpfSxlLktleXNJbml0UXVlcnk9e2luaXRpYWxCaW5kaW5nczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTppbml0aWFsQmluZGluZ3MiKSxxdWVyeUZvcm1hdDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpxdWVyeUZvcm1hdCIpLGdyYXBocWxTaW5ndWxhcml6ZVZhcmlhYmxlczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpzaW5ndWxhcml6ZVZhcmlhYmxlcyIpLGxlbmllbnQ6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6bGVuaWVudCIpLHF1ZXJ5U3RyaW5nOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OnF1ZXJ5U3RyaW5nIikscXVlcnk6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6cXVlcnkiKSxiYXNlSVJJOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmJhc2VJUkkiKSxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGUiKSxxdWVyeVRpbWVzdGFtcDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpxdWVyeVRpbWVzdGFtcCIpLGV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpleHRlbnNpb25GdW5jdGlvbkNyZWF0b3IiKSxleHRlbnNpb25GdW5jdGlvbnM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6ZXh0ZW5zaW9uRnVuY3Rpb25zIiksY2xpQXJnc0hhbmRsZXJzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmNsaUFyZ3NIYW5kbGVycyIpLGV4cGxhaW46bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6ZXhwbGFpbiIpLHBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OnBoeXNpY2FsUXVlcnlQbGFuTG9nZ2VyIikscGh5c2ljYWxRdWVyeVBsYW5Ob2RlOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OnBoeXNpY2FsUXVlcnlQbGFuTm9kZSIpLGpzb25MZENvbnRleHQ6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbnRleHQiKX0sZS5LZXlzUXVlcnlPcGVyYXRpb249e29wZXJhdGlvbjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjpvcGVyYXRpb24iKSxqb2luTGVmdE1ldGFkYXRhOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOmpvaW5MZWZ0TWV0YWRhdGEiKSxqb2luUmlnaHRNZXRhZGF0YXM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb246am9pblJpZ2h0TWV0YWRhdGFzIiksam9pbkJpbmRpbmdzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOmpvaW5CaW5kaW5ncyIpLHJlYWRPbmx5Om5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOnJlYWRPbmx5IiksaXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3RLZXk6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1xdWVyeS1vcGVyYXRpb246aXNQYXRoQXJiaXRyYXJ5TGVuZ3RoRGlzdGluY3QiKSxsaW1pdEluZGljYXRvcjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbjpsaW1pdEluZGljYXRvciIpLHVuaW9uRGVmYXVsdEdyYXBoOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOnVuaW9uRGVmYXVsdEdyYXBoIiksbG9jYWxpemVCbGFua05vZGVzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb246bG9jYWxpemVCbGFua05vZGVzIil9LGUuS2V5c1JkZlBhcnNlSnNvbkxkPXtkb2N1bWVudExvYWRlcjpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItcmRmLXBhcnNlLWpzb25sZDpkb2N1bWVudExvYWRlciIpLHN0cmljdFZhbHVlczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItcmRmLXBhcnNlLWpzb25sZDpzdHJpY3RWYWx1ZXMiKSxwYXJzZXJPcHRpb25zOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9hY3Rvci1yZGYtcGFyc2UtanNvbmxkOnBhcnNlck9wdGlvbnMiKX0sZS5LZXlzUmRmUGFyc2VIdG1sU2NyaXB0PXtwcm9jZXNzaW5nSHRtbFNjcmlwdDpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYWN0b3ItcmRmLXBhcnNlLWh0bWwtc2NyaXB0OnByb2Nlc3NpbmdIdG1sU2NyaXB0IiksZXh0cmFjdEFsbFNjcmlwdHM6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiZXh0cmFjdEFsbFNjcmlwdHMiKX0sZS5LZXlzUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuPXtzb3VyY2VzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuOnNvdXJjZXMiKSxzb3VyY2U6bmV3IG8uQWN0aW9uQ29udGV4dEtleSgiQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm46c291cmNlIiksc291cmNlSWRzOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuOnNvdXJjZUlkcyIpLGh5cGVybWVkaWFTb3VyY2VzQWdncmVnYXRlZFN0b3JlczpuZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvYnVzLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybjpoeXBlcm1lZGlhU291cmNlc0FnZ3JlZ2F0ZWRTdG9yZXMiKX0sZS5LZXlzUmRmVXBkYXRlUXVhZHM9e2Rlc3RpbmF0aW9uOm5ldyBvLkFjdGlvbkNvbnRleHRLZXkoIkBjb211bmljYS9idXMtcmRmLXVwZGF0ZS1xdWFkczpkZXN0aW5hdGlvbiIpfX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29udGV4dC1lbnRyaWVzL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvbnRleHQtZW50cmllcy9saWIvS2V5cy5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9BY3Rpb25Db250ZXh0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWN0aW9uQ29udGV4dEtleT1lLkFjdGlvbkNvbnRleHQ9dm9pZCAwO2NvbnN0IG89bigiLi4vcGFja2FnZXMvaW1tdXRhYmxlL2Rpc3QvaW5kZXguanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKHU9e30pe3RoaXMubWFwPSgwLG8uTWFwKSh1KX1zZXREZWZhdWx0KHUscCl7cmV0dXJuIHRoaXMuaGFzKHUpP3RoaXM6dGhpcy5zZXQodSxwKX1zZXQodSxwKXtyZXR1cm4gdGhpcy5zZXRSYXcodS5uYW1lLHApfXNldFJhdyh1LHApe3JldHVybiBuZXcgZCh0aGlzLm1hcC5zZXQodSxwKSl9ZGVsZXRlKHUpe3JldHVybiBuZXcgZCh0aGlzLm1hcC5kZWxldGUodS5uYW1lKSl9Z2V0KHUpe3JldHVybiB0aGlzLmdldFJhdyh1Lm5hbWUpfWdldFJhdyh1KXtyZXR1cm4gdGhpcy5tYXAuZ2V0KHUpfWdldFNhZmUodSl7aWYoIXRoaXMuaGFzKHUpKXRocm93IG5ldyBFcnJvcihgQ29udGV4dCBlbnRyeSAke3UubmFtZX0gaXMgcmVxdWlyZWQgYnV0IG5vdCBhdmFpbGFibGVgKTtyZXR1cm4gdGhpcy5nZXQodSl9aGFzKHUpe3JldHVybiB0aGlzLmhhc1Jhdyh1Lm5hbWUpfWhhc1Jhdyh1KXtyZXR1cm4gdGhpcy5tYXAuaGFzKHUpfW1lcmdlKC4uLnUpe2xldCBwPXRoaXM7Zm9yKGNvbnN0IGcgb2YgdSlmb3IoY29uc3QgdiBvZiBnLmtleXMoKSlwPXAuc2V0KHYsZy5nZXQodikpO3JldHVybiBwfWtleXMoKXtyZXR1cm5bLi4udGhpcy5tYXAua2V5cygpXS5tYXAodT0+bmV3IGgodSkpfXRvSlMoKXtyZXR1cm4gdGhpcy5tYXAudG9KUygpfXRvU3RyaW5nKCl7cmV0dXJuYEFjdGlvbkNvbnRleHQoJHtKU09OLnN0cmluZ2lmeSh0aGlzLm1hcC50b0pTKCkpfSlgfVtTeW1ib2wuZm9yKCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpXSgpe3JldHVybmBBY3Rpb25Db250ZXh0KCR7SlNPTi5zdHJpbmdpZnkodGhpcy5tYXAudG9KUygpLG51bGwsIiAgIil9KWB9c3RhdGljIGVuc3VyZUFjdGlvbkNvbnRleHQodSl7cmV0dXJuIHUgaW5zdGFuY2VvZiBkP3U6bmV3IGQoKDAsby5NYXApKHV8fHt9KSl9fWUuQWN0aW9uQ29udGV4dD1kO2NsYXNzIGh7Y29uc3RydWN0b3IodSl7dGhpcy5uYW1lPXV9fWUuQWN0aW9uQ29udGV4dEtleT1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9BY3Rpb25PYnNlcnZlci5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3Rpb25PYnNlcnZlcj12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkKXtPYmplY3QuYXNzaWduKHRoaXMsZCl9fWUuQWN0aW9uT2JzZXJ2ZXI9bn0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQWN0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BY3Rvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL0NvbnRleHRFbnRyaWVzLmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3RvcihsKXt0aGlzLmJlZm9yZUFjdG9ycz1bXSxPYmplY3QuYXNzaWduKHRoaXMsbCksdGhpcy5idXMuc3Vic2NyaWJlKHRoaXMpLHRoaXMuYmVmb3JlQWN0b3JzLmxlbmd0aD4wJiZ0aGlzLmJ1cy5hZGREZXBlbmRlbmNpZXModGhpcyx0aGlzLmJlZm9yZUFjdG9ycyl9c3RhdGljIGdldENvbnRleHRMb2dnZXIobCl7cmV0dXJuIGwuZ2V0KG8uQ09OVEVYVF9LRVlfTE9HR0VSKX1ydW5PYnNlcnZhYmxlKGwpe2NvbnN0IHU9dGhpcy5ydW4obCk7cmV0dXJuIHRoaXMuYnVzLm9uUnVuKHRoaXMsbCx1KSx1fWFzeW5jIGluaXRpYWxpemUoKXtyZXR1cm4hMH1hc3luYyBkZWluaXRpYWxpemUoKXtyZXR1cm4hMH1nZXREZWZhdWx0TG9nRGF0YShsLHUpe2NvbnN0IHA9dT91KCk6e307cmV0dXJuIHAuYWN0b3I9dGhpcy5uYW1lLHB9bG9nVHJhY2UobCx1LHApe2NvbnN0IGc9ZC5nZXRDb250ZXh0TG9nZ2VyKGwpO2cmJmcudHJhY2UodSx0aGlzLmdldERlZmF1bHRMb2dEYXRhKGwscCkpfWxvZ0RlYnVnKGwsdSxwKXtjb25zdCBnPWQuZ2V0Q29udGV4dExvZ2dlcihsKTtnJiZnLmRlYnVnKHUsdGhpcy5nZXREZWZhdWx0TG9nRGF0YShsLHApKX1sb2dJbmZvKGwsdSxwKXtjb25zdCBnPWQuZ2V0Q29udGV4dExvZ2dlcihsKTtnJiZnLmluZm8odSx0aGlzLmdldERlZmF1bHRMb2dEYXRhKGwscCkpfWxvZ1dhcm4obCx1LHApe2NvbnN0IGc9ZC5nZXRDb250ZXh0TG9nZ2VyKGwpO2cmJmcud2Fybih1LHRoaXMuZ2V0RGVmYXVsdExvZ0RhdGEobCxwKSl9bG9nRXJyb3IobCx1LHApe2NvbnN0IGc9ZC5nZXRDb250ZXh0TG9nZ2VyKGwpO2cmJmcuZXJyb3IodSx0aGlzLmdldERlZmF1bHRMb2dEYXRhKGwscCkpfWxvZ0ZhdGFsKGwsdSxwKXtjb25zdCBnPWQuZ2V0Q29udGV4dExvZ2dlcihsKTtnJiZnLmZhdGFsKHUsdGhpcy5nZXREZWZhdWx0TG9nRGF0YShsLHApKX19ZS5BY3Rvcj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9CdXMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQnVzPXZvaWQgMDtjbGFzcyBue2NvbnN0cnVjdG9yKGQpe3RoaXMuYWN0b3JzPVtdLHRoaXMub2JzZXJ2ZXJzPVtdLHRoaXMuZGVwZW5kZW5jeUxpbmtzPW5ldyBNYXAsT2JqZWN0LmFzc2lnbih0aGlzLGQpfXN1YnNjcmliZShkKXt0aGlzLmFjdG9ycy5wdXNoKGQpLHRoaXMucmVvcmRlckZvckRlcGVuZGVuY2llcygpfXN1YnNjcmliZU9ic2VydmVyKGQpe3RoaXMub2JzZXJ2ZXJzLnB1c2goZCl9dW5zdWJzY3JpYmUoZCl7Y29uc3QgaD10aGlzLmFjdG9ycy5pbmRleE9mKGQpO3JldHVybiBoPj0wPyh0aGlzLmFjdG9ycy5zcGxpY2UoaCwxKSwhMCk6ITF9dW5zdWJzY3JpYmVPYnNlcnZlcihkKXtjb25zdCBoPXRoaXMub2JzZXJ2ZXJzLmluZGV4T2YoZCk7cmV0dXJuIGg+PTA/KHRoaXMub2JzZXJ2ZXJzLnNwbGljZShoLDEpLCEwKTohMX1wdWJsaXNoKGQpe3JldHVybiB0aGlzLmFjdG9ycy5tYXAoaD0+KHthY3RvcjpoLHJlcGx5OmgudGVzdChkKX0pKX1vblJ1bihkLGgsbCl7Zm9yKGNvbnN0IHUgb2YgdGhpcy5vYnNlcnZlcnMpdS5vblJ1bihkLGgsbCl9YWRkRGVwZW5kZW5jaWVzKGQsaCl7Zm9yKGNvbnN0IGwgb2YgaCl7bGV0IHU9dGhpcy5kZXBlbmRlbmN5TGlua3MuZ2V0KGwpO3V8fCh1PVtdLHRoaXMuZGVwZW5kZW5jeUxpbmtzLnNldChsLHUpKSx1LnB1c2goZCl9dGhpcy5yZW9yZGVyRm9yRGVwZW5kZW5jaWVzKCl9cmVvcmRlckZvckRlcGVuZGVuY2llcygpe2lmKHRoaXMuZGVwZW5kZW5jeUxpbmtzLnNpemU+MCl7Y29uc3QgZD1bXTtmb3IoY29uc3QgaCBvZiB0aGlzLmRlcGVuZGVuY3lMaW5rcy5rZXlzKCkpe2NvbnN0IGw9dGhpcy5hY3RvcnMuaW5kZXhPZihoKTtsPj0wJiYodGhpcy5hY3RvcnMuc3BsaWNlKGwsMSksZC5wdXNoKGgpKX1mb3IoO2QubGVuZ3RoPjA7KXtsZXQgaD0tMTtmb3IobGV0IHU9MDt1PGQubGVuZ3RoO3UrKyl7bGV0IHA9ITA7Zm9yKGNvbnN0IGcgb2YgdGhpcy5kZXBlbmRlbmN5TGlua3MuZ2V0KGRbdV0pKWlmKCF0aGlzLmFjdG9ycy5pbmNsdWRlcyhnKSYmZC5pbmNsdWRlcyhnKSl7cD0hMTticmVha31pZihwKXtoPXU7YnJlYWt9fWlmKGg8MCl0aHJvdyBuZXcgRXJyb3IoYEN5Y2xpYyBkZXBlbmRlbmN5IGxpbmtzIGRldGVjdGVkIGluIGJ1cyAke3RoaXMubmFtZX1gKTtjb25zdCBsPWQuc3BsaWNlKGgsMSlbMF07dGhpcy5hY3RvcnMucHVzaChsKX19fX1lLkJ1cz1ufSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9CdXNJbmRleGVkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQnVzSW5kZXhlZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL0J1cy5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkJ1c3tjb25zdHJ1Y3RvcihsKXtzdXBlcihsKSx0aGlzLmFjdG9yc0luZGV4PXt9fXN1YnNjcmliZShsKXtjb25zdCB1PXRoaXMuZ2V0QWN0b3JJZGVudGlmaWVyKGwpfHwiX3VuZGVmaW5lZF8iO2xldCBwPXRoaXMuYWN0b3JzSW5kZXhbdV07cHx8KHA9dGhpcy5hY3RvcnNJbmRleFt1XT1bXSkscC5wdXNoKGwpLHN1cGVyLnN1YnNjcmliZShsKX11bnN1YnNjcmliZShsKXtjb25zdCB1PXRoaXMuZ2V0QWN0b3JJZGVudGlmaWVyKGwpfHwiX3VuZGVmaW5lZF8iLHA9dGhpcy5hY3RvcnNJbmRleFt1XTtpZihwKXtjb25zdCBnPXAuaW5kZXhPZihsKTtnPj0wJiZwLnNwbGljZShnLDEpLHAubGVuZ3RoPT09MCYmZGVsZXRlIHRoaXMuYWN0b3JzSW5kZXhbdV19cmV0dXJuIHN1cGVyLnVuc3Vic2NyaWJlKGwpfXB1Ymxpc2gobCl7Y29uc3QgdT10aGlzLmdldEFjdGlvbklkZW50aWZpZXIobCk7cmV0dXJuIHU/Wy4uLnRoaXMuYWN0b3JzSW5kZXhbdV18fFtdLC4uLnRoaXMuYWN0b3JzSW5kZXguX3VuZGVmaW5lZF98fFtdXS5tYXAoZz0+KHthY3RvcjpnLHJlcGx5OmcudGVzdChsKX0pKTpzdXBlci5wdWJsaXNoKGwpfWdldEFjdG9ySWRlbnRpZmllcihsKXtyZXR1cm4gdGhpcy5hY3RvcklkZW50aWZpZXJGaWVsZHMucmVkdWNlKCh1LHApPT51W3BdLGwpfWdldEFjdGlvbklkZW50aWZpZXIobCl7cmV0dXJuIHRoaXMuYWN0aW9uSWRlbnRpZmllckZpZWxkcy5yZWR1Y2UoKHUscCk9PnVbcF0sbCl9fWUuQnVzSW5kZXhlZD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9Db250ZXh0RW50cmllcy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkNPTlRFWFRfS0VZX0xPR0dFUj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL0FjdGlvbkNvbnRleHQuanMiKTtlLkNPTlRFWFRfS0VZX0xPR0dFUj1uZXcgby5BY3Rpb25Db250ZXh0S2V5KCJAY29tdW5pY2EvY29yZTpsb2ciKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvTWVkaWF0b3IuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVkaWF0b3I9dm9pZCAwO2NsYXNzIG57Y29uc3RydWN0b3IoZCl7T2JqZWN0LmFzc2lnbih0aGlzLGQpfXB1Ymxpc2goZCl7Y29uc3QgaD10aGlzLmJ1cy5wdWJsaXNoKGQpO2lmKGgubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoYE5vIGFjdG9ycyBhcmUgYWJsZSB0byByZXBseSB0byBhIG1lc3NhZ2UgaW4gdGhlIGJ1cyAke3RoaXMuYnVzLm5hbWV9YCk7cmV0dXJuIGh9YXN5bmMgbWVkaWF0ZUFjdG9yKGQpe3JldHVybiBhd2FpdCB0aGlzLm1lZGlhdGVXaXRoKGQsdGhpcy5wdWJsaXNoKGQpKX1hc3luYyBtZWRpYXRlKGQpe3JldHVybihhd2FpdCB0aGlzLm1lZGlhdGVBY3RvcihkKSkucnVuT2JzZXJ2YWJsZShkKX19ZS5NZWRpYXRvcj1ufSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih1LHAsZyx2KXt2PT09dm9pZCAwJiYodj1nKTt2YXIgYj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHAsZyk7KCFifHwoImdldCJpbiBiPyFwLl9fZXNNb2R1bGU6Yi53cml0YWJsZXx8Yi5jb25maWd1cmFibGUpKSYmKGI9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBbZ119fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsdixiKX06ZnVuY3Rpb24odSxwLGcsdil7dj09PXZvaWQgMCYmKHY9ZyksdVt2XT1wW2ddfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24odSxwKXtmb3IodmFyIGcgaW4gdSlnIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHAsZykmJm8ocCx1LGcpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Mb2dnZXI9dm9pZCAwO2NvbnN0IGw9bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvaW5kZXguanMiKS5Mb2dnZXI7ZS5Mb2dnZXI9bCxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQWN0aW9uQ29udGV4dC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9CdXMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvQnVzSW5kZXhlZC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9Db250ZXh0RW50cmllcy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9BY3Rpb25PYnNlcnZlci5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9BY3Rvci5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9NZWRpYXRvci5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZUJpbmRpbmdzU2NvcGVkLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJsYW5rTm9kZUJpbmRpbmdzU2NvcGVkPXZvaWQgMDtjbGFzcyBue2NvbnN0cnVjdG9yKGQpe3RoaXMudGVybVR5cGU9IkJsYW5rTm9kZSIsdGhpcy5zaW5nbGVCaW5kaW5nc1Njb3BlPSEwLHRoaXMudmFsdWU9ZH1lcXVhbHMoZCl7cmV0dXJuISFkJiZkLnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJmQudmFsdWU9PT10aGlzLnZhbHVlfX1lLkJsYW5rTm9kZUJpbmRpbmdzU2NvcGVkPW59LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2RhdGEtZmFjdG9yeS9saWIvQmxhbmtOb2RlU2NvcGVkLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJsYW5rTm9kZVNjb3BlZD12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkLGgpe3RoaXMudGVybVR5cGU9IkJsYW5rTm9kZSIsdGhpcy52YWx1ZT1kLHRoaXMuc2tvbGVtaXplZD1ofWVxdWFscyhkKXtyZXR1cm4hIWQmJmQudGVybVR5cGU9PT0iQmxhbmtOb2RlIiYmZC52YWx1ZT09PXRoaXMudmFsdWV9fWUuQmxhbmtOb2RlU2NvcGVkPW59LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2RhdGEtZmFjdG9yeS9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZVNjb3BlZC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZUJpbmRpbmdzU2NvcGVkLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2xvZ2dlci12b2lkL2xpYi9Mb2dnZXJWb2lkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTG9nZ2VyVm9pZD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkxvZ2dlcntkZWJ1Zygpe31lcnJvcigpe31mYXRhbCgpe31pbmZvKCl7fXRyYWNlKCl7fXdhcm4oKXt9fWUuTG9nZ2VyVm9pZD1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9sb2dnZXItdm9pZC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9sb2dnZXItdm9pZC9saWIvTG9nZ2VyVm9pZC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1hbGwvbGliL01lZGlhdG9yQWxsLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVkaWF0b3JBbGw9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLk1lZGlhdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfWFzeW5jIG1lZGlhdGUobCl7Y29uc3QgdT1bXTtsZXQgcDt0cnl7cD10aGlzLnB1Ymxpc2gobCl9Y2F0Y2h7cD1bXX1mb3IoY29uc3QgdiBvZiBwKXRyeXthd2FpdCB2LnJlcGx5LHUucHVzaCh2LmFjdG9yKX1jYXRjaHt9cmV0dXJuKGF3YWl0IFByb21pc2UuYWxsKHUubWFwKHY9PnYucnVuT2JzZXJ2YWJsZShsKSkpKVswXX1hc3luYyBtZWRpYXRlV2l0aCgpe3Rocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgb3BlcmF0aW9uOiBNZWRpYXRvckFsbCNtZWRpYXRlV2l0aCIpfX1lLk1lZGlhdG9yQWxsPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWFsbC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1hbGwvbGliL01lZGlhdG9yQWxsLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtcGlwZWxpbmUvbGliL01lZGlhdG9yQ29tYmluZVBpcGVsaW5lLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVkaWF0b3JDb21iaW5lUGlwZWxpbmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLk1lZGlhdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfWFzeW5jIG1lZGlhdGUobCl7bGV0IHU7dHJ5e3U9dGhpcy5wdWJsaXNoKGwpfWNhdGNoe3JldHVybiBsfWlmKHRoaXMuZmlsdGVyRXJyb3JzKXtjb25zdCBnPVtdO2Zvcihjb25zdCB2IG9mIHUpdHJ5e2F3YWl0IHYucmVwbHksZy5wdXNoKHYpfWNhdGNoe311PWd9aWYodT1hd2FpdCBQcm9taXNlLmFsbCh1Lm1hcChhc3luYyh7YWN0b3I6ZyxyZXBseTp2fSk9Pih7YWN0b3I6ZyxyZXBseTphd2FpdCB2fSkpKSx0aGlzLm9yZGVyKXtjb25zdCBnPXY9Pntjb25zdCBiPXRoaXMuZmllbGQ/dlt0aGlzLmZpZWxkXTp2O2lmKHR5cGVvZiBiIT0ibnVtYmVyIil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBvcmRlciBlbGVtZW50cyB0aGF0IGFyZSBub3QgbnVtYmVycy4iKTtyZXR1cm4gYn07dT11LnNvcnQoKHYsYik9Pih0aGlzLm9yZGVyPT09ImluY3JlYXNpbmciPzE6LTEpKihnKHYucmVwbHkpLWcoYi5yZXBseSkpKX1sZXQgcD1sO2Zvcihjb25zdHthY3RvcjpnfW9mIHUpcD17Li4ucCwuLi5hd2FpdCBnLnJ1bk9ic2VydmFibGUocCl9O3JldHVybiBwfW1lZGlhdGVXaXRoKCl7dGhyb3cgbmV3IEVycm9yKCJNZXRob2Qgbm90IHN1cHBvcnRlZC4iKX19ZS5NZWRpYXRvckNvbWJpbmVQaXBlbGluZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXBpcGVsaW5lL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtcGlwZWxpbmUvbGliL01lZGlhdG9yQ29tYmluZVBpcGVsaW5lLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtdW5pb24vbGliL01lZGlhdG9yQ29tYmluZVVuaW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVkaWF0b3JDb21iaW5lVW5pb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLk1lZGlhdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpLHRoaXMuY29tYmluZXI9dGhpcy5jcmVhdGVDb21iaW5lcigpfWFzeW5jIG1lZGlhdGUobCl7bGV0IHU7dHJ5e3U9dGhpcy5wdWJsaXNoKGwpfWNhdGNoe3U9W119YXdhaXQgUHJvbWlzZS5hbGwodS5tYXAoKHtyZXBseTpnfSk9PmcpKTtjb25zdCBwPWF3YWl0IFByb21pc2UuYWxsKHUubWFwKGc9PmcuYWN0b3IucnVuT2JzZXJ2YWJsZShsKSkpO3JldHVybiB0aGlzLmNvbWJpbmVyKHApfW1lZGlhdGVXaXRoKCl7dGhyb3cgbmV3IEVycm9yKCJNZXRob2Qgbm90IHN1cHBvcnRlZC4iKX1jcmVhdGVDb21iaW5lcigpe3JldHVybiBsPT57Y29uc3QgdT17fTtyZXR1cm4gdVt0aGlzLmZpZWxkXT17fSxbe31dLmNvbmNhdChsLm1hcChwPT5wW3RoaXMuZmllbGRdKSkuZm9yRWFjaCgocCxnLHYpPT57dVt0aGlzLmZpZWxkXT17Li4ucCwuLi51W3RoaXMuZmllbGRdfX0pLHV9fX1lLk1lZGlhdG9yQ29tYmluZVVuaW9uPWR9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtdW5pb24vbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItY29tYmluZS11bmlvbi9saWIvTWVkaWF0b3JDb21iaW5lVW5pb24uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3Itam9pbi1jb2VmZmljaWVudHMtZml4ZWQvbGliL01lZGlhdG9ySm9pbkNvZWZmaWNpZW50c0ZpeGVkLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWVkaWF0b3JKb2luQ29lZmZpY2llbnRzRml4ZWQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb250ZXh0LWVudHJpZXMvbGliL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIik7Y2xhc3MgaCBleHRlbmRzIGQuTWVkaWF0b3J7Y29uc3RydWN0b3IodSl7c3VwZXIodSl9YXN5bmMgbWVkaWF0ZVdpdGgodSxwKXtjb25zdCBnPVtdLHY9cC5tYXAoKHtyZXBseTpMfSk9PkwpLm1hcChMPT5MLmNhdGNoKEM9PntnLnB1c2goQyl9KSksYj1hd2FpdCBQcm9taXNlLmFsbCh2KTtsZXQgXz1iLm1hcCgoTCxDKT0+e2lmKEwpcmV0dXJuIEwuaXRlcmF0aW9ucyp0aGlzLmNwdVdlaWdodCtMLnBlcnNpc3RlZEl0ZW1zKnRoaXMubWVtb3J5V2VpZ2h0K0wuYmxvY2tpbmdJdGVtcyp0aGlzLnRpbWVXZWlnaHQrTC5yZXF1ZXN0VGltZSp0aGlzLmlvV2VpZ2h0fSk7Y29uc3QgTz1NYXRoLm1heCguLi5fLmZpbHRlcihMPT5MIT09dm9pZCAwKSksVD11LmNvbnRleHQuZ2V0KG8uS2V5c1F1ZXJ5T3BlcmF0aW9uLmxpbWl0SW5kaWNhdG9yKTtUJiYoXz1fLm1hcCgoTCxDKT0+TCE9PXZvaWQgMCYmYltDXS5wZXJzaXN0ZWRJdGVtcz4wJiZiW0NdLml0ZXJhdGlvbnM+VD9MK086TCkpO2xldCBTPS0xLE49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2Zvcihjb25zdFtMLENdb2YgXy5lbnRyaWVzKCkpQyE9PXZvaWQgMCYmKFM9PT0tMXx8QzxOKSYmKFM9TCxOPUMpO2lmKFM8MCl0aHJvdyBuZXcgRXJyb3IoYEFsbCBhY3RvcnMgcmVqZWN0ZWQgdGhlaXIgdGVzdCBpbiAke3RoaXMubmFtZX0KJHtnLm1hcChMPT5MLm1lc3NhZ2UpLmpvaW4oYApgKX1gKTtjb25zdCBCPXBbU10uYWN0b3I7cmV0dXJuIEIuaW5jbHVkZUluTG9ncyYmZC5BY3Rvci5nZXRDb250ZXh0TG9nZ2VyKHUuY29udGV4dCk/LmRlYnVnKGBEZXRlcm1pbmVkIHBoeXNpY2FsIGpvaW4gb3BlcmF0b3IgJyR7Qi5sb2dpY2FsVHlwZX0tJHtCLnBoeXNpY2FsTmFtZX0nYCx7ZW50cmllczp1LmVudHJpZXMubGVuZ3RoLHZhcmlhYmxlczphd2FpdCBQcm9taXNlLmFsbCh1LmVudHJpZXMubWFwKGFzeW5jIEw9Pihhd2FpdCBMLm91dHB1dC5tZXRhZGF0YSgpKS52YXJpYWJsZXMubWFwKEM9PkMudmFsdWUpKSksY29zdHM6T2JqZWN0LmZyb21FbnRyaWVzKF8ubWFwKChMLEMpPT5bYCR7cFtDXS5hY3Rvci5sb2dpY2FsVHlwZX0tJHtwW0NdLmFjdG9yLnBoeXNpY2FsTmFtZX1gLExdKSksY29lZmZpY2llbnRzOk9iamVjdC5mcm9tRW50cmllcyhiLm1hcCgoTCxDKT0+W2Ake3BbQ10uYWN0b3IubG9naWNhbFR5cGV9LSR7cFtDXS5hY3Rvci5waHlzaWNhbE5hbWV9YCxMXSkpfSksQn19ZS5NZWRpYXRvckpvaW5Db2VmZmljaWVudHNGaXhlZD1ofSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1qb2luLWNvZWZmaWNpZW50cy1maXhlZC9saWIvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSk7dmFyIGc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihsLHUpOyghZ3x8KCJnZXQiaW4gZz8hbC5fX2VzTW9kdWxlOmcud3JpdGFibGV8fGcuY29uZmlndXJhYmxlKSkmJihnPXtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAsZyl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1qb2luLWNvZWZmaWNpZW50cy1maXhlZC9saWIvTWVkaWF0b3JKb2luQ29lZmZpY2llbnRzRml4ZWQuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItbnVtYmVyL2xpYi9NZWRpYXRvck51bWJlci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1lZGlhdG9yTnVtYmVyPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKTtjbGFzcyBkIGV4dGVuZHMgby5NZWRpYXRvcntjb25zdHJ1Y3RvcihsKXtzdXBlcihsKSx0aGlzLmluZGV4UGlja2VyPXRoaXMuY3JlYXRlSW5kZXhQaWNrZXIoKX1jcmVhdGVJbmRleFBpY2tlcigpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UibWluIjpyZXR1cm4gbD0+bC5yZWR1Y2UoKHUscCxnKT0+e2NvbnN0IHY9dGhpcy5nZXRPckRlZmF1bHQocFt0aGlzLmZpZWxkXSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO3JldHVybiB2IT09bnVsbCYmKE51bWJlci5pc05hTih1WzBdKXx8dVswXT52KT9bdixnXTp1fSxbTnVtYmVyLk5hTiwtMV0pWzFdO2Nhc2UibWF4IjpyZXR1cm4gbD0+bC5yZWR1Y2UoKHUscCxnKT0+e2NvbnN0IHY9dGhpcy5nZXRPckRlZmF1bHQocFt0aGlzLmZpZWxkXSxOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO3JldHVybiB2IT09bnVsbCYmKE51bWJlci5pc05hTih1WzBdKXx8dVswXTx2KT9bdixnXTp1fSxbTnVtYmVyLk5hTiwtMV0pWzFdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBObyB2YWxpZCAidHlwZSIgdmFsdWUgd2FzIGdpdmVuLCBtdXN0IGJlIGVpdGhlciAnbWluJyBvciAnbWF4JywgYnV0IGdvdDogJHt0aGlzLnR5cGV9YCl9fWdldE9yRGVmYXVsdChsLHUpe3JldHVybiBsPT09dm9pZCAwP3U6bH1hc3luYyBtZWRpYXRlV2l0aChsLHUpe2xldCBwPXUubWFwKCh7cmVwbHk6X30pPT5fKTtjb25zdCBnPVtdO2lmKHRoaXMuaWdub3JlRXJyb3JzKXtjb25zdCBfPXt9O19bdGhpcy5maWVsZF09bnVsbCxwPXAubWFwKE89Pk8uY2F0Y2goVD0+KGcucHVzaChUKSxfKSkpfWNvbnN0IHY9YXdhaXQgUHJvbWlzZS5hbGwocCksYj10aGlzLmluZGV4UGlja2VyKHYpO2lmKGI8MCl0aHJvdyBuZXcgRXJyb3IoYEFsbCBhY3RvcnMgcmVqZWN0ZWQgdGhlaXIgdGVzdCBpbiAke3RoaXMubmFtZX0KJHtnLm1hcChfPT5fLm1lc3NhZ2UpLmpvaW4oYApgKX1gKTtyZXR1cm4gdVtiXS5hY3Rvcn19ZS5NZWRpYXRvck51bWJlcj1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1udW1iZXIvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItbnVtYmVyL2xpYi9NZWRpYXRvck51bWJlci5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9NZWRpYXRvclJhY2UuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5NZWRpYXRvclJhY2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLk1lZGlhdG9ye2NvbnN0cnVjdG9yKGwpe3N1cGVyKGwpfW1lZGlhdGVXaXRoKGwsdSl7cmV0dXJuIG5ldyBQcm9taXNlKChwLGcpPT57Y29uc3Qgdj1bXTtmb3IoY29uc3QgYiBvZiB1KWIucmVwbHkudGhlbigoKT0+e3AoYi5hY3Rvcil9KS5jYXRjaChfPT57di5wdXNoKF8pLHYubGVuZ3RoPT09dS5sZW5ndGgmJmcobmV3IEVycm9yKGAke3RoaXMubmFtZX0gbWVkaWF0ZWQgb3ZlciBhbGwgcmVqZWN0aW5nIGFjdG9yczoKJHt2Lm1hcChPPT5PLm1lc3NhZ2UpLmpvaW4oYApgKX1gKSl9KX0pfX1lLk1lZGlhdG9yUmFjZT1kfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KTt2YXIgZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGwsdSk7KCFnfHwoImdldCJpbiBnPyFsLl9fZXNNb2R1bGU6Zy53cml0YWJsZXx8Zy5jb25maWd1cmFibGUpKSYmKGc9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCxnKX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLXJhY2UvbGliL01lZGlhdG9yUmFjZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvQmluZGluZ3MuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUFjdGlvbkNvbnRleHQuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUFnZ3JlZ2F0ZWRTdG9yZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JQ2xpQXJnc0hhbmRsZXIuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSURhdGFEZXN0aW5hdGlvbi5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JRGF0YVNvdXJjZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JSm9pbkVudHJ5LmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lNZXRhZGF0YS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXIuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSVByb3h5SGFuZGxlci5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUXVlcnlDb250ZXh0LmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lRdWVyeUVuZ2luZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUXVlcnlPcGVyYXRpb25SZXN1bHQuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSwiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvTG9nZ2VyLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkxvZ2dlcj12b2lkIDA7Y2xhc3MgbntzdGF0aWMgZ2V0TGV2ZWxPcmRpbmFsKGQpe3JldHVybiBuLkxFVkVMU1tkXX19ZS5Mb2dnZXI9bixuLkxFVkVMUz17dHJhY2U6MCxkZWJ1ZzoxLGluZm86Mix3YXJuOjMsZXJyb3I6NCxmYXRhbDo1fX0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0JpbmRpbmdzLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JQWN0aW9uQ29udGV4dC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUFnZ3JlZ2F0ZWRTdG9yZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUNsaUFyZ3NIYW5kbGVyLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JRGF0YURlc3RpbmF0aW9uLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JRGF0YVNvdXJjZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSUpvaW5FbnRyeS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSU1ldGFkYXRhLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9JUGh5c2ljYWxRdWVyeVBsYW5Mb2dnZXIuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lQcm94eUhhbmRsZXIuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lRdWVyeUNvbnRleHQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvdHlwZXMvbGliL0lRdWVyeUVuZ2luZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS90eXBlcy9saWIvSVF1ZXJ5T3BlcmF0aW9uUmVzdWx0LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL3R5cGVzL2xpYi9Mb2dnZXIuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vaW5kZXguanMiOih0LGUsbik9Pntjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9EeW5hbWljTmVzdGVkTG9vcEpvaW4uanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9IYXNoSm9pbi5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL2FzeW5jam9pbi9qb2luL05lc3RlZExvb3BKb2luLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvYXN5bmNqb2luL2pvaW4vU3ltbWV0cmljSGFzaEpvaW4uanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vdXRpbC9NZXJnZUl0ZXJhdG9yLmpzIik7dC5leHBvcnRzPXtEeW5hbWljTmVzdGVkTG9vcEpvaW46byxIYXNoSm9pbjpkLE5lc3RlZExvb3BKb2luOmgsU3ltbWV0cmljSGFzaEpvaW46bCxNZXJnZVN0cmVhbTp1fX0sIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9EeW5hbWljTmVzdGVkTG9vcEpvaW4uanMiOih0LGUsbik9PntsZXQgbz1uKCJhc3luY2l0ZXJhdG9yIiksZD1vLk11bHRpVHJhbnNmb3JtSXRlcmF0b3IsaD1vLlNpbXBsZVRyYW5zZm9ybUl0ZXJhdG9yO2NsYXNzIGwgZXh0ZW5kcyBke2NvbnN0cnVjdG9yKHAsZyx2LGIpe3N1cGVyKHAsYiksdGhpcy5mdW5SaWdodD1nLHRoaXMuZnVuSm9pbj12fV9jcmVhdGVUcmFuc2Zvcm1lcihwKXtyZXR1cm4gbmV3IGgodGhpcy5mdW5SaWdodChwKSx7dHJhbnNmb3JtOihnLHYsYik9PntsZXQgXz10aGlzLmZ1bkpvaW4ocCxnKTtfIT09bnVsbCYmYihfKSx2KCl9fSl9fXQuZXhwb3J0cz1sfSwiLi4vbm9kZV9tb2R1bGVzL2FzeW5jam9pbi9qb2luL0hhc2hKb2luLmpzIjoodCxlLG4pPT57bGV0IG89bigiYXN5bmNpdGVyYXRvciIpLkFzeW5jSXRlcmF0b3I7Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IobCx1LHAsZyl7c3VwZXIoKSx0aGlzLmFkZGVkRGF0YUxpc3RlbmVyPSExLHRoaXMubGVmdD1sLHRoaXMucmlnaHQ9dSx0aGlzLmZ1bkhhc2g9cCx0aGlzLmZ1bkpvaW49Zyx0aGlzLmxlZnRNYXA9bmV3IE1hcCx0aGlzLm1hdGNoPW51bGwsdGhpcy5tYXRjaGVzPVtdLHRoaXMubWF0Y2hJZHg9MCx0aGlzLmxlZnQub24oImVycm9yIixiPT50aGlzLmRlc3Ryb3koYikpLHRoaXMucmlnaHQub24oImVycm9yIixiPT50aGlzLmRlc3Ryb3koYikpLHRoaXMucmVhZGFibGU9ITEsdGhpcy5sZWZ0Lm9uKCJlbmQiLHYuYmluZCh0aGlzKSk7ZnVuY3Rpb24gdigpe2lmKHRoaXMubGVmdE1hcC5zaXplPD0wKXJldHVybiB0aGlzLmNsb3NlKCk7dGhpcy5yZWFkYWJsZT0hMCx0aGlzLnJpZ2h0Lm9uKCJyZWFkYWJsZSIsKCk9PnRoaXMucmVhZGFibGU9ITApLHRoaXMucmlnaHQub24oImVuZCIsKCk9Pnt0aGlzLmhhc1Jlc3VsdHMoKXx8dGhpcy5fZW5kKCl9KX10aGlzLm9uKCJuZXdMaXN0ZW5lciIsYj0+e2I9PT0iZGF0YSImJiF0aGlzLmFkZGVkRGF0YUxpc3RlbmVyJiYodGhpcy5hZGRlZERhdGFMaXN0ZW5lcj0hMCx0aGlzLl9hZGREYXRhTGlzdGVuZXIoKSl9KX1oYXNSZXN1bHRzKCl7cmV0dXJuIXRoaXMucmlnaHQuZW5kZWR8fHRoaXMubWF0Y2hJZHg8dGhpcy5tYXRjaGVzLmxlbmd0aH1fZW5kKCl7c3VwZXIuX2VuZCgpLHRoaXMubGVmdC5kZXN0cm95KCksdGhpcy5yaWdodC5kZXN0cm95KCl9cmVhZCgpe2Zvcih0aGlzLmFkZGVkRGF0YUxpc3RlbmVyfHwodGhpcy5hZGRlZERhdGFMaXN0ZW5lcj0hMCx0aGlzLl9hZGREYXRhTGlzdGVuZXIoKSk7Oyl7aWYodGhpcy5lbmRlZHx8IXRoaXMucmVhZGFibGUpcmV0dXJuIG51bGw7Zm9yKDt0aGlzLm1hdGNoSWR4PHRoaXMubWF0Y2hlcy5sZW5ndGg7KXtsZXQgdT10aGlzLm1hdGNoZXNbdGhpcy5tYXRjaElkeCsrXSxwPXRoaXMuZnVuSm9pbih1LHRoaXMubWF0Y2gpO2lmKHAhPT1udWxsKXJldHVybiBwfWlmKHRoaXMuaGFzUmVzdWx0cygpfHx0aGlzLl9lbmQoKSx0aGlzLm1hdGNoPXRoaXMucmlnaHQucmVhZCgpLHRoaXMubWF0Y2g9PT1udWxsKXJldHVybiB0aGlzLnJlYWRhYmxlPSExLG51bGw7bGV0IGw9dGhpcy5mdW5IYXNoKHRoaXMubWF0Y2gpO3RoaXMubWF0Y2hlcz10aGlzLmxlZnRNYXAuZ2V0KGwpfHxbXSx0aGlzLm1hdGNoSWR4PTB9fV9hZGREYXRhTGlzdGVuZXIoKXt0aGlzLmxlZnQub24oImRhdGEiLGwuYmluZCh0aGlzKSk7ZnVuY3Rpb24gbCh1KXtsZXQgcD10aGlzLmZ1bkhhc2godSk7dGhpcy5sZWZ0TWFwLmhhcyhwKXx8dGhpcy5sZWZ0TWFwLnNldChwLFtdKSx0aGlzLmxlZnRNYXAuZ2V0KHApLnB1c2godSl9fX10LmV4cG9ydHM9ZH0sIi4uL25vZGVfbW9kdWxlcy9hc3luY2pvaW4vam9pbi9OZXN0ZWRMb29wSm9pbi5qcyI6KHQsZSxuKT0+e2NvbnN0e011bHRpVHJhbnNmb3JtSXRlcmF0b3I6byxTaW1wbGVUcmFuc2Zvcm1JdGVyYXRvcjpkLHNjaGVkdWxlVGFzazpofT1uKCJhc3luY2l0ZXJhdG9yIik7Y2xhc3MgbCBleHRlbmRzIG97Y29uc3RydWN0b3IocCxnLHYsYil7c3VwZXIocCxiKSx0aGlzLnJpZ2h0PWcsdGhpcy5mdW5Kb2luPXYsdGhpcy5vbigiZW5kIiwoKT0+dGhpcy5yaWdodC5jbG9zZSgpKX1fZW5kKCl7c3VwZXIuX2VuZCgpLGgoKCk9PnRoaXMucmlnaHQuZGVzdHJveSgpKX1fY3JlYXRlVHJhbnNmb3JtZXIocCl7cmV0dXJuIG5ldyBkKHRoaXMucmlnaHQuY2xvbmUoKSx7dHJhbnNmb3JtOihnLHYsYik9PntsZXQgXz10aGlzLmZ1bkpvaW4ocCxnKTtfIT09bnVsbCYmYihfKSx2KCl9fSl9fXQuZXhwb3J0cz1sfSwiLi4vbm9kZV9tb2R1bGVzL2FzeW5jam9pbi9qb2luL1N5bW1ldHJpY0hhc2hKb2luLmpzIjoodCxlLG4pPT57bGV0IG89bigiYXN5bmNpdGVyYXRvciIpLkFzeW5jSXRlcmF0b3I7Y2xhc3MgZCBleHRlbmRzIG97Y29uc3RydWN0b3IobCx1LHAsZyl7c3VwZXIoKSx0aGlzLmxlZnQ9bCx0aGlzLnJpZ2h0PXUsdGhpcy5mdW5IYXNoPXAsdGhpcy5mdW5Kb2luPWcsdGhpcy51c2VkTGVmdD0hMSx0aGlzLmxlZnRNYXA9bmV3IE1hcCx0aGlzLnJpZ2h0TWFwPW5ldyBNYXAsdGhpcy5vbigiZW5kIiwoKT0+dGhpcy5fY2xlYW51cCgpKSx0aGlzLm1hdGNoPW51bGwsdGhpcy5tYXRjaGVzPVtdLHRoaXMubWF0Y2hJZHg9MCwodGhpcy5sZWZ0LnJlYWRhYmxlfHx0aGlzLnJpZ2h0LnJlYWRhYmxlKSYmKHRoaXMucmVhZGFibGU9ITApLHRoaXMubGVmdC5vbigiZXJyb3IiLHY9PnRoaXMuZGVzdHJveSh2KSksdGhpcy5yaWdodC5vbigiZXJyb3IiLHY9PnRoaXMuZGVzdHJveSh2KSksdGhpcy5sZWZ0Lm9uKCJyZWFkYWJsZSIsKCk9PnRoaXMucmVhZGFibGU9ITApLHRoaXMucmlnaHQub24oInJlYWRhYmxlIiwoKT0+dGhpcy5yZWFkYWJsZT0hMCksdGhpcy5sZWZ0Lm9uKCJlbmQiLCgpPT57dGhpcy5oYXNSZXN1bHRzKCl8fHRoaXMuX2VuZCgpfSksdGhpcy5yaWdodC5vbigiZW5kIiwoKT0+e3RoaXMuaGFzUmVzdWx0cygpfHx0aGlzLl9lbmQoKX0pfWhhc1Jlc3VsdHMoKXtyZXR1cm4hdGhpcy5sZWZ0LmVuZGVkfHwhdGhpcy5yaWdodC5lbmRlZHx8ISF0aGlzLm1hdGNoZXMmJnRoaXMubWF0Y2hJZHg8dGhpcy5tYXRjaGVzLmxlbmd0aH1fY2xlYW51cCgpe3RoaXMubGVmdE1hcD1udWxsLHRoaXMucmlnaHRNYXA9bnVsbCx0aGlzLm1hdGNoZXM9bnVsbH1fZW5kKCl7c3VwZXIuX2VuZCgpLHRoaXMubGVmdC5kZXN0cm95KCksdGhpcy5yaWdodC5kZXN0cm95KCl9cmVhZCgpe2lmKHRoaXMuZW5kZWQpcmV0dXJuIG51bGw7Zm9yKDt0aGlzLm1hdGNoSWR4PHRoaXMubWF0Y2hlcy5sZW5ndGg7KXtsZXQgdj10aGlzLm1hdGNoZXNbdGhpcy5tYXRjaElkeCsrXSxiPXRoaXMudXNlZExlZnQ/dGhpcy5mdW5Kb2luKHRoaXMubWF0Y2gsdik6dGhpcy5mdW5Kb2luKHYsdGhpcy5tYXRjaCk7aWYoYiE9PW51bGwpcmV0dXJuIGJ9dGhpcy5oYXNSZXN1bHRzKCl8fHRoaXMuX2VuZCgpO2xldCBsPW51bGw7Zm9yKGxldCB2PTA7djwyJiYobD10aGlzLnVzZWRMZWZ0P3RoaXMucmlnaHQucmVhZCgpOnRoaXMubGVmdC5yZWFkKCksdGhpcy51c2VkTGVmdD0hdGhpcy51c2VkTGVmdCxsPT09bnVsbCk7Kyt2KTtpZih0aGlzLmRvbmV8fGw9PT1udWxsKXJldHVybiB0aGlzLnJlYWRhYmxlPSExLG51bGw7bGV0IHU9dGhpcy5mdW5IYXNoKGwpLHA9dGhpcy51c2VkTGVmdD90aGlzLmxlZnRNYXA6dGhpcy5yaWdodE1hcDtyZXR1cm4gcC5oYXModSl8fHAuc2V0KHUsW10pLHAuZ2V0KHUpLnB1c2gobCksdGhpcy5tYXRjaD1sLHRoaXMubWF0Y2hlcz0odGhpcy51c2VkTGVmdD90aGlzLnJpZ2h0TWFwOnRoaXMubGVmdE1hcCkuZ2V0KHUpfHxbXSx0aGlzLm1hdGNoSWR4PTAsdGhpcy5yZWFkKCl9fXQuZXhwb3J0cz1kfSwiLi4vbm9kZV9tb2R1bGVzL2FzeW5jam9pbi91dGlsL01lcmdlSXRlcmF0b3IuanMiOih0LGUsbik9PntsZXQgbz1uKCJhc3luY2l0ZXJhdG9yIikuQXN5bmNJdGVyYXRvcjtjbGFzcyBkIGV4dGVuZHMgb3tjb25zdHJ1Y3RvcihsKXtzdXBlcigpLEFycmF5LmlzQXJyYXkobCl8fChsPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpLHRoaXMuc3RyZWFtcz1sO2ZvcihsZXQgdSBvZiBsKXUub24oInJlYWRhYmxlIiwoKT0+dGhpcy5lbWl0KCJyZWFkYWJsZSIpKSx1Lm9uKCJlbmQiLCgpPT50aGlzLl9yZW1vdmVTdHJlYW0odSkpO3RoaXMuc3RyZWFtcy5sZW5ndGg9PT0wJiZ0aGlzLmNsb3NlKCksdGhpcy5pZHg9dGhpcy5zdHJlYW1zLmxlbmd0aC0xfV9yZW1vdmVTdHJlYW0obCl7bGV0IHU9dGhpcy5zdHJlYW1zLmluZGV4T2YobCk7dTwwfHwodGhpcy5zdHJlYW1zLnNwbGljZSh1LDEpLHRoaXMuaWR4Pj10aGlzLnN0cmVhbXMubGVuZ3RoJiYtLXRoaXMuaWR4LHRoaXMuc3RyZWFtcy5sZW5ndGg9PT0wJiZ0aGlzLl9lbmQoKSl9Y2xvc2UoKXtzdXBlci5jbG9zZSgpO2ZvcihsZXQgbCBvZiB0aGlzLnN0cmVhbXMpbC5jbG9zZSgpfXJlYWQoKXtmb3IobGV0IGw9MDtsPHRoaXMuc3RyZWFtcy5sZW5ndGg7KytsKXt0aGlzLmlkeD0odGhpcy5pZHgrMSkldGhpcy5zdHJlYW1zLmxlbmd0aDtsZXQgdT10aGlzLnN0cmVhbXNbdGhpcy5pZHhdLnJlYWQoKTtpZih1IT09bnVsbClyZXR1cm4gdX1yZXR1cm4gbnVsbH19dC5leHBvcnRzPWR9LCIuLi9ub2RlX21vZHVsZXMvYmlnbnVtYmVyLmpzL2JpZ251bWJlci5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvOyhmdW5jdGlvbihkKXt2YXIgaCxsPS9eLT8oPzpcZCsoPzpcLlxkKik/fFwuXGQrKSg/OmVbKy1dP1xkKyk/JC9pLHU9TWF0aC5jZWlsLHA9TWF0aC5mbG9vcixnPSJbQmlnTnVtYmVyIEVycm9yXSAiLHY9ZysiTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czogIixiPTFlMTQsXz0xNCxPPTkwMDcxOTkyNTQ3NDA5OTEsVD1bMSwxMCwxMDAsMWUzLDFlNCwxZTUsMWU2LDFlNywxZTgsMWU5LDFlMTAsMWUxMSwxZTEyLDFlMTNdLFM9MWU3LE49MWU5O2Z1bmN0aW9uIEIoYWUpe3ZhciBYLEcscmUsTT12ZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnZlLHRvU3RyaW5nOm51bGwsdmFsdWVPZjpudWxsfSwkPW5ldyB2ZSgxKSxVPTIwLEg9NCxlZT0tNyxnZT0yMSxtZT0tMWU3LGZlPTFlNyxoZT0hMSxfZT0xLHhlPTAsUmU9e3ByZWZpeDoiIixncm91cFNpemU6MyxzZWNvbmRhcnlHcm91cFNpemU6MCxncm91cFNlcGFyYXRvcjoiLCIsZGVjaW1hbFNlcGFyYXRvcjoiLiIsZnJhY3Rpb25Hcm91cFNpemU6MCxmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiLCoCIsc3VmZml4OiIifSxJZT0iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IixOZT0hMDtmdW5jdGlvbiB2ZShxLG9lKXt2YXIgUSxZLGllLHNlLGxlLG5lLHVlLGRlLHBlPXRoaXM7aWYoIShwZSBpbnN0YW5jZW9mIHZlKSlyZXR1cm4gbmV3IHZlKHEsb2UpO2lmKG9lPT1udWxsKXtpZihxJiZxLl9pc0JpZ051bWJlcj09PSEwKXtwZS5zPXEucywhcS5jfHxxLmU+ZmU/cGUuYz1wZS5lPW51bGw6cS5lPG1lP3BlLmM9W3BlLmU9MF06KHBlLmU9cS5lLHBlLmM9cS5jLnNsaWNlKCkpO3JldHVybn1pZigobmU9dHlwZW9mIHE9PSJudW1iZXIiKSYmcSowPT0wKXtpZihwZS5zPTEvcTwwPyhxPS1xLC0xKToxLHE9PT1+fnEpe2ZvcihzZT0wLGxlPXE7bGU+PTEwO2xlLz0xMCxzZSsrKTtzZT5mZT9wZS5jPXBlLmU9bnVsbDoocGUuZT1zZSxwZS5jPVtxXSk7cmV0dXJufWRlPVN0cmluZyhxKX1lbHNle2lmKCFsLnRlc3QoZGU9U3RyaW5nKHEpKSlyZXR1cm4gcmUocGUsZGUsbmUpO3BlLnM9ZGUuY2hhckNvZGVBdCgwKT09NDU/KGRlPWRlLnNsaWNlKDEpLC0xKToxfShzZT1kZS5pbmRleE9mKCIuIikpPi0xJiYoZGU9ZGUucmVwbGFjZSgiLiIsIiIpKSwobGU9ZGUuc2VhcmNoKC9lL2kpKT4wPyhzZTwwJiYoc2U9bGUpLHNlKz0rZGUuc2xpY2UobGUrMSksZGU9ZGUuc3Vic3RyaW5nKDAsbGUpKTpzZTwwJiYoc2U9ZGUubGVuZ3RoKX1lbHNle2lmKFAob2UsMixJZS5sZW5ndGgsIkJhc2UiKSxvZT09MTAmJk5lKXJldHVybiBwZT1uZXcgdmUocSksRmUocGUsVStwZS5lKzEsSCk7aWYoZGU9U3RyaW5nKHEpLG5lPXR5cGVvZiBxPT0ibnVtYmVyIil7aWYocSowIT0wKXJldHVybiByZShwZSxkZSxuZSxvZSk7aWYocGUucz0xL3E8MD8oZGU9ZGUuc2xpY2UoMSksLTEpOjEsdmUuREVCVUcmJmRlLnJlcGxhY2UoL14wXC4wKnxcLi8sIiIpLmxlbmd0aD4xNSl0aHJvdyBFcnJvcih2K3EpfWVsc2UgcGUucz1kZS5jaGFyQ29kZUF0KDApPT09NDU/KGRlPWRlLnNsaWNlKDEpLC0xKToxO2ZvcihRPUllLnNsaWNlKDAsb2UpLHNlPWxlPTAsdWU9ZGUubGVuZ3RoO2xlPHVlO2xlKyspaWYoUS5pbmRleE9mKFk9ZGUuY2hhckF0KGxlKSk8MCl7aWYoWT09Ii4iKXtpZihsZT5zZSl7c2U9dWU7Y29udGludWV9fWVsc2UgaWYoIWllJiYoZGU9PWRlLnRvVXBwZXJDYXNlKCkmJihkZT1kZS50b0xvd2VyQ2FzZSgpKXx8ZGU9PWRlLnRvTG93ZXJDYXNlKCkmJihkZT1kZS50b1VwcGVyQ2FzZSgpKSkpe2llPSEwLGxlPS0xLHNlPTA7Y29udGludWV9cmV0dXJuIHJlKHBlLFN0cmluZyhxKSxuZSxvZSl9bmU9ITEsZGU9RyhkZSxvZSwxMCxwZS5zKSwoc2U9ZGUuaW5kZXhPZigiLiIpKT4tMT9kZT1kZS5yZXBsYWNlKCIuIiwiIik6c2U9ZGUubGVuZ3RofWZvcihsZT0wO2RlLmNoYXJDb2RlQXQobGUpPT09NDg7bGUrKyk7Zm9yKHVlPWRlLmxlbmd0aDtkZS5jaGFyQ29kZUF0KC0tdWUpPT09NDg7KTtpZihkZT1kZS5zbGljZShsZSwrK3VlKSl7aWYodWUtPWxlLG5lJiZ2ZS5ERUJVRyYmdWU+MTUmJihxPk98fHEhPT1wKHEpKSl0aHJvdyBFcnJvcih2K3BlLnMqcSk7aWYoKHNlPXNlLWxlLTEpPmZlKXBlLmM9cGUuZT1udWxsO2Vsc2UgaWYoc2U8bWUpcGUuYz1bcGUuZT0wXTtlbHNle2lmKHBlLmU9c2UscGUuYz1bXSxsZT0oc2UrMSklXyxzZTwwJiYobGUrPV8pLGxlPHVlKXtmb3IobGUmJnBlLmMucHVzaCgrZGUuc2xpY2UoMCxsZSkpLHVlLT1fO2xlPHVlOylwZS5jLnB1c2goK2RlLnNsaWNlKGxlLGxlKz1fKSk7bGU9Xy0oZGU9ZGUuc2xpY2UobGUpKS5sZW5ndGh9ZWxzZSBsZS09dWU7Zm9yKDtsZS0tO2RlKz0iMCIpO3BlLmMucHVzaCgrZGUpfX1lbHNlIHBlLmM9W3BlLmU9MF19dmUuY2xvbmU9Qix2ZS5ST1VORF9VUD0wLHZlLlJPVU5EX0RPV049MSx2ZS5ST1VORF9DRUlMPTIsdmUuUk9VTkRfRkxPT1I9Myx2ZS5ST1VORF9IQUxGX1VQPTQsdmUuUk9VTkRfSEFMRl9ET1dOPTUsdmUuUk9VTkRfSEFMRl9FVkVOPTYsdmUuUk9VTkRfSEFMRl9DRUlMPTcsdmUuUk9VTkRfSEFMRl9GTE9PUj04LHZlLkVVQ0xJRD05LHZlLmNvbmZpZz12ZS5zZXQ9ZnVuY3Rpb24ocSl7dmFyIG9lLFE7aWYocSE9bnVsbClpZih0eXBlb2YgcT09Im9iamVjdCIpe2lmKHEuaGFzT3duUHJvcGVydHkob2U9IkRFQ0lNQUxfUExBQ0VTIikmJihRPXFbb2VdLFAoUSwwLE4sb2UpLFU9USkscS5oYXNPd25Qcm9wZXJ0eShvZT0iUk9VTkRJTkdfTU9ERSIpJiYoUT1xW29lXSxQKFEsMCw4LG9lKSxIPVEpLHEuaGFzT3duUHJvcGVydHkob2U9IkVYUE9ORU5USUFMX0FUIikmJihRPXFbb2VdLFEmJlEucG9wPyhQKFFbMF0sLU4sMCxvZSksUChRWzFdLDAsTixvZSksZWU9UVswXSxnZT1RWzFdKTooUChRLC1OLE4sb2UpLGVlPS0oZ2U9UTwwPy1ROlEpKSkscS5oYXNPd25Qcm9wZXJ0eShvZT0iUkFOR0UiKSlpZihRPXFbb2VdLFEmJlEucG9wKVAoUVswXSwtTiwtMSxvZSksUChRWzFdLDEsTixvZSksbWU9UVswXSxmZT1RWzFdO2Vsc2UgaWYoUChRLC1OLE4sb2UpLFEpbWU9LShmZT1RPDA/LVE6USk7ZWxzZSB0aHJvdyBFcnJvcihnK29lKyIgY2Fubm90IGJlIHplcm86ICIrUSk7aWYocS5oYXNPd25Qcm9wZXJ0eShvZT0iQ1JZUFRPIikpaWYoUT1xW29lXSxRPT09ISFRKWlmKFEpaWYodHlwZW9mIGNyeXB0bzwidSImJmNyeXB0byYmKGNyeXB0by5nZXRSYW5kb21WYWx1ZXN8fGNyeXB0by5yYW5kb21CeXRlcykpaGU9UTtlbHNlIHRocm93IGhlPSFRLEVycm9yKGcrImNyeXB0byB1bmF2YWlsYWJsZSIpO2Vsc2UgaGU9UTtlbHNlIHRocm93IEVycm9yKGcrb2UrIiBub3QgdHJ1ZSBvciBmYWxzZTogIitRKTtpZihxLmhhc093blByb3BlcnR5KG9lPSJNT0RVTE9fTU9ERSIpJiYoUT1xW29lXSxQKFEsMCw5LG9lKSxfZT1RKSxxLmhhc093blByb3BlcnR5KG9lPSJQT1dfUFJFQ0lTSU9OIikmJihRPXFbb2VdLFAoUSwwLE4sb2UpLHhlPVEpLHEuaGFzT3duUHJvcGVydHkob2U9IkZPUk1BVCIpKWlmKFE9cVtvZV0sdHlwZW9mIFE9PSJvYmplY3QiKVJlPVE7ZWxzZSB0aHJvdyBFcnJvcihnK29lKyIgbm90IGFuIG9iamVjdDogIitRKTtpZihxLmhhc093blByb3BlcnR5KG9lPSJBTFBIQUJFVCIpKWlmKFE9cVtvZV0sdHlwZW9mIFE9PSJzdHJpbmciJiYhL14uPyR8WytcLS5cc118KC4pLipcMS8udGVzdChRKSlOZT1RLnNsaWNlKDAsMTApPT0iMDEyMzQ1Njc4OSIsSWU9UTtlbHNlIHRocm93IEVycm9yKGcrb2UrIiBpbnZhbGlkOiAiK1EpfWVsc2UgdGhyb3cgRXJyb3IoZysiT2JqZWN0IGV4cGVjdGVkOiAiK3EpO3JldHVybntERUNJTUFMX1BMQUNFUzpVLFJPVU5ESU5HX01PREU6SCxFWFBPTkVOVElBTF9BVDpbZWUsZ2VdLFJBTkdFOlttZSxmZV0sQ1JZUFRPOmhlLE1PRFVMT19NT0RFOl9lLFBPV19QUkVDSVNJT046eGUsRk9STUFUOlJlLEFMUEhBQkVUOkllfX0sdmUuaXNCaWdOdW1iZXI9ZnVuY3Rpb24ocSl7aWYoIXF8fHEuX2lzQmlnTnVtYmVyIT09ITApcmV0dXJuITE7aWYoIXZlLkRFQlVHKXJldHVybiEwO3ZhciBvZSxRLFk9cS5jLGllPXEuZSxzZT1xLnM7ZTppZih7fS50b1N0cmluZy5jYWxsKFkpPT0iW29iamVjdCBBcnJheV0iKXtpZigoc2U9PT0xfHxzZT09PS0xKSYmaWU+PS1OJiZpZTw9TiYmaWU9PT1wKGllKSl7aWYoWVswXT09PTApe2lmKGllPT09MCYmWS5sZW5ndGg9PT0xKXJldHVybiEwO2JyZWFrIGV9aWYob2U9KGllKzEpJV8sb2U8MSYmKG9lKz1fKSxTdHJpbmcoWVswXSkubGVuZ3RoPT1vZSl7Zm9yKG9lPTA7b2U8WS5sZW5ndGg7b2UrKylpZihRPVlbb2VdLFE8MHx8UT49Ynx8USE9PXAoUSkpYnJlYWsgZTtpZihRIT09MClyZXR1cm4hMH19fWVsc2UgaWYoWT09PW51bGwmJmllPT09bnVsbCYmKHNlPT09bnVsbHx8c2U9PT0xfHxzZT09PS0xKSlyZXR1cm4hMDt0aHJvdyBFcnJvcihnKyJJbnZhbGlkIEJpZ051bWJlcjogIitxKX0sdmUubWF4aW11bT12ZS5tYXg9ZnVuY3Rpb24oKXtyZXR1cm4gTWUoYXJndW1lbnRzLE0ubHQpfSx2ZS5taW5pbXVtPXZlLm1pbj1mdW5jdGlvbigpe3JldHVybiBNZShhcmd1bWVudHMsTS5ndCl9LHZlLnJhbmRvbT1mdW5jdGlvbigpe3ZhciBxPTkwMDcxOTkyNTQ3NDA5OTIsb2U9TWF0aC5yYW5kb20oKSpxJjIwOTcxNTE/ZnVuY3Rpb24oKXtyZXR1cm4gcChNYXRoLnJhbmRvbSgpKnEpfTpmdW5jdGlvbigpe3JldHVybihNYXRoLnJhbmRvbSgpKjEwNzM3NDE4MjR8MCkqODM4ODYwOCsoTWF0aC5yYW5kb20oKSo4Mzg4NjA4fDApfTtyZXR1cm4gZnVuY3Rpb24oUSl7dmFyIFksaWUsc2UsbGUsbmUsdWU9MCxkZT1bXSxwZT1uZXcgdmUoJCk7aWYoUT09bnVsbD9RPVU6UChRLDAsTiksbGU9dShRL18pLGhlKWlmKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpe2ZvcihZPWNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KGxlKj0yKSk7dWU8bGU7KW5lPVlbdWVdKjEzMTA3MisoWVt1ZSsxXT4+PjExKSxuZT49OWUxNT8oaWU9Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMikpLFlbdWVdPWllWzBdLFlbdWUrMV09aWVbMV0pOihkZS5wdXNoKG5lJTFlMTQpLHVlKz0yKTt1ZT1sZS8yfWVsc2UgaWYoY3J5cHRvLnJhbmRvbUJ5dGVzKXtmb3IoWT1jcnlwdG8ucmFuZG9tQnl0ZXMobGUqPTcpO3VlPGxlOyluZT0oWVt1ZV0mMzEpKjI4MTQ3NDk3NjcxMDY1NitZW3VlKzFdKjEwOTk1MTE2Mjc3NzYrWVt1ZSsyXSo0Mjk0OTY3Mjk2K1lbdWUrM10qMTY3NzcyMTYrKFlbdWUrNF08PDE2KSsoWVt1ZSs1XTw8OCkrWVt1ZSs2XSxuZT49OWUxNT9jcnlwdG8ucmFuZG9tQnl0ZXMoNykuY29weShZLHVlKTooZGUucHVzaChuZSUxZTE0KSx1ZSs9Nyk7dWU9bGUvN31lbHNlIHRocm93IGhlPSExLEVycm9yKGcrImNyeXB0byB1bmF2YWlsYWJsZSIpO2lmKCFoZSlmb3IoO3VlPGxlOyluZT1vZSgpLG5lPDllMTUmJihkZVt1ZSsrXT1uZSUxZTE0KTtmb3IobGU9ZGVbLS11ZV0sUSU9XyxsZSYmUSYmKG5lPVRbXy1RXSxkZVt1ZV09cChsZS9uZSkqbmUpO2RlW3VlXT09PTA7ZGUucG9wKCksdWUtLSk7aWYodWU8MClkZT1bc2U9MF07ZWxzZXtmb3Ioc2U9LTE7ZGVbMF09PT0wO2RlLnNwbGljZSgwLDEpLHNlLT1fKTtmb3IodWU9MSxuZT1kZVswXTtuZT49MTA7bmUvPTEwLHVlKyspO3VlPF8mJihzZS09Xy11ZSl9cmV0dXJuIHBlLmU9c2UscGUuYz1kZSxwZX19KCksdmUuc3VtPWZ1bmN0aW9uKCl7Zm9yKHZhciBxPTEsb2U9YXJndW1lbnRzLFE9bmV3IHZlKG9lWzBdKTtxPG9lLmxlbmd0aDspUT1RLnBsdXMob2VbcSsrXSk7cmV0dXJuIFF9LEc9ZnVuY3Rpb24oKXt2YXIgcT0iMDEyMzQ1Njc4OSI7ZnVuY3Rpb24gb2UoUSxZLGllLHNlKXtmb3IodmFyIGxlLG5lPVswXSx1ZSxkZT0wLHBlPVEubGVuZ3RoO2RlPHBlOyl7Zm9yKHVlPW5lLmxlbmd0aDt1ZS0tO25lW3VlXSo9WSk7Zm9yKG5lWzBdKz1zZS5pbmRleE9mKFEuY2hhckF0KGRlKyspKSxsZT0wO2xlPG5lLmxlbmd0aDtsZSsrKW5lW2xlXT5pZS0xJiYobmVbbGUrMV09PW51bGwmJihuZVtsZSsxXT0wKSxuZVtsZSsxXSs9bmVbbGVdL2llfDAsbmVbbGVdJT1pZSl9cmV0dXJuIG5lLnJldmVyc2UoKX1yZXR1cm4gZnVuY3Rpb24oUSxZLGllLHNlLGxlKXt2YXIgbmUsdWUsZGUscGUsYmUsd2UsT2UsSSx3PVEuaW5kZXhPZigiLiIpLEU9VSxEPUg7Zm9yKHc+PTAmJihwZT14ZSx4ZT0wLFE9US5yZXBsYWNlKCIuIiwiIiksST1uZXcgdmUoWSksd2U9SS5wb3coUS5sZW5ndGgtdykseGU9cGUsSS5jPW9lKEooQyh3ZS5jKSx3ZS5lLCIwIiksMTAsaWUscSksSS5lPUkuYy5sZW5ndGgpLE9lPW9lKFEsWSxpZSxsZT8obmU9SWUscSk6KG5lPXEsSWUpKSxkZT1wZT1PZS5sZW5ndGg7T2VbLS1wZV09PTA7T2UucG9wKCkpO2lmKCFPZVswXSlyZXR1cm4gbmUuY2hhckF0KDApO2lmKHc8MD8tLWRlOih3ZS5jPU9lLHdlLmU9ZGUsd2Uucz1zZSx3ZT1YKHdlLEksRSxELGllKSxPZT13ZS5jLGJlPXdlLnIsZGU9d2UuZSksdWU9ZGUrRSsxLHc9T2VbdWVdLHBlPWllLzIsYmU9YmV8fHVlPDB8fE9lW3VlKzFdIT1udWxsLGJlPUQ8ND8odyE9bnVsbHx8YmUpJiYoRD09MHx8RD09KHdlLnM8MD8zOjIpKTp3PnBlfHx3PT1wZSYmKEQ9PTR8fGJlfHxEPT02JiZPZVt1ZS0xXSYxfHxEPT0od2UuczwwPzg6NykpLHVlPDF8fCFPZVswXSlRPWJlP0oobmUuY2hhckF0KDEpLC1FLG5lLmNoYXJBdCgwKSk6bmUuY2hhckF0KDApO2Vsc2V7aWYoT2UubGVuZ3RoPXVlLGJlKWZvcigtLWllOysrT2VbLS11ZV0+aWU7KU9lW3VlXT0wLHVlfHwoKytkZSxPZT1bMV0uY29uY2F0KE9lKSk7Zm9yKHBlPU9lLmxlbmd0aDshT2VbLS1wZV07KTtmb3Iodz0wLFE9IiI7dzw9cGU7USs9bmUuY2hhckF0KE9lW3crK10pKTtRPUooUSxkZSxuZS5jaGFyQXQoMCkpfXJldHVybiBRfX0oKSxYPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcShZLGllLHNlKXt2YXIgbGUsbmUsdWUsZGUscGU9MCxiZT1ZLmxlbmd0aCx3ZT1pZSVTLE9lPWllL1N8MDtmb3IoWT1ZLnNsaWNlKCk7YmUtLTspdWU9WVtiZV0lUyxkZT1ZW2JlXS9TfDAsbGU9T2UqdWUrZGUqd2UsbmU9d2UqdWUrbGUlUypTK3BlLHBlPShuZS9zZXwwKSsobGUvU3wwKStPZSpkZSxZW2JlXT1uZSVzZTtyZXR1cm4gcGUmJihZPVtwZV0uY29uY2F0KFkpKSxZfWZ1bmN0aW9uIG9lKFksaWUsc2UsbGUpe3ZhciBuZSx1ZTtpZihzZSE9bGUpdWU9c2U+bGU/MTotMTtlbHNlIGZvcihuZT11ZT0wO25lPHNlO25lKyspaWYoWVtuZV0hPWllW25lXSl7dWU9WVtuZV0+aWVbbmVdPzE6LTE7YnJlYWt9cmV0dXJuIHVlfWZ1bmN0aW9uIFEoWSxpZSxzZSxsZSl7Zm9yKHZhciBuZT0wO3NlLS07KVlbc2VdLT1uZSxuZT1ZW3NlXTxpZVtzZV0/MTowLFlbc2VdPW5lKmxlK1lbc2VdLWllW3NlXTtmb3IoOyFZWzBdJiZZLmxlbmd0aD4xO1kuc3BsaWNlKDAsMSkpO31yZXR1cm4gZnVuY3Rpb24oWSxpZSxzZSxsZSxuZSl7dmFyIHVlLGRlLHBlLGJlLHdlLE9lLEksdyxFLEQsVixaLGNlLFNlLGtlLEJlLERlLExlPVkucz09aWUucz8xOi0xLEtlPVkuYyxKZT1pZS5jO2lmKCFLZXx8IUtlWzBdfHwhSmV8fCFKZVswXSlyZXR1cm4gbmV3IHZlKCFZLnN8fCFpZS5zfHwoS2U/SmUmJktlWzBdPT1KZVswXTohSmUpP05hTjpLZSYmS2VbMF09PTB8fCFKZT9MZSowOkxlLzApO2Zvcih3PW5ldyB2ZShMZSksRT13LmM9W10sZGU9WS5lLWllLmUsTGU9c2UrZGUrMSxuZXx8KG5lPWIsZGU9TChZLmUvXyktTChpZS5lL18pLExlPUxlL198MCkscGU9MDtKZVtwZV09PShLZVtwZV18fDApO3BlKyspO2lmKEplW3BlXT4oS2VbcGVdfHwwKSYmZGUtLSxMZTwwKUUucHVzaCgxKSxiZT0hMDtlbHNle2ZvcihTZT1LZS5sZW5ndGgsQmU9SmUubGVuZ3RoLHBlPTAsTGUrPTIsd2U9cChuZS8oSmVbMF0rMSkpLHdlPjEmJihKZT1xKEplLHdlLG5lKSxLZT1xKEtlLHdlLG5lKSxCZT1KZS5sZW5ndGgsU2U9S2UubGVuZ3RoKSxjZT1CZSxEPUtlLnNsaWNlKDAsQmUpLFY9RC5sZW5ndGg7VjxCZTtEW1YrK109MCk7RGU9SmUuc2xpY2UoKSxEZT1bMF0uY29uY2F0KERlKSxrZT1KZVswXSxKZVsxXT49bmUvMiYma2UrKztkb3tpZih3ZT0wLHVlPW9lKEplLEQsQmUsViksdWU8MCl7aWYoWj1EWzBdLEJlIT1WJiYoWj1aKm5lKyhEWzFdfHwwKSksd2U9cChaL2tlKSx3ZT4xKWZvcih3ZT49bmUmJih3ZT1uZS0xKSxPZT1xKEplLHdlLG5lKSxJPU9lLmxlbmd0aCxWPUQubGVuZ3RoO29lKE9lLEQsSSxWKT09MTspd2UtLSxRKE9lLEJlPEk/RGU6SmUsSSxuZSksST1PZS5sZW5ndGgsdWU9MTtlbHNlIHdlPT0wJiYodWU9d2U9MSksT2U9SmUuc2xpY2UoKSxJPU9lLmxlbmd0aDtpZihJPFYmJihPZT1bMF0uY29uY2F0KE9lKSksUShELE9lLFYsbmUpLFY9RC5sZW5ndGgsdWU9PS0xKWZvcig7b2UoSmUsRCxCZSxWKTwxOyl3ZSsrLFEoRCxCZTxWP0RlOkplLFYsbmUpLFY9RC5sZW5ndGh9ZWxzZSB1ZT09PTAmJih3ZSsrLEQ9WzBdKTtFW3BlKytdPXdlLERbMF0/RFtWKytdPUtlW2NlXXx8MDooRD1bS2VbY2VdXSxWPTEpfXdoaWxlKChjZSsrPFNlfHxEWzBdIT1udWxsKSYmTGUtLSk7YmU9RFswXSE9bnVsbCxFWzBdfHxFLnNwbGljZSgwLDEpfWlmKG5lPT1iKXtmb3IocGU9MSxMZT1FWzBdO0xlPj0xMDtMZS89MTAscGUrKyk7RmUodyxzZSsody5lPXBlK2RlKl8tMSkrMSxsZSxiZSl9ZWxzZSB3LmU9ZGUsdy5yPStiZTtyZXR1cm4gd319KCk7ZnVuY3Rpb24gQ2UocSxvZSxRLFkpe3ZhciBpZSxzZSxsZSxuZSx1ZTtpZihRPT1udWxsP1E9SDpQKFEsMCw4KSwhcS5jKXJldHVybiBxLnRvU3RyaW5nKCk7aWYoaWU9cS5jWzBdLGxlPXEuZSxvZT09bnVsbCl1ZT1DKHEuYyksdWU9WT09MXx8WT09MiYmKGxlPD1lZXx8bGU+PWdlKT9rKHVlLGxlKTpKKHVlLGxlLCIwIik7ZWxzZSBpZihxPUZlKG5ldyB2ZShxKSxvZSxRKSxzZT1xLmUsdWU9QyhxLmMpLG5lPXVlLmxlbmd0aCxZPT0xfHxZPT0yJiYob2U8PXNlfHxzZTw9ZWUpKXtmb3IoO25lPG9lO3VlKz0iMCIsbmUrKyk7dWU9ayh1ZSxzZSl9ZWxzZSBpZihvZS09bGUsdWU9Sih1ZSxzZSwiMCIpLHNlKzE+bmUpe2lmKC0tb2U+MClmb3IodWUrPSIuIjtvZS0tO3VlKz0iMCIpO31lbHNlIGlmKG9lKz1zZS1uZSxvZT4wKWZvcihzZSsxPT1uZSYmKHVlKz0iLiIpO29lLS07dWUrPSIwIik7cmV0dXJuIHEuczwwJiZpZT8iLSIrdWU6dWV9ZnVuY3Rpb24gTWUocSxvZSl7Zm9yKHZhciBRLFk9MSxpZT1uZXcgdmUocVswXSk7WTxxLmxlbmd0aDtZKyspaWYoUT1uZXcgdmUocVtZXSksUS5zKW9lLmNhbGwoaWUsUSkmJihpZT1RKTtlbHNle2llPVE7YnJlYWt9cmV0dXJuIGllfWZ1bmN0aW9uIFVlKHEsb2UsUSl7Zm9yKHZhciBZPTEsaWU9b2UubGVuZ3RoOyFvZVstLWllXTtvZS5wb3AoKSk7Zm9yKGllPW9lWzBdO2llPj0xMDtpZS89MTAsWSsrKTtyZXR1cm4oUT1ZK1EqXy0xKT5mZT9xLmM9cS5lPW51bGw6UTxtZT9xLmM9W3EuZT0wXToocS5lPVEscS5jPW9lKSxxfXJlPWZ1bmN0aW9uKCl7dmFyIHE9L14oLT8pMChbeGJvXSkoPz1cd1tcdy5dKiQpL2ksb2U9L14oW14uXSspXC4kLyxRPS9eXC4oW14uXSspJC8sWT0vXi0/KEluZmluaXR5fE5hTikkLyxpZT0vXlxzKlwrKD89W1x3Ll0pfF5ccyt8XHMrJC9nO3JldHVybiBmdW5jdGlvbihzZSxsZSxuZSx1ZSl7dmFyIGRlLHBlPW5lP2xlOmxlLnJlcGxhY2UoaWUsIiIpO2lmKFkudGVzdChwZSkpc2Uucz1pc05hTihwZSk/bnVsbDpwZTwwPy0xOjE7ZWxzZXtpZighbmUmJihwZT1wZS5yZXBsYWNlKHEsZnVuY3Rpb24oYmUsd2UsT2Upe3JldHVybiBkZT0oT2U9T2UudG9Mb3dlckNhc2UoKSk9PSJ4Ij8xNjpPZT09ImIiPzI6OCwhdWV8fHVlPT1kZT93ZTpiZX0pLHVlJiYoZGU9dWUscGU9cGUucmVwbGFjZShvZSwiJDEiKS5yZXBsYWNlKFEsIjAuJDEiKSksbGUhPXBlKSlyZXR1cm4gbmV3IHZlKHBlLGRlKTtpZih2ZS5ERUJVRyl0aHJvdyBFcnJvcihnKyJOb3QgYSIrKHVlPyIgYmFzZSAiK3VlOiIiKSsiIG51bWJlcjogIitsZSk7c2Uucz1udWxsfXNlLmM9c2UuZT1udWxsfX0oKTtmdW5jdGlvbiBGZShxLG9lLFEsWSl7dmFyIGllLHNlLGxlLG5lLHVlLGRlLHBlLGJlPXEuYyx3ZT1UO2lmKGJlKXtlOntmb3IoaWU9MSxuZT1iZVswXTtuZT49MTA7bmUvPTEwLGllKyspO2lmKHNlPW9lLWllLHNlPDApc2UrPV8sbGU9b2UsdWU9YmVbZGU9MF0scGU9dWUvd2VbaWUtbGUtMV0lMTB8MDtlbHNlIGlmKGRlPXUoKHNlKzEpL18pLGRlPj1iZS5sZW5ndGgpaWYoWSl7Zm9yKDtiZS5sZW5ndGg8PWRlO2JlLnB1c2goMCkpO3VlPXBlPTAsaWU9MSxzZSU9XyxsZT1zZS1fKzF9ZWxzZSBicmVhayBlO2Vsc2V7Zm9yKHVlPW5lPWJlW2RlXSxpZT0xO25lPj0xMDtuZS89MTAsaWUrKyk7c2UlPV8sbGU9c2UtXytpZSxwZT1sZTwwPzA6dWUvd2VbaWUtbGUtMV0lMTB8MH1pZihZPVl8fG9lPDB8fGJlW2RlKzFdIT1udWxsfHwobGU8MD91ZTp1ZSV3ZVtpZS1sZS0xXSksWT1RPDQ/KHBlfHxZKSYmKFE9PTB8fFE9PShxLnM8MD8zOjIpKTpwZT41fHxwZT09NSYmKFE9PTR8fFl8fFE9PTYmJihzZT4wP2xlPjA/dWUvd2VbaWUtbGVdOjA6YmVbZGUtMV0pJTEwJjF8fFE9PShxLnM8MD84OjcpKSxvZTwxfHwhYmVbMF0pcmV0dXJuIGJlLmxlbmd0aD0wLFk/KG9lLT1xLmUrMSxiZVswXT13ZVsoXy1vZSVfKSVfXSxxLmU9LW9lfHwwKTpiZVswXT1xLmU9MCxxO2lmKHNlPT0wPyhiZS5sZW5ndGg9ZGUsbmU9MSxkZS0tKTooYmUubGVuZ3RoPWRlKzEsbmU9d2VbXy1zZV0sYmVbZGVdPWxlPjA/cCh1ZS93ZVtpZS1sZV0ld2VbbGVdKSpuZTowKSxZKWZvcig7OylpZihkZT09MCl7Zm9yKHNlPTEsbGU9YmVbMF07bGU+PTEwO2xlLz0xMCxzZSsrKTtmb3IobGU9YmVbMF0rPW5lLG5lPTE7bGU+PTEwO2xlLz0xMCxuZSsrKTtzZSE9bmUmJihxLmUrKyxiZVswXT09YiYmKGJlWzBdPTEpKTticmVha31lbHNle2lmKGJlW2RlXSs9bmUsYmVbZGVdIT1iKWJyZWFrO2JlW2RlLS1dPTAsbmU9MX1mb3Ioc2U9YmUubGVuZ3RoO2JlWy0tc2VdPT09MDtiZS5wb3AoKSk7fXEuZT5mZT9xLmM9cS5lPW51bGw6cS5lPG1lJiYocS5jPVtxLmU9MF0pfXJldHVybiBxfWZ1bmN0aW9uICRlKHEpe3ZhciBvZSxRPXEuZTtyZXR1cm4gUT09PW51bGw/cS50b1N0cmluZygpOihvZT1DKHEuYyksb2U9UTw9ZWV8fFE+PWdlP2sob2UsUSk6SihvZSxRLCIwIikscS5zPDA/Ii0iK29lOm9lKX1yZXR1cm4gTS5hYnNvbHV0ZVZhbHVlPU0uYWJzPWZ1bmN0aW9uKCl7dmFyIHE9bmV3IHZlKHRoaXMpO3JldHVybiBxLnM8MCYmKHEucz0xKSxxfSxNLmNvbXBhcmVkVG89ZnVuY3Rpb24ocSxvZSl7cmV0dXJuIGoodGhpcyxuZXcgdmUocSxvZSkpfSxNLmRlY2ltYWxQbGFjZXM9TS5kcD1mdW5jdGlvbihxLG9lKXt2YXIgUSxZLGllLHNlPXRoaXM7aWYocSE9bnVsbClyZXR1cm4gUChxLDAsTiksb2U9PW51bGw/b2U9SDpQKG9lLDAsOCksRmUobmV3IHZlKHNlKSxxK3NlLmUrMSxvZSk7aWYoIShRPXNlLmMpKXJldHVybiBudWxsO2lmKFk9KChpZT1RLmxlbmd0aC0xKS1MKHRoaXMuZS9fKSkqXyxpZT1RW2llXSlmb3IoO2llJTEwPT0wO2llLz0xMCxZLS0pO3JldHVybiBZPDAmJihZPTApLFl9LE0uZGl2aWRlZEJ5PU0uZGl2PWZ1bmN0aW9uKHEsb2Upe3JldHVybiBYKHRoaXMsbmV3IHZlKHEsb2UpLFUsSCl9LE0uZGl2aWRlZFRvSW50ZWdlckJ5PU0uaWRpdj1mdW5jdGlvbihxLG9lKXtyZXR1cm4gWCh0aGlzLG5ldyB2ZShxLG9lKSwwLDEpfSxNLmV4cG9uZW50aWF0ZWRCeT1NLnBvdz1mdW5jdGlvbihxLG9lKXt2YXIgUSxZLGllLHNlLGxlLG5lLHVlLGRlLHBlLGJlPXRoaXM7aWYocT1uZXcgdmUocSkscS5jJiYhcS5pc0ludGVnZXIoKSl0aHJvdyBFcnJvcihnKyJFeHBvbmVudCBub3QgYW4gaW50ZWdlcjogIiskZShxKSk7aWYob2UhPW51bGwmJihvZT1uZXcgdmUob2UpKSxuZT1xLmU+MTQsIWJlLmN8fCFiZS5jWzBdfHxiZS5jWzBdPT0xJiYhYmUuZSYmYmUuYy5sZW5ndGg9PTF8fCFxLmN8fCFxLmNbMF0pcmV0dXJuIHBlPW5ldyB2ZShNYXRoLnBvdygrJGUoYmUpLG5lP3EucyooMi1GKHEpKTorJGUocSkpKSxvZT9wZS5tb2Qob2UpOnBlO2lmKHVlPXEuczwwLG9lKXtpZihvZS5jPyFvZS5jWzBdOiFvZS5zKXJldHVybiBuZXcgdmUoTmFOKTtZPSF1ZSYmYmUuaXNJbnRlZ2VyKCkmJm9lLmlzSW50ZWdlcigpLFkmJihiZT1iZS5tb2Qob2UpKX1lbHNle2lmKHEuZT45JiYoYmUuZT4wfHxiZS5lPC0xfHwoYmUuZT09MD9iZS5jWzBdPjF8fG5lJiZiZS5jWzFdPj0yNGU3OmJlLmNbMF08OGUxM3x8bmUmJmJlLmNbMF08PTk5OTk5NzVlNykpKXJldHVybiBzZT1iZS5zPDAmJkYocSk/LTA6MCxiZS5lPi0xJiYoc2U9MS9zZSksbmV3IHZlKHVlPzEvc2U6c2UpO3hlJiYoc2U9dSh4ZS9fKzIpKX1mb3IobmU/KFE9bmV3IHZlKC41KSx1ZSYmKHEucz0xKSxkZT1GKHEpKTooaWU9TWF0aC5hYnMoKyRlKHEpKSxkZT1pZSUyKSxwZT1uZXcgdmUoJCk7Oyl7aWYoZGUpe2lmKHBlPXBlLnRpbWVzKGJlKSwhcGUuYylicmVhaztzZT9wZS5jLmxlbmd0aD5zZSYmKHBlLmMubGVuZ3RoPXNlKTpZJiYocGU9cGUubW9kKG9lKSl9aWYoaWUpe2lmKGllPXAoaWUvMiksaWU9PT0wKWJyZWFrO2RlPWllJTJ9ZWxzZSBpZihxPXEudGltZXMoUSksRmUocSxxLmUrMSwxKSxxLmU+MTQpZGU9RihxKTtlbHNle2lmKGllPSskZShxKSxpZT09PTApYnJlYWs7ZGU9aWUlMn1iZT1iZS50aW1lcyhiZSksc2U/YmUuYyYmYmUuYy5sZW5ndGg+c2UmJihiZS5jLmxlbmd0aD1zZSk6WSYmKGJlPWJlLm1vZChvZSkpfXJldHVybiBZP3BlOih1ZSYmKHBlPSQuZGl2KHBlKSksb2U/cGUubW9kKG9lKTpzZT9GZShwZSx4ZSxILGxlKTpwZSl9LE0uaW50ZWdlclZhbHVlPWZ1bmN0aW9uKHEpe3ZhciBvZT1uZXcgdmUodGhpcyk7cmV0dXJuIHE9PW51bGw/cT1IOlAocSwwLDgpLEZlKG9lLG9lLmUrMSxxKX0sTS5pc0VxdWFsVG89TS5lcT1mdW5jdGlvbihxLG9lKXtyZXR1cm4gaih0aGlzLG5ldyB2ZShxLG9lKSk9PT0wfSxNLmlzRmluaXRlPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmN9LE0uaXNHcmVhdGVyVGhhbj1NLmd0PWZ1bmN0aW9uKHEsb2Upe3JldHVybiBqKHRoaXMsbmV3IHZlKHEsb2UpKT4wfSxNLmlzR3JlYXRlclRoYW5PckVxdWFsVG89TS5ndGU9ZnVuY3Rpb24ocSxvZSl7cmV0dXJuKG9lPWoodGhpcyxuZXcgdmUocSxvZSkpKT09PTF8fG9lPT09MH0sTS5pc0ludGVnZXI9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuYyYmTCh0aGlzLmUvXyk+dGhpcy5jLmxlbmd0aC0yfSxNLmlzTGVzc1RoYW49TS5sdD1mdW5jdGlvbihxLG9lKXtyZXR1cm4gaih0aGlzLG5ldyB2ZShxLG9lKSk8MH0sTS5pc0xlc3NUaGFuT3JFcXVhbFRvPU0ubHRlPWZ1bmN0aW9uKHEsb2Upe3JldHVybihvZT1qKHRoaXMsbmV3IHZlKHEsb2UpKSk9PT0tMXx8b2U9PT0wfSxNLmlzTmFOPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc30sTS5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuczwwfSxNLmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPjB9LE0uaXNaZXJvPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmMmJnRoaXMuY1swXT09MH0sTS5taW51cz1mdW5jdGlvbihxLG9lKXt2YXIgUSxZLGllLHNlLGxlPXRoaXMsbmU9bGUucztpZihxPW5ldyB2ZShxLG9lKSxvZT1xLnMsIW5lfHwhb2UpcmV0dXJuIG5ldyB2ZShOYU4pO2lmKG5lIT1vZSlyZXR1cm4gcS5zPS1vZSxsZS5wbHVzKHEpO3ZhciB1ZT1sZS5lL18sZGU9cS5lL18scGU9bGUuYyxiZT1xLmM7aWYoIXVlfHwhZGUpe2lmKCFwZXx8IWJlKXJldHVybiBwZT8ocS5zPS1vZSxxKTpuZXcgdmUoYmU/bGU6TmFOKTtpZighcGVbMF18fCFiZVswXSlyZXR1cm4gYmVbMF0/KHEucz0tb2UscSk6bmV3IHZlKHBlWzBdP2xlOkg9PTM/LTA6MCl9aWYodWU9TCh1ZSksZGU9TChkZSkscGU9cGUuc2xpY2UoKSxuZT11ZS1kZSl7Zm9yKChzZT1uZTwwKT8obmU9LW5lLGllPXBlKTooZGU9dWUsaWU9YmUpLGllLnJldmVyc2UoKSxvZT1uZTtvZS0tO2llLnB1c2goMCkpO2llLnJldmVyc2UoKX1lbHNlIGZvcihZPShzZT0obmU9cGUubGVuZ3RoKTwob2U9YmUubGVuZ3RoKSk/bmU6b2UsbmU9b2U9MDtvZTxZO29lKyspaWYocGVbb2VdIT1iZVtvZV0pe3NlPXBlW29lXTxiZVtvZV07YnJlYWt9aWYoc2UmJihpZT1wZSxwZT1iZSxiZT1pZSxxLnM9LXEucyksb2U9KFk9YmUubGVuZ3RoKS0oUT1wZS5sZW5ndGgpLG9lPjApZm9yKDtvZS0tO3BlW1ErK109MCk7Zm9yKG9lPWItMTtZPm5lOyl7aWYocGVbLS1ZXTxiZVtZXSl7Zm9yKFE9WTtRJiYhcGVbLS1RXTtwZVtRXT1vZSk7LS1wZVtRXSxwZVtZXSs9Yn1wZVtZXS09YmVbWV19Zm9yKDtwZVswXT09MDtwZS5zcGxpY2UoMCwxKSwtLWRlKTtyZXR1cm4gcGVbMF0/VWUocSxwZSxkZSk6KHEucz1IPT0zPy0xOjEscS5jPVtxLmU9MF0scSl9LE0ubW9kdWxvPU0ubW9kPWZ1bmN0aW9uKHEsb2Upe3ZhciBRLFksaWU9dGhpcztyZXR1cm4gcT1uZXcgdmUocSxvZSksIWllLmN8fCFxLnN8fHEuYyYmIXEuY1swXT9uZXcgdmUoTmFOKTohcS5jfHxpZS5jJiYhaWUuY1swXT9uZXcgdmUoaWUpOihfZT09OT8oWT1xLnMscS5zPTEsUT1YKGllLHEsMCwzKSxxLnM9WSxRLnMqPVkpOlE9WChpZSxxLDAsX2UpLHE9aWUubWludXMoUS50aW1lcyhxKSksIXEuY1swXSYmX2U9PTEmJihxLnM9aWUucykscSl9LE0ubXVsdGlwbGllZEJ5PU0udGltZXM9ZnVuY3Rpb24ocSxvZSl7dmFyIFEsWSxpZSxzZSxsZSxuZSx1ZSxkZSxwZSxiZSx3ZSxPZSxJLHcsRSxEPXRoaXMsVj1ELmMsWj0ocT1uZXcgdmUocSxvZSkpLmM7aWYoIVZ8fCFafHwhVlswXXx8IVpbMF0pcmV0dXJuIUQuc3x8IXEuc3x8ViYmIVZbMF0mJiFafHxaJiYhWlswXSYmIVY/cS5jPXEuZT1xLnM9bnVsbDoocS5zKj1ELnMsIVZ8fCFaP3EuYz1xLmU9bnVsbDoocS5jPVswXSxxLmU9MCkpLHE7Zm9yKFk9TChELmUvXykrTChxLmUvXykscS5zKj1ELnMsdWU9Vi5sZW5ndGgsYmU9Wi5sZW5ndGgsdWU8YmUmJihJPVYsVj1aLFo9SSxpZT11ZSx1ZT1iZSxiZT1pZSksaWU9dWUrYmUsST1bXTtpZS0tO0kucHVzaCgwKSk7Zm9yKHc9YixFPVMsaWU9YmU7LS1pZT49MDspe2ZvcihRPTAsd2U9WltpZV0lRSxPZT1aW2llXS9FfDAsbGU9dWUsc2U9aWUrbGU7c2U+aWU7KWRlPVZbLS1sZV0lRSxwZT1WW2xlXS9FfDAsbmU9T2UqZGUrcGUqd2UsZGU9d2UqZGUrbmUlRSpFK0lbc2VdK1EsUT0oZGUvd3wwKSsobmUvRXwwKStPZSpwZSxJW3NlLS1dPWRlJXc7SVtzZV09UX1yZXR1cm4gUT8rK1k6SS5zcGxpY2UoMCwxKSxVZShxLEksWSl9LE0ubmVnYXRlZD1mdW5jdGlvbigpe3ZhciBxPW5ldyB2ZSh0aGlzKTtyZXR1cm4gcS5zPS1xLnN8fG51bGwscX0sTS5wbHVzPWZ1bmN0aW9uKHEsb2Upe3ZhciBRLFk9dGhpcyxpZT1ZLnM7aWYocT1uZXcgdmUocSxvZSksb2U9cS5zLCFpZXx8IW9lKXJldHVybiBuZXcgdmUoTmFOKTtpZihpZSE9b2UpcmV0dXJuIHEucz0tb2UsWS5taW51cyhxKTt2YXIgc2U9WS5lL18sbGU9cS5lL18sbmU9WS5jLHVlPXEuYztpZighc2V8fCFsZSl7aWYoIW5lfHwhdWUpcmV0dXJuIG5ldyB2ZShpZS8wKTtpZighbmVbMF18fCF1ZVswXSlyZXR1cm4gdWVbMF0/cTpuZXcgdmUobmVbMF0/WTppZSowKX1pZihzZT1MKHNlKSxsZT1MKGxlKSxuZT1uZS5zbGljZSgpLGllPXNlLWxlKXtmb3IoaWU+MD8obGU9c2UsUT11ZSk6KGllPS1pZSxRPW5lKSxRLnJldmVyc2UoKTtpZS0tO1EucHVzaCgwKSk7US5yZXZlcnNlKCl9Zm9yKGllPW5lLmxlbmd0aCxvZT11ZS5sZW5ndGgsaWUtb2U8MCYmKFE9dWUsdWU9bmUsbmU9USxvZT1pZSksaWU9MDtvZTspaWU9KG5lWy0tb2VdPW5lW29lXSt1ZVtvZV0raWUpL2J8MCxuZVtvZV09Yj09PW5lW29lXT8wOm5lW29lXSViO3JldHVybiBpZSYmKG5lPVtpZV0uY29uY2F0KG5lKSwrK2xlKSxVZShxLG5lLGxlKX0sTS5wcmVjaXNpb249TS5zZD1mdW5jdGlvbihxLG9lKXt2YXIgUSxZLGllLHNlPXRoaXM7aWYocSE9bnVsbCYmcSE9PSEhcSlyZXR1cm4gUChxLDEsTiksb2U9PW51bGw/b2U9SDpQKG9lLDAsOCksRmUobmV3IHZlKHNlKSxxLG9lKTtpZighKFE9c2UuYykpcmV0dXJuIG51bGw7aWYoaWU9US5sZW5ndGgtMSxZPWllKl8rMSxpZT1RW2llXSl7Zm9yKDtpZSUxMD09MDtpZS89MTAsWS0tKTtmb3IoaWU9UVswXTtpZT49MTA7aWUvPTEwLFkrKyk7fXJldHVybiBxJiZzZS5lKzE+WSYmKFk9c2UuZSsxKSxZfSxNLnNoaWZ0ZWRCeT1mdW5jdGlvbihxKXtyZXR1cm4gUChxLC1PLE8pLHRoaXMudGltZXMoIjFlIitxKX0sTS5zcXVhcmVSb290PU0uc3FydD1mdW5jdGlvbigpe3ZhciBxLG9lLFEsWSxpZSxzZT10aGlzLGxlPXNlLmMsbmU9c2Uucyx1ZT1zZS5lLGRlPVUrNCxwZT1uZXcgdmUoIjAuNSIpO2lmKG5lIT09MXx8IWxlfHwhbGVbMF0pcmV0dXJuIG5ldyB2ZSghbmV8fG5lPDAmJighbGV8fGxlWzBdKT9OYU46bGU/c2U6MS8wKTtpZihuZT1NYXRoLnNxcnQoKyRlKHNlKSksbmU9PTB8fG5lPT0xLzA/KG9lPUMobGUpLChvZS5sZW5ndGgrdWUpJTI9PTAmJihvZSs9IjAiKSxuZT1NYXRoLnNxcnQoK29lKSx1ZT1MKCh1ZSsxKS8yKS0odWU8MHx8dWUlMiksbmU9PTEvMD9vZT0iNWUiK3VlOihvZT1uZS50b0V4cG9uZW50aWFsKCksb2U9b2Uuc2xpY2UoMCxvZS5pbmRleE9mKCJlIikrMSkrdWUpLFE9bmV3IHZlKG9lKSk6UT1uZXcgdmUobmUrIiIpLFEuY1swXSl7Zm9yKHVlPVEuZSxuZT11ZStkZSxuZTwzJiYobmU9MCk7OylpZihpZT1RLFE9cGUudGltZXMoaWUucGx1cyhYKHNlLGllLGRlLDEpKSksQyhpZS5jKS5zbGljZSgwLG5lKT09PShvZT1DKFEuYykpLnNsaWNlKDAsbmUpKWlmKFEuZTx1ZSYmLS1uZSxvZT1vZS5zbGljZShuZS0zLG5lKzEpLG9lPT0iOTk5OSJ8fCFZJiZvZT09IjQ5OTkiKXtpZighWSYmKEZlKGllLGllLmUrVSsyLDApLGllLnRpbWVzKGllKS5lcShzZSkpKXtRPWllO2JyZWFrfWRlKz00LG5lKz00LFk9MX1lbHNleyghK29lfHwhK29lLnNsaWNlKDEpJiZvZS5jaGFyQXQoMCk9PSI1IikmJihGZShRLFEuZStVKzIsMSkscT0hUS50aW1lcyhRKS5lcShzZSkpO2JyZWFrfX1yZXR1cm4gRmUoUSxRLmUrVSsxLEgscSl9LE0udG9FeHBvbmVudGlhbD1mdW5jdGlvbihxLG9lKXtyZXR1cm4gcSE9bnVsbCYmKFAocSwwLE4pLHErKyksQ2UodGhpcyxxLG9lLDEpfSxNLnRvRml4ZWQ9ZnVuY3Rpb24ocSxvZSl7cmV0dXJuIHEhPW51bGwmJihQKHEsMCxOKSxxPXErdGhpcy5lKzEpLENlKHRoaXMscSxvZSl9LE0udG9Gb3JtYXQ9ZnVuY3Rpb24ocSxvZSxRKXt2YXIgWSxpZT10aGlzO2lmKFE9PW51bGwpcSE9bnVsbCYmb2UmJnR5cGVvZiBvZT09Im9iamVjdCI/KFE9b2Usb2U9bnVsbCk6cSYmdHlwZW9mIHE9PSJvYmplY3QiPyhRPXEscT1vZT1udWxsKTpRPVJlO2Vsc2UgaWYodHlwZW9mIFEhPSJvYmplY3QiKXRocm93IEVycm9yKGcrIkFyZ3VtZW50IG5vdCBhbiBvYmplY3Q6ICIrUSk7aWYoWT1pZS50b0ZpeGVkKHEsb2UpLGllLmMpe3ZhciBzZSxsZT1ZLnNwbGl0KCIuIiksbmU9K1EuZ3JvdXBTaXplLHVlPStRLnNlY29uZGFyeUdyb3VwU2l6ZSxkZT1RLmdyb3VwU2VwYXJhdG9yfHwiIixwZT1sZVswXSxiZT1sZVsxXSx3ZT1pZS5zPDAsT2U9d2U/cGUuc2xpY2UoMSk6cGUsST1PZS5sZW5ndGg7aWYodWUmJihzZT1uZSxuZT11ZSx1ZT1zZSxJLT1zZSksbmU+MCYmST4wKXtmb3Ioc2U9SSVuZXx8bmUscGU9T2Uuc3Vic3RyKDAsc2UpO3NlPEk7c2UrPW5lKXBlKz1kZStPZS5zdWJzdHIoc2UsbmUpO3VlPjAmJihwZSs9ZGUrT2Uuc2xpY2Uoc2UpKSx3ZSYmKHBlPSItIitwZSl9WT1iZT9wZSsoUS5kZWNpbWFsU2VwYXJhdG9yfHwiIikrKCh1ZT0rUS5mcmFjdGlvbkdyb3VwU2l6ZSk/YmUucmVwbGFjZShuZXcgUmVnRXhwKCJcXGR7Iit1ZSsifVxcQiIsImciKSwiJCYiKyhRLmZyYWN0aW9uR3JvdXBTZXBhcmF0b3J8fCIiKSk6YmUpOnBlfXJldHVybihRLnByZWZpeHx8IiIpK1krKFEuc3VmZml4fHwiIil9LE0udG9GcmFjdGlvbj1mdW5jdGlvbihxKXt2YXIgb2UsUSxZLGllLHNlLGxlLG5lLHVlLGRlLHBlLGJlLHdlLE9lPXRoaXMsST1PZS5jO2lmKHEhPW51bGwmJihuZT1uZXcgdmUocSksIW5lLmlzSW50ZWdlcigpJiYobmUuY3x8bmUucyE9PTEpfHxuZS5sdCgkKSkpdGhyb3cgRXJyb3IoZysiQXJndW1lbnQgIisobmUuaXNJbnRlZ2VyKCk/Im91dCBvZiByYW5nZTogIjoibm90IGFuIGludGVnZXI6ICIpKyRlKG5lKSk7aWYoIUkpcmV0dXJuIG5ldyB2ZShPZSk7Zm9yKG9lPW5ldyB2ZSgkKSxkZT1RPW5ldyB2ZSgkKSxZPXVlPW5ldyB2ZSgkKSx3ZT1DKEkpLHNlPW9lLmU9d2UubGVuZ3RoLU9lLmUtMSxvZS5jWzBdPVRbKGxlPXNlJV8pPDA/XytsZTpsZV0scT0hcXx8bmUuY29tcGFyZWRUbyhvZSk+MD9zZT4wP29lOmRlOm5lLGxlPWZlLGZlPTEvMCxuZT1uZXcgdmUod2UpLHVlLmNbMF09MDtwZT1YKG5lLG9lLDAsMSksaWU9US5wbHVzKHBlLnRpbWVzKFkpKSxpZS5jb21wYXJlZFRvKHEpIT0xOylRPVksWT1pZSxkZT11ZS5wbHVzKHBlLnRpbWVzKGllPWRlKSksdWU9aWUsb2U9bmUubWludXMocGUudGltZXMoaWU9b2UpKSxuZT1pZTtyZXR1cm4gaWU9WChxLm1pbnVzKFEpLFksMCwxKSx1ZT11ZS5wbHVzKGllLnRpbWVzKGRlKSksUT1RLnBsdXMoaWUudGltZXMoWSkpLHVlLnM9ZGUucz1PZS5zLHNlPXNlKjIsYmU9WChkZSxZLHNlLEgpLm1pbnVzKE9lKS5hYnMoKS5jb21wYXJlZFRvKFgodWUsUSxzZSxIKS5taW51cyhPZSkuYWJzKCkpPDE/W2RlLFldOlt1ZSxRXSxmZT1sZSxiZX0sTS50b051bWJlcj1mdW5jdGlvbigpe3JldHVybiskZSh0aGlzKX0sTS50b1ByZWNpc2lvbj1mdW5jdGlvbihxLG9lKXtyZXR1cm4gcSE9bnVsbCYmUChxLDEsTiksQ2UodGhpcyxxLG9lLDIpfSxNLnRvU3RyaW5nPWZ1bmN0aW9uKHEpe3ZhciBvZSxRPXRoaXMsWT1RLnMsaWU9US5lO3JldHVybiBpZT09PW51bGw/WT8ob2U9IkluZmluaXR5IixZPDAmJihvZT0iLSIrb2UpKTpvZT0iTmFOIjoocT09bnVsbD9vZT1pZTw9ZWV8fGllPj1nZT9rKEMoUS5jKSxpZSk6SihDKFEuYyksaWUsIjAiKTpxPT09MTAmJk5lPyhRPUZlKG5ldyB2ZShRKSxVK2llKzEsSCksb2U9SihDKFEuYyksUS5lLCIwIikpOihQKHEsMixJZS5sZW5ndGgsIkJhc2UiKSxvZT1HKEooQyhRLmMpLGllLCIwIiksMTAscSxZLCEwKSksWTwwJiZRLmNbMF0mJihvZT0iLSIrb2UpKSxvZX0sTS52YWx1ZU9mPU0udG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuICRlKHRoaXMpfSxNLl9pc0JpZ051bWJlcj0hMCxhZSE9bnVsbCYmdmUuc2V0KGFlKSx2ZX1mdW5jdGlvbiBMKGFlKXt2YXIgWD1hZXwwO3JldHVybiBhZT4wfHxhZT09PVg/WDpYLTF9ZnVuY3Rpb24gQyhhZSl7Zm9yKHZhciBYLEcscmU9MSxNPWFlLmxlbmd0aCwkPWFlWzBdKyIiO3JlPE07KXtmb3IoWD1hZVtyZSsrXSsiIixHPV8tWC5sZW5ndGg7Ry0tO1g9IjAiK1gpOyQrPVh9Zm9yKE09JC5sZW5ndGg7JC5jaGFyQ29kZUF0KC0tTSk9PT00ODspO3JldHVybiAkLnNsaWNlKDAsTSsxfHwxKX1mdW5jdGlvbiBqKGFlLFgpe3ZhciBHLHJlLE09YWUuYywkPVguYyxVPWFlLnMsSD1YLnMsZWU9YWUuZSxnZT1YLmU7aWYoIVV8fCFIKXJldHVybiBudWxsO2lmKEc9TSYmIU1bMF0scmU9JCYmISRbMF0sR3x8cmUpcmV0dXJuIEc/cmU/MDotSDpVO2lmKFUhPUgpcmV0dXJuIFU7aWYoRz1VPDAscmU9ZWU9PWdlLCFNfHwhJClyZXR1cm4gcmU/MDohTV5HPzE6LTE7aWYoIXJlKXJldHVybiBlZT5nZV5HPzE6LTE7Zm9yKEg9KGVlPU0ubGVuZ3RoKTwoZ2U9JC5sZW5ndGgpP2VlOmdlLFU9MDtVPEg7VSsrKWlmKE1bVV0hPSRbVV0pcmV0dXJuIE1bVV0+JFtVXV5HPzE6LTE7cmV0dXJuIGVlPT1nZT8wOmVlPmdlXkc/MTotMX1mdW5jdGlvbiBQKGFlLFgsRyxyZSl7aWYoYWU8WHx8YWU+R3x8YWUhPT1wKGFlKSl0aHJvdyBFcnJvcihnKyhyZXx8IkFyZ3VtZW50IikrKHR5cGVvZiBhZT09Im51bWJlciI/YWU8WHx8YWU+Rz8iIG91dCBvZiByYW5nZTogIjoiIG5vdCBhbiBpbnRlZ2VyOiAiOiIgbm90IGEgcHJpbWl0aXZlIG51bWJlcjogIikrU3RyaW5nKGFlKSl9ZnVuY3Rpb24gRihhZSl7dmFyIFg9YWUuYy5sZW5ndGgtMTtyZXR1cm4gTChhZS5lL18pPT1YJiZhZS5jW1hdJTIhPTB9ZnVuY3Rpb24gayhhZSxYKXtyZXR1cm4oYWUubGVuZ3RoPjE/YWUuY2hhckF0KDApKyIuIithZS5zbGljZSgxKTphZSkrKFg8MD8iZSI6ImUrIikrWH1mdW5jdGlvbiBKKGFlLFgsRyl7dmFyIHJlLE07aWYoWDwwKXtmb3IoTT1HKyIuIjsrK1g7TSs9Ryk7YWU9TSthZX1lbHNlIGlmKHJlPWFlLmxlbmd0aCwrK1g+cmUpe2ZvcihNPUcsWC09cmU7LS1YO00rPUcpO2FlKz1NfWVsc2UgWDxyZSYmKGFlPWFlLnNsaWNlKDAsWCkrIi4iK2FlLnNsaWNlKFgpKTtyZXR1cm4gYWV9aD1CKCksaC5kZWZhdWx0PWguQmlnTnVtYmVyPWgsbz1mdW5jdGlvbigpe3JldHVybiBofS5jYWxsKGUsbixlLHQpLG8hPT12b2lkIDAmJih0LmV4cG9ydHM9byl9KSgpfSwiLi4vbm9kZV9tb2R1bGVzL2Nhbm9uaWNhbGl6ZS9saWIvY2Fub25pY2FsaXplLmpzIjp0PT57dC5leHBvcnRzPWZ1bmN0aW9uIGUobil7cmV0dXJuIG49PT1udWxsfHx0eXBlb2YgbiE9Im9iamVjdCJ8fG4udG9KU09OIT1udWxsP0pTT04uc3RyaW5naWZ5KG4pOkFycmF5LmlzQXJyYXkobik/IlsiK24ucmVkdWNlKChvLGQsaCk9Pntjb25zdCBsPWg9PT0wPyIiOiIsIix1PWQ9PT12b2lkIDB8fHR5cGVvZiBkPT0ic3ltYm9sIj9udWxsOmQ7cmV0dXJuIG8rbCtlKHUpfSwiIikrIl0iOiJ7IitPYmplY3Qua2V5cyhuKS5zb3J0KCkucmVkdWNlKChvLGQsaCk9PntpZihuW2RdPT09dm9pZCAwfHx0eXBlb2YgbltkXT09InN5bWJvbCIpcmV0dXJuIG87Y29uc3QgbD1vLmxlbmd0aD09PTA/IiI6IiwiO3JldHVybiBvK2wrZShkKSsiOiIrZShuW2RdKX0sIiIpKyJ9In19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC5qcyI6KHQsZSxuKT0+e3ZhciBvPWU7by51dGlscz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIpLG8uY29tbW9uPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyIpLG8uc2hhPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS5qcyIpLG8ucmlwZW1kPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3JpcGVtZC5qcyIpLG8uaG1hYz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9obWFjLmpzIiksby5zaGExPW8uc2hhLnNoYTEsby5zaGEyNTY9by5zaGEuc2hhMjU2LG8uc2hhMjI0PW8uc2hhLnNoYTIyNCxvLnNoYTM4ND1vLnNoYS5zaGEzODQsby5zaGE1MTI9by5zaGEuc2hhNTEyLG8ucmlwZW1kMTYwPW8ucmlwZW1kLnJpcGVtZDE2MH0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyI6KHQsZSxuKT0+e3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3V0aWxzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvbWluaW1hbGlzdGljLWFzc2VydC9pbmRleC5qcyIpO2Z1bmN0aW9uIGgoKXt0aGlzLnBlbmRpbmc9bnVsbCx0aGlzLnBlbmRpbmdUb3RhbD0wLHRoaXMuYmxvY2tTaXplPXRoaXMuY29uc3RydWN0b3IuYmxvY2tTaXplLHRoaXMub3V0U2l6ZT10aGlzLmNvbnN0cnVjdG9yLm91dFNpemUsdGhpcy5obWFjU3RyZW5ndGg9dGhpcy5jb25zdHJ1Y3Rvci5obWFjU3RyZW5ndGgsdGhpcy5wYWRMZW5ndGg9dGhpcy5jb25zdHJ1Y3Rvci5wYWRMZW5ndGgvOCx0aGlzLmVuZGlhbj0iYmlnIix0aGlzLl9kZWx0YTg9dGhpcy5ibG9ja1NpemUvOCx0aGlzLl9kZWx0YTMyPXRoaXMuYmxvY2tTaXplLzMyfWUuQmxvY2tIYXNoPWgsaC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHUscCl7aWYodT1vLnRvQXJyYXkodSxwKSx0aGlzLnBlbmRpbmc/dGhpcy5wZW5kaW5nPXRoaXMucGVuZGluZy5jb25jYXQodSk6dGhpcy5wZW5kaW5nPXUsdGhpcy5wZW5kaW5nVG90YWwrPXUubGVuZ3RoLHRoaXMucGVuZGluZy5sZW5ndGg+PXRoaXMuX2RlbHRhOCl7dT10aGlzLnBlbmRpbmc7dmFyIGc9dS5sZW5ndGgldGhpcy5fZGVsdGE4O3RoaXMucGVuZGluZz11LnNsaWNlKHUubGVuZ3RoLWcsdS5sZW5ndGgpLHRoaXMucGVuZGluZy5sZW5ndGg9PT0wJiYodGhpcy5wZW5kaW5nPW51bGwpLHU9by5qb2luMzIodSwwLHUubGVuZ3RoLWcsdGhpcy5lbmRpYW4pO2Zvcih2YXIgdj0wO3Y8dS5sZW5ndGg7dis9dGhpcy5fZGVsdGEzMil0aGlzLl91cGRhdGUodSx2LHYrdGhpcy5fZGVsdGEzMil9cmV0dXJuIHRoaXN9LGgucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbih1KXtyZXR1cm4gdGhpcy51cGRhdGUodGhpcy5fcGFkKCkpLGQodGhpcy5wZW5kaW5nPT09bnVsbCksdGhpcy5fZGlnZXN0KHUpfSxoLnByb3RvdHlwZS5fcGFkPWZ1bmN0aW9uKCl7dmFyIHU9dGhpcy5wZW5kaW5nVG90YWwscD10aGlzLl9kZWx0YTgsZz1wLSh1K3RoaXMucGFkTGVuZ3RoKSVwLHY9bmV3IEFycmF5KGcrdGhpcy5wYWRMZW5ndGgpO3ZbMF09MTI4O2Zvcih2YXIgYj0xO2I8ZztiKyspdltiXT0wO2lmKHU8PD0zLHRoaXMuZW5kaWFuPT09ImJpZyIpe2Zvcih2YXIgXz04O188dGhpcy5wYWRMZW5ndGg7XysrKXZbYisrXT0wO3ZbYisrXT0wLHZbYisrXT0wLHZbYisrXT0wLHZbYisrXT0wLHZbYisrXT11Pj4+MjQmMjU1LHZbYisrXT11Pj4+MTYmMjU1LHZbYisrXT11Pj4+OCYyNTUsdltiKytdPXUmMjU1fWVsc2UgZm9yKHZbYisrXT11JjI1NSx2W2IrK109dT4+PjgmMjU1LHZbYisrXT11Pj4+MTYmMjU1LHZbYisrXT11Pj4+MjQmMjU1LHZbYisrXT0wLHZbYisrXT0wLHZbYisrXT0wLHZbYisrXT0wLF89ODtfPHRoaXMucGFkTGVuZ3RoO18rKyl2W2IrK109MDtyZXR1cm4gdn19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9obWFjLmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9taW5pbWFsaXN0aWMtYXNzZXJ0L2luZGV4LmpzIik7ZnVuY3Rpb24gaChsLHUscCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaCkpcmV0dXJuIG5ldyBoKGwsdSxwKTt0aGlzLkhhc2g9bCx0aGlzLmJsb2NrU2l6ZT1sLmJsb2NrU2l6ZS84LHRoaXMub3V0U2l6ZT1sLm91dFNpemUvOCx0aGlzLmlubmVyPW51bGwsdGhpcy5vdXRlcj1udWxsLHRoaXMuX2luaXQoby50b0FycmF5KHUscCkpfXQuZXhwb3J0cz1oLGgucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKHUpe3UubGVuZ3RoPnRoaXMuYmxvY2tTaXplJiYodT1uZXcgdGhpcy5IYXNoKCkudXBkYXRlKHUpLmRpZ2VzdCgpKSxkKHUubGVuZ3RoPD10aGlzLmJsb2NrU2l6ZSk7Zm9yKHZhciBwPXUubGVuZ3RoO3A8dGhpcy5ibG9ja1NpemU7cCsrKXUucHVzaCgwKTtmb3IocD0wO3A8dS5sZW5ndGg7cCsrKXVbcF1ePTU0O2Zvcih0aGlzLmlubmVyPW5ldyB0aGlzLkhhc2goKS51cGRhdGUodSkscD0wO3A8dS5sZW5ndGg7cCsrKXVbcF1ePTEwNjt0aGlzLm91dGVyPW5ldyB0aGlzLkhhc2goKS51cGRhdGUodSl9LGgucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih1LHApe3JldHVybiB0aGlzLmlubmVyLnVwZGF0ZSh1LHApLHRoaXN9LGgucHJvdG90eXBlLmRpZ2VzdD1mdW5jdGlvbih1KXtyZXR1cm4gdGhpcy5vdXRlci51cGRhdGUodGhpcy5pbm5lci5kaWdlc3QoKSksdGhpcy5vdXRlci5kaWdlc3QodSl9fSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvcmlwZW1kLmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyIpLGg9by5yb3RsMzIsbD1vLnN1bTMyLHU9by5zdW0zMl8zLHA9by5zdW0zMl80LGc9ZC5CbG9ja0hhc2g7ZnVuY3Rpb24gdigpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHYpKXJldHVybiBuZXcgdjtnLmNhbGwodGhpcyksdGhpcy5oPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF0sdGhpcy5lbmRpYW49ImxpdHRsZSJ9by5pbmhlcml0cyh2LGcpLGUucmlwZW1kMTYwPXYsdi5ibG9ja1NpemU9NTEyLHYub3V0U2l6ZT0xNjAsdi5obWFjU3RyZW5ndGg9MTkyLHYucGFkTGVuZ3RoPTY0LHYucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oQyxqKXtmb3IodmFyIFA9dGhpcy5oWzBdLEY9dGhpcy5oWzFdLGs9dGhpcy5oWzJdLEo9dGhpcy5oWzNdLGFlPXRoaXMuaFs0XSxYPVAsRz1GLHJlPWssTT1KLCQ9YWUsVT0wO1U8ODA7VSsrKXt2YXIgSD1sKGgocChQLGIoVSxGLGssSiksQ1tUW1VdK2pdLF8oVSkpLE5bVV0pLGFlKTtQPWFlLGFlPUosSj1oKGssMTApLGs9RixGPUgsSD1sKGgocChYLGIoNzktVSxHLHJlLE0pLENbU1tVXStqXSxPKFUpKSxCW1VdKSwkKSxYPSQsJD1NLE09aChyZSwxMCkscmU9RyxHPUh9SD11KHRoaXMuaFsxXSxrLE0pLHRoaXMuaFsxXT11KHRoaXMuaFsyXSxKLCQpLHRoaXMuaFsyXT11KHRoaXMuaFszXSxhZSxYKSx0aGlzLmhbM109dSh0aGlzLmhbNF0sUCxHKSx0aGlzLmhbNF09dSh0aGlzLmhbMF0sRixyZSksdGhpcy5oWzBdPUh9LHYucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24oQyl7cmV0dXJuIEM9PT0iaGV4Ij9vLnRvSGV4MzIodGhpcy5oLCJsaXR0bGUiKTpvLnNwbGl0MzIodGhpcy5oLCJsaXR0bGUiKX07ZnVuY3Rpb24gYihMLEMsaixQKXtyZXR1cm4gTDw9MTU/Q15qXlA6TDw9MzE/QyZqfH5DJlA6TDw9NDc/KEN8fmopXlA6TDw9NjM/QyZQfGomflA6Q14oanx+UCl9ZnVuY3Rpb24gXyhMKXtyZXR1cm4gTDw9MTU/MDpMPD0zMT8xNTE4NTAwMjQ5Okw8PTQ3PzE4NTk3NzUzOTM6TDw9NjM/MjQwMDk1OTcwODoyODQwODUzODM4fWZ1bmN0aW9uIE8oTCl7cmV0dXJuIEw8PTE1PzEzNTI4Mjk5MjY6TDw9MzE/MTU0ODYwMzY4NDpMPD00Nz8xODM2MDcyNjkxOkw8PTYzPzIwNTM5OTQyMTc6MH12YXIgVD1bMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSw3LDQsMTMsMSwxMCw2LDE1LDMsMTIsMCw5LDUsMiwxNCwxMSw4LDMsMTAsMTQsNCw5LDE1LDgsMSwyLDcsMCw2LDEzLDExLDUsMTIsMSw5LDExLDEwLDAsOCwxMiw0LDEzLDMsNywxNSwxNCw1LDYsMiw0LDAsNSw5LDcsMTIsMiwxMCwxNCwxLDMsOCwxMSw2LDE1LDEzXSxTPVs1LDE0LDcsMCw5LDIsMTEsNCwxMyw2LDE1LDgsMSwxMCwzLDEyLDYsMTEsMyw3LDAsMTMsNSwxMCwxNCwxNSw4LDEyLDQsOSwxLDIsMTUsNSwxLDMsNywxNCw2LDksMTEsOCwxMiwyLDEwLDAsNCwxMyw4LDYsNCwxLDMsMTEsMTUsMCw1LDEyLDIsMTMsOSw3LDEwLDE0LDEyLDE1LDEwLDQsMSw1LDgsNyw2LDIsMTMsMTQsMCwzLDksMTFdLE49WzExLDE0LDE1LDEyLDUsOCw3LDksMTEsMTMsMTQsMTUsNiw3LDksOCw3LDYsOCwxMywxMSw5LDcsMTUsNywxMiwxNSw5LDExLDcsMTMsMTIsMTEsMTMsNiw3LDE0LDksMTMsMTUsMTQsOCwxMyw2LDUsMTIsNyw1LDExLDEyLDE0LDE1LDE0LDE1LDksOCw5LDE0LDUsNiw4LDYsNSwxMiw5LDE1LDUsMTEsNiw4LDEzLDEyLDUsMTIsMTMsMTQsMTEsOCw1LDZdLEI9WzgsOSw5LDExLDEzLDE1LDE1LDUsNyw3LDgsMTEsMTQsMTQsMTIsNiw5LDEzLDE1LDcsMTIsOCw5LDExLDcsNywxMiw3LDYsMTUsMTMsMTEsOSw3LDE1LDExLDgsNiw2LDE0LDEyLDEzLDUsMTQsMTMsMTMsNyw1LDE1LDUsOCwxMSwxNCwxNCw2LDE0LDYsOSwxMiw5LDEyLDUsMTUsOCw4LDUsMTIsOSwxMiw1LDE0LDYsOCwxMyw2LDUsMTUsMTMsMTEsMTFdfSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLmpzIjoodCxlLG4pPT57ZS5zaGExPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8xLmpzIiksZS5zaGEyMjQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzIyNC5qcyIpLGUuc2hhMjU2PW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8yNTYuanMiKSxlLnNoYTM4ND1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvMzg0LmpzIiksZS5zaGE1MTI9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzUxMi5qcyIpfSwiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzEuanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvY29tbW9uLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvY29tbW9uLmpzIiksbD1vLnJvdGwzMix1PW8uc3VtMzIscD1vLnN1bTMyXzUsZz1oLmZ0XzEsdj1kLkJsb2NrSGFzaCxiPVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwzMzk1NDY5NzgyXTtmdW5jdGlvbiBfKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgXykpcmV0dXJuIG5ldyBfO3YuY2FsbCh0aGlzKSx0aGlzLmg9WzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSx0aGlzLlc9bmV3IEFycmF5KDgwKX1vLmluaGVyaXRzKF8sdiksdC5leHBvcnRzPV8sXy5ibG9ja1NpemU9NTEyLF8ub3V0U2l6ZT0xNjAsXy5obWFjU3RyZW5ndGg9ODAsXy5wYWRMZW5ndGg9NjQsXy5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihULFMpe2Zvcih2YXIgTj10aGlzLlcsQj0wO0I8MTY7QisrKU5bQl09VFtTK0JdO2Zvcig7QjxOLmxlbmd0aDtCKyspTltCXT1sKE5bQi0zXV5OW0ItOF1eTltCLTE0XV5OW0ItMTZdLDEpO3ZhciBMPXRoaXMuaFswXSxDPXRoaXMuaFsxXSxqPXRoaXMuaFsyXSxQPXRoaXMuaFszXSxGPXRoaXMuaFs0XTtmb3IoQj0wO0I8Ti5sZW5ndGg7QisrKXt2YXIgaz1+fihCLzIwKSxKPXAobChMLDUpLGcoayxDLGosUCksRixOW0JdLGJba10pO0Y9UCxQPWosaj1sKEMsMzApLEM9TCxMPUp9dGhpcy5oWzBdPXUodGhpcy5oWzBdLEwpLHRoaXMuaFsxXT11KHRoaXMuaFsxXSxDKSx0aGlzLmhbMl09dSh0aGlzLmhbMl0saiksdGhpcy5oWzNdPXUodGhpcy5oWzNdLFApLHRoaXMuaFs0XT11KHRoaXMuaFs0XSxGKX0sXy5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihUKXtyZXR1cm4gVD09PSJoZXgiP28udG9IZXgzMih0aGlzLmgsImJpZyIpOm8uc3BsaXQzMih0aGlzLmgsImJpZyIpfX0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8yMjQuanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzI1Ni5qcyIpO2Z1bmN0aW9uIGgoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBoKSlyZXR1cm4gbmV3IGg7ZC5jYWxsKHRoaXMpLHRoaXMuaD1bMzIzODM3MTAzMiw5MTQxNTA2NjMsODEyNzAyOTk5LDQxNDQ5MTI2OTcsNDI5MDc3NTg1NywxNzUwNjAzMDI1LDE2OTQwNzY4MzksMzIwNDA3NTQyOF19by5pbmhlcml0cyhoLGQpLHQuZXhwb3J0cz1oLGguYmxvY2tTaXplPTUxMixoLm91dFNpemU9MjI0LGguaG1hY1N0cmVuZ3RoPTE5MixoLnBhZExlbmd0aD02NCxoLnByb3RvdHlwZS5fZGlnZXN0PWZ1bmN0aW9uKHUpe3JldHVybiB1PT09ImhleCI/by50b0hleDMyKHRoaXMuaC5zbGljZSgwLDcpLCJiaWciKTpvLnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsNyksImJpZyIpfX0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8yNTYuanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvY29tbW9uLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvY29tbW9uLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvbWluaW1hbGlzdGljLWFzc2VydC9pbmRleC5qcyIpLHU9by5zdW0zMixwPW8uc3VtMzJfNCxnPW8uc3VtMzJfNSx2PWguY2gzMixiPWgubWFqMzIsXz1oLnMwXzI1NixPPWguczFfMjU2LFQ9aC5nMF8yNTYsUz1oLmcxXzI1NixOPWQuQmxvY2tIYXNoLEI9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF07ZnVuY3Rpb24gTCgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEwpKXJldHVybiBuZXcgTDtOLmNhbGwodGhpcyksdGhpcy5oPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0sdGhpcy5rPUIsdGhpcy5XPW5ldyBBcnJheSg2NCl9by5pbmhlcml0cyhMLE4pLHQuZXhwb3J0cz1MLEwuYmxvY2tTaXplPTUxMixMLm91dFNpemU9MjU2LEwuaG1hY1N0cmVuZ3RoPTE5MixMLnBhZExlbmd0aD02NCxMLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGosUCl7Zm9yKHZhciBGPXRoaXMuVyxrPTA7azwxNjtrKyspRltrXT1qW1Ara107Zm9yKDtrPEYubGVuZ3RoO2srKylGW2tdPXAoUyhGW2stMl0pLEZbay03XSxUKEZbay0xNV0pLEZbay0xNl0pO3ZhciBKPXRoaXMuaFswXSxhZT10aGlzLmhbMV0sWD10aGlzLmhbMl0sRz10aGlzLmhbM10scmU9dGhpcy5oWzRdLE09dGhpcy5oWzVdLCQ9dGhpcy5oWzZdLFU9dGhpcy5oWzddO2ZvcihsKHRoaXMuay5sZW5ndGg9PT1GLmxlbmd0aCksaz0wO2s8Ri5sZW5ndGg7aysrKXt2YXIgSD1nKFUsTyhyZSksdihyZSxNLCQpLHRoaXMua1trXSxGW2tdKSxlZT11KF8oSiksYihKLGFlLFgpKTtVPSQsJD1NLE09cmUscmU9dShHLEgpLEc9WCxYPWFlLGFlPUosSj11KEgsZWUpfXRoaXMuaFswXT11KHRoaXMuaFswXSxKKSx0aGlzLmhbMV09dSh0aGlzLmhbMV0sYWUpLHRoaXMuaFsyXT11KHRoaXMuaFsyXSxYKSx0aGlzLmhbM109dSh0aGlzLmhbM10sRyksdGhpcy5oWzRdPXUodGhpcy5oWzRdLHJlKSx0aGlzLmhbNV09dSh0aGlzLmhbNV0sTSksdGhpcy5oWzZdPXUodGhpcy5oWzZdLCQpLHRoaXMuaFs3XT11KHRoaXMuaFs3XSxVKX0sTC5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihqKXtyZXR1cm4gaj09PSJoZXgiP28udG9IZXgzMih0aGlzLmgsImJpZyIpOm8uc3BsaXQzMih0aGlzLmgsImJpZyIpfX0sIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3NoYS8zODQuanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLzUxMi5qcyIpO2Z1bmN0aW9uIGgoKXtpZighKHRoaXMgaW5zdGFuY2VvZiBoKSlyZXR1cm4gbmV3IGg7ZC5jYWxsKHRoaXMpLHRoaXMuaD1bMzQxODA3MDM2NSwzMjM4MzcxMDMyLDE2NTQyNzAyNTAsOTE0MTUwNjYzLDI0Mzg1MjkzNzAsODEyNzAyOTk5LDM1NTQ2MjM2MCw0MTQ0OTEyNjk3LDE3MzE0MDU0MTUsNDI5MDc3NTg1NywyMzk0MTgwMjMxLDE3NTA2MDMwMjUsMzY3NTAwODUyNSwxNjk0MDc2ODM5LDEyMDMwNjI4MTMsMzIwNDA3NTQyOF19by5pbmhlcml0cyhoLGQpLHQuZXhwb3J0cz1oLGguYmxvY2tTaXplPTEwMjQsaC5vdXRTaXplPTM4NCxoLmhtYWNTdHJlbmd0aD0xOTIsaC5wYWRMZW5ndGg9MTI4LGgucHJvdG90eXBlLl9kaWdlc3Q9ZnVuY3Rpb24odSl7cmV0dXJuIHU9PT0iaGV4Ij9vLnRvSGV4MzIodGhpcy5oLnNsaWNlKDAsMTIpLCJiaWciKTpvLnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsMTIpLCJiaWciKX19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvNTEyLmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL21pbmltYWxpc3RpYy1hc3NlcnQvaW5kZXguanMiKSxsPW8ucm90cjY0X2hpLHU9by5yb3RyNjRfbG8scD1vLnNocjY0X2hpLGc9by5zaHI2NF9sbyx2PW8uc3VtNjQsYj1vLnN1bTY0X2hpLF89by5zdW02NF9sbyxPPW8uc3VtNjRfNF9oaSxUPW8uc3VtNjRfNF9sbyxTPW8uc3VtNjRfNV9oaSxOPW8uc3VtNjRfNV9sbyxCPWQuQmxvY2tIYXNoLEw9WzExMTYzNTI0MDgsMzYwOTc2NzQ1OCwxODk5NDQ3NDQxLDYwMjg5MTcyNSwzMDQ5MzIzNDcxLDM5NjQ0ODQzOTksMzkyMTAwOTU3MywyMTczMjk1NTQ4LDk2MTk4NzE2Myw0MDgxNjI4NDcyLDE1MDg5NzA5OTMsMzA1MzgzNDI2NSwyNDUzNjM1NzQ4LDI5Mzc2NzE1NzksMjg3MDc2MzIyMSwzNjY0NjA5NTYwLDM2MjQzODEwODAsMjczNDg4MzM5NCwzMTA1OTg0MDEsMTE2NDk5NjU0Miw2MDcyMjUyNzgsMTMyMzYxMDc2NCwxNDI2ODgxOTg3LDM1OTAzMDQ5OTQsMTkyNTA3ODM4OCw0MDY4MTgyMzgzLDIxNjIwNzgyMDYsOTkxMzM2MTEzLDI2MTQ4ODgxMDMsNjMzODAzMzE3LDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCwzODM1MzkwNDAxLDI2NjY2MTM0NTgsNDAyMjIyNDc3NCw5NDQ3MTExMzksMjY0MzQ3MDc4LDIzNDEyNjI3NzMsNjA0ODA3NjI4LDIwMDc4MDA5MzMsNzcwMjU1OTgzLDE0OTU5OTA5MDEsMTI0OTE1MDEyMiwxODU2NDMxMjM1LDE1NTUwODE2OTIsMzE3NTIxODEzMiwxOTk2MDY0OTg2LDIxOTg5NTA4MzcsMjU1NDIyMDg4MiwzOTk5NzE5MzM5LDI4MjE4MzQzNDksNzY2Nzg0MDE2LDI5NTI5OTY4MDgsMjU2NjU5NDg3OSwzMjEwMzEzNjcxLDMyMDMzMzc5NTYsMzMzNjU3MTg5MSwxMDM0NDU3MDI2LDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSwxMTM5MjY5OTMsMzc1ODMyNjM4MywzMzgyNDE4OTUsMTY4NzE3OTM2LDY2NjMwNzIwNSwxMTg4MTc5OTY0LDc3MzUyOTkxMiwxNTQ2MDQ1NzM0LDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSwxMzk2MTgyMjkxLDI2NDM4MzM4MjMsMTY5NTE4MzcwMCwyMzQzNTI3MzkwLDE5ODY2NjEwNTEsMTAxNDQ3NzQ4MCwyMTc3MDI2MzUwLDEyMDY3NTkxNDIsMjQ1Njk1NjAzNywzNDQwNzc2MjcsMjczMDQ4NTkyMSwxMjkwODYzNDYwLDI4MjAzMDI0MTEsMzE1ODQ1NDI3MywzMjU5NzMwODAwLDM1MDU5NTI2NTcsMzM0NTc2NDc3MSwxMDYyMTcwMDgsMzUxNjA2NTgxNywzNjA2MDA4MzQ0LDM2MDAzNTI4MDQsMTQzMjcyNTc3Niw0MDk0NTcxOTA5LDE0NjcwMzE1OTQsMjc1NDIzMzQ0LDg1MTE2OTcyMCw0MzAyMjc3MzQsMzEwMDgyMzc1Miw1MDY5NDg2MTYsMTM2MzI1ODE5NSw2NTkwNjA1NTYsMzc1MDY4NTU5Myw4ODM5OTc4NzcsMzc4NTA1MDI4MCw5NTgxMzk1NzEsMzMxODMwNzQyNywxMzIyODIyMjE4LDM4MTI3MjM0MDMsMTUzNzAwMjA2MywyMDAzMDM0OTk1LDE3NDc4NzM3NzksMzYwMjAzNjg5OSwxOTU1NTYyMjIyLDE1NzU5OTAwMTIsMjAyNDEwNDgxNSwxMTI1NTkyOTI4LDIyMjc3MzA0NTIsMjcxNjkwNDMwNiwyMzYxODUyNDI0LDQ0Mjc3NjA0NCwyNDI4NDM2NDc0LDU5MzY5ODM0NCwyNzU2NzM0MTg3LDM3MzMxMTAyNDksMzIwNDAzMTQ3OSwyOTk5MzUxNTczLDMzMjkzMjUyOTgsMzgxNTkyMDQyNywzMzkxNTY5NjE0LDM5MjgzODM5MDAsMzUxNTI2NzI3MSw1NjYyODA3MTEsMzk0MDE4NzYwNiwzNDU0MDY5NTM0LDQxMTg2MzAyNzEsNDAwMDIzOTk5MiwxMTY0MTg0NzQsMTkxNDEzODU1NCwxNzQyOTI0MjEsMjczMTA1NTI3MCwyODkzODAzNTYsMzIwMzk5MzAwNiw0NjAzOTMyNjksMzIwNjIwMzE1LDY4NTQ3MTczMyw1ODc0OTY4MzYsODUyMTQyOTcxLDEwODY3OTI4NTEsMTAxNzAzNjI5OCwzNjU1NDMxMDAsMTEyNjAwMDU4MCwyNjE4Mjk3Njc2LDEyODgwMzM0NzAsMzQwOTg1NTE1OCwxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYsMTYwNzE2NzkxNSw5ODcxNjc0NjgsMTgxNjQwMjMxNiwxMjQ2MTg5NTkxXTtmdW5jdGlvbiBDKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgQykpcmV0dXJuIG5ldyBDO0IuY2FsbCh0aGlzKSx0aGlzLmg9WzE3NzkwMzM3MDMsNDA4OTIzNTcyMCwzMTQ0MTM0Mjc3LDIyMjc4NzM1OTUsMTAxMzkwNDI0Miw0MjcxMTc1NzIzLDI3NzM0ODA3NjIsMTU5NTc1MDEyOSwxMzU5ODkzMTE5LDI5MTc1NjUxMzcsMjYwMDgyMjkyNCw3MjU1MTExOTksNTI4NzM0NjM1LDQyMTUzODk1NDcsMTU0MTQ1OTIyNSwzMjcwMzMyMDldLHRoaXMuaz1MLHRoaXMuVz1uZXcgQXJyYXkoMTYwKX1vLmluaGVyaXRzKEMsQiksdC5leHBvcnRzPUMsQy5ibG9ja1NpemU9MTAyNCxDLm91dFNpemU9NTEyLEMuaG1hY1N0cmVuZ3RoPTE5MixDLnBhZExlbmd0aD0xMjgsQy5wcm90b3R5cGUuX3ByZXBhcmVCbG9jaz1mdW5jdGlvbihlZSxnZSl7Zm9yKHZhciBtZT10aGlzLlcsZmU9MDtmZTwzMjtmZSsrKW1lW2ZlXT1lZVtnZStmZV07Zm9yKDtmZTxtZS5sZW5ndGg7ZmUrPTIpe3ZhciBoZT0kKG1lW2ZlLTRdLG1lW2ZlLTNdKSxfZT1VKG1lW2ZlLTRdLG1lW2ZlLTNdKSx4ZT1tZVtmZS0xNF0sUmU9bWVbZmUtMTNdLEllPXJlKG1lW2ZlLTMwXSxtZVtmZS0yOV0pLE5lPU0obWVbZmUtMzBdLG1lW2ZlLTI5XSksdmU9bWVbZmUtMzJdLENlPW1lW2ZlLTMxXTttZVtmZV09TyhoZSxfZSx4ZSxSZSxJZSxOZSx2ZSxDZSksbWVbZmUrMV09VChoZSxfZSx4ZSxSZSxJZSxOZSx2ZSxDZSl9fSxDLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGVlLGdlKXt0aGlzLl9wcmVwYXJlQmxvY2soZWUsZ2UpO3ZhciBtZT10aGlzLlcsZmU9dGhpcy5oWzBdLGhlPXRoaXMuaFsxXSxfZT10aGlzLmhbMl0seGU9dGhpcy5oWzNdLFJlPXRoaXMuaFs0XSxJZT10aGlzLmhbNV0sTmU9dGhpcy5oWzZdLHZlPXRoaXMuaFs3XSxDZT10aGlzLmhbOF0sTWU9dGhpcy5oWzldLFVlPXRoaXMuaFsxMF0sRmU9dGhpcy5oWzExXSwkZT10aGlzLmhbMTJdLHE9dGhpcy5oWzEzXSxvZT10aGlzLmhbMTRdLFE9dGhpcy5oWzE1XTtoKHRoaXMuay5sZW5ndGg9PT1tZS5sZW5ndGgpO2Zvcih2YXIgWT0wO1k8bWUubGVuZ3RoO1krPTIpe3ZhciBpZT1vZSxzZT1RLGxlPVgoQ2UsTWUpLG5lPUcoQ2UsTWUpLHVlPWooQ2UsTWUsVWUsRmUsJGUpLGRlPVAoQ2UsTWUsVWUsRmUsJGUscSkscGU9dGhpcy5rW1ldLGJlPXRoaXMua1tZKzFdLHdlPW1lW1ldLE9lPW1lW1krMV0sST1TKGllLHNlLGxlLG5lLHVlLGRlLHBlLGJlLHdlLE9lKSx3PU4oaWUsc2UsbGUsbmUsdWUsZGUscGUsYmUsd2UsT2UpO2llPUooZmUsaGUpLHNlPWFlKGZlLGhlKSxsZT1GKGZlLGhlLF9lLHhlLFJlKSxuZT1rKGZlLGhlLF9lLHhlLFJlLEllKTt2YXIgRT1iKGllLHNlLGxlLG5lKSxEPV8oaWUsc2UsbGUsbmUpO29lPSRlLFE9cSwkZT1VZSxxPUZlLFVlPUNlLEZlPU1lLENlPWIoTmUsdmUsSSx3KSxNZT1fKHZlLHZlLEksdyksTmU9UmUsdmU9SWUsUmU9X2UsSWU9eGUsX2U9ZmUseGU9aGUsZmU9YihJLHcsRSxEKSxoZT1fKEksdyxFLEQpfXYodGhpcy5oLDAsZmUsaGUpLHYodGhpcy5oLDIsX2UseGUpLHYodGhpcy5oLDQsUmUsSWUpLHYodGhpcy5oLDYsTmUsdmUpLHYodGhpcy5oLDgsQ2UsTWUpLHYodGhpcy5oLDEwLFVlLEZlKSx2KHRoaXMuaCwxMiwkZSxxKSx2KHRoaXMuaCwxNCxvZSxRKX0sQy5wcm90b3R5cGUuX2RpZ2VzdD1mdW5jdGlvbihlZSl7cmV0dXJuIGVlPT09ImhleCI/by50b0hleDMyKHRoaXMuaCwiYmlnIik6by5zcGxpdDMyKHRoaXMuaCwiYmlnIil9O2Z1bmN0aW9uIGooSCxlZSxnZSxtZSxmZSl7dmFyIGhlPUgmZ2VefkgmZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9ZnVuY3Rpb24gUChILGVlLGdlLG1lLGZlLGhlKXt2YXIgX2U9ZWUmbWVefmVlJmhlO3JldHVybiBfZTwwJiYoX2UrPTQyOTQ5NjcyOTYpLF9lfWZ1bmN0aW9uIEYoSCxlZSxnZSxtZSxmZSl7dmFyIGhlPUgmZ2VeSCZmZV5nZSZmZTtyZXR1cm4gaGU8MCYmKGhlKz00Mjk0OTY3Mjk2KSxoZX1mdW5jdGlvbiBrKEgsZWUsZ2UsbWUsZmUsaGUpe3ZhciBfZT1lZSZtZV5lZSZoZV5tZSZoZTtyZXR1cm4gX2U8MCYmKF9lKz00Mjk0OTY3Mjk2KSxfZX1mdW5jdGlvbiBKKEgsZWUpe3ZhciBnZT1sKEgsZWUsMjgpLG1lPWwoZWUsSCwyKSxmZT1sKGVlLEgsNyksaGU9Z2VebWVeZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9ZnVuY3Rpb24gYWUoSCxlZSl7dmFyIGdlPXUoSCxlZSwyOCksbWU9dShlZSxILDIpLGZlPXUoZWUsSCw3KSxoZT1nZV5tZV5mZTtyZXR1cm4gaGU8MCYmKGhlKz00Mjk0OTY3Mjk2KSxoZX1mdW5jdGlvbiBYKEgsZWUpe3ZhciBnZT1sKEgsZWUsMTQpLG1lPWwoSCxlZSwxOCksZmU9bChlZSxILDkpLGhlPWdlXm1lXmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uIEcoSCxlZSl7dmFyIGdlPXUoSCxlZSwxNCksbWU9dShILGVlLDE4KSxmZT11KGVlLEgsOSksaGU9Z2VebWVeZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9ZnVuY3Rpb24gcmUoSCxlZSl7dmFyIGdlPWwoSCxlZSwxKSxtZT1sKEgsZWUsOCksZmU9cChILGVlLDcpLGhlPWdlXm1lXmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uIE0oSCxlZSl7dmFyIGdlPXUoSCxlZSwxKSxtZT11KEgsZWUsOCksZmU9ZyhILGVlLDcpLGhlPWdlXm1lXmZlO3JldHVybiBoZTwwJiYoaGUrPTQyOTQ5NjcyOTYpLGhlfWZ1bmN0aW9uICQoSCxlZSl7dmFyIGdlPWwoSCxlZSwxOSksbWU9bChlZSxILDI5KSxmZT1wKEgsZWUsNiksaGU9Z2VebWVeZmU7cmV0dXJuIGhlPDAmJihoZSs9NDI5NDk2NzI5NiksaGV9ZnVuY3Rpb24gVShILGVlKXt2YXIgZ2U9dShILGVlLDE5KSxtZT11KGVlLEgsMjkpLGZlPWcoSCxlZSw2KSxoZT1nZV5tZV5mZTtyZXR1cm4gaGU8MCYmKGhlKz00Mjk0OTY3Mjk2KSxoZX19LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEvY29tbW9uLmpzIjoodCxlLG4pPT57dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanMiKSxkPW8ucm90cjMyO2Z1bmN0aW9uIGgoTyxULFMsTil7aWYoTz09PTApcmV0dXJuIGwoVCxTLE4pO2lmKE89PT0xfHxPPT09MylyZXR1cm4gcChULFMsTik7aWYoTz09PTIpcmV0dXJuIHUoVCxTLE4pfWUuZnRfMT1oO2Z1bmN0aW9uIGwoTyxULFMpe3JldHVybiBPJlRefk8mU31lLmNoMzI9bDtmdW5jdGlvbiB1KE8sVCxTKXtyZXR1cm4gTyZUXk8mU15UJlN9ZS5tYWozMj11O2Z1bmN0aW9uIHAoTyxULFMpe3JldHVybiBPXlReU31lLnAzMj1wO2Z1bmN0aW9uIGcoTyl7cmV0dXJuIGQoTywyKV5kKE8sMTMpXmQoTywyMil9ZS5zMF8yNTY9ZztmdW5jdGlvbiB2KE8pe3JldHVybiBkKE8sNileZChPLDExKV5kKE8sMjUpfWUuczFfMjU2PXY7ZnVuY3Rpb24gYihPKXtyZXR1cm4gZChPLDcpXmQoTywxOCleTz4+PjN9ZS5nMF8yNTY9YjtmdW5jdGlvbiBfKE8pe3JldHVybiBkKE8sMTcpXmQoTywxOSleTz4+PjEwfWUuZzFfMjU2PV99LCIuLi9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyI6KHQsZSxuKT0+e3ZhciBvPW4oIi4uL25vZGVfbW9kdWxlcy9taW5pbWFsaXN0aWMtYXNzZXJ0L2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIpO2UuaW5oZXJpdHM9ZDtmdW5jdGlvbiBoKFUsSCl7cmV0dXJuKFUuY2hhckNvZGVBdChIKSY2NDUxMikhPT01NTI5Nnx8SDwwfHxIKzE+PVUubGVuZ3RoPyExOihVLmNoYXJDb2RlQXQoSCsxKSY2NDUxMik9PT01NjMyMH1mdW5jdGlvbiBsKFUsSCl7aWYoQXJyYXkuaXNBcnJheShVKSlyZXR1cm4gVS5zbGljZSgpO2lmKCFVKXJldHVybltdO3ZhciBlZT1bXTtpZih0eXBlb2YgVT09InN0cmluZyIpaWYoSCl7aWYoSD09PSJoZXgiKWZvcihVPVUucmVwbGFjZSgvW15hLXowLTldKy9pZywiIiksVS5sZW5ndGglMiE9PTAmJihVPSIwIitVKSxtZT0wO21lPFUubGVuZ3RoO21lKz0yKWVlLnB1c2gocGFyc2VJbnQoVVttZV0rVVttZSsxXSwxNikpfWVsc2UgZm9yKHZhciBnZT0wLG1lPTA7bWU8VS5sZW5ndGg7bWUrKyl7dmFyIGZlPVUuY2hhckNvZGVBdChtZSk7ZmU8MTI4P2VlW2dlKytdPWZlOmZlPDIwNDg/KGVlW2dlKytdPWZlPj42fDE5MixlZVtnZSsrXT1mZSY2M3wxMjgpOmgoVSxtZSk/KGZlPTY1NTM2KygoZmUmMTAyMyk8PDEwKSsoVS5jaGFyQ29kZUF0KCsrbWUpJjEwMjMpLGVlW2dlKytdPWZlPj4xOHwyNDAsZWVbZ2UrK109ZmU+PjEyJjYzfDEyOCxlZVtnZSsrXT1mZT4+NiY2M3wxMjgsZWVbZ2UrK109ZmUmNjN8MTI4KTooZWVbZ2UrK109ZmU+PjEyfDIyNCxlZVtnZSsrXT1mZT4+NiY2M3wxMjgsZWVbZ2UrK109ZmUmNjN8MTI4KX1lbHNlIGZvcihtZT0wO21lPFUubGVuZ3RoO21lKyspZWVbbWVdPVVbbWVdfDA7cmV0dXJuIGVlfWUudG9BcnJheT1sO2Z1bmN0aW9uIHUoVSl7Zm9yKHZhciBIPSIiLGVlPTA7ZWU8VS5sZW5ndGg7ZWUrKylIKz12KFVbZWVdLnRvU3RyaW5nKDE2KSk7cmV0dXJuIEh9ZS50b0hleD11O2Z1bmN0aW9uIHAoVSl7dmFyIEg9VT4+PjI0fFU+Pj44JjY1MjgwfFU8PDgmMTY3MTE2ODB8KFUmMjU1KTw8MjQ7cmV0dXJuIEg+Pj4wfWUuaHRvbmw9cDtmdW5jdGlvbiBnKFUsSCl7Zm9yKHZhciBlZT0iIixnZT0wO2dlPFUubGVuZ3RoO2dlKyspe3ZhciBtZT1VW2dlXTtIPT09ImxpdHRsZSImJihtZT1wKG1lKSksZWUrPWIobWUudG9TdHJpbmcoMTYpKX1yZXR1cm4gZWV9ZS50b0hleDMyPWc7ZnVuY3Rpb24gdihVKXtyZXR1cm4gVS5sZW5ndGg9PT0xPyIwIitVOlV9ZS56ZXJvMj12O2Z1bmN0aW9uIGIoVSl7cmV0dXJuIFUubGVuZ3RoPT09Nz8iMCIrVTpVLmxlbmd0aD09PTY/IjAwIitVOlUubGVuZ3RoPT09NT8iMDAwIitVOlUubGVuZ3RoPT09ND8iMDAwMCIrVTpVLmxlbmd0aD09PTM/IjAwMDAwIitVOlUubGVuZ3RoPT09Mj8iMDAwMDAwIitVOlUubGVuZ3RoPT09MT8iMDAwMDAwMCIrVTpVfWUuemVybzg9YjtmdW5jdGlvbiBfKFUsSCxlZSxnZSl7dmFyIG1lPWVlLUg7byhtZSU0PT09MCk7Zm9yKHZhciBmZT1uZXcgQXJyYXkobWUvNCksaGU9MCxfZT1IO2hlPGZlLmxlbmd0aDtoZSsrLF9lKz00KXt2YXIgeGU7Z2U9PT0iYmlnIj94ZT1VW19lXTw8MjR8VVtfZSsxXTw8MTZ8VVtfZSsyXTw8OHxVW19lKzNdOnhlPVVbX2UrM108PDI0fFVbX2UrMl08PDE2fFVbX2UrMV08PDh8VVtfZV0sZmVbaGVdPXhlPj4+MH1yZXR1cm4gZmV9ZS5qb2luMzI9XztmdW5jdGlvbiBPKFUsSCl7Zm9yKHZhciBlZT1uZXcgQXJyYXkoVS5sZW5ndGgqNCksZ2U9MCxtZT0wO2dlPFUubGVuZ3RoO2dlKyssbWUrPTQpe3ZhciBmZT1VW2dlXTtIPT09ImJpZyI/KGVlW21lXT1mZT4+PjI0LGVlW21lKzFdPWZlPj4+MTYmMjU1LGVlW21lKzJdPWZlPj4+OCYyNTUsZWVbbWUrM109ZmUmMjU1KTooZWVbbWUrM109ZmU+Pj4yNCxlZVttZSsyXT1mZT4+PjE2JjI1NSxlZVttZSsxXT1mZT4+PjgmMjU1LGVlW21lXT1mZSYyNTUpfXJldHVybiBlZX1lLnNwbGl0MzI9TztmdW5jdGlvbiBUKFUsSCl7cmV0dXJuIFU+Pj5IfFU8PDMyLUh9ZS5yb3RyMzI9VDtmdW5jdGlvbiBTKFUsSCl7cmV0dXJuIFU8PEh8VT4+PjMyLUh9ZS5yb3RsMzI9UztmdW5jdGlvbiBOKFUsSCl7cmV0dXJuIFUrSD4+PjB9ZS5zdW0zMj1OO2Z1bmN0aW9uIEIoVSxILGVlKXtyZXR1cm4gVStIK2VlPj4+MH1lLnN1bTMyXzM9QjtmdW5jdGlvbiBMKFUsSCxlZSxnZSl7cmV0dXJuIFUrSCtlZStnZT4+PjB9ZS5zdW0zMl80PUw7ZnVuY3Rpb24gQyhVLEgsZWUsZ2UsbWUpe3JldHVybiBVK0grZWUrZ2UrbWU+Pj4wfWUuc3VtMzJfNT1DO2Z1bmN0aW9uIGooVSxILGVlLGdlKXt2YXIgbWU9VVtIXSxmZT1VW0grMV0saGU9Z2UrZmU+Pj4wLF9lPShoZTxnZT8xOjApK2VlK21lO1VbSF09X2U+Pj4wLFVbSCsxXT1oZX1lLnN1bTY0PWo7ZnVuY3Rpb24gUChVLEgsZWUsZ2Upe3ZhciBtZT1IK2dlPj4+MCxmZT0obWU8SD8xOjApK1UrZWU7cmV0dXJuIGZlPj4+MH1lLnN1bTY0X2hpPVA7ZnVuY3Rpb24gRihVLEgsZWUsZ2Upe3ZhciBtZT1IK2dlO3JldHVybiBtZT4+PjB9ZS5zdW02NF9sbz1GO2Z1bmN0aW9uIGsoVSxILGVlLGdlLG1lLGZlLGhlLF9lKXt2YXIgeGU9MCxSZT1IO1JlPVJlK2dlPj4+MCx4ZSs9UmU8SD8xOjAsUmU9UmUrZmU+Pj4wLHhlKz1SZTxmZT8xOjAsUmU9UmUrX2U+Pj4wLHhlKz1SZTxfZT8xOjA7dmFyIEllPVUrZWUrbWUraGUreGU7cmV0dXJuIEllPj4+MH1lLnN1bTY0XzRfaGk9aztmdW5jdGlvbiBKKFUsSCxlZSxnZSxtZSxmZSxoZSxfZSl7dmFyIHhlPUgrZ2UrZmUrX2U7cmV0dXJuIHhlPj4+MH1lLnN1bTY0XzRfbG89SjtmdW5jdGlvbiBhZShVLEgsZWUsZ2UsbWUsZmUsaGUsX2UseGUsUmUpe3ZhciBJZT0wLE5lPUg7TmU9TmUrZ2U+Pj4wLEllKz1OZTxIPzE6MCxOZT1OZStmZT4+PjAsSWUrPU5lPGZlPzE6MCxOZT1OZStfZT4+PjAsSWUrPU5lPF9lPzE6MCxOZT1OZStSZT4+PjAsSWUrPU5lPFJlPzE6MDt2YXIgdmU9VStlZSttZStoZSt4ZStJZTtyZXR1cm4gdmU+Pj4wfWUuc3VtNjRfNV9oaT1hZTtmdW5jdGlvbiBYKFUsSCxlZSxnZSxtZSxmZSxoZSxfZSx4ZSxSZSl7dmFyIEllPUgrZ2UrZmUrX2UrUmU7cmV0dXJuIEllPj4+MH1lLnN1bTY0XzVfbG89WDtmdW5jdGlvbiBHKFUsSCxlZSl7dmFyIGdlPUg8PDMyLWVlfFU+Pj5lZTtyZXR1cm4gZ2U+Pj4wfWUucm90cjY0X2hpPUc7ZnVuY3Rpb24gcmUoVSxILGVlKXt2YXIgZ2U9VTw8MzItZWV8SD4+PmVlO3JldHVybiBnZT4+PjB9ZS5yb3RyNjRfbG89cmU7ZnVuY3Rpb24gTShVLEgsZWUpe3JldHVybiBVPj4+ZWV9ZS5zaHI2NF9oaT1NO2Z1bmN0aW9uICQoVSxILGVlKXt2YXIgZ2U9VTw8MzItZWV8SD4+PmVlO3JldHVybiBnZT4+PjB9ZS5zaHI2NF9sbz0kfSwiLi4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiOnQ9Pnt0eXBlb2YgT2JqZWN0LmNyZWF0ZT09ImZ1bmN0aW9uIj90LmV4cG9ydHM9ZnVuY3Rpb24obixvKXtvJiYobi5zdXBlcl89byxuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6bixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSl9OnQuZXhwb3J0cz1mdW5jdGlvbihuLG8pe2lmKG8pe24uc3VwZXJfPW87dmFyIGQ9ZnVuY3Rpb24oKXt9O2QucHJvdG90eXBlPW8ucHJvdG90eXBlLG4ucHJvdG90eXBlPW5ldyBkLG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW59fX0sIi4uL25vZGVfbW9kdWxlcy9scnUtY2FjaGUvaW5kZXguanMiOih0LGUsbik9Pntjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy95YWxsaXN0L3lhbGxpc3QuanMiKSxkPVN5bWJvbCgibWF4IiksaD1TeW1ib2woImxlbmd0aCIpLGw9U3ltYm9sKCJsZW5ndGhDYWxjdWxhdG9yIiksdT1TeW1ib2woImFsbG93U3RhbGUiKSxwPVN5bWJvbCgibWF4QWdlIiksZz1TeW1ib2woImRpc3Bvc2UiKSx2PVN5bWJvbCgibm9EaXNwb3NlT25TZXQiKSxiPVN5bWJvbCgibHJ1TGlzdCIpLF89U3ltYm9sKCJjYWNoZSIpLE89U3ltYm9sKCJ1cGRhdGVBZ2VPbkdldCIpLFQ9KCk9PjE7Y2xhc3MgU3tjb25zdHJ1Y3RvcihrKXtpZih0eXBlb2Ygaz09Im51bWJlciImJihrPXttYXg6a30pLGt8fChrPXt9KSxrLm1heCYmKHR5cGVvZiBrLm1heCE9Im51bWJlciJ8fGsubWF4PDApKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlciIpO3RoaXNbZF09ay5tYXh8fDEvMDtjb25zdCBKPWsubGVuZ3RofHxUO2lmKHRoaXNbbF09dHlwZW9mIEohPSJmdW5jdGlvbiI/VDpKLHRoaXNbdV09ay5zdGFsZXx8ITEsay5tYXhBZ2UmJnR5cGVvZiBrLm1heEFnZSE9Im51bWJlciIpdGhyb3cgbmV3IFR5cGVFcnJvcigibWF4QWdlIG11c3QgYmUgYSBudW1iZXIiKTt0aGlzW3BdPWsubWF4QWdlfHwwLHRoaXNbZ109ay5kaXNwb3NlLHRoaXNbdl09ay5ub0Rpc3Bvc2VPblNldHx8ITEsdGhpc1tPXT1rLnVwZGF0ZUFnZU9uR2V0fHwhMSx0aGlzLnJlc2V0KCl9c2V0IG1heChrKXtpZih0eXBlb2YgayE9Im51bWJlciJ8fGs8MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIiKTt0aGlzW2RdPWt8fDEvMCxMKHRoaXMpfWdldCBtYXgoKXtyZXR1cm4gdGhpc1tkXX1zZXQgYWxsb3dTdGFsZShrKXt0aGlzW3VdPSEha31nZXQgYWxsb3dTdGFsZSgpe3JldHVybiB0aGlzW3VdfXNldCBtYXhBZ2Uoayl7aWYodHlwZW9mIGshPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heEFnZSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlciIpO3RoaXNbcF09ayxMKHRoaXMpfWdldCBtYXhBZ2UoKXtyZXR1cm4gdGhpc1twXX1zZXQgbGVuZ3RoQ2FsY3VsYXRvcihrKXt0eXBlb2YgayE9ImZ1bmN0aW9uIiYmKGs9VCksayE9PXRoaXNbbF0mJih0aGlzW2xdPWssdGhpc1toXT0wLHRoaXNbYl0uZm9yRWFjaChKPT57Si5sZW5ndGg9dGhpc1tsXShKLnZhbHVlLEoua2V5KSx0aGlzW2hdKz1KLmxlbmd0aH0pKSxMKHRoaXMpfWdldCBsZW5ndGhDYWxjdWxhdG9yKCl7cmV0dXJuIHRoaXNbbF19Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzW2hdfWdldCBpdGVtQ291bnQoKXtyZXR1cm4gdGhpc1tiXS5sZW5ndGh9cmZvckVhY2goayxKKXtKPUp8fHRoaXM7Zm9yKGxldCBhZT10aGlzW2JdLnRhaWw7YWUhPT1udWxsOyl7Y29uc3QgWD1hZS5wcmV2O1AodGhpcyxrLGFlLEopLGFlPVh9fWZvckVhY2goayxKKXtKPUp8fHRoaXM7Zm9yKGxldCBhZT10aGlzW2JdLmhlYWQ7YWUhPT1udWxsOyl7Y29uc3QgWD1hZS5uZXh0O1AodGhpcyxrLGFlLEopLGFlPVh9fWtleXMoKXtyZXR1cm4gdGhpc1tiXS50b0FycmF5KCkubWFwKGs9Pmsua2V5KX12YWx1ZXMoKXtyZXR1cm4gdGhpc1tiXS50b0FycmF5KCkubWFwKGs9PmsudmFsdWUpfXJlc2V0KCl7dGhpc1tnXSYmdGhpc1tiXSYmdGhpc1tiXS5sZW5ndGgmJnRoaXNbYl0uZm9yRWFjaChrPT50aGlzW2ddKGsua2V5LGsudmFsdWUpKSx0aGlzW19dPW5ldyBNYXAsdGhpc1tiXT1uZXcgbyx0aGlzW2hdPTB9ZHVtcCgpe3JldHVybiB0aGlzW2JdLm1hcChrPT5CKHRoaXMsayk/ITE6e2s6ay5rZXksdjprLnZhbHVlLGU6ay5ub3crKGsubWF4QWdlfHwwKX0pLnRvQXJyYXkoKS5maWx0ZXIoaz0+ayl9ZHVtcExydSgpe3JldHVybiB0aGlzW2JdfXNldChrLEosYWUpe2lmKGFlPWFlfHx0aGlzW3BdLGFlJiZ0eXBlb2YgYWUhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heEFnZSBtdXN0IGJlIGEgbnVtYmVyIik7Y29uc3QgWD1hZT9EYXRlLm5vdygpOjAsRz10aGlzW2xdKEosayk7aWYodGhpc1tfXS5oYXMoaykpe2lmKEc+dGhpc1tkXSlyZXR1cm4gQyh0aGlzLHRoaXNbX10uZ2V0KGspKSwhMTtjb25zdCAkPXRoaXNbX10uZ2V0KGspLnZhbHVlO3JldHVybiB0aGlzW2ddJiYodGhpc1t2XXx8dGhpc1tnXShrLCQudmFsdWUpKSwkLm5vdz1YLCQubWF4QWdlPWFlLCQudmFsdWU9Six0aGlzW2hdKz1HLSQubGVuZ3RoLCQubGVuZ3RoPUcsdGhpcy5nZXQoayksTCh0aGlzKSwhMH1jb25zdCByZT1uZXcgaihrLEosRyxYLGFlKTtyZXR1cm4gcmUubGVuZ3RoPnRoaXNbZF0/KHRoaXNbZ10mJnRoaXNbZ10oayxKKSwhMSk6KHRoaXNbaF0rPXJlLmxlbmd0aCx0aGlzW2JdLnVuc2hpZnQocmUpLHRoaXNbX10uc2V0KGssdGhpc1tiXS5oZWFkKSxMKHRoaXMpLCEwKX1oYXMoayl7aWYoIXRoaXNbX10uaGFzKGspKXJldHVybiExO2NvbnN0IEo9dGhpc1tfXS5nZXQoaykudmFsdWU7cmV0dXJuIUIodGhpcyxKKX1nZXQoayl7cmV0dXJuIE4odGhpcyxrLCEwKX1wZWVrKGspe3JldHVybiBOKHRoaXMsaywhMSl9cG9wKCl7Y29uc3Qgaz10aGlzW2JdLnRhaWw7cmV0dXJuIGs/KEModGhpcyxrKSxrLnZhbHVlKTpudWxsfWRlbChrKXtDKHRoaXMsdGhpc1tfXS5nZXQoaykpfWxvYWQoayl7dGhpcy5yZXNldCgpO2NvbnN0IEo9RGF0ZS5ub3coKTtmb3IobGV0IGFlPWsubGVuZ3RoLTE7YWU+PTA7YWUtLSl7Y29uc3QgWD1rW2FlXSxHPVguZXx8MDtpZihHPT09MCl0aGlzLnNldChYLmssWC52KTtlbHNle2NvbnN0IHJlPUctSjtyZT4wJiZ0aGlzLnNldChYLmssWC52LHJlKX19fXBydW5lKCl7dGhpc1tfXS5mb3JFYWNoKChrLEopPT5OKHRoaXMsSiwhMSkpfX1jb25zdCBOPShGLGssSik9Pntjb25zdCBhZT1GW19dLmdldChrKTtpZihhZSl7Y29uc3QgWD1hZS52YWx1ZTtpZihCKEYsWCkpe2lmKEMoRixhZSksIUZbdV0pcmV0dXJufWVsc2UgSiYmKEZbT10mJihhZS52YWx1ZS5ub3c9RGF0ZS5ub3coKSksRltiXS51bnNoaWZ0Tm9kZShhZSkpO3JldHVybiBYLnZhbHVlfX0sQj0oRixrKT0+e2lmKCFrfHwhay5tYXhBZ2UmJiFGW3BdKXJldHVybiExO2NvbnN0IEo9RGF0ZS5ub3coKS1rLm5vdztyZXR1cm4gay5tYXhBZ2U/Sj5rLm1heEFnZTpGW3BdJiZKPkZbcF19LEw9Rj0+e2lmKEZbaF0+RltkXSlmb3IobGV0IGs9RltiXS50YWlsO0ZbaF0+RltkXSYmayE9PW51bGw7KXtjb25zdCBKPWsucHJldjtDKEYsayksaz1KfX0sQz0oRixrKT0+e2lmKGspe2NvbnN0IEo9ay52YWx1ZTtGW2ddJiZGW2ddKEoua2V5LEoudmFsdWUpLEZbaF0tPUoubGVuZ3RoLEZbX10uZGVsZXRlKEoua2V5KSxGW2JdLnJlbW92ZU5vZGUoayl9fTtjbGFzcyBqe2NvbnN0cnVjdG9yKGssSixhZSxYLEcpe3RoaXMua2V5PWssdGhpcy52YWx1ZT1KLHRoaXMubGVuZ3RoPWFlLHRoaXMubm93PVgsdGhpcy5tYXhBZ2U9R3x8MH19Y29uc3QgUD0oRixrLEosYWUpPT57bGV0IFg9Si52YWx1ZTtCKEYsWCkmJihDKEYsSiksRlt1XXx8KFg9dm9pZCAwKSksWCYmay5jYWxsKGFlLFgudmFsdWUsWC5rZXksRil9O3QuZXhwb3J0cz1TfSwiLi4vbm9kZV9tb2R1bGVzL21pbmltYWxpc3RpYy1hc3NlcnQvaW5kZXguanMiOnQ9Pnt0LmV4cG9ydHM9ZTtmdW5jdGlvbiBlKG4sbyl7aWYoIW4pdGhyb3cgbmV3IEVycm9yKG98fCJBc3NlcnRpb24gZmFpbGVkIil9ZS5lcXVhbD1mdW5jdGlvbihvLGQsaCl7aWYobyE9ZCl0aHJvdyBuZXcgRXJyb3IoaHx8IkFzc2VydGlvbiBmYWlsZWQ6ICIrbysiICE9ICIrZCl9fSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvQmxhbmtOb2RlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvRGF0YUZhY3RvcnkuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9EZWZhdWx0R3JhcGguanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9MaXRlcmFsLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvTmFtZWROb2RlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvUXVhZC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL1ZhcmlhYmxlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvQmxhbmtOb2RlLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkJsYW5rTm9kZT12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkKXt0aGlzLnRlcm1UeXBlPSJCbGFua05vZGUiLHRoaXMudmFsdWU9ZH1lcXVhbHMoZCl7cmV0dXJuISFkJiZkLnRlcm1UeXBlPT09IkJsYW5rTm9kZSImJmQudmFsdWU9PT10aGlzLnZhbHVlfX1lLkJsYW5rTm9kZT1ufSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0RhdGFGYWN0b3J5LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuRGF0YUZhY3Rvcnk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0JsYW5rTm9kZS5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0RlZmF1bHRHcmFwaC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0xpdGVyYWwuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9OYW1lZE5vZGUuanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9RdWFkLmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvVmFyaWFibGUuanMiKTtsZXQgZz0wO2NsYXNzIHZ7Y29uc3RydWN0b3IoXyl7dGhpcy5ibGFua05vZGVDb3VudGVyPTAsXz1ffHx7fSx0aGlzLmJsYW5rTm9kZVByZWZpeD1fLmJsYW5rTm9kZVByZWZpeHx8YGRmXyR7ZysrfV9gfW5hbWVkTm9kZShfKXtyZXR1cm4gbmV3IGwuTmFtZWROb2RlKF8pfWJsYW5rTm9kZShfKXtyZXR1cm4gbmV3IG8uQmxhbmtOb2RlKF98fGAke3RoaXMuYmxhbmtOb2RlUHJlZml4fSR7dGhpcy5ibGFua05vZGVDb3VudGVyKyt9YCl9bGl0ZXJhbChfLE8pe3JldHVybiBuZXcgaC5MaXRlcmFsKF8sTyl9dmFyaWFibGUoXyl7cmV0dXJuIG5ldyBwLlZhcmlhYmxlKF8pfWRlZmF1bHRHcmFwaCgpe3JldHVybiBkLkRlZmF1bHRHcmFwaC5JTlNUQU5DRX1xdWFkKF8sTyxULFMpe3JldHVybiBuZXcgdS5RdWFkKF8sTyxULFN8fHRoaXMuZGVmYXVsdEdyYXBoKCkpfWZyb21UZXJtKF8pe3N3aXRjaChfLnRlcm1UeXBlKXtjYXNlIk5hbWVkTm9kZSI6cmV0dXJuIHRoaXMubmFtZWROb2RlKF8udmFsdWUpO2Nhc2UiQmxhbmtOb2RlIjpyZXR1cm4gdGhpcy5ibGFua05vZGUoXy52YWx1ZSk7Y2FzZSJMaXRlcmFsIjpyZXR1cm4gXy5sYW5ndWFnZT90aGlzLmxpdGVyYWwoXy52YWx1ZSxfLmxhbmd1YWdlKTpfLmRhdGF0eXBlLmVxdWFscyhoLkxpdGVyYWwuWFNEX1NUUklORyk/dGhpcy5saXRlcmFsKF8udmFsdWUpOnRoaXMubGl0ZXJhbChfLnZhbHVlLHRoaXMuZnJvbVRlcm0oXy5kYXRhdHlwZSkpO2Nhc2UiVmFyaWFibGUiOnJldHVybiB0aGlzLnZhcmlhYmxlKF8udmFsdWUpO2Nhc2UiRGVmYXVsdEdyYXBoIjpyZXR1cm4gdGhpcy5kZWZhdWx0R3JhcGgoKTtjYXNlIlF1YWQiOnJldHVybiB0aGlzLnF1YWQodGhpcy5mcm9tVGVybShfLnN1YmplY3QpLHRoaXMuZnJvbVRlcm0oXy5wcmVkaWNhdGUpLHRoaXMuZnJvbVRlcm0oXy5vYmplY3QpLHRoaXMuZnJvbVRlcm0oXy5ncmFwaCkpfX1mcm9tUXVhZChfKXtyZXR1cm4gdGhpcy5mcm9tVGVybShfKX1yZXNldEJsYW5rTm9kZUNvdW50ZXIoKXt0aGlzLmJsYW5rTm9kZUNvdW50ZXI9MH19ZS5EYXRhRmFjdG9yeT12fSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL0RlZmF1bHRHcmFwaC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5EZWZhdWx0R3JhcGg9dm9pZCAwO2NsYXNzIG57Y29uc3RydWN0b3IoKXt0aGlzLnRlcm1UeXBlPSJEZWZhdWx0R3JhcGgiLHRoaXMudmFsdWU9IiJ9ZXF1YWxzKGQpe3JldHVybiEhZCYmZC50ZXJtVHlwZT09PSJEZWZhdWx0R3JhcGgifX1lLkRlZmF1bHRHcmFwaD1uLG4uSU5TVEFOQ0U9bmV3IG59LCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvTGl0ZXJhbC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkxpdGVyYWw9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvbGliL05hbWVkTm9kZS5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCx1KXt0aGlzLnRlcm1UeXBlPSJMaXRlcmFsIix0aGlzLnZhbHVlPWwsdHlwZW9mIHU9PSJzdHJpbmciPyh0aGlzLmxhbmd1YWdlPXUsdGhpcy5kYXRhdHlwZT1kLlJERl9MQU5HVUFHRV9TVFJJTkcpOnU/KHRoaXMubGFuZ3VhZ2U9IiIsdGhpcy5kYXRhdHlwZT11KToodGhpcy5sYW5ndWFnZT0iIix0aGlzLmRhdGF0eXBlPWQuWFNEX1NUUklORyl9ZXF1YWxzKGwpe3JldHVybiEhbCYmbC50ZXJtVHlwZT09PSJMaXRlcmFsIiYmbC52YWx1ZT09PXRoaXMudmFsdWUmJmwubGFuZ3VhZ2U9PT10aGlzLmxhbmd1YWdlJiZsLmRhdGF0eXBlLmVxdWFscyh0aGlzLmRhdGF0eXBlKX19ZS5MaXRlcmFsPWQsZC5SREZfTEFOR1VBR0VfU1RSSU5HPW5ldyBvLk5hbWVkTm9kZSgiaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciKSxkLlhTRF9TVFJJTkc9bmV3IG8uTmFtZWROb2RlKCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmciKX0sIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9OYW1lZE5vZGUuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTmFtZWROb2RlPXZvaWQgMDtjbGFzcyBue2NvbnN0cnVjdG9yKGQpe3RoaXMudGVybVR5cGU9Ik5hbWVkTm9kZSIsdGhpcy52YWx1ZT1kfWVxdWFscyhkKXtyZXR1cm4hIWQmJmQudGVybVR5cGU9PT0iTmFtZWROb2RlIiYmZC52YWx1ZT09PXRoaXMudmFsdWV9fWUuTmFtZWROb2RlPW59LCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9saWIvUXVhZC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5RdWFkPXZvaWQgMDtjbGFzcyBue2NvbnN0cnVjdG9yKGQsaCxsLHUpe3RoaXMudGVybVR5cGU9IlF1YWQiLHRoaXMudmFsdWU9IiIsdGhpcy5zdWJqZWN0PWQsdGhpcy5wcmVkaWNhdGU9aCx0aGlzLm9iamVjdD1sLHRoaXMuZ3JhcGg9dX1lcXVhbHMoZCl7cmV0dXJuISFkJiYoZC50ZXJtVHlwZT09PSJRdWFkInx8IWQudGVybVR5cGUpJiZ0aGlzLnN1YmplY3QuZXF1YWxzKGQuc3ViamVjdCkmJnRoaXMucHJlZGljYXRlLmVxdWFscyhkLnByZWRpY2F0ZSkmJnRoaXMub2JqZWN0LmVxdWFscyhkLm9iamVjdCkmJnRoaXMuZ3JhcGguZXF1YWxzKGQuZ3JhcGgpfX1lLlF1YWQ9bn0sIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2xpYi9WYXJpYWJsZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5WYXJpYWJsZT12b2lkIDA7Y2xhc3Mgbntjb25zdHJ1Y3RvcihkKXt0aGlzLnRlcm1UeXBlPSJWYXJpYWJsZSIsdGhpcy52YWx1ZT1kfWVxdWFscyhkKXtyZXR1cm4hIWQmJmQudGVybVR5cGU9PT0iVmFyaWFibGUiJiZkLnZhbHVlPT09dGhpcy52YWx1ZX19ZS5WYXJpYWJsZT1ufSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvaW5kZXguanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS50ZXJtVG9TdHJpbmc9ZS5zdHJpbmdUb1Rlcm09ZS5zdHJpbmdRdWFkVG9RdWFkPWUucXVhZFRvU3RyaW5nUXVhZD1lLmdldExpdGVyYWxWYWx1ZT1lLmdldExpdGVyYWxUeXBlPWUuZ2V0TGl0ZXJhbExhbmd1YWdlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2xpYi9UZXJtVXRpbC5qcyIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJnZXRMaXRlcmFsTGFuZ3VhZ2UiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmdldExpdGVyYWxMYW5ndWFnZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiZ2V0TGl0ZXJhbFR5cGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmdldExpdGVyYWxUeXBlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJnZXRMaXRlcmFsVmFsdWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLmdldExpdGVyYWxWYWx1ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwicXVhZFRvU3RyaW5nUXVhZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8ucXVhZFRvU3RyaW5nUXVhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic3RyaW5nUXVhZFRvUXVhZCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uc3RyaW5nUXVhZFRvUXVhZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic3RyaW5nVG9UZXJtIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5zdHJpbmdUb1Rlcm19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInRlcm1Ub1N0cmluZyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8udGVybVRvU3RyaW5nfX0pfSwiLi4vbm9kZV9tb2R1bGVzL3JkZi1zdHJpbmcvbGliL1Rlcm1VdGlsLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc3RyaW5nUXVhZFRvUXVhZD1lLnF1YWRUb1N0cmluZ1F1YWQ9ZS5zdHJpbmdUb1Rlcm09ZS5nZXRMaXRlcmFsTGFuZ3VhZ2U9ZS5nZXRMaXRlcmFsVHlwZT1lLmdldExpdGVyYWxWYWx1ZT1lLnRlcm1Ub1N0cmluZz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGQ9bmV3IG8uRGF0YUZhY3Rvcnk7ZnVuY3Rpb24gaChfKXtpZihfKXN3aXRjaChfLnRlcm1UeXBlKXtjYXNlIk5hbWVkTm9kZSI6cmV0dXJuIF8udmFsdWU7Y2FzZSJCbGFua05vZGUiOnJldHVybiJfOiIrXy52YWx1ZTtjYXNlIkxpdGVyYWwiOmNvbnN0IE89XztyZXR1cm4nIicrTy52YWx1ZSsnIicrKE8uZGF0YXR5cGUmJk8uZGF0YXR5cGUudmFsdWUhPT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIiYmTy5kYXRhdHlwZS52YWx1ZSE9PSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjbGFuZ1N0cmluZyI/Il5eIitPLmRhdGF0eXBlLnZhbHVlOiIiKSsoTy5sYW5ndWFnZT8iQCIrTy5sYW5ndWFnZToiIik7Y2FzZSJRdWFkIjpyZXR1cm5gPDwke2goXy5zdWJqZWN0KX0gJHtoKF8ucHJlZGljYXRlKX0gJHtoKF8ub2JqZWN0KX0ke18uZ3JhcGgudGVybVR5cGU9PT0iRGVmYXVsdEdyYXBoIj8iIjoiICIraChfLmdyYXBoKX0+PmA7Y2FzZSJWYXJpYWJsZSI6cmV0dXJuIj8iK18udmFsdWU7Y2FzZSJEZWZhdWx0R3JhcGgiOnJldHVybiBfLnZhbHVlfX1lLnRlcm1Ub1N0cmluZz1oO2Z1bmN0aW9uIGwoXyl7Y29uc3QgTz0vXiIoW15dKikiLy5leGVjKF8pO2lmKCFPKXRocm93IG5ldyBFcnJvcihfKyIgaXMgbm90IGEgbGl0ZXJhbCIpO3JldHVybiBPWzFdfWUuZ2V0TGl0ZXJhbFZhbHVlPWw7ZnVuY3Rpb24gdShfKXtjb25zdCBPPS9eIlteXSoiKD86XF5cXihbXiJdKyl8KEApW15AIl0rKT8kLy5leGVjKF8pO2lmKCFPKXRocm93IG5ldyBFcnJvcihfKyIgaXMgbm90IGEgbGl0ZXJhbCIpO3JldHVybiBPWzFdfHwoT1syXT8iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNzdHJpbmciKX1lLmdldExpdGVyYWxUeXBlPXU7ZnVuY3Rpb24gcChfKXtjb25zdCBPPS9eIlteXSoiKD86QChbXkAiXSspfFxeXF5bXiJdKyk/JC8uZXhlYyhfKTtpZighTyl0aHJvdyBuZXcgRXJyb3IoXysiIGlzIG5vdCBhIGxpdGVyYWwiKTtyZXR1cm4gT1sxXT9PWzFdLnRvTG93ZXJDYXNlKCk6IiJ9ZS5nZXRMaXRlcmFsTGFuZ3VhZ2U9cDtmdW5jdGlvbiBnKF8sTyl7aWYoTz1PfHxkLCFffHwhXy5sZW5ndGgpcmV0dXJuIE8uZGVmYXVsdEdyYXBoKCk7c3dpdGNoKF9bMF0pe2Nhc2UiXyI6cmV0dXJuIE8uYmxhbmtOb2RlKF8uc3Vic3RyKDIpKTtjYXNlIj8iOmlmKCFPLnZhcmlhYmxlKXRocm93IG5ldyBFcnJvcigiTWlzc2luZyAndmFyaWFibGUoKScgbWV0aG9kIG9uIHRoZSBnaXZlbiBEYXRhRmFjdG9yeSIpO3JldHVybiBPLnZhcmlhYmxlKF8uc3Vic3RyKDEpKTtjYXNlJyInOmNvbnN0IFQ9cChfKSxTPU8ubmFtZWROb2RlKHUoXykpO3JldHVybiBPLmxpdGVyYWwobChfKSxUfHxTKTtjYXNlIjwiOmRlZmF1bHQ6aWYoXy5zdGFydHNXaXRoKCI8PCIpJiZfLmVuZHNXaXRoKCI+PiIpKXtjb25zdCBOPV8uc2xpY2UoMiwtMikudHJpbSgpO2xldCBCPVtdLEw9MCxDPTAsaj0hMTtmb3IobGV0IFA9MDtQPE4ubGVuZ3RoO1ArKyl7Y29uc3QgRj1OW1BdO2lmKEY9PT0iPCImJkwrKyxGPT09Ij4iKXtpZihMPT09MCl0aHJvdyBuZXcgRXJyb3IoIkZvdW5kIGNsb3NpbmcgdGFnIHdpdGhvdXQgb3BlbmluZyB0YWcgaW4gIitfKTtMLS19aWYoRj09PSciJyl7bGV0IGs9ITEsSj1QO2Zvcig7Si0tID4wJiZOW0pdPT09IlxcIjspaz0haztrfHwoaj0hail9aWYoRj09PSIgIiYmIWomJkw9PT0wKXtmb3IoQi5wdXNoKE4uc2xpY2UoQyxQKSk7TltQKzFdPT09IiAiOylQKz0xO0M9UCsxfX1pZihMIT09MCl0aHJvdyBuZXcgRXJyb3IoIkZvdW5kIG9wZW5pbmcgdGFnIHdpdGhvdXQgY2xvc2luZyB0YWcgaW4gIitfKTtpZihCLnB1c2goTi5zbGljZShDLE4ubGVuZ3RoKSksQi5sZW5ndGghPT0zJiZCLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCJOZXN0ZWQgcXVhZCBzeW50YXggZXJyb3IgIitfKTtyZXR1cm4gQj1CLm1hcChQPT5QLnN0YXJ0c1dpdGgoIjwiKSYmIVAuaW5jbHVkZXMoIiAiKT9QLnNsaWNlKDEsLTEpOlApLE8ucXVhZChnKEJbMF0pLGcoQlsxXSksZyhCWzJdKSxCWzNdP2coQlszXSk6dm9pZCAwKX1yZXR1cm4gTy5uYW1lZE5vZGUoXyl9fWUuc3RyaW5nVG9UZXJtPWc7ZnVuY3Rpb24gdihfKXtyZXR1cm57c3ViamVjdDpoKF8uc3ViamVjdCkscHJlZGljYXRlOmgoXy5wcmVkaWNhdGUpLG9iamVjdDpoKF8ub2JqZWN0KSxncmFwaDpoKF8uZ3JhcGgpfX1lLnF1YWRUb1N0cmluZ1F1YWQ9djtmdW5jdGlvbiBiKF8sTyl7cmV0dXJuIE89T3x8ZCxPLnF1YWQoZyhfLnN1YmplY3QsTyksZyhfLnByZWRpY2F0ZSxPKSxnKF8ub2JqZWN0LE8pLGcoXy5ncmFwaCxPKSl9ZS5zdHJpbmdRdWFkVG9RdWFkPWJ9LCIuLi9ub2RlX21vZHVsZXMvcmRmLXRlcm1zL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9saWIvUXVhZFRlcm1VdGlsLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmRmLXRlcm1zL2xpYi9UZXJtVXRpbC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3JkZi10ZXJtcy9saWIvUXVhZFRlcm1VdGlsLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUubWF0Y2hQYXR0ZXJuTWFwcGluZ3M9ZS5tYXRjaFBhdHRlcm5Db21wbGV0ZT1lLm1hdGNoUGF0dGVybj1lLm1hdGNoVGVybT1lLnNvbWVUZXJtcz1lLmV2ZXJ5VGVybXM9ZS5yZWR1Y2VUZXJtcz1lLm1hcFRlcm1zPWUuZmlsdGVyUXVhZFRlcm1OYW1lcz1lLmZpbHRlclRlcm1zPWUuZm9yRWFjaFRlcm1zPWUuY29sbGVjdE5hbWVkVGVybXM9ZS5nZXROYW1lZFRlcm1zPWUuZ2V0VGVybXNOZXN0ZWQ9ZS5nZXRUZXJtcz1lLlRSSVBMRV9URVJNX05BTUVTPWUuUVVBRF9URVJNX05BTUVTPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksZD1uZXcgby5EYXRhRmFjdG9yeTtlLlFVQURfVEVSTV9OQU1FUz1bInN1YmplY3QiLCJwcmVkaWNhdGUiLCJvYmplY3QiLCJncmFwaCJdLGUuVFJJUExFX1RFUk1fTkFNRVM9WyJzdWJqZWN0IiwicHJlZGljYXRlIiwib2JqZWN0Il07ZnVuY3Rpb24gaChqLFApe3JldHVybiBQJiZqLmdyYXBoLnRlcm1UeXBlPT09IkRlZmF1bHRHcmFwaCI/W2ouc3ViamVjdCxqLnByZWRpY2F0ZSxqLm9iamVjdF06W2ouc3ViamVjdCxqLnByZWRpY2F0ZSxqLm9iamVjdCxqLmdyYXBoXX1lLmdldFRlcm1zPWg7ZnVuY3Rpb24gbChqLFApe2NvbnN0IEY9W107Zm9yKGNvbnN0IGsgb2YgaChqLFApKWsudGVybVR5cGU9PT0iUXVhZCI/bChrLFApLmZvckVhY2goSj0+Ri5wdXNoKEopKTpGLnB1c2goayk7cmV0dXJuIEZ9ZS5nZXRUZXJtc05lc3RlZD1sO2Z1bmN0aW9uIHUoail7cmV0dXJuW3trZXk6InN1YmplY3QiLHZhbHVlOmouc3ViamVjdH0se2tleToicHJlZGljYXRlIix2YWx1ZTpqLnByZWRpY2F0ZX0se2tleToib2JqZWN0Iix2YWx1ZTpqLm9iamVjdH0se2tleToiZ3JhcGgiLHZhbHVlOmouZ3JhcGh9XX1lLmdldE5hbWVkVGVybXM9dTtmdW5jdGlvbiBwKGosUCxGKXtjb25zdCBrPXt9O3JldHVybiBqLmZvckVhY2goSj0+a1tKLmtleV09Si52YWx1ZSksUCYmKGsuc3ViamVjdD1rLnN1YmplY3R8fFAoInN1YmplY3QiKSxrLnByZWRpY2F0ZT1rLnByZWRpY2F0ZXx8UCgicHJlZGljYXRlIiksay5vYmplY3Q9ay5vYmplY3R8fFAoIm9iamVjdCIpLGsuZ3JhcGg9ay5ncmFwaHx8UCgiZ3JhcGgiKSksKEZ8fGQpLnF1YWQoay5zdWJqZWN0LGsucHJlZGljYXRlLGsub2JqZWN0LGsuZ3JhcGgpfWUuY29sbGVjdE5hbWVkVGVybXM9cDtmdW5jdGlvbiBnKGosUCl7UChqLnN1YmplY3QsInN1YmplY3QiKSxQKGoucHJlZGljYXRlLCJwcmVkaWNhdGUiKSxQKGoub2JqZWN0LCJvYmplY3QiKSxQKGouZ3JhcGgsImdyYXBoIil9ZS5mb3JFYWNoVGVybXM9ZztmdW5jdGlvbiB2KGosUCl7Y29uc3QgRj1bXTtyZXR1cm4gUChqLnN1YmplY3QsInN1YmplY3QiKSYmRi5wdXNoKGouc3ViamVjdCksUChqLnByZWRpY2F0ZSwicHJlZGljYXRlIikmJkYucHVzaChqLnByZWRpY2F0ZSksUChqLm9iamVjdCwib2JqZWN0IikmJkYucHVzaChqLm9iamVjdCksUChqLmdyYXBoLCJncmFwaCIpJiZGLnB1c2goai5ncmFwaCksRn1lLmZpbHRlclRlcm1zPXY7ZnVuY3Rpb24gYihqLFApe2NvbnN0IEY9W107cmV0dXJuIFAoai5zdWJqZWN0LCJzdWJqZWN0IikmJkYucHVzaCgic3ViamVjdCIpLFAoai5wcmVkaWNhdGUsInByZWRpY2F0ZSIpJiZGLnB1c2goInByZWRpY2F0ZSIpLFAoai5vYmplY3QsIm9iamVjdCIpJiZGLnB1c2goIm9iamVjdCIpLFAoai5ncmFwaCwiZ3JhcGgiKSYmRi5wdXNoKCJncmFwaCIpLEZ9ZS5maWx0ZXJRdWFkVGVybU5hbWVzPWI7ZnVuY3Rpb24gXyhqLFAsRil7cmV0dXJuKEZ8fGQpLnF1YWQoUChqLnN1YmplY3QsInN1YmplY3QiKSxQKGoucHJlZGljYXRlLCJwcmVkaWNhdGUiKSxQKGoub2JqZWN0LCJvYmplY3QiKSxQKGouZ3JhcGgsImdyYXBoIikpfWUubWFwVGVybXM9XztmdW5jdGlvbiBPKGosUCxGKXtsZXQgaz1GO3JldHVybiBrPVAoayxqLnN1YmplY3QsInN1YmplY3QiKSxrPVAoayxqLnByZWRpY2F0ZSwicHJlZGljYXRlIiksaz1QKGssai5vYmplY3QsIm9iamVjdCIpLFAoayxqLmdyYXBoLCJncmFwaCIpfWUucmVkdWNlVGVybXM9TztmdW5jdGlvbiBUKGosUCl7cmV0dXJuIFAoai5zdWJqZWN0LCJzdWJqZWN0IikmJlAoai5wcmVkaWNhdGUsInByZWRpY2F0ZSIpJiZQKGoub2JqZWN0LCJvYmplY3QiKSYmUChqLmdyYXBoLCJncmFwaCIpfWUuZXZlcnlUZXJtcz1UO2Z1bmN0aW9uIFMoaixQKXtyZXR1cm4gUChqLnN1YmplY3QsInN1YmplY3QiKXx8UChqLnByZWRpY2F0ZSwicHJlZGljYXRlIil8fFAoai5vYmplY3QsIm9iamVjdCIpfHxQKGouZ3JhcGgsImdyYXBoIil9ZS5zb21lVGVybXM9UztmdW5jdGlvbiBOKGosUCl7cmV0dXJuIVB8fFAudGVybVR5cGU9PT0iVmFyaWFibGUifHxQLnRlcm1UeXBlPT09IlF1YWQiJiZqLnRlcm1UeXBlPT09IlF1YWQiJiZMKGosUCl8fFAuZXF1YWxzKGopfWUubWF0Y2hUZXJtPU47ZnVuY3Rpb24gQihqLFAsRixrLEope3JldHVybiBOKGouc3ViamVjdCxQKSYmTihqLnByZWRpY2F0ZSxGKSYmTihqLm9iamVjdCxrKSYmTihqLmdyYXBoLEopfWUubWF0Y2hQYXR0ZXJuPUI7ZnVuY3Rpb24gTChqLFApe3JldHVybiBCKGosUC5zdWJqZWN0LFAucHJlZGljYXRlLFAub2JqZWN0LFAuZ3JhcGgpfWUubWF0Y2hQYXR0ZXJuQ29tcGxldGU9TDtmdW5jdGlvbiBDKGosUCxGPXt9KXtjb25zdCBrPXt9O2Z1bmN0aW9uIEooYWUsWCl7cmV0dXJuIFQoYWUsKEcscmUpPT57dmFyIE0sJDtjb25zdCBVPVhbcmVdO3N3aXRjaChHLnRlcm1UeXBlKXtjYXNlIlZhcmlhYmxlIjpyZXR1cm4gRi5za2lwVmFyTWFwcGluZyYmVS50ZXJtVHlwZT09PSJWYXJpYWJsZSJ8fCgoJD0oTT1rW0cudmFsdWVdKT09PW51bGx8fE09PT12b2lkIDA/dm9pZCAwOk0uZXF1YWxzKFUpKSE9PW51bGwmJiQhPT12b2lkIDA/JDooa1tHLnZhbHVlXT1VLCEwKSk7Y2FzZSJRdWFkIjpyZXR1cm4gVS50ZXJtVHlwZT09PSJRdWFkIiYmSihHLFUpO2RlZmF1bHQ6cmV0dXJuIEcuZXF1YWxzKFUpfX0pfXJldHVybiBKKFAsaikmJihGLnJldHVybk1hcHBpbmdzP2s6ITApfWUubWF0Y2hQYXR0ZXJuTWFwcGluZ3M9Q30sIi4uL25vZGVfbW9kdWxlcy9yZGYtdGVybXMvbGliL1Rlcm1VdGlsLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0UXVhZHM9ZS5nZXREZWZhdWx0R3JhcGhzPWUuZ2V0VmFyaWFibGVzPWUuZ2V0TGl0ZXJhbHM9ZS5nZXRCbGFua05vZGVzPWUuZ2V0TmFtZWROb2Rlcz1lLmdldFRlcm1zT2ZUeXBlPWUudW5pcVRlcm1zPWUuVEVSTV9UWVBFUz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLXN0cmluZy9pbmRleC5qcyIpO2UuVEVSTV9UWVBFUz1bIk5hbWVkTm9kZSIsIkJsYW5rTm9kZSIsIkxpdGVyYWwiLCJWYXJpYWJsZSIsIkRlZmF1bHRHcmFwaCIsIlF1YWQiXTtmdW5jdGlvbiBkKF8pe2NvbnN0IE89e307cmV0dXJuIF8uZmlsdGVyKFQ9Pntjb25zdCBTPW8udGVybVRvU3RyaW5nKFQpO3JldHVybiEoUyBpbiBPKSYmKE9bU109ITApfSl9ZS51bmlxVGVybXM9ZDtmdW5jdGlvbiBoKF8sTyl7cmV0dXJuIF8uZmlsdGVyKFQ9PlQudGVybVR5cGU9PT1PKX1lLmdldFRlcm1zT2ZUeXBlPWg7ZnVuY3Rpb24gbChfKXtyZXR1cm4gaChfLCJOYW1lZE5vZGUiKX1lLmdldE5hbWVkTm9kZXM9bDtmdW5jdGlvbiB1KF8pe3JldHVybiBoKF8sIkJsYW5rTm9kZSIpfWUuZ2V0QmxhbmtOb2Rlcz11O2Z1bmN0aW9uIHAoXyl7cmV0dXJuIGgoXywiTGl0ZXJhbCIpfWUuZ2V0TGl0ZXJhbHM9cDtmdW5jdGlvbiBnKF8pe3JldHVybiBoKF8sIlZhcmlhYmxlIil9ZS5nZXRWYXJpYWJsZXM9ZztmdW5jdGlvbiB2KF8pe3JldHVybiBoKF8sIkRlZmF1bHRHcmFwaCIpfWUuZ2V0RGVmYXVsdEdyYXBocz12O2Z1bmN0aW9uIGIoXyl7cmV0dXJuIGgoXywiUXVhZCIpfWUuZ2V0UXVhZHM9Yn0sIi4uL25vZGVfbW9kdWxlcy9yZWxhdGl2ZS10by1hYnNvbHV0ZS1pcmkvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvcmVsYXRpdmUtdG8tYWJzb2x1dGUtaXJpL2xpYi9SZXNvbHZlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvcmVsYXRpdmUtdG8tYWJzb2x1dGUtaXJpL2xpYi9SZXNvbHZlLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnJlbW92ZURvdFNlZ21lbnRzT2ZQYXRoPWUucmVtb3ZlRG90U2VnbWVudHM9ZS5yZXNvbHZlPXZvaWQgMDtmdW5jdGlvbiBuKGwsdSl7dT11fHwiIjtjb25zdCBwPXUuaW5kZXhPZigiIyIpO2lmKHA+MCYmKHU9dS5zdWJzdHIoMCxwKSksIWwubGVuZ3RoKXtpZih1LmluZGV4T2YoIjoiKTwwKXRocm93IG5ldyBFcnJvcihgRm91bmQgaW52YWxpZCBiYXNlSVJJICcke3V9JyBmb3IgdmFsdWUgJyR7bH0nYCk7cmV0dXJuIHV9aWYobC5zdGFydHNXaXRoKCI/Iikpe2NvbnN0IFM9dS5pbmRleE9mKCI/Iik7cmV0dXJuIFM+MCYmKHU9dS5zdWJzdHIoMCxTKSksdStsfWlmKGwuc3RhcnRzV2l0aCgiIyIpKXJldHVybiB1K2w7aWYoIXUubGVuZ3RoKXtjb25zdCBTPWwuaW5kZXhPZigiOiIpO2lmKFM8MCl0aHJvdyBuZXcgRXJyb3IoYEZvdW5kIGludmFsaWQgcmVsYXRpdmUgSVJJICcke2x9JyBmb3IgYSBtaXNzaW5nIGJhc2VJUklgKTtyZXR1cm4gZChsLFMpfWNvbnN0IGc9bC5pbmRleE9mKCI6Iik7aWYoZz49MClyZXR1cm4gZChsLGcpO2NvbnN0IHY9dS5pbmRleE9mKCI6Iik7aWYodjwwKXRocm93IG5ldyBFcnJvcihgRm91bmQgaW52YWxpZCBiYXNlSVJJICcke3V9JyBmb3IgdmFsdWUgJyR7bH0nYCk7Y29uc3QgYj11LnN1YnN0cigwLHYrMSk7aWYobC5pbmRleE9mKCIvLyIpPT09MClyZXR1cm4gYitkKGwsZyk7bGV0IF87aWYodS5pbmRleE9mKCIvLyIsdik9PT12KzEpe2lmKF89dS5pbmRleE9mKCIvIix2KzMpLF88MClyZXR1cm4gdS5sZW5ndGg+diszP3UrIi8iK2QobCxnKTpiK2QobCxnKX1lbHNlIGlmKF89dS5pbmRleE9mKCIvIix2KzEpLF88MClyZXR1cm4gYitkKGwsZyk7aWYobC5pbmRleE9mKCIvIik9PT0wKXJldHVybiB1LnN1YnN0cigwLF8pK28obCk7bGV0IE89dS5zdWJzdHIoXyk7Y29uc3QgVD1PLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIFQ+PTAmJlQ8Ty5sZW5ndGgtMSYmKE89Ty5zdWJzdHIoMCxUKzEpLGxbMF09PT0iLiImJmxbMV0hPT0iLiImJmxbMV0hPT0iLyImJmxbMl0mJihsPWwuc3Vic3RyKDEpKSksbD1PK2wsbD1vKGwpLHUuc3Vic3RyKDAsXykrbH1lLnJlc29sdmU9bjtmdW5jdGlvbiBvKGwpe2NvbnN0IHU9W107bGV0IHA9MDtmb3IoO3A8bC5sZW5ndGg7KXN3aXRjaChsW3BdKXtjYXNlIi8iOmlmKGxbcCsxXT09PSIuIilpZihsW3ArMl09PT0iLiIpe2lmKCFoKGxbcCszXSkpe3UucHVzaChbXSkscCsrO2JyZWFrfXUucG9wKCksbFtwKzNdfHx1LnB1c2goW10pLHArPTN9ZWxzZXtpZighaChsW3ArMl0pKXt1LnB1c2goW10pLHArKzticmVha31sW3ArMl18fHUucHVzaChbXSkscCs9Mn1lbHNlIHUucHVzaChbXSkscCsrO2JyZWFrO2Nhc2UiIyI6Y2FzZSI/Ijp1Lmxlbmd0aHx8dS5wdXNoKFtdKSx1W3UubGVuZ3RoLTFdLnB1c2gobC5zdWJzdHIocCkpLHA9bC5sZW5ndGg7YnJlYWs7ZGVmYXVsdDp1Lmxlbmd0aHx8dS5wdXNoKFtdKSx1W3UubGVuZ3RoLTFdLnB1c2gobFtwXSkscCsrO2JyZWFrfXJldHVybiIvIit1Lm1hcChnPT5nLmpvaW4oIiIpKS5qb2luKCIvIil9ZS5yZW1vdmVEb3RTZWdtZW50cz1vO2Z1bmN0aW9uIGQobCx1KXtsZXQgcD11KzE7dT49MD9sW3UrMV09PT0iLyImJmxbdSsyXT09PSIvIiYmKHA9dSszKTpsWzBdPT09Ii8iJiZsWzFdPT09Ii8iJiYocD0yKTtjb25zdCBnPWwuaW5kZXhPZigiLyIscCk7aWYoZzwwKXJldHVybiBsO2NvbnN0IHY9bC5zdWJzdHIoMCxnKSxiPWwuc3Vic3RyKGcpO3JldHVybiB2K28oYil9ZS5yZW1vdmVEb3RTZWdtZW50c09mUGF0aD1kO2Z1bmN0aW9uIGgobCl7cmV0dXJuIWx8fGw9PT0iIyJ8fGw9PT0iPyJ8fGw9PT0iLyJ9fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJrLW1kNS9zcGFyay1tZDUuanMiOnQ9PnsoZnVuY3Rpb24oZSl7dC5leHBvcnRzPWUoKX0pKGZ1bmN0aW9uKGUpe3ZhciBuPVsiMCIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwiOSIsImEiLCJiIiwiYyIsImQiLCJlIiwiZiJdO2Z1bmN0aW9uIG8oTixCKXt2YXIgTD1OWzBdLEM9TlsxXSxqPU5bMl0sUD1OWzNdO0wrPShDJmp8fkMmUCkrQlswXS02ODA4NzY5MzZ8MCxMPShMPDw3fEw+Pj4yNSkrQ3wwLFArPShMJkN8fkwmaikrQlsxXS0zODk1NjQ1ODZ8MCxQPShQPDwxMnxQPj4+MjApK0x8MCxqKz0oUCZMfH5QJkMpK0JbMl0rNjA2MTA1ODE5fDAsaj0oajw8MTd8aj4+PjE1KStQfDAsQys9KGomUHx+aiZMKStCWzNdLTEwNDQ1MjUzMzB8MCxDPShDPDwyMnxDPj4+MTApK2p8MCxMKz0oQyZqfH5DJlApK0JbNF0tMTc2NDE4ODk3fDAsTD0oTDw8N3xMPj4+MjUpK0N8MCxQKz0oTCZDfH5MJmopK0JbNV0rMTIwMDA4MDQyNnwwLFA9KFA8PDEyfFA+Pj4yMCkrTHwwLGorPShQJkx8flAmQykrQls2XS0xNDczMjMxMzQxfDAsaj0oajw8MTd8aj4+PjE1KStQfDAsQys9KGomUHx+aiZMKStCWzddLTQ1NzA1OTgzfDAsQz0oQzw8MjJ8Qz4+PjEwKStqfDAsTCs9KEMmanx+QyZQKStCWzhdKzE3NzAwMzU0MTZ8MCxMPShMPDw3fEw+Pj4yNSkrQ3wwLFArPShMJkN8fkwmaikrQls5XS0xOTU4NDE0NDE3fDAsUD0oUDw8MTJ8UD4+PjIwKStMfDAsais9KFAmTHx+UCZDKStCWzEwXS00MjA2M3wwLGo9KGo8PDE3fGo+Pj4xNSkrUHwwLEMrPShqJlB8fmomTCkrQlsxMV0tMTk5MDQwNDE2MnwwLEM9KEM8PDIyfEM+Pj4xMCkranwwLEwrPShDJmp8fkMmUCkrQlsxMl0rMTgwNDYwMzY4MnwwLEw9KEw8PDd8TD4+PjI1KStDfDAsUCs9KEwmQ3x+TCZqKStCWzEzXS00MDM0MTEwMXwwLFA9KFA8PDEyfFA+Pj4yMCkrTHwwLGorPShQJkx8flAmQykrQlsxNF0tMTUwMjAwMjI5MHwwLGo9KGo8PDE3fGo+Pj4xNSkrUHwwLEMrPShqJlB8fmomTCkrQlsxNV0rMTIzNjUzNTMyOXwwLEM9KEM8PDIyfEM+Pj4xMCkranwwLEwrPShDJlB8aiZ+UCkrQlsxXS0xNjU3OTY1MTB8MCxMPShMPDw1fEw+Pj4yNykrQ3wwLFArPShMJmp8QyZ+aikrQls2XS0xMDY5NTAxNjMyfDAsUD0oUDw8OXxQPj4+MjMpK0x8MCxqKz0oUCZDfEwmfkMpK0JbMTFdKzY0MzcxNzcxM3wwLGo9KGo8PDE0fGo+Pj4xOCkrUHwwLEMrPShqJkx8UCZ+TCkrQlswXS0zNzM4OTczMDJ8MCxDPShDPDwyMHxDPj4+MTIpK2p8MCxMKz0oQyZQfGomflApK0JbNV0tNzAxNTU4NjkxfDAsTD0oTDw8NXxMPj4+MjcpK0N8MCxQKz0oTCZqfEMmfmopK0JbMTBdKzM4MDE2MDgzfDAsUD0oUDw8OXxQPj4+MjMpK0x8MCxqKz0oUCZDfEwmfkMpK0JbMTVdLTY2MDQ3ODMzNXwwLGo9KGo8PDE0fGo+Pj4xOCkrUHwwLEMrPShqJkx8UCZ+TCkrQls0XS00MDU1Mzc4NDh8MCxDPShDPDwyMHxDPj4+MTIpK2p8MCxMKz0oQyZQfGomflApK0JbOV0rNTY4NDQ2NDM4fDAsTD0oTDw8NXxMPj4+MjcpK0N8MCxQKz0oTCZqfEMmfmopK0JbMTRdLTEwMTk4MDM2OTB8MCxQPShQPDw5fFA+Pj4yMykrTHwwLGorPShQJkN8TCZ+QykrQlszXS0xODczNjM5NjF8MCxqPShqPDwxNHxqPj4+MTgpK1B8MCxDKz0oaiZMfFAmfkwpK0JbOF0rMTE2MzUzMTUwMXwwLEM9KEM8PDIwfEM+Pj4xMikranwwLEwrPShDJlB8aiZ+UCkrQlsxM10tMTQ0NDY4MTQ2N3wwLEw9KEw8PDV8TD4+PjI3KStDfDAsUCs9KEwmanxDJn5qKStCWzJdLTUxNDAzNzg0fDAsUD0oUDw8OXxQPj4+MjMpK0x8MCxqKz0oUCZDfEwmfkMpK0JbN10rMTczNTMyODQ3M3wwLGo9KGo8PDE0fGo+Pj4xOCkrUHwwLEMrPShqJkx8UCZ+TCkrQlsxMl0tMTkyNjYwNzczNHwwLEM9KEM8PDIwfEM+Pj4xMikranwwLEwrPShDXmpeUCkrQls1XS0zNzg1NTh8MCxMPShMPDw0fEw+Pj4yOCkrQ3wwLFArPShMXkNeaikrQls4XS0yMDIyNTc0NDYzfDAsUD0oUDw8MTF8UD4+PjIxKStMfDAsais9KFBeTF5DKStCWzExXSsxODM5MDMwNTYyfDAsaj0oajw8MTZ8aj4+PjE2KStQfDAsQys9KGpeUF5MKStCWzE0XS0zNTMwOTU1NnwwLEM9KEM8PDIzfEM+Pj45KStqfDAsTCs9KENeal5QKStCWzFdLTE1MzA5OTIwNjB8MCxMPShMPDw0fEw+Pj4yOCkrQ3wwLFArPShMXkNeaikrQls0XSsxMjcyODkzMzUzfDAsUD0oUDw8MTF8UD4+PjIxKStMfDAsais9KFBeTF5DKStCWzddLTE1NTQ5NzYzMnwwLGo9KGo8PDE2fGo+Pj4xNikrUHwwLEMrPShqXlBeTCkrQlsxMF0tMTA5NDczMDY0MHwwLEM9KEM8PDIzfEM+Pj45KStqfDAsTCs9KENeal5QKStCWzEzXSs2ODEyNzkxNzR8MCxMPShMPDw0fEw+Pj4yOCkrQ3wwLFArPShMXkNeaikrQlswXS0zNTg1MzcyMjJ8MCxQPShQPDwxMXxQPj4+MjEpK0x8MCxqKz0oUF5MXkMpK0JbM10tNzIyNTIxOTc5fDAsaj0oajw8MTZ8aj4+PjE2KStQfDAsQys9KGpeUF5MKStCWzZdKzc2MDI5MTg5fDAsQz0oQzw8MjN8Qz4+PjkpK2p8MCxMKz0oQ15qXlApK0JbOV0tNjQwMzY0NDg3fDAsTD0oTDw8NHxMPj4+MjgpK0N8MCxQKz0oTF5DXmopK0JbMTJdLTQyMTgxNTgzNXwwLFA9KFA8PDExfFA+Pj4yMSkrTHwwLGorPShQXkxeQykrQlsxNV0rNTMwNzQyNTIwfDAsaj0oajw8MTZ8aj4+PjE2KStQfDAsQys9KGpeUF5MKStCWzJdLTk5NTMzODY1MXwwLEM9KEM8PDIzfEM+Pj45KStqfDAsTCs9KGpeKEN8flApKStCWzBdLTE5ODYzMDg0NHwwLEw9KEw8PDZ8TD4+PjI2KStDfDAsUCs9KENeKEx8fmopKStCWzddKzExMjY4OTE0MTV8MCxQPShQPDwxMHxQPj4+MjIpK0x8MCxqKz0oTF4oUHx+QykpK0JbMTRdLTE0MTYzNTQ5MDV8MCxqPShqPDwxNXxqPj4+MTcpK1B8MCxDKz0oUF4oanx+TCkpK0JbNV0tNTc0MzQwNTV8MCxDPShDPDwyMXxDPj4+MTEpK2p8MCxMKz0oal4oQ3x+UCkpK0JbMTJdKzE3MDA0ODU1NzF8MCxMPShMPDw2fEw+Pj4yNikrQ3wwLFArPShDXihMfH5qKSkrQlszXS0xODk0OTg2NjA2fDAsUD0oUDw8MTB8UD4+PjIyKStMfDAsais9KExeKFB8fkMpKStCWzEwXS0xMDUxNTIzfDAsaj0oajw8MTV8aj4+PjE3KStQfDAsQys9KFBeKGp8fkwpKStCWzFdLTIwNTQ5MjI3OTl8MCxDPShDPDwyMXxDPj4+MTEpK2p8MCxMKz0oal4oQ3x+UCkpK0JbOF0rMTg3MzMxMzM1OXwwLEw9KEw8PDZ8TD4+PjI2KStDfDAsUCs9KENeKEx8fmopKStCWzE1XS0zMDYxMTc0NHwwLFA9KFA8PDEwfFA+Pj4yMikrTHwwLGorPShMXihQfH5DKSkrQls2XS0xNTYwMTk4MzgwfDAsaj0oajw8MTV8aj4+PjE3KStQfDAsQys9KFBeKGp8fkwpKStCWzEzXSsxMzA5MTUxNjQ5fDAsQz0oQzw8MjF8Qz4+PjExKStqfDAsTCs9KGpeKEN8flApKStCWzRdLTE0NTUyMzA3MHwwLEw9KEw8PDZ8TD4+PjI2KStDfDAsUCs9KENeKEx8fmopKStCWzExXS0xMTIwMjEwMzc5fDAsUD0oUDw8MTB8UD4+PjIyKStMfDAsais9KExeKFB8fkMpKStCWzJdKzcxODc4NzI1OXwwLGo9KGo8PDE1fGo+Pj4xNykrUHwwLEMrPShQXihqfH5MKSkrQls5XS0zNDM0ODU1NTF8MCxDPShDPDwyMXxDPj4+MTEpK2p8MCxOWzBdPUwrTlswXXwwLE5bMV09QytOWzFdfDAsTlsyXT1qK05bMl18MCxOWzNdPVArTlszXXwwfWZ1bmN0aW9uIGQoTil7dmFyIEI9W10sTDtmb3IoTD0wO0w8NjQ7TCs9NClCW0w+PjJdPU4uY2hhckNvZGVBdChMKSsoTi5jaGFyQ29kZUF0KEwrMSk8PDgpKyhOLmNoYXJDb2RlQXQoTCsyKTw8MTYpKyhOLmNoYXJDb2RlQXQoTCszKTw8MjQpO3JldHVybiBCfWZ1bmN0aW9uIGgoTil7dmFyIEI9W10sTDtmb3IoTD0wO0w8NjQ7TCs9NClCW0w+PjJdPU5bTF0rKE5bTCsxXTw8OCkrKE5bTCsyXTw8MTYpKyhOW0wrM108PDI0KTtyZXR1cm4gQn1mdW5jdGlvbiBsKE4pe3ZhciBCPU4ubGVuZ3RoLEw9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLEMsaixQLEYsayxKO2ZvcihDPTY0O0M8PUI7Qys9NjQpbyhMLGQoTi5zdWJzdHJpbmcoQy02NCxDKSkpO2ZvcihOPU4uc3Vic3RyaW5nKEMtNjQpLGo9Ti5sZW5ndGgsUD1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sQz0wO0M8ajtDKz0xKVBbQz4+Ml18PU4uY2hhckNvZGVBdChDKTw8KEMlNDw8Myk7aWYoUFtDPj4yXXw9MTI4PDwoQyU0PDwzKSxDPjU1KWZvcihvKEwsUCksQz0wO0M8MTY7Qys9MSlQW0NdPTA7cmV0dXJuIEY9Qio4LEY9Ri50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyksaz1wYXJzZUludChGWzJdLDE2KSxKPXBhcnNlSW50KEZbMV0sMTYpfHwwLFBbMTRdPWssUFsxNV09SixvKEwsUCksTH1mdW5jdGlvbiB1KE4pe3ZhciBCPU4ubGVuZ3RoLEw9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLEMsaixQLEYsayxKO2ZvcihDPTY0O0M8PUI7Qys9NjQpbyhMLGgoTi5zdWJhcnJheShDLTY0LEMpKSk7Zm9yKE49Qy02NDxCP04uc3ViYXJyYXkoQy02NCk6bmV3IFVpbnQ4QXJyYXkoMCksaj1OLmxlbmd0aCxQPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSxDPTA7QzxqO0MrPTEpUFtDPj4yXXw9TltDXTw8KEMlNDw8Myk7aWYoUFtDPj4yXXw9MTI4PDwoQyU0PDwzKSxDPjU1KWZvcihvKEwsUCksQz0wO0M8MTY7Qys9MSlQW0NdPTA7cmV0dXJuIEY9Qio4LEY9Ri50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyksaz1wYXJzZUludChGWzJdLDE2KSxKPXBhcnNlSW50KEZbMV0sMTYpfHwwLFBbMTRdPWssUFsxNV09SixvKEwsUCksTH1mdW5jdGlvbiBwKE4pe3ZhciBCPSIiLEw7Zm9yKEw9MDtMPDQ7TCs9MSlCKz1uW04+PkwqOCs0JjE1XStuW04+PkwqOCYxNV07cmV0dXJuIEJ9ZnVuY3Rpb24gZyhOKXt2YXIgQjtmb3IoQj0wO0I8Ti5sZW5ndGg7Qis9MSlOW0JdPXAoTltCXSk7cmV0dXJuIE4uam9pbigiIil9ZyhsKCJoZWxsbyIpKSx0eXBlb2YgQXJyYXlCdWZmZXI8InUiJiYhQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlJiZmdW5jdGlvbigpe2Z1bmN0aW9uIE4oQixMKXtyZXR1cm4gQj1CfDB8fDAsQjwwP01hdGgubWF4KEIrTCwwKTpNYXRoLm1pbihCLEwpfUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihCLEwpe3ZhciBDPXRoaXMuYnl0ZUxlbmd0aCxqPU4oQixDKSxQPUMsRixrLEosYWU7cmV0dXJuIEwhPT1lJiYoUD1OKEwsQykpLGo+UD9uZXcgQXJyYXlCdWZmZXIoMCk6KEY9UC1qLGs9bmV3IEFycmF5QnVmZmVyKEYpLEo9bmV3IFVpbnQ4QXJyYXkoayksYWU9bmV3IFVpbnQ4QXJyYXkodGhpcyxqLEYpLEouc2V0KGFlKSxrKX19KCk7ZnVuY3Rpb24gdihOKXtyZXR1cm4vW1x1MDA4MC1cdUZGRkZdLy50ZXN0KE4pJiYoTj11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoTikpKSxOfWZ1bmN0aW9uIGIoTixCKXt2YXIgTD1OLmxlbmd0aCxDPW5ldyBBcnJheUJ1ZmZlcihMKSxqPW5ldyBVaW50OEFycmF5KEMpLFA7Zm9yKFA9MDtQPEw7UCs9MSlqW1BdPU4uY2hhckNvZGVBdChQKTtyZXR1cm4gQj9qOkN9ZnVuY3Rpb24gXyhOKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KE4pKX1mdW5jdGlvbiBPKE4sQixMKXt2YXIgQz1uZXcgVWludDhBcnJheShOLmJ5dGVMZW5ndGgrQi5ieXRlTGVuZ3RoKTtyZXR1cm4gQy5zZXQobmV3IFVpbnQ4QXJyYXkoTikpLEMuc2V0KG5ldyBVaW50OEFycmF5KEIpLE4uYnl0ZUxlbmd0aCksTD9DOkMuYnVmZmVyfWZ1bmN0aW9uIFQoTil7dmFyIEI9W10sTD1OLmxlbmd0aCxDO2ZvcihDPTA7QzxMLTE7Qys9MilCLnB1c2gocGFyc2VJbnQoTi5zdWJzdHIoQywyKSwxNikpO3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxCKX1mdW5jdGlvbiBTKCl7dGhpcy5yZXNldCgpfXJldHVybiBTLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oTil7cmV0dXJuIHRoaXMuYXBwZW5kQmluYXJ5KHYoTikpLHRoaXN9LFMucHJvdG90eXBlLmFwcGVuZEJpbmFyeT1mdW5jdGlvbihOKXt0aGlzLl9idWZmKz1OLHRoaXMuX2xlbmd0aCs9Ti5sZW5ndGg7dmFyIEI9dGhpcy5fYnVmZi5sZW5ndGgsTDtmb3IoTD02NDtMPD1CO0wrPTY0KW8odGhpcy5faGFzaCxkKHRoaXMuX2J1ZmYuc3Vic3RyaW5nKEwtNjQsTCkpKTtyZXR1cm4gdGhpcy5fYnVmZj10aGlzLl9idWZmLnN1YnN0cmluZyhMLTY0KSx0aGlzfSxTLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oTil7dmFyIEI9dGhpcy5fYnVmZixMPUIubGVuZ3RoLEMsaj1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sUDtmb3IoQz0wO0M8TDtDKz0xKWpbQz4+Ml18PUIuY2hhckNvZGVBdChDKTw8KEMlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChqLEwpLFA9Zyh0aGlzLl9oYXNoKSxOJiYoUD1UKFApKSx0aGlzLnJlc2V0KCksUH0sUy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZj0iIix0aGlzLl9sZW5ndGg9MCx0aGlzLl9oYXNoPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XSx0aGlzfSxTLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybntidWZmOnRoaXMuX2J1ZmYsbGVuZ3RoOnRoaXMuX2xlbmd0aCxoYXNoOnRoaXMuX2hhc2guc2xpY2UoKX19LFMucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKE4pe3JldHVybiB0aGlzLl9idWZmPU4uYnVmZix0aGlzLl9sZW5ndGg9Ti5sZW5ndGgsdGhpcy5faGFzaD1OLmhhc2gsdGhpc30sUy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9oYXNoLGRlbGV0ZSB0aGlzLl9idWZmLGRlbGV0ZSB0aGlzLl9sZW5ndGh9LFMucHJvdG90eXBlLl9maW5pc2g9ZnVuY3Rpb24oTixCKXt2YXIgTD1CLEMsaixQO2lmKE5bTD4+Ml18PTEyODw8KEwlNDw8MyksTD41NSlmb3Iobyh0aGlzLl9oYXNoLE4pLEw9MDtMPDE2O0wrPTEpTltMXT0wO0M9dGhpcy5fbGVuZ3RoKjgsQz1DLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKSxqPXBhcnNlSW50KENbMl0sMTYpLFA9cGFyc2VJbnQoQ1sxXSwxNil8fDAsTlsxNF09aixOWzE1XT1QLG8odGhpcy5faGFzaCxOKX0sUy5oYXNoPWZ1bmN0aW9uKE4sQil7cmV0dXJuIFMuaGFzaEJpbmFyeSh2KE4pLEIpfSxTLmhhc2hCaW5hcnk9ZnVuY3Rpb24oTixCKXt2YXIgTD1sKE4pLEM9ZyhMKTtyZXR1cm4gQj9UKEMpOkN9LFMuQXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0KCl9LFMuQXJyYXlCdWZmZXIucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihOKXt2YXIgQj1PKHRoaXMuX2J1ZmYuYnVmZmVyLE4sITApLEw9Qi5sZW5ndGgsQztmb3IodGhpcy5fbGVuZ3RoKz1OLmJ5dGVMZW5ndGgsQz02NDtDPD1MO0MrPTY0KW8odGhpcy5faGFzaCxoKEIuc3ViYXJyYXkoQy02NCxDKSkpO3JldHVybiB0aGlzLl9idWZmPUMtNjQ8TD9uZXcgVWludDhBcnJheShCLmJ1ZmZlci5zbGljZShDLTY0KSk6bmV3IFVpbnQ4QXJyYXkoMCksdGhpc30sUy5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKE4pe3ZhciBCPXRoaXMuX2J1ZmYsTD1CLmxlbmd0aCxDPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSxqLFA7Zm9yKGo9MDtqPEw7ais9MSlDW2o+PjJdfD1CW2pdPDwoaiU0PDwzKTtyZXR1cm4gdGhpcy5fZmluaXNoKEMsTCksUD1nKHRoaXMuX2hhc2gpLE4mJihQPVQoUCkpLHRoaXMucmVzZXQoKSxQfSxTLkFycmF5QnVmZmVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmPW5ldyBVaW50OEFycmF5KDApLHRoaXMuX2xlbmd0aD0wLHRoaXMuX2hhc2g9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLHRoaXN9LFMuQXJyYXlCdWZmZXIucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7dmFyIE49Uy5wcm90b3R5cGUuZ2V0U3RhdGUuY2FsbCh0aGlzKTtyZXR1cm4gTi5idWZmPV8oTi5idWZmKSxOfSxTLkFycmF5QnVmZmVyLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihOKXtyZXR1cm4gTi5idWZmPWIoTi5idWZmLCEwKSxTLnByb3RvdHlwZS5zZXRTdGF0ZS5jYWxsKHRoaXMsTil9LFMuQXJyYXlCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3k9Uy5wcm90b3R5cGUuZGVzdHJveSxTLkFycmF5QnVmZmVyLnByb3RvdHlwZS5fZmluaXNoPVMucHJvdG90eXBlLl9maW5pc2gsUy5BcnJheUJ1ZmZlci5oYXNoPWZ1bmN0aW9uKE4sQil7dmFyIEw9dShuZXcgVWludDhBcnJheShOKSksQz1nKEwpO3JldHVybiBCP1QoQyk6Q30sU30pfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvaW5kZXguanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Bc3luY0FnZ3JlZ2F0ZUV2YWx1YXRvcj1lLm9yZGVyVHlwZXM9ZS5pc0V4cHJlc3Npb25FcnJvcj1lLkV4cHJlc3Npb25FcnJvcj1lLkFnZ3JlZ2F0ZUV2YWx1YXRvcj1lLlN5bmNFdmFsdWF0b3I9ZS5Bc3luY0V2YWx1YXRvcj12b2lkIDA7dmFyIG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvQXN5bmNFdmFsdWF0b3IuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQXN5bmNFdmFsdWF0b3IiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvLkFzeW5jRXZhbHVhdG9yfX0pO3ZhciBkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL1N5bmNFdmFsdWF0b3IuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiU3luY0V2YWx1YXRvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuU3luY0V2YWx1YXRvcn19KTt2YXIgaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9BZ2dyZWdhdGVFdmFsdWF0b3IuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQWdncmVnYXRlRXZhbHVhdG9yIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC5BZ2dyZWdhdGVFdmFsdWF0b3J9fSk7dmFyIGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkV4cHJlc3Npb25FcnJvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuRXhwcmVzc2lvbkVycm9yfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJpc0V4cHJlc3Npb25FcnJvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwuaXNFeHByZXNzaW9uRXJyb3J9fSk7dmFyIHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvT3JkZXJpbmcuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwib3JkZXJUeXBlcyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUub3JkZXJUeXBlc319KTt2YXIgcD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9Bc3luY0FnZ3JlZ2F0ZUV2YWx1YXRvci5qcyIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJBc3luY0FnZ3JlZ2F0ZUV2YWx1YXRvciIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAuQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3J9fSl9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQXZlcmFnZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkF2ZXJhZ2U9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0hlbHBlcnMuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIik7Y2xhc3MgcCBleHRlbmRzIHUuQmFzZUFnZ3JlZ2F0b3J7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuc3VtbWVyPWQucmVndWxhckZ1bmN0aW9uc1tsLlJlZ3VsYXJPcGVyYXRvci5BRERJVElPTl0sdGhpcy5kaXZpZGVyPWQucmVndWxhckZ1bmN0aW9uc1tsLlJlZ3VsYXJPcGVyYXRvci5ESVZJU0lPTl19c3RhdGljIGVtcHR5VmFsdWUoKXtyZXR1cm4oMCxoLmludGVnZXIpKDApLnRvUkRGKCl9aW5pdCh2KXtyZXR1cm57c3VtOnRoaXMudGVybVRvTnVtZXJpY09yRXJyb3IodiksY291bnQ6MX19cHV0KHYsYil7Y29uc3QgXz10aGlzLnRlcm1Ub051bWVyaWNPckVycm9yKGIpO3JldHVybntzdW06dGhpcy5zdW1tZXIuYXBwbHkoW3Yuc3VtLF9dLHRoaXMuc2hhcmVkQ29udGV4dCksY291bnQ6di5jb3VudCsxfX1yZXN1bHQodil7Y29uc3QgYj1uZXcgby5JbnRlZ2VyTGl0ZXJhbCh2LmNvdW50KTtyZXR1cm4gdGhpcy5kaXZpZGVyLmFwcGx5KFt2LnN1bSxiXSx0aGlzLnNoYXJlZENvbnRleHQpLnRvUkRGKCl9fWUuQXZlcmFnZT1wfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQmFzZUFnZ3JlZ2F0b3I9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9UZXJtVHJhbnNmb3JtZXIuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvVHlwZUhhbmRsaW5nLmpzIik7Y2xhc3MgbHtjb25zdHJ1Y3RvcihwLGcpe3RoaXMuc2hhcmVkQ29udGV4dD1nLHRoaXMuZGlzdGluY3Q9cC5kaXN0aW5jdCx0aGlzLnNlcGFyYXRvcj1wLnNlcGFyYXRvcnx8IiAiLHRoaXMudGVybVRyYW5zZm9ybWVyPW5ldyBvLlRlcm1UcmFuc2Zvcm1lcihnLnN1cGVyVHlwZVByb3ZpZGVyKX10ZXJtVG9OdW1lcmljT3JFcnJvcihwKXtpZihwLnRlcm1UeXBlIT09IkxpdGVyYWwiKXRocm93IG5ldyBFcnJvcihgVGVybSB3aXRoIHZhbHVlICR7cC52YWx1ZX0gaGFzIHR5cGUgJHtwLnRlcm1UeXBlfSBhbmQgaXMgbm90IGEgbnVtZXJpYyBsaXRlcmFsYCk7aWYoISgwLGguaXNTdWJUeXBlT2YpKHAuZGF0YXR5cGUudmFsdWUsZC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUMsdGhpcy5zaGFyZWRDb250ZXh0LnN1cGVyVHlwZVByb3ZpZGVyKSl0aHJvdyBuZXcgRXJyb3IoYFRlcm0gZGF0YXR5cGUgJHtwLmRhdGF0eXBlLnZhbHVlfSB3aXRoIHZhbHVlICR7cC52YWx1ZX0gaGFzIHR5cGUgJHtwLnRlcm1UeXBlfSBhbmQgaXMgbm90IGEgbnVtZXJpYyBsaXRlcmFsYCk7cmV0dXJuIHRoaXMudGVybVRyYW5zZm9ybWVyLnRyYW5zZm9ybUxpdGVyYWwocCl9ZXh0cmFjdFZhbHVlKHApe2lmKHAudGVybVR5cGUhPT0iTGl0ZXJhbCIpdGhyb3cgbmV3IEVycm9yKGBUZXJtIHdpdGggdmFsdWUgJHtwLnZhbHVlfSBoYXMgdHlwZSAke3AudGVybVR5cGV9IGFuZCBpcyBub3QgYSBsaXRlcmFsYCk7Y29uc3QgZz10aGlzLnRlcm1UcmFuc2Zvcm1lci50cmFuc2Zvcm1MaXRlcmFsKHApO3JldHVybnt0eXBlOmcuZGF0YVR5cGUsdmFsdWU6Zy50eXBlZFZhbHVlfX1zdGF0aWMgZW1wdHlWYWx1ZSgpe319ZS5CYXNlQWdncmVnYXRvcj1sfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0NvdW50LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQ291bnQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQmFzZUFnZ3JlZ2F0b3IuanMiKTtjbGFzcyBoIGV4dGVuZHMgZC5CYXNlQWdncmVnYXRvcntzdGF0aWMgZW1wdHlWYWx1ZSgpe3JldHVybigwLG8uaW50ZWdlcikoMCkudG9SREYoKX1pbml0KHUpe3JldHVybiAxfXB1dCh1LHApe3JldHVybiB1KzF9cmVzdWx0KHUpe3JldHVybigwLG8uaW50ZWdlcikodSkudG9SREYoKX19ZS5Db3VudD1ofSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0dyb3VwQ29uY2F0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuR3JvdXBDb25jYXQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQmFzZUFnZ3JlZ2F0b3IuanMiKTtjbGFzcyBoIGV4dGVuZHMgZC5CYXNlQWdncmVnYXRvcntzdGF0aWMgZW1wdHlWYWx1ZSgpe3JldHVybigwLG8uc3RyaW5nKSgiIikudG9SREYoKX1pbml0KHUpe3JldHVybiB1LnZhbHVlfXB1dCh1LHApe3JldHVybiB1K3RoaXMuc2VwYXJhdG9yK3AudmFsdWV9cmVzdWx0KHUpe3JldHVybigwLG8uc3RyaW5nKSh1KS50b1JERigpfX1lLkdyb3VwQ29uY2F0PWh9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvTWF4LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTWF4PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9CYXNlQWdncmVnYXRvci5qcyIpO2NsYXNzIGQgZXh0ZW5kcyBvLkJhc2VBZ2dyZWdhdG9ye2luaXQobCl7Y29uc3R7dmFsdWU6dX09dGhpcy5leHRyYWN0VmFsdWUobCk7cmV0dXJue2V4dHJlbWVWYWx1ZTp1LHRlcm06bH19cHV0KGwsdSl7Y29uc3QgcD10aGlzLmV4dHJhY3RWYWx1ZSh1KTtyZXR1cm4gcC52YWx1ZT5sLmV4dHJlbWVWYWx1ZT97ZXh0cmVtZVZhbHVlOnAudmFsdWUsdGVybTp1fTpsfXJlc3VsdChsKXtyZXR1cm4gbC50ZXJtfX1lLk1heD1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL01pbi5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1pbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQmFzZUFnZ3JlZ2F0b3IuanMiKTtjbGFzcyBkIGV4dGVuZHMgby5CYXNlQWdncmVnYXRvcntpbml0KGwpe2NvbnN0e3ZhbHVlOnV9PXRoaXMuZXh0cmFjdFZhbHVlKGwpO3JldHVybntleHRyZW1lVmFsdWU6dSx0ZXJtOmx9fXB1dChsLHUpe2NvbnN0IHA9dGhpcy5leHRyYWN0VmFsdWUodSk7cmV0dXJuIHAudmFsdWU8bC5leHRyZW1lVmFsdWU/e2V4dHJlbWVWYWx1ZTpwLnZhbHVlLHRlcm06dX06bH1yZXN1bHQobCl7cmV0dXJuIGwudGVybX19ZS5NaW49ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9TYW1wbGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5TYW1wbGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL0Jhc2VBZ2dyZWdhdG9yLmpzIik7Y2xhc3MgZCBleHRlbmRzIG8uQmFzZUFnZ3JlZ2F0b3J7aW5pdChsKXtyZXR1cm4gbH1wdXQobCx1KXtyZXR1cm4gbH1yZXN1bHQobCl7cmV0dXJuIGx9fWUuU2FtcGxlPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvU3VtLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU3VtPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQmFzZUFnZ3JlZ2F0b3IuanMiKTtjbGFzcyB1IGV4dGVuZHMgbC5CYXNlQWdncmVnYXRvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5zdW1tZXI9by5yZWd1bGFyRnVuY3Rpb25zW2guUmVndWxhck9wZXJhdG9yLkFERElUSU9OXX1zdGF0aWMgZW1wdHlWYWx1ZSgpe3JldHVybigwLGQuaW50ZWdlcikoMCkudG9SREYoKX1pbml0KGcpe3JldHVybiB0aGlzLnRlcm1Ub051bWVyaWNPckVycm9yKGcpfXB1dChnLHYpe2NvbnN0IGI9dGhpcy50ZXJtVG9OdW1lcmljT3JFcnJvcih2KTtyZXR1cm4gdGhpcy5zdW1tZXIuYXBwbHkoW2csYl0sdGhpcy5zaGFyZWRDb250ZXh0KX1yZXN1bHQoZyl7cmV0dXJuIGcudG9SREYoKX19ZS5TdW09dX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9pbmRleC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmFnZ3JlZ2F0b3JzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9BdmVyYWdlLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvYWdncmVnYXRvcnMvQ291bnQuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9Hcm91cENvbmNhdC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL01heC5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL01pbi5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL1NhbXBsZS5qcyIpLGc9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2FnZ3JlZ2F0b3JzL1N1bS5qcyIpO2UuYWdncmVnYXRvcnM9e2NvdW50OmQuQ291bnQsc3VtOmcuU3VtLG1pbjp1Lk1pbixtYXg6bC5NYXgsYXZnOm8uQXZlcmFnZSxncm91cF9jb25jYXQ6aC5Hcm91cENvbmNhdCxzYW1wbGU6cC5TYW1wbGV9fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvQWdncmVnYXRlRXZhbHVhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQWdncmVnYXRlRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvQmFzZUFnZ3JlZ2F0ZUV2YWx1YXRvci5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvU3luY0V2YWx1YXRvci5qcyIpO2NsYXNzIGggZXh0ZW5kcyBvLkJhc2VBZ2dyZWdhdGVFdmFsdWF0b3J7Y29uc3RydWN0b3IodSxwLGcpe3N1cGVyKHUsZC5TeW5jRXZhbHVhdG9yLmNvbXBsZXRlQ29udGV4dChwfHx7fSksZyksdGhpcy5ldmFsdWF0b3I9bmV3IGQuU3luY0V2YWx1YXRvcih1LmV4cHJlc3Npb24scCl9cHV0KHUpe3RoaXMuaW5pdCh1KX1fX3B1dCh1KXt0cnl7Y29uc3QgcD10aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh1KTt0aGlzLnN0YXRlPXRoaXMuYWdncmVnYXRvci5wdXQodGhpcy5zdGF0ZSxwKX1jYXRjaChwKXt0aGlzLnNhZmVUaHJvdyhwKX19c2FmZVRocm93KHUpe2lmKHRoaXMudGhyb3dFcnJvcil0aHJvdyB1O3RoaXMucHV0PSgpPT57fSx0aGlzLnJlc3VsdD0oKT0+e319aW5pdCh1KXt0cnl7Y29uc3QgcD10aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh1KTt0aGlzLnN0YXRlPXRoaXMuYWdncmVnYXRvci5pbml0KHApLHRoaXMuc3RhdGUmJih0aGlzLnB1dD10aGlzLl9fcHV0LmJpbmQodGhpcyksdGhpcy5yZXN1bHQ9dGhpcy5fX3Jlc3VsdC5iaW5kKHRoaXMpKX1jYXRjaChwKXt0aGlzLnNhZmVUaHJvdyhwKX19fWUuQWdncmVnYXRlRXZhbHVhdG9yPWh9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9Bc3luY0FnZ3JlZ2F0ZUV2YWx1YXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFzeW5jQWdncmVnYXRlRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL0FzeW5jRXZhbHVhdG9yLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL0Jhc2VBZ2dyZWdhdGVFdmFsdWF0b3IuanMiKTtjbGFzcyBoIGV4dGVuZHMgZC5CYXNlQWdncmVnYXRlRXZhbHVhdG9ye2NvbnN0cnVjdG9yKHUscCxnKXtzdXBlcih1LG8uQXN5bmNFdmFsdWF0b3IuY29tcGxldGVDb250ZXh0KHB8fHt9KSxnKSx0aGlzLmV2YWx1YXRvcj1uZXcgby5Bc3luY0V2YWx1YXRvcih1LmV4cHJlc3Npb24scCksdGhpcy5lcnJvck9jY3VycmVkPSExfXB1dCh1KXtyZXR1cm4gdGhpcy5pbml0KHUpfWFzeW5jIF9fcHV0KHUpe3RyeXtjb25zdCBwPWF3YWl0IHRoaXMuZXZhbHVhdG9yLmV2YWx1YXRlKHUpO3RoaXMuc3RhdGU9dGhpcy5hZ2dyZWdhdG9yLnB1dCh0aGlzLnN0YXRlLHApfWNhdGNoKHApe3RoaXMuc2FmZVRocm93KHApfX1zYWZlVGhyb3codSl7aWYodGhpcy50aHJvd0Vycm9yKXRocm93IHU7dGhpcy5wdXQ9YXN5bmMoKT0+e30sdGhpcy5yZXN1bHQ9KCk9Pnt9LHRoaXMuZXJyb3JPY2N1cnJlZD0hMH1hc3luYyBpbml0KHUpe3RyeXtjb25zdCBwPWF3YWl0IHRoaXMuZXZhbHVhdG9yLmV2YWx1YXRlKHUpO2lmKCFwfHx0aGlzLmVycm9yT2NjdXJyZWQpcmV0dXJuO2lmKHRoaXMuc3RhdGUpe3RoaXMuc3RhdGU9dGhpcy5hZ2dyZWdhdG9yLnB1dCh0aGlzLnN0YXRlLHApO3JldHVybn10aGlzLnN0YXRlPXRoaXMuYWdncmVnYXRvci5pbml0KHApLHRoaXMuc3RhdGUmJih0aGlzLnB1dD10aGlzLl9fcHV0LmJpbmQodGhpcyksdGhpcy5yZXN1bHQ9dGhpcy5fX3Jlc3VsdC5iaW5kKHRoaXMpKX1jYXRjaChwKXt0aGlzLnNhZmVUaHJvdyhwKX19fWUuQXN5bmNBZ2dyZWdhdGVFdmFsdWF0b3I9aH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL0FzeW5jRXZhbHVhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuQXN5bmNFdmFsdWF0b3I9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL2xydS1jYWNoZS9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9BbGdlYnJhVHJhbnNmb3JtZXIuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvQXN5bmNSZWN1cnNpdmVFdmFsdWF0b3IuanMiKTtjbGFzcyBse2NvbnN0cnVjdG9yKHAsZz17fSl7dGhpcy5hbGdFeHByPXA7Y29uc3Qgdj1nLmV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcnx8KCgpPT57fSksYj1sLmNvbXBsZXRlQ29udGV4dChnKSxfPW5ldyBkLkFsZ2VicmFUcmFuc2Zvcm1lcihPYmplY3QuYXNzaWduKHt0eXBlOiJhc3luYyIsY3JlYXRvcjp2fSxiKSk7dGhpcy5leHByPV8udHJhbnNmb3JtQWxnZWJyYShwKSx0aGlzLmV2YWx1YXRvcj1uZXcgaC5Bc3luY1JlY3Vyc2l2ZUV2YWx1YXRvcihiLF8pfXN0YXRpYyBjb21wbGV0ZUNvbnRleHQocCl7cmV0dXJue25vdzpwLm5vd3x8bmV3IERhdGUoRGF0ZS5ub3coKSksYmFzZUlSSTpwLmJhc2VJUkl8fHZvaWQgMCxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOnAuZnVuY3Rpb25Bcmd1bWVudHNDYWNoZXx8e30sc3VwZXJUeXBlUHJvdmlkZXI6e2NhY2hlOnAudHlwZUNhY2hlfHxuZXcgbyxkaXNjb3ZlcmVyOnAuZ2V0U3VwZXJUeXBlfHwoKCk9PiJ0ZXJtIil9LGV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcjpwLmV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcixleGlzdHM6cC5leGlzdHMsYWdncmVnYXRlOnAuYWdncmVnYXRlLGJub2RlOnAuYm5vZGV9fWFzeW5jIGV2YWx1YXRlKHApe3JldHVybihhd2FpdCB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzLmV4cHIscCkpLnRvUkRGKCl9YXN5bmMgZXZhbHVhdGVBc0VCVihwKXtyZXR1cm4oYXdhaXQgdGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUodGhpcy5leHByLHApKS5jb2VyY2VFQlYoKX1hc3luYyBldmFsdWF0ZUFzSW50ZXJuYWwocCl7cmV0dXJuIGF3YWl0IHRoaXMuZXZhbHVhdG9yLmV2YWx1YXRlKHRoaXMuZXhwcixwKX19ZS5Bc3luY0V2YWx1YXRvcj1sfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvU3luY0V2YWx1YXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlN5bmNFdmFsdWF0b3I9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL2xydS1jYWNoZS9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9BbGdlYnJhVHJhbnNmb3JtZXIuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvU3luY1JlY3Vyc2l2ZUV2YWx1YXRvci5qcyIpO2NsYXNzIGx7Y29uc3RydWN0b3IocCxnPXt9KXt0aGlzLmFsZ0V4cHI9cCx0aGlzLmNvbnRleHQ9Zztjb25zdCB2PWcuZXh0ZW5zaW9uRnVuY3Rpb25DcmVhdG9yfHwoKCk9Pnt9KSxiPWwuY29tcGxldGVDb250ZXh0KGcpLF89bmV3IGQuQWxnZWJyYVRyYW5zZm9ybWVyKE9iamVjdC5hc3NpZ24oe3R5cGU6InN5bmMiLGNyZWF0b3I6dn0sYikpO3RoaXMuZXhwcj1fLnRyYW5zZm9ybUFsZ2VicmEocCksdGhpcy5ldmFsdWF0b3I9bmV3IGguU3luY1JlY3Vyc2l2ZUV2YWx1YXRvcihiLF8pfXN0YXRpYyBjb21wbGV0ZUNvbnRleHQocCl7cmV0dXJue25vdzpwLm5vd3x8bmV3IERhdGUoRGF0ZS5ub3coKSksYmFzZUlSSTpwLmJhc2VJUkl8fHZvaWQgMCxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOnAuZnVuY3Rpb25Bcmd1bWVudHNDYWNoZXx8e30sc3VwZXJUeXBlUHJvdmlkZXI6e2NhY2hlOnAudHlwZUNhY2hlfHxuZXcgbyxkaXNjb3ZlcmVyOnAuZ2V0U3VwZXJUeXBlfHwoKCk9PiJ0ZXJtIil9LGV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcjpwLmV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvcixleGlzdHM6cC5leGlzdHMsYWdncmVnYXRlOnAuYWdncmVnYXRlLGJub2RlOnAuYm5vZGV9fWV2YWx1YXRlKHApe3JldHVybiB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzLmV4cHIscCkudG9SREYoKX1ldmFsdWF0ZUFzRUJWKHApe3JldHVybiB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzLmV4cHIscCkuY29lcmNlRUJWKCl9ZXZhbHVhdGVBc0ludGVybmFsKHApe3JldHVybiB0aGlzLmV2YWx1YXRvci5ldmFsdWF0ZSh0aGlzLmV4cHIscCl9fWUuU3luY0V2YWx1YXRvcj1sfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvZXZhbHVhdG9ySGVscGVycy9Bc3luY1JlY3Vyc2l2ZUV2YWx1YXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFzeW5jUmVjdXJzaXZlRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9UZXJtVHJhbnNmb3JtZXIuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvZXZhbHVhdG9ySGVscGVycy9CYXNlRXhwcmVzc2lvbkV2YWx1YXRvci5qcyIpO2NsYXNzIHUgZXh0ZW5kcyBsLkJhc2VFeHByZXNzaW9uRXZhbHVhdG9ye2NvbnN0cnVjdG9yKGcsdil7c3VwZXIodnx8bmV3IGQuVGVybVRyYW5zZm9ybWVyKGcuc3VwZXJUeXBlUHJvdmlkZXIpKSx0aGlzLmNvbnRleHQ9Zyx0aGlzLnN1YkV2YWx1YXRvcnM9e1tvLkV4cHJlc3Npb25UeXBlLlRlcm1dOnRoaXMudGVybS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLlZhcmlhYmxlXTp0aGlzLnZhcmlhYmxlLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuT3BlcmF0b3JdOnRoaXMuZXZhbE9wZXJhdG9yLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuU3BlY2lhbE9wZXJhdG9yXTp0aGlzLmV2YWxTcGVjaWFsT3BlcmF0b3IuYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5OYW1lZF06dGhpcy5ldmFsTmFtZWQuYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5FeGlzdGVuY2VdOnRoaXMuZXZhbEV4aXN0ZW5jZS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLkFnZ3JlZ2F0ZV06dGhpcy5ldmFsQWdncmVnYXRlLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuQXN5bmNFeHRlbnNpb25dOnRoaXMuZXZhbEFzeW5jRXh0ZW5zaW9uLmJpbmQodGhpcyl9fWFzeW5jIGV2YWx1YXRlKGcsdil7Y29uc3QgYj10aGlzLnN1YkV2YWx1YXRvcnNbZy5leHByZXNzaW9uVHlwZV07aWYoIWIpdGhyb3cgbmV3IGguSW52YWxpZEV4cHJlc3Npb25UeXBlKGcpO3JldHVybiBiLmJpbmQodGhpcykoZyx2KX1hc3luYyBldmFsT3BlcmF0b3IoZyx2KXtjb25zdCBiPWcuYXJncy5tYXAoTz0+dGhpcy5ldmFsdWF0ZShPLHYpKSxfPWF3YWl0IFByb21pc2UuYWxsKGIpO3JldHVybiBnLmFwcGx5KF8pfWFzeW5jIGV2YWxTcGVjaWFsT3BlcmF0b3IoZyx2KXtjb25zdCBiPXRoaXMuZXZhbHVhdGUuYmluZCh0aGlzKSxfPXthcmdzOmcuYXJncyxtYXBwaW5nOnYsc3VwZXJUeXBlUHJvdmlkZXI6dGhpcy5jb250ZXh0LnN1cGVyVHlwZVByb3ZpZGVyLG5vdzp0aGlzLmNvbnRleHQubm93LGJhc2VJUkk6dGhpcy5jb250ZXh0LmJhc2VJUkksZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTp0aGlzLmNvbnRleHQuZnVuY3Rpb25Bcmd1bWVudHNDYWNoZSxldmFsdWF0ZTpiLGJub2RlOnRoaXMuY29udGV4dC5ibm9kZX07cmV0dXJuIGcuYXBwbHlBc3luYyhfKX1hc3luYyBfZXZhbEFzeW5jQXJncyhnLHYpe2NvbnN0IGI9Zy5tYXAoXz0+dGhpcy5ldmFsdWF0ZShfLHYpKTtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoYil9YXN5bmMgZXZhbE5hbWVkKGcsdil7cmV0dXJuIGcuYXBwbHkoYXdhaXQgdGhpcy5fZXZhbEFzeW5jQXJncyhnLmFyZ3MsdikpfWFzeW5jIGV2YWxBc3luY0V4dGVuc2lvbihnLHYpe3JldHVybiBhd2FpdCBnLmFwcGx5KGF3YWl0IHRoaXMuX2V2YWxBc3luY0FyZ3MoZy5hcmdzLHYpKX1hc3luYyBldmFsRXhpc3RlbmNlKGcsdil7aWYoIXRoaXMuY29udGV4dC5leGlzdHMpdGhyb3cgbmV3IGguTm9FeGlzdGVuY2VIb29rO3JldHVybiBuZXcgby5Cb29sZWFuTGl0ZXJhbChhd2FpdCB0aGlzLmNvbnRleHQuZXhpc3RzKGcuZXhwcmVzc2lvbix2KSl9YXN5bmMgZXZhbEFnZ3JlZ2F0ZShnLHYpe2lmKCF0aGlzLmNvbnRleHQuYWdncmVnYXRlKXRocm93IG5ldyBoLk5vQWdncmVnYXRvcjtyZXR1cm4gdGhpcy50ZXJtVHJhbnNmb3JtZXIudHJhbnNmb3JtUkRGVGVybVVuc2FmZShhd2FpdCB0aGlzLmNvbnRleHQuYWdncmVnYXRlKGcuZXhwcmVzc2lvbikpfX1lLkFzeW5jUmVjdXJzaXZlRXZhbHVhdG9yPXV9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL0Jhc2VBZ2dyZWdhdGVFdmFsdWF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CYXNlQWdncmVnYXRlRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9hZ2dyZWdhdG9ycy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIik7Y2xhc3MgaHtjb25zdHJ1Y3Rvcih1LHAsZyl7dGhpcy50aHJvd0Vycm9yPSExLHRoaXMuZXhwcmVzc2lvbj11LHRoaXMuYWdncmVnYXRvcj1uZXcgby5hZ2dyZWdhdG9yc1t1LmFnZ3JlZ2F0b3JdKHUscCksdGhpcy50aHJvd0Vycm9yPWd8fCExfXN0YXRpYyBlbXB0eVZhbHVlKHUscD0hMSl7Y29uc3QgZz1vLmFnZ3JlZ2F0b3JzW3UuYWdncmVnYXRvcl0uZW1wdHlWYWx1ZSgpO2lmKGc9PT12b2lkIDAmJnApdGhyb3cgbmV3IGQuRW1wdHlBZ2dyZWdhdGVFcnJvcjtyZXR1cm4gZ31yZXN1bHQoKXtyZXR1cm4gdGhpcy5hZ2dyZWdhdG9yLmNvbnN0cnVjdG9yLmVtcHR5VmFsdWUoKX1fX3Jlc3VsdCgpe3JldHVybiB0aGlzLmFnZ3JlZ2F0b3IucmVzdWx0KHRoaXMuc3RhdGUpfX1lLkJhc2VBZ2dyZWdhdGVFdmFsdWF0b3I9aH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9ldmFsdWF0b3JzL2V2YWx1YXRvckhlbHBlcnMvQmFzZUV4cHJlc3Npb25FdmFsdWF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5CYXNlRXhwcmVzc2lvbkV2YWx1YXRvcj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL0hlbHBlcnMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpO2NsYXNzIGh7Y29uc3RydWN0b3IodSl7dGhpcy50ZXJtVHJhbnNmb3JtZXI9dX10ZXJtKHUscCl7cmV0dXJuIHV9dmFyaWFibGUodSxwKXtjb25zdCBnPXAuZ2V0KCgwLG8uZXhwcmVzc2lvblRvVmFyKSh1KSk7aWYoIWcpdGhyb3cgbmV3IGQuVW5ib3VuZFZhcmlhYmxlRXJyb3IodS5uYW1lLHApO3JldHVybiB0aGlzLnRlcm1UcmFuc2Zvcm1lci50cmFuc2Zvcm1SREZUZXJtVW5zYWZlKGcpfX1lLkJhc2VFeHByZXNzaW9uRXZhbHVhdG9yPWh9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXZhbHVhdG9ycy9ldmFsdWF0b3JIZWxwZXJzL1N5bmNSZWN1cnNpdmVFdmFsdWF0b3IuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5TeW5jUmVjdXJzaXZlRXZhbHVhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9UZXJtVHJhbnNmb3JtZXIuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V2YWx1YXRvcnMvZXZhbHVhdG9ySGVscGVycy9CYXNlRXhwcmVzc2lvbkV2YWx1YXRvci5qcyIpO2NsYXNzIHUgZXh0ZW5kcyBsLkJhc2VFeHByZXNzaW9uRXZhbHVhdG9ye2NvbnN0cnVjdG9yKGcsdil7c3VwZXIodnx8bmV3IGQuVGVybVRyYW5zZm9ybWVyKGcuc3VwZXJUeXBlUHJvdmlkZXIpKSx0aGlzLmNvbnRleHQ9Zyx0aGlzLnN1YkV2YWx1YXRvcnM9e1tvLkV4cHJlc3Npb25UeXBlLlRlcm1dOnRoaXMudGVybS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLlZhcmlhYmxlXTp0aGlzLnZhcmlhYmxlLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuT3BlcmF0b3JdOnRoaXMuZXZhbE9wZXJhdG9yLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuU3BlY2lhbE9wZXJhdG9yXTp0aGlzLmV2YWxTcGVjaWFsT3BlcmF0b3IuYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5OYW1lZF06dGhpcy5ldmFsTmFtZWQuYmluZCh0aGlzKSxbby5FeHByZXNzaW9uVHlwZS5FeGlzdGVuY2VdOnRoaXMuZXZhbEV4aXN0ZW5jZS5iaW5kKHRoaXMpLFtvLkV4cHJlc3Npb25UeXBlLkFnZ3JlZ2F0ZV06dGhpcy5ldmFsQWdncmVnYXRlLmJpbmQodGhpcyksW28uRXhwcmVzc2lvblR5cGUuU3luY0V4dGVuc2lvbl06dGhpcy5ldmFsU3luY0V4dGVuc2lvbi5iaW5kKHRoaXMpfX1ldmFsdWF0ZShnLHYpe2NvbnN0IGI9dGhpcy5zdWJFdmFsdWF0b3JzW2cuZXhwcmVzc2lvblR5cGVdO2lmKCFiKXRocm93IG5ldyBoLkludmFsaWRFeHByZXNzaW9uVHlwZShnKTtyZXR1cm4gYi5iaW5kKHRoaXMpKGcsdil9ZXZhbE9wZXJhdG9yKGcsdil7Y29uc3QgYj1nLmFyZ3MubWFwKF89PnRoaXMuZXZhbHVhdGUoXyx2KSk7cmV0dXJuIGcuYXBwbHkoYil9ZXZhbFNwZWNpYWxPcGVyYXRvcihnLHYpe2NvbnN0IGI9dGhpcy5ldmFsdWF0ZS5iaW5kKHRoaXMpLF89e2FyZ3M6Zy5hcmdzLG1hcHBpbmc6dixzdXBlclR5cGVQcm92aWRlcjp0aGlzLmNvbnRleHQuc3VwZXJUeXBlUHJvdmlkZXIsbm93OnRoaXMuY29udGV4dC5ub3csYmFzZUlSSTp0aGlzLmNvbnRleHQuYmFzZUlSSSxmdW5jdGlvbkFyZ3VtZW50c0NhY2hlOnRoaXMuY29udGV4dC5mdW5jdGlvbkFyZ3VtZW50c0NhY2hlLGV2YWx1YXRlOmIsYm5vZGU6dGhpcy5jb250ZXh0LmJub2RlfTtyZXR1cm4gZy5hcHBseVN5bmMoXyl9ZXZhbE5hbWVkKGcsdil7Y29uc3QgYj1nLmFyZ3MubWFwKF89PnRoaXMuZXZhbHVhdGUoXyx2KSk7cmV0dXJuIGcuYXBwbHkoYil9ZXZhbFN5bmNFeHRlbnNpb24oZyx2KXtjb25zdCBiPWcuYXJncy5tYXAoXz0+dGhpcy5ldmFsdWF0ZShfLHYpKTtyZXR1cm4gZy5hcHBseShiKX1ldmFsRXhpc3RlbmNlKGcsdil7aWYoIXRoaXMuY29udGV4dC5leGlzdHMpdGhyb3cgbmV3IGguTm9FeGlzdGVuY2VIb29rO3JldHVybiBuZXcgby5Cb29sZWFuTGl0ZXJhbCh0aGlzLmNvbnRleHQuZXhpc3RzKGcuZXhwcmVzc2lvbix2KSl9ZXZhbEFnZ3JlZ2F0ZShnLHYpe2lmKCF0aGlzLmNvbnRleHQuYWdncmVnYXRlKXRocm93IG5ldyBoLk5vQWdncmVnYXRvcjtyZXR1cm4gdGhpcy50ZXJtVHJhbnNmb3JtZXIudHJhbnNmb3JtUkRGVGVybVVuc2FmZSh0aGlzLmNvbnRleHQuYWdncmVnYXRlKGcuZXhwcmVzc2lvbikpfX1lLlN5bmNSZWN1cnNpdmVFdmFsdWF0b3I9dX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9BZ2dyZWdhdGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5BZ2dyZWdhdGU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25zLmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3RvcihsLHUpe3RoaXMubmFtZT1sLHRoaXMuZXhwcmVzc2lvbj11LHRoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5BZ2dyZWdhdGV9fWUuQWdncmVnYXRlPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvQXN5bmNFeHRlbnNpb24uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Bc3luY0V4dGVuc2lvbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwsdSxwKXt0aGlzLm5hbWU9bCx0aGlzLmFyZ3M9dSx0aGlzLmFwcGx5PXAsdGhpcy5leHByZXNzaW9uVHlwZT1vLkV4cHJlc3Npb25UeXBlLkFzeW5jRXh0ZW5zaW9ufX1lLkFzeW5jRXh0ZW5zaW9uPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhpc3RlbmNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuRXhpc3RlbmNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCl7dGhpcy5leHByZXNzaW9uPWwsdGhpcy5leHByZXNzaW9uVHlwZT1vLkV4cHJlc3Npb25UeXBlLkV4aXN0ZW5jZX19ZS5FeGlzdGVuY2U9ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5hc1Rlcm1UeXBlPWUuRXhwcmVzc2lvblR5cGU9dm9pZCAwLGZ1bmN0aW9uKG8pe28uQWdncmVnYXRlPSJhZ2dyZWdhdGUiLG8uRXhpc3RlbmNlPSJleGlzdGVuY2UiLG8uTmFtZWQ9Im5hbWVkIixvLk9wZXJhdG9yPSJvcGVyYXRvciIsby5TcGVjaWFsT3BlcmF0b3I9InNwZWNpYWxPcGVyYXRvciIsby5UZXJtPSJ0ZXJtIixvLlZhcmlhYmxlPSJ2YXJpYWJsZSIsby5Bc3luY0V4dGVuc2lvbj0iYXN5bmNFeHRlbnNpb24iLG8uU3luY0V4dGVuc2lvbj0ic3luY0V4dGVuc2lvbiJ9KGUuRXhwcmVzc2lvblR5cGV8fChlLkV4cHJlc3Npb25UeXBlPXt9KSk7ZnVuY3Rpb24gbihvKXtpZihvPT09Im5hbWVkTm9kZSJ8fG89PT0ibGl0ZXJhbCJ8fG89PT0iYmxhbmtOb2RlIilyZXR1cm4gb31lLmFzVGVybVR5cGU9bn0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9OYW1lZC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk5hbWVkPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCx1LHApe3RoaXMubmFtZT1sLHRoaXMuYXJncz11LHRoaXMuYXBwbHk9cCx0aGlzLmV4cHJlc3Npb25UeXBlPW8uRXhwcmVzc2lvblR5cGUuTmFtZWR9fWUuTmFtZWQ9ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9PcGVyYXRvci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk9wZXJhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCx1KXt0aGlzLmFyZ3M9bCx0aGlzLmFwcGx5PXUsdGhpcy5leHByZXNzaW9uVHlwZT1vLkV4cHJlc3Npb25UeXBlLk9wZXJhdG9yfX1lLk9wZXJhdG9yPWR9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvU3BlY2lhbE9wZXJhdG9yLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU3BlY2lhbE9wZXJhdG9yPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpO2NsYXNzIGR7Y29uc3RydWN0b3IobCx1LHApe3RoaXMuYXJncz1sLHRoaXMuYXBwbHlBc3luYz11LHRoaXMuYXBwbHlTeW5jPXAsdGhpcy5leHByZXNzaW9uVHlwZT1vLkV4cHJlc3Npb25UeXBlLlNwZWNpYWxPcGVyYXRvcn19ZS5TcGVjaWFsT3BlcmF0b3I9ZH0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9TeW5jRXh0ZW5zaW9uLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuU3luY0V4dGVuc2lvbj12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwsdSxwKXt0aGlzLm5hbWU9bCx0aGlzLmFyZ3M9dSx0aGlzLmFwcGx5PXAsdGhpcy5leHByZXNzaW9uVHlwZT1vLkV4cHJlc3Npb25UeXBlLlN5bmNFeHRlbnNpb259fWUuU3luY0V4dGVuc2lvbj1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1Rlcm0uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5pc05vbkxleGljYWxMaXRlcmFsPWUuTm9uTGV4aWNhbExpdGVyYWw9ZS5TdHJpbmdMaXRlcmFsPWUuTGFuZ1N0cmluZ0xpdGVyYWw9ZS5EYXRlVGltZUxpdGVyYWw9ZS5Cb29sZWFuTGl0ZXJhbD1lLkRvdWJsZUxpdGVyYWw9ZS5GbG9hdExpdGVyYWw9ZS5EZWNpbWFsTGl0ZXJhbD1lLkludGVnZXJMaXRlcmFsPWUuTnVtZXJpY0xpdGVyYWw9ZS5MaXRlcmFsPWUuaXNMaXRlcmFsVGVybUV4cHJlc3Npb249ZS5CbGFua05vZGU9ZS5OYW1lZE5vZGU9ZS5UZXJtPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtZGF0YS1mYWN0b3J5L2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0NvbnN0cy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9UeXBlSGFuZGxpbmcuanMiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpLGc9bmV3IG8uRGF0YUZhY3Rvcnk7Y2xhc3Mgdntjb25zdHJ1Y3Rvcigpe3RoaXMuZXhwcmVzc2lvblR5cGU9cC5FeHByZXNzaW9uVHlwZS5UZXJtfXN0cigpe3Rocm93IG5ldyBsLkludmFsaWRBcmd1bWVudFR5cGVzKFt0aGlzXSxkLlJlZ3VsYXJPcGVyYXRvci5TVFIpfWNvZXJjZUVCVigpe3Rocm93IG5ldyBsLkVCVkNvZXJjaW9uRXJyb3IodGhpcyl9fWUuVGVybT12O2NsYXNzIGIgZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKEcpe3N1cGVyKCksdGhpcy52YWx1ZT1HLHRoaXMudGVybVR5cGU9Im5hbWVkTm9kZSJ9dG9SREYoKXtyZXR1cm4gZy5uYW1lZE5vZGUodGhpcy52YWx1ZSl9c3RyKCl7cmV0dXJuIHRoaXMudmFsdWV9fWUuTmFtZWROb2RlPWI7Y2xhc3MgXyBleHRlbmRzIHZ7Y29uc3RydWN0b3IoRyl7c3VwZXIoKSx0aGlzLnRlcm1UeXBlPSJibGFua05vZGUiLHRoaXMudmFsdWU9dHlwZW9mIEc9PSJzdHJpbmciP2cuYmxhbmtOb2RlKEcpOkd9dG9SREYoKXtyZXR1cm4gdGhpcy52YWx1ZX19ZS5CbGFua05vZGU9XztmdW5jdGlvbiBPKFgpe2lmKFgudGVybVR5cGU9PT0ibGl0ZXJhbCIpcmV0dXJuIFh9ZS5pc0xpdGVyYWxUZXJtRXhwcmVzc2lvbj1PO2NsYXNzIFQgZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKEcscmUsTSwkKXtzdXBlcigpLHRoaXMudHlwZWRWYWx1ZT1HLHRoaXMuZGF0YVR5cGU9cmUsdGhpcy5zdHJWYWx1ZT1NLHRoaXMubGFuZ3VhZ2U9JCx0aGlzLnRlcm1UeXBlPSJsaXRlcmFsIn10b1JERigpe3JldHVybiBnLmxpdGVyYWwodGhpcy5zdHJWYWx1ZXx8dGhpcy5zdHIoKSx0aGlzLmxhbmd1YWdlfHxnLm5hbWVkTm9kZSh0aGlzLmRhdGFUeXBlKSl9c3RyKCl7cmV0dXJuIHRoaXMuc3RyVmFsdWV8fHRoaXMudHlwZWRWYWx1ZS50b1N0cmluZygpfX1lLkxpdGVyYWw9VDtjbGFzcyBTIGV4dGVuZHMgVHtjb25zdHJ1Y3RvcihHLHJlLE0sJCl7c3VwZXIoRyxyZSxNLCQpLHRoaXMudHlwZWRWYWx1ZT1HLHRoaXMuc3RyVmFsdWU9TSx0aGlzLmxhbmd1YWdlPSR9Y29lcmNlRUJWKCl7cmV0dXJuISF0aGlzLnR5cGVkVmFsdWV9dG9SREYoKXtjb25zdCBHPXN1cGVyLnRvUkRGKCk7cmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0aGlzLnR5cGVkVmFsdWUpfHwoRy52YWx1ZT1HLnZhbHVlLnJlcGxhY2UoIkluZmluaXR5IiwiSU5GIikpLEd9c3RyKCl7cmV0dXJuIHRoaXMuc3RyVmFsdWV8fHRoaXMuc3BlY2lmaWNGb3JtYXR0ZXIodGhpcy50eXBlZFZhbHVlKX19ZS5OdW1lcmljTGl0ZXJhbD1TO2NsYXNzIE4gZXh0ZW5kcyBTe2NvbnN0cnVjdG9yKEcscmUsTSwkKXtzdXBlcihHLHJlfHxoLlR5cGVVUkwuWFNEX0lOVEVHRVIsTSwkKSx0aGlzLnR5cGVkVmFsdWU9Ryx0aGlzLnN0clZhbHVlPU0sdGhpcy5sYW5ndWFnZT0kfXNwZWNpZmljRm9ybWF0dGVyKEcpe3JldHVybiBHLnRvRml4ZWQoMCl9fWUuSW50ZWdlckxpdGVyYWw9TjtjbGFzcyBCIGV4dGVuZHMgU3tjb25zdHJ1Y3RvcihHLHJlLE0sJCl7c3VwZXIoRyxyZXx8aC5UeXBlVVJMLlhTRF9ERUNJTUFMLE0sJCksdGhpcy50eXBlZFZhbHVlPUcsdGhpcy5zdHJWYWx1ZT1NLHRoaXMubGFuZ3VhZ2U9JH1zcGVjaWZpY0Zvcm1hdHRlcihHKXtyZXR1cm4gRy50b1N0cmluZygpfX1lLkRlY2ltYWxMaXRlcmFsPUI7Y2xhc3MgTCBleHRlbmRzIFN7Y29uc3RydWN0b3IoRyxyZSxNLCQpe3N1cGVyKEcscmV8fGguVHlwZVVSTC5YU0RfRkxPQVQsTSwkKSx0aGlzLnR5cGVkVmFsdWU9Ryx0aGlzLnN0clZhbHVlPU0sdGhpcy5sYW5ndWFnZT0kfXNwZWNpZmljRm9ybWF0dGVyKEcpe3JldHVybiBHLnRvU3RyaW5nKCl9fWUuRmxvYXRMaXRlcmFsPUw7Y2xhc3MgQyBleHRlbmRzIFN7Y29uc3RydWN0b3IoRyxyZSxNLCQpe3N1cGVyKEcscmV8fGguVHlwZVVSTC5YU0RfRE9VQkxFLE0sJCksdGhpcy50eXBlZFZhbHVlPUcsdGhpcy5zdHJWYWx1ZT1NLHRoaXMubGFuZ3VhZ2U9JH1zcGVjaWZpY0Zvcm1hdHRlcihHKXtpZighTnVtYmVyLmlzRmluaXRlKEcpKXJldHVybiBHPjA/IklORiI6RzwwPyItSU5GIjoiTmFOIjtjb25zdCByZT1HLnRvRXhwb25lbnRpYWwoKSxbTSwkXT1yZS5zcGxpdCgiZSIpLFU9JC5yZXBsYWNlKC9cKy91LCIiKTtyZXR1cm5gJHtNLmluY2x1ZGVzKCIuIik/TTpgJHtNfS4wYH1FJHtVfWB9fWUuRG91YmxlTGl0ZXJhbD1DO2NsYXNzIGogZXh0ZW5kcyBUe2NvbnN0cnVjdG9yKEcscmUsTSl7c3VwZXIoRyxNfHxoLlR5cGVVUkwuWFNEX0JPT0xFQU4scmUpLHRoaXMudHlwZWRWYWx1ZT1HLHRoaXMuc3RyVmFsdWU9cmV9Y29lcmNlRUJWKCl7cmV0dXJuIHRoaXMudHlwZWRWYWx1ZX19ZS5Cb29sZWFuTGl0ZXJhbD1qO2NsYXNzIFAgZXh0ZW5kcyBUe2NvbnN0cnVjdG9yKEcscmUsTSl7c3VwZXIoRyxNfHxoLlR5cGVVUkwuWFNEX0RBVEVfVElNRSxyZSksdGhpcy50eXBlZFZhbHVlPUcsdGhpcy5zdHJWYWx1ZT1yZX19ZS5EYXRlVGltZUxpdGVyYWw9UDtjbGFzcyBGIGV4dGVuZHMgVHtjb25zdHJ1Y3RvcihHLHJlLE0pe3N1cGVyKEcsTXx8aC5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxHLHJlKSx0aGlzLnR5cGVkVmFsdWU9Ryx0aGlzLmxhbmd1YWdlPXJlfWNvZXJjZUVCVigpe3JldHVybiB0aGlzLnN0cigpLmxlbmd0aD4wfX1lLkxhbmdTdHJpbmdMaXRlcmFsPUY7Y2xhc3MgayBleHRlbmRzIFR7Y29uc3RydWN0b3IoRyxyZSl7c3VwZXIoRyxyZXx8aC5UeXBlVVJMLlhTRF9TVFJJTkcsRyksdGhpcy50eXBlZFZhbHVlPUd9Y29lcmNlRUJWKCl7cmV0dXJuIHRoaXMuc3RyKCkubGVuZ3RoPjB9fWUuU3RyaW5nTGl0ZXJhbD1rO2NsYXNzIEogZXh0ZW5kcyBUe2NvbnN0cnVjdG9yKEcscmUsTSwkLFUpe3N1cGVyKHt0b1N0cmluZzooKT0+InVuZGVmaW5lZCJ9LGguVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTCwkLFUpLHRoaXMudHlwZVVSTD1yZSx0aGlzLm9wZW5Xb3JsZFR5cGU9TX1jb2VyY2VFQlYoKXtpZigoMCx1LmlzU3ViVHlwZU9mKSh0aGlzLnR5cGVVUkwsaC5UeXBlVVJMLlhTRF9CT09MRUFOLHRoaXMub3BlbldvcmxkVHlwZSl8fCgwLHUuaXNTdWJUeXBlT2YpKHRoaXMudHlwZVVSTCxoLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQyx0aGlzLm9wZW5Xb3JsZFR5cGUpKXJldHVybiExO3Rocm93IG5ldyBsLkVCVkNvZXJjaW9uRXJyb3IodGhpcyl9dG9SREYoKXtyZXR1cm4gZy5saXRlcmFsKHRoaXMuc3RyKCksdGhpcy5sYW5ndWFnZXx8Zy5uYW1lZE5vZGUodGhpcy50eXBlVVJMKSl9c3RyKCl7cmV0dXJuIHRoaXMuc3RyVmFsdWV8fCIifX1lLk5vbkxleGljYWxMaXRlcmFsPUo7ZnVuY3Rpb24gYWUoWCl7aWYoWC5kYXRhVHlwZT09PWguVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTClyZXR1cm4gWH1lLmlzTm9uTGV4aWNhbExpdGVyYWw9YWV9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvVmFyaWFibGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5WYXJpYWJsZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbnMuanMiKTtjbGFzcyBke2NvbnN0cnVjdG9yKGwpe3RoaXMuZXhwcmVzc2lvblR5cGU9by5FeHByZXNzaW9uVHlwZS5WYXJpYWJsZSx0aGlzLm5hbWU9bH19ZS5WYXJpYWJsZT1kfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobCx1KTsoIWd8fCgiZ2V0ImluIGc/IWwuX19lc01vZHVsZTpnLndyaXRhYmxlfHxnLmNvbmZpZ3VyYWJsZSkpJiYoZz17ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLGcpfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeHByZXNzaW9ucy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1ZhcmlhYmxlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvVGVybS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL09wZXJhdG9yLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvU3BlY2lhbE9wZXJhdG9yLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZXhwcmVzc2lvbnMvTmFtZWQuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9BZ2dyZWdhdGUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9FeGlzdGVuY2UuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9Bc3luY0V4dGVuc2lvbi5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL1N5bmNFeHRlbnNpb24uanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvQ29yZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLlNwZWNpYWxGdW5jdGlvbj1lLk5hbWVkRnVuY3Rpb249ZS5SZWd1bGFyRnVuY3Rpb249ZS5CYXNlRnVuY3Rpb249dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvRXJyb3JzLmpzIik7Y2xhc3MgZHtjb25zdHJ1Y3Rvcih2LGIpe3RoaXMub3BlcmF0b3I9dix0aGlzLmFwcGx5PShfLE8pPT4odGhpcy5tb25vbW9ycGgoXyxPLnN1cGVyVHlwZVByb3ZpZGVyLE8uZnVuY3Rpb25Bcmd1bWVudHNDYWNoZSl8fHRoaXMuaGFuZGxlSW52YWxpZFR5cGVzKF8pKShPKShfKSx0aGlzLmFyaXR5PWIuYXJpdHksdGhpcy5vdmVybG9hZHM9Yi5vdmVybG9hZHN9bW9ub21vcnBoKHYsYixfKXtyZXR1cm4gdGhpcy5vdmVybG9hZHMuc2VhcmNoKHYsYixfKX19ZS5CYXNlRnVuY3Rpb249ZDtjbGFzcyBoIGV4dGVuZHMgZHtjb25zdHJ1Y3Rvcih2LGIpe3N1cGVyKHYsYiksdGhpcy5mdW5jdGlvbkNsYXNzPSJyZWd1bGFyIn1oYW5kbGVJbnZhbGlkVHlwZXModil7dGhyb3cgbmV3IG8uSW52YWxpZEFyZ3VtZW50VHlwZXModix0aGlzLm9wZXJhdG9yKX19ZS5SZWd1bGFyRnVuY3Rpb249aDtjbGFzcyBsIGV4dGVuZHMgZHtjb25zdHJ1Y3Rvcih2LGIpe3N1cGVyKHYsYiksdGhpcy5mdW5jdGlvbkNsYXNzPSJuYW1lZCJ9aGFuZGxlSW52YWxpZFR5cGVzKHYpe3Rocm93IG5ldyBvLkludmFsaWRBcmd1bWVudFR5cGVzKHYsdGhpcy5vcGVyYXRvcil9fWUuTmFtZWRGdW5jdGlvbj1sO2NsYXNzIHV7Y29uc3RydWN0b3IodixiKXt0aGlzLm9wZXJhdG9yPXYsdGhpcy5mdW5jdGlvbkNsYXNzPSJzcGVjaWFsIix0aGlzLmFyaXR5PWIuYXJpdHksdGhpcy5hcHBseVN5bmM9Yi5hcHBseVN5bmMsdGhpcy5hcHBseUFzeW5jPWIuYXBwbHlBc3luYyx0aGlzLmNoZWNrQXJpdHk9Yi5jaGVja0FyaXR5fHxwKHRoaXMuYXJpdHkpfX1lLlNwZWNpYWxGdW5jdGlvbj11O2Z1bmN0aW9uIHAoZyl7cmV0dXJuIHY9Pmc9PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk/ITA6di5sZW5ndGg9PT1nfX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmV4cHJlc3Npb25Ub1Zhcj1lLmRhdGVUaW1lPWUubGFuZ1N0cmluZz1lLnN0cmluZz1lLmRvdWJsZT1lLmZsb2F0PWUuZGVjaW1hbD1lLmludGVnZXI9ZS5ib29sPWUuQnVpbGRlcj1lLmRlY2xhcmU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3JkZi1kYXRhLWZhY3RvcnkvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9PdmVybG9hZFRyZWUuanMiKSxnPW5ldyBvLkRhdGFGYWN0b3J5O2Z1bmN0aW9uIHYoUCl7cmV0dXJuIG5ldyBiKFApfWUuZGVjbGFyZT12O2NsYXNzIGJ7Y29uc3RydWN0b3IoRil7dGhpcy5vdmVybG9hZFRyZWU9bmV3IHAuT3ZlcmxvYWRUcmVlKEYpLHRoaXMuY29sbGVjdGVkPSExfWNvbGxlY3QoKXtpZih0aGlzLmNvbGxlY3RlZCl0aHJvdyBuZXcgRXJyb3IoIkJ1aWxkZXJzIGNhbiBvbmx5IGJlIGNvbGxlY3RlZCBvbmNlISIpO3JldHVybiB0aGlzLmNvbGxlY3RlZD0hMCx0aGlzLm92ZXJsb2FkVHJlZX1zZXQoRixrKXtyZXR1cm4gdGhpcy5vdmVybG9hZFRyZWUuYWRkT3ZlcmxvYWQoRixrKSx0aGlzfWNvcHkoe2Zyb206Rix0bzprfSl7Y29uc3QgSj10aGlzLm92ZXJsb2FkVHJlZS5nZXRJbXBsZW1lbnRhdGlvbkV4YWN0KEYpO2lmKCFKKXRocm93IG5ldyB1LlVuZXhwZWN0ZWRFcnJvcigiVHJpZWQgdG8gY29weSBpbXBsZW1lbnRhdGlvbiwgYnV0IHR5cGVzIG5vdCBmb3VuZCIse2Zyb206Rix0bzprfSk7cmV0dXJuIHRoaXMuc2V0KGssSil9b25VbmFyeShGLGspe3JldHVybiB0aGlzLnNldChbRl0sSj0+KFthZV0pPT5rKEopKGFlKSl9b25VbmFyeVR5cGVkKEYsayl7cmV0dXJuIHRoaXMuc2V0KFtGXSxKPT4oW2FlXSk9PmsoSikoYWUudHlwZWRWYWx1ZSkpfW9uQmluYXJ5KEYsayl7cmV0dXJuIHRoaXMuc2V0KEYsSj0+KFthZSxYXSk9PmsoSikoYWUsWCkpfW9uQmluYXJ5VHlwZWQoRixrKXtyZXR1cm4gdGhpcy5zZXQoRixKPT4oW2FlLFhdKT0+ayhKKShhZS50eXBlZFZhbHVlLFgudHlwZWRWYWx1ZSkpfW9uVGVybmFyeVR5cGVkKEYsayl7cmV0dXJuIHRoaXMuc2V0KEYsSj0+KFthZSxYLEddKT0+ayhKKShhZS50eXBlZFZhbHVlLFgudHlwZWRWYWx1ZSxHLnR5cGVkVmFsdWUpKX1vblRlcm5hcnkoRixrKXtyZXR1cm4gdGhpcy5zZXQoRixKPT4oW2FlLFgsR10pPT5rKEopKGFlLFgsRykpfW9uUXVhdGVybmFyeVR5cGVkKEYsayl7cmV0dXJuIHRoaXMuc2V0KEYsSj0+KFthZSxYLEcscmVdKT0+ayhKKShhZS50eXBlZFZhbHVlLFgudHlwZWRWYWx1ZSxHLnR5cGVkVmFsdWUscmUudHlwZWRWYWx1ZSkpfW9uVGVybTEoRil7cmV0dXJuIHRoaXMuc2V0KFsidGVybSJdLGs9PihbSl0pPT5GKGspKEopKX1vbkxpdGVyYWwxKEYpe3JldHVybiB0aGlzLnNldChbImxpdGVyYWwiXSxrPT4oW0pdKT0+RihrKShKKSl9b25Cb29sZWFuMShGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfQk9PTEVBTl0saz0+KFtKXSk9PkYoaykoSikpfW9uQm9vbGVhbjFUeXBlZChGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfQk9PTEVBTl0saz0+KFtKXSk9PkYoaykoSi50eXBlZFZhbHVlKSl9b25TdHJpbmcxKEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlVVJMLlhTRF9TVFJJTkddLGs9PihbSl0pPT5GKGspKEopKX1vblN0cmluZzFUeXBlZChGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZVVSTC5YU0RfU1RSSU5HXSxrPT4oW0pdKT0+RihrKShKLnR5cGVkVmFsdWUpKX1vbkxhbmdTdHJpbmcxKEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlVVJMLlJERl9MQU5HX1NUUklOR10saz0+KFtKXSk9PkYoaykoSikpfW9uU3RyaW5nbHkxKEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlQWxpYXMuU1BBUlFMX1NUUklOR0xZXSxrPT4oW0pdKT0+RihrKShKKSl9b25TdHJpbmdseTFUeXBlZChGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZUFsaWFzLlNQQVJRTF9TVFJJTkdMWV0saz0+KFtKXSk9PkYoaykoSi50eXBlZFZhbHVlKSl9b25OdW1lcmljMShGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDXSxrPT4oW0pdKT0+RihrKShKKSkuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDEpfW9uRGF0ZVRpbWUxKEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlVVJMLlhTRF9EQVRFX1RJTUVdLGs9PihbSl0pPT5GKGspKEopKS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF0sMSl9bnVtZXJpY0NvbnZlcnRlcihGKXtjb25zdCBrPUo9PmFlPT5GKEopKGFlLnR5cGVkVmFsdWUpO3JldHVybiB0aGlzLm9uQmluYXJ5KFtsLlR5cGVVUkwuWFNEX0lOVEVHRVJdLEo9PmFlPT5PKGsoSikoYWUpKSkub25CaW5hcnkoW2wuVHlwZVVSTC5YU0RfREVDSU1BTF0sSj0+YWU9PlQoayhKKShhZSkpKS5vbkJpbmFyeShbbC5UeXBlVVJMLlhTRF9GTE9BVF0sSj0+YWU9PlMoayhKKShhZSkpKS5vbkJpbmFyeShbbC5UeXBlVVJMLlhTRF9ET1VCTEVdLEo9PmFlPT5OKGsoSikoYWUpKSkuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdLDEpfWFyaXRobWV0aWMoRil7Y29uc3Qgaz1KPT4oYWUsWCk9PkYoSikoYWUudHlwZWRWYWx1ZSxYLnR5cGVkVmFsdWUpO3JldHVybiB0aGlzLm9uQmluYXJ5KFtsLlR5cGVVUkwuWFNEX0lOVEVHRVIsbC5UeXBlVVJMLlhTRF9JTlRFR0VSXSxKPT4oYWUsWCk9Pk8oayhKKShhZSxYKSkpLm9uQmluYXJ5KFtsLlR5cGVVUkwuWFNEX0RFQ0lNQUwsbC5UeXBlVVJMLlhTRF9ERUNJTUFMXSxKPT4oYWUsWCk9PlQoayhKKShhZSxYKSkpLm9uQmluYXJ5KFtsLlR5cGVVUkwuWFNEX0ZMT0FULGwuVHlwZVVSTC5YU0RfRkxPQVRdLEo9PihhZSxYKT0+UyhrKEopKGFlLFgpKSkub25CaW5hcnkoW2wuVHlwZVVSTC5YU0RfRE9VQkxFLGwuVHlwZVVSTC5YU0RfRE9VQkxFXSxKPT4oYWUsWCk9Pk4oayhKKShhZSxYKSkpfW51bWJlclRlc3QoRil7cmV0dXJuIHRoaXMubnVtZXJpYyhrPT4oW0osYWVdKT0+e2NvbnN0IFg9RihrKShKLnR5cGVkVmFsdWUsYWUudHlwZWRWYWx1ZSk7cmV0dXJuIF8oWCl9KX1zdHJpbmdUZXN0KEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlVVJMLlhTRF9TVFJJTkcsaC5UeXBlVVJMLlhTRF9TVFJJTkddLGs9PihbSixhZV0pPT57Y29uc3QgWD1GKGspKEoudHlwZWRWYWx1ZSxhZS50eXBlZFZhbHVlKTtyZXR1cm4gXyhYKX0pLmludmFsaWRMZXhpY2FsRm9ybShbaC5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMLGguVHlwZVVSTC5YU0RfU1RSSU5HXSwxKS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZVVSTC5YU0RfU1RSSU5HLGguVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF0sMil9Ym9vbGVhblRlc3QoRil7cmV0dXJuIHRoaXMuc2V0KFtoLlR5cGVVUkwuWFNEX0JPT0xFQU4saC5UeXBlVVJMLlhTRF9CT09MRUFOXSxrPT4oW0osYWVdKT0+e2NvbnN0IFg9RihrKShKLnR5cGVkVmFsdWUsYWUudHlwZWRWYWx1ZSk7cmV0dXJuIF8oWCl9KS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTCxoLlR5cGVVUkwuWFNEX0JPT0xFQU5dLDEpLmludmFsaWRMZXhpY2FsRm9ybShbaC5UeXBlVVJMLlhTRF9CT09MRUFOLGguVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF0sMil9ZGF0ZVRpbWVUZXN0KEYpe3JldHVybiB0aGlzLnNldChbaC5UeXBlVVJMLlhTRF9EQVRFX1RJTUUsaC5UeXBlVVJMLlhTRF9EQVRFX1RJTUVdLGs9PihbSixhZV0pPT57Y29uc3QgWD1GKGspKEoudHlwZWRWYWx1ZSxhZS50eXBlZFZhbHVlKTtyZXR1cm4gXyhYKX0pLmludmFsaWRMZXhpY2FsRm9ybShbaC5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMLGguVHlwZVVSTC5YU0RfREFURV9USU1FXSwxKS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZVVSTC5YU0RfREFURV9USU1FLGguVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF0sMil9bnVtZXJpYyhGKXtyZXR1cm4gdGhpcy5zZXQoW2guVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDLGguVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDXSxGKS5pbnZhbGlkTGV4aWNhbEZvcm0oW2guVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDLGguVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF0sMikuaW52YWxpZExleGljYWxGb3JtKFtoLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUwsaC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUNdLDEpfWludmFsaWRMZXhpY2FsRm9ybShGLGspe3JldHVybiB0aGlzLnNldChGLCgpPT5KPT57dGhyb3cgbmV3IHUuSW52YWxpZExleGljYWxGb3JtKEpbay0xXS50b1JERigpKX0pfX1lLkJ1aWxkZXI9YjtmdW5jdGlvbiBfKFApe3JldHVybiBuZXcgZC5Cb29sZWFuTGl0ZXJhbChQKX1lLmJvb2w9XztmdW5jdGlvbiBPKFApe3JldHVybiBuZXcgZC5JbnRlZ2VyTGl0ZXJhbChQKX1lLmludGVnZXI9TztmdW5jdGlvbiBUKFApe3JldHVybiBuZXcgZC5EZWNpbWFsTGl0ZXJhbChQKX1lLmRlY2ltYWw9VDtmdW5jdGlvbiBTKFApe3JldHVybiBuZXcgZC5GbG9hdExpdGVyYWwoUCl9ZS5mbG9hdD1TO2Z1bmN0aW9uIE4oUCl7cmV0dXJuIG5ldyBkLkRvdWJsZUxpdGVyYWwoUCl9ZS5kb3VibGU9TjtmdW5jdGlvbiBCKFApe3JldHVybiBuZXcgZC5TdHJpbmdMaXRlcmFsKFApfWUuc3RyaW5nPUI7ZnVuY3Rpb24gTChQLEYpe3JldHVybiBuZXcgZC5MYW5nU3RyaW5nTGl0ZXJhbChQLEYpfWUubGFuZ1N0cmluZz1MO2Z1bmN0aW9uIEMoUCxGKXtyZXR1cm4gbmV3IGQuRGF0ZVRpbWVMaXRlcmFsKFAsRil9ZS5kYXRlVGltZT1DO2Z1bmN0aW9uIGooUCl7cmV0dXJuIGcudmFyaWFibGUoUC5uYW1lLnNsaWNlKDEpKX1lLmV4cHJlc3Npb25Ub1Zhcj1qfSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9OYW1lZEZ1bmN0aW9ucy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm5hbWVkRGVmaW5pdGlvbnM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1BhcnNpbmcuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvSGVscGVycy5qcyIpLHU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGwuZGVjbGFyZSkoby5UeXBlVVJMLlhTRF9TVFJJTkcpLm9uTnVtZXJpYzEoKCk9PlQ9PigwLGwuc3RyaW5nKSgoMCxsLmZsb2F0KShULnR5cGVkVmFsdWUpLnN0cigpKSkub25Cb29sZWFuMVR5cGVkKCgpPT5UPT4oMCxsLnN0cmluZykoKDAsbC5ib29sKShUKS5zdHIoKSkpLm9uVGVybTEoKCk9PlQ9PigwLGwuc3RyaW5nKShULnN0cigpKSkuY29sbGVjdCgpfSxwPXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfRkxPQVQpLm9uTnVtZXJpYzEoKCk9PlQ9PigwLGwuZmxvYXQpKFQudHlwZWRWYWx1ZSkpLm9uQm9vbGVhbjFUeXBlZCgoKT0+VD0+KDAsbC5mbG9hdCkoVD8xOjApKS5vblVuYXJ5KG8uVHlwZVVSTC5YU0RfU1RSSU5HLCgpPT5UPT57Y29uc3QgUz0oMCxoLnBhcnNlWFNERmxvYXQpKFQuc3RyKCkpO2lmKFM9PT12b2lkIDApdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9GTE9BVCk7cmV0dXJuKDAsbC5mbG9hdCkoUyl9KS5jb3B5KHtmcm9tOltvLlR5cGVVUkwuWFNEX1NUUklOR10sdG86W28uVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF19KS5jb2xsZWN0KCl9LGc9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGwuZGVjbGFyZSkoby5UeXBlVVJMLlhTRF9ET1VCTEUpLm9uTnVtZXJpYzEoKCk9PlQ9PigwLGwuZG91YmxlKShULnR5cGVkVmFsdWUpKS5vbkJvb2xlYW4xVHlwZWQoKCk9PlQ9PigwLGwuZG91YmxlKShUPzE6MCkpLm9uVW5hcnkoby5UeXBlVVJMLlhTRF9TVFJJTkcsKCk9PlQ9Pntjb25zdCBTPSgwLGgucGFyc2VYU0RGbG9hdCkoVC5zdHIoKSk7aWYoUz09PXZvaWQgMCl0aHJvdyBuZXcgZC5DYXN0RXJyb3IoVCxvLlR5cGVVUkwuWFNEX0RPVUJMRSk7cmV0dXJuKDAsbC5kb3VibGUpKFMpfSkuY29weSh7ZnJvbTpbby5UeXBlVVJMLlhTRF9TVFJJTkddLHRvOltvLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdfSkuY29sbGVjdCgpfSx2PXthcml0eToxLG92ZXJsb2FkczooMCxsLmRlY2xhcmUpKG8uVHlwZVVSTC5YU0RfREVDSU1BTCkub25OdW1lcmljMSgoKT0+VD0+e2NvbnN0IFM9KDAsaC5wYXJzZVhTRERlY2ltYWwpKFQuc3RyKCkpO2lmKFM9PT12b2lkIDApdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9ERUNJTUFMKTtyZXR1cm4oMCxsLmRlY2ltYWwpKFMpfSkub25TdHJpbmcxKCgpPT5UPT57Y29uc3QgUz1ULnN0cigpLE49L14oWystXSk/KFxkKyhcLlxkKyk/KSQvdS50ZXN0KFMpPygwLGgucGFyc2VYU0REZWNpbWFsKShTKTp2b2lkIDA7aWYoTj09PXZvaWQgMCl0aHJvdyBuZXcgZC5DYXN0RXJyb3IoVCxvLlR5cGVVUkwuWFNEX0RFQ0lNQUwpO3JldHVybigwLGwuZGVjaW1hbCkoTil9KS5jb3B5KHtmcm9tOltvLlR5cGVVUkwuWFNEX1NUUklOR10sdG86W28uVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF19KS5vbkJvb2xlYW4xVHlwZWQoKCk9PlQ9PigwLGwuZGVjaW1hbCkoVD8xOjApKS5jb2xsZWN0KCl9LGI9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGwuZGVjbGFyZSkoby5UeXBlVVJMLlhTRF9JTlRFR0VSKS5vbkJvb2xlYW4xVHlwZWQoKCk9PlQ9PigwLGwuaW50ZWdlcikoVD8xOjApKS5vbk51bWVyaWMxKCgpPT5UPT57Y29uc3QgUz0oMCxoLnBhcnNlWFNESW50ZWdlcikoVC5zdHIoKSk7aWYoUz09PXZvaWQgMCl0aHJvdyBuZXcgZC5DYXN0RXJyb3IoVCxvLlR5cGVVUkwuWFNEX0lOVEVHRVIpO3JldHVybigwLGwuaW50ZWdlcikoUyl9KS5vblN0cmluZzEoKCk9PlQ9Pntjb25zdCBTPVQuc3RyKCksTj0vXlxkKyQvdS50ZXN0KFMpPygwLGgucGFyc2VYU0RJbnRlZ2VyKShTKTp2b2lkIDA7aWYoTj09PXZvaWQgMCl0aHJvdyBuZXcgZC5DYXN0RXJyb3IoVCxvLlR5cGVVUkwuWFNEX0lOVEVHRVIpO3JldHVybigwLGwuaW50ZWdlcikoTil9KS5jb3B5KHtmcm9tOltvLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQ10sdG86W28uVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF19KS5jb2xsZWN0KCl9LF89e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGwuZGVjbGFyZSkoby5UeXBlVVJMLlhTRF9EQVRFX1RJTUUpLm9uVW5hcnkoby5UeXBlVVJMLlhTRF9EQVRFX1RJTUUsKCk9PlQ9PlQpLm9uVW5hcnkoby5UeXBlVVJMLlhTRF9TVFJJTkcsKCk9PlQ9Pntjb25zdCBTPW5ldyBEYXRlKFQuc3RyKCkpO2lmKE51bWJlci5pc05hTihTLmdldFRpbWUoKSkpdGhyb3cgbmV3IGQuQ2FzdEVycm9yKFQsby5UeXBlVVJMLlhTRF9EQVRFX1RJTUUpO3JldHVybigwLGwuZGF0ZVRpbWUpKFMsVC5zdHIoKSl9KS5jb3B5KHtmcm9tOltvLlR5cGVVUkwuWFNEX1NUUklOR10sdG86W28uVHlwZUFsaWFzLlNQQVJRTF9OT05fTEVYSUNBTF19KS5jb2xsZWN0KCl9LE89e2FyaXR5OjEsb3ZlcmxvYWRzOigwLGwuZGVjbGFyZSkoby5UeXBlVVJMLlhTRF9CT09MRUFOKS5vbk51bWVyaWMxKCgpPT5UPT4oMCxsLmJvb2wpKFQuY29lcmNlRUJWKCkpKS5vblVuYXJ5KG8uVHlwZVVSTC5YU0RfQk9PTEVBTiwoKT0+VD0+KDAsbC5ib29sKShULmNvZXJjZUVCVigpKSkub25VbmFyeShvLlR5cGVVUkwuWFNEX1NUUklORywoKT0+VD0+e3N3aXRjaChULnN0cigpKXtjYXNlInRydWUiOnJldHVybigwLGwuYm9vbCkoITApO2Nhc2UiZmFsc2UiOnJldHVybigwLGwuYm9vbCkoITEpO2Nhc2UiMSI6cmV0dXJuKDAsbC5ib29sKSghMCk7Y2FzZSIwIjpyZXR1cm4oMCxsLmJvb2wpKCExKTtkZWZhdWx0OnRocm93IG5ldyBkLkNhc3RFcnJvcihULG8uVHlwZVVSTC5YU0RfQk9PTEVBTil9fSkuY29weSh7ZnJvbTpbby5UeXBlVVJMLlhTRF9TVFJJTkddLHRvOltvLlR5cGVBbGlhcy5TUEFSUUxfTk9OX0xFWElDQUxdfSkuY29sbGVjdCgpfTtlLm5hbWVkRGVmaW5pdGlvbnM9e1tvLlR5cGVVUkwuWFNEX1NUUklOR106dSxbby5UeXBlVVJMLlhTRF9GTE9BVF06cCxbby5UeXBlVVJMLlhTRF9ET1VCTEVdOmcsW28uVHlwZVVSTC5YU0RfREVDSU1BTF06dixbby5UeXBlVVJMLlhTRF9JTlRFR0VSXTpiLFtvLlR5cGVVUkwuWFNEX0RBVEVfVElNRV06Xyxbby5UeXBlVVJMLlhTRF9EQVRFXTpfLFtvLlR5cGVVUkwuWFNEX0JPT0xFQU5dOk99fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9PdmVybG9hZFRyZWUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5PdmVybG9hZFRyZWU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1R5cGVIYW5kbGluZy5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIik7Y2xhc3MgdXtjb25zdHJ1Y3RvcihnLHYpe3RoaXMuaWRlbnRpZmllcj1nLHRoaXMuaW1wbGVtZW50YXRpb249dm9pZCAwLHRoaXMuZ2VuZXJhbE92ZXJsb2Fkcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMubGl0ZXJhbE92ZXJMb2Fkcz1bXSx0aGlzLmRlcHRoPXZ8fDAsdGhpcy5wcm9tb3Rpb25Db3VudD12b2lkIDB9Z2V0U3VidHJlZShnKXtjb25zdCB2PSgwLGguYXNHZW5lcmFsVHlwZSkoZyk7aWYodilyZXR1cm4gdGhpcy5nZW5lcmFsT3ZlcmxvYWRzW3ZdO2Zvcihjb25zdFtiLF9db2YgdGhpcy5saXRlcmFsT3ZlckxvYWRzKWlmKGc9PT1iKXJldHVybiBffWdldEltcGxlbWVudGF0aW9uRXhhY3QoZyl7bGV0IHY9dGhpcztmb3IoY29uc3QgYiBvZiBnKWlmKHY9di5nZXRTdWJ0cmVlKGIpLCF2KXJldHVybjtyZXR1cm4gdi5pbXBsZW1lbnRhdGlvbn1zZWFyY2goZyx2LGIpe2xldCBfPWJbdGhpcy5pZGVudGlmaWVyXSxPPTA7Zm9yKDtPPGcubGVuZ3RoJiZfPy5jYWNoZTspe2NvbnN0IE49Z1tPXSxCPSgwLG8uaXNMaXRlcmFsVGVybUV4cHJlc3Npb24pKE4pO189Xy5jYWNoZVtCP0IuZGF0YVR5cGU6Ti50ZXJtVHlwZV0sTysrfWlmKE89PT1nLmxlbmd0aCYmXz8uZnVuYylyZXR1cm4gXy5mdW5jO2NvbnN0IFQ9W10sUz0wO2lmKGcubGVuZ3RoPT09MClyZXR1cm4gdGhpcy5pbXBsZW1lbnRhdGlvbjtmb3IoVC5wdXNoKC4uLnRoaXMuZ2V0U3ViVHJlZVdpdGhBcmcoZ1tTXSx2KS5tYXAoTj0+KHtub2RlOk4saW5kZXg6UysxfSkpKTtULmxlbmd0aD4wOyl7Y29uc3R7aW5kZXg6Tixub2RlOkJ9PVQucG9wKCk7aWYoTj09PWcubGVuZ3RoJiZCLmltcGxlbWVudGF0aW9uKXJldHVybiB0aGlzLmFkZFRvQ2FjaGUoYixnLEIuaW1wbGVtZW50YXRpb24pLEIuaW1wbGVtZW50YXRpb247VC5wdXNoKC4uLkIuZ2V0U3ViVHJlZVdpdGhBcmcoZ1tOXSx2KS5tYXAoTD0+KHtub2RlOkwsaW5kZXg6TisxfSkpKX19YWRkVG9DYWNoZShnLHYsYil7ZnVuY3Rpb24gXyhULFMpe3JldHVybiBTIGluIFR8fChUW1NdPXt9KSxUW1NdfWxldCBPPV8oZyx0aGlzLmlkZW50aWZpZXIpO2Zvcihjb25zdCBUIG9mIHYpe2NvbnN0IFM9KDAsby5pc0xpdGVyYWxUZXJtRXhwcmVzc2lvbikoVCksTj1TP1MuZGF0YVR5cGU6VC50ZXJtVHlwZTtPLmNhY2hlPU8uY2FjaGV8fHt9LE89XyhPLmNhY2hlLE4pfU8uZnVuYz1ifWFkZE92ZXJsb2FkKGcsdil7dGhpcy5fYWRkT3ZlcmxvYWQoWy4uLmddLHYsMCl9X2FkZE92ZXJsb2FkKGcsdixiKXtjb25zdFtfLC4uLk9dPWc7aWYoIV8peyh0aGlzLnByb21vdGlvbkNvdW50PT09dm9pZCAwfHxiPD10aGlzLnByb21vdGlvbkNvdW50KSYmKHRoaXMucHJvbW90aW9uQ291bnQ9Yix0aGlzLmltcGxlbWVudGF0aW9uPXYpO3JldHVybn1sZXQgVD10aGlzLmdldFN1YnRyZWUoXyk7aWYoIVQpe2NvbnN0IFM9bmV3IHUodGhpcy5pZGVudGlmaWVyLHRoaXMuZGVwdGgrMSksTj0oMCxoLmFzR2VuZXJhbFR5cGUpKF8pO04mJih0aGlzLmdlbmVyYWxPdmVybG9hZHNbTl09Uyk7Y29uc3QgQj0oMCxoLmFzT3ZlcnJpZGVUeXBlKShfKTtCJiZ0aGlzLmxpdGVyYWxPdmVyTG9hZHMucHVzaChbQixTXSksVD1TfVQuX2FkZE92ZXJsb2FkKE8sdixiKSxfPT09ZC5UeXBlVVJMLlhTRF9TVFJJTkcmJnRoaXMuYWRkUHJvbW90ZWRPdmVybG9hZChkLlR5cGVVUkwuWFNEX0FOWV9VUkksdixTPT4oMCxsLnN0cmluZykoUy5zdHIoKSksTyxiKSxfPT09ZC5UeXBlVVJMLlhTRF9ET1VCTEUmJih0aGlzLmFkZFByb21vdGVkT3ZlcmxvYWQoZC5UeXBlVVJMLlhTRF9GTE9BVCx2LFM9PigwLGwuZG91YmxlKShTLnR5cGVkVmFsdWUpLE8sYiksdGhpcy5hZGRQcm9tb3RlZE92ZXJsb2FkKGQuVHlwZVVSTC5YU0RfREVDSU1BTCx2LFM9PigwLGwuZG91YmxlKShTLnR5cGVkVmFsdWUpLE8sYikpLF89PT1kLlR5cGVVUkwuWFNEX0ZMT0FUJiZ0aGlzLmFkZFByb21vdGVkT3ZlcmxvYWQoZC5UeXBlVVJMLlhTRF9ERUNJTUFMLHYsUz0+KDAsbC5mbG9hdCkoUy50eXBlZFZhbHVlKSxPLGIpfWFkZFByb21vdGVkT3ZlcmxvYWQoZyx2LGIsXyxPKXtsZXQgVD10aGlzLmdldFN1YnRyZWUoZyk7aWYoIVQpe2NvbnN0IFM9bmV3IHUodGhpcy5pZGVudGlmaWVyLHRoaXMuZGVwdGgrMSk7dGhpcy5saXRlcmFsT3ZlckxvYWRzLnB1c2goW2csU10pLFQ9U31ULl9hZGRPdmVybG9hZChfLFM9Pk49PnYoUykoWy4uLk4uc2xpY2UoMCx0aGlzLmRlcHRoKSxiKE5bdGhpcy5kZXB0aF0pLC4uLk4uc2xpY2UodGhpcy5kZXB0aCsxLE4ubGVuZ3RoKV0pLE8rMSl9Z2V0U3ViVHJlZVdpdGhBcmcoZyx2KXtjb25zdCBiPVtdLF89KDAsby5pc0xpdGVyYWxUZXJtRXhwcmVzc2lvbikoZyk7aWYodGhpcy5nZW5lcmFsT3ZlcmxvYWRzLnRlcm0mJmIucHVzaCh0aGlzLmdlbmVyYWxPdmVybG9hZHMudGVybSksdGhpcy5nZW5lcmFsT3ZlcmxvYWRzW2cudGVybVR5cGVdJiZiLnB1c2godGhpcy5nZW5lcmFsT3ZlcmxvYWRzW2cudGVybVR5cGVdKSxfKXtjb25zdCBPPSgwLGguYXNLbm93bkxpdGVyYWxUeXBlKShfLmRhdGFUeXBlKTtsZXQgVDtPP1Q9aC5zdXBlclR5cGVEaWN0VGFibGVbT106VD0oMCxoLmdldFN1cGVyVHlwZXMpKF8uZGF0YVR5cGUsdik7Y29uc3QgUz10aGlzLmxpdGVyYWxPdmVyTG9hZHMuZmlsdGVyKChbTixCXSk9Pk4gaW4gVCkubWFwKChbTixCXSk9PltUW05dLEJdKTtTLnNvcnQoKFtOLEJdLFtMLENdKT0+Ti1MKSxiLnB1c2goLi4uUy5tYXAoKFtOLEJdKT0+QikpfXJldHVybiBifX1lLk92ZXJsb2FkVHJlZT11fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9SZWd1bGFyRnVuY3Rpb25zLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZGVmaW5pdGlvbnM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL2JpZ251bWJlci5qcy9iaWdudW1iZXIuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvcmRmLWRhdGEtZmFjdG9yeS9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3JlbGF0aXZlLXRvLWFic29sdXRlLWlyaS9pbmRleC5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJrLW1kNS9zcGFyay1tZDUuanMiKSxwPW4oIi4uL3BhY2thZ2VzL3V1aWQvZGlzdC9pbmRleC5qcyIpLGc9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL2luZGV4LmpzIiksdj1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdHJhbnNmb3JtZXJzL1Rlcm1UcmFuc2Zvcm1lci5qcyIpLGI9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksXz1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSxPPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLFQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvUGFyc2luZy5qcyIpLFM9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIiksTj1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL1hQYXRoRnVuY3Rpb25zLmpzIiksQj1uZXcgaC5EYXRhRmFjdG9yeSxMPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLk5PVCkub25UZXJtMSgoKT0+eWU9PigwLFMuYm9vbCkoIXllLmNvZXJjZUVCVigpKSkuY29sbGVjdCgpfSxDPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlVQTFVTKS5udW1lcmljQ29udmVydGVyKCgpPT55ZT0+eWUpLmNvbGxlY3QoKX0saj17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5VTUlOVVMpLm51bWVyaWNDb252ZXJ0ZXIoKCk9PnllPT4teWUpLmNvbGxlY3QoKX0sUD17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5NVUxUSVBMSUNBVElPTikuYXJpdGhtZXRpYygoKT0+KHllLEVlKT0+bmV3IG8uQmlnTnVtYmVyKHllKS50aW1lcyhFZSkudG9OdW1iZXIoKSkuY29sbGVjdCgpfSxGPXthcml0eToyLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkRJVklTSU9OKS5hcml0aG1ldGljKCgpPT4oeWUsRWUpPT5uZXcgby5CaWdOdW1iZXIoeWUpLmRpdihFZSkudG9OdW1iZXIoKSkub25CaW5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9JTlRFR0VSLF8uVHlwZVVSTC5YU0RfSU5URUdFUl0sKCk9Pih5ZSxFZSk9PntpZihFZT09PTApdGhyb3cgbmV3IE8uRXhwcmVzc2lvbkVycm9yKCJJbnRlZ2VyIGRpdmlzaW9uIGJ5IDAiKTtyZXR1cm4oMCxTLmRlY2ltYWwpKG5ldyBvLkJpZ051bWJlcih5ZSkuZGl2KEVlKS50b051bWJlcigpKX0pLmNvbGxlY3QoKX0saz17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5BRERJVElPTikuYXJpdGhtZXRpYygoKT0+KHllLEVlKT0+bmV3IG8uQmlnTnVtYmVyKHllKS5wbHVzKEVlKS50b051bWJlcigpKS5jb2xsZWN0KCl9LEo9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1VCVFJBQ1RJT04pLmFyaXRobWV0aWMoKCk9Pih5ZSxFZSk9Pm5ldyBvLkJpZ051bWJlcih5ZSkubWludXMoRWUpLnRvTnVtYmVyKCkpLmNvbGxlY3QoKX0sYWU9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuRVFVQUwpLm51bWJlclRlc3QoKCk9Pih5ZSxFZSk9PnllPT09RWUpLnN0cmluZ1Rlc3QoKCk9Pih5ZSxFZSk9PnllLmxvY2FsZUNvbXBhcmUoRWUpPT09MCkuYm9vbGVhblRlc3QoKCk9Pih5ZSxFZSk9PnllPT09RWUpLmRhdGVUaW1lVGVzdCgoKT0+KHllLEVlKT0+eWUuZ2V0VGltZSgpPT09RWUuZ2V0VGltZSgpKS5zZXQoWyJ0ZXJtIiwidGVybSJdLCgpPT4oW3llLEVlXSk9PigwLFMuYm9vbCkoWCh5ZSxFZSkpKS5jb2xsZWN0KCl9O2Z1bmN0aW9uIFgoeWUsRWUpe2NvbnN0IHFlPXllLnRvUkRGKCksWGU9RWUudG9SREYoKSxZZT1xZS5lcXVhbHMoWGUpO2lmKHFlLnRlcm1UeXBlPT09IkxpdGVyYWwiJiZYZS50ZXJtVHlwZT09PSJMaXRlcmFsIil0aHJvdyBuZXcgTy5SREZFcXVhbFR5cGVFcnJvcihbeWUsRWVdKTtyZXR1cm4gWWV9Y29uc3QgRz17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5OT1RfRVFVQUwpLm51bWJlclRlc3QoKCk9Pih5ZSxFZSk9PnllIT09RWUpLnN0cmluZ1Rlc3QoKCk9Pih5ZSxFZSk9PnllLmxvY2FsZUNvbXBhcmUoRWUpIT09MCkuYm9vbGVhblRlc3QoKCk9Pih5ZSxFZSk9PnllIT09RWUpLmRhdGVUaW1lVGVzdCgoKT0+KHllLEVlKT0+eWUuZ2V0VGltZSgpIT09RWUuZ2V0VGltZSgpKS5zZXQoWyJ0ZXJtIiwidGVybSJdLCgpPT4oW3llLEVlXSk9PigwLFMuYm9vbCkoIVgoeWUsRWUpKSkuY29sbGVjdCgpfSxyZT17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5MVCkubnVtYmVyVGVzdCgoKT0+KHllLEVlKT0+eWU8RWUpLnN0cmluZ1Rlc3QoKCk9Pih5ZSxFZSk9PnllLmxvY2FsZUNvbXBhcmUoRWUpPT09LTEpLmJvb2xlYW5UZXN0KCgpPT4oeWUsRWUpPT55ZTxFZSkuZGF0ZVRpbWVUZXN0KCgpPT4oeWUsRWUpPT55ZS5nZXRUaW1lKCk8RWUuZ2V0VGltZSgpKS5jb2xsZWN0KCl9LE09e2FyaXR5OjIsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuR1QpLm51bWJlclRlc3QoKCk9Pih5ZSxFZSk9PnllPkVlKS5zdHJpbmdUZXN0KCgpPT4oeWUsRWUpPT55ZS5sb2NhbGVDb21wYXJlKEVlKT09PTEpLmJvb2xlYW5UZXN0KCgpPT4oeWUsRWUpPT55ZT5FZSkuZGF0ZVRpbWVUZXN0KCgpPT4oeWUsRWUpPT55ZS5nZXRUaW1lKCk+RWUuZ2V0VGltZSgpKS5jb2xsZWN0KCl9LCQ9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTFRFKS5udW1iZXJUZXN0KCgpPT4oeWUsRWUpPT55ZTw9RWUpLnN0cmluZ1Rlc3QoKCk9Pih5ZSxFZSk9PnllLmxvY2FsZUNvbXBhcmUoRWUpIT09MSkuYm9vbGVhblRlc3QoKCk9Pih5ZSxFZSk9PnllPD1FZSkuZGF0ZVRpbWVUZXN0KCgpPT4oeWUsRWUpPT55ZS5nZXRUaW1lKCk8PUVlLmdldFRpbWUoKSkuY29sbGVjdCgpfSxVPXthcml0eToyLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkdURSkubnVtYmVyVGVzdCgoKT0+KHllLEVlKT0+eWU+PUVlKS5zdHJpbmdUZXN0KCgpPT4oeWUsRWUpPT55ZS5sb2NhbGVDb21wYXJlKEVlKSE9PS0xKS5ib29sZWFuVGVzdCgoKT0+KHllLEVlKT0+eWU+PUVlKS5kYXRlVGltZVRlc3QoKCk9Pih5ZSxFZSk9PnllLmdldFRpbWUoKT49RWUuZ2V0VGltZSgpKS5jb2xsZWN0KCl9LEg9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuSVNfSVJJKS5vblRlcm0xKCgpPT55ZT0+KDAsUy5ib29sKSh5ZS50ZXJtVHlwZT09PSJuYW1lZE5vZGUiKSkuY29sbGVjdCgpfSxlZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5JU19CTEFOSykub25UZXJtMSgoKT0+eWU9PigwLFMuYm9vbCkoeWUudGVybVR5cGU9PT0iYmxhbmtOb2RlIikpLmNvbGxlY3QoKX0sZ2U9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuSVNfTElURVJBTCkub25UZXJtMSgoKT0+eWU9PigwLFMuYm9vbCkoeWUudGVybVR5cGU9PT0ibGl0ZXJhbCIpKS5jb2xsZWN0KCl9LG1lPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLklTX05VTUVSSUMpLm9uTnVtZXJpYzEoKCk9PnllPT4oMCxTLmJvb2wpKCEwKSkub25UZXJtMSgoKT0+eWU9PigwLFMuYm9vbCkoITEpKS5jb2xsZWN0KCl9LGZlPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNUUikub25UZXJtMSgoKT0+eWU9PigwLFMuc3RyaW5nKSh5ZS5zdHIoKSkpLmNvbGxlY3QoKX0saGU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTEFORykub25MaXRlcmFsMSgoKT0+eWU9PigwLFMuc3RyaW5nKSh5ZS5sYW5ndWFnZXx8IiIpKS5jb2xsZWN0KCl9LF9lPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkRBVEFUWVBFKS5vbkxpdGVyYWwxKCgpPT55ZT0+bmV3IGcuTmFtZWROb2RlKHllLmRhdGFUeXBlKSkuY29sbGVjdCgpfSx4ZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5JUkkpLnNldChbIm5hbWVkTm9kZSJdLHllPT5FZT0+e2NvbnN0IHFlPUVlWzBdLFhlPSgwLGwucmVzb2x2ZSkocWUuc3RyKCkseWUuYmFzZUlSSXx8IiIpO3JldHVybiBuZXcgZy5OYW1lZE5vZGUoWGUpfSkub25TdHJpbmcxKHllPT5FZT0+e2NvbnN0IHFlPSgwLGwucmVzb2x2ZSkoRWUuc3RyKCkseWUuYmFzZUlSSXx8IiIpO3JldHVybiBuZXcgZy5OYW1lZE5vZGUocWUpfSkuY29sbGVjdCgpfSxSZT17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFJEVCkuc2V0KFtfLlR5cGVVUkwuWFNEX1NUUklORywibmFtZWROb2RlIl0sKHtzdXBlclR5cGVQcm92aWRlcjp5ZX0pPT4oW0VlLHFlXSk9Pntjb25zdCBYZT1CLmxpdGVyYWwoRWUudHlwZWRWYWx1ZSxCLm5hbWVkTm9kZShxZS52YWx1ZSkpO3JldHVybiBuZXcgdi5UZXJtVHJhbnNmb3JtZXIoeWUpLnRyYW5zZm9ybUxpdGVyYWwoWGUpfSkuY29sbGVjdCgpfSxJZT17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFJMQU5HKS5vbkJpbmFyeVR5cGVkKFtfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9Pm5ldyBnLkxhbmdTdHJpbmdMaXRlcmFsKHllLEVlLnRvTG93ZXJDYXNlKCkpKS5jb2xsZWN0KCl9LE5lPXthcml0eTowLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlVVSUQpLnNldChbXSwoKT0+KCk9Pm5ldyBnLk5hbWVkTm9kZShgdXJuOnV1aWQ6JHtwLnY0KCl9YCkpLmNvbGxlY3QoKX0sdmU9e2FyaXR5OjAsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1RSVVVJRCkuc2V0KFtdLCgpPT4oKT0+KDAsUy5zdHJpbmcpKHAudjQoKSkpLmNvbGxlY3QoKX0sQ2U9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU1RSTEVOKS5vblN0cmluZ2x5MSgoKT0+eWU9PigwLFMuaW50ZWdlcikoWy4uLnllLnR5cGVkVmFsdWVdLmxlbmd0aCkpLmNvbGxlY3QoKX0sTWU9e2FyaXR5OlsyLDNdLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNVQlNUUikub25CaW5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9JTlRFR0VSXSwoKT0+KHllLEVlKT0+KDAsUy5zdHJpbmcpKFsuLi55ZV0uc2xpY2UoRWUtMSkuam9pbigiIikpKS5vbkJpbmFyeShbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuWFNEX0lOVEVHRVJdLCgpPT4oeWUsRWUpPT57Y29uc3QgcWU9Wy4uLnllLnR5cGVkVmFsdWVdLnNsaWNlKEVlLnR5cGVkVmFsdWUtMSkuam9pbigiIik7cmV0dXJuKDAsUy5sYW5nU3RyaW5nKShxZSx5ZS5sYW5ndWFnZSl9KS5vblRlcm5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9JTlRFR0VSLF8uVHlwZVVSTC5YU0RfSU5URUdFUl0sKCk9Pih5ZSxFZSxxZSk9PigwLFMuc3RyaW5nKShbLi4ueWVdLnNsaWNlKEVlLTEscWUrRWUtMSkuam9pbigiIikpKS5vblRlcm5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlhTRF9JTlRFR0VSLF8uVHlwZVVSTC5YU0RfSU5URUdFUl0sKCk9Pih5ZSxFZSxxZSk9Pntjb25zdCBYZT1bLi4ueWUudHlwZWRWYWx1ZV0uc2xpY2UoRWUudHlwZWRWYWx1ZS0xLHFlLnR5cGVkVmFsdWUrRWUudHlwZWRWYWx1ZS0xKS5qb2luKCIiKTtyZXR1cm4oMCxTLmxhbmdTdHJpbmcpKFhlLHllLmxhbmd1YWdlKX0pLmNvbGxlY3QoKX0sVWU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuVUNBU0UpLm9uU3RyaW5nMVR5cGVkKCgpPT55ZT0+KDAsUy5zdHJpbmcpKHllLnRvVXBwZXJDYXNlKCkpKS5vbkxhbmdTdHJpbmcxKCgpPT55ZT0+KDAsUy5sYW5nU3RyaW5nKSh5ZS50eXBlZFZhbHVlLnRvVXBwZXJDYXNlKCkseWUubGFuZ3VhZ2UpKS5jb2xsZWN0KCl9LEZlPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkxDQVNFKS5vblN0cmluZzFUeXBlZCgoKT0+eWU9PigwLFMuc3RyaW5nKSh5ZS50b0xvd2VyQ2FzZSgpKSkub25MYW5nU3RyaW5nMSgoKT0+eWU9PigwLFMubGFuZ1N0cmluZykoeWUudHlwZWRWYWx1ZS50b0xvd2VyQ2FzZSgpLHllLmxhbmd1YWdlKSkuY29sbGVjdCgpfSwkZT17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFJTVEFSVFMpLm9uQmluYXJ5VHlwZWQoW18uVHlwZUFsaWFzLlNQQVJRTF9TVFJJTkdMWSxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9PigwLFMuYm9vbCkoeWUuc3RhcnRzV2l0aChFZSkpKS5vbkJpbmFyeShbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HXSwoKT0+KHllLEVlKT0+e2lmKHllLmxhbmd1YWdlIT09RWUubGFuZ3VhZ2UpdGhyb3cgbmV3IE8uSW5jb21wYXRpYmxlTGFuZ3VhZ2VPcGVyYXRpb24oeWUsRWUpO3JldHVybigwLFMuYm9vbCkoeWUudHlwZWRWYWx1ZS5zdGFydHNXaXRoKEVlLnR5cGVkVmFsdWUpKX0pLmNvbGxlY3QoKX0scT17YXJpdHk6MixvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TVFJFTkRTKS5vbkJpbmFyeVR5cGVkKFtfLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFksXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT4oMCxTLmJvb2wpKHllLmVuZHNXaXRoKEVlKSkpLm9uQmluYXJ5KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5SREZfTEFOR19TVFJJTkddLCgpPT4oeWUsRWUpPT57aWYoeWUubGFuZ3VhZ2UhPT1FZS5sYW5ndWFnZSl0aHJvdyBuZXcgTy5JbmNvbXBhdGlibGVMYW5ndWFnZU9wZXJhdGlvbih5ZSxFZSk7cmV0dXJuKDAsUy5ib29sKSh5ZS50eXBlZFZhbHVlLmVuZHNXaXRoKEVlLnR5cGVkVmFsdWUpKX0pLmNvbGxlY3QoKX0sb2U9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuQ09OVEFJTlMpLm9uQmluYXJ5VHlwZWQoW18uVHlwZUFsaWFzLlNQQVJRTF9TVFJJTkdMWSxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9PigwLFMuYm9vbCkoeWUuaW5jbHVkZXMoRWUpKSkub25CaW5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlJERl9MQU5HX1NUUklOR10sKCk9Pih5ZSxFZSk9PntpZih5ZS5sYW5ndWFnZSE9PUVlLmxhbmd1YWdlKXRocm93IG5ldyBPLkluY29tcGF0aWJsZUxhbmd1YWdlT3BlcmF0aW9uKHllLEVlKTtyZXR1cm4oMCxTLmJvb2wpKHllLnR5cGVkVmFsdWUuaW5jbHVkZXMoRWUudHlwZWRWYWx1ZSkpfSkuY29sbGVjdCgpfSxRPXthcml0eToyLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNUUkJFRk9SRSkub25CaW5hcnlUeXBlZChbXy5UeXBlVVJMLlhTRF9TVFJJTkcsXy5UeXBlVVJMLlhTRF9TVFJJTkddLCgpPT4oeWUsRWUpPT4oMCxTLnN0cmluZykoeWUuc2xpY2UoMCxNYXRoLm1heCgwLHllLmluZGV4T2YoRWUpKSkpKS5vbkJpbmFyeShbXy5UeXBlVVJMLlJERl9MQU5HX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9Pntjb25zdFtxZSxYZV09W3llLnR5cGVkVmFsdWUsRWUudHlwZWRWYWx1ZV0sWWU9eWUudHlwZWRWYWx1ZS5zbGljZSgwLE1hdGgubWF4KDAscWUuaW5kZXhPZihYZSkpKTtyZXR1cm4gWWV8fCFYZT8oMCxTLmxhbmdTdHJpbmcpKFllLHllLmxhbmd1YWdlKTooMCxTLnN0cmluZykoWWUpfSkub25CaW5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlJERl9MQU5HX1NUUklOR10sKCk9Pih5ZSxFZSk9PntpZih5ZS5sYW5ndWFnZSE9PUVlLmxhbmd1YWdlKXRocm93IG5ldyBPLkluY29tcGF0aWJsZUxhbmd1YWdlT3BlcmF0aW9uKHllLEVlKTtjb25zdFtxZSxYZV09W3llLnR5cGVkVmFsdWUsRWUudHlwZWRWYWx1ZV0sWWU9eWUudHlwZWRWYWx1ZS5zbGljZSgwLE1hdGgubWF4KDAscWUuaW5kZXhPZihYZSkpKTtyZXR1cm4gWWV8fCFYZT8oMCxTLmxhbmdTdHJpbmcpKFllLHllLmxhbmd1YWdlKTooMCxTLnN0cmluZykoWWUpfSkuY29sbGVjdCgpfSxZPXthcml0eToyLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNUUkFGVEVSKS5vbkJpbmFyeVR5cGVkKFtfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9PigwLFMuc3RyaW5nKSh5ZS5zbGljZSh5ZS5pbmRleE9mKEVlKSkuc2xpY2UoRWUubGVuZ3RoKSkpLm9uQmluYXJ5KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HXSwoKT0+KHllLEVlKT0+e2NvbnN0W3FlLFhlXT1beWUudHlwZWRWYWx1ZSxFZS50eXBlZFZhbHVlXSxZZT1xZS5zbGljZShxZS5pbmRleE9mKFhlKSkuc2xpY2UoWGUubGVuZ3RoKTtyZXR1cm4gWWV8fCFYZT8oMCxTLmxhbmdTdHJpbmcpKFllLHllLmxhbmd1YWdlKTooMCxTLnN0cmluZykoWWUpfSkub25CaW5hcnkoW18uVHlwZVVSTC5SREZfTEFOR19TVFJJTkcsXy5UeXBlVVJMLlJERl9MQU5HX1NUUklOR10sKCk9Pih5ZSxFZSk9PntpZih5ZS5sYW5ndWFnZSE9PUVlLmxhbmd1YWdlKXRocm93IG5ldyBPLkluY29tcGF0aWJsZUxhbmd1YWdlT3BlcmF0aW9uKHllLEVlKTtjb25zdFtxZSxYZV09W3llLnR5cGVkVmFsdWUsRWUudHlwZWRWYWx1ZV0sWWU9cWUuc2xpY2UocWUuaW5kZXhPZihYZSkpLnNsaWNlKFhlLmxlbmd0aCk7cmV0dXJuIFllfHwhWGU/KDAsUy5sYW5nU3RyaW5nKShZZSx5ZS5sYW5ndWFnZSk6KDAsUy5zdHJpbmcpKFllKX0pLmNvbGxlY3QoKX0saWU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuRU5DT0RFX0ZPUl9VUkkpLm9uU3RyaW5nbHkxVHlwZWQoKCk9PnllPT4oMCxTLnN0cmluZykoZW5jb2RlVVJJKHllKSkpLmNvbGxlY3QoKX0sc2U9e2FyaXR5OjIsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTEFOR19NQVRDSEVTKS5vbkJpbmFyeVR5cGVkKFtfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSk9PigwLFMuYm9vbCkoTi5sYW5nTWF0Y2hlcyh5ZSxFZSkpKS5jb2xsZWN0KCl9LGxlPSgpPT4oeWUsRWUpPT4oMCxTLmJvb2wpKE4ubWF0Y2hlcyh5ZSxFZSkpLG5lPSgpPT4oeWUsRWUscWUpPT4oMCxTLmJvb2wpKE4ubWF0Y2hlcyh5ZSxFZSxxZSkpLHVlPXthcml0eTpbMiwzXSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5SRUdFWCkub25CaW5hcnlUeXBlZChbXy5UeXBlQWxpYXMuU1BBUlFMX1NUUklOR0xZLF8uVHlwZVVSTC5YU0RfU1RSSU5HXSxsZSkub25UZXJuYXJ5VHlwZWQoW18uVHlwZUFsaWFzLlNQQVJRTF9TVFJJTkdMWSxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sbmUpLmNvbGxlY3QoKX0sZGU9e2FyaXR5OlszLDRdLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlJFUExBQ0UpLm9uVGVybmFyeVR5cGVkKFtfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSxxZSk9PigwLFMuc3RyaW5nKShOLnJlcGxhY2UoeWUsRWUscWUpKSkuc2V0KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HXSwoKT0+KFt5ZSxFZSxxZV0pPT57Y29uc3QgWGU9Ti5yZXBsYWNlKHllLnR5cGVkVmFsdWUsRWUudHlwZWRWYWx1ZSxxZS50eXBlZFZhbHVlKTtyZXR1cm4oMCxTLmxhbmdTdHJpbmcpKFhlLHllLmxhbmd1YWdlKX0pLm9uUXVhdGVybmFyeVR5cGVkKFtfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklORyxfLlR5cGVVUkwuWFNEX1NUUklOR10sKCk9Pih5ZSxFZSxxZSxYZSk9PigwLFMuc3RyaW5nKShOLnJlcGxhY2UoeWUsRWUscWUsWGUpKSkuc2V0KFtfLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HLF8uVHlwZVVSTC5YU0RfU1RSSU5HXSwoKT0+KFt5ZSxFZSxxZSxYZV0pPT57Y29uc3QgWWU9Ti5yZXBsYWNlKHllLnR5cGVkVmFsdWUsRWUudHlwZWRWYWx1ZSxxZS50eXBlZFZhbHVlLFhlLnR5cGVkVmFsdWUpO3JldHVybigwLFMubGFuZ1N0cmluZykoWWUseWUubGFuZ3VhZ2UpfSkuY29sbGVjdCgpfSxwZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5BQlMpLm51bWVyaWNDb252ZXJ0ZXIoKCk9PnllPT5NYXRoLmFicyh5ZSkpLmNvbGxlY3QoKX0sYmU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuUk9VTkQpLm51bWVyaWNDb252ZXJ0ZXIoKCk9PnllPT5NYXRoLnJvdW5kKHllKSkuY29sbGVjdCgpfSx3ZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5DRUlMKS5udW1lcmljQ29udmVydGVyKCgpPT55ZT0+TWF0aC5jZWlsKHllKSkuY29sbGVjdCgpfSxPZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5GTE9PUikubnVtZXJpY0NvbnZlcnRlcigoKT0+eWU9Pk1hdGguZmxvb3IoeWUpKS5jb2xsZWN0KCl9LEk9e2FyaXR5OjAsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuUkFORCkuc2V0KFtdLCgpPT4oKT0+KDAsUy5kb3VibGUpKE1hdGgucmFuZG9tKCkpKS5jb2xsZWN0KCl9O2Z1bmN0aW9uIHcoeWUpe3JldHVybiBULnBhcnNlWFNERGF0ZVRpbWUoeWUuc3RyKCkpfWNvbnN0IEU9e2FyaXR5OjAsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTk9XKS5zZXQoW10seWU9PigpPT5uZXcgZy5EYXRlVGltZUxpdGVyYWwoeWUubm93LHllLm5vdy50b0lTT1N0cmluZygpKSkuY29sbGVjdCgpfSxEPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLllFQVIpLm9uRGF0ZVRpbWUxKCgpPT55ZT0+KDAsUy5pbnRlZ2VyKShOdW1iZXIodyh5ZSkueWVhcikpKS5jb2xsZWN0KCl9LFY9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTU9OVEgpLm9uRGF0ZVRpbWUxKCgpPT55ZT0+KDAsUy5pbnRlZ2VyKShOdW1iZXIodyh5ZSkubW9udGgpKSkuY29sbGVjdCgpfSxaPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLkRBWSkub25EYXRlVGltZTEoKCk9PnllPT4oMCxTLmludGVnZXIpKE51bWJlcih3KHllKS5kYXkpKSkuY29sbGVjdCgpfSxjZT17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5IT1VSUykub25EYXRlVGltZTEoKCk9PnllPT4oMCxTLmludGVnZXIpKE51bWJlcih3KHllKS5ob3VycykpKS5jb2xsZWN0KCl9LFNlPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLk1JTlVURVMpLm9uRGF0ZVRpbWUxKCgpPT55ZT0+KDAsUy5pbnRlZ2VyKShOdW1iZXIodyh5ZSkubWludXRlcykpKS5jb2xsZWN0KCl9LGtlPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNFQ09ORFMpLm9uRGF0ZVRpbWUxKCgpPT55ZT0+KDAsUy5kZWNpbWFsKShOdW1iZXIodyh5ZSkuc2Vjb25kcykpKS5jb2xsZWN0KCl9LEJlPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlRJTUVaT05FKS5vbkRhdGVUaW1lMSgoKT0+eWU9Pntjb25zdCBFZT1OLmZvcm1hdERheVRpbWVEdXJhdGlvbih3KHllKS50aW1lem9uZSk7aWYoIUVlKXRocm93IG5ldyBPLkludmFsaWRUaW1lem9uZUNhbGwoeWUuc3RyVmFsdWUpO3JldHVybiBuZXcgZy5MaXRlcmFsKEVlLF8uVHlwZVVSTC5YU0RfREFZVElNRV9EVVJBVElPTixFZSl9KS5jb2xsZWN0KCl9LERlPXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlRaKS5vbkRhdGVUaW1lMSgoKT0+eWU9PigwLFMuc3RyaW5nKSh3KHllKS50aW1lem9uZSkpLmNvbGxlY3QoKX0sTGU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuTUQ1KS5vblN0cmluZzFUeXBlZCgoKT0+eWU9PigwLFMuc3RyaW5nKSgoMCx1Lmhhc2gpKHllKSkpLmNvbGxlY3QoKX0sS2U9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU0hBMSkub25TdHJpbmcxVHlwZWQoKCk9PnllPT4oMCxTLnN0cmluZykoKDAsZC5zaGExKSgpLnVwZGF0ZSh5ZSkuZGlnZXN0KCJoZXgiKSkpLmNvbGxlY3QoKX0sSmU9e2FyaXR5OjEsb3ZlcmxvYWRzOigwLFMuZGVjbGFyZSkoYi5SZWd1bGFyT3BlcmF0b3IuU0hBMjU2KS5vblN0cmluZzFUeXBlZCgoKT0+eWU9PigwLFMuc3RyaW5nKSgoMCxkLnNoYTI1NikoKS51cGRhdGUoeWUpLmRpZ2VzdCgiaGV4IikpKS5jb2xsZWN0KCl9LHp0PXthcml0eToxLG92ZXJsb2FkczooMCxTLmRlY2xhcmUpKGIuUmVndWxhck9wZXJhdG9yLlNIQTM4NCkub25TdHJpbmcxVHlwZWQoKCk9PnllPT4oMCxTLnN0cmluZykoKDAsZC5zaGEzODQpKCkudXBkYXRlKHllKS5kaWdlc3QoImhleCIpKSkuY29sbGVjdCgpfSx5dD17YXJpdHk6MSxvdmVybG9hZHM6KDAsUy5kZWNsYXJlKShiLlJlZ3VsYXJPcGVyYXRvci5TSEE1MTIpLm9uU3RyaW5nMVR5cGVkKCgpPT55ZT0+KDAsUy5zdHJpbmcpKCgwLGQuc2hhNTEyKSgpLnVwZGF0ZSh5ZSkuZGlnZXN0KCJoZXgiKSkpLmNvbGxlY3QoKX07ZS5kZWZpbml0aW9ucz17IiEiOkwsdXBsdXM6Qyx1bWludXM6aiwiKiI6UCwiLyI6RiwiKyI6aywiLSI6SiwiPSI6YWUsIiE9IjpHLCI8IjpyZSwiPiI6TSwiPD0iOiQsIj49IjpVLGlzaXJpOkgsaXN1cmk6SCxpc2JsYW5rOmVlLGlzbGl0ZXJhbDpnZSxpc251bWVyaWM6bWUsc3RyOmZlLGxhbmc6aGUsZGF0YXR5cGU6X2UsaXJpOnhlLHVyaTp4ZSxzdHJkdDpSZSxzdHJsYW5nOkllLHV1aWQ6TmUsc3RydXVpZDp2ZSxzdHJsZW46Q2Usc3Vic3RyOk1lLHVjYXNlOlVlLGxjYXNlOkZlLHN0cnN0YXJ0czokZSxzdHJlbmRzOnEsY29udGFpbnM6b2Usc3RyYmVmb3JlOlEsc3RyYWZ0ZXI6WSxlbmNvZGVfZm9yX3VyaTppZSxsYW5nbWF0Y2hlczpzZSxyZWdleDp1ZSxyZXBsYWNlOmRlLGFiczpwZSxyb3VuZDpiZSxjZWlsOndlLGZsb29yOk9lLHJhbmQ6SSxub3c6RSx5ZWFyOkQsbW9udGg6VixkYXk6Wixob3VyczpjZSxtaW51dGVzOlNlLHNlY29uZHM6a2UsdGltZXpvbmU6QmUsdHo6RGUsbWQ1OkxlLHNoYTE6S2Usc2hhMjU2OkplLHNoYTM4NDp6dCxzaGE1MTI6eXR9fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9TcGVjaWFsRnVuY3Rpb25zLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc3BlY2lhbERlZmluaXRpb25zPXZvaWQgMDtjb25zdCBvPW4oIi4uL3BhY2thZ2VzL3V1aWQvZGlzdC9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL2luZGV4LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9IZWxwZXJzLmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL2luZGV4LmpzIiksZz17YXJpdHk6MSxhc3luYyBhcHBseUFzeW5jKHthcmdzOlgsbWFwcGluZzpHfSl7cmV0dXJuIHYoe2FyZ3M6WCxtYXBwaW5nOkd9KX0sYXBwbHlTeW5jKHthcmdzOlgsbWFwcGluZzpHfSl7cmV0dXJuIHYoe2FyZ3M6WCxtYXBwaW5nOkd9KX19O2Z1bmN0aW9uIHYoe2FyZ3M6WCxtYXBwaW5nOkd9KXtjb25zdCByZT1YWzBdO2lmKHJlLmV4cHJlc3Npb25UeXBlIT09ZC5FeHByZXNzaW9uVHlwZS5WYXJpYWJsZSl0aHJvdyBuZXcgbC5JbnZhbGlkQXJndW1lbnRUeXBlcyhYLGguU3BlY2lhbE9wZXJhdG9yLkJPVU5EKTtjb25zdCBNPUcuaGFzKCgwLHUuZXhwcmVzc2lvblRvVmFyKShyZSkpO3JldHVybigwLHUuYm9vbCkoTSl9Y29uc3QgYj17YXJpdHk6Myxhc3luYyBhcHBseUFzeW5jKHthcmdzOlgsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3QgJD0oYXdhaXQgcmUoWFswXSxHKSkuY29lcmNlRUJWKCk7cmV0dXJuIHJlKCQ/WFsxXTpYWzJdLEcpfSxhcHBseVN5bmMoe2FyZ3M6WCxtYXBwaW5nOkcsZXZhbHVhdGU6cmV9KXtjb25zdCAkPXJlKFhbMF0sRykuY29lcmNlRUJWKCk7cmV0dXJuIHJlKCQ/WFsxXTpYWzJdLEcpfX0sXz17YXJpdHk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGFzeW5jIGFwcGx5QXN5bmMoe2FyZ3M6WCxtYXBwaW5nOkcsZXZhbHVhdGU6cmV9KXtjb25zdCBNPVtdO2Zvcihjb25zdCAkIG9mIFgpdHJ5e3JldHVybiBhd2FpdCByZSgkLEcpfWNhdGNoKFUpe00ucHVzaChVKX10aHJvdyBuZXcgbC5Db2FsZXNjZUVycm9yKE0pfSxhcHBseVN5bmMoe2FyZ3M6WCxtYXBwaW5nOkcsZXZhbHVhdGU6cmV9KXtjb25zdCBNPVtdO2Zvcihjb25zdCAkIG9mIFgpdHJ5e3JldHVybiByZSgkLEcpfWNhdGNoKFUpe00ucHVzaChVKX10aHJvdyBuZXcgbC5Db2FsZXNjZUVycm9yKE0pfX0sTz17YXJpdHk6Mixhc3luYyBhcHBseUFzeW5jKHthcmdzOlgsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3RbTSwkXT1YO3RyeXtpZigoYXdhaXQgcmUoTSxHKSkuY29lcmNlRUJWKCkpcmV0dXJuKDAsdS5ib29sKSghMCk7Y29uc3QgZ2U9KGF3YWl0IHJlKCQsRykpLmNvZXJjZUVCVigpO3JldHVybigwLHUuYm9vbCkoZ2UpfWNhdGNoKFUpe2lmKCEoYXdhaXQgcmUoJCxHKSkuY29lcmNlRUJWKCkpdGhyb3cgVTtyZXR1cm4oMCx1LmJvb2wpKCEwKX19LGFwcGx5U3luYyh7YXJnczpYLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0W00sJF09WDt0cnl7aWYocmUoTSxHKS5jb2VyY2VFQlYoKSlyZXR1cm4oMCx1LmJvb2wpKCEwKTtjb25zdCBnZT1yZSgkLEcpLmNvZXJjZUVCVigpO3JldHVybigwLHUuYm9vbCkoZ2UpfWNhdGNoKFUpe2lmKCFyZSgkLEcpLmNvZXJjZUVCVigpKXRocm93IFU7cmV0dXJuKDAsdS5ib29sKSghMCl9fX0sVD17YXJpdHk6Mixhc3luYyBhcHBseUFzeW5jKHthcmdzOlgsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3RbTSwkXT1YO3RyeXtpZighKGF3YWl0IHJlKE0sRykpLmNvZXJjZUVCVigpKXJldHVybigwLHUuYm9vbCkoITEpO2NvbnN0IGdlPShhd2FpdCByZSgkLEcpKS5jb2VyY2VFQlYoKTtyZXR1cm4oMCx1LmJvb2wpKGdlKX1jYXRjaChVKXtpZigoYXdhaXQgcmUoJCxHKSkuY29lcmNlRUJWKCkpdGhyb3cgVTtyZXR1cm4oMCx1LmJvb2wpKCExKX19LGFwcGx5U3luYyh7YXJnczpYLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0W00sJF09WDt0cnl7aWYoIXJlKE0sRykuY29lcmNlRUJWKCkpcmV0dXJuKDAsdS5ib29sKSghMSk7Y29uc3QgZ2U9cmUoJCxHKS5jb2VyY2VFQlYoKTtyZXR1cm4oMCx1LmJvb2wpKGdlKX1jYXRjaChVKXtpZihyZSgkLEcpLmNvZXJjZUVCVigpKXRocm93IFU7cmV0dXJuKDAsdS5ib29sKSghMSl9fX0sUz17YXJpdHk6Mixhc3luYyBhcHBseUFzeW5jKHthcmdzOlgsbWFwcGluZzpHLGV2YWx1YXRlOnJlfSl7Y29uc3RbTSwkXT1YLm1hcChlZT0+cmUoZWUsRykpLFtVLEhdPWF3YWl0IFByb21pc2UuYWxsKFtNLCRdKTtyZXR1cm4oMCx1LmJvb2wpKFUudG9SREYoKS5lcXVhbHMoSC50b1JERigpKSl9LGFwcGx5U3luYyh7YXJnczpYLG1hcHBpbmc6RyxldmFsdWF0ZTpyZX0pe2NvbnN0W00sJF09WC5tYXAoVT0+cmUoVSxHKSk7cmV0dXJuKDAsdS5ib29sKShNLnRvUkRGKCkuZXF1YWxzKCQudG9SREYoKSkpfX0sTj17YXJpdHk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGNoZWNrQXJpdHkoWCl7cmV0dXJuIFgubGVuZ3RoPjB9LGFzeW5jIGFwcGx5QXN5bmMoWCl7Y29uc3R7YXJnczpHLG1hcHBpbmc6cmUsZXZhbHVhdGU6TX09WCxbJCwuLi5VXT1HLEg9YXdhaXQgTSgkLHJlKTtyZXR1cm4gQihILE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxYKSx7YXJnczpVfSksW10pfSxhcHBseVN5bmMoWCl7Y29uc3R7YXJnczpHLG1hcHBpbmc6cmUsZXZhbHVhdGU6TX09WCxbJCwuLi5VXT1HLEg9TSgkLHJlKTtyZXR1cm4gTChILE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxYKSx7YXJnczpVfSksW10pfX07YXN5bmMgZnVuY3Rpb24gQihYLEcscmUpe2NvbnN0e2FyZ3M6TSxtYXBwaW5nOiQsZXZhbHVhdGU6VX09RztpZihNLmxlbmd0aD09PTApcmV0dXJuIHJlLmV2ZXJ5KGVlPT4hZWUpPygwLHUuYm9vbCkoITEpOlByb21pc2UucmVqZWN0KG5ldyBsLkluRXJyb3IocmUpKTt0cnl7Y29uc3QgSD1NLnNoaWZ0KCksZWU9YXdhaXQgVShILCQpO3JldHVybiBwLnJlZ3VsYXJGdW5jdGlvbnNbaC5SZWd1bGFyT3BlcmF0b3IuRVFVQUxdLmFwcGx5KFtYLGVlXSxHKS50eXBlZFZhbHVlPygwLHUuYm9vbCkoITApOkIoWCxHLFsuLi5yZSwhMV0pfWNhdGNoKEgpe3JldHVybiBCKFgsRyxbLi4ucmUsSF0pfX1mdW5jdGlvbiBMKFgsRyxyZSl7Y29uc3R7YXJnczpNLG1hcHBpbmc6JCxldmFsdWF0ZTpVfT1HO2lmKE0ubGVuZ3RoPT09MCl7aWYocmUuZXZlcnkoZWU9PiFlZSkpcmV0dXJuKDAsdS5ib29sKSghMSk7dGhyb3cgbmV3IGwuSW5FcnJvcihyZSl9dHJ5e2NvbnN0IEg9TS5zaGlmdCgpLGVlPVUoSCwkKTtyZXR1cm4gcC5yZWd1bGFyRnVuY3Rpb25zW2guUmVndWxhck9wZXJhdG9yLkVRVUFMXS5hcHBseShbWCxlZV0sRykudHlwZWRWYWx1ZT8oMCx1LmJvb2wpKCEwKTpMKFgsRyxbLi4ucmUsITFdKX1jYXRjaChIKXtyZXR1cm4gTChYLEcsWy4uLnJlLEhdKX19Y29uc3QgQz17YXJpdHk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGNoZWNrQXJpdHkoWCl7cmV0dXJuIFgubGVuZ3RoPjB9LGFzeW5jIGFwcGx5QXN5bmMoWCl7Y29uc3QgcmU9YXdhaXQgcC5zcGVjaWFsRnVuY3Rpb25zW2guU3BlY2lhbE9wZXJhdG9yLklOXS5hcHBseUFzeW5jKFgpO3JldHVybigwLHUuYm9vbCkoIXJlLnR5cGVkVmFsdWUpfSxhcHBseVN5bmMoWCl7Y29uc3QgcmU9cC5zcGVjaWFsRnVuY3Rpb25zW2guU3BlY2lhbE9wZXJhdG9yLklOXS5hcHBseVN5bmMoWCk7cmV0dXJuKDAsdS5ib29sKSghcmUudHlwZWRWYWx1ZSl9fSxqPSgwLHUuZGVjbGFyZSkoaC5TcGVjaWFsT3BlcmF0b3IuQ09OQ0FUKS5vblN0cmluZ2x5MSgoKT0+WD0+WCkuY29sbGVjdCgpLFA9e2FyaXR5Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxhc3luYyBhcHBseUFzeW5jKFgpe2NvbnN0e2FyZ3M6RyxtYXBwaW5nOnJlLGV2YWx1YXRlOk0sZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTokLHN1cGVyVHlwZVByb3ZpZGVyOlV9PVgsSD1HLm1hcChhc3luYyBoZT0+TShoZSxyZSkpLm1hcChhc3luYyBoZT0+e2NvbnN0IF9lPWouc2VhcmNoKFthd2FpdCBoZV0sVSwkKTtpZighX2UpdGhyb3cgbmV3IGwuSW52YWxpZEFyZ3VtZW50VHlwZXMoRyxoLlNwZWNpYWxPcGVyYXRvci5DT05DQVQpO3JldHVybiBfZShYKShbYXdhaXQgaGVdKX0pLGVlPWF3YWl0IFByb21pc2UuYWxsKEgpLG1lPWVlLm1hcChoZT0+aGUudHlwZWRWYWx1ZSkuam9pbigiIiksZmU9RihlZSk/ZWVbMF0ubGFuZ3VhZ2U6dm9pZCAwO3JldHVybiBmZT8oMCx1LmxhbmdTdHJpbmcpKG1lLGZlKTooMCx1LnN0cmluZykobWUpfSxhcHBseVN5bmMoWCl7Y29uc3R7YXJnczpHLG1hcHBpbmc6cmUsZXZhbHVhdGU6TSxzdXBlclR5cGVQcm92aWRlcjokLGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6VX09WCxIPUcubWFwKGZlPT5NKGZlLHJlKSkubWFwKGZlPT57Y29uc3QgaGU9ai5zZWFyY2goW2ZlXSwkLFUpO2lmKCFoZSl0aHJvdyBuZXcgbC5JbnZhbGlkQXJndW1lbnRUeXBlcyhHLGguU3BlY2lhbE9wZXJhdG9yLkNPTkNBVCk7cmV0dXJuIGhlKFgpKFtmZV0pfSksZ2U9SC5tYXAoZmU9PmZlLnR5cGVkVmFsdWUpLmpvaW4oIiIpLG1lPUYoSCk/SFswXS5sYW5ndWFnZTp2b2lkIDA7cmV0dXJuIG1lPygwLHUubGFuZ1N0cmluZykoZ2UsbWUpOigwLHUuc3RyaW5nKShnZSl9fTtmdW5jdGlvbiBGKFgpe3JldHVybiBYLmxlbmd0aD4wJiZYLmV2ZXJ5KEc9PkcubGFuZ3VhZ2U9PT1YWzBdLmxhbmd1YWdlKX1jb25zdCBrPSgwLHUuZGVjbGFyZSkoaC5TcGVjaWFsT3BlcmF0b3IuQk5PREUpLm9uU3RyaW5nMSgoKT0+WD0+WCkuY29sbGVjdCgpLEo9e2FyaXR5Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjaGVja0FyaXR5KFgpe3JldHVybiBYLmxlbmd0aD09PTB8fFgubGVuZ3RoPT09MX0sYXN5bmMgYXBwbHlBc3luYyhYKXtjb25zdHthcmdzOkcsbWFwcGluZzpyZSxldmFsdWF0ZTpNLHN1cGVyVHlwZVByb3ZpZGVyOiQsZnVuY3Rpb25Bcmd1bWVudHNDYWNoZTpVfT1YLEg9Ry5sZW5ndGg9PT0xP2F3YWl0IE0oR1swXSxyZSk6dm9pZCAwO2xldCBlZTtpZihIKXtjb25zdCBnZT1rLnNlYXJjaChbSF0sJCxVKTtpZighZ2UpdGhyb3cgbmV3IGwuSW52YWxpZEFyZ3VtZW50VHlwZXMoRyxoLlNwZWNpYWxPcGVyYXRvci5CTk9ERSk7ZWU9Z2UoWCkoW0hdKS5zdHIoKX1pZihYLmJub2RlKXtjb25zdCBnZT1hd2FpdCBYLmJub2RlKGVlKTtyZXR1cm4gbmV3IGQuQmxhbmtOb2RlKGdlKX1yZXR1cm4gYWUoZWUpfSxhcHBseVN5bmMoWCl7Y29uc3R7YXJnczpHLG1hcHBpbmc6cmUsZXZhbHVhdGU6TSxzdXBlclR5cGVQcm92aWRlcjokLGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6VX09WCxIPUcubGVuZ3RoPT09MT9NKEdbMF0scmUpOnZvaWQgMDtsZXQgZWU7aWYoSCl7Y29uc3QgZ2U9ay5zZWFyY2goW0hdLCQsVSk7aWYoIWdlKXRocm93IG5ldyBsLkludmFsaWRBcmd1bWVudFR5cGVzKEcsaC5TcGVjaWFsT3BlcmF0b3IuQk5PREUpO2VlPWdlKFgpKFtIXSkuc3RyKCl9aWYoWC5ibm9kZSl7Y29uc3QgZ2U9WC5ibm9kZShlZSk7cmV0dXJuIG5ldyBkLkJsYW5rTm9kZShnZSl9cmV0dXJuIGFlKGVlKX19O2Z1bmN0aW9uIGFlKFgpe3JldHVybiBuZXcgZC5CbGFua05vZGUoWHx8by52NCgpKX1lLnNwZWNpYWxEZWZpbml0aW9ucz17Ym91bmQ6ZyxpZjpiLGNvYWxlc2NlOl8sIiYmIjpULCJ8fCI6TyxzYW1ldGVybTpTLGluOk4sbm90aW46Qyxjb25jYXQ6UCxibm9kZTpKfX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvWFBhdGhGdW5jdGlvbnMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZm9ybWF0RGF5VGltZUR1cmF0aW9uPWUubGFuZ01hdGNoZXM9ZS5yZXBsYWNlPWUubWF0Y2hlcz12b2lkIDA7ZnVuY3Rpb24gbihwLGcsdil7cmV0dXJuIG5ldyBSZWdFeHAoZyx2KS50ZXN0KHApfWUubWF0Y2hlcz1uO2Z1bmN0aW9uIG8ocCxnLHYsYil7bGV0IF89bmV3IFJlZ0V4cChnLGIpO2lmKCFfLmdsb2JhbCl7Y29uc3QgTz1ifHwiIjtfPW5ldyBSZWdFeHAoZyxgJHtPfWdgKX1yZXR1cm4gcC5yZXBsYWNlKF8sdil9ZS5yZXBsYWNlPW87ZnVuY3Rpb24gZChwLGcpe2NvbnN0IHY9cC5zcGxpdCgiLSIpLGI9Zy5zcGxpdCgiLSIpO2lmKCFsKGJbMF0sdlswXSkmJiFoKHZbMF0pKXJldHVybiExO2xldCBfPTEsTz0xO2Zvcig7TzxiLmxlbmd0aDspe2lmKGgoYltPXSkpe08rKztjb250aW51ZX1pZihfPT09di5sZW5ndGgpcmV0dXJuITE7aWYobChiW09dLHZbX10pKXtfKyssTysrO2NvbnRpbnVlfWlmKHZbX10ubGVuZ3RoPT09MSlyZXR1cm4hMTtfKyt9cmV0dXJuITB9ZS5sYW5nTWF0Y2hlcz1kO2Z1bmN0aW9uIGgocCl7cmV0dXJuIHA9PT0iKiJ9ZnVuY3Rpb24gbChwLGcpe3JldHVybiBuZXcgUmVnRXhwKGAvJHtwfS9gLCJpdSIpLnRlc3QoYC8ke2d9L2ApfWZ1bmN0aW9uIHUocCl7aWYoIXApcmV0dXJuO2xldCBnPSIiLHY9MCxiPTA7aWYocCE9PSJaIiYmKGc9cC5zdGFydHNXaXRoKCItIik/Ii0iOiIiLHY9TnVtYmVyLnBhcnNlSW50KHAuc2xpY2UoMSwzKSwxMCksYj1OdW1iZXIucGFyc2VJbnQocC5zbGljZSg0LDYpLDEwKSksdj09PTAmJmI9PT0wKXJldHVybiJQVDBTIjtsZXQgXz1gJHtnfVBUYDtyZXR1cm4gdj4wJiYoXys9YCR7dn1IYCksYj4wJiYoXys9YCR7Yn1NYCksX31lLmZvcm1hdERheVRpbWVEdXJhdGlvbj11fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbih2LGIsXyxPKXtPPT09dm9pZCAwJiYoTz1fKTt2YXIgVD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsXyk7KCFUfHwoImdldCJpbiBUPyFiLl9fZXNNb2R1bGU6VC53cml0YWJsZXx8VC5jb25maWd1cmFibGUpKSYmKFQ9e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGJbX119fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHYsTyxUKX06ZnVuY3Rpb24odixiLF8sTyl7Tz09PXZvaWQgMCYmKE89XyksdltPXT1iW19dfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24odixiKXtmb3IodmFyIF8gaW4gdilfIT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsXykmJm8oYix2LF8pfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5PdmVybG9hZFRyZWU9ZS5uYW1lZEZ1bmN0aW9ucz1lLnNwZWNpYWxGdW5jdGlvbnM9ZS5yZWd1bGFyRnVuY3Rpb25zPXZvaWQgMDtjb25zdCBoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvQ29yZS5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9OYW1lZEZ1bmN0aW9ucy5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9SZWd1bGFyRnVuY3Rpb25zLmpzIikscD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvZnVuY3Rpb25zL1NwZWNpYWxGdW5jdGlvbnMuanMiKTtkKG4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9mdW5jdGlvbnMvQ29yZS5qcyIpLGUpLGUucmVndWxhckZ1bmN0aW9ucz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModS5kZWZpbml0aW9ucykubWFwKChbdixiXSk9Plt2LG5ldyBoLlJlZ3VsYXJGdW5jdGlvbih2LGIpXSkpLGUuc3BlY2lhbEZ1bmN0aW9ucz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocC5zcGVjaWFsRGVmaW5pdGlvbnMpLm1hcCgoW3YsYl0pPT5bdixuZXcgaC5TcGVjaWFsRnVuY3Rpb24odixiKV0pKSxlLm5hbWVkRnVuY3Rpb25zPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhsLm5hbWVkRGVmaW5pdGlvbnMpLm1hcCgoW3YsYl0pPT5bdixuZXcgaC5OYW1lZEZ1bmN0aW9uKHYsYildKSk7dmFyIGc9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9PdmVybG9hZFRyZWUuanMiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiT3ZlcmxvYWRUcmVlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5PdmVybG9hZFRyZWV9fSl9LCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdHJhbnNmb3JtZXJzL0FsZ2VicmFUcmFuc2Zvcm1lci5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLkFsZ2VicmFUcmFuc2Zvcm1lcj12b2lkIDA7Y29uc3Qgbz1uKCJzcGFycWxhbGdlYnJhanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2Z1bmN0aW9ucy9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyIpLGc9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3RyYW5zZm9ybWVycy9UZXJtVHJhbnNmb3JtZXIuanMiKTtjbGFzcyB2IGV4dGVuZHMgZy5UZXJtVHJhbnNmb3JtZXJ7Y29uc3RydWN0b3IoXyl7c3VwZXIoXy5zdXBlclR5cGVQcm92aWRlciksdGhpcy5hbGdlYnJhQ29uZmlnPV8sdGhpcy5jcmVhdG9yQ29uZmlnPXt0eXBlOl8udHlwZSxjcmVhdG9yOl8uY3JlYXRvcn19dHJhbnNmb3JtQWxnZWJyYShfKXtjb25zdCBPPW8uQWxnZWJyYS5leHByZXNzaW9uVHlwZXM7c3dpdGNoKF8uZXhwcmVzc2lvblR5cGUpe2Nhc2UgTy5URVJNOnJldHVybiB0aGlzLnRyYW5zZm9ybVRlcm0oXyk7Y2FzZSBPLk9QRVJBVE9SOnJldHVybiB0aGlzLnRyYW5zZm9ybU9wZXJhdG9yKF8pO2Nhc2UgTy5OQU1FRDpyZXR1cm4gdGhpcy50cmFuc2Zvcm1OYW1lZChfKTtjYXNlIE8uRVhJU1RFTkNFOnJldHVybiB2LnRyYW5zZm9ybUV4aXN0ZW5jZShfKTtjYXNlIE8uQUdHUkVHQVRFOnJldHVybiB2LnRyYW5zZm9ybUFnZ3JlZ2F0ZShfKTtjYXNlIE8uV0lMRENBUkQ6cmV0dXJuIHYudHJhbnNmb3JtV2lsZGNhcmQoXyl9fXN0YXRpYyB0cmFuc2Zvcm1XaWxkY2FyZChfKXtyZXR1cm4gbmV3IGQuTmFtZWROb2RlKF8ud2lsZGNhcmQudmFsdWUpfXRyYW5zZm9ybU9wZXJhdG9yKF8pe2NvbnN0IE89Xy5vcGVyYXRvci50b0xvd2VyQ2FzZSgpO2lmKGwuU3BlY2lhbE9wZXJhdG9ycy5oYXMoTykpe2NvbnN0IEI9TyxMPV8uYXJncy5tYXAoaj0+dGhpcy50cmFuc2Zvcm1BbGdlYnJhKGopKSxDPWguc3BlY2lhbEZ1bmN0aW9uc1tCXTtpZighQy5jaGVja0FyaXR5KEwpKXRocm93IG5ldyB1LkludmFsaWRBcml0eShMLEIpO3JldHVybiBuZXcgZC5TcGVjaWFsT3BlcmF0b3IoTCxDLmFwcGx5QXN5bmMsQy5hcHBseVN5bmMpfWlmKCFsLk9wZXJhdG9ycy5oYXMoTykpdGhyb3cgbmV3IHUuVW5rbm93bk9wZXJhdG9yKF8ub3BlcmF0b3IpO2NvbnN0IFQ9TyxTPV8uYXJncy5tYXAoQj0+dGhpcy50cmFuc2Zvcm1BbGdlYnJhKEIpKSxOPWgucmVndWxhckZ1bmN0aW9uc1tUXTtpZighdi5oYXNDb3JyZWN0QXJpdHkoUyxOLmFyaXR5KSl0aHJvdyBuZXcgdS5JbnZhbGlkQXJpdHkoUyxUKTtyZXR1cm4gbmV3IGQuT3BlcmF0b3IoUyxCPT5OLmFwcGx5KEIsdGhpcy5hbGdlYnJhQ29uZmlnKSl9d3JhcFN5bmNGdW5jdGlvbihfLE8pe3JldHVybiBUPT57dHJ5e2NvbnN0IFM9XyhULm1hcChOPT5OLnRvUkRGKCkpKTtyZXR1cm4gdGhpcy50cmFuc2Zvcm1SREZUZXJtVW5zYWZlKFMpfWNhdGNoKFMpe3Rocm93IG5ldyBwLkV4dGVuc2lvbkZ1bmN0aW9uRXJyb3IoTyxTKX19fXdyYXBBc3luY0Z1bmN0aW9uKF8sTyl7cmV0dXJuIGFzeW5jIFQ9Pnt0cnl7Y29uc3QgUz1hd2FpdCBfKFQubWFwKE49Pk4udG9SREYoKSkpO3JldHVybiB0aGlzLnRyYW5zZm9ybVJERlRlcm1VbnNhZmUoUyl9Y2F0Y2goUyl7dGhyb3cgbmV3IHAuRXh0ZW5zaW9uRnVuY3Rpb25FcnJvcihPLFMpfX19dHJhbnNmb3JtTmFtZWQoXyl7Y29uc3QgTz1fLm5hbWUudmFsdWUsVD1fLmFyZ3MubWFwKFM9PnRoaXMudHJhbnNmb3JtQWxnZWJyYShTKSk7aWYobC5OYW1lZE9wZXJhdG9ycy5oYXMoTykpe2NvbnN0IFM9Xy5uYW1lLnZhbHVlLE49aC5uYW1lZEZ1bmN0aW9uc1tTXTtyZXR1cm4gbmV3IGQuTmFtZWQoXy5uYW1lLFQsQj0+Ti5hcHBseShCLHRoaXMuYWxnZWJyYUNvbmZpZykpfWlmKHRoaXMuY3JlYXRvckNvbmZpZy50eXBlPT09InN5bmMiKXtjb25zdCBTPXRoaXMuY3JlYXRvckNvbmZpZy5jcmVhdG9yKF8ubmFtZSk7aWYoUyl7Y29uc3QgTj10aGlzLndyYXBTeW5jRnVuY3Rpb24oUyxfLm5hbWUudmFsdWUpO3JldHVybiBuZXcgZC5TeW5jRXh0ZW5zaW9uKF8ubmFtZSxULE4pfX1lbHNle2NvbnN0IFM9dGhpcy5jcmVhdG9yQ29uZmlnLmNyZWF0b3IoXy5uYW1lKTtpZihTKXtjb25zdCBOPXRoaXMud3JhcEFzeW5jRnVuY3Rpb24oUyxfLm5hbWUudmFsdWUpO3JldHVybiBuZXcgZC5Bc3luY0V4dGVuc2lvbihfLm5hbWUsVCxOKX19dGhyb3cgbmV3IHUuVW5rbm93bk5hbWVkT3BlcmF0b3IoXy5uYW1lLnZhbHVlKX1zdGF0aWMgaGFzQ29ycmVjdEFyaXR5KF8sTyl7cmV0dXJuIEFycmF5LmlzQXJyYXkoTyk/Ty5pbmNsdWRlcyhfLmxlbmd0aCk6Xy5sZW5ndGg9PT1PfXN0YXRpYyB0cmFuc2Zvcm1BZ2dyZWdhdGUoXyl7Y29uc3QgTz1fLmFnZ3JlZ2F0b3I7cmV0dXJuIG5ldyBkLkFnZ3JlZ2F0ZShPLF8pfXN0YXRpYyB0cmFuc2Zvcm1FeGlzdGVuY2UoXyl7cmV0dXJuIG5ldyBkLkV4aXN0ZW5jZShfKX19ZS5BbGdlYnJhVHJhbnNmb3JtZXI9dn0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi90cmFuc2Zvcm1lcnMvVGVybVRyYW5zZm9ybWVyLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuVGVybVRyYW5zZm9ybWVyPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy9yZGYtc3RyaW5nL2luZGV4LmpzIiksZD1uKCJzcGFycWxhbGdlYnJhanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi9leHByZXNzaW9ucy9pbmRleC5qcyIpLGw9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9FcnJvcnMuanMiKSxwPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1BhcnNpbmcuanMiKSxnPW4oIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1R5cGVIYW5kbGluZy5qcyIpO2NsYXNzIHZ7Y29uc3RydWN0b3IoXyl7dGhpcy5zdXBlclR5cGVQcm92aWRlcj1ffXRyYW5zZm9ybVJERlRlcm1VbnNhZmUoXyl7cmV0dXJuIHRoaXMudHJhbnNmb3JtVGVybSh7dGVybTpfLHR5cGU6ZC5BbGdlYnJhLnR5cGVzLkVYUFJFU1NJT04sZXhwcmVzc2lvblR5cGU6ZC5BbGdlYnJhLmV4cHJlc3Npb25UeXBlcy5URVJNfSl9dHJhbnNmb3JtVGVybShfKXtpZighXy50ZXJtKXRocm93IG5ldyB1LkludmFsaWRFeHByZXNzaW9uKF8pO3N3aXRjaChfLnRlcm0udGVybVR5cGUpe2Nhc2UiVmFyaWFibGUiOnJldHVybiBuZXcgaC5WYXJpYWJsZShvLnRlcm1Ub1N0cmluZyhfLnRlcm0pKTtjYXNlIkxpdGVyYWwiOnJldHVybiB0aGlzLnRyYW5zZm9ybUxpdGVyYWwoXy50ZXJtKTtjYXNlIk5hbWVkTm9kZSI6cmV0dXJuIG5ldyBoLk5hbWVkTm9kZShfLnRlcm0udmFsdWUpO2Nhc2UiQmxhbmtOb2RlIjpyZXR1cm4gbmV3IGguQmxhbmtOb2RlKF8udGVybS52YWx1ZSk7ZGVmYXVsdDp0aHJvdyBuZXcgdS5JbnZhbGlkVGVybVR5cGUoXyl9fXRyYW5zZm9ybUxpdGVyYWwoXyl7aWYoIV8uZGF0YXR5cGV8fFtudWxsLHZvaWQgMCwiIl0uaW5jbHVkZXMoXy5kYXRhdHlwZS52YWx1ZSkpcmV0dXJuIF8ubGFuZ3VhZ2U/bmV3IGguTGFuZ1N0cmluZ0xpdGVyYWwoXy52YWx1ZSxfLmxhbmd1YWdlKTpuZXcgaC5TdHJpbmdMaXRlcmFsKF8udmFsdWUpO2NvbnN0IE89Xy5kYXRhdHlwZS52YWx1ZSxUPSgwLGcuZ2V0U3VwZXJUeXBlRGljdCkoTyx0aGlzLnN1cGVyVHlwZVByb3ZpZGVyKTtpZihsLlR5cGVVUkwuWFNEX1NUUklORyBpbiBUKXJldHVybiBuZXcgaC5TdHJpbmdMaXRlcmFsKF8udmFsdWUsTyk7aWYobC5UeXBlVVJMLlJERl9MQU5HX1NUUklORyBpbiBUKXJldHVybiBuZXcgaC5MYW5nU3RyaW5nTGl0ZXJhbChfLnZhbHVlLF8ubGFuZ3VhZ2UpO2lmKGwuVHlwZVVSTC5YU0RfREFURV9USU1FIGluIFQpe2NvbnN0IEI9bmV3IERhdGUoXy52YWx1ZSk7cmV0dXJuIE51bWJlci5pc05hTihCLmdldFRpbWUoKSk/bmV3IGguTm9uTGV4aWNhbExpdGVyYWwodm9pZCAwLE8sdGhpcy5zdXBlclR5cGVQcm92aWRlcixfLnZhbHVlKTpuZXcgaC5EYXRlVGltZUxpdGVyYWwobmV3IERhdGUoXy52YWx1ZSksXy52YWx1ZSxPKX1pZihsLlR5cGVVUkwuWFNEX0JPT0xFQU4gaW4gVClyZXR1cm4gXy52YWx1ZSE9PSJ0cnVlIiYmXy52YWx1ZSE9PSJmYWxzZSImJl8udmFsdWUhPT0iMSImJl8udmFsdWUhPT0iMCI/bmV3IGguTm9uTGV4aWNhbExpdGVyYWwodm9pZCAwLE8sdGhpcy5zdXBlclR5cGVQcm92aWRlcixfLnZhbHVlKTpuZXcgaC5Cb29sZWFuTGl0ZXJhbChfLnZhbHVlPT09InRydWUifHxfLnZhbHVlPT09IjEiLF8udmFsdWUpO2lmKGwuVHlwZVVSTC5YU0RfREVDSU1BTCBpbiBUKXtjb25zdCBCPXAucGFyc2VYU0REZWNpbWFsKF8udmFsdWUpO3JldHVybiBCPT09dm9pZCAwP25ldyBoLk5vbkxleGljYWxMaXRlcmFsKHZvaWQgMCxPLHRoaXMuc3VwZXJUeXBlUHJvdmlkZXIsXy52YWx1ZSk6bC5UeXBlVVJMLlhTRF9JTlRFR0VSIGluIFQ/bmV3IGguSW50ZWdlckxpdGVyYWwoQixPLF8udmFsdWUpOm5ldyBoLkRlY2ltYWxMaXRlcmFsKEIsTyxfLnZhbHVlKX1jb25zdCBTPWwuVHlwZVVSTC5YU0RfRkxPQVQgaW4gVCxOPWwuVHlwZVVSTC5YU0RfRE9VQkxFIGluIFQ7aWYoU3x8Til7Y29uc3QgQj1wLnBhcnNlWFNERmxvYXQoXy52YWx1ZSk7cmV0dXJuIEI9PT12b2lkIDA/bmV3IGguTm9uTGV4aWNhbExpdGVyYWwodm9pZCAwLE8sdGhpcy5zdXBlclR5cGVQcm92aWRlcixfLnZhbHVlKTpTP25ldyBoLkZsb2F0TGl0ZXJhbChCLE8sXy52YWx1ZSk6bmV3IGguRG91YmxlTGl0ZXJhbChCLE8sXy52YWx1ZSl9cmV0dXJuIG5ldyBoLkxpdGVyYWwoXy52YWx1ZSxPLF8udmFsdWUpfX1lLlRlcm1UcmFuc2Zvcm1lcj12fSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk5hbWVkT3BlcmF0b3JzPWUuU2V0RnVuY3Rpb25zPWUuU2V0RnVuY3Rpb249ZS5PcGVyYXRvcnM9ZS5TcGVjaWFsT3BlcmF0b3JzPWUuUmVndWxhck9wZXJhdG9ycz1lLlNwZWNpYWxPcGVyYXRvcj1lLlJlZ3VsYXJPcGVyYXRvcj1lLlR5cGVVUkw9ZS5UeXBlQWxpYXM9dm9pZCAwLGZ1bmN0aW9uKGwpe2wuU1BBUlFMX05VTUVSSUM9IlNQQVJRTF9OVU1FUklDIixsLlNQQVJRTF9TVFJJTkdMWT0iU1BBUlFMX1NUUklOR0xZIixsLlNQQVJRTF9OT05fTEVYSUNBTD0iU1BBUlFMX05PTl9MRVhJQ0FMIn0oZS5UeXBlQWxpYXN8fChlLlR5cGVBbGlhcz17fSkpO3ZhciBuOyhmdW5jdGlvbihsKXtsLlhTRF9BTllfVVJJPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNhbnlVUkkiLGwuWFNEX1NUUklORz0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjc3RyaW5nIixsLlJERl9MQU5HX1NUUklORz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI2xhbmdTdHJpbmciLGwuWFNEX0JPT0xFQU49Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2Jvb2xlYW4iLGwuWFNEX0RBVEVfVElNRT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZGF0ZVRpbWUiLGwuWFNEX0RBVEVfVElNRV9TVEFNUD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZGF0ZVRpbWVTdGFtcCIsbC5YU0RfREFURT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZGF0ZSIsbC5YU0RfREVDSU1BTD0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZGVjaW1hbCIsbC5YU0RfRkxPQVQ9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2Zsb2F0IixsLlhTRF9ET1VCTEU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2RvdWJsZSIsbC5YU0RfSU5URUdFUj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjaW50ZWdlciIsbC5YU0RfTk9OX1BPU0lUSVZFX0lOVEVHRVI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI25vblBvc2l0aXZlSW50ZWdlciIsbC5YU0RfTkVHQVRJVkVfSU5URUdFUj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjbmVnYXRpdmVJbnRlZ2VyIixsLlhTRF9MT05HPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNsb25nIixsLlhTRF9JTlQ9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2ludCIsbC5YU0RfU0hPUlQ9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3Nob3J0IixsLlhTRF9CWVRFPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNieXRlIixsLlhTRF9OT05fTkVHQVRJVkVfSU5URUdFUj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjbm9uTmVnYXRpdmVJbnRlZ2VyIixsLlhTRF9QT1NJVElWRV9JTlRFR0VSPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNwb3NpdGl2ZUludGVnZXIiLGwuWFNEX1VOU0lHTkVEX0xPTkc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3Vuc2lnbmVkTG9uZyIsbC5YU0RfVU5TSUdORURfSU5UPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSN1bnNpZ25lZEludCIsbC5YU0RfVU5TSUdORURfU0hPUlQ9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3Vuc2lnbmVkU2hvcnQiLGwuWFNEX1VOU0lHTkVEX0JZVEU9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3Vuc2lnbmVkQnl0ZSIsbC5YU0RfTk9STUFMSVpFRF9TVFJJTkc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI25vcm1hbGl6ZWRTdHJpbmciLGwuWFNEX1RPS0VOPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSN0b2tlbiIsbC5YU0RfTEFOR1VBR0U9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2xhbmd1YWdlIixsLlhTRF9OTV9UT0tFTj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjTk1UT0tFTiIsbC5YU0RfTkFNRT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjbmFtZSIsbC5YU0RfTkNfTkFNRT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjTkNOYW1lIixsLlhTRF9FTlRJVFk9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI0VOVElUWSIsbC5YU0RfSUQ9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI0lEIixsLlhTRF9JRF9SRUY9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI0lEUkVGIixsLlhTRF9EVVJBVElPTj0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZHVyYXRpb24iLGwuWFNEX1lFQVJfTU9OVEhfRFVSQVRJT049Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI3llYXJNb250aER1cmF0aW9uIixsLlhTRF9EQVlUSU1FX0RVUkFUSU9OPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNkYXlUaW1lRHVyYXRpb24ifSkobj1lLlR5cGVVUkx8fChlLlR5cGVVUkw9e30pKTt2YXIgbzsoZnVuY3Rpb24obCl7bC5OT1Q9IiEiLGwuVU1JTlVTPSJ1bWludXMiLGwuVVBMVVM9InVwbHVzIixsLkVRVUFMPSI9IixsLk5PVF9FUVVBTD0iIT0iLGwuTFQ9IjwiLGwuR1Q9Ij4iLGwuTFRFPSI8PSIsbC5HVEU9Ij49IixsLk1VTFRJUExJQ0FUSU9OPSIqIixsLkRJVklTSU9OPSIvIixsLkFERElUSU9OPSIrIixsLlNVQlRSQUNUSU9OPSItIixsLklTX0lSST0iaXNpcmkiLGwuSVNfVVJJPSJpc3VyaSIsbC5JU19CTEFOSz0iaXNibGFuayIsbC5JU19MSVRFUkFMPSJpc2xpdGVyYWwiLGwuSVNfTlVNRVJJQz0iaXNudW1lcmljIixsLlNUUj0ic3RyIixsLkxBTkc9ImxhbmciLGwuREFUQVRZUEU9ImRhdGF0eXBlIixsLklSST0iaXJpIixsLlVSST0idXJpIixsLlNUUkRUPSJzdHJkdCIsbC5TVFJMQU5HPSJzdHJsYW5nIixsLlVVSUQ9InV1aWQiLGwuU1RSVVVJRD0ic3RydXVpZCIsbC5TVFJMRU49InN0cmxlbiIsbC5TVUJTVFI9InN1YnN0ciIsbC5VQ0FTRT0idWNhc2UiLGwuTENBU0U9ImxjYXNlIixsLlNUUlNUQVJUUz0ic3Ryc3RhcnRzIixsLlNUUkVORFM9InN0cmVuZHMiLGwuQ09OVEFJTlM9ImNvbnRhaW5zIixsLlNUUkJFRk9SRT0ic3RyYmVmb3JlIixsLlNUUkFGVEVSPSJzdHJhZnRlciIsbC5FTkNPREVfRk9SX1VSST0iZW5jb2RlX2Zvcl91cmkiLGwuTEFOR19NQVRDSEVTPSJsYW5nbWF0Y2hlcyIsbC5SRUdFWD0icmVnZXgiLGwuUkVQTEFDRT0icmVwbGFjZSIsbC5BQlM9ImFicyIsbC5ST1VORD0icm91bmQiLGwuQ0VJTD0iY2VpbCIsbC5GTE9PUj0iZmxvb3IiLGwuUkFORD0icmFuZCIsbC5OT1c9Im5vdyIsbC5ZRUFSPSJ5ZWFyIixsLk1PTlRIPSJtb250aCIsbC5EQVk9ImRheSIsbC5IT1VSUz0iaG91cnMiLGwuTUlOVVRFUz0ibWludXRlcyIsbC5TRUNPTkRTPSJzZWNvbmRzIixsLlRJTUVaT05FPSJ0aW1lem9uZSIsbC5UWj0idHoiLGwuTUQ1PSJtZDUiLGwuU0hBMT0ic2hhMSIsbC5TSEEyNTY9InNoYTI1NiIsbC5TSEEzODQ9InNoYTM4NCIsbC5TSEE1MTI9InNoYTUxMiJ9KShvPWUuUmVndWxhck9wZXJhdG9yfHwoZS5SZWd1bGFyT3BlcmF0b3I9e30pKTt2YXIgZDsoZnVuY3Rpb24obCl7bC5CT1VORD0iYm91bmQiLGwuSUY9ImlmIixsLkNPQUxFU0NFPSJjb2FsZXNjZSIsbC5MT0dJQ0FMX09SPSJ8fCIsbC5MT0dJQ0FMX0FORD0iJiYiLGwuU0FNRV9URVJNPSJzYW1ldGVybSIsbC5JTj0iaW4iLGwuTk9UX0lOPSJub3RpbiIsbC5DT05DQVQ9ImNvbmNhdCIsbC5CTk9ERT0iYm5vZGUifSkoZD1lLlNwZWNpYWxPcGVyYXRvcnx8KGUuU3BlY2lhbE9wZXJhdG9yPXt9KSksZS5SZWd1bGFyT3BlcmF0b3JzPW5ldyBTZXQoT2JqZWN0LnZhbHVlcyhvKSksZS5TcGVjaWFsT3BlcmF0b3JzPW5ldyBTZXQoT2JqZWN0LnZhbHVlcyhkKSksZS5PcGVyYXRvcnM9bmV3IFNldChbLi4uZS5SZWd1bGFyT3BlcmF0b3JzLC4uLmUuU3BlY2lhbE9wZXJhdG9yc10pO3ZhciBoOyhmdW5jdGlvbihsKXtsLkNPVU5UPSJjb3VudCIsbC5TVU09InN1bSIsbC5NSU49Im1pbiIsbC5NQVg9Im1heCIsbC5BVkc9ImF2ZyIsbC5HUk9VUF9DT05DQVQ9Imdyb3VwX2NvbmNhdCIsbC5TQU1QTEU9InNhbXBsZSJ9KShoPWUuU2V0RnVuY3Rpb258fChlLlNldEZ1bmN0aW9uPXt9KSksZS5TZXRGdW5jdGlvbnM9bmV3IFNldChPYmplY3QudmFsdWVzKGgpKSxlLk5hbWVkT3BlcmF0b3JzPW5ldyBTZXQoW24uWFNEX1NUUklORyxuLlhTRF9GTE9BVCxuLlhTRF9ET1VCTEUsbi5YU0RfREVDSU1BTCxuLlhTRF9JTlRFR0VSLG4uWFNEX0RBVEVfVElNRSxuLlhTRF9EQVRFLG4uWFNEX0JPT0xFQU5dKX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL0Vycm9ycy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5Ob0V4aXN0ZW5jZUhvb2s9ZS5Ob0FnZ3JlZ2F0b3I9ZS5FeHRlbnNpb25GdW5jdGlvbkVycm9yPWUuVW5rbm93bk5hbWVkT3BlcmF0b3I9ZS5Vbmtub3duT3BlcmF0b3I9ZS5JbnZhbGlkVGVybVR5cGU9ZS5JbnZhbGlkRXhwcmVzc2lvblR5cGU9ZS5JbnZhbGlkRXhwcmVzc2lvbj1lLkludmFsaWRBcml0eT1lLlVuZXhwZWN0ZWRFcnJvcj1lLkVtcHR5QWdncmVnYXRlRXJyb3I9ZS5JbmNvbXBhdGlibGVMYW5ndWFnZU9wZXJhdGlvbj1lLkludmFsaWRUaW1lem9uZUNhbGw9ZS5DYXN0RXJyb3I9ZS5JbnZhbGlkQXJndW1lbnRUeXBlcz1lLkluRXJyb3I9ZS5Db2FsZXNjZUVycm9yPWUuUkRGRXF1YWxUeXBlRXJyb3I9ZS5FQlZDb2VyY2lvbkVycm9yPWUuVW5ib3VuZFZhcmlhYmxlRXJyb3I9ZS5JbnZhbGlkTGV4aWNhbEZvcm09ZS5pc0V4cHJlc3Npb25FcnJvcj1lLkV4cHJlc3Npb25FcnJvcj12b2lkIDA7Y2xhc3MgbiBleHRlbmRzIEVycm9ye31lLkV4cHJlc3Npb25FcnJvcj1uO2Z1bmN0aW9uIG8oWCl7cmV0dXJuIFggaW5zdGFuY2VvZiBufWUuaXNFeHByZXNzaW9uRXJyb3I9bztjbGFzcyBkIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihHKXtzdXBlcihgSW52YWxpZCBsZXhpY2FsIGZvcm0gJyR7YWUoRyl9J2ApLHRoaXMuYXJnPUd9fWUuSW52YWxpZExleGljYWxGb3JtPWQ7Y2xhc3MgaCBleHRlbmRzIG57Y29uc3RydWN0b3IoRyxyZSl7c3VwZXIoYFVuYm91bmQgdmFyaWFibGUgJyR7YWUoRyl9J2ApLHRoaXMudmFyaWFibGU9Ryx0aGlzLmJpbmRpbmdzPXJlfX1lLlVuYm91bmRWYXJpYWJsZUVycm9yPWg7Y2xhc3MgbCBleHRlbmRzIG57Y29uc3RydWN0b3IoRyl7c3VwZXIoYENhbm5vdCBjb2VyY2UgdGVybSB0byBFQlYgJyR7YWUoRyl9J2ApLHRoaXMuYXJnPUd9fWUuRUJWQ29lcmNpb25FcnJvcj1sO2NsYXNzIHUgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKEcpe3N1cGVyKCJFcXVhbGl0eSB0ZXN0IGZvciBsaXRlcmFscyB3aXRoIHVuc3VwcG9ydGVkIGRhdGF0eXBlcyIpLHRoaXMuYXJncz1HfX1lLlJERkVxdWFsVHlwZUVycm9yPXU7Y2xhc3MgcCBleHRlbmRzIG57Y29uc3RydWN0b3IoRyl7c3VwZXIoIkFsbCBDT0FMRVNDRSBhcmd1bWVudHMgdGhyZXcgZXJyb3JzIiksdGhpcy5lcnJvcnM9R319ZS5Db2FsZXNjZUVycm9yPXA7Y2xhc3MgZyBleHRlbmRzIG57Y29uc3RydWN0b3IoRyl7c3VwZXIoYFNvbWUgYXJndW1lbnQgdG8gSU4gZXJyb3JyZWQgYW5kIG5vbmUgd2hlcmUgZXF1YWwuICR7Ry5tYXAocmU9PmAoJHtyZS50b1N0cmluZygpfSkgYCkuam9pbigiYW5kICIpfWApLHRoaXMuZXJyb3JzPUd9fWUuSW5FcnJvcj1nO2NsYXNzIHYgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKEcscmUpe3N1cGVyKGBBcmd1bWVudCB0eXBlcyBub3QgdmFsaWQgZm9yIG9wZXJhdG9yOiAnJHthZShyZSl9JyB3aXRoICcke2FlKEcpfWApLHRoaXMuYXJncz1HLHRoaXMub3A9cmV9fWUuSW52YWxpZEFyZ3VtZW50VHlwZXM9djtjbGFzcyBiIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihHLHJlKXtzdXBlcihgSW52YWxpZCBjYXN0OiAnJHthZShHKX0nIHRvICcke2FlKHJlKX0nYCksdGhpcy5hcmc9R319ZS5DYXN0RXJyb3I9YjtjbGFzcyBfIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihHKXtzdXBlcihgVElNRVpPTkUgY2FsbCBvbiAke0d9IHdoaWNoIGhhcyBubyB0aW1lem9uZWApLHRoaXMuZGF0ZVN0cmluZz1HfX1lLkludmFsaWRUaW1lem9uZUNhbGw9XztjbGFzcyBPIGV4dGVuZHMgbntjb25zdHJ1Y3RvcihHLHJlKXtzdXBlcihgT3BlcmF0aW9uIG9uIGluY29tcGF0aWJsZSBsYW5ndWFnZSBsaXRlcmFscyAnJHthZShHKX0nIGFuZCAnJHthZShyZSl9J2ApLHRoaXMuYXJnMT1HLHRoaXMuYXJnMj1yZX19ZS5JbmNvbXBhdGlibGVMYW5ndWFnZU9wZXJhdGlvbj1PO2NsYXNzIFQgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKCl7c3VwZXIoIkVtcHR5IGFnZ3JlZ2F0ZSBleHByZXNzaW9uIil9fWUuRW1wdHlBZ2dyZWdhdGVFcnJvcj1UO2NsYXNzIFMgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHLHJlKXtzdXBlcihgUHJvZ3JhbW1lciBFcnJvciAnJHtHfSdgKSx0aGlzLnBheWxvYWQ9cmV9fWUuVW5leHBlY3RlZEVycm9yPVM7Y2xhc3MgTiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKEcscmUpe3N1cGVyKGBUaGUgbnVtYmVyIG9mIGFyZ3MgZG9lcyBub3QgbWF0Y2ggdGhlIGFyaXR5IG9mIHRoZSBvcGVyYXRvciAnJHthZShyZSl9Jy5gKSx0aGlzLmFyZ3M9Ryx0aGlzLm9wPXJlfX1lLkludmFsaWRBcml0eT1OO2NsYXNzIEIgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHKXtzdXBlcihgSW52YWxpZCBTUEFSUUwgRXhwcmVzc2lvbiAnJHthZShHKX0nYCl9fWUuSW52YWxpZEV4cHJlc3Npb249QjtjbGFzcyBMIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoRyl7c3VwZXIoYEludmFsaWQgZXhwcmVzc2lvbiB0eXBlIGZvciBTUEFSUUwgRXhwcmVzc2lvbiAnJHthZShHKX0nYCksdGhpcy5leHByPUd9fWUuSW52YWxpZEV4cHJlc3Npb25UeXBlPUw7Y2xhc3MgQyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKEcpe3N1cGVyKGBJbnZhbGlkIHRlcm0gdHlwZSBmb3IgdGVybSAnJHthZShHKX0nYCksdGhpcy50ZXJtPUd9fWUuSW52YWxpZFRlcm1UeXBlPUM7Y2xhc3MgaiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKEcpe3N1cGVyKGBVbmtub3duIG9wZXJhdG9yOiAnJHthZShHKX1gKX19ZS5Vbmtub3duT3BlcmF0b3I9ajtjbGFzcyBQIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoRyl7c3VwZXIoYFVua25vd24gbmFtZWQgb3BlcmF0b3I6ICcke2FlKEcpfSdgKX19ZS5Vbmtub3duTmFtZWRPcGVyYXRvcj1QO2NsYXNzIEYgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHLHJlKXtyZSBpbnN0YW5jZW9mIEVycm9yP3N1cGVyKGBFcnJvciB0aHJvd24gaW4gJHtHfTogJHtyZS5tZXNzYWdlfSR7cmUuc3RhY2s/YAoke3JlLnN0YWNrfWA6IiJ9YCk6c3VwZXIoYEVycm9yIHRocm93biBpbiAke0d9YCl9fWUuRXh0ZW5zaW9uRnVuY3Rpb25FcnJvcj1GO2NsYXNzIGsgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihHKXtzdXBlcihgQWdncmVnYXRlIGV4cHJlc3Npb24gJHthZShHKX0gZm91bmQsIGJ1dCBubyBhZ2dyZWdhdGUgaG9vayBwcm92aWRlZC5gKX19ZS5Ob0FnZ3JlZ2F0b3I9aztjbGFzcyBKIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlcigiRVhJU1RTIGZvdW5kLCBidXQgbm8gZXhpc3RlbmNlIGhvb2sgcHJvdmlkZWQuIil9fWUuTm9FeGlzdGVuY2VIb29rPUo7ZnVuY3Rpb24gYWUoWCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KFgpfX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL09yZGVyaW5nLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUub3JkZXJUeXBlcz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdHJhbnNmb3JtZXJzL1Rlcm1UcmFuc2Zvcm1lci5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvQ29uc3RzLmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9UeXBlSGFuZGxpbmcuanMiKTtmdW5jdGlvbiB1KGIsXyxPLFQsUyxOKXtyZXR1cm4gYj09PV8/MDpiPT09dm9pZCAwP08/LTE6MTpfPT09dm9pZCAwP08/MTotMTpiLmVxdWFscyhfKT8wOnAoYixfLFQsUyk9PT1PPy0xOjF9ZS5vcmRlclR5cGVzPXU7ZnVuY3Rpb24gcChiLF8sTyxULFMpe3JldHVybiBiLnRlcm1UeXBlIT09Xy50ZXJtVHlwZT92W2IudGVybVR5cGVdPHZbXy50ZXJtVHlwZV06Yi50ZXJtVHlwZT09PSJMaXRlcmFsIj9nKGIsXyxPLFQpOmIudmFsdWU8Xy52YWx1ZX1mdW5jdGlvbiBnKGIsXyxPLFQpe2NvbnN0IFM9e2Rpc2NvdmVyZXI6T3x8KCgpPT4idGVybSIpLGNhY2hlOlR8fG5ldyBvfSxOPW5ldyBkLlRlcm1UcmFuc2Zvcm1lcihTKSxCPU4udHJhbnNmb3JtTGl0ZXJhbChiKSxMPU4udHJhbnNmb3JtTGl0ZXJhbChfKSxDPUIuZGF0YVR5cGUsaj1MLmRhdGFUeXBlLFA9KDAsbC5nZXRTdXBlclR5cGVEaWN0KShDLFMpLEY9KDAsbC5nZXRTdXBlclR5cGVEaWN0KShqLFMpO3JldHVybiBoLlR5cGVVUkwuWFNEX0JPT0xFQU4gaW4gUCYmaC5UeXBlVVJMLlhTRF9CT09MRUFOIGluIEZ8fGguVHlwZVVSTC5YU0RfREFURV9USU1FIGluIFAmJmguVHlwZVVSTC5YU0RfREFURV9USU1FIGluIEZ8fGguVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDIGluIFAmJmguVHlwZUFsaWFzLlNQQVJRTF9OVU1FUklDIGluIEZ8fGguVHlwZVVSTC5YU0RfU1RSSU5HIGluIFAmJmguVHlwZVVSTC5YU0RfU1RSSU5HIGluIEY/Qi50eXBlZFZhbHVlPEwudHlwZWRWYWx1ZTpoLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HIGluIFAmJmguVHlwZVVSTC5SREZfTEFOR19TVFJJTkcgaW4gRj9CLnR5cGVkVmFsdWU8TC50eXBlZFZhbHVlfHxCLnR5cGVkVmFsdWU9PT1MLnR5cGVkVmFsdWUmJkIubGFuZ3VhZ2U8TC5sYW5ndWFnZTpDPGp8fEIuZGF0YVR5cGU9PT1MLmRhdGFUeXBlJiZCLnN0cigpPEwuc3RyKCl9Y29uc3Qgdj17VmFyaWFibGU6MCxCbGFua05vZGU6MSxOYW1lZE5vZGU6MixMaXRlcmFsOjMsUXVhZDo0LERlZmF1bHRHcmFwaDo1fX0sIi4uL25vZGVfbW9kdWxlcy9zcGFycWxlZS9kaXN0L2xpYi91dGlsL1BhcnNpbmcuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUucGFyc2VYU0REYXRlVGltZT1lLnBhcnNlWFNESW50ZWdlcj1lLnBhcnNlWFNERGVjaW1hbD1lLnBhcnNlWFNERmxvYXQ9dm9pZCAwO2Z1bmN0aW9uIG4obCl7Y29uc3QgdT1OdW1iZXIobCk7cmV0dXJuIE51bWJlci5pc05hTih1KT9sPT09Ik5hTiI/TnVtYmVyLk5hTjpsPT09IklORiJ8fGw9PT0iK0lORiI/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOmw9PT0iLUlORiI/TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZOnZvaWQgMDp1fWUucGFyc2VYU0RGbG9hdD1uO2Z1bmN0aW9uIG8obCl7Y29uc3QgdT1OdW1iZXIobCk7cmV0dXJuIE51bWJlci5pc05hTih1KT92b2lkIDA6dX1lLnBhcnNlWFNERGVjaW1hbD1vO2Z1bmN0aW9uIGQobCl7Y29uc3QgdT1OdW1iZXIucGFyc2VJbnQobCwxMCk7cmV0dXJuIE51bWJlci5pc05hTih1KT92b2lkIDA6dX1lLnBhcnNlWFNESW50ZWdlcj1kO2Z1bmN0aW9uIGgobCl7Y29uc3QgdT1sLmluZGV4T2YoIlQiKSxwPXU+PTA/bC5zbGljZSgwLE1hdGgubWF4KDAsdSkpOmwsW2csdixiXT1wLnNwbGl0KCItIik7bGV0IF89IjAwIixPPSIwMCIsVD0iMDAiLFM9IiI7aWYodT49MCl7Y29uc3QgTj1sLnNsaWNlKHUrMSksW0IsTF09Ti5zcGxpdCgvWytaLV0vdSk7W18sTyxUXT1CLnNwbGl0KCI6Iik7Y29uc3QgQz0vKFsrWi1dLiopL3UuZXhlYyhOKTtTPUM/Q1swXToiIn1yZXR1cm57eWVhcjpnLG1vbnRoOnYsZGF5OmIsaG91cnM6XyxtaW51dGVzOk8sc2Vjb25kczpULHRpbWV6b25lOlN9fWUucGFyc2VYU0REYXRlVGltZT1ofSwiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL3V0aWwvVHlwZUhhbmRsaW5nLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaXNTdWJUeXBlT2Y9ZS5nZXRTdXBlclR5cGVEaWN0PWUuaXNJbnRlcm5hbFN1YlR5cGU9ZS5hc0dlbmVyYWxUeXBlPWUuYXNPdmVycmlkZVR5cGU9ZS5hc0tub3duTGl0ZXJhbFR5cGU9ZS5hc1R5cGVBbGlhcz1lLnR5cGVBbGlhc0NoZWNrPWUuZXh0ZW5zaW9uVGFibGVJbml0PWUuZ2V0U3VwZXJUeXBlcz1lLnN1cGVyVHlwZURpY3RUYWJsZT1lLmV4dGVuc2lvblRhYmxlSW5wdXQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3NwYXJxbGVlL2Rpc3QvbGliL2V4cHJlc3Npb25zL2luZGV4LmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvc3BhcnFsZWUvZGlzdC9saWIvdXRpbC9Db25zdHMuanMiKTtlLmV4dGVuc2lvblRhYmxlSW5wdXQ9e1tkLlR5cGVVUkwuWFNEX0RBVEVfVElNRV9TVEFNUF06ZC5UeXBlVVJMLlhTRF9EQVRFX1RJTUUsW2QuVHlwZVVSTC5YU0RfREFZVElNRV9EVVJBVElPTl06ZC5UeXBlVVJMLlhTRF9EVVJBVElPTixbZC5UeXBlVVJMLlhTRF9ZRUFSX01PTlRIX0RVUkFUSU9OXTpkLlR5cGVVUkwuWFNEX0RVUkFUSU9OLFtkLlR5cGVVUkwuUkRGX0xBTkdfU1RSSU5HXTpkLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFksW2QuVHlwZVVSTC5YU0RfU1RSSU5HXTpkLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFksW2QuVHlwZVVSTC5YU0RfTk9STUFMSVpFRF9TVFJJTkddOmQuVHlwZVVSTC5YU0RfU1RSSU5HLFtkLlR5cGVVUkwuWFNEX1RPS0VOXTpkLlR5cGVVUkwuWFNEX05PUk1BTElaRURfU1RSSU5HLFtkLlR5cGVVUkwuWFNEX0xBTkdVQUdFXTpkLlR5cGVVUkwuWFNEX1RPS0VOLFtkLlR5cGVVUkwuWFNEX05NX1RPS0VOXTpkLlR5cGVVUkwuWFNEX1RPS0VOLFtkLlR5cGVVUkwuWFNEX05BTUVdOmQuVHlwZVVSTC5YU0RfVE9LRU4sW2QuVHlwZVVSTC5YU0RfTkNfTkFNRV06ZC5UeXBlVVJMLlhTRF9OQU1FLFtkLlR5cGVVUkwuWFNEX0VOVElUWV06ZC5UeXBlVVJMLlhTRF9OQ19OQU1FLFtkLlR5cGVVUkwuWFNEX0lEXTpkLlR5cGVVUkwuWFNEX05DX05BTUUsW2QuVHlwZVVSTC5YU0RfSURfUkVGXTpkLlR5cGVVUkwuWFNEX05DX05BTUUsW2QuVHlwZVVSTC5YU0RfRE9VQkxFXTpkLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQyxbZC5UeXBlVVJMLlhTRF9GTE9BVF06ZC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUMsW2QuVHlwZVVSTC5YU0RfREVDSU1BTF06ZC5UeXBlQWxpYXMuU1BBUlFMX05VTUVSSUMsW2QuVHlwZVVSTC5YU0RfSU5URUdFUl06ZC5UeXBlVVJMLlhTRF9ERUNJTUFMLFtkLlR5cGVVUkwuWFNEX05PTl9QT1NJVElWRV9JTlRFR0VSXTpkLlR5cGVVUkwuWFNEX0lOVEVHRVIsW2QuVHlwZVVSTC5YU0RfTkVHQVRJVkVfSU5URUdFUl06ZC5UeXBlVVJMLlhTRF9OT05fUE9TSVRJVkVfSU5URUdFUixbZC5UeXBlVVJMLlhTRF9MT05HXTpkLlR5cGVVUkwuWFNEX0lOVEVHRVIsW2QuVHlwZVVSTC5YU0RfSU5UXTpkLlR5cGVVUkwuWFNEX0xPTkcsW2QuVHlwZVVSTC5YU0RfU0hPUlRdOmQuVHlwZVVSTC5YU0RfSU5ULFtkLlR5cGVVUkwuWFNEX0JZVEVdOmQuVHlwZVVSTC5YU0RfU0hPUlQsW2QuVHlwZVVSTC5YU0RfTk9OX05FR0FUSVZFX0lOVEVHRVJdOmQuVHlwZVVSTC5YU0RfSU5URUdFUixbZC5UeXBlVVJMLlhTRF9QT1NJVElWRV9JTlRFR0VSXTpkLlR5cGVVUkwuWFNEX05PTl9ORUdBVElWRV9JTlRFR0VSLFtkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX0xPTkddOmQuVHlwZVVSTC5YU0RfTk9OX05FR0FUSVZFX0lOVEVHRVIsW2QuVHlwZVVSTC5YU0RfVU5TSUdORURfSU5UXTpkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX0xPTkcsW2QuVHlwZVVSTC5YU0RfVU5TSUdORURfU0hPUlRdOmQuVHlwZVVSTC5YU0RfVU5TSUdORURfSU5ULFtkLlR5cGVVUkwuWFNEX1VOU0lHTkVEX0JZVEVdOmQuVHlwZVVSTC5YU0RfVU5TSUdORURfU0hPUlQsW2QuVHlwZVVSTC5YU0RfREFURV9USU1FXToidGVybSIsW2QuVHlwZVVSTC5YU0RfQk9PTEVBTl06InRlcm0iLFtkLlR5cGVVUkwuWFNEX0RBVEVdOiJ0ZXJtIixbZC5UeXBlVVJMLlhTRF9EVVJBVElPTl06InRlcm0iLFtkLlR5cGVBbGlhcy5TUEFSUUxfTlVNRVJJQ106InRlcm0iLFtkLlR5cGVBbGlhcy5TUEFSUUxfU1RSSU5HTFldOiJ0ZXJtIixbZC5UeXBlQWxpYXMuU1BBUlFMX05PTl9MRVhJQ0FMXToidGVybSIsW2QuVHlwZVVSTC5YU0RfQU5ZX1VSSV06InRlcm0ifTtmdW5jdGlvbiBoKE4sQil7Y29uc3QgTD1CLmNhY2hlLmdldChOKTtpZihMKXJldHVybiBMO2NvbnN0IEM9Qi5kaXNjb3ZlcmVyKE4pO2lmKEM9PT0idGVybSIpe2NvbnN0IEY9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gRi5fX2RlcHRoPTAsRltOXT0wLEIuY2FjaGUuc2V0KE4sRiksRn1sZXQgajtjb25zdCBQPXYoQyk7cmV0dXJuIFA/aj1PYmplY3QuYXNzaWduKHt9LGUuc3VwZXJUeXBlRGljdFRhYmxlW1BdKTpqPU9iamVjdC5hc3NpZ24oe30saChDLEIpKSxqLl9fZGVwdGgrKyxqW05dPWouX19kZXB0aCxCLmNhY2hlLnNldChOLGopLGp9ZS5nZXRTdXBlclR5cGVzPWg7ZnVuY3Rpb24gbCgpe2NvbnN0IE49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3RbQixMXW9mIE9iamVjdC5lbnRyaWVzKGUuZXh0ZW5zaW9uVGFibGVJbnB1dCkpe2NvbnN0IEM9QjtOW0NdfHx1KEMsTCxOKX1lLnN1cGVyVHlwZURpY3RUYWJsZT1OfWUuZXh0ZW5zaW9uVGFibGVJbml0PWwsbCgpO2Z1bmN0aW9uIHUoTixCLEwpe2lmKEI9PT0idGVybSJ8fEI9PT12b2lkIDApe2NvbnN0IEM9T2JqZWN0LmNyZWF0ZShudWxsKTtDLl9fZGVwdGg9MCxDW05dPTAsTFtOXT1DO3JldHVybn1MW0JdfHx1KEIsZS5leHRlbnNpb25UYWJsZUlucHV0W0JdLEwpLExbTl09T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LExbQl0pLHtbTl06TFtCXS5fX2RlcHRoKzEsX19kZXB0aDpMW0JdLl9fZGVwdGgrMX0pfWZ1bmN0aW9uIHAoKXtlLnR5cGVBbGlhc0NoZWNrPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IE4gb2YgT2JqZWN0LnZhbHVlcyhkLlR5cGVBbGlhcykpZS50eXBlQWxpYXNDaGVja1tOXT0hMH1wKCk7ZnVuY3Rpb24gZyhOKXtpZihOIGluIGUudHlwZUFsaWFzQ2hlY2spcmV0dXJuIE59ZS5hc1R5cGVBbGlhcz1nO2Z1bmN0aW9uIHYoTil7aWYoTiBpbiBlLnN1cGVyVHlwZURpY3RUYWJsZSlyZXR1cm4gTn1lLmFzS25vd25MaXRlcmFsVHlwZT12O2Z1bmN0aW9uIGIoTil7aWYodihOKXx8Tj09PSJ0ZXJtIilyZXR1cm4gTn1lLmFzT3ZlcnJpZGVUeXBlPWI7ZnVuY3Rpb24gXyhOKXtpZihOPT09InRlcm0ifHwoMCxvLmFzVGVybVR5cGUpKE4pKXJldHVybiBOfWUuYXNHZW5lcmFsVHlwZT1fO2Z1bmN0aW9uIE8oTixCKXtyZXR1cm4gTiE9PSJ0ZXJtIiYmZS5zdXBlclR5cGVEaWN0VGFibGVbTl0mJmUuc3VwZXJUeXBlRGljdFRhYmxlW05dW0JdIT09dm9pZCAwfWUuaXNJbnRlcm5hbFN1YlR5cGU9TztmdW5jdGlvbiBUKE4sQil7Y29uc3QgTD12KE4pO3JldHVybiBMP2Uuc3VwZXJUeXBlRGljdFRhYmxlW0xdOmgoTixCKX1lLmdldFN1cGVyVHlwZURpY3Q9VDtmdW5jdGlvbiBTKE4sQixMKXtyZXR1cm4gTj09PSJ0ZXJtIj8hMTpUKE4sTClbQl0hPT12b2lkIDB9ZS5pc1N1YlR5cGVPZj1TfSwiLi4vbm9kZV9tb2R1bGVzL3N0cmVhbS10by1zdHJpbmcvaW5kZXguanMiOih0LGUsbik9Pnt2YXIgbz1uKCIuL3JlcXVpcmUtZW1wdHkuanMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZCxoLGwpe3R5cGVvZiBoPT0iZnVuY3Rpb24iJiYobD1oLGg9bnVsbCksbD1sfHxmdW5jdGlvbigpe307dmFyIHU9IiI7cmV0dXJuIG5ldyBvKGZ1bmN0aW9uKHAsZyl7ZC5vbigiZGF0YSIsZnVuY3Rpb24odil7dSs9dHlwZW9mIGg9PSJzdHJpbmciP3YudG9TdHJpbmcoaCk6di50b1N0cmluZygpfSksZC5vbigiZW5kIixmdW5jdGlvbigpe3AodSksbChudWxsLHUpfSksZC5vbigiZXJyb3IiLGZ1bmN0aW9uKHYpe2codiksbCh2KX0pfSl9fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2VtcHR5LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZW1wdHk9dm9pZCAwO2NvbnN0IGQ9e25vZGU6bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9pbmRleC5qcyIpLkVNUFRZLHNpemU6MH07ZnVuY3Rpb24gaCgpe3JldHVybiBkfWUuZW1wdHk9aH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9lbnRyaWVzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZW50cmllcz12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pbmRleC5qcyIpO2Z1bmN0aW9uIGQobCl7cmV0dXJuKDAsby5pdGVyYXRvcikoKDAsby5nZXROb2RlKShsKSxoKX1lLmVudHJpZXM9ZDtmdW5jdGlvbiBoKGwpe3JldHVybltsLmtleSxsLnZhbHVlXX19LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZmlsdGVyLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZmlsdGVyPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9lbXB0eS5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3JlZHVjZS5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3NldC5qcyIpLGw9ZnVuY3Rpb24ocCxnKXtyZXR1cm4oMCxkLnJlZHVjZSkoZnVuY3Rpb24odixiLF8pe3JldHVybiBwKGIsXyk/KDAsaC5zZXQpKF8sYix2KTp2fSwoMCxvLmVtcHR5KSgpLGcpfTtlLmZpbHRlcj1sfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2ZvckVhY2guanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5mb3JFYWNoPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9yZWR1Y2UuanMiKSxkPWZ1bmN0aW9uKGwsdSl7cmV0dXJuKDAsby5yZWR1Y2UpKChwLGcsdik9PmwoZyx2KSxudWxsLHUpLHV9O2UuZm9yRWFjaD1kfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2Zyb20uanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5mcm9tT2JqZWN0PWUuZnJvbUl0ZXJhYmxlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9lbXB0eS5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3NldC5qcyIpO2Z1bmN0aW9uIGgodSl7bGV0IHA9KDAsby5lbXB0eSkoKTtmb3IoY29uc3RbZyx2XW9mIHUpcD0oMCxkLnNldCkoZyx2LHApO3JldHVybiBwfWUuZnJvbUl0ZXJhYmxlPWg7ZnVuY3Rpb24gbCh1KXtsZXQgcD0oMCxvLmVtcHR5KSgpO2ZvcihsZXQgZyBpbiB1KXUuaGFzT3duUHJvcGVydHkoZykmJihwPSgwLGQuc2V0KShnLHVbZ10scCkpO3JldHVybiBwfWUuZnJvbU9iamVjdD1sfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2dldC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmdldD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pbmRleC5qcyIpO2Z1bmN0aW9uIGQoaCxsLHUpe2NvbnN0IHA9KDAsby5maW5kSGFzaCkoaCk7cmV0dXJuKDAsby5nZXRIYXNoKSh2b2lkIDAscCxoLGwsdSl9ZS5nZXQ9ZH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9oYXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5oYXM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvaW5kZXguanMiKTtmdW5jdGlvbiBoKGwsdSxwKXtjb25zdCBnPSgwLG8uZmluZEhhc2gpKGwpO3JldHVybigwLG8uZ2V0SGFzaCkoZC5OT1RISU5HLGcsbCx1LHApIT09ZC5OT1RISU5HfWUuaGFzPWh9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAva2V5cy5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmtleXM9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaW5kZXguanMiKTtmdW5jdGlvbiBkKGwpe3JldHVybigwLG8uaXRlcmF0b3IpKCgwLG8uZ2V0Tm9kZSkobCksaCl9ZS5rZXlzPWQ7ZnVuY3Rpb24gaChsKXtyZXR1cm4gbC5rZXl9fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL21hcC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm1hcD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZW1wdHkuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9yZWR1Y2UuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9zZXQuanMiKSxsPWZ1bmN0aW9uKHAsZyl7cmV0dXJuKDAsZC5yZWR1Y2UpKGZ1bmN0aW9uKHYsYixfKXtyZXR1cm4oMCxoLnNldCkoXyxwKGIsXyksdil9LCgwLG8uZW1wdHkpKCksZyl9O2UubWFwPWx9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9maW5kSGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmZpbmRIYXNoPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIik7ZnVuY3Rpb24gZChoKXtyZXR1cm4gdHlwZW9mIGg9PSJudW1iZXIiP2g6dHlwZW9mIGg9PSJzdHJpbmciPygwLG8uc3RyaW5nSGFzaCkoaCk6TWF0aC5hYnMoKDAsby5zdHJpbmdIYXNoKShKU09OLnN0cmluZ2lmeShoKSkpfWUuZmluZEhhc2g9ZH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2ZvbGQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5mb2xkPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldE5vZGUuanMiKTtmdW5jdGlvbiBkKGgsbCx1KXtjb25zdCBwPSgwLG8uZ2V0Tm9kZSkodSk7aWYocC50eXBlPT09MClyZXR1cm4gbDtpZihwLnR5cGU9PT0xKXJldHVybiBoKGwscC52YWx1ZSxwLmtleSk7Y29uc3QgZz1bcC5jaGlsZHJlbl07bGV0IHY7Zm9yKDt2PWcuc2hpZnQoKTspZm9yKGxldCBiPTA7Yjx2Lmxlbmd0aDsrK2Ipe2NvbnN0IF89dltiXTtfJiZfLnR5cGUhPT0wJiYoXy50eXBlPT09MT9sPWgobCxfLnZhbHVlLF8ua2V5KTpnLnB1c2goXy5jaGlsZHJlbikpfXJldHVybiBsfWUuZm9sZD1kfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZ2V0SGFzaC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmdldEhhc2g9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vaW5kZXguanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldE5vZGUuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2tleUVxdWFscy5qcyIpO2Z1bmN0aW9uIGwodSxwLGcsdixiPWguZGVmYXVsdEtleUVxdWFscyl7bGV0IF89KDAsZC5nZXROb2RlKSh2KSxPPTA7Zm9yKDs7KXN3aXRjaChfLnR5cGUpe2Nhc2UgMTpyZXR1cm4gYihnLF8ua2V5KT9fLnZhbHVlOnU7Y2FzZSAyOmlmKHA9PT1fLmhhc2gpe2NvbnN0IFQ9Xy5jaGlsZHJlbjtmb3IobGV0IFM9MDtTPFQubGVuZ3RoOysrUyl7Y29uc3QgTj1UW1NdO2lmKGIoZyxOLmtleSkpcmV0dXJuIE4udmFsdWV9cmV0dXJuIHV9Y2FzZSAzOntjb25zdCBUPSgwLG8uaGFzaEZyYWdtZW50KShPLHApLFM9KDAsby50b0JpdG1hcCkoVCk7aWYoXy5tYXNrJlMpe2NvbnN0IE49KDAsby5iaXRtYXBUb0luZGV4KShfLm1hc2ssUyk7Xz1fLmNoaWxkcmVuW05dLE8rPW8uU0laRTticmVha31yZXR1cm4gdX1jYXNlIDQ6e2lmKF89Xy5jaGlsZHJlblsoMCxvLmhhc2hGcmFnbWVudCkoTyxwKV0sXyl7Tys9by5TSVpFO2JyZWFrfXJldHVybiB1fWRlZmF1bHQ6cmV0dXJuIHV9fWUuZ2V0SGFzaD1sfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZ2V0Tm9kZS5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5nZXROb2RlPXZvaWQgMDtmdW5jdGlvbiBuKG8pe3JldHVybiBvLm5vZGV9ZS5nZXROb2RlPW59LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9nZXRTaXplLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmdldFNpemU9dm9pZCAwO2Z1bmN0aW9uIG4obyl7cmV0dXJuIG8uc2l6ZX1lLmdldFNpemU9bn0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZ2V0SGFzaC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZ2V0Tm9kZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvc2V0VHJlZS5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvc2V0S2V5VmFsdWUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2ZpbmRIYXNoLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pdGVyYXRlTWFwLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9mb2xkLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9rZXlFcXVhbHMuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2l0ZXJhdGVNYXAuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuaXRlcmF0b3I9dm9pZCAwO2Z1bmN0aW9uIG4ocCxnKXtyZXR1cm4gbmV3IG8oaChwLGcsW10pKX1lLml0ZXJhdG9yPW47Y2xhc3Mgb3tfaXRlcmF0ZTtjb25zdHJ1Y3RvcihnKXt0aGlzLl9pdGVyYXRlPWd9bmV4dCgpe2lmKCF0aGlzLl9pdGVyYXRlKXJldHVybntkb25lOiEwLHZhbHVlOm51bGx9O2NvbnN0e3ZhbHVlOmcscmVzdDp2fT10aGlzLl9pdGVyYXRlO3JldHVybiB0aGlzLl9pdGVyYXRlPWQodikse2RvbmU6ITEsdmFsdWU6Z319W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpc319Y29uc3QgZD1wPT5wJiZsKHBbMF0scFsxXSxwWzJdLHBbM10scFs0XSk7ZnVuY3Rpb24gaChwLGcsdil7c3dpdGNoKHAudHlwZSl7Y2FzZSAxOnJldHVybnt2YWx1ZTpnKHApLHJlc3Q6dn07Y2FzZSAyOmNhc2UgNDpjYXNlIDM6Y29uc3QgYj1wLmNoaWxkcmVuO3JldHVybiBsKGIubGVuZ3RoLGIsMCxnLHYpO2RlZmF1bHQ6cmV0dXJuIGQodil9fWZ1bmN0aW9uIGwocCxnLHYsYixfKXtmb3IoO3Y8cDspe2NvbnN0IE89Z1t2KytdO2lmKE8mJnUoTykpcmV0dXJuIGgoTyxiLFtwLGcsdixiLF9dKX1yZXR1cm4gZChfKX1mdW5jdGlvbiB1KHApe3JldHVybiBwJiZwLnR5cGUhPT0wfX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2tleUVxdWFscy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kZWZhdWx0S2V5RXF1YWxzPXZvaWQgMDtjb25zdCBuPShvLGQpPT5vPT09ZDtlLmRlZmF1bHRLZXlFcXVhbHM9bn0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL3NldEtleVZhbHVlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuc2V0S2V5VmFsdWU9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvZmluZEhhc2guanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldE5vZGUuanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldFNpemUuanMiKSx1PW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL3NldFRyZWUuanMiKSxwPXY9PigpPT52O2Z1bmN0aW9uIGcodixiLF8pe2NvbnN0IE89KDAsZC5maW5kSGFzaCkodiksVD17dmFsdWU6KDAsbC5nZXRTaXplKShfKX0sUz0oMCxvLm1vZGlmeSkoKDAsaC5nZXROb2RlKShfKSwwLHAoYiksTyx2LFQpO3JldHVybigwLHUuc2V0VHJlZSkoUyxULnZhbHVlLF8pfWUuc2V0S2V5VmFsdWU9Z30sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL3NldFRyZWUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5zZXRUcmVlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldE5vZGUuanMiKTtmdW5jdGlvbiBkKGgsbCx1KXtyZXR1cm4gaD09PSgwLG8uZ2V0Tm9kZSkodSk/dTp7bm9kZTpoLHNpemU6bH19ZS5zZXRUcmVlPWR9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcmVkdWNlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUucmVkdWNlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2luZGV4LmpzIik7ZS5yZWR1Y2U9by5mb2xkfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3JlbW92ZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnJlbW92ZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvcHJpbWl0aXZlcy9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiKTtmdW5jdGlvbiBoKGwsdSl7cmV0dXJuKDAsby5zZXRLZXlWYWx1ZSkobCxkLk5PVEhJTkcsdSl9ZS5yZW1vdmU9aH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9zZXQuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5zZXQ9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3ByaW1pdGl2ZXMvaW5kZXguanMiKTtlLnNldD1vLnNldEtleVZhbHVlfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3NpemUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5zaXplPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2dldFNpemUuanMiKTtmdW5jdGlvbiBkKGgpe3JldHVybigwLG8uZ2V0U2l6ZSkoaCl9ZS5zaXplPWR9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvdmFsdWVzLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUudmFsdWVzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9wcmltaXRpdmVzL2luZGV4LmpzIik7ZnVuY3Rpb24gZChsKXtyZXR1cm4oMCxvLml0ZXJhdG9yKSgoMCxvLmdldE5vZGUpKGwpLGgpfWUudmFsdWVzPWQ7ZnVuY3Rpb24gaChsKXtyZXR1cm4gbC52YWx1ZX19LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9hcnJheS1vcGVyYXRpb25zLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmluc2VydD1lLnJlbW92ZT1lLnJlcGxhY2U9dm9pZCAwO2Z1bmN0aW9uIG4oaCxsLHUpe2NvbnN0IHA9dS5sZW5ndGgsZz1BcnJheShwKTtmb3IobGV0IHY9MDt2PHA7Kyt2KWdbdl09dVt2XTtyZXR1cm4gZ1toXT1sLGd9ZS5yZXBsYWNlPW47ZnVuY3Rpb24gbyhoLGwpe2NvbnN0IHU9bC5sZW5ndGg7aWYodT09PTB8fGg+PXUpcmV0dXJuIGw7aWYodT09PTEpcmV0dXJuW107Y29uc3QgcD1BcnJheSh1LTEpO2xldCBnPTA7Zm9yKDtnPGg7KytnKXBbZ109bFtnXTtmb3IoZz1nKzE7Zzx1OysrZylwW2ctMV09bFtnXTtyZXR1cm4gcH1lLnJlbW92ZT1vO2Z1bmN0aW9uIGQoaCxsLHUpe2NvbnN0IHA9dS5sZW5ndGgsZz1BcnJheShwKzEpO2xldCB2PTA7Zm9yKDt2PGg7Kyt2KWdbdl09dVt2XTtmb3IoZ1t2KytdPWw7djxwKzE7Kyt2KWdbdl09dVt2LTFdO3JldHVybiBnfWUuaW5zZXJ0PWR9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9iaXR3aXNlLW9wZXJhdGlvbnMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5iaXRtYXBUb0luZGV4PWUudG9CaXRtYXA9ZS5oYXNoRnJhZ21lbnQ9ZS5oYW1taW5nV2VpZ2h0PXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2NvbnN0YW50cy5qcyIpO2Z1bmN0aW9uIGQocCl7cmV0dXJuIHA9cC0ocD4+MSYxNDMxNjU1NzY1KSxwPShwJjg1ODk5MzQ1OSkrKHA+PjImODU4OTkzNDU5KSwocCsocD4+NCkmMjUyNjQ1MTM1KSoxNjg0MzAwOT4+MjR9ZS5oYW1taW5nV2VpZ2h0PWQ7ZnVuY3Rpb24gaChwLGcpe3JldHVybiBnPj4+cCZvLk1BU0t9ZS5oYXNoRnJhZ21lbnQ9aDtmdW5jdGlvbiBsKHApe3JldHVybiAxPDxwfWUudG9CaXRtYXA9bDtmdW5jdGlvbiB1KHAsZyl7cmV0dXJuIGQocCZnLTEpfWUuYml0bWFwVG9JbmRleD11fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vY29uc3RhbnRzLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1JTl9BUlJBWV9OT0RFPWUuTUFYX0lOREVYX05PREU9ZS5NQVNLPWUuQlVDS0VUX1NJWkU9ZS5TSVpFPXZvaWQgMCxlLlNJWkU9NSxlLkJVQ0tFVF9TSVpFPU1hdGgucG93KDIsZS5TSVpFKSxlLk1BU0s9ZS5CVUNLRVRfU0laRS0xLGUuTUFYX0lOREVYX05PREU9ZS5CVUNLRVRfU0laRS8yLGUuTUlOX0FSUkFZX05PREU9ZS5CVUNLRVRfU0laRS80fSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9hcnJheS1vcGVyYXRpb25zLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L2NvbW1vbi9iaXR3aXNlLW9wZXJhdGlvbnMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2NvbnN0YW50cy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vc3RyaW5nSGFzaC5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vc3RyaW5nSGFzaC5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5zdHJpbmdIYXNoPXZvaWQgMDtmdW5jdGlvbiBuKG8pe2xldCBkPTA7Zm9yKGxldCBoPTA7aDxvLmxlbmd0aDsrK2gpZD0oZDw8NSktZCtvLmNoYXJDb2RlQXQoaCl8MDtyZXR1cm4gZH1lLnN0cmluZ0hhc2g9bn0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQXJyYXlOb2RlL0FycmF5Tm9kZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm1vZGlmeUxpc3ROb2RlPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvRW1wdHlOb2RlLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL21vZGlmeS5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vaW5kZXguanMiKSxsPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQXJyYXlOb2RlL3RvSW5kZXhOb2RlLmpzIik7ZnVuY3Rpb24gdShnLHYsYixfLE8sVCl7Y29uc3R7c2l6ZTpTLGNoaWxkcmVuOk59PWcsQj0oMCxoLmhhc2hGcmFnbWVudCkodixfKSxMPU5bQl0sQz0oMCxkLm1vZGlmeSkoTHx8KDAsby5lbXB0eSkoKSx2K2guU0laRSxiLF8sTyxUKTtyZXR1cm4gTD09PUM/ZzpwKEwpJiYhcChDKT97dHlwZTo0LHNpemU6UysxLGNoaWxkcmVuOigwLGgucmVwbGFjZSkoQixDLE4pfTohcChMKSYmcChDKT9TLTE8PWguTUlOX0FSUkFZX05PREU/KDAsbC50b0luZGV4Tm9kZSkoUyxCLE4pOnt0eXBlOjQsc2l6ZTpTLTEsY2hpbGRyZW46KDAsaC5yZXBsYWNlKShCLCgwLG8uZW1wdHkpKCksTil9Ont0eXBlOjQsc2l6ZTpTLGNoaWxkcmVuOigwLGgucmVwbGFjZSkoQixDLE4pfX1lLm1vZGlmeUxpc3ROb2RlPXU7ZnVuY3Rpb24gcChnKXtyZXR1cm4gZyYmZy50eXBlPT09MH19LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0FycmF5Tm9kZS9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQXJyYXlOb2RlL0FycmF5Tm9kZS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9BcnJheU5vZGUvdG9JbmRleE5vZGUuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUudG9JbmRleE5vZGU9dm9pZCAwO2Z1bmN0aW9uIG4obyxkLGgpe2NvbnN0IGw9bmV3IEFycmF5KG8tMSk7bGV0IHU9MCxwPTA7Zm9yKGxldCBnPTA7ZzxoLmxlbmd0aDsrK2cpaWYoZyE9PWQpe2NvbnN0IHY9aFtnXTt2JiZ2LnR5cGU+MCYmKGxbdSsrXT12LHB8PTE8PGcpfXJldHVybnt0eXBlOjMsbWFzazpwLGNoaWxkcmVuOmx9fWUudG9JbmRleE5vZGU9bn0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQ29sbGlzaW9uTm9kZS9Db2xsaXNpb25Ob2RlLmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUubW9kaWZ5Q29sbGlzaW9uTm9kZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL2NvbnN0YW50cy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9pbmRleC5qcyIpLGg9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9Db2xsaXNpb25Ob2RlL25ld0NvbGxpc2lvbkxpc3QuanMiKTtmdW5jdGlvbiBsKHUscCxnLHYsYixfKXtpZih2PT09dS5oYXNoKXtjb25zdCBUPSgwLGgubmV3Q29sbGlzaW9uTGlzdCkodS5oYXNoLHUuY2hpbGRyZW4sZyxiLF8pO3JldHVybiBUPT09dS5jaGlsZHJlbj91OlQubGVuZ3RoPjE/e3R5cGU6MixoYXNoOnUuaGFzaCxjaGlsZHJlbjpUfTpUWzBdfWNvbnN0IE89ZygpO3JldHVybiBPPT09by5OT1RISU5HP3U6KCsrXy52YWx1ZSwoMCxkLmNvbWJpbmVMZWFmTm9kZXMpKHAsdS5oYXNoLHUsdix7dHlwZToxLGhhc2g6dixrZXk6Yix2YWx1ZTpPfSkpfWUubW9kaWZ5Q29sbGlzaW9uTm9kZT1sfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9Db2xsaXNpb25Ob2RlL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9Db2xsaXNpb25Ob2RlL0NvbGxpc2lvbk5vZGUuanMiKSxlKX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQ29sbGlzaW9uTm9kZS9uZXdDb2xsaXNpb25MaXN0LmpzIjoodCxlLG4pPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUubmV3Q29sbGlzaW9uTGlzdD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL2NvbnN0YW50cy5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vaW5kZXguanMiKTtmdW5jdGlvbiBoKGwsdSxwLGcsdil7Y29uc3QgYj11Lmxlbmd0aDtmb3IobGV0IE89MDtPPGI7KytPKXtjb25zdCBUPXVbT107aWYoVC5rZXk9PT1nKXtjb25zdCBTPVQudmFsdWUsTj1wKFMpO3JldHVybiBOPT09Uz91Ok49PT1vLk5PVEhJTkc/KC0tdi52YWx1ZSwoMCxkLnJlbW92ZSkoTyx1KSk6KDAsZC5pbnNlcnQpKE8se3R5cGU6MSxoYXNoOmwsa2V5OmcsdmFsdWU6Tn0sdSl9fWNvbnN0IF89cCgpO3JldHVybiBfPT09by5OT1RISU5HP3U6KCsrdi52YWx1ZSwoMCxkLmluc2VydCkoYix7dHlwZToxLGhhc2g6bCxrZXk6Zyx2YWx1ZTpffSx1KSl9ZS5uZXdDb2xsaXNpb25MaXN0PWh9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0VtcHR5Tm9kZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmVtcHR5PWUuRU1QVFk9ZS5tb2RpZnlFbXB0eT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL2NvbnN0YW50cy5qcyIpO2Z1bmN0aW9uIGQobCx1LHAsZyx2LGIpe2NvbnN0IF89cCh2b2lkIDApO3JldHVybiBfPT09by5OT1RISU5HP2w6KCsrYi52YWx1ZSx7dHlwZToxLGhhc2g6ZyxrZXk6dix2YWx1ZTpffSl9ZS5tb2RpZnlFbXB0eT1kLGUuRU1QVFk9e3R5cGU6MH07ZnVuY3Rpb24gaCgpe3JldHVybiBlLkVNUFRZfWUuZW1wdHk9aH0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvSW5kZXhlZE5vZGUvSW5kZXhlZE5vZGUuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tb2RpZnlJbmRleGVkTm9kZT12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0VtcHR5Tm9kZS5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9jb21tb24vaW5kZXguanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvbW9kaWZ5LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL3RvQXJyYXlOb2RlLmpzIik7ZnVuY3Rpb24gdShnLHYsYixfLE8sVCl7Y29uc3R7bWFzazpTLGNoaWxkcmVuOk59PWcsQj0oMCxkLmhhc2hGcmFnbWVudCkodixfKSxMPSgwLGQudG9CaXRtYXApKEIpLEM9KDAsZC5iaXRtYXBUb0luZGV4KShTLEwpLGo9ISEoUyZMKSxQPWo/TltDXTooMCxvLmVtcHR5KSgpLEY9KDAsaC5tb2RpZnkpKFAsditkLlNJWkUsYixfLE8sVCk7aWYoUD09PUYpcmV0dXJuIGc7aWYoaiYmRi50eXBlPT09MCl7Y29uc3Qgaz1TJn5MO3JldHVybiBrP04ubGVuZ3RoPD0yJiZwKE5bQ14xXSk/TltDXjFdOnt0eXBlOjMsbWFzazprLGNoaWxkcmVuOigwLGQucmVtb3ZlKShDLE4pfTooMCxvLmVtcHR5KSgpfXJldHVybiFqJiZGLnR5cGUhPT0wP04ubGVuZ3RoPj1kLk1BWF9JTkRFWF9OT0RFPygwLGwudG9BcnJheU5vZGUpKEIsRixTLE4pOnt0eXBlOjMsbWFzazpTfEwsY2hpbGRyZW46KDAsZC5pbnNlcnQpKEMsRixOKX06e3R5cGU6MyxtYXNrOlMsY2hpbGRyZW46KDAsZC5yZXBsYWNlKShDLEYsTil9fWUubW9kaWZ5SW5kZXhlZE5vZGU9dTtmdW5jdGlvbiBwKGcpe2NvbnN0IHY9Zy50eXBlO3JldHVybiB2PT09MHx8dj09PTF8fHY9PT0yfX0sIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvSW5kZXhlZE5vZGUvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9fY3JlYXRlQmluZGluZ3x8KE9iamVjdC5jcmVhdGU/ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgscCx7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbFt1XX19KX06ZnVuY3Rpb24oaCxsLHUscCl7cD09PXZvaWQgMCYmKHA9dSksaFtwXT1sW3VdfSksZD10aGlzJiZ0aGlzLl9fZXhwb3J0U3Rhcnx8ZnVuY3Rpb24oaCxsKXtmb3IodmFyIHUgaW4gaCl1IT09ImRlZmF1bHQiJiYhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGwsdSkmJm8obCxoLHUpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL0luZGV4ZWROb2RlLmpzIiksZSl9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL3RvQXJyYXlOb2RlLmpzIjoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLnRvQXJyYXlOb2RlPXZvaWQgMDtmdW5jdGlvbiBuKG8sZCxoLGwpe2NvbnN0IHU9W107bGV0IHA9aCxnPTA7Zm9yKGxldCB2PTA7cDsrK3YpcCYxJiYodVt2XT1sW2crK10pLHA+Pj49MTtyZXR1cm4gdVtvXT1kLHt0eXBlOjQsc2l6ZTpnKzEsY2hpbGRyZW46dX19ZS50b0FycmF5Tm9kZT1ufSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9MZWFmTm9kZS5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLm1vZGlmeUxlYWY9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvRW1wdHlOb2RlLmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0xlYWZOb2RlL2NvbWJpbmVMZWFmTm9kZXMuanMiKTtmdW5jdGlvbiBsKHUscCxnLHYsYixfKXtpZihiPT09dS5rZXkpe2NvbnN0IFQ9Zyh1LnZhbHVlKTtyZXR1cm4gVD09PXUudmFsdWU/dTpUPT09by5OT1RISU5HPygtLV8udmFsdWUsKDAsZC5lbXB0eSkoKSk6e3R5cGU6MSxoYXNoOnYsa2V5OmIsdmFsdWU6VH19Y29uc3QgTz1nKCk7cmV0dXJuIE89PT1vLk5PVEhJTkc/dTooKytfLnZhbHVlLCgwLGguY29tYmluZUxlYWZOb2RlcykocCx1Lmhhc2gsdSx2LHt0eXBlOjEsaGFzaDp2LGtleTpiLHZhbHVlOk99KSl9ZS5tb2RpZnlMZWFmPWx9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0xlYWZOb2RlL2NvbWJpbmVMZWFmTm9kZXMuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5jb21iaW5lTGVhZk5vZGVzPXZvaWQgMDtjb25zdCBvPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvY29tbW9uL2luZGV4LmpzIik7ZnVuY3Rpb24gZChoLGwsdSxwLGcpe2lmKGw9PT1wKXJldHVybnt0eXBlOjIsaGFzaDpsLGNoaWxkcmVuOltnLHVdfTtjb25zdCB2PSgwLG8uaGFzaEZyYWdtZW50KShoLGwpLGI9KDAsby5oYXNoRnJhZ21lbnQpKGgscCk7cmV0dXJue3R5cGU6MyxtYXNrOigwLG8udG9CaXRtYXApKHYpfCgwLG8udG9CaXRtYXApKGIpLGNoaWxkcmVuOnY9PT1iP1tkKGgrby5TSVpFLGwsdSxwLGcpXTp2PGI/W3UsZ106W2csdV19fWUuY29tYmluZUxlYWZOb2Rlcz1kfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9pbmRleC5qcyI6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXRoaXMmJnRoaXMuX19jcmVhdGVCaW5kaW5nfHwoT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaCxwLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsW3VdfX0pfTpmdW5jdGlvbihoLGwsdSxwKXtwPT09dm9pZCAwJiYocD11KSxoW3BdPWxbdV19KSxkPXRoaXMmJnRoaXMuX19leHBvcnRTdGFyfHxmdW5jdGlvbihoLGwpe2Zvcih2YXIgdSBpbiBoKXUhPT0iZGVmYXVsdCImJiFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCx1KSYmbyhsLGgsdSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvTGVhZk5vZGUvTGVhZk5vZGUuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvTGVhZk5vZGUvY29tYmluZUxlYWZOb2Rlcy5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuTk9USElORz12b2lkIDAsZS5OT1RISU5HPU9iamVjdC5jcmVhdGUobnVsbCl9LCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL2luZGV4LmpzIjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyYmdGhpcy5fX2NyZWF0ZUJpbmRpbmd8fChPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLHAse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxbdV19fSl9OmZ1bmN0aW9uKGgsbCx1LHApe3A9PT12b2lkIDAmJihwPXUpLGhbcF09bFt1XX0pLGQ9dGhpcyYmdGhpcy5fX2V4cG9ydFN0YXJ8fGZ1bmN0aW9uKGgsbCl7Zm9yKHZhciB1IGluIGgpdSE9PSJkZWZhdWx0IiYmIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsLHUpJiZvKGwsaCx1KX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy90eXBlcy5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9jb25zdGFudHMuanMiKSxlKSxkKG4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvRW1wdHlOb2RlLmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0FycmF5Tm9kZS9pbmRleC5qcyIpLGUpLGQobigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9Db2xsaXNpb25Ob2RlL2luZGV4LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL2luZGV4LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0xlYWZOb2RlL2luZGV4LmpzIiksZSksZChuKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL21vZGlmeS5qcyIpLGUpfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9tb2RpZnkuanMiOih0LGUsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5tb2RpZnk9dm9pZCAwO2NvbnN0IG89bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9MZWFmTm9kZS9pbmRleC5qcyIpLGQ9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy9FbXB0eU5vZGUuanMiKSxoPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3Qvbm9kZXMvQXJyYXlOb2RlL2luZGV4LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0luZGV4ZWROb2RlL2luZGV4LmpzIiksdT1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L25vZGVzL0NvbGxpc2lvbk5vZGUvaW5kZXguanMiKTtmdW5jdGlvbiBwKGcsdixiLF8sTyxUKXtzd2l0Y2goZy50eXBlKXtjYXNlIDE6cmV0dXJuKDAsby5tb2RpZnlMZWFmKShnLHYsYixfLE8sVCk7Y2FzZSAwOnJldHVybigwLGQubW9kaWZ5RW1wdHkpKGcsdixiLF8sTyxUKTtjYXNlIDQ6cmV0dXJuKDAsaC5tb2RpZnlMaXN0Tm9kZSkoZyx2LGIsXyxPLFQpO2Nhc2UgMzpyZXR1cm4oMCxsLm1vZGlmeUluZGV4ZWROb2RlKShnLHYsYixfLE8sVCk7Y2FzZSAyOnJldHVybigwLHUubW9kaWZ5Q29sbGlzaW9uTm9kZSkoZyx2LGIsXyxPLFQpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJuZXZlciIpfX1lLm1vZGlmeT1wfSwiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9ub2Rlcy90eXBlcy5qcyI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9LCIuLi9ub2RlX21vZHVsZXMvdXVpZC1yYW5kb20vaW5kZXguanMiOih0LGUsbik9PnsoZnVuY3Rpb24oKXt2YXIgbyxkPTAsaD1bXSxsO2ZvcihsPTA7bDwyNTY7bCsrKWhbbF09KGwrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpO3YuQlVGRkVSX1NJWkU9NDA5Nix2LmJpbj1nLHYuY2xlYXJCdWZmZXI9ZnVuY3Rpb24oKXtvPW51bGwsZD0wfSx2LnRlc3Q9ZnVuY3Rpb24oYil7cmV0dXJuIHR5cGVvZiBiPT0ic3RyaW5nIj8vXlswLTlhLWZdezh9LVswLTlhLWZdezR9LTRbMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kL2kudGVzdChiKTohMX07dmFyIHU7dHlwZW9mIGNyeXB0bzwidSI/dT1jcnlwdG86dHlwZW9mIHdpbmRvdzwidSImJnR5cGVvZiB3aW5kb3cubXNDcnlwdG88InUiJiYodT13aW5kb3cubXNDcnlwdG8pLHU9dXx8bigiPzY5OWQiKSx0LmV4cG9ydHM9dix2LnJhbmRvbUJ5dGVzPWZ1bmN0aW9uKCl7aWYodSl7aWYodS5yYW5kb21CeXRlcylyZXR1cm4gdS5yYW5kb21CeXRlcztpZih1LmdldFJhbmRvbVZhbHVlcylyZXR1cm4gdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNsaWNlIT0iZnVuY3Rpb24iP2Z1bmN0aW9uKGIpe3ZhciBfPW5ldyBVaW50OEFycmF5KGIpO3JldHVybiB1LmdldFJhbmRvbVZhbHVlcyhfKSxBcnJheS5mcm9tKF8pfTpmdW5jdGlvbihiKXt2YXIgXz1uZXcgVWludDhBcnJheShiKTtyZXR1cm4gdS5nZXRSYW5kb21WYWx1ZXMoXyksX319cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBfLE89W107Zm9yKF89MDtfPGI7XysrKU8ucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjU2KSk7cmV0dXJuIE99fSgpO2Z1bmN0aW9uIHAoYil7cmV0dXJuKCFvfHxkK2I+di5CVUZGRVJfU0laRSkmJihkPTAsbz12LnJhbmRvbUJ5dGVzKHYuQlVGRkVSX1NJWkUpKSxvLnNsaWNlKGQsZCs9Yil9ZnVuY3Rpb24gZygpe3ZhciBiPXAoMTYpO3JldHVybiBiWzZdPWJbNl0mMTV8NjQsYls4XT1iWzhdJjYzfDEyOCxifWZ1bmN0aW9uIHYoKXt2YXIgYj1nKCk7cmV0dXJuIGhbYlswXV0raFtiWzFdXStoW2JbMl1dK2hbYlszXV0rIi0iK2hbYls0XV0raFtiWzVdXSsiLSIraFtiWzZdXStoW2JbN11dKyItIitoW2JbOF1dK2hbYls5XV0rIi0iK2hbYlsxMF1dK2hbYlsxMV1dK2hbYlsxMl1dK2hbYlsxM11dK2hbYlsxNF1dK2hbYlsxNV1dfX0pKCl9LCIuLi9ub2RlX21vZHVsZXMveWFsbGlzdC9pdGVyYXRvci5qcyI6dD0+e3QuZXhwb3J0cz1mdW5jdGlvbihlKXtlLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKigpe2ZvcihsZXQgbj10aGlzLmhlYWQ7bjtuPW4ubmV4dCl5aWVsZCBuLnZhbHVlfX19LCIuLi9ub2RlX21vZHVsZXMveWFsbGlzdC95YWxsaXN0LmpzIjoodCxlLG4pPT57dC5leHBvcnRzPW8sby5Ob2RlPXUsby5jcmVhdGU9bztmdW5jdGlvbiBvKHApe3ZhciBnPXRoaXM7aWYoZyBpbnN0YW5jZW9mIG98fChnPW5ldyBvKSxnLnRhaWw9bnVsbCxnLmhlYWQ9bnVsbCxnLmxlbmd0aD0wLHAmJnR5cGVvZiBwLmZvckVhY2g9PSJmdW5jdGlvbiIpcC5mb3JFYWNoKGZ1bmN0aW9uKF8pe2cucHVzaChfKX0pO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD4wKWZvcih2YXIgdj0wLGI9YXJndW1lbnRzLmxlbmd0aDt2PGI7disrKWcucHVzaChhcmd1bWVudHNbdl0pO3JldHVybiBnfW8ucHJvdG90eXBlLnJlbW92ZU5vZGU9ZnVuY3Rpb24ocCl7aWYocC5saXN0IT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoInJlbW92aW5nIG5vZGUgd2hpY2ggZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgbGlzdCIpO3ZhciBnPXAubmV4dCx2PXAucHJldjtyZXR1cm4gZyYmKGcucHJldj12KSx2JiYodi5uZXh0PWcpLHA9PT10aGlzLmhlYWQmJih0aGlzLmhlYWQ9ZykscD09PXRoaXMudGFpbCYmKHRoaXMudGFpbD12KSxwLmxpc3QubGVuZ3RoLS0scC5uZXh0PW51bGwscC5wcmV2PW51bGwscC5saXN0PW51bGwsZ30sby5wcm90b3R5cGUudW5zaGlmdE5vZGU9ZnVuY3Rpb24ocCl7aWYocCE9PXRoaXMuaGVhZCl7cC5saXN0JiZwLmxpc3QucmVtb3ZlTm9kZShwKTt2YXIgZz10aGlzLmhlYWQ7cC5saXN0PXRoaXMscC5uZXh0PWcsZyYmKGcucHJldj1wKSx0aGlzLmhlYWQ9cCx0aGlzLnRhaWx8fCh0aGlzLnRhaWw9cCksdGhpcy5sZW5ndGgrK319LG8ucHJvdG90eXBlLnB1c2hOb2RlPWZ1bmN0aW9uKHApe2lmKHAhPT10aGlzLnRhaWwpe3AubGlzdCYmcC5saXN0LnJlbW92ZU5vZGUocCk7dmFyIGc9dGhpcy50YWlsO3AubGlzdD10aGlzLHAucHJldj1nLGcmJihnLm5leHQ9cCksdGhpcy50YWlsPXAsdGhpcy5oZWFkfHwodGhpcy5oZWFkPXApLHRoaXMubGVuZ3RoKyt9fSxvLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBwPTAsZz1hcmd1bWVudHMubGVuZ3RoO3A8ZztwKyspaCh0aGlzLGFyZ3VtZW50c1twXSk7cmV0dXJuIHRoaXMubGVuZ3RofSxvLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7Zm9yKHZhciBwPTAsZz1hcmd1bWVudHMubGVuZ3RoO3A8ZztwKyspbCh0aGlzLGFyZ3VtZW50c1twXSk7cmV0dXJuIHRoaXMubGVuZ3RofSxvLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtpZih0aGlzLnRhaWwpe3ZhciBwPXRoaXMudGFpbC52YWx1ZTtyZXR1cm4gdGhpcy50YWlsPXRoaXMudGFpbC5wcmV2LHRoaXMudGFpbD90aGlzLnRhaWwubmV4dD1udWxsOnRoaXMuaGVhZD1udWxsLHRoaXMubGVuZ3RoLS0scH19LG8ucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5oZWFkKXt2YXIgcD10aGlzLmhlYWQudmFsdWU7cmV0dXJuIHRoaXMuaGVhZD10aGlzLmhlYWQubmV4dCx0aGlzLmhlYWQ/dGhpcy5oZWFkLnByZXY9bnVsbDp0aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aC0tLHB9fSxvLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHAsZyl7Zz1nfHx0aGlzO2Zvcih2YXIgdj10aGlzLmhlYWQsYj0wO3YhPT1udWxsO2IrKylwLmNhbGwoZyx2LnZhbHVlLGIsdGhpcyksdj12Lm5leHR9LG8ucHJvdG90eXBlLmZvckVhY2hSZXZlcnNlPWZ1bmN0aW9uKHAsZyl7Zz1nfHx0aGlzO2Zvcih2YXIgdj10aGlzLnRhaWwsYj10aGlzLmxlbmd0aC0xO3YhPT1udWxsO2ItLSlwLmNhbGwoZyx2LnZhbHVlLGIsdGhpcyksdj12LnByZXZ9LG8ucHJvdG90eXBlLmdldD1mdW5jdGlvbihwKXtmb3IodmFyIGc9MCx2PXRoaXMuaGVhZDt2IT09bnVsbCYmZzxwO2crKyl2PXYubmV4dDtpZihnPT09cCYmdiE9PW51bGwpcmV0dXJuIHYudmFsdWV9LG8ucHJvdG90eXBlLmdldFJldmVyc2U9ZnVuY3Rpb24ocCl7Zm9yKHZhciBnPTAsdj10aGlzLnRhaWw7diE9PW51bGwmJmc8cDtnKyspdj12LnByZXY7aWYoZz09PXAmJnYhPT1udWxsKXJldHVybiB2LnZhbHVlfSxvLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24ocCxnKXtnPWd8fHRoaXM7Zm9yKHZhciB2PW5ldyBvLGI9dGhpcy5oZWFkO2IhPT1udWxsOyl2LnB1c2gocC5jYWxsKGcsYi52YWx1ZSx0aGlzKSksYj1iLm5leHQ7cmV0dXJuIHZ9LG8ucHJvdG90eXBlLm1hcFJldmVyc2U9ZnVuY3Rpb24ocCxnKXtnPWd8fHRoaXM7Zm9yKHZhciB2PW5ldyBvLGI9dGhpcy50YWlsO2IhPT1udWxsOyl2LnB1c2gocC5jYWxsKGcsYi52YWx1ZSx0aGlzKSksYj1iLnByZXY7cmV0dXJuIHZ9LG8ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihwLGcpe3ZhciB2LGI9dGhpcy5oZWFkO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl2PWc7ZWxzZSBpZih0aGlzLmhlYWQpYj10aGlzLmhlYWQubmV4dCx2PXRoaXMuaGVhZC52YWx1ZTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBsaXN0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpO2Zvcih2YXIgXz0wO2IhPT1udWxsO18rKyl2PXAodixiLnZhbHVlLF8pLGI9Yi5uZXh0O3JldHVybiB2fSxvLnByb3RvdHlwZS5yZWR1Y2VSZXZlcnNlPWZ1bmN0aW9uKHAsZyl7dmFyIHYsYj10aGlzLnRhaWw7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXY9ZztlbHNlIGlmKHRoaXMudGFpbCliPXRoaXMudGFpbC5wcmV2LHY9dGhpcy50YWlsLnZhbHVlO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiUmVkdWNlIG9mIGVtcHR5IGxpc3Qgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7Zm9yKHZhciBfPXRoaXMubGVuZ3RoLTE7YiE9PW51bGw7Xy0tKXY9cCh2LGIudmFsdWUsXyksYj1iLnByZXY7cmV0dXJuIHZ9LG8ucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtmb3IodmFyIHA9bmV3IEFycmF5KHRoaXMubGVuZ3RoKSxnPTAsdj10aGlzLmhlYWQ7diE9PW51bGw7ZysrKXBbZ109di52YWx1ZSx2PXYubmV4dDtyZXR1cm4gcH0sby5wcm90b3R5cGUudG9BcnJheVJldmVyc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHA9bmV3IEFycmF5KHRoaXMubGVuZ3RoKSxnPTAsdj10aGlzLnRhaWw7diE9PW51bGw7ZysrKXBbZ109di52YWx1ZSx2PXYucHJldjtyZXR1cm4gcH0sby5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24ocCxnKXtnPWd8fHRoaXMubGVuZ3RoLGc8MCYmKGcrPXRoaXMubGVuZ3RoKSxwPXB8fDAscDwwJiYocCs9dGhpcy5sZW5ndGgpO3ZhciB2PW5ldyBvO2lmKGc8cHx8ZzwwKXJldHVybiB2O3A8MCYmKHA9MCksZz50aGlzLmxlbmd0aCYmKGc9dGhpcy5sZW5ndGgpO2Zvcih2YXIgYj0wLF89dGhpcy5oZWFkO18hPT1udWxsJiZiPHA7YisrKV89Xy5uZXh0O2Zvcig7XyE9PW51bGwmJmI8ZztiKyssXz1fLm5leHQpdi5wdXNoKF8udmFsdWUpO3JldHVybiB2fSxvLnByb3RvdHlwZS5zbGljZVJldmVyc2U9ZnVuY3Rpb24ocCxnKXtnPWd8fHRoaXMubGVuZ3RoLGc8MCYmKGcrPXRoaXMubGVuZ3RoKSxwPXB8fDAscDwwJiYocCs9dGhpcy5sZW5ndGgpO3ZhciB2PW5ldyBvO2lmKGc8cHx8ZzwwKXJldHVybiB2O3A8MCYmKHA9MCksZz50aGlzLmxlbmd0aCYmKGc9dGhpcy5sZW5ndGgpO2Zvcih2YXIgYj10aGlzLmxlbmd0aCxfPXRoaXMudGFpbDtfIT09bnVsbCYmYj5nO2ItLSlfPV8ucHJldjtmb3IoO18hPT1udWxsJiZiPnA7Yi0tLF89Xy5wcmV2KXYucHVzaChfLnZhbHVlKTtyZXR1cm4gdn0sby5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHAsZywuLi52KXtwPnRoaXMubGVuZ3RoJiYocD10aGlzLmxlbmd0aC0xKSxwPDAmJihwPXRoaXMubGVuZ3RoK3ApO2Zvcih2YXIgYj0wLF89dGhpcy5oZWFkO18hPT1udWxsJiZiPHA7YisrKV89Xy5uZXh0O2Zvcih2YXIgTz1bXSxiPTA7XyYmYjxnO2IrKylPLnB1c2goXy52YWx1ZSksXz10aGlzLnJlbW92ZU5vZGUoXyk7Xz09PW51bGwmJihfPXRoaXMudGFpbCksXyE9PXRoaXMuaGVhZCYmXyE9PXRoaXMudGFpbCYmKF89Xy5wcmV2KTtmb3IodmFyIGI9MDtiPHYubGVuZ3RoO2IrKylfPWQodGhpcyxfLHZbYl0pO3JldHVybiBPfSxvLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBwPXRoaXMuaGVhZCxnPXRoaXMudGFpbCx2PXA7diE9PW51bGw7dj12LnByZXYpe3ZhciBiPXYucHJldjt2LnByZXY9di5uZXh0LHYubmV4dD1ifXJldHVybiB0aGlzLmhlYWQ9Zyx0aGlzLnRhaWw9cCx0aGlzfTtmdW5jdGlvbiBkKHAsZyx2KXt2YXIgYj1nPT09cC5oZWFkP25ldyB1KHYsbnVsbCxnLHApOm5ldyB1KHYsZyxnLm5leHQscCk7cmV0dXJuIGIubmV4dD09PW51bGwmJihwLnRhaWw9YiksYi5wcmV2PT09bnVsbCYmKHAuaGVhZD1iKSxwLmxlbmd0aCsrLGJ9ZnVuY3Rpb24gaChwLGcpe3AudGFpbD1uZXcgdShnLHAudGFpbCxudWxsLHApLHAuaGVhZHx8KHAuaGVhZD1wLnRhaWwpLHAubGVuZ3RoKyt9ZnVuY3Rpb24gbChwLGcpe3AuaGVhZD1uZXcgdShnLG51bGwscC5oZWFkLHApLHAudGFpbHx8KHAudGFpbD1wLmhlYWQpLHAubGVuZ3RoKyt9ZnVuY3Rpb24gdShwLGcsdixiKXtpZighKHRoaXMgaW5zdGFuY2VvZiB1KSlyZXR1cm4gbmV3IHUocCxnLHYsYik7dGhpcy5saXN0PWIsdGhpcy52YWx1ZT1wLGc/KGcubmV4dD10aGlzLHRoaXMucHJldj1nKTp0aGlzLnByZXY9bnVsbCx2Pyh2LnByZXY9dGhpcyx0aGlzLm5leHQ9dik6dGhpcy5uZXh0PW51bGx9dHJ5e24oIi4uL25vZGVfbW9kdWxlcy95YWxsaXN0L2l0ZXJhdG9yLmpzIikobyl9Y2F0Y2h7fX0sIi4uL3BhY2thZ2VzL2ltbXV0YWJsZS9kaXN0L01hcC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1hcD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvaGFzLmpzIiksZD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZ2V0LmpzIiksaD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvc2V0LmpzIiksbD1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZm9yRWFjaC5qcyIpLHU9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL21hcC5qcyIpLHA9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2ZpbHRlci5qcyIpLGc9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL3JlbW92ZS5qcyIpLHY9bigiLi4vbm9kZV9tb2R1bGVzL3R5cGVkLWltbXV0YWJsZS1tYXAvZGlzdC9IYXNoTWFwL2VudHJpZXMuanMiKSxiPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC92YWx1ZXMuanMiKSxfPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9rZXlzLmpzIiksTz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvc2l6ZS5qcyIpO2NsYXNzIFR7aGFzaG1hcDtjb25zdHJ1Y3RvcihOKXt0aGlzLmhhc2htYXA9Tn1nZXQgc2l6ZSgpe3JldHVybigwLE8uc2l6ZSkodGhpcy5oYXNobWFwKX1zZXQoTixCKXtyZXR1cm4gbmV3IFQoKDAsaC5zZXQpKE4sQix0aGlzLmhhc2htYXApKX1kZWxldGUoTil7cmV0dXJuIG5ldyBUKCgwLGcucmVtb3ZlKShOLHRoaXMuaGFzaG1hcCkpfWdldChOKXtyZXR1cm4oMCxkLmdldCkoTix0aGlzLmhhc2htYXApfWhhcyhOKXtyZXR1cm4oMCxvLmhhcykoTix0aGlzLmhhc2htYXApfWZvckVhY2goTil7KDAsbC5mb3JFYWNoKShOLHRoaXMuaGFzaG1hcCl9bWFwKE4pe3JldHVybiBuZXcgVCgoMCx1Lm1hcCkoTix0aGlzLmhhc2htYXApKX1maWx0ZXIoTil7cmV0dXJuIG5ldyBUKCgwLHAuZmlsdGVyKShOLHRoaXMuaGFzaG1hcCkpfXRvSlMoKXtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMpfXRvSlNPTigpe3JldHVybiB0aGlzLnRvSlMoKX1rZXlzKCl7cmV0dXJuKDAsXy5rZXlzKSh0aGlzLmhhc2htYXApfXZhbHVlcygpe3JldHVybigwLGIudmFsdWVzKSh0aGlzLmhhc2htYXApfWVudHJpZXMoKXtyZXR1cm4oMCx2LmVudHJpZXMpKHRoaXMuaGFzaG1hcCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9fWUuTWFwPVR9LCIuLi9wYWNrYWdlcy9pbW11dGFibGUvZGlzdC9pbmRleC5qcyI6KHQsZSxuKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLk1hcD12b2lkIDA7Y29uc3Qgbz1uKCIuLi9ub2RlX21vZHVsZXMvdHlwZWQtaW1tdXRhYmxlLW1hcC9kaXN0L0hhc2hNYXAvZW1wdHkuanMiKSxkPW4oIi4uL25vZGVfbW9kdWxlcy90eXBlZC1pbW11dGFibGUtbWFwL2Rpc3QvSGFzaE1hcC9mcm9tLmpzIiksaD1uKCIuLi9wYWNrYWdlcy9pbW11dGFibGUvZGlzdC9NYXAuanMiKSxsPXA9PlN5bWJvbC5pdGVyYXRvciBpbiBwO2Z1bmN0aW9uIHUocCl7cmV0dXJuIHA/bChwKT9uZXcgaC5NYXAoKDAsZC5mcm9tSXRlcmFibGUpKHApKTpuZXcgaC5NYXAoKDAsZC5mcm9tT2JqZWN0KShwKSk6bmV3IGguTWFwKCgwLG8uZW1wdHkpKCkpfWUuTWFwPXV9LCIuLi9wYWNrYWdlcy91dWlkL2Rpc3QvaW5kZXguanMiOmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10aGlzJiZ0aGlzLl9faW1wb3J0RGVmYXVsdHx8ZnVuY3Rpb24oaCl7cmV0dXJuIGgmJmguX19lc01vZHVsZT9oOntkZWZhdWx0Omh9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS52ND12b2lkIDA7Y29uc3QgZD1vKG4oIi4uL25vZGVfbW9kdWxlcy91dWlkLXJhbmRvbS9pbmRleC5qcyIpKTtlLnY0PWQuZGVmYXVsdH0sYXN5bmNpdGVyYXRvcjp0PT57dC5leHBvcnRzPV9fUVVBRFNUT1JFX0NPTVVOSUNBX0VYVEVSTkFMX01PRFVMRV9hc3luY2l0ZXJhdG9yX199LHNwYXJxbGFsZ2VicmFqczp0PT57dC5leHBvcnRzPV9fUVVBRFNUT1JFX0NPTVVOSUNBX0VYVEVSTkFMX01PRFVMRV9zcGFycWxhbGdlYnJhanNfX30sc3BhcnFsanM6dD0+e3QuZXhwb3J0cz1fX1FVQURTVE9SRV9DT01VTklDQV9FWFRFUk5BTF9NT0RVTEVfc3BhcnFsanNfX30sIj82OTlkIjooKT0+e30sIi4vcmVxdWlyZS1lbXB0eS5qcyI6KCk9Pnt9LCIuL3NyYy9jcnlwdG8tcG9seWZpbGwuanMiOihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSxfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsX19xdWFkc3RvcmVfY29tdW5pY2FfcmVxdWlyZV9fKT0+e2NvbnN0IGlzTm9kZT10eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3MudmVyc2lvbnMhPW51bGwmJnByb2Nlc3MudmVyc2lvbnMubm9kZSE9bnVsbCxwb2x5ZmlsbENyeXB0bz0oe3JhbmRvbUZpbGxTeW5jOnR9KT0+e19fcXVhZHN0b3JlX2NvbXVuaWNhX3JlcXVpcmVfXy5nLmNyeXB0bz17fSxfX3F1YWRzdG9yZV9jb211bmljYV9yZXF1aXJlX18uZy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzPWU9Pih0KGUpLGUpfTtpc05vZGUmJnR5cGVvZiBjcnlwdG8+InUiJiYoZXZhbCgidHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbiciKT9wb2x5ZmlsbENyeXB0byhldmFsKCJyZXF1aXJlKCdjcnlwdG8nKTsiKSk6ZXZhbCgiaW1wb3J0KCdjcnlwdG8nKTsiKS50aGVuKHBvbHlmaWxsQ3J5cHRvKS5jYXRjaCh0PT57Y29uc29sZS5lcnJvcih0KSxwcm9jZXNzLmV4aXQoMSl9KSl9LCIuL3NyYy9lbmdpbmUuanMiOih0LGUsbik9Pntjb25zdCBvPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2xvZ2dlci12b2lkL2xpYi9pbmRleC5qcyIpKS5Mb2dnZXJWb2lkLGQ9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLWluaXQvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JJbml0Lmpzb25sZCNBY3RvckluaXRfZGVmYXVsdF9idXMifSksaD1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtY29udGV4dC1wcmVwcm9jZXNzL14yLjAuMC9jb21wb25lbnRzL0FjdG9yQ29udGV4dFByZXByb2Nlc3MuanNvbmxkI0FjdG9yQ29udGV4dFByZXByb2Nlc3NfZGVmYXVsdF9idXMifSksbD1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtaGFzaC1iaW5kaW5ncy9eMi4wLjAvY29tcG9uZW50cy9BY3Rvckhhc2hCaW5kaW5ncy5qc29ubGQjQWN0b3JIYXNoQmluZGluZ3NfZGVmYXVsdF9idXMifSksdT1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtb3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL14yLjAuMC9jb21wb25lbnRzL0FjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbi5qc29ubGQjQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uX2RlZmF1bHRfYnVzIn0pLHA9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYnVzLXF1ZXJ5LW9wZXJhdGlvbi9saWIvaW5kZXguanMiKSkuQnVzUXVlcnlPcGVyYXRpb24oe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uL14yLjAuMC9jb21wb25lbnRzL0FjdG9yUXVlcnlPcGVyYXRpb24uanNvbmxkI0FjdG9yUXVlcnlPcGVyYXRpb25fZGVmYXVsdF9idXMifSksZz1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtcXVlcnktcGFyc2UvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JRdWVyeVBhcnNlLmpzb25sZCNBY3RvclF1ZXJ5UGFyc2VfZGVmYXVsdF9idXMifSksdj1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtcXVlcnktcmVzdWx0LXNlcmlhbGl6ZS9eMi4wLjAvY29tcG9uZW50cy9BY3RvclF1ZXJ5UmVzdWx0U2VyaWFsaXplLmpzb25sZCNBY3RvclF1ZXJ5UmVzdWx0U2VyaWFsaXplX2RlZmF1bHRfYnVzIn0pLGI9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLWh0dHAtaW52YWxpZGF0ZS9eMi4wLjAvY29tcG9uZW50cy9BY3Rvckh0dHBJbnZhbGlkYXRlLmpzb25sZCNBY3Rvckh0dHBJbnZhbGlkYXRlX2RlZmF1bHRfYnVzIn0pLF89bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLXJkZi1qb2luLWVudHJpZXMtc29ydC9eMi4wLjAvY29tcG9uZW50cy9BY3RvclJkZkpvaW5FbnRyaWVzU29ydC5qc29ubGQjQWN0b3JSZGZKb2luRW50cmllc1NvcnRfZGVmYXVsdF9idXMifSksTz1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9jb3JlL2xpYi9pbmRleC5qcyIpKS5CdXMoe25hbWU6Imh0dHBzOi8vbGlua2Vkc29mdHdhcmVkZXBlbmRlbmNpZXMub3JnL2J1bmRsZXMvbnBtL0Bjb211bmljYS9idXMtcmRmLWpvaW4tc2VsZWN0aXZpdHkvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JSZGZKb2luU2VsZWN0aXZpdHkuanNvbmxkI0FjdG9yUmRmSm9pblNlbGVjdGl2aXR5X2RlZmF1bHRfYnVzIn0pLFQ9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvY29yZS9saWIvaW5kZXguanMiKSkuQnVzKHtuYW1lOiJodHRwczovL2xpbmtlZHNvZnR3YXJlZGVwZW5kZW5jaWVzLm9yZy9idW5kbGVzL25wbS9AY29tdW5pY2EvYnVzLXJkZi11cGRhdGUtcXVhZHMvXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JSZGZVcGRhdGVRdWFkcy5qc29ubGQjQWN0b3JSZGZVcGRhdGVRdWFkc19kZWZhdWx0X2J1cyJ9KSxTPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIikpLkJ1cyh7bmFtZToiaHR0cHM6Ly9saW5rZWRzb2Z0d2FyZWRlcGVuZGVuY2llcy5vcmcvYnVuZGxlcy9ucG0vQGNvbXVuaWNhL2J1cy1yZGYtam9pbi9eMi4wLjAvY29tcG9uZW50cy9BY3RvclJkZkpvaW4uanNvbmxkI0FjdG9yUmRmSm9pbl9kZWZhdWx0X2J1cyJ9KSxOPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2NvcmUvbGliL2luZGV4LmpzIikpLkJ1cyh7bmFtZToiaHR0cHM6Ly9saW5rZWRzb2Z0d2FyZWRlcGVuZGVuY2llcy5vcmcvYnVuZGxlcy9ucG0vQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vXjIuMC4wL2NvbXBvbmVudHMvQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm4uanNvbmxkI0FjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuX2RlZmF1bHRfYnVzIn0pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLWNvbnRleHQtcHJlcHJvY2Vzcy1zb3VyY2UtdG8tZGVzdGluYXRpb24vbGliL2luZGV4LmpzIikpLkFjdG9yQ29udGV4dFByZXByb2Nlc3NTb3VyY2VUb0Rlc3RpbmF0aW9uKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpjb250ZXh0LXByZXByb2Nlc3MvYWN0b3JzI3NvdXJjZS10by1kZXN0aW5hdGlvbiIsYnVzOmh9KTtjb25zdCBCPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtcGlwZWxpbmUvbGliL2luZGV4LmpzIikpLk1lZGlhdG9yQ29tYmluZVBpcGVsaW5lKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpjb250ZXh0LXByZXByb2Nlc3MvbWVkaWF0b3JzI21haW4iLGJ1czpofSk7bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItaGFzaC1iaW5kaW5ncy1zaGExL2xpYi9pbmRleC5qcyIpKS5BY3Rvckhhc2hCaW5kaW5nc1NoYTEoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Omhhc2gtYmluZGluZ3MvYWN0b3JzI3NoYTEiLGJ1czpsfSk7Y29uc3QgTD1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvclJhY2Uoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Omhhc2gtYmluZGluZ3MvbWVkaWF0b3JzI21haW4iLGJ1czpsfSksQz1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXBpcGVsaW5lL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvckNvbWJpbmVQaXBlbGluZSh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6b3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL21lZGlhdG9ycyNtYWluIixidXM6dX0pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLW9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi1qb2luLWJncC9saWIvaW5kZXguanMiKSkuQWN0b3JPcHRpbWl6ZVF1ZXJ5T3BlcmF0aW9uSm9pbkJncCh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6b3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL2FjdG9ycyNqb2luLWJncCIsYnVzOnV9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tYmdwLXRvLWpvaW4vbGliL2luZGV4LmpzIikpLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkJncFRvSm9pbih7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6b3B0aW1pemUtcXVlcnktb3BlcmF0aW9uL2FjdG9ycyNiZ3AtdG8tam9pbiIsYnVzOnV9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1vcHRpbWl6ZS1xdWVyeS1vcGVyYXRpb24tam9pbi1jb25uZWN0ZWQvbGliL2luZGV4LmpzIikpLkFjdG9yT3B0aW1pemVRdWVyeU9wZXJhdGlvbkpvaW5Db25uZWN0ZWQoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Om9wdGltaXplLXF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjam9pbi1jb25uZWN0ZWQiLGJ1czp1fSk7Y29uc3Qgaj1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1udW1iZXIvbGliL2luZGV4LmpzIikpLk1lZGlhdG9yTnVtYmVyKHtmaWVsZDoiaHR0cFJlcXVlc3RzIix0eXBlOiJtaW4iLGlnbm9yZUVycm9yczohMCxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vbWVkaWF0b3JzI21haW4iLGJ1czpwfSk7bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXZhbHVlcy9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblZhbHVlcyh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN2YWx1ZXMiLGJ1czpwfSk7Y29uc3QgUD1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvclJhY2Uoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LXBhcnNlL21lZGlhdG9ycyNtYWluIixidXM6Z30pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LXBhcnNlLXNwYXJxbC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeVBhcnNlU3BhcnFsKHtwcmVmaXhlczp7ZGJwZWRpYToiaHR0cDovL2RicGVkaWEub3JnL3Jlc291cmNlLyIsImRicGVkaWEtb3dsIjoiaHR0cDovL2RicGVkaWEub3JnL29udG9sb2d5LyIsZGJwcHJvcDoiaHR0cDovL2RicGVkaWEub3JnL3Byb3BlcnR5LyIsZGM6Imh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy8iLGRjMTE6Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIixkY3Rlcm1zOiJodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvIixmb2FmOiJodHRwOi8veG1sbnMuY29tL2ZvYWYvMC4xLyIsZ2VvOiJodHRwOi8vd3d3LnczLm9yZy8yMDAzLzAxL2dlby93Z3M4NF9wb3MjIixvd2w6Imh0dHA6Ly93d3cudzMub3JnLzIwMDIvMDcvb3dsIyIscmRmOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIixyZGZzOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzAxL3JkZi1zY2hlbWEjIixzY2hlbWE6Imh0dHA6Ly9zY2hlbWEub3JnLyIsc2tvczoiaHR0cDovL3d3dy53My5vcmcvMjAwOC8wNS9za29zIyIseHNkOiJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSMifSxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1wYXJzZS9hY3RvcnMjc3BhcnFsIixidXM6Z30pO2NvbnN0IEY9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JSYWNlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1yZXN1bHQtc2VyaWFsaXplL21lZGlhdG9ycyNzZXJpYWxpemUiLGJ1czp2fSksaz1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1jb21iaW5lLXVuaW9uL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvckNvbWJpbmVVbmlvbih7ZmllbGQ6Im1lZGlhVHlwZXMiLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LXJlc3VsdC1zZXJpYWxpemUvbWVkaWF0b3JzI21lZGlhVHlwZSIsYnVzOnZ9KSxKPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWNvbWJpbmUtdW5pb24vbGliL2luZGV4LmpzIikpLk1lZGlhdG9yQ29tYmluZVVuaW9uKHtmaWVsZDoibWVkaWFUeXBlRm9ybWF0cyIsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktcmVzdWx0LXNlcmlhbGl6ZS9tZWRpYXRvcnMjbWVkaWFUeXBlRm9ybWF0IixidXM6dn0pLGFlPW5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL21lZGlhdG9yLWFsbC9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JBbGwoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0Omh0dHAtaW52YWxpZGF0ZS9tZWRpYXRvcnMjbWFpbiIsYnVzOmJ9KTtuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1lbnRyaWVzLXNvcnQtY2FyZGluYWxpdHkvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbkVudHJpZXNTb3J0Q2FyZGluYWxpdHkoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luLWVudHJpZXMtc29ydC9hY3RvcnMjY2FyZGluYWxpdHkiLGJ1czpffSk7Y29uc3QgWD1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvclJhY2Uoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luLWVudHJpZXMtc29ydC9tZWRpYXRvcnMjbWFpbiIsYnVzOl99KTtuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1zZWxlY3Rpdml0eS12YXJpYWJsZS1jb3VudGluZy9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luU2VsZWN0aXZpdHlWYXJpYWJsZUNvdW50aW5nKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi1zZWxlY3Rpdml0eS9hY3RvcnMjdmFyaWFibGUtY291bnRpbmciLGJ1czpPfSk7Y29uc3QgRz1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1udW1iZXIvbGliL2luZGV4LmpzIikpLk1lZGlhdG9yTnVtYmVyKHtmaWVsZDoiYWNjdXJhY3kiLHR5cGU6Im1heCIsaWdub3JlRXJyb3JzOiEwLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luLXNlbGVjdGl2aXR5L21lZGlhdG9ycyNtYWluIixidXM6T30pO25ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi11cGRhdGUtcXVhZHMtcmRmanMtc3RvcmUvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmVXBkYXRlUXVhZHNSZGZKc1N0b3JlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtdXBkYXRlLXF1YWRzL2FjdG9ycyNyZGZqcy1zdG9yZSIsYnVzOlR9KTtjb25zdCByZT1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1yYWNlL2xpYi9pbmRleC5qcyIpKS5NZWRpYXRvclJhY2Uoe25hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi11cGRhdGUtcXVhZHMvbWVkaWF0b3JzI21haW4iLGJ1czpUfSksTT1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9tZWRpYXRvci1qb2luLWNvZWZmaWNpZW50cy1maXhlZC9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JKb2luQ29lZmZpY2llbnRzRml4ZWQoe2NwdVdlaWdodDoxLG1lbW9yeVdlaWdodDoxLHRpbWVXZWlnaHQ6MTAsaW9XZWlnaHQ6MTAwLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL21lZGlhdG9ycyNtYWluIixidXM6U30pLCQ9bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvbWVkaWF0b3ItcmFjZS9saWIvaW5kZXguanMiKSkuTWVkaWF0b3JSYWNlKHtuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm4vbWVkaWF0b3JzI21haW4iLGJ1czpOfSk7bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuLXJkZmpzLXNvdXJjZS9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZSZXNvbHZlUXVhZFBhdHRlcm5SZGZKc1NvdXJjZSh7bmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuL2FjdG9ycyNyZGZqcy1zb3VyY2UiLGJ1czpOfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWFzay9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkFzayh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjYXNrIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1iZ3Atam9pbi9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkJncEpvaW4oe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2JncCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tY29uc3RydWN0L2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uQ29uc3RydWN0KHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNjb25zdHJ1Y3QiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWRlc2NyaWJlLXN1YmplY3QvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25EZXNjcmliZVN1YmplY3Qoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2Rlc2NyaWJlIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1kaXN0aW5jdC1oYXNoL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uRGlzdGluY3RIYXNoKHttZWRpYXRvckhhc2hCaW5kaW5nczpMLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2Rpc3RpbmN0IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1leHRlbmQvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25FeHRlbmQoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2V4dGVuZCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZmlsdGVyLXNwYXJxbGVlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uRmlsdGVyU3BhcnFsZWUoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2ZpbHRlciIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tZnJvbS1xdWFkL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uRnJvbVF1YWQoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2Zyb20iLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWdyb3VwL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uR3JvdXAoe21lZGlhdG9ySGFzaEJpbmRpbmdzOkwsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjZ3JvdXAiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW9yZGVyYnktc3BhcnFsZWUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25PcmRlckJ5U3BhcnFsZWUoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI29yZGVyYnkiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLW5vcC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbk5vcCh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjbm9wIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wcm9qZWN0L2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUHJvamVjdCh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcHJvamVjdCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcmVkdWNlZC1oYXNoL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUmVkdWNlZEhhc2goe21lZGlhdG9ySGFzaEJpbmRpbmdzOkwsY2FjaGVTaXplOjEwMCxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNyZWR1Y2VkIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1zZXJ2aWNlL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uU2VydmljZSh7Zm9yY2VTcGFycWxFbmRwb2ludDohMSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNzZXJ2aWNlIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1zbGljZS9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblNsaWNlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNzbGljZSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdW5pb24vbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Vbmlvbih7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdW5pb24iLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtYWx0L2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEFsdCh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC1hbHQiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtaW52L2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aEludih7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC1pbnYiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbGluay9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhMaW5rKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNwYXRoLWxpbmsiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtemVyby1vci1vbmUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoWmVyb09yT25lKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNwYXRoLXplcm8tb3Itb25lIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtYWRkLXJld3JpdGUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25BZGRSZXdyaXRlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN1cGRhdGUtYWRkIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1wYXRoLXplcm8tb3ItbW9yZS9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhaZXJvT3JNb3JlKHttZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNwYXRoLXplcm8tb3ItbW9yZSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1vbmUtb3ItbW9yZS9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvblBhdGhPbmVPck1vcmUoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3BhdGgtb25lLW9yLW1vcmUiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jb21wb3NpdGV1cGRhdGUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25VcGRhdGVDb21wb3NpdGVVcGRhdGUoe21lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VwZGF0ZS1jb21wb3NpdGUiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXBhdGgtbnBzL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uUGF0aE5wcyh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjcGF0aC1ucHMiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jb3B5LXJld3JpdGUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Db3B5UmV3cml0ZSh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdXBkYXRlLWNvcHkiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1tb3ZlLXJld3JpdGUvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25Nb3ZlUmV3cml0ZSh7bWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdXBkYXRlLW1vdmUiLGJ1czpwfSk7Y29uc3QgVT1uZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9pbmRleC1icm93c2VyLmpzIikpLkFjdG9ySW5pdFF1ZXJ5KHttZWRpYXRvck9wdGltaXplUXVlcnlPcGVyYXRpb246QyxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbWVkaWF0b3JRdWVyeVBhcnNlOlAsbWVkaWF0b3JRdWVyeVJlc3VsdFNlcmlhbGl6ZTpGLG1lZGlhdG9yUXVlcnlSZXN1bHRTZXJpYWxpemVNZWRpYVR5cGVDb21iaW5lcjprLG1lZGlhdG9yUXVlcnlSZXN1bHRTZXJpYWxpemVNZWRpYVR5cGVGb3JtYXRDb21iaW5lcjpKLG1lZGlhdG9yQ29udGV4dFByZXByb2Nlc3M6QixtZWRpYXRvckh0dHBJbnZhbGlkYXRlOmFlLGxvZ2dlcjpvLGRlZmF1bHRRdWVyeUlucHV0Rm9ybWF0OiJzcGFycWwiLGFsbG93Tm9Tb3VyY2VzOiExLGNvbnRleHRLZXlTaG9ydGN1dHM6e2Jhc2VJUkk6IkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmJhc2VJUkkiLGRhdGV0aW1lOiJAY29tdW5pY2EvYWN0b3ItaHR0cC1tZW1lbnRvOmRhdGV0aW1lIixkZXN0aW5hdGlvbjoiQGNvbXVuaWNhL2J1cy1yZGYtdXBkYXRlLXF1YWRzOmRlc3RpbmF0aW9uIixleHBsYWluOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpleHBsYWluIixleHRlbnNpb25GdW5jdGlvbkNyZWF0b3I6IkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmV4dGVuc2lvbkZ1bmN0aW9uQ3JlYXRvciIsZXh0ZW5zaW9uRnVuY3Rpb25zOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpleHRlbnNpb25GdW5jdGlvbnMiLGZldGNoOiJAY29tdW5pY2EvYnVzLWh0dHA6ZmV0Y2giLGZ1bmN0aW9uQXJndW1lbnRzQ2FjaGU6IkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmZ1bmN0aW9uQXJndW1lbnRzQ2FjaGUiLGh0dHBBdXRoOiJAY29tdW5pY2EvYnVzLWh0dHA6YXV0aCIsaHR0cEJvZHlUaW1lb3V0OiJAY29tdW5pY2EvYnVzLWh0dHA6aHR0cC1ib2R5LXRpbWVvdXQiLGh0dHBJbmNsdWRlQ3JlZGVudGlhbHM6IkBjb211bmljYS9idXMtaHR0cDppbmNsdWRlLWNyZWRlbnRpYWxzIixodHRwUHJveHlIYW5kbGVyOiJAY29tdW5pY2EvYWN0b3ItaHR0cC1wcm94eTpodHRwUHJveHlIYW5kbGVyIixodHRwUmV0cnlDb3VudDoiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtcmV0cnktY291bnQiLGh0dHBSZXRyeURlbGF5OiJAY29tdW5pY2EvYnVzLWh0dHA6aHR0cC1yZXRyeS1kZWxheSIsaHR0cFJldHJ5T25TZXJ2ZXJFcnJvcjoiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtcmV0cnktb24tc2VydmVyLWVycm9yIixodHRwVGltZW91dDoiQGNvbXVuaWNhL2J1cy1odHRwOmh0dHAtdGltZW91dCIsaW5pdGlhbEJpbmRpbmdzOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTppbml0aWFsQmluZGluZ3MiLGxlbmllbnQ6IkBjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5OmxlbmllbnQiLGxvY2FsaXplQmxhbmtOb2RlczoiQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbjpsb2NhbGl6ZUJsYW5rTm9kZXMiLGxvZzoiQGNvbXVuaWNhL2NvcmU6bG9nIixxdWVyeUZvcm1hdDoiQGNvbXVuaWNhL2FjdG9yLWluaXQtcXVlcnk6cXVlcnlGb3JtYXQiLHF1ZXJ5VGltZXN0YW1wOiJAY29tdW5pY2EvYWN0b3ItaW5pdC1xdWVyeTpxdWVyeVRpbWVzdGFtcCIscmVhZE9ubHk6IkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOnJlYWRPbmx5IixyZWNvdmVyQnJva2VuTGlua3M6IkBjb211bmljYS9idXMtaHR0cC13YXliYWNrOnJlY292ZXItYnJva2VuLWxpbmtzIixzb3VyY2U6IkBjb211bmljYS9idXMtcmRmLXJlc29sdmUtcXVhZC1wYXR0ZXJuOnNvdXJjZSIsc291cmNlczoiQGNvbXVuaWNhL2J1cy1yZGYtcmVzb2x2ZS1xdWFkLXBhdHRlcm46c291cmNlcyIsdW5pb25EZWZhdWx0R3JhcGg6IkBjb211bmljYS9idXMtcXVlcnktb3BlcmF0aW9uOnVuaW9uRGVmYXVsdEdyYXBoIn0sbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6aW5pdC9hY3RvcnMjcXVlcnkiLGJ1czpkfSk7bmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbm9uZS9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTm9uZSh7bWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItbm9uZSIsYnVzOlN9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1zaW5nbGUvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pblNpbmdsZSh7bWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItc2luZ2xlIixidXM6U30pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLW11bHRpLWVtcHR5L2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZkpvaW5NdWx0aUVtcHR5KHttZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNpbm5lci1tdWx0aS1lbXB0eSIsYnVzOlN9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1iaW5kL2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZkpvaW5NdWx0aUJpbmQoe2JpbmRPcmRlcjoiZGVwdGgtZmlyc3QiLHNlbGVjdGl2aXR5TW9kaWZpZXI6MWUtNCxtZWRpYXRvckpvaW5FbnRyaWVzU29ydDpYLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246aixtZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNpbm5lci1tdWx0aS1iaW5kIixidXM6U30pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1qb2luLWlubmVyLWhhc2gvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmSm9pbkhhc2goe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI2lubmVyLWhhc2giLGJ1czpTfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItc3ltbWV0cmljaGFzaC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luU3ltbWV0cmljSGFzaCh7bWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItc3ltbWV0cmljLWhhc2giLGJ1czpTfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4taW5uZXItbmVzdGVkbG9vcC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTmVzdGVkTG9vcCh7bWVkaWF0b3JKb2luU2VsZWN0aXZpdHk6RyxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpyZGYtam9pbi9hY3RvcnMjaW5uZXItbmVzdGVkLWxvb3AiLGJ1czpTfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tb3B0aW9uYWwtYmluZC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luT3B0aW9uYWxCaW5kKHtiaW5kT3JkZXI6ImRlcHRoLWZpcnN0IixzZWxlY3Rpdml0eU1vZGlmaWVyOjFlLTQsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG1lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI29wdGlvbmFsLWJpbmQiLGJ1czpTfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tb3B0aW9uYWwtbmVzdGVkbG9vcC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luT3B0aW9uYWxOZXN0ZWRMb29wKHttZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNvcHRpb25hbC1uZXN0ZWQtbG9vcCIsYnVzOlN9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1taW51cy1oYXNoL2xpYi9pbmRleC5qcyIpKS5BY3RvclJkZkpvaW5NaW51c0hhc2goe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI21pbnVzLWhhc2giLGJ1czpTfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcmRmLWpvaW4tbWludXMtaGFzaC11bmRlZi9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTWludXNIYXNoVW5kZWYoe21lZGlhdG9ySm9pblNlbGVjdGl2aXR5OkcsbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cmRmLWpvaW4vYWN0b3JzI21pbnVzLWhhc2gtdW5kZWYiLGJ1czpTfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1jbGVhci9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkNsZWFyKHttZWRpYXRvclVwZGF0ZVF1YWRzOnJlLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VwZGF0ZS1jbGVhciIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tdXBkYXRlLWNyZWF0ZS9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkNyZWF0ZSh7bWVkaWF0b3JVcGRhdGVRdWFkczpyZSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN1cGRhdGUtY3JlYXRlIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtZGVsZXRlaW5zZXJ0L2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uVXBkYXRlRGVsZXRlSW5zZXJ0KHttZWRpYXRvclVwZGF0ZVF1YWRzOnJlLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3VwZGF0ZS1kZWxldGUtaW5zZXJ0IixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi11cGRhdGUtZHJvcC9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkRyb3Aoe21lZGlhdG9yVXBkYXRlUXVhZHM6cmUsbWVkaWF0b3JRdWVyeU9wZXJhdGlvbjpqLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnF1ZXJ5LW9wZXJhdGlvbi9hY3RvcnMjdXBkYXRlLWRyb3AiLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXVwZGF0ZS1sb2FkL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uTG9hZCh7bWVkaWF0b3JVcGRhdGVRdWFkczpyZSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyN1cGRhdGUtbG9hZCIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tam9pbi9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbkpvaW4oe21lZGlhdG9ySm9pbjpNLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2pvaW4iLGJ1czpwfSksbmV3KG4oIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLWxlZnRqb2luL2xpYi9pbmRleC5qcyIpKS5BY3RvclF1ZXJ5T3BlcmF0aW9uTGVmdEpvaW4oe21lZGlhdG9ySm9pbjpNLG1lZGlhdG9yUXVlcnlPcGVyYXRpb246aixuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI2xlZnRqb2luIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXF1ZXJ5LW9wZXJhdGlvbi1taW51cy9saWIvaW5kZXguanMiKSkuQWN0b3JRdWVyeU9wZXJhdGlvbk1pbnVzKHttZWRpYXRvckpvaW46TSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNtaW51cyIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcGF0aC1zZXEvbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25QYXRoU2VxKHttZWRpYXRvckpvaW46TSxtZWRpYXRvclF1ZXJ5T3BlcmF0aW9uOmosbmFtZToidXJuOmNvbXVuaWNhOmRlZmF1bHQ6cXVlcnktb3BlcmF0aW9uL2FjdG9ycyNwYXRoLXNlcSIsYnVzOnB9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1yZGYtam9pbi1pbm5lci1tdWx0aS1zbWFsbGVzdC9saWIvaW5kZXguanMiKSkuQWN0b3JSZGZKb2luTXVsdGlTbWFsbGVzdCh7bWVkaWF0b3JKb2luRW50cmllc1NvcnQ6WCxtZWRpYXRvckpvaW46TSxtZWRpYXRvckpvaW5TZWxlY3Rpdml0eTpHLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1qb2luL2FjdG9ycyNpbm5lci1tdWx0aS1zbWFsbGVzdCIsYnVzOlN9KSxuZXcobigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1xdWVyeS1vcGVyYXRpb24tcXVhZHBhdHRlcm4vbGliL2luZGV4LmpzIikpLkFjdG9yUXVlcnlPcGVyYXRpb25RdWFkcGF0dGVybih7bWVkaWF0b3JSZXNvbHZlUXVhZFBhdHRlcm46JCx1bmlvbkRlZmF1bHRHcmFwaDohMSxuYW1lOiJ1cm46Y29tdW5pY2E6ZGVmYXVsdDpxdWVyeS1vcGVyYXRpb24vYWN0b3JzI3F1YWRwYXR0ZXJuIixidXM6cH0pLG5ldyhuKCIuLi9ub2RlX21vZHVsZXMvQGNvbXVuaWNhL2FjdG9yLXJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi1mZWRlcmF0ZWQvbGliL2luZGV4LmpzIikpLkFjdG9yUmRmUmVzb2x2ZVF1YWRQYXR0ZXJuRmVkZXJhdGVkKHttZWRpYXRvclJlc29sdmVRdWFkUGF0dGVybjokLHNraXBFbXB0eVBhdHRlcm5zOiExLG5hbWU6InVybjpjb211bmljYTpkZWZhdWx0OnJkZi1yZXNvbHZlLXF1YWQtcGF0dGVybi9hY3RvcnMjZmVkZXJhdGVkIixidXM6Tn0pLHQuZXhwb3J0cz1VfSwiLi9zcmMvaW5kZXguanMiOih0LGUsbik9PntuKCIuL3NyYy9jcnlwdG8tcG9seWZpbGwuanMiKTtjb25zdHtRdWVyeUVuZ2luZUJhc2U6b309bigiLi4vbm9kZV9tb2R1bGVzL0Bjb211bmljYS9hY3Rvci1pbml0LXF1ZXJ5L2xpYi9pbmRleC1icm93c2VyLmpzIiksZD1uZXcgbyhuKCIuL3NyYy9lbmdpbmUuanMiKSksaD1PYmplY3QuY3JlYXRlKG51bGwpO2NsYXNzIGx7Y29uc3RydWN0b3IocCl7dGhpcy5zdG9yZT1wLHRoaXMuZW5naW5lPWR9Z2V0Q29udGV4dChwKXtyZXR1cm57Li4ucCxzb3VyY2U6dGhpcy5zdG9yZSxkZXN0aW5hdGlvbjp0aGlzLnN0b3JlfX1xdWVyeShwLGc9aCl7cmV0dXJuIGQucXVlcnkocCx0aGlzLmdldENvbnRleHQoZykpfXF1ZXJ5Vm9pZChwLGc9aCl7cmV0dXJuIGQucXVlcnlWb2lkKHAsdGhpcy5nZXRDb250ZXh0KGcpKX1xdWVyeUJpbmRpbmdzKHAsZz1oKXtyZXR1cm4gZC5xdWVyeUJpbmRpbmdzKHAsdGhpcy5nZXRDb250ZXh0KGcpKX1xdWVyeVF1YWRzKHAsZz1oKXtyZXR1cm4gZC5xdWVyeVF1YWRzKHAsdGhpcy5nZXRDb250ZXh0KGcpKX1xdWVyeUJvb2xlYW4ocCxnPWgpe3JldHVybiBkLnF1ZXJ5Qm9vbGVhbihwLHRoaXMuZ2V0Q29udGV4dChnKSl9fXQuZXhwb3J0cy5EPWwsdC5leHBvcnRzLkg9ZH0sIi4uL25vZGVfbW9kdWxlcy9AY29tdW5pY2EvYWN0b3ItcXVlcnktb3BlcmF0aW9uLXJlZHVjZWQtaGFzaC9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIjp0PT57Y29uc3QgZT10eXBlb2YgcGVyZm9ybWFuY2U9PSJvYmplY3QiJiZwZXJmb3JtYW5jZSYmdHlwZW9mIHBlcmZvcm1hbmNlLm5vdz09ImZ1bmN0aW9uIj9wZXJmb3JtYW5jZTpEYXRlLG89dHlwZW9mIEFib3J0Q29udHJvbGxlcj09ImZ1bmN0aW9uIj9BYm9ydENvbnRyb2xsZXI6Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnNpZ25hbD1uZXcgbH1hYm9ydChqPW5ldyBFcnJvcigiVGhpcyBvcGVyYXRpb24gd2FzIGFib3J0ZWQiKSl7dGhpcy5zaWduYWwucmVhc29uPXRoaXMuc2lnbmFsLnJlYXNvbnx8aix0aGlzLnNpZ25hbC5hYm9ydGVkPSEwLHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQoe3R5cGU6ImFib3J0Iix0YXJnZXQ6dGhpcy5zaWduYWx9KX19LGQ9dHlwZW9mIEFib3J0U2lnbmFsPT0iZnVuY3Rpb24iLGg9dHlwZW9mIG8uQWJvcnRTaWduYWw9PSJmdW5jdGlvbiIsbD1kP0Fib3J0U2lnbmFsOmg/by5BYm9ydENvbnRyb2xsZXI6Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnJlYXNvbj12b2lkIDAsdGhpcy5hYm9ydGVkPSExLHRoaXMuX2xpc3RlbmVycz1bXX1kaXNwYXRjaEV2ZW50KGope2oudHlwZT09PSJhYm9ydCImJih0aGlzLmFib3J0ZWQ9ITAsdGhpcy5vbmFib3J0KGopLHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKFA9PlAoaiksdGhpcykpfW9uYWJvcnQoKXt9YWRkRXZlbnRMaXN0ZW5lcihqLFApe2o9PT0iYWJvcnQiJiZ0aGlzLl9saXN0ZW5lcnMucHVzaChQKX1yZW1vdmVFdmVudExpc3RlbmVyKGosUCl7aj09PSJhYm9ydCImJih0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzLmZpbHRlcihGPT5GIT09UCkpfX0sdT1uZXcgU2V0LHA9KEMsaik9Pntjb25zdCBQPWBMUlVfQ0FDSEVfT1BUSU9OXyR7Q31gO18oUCkmJk8oUCxgJHtDfSBvcHRpb25gLGBvcHRpb25zLiR7an1gLEwpfSxnPShDLGopPT57Y29uc3QgUD1gTFJVX0NBQ0hFX01FVEhPRF8ke0N9YDtpZihfKFApKXtjb25zdHtwcm90b3R5cGU6Rn09TCx7Z2V0Omt9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRixDKTtPKFAsYCR7Q30gbWV0aG9kYCxgY2FjaGUuJHtqfSgpYCxrKX19LHY9KEMsaik9Pntjb25zdCBQPWBMUlVfQ0FDSEVfUFJPUEVSVFlfJHtDfWA7aWYoXyhQKSl7Y29uc3R7cHJvdG90eXBlOkZ9PUwse2dldDprfT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEYsQyk7TyhQLGAke0N9IHByb3BlcnR5YCxgY2FjaGUuJHtqfWAsayl9fSxiPSguLi5DKT0+e3R5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmcHJvY2VzcyYmdHlwZW9mIHByb2Nlc3MuZW1pdFdhcm5pbmc9PSJmdW5jdGlvbiI/cHJvY2Vzcy5lbWl0V2FybmluZyguLi5DKTpjb25zb2xlLmVycm9yKC4uLkMpfSxfPUM9PiF1LmhhcyhDKSxPPShDLGosUCxGKT0+e3UuYWRkKEMpO2NvbnN0IGs9YFRoZSAke2p9IGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJHtQfSBpbnN0ZWFkLmA7YihrLCJEZXByZWNhdGlvbldhcm5pbmciLEMsRil9LFQ9Qz0+QyYmQz09PU1hdGguZmxvb3IoQykmJkM+MCYmaXNGaW5pdGUoQyksUz1DPT5UKEMpP0M8PU1hdGgucG93KDIsOCk/VWludDhBcnJheTpDPD1NYXRoLnBvdygyLDE2KT9VaW50MTZBcnJheTpDPD1NYXRoLnBvdygyLDMyKT9VaW50MzJBcnJheTpDPD1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9OOm51bGw6bnVsbDtjbGFzcyBOIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3Ioail7c3VwZXIoaiksdGhpcy5maWxsKDApfX1jbGFzcyBCe2NvbnN0cnVjdG9yKGope2lmKGo9PT0wKXJldHVybltdO2NvbnN0IFA9UyhqKTt0aGlzLmhlYXA9bmV3IFAoaiksdGhpcy5sZW5ndGg9MH1wdXNoKGope3RoaXMuaGVhcFt0aGlzLmxlbmd0aCsrXT1qfXBvcCgpe3JldHVybiB0aGlzLmhlYXBbLS10aGlzLmxlbmd0aF19fWNsYXNzIEx7Y29uc3RydWN0b3Ioaj17fSl7Y29uc3R7bWF4OlA9MCx0dGw6Rix0dGxSZXNvbHV0aW9uOms9MSx0dGxBdXRvcHVyZ2U6Six1cGRhdGVBZ2VPbkdldDphZSx1cGRhdGVBZ2VPbkhhczpYLGFsbG93U3RhbGU6RyxkaXNwb3NlOnJlLGRpc3Bvc2VBZnRlcjpNLG5vRGlzcG9zZU9uU2V0OiQsbm9VcGRhdGVUVEw6VSxtYXhTaXplOkg9MCxtYXhFbnRyeVNpemU6ZWU9MCxzaXplQ2FsY3VsYXRpb246Z2UsZmV0Y2hNZXRob2Q6bWUsZmV0Y2hDb250ZXh0OmZlLG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjpoZSxub0RlbGV0ZU9uU3RhbGVHZXQ6X2UsYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb246eGUsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpSZSxpZ25vcmVGZXRjaEFib3J0OkllfT1qLHtsZW5ndGg6TmUsbWF4QWdlOnZlLHN0YWxlOkNlfT1qIGluc3RhbmNlb2YgTD97fTpqO2lmKFAhPT0wJiYhVChQKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtYXggb3B0aW9uIG11c3QgYmUgYSBub25uZWdhdGl2ZSBpbnRlZ2VyIik7Y29uc3QgTWU9UD9TKFApOkFycmF5O2lmKCFNZSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgbWF4IHZhbHVlOiAiK1ApO2lmKHRoaXMubWF4PVAsdGhpcy5tYXhTaXplPUgsdGhpcy5tYXhFbnRyeVNpemU9ZWV8fHRoaXMubWF4U2l6ZSx0aGlzLnNpemVDYWxjdWxhdGlvbj1nZXx8TmUsdGhpcy5zaXplQ2FsY3VsYXRpb24pe2lmKCF0aGlzLm1heFNpemUmJiF0aGlzLm1heEVudHJ5U2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJjYW5ub3Qgc2V0IHNpemVDYWxjdWxhdGlvbiB3aXRob3V0IHNldHRpbmcgbWF4U2l6ZSBvciBtYXhFbnRyeVNpemUiKTtpZih0eXBlb2YgdGhpcy5zaXplQ2FsY3VsYXRpb24hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigic2l6ZUNhbGN1bGF0aW9uIHNldCB0byBub24tZnVuY3Rpb24iKX1pZih0aGlzLmZldGNoTWV0aG9kPW1lfHxudWxsLHRoaXMuZmV0Y2hNZXRob2QmJnR5cGVvZiB0aGlzLmZldGNoTWV0aG9kIT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImZldGNoTWV0aG9kIG11c3QgYmUgYSBmdW5jdGlvbiBpZiBzcGVjaWZpZWQiKTtpZih0aGlzLmZldGNoQ29udGV4dD1mZSwhdGhpcy5mZXRjaE1ldGhvZCYmZmUhPT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcigiY2Fubm90IHNldCBmZXRjaENvbnRleHQgd2l0aG91dCBmZXRjaE1ldGhvZCIpO2lmKHRoaXMua2V5TWFwPW5ldyBNYXAsdGhpcy5rZXlMaXN0PW5ldyBBcnJheShQKS5maWxsKG51bGwpLHRoaXMudmFsTGlzdD1uZXcgQXJyYXkoUCkuZmlsbChudWxsKSx0aGlzLm5leHQ9bmV3IE1lKFApLHRoaXMucHJldj1uZXcgTWUoUCksdGhpcy5oZWFkPTAsdGhpcy50YWlsPTAsdGhpcy5mcmVlPW5ldyBCKFApLHRoaXMuaW5pdGlhbEZpbGw9MSx0aGlzLnNpemU9MCx0eXBlb2YgcmU9PSJmdW5jdGlvbiImJih0aGlzLmRpc3Bvc2U9cmUpLHR5cGVvZiBNPT0iZnVuY3Rpb24iPyh0aGlzLmRpc3Bvc2VBZnRlcj1NLHRoaXMuZGlzcG9zZWQ9W10pOih0aGlzLmRpc3Bvc2VBZnRlcj1udWxsLHRoaXMuZGlzcG9zZWQ9bnVsbCksdGhpcy5ub0Rpc3Bvc2VPblNldD0hISQsdGhpcy5ub1VwZGF0ZVRUTD0hIVUsdGhpcy5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb249ISFoZSx0aGlzLmFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uPSEheGUsdGhpcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0PSEhUmUsdGhpcy5pZ25vcmVGZXRjaEFib3J0PSEhSWUsdGhpcy5tYXhFbnRyeVNpemUhPT0wKXtpZih0aGlzLm1heFNpemUhPT0wJiYhVCh0aGlzLm1heFNpemUpKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heFNpemUgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgaWYgc3BlY2lmaWVkIik7aWYoIVQodGhpcy5tYXhFbnRyeVNpemUpKXRocm93IG5ldyBUeXBlRXJyb3IoIm1heEVudHJ5U2l6ZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBpZiBzcGVjaWZpZWQiKTt0aGlzLmluaXRpYWxpemVTaXplVHJhY2tpbmcoKX1pZih0aGlzLmFsbG93U3RhbGU9ISFHfHwhIUNlLHRoaXMubm9EZWxldGVPblN0YWxlR2V0PSEhX2UsdGhpcy51cGRhdGVBZ2VPbkdldD0hIWFlLHRoaXMudXBkYXRlQWdlT25IYXM9ISFYLHRoaXMudHRsUmVzb2x1dGlvbj1UKGspfHxrPT09MD9rOjEsdGhpcy50dGxBdXRvcHVyZ2U9ISFKLHRoaXMudHRsPUZ8fHZlfHwwLHRoaXMudHRsKXtpZighVCh0aGlzLnR0bCkpdGhyb3cgbmV3IFR5cGVFcnJvcigidHRsIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGlmIHNwZWNpZmllZCIpO3RoaXMuaW5pdGlhbGl6ZVRUTFRyYWNraW5nKCl9aWYodGhpcy5tYXg9PT0wJiZ0aGlzLnR0bD09PTAmJnRoaXMubWF4U2l6ZT09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiQXQgbGVhc3Qgb25lIG9mIG1heCwgbWF4U2l6ZSwgb3IgdHRsIGlzIHJlcXVpcmVkIik7aWYoIXRoaXMudHRsQXV0b3B1cmdlJiYhdGhpcy5tYXgmJiF0aGlzLm1heFNpemUpe2NvbnN0IFVlPSJMUlVfQ0FDSEVfVU5CT1VOREVEIjtfKFVlKSYmKHUuYWRkKFVlKSxiKCJUVEwgY2FjaGluZyB3aXRob3V0IHR0bEF1dG9wdXJnZSwgbWF4LCBvciBtYXhTaXplIGNhbiByZXN1bHQgaW4gdW5ib3VuZGVkIG1lbW9yeSBjb25zdW1wdGlvbi4iLCJVbmJvdW5kZWRDYWNoZVdhcm5pbmciLFVlLEwpKX1DZSYmcCgic3RhbGUiLCJhbGxvd1N0YWxlIiksdmUmJnAoIm1heEFnZSIsInR0bCIpLE5lJiZwKCJsZW5ndGgiLCJzaXplQ2FsY3VsYXRpb24iKX1nZXRSZW1haW5pbmdUVEwoail7cmV0dXJuIHRoaXMuaGFzKGose3VwZGF0ZUFnZU9uSGFzOiExfSk/MS8wOjB9aW5pdGlhbGl6ZVRUTFRyYWNraW5nKCl7dGhpcy50dGxzPW5ldyBOKHRoaXMubWF4KSx0aGlzLnN0YXJ0cz1uZXcgTih0aGlzLm1heCksdGhpcy5zZXRJdGVtVFRMPShGLGssSj1lLm5vdygpKT0+e2lmKHRoaXMuc3RhcnRzW0ZdPWshPT0wP0o6MCx0aGlzLnR0bHNbRl09ayxrIT09MCYmdGhpcy50dGxBdXRvcHVyZ2Upe2NvbnN0IGFlPXNldFRpbWVvdXQoKCk9Pnt0aGlzLmlzU3RhbGUoRikmJnRoaXMuZGVsZXRlKHRoaXMua2V5TGlzdFtGXSl9LGsrMSk7YWUudW5yZWYmJmFlLnVucmVmKCl9fSx0aGlzLnVwZGF0ZUl0ZW1BZ2U9Rj0+e3RoaXMuc3RhcnRzW0ZdPXRoaXMudHRsc1tGXSE9PTA/ZS5ub3coKTowfSx0aGlzLnN0YXR1c1RUTD0oRixrKT0+e0YmJihGLnR0bD10aGlzLnR0bHNba10sRi5zdGFydD10aGlzLnN0YXJ0c1trXSxGLm5vdz1qfHxQKCksRi5yZW1haW5pbmdUVEw9Ri5ub3crRi50dGwtRi5zdGFydCl9O2xldCBqPTA7Y29uc3QgUD0oKT0+e2NvbnN0IEY9ZS5ub3coKTtpZih0aGlzLnR0bFJlc29sdXRpb24+MCl7aj1GO2NvbnN0IGs9c2V0VGltZW91dCgoKT0+aj0wLHRoaXMudHRsUmVzb2x1dGlvbik7ay51bnJlZiYmay51bnJlZigpfXJldHVybiBGfTt0aGlzLmdldFJlbWFpbmluZ1RUTD1GPT57Y29uc3Qgaz10aGlzLmtleU1hcC5nZXQoRik7cmV0dXJuIGs9PT12b2lkIDA/MDp0aGlzLnR0bHNba109PT0wfHx0aGlzLnN0YXJ0c1trXT09PTA/MS8wOnRoaXMuc3RhcnRzW2tdK3RoaXMudHRsc1trXS0oanx8UCgpKX0sdGhpcy5pc1N0YWxlPUY9PnRoaXMudHRsc1tGXSE9PTAmJnRoaXMuc3RhcnRzW0ZdIT09MCYmKGp8fFAoKSktdGhpcy5zdGFydHNbRl0+dGhpcy50dGxzW0ZdfXVwZGF0ZUl0ZW1BZ2Uoail7fXN0YXR1c1RUTChqLFApe31zZXRJdGVtVFRMKGosUCxGKXt9aXNTdGFsZShqKXtyZXR1cm4hMX1pbml0aWFsaXplU2l6ZVRyYWNraW5nKCl7dGhpcy5jYWxjdWxhdGVkU2l6ZT0wLHRoaXMuc2l6ZXM9bmV3IE4odGhpcy5tYXgpLHRoaXMucmVtb3ZlSXRlbVNpemU9aj0+e3RoaXMuY2FsY3VsYXRlZFNpemUtPXRoaXMuc2l6ZXNbal0sdGhpcy5zaXplc1tqXT0wfSx0aGlzLnJlcXVpcmVTaXplPShqLFAsRixrKT0+e2lmKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goUCkpcmV0dXJuIDA7aWYoIVQoRikpaWYoayl7aWYodHlwZW9mIGshPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigic2l6ZUNhbGN1bGF0aW9uIG11c3QgYmUgYSBmdW5jdGlvbiIpO2lmKEY9ayhQLGopLCFUKEYpKXRocm93IG5ldyBUeXBlRXJyb3IoInNpemVDYWxjdWxhdGlvbiByZXR1cm4gaW52YWxpZCAoZXhwZWN0IHBvc2l0aXZlIGludGVnZXIpIil9ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJpbnZhbGlkIHNpemUgdmFsdWUgKG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlcikuIFdoZW4gbWF4U2l6ZSBvciBtYXhFbnRyeVNpemUgaXMgdXNlZCwgc2l6ZUNhbGN1bGF0aW9uIG9yIHNpemUgbXVzdCBiZSBzZXQuIik7cmV0dXJuIEZ9LHRoaXMuYWRkSXRlbVNpemU9KGosUCxGKT0+e2lmKHRoaXMuc2l6ZXNbal09UCx0aGlzLm1heFNpemUpe2NvbnN0IGs9dGhpcy5tYXhTaXplLXRoaXMuc2l6ZXNbal07Zm9yKDt0aGlzLmNhbGN1bGF0ZWRTaXplPms7KXRoaXMuZXZpY3QoITApfXRoaXMuY2FsY3VsYXRlZFNpemUrPXRoaXMuc2l6ZXNbal0sRiYmKEYuZW50cnlTaXplPVAsRi50b3RhbENhbGN1bGF0ZWRTaXplPXRoaXMuY2FsY3VsYXRlZFNpemUpfX1yZW1vdmVJdGVtU2l6ZShqKXt9YWRkSXRlbVNpemUoaixQKXt9cmVxdWlyZVNpemUoaixQLEYsayl7aWYoRnx8ayl0aHJvdyBuZXcgVHlwZUVycm9yKCJjYW5ub3Qgc2V0IHNpemUgd2l0aG91dCBzZXR0aW5nIG1heFNpemUgb3IgbWF4RW50cnlTaXplIG9uIGNhY2hlIil9KmluZGV4ZXMoe2FsbG93U3RhbGU6aj10aGlzLmFsbG93U3RhbGV9PXt9KXtpZih0aGlzLnNpemUpZm9yKGxldCBQPXRoaXMudGFpbDshKCF0aGlzLmlzVmFsaWRJbmRleChQKXx8KChqfHwhdGhpcy5pc1N0YWxlKFApKSYmKHlpZWxkIFApLFA9PT10aGlzLmhlYWQpKTspUD10aGlzLnByZXZbUF19KnJpbmRleGVzKHthbGxvd1N0YWxlOmo9dGhpcy5hbGxvd1N0YWxlfT17fSl7aWYodGhpcy5zaXplKWZvcihsZXQgUD10aGlzLmhlYWQ7ISghdGhpcy5pc1ZhbGlkSW5kZXgoUCl8fCgoanx8IXRoaXMuaXNTdGFsZShQKSkmJih5aWVsZCBQKSxQPT09dGhpcy50YWlsKSk7KVA9dGhpcy5uZXh0W1BdfWlzVmFsaWRJbmRleChqKXtyZXR1cm4gaiE9PXZvaWQgMCYmdGhpcy5rZXlNYXAuZ2V0KHRoaXMua2V5TGlzdFtqXSk9PT1qfSplbnRyaWVzKCl7Zm9yKGNvbnN0IGogb2YgdGhpcy5pbmRleGVzKCkpdGhpcy52YWxMaXN0W2pdIT09dm9pZCAwJiZ0aGlzLmtleUxpc3Rbal0hPT12b2lkIDAmJiF0aGlzLmlzQmFja2dyb3VuZEZldGNoKHRoaXMudmFsTGlzdFtqXSkmJih5aWVsZFt0aGlzLmtleUxpc3Rbal0sdGhpcy52YWxMaXN0W2pdXSl9KnJlbnRyaWVzKCl7Zm9yKGNvbnN0IGogb2YgdGhpcy5yaW5kZXhlcygpKXRoaXMudmFsTGlzdFtqXSE9PXZvaWQgMCYmdGhpcy5rZXlMaXN0W2pdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3Rbal0pJiYoeWllbGRbdGhpcy5rZXlMaXN0W2pdLHRoaXMudmFsTGlzdFtqXV0pfSprZXlzKCl7Zm9yKGNvbnN0IGogb2YgdGhpcy5pbmRleGVzKCkpdGhpcy5rZXlMaXN0W2pdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3Rbal0pJiYoeWllbGQgdGhpcy5rZXlMaXN0W2pdKX0qcmtleXMoKXtmb3IoY29uc3QgaiBvZiB0aGlzLnJpbmRleGVzKCkpdGhpcy5rZXlMaXN0W2pdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3Rbal0pJiYoeWllbGQgdGhpcy5rZXlMaXN0W2pdKX0qdmFsdWVzKCl7Zm9yKGNvbnN0IGogb2YgdGhpcy5pbmRleGVzKCkpdGhpcy52YWxMaXN0W2pdIT09dm9pZCAwJiYhdGhpcy5pc0JhY2tncm91bmRGZXRjaCh0aGlzLnZhbExpc3Rbal0pJiYoeWllbGQgdGhpcy52YWxMaXN0W2pdKX0qcnZhbHVlcygpe2Zvcihjb25zdCBqIG9mIHRoaXMucmluZGV4ZXMoKSl0aGlzLnZhbExpc3Rbal0hPT12b2lkIDAmJiF0aGlzLmlzQmFja2dyb3VuZEZldGNoKHRoaXMudmFsTGlzdFtqXSkmJih5aWVsZCB0aGlzLnZhbExpc3Rbal0pfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfWZpbmQoaixQKXtmb3IoY29uc3QgRiBvZiB0aGlzLmluZGV4ZXMoKSl7Y29uc3Qgaz10aGlzLnZhbExpc3RbRl0sSj10aGlzLmlzQmFja2dyb3VuZEZldGNoKGspP2suX19zdGFsZVdoaWxlRmV0Y2hpbmc6aztpZihKIT09dm9pZCAwJiZqKEosdGhpcy5rZXlMaXN0W0ZdLHRoaXMpKXJldHVybiB0aGlzLmdldCh0aGlzLmtleUxpc3RbRl0sUCl9fWZvckVhY2goaixQPXRoaXMpe2Zvcihjb25zdCBGIG9mIHRoaXMuaW5kZXhlcygpKXtjb25zdCBrPXRoaXMudmFsTGlzdFtGXSxKPXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goayk/ay5fX3N0YWxlV2hpbGVGZXRjaGluZzprO0ohPT12b2lkIDAmJmouY2FsbChQLEosdGhpcy5rZXlMaXN0W0ZdLHRoaXMpfX1yZm9yRWFjaChqLFA9dGhpcyl7Zm9yKGNvbnN0IEYgb2YgdGhpcy5yaW5kZXhlcygpKXtjb25zdCBrPXRoaXMudmFsTGlzdFtGXSxKPXRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goayk/ay5fX3N0YWxlV2hpbGVGZXRjaGluZzprO0ohPT12b2lkIDAmJmouY2FsbChQLEosdGhpcy5rZXlMaXN0W0ZdLHRoaXMpfX1nZXQgcHJ1bmUoKXtyZXR1cm4gZygicHJ1bmUiLCJwdXJnZVN0YWxlIiksdGhpcy5wdXJnZVN0YWxlfXB1cmdlU3RhbGUoKXtsZXQgaj0hMTtmb3IoY29uc3QgUCBvZiB0aGlzLnJpbmRleGVzKHthbGxvd1N0YWxlOiEwfSkpdGhpcy5pc1N0YWxlKFApJiYodGhpcy5kZWxldGUodGhpcy5rZXlMaXN0W1BdKSxqPSEwKTtyZXR1cm4gan1kdW1wKCl7Y29uc3Qgaj1bXTtmb3IoY29uc3QgUCBvZiB0aGlzLmluZGV4ZXMoe2FsbG93U3RhbGU6ITB9KSl7Y29uc3QgRj10aGlzLmtleUxpc3RbUF0saz10aGlzLnZhbExpc3RbUF0sSj10aGlzLmlzQmFja2dyb3VuZEZldGNoKGspP2suX19zdGFsZVdoaWxlRmV0Y2hpbmc6aztpZihKPT09dm9pZCAwKWNvbnRpbnVlO2NvbnN0IGFlPXt2YWx1ZTpKfTtpZih0aGlzLnR0bHMpe2FlLnR0bD10aGlzLnR0bHNbUF07Y29uc3QgWD1lLm5vdygpLXRoaXMuc3RhcnRzW1BdO2FlLnN0YXJ0PU1hdGguZmxvb3IoRGF0ZS5ub3coKS1YKX10aGlzLnNpemVzJiYoYWUuc2l6ZT10aGlzLnNpemVzW1BdKSxqLnVuc2hpZnQoW0YsYWVdKX1yZXR1cm4gan1sb2FkKGope3RoaXMuY2xlYXIoKTtmb3IoY29uc3RbUCxGXW9mIGope2lmKEYuc3RhcnQpe2NvbnN0IGs9RGF0ZS5ub3coKS1GLnN0YXJ0O0Yuc3RhcnQ9ZS5ub3coKS1rfXRoaXMuc2V0KFAsRi52YWx1ZSxGKX19ZGlzcG9zZShqLFAsRil7fXNldChqLFAse3R0bDpGPXRoaXMudHRsLHN0YXJ0Omssbm9EaXNwb3NlT25TZXQ6Sj10aGlzLm5vRGlzcG9zZU9uU2V0LHNpemU6YWU9MCxzaXplQ2FsY3VsYXRpb246WD10aGlzLnNpemVDYWxjdWxhdGlvbixub1VwZGF0ZVRUTDpHPXRoaXMubm9VcGRhdGVUVEwsc3RhdHVzOnJlfT17fSl7aWYoYWU9dGhpcy5yZXF1aXJlU2l6ZShqLFAsYWUsWCksdGhpcy5tYXhFbnRyeVNpemUmJmFlPnRoaXMubWF4RW50cnlTaXplKXJldHVybiByZSYmKHJlLnNldD0ibWlzcyIscmUubWF4RW50cnlTaXplRXhjZWVkZWQ9ITApLHRoaXMuZGVsZXRlKGopLHRoaXM7bGV0IE09dGhpcy5zaXplPT09MD92b2lkIDA6dGhpcy5rZXlNYXAuZ2V0KGopO2lmKE09PT12b2lkIDApTT10aGlzLm5ld0luZGV4KCksdGhpcy5rZXlMaXN0W01dPWosdGhpcy52YWxMaXN0W01dPVAsdGhpcy5rZXlNYXAuc2V0KGosTSksdGhpcy5uZXh0W3RoaXMudGFpbF09TSx0aGlzLnByZXZbTV09dGhpcy50YWlsLHRoaXMudGFpbD1NLHRoaXMuc2l6ZSsrLHRoaXMuYWRkSXRlbVNpemUoTSxhZSxyZSkscmUmJihyZS5zZXQ9ImFkZCIpLEc9ITE7ZWxzZXt0aGlzLm1vdmVUb1RhaWwoTSk7Y29uc3QgJD10aGlzLnZhbExpc3RbTV07aWYoUCE9PSQpe2lmKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goJCk/JC5fX2Fib3J0Q29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoInJlcGxhY2VkIikpOkp8fCh0aGlzLmRpc3Bvc2UoJCxqLCJzZXQiKSx0aGlzLmRpc3Bvc2VBZnRlciYmdGhpcy5kaXNwb3NlZC5wdXNoKFskLGosInNldCJdKSksdGhpcy5yZW1vdmVJdGVtU2l6ZShNKSx0aGlzLnZhbExpc3RbTV09UCx0aGlzLmFkZEl0ZW1TaXplKE0sYWUscmUpLHJlKXtyZS5zZXQ9InJlcGxhY2UiO2NvbnN0IFU9JCYmdGhpcy5pc0JhY2tncm91bmRGZXRjaCgkKT8kLl9fc3RhbGVXaGlsZUZldGNoaW5nOiQ7VSE9PXZvaWQgMCYmKHJlLm9sZFZhbHVlPVUpfX1lbHNlIHJlJiYocmUuc2V0PSJ1cGRhdGUiKX1pZihGIT09MCYmdGhpcy50dGw9PT0wJiYhdGhpcy50dGxzJiZ0aGlzLmluaXRpYWxpemVUVExUcmFja2luZygpLEd8fHRoaXMuc2V0SXRlbVRUTChNLEYsayksdGhpcy5zdGF0dXNUVEwocmUsTSksdGhpcy5kaXNwb3NlQWZ0ZXIpZm9yKDt0aGlzLmRpc3Bvc2VkLmxlbmd0aDspdGhpcy5kaXNwb3NlQWZ0ZXIoLi4udGhpcy5kaXNwb3NlZC5zaGlmdCgpKTtyZXR1cm4gdGhpc31uZXdJbmRleCgpe3JldHVybiB0aGlzLnNpemU9PT0wP3RoaXMudGFpbDp0aGlzLnNpemU9PT10aGlzLm1heCYmdGhpcy5tYXghPT0wP3RoaXMuZXZpY3QoITEpOnRoaXMuZnJlZS5sZW5ndGghPT0wP3RoaXMuZnJlZS5wb3AoKTp0aGlzLmluaXRpYWxGaWxsKyt9cG9wKCl7aWYodGhpcy5zaXplKXtjb25zdCBqPXRoaXMudmFsTGlzdFt0aGlzLmhlYWRdO3JldHVybiB0aGlzLmV2aWN0KCEwKSxqfX1ldmljdChqKXtjb25zdCBQPXRoaXMuaGVhZCxGPXRoaXMua2V5TGlzdFtQXSxrPXRoaXMudmFsTGlzdFtQXTtyZXR1cm4gdGhpcy5pc0JhY2tncm91bmRGZXRjaChrKT9rLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcigiZXZpY3RlZCIpKToodGhpcy5kaXNwb3NlKGssRiwiZXZpY3QiKSx0aGlzLmRpc3Bvc2VBZnRlciYmdGhpcy5kaXNwb3NlZC5wdXNoKFtrLEYsImV2aWN0Il0pKSx0aGlzLnJlbW92ZUl0ZW1TaXplKFApLGomJih0aGlzLmtleUxpc3RbUF09bnVsbCx0aGlzLnZhbExpc3RbUF09bnVsbCx0aGlzLmZyZWUucHVzaChQKSksdGhpcy5oZWFkPXRoaXMubmV4dFtQXSx0aGlzLmtleU1hcC5kZWxldGUoRiksdGhpcy5zaXplLS0sUH1oYXMoaix7dXBkYXRlQWdlT25IYXM6UD10aGlzLnVwZGF0ZUFnZU9uSGFzLHN0YXR1czpGfT17fSl7Y29uc3Qgaz10aGlzLmtleU1hcC5nZXQoaik7aWYoayE9PXZvaWQgMClpZih0aGlzLmlzU3RhbGUoaykpRiYmKEYuaGFzPSJzdGFsZSIsdGhpcy5zdGF0dXNUVEwoRixrKSk7ZWxzZSByZXR1cm4gUCYmdGhpcy51cGRhdGVJdGVtQWdlKGspLEYmJihGLmhhcz0iaGl0IiksdGhpcy5zdGF0dXNUVEwoRixrKSwhMDtlbHNlIEYmJihGLmhhcz0ibWlzcyIpO3JldHVybiExfXBlZWsoaix7YWxsb3dTdGFsZTpQPXRoaXMuYWxsb3dTdGFsZX09e30pe2NvbnN0IEY9dGhpcy5rZXlNYXAuZ2V0KGopO2lmKEYhPT12b2lkIDAmJihQfHwhdGhpcy5pc1N0YWxlKEYpKSl7Y29uc3Qgaz10aGlzLnZhbExpc3RbRl07cmV0dXJuIHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goayk/ay5fX3N0YWxlV2hpbGVGZXRjaGluZzprfX1iYWNrZ3JvdW5kRmV0Y2goaixQLEYsayl7Y29uc3QgSj1QPT09dm9pZCAwP3ZvaWQgMDp0aGlzLnZhbExpc3RbUF07aWYodGhpcy5pc0JhY2tncm91bmRGZXRjaChKKSlyZXR1cm4gSjtjb25zdCBhZT1uZXcgbztGLnNpZ25hbCYmRi5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcigiYWJvcnQiLCgpPT5hZS5hYm9ydChGLnNpZ25hbC5yZWFzb24pKTtjb25zdCBYPXtzaWduYWw6YWUuc2lnbmFsLG9wdGlvbnM6Rixjb250ZXh0Omt9LEc9KEgsZWU9ITEpPT57Y29uc3R7YWJvcnRlZDpnZX09YWUuc2lnbmFsLG1lPUYuaWdub3JlRmV0Y2hBYm9ydCYmSCE9PXZvaWQgMDtyZXR1cm4gRi5zdGF0dXMmJihnZSYmIWVlPyhGLnN0YXR1cy5mZXRjaEFib3J0ZWQ9ITAsRi5zdGF0dXMuZmV0Y2hFcnJvcj1hZS5zaWduYWwucmVhc29uLG1lJiYoRi5zdGF0dXMuZmV0Y2hBYm9ydElnbm9yZWQ9ITApKTpGLnN0YXR1cy5mZXRjaFJlc29sdmVkPSEwKSxnZSYmIW1lJiYhZWU/TShhZS5zaWduYWwucmVhc29uKToodGhpcy52YWxMaXN0W1BdPT09VSYmKEg9PT12b2lkIDA/VS5fX3N0YWxlV2hpbGVGZXRjaGluZz90aGlzLnZhbExpc3RbUF09VS5fX3N0YWxlV2hpbGVGZXRjaGluZzp0aGlzLmRlbGV0ZShqKTooRi5zdGF0dXMmJihGLnN0YXR1cy5mZXRjaFVwZGF0ZWQ9ITApLHRoaXMuc2V0KGosSCxYLm9wdGlvbnMpKSksSCl9LHJlPUg9PihGLnN0YXR1cyYmKEYuc3RhdHVzLmZldGNoUmVqZWN0ZWQ9ITAsRi5zdGF0dXMuZmV0Y2hFcnJvcj1IKSxNKEgpKSxNPUg9Pntjb25zdHthYm9ydGVkOmVlfT1hZS5zaWduYWwsZ2U9ZWUmJkYuYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydCxtZT1nZXx8Ri5hbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbixmZT1tZXx8Ri5ub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb247aWYodGhpcy52YWxMaXN0W1BdPT09VSYmKCFmZXx8VS5fX3N0YWxlV2hpbGVGZXRjaGluZz09PXZvaWQgMD90aGlzLmRlbGV0ZShqKTpnZXx8KHRoaXMudmFsTGlzdFtQXT1VLl9fc3RhbGVXaGlsZUZldGNoaW5nKSksbWUpcmV0dXJuIEYuc3RhdHVzJiZVLl9fc3RhbGVXaGlsZUZldGNoaW5nIT09dm9pZCAwJiYoRi5zdGF0dXMucmV0dXJuZWRTdGFsZT0hMCksVS5fX3N0YWxlV2hpbGVGZXRjaGluZztpZihVLl9fcmV0dXJuZWQ9PT1VKXRocm93IEh9LCQ9KEgsZWUpPT57dGhpcy5mZXRjaE1ldGhvZChqLEosWCkudGhlbihnZT0+SChnZSksZWUpLGFlLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKCk9PnsoIUYuaWdub3JlRmV0Y2hBYm9ydHx8Ri5hbGxvd1N0YWxlT25GZXRjaEFib3J0KSYmKEgoKSxGLmFsbG93U3RhbGVPbkZldGNoQWJvcnQmJihIPWdlPT5HKGdlLCEwKSkpfSl9O0Yuc3RhdHVzJiYoRi5zdGF0dXMuZmV0Y2hEaXNwYXRjaGVkPSEwKTtjb25zdCBVPW5ldyBQcm9taXNlKCQpLnRoZW4oRyxyZSk7cmV0dXJuIFUuX19hYm9ydENvbnRyb2xsZXI9YWUsVS5fX3N0YWxlV2hpbGVGZXRjaGluZz1KLFUuX19yZXR1cm5lZD1udWxsLFA9PT12b2lkIDA/KHRoaXMuc2V0KGosVSx7Li4uWC5vcHRpb25zLHN0YXR1czp2b2lkIDB9KSxQPXRoaXMua2V5TWFwLmdldChqKSk6dGhpcy52YWxMaXN0W1BdPVUsVX1pc0JhY2tncm91bmRGZXRjaChqKXtyZXR1cm4gaiYmdHlwZW9mIGo9PSJvYmplY3QiJiZ0eXBlb2Ygai50aGVuPT0iZnVuY3Rpb24iJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaiwiX19zdGFsZVdoaWxlRmV0Y2hpbmciKSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGosIl9fcmV0dXJuZWQiKSYmKGouX19yZXR1cm5lZD09PWp8fGouX19yZXR1cm5lZD09PW51bGwpfWFzeW5jIGZldGNoKGose2FsbG93U3RhbGU6UD10aGlzLmFsbG93U3RhbGUsdXBkYXRlQWdlT25HZXQ6Rj10aGlzLnVwZGF0ZUFnZU9uR2V0LG5vRGVsZXRlT25TdGFsZUdldDprPXRoaXMubm9EZWxldGVPblN0YWxlR2V0LHR0bDpKPXRoaXMudHRsLG5vRGlzcG9zZU9uU2V0OmFlPXRoaXMubm9EaXNwb3NlT25TZXQsc2l6ZTpYPTAsc2l6ZUNhbGN1bGF0aW9uOkc9dGhpcy5zaXplQ2FsY3VsYXRpb24sbm9VcGRhdGVUVEw6cmU9dGhpcy5ub1VwZGF0ZVRUTCxub0RlbGV0ZU9uRmV0Y2hSZWplY3Rpb246TT10aGlzLm5vRGVsZXRlT25GZXRjaFJlamVjdGlvbixhbGxvd1N0YWxlT25GZXRjaFJlamVjdGlvbjokPXRoaXMuYWxsb3dTdGFsZU9uRmV0Y2hSZWplY3Rpb24saWdub3JlRmV0Y2hBYm9ydDpVPXRoaXMuaWdub3JlRmV0Y2hBYm9ydCxhbGxvd1N0YWxlT25GZXRjaEFib3J0Okg9dGhpcy5hbGxvd1N0YWxlT25GZXRjaEFib3J0LGZldGNoQ29udGV4dDplZT10aGlzLmZldGNoQ29udGV4dCxmb3JjZVJlZnJlc2g6Z2U9ITEsc3RhdHVzOm1lLHNpZ25hbDpmZX09e30pe2lmKCF0aGlzLmZldGNoTWV0aG9kKXJldHVybiBtZSYmKG1lLmZldGNoPSJnZXQiKSx0aGlzLmdldChqLHthbGxvd1N0YWxlOlAsdXBkYXRlQWdlT25HZXQ6Rixub0RlbGV0ZU9uU3RhbGVHZXQ6ayxzdGF0dXM6bWV9KTtjb25zdCBoZT17YWxsb3dTdGFsZTpQLHVwZGF0ZUFnZU9uR2V0OkYsbm9EZWxldGVPblN0YWxlR2V0OmssdHRsOkosbm9EaXNwb3NlT25TZXQ6YWUsc2l6ZTpYLHNpemVDYWxjdWxhdGlvbjpHLG5vVXBkYXRlVFRMOnJlLG5vRGVsZXRlT25GZXRjaFJlamVjdGlvbjpNLGFsbG93U3RhbGVPbkZldGNoUmVqZWN0aW9uOiQsYWxsb3dTdGFsZU9uRmV0Y2hBYm9ydDpILGlnbm9yZUZldGNoQWJvcnQ6VSxzdGF0dXM6bWUsc2lnbmFsOmZlfTtsZXQgX2U9dGhpcy5rZXlNYXAuZ2V0KGopO2lmKF9lPT09dm9pZCAwKXttZSYmKG1lLmZldGNoPSJtaXNzIik7Y29uc3QgeGU9dGhpcy5iYWNrZ3JvdW5kRmV0Y2goaixfZSxoZSxlZSk7cmV0dXJuIHhlLl9fcmV0dXJuZWQ9eGV9ZWxzZXtjb25zdCB4ZT10aGlzLnZhbExpc3RbX2VdO2lmKHRoaXMuaXNCYWNrZ3JvdW5kRmV0Y2goeGUpKXtjb25zdCBDZT1QJiZ4ZS5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMDtyZXR1cm4gbWUmJihtZS5mZXRjaD0iaW5mbGlnaHQiLENlJiYobWUucmV0dXJuZWRTdGFsZT0hMCkpLENlP3hlLl9fc3RhbGVXaGlsZUZldGNoaW5nOnhlLl9fcmV0dXJuZWQ9eGV9Y29uc3QgUmU9dGhpcy5pc1N0YWxlKF9lKTtpZighZ2UmJiFSZSlyZXR1cm4gbWUmJihtZS5mZXRjaD0iaGl0IiksdGhpcy5tb3ZlVG9UYWlsKF9lKSxGJiZ0aGlzLnVwZGF0ZUl0ZW1BZ2UoX2UpLHRoaXMuc3RhdHVzVFRMKG1lLF9lKSx4ZTtjb25zdCBJZT10aGlzLmJhY2tncm91bmRGZXRjaChqLF9lLGhlLGVlKSxOZT1JZS5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCx2ZT1OZSYmUDtyZXR1cm4gbWUmJihtZS5mZXRjaD1OZSYmUmU/InN0YWxlIjoicmVmcmVzaCIsdmUmJlJlJiYobWUucmV0dXJuZWRTdGFsZT0hMCkpLHZlP0llLl9fc3RhbGVXaGlsZUZldGNoaW5nOkllLl9fcmV0dXJuZWQ9SWV9fWdldChqLHthbGxvd1N0YWxlOlA9dGhpcy5hbGxvd1N0YWxlLHVwZGF0ZUFnZU9uR2V0OkY9dGhpcy51cGRhdGVBZ2VPbkdldCxub0RlbGV0ZU9uU3RhbGVHZXQ6az10aGlzLm5vRGVsZXRlT25TdGFsZUdldCxzdGF0dXM6Sn09e30pe2NvbnN0IGFlPXRoaXMua2V5TWFwLmdldChqKTtpZihhZSE9PXZvaWQgMCl7Y29uc3QgWD10aGlzLnZhbExpc3RbYWVdLEc9dGhpcy5pc0JhY2tncm91bmRGZXRjaChYKTtyZXR1cm4gdGhpcy5zdGF0dXNUVEwoSixhZSksdGhpcy5pc1N0YWxlKGFlKT8oSiYmKEouZ2V0PSJzdGFsZSIpLEc/KEomJihKLnJldHVybmVkU3RhbGU9UCYmWC5fX3N0YWxlV2hpbGVGZXRjaGluZyE9PXZvaWQgMCksUD9YLl9fc3RhbGVXaGlsZUZldGNoaW5nOnZvaWQgMCk6KGt8fHRoaXMuZGVsZXRlKGopLEomJihKLnJldHVybmVkU3RhbGU9UCksUD9YOnZvaWQgMCkpOihKJiYoSi5nZXQ9ImhpdCIpLEc/WC5fX3N0YWxlV2hpbGVGZXRjaGluZzoodGhpcy5tb3ZlVG9UYWlsKGFlKSxGJiZ0aGlzLnVwZGF0ZUl0ZW1BZ2UoYWUpLFgpKX1lbHNlIEomJihKLmdldD0ibWlzcyIpfWNvbm5lY3QoaixQKXt0aGlzLnByZXZbUF09aix0aGlzLm5leHRbal09UH1tb3ZlVG9UYWlsKGope2ohPT10aGlzLnRhaWwmJihqPT09dGhpcy5oZWFkP3RoaXMuaGVhZD10aGlzLm5leHRbal06dGhpcy5jb25uZWN0KHRoaXMucHJldltqXSx0aGlzLm5leHRbal0pLHRoaXMuY29ubmVjdCh0aGlzLnRhaWwsaiksdGhpcy50YWlsPWopfWdldCBkZWwoKXtyZXR1cm4gZygiZGVsIiwiZGVsZXRlIiksdGhpcy5kZWxldGV9ZGVsZXRlKGope2xldCBQPSExO2lmKHRoaXMuc2l6ZSE9PTApe2NvbnN0IEY9dGhpcy5rZXlNYXAuZ2V0KGopO2lmKEYhPT12b2lkIDApaWYoUD0hMCx0aGlzLnNpemU9PT0xKXRoaXMuY2xlYXIoKTtlbHNle3RoaXMucmVtb3ZlSXRlbVNpemUoRik7Y29uc3Qgaz10aGlzLnZhbExpc3RbRl07dGhpcy5pc0JhY2tncm91bmRGZXRjaChrKT9rLl9fYWJvcnRDb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcigiZGVsZXRlZCIpKToodGhpcy5kaXNwb3NlKGssaiwiZGVsZXRlIiksdGhpcy5kaXNwb3NlQWZ0ZXImJnRoaXMuZGlzcG9zZWQucHVzaChbayxqLCJkZWxldGUiXSkpLHRoaXMua2V5TWFwLmRlbGV0ZShqKSx0aGlzLmtleUxpc3RbRl09bnVsbCx0aGlzLnZhbExpc3RbRl09bnVsbCxGPT09dGhpcy50YWlsP3RoaXMudGFpbD10aGlzLnByZXZbRl06Rj09PXRoaXMuaGVhZD90aGlzLmhlYWQ9dGhpcy5uZXh0W0ZdOih0aGlzLm5leHRbdGhpcy5wcmV2W0ZdXT10aGlzLm5leHRbRl0sdGhpcy5wcmV2W3RoaXMubmV4dFtGXV09dGhpcy5wcmV2W0ZdKSx0aGlzLnNpemUtLSx0aGlzLmZyZWUucHVzaChGKX19aWYodGhpcy5kaXNwb3NlZClmb3IoO3RoaXMuZGlzcG9zZWQubGVuZ3RoOyl0aGlzLmRpc3Bvc2VBZnRlciguLi50aGlzLmRpc3Bvc2VkLnNoaWZ0KCkpO3JldHVybiBQfWNsZWFyKCl7Zm9yKGNvbnN0IGogb2YgdGhpcy5yaW5kZXhlcyh7YWxsb3dTdGFsZTohMH0pKXtjb25zdCBQPXRoaXMudmFsTGlzdFtqXTtpZih0aGlzLmlzQmFja2dyb3VuZEZldGNoKFApKVAuX19hYm9ydENvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKCJkZWxldGVkIikpO2Vsc2V7Y29uc3QgRj10aGlzLmtleUxpc3Rbal07dGhpcy5kaXNwb3NlKFAsRiwiZGVsZXRlIiksdGhpcy5kaXNwb3NlQWZ0ZXImJnRoaXMuZGlzcG9zZWQucHVzaChbUCxGLCJkZWxldGUiXSl9fWlmKHRoaXMua2V5TWFwLmNsZWFyKCksdGhpcy52YWxMaXN0LmZpbGwobnVsbCksdGhpcy5rZXlMaXN0LmZpbGwobnVsbCksdGhpcy50dGxzJiYodGhpcy50dGxzLmZpbGwoMCksdGhpcy5zdGFydHMuZmlsbCgwKSksdGhpcy5zaXplcyYmdGhpcy5zaXplcy5maWxsKDApLHRoaXMuaGVhZD0wLHRoaXMudGFpbD0wLHRoaXMuaW5pdGlhbEZpbGw9MSx0aGlzLmZyZWUubGVuZ3RoPTAsdGhpcy5jYWxjdWxhdGVkU2l6ZT0wLHRoaXMuc2l6ZT0wLHRoaXMuZGlzcG9zZWQpZm9yKDt0aGlzLmRpc3Bvc2VkLmxlbmd0aDspdGhpcy5kaXNwb3NlQWZ0ZXIoLi4udGhpcy5kaXNwb3NlZC5zaGlmdCgpKX1nZXQgcmVzZXQoKXtyZXR1cm4gZygicmVzZXQiLCJjbGVhciIpLHRoaXMuY2xlYXJ9Z2V0IGxlbmd0aCgpe3JldHVybiB2KCJsZW5ndGgiLCJzaXplIiksdGhpcy5zaXplfXN0YXRpYyBnZXQgQWJvcnRDb250cm9sbGVyKCl7cmV0dXJuIG99c3RhdGljIGdldCBBYm9ydFNpZ25hbCgpe3JldHVybiBsfX10LmV4cG9ydHM9TH19LF9fcXVhZHN0b3JlX2NvbXVuaWNhX21vZHVsZV9jYWNoZV9fPXt9O2Z1bmN0aW9uIF9fcXVhZHN0b3JlX2NvbXVuaWNhX3JlcXVpcmVfXyh0KXt2YXIgZT1fX3F1YWRzdG9yZV9jb211bmljYV9tb2R1bGVfY2FjaGVfX1t0XTtpZihlIT09dm9pZCAwKXJldHVybiBlLmV4cG9ydHM7dmFyIG49X19xdWFkc3RvcmVfY29tdW5pY2FfbW9kdWxlX2NhY2hlX19bdF09e2V4cG9ydHM6e319O3JldHVybiBfX3F1YWRzdG9yZV9jb211bmljYV9tb2R1bGVzX19bdF0uY2FsbChuLmV4cG9ydHMsbixuLmV4cG9ydHMsX19xdWFkc3RvcmVfY29tdW5pY2FfcmVxdWlyZV9fKSxuLmV4cG9ydHN9X19xdWFkc3RvcmVfY29tdW5pY2FfcmVxdWlyZV9fLmc9ZnVuY3Rpb24oKXtpZih0eXBlb2YgZ2xvYmFsVGhpcz09Im9iamVjdCIpcmV0dXJuIGdsb2JhbFRoaXM7dHJ5e3JldHVybiB0aGlzfHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaHtpZih0eXBlb2Ygd2luZG93PT0ib2JqZWN0IilyZXR1cm4gd2luZG93fX0oKTt2YXIgX19xdWFkc3RvcmVfY29tdW5pY2FfZXhwb3J0c19fPV9fcXVhZHN0b3JlX2NvbXVuaWNhX3JlcXVpcmVfXygiLi9zcmMvaW5kZXguanMiKSxfX3F1YWRzdG9yZV9jb211bmljYV9leHBvcnRzX19FbmdpbmU9X19xdWFkc3RvcmVfY29tdW5pY2FfZXhwb3J0c19fLkQ7X19xdWFkc3RvcmVfY29tdW5pY2FfZXhwb3J0c19fLkg7Y29uc3QgcHJveHlNYXJrZXI9U3ltYm9sKCJDb21saW5rLnByb3h5IiksY3JlYXRlRW5kcG9pbnQ9U3ltYm9sKCJDb21saW5rLmVuZHBvaW50IikscmVsZWFzZVByb3h5PVN5bWJvbCgiQ29tbGluay5yZWxlYXNlUHJveHkiKSx0aHJvd01hcmtlcj1TeW1ib2woIkNvbWxpbmsudGhyb3duIiksaXNPYmplY3QkMT10PT50eXBlb2YgdD09Im9iamVjdCImJnQhPT1udWxsfHx0eXBlb2YgdD09ImZ1bmN0aW9uIixwcm94eVRyYW5zZmVySGFuZGxlcj17Y2FuSGFuZGxlOnQ9PmlzT2JqZWN0JDEodCkmJnRbcHJveHlNYXJrZXJdLHNlcmlhbGl6ZSh0KXtjb25zdHtwb3J0MTplLHBvcnQyOm59PW5ldyBNZXNzYWdlQ2hhbm5lbDtyZXR1cm4gZXhwb3NlJDEodCxlKSxbbixbbl1dfSxkZXNlcmlhbGl6ZSh0KXtyZXR1cm4gdC5zdGFydCgpLHdyYXAodCl9fSx0aHJvd1RyYW5zZmVySGFuZGxlcj17Y2FuSGFuZGxlOnQ9PmlzT2JqZWN0JDEodCkmJnRocm93TWFya2VyIGluIHQsc2VyaWFsaXplKHt2YWx1ZTp0fSl7bGV0IGU7cmV0dXJuIHQgaW5zdGFuY2VvZiBFcnJvcj9lPXtpc0Vycm9yOiEwLHZhbHVlOnttZXNzYWdlOnQubWVzc2FnZSxuYW1lOnQubmFtZSxzdGFjazp0LnN0YWNrfX06ZT17aXNFcnJvcjohMSx2YWx1ZTp0fSxbZSxbXV19LGRlc2VyaWFsaXplKHQpe3Rocm93IHQuaXNFcnJvcj9PYmplY3QuYXNzaWduKG5ldyBFcnJvcih0LnZhbHVlLm1lc3NhZ2UpLHQudmFsdWUpOnQudmFsdWV9fSx0cmFuc2ZlckhhbmRsZXJzPW5ldyBNYXAoW1sicHJveHkiLHByb3h5VHJhbnNmZXJIYW5kbGVyXSxbInRocm93Iix0aHJvd1RyYW5zZmVySGFuZGxlcl1dKTtmdW5jdGlvbiBleHBvc2UkMSh0LGU9c2VsZil7ZS5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixmdW5jdGlvbiBuKG8pe2lmKCFvfHwhby5kYXRhKXJldHVybjtjb25zdHtpZDpkLHR5cGU6aCxwYXRoOmx9PU9iamVjdC5hc3NpZ24oe3BhdGg6W119LG8uZGF0YSksdT0oby5kYXRhLmFyZ3VtZW50TGlzdHx8W10pLm1hcChmcm9tV2lyZVZhbHVlKTtsZXQgcDt0cnl7Y29uc3QgZz1sLnNsaWNlKDAsLTEpLnJlZHVjZSgoYixfKT0+YltfXSx0KSx2PWwucmVkdWNlKChiLF8pPT5iW19dLHQpO3N3aXRjaChoKXtjYXNlIkdFVCI6cD12O2JyZWFrO2Nhc2UiU0VUIjpnW2wuc2xpY2UoLTEpWzBdXT1mcm9tV2lyZVZhbHVlKG8uZGF0YS52YWx1ZSkscD0hMDticmVhaztjYXNlIkFQUExZIjpwPXYuYXBwbHkoZyx1KTticmVhaztjYXNlIkNPTlNUUlVDVCI6e2NvbnN0IGI9bmV3IHYoLi4udSk7cD1wcm94eShiKX1icmVhaztjYXNlIkVORFBPSU5UIjp7Y29uc3R7cG9ydDE6Yixwb3J0MjpffT1uZXcgTWVzc2FnZUNoYW5uZWw7ZXhwb3NlJDEodCxfKSxwPXRyYW5zZmVyJDEoYixbYl0pfWJyZWFrO2Nhc2UiUkVMRUFTRSI6cD12b2lkIDA7YnJlYWs7ZGVmYXVsdDpyZXR1cm59fWNhdGNoKGcpe3A9e3ZhbHVlOmcsW3Rocm93TWFya2VyXTowfX1Qcm9taXNlLnJlc29sdmUocCkuY2F0Y2goZz0+KHt2YWx1ZTpnLFt0aHJvd01hcmtlcl06MH0pKS50aGVuKGc9Pntjb25zdFt2LGJdPXRvV2lyZVZhbHVlKGcpO2UucG9zdE1lc3NhZ2UoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHYpLHtpZDpkfSksYiksaD09PSJSRUxFQVNFIiYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsbiksY2xvc2VFbmRQb2ludChlKSl9KX0pLGUuc3RhcnQmJmUuc3RhcnQoKX1mdW5jdGlvbiBpc01lc3NhZ2VQb3J0KHQpe3JldHVybiB0LmNvbnN0cnVjdG9yLm5hbWU9PT0iTWVzc2FnZVBvcnQifWZ1bmN0aW9uIGNsb3NlRW5kUG9pbnQodCl7aXNNZXNzYWdlUG9ydCh0KSYmdC5jbG9zZSgpfWZ1bmN0aW9uIHdyYXAodCxlKXtyZXR1cm4gY3JlYXRlUHJveHkodCxbXSxlKX1mdW5jdGlvbiB0aHJvd0lmUHJveHlSZWxlYXNlZCh0KXtpZih0KXRocm93IG5ldyBFcnJvcigiUHJveHkgaGFzIGJlZW4gcmVsZWFzZWQgYW5kIGlzIG5vdCB1c2VhYmxlIil9ZnVuY3Rpb24gY3JlYXRlUHJveHkodCxlPVtdLG49ZnVuY3Rpb24oKXt9KXtsZXQgbz0hMTtjb25zdCBkPW5ldyBQcm94eShuLHtnZXQoaCxsKXtpZih0aHJvd0lmUHJveHlSZWxlYXNlZChvKSxsPT09cmVsZWFzZVByb3h5KXJldHVybigpPT5yZXF1ZXN0UmVzcG9uc2VNZXNzYWdlKHQse3R5cGU6IlJFTEVBU0UiLHBhdGg6ZS5tYXAodT0+dS50b1N0cmluZygpKX0pLnRoZW4oKCk9PntjbG9zZUVuZFBvaW50KHQpLG89ITB9KTtpZihsPT09InRoZW4iKXtpZihlLmxlbmd0aD09PTApcmV0dXJue3RoZW46KCk9PmR9O2NvbnN0IHU9cmVxdWVzdFJlc3BvbnNlTWVzc2FnZSh0LHt0eXBlOiJHRVQiLHBhdGg6ZS5tYXAocD0+cC50b1N0cmluZygpKX0pLnRoZW4oZnJvbVdpcmVWYWx1ZSk7cmV0dXJuIHUudGhlbi5iaW5kKHUpfXJldHVybiBjcmVhdGVQcm94eSh0LFsuLi5lLGxdKX0sc2V0KGgsbCx1KXt0aHJvd0lmUHJveHlSZWxlYXNlZChvKTtjb25zdFtwLGddPXRvV2lyZVZhbHVlKHUpO3JldHVybiByZXF1ZXN0UmVzcG9uc2VNZXNzYWdlKHQse3R5cGU6IlNFVCIscGF0aDpbLi4uZSxsXS5tYXAodj0+di50b1N0cmluZygpKSx2YWx1ZTpwfSxnKS50aGVuKGZyb21XaXJlVmFsdWUpfSxhcHBseShoLGwsdSl7dGhyb3dJZlByb3h5UmVsZWFzZWQobyk7Y29uc3QgcD1lW2UubGVuZ3RoLTFdO2lmKHA9PT1jcmVhdGVFbmRwb2ludClyZXR1cm4gcmVxdWVzdFJlc3BvbnNlTWVzc2FnZSh0LHt0eXBlOiJFTkRQT0lOVCJ9KS50aGVuKGZyb21XaXJlVmFsdWUpO2lmKHA9PT0iYmluZCIpcmV0dXJuIGNyZWF0ZVByb3h5KHQsZS5zbGljZSgwLC0xKSk7Y29uc3RbZyx2XT1wcm9jZXNzQXJndW1lbnRzKHUpO3JldHVybiByZXF1ZXN0UmVzcG9uc2VNZXNzYWdlKHQse3R5cGU6IkFQUExZIixwYXRoOmUubWFwKGI9PmIudG9TdHJpbmcoKSksYXJndW1lbnRMaXN0Omd9LHYpLnRoZW4oZnJvbVdpcmVWYWx1ZSl9LGNvbnN0cnVjdChoLGwpe3Rocm93SWZQcm94eVJlbGVhc2VkKG8pO2NvbnN0W3UscF09cHJvY2Vzc0FyZ3VtZW50cyhsKTtyZXR1cm4gcmVxdWVzdFJlc3BvbnNlTWVzc2FnZSh0LHt0eXBlOiJDT05TVFJVQ1QiLHBhdGg6ZS5tYXAoZz0+Zy50b1N0cmluZygpKSxhcmd1bWVudExpc3Q6dX0scCkudGhlbihmcm9tV2lyZVZhbHVlKX19KTtyZXR1cm4gZH1mdW5jdGlvbiBteUZsYXQodCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sdCl9ZnVuY3Rpb24gcHJvY2Vzc0FyZ3VtZW50cyh0KXtjb25zdCBlPXQubWFwKHRvV2lyZVZhbHVlKTtyZXR1cm5bZS5tYXAobj0+blswXSksbXlGbGF0KGUubWFwKG49Pm5bMV0pKV19Y29uc3QgdHJhbnNmZXJDYWNoZT1uZXcgV2Vha01hcDtmdW5jdGlvbiB0cmFuc2ZlciQxKHQsZSl7cmV0dXJuIHRyYW5zZmVyQ2FjaGUuc2V0KHQsZSksdH1mdW5jdGlvbiBwcm94eSh0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHtbcHJveHlNYXJrZXJdOiEwfSl9ZnVuY3Rpb24gdG9XaXJlVmFsdWUodCl7Zm9yKGNvbnN0W2Usbl1vZiB0cmFuc2ZlckhhbmRsZXJzKWlmKG4uY2FuSGFuZGxlKHQpKXtjb25zdFtvLGRdPW4uc2VyaWFsaXplKHQpO3JldHVyblt7dHlwZToiSEFORExFUiIsbmFtZTplLHZhbHVlOm99LGRdfXJldHVyblt7dHlwZToiUkFXIix2YWx1ZTp0fSx0cmFuc2ZlckNhY2hlLmdldCh0KXx8W11dfWZ1bmN0aW9uIGZyb21XaXJlVmFsdWUodCl7c3dpdGNoKHQudHlwZSl7Y2FzZSJIQU5ETEVSIjpyZXR1cm4gdHJhbnNmZXJIYW5kbGVycy5nZXQodC5uYW1lKS5kZXNlcmlhbGl6ZSh0LnZhbHVlKTtjYXNlIlJBVyI6cmV0dXJuIHQudmFsdWV9fWZ1bmN0aW9uIHJlcXVlc3RSZXNwb25zZU1lc3NhZ2UodCxlLG4pe3JldHVybiBuZXcgUHJvbWlzZShvPT57Y29uc3QgZD1nZW5lcmF0ZVVVSUQoKTt0LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uIGgobCl7IWwuZGF0YXx8IWwuZGF0YS5pZHx8bC5kYXRhLmlkIT09ZHx8KHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCksbyhsLmRhdGEpKX0pLHQuc3RhcnQmJnQuc3RhcnQoKSx0LnBvc3RNZXNzYWdlKE9iamVjdC5hc3NpZ24oe2lkOmR9LGUpLG4pfSl9ZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCl7cmV0dXJuIG5ldyBBcnJheSg0KS5maWxsKDApLm1hcCgoKT0+TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKk51bWJlci5NQVhfU0FGRV9JTlRFR0VSKS50b1N0cmluZygxNikpLmpvaW4oIi0iKX1jb25zdCBET1dOU1RSRUFNX0ZST009Imh0dHA6Ly93ZWJzY2FwZS53YW5kZXJlciNkb3duc3RyZWFtLWZyb20iO3ZhciBmcmVlR2xvYmFsPXR5cGVvZiBnbG9iYWw9PSJvYmplY3QiJiZnbG9iYWwmJmdsb2JhbC5PYmplY3Q9PT1PYmplY3QmJmdsb2JhbCxmcmVlR2xvYmFsJDE9ZnJlZUdsb2JhbCxmcmVlU2VsZj10eXBlb2Ygc2VsZj09Im9iamVjdCImJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLHJvb3QkMT1mcmVlR2xvYmFsJDF8fGZyZWVTZWxmfHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpLHJvb3QkMj1yb290JDEsU3ltYm9sJDE9cm9vdCQyLlN5bWJvbCxTeW1ib2wkMj1TeW1ib2wkMSxvYmplY3RQcm90byQ0PU9iamVjdC5wcm90b3R5cGUsaGFzT3duUHJvcGVydHkkMz1vYmplY3RQcm90byQ0Lmhhc093blByb3BlcnR5LG5hdGl2ZU9iamVjdFRvU3RyaW5nJDE9b2JqZWN0UHJvdG8kNC50b1N0cmluZyxzeW1Ub1N0cmluZ1RhZyQxPVN5bWJvbCQyP1N5bWJvbCQyLnRvU3RyaW5nVGFnOnZvaWQgMDtmdW5jdGlvbiBnZXRSYXdUYWcodCl7dmFyIGU9aGFzT3duUHJvcGVydHkkMy5jYWxsKHQsc3ltVG9TdHJpbmdUYWckMSksbj10W3N5bVRvU3RyaW5nVGFnJDFdO3RyeXt0W3N5bVRvU3RyaW5nVGFnJDFdPXZvaWQgMDt2YXIgbz0hMH1jYXRjaHt9dmFyIGQ9bmF0aXZlT2JqZWN0VG9TdHJpbmckMS5jYWxsKHQpO3JldHVybiBvJiYoZT90W3N5bVRvU3RyaW5nVGFnJDFdPW46ZGVsZXRlIHRbc3ltVG9TdHJpbmdUYWckMV0pLGR9dmFyIG9iamVjdFByb3RvJDM9T2JqZWN0LnByb3RvdHlwZSxuYXRpdmVPYmplY3RUb1N0cmluZz1vYmplY3RQcm90byQzLnRvU3RyaW5nO2Z1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHQpe3JldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHQpfXZhciBudWxsVGFnPSJbb2JqZWN0IE51bGxdIix1bmRlZmluZWRUYWc9IltvYmplY3QgVW5kZWZpbmVkXSIsc3ltVG9TdHJpbmdUYWc9U3ltYm9sJDI/U3ltYm9sJDIudG9TdHJpbmdUYWc6dm9pZCAwO2Z1bmN0aW9uIGJhc2VHZXRUYWcodCl7cmV0dXJuIHQ9PW51bGw/dD09PXZvaWQgMD91bmRlZmluZWRUYWc6bnVsbFRhZzpzeW1Ub1N0cmluZ1RhZyYmc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHQpP2dldFJhd1RhZyh0KTpvYmplY3RUb1N0cmluZyh0KX1mdW5jdGlvbiBpc09iamVjdExpa2UodCl7cmV0dXJuIHQhPW51bGwmJnR5cGVvZiB0PT0ib2JqZWN0In12YXIgc3ltYm9sVGFnPSJbb2JqZWN0IFN5bWJvbF0iO2Z1bmN0aW9uIGlzU3ltYm9sKHQpe3JldHVybiB0eXBlb2YgdD09InN5bWJvbCJ8fGlzT2JqZWN0TGlrZSh0KSYmYmFzZUdldFRhZyh0KT09c3ltYm9sVGFnfXZhciBpc0FycmF5PUFycmF5LmlzQXJyYXksaXNBcnJheSQxPWlzQXJyYXkscmVXaGl0ZXNwYWNlPS9ccy87ZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlLS0mJnJlV2hpdGVzcGFjZS50ZXN0KHQuY2hhckF0KGUpKTspO3JldHVybiBlfXZhciByZVRyaW1TdGFydD0vXlxzKy87ZnVuY3Rpb24gYmFzZVRyaW0odCl7cmV0dXJuIHQmJnQuc2xpY2UoMCx0cmltbWVkRW5kSW5kZXgodCkrMSkucmVwbGFjZShyZVRyaW1TdGFydCwiIil9ZnVuY3Rpb24gaXNPYmplY3QodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIHQhPW51bGwmJihlPT0ib2JqZWN0Inx8ZT09ImZ1bmN0aW9uIil9dmFyIE5BTj0wLzAscmVJc0JhZEhleD0vXlstK10weFswLTlhLWZdKyQvaSxyZUlzQmluYXJ5PS9eMGJbMDFdKyQvaSxyZUlzT2N0YWw9L14wb1swLTddKyQvaSxmcmVlUGFyc2VJbnQ9cGFyc2VJbnQ7ZnVuY3Rpb24gdG9OdW1iZXIodCl7aWYodHlwZW9mIHQ9PSJudW1iZXIiKXJldHVybiB0O2lmKGlzU3ltYm9sKHQpKXJldHVybiBOQU47aWYoaXNPYmplY3QodCkpe3ZhciBlPXR5cGVvZiB0LnZhbHVlT2Y9PSJmdW5jdGlvbiI/dC52YWx1ZU9mKCk6dDt0PWlzT2JqZWN0KGUpP2UrIiI6ZX1pZih0eXBlb2YgdCE9InN0cmluZyIpcmV0dXJuIHQ9PT0wP3Q6K3Q7dD1iYXNlVHJpbSh0KTt2YXIgbj1yZUlzQmluYXJ5LnRlc3QodCk7cmV0dXJuIG58fHJlSXNPY3RhbC50ZXN0KHQpP2ZyZWVQYXJzZUludCh0LnNsaWNlKDIpLG4/Mjo4KTpyZUlzQmFkSGV4LnRlc3QodCk/TkFOOit0fXZhciBJTkZJTklUWT0xLzAsTUFYX0lOVEVHRVI9MTc5NzY5MzEzNDg2MjMxNTdlMjkyO2Z1bmN0aW9uIHRvRmluaXRlKHQpe2lmKCF0KXJldHVybiB0PT09MD90OjA7aWYodD10b051bWJlcih0KSx0PT09SU5GSU5JVFl8fHQ9PT0tSU5GSU5JVFkpe3ZhciBlPXQ8MD8tMToxO3JldHVybiBlKk1BWF9JTlRFR0VSfXJldHVybiB0PT09dD90OjB9ZnVuY3Rpb24gdG9JbnRlZ2VyKHQpe3ZhciBlPXRvRmluaXRlKHQpLG49ZSUxO3JldHVybiBlPT09ZT9uP2UtbjplOjB9ZnVuY3Rpb24gaWRlbnRpdHkkMih0KXtyZXR1cm4gdH12YXIgYXN5bmNUYWc9IltvYmplY3QgQXN5bmNGdW5jdGlvbl0iLGZ1bmNUYWc9IltvYmplY3QgRnVuY3Rpb25dIixnZW5UYWc9IltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dIixwcm94eVRhZz0iW29iamVjdCBQcm94eV0iO2Z1bmN0aW9uIGlzRnVuY3Rpb24odCl7aWYoIWlzT2JqZWN0KHQpKXJldHVybiExO3ZhciBlPWJhc2VHZXRUYWcodCk7cmV0dXJuIGU9PWZ1bmNUYWd8fGU9PWdlblRhZ3x8ZT09YXN5bmNUYWd8fGU9PXByb3h5VGFnfXZhciBjb3JlSnNEYXRhPXJvb3QkMlsiX19jb3JlLWpzX3NoYXJlZF9fIl0sY29yZUpzRGF0YSQxPWNvcmVKc0RhdGEsbWFza1NyY0tleT1mdW5jdGlvbigpe3ZhciB0PS9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSQxJiZjb3JlSnNEYXRhJDEua2V5cyYmY29yZUpzRGF0YSQxLmtleXMuSUVfUFJPVE98fCIiKTtyZXR1cm4gdD8iU3ltYm9sKHNyYylfMS4iK3Q6IiJ9KCk7ZnVuY3Rpb24gaXNNYXNrZWQodCl7cmV0dXJuISFtYXNrU3JjS2V5JiZtYXNrU3JjS2V5IGluIHR9dmFyIGZ1bmNQcm90byQxPUZ1bmN0aW9uLnByb3RvdHlwZSxmdW5jVG9TdHJpbmckMT1mdW5jUHJvdG8kMS50b1N0cmluZztmdW5jdGlvbiB0b1NvdXJjZSh0KXtpZih0IT1udWxsKXt0cnl7cmV0dXJuIGZ1bmNUb1N0cmluZyQxLmNhbGwodCl9Y2F0Y2h7fXRyeXtyZXR1cm4gdCsiIn1jYXRjaHt9fXJldHVybiIifXZhciByZVJlZ0V4cENoYXI9L1tcXF4kLiorPygpW1xde318XS9nLHJlSXNIb3N0Q3Rvcj0vXlxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXF0kLyxmdW5jUHJvdG89RnVuY3Rpb24ucHJvdG90eXBlLG9iamVjdFByb3RvJDI9T2JqZWN0LnByb3RvdHlwZSxmdW5jVG9TdHJpbmc9ZnVuY1Byb3RvLnRvU3RyaW5nLGhhc093blByb3BlcnR5JDI9b2JqZWN0UHJvdG8kMi5oYXNPd25Qcm9wZXJ0eSxyZUlzTmF0aXZlPVJlZ0V4cCgiXiIrZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkkMikucmVwbGFjZShyZVJlZ0V4cENoYXIsIlxcJCYiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcKCl8IGZvciAuKz8oPz1cXFxdKS9nLCIkMS4qPyIpKyIkIik7ZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHQpe2lmKCFpc09iamVjdCh0KXx8aXNNYXNrZWQodCkpcmV0dXJuITE7dmFyIGU9aXNGdW5jdGlvbih0KT9yZUlzTmF0aXZlOnJlSXNIb3N0Q3RvcjtyZXR1cm4gZS50ZXN0KHRvU291cmNlKHQpKX1mdW5jdGlvbiBnZXRWYWx1ZSh0LGUpe3JldHVybiB0Py5bZV19ZnVuY3Rpb24gZ2V0TmF0aXZlKHQsZSl7dmFyIG49Z2V0VmFsdWUodCxlKTtyZXR1cm4gYmFzZUlzTmF0aXZlKG4pP246dm9pZCAwfXZhciBXZWFrTWFwJDE9Z2V0TmF0aXZlKHJvb3QkMiwiV2Vha01hcCIpLFdlYWtNYXAkMj1XZWFrTWFwJDEsbWV0YU1hcD1XZWFrTWFwJDImJm5ldyBXZWFrTWFwJDIsbWV0YU1hcCQxPW1ldGFNYXAsYmFzZVNldERhdGE9bWV0YU1hcCQxP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIG1ldGFNYXAkMS5zZXQodCxlKSx0fTppZGVudGl0eSQyLGJhc2VTZXREYXRhJDE9YmFzZVNldERhdGEsb2JqZWN0Q3JlYXRlPU9iamVjdC5jcmVhdGUsYmFzZUNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFpc09iamVjdChlKSlyZXR1cm57fTtpZihvYmplY3RDcmVhdGUpcmV0dXJuIG9iamVjdENyZWF0ZShlKTt0LnByb3RvdHlwZT1lO3ZhciBuPW5ldyB0O3JldHVybiB0LnByb3RvdHlwZT12b2lkIDAsbn19KCksYmFzZUNyZWF0ZSQxPWJhc2VDcmVhdGU7ZnVuY3Rpb24gY3JlYXRlQ3Rvcih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZVswXSk7Y2FzZSAyOnJldHVybiBuZXcgdChlWzBdLGVbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSk7Y2FzZSA1OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0pO2Nhc2UgNjpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0pO2Nhc2UgNzpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSxlWzRdLGVbNV0sZVs2XSl9dmFyIG49YmFzZUNyZWF0ZSQxKHQucHJvdG90eXBlKSxvPXQuYXBwbHkobixlKTtyZXR1cm4gaXNPYmplY3Qobyk/bzpufX12YXIgV1JBUF9CSU5EX0ZMQUckNj0xO2Z1bmN0aW9uIGNyZWF0ZUJpbmQodCxlLG4pe3ZhciBvPWUmV1JBUF9CSU5EX0ZMQUckNixkPWNyZWF0ZUN0b3IodCk7ZnVuY3Rpb24gaCgpe3ZhciBsPXRoaXMmJnRoaXMhPT1yb290JDImJnRoaXMgaW5zdGFuY2VvZiBoP2Q6dDtyZXR1cm4gbC5hcHBseShvP246dGhpcyxhcmd1bWVudHMpfXJldHVybiBofWZ1bmN0aW9uIGFwcGx5KHQsZSxuKXtzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdC5jYWxsKGUpO2Nhc2UgMTpyZXR1cm4gdC5jYWxsKGUsblswXSk7Y2FzZSAyOnJldHVybiB0LmNhbGwoZSxuWzBdLG5bMV0pO2Nhc2UgMzpyZXR1cm4gdC5jYWxsKGUsblswXSxuWzFdLG5bMl0pfXJldHVybiB0LmFwcGx5KGUsbil9dmFyIG5hdGl2ZU1heCQzPU1hdGgubWF4O2Z1bmN0aW9uIGNvbXBvc2VBcmdzKHQsZSxuLG8pe2Zvcih2YXIgZD0tMSxoPXQubGVuZ3RoLGw9bi5sZW5ndGgsdT0tMSxwPWUubGVuZ3RoLGc9bmF0aXZlTWF4JDMoaC1sLDApLHY9QXJyYXkocCtnKSxiPSFvOysrdTxwOyl2W3VdPWVbdV07Zm9yKDsrK2Q8bDspKGJ8fGQ8aCkmJih2W25bZF1dPXRbZF0pO2Zvcig7Zy0tOyl2W3UrK109dFtkKytdO3JldHVybiB2fXZhciBuYXRpdmVNYXgkMj1NYXRoLm1heDtmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KHQsZSxuLG8pe2Zvcih2YXIgZD0tMSxoPXQubGVuZ3RoLGw9LTEsdT1uLmxlbmd0aCxwPS0xLGc9ZS5sZW5ndGgsdj1uYXRpdmVNYXgkMihoLXUsMCksYj1BcnJheSh2K2cpLF89IW87KytkPHY7KWJbZF09dFtkXTtmb3IodmFyIE89ZDsrK3A8ZzspYltPK3BdPWVbcF07Zm9yKDsrK2w8dTspKF98fGQ8aCkmJihiW08rbltsXV09dFtkKytdKTtyZXR1cm4gYn1mdW5jdGlvbiBjb3VudEhvbGRlcnModCxlKXtmb3IodmFyIG49dC5sZW5ndGgsbz0wO24tLTspdFtuXT09PWUmJisrbztyZXR1cm4gb31mdW5jdGlvbiBiYXNlTG9kYXNoKCl7fXZhciBNQVhfQVJSQVlfTEVOR1RIPTQyOTQ5NjcyOTU7ZnVuY3Rpb24gTGF6eVdyYXBwZXIodCl7dGhpcy5fX3dyYXBwZWRfXz10LHRoaXMuX19hY3Rpb25zX189W10sdGhpcy5fX2Rpcl9fPTEsdGhpcy5fX2ZpbHRlcmVkX189ITEsdGhpcy5fX2l0ZXJhdGVlc19fPVtdLHRoaXMuX190YWtlQ291bnRfXz1NQVhfQVJSQVlfTEVOR1RILHRoaXMuX192aWV3c19fPVtdfUxhenlXcmFwcGVyLnByb3RvdHlwZT1iYXNlQ3JlYXRlJDEoYmFzZUxvZGFzaC5wcm90b3R5cGUpO0xhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1MYXp5V3JhcHBlcjtmdW5jdGlvbiBub29wJDIoKXt9dmFyIGdldERhdGE9bWV0YU1hcCQxP2Z1bmN0aW9uKHQpe3JldHVybiBtZXRhTWFwJDEuZ2V0KHQpfTpub29wJDIsZ2V0RGF0YSQxPWdldERhdGEscmVhbE5hbWVzPXt9LHJlYWxOYW1lcyQxPXJlYWxOYW1lcyxvYmplY3RQcm90byQxPU9iamVjdC5wcm90b3R5cGUsaGFzT3duUHJvcGVydHkkMT1vYmplY3RQcm90byQxLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGdldEZ1bmNOYW1lKHQpe2Zvcih2YXIgZT10Lm5hbWUrIiIsbj1yZWFsTmFtZXMkMVtlXSxvPWhhc093blByb3BlcnR5JDEuY2FsbChyZWFsTmFtZXMkMSxlKT9uLmxlbmd0aDowO28tLTspe3ZhciBkPW5bb10saD1kLmZ1bmM7aWYoaD09bnVsbHx8aD09dClyZXR1cm4gZC5uYW1lfXJldHVybiBlfWZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodCxlKXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fY2hhaW5fXz0hIWUsdGhpcy5fX2luZGV4X189MCx0aGlzLl9fdmFsdWVzX189dm9pZCAwfUxvZGFzaFdyYXBwZXIucHJvdG90eXBlPWJhc2VDcmVhdGUkMShiYXNlTG9kYXNoLnByb3RvdHlwZSk7TG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9TG9kYXNoV3JhcHBlcjtmdW5jdGlvbiBjb3B5QXJyYXkodCxlKXt2YXIgbj0tMSxvPXQubGVuZ3RoO2ZvcihlfHwoZT1BcnJheShvKSk7KytuPG87KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiB3cmFwcGVyQ2xvbmUodCl7aWYodCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKXJldHVybiB0LmNsb25lKCk7dmFyIGU9bmV3IExvZGFzaFdyYXBwZXIodC5fX3dyYXBwZWRfXyx0Ll9fY2hhaW5fXyk7cmV0dXJuIGUuX19hY3Rpb25zX189Y29weUFycmF5KHQuX19hY3Rpb25zX18pLGUuX19pbmRleF9fPXQuX19pbmRleF9fLGUuX192YWx1ZXNfXz10Ll9fdmFsdWVzX18sZX12YXIgb2JqZWN0UHJvdG89T2JqZWN0LnByb3RvdHlwZSxoYXNPd25Qcm9wZXJ0eT1vYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBsb2Rhc2godCl7aWYoaXNPYmplY3RMaWtlKHQpJiYhaXNBcnJheSQxKHQpJiYhKHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpe2lmKHQgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKXJldHVybiB0O2lmKGhhc093blByb3BlcnR5LmNhbGwodCwiX193cmFwcGVkX18iKSlyZXR1cm4gd3JhcHBlckNsb25lKHQpfXJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0KX1sb2Rhc2gucHJvdG90eXBlPWJhc2VMb2Rhc2gucHJvdG90eXBlO2xvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3I9bG9kYXNoO2Z1bmN0aW9uIGlzTGF6aWFibGUodCl7dmFyIGU9Z2V0RnVuY05hbWUodCksbj1sb2Rhc2hbZV07aWYodHlwZW9mIG4hPSJmdW5jdGlvbiJ8fCEoZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKXJldHVybiExO2lmKHQ9PT1uKXJldHVybiEwO3ZhciBvPWdldERhdGEkMShuKTtyZXR1cm4hIW8mJnQ9PT1vWzBdfXZhciBIT1RfQ09VTlQ9ODAwLEhPVF9TUEFOPTE2LG5hdGl2ZU5vdz1EYXRlLm5vdztmdW5jdGlvbiBzaG9ydE91dCh0KXt2YXIgZT0wLG49MDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbz1uYXRpdmVOb3coKSxkPUhPVF9TUEFOLShvLW4pO2lmKG49byxkPjApe2lmKCsrZT49SE9UX0NPVU5UKXJldHVybiBhcmd1bWVudHNbMF19ZWxzZSBlPTA7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9fXZhciBzZXREYXRhPXNob3J0T3V0KGJhc2VTZXREYXRhJDEpLHNldERhdGEkMT1zZXREYXRhLHJlV3JhcERldGFpbHM9L1x7XG5cL1wqIFxbd3JhcHBlZCB3aXRoICguKylcXSBcKi8scmVTcGxpdERldGFpbHM9Lyw/ICYgLztmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyh0KXt2YXIgZT10Lm1hdGNoKHJlV3JhcERldGFpbHMpO3JldHVybiBlP2VbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpOltdfXZhciByZVdyYXBDb21tZW50PS9ceyg/OlxuXC9cKiBcW3dyYXBwZWQgd2l0aCAuK1xdIFwqXC8pP1xuPy87ZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHModCxlKXt2YXIgbj1lLmxlbmd0aDtpZighbilyZXR1cm4gdDt2YXIgbz1uLTE7cmV0dXJuIGVbb109KG4+MT8iJiAiOiIiKStlW29dLGU9ZS5qb2luKG4+Mj8iLCAiOiIgIiksdC5yZXBsYWNlKHJlV3JhcENvbW1lbnQsYHsKLyogW3dyYXBwZWQgd2l0aCBgK2UrYF0gKi8KYCl9ZnVuY3Rpb24gY29uc3RhbnQkMSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19dmFyIGRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWdldE5hdGl2ZShPYmplY3QsImRlZmluZVByb3BlcnR5Iik7cmV0dXJuIHQoe30sIiIse30pLHR9Y2F0Y2h7fX0oKSxkZWZpbmVQcm9wZXJ0eSQxPWRlZmluZVByb3BlcnR5LGJhc2VTZXRUb1N0cmluZz1kZWZpbmVQcm9wZXJ0eSQxP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIGRlZmluZVByb3BlcnR5JDEodCwidG9TdHJpbmciLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpjb25zdGFudCQxKGUpLHdyaXRhYmxlOiEwfSl9OmlkZW50aXR5JDIsYmFzZVNldFRvU3RyaW5nJDE9YmFzZVNldFRvU3RyaW5nLHNldFRvU3RyaW5nPXNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyQxKSxzZXRUb1N0cmluZyQxPXNldFRvU3RyaW5nO2Z1bmN0aW9uIGFycmF5RWFjaCh0LGUpe2Zvcih2YXIgbj0tMSxvPXQ9PW51bGw/MDp0Lmxlbmd0aDsrK248byYmZSh0W25dLG4sdCkhPT0hMTspO3JldHVybiB0fWZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgodCxlLG4sbyl7Zm9yKHZhciBkPXQubGVuZ3RoLGg9bisobz8xOi0xKTtvP2gtLTorK2g8ZDspaWYoZSh0W2hdLGgsdCkpcmV0dXJuIGg7cmV0dXJuLTF9ZnVuY3Rpb24gYmFzZUlzTmFOKHQpe3JldHVybiB0IT09dH1mdW5jdGlvbiBzdHJpY3RJbmRleE9mKHQsZSxuKXtmb3IodmFyIG89bi0xLGQ9dC5sZW5ndGg7KytvPGQ7KWlmKHRbb109PT1lKXJldHVybiBvO3JldHVybi0xfWZ1bmN0aW9uIGJhc2VJbmRleE9mKHQsZSxuKXtyZXR1cm4gZT09PWU/c3RyaWN0SW5kZXhPZih0LGUsbik6YmFzZUZpbmRJbmRleCh0LGJhc2VJc05hTixuKX1mdW5jdGlvbiBhcnJheUluY2x1ZGVzKHQsZSl7dmFyIG49dD09bnVsbD8wOnQubGVuZ3RoO3JldHVybiEhbiYmYmFzZUluZGV4T2YodCxlLDApPi0xfXZhciBXUkFQX0JJTkRfRkxBRyQ1PTEsV1JBUF9CSU5EX0tFWV9GTEFHJDQ9MixXUkFQX0NVUlJZX0ZMQUckNT04LFdSQVBfQ1VSUllfUklHSFRfRkxBRyQyPTE2LFdSQVBfUEFSVElBTF9GTEFHJDI9MzIsV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUckMj02NCxXUkFQX0FSWV9GTEFHJDI9MTI4LFdSQVBfUkVBUkdfRkxBRyQxPTI1NixXUkFQX0ZMSVBfRkxBRyQxPTUxMix3cmFwRmxhZ3M9W1siYXJ5IixXUkFQX0FSWV9GTEFHJDJdLFsiYmluZCIsV1JBUF9CSU5EX0ZMQUckNV0sWyJiaW5kS2V5IixXUkFQX0JJTkRfS0VZX0ZMQUckNF0sWyJjdXJyeSIsV1JBUF9DVVJSWV9GTEFHJDVdLFsiY3VycnlSaWdodCIsV1JBUF9DVVJSWV9SSUdIVF9GTEFHJDJdLFsiZmxpcCIsV1JBUF9GTElQX0ZMQUckMV0sWyJwYXJ0aWFsIixXUkFQX1BBUlRJQUxfRkxBRyQyXSxbInBhcnRpYWxSaWdodCIsV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUckMl0sWyJyZWFyZyIsV1JBUF9SRUFSR19GTEFHJDFdXTtmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyh0LGUpe3JldHVybiBhcnJheUVhY2god3JhcEZsYWdzLGZ1bmN0aW9uKG4pe3ZhciBvPSJfLiIrblswXTtlJm5bMV0mJiFhcnJheUluY2x1ZGVzKHQsbykmJnQucHVzaChvKX0pLHQuc29ydCgpfWZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh0LGUsbil7dmFyIG89ZSsiIjtyZXR1cm4gc2V0VG9TdHJpbmckMSh0LGluc2VydFdyYXBEZXRhaWxzKG8sdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMobyksbikpKX12YXIgV1JBUF9CSU5EX0ZMQUckND0xLFdSQVBfQklORF9LRVlfRkxBRyQzPTIsV1JBUF9DVVJSWV9CT1VORF9GTEFHJDE9NCxXUkFQX0NVUlJZX0ZMQUckND04LFdSQVBfUEFSVElBTF9GTEFHJDE9MzIsV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUckMT02NDtmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KHQsZSxuLG8sZCxoLGwsdSxwLGcpe3ZhciB2PWUmV1JBUF9DVVJSWV9GTEFHJDQsYj12P2w6dm9pZCAwLF89dj92b2lkIDA6bCxPPXY/aDp2b2lkIDAsVD12P3ZvaWQgMDpoO2V8PXY/V1JBUF9QQVJUSUFMX0ZMQUckMTpXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyQxLGUmPX4odj9XUkFQX1BBUlRJQUxfUklHSFRfRkxBRyQxOldSQVBfUEFSVElBTF9GTEFHJDEpLGUmV1JBUF9DVVJSWV9CT1VORF9GTEFHJDF8fChlJj1+KFdSQVBfQklORF9GTEFHJDR8V1JBUF9CSU5EX0tFWV9GTEFHJDMpKTt2YXIgUz1bdCxlLGQsTyxiLFQsXyx1LHAsZ10sTj1uLmFwcGx5KHZvaWQgMCxTKTtyZXR1cm4gaXNMYXppYWJsZSh0KSYmc2V0RGF0YSQxKE4sUyksTi5wbGFjZWhvbGRlcj1vLHNldFdyYXBUb1N0cmluZyhOLHQsZSl9ZnVuY3Rpb24gZ2V0SG9sZGVyKHQpe3ZhciBlPXQ7cmV0dXJuIGUucGxhY2Vob2xkZXJ9dmFyIE1BWF9TQUZFX0lOVEVHRVI9OTAwNzE5OTI1NDc0MDk5MSxyZUlzVWludD0vXig/OjB8WzEtOV1cZCopJC87ZnVuY3Rpb24gaXNJbmRleCh0LGUpe3ZhciBuPXR5cGVvZiB0O3JldHVybiBlPWU/P01BWF9TQUZFX0lOVEVHRVIsISFlJiYobj09Im51bWJlciJ8fG4hPSJzeW1ib2wiJiZyZUlzVWludC50ZXN0KHQpKSYmdD4tMSYmdCUxPT0wJiZ0PGV9dmFyIG5hdGl2ZU1pbiQyPU1hdGgubWluO2Z1bmN0aW9uIHJlb3JkZXIodCxlKXtmb3IodmFyIG49dC5sZW5ndGgsbz1uYXRpdmVNaW4kMihlLmxlbmd0aCxuKSxkPWNvcHlBcnJheSh0KTtvLS07KXt2YXIgaD1lW29dO3Rbb109aXNJbmRleChoLG4pP2RbaF06dm9pZCAwfXJldHVybiB0fXZhciBQTEFDRUhPTERFUiQxPSJfX2xvZGFzaF9wbGFjZWhvbGRlcl9fIjtmdW5jdGlvbiByZXBsYWNlSG9sZGVycyh0LGUpe2Zvcih2YXIgbj0tMSxvPXQubGVuZ3RoLGQ9MCxoPVtdOysrbjxvOyl7dmFyIGw9dFtuXTsobD09PWV8fGw9PT1QTEFDRUhPTERFUiQxKSYmKHRbbl09UExBQ0VIT0xERVIkMSxoW2QrK109bil9cmV0dXJuIGh9dmFyIFdSQVBfQklORF9GTEFHJDM9MSxXUkFQX0JJTkRfS0VZX0ZMQUckMj0yLFdSQVBfQ1VSUllfRkxBRyQzPTgsV1JBUF9DVVJSWV9SSUdIVF9GTEFHJDE9MTYsV1JBUF9BUllfRkxBRyQxPTEyOCxXUkFQX0ZMSVBfRkxBRz01MTI7ZnVuY3Rpb24gY3JlYXRlSHlicmlkKHQsZSxuLG8sZCxoLGwsdSxwLGcpe3ZhciB2PWUmV1JBUF9BUllfRkxBRyQxLGI9ZSZXUkFQX0JJTkRfRkxBRyQzLF89ZSZXUkFQX0JJTkRfS0VZX0ZMQUckMixPPWUmKFdSQVBfQ1VSUllfRkxBRyQzfFdSQVBfQ1VSUllfUklHSFRfRkxBRyQxKSxUPWUmV1JBUF9GTElQX0ZMQUcsUz1fP3ZvaWQgMDpjcmVhdGVDdG9yKHQpO2Z1bmN0aW9uIE4oKXtmb3IodmFyIEI9YXJndW1lbnRzLmxlbmd0aCxMPUFycmF5KEIpLEM9QjtDLS07KUxbQ109YXJndW1lbnRzW0NdO2lmKE8pdmFyIGo9Z2V0SG9sZGVyKE4pLFA9Y291bnRIb2xkZXJzKEwsaik7aWYobyYmKEw9Y29tcG9zZUFyZ3MoTCxvLGQsTykpLGgmJihMPWNvbXBvc2VBcmdzUmlnaHQoTCxoLGwsTykpLEItPVAsTyYmQjxnKXt2YXIgRj1yZXBsYWNlSG9sZGVycyhMLGopO3JldHVybiBjcmVhdGVSZWN1cnJ5KHQsZSxjcmVhdGVIeWJyaWQsTi5wbGFjZWhvbGRlcixuLEwsRix1LHAsZy1CKX12YXIgaz1iP246dGhpcyxKPV8/a1t0XTp0O3JldHVybiBCPUwubGVuZ3RoLHU/TD1yZW9yZGVyKEwsdSk6VCYmQj4xJiZMLnJldmVyc2UoKSx2JiZwPEImJihMLmxlbmd0aD1wKSx0aGlzJiZ0aGlzIT09cm9vdCQyJiZ0aGlzIGluc3RhbmNlb2YgTiYmKEo9U3x8Y3JlYXRlQ3RvcihKKSksSi5hcHBseShrLEwpfXJldHVybiBOfWZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KHQsZSxuKXt2YXIgbz1jcmVhdGVDdG9yKHQpO2Z1bmN0aW9uIGQoKXtmb3IodmFyIGg9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KGgpLHU9aCxwPWdldEhvbGRlcihkKTt1LS07KWxbdV09YXJndW1lbnRzW3VdO3ZhciBnPWg8MyYmbFswXSE9PXAmJmxbaC0xXSE9PXA/W106cmVwbGFjZUhvbGRlcnMobCxwKTtpZihoLT1nLmxlbmd0aCxoPG4pcmV0dXJuIGNyZWF0ZVJlY3VycnkodCxlLGNyZWF0ZUh5YnJpZCxkLnBsYWNlaG9sZGVyLHZvaWQgMCxsLGcsdm9pZCAwLHZvaWQgMCxuLWgpO3ZhciB2PXRoaXMmJnRoaXMhPT1yb290JDImJnRoaXMgaW5zdGFuY2VvZiBkP286dDtyZXR1cm4gYXBwbHkodix0aGlzLGwpfXJldHVybiBkfXZhciBXUkFQX0JJTkRfRkxBRyQyPTE7ZnVuY3Rpb24gY3JlYXRlUGFydGlhbCh0LGUsbixvKXt2YXIgZD1lJldSQVBfQklORF9GTEFHJDIsaD1jcmVhdGVDdG9yKHQpO2Z1bmN0aW9uIGwoKXtmb3IodmFyIHU9LTEscD1hcmd1bWVudHMubGVuZ3RoLGc9LTEsdj1vLmxlbmd0aCxiPUFycmF5KHYrcCksXz10aGlzJiZ0aGlzIT09cm9vdCQyJiZ0aGlzIGluc3RhbmNlb2YgbD9oOnQ7KytnPHY7KWJbZ109b1tnXTtmb3IoO3AtLTspYltnKytdPWFyZ3VtZW50c1srK3VdO3JldHVybiBhcHBseShfLGQ/bjp0aGlzLGIpfXJldHVybiBsfXZhciBQTEFDRUhPTERFUj0iX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyIsV1JBUF9CSU5EX0ZMQUckMT0xLFdSQVBfQklORF9LRVlfRkxBRyQxPTIsV1JBUF9DVVJSWV9CT1VORF9GTEFHPTQsV1JBUF9DVVJSWV9GTEFHJDI9OCxXUkFQX0FSWV9GTEFHPTEyOCxXUkFQX1JFQVJHX0ZMQUc9MjU2LG5hdGl2ZU1pbiQxPU1hdGgubWluO2Z1bmN0aW9uIG1lcmdlRGF0YSh0LGUpe3ZhciBuPXRbMV0sbz1lWzFdLGQ9bnxvLGg9ZDwoV1JBUF9CSU5EX0ZMQUckMXxXUkFQX0JJTkRfS0VZX0ZMQUckMXxXUkFQX0FSWV9GTEFHKSxsPW89PVdSQVBfQVJZX0ZMQUcmJm49PVdSQVBfQ1VSUllfRkxBRyQyfHxvPT1XUkFQX0FSWV9GTEFHJiZuPT1XUkFQX1JFQVJHX0ZMQUcmJnRbN10ubGVuZ3RoPD1lWzhdfHxvPT0oV1JBUF9BUllfRkxBR3xXUkFQX1JFQVJHX0ZMQUcpJiZlWzddLmxlbmd0aDw9ZVs4XSYmbj09V1JBUF9DVVJSWV9GTEFHJDI7aWYoIShofHxsKSlyZXR1cm4gdDtvJldSQVBfQklORF9GTEFHJDEmJih0WzJdPWVbMl0sZHw9biZXUkFQX0JJTkRfRkxBRyQxPzA6V1JBUF9DVVJSWV9CT1VORF9GTEFHKTt2YXIgdT1lWzNdO2lmKHUpe3ZhciBwPXRbM107dFszXT1wP2NvbXBvc2VBcmdzKHAsdSxlWzRdKTp1LHRbNF09cD9yZXBsYWNlSG9sZGVycyh0WzNdLFBMQUNFSE9MREVSKTplWzRdfXJldHVybiB1PWVbNV0sdSYmKHA9dFs1XSx0WzVdPXA/Y29tcG9zZUFyZ3NSaWdodChwLHUsZVs2XSk6dSx0WzZdPXA/cmVwbGFjZUhvbGRlcnModFs1XSxQTEFDRUhPTERFUik6ZVs2XSksdT1lWzddLHUmJih0WzddPXUpLG8mV1JBUF9BUllfRkxBRyYmKHRbOF09dFs4XT09bnVsbD9lWzhdOm5hdGl2ZU1pbiQxKHRbOF0sZVs4XSkpLHRbOV09PW51bGwmJih0WzldPWVbOV0pLHRbMF09ZVswXSx0WzFdPWQsdH12YXIgRlVOQ19FUlJPUl9URVhUJDE9IkV4cGVjdGVkIGEgZnVuY3Rpb24iLFdSQVBfQklORF9GTEFHPTEsV1JBUF9CSU5EX0tFWV9GTEFHPTIsV1JBUF9DVVJSWV9GTEFHJDE9OCxXUkFQX0NVUlJZX1JJR0hUX0ZMQUc9MTYsV1JBUF9QQVJUSUFMX0ZMQUc9MzIsV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUc9NjQsbmF0aXZlTWF4JDE9TWF0aC5tYXg7ZnVuY3Rpb24gY3JlYXRlV3JhcCh0LGUsbixvLGQsaCxsLHUpe3ZhciBwPWUmV1JBUF9CSU5EX0tFWV9GTEFHO2lmKCFwJiZ0eXBlb2YgdCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCQxKTt2YXIgZz1vP28ubGVuZ3RoOjA7aWYoZ3x8KGUmPX4oV1JBUF9QQVJUSUFMX0ZMQUd8V1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpLG89ZD12b2lkIDApLGw9bD09PXZvaWQgMD9sOm5hdGl2ZU1heCQxKHRvSW50ZWdlcihsKSwwKSx1PXU9PT12b2lkIDA/dTp0b0ludGVnZXIodSksZy09ZD9kLmxlbmd0aDowLGUmV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpe3ZhciB2PW8sYj1kO289ZD12b2lkIDB9dmFyIF89cD92b2lkIDA6Z2V0RGF0YSQxKHQpLE89W3QsZSxuLG8sZCx2LGIsaCxsLHVdO2lmKF8mJm1lcmdlRGF0YShPLF8pLHQ9T1swXSxlPU9bMV0sbj1PWzJdLG89T1szXSxkPU9bNF0sdT1PWzldPU9bOV09PT12b2lkIDA/cD8wOnQubGVuZ3RoOm5hdGl2ZU1heCQxKE9bOV0tZywwKSwhdSYmZSYoV1JBUF9DVVJSWV9GTEFHJDF8V1JBUF9DVVJSWV9SSUdIVF9GTEFHKSYmKGUmPX4oV1JBUF9DVVJSWV9GTEFHJDF8V1JBUF9DVVJSWV9SSUdIVF9GTEFHKSksIWV8fGU9PVdSQVBfQklORF9GTEFHKXZhciBUPWNyZWF0ZUJpbmQodCxlLG4pO2Vsc2UgZT09V1JBUF9DVVJSWV9GTEFHJDF8fGU9PVdSQVBfQ1VSUllfUklHSFRfRkxBRz9UPWNyZWF0ZUN1cnJ5KHQsZSx1KTooZT09V1JBUF9QQVJUSUFMX0ZMQUd8fGU9PShXUkFQX0JJTkRfRkxBR3xXUkFQX1BBUlRJQUxfRkxBRykpJiYhZC5sZW5ndGg/VD1jcmVhdGVQYXJ0aWFsKHQsZSxuLG8pOlQ9Y3JlYXRlSHlicmlkLmFwcGx5KHZvaWQgMCxPKTt2YXIgUz1fP2Jhc2VTZXREYXRhJDE6c2V0RGF0YSQxO3JldHVybiBzZXRXcmFwVG9TdHJpbmcoUyhULE8pLHQsZSl9dmFyIFdSQVBfQ1VSUllfRkxBRz04O2Z1bmN0aW9uIGN1cnJ5KHQsZSxuKXtlPW4/dm9pZCAwOmU7dmFyIG89Y3JlYXRlV3JhcCh0LFdSQVBfQ1VSUllfRkxBRyx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGUpO3JldHVybiBvLnBsYWNlaG9sZGVyPWN1cnJ5LnBsYWNlaG9sZGVyLG99Y3VycnkucGxhY2Vob2xkZXI9e307dmFyIG5vdyQyPWZ1bmN0aW9uKCl7cmV0dXJuIHJvb3QkMi5EYXRlLm5vdygpfSxub3ckMz1ub3ckMixGVU5DX0VSUk9SX1RFWFQ9IkV4cGVjdGVkIGEgZnVuY3Rpb24iLG5hdGl2ZU1heD1NYXRoLm1heCxuYXRpdmVNaW49TWF0aC5taW47ZnVuY3Rpb24gZGVib3VuY2UodCxlLG4pe3ZhciBvLGQsaCxsLHUscCxnPTAsdj0hMSxiPSExLF89ITA7aWYodHlwZW9mIHQhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO2U9dG9OdW1iZXIoZSl8fDAsaXNPYmplY3QobikmJih2PSEhbi5sZWFkaW5nLGI9Im1heFdhaXQiaW4gbixoPWI/bmF0aXZlTWF4KHRvTnVtYmVyKG4ubWF4V2FpdCl8fDAsZSk6aCxfPSJ0cmFpbGluZyJpbiBuPyEhbi50cmFpbGluZzpfKTtmdW5jdGlvbiBPKEYpe3ZhciBrPW8sSj1kO3JldHVybiBvPWQ9dm9pZCAwLGc9RixsPXQuYXBwbHkoSixrKSxsfWZ1bmN0aW9uIFQoRil7cmV0dXJuIGc9Rix1PXNldFRpbWVvdXQoQixlKSx2P08oRik6bH1mdW5jdGlvbiBTKEYpe3ZhciBrPUYtcCxKPUYtZyxhZT1lLWs7cmV0dXJuIGI/bmF0aXZlTWluKGFlLGgtSik6YWV9ZnVuY3Rpb24gTihGKXt2YXIgaz1GLXAsSj1GLWc7cmV0dXJuIHA9PT12b2lkIDB8fGs+PWV8fGs8MHx8YiYmSj49aH1mdW5jdGlvbiBCKCl7dmFyIEY9bm93JDMoKTtpZihOKEYpKXJldHVybiBMKEYpO3U9c2V0VGltZW91dChCLFMoRikpfWZ1bmN0aW9uIEwoRil7cmV0dXJuIHU9dm9pZCAwLF8mJm8/TyhGKToobz1kPXZvaWQgMCxsKX1mdW5jdGlvbiBDKCl7dSE9PXZvaWQgMCYmY2xlYXJUaW1lb3V0KHUpLGc9MCxvPXA9ZD11PXZvaWQgMH1mdW5jdGlvbiBqKCl7cmV0dXJuIHU9PT12b2lkIDA/bDpMKG5vdyQzKCkpfWZ1bmN0aW9uIFAoKXt2YXIgRj1ub3ckMygpLGs9TihGKTtpZihvPWFyZ3VtZW50cyxkPXRoaXMscD1GLGspe2lmKHU9PT12b2lkIDApcmV0dXJuIFQocCk7aWYoYilyZXR1cm4gY2xlYXJUaW1lb3V0KHUpLHU9c2V0VGltZW91dChCLGUpLE8ocCl9cmV0dXJuIHU9PT12b2lkIDAmJih1PXNldFRpbWVvdXQoQixlKSksbH1yZXR1cm4gUC5jYW5jZWw9QyxQLmZsdXNoPWosUH1mdW5jdGlvbiBmcm9tUGFpcnModCl7Zm9yKHZhciBlPS0xLG49dD09bnVsbD8wOnQubGVuZ3RoLG89e307KytlPG47KXt2YXIgZD10W2VdO29bZFswXV09ZFsxXX1yZXR1cm4gb31jb25zdCBiYWNrZW5kPW5ldyBNZW1vcnlMZXZlbF8xLGRmPW5ldyByZGZEYXRhRmFjdG9yeS5EYXRhRmFjdG9yeSxzdG9yZT1uZXcgUXVhZHN0b3JlKHtiYWNrZW5kLGRhdGFGYWN0b3J5OmRmfSksZW5naW5lPW5ldyBfX3F1YWRzdG9yZV9jb211bmljYV9leHBvcnRzX19FbmdpbmUoc3RvcmUpO2FzeW5jIGZ1bmN0aW9uIGJ1aWxkR3JhcGgodCl7Y29uc29sZS5sb2coIkJVSUxESU5HIEdSQVBIIix0KTtjb25zdHtub2RlczplLGxpbmtzOm59PXQsZD1bLi4ubi5tYXAoKHtzb3VyY2U6aCx0YXJnZXQ6bH0pPT5kZi5xdWFkKGRmLm5hbWVkTm9kZShsLmlkKSxkZi5uYW1lZE5vZGUoRE9XTlNUUkVBTV9GUk9NKSxkZi5uYW1lZE5vZGUoaC5pZCksZGYuZGVmYXVsdEdyYXBoKCkpKV07Y29uc29sZS5sb2coInB1dHRpbmcgZW50cmllcyIsZCksYXdhaXQgc3RvcmUub3BlbigpLGF3YWl0IHN0b3JlLmNsZWFyKCksYXdhaXQgc3RvcmUubXVsdGlQdXQoZCksY29uc29sZS5sb2coImluc2VydGVkIixkLmxlbmd0aCwiZW50cmllcyIpfWNvbnN0IGdldFByb3BzPXQ9Pihhc3luYyBlPT5mcm9tUGFpcnMoW2VdLmZsYXQoKS5tYXAobj0+W24sdC5nZXQobildKSkpLmJpbmQodCksZG9RdWVyeT1hc3luYyh0LGUsbixvKT0+e2F3YWl0IGVuZ2luZS5xdWVyeUJpbmRpbmdzKHQpLnRoZW4oZD0+e2UmJmQub24oImRhdGEiLGg9PmUoaCxwcm94eShnZXRQcm9wcyhoKSkpKSxuJiZkLm9uKCJlbmQiLGg9Pm4oaCxoJiZwcm94eShoLmdldC5iaW5kKGgpKSkpLG8mJmQub24oImVycm9yIixoPT5vKGgsaCYmcHJveHkoaC5nZXQuYmluZChoKSkpKX0pfTt2YXIgZGI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYnVpbGRHcmFwaCxkb1F1ZXJ5fSkscmFmRXhwb3J0cz17fSxyYWYkMT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gcmFmRXhwb3J0c30sc2V0IGV4cG9ydHModCl7cmFmRXhwb3J0cz10fX0scGVyZm9ybWFuY2VOb3dFeHBvcnRzPXt9LHBlcmZvcm1hbmNlTm93PXtnZXQgZXhwb3J0cygpe3JldHVybiBwZXJmb3JtYW5jZU5vd0V4cG9ydHN9LHNldCBleHBvcnRzKHQpe3BlcmZvcm1hbmNlTm93RXhwb3J0cz10fX07KGZ1bmN0aW9uKCl7dmFyIHQsZSxuLG8sZCxoO3R5cGVvZiBwZXJmb3JtYW5jZTwidSImJnBlcmZvcm1hbmNlIT09bnVsbCYmcGVyZm9ybWFuY2Uubm93P3BlcmZvcm1hbmNlTm93LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCl9OnR5cGVvZiBwcm9jZXNzPCJ1IiYmcHJvY2VzcyE9PW51bGwmJnByb2Nlc3MuaHJ0aW1lPyhwZXJmb3JtYW5jZU5vdy5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuKHQoKS1kKS8xZTZ9LGU9cHJvY2Vzcy5ocnRpbWUsdD1mdW5jdGlvbigpe3ZhciBsO3JldHVybiBsPWUoKSxsWzBdKjFlOStsWzFdfSxvPXQoKSxoPXByb2Nlc3MudXB0aW1lKCkqMWU5LGQ9by1oKTpEYXRlLm5vdz8ocGVyZm9ybWFuY2VOb3cuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLW59LG49RGF0ZS5ub3coKSk6KHBlcmZvcm1hbmNlTm93LmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCktbn0sbj1uZXcgRGF0ZSgpLmdldFRpbWUoKSl9KS5jYWxsKGNvbW1vbmpzR2xvYmFsKTt2YXIgbm93JDE9cGVyZm9ybWFuY2VOb3dFeHBvcnRzLHJvb3Q9dHlwZW9mIHdpbmRvdz4idSI/Y29tbW9uanNHbG9iYWw6d2luZG93LHZlbmRvcnM9WyJtb3oiLCJ3ZWJraXQiXSxzdWZmaXg9IkFuaW1hdGlvbkZyYW1lIixyYWY9cm9vdFsicmVxdWVzdCIrc3VmZml4XSxjYWY9cm9vdFsiY2FuY2VsIitzdWZmaXhdfHxyb290WyJjYW5jZWxSZXF1ZXN0IitzdWZmaXhdO2Zvcih2YXIgaT0wOyFyYWYmJmk8dmVuZG9ycy5sZW5ndGg7aSsrKXJhZj1yb290W3ZlbmRvcnNbaV0rIlJlcXVlc3QiK3N1ZmZpeF0sY2FmPXJvb3RbdmVuZG9yc1tpXSsiQ2FuY2VsIitzdWZmaXhdfHxyb290W3ZlbmRvcnNbaV0rIkNhbmNlbFJlcXVlc3QiK3N1ZmZpeF07aWYoIXJhZnx8IWNhZil7dmFyIGxhc3Q9MCxpZD0wLHF1ZXVlPVtdLGZyYW1lRHVyYXRpb249MWUzLzYwO3JhZj1mdW5jdGlvbih0KXtpZihxdWV1ZS5sZW5ndGg9PT0wKXt2YXIgZT1ub3ckMSgpLG49TWF0aC5tYXgoMCxmcmFtZUR1cmF0aW9uLShlLWxhc3QpKTtsYXN0PW4rZSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIG89cXVldWUuc2xpY2UoMCk7cXVldWUubGVuZ3RoPTA7Zm9yKHZhciBkPTA7ZDxvLmxlbmd0aDtkKyspaWYoIW9bZF0uY2FuY2VsbGVkKXRyeXtvW2RdLmNhbGxiYWNrKGxhc3QpfWNhdGNoKGgpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBofSwwKX19LE1hdGgucm91bmQobikpfXJldHVybiBxdWV1ZS5wdXNoKHtoYW5kbGU6KytpZCxjYWxsYmFjazp0LGNhbmNlbGxlZDohMX0pLGlkfSxjYWY9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxxdWV1ZS5sZW5ndGg7ZSsrKXF1ZXVlW2VdLmhhbmRsZT09PXQmJihxdWV1ZVtlXS5jYW5jZWxsZWQ9ITApfX1yYWYkMS5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByYWYuY2FsbChyb290LHQpfTtyYWZFeHBvcnRzLmNhbmNlbD1mdW5jdGlvbigpe2NhZi5hcHBseShyb290LGFyZ3VtZW50cyl9O3JhZkV4cG9ydHMucG9seWZpbGw9ZnVuY3Rpb24odCl7dHx8KHQ9cm9vdCksdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9cmFmLHQuY2FuY2VsQW5pbWF0aW9uRnJhbWU9Y2FmfTtmdW5jdGlvbiBmb3JjZUNlbnRlcih0LGUsbil7dmFyIG8sZD0xO3Q9PW51bGwmJih0PTApLGU9PW51bGwmJihlPTApLG49PW51bGwmJihuPTApO2Z1bmN0aW9uIGgoKXt2YXIgbCx1PW8ubGVuZ3RoLHAsZz0wLHY9MCxiPTA7Zm9yKGw9MDtsPHU7KytsKXA9b1tsXSxnKz1wLnh8fDAsdis9cC55fHwwLGIrPXAuenx8MDtmb3IoZz0oZy91LXQpKmQsdj0odi91LWUpKmQsYj0oYi91LW4pKmQsbD0wO2w8dTsrK2wpcD1vW2xdLGcmJihwLngtPWcpLHYmJihwLnktPXYpLGImJihwLnotPWIpfXJldHVybiBoLmluaXRpYWxpemU9ZnVuY3Rpb24obCl7bz1sfSxoLng9ZnVuY3Rpb24obCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9K2wsaCk6dH0saC55PWZ1bmN0aW9uKGwpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhlPStsLGgpOmV9LGguej1mdW5jdGlvbihsKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj0rbCxoKTpufSxoLnN0cmVuZ3RoPWZ1bmN0aW9uKGwpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPStsLGgpOmR9LGh9ZnVuY3Rpb24gdHJlZV9hZGQkMih0KXtjb25zdCBlPSt0aGlzLl94LmNhbGwobnVsbCx0KTtyZXR1cm4gYWRkJDModGhpcy5jb3ZlcihlKSxlLHQpfWZ1bmN0aW9uIGFkZCQzKHQsZSxuKXtpZihpc05hTihlKSlyZXR1cm4gdDt2YXIgbyxkPXQuX3Jvb3QsaD17ZGF0YTpufSxsPXQuX3gwLHU9dC5feDEscCxnLHYsYixfO2lmKCFkKXJldHVybiB0Ll9yb290PWgsdDtmb3IoO2QubGVuZ3RoOylpZigodj1lPj0ocD0obCt1KS8yKSk/bD1wOnU9cCxvPWQsIShkPWRbYj0rdl0pKXJldHVybiBvW2JdPWgsdDtpZihnPSt0Ll94LmNhbGwobnVsbCxkLmRhdGEpLGU9PT1nKXJldHVybiBoLm5leHQ9ZCxvP29bYl09aDp0Ll9yb290PWgsdDtkbyBvPW8/b1tiXT1uZXcgQXJyYXkoMik6dC5fcm9vdD1uZXcgQXJyYXkoMiksKHY9ZT49KHA9KGwrdSkvMikpP2w9cDp1PXA7d2hpbGUoKGI9K3YpPT0oXz0rKGc+PXApKSk7cmV0dXJuIG9bX109ZCxvW2JdPWgsdH1mdW5jdGlvbiBhZGRBbGwkMih0KXtBcnJheS5pc0FycmF5KHQpfHwodD1BcnJheS5mcm9tKHQpKTtjb25zdCBlPXQubGVuZ3RoLG49bmV3IEZsb2F0NjRBcnJheShlKTtsZXQgbz0xLzAsZD0tMS8wO2ZvcihsZXQgaD0wLGw7aDxlOysraClpc05hTihsPSt0aGlzLl94LmNhbGwobnVsbCx0W2hdKSl8fChuW2hdPWwsbDxvJiYobz1sKSxsPmQmJihkPWwpKTtpZihvPmQpcmV0dXJuIHRoaXM7dGhpcy5jb3ZlcihvKS5jb3ZlcihkKTtmb3IobGV0IGg9MDtoPGU7KytoKWFkZCQzKHRoaXMsbltoXSx0W2hdKTtyZXR1cm4gdGhpc31mdW5jdGlvbiB0cmVlX2NvdmVyJDIodCl7aWYoaXNOYU4odD0rdCkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5feDAsbj10aGlzLl94MTtpZihpc05hTihlKSluPShlPU1hdGguZmxvb3IodCkpKzE7ZWxzZXtmb3IodmFyIG89bi1lfHwxLGQ9dGhpcy5fcm9vdCxoLGw7ZT50fHx0Pj1uOylzd2l0Y2gobD0rKHQ8ZSksaD1uZXcgQXJyYXkoMiksaFtsXT1kLGQ9aCxvKj0yLGwpe2Nhc2UgMDpuPWUrbzticmVhaztjYXNlIDE6ZT1uLW87YnJlYWt9dGhpcy5fcm9vdCYmdGhpcy5fcm9vdC5sZW5ndGgmJih0aGlzLl9yb290PWQpfXJldHVybiB0aGlzLl94MD1lLHRoaXMuX3gxPW4sdGhpc31mdW5jdGlvbiB0cmVlX2RhdGEkMigpe3ZhciB0PVtdO3JldHVybiB0aGlzLnZpc2l0KGZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClkbyB0LnB1c2goZS5kYXRhKTt3aGlsZShlPWUubmV4dCl9KSx0fWZ1bmN0aW9uIHRyZWVfZXh0ZW50JDIodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5jb3ZlcigrdFswXVswXSkuY292ZXIoK3RbMV1bMF0pOmlzTmFOKHRoaXMuX3gwKT92b2lkIDA6W1t0aGlzLl94MF0sW3RoaXMuX3gxXV19ZnVuY3Rpb24gSGFsZih0LGUsbil7dGhpcy5ub2RlPXQsdGhpcy54MD1lLHRoaXMueDE9bn1mdW5jdGlvbiB0cmVlX2ZpbmQkMih0LGUpe3ZhciBuLG89dGhpcy5feDAsZCxoLGw9dGhpcy5feDEsdT1bXSxwPXRoaXMuX3Jvb3QsZyx2O2ZvcihwJiZ1LnB1c2gobmV3IEhhbGYocCxvLGwpKSxlPT1udWxsP2U9MS8wOihvPXQtZSxsPXQrZSk7Zz11LnBvcCgpOylpZighKCEocD1nLm5vZGUpfHwoZD1nLngwKT5sfHwoaD1nLngxKTxvKSlpZihwLmxlbmd0aCl7dmFyIGI9KGQraCkvMjt1LnB1c2gobmV3IEhhbGYocFsxXSxiLGgpLG5ldyBIYWxmKHBbMF0sZCxiKSksKHY9Kyh0Pj1iKSkmJihnPXVbdS5sZW5ndGgtMV0sdVt1Lmxlbmd0aC0xXT11W3UubGVuZ3RoLTEtdl0sdVt1Lmxlbmd0aC0xLXZdPWcpfWVsc2V7dmFyIF89TWF0aC5hYnModC0rdGhpcy5feC5jYWxsKG51bGwscC5kYXRhKSk7XzxlJiYoZT1fLG89dC1fLGw9dCtfLG49cC5kYXRhKX1yZXR1cm4gbn1mdW5jdGlvbiB0cmVlX3JlbW92ZSQyKHQpe2lmKGlzTmFOKHA9K3RoaXMuX3guY2FsbChudWxsLHQpKSlyZXR1cm4gdGhpczt2YXIgZSxuPXRoaXMuX3Jvb3QsbyxkLGgsbD10aGlzLl94MCx1PXRoaXMuX3gxLHAsZyx2LGIsXztpZighbilyZXR1cm4gdGhpcztpZihuLmxlbmd0aClmb3IoOzspe2lmKCh2PXA+PShnPShsK3UpLzIpKT9sPWc6dT1nLGU9biwhKG49bltiPSt2XSkpcmV0dXJuIHRoaXM7aWYoIW4ubGVuZ3RoKWJyZWFrO2VbYisxJjFdJiYobz1lLF89Yil9Zm9yKDtuLmRhdGEhPT10OylpZihkPW4sIShuPW4ubmV4dCkpcmV0dXJuIHRoaXM7cmV0dXJuKGg9bi5uZXh0KSYmZGVsZXRlIG4ubmV4dCxkPyhoP2QubmV4dD1oOmRlbGV0ZSBkLm5leHQsdGhpcyk6ZT8oaD9lW2JdPWg6ZGVsZXRlIGVbYl0sKG49ZVswXXx8ZVsxXSkmJm49PT0oZVsxXXx8ZVswXSkmJiFuLmxlbmd0aCYmKG8/b1tfXT1uOnRoaXMuX3Jvb3Q9biksdGhpcyk6KHRoaXMuX3Jvb3Q9aCx0aGlzKX1mdW5jdGlvbiByZW1vdmVBbGwkMih0KXtmb3IodmFyIGU9MCxuPXQubGVuZ3RoO2U8bjsrK2UpdGhpcy5yZW1vdmUodFtlXSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV9yb290JDIoKXtyZXR1cm4gdGhpcy5fcm9vdH1mdW5jdGlvbiB0cmVlX3NpemUkMigpe3ZhciB0PTA7cmV0dXJuIHRoaXMudmlzaXQoZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKWRvKyt0O3doaWxlKGU9ZS5uZXh0KX0pLHR9ZnVuY3Rpb24gdHJlZV92aXNpdCQyKHQpe3ZhciBlPVtdLG4sbz10aGlzLl9yb290LGQsaCxsO2ZvcihvJiZlLnB1c2gobmV3IEhhbGYobyx0aGlzLl94MCx0aGlzLl94MSkpO249ZS5wb3AoKTspaWYoIXQobz1uLm5vZGUsaD1uLngwLGw9bi54MSkmJm8ubGVuZ3RoKXt2YXIgdT0oaCtsKS8yOyhkPW9bMV0pJiZlLnB1c2gobmV3IEhhbGYoZCx1LGwpKSwoZD1vWzBdKSYmZS5wdXNoKG5ldyBIYWxmKGQsaCx1KSl9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV92aXNpdEFmdGVyJDIodCl7dmFyIGU9W10sbj1bXSxvO2Zvcih0aGlzLl9yb290JiZlLnB1c2gobmV3IEhhbGYodGhpcy5fcm9vdCx0aGlzLl94MCx0aGlzLl94MSkpO289ZS5wb3AoKTspe3ZhciBkPW8ubm9kZTtpZihkLmxlbmd0aCl7dmFyIGgsbD1vLngwLHU9by54MSxwPShsK3UpLzI7KGg9ZFswXSkmJmUucHVzaChuZXcgSGFsZihoLGwscCkpLChoPWRbMV0pJiZlLnB1c2gobmV3IEhhbGYoaCxwLHUpKX1uLnB1c2gobyl9Zm9yKDtvPW4ucG9wKCk7KXQoby5ub2RlLG8ueDAsby54MSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gZGVmYXVsdFgkMih0KXtyZXR1cm4gdFswXX1mdW5jdGlvbiB0cmVlX3gkMih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5feD10LHRoaXMpOnRoaXMuX3h9ZnVuY3Rpb24gYmluYXJ5dHJlZSh0LGUpe3ZhciBuPW5ldyBCaW5hcnl0cmVlKGU/P2RlZmF1bHRYJDIsTmFOLE5hTik7cmV0dXJuIHQ9PW51bGw/bjpuLmFkZEFsbCh0KX1mdW5jdGlvbiBCaW5hcnl0cmVlKHQsZSxuKXt0aGlzLl94PXQsdGhpcy5feDA9ZSx0aGlzLl94MT1uLHRoaXMuX3Jvb3Q9dm9pZCAwfWZ1bmN0aW9uIGxlYWZfY29weSQyKHQpe2Zvcih2YXIgZT17ZGF0YTp0LmRhdGF9LG49ZTt0PXQubmV4dDspbj1uLm5leHQ9e2RhdGE6dC5kYXRhfTtyZXR1cm4gZX12YXIgdHJlZVByb3RvJDI9YmluYXJ5dHJlZS5wcm90b3R5cGU9QmluYXJ5dHJlZS5wcm90b3R5cGU7dHJlZVByb3RvJDIuY29weT1mdW5jdGlvbigpe3ZhciB0PW5ldyBCaW5hcnl0cmVlKHRoaXMuX3gsdGhpcy5feDAsdGhpcy5feDEpLGU9dGhpcy5fcm9vdCxuLG87aWYoIWUpcmV0dXJuIHQ7aWYoIWUubGVuZ3RoKXJldHVybiB0Ll9yb290PWxlYWZfY29weSQyKGUpLHQ7Zm9yKG49W3tzb3VyY2U6ZSx0YXJnZXQ6dC5fcm9vdD1uZXcgQXJyYXkoMil9XTtlPW4ucG9wKCk7KWZvcih2YXIgZD0wO2Q8MjsrK2QpKG89ZS5zb3VyY2VbZF0pJiYoby5sZW5ndGg/bi5wdXNoKHtzb3VyY2U6byx0YXJnZXQ6ZS50YXJnZXRbZF09bmV3IEFycmF5KDIpfSk6ZS50YXJnZXRbZF09bGVhZl9jb3B5JDIobykpO3JldHVybiB0fTt0cmVlUHJvdG8kMi5hZGQ9dHJlZV9hZGQkMjt0cmVlUHJvdG8kMi5hZGRBbGw9YWRkQWxsJDI7dHJlZVByb3RvJDIuY292ZXI9dHJlZV9jb3ZlciQyO3RyZWVQcm90byQyLmRhdGE9dHJlZV9kYXRhJDI7dHJlZVByb3RvJDIuZXh0ZW50PXRyZWVfZXh0ZW50JDI7dHJlZVByb3RvJDIuZmluZD10cmVlX2ZpbmQkMjt0cmVlUHJvdG8kMi5yZW1vdmU9dHJlZV9yZW1vdmUkMjt0cmVlUHJvdG8kMi5yZW1vdmVBbGw9cmVtb3ZlQWxsJDI7dHJlZVByb3RvJDIucm9vdD10cmVlX3Jvb3QkMjt0cmVlUHJvdG8kMi5zaXplPXRyZWVfc2l6ZSQyO3RyZWVQcm90byQyLnZpc2l0PXRyZWVfdmlzaXQkMjt0cmVlUHJvdG8kMi52aXNpdEFmdGVyPXRyZWVfdmlzaXRBZnRlciQyO3RyZWVQcm90byQyLng9dHJlZV94JDI7ZnVuY3Rpb24gdHJlZV9hZGQkMSh0KXtjb25zdCBlPSt0aGlzLl94LmNhbGwobnVsbCx0KSxuPSt0aGlzLl95LmNhbGwobnVsbCx0KTtyZXR1cm4gYWRkJDIodGhpcy5jb3ZlcihlLG4pLGUsbix0KX1mdW5jdGlvbiBhZGQkMih0LGUsbixvKXtpZihpc05hTihlKXx8aXNOYU4obikpcmV0dXJuIHQ7dmFyIGQsaD10Ll9yb290LGw9e2RhdGE6b30sdT10Ll94MCxwPXQuX3kwLGc9dC5feDEsdj10Ll95MSxiLF8sTyxULFMsTixCLEw7aWYoIWgpcmV0dXJuIHQuX3Jvb3Q9bCx0O2Zvcig7aC5sZW5ndGg7KWlmKChTPWU+PShiPSh1K2cpLzIpKT91PWI6Zz1iLChOPW4+PShfPShwK3YpLzIpKT9wPV86dj1fLGQ9aCwhKGg9aFtCPU48PDF8U10pKXJldHVybiBkW0JdPWwsdDtpZihPPSt0Ll94LmNhbGwobnVsbCxoLmRhdGEpLFQ9K3QuX3kuY2FsbChudWxsLGguZGF0YSksZT09PU8mJm49PT1UKXJldHVybiBsLm5leHQ9aCxkP2RbQl09bDp0Ll9yb290PWwsdDtkbyBkPWQ/ZFtCXT1uZXcgQXJyYXkoNCk6dC5fcm9vdD1uZXcgQXJyYXkoNCksKFM9ZT49KGI9KHUrZykvMikpP3U9YjpnPWIsKE49bj49KF89KHArdikvMikpP3A9Xzp2PV87d2hpbGUoKEI9Tjw8MXxTKT09PShMPShUPj1fKTw8MXxPPj1iKSk7cmV0dXJuIGRbTF09aCxkW0JdPWwsdH1mdW5jdGlvbiBhZGRBbGwkMSh0KXt2YXIgZSxuLG89dC5sZW5ndGgsZCxoLGw9bmV3IEFycmF5KG8pLHU9bmV3IEFycmF5KG8pLHA9MS8wLGc9MS8wLHY9LTEvMCxiPS0xLzA7Zm9yKG49MDtuPG87KytuKWlzTmFOKGQ9K3RoaXMuX3guY2FsbChudWxsLGU9dFtuXSkpfHxpc05hTihoPSt0aGlzLl95LmNhbGwobnVsbCxlKSl8fChsW25dPWQsdVtuXT1oLGQ8cCYmKHA9ZCksZD52JiYodj1kKSxoPGcmJihnPWgpLGg+YiYmKGI9aCkpO2lmKHA+dnx8Zz5iKXJldHVybiB0aGlzO2Zvcih0aGlzLmNvdmVyKHAsZykuY292ZXIodixiKSxuPTA7bjxvOysrbilhZGQkMih0aGlzLGxbbl0sdVtuXSx0W25dKTtyZXR1cm4gdGhpc31mdW5jdGlvbiB0cmVlX2NvdmVyJDEodCxlKXtpZihpc05hTih0PSt0KXx8aXNOYU4oZT0rZSkpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5feDAsbz10aGlzLl95MCxkPXRoaXMuX3gxLGg9dGhpcy5feTE7aWYoaXNOYU4obikpZD0obj1NYXRoLmZsb29yKHQpKSsxLGg9KG89TWF0aC5mbG9vcihlKSkrMTtlbHNle2Zvcih2YXIgbD1kLW58fDEsdT10aGlzLl9yb290LHAsZztuPnR8fHQ+PWR8fG8+ZXx8ZT49aDspc3dpdGNoKGc9KGU8byk8PDF8dDxuLHA9bmV3IEFycmF5KDQpLHBbZ109dSx1PXAsbCo9MixnKXtjYXNlIDA6ZD1uK2wsaD1vK2w7YnJlYWs7Y2FzZSAxOm49ZC1sLGg9bytsO2JyZWFrO2Nhc2UgMjpkPW4rbCxvPWgtbDticmVhaztjYXNlIDM6bj1kLWwsbz1oLWw7YnJlYWt9dGhpcy5fcm9vdCYmdGhpcy5fcm9vdC5sZW5ndGgmJih0aGlzLl9yb290PXUpfXJldHVybiB0aGlzLl94MD1uLHRoaXMuX3kwPW8sdGhpcy5feDE9ZCx0aGlzLl95MT1oLHRoaXN9ZnVuY3Rpb24gdHJlZV9kYXRhJDEoKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy52aXNpdChmdW5jdGlvbihlKXtpZighZS5sZW5ndGgpZG8gdC5wdXNoKGUuZGF0YSk7d2hpbGUoZT1lLm5leHQpfSksdH1mdW5jdGlvbiB0cmVlX2V4dGVudCQxKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuY292ZXIoK3RbMF1bMF0sK3RbMF1bMV0pLmNvdmVyKCt0WzFdWzBdLCt0WzFdWzFdKTppc05hTih0aGlzLl94MCk/dm9pZCAwOltbdGhpcy5feDAsdGhpcy5feTBdLFt0aGlzLl94MSx0aGlzLl95MV1dfWZ1bmN0aW9uIFF1YWQodCxlLG4sbyxkKXt0aGlzLm5vZGU9dCx0aGlzLngwPWUsdGhpcy55MD1uLHRoaXMueDE9byx0aGlzLnkxPWR9ZnVuY3Rpb24gdHJlZV9maW5kJDEodCxlLG4pe3ZhciBvLGQ9dGhpcy5feDAsaD10aGlzLl95MCxsLHUscCxnLHY9dGhpcy5feDEsYj10aGlzLl95MSxfPVtdLE89dGhpcy5fcm9vdCxULFM7Zm9yKE8mJl8ucHVzaChuZXcgUXVhZChPLGQsaCx2LGIpKSxuPT1udWxsP249MS8wOihkPXQtbixoPWUtbix2PXQrbixiPWUrbixuKj1uKTtUPV8ucG9wKCk7KWlmKCEoIShPPVQubm9kZSl8fChsPVQueDApPnZ8fCh1PVQueTApPmJ8fChwPVQueDEpPGR8fChnPVQueTEpPGgpKWlmKE8ubGVuZ3RoKXt2YXIgTj0obCtwKS8yLEI9KHUrZykvMjtfLnB1c2gobmV3IFF1YWQoT1szXSxOLEIscCxnKSxuZXcgUXVhZChPWzJdLGwsQixOLGcpLG5ldyBRdWFkKE9bMV0sTix1LHAsQiksbmV3IFF1YWQoT1swXSxsLHUsTixCKSksKFM9KGU+PUIpPDwxfHQ+PU4pJiYoVD1fW18ubGVuZ3RoLTFdLF9bXy5sZW5ndGgtMV09X1tfLmxlbmd0aC0xLVNdLF9bXy5sZW5ndGgtMS1TXT1UKX1lbHNle3ZhciBMPXQtK3RoaXMuX3guY2FsbChudWxsLE8uZGF0YSksQz1lLSt0aGlzLl95LmNhbGwobnVsbCxPLmRhdGEpLGo9TCpMK0MqQztpZihqPG4pe3ZhciBQPU1hdGguc3FydChuPWopO2Q9dC1QLGg9ZS1QLHY9dCtQLGI9ZStQLG89Ty5kYXRhfX1yZXR1cm4gb31mdW5jdGlvbiB0cmVlX3JlbW92ZSQxKHQpe2lmKGlzTmFOKHY9K3RoaXMuX3guY2FsbChudWxsLHQpKXx8aXNOYU4oYj0rdGhpcy5feS5jYWxsKG51bGwsdCkpKXJldHVybiB0aGlzO3ZhciBlLG49dGhpcy5fcm9vdCxvLGQsaCxsPXRoaXMuX3gwLHU9dGhpcy5feTAscD10aGlzLl94MSxnPXRoaXMuX3kxLHYsYixfLE8sVCxTLE4sQjtpZighbilyZXR1cm4gdGhpcztpZihuLmxlbmd0aClmb3IoOzspe2lmKChUPXY+PShfPShsK3ApLzIpKT9sPV86cD1fLChTPWI+PShPPSh1K2cpLzIpKT91PU86Zz1PLGU9biwhKG49bltOPVM8PDF8VF0pKXJldHVybiB0aGlzO2lmKCFuLmxlbmd0aClicmVhazsoZVtOKzEmM118fGVbTisyJjNdfHxlW04rMyYzXSkmJihvPWUsQj1OKX1mb3IoO24uZGF0YSE9PXQ7KWlmKGQ9biwhKG49bi5uZXh0KSlyZXR1cm4gdGhpcztyZXR1cm4oaD1uLm5leHQpJiZkZWxldGUgbi5uZXh0LGQ/KGg/ZC5uZXh0PWg6ZGVsZXRlIGQubmV4dCx0aGlzKTplPyhoP2VbTl09aDpkZWxldGUgZVtOXSwobj1lWzBdfHxlWzFdfHxlWzJdfHxlWzNdKSYmbj09PShlWzNdfHxlWzJdfHxlWzFdfHxlWzBdKSYmIW4ubGVuZ3RoJiYobz9vW0JdPW46dGhpcy5fcm9vdD1uKSx0aGlzKToodGhpcy5fcm9vdD1oLHRoaXMpfWZ1bmN0aW9uIHJlbW92ZUFsbCQxKHQpe2Zvcih2YXIgZT0wLG49dC5sZW5ndGg7ZTxuOysrZSl0aGlzLnJlbW92ZSh0W2VdKTtyZXR1cm4gdGhpc31mdW5jdGlvbiB0cmVlX3Jvb3QkMSgpe3JldHVybiB0aGlzLl9yb290fWZ1bmN0aW9uIHRyZWVfc2l6ZSQxKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy52aXNpdChmdW5jdGlvbihlKXtpZighZS5sZW5ndGgpZG8rK3Q7d2hpbGUoZT1lLm5leHQpfSksdH1mdW5jdGlvbiB0cmVlX3Zpc2l0JDEodCl7dmFyIGU9W10sbixvPXRoaXMuX3Jvb3QsZCxoLGwsdSxwO2ZvcihvJiZlLnB1c2gobmV3IFF1YWQobyx0aGlzLl94MCx0aGlzLl95MCx0aGlzLl94MSx0aGlzLl95MSkpO249ZS5wb3AoKTspaWYoIXQobz1uLm5vZGUsaD1uLngwLGw9bi55MCx1PW4ueDEscD1uLnkxKSYmby5sZW5ndGgpe3ZhciBnPShoK3UpLzIsdj0obCtwKS8yOyhkPW9bM10pJiZlLnB1c2gobmV3IFF1YWQoZCxnLHYsdSxwKSksKGQ9b1syXSkmJmUucHVzaChuZXcgUXVhZChkLGgsdixnLHApKSwoZD1vWzFdKSYmZS5wdXNoKG5ldyBRdWFkKGQsZyxsLHUsdikpLChkPW9bMF0pJiZlLnB1c2gobmV3IFF1YWQoZCxoLGwsZyx2KSl9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV92aXNpdEFmdGVyJDEodCl7dmFyIGU9W10sbj1bXSxvO2Zvcih0aGlzLl9yb290JiZlLnB1c2gobmV3IFF1YWQodGhpcy5fcm9vdCx0aGlzLl94MCx0aGlzLl95MCx0aGlzLl94MSx0aGlzLl95MSkpO289ZS5wb3AoKTspe3ZhciBkPW8ubm9kZTtpZihkLmxlbmd0aCl7dmFyIGgsbD1vLngwLHU9by55MCxwPW8ueDEsZz1vLnkxLHY9KGwrcCkvMixiPSh1K2cpLzI7KGg9ZFswXSkmJmUucHVzaChuZXcgUXVhZChoLGwsdSx2LGIpKSwoaD1kWzFdKSYmZS5wdXNoKG5ldyBRdWFkKGgsdix1LHAsYikpLChoPWRbMl0pJiZlLnB1c2gobmV3IFF1YWQoaCxsLGIsdixnKSksKGg9ZFszXSkmJmUucHVzaChuZXcgUXVhZChoLHYsYixwLGcpKX1uLnB1c2gobyl9Zm9yKDtvPW4ucG9wKCk7KXQoby5ub2RlLG8ueDAsby55MCxvLngxLG8ueTEpO3JldHVybiB0aGlzfWZ1bmN0aW9uIGRlZmF1bHRYJDEodCl7cmV0dXJuIHRbMF19ZnVuY3Rpb24gdHJlZV94JDEodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3g9dCx0aGlzKTp0aGlzLl94fWZ1bmN0aW9uIGRlZmF1bHRZJDEodCl7cmV0dXJuIHRbMV19ZnVuY3Rpb24gdHJlZV95JDEodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3k9dCx0aGlzKTp0aGlzLl95fWZ1bmN0aW9uIHF1YWR0cmVlKHQsZSxuKXt2YXIgbz1uZXcgUXVhZHRyZWUoZT8/ZGVmYXVsdFgkMSxuPz9kZWZhdWx0WSQxLE5hTixOYU4sTmFOLE5hTik7cmV0dXJuIHQ9PW51bGw/bzpvLmFkZEFsbCh0KX1mdW5jdGlvbiBRdWFkdHJlZSh0LGUsbixvLGQsaCl7dGhpcy5feD10LHRoaXMuX3k9ZSx0aGlzLl94MD1uLHRoaXMuX3kwPW8sdGhpcy5feDE9ZCx0aGlzLl95MT1oLHRoaXMuX3Jvb3Q9dm9pZCAwfWZ1bmN0aW9uIGxlYWZfY29weSQxKHQpe2Zvcih2YXIgZT17ZGF0YTp0LmRhdGF9LG49ZTt0PXQubmV4dDspbj1uLm5leHQ9e2RhdGE6dC5kYXRhfTtyZXR1cm4gZX12YXIgdHJlZVByb3RvJDE9cXVhZHRyZWUucHJvdG90eXBlPVF1YWR0cmVlLnByb3RvdHlwZTt0cmVlUHJvdG8kMS5jb3B5PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFF1YWR0cmVlKHRoaXMuX3gsdGhpcy5feSx0aGlzLl94MCx0aGlzLl95MCx0aGlzLl94MSx0aGlzLl95MSksZT10aGlzLl9yb290LG4sbztpZighZSlyZXR1cm4gdDtpZighZS5sZW5ndGgpcmV0dXJuIHQuX3Jvb3Q9bGVhZl9jb3B5JDEoZSksdDtmb3Iobj1be3NvdXJjZTplLHRhcmdldDp0Ll9yb290PW5ldyBBcnJheSg0KX1dO2U9bi5wb3AoKTspZm9yKHZhciBkPTA7ZDw0OysrZCkobz1lLnNvdXJjZVtkXSkmJihvLmxlbmd0aD9uLnB1c2goe3NvdXJjZTpvLHRhcmdldDplLnRhcmdldFtkXT1uZXcgQXJyYXkoNCl9KTplLnRhcmdldFtkXT1sZWFmX2NvcHkkMShvKSk7cmV0dXJuIHR9O3RyZWVQcm90byQxLmFkZD10cmVlX2FkZCQxO3RyZWVQcm90byQxLmFkZEFsbD1hZGRBbGwkMTt0cmVlUHJvdG8kMS5jb3Zlcj10cmVlX2NvdmVyJDE7dHJlZVByb3RvJDEuZGF0YT10cmVlX2RhdGEkMTt0cmVlUHJvdG8kMS5leHRlbnQ9dHJlZV9leHRlbnQkMTt0cmVlUHJvdG8kMS5maW5kPXRyZWVfZmluZCQxO3RyZWVQcm90byQxLnJlbW92ZT10cmVlX3JlbW92ZSQxO3RyZWVQcm90byQxLnJlbW92ZUFsbD1yZW1vdmVBbGwkMTt0cmVlUHJvdG8kMS5yb290PXRyZWVfcm9vdCQxO3RyZWVQcm90byQxLnNpemU9dHJlZV9zaXplJDE7dHJlZVByb3RvJDEudmlzaXQ9dHJlZV92aXNpdCQxO3RyZWVQcm90byQxLnZpc2l0QWZ0ZXI9dHJlZV92aXNpdEFmdGVyJDE7dHJlZVByb3RvJDEueD10cmVlX3gkMTt0cmVlUHJvdG8kMS55PXRyZWVfeSQxO2Z1bmN0aW9uIHRyZWVfYWRkKHQpe2NvbnN0IGU9K3RoaXMuX3guY2FsbChudWxsLHQpLG49K3RoaXMuX3kuY2FsbChudWxsLHQpLG89K3RoaXMuX3ouY2FsbChudWxsLHQpO3JldHVybiBhZGQkMSh0aGlzLmNvdmVyKGUsbixvKSxlLG4sbyx0KX1mdW5jdGlvbiBhZGQkMSh0LGUsbixvLGQpe2lmKGlzTmFOKGUpfHxpc05hTihuKXx8aXNOYU4obykpcmV0dXJuIHQ7dmFyIGgsbD10Ll9yb290LHU9e2RhdGE6ZH0scD10Ll94MCxnPXQuX3kwLHY9dC5fejAsYj10Ll94MSxfPXQuX3kxLE89dC5fejEsVCxTLE4sQixMLEMsaixQLEYsayxKO2lmKCFsKXJldHVybiB0Ll9yb290PXUsdDtmb3IoO2wubGVuZ3RoOylpZigoaj1lPj0oVD0ocCtiKS8yKSk/cD1UOmI9VCwoUD1uPj0oUz0oZytfKS8yKSk/Zz1TOl89UywoRj1vPj0oTj0oditPKS8yKSk/dj1OOk89TixoPWwsIShsPWxbaz1GPDwyfFA8PDF8al0pKXJldHVybiBoW2tdPXUsdDtpZihCPSt0Ll94LmNhbGwobnVsbCxsLmRhdGEpLEw9K3QuX3kuY2FsbChudWxsLGwuZGF0YSksQz0rdC5fei5jYWxsKG51bGwsbC5kYXRhKSxlPT09QiYmbj09PUwmJm89PT1DKXJldHVybiB1Lm5leHQ9bCxoP2hba109dTp0Ll9yb290PXUsdDtkbyBoPWg/aFtrXT1uZXcgQXJyYXkoOCk6dC5fcm9vdD1uZXcgQXJyYXkoOCksKGo9ZT49KFQ9KHArYikvMikpP3A9VDpiPVQsKFA9bj49KFM9KGcrXykvMikpP2c9UzpfPVMsKEY9bz49KE49KHYrTykvMikpP3Y9TjpPPU47d2hpbGUoKGs9Rjw8MnxQPDwxfGopPT09KEo9KEM+PU4pPDwyfChMPj1TKTw8MXxCPj1UKSk7cmV0dXJuIGhbSl09bCxoW2tdPXUsdH1mdW5jdGlvbiBhZGRBbGwodCl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9QXJyYXkuZnJvbSh0KSk7Y29uc3QgZT10Lmxlbmd0aCxuPW5ldyBGbG9hdDY0QXJyYXkoZSksbz1uZXcgRmxvYXQ2NEFycmF5KGUpLGQ9bmV3IEZsb2F0NjRBcnJheShlKTtsZXQgaD0xLzAsbD0xLzAsdT0xLzAscD0tMS8wLGc9LTEvMCx2PS0xLzA7Zm9yKGxldCBiPTAsXyxPLFQsUztiPGU7KytiKWlzTmFOKE89K3RoaXMuX3guY2FsbChudWxsLF89dFtiXSkpfHxpc05hTihUPSt0aGlzLl95LmNhbGwobnVsbCxfKSl8fGlzTmFOKFM9K3RoaXMuX3ouY2FsbChudWxsLF8pKXx8KG5bYl09TyxvW2JdPVQsZFtiXT1TLE88aCYmKGg9TyksTz5wJiYocD1PKSxUPGwmJihsPVQpLFQ+ZyYmKGc9VCksUzx1JiYodT1TKSxTPnYmJih2PVMpKTtpZihoPnB8fGw+Z3x8dT52KXJldHVybiB0aGlzO3RoaXMuY292ZXIoaCxsLHUpLmNvdmVyKHAsZyx2KTtmb3IobGV0IGI9MDtiPGU7KytiKWFkZCQxKHRoaXMsbltiXSxvW2JdLGRbYl0sdFtiXSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdHJlZV9jb3Zlcih0LGUsbil7aWYoaXNOYU4odD0rdCl8fGlzTmFOKGU9K2UpfHxpc05hTihuPStuKSlyZXR1cm4gdGhpczt2YXIgbz10aGlzLl94MCxkPXRoaXMuX3kwLGg9dGhpcy5fejAsbD10aGlzLl94MSx1PXRoaXMuX3kxLHA9dGhpcy5fejE7aWYoaXNOYU4obykpbD0obz1NYXRoLmZsb29yKHQpKSsxLHU9KGQ9TWF0aC5mbG9vcihlKSkrMSxwPShoPU1hdGguZmxvb3IobikpKzE7ZWxzZXtmb3IodmFyIGc9bC1vfHwxLHY9dGhpcy5fcm9vdCxiLF87bz50fHx0Pj1sfHxkPmV8fGU+PXV8fGg+bnx8bj49cDspc3dpdGNoKF89KG48aCk8PDJ8KGU8ZCk8PDF8dDxvLGI9bmV3IEFycmF5KDgpLGJbX109dix2PWIsZyo9MixfKXtjYXNlIDA6bD1vK2csdT1kK2cscD1oK2c7YnJlYWs7Y2FzZSAxOm89bC1nLHU9ZCtnLHA9aCtnO2JyZWFrO2Nhc2UgMjpsPW8rZyxkPXUtZyxwPWgrZzticmVhaztjYXNlIDM6bz1sLWcsZD11LWcscD1oK2c7YnJlYWs7Y2FzZSA0Omw9bytnLHU9ZCtnLGg9cC1nO2JyZWFrO2Nhc2UgNTpvPWwtZyx1PWQrZyxoPXAtZzticmVhaztjYXNlIDY6bD1vK2csZD11LWcsaD1wLWc7YnJlYWs7Y2FzZSA3Om89bC1nLGQ9dS1nLGg9cC1nO2JyZWFrfXRoaXMuX3Jvb3QmJnRoaXMuX3Jvb3QubGVuZ3RoJiYodGhpcy5fcm9vdD12KX1yZXR1cm4gdGhpcy5feDA9byx0aGlzLl95MD1kLHRoaXMuX3owPWgsdGhpcy5feDE9bCx0aGlzLl95MT11LHRoaXMuX3oxPXAsdGhpc31mdW5jdGlvbiB0cmVlX2RhdGEoKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy52aXNpdChmdW5jdGlvbihlKXtpZighZS5sZW5ndGgpZG8gdC5wdXNoKGUuZGF0YSk7d2hpbGUoZT1lLm5leHQpfSksdH1mdW5jdGlvbiB0cmVlX2V4dGVudCh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLmNvdmVyKCt0WzBdWzBdLCt0WzBdWzFdLCt0WzBdWzJdKS5jb3ZlcigrdFsxXVswXSwrdFsxXVsxXSwrdFsxXVsyXSk6aXNOYU4odGhpcy5feDApP3ZvaWQgMDpbW3RoaXMuX3gwLHRoaXMuX3kwLHRoaXMuX3owXSxbdGhpcy5feDEsdGhpcy5feTEsdGhpcy5fejFdXX1mdW5jdGlvbiBPY3RhbnQodCxlLG4sbyxkLGgsbCl7dGhpcy5ub2RlPXQsdGhpcy54MD1lLHRoaXMueTA9bix0aGlzLnowPW8sdGhpcy54MT1kLHRoaXMueTE9aCx0aGlzLnoxPWx9ZnVuY3Rpb24gdHJlZV9maW5kKHQsZSxuLG8pe3ZhciBkLGg9dGhpcy5feDAsbD10aGlzLl95MCx1PXRoaXMuX3owLHAsZyx2LGIsXyxPLFQ9dGhpcy5feDEsUz10aGlzLl95MSxOPXRoaXMuX3oxLEI9W10sTD10aGlzLl9yb290LEMsajtmb3IoTCYmQi5wdXNoKG5ldyBPY3RhbnQoTCxoLGwsdSxULFMsTikpLG89PW51bGw/bz0xLzA6KGg9dC1vLGw9ZS1vLHU9bi1vLFQ9dCtvLFM9ZStvLE49bitvLG8qPW8pO0M9Qi5wb3AoKTspaWYoISghKEw9Qy5ub2RlKXx8KHA9Qy54MCk+VHx8KGc9Qy55MCk+U3x8KHY9Qy56MCk+Tnx8KGI9Qy54MSk8aHx8KF89Qy55MSk8bHx8KE89Qy56MSk8dSkpaWYoTC5sZW5ndGgpe3ZhciBQPShwK2IpLzIsRj0oZytfKS8yLGs9KHYrTykvMjtCLnB1c2gobmV3IE9jdGFudChMWzddLFAsRixrLGIsXyxPKSxuZXcgT2N0YW50KExbNl0scCxGLGssUCxfLE8pLG5ldyBPY3RhbnQoTFs1XSxQLGcsayxiLEYsTyksbmV3IE9jdGFudChMWzRdLHAsZyxrLFAsRixPKSxuZXcgT2N0YW50KExbM10sUCxGLHYsYixfLGspLG5ldyBPY3RhbnQoTFsyXSxwLEYsdixQLF8sayksbmV3IE9jdGFudChMWzFdLFAsZyx2LGIsRixrKSxuZXcgT2N0YW50KExbMF0scCxnLHYsUCxGLGspKSwoaj0obj49ayk8PDJ8KGU+PUYpPDwxfHQ+PVApJiYoQz1CW0IubGVuZ3RoLTFdLEJbQi5sZW5ndGgtMV09QltCLmxlbmd0aC0xLWpdLEJbQi5sZW5ndGgtMS1qXT1DKX1lbHNle3ZhciBKPXQtK3RoaXMuX3guY2FsbChudWxsLEwuZGF0YSksYWU9ZS0rdGhpcy5feS5jYWxsKG51bGwsTC5kYXRhKSxYPW4tK3RoaXMuX3ouY2FsbChudWxsLEwuZGF0YSksRz1KKkorYWUqYWUrWCpYO2lmKEc8byl7dmFyIHJlPU1hdGguc3FydChvPUcpO2g9dC1yZSxsPWUtcmUsdT1uLXJlLFQ9dCtyZSxTPWUrcmUsTj1uK3JlLGQ9TC5kYXRhfX1yZXR1cm4gZH1mdW5jdGlvbiB0cmVlX3JlbW92ZSh0KXtpZihpc05hTihfPSt0aGlzLl94LmNhbGwobnVsbCx0KSl8fGlzTmFOKE89K3RoaXMuX3kuY2FsbChudWxsLHQpKXx8aXNOYU4oVD0rdGhpcy5fei5jYWxsKG51bGwsdCkpKXJldHVybiB0aGlzO3ZhciBlLG49dGhpcy5fcm9vdCxvLGQsaCxsPXRoaXMuX3gwLHU9dGhpcy5feTAscD10aGlzLl96MCxnPXRoaXMuX3gxLHY9dGhpcy5feTEsYj10aGlzLl96MSxfLE8sVCxTLE4sQixMLEMsaixQLEY7aWYoIW4pcmV0dXJuIHRoaXM7aWYobi5sZW5ndGgpZm9yKDs7KXtpZigoTD1fPj0oUz0obCtnKS8yKSk/bD1TOmc9UywoQz1PPj0oTj0odSt2KS8yKSk/dT1OOnY9Tiwoaj1UPj0oQj0ocCtiKS8yKSk/cD1COmI9QixlPW4sIShuPW5bUD1qPDwyfEM8PDF8TF0pKXJldHVybiB0aGlzO2lmKCFuLmxlbmd0aClicmVhazsoZVtQKzEmN118fGVbUCsyJjddfHxlW1ArMyY3XXx8ZVtQKzQmN118fGVbUCs1JjddfHxlW1ArNiY3XXx8ZVtQKzcmN10pJiYobz1lLEY9UCl9Zm9yKDtuLmRhdGEhPT10OylpZihkPW4sIShuPW4ubmV4dCkpcmV0dXJuIHRoaXM7cmV0dXJuKGg9bi5uZXh0KSYmZGVsZXRlIG4ubmV4dCxkPyhoP2QubmV4dD1oOmRlbGV0ZSBkLm5leHQsdGhpcyk6ZT8oaD9lW1BdPWg6ZGVsZXRlIGVbUF0sKG49ZVswXXx8ZVsxXXx8ZVsyXXx8ZVszXXx8ZVs0XXx8ZVs1XXx8ZVs2XXx8ZVs3XSkmJm49PT0oZVs3XXx8ZVs2XXx8ZVs1XXx8ZVs0XXx8ZVszXXx8ZVsyXXx8ZVsxXXx8ZVswXSkmJiFuLmxlbmd0aCYmKG8/b1tGXT1uOnRoaXMuX3Jvb3Q9biksdGhpcyk6KHRoaXMuX3Jvb3Q9aCx0aGlzKX1mdW5jdGlvbiByZW1vdmVBbGwodCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47KytlKXRoaXMucmVtb3ZlKHRbZV0pO3JldHVybiB0aGlzfWZ1bmN0aW9uIHRyZWVfcm9vdCgpe3JldHVybiB0aGlzLl9yb290fWZ1bmN0aW9uIHRyZWVfc2l6ZSgpe3ZhciB0PTA7cmV0dXJuIHRoaXMudmlzaXQoZnVuY3Rpb24oZSl7aWYoIWUubGVuZ3RoKWRvKyt0O3doaWxlKGU9ZS5uZXh0KX0pLHR9ZnVuY3Rpb24gdHJlZV92aXNpdCh0KXt2YXIgZT1bXSxuLG89dGhpcy5fcm9vdCxkLGgsbCx1LHAsZyx2O2ZvcihvJiZlLnB1c2gobmV3IE9jdGFudChvLHRoaXMuX3gwLHRoaXMuX3kwLHRoaXMuX3owLHRoaXMuX3gxLHRoaXMuX3kxLHRoaXMuX3oxKSk7bj1lLnBvcCgpOylpZighdChvPW4ubm9kZSxoPW4ueDAsbD1uLnkwLHU9bi56MCxwPW4ueDEsZz1uLnkxLHY9bi56MSkmJm8ubGVuZ3RoKXt2YXIgYj0oaCtwKS8yLF89KGwrZykvMixPPSh1K3YpLzI7KGQ9b1s3XSkmJmUucHVzaChuZXcgT2N0YW50KGQsYixfLE8scCxnLHYpKSwoZD1vWzZdKSYmZS5wdXNoKG5ldyBPY3RhbnQoZCxoLF8sTyxiLGcsdikpLChkPW9bNV0pJiZlLnB1c2gobmV3IE9jdGFudChkLGIsbCxPLHAsXyx2KSksKGQ9b1s0XSkmJmUucHVzaChuZXcgT2N0YW50KGQsaCxsLE8sYixfLHYpKSwoZD1vWzNdKSYmZS5wdXNoKG5ldyBPY3RhbnQoZCxiLF8sdSxwLGcsTykpLChkPW9bMl0pJiZlLnB1c2gobmV3IE9jdGFudChkLGgsXyx1LGIsZyxPKSksKGQ9b1sxXSkmJmUucHVzaChuZXcgT2N0YW50KGQsYixsLHUscCxfLE8pKSwoZD1vWzBdKSYmZS5wdXNoKG5ldyBPY3RhbnQoZCxoLGwsdSxiLF8sTykpfXJldHVybiB0aGlzfWZ1bmN0aW9uIHRyZWVfdmlzaXRBZnRlcih0KXt2YXIgZT1bXSxuPVtdLG87Zm9yKHRoaXMuX3Jvb3QmJmUucHVzaChuZXcgT2N0YW50KHRoaXMuX3Jvb3QsdGhpcy5feDAsdGhpcy5feTAsdGhpcy5fejAsdGhpcy5feDEsdGhpcy5feTEsdGhpcy5fejEpKTtvPWUucG9wKCk7KXt2YXIgZD1vLm5vZGU7aWYoZC5sZW5ndGgpe3ZhciBoLGw9by54MCx1PW8ueTAscD1vLnowLGc9by54MSx2PW8ueTEsYj1vLnoxLF89KGwrZykvMixPPSh1K3YpLzIsVD0ocCtiKS8yOyhoPWRbMF0pJiZlLnB1c2gobmV3IE9jdGFudChoLGwsdSxwLF8sTyxUKSksKGg9ZFsxXSkmJmUucHVzaChuZXcgT2N0YW50KGgsXyx1LHAsZyxPLFQpKSwoaD1kWzJdKSYmZS5wdXNoKG5ldyBPY3RhbnQoaCxsLE8scCxfLHYsVCkpLChoPWRbM10pJiZlLnB1c2gobmV3IE9jdGFudChoLF8sTyxwLGcsdixUKSksKGg9ZFs0XSkmJmUucHVzaChuZXcgT2N0YW50KGgsbCx1LFQsXyxPLGIpKSwoaD1kWzVdKSYmZS5wdXNoKG5ldyBPY3RhbnQoaCxfLHUsVCxnLE8sYikpLChoPWRbNl0pJiZlLnB1c2gobmV3IE9jdGFudChoLGwsTyxULF8sdixiKSksKGg9ZFs3XSkmJmUucHVzaChuZXcgT2N0YW50KGgsXyxPLFQsZyx2LGIpKX1uLnB1c2gobyl9Zm9yKDtvPW4ucG9wKCk7KXQoby5ub2RlLG8ueDAsby55MCxvLnowLG8ueDEsby55MSxvLnoxKTtyZXR1cm4gdGhpc31mdW5jdGlvbiBkZWZhdWx0WCh0KXtyZXR1cm4gdFswXX1mdW5jdGlvbiB0cmVlX3godCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3g9dCx0aGlzKTp0aGlzLl94fWZ1bmN0aW9uIGRlZmF1bHRZKHQpe3JldHVybiB0WzFdfWZ1bmN0aW9uIHRyZWVfeSh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5feT10LHRoaXMpOnRoaXMuX3l9ZnVuY3Rpb24gZGVmYXVsdFoodCl7cmV0dXJuIHRbMl19ZnVuY3Rpb24gdHJlZV96KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl96PXQsdGhpcyk6dGhpcy5fen1mdW5jdGlvbiBvY3RyZWUodCxlLG4sbyl7dmFyIGQ9bmV3IE9jdHJlZShlPz9kZWZhdWx0WCxuPz9kZWZhdWx0WSxvPz9kZWZhdWx0WixOYU4sTmFOLE5hTixOYU4sTmFOLE5hTik7cmV0dXJuIHQ9PW51bGw/ZDpkLmFkZEFsbCh0KX1mdW5jdGlvbiBPY3RyZWUodCxlLG4sbyxkLGgsbCx1LHApe3RoaXMuX3g9dCx0aGlzLl95PWUsdGhpcy5fej1uLHRoaXMuX3gwPW8sdGhpcy5feTA9ZCx0aGlzLl96MD1oLHRoaXMuX3gxPWwsdGhpcy5feTE9dSx0aGlzLl96MT1wLHRoaXMuX3Jvb3Q9dm9pZCAwfWZ1bmN0aW9uIGxlYWZfY29weSh0KXtmb3IodmFyIGU9e2RhdGE6dC5kYXRhfSxuPWU7dD10Lm5leHQ7KW49bi5uZXh0PXtkYXRhOnQuZGF0YX07cmV0dXJuIGV9dmFyIHRyZWVQcm90bz1vY3RyZWUucHJvdG90eXBlPU9jdHJlZS5wcm90b3R5cGU7dHJlZVByb3RvLmNvcHk9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgT2N0cmVlKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3gwLHRoaXMuX3kwLHRoaXMuX3owLHRoaXMuX3gxLHRoaXMuX3kxLHRoaXMuX3oxKSxlPXRoaXMuX3Jvb3QsbixvO2lmKCFlKXJldHVybiB0O2lmKCFlLmxlbmd0aClyZXR1cm4gdC5fcm9vdD1sZWFmX2NvcHkoZSksdDtmb3Iobj1be3NvdXJjZTplLHRhcmdldDp0Ll9yb290PW5ldyBBcnJheSg4KX1dO2U9bi5wb3AoKTspZm9yKHZhciBkPTA7ZDw4OysrZCkobz1lLnNvdXJjZVtkXSkmJihvLmxlbmd0aD9uLnB1c2goe3NvdXJjZTpvLHRhcmdldDplLnRhcmdldFtkXT1uZXcgQXJyYXkoOCl9KTplLnRhcmdldFtkXT1sZWFmX2NvcHkobykpO3JldHVybiB0fTt0cmVlUHJvdG8uYWRkPXRyZWVfYWRkO3RyZWVQcm90by5hZGRBbGw9YWRkQWxsO3RyZWVQcm90by5jb3Zlcj10cmVlX2NvdmVyO3RyZWVQcm90by5kYXRhPXRyZWVfZGF0YTt0cmVlUHJvdG8uZXh0ZW50PXRyZWVfZXh0ZW50O3RyZWVQcm90by5maW5kPXRyZWVfZmluZDt0cmVlUHJvdG8ucmVtb3ZlPXRyZWVfcmVtb3ZlO3RyZWVQcm90by5yZW1vdmVBbGw9cmVtb3ZlQWxsO3RyZWVQcm90by5yb290PXRyZWVfcm9vdDt0cmVlUHJvdG8uc2l6ZT10cmVlX3NpemU7dHJlZVByb3RvLnZpc2l0PXRyZWVfdmlzaXQ7dHJlZVByb3RvLnZpc2l0QWZ0ZXI9dHJlZV92aXNpdEFmdGVyO3RyZWVQcm90by54PXRyZWVfeDt0cmVlUHJvdG8ueT10cmVlX3k7dHJlZVByb3RvLno9dHJlZV96O2Z1bmN0aW9uIGNvbnN0YW50KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBqaWdnbGUodCl7cmV0dXJuKHQoKS0uNSkqMWUtNn1mdW5jdGlvbiBpbmRleCh0KXtyZXR1cm4gdC5pbmRleH1mdW5jdGlvbiBmaW5kKHQsZSl7dmFyIG49dC5nZXQoZSk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJub2RlIG5vdCBmb3VuZDogIitlKTtyZXR1cm4gbn1mdW5jdGlvbiBmb3JjZUxpbmsodCl7dmFyIGU9aW5kZXgsbj1fLG8sZD1jb25zdGFudCgzMCksaCxsLHUscCxnLHYsYj0xO3Q9PW51bGwmJih0PVtdKTtmdW5jdGlvbiBfKEIpe3JldHVybiAxL01hdGgubWluKHBbQi5zb3VyY2UuaW5kZXhdLHBbQi50YXJnZXQuaW5kZXhdKX1mdW5jdGlvbiBPKEIpe2Zvcih2YXIgTD0wLEM9dC5sZW5ndGg7TDxiOysrTClmb3IodmFyIGo9MCxQLEYsayxKPTAsYWU9MCxYPTAsRyxyZTtqPEM7KytqKVA9dFtqXSxGPVAuc291cmNlLGs9UC50YXJnZXQsSj1rLngray52eC1GLngtRi52eHx8amlnZ2xlKHYpLHU+MSYmKGFlPWsueStrLnZ5LUYueS1GLnZ5fHxqaWdnbGUodikpLHU+MiYmKFg9ay56K2sudnotRi56LUYudnp8fGppZ2dsZSh2KSksRz1NYXRoLnNxcnQoSipKK2FlKmFlK1gqWCksRz0oRy1oW2pdKS9HKkIqb1tqXSxKKj1HLGFlKj1HLFgqPUcsay52eC09SioocmU9Z1tqXSksdT4xJiYoay52eS09YWUqcmUpLHU+MiYmKGsudnotPVgqcmUpLEYudngrPUoqKHJlPTEtcmUpLHU+MSYmKEYudnkrPWFlKnJlKSx1PjImJihGLnZ6Kz1YKnJlKX1mdW5jdGlvbiBUKCl7aWYobCl7dmFyIEIsTD1sLmxlbmd0aCxDPXQubGVuZ3RoLGo9bmV3IE1hcChsLm1hcCgoRixrKT0+W2UoRixrLGwpLEZdKSksUDtmb3IoQj0wLHA9bmV3IEFycmF5KEwpO0I8QzsrK0IpUD10W0JdLFAuaW5kZXg9Qix0eXBlb2YgUC5zb3VyY2UhPSJvYmplY3QiJiYoUC5zb3VyY2U9ZmluZChqLFAuc291cmNlKSksdHlwZW9mIFAudGFyZ2V0IT0ib2JqZWN0IiYmKFAudGFyZ2V0PWZpbmQoaixQLnRhcmdldCkpLHBbUC5zb3VyY2UuaW5kZXhdPShwW1Auc291cmNlLmluZGV4XXx8MCkrMSxwW1AudGFyZ2V0LmluZGV4XT0ocFtQLnRhcmdldC5pbmRleF18fDApKzE7Zm9yKEI9MCxnPW5ldyBBcnJheShDKTtCPEM7KytCKVA9dFtCXSxnW0JdPXBbUC5zb3VyY2UuaW5kZXhdLyhwW1Auc291cmNlLmluZGV4XStwW1AudGFyZ2V0LmluZGV4XSk7bz1uZXcgQXJyYXkoQyksUygpLGg9bmV3IEFycmF5KEMpLE4oKX19ZnVuY3Rpb24gUygpe2lmKGwpZm9yKHZhciBCPTAsTD10Lmxlbmd0aDtCPEw7KytCKW9bQl09K24odFtCXSxCLHQpfWZ1bmN0aW9uIE4oKXtpZihsKWZvcih2YXIgQj0wLEw9dC5sZW5ndGg7QjxMOysrQiloW0JdPStkKHRbQl0sQix0KX1yZXR1cm4gTy5pbml0aWFsaXplPWZ1bmN0aW9uKEIsLi4uTCl7bD1CLHY9TC5maW5kKEM9PnR5cGVvZiBDPT0iZnVuY3Rpb24iKXx8TWF0aC5yYW5kb20sdT1MLmZpbmQoQz0+WzEsMiwzXS5pbmNsdWRlcyhDKSl8fDIsVCgpfSxPLmxpbmtzPWZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PUIsVCgpLE8pOnR9LE8uaWQ9ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9QixPKTplfSxPLml0ZXJhdGlvbnM9ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGI9K0IsTyk6Yn0sTy5zdHJlbmd0aD1mdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj10eXBlb2YgQj09ImZ1bmN0aW9uIj9COmNvbnN0YW50KCtCKSxTKCksTyk6bn0sTy5kaXN0YW5jZT1mdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZD10eXBlb2YgQj09ImZ1bmN0aW9uIj9COmNvbnN0YW50KCtCKSxOKCksTyk6ZH0sT312YXIgbm9vcCQxPXt2YWx1ZTooKT0+e319O2Z1bmN0aW9uIGRpc3BhdGNoKCl7Zm9yKHZhciB0PTAsZT1hcmd1bWVudHMubGVuZ3RoLG49e30sbzt0PGU7Kyt0KXtpZighKG89YXJndW1lbnRzW3RdKyIiKXx8byBpbiBufHwvW1xzLl0vLnRlc3QobykpdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIHR5cGU6ICIrbyk7bltvXT1bXX1yZXR1cm4gbmV3IERpc3BhdGNoKG4pfWZ1bmN0aW9uIERpc3BhdGNoKHQpe3RoaXMuXz10fWZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzKHQsZSl7cmV0dXJuIHQudHJpbSgpLnNwbGl0KC9efFxzKy8pLm1hcChmdW5jdGlvbihuKXt2YXIgbz0iIixkPW4uaW5kZXhPZigiLiIpO2lmKGQ+PTAmJihvPW4uc2xpY2UoZCsxKSxuPW4uc2xpY2UoMCxkKSksbiYmIWUuaGFzT3duUHJvcGVydHkobikpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHR5cGU6ICIrbik7cmV0dXJue3R5cGU6bixuYW1lOm99fSl9RGlzcGF0Y2gucHJvdG90eXBlPWRpc3BhdGNoLnByb3RvdHlwZT17Y29uc3RydWN0b3I6RGlzcGF0Y2gsb246ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl8sbz1wYXJzZVR5cGVuYW1lcyh0KyIiLG4pLGQsaD0tMSxsPW8ubGVuZ3RoO2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7Zm9yKDsrK2g8bDspaWYoKGQ9KHQ9b1toXSkudHlwZSkmJihkPWdldChuW2RdLHQubmFtZSkpKXJldHVybiBkO3JldHVybn1pZihlIT1udWxsJiZ0eXBlb2YgZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgY2FsbGJhY2s6ICIrZSk7Zm9yKDsrK2g8bDspaWYoZD0odD1vW2hdKS50eXBlKW5bZF09c2V0KG5bZF0sdC5uYW1lLGUpO2Vsc2UgaWYoZT09bnVsbClmb3IoZCBpbiBuKW5bZF09c2V0KG5bZF0sdC5uYW1lLG51bGwpO3JldHVybiB0aGlzfSxjb3B5OmZ1bmN0aW9uKCl7dmFyIHQ9e30sZT10aGlzLl87Zm9yKHZhciBuIGluIGUpdFtuXT1lW25dLnNsaWNlKCk7cmV0dXJuIG5ldyBEaXNwYXRjaCh0KX0sY2FsbDpmdW5jdGlvbih0LGUpe2lmKChkPWFyZ3VtZW50cy5sZW5ndGgtMik+MClmb3IodmFyIG49bmV3IEFycmF5KGQpLG89MCxkLGg7bzxkOysrbyluW29dPWFyZ3VtZW50c1tvKzJdO2lmKCF0aGlzLl8uaGFzT3duUHJvcGVydHkodCkpdGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIHR5cGU6ICIrdCk7Zm9yKGg9dGhpcy5fW3RdLG89MCxkPWgubGVuZ3RoO288ZDsrK28paFtvXS52YWx1ZS5hcHBseShlLG4pfSxhcHBseTpmdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0KSl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZTogIit0KTtmb3IodmFyIG89dGhpcy5fW3RdLGQ9MCxoPW8ubGVuZ3RoO2Q8aDsrK2Qpb1tkXS52YWx1ZS5hcHBseShlLG4pfX07ZnVuY3Rpb24gZ2V0KHQsZSl7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aCxkO248bzsrK24paWYoKGQ9dFtuXSkubmFtZT09PWUpcmV0dXJuIGQudmFsdWV9ZnVuY3Rpb24gc2V0KHQsZSxuKXtmb3IodmFyIG89MCxkPXQubGVuZ3RoO288ZDsrK28paWYodFtvXS5uYW1lPT09ZSl7dFtvXT1ub29wJDEsdD10LnNsaWNlKDAsbykuY29uY2F0KHQuc2xpY2UobysxKSk7YnJlYWt9cmV0dXJuIG4hPW51bGwmJnQucHVzaCh7bmFtZTplLHZhbHVlOm59KSx0fXZhciBmcmFtZT0wLHRpbWVvdXQ9MCxpbnRlcnZhbD0wLHBva2VEZWxheT0xZTMsdGFza0hlYWQsdGFza1RhaWwsY2xvY2tMYXN0PTAsY2xvY2tOb3c9MCxjbG9ja1NrZXc9MCxjbG9jaz10eXBlb2YgcGVyZm9ybWFuY2U9PSJvYmplY3QiJiZwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2U6RGF0ZSxzZXRGcmFtZT10eXBlb2Ygd2luZG93PT0ib2JqZWN0IiYmd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KHQsMTcpfTtmdW5jdGlvbiBub3coKXtyZXR1cm4gY2xvY2tOb3d8fChzZXRGcmFtZShjbGVhck5vdyksY2xvY2tOb3c9Y2xvY2subm93KCkrY2xvY2tTa2V3KX1mdW5jdGlvbiBjbGVhck5vdygpe2Nsb2NrTm93PTB9ZnVuY3Rpb24gVGltZXIoKXt0aGlzLl9jYWxsPXRoaXMuX3RpbWU9dGhpcy5fbmV4dD1udWxsfVRpbWVyLnByb3RvdHlwZT10aW1lci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRpbWVyLHJlc3RhcnQ6ZnVuY3Rpb24odCxlLG4pe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iKXRocm93IG5ldyBUeXBlRXJyb3IoImNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIik7bj0obj09bnVsbD9ub3coKTorbikrKGU9PW51bGw/MDorZSksIXRoaXMuX25leHQmJnRhc2tUYWlsIT09dGhpcyYmKHRhc2tUYWlsP3Rhc2tUYWlsLl9uZXh0PXRoaXM6dGFza0hlYWQ9dGhpcyx0YXNrVGFpbD10aGlzKSx0aGlzLl9jYWxsPXQsdGhpcy5fdGltZT1uLHNsZWVwKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9jYWxsJiYodGhpcy5fY2FsbD1udWxsLHRoaXMuX3RpbWU9MS8wLHNsZWVwKCkpfX07ZnVuY3Rpb24gdGltZXIodCxlLG4pe3ZhciBvPW5ldyBUaW1lcjtyZXR1cm4gby5yZXN0YXJ0KHQsZSxuKSxvfWZ1bmN0aW9uIHRpbWVyRmx1c2goKXtub3coKSwrK2ZyYW1lO2Zvcih2YXIgdD10YXNrSGVhZCxlO3Q7KShlPWNsb2NrTm93LXQuX3RpbWUpPj0wJiZ0Ll9jYWxsLmNhbGwodm9pZCAwLGUpLHQ9dC5fbmV4dDstLWZyYW1lfWZ1bmN0aW9uIHdha2UoKXtjbG9ja05vdz0oY2xvY2tMYXN0PWNsb2NrLm5vdygpKStjbG9ja1NrZXcsZnJhbWU9dGltZW91dD0wO3RyeXt0aW1lckZsdXNoKCl9ZmluYWxseXtmcmFtZT0wLG5hcCgpLGNsb2NrTm93PTB9fWZ1bmN0aW9uIHBva2UoKXt2YXIgdD1jbG9jay5ub3coKSxlPXQtY2xvY2tMYXN0O2U+cG9rZURlbGF5JiYoY2xvY2tTa2V3LT1lLGNsb2NrTGFzdD10KX1mdW5jdGlvbiBuYXAoKXtmb3IodmFyIHQsZT10YXNrSGVhZCxuLG89MS8wO2U7KWUuX2NhbGw/KG8+ZS5fdGltZSYmKG89ZS5fdGltZSksdD1lLGU9ZS5fbmV4dCk6KG49ZS5fbmV4dCxlLl9uZXh0PW51bGwsZT10P3QuX25leHQ9bjp0YXNrSGVhZD1uKTt0YXNrVGFpbD10LHNsZWVwKG8pfWZ1bmN0aW9uIHNsZWVwKHQpe2lmKCFmcmFtZSl7dGltZW91dCYmKHRpbWVvdXQ9Y2xlYXJUaW1lb3V0KHRpbWVvdXQpKTt2YXIgZT10LWNsb2NrTm93O2U+MjQ/KHQ8MS8wJiYodGltZW91dD1zZXRUaW1lb3V0KHdha2UsdC1jbG9jay5ub3coKS1jbG9ja1NrZXcpKSxpbnRlcnZhbCYmKGludGVydmFsPWNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpKSk6KGludGVydmFsfHwoY2xvY2tMYXN0PWNsb2NrLm5vdygpLGludGVydmFsPXNldEludGVydmFsKHBva2UscG9rZURlbGF5KSksZnJhbWU9MSxzZXRGcmFtZSh3YWtlKSl9fWNvbnN0IGE9MTY2NDUyNSxjPTEwMTM5MDQyMjMsbT00Mjk0OTY3Mjk2O2Z1bmN0aW9uIGxjZygpe2xldCB0PTE7cmV0dXJuKCk9Pih0PShhKnQrYyklbSkvbX12YXIgTUFYX0RJTUVOU0lPTlM9MztmdW5jdGlvbiB4KHQpe3JldHVybiB0Lnh9ZnVuY3Rpb24geSh0KXtyZXR1cm4gdC55fWZ1bmN0aW9uIHoodCl7cmV0dXJuIHQuen12YXIgaW5pdGlhbFJhZGl1cz0xMCxpbml0aWFsQW5nbGVSb2xsPU1hdGguUEkqKDMtTWF0aC5zcXJ0KDUpKSxpbml0aWFsQW5nbGVZYXc9TWF0aC5QSSoyMC8oOStNYXRoLnNxcnQoMjIxKSk7ZnVuY3Rpb24gZm9yY2VTaW11bGF0aW9uKHQsZSl7ZT1lfHwyO3ZhciBuPU1hdGgubWluKE1BWF9ESU1FTlNJT05TLE1hdGgubWF4KDEsTWF0aC5yb3VuZChlKSkpLG8sZD0xLGg9LjAwMSxsPTEtTWF0aC5wb3coaCwxLzMwMCksdT0wLHA9LjYsZz1uZXcgTWFwLHY9dGltZXIoTyksYj1kaXNwYXRjaCgidGljayIsImVuZCIpLF89bGNnKCk7dD09bnVsbCYmKHQ9W10pO2Z1bmN0aW9uIE8oKXtUKCksYi5jYWxsKCJ0aWNrIixvKSxkPGgmJih2LnN0b3AoKSxiLmNhbGwoImVuZCIsbykpfWZ1bmN0aW9uIFQoQil7dmFyIEwsQz10Lmxlbmd0aCxqO0I9PT12b2lkIDAmJihCPTEpO2Zvcih2YXIgUD0wO1A8QjsrK1ApZm9yKGQrPSh1LWQpKmwsZy5mb3JFYWNoKGZ1bmN0aW9uKEYpe0YoZCl9KSxMPTA7TDxDOysrTClqPXRbTF0sai5meD09bnVsbD9qLngrPWoudngqPXA6KGoueD1qLmZ4LGoudng9MCksbj4xJiYoai5meT09bnVsbD9qLnkrPWoudnkqPXA6KGoueT1qLmZ5LGoudnk9MCkpLG4+MiYmKGouZno9PW51bGw/ai56Kz1qLnZ6Kj1wOihqLno9ai5meixqLnZ6PTApKTtyZXR1cm4gb31mdW5jdGlvbiBTKCl7Zm9yKHZhciBCPTAsTD10Lmxlbmd0aCxDO0I8TDsrK0Ipe2lmKEM9dFtCXSxDLmluZGV4PUIsQy5meCE9bnVsbCYmKEMueD1DLmZ4KSxDLmZ5IT1udWxsJiYoQy55PUMuZnkpLEMuZnohPW51bGwmJihDLno9Qy5meiksaXNOYU4oQy54KXx8bj4xJiZpc05hTihDLnkpfHxuPjImJmlzTmFOKEMueikpe3ZhciBqPWluaXRpYWxSYWRpdXMqKG4+Mj9NYXRoLmNicnQoLjUrQik6bj4xP01hdGguc3FydCguNStCKTpCKSxQPUIqaW5pdGlhbEFuZ2xlUm9sbCxGPUIqaW5pdGlhbEFuZ2xlWWF3O249PT0xP0MueD1qOm49PT0yPyhDLng9aipNYXRoLmNvcyhQKSxDLnk9aipNYXRoLnNpbihQKSk6KEMueD1qKk1hdGguc2luKFApKk1hdGguY29zKEYpLEMueT1qKk1hdGguY29zKFApLEMuej1qKk1hdGguc2luKFApKk1hdGguc2luKEYpKX0oaXNOYU4oQy52eCl8fG4+MSYmaXNOYU4oQy52eSl8fG4+MiYmaXNOYU4oQy52eikpJiYoQy52eD0wLG4+MSYmKEMudnk9MCksbj4yJiYoQy52ej0wKSl9fWZ1bmN0aW9uIE4oQil7cmV0dXJuIEIuaW5pdGlhbGl6ZSYmQi5pbml0aWFsaXplKHQsXyxuKSxCfXJldHVybiBTKCksbz17dGljazpULHJlc3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdi5yZXN0YXJ0KE8pLG99LHN0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gdi5zdG9wKCksb30sbnVtRGltZW5zaW9uczpmdW5jdGlvbihCKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1NYXRoLm1pbihNQVhfRElNRU5TSU9OUyxNYXRoLm1heCgxLE1hdGgucm91bmQoQikpKSxnLmZvckVhY2goTiksbyk6bn0sbm9kZXM6ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9QixTKCksZy5mb3JFYWNoKE4pLG8pOnR9LGFscGhhOmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhkPStCLG8pOmR9LGFscGhhTWluOmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhoPStCLG8pOmh9LGFscGhhRGVjYXk6ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGw9K0Isbyk6K2x9LGFscGhhVGFyZ2V0OmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PStCLG8pOnV9LHZlbG9jaXR5RGVjYXk6ZnVuY3Rpb24oQil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHA9MS1CLG8pOjEtcH0scmFuZG9tU291cmNlOmZ1bmN0aW9uKEIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhfPUIsZy5mb3JFYWNoKE4pLG8pOl99LGZvcmNlOmZ1bmN0aW9uKEIsTCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT8oTD09bnVsbD9nLmRlbGV0ZShCKTpnLnNldChCLE4oTCkpLG8pOmcuZ2V0KEIpfSxmaW5kOmZ1bmN0aW9uKCl7dmFyIEI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxMPUIuc2hpZnQoKXx8MCxDPShuPjE/Qi5zaGlmdCgpOm51bGwpfHwwLGo9KG4+Mj9CLnNoaWZ0KCk6bnVsbCl8fDAsUD1CLnNoaWZ0KCl8fDEvMCxGPTAsaz10Lmxlbmd0aCxKLGFlLFgsRyxyZSxNO2ZvcihQKj1QLEY9MDtGPGs7KytGKXJlPXRbRl0sSj1MLXJlLngsYWU9Qy0ocmUueXx8MCksWD1qLShyZS56fHwwKSxHPUoqSithZSphZStYKlgsRzxQJiYoTT1yZSxQPUcpO3JldHVybiBNfSxvbjpmdW5jdGlvbihCLEwpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjE/KGIub24oQixMKSxvKTpiLm9uKEIpfX19ZnVuY3Rpb24gZm9yY2VNYW55Qm9keSgpe3ZhciB0LGUsbixvLGQsaD1jb25zdGFudCgtMzApLGwsdT0xLHA9MS8wLGc9LjgxO2Z1bmN0aW9uIHYoVCl7dmFyIFMsTj10Lmxlbmd0aCxCPShlPT09MT9iaW5hcnl0cmVlKHQseCk6ZT09PTI/cXVhZHRyZWUodCx4LHkpOmU9PT0zP29jdHJlZSh0LHgseSx6KTpudWxsKS52aXNpdEFmdGVyKF8pO2ZvcihkPVQsUz0wO1M8TjsrK1Mpbj10W1NdLEIudmlzaXQoTyl9ZnVuY3Rpb24gYigpe2lmKHQpe3ZhciBULFM9dC5sZW5ndGgsTjtmb3IobD1uZXcgQXJyYXkoUyksVD0wO1Q8UzsrK1QpTj10W1RdLGxbTi5pbmRleF09K2goTixULHQpfX1mdW5jdGlvbiBfKFQpe3ZhciBTPTAsTixCLEw9MCxDLGosUCxGLGs9VC5sZW5ndGg7aWYoayl7Zm9yKEM9aj1QPUY9MDtGPGs7KytGKShOPVRbRl0pJiYoQj1NYXRoLmFicyhOLnZhbHVlKSkmJihTKz1OLnZhbHVlLEwrPUIsQys9QiooTi54fHwwKSxqKz1CKihOLnl8fDApLFArPUIqKE4uenx8MCkpO1MqPU1hdGguc3FydCg0L2spLFQueD1DL0wsZT4xJiYoVC55PWovTCksZT4yJiYoVC56PVAvTCl9ZWxzZXtOPVQsTi54PU4uZGF0YS54LGU+MSYmKE4ueT1OLmRhdGEueSksZT4yJiYoTi56PU4uZGF0YS56KTtkbyBTKz1sW04uZGF0YS5pbmRleF07d2hpbGUoTj1OLm5leHQpfVQudmFsdWU9U31mdW5jdGlvbiBPKFQsUyxOLEIsTCl7aWYoIVQudmFsdWUpcmV0dXJuITA7dmFyIEM9W04sQixMXVtlLTFdLGo9VC54LW4ueCxQPWU+MT9ULnktbi55OjAsRj1lPjI/VC56LW4uejowLGs9Qy1TLEo9aipqK1AqUCtGKkY7aWYoayprL2c8SilyZXR1cm4gSjxwJiYoaj09PTAmJihqPWppZ2dsZShvKSxKKz1qKmopLGU+MSYmUD09PTAmJihQPWppZ2dsZShvKSxKKz1QKlApLGU+MiYmRj09PTAmJihGPWppZ2dsZShvKSxKKz1GKkYpLEo8dSYmKEo9TWF0aC5zcXJ0KHUqSikpLG4udngrPWoqVC52YWx1ZSpkL0osZT4xJiYobi52eSs9UCpULnZhbHVlKmQvSiksZT4yJiYobi52eis9RipULnZhbHVlKmQvSikpLCEwO2lmKFQubGVuZ3RofHxKPj1wKXJldHVybjsoVC5kYXRhIT09bnx8VC5uZXh0KSYmKGo9PT0wJiYoaj1qaWdnbGUobyksSis9aipqKSxlPjEmJlA9PT0wJiYoUD1qaWdnbGUobyksSis9UCpQKSxlPjImJkY9PT0wJiYoRj1qaWdnbGUobyksSis9RipGKSxKPHUmJihKPU1hdGguc3FydCh1KkopKSk7ZG8gVC5kYXRhIT09biYmKGs9bFtULmRhdGEuaW5kZXhdKmQvSixuLnZ4Kz1qKmssZT4xJiYobi52eSs9UCprKSxlPjImJihuLnZ6Kz1GKmspKTt3aGlsZShUPVQubmV4dCl9cmV0dXJuIHYuaW5pdGlhbGl6ZT1mdW5jdGlvbihULC4uLlMpe3Q9VCxvPVMuZmluZChOPT50eXBlb2YgTj09ImZ1bmN0aW9uIil8fE1hdGgucmFuZG9tLGU9Uy5maW5kKE49PlsxLDIsM10uaW5jbHVkZXMoTikpfHwyLGIoKX0sdi5zdHJlbmd0aD1mdW5jdGlvbihUKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaD10eXBlb2YgVD09ImZ1bmN0aW9uIj9UOmNvbnN0YW50KCtUKSxiKCksdik6aH0sdi5kaXN0YW5jZU1pbj1mdW5jdGlvbihUKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odT1UKlQsdik6TWF0aC5zcXJ0KHUpfSx2LmRpc3RhbmNlTWF4PWZ1bmN0aW9uKFQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhwPVQqVCx2KTpNYXRoLnNxcnQocCl9LHYudGhldGE9ZnVuY3Rpb24oVCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGc9VCpULHYpOk1hdGguc3FydChnKX0sdn12YXIgbmdyYXBoX2ZvcmNlbGF5b3V0RXhwb3J0cz17fSxuZ3JhcGhfZm9yY2VsYXlvdXQ9e2dldCBleHBvcnRzKCl7cmV0dXJuIG5ncmFwaF9mb3JjZWxheW91dEV4cG9ydHN9LHNldCBleHBvcnRzKHQpe25ncmFwaF9mb3JjZWxheW91dEV4cG9ydHM9dH19LGdlbmVyYXRlQ3JlYXRlQm9keUV4cG9ydHM9e30sZ2VuZXJhdGVDcmVhdGVCb2R5PXtnZXQgZXhwb3J0cygpe3JldHVybiBnZW5lcmF0ZUNyZWF0ZUJvZHlFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtnZW5lcmF0ZUNyZWF0ZUJvZHlFeHBvcnRzPXR9fSxnZXRWYXJpYWJsZU5hbWUkMj1mdW5jdGlvbiB0KGUpe3JldHVybiBlPT09MD8ieCI6ZT09PTE/InkiOmU9PT0yPyJ6IjoiYyIrKGUrMSl9O2NvbnN0IGdldFZhcmlhYmxlTmFtZSQxPWdldFZhcmlhYmxlTmFtZSQyO3ZhciBjcmVhdGVQYXR0ZXJuQnVpbGRlciQ2PWZ1bmN0aW9uIHQoZSl7cmV0dXJuIG47ZnVuY3Rpb24gbihvLGQpe2xldCBoPWQmJmQuaW5kZW50fHwwLGw9ZCYmZC5qb2luIT09dm9pZCAwP2Quam9pbjpgCmAsdT1BcnJheShoKzEpLmpvaW4oIiAiKSxwPVtdO2ZvcihsZXQgZz0wO2c8ZTsrK2cpe2xldCB2PWdldFZhcmlhYmxlTmFtZSQxKGcpLGI9Zz09PTA/IiI6dTtwLnB1c2goYitvLnJlcGxhY2UoL3t2YXJ9L2csdikpfXJldHVybiBwLmpvaW4obCl9fTtjb25zdCBjcmVhdGVQYXR0ZXJuQnVpbGRlciQ1PWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDY7Z2VuZXJhdGVDcmVhdGVCb2R5LmV4cG9ydHM9Z2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb24kMTtnZW5lcmF0ZUNyZWF0ZUJvZHlFeHBvcnRzLmdlbmVyYXRlQ3JlYXRlQm9keUZ1bmN0aW9uQm9keT1nZW5lcmF0ZUNyZWF0ZUJvZHlGdW5jdGlvbkJvZHk7Z2VuZXJhdGVDcmVhdGVCb2R5RXhwb3J0cy5nZXRWZWN0b3JDb2RlPWdldFZlY3RvckNvZGU7Z2VuZXJhdGVDcmVhdGVCb2R5RXhwb3J0cy5nZXRCb2R5Q29kZT1nZXRCb2R5Q29kZTtmdW5jdGlvbiBnZW5lcmF0ZUNyZWF0ZUJvZHlGdW5jdGlvbiQxKHQsZSl7bGV0IG49Z2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb25Cb2R5KHQsZSkse0JvZHk6b309bmV3IEZ1bmN0aW9uKG4pKCk7cmV0dXJuIG99ZnVuY3Rpb24gZ2VuZXJhdGVDcmVhdGVCb2R5RnVuY3Rpb25Cb2R5KHQsZSl7cmV0dXJuYAoke2dldFZlY3RvckNvZGUodCxlKX0KJHtnZXRCb2R5Q29kZSh0KX0KcmV0dXJuIHtCb2R5OiBCb2R5LCBWZWN0b3I6IFZlY3Rvcn07CmB9ZnVuY3Rpb24gZ2V0Qm9keUNvZGUodCl7bGV0IGU9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNSh0KSxuPWUoInt2YXJ9Iix7am9pbjoiLCAifSk7cmV0dXJuYApmdW5jdGlvbiBCb2R5KCR7bn0pIHsKICB0aGlzLmlzUGlubmVkID0gZmFsc2U7CiAgdGhpcy5wb3MgPSBuZXcgVmVjdG9yKCR7bn0pOwogIHRoaXMuZm9yY2UgPSBuZXcgVmVjdG9yKCk7CiAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IoKTsKICB0aGlzLm1hc3MgPSAxOwoKICB0aGlzLnNwcmluZ0NvdW50ID0gMDsKICB0aGlzLnNwcmluZ0xlbmd0aCA9IDA7Cn0KCkJvZHkucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CiAgdGhpcy5mb3JjZS5yZXNldCgpOwogIHRoaXMuc3ByaW5nQ291bnQgPSAwOwogIHRoaXMuc3ByaW5nTGVuZ3RoID0gMDsKfQoKQm9keS5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJHtufSkgewogICR7ZSgidGhpcy5wb3Mue3Zhcn0gPSB7dmFyfSB8fCAwOyIse2luZGVudDoyfSl9Cn07YH1mdW5jdGlvbiBnZXRWZWN0b3JDb2RlKHQsZSl7bGV0IG49Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNSh0KSxvPSIiO3JldHVybiBlJiYobz1gJHtuKGAKICAgdmFyIHZ7dmFyfTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd7dmFyfScsIHsKICBzZXQ6IGZ1bmN0aW9uKHYpIHsgCiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IG5vbi1udW1iZXJzIHRvIHt2YXJ9Jyk7CiAgICB2e3Zhcn0gPSB2OyAKICB9LAogIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB2e3Zhcn07IH0KfSk7YCl9YCksYGZ1bmN0aW9uIFZlY3Rvcigke24oInt2YXJ9Iix7am9pbjoiLCAifSl9KSB7CiAgJHtvfQogICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnKSB7CiAgICAgIC8vIGNvdWxkIGJlIGFub3RoZXIgdmVjdG9yCiAgICAgIGxldCB2ID0gYXJndW1lbnRzWzBdOwogICAgICAke24oJ2lmICghTnVtYmVyLmlzRmluaXRlKHYue3Zhcn0pKSB0aHJvdyBuZXcgRXJyb3IoIkV4cGVjdGVkIHZhbHVlIGlzIG5vdCBhIGZpbml0ZSBudW1iZXIgYXQgVmVjdG9yIGNvbnN0cnVjdG9yICh7dmFyfSkiKTsnLHtpbmRlbnQ6NH0pfQogICAgICAke24oInRoaXMue3Zhcn0gPSB2Lnt2YXJ9OyIse2luZGVudDo0fSl9CiAgICB9IGVsc2UgewogICAgICAke24oJ3RoaXMue3Zhcn0gPSB0eXBlb2Yge3Zhcn0gPT09ICJudW1iZXIiID8ge3Zhcn0gOiAwOycse2luZGVudDo0fSl9CiAgICB9CiAgfQogIAogIFZlY3Rvci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7CiAgICAke24oInRoaXMue3Zhcn0gPSAiLHtqb2luOiIifSl9MDsKICB9O2B9dmFyIGdlbmVyYXRlUXVhZFRyZWVFeHBvcnRzPXt9LGdlbmVyYXRlUXVhZFRyZWU9e2dldCBleHBvcnRzKCl7cmV0dXJuIGdlbmVyYXRlUXVhZFRyZWVFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtnZW5lcmF0ZVF1YWRUcmVlRXhwb3J0cz10fX07Y29uc3QgY3JlYXRlUGF0dGVybkJ1aWxkZXIkND1jcmVhdGVQYXR0ZXJuQnVpbGRlciQ2LGdldFZhcmlhYmxlTmFtZT1nZXRWYXJpYWJsZU5hbWUkMjtnZW5lcmF0ZVF1YWRUcmVlLmV4cG9ydHM9Z2VuZXJhdGVRdWFkVHJlZUZ1bmN0aW9uJDE7Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHMuZ2VuZXJhdGVRdWFkVHJlZUZ1bmN0aW9uQm9keT1nZW5lcmF0ZVF1YWRUcmVlRnVuY3Rpb25Cb2R5O2dlbmVyYXRlUXVhZFRyZWVFeHBvcnRzLmdldEluc2VydFN0YWNrQ29kZT1nZXRJbnNlcnRTdGFja0NvZGU7Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHMuZ2V0UXVhZE5vZGVDb2RlPWdldFF1YWROb2RlQ29kZTtnZW5lcmF0ZVF1YWRUcmVlRXhwb3J0cy5pc1NhbWVQb3NpdGlvbj1pc1NhbWVQb3NpdGlvbjtnZW5lcmF0ZVF1YWRUcmVlRXhwb3J0cy5nZXRDaGlsZEJvZHlDb2RlPWdldENoaWxkQm9keUNvZGU7Z2VuZXJhdGVRdWFkVHJlZUV4cG9ydHMuc2V0Q2hpbGRCb2R5Q29kZT1zZXRDaGlsZEJvZHlDb2RlO2Z1bmN0aW9uIGdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbiQxKHQpe2xldCBlPWdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbkJvZHkodCk7cmV0dXJuIG5ldyBGdW5jdGlvbihlKSgpfWZ1bmN0aW9uIGdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbkJvZHkodCl7bGV0IGU9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNCh0KSxuPU1hdGgucG93KDIsdCk7cmV0dXJuYAoke2dldEluc2VydFN0YWNrQ29kZSgpfQoke2dldFF1YWROb2RlQ29kZSh0KX0KJHtpc1NhbWVQb3NpdGlvbih0KX0KJHtnZXRDaGlsZEJvZHlDb2RlKHQpfQoke3NldENoaWxkQm9keUNvZGUodCl9CgpmdW5jdGlvbiBjcmVhdGVRdWFkVHJlZShvcHRpb25zLCByYW5kb20pIHsKICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICBvcHRpb25zLmdyYXZpdHkgPSB0eXBlb2Ygb3B0aW9ucy5ncmF2aXR5ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuZ3Jhdml0eSA6IC0xOwogIG9wdGlvbnMudGhldGEgPSB0eXBlb2Ygb3B0aW9ucy50aGV0YSA9PT0gJ251bWJlcicgPyBvcHRpb25zLnRoZXRhIDogMC44OwoKICB2YXIgZ3Jhdml0eSA9IG9wdGlvbnMuZ3Jhdml0eTsKICB2YXIgdXBkYXRlUXVldWUgPSBbXTsKICB2YXIgaW5zZXJ0U3RhY2sgPSBuZXcgSW5zZXJ0U3RhY2soKTsKICB2YXIgdGhldGEgPSBvcHRpb25zLnRoZXRhOwoKICB2YXIgbm9kZXNDYWNoZSA9IFtdOwogIHZhciBjdXJyZW50SW5DYWNoZSA9IDA7CiAgdmFyIHJvb3QgPSBuZXdOb2RlKCk7CgogIHJldHVybiB7CiAgICBpbnNlcnRCb2RpZXM6IGluc2VydEJvZGllcywKCiAgICAvKioKICAgICAqIEdldHMgcm9vdCBub2RlIGlmIGl0IGlzIHByZXNlbnQKICAgICAqLwogICAgZ2V0Um9vdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiByb290OwogICAgfSwKCiAgICB1cGRhdGVCb2R5Rm9yY2U6IHVwZGF0ZSwKCiAgICBvcHRpb25zOiBmdW5jdGlvbihuZXdPcHRpb25zKSB7CiAgICAgIGlmIChuZXdPcHRpb25zKSB7CiAgICAgICAgaWYgKHR5cGVvZiBuZXdPcHRpb25zLmdyYXZpdHkgPT09ICdudW1iZXInKSB7CiAgICAgICAgICBncmF2aXR5ID0gbmV3T3B0aW9ucy5ncmF2aXR5OwogICAgICAgIH0KICAgICAgICBpZiAodHlwZW9mIG5ld09wdGlvbnMudGhldGEgPT09ICdudW1iZXInKSB7CiAgICAgICAgICB0aGV0YSA9IG5ld09wdGlvbnMudGhldGE7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBncmF2aXR5OiBncmF2aXR5LAogICAgICAgIHRoZXRhOiB0aGV0YQogICAgICB9OwogICAgfQogIH07CgogIGZ1bmN0aW9uIG5ld05vZGUoKSB7CiAgICAvLyBUbyBhdm9pZCBwcmVzc3VyZSBvbiBHQyB3ZSByZXVzZSBub2Rlcy4KICAgIHZhciBub2RlID0gbm9kZXNDYWNoZVtjdXJyZW50SW5DYWNoZV07CiAgICBpZiAobm9kZSkgewoke2woIiAgICAgIG5vZGUuIil9CiAgICAgIG5vZGUuYm9keSA9IG51bGw7CiAgICAgIG5vZGUubWFzcyA9ICR7ZSgibm9kZS5tYXNzX3t2YXJ9ID0gIix7am9pbjoiIn0pfTA7CiAgICAgICR7ZSgibm9kZS5taW5fe3Zhcn0gPSBub2RlLm1heF97dmFyfSA9ICIse2pvaW46IiJ9KX0wOwogICAgfSBlbHNlIHsKICAgICAgbm9kZSA9IG5ldyBRdWFkTm9kZSgpOwogICAgICBub2Rlc0NhY2hlW2N1cnJlbnRJbkNhY2hlXSA9IG5vZGU7CiAgICB9CgogICAgKytjdXJyZW50SW5DYWNoZTsKICAgIHJldHVybiBub2RlOwogIH0KCiAgZnVuY3Rpb24gdXBkYXRlKHNvdXJjZUJvZHkpIHsKICAgIHZhciBxdWV1ZSA9IHVwZGF0ZVF1ZXVlOwogICAgdmFyIHY7CiAgICAke2UoInZhciBke3Zhcn07Iix7aW5kZW50OjR9KX0KICAgIHZhciByOyAKICAgICR7ZSgidmFyIGZ7dmFyfSA9IDA7Iix7aW5kZW50OjR9KX0KICAgIHZhciBxdWV1ZUxlbmd0aCA9IDE7CiAgICB2YXIgc2hpZnRJZHggPSAwOwogICAgdmFyIHB1c2hJZHggPSAxOwoKICAgIHF1ZXVlWzBdID0gcm9vdDsKCiAgICB3aGlsZSAocXVldWVMZW5ndGgpIHsKICAgICAgdmFyIG5vZGUgPSBxdWV1ZVtzaGlmdElkeF07CiAgICAgIHZhciBib2R5ID0gbm9kZS5ib2R5OwoKICAgICAgcXVldWVMZW5ndGggLT0gMTsKICAgICAgc2hpZnRJZHggKz0gMTsKICAgICAgdmFyIGRpZmZlcmVudEJvZHkgPSAoYm9keSAhPT0gc291cmNlQm9keSk7CiAgICAgIGlmIChib2R5ICYmIGRpZmZlcmVudEJvZHkpIHsKICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBub2RlIGlzIGEgbGVhZiBub2RlIChhbmQgaXQgaXMgbm90IHNvdXJjZSBib2R5KSwKICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGZvcmNlIGV4ZXJ0ZWQgYnkgdGhlIGN1cnJlbnQgbm9kZSBvbiBib2R5LCBhbmQgYWRkIHRoaXMKICAgICAgICAvLyBhbW91bnQgdG8gYm9keSdzIG5ldCBmb3JjZS4KICAgICAgICAke2UoImR7dmFyfSA9IGJvZHkucG9zLnt2YXJ9IC0gc291cmNlQm9keS5wb3Mue3Zhcn07Iix7aW5kZW50Ojh9KX0KICAgICAgICByID0gTWF0aC5zcXJ0KCR7ZSgiZHt2YXJ9ICogZHt2YXJ9Iix7am9pbjoiICsgIn0pfSk7CgogICAgICAgIGlmIChyID09PSAwKSB7CiAgICAgICAgICAvLyBQb29yIG1hbidzIHByb3RlY3Rpb24gYWdhaW5zdCB6ZXJvIGRpc3RhbmNlLgogICAgICAgICAgJHtlKCJke3Zhcn0gPSAocmFuZG9tLm5leHREb3VibGUoKSAtIDAuNSkgLyA1MDsiLHtpbmRlbnQ6MTB9KX0KICAgICAgICAgIHIgPSBNYXRoLnNxcnQoJHtlKCJke3Zhcn0gKiBke3Zhcn0iLHtqb2luOiIgKyAifSl9KTsKICAgICAgICB9CgogICAgICAgIC8vIFRoaXMgaXMgc3RhbmRhcmQgZ3Jhdml0YXRpb24gZm9yY2UgY2FsY3VsYXRpb24gYnV0IHdlIGRpdmlkZQogICAgICAgIC8vIGJ5IHJeMyB0byBzYXZlIHR3byBvcGVyYXRpb25zIHdoZW4gbm9ybWFsaXppbmcgZm9yY2UgdmVjdG9yLgogICAgICAgIHYgPSBncmF2aXR5ICogYm9keS5tYXNzICogc291cmNlQm9keS5tYXNzIC8gKHIgKiByICogcik7CiAgICAgICAgJHtlKCJme3Zhcn0gKz0gdiAqIGR7dmFyfTsiLHtpbmRlbnQ6OH0pfQogICAgICB9IGVsc2UgaWYgKGRpZmZlcmVudEJvZHkpIHsKICAgICAgICAvLyBPdGhlcndpc2UsIGNhbGN1bGF0ZSB0aGUgcmF0aW8gcyAvIHIsICB3aGVyZSBzIGlzIHRoZSB3aWR0aCBvZiB0aGUgcmVnaW9uCiAgICAgICAgLy8gcmVwcmVzZW50ZWQgYnkgdGhlIGludGVybmFsIG5vZGUsIGFuZCByIGlzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib2R5CiAgICAgICAgLy8gYW5kIHRoZSBub2RlJ3MgY2VudGVyLW9mLW1hc3MKICAgICAgICAke2UoImR7dmFyfSA9IG5vZGUubWFzc197dmFyfSAvIG5vZGUubWFzcyAtIHNvdXJjZUJvZHkucG9zLnt2YXJ9OyIse2luZGVudDo4fSl9CiAgICAgICAgciA9IE1hdGguc3FydCgke2UoImR7dmFyfSAqIGR7dmFyfSIse2pvaW46IiArICJ9KX0pOwoKICAgICAgICBpZiAociA9PT0gMCkgewogICAgICAgICAgLy8gU29ycnkgYWJvdXQgY29kZSBkdXBsaWNhdGlvbi4gSSBkb24ndCB3YW50IHRvIGNyZWF0ZSBtYW55IGZ1bmN0aW9ucwogICAgICAgICAgLy8gcmlnaHQgYXdheS4gSnVzdCB3YW50IHRvIHNlZSBwZXJmb3JtYW5jZSBmaXJzdC4KICAgICAgICAgICR7ZSgiZHt2YXJ9ID0gKHJhbmRvbS5uZXh0RG91YmxlKCkgLSAwLjUpIC8gNTA7Iix7aW5kZW50OjEwfSl9CiAgICAgICAgICByID0gTWF0aC5zcXJ0KCR7ZSgiZHt2YXJ9ICogZHt2YXJ9Iix7am9pbjoiICsgIn0pfSk7CiAgICAgICAgfQogICAgICAgIC8vIElmIHMgLyByIDwgzrgsIHRyZWF0IHRoaXMgaW50ZXJuYWwgbm9kZSBhcyBhIHNpbmdsZSBib2R5LCBhbmQgY2FsY3VsYXRlIHRoZQogICAgICAgIC8vIGZvcmNlIGl0IGV4ZXJ0cyBvbiBzb3VyY2VCb2R5LCBhbmQgYWRkIHRoaXMgYW1vdW50IHRvIHNvdXJjZUJvZHkncyBuZXQgZm9yY2UuCiAgICAgICAgaWYgKChub2RlLm1heF8ke2dldFZhcmlhYmxlTmFtZSgwKX0gLSBub2RlLm1pbl8ke2dldFZhcmlhYmxlTmFtZSgwKX0pIC8gciA8IHRoZXRhKSB7CiAgICAgICAgICAvLyBpbiB0aGUgaWYgc3RhdGVtZW50IGFib3ZlIHdlIGNvbnNpZGVyIG5vZGUncyB3aWR0aCBvbmx5CiAgICAgICAgICAvLyBiZWNhdXNlIHRoZSByZWdpb24gd2FzIG1hZGUgaW50byBzcXVhcmUgZHVyaW5nIHRyZWUgY3JlYXRpb24uCiAgICAgICAgICAvLyBUaHVzIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiB1c2luZyB3aWR0aCBvciBoZWlnaHQuCiAgICAgICAgICB2ID0gZ3Jhdml0eSAqIG5vZGUubWFzcyAqIHNvdXJjZUJvZHkubWFzcyAvIChyICogciAqIHIpOwogICAgICAgICAgJHtlKCJme3Zhcn0gKz0gdiAqIGR7dmFyfTsiLHtpbmRlbnQ6MTB9KX0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gT3RoZXJ3aXNlLCBydW4gdGhlIHByb2NlZHVyZSByZWN1cnNpdmVseSBvbiBlYWNoIG9mIHRoZSBjdXJyZW50IG5vZGUncyBjaGlsZHJlbi4KCiAgICAgICAgICAvLyBJIGludGVudGlvbmFsbHkgdW5mb2xkZWQgdGhpcyBsb29wLCB0byBzYXZlIHNldmVyYWwgQ1BVIGN5Y2xlcy4KJHtoKCl9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgJHtlKCJzb3VyY2VCb2R5LmZvcmNlLnt2YXJ9ICs9IGZ7dmFyfTsiLHtpbmRlbnQ6NH0pfQogIH0KCiAgZnVuY3Rpb24gaW5zZXJ0Qm9kaWVzKGJvZGllcykgewogICAgJHtlKCJ2YXIge3Zhcn1taW4gPSBOdW1iZXIuTUFYX1ZBTFVFOyIse2luZGVudDo0fSl9CiAgICAke2UoInZhciB7dmFyfW1heCA9IE51bWJlci5NSU5fVkFMVUU7Iix7aW5kZW50OjR9KX0KICAgIHZhciBpID0gYm9kaWVzLmxlbmd0aDsKCiAgICAvLyBUbyByZWR1Y2UgcXVhZCB0cmVlIGRlcHRoIHdlIGFyZSBsb29raW5nIGZvciBleGFjdCBib3VuZGluZyBib3ggb2YgYWxsIHBhcnRpY2xlcy4KICAgIHdoaWxlIChpLS0pIHsKICAgICAgdmFyIHBvcyA9IGJvZGllc1tpXS5wb3M7CiAgICAgICR7ZSgiaWYgKHBvcy57dmFyfSA8IHt2YXJ9bWluKSB7dmFyfW1pbiA9IHBvcy57dmFyfTsiLHtpbmRlbnQ6Nn0pfQogICAgICAke2UoImlmIChwb3Mue3Zhcn0gPiB7dmFyfW1heCkge3Zhcn1tYXggPSBwb3Mue3Zhcn07Iix7aW5kZW50OjZ9KX0KICAgIH0KCiAgICAvLyBNYWtlcyB0aGUgYm91bmRzIHNxdWFyZS4KICAgIHZhciBtYXhTaWRlTGVuZ3RoID0gLUluZmluaXR5OwogICAgJHtlKCJpZiAoe3Zhcn1tYXggLSB7dmFyfW1pbiA+IG1heFNpZGVMZW5ndGgpIG1heFNpZGVMZW5ndGggPSB7dmFyfW1heCAtIHt2YXJ9bWluIDsiLHtpbmRlbnQ6NH0pfQoKICAgIGN1cnJlbnRJbkNhY2hlID0gMDsKICAgIHJvb3QgPSBuZXdOb2RlKCk7CiAgICAke2UoInJvb3QubWluX3t2YXJ9ID0ge3Zhcn1taW47Iix7aW5kZW50OjR9KX0KICAgICR7ZSgicm9vdC5tYXhfe3Zhcn0gPSB7dmFyfW1pbiArIG1heFNpZGVMZW5ndGg7Iix7aW5kZW50OjR9KX0KCiAgICBpID0gYm9kaWVzLmxlbmd0aCAtIDE7CiAgICBpZiAoaSA+PSAwKSB7CiAgICAgIHJvb3QuYm9keSA9IGJvZGllc1tpXTsKICAgIH0KICAgIHdoaWxlIChpLS0pIHsKICAgICAgaW5zZXJ0KGJvZGllc1tpXSwgcm9vdCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbnNlcnQobmV3Qm9keSkgewogICAgaW5zZXJ0U3RhY2sucmVzZXQoKTsKICAgIGluc2VydFN0YWNrLnB1c2gocm9vdCwgbmV3Qm9keSk7CgogICAgd2hpbGUgKCFpbnNlcnRTdGFjay5pc0VtcHR5KCkpIHsKICAgICAgdmFyIHN0YWNrSXRlbSA9IGluc2VydFN0YWNrLnBvcCgpOwogICAgICB2YXIgbm9kZSA9IHN0YWNrSXRlbS5ub2RlOwogICAgICB2YXIgYm9keSA9IHN0YWNrSXRlbS5ib2R5OwoKICAgICAgaWYgKCFub2RlLmJvZHkpIHsKICAgICAgICAvLyBUaGlzIGlzIGludGVybmFsIG5vZGUuIFVwZGF0ZSB0aGUgdG90YWwgbWFzcyBvZiB0aGUgbm9kZSBhbmQgY2VudGVyLW9mLW1hc3MuCiAgICAgICAgJHtlKCJ2YXIge3Zhcn0gPSBib2R5LnBvcy57dmFyfTsiLHtpbmRlbnQ6OH0pfQogICAgICAgIG5vZGUubWFzcyArPSBib2R5Lm1hc3M7CiAgICAgICAgJHtlKCJub2RlLm1hc3Nfe3Zhcn0gKz0gYm9keS5tYXNzICoge3Zhcn07Iix7aW5kZW50Ojh9KX0KCiAgICAgICAgLy8gUmVjdXJzaXZlbHkgaW5zZXJ0IHRoZSBib2R5IGluIHRoZSBhcHByb3ByaWF0ZSBxdWFkcmFudC4KICAgICAgICAvLyBCdXQgZmlyc3QgZmluZCB0aGUgYXBwcm9wcmlhdGUgcXVhZHJhbnQuCiAgICAgICAgdmFyIHF1YWRJZHggPSAwOyAvLyBBc3N1bWUgd2UgYXJlIGluIHRoZSAwJ3MgcXVhZC4KICAgICAgICAke2UoInZhciBtaW5fe3Zhcn0gPSBub2RlLm1pbl97dmFyfTsiLHtpbmRlbnQ6OH0pfQogICAgICAgICR7ZSgidmFyIG1heF97dmFyfSA9IChtaW5fe3Zhcn0gKyBub2RlLm1heF97dmFyfSkgLyAyOyIse2luZGVudDo4fSl9Cgoke2QoOCl9CgogICAgICAgIHZhciBjaGlsZCA9IGdldENoaWxkKG5vZGUsIHF1YWRJZHgpOwoKICAgICAgICBpZiAoIWNoaWxkKSB7CiAgICAgICAgICAvLyBUaGUgbm9kZSBpcyBpbnRlcm5hbCBidXQgdGhpcyBxdWFkcmFudCBpcyBub3QgdGFrZW4uIEFkZAogICAgICAgICAgLy8gc3Vibm9kZSB0byBpdC4KICAgICAgICAgIGNoaWxkID0gbmV3Tm9kZSgpOwogICAgICAgICAgJHtlKCJjaGlsZC5taW5fe3Zhcn0gPSBtaW5fe3Zhcn07Iix7aW5kZW50OjEwfSl9CiAgICAgICAgICAke2UoImNoaWxkLm1heF97dmFyfSA9IG1heF97dmFyfTsiLHtpbmRlbnQ6MTB9KX0KICAgICAgICAgIGNoaWxkLmJvZHkgPSBib2R5OwoKICAgICAgICAgIHNldENoaWxkKG5vZGUsIHF1YWRJZHgsIGNoaWxkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gY29udGludWUgc2VhcmNoaW5nIGluIHRoaXMgcXVhZHJhbnQuCiAgICAgICAgICBpbnNlcnRTdGFjay5wdXNoKGNoaWxkLCBib2R5KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gV2UgYXJlIHRyeWluZyB0byBhZGQgdG8gdGhlIGxlYWYgbm9kZS4KICAgICAgICAvLyBXZSBoYXZlIHRvIGNvbnZlcnQgY3VycmVudCBsZWFmIGludG8gaW50ZXJuYWwgbm9kZQogICAgICAgIC8vIGFuZCBjb250aW51ZSBhZGRpbmcgdHdvIG5vZGVzLgogICAgICAgIHZhciBvbGRCb2R5ID0gbm9kZS5ib2R5OwogICAgICAgIG5vZGUuYm9keSA9IG51bGw7IC8vIGludGVybmFsIG5vZGVzIGRvIG5vdCBjYXJ5IGJvZGllcwoKICAgICAgICBpZiAoaXNTYW1lUG9zaXRpb24ob2xkQm9keS5wb3MsIGJvZHkucG9zKSkgewogICAgICAgICAgLy8gUHJldmVudCBpbmZpbml0ZSBzdWJkaXZpc2lvbiBieSBidW1waW5nIG9uZSBub2RlCiAgICAgICAgICAvLyBhbnl3aGVyZSBpbiB0aGlzIHF1YWRyYW50CiAgICAgICAgICB2YXIgcmV0cmllc0NvdW50ID0gMzsKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgdmFyIG9mZnNldCA9IHJhbmRvbS5uZXh0RG91YmxlKCk7CiAgICAgICAgICAgICR7ZSgidmFyIGR7dmFyfSA9IChub2RlLm1heF97dmFyfSAtIG5vZGUubWluX3t2YXJ9KSAqIG9mZnNldDsiLHtpbmRlbnQ6MTJ9KX0KCiAgICAgICAgICAgICR7ZSgib2xkQm9keS5wb3Mue3Zhcn0gPSBub2RlLm1pbl97dmFyfSArIGR7dmFyfTsiLHtpbmRlbnQ6MTJ9KX0KICAgICAgICAgICAgcmV0cmllc0NvdW50IC09IDE7CiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBkb24ndCBidW1wIGl0IG91dCBvZiB0aGUgYm94LiBJZiB3ZSBkbywgbmV4dCBpdGVyYXRpb24gc2hvdWxkIGZpeCBpdAogICAgICAgICAgfSB3aGlsZSAocmV0cmllc0NvdW50ID4gMCAmJiBpc1NhbWVQb3NpdGlvbihvbGRCb2R5LnBvcywgYm9keS5wb3MpKTsKCiAgICAgICAgICBpZiAocmV0cmllc0NvdW50ID09PSAwICYmIGlzU2FtZVBvc2l0aW9uKG9sZEJvZHkucG9zLCBib2R5LnBvcykpIHsKICAgICAgICAgICAgLy8gVGhpcyBpcyB2ZXJ5IGJhZCwgd2UgcmFuIG91dCBvZiBwcmVjaXNpb24uCiAgICAgICAgICAgIC8vIGlmIHdlIGRvIG5vdCByZXR1cm4gZnJvbSB0aGUgbWV0aG9kIHdlJ2xsIGdldCBpbnRvCiAgICAgICAgICAgIC8vIGluZmluaXRlIGxvb3AgaGVyZS4gU28gd2Ugc2FjcmlmaWNlIGNvcnJlY3RuZXNzIG9mIGxheW91dCwgYW5kIGtlZXAgdGhlIGFwcCBydW5uaW5nCiAgICAgICAgICAgIC8vIE5leHQgbGF5b3V0IGl0ZXJhdGlvbiBzaG91bGQgZ2V0IGxhcmdlciBib3VuZGluZyBib3ggaW4gdGhlIGZpcnN0IHN0ZXAgYW5kIGZpeCB0aGlzCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gTmV4dCBpdGVyYXRpb24gc2hvdWxkIHN1YmRpdmlkZSBub2RlIGZ1cnRoZXIuCiAgICAgICAgaW5zZXJ0U3RhY2sucHVzaChub2RlLCBvbGRCb2R5KTsKICAgICAgICBpbnNlcnRTdGFjay5wdXNoKG5vZGUsIGJvZHkpOwogICAgICB9CiAgICB9CiAgfQp9CnJldHVybiBjcmVhdGVRdWFkVHJlZTsKCmA7ZnVuY3Rpb24gZCh1KXtsZXQgcD1bXSxnPUFycmF5KHUrMSkuam9pbigiICIpO2ZvcihsZXQgdj0wO3Y8dDsrK3YpcC5wdXNoKGcrYGlmICgke2dldFZhcmlhYmxlTmFtZSh2KX0gPiBtYXhfJHtnZXRWYXJpYWJsZU5hbWUodil9KSB7YCkscC5wdXNoKGcrYCAgcXVhZElkeCA9IHF1YWRJZHggKyAke01hdGgucG93KDIsdil9O2ApLHAucHVzaChnK2AgIG1pbl8ke2dldFZhcmlhYmxlTmFtZSh2KX0gPSBtYXhfJHtnZXRWYXJpYWJsZU5hbWUodil9O2ApLHAucHVzaChnK2AgIG1heF8ke2dldFZhcmlhYmxlTmFtZSh2KX0gPSBub2RlLm1heF8ke2dldFZhcmlhYmxlTmFtZSh2KX07YCkscC5wdXNoKGcrIn0iKTtyZXR1cm4gcC5qb2luKGAKYCl9ZnVuY3Rpb24gaCgpe2xldCB1PUFycmF5KDExKS5qb2luKCIgIikscD1bXTtmb3IobGV0IGc9MDtnPG47KytnKXAucHVzaCh1K2BpZiAobm9kZS5xdWFkJHtnfSkge2ApLHAucHVzaCh1K2AgIHF1ZXVlW3B1c2hJZHhdID0gbm9kZS5xdWFkJHtnfTtgKSxwLnB1c2godSsiICBxdWV1ZUxlbmd0aCArPSAxOyIpLHAucHVzaCh1KyIgIHB1c2hJZHggKz0gMTsiKSxwLnB1c2godSsifSIpO3JldHVybiBwLmpvaW4oYApgKX1mdW5jdGlvbiBsKHUpe2xldCBwPVtdO2ZvcihsZXQgZz0wO2c8bjsrK2cpcC5wdXNoKGAke3V9cXVhZCR7Z30gPSBudWxsO2ApO3JldHVybiBwLmpvaW4oYApgKX19ZnVuY3Rpb24gaXNTYW1lUG9zaXRpb24odCl7bGV0IGU9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNCh0KTtyZXR1cm5gCiAgZnVuY3Rpb24gaXNTYW1lUG9zaXRpb24ocG9pbnQxLCBwb2ludDIpIHsKICAgICR7ZSgidmFyIGR7dmFyfSA9IE1hdGguYWJzKHBvaW50MS57dmFyfSAtIHBvaW50Mi57dmFyfSk7Iix7aW5kZW50OjJ9KX0KICAKICAgIHJldHVybiAke2UoImR7dmFyfSA8IDFlLTgiLHtqb2luOiIgJiYgIn0pfTsKICB9ICAKYH1mdW5jdGlvbiBzZXRDaGlsZEJvZHlDb2RlKHQpe3ZhciBlPU1hdGgucG93KDIsdCk7cmV0dXJuYApmdW5jdGlvbiBzZXRDaGlsZChub2RlLCBpZHgsIGNoaWxkKSB7CiAgJHtuKCl9Cn1gO2Z1bmN0aW9uIG4oKXtsZXQgbz1bXTtmb3IobGV0IGQ9MDtkPGU7KytkKXtsZXQgaD1kPT09MD8iICAiOiIgIGVsc2UgIjtvLnB1c2goYCR7aH1pZiAoaWR4ID09PSAke2R9KSBub2RlLnF1YWQke2R9ID0gY2hpbGQ7YCl9cmV0dXJuIG8uam9pbihgCmApfX1mdW5jdGlvbiBnZXRDaGlsZEJvZHlDb2RlKHQpe3JldHVybmBmdW5jdGlvbiBnZXRDaGlsZChub2RlLCBpZHgpIHsKJHtlKCl9CiAgcmV0dXJuIG51bGw7Cn1gO2Z1bmN0aW9uIGUoKXtsZXQgbj1bXSxvPU1hdGgucG93KDIsdCk7Zm9yKGxldCBkPTA7ZDxvOysrZCluLnB1c2goYCAgaWYgKGlkeCA9PT0gJHtkfSkgcmV0dXJuIG5vZGUucXVhZCR7ZH07YCk7cmV0dXJuIG4uam9pbihgCmApfX1mdW5jdGlvbiBnZXRRdWFkTm9kZUNvZGUodCl7bGV0IGU9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNCh0KSxuPU1hdGgucG93KDIsdCk7dmFyIG89YApmdW5jdGlvbiBRdWFkTm9kZSgpIHsKICAvLyBib2R5IHN0b3JlZCBpbnNpZGUgdGhpcyBub2RlLiBJbiBxdWFkIHRyZWUgb25seSBsZWFmIG5vZGVzIChieSBjb25zdHJ1Y3Rpb24pCiAgLy8gY29udGFpbiBib2RpZXM6CiAgdGhpcy5ib2R5ID0gbnVsbDsKCiAgLy8gQ2hpbGQgbm9kZXMgYXJlIHN0b3JlZCBpbiBxdWFkcy4gRWFjaCBxdWFkIGlzIHByZXNlbnRlZCBieSBudW1iZXI6CiAgLy8gMCB8IDEKICAvLyAtLS0tLQogIC8vIDIgfCAzCiR7ZCgiICB0aGlzLiIpfQoKICAvLyBUb3RhbCBtYXNzIG9mIGN1cnJlbnQgbm9kZQogIHRoaXMubWFzcyA9IDA7CgogIC8vIENlbnRlciBvZiBtYXNzIGNvb3JkaW5hdGVzCiAgJHtlKCJ0aGlzLm1hc3Nfe3Zhcn0gPSAwOyIse2luZGVudDoyfSl9CgogIC8vIGJvdW5kaW5nIGJveCBjb29yZGluYXRlcwogICR7ZSgidGhpcy5taW5fe3Zhcn0gPSAwOyIse2luZGVudDoyfSl9CiAgJHtlKCJ0aGlzLm1heF97dmFyfSA9IDA7Iix7aW5kZW50OjJ9KX0KfQpgO3JldHVybiBvO2Z1bmN0aW9uIGQoaCl7bGV0IGw9W107Zm9yKGxldCB1PTA7dTxuOysrdSlsLnB1c2goYCR7aH1xdWFkJHt1fSA9IG51bGw7YCk7cmV0dXJuIGwuam9pbihgCmApfX1mdW5jdGlvbiBnZXRJbnNlcnRTdGFja0NvZGUoKXtyZXR1cm5gCi8qKgogKiBPdXIgaW1wbGVtZW50YXRpb24gb2YgUXVhZFRyZWUgaXMgbm9uLXJlY3Vyc2l2ZSB0byBhdm9pZCBHQyBoaXQKICogVGhpcyBkYXRhIHN0cnVjdHVyZSByZXByZXNlbnQgc3RhY2sgb2YgZWxlbWVudHMKICogd2hpY2ggd2UgYXJlIHRyeWluZyB0byBpbnNlcnQgaW50byBxdWFkIHRyZWUuCiAqLwpmdW5jdGlvbiBJbnNlcnRTdGFjayAoKSB7CiAgICB0aGlzLnN0YWNrID0gW107CiAgICB0aGlzLnBvcElkeCA9IDA7Cn0KCkluc2VydFN0YWNrLnByb3RvdHlwZSA9IHsKICAgIGlzRW1wdHk6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLnBvcElkeCA9PT0gMDsKICAgIH0sCiAgICBwdXNoOiBmdW5jdGlvbiAobm9kZSwgYm9keSkgewogICAgICAgIHZhciBpdGVtID0gdGhpcy5zdGFja1t0aGlzLnBvcElkeF07CiAgICAgICAgaWYgKCFpdGVtKSB7CiAgICAgICAgICAgIC8vIHdlIGFyZSB0cnlpbmcgdG8gYXZvaWQgbWVtb3J5IHByZXNzdXJlOiBjcmVhdGUgbmV3IGVsZW1lbnQKICAgICAgICAgICAgLy8gb25seSB3aGVuIGFic29sdXRlbHkgbmVjZXNzYXJ5CiAgICAgICAgICAgIHRoaXMuc3RhY2tbdGhpcy5wb3BJZHhdID0gbmV3IEluc2VydFN0YWNrRWxlbWVudChub2RlLCBib2R5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpdGVtLm5vZGUgPSBub2RlOwogICAgICAgICAgICBpdGVtLmJvZHkgPSBib2R5OwogICAgICAgIH0KICAgICAgICArK3RoaXMucG9wSWR4OwogICAgfSwKICAgIHBvcDogZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLnBvcElkeCA+IDApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbLS10aGlzLnBvcElkeF07CiAgICAgICAgfQogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5wb3BJZHggPSAwOwogICAgfQp9OwoKZnVuY3Rpb24gSW5zZXJ0U3RhY2tFbGVtZW50KG5vZGUsIGJvZHkpIHsKICAgIHRoaXMubm9kZSA9IG5vZGU7IC8vIFF1YWRUcmVlIG5vZGUKICAgIHRoaXMuYm9keSA9IGJvZHk7IC8vIHBoeXNpY2FsIGJvZHkgd2hpY2ggbmVlZHMgdG8gYmUgaW5zZXJ0ZWQgdG8gbm9kZQp9CmB9dmFyIGdlbmVyYXRlQm91bmRzRXhwb3J0cz17fSxnZW5lcmF0ZUJvdW5kcz17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gZ2VuZXJhdGVCb3VuZHNFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtnZW5lcmF0ZUJvdW5kc0V4cG9ydHM9dH19O2dlbmVyYXRlQm91bmRzLmV4cG9ydHM9Z2VuZXJhdGVCb3VuZHNGdW5jdGlvbiQxO2dlbmVyYXRlQm91bmRzRXhwb3J0cy5nZW5lcmF0ZUZ1bmN0aW9uQm9keT1nZW5lcmF0ZUJvdW5kc0Z1bmN0aW9uQm9keTtjb25zdCBjcmVhdGVQYXR0ZXJuQnVpbGRlciQzPWNyZWF0ZVBhdHRlcm5CdWlsZGVyJDY7ZnVuY3Rpb24gZ2VuZXJhdGVCb3VuZHNGdW5jdGlvbiQxKHQpe2xldCBlPWdlbmVyYXRlQm91bmRzRnVuY3Rpb25Cb2R5KHQpO3JldHVybiBuZXcgRnVuY3Rpb24oImJvZGllcyIsInNldHRpbmdzIiwicmFuZG9tIixlKX1mdW5jdGlvbiBnZW5lcmF0ZUJvdW5kc0Z1bmN0aW9uQm9keSh0KXtsZXQgZT1jcmVhdGVQYXR0ZXJuQnVpbGRlciQzKHQpO3JldHVybmAKICB2YXIgYm91bmRpbmdCb3ggPSB7CiAgICAke2UoIm1pbl97dmFyfTogMCwgbWF4X3t2YXJ9OiAwLCIse2luZGVudDo0fSl9CiAgfTsKCiAgcmV0dXJuIHsKICAgIGJveDogYm91bmRpbmdCb3gsCgogICAgdXBkYXRlOiB1cGRhdGVCb3VuZGluZ0JveCwKCiAgICByZXNldDogcmVzZXRCb3VuZGluZ0JveCwKCiAgICBnZXRCZXN0TmV3UG9zaXRpb246IGZ1bmN0aW9uIChuZWlnaGJvcnMpIHsKICAgICAgdmFyICR7ZSgiYmFzZV97dmFyfSA9IDAiLHtqb2luOiIsICJ9KX07CgogICAgICBpZiAobmVpZ2hib3JzLmxlbmd0aCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3JzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICBsZXQgbmVpZ2hib3JQb3MgPSBuZWlnaGJvcnNbaV0ucG9zOwogICAgICAgICAgJHtlKCJiYXNlX3t2YXJ9ICs9IG5laWdoYm9yUG9zLnt2YXJ9OyIse2luZGVudDoxMH0pfQogICAgICAgIH0KCiAgICAgICAgJHtlKCJiYXNlX3t2YXJ9IC89IG5laWdoYm9ycy5sZW5ndGg7Iix7aW5kZW50Ojh9KX0KICAgICAgfSBlbHNlIHsKICAgICAgICAke2UoImJhc2Vfe3Zhcn0gPSAoYm91bmRpbmdCb3gubWluX3t2YXJ9ICsgYm91bmRpbmdCb3gubWF4X3t2YXJ9KSAvIDI7Iix7aW5kZW50Ojh9KX0KICAgICAgfQoKICAgICAgdmFyIHNwcmluZ0xlbmd0aCA9IHNldHRpbmdzLnNwcmluZ0xlbmd0aDsKICAgICAgcmV0dXJuIHsKICAgICAgICAke2UoInt2YXJ9OiBiYXNlX3t2YXJ9ICsgKHJhbmRvbS5uZXh0RG91YmxlKCkgLSAwLjUpICogc3ByaW5nTGVuZ3RoLCIse2luZGVudDo4fSl9CiAgICAgIH07CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gdXBkYXRlQm91bmRpbmdCb3goKSB7CiAgICB2YXIgaSA9IGJvZGllcy5sZW5ndGg7CiAgICBpZiAoaSA9PT0gMCkgcmV0dXJuOyAvLyBObyBib2RpZXMgLSBubyBib3JkZXJzLgoKICAgICR7ZSgidmFyIG1heF97dmFyfSA9IC1JbmZpbml0eTsiLHtpbmRlbnQ6NH0pfQogICAgJHtlKCJ2YXIgbWluX3t2YXJ9ID0gSW5maW5pdHk7Iix7aW5kZW50OjR9KX0KCiAgICB3aGlsZShpLS0pIHsKICAgICAgLy8gdGhpcyBpcyBPKG4pLCBpdCBjb3VsZCBiZSBkb25lIGZhc3RlciB3aXRoIHF1YWR0cmVlLCBpZiB3ZSBjaGVjayB0aGUgcm9vdCBub2RlIGJvdW5kcwogICAgICB2YXIgYm9keVBvcyA9IGJvZGllc1tpXS5wb3M7CiAgICAgICR7ZSgiaWYgKGJvZHlQb3Mue3Zhcn0gPCBtaW5fe3Zhcn0pIG1pbl97dmFyfSA9IGJvZHlQb3Mue3Zhcn07Iix7aW5kZW50OjZ9KX0KICAgICAgJHtlKCJpZiAoYm9keVBvcy57dmFyfSA+IG1heF97dmFyfSkgbWF4X3t2YXJ9ID0gYm9keVBvcy57dmFyfTsiLHtpbmRlbnQ6Nn0pfQogICAgfQoKICAgICR7ZSgiYm91bmRpbmdCb3gubWluX3t2YXJ9ID0gbWluX3t2YXJ9OyIse2luZGVudDo0fSl9CiAgICAke2UoImJvdW5kaW5nQm94Lm1heF97dmFyfSA9IG1heF97dmFyfTsiLHtpbmRlbnQ6NH0pfQogIH0KCiAgZnVuY3Rpb24gcmVzZXRCb3VuZGluZ0JveCgpIHsKICAgICR7ZSgiYm91bmRpbmdCb3gubWluX3t2YXJ9ID0gYm91bmRpbmdCb3gubWF4X3t2YXJ9ID0gMDsiLHtpbmRlbnQ6NH0pfQogIH0KYH12YXIgZ2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VFeHBvcnRzPXt9LGdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlPXtnZXQgZXhwb3J0cygpe3JldHVybiBnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUV4cG9ydHN9LHNldCBleHBvcnRzKHQpe2dlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRXhwb3J0cz10fX07Y29uc3QgY3JlYXRlUGF0dGVybkJ1aWxkZXIkMj1jcmVhdGVQYXR0ZXJuQnVpbGRlciQ2O2dlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlLmV4cG9ydHM9Z2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbiQxO2dlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRXhwb3J0cy5nZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUZ1bmN0aW9uQm9keT1nZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUZ1bmN0aW9uQm9keTtmdW5jdGlvbiBnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUZ1bmN0aW9uJDEodCl7bGV0IGU9Z2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbkJvZHkodCk7cmV0dXJuIG5ldyBGdW5jdGlvbigib3B0aW9ucyIsZSl9ZnVuY3Rpb24gZ2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbkJvZHkodCl7cmV0dXJuYAogIGlmICghTnVtYmVyLmlzRmluaXRlKG9wdGlvbnMuZHJhZ0NvZWZmaWNpZW50KSkgdGhyb3cgbmV3IEVycm9yKCdkcmFnQ29lZmZpY2llbnQgaXMgbm90IGEgZmluaXRlIG51bWJlcicpOwoKICByZXR1cm4gewogICAgdXBkYXRlOiBmdW5jdGlvbihib2R5KSB7CiAgICAgICR7Y3JlYXRlUGF0dGVybkJ1aWxkZXIkMih0KSgiYm9keS5mb3JjZS57dmFyfSAtPSBvcHRpb25zLmRyYWdDb2VmZmljaWVudCAqIGJvZHkudmVsb2NpdHkue3Zhcn07Iix7aW5kZW50OjZ9KX0KICAgIH0KICB9OwpgfXZhciBnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRXhwb3J0cz17fSxnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlPXtnZXQgZXhwb3J0cygpe3JldHVybiBnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRXhwb3J0c30sc2V0IGV4cG9ydHModCl7Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUV4cG9ydHM9dH19O2NvbnN0IGNyZWF0ZVBhdHRlcm5CdWlsZGVyJDE9Y3JlYXRlUGF0dGVybkJ1aWxkZXIkNjtnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlLmV4cG9ydHM9Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUZ1bmN0aW9uJDE7Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUV4cG9ydHMuZ2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUZ1bmN0aW9uQm9keT1nZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRnVuY3Rpb25Cb2R5O2Z1bmN0aW9uIGdlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VGdW5jdGlvbiQxKHQpe2xldCBlPWdlbmVyYXRlQ3JlYXRlU3ByaW5nRm9yY2VGdW5jdGlvbkJvZHkodCk7cmV0dXJuIG5ldyBGdW5jdGlvbigib3B0aW9ucyIsInJhbmRvbSIsZSl9ZnVuY3Rpb24gZ2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUZ1bmN0aW9uQm9keSh0KXtsZXQgZT1jcmVhdGVQYXR0ZXJuQnVpbGRlciQxKHQpO3JldHVybmAKICBpZiAoIU51bWJlci5pc0Zpbml0ZShvcHRpb25zLnNwcmluZ0NvZWZmaWNpZW50KSkgdGhyb3cgbmV3IEVycm9yKCdTcHJpbmcgY29lZmZpY2llbnQgaXMgbm90IGEgbnVtYmVyJyk7CiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5zcHJpbmdMZW5ndGgpKSB0aHJvdyBuZXcgRXJyb3IoJ1NwcmluZyBsZW5ndGggaXMgbm90IGEgbnVtYmVyJyk7CgogIHJldHVybiB7CiAgICAvKioKICAgICAqIFVwZGF0ZXMgZm9yY2VzIGFjdGluZyBvbiBhIHNwcmluZwogICAgICovCiAgICB1cGRhdGU6IGZ1bmN0aW9uIChzcHJpbmcpIHsKICAgICAgdmFyIGJvZHkxID0gc3ByaW5nLmZyb207CiAgICAgIHZhciBib2R5MiA9IHNwcmluZy50bzsKICAgICAgdmFyIGxlbmd0aCA9IHNwcmluZy5sZW5ndGggPCAwID8gb3B0aW9ucy5zcHJpbmdMZW5ndGggOiBzcHJpbmcubGVuZ3RoOwogICAgICAke2UoInZhciBke3Zhcn0gPSBib2R5Mi5wb3Mue3Zhcn0gLSBib2R5MS5wb3Mue3Zhcn07Iix7aW5kZW50OjZ9KX0KICAgICAgdmFyIHIgPSBNYXRoLnNxcnQoJHtlKCJke3Zhcn0gKiBke3Zhcn0iLHtqb2luOiIgKyAifSl9KTsKCiAgICAgIGlmIChyID09PSAwKSB7CiAgICAgICAgJHtlKCJke3Zhcn0gPSAocmFuZG9tLm5leHREb3VibGUoKSAtIDAuNSkgLyA1MDsiLHtpbmRlbnQ6OH0pfQogICAgICAgIHIgPSBNYXRoLnNxcnQoJHtlKCJke3Zhcn0gKiBke3Zhcn0iLHtqb2luOiIgKyAifSl9KTsKICAgICAgfQoKICAgICAgdmFyIGQgPSByIC0gbGVuZ3RoOwogICAgICB2YXIgY29lZmZpY2llbnQgPSAoKHNwcmluZy5jb2VmZmljaWVudCA+IDApID8gc3ByaW5nLmNvZWZmaWNpZW50IDogb3B0aW9ucy5zcHJpbmdDb2VmZmljaWVudCkgKiBkIC8gcjsKCiAgICAgICR7ZSgiYm9keTEuZm9yY2Uue3Zhcn0gKz0gY29lZmZpY2llbnQgKiBke3Zhcn0iLHtpbmRlbnQ6Nn0pfTsKICAgICAgYm9keTEuc3ByaW5nQ291bnQgKz0gMTsKICAgICAgYm9keTEuc3ByaW5nTGVuZ3RoICs9IHI7CgogICAgICAke2UoImJvZHkyLmZvcmNlLnt2YXJ9IC09IGNvZWZmaWNpZW50ICogZHt2YXJ9Iix7aW5kZW50OjZ9KX07CiAgICAgIGJvZHkyLnNwcmluZ0NvdW50ICs9IDE7CiAgICAgIGJvZHkyLnNwcmluZ0xlbmd0aCArPSByOwogICAgfQogIH07CmB9dmFyIGdlbmVyYXRlSW50ZWdyYXRvckV4cG9ydHM9e30sZ2VuZXJhdGVJbnRlZ3JhdG9yPXtnZXQgZXhwb3J0cygpe3JldHVybiBnZW5lcmF0ZUludGVncmF0b3JFeHBvcnRzfSxzZXQgZXhwb3J0cyh0KXtnZW5lcmF0ZUludGVncmF0b3JFeHBvcnRzPXR9fTtjb25zdCBjcmVhdGVQYXR0ZXJuQnVpbGRlcj1jcmVhdGVQYXR0ZXJuQnVpbGRlciQ2O2dlbmVyYXRlSW50ZWdyYXRvci5leHBvcnRzPWdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uJDE7Z2VuZXJhdGVJbnRlZ3JhdG9yRXhwb3J0cy5nZW5lcmF0ZUludGVncmF0b3JGdW5jdGlvbkJvZHk9Z2VuZXJhdGVJbnRlZ3JhdG9yRnVuY3Rpb25Cb2R5O2Z1bmN0aW9uIGdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uJDEodCl7bGV0IGU9Z2VuZXJhdGVJbnRlZ3JhdG9yRnVuY3Rpb25Cb2R5KHQpO3JldHVybiBuZXcgRnVuY3Rpb24oImJvZGllcyIsInRpbWVTdGVwIiwiYWRhcHRpdmVUaW1lU3RlcFdlaWdodCIsZSl9ZnVuY3Rpb24gZ2VuZXJhdGVJbnRlZ3JhdG9yRnVuY3Rpb25Cb2R5KHQpe2xldCBlPWNyZWF0ZVBhdHRlcm5CdWlsZGVyKHQpO3JldHVybmAKICB2YXIgbGVuZ3RoID0gYm9kaWVzLmxlbmd0aDsKICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gMDsKCiAgJHtlKCJ2YXIgZHt2YXJ9ID0gMCwgdHt2YXJ9ID0gMDsiLHtpbmRlbnQ6Mn0pfQoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7CiAgICB2YXIgYm9keSA9IGJvZGllc1tpXTsKICAgIGlmIChib2R5LmlzUGlubmVkKSBjb250aW51ZTsKCiAgICBpZiAoYWRhcHRpdmVUaW1lU3RlcFdlaWdodCAmJiBib2R5LnNwcmluZ0NvdW50KSB7CiAgICAgIHRpbWVTdGVwID0gKGFkYXB0aXZlVGltZVN0ZXBXZWlnaHQgKiBib2R5LnNwcmluZ0xlbmd0aC9ib2R5LnNwcmluZ0NvdW50KTsKICAgIH0KCiAgICB2YXIgY29lZmYgPSB0aW1lU3RlcCAvIGJvZHkubWFzczsKCiAgICAke2UoImJvZHkudmVsb2NpdHkue3Zhcn0gKz0gY29lZmYgKiBib2R5LmZvcmNlLnt2YXJ9OyIse2luZGVudDo0fSl9CiAgICAke2UoInZhciB2e3Zhcn0gPSBib2R5LnZlbG9jaXR5Lnt2YXJ9OyIse2luZGVudDo0fSl9CiAgICB2YXIgdiA9IE1hdGguc3FydCgke2UoInZ7dmFyfSAqIHZ7dmFyfSIse2pvaW46IiArICJ9KX0pOwoKICAgIGlmICh2ID4gMSkgewogICAgICAvLyBXZSBub3JtYWxpemUgaXQgc28gdGhhdCB3ZSBtb3ZlIHdpdGhpbiB0aW1lU3RlcCByYW5nZS4gCiAgICAgIC8vIGZvciB0aGUgY2FzZSB3aGVuIHYgPD0gMSAtIHdlIGxldCB2ZWxvY2l0eSB0byBmYWRlIG91dC4KICAgICAgJHtlKCJib2R5LnZlbG9jaXR5Lnt2YXJ9ID0gdnt2YXJ9IC8gdjsiLHtpbmRlbnQ6Nn0pfQogICAgfQoKICAgICR7ZSgiZHt2YXJ9ID0gdGltZVN0ZXAgKiBib2R5LnZlbG9jaXR5Lnt2YXJ9OyIse2luZGVudDo0fSl9CgogICAgJHtlKCJib2R5LnBvcy57dmFyfSArPSBke3Zhcn07Iix7aW5kZW50OjR9KX0KCiAgICAke2UoInR7dmFyfSArPSBNYXRoLmFicyhke3Zhcn0pOyIse2luZGVudDo0fSl9CiAgfQoKICByZXR1cm4gKCR7ZSgidHt2YXJ9ICogdHt2YXJ9Iix7am9pbjoiICsgIn0pfSkvbGVuZ3RoOwpgfXZhciBzcHJpbmcsaGFzUmVxdWlyZWRTcHJpbmc7ZnVuY3Rpb24gcmVxdWlyZVNwcmluZygpe2lmKGhhc1JlcXVpcmVkU3ByaW5nKXJldHVybiBzcHJpbmc7aGFzUmVxdWlyZWRTcHJpbmc9MSxzcHJpbmc9dDtmdW5jdGlvbiB0KGUsbixvLGQpe3RoaXMuZnJvbT1lLHRoaXMudG89bix0aGlzLmxlbmd0aD1vLHRoaXMuY29lZmZpY2llbnQ9ZH1yZXR1cm4gc3ByaW5nfXZhciBuZ3JhcGhfbWVyZ2UsaGFzUmVxdWlyZWROZ3JhcGhfbWVyZ2U7ZnVuY3Rpb24gcmVxdWlyZU5ncmFwaF9tZXJnZSgpe2lmKGhhc1JlcXVpcmVkTmdyYXBoX21lcmdlKXJldHVybiBuZ3JhcGhfbWVyZ2U7aGFzUmVxdWlyZWROZ3JhcGhfbWVyZ2U9MSxuZ3JhcGhfbWVyZ2U9dDtmdW5jdGlvbiB0KGUsbil7dmFyIG87aWYoZXx8KGU9e30pLG4pe2ZvcihvIGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eShvKSl7dmFyIGQ9ZS5oYXNPd25Qcm9wZXJ0eShvKSxoPXR5cGVvZiBuW29dLGw9IWR8fHR5cGVvZiBlW29dIT09aDtsP2Vbb109bltvXTpoPT09Im9iamVjdCImJihlW29dPXQoZVtvXSxuW29dKSl9fXJldHVybiBlfXJldHVybiBuZ3JhcGhfbWVyZ2V9dmFyIG5ncmFwaF9ldmVudHM9ZnVuY3Rpb24gdChlKXt2YWxpZGF0ZVN1YmplY3QoZSk7dmFyIG49Y3JlYXRlRXZlbnRzU3RvcmFnZShlKTtyZXR1cm4gZS5vbj1uLm9uLGUub2ZmPW4ub2ZmLGUuZmlyZT1uLmZpcmUsZX07ZnVuY3Rpb24gY3JlYXRlRXZlbnRzU3RvcmFnZSh0KXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybntvbjpmdW5jdGlvbihuLG8sZCl7aWYodHlwZW9mIG8hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJjYWxsYmFjayBpcyBleHBlY3RlZCB0byBiZSBhIGZ1bmN0aW9uIik7dmFyIGg9ZVtuXTtyZXR1cm4gaHx8KGg9ZVtuXT1bXSksaC5wdXNoKHtjYWxsYmFjazpvLGN0eDpkfSksdH0sb2ZmOmZ1bmN0aW9uKG4sbyl7dmFyIGQ9dHlwZW9mIG4+InUiO2lmKGQpcmV0dXJuIGU9T2JqZWN0LmNyZWF0ZShudWxsKSx0O2lmKGVbbl0pe3ZhciBoPXR5cGVvZiBvIT0iZnVuY3Rpb24iO2lmKGgpZGVsZXRlIGVbbl07ZWxzZSBmb3IodmFyIGw9ZVtuXSx1PTA7dTxsLmxlbmd0aDsrK3UpbFt1XS5jYWxsYmFjaz09PW8mJmwuc3BsaWNlKHUsMSl9cmV0dXJuIHR9LGZpcmU6ZnVuY3Rpb24obil7dmFyIG89ZVtuXTtpZighbylyZXR1cm4gdDt2YXIgZDthcmd1bWVudHMubGVuZ3RoPjEmJihkPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMSkpO2Zvcih2YXIgaD0wO2g8by5sZW5ndGg7KytoKXt2YXIgbD1vW2hdO2wuY2FsbGJhY2suYXBwbHkobC5jdHgsZCl9cmV0dXJuIHR9fX1mdW5jdGlvbiB2YWxpZGF0ZVN1YmplY3QodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJFdmVudGlmeSBjYW5ub3QgdXNlIGZhbHN5IG9iamVjdCBhcyBldmVudHMgc3ViamVjdCIpO2Zvcih2YXIgZT1bIm9uIiwiZmlyZSIsIm9mZiJdLG49MDtuPGUubGVuZ3RoOysrbilpZih0Lmhhc093blByb3BlcnR5KGVbbl0pKXRocm93IG5ldyBFcnJvcigiU3ViamVjdCBjYW5ub3QgYmUgZXZlbnRpZmllZCwgc2luY2UgaXQgYWxyZWFkeSBoYXMgcHJvcGVydHkgJyIrZVtuXSsiJyIpfXZhciBuZ3JhcGhfcmFuZG9tRXhwb3J0cz17fSxuZ3JhcGhfcmFuZG9tPXtnZXQgZXhwb3J0cygpe3JldHVybiBuZ3JhcGhfcmFuZG9tRXhwb3J0c30sc2V0IGV4cG9ydHModCl7bmdyYXBoX3JhbmRvbUV4cG9ydHM9dH19LGhhc1JlcXVpcmVkTmdyYXBoX3JhbmRvbTtmdW5jdGlvbiByZXF1aXJlTmdyYXBoX3JhbmRvbSgpe2lmKGhhc1JlcXVpcmVkTmdyYXBoX3JhbmRvbSlyZXR1cm4gbmdyYXBoX3JhbmRvbUV4cG9ydHM7aGFzUmVxdWlyZWROZ3JhcGhfcmFuZG9tPTEsbmdyYXBoX3JhbmRvbS5leHBvcnRzPXQsbmdyYXBoX3JhbmRvbUV4cG9ydHMucmFuZG9tPXQsbmdyYXBoX3JhbmRvbUV4cG9ydHMucmFuZG9tSXRlcmF0b3I9dTtmdW5jdGlvbiB0KHApe3ZhciBnPXR5cGVvZiBwPT0ibnVtYmVyIj9wOituZXcgRGF0ZTtyZXR1cm4gbmV3IGUoZyl9ZnVuY3Rpb24gZShwKXt0aGlzLnNlZWQ9cH1lLnByb3RvdHlwZS5uZXh0PWwsZS5wcm90b3R5cGUubmV4dERvdWJsZT1oLGUucHJvdG90eXBlLnVuaWZvcm09aCxlLnByb3RvdHlwZS5nYXVzc2lhbj1uO2Z1bmN0aW9uIG4oKXt2YXIgcCxnLHY7ZG8gZz10aGlzLm5leHREb3VibGUoKSoyLTEsdj10aGlzLm5leHREb3VibGUoKSoyLTEscD1nKmcrdip2O3doaWxlKHA+PTF8fHA9PT0wKTtyZXR1cm4gZypNYXRoLnNxcnQoLTIqTWF0aC5sb2cocCkvcCl9ZS5wcm90b3R5cGUubGV2eT1vO2Z1bmN0aW9uIG8oKXt2YXIgcD0xLjUsZz1NYXRoLnBvdyhkKDErcCkqTWF0aC5zaW4oTWF0aC5QSSpwLzIpLyhkKCgxK3ApLzIpKnAqTWF0aC5wb3coMiwocC0xKS8yKSksMS9wKTtyZXR1cm4gdGhpcy5nYXVzc2lhbigpKmcvTWF0aC5wb3coTWF0aC5hYnModGhpcy5nYXVzc2lhbigpKSwxL3ApfWZ1bmN0aW9uIGQocCl7cmV0dXJuIE1hdGguc3FydCgyKk1hdGguUEkvcCkqTWF0aC5wb3coMS9NYXRoLkUqKHArMS8oMTIqcC0xLygxMCpwKSkpLHApfWZ1bmN0aW9uIGgoKXt2YXIgcD10aGlzLnNlZWQ7cmV0dXJuIHA9cCsyMTI3OTEyMjE0KyhwPDwxMikmNDI5NDk2NzI5NSxwPShwXjMzNDUwNzI3MDBecD4+PjE5KSY0Mjk0OTY3Mjk1LHA9cCszNzQ3NjEzOTMrKHA8PDUpJjQyOTQ5NjcyOTUscD0ocCszNTUwNjM1MTE2XnA8PDkpJjQyOTQ5NjcyOTUscD1wKzQyNTE5OTM3OTcrKHA8PDMpJjQyOTQ5NjcyOTUscD0ocF4zMDQyNTk0NTY5XnA+Pj4xNikmNDI5NDk2NzI5NSx0aGlzLnNlZWQ9cCwocCYyNjg0MzU0NTUpLzI2ODQzNTQ1Nn1mdW5jdGlvbiBsKHApe3JldHVybiBNYXRoLmZsb29yKHRoaXMubmV4dERvdWJsZSgpKnApfWZ1bmN0aW9uIHUocCxnKXt2YXIgdj1nfHx0KCk7aWYodHlwZW9mIHYubmV4dCE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoImN1c3RvbVJhbmRvbSBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBBUEk6IG5leHQoKSBmdW5jdGlvbiBpcyBtaXNzaW5nIik7cmV0dXJue2ZvckVhY2g6XyxzaHVmZmxlOmJ9O2Z1bmN0aW9uIGIoKXt2YXIgTyxULFM7Zm9yKE89cC5sZW5ndGgtMTtPPjA7LS1PKVQ9di5uZXh0KE8rMSksUz1wW1RdLHBbVF09cFtPXSxwW09dPVM7cmV0dXJuIHB9ZnVuY3Rpb24gXyhPKXt2YXIgVCxTLE47Zm9yKFQ9cC5sZW5ndGgtMTtUPjA7LS1UKVM9di5uZXh0KFQrMSksTj1wW1NdLHBbU109cFtUXSxwW1RdPU4sTyhOKTtwLmxlbmd0aCYmTyhwWzBdKX19cmV0dXJuIG5ncmFwaF9yYW5kb21FeHBvcnRzfXZhciBjcmVhdGVQaHlzaWNzU2ltdWxhdG9yXzE9Y3JlYXRlUGh5c2ljc1NpbXVsYXRvcixnZW5lcmF0ZUNyZWF0ZUJvZHlGdW5jdGlvbj1nZW5lcmF0ZUNyZWF0ZUJvZHlFeHBvcnRzLGdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbj1nZW5lcmF0ZVF1YWRUcmVlRXhwb3J0cyxnZW5lcmF0ZUJvdW5kc0Z1bmN0aW9uPWdlbmVyYXRlQm91bmRzRXhwb3J0cyxnZW5lcmF0ZUNyZWF0ZURyYWdGb3JjZUZ1bmN0aW9uPWdlbmVyYXRlQ3JlYXRlRHJhZ0ZvcmNlRXhwb3J0cyxnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRnVuY3Rpb249Z2VuZXJhdGVDcmVhdGVTcHJpbmdGb3JjZUV4cG9ydHMsZ2VuZXJhdGVJbnRlZ3JhdG9yRnVuY3Rpb249Z2VuZXJhdGVJbnRlZ3JhdG9yRXhwb3J0cyxkaW1lbnNpb25hbENhY2hlPXt9O2Z1bmN0aW9uIGNyZWF0ZVBoeXNpY3NTaW11bGF0b3IodCl7dmFyIGU9cmVxdWlyZVNwcmluZygpLG49cmVxdWlyZU5ncmFwaF9tZXJnZSgpLG89bmdyYXBoX2V2ZW50cztpZih0KXtpZih0LnNwcmluZ0NvZWZmIT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigic3ByaW5nQ29lZmYgd2FzIHJlbmFtZWQgdG8gc3ByaW5nQ29lZmZpY2llbnQiKTtpZih0LmRyYWdDb2VmZiE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoImRyYWdDb2VmZiB3YXMgcmVuYW1lZCB0byBkcmFnQ29lZmZpY2llbnQiKX10PW4odCx7c3ByaW5nTGVuZ3RoOjEwLHNwcmluZ0NvZWZmaWNpZW50Oi44LGdyYXZpdHk6LTEyLHRoZXRhOi44LGRyYWdDb2VmZmljaWVudDouOSx0aW1lU3RlcDouNSxhZGFwdGl2ZVRpbWVTdGVwV2VpZ2h0OjAsZGltZW5zaW9uczoyLGRlYnVnOiExfSk7dmFyIGQ9ZGltZW5zaW9uYWxDYWNoZVt0LmRpbWVuc2lvbnNdO2lmKCFkKXt2YXIgaD10LmRpbWVuc2lvbnM7ZD17Qm9keTpnZW5lcmF0ZUNyZWF0ZUJvZHlGdW5jdGlvbihoLHQuZGVidWcpLGNyZWF0ZVF1YWRUcmVlOmdlbmVyYXRlUXVhZFRyZWVGdW5jdGlvbihoKSxjcmVhdGVCb3VuZHM6Z2VuZXJhdGVCb3VuZHNGdW5jdGlvbihoKSxjcmVhdGVEcmFnRm9yY2U6Z2VuZXJhdGVDcmVhdGVEcmFnRm9yY2VGdW5jdGlvbihoKSxjcmVhdGVTcHJpbmdGb3JjZTpnZW5lcmF0ZUNyZWF0ZVNwcmluZ0ZvcmNlRnVuY3Rpb24oaCksaW50ZWdyYXRlOmdlbmVyYXRlSW50ZWdyYXRvckZ1bmN0aW9uKGgpfSxkaW1lbnNpb25hbENhY2hlW2hdPWR9dmFyIGw9ZC5Cb2R5LHU9ZC5jcmVhdGVRdWFkVHJlZSxwPWQuY3JlYXRlQm91bmRzLGc9ZC5jcmVhdGVEcmFnRm9yY2Usdj1kLmNyZWF0ZVNwcmluZ0ZvcmNlLGI9ZC5pbnRlZ3JhdGUsXz1VPT5uZXcgbChVKSxPPXJlcXVpcmVOZ3JhcGhfcmFuZG9tKCkucmFuZG9tKDQyKSxUPVtdLFM9W10sTj11KHQsTyksQj1wKFQsdCxPKSxMPXYodCxPKSxDPWcodCksaj0wLFA9W10sRj1uZXcgTWFwLGs9MDtYKCJuYm9keSIsTSksWCgic3ByaW5nIiwkKTt2YXIgSj17Ym9kaWVzOlQscXVhZFRyZWU6TixzcHJpbmdzOlMsc2V0dGluZ3M6dCxhZGRGb3JjZTpYLHJlbW92ZUZvcmNlOkcsZ2V0Rm9yY2VzOnJlLHN0ZXA6ZnVuY3Rpb24oKXtmb3IodmFyIFU9MDtVPFAubGVuZ3RoOysrVSlQW1VdKGspO3ZhciBIPWIoVCx0LnRpbWVTdGVwLHQuYWRhcHRpdmVUaW1lU3RlcFdlaWdodCk7cmV0dXJuIGsrPTEsSH0sYWRkQm9keTpmdW5jdGlvbihVKXtpZighVSl0aHJvdyBuZXcgRXJyb3IoIkJvZHkgaXMgcmVxdWlyZWQiKTtyZXR1cm4gVC5wdXNoKFUpLFV9LGFkZEJvZHlBdDpmdW5jdGlvbihVKXtpZighVSl0aHJvdyBuZXcgRXJyb3IoIkJvZHkgcG9zaXRpb24gaXMgcmVxdWlyZWQiKTt2YXIgSD1fKFUpO3JldHVybiBULnB1c2goSCksSH0scmVtb3ZlQm9keTpmdW5jdGlvbihVKXtpZihVKXt2YXIgSD1ULmluZGV4T2YoVSk7aWYoIShIPDApKXJldHVybiBULnNwbGljZShILDEpLFQubGVuZ3RoPT09MCYmQi5yZXNldCgpLCEwfX0sYWRkU3ByaW5nOmZ1bmN0aW9uKFUsSCxlZSxnZSl7aWYoIVV8fCFIKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGFkZCBudWxsIHNwcmluZyB0byBmb3JjZSBzaW11bGF0b3IiKTt0eXBlb2YgZWUhPSJudW1iZXIiJiYoZWU9LTEpO3ZhciBtZT1uZXcgZShVLEgsZWUsZ2U+PTA/Z2U6LTEpO3JldHVybiBTLnB1c2gobWUpLG1lfSxnZXRUb3RhbE1vdmVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGp9LHJlbW92ZVNwcmluZzpmdW5jdGlvbihVKXtpZihVKXt2YXIgSD1TLmluZGV4T2YoVSk7aWYoSD4tMSlyZXR1cm4gUy5zcGxpY2UoSCwxKSwhMH19LGdldEJlc3ROZXdCb2R5UG9zaXRpb246ZnVuY3Rpb24oVSl7cmV0dXJuIEIuZ2V0QmVzdE5ld1Bvc2l0aW9uKFUpfSxnZXRCQm94OmFlLGdldEJvdW5kaW5nQm94OmFlLGludmFsaWRhdGVCQm94OmZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJpbnZhbGlkYXRlQkJveCgpIGlzIGRlcHJlY2F0ZWQsIGJvdW5kcyBhbHdheXMgcmVjb21wdXRlZCBvbiBgZ2V0QkJveCgpYCBjYWxsIil9LGdyYXZpdHk6ZnVuY3Rpb24oVSl7cmV0dXJuIFUhPT12b2lkIDA/KHQuZ3Jhdml0eT1VLE4ub3B0aW9ucyh7Z3Jhdml0eTpVfSksdGhpcyk6dC5ncmF2aXR5fSx0aGV0YTpmdW5jdGlvbihVKXtyZXR1cm4gVSE9PXZvaWQgMD8odC50aGV0YT1VLE4ub3B0aW9ucyh7dGhldGE6VX0pLHRoaXMpOnQudGhldGF9LHJhbmRvbTpPfTtyZXR1cm4gZXhwb3NlKHQsSiksbyhKKSxKO2Z1bmN0aW9uIGFlKCl7cmV0dXJuIEIudXBkYXRlKCksQi5ib3h9ZnVuY3Rpb24gWChVLEgpe2lmKEYuaGFzKFUpKXRocm93IG5ldyBFcnJvcigiRm9yY2UgIitVKyIgaXMgYWxyZWFkeSBhZGRlZCIpO0Yuc2V0KFUsSCksUC5wdXNoKEgpfWZ1bmN0aW9uIEcoVSl7dmFyIEg9UC5pbmRleE9mKEYuZ2V0KFUpKTtIPDB8fChQLnNwbGljZShILDEpLEYuZGVsZXRlKFUpKX1mdW5jdGlvbiByZSgpe3JldHVybiBGfWZ1bmN0aW9uIE0oKXtpZihULmxlbmd0aCE9PTApe04uaW5zZXJ0Qm9kaWVzKFQpO2Zvcih2YXIgVT1ULmxlbmd0aDtVLS07KXt2YXIgSD1UW1VdO0guaXNQaW5uZWR8fChILnJlc2V0KCksTi51cGRhdGVCb2R5Rm9yY2UoSCksQy51cGRhdGUoSCkpfX19ZnVuY3Rpb24gJCgpe2Zvcih2YXIgVT1TLmxlbmd0aDtVLS07KUwudXBkYXRlKFNbVV0pfX1mdW5jdGlvbiBleHBvc2UodCxlKXtmb3IodmFyIG4gaW4gdClhdWdtZW50KHQsZSxuKX1mdW5jdGlvbiBhdWdtZW50KHQsZSxuKXtpZih0Lmhhc093blByb3BlcnR5KG4pJiZ0eXBlb2YgZVtuXSE9ImZ1bmN0aW9uIil7dmFyIG89TnVtYmVyLmlzRmluaXRlKHRbbl0pO28/ZVtuXT1mdW5jdGlvbihkKXtpZihkIT09dm9pZCAwKXtpZighTnVtYmVyLmlzRmluaXRlKGQpKXRocm93IG5ldyBFcnJvcigiVmFsdWUgb2YgIituKyIgc2hvdWxkIGJlIGEgdmFsaWQgbnVtYmVyLiIpO3JldHVybiB0W25dPWQsZX1yZXR1cm4gdFtuXX06ZVtuXT1mdW5jdGlvbihkKXtyZXR1cm4gZCE9PXZvaWQgMD8odFtuXT1kLGUpOnRbbl19fX1uZ3JhcGhfZm9yY2VsYXlvdXQuZXhwb3J0cz1jcmVhdGVMYXlvdXQ7bmdyYXBoX2ZvcmNlbGF5b3V0RXhwb3J0cy5zaW11bGF0b3I9Y3JlYXRlUGh5c2ljc1NpbXVsYXRvcl8xO3ZhciBldmVudGlmeSQxPW5ncmFwaF9ldmVudHM7ZnVuY3Rpb24gY3JlYXRlTGF5b3V0KHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJHcmFwaCBzdHJ1Y3R1cmUgY2Fubm90IGJlIHVuZGVmaW5lZCIpO3ZhciBuPWUmJmUuY3JlYXRlU2ltdWxhdG9yfHxjcmVhdGVQaHlzaWNzU2ltdWxhdG9yXzEsbz1uKGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKCJQaHlzaWNzIHNldHRpbmdzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCIpO3ZhciBkPXQudmVyc2lvbj4xOT9NOnJlO2UmJnR5cGVvZiBlLm5vZGVNYXNzPT0iZnVuY3Rpb24iJiYoZD1lLm5vZGVNYXNzKTt2YXIgaD1uZXcgTWFwLGw9e30sdT0wLHA9by5zZXR0aW5ncy5zcHJpbmdUcmFuc2Zvcm18fG5vb3A7QygpLE4oKTt2YXIgZz0hMSx2PXtzdGVwOmZ1bmN0aW9uKCl7aWYodT09PTApcmV0dXJuIGIoITApLCEwO3ZhciAkPW8uc3RlcCgpO3YubGFzdE1vdmU9JCx2LmZpcmUoInN0ZXAiKTt2YXIgVT0kL3UsSD1VPD0uMDE7cmV0dXJuIGIoSCksSH0sZ2V0Tm9kZVBvc2l0aW9uOmZ1bmN0aW9uKCQpe3JldHVybiBHKCQpLnBvc30sc2V0Tm9kZVBvc2l0aW9uOmZ1bmN0aW9uKCQpe3ZhciBVPUcoJCk7VS5zZXRQb3NpdGlvbi5hcHBseShVLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LGdldExpbmtQb3NpdGlvbjpmdW5jdGlvbigkKXt2YXIgVT1sWyRdO2lmKFUpcmV0dXJue2Zyb206VS5mcm9tLnBvcyx0bzpVLnRvLnBvc319LGdldEdyYXBoUmVjdDpmdW5jdGlvbigpe3JldHVybiBvLmdldEJCb3goKX0sZm9yRWFjaEJvZHk6XyxwaW5Ob2RlOmZ1bmN0aW9uKCQsVSl7dmFyIEg9RygkLmlkKTtILmlzUGlubmVkPSEhVX0saXNOb2RlUGlubmVkOmZ1bmN0aW9uKCQpe3JldHVybiBHKCQuaWQpLmlzUGlubmVkfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dC5vZmYoImNoYW5nZWQiLEwpLHYuZmlyZSgiZGlzcG9zZWQiKX0sZ2V0Qm9keTpTLGdldFNwcmluZzpULGdldEZvcmNlVmVjdG9yTGVuZ3RoOk8sc2ltdWxhdG9yOm8sZ3JhcGg6dCxsYXN0TW92ZTowfTtyZXR1cm4gZXZlbnRpZnkkMSh2KSx2O2Z1bmN0aW9uIGIoJCl7ZyE9PSQmJihnPSQsQigkKSl9ZnVuY3Rpb24gXygkKXtoLmZvckVhY2goJCl9ZnVuY3Rpb24gTygpe3ZhciAkPTAsVT0wO3JldHVybiBfKGZ1bmN0aW9uKEgpeyQrPU1hdGguYWJzKEguZm9yY2UueCksVSs9TWF0aC5hYnMoSC5mb3JjZS55KX0pLE1hdGguc3FydCgkKiQrVSpVKX1mdW5jdGlvbiBUKCQsVSl7dmFyIEg7aWYoVT09PXZvaWQgMCl0eXBlb2YgJCE9Im9iamVjdCI/SD0kOkg9JC5pZDtlbHNle3ZhciBlZT10Lmhhc0xpbmsoJCxVKTtpZighZWUpcmV0dXJuO0g9ZWUuaWR9cmV0dXJuIGxbSF19ZnVuY3Rpb24gUygkKXtyZXR1cm4gaC5nZXQoJCl9ZnVuY3Rpb24gTigpe3Qub24oImNoYW5nZWQiLEwpfWZ1bmN0aW9uIEIoJCl7di5maXJlKCJzdGFibGUiLCQpfWZ1bmN0aW9uIEwoJCl7Zm9yKHZhciBVPTA7VTwkLmxlbmd0aDsrK1Upe3ZhciBIPSRbVV07SC5jaGFuZ2VUeXBlPT09ImFkZCI/KEgubm9kZSYmaihILm5vZGUuaWQpLEgubGluayYmRihILmxpbmspKTpILmNoYW5nZVR5cGU9PT0icmVtb3ZlIiYmKEgubm9kZSYmUChILm5vZGUpLEgubGluayYmayhILmxpbmspKX11PXQuZ2V0Tm9kZXNDb3VudCgpfWZ1bmN0aW9uIEMoKXt1PTAsdC5mb3JFYWNoTm9kZShmdW5jdGlvbigkKXtqKCQuaWQpLHUrPTF9KSx0LmZvckVhY2hMaW5rKEYpfWZ1bmN0aW9uIGooJCl7dmFyIFU9aC5nZXQoJCk7aWYoIVUpe3ZhciBIPXQuZ2V0Tm9kZSgkKTtpZighSCl0aHJvdyBuZXcgRXJyb3IoImluaXRCb2R5KCkgd2FzIGNhbGxlZCB3aXRoIHVua25vd24gbm9kZSBpZCIpO3ZhciBlZT1ILnBvc2l0aW9uO2lmKCFlZSl7dmFyIGdlPUooSCk7ZWU9by5nZXRCZXN0TmV3Qm9keVBvc2l0aW9uKGdlKX1VPW8uYWRkQm9keUF0KGVlKSxVLmlkPSQsaC5zZXQoJCxVKSxhZSgkKSxYKEgpJiYoVS5pc1Bpbm5lZD0hMCl9fWZ1bmN0aW9uIFAoJCl7dmFyIFU9JC5pZCxIPWguZ2V0KFUpO0gmJihoLmRlbGV0ZShVKSxvLnJlbW92ZUJvZHkoSCkpfWZ1bmN0aW9uIEYoJCl7YWUoJC5mcm9tSWQpLGFlKCQudG9JZCk7dmFyIFU9aC5nZXQoJC5mcm9tSWQpLEg9aC5nZXQoJC50b0lkKSxlZT1vLmFkZFNwcmluZyhVLEgsJC5sZW5ndGgpO3AoJCxlZSksbFskLmlkXT1lZX1mdW5jdGlvbiBrKCQpe3ZhciBVPWxbJC5pZF07aWYoVSl7dmFyIEg9dC5nZXROb2RlKCQuZnJvbUlkKSxlZT10LmdldE5vZGUoJC50b0lkKTtIJiZhZShILmlkKSxlZSYmYWUoZWUuaWQpLGRlbGV0ZSBsWyQuaWRdLG8ucmVtb3ZlU3ByaW5nKFUpfX1mdW5jdGlvbiBKKCQpe3ZhciBVPVtdO2lmKCEkLmxpbmtzKXJldHVybiBVO2Zvcih2YXIgSD1NYXRoLm1pbigkLmxpbmtzLmxlbmd0aCwyKSxlZT0wO2VlPEg7KytlZSl7dmFyIGdlPSQubGlua3NbZWVdLG1lPWdlLmZyb21JZCE9PSQuaWQ/aC5nZXQoZ2UuZnJvbUlkKTpoLmdldChnZS50b0lkKTttZSYmbWUucG9zJiZVLnB1c2gobWUpfXJldHVybiBVfWZ1bmN0aW9uIGFlKCQpe3ZhciBVPWguZ2V0KCQpO2lmKFUubWFzcz1kKCQpLE51bWJlci5pc05hTihVLm1hc3MpKXRocm93IG5ldyBFcnJvcigiTm9kZSBtYXNzIHNob3VsZCBiZSBhIG51bWJlciIpfWZ1bmN0aW9uIFgoJCl7cmV0dXJuICQmJigkLmlzUGlubmVkfHwkLmRhdGEmJiQuZGF0YS5pc1Bpbm5lZCl9ZnVuY3Rpb24gRygkKXt2YXIgVT1oLmdldCgkKTtyZXR1cm4gVXx8KGooJCksVT1oLmdldCgkKSksVX1mdW5jdGlvbiByZSgkKXt2YXIgVT10LmdldExpbmtzKCQpO3JldHVybiBVPzErVS5sZW5ndGgvMzoxfWZ1bmN0aW9uIE0oJCl7dmFyIFU9dC5nZXRMaW5rcygkKTtyZXR1cm4gVT8xK1Uuc2l6ZS8zOjF9fWZ1bmN0aW9uIG5vb3AoKXt9dmFyIG5ncmFwaF9ncmFwaD1jcmVhdGVHcmFwaCxldmVudGlmeT1uZ3JhcGhfZXZlbnRzO2Z1bmN0aW9uIGNyZWF0ZUdyYXBoKHQpe2lmKHQ9dHx8e30sInVuaXF1ZUxpbmtJZCJpbiB0JiYoY29uc29sZS53YXJuKCJuZ3JhcGguZ3JhcGg6IFN0YXJ0aW5nIGZyb20gdmVyc2lvbiAwLjE0IGB1bmlxdWVMaW5rSWRgIGlzIGRlcHJlY2F0ZWQuXG5Vc2UgYG11bHRpZ3JhcGhgIG9wdGlvbiBpbnN0ZWFkXG4iLGAKYCxgTm90ZTogdGhlcmUgaXMgYWxzbyBjaGFuZ2UgaW4gZGVmYXVsdCBiZWhhdmlvcjogRnJvbSBub3cgb24gZWFjaCBncmFwaAppcyBjb25zaWRlcmVkIHRvIGJlIG5vdCBhIG11bHRpZ3JhcGggYnkgZGVmYXVsdCAoZWFjaCBlZGdlIGlzIHVuaXF1ZSkuYCksdC5tdWx0aWdyYXBoPXQudW5pcXVlTGlua0lkKSx0Lm11bHRpZ3JhcGg9PT12b2lkIDAmJih0Lm11bHRpZ3JhcGg9ITEpLHR5cGVvZiBNYXAhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJuZ3JhcGguZ3JhcGggcmVxdWlyZXMgYE1hcGAgdG8gYmUgZGVmaW5lZC4gUGxlYXNlIHBvbHlmaWxsIGl0IGJlZm9yZSB1c2luZyBuZ3JhcGgiKTt2YXIgZT1uZXcgTWFwLG49bmV3IE1hcCxvPXt9LGQ9MCxoPXQubXVsdGlncmFwaD9qOkMsbD1bXSx1PUgscD1ILGc9SCx2PUgsYj17dmVyc2lvbjoyMCxhZGROb2RlOlMsYWRkTGluazpMLHJlbW92ZUxpbms6SixyZW1vdmVOb2RlOkIsZ2V0Tm9kZTpOLGdldE5vZGVDb3VudDpQLGdldExpbmtDb3VudDpGLGdldEVkZ2VDb3VudDpGLGdldExpbmtzQ291bnQ6RixnZXROb2Rlc0NvdW50OlAsZ2V0TGlua3M6ayxmb3JFYWNoTm9kZTptZSxmb3JFYWNoTGlua2VkTm9kZTpNLGZvckVhY2hMaW5rOnJlLGJlZ2luVXBkYXRlOmcsZW5kVXBkYXRlOnYsY2xlYXI6RyxoYXNMaW5rOlgsaGFzTm9kZTpOLGdldExpbms6WH07cmV0dXJuIGV2ZW50aWZ5KGIpLF8oKSxiO2Z1bmN0aW9uIF8oKXt2YXIgZmU9Yi5vbjtiLm9uPWhlO2Z1bmN0aW9uIGhlKCl7cmV0dXJuIGIuYmVnaW5VcGRhdGU9Zz1lZSxiLmVuZFVwZGF0ZT12PWdlLHU9TyxwPVQsYi5vbj1mZSxmZS5hcHBseShiLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIE8oZmUsaGUpe2wucHVzaCh7bGluazpmZSxjaGFuZ2VUeXBlOmhlfSl9ZnVuY3Rpb24gVChmZSxoZSl7bC5wdXNoKHtub2RlOmZlLGNoYW5nZVR5cGU6aGV9KX1mdW5jdGlvbiBTKGZlLGhlKXtpZihmZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbm9kZSBpZGVudGlmaWVyIik7ZygpO3ZhciBfZT1OKGZlKTtyZXR1cm4gX2U/KF9lLmRhdGE9aGUscChfZSwidXBkYXRlIikpOihfZT1uZXcgTm9kZShmZSxoZSkscChfZSwiYWRkIikpLGUuc2V0KGZlLF9lKSx2KCksX2V9ZnVuY3Rpb24gTihmZSl7cmV0dXJuIGUuZ2V0KGZlKX1mdW5jdGlvbiBCKGZlKXt2YXIgaGU9TihmZSk7aWYoIWhlKXJldHVybiExO2coKTt2YXIgX2U9aGUubGlua3M7cmV0dXJuIF9lJiYoX2UuZm9yRWFjaChhZSksaGUubGlua3M9bnVsbCksZS5kZWxldGUoZmUpLHAoaGUsInJlbW92ZSIpLHYoKSwhMH1mdW5jdGlvbiBMKGZlLGhlLF9lKXtnKCk7dmFyIHhlPU4oZmUpfHxTKGZlKSxSZT1OKGhlKXx8UyhoZSksSWU9aChmZSxoZSxfZSksTmU9bi5oYXMoSWUuaWQpO3JldHVybiBuLnNldChJZS5pZCxJZSksYWRkTGlua1RvTm9kZSh4ZSxJZSksZmUhPT1oZSYmYWRkTGlua1RvTm9kZShSZSxJZSksdShJZSxOZT8idXBkYXRlIjoiYWRkIiksdigpLEllfWZ1bmN0aW9uIEMoZmUsaGUsX2Upe3ZhciB4ZT1tYWtlTGlua0lkKGZlLGhlKSxSZT1uLmdldCh4ZSk7cmV0dXJuIFJlPyhSZS5kYXRhPV9lLFJlKTpuZXcgTGluayhmZSxoZSxfZSx4ZSl9ZnVuY3Rpb24gaihmZSxoZSxfZSl7dmFyIHhlPW1ha2VMaW5rSWQoZmUsaGUpLFJlPW8uaGFzT3duUHJvcGVydHkoeGUpO2lmKFJlfHxYKGZlLGhlKSl7UmV8fChvW3hlXT0wKTt2YXIgSWU9IkAiKyArK29beGVdO3hlPW1ha2VMaW5rSWQoZmUrSWUsaGUrSWUpfXJldHVybiBuZXcgTGluayhmZSxoZSxfZSx4ZSl9ZnVuY3Rpb24gUCgpe3JldHVybiBlLnNpemV9ZnVuY3Rpb24gRigpe3JldHVybiBuLnNpemV9ZnVuY3Rpb24gayhmZSl7dmFyIGhlPU4oZmUpO3JldHVybiBoZT9oZS5saW5rczpudWxsfWZ1bmN0aW9uIEooZmUsaGUpe3JldHVybiBoZSE9PXZvaWQgMCYmKGZlPVgoZmUsaGUpKSxhZShmZSl9ZnVuY3Rpb24gYWUoZmUpe2lmKCFmZXx8IW4uZ2V0KGZlLmlkKSlyZXR1cm4hMTtnKCksbi5kZWxldGUoZmUuaWQpO3ZhciBoZT1OKGZlLmZyb21JZCksX2U9TihmZS50b0lkKTtyZXR1cm4gaGUmJmhlLmxpbmtzLmRlbGV0ZShmZSksX2UmJl9lLmxpbmtzLmRlbGV0ZShmZSksdShmZSwicmVtb3ZlIiksdigpLCEwfWZ1bmN0aW9uIFgoZmUsaGUpe2lmKCEoZmU9PT12b2lkIDB8fGhlPT09dm9pZCAwKSlyZXR1cm4gbi5nZXQobWFrZUxpbmtJZChmZSxoZSkpfWZ1bmN0aW9uIEcoKXtnKCksbWUoZnVuY3Rpb24oZmUpe0IoZmUuaWQpfSksdigpfWZ1bmN0aW9uIHJlKGZlKXtpZih0eXBlb2YgZmU9PSJmdW5jdGlvbiIpZm9yKHZhciBoZT1uLnZhbHVlcygpLF9lPWhlLm5leHQoKTshX2UuZG9uZTspe2lmKGZlKF9lLnZhbHVlKSlyZXR1cm4hMDtfZT1oZS5uZXh0KCl9fWZ1bmN0aW9uIE0oZmUsaGUsX2Upe3ZhciB4ZT1OKGZlKTtpZih4ZSYmeGUubGlua3MmJnR5cGVvZiBoZT09ImZ1bmN0aW9uIilyZXR1cm4gX2U/VSh4ZS5saW5rcyxmZSxoZSk6JCh4ZS5saW5rcyxmZSxoZSl9ZnVuY3Rpb24gJChmZSxoZSxfZSl7Zm9yKHZhciB4ZSxSZT1mZS52YWx1ZXMoKSxJZT1SZS5uZXh0KCk7IUllLmRvbmU7KXt2YXIgTmU9SWUudmFsdWUsdmU9TmUuZnJvbUlkPT09aGU/TmUudG9JZDpOZS5mcm9tSWQ7aWYoeGU9X2UoZS5nZXQodmUpLE5lKSx4ZSlyZXR1cm4hMDtJZT1SZS5uZXh0KCl9fWZ1bmN0aW9uIFUoZmUsaGUsX2Upe2Zvcih2YXIgeGUsUmU9ZmUudmFsdWVzKCksSWU9UmUubmV4dCgpOyFJZS5kb25lOyl7dmFyIE5lPUllLnZhbHVlO2lmKE5lLmZyb21JZD09PWhlJiYoeGU9X2UoZS5nZXQoTmUudG9JZCksTmUpLHhlKSlyZXR1cm4hMDtJZT1SZS5uZXh0KCl9fWZ1bmN0aW9uIEgoKXt9ZnVuY3Rpb24gZWUoKXtkKz0xfWZ1bmN0aW9uIGdlKCl7ZC09MSxkPT09MCYmbC5sZW5ndGg+MCYmKGIuZmlyZSgiY2hhbmdlZCIsbCksbC5sZW5ndGg9MCl9ZnVuY3Rpb24gbWUoZmUpe2lmKHR5cGVvZiBmZSE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoIkZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIGl0ZXJhdGUgb3ZlciBncmFwaCBub2Rlcy4gWW91IHBhc3NlZCAiK2ZlKTtmb3IodmFyIGhlPWUudmFsdWVzKCksX2U9aGUubmV4dCgpOyFfZS5kb25lOyl7aWYoZmUoX2UudmFsdWUpKXJldHVybiEwO19lPWhlLm5leHQoKX19fWZ1bmN0aW9uIE5vZGUodCxlKXt0aGlzLmlkPXQsdGhpcy5saW5rcz1udWxsLHRoaXMuZGF0YT1lfWZ1bmN0aW9uIGFkZExpbmtUb05vZGUodCxlKXt0LmxpbmtzP3QubGlua3MuYWRkKGUpOnQubGlua3M9bmV3IFNldChbZV0pfWZ1bmN0aW9uIExpbmsodCxlLG4sbyl7dGhpcy5mcm9tSWQ9dCx0aGlzLnRvSWQ9ZSx0aGlzLmRhdGE9bix0aGlzLmlkPW99ZnVuY3Rpb24gbWFrZUxpbmtJZCh0LGUpe3JldHVybiB0LnRvU3RyaW5nKCkrIvCfkYkgIitlLnRvU3RyaW5nKCl9Y2xhc3MgR3JhcGhMYXlvdXRTaW17Y29uc3RydWN0b3IoZSl7dGhpcy5wb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheSgwKSx0aGlzLmdyYXBoRGF0YT1lfWdldCBwb3NpdGlvbnNCdWZmZXIoKXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnBvc2l0aW9ucyl9c3RhcnQoKXt0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpfXN0b3AoKXt0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpfWdldFBvc2l0aW9ucyhlKXtjb25zdCBuPXRoaXMucG9zaXRpb25zQnVmZmVyO2Uobil9fWNsYXNzIEQzRm9yY2VMYXlvdXQgZXh0ZW5kcyBHcmFwaExheW91dFNpbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmxheW91dEVuZ2luZT1mb3JjZVNpbXVsYXRpb24oZS5ub2RlcywzKS5mb3JjZSgiY2hhcmdlIixmb3JjZU1hbnlCb2R5KCkpLmZvcmNlKCJsaW5rIixmb3JjZUxpbmsoZS5saW5rcykuaWQobj0+bi5pZCkpLmZvcmNlKCJjZW50ZXIiLGZvcmNlQ2VudGVyKCkpLHRoaXMubGF5b3V0RW5naW5lLm9uKCJ0aWNrIiwoKT0+e2NvbnN0IG49dGhpcy5ncmFwaERhdGEubm9kZXMuZmxhdE1hcCgoe3g6byx5OmQsejpofSk9PltvLGQsaF0ubWFwKGw9PmwpKTt0aGlzLnBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KG4pfSl9c3RhcnQoKXt0aGlzLmxheW91dEVuZ2luZS5yZXN0YXJ0KCl9c3RvcCgpe3RoaXMubGF5b3V0RW5naW5lLnN0b3AoKX19Y2xhc3MgTmdyYXBoRm9yY2VMYXlvdXQgZXh0ZW5kcyBHcmFwaExheW91dFNpbXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKTtjb25zdCBuPW5ncmFwaF9ncmFwaCgpO2Uubm9kZXMuZm9yRWFjaChvPT57bi5hZGROb2RlKG8uaWQsbyl9KSxlLmxpbmtzLmZvckVhY2gobz0+e24uYWRkTGluayhvLnNvdXJjZSxvLnRhcmdldCl9KSx0aGlzLmxheW91dEVuZ2luZT1uZ3JhcGhfZm9yY2VsYXlvdXRFeHBvcnRzKG4se2RpbWVuc2lvbnM6M30pO2ZvcihsZXQgbyBvZiBlLm5vZGVzKXRoaXMubGF5b3V0RW5naW5lLnNldE5vZGVQb3NpdGlvbihvLmlkLG8ueCxvLnksby56KTt0aGlzLmxheW91dEVuZ2luZS5vbigic3RlcCIsKCk9Pntjb25zdCBvPWUubm9kZXMuZmxhdE1hcCgoe2lkOmR9KT0+e2NvbnN0e3g6aCx5Omwsejp1fT10aGlzLmxheW91dEVuZ2luZS5nZXROb2RlUG9zaXRpb24oZCk7cmV0dXJuW2gsbCx1XS5tYXAocD0+cCl9KTt0aGlzLnBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KG8pfSl9c3RhcnQoKXtjb25zdCBlPSgpPT57dGhpcy5sYXlvdXRFbmdpbmUuc3RlcCgpLHVzaW5nPT09dGhpcy5sYXlvdXRFbmdpbmUmJnJhZkV4cG9ydHMoZSl9O2UoKX1zdG9wKCl7dGhpcy5sYXlvdXRFbmdpbmUuZGlzcG9zZSgpfX12YXIgbGF5b3V0PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLEQzRm9yY2VMYXlvdXQsTmdyYXBoRm9yY2VMYXlvdXR9KTtjb25zdCB0cmFuc2Zlcj0odCxlKT0+dHJhbnNmZXIkMSh0LGUpO3ZhciB0cmFuc2Zvcm1NYXQ0XzE9dHJhbnNmb3JtTWF0NCQyO2Z1bmN0aW9uIHRyYW5zZm9ybU1hdDQkMih0LGUsbil7dmFyIG89ZVswXSxkPWVbMV0saD1lWzJdLGw9blszXSpvK25bN10qZCtuWzExXSpoK25bMTVdO3JldHVybiBsPWx8fDEsdFswXT0oblswXSpvK25bNF0qZCtuWzhdKmgrblsxMl0pL2wsdFsxXT0oblsxXSpvK25bNV0qZCtuWzldKmgrblsxM10pL2wsdFsyXT0oblsyXSpvK25bNl0qZCtuWzEwXSpoK25bMTRdKS9sLHR9dmFyIHJvdGF0ZVlfMT1yb3RhdGVZO2Z1bmN0aW9uIHJvdGF0ZVkodCxlLG4sbyl7dmFyIGQ9blswXSxoPW5bMl0sbD1lWzBdLWQsdT1lWzJdLWgscD1NYXRoLnNpbihvKSxnPU1hdGguY29zKG8pO3JldHVybiB0WzBdPWQrdSpwK2wqZyx0WzFdPWVbMV0sdFsyXT1oK3UqZy1sKnAsdH12YXIgcm90YXRlWF8xPXJvdGF0ZVg7ZnVuY3Rpb24gcm90YXRlWCh0LGUsbixvKXt2YXIgZD1uWzFdLGg9blsyXSxsPWVbMV0tZCx1PWVbMl0taCxwPU1hdGguc2luKG8pLGc9TWF0aC5jb3Mobyk7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWQrbCpnLXUqcCx0WzJdPWgrbCpwK3UqZyx0fXZhciBlcHNpbG9uPTFlLTYsZXF1YWxzXzE9ZXF1YWxzLEVQU0lMT049ZXBzaWxvbjtmdW5jdGlvbiBlcXVhbHModCxlKXt2YXIgbj10WzBdLG89dFsxXSxkPXRbMl0saD1lWzBdLGw9ZVsxXSx1PWVbMl07cmV0dXJuIE1hdGguYWJzKG4taCk8PUVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhoKSkmJk1hdGguYWJzKG8tbCk8PUVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhvKSxNYXRoLmFicyhsKSkmJk1hdGguYWJzKGQtdSk8PUVQU0lMT04qTWF0aC5tYXgoMSxNYXRoLmFicyhkKSxNYXRoLmFicyh1KSl9dmFyIGFkZF8xPWFkZDtmdW5jdGlvbiBhZGQodCxlLG4pe3JldHVybiB0WzBdPWVbMF0rblswXSx0WzFdPWVbMV0rblsxXSx0WzJdPWVbMl0rblsyXSx0fXZhciBzY2FsZUFuZEFkZF8xPXNjYWxlQW5kQWRkO2Z1bmN0aW9uIHNjYWxlQW5kQWRkKHQsZSxuLG8pe3JldHVybiB0WzBdPWVbMF0rblswXSpvLHRbMV09ZVsxXStuWzFdKm8sdFsyXT1lWzJdK25bMl0qbyx0fXZhciBjb3B5XzE9Y29weTtmdW5jdGlvbiBjb3B5KHQsZSl7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHR9dmFyIG5vcm1hbGl6ZV8xPW5vcm1hbGl6ZTtmdW5jdGlvbiBub3JtYWxpemUodCxlKXt2YXIgbj1lWzBdLG89ZVsxXSxkPWVbMl0saD1uKm4rbypvK2QqZDtyZXR1cm4gaD4wJiYoaD0xL01hdGguc3FydChoKSx0WzBdPWVbMF0qaCx0WzFdPWVbMV0qaCx0WzJdPWVbMl0qaCksdH12YXIgaWRlbnRpdHlfMT1pZGVudGl0eSQxO2Z1bmN0aW9uIGlkZW50aXR5JDEodCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fXZhciBpbnZlcnRfMT1pbnZlcnQ7ZnVuY3Rpb24gaW52ZXJ0KHQsZSl7dmFyIG49ZVswXSxvPWVbMV0sZD1lWzJdLGg9ZVszXSxsPWVbNF0sdT1lWzVdLHA9ZVs2XSxnPWVbN10sdj1lWzhdLGI9ZVs5XSxfPWVbMTBdLE89ZVsxMV0sVD1lWzEyXSxTPWVbMTNdLE49ZVsxNF0sQj1lWzE1XSxMPW4qdS1vKmwsQz1uKnAtZCpsLGo9bipnLWgqbCxQPW8qcC1kKnUsRj1vKmctaCp1LGs9ZCpnLWgqcCxKPXYqUy1iKlQsYWU9dipOLV8qVCxYPXYqQi1PKlQsRz1iKk4tXypTLHJlPWIqQi1PKlMsTT1fKkItTypOLCQ9TCpNLUMqcmUraipHK1AqWC1GKmFlK2sqSjtyZXR1cm4gJD8oJD0xLyQsdFswXT0odSpNLXAqcmUrZypHKSokLHRbMV09KGQqcmUtbypNLWgqRykqJCx0WzJdPShTKmstTipGK0IqUCkqJCx0WzNdPShfKkYtYiprLU8qUCkqJCx0WzRdPShwKlgtbCpNLWcqYWUpKiQsdFs1XT0obipNLWQqWCtoKmFlKSokLHRbNl09KE4qai1UKmstQipDKSokLHRbN109KHYqay1fKmorTypDKSokLHRbOF09KGwqcmUtdSpYK2cqSikqJCx0WzldPShvKlgtbipyZS1oKkopKiQsdFsxMF09KFQqRi1TKmorQipMKSokLHRbMTFdPShiKmotdipGLU8qTCkqJCx0WzEyXT0odSphZS1sKkctcCpKKSokLHRbMTNdPShuKkctbyphZStkKkopKiQsdFsxNF09KFMqQy1UKlAtTipMKSokLHRbMTVdPSh2KlAtYipDK18qTCkqJCx0KTpudWxsfXZhciB0cmFuc2xhdGVfMT10cmFuc2xhdGU7ZnVuY3Rpb24gdHJhbnNsYXRlKHQsZSxuKXt2YXIgbz1uWzBdLGQ9blsxXSxoPW5bMl0sbCx1LHAsZyx2LGIsXyxPLFQsUyxOLEI7cmV0dXJuIGU9PT10Pyh0WzEyXT1lWzBdKm8rZVs0XSpkK2VbOF0qaCtlWzEyXSx0WzEzXT1lWzFdKm8rZVs1XSpkK2VbOV0qaCtlWzEzXSx0WzE0XT1lWzJdKm8rZVs2XSpkK2VbMTBdKmgrZVsxNF0sdFsxNV09ZVszXSpvK2VbN10qZCtlWzExXSpoK2VbMTVdKToobD1lWzBdLHU9ZVsxXSxwPWVbMl0sZz1lWzNdLHY9ZVs0XSxiPWVbNV0sXz1lWzZdLE89ZVs3XSxUPWVbOF0sUz1lWzldLE49ZVsxMF0sQj1lWzExXSx0WzBdPWwsdFsxXT11LHRbMl09cCx0WzNdPWcsdFs0XT12LHRbNV09Yix0WzZdPV8sdFs3XT1PLHRbOF09VCx0WzldPVMsdFsxMF09Tix0WzExXT1CLHRbMTJdPWwqbyt2KmQrVCpoK2VbMTJdLHRbMTNdPXUqbytiKmQrUypoK2VbMTNdLHRbMTRdPXAqbytfKmQrTipoK2VbMTRdLHRbMTVdPWcqbytPKmQrQipoK2VbMTVdKSx0fXZhciBzY2FsZV8xPXNjYWxlJDE7ZnVuY3Rpb24gc2NhbGUkMSh0LGUsbil7dmFyIG89blswXSxkPW5bMV0saD1uWzJdO3JldHVybiB0WzBdPWVbMF0qbyx0WzFdPWVbMV0qbyx0WzJdPWVbMl0qbyx0WzNdPWVbM10qbyx0WzRdPWVbNF0qZCx0WzVdPWVbNV0qZCx0WzZdPWVbNl0qZCx0WzddPWVbN10qZCx0WzhdPWVbOF0qaCx0WzldPWVbOV0qaCx0WzEwXT1lWzEwXSpoLHRbMTFdPWVbMTFdKmgsdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH12YXIgaWRlbnRpdHk9aWRlbnRpdHlfMSxsb29rQXRfMT1sb29rQXQkMTtmdW5jdGlvbiBsb29rQXQkMSh0LGUsbixvKXt2YXIgZCxoLGwsdSxwLGcsdixiLF8sTyxUPWVbMF0sUz1lWzFdLE49ZVsyXSxCPW9bMF0sTD1vWzFdLEM9b1syXSxqPW5bMF0sUD1uWzFdLEY9blsyXTtyZXR1cm4gTWF0aC5hYnMoVC1qKTwxZS02JiZNYXRoLmFicyhTLVApPDFlLTYmJk1hdGguYWJzKE4tRik8MWUtNj9pZGVudGl0eSh0KToodj1ULWosYj1TLVAsXz1OLUYsTz0xL01hdGguc3FydCh2KnYrYipiK18qXyksdio9TyxiKj1PLF8qPU8sZD1MKl8tQypiLGg9Qyp2LUIqXyxsPUIqYi1MKnYsTz1NYXRoLnNxcnQoZCpkK2gqaCtsKmwpLE8/KE89MS9PLGQqPU8saCo9TyxsKj1PKTooZD0wLGg9MCxsPTApLHU9YipsLV8qaCxwPV8qZC12KmwsZz12KmgtYipkLE89TWF0aC5zcXJ0KHUqdStwKnArZypnKSxPPyhPPTEvTyx1Kj1PLHAqPU8sZyo9Tyk6KHU9MCxwPTAsZz0wKSx0WzBdPWQsdFsxXT11LHRbMl09dix0WzNdPTAsdFs0XT1oLHRbNV09cCx0WzZdPWIsdFs3XT0wLHRbOF09bCx0WzldPWcsdFsxMF09Xyx0WzExXT0wLHRbMTJdPS0oZCpUK2gqUytsKk4pLHRbMTNdPS0odSpUK3AqUytnKk4pLHRbMTRdPS0odipUK2IqUytfKk4pLHRbMTVdPTEsdCl9dmFyIHBlcnNwZWN0aXZlXzE9cGVyc3BlY3RpdmUkMTtmdW5jdGlvbiBwZXJzcGVjdGl2ZSQxKHQsZSxuLG8sZCl7dmFyIGg9MS9NYXRoLnRhbihlLzIpLGw9MS8oby1kKTtyZXR1cm4gdFswXT1oL24sdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNV09aCx0WzZdPTAsdFs3XT0wLHRbOF09MCx0WzldPTAsdFsxMF09KGQrbykqbCx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MipkKm8qbCx0WzE1XT0wLHR9dmFyIHRyYW5zZm9ybU1hdDQkMT10cmFuc2Zvcm1NYXQ0XzEsdmVjM1JvdGF0ZVk9cm90YXRlWV8xLHZlYzNSb3RhdGVYPXJvdGF0ZVhfMSx2ZWMzRXF1YWxzPWVxdWFsc18xLHZlYzNBZGQ9YWRkXzEsdmVjM1NjYWxlQW5kQWRkPXNjYWxlQW5kQWRkXzEsdmVjM0NvcHk9Y29weV8xLHZlYzNOb3JtYWxpemU9bm9ybWFsaXplXzEsbWF0NElkZW50aXR5PWlkZW50aXR5XzEsbWF0NEludmVydD1pbnZlcnRfMSxtYXQ0VHJhbnNsYXRlPXRyYW5zbGF0ZV8xLG1hdDRTY2FsZT1zY2FsZV8xLGxvb2tBdD1sb29rQXRfMSxwZXJzcGVjdGl2ZT1wZXJzcGVjdGl2ZV8xLE1BWF9QSEk9TWF0aC5QSSouNS0xZS00LE1JTl9QSEk9LU1hdGguUEkqLjUrMWUtNCxpbmVydGlhbFR1cm50YWJsZUNhbWVyYT1mdW5jdGlvbiB0KGUpe2U9ZXx8e307dmFyIG49ITAsbz17YXNwZWN0UmF0aW86ZS5hc3BlY3RSYXRpbz9lLmFzcGVjdFJhdGlvOjEsem9vbUFib3V0Q3Vyc29yOmUuem9vbUFib3V0Q3Vyc29yPT09dm9pZCAwPyEwOmUuem9vbUFib3V0Q3Vyc29yLGRpc3RhbmNlOmUuZGlzdGFuY2U9PT12b2lkIDA/MTA6ZS5kaXN0YW5jZSxwaGk6ZS5waGk9PT12b2lkIDA/MDplLnBoaSx0aGV0YTplLnRoZXRhPT09dm9pZCAwPzA6ZS50aGV0YSxmb3ZZOmUuZm92WT09PXZvaWQgMD9NYXRoLlBJLzQ6ZS5mb3ZZLG5lYXI6ZS5uZWFyPT09dm9pZCAwPy4xOmUubmVhcixmYXI6ZS5mYXI9PT12b2lkIDA/MTAwOmUuZmFyLHBhbkRlY2F5VGltZTplLnBhbkRlY2F5VGltZXx8MTAwLHpvb21EZWNheVRpbWU6ZS56b29tRGVjYXlUaW1lfHwxMDAscm90YXRpb25EZWNheVRpbWU6ZS5yb3RhdGlvbkRlY2F5VGltZXx8MTAwLGRpcnR5OiEwLHVwOmUudXB8fG5ldyBGbG9hdDMyQXJyYXkoWzAsMSwwXSksY2VudGVyOmUuY2VudGVyfHxuZXcgRmxvYXQzMkFycmF5KDMpLHJvdGF0aW9uQ2VudGVyOmUucm90YXRpb25DZW50ZXJ8fGUuY2VudGVyJiZlLmNlbnRlci5zbGljZSgpfHxuZXcgRmxvYXQzMkFycmF5KDMpLHpvb206MCxwYW5YOjAscGFuWTowLHBhblo6MCxwaXRjaDowLHlhdzowLGRUaGV0YTowLGRQaGk6MCxtb3VzZVg6MCxtb3VzZVk6MH0sZD1udWxsLGg9e3RpY2s6ZnVuY3Rpb24oTSl7aWYoay56b29tJiYoby56b29tPWsuem9vbSksay5kVGhldGEmJihvLmRUaGV0YT1rLmRUaGV0YSksay5kUGhpJiYoby5kUGhpPWsuZFBoaSksay5wYW5YJiYoby5wYW5YPWsucGFuWCksay5wYW5ZJiYoby5wYW5ZPWsucGFuWSksay5wYW5aJiYoby5wYW5aPWsucGFuWiksay55YXcmJihvLnlhdz1rLnlhdyksay5waXRjaCYmKG8ucGl0Y2g9ay5waXRjaCksUChrKSxNKXt2YXIgJD1vLmRQaGksVT1vLmRUaGV0YSxIPW8uem9vbSxlZT1vLnBhblgsZ2U9by5wYW5ZLG1lPW8ucGFuWixmZT1vLnBpdGNoLGhlPW8ueWF3O09iamVjdC5hc3NpZ24obyxNKSxNLmRQaGkhPT12b2lkIDAmJihvLmRQaGkrPSQpLE0uZFRoZXRhIT09dm9pZCAwJiYoby5kVGhldGErPVUpLE0uem9vbSE9PXZvaWQgMCYmKG8uem9vbSs9SCksTS5wYW5YIT09dm9pZCAwJiYoby5wYW5YKz1lZSksTS5wYW5ZIT09dm9pZCAwJiYoby5wYW5ZKz1nZSksTS5wYW5aIT09dm9pZCAwJiYoby5wYW5aKz1tZSksTS5waXRjaCE9PXZvaWQgMCYmKG8ucGl0Y2grPWZlKSxNLnlhdyE9PXZvaWQgMCYmKG8ueWF3Kz1oZSl9VCgpJiZOKCksaigpP3JlKG8pOlAobyk7dmFyIF9lPURhdGUubm93KCk7ZCE9PW51bGwmJkYoX2UtZCksZD1fZSxoLnN0YXRlLmRpcnR5PW4sbj0hMSxPKCl9LHRhaW50OkwscmVzaXplOkMscGFyYW1zOm8scm90YXRlOkcscGl2b3Q6WCxwYW46Six6b29tOmFlfTtoLnN0YXRlPXt9LGguc3RhdGUucHJvamVjdGlvbj1uZXcgRmxvYXQzMkFycmF5KDE2KSxoLnN0YXRlLnZpZXdJbnY9bmV3IEZsb2F0MzJBcnJheSgxNiksaC5zdGF0ZS52aWV3PW5ldyBGbG9hdDMyQXJyYXkoMTYpLGguc3RhdGUud2lkdGg9bnVsbCxoLnN0YXRlLmhlaWdodD1udWxsLGguc3RhdGUuZXllPW5ldyBGbG9hdDMyQXJyYXkoMyk7dmFyIGw9bmV3IEZsb2F0MzJBcnJheSgzKSx1PW5ldyBGbG9hdDMyQXJyYXkoMykscD1uZXcgRmxvYXQzMkFycmF5KDMpLGc9bmV3IEZsb2F0MzJBcnJheSgzKSx2PW5ldyBGbG9hdDMyQXJyYXkoMyksYj1uZXcgRmxvYXQzMkFycmF5KDE2KSxfPXt1cDpuZXcgRmxvYXQzMkFycmF5KDMpLGNlbnRlcjpuZXcgRmxvYXQzMkFycmF5KDMpfTtPKCk7ZnVuY3Rpb24gTygpe3ZlYzNDb3B5KF8udXAsby51cCksdmVjM0NvcHkoXy5jZW50ZXIsby5jZW50ZXIpLF8ubmVhcj1vLm5lYXIsXy5mYXI9by5mYXIsXy5kaXN0YW5jZT1vLmRpc3RhbmNlLF8ucGhpPW8ucGhpLF8udGhldGE9by50aGV0YSxfLmZvdlk9by5mb3ZZfWZ1bmN0aW9uIFQoKXtyZXR1cm4hdmVjM0VxdWFscyhvLnVwLF8udXApfHwhdmVjM0VxdWFscyhvLmNlbnRlcixfLmNlbnRlcil8fG8ubmVhciE9PV8ubmVhcnx8by5mYXIhPT1fLmZhcnx8by5waGkhPT1fLnBoaXx8by50aGV0YSE9PV8udGhldGF8fG8uZGlzdGFuY2UhPT1fLmRpc3RhbmNlfHxvLmZvdlkhPT1fLmZvdll9dmFyIFM9e307ZnVuY3Rpb24gTigpe1MuZFBoaT1vLnBoaS1fLnBoaSxTLmRUaGV0YT1vLnRoZXRhLV8udGhldGEsUy56b29tPW8uZGlzdGFuY2UvXy5kaXN0YW5jZS0xLG8udGhldGE9Xy50aGV0YSxvLmRpc3RhbmNlPV8uZGlzdGFuY2Usby5waGk9Xy5waGksUy55YXc9MCxTLnBpdGNoPTAsUy5wYW5YPTAsUy5wYW5ZPTAsUy5wYW5aPTAsUy5tb3VzZVg9MCxTLm1vdXNlWT0wLHJlKFMpfWZ1bmN0aW9uIEIoKXtoLnN0YXRlLmV5ZVswXT0wLGguc3RhdGUuZXllWzFdPTAsaC5zdGF0ZS5leWVbMl09by5kaXN0YW5jZSx2ZWMzUm90YXRlWChoLnN0YXRlLmV5ZSxoLnN0YXRlLmV5ZSx2LC1vLnBoaSksdmVjM1JvdGF0ZVkoaC5zdGF0ZS5leWUsaC5zdGF0ZS5leWUsdixvLnRoZXRhKSx2ZWMzQWRkKGguc3RhdGUuZXllLGguc3RhdGUuZXllLG8uY2VudGVyKSxsb29rQXQoaC5zdGF0ZS52aWV3LGguc3RhdGUuZXllLG8uY2VudGVyLG8udXApLHBlcnNwZWN0aXZlKGguc3RhdGUucHJvamVjdGlvbixvLmZvdlksaC5wYXJhbXMuYXNwZWN0UmF0aW8sby5uZWFyLG8uZmFyKSxtYXQ0SW52ZXJ0KGguc3RhdGUudmlld0ludixoLnN0YXRlLnZpZXcpfWZ1bmN0aW9uIEwoKXtuPSEwfWZ1bmN0aW9uIEMoTSl7aC5wYXJhbXMuYXNwZWN0UmF0aW89TSxCKCksTCgpfWZ1bmN0aW9uIGooKXtpZihNYXRoLmFicyhvLnpvb20pPjFlLTR8fE1hdGguYWJzKG8ucGFuWCk+MWUtNHx8TWF0aC5hYnMoby5wYW5ZKT4xZS00fHxNYXRoLmFicyhvLnBhblopPjFlLTR8fE1hdGguYWJzKG8uZFRoZXRhKT4xZS00fHxNYXRoLmFicyhvLmRQaGkpPjFlLTR8fE1hdGguYWJzKG8ueWF3KT4xZS00fHxNYXRoLmFicyhvLnBpdGNoKT4xZS00KXJldHVybiEwfWZ1bmN0aW9uIFAoTSl7TS56b29tPTAsTS5kVGhldGE9MCxNLmRQaGk9MCxNLnBhblg9MCxNLnBhblk9MCxNLnBhblo9MCxNLnlhdz0wLE0ucGl0Y2g9MH1mdW5jdGlvbiBGKE0pe3ZhciAkPW8ucGFuRGVjYXlUaW1lP01hdGguZXhwKC1NL28ucGFuRGVjYXlUaW1lL01hdGguTE4yKTowLFU9by56b29tRGVjYXlUaW1lP01hdGguZXhwKC1NL28uem9vbURlY2F5VGltZS9NYXRoLkxOMik6MCxIPW8ucm90YXRpb25EZWNheVRpbWU/TWF0aC5leHAoLU0vby5yb3RhdGlvbkRlY2F5VGltZS9NYXRoLkxOMik6MDtvLnpvb20qPVUsby5wYW5YKj0kLG8ucGFuWSo9JCxvLnBhbloqPSQsby5kVGhldGEqPUgsby5kUGhpKj1ILG8ueWF3Kj1ILG8ucGl0Y2gqPUh9dmFyIGs9e307UChrKTtmdW5jdGlvbiBKKE0sJCl7dmFyIFU9aC5wYXJhbXMuZGlzdGFuY2UqTWF0aC50YW4oaC5wYXJhbXMuZm92WSouNSkqMjtyZXR1cm4gay5wYW5YKz1NKm8uYXNwZWN0UmF0aW8qVSxrLnBhblkrPSQqVSxofWZ1bmN0aW9uIGFlKE0sJCxVKXtyZXR1cm4gay56b29tKz1VLG8ubW91c2VYPU0sby5tb3VzZVk9JCxofWZ1bmN0aW9uIFgoTSwkKXt2YXIgVT1oLnBhcmFtcy5mb3ZZO2sueWF3Kz1NKlUqby5hc3BlY3RSYXRpbyxrLnBpdGNoKz0kKlV9ZnVuY3Rpb24gRyhNLCQpe2suZFRoZXRhKz1NLGsuZFBoaSs9JH1mdW5jdGlvbiByZShNKXt2YXIgJDttYXQ0SWRlbnRpdHkoYiksby56b29tQWJvdXRDdXJzb3ImJigkPW8uZGlzdGFuY2UqTWF0aC50YW4oby5mb3ZZKi41KSxsWzBdPU0ubW91c2VYKm8uYXNwZWN0UmF0aW8qJCxsWzFdPU0ubW91c2VZKiQsbFsyXT0wLG1hdDRUcmFuc2xhdGUoYixiLGwpKSxsWzBdPTErTS56b29tLGxbMV09MStNLnpvb20sbFsyXT0xLG1hdDRTY2FsZShiLGIsbCksby56b29tQWJvdXRDdXJzb3ImJigkPW8uZGlzdGFuY2UqTWF0aC50YW4oby5mb3ZZKi41KSxsWzBdPS1NLm1vdXNlWCpvLmFzcGVjdFJhdGlvKiQsbFsxXT0tTS5tb3VzZVkqJCxsWzJdPTAsbWF0NFRyYW5zbGF0ZShiLGIsbCkpLGJbMTJdLT1NLnBhblgqLjUsYlsxM10tPU0ucGFuWSouNSx0cmFuc2Zvcm1NYXQ0JDEoby5jZW50ZXIsby5jZW50ZXIsaC5zdGF0ZS52aWV3KSx0cmFuc2Zvcm1NYXQ0JDEoby5jZW50ZXIsby5jZW50ZXIsYiksdHJhbnNmb3JtTWF0NCQxKG8uY2VudGVyLG8uY2VudGVyLGguc3RhdGUudmlld0ludiksby5yb3RhdGVBYm91dENlbnRlciYmdmVjM0NvcHkoby5yb3RhdGlvbkNlbnRlcixvLmNlbnRlciksby5kaXN0YW5jZSo9MStNLnpvb207dmFyIFU9by5waGk7by5waGkrPU0uZFBoaSxvLnBoaT1NYXRoLm1pbihNQVhfUEhJLE1hdGgubWF4KE1JTl9QSEksby5waGkpKTt2YXIgSD1vLnBoaS1VLGVlPW8udGhldGE7by50aGV0YSs9TS5kVGhldGE7dmFyIGdlPW8udGhldGEtZWU7aWYodmVjM1JvdGF0ZVkoby5jZW50ZXIsby5jZW50ZXIsby5yb3RhdGlvbkNlbnRlcixnZS1vLnRoZXRhKSx2ZWMzUm90YXRlWChvLmNlbnRlcixvLmNlbnRlcixvLnJvdGF0aW9uQ2VudGVyLC1IKSx2ZWMzUm90YXRlWShvLmNlbnRlcixvLmNlbnRlcixvLnJvdGF0aW9uQ2VudGVyLG8udGhldGEpLE0ueWF3IT09MHx8TS5waXRjaCE9PTApe3BbMF09aC5zdGF0ZS52aWV3WzBdLHBbMV09aC5zdGF0ZS52aWV3WzRdLHBbMl09aC5zdGF0ZS52aWV3WzhdLHZlYzNOb3JtYWxpemUocCxwKSx1WzBdPWguc3RhdGUudmlld1sxXSx1WzFdPWguc3RhdGUudmlld1s1XSx1WzJdPWguc3RhdGUudmlld1s5XSx2ZWMzTm9ybWFsaXplKHUsdSksZ1swXT1oLnN0YXRlLnZpZXdbMl0sZ1sxXT1oLnN0YXRlLnZpZXdbNl0sZ1syXT1oLnN0YXRlLnZpZXdbMTBdLHZlYzNOb3JtYWxpemUoZyxnKTt2YXIgbWU9TWF0aC5taW4oTUFYX1BISSxNYXRoLm1heChNSU5fUEhJLG8ucGhpK00ucGl0Y2gqLjUpKSxmZT1tZS1vLnBoaTt2ZWMzU2NhbGVBbmRBZGQoby5jZW50ZXIsby5jZW50ZXIscCwtTWF0aC5zaW4oTS55YXcqLjUpKm8uZGlzdGFuY2UpLHZlYzNTY2FsZUFuZEFkZChvLmNlbnRlcixvLmNlbnRlcix1LC1NYXRoLnNpbihmZSkqby5kaXN0YW5jZSksdmVjM1NjYWxlQW5kQWRkKG8uY2VudGVyLG8uY2VudGVyLGcsKDItTWF0aC5jb3MoTS55YXcqLjUpLU1hdGguY29zKGZlKSkqby5kaXN0YW5jZSksby5waGk9bWUsby50aGV0YSs9TS55YXcqLjV9QigpLEwoKX1yZXR1cm4gQyhoLnBhcmFtcy5hc3BlY3RSYXRpbyksaH0sbW9pemVFeHBvcnRzPXt9LG1vaXplJDE9e2dldCBleHBvcnRzKCl7cmV0dXJuIG1vaXplRXhwb3J0c30sc2V0IGV4cG9ydHModCl7bW9pemVFeHBvcnRzPXR9fSxtaWNyb01lbW9pemVFeHBvcnRzPXt9LG1pY3JvTWVtb2l6ZT17Z2V0IGV4cG9ydHMoKXtyZXR1cm4gbWljcm9NZW1vaXplRXhwb3J0c30sc2V0IGV4cG9ydHModCl7bWljcm9NZW1vaXplRXhwb3J0cz10fX0saGFzUmVxdWlyZWRNaWNyb01lbW9pemU7ZnVuY3Rpb24gcmVxdWlyZU1pY3JvTWVtb2l6ZSgpe3JldHVybiBoYXNSZXF1aXJlZE1pY3JvTWVtb2l6ZXx8KGhhc1JlcXVpcmVkTWljcm9NZW1vaXplPTEsZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24obixvKXt0LmV4cG9ydHM9bygpfSkoY29tbW9uanNHbG9iYWwsZnVuY3Rpb24oKXt2YXIgbj17aXNFcXVhbDohMCxpc01hdGNoaW5nS2V5OiEwLGlzUHJvbWlzZTohMCxtYXhTaXplOiEwLG9uQ2FjaGVBZGQ6ITAsb25DYWNoZUNoYW5nZTohMCxvbkNhY2hlSGl0OiEwLHRyYW5zZm9ybUtleTohMH0sbz1BcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gZChiKXt2YXIgXz1iLmxlbmd0aDtyZXR1cm4gXz9fPT09MT9bYlswXV06Xz09PTI/W2JbMF0sYlsxXV06Xz09PTM/W2JbMF0sYlsxXSxiWzJdXTpvLmNhbGwoYiwwKTpbXX1mdW5jdGlvbiBoKGIpe3ZhciBfPXt9O2Zvcih2YXIgTyBpbiBiKW5bT118fChfW09dPWJbT10pO3JldHVybiBffWZ1bmN0aW9uIGwoYil7cmV0dXJuIHR5cGVvZiBiPT0iZnVuY3Rpb24iJiZiLmlzTWVtb2l6ZWR9ZnVuY3Rpb24gdShiLF8pe3JldHVybiBiPT09X3x8YiE9PWImJl8hPT1ffWZ1bmN0aW9uIHAoYixfKXt2YXIgTz17fTtmb3IodmFyIFQgaW4gYilPW1RdPWJbVF07Zm9yKHZhciBUIGluIF8pT1tUXT1fW1RdO3JldHVybiBPfXZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihfKXt0aGlzLmtleXM9W10sdGhpcy52YWx1ZXM9W10sdGhpcy5vcHRpb25zPV87dmFyIE89dHlwZW9mIF8uaXNNYXRjaGluZ0tleT09ImZ1bmN0aW9uIjtPP3RoaXMuZ2V0S2V5SW5kZXg9dGhpcy5fZ2V0S2V5SW5kZXhGcm9tTWF0Y2hpbmdLZXk6Xy5tYXhTaXplPjE/dGhpcy5nZXRLZXlJbmRleD10aGlzLl9nZXRLZXlJbmRleEZvck1hbnk6dGhpcy5nZXRLZXlJbmRleD10aGlzLl9nZXRLZXlJbmRleEZvclNpbmdsZSx0aGlzLmNhblRyYW5zZm9ybUtleT10eXBlb2YgXy50cmFuc2Zvcm1LZXk9PSJmdW5jdGlvbiIsdGhpcy5zaG91bGRDbG9uZUFyZ3VtZW50cz10aGlzLmNhblRyYW5zZm9ybUtleXx8Tyx0aGlzLnNob3VsZFVwZGF0ZU9uQWRkPXR5cGVvZiBfLm9uQ2FjaGVBZGQ9PSJmdW5jdGlvbiIsdGhpcy5zaG91bGRVcGRhdGVPbkNoYW5nZT10eXBlb2YgXy5vbkNhY2hlQ2hhbmdlPT0iZnVuY3Rpb24iLHRoaXMuc2hvdWxkVXBkYXRlT25IaXQ9dHlwZW9mIF8ub25DYWNoZUhpdD09ImZ1bmN0aW9uIn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5cy5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGIucHJvdG90eXBlLCJzbmFwc2hvdCIse2dldDpmdW5jdGlvbigpe3JldHVybntrZXlzOmQodGhpcy5rZXlzKSxzaXplOnRoaXMuc2l6ZSx2YWx1ZXM6ZCh0aGlzLnZhbHVlcyl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGIucHJvdG90eXBlLl9nZXRLZXlJbmRleEZyb21NYXRjaGluZ0tleT1mdW5jdGlvbihfKXt2YXIgTz10aGlzLm9wdGlvbnMsVD1PLmlzTWF0Y2hpbmdLZXksUz1PLm1heFNpemUsTj10aGlzLmtleXMsQj1OLmxlbmd0aDtpZighQilyZXR1cm4tMTtpZihUKE5bMF0sXykpcmV0dXJuIDA7aWYoUz4xKXtmb3IodmFyIEw9MTtMPEI7TCsrKWlmKFQoTltMXSxfKSlyZXR1cm4gTH1yZXR1cm4tMX0sYi5wcm90b3R5cGUuX2dldEtleUluZGV4Rm9yTWFueT1mdW5jdGlvbihfKXt2YXIgTz10aGlzLm9wdGlvbnMuaXNFcXVhbCxUPXRoaXMua2V5cyxTPVQubGVuZ3RoO2lmKCFTKXJldHVybi0xO2lmKFM9PT0xKXJldHVybiB0aGlzLl9nZXRLZXlJbmRleEZvclNpbmdsZShfKTt2YXIgTj1fLmxlbmd0aCxCLEw7aWYoTj4xKXtmb3IodmFyIEM9MDtDPFM7QysrKWlmKEI9VFtDXSxCLmxlbmd0aD09PU4pe2ZvcihMPTA7TDxOJiZPKEJbTF0sX1tMXSk7TCsrKTtpZihMPT09TilyZXR1cm4gQ319ZWxzZSBmb3IodmFyIEM9MDtDPFM7QysrKWlmKEI9VFtDXSxCLmxlbmd0aD09PU4mJk8oQlswXSxfWzBdKSlyZXR1cm4gQztyZXR1cm4tMX0sYi5wcm90b3R5cGUuX2dldEtleUluZGV4Rm9yU2luZ2xlPWZ1bmN0aW9uKF8pe3ZhciBPPXRoaXMua2V5cztpZighTy5sZW5ndGgpcmV0dXJuLTE7dmFyIFQ9T1swXSxTPVQubGVuZ3RoO2lmKF8ubGVuZ3RoIT09UylyZXR1cm4tMTt2YXIgTj10aGlzLm9wdGlvbnMuaXNFcXVhbDtpZihTPjEpe2Zvcih2YXIgQj0wO0I8UztCKyspaWYoIU4oVFtCXSxfW0JdKSlyZXR1cm4tMTtyZXR1cm4gMH1yZXR1cm4gTihUWzBdLF9bMF0pPzA6LTF9LGIucHJvdG90eXBlLm9yZGVyQnlMcnU9ZnVuY3Rpb24oXyxPLFQpe2Zvcih2YXIgUz10aGlzLmtleXMsTj10aGlzLnZhbHVlcyxCPVMubGVuZ3RoLEw9VDtMLS07KVNbTCsxXT1TW0xdLE5bTCsxXT1OW0xdO1NbMF09XyxOWzBdPU87dmFyIEM9dGhpcy5vcHRpb25zLm1heFNpemU7Qj09PUMmJlQ9PT1CPyhTLnBvcCgpLE4ucG9wKCkpOlQ+PUMmJihTLmxlbmd0aD1OLmxlbmd0aD1DKX0sYi5wcm90b3R5cGUudXBkYXRlQXN5bmNDYWNoZT1mdW5jdGlvbihfKXt2YXIgTz10aGlzLFQ9dGhpcy5vcHRpb25zLFM9VC5vbkNhY2hlQ2hhbmdlLE49VC5vbkNhY2hlSGl0LEI9dGhpcy5rZXlzWzBdLEw9dGhpcy52YWx1ZXNbMF07dGhpcy52YWx1ZXNbMF09TC50aGVuKGZ1bmN0aW9uKEMpe3JldHVybiBPLnNob3VsZFVwZGF0ZU9uSGl0JiZOKE8sTy5vcHRpb25zLF8pLE8uc2hvdWxkVXBkYXRlT25DaGFuZ2UmJlMoTyxPLm9wdGlvbnMsXyksQ30sZnVuY3Rpb24oQyl7dmFyIGo9Ty5nZXRLZXlJbmRleChCKTt0aHJvdyBqIT09LTEmJihPLmtleXMuc3BsaWNlKGosMSksTy52YWx1ZXMuc3BsaWNlKGosMSkpLEN9KX0sYn0oKTtmdW5jdGlvbiB2KGIsXyl7aWYoXz09PXZvaWQgMCYmKF89e30pLGwoYikpcmV0dXJuIHYoYi5mbixwKGIub3B0aW9ucyxfKSk7aWYodHlwZW9mIGIhPSJmdW5jdGlvbiIpdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhIGZ1bmN0aW9uIHRvIGBtZW1vaXplYC4iKTt2YXIgTz1fLmlzRXF1YWwsVD1PPT09dm9pZCAwP3U6TyxTPV8uaXNNYXRjaGluZ0tleSxOPV8uaXNQcm9taXNlLEI9Tj09PXZvaWQgMD8hMTpOLEw9Xy5tYXhTaXplLEM9TD09PXZvaWQgMD8xOkwsaj1fLm9uQ2FjaGVBZGQsUD1fLm9uQ2FjaGVDaGFuZ2UsRj1fLm9uQ2FjaGVIaXQsaz1fLnRyYW5zZm9ybUtleSxKPXAoe2lzRXF1YWw6VCxpc01hdGNoaW5nS2V5OlMsaXNQcm9taXNlOkIsbWF4U2l6ZTpDLG9uQ2FjaGVBZGQ6aixvbkNhY2hlQ2hhbmdlOlAsb25DYWNoZUhpdDpGLHRyYW5zZm9ybUtleTprfSxoKF8pKSxhZT1uZXcgZyhKKSxYPWFlLmtleXMsRz1hZS52YWx1ZXMscmU9YWUuY2FuVHJhbnNmb3JtS2V5LE09YWUuc2hvdWxkQ2xvbmVBcmd1bWVudHMsJD1hZS5zaG91bGRVcGRhdGVPbkFkZCxVPWFlLnNob3VsZFVwZGF0ZU9uQ2hhbmdlLEg9YWUuc2hvdWxkVXBkYXRlT25IaXQsZWU9ZnVuY3Rpb24oKXt2YXIgZ2U9TT9kKGFyZ3VtZW50cyk6YXJndW1lbnRzO3JlJiYoZ2U9ayhnZSkpO3ZhciBtZT1YLmxlbmd0aD9hZS5nZXRLZXlJbmRleChnZSk6LTE7aWYobWUhPT0tMSlIJiZGKGFlLEosZWUpLG1lJiYoYWUub3JkZXJCeUxydShYW21lXSxHW21lXSxtZSksVSYmUChhZSxKLGVlKSk7ZWxzZXt2YXIgZmU9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyksaGU9TT9nZTpkKGFyZ3VtZW50cyk7YWUub3JkZXJCeUxydShoZSxmZSxYLmxlbmd0aCksQiYmYWUudXBkYXRlQXN5bmNDYWNoZShlZSksJCYmaihhZSxKLGVlKSxVJiZQKGFlLEosZWUpfXJldHVybiBHWzBdfTtyZXR1cm4gZWUuY2FjaGU9YWUsZWUuZm49YixlZS5pc01lbW9pemVkPSEwLGVlLm9wdGlvbnM9SixlZX1yZXR1cm4gdn0pfShtaWNyb01lbW9pemUpKSxtaWNyb01lbW9pemVFeHBvcnRzfXZhciBmYXN0RXF1YWxzRXhwb3J0cz17fSxmYXN0RXF1YWxzPXtnZXQgZXhwb3J0cygpe3JldHVybiBmYXN0RXF1YWxzRXhwb3J0c30sc2V0IGV4cG9ydHModCl7ZmFzdEVxdWFsc0V4cG9ydHM9dH19LGhhc1JlcXVpcmVkRmFzdEVxdWFscztmdW5jdGlvbiByZXF1aXJlRmFzdEVxdWFscygpe3JldHVybiBoYXNSZXF1aXJlZEZhc3RFcXVhbHN8fChoYXNSZXF1aXJlZEZhc3RFcXVhbHM9MSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihuLG8pe28oZSl9KShjb21tb25qc0dsb2JhbCxmdW5jdGlvbihuKXt2YXIgbz10eXBlb2YgV2Vha01hcD09ImZ1bmN0aW9uIixkPU9iamVjdC5rZXlzO2Z1bmN0aW9uIGgoRyxyZSl7cmV0dXJuIEc9PT1yZXx8RyE9PUcmJnJlIT09cmV9ZnVuY3Rpb24gbChHKXtyZXR1cm4gRy5jb25zdHJ1Y3Rvcj09PU9iamVjdHx8Ry5jb25zdHJ1Y3Rvcj09bnVsbH1mdW5jdGlvbiB1KEcpe3JldHVybiEhRyYmdHlwZW9mIEcudGhlbj09ImZ1bmN0aW9uIn1mdW5jdGlvbiBwKEcpe3JldHVybiEhKEcmJkcuJCR0eXBlb2YpfWZ1bmN0aW9uIGcoKXt2YXIgRz1bXTtyZXR1cm57ZGVsZXRlOmZ1bmN0aW9uKHJlKXtmb3IodmFyIE09MDtNPEcubGVuZ3RoOysrTSlpZihHW01dWzBdPT09cmUpe0cuc3BsaWNlKE0sMSk7cmV0dXJufX0sZ2V0OmZ1bmN0aW9uKHJlKXtmb3IodmFyIE09MDtNPEcubGVuZ3RoOysrTSlpZihHW01dWzBdPT09cmUpcmV0dXJuIEdbTV1bMV19LHNldDpmdW5jdGlvbihyZSxNKXtmb3IodmFyICQ9MDskPEcubGVuZ3RoOysrJClpZihHWyRdWzBdPT09cmUpe0dbJF1bMV09TTtyZXR1cm59Ry5wdXNoKFtyZSxNXSl9fX12YXIgdj1mdW5jdGlvbihHKXtyZXR1cm4gRz9mdW5jdGlvbigpe3JldHVybiBuZXcgV2Vha01hcH06Z30obyk7ZnVuY3Rpb24gYihHKXtyZXR1cm4gZnVuY3Rpb24oTSl7dmFyICQ9R3x8TTtyZXR1cm4gZnVuY3Rpb24oSCxlZSxnZSxtZSxmZSxoZSxfZSl7X2U9PT12b2lkIDAmJihfZT12KCkpO3ZhciB4ZT0hIUgmJnR5cGVvZiBIPT0ib2JqZWN0IixSZT0hIWVlJiZ0eXBlb2YgZWU9PSJvYmplY3QiO2lmKHhlIT09UmUpcmV0dXJuITE7aWYoIXhlJiYhUmUpcmV0dXJuICQoSCxlZSxfZSk7dmFyIEllPV9lLmdldChIKTtpZihJZSYmX2UuZ2V0KGVlKSlyZXR1cm4gSWU9PT1lZTtfZS5zZXQoSCxlZSksX2Uuc2V0KGVlLEgpO3ZhciBOZT0kKEgsZWUsX2UpO3JldHVybiBfZS5kZWxldGUoSCksX2UuZGVsZXRlKGVlKSxOZX19fWZ1bmN0aW9uIF8oRyxyZSxNLCQpe3ZhciBVPUcubGVuZ3RoO2lmKHJlLmxlbmd0aCE9PVUpcmV0dXJuITE7Zm9yKDtVLS0gPjA7KWlmKCFNKEdbVV0scmVbVV0sVSxVLEcscmUsJCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gTyhHLHJlLE0sJCl7dmFyIFU9Ry5zaXplPT09cmUuc2l6ZTtpZihVJiZHLnNpemUpe3ZhciBIPXt9LGVlPTA7Ry5mb3JFYWNoKGZ1bmN0aW9uKGdlLG1lKXtpZihVKXt2YXIgZmU9ITEsaGU9MDtyZS5mb3JFYWNoKGZ1bmN0aW9uKF9lLHhlKXshZmUmJiFIW2hlXSYmKGZlPU0obWUseGUsZWUsaGUsRyxyZSwkKSYmTShnZSxfZSxtZSx4ZSxHLHJlLCQpLGZlJiYoSFtoZV09ITApKSxoZSsrfSksZWUrKyxVPWZlfX0pfXJldHVybiBVfXZhciBUPSJfb3duZXIiLFM9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtmdW5jdGlvbiBOKEcscmUsTSwkKXt2YXIgVT1kKEcpLEg9VS5sZW5ndGg7aWYoZChyZSkubGVuZ3RoIT09SClyZXR1cm4hMTtpZihIKWZvcih2YXIgZWU9dm9pZCAwO0gtLSA+MDspe2lmKGVlPVVbSF0sZWU9PT1UKXt2YXIgZ2U9cChHKSxtZT1wKHJlKTtpZigoZ2V8fG1lKSYmZ2UhPT1tZSlyZXR1cm4hMX1pZighUyhyZSxlZSl8fCFNKEdbZWVdLHJlW2VlXSxlZSxlZSxHLHJlLCQpKXJldHVybiExfXJldHVybiEwfXZhciBCPWZ1bmN0aW9uKCl7cmV0dXJuL2Zvby9nLmZsYWdzPT09ImciP2Z1bmN0aW9uKHJlLE0pe3JldHVybiByZS5zb3VyY2U9PT1NLnNvdXJjZSYmcmUuZmxhZ3M9PT1NLmZsYWdzfTpmdW5jdGlvbihyZSxNKXtyZXR1cm4gcmUuc291cmNlPT09TS5zb3VyY2UmJnJlLmdsb2JhbD09PU0uZ2xvYmFsJiZyZS5pZ25vcmVDYXNlPT09TS5pZ25vcmVDYXNlJiZyZS5tdWx0aWxpbmU9PT1NLm11bHRpbGluZSYmcmUudW5pY29kZT09PU0udW5pY29kZSYmcmUuc3RpY2t5PT09TS5zdGlja3kmJnJlLmxhc3RJbmRleD09PU0ubGFzdEluZGV4fX0oKTtmdW5jdGlvbiBMKEcscmUsTSwkKXt2YXIgVT1HLnNpemU9PT1yZS5zaXplO2lmKFUmJkcuc2l6ZSl7dmFyIEg9e307Ry5mb3JFYWNoKGZ1bmN0aW9uKGVlLGdlKXtpZihVKXt2YXIgbWU9ITEsZmU9MDtyZS5mb3JFYWNoKGZ1bmN0aW9uKGhlLF9lKXshbWUmJiFIW2ZlXSYmKG1lPU0oZWUsaGUsZ2UsX2UsRyxyZSwkKSxtZSYmKEhbZmVdPSEwKSksZmUrK30pLFU9bWV9fSl9cmV0dXJuIFV9dmFyIEM9dHlwZW9mIE1hcD09ImZ1bmN0aW9uIixqPXR5cGVvZiBTZXQ9PSJmdW5jdGlvbiIsUD1PYmplY3QucHJvdG90eXBlLnZhbHVlT2Y7ZnVuY3Rpb24gRihHKXt2YXIgcmU9dHlwZW9mIEc9PSJmdW5jdGlvbiI/RyhNKTpmdW5jdGlvbigkLFUsSCxlZSxnZSxtZSxmZSl7cmV0dXJuIE0oJCxVLGZlKX07ZnVuY3Rpb24gTSgkLFUsSCl7aWYoJD09PVUpcmV0dXJuITA7aWYoJCYmVSYmdHlwZW9mICQ9PSJvYmplY3QiJiZ0eXBlb2YgVT09Im9iamVjdCIpe2lmKGwoJCkmJmwoVSkpcmV0dXJuIE4oJCxVLHJlLEgpO3ZhciBlZT1BcnJheS5pc0FycmF5KCQpLGdlPUFycmF5LmlzQXJyYXkoVSk7cmV0dXJuIGVlfHxnZT9lZT09PWdlJiZfKCQsVSxyZSxIKTooZWU9JCBpbnN0YW5jZW9mIERhdGUsZ2U9VSBpbnN0YW5jZW9mIERhdGUsZWV8fGdlP2VlPT09Z2UmJmgoJC5nZXRUaW1lKCksVS5nZXRUaW1lKCkpOihlZT0kIGluc3RhbmNlb2YgUmVnRXhwLGdlPVUgaW5zdGFuY2VvZiBSZWdFeHAsZWV8fGdlP2VlPT09Z2UmJkIoJCxVKTp1KCQpfHx1KFUpPyQ9PT1VOkMmJihlZT0kIGluc3RhbmNlb2YgTWFwLGdlPVUgaW5zdGFuY2VvZiBNYXAsZWV8fGdlKT9lZT09PWdlJiZPKCQsVSxyZSxIKTpqJiYoZWU9JCBpbnN0YW5jZW9mIFNldCxnZT1VIGluc3RhbmNlb2YgU2V0LGVlfHxnZSk/ZWU9PT1nZSYmTCgkLFUscmUsSCk6JC52YWx1ZU9mIT09UHx8VS52YWx1ZU9mIT09UD9oKCQudmFsdWVPZigpLFUudmFsdWVPZigpKTpOKCQsVSxyZSxIKSkpfXJldHVybiAkIT09JCYmVSE9PVV9cmV0dXJuIE19dmFyIGs9RigpLEo9RihmdW5jdGlvbigpe3JldHVybiBofSksYWU9RihiKCkpLFg9RihiKGgpKTtuLmNpcmN1bGFyRGVlcEVxdWFsPWFlLG4uY2lyY3VsYXJTaGFsbG93RXF1YWw9WCxuLmNyZWF0ZUN1c3RvbUVxdWFsPUYsbi5kZWVwRXF1YWw9ayxuLnNhbWVWYWx1ZVplcm9FcXVhbD1oLG4uc2hhbGxvd0VxdWFsPUosT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSl9KGZhc3RFcXVhbHMsZmFzdEVxdWFsc0V4cG9ydHMpKSxmYXN0RXF1YWxzRXhwb3J0c30oZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24obixvKXt0LmV4cG9ydHM9byhyZXF1aXJlTWljcm9NZW1vaXplKCkscmVxdWlyZUZhc3RFcXVhbHMoKSl9KShjb21tb25qc0dsb2JhbCxmdW5jdGlvbihuLG8pe2Z1bmN0aW9uIGQoKXtyZXR1cm4gZD1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKFEpe2Zvcih2YXIgWT0xO1k8YXJndW1lbnRzLmxlbmd0aDtZKyspe3ZhciBpZT1hcmd1bWVudHNbWV07Zm9yKHZhciBzZSBpbiBpZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaWUsc2UpJiYoUVtzZV09aWVbc2VdKX1yZXR1cm4gUX0sZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaChRLFkpe2lmKFE9PW51bGwpcmV0dXJue307dmFyIGllPXt9LHNlPU9iamVjdC5rZXlzKFEpLGxlLG5lO2ZvcihuZT0wO25lPHNlLmxlbmd0aDtuZSsrKWxlPXNlW25lXSwhKFkuaW5kZXhPZihsZSk+PTApJiYoaWVbbGVdPVFbbGVdKTtyZXR1cm4gaWV9dmFyIGw9e2lzRGVlcEVxdWFsOiExLGlzUHJvbWlzZTohMSxpc1JlYWN0OiExLGlzU2VyaWFsaXplZDohMSxpc1NoYWxsb3dFcXVhbDohMSxtYXRjaGVzQXJnOnZvaWQgMCxtYXRjaGVzS2V5OnZvaWQgMCxtYXhBZ2U6dm9pZCAwLG1heEFyZ3M6dm9pZCAwLG1heFNpemU6MSxvbkV4cGlyZTp2b2lkIDAscHJvZmlsZU5hbWU6dm9pZCAwLHNlcmlhbGl6ZXI6dm9pZCAwLHVwZGF0ZUNhY2hlRm9yS2V5OnZvaWQgMCx0cmFuc2Zvcm1BcmdzOnZvaWQgMCx1cGRhdGVFeHBpcmU6ITF9O2Z1bmN0aW9uIHUoKXtmb3IodmFyIFE9YXJndW1lbnRzLmxlbmd0aCxZPW5ldyBBcnJheShRKSxpZT0wO2llPFE7aWUrKylZW2llXT1hcmd1bWVudHNbaWVdO3JldHVybiBZLnJlZHVjZShmdW5jdGlvbihzZSxsZSl7aWYodHlwZW9mIHNlPT0iZnVuY3Rpb24iKXJldHVybiB0eXBlb2YgbGU9PSJmdW5jdGlvbiI/ZnVuY3Rpb24oKXtzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTpzZTtpZih0eXBlb2YgbGU9PSJmdW5jdGlvbiIpcmV0dXJuIGxlfSl9ZnVuY3Rpb24gcCgpe2Zvcih2YXIgUT1hcmd1bWVudHMubGVuZ3RoLFk9bmV3IEFycmF5KFEpLGllPTA7aWU8UTtpZSsrKVlbaWVdPWFyZ3VtZW50c1tpZV07cmV0dXJuIFkucmVkdWNlKGZ1bmN0aW9uKHNlLGxlKXtpZih0eXBlb2Ygc2U9PSJmdW5jdGlvbiIpcmV0dXJuIHR5cGVvZiBsZT09ImZ1bmN0aW9uIj9mdW5jdGlvbigpe3JldHVybiBzZShsZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTpzZTtpZih0eXBlb2YgbGU9PSJmdW5jdGlvbiIpcmV0dXJuIGxlfSl9ZnVuY3Rpb24gZyhRLFkpe2Zvcih2YXIgaWU9MDtpZTxRLmxlbmd0aDtpZSsrKWlmKFFbaWVdLmtleT09PVkpcmV0dXJuIGllO3JldHVybi0xfWZ1bmN0aW9uIHYoUSxZKXt2YXIgaWU9dHlwZW9mIFk9PSJmdW5jdGlvbiI/WTpmdW5jdGlvbihzZSxsZSl7Zm9yKHZhciBuZT0wO25lPGxlLmxlbmd0aDtuZSsrKWlmKCFRKHNlW25lXSxsZVtuZV0pKXJldHVybiExO3JldHVybiEwfTtyZXR1cm4gZnVuY3Rpb24oc2UsbGUpe2Zvcih2YXIgbmU9MDtuZTxzZS5sZW5ndGg7bmUrKylpZihzZVtuZV0ubGVuZ3RoPT09bGUubGVuZ3RoJiZpZShzZVtuZV0sbGUpKXJldHVybiBuZTtyZXR1cm4tMX19ZnVuY3Rpb24gYihRLFkpe3JldHVybiFZfHxZPT09bD9ROmQoe30sUSxZLHtvbkNhY2hlQWRkOnUoUS5vbkNhY2hlQWRkLFkub25DYWNoZUFkZCksb25DYWNoZUNoYW5nZTp1KFEub25DYWNoZUNoYW5nZSxZLm9uQ2FjaGVDaGFuZ2UpLG9uQ2FjaGVIaXQ6dShRLm9uQ2FjaGVIaXQsWS5vbkNhY2hlSGl0KSx0cmFuc2Zvcm1BcmdzOnAoUS50cmFuc2Zvcm1BcmdzLFkudHJhbnNmb3JtQXJncyl9KX1mdW5jdGlvbiBfKFEpe3JldHVybiB0eXBlb2YgUT09ImZ1bmN0aW9uIiYmUS5pc01vaXplZH1mdW5jdGlvbiBPKFEsWSxpZSl7dHJ5e3ZhciBzZT1pZXx8WXx8ImFub255bW91cyI7T2JqZWN0LmRlZmluZVByb3BlcnR5KFEsIm5hbWUiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZToibW9pemVkKCIrc2UrIikiLHdyaXRhYmxlOiEwfSl9Y2F0Y2h7fX1mdW5jdGlvbiBUKFEsWSxpZSl7dmFyIHNlPWcoUSxZKTtzZSE9PS0xJiYoY2xlYXJUaW1lb3V0KFFbc2VdLnRpbWVvdXRJZCksaWUmJlEuc3BsaWNlKHNlLDEpKX1mdW5jdGlvbiBTKFEsWSl7dmFyIGllPXNldFRpbWVvdXQoUSxZKTtyZXR1cm4gdHlwZW9mIGllLnVucmVmPT0iZnVuY3Rpb24iJiZpZS51bnJlZigpLGllfWZ1bmN0aW9uIE4oUSxZLGllLHNlKXt2YXIgbGU9WS5tYXhBZ2U7cmV0dXJuIGZ1bmN0aW9uIG5lKHVlLGRlLHBlKXt2YXIgYmU9dWUua2V5c1swXTtpZihnKFEsYmUpPT09LTEpe3ZhciB3ZT1mdW5jdGlvbigpe3ZhciBJPXYoaWUsc2UpLHc9SSh1ZS5rZXlzLGJlKSxFPXVlLnZhbHVlc1t3XTt+dyYmKHVlLmtleXMuc3BsaWNlKHcsMSksdWUudmFsdWVzLnNwbGljZSh3LDEpLHR5cGVvZiBZLm9uQ2FjaGVDaGFuZ2U9PSJmdW5jdGlvbiImJlkub25DYWNoZUNoYW5nZSh1ZSxkZSxwZSkpLFQoUSxiZSwhMCksdHlwZW9mIFkub25FeHBpcmU9PSJmdW5jdGlvbiImJlkub25FeHBpcmUoYmUpPT09ITEmJih1ZS5rZXlzLnVuc2hpZnQoYmUpLHVlLnZhbHVlcy51bnNoaWZ0KEUpLG5lKHVlLGRlLHBlKSx0eXBlb2YgWS5vbkNhY2hlQ2hhbmdlPT0iZnVuY3Rpb24iJiZZLm9uQ2FjaGVDaGFuZ2UodWUsZGUscGUpKX07US5wdXNoKHtleHBpcmF0aW9uTWV0aG9kOndlLGtleTpiZSx0aW1lb3V0SWQ6Uyh3ZSxsZSl9KX19fWZ1bmN0aW9uIEIoUSxZKXtyZXR1cm4gZnVuY3Rpb24oc2Upe3ZhciBsZT1zZS5rZXlzWzBdLG5lPWcoUSxsZSk7fm5lJiYoVChRLGxlLCExKSxRW25lXS50aW1lb3V0SWQ9UyhRW25lXS5leHBpcmF0aW9uTWV0aG9kLFkubWF4QWdlKSl9fWZ1bmN0aW9uIEwoUSxZLGllLHNlKXt2YXIgbGU9dHlwZW9mIFkubWF4QWdlPT0ibnVtYmVyIiYmaXNGaW5pdGUoWS5tYXhBZ2UpP04oUSxZLGllLHNlKTp2b2lkIDA7cmV0dXJue29uQ2FjaGVBZGQ6bGUsb25DYWNoZUhpdDpsZSYmWS51cGRhdGVFeHBpcmU/QihRLFkpOnZvaWQgMH19dmFyIEM9e2Fub255bW91c1Byb2ZpbGVOYW1lQ291bnRlcjoxLGlzQ29sbGVjdGluZ1N0YXRzOiExLHByb2ZpbGVzOnt9fSxqPSExO2Z1bmN0aW9uIFAoUSl7UT9kZWxldGUgQy5wcm9maWxlc1tRXTpDLnByb2ZpbGVzPXt9fWZ1bmN0aW9uIEYoUSl7UT09PXZvaWQgMCYmKFE9ITApLEMuaXNDb2xsZWN0aW5nU3RhdHM9UX1mdW5jdGlvbiBrKFEpe3ZhciBZPVEucHJvZmlsZU5hbWU7cmV0dXJuIGZ1bmN0aW9uKCl7WSYmIUMucHJvZmlsZXNbWV0mJihDLnByb2ZpbGVzW1ldPXtjYWxsczowLGhpdHM6MH0pLEMucHJvZmlsZXNbWV0uY2FsbHMrK319ZnVuY3Rpb24gSihRKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgWT1DLnByb2ZpbGVzLGllPVEucHJvZmlsZU5hbWU7WVtpZV18fChZW2llXT17Y2FsbHM6MCxoaXRzOjB9KSxZW2llXS5jYWxscysrLFlbaWVdLmhpdHMrK319ZnVuY3Rpb24gYWUoUSl7cmV0dXJuIFEuZGlzcGxheU5hbWV8fFEubmFtZXx8IkFub255bW91cyAiK0MuYW5vbnltb3VzUHJvZmlsZU5hbWVDb3VudGVyKyt9ZnVuY3Rpb24gWChRLFkpe3JldHVybiBRPyhZL1EqMTAwKS50b0ZpeGVkKDQpKyIlIjoiMC4wMDAwJSJ9ZnVuY3Rpb24gRyhRKXshQy5pc0NvbGxlY3RpbmdTdGF0cyYmIWomJihjb25zb2xlLndhcm4oJ1N0YXRzIGFyZSBub3QgY3VycmVudGx5IGJlaW5nIGNvbGxlY3RlZCwgcGxlYXNlIHJ1biAiY29sbGVjdFN0YXRzIiB0byBlbmFibGUgdGhlbS4nKSxqPSEwKTt2YXIgWT1DLnByb2ZpbGVzO2lmKFEpe2lmKCFZW1FdKXJldHVybntjYWxsczowLGhpdHM6MCx1c2FnZToiMC4wMDAwJSJ9O3ZhciBpZT1ZW1FdO3JldHVybiBkKHt9LGllLHt1c2FnZTpYKGllLmNhbGxzLGllLmhpdHMpfSl9dmFyIHNlPU9iamVjdC5rZXlzKEMucHJvZmlsZXMpLnJlZHVjZShmdW5jdGlvbihsZSxuZSl7cmV0dXJuIGxlLmNhbGxzKz1ZW25lXS5jYWxscyxsZS5oaXRzKz1ZW25lXS5oaXRzLGxlfSx7Y2FsbHM6MCxoaXRzOjB9KTtyZXR1cm4gZCh7fSxzZSx7cHJvZmlsZXM6T2JqZWN0LmtleXMoWSkucmVkdWNlKGZ1bmN0aW9uKGxlLG5lKXtyZXR1cm4gbGVbbmVdPUcobmUpLGxlfSx7fSksdXNhZ2U6WChzZS5jYWxscyxzZS5oaXRzKX0pfWZ1bmN0aW9uIHJlKFEpe3JldHVybiBDLmlzQ29sbGVjdGluZ1N0YXRzP3tvbkNhY2hlQWRkOmsoUSksb25DYWNoZUhpdDpKKFEpfTp7fX12YXIgTT17YXJndW1lbnRzOiEwLGNhbGxlZTohMCxjYWxsZXI6ITAsY29uc3RydWN0b3I6ITAsbGVuZ3RoOiEwLG5hbWU6ITAscHJvdG90eXBlOiEwfTtmdW5jdGlvbiAkKFEsWSxpZSl7aWU9PT12b2lkIDAmJihpZT1bXSksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoUSkuZm9yRWFjaChmdW5jdGlvbihzZSl7aWYoIU1bc2VdJiZpZS5pbmRleE9mKHNlKT09PS0xKXt2YXIgbGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihRLHNlKTtsZS5nZXR8fGxlLnNldD9PYmplY3QuZGVmaW5lUHJvcGVydHkoWSxzZSxsZSk6WVtzZV09UVtzZV19fSl9ZnVuY3Rpb24gVShRLFkpe3ZhciBpZT1ZLmV4cGlyYXRpb25zLHNlPVEub3B0aW9ucyxsZT12KHNlLmlzRXF1YWwsc2UuaXNNYXRjaGluZ0tleSksbmU9UTtuZS5jbGVhcj1mdW5jdGlvbigpe3ZhciB1ZT1uZS5fbWljcm9NZW1vaXplT3B0aW9ucy5vbkNhY2hlQ2hhbmdlLGRlPW5lLmNhY2hlO3JldHVybiBkZS5rZXlzLmxlbmd0aD0wLGRlLnZhbHVlcy5sZW5ndGg9MCx1ZSYmdWUoZGUsbmUub3B0aW9ucyxuZSksITB9LG5lLmNsZWFyU3RhdHM9ZnVuY3Rpb24oKXtQKG5lLm9wdGlvbnMucHJvZmlsZU5hbWUpfSxuZS5nZXQ9ZnVuY3Rpb24odWUpe3ZhciBkZT1uZS5fbWljcm9NZW1vaXplT3B0aW9ucy50cmFuc2Zvcm1LZXkscGU9bmUuY2FjaGUsYmU9ZGU/ZGUodWUpOnVlLHdlPWxlKHBlLmtleXMsYmUpO3JldHVybiB3ZSE9PS0xP25lLmFwcGx5KHRoaXMsdWUpOnZvaWQgMH0sbmUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gRyhuZS5vcHRpb25zLnByb2ZpbGVOYW1lKX0sbmUuaGFzPWZ1bmN0aW9uKHVlKXt2YXIgZGU9bmUuX21pY3JvTWVtb2l6ZU9wdGlvbnMudHJhbnNmb3JtS2V5LHBlPWRlP2RlKHVlKTp1ZTtyZXR1cm4gbGUobmUuY2FjaGUua2V5cyxwZSkhPT0tMX0sbmUua2V5cz1mdW5jdGlvbigpe3JldHVybiBuZS5jYWNoZVNuYXBzaG90LmtleXN9LG5lLnJlbW92ZT1mdW5jdGlvbih1ZSl7dmFyIGRlPW5lLl9taWNyb01lbW9pemVPcHRpb25zLHBlPWRlLm9uQ2FjaGVDaGFuZ2UsYmU9ZGUudHJhbnNmb3JtS2V5LHdlPW5lLmNhY2hlLE9lPWxlKHdlLmtleXMsYmU/YmUodWUpOnVlKTtpZihPZT09PS0xKXJldHVybiExO3ZhciBJPXdlLmtleXNbT2VdO3JldHVybiB3ZS5rZXlzLnNwbGljZShPZSwxKSx3ZS52YWx1ZXMuc3BsaWNlKE9lLDEpLHBlJiZwZSh3ZSxuZS5vcHRpb25zLG5lKSxUKGllLEksITApLCEwfSxuZS5zZXQ9ZnVuY3Rpb24odWUsZGUpe3ZhciBwZT1uZS5fbWljcm9NZW1vaXplT3B0aW9ucyxiZT1uZS5jYWNoZSx3ZT1uZS5vcHRpb25zLE9lPXBlLm9uQ2FjaGVBZGQsST1wZS5vbkNhY2hlQ2hhbmdlLHc9cGUudHJhbnNmb3JtS2V5LEU9dz93KHVlKTp1ZSxEPWxlKGJlLmtleXMsRSk7aWYoRD09PS0xKXt2YXIgVj13ZS5tYXhTaXplLTE7YmUuc2l6ZT5WJiYoYmUua2V5cy5sZW5ndGg9VixiZS52YWx1ZXMubGVuZ3RoPVYpLGJlLmtleXMudW5zaGlmdChFKSxiZS52YWx1ZXMudW5zaGlmdChkZSksd2UuaXNQcm9taXNlJiZiZS51cGRhdGVBc3luY0NhY2hlKG5lKSxPZSYmT2UoYmUsd2UsbmUpLEkmJkkoYmUsd2UsbmUpfWVsc2V7dmFyIFo9YmUua2V5c1tEXTtiZS52YWx1ZXNbRF09ZGUsRD4wJiZiZS5vcmRlckJ5THJ1KFosZGUsRCksd2UuaXNQcm9taXNlJiZiZS51cGRhdGVBc3luY0NhY2hlKG5lKSx0eXBlb2YgST09ImZ1bmN0aW9uIiYmSShiZSx3ZSxuZSl9fSxuZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbmUuY2FjaGVTbmFwc2hvdC52YWx1ZXN9fWZ1bmN0aW9uIEgoUSxZKXt2YXIgaWU9WS5leHBpcmF0aW9ucyxzZT1ZLm9wdGlvbnMsbGU9WS5vcmlnaW5hbEZ1bmN0aW9uLG5lPVEub3B0aW9ucztPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRLHtfbWljcm9NZW1vaXplT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuZX19LGNhY2hlU25hcHNob3Q6e2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt2YXIgcGU9US5jYWNoZTtyZXR1cm57a2V5czpwZS5rZXlzLnNsaWNlKDApLHNpemU6cGUuc2l6ZSx2YWx1ZXM6cGUudmFsdWVzLnNsaWNlKDApfX19LGV4cGlyYXRpb25zOntjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGllfX0sZXhwaXJhdGlvbnNTbmFwc2hvdDp7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpZS5zbGljZSgwKX19LGlzTW9pemVkOntjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9fSxvcHRpb25zOntjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHNlfX0sb3JpZ2luYWxGdW5jdGlvbjp7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsZX19fSk7dmFyIHVlPVE7JChsZSx1ZSl9ZnVuY3Rpb24gZWUoUSxZKXtyZXR1cm4gVShRLFkpLEgoUSxZKSxRfXZhciBnZT10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoInJlYWN0LmVsZW1lbnQiKTo2MDEwMztmdW5jdGlvbiBtZShRLFksaWUpe3ZhciBzZT1RKGQoe21heEFyZ3M6Mixpc1NoYWxsb3dFcXVhbDohMH0saWUse2lzUmVhY3Q6ITF9KSk7WS5kaXNwbGF5TmFtZXx8KFkuZGlzcGxheU5hbWU9WS5uYW1lfHwiQ29tcG9uZW50Iik7ZnVuY3Rpb24gbGUobmUsdWUsZGUpe3RoaXMucHJvcHM9bmUsdGhpcy5jb250ZXh0PXVlLHRoaXMudXBkYXRlcj1kZSx0aGlzLk1vaXplZENvbXBvbmVudD1zZShZKX1yZXR1cm4gbGUucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQ9e30sbGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybnskJHR5cGVvZjpnZSx0eXBlOnRoaXMuTW9pemVkQ29tcG9uZW50LHByb3BzOnRoaXMucHJvcHMscmVmOm51bGwsa2V5Om51bGwsX293bmVyOm51bGx9fSwkKFksbGUsWyJjb250ZXh0VHlwZSIsImNvbnRleHRUeXBlcyJdKSxsZS5kaXNwbGF5TmFtZT0iTW9pemVkKCIrKFkuZGlzcGxheU5hbWV8fFkubmFtZXx8IkNvbXBvbmVudCIpKyIpIixPKGxlLFkubmFtZSxpZS5wcm9maWxlTmFtZSksbGV9ZnVuY3Rpb24gZmUoUSl7cmV0dXJuIGZ1bmN0aW9uKFkpe2lmKFE+PVkubGVuZ3RoKXJldHVybiBZO2lmKFE9PT0wKXJldHVybltdO2lmKFE9PT0xKXJldHVybltZWzBdXTtpZihRPT09MilyZXR1cm5bWVswXSxZWzFdXTtpZihRPT09MylyZXR1cm5bWVswXSxZWzFdLFlbMl1dO2Zvcih2YXIgaWU9W10sc2U9MDtzZTxRO3NlKyspaWVbc2VdPVlbc2VdO3JldHVybiBpZX19ZnVuY3Rpb24gaGUoUSxZKXtmb3IodmFyIGllPVEubGVuZ3RoLHNlPTA7c2U8aWU7KytzZSlpZihRW3NlXT09PVkpcmV0dXJuIHNlKzE7cmV0dXJuIDB9ZnVuY3Rpb24gX2UoKXt2YXIgUT1bXSxZPVtdO3JldHVybiBmdW5jdGlvbihzZSxsZSl7dmFyIG5lPXR5cGVvZiBsZTtpZihuZT09PSJmdW5jdGlvbiJ8fG5lPT09InN5bWJvbCIpcmV0dXJuIGxlLnRvU3RyaW5nKCk7aWYodHlwZW9mIGxlPT0ib2JqZWN0Iil7aWYoUS5sZW5ndGgpe3ZhciB1ZT1oZShRLHRoaXMpO3VlPT09MD9RW1EubGVuZ3RoXT10aGlzOihRLnNwbGljZSh1ZSksWS5zcGxpY2UodWUpKSxZW1kubGVuZ3RoXT1zZTt2YXIgZGU9aGUoUSxsZSk7aWYoZGUhPT0wKXJldHVybiJbcmVmPSIrKFkuc2xpY2UoMCxkZSkuam9pbigiLiIpfHwiLiIpKyJdIn1lbHNlIFFbMF09bGUsWVswXT1zZTtyZXR1cm4gbGV9cmV0dXJuIiIrbGV9fWZ1bmN0aW9uIHhlKFEpe3ZhciBZPXR5cGVvZiBRO3JldHVybiBRJiYoWT09PSJvYmplY3QifHxZPT09ImZ1bmN0aW9uIik/SlNPTi5zdHJpbmdpZnkoUSxfZSgpKTpRfWZ1bmN0aW9uIFJlKFEpe2Zvcih2YXIgWT0ifCIsaWU9MDtpZTxRLmxlbmd0aDtpZSsrKVkrPXhlKFFbaWVdKSsifCI7cmV0dXJuW1ldfWZ1bmN0aW9uIEllKFEpe3JldHVybiB0eXBlb2YgUS5zZXJpYWxpemVyPT0iZnVuY3Rpb24iP1Euc2VyaWFsaXplcjpSZX1mdW5jdGlvbiBOZShRLFkpe3JldHVybiBRWzBdPT09WVswXX1mdW5jdGlvbiB2ZShRKXtpZih0eXBlb2YgUT09ImZ1bmN0aW9uIilyZXR1cm4gZnVuY3Rpb24oWSxpZSxzZSl7cmV0dXJuIFEoc2UuY2FjaGUsc2Uub3B0aW9ucyxzZSl9fWZ1bmN0aW9uIENlKFEpe3JldHVybiBRLm1hdGNoZXNBcmd8fFEuaXNEZWVwRXF1YWwmJm8uZGVlcEVxdWFsfHxRLmlzU2hhbGxvd0VxdWFsJiZvLnNoYWxsb3dFcXVhbHx8by5zYW1lVmFsdWVaZXJvRXF1YWx9ZnVuY3Rpb24gTWUoUSl7cmV0dXJuIFEubWF0Y2hlc0tleXx8US5pc1NlcmlhbGl6ZWQmJk5lfHx2b2lkIDB9ZnVuY3Rpb24gVWUoUSl7cmV0dXJuIHAoUS5pc1NlcmlhbGl6ZWQmJkllKFEpLHR5cGVvZiBRLnRyYW5zZm9ybUFyZ3M9PSJmdW5jdGlvbiImJlEudHJhbnNmb3JtQXJncyx0eXBlb2YgUS5tYXhBcmdzPT0ibnVtYmVyIiYmZmUoUS5tYXhBcmdzKSl9ZnVuY3Rpb24gRmUoUSl7dmFyIFk9US5vcHRpb25zLnVwZGF0ZUNhY2hlRm9yS2V5LGllPWZ1bmN0aW9uKCl7Zm9yKHZhciBsZT1hcmd1bWVudHMubGVuZ3RoLG5lPW5ldyBBcnJheShsZSksdWU9MDt1ZTxsZTt1ZSsrKW5lW3VlXT1hcmd1bWVudHNbdWVdO2lmKCFZKG5lKSlyZXR1cm4gUS5hcHBseSh0aGlzLG5lKTt2YXIgZGU9US5mbi5hcHBseSh0aGlzLG5lKTtyZXR1cm4gUS5zZXQobmUsZGUpLGRlfTtyZXR1cm4gJChRLGllKSxpZX12YXIgJGU9WyJtYXRjaGVzQXJnIiwiaXNEZWVwRXF1YWwiLCJpc1Byb21pc2UiLCJpc1JlYWN0IiwiaXNTZXJpYWxpemVkIiwiaXNTaGFsbG93RXF1YWwiLCJtYXRjaGVzS2V5IiwibWF4QWdlIiwibWF4QXJncyIsIm1heFNpemUiLCJvbkNhY2hlQWRkIiwib25DYWNoZUNoYW5nZSIsIm9uQ2FjaGVIaXQiLCJvbkV4cGlyZSIsInByb2ZpbGVOYW1lIiwic2VyaWFsaXplciIsInVwZGF0ZUNhY2hlRm9yS2V5IiwidHJhbnNmb3JtQXJncyIsInVwZGF0ZUV4cGlyZSJdLHE9ZnVuY3Rpb24gUShZLGllKXt2YXIgc2U9aWV8fGw7aWYoXyhZKSl7dmFyIGxlPVkub3JpZ2luYWxGdW5jdGlvbixuZT1iKFkub3B0aW9ucyxzZSk7cmV0dXJuIFEobGUsbmUpfWlmKHR5cGVvZiBZPT0ib2JqZWN0IilyZXR1cm4gZnVuY3Rpb24oTGUsS2Upe2lmKHR5cGVvZiBMZT09ImZ1bmN0aW9uIil7dmFyIEplPWIoWSxLZSk7cmV0dXJuIFEoTGUsSmUpfXZhciB6dD1iKFksTGUpO3JldHVybiBRKHp0KX07aWYoc2UuaXNSZWFjdClyZXR1cm4gbWUoUSxZLHNlKTt2YXIgdWU9ZCh7fSxsLHNlLHttYXhBZ2U6dHlwZW9mIHNlLm1heEFnZT09Im51bWJlciImJnNlLm1heEFnZT49MD9zZS5tYXhBZ2U6bC5tYXhBZ2UsbWF4QXJnczp0eXBlb2Ygc2UubWF4QXJncz09Im51bWJlciImJnNlLm1heEFyZ3M+PTA/c2UubWF4QXJnczpsLm1heEFyZ3MsbWF4U2l6ZTp0eXBlb2Ygc2UubWF4U2l6ZT09Im51bWJlciImJnNlLm1heFNpemU+PTA/c2UubWF4U2l6ZTpsLm1heFNpemUscHJvZmlsZU5hbWU6c2UucHJvZmlsZU5hbWV8fGFlKFkpfSksZGU9W107dWUubWF0Y2hlc0FyZyx1ZS5pc0RlZXBFcXVhbDt2YXIgcGU9dWUuaXNQcm9taXNlO3VlLmlzUmVhY3QsdWUuaXNTZXJpYWxpemVkLHVlLmlzU2hhbGxvd0VxdWFsLHVlLm1hdGNoZXNLZXksdWUubWF4QWdlLHVlLm1heEFyZ3M7dmFyIGJlPXVlLm1heFNpemUsd2U9dWUub25DYWNoZUFkZCxPZT11ZS5vbkNhY2hlQ2hhbmdlLEk9dWUub25DYWNoZUhpdDt1ZS5vbkV4cGlyZSx1ZS5wcm9maWxlTmFtZSx1ZS5zZXJpYWxpemVyO3ZhciB3PXVlLnVwZGF0ZUNhY2hlRm9yS2V5O3VlLnRyYW5zZm9ybUFyZ3MsdWUudXBkYXRlRXhwaXJlO3ZhciBFPWgodWUsJGUpLEQ9Q2UodWUpLFY9TWUodWUpLFo9TChkZSx1ZSxELFYpLGNlPXJlKHVlKSxTZT1VZSh1ZSksa2U9ZCh7fSxFLHtpc0VxdWFsOkQsaXNNYXRjaGluZ0tleTpWLGlzUHJvbWlzZTpwZSxtYXhTaXplOmJlLG9uQ2FjaGVBZGQ6dmUodSh3ZSxaLm9uQ2FjaGVBZGQsY2Uub25DYWNoZUFkZCkpLG9uQ2FjaGVDaGFuZ2U6dmUoT2UpLG9uQ2FjaGVIaXQ6dmUodShJLFoub25DYWNoZUhpdCxjZS5vbkNhY2hlSGl0KSksdHJhbnNmb3JtS2V5OlNlfSksQmU9bihZLGtlKSxEZT1lZShCZSx7ZXhwaXJhdGlvbnM6ZGUsb3B0aW9uczp1ZSxvcmlnaW5hbEZ1bmN0aW9uOll9KTtyZXR1cm4gdyYmKERlPUZlKERlKSksTyhEZSxZLm5hbWUsc2UucHJvZmlsZU5hbWUpLERlfTtxLmNsZWFyU3RhdHM9UCxxLmNvbGxlY3RTdGF0cz1GLHEuY29tcG9zZT1mdW5jdGlvbigpe3JldHVybiBwLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfHxxfSxxLmRlZXA9cSh7aXNEZWVwRXF1YWw6ITB9KSxxLmdldFN0YXRzPUcscS5pbmZpbml0ZT1xKHttYXhTaXplOjEvMH0pLHEuaXNDb2xsZWN0aW5nU3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gQy5pc0NvbGxlY3RpbmdTdGF0c30scS5pc01vaXplZD1mdW5jdGlvbihZKXtyZXR1cm4gdHlwZW9mIFk9PSJmdW5jdGlvbiImJiEhWS5pc01vaXplZH0scS5tYXRjaGVzQXJnPWZ1bmN0aW9uKFEpe3JldHVybiBxKHttYXRjaGVzQXJnOlF9KX0scS5tYXRjaGVzS2V5PWZ1bmN0aW9uKFEpe3JldHVybiBxKHttYXRjaGVzS2V5OlF9KX07ZnVuY3Rpb24gb2UoUSxZKXtpZihZPT09ITApcmV0dXJuIHEoe21heEFnZTpRLHVwZGF0ZUV4cGlyZTpZfSk7aWYodHlwZW9mIFk9PSJvYmplY3QiKXt2YXIgaWU9WS5vbkV4cGlyZSxzZT1ZLnVwZGF0ZUV4cGlyZTtyZXR1cm4gcSh7bWF4QWdlOlEsb25FeHBpcmU6aWUsdXBkYXRlRXhwaXJlOnNlfSl9cmV0dXJuIHEodHlwZW9mIFk9PSJmdW5jdGlvbiI/e21heEFnZTpRLG9uRXhwaXJlOlksdXBkYXRlRXhwaXJlOiEwfTp7bWF4QWdlOlF9KX1yZXR1cm4gcS5tYXhBZ2U9b2UscS5tYXhBcmdzPWZ1bmN0aW9uKFEpe3JldHVybiBxKHttYXhBcmdzOlF9KX0scS5tYXhTaXplPWZ1bmN0aW9uKFEpe3JldHVybiBxKHttYXhTaXplOlF9KX0scS5wcm9maWxlPWZ1bmN0aW9uKFEpe3JldHVybiBxKHtwcm9maWxlTmFtZTpRfSl9LHEucHJvbWlzZT1xKHtpc1Byb21pc2U6ITAsdXBkYXRlRXhwaXJlOiEwfSkscS5yZWFjdD1xKHtpc1JlYWN0OiEwfSkscS5zZXJpYWxpemU9cSh7aXNTZXJpYWxpemVkOiEwfSkscS5zZXJpYWxpemVXaXRoPWZ1bmN0aW9uKFEpe3JldHVybiBxKHtpc1NlcmlhbGl6ZWQ6ITAsc2VyaWFsaXplcjpRfSl9LHEuc2hhbGxvdz1xKHtpc1NoYWxsb3dFcXVhbDohMH0pLHEudHJhbnNmb3JtQXJncz1mdW5jdGlvbihRKXtyZXR1cm4gcSh7dHJhbnNmb3JtQXJnczpRfSl9LHEudXBkYXRlQ2FjaGVGb3JLZXk9ZnVuY3Rpb24oUSl7cmV0dXJuIHEoe3VwZGF0ZUNhY2hlRm9yS2V5OlF9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHEsImRlZmF1bHQiLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMSx2YWx1ZTpxLHdyaXRhYmxlOiExfSkscX0pfSkobW9pemUkMSk7dmFyIG1vaXplPW1vaXplRXhwb3J0cyxBUlJBWV9UWVBFPXR5cGVvZiBGbG9hdDMyQXJyYXk8InUiP0Zsb2F0MzJBcnJheTpBcnJheTtNYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9YXJndW1lbnRzLmxlbmd0aDtlLS07KXQrPWFyZ3VtZW50c1tlXSphcmd1bWVudHNbZV07cmV0dXJuIE1hdGguc3FydCh0KX0pO2Z1bmN0aW9uIGNyZWF0ZSQxKCl7dmFyIHQ9bmV3IEFSUkFZX1RZUEUoMTYpO3JldHVybiBBUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTApLHRbMF09MSx0WzVdPTEsdFsxMF09MSx0WzE1XT0xLHR9ZnVuY3Rpb24gZnJvbVZhbHVlcyQxKHQsZSxuLG8sZCxoLGwsdSxwLGcsdixiLF8sTyxULFMpe3ZhciBOPW5ldyBBUlJBWV9UWVBFKDE2KTtyZXR1cm4gTlswXT10LE5bMV09ZSxOWzJdPW4sTlszXT1vLE5bNF09ZCxOWzVdPWgsTls2XT1sLE5bN109dSxOWzhdPXAsTls5XT1nLE5bMTBdPXYsTlsxMV09YixOWzEyXT1fLE5bMTNdPU8sTlsxNF09VCxOWzE1XT1TLE59ZnVuY3Rpb24gbXVsdGlwbHkodCxlLG4pe3ZhciBvPWVbMF0sZD1lWzFdLGg9ZVsyXSxsPWVbM10sdT1lWzRdLHA9ZVs1XSxnPWVbNl0sdj1lWzddLGI9ZVs4XSxfPWVbOV0sTz1lWzEwXSxUPWVbMTFdLFM9ZVsxMl0sTj1lWzEzXSxCPWVbMTRdLEw9ZVsxNV0sQz1uWzBdLGo9blsxXSxQPW5bMl0sRj1uWzNdO3JldHVybiB0WzBdPUMqbytqKnUrUCpiK0YqUyx0WzFdPUMqZCtqKnArUCpfK0YqTix0WzJdPUMqaCtqKmcrUCpPK0YqQix0WzNdPUMqbCtqKnYrUCpUK0YqTCxDPW5bNF0saj1uWzVdLFA9bls2XSxGPW5bN10sdFs0XT1DKm8raip1K1AqYitGKlMsdFs1XT1DKmQraipwK1AqXytGKk4sdFs2XT1DKmgraipnK1AqTytGKkIsdFs3XT1DKmwraip2K1AqVCtGKkwsQz1uWzhdLGo9bls5XSxQPW5bMTBdLEY9blsxMV0sdFs4XT1DKm8raip1K1AqYitGKlMsdFs5XT1DKmQraipwK1AqXytGKk4sdFsxMF09QypoK2oqZytQKk8rRipCLHRbMTFdPUMqbCtqKnYrUCpUK0YqTCxDPW5bMTJdLGo9blsxM10sUD1uWzE0XSxGPW5bMTVdLHRbMTJdPUMqbytqKnUrUCpiK0YqUyx0WzEzXT1DKmQraipwK1AqXytGKk4sdFsxNF09QypoK2oqZytQKk8rRipCLHRbMTVdPUMqbCtqKnYrUCpUK0YqTCx0fWZ1bmN0aW9uIGNyZWF0ZSgpe3ZhciB0PW5ldyBBUlJBWV9UWVBFKDQpO3JldHVybiBBUlJBWV9UWVBFIT1GbG9hdDMyQXJyYXkmJih0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTApLHR9ZnVuY3Rpb24gZnJvbVZhbHVlcyh0LGUsbixvKXt2YXIgZD1uZXcgQVJSQVlfVFlQRSg0KTtyZXR1cm4gZFswXT10LGRbMV09ZSxkWzJdPW4sZFszXT1vLGR9ZnVuY3Rpb24gc2NhbGUodCxlLG4pe3JldHVybiB0WzBdPWVbMF0qbix0WzFdPWVbMV0qbix0WzJdPWVbMl0qbix0WzNdPWVbM10qbix0fWZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQodCxlLG4pe3ZhciBvPWVbMF0sZD1lWzFdLGg9ZVsyXSxsPWVbM107cmV0dXJuIHRbMF09blswXSpvK25bNF0qZCtuWzhdKmgrblsxMl0qbCx0WzFdPW5bMV0qbytuWzVdKmQrbls5XSpoK25bMTNdKmwsdFsyXT1uWzJdKm8rbls2XSpkK25bMTBdKmgrblsxNF0qbCx0WzNdPW5bM10qbytuWzddKmQrblsxMV0qaCtuWzE1XSpsLHR9KGZ1bmN0aW9uKCl7dmFyIHQ9Y3JlYXRlKCk7cmV0dXJuIGZ1bmN0aW9uKGUsbixvLGQsaCxsKXt2YXIgdSxwO2ZvcihufHwobj00KSxvfHwobz0wKSxkP3A9TWF0aC5taW4oZCpuK28sZS5sZW5ndGgpOnA9ZS5sZW5ndGgsdT1vO3U8cDt1Kz1uKXRbMF09ZVt1XSx0WzFdPWVbdSsxXSx0WzJdPWVbdSsyXSx0WzNdPWVbdSszXSxoKHQsdCxsKSxlW3VdPXRbMF0sZVt1KzFdPXRbMV0sZVt1KzJdPXRbMl0sZVt1KzNdPXRbM107cmV0dXJuIGV9fSkoKTtjbGFzcyBTcHJpbmdEYW1wZXJ7Y29uc3RydWN0b3IoZSxuPTE1LG89MTUpe3RoaXMudGFyZ2V0PWUsdGhpcy5zdGlmZm5lc3M9bix0aGlzLmRhbXBpbmc9byx0aGlzLnZlbG9jaXR5PXRoaXMuX2luaXRpYWxpemVWZWxvY2l0eShlKSx0aGlzLmFuaW1hdGlvbkZyYW1lSWQ9bnVsbCx0aGlzLmN1cnJlbnRWYWx1ZXM9dGhpcy5fY2xvbmUoZSksdGhpcy5wYXVzZWQ9ITEsdGhpcy5sb2dnaW5nPSExfV9pbml0aWFsaXplVmVsb2NpdHkoZSl7aWYodHlwZW9mIGU9PSJudW1iZXIiKXJldHVybiAwO2lmKEFycmF5LmlzQXJyYXkoZSl8fEFycmF5QnVmZmVyLmlzVmlldyhlKSlyZXR1cm4gZS5tYXAoKCk9PjApO3tjb25zdCBuPXt9O2Zvcihjb25zdCBvIGluIGUpbltvXT0wO3JldHVybiBufX1fY2xvbmUoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/Wy4uLmVdOkFycmF5QnVmZmVyLmlzVmlldyhlKT9lLnNsaWNlKCk6dHlwZW9mIGU9PSJvYmplY3QiP3suLi5lfTplfXVwZGF0ZVRhcmdldChlKXt0aGlzLnRhcmdldD1lfXVwZGF0ZUluaXRpYWxWYWx1ZXMoZSl7dGhpcy5jdXJyZW50VmFsdWVzPXRoaXMuX2Nsb25lKGUpfV9pbnRlcnBvbGF0ZVNwcmluZyhlLG4sbyxkLGgsbCl7Y29uc3QgdT1uLWUscD1kKnUsZz0taCpvLHY9cCtnLGI9byt2Kmw7cmV0dXJue25ld0N1cnJlbnRWYWx1ZTplK2IqbCxuZXdWZWxvY2l0eTpifX1zdGVwKGUpe2lmKHRoaXMucGF1c2VkKXJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZXM7Y29uc3Qgbj0obyxkLGgpPT50aGlzLl9pbnRlcnBvbGF0ZVNwcmluZyhvLGQsaCx0aGlzLnN0aWZmbmVzcyx0aGlzLmRhbXBpbmcsZSk7aWYodHlwZW9mIHRoaXMudGFyZ2V0PT0ibnVtYmVyIil7Y29uc3R7bmV3Q3VycmVudFZhbHVlOm8sbmV3VmVsb2NpdHk6ZH09bih0aGlzLmN1cnJlbnRWYWx1ZXMsdGhpcy50YXJnZXQsdGhpcy52ZWxvY2l0eSk7dGhpcy5jdXJyZW50VmFsdWVzPW8sdGhpcy52ZWxvY2l0eT1kfWVsc2UgaWYoQXJyYXkuaXNBcnJheSh0aGlzLnRhcmdldCl8fEFycmF5QnVmZmVyLmlzVmlldyh0aGlzLnRhcmdldCkpZm9yKGxldCBvPTA7bzx0aGlzLnRhcmdldC5sZW5ndGg7bysrKXtjb25zdHtuZXdDdXJyZW50VmFsdWU6ZCxuZXdWZWxvY2l0eTpofT1uKHRoaXMuY3VycmVudFZhbHVlc1tvXSx0aGlzLnRhcmdldFtvXSx0aGlzLnZlbG9jaXR5W29dKTt0aGlzLmN1cnJlbnRWYWx1ZXNbb109ZCx0aGlzLnZlbG9jaXR5W29dPWh9ZWxzZSBmb3IoY29uc3QgbyBpbiB0aGlzLnRhcmdldCl7Y29uc3R7bmV3Q3VycmVudFZhbHVlOmQsbmV3VmVsb2NpdHk6aH09bih0aGlzLmN1cnJlbnRWYWx1ZXNbb10sdGhpcy50YXJnZXRbb10sdGhpcy52ZWxvY2l0eVtvXSk7dGhpcy5jdXJyZW50VmFsdWVzW29dPWQsdGhpcy52ZWxvY2l0eVtvXT1ofXJldHVybiB0aGlzLmN1cnJlbnRWYWx1ZXN9YW5pbWF0ZShlKXtjb25zb2xlLmxvZygiYW5pbWF0aW5nLi4uIix0aGlzLnRhcmdldCx0aGlzKTtjb25zdCBuPTEvNjAsbz0oKT0+e3RoaXMubG9nZ2luZyYmY29uc29sZS5sb2coImxvb3Bpbmcgc3ByaW5nLi4uIix0aGlzLnRhcmdldCx0aGlzKTtjb25zdCBkPXRoaXMuc3RlcChuKTtlKGQpLHRoaXMuYW5pbWF0aW9uRnJhbWVJZD1yYWZFeHBvcnRzKG8pfTt0aGlzLnN0b3AoKSx0aGlzLmFuaW1hdGlvbkZyYW1lSWQ9cmFmRXhwb3J0cyhvKX1wYXVzZSgpe3RoaXMucGF1c2VkPSEwfXJlc3VtZSgpe3RoaXMucGF1c2VkPSExfXN0b3AoKXtyYWZFeHBvcnRzLmNhbmNlbCh0aGlzLmFuaW1hdGlvbkZyYW1lSWQpfX1tb2l6ZSgodCxlKT0+e2xldCBuPSExLG8sZD1uZXcgUHJvbWlzZSh1PT57bz11fSk7cmV0dXJue3NldDp1PT57bj9kPXU6KG49ITAsbyh1KSl9LGdldDooKT0+ZH19LHttYXhTaXplOjEvMH0pO2NvbnN0IHN0YXRlPW1vaXplLm1heEFyZ3MoMikoKHQsZSxuPSgpPT57fSk9PntsZXQgbztyZXR1cm57c2V0Omw9PntvPWx9LGdldDooKT0+KG89PT12b2lkIDAmJihvPW4oKSksbyl9fSx7bWF4U2l6ZToxLzB9KSxnZXRHbG9iYWxDYW1lcmE9bW9pemUuaW5maW5pdGUodD0+aW5lcnRpYWxUdXJudGFibGVDYW1lcmEoe3BhbkRlY2F5VGltZToyMDAsem9vbURlY2F5VGltZToyMDAscm90YXRpb25EZWNheVRpbWU6NTAwLGRpc3RhbmNlOjJlM30pKSxnZXRPcnRob2dyYXBoaWNDYW1lcmE9bW9pemUuaW5maW5pdGUoKHQsZSk9PmluZXJ0aWFsVHVybnRhYmxlQ2FtZXJhKHtwaGk6TWF0aC5QSS80LHRoZXRhOk1hdGguUEkvNCxkaXN0YW5jZToyMDAsY2VudGVyOlswLDAsMF0sZm92WTouMDEzODg4ODg4ODg4ODg4ODg4KihNYXRoLlBJLzIpLG5lYXI6MixmYXI6NDAwfSkpLHVwZGF0ZUNhbWVyYXM9KHQsZSxuLG8pPT57Y29uc3QgZD1nZXRHbG9iYWxDYW1lcmEodCksaD17bmVhcjpkLnBhcmFtcy5kaXN0YW5jZSouMSxmYXI6ZC5wYXJhbXMuZGlzdGFuY2UqNWU0fTtkLnJlc2l6ZShuL28pLGQudGljayh7Zm92WTpNYXRoLlBJLzMsLi4uaH0pO2NvbnN0IGw9Z2V0T3J0aG9ncmFwaGljQ2FtZXJhKHQsInpvb21lZCIpO2wucGFyYW1zLmRpc3RhbmNlPWQucGFyYW1zLmRpc3RhbmNlLGwucGFyYW1zLmNlbnRlcj1bMCwwLDBdLGwucmVzaXplKG4vbyksbC50aWNrKGgpO2NvbnN0IHU9Z2V0T3J0aG9ncmFwaGljQ2FtZXJhKHQsImZpeGVkIik7dS5yZXNpemUobi9vKSx1LnRpY2soe25lYXI6dS5wYXJhbXMuZGlzdGFuY2UqLjEsZmFyOnUucGFyYW1zLmRpc3RhbmNlKjFlNH0pO2NvbnN0IHA9bmV3IEZsb2F0MzJBcnJheShkLnN0YXRlLnByb2plY3Rpb24pLGc9bmV3IEZsb2F0MzJBcnJheShkLnN0YXRlLnZpZXcpLHY9bmV3IEZsb2F0MzJBcnJheShsLnN0YXRlLnByb2plY3Rpb24pLGI9bmV3IEZsb2F0MzJBcnJheShsLnN0YXRlLnZpZXcpLF89bmV3IEZsb2F0MzJBcnJheSh1LnN0YXRlLnByb2plY3Rpb24pLE89bmV3IEZsb2F0MzJBcnJheSh1LnN0YXRlLnZpZXcpLFQ9bmV3IEZsb2F0MzJBcnJheShbZC5wYXJhbXMuZGlzdGFuY2UsZC5wYXJhbXMucm90YXRpb25DZW50ZXJbMF0sZC5wYXJhbXMucm90YXRpb25DZW50ZXJbMV0sZC5wYXJhbXMucm90YXRpb25DZW50ZXJbMl0sZC5wYXJhbXMuY2VudGVyWzBdLGQucGFyYW1zLmNlbnRlclsxXSxkLnBhcmFtcy5jZW50ZXJbMl0sZC5wYXJhbXMucGhpLGQucGFyYW1zLnRoZXRhXSk7ZSh0cmFuc2ZlcihwLFtwLmJ1ZmZlcl0pLHRyYW5zZmVyKGcsW2cuYnVmZmVyXSksdHJhbnNmZXIodixbdi5idWZmZXJdKSx0cmFuc2ZlcihiLFtiLmJ1ZmZlcl0pLHRyYW5zZmVyKF8sW18uYnVmZmVyXSksdHJhbnNmZXIoTyxbTy5idWZmZXJdKSx0cmFuc2ZlcihULFtULmJ1ZmZlcl0pKX0sZ2V0Q2VudGVyU3ByaW5nRGFtcGVyPXQ9PnN0YXRlKHQsImNlbnRlclNwcmluZ0RhbXBlciIsKCk9Pm5ldyBTcHJpbmdEYW1wZXIoZ2V0R2xvYmFsQ2FtZXJhKHQpLnBhcmFtcy5jZW50ZXIpKS5nZXQoKSxjZW50ZXJVcGRhdGU9Y3VycnkoKHQsZSk9Pntjb25zdCBuPWdldEdsb2JhbENhbWVyYSh0KTtuLnBhcmFtcy5jZW50ZXI9ZX0pLHN0YXJ0Q2VudGVyU3ByaW5nPWRlYm91bmNlKHQ9Pntjb25zb2xlLmRlYnVnKCJzdGFydGluZyBjZW50ZXIgc3ByaW5nIGZvciIsdCk7Y29uc3QgZT1nZXRHbG9iYWxDYW1lcmEodCksbj1nZXRDZW50ZXJTcHJpbmdEYW1wZXIodCk7bi51cGRhdGVJbml0aWFsVmFsdWVzKGUucGFyYW1zLmNlbnRlciksbi5hbmltYXRlKGNlbnRlclVwZGF0ZSh0KSl9LDEwMCksc2V0Q2FtZXJhQ2VudGVyPSh0LGUsbj0zZTMpPT57Y29uc29sZS5kZWJ1Zygic2V0Q2FtZXJhQ2VudGVyLCB1cGRhdGluZyB0YXJnZXQiLFsuLi5lXSk7Y29uc3Qgbz1nZXRHbG9iYWxDYW1lcmEodCksZD1nZXRDZW50ZXJTcHJpbmdEYW1wZXIodCk7by5wYXJhbXMucm90YXRpb25DZW50ZXI9ZSxkLnVwZGF0ZVRhcmdldChlKSxzdGFydENlbnRlclNwcmluZyh0KX0sZ2V0RGlzdGFuY2VTcHJpbmdEYW1wZXI9dD0+c3RhdGUodCwiZGlzdGFuY2VTcHJpbmdEYW1wZXIiLCgpPT5uZXcgU3ByaW5nRGFtcGVyKGdldEdsb2JhbENhbWVyYSh0KS5wYXJhbXMuZGlzdGFuY2UpKS5nZXQoKSxkaXN0YW5jZVVwZGF0ZT0odCxlKT0+e2NvbnN0IG49Z2V0R2xvYmFsQ2FtZXJhKHQpO24ucGFyYW1zLmRpc3RhbmNlPWV9LHN0YXJ0RGlzdGFuY2VTcHJpbmc9ZGVib3VuY2UodD0+e2NvbnN0IGU9Z2V0R2xvYmFsQ2FtZXJhKHQpLG49Z2V0RGlzdGFuY2VTcHJpbmdEYW1wZXIodCk7bi51cGRhdGVUYXJnZXQoZS5wYXJhbXMuZGlzdGFuY2UpLG4udXBkYXRlSW5pdGlhbFZhbHVlcyhlLnBhcmFtcy5kaXN0YW5jZSksbi5hbmltYXRlKGRpc3RhbmNlVXBkYXRlKX0sMTAwKSxzZXRDYW1lcmFEaXN0YW5jZT0odCxlLG49NWUzKT0+e2dldERpc3RhbmNlU3ByaW5nRGFtcGVyKHQpLnVwZGF0ZVRhcmdldChlKX0sc3RhcnRDYW1lcmFBbmltYXRpb249dD0+e3N0YXJ0Q2VudGVyU3ByaW5nKHQpLHN0YXJ0RGlzdGFuY2VTcHJpbmcodCl9LGdldENhbWVyYUFuaW1hdGlvblN0YXRlPXQ9PnN0YXRlKHQsImNhbWVyYUFuaW1hdGlvblN0YXRlIiwoKT0+KHtwYW5uaW5nOiExLHpvb21pbmc6ITF9KSkuZ2V0KCksc3RhcnRQYW5uaW5nPXQ9Pntjb25zdCBlPWdldENhbWVyYUFuaW1hdGlvblN0YXRlKHQpO2UucGFubmluZz0hMCxnZXRDZW50ZXJTcHJpbmdEYW1wZXIodCkuc3RvcCgpfSxzdG9wUGFubmluZz10PT57Y29uc3QgZT1nZXRDYW1lcmFBbmltYXRpb25TdGF0ZSh0KTtlLnBhbm5pbmc9ITF9LHN0YXJ0Wm9vbWluZz10PT57Y29uc3QgZT1nZXRDYW1lcmFBbmltYXRpb25TdGF0ZSh0KTtlLnpvb21pbmc9ITAsZ2V0RGlzdGFuY2VTcHJpbmdEYW1wZXIodCkuc3RvcCgpfSxzdG9wWm9vbWluZz10PT57Y29uc3QgZT1nZXRDYW1lcmFBbmltYXRpb25TdGF0ZSh0KTtlLnpvb21pbmc9ITEsc3RhcnREaXN0YW5jZVNwcmluZyh0KX0sem9vbUdsb2JhbENhbWVyYT0odCxlLG4sbyk9Pntjb25zdCBkPWdldEdsb2JhbENhbWVyYSh0KTsoZC5wYXJhbXMuZGlzdGFuY2U+MjV8fG8+MCkmJmQuem9vbShlLG4sbyl9LHBhbkdsb2JhbENhbWVyYT0odCwuLi5lKT0+e2dldEdsb2JhbENhbWVyYSh0KS5wYW4oLi4uZSl9LGdldEdsb2JhbENhbWVyYVBhcmFtcz10PT5nZXRHbG9iYWxDYW1lcmEodCkucGFyYW1zLGNvbXB1dGVTY3JlZW5Qb3NpdGlvbj0odCxbZSxuLG9dKT0+e2NvbnN0e3Byb2plY3Rpb246ZCx2aWV3Omh9PWdldEdsb2JhbENhbWVyYSh0KS5zdGF0ZSxsPWZyb21WYWx1ZXMoZSxuLG8sMSksdT1jcmVhdGUoKSxwPWNyZWF0ZSgpLGc9ZnJvbVZhbHVlcyQxKC4uLmQpLHY9ZnJvbVZhbHVlcyQxKC4uLmgpLGI9Y3JlYXRlJDEoKTtyZXR1cm4gbXVsdGlwbHkoYixnLHYpLHRyYW5zZm9ybU1hdDQodSxsLGIpLHNjYWxlKHAsdSwxL3VbM10pLFtwWzBdLHBbMV0scFsyXV19O3ZhciBjYW1lcmFBbmltYXRpb249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY29tcHV0ZVNjcmVlblBvc2l0aW9uLGdldEdsb2JhbENhbWVyYSxnZXRHbG9iYWxDYW1lcmFQYXJhbXMscGFuR2xvYmFsQ2FtZXJhLHNldENhbWVyYUNlbnRlcixzZXRDYW1lcmFEaXN0YW5jZSxzdGFydENhbWVyYUFuaW1hdGlvbixzdGFydFBhbm5pbmcsc3RhcnRab29taW5nLHN0b3BQYW5uaW5nLHN0b3Bab29taW5nLHVwZGF0ZUNhbWVyYXMsem9vbUdsb2JhbENhbWVyYX0pO2V4cG9zZSQxKHsuLi5kYiwuLi5sYXlvdXQsLi4uY2FtZXJhQW5pbWF0aW9ufSk7Cg==",blob=typeof window<"u"&&window.Blob&&new Blob([atob(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(){let X;try{if(X=blob&&(window.URL||window.webkitURL).createObjectURL(blob),!X)throw"";return new Worker(X)}catch{return new Worker("data:application/javascript;base64,"+encodedJs,{type:"module"})}finally{X&&(window.URL||window.webkitURL).revokeObjectURL(X)}}var abstractLevel$1={},abstractLevel={},levelSupports={};levelSupports.supports=function(...Z){const G=Z.reduce((W,F)=>Object.assign(W,F),{});return Object.assign(G,{snapshots:G.snapshots||!1,permanence:G.permanence||!1,seek:G.seek||!1,clear:G.clear||!1,getMany:G.getMany||!1,keyIterator:G.keyIterator||!1,valueIterator:G.valueIterator||!1,iteratorNextv:G.iteratorNextv||!1,iteratorAll:G.iteratorAll||!1,status:G.status||!1,createIfMissing:G.createIfMissing||!1,errorIfExists:G.errorIfExists||!1,deferredOpen:G.deferredOpen||!1,promises:G.promises||!1,streams:G.streams||!1,encodings:Object.assign({},G.encodings),events:Object.assign({},G.events),additionalMethods:Object.assign({},G.additionalMethods)})};var levelTranscoder={},moduleError=class extends Error{constructor(Z,G){super(Z||""),typeof G=="object"&&G!==null&&(G.code&&(this.code=String(G.code)),G.expected&&(this.expected=!0),G.transient&&(this.transient=!0),G.cause&&(this.cause=G.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},encodings$1={},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$4=0,len=code.length;i$4<len;++i$4)lookup$1[i$4]=code[i$4],revLookup[code.charCodeAt(i$4)]=i$4;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(X){var Z=X.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=X.indexOf("=");G===-1&&(G=Z);var W=G===Z?0:4-G%4;return[G,W]}function byteLength(X){var Z=getLens(X),G=Z[0],W=Z[1];return(G+W)*3/4-W}function _byteLength(X,Z,G){return(Z+G)*3/4-G}function toByteArray(X){var Z,G=getLens(X),W=G[0],F=G[1],U=new Arr(_byteLength(X,W,F)),J=0,Y=F>0?W-4:W,D;for(D=0;D<Y;D+=4)Z=revLookup[X.charCodeAt(D)]<<18|revLookup[X.charCodeAt(D+1)]<<12|revLookup[X.charCodeAt(D+2)]<<6|revLookup[X.charCodeAt(D+3)],U[J++]=Z>>16&255,U[J++]=Z>>8&255,U[J++]=Z&255;return F===2&&(Z=revLookup[X.charCodeAt(D)]<<2|revLookup[X.charCodeAt(D+1)]>>4,U[J++]=Z&255),F===1&&(Z=revLookup[X.charCodeAt(D)]<<10|revLookup[X.charCodeAt(D+1)]<<4|revLookup[X.charCodeAt(D+2)]>>2,U[J++]=Z>>8&255,U[J++]=Z&255),U}function tripletToBase64(X){return lookup$1[X>>18&63]+lookup$1[X>>12&63]+lookup$1[X>>6&63]+lookup$1[X&63]}function encodeChunk(X,Z,G){for(var W,F=[],U=Z;U<G;U+=3)W=(X[U]<<16&16711680)+(X[U+1]<<8&65280)+(X[U+2]&255),F.push(tripletToBase64(W));return F.join("")}function fromByteArray(X){for(var Z,G=X.length,W=G%3,F=[],U=16383,J=0,Y=G-W;J<Y;J+=U)F.push(encodeChunk(X,J,J+U>Y?Y:J+U));return W===1?(Z=X[G-1],F.push(lookup$1[Z>>2]+lookup$1[Z<<4&63]+"==")):W===2&&(Z=(X[G-2]<<8)+X[G-1],F.push(lookup$1[Z>>10]+lookup$1[Z>>4&63]+lookup$1[Z<<2&63]+"=")),F.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(X,Z,G,W,F){var U,J,Y=F*8-W-1,D=(1<<Y)-1,Q=D>>1,ee=-7,q=G?F-1:0,te=G?-1:1,ie=X[Z+q];for(q+=te,U=ie&(1<<-ee)-1,ie>>=-ee,ee+=Y;ee>0;U=U*256+X[Z+q],q+=te,ee-=8);for(J=U&(1<<-ee)-1,U>>=-ee,ee+=W;ee>0;J=J*256+X[Z+q],q+=te,ee-=8);if(U===0)U=1-Q;else{if(U===D)return J?NaN:(ie?-1:1)*(1/0);J=J+Math.pow(2,W),U=U-Q}return(ie?-1:1)*J*Math.pow(2,U-W)};ieee754.write=function(X,Z,G,W,F,U){var J,Y,D,Q=U*8-F-1,ee=(1<<Q)-1,q=ee>>1,te=F===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=W?0:U-1,ne=W?1:-1,ce=Z<0||Z===0&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(Y=isNaN(Z)?1:0,J=ee):(J=Math.floor(Math.log(Z)/Math.LN2),Z*(D=Math.pow(2,-J))<1&&(J--,D*=2),J+q>=1?Z+=te/D:Z+=te*Math.pow(2,1-q),Z*D>=2&&(J++,D/=2),J+q>=ee?(Y=0,J=ee):J+q>=1?(Y=(Z*D-1)*Math.pow(2,F),J=J+q):(Y=Z*Math.pow(2,q-1)*Math.pow(2,F),J=0));F>=8;X[G+ie]=Y&255,ie+=ne,Y/=256,F-=8);for(J=J<<F|Y,Q+=F;Q>0;X[G+ie]=J&255,ie+=ne,J/=256,Q-=8);X[G+ie-ne]|=ce*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(X){const Z=base64Js,G=ieee754,W=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;X.Buffer=Y,X.SlowBuffer=pe,X.INSPECT_MAX_BYTES=50;const F=2147483647;X.kMaxLength=F,Y.TYPED_ARRAY_SUPPORT=U(),!Y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function U(){try{const Ve=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(Ve,oe),Ve.foo()===42}catch{return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}});function J(Ve){if(Ve>F)throw new RangeError('The value "'+Ve+'" is invalid for option "size"');const oe=new Uint8Array(Ve);return Object.setPrototypeOf(oe,Y.prototype),oe}function Y(Ve,oe,me){if(typeof Ve=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return q(Ve)}return D(Ve,oe,me)}Y.poolSize=8192;function D(Ve,oe,me){if(typeof Ve=="string")return te(Ve,oe);if(ArrayBuffer.isView(Ve))return ne(Ve);if(Ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve);if($e(Ve,ArrayBuffer)||Ve&&$e(Ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(Ve,SharedArrayBuffer)||Ve&&$e(Ve.buffer,SharedArrayBuffer)))return ce(Ve,oe,me);if(typeof Ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ge=Ve.valueOf&&Ve.valueOf();if(ge!=null&&ge!==Ve)return Y.from(ge,oe,me);const Fe=le(Ve);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ve[Symbol.toPrimitive]=="function")return Y.from(Ve[Symbol.toPrimitive]("string"),oe,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve)}Y.from=function(Ve,oe,me){return D(Ve,oe,me)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array);function Q(Ve){if(typeof Ve!="number")throw new TypeError('"size" argument must be of type number');if(Ve<0)throw new RangeError('The value "'+Ve+'" is invalid for option "size"')}function ee(Ve,oe,me){return Q(Ve),Ve<=0?J(Ve):oe!==void 0?typeof me=="string"?J(Ve).fill(oe,me):J(Ve).fill(oe):J(Ve)}Y.alloc=function(Ve,oe,me){return ee(Ve,oe,me)};function q(Ve){return Q(Ve),J(Ve<0?0:se(Ve)|0)}Y.allocUnsafe=function(Ve){return q(Ve)},Y.allocUnsafeSlow=function(Ve){return q(Ve)};function te(Ve,oe){if((typeof oe!="string"||oe==="")&&(oe="utf8"),!Y.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);const me=ue(Ve,oe)|0;let ge=J(me);const Fe=ge.write(Ve,oe);return Fe!==me&&(ge=ge.slice(0,Fe)),ge}function ie(Ve){const oe=Ve.length<0?0:se(Ve.length)|0,me=J(oe);for(let ge=0;ge<oe;ge+=1)me[ge]=Ve[ge]&255;return me}function ne(Ve){if($e(Ve,Uint8Array)){const oe=new Uint8Array(Ve);return ce(oe.buffer,oe.byteOffset,oe.byteLength)}return ie(Ve)}function ce(Ve,oe,me){if(oe<0||Ve.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Ve.byteLength<oe+(me||0))throw new RangeError('"length" is outside of buffer bounds');let ge;return oe===void 0&&me===void 0?ge=new Uint8Array(Ve):me===void 0?ge=new Uint8Array(Ve,oe):ge=new Uint8Array(Ve,oe,me),Object.setPrototypeOf(ge,Y.prototype),ge}function le(Ve){if(Y.isBuffer(Ve)){const oe=se(Ve.length)|0,me=J(oe);return me.length===0||Ve.copy(me,0,0,oe),me}if(Ve.length!==void 0)return typeof Ve.length!="number"||we(Ve.length)?J(0):ie(Ve);if(Ve.type==="Buffer"&&Array.isArray(Ve.data))return ie(Ve.data)}function se(Ve){if(Ve>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return Ve|0}function pe(Ve){return+Ve!=Ve&&(Ve=0),Y.alloc(+Ve)}Y.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==Y.prototype},Y.compare=function(oe,me){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),$e(me,Uint8Array)&&(me=Y.from(me,me.offset,me.byteLength)),!Y.isBuffer(oe)||!Y.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===me)return 0;let ge=oe.length,Fe=me.length;for(let Ke=0,Ae=Math.min(ge,Fe);Ke<Ae;++Ke)if(oe[Ke]!==me[Ke]){ge=oe[Ke],Fe=me[Ke];break}return ge<Fe?-1:Fe<ge?1:0},Y.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(oe,me){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return Y.alloc(0);let ge;if(me===void 0)for(me=0,ge=0;ge<oe.length;++ge)me+=oe[ge].length;const Fe=Y.allocUnsafe(me);let Ke=0;for(ge=0;ge<oe.length;++ge){let Ae=oe[ge];if($e(Ae,Uint8Array))Ke+Ae.length>Fe.length?(Y.isBuffer(Ae)||(Ae=Y.from(Ae)),Ae.copy(Fe,Ke)):Uint8Array.prototype.set.call(Fe,Ae,Ke);else if(Y.isBuffer(Ae))Ae.copy(Fe,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=Ae.length}return Fe};function ue(Ve,oe){if(Y.isBuffer(Ve))return Ve.length;if(ArrayBuffer.isView(Ve)||$e(Ve,ArrayBuffer))return Ve.byteLength;if(typeof Ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ve);const me=Ve.length,ge=arguments.length>2&&arguments[2]===!0;if(!ge&&me===0)return 0;let Fe=!1;for(;;)switch(oe){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return ze(Ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return He(Ve).length;default:if(Fe)return ge?-1:ze(Ve).length;oe=(""+oe).toLowerCase(),Fe=!0}}Y.byteLength=ue;function ae(Ve,oe,me){let ge=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,oe>>>=0,me<=oe))return"";for(Ve||(Ve="utf8");;)switch(Ve){case"hex":return xe(this,oe,me);case"utf8":case"utf-8":return re(this,oe,me);case"ascii":return ve(this,oe,me);case"latin1":case"binary":return Te(this,oe,me);case"base64":return ye(this,oe,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,oe,me);default:if(ge)throw new TypeError("Unknown encoding: "+Ve);Ve=(Ve+"").toLowerCase(),ge=!0}}Y.prototype._isBuffer=!0;function de(Ve,oe,me){const ge=Ve[oe];Ve[oe]=Ve[me],Ve[me]=ge}Y.prototype.swap16=function(){const oe=this.length;if(oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let me=0;me<oe;me+=2)de(this,me,me+1);return this},Y.prototype.swap32=function(){const oe=this.length;if(oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let me=0;me<oe;me+=4)de(this,me,me+3),de(this,me+1,me+2);return this},Y.prototype.swap64=function(){const oe=this.length;if(oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let me=0;me<oe;me+=8)de(this,me,me+7),de(this,me+1,me+6),de(this,me+2,me+5),de(this,me+3,me+4);return this},Y.prototype.toString=function(){const oe=this.length;return oe===0?"":arguments.length===0?re(this,0,oe):ae.apply(this,arguments)},Y.prototype.toLocaleString=Y.prototype.toString,Y.prototype.equals=function(oe){if(!Y.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe?!0:Y.compare(this,oe)===0},Y.prototype.inspect=function(){let oe="";const me=X.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(oe+=" ... "),"<Buffer "+oe+">"},W&&(Y.prototype[W]=Y.prototype.inspect),Y.prototype.compare=function(oe,me,ge,Fe,Ke){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),!Y.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof oe);if(me===void 0&&(me=0),ge===void 0&&(ge=oe?oe.length:0),Fe===void 0&&(Fe=0),Ke===void 0&&(Ke=this.length),me<0||ge>oe.length||Fe<0||Ke>this.length)throw new RangeError("out of range index");if(Fe>=Ke&&me>=ge)return 0;if(Fe>=Ke)return-1;if(me>=ge)return 1;if(me>>>=0,ge>>>=0,Fe>>>=0,Ke>>>=0,this===oe)return 0;let Ae=Ke-Fe,rt=ge-me;const vt=Math.min(Ae,rt),Vt=this.slice(Fe,Ke),Wt=oe.slice(me,ge);for(let ft=0;ft<vt;++ft)if(Vt[ft]!==Wt[ft]){Ae=Vt[ft],rt=Wt[ft];break}return Ae<rt?-1:rt<Ae?1:0};function be(Ve,oe,me,ge,Fe){if(Ve.length===0)return-1;if(typeof me=="string"?(ge=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,we(me)&&(me=Fe?0:Ve.length-1),me<0&&(me=Ve.length+me),me>=Ve.length){if(Fe)return-1;me=Ve.length-1}else if(me<0)if(Fe)me=0;else return-1;if(typeof oe=="string"&&(oe=Y.from(oe,ge)),Y.isBuffer(oe))return oe.length===0?-1:he(Ve,oe,me,ge,Fe);if(typeof oe=="number")return oe=oe&255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(Ve,oe,me):Uint8Array.prototype.lastIndexOf.call(Ve,oe,me):he(Ve,[oe],me,ge,Fe);throw new TypeError("val must be string, number or Buffer")}function he(Ve,oe,me,ge,Fe){let Ke=1,Ae=Ve.length,rt=oe.length;if(ge!==void 0&&(ge=String(ge).toLowerCase(),ge==="ucs2"||ge==="ucs-2"||ge==="utf16le"||ge==="utf-16le")){if(Ve.length<2||oe.length<2)return-1;Ke=2,Ae/=2,rt/=2,me/=2}function vt(Wt,ft){return Ke===1?Wt[ft]:Wt.readUInt16BE(ft*Ke)}let Vt;if(Fe){let Wt=-1;for(Vt=me;Vt<Ae;Vt++)if(vt(Ve,Vt)===vt(oe,Wt===-1?0:Vt-Wt)){if(Wt===-1&&(Wt=Vt),Vt-Wt+1===rt)return Wt*Ke}else Wt!==-1&&(Vt-=Vt-Wt),Wt=-1}else for(me+rt>Ae&&(me=Ae-rt),Vt=me;Vt>=0;Vt--){let Wt=!0;for(let ft=0;ft<rt;ft++)if(vt(Ve,Vt+ft)!==vt(oe,ft)){Wt=!1;break}if(Wt)return Vt}return-1}Y.prototype.includes=function(oe,me,ge){return this.indexOf(oe,me,ge)!==-1},Y.prototype.indexOf=function(oe,me,ge){return be(this,oe,me,ge,!0)},Y.prototype.lastIndexOf=function(oe,me,ge){return be(this,oe,me,ge,!1)};function Le(Ve,oe,me,ge){me=Number(me)||0;const Fe=Ve.length-me;ge?(ge=Number(ge),ge>Fe&&(ge=Fe)):ge=Fe;const Ke=oe.length;ge>Ke/2&&(ge=Ke/2);let Ae;for(Ae=0;Ae<ge;++Ae){const rt=parseInt(oe.substr(Ae*2,2),16);if(we(rt))return Ae;Ve[me+Ae]=rt}return Ae}function Xe(Ve,oe,me,ge){return Pe(ze(oe,Ve.length-me),Ve,me,ge)}function We(Ve,oe,me,ge){return Pe(Ee(oe),Ve,me,ge)}function fe(Ve,oe,me,ge){return Pe(He(oe),Ve,me,ge)}function Re(Ve,oe,me,ge){return Pe(_e(oe,Ve.length-me),Ve,me,ge)}Y.prototype.write=function(oe,me,ge,Fe){if(me===void 0)Fe="utf8",ge=this.length,me=0;else if(ge===void 0&&typeof me=="string")Fe=me,ge=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(ge)?(ge=ge>>>0,Fe===void 0&&(Fe="utf8")):(Fe=ge,ge=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ke=this.length-me;if((ge===void 0||ge>Ke)&&(ge=Ke),oe.length>0&&(ge<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let Ae=!1;for(;;)switch(Fe){case"hex":return Le(this,oe,me,ge);case"utf8":case"utf-8":return Xe(this,oe,me,ge);case"ascii":case"latin1":case"binary":return We(this,oe,me,ge);case"base64":return fe(this,oe,me,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,oe,me,ge);default:if(Ae)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ae=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(Ve,oe,me){return oe===0&&me===Ve.length?Z.fromByteArray(Ve):Z.fromByteArray(Ve.slice(oe,me))}function re(Ve,oe,me){me=Math.min(Ve.length,me);const ge=[];let Fe=oe;for(;Fe<me;){const Ke=Ve[Fe];let Ae=null,rt=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Fe+rt<=me){let vt,Vt,Wt,ft;switch(rt){case 1:Ke<128&&(Ae=Ke);break;case 2:vt=Ve[Fe+1],(vt&192)===128&&(ft=(Ke&31)<<6|vt&63,ft>127&&(Ae=ft));break;case 3:vt=Ve[Fe+1],Vt=Ve[Fe+2],(vt&192)===128&&(Vt&192)===128&&(ft=(Ke&15)<<12|(vt&63)<<6|Vt&63,ft>2047&&(ft<55296||ft>57343)&&(Ae=ft));break;case 4:vt=Ve[Fe+1],Vt=Ve[Fe+2],Wt=Ve[Fe+3],(vt&192)===128&&(Vt&192)===128&&(Wt&192)===128&&(ft=(Ke&15)<<18|(vt&63)<<12|(Vt&63)<<6|Wt&63,ft>65535&&ft<1114112&&(Ae=ft))}}Ae===null?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,ge.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),ge.push(Ae),Fe+=rt}return Ge(ge)}const Ze=4096;function Ge(Ve){const oe=Ve.length;if(oe<=Ze)return String.fromCharCode.apply(String,Ve);let me="",ge=0;for(;ge<oe;)me+=String.fromCharCode.apply(String,Ve.slice(ge,ge+=Ze));return me}function ve(Ve,oe,me){let ge="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)ge+=String.fromCharCode(Ve[Fe]&127);return ge}function Te(Ve,oe,me){let ge="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)ge+=String.fromCharCode(Ve[Fe]);return ge}function xe(Ve,oe,me){const ge=Ve.length;(!oe||oe<0)&&(oe=0),(!me||me<0||me>ge)&&(me=ge);let Fe="";for(let Ke=oe;Ke<me;++Ke)Fe+=Ue[Ve[Ke]];return Fe}function Ie(Ve,oe,me){const ge=Ve.slice(oe,me);let Fe="";for(let Ke=0;Ke<ge.length-1;Ke+=2)Fe+=String.fromCharCode(ge[Ke]+ge[Ke+1]*256);return Fe}Y.prototype.slice=function(oe,me){const ge=this.length;oe=~~oe,me=me===void 0?ge:~~me,oe<0?(oe+=ge,oe<0&&(oe=0)):oe>ge&&(oe=ge),me<0?(me+=ge,me<0&&(me=0)):me>ge&&(me=ge),me<oe&&(me=oe);const Fe=this.subarray(oe,me);return Object.setPrototypeOf(Fe,Y.prototype),Fe};function Se(Ve,oe,me){if(Ve%1!==0||Ve<0)throw new RangeError("offset is not uint");if(Ve+oe>me)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Fe},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=this[oe+--me],Ke=1;for(;me>0&&(Ke*=256);)Fe+=this[oe+--me]*Ke;return Fe},Y.prototype.readUint8=Y.prototype.readUInt8=function(oe,me){return oe=oe>>>0,me||Se(oe,1,this.length),this[oe]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(oe,me){return oe=oe>>>0,me||Se(oe,2,this.length),this[oe]|this[oe+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(oe,me){return oe=oe>>>0,me||Se(oe,2,this.length),this[oe]<<8|this[oe+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+this[oe+3]*16777216},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),this[oe]*16777216+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},Y.prototype.readBigUInt64LE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24,Ke=this[++oe]+this[++oe]*2**8+this[++oe]*2**16+ge*2**24;return BigInt(Fe)+(BigInt(Ke)<<BigInt(32))}),Y.prototype.readBigUInt64BE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=me*2**24+this[++oe]*2**16+this[++oe]*2**8+this[++oe],Ke=this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+ge;return(BigInt(Fe)<<BigInt(32))+BigInt(Ke)}),Y.prototype.readIntLE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Ke*=128,Fe>=Ke&&(Fe-=Math.pow(2,8*me)),Fe},Y.prototype.readIntBE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=me,Ke=1,Ae=this[oe+--Fe];for(;Fe>0&&(Ke*=256);)Ae+=this[oe+--Fe]*Ke;return Ke*=128,Ae>=Ke&&(Ae-=Math.pow(2,8*me)),Ae},Y.prototype.readInt8=function(oe,me){return oe=oe>>>0,me||Se(oe,1,this.length),this[oe]&128?(255-this[oe]+1)*-1:this[oe]},Y.prototype.readInt16LE=function(oe,me){oe=oe>>>0,me||Se(oe,2,this.length);const ge=this[oe]|this[oe+1]<<8;return ge&32768?ge|4294901760:ge},Y.prototype.readInt16BE=function(oe,me){oe=oe>>>0,me||Se(oe,2,this.length);const ge=this[oe+1]|this[oe]<<8;return ge&32768?ge|4294901760:ge},Y.prototype.readInt32LE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},Y.prototype.readInt32BE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},Y.prototype.readBigInt64LE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=this[oe+4]+this[oe+5]*2**8+this[oe+6]*2**16+(ge<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24)}),Y.prototype.readBigInt64BE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=(me<<24)+this[++oe]*2**16+this[++oe]*2**8+this[++oe];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+ge)}),Y.prototype.readFloatLE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),G.read(this,oe,!0,23,4)},Y.prototype.readFloatBE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),G.read(this,oe,!1,23,4)},Y.prototype.readDoubleLE=function(oe,me){return oe=oe>>>0,me||Se(oe,8,this.length),G.read(this,oe,!0,52,8)},Y.prototype.readDoubleBE=function(oe,me){return oe=oe>>>0,me||Se(oe,8,this.length),G.read(this,oe,!1,52,8)};function Ne(Ve,oe,me,ge,Fe,Ke){if(!Y.isBuffer(Ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Fe||oe<Ke)throw new RangeError('"value" argument is out of bounds');if(me+ge>Ve.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,ge=ge>>>0,!Fe){const rt=Math.pow(2,8*ge)-1;Ne(this,oe,me,ge,rt,0)}let Ke=1,Ae=0;for(this[me]=oe&255;++Ae<ge&&(Ke*=256);)this[me+Ae]=oe/Ke&255;return me+ge},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,ge=ge>>>0,!Fe){const rt=Math.pow(2,8*ge)-1;Ne(this,oe,me,ge,rt,0)}let Ke=ge-1,Ae=1;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)this[me+Ke]=oe/Ae&255;return me+ge},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,1,255,0),this[me]=oe&255,me+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,65535,0),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,65535,0),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,4294967295,0),this[me+3]=oe>>>24,this[me+2]=oe>>>16,this[me+1]=oe>>>8,this[me]=oe&255,me+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,4294967295,0),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4};function je(Ve,oe,me,ge,Fe){Je(oe,ge,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,me}function tt(Ve,oe,me,ge,Fe){Je(oe,ge,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me+7]=Ke,Ke=Ke>>8,Ve[me+6]=Ke,Ke=Ke>>8,Ve[me+5]=Ke,Ke=Ke>>8,Ve[me+4]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me+3]=Ae,Ae=Ae>>8,Ve[me+2]=Ae,Ae=Ae>>8,Ve[me+1]=Ae,Ae=Ae>>8,Ve[me]=Ae,me+8}Y.prototype.writeBigUInt64LE=et(function(oe,me=0){return je(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=et(function(oe,me=0){return tt(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*ge-1);Ne(this,oe,me,ge,vt-1,-vt)}let Ke=0,Ae=1,rt=0;for(this[me]=oe&255;++Ke<ge&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke-1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+ge},Y.prototype.writeIntBE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*ge-1);Ne(this,oe,me,ge,vt-1,-vt)}let Ke=ge-1,Ae=1,rt=0;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke+1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+ge},Y.prototype.writeInt8=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,1,127,-128),oe<0&&(oe=255+oe+1),this[me]=oe&255,me+1},Y.prototype.writeInt16LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,32767,-32768),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeInt16BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,32767,-32768),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeInt32LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,2147483647,-2147483648),this[me]=oe&255,this[me+1]=oe>>>8,this[me+2]=oe>>>16,this[me+3]=oe>>>24,me+4},Y.prototype.writeInt32BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4},Y.prototype.writeBigInt64LE=et(function(oe,me=0){return je(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=et(function(oe,me=0){return tt(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(Ve,oe,me,ge,Fe,Ke){if(me+ge>Ve.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function st(Ve,oe,me,ge,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,4),G.write(Ve,oe,me,ge,23,4),me+4}Y.prototype.writeFloatLE=function(oe,me,ge){return st(this,oe,me,!0,ge)},Y.prototype.writeFloatBE=function(oe,me,ge){return st(this,oe,me,!1,ge)};function qe(Ve,oe,me,ge,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,8),G.write(Ve,oe,me,ge,52,8),me+8}Y.prototype.writeDoubleLE=function(oe,me,ge){return qe(this,oe,me,!0,ge)},Y.prototype.writeDoubleBE=function(oe,me,ge){return qe(this,oe,me,!1,ge)},Y.prototype.copy=function(oe,me,ge,Fe){if(!Y.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(ge||(ge=0),!Fe&&Fe!==0&&(Fe=this.length),me>=oe.length&&(me=oe.length),me||(me=0),Fe>0&&Fe<ge&&(Fe=ge),Fe===ge||oe.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(ge<0||ge>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),oe.length-me<Fe-ge&&(Fe=oe.length-me+ge);const Ke=Fe-ge;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,ge,Fe):Uint8Array.prototype.set.call(oe,this.subarray(ge,Fe),me),Ke},Y.prototype.fill=function(oe,me,ge,Fe){if(typeof oe=="string"){if(typeof me=="string"?(Fe=me,me=0,ge=this.length):typeof ge=="string"&&(Fe=ge,ge=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!Y.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(oe.length===1){const Ae=oe.charCodeAt(0);(Fe==="utf8"&&Ae<128||Fe==="latin1")&&(oe=Ae)}}else typeof oe=="number"?oe=oe&255:typeof oe=="boolean"&&(oe=Number(oe));if(me<0||this.length<me||this.length<ge)throw new RangeError("Out of range index");if(ge<=me)return this;me=me>>>0,ge=ge===void 0?this.length:ge>>>0,oe||(oe=0);let Ke;if(typeof oe=="number")for(Ke=me;Ke<ge;++Ke)this[Ke]=oe;else{const Ae=Y.isBuffer(oe)?oe:Y.from(oe,Fe),rt=Ae.length;if(rt===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Ke=0;Ke<ge-me;++Ke)this[Ke+me]=Ae[Ke%rt]}return this};const ot={};function ut(Ve,oe,me){ot[Ve]=class extends me{constructor(){super(),Object.defineProperty(this,"message",{value:oe.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ve}]`,this.stack,delete this.name}get code(){return Ve}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${Ve}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(Ve){return Ve?`${Ve} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(Ve,oe){return`The "${Ve}" argument must be of type number. Received type ${typeof oe}`},TypeError),ut("ERR_OUT_OF_RANGE",function(Ve,oe,me){let ge=`The value of "${Ve}" is out of range.`,Fe=me;return Number.isInteger(me)&&Math.abs(me)>2**32?Fe=dt(String(me)):typeof me=="bigint"&&(Fe=String(me),(me>BigInt(2)**BigInt(32)||me<-(BigInt(2)**BigInt(32)))&&(Fe=dt(Fe)),Fe+="n"),ge+=` It must be ${oe}. Received ${Fe}`,ge},RangeError);function dt(Ve){let oe="",me=Ve.length;const ge=Ve[0]==="-"?1:0;for(;me>=ge+4;me-=3)oe=`_${Ve.slice(me-3,me)}${oe}`;return`${Ve.slice(0,me)}${oe}`}function mt(Ve,oe,me){Me(oe,"offset"),(Ve[oe]===void 0||Ve[oe+me]===void 0)&&ke(oe,Ve.length-(me+1))}function Je(Ve,oe,me,ge,Fe,Ke){if(Ve>me||Ve<oe){const Ae=typeof oe=="bigint"?"n":"";let rt;throw Ke>3?oe===0||oe===BigInt(0)?rt=`>= 0${Ae} and < 2${Ae} ** ${(Ke+1)*8}${Ae}`:rt=`>= -(2${Ae} ** ${(Ke+1)*8-1}${Ae}) and < 2 ** ${(Ke+1)*8-1}${Ae}`:rt=`>= ${oe}${Ae} and <= ${me}${Ae}`,new ot.ERR_OUT_OF_RANGE("value",rt,Ve)}mt(ge,Fe,Ke)}function Me(Ve,oe){if(typeof Ve!="number")throw new ot.ERR_INVALID_ARG_TYPE(oe,"number",Ve)}function ke(Ve,oe,me){throw Math.floor(Ve)!==Ve?(Me(Ve,me),new ot.ERR_OUT_OF_RANGE(me||"offset","an integer",Ve)):oe<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(me||"offset",`>= ${me?1:0} and <= ${oe}`,Ve)}const Ye=/[^+/0-9A-Za-z-_]/g;function Ce(Ve){if(Ve=Ve.split("=")[0],Ve=Ve.trim().replace(Ye,""),Ve.length<2)return"";for(;Ve.length%4!==0;)Ve=Ve+"=";return Ve}function ze(Ve,oe){oe=oe||1/0;let me;const ge=Ve.length;let Fe=null;const Ke=[];for(let Ae=0;Ae<ge;++Ae){if(me=Ve.charCodeAt(Ae),me>55295&&me<57344){if(!Fe){if(me>56319){(oe-=3)>-1&&Ke.push(239,191,189);continue}else if(Ae+1===ge){(oe-=3)>-1&&Ke.push(239,191,189);continue}Fe=me;continue}if(me<56320){(oe-=3)>-1&&Ke.push(239,191,189),Fe=me;continue}me=(Fe-55296<<10|me-56320)+65536}else Fe&&(oe-=3)>-1&&Ke.push(239,191,189);if(Fe=null,me<128){if((oe-=1)<0)break;Ke.push(me)}else if(me<2048){if((oe-=2)<0)break;Ke.push(me>>6|192,me&63|128)}else if(me<65536){if((oe-=3)<0)break;Ke.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((oe-=4)<0)break;Ke.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return Ke}function Ee(Ve){const oe=[];for(let me=0;me<Ve.length;++me)oe.push(Ve.charCodeAt(me)&255);return oe}function _e(Ve,oe){let me,ge,Fe;const Ke=[];for(let Ae=0;Ae<Ve.length&&!((oe-=2)<0);++Ae)me=Ve.charCodeAt(Ae),ge=me>>8,Fe=me%256,Ke.push(Fe),Ke.push(ge);return Ke}function He(Ve){return Z.toByteArray(Ce(Ve))}function Pe(Ve,oe,me,ge){let Fe;for(Fe=0;Fe<ge&&!(Fe+me>=oe.length||Fe>=Ve.length);++Fe)oe[Fe+me]=Ve[Fe];return Fe}function $e(Ve,oe){return Ve instanceof oe||Ve!=null&&Ve.constructor!=null&&Ve.constructor.name!=null&&Ve.constructor.name===oe.name}function we(Ve){return Ve!==Ve}const Ue=function(){const Ve="0123456789abcdef",oe=new Array(256);for(let me=0;me<16;++me){const ge=me*16;for(let Fe=0;Fe<16;++Fe)oe[ge+Fe]=Ve[me]+Ve[Fe]}return oe}();function et(Ve){return typeof BigInt>"u"?at:Ve}function at(){throw new Error("BigInt not supported")}})(buffer$1);let lazy=null;var textEndec$1=function(){return lazy===null&&(lazy={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),lazy},formats$2={},encoding={};const ModuleError$8=moduleError,formats$1=new Set(["buffer","view","utf8"]);let Encoding$2=class{constructor(Z){if(this.encode=Z.encode||this.encode,this.decode=Z.decode||this.decode,this.name=Z.name||this.name,this.format=Z.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!formats$1.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");Z.createViewTranscoder&&(this.createViewTranscoder=Z.createViewTranscoder),Z.createBufferTranscoder&&(this.createBufferTranscoder=Z.createBufferTranscoder),Z.createUTF8Transcoder&&(this.createUTF8Transcoder=Z.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};encoding.Encoding=Encoding$2;const{Buffer:Buffer$1}=buffer$1||{},{Encoding:Encoding$1}=encoding,textEndec=textEndec$1;let BufferFormat$2=class extends Encoding$1{constructor(Z){super({...Z,format:"buffer"})}createViewTranscoder(){return new ViewFormat$2({encode:this.encode,decode:Z=>this.decode(Buffer$1.from(Z.buffer,Z.byteOffset,Z.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},ViewFormat$2=class extends Encoding$1{constructor(Z){super({...Z,format:"view"})}createBufferTranscoder(){return new BufferFormat$2({encode:Z=>{const G=this.encode(Z);return Buffer$1.from(G.buffer,G.byteOffset,G.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},UTF8Format$2=class extends Encoding$1{constructor(Z){super({...Z,format:"utf8"})}createBufferTranscoder(){return new BufferFormat$2({encode:Z=>Buffer$1.from(this.encode(Z),"utf8"),decode:Z=>this.decode(Z.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:Z,textDecoder:G}=textEndec();return new ViewFormat$2({encode:W=>Z.encode(this.encode(W)),decode:W=>this.decode(G.decode(W)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};formats$2.BufferFormat=BufferFormat$2;formats$2.ViewFormat=ViewFormat$2;formats$2.UTF8Format=UTF8Format$2;const{Buffer}=buffer$1||{Buffer:{isBuffer:()=>!1}},{textEncoder,textDecoder}=textEndec$1(),{BufferFormat:BufferFormat$1,ViewFormat:ViewFormat$1,UTF8Format:UTF8Format$1}=formats$2,identity$4=X=>X;encodings$1.utf8=new UTF8Format$1({encode:function(X){return Buffer.isBuffer(X)?X.toString("utf8"):ArrayBuffer.isView(X)?textDecoder.decode(X):String(X)},decode:identity$4,name:"utf8",createViewTranscoder(){return new ViewFormat$1({encode:function(X){return ArrayBuffer.isView(X)?X:textEncoder.encode(X)},decode:function(X){return textDecoder.decode(X)},name:`${this.name}+view`})},createBufferTranscoder(){return new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:ArrayBuffer.isView(X)?Buffer.from(X.buffer,X.byteOffset,X.byteLength):Buffer.from(String(X),"utf8")},decode:function(X){return X.toString("utf8")},name:`${this.name}+buffer`})}});encodings$1.json=new UTF8Format$1({encode:JSON.stringify,decode:JSON.parse,name:"json"});encodings$1.buffer=new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:ArrayBuffer.isView(X)?Buffer.from(X.buffer,X.byteOffset,X.byteLength):Buffer.from(String(X),"utf8")},decode:identity$4,name:"buffer",createViewTranscoder(){return new ViewFormat$1({encode:function(X){return ArrayBuffer.isView(X)?X:Buffer.from(String(X),"utf8")},decode:function(X){return Buffer.from(X.buffer,X.byteOffset,X.byteLength)},name:`${this.name}+view`})}});encodings$1.view=new ViewFormat$1({encode:function(X){return ArrayBuffer.isView(X)?X:textEncoder.encode(X)},decode:identity$4,name:"view",createBufferTranscoder(){return new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:ArrayBuffer.isView(X)?Buffer.from(X.buffer,X.byteOffset,X.byteLength):Buffer.from(String(X),"utf8")},decode:identity$4,name:`${this.name}+buffer`})}});encodings$1.hex=new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:Buffer.from(String(X),"hex")},decode:function(X){return X.toString("hex")},name:"hex"});encodings$1.base64=new BufferFormat$1({encode:function(X){return Buffer.isBuffer(X)?X:Buffer.from(String(X),"base64")},decode:function(X){return X.toString("base64")},name:"base64"});const ModuleError$7=moduleError,encodings=encodings$1,{Encoding}=encoding,{BufferFormat,ViewFormat,UTF8Format}=formats$2,kFormats=Symbol("formats"),kEncodings=Symbol("encodings"),validFormats=new Set(["buffer","view","utf8"]);let Transcoder$1=class{constructor(Z){if(Array.isArray(Z)){if(!Z.every(G=>validFormats.has(G)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[kEncodings]=new Map,this[kFormats]=new Set(Z);for(const G in encodings)try{this.encoding(G)}catch(W){if(W.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw W}}encodings(){return Array.from(new Set(this[kEncodings].values()))}encoding(Z){let G=this[kEncodings].get(Z);if(G===void 0){if(typeof Z=="string"&&Z!==""){if(G=lookup[Z],!G)throw new ModuleError$7(`Encoding '${Z}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof Z!="object"||Z===null)throw new TypeError("First argument 'encoding' must be a string or object");G=from(Z)}const{name:W,format:F}=G;if(!this[kFormats].has(F))if(this[kFormats].has("view"))G=G.createViewTranscoder();else if(this[kFormats].has("buffer"))G=G.createBufferTranscoder();else if(this[kFormats].has("utf8"))G=G.createUTF8Transcoder();else throw new ModuleError$7(`Encoding '${W}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const U of[Z,W,G.name,G.commonName])this[kEncodings].set(U,G)}return G}};levelTranscoder.Transcoder=Transcoder$1;function from(X){if(X instanceof Encoding)return X;const Z="type"in X&&typeof X.type=="string"?X.type:void 0,G=X.name||Z||`anonymous-${anonymousCount++}`;switch(detectFormat(X)){case"view":return new ViewFormat({...X,name:G});case"utf8":return new UTF8Format({...X,name:G});case"buffer":return new BufferFormat({...X,name:G});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function detectFormat(X){return"format"in X&&X.format!==void 0?X.format:"buffer"in X&&typeof X.buffer=="boolean"?X.buffer?"buffer":"utf8":"code"in X&&Number.isInteger(X.code)?"view":"buffer"}const aliases={binary:encodings.buffer,"utf-8":encodings.utf8},lookup={...encodings,...aliases};let anonymousCount=0;var eventsExports={},events={get exports(){return eventsExports},set exports(X){eventsExports=X}},R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(Z,G,W){return Function.prototype.apply.call(Z,G,W)},ReflectOwnKeys;R$1&&typeof R$1.ownKeys=="function"?ReflectOwnKeys=R$1.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(Z){return Object.getOwnPropertyNames(Z).concat(Object.getOwnPropertySymbols(Z))}:ReflectOwnKeys=function(Z){return Object.getOwnPropertyNames(Z)};function ProcessEmitWarning(X){console&&console.warn&&console.warn(X)}var NumberIsNaN=Number.isNaN||function(Z){return Z!==Z};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;eventsExports.once=once;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(X){if(typeof X!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof X)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(X){if(typeof X!="number"||X<0||NumberIsNaN(X))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+X+".");defaultMaxListeners=X}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||NumberIsNaN(Z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Z+".");return this._maxListeners=Z,this};function _getMaxListeners(X){return X._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:X._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(Z){for(var G=[],W=1;W<arguments.length;W++)G.push(arguments[W]);var F=Z==="error",U=this._events;if(U!==void 0)F=F&&U.error===void 0;else if(!F)return!1;if(F){var J;if(G.length>0&&(J=G[0]),J instanceof Error)throw J;var Y=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw Y.context=J,Y}var D=U[Z];if(D===void 0)return!1;if(typeof D=="function")ReflectApply(D,this,G);else for(var Q=D.length,ee=arrayClone(D,Q),W=0;W<Q;++W)ReflectApply(ee[W],this,G);return!0};function _addListener(X,Z,G,W){var F,U,J;if(checkListener(G),U=X._events,U===void 0?(U=X._events=Object.create(null),X._eventsCount=0):(U.newListener!==void 0&&(X.emit("newListener",Z,G.listener?G.listener:G),U=X._events),J=U[Z]),J===void 0)J=U[Z]=G,++X._eventsCount;else if(typeof J=="function"?J=U[Z]=W?[G,J]:[J,G]:W?J.unshift(G):J.push(G),F=_getMaxListeners(X),F>0&&J.length>F&&!J.warned){J.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(Z)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=X,Y.type=Z,Y.count=J.length,ProcessEmitWarning(Y)}return X}EventEmitter$1.prototype.addListener=function(Z,G){return _addListener(this,Z,G,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(Z,G){return _addListener(this,Z,G,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(X,Z,G){var W={fired:!1,wrapFn:void 0,target:X,type:Z,listener:G},F=onceWrapper.bind(W);return F.listener=G,W.wrapFn=F,F}EventEmitter$1.prototype.once=function(Z,G){return checkListener(G),this.on(Z,_onceWrap(this,Z,G)),this};EventEmitter$1.prototype.prependOnceListener=function(Z,G){return checkListener(G),this.prependListener(Z,_onceWrap(this,Z,G)),this};EventEmitter$1.prototype.removeListener=function(Z,G){var W,F,U,J,Y;if(checkListener(G),F=this._events,F===void 0)return this;if(W=F[Z],W===void 0)return this;if(W===G||W.listener===G)--this._eventsCount===0?this._events=Object.create(null):(delete F[Z],F.removeListener&&this.emit("removeListener",Z,W.listener||G));else if(typeof W!="function"){for(U=-1,J=W.length-1;J>=0;J--)if(W[J]===G||W[J].listener===G){Y=W[J].listener,U=J;break}if(U<0)return this;U===0?W.shift():spliceOne(W,U),W.length===1&&(F[Z]=W[0]),F.removeListener!==void 0&&this.emit("removeListener",Z,Y||G)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(Z){var G,W,F;if(W=this._events,W===void 0)return this;if(W.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):W[Z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete W[Z]),this;if(arguments.length===0){var U=Object.keys(W),J;for(F=0;F<U.length;++F)J=U[F],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=W[Z],typeof G=="function")this.removeListener(Z,G);else if(G!==void 0)for(F=G.length-1;F>=0;F--)this.removeListener(Z,G[F]);return this};function _listeners(X,Z,G){var W=X._events;if(W===void 0)return[];var F=W[Z];return F===void 0?[]:typeof F=="function"?G?[F.listener||F]:[F]:G?unwrapListeners(F):arrayClone(F,F.length)}EventEmitter$1.prototype.listeners=function(Z){return _listeners(this,Z,!0)};EventEmitter$1.prototype.rawListeners=function(Z){return _listeners(this,Z,!1)};EventEmitter$1.listenerCount=function(X,Z){return typeof X.listenerCount=="function"?X.listenerCount(Z):listenerCount.call(X,Z)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(X){var Z=this._events;if(Z!==void 0){var G=Z[X];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(X,Z){for(var G=new Array(Z),W=0;W<Z;++W)G[W]=X[W];return G}function spliceOne(X,Z){for(;Z+1<X.length;Z++)X[Z]=X[Z+1];X.pop()}function unwrapListeners(X){for(var Z=new Array(X.length),G=0;G<Z.length;++G)Z[G]=X[G].listener||X[G];return Z}function once(X,Z){return new Promise(function(G,W){function F(J){X.removeListener(Z,U),W(J)}function U(){typeof X.removeListener=="function"&&X.removeListener("error",F),G([].slice.call(arguments))}eventTargetAgnosticAddListener(X,Z,U,{once:!0}),Z!=="error"&&addErrorHandlerIfEventEmitter(X,F,{once:!0})})}function addErrorHandlerIfEventEmitter(X,Z,G){typeof X.on=="function"&&eventTargetAgnosticAddListener(X,"error",Z,G)}function eventTargetAgnosticAddListener(X,Z,G,W){if(typeof X.on=="function")W.once?X.once(Z,G):X.on(Z,G);else if(typeof X.addEventListener=="function")X.addEventListener(Z,function F(U){W.once&&X.removeEventListener(Z,F),G(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof X)}var catering={},nextTickBrowser$1=typeof queueMicrotask=="function"?queueMicrotask:X=>Promise.resolve().then(X),nextTick=nextTickBrowser$1;catering.fromCallback=function(X,Z){if(X===void 0){var G=new Promise(function(W,F){X=function(U,J){U?F(U):W(J)}});X[Z!==void 0?Z:"promise"]=G}else if(typeof X!="function")throw new TypeError("Callback must be a function");return X};catering.fromPromise=function(X,Z){if(Z===void 0)return X;X.then(function(G){nextTick(()=>Z(null,G))}).catch(function(G){nextTick(()=>Z(G))})};var abstractIterator={},common$6={};common$6.getCallback=function(X,Z){return typeof X=="function"?X:Z};common$6.getOptions=function(X,Z){return typeof X=="object"&&X!==null?X:Z!==void 0?Z:{}};const{fromCallback:fromCallback$2}=catering,ModuleError$6=moduleError,{getOptions:getOptions$2,getCallback:getCallback$2}=common$6,kPromise$2=Symbol("promise"),kCallback$1=Symbol("callback"),kWorking=Symbol("working"),kHandleOne$1=Symbol("handleOne"),kHandleMany$1=Symbol("handleMany"),kAutoClose=Symbol("autoClose"),kFinishWork=Symbol("finishWork"),kReturnMany=Symbol("returnMany"),kClosing=Symbol("closing"),kHandleClose=Symbol("handleClose"),kClosed=Symbol("closed"),kCloseCallbacks$1=Symbol("closeCallbacks"),kKeyEncoding$1=Symbol("keyEncoding"),kValueEncoding$1=Symbol("valueEncoding"),kAbortOnClose=Symbol("abortOnClose"),kLegacy=Symbol("legacy"),kKeys=Symbol("keys"),kValues=Symbol("values"),kLimit=Symbol("limit"),kCount=Symbol("count"),emptyOptions=Object.freeze({}),noop$4=()=>{};let warnedEnd=!1;class CommonIterator{constructor(Z,G,W){if(typeof Z!="object"||Z===null){const F=Z===null?"null":typeof Z;throw new TypeError(`The first argument must be an abstract-level database, received ${F}`)}if(typeof G!="object"||G===null)throw new TypeError("The second argument must be an options object");this[kClosed]=!1,this[kCloseCallbacks$1]=[],this[kWorking]=!1,this[kClosing]=!1,this[kAutoClose]=!1,this[kCallback$1]=null,this[kHandleOne$1]=this[kHandleOne$1].bind(this),this[kHandleMany$1]=this[kHandleMany$1].bind(this),this[kHandleClose]=this[kHandleClose].bind(this),this[kKeyEncoding$1]=G[kKeyEncoding$1],this[kValueEncoding$1]=G[kValueEncoding$1],this[kLegacy]=W,this[kLimit]=Number.isInteger(G.limit)&&G.limit>=0?G.limit:1/0,this[kCount]=0,this[kAbortOnClose]=!!G.abortOnClose,this.db=Z,this.db.attachResource(this),this.nextTick=Z.nextTick}get count(){return this[kCount]}get limit(){return this[kLimit]}next(Z){let G;if(Z===void 0)G=new Promise((W,F)=>{Z=(U,J,Y)=>{U?F(U):this[kLegacy]?J===void 0&&Y===void 0?W():W([J,Y]):W(J)}});else if(typeof Z!="function")throw new TypeError("Callback must be a function");return this[kClosing]?this.nextTick(Z,new ModuleError$6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(Z,new ModuleError$6("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=Z,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleOne$1],null):this._next(this[kHandleOne$1])),G}_next(Z){this.nextTick(Z)}nextv(Z,G,W){return W=getCallback$2(G,W),W=fromCallback$2(W,kPromise$2),G=getOptions$2(G,emptyOptions),Number.isInteger(Z)?(this[kClosing]?this.nextTick(W,new ModuleError$6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(W,new ModuleError$6("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(Z<1&&(Z=1),this[kLimit]<1/0&&(Z=Math.min(Z,this[kLimit]-this[kCount])),this[kWorking]=!0,this[kCallback$1]=W,Z<=0?this.nextTick(this[kHandleMany$1],null,[]):this._nextv(Z,G,this[kHandleMany$1])),W[kPromise$2]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[kPromise$2])}_nextv(Z,G,W){const F=[],U=(J,Y,D)=>{if(J)return W(J);if(this[kLegacy]?Y===void 0&&D===void 0:Y===void 0)return W(null,F);F.push(this[kLegacy]?[Y,D]:Y),F.length===Z?W(null,F):this._next(U)};this._next(U)}all(Z,G){return G=getCallback$2(Z,G),G=fromCallback$2(G,kPromise$2),Z=getOptions$2(Z,emptyOptions),this[kClosing]?this.nextTick(G,new ModuleError$6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(G,new ModuleError$6("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=G,this[kAutoClose]=!0,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleMany$1],null,[]):this._all(Z,this[kHandleMany$1])),G[kPromise$2]}_all(Z,G){let W=this[kCount];const F=[],U=()=>{const Y=this[kLimit]<1/0?Math.min(1e3,this[kLimit]-W):1e3;Y<=0?this.nextTick(G,null,F):this._nextv(Y,emptyOptions,J)},J=(Y,D)=>{Y?G(Y):D.length===0?G(null,F):(F.push.apply(F,D),W+=D.length,U())};U()}[kFinishWork](){const Z=this[kCallback$1];return this[kAbortOnClose]&&Z===null?noop$4:(this[kWorking]=!1,this[kCallback$1]=null,this[kClosing]&&this._close(this[kHandleClose]),Z)}[kReturnMany](Z,G,W){this[kAutoClose]?this.close(Z.bind(null,G,W)):Z(G,W)}seek(Z,G){if(G=getOptions$2(G,emptyOptions),!this[kClosing]){if(this[kWorking])throw new ModuleError$6("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(G.keyEncoding||this[kKeyEncoding$1]),F=W.format;G.keyEncoding!==F&&(G={...G,keyEncoding:F});const U=this.db.prefixKey(W.encode(Z),F);this._seek(U,G)}}}_seek(Z,G){throw new ModuleError$6("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(Z){return Z=fromCallback$2(Z,kPromise$2),this[kClosed]?this.nextTick(Z):this[kClosing]?this[kCloseCallbacks$1].push(Z):(this[kClosing]=!0,this[kCloseCallbacks$1].push(Z),this[kWorking]?this[kAbortOnClose]&&this[kFinishWork]()(new ModuleError$6("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[kHandleClose])),Z[kPromise$2]}_close(Z){this.nextTick(Z)}[kHandleClose](){this[kClosed]=!0,this.db.detachResource(this);const Z=this[kCloseCallbacks$1];this[kCloseCallbacks$1]=[];for(const G of Z)G()}async*[Symbol.asyncIterator](){try{let Z;for(;(Z=await this.next())!==void 0;)yield Z}finally{this[kClosed]||await this.close()}}}let AbstractIterator$3=class extends CommonIterator{constructor(Z,G){super(Z,G,!0),this[kKeys]=G.keys!==!1,this[kValues]=G.values!==!1}[kHandleOne$1](Z,G,W){const F=this[kFinishWork]();if(Z)return F(Z);try{G=this[kKeys]&&G!==void 0?this[kKeyEncoding$1].decode(G):void 0,W=this[kValues]&&W!==void 0?this[kValueEncoding$1].decode(W):void 0}catch(U){return F(new IteratorDecodeError("entry",U))}G===void 0&&W===void 0||this[kCount]++,F(null,G,W)}[kHandleMany$1](Z,G){const W=this[kFinishWork]();if(Z)return this[kReturnMany](W,Z);try{for(const F of G){const U=F[0],J=F[1];F[0]=this[kKeys]&&U!==void 0?this[kKeyEncoding$1].decode(U):void 0,F[1]=this[kValues]&&J!==void 0?this[kValueEncoding$1].decode(J):void 0}}catch(F){return this[kReturnMany](W,new IteratorDecodeError("entries",F))}this[kCount]+=G.length,this[kReturnMany](W,null,G)}end(Z){return!warnedEnd&&typeof console<"u"&&(warnedEnd=!0,console.warn(new ModuleError$6("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(Z)}},AbstractKeyIterator$3=class extends CommonIterator{constructor(Z,G){super(Z,G,!1)}[kHandleOne$1](Z,G){const W=this[kFinishWork]();if(Z)return W(Z);try{G=G!==void 0?this[kKeyEncoding$1].decode(G):void 0}catch(F){return W(new IteratorDecodeError("key",F))}G!==void 0&&this[kCount]++,W(null,G)}[kHandleMany$1](Z,G){const W=this[kFinishWork]();if(Z)return this[kReturnMany](W,Z);try{for(let F=0;F<G.length;F++){const U=G[F];G[F]=U!==void 0?this[kKeyEncoding$1].decode(U):void 0}}catch(F){return this[kReturnMany](W,new IteratorDecodeError("keys",F))}this[kCount]+=G.length,this[kReturnMany](W,null,G)}},AbstractValueIterator$3=class extends CommonIterator{constructor(Z,G){super(Z,G,!1)}[kHandleOne$1](Z,G){const W=this[kFinishWork]();if(Z)return W(Z);try{G=G!==void 0?this[kValueEncoding$1].decode(G):void 0}catch(F){return W(new IteratorDecodeError("value",F))}G!==void 0&&this[kCount]++,W(null,G)}[kHandleMany$1](Z,G){const W=this[kFinishWork]();if(Z)return this[kReturnMany](W,Z);try{for(let F=0;F<G.length;F++){const U=G[F];G[F]=U!==void 0?this[kValueEncoding$1].decode(U):void 0}}catch(F){return this[kReturnMany](W,new IteratorDecodeError("values",F))}this[kCount]+=G.length,this[kReturnMany](W,null,G)}};class IteratorDecodeError extends ModuleError$6{constructor(Z,G){super(`Iterator could not decode ${Z}`,{code:"LEVEL_DECODE_ERROR",cause:G})}}for(const X of["_ended property","_nexting property","_end method"])Object.defineProperty(AbstractIterator$3.prototype,X.split(" ")[0],{get(){throw new ModuleError$6(`The ${X} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ModuleError$6(`The ${X} has been removed`,{code:"LEVEL_LEGACY"})}});AbstractIterator$3.keyEncoding=kKeyEncoding$1;AbstractIterator$3.valueEncoding=kValueEncoding$1;abstractIterator.AbstractIterator=AbstractIterator$3;abstractIterator.AbstractKeyIterator=AbstractKeyIterator$3;abstractIterator.AbstractValueIterator=AbstractValueIterator$3;var defaultKvIterator={};const{AbstractKeyIterator:AbstractKeyIterator$2,AbstractValueIterator:AbstractValueIterator$2}=abstractIterator,kIterator$1=Symbol("iterator"),kCallback=Symbol("callback"),kHandleOne=Symbol("handleOne"),kHandleMany=Symbol("handleMany");let DefaultKeyIterator$1=class extends AbstractKeyIterator$2{constructor(Z,G){super(Z,G),this[kIterator$1]=Z.iterator({...G,keys:!0,values:!1}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}},DefaultValueIterator$1=class extends AbstractValueIterator$2{constructor(Z,G){super(Z,G),this[kIterator$1]=Z.iterator({...G,keys:!1,values:!0}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}};for(const X of[DefaultKeyIterator$1,DefaultValueIterator$1]){const Z=X===DefaultKeyIterator$1,G=Z?W=>W[0]:W=>W[1];X.prototype._next=function(W){this[kCallback]=W,this[kIterator$1].next(this[kHandleOne])},X.prototype[kHandleOne]=function(W,F,U){const J=this[kCallback];W?J(W):J(null,Z?F:U)},X.prototype._nextv=function(W,F,U){this[kCallback]=U,this[kIterator$1].nextv(W,F,this[kHandleMany])},X.prototype._all=function(W,F){this[kCallback]=F,this[kIterator$1].all(W,this[kHandleMany])},X.prototype[kHandleMany]=function(W,F){const U=this[kCallback];W?U(W):U(null,F.map(G))},X.prototype._seek=function(W,F){this[kIterator$1].seek(W,F)},X.prototype._close=function(W){this[kIterator$1].close(W)}}defaultKvIterator.DefaultKeyIterator=DefaultKeyIterator$1;defaultKvIterator.DefaultValueIterator=DefaultValueIterator$1;var deferredIterator={};const{AbstractIterator:AbstractIterator$2,AbstractKeyIterator:AbstractKeyIterator$1,AbstractValueIterator:AbstractValueIterator$1}=abstractIterator,ModuleError$5=moduleError,kNut=Symbol("nut"),kUndefer$1=Symbol("undefer"),kFactory=Symbol("factory");let DeferredIterator$1=class extends AbstractIterator$2{constructor(Z,G){super(Z,G),this[kNut]=null,this[kFactory]=()=>Z.iterator(G),this.db.defer(()=>this[kUndefer$1]())}},DeferredKeyIterator$1=class extends AbstractKeyIterator$1{constructor(Z,G){super(Z,G),this[kNut]=null,this[kFactory]=()=>Z.keys(G),this.db.defer(()=>this[kUndefer$1]())}},DeferredValueIterator$1=class extends AbstractValueIterator$1{constructor(Z,G){super(Z,G),this[kNut]=null,this[kFactory]=()=>Z.values(G),this.db.defer(()=>this[kUndefer$1]())}};for(const X of[DeferredIterator$1,DeferredKeyIterator$1,DeferredValueIterator$1])X.prototype[kUndefer$1]=function(){this.db.status==="open"&&(this[kNut]=this[kFactory]())},X.prototype._next=function(Z){this[kNut]!==null?this[kNut].next(Z):this.db.status==="opening"?this.db.defer(()=>this._next(Z)):this.nextTick(Z,new ModuleError$5("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},X.prototype._nextv=function(Z,G,W){this[kNut]!==null?this[kNut].nextv(Z,G,W):this.db.status==="opening"?this.db.defer(()=>this._nextv(Z,G,W)):this.nextTick(W,new ModuleError$5("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},X.prototype._all=function(Z,G){this[kNut]!==null?this[kNut].all(G):this.db.status==="opening"?this.db.defer(()=>this._all(Z,G)):this.nextTick(G,new ModuleError$5("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},X.prototype._seek=function(Z,G){this[kNut]!==null?this[kNut]._seek(Z,G):this.db.status==="opening"&&this.db.defer(()=>this._seek(Z,G))},X.prototype._close=function(Z){this[kNut]!==null?this[kNut].close(Z):this.db.status==="opening"?this.db.defer(()=>this._close(Z)):this.nextTick(Z)};deferredIterator.DeferredIterator=DeferredIterator$1;deferredIterator.DeferredKeyIterator=DeferredKeyIterator$1;deferredIterator.DeferredValueIterator=DeferredValueIterator$1;var defaultChainedBatch={},abstractChainedBatch={};const{fromCallback:fromCallback$1}=catering,ModuleError$4=moduleError,{getCallback:getCallback$1,getOptions:getOptions$1}=common$6,kPromise$1=Symbol("promise"),kStatus$1=Symbol("status"),kOperations$1=Symbol("operations"),kFinishClose=Symbol("finishClose"),kCloseCallbacks=Symbol("closeCallbacks");let AbstractChainedBatch$1=class{constructor(Z){if(typeof Z!="object"||Z===null){const G=Z===null?"null":typeof Z;throw new TypeError(`The first argument must be an abstract-level database, received ${G}`)}this[kOperations$1]=[],this[kCloseCallbacks]=[],this[kStatus$1]="open",this[kFinishClose]=this[kFinishClose].bind(this),this.db=Z,this.db.attachResource(this),this.nextTick=Z.nextTick}get length(){return this[kOperations$1].length}put(Z,G,W){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const F=this.db._checkKey(Z)||this.db._checkValue(G);if(F)throw F;const U=W&&W.sublevel!=null?W.sublevel:this.db,J=W,Y=U.keyEncoding(W&&W.keyEncoding),D=U.valueEncoding(W&&W.valueEncoding),Q=Y.format;W={...W,keyEncoding:Q,valueEncoding:D.format},U!==this.db&&(W.sublevel=null);const ee=U.prefixKey(Y.encode(Z),Q),q=D.encode(G);return this._put(ee,q,W),this[kOperations$1].push({...J,type:"put",key:Z,value:G}),this}_put(Z,G,W){}del(Z,G){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const W=this.db._checkKey(Z);if(W)throw W;const F=G&&G.sublevel!=null?G.sublevel:this.db,U=G,J=F.keyEncoding(G&&G.keyEncoding),Y=J.format;return G={...G,keyEncoding:Y},F!==this.db&&(G.sublevel=null),this._del(F.prefixKey(J.encode(Z),Y),G),this[kOperations$1].push({...U,type:"del",key:Z}),this}_del(Z,G){}clear(){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[kOperations$1]=[],this}_clear(){}write(Z,G){return G=getCallback$1(Z,G),G=fromCallback$1(G,kPromise$1),Z=getOptions$1(Z),this[kStatus$1]!=="open"?this.nextTick(G,new ModuleError$4("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(G):(this[kStatus$1]="writing",this._write(Z,W=>{this[kStatus$1]="closing",this[kCloseCallbacks].push(()=>G(W)),W||this.db.emit("batch",this[kOperations$1]),this._close(this[kFinishClose])})),G[kPromise$1]}_write(Z,G){}close(Z){return Z=fromCallback$1(Z,kPromise$1),this[kStatus$1]==="closing"?this[kCloseCallbacks].push(Z):this[kStatus$1]==="closed"?this.nextTick(Z):(this[kCloseCallbacks].push(Z),this[kStatus$1]!=="writing"&&(this[kStatus$1]="closing",this._close(this[kFinishClose]))),Z[kPromise$1]}_close(Z){this.nextTick(Z)}[kFinishClose](){this[kStatus$1]="closed",this.db.detachResource(this);const Z=this[kCloseCallbacks];this[kCloseCallbacks]=[];for(const G of Z)G()}};abstractChainedBatch.AbstractChainedBatch=AbstractChainedBatch$1;const{AbstractChainedBatch}=abstractChainedBatch,ModuleError$3=moduleError,kEncoded=Symbol("encoded");let DefaultChainedBatch$1=class extends AbstractChainedBatch{constructor(Z){super(Z),this[kEncoded]=[]}_put(Z,G,W){this[kEncoded].push({...W,type:"put",key:Z,value:G})}_del(Z,G){this[kEncoded].push({...G,type:"del",key:Z})}_clear(){this[kEncoded]=[]}_write(Z,G){this.db.status==="opening"?this.db.defer(()=>this._write(Z,G)):this.db.status==="open"?this[kEncoded].length===0?this.nextTick(G):this.db._batch(this[kEncoded],Z,G):this.nextTick(G,new ModuleError$3("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};defaultChainedBatch.DefaultChainedBatch=DefaultChainedBatch$1;const ModuleError$2=moduleError,hasOwnProperty$5=Object.prototype.hasOwnProperty,rangeOptions$2=new Set(["lt","lte","gt","gte"]);var rangeOptions_1=function(X,Z){const G={};for(const W in X)if(hasOwnProperty$5.call(X,W)&&!(W==="keyEncoding"||W==="valueEncoding")){if(W==="start"||W==="end")throw new ModuleError$2(`The legacy range option '${W}' has been removed`,{code:"LEVEL_LEGACY"});if(W==="encoding")throw new ModuleError$2("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});rangeOptions$2.has(W)?G[W]=Z.encode(X[W]):G[W]=X[W]}return G.reverse=!!G.reverse,G.limit=Number.isInteger(G.limit)&&G.limit>=0?G.limit:-1,G};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var queueMicrotask_1,hasRequiredQueueMicrotask;function requireQueueMicrotask(){if(hasRequiredQueueMicrotask)return queueMicrotask_1;hasRequiredQueueMicrotask=1;let X;return queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal):Z=>(X||(X=Promise.resolve())).then(Z).catch(G=>setTimeout(()=>{throw G},0)),queueMicrotask_1}var nextTickBrowser,hasRequiredNextTickBrowser;function requireNextTickBrowser(){if(hasRequiredNextTickBrowser)return nextTickBrowser;hasRequiredNextTickBrowser=1;const X=requireQueueMicrotask();return nextTickBrowser=function(Z,...G){G.length===0?X(Z):X(()=>Z(...G))},nextTickBrowser}var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,function(X){const Z=base64Js,G=ieee754,W=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;X.Buffer=Y,X.SlowBuffer=pe,X.INSPECT_MAX_BYTES=50;const F=2147483647;X.kMaxLength=F,Y.TYPED_ARRAY_SUPPORT=U(),!Y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function U(){try{const Ve=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(Ve,oe),Ve.foo()===42}catch{return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}});function J(Ve){if(Ve>F)throw new RangeError('The value "'+Ve+'" is invalid for option "size"');const oe=new Uint8Array(Ve);return Object.setPrototypeOf(oe,Y.prototype),oe}function Y(Ve,oe,me){if(typeof Ve=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return q(Ve)}return D(Ve,oe,me)}Y.poolSize=8192;function D(Ve,oe,me){if(typeof Ve=="string")return te(Ve,oe);if(ArrayBuffer.isView(Ve))return ne(Ve);if(Ve==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve);if($e(Ve,ArrayBuffer)||Ve&&$e(Ve.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(Ve,SharedArrayBuffer)||Ve&&$e(Ve.buffer,SharedArrayBuffer)))return ce(Ve,oe,me);if(typeof Ve=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ge=Ve.valueOf&&Ve.valueOf();if(ge!=null&&ge!==Ve)return Y.from(ge,oe,me);const Fe=le(Ve);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ve[Symbol.toPrimitive]=="function")return Y.from(Ve[Symbol.toPrimitive]("string"),oe,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ve)}Y.from=function(Ve,oe,me){return D(Ve,oe,me)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array);function Q(Ve){if(typeof Ve!="number")throw new TypeError('"size" argument must be of type number');if(Ve<0)throw new RangeError('The value "'+Ve+'" is invalid for option "size"')}function ee(Ve,oe,me){return Q(Ve),Ve<=0?J(Ve):oe!==void 0?typeof me=="string"?J(Ve).fill(oe,me):J(Ve).fill(oe):J(Ve)}Y.alloc=function(Ve,oe,me){return ee(Ve,oe,me)};function q(Ve){return Q(Ve),J(Ve<0?0:se(Ve)|0)}Y.allocUnsafe=function(Ve){return q(Ve)},Y.allocUnsafeSlow=function(Ve){return q(Ve)};function te(Ve,oe){if((typeof oe!="string"||oe==="")&&(oe="utf8"),!Y.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);const me=ue(Ve,oe)|0;let ge=J(me);const Fe=ge.write(Ve,oe);return Fe!==me&&(ge=ge.slice(0,Fe)),ge}function ie(Ve){const oe=Ve.length<0?0:se(Ve.length)|0,me=J(oe);for(let ge=0;ge<oe;ge+=1)me[ge]=Ve[ge]&255;return me}function ne(Ve){if($e(Ve,Uint8Array)){const oe=new Uint8Array(Ve);return ce(oe.buffer,oe.byteOffset,oe.byteLength)}return ie(Ve)}function ce(Ve,oe,me){if(oe<0||Ve.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Ve.byteLength<oe+(me||0))throw new RangeError('"length" is outside of buffer bounds');let ge;return oe===void 0&&me===void 0?ge=new Uint8Array(Ve):me===void 0?ge=new Uint8Array(Ve,oe):ge=new Uint8Array(Ve,oe,me),Object.setPrototypeOf(ge,Y.prototype),ge}function le(Ve){if(Y.isBuffer(Ve)){const oe=se(Ve.length)|0,me=J(oe);return me.length===0||Ve.copy(me,0,0,oe),me}if(Ve.length!==void 0)return typeof Ve.length!="number"||we(Ve.length)?J(0):ie(Ve);if(Ve.type==="Buffer"&&Array.isArray(Ve.data))return ie(Ve.data)}function se(Ve){if(Ve>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return Ve|0}function pe(Ve){return+Ve!=Ve&&(Ve=0),Y.alloc(+Ve)}Y.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==Y.prototype},Y.compare=function(oe,me){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),$e(me,Uint8Array)&&(me=Y.from(me,me.offset,me.byteLength)),!Y.isBuffer(oe)||!Y.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===me)return 0;let ge=oe.length,Fe=me.length;for(let Ke=0,Ae=Math.min(ge,Fe);Ke<Ae;++Ke)if(oe[Ke]!==me[Ke]){ge=oe[Ke],Fe=me[Ke];break}return ge<Fe?-1:Fe<ge?1:0},Y.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(oe,me){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return Y.alloc(0);let ge;if(me===void 0)for(me=0,ge=0;ge<oe.length;++ge)me+=oe[ge].length;const Fe=Y.allocUnsafe(me);let Ke=0;for(ge=0;ge<oe.length;++ge){let Ae=oe[ge];if($e(Ae,Uint8Array))Ke+Ae.length>Fe.length?(Y.isBuffer(Ae)||(Ae=Y.from(Ae)),Ae.copy(Fe,Ke)):Uint8Array.prototype.set.call(Fe,Ae,Ke);else if(Y.isBuffer(Ae))Ae.copy(Fe,Ke);else throw new TypeError('"list" argument must be an Array of Buffers');Ke+=Ae.length}return Fe};function ue(Ve,oe){if(Y.isBuffer(Ve))return Ve.length;if(ArrayBuffer.isView(Ve)||$e(Ve,ArrayBuffer))return Ve.byteLength;if(typeof Ve!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ve);const me=Ve.length,ge=arguments.length>2&&arguments[2]===!0;if(!ge&&me===0)return 0;let Fe=!1;for(;;)switch(oe){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return ze(Ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return He(Ve).length;default:if(Fe)return ge?-1:ze(Ve).length;oe=(""+oe).toLowerCase(),Fe=!0}}Y.byteLength=ue;function ae(Ve,oe,me){let ge=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,oe>>>=0,me<=oe))return"";for(Ve||(Ve="utf8");;)switch(Ve){case"hex":return xe(this,oe,me);case"utf8":case"utf-8":return re(this,oe,me);case"ascii":return ve(this,oe,me);case"latin1":case"binary":return Te(this,oe,me);case"base64":return ye(this,oe,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,oe,me);default:if(ge)throw new TypeError("Unknown encoding: "+Ve);Ve=(Ve+"").toLowerCase(),ge=!0}}Y.prototype._isBuffer=!0;function de(Ve,oe,me){const ge=Ve[oe];Ve[oe]=Ve[me],Ve[me]=ge}Y.prototype.swap16=function(){const oe=this.length;if(oe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let me=0;me<oe;me+=2)de(this,me,me+1);return this},Y.prototype.swap32=function(){const oe=this.length;if(oe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let me=0;me<oe;me+=4)de(this,me,me+3),de(this,me+1,me+2);return this},Y.prototype.swap64=function(){const oe=this.length;if(oe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let me=0;me<oe;me+=8)de(this,me,me+7),de(this,me+1,me+6),de(this,me+2,me+5),de(this,me+3,me+4);return this},Y.prototype.toString=function(){const oe=this.length;return oe===0?"":arguments.length===0?re(this,0,oe):ae.apply(this,arguments)},Y.prototype.toLocaleString=Y.prototype.toString,Y.prototype.equals=function(oe){if(!Y.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe?!0:Y.compare(this,oe)===0},Y.prototype.inspect=function(){let oe="";const me=X.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(oe+=" ... "),"<Buffer "+oe+">"},W&&(Y.prototype[W]=Y.prototype.inspect),Y.prototype.compare=function(oe,me,ge,Fe,Ke){if($e(oe,Uint8Array)&&(oe=Y.from(oe,oe.offset,oe.byteLength)),!Y.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof oe);if(me===void 0&&(me=0),ge===void 0&&(ge=oe?oe.length:0),Fe===void 0&&(Fe=0),Ke===void 0&&(Ke=this.length),me<0||ge>oe.length||Fe<0||Ke>this.length)throw new RangeError("out of range index");if(Fe>=Ke&&me>=ge)return 0;if(Fe>=Ke)return-1;if(me>=ge)return 1;if(me>>>=0,ge>>>=0,Fe>>>=0,Ke>>>=0,this===oe)return 0;let Ae=Ke-Fe,rt=ge-me;const vt=Math.min(Ae,rt),Vt=this.slice(Fe,Ke),Wt=oe.slice(me,ge);for(let ft=0;ft<vt;++ft)if(Vt[ft]!==Wt[ft]){Ae=Vt[ft],rt=Wt[ft];break}return Ae<rt?-1:rt<Ae?1:0};function be(Ve,oe,me,ge,Fe){if(Ve.length===0)return-1;if(typeof me=="string"?(ge=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,we(me)&&(me=Fe?0:Ve.length-1),me<0&&(me=Ve.length+me),me>=Ve.length){if(Fe)return-1;me=Ve.length-1}else if(me<0)if(Fe)me=0;else return-1;if(typeof oe=="string"&&(oe=Y.from(oe,ge)),Y.isBuffer(oe))return oe.length===0?-1:he(Ve,oe,me,ge,Fe);if(typeof oe=="number")return oe=oe&255,typeof Uint8Array.prototype.indexOf=="function"?Fe?Uint8Array.prototype.indexOf.call(Ve,oe,me):Uint8Array.prototype.lastIndexOf.call(Ve,oe,me):he(Ve,[oe],me,ge,Fe);throw new TypeError("val must be string, number or Buffer")}function he(Ve,oe,me,ge,Fe){let Ke=1,Ae=Ve.length,rt=oe.length;if(ge!==void 0&&(ge=String(ge).toLowerCase(),ge==="ucs2"||ge==="ucs-2"||ge==="utf16le"||ge==="utf-16le")){if(Ve.length<2||oe.length<2)return-1;Ke=2,Ae/=2,rt/=2,me/=2}function vt(Wt,ft){return Ke===1?Wt[ft]:Wt.readUInt16BE(ft*Ke)}let Vt;if(Fe){let Wt=-1;for(Vt=me;Vt<Ae;Vt++)if(vt(Ve,Vt)===vt(oe,Wt===-1?0:Vt-Wt)){if(Wt===-1&&(Wt=Vt),Vt-Wt+1===rt)return Wt*Ke}else Wt!==-1&&(Vt-=Vt-Wt),Wt=-1}else for(me+rt>Ae&&(me=Ae-rt),Vt=me;Vt>=0;Vt--){let Wt=!0;for(let ft=0;ft<rt;ft++)if(vt(Ve,Vt+ft)!==vt(oe,ft)){Wt=!1;break}if(Wt)return Vt}return-1}Y.prototype.includes=function(oe,me,ge){return this.indexOf(oe,me,ge)!==-1},Y.prototype.indexOf=function(oe,me,ge){return be(this,oe,me,ge,!0)},Y.prototype.lastIndexOf=function(oe,me,ge){return be(this,oe,me,ge,!1)};function Le(Ve,oe,me,ge){me=Number(me)||0;const Fe=Ve.length-me;ge?(ge=Number(ge),ge>Fe&&(ge=Fe)):ge=Fe;const Ke=oe.length;ge>Ke/2&&(ge=Ke/2);let Ae;for(Ae=0;Ae<ge;++Ae){const rt=parseInt(oe.substr(Ae*2,2),16);if(we(rt))return Ae;Ve[me+Ae]=rt}return Ae}function Xe(Ve,oe,me,ge){return Pe(ze(oe,Ve.length-me),Ve,me,ge)}function We(Ve,oe,me,ge){return Pe(Ee(oe),Ve,me,ge)}function fe(Ve,oe,me,ge){return Pe(He(oe),Ve,me,ge)}function Re(Ve,oe,me,ge){return Pe(_e(oe,Ve.length-me),Ve,me,ge)}Y.prototype.write=function(oe,me,ge,Fe){if(me===void 0)Fe="utf8",ge=this.length,me=0;else if(ge===void 0&&typeof me=="string")Fe=me,ge=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(ge)?(ge=ge>>>0,Fe===void 0&&(Fe="utf8")):(Fe=ge,ge=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ke=this.length-me;if((ge===void 0||ge>Ke)&&(ge=Ke),oe.length>0&&(ge<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let Ae=!1;for(;;)switch(Fe){case"hex":return Le(this,oe,me,ge);case"utf8":case"utf-8":return Xe(this,oe,me,ge);case"ascii":case"latin1":case"binary":return We(this,oe,me,ge);case"base64":return fe(this,oe,me,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,oe,me,ge);default:if(Ae)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Ae=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(Ve,oe,me){return oe===0&&me===Ve.length?Z.fromByteArray(Ve):Z.fromByteArray(Ve.slice(oe,me))}function re(Ve,oe,me){me=Math.min(Ve.length,me);const ge=[];let Fe=oe;for(;Fe<me;){const Ke=Ve[Fe];let Ae=null,rt=Ke>239?4:Ke>223?3:Ke>191?2:1;if(Fe+rt<=me){let vt,Vt,Wt,ft;switch(rt){case 1:Ke<128&&(Ae=Ke);break;case 2:vt=Ve[Fe+1],(vt&192)===128&&(ft=(Ke&31)<<6|vt&63,ft>127&&(Ae=ft));break;case 3:vt=Ve[Fe+1],Vt=Ve[Fe+2],(vt&192)===128&&(Vt&192)===128&&(ft=(Ke&15)<<12|(vt&63)<<6|Vt&63,ft>2047&&(ft<55296||ft>57343)&&(Ae=ft));break;case 4:vt=Ve[Fe+1],Vt=Ve[Fe+2],Wt=Ve[Fe+3],(vt&192)===128&&(Vt&192)===128&&(Wt&192)===128&&(ft=(Ke&15)<<18|(vt&63)<<12|(Vt&63)<<6|Wt&63,ft>65535&&ft<1114112&&(Ae=ft))}}Ae===null?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,ge.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),ge.push(Ae),Fe+=rt}return Ge(ge)}const Ze=4096;function Ge(Ve){const oe=Ve.length;if(oe<=Ze)return String.fromCharCode.apply(String,Ve);let me="",ge=0;for(;ge<oe;)me+=String.fromCharCode.apply(String,Ve.slice(ge,ge+=Ze));return me}function ve(Ve,oe,me){let ge="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)ge+=String.fromCharCode(Ve[Fe]&127);return ge}function Te(Ve,oe,me){let ge="";me=Math.min(Ve.length,me);for(let Fe=oe;Fe<me;++Fe)ge+=String.fromCharCode(Ve[Fe]);return ge}function xe(Ve,oe,me){const ge=Ve.length;(!oe||oe<0)&&(oe=0),(!me||me<0||me>ge)&&(me=ge);let Fe="";for(let Ke=oe;Ke<me;++Ke)Fe+=Ue[Ve[Ke]];return Fe}function Ie(Ve,oe,me){const ge=Ve.slice(oe,me);let Fe="";for(let Ke=0;Ke<ge.length-1;Ke+=2)Fe+=String.fromCharCode(ge[Ke]+ge[Ke+1]*256);return Fe}Y.prototype.slice=function(oe,me){const ge=this.length;oe=~~oe,me=me===void 0?ge:~~me,oe<0?(oe+=ge,oe<0&&(oe=0)):oe>ge&&(oe=ge),me<0?(me+=ge,me<0&&(me=0)):me>ge&&(me=ge),me<oe&&(me=oe);const Fe=this.subarray(oe,me);return Object.setPrototypeOf(Fe,Y.prototype),Fe};function Se(Ve,oe,me){if(Ve%1!==0||Ve<0)throw new RangeError("offset is not uint");if(Ve+oe>me)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Fe},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=this[oe+--me],Ke=1;for(;me>0&&(Ke*=256);)Fe+=this[oe+--me]*Ke;return Fe},Y.prototype.readUint8=Y.prototype.readUInt8=function(oe,me){return oe=oe>>>0,me||Se(oe,1,this.length),this[oe]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(oe,me){return oe=oe>>>0,me||Se(oe,2,this.length),this[oe]|this[oe+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(oe,me){return oe=oe>>>0,me||Se(oe,2,this.length),this[oe]<<8|this[oe+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+this[oe+3]*16777216},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),this[oe]*16777216+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},Y.prototype.readBigUInt64LE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24,Ke=this[++oe]+this[++oe]*2**8+this[++oe]*2**16+ge*2**24;return BigInt(Fe)+(BigInt(Ke)<<BigInt(32))}),Y.prototype.readBigUInt64BE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=me*2**24+this[++oe]*2**16+this[++oe]*2**8+this[++oe],Ke=this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+ge;return(BigInt(Fe)<<BigInt(32))+BigInt(Ke)}),Y.prototype.readIntLE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=this[oe],Ke=1,Ae=0;for(;++Ae<me&&(Ke*=256);)Fe+=this[oe+Ae]*Ke;return Ke*=128,Fe>=Ke&&(Fe-=Math.pow(2,8*me)),Fe},Y.prototype.readIntBE=function(oe,me,ge){oe=oe>>>0,me=me>>>0,ge||Se(oe,me,this.length);let Fe=me,Ke=1,Ae=this[oe+--Fe];for(;Fe>0&&(Ke*=256);)Ae+=this[oe+--Fe]*Ke;return Ke*=128,Ae>=Ke&&(Ae-=Math.pow(2,8*me)),Ae},Y.prototype.readInt8=function(oe,me){return oe=oe>>>0,me||Se(oe,1,this.length),this[oe]&128?(255-this[oe]+1)*-1:this[oe]},Y.prototype.readInt16LE=function(oe,me){oe=oe>>>0,me||Se(oe,2,this.length);const ge=this[oe]|this[oe+1]<<8;return ge&32768?ge|4294901760:ge},Y.prototype.readInt16BE=function(oe,me){oe=oe>>>0,me||Se(oe,2,this.length);const ge=this[oe+1]|this[oe]<<8;return ge&32768?ge|4294901760:ge},Y.prototype.readInt32LE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},Y.prototype.readInt32BE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},Y.prototype.readBigInt64LE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=this[oe+4]+this[oe+5]*2**8+this[oe+6]*2**16+(ge<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(me+this[++oe]*2**8+this[++oe]*2**16+this[++oe]*2**24)}),Y.prototype.readBigInt64BE=et(function(oe){oe=oe>>>0,Me(oe,"offset");const me=this[oe],ge=this[oe+7];(me===void 0||ge===void 0)&&ke(oe,this.length-8);const Fe=(me<<24)+this[++oe]*2**16+this[++oe]*2**8+this[++oe];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++oe]*2**24+this[++oe]*2**16+this[++oe]*2**8+ge)}),Y.prototype.readFloatLE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),G.read(this,oe,!0,23,4)},Y.prototype.readFloatBE=function(oe,me){return oe=oe>>>0,me||Se(oe,4,this.length),G.read(this,oe,!1,23,4)},Y.prototype.readDoubleLE=function(oe,me){return oe=oe>>>0,me||Se(oe,8,this.length),G.read(this,oe,!0,52,8)},Y.prototype.readDoubleBE=function(oe,me){return oe=oe>>>0,me||Se(oe,8,this.length),G.read(this,oe,!1,52,8)};function Ne(Ve,oe,me,ge,Fe,Ke){if(!Y.isBuffer(Ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Fe||oe<Ke)throw new RangeError('"value" argument is out of bounds');if(me+ge>Ve.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,ge=ge>>>0,!Fe){const rt=Math.pow(2,8*ge)-1;Ne(this,oe,me,ge,rt,0)}let Ke=1,Ae=0;for(this[me]=oe&255;++Ae<ge&&(Ke*=256);)this[me+Ae]=oe/Ke&255;return me+ge},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,ge=ge>>>0,!Fe){const rt=Math.pow(2,8*ge)-1;Ne(this,oe,me,ge,rt,0)}let Ke=ge-1,Ae=1;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)this[me+Ke]=oe/Ae&255;return me+ge},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,1,255,0),this[me]=oe&255,me+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,65535,0),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,65535,0),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,4294967295,0),this[me+3]=oe>>>24,this[me+2]=oe>>>16,this[me+1]=oe>>>8,this[me]=oe&255,me+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,4294967295,0),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4};function je(Ve,oe,me,ge,Fe){Je(oe,ge,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke,Ke=Ke>>8,Ve[me++]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,Ae=Ae>>8,Ve[me++]=Ae,me}function tt(Ve,oe,me,ge,Fe){Je(oe,ge,Fe,Ve,me,7);let Ke=Number(oe&BigInt(4294967295));Ve[me+7]=Ke,Ke=Ke>>8,Ve[me+6]=Ke,Ke=Ke>>8,Ve[me+5]=Ke,Ke=Ke>>8,Ve[me+4]=Ke;let Ae=Number(oe>>BigInt(32)&BigInt(4294967295));return Ve[me+3]=Ae,Ae=Ae>>8,Ve[me+2]=Ae,Ae=Ae>>8,Ve[me+1]=Ae,Ae=Ae>>8,Ve[me]=Ae,me+8}Y.prototype.writeBigUInt64LE=et(function(oe,me=0){return je(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=et(function(oe,me=0){return tt(this,oe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*ge-1);Ne(this,oe,me,ge,vt-1,-vt)}let Ke=0,Ae=1,rt=0;for(this[me]=oe&255;++Ke<ge&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke-1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+ge},Y.prototype.writeIntBE=function(oe,me,ge,Fe){if(oe=+oe,me=me>>>0,!Fe){const vt=Math.pow(2,8*ge-1);Ne(this,oe,me,ge,vt-1,-vt)}let Ke=ge-1,Ae=1,rt=0;for(this[me+Ke]=oe&255;--Ke>=0&&(Ae*=256);)oe<0&&rt===0&&this[me+Ke+1]!==0&&(rt=1),this[me+Ke]=(oe/Ae>>0)-rt&255;return me+ge},Y.prototype.writeInt8=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,1,127,-128),oe<0&&(oe=255+oe+1),this[me]=oe&255,me+1},Y.prototype.writeInt16LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,32767,-32768),this[me]=oe&255,this[me+1]=oe>>>8,me+2},Y.prototype.writeInt16BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,2,32767,-32768),this[me]=oe>>>8,this[me+1]=oe&255,me+2},Y.prototype.writeInt32LE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,2147483647,-2147483648),this[me]=oe&255,this[me+1]=oe>>>8,this[me+2]=oe>>>16,this[me+3]=oe>>>24,me+4},Y.prototype.writeInt32BE=function(oe,me,ge){return oe=+oe,me=me>>>0,ge||Ne(this,oe,me,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[me]=oe>>>24,this[me+1]=oe>>>16,this[me+2]=oe>>>8,this[me+3]=oe&255,me+4},Y.prototype.writeBigInt64LE=et(function(oe,me=0){return je(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=et(function(oe,me=0){return tt(this,oe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function it(Ve,oe,me,ge,Fe,Ke){if(me+ge>Ve.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function st(Ve,oe,me,ge,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,4),G.write(Ve,oe,me,ge,23,4),me+4}Y.prototype.writeFloatLE=function(oe,me,ge){return st(this,oe,me,!0,ge)},Y.prototype.writeFloatBE=function(oe,me,ge){return st(this,oe,me,!1,ge)};function qe(Ve,oe,me,ge,Fe){return oe=+oe,me=me>>>0,Fe||it(Ve,oe,me,8),G.write(Ve,oe,me,ge,52,8),me+8}Y.prototype.writeDoubleLE=function(oe,me,ge){return qe(this,oe,me,!0,ge)},Y.prototype.writeDoubleBE=function(oe,me,ge){return qe(this,oe,me,!1,ge)},Y.prototype.copy=function(oe,me,ge,Fe){if(!Y.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(ge||(ge=0),!Fe&&Fe!==0&&(Fe=this.length),me>=oe.length&&(me=oe.length),me||(me=0),Fe>0&&Fe<ge&&(Fe=ge),Fe===ge||oe.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(ge<0||ge>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),oe.length-me<Fe-ge&&(Fe=oe.length-me+ge);const Ke=Fe-ge;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,ge,Fe):Uint8Array.prototype.set.call(oe,this.subarray(ge,Fe),me),Ke},Y.prototype.fill=function(oe,me,ge,Fe){if(typeof oe=="string"){if(typeof me=="string"?(Fe=me,me=0,ge=this.length):typeof ge=="string"&&(Fe=ge,ge=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!Y.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(oe.length===1){const Ae=oe.charCodeAt(0);(Fe==="utf8"&&Ae<128||Fe==="latin1")&&(oe=Ae)}}else typeof oe=="number"?oe=oe&255:typeof oe=="boolean"&&(oe=Number(oe));if(me<0||this.length<me||this.length<ge)throw new RangeError("Out of range index");if(ge<=me)return this;me=me>>>0,ge=ge===void 0?this.length:ge>>>0,oe||(oe=0);let Ke;if(typeof oe=="number")for(Ke=me;Ke<ge;++Ke)this[Ke]=oe;else{const Ae=Y.isBuffer(oe)?oe:Y.from(oe,Fe),rt=Ae.length;if(rt===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Ke=0;Ke<ge-me;++Ke)this[Ke+me]=Ae[Ke%rt]}return this};const ot={};function ut(Ve,oe,me){ot[Ve]=class extends me{constructor(){super(),Object.defineProperty(this,"message",{value:oe.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ve}]`,this.stack,delete this.name}get code(){return Ve}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${Ve}]: ${this.message}`}}}ut("ERR_BUFFER_OUT_OF_BOUNDS",function(Ve){return Ve?`${Ve} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(Ve,oe){return`The "${Ve}" argument must be of type number. Received type ${typeof oe}`},TypeError),ut("ERR_OUT_OF_RANGE",function(Ve,oe,me){let ge=`The value of "${Ve}" is out of range.`,Fe=me;return Number.isInteger(me)&&Math.abs(me)>2**32?Fe=dt(String(me)):typeof me=="bigint"&&(Fe=String(me),(me>BigInt(2)**BigInt(32)||me<-(BigInt(2)**BigInt(32)))&&(Fe=dt(Fe)),Fe+="n"),ge+=` It must be ${oe}. Received ${Fe}`,ge},RangeError);function dt(Ve){let oe="",me=Ve.length;const ge=Ve[0]==="-"?1:0;for(;me>=ge+4;me-=3)oe=`_${Ve.slice(me-3,me)}${oe}`;return`${Ve.slice(0,me)}${oe}`}function mt(Ve,oe,me){Me(oe,"offset"),(Ve[oe]===void 0||Ve[oe+me]===void 0)&&ke(oe,Ve.length-(me+1))}function Je(Ve,oe,me,ge,Fe,Ke){if(Ve>me||Ve<oe){const Ae=typeof oe=="bigint"?"n":"";let rt;throw Ke>3?oe===0||oe===BigInt(0)?rt=`>= 0${Ae} and < 2${Ae} ** ${(Ke+1)*8}${Ae}`:rt=`>= -(2${Ae} ** ${(Ke+1)*8-1}${Ae}) and < 2 ** ${(Ke+1)*8-1}${Ae}`:rt=`>= ${oe}${Ae} and <= ${me}${Ae}`,new ot.ERR_OUT_OF_RANGE("value",rt,Ve)}mt(ge,Fe,Ke)}function Me(Ve,oe){if(typeof Ve!="number")throw new ot.ERR_INVALID_ARG_TYPE(oe,"number",Ve)}function ke(Ve,oe,me){throw Math.floor(Ve)!==Ve?(Me(Ve,me),new ot.ERR_OUT_OF_RANGE(me||"offset","an integer",Ve)):oe<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(me||"offset",`>= ${me?1:0} and <= ${oe}`,Ve)}const Ye=/[^+/0-9A-Za-z-_]/g;function Ce(Ve){if(Ve=Ve.split("=")[0],Ve=Ve.trim().replace(Ye,""),Ve.length<2)return"";for(;Ve.length%4!==0;)Ve=Ve+"=";return Ve}function ze(Ve,oe){oe=oe||1/0;let me;const ge=Ve.length;let Fe=null;const Ke=[];for(let Ae=0;Ae<ge;++Ae){if(me=Ve.charCodeAt(Ae),me>55295&&me<57344){if(!Fe){if(me>56319){(oe-=3)>-1&&Ke.push(239,191,189);continue}else if(Ae+1===ge){(oe-=3)>-1&&Ke.push(239,191,189);continue}Fe=me;continue}if(me<56320){(oe-=3)>-1&&Ke.push(239,191,189),Fe=me;continue}me=(Fe-55296<<10|me-56320)+65536}else Fe&&(oe-=3)>-1&&Ke.push(239,191,189);if(Fe=null,me<128){if((oe-=1)<0)break;Ke.push(me)}else if(me<2048){if((oe-=2)<0)break;Ke.push(me>>6|192,me&63|128)}else if(me<65536){if((oe-=3)<0)break;Ke.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((oe-=4)<0)break;Ke.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return Ke}function Ee(Ve){const oe=[];for(let me=0;me<Ve.length;++me)oe.push(Ve.charCodeAt(me)&255);return oe}function _e(Ve,oe){let me,ge,Fe;const Ke=[];for(let Ae=0;Ae<Ve.length&&!((oe-=2)<0);++Ae)me=Ve.charCodeAt(Ae),ge=me>>8,Fe=me%256,Ke.push(Fe),Ke.push(ge);return Ke}function He(Ve){return Z.toByteArray(Ce(Ve))}function Pe(Ve,oe,me,ge){let Fe;for(Fe=0;Fe<ge&&!(Fe+me>=oe.length||Fe>=Ve.length);++Fe)oe[Fe+me]=Ve[Fe];return Fe}function $e(Ve,oe){return Ve instanceof oe||Ve!=null&&Ve.constructor!=null&&Ve.constructor.name!=null&&Ve.constructor.name===oe.name}function we(Ve){return Ve!==Ve}const Ue=function(){const Ve="0123456789abcdef",oe=new Array(256);for(let me=0;me<16;++me){const ge=me*16;for(let Fe=0;Fe<16;++Fe)oe[ge+Fe]=Ve[me]+Ve[Fe]}return oe}();function et(Ve){return typeof BigInt>"u"?at:Ve}function at(){throw new Error("BigInt not supported")}}(buffer)),buffer}var abstractSublevelIterator={},hasRequiredAbstractSublevelIterator;function requireAbstractSublevelIterator(){if(hasRequiredAbstractSublevelIterator)return abstractSublevelIterator;hasRequiredAbstractSublevelIterator=1;const{AbstractIterator:X,AbstractKeyIterator:Z,AbstractValueIterator:G}=abstractIterator,W=Symbol("unfix"),F=Symbol("iterator"),U=Symbol("handleOne"),J=Symbol("handleMany"),Y=Symbol("callback");class D extends X{constructor(te,ie,ne,ce){super(te,ie),this[F]=ne,this[W]=ce,this[U]=this[U].bind(this),this[J]=this[J].bind(this),this[Y]=null}[U](te,ie,ne){const ce=this[Y];if(te)return ce(te);ie!==void 0&&(ie=this[W](ie)),ce(te,ie,ne)}[J](te,ie){const ne=this[Y];if(te)return ne(te);for(const ce of ie){const le=ce[0];le!==void 0&&(ce[0]=this[W](le))}ne(te,ie)}}class Q extends Z{constructor(te,ie,ne,ce){super(te,ie),this[F]=ne,this[W]=ce,this[U]=this[U].bind(this),this[J]=this[J].bind(this),this[Y]=null}[U](te,ie){const ne=this[Y];if(te)return ne(te);ie!==void 0&&(ie=this[W](ie)),ne(te,ie)}[J](te,ie){const ne=this[Y];if(te)return ne(te);for(let ce=0;ce<ie.length;ce++){const le=ie[ce];le!==void 0&&(ie[ce]=this[W](le))}ne(te,ie)}}class ee extends G{constructor(te,ie,ne){super(te,ie),this[F]=ne}}for(const q of[D,Q])q.prototype._next=function(te){this[Y]=te,this[F].next(this[U])},q.prototype._nextv=function(te,ie,ne){this[Y]=ne,this[F].nextv(te,ie,this[J])},q.prototype._all=function(te,ie){this[Y]=ie,this[F].all(te,this[J])};for(const q of[ee])q.prototype._next=function(te){this[F].next(te)},q.prototype._nextv=function(te,ie,ne){this[F].nextv(te,ie,ne)},q.prototype._all=function(te,ie){this[F].all(te,ie)};for(const q of[D,Q,ee])q.prototype._seek=function(te,ie){this[F].seek(te,ie)},q.prototype._close=function(te){this[F].close(te)};return abstractSublevelIterator.AbstractSublevelIterator=D,abstractSublevelIterator.AbstractSublevelKeyIterator=Q,abstractSublevelIterator.AbstractSublevelValueIterator=ee,abstractSublevelIterator}var abstractSublevel,hasRequiredAbstractSublevel;function requireAbstractSublevel(){if(hasRequiredAbstractSublevel)return abstractSublevel;hasRequiredAbstractSublevel=1;const X=moduleError,{Buffer:Z}=requireBuffer()||{},{AbstractSublevelIterator:G,AbstractSublevelKeyIterator:W,AbstractSublevelValueIterator:F}=requireAbstractSublevelIterator(),U=Symbol("prefix"),J=Symbol("upperBound"),Y=Symbol("prefixRange"),D=Symbol("parent"),Q=Symbol("unfix"),ee=new TextEncoder,q={separator:"!"};abstractSublevel=function({AbstractLevel:se}){class pe extends se{static defaults(ae){if(typeof ae=="string")throw new X("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new X("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return ae==null?q:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,de,be){const{separator:he,manifest:Le,...Xe}=pe.defaults(be);de=le(de,he);const We=he.charCodeAt(0)+1,fe=ae[D]||ae;if(!ee.encode(de).every(re=>re>We&&re<127))throw new X(`Prefix must use bytes > ${We} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(te(fe,Le),Xe);const Re=(ae.prefix||"")+he+de+he,ye=Re.slice(0,-1)+String.fromCharCode(We);this[D]=fe,this[U]=new ne(Re),this[J]=new ne(ye),this[Q]=new ce,this.nextTick=fe.nextTick}prefixKey(ae,de){if(de==="utf8")return this[U].utf8+ae;if(ae.byteLength===0)return this[U][de];if(de==="view"){const be=this[U].view,he=new Uint8Array(be.byteLength+ae.byteLength);return he.set(be,0),he.set(ae,be.byteLength),he}else{const be=this[U].buffer;return Z.concat([be,ae],be.byteLength+ae.byteLength)}}[Y](ae,de){ae.gte!==void 0?ae.gte=this.prefixKey(ae.gte,de):ae.gt!==void 0?ae.gt=this.prefixKey(ae.gt,de):ae.gte=this[U][de],ae.lte!==void 0?ae.lte=this.prefixKey(ae.lte,de):ae.lt!==void 0?ae.lt=this.prefixKey(ae.lt,de):ae.lte=this[J][de]}get prefix(){return this[U].utf8}get db(){return this[D]}_open(ae,de){this[D].open({passive:!0},de)}_put(ae,de,be,he){this[D].put(ae,de,be,he)}_get(ae,de,be){this[D].get(ae,de,be)}_getMany(ae,de,be){this[D].getMany(ae,de,be)}_del(ae,de,be){this[D].del(ae,de,be)}_batch(ae,de,be){this[D].batch(ae,de,be)}_clear(ae,de){this[Y](ae,ae.keyEncoding),this[D].clear(ae,de)}_iterator(ae){this[Y](ae,ae.keyEncoding);const de=this[D].iterator(ae),be=this[Q].get(this[U].utf8.length,ae.keyEncoding);return new G(this,ae,de,be)}_keys(ae){this[Y](ae,ae.keyEncoding);const de=this[D].keys(ae),be=this[Q].get(this[U].utf8.length,ae.keyEncoding);return new W(this,ae,de,be)}_values(ae){this[Y](ae,ae.keyEncoding);const de=this[D].values(ae);return new F(this,ae,de)}}return{AbstractSublevel:pe}};const te=function(se,pe){return{...se.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...pe,encodings:{utf8:ie(se,"utf8"),buffer:ie(se,"buffer"),view:ie(se,"view")}}},ie=function(se,pe){return se.supports.encodings[pe]?se.keyEncoding(pe).name===pe:!1};class ne{constructor(pe){this.utf8=pe,this.view=ee.encode(pe),this.buffer=Z?Z.from(this.view.buffer,0,this.view.byteLength):{}}}class ce{constructor(){this.cache=new Map}get(pe,ue){let ae=this.cache.get(ue);return ae===void 0&&(ue==="view"?ae=function(de,be){return be.subarray(de)}.bind(null,pe):ae=function(de,be){return be.slice(de)}.bind(null,pe),this.cache.set(ue,ae)),ae}}const le=function(se,pe){let ue=0,ae=se.length;for(;ue<ae&&se[ue]===pe;)ue++;for(;ae>ue&&se[ae-1]===pe;)ae--;return se.slice(ue,ae)};return abstractSublevel}const{supports}=levelSupports,{Transcoder}=levelTranscoder,{EventEmitter}=eventsExports,{fromCallback}=catering,ModuleError$1=moduleError,{AbstractIterator:AbstractIterator$1}=abstractIterator,{DefaultKeyIterator,DefaultValueIterator}=defaultKvIterator,{DeferredIterator,DeferredKeyIterator,DeferredValueIterator}=deferredIterator,{DefaultChainedBatch}=defaultChainedBatch,{getCallback,getOptions}=common$6,rangeOptions$1=rangeOptions_1,kPromise=Symbol("promise"),kLanded=Symbol("landed"),kResources=Symbol("resources"),kCloseResources=Symbol("closeResources"),kOperations=Symbol("operations"),kUndefer=Symbol("undefer"),kDeferOpen=Symbol("deferOpen"),kOptions$1=Symbol("options"),kStatus=Symbol("status"),kDefaultOptions=Symbol("defaultOptions"),kTranscoder=Symbol("transcoder"),kKeyEncoding=Symbol("keyEncoding"),kValueEncoding=Symbol("valueEncoding"),noop$3=()=>{};let AbstractLevel$1=class extends EventEmitter{constructor(Z,G){if(super(),typeof Z!="object"||Z===null)throw new TypeError("The first argument 'manifest' must be an object");G=getOptions(G);const{keyEncoding:W,valueEncoding:F,passive:U,...J}=G;this[kResources]=new Set,this[kOperations]=[],this[kDeferOpen]=!0,this[kOptions$1]=J,this[kStatus]="opening",this.supports=supports(Z,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:Z.snapshots!==!1,permanence:Z.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:Z.encodings||{},events:Object.assign({},Z.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[kTranscoder]=new Transcoder(formats(this)),this[kKeyEncoding]=this[kTranscoder].encoding(W||"utf8"),this[kValueEncoding]=this[kTranscoder].encoding(F||"utf8");for(const Y of this[kTranscoder].encodings())this.supports.encodings[Y.commonName]||(this.supports.encodings[Y.commonName]=!0);this[kDefaultOptions]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[kKeyEncoding].commonName,valueEncoding:this[kValueEncoding].commonName}),key:Object.freeze({keyEncoding:this[kKeyEncoding].commonName})},this.nextTick(()=>{this[kDeferOpen]&&this.open({passive:!1},noop$3)})}get status(){return this[kStatus]}keyEncoding(Z){return this[kTranscoder].encoding(Z??this[kKeyEncoding])}valueEncoding(Z){return this[kTranscoder].encoding(Z??this[kValueEncoding])}open(Z,G){G=getCallback(Z,G),G=fromCallback(G,kPromise),Z={...this[kOptions$1],...getOptions(Z)},Z.createIfMissing=Z.createIfMissing!==!1,Z.errorIfExists=!!Z.errorIfExists;const W=F=>{this[kStatus]==="closing"||this[kStatus]==="opening"?this.once(kLanded,F?()=>W(F):W):this[kStatus]!=="open"?G(new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:F})):G()};return Z.passive?this[kStatus]==="opening"?this.once(kLanded,W):this.nextTick(W):this[kStatus]==="closed"||this[kDeferOpen]?(this[kDeferOpen]=!1,this[kStatus]="opening",this.emit("opening"),this._open(Z,F=>{if(F){this[kStatus]="closed",this[kCloseResources](()=>{this.emit(kLanded),W(F)}),this[kUndefer]();return}this[kStatus]="open",this[kUndefer](),this.emit(kLanded),this[kStatus]==="open"&&this.emit("open"),this[kStatus]==="open"&&this.emit("ready"),W()})):this[kStatus]==="open"?this.nextTick(W):this.once(kLanded,()=>this.open(Z,G)),G[kPromise]}_open(Z,G){this.nextTick(G)}close(Z){Z=fromCallback(Z,kPromise);const G=W=>{this[kStatus]==="opening"||this[kStatus]==="closing"?this.once(kLanded,W?G(W):G):this[kStatus]!=="closed"?Z(new ModuleError$1("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:W})):Z()};if(this[kStatus]==="open"){this[kStatus]="closing",this.emit("closing");const W=F=>{this[kStatus]="open",this[kUndefer](),this.emit(kLanded),G(F)};this[kCloseResources](()=>{this._close(F=>{if(F)return W(F);this[kStatus]="closed",this[kUndefer](),this.emit(kLanded),this[kStatus]==="closed"&&this.emit("closed"),G()})})}else this[kStatus]==="closed"?this.nextTick(G):this.once(kLanded,()=>this.close(Z));return Z[kPromise]}[kCloseResources](Z){if(this[kResources].size===0)return this.nextTick(Z);let G=this[kResources].size,W=!0;const F=()=>{--G===0&&(W?this.nextTick(Z):Z())};for(const U of this[kResources])U.close(F);W=!1,this[kResources].clear()}_close(Z){this.nextTick(Z)}get(Z,G,W){if(W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.get(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];const F=this._checkKey(Z);if(F)return this.nextTick(W,F),W[kPromise];const U=this.keyEncoding(G.keyEncoding),J=this.valueEncoding(G.valueEncoding),Y=U.format,D=J.format;return(G.keyEncoding!==Y||G.valueEncoding!==D)&&(G=Object.assign({},G,{keyEncoding:Y,valueEncoding:D})),this._get(this.prefixKey(U.encode(Z),Y),G,(Q,ee)=>{if(Q)return(Q.code==="LEVEL_NOT_FOUND"||Q.notFound||/NotFound/i.test(Q))&&(Q.code||(Q.code="LEVEL_NOT_FOUND"),Q.notFound||(Q.notFound=!0),Q.status||(Q.status=404)),W(Q);try{ee=J.decode(ee)}catch(q){return W(new ModuleError$1("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:q}))}W(null,ee)}),W[kPromise]}_get(Z,G,W){this.nextTick(W,new Error("NotFound"))}getMany(Z,G,W){if(W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.getMany(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];if(!Array.isArray(Z))return this.nextTick(W,new TypeError("The first argument 'keys' must be an array")),W[kPromise];if(Z.length===0)return this.nextTick(W,null,[]),W[kPromise];const F=this.keyEncoding(G.keyEncoding),U=this.valueEncoding(G.valueEncoding),J=F.format,Y=U.format;(G.keyEncoding!==J||G.valueEncoding!==Y)&&(G=Object.assign({},G,{keyEncoding:J,valueEncoding:Y}));const D=new Array(Z.length);for(let Q=0;Q<Z.length;Q++){const ee=Z[Q],q=this._checkKey(ee);if(q)return this.nextTick(W,q),W[kPromise];D[Q]=this.prefixKey(F.encode(ee),J)}return this._getMany(D,G,(Q,ee)=>{if(Q)return W(Q);try{for(let q=0;q<ee.length;q++)ee[q]!==void 0&&(ee[q]=U.decode(ee[q]))}catch(q){return W(new ModuleError$1(`Could not decode one or more of ${ee.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:q}))}W(null,ee)}),W[kPromise]}_getMany(Z,G,W){this.nextTick(W,null,new Array(Z.length).fill(void 0))}put(Z,G,W,F){if(F=getCallback(W,F),F=fromCallback(F,kPromise),W=getOptions(W,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.put(Z,G,W,F)),F[kPromise];if(maybeError(this,F))return F[kPromise];const U=this._checkKey(Z)||this._checkValue(G);if(U)return this.nextTick(F,U),F[kPromise];const J=this.keyEncoding(W.keyEncoding),Y=this.valueEncoding(W.valueEncoding),D=J.format,Q=Y.format;(W.keyEncoding!==D||W.valueEncoding!==Q)&&(W=Object.assign({},W,{keyEncoding:D,valueEncoding:Q}));const ee=this.prefixKey(J.encode(Z),D),q=Y.encode(G);return this._put(ee,q,W,te=>{if(te)return F(te);this.emit("put",Z,G),F()}),F[kPromise]}_put(Z,G,W,F){this.nextTick(F)}del(Z,G,W){if(W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].key),this[kStatus]==="opening")return this.defer(()=>this.del(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];const F=this._checkKey(Z);if(F)return this.nextTick(W,F),W[kPromise];const U=this.keyEncoding(G.keyEncoding),J=U.format;return G.keyEncoding!==J&&(G=Object.assign({},G,{keyEncoding:J})),this._del(this.prefixKey(U.encode(Z),J),G,Y=>{if(Y)return W(Y);this.emit("del",Z),W()}),W[kPromise]}_del(Z,G,W){this.nextTick(W)}batch(Z,G,W){if(!arguments.length){if(this[kStatus]==="opening")return new DefaultChainedBatch(this);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof Z=="function"?W=Z:W=getCallback(G,W),W=fromCallback(W,kPromise),G=getOptions(G,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.batch(Z,G,W)),W[kPromise];if(maybeError(this,W))return W[kPromise];if(!Array.isArray(Z))return this.nextTick(W,new TypeError("The first argument 'operations' must be an array")),W[kPromise];if(Z.length===0)return this.nextTick(W),W[kPromise];const F=new Array(Z.length),{keyEncoding:U,valueEncoding:J,...Y}=G;for(let D=0;D<Z.length;D++){if(typeof Z[D]!="object"||Z[D]===null)return this.nextTick(W,new TypeError("A batch operation must be an object")),W[kPromise];const Q=Object.assign({},Z[D]);if(Q.type!=="put"&&Q.type!=="del")return this.nextTick(W,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),W[kPromise];const ee=this._checkKey(Q.key);if(ee)return this.nextTick(W,ee),W[kPromise];const q=Q.sublevel!=null?Q.sublevel:this,te=q.keyEncoding(Q.keyEncoding||U),ie=te.format;if(Q.key=q.prefixKey(te.encode(Q.key),ie),Q.keyEncoding=ie,Q.type==="put"){const ne=this._checkValue(Q.value);if(ne)return this.nextTick(W,ne),W[kPromise];const ce=q.valueEncoding(Q.valueEncoding||J);Q.value=ce.encode(Q.value),Q.valueEncoding=ce.format}q!==this&&(Q.sublevel=null),F[D]=Q}return this._batch(F,Y,D=>{if(D)return W(D);this.emit("batch",Z),W()}),W[kPromise]}_batch(Z,G,W){this.nextTick(W)}sublevel(Z,G){return this._sublevel(Z,AbstractSublevel.defaults(G))}_sublevel(Z,G){return new AbstractSublevel(this,Z,G)}prefixKey(Z,G){return Z}clear(Z,G){if(G=getCallback(Z,G),G=fromCallback(G,kPromise),Z=getOptions(Z,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.clear(Z,G)),G[kPromise];if(maybeError(this,G))return G[kPromise];const W=Z,F=this.keyEncoding(Z.keyEncoding);return Z=rangeOptions$1(Z,F),Z.keyEncoding=F.format,Z.limit===0?this.nextTick(G):this._clear(Z,U=>{if(U)return G(U);this.emit("clear",W),G()}),G[kPromise]}_clear(Z,G){this.nextTick(G)}iterator(Z){const G=this.keyEncoding(Z&&Z.keyEncoding),W=this.valueEncoding(Z&&Z.valueEncoding);if(Z=rangeOptions$1(Z,G),Z.keys=Z.keys!==!1,Z.values=Z.values!==!1,Z[AbstractIterator$1.keyEncoding]=G,Z[AbstractIterator$1.valueEncoding]=W,Z.keyEncoding=G.format,Z.valueEncoding=W.format,this[kStatus]==="opening")return new DeferredIterator(this,Z);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(Z)}_iterator(Z){return new AbstractIterator$1(this,Z)}keys(Z){const G=this.keyEncoding(Z&&Z.keyEncoding),W=this.valueEncoding(Z&&Z.valueEncoding);if(Z=rangeOptions$1(Z,G),Z[AbstractIterator$1.keyEncoding]=G,Z[AbstractIterator$1.valueEncoding]=W,Z.keyEncoding=G.format,Z.valueEncoding=W.format,this[kStatus]==="opening")return new DeferredKeyIterator(this,Z);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(Z)}_keys(Z){return new DefaultKeyIterator(this,Z)}values(Z){const G=this.keyEncoding(Z&&Z.keyEncoding),W=this.valueEncoding(Z&&Z.valueEncoding);if(Z=rangeOptions$1(Z,G),Z[AbstractIterator$1.keyEncoding]=G,Z[AbstractIterator$1.valueEncoding]=W,Z.keyEncoding=G.format,Z.valueEncoding=W.format,this[kStatus]==="opening")return new DeferredValueIterator(this,Z);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(Z)}_values(Z){return new DefaultValueIterator(this,Z)}defer(Z){if(typeof Z!="function")throw new TypeError("The first argument must be a function");this[kOperations].push(Z)}[kUndefer](){if(this[kOperations].length===0)return;const Z=this[kOperations];this[kOperations]=[];for(const G of Z)G()}attachResource(Z){if(typeof Z!="object"||Z===null||typeof Z.close!="function")throw new TypeError("The first argument must be a resource object");this[kResources].add(Z)}detachResource(Z){this[kResources].delete(Z)}_chainedBatch(){return new DefaultChainedBatch(this)}_checkKey(Z){if(Z==null)return new ModuleError$1("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(Z){if(Z==null)return new ModuleError$1("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};AbstractLevel$1.prototype.nextTick=requireNextTickBrowser();const{AbstractSublevel}=requireAbstractSublevel()({AbstractLevel:AbstractLevel$1});abstractLevel.AbstractLevel=AbstractLevel$1;abstractLevel.AbstractSublevel=AbstractSublevel;const maybeError=function(X,Z){return X[kStatus]!=="open"?(X.nextTick(Z,new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},formats=function(X){return Object.keys(X.supports.encodings).filter(Z=>!!X.supports.encodings[Z])};abstractLevel$1.AbstractLevel=abstractLevel.AbstractLevel;abstractLevel$1.AbstractSublevel=abstractLevel.AbstractSublevel;abstractLevel$1.AbstractIterator=abstractIterator.AbstractIterator;abstractLevel$1.AbstractKeyIterator=abstractIterator.AbstractKeyIterator;abstractLevel$1.AbstractValueIterator=abstractIterator.AbstractValueIterator;abstractLevel$1.AbstractChainedBatch=abstractChainedBatch.AbstractChainedBatch;var rbtree=createRBTree,RED=0,BLACK=1;function RBNode(X,Z,G,W,F,U){this._color=X,this.key=Z,this.value=G,this.left=W,this.right=F,this._count=U}function cloneNode(X){return new RBNode(X._color,X.key,X.value,X.left,X.right,X._count)}function repaint(X,Z){return new RBNode(X,Z.key,Z.value,Z.left,Z.right,Z._count)}function recount(X){X._count=1+(X.left?X.left._count:0)+(X.right?X.right._count:0)}function RedBlackTree(X,Z){this._compare=X,this.root=Z}var proto=RedBlackTree.prototype;Object.defineProperty(proto,"keys",{get:function(){var X=[];return this.forEach(function(Z,G){X.push(Z)}),X}});Object.defineProperty(proto,"values",{get:function(){var X=[];return this.forEach(function(Z,G){X.push(G)}),X}});Object.defineProperty(proto,"length",{get:function(){return this.root?this.root._count:0}});proto.insert=function(X,Z){for(var G=this._compare,W=this.root,F=[],U=[];W;){var J=G(X,W.key);F.push(W),U.push(J),J<=0?W=W.left:W=W.right}F.push(new RBNode(RED,X,Z,null,null,1));for(var Y=F.length-2;Y>=0;--Y){var W=F[Y];U[Y]<=0?F[Y]=new RBNode(W._color,W.key,W.value,F[Y+1],W.right,W._count+1):F[Y]=new RBNode(W._color,W.key,W.value,W.left,F[Y+1],W._count+1)}for(var Y=F.length-1;Y>1;--Y){var D=F[Y-1],W=F[Y];if(D._color===BLACK||W._color===BLACK)break;var Q=F[Y-2];if(Q.left===D)if(D.left===W){var ee=Q.right;if(ee&&ee._color===RED)D._color=BLACK,Q.right=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(Q._color=RED,Q.left=D.right,D._color=BLACK,D.right=Q,F[Y-2]=D,F[Y-1]=W,recount(Q),recount(D),Y>=3){var q=F[Y-3];q.left===Q?q.left=D:q.right=D}break}}else{var ee=Q.right;if(ee&&ee._color===RED)D._color=BLACK,Q.right=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(D.right=W.left,Q._color=RED,Q.left=W.right,W._color=BLACK,W.left=D,W.right=Q,F[Y-2]=W,F[Y-1]=D,recount(Q),recount(D),recount(W),Y>=3){var q=F[Y-3];q.left===Q?q.left=W:q.right=W}break}}else if(D.right===W){var ee=Q.left;if(ee&&ee._color===RED)D._color=BLACK,Q.left=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(Q._color=RED,Q.right=D.left,D._color=BLACK,D.left=Q,F[Y-2]=D,F[Y-1]=W,recount(Q),recount(D),Y>=3){var q=F[Y-3];q.right===Q?q.right=D:q.left=D}break}}else{var ee=Q.left;if(ee&&ee._color===RED)D._color=BLACK,Q.left=repaint(BLACK,ee),Q._color=RED,Y-=1;else{if(D.left=W.right,Q._color=RED,Q.right=W.left,W._color=BLACK,W.right=D,W.left=Q,F[Y-2]=W,F[Y-1]=D,recount(Q),recount(D),recount(W),Y>=3){var q=F[Y-3];q.right===Q?q.right=W:q.left=W}break}}}return F[0]._color=BLACK,new RedBlackTree(G,F[0])};function doVisitFull(X,Z){if(Z.left){var G=doVisitFull(X,Z.left);if(G)return G}var G=X(Z.key,Z.value);if(G)return G;if(Z.right)return doVisitFull(X,Z.right)}function doVisitHalf(X,Z,G,W){var F=Z(X,W.key);if(F<=0){if(W.left){var U=doVisitHalf(X,Z,G,W.left);if(U)return U}var U=G(W.key,W.value);if(U)return U}if(W.right)return doVisitHalf(X,Z,G,W.right)}function doVisit(X,Z,G,W,F){var U=G(X,F.key),J=G(Z,F.key),Y;if(U<=0&&(F.left&&(Y=doVisit(X,Z,G,W,F.left),Y)||J>0&&(Y=W(F.key,F.value),Y)))return Y;if(J>0&&F.right)return doVisit(X,Z,G,W,F.right)}proto.forEach=function(Z,G,W){if(this.root)switch(arguments.length){case 1:return doVisitFull(Z,this.root);case 2:return doVisitHalf(G,this._compare,Z,this.root);case 3:return this._compare(G,W)>=0?void 0:doVisit(G,W,this._compare,Z,this.root)}};Object.defineProperty(proto,"begin",{get:function(){for(var X=[],Z=this.root;Z;)X.push(Z),Z=Z.left;return new RedBlackTreeIterator(this,X)}});Object.defineProperty(proto,"end",{get:function(){for(var X=[],Z=this.root;Z;)X.push(Z),Z=Z.right;return new RedBlackTreeIterator(this,X)}});proto.at=function(X){if(X<0)return new RedBlackTreeIterator(this,[]);for(var Z=this.root,G=[];;){if(G.push(Z),Z.left){if(X<Z.left._count){Z=Z.left;continue}X-=Z.left._count}if(!X)return new RedBlackTreeIterator(this,G);if(X-=1,Z.right){if(X>=Z.right._count)break;Z=Z.right}else break}return new RedBlackTreeIterator(this,[])};proto.ge=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U<=0&&(F=W.length),U<=0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.gt=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U<0&&(F=W.length),U<0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.lt=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U>0&&(F=W.length),U<=0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.le=function(X){for(var Z=this._compare,G=this.root,W=[],F=0;G;){var U=Z(X,G.key);W.push(G),U>=0&&(F=W.length),U<0?G=G.left:G=G.right}return W.length=F,new RedBlackTreeIterator(this,W)};proto.find=function(X){for(var Z=this._compare,G=this.root,W=[];G;){var F=Z(X,G.key);if(W.push(G),F===0)return new RedBlackTreeIterator(this,W);F<=0?G=G.left:G=G.right}return new RedBlackTreeIterator(this,[])};proto.remove=function(X){var Z=this.find(X);return Z?Z.remove():this};proto.get=function(X){for(var Z=this._compare,G=this.root;G;){var W=Z(X,G.key);if(W===0)return G.value;W<=0?G=G.left:G=G.right}};function RedBlackTreeIterator(X,Z){this.tree=X,this._stack=Z}var iproto=RedBlackTreeIterator.prototype;Object.defineProperty(iproto,"valid",{get:function(){return this._stack.length>0}});Object.defineProperty(iproto,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0});iproto.clone=function(){return new RedBlackTreeIterator(this.tree,this._stack.slice())};function swapNode(X,Z){X.key=Z.key,X.value=Z.value,X.left=Z.left,X.right=Z.right,X._color=Z._color,X._count=Z._count}function fixDoubleBlack(X){for(var Z,G,W,F,U=X.length-1;U>=0;--U){if(Z=X[U],U===0){Z._color=BLACK;return}if(G=X[U-1],G.left===Z){if(W=G.right,W.right&&W.right._color===RED){if(W=G.right=cloneNode(W),F=W.right=cloneNode(W.right),G.right=W.left,W.left=G,W.right=F,W._color=G._color,Z._color=BLACK,G._color=BLACK,F._color=BLACK,recount(G),recount(W),U>1){var J=X[U-2];J.left===G?J.left=W:J.right=W}X[U-1]=W;return}else if(W.left&&W.left._color===RED){if(W=G.right=cloneNode(W),F=W.left=cloneNode(W.left),G.right=F.left,W.left=F.right,F.left=G,F.right=W,F._color=G._color,G._color=BLACK,W._color=BLACK,Z._color=BLACK,recount(G),recount(W),recount(F),U>1){var J=X[U-2];J.left===G?J.left=F:J.right=F}X[U-1]=F;return}if(W._color===BLACK)if(G._color===RED){G._color=BLACK,G.right=repaint(RED,W);return}else{G.right=repaint(RED,W);continue}else{if(W=cloneNode(W),G.right=W.left,W.left=G,W._color=G._color,G._color=RED,recount(G),recount(W),U>1){var J=X[U-2];J.left===G?J.left=W:J.right=W}X[U-1]=W,X[U]=G,U+1<X.length?X[U+1]=Z:X.push(Z),U=U+2}}else{if(W=G.left,W.left&&W.left._color===RED){if(W=G.left=cloneNode(W),F=W.left=cloneNode(W.left),G.left=W.right,W.right=G,W.left=F,W._color=G._color,Z._color=BLACK,G._color=BLACK,F._color=BLACK,recount(G),recount(W),U>1){var J=X[U-2];J.right===G?J.right=W:J.left=W}X[U-1]=W;return}else if(W.right&&W.right._color===RED){if(W=G.left=cloneNode(W),F=W.right=cloneNode(W.right),G.left=F.right,W.right=F.left,F.right=G,F.left=W,F._color=G._color,G._color=BLACK,W._color=BLACK,Z._color=BLACK,recount(G),recount(W),recount(F),U>1){var J=X[U-2];J.right===G?J.right=F:J.left=F}X[U-1]=F;return}if(W._color===BLACK)if(G._color===RED){G._color=BLACK,G.left=repaint(RED,W);return}else{G.left=repaint(RED,W);continue}else{if(W=cloneNode(W),G.left=W.right,W.right=G,W._color=G._color,G._color=RED,recount(G),recount(W),U>1){var J=X[U-2];J.right===G?J.right=W:J.left=W}X[U-1]=W,X[U]=G,U+1<X.length?X[U+1]=Z:X.push(Z),U=U+2}}}}iproto.remove=function(){var X=this._stack;if(X.length===0)return this.tree;var Z=new Array(X.length),G=X[X.length-1];Z[Z.length-1]=new RBNode(G._color,G.key,G.value,G.left,G.right,G._count);for(var W=X.length-2;W>=0;--W){var G=X[W];G.left===X[W+1]?Z[W]=new RBNode(G._color,G.key,G.value,Z[W+1],G.right,G._count):Z[W]=new RBNode(G._color,G.key,G.value,G.left,Z[W+1],G._count)}if(G=Z[Z.length-1],G.left&&G.right){var F=Z.length;for(G=G.left;G.right;)Z.push(G),G=G.right;var U=Z[F-1];Z.push(new RBNode(G._color,U.key,U.value,G.left,G.right,G._count)),Z[F-1].key=G.key,Z[F-1].value=G.value;for(var W=Z.length-2;W>=F;--W)G=Z[W],Z[W]=new RBNode(G._color,G.key,G.value,G.left,Z[W+1],G._count);Z[F-1].left=Z[F]}if(G=Z[Z.length-1],G._color===RED){var J=Z[Z.length-2];J.left===G?J.left=null:J.right===G&&(J.right=null),Z.pop();for(var W=0;W<Z.length;++W)Z[W]._count--;return new RedBlackTree(this.tree._compare,Z[0])}else if(G.left||G.right){G.left?swapNode(G,G.left):G.right&&swapNode(G,G.right),G._color=BLACK;for(var W=0;W<Z.length-1;++W)Z[W]._count--;return new RedBlackTree(this.tree._compare,Z[0])}else{if(Z.length===1)return new RedBlackTree(this.tree._compare,null);for(var W=0;W<Z.length;++W)Z[W]._count--;var Y=Z[Z.length-2];fixDoubleBlack(Z),Y.left===G?Y.left=null:Y.right=null}return new RedBlackTree(this.tree._compare,Z[0])};Object.defineProperty(iproto,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0});Object.defineProperty(iproto,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0});Object.defineProperty(iproto,"index",{get:function(){var X=0,Z=this._stack;if(Z.length===0){var G=this.tree.root;return G?G._count:0}else Z[Z.length-1].left&&(X=Z[Z.length-1].left._count);for(var W=Z.length-2;W>=0;--W)Z[W+1]===Z[W].right&&(++X,Z[W].left&&(X+=Z[W].left._count));return X},enumerable:!0});iproto.next=function(){var X=this._stack;if(X.length!==0){var Z=X[X.length-1];if(Z.right)for(Z=Z.right;Z;)X.push(Z),Z=Z.left;else for(X.pop();X.length>0&&X[X.length-1].right===Z;)Z=X[X.length-1],X.pop()}};Object.defineProperty(iproto,"hasNext",{get:function(){var X=this._stack;if(X.length===0)return!1;if(X[X.length-1].right)return!0;for(var Z=X.length-1;Z>0;--Z)if(X[Z-1].left===X[Z])return!0;return!1}});iproto.update=function(X){var Z=this._stack;if(Z.length===0)throw new Error("Can't update empty node!");var G=new Array(Z.length),W=Z[Z.length-1];G[G.length-1]=new RBNode(W._color,W.key,X,W.left,W.right,W._count);for(var F=Z.length-2;F>=0;--F)W=Z[F],W.left===Z[F+1]?G[F]=new RBNode(W._color,W.key,W.value,G[F+1],W.right,W._count):G[F]=new RBNode(W._color,W.key,W.value,W.left,G[F+1],W._count);return new RedBlackTree(this.tree._compare,G[0])};iproto.prev=function(){var X=this._stack;if(X.length!==0){var Z=X[X.length-1];if(Z.left)for(Z=Z.left;Z;)X.push(Z),Z=Z.right;else for(X.pop();X.length>0&&X[X.length-1].left===Z;)Z=X[X.length-1],X.pop()}};Object.defineProperty(iproto,"hasPrev",{get:function(){var X=this._stack;if(X.length===0)return!1;if(X[X.length-1].left)return!0;for(var Z=X.length-1;Z>0;--Z)if(X[Z-1].right===X[Z])return!0;return!1}});function defaultCompare(X,Z){return X<Z?-1:X>Z?1:0}function createRBTree(X){return new RedBlackTree(X||defaultCompare,null)}const{AbstractLevel,AbstractIterator,AbstractKeyIterator,AbstractValueIterator}=abstractLevel$1,ModuleError=moduleError,createRBT=rbtree,rangeOptions=new Set(["gt","gte","lt","lte"]),kNone=Symbol("none"),kTree=Symbol("tree"),kIterator=Symbol("iterator"),kLowerBound=Symbol("lowerBound"),kUpperBound=Symbol("upperBound"),kOutOfRange=Symbol("outOfRange"),kReverse=Symbol("reverse"),kOptions=Symbol("options"),kTest=Symbol("test"),kAdvance=Symbol("advance"),kInit=Symbol("init");function compare(X,Z){if(typeof X=="string")return X<Z?-1:X>Z?1:0;const G=Math.min(X.byteLength,Z.byteLength);for(let W=0;W<G;W++){const F=X[W]-Z[W];if(F!==0)return F}return X.byteLength-Z.byteLength}function gt(X){return compare(X,this[kUpperBound])>0}function gte(X){return compare(X,this[kUpperBound])>=0}function lt(X){return compare(X,this[kUpperBound])<0}function lte(X){return compare(X,this[kUpperBound])<=0}class MemoryIterator extends AbstractIterator{constructor(Z,G){super(Z,G),this[kInit](Z[kTree],G)}_next(Z){if(!this[kIterator].valid)return this.nextTick(Z);const G=this[kIterator].key,W=this[kIterator].value;if(!this[kTest](G))return this.nextTick(Z);this[kIterator][this[kAdvance]](),this.nextTick(Z,null,G,W)}_nextv(Z,G,W){const F=this[kIterator],U=[];for(;F.valid&&U.length<Z&&this[kTest](F.key);)U.push([F.key,F.value]),F[this[kAdvance]]();this.nextTick(W,null,U)}_all(Z,G){const W=this.limit-this.count,F=this[kIterator],U=[];for(;F.valid&&U.length<W&&this[kTest](F.key);)U.push([F.key,F.value]),F[this[kAdvance]]();this.nextTick(G,null,U)}}class MemoryKeyIterator extends AbstractKeyIterator{constructor(Z,G){super(Z,G),this[kInit](Z[kTree],G)}_next(Z){if(!this[kIterator].valid)return this.nextTick(Z);const G=this[kIterator].key;if(!this[kTest](G))return this.nextTick(Z);this[kIterator][this[kAdvance]](),this.nextTick(Z,null,G)}_nextv(Z,G,W){const F=this[kIterator],U=[];for(;F.valid&&U.length<Z&&this[kTest](F.key);)U.push(F.key),F[this[kAdvance]]();this.nextTick(W,null,U)}_all(Z,G){const W=this.limit-this.count,F=this[kIterator],U=[];for(;F.valid&&U.length<W&&this[kTest](F.key);)U.push(F.key),F[this[kAdvance]]();this.nextTick(G,null,U)}}class MemoryValueIterator extends AbstractValueIterator{constructor(Z,G){super(Z,G),this[kInit](Z[kTree],G)}_next(Z){if(!this[kIterator].valid)return this.nextTick(Z);const G=this[kIterator].key,W=this[kIterator].value;if(!this[kTest](G))return this.nextTick(Z);this[kIterator][this[kAdvance]](),this.nextTick(Z,null,W)}_nextv(Z,G,W){const F=this[kIterator],U=[];for(;F.valid&&U.length<Z&&this[kTest](F.key);)U.push(F.value),F[this[kAdvance]]();this.nextTick(W,null,U)}_all(Z,G){const W=this.limit-this.count,F=this[kIterator],U=[];for(;F.valid&&U.length<W&&this[kTest](F.key);)U.push(F.value),F[this[kAdvance]]();this.nextTick(G,null,U)}}for(const X of[MemoryIterator,MemoryKeyIterator,MemoryValueIterator])X.prototype[kInit]=function(Z,G){this[kReverse]=G.reverse,this[kOptions]=G,this[kReverse]?(this[kAdvance]="prev",this[kLowerBound]="lte"in G?G.lte:"lt"in G?G.lt:kNone,this[kUpperBound]="gte"in G?G.gte:"gt"in G?G.gt:kNone,this[kLowerBound]===kNone?this[kIterator]=Z.end:"lte"in G?this[kIterator]=Z.le(this[kLowerBound]):this[kIterator]=Z.lt(this[kLowerBound]),this[kUpperBound]!==kNone&&(this[kTest]="gte"in G?gte:gt)):(this[kAdvance]="next",this[kLowerBound]="gte"in G?G.gte:"gt"in G?G.gt:kNone,this[kUpperBound]="lte"in G?G.lte:"lt"in G?G.lt:kNone,this[kLowerBound]===kNone?this[kIterator]=Z.begin:"gte"in G?this[kIterator]=Z.ge(this[kLowerBound]):this[kIterator]=Z.gt(this[kLowerBound]),this[kUpperBound]!==kNone&&(this[kTest]="lte"in G?lte:lt))},X.prototype[kTest]=function(){return!0},X.prototype[kOutOfRange]=function(Z){return this[kTest](Z)?this[kLowerBound]===kNone?!1:this[kReverse]?"lte"in this[kOptions]?compare(Z,this[kLowerBound])>0:compare(Z,this[kLowerBound])>=0:"gte"in this[kOptions]?compare(Z,this[kLowerBound])<0:compare(Z,this[kLowerBound])<=0:!0},X.prototype._seek=function(Z,G){this[kOutOfRange](Z)?(this[kIterator]=this[kIterator].tree.end,this[kIterator].next()):this[kReverse]?this[kIterator]=this[kIterator].tree.le(Z):this[kIterator]=this[kIterator].tree.ge(Z)};class MemoryLevel extends AbstractLevel{constructor(Z,G,W){if(typeof Z=="object"&&Z!==null&&(G=Z),typeof Z=="function"||typeof G=="function"||typeof W=="function")throw new ModuleError("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{storeEncoding:F,...U}=G||{};if(F=F||"buffer",!["buffer","view","utf8"].includes(F))throw new ModuleError("The storeEncoding option must be 'buffer', 'view' or 'utf8'",{code:"LEVEL_ENCODING_NOT_SUPPORTED"});super({seek:!0,permanence:!1,createIfMissing:!1,errorIfExists:!1,encodings:{[F]:!0}},U),this[kTree]=createRBT(compare)}_put(Z,G,W,F){const U=this[kTree].find(Z);U.valid?this[kTree]=U.update(G):this[kTree]=this[kTree].insert(Z,G),this.nextTick(F)}_get(Z,G,W){const F=this[kTree].get(Z);if(typeof F>"u")return this.nextTick(W,new Error("NotFound"));this.nextTick(W,null,F)}_getMany(Z,G,W){this.nextTick(W,null,Z.map(F=>this[kTree].get(F)))}_del(Z,G,W){this[kTree]=this[kTree].remove(Z),this.nextTick(W)}_batch(Z,G,W){let F=this[kTree];for(const U of Z){const J=U.key,Y=F.find(J);U.type==="put"?F=Y.valid?Y.update(U.value):F.insert(J,U.value):F=Y.remove()}this[kTree]=F,this.nextTick(W)}_clear(Z,G){if(Z.limit===-1&&!Object.keys(Z).some(isRangeOption))return this[kTree]=createRBT(compare),this.nextTick(G);const W=this._keys({...Z}),F=W.limit;let U=0;const J=()=>{for(let Y=0;Y<500;Y++){if(++U>F||!W[kIterator].valid||!W[kTest](W[kIterator].key))return G();this[kTree]=this[kTree].remove(W[kIterator].key),W[kIterator][W[kAdvance]]()}this.nextTick(J)};this.nextTick(J)}_iterator(Z){return new MemoryIterator(this,Z)}_keys(Z){return new MemoryKeyIterator(this,Z)}_values(Z){return new MemoryValueIterator(this,Z)}}var MemoryLevel_1=MemoryLevel;if(typeof process<"u"&&!process.browser&&typeof commonjsGlobal<"u"&&typeof commonjsGlobal.setImmediate=="function"){const X=commonjsGlobal.setImmediate;MemoryLevel.prototype.nextTick=function(Z,...G){G.length===0?X(Z):X(()=>Z(...G))}}function isRangeOption(X){return rangeOptions.has(X)}var rdfDataFactory={},BlankNode$1={};Object.defineProperty(BlankNode$1,"__esModule",{value:!0});BlankNode$1.BlankNode=void 0;class BlankNode{constructor(Z){this.termType="BlankNode",this.value=Z}equals(Z){return!!Z&&Z.termType==="BlankNode"&&Z.value===this.value}}BlankNode$1.BlankNode=BlankNode;var DataFactory$2={},DefaultGraph$1={};Object.defineProperty(DefaultGraph$1,"__esModule",{value:!0});DefaultGraph$1.DefaultGraph=void 0;class DefaultGraph{constructor(){this.termType="DefaultGraph",this.value=""}equals(Z){return!!Z&&Z.termType==="DefaultGraph"}}DefaultGraph$1.DefaultGraph=DefaultGraph;DefaultGraph.INSTANCE=new DefaultGraph;var Literal$1={},NamedNode$1={};Object.defineProperty(NamedNode$1,"__esModule",{value:!0});NamedNode$1.NamedNode=void 0;class NamedNode{constructor(Z){this.termType="NamedNode",this.value=Z}equals(Z){return!!Z&&Z.termType==="NamedNode"&&Z.value===this.value}}NamedNode$1.NamedNode=NamedNode;Object.defineProperty(Literal$1,"__esModule",{value:!0});Literal$1.Literal=void 0;const NamedNode_1$1=NamedNode$1;class Literal{constructor(Z,G){this.termType="Literal",this.value=Z,typeof G=="string"?(this.language=G,this.datatype=Literal.RDF_LANGUAGE_STRING):G?(this.language="",this.datatype=G):(this.language="",this.datatype=Literal.XSD_STRING)}equals(Z){return!!Z&&Z.termType==="Literal"&&Z.value===this.value&&Z.language===this.language&&Z.datatype.equals(this.datatype)}}Literal$1.Literal=Literal;Literal.RDF_LANGUAGE_STRING=new NamedNode_1$1.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");Literal.XSD_STRING=new NamedNode_1$1.NamedNode("http://www.w3.org/2001/XMLSchema#string");var Quad$2={};Object.defineProperty(Quad$2,"__esModule",{value:!0});Quad$2.Quad=void 0;let Quad$1=class{constructor(Z,G,W,F){this.termType="Quad",this.value="",this.subject=Z,this.predicate=G,this.object=W,this.graph=F}equals(Z){return!!Z&&(Z.termType==="Quad"||!Z.termType)&&this.subject.equals(Z.subject)&&this.predicate.equals(Z.predicate)&&this.object.equals(Z.object)&&this.graph.equals(Z.graph)}};Quad$2.Quad=Quad$1;var Variable$1={};Object.defineProperty(Variable$1,"__esModule",{value:!0});Variable$1.Variable=void 0;class Variable{constructor(Z){this.termType="Variable",this.value=Z}equals(Z){return!!Z&&Z.termType==="Variable"&&Z.value===this.value}}Variable$1.Variable=Variable;Object.defineProperty(DataFactory$2,"__esModule",{value:!0});DataFactory$2.DataFactory=void 0;const BlankNode_1=BlankNode$1,DefaultGraph_1=DefaultGraph$1,Literal_1=Literal$1,NamedNode_1=NamedNode$1,Quad_1=Quad$2,Variable_1=Variable$1;let dataFactoryCounter=0,DataFactory$1=class{constructor(Z){this.blankNodeCounter=0,Z=Z||{},this.blankNodePrefix=Z.blankNodePrefix||`df_${dataFactoryCounter++}_`}namedNode(Z){return new NamedNode_1.NamedNode(Z)}blankNode(Z){return new BlankNode_1.BlankNode(Z||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(Z,G){return new Literal_1.Literal(Z,G)}variable(Z){return new Variable_1.Variable(Z)}defaultGraph(){return DefaultGraph_1.DefaultGraph.INSTANCE}quad(Z,G,W,F){return new Quad_1.Quad(Z,G,W,F||this.defaultGraph())}fromTerm(Z){switch(Z.termType){case"NamedNode":return this.namedNode(Z.value);case"BlankNode":return this.blankNode(Z.value);case"Literal":return Z.language?this.literal(Z.value,Z.language):Z.datatype.equals(Literal_1.Literal.XSD_STRING)?this.literal(Z.value):this.literal(Z.value,this.fromTerm(Z.datatype));case"Variable":return this.variable(Z.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(Z.subject),this.fromTerm(Z.predicate),this.fromTerm(Z.object),this.fromTerm(Z.graph))}}fromQuad(Z){return this.fromTerm(Z)}resetBlankNodeCounter(){this.blankNodeCounter=0}};DataFactory$2.DataFactory=DataFactory$1;(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,F,U,J){J===void 0&&(J=U),Object.defineProperty(W,J,{enumerable:!0,get:function(){return F[U]}})}:function(W,F,U,J){J===void 0&&(J=U),W[J]=F[U]}),G=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,F){for(var U in W)U!=="default"&&!Object.prototype.hasOwnProperty.call(F,U)&&Z(F,W,U)};Object.defineProperty(X,"__esModule",{value:!0}),G(BlankNode$1,X),G(DataFactory$2,X),G(DefaultGraph$1,X),G(Literal$1,X),G(NamedNode$1,X),G(Quad$2,X),G(Variable$1,X)})(rdfDataFactory);var ResultType;(function(X){X.VOID="void",X.QUADS="quads",X.APPROXIMATE_SIZE="approximate_size"})(ResultType||(ResultType={}));class LinkedList{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var Z;return(Z=this._head)===null||Z===void 0?void 0:Z.value}get last(){var Z;return(Z=this._tail)===null||Z===void 0?void 0:Z.value}get empty(){return this._head===null}push(Z){const G={value:Z,next:null};this._tail===null?this._head=this._tail=G:this._tail.next=this._tail=G,this._length++}shift(){if(this._head===null)return;const{value:Z,next:G}=this._head;return this._head=G,G===null&&(this._tail=null),this._length--,Z}clear(){this._length=0,this._head=this._tail=null}}const resolved=Promise.resolve(void 0);function createTaskScheduler(){const X=typeof queueMicrotask=="function"?queueMicrotask:F=>resolved.then(F),Z=typeof setImmediate=="function"?setImmediate:F=>setTimeout(F,0);let G=0,W=null;return F=>{W!==null?W.push(F):++G<100?X(F):(W=[F],Z(()=>{for(const U of W)X(U);W=null,G=0}))}}let taskScheduler=createTaskScheduler();function scheduleTask(X){taskScheduler(X)}function getTaskScheduler(){return taskScheduler}function setTaskScheduler(X){taskScheduler=X}const INIT=1<<0,OPEN=1<<1,CLOSING=1<<2,CLOSED=1<<3,ENDED=1<<4,DESTROYED=1<<5;class AsyncIterator extends eventsExports.EventEmitter{constructor(Z=OPEN){super(),this._readable=!1,this._state=Z,this.on("newListener",waitForDataListener)}_changeState(Z,G=!1){const W=Z>this._state&&this._state<ENDED;return W&&(this._state=Z,Z===ENDED&&(G?taskScheduler(()=>this.emit("end")):this.emit("end"))),W}read(){return null}forEach(Z,G){this.on("data",bind(Z,G))}close(){this._changeState(CLOSED)&&this._endAsync()}destroy(Z){this.done||this._destroy(Z,G=>{Z=Z||G,Z&&this.emit("error",Z),this._end(!0)})}_destroy(Z,G){G()}_end(Z=!1){this._changeState(Z?DESTROYED:ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){taskScheduler(()=>this._end())}get readable(){return this._readable}set readable(Z){Z=!!Z&&!this.done,this._readable!==Z&&(this._readable=Z,Z&&taskScheduler(()=>this.emit("readable")))}get closed(){return this._state>=CLOSING}get ended(){return this._state===ENDED}get destroyed(){return this._state===DESTROYED}get done(){return this._state>=ENDED}toString(){const Z=this._toStringDetails();return`[${this.constructor.name}${Z?` ${Z}`:""}]`}_toStringDetails(){return""}toArray(Z){const G=[],W=typeof Z?.limit=="number"?Z.limit:1/0;return this.ended||W<=0?Promise.resolve(G):new Promise((F,U)=>{const J=()=>F(G),Y=D=>{G.push(D),G.length>=W&&(this.removeListener("error",U),this.removeListener("data",Y),this.removeListener("end",J),F(G))};this.on("error",U),this.on("data",Y),this.on("end",J)})}getProperty(Z,G){const W=this._properties;if(!G)return W&&W[Z];if(W&&Z in W)taskScheduler(()=>G(W[Z]));else{let F;(F=this._propertyCallbacks)||(this._propertyCallbacks=F=Object.create(null)),Z in F?F[Z].push(G):F[Z]=[G]}}setProperty(Z,G){const W=this._properties||(this._properties=Object.create(null));W[Z]=G;const F=this._propertyCallbacks||{},U=F[Z];if(U){delete F[Z],taskScheduler(()=>{for(const J of U)J(G)});for(Z in F)return;delete this._propertyCallbacks}}getProperties(){const Z=this._properties,G={};for(const W in Z)G[W]=Z[W];return G}setProperties(Z){for(const G in Z)this.setProperty(G,Z[G])}copyProperties(Z,G){for(const W of G)Z.getProperty(W,F=>this.setProperty(W,F))}transform(Z){return new SimpleTransformIterator(this,Z)}map(Z,G){return new MappingIterator(this,bind(Z,G))}filter(Z,G){return this.map(function(W){return Z.call(G||this,W)?W:null})}uniq(Z=identity$3){const G=new Set;return this.filter(function(W){const F=Z.call(this,W);return G.has(F)?!1:(G.add(F),!0)})}prepend(Z){return this.transform({prepend:Z})}append(Z){return this.transform({append:Z})}surround(Z,G){return this.transform({prepend:Z,append:G})}skip(Z){return this.map(G=>Z-- >0?null:G)}take(Z){return this.transform({limit:Z})}range(Z,G){return this.transform({offset:Z,limit:Math.max(G-Z+1,0)})}clone(){return new ClonedIterator(this)}}function waitForDataListener(X){X==="data"&&(this.removeListener("newListener",waitForDataListener),addSingleListener(this,"readable",emitData),this.readable&&taskScheduler(()=>emitData.call(this)))}function emitData(){let X;for(;this.listenerCount("data")!==0&&(X=this.read())!==null;)this.emit("data",X);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",emitData),addSingleListener(this,"newListener",waitForDataListener))}function addSingleListener(X,Z,G){X.listeners(Z).includes(G)||X.on(Z,G)}class EmptyIterator extends AsyncIterator{constructor(){super(),this._changeState(ENDED,!0)}}class SingletonIterator extends AsyncIterator{constructor(Z){super(),this._item=Z,Z===null?this.close():this.readable=!0}read(){const Z=this._item;return this._item=null,this.close(),Z}_toStringDetails(){return this._item===null?"":`(${this._item})`}}class ArrayIterator extends AsyncIterator{constructor(Z=[],{autoStart:G=!0,preserve:W=!0}={}){super();const F=W||!Array.isArray(Z)?[...Z]:Z;this._index=0,this._sourceStarted=G!==!1,this._truncateThreshold=W?-1:64,this._sourceStarted&&F.length===0?this.close():this._buffer=F,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let Z=null;return this._buffer&&(this._index<this._buffer.length&&(Z=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),Z}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(Z,G){delete this._buffer,G()}toArray(Z={}){if(!this._buffer)return Promise.resolve([]);const{length:G}=this._buffer,W=this._index,F=typeof Z.limit!="number"?G:W+Z.limit,U=this._buffer.slice(W,F);return this._index=F,F>=G&&this.close(),Promise.resolve(U)}}class IntegerIterator extends AsyncIterator{constructor({start:Z=0,step:G=1,end:W}={}){super(),Number.isFinite(Z)&&(Z=Math.trunc(Z)),this._next=Z,Number.isFinite(G)&&(G=Math.trunc(G)),this._step=G;const F=G>=0,U=F?1/0:-1/0;Number.isFinite(W)?W=Math.trunc(W):W!==-U&&(W=U),this._last=W,!Number.isFinite(Z)||(F?Z>W:Z<W)?this.close():this.readable=!0}read(){if(this.closed)return null;const Z=this._next,G=this._step,W=this._last,F=this._next+=G;return(G>=0?F>W:F<W)&&this.close(),Z}_toStringDetails(){return`(${this._next}...${this._last})`}}function identity$3(X){return X}const DESTINATION=Symbol("destination");class MappingIterator extends AsyncIterator{constructor(Z,G=identity$3,W={}){super(),this._map=G,this._source=ensureSourceAvailable(Z),this._destroySource=W.destroySource!==!1,Z.done?this.close():(this._source[DESTINATION]=this,this._source.on("end",destinationClose),this._source.on("error",destinationEmitError),this._source.on("readable",destinationSetReadable),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let Z,G;for(;(Z=this._source.read())!==null;)if((G=this._map(Z))!==null)return G}this.readable=!1,this._source.done&&this.close()}return null}_end(Z){this._source.removeListener("end",destinationClose),this._source.removeListener("error",destinationEmitError),this._source.removeListener("readable",destinationSetReadable),delete this._source[DESTINATION],this._destroySource&&this._source.destroy(),super._end(Z)}}function ensureSourceAvailable(X,Z=!1){if(!X||!isFunction$1(X.read)||!isFunction$1(X.on))throw new TypeError(`Invalid source: ${X}`);if(!Z&&X[DESTINATION])throw new Error("The source already has a destination");return X}class BufferedIterator extends AsyncIterator{constructor({maxBufferSize:Z=4,autoStart:G=!0}={}){super(INIT),this._buffer=new LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=Z,taskScheduler(()=>this._init(G)),this._sourceStarted=G!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(Z){Z!==1/0&&(Z=Number.isFinite(Z)?Math.max(Math.trunc(Z),1):4),this._maxBufferSize!==Z&&(this._maxBufferSize=Z,this._state===OPEN&&this._fillBuffer())}_init(Z){let G=!1;this._reading=!0,this._begin(()=>{if(G)throw new Error("done callback called multiple times");G=!0,this._reading=!1,this._changeState(OPEN),Z?this._fillBufferAsync():this.readable=!0})}_begin(Z){Z()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const Z=this._buffer;let G;return Z.empty?(G=null,this.readable=!1):G=Z.shift(),!this._reading&&Z.length<this._maxBufferSize&&(this.closed?Z.empty&&this._endAsync():this._fillBufferAsync()),G}_read(Z,G){G()}_push(Z){this.done||(this._pushedCount++,this._buffer.push(Z),this.readable=!0)}_fillBuffer(){let Z;this._reading||(this.closed?this._completeClose():(Z=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(Z,()=>{if(!Z)throw new Error("done callback called multiple times");Z=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,taskScheduler(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(CLOSING):this._completeClose()}_completeClose(){this._changeState(CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(Z,G){this._buffer.clear(),G()}_flush(Z){Z()}_toStringDetails(){const Z=this._buffer;return`{${Z.empty?"":`next: ${Z.first}, `}buffer: ${Z.length}}`}}class TransformIterator extends BufferedIterator{constructor(Z,G=Z||{}){super(G),this._boundPush=W=>this._push(W),isSourceExpression(Z)||(Z=G.source),isEventEmitter(Z)?this.source=Z:Z&&(this._createSource=isPromise(Z)?()=>Z:Z,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!G.optional,this._destroySource=G.destroySource!==!1}get source(){return isFunction$1(this._createSource)&&this._loadSourceAsync(),this._source}set source(Z){const G=this._source=this._validateSource(Z);G[DESTINATION]=this,this.done?this._destroySource&&G.destroy():G.done?this.close():(G.on("end",destinationCloseWhenDone),G.on("readable",destinationFillBuffer),G.on("error",destinationEmitError))}_loadSourceAsync(){isFunction$1(this._createSource)&&(Promise.resolve(this._createSource()).then(Z=>{delete this._createSource,this.source=Z,this._fillBuffer()},Z=>this.emit("error",Z)),this._createSource=null)}_validateSource(Z,G=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return ensureSourceAvailable(Z,G)}_read(Z,G){const W=()=>{this._pushedCount<Z&&!this.closed?taskScheduler(()=>this._readAndTransform(W,G)):G()};this._readAndTransform(W,G)}_readAndTransform(Z,G){let W;const F=this.source;!F||F.done||(W=F.read())===null?G():this._optional?this._optionalTransform(W,Z):this._transform(W,Z,this._boundPush)}_optionalTransform(Z,G){const W=this._pushedCount;this._transform(Z,()=>{W===this._pushedCount&&this._push(Z),G()},this._boundPush)}_transform(Z,G,W){W(Z),G()}_closeWhenDone(){this.close()}_end(Z){const G=this._source;G&&(G.removeListener("end",destinationCloseWhenDone),G.removeListener("error",destinationEmitError),G.removeListener("readable",destinationFillBuffer),delete G[DESTINATION],this._destroySource&&G.destroy()),super._end(Z)}}function destinationSetReadable(){this[DESTINATION].readable=!0}function destinationEmitError(X){this[DESTINATION].emit("error",X)}function destinationClose(){this[DESTINATION].close()}function destinationCloseWhenDone(){this[DESTINATION]._closeWhenDone()}function destinationFillBuffer(){this[DESTINATION]._sourceStarted!==!1&&this[DESTINATION]._fillBuffer()}class SimpleTransformIterator extends TransformIterator{constructor(Z,G){if(super(Z,G),this._offset=0,this._limit=1/0,this._filter=W=>!0,G=G||(isSourceExpression(Z)?null:Z),G){const W=isFunction$1(G)?G:G.transform,{limit:F,offset:U,filter:J,map:Y,prepend:D,append:Q}=G;U===1/0||F===-1/0?this._limit=0:(Number.isFinite(U)&&(this._offset=Math.max(Math.trunc(U),0)),Number.isFinite(F)&&(this._limit=Math.max(Math.trunc(F),0)),isFunction$1(J)&&(this._filter=J),isFunction$1(Y)&&(this._map=Y),this._transform=isFunction$1(W)?W:null),D&&(this._prepender=isEventEmitter(D)?D:fromArray(D)),Q&&(this._appender=isEventEmitter(Q)?Q:fromArray(Q))}}_read(Z,G){const W=()=>this._readAndTransformSimple(Z,F,G);this._readAndTransformSimple(Z,F,G);function F(){taskScheduler(W)}}_readAndTransformSimple(Z,G,W){let F;const{source:U}=this;if(!U||U.done){W();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<Z&&(F=U.read())!==null;){if(!this._filter(F)||this._offset!==0&&this._offset--)continue;const J=typeof this._map>"u"?F:this._map(F);if(J===null)this._optional&&this._push(F);else if(!isFunction$1(this._transform))this._push(J);else{this._optional?this._optionalTransform(J,G):this._transform(J,G,this._boundPush);return}--this._limit===0&&this.close()}W()}_begin(Z){this._insert(this._prepender,Z),delete this._prepender}_flush(Z){this._insert(this._appender,Z),delete this._appender}_insert(Z,G){const W=U=>this._push(U);!Z||Z.done?G():(Z.on("data",W),Z.on("end",F));function F(){Z.removeListener("data",W),Z.removeListener("end",F),G()}}}class MultiTransformIterator extends TransformIterator{constructor(Z,G){if(super(Z,G),this._transformerQueue=[],G){const W=isFunction$1(G)?G:G.multiTransform;W&&(this._createTransformer=W)}}_read(Z,G){const W=this._transformerQueue,F=this._optional;let U,J;for(;(U=W[0])&&U.transformer.done;){F&&U.item!==null&&(Z--,this._push(U.item)),W.shift();const{transformer:D}=U;D.removeListener("end",destinationFillBuffer),D.removeListener("readable",destinationFillBuffer),D.removeListener("error",destinationEmitError)}const{source:Y}=this;for(;Y&&!Y.done&&W.length<this.maxBufferSize&&(J=Y.read(),J!==null);){const D=this._createTransformer(J)||new EmptyIterator;D[DESTINATION]=this,D.on("end",destinationFillBuffer),D.on("readable",destinationFillBuffer),D.on("error",destinationEmitError),W.push({transformer:D,item:J})}if(U=W[0],U){const{transformer:D}=U;for(;Z-- >0&&(J=D.read())!==null;)this._push(J),F&&(U.item=null)}else Y&&Y.done&&this.close();G()}_createTransformer(Z){return new SingletonIterator(Z)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(Z){if(super._end(Z),this._destroySource)for(const G of this._transformerQueue)G.transformer.destroy()}}class UnionIterator extends BufferedIterator{constructor(Z,G={}){super(G),this._sources=[],this._currentSource=-1;const W=G.autoStart!==!1;if(isEventEmitter(Z))Z.on("error",F=>this.emit("error",F)),this._pending={loading:!1,sources:Z},W&&this._loadSources();else if(Array.isArray(Z)&&Z.length>0)for(const F of Z)this._addSource(F);else W&&this.close();this._destroySources=G.destroySources!==!1}_loadSources(){const Z=this._pending.sources;this._pending.loading=!0,Z.done?(delete this._pending,this.close()):(Z.on("data",G=>{this._addSource(G),this._fillBufferAsync()}),Z.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(Z){isPromise(Z)&&(Z=wrap(Z)),Z.done||(this._sources.push(Z),Z[DESTINATION]=this,Z.on("error",destinationEmitError),Z.on("readable",destinationFillBuffer),Z.on("end",destinationRemoveEmptySources))}_removeEmptySources(){this._sources=this._sources.filter((Z,G)=>(Z.done&&G<=this._currentSource&&this._currentSource--,!Z.done)),this._fillBuffer()}_read(Z,G){var W;((W=this._pending)===null||W===void 0?void 0:W.loading)===!1&&this._loadSources();let F=0,U;for(;F!==(F=Z);)for(let J=0;J<this._sources.length&&Z>0;J++)this._currentSource=(this._currentSource+1)%this._sources.length,(U=this._sources[this._currentSource].read())!==null&&(Z--,this._push(U));!this._pending&&this._sources.length===0&&this.close(),G()}_end(Z=!1){if(super._end(Z),this._destroySources){for(const G of this._sources)G.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function destinationRemoveEmptySources(){this[DESTINATION]._removeEmptySources()}class ClonedIterator extends TransformIterator{constructor(Z){super(Z,{autoStart:!1}),this._readPosition=0,this._reading=!1}_init(){}close(){AsyncIterator.prototype.close.call(this)}get source(){return super.source}set source(Z){const G=this._source=this._validateSource(Z),W=G&&G[DESTINATION]||(G[DESTINATION]=new HistoryReader(G));this.done?this._destroySource&&G.destroy():W.endsAt(0)?this.close():(W.register(this),(G._sourceStarted===!1||W.readAt(0)!==null)&&(this.readable=!0));const F=this._propertyCallbacks;for(const U in F){const J=F[U];for(const Y of J)this._getSourceProperty(U,Y)}}_validateSource(Z,G=!1){const W=Z&&Z[DESTINATION];return super._validateSource(Z,!W||W instanceof HistoryReader)}getProperty(Z,G){const{source:W}=this,F=this._properties,U=F&&Z in F;if(!G)return U?F&&F[Z]:W&&W.getProperty(Z);super.getProperty(Z,G),W&&!U&&this._getSourceProperty(Z,G)}_getSourceProperty(Z,G){this.source.getProperty(Z,W=>{(!this._properties||!(Z in this._properties))&&G(W)})}getProperties(){const Z=this.source?this.source.getProperties():{},G=this._properties;for(const W in G)Z[W]=G[W];return Z}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const Z=this.source;let G=null;if(!this.done&&Z){const W=Z[DESTINATION];(G=W.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,W.endsAt(this._readPosition)&&this.close()}return G}_end(Z){const G=this.source,W=G?.[DESTINATION];W&&W.unregister(this),BufferedIterator.prototype._end.call(this,Z)}}class HistoryReader{constructor(Z){if(this._history=[],this._trackers=new Set,this._source=Z,!Z.done){const G=()=>{for(const U of this._trackers)U.readable=!0},W=U=>{for(const J of this._trackers)J.emit("error",U)},F=()=>{for(const U of this._trackers)U._sourceStarted!==!1&&U._readPosition===this._history.length&&U.close();this._trackers.clear(),Z.removeListener("end",F),Z.removeListener("error",W),Z.removeListener("readable",G)};Z.on("end",F),Z.on("error",W),Z.on("readable",G)}}register(Z){this._source.done||this._trackers.add(Z)}unregister(Z){this._trackers.delete(Z)}readAt(Z){let G=null;return Z<this._history.length?G=this._history[Z]:!this._source.done&&(G=this._source.read())!==null&&(this._history[Z]=G),G}endsAt(Z){return this._source.done&&this._history.length===Z}}class WrappingIterator extends AsyncIterator{constructor(Z,G){super(),this._source=null,this._destroySource=G?.destroySource!==!1,isPromise(Z)?(this._source=new AsyncIterator,Z.then(W=>{this._source=null,this.source=W}).catch(W=>this.emit("error",W))):Z&&(this.source=Z)}set source(Z){let G=Z;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(isIterable(G)&&(G=G[Symbol.iterator]()),isIterator(G)){let W=G;G=new eventsExports.EventEmitter,G.read=()=>{if(W!==null){let F;for(;!(F=W.next()).done;)if(F.value!==null)return F.value;W=null,this.close()}return null}}else G=ensureSourceAvailable(G);if(this.done){this._destroySource&&isFunction$1(G.destroy)&&G.destroy();return}G[DESTINATION]=this,G.on("end",destinationClose),G.on("error",destinationEmitError),G.on("readable",destinationSetReadable),this._source=G,this.readable=G.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const Z=this._source.read();if(Z!==null)return Z;this.readable=!1}return null}_end(Z=!1){this._source!==null&&(this._source.removeListener("end",destinationClose),this._source.removeListener("error",destinationEmitError),this._source.removeListener("readable",destinationSetReadable),delete this._source[DESTINATION],this._destroySource&&isFunction$1(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(Z)}}function wrap(X,Z){if(Z&&("autoStart"in Z||"optional"in Z||"source"in Z||"maxBufferSize"in Z))return X&&!isEventEmitter(X)&&(X=new WrappingIterator(X)),new TransformIterator(X,Z);if(!X)return empty();if(isPromise(X))return new WrappingIterator(X,Z);if(X instanceof AsyncIterator)return X;if(Array.isArray(X))return fromArray(X);if(isIterable(X)||isIterator(X)||isEventEmitter(X))return new WrappingIterator(X,Z);throw new TypeError(`Invalid source: ${X}`)}function empty(){return new EmptyIterator}function single(X){return new SingletonIterator(X)}function fromArray(X){return new ArrayIterator(X)}function fromIterator(X){return new WrappingIterator(X)}function fromIterable(X){return new WrappingIterator(X)}function union(X){return new UnionIterator(X)}function range(X,Z,G){return new IntegerIterator({start:X,end:Z,step:G})}function bind(X,Z){return Z?X.bind(Z):X}function isFunction$1(X){return typeof X=="function"}function isEventEmitter(X){return isFunction$1(X?.on)}function isPromise(X){return isFunction$1(X?.then)}function isSourceExpression(X){return X&&(isEventEmitter(X)||isPromise(X)||isFunction$1(X))}function isIterable(X){return X&&Symbol.iterator in X}function isIterator(X){return isFunction$1(X?.next)}const __QUADSTORE_COMUNICA_EXTERNAL_MODULE_asynciterator__=Object.freeze(Object.defineProperty({__proto__:null,ArrayIterator,AsyncIterator,BufferedIterator,CLOSED,CLOSING,ClonedIterator,DESTINATION,DESTROYED,ENDED,EmptyIterator,INIT,IntegerIterator,LinkedList,MappingIterator,MultiTransformIterator,OPEN,SimpleTransformIterator,SingletonIterator,TransformIterator,UnionIterator,WrappingIterator,empty,fromArray,fromIterable,fromIterator,getTaskScheduler,identity:identity$3,isEventEmitter,isFunction:isFunction$1,isIterable,isIterator,isPromise,isSourceExpression,range,scheduleTask,setTaskScheduler,single,union,wrap},Symbol.toStringTag,{value:"Module"})),isObject$1=X=>typeof X=="object"&&X!==null,isAbstractLevel=X=>isObject$1(X)&&typeof X.open=="function"&&typeof X.batch=="function",ensureAbstractLevel=(X,Z)=>{if(!isAbstractLevel(X))throw new Error(`${Z} is not an AbstractLevel instance`)},streamToArray=X=>new Promise((Z,G)=>{const W=[],F=D=>{W.push(D)},U=()=>{X.removeListener("data",F),X.removeListener("error",Y),X.destroy()},J=()=>{U(),Z(W)},Y=D=>{U(),G(D)};X.on("error",Y),X.on("end",J),X.on("data",F)}),arrStartsWith=(X,Z)=>{for(let G=0;G<Z.length;G+=1)if(Z[G]!==X[G])return!1;return!0},RESOLVED=Promise.resolve(),emptyObject={},boundary="􏿿",separator="\0\0",defaultIndexes=[["subject","predicate","object","graph"],["object","graph","subject","predicate"],["graph","subject","predicate","object"],["subject","object","predicate","graph"],["predicate","object","graph","subject"],["graph","predicate","object","subject"]],levelPutOpts={keyEncoding:"utf8",valueEncoding:"view"},levelDelOpts={keyEncoding:"utf8"},emptyValue=new Uint8Array(0),consumeOneByOne=async(X,Z)=>new Promise((G,W)=>{let F,U=!1,J=!1;const Y=()=>{if(J=!0,(F=X.read())!==null){Promise.resolve(Z(F)).then(Y).catch(D);return}J=!1,U&&G()},D=te=>{W(te),q()},Q=()=>{U=!0,J||G(),q()},ee=()=>{J||Y()},q=()=>{X.removeListener("end",Q),X.removeListener("error",D),X.removeListener("readable",ee),typeof X.destroy=="function"&&X.destroy()};X.on("end",Q),X.on("error",D),X.on("readable",ee),X.readable!==!1&&Y()}),consumeInBatches=async(X,Z,G)=>new Promise((W,F)=>{let U=0,J=!1,Y=!1,D=new Array(Z);const Q=()=>{if(ce(),U>0){Promise.resolve(G(D.slice(0,U))).then(W).catch(q);return}W()},ee=()=>{Y=!0,J||Q()},q=le=>{ce(),F(le)},te=()=>{J||ne()};let ie=null;const ne=()=>{if(J=!0,Y){Q();return}for(;U<Z&&(ie=X.read())!==null;)D[U++]=ie;if(ie===null){J=!1;return}U===Z&&(Promise.resolve(G(D.slice())).then(ne).catch(q),U=0)},ce=()=>{X.removeListener("end",ee),X.removeListener("error",q),X.removeListener("readable",te),typeof X.destroy=="function"&&X.destroy()};X.on("end",ee),X.on("error",q),X.on("readable",te),X.readable!==!1&&ne()});let IDX=256;const HEX=[];for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);const createUid=X=>{X=X||16;let Z="",G=0;return()=>{if(!Z||G===256){for(Z="",G=(1+X)/2|0;G--;)Z+=HEX[256*Math.random()|0];Z=Z.substring(G=0,X-2)}return Z+HEX[G++]}},uid=createUid(11);class LevelIterator extends BufferedIterator{level;mapFn;levelEnded;constructor(Z,G){super({maxBufferSize:64}),this.mapFn=G,this.level=Z,this.levelEnded=!1}_read(Z,G){const W={remaining:Z};W.next=this._onNextValue.bind(this,W,G),this.level.next(W.next)}_onNextValue(Z,G,W,F,U){if(W){G(W);return}if(F===void 0&&U===void 0){this.close(),this.levelEnded=!0,G();return}if(this._push(this.mapFn(F,U)),Z.remaining-=1,Z.remaining===0){G();return}this.level.next(Z.next)}_endLevel(Z){if(this.levelEnded){Z();return}this.level.close(G=>{G||(this.levelEnded=!0),Z(G)})}_end(Z){this.ended||(super._end(Z),this._endLevel(G=>{G&&this.emit("error",G)}))}_destroy(Z,G){if(this.destroyed){G();return}this._endLevel(W=>{if(W){G(W);return}super._destroy(Z,G)})}}const xsd="http://www.w3.org/2001/XMLSchema#",string=`${xsd}string`,dateTime=`${xsd}dateTime`,integer=`${xsd}integer`,decimal=`${xsd}decimal`,double=`${xsd}double`,nonPositiveInteger=`${xsd}nonPositiveInteger`,negativeInteger=`${xsd}negativeInteger`,long=`${xsd}long`,int=`${xsd}int`,short=`${xsd}short`,byte=`${xsd}byte`,nonNegativeInteger=`${xsd}nonNegativeInteger`,unsignedLong=`${xsd}unsignedLong`,unsignedInt=`${xsd}unsignedInt`,unsignedShort=`${xsd}unsignedShort`,unsignedByte=`${xsd}unsignedByte`,positiveInteger=`${xsd}positiveInteger`,sliceString=(X,Z,G)=>X.slice(Z,Z+G),padNumStart=X=>{if(X<10)return"000"+X;if(X<100)return"00"+X;if(X<1e3)return"0"+X;if(X<1e4)return""+X;throw new Error("too long: "+X)},join=(X,Z,G)=>{let W=""+X;return Z<10?W+="00"+Z:Z<100?W+="0"+Z:W+=Z,W+=G.toFixed(17),W},ZERO=join(3,0,0),NEG_INF=join(0,0,0),POS_INF=join(6,0,0),encode=X=>{let Z=typeof X!="number"?parseFloat(X):X;if(Number.isNaN(Z))throw new Error("Cannot serialize NaN");if(Z===-1/0)return NEG_INF;if(Z===1/0)return POS_INF;if(Z===0)return ZERO;let G=0,W=0;for(Z<0&&(W=1,Z*=-1);Z>10;)Z/=10,G+=1;for(;Z<1;)Z*=10,G-=1;return W===1?G>=0?join(1,999-G,10-Z):join(2,G*-1,10-Z):G<0?join(4,999+G,Z):join(5,G,Z)},namedNodeWriter={write(X,Z,G){const W=G.compactIri(X.value);Z.lengths=padNumStart(W.length),Z.value=W}},namedNodeReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4));return Z.lengthsOffset+=4,Z.keyOffset+=J,G.namedNode(W.expandTerm(sliceString(X,F,J)))}},blankNodeWriter={write(X,Z){Z.lengths=padNumStart(X.value.length),Z.value=X.value}},blankNodeReader={read(X,Z,G){const{keyOffset:W,lengthsOffset:F}=Z,U=parseInt(sliceString(X,F,4));return Z.lengthsOffset+=4,Z.keyOffset+=U,G.blankNode(sliceString(X,W,U))}},genericLiteralWriter={write(X,Z){Z.lengths=padNumStart(X.value.length)+padNumStart(X.datatype.value.length),Z.value=X.datatype.value+separator+X.value}},genericLiteralReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4)),Y=parseInt(sliceString(X,U+4,4));return Z.lengthsOffset+=8,Z.keyOffset+=J+Y+separator.length,G.literal(sliceString(X,F+Y+separator.length,J),G.namedNode(sliceString(X,F,Y)))}},stringLiteralWriter={write(X,Z){Z.lengths=padNumStart(X.value.length),Z.value=X.value}},stringLiteralReader={read(X,Z,G){const{keyOffset:W,lengthsOffset:F}=Z,U=parseInt(sliceString(X,F,4));return Z.lengthsOffset+=4,Z.keyOffset+=U,G.literal(sliceString(X,W,U))}},langStringLiteralWriter={write(X,Z){Z.lengths=padNumStart(X.value.length)+padNumStart(X.language.length),Z.value=X.language+separator+X.value}},langStringLiteralReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4)),Y=parseInt(sliceString(X,U+4,4));return Z.lengthsOffset+=8,Z.keyOffset+=J+Y+separator.length,G.literal(sliceString(X,F+Y+separator.length,J),sliceString(X,F,Y))}},numericLiteralWriter={write(X,Z,G,W,F){Z.lengths=padNumStart(X.value.length)+padNumStart(X.datatype.value.length)+padNumStart(F.length),W?Z.value=F:Z.value=F+separator+X.datatype.value+separator+X.value}},numericLiteralReader={read(X,Z,G,W){const{keyOffset:F,lengthsOffset:U}=Z,J=parseInt(sliceString(X,U,4)),Y=parseInt(sliceString(X,U+4,4)),D=parseInt(sliceString(X,U+8,4));return Z.lengthsOffset+=12,Z.keyOffset+=D+Y+J+separator.length*2,G.literal(sliceString(X,F+D+separator.length+Y+separator.length,J),G.namedNode(sliceString(X,F+D+separator.length,Y)))}},defaultGraphWriter={write(X,Z){Z.value="dg",Z.lengths="2"}},defaultGraphReader={read(X,Z,G,W){return Z.keyOffset+=2,Z.lengthsOffset+=1,G.defaultGraph()}},termWriter={write(X,Z,G){switch(X.termType){case"NamedNode":Z.type="0",namedNodeWriter.write(X,Z,G);break;case"BlankNode":Z.type="1",blankNodeWriter.write(X,Z,G);break;case"DefaultGraph":Z.type="6",defaultGraphWriter.write(X,Z,G);break;case"Literal":if(X.language)Z.type="4",langStringLiteralWriter.write(X,Z,G);else if(X.datatype)switch(X.datatype.value){case string:Z.type="3",stringLiteralWriter.write(X,Z,G);break;case integer:case double:case decimal:case nonPositiveInteger:case negativeInteger:case long:case int:case short:case byte:case nonNegativeInteger:case unsignedLong:case unsignedInt:case unsignedShort:case unsignedByte:case positiveInteger:Z.type="5",numericLiteralWriter.write(X,Z,G,!1,encode(X.value));break;case dateTime:Z.type="7",numericLiteralWriter.write(X,Z,G,!1,encode(new Date(X.value).valueOf()));break;default:Z.type="2",genericLiteralWriter.write(X,Z,G)}else Z.type="3",stringLiteralWriter.write(X,Z,G)}}},termReader={read(X,Z,G,W){let F;const U=X.charAt(Z.lengthsOffset);switch(Z.lengthsOffset+=1,U){case"0":F=namedNodeReader.read(X,Z,G,W);break;case"1":F=blankNodeReader.read(X,Z,G,W);break;case"2":F=genericLiteralReader.read(X,Z,G,W);break;case"3":F=stringLiteralReader.read(X,Z,G,W);break;case"4":F=langStringLiteralReader.read(X,Z,G,W);break;case"5":F=numericLiteralReader.read(X,Z,G,W);break;case"6":F=defaultGraphReader.read(X,Z,G,W);break;case"7":F=numericLiteralReader.read(X,Z,G,W);break;default:throw new Error(`Unexpected encoded term type "${U}"`)}return F}},twoStepsQuadWriter={subject:{type:"",value:"",lengths:""},predicate:{type:"",value:"",lengths:""},object:{type:"",value:"",lengths:""},graph:{type:"",value:"",lengths:""},ingest(X,Z){return termWriter.write(X.subject,this.subject,Z),termWriter.write(X.predicate,this.predicate,Z),termWriter.write(X.object,this.object,Z),termWriter.write(X.graph,this.graph,Z),this},write(X,Z){let G=X,W="";for(let F=0,U;F<Z.length;F+=1)U=this[Z[F]],G+=U.value+separator,W+=U.type+U.lengths;return G+W+padNumStart(W.length)}},quadReader={subject:null,predicate:null,object:null,graph:null,keyOffset:0,lengthsOffset:0,read(X,Z,G,W,F){this.lengthsOffset=X.length-parseInt(X.slice(-4))-4,this.keyOffset=Z;for(let U=0,J;U<G.length;U+=1)J=G[U],this[J]=termReader.read(X,this,W,F),this.keyOffset+=separator.length;return W.quad(this.subject,this.predicate,this.object,this.graph)}},serialized={type:"",value:"",lengths:""},patternLiteralWriter={write(X,Z){if(X.language){langStringLiteralWriter.write(X,serialized,Z);return}if(X.datatype)switch(X.datatype.value){case string:stringLiteralWriter.write(X,serialized,Z);return;case integer:case double:case decimal:case nonPositiveInteger:case negativeInteger:case long:case int:case short:case byte:case nonNegativeInteger:case unsignedLong:case unsignedInt:case unsignedShort:case unsignedByte:case positiveInteger:numericLiteralWriter.write(X,serialized,Z,!0,encode(X.value));return;case dateTime:numericLiteralWriter.write(X,serialized,Z,!0,encode(new Date(X.value).valueOf()));return;default:genericLiteralWriter.write(X,serialized,Z);return}stringLiteralWriter.write(X,serialized,Z)}},writePattern=(X,Z,G)=>{let W=Z.prefix,F=Z.prefix,U=!0,J=!0,Y=!1,D=!1,Q=Object.entries(X).filter(([q,te])=>te).length;if(Q===0)return F+=boundary,{gt:W,lt:F,gte:U,lte:J,order:Z.terms,index:Z};let ee=0;for(;ee<Z.terms.length&&Q>0;ee+=1){const q=X[Z.terms[ee]];if(!q||Y||D)return null;switch(q.termType){case"Range":Y=!0,q.gt?(patternLiteralWriter.write(q.gt,G),W+=serialized.value,U=!1):q.gte&&(patternLiteralWriter.write(q.gte,G),W+=serialized.value,U=!0),q.lt?(patternLiteralWriter.write(q.lt,G),F+=serialized.value,J=!1):q.lte&&(patternLiteralWriter.write(q.lte,G),F+=serialized.value,J=!0);break;case"Literal":D=!0,patternLiteralWriter.write(q,G),W+=serialized.value,U=!0,patternLiteralWriter.write(q,G),F+=serialized.value,J=!0;break;case"NamedNode":namedNodeWriter.write(q,serialized,G),W+=serialized.value,U=!0,namedNodeWriter.write(q,serialized,G),F+=serialized.value,J=!0;break;case"BlankNode":blankNodeWriter.write(q,serialized,G),W+=serialized.value,U=!0,blankNodeWriter.write(q,serialized,G),F+=serialized.value,J=!0;break;case"DefaultGraph":defaultGraphWriter.write(q,serialized,G),W+=serialized.value,U=!0,defaultGraphWriter.write(q,serialized,G),F+=serialized.value,J=!0;break}Q-=1,Q>0&&ee<Z.terms.length-1&&(W+=separator,F+=separator)}return J?Y||D?F+=boundary:F+=separator+boundary:F+=separator,U?!Y&&!D&&(W+=separator):Y||D?W+=boundary:W+=separator+boundary,{gt:W,lt:F,gte:U,lte:J,order:Z.terms.slice(Y?ee-1:1),index:Z}};var sortedSetExports={},sortedSet={get exports(){return sortedSetExports},set exports(X){sortedSetExports=X}};(function(X,Z){(function(G,W){X.exports=W()})(commonjsGlobal,function(){class G{constructor(re){if(re?.strategy==null)throw"Must pass options.strategy, a strategy";if(re?.comparator==null)throw"Must pass options.comparator, a comparator";if(re?.onInsertConflict==null)throw"Must pass options.onInsertConflict, a function";this.priv=new re.strategy(re),this.length=0}insert(re){return this.priv.insert(re),this.length+=1,this}remove(re){return this.priv.remove(re),this.length-=1,this}clear(){return this.priv.clear(),this.length=0,this}contains(re){return this.priv.contains(re)}toArray(){return this.priv.toArray()}forEach(re,Ze){return this.priv.forEachImpl(re,this,Ze),this}map(re,Ze){const Ge=[];return this.forEach(function(ve,Te,xe){return Ge.push(re.call(Ze,ve,Te,xe))}),Ge}filter(re,Ze){const Ge=[];return this.forEach(function(ve,Te,xe){if(re.call(Ze,ve,Te,xe))return Ge.push(ve)}),Ge}every(re,Ze){let Ge=!0;return this.forEach(function(ve,Te,xe){Ge&&!re.call(Ze,ve,Te,xe)&&(Ge=!1)}),Ge}some(re,Ze){let Ge=!1;return this.forEach(function(ve,Te,xe){!Ge&&re.call(Ze,ve,Te,xe)&&(Ge=!0)}),Ge}findIterator(re){return this.priv.findIterator(re)}beginIterator(){return this.priv.beginIterator()}endIterator(){return this.priv.endIterator()}}class W{constructor(re,Ze){this.priv=re,this.index=Ze,this.data=this.priv.data}hasNext(){return this.index<this.data.length}hasPrevious(){return this.index>0}value(){return this.index<this.data.length?this.data[this.index]:null}setValue(re){if(!this.priv.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.data[this.index]=re}next(){return this.index>=this.data.length?null:new W(this.priv,this.index+1)}previous(){return this.index<=0?null:new W(this.priv,this.index-1)}}const F=(ye,re,Ze)=>{let Ge=0,ve=ye.length;for(;Ge<ve;){const Te=Ge+ve>>>1;Ze(ye[Te],re)<0?Ge=Te+1:ve=Te}return Ge};class U{constructor(re){this.options=re,this.onInsertConflict=this.options.onInsertConflict,this.comparator=this.options.comparator,this.data=[]}toArray(){return this.data}insert(re){const Ze=F(this.data,re,this.comparator);return this.data[Ze]!==void 0&&this.comparator(this.data[Ze],re)===0?this.data.splice(Ze,1,this.onInsertConflict(this.data[Ze],re)):this.data.splice(Ze,0,re)}remove(re){const Ze=F(this.data,re,this.comparator);if(this.comparator(this.data[Ze],re)!==0)throw"Value not in set";return this.data.splice(Ze,1)}clear(){return this.data.length=0}contains(re){const Ze=F(this.data,re,this.comparator);return this.index!==this.data.length&&this.comparator(this.data[Ze],re)===0}forEachImpl(re,Ze,Ge){const ve=this.data,Te=ve.length;for(let xe=0;xe<Te;xe++)re.call(Ge,ve[xe],xe,Ze)}findIterator(re){const Ze=F(this.data,re,this.comparator);return new W(this,Ze)}beginIterator(){return new W(this,0)}endIterator(){return new W(this,this.data.length)}}const J=(ye,re)=>{for(;re[ye]!==null;){const Ze=re;re=re[ye],re._iteratorParentNode=Ze}return re},Y=(ye,re)=>{let Ze,Ge;if(re[ye]!==null)Ze=re,re=re[ye],re._iteratorParentNode=Ze,Ge=ye==="left"?"right":"left",re=J(Ge,re);else{for(;(Ze=re._iteratorParentNode)!==null&&Ze[ye]===re;)re=Ze;re=Ze}return re};class D{constructor(re,Ze){this.tree=re,this.node=Ze}next(){if(this.node===null)return null;{const re=Y("right",this.node);return new D(this.tree,re)}}previous(){if(this.node===null){if(this.tree.root===null)return null;{this.tree.root._iteratorParentNode=null;const re=J("right",this.tree.root);return new D(this.tree,re)}}else{const re=Y("left",this.node);return re===null?null:new D(this.tree,re)}}hasNext(){return this.node!==null}hasPrevious(){return this.previous()!==null}value(){return this.node===null?null:this.node.value}setValue(re){if(!this.tree.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.node.value=re}}D.find=function(ye,re,Ze){const Ge=ye.root;Ge!=null&&(Ge._iteratorParentNode=null);let ve=Ge,Te=null;for(;ve!==null;){const xe=Ze(re,ve.value);if(xe===0)break;if(xe<0){if(ve.left===null)break;Te=ve,ve.left._iteratorParentNode=ve,ve=ve.left}else if(ve.right!==null)ve.right._iteratorParentNode=ve,ve=ve.right;else{ve=Te;break}}return new D(ye,ve)},D.left=ye=>{if(ye.root===null)return new D(ye,null);{ye.root._iteratorParentNode=null;const re=J("left",ye.root);return new D(ye,re)}},D.right=ye=>new D(ye,null);const Q=(ye,re)=>{ye!==null&&(Q(ye.left,re),re(ye.value),Q(ye.right,re))};class ee{toArray(){const re=[];return Q(this.root,function(Ze){return re.push(Ze)}),re}clear(){return this.root=null}forEachImpl(re,Ze,Ge){let ve=0;Q(this.root,function(Te){re.call(Ge,Te,ve,Ze),ve+=1})}contains(re){const Ze=this.comparator;let Ge=this.root;for(;Ge!==null;){const ve=Ze(re,Ge.value);if(ve===0)break;ve<0?Ge=Ge.left:Ge=Ge.right}return Ge!==null&&Ze(Ge.value,re)===0}findIterator(re){return D.find(this,re,this.comparator)}beginIterator(){return D.left(this)}endIterator(){return D.right(this)}}class q{constructor(re){this.value=re,this.left=null,this.right=null}}const te=(ye,re)=>{for(;ye[re]!==null;)ye=ye[re];return ye},ie=(ye,re,Ze)=>{if(ye===null)throw"Value not in set";const Ge=Ze(re,ye.value);if(Ge<0)ye.left=ie(ye.left,re,Ze);else if(Ge>0)ye.right=ie(ye.right,re,Ze);else if(ye.left===null&&ye.right===null)ye=null;else if(ye.right===null)ye=ye.left;else if(ye.left===null)ye=ye.right;else{const ve=te(ye.right,"left");ye.value=ve.value,ye.right=ie(ye.right,ve.value,Ze)}return ye};class ne extends ee{constructor(re){super(),this.options=re,this.comparator=this.options.comparator,this.onInsertConflict=this.options.onInsertConflict,this.root=null}insert(re){const Ze=this.comparator;if(this.root!==null){let Ge=this.root,ve=null;for(;;){const Te=Ze(re,Ge.value);if(Te===0){Ge.value=this.onInsertConflict(Ge.value,re);return}else{if(ve=Te<0?"left":"right",Ge[ve]===null)break;Ge=Ge[ve]}}return Ge[ve]=new q(re)}else return this.root=new q(re)}remove(re){return this.root=ie(this.root,re,this.comparator)}}class ce{constructor(re){this.value=re,this.left=null,this.right=null,this.isRed=!0}}const le=ye=>{const re=ye.right;return ye.right=re.left,re.left=ye,re.isRed=ye.isRed,ye.isRed=!0,re},se=ye=>{const re=ye.left;return ye.left=re.right,re.right=ye,re.isRed=ye.isRed,ye.isRed=!0,re},pe=ye=>{ye.isRed=!ye.isRed,ye.left.isRed=!ye.left.isRed,ye.right.isRed=!ye.right.isRed},ue=ye=>(pe(ye),ye.right!==null&&ye.right.left!==null&&ye.right.left.isRed&&(ye.right=se(ye.right),ye=le(ye),pe(ye)),ye),ae=ye=>(pe(ye),ye.left!==null&&ye.left.left!==null&&ye.left.left.isRed&&(ye=se(ye),pe(ye)),ye),de=(ye,re,Ze,Ge)=>{if(ye===null)return new ce(re);const ve=Ze(re,ye.value);return ve===0?ye.value=Ge(ye.value,re):ve<0?ye.left=de(ye.left,re,Ze,Ge):ye.right=de(ye.right,re,Ze,Ge),ye.right!==null&&ye.right.isRed&&!(ye.left!==null&&ye.left.isRed)&&(ye=le(ye)),ye.left!==null&&ye.left.isRed&&ye.left.left!==null&&ye.left.left.isRed&&(ye=se(ye)),ye.left!==null&&ye.left.isRed&&ye.right!==null&&ye.right.isRed&&pe(ye),ye},be=ye=>{for(;ye.left!==null;)ye=ye.left;return ye},he=ye=>(ye.right!==null&&ye.right.isRed&&(ye=le(ye)),ye.left!==null&&ye.left.isRed&&ye.left.left!==null&&ye.left.left.isRed&&(ye=se(ye)),ye.left!==null&&ye.left.isRed&&ye.right!==null&&ye.right.isRed&&pe(ye),ye),Le=ye=>ye.left===null?null:(!ye.left.isRed&&!(ye.left.left!==null&&ye.left.left.isRed)&&(ye=ue(ye)),ye.left=Le(ye.left),he(ye)),Xe=(ye,re,Ze)=>{if(ye===null)throw"Value not in set";if(Ze(re,ye.value)<0){if(ye.left===null)throw"Value not in set";!ye.left.isRed&&!(ye.left.left!==null&&ye.left.left.isRed)&&(ye=ue(ye)),ye.left=Xe(ye.left,re,Ze)}else{if(ye.left!==null&&ye.left.isRed&&(ye=se(ye)),ye.right===null){if(Ze(re,ye.value)===0)return null;throw"Value not in set"}!ye.right.isRed&&!(ye.right.left!==null&&ye.right.left.isRed)&&(ye=ae(ye)),Ze(re,ye.value)===0?(ye.value=be(ye.right).value,ye.right=Le(ye.right)):ye.right=Xe(ye.right,re,Ze)}return ye!==null&&(ye=he(ye)),ye};class We extends ee{constructor(re){super(),this.options=re,this.comparator=this.options.comparator,this.onInsertConflict=this.options.onInsertConflict,this.root=null}insert(re){this.root=de(this.root,re,this.comparator,this.onInsertConflict),this.root.isRed=!1}remove(re){this.root=Xe(this.root,re,this.comparator),this.root!==null&&(this.root.isRed=!1)}}const fe={OnInsertConflictThrow:(ye,re)=>{throw new Error("Value already in set")},OnInsertConflictReplace:(ye,re)=>re,OnInsertConflictIgnore:(ye,re)=>ye};class Re extends G{constructor(re){re||(re={}),re.strategy||(re.strategy=We),re.comparator||(re.comparator=function(Ze,Ge){return(Ze||0)-(Ge||0)}),re.onInsertConflict||(re.onInsertConflict=fe.OnInsertConflictThrow),super(re)}}return Re.ArrayStrategy=U,Re.BinaryTreeStrategy=ne,Re.RedBlackTreeStrategy=We,Object.assign(Re,fe),Re})})(sortedSet);class SortingIterator extends AsyncIterator{constructor(Z,G,W,F){super();let U;const J=()=>{const Y=new sortedSetExports({comparator:G}),D=()=>{Z.removeListener("data",Q),Z.removeListener("error",ee),Z.removeListener("end",q),Z.destroy()},Q=te=>{Y.insert(W(te))},ee=te=>{D(),this.emit("error",te)},q=()=>{D(),U=Y.beginIterator(),this.readable=!0};Z.on("data",Q),Z.on("error",ee),Z.on("end",q)};this.read=()=>{if(U){const Y=U.value();return Y===null?(this.close(),null):(U=U.next(),F(Y))}return this.readable=!1,null},RESOLVED.then(J).catch(Y=>{RESOLVED.then(()=>this.emit("error",Y))})}}const SORTING_KEY=Symbol(),compareSortableQuadsReverse=(X,Z)=>X[SORTING_KEY]>Z[SORTING_KEY]?-1:1,compareSortableQuads=(X,Z)=>X[SORTING_KEY]>Z[SORTING_KEY]?1:-1,emitSortableQuad=X=>X,getLevelQueryForIndex=(X,Z,G,W)=>{const F=writePattern(X,Z,G);if(F===null)return null;const U={[F.gte?"gte":"gt"]:F.gt,[F.lte?"lte":"lt"]:F.lt,keys:!0,values:!1,keyEncoding:"utf8"};return typeof W.limit=="number"&&(U.limit=W.limit),typeof W.reverse=="boolean"&&(U.reverse=W.reverse),{level:U,order:F.order,index:F.index}},getLevelQuery=(X,Z,G,W)=>{for(let F=0,U;F<Z.length;F+=1){U=Z[F];const J=getLevelQueryForIndex(X,U,G,W);if(J!==null&&(!W.order||arrStartsWith(J.order,W.order)))return J}return null},getStream=async(X,Z,G)=>{const{dataFactory:W,prefixes:F,indexes:U}=X,J=getLevelQuery(Z,U,F,G);if(J!==null){const{index:D,level:Q,order:ee}=J;let q=new LevelIterator(X.db.iterator(Q),te=>quadReader.read(te,D.prefix.length,D.terms,W,F));return{type:ResultType.QUADS,order:ee,iterator:q,index:D.terms,resorted:!1}}const Y=getLevelQuery(Z,U,F,emptyObject);if(Y!==null){const{index:D,level:Q,order:ee}=Y;let q=new LevelIterator(X.db.iterator(Q),te=>quadReader.read(te,D.prefix.length,D.terms,W,F));if(typeof G.order<"u"&&!arrStartsWith(G.order,ee)){const te=ne=>(ne[SORTING_KEY]=twoStepsQuadWriter.ingest(ne,F).write("",G.order)+separator,ne),ie=G.reverse===!0?compareSortableQuadsReverse:compareSortableQuads;if(q=new SortingIterator(q,ie,te,emitSortableQuad),typeof G.limit<"u"){const ne=function(){this.removeListener("end",ne),this.removeListener("error",ne),this.destroy()};q=q.take(G.limit).on("end",ne).on("error",ne)}}return{type:ResultType.QUADS,order:G.order||ee,iterator:q,index:D.terms,resorted:!0}}throw new Error(`No index compatible with pattern ${JSON.stringify(Z)} and options ${JSON.stringify(G)}`)},getApproximateSize=async(X,Z,G)=>{if(!X.db.approximateSize)return{type:ResultType.APPROXIMATE_SIZE,approximateSize:1/0};const{indexes:W,prefixes:F}=X,U=getLevelQuery(Z,W,F,G);if(U===null)throw new Error(`No index compatible with pattern ${JSON.stringify(Z)} and options ${JSON.stringify(G)}`);const{level:J}=U,Y=J.gte||J.gt,D=J.lte||J.lt;return new Promise((Q,ee)=>{X.db.approximateSize(Y,D,(q,te)=>{if(q){ee(q);return}Q({type:ResultType.APPROXIMATE_SIZE,approximateSize:Math.max(1,te)})})})};class Scope{id;blankNodes;factory;static async init(Z){return new Scope(Z.dataFactory,uid(),new Map)}static async load(Z,G){const W=Scope.getLevelIteratorOpts(!1,!0,G),F=new LevelIterator(Z.db.iterator(W),(Y,D)=>D),U=new Map,{dataFactory:J}=Z;return await consumeOneByOne(F,Y=>{const{originalLabel:D,randomLabel:Q}=JSON.parse(Y);U.set(D,J.blankNode(Q))}),new Scope(J,G,U)}static async delete(Z,G){const W=Z.db.batch(),F=Scope.getLevelIteratorOpts(!0,!1,G),U=new LevelIterator(Z.db.iterator(F),(J,Y)=>J);await consumeOneByOne(U,J=>{W.del(J)}),await W.write()}static getLevelIteratorOpts(Z,G,W){const F=W?`SCOPE${separator}${W}${separator}`:`SCOPE${separator}`;return{keys:Z,values:G,keyEncoding:"utf8",valueEncoding:"utf8",gte:F,lte:`${F}${boundary}`}}static addMappingToLevelBatch(Z,G,W,F){G.put(`SCOPE${separator}${Z}${separator}${W}`,JSON.stringify({originalLabel:W,randomLabel:F}))}constructor(Z,G,W){this.blankNodes=W,this.factory=Z,this.id=G}parseBlankNode(Z,G){let W=this.blankNodes.get(Z.value);return W||(W=this.factory.blankNode(uid()),this.blankNodes.set(Z.value,W),Scope.addMappingToLevelBatch(this.id,G,Z.value,W.value)),W}parseSubject(Z,G){switch(Z.termType){case"BlankNode":return this.parseBlankNode(Z,G);default:return Z}}parseObject(Z,G){switch(Z.termType){case"BlankNode":return this.parseBlankNode(Z,G);default:return Z}}parseGraph(Z,G){switch(Z.termType){case"BlankNode":return this.parseBlankNode(Z,G);default:return Z}}parseQuad(Z,G){return this.factory.quad(this.parseSubject(Z.subject,G),Z.predicate,this.parseObject(Z.object,G),this.parseGraph(Z.graph,G))}}class Quadstore{db;indexes;id;prefixes;dataFactory;constructor(Z){ensureAbstractLevel(Z.backend,'"opts.backend"'),this.dataFactory=Z.dataFactory,this.db=Z.backend,this.indexes=[],this.id=uid(),(Z.indexes||defaultIndexes).forEach(G=>this._addIndex(G)),this.prefixes=Z.prefixes||{expandTerm:G=>G,compactIri:G=>G}}ensureReady(){if(this.db.status!=="open")throw new Error(`Store is not ready (status: "${this.db.status}"). Did you call store.open()?`)}async open(){this.db.status!=="open"&&await this.db.open()}async close(){this.db.status!=="closed"&&await this.db.close()}toString(){return this.toJSON()}toJSON(){return`[object ${this.constructor.name}::${this.id}]`}_addIndex(Z){const G=Z.map(W=>W.charAt(0).toUpperCase()).join("");this.indexes.push({terms:Z,prefix:G+separator})}async clear(){if(typeof this.db.clear=="function")return new Promise((Z,G)=>{this.db.clear(W=>{W?G(W):Z()})});await this.delStream((await this.getStream({})).iterator,{batchSize:20})}match(Z,G,W,F,U=emptyObject){if(Z&&Z.termType==="Literal")return new EmptyIterator;const J={subject:Z,predicate:G,object:W,graph:F};return wrap(this.getStream(J,U).then(Y=>Y.iterator))}async countQuads(Z,G,W,F,U=emptyObject){if(Z&&Z.termType==="Literal")return 0;const J={subject:Z,predicate:G,object:W,graph:F};return(await this.getApproximateSize(J,U)).approximateSize}import(Z){const G=new eventsExports.EventEmitter;return this.putStream(Z,{}).then(()=>{G.emit("end")}).catch(W=>{G.emit("error",W)}),G}remove(Z){const G=new eventsExports.EventEmitter;return this.delStream(Z,{}).then(()=>G.emit("end")).catch(W=>G.emit("error",W)),G}removeMatches(Z,G,W,F,U=emptyObject){const J=this.match(Z,G,W,F,U);return this.remove(J)}deleteGraph(Z){return this.removeMatches(void 0,void 0,void 0,Z)}async getApproximateSize(Z,G=emptyObject){return await this.ensureReady(),await getApproximateSize(this,Z,G)}_batchPut(Z,G){const{indexes:W,prefixes:F}=this;twoStepsQuadWriter.ingest(Z,F);for(let U=0,J=W.length,Y;U<J;U+=1){Y=W[U];const D=twoStepsQuadWriter.write(Y.prefix,Y.terms);G=G.put(D,emptyValue,levelPutOpts)}return G}async put(Z,G=emptyObject){this.ensureReady();const{indexes:W,db:F}=this;let U=F.batch();return G.scope&&(Z=G.scope.parseQuad(Z,U)),this._batchPut(Z,U),await this.writeBatch(U,G),{type:ResultType.VOID}}async multiPut(Z,G=emptyObject){this.ensureReady();const{indexes:W,db:F}=this;let U=F.batch();for(let J=0,Y=Z.length,D;J<Y;J+=1)D=Z[J],G.scope&&(D=G.scope.parseQuad(D,U)),this._batchPut(D,U);return await this.writeBatch(U,G),{type:ResultType.VOID}}_batchDel(Z,G){const{indexes:W,prefixes:F}=this;twoStepsQuadWriter.ingest(Z,F);for(let U=0,J=W.length,Y;U<J;U+=1){Y=W[U];const D=twoStepsQuadWriter.write(Y.prefix,Y.terms);G=G.del(D,levelDelOpts)}return G}async del(Z,G=emptyObject){this.ensureReady();const W=this.db.batch();return this._batchDel(Z,W),await this.writeBatch(W,G),{type:ResultType.VOID}}async multiDel(Z,G=emptyObject){this.ensureReady();const W=this.db.batch();for(let F=0,U=Z.length,J;F<U;F+=1)J=Z[F],this._batchDel(J,W);return await this.writeBatch(W,G),{type:ResultType.VOID}}async patch(Z,G,W=emptyObject){this.ensureReady();const{indexes:F,db:U}=this,J=U.batch();return this._batchDel(Z,J),this._batchPut(G,J),await this.writeBatch(J,W),{type:ResultType.VOID}}async multiPatch(Z,G,W=emptyObject){this.ensureReady();const{indexes:F,db:U}=this;let J=U.batch();for(let Y=0,D=Z.length,Q;Y<D;Y+=1)Q=Z[Y],this._batchDel(Q,J);for(let Y=0,D=G.length,Q;Y<D;Y+=1)Q=G[Y],this._batchPut(Q,J);return await this.writeBatch(J,W),{type:ResultType.VOID}}async writeBatch(Z,G){G.preWrite&&await G.preWrite(Z),await Z.write()}async get(Z,G=emptyObject){this.ensureReady();const W=await this.getStream(Z,G);return{items:await streamToArray(W.iterator),type:W.type,order:W.order,index:W.index,resorted:W.resorted}}async getStream(Z,G=emptyObject){return this.ensureReady(),await getStream(this,Z,G)}async putStream(Z,G=emptyObject){this.ensureReady();const W=G.batchSize||1;return W===1?await consumeOneByOne(Z,F=>this.put(F,G)):await consumeInBatches(Z,W,F=>this.multiPut(F,G)),{type:ResultType.VOID}}async delStream(Z,G=emptyObject){this.ensureReady();const W=G.batchSize||1;return W===1?await consumeOneByOne(Z,F=>this.del(F)):await consumeInBatches(Z,W,F=>this.multiDel(F)),{type:ResultType.VOID}}async initScope(){return await this.ensureReady(),await Scope.init(this)}async loadScope(Z){return await this.ensureReady(),await Scope.load(this,Z)}async deleteScope(Z){await this.ensureReady(),await Scope.delete(this,Z)}async deleteAllScopes(){await this.ensureReady(),await Scope.delete(this)}}var sparqlalgebrajs={},sparqlAlgebra={},es6=function X(Z,G){if(Z===G)return!0;if(Z&&G&&typeof Z=="object"&&typeof G=="object"){if(Z.constructor!==G.constructor)return!1;var W,F,U;if(Array.isArray(Z)){if(W=Z.length,W!=G.length)return!1;for(F=W;F--!==0;)if(!X(Z[F],G[F]))return!1;return!0}if(Z instanceof Map&&G instanceof Map){if(Z.size!==G.size)return!1;for(F of Z.entries())if(!G.has(F[0]))return!1;for(F of Z.entries())if(!X(F[1],G.get(F[0])))return!1;return!0}if(Z instanceof Set&&G instanceof Set){if(Z.size!==G.size)return!1;for(F of Z.entries())if(!G.has(F[0]))return!1;return!0}if(ArrayBuffer.isView(Z)&&ArrayBuffer.isView(G)){if(W=Z.length,W!=G.length)return!1;for(F=W;F--!==0;)if(Z[F]!==G[F])return!1;return!0}if(Z.constructor===RegExp)return Z.source===G.source&&Z.flags===G.flags;if(Z.valueOf!==Object.prototype.valueOf)return Z.valueOf()===G.valueOf();if(Z.toString!==Object.prototype.toString)return Z.toString()===G.toString();if(U=Object.keys(Z),W=U.length,W!==Object.keys(G).length)return!1;for(F=W;F--!==0;)if(!Object.prototype.hasOwnProperty.call(G,U[F]))return!1;for(F=W;F--!==0;){var J=U[F];if(!X(Z[J],G[J]))return!1}return!0}return Z!==Z&&G!==G},rdfString={},TermUtil$1={};Object.defineProperty(TermUtil$1,"__esModule",{value:!0});TermUtil$1.stringQuadToQuad=TermUtil$1.quadToStringQuad=TermUtil$1.stringToTerm=TermUtil$1.getLiteralLanguage=TermUtil$1.getLiteralType=TermUtil$1.getLiteralValue=TermUtil$1.termToString=void 0;const rdf_data_factory_1$2=rdfDataFactory,FACTORY=new rdf_data_factory_1$2.DataFactory;function termToString(X){if(X)switch(X.termType){case"NamedNode":return X.value;case"BlankNode":return"_:"+X.value;case"Literal":const Z=X;return'"'+Z.value+'"'+(Z.datatype&&Z.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&Z.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+Z.datatype.value:"")+(Z.language?"@"+Z.language:"");case"Quad":return`<<${termToString(X.subject)} ${termToString(X.predicate)} ${termToString(X.object)}${X.graph.termType==="DefaultGraph"?"":" "+termToString(X.graph)}>>`;case"Variable":return"?"+X.value;case"DefaultGraph":return X.value}}TermUtil$1.termToString=termToString;function getLiteralValue(X){const Z=/^"([^]*)"/.exec(X);if(!Z)throw new Error(X+" is not a literal");return Z[1]}TermUtil$1.getLiteralValue=getLiteralValue;function getLiteralType(X){const Z=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(X);if(!Z)throw new Error(X+" is not a literal");return Z[1]||(Z[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}TermUtil$1.getLiteralType=getLiteralType;function getLiteralLanguage(X){const Z=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(X);if(!Z)throw new Error(X+" is not a literal");return Z[1]?Z[1].toLowerCase():""}TermUtil$1.getLiteralLanguage=getLiteralLanguage;function stringToTerm(X,Z){if(Z=Z||FACTORY,!X||!X.length)return Z.defaultGraph();switch(X[0]){case"_":return Z.blankNode(X.substr(2));case"?":if(!Z.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return Z.variable(X.substr(1));case'"':const G=getLiteralLanguage(X),W=Z.namedNode(getLiteralType(X));return Z.literal(getLiteralValue(X),G||W);case"<":default:if(X.startsWith("<<")&&X.endsWith(">>")){const F=X.slice(2,-2).trim();let U=[],J=0,Y=0,D=!1;for(let Q=0;Q<F.length;Q++){const ee=F[Q];if(ee==="<"&&J++,ee===">"){if(J===0)throw new Error("Found closing tag without opening tag in "+X);J--}if(ee==='"'){let q=!1,te=Q;for(;te-- >0&&F[te]==="\\";)q=!q;q||(D=!D)}if(ee===" "&&!D&&J===0){for(U.push(F.slice(Y,Q));F[Q+1]===" ";)Q+=1;Y=Q+1}}if(J!==0)throw new Error("Found opening tag without closing tag in "+X);if(U.push(F.slice(Y,F.length)),U.length!==3&&U.length!==4)throw new Error("Nested quad syntax error "+X);return U=U.map(Q=>Q.startsWith("<")&&!Q.includes(" ")?Q.slice(1,-1):Q),Z.quad(stringToTerm(U[0]),stringToTerm(U[1]),stringToTerm(U[2]),U[3]?stringToTerm(U[3]):void 0)}return Z.namedNode(X)}}TermUtil$1.stringToTerm=stringToTerm;function quadToStringQuad(X){return{subject:termToString(X.subject),predicate:termToString(X.predicate),object:termToString(X.object),graph:termToString(X.graph)}}TermUtil$1.quadToStringQuad=quadToStringQuad;function stringQuadToQuad(X,Z){return Z=Z||FACTORY,Z.quad(stringToTerm(X.subject,Z),stringToTerm(X.predicate,Z),stringToTerm(X.object,Z),stringToTerm(X.graph,Z))}TermUtil$1.stringQuadToQuad=stringQuadToQuad;(function(X){Object.defineProperty(X,"__esModule",{value:!0}),X.termToString=X.stringToTerm=X.stringQuadToQuad=X.quadToStringQuad=X.getLiteralValue=X.getLiteralType=X.getLiteralLanguage=void 0;const Z=TermUtil$1;Object.defineProperty(X,"getLiteralLanguage",{enumerable:!0,get:function(){return Z.getLiteralLanguage}}),Object.defineProperty(X,"getLiteralType",{enumerable:!0,get:function(){return Z.getLiteralType}}),Object.defineProperty(X,"getLiteralValue",{enumerable:!0,get:function(){return Z.getLiteralValue}}),Object.defineProperty(X,"quadToStringQuad",{enumerable:!0,get:function(){return Z.quadToStringQuad}}),Object.defineProperty(X,"stringQuadToQuad",{enumerable:!0,get:function(){return Z.stringQuadToQuad}}),Object.defineProperty(X,"stringToTerm",{enumerable:!0,get:function(){return Z.stringToTerm}}),Object.defineProperty(X,"termToString",{enumerable:!0,get:function(){return Z.termToString}})})(rdfString);var algebra={};(function(X){Object.defineProperty(X,"__esModule",{value:!0}),X.expressionTypes=X.types=void 0,function(Z){Z.ALT="alt",Z.ASK="ask",Z.BGP="bgp",Z.CONSTRUCT="construct",Z.DESCRIBE="describe",Z.DISTINCT="distinct",Z.EXPRESSION="expression",Z.EXTEND="extend",Z.FILTER="filter",Z.FROM="from",Z.GRAPH="graph",Z.GROUP="group",Z.INV="inv",Z.JOIN="join",Z.LEFT_JOIN="leftjoin",Z.LINK="link",Z.MINUS="minus",Z.NOP="nop",Z.NPS="nps",Z.ONE_OR_MORE_PATH="OneOrMorePath",Z.ORDER_BY="orderby",Z.PATH="path",Z.PATTERN="pattern",Z.PROJECT="project",Z.REDUCED="reduced",Z.SEQ="seq",Z.SERVICE="service",Z.SLICE="slice",Z.UNION="union",Z.VALUES="values",Z.ZERO_OR_MORE_PATH="ZeroOrMorePath",Z.ZERO_OR_ONE_PATH="ZeroOrOnePath",Z.COMPOSITE_UPDATE="compositeupdate",Z.DELETE_INSERT="deleteinsert",Z.LOAD="load",Z.CLEAR="clear",Z.CREATE="create",Z.DROP="drop",Z.ADD="add",Z.MOVE="move",Z.COPY="copy"}(X.types||(X.types={})),function(Z){Z.AGGREGATE="aggregate",Z.EXISTENCE="existence",Z.NAMED="named",Z.OPERATOR="operator",Z.TERM="term",Z.WILDCARD="wildcard"}(X.expressionTypes||(X.expressionTypes={}))})(algebra);var factory$2={},Wildcard$2={};let Wildcard$1=class{constructor(){return WILDCARD||this}equals(Z){return Z&&this.termType===Z.termType}};Object.defineProperty(Wildcard$1.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(Wildcard$1.prototype,"termType",{enumerable:!0,value:"Wildcard"});var WILDCARD=new Wildcard$1;Wildcard$2.Wildcard=Wildcard$1;var SparqlParser=function(){var X=function(Gt,Zt,Lt,Tt){for(Lt=Lt||{},Tt=Gt.length;Tt--;Lt[Gt[Tt]]=Zt);return Lt},Z=[6,12,13,15,16,28,35,41,50,55,107,117,120,122,123,132,133,138,195,219,224,312,322,323,324,325,326],G=[2,211],W=[107,117,120,122,123,132,133,138,322,323,324,325,326],F=[2,389],U=[1,22],J=[1,31],Y=[13,16,35,195,219,224,312],D=[6,90],Q=[45,46,58],ee=[45,58],q=[1,62],te=[1,64],ie=[1,60],ne=[1,63],ce=[1,69],le=[1,70],se=[26,34,35],pe=[13,16,35,195,219,312],ue=[13,16,312],ae=[119,141,320,327],de=[13,16,119,141,312],be=[1,96],he=[1,100],Le=[1,102],Xe=[119,141,320,321,327],We=[13,16,119,141,312,321],fe=[1,108],Re=[2,253],ye=[1,107],re=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Ze=[6,45,46,58,68,75,78,86,88,90],Ge=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],ve=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339],Te=[34,35,45,46,58],xe=[1,139],Ie=[1,140],Se=[1,151],Ne=[1,131],je=[1,125],tt=[1,130],it=[1,132],st=[1,142],qe=[1,143],ot=[1,144],ut=[1,145],dt=[1,147],mt=[1,148],Je=[2,461],Me=[1,157],ke=[1,158],Ye=[1,159],Ce=[1,152],ze=[1,153],Ee=[1,156],_e=[1,166],He=[1,167],Pe=[1,168],$e=[1,169],we=[1,170],Ue=[1,171],et=[1,172],at=[1,173],Ve=[1,174],oe=[1,175],me=[1,165],ge=[1,160],Fe=[1,161],Ke=[1,162],Ae=[1,163],rt=[1,164],vt=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Vt=[2,312],Wt=[1,199],ft=[1,197],Rt=[6,191],It=[2,329],ct=[2,317],xt=[45,135],Qe=[6,48,78,86,88,90],nt=[2,257],Xt=[1,213],St=[1,215],Mt=[6,48,75,78,86,88,90],jt=[2,255],sn=[1,221],Ht=[1,233],an=[1,231],Ot=[1,239],vn=[1,232],tn=[1,237],Qt=[1,238],En=[6,68,75,78,86,88,90],Sn=[37,38,191,250,278],dn=[37,38,191,250,254,278],pn=[37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339],$t=[26,37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339],wn=[1,267],di=[1,266],De=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],bt=[1,275],pt=[1,274],ht=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],yt=[35,93],Yt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],Nt=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Ut=[48,93],wt=[34,38],Ct=[6,13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],Ft=[6,13,16,26,34,35,38,87,93,226,231,245,246,271,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333],Et=[1,299],nn=[1,300],hn=[6,116,191],At=[48,119],fn=[6,48,86,88,90],qt=[2,341],zt=[2,333],Ln=[1,340],Dt=[1,342],Gn=[48,119,328],Xn=[13,16,34,195,312],Vn=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],ln=[13,16,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],cn=[1,374],gn=[1,375],An=[13,16,26,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],un=[1,398],xn=[1,399],ui=[13,16,38,195,224,312],ii=[1,416],Cn=[6,48,90],zi=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Si=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,339,340,341,342,343,344],Kn=[46,48,90,119,167,168,170,173,174],li=[1,435],ai=[1,436],Hi=[1,442],Ei=[1,441],Pn=[48,119,191,227,328],mi=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],bi=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],hi=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],gi=[35,48],Ki=[2,332],Pi=[1,497],Bi=[1,494],_i=[1,495],Oi=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344],xi=[1,515],pi=[46,48,90,119,167,168,170,173,174,328],ji=[13,16,34,35,195,219,224,312],Bn=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Di=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Qn=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Ai=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Qi=[13,16,34,312],Mn=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Nn=[2,344],Zi=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$i=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Fn=[2,339],qi=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],el=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],si=[46,48,90,119,167,168,170,173,174,191,227,328],tl=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],nl=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],il=[2,327],Ti={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,ObjectListPath:198,ObjectListPath_repetition0:199,GraphNodePath:200,TriplesSameSubjectPath_group0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,PropertyListPathNotEmpty_group0:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmpty_repetition1:207,PropertyListPathNotEmptyTail:208,PropertyListPathNotEmptyTail_group0:209,Path:210,Path_repetition0:211,PathSequence:212,PathSequence_repetition0:213,PathEltOrInverse:214,PathElt:215,PathPrimary:216,PathElt_option0:217,PathEltOrInverse_option0:218,"!":219,PathNegatedPropertySet:220,PathOneInPropertySet:221,PathNegatedPropertySet_repetition0:222,PathNegatedPropertySet_option0:223,"^":224,TriplesNode_repetition_plus0:225,"[":226,"]":227,TriplesNodePath_repetition_plus0:228,GraphNode_group0:229,GraphNodePath_group0:230,"<<":231,VarTriple_group0:232,VarTriple_group1:233,VarTriple_group2:234,">>":235,VarTriple_group3:236,VarTriple_group4:237,ConstTriple_group0:238,ConstTriple_group1:239,ConstTriple_group2:240,ConstTriple_group3:241,ConstTriple_group4:242,VarOrTerm:243,Term:244,BLANK_NODE_LABEL:245,ANON:246,ConditionalAndExpression:247,Expression_repetition0:248,ExpressionTail:249,"||":250,RelationalExpression:251,ConditionalAndExpression_repetition0:252,ConditionalAndExpressionTail:253,"&&":254,AdditiveExpression:255,RelationalExpression_group0:256,RelationalExpression_option0:257,IN:258,MultiplicativeExpression:259,AdditiveExpression_repetition0:260,AdditiveExpressionTail:261,AdditiveExpressionTail_group0:262,NumericLiteralPositive:263,AdditiveExpressionTail_repetition0:264,NumericLiteralNegative:265,AdditiveExpressionTail_repetition1:266,UnaryExpression:267,MultiplicativeExpression_repetition0:268,MultiplicativeExpressionTail:269,MultiplicativeExpressionTail_group0:270,"+":271,PrimaryExpression:272,"-":273,Aggregate:274,FUNC_ARITY0:275,FUNC_ARITY1:276,FUNC_ARITY2:277,",":278,IF:279,BuiltInCall_group0:280,BOUND:281,BNODE:282,BuiltInCall_option0:283,EXISTS:284,COUNT:285,Aggregate_option0:286,Aggregate_group0:287,FUNC_AGGREGATE:288,Aggregate_option1:289,GROUP_CONCAT:290,Aggregate_option2:291,Aggregate_option3:292,GroupConcatSeparator:293,SEPARATOR:294,"=":295,String:296,LANGTAG:297,"^^":298,DECIMAL:299,DOUBLE:300,BOOLEAN:301,STRING_LITERAL1:302,STRING_LITERAL2:303,STRING_LITERAL_LONG1:304,STRING_LITERAL_LONG2:305,INTEGER_POSITIVE:306,DECIMAL_POSITIVE:307,DOUBLE_POSITIVE:308,INTEGER_NEGATIVE:309,DECIMAL_NEGATIVE:310,DOUBLE_NEGATIVE:311,PNAME_LN:312,QueryOrUpdate_group0_option0:313,Prologue_repetition0_group0:314,SelectClauseBase_option0_group0:315,DISTINCT:316,REDUCED:317,DescribeQuery_group0_repetition_plus0_group0:318,DescribeQuery_group0_repetition_plus0:319,NAMED:320,SILENT:321,CLEAR:322,DROP:323,ADD:324,MOVE:325,COPY:326,ALL:327,".":328,UNION:329,"|":330,"/":331,PathElt_option0_group0:332,"?":333,"!=":334,"<":335,">":336,"<=":337,">=":338,NOT:339,CONCAT:340,COALESCE:341,SUBSTR:342,REGEX:343,REPLACE:344,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",219:"!",224:"^",226:"[",227:"]",231:"<<",235:">>",245:"BLANK_NODE_LABEL",246:"ANON",250:"||",254:"&&",258:"IN",271:"+",273:"-",275:"FUNC_ARITY0",276:"FUNC_ARITY1",277:"FUNC_ARITY2",278:",",279:"IF",281:"BOUND",282:"BNODE",284:"EXISTS",285:"COUNT",288:"FUNC_AGGREGATE",290:"GROUP_CONCAT",294:"SEPARATOR",295:"=",297:"LANGTAG",298:"^^",299:"DECIMAL",300:"DOUBLE",301:"BOOLEAN",302:"STRING_LITERAL1",303:"STRING_LITERAL2",304:"STRING_LITERAL_LONG1",305:"STRING_LITERAL_LONG2",306:"INTEGER_POSITIVE",307:"DECIMAL_POSITIVE",308:"DOUBLE_POSITIVE",309:"INTEGER_NEGATIVE",310:"DECIMAL_NEGATIVE",311:"DOUBLE_NEGATIVE",312:"PNAME_LN",316:"DISTINCT",317:"REDUCED",320:"NAMED",321:"SILENT",322:"CLEAR",323:"DROP",324:"ADD",325:"MOVE",326:"COPY",327:"ALL",328:".",329:"UNION",330:"|",331:"/",333:"?",334:"!=",335:"<",336:">",337:"<=",338:">=",339:"NOT",340:"CONCAT",341:"COALESCE",342:"SUBSTR",343:"REGEX",344:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[267,1],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],performAction:function(Zt,Lt,Tt,Jt,kt,Be,Rn){var Oe=Be.length-1;switch(kt){case 1:if(Be[Oe-1]=Be[Oe-1]||{},Pt.base&&(Be[Oe-1].base=Pt.base),Pt.base="",Be[Oe-1].prefixes=Pt.prefixes,Pt.prefixes=null,Pt.pathOnly){if(Be[Oe-1].type==="path"||"termType"in Be[Oe-1])return Be[Oe-1];throw new Error("Received full SPARQL query in path only mode")}else if(Be[Oe-1].type==="path"||"termType"in Be[Oe-1])throw new Error("Received only path in full SPARQL mode");if(Be[Oe-1].type==="update"){const Bt={};for(const _t of Be[Oe-1].updates)if(_t.updateType==="insert"){const Kt={};for(const mn of _t.insert)if(mn.type==="bgp"||mn.type==="graph")for(const bn of mn.triples)bn.subject.termType==="BlankNode"&&(Kt[bn.subject.value]=!0),bn.predicate.termType==="BlankNode"&&(Kt[bn.predicate.value]=!0),bn.object.termType==="BlankNode"&&(Kt[bn.object.value]=!0);for(const mn of Object.keys(Kt)){if(Bt[mn])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Bt[mn]=!0}}}return Be[Oe-1];case 3:this.$=en(Be[Oe-1],Be[Oe],{type:"query"});break;case 4:Pt.base=ri(Be[Oe]);break;case 5:Pt.prefixes||(Pt.prefixes={}),Be[Oe-1]=Be[Oe-1].substr(0,Be[Oe-1].length-1),Be[Oe]=ri(Be[Oe]),Pt.prefixes[Be[Oe-1]]=Be[Oe];break;case 6:this.$=en(Be[Oe-3],zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 7:if(!Pt.skipValidation&&(Ui(Be[Oe-3].variables.map(_t=>Fi(_t.expression))).some(_t=>_t.aggregation==="count"&&!(_t.expression instanceof yi))||Be[Oe].group)){for(const _t of Be[Oe-3].variables)if(_t.termType==="Variable"){if(!Be[Oe].group||!Be[Oe].group.map(Kt=>ei(Kt)).includes(ei(_t)))throw Error("Projection of ungrouped variable (?"+ei(_t)+")")}else if(Fi(_t.expression).length===0){const Kt=Sl(_t.expression);for(const mn of Kt)if(!Be[Oe].group||!Be[Oe].group.map||!Be[Oe].group.map(bn=>ei(bn)).includes(ei(mn)))throw Error("Use of ungrouped variable in projection of operation (?"+ei(mn)+")")}}const ti=Be[Oe-1].where.filter(Bt=>Bt.type==="query");if(ti.length>0){const Bt=Be[Oe-3].variables.filter(Kt=>Kt.variable&&Kt.variable.value).map(Kt=>Kt.variable.value),_t=Ui(ti.map(Kt=>Kt.variables)).map(Kt=>Kt.value||Kt.variable.value);for(const Kt of Bt)if(_t.indexOf(Kt)>=0)throw Error("Target id of 'AS' (?"+Kt+") already used in subquery")}this.$=en(Be[Oe-3],zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 8:this.$=en(Be[Oe-1],{variables:[new yi]});break;case 9:const Ji=Be[Oe].map(Bt=>Bt.value||Bt.variable.value),Ri=gl(Ji);if(Ri.length>0)throw Error("Two or more of the resulting columns have the same name (?"+Ri[0]+")");this.$=en(Be[Oe-1],{variables:Be[Oe]});break;case 10:this.$=en({queryType:"SELECT"},Be[Oe]&&(Be[Oe-1]=Wn(Be[Oe]),Be[Oe]={},Be[Oe][Be[Oe-1]]=!0,Be[Oe]));break;case 11:case 12:this.$=en(Be[Oe-3],Be[Oe-2],Be[Oe-1],Be[Oe],{type:"query"});break;case 13:case 100:case 137:case 166:this.$=Zn(Be[Oe]);break;case 14:case 28:this.$=kn(Be[Oe-3],{variable:Zn(Be[Oe-1])});break;case 15:this.$=ci(kn(Be[Oe-3],{variable:Zn(Be[Oe-1])}));break;case 16:this.$=en({queryType:"CONSTRUCT",template:Be[Oe-3]},zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 17:this.$=en({queryType:"CONSTRUCT",template:Be[Oe-2]=Be[Oe-2]?Be[Oe-2].triples:[]},zn(Be[Oe-5]),{where:[{type:"bgp",triples:$n([],Be[Oe-2])}]},Be[Oe]);break;case 18:this.$=en({queryType:"DESCRIBE",variables:Be[Oe-3]==="*"?[new yi]:Be[Oe-3].map(Zn)},zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 19:this.$=en({queryType:"ASK"},zn(Be[Oe-2]),Be[Oe-1],Be[Oe]);break;case 20:case 61:this.$={iri:Be[Oe],named:!!Be[Oe-1]};break;case 21:this.$={where:Be[Oe].patterns};break;case 22:this.$=en(Be[Oe-1],Be[Oe]);break;case 23:this.$=en(Be[Oe-2],Be[Oe-1],Be[Oe]);break;case 24:this.$={group:Be[Oe]};break;case 25:case 26:case 32:case 34:this.$=kn(Be[Oe]);break;case 27:this.$=kn(Be[Oe-1]);break;case 29:case 35:this.$=kn(Zn(Be[Oe]));break;case 30:this.$={having:Be[Oe]};break;case 31:this.$={order:Be[Oe]};break;case 33:this.$=kn(Be[Oe],{descending:!0});break;case 36:this.$={limit:qn(Be[Oe])};break;case 37:this.$={offset:qn(Be[Oe])};break;case 38:this.$={limit:qn(Be[Oe-2]),offset:qn(Be[Oe])};break;case 39:this.$={limit:qn(Be[Oe]),offset:qn(Be[Oe-2])};break;case 40:this.$={type:"values",values:Be[Oe]};break;case 41:this.$=Be[Oe-1].map(function(Bt){var _t={};return _t[Be[Oe-3]]=Bt,_t});break;case 42:this.$=Be[Oe-1].map(function(){return{}});break;case 43:var Hn=Be[Oe-4].length;Be[Oe-4]=Be[Oe-4].map(Zn),this.$=Be[Oe-1].map(function(Bt){if(Bt.length!==Hn)throw Error("Inconsistent VALUES length");for(var _t={},Kt=0;Kt<Hn;Kt++)_t["?"+Be[Oe-4][Kt].value]=Bt[Kt];return _t});break;case 46:this.$=ci(Be[Oe]);break;case 47:this.$=void 0;break;case 48:case 92:case 117:case 167:this.$=Be[Oe-1];break;case 49:this.$={type:"update",updates:Jn(Be[Oe-2],Be[Oe-1])};break;case 50:this.$=en({type:"load",silent:!!Be[Oe-2],source:Be[Oe-1]},Be[Oe]&&{destination:Be[Oe]});break;case 51:this.$={type:Wn(Be[Oe-2]),silent:!!Be[Oe-1],graph:Be[Oe]};break;case 52:this.$={type:Wn(Be[Oe-4]),silent:!!Be[Oe-3],source:Be[Oe-2],destination:Be[Oe]};break;case 53:this.$={type:"create",silent:!!Be[Oe-2],graph:{type:"graph",name:Be[Oe]}};break;case 54:this.$={updateType:"insert",insert:hl(Be[Oe])};break;case 55:this.$={updateType:"delete",delete:Ci(hl(Be[Oe]))};break;case 56:this.$={updateType:"deletewhere",delete:Ci(Be[Oe])};break;case 57:this.$=en({updateType:"insertdelete"},Be[Oe-5],{insert:Be[Oe-4]||[]},{delete:Be[Oe-3]||[]},zn(Be[Oe-2],"using"),{where:Be[Oe].patterns});break;case 58:this.$=en({updateType:"insertdelete"},Be[Oe-5],{delete:Be[Oe-4]||[]},{insert:Be[Oe-3]||[]},zn(Be[Oe-2],"using"),{where:Be[Oe].patterns});break;case 59:this.$=Ci(Be[Oe]);break;case 60:case 63:case 160:case 181:this.$=Be[Oe];break;case 62:this.$={graph:Be[Oe]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:Be[Oe]};break;case 67:this.$={},this.$[Wn(Be[Oe])]=!0;break;case 68:this.$=Be[Oe-2]?Tn(Be[Oe-1],[Be[Oe-2]]):Tn(Be[Oe-1]);break;case 69:var Xi=en(Be[Oe-3]||{triples:[]},{type:"graph",name:Zn(Be[Oe-5])});this.$=Be[Oe]?[Xi,Be[Oe]]:[Xi];break;case 70:case 75:this.$={type:"bgp",triples:Tn(Be[Oe-2],[Be[Oe-1]])};break;case 71:this.$={type:"group",patterns:[Be[Oe-1]]};break;case 72:for(const Bt of Be[Oe-1].filter(_t=>_t.type==="bind")){const _t=Be[Oe-1].indexOf(Bt),Kt=new Set;for(const mn of Be[Oe-1].slice(0,_t))(mn.type==="group"||mn.type==="bgp")&&bl(mn).forEach(bn=>Kt.add(bn));if(Kt.has(Bt.variable.value))throw Error("Variable used to bind is already bound (?"+Bt.variable.value+")")}this.$={type:"group",patterns:Be[Oe-1]};break;case 73:this.$=Be[Oe-1]?Tn([Be[Oe-1]],Be[Oe]):Tn(Be[Oe]);break;case 74:this.$=Be[Oe]?[Be[Oe-2],Be[Oe]]:Be[Oe-2];break;case 76:Be[Oe-1].length?this.$={type:"union",patterns:Tn(Be[Oe-1].map(Ii),[Ii(Be[Oe])])}:this.$=Be[Oe];break;case 77:this.$=en(Be[Oe],{type:"optional"});break;case 78:this.$=en(Be[Oe],{type:"minus"});break;case 79:this.$=en(Be[Oe],{type:"graph",name:Zn(Be[Oe-1])});break;case 80:this.$=en(Be[Oe],{type:"service",name:Zn(Be[Oe-1]),silent:!!Be[Oe-2]});break;case 81:this.$={type:"filter",expression:Be[Oe]};break;case 82:this.$={type:"bind",variable:Zn(Be[Oe-1]),expression:Be[Oe-3]};break;case 83:this.$=ci({type:"bind",variable:Zn(Be[Oe-1]),expression:Be[Oe-3]});break;case 88:this.$={type:"functionCall",function:Be[Oe-1],args:[]};break;case 89:this.$={type:"functionCall",function:Be[Oe-5],args:Jn(Be[Oe-2],Be[Oe-1]),distinct:!!Be[Oe-3]};break;case 90:case 108:case 119:case 211:case 219:case 221:case 233:case 235:case 245:case 249:case 269:case 271:case 275:case 279:case 302:case 308:case 319:case 329:case 335:case 341:case 345:case 355:case 357:case 361:case 369:case 373:case 375:case 383:case 385:case 389:case 391:case 400:case 432:case 434:case 444:case 448:case 450:case 452:this.$=[];break;case 91:this.$=Jn(Be[Oe-2],Be[Oe-1]);break;case 93:this.$=Tn(Be[Oe-2],[Be[Oe-1]]);break;case 94:case 105:this.$=Be[Oe].map(function(Bt){return en(jn(Be[Oe-1]),Bt)});break;case 95:this.$=$n(Be[Oe].map(function(Bt){return en(jn(Be[Oe-1].entity),Bt)}),Be[Oe-1].triples);break;case 97:this.$=Tn([Be[Oe-1]],Be[Oe]);break;case 98:this.$=Tn(Be[Oe]);break;case 99:this.$=Ni(Be[Oe-1],Be[Oe]);break;case 102:case 115:case 122:this.$=Pt.factory.namedNode(ll);break;case 103:case 104:this.$=Jn(Be[Oe-1],Be[Oe]);break;case 106:this.$=Be[Oe]?$n(Be[Oe].map(function(Bt){return en(jn(Be[Oe-1].entity),Bt)}),Be[Oe-1].triples):Be[Oe-1].triples;break;case 107:this.$=Ni(Zn(Be[Oe-3]),Jn(Be[Oe-2],Be[Oe-1]),Be[Oe]);break;case 109:this.$=Ni(Zn(Be[Oe-1]),Be[Oe]);break;case 110:this.$=Be[Oe-1].length?On("|",Jn(Be[Oe-1],Be[Oe])):Be[Oe];break;case 111:this.$=Be[Oe-1].length?On("/",Jn(Be[Oe-1],Be[Oe])):Be[Oe];break;case 112:this.$=Be[Oe]?On(Be[Oe],[Be[Oe-1]]):Be[Oe-1];break;case 113:this.$=Be[Oe-1]?On(Be[Oe-1],[Be[Oe]]):Be[Oe];break;case 116:case 123:this.$=On(Be[Oe-1],[Be[Oe]]);break;case 120:this.$=On("|",Jn(Be[Oe-2],Be[Oe-1]));break;case 124:this.$=On(Be[Oe-1],[Pt.factory.namedNode(ll)]);break;case 125:case 127:this.$=Ll(Be[Oe-1]);break;case 126:case 128:this.$=vl(Be[Oe-1]);break;case 129:this.$={entity:Be[Oe],triples:[]};break;case 131:this.$={entity:Be[Oe],triples:[]};break;case 133:case 135:this.$=ci(Pt.factory.quad(Be[Oe-4],Be[Oe-3],Be[Oe-2],Zn(Be[Oe-6])));break;case 134:case 136:this.$=ci(Pt.factory.quad(Be[Oe-3],Be[Oe-2],Be[Oe-1]));break;case 141:this.$=oi(Be[Oe].replace(/^(_:)/,""));break;case 142:this.$=oi();break;case 143:this.$=Pt.factory.namedNode(al);break;case 144:case 146:case 151:case 155:this.$=Yi(Be[Oe-1],Be[Oe]);break;case 145:this.$=["||",Be[Oe]];break;case 147:this.$=["&&",Be[Oe]];break;case 149:this.$=yn(Be[Oe-1],[Be[Oe-2],Be[Oe]]);break;case 150:this.$=yn(Be[Oe-2]?"notin":"in",[Be[Oe-3],Be[Oe]]);break;case 152:case 156:this.$=[Be[Oe-1],Be[Oe]];break;case 153:this.$=["+",Yi(Be[Oe-1],Be[Oe])];break;case 154:var Vi=Yn(Be[Oe-1].value.replace("-",""),Be[Oe-1].datatype);this.$=["-",Yi(Vi,Be[Oe])];break;case 157:this.$=yn("UPLUS",[Be[Oe]]);break;case 158:this.$=yn(Be[Oe-1],[Be[Oe]]);break;case 159:this.$=yn("UMINUS",[Be[Oe]]);break;case 169:this.$=yn(Wn(Be[Oe-1]));break;case 170:this.$=yn(Wn(Be[Oe-3]),[Be[Oe-1]]);break;case 171:this.$=yn(Wn(Be[Oe-5]),[Be[Oe-3],Be[Oe-1]]);break;case 172:this.$=yn(Wn(Be[Oe-7]),[Be[Oe-5],Be[Oe-3],Be[Oe-1]]);break;case 173:this.$=yn(Wn(Be[Oe-1]),Be[Oe]);break;case 174:this.$=yn("bound",[Zn(Be[Oe-1])]);break;case 175:this.$=yn(Be[Oe-1],[]);break;case 176:this.$=yn(Be[Oe-3],[Be[Oe-1]]);break;case 177:this.$=yn(Be[Oe-2]?"notexists":"exists",[Ii(Be[Oe])]);break;case 178:case 179:this.$=kn(Be[Oe-1],{type:"aggregate",aggregation:Wn(Be[Oe-4]),distinct:!!Be[Oe-2]});break;case 180:this.$=kn(Be[Oe-2],{type:"aggregate",aggregation:Wn(Be[Oe-5]),distinct:!!Be[Oe-3],separator:typeof Be[Oe-1]=="string"?Be[Oe-1]:" "});break;case 182:this.$=Yn(Be[Oe]);break;case 183:this.$=Xl(Be[Oe-1],Wn(Be[Oe].substr(1)));break;case 184:this.$=Yn(Be[Oe-2],Be[Oe]);break;case 185:case 198:this.$=Yn(Be[Oe],sl);break;case 186:case 199:this.$=Yn(Be[Oe],rl);break;case 187:case 200:this.$=Yn(Wn(Be[Oe]),ol);break;case 190:this.$=Yn(Be[Oe].toLowerCase(),Gl);break;case 191:case 192:this.$=ml(Be[Oe],1);break;case 193:case 194:this.$=ml(Be[Oe],3);break;case 195:this.$=Yn(Be[Oe].substr(1),sl);break;case 196:this.$=Yn(Be[Oe].substr(1),rl);break;case 197:this.$=Yn(Be[Oe].substr(1).toLowerCase(),ol);break;case 201:this.$=Pt.factory.namedNode(ri(Be[Oe]));break;case 202:var Wi=Be[Oe].indexOf(":"),rn=Be[Oe].substr(0,Wi),In=Pt.prefixes[rn];if(!In)throw new Error("Unknown prefix: "+rn);var Dn=ri(In+Be[Oe].substr(Wi+1));this.$=Pt.factory.namedNode(Dn);break;case 203:if(Be[Oe]=Be[Oe].substr(0,Be[Oe].length-1),!(Be[Oe]in Pt.prefixes))throw new Error("Unknown prefix: "+Be[Oe]);var Dn=ri(Pt.prefixes[Be[Oe]]);this.$=Pt.factory.namedNode(Dn);break;case 212:case 220:case 222:case 224:case 234:case 236:case 242:case 246:case 250:case 264:case 266:case 268:case 270:case 272:case 274:case 276:case 278:case 303:case 309:case 320:case 336:case 370:case 386:case 405:case 407:case 433:case 435:case 445:case 449:case 451:case 453:Be[Oe-1].push(Be[Oe]);break;case 223:case 241:case 263:case 265:case 267:case 273:case 277:case 404:case 406:this.$=[Be[Oe]];break;case 280:Be[Oe-3].push(Be[Oe-2]);break;case 330:case 342:case 346:case 356:case 358:case 362:case 374:case 376:case 384:case 390:case 392:case 401:Be[Oe-2].push(Be[Oe-1]);break}},table:[X(Z,G,{3:1,4:2,7:3}),{1:[3]},X(W,[2,279],{5:4,8:5,313:6,210:7,9:8,103:9,211:10,17:11,40:12,49:13,54:14,104:15,18:16,22:17,25:21,6:[2,204],13:F,16:F,35:F,195:F,219:F,224:F,312:F,28:U,41:[1,18],50:[1,19],55:[1,20]}),X([6,13,16,28,35,41,50,55,107,117,120,122,123,132,133,138,195,219,224,312,322,323,324,325,326],[2,2],{314:23,11:24,14:25,12:[1,26],15:[1,27]}),{6:[1,28]},{6:[2,206]},{6:[2,207]},{6:[2,208]},{6:[2,217],10:29,89:30,90:J},{6:[2,205]},X(Y,[2,391],{212:32,213:33}),X(D,[2,213]),X(D,[2,214]),X(D,[2,215]),X(D,[2,216]),{105:34,107:[1,35],110:36,113:37,117:[1,38],120:[1,39],122:[1,40],123:[1,41],124:42,128:43,132:[2,304],133:[2,298],137:49,138:[1,50],322:[1,44],323:[1,45],324:[1,46],325:[1,47],326:[1,48]},X(Q,[2,219],{19:51}),X(Q,[2,221],{23:52}),X(ee,[2,235],{42:53,44:54,46:[1,55]}),{13:q,16:te,26:[1,58],34:ie,51:56,60:61,312:ne,318:59,319:57},X(Q,[2,249],{56:65}),{26:[1,66],27:67,33:68,34:ce,35:le},X(se,[2,227],{29:71,315:72,316:[1,73],317:[1,74]}),X(Z,[2,212]),X(Z,[2,209]),X(Z,[2,210]),{13:[1,75]},{16:[1,76]},{1:[2,1]},{6:[2,3]},{6:[2,218]},{34:[1,78],35:[1,80],91:77,93:[1,79]},X([6,13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],[2,110],{330:[1,81]}),X(pe,[2,398],{214:82,218:83,224:[1,84]}),{6:[2,281],106:85,191:[1,86]},X(ue,[2,283],{108:87,321:[1,88]}),X(ae,[2,289],{111:89,321:[1,90]}),X(de,[2,294],{114:91,321:[1,92]}),{118:93,119:[2,296],321:[1,94]},{46:be,121:95},{46:be,121:97},{46:be,121:98},{125:99,133:he},{129:101,132:Le},X(Xe,[2,287]),X(Xe,[2,288]),X(We,[2,291]),X(We,[2,292]),X(We,[2,293]),{132:[2,305],133:[2,299]},{13:q,16:te,60:103,312:ne},{20:104,45:fe,46:Re,57:105,58:ye,61:106},{20:109,45:fe,46:Re,57:110,58:ye,61:106},X(Q,[2,233],{43:111}),{45:[1,112],57:113,58:ye},X(re,[2,361],{179:114,180:115,181:116,48:[2,359]}),X(Ze,[2,245],{52:117}),X(Ze,[2,243],{60:61,318:118,13:q,16:te,34:ie,312:ne}),X(Ze,[2,244]),X(Ge,[2,241]),X(Ge,[2,239]),X(Ge,[2,240]),X(ve,[2,201]),X(ve,[2,202]),X(ve,[2,203]),{20:119,45:fe,46:Re,57:120,58:ye,61:106},X(Q,[2,8]),X(Q,[2,9],{33:121,34:ce,35:le}),X(Te,[2,223]),X(Te,[2,13]),{13:q,16:te,34:xe,35:Ie,36:122,39:123,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,231:je,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(se,[2,10]),X(se,[2,228]),X(se,[2,225]),X(se,[2,226]),X(Z,[2,4]),{13:[1,176]},X(vt,[2,40]),{46:[1,177]},{46:[1,178]},{34:[1,180],95:179},X(Y,[2,390]),X([6,13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,181]}),{13:q,16:te,35:[1,187],60:184,195:[1,185],215:182,216:183,219:[1,186],312:ne},X(pe,[2,399]),{6:[2,49]},X(Z,G,{7:3,4:188}),{13:q,16:te,60:189,312:ne},X(ue,[2,284]),{112:190,119:[1,191],141:[1,193],143:192,320:[1,194],327:[1,195]},X(ae,[2,290]),X(ue,Vt,{115:196,142:198,119:Wt,141:ft}),X(de,[2,295]),{119:[1,200]},{119:[2,297]},X(Rt,[2,54]),X(re,It,{144:201,151:202,152:203,48:ct,119:ct}),X(Rt,[2,55]),X(Rt,[2,56]),X(xt,[2,300],{126:204,129:205,132:Le}),{46:be,121:206},X(xt,[2,306],{130:207,125:208,133:he}),{46:be,121:209},X([132,133],[2,62]),X(Qe,nt,{21:210,64:211,74:212,75:Xt}),X(Q,[2,220]),{46:St,62:214},X(ue,[2,251],{59:216,320:[1,217]}),{46:[2,254]},X(Mt,jt,{24:218,63:219,67:220,68:sn}),X(Q,[2,222]),{20:222,45:fe,46:Re,57:223,58:ye,61:106},{46:[1,224]},X(ee,[2,236]),{48:[1,225]},{48:[2,360]},{13:q,16:te,34:Ht,35:an,39:230,60:235,87:Se,93:Ot,98:236,153:226,183:227,185:228,226:vn,231:je,243:229,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(En,[2,247],{61:106,53:240,57:241,20:242,45:fe,46:Re,58:ye}),X(Ge,[2,242]),X(Mt,jt,{63:219,67:220,24:243,68:sn}),X(Q,[2,250]),X(Te,[2,224]),{37:[1,244]},{37:[1,245]},X(Sn,[2,432],{248:246}),{13:q,16:te,34:Ht,39:249,60:235,87:Se,93:Ot,98:236,119:[1,247],231:je,236:248,243:250,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(dn,[2,434],{252:251}),X(dn,[2,148],{256:252,257:253,258:[2,442],295:[1,254],334:[1,255],335:[1,256],336:[1,257],337:[1,258],338:[1,259],339:[1,260]}),X(pn,[2,444],{260:261}),X($t,[2,452],{268:262}),{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,263:154,265:155,272:263,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,263:154,265:155,272:264,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,263:154,265:155,272:265,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X($t,[2,160]),X($t,[2,161]),X($t,[2,162]),X($t,[2,163],{35:wn,93:di}),X($t,[2,164]),X($t,[2,165]),X($t,[2,166]),{13:q,16:te,34:xe,35:Ie,36:268,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,168]),{93:[1,269]},{35:[1,270]},{35:[1,271]},{35:[1,272]},{35:bt,93:pt,177:273},{35:[1,276]},{35:[1,278],93:[1,277]},{284:[1,279]},X(ht,[2,182],{297:[1,280],298:[1,281]}),X(ht,[2,185]),X(ht,[2,186]),X(ht,[2,187]),X(ht,[2,188]),X(ht,[2,189]),X(ht,[2,190]),{35:[1,282]},{35:[1,283]},{35:[1,284]},X(yt,[2,456]),X(yt,[2,457]),X(yt,[2,458]),X(yt,[2,459]),X(yt,[2,460]),{284:[2,462]},X(Yt,[2,191]),X(Yt,[2,192]),X(Yt,[2,193]),X(Yt,[2,194]),X(ht,[2,195]),X(ht,[2,196]),X(ht,[2,197]),X(ht,[2,198]),X(ht,[2,199]),X(ht,[2,200]),X(Z,[2,5]),X(Nt,[2,269],{92:285}),X(Ut,[2,271],{94:286}),{34:[1,288],38:[1,287]},X(wt,[2,273]),X(Y,[2,392]),X(Ct,[2,113]),X(Ct,[2,396],{217:289,332:290,26:[1,292],271:[1,293],333:[1,291]}),X(Ft,[2,114]),X(Ft,[2,115]),{13:q,16:te,35:[1,297],60:298,93:[1,296],195:Et,220:294,221:295,224:nn,312:ne},X(Y,F,{211:10,210:301}),X(W,[2,280],{6:[2,282]}),X(Rt,[2,285],{109:302,139:303,140:[1,304]}),X(Rt,[2,51]),{13:q,16:te,60:305,312:ne},X(Rt,[2,67]),X(Rt,[2,314]),X(Rt,[2,315]),X(Rt,[2,316]),{116:[1,306]},X(hn,[2,64]),{13:q,16:te,60:307,312:ne},X(ue,[2,313]),{13:q,16:te,60:308,312:ne},X(At,[2,319],{145:309}),X(At,[2,318]),{13:q,16:te,34:Ht,35:an,39:230,60:235,87:Se,93:Ot,98:236,153:310,183:227,185:228,226:vn,231:je,243:229,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(xt,[2,302],{127:311}),X(xt,[2,301]),X([45,132,135],[2,60]),X(xt,[2,308],{131:312}),X(xt,[2,307]),X([45,133,135],[2,59]),X(D,[2,6]),X(fn,[2,259],{65:313,77:314,78:[1,315]}),X(Qe,[2,258]),{13:q,16:te,35:Ie,60:321,72:319,73:320,76:316,82:318,84:317,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X([6,48,68,75,78,86,88,90],[2,21]),X(re,qt,{25:21,30:322,155:323,18:324,22:325,156:326,162:327,163:328,28:U,46:zt,48:zt,90:zt,119:zt,167:zt,168:zt,170:zt,173:zt,174:zt}),{13:q,16:te,60:329,312:ne},X(ue,[2,252]),X(D,[2,7]),X(Qe,nt,{64:211,74:212,21:330,75:Xt}),X(Mt,[2,256]),{69:[1,331]},X(Mt,jt,{63:219,67:220,24:332,68:sn}),X(Q,[2,234]),X(re,It,{152:203,47:333,151:334,48:[2,237]}),X(Q,[2,92]),{48:[2,363],182:335,328:[1,336]},{13:q,16:te,34:Ln,60:341,184:337,188:338,193:339,195:Dt,312:ne},X(Gn,[2,367],{188:338,193:339,60:341,186:343,187:344,184:345,13:q,16:te,34:Ln,195:Dt,312:ne}),X(Xn,[2,365]),X(Xn,[2,366]),{13:q,16:te,34:Ht,35:an,39:351,60:235,87:Se,93:Ot,98:236,185:349,197:347,225:346,226:vn,229:348,231:je,243:350,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{13:q,16:te,34:Ln,60:341,184:352,188:338,193:339,195:Dt,312:ne},X(Vn,[2,137]),X(Vn,[2,138]),X(Vn,[2,139]),X(Vn,[2,140]),X(Vn,[2,141]),X(Vn,[2,142]),X(Vn,[2,143]),X(Mt,jt,{63:219,67:220,24:353,68:sn}),X(Ze,[2,246]),X(En,[2,248]),X(D,[2,19]),{34:[1,354]},{34:[1,355]},X([37,38,191,278],[2,144],{249:356,250:[1,357]}),{13:q,16:te,34:[1,359],60:360,232:358,312:ne},{13:q,16:te,34:Ln,60:341,193:361,195:Dt,312:ne},X(Xn,[2,418]),X(Xn,[2,419]),X(Sn,[2,146],{253:362,254:[1,363]}),{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,255:364,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{258:[1,365]},X(ln,[2,436]),X(ln,[2,437]),X(ln,[2,438]),X(ln,[2,439]),X(ln,[2,440]),X(ln,[2,441]),{258:[2,443]},X([37,38,191,250,254,258,278,295,334,335,336,337,338,339],[2,151],{261:366,262:367,263:368,265:369,271:[1,370],273:[1,371],306:we,307:Ue,308:et,309:at,310:Ve,311:oe}),X(pn,[2,155],{269:372,270:373,26:cn,331:gn}),X($t,[2,157]),X($t,[2,158]),X($t,[2,159]),X(De,[2,88]),X(ln,[2,353],{175:376,316:[1,377]}),{38:[1,378]},X(De,[2,169]),{13:q,16:te,34:xe,35:Ie,36:379,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ie,36:380,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ie,36:381,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,173]),X(De,[2,90]),X(ln,[2,357],{178:382}),{34:[1,383]},X(De,[2,175]),{13:q,16:te,34:xe,35:Ie,36:384,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{46:St,62:385},X(ht,[2,183]),{13:q,16:te,60:386,312:ne},X(An,[2,463],{286:387,316:[1,388]}),X(ln,[2,467],{289:389,316:[1,390]}),X(ln,[2,469],{291:391,316:[1,392]}),{13:q,16:te,48:[1,393],60:395,87:Se,97:394,98:396,99:397,100:un,231:xn,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{48:[1,400],93:[1,401]},{46:[1,402]},X(wt,[2,274]),X(Ct,[2,112]),X(Ct,[2,397]),X(Ct,[2,393]),X(Ct,[2,394]),X(Ct,[2,395]),X(Ft,[2,116]),X(Ft,[2,118]),X(Ft,[2,119]),X(ui,[2,400],{222:403}),X(Ft,[2,121]),X(Ft,[2,122]),{13:q,16:te,60:404,195:[1,405],312:ne},{38:[1,406]},X(Rt,[2,50]),X(Rt,[2,286]),{119:[1,407]},X(Rt,[2,66]),X(ue,Vt,{142:198,115:408,119:Wt,141:ft}),X(hn,[2,65]),X(Rt,[2,53]),{48:[1,409],119:[1,411],146:410},X(At,[2,331],{154:412,328:[1,413]}),{45:[1,414],134:415,135:ii},{45:[1,417],134:418,135:ii},X(Cn,[2,261],{66:419,85:420,86:[1,421],88:[1,422]}),X(fn,[2,260]),{69:[1,423]},X(Qe,[2,30],{274:141,280:146,283:149,82:318,72:319,73:320,60:321,84:424,13:q,16:te,35:Ie,275:st,276:qe,277:ot,279:ut,281:dt,282:mt,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt}),X(zi,[2,265]),X(Si,[2,85]),X(Si,[2,86]),X(Si,[2,87]),{35:wn,93:di},{48:[1,425]},{48:[1,426]},{20:427,45:fe,46:Re,61:106},{20:428,45:fe,46:Re,61:106},X(Kn,[2,335],{157:429}),X(Kn,[2,334]),{13:q,16:te,34:Ht,35:li,39:434,60:235,87:Se,93:Ot,98:236,164:430,201:431,203:432,226:ai,231:je,243:433,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Ze,[2,20]),X(Cn,[2,22]),{13:q,16:te,34:Hi,35:Ei,60:321,70:437,71:438,72:439,73:440,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(D,[2,16]),{48:[1,443]},{48:[2,238]},{48:[2,93]},X(re,[2,362],{48:[2,364]}),X(Gn,[2,94]),X(Pn,[2,369],{189:444}),X(re,[2,373],{194:445,196:446}),X(re,[2,100]),X(re,[2,101]),X(re,[2,102]),X(Gn,[2,95]),X(Gn,[2,96]),X(Gn,[2,368]),{13:q,16:te,34:Ht,35:an,38:[1,447],39:351,60:235,87:Se,93:Ot,98:236,185:349,197:448,226:vn,229:348,231:je,243:350,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(mi,[2,404]),X(bi,[2,129]),X(bi,[2,130]),X(bi,[2,408]),X(bi,[2,409]),{227:[1,449]},X(D,[2,18]),{38:[1,450]},{38:[1,451]},X(Sn,[2,433]),{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:452,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{46:[1,453]},{46:[2,412]},{46:[2,413]},{13:q,16:te,34:Ht,39:455,60:235,87:Se,93:Ot,98:236,231:je,237:454,243:456,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(dn,[2,435]),{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,251:457,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(dn,[2,149]),{35:bt,93:pt,177:458},X(pn,[2,445]),{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,259:459,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X($t,[2,448],{264:460}),X($t,[2,450],{266:461}),X(ln,[2,446]),X(ln,[2,447]),X($t,[2,453]),{13:q,16:te,34:xe,35:Ie,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,263:154,265:155,267:462,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(ln,[2,454]),X(ln,[2,455]),X(ln,[2,355],{176:463}),X(ln,[2,354]),X([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],[2,167]),{38:[1,464]},{278:[1,465]},{278:[1,466]},{13:q,16:te,34:xe,35:Ie,36:467,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{38:[1,468]},{38:[1,469]},X(De,[2,177]),X(ht,[2,184]),{13:q,16:te,26:[1,471],34:xe,35:Ie,36:472,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,287:470,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(An,[2,464]),{13:q,16:te,34:xe,35:Ie,36:473,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(ln,[2,468]),{13:q,16:te,34:xe,35:Ie,36:474,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(ln,[2,470]),X(vt,[2,41]),X(Nt,[2,270]),X(hi,[2,44]),X(hi,[2,45]),X(hi,[2,46]),X(hi,[2,47]),{13:q,16:te,60:235,87:Se,93:Ot,98:236,99:477,119:[1,475],231:xn,241:476,244:478,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(vt,[2,42]),X(Ut,[2,272]),X(gi,[2,275],{96:479}),{13:q,16:te,38:[2,402],60:298,195:Et,221:481,223:480,224:nn,312:ne},X(Ft,[2,123]),X(Ft,[2,124]),X(Ft,[2,117]),{13:q,16:te,60:482,312:ne},X(Rt,[2,52]),X([6,45,132,133,135,191],[2,68]),X(At,[2,320]),{13:q,16:te,34:[1,484],60:485,147:483,312:ne},X(At,[2,70]),X(re,[2,330],{48:Ki,119:Ki}),{46:St,62:486},X(xt,[2,303]),X(ue,[2,310],{136:487,320:[1,488]}),{46:St,62:489},X(xt,[2,309]),X(Cn,[2,23]),X(Cn,[2,262]),{87:[1,490]},{87:[1,491]},{13:q,16:te,34:Pi,35:Ie,60:321,72:319,73:320,79:492,80:493,81:Bi,82:318,83:_i,84:496,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(zi,[2,266]),X(Oi,[2,71]),X(Oi,[2,72]),X(Qe,nt,{64:211,74:212,21:498,75:Xt}),X(Mt,jt,{63:219,67:220,24:499,68:sn}),{46:[2,345],48:[2,73],89:509,90:J,119:[1,505],158:500,159:501,166:502,167:[1,503],168:[1,504],170:[1,506],173:[1,507],174:[1,508]},X(Kn,[2,343],{165:510,328:[1,511]}),X(Y,F,{211:10,202:512,205:513,210:514,34:xi}),X(pi,[2,379],{211:10,205:513,210:514,204:516,202:517,13:F,16:F,35:F,195:F,219:F,224:F,312:F,34:xi}),X(ji,[2,377]),X(ji,[2,378]),{13:q,16:te,34:Ht,35:li,39:523,60:235,87:Se,93:Ot,98:236,200:519,203:521,226:ai,228:518,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Y,F,{211:10,205:513,210:514,202:524,34:xi}),X(Mt,[2,24],{274:141,280:146,283:149,60:321,72:439,73:440,71:525,13:q,16:te,34:Hi,35:Ei,275:st,276:qe,277:ot,279:ut,281:dt,282:mt,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt}),X(Bn,[2,263]),X(Bn,[2,25]),X(Bn,[2,26]),{13:q,16:te,34:xe,35:Ie,36:526,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(Bn,[2,29]),X(Mt,jt,{63:219,67:220,24:527,68:sn}),X([48,119,227,328],[2,97],{190:528,191:[1,529]}),X(Pn,[2,99]),{13:q,16:te,34:Ht,35:an,39:351,60:235,87:Se,93:Ot,98:236,185:349,197:530,226:vn,229:348,231:je,243:350,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Di,[2,125]),X(mi,[2,405]),X(Di,[2,126]),X(Te,[2,14]),X(Te,[2,15]),X(Sn,[2,145]),{13:q,16:te,34:Ht,39:532,60:235,87:Se,93:Ot,98:236,231:je,233:531,243:533,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{235:[1,534]},{235:[2,420]},{235:[2,421]},X(dn,[2,147]),X(dn,[2,150]),X(pn,[2,152]),X(pn,[2,153],{270:373,269:535,26:cn,331:gn}),X(pn,[2,154],{270:373,269:536,26:cn,331:gn}),X($t,[2,156]),{13:q,16:te,34:xe,35:Ie,36:537,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,170]),{13:q,16:te,34:xe,35:Ie,36:538,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:xe,35:Ie,36:539,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{38:[1,540],278:[1,541]},X(De,[2,174]),X(De,[2,176]),{38:[1,542]},{38:[2,465]},{38:[2,466]},{38:[1,543]},{38:[2,471],191:[1,546],292:544,293:545},{13:q,16:te,34:[1,548],60:549,238:547,312:ne},{13:q,16:te,34:Ln,60:341,193:550,195:Dt,312:ne},X(Xn,[2,428]),X(Xn,[2,429]),{35:[1,553],48:[1,551],101:552},{38:[1,554]},{38:[2,403],330:[1,555]},X(Rt,[2,63]),{46:[1,556]},{46:[2,321]},{46:[2,322]},X(Rt,[2,57]),{13:q,16:te,60:557,312:ne},X(ue,[2,311]),X(Rt,[2,58]),X(Cn,[2,36],{88:[1,558]}),X(Cn,[2,37],{86:[1,559]}),X(fn,[2,31],{274:141,280:146,283:149,82:318,72:319,73:320,60:321,84:496,80:560,13:q,16:te,34:Pi,35:Ie,81:Bi,83:_i,275:st,276:qe,277:ot,279:ut,281:dt,282:mt,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt}),X(Qn,[2,267]),{35:Ie,82:561},{35:Ie,82:562},X(Qn,[2,34]),X(Qn,[2,35]),{31:563,48:[2,229],89:564,90:J},{32:565,48:[2,231],89:566,90:J},X(Kn,[2,336]),X(Ai,[2,337],{160:567,328:[1,568]}),{46:St,62:569},{46:St,62:570},{46:St,62:571},{13:q,16:te,34:[1,573],60:574,169:572,312:ne},X(Qi,[2,349],{171:575,321:[1,576]}),{13:q,16:te,35:Ie,60:321,72:319,73:320,82:318,84:577,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{35:[1,578]},X(Mn,[2,84]),X(Kn,[2,75]),X(re,[2,342],{46:Nn,48:Nn,90:Nn,119:Nn,167:Nn,168:Nn,170:Nn,173:Nn,174:Nn}),X(pi,[2,105]),X(re,[2,383],{206:579}),X(re,[2,381]),X(re,[2,382]),X(pi,[2,106]),X(pi,[2,380]),{13:q,16:te,34:Ht,35:li,38:[1,580],39:523,60:235,87:Se,93:Ot,98:236,200:581,203:521,226:ai,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(mi,[2,406]),X(Zi,[2,131]),X(Zi,[2,132]),X(Zi,[2,410]),X(Zi,[2,411]),{227:[1,582]},X(Bn,[2,264]),{37:[1,584],38:[1,583]},X(D,[2,17]),X(Pn,[2,370]),X(Pn,[2,371],{193:339,60:341,192:585,188:586,13:q,16:te,34:Ln,195:Dt,312:ne}),X(Pn,[2,103],{278:[1,587]}),{13:q,16:te,34:Ln,60:341,193:588,195:Dt,312:ne},X(Xn,[2,414]),X(Xn,[2,415]),X($i,[2,134]),X($t,[2,449]),X($t,[2,451]),{38:[1,589],278:[1,590]},{38:[1,591]},{278:[1,592]},X(De,[2,91]),X(ln,[2,358]),X(De,[2,178]),X(De,[2,179]),{38:[1,593]},{38:[2,472]},{294:[1,594]},{46:[1,595]},{46:[2,422]},{46:[2,423]},{13:q,16:te,60:235,87:Se,93:Ot,98:236,99:597,231:xn,242:596,244:598,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(vt,[2,43]),X(gi,[2,276]),{13:q,16:te,60:395,87:Se,97:600,98:396,99:397,100:un,102:599,231:xn,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(Ft,[2,120]),X(ui,[2,401]),X(re,It,{152:203,148:601,151:602,48:[2,323]}),X(xt,[2,61]),{87:[1,603]},{87:[1,604]},X(Qn,[2,268]),X(Qn,[2,32]),X(Qn,[2,33]),{48:[2,11]},{48:[2,230]},{48:[2,12]},{48:[2,232]},X(re,qt,{163:328,161:605,162:606,46:Fn,48:Fn,90:Fn,119:Fn,167:Fn,168:Fn,170:Fn,173:Fn,174:Fn}),X(Ai,[2,338]),X(Mn,[2,76],{329:[1,607]}),X(Mn,[2,77]),X(Mn,[2,78]),{46:St,62:608},{46:[2,347]},{46:[2,348]},{13:q,16:te,34:[1,610],60:611,172:609,312:ne},X(Qi,[2,350]),X(Mn,[2,81]),{13:q,16:te,34:xe,35:Ie,36:612,39:613,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,231:je,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},{13:q,16:te,34:Ht,35:li,39:523,60:235,87:Se,93:Ot,98:236,200:614,203:521,226:ai,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(qi,[2,127]),X(mi,[2,407]),X(qi,[2,128]),X(Bn,[2,27]),{34:[1,615]},X(Pn,[2,98]),X(Pn,[2,372]),X(re,[2,374]),{13:q,16:te,34:Ht,39:617,60:235,87:Se,93:Ot,98:236,231:je,234:616,243:618,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(De,[2,89]),X(ln,[2,356]),X(De,[2,171]),{13:q,16:te,34:xe,35:Ie,36:619,60:136,72:135,73:137,82:134,87:Se,98:138,219:Ne,247:124,251:126,255:127,259:128,263:154,265:155,267:129,271:tt,272:133,273:it,274:141,275:st,276:qe,277:ot,279:ut,280:146,281:dt,282:mt,283:149,284:Je,285:Me,288:ke,290:Ye,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne,339:me,340:ge,341:Fe,342:Ke,343:Ae,344:rt},X(De,[2,180]),{295:[1,620]},{13:q,16:te,60:235,87:Se,93:Ot,98:236,99:622,231:xn,239:621,244:623,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},{235:[1,624]},{235:[2,430]},{235:[2,431]},{13:q,16:te,38:[1,625],60:395,87:Se,97:626,98:396,99:397,100:un,231:xn,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(el,[2,277]),{48:[1,627]},{48:[2,324]},X(Cn,[2,38]),X(Cn,[2,39]),X(Kn,[2,74]),X(Kn,[2,340]),{46:[2,346]},X(Mn,[2,79]),{46:St,62:628},{46:[2,351]},{46:[2,352]},{37:[1,629]},{37:[1,630]},X(si,[2,385],{207:631,278:[1,632]}),{38:[1,633]},{48:[1,634]},{48:[2,416]},{48:[2,417]},{38:[1,635]},{296:636,302:_e,303:He,304:Pe,305:$e},{13:q,16:te,34:Ln,60:341,193:637,195:Dt,312:ne},X(Xn,[2,424]),X(Xn,[2,425]),X(tl,[2,136]),X(gi,[2,48]),X(el,[2,278]),X(nl,[2,325],{149:638,328:[1,639]}),X(Mn,[2,80]),{34:[1,640]},{34:[1,641]},X([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:642,191:[1,643]}),X(re,[2,384]),X(Bn,[2,28]),{235:[1,644]},X(De,[2,172]),{38:[2,181]},{13:q,16:te,60:235,87:Se,93:Ot,98:236,99:646,231:xn,240:645,244:647,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(re,It,{152:203,150:648,151:649,48:il,119:il}),X(nl,[2,326]),{38:[1,650]},{38:[1,651]},X(si,[2,386]),X(si,[2,108],{211:10,209:652,210:653,13:F,16:F,35:F,195:F,219:F,224:F,312:F,34:[1,654]}),X($i,[2,133]),{48:[1,655]},{48:[2,426]},{48:[2,427]},X(At,[2,69]),X(At,[2,328]),X(Mn,[2,82]),X(Mn,[2,83]),X(re,[2,375],{198:656,199:657}),X(re,[2,387]),X(re,[2,388]),{235:[1,658]},X(si,[2,109]),{13:q,16:te,34:Ht,35:li,39:523,60:235,87:Se,93:Ot,98:236,200:659,203:521,226:ai,230:520,231:je,243:522,244:234,245:tn,246:Qt,263:154,265:155,296:150,299:Ce,300:ze,301:Ee,302:_e,303:He,304:Pe,305:$e,306:we,307:Ue,308:et,309:at,310:Ve,311:oe,312:ne},X(tl,[2,135]),X(si,[2,104],{278:[1,660]}),X(re,[2,376])],defaultActions:{5:[2,206],6:[2,207],7:[2,208],9:[2,205],28:[2,1],29:[2,3],30:[2,218],85:[2,49],94:[2,297],108:[2,254],115:[2,360],165:[2,462],260:[2,443],334:[2,238],335:[2,93],359:[2,412],360:[2,413],455:[2,420],456:[2,421],471:[2,465],472:[2,466],484:[2,321],485:[2,322],545:[2,472],548:[2,422],549:[2,423],563:[2,11],564:[2,230],565:[2,12],566:[2,232],573:[2,347],574:[2,348],597:[2,430],598:[2,431],602:[2,324],607:[2,346],610:[2,351],611:[2,352],617:[2,416],618:[2,417],636:[2,181],646:[2,426],647:[2,427]},parseError:function(Zt,Lt){if(Lt.recoverable)this.trace(Zt);else{var Tt=new Error(Zt);throw Tt.hash=Lt,Tt}},parse:function(Zt){var Lt=this,Tt=[0],Jt=[null],kt=[],Be=this.table,Rn="",Oe=0,Hn=0,Xi=2,Vi=1,Wi=kt.slice.call(arguments,1),rn=Object.create(this.lexer),In={yy:{}};for(var Dn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Dn)&&(In.yy[Dn]=this.yy[Dn]);rn.setInput(Zt,In.yy),In.yy.lexer=rn,In.yy.parser=this,typeof rn.yylloc>"u"&&(rn.yylloc={});var ti=rn.yylloc;kt.push(ti);var Ji=rn.options&&rn.options.ranges;typeof In.yy.parseError=="function"?this.parseError=In.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Ri=function(){var ni;return ni=rn.lex()||Vi,typeof ni!="number"&&(ni=Lt.symbols_[ni]||ni),ni},Bt,_t,Kt,mn,bn={},Li,Un,pl,vi;;){if(_t=Tt[Tt.length-1],this.defaultActions[_t]?Kt=this.defaultActions[_t]:((Bt===null||typeof Bt>"u")&&(Bt=Ri()),Kt=Be[_t]&&Be[_t][Bt]),typeof Kt>"u"||!Kt.length||!Kt[0]){var ki="";vi=[];for(Li in Be[_t])this.terminals_[Li]&&Li>Xi&&vi.push("'"+this.terminals_[Li]+"'");rn.showPosition?ki="Parse error on line "+(Oe+1)+`:
`+rn.showPosition()+`
Expecting `+vi.join(", ")+", got '"+(this.terminals_[Bt]||Bt)+"'":ki="Parse error on line "+(Oe+1)+": Unexpected "+(Bt==Vi?"end of input":"'"+(this.terminals_[Bt]||Bt)+"'"),this.parseError(ki,{text:rn.match,token:this.terminals_[Bt]||Bt,line:rn.yylineno,loc:ti,expected:vi})}if(Kt[0]instanceof Array&&Kt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_t+", token: "+Bt);switch(Kt[0]){case 1:Tt.push(Bt),Jt.push(rn.yytext),kt.push(rn.yylloc),Tt.push(Kt[1]),Bt=null,Hn=rn.yyleng,Rn=rn.yytext,Oe=rn.yylineno,ti=rn.yylloc;break;case 2:if(Un=this.productions_[Kt[1]][1],bn.$=Jt[Jt.length-Un],bn._$={first_line:kt[kt.length-(Un||1)].first_line,last_line:kt[kt.length-1].last_line,first_column:kt[kt.length-(Un||1)].first_column,last_column:kt[kt.length-1].last_column},Ji&&(bn._$.range=[kt[kt.length-(Un||1)].range[0],kt[kt.length-1].range[1]]),mn=this.performAction.apply(bn,[Rn,Hn,Oe,In.yy,Kt[1],Jt,kt].concat(Wi)),typeof mn<"u")return mn;Un&&(Tt=Tt.slice(0,-1*Un*2),Jt=Jt.slice(0,-1*Un),kt=kt.slice(0,-1*Un)),Tt.push(this.productions_[Kt[1]][0]),Jt.push(bn.$),kt.push(bn._$),pl=Be[Tt[Tt.length-2]][Tt[Tt.length-1]],Tt.push(pl);break;case 3:return!0}}return!0}},yi=Wildcard$2.Wildcard,fi="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ll=fi+"type",yl=fi+"first",fl=fi+"rest",al=fi+"nil",Gi="http://www.w3.org/2001/XMLSchema#",sl=Gi+"integer",rl=Gi+"decimal",ol=Gi+"double",Gl=Gi+"boolean",_n="",cl="",dl="";function Wn(Gt){return Gt.toLowerCase()}function Jn(Gt,Zt){return Gt.push(Zt),Gt}function $n(Gt,Zt){return Gt.push.apply(Gt,Zt),Gt}function en(Gt){Gt||(Gt={});for(var Zt=1,Lt=arguments.length,Tt;Zt<Lt&&(Tt=arguments[Zt]||{});Zt++)for(var Jt in Tt)Gt[Jt]=Tt[Jt];return Gt}function Tn(){for(var Gt=[],Zt=0,Lt=arguments.length;Zt<Lt;Zt++)Gt=Gt.concat.apply(Gt,arguments[Zt]);return Gt}function ri(Gt){if(Gt[0]==="<"&&(Gt=Gt.substring(1,Gt.length-1)),/^[a-z]+:/i.test(Gt))return Gt;if(!Pt.base)throw new Error("Cannot resolve relative IRI "+Gt+" because no base IRI was set.");switch(_n!==Pt.base&&(_n=Pt.base,cl=_n.replace(/[^\/:]*$/,""),dl=_n.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Gt[0]){case void 0:return _n;case"#":return _n+Gt;case"?":return _n.replace(/(?:\?.*)?$/,Gt);case"/":return dl+Gt;default:return cl+Gt}}function Zn(Gt){if(Gt){var Zt=Gt[0];if(Zt==="?"||Zt==="$")return Pt.factory.variable(Gt.substr(1))}return Gt}function yn(Gt,Zt){return{type:"operation",operator:Gt,args:Zt||[]}}function kn(Gt,Zt){var Lt={expression:Gt==="*"?new yi:Gt};if(Zt)for(var Tt in Zt)Lt[Tt]=Zt[Tt];return Lt}function On(Gt,Zt){return{type:"path",pathType:Gt,items:Zt}}function Yi(Gt,Zt){for(var Lt=0,Tt=Zt.length,Jt;Lt<Tt&&(Jt=Zt[Lt]);Lt++)Gt=yn(Jt[0],[Gt,Jt[1]]);return Gt}function zn(Gt,Zt){var Lt=[],Tt=[],Jt=Gt.length,kt,Be={};if(!Jt)return null;for(var Rn=0;Rn<Jt&&(kt=Gt[Rn]);Rn++)(kt.named?Tt:Lt).push(kt.iri);return Be[Zt||"from"]={default:Lt,named:Tt},Be}function qn(Gt){return parseInt(Gt,10)}function Ii(Gt){return Gt.type==="group"&&Gt.patterns.length===1?Gt.patterns[0]:Gt}function Yn(Gt,Zt){return Zt&&Zt.termType!=="NamedNode"&&(Zt=Pt.factory.namedNode(Zt)),Pt.factory.literal(Gt,Zt)}function Xl(Gt,Zt){return Pt.factory.literal(Gt,Zt)}function jn(Gt,Zt,Lt){var Tt={};return Gt!=null&&(Tt.subject=Gt),Zt!=null&&(Tt.predicate=Zt),Lt!=null&&(Tt.object=Lt),Tt}function oi(Gt){return typeof Gt=="string"?Gt.startsWith("e_")?Pt.factory.blankNode(Gt):Pt.factory.blankNode("e_"+Gt):Pt.factory.blankNode("g_"+ul++)}var ul=0;Pt._resetBlanks=function(){ul=0};var Vl=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Wl={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Rl=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Mi=String.fromCharCode;function ml(Gt,Zt){Gt=Gt.substring(Zt,Gt.length-Zt);try{Gt=Gt.replace(Vl,function(Lt,Tt,Jt,kt){var Be;if(Tt){if(Be=parseInt(Tt,16),isNaN(Be))throw new Error;return Mi(Be)}else if(Jt){if(Be=parseInt(Jt,16),isNaN(Be))throw new Error;return Be<65535?Mi(Be):Mi(55296+((Be-=65536)>>10),56320+(Be&1023))}else{var Rn=Wl[kt];if(!Rn)throw new Error;return Rn}})}catch{return""}if(Rl.exec(Gt))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Gt);return Gt}function Ll(Gt){var Zt=oi(),Lt=Zt,Tt=[],Jt,kt=[];Gt.forEach(function(Hn){Tt.push(Hn.entity),$n(kt,Hn.triples)});for(var Be=0,Rn=0,Oe=Tt.length,Jt=Array(Oe*2);Be<Oe;)Jt[Rn++]=jn(Lt,Pt.factory.namedNode(yl),Tt[Be]),Jt[Rn++]=jn(Lt,Pt.factory.namedNode(fl),Lt=++Be<Oe?oi():Pt.factory.namedNode(al));return{entity:Zt,triples:$n(Jt,kt)}}function vl(Gt){var Zt=oi();return{entity:Zt,triples:Gt.map(function(Lt){return en(jn(Zt),Lt)})}}function Ni(Gt,Zt,Lt){var Tt=[],Jt=[];return Zt.forEach(function(kt){Tt.push(jn(null,Gt,kt.entity)),$n(Jt,kt.triples)}),Tn(Tt,Lt||[],Jt)}function ei(Gt){return Gt.variable?Gt.variable.value:Gt.value||Gt.expression.value}function Fi(Gt){if(!Gt)return[];if(Gt.type==="aggregate")return[Gt];if(Gt.type==="operation"){const Zt=[];for(const Lt of Gt.args)Zt.push(...Fi(Lt));return Zt}return[]}function Sl(Gt){const Zt=new Set,Lt=function(Tt){Tt&&(Tt.termType==="Variable"?Zt.add(Tt):Tt.type==="operation"&&Tt.args.forEach(Lt))};return Lt(Gt),Zt}function Ui(Gt,Zt=1,Lt=[]){for(const Tt of Gt)Zt>0&&Tt instanceof Array?Ui(Tt,Zt-1,Lt):Lt.push(Tt);return Lt}function wi(Gt){return Gt.termType==="Variable"}function bl(Gt){if(Gt.triples){const Zt=[];for(const Lt of Gt.triples)wi(Lt.subject)&&Zt.push(Lt.subject.value),wi(Lt.predicate)&&Zt.push(Lt.predicate.value),wi(Lt.object)&&Zt.push(Lt.object.value);return Zt}else if(Gt.patterns){const Zt=[];for(const Lt of Gt.patterns)Zt.push(...bl(Lt));return Zt}return[]}function gl(Gt){const Zt=Gt.slice().sort(),Lt=[];for(let Tt=0;Tt<Zt.length-1;Tt++)Zt[Tt+1]==Zt[Tt]&&Lt.push(Zt[Tt]);return Lt}function ci(Gt){if(!Pt.sparqlStar)throw new Error("SPARQL* support is not enabled");return Gt}function hl(Gt){for(const Zt of Gt){if(Zt.type==="graph"&&Zt.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(Zt.type==="bgp"||Zt.type==="graph"){for(const Lt of Zt.triples)if(Lt.subject.termType==="Variable"||Lt.predicate.termType==="Variable"||Lt.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Gt}function Ci(Gt){for(const Zt of Gt)if(Zt.type==="bgp"){for(const Lt of Zt.triples)if(Lt.subject.termType==="BlankNode"||Lt.predicate.termType==="BlankNode"||Lt.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Gt}var xl=function(){var Gt={EOF:1,parseError:function(Lt,Tt){if(this.yy.parser)this.yy.parser.parseError(Lt,Tt);else throw new Error(Lt)},setInput:function(Zt,Lt){return this.yy=Lt||this.yy||{},this._input=Zt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Zt=this._input[0];this.yytext+=Zt,this.yyleng++,this.offset++,this.match+=Zt,this.matched+=Zt;var Lt=Zt.match(/(?:\r\n?|\n).*/g);return Lt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Zt},unput:function(Zt){var Lt=Zt.length,Tt=Zt.split(/(?:\r\n?|\n)/g);this._input=Zt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Lt),this.offset-=Lt;var Jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Tt.length-1&&(this.yylineno-=Tt.length-1);var kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Tt?(Tt.length===Jt.length?this.yylloc.first_column:0)+Jt[Jt.length-Tt.length].length-Tt[0].length:this.yylloc.first_column-Lt},this.options.ranges&&(this.yylloc.range=[kt[0],kt[0]+this.yyleng-Lt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Zt){this.unput(this.match.slice(Zt))},pastInput:function(){var Zt=this.matched.substr(0,this.matched.length-this.match.length);return(Zt.length>20?"...":"")+Zt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Zt=this.match;return Zt.length<20&&(Zt+=this._input.substr(0,20-Zt.length)),(Zt.substr(0,20)+(Zt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Zt=this.pastInput(),Lt=new Array(Zt.length+1).join("-");return Zt+this.upcomingInput()+`
`+Lt+"^"},test_match:function(Zt,Lt){var Tt,Jt,kt;if(this.options.backtrack_lexer&&(kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(kt.yylloc.range=this.yylloc.range.slice(0))),Jt=Zt[0].match(/(?:\r\n?|\n).*/g),Jt&&(this.yylineno+=Jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Jt?Jt[Jt.length-1].length-Jt[Jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Zt[0].length},this.yytext+=Zt[0],this.match+=Zt[0],this.matches=Zt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Zt[0].length),this.matched+=Zt[0],Tt=this.performAction.call(this,this.yy,this,Lt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Tt)return Tt;if(this._backtrack){for(var Be in kt)this[Be]=kt[Be];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Zt,Lt,Tt,Jt;this._more||(this.yytext="",this.match="");for(var kt=this._currentRules(),Be=0;Be<kt.length;Be++)if(Tt=this._input.match(this.rules[kt[Be]]),Tt&&(!Lt||Tt[0].length>Lt[0].length)){if(Lt=Tt,Jt=Be,this.options.backtrack_lexer){if(Zt=this.test_match(Tt,kt[Be]),Zt!==!1)return Zt;if(this._backtrack){Lt=!1;continue}else return!1}else if(!this.options.flex)break}return Lt?(Zt=this.test_match(Lt,kt[Jt]),Zt!==!1?Zt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Lt=this.next();return Lt||this.lex()},begin:function(Lt){this.conditionStack.push(Lt)},popState:function(){var Lt=this.conditionStack.length-1;return Lt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Lt){return Lt=this.conditionStack.length-1-Math.abs(Lt||0),Lt>=0?this.conditionStack[Lt]:"INITIAL"},pushState:function(Lt){this.begin(Lt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Lt,Tt,Jt,kt){switch(Jt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 316;case 5:return 317;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 320;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 321;case 30:return 140;case 31:return 322;case 32:return 323;case 33:return 117;case 34:return 324;case 35:return 116;case 36:return 325;case 37:return 326;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 327;case 48:return 328;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 329;case 55:return 173;case 56:return 231;case 57:return 235;case 58:return 278;case 59:return 195;case 60:return 330;case 61:return 331;case 62:return 224;case 63:return 333;case 64:return 271;case 65:return 219;case 66:return 226;case 67:return 227;case 68:return 250;case 69:return 254;case 70:return 295;case 71:return 334;case 72:return 335;case 73:return 336;case 74:return 337;case 75:return 338;case 76:return 258;case 77:return 339;case 78:return 273;case 79:return 281;case 80:return 282;case 81:return 275;case 82:return 276;case 83:return 277;case 84:return 340;case 85:return 341;case 86:return 279;case 87:return 343;case 88:return 342;case 89:return 344;case 90:return 284;case 91:return 285;case 92:return 288;case 93:return 290;case 94:return 294;case 95:return 298;case 96:return 301;case 97:return 13;case 98:return 16;case 99:return 312;case 100:return 245;case 101:return 34;case 102:return 297;case 103:return 87;case 104:return 299;case 105:return 300;case 106:return 306;case 107:return 307;case 108:return 308;case 109:return 309;case 110:return 310;case 111:return 311;case 112:return"EXPONENT";case 113:return 302;case 114:return 303;case 115:return 304;case 116:return 305;case 117:return 93;case 118:return 246;case 119:return 6;case 120:return"INVALID";case 121:console.log(Tt.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};return Gt}();Ti.lexer=xl;function Pt(){this.yy={}}return Pt.prototype=Ti,Ti.Parser=Pt,new Pt}(),SparqlParser_1=SparqlParser,XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",XSD_STRING="http://www.w3.org/2001/XMLSchema#string";function Generator$1(X){this._options=X=X||{};var Z=X.prefixes||{};this._prefixByIri={};var G=[];for(var W in Z){var F=Z[W];isString$1(F)&&(this._prefixByIri[F]=W,G.push(F))}var U=G.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+U+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=X.sparqlStar,this._indent=isString$1(X.indent)?X.indent:"  ",this._newline=isString$1(X.newline)?X.newline:`
`,this._explicitDatatype=!!X.explicitDatatype}Generator$1.prototype.toQuery=function(X){var Z="";return X.queryType&&(Z+=X.queryType.toUpperCase()+" "),X.reduced&&(Z+="REDUCED "),X.distinct&&(Z+="DISTINCT "),X.variables?Z+=mapJoin(X.variables,void 0,function(G){return isTerm$1(G)?this.toEntity(G):"("+this.toExpression(G.expression)+" AS "+variableToString(G.variable)+")"},this)+" ":X.template&&(Z+=this.group(X.template,!0)+this._newline),X.from&&(Z+=this.graphs("FROM ",X.from.default)+this.graphs("FROM NAMED ",X.from.named)),X.where&&(Z+="WHERE "+this.group(X.where,!0)+this._newline),X.updates&&(Z+=mapJoin(X.updates,";"+this._newline,this.toUpdate,this)),X.group&&(Z+="GROUP BY "+mapJoin(X.group,void 0,function(G){var W=isTerm$1(G.expression)?this.toEntity(G.expression):"("+this.toExpression(G.expression)+")";return G.variable?"("+W+" AS "+variableToString(G.variable)+")":W},this)+this._newline),X.having&&(Z+="HAVING ("+mapJoin(X.having,void 0,this.toExpression,this)+")"+this._newline),X.order&&(Z+="ORDER BY "+mapJoin(X.order,void 0,function(G){var W="("+this.toExpression(G.expression)+")";return G.descending?"DESC "+W:W},this)+this._newline),X.offset&&(Z+="OFFSET "+X.offset+this._newline),X.limit&&(Z+="LIMIT "+X.limit+this._newline),X.values&&(Z+=this.values(X)),Z=this.baseAndPrefixes(X)+Z,Z.trim()};Generator$1.prototype.baseAndPrefixes=function(X){var Z=X.base?"BASE <"+X.base+">"+this._newline:"",G="";for(var W in X.prefixes)(this._options.allPrefixes||this._usedPrefixes[W])&&(G+="PREFIX "+W+": <"+X.prefixes[W]+">"+this._newline);return Z+G};Generator$1.prototype.toPattern=function(X){var Z=X.type||X instanceof Array&&"array"||(X.subject&&X.predicate&&X.object?"triple":"");if(!(Z in this))throw new Error("Unknown entry type: "+Z);return this[Z](X)};Generator$1.prototype.triple=function(X){return this.toEntity(X.subject)+" "+this.toEntity(X.predicate)+" "+this.toEntity(X.object)+"."};Generator$1.prototype.array=function(X){return mapJoin(X,this._newline,this.toPattern,this)};Generator$1.prototype.bgp=function(X){return this.encodeTriples(X.triples)};Generator$1.prototype.encodeTriples=function(X){if(!X.length)return"";for(var Z=[],G=void 0,W=void 0,F=0;F<X.length;F++){var U=X[F];equalTerms(U.subject,G)?equalTerms(U.predicate,W)?Z.push(","):(W=U.predicate,Z.push(";"+this._newline,this._indent,this.toEntity(W))):(G&&Z.push("."+this._newline),G=U.subject,W=U.predicate,Z.push(this.toEntity(G)," ",this.toEntity(W))),Z.push(" ",this.toEntity(U.object))}return Z.push("."),Z.join("")};Generator$1.prototype.graph=function(X){return"GRAPH "+this.toEntity(X.name)+" "+this.group(X)};Generator$1.prototype.graphs=function(X,Z){return!Z||Z.length===0?"":mapJoin(Z,"",function(G){return X+this.toEntity(G)+this._newline},this)};Generator$1.prototype.group=function(X,Z){return X=Z!==!0?this.array(X.patterns||X.triples):this.toPattern(X.type!=="group"?X:X.patterns),X.indexOf(this._newline)===-1?"{ "+X+" }":"{"+this._newline+this.indent(X)+this._newline+"}"};Generator$1.prototype.query=function(X){return this.toQuery(X)};Generator$1.prototype.filter=function(X){return"FILTER("+this.toExpression(X.expression)+")"};Generator$1.prototype.bind=function(X){return"BIND("+this.toExpression(X.expression)+" AS "+variableToString(X.variable)+")"};Generator$1.prototype.optional=function(X){return"OPTIONAL "+this.group(X)};Generator$1.prototype.union=function(X){return mapJoin(X.patterns,this._newline+"UNION"+this._newline,function(Z){return this.group(Z,!0)},this)};Generator$1.prototype.minus=function(X){return"MINUS "+this.group(X)};Generator$1.prototype.values=function(X){var Z=Object.keys(X.values.reduce(function(F,U){for(var J in U)F[J]=!0;return F},{})),G,W;return Z.length===1?G=W="":(G="(",W=")"),"VALUES "+G+Z.join(" ")+W+" {"+this._newline+mapJoin(X.values,this._newline,function(F){return"  "+G+mapJoin(Z,void 0,function(U){return F[U]?this.toEntity(F[U]):"UNDEF"},this)+W},this)+this._newline+"}"};Generator$1.prototype.service=function(X){return"SERVICE "+(X.silent?"SILENT ":"")+this.toEntity(X.name)+" "+this.group(X)};Generator$1.prototype.toExpression=function(X){if(isTerm$1(X))return this.toEntity(X);switch(X.type.toLowerCase()){case"aggregate":return X.aggregation.toUpperCase()+"("+(X.distinct?"DISTINCT ":"")+this.toExpression(X.expression)+(typeof X.separator=="string"?'; SEPARATOR = "'+X.separator.replace(escape$1,escapeReplacer)+'"':"")+")";case"functioncall":return this.toEntity(X.function)+"("+mapJoin(X.args,", ",this.toExpression,this)+")";case"operation":var Z=X.operator.toUpperCase(),G=X.args||[];switch(X.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(isTerm$1(G[0])?this.toEntity(G[0]):"("+this.toExpression(G[0])+")")+" "+Z+" "+(isTerm$1(G[1])?this.toEntity(G[1]):"("+this.toExpression(G[1])+")");case"!":return"!("+this.toExpression(G[0])+")";case"uplus":return"+("+this.toExpression(G[0])+")";case"uminus":return"-("+this.toExpression(G[0])+")";case"notin":Z="NOT IN";case"in":return this.toExpression(G[0])+" "+Z+"("+(isString$1(G[1])?G[1]:mapJoin(G[1],", ",this.toExpression,this))+")";case"notexists":Z="NOT EXISTS";case"exists":return Z+" "+this.group(G[0],!0);default:return Z+"("+mapJoin(G,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+X.type)}};Generator$1.prototype.toEntity=function(X){if(isTerm$1(X))switch(X.termType){case"Wildcard":return"*";case"Variable":return variableToString(X);case"BlankNode":return"_:"+X.value;case"Literal":var Z=X.value||"",G=X.language||"",W=X.datatype;if(X='"'+Z.replace(escape$1,escapeReplacer)+'"',G)X+="@"+G;else if(W){if(!this._explicitDatatype)switch(W.value){case XSD_STRING:return X;case XSD_INTEGER:if(/^\d+$/.test(Z))return Z+" "}X+="^^"+this.encodeIRI(W.value)}return X;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return X.graph&&X.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(X.graph)+" { "+this.toEntity(X.subject)+" "+this.toEntity(X.predicate)+" "+this.toEntity(X.object)+" }  >>":"<< "+this.toEntity(X.subject)+" "+this.toEntity(X.predicate)+" "+this.toEntity(X.object)+" >>";default:return this.encodeIRI(X.value)}else{var F=X.items.map(this.toEntity,this),U=X.pathType;switch(U){case"^":case"!":return U+F[0];case"*":case"+":case"?":return"("+F[0]+U+")";default:return"("+F.join(U)+")"}}};var escape$1=/["\\\t\n\r\b\f]/g,escapeReplacer=function(X){return escapeReplacements$1[X]},escapeReplacements$1={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Generator$1.prototype.encodeIRI=function(X){var Z=this._prefixRegex.exec(X);if(Z){var G=this._prefixByIri[Z[1]];return this._usedPrefixes[G]=!0,G+":"+Z[2]}return"<"+X+">"};Generator$1.prototype.toUpdate=function(X){switch(X.type||X.updateType){case"load":return"LOAD"+(X.source?" "+this.toEntity(X.source):"")+(X.destination?" INTO GRAPH "+this.toEntity(X.destination):"");case"insert":return"INSERT DATA "+this.group(X.insert,!0);case"delete":return"DELETE DATA "+this.group(X.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(X.delete,!0);case"insertdelete":return(X.graph?"WITH "+this.toEntity(X.graph)+this._newline:"")+(X.delete.length?"DELETE "+this.group(X.delete,!0)+this._newline:"")+(X.insert.length?"INSERT "+this.group(X.insert,!0)+this._newline:"")+(X.using?this.graphs("USING ",X.using.default):"")+(X.using?this.graphs("USING NAMED ",X.using.named):"")+"WHERE "+this.group(X.where,!0);case"add":case"copy":case"move":return X.type.toUpperCase()+" "+(X.silent?"SILENT ":"")+(X.source.default?"DEFAULT":this.toEntity(X.source.name))+" TO "+this.toEntity(X.destination.name);case"create":case"clear":case"drop":return X.type.toUpperCase()+(X.silent?" SILENT ":" ")+(X.graph.default?"DEFAULT":X.graph.named?"NAMED":X.graph.all?"ALL":"GRAPH "+this.toEntity(X.graph.name));default:throw new Error("Unknown update query type: "+X.type)}};Generator$1.prototype.indent=function(X){return X.replace(/^/gm,this._indent)};function variableToString(X){return"?"+X.value}function isString$1(X){return typeof X=="string"}function isTerm$1(X){return typeof X.termType=="string"}function equalTerms(X,Z){if(!X||!isTerm$1(X)||!Z||!isTerm$1(Z)||X.termType!==Z.termType)return!1;switch(X.termType){case"Literal":return X.value===Z.value&&X.language===Z.language&&equalTerms(X.datatype,Z.datatype);case"Quad":return equalTerms(X.subject,Z.subject)&&equalTerms(X.predicate,Z.predicate)&&equalTerms(X.object,Z.object)&&equalTerms(X.graph,Z.graph);default:return X.value===Z.value}}function mapJoin(X,Z,G,W){return X.map(G,W).join(isString$1(Z)?Z:" ")}var SparqlGenerator=function(Z={}){return{stringify:function(G){var W=Object.create(Z);return W.prefixes=G.prefixes,new Generator$1(W).toQuery(G)},createGenerator:function(){return new Generator$1(Z)}}},Parser$1=SparqlParser_1.Parser,Generator=SparqlGenerator,Wildcard=Wildcard$2.Wildcard,{DataFactory}=rdfDataFactory,sparql$1={Parser:function({prefixes:X,baseIRI:Z,factory:G,sparqlStar:W,skipValidation:F,skipUngroupedVariableCheck:U,pathOnly:J}={}){var Y={};for(var D in X||{})Y[D]=X[D];var Q=new Parser$1;return Q.parse=function(){return Parser$1.base=Z||"",Parser$1.prefixes=Object.create(Y),Parser$1.factory=G||new DataFactory,Parser$1.sparqlStar=!!W,Parser$1.pathOnly=!!J,Parser$1.skipValidation=!!F||!!U,Parser$1.prototype.parse.apply(Q,arguments)},Q._resetBlanks=Parser$1._resetBlanks,Q},Generator,Wildcard};const __QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqljs__=_mergeNamespaces({__proto__:null,default:sparql$1},[sparql$1]);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(X,Z,G,W){W===void 0&&(W=G);var F=Object.getOwnPropertyDescriptor(Z,G);(!F||("get"in F?!Z.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return Z[G]}}),Object.defineProperty(X,W,F)}:function(X,Z,G,W){W===void 0&&(W=G),X[W]=Z[G]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var G in X)G!=="default"&&Object.prototype.hasOwnProperty.call(X,G)&&__createBinding$2(Z,X,G);return __setModuleDefault$2(Z,X),Z};Object.defineProperty(factory$2,"__esModule",{value:!0});const A$1=__importStar$2(algebra),rdf_data_factory_1$1=rdfDataFactory,rdf_string_1$4=rdfString,sparqljs_1$1=sparql$1;class Factory{constructor(Z){this.dataFactory=Z||new rdf_data_factory_1$1.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(Z,G=!0){return this.flattenMulti({type:A$1.types.ALT,input:Z},G)}createAsk(Z){return{type:A$1.types.ASK,input:Z}}createBoundAggregate(Z,G,W,F,U){const J=this.createAggregateExpression(G,W,F,U);return J.variable=Z,J}createBgp(Z){return{type:A$1.types.BGP,patterns:Z}}createConstruct(Z,G){return{type:A$1.types.CONSTRUCT,input:Z,template:G}}createDescribe(Z,G){return{type:A$1.types.DESCRIBE,input:Z,terms:G}}createDistinct(Z){return{type:A$1.types.DISTINCT,input:Z}}createExtend(Z,G,W){return{type:A$1.types.EXTEND,input:Z,variable:G,expression:W}}createFrom(Z,G,W){return{type:A$1.types.FROM,input:Z,default:G,named:W}}createFilter(Z,G){return{type:A$1.types.FILTER,input:Z,expression:G}}createGraph(Z,G){return{type:A$1.types.GRAPH,input:Z,name:G}}createGroup(Z,G,W){return{type:A$1.types.GROUP,input:Z,variables:G,aggregates:W}}createInv(Z){return{type:A$1.types.INV,path:Z}}createJoin(Z,G=!0){return this.flattenMulti({type:A$1.types.JOIN,input:Z},G)}createLeftJoin(Z,G,W){return W?{type:A$1.types.LEFT_JOIN,input:[Z,G],expression:W}:{type:A$1.types.LEFT_JOIN,input:[Z,G]}}createLink(Z){return{type:A$1.types.LINK,iri:Z}}createMinus(Z,G){return{type:A$1.types.MINUS,input:[Z,G]}}createNop(){return{type:A$1.types.NOP}}createNps(Z){return{type:A$1.types.NPS,iris:Z}}createOneOrMorePath(Z){return{type:A$1.types.ONE_OR_MORE_PATH,path:Z}}createOrderBy(Z,G){return{type:A$1.types.ORDER_BY,input:Z,expressions:G}}createPath(Z,G,W,F){return F?{type:A$1.types.PATH,subject:Z,predicate:G,object:W,graph:F}:{type:A$1.types.PATH,subject:Z,predicate:G,object:W,graph:this.dataFactory.defaultGraph()}}createPattern(Z,G,W,F){const U=this.dataFactory.quad(Z,G,W,F);return U.type=A$1.types.PATTERN,U}createProject(Z,G){return{type:A$1.types.PROJECT,input:Z,variables:G}}createReduced(Z){return{type:A$1.types.REDUCED,input:Z}}createSeq(Z,G=!0){return this.flattenMulti({type:A$1.types.SEQ,input:Z},G)}createService(Z,G,W){return{type:A$1.types.SERVICE,input:Z,name:G,silent:!!W}}createSlice(Z,G,W){return G=G||0,W!==void 0?{type:A$1.types.SLICE,input:Z,start:G,length:W}:{type:A$1.types.SLICE,input:Z,start:G}}createUnion(Z,G=!0){return this.flattenMulti({type:A$1.types.UNION,input:Z},G)}createValues(Z,G){return{type:A$1.types.VALUES,variables:Z,bindings:G}}createZeroOrMorePath(Z){return{type:A$1.types.ZERO_OR_MORE_PATH,path:Z}}createZeroOrOnePath(Z){return{type:A$1.types.ZERO_OR_ONE_PATH,path:Z}}createAggregateExpression(Z,G,W,F){return F?{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.AGGREGATE,aggregator:Z,expression:G,separator:F,distinct:W}:{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.AGGREGATE,aggregator:Z,expression:G,distinct:W}}createExistenceExpression(Z,G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.EXISTENCE,not:Z,input:G}}createNamedExpression(Z,G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.NAMED,name:Z,args:G}}createOperatorExpression(Z,G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.OPERATOR,operator:Z,args:G}}createTermExpression(Z){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.TERM,term:Z}}createWildcardExpression(){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.WILDCARD,wildcard:new sparqljs_1$1.Wildcard}}createTerm(Z){return(0,rdf_string_1$4.stringToTerm)(Z,this.dataFactory)}createCompositeUpdate(Z){return{type:A$1.types.COMPOSITE_UPDATE,updates:Z}}createDeleteInsert(Z,G,W){const F={type:A$1.types.DELETE_INSERT};return Z&&(F.delete=Z),G&&(F.insert=G),W&&(F.where=W),F}createLoad(Z,G,W){const F={type:A$1.types.LOAD,source:Z};return G&&(F.destination=G),this.addSilent(F,!!W)}createClear(Z,G){return this.addSilent({type:A$1.types.CLEAR,source:Z},!!G)}createCreate(Z,G){return this.addSilent({type:A$1.types.CREATE,source:Z},!!G)}createDrop(Z,G){return this.addSilent({type:A$1.types.DROP,source:Z},!!G)}createAdd(Z,G,W){return this.addSilent({type:A$1.types.ADD,source:Z,destination:G},!!W)}createMove(Z,G,W){return this.addSilent({type:A$1.types.MOVE,source:Z,destination:G},!!W)}createCopy(Z,G,W){return this.addSilent({type:A$1.types.COPY,source:Z,destination:G},!!W)}addSilent(Z,G){return G&&(Z.silent=G),Z}flattenMulti(Z,G){if(!G)return Z;const W=Z.type,F=Z.input;let U=[];for(const J of F)J.type===W?U.push(...J.input):U.push(J);return Z.input=U,Z}}factory$2.default=Factory;var util={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(util,"__esModule",{value:!0});const algebra_1=algebra,factory_1$2=__importDefault$2(factory$2);class Util{static flatten(Z){return Array.prototype.concat(...Z).filter(G=>G)}static objectify(Z){if(Z.termType){if(Z.termType==="Quad")return{type:"pattern",termType:"Quad",subject:Util.objectify(Z.subject),predicate:Util.objectify(Z.predicate),object:Util.objectify(Z.object),graph:Util.objectify(Z.graph)};{let G={termType:Z.termType,value:Z.value};return Z.language&&(G.language=Z.language),Z.datatype&&(G.datatype=Util.objectify(Z.datatype)),G}}if(Array.isArray(Z))return Z.map(G=>Util.objectify(G));if(Z===Object(Z)){let G={};for(let W of Object.keys(Z))G[W]=Util.objectify(Z[W]);return G}return Z}static inScopeVariables(Z){const G=[];function W(U){G.find(J=>U.value===J.value)||G.push(U)}function F(U){U.subject.termType==="Variable"&&W(U.subject),U.predicate.termType==="Variable"&&W(U.predicate),U.object.termType==="Variable"&&W(U.object),U.graph.termType==="Variable"&&W(U.graph),U.subject.termType==="Quad"&&F(U.subject),U.predicate.termType==="Quad"&&F(U.predicate),U.object.termType==="Quad"&&F(U.object),U.graph.termType==="Quad"&&F(U.graph)}return Util.recurseOperation(Z,{[algebra_1.types.EXPRESSION]:U=>(U.expressionType===algebra_1.expressionTypes.AGGREGATE&&U.variable&&W(U.variable),!0),[algebra_1.types.EXTEND]:U=>(W(U.variable),!0),[algebra_1.types.GRAPH]:U=>(U.name.termType==="Variable"&&W(U.name),!0),[algebra_1.types.GROUP]:U=>(U.variables.forEach(W),!0),[algebra_1.types.PATH]:U=>(U.subject.termType==="Variable"&&W(U.subject),U.object.termType==="Variable"&&W(U.object),U.graph.termType==="Variable"&&W(U.graph),U.subject.termType==="Quad"&&F(U.subject),U.object.termType==="Quad"&&F(U.object),U.graph.termType==="Quad"&&F(U.graph),!0),[algebra_1.types.PATTERN]:U=>(F(U),!0),[algebra_1.types.PROJECT]:U=>(U.variables.forEach(W),!1),[algebra_1.types.SERVICE]:U=>(U.name.termType==="Variable"&&W(U.name),!0),[algebra_1.types.VALUES]:U=>(U.variables.forEach(W),!0)}),G}static recurseOperation(Z,G){let W=Z,F=!0;const U=G[Z.type];if(U&&(F=U(Z)),!F)return;let J=Y=>Util.recurseOperation(Y,G);switch(W.type){case algebra_1.types.ALT:W.input.map(J);break;case algebra_1.types.ASK:J(W.input);break;case algebra_1.types.BGP:W.patterns.forEach(J);break;case algebra_1.types.CONSTRUCT:J(W.input),W.template.map(J);break;case algebra_1.types.DESCRIBE:J(W.input);break;case algebra_1.types.DISTINCT:J(W.input);break;case algebra_1.types.EXPRESSION:W.expressionType===algebra_1.expressionTypes.EXISTENCE&&J(W.input);break;case algebra_1.types.EXTEND:J(W.input),J(W.expression);break;case algebra_1.types.FILTER:J(W.input),J(W.expression);break;case algebra_1.types.FROM:J(W.input);break;case algebra_1.types.GRAPH:J(W.input);break;case algebra_1.types.GROUP:J(W.input),W.aggregates.forEach(J);break;case algebra_1.types.INV:J(W.path);break;case algebra_1.types.JOIN:W.input.map(J);break;case algebra_1.types.LEFT_JOIN:W.input.map(J),W.expression&&J(W.expression);break;case algebra_1.types.LINK:break;case algebra_1.types.MINUS:W.input.map(J);break;case algebra_1.types.NOP:break;case algebra_1.types.NPS:break;case algebra_1.types.ONE_OR_MORE_PATH:J(W.path);break;case algebra_1.types.ORDER_BY:J(W.input),W.expressions.forEach(J);break;case algebra_1.types.PATH:J(W.predicate);break;case algebra_1.types.PATTERN:break;case algebra_1.types.PROJECT:J(W.input);break;case algebra_1.types.REDUCED:J(W.input);break;case algebra_1.types.SEQ:W.input.map(J);break;case algebra_1.types.SERVICE:J(W.input);break;case algebra_1.types.SLICE:J(W.input);break;case algebra_1.types.UNION:W.input.map(J);break;case algebra_1.types.VALUES:break;case algebra_1.types.ZERO_OR_MORE_PATH:J(W.path);break;case algebra_1.types.ZERO_OR_ONE_PATH:J(W.path);break;case algebra_1.types.COMPOSITE_UPDATE:W.updates.forEach(Y=>J(Y));break;case algebra_1.types.DELETE_INSERT:W.delete&&W.delete.forEach(Y=>J(Y)),W.insert&&W.insert.forEach(Y=>J(Y)),W.where&&J(W.where);break;case algebra_1.types.LOAD:break;case algebra_1.types.CLEAR:break;case algebra_1.types.CREATE:break;case algebra_1.types.DROP:break;case algebra_1.types.ADD:break;case algebra_1.types.MOVE:break;case algebra_1.types.COPY:break;default:throw new Error(`Unknown Operation type ${W.type}`)}}static mapOperation(Z,G,W){let F=Z,U=!0;W=W||new factory_1$2.default;const J=G[Z.type];if(J&&({result:F,recurse:U}=J(Z,W)),!U)return F;let Y=D=>Util.mapOperation(D,G,W);switch(F.type){case algebra_1.types.ALT:return W.createAlt(F.input.map(Y));case algebra_1.types.ASK:return W.createAsk(Y(F.input));case algebra_1.types.BGP:return W.createBgp(F.patterns.map(Y));case algebra_1.types.CONSTRUCT:return W.createConstruct(Y(F.input),F.template.map(Y));case algebra_1.types.DESCRIBE:return W.createDescribe(Y(F.input),F.terms);case algebra_1.types.DISTINCT:return W.createDistinct(Y(F.input));case algebra_1.types.EXPRESSION:return Util.mapExpression(F,G,W);case algebra_1.types.EXTEND:return W.createExtend(Y(F.input),F.variable,Y(F.expression));case algebra_1.types.FILTER:return W.createFilter(Y(F.input),Y(F.expression));case algebra_1.types.FROM:return W.createFrom(Y(F.input),[...F.default],[...F.named]);case algebra_1.types.GRAPH:return W.createGraph(Y(F.input),F.name);case algebra_1.types.GROUP:return W.createGroup(Y(F.input),[].concat(F.variables),F.aggregates.map(Y));case algebra_1.types.INV:return W.createInv(Y(F.path));case algebra_1.types.JOIN:return W.createJoin(F.input.map(Y));case algebra_1.types.LEFT_JOIN:return W.createLeftJoin(Y(F.input[0]),Y(F.input[1]),F.expression?Y(F.expression):void 0);case algebra_1.types.LINK:return W.createLink(F.iri);case algebra_1.types.MINUS:return W.createMinus(Y(F.input[0]),Y(F.input[1]));case algebra_1.types.NOP:return W.createNop();case algebra_1.types.NPS:return W.createNps([].concat(F.iris));case algebra_1.types.ONE_OR_MORE_PATH:return W.createOneOrMorePath(Y(F.path));case algebra_1.types.ORDER_BY:return W.createOrderBy(Y(F.input),F.expressions.map(Y));case algebra_1.types.PATH:return W.createPath(F.subject,Y(F.predicate),F.object,F.graph);case algebra_1.types.PATTERN:return W.createPattern(F.subject,F.predicate,F.object,F.graph);case algebra_1.types.PROJECT:return W.createProject(Y(F.input),[...F.variables]);case algebra_1.types.REDUCED:return W.createReduced(Y(F.input));case algebra_1.types.SEQ:return W.createSeq(F.input.map(Y));case algebra_1.types.SERVICE:return W.createService(Y(F.input),F.name,F.silent);case algebra_1.types.SLICE:return W.createSlice(Y(F.input),F.start,F.length);case algebra_1.types.UNION:return W.createUnion(F.input.map(Y));case algebra_1.types.VALUES:return W.createValues([].concat(F.variables),F.bindings.map(D=>Object.assign({},D)));case algebra_1.types.ZERO_OR_MORE_PATH:return W.createZeroOrMorePath(Y(F.path));case algebra_1.types.ZERO_OR_ONE_PATH:return W.createZeroOrOnePath(Y(F.path));case algebra_1.types.COMPOSITE_UPDATE:return W.createCompositeUpdate(F.updates.map(Y));case algebra_1.types.DELETE_INSERT:return W.createDeleteInsert(F.delete?F.delete.map(Y):void 0,F.insert?F.insert.map(Y):void 0,F.where?Y(F.where):void 0);case algebra_1.types.LOAD:return W.createLoad(F.source,F.destination,F.silent);case algebra_1.types.CLEAR:return W.createClear(F.source,F.silent);case algebra_1.types.CREATE:return W.createCreate(F.source,F.silent);case algebra_1.types.DROP:return W.createDrop(F.source,F.silent);case algebra_1.types.ADD:return W.createAdd(F.source,F.destination);case algebra_1.types.MOVE:return W.createMove(F.source,F.destination);case algebra_1.types.COPY:return W.createCopy(F.source,F.destination);default:throw new Error(`Unknown Operation type ${F.type}`)}}static mapExpression(Z,G,W){let F=U=>Util.mapOperation(U,G,W);switch(Z.expressionType){case algebra_1.expressionTypes.AGGREGATE:return Z.variable?W.createBoundAggregate(Z.variable,Z.aggregator,F(Z.expression),Z.distinct,Z.separator):W.createAggregateExpression(Z.aggregator,F(Z.expression),Z.distinct,Z.separator);case algebra_1.expressionTypes.EXISTENCE:return W.createExistenceExpression(Z.not,F(Z.input));case algebra_1.expressionTypes.NAMED:return W.createNamedExpression(Z.name,Z.args.map(F));case algebra_1.expressionTypes.OPERATOR:return W.createOperatorExpression(Z.operator,Z.args.map(F));case algebra_1.expressionTypes.TERM:return W.createTermExpression(Z.term);case algebra_1.expressionTypes.WILDCARD:return W.createWildcardExpression();default:throw new Error(`Unknown Expression type ${Z.expressionType}`)}}static createUniqueVariable(Z,G,W){let F=0,U=Z;for(;G[U];)U=`${Z}${F++}`;return W.variable(U)}static isSimpleTerm(Z){return Z.termType!==void 0&&Z.termType!=="Quad"&&Z.termType!=="Wildcard"}static isQuad(Z){return Z.termType==="Quad"}static isWildcard(Z){return Z.termType==="Wildcard"}}util.default=Util;var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(X,Z,G,W){W===void 0&&(W=G);var F=Object.getOwnPropertyDescriptor(Z,G);(!F||("get"in F?!Z.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return Z[G]}}),Object.defineProperty(X,W,F)}:function(X,Z,G,W){W===void 0&&(W=G),X[W]=Z[G]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var G in X)G!=="default"&&Object.prototype.hasOwnProperty.call(X,G)&&__createBinding$1(Z,X,G);return __setModuleDefault$1(Z,X),Z},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(sparqlAlgebra,"__esModule",{value:!0});const equal=es6,rdf_string_1$3=rdfString,Algebra$1=__importStar$1(algebra),factory_1$1=__importDefault$1(factory$2),util_1$1=__importDefault$1(util),Parser=sparql$1.Parser,types$1=Algebra$1.types;let variables=new Set,varCount=0,useQuads=!1,factory$1;function translate$1(X,Z){Z=Z||{},factory$1=new factory_1$1.default(Z.dataFactory);let G;if(isString(X)){let W=new Parser(Z);W._resetBlanks(),G=W.parse(X)}else G=X;return translateQuery(G,Z.quads,Z.blankToVariable)}sparqlAlgebra.default=translate$1;function translateQuery(X,Z,G){if(variables=new Set,varCount=0,useQuads=!!Z,!X.type)return factory$1.createNop();if(X.type!=="query"&&X.type!=="update")throw new Error("Translate only works on complete query or update objects.");let W;if(findAllVariables(X),X.type==="query"){const F={type:"group",patterns:X.where||[]};W=translateGroupGraphPattern(F),W=translateAggregates(X,W)}else X.type==="update"&&(W=translateUpdate(X));return G&&(W=translateBlankNodesToVariables(W)),W}function isString(X){return typeof X=="string"}function isTerm(X){return!!X?.termType}function isTriple(X){return X.subject&&X.predicate&&X.object}function isVariable(X){return X?.termType==="Variable"}function findAllVariables(X){if(isTerm(X))isVariable(X)&&variables.add(`?${X.value}`);else if(Array.isArray(X))for(const Z of X)findAllVariables(Z);else if(X&&typeof X=="object")for(let Z of Object.keys(X))Z.startsWith("?")&&variables.add(Z),findAllVariables(X[Z])}function inScopeVariables(X){let Z={};if(isTriple(X)){const G=[inScopeVariables(X.subject),inScopeVariables(X.predicate),inScopeVariables(X.object),X.graph?inScopeVariables(X.graph):{}];Object.assign(Z,...G)}else if(isTerm(X))isVariable(X)&&(Z[X.value]=X);else if(X.type==="bgp"){const G=X.triples;Object.assign(Z,...G.map(inScopeVariables))}else if(X.type==="path")Object.assign(Z,...X.items.map(inScopeVariables));else if(X.type==="group"||X.type==="union"||X.type==="optional")Object.assign(Z,...X.patterns.map(inScopeVariables));else if(X.type==="service"||X.type==="graph")Object.assign(Z,inScopeVariables(X.name)),Object.assign(Z,...X.patterns.map(inScopeVariables));else if(X.type==="bind")Object.assign(Z,inScopeVariables(X.variable));else if(X.type==="values"){if(X.values.length>0){const G=Object.keys(X.values[0]).map(W=>factory$1.createTerm(W));Object.assign(Z,...G.map(inScopeVariables))}}else if(X.type==="query"&&(X.queryType==="SELECT"||X.queryType==="DESCRIBE")){X.where&&X.variables.some(util_1$1.default.isWildcard)&&Object.assign(Z,...X.where.map(inScopeVariables));for(const G of X.variables)isVariable(G)?Object.assign(Z,inScopeVariables(G)):G.variable&&Object.assign(Z,inScopeVariables(G.variable));if(X.queryType==="SELECT"){if(X.group)for(const G of X.group)G.variable&&Object.assign(Z,inScopeVariables(G.variable));if(X.values){const G={type:"values",values:X.values};Object.assign(Z,inScopeVariables(G))}}}return Z}function translateGroupGraphPattern(X){let Z=[],G=[];if("patterns"in X)for(let F of X.patterns)(F.type==="filter"?Z:G).push(F);if(X.type==="bgp")return translateBgp$1(X);let W;if(X.type==="union")W=factory$1.createUnion(G.map(F=>(F.type!=="group"&&(F={type:"group",patterns:[F]}),translateGroupGraphPattern(F))));else{if(X.type==="graph")return translateGraph$1(X);if(X.type==="group")W=G.reduce(accumulateGroupGraphPattern,factory$1.createBgp([]));else if(X.type==="values")W=translateInlineData(X);else if(X.type==="query")W=translateQuery(X,useQuads,!1);else throw new Error(`Unexpected type: ${X.type}`)}if(Z.length>0){let F=Z.map(U=>translateExpression$1(U.expression));F.length>0&&(W=factory$1.createFilter(W,F.reduce((U,J)=>factory$1.createOperatorExpression("&&",[U,J]))))}return W}function translateExpression$1(X){if(util_1$1.default.isSimpleTerm(X)||util_1$1.default.isQuad(X))return factory$1.createTermExpression(X);if(util_1$1.default.isWildcard(X))return factory$1.createWildcardExpression();if("aggregation"in X)return factory$1.createAggregateExpression(X.aggregation,translateExpression$1(X.expression),!!X.distinct,X.separator);if("function"in X)return factory$1.createNamedExpression(X.function,X.args.map(translateExpression$1));if("operator"in X)return X.operator==="exists"||X.operator==="notexists"?factory$1.createExistenceExpression(X.operator==="notexists",translateGroupGraphPattern(X.args[0])):((X.operator==="in"||X.operator==="notin")&&(X.args=[X.args[0]].concat(X.args[1])),factory$1.createOperatorExpression(X.operator,X.args.map(translateExpression$1)));throw new Error(`Unknown expression: ${JSON.stringify(X)}`)}function translateBgp$1(X){let Z=[],G=[];for(let W of X.triples)if("pathType"in W.predicate){let F=translatePath$1(W);for(let U of F)U.type===types$1.PATH?(Z.length>0&&G.push(factory$1.createBgp(Z)),Z=[],G.push(U)):Z.push(U)}else Z.push(translateQuad(W));return Z.length>0&&G.push(factory$1.createBgp(Z)),G.length===1?G[0]:factory$1.createJoin(G)}function translatePath$1(X){let Z=X.subject,G=translatePathPredicate(X.predicate),W=X.object;return simplifyPath(Z,G,W)}function translatePathPredicate(X){if(util_1$1.default.isSimpleTerm(X)){if(X.termType==="NamedNode")return factory$1.createLink(X);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(X)}`)}if(X.pathType==="^")return factory$1.createInv(translatePathPredicate(X.items[0]));if(X.pathType==="!"){let Z=[],G=[],W;"pathType"in X.items[0]&&X.items[0].pathType==="|"?W=X.items[0].items:W=X.items;for(let J of W)if(util_1$1.default.isSimpleTerm(J))Z.push(J);else if(J.pathType==="^")G.push(J.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(J)}`);let F=factory$1.createNps(Z),U=factory$1.createInv(factory$1.createNps(G));return G.length===0?F:Z.length===0?U:factory$1.createAlt([F,U])}if(X.pathType==="/")return factory$1.createSeq(X.items.map(translatePathPredicate));if(X.pathType==="|")return factory$1.createAlt(X.items.map(translatePathPredicate));if(X.pathType==="*")return factory$1.createZeroOrMorePath(translatePathPredicate(X.items[0]));if(X.pathType==="+")return factory$1.createOneOrMorePath(translatePathPredicate(X.items[0]));if(X.pathType==="?")return factory$1.createZeroOrOnePath(translatePathPredicate(X.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(X)}`)}function simplifyPath(X,Z,G){if(Z.type===types$1.LINK)return[factory$1.createPattern(X,Z.iri,G)];if(Z.type===types$1.INV)return simplifyPath(G,Z.path,X);if(Z.type===types$1.SEQ){let W=X;return util_1$1.default.flatten(Z.input.map((F,U)=>{const J=U===Z.input.length-1?G:generateFreshVar(),Y=simplifyPath(W,F,J);return J.termType==="Variable"&&(W=J),Y}))}return[factory$1.createPath(X,Z,G)]}function generateFreshVar(){let X=`?var${varCount++}`;return variables.has(X)?generateFreshVar():(variables.add(X),factory$1.createTerm(X))}function translateQuad(X){if("pathType"in X.predicate)throw new Error("Trying to translate property path to quad.");return factory$1.createPattern(X.subject,X.predicate,X.object,X.graph)}function translateGraph$1(X){const Z={type:"group",patterns:X.patterns};let G=translateGroupGraphPattern(Z);return useQuads?G=recurseGraph(G,X.name):G=factory$1.createGraph(G,X.name),G}let typeVals=Object.values(types$1);function recurseGraph(X,Z,G){if(X.type===types$1.GRAPH){if(G)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");X=recurseGraph(X.input,X.name)}else if(X.type===types$1.BGP)X.patterns=X.patterns.map(W=>(G&&(W.subject.equals(Z)&&(W.subject=G),W.predicate.equals(Z)&&(W.predicate=G),W.object.equals(Z)&&(W.object=G)),W.graph.termType==="DefaultGraph"&&(W.graph=Z),W));else if(X.type===types$1.PATH)G&&(X.subject.equals(Z)&&(X.subject=G),X.object.equals(Z)&&(X.object=G)),X.graph.termType==="DefaultGraph"&&(X.graph=Z);else if(X.type===types$1.PROJECT&&!G)X.variables.some(W=>W.equals(Z))||(G=generateFreshVar()),X.input=recurseGraph(X.input,Z,G);else if(X.type===types$1.EXTEND&&!G)X.variable.equals(Z)&&(G=generateFreshVar()),X.input=recurseGraph(X.input,Z,G);else for(let W of Object.keys(X))Array.isArray(X[W])?X[W]=X[W].map(F=>recurseGraph(F,Z,G)):typeVals.indexOf(X[W].type)>=0?X[W]=recurseGraph(X[W],Z,G):G&&isVariable(X[W])&&X[W].equals(Z)&&(X[W]=G);return X}function accumulateGroupGraphPattern(X,Z){if(Z.type==="optional"){const G=translateGroupGraphPattern({type:"group",patterns:Z.patterns});G.type===types$1.FILTER?X=factory$1.createLeftJoin(X,G.input,G.expression):X=factory$1.createLeftJoin(X,G)}else if(Z.type==="minus"){const G=translateGroupGraphPattern({type:"group",patterns:Z.patterns});X=factory$1.createMinus(X,G)}else if(Z.type==="bind")X=factory$1.createExtend(X,Z.variable,translateExpression$1(Z.expression));else if(Z.type==="service"){const G={type:"group",patterns:Z.patterns},W=factory$1.createService(translateGroupGraphPattern(G),Z.name,Z.silent);X=simplifiedJoin(X,W)}else{const G=translateGroupGraphPattern(Z);X=simplifiedJoin(X,G)}return X}function simplifiedJoin(X,Z){return X.type===types$1.BGP&&Z.type===types$1.BGP?X=factory$1.createBgp([...X.patterns,...Z.patterns]):X.type===types$1.BGP&&X.patterns.length===0?X=Z:Z.type===types$1.BGP&&Z.patterns.length===0||(X=factory$1.createJoin([X,Z])),X}function translateInlineData(X){let Z=(X.values.length===0?[]:Object.keys(X.values[0])).map(factory$1.createTerm.bind(factory$1)),G=X.values.map(W=>{let F=Object.keys(W);F=F.filter(J=>W[J]!==void 0);let U={};for(let J of F)U[J]=W[J];return U});return factory$1.createValues(Z,G)}function translateAggregates(X,Z){const G=X,W=[],F={};if(G.variables=G.variables&&G.variables.map(J=>mapAggregate(J,F)),G.having=G.having&&G.having.map(J=>mapAggregate(J,F)),G.order=G.order&&G.order.map(J=>mapAggregate(J,F)),G.group||Object.keys(F).length>0){const J=Object.keys(F).map(D=>translateBoundAggregate$1(F[D],factory$1.createTerm(D))),Y=[];if(G.group)for(const D of G.group)if(util_1$1.default.isSimpleTerm(D.expression))Y.push(D.expression);else{const Q="variable"in D?D.variable:generateFreshVar();Z=factory$1.createExtend(Z,Q,translateExpression$1(D.expression)),Y.push(Q)}Z=factory$1.createGroup(Z,Y,J)}if(G.having)for(let J of G.having)Z=factory$1.createFilter(Z,translateExpression$1(J));X.values&&(Z=factory$1.createJoin([Z,translateInlineData(X)]));let U=[];if(X.queryType==="SELECT"||X.queryType==="DESCRIBE")if(X.variables.some(J=>J&&util_1$1.default.isWildcard(J)))U=Object.values(inScopeVariables(X)).sort((J,Y)=>J.value.localeCompare(Y.value));else for(let J of X.variables)isVariable(J)||!("variable"in J)?U.push(J):J.variable&&(U.push(J.variable),W.push(J));for(let J of W)Z=factory$1.createExtend(Z,J.variable,translateExpression$1(J.expression));return G.order&&(Z=factory$1.createOrderBy(Z,G.order.map(J=>{let Y=translateExpression$1(J.expression);return J.descending&&(Y=factory$1.createOperatorExpression("desc",[Y])),Y}))),X.queryType==="SELECT"&&(Z=factory$1.createProject(Z,U)),G.distinct&&(Z=factory$1.createDistinct(Z)),G.reduced&&(Z=factory$1.createReduced(Z)),X.queryType==="CONSTRUCT"?Z=factory$1.createConstruct(Z,(X.template||[]).map(translateQuad)):X.queryType==="ASK"?Z=factory$1.createAsk(Z):X.queryType==="DESCRIBE"&&(Z=factory$1.createDescribe(Z,U)),(G.offset||G.limit)&&(Z=factory$1.createSlice(Z,G.offset||0,G.limit)),G.from&&(Z=factory$1.createFrom(Z,G.from.default,G.from.named)),Z}function mapAggregate(X,Z){if("type"in X&&X.type==="aggregate"){let G=!1,W;for(let F of Object.keys(Z))if(equal(Z[F],X)){W=factory$1.createTerm(F),G=!0;break}return G||(W=generateFreshVar(),Z[(0,rdf_string_1$3.termToString)(W)]=X),W}return"expression"in X&&X.expression?{...X,expression:mapAggregate(X.expression,Z)}:"args"in X&&X.args?{...X,args:X.args.map(G=>mapAggregate(G,Z))}:X}function translateBoundAggregate$1(X,Z){if(X.type!=="aggregate"||!X.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(X)}`);const G=translateExpression$1(X);return G.variable=Z,G}function translateUpdate(X){return X.updates.length===1?translateSingleUpdate(X.updates[0]):factory$1.createCompositeUpdate(X.updates.map(translateSingleUpdate))}function translateSingleUpdate(X){if("type"in X){if(X.type==="load")return translateUpdateGraphLoad(X);if(X.type==="clear"||X.type==="create"||X.type==="drop")return translateUpdateGraph(X);if(X.type==="add"||X.type==="copy"||X.type==="move")return translateUpdateGraphShortcut$1(X)}else if(X.updateType==="insertdelete"||X.updateType==="deletewhere"||X.updateType==="delete"||X.updateType==="insert")return translateInsertDelete(X);throw new Error(`Unknown update type ${JSON.stringify(X)}`)}function translateInsertDelete(X){if(!useQuads)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let Z=[],G=[],W;if(X.delete&&(Z=util_1$1.default.flatten(X.delete.map(F=>translateUpdateTriplesBlock(F,X.graph)))),X.insert&&(G=util_1$1.default.flatten(X.insert.map(F=>translateUpdateTriplesBlock(F,X.graph)))),X.where&&X.where.length>0){W=translateGroupGraphPattern({type:"group",patterns:X.where});const F=X.using;F?W=factory$1.createFrom(W,F.default,F.named):X.graph&&(W=recurseGraph(W,X.graph))}else X.updateType==="deletewhere"&&Z.length>0&&(W=factory$1.createBgp(Z));return factory$1.createDeleteInsert(Z.length>0?Z:void 0,G.length>0?G:void 0,W)}function translateUpdateTriplesBlock(X,Z){let G=Z;X.type==="graph"&&(G=X.name);let W=X.triples;return G&&(W=W.map(F=>Object.assign(F,{graph:G}))),W.map(translateQuad)}function translateUpdateGraph(X){let Z;switch(util_1$1.default.isSimpleTerm(X.graph)?Z=X.graph:X.graph.all?Z="ALL":X.graph.default?Z="DEFAULT":X.graph.named?Z="NAMED":Z=X.graph.name,X.type){case"clear":return factory$1.createClear(Z,X.silent);case"create":return factory$1.createCreate(Z,X.silent);case"drop":return factory$1.createDrop(Z,X.silent)}}function translateUpdateGraphLoad(X){return factory$1.createLoad(X.source,X.destination,X.silent)}function translateUpdateGraphShortcut$1(X){const Z=X.source.default?"DEFAULT":X.source.name,G=X.destination.default?"DEFAULT":X.destination.name;switch(X.type){case"copy":return factory$1.createCopy(Z,G,X.silent);case"move":return factory$1.createMove(Z,G,X.silent);case"add":return factory$1.createAdd(Z,G,X.silent)}}function translateBlankNodesToVariables(X){const Z={},G=Array.from(variables).reduce((F,U)=>(F[U]=!0,F),{});return util_1$1.default.mapOperation(X,{[Algebra$1.types.DELETE_INSERT]:F=>({result:F,recurse:!1}),[Algebra$1.types.PATH]:(F,U)=>({result:U.createPath(W(F.subject),F.predicate,W(F.object),W(F.graph)),recurse:!1}),[Algebra$1.types.PATTERN]:(F,U)=>({result:U.createPattern(W(F.subject),W(F.predicate),W(F.object),W(F.graph)),recurse:!1}),[Algebra$1.types.CONSTRUCT]:F=>({result:factory$1.createConstruct(translateBlankNodesToVariables(F.input),F.template),recurse:!1})});function W(F){if(F.termType==="BlankNode"){let U=Z[F.value];return U||(U=util_1$1.default.createUniqueVariable(F.value,G,factory$1.dataFactory),G[U.value]=!0,Z[F.value]=U),U}return F}}var sparql={},rdfIsomorphic={},RdfIsomorphic={},hash={},utils$9={},minimalisticAssert=assert$5;function assert$5(X,Z){if(!X)throw new Error(Z||"Assertion failed")}assert$5.equal=function(Z,G,W){if(Z!=G)throw new Error(W||"Assertion failed: "+Z+" != "+G)};var inherits_browserExports={},inherits_browser={get exports(){return inherits_browserExports},set exports(X){inherits_browserExports=X}};typeof Object.create=="function"?inherits_browser.exports=function(Z,G){G&&(Z.super_=G,Z.prototype=Object.create(G.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(Z,G){if(G){Z.super_=G;var W=function(){};W.prototype=G.prototype,Z.prototype=new W,Z.prototype.constructor=Z}};var assert$4=minimalisticAssert,inherits=inherits_browserExports;utils$9.inherits=inherits;function isSurrogatePair(X,Z){return(X.charCodeAt(Z)&64512)!==55296||Z<0||Z+1>=X.length?!1:(X.charCodeAt(Z+1)&64512)===56320}function toArray(X,Z){if(Array.isArray(X))return X.slice();if(!X)return[];var G=[];if(typeof X=="string")if(Z){if(Z==="hex")for(X=X.replace(/[^a-z0-9]+/ig,""),X.length%2!==0&&(X="0"+X),F=0;F<X.length;F+=2)G.push(parseInt(X[F]+X[F+1],16))}else for(var W=0,F=0;F<X.length;F++){var U=X.charCodeAt(F);U<128?G[W++]=U:U<2048?(G[W++]=U>>6|192,G[W++]=U&63|128):isSurrogatePair(X,F)?(U=65536+((U&1023)<<10)+(X.charCodeAt(++F)&1023),G[W++]=U>>18|240,G[W++]=U>>12&63|128,G[W++]=U>>6&63|128,G[W++]=U&63|128):(G[W++]=U>>12|224,G[W++]=U>>6&63|128,G[W++]=U&63|128)}else for(F=0;F<X.length;F++)G[F]=X[F]|0;return G}utils$9.toArray=toArray;function toHex(X){for(var Z="",G=0;G<X.length;G++)Z+=zero2(X[G].toString(16));return Z}utils$9.toHex=toHex;function htonl(X){var Z=X>>>24|X>>>8&65280|X<<8&16711680|(X&255)<<24;return Z>>>0}utils$9.htonl=htonl;function toHex32(X,Z){for(var G="",W=0;W<X.length;W++){var F=X[W];Z==="little"&&(F=htonl(F)),G+=zero8(F.toString(16))}return G}utils$9.toHex32=toHex32;function zero2(X){return X.length===1?"0"+X:X}utils$9.zero2=zero2;function zero8(X){return X.length===7?"0"+X:X.length===6?"00"+X:X.length===5?"000"+X:X.length===4?"0000"+X:X.length===3?"00000"+X:X.length===2?"000000"+X:X.length===1?"0000000"+X:X}utils$9.zero8=zero8;function join32(X,Z,G,W){var F=G-Z;assert$4(F%4===0);for(var U=new Array(F/4),J=0,Y=Z;J<U.length;J++,Y+=4){var D;W==="big"?D=X[Y]<<24|X[Y+1]<<16|X[Y+2]<<8|X[Y+3]:D=X[Y+3]<<24|X[Y+2]<<16|X[Y+1]<<8|X[Y],U[J]=D>>>0}return U}utils$9.join32=join32;function split32(X,Z){for(var G=new Array(X.length*4),W=0,F=0;W<X.length;W++,F+=4){var U=X[W];Z==="big"?(G[F]=U>>>24,G[F+1]=U>>>16&255,G[F+2]=U>>>8&255,G[F+3]=U&255):(G[F+3]=U>>>24,G[F+2]=U>>>16&255,G[F+1]=U>>>8&255,G[F]=U&255)}return G}utils$9.split32=split32;function rotr32$1(X,Z){return X>>>Z|X<<32-Z}utils$9.rotr32=rotr32$1;function rotl32$2(X,Z){return X<<Z|X>>>32-Z}utils$9.rotl32=rotl32$2;function sum32$3(X,Z){return X+Z>>>0}utils$9.sum32=sum32$3;function sum32_3$1(X,Z,G){return X+Z+G>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2(X,Z,G,W){return X+Z+G+W>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2(X,Z,G,W,F){return X+Z+G+W+F>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1(X,Z,G,W){var F=X[Z],U=X[Z+1],J=W+U>>>0,Y=(J<W?1:0)+G+F;X[Z]=Y>>>0,X[Z+1]=J}utils$9.sum64=sum64$1;function sum64_hi$1(X,Z,G,W){var F=Z+W>>>0,U=(F<Z?1:0)+X+G;return U>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1(X,Z,G,W){var F=Z+W;return F>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1(X,Z,G,W,F,U,J,Y){var D=0,Q=Z;Q=Q+W>>>0,D+=Q<Z?1:0,Q=Q+U>>>0,D+=Q<U?1:0,Q=Q+Y>>>0,D+=Q<Y?1:0;var ee=X+G+F+J+D;return ee>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(X,Z,G,W,F,U,J,Y){var D=Z+W+U+Y;return D>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(X,Z,G,W,F,U,J,Y,D,Q){var ee=0,q=Z;q=q+W>>>0,ee+=q<Z?1:0,q=q+U>>>0,ee+=q<U?1:0,q=q+Y>>>0,ee+=q<Y?1:0,q=q+Q>>>0,ee+=q<Q?1:0;var te=X+G+F+J+D+ee;return te>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(X,Z,G,W,F,U,J,Y,D,Q){var ee=Z+W+U+Y+Q;return ee>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(X,Z,G){var W=Z<<32-G|X>>>G;return W>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(X,Z,G){var W=X<<32-G|Z>>>G;return W>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1(X,Z,G){return X>>>G}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1(X,Z,G){var W=X<<32-G|Z>>>G;return W>>>0}utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$3=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(Z,G){if(Z=utils$8.toArray(Z,G),this.pending?this.pending=this.pending.concat(Z):this.pending=Z,this.pendingTotal+=Z.length,this.pending.length>=this._delta8){Z=this.pending;var W=Z.length%this._delta8;this.pending=Z.slice(Z.length-W,Z.length),this.pending.length===0&&(this.pending=null),Z=utils$8.join32(Z,0,Z.length-W,this.endian);for(var F=0;F<Z.length;F+=this._delta32)this._update(Z,F,F+this._delta32)}return this};BlockHash$4.prototype.digest=function(Z){return this.update(this._pad()),assert$3(this.pending===null),this._digest(Z)};BlockHash$4.prototype._pad=function(){var Z=this.pendingTotal,G=this._delta8,W=G-(Z+this.padLength)%G,F=new Array(W+this.padLength);F[0]=128;for(var U=1;U<W;U++)F[U]=0;if(Z<<=3,this.endian==="big"){for(var J=8;J<this.padLength;J++)F[U++]=0;F[U++]=0,F[U++]=0,F[U++]=0,F[U++]=0,F[U++]=Z>>>24&255,F[U++]=Z>>>16&255,F[U++]=Z>>>8&255,F[U++]=Z&255}else for(F[U++]=Z&255,F[U++]=Z>>>8&255,F[U++]=Z>>>16&255,F[U++]=Z>>>24&255,F[U++]=0,F[U++]=0,F[U++]=0,F[U++]=0,J=8;J<this.padLength;J++)F[U++]=0;return F};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(X,Z,G,W){if(X===0)return ch32$1(Z,G,W);if(X===1||X===3)return p32(Z,G,W);if(X===2)return maj32$1(Z,G,W)}common$4.ft_1=ft_1$1;function ch32$1(X,Z,G){return X&Z^~X&G}common$4.ch32=ch32$1;function maj32$1(X,Z,G){return X&Z^X&G^Z&G}common$4.maj32=maj32$1;function p32(X,Z,G){return X^Z^G}common$4.p32=p32;function s0_256$1(X){return rotr32(X,2)^rotr32(X,13)^rotr32(X,22)}common$4.s0_256=s0_256$1;function s1_256$1(X){return rotr32(X,6)^rotr32(X,11)^rotr32(X,25)}common$4.s1_256=s1_256$1;function g0_256$1(X){return rotr32(X,7)^rotr32(X,18)^X>>>3}common$4.g0_256=g0_256$1;function g1_256$1(X){return rotr32(X,17)^rotr32(X,19)^X>>>10}common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(Z,G){for(var W=this.W,F=0;F<16;F++)W[F]=Z[G+F];for(;F<W.length;F++)W[F]=rotl32$1(W[F-3]^W[F-8]^W[F-14]^W[F-16],1);var U=this.h[0],J=this.h[1],Y=this.h[2],D=this.h[3],Q=this.h[4];for(F=0;F<W.length;F++){var ee=~~(F/20),q=sum32_5$1(rotl32$1(U,5),ft_1(ee,J,Y,D),Q,W[F],sha1_K[ee]);Q=D,D=Y,Y=rotl32$1(J,30),J=U,U=q}this.h[0]=sum32$2(this.h[0],U),this.h[1]=sum32$2(this.h[1],J),this.h[2]=sum32$2(this.h[2],Y),this.h[3]=sum32$2(this.h[3],D),this.h[4]=sum32$2(this.h[4],Q)};SHA1.prototype._digest=function(Z){return Z==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$2=minimalisticAssert,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(Z,G){for(var W=this.W,F=0;F<16;F++)W[F]=Z[G+F];for(;F<W.length;F++)W[F]=sum32_4$1(g1_256(W[F-2]),W[F-7],g0_256(W[F-15]),W[F-16]);var U=this.h[0],J=this.h[1],Y=this.h[2],D=this.h[3],Q=this.h[4],ee=this.h[5],q=this.h[6],te=this.h[7];for(assert$2(this.k.length===W.length),F=0;F<W.length;F++){var ie=sum32_5(te,s1_256(Q),ch32(Q,ee,q),this.k[F],W[F]),ne=sum32$1(s0_256(U),maj32(U,J,Y));te=q,q=ee,ee=Q,Q=sum32$1(D,ie),D=Y,Y=J,J=U,U=sum32$1(ie,ne)}this.h[0]=sum32$1(this.h[0],U),this.h[1]=sum32$1(this.h[1],J),this.h[2]=sum32$1(this.h[2],Y),this.h[3]=sum32$1(this.h[3],D),this.h[4]=sum32$1(this.h[4],Q),this.h[5]=sum32$1(this.h[5],ee),this.h[6]=sum32$1(this.h[6],q),this.h[7]=sum32$1(this.h[7],te)};SHA256$1.prototype._digest=function(Z){return Z==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(Z){return Z==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$1=minimalisticAssert,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(Z,G){for(var W=this.W,F=0;F<32;F++)W[F]=Z[G+F];for(;F<W.length;F+=2){var U=g1_512_hi(W[F-4],W[F-3]),J=g1_512_lo(W[F-4],W[F-3]),Y=W[F-14],D=W[F-13],Q=g0_512_hi(W[F-30],W[F-29]),ee=g0_512_lo(W[F-30],W[F-29]),q=W[F-32],te=W[F-31];W[F]=sum64_4_hi(U,J,Y,D,Q,ee,q,te),W[F+1]=sum64_4_lo(U,J,Y,D,Q,ee,q,te)}};SHA512$1.prototype._update=function(Z,G){this._prepareBlock(Z,G);var W=this.W,F=this.h[0],U=this.h[1],J=this.h[2],Y=this.h[3],D=this.h[4],Q=this.h[5],ee=this.h[6],q=this.h[7],te=this.h[8],ie=this.h[9],ne=this.h[10],ce=this.h[11],le=this.h[12],se=this.h[13],pe=this.h[14],ue=this.h[15];assert$1(this.k.length===W.length);for(var ae=0;ae<W.length;ae+=2){var de=pe,be=ue,he=s1_512_hi(te,ie),Le=s1_512_lo(te,ie),Xe=ch64_hi(te,ie,ne,ce,le),We=ch64_lo(te,ie,ne,ce,le,se),fe=this.k[ae],Re=this.k[ae+1],ye=W[ae],re=W[ae+1],Ze=sum64_5_hi(de,be,he,Le,Xe,We,fe,Re,ye,re),Ge=sum64_5_lo(de,be,he,Le,Xe,We,fe,Re,ye,re);de=s0_512_hi(F,U),be=s0_512_lo(F,U),he=maj64_hi(F,U,J,Y,D),Le=maj64_lo(F,U,J,Y,D,Q);var ve=sum64_hi(de,be,he,Le),Te=sum64_lo(de,be,he,Le);pe=le,ue=se,le=ne,se=ce,ne=te,ce=ie,te=sum64_hi(ee,q,Ze,Ge),ie=sum64_lo(q,q,Ze,Ge),ee=D,q=Q,D=J,Q=Y,J=F,Y=U,F=sum64_hi(Ze,Ge,ve,Te),U=sum64_lo(Ze,Ge,ve,Te)}sum64(this.h,0,F,U),sum64(this.h,2,J,Y),sum64(this.h,4,D,Q),sum64(this.h,6,ee,q),sum64(this.h,8,te,ie),sum64(this.h,10,ne,ce),sum64(this.h,12,le,se),sum64(this.h,14,pe,ue)};SHA512$1.prototype._digest=function(Z){return Z==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi(X,Z,G,W,F){var U=X&G^~X&F;return U<0&&(U+=4294967296),U}function ch64_lo(X,Z,G,W,F,U){var J=Z&W^~Z&U;return J<0&&(J+=4294967296),J}function maj64_hi(X,Z,G,W,F){var U=X&G^X&F^G&F;return U<0&&(U+=4294967296),U}function maj64_lo(X,Z,G,W,F,U){var J=Z&W^Z&U^W&U;return J<0&&(J+=4294967296),J}function s0_512_hi(X,Z){var G=rotr64_hi(X,Z,28),W=rotr64_hi(Z,X,2),F=rotr64_hi(Z,X,7),U=G^W^F;return U<0&&(U+=4294967296),U}function s0_512_lo(X,Z){var G=rotr64_lo(X,Z,28),W=rotr64_lo(Z,X,2),F=rotr64_lo(Z,X,7),U=G^W^F;return U<0&&(U+=4294967296),U}function s1_512_hi(X,Z){var G=rotr64_hi(X,Z,14),W=rotr64_hi(X,Z,18),F=rotr64_hi(Z,X,9),U=G^W^F;return U<0&&(U+=4294967296),U}function s1_512_lo(X,Z){var G=rotr64_lo(X,Z,14),W=rotr64_lo(X,Z,18),F=rotr64_lo(Z,X,9),U=G^W^F;return U<0&&(U+=4294967296),U}function g0_512_hi(X,Z){var G=rotr64_hi(X,Z,1),W=rotr64_hi(X,Z,8),F=shr64_hi(X,Z,7),U=G^W^F;return U<0&&(U+=4294967296),U}function g0_512_lo(X,Z){var G=rotr64_lo(X,Z,1),W=rotr64_lo(X,Z,8),F=shr64_lo(X,Z,7),U=G^W^F;return U<0&&(U+=4294967296),U}function g1_512_hi(X,Z){var G=rotr64_hi(X,Z,19),W=rotr64_hi(Z,X,29),F=shr64_hi(X,Z,6),U=G^W^F;return U<0&&(U+=4294967296),U}function g1_512_lo(X,Z){var G=rotr64_lo(X,Z,19),W=rotr64_lo(Z,X,29),F=shr64_lo(X,Z,6),U=G^W^F;return U<0&&(U+=4294967296),U}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(Z){return Z==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$1=utils$9,common=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(Z,G){for(var W=this.h[0],F=this.h[1],U=this.h[2],J=this.h[3],Y=this.h[4],D=W,Q=F,ee=U,q=J,te=Y,ie=0;ie<80;ie++){var ne=sum32(rotl32(sum32_4(W,f$2(ie,F,U,J),Z[r$2[ie]+G],K$1(ie)),s$3[ie]),Y);W=Y,Y=J,J=rotl32(U,10),U=F,F=ne,ne=sum32(rotl32(sum32_4(D,f$2(79-ie,Q,ee,q),Z[rh[ie]+G],Kh(ie)),sh[ie]),te),D=te,te=q,q=rotl32(ee,10),ee=Q,Q=ne}ne=sum32_3(this.h[1],U,q),this.h[1]=sum32_3(this.h[2],J,te),this.h[2]=sum32_3(this.h[3],Y,D),this.h[3]=sum32_3(this.h[4],W,Q),this.h[4]=sum32_3(this.h[0],F,ee),this.h[0]=ne};RIPEMD160.prototype._digest=function(Z){return Z==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f$2(X,Z,G,W){return X<=15?Z^G^W:X<=31?Z&G|~Z&W:X<=47?(Z|~G)^W:X<=63?Z&W|G&~W:Z^(G|~W)}function K$1(X){return X<=15?0:X<=31?1518500249:X<=47?1859775393:X<=63?2400959708:2840853838}function Kh(X){return X<=15?1352829926:X<=31?1548603684:X<=47?1836072691:X<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$3=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert=minimalisticAssert;function Hmac(X,Z,G){if(!(this instanceof Hmac))return new Hmac(X,Z,G);this.Hash=X,this.blockSize=X.blockSize/8,this.outSize=X.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(Z,G))}var hmac=Hmac;Hmac.prototype._init=function(Z){Z.length>this.blockSize&&(Z=new this.Hash().update(Z).digest()),assert(Z.length<=this.blockSize);for(var G=Z.length;G<this.blockSize;G++)Z.push(0);for(G=0;G<Z.length;G++)Z[G]^=54;for(this.inner=new this.Hash().update(Z),G=0;G<Z.length;G++)Z[G]^=106;this.outer=new this.Hash().update(Z)};Hmac.prototype.update=function(Z,G){return this.inner.update(Z,G),this};Hmac.prototype.digest=function(Z){return this.outer.update(this.inner.digest()),this.outer.digest(Z)};(function(X){var Z=X;Z.utils=utils$9,Z.common=common$5,Z.sha=sha,Z.ripemd=ripemd,Z.hmac=hmac,Z.sha1=Z.sha.sha1,Z.sha256=Z.sha.sha256,Z.sha224=Z.sha.sha224,Z.sha384=Z.sha.sha384,Z.sha512=Z.sha.sha512,Z.ripemd160=Z.ripemd.ripemd160})(hash);var rdfTerms={},QuadTermUtil={};Object.defineProperty(QuadTermUtil,"__esModule",{value:!0});QuadTermUtil.matchPatternMappings=QuadTermUtil.matchPatternComplete=QuadTermUtil.matchPattern=QuadTermUtil.matchTerm=QuadTermUtil.someTerms=QuadTermUtil.everyTerms=QuadTermUtil.reduceTerms=QuadTermUtil.mapTerms=QuadTermUtil.filterQuadTermNames=QuadTermUtil.filterTerms=QuadTermUtil.forEachTerms=QuadTermUtil.collectNamedTerms=QuadTermUtil.getNamedTerms=QuadTermUtil.getTermsNested=QuadTermUtil.getTerms=QuadTermUtil.TRIPLE_TERM_NAMES=QuadTermUtil.QUAD_TERM_NAMES=void 0;const rdf_data_factory_1=rdfDataFactory,DF=new rdf_data_factory_1.DataFactory;QuadTermUtil.QUAD_TERM_NAMES=["subject","predicate","object","graph"];QuadTermUtil.TRIPLE_TERM_NAMES=["subject","predicate","object"];function getTerms(X,Z){return Z&&X.graph.termType==="DefaultGraph"?[X.subject,X.predicate,X.object]:[X.subject,X.predicate,X.object,X.graph]}QuadTermUtil.getTerms=getTerms;function getTermsNested(X,Z){const G=[];for(const W of getTerms(X,Z))W.termType==="Quad"?getTermsNested(W,Z).forEach(F=>G.push(F)):G.push(W);return G}QuadTermUtil.getTermsNested=getTermsNested;function getNamedTerms(X){return[{key:"subject",value:X.subject},{key:"predicate",value:X.predicate},{key:"object",value:X.object},{key:"graph",value:X.graph}]}QuadTermUtil.getNamedTerms=getNamedTerms;function collectNamedTerms(X,Z,G){const W={};return X.forEach(F=>W[F.key]=F.value),Z&&(W.subject=W.subject||Z("subject"),W.predicate=W.predicate||Z("predicate"),W.object=W.object||Z("object"),W.graph=W.graph||Z("graph")),(G||DF).quad(W.subject,W.predicate,W.object,W.graph)}QuadTermUtil.collectNamedTerms=collectNamedTerms;function forEachTerms(X,Z){Z(X.subject,"subject"),Z(X.predicate,"predicate"),Z(X.object,"object"),Z(X.graph,"graph")}QuadTermUtil.forEachTerms=forEachTerms;function filterTerms(X,Z){const G=[];return Z(X.subject,"subject")&&G.push(X.subject),Z(X.predicate,"predicate")&&G.push(X.predicate),Z(X.object,"object")&&G.push(X.object),Z(X.graph,"graph")&&G.push(X.graph),G}QuadTermUtil.filterTerms=filterTerms;function filterQuadTermNames(X,Z){const G=[];return Z(X.subject,"subject")&&G.push("subject"),Z(X.predicate,"predicate")&&G.push("predicate"),Z(X.object,"object")&&G.push("object"),Z(X.graph,"graph")&&G.push("graph"),G}QuadTermUtil.filterQuadTermNames=filterQuadTermNames;function mapTerms(X,Z,G){return(G||DF).quad(Z(X.subject,"subject"),Z(X.predicate,"predicate"),Z(X.object,"object"),Z(X.graph,"graph"))}QuadTermUtil.mapTerms=mapTerms;function reduceTerms(X,Z,G){let W=G;return W=Z(W,X.subject,"subject"),W=Z(W,X.predicate,"predicate"),W=Z(W,X.object,"object"),Z(W,X.graph,"graph")}QuadTermUtil.reduceTerms=reduceTerms;function everyTerms(X,Z){return Z(X.subject,"subject")&&Z(X.predicate,"predicate")&&Z(X.object,"object")&&Z(X.graph,"graph")}QuadTermUtil.everyTerms=everyTerms;function someTerms(X,Z){return Z(X.subject,"subject")||Z(X.predicate,"predicate")||Z(X.object,"object")||Z(X.graph,"graph")}QuadTermUtil.someTerms=someTerms;function matchTerm(X,Z){return!Z||Z.termType==="Variable"||Z.termType==="Quad"&&X.termType==="Quad"&&matchPatternComplete(X,Z)||Z.equals(X)}QuadTermUtil.matchTerm=matchTerm;function matchPattern(X,Z,G,W,F){return matchTerm(X.subject,Z)&&matchTerm(X.predicate,G)&&matchTerm(X.object,W)&&matchTerm(X.graph,F)}QuadTermUtil.matchPattern=matchPattern;function matchPatternComplete(X,Z){return matchPattern(X,Z.subject,Z.predicate,Z.object,Z.graph)}QuadTermUtil.matchPatternComplete=matchPatternComplete;function matchPatternMappings(X,Z,G={}){const W={};function F(U,J){return everyTerms(U,(Y,D)=>{var Q,ee;const q=J[D];switch(Y.termType){case"Variable":return G.skipVarMapping&&q.termType==="Variable"||((ee=(Q=W[Y.value])===null||Q===void 0?void 0:Q.equals(q))!==null&&ee!==void 0?ee:(W[Y.value]=q,!0));case"Quad":return q.termType==="Quad"&&F(Y,q);default:return Y.equals(q)}})}return F(Z,X)&&(G.returnMappings?W:!0)}QuadTermUtil.matchPatternMappings=matchPatternMappings;var TermUtil={};Object.defineProperty(TermUtil,"__esModule",{value:!0});TermUtil.getQuads=TermUtil.getDefaultGraphs=TermUtil.getVariables=TermUtil.getLiterals=TermUtil.getBlankNodes=TermUtil.getNamedNodes=TermUtil.getTermsOfType=TermUtil.uniqTerms=TermUtil.TERM_TYPES=void 0;const rdf_string_1$2=rdfString;TermUtil.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function uniqTerms(X){const Z={};return X.filter(G=>{const W=rdf_string_1$2.termToString(G);return!(W in Z)&&(Z[W]=!0)})}TermUtil.uniqTerms=uniqTerms;function getTermsOfType(X,Z){return X.filter(G=>G.termType===Z)}TermUtil.getTermsOfType=getTermsOfType;function getNamedNodes(X){return getTermsOfType(X,"NamedNode")}TermUtil.getNamedNodes=getNamedNodes;function getBlankNodes(X){return getTermsOfType(X,"BlankNode")}TermUtil.getBlankNodes=getBlankNodes;function getLiterals(X){return getTermsOfType(X,"Literal")}TermUtil.getLiterals=getLiterals;function getVariables(X){return getTermsOfType(X,"Variable")}TermUtil.getVariables=getVariables;function getDefaultGraphs(X){return getTermsOfType(X,"DefaultGraph")}TermUtil.getDefaultGraphs=getDefaultGraphs;function getQuads(X){return getTermsOfType(X,"Quad")}TermUtil.getQuads=getQuads;(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,F,U,J){J===void 0&&(J=U),Object.defineProperty(W,J,{enumerable:!0,get:function(){return F[U]}})}:function(W,F,U,J){J===void 0&&(J=U),W[J]=F[U]}),G=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,F){for(var U in W)U!=="default"&&!Object.prototype.hasOwnProperty.call(F,U)&&Z(F,W,U)};Object.defineProperty(X,"__esModule",{value:!0}),G(QuadTermUtil,X),G(TermUtil,X)})(rdfTerms);Object.defineProperty(RdfIsomorphic,"__esModule",{value:!0});RdfIsomorphic.isTermGrounded=RdfIsomorphic.termToSignature=RdfIsomorphic.quadToSignature=RdfIsomorphic.sha1hex=RdfIsomorphic.hashTerm=RdfIsomorphic.hashTerms=RdfIsomorphic.getGraphBlankNodes=RdfIsomorphic.uniqGraph=RdfIsomorphic.deindexGraph=RdfIsomorphic.indexGraph=RdfIsomorphic.getQuadsWithoutBlankNodes=RdfIsomorphic.getQuadsWithBlankNodes=RdfIsomorphic.hasValue=RdfIsomorphic.hashValues=RdfIsomorphic.getBijectionInner=RdfIsomorphic.getBijection=RdfIsomorphic.isomorphic=void 0;const hash_js_1=hash,rdf_string_1$1=rdfString,rdf_terms_1=rdfTerms;function isomorphic(X,Z){return!!getBijection(X,Z)}RdfIsomorphic.isomorphic=isomorphic;function getBijection(X,Z){const G=indexGraph(getQuadsWithoutBlankNodes(X)),W=indexGraph(getQuadsWithoutBlankNodes(Z));if(Object.keys(G).length!==Object.keys(W).length)return null;for(const D in G)if(G[D]!==W[D])return null;const F=uniqGraph(getQuadsWithBlankNodes(X)),U=uniqGraph(getQuadsWithBlankNodes(Z)),J=getGraphBlankNodes(X),Y=getGraphBlankNodes(Z);return getBijectionInner(F,U,J,Y)}RdfIsomorphic.getBijection=getBijection;function getBijectionInner(X,Z,G,W,F,U){F||(F={}),U||(U={});const[J,Y]=hashTerms(X,G,F),[D,Q]=hashTerms(Z,W,U);if(Object.keys(J).length!==Object.keys(D).length)return null;for(const q in J)if(!hasValue(D,J[q]))return null;let ee={};for(const q of G){const te=rdf_string_1$1.termToString(q),ie=Y[te];for(const ne in Q)if(Q[ne]===ie){ee[te]=ne,delete Q[ne];break}}if(!arraysEqual(Object.keys(ee).sort(),G.map(rdf_string_1$1.termToString).sort())||!arraysEqual(hashValues(ee).sort(),W.map(rdf_string_1$1.termToString).sort())){ee=null;for(const q of G){const te=rdf_string_1$1.termToString(q);if(!J[te])for(const ie of W){const ne=rdf_string_1$1.termToString(ie);if(!D[ne]&&Y[te]===Q[ne]){const ce=sha1hex(te);ee=getBijectionInner(X,Z,G,W,Object.assign(Object.assign({},J),{[te]:ce}),Object.assign(Object.assign({},D),{[ne]:ce}))}}}}return ee}RdfIsomorphic.getBijectionInner=getBijectionInner;function arraysEqual(X,Z){if(X.length!==Z.length)return!1;for(let G=X.length;G--;)if(X[G]!==Z[G])return!1;return!0}function hashValues(X){const Z=[];for(const G in X)Z.push(X[G]);return Z}RdfIsomorphic.hashValues=hashValues;function hasValue(X,Z){for(const G in X)if(X[G]===Z)return!0;return!1}RdfIsomorphic.hasValue=hasValue;function getQuadsWithBlankNodes(X){return X.filter(Z=>rdf_terms_1.someTerms(Z,G=>G.termType==="BlankNode"||G.termType==="Quad"&&rdf_terms_1.getTermsNested(G).some(W=>W.termType==="BlankNode")))}RdfIsomorphic.getQuadsWithBlankNodes=getQuadsWithBlankNodes;function getQuadsWithoutBlankNodes(X){return X.filter(Z=>rdf_terms_1.everyTerms(Z,G=>G.termType!=="BlankNode"&&!(G.termType==="Quad"&&rdf_terms_1.getTermsNested(G).some(W=>W.termType==="BlankNode"))))}RdfIsomorphic.getQuadsWithoutBlankNodes=getQuadsWithoutBlankNodes;function indexGraph(X){const Z={};for(const G of X)Z[JSON.stringify(rdf_string_1$1.quadToStringQuad(G))]=!0;return Z}RdfIsomorphic.indexGraph=indexGraph;function deindexGraph(X){return Object.keys(X).map(Z=>rdf_string_1$1.stringQuadToQuad(JSON.parse(Z)))}RdfIsomorphic.deindexGraph=deindexGraph;function uniqGraph(X){return deindexGraph(indexGraph(X))}RdfIsomorphic.uniqGraph=uniqGraph;function getGraphBlankNodes(X){return rdf_terms_1.uniqTerms(X.map(Z=>rdf_terms_1.getBlankNodes(rdf_terms_1.getTermsNested(Z))).reduce((Z,G)=>Z.concat(G),[]))}RdfIsomorphic.getGraphBlankNodes=getGraphBlankNodes;function hashTerms(X,Z,G){const W=Object.assign({},G),F={};let U=!0;for(;U;){const J=Object.keys(W).length;for(const D of Z){const Q=rdf_string_1$1.termToString(D);if(!W[Q]){const[ee,q]=hashTerm(D,X,W);ee&&(W[Q]=q),F[Q]=q}}const Y={};for(const D in F){const Q=F[D];Y[Q]===void 0?Y[Q]=D:Y[Q]=!1}for(const D in Y){const Q=Y[D];Q&&(W[Q]=D)}U=J!==Object.keys(W).length}return[W,F]}RdfIsomorphic.hashTerms=hashTerms;function hashTerm(X,Z,G){const W=[];let F=!0;for(const J of Z){const Y=rdf_terms_1.getTermsNested(J);if(Y.some(D=>D.equals(X))){W.push(quadToSignature(J,G,X));for(const D of Y)!isTermGrounded(D,G)&&!D.equals(X)&&(F=!1)}}const U=sha1hex(W.sort().join(""));return[F,U]}RdfIsomorphic.hashTerm=hashTerm;function sha1hex(X){return hash_js_1.sha1().update(X).digest("hex")}RdfIsomorphic.sha1hex=sha1hex;function quadToSignature(X,Z,G){return rdf_terms_1.getTerms(X).map(W=>termToSignature(W,Z,G)).join("|")}RdfIsomorphic.quadToSignature=quadToSignature;function termToSignature(X,Z,G){return X.equals(G)?"@self":X.termType==="BlankNode"?Z[rdf_string_1$1.termToString(X)]||"@blank":X.termType==="Quad"?`<${quadToSignature(X,Z,G)}>`:rdf_string_1$1.termToString(X)}RdfIsomorphic.termToSignature=termToSignature;function isTermGrounded(X,Z){return X.termType!=="BlankNode"&&!(X.termType==="Quad"&&rdf_terms_1.getTermsNested(X).some(G=>!isTermGrounded(G,Z)))||!!Z[rdf_string_1$1.termToString(X)]}RdfIsomorphic.isTermGrounded=isTermGrounded;(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(W,F,U,J){J===void 0&&(J=U),Object.defineProperty(W,J,{enumerable:!0,get:function(){return F[U]}})}:function(W,F,U,J){J===void 0&&(J=U),W[J]=F[U]}),G=commonjsGlobal&&commonjsGlobal.__exportStar||function(W,F){for(var U in W)U!=="default"&&!Object.prototype.hasOwnProperty.call(F,U)&&Z(F,W,U)};Object.defineProperty(X,"__esModule",{value:!0}),G(RdfIsomorphic,X)})(rdfIsomorphic);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(X,Z,G,W){W===void 0&&(W=G);var F=Object.getOwnPropertyDescriptor(Z,G);(!F||("get"in F?!Z.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return Z[G]}}),Object.defineProperty(X,W,F)}:function(X,Z,G,W){W===void 0&&(W=G),X[W]=Z[G]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(X,Z){Object.defineProperty(X,"default",{enumerable:!0,value:Z})}:function(X,Z){X.default=Z}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(X){if(X&&X.__esModule)return X;var Z={};if(X!=null)for(var G in X)G!=="default"&&Object.prototype.hasOwnProperty.call(X,G)&&__createBinding(Z,X,G);return __setModuleDefault(Z,X),Z},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(sparql,"__esModule",{value:!0});sparql.toSparqlJs=sparql.toSparql=void 0;const rdf_isomorphic_1=rdfIsomorphic,rdf_string_1=rdfString,sparqljs_1=sparql$1,Algebra=__importStar(algebra),factory_1=__importDefault(factory$2),util_1=__importDefault(util),types=Algebra.types,eTypes=Algebra.expressionTypes;let context;const factory=new factory_1.default;function toSparql(X,Z={}){return new sparqljs_1.Generator(Z).stringify(toSparqlJs(X))}sparql.toSparql=toSparql;function toSparqlJs(X){resetContext(),X=removeQuads(X);let Z=translateOperation(X);return Z.type==="group"?Z.patterns[0]:Z}sparql.toSparqlJs=toSparqlJs;function resetContext(){context={project:!1,extend:[],group:[],aggregates:[],order:[]}}function translateOperation(X){switch(X.type!==types.EXTEND&&X.type!==types.ORDER_BY&&X.type!==types.GRAPH&&(context.project=!1),X.type){case types.EXPRESSION:return translateExpression(X);case types.ASK:return translateProject(X,types.ASK);case types.BGP:return translateBgp(X);case types.CONSTRUCT:return translateConstruct(X);case types.DESCRIBE:return translateProject(X,types.DESCRIBE);case types.DISTINCT:return translateDistinct(X);case types.EXTEND:return translateExtend(X);case types.FROM:return translateFrom(X);case types.FILTER:return translateFilter(X);case types.GRAPH:return translateGraph(X);case types.GROUP:return translateGroup(X);case types.JOIN:return translateJoin(X);case types.LEFT_JOIN:return translateLeftJoin(X);case types.MINUS:return translateMinus(X);case types.NOP:return{};case types.ORDER_BY:return translateOrderBy(X);case types.PATH:return translatePath(X);case types.PATTERN:return translatePattern(X);case types.PROJECT:return translateProject(X,types.PROJECT);case types.REDUCED:return translateReduced(X);case types.SERVICE:return translateService(X);case types.SLICE:return translateSlice(X);case types.UNION:return translateUnion(X);case types.VALUES:return translateValues(X);case types.COMPOSITE_UPDATE:return translateCompositeUpdate(X);case types.DELETE_INSERT:return translateDeleteInsert(X);case types.LOAD:return translateLoad(X);case types.CLEAR:return translateClear(X);case types.CREATE:return translateCreate(X);case types.DROP:return translateDrop(X);case types.ADD:return translateAdd(X);case types.MOVE:return translateMove(X);case types.COPY:return translateCopy(X)}throw new Error(`Unknown Operation type ${X.type}`)}function translateExpression(X){switch(X.expressionType){case eTypes.AGGREGATE:return translateAggregateExpression(X);case eTypes.EXISTENCE:return translateExistenceExpression(X);case eTypes.NAMED:return translateNamedExpression(X);case eTypes.OPERATOR:return translateOperatorExpression(X);case eTypes.TERM:return translateTermExpression(X);case eTypes.WILDCARD:return translateWildcardExpression(X)}throw new Error(`Unknown Expression Operation type ${X.expressionType}`)}function translatePathComponent(X){switch(X.type){case types.ALT:return translateAlt(X);case types.INV:return translateInv(X);case types.LINK:return translateLink(X);case types.NPS:return translateNps(X);case types.ONE_OR_MORE_PATH:return translateOneOrMorePath(X);case types.SEQ:return translateSeq(X);case types.ZERO_OR_MORE_PATH:return translateZeroOrMorePath(X);case types.ZERO_OR_ONE_PATH:return translateZeroOrOnePath(X)}throw new Error(`Unknown Path type ${X.type}`)}function translateTerm(X){return(0,rdf_string_1.termToString)(X)}function translateAggregateExpression(X){const Z={expression:translateExpression(X.expression),type:"aggregate",aggregation:X.aggregator,distinct:X.distinct};return X.separator&&(Z.separator=X.separator),Z}function translateExistenceExpression(X){return{type:"operation",operator:X.not?"notexists":"exists",args:util_1.default.flatten([translateOperation(X.input)])}}function translateNamedExpression(X){return{type:"functionCall",function:X.name,args:X.args.map(translateExpression)}}function translateOperatorExpression(X){if(X.operator==="desc"){const G={expression:translateExpression(X.args[0])};return G.descending=!0,G}const Z={type:"operation",operator:X.operator,args:X.args.map(translateExpression)};return(Z.operator==="in"||Z.operator==="notin")&&(Z.args=[Z.args[0]].concat([Z.args.slice(1)])),Z}function translateTermExpression(X){return X.term}function translateWildcardExpression(X){return X.wildcard}function translateBoundAggregate(X){return X}function translateBgp(X){let Z=X.patterns.map(translatePattern);return Z.length===0?null:{type:"bgp",triples:Z}}function translateConstruct(X){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:X.template.map(translatePattern),where:util_1.default.flatten([translateOperation(X.input)])}}function translateDistinct(X){let Z=translateOperation(X.input);return Z.patterns[0].distinct=!0,Z}function translateExtend(X){return context.project?(context.extend.push(X),translateOperation(X.input)):util_1.default.flatten([translateOperation(X.input),{type:"bind",variable:X.variable,expression:translateExpression(X.expression)}])}function translateFrom(X){const Z=translateOperation(X.input),G=Z.patterns[0];return G.from={default:X.default,named:X.named},Z}function translateFilter(X){return{type:"group",patterns:util_1.default.flatten([translateOperation(X.input),{type:"filter",expression:translateExpression(X.expression)}])}}function translateGraph(X){return{type:"graph",patterns:util_1.default.flatten([translateOperation(X.input)]),name:X.name}}function translateGroup(X){const Z=translateOperation(X.input),G=X.aggregates.map(translateBoundAggregate);return context.aggregates.push(...G),context.group.push(...X.variables),Z}function translateJoin(X){return util_1.default.flatten(X.input.map(translateOperation)).reduce((G,W)=>(W.type!=="bgp"||G.length==0||G[G.length-1].type!=="bgp"?G.push(W):G[G.length-1].triples.push(...W.triples),G),[])}function translateLeftJoin(X){const Z={type:"optional",patterns:[translateOperation(X.input[1])]};return X.expression&&Z.patterns.push({type:"filter",expression:translateExpression(X.expression)}),Z.patterns=util_1.default.flatten(Z.patterns),util_1.default.flatten([translateOperation(X.input[0]),Z])}function translateMinus(X){let Z=translateOperation(X.input[1]);return Z.type==="group"&&(Z=Z.patterns),Array.isArray(Z)||(Z=[Z]),util_1.default.flatten([translateOperation(X.input[0]),{type:"minus",patterns:Z}])}function translateOrderBy(X){return context.order.push(...X.expressions),translateOperation(X.input)}function translatePath(X){return{type:"bgp",triples:[{subject:X.subject,predicate:translatePathComponent(X.predicate),object:X.object}]}}function translatePattern(X){return{subject:X.subject,predicate:X.predicate,object:X.object}}function replaceAggregatorVariables(X,Z){let G=util_1.default.isSimpleTerm(X)?translateTerm(X):X;if(typeof G=="string"){if(Z[G])return Z[G]}else if(Array.isArray(X))X=X.map(W=>replaceAggregatorVariables(W,Z));else for(let W of Object.keys(X))X[W]=replaceAggregatorVariables(X[W],Z);return X}function translateProject(X,Z){const G={type:"query",prefixes:{}},W=G;let F;Z===types.PROJECT?(G.queryType="SELECT",F=X.variables):Z===types.ASK?G.queryType="ASK":Z===types.DESCRIBE&&(G.queryType="DESCRIBE",F=X.terms);const U=context.extend,J=context.group,Y=context.aggregates,D=context.order;resetContext(),context.project=!0;let Q=util_1.default.flatten([translateOperation(X.input)]);Q.length===1&&Q[0].type==="group"&&(Q=Q[0].patterns),G.where=Q;let ee={};for(let te of context.aggregates)ee[translateTerm(te.variable)]=translateExpression(te);let q={};for(let te=context.extend.length-1;te>=0;--te){let ie=context.extend[te];q[translateTerm(ie.variable)]=replaceAggregatorVariables(translateExpression(ie.expression),ee)}if(context.group.length>0&&(W.group=context.group.map(te=>{let ie=translateTerm(te);if(q[ie]){let ne=q[ie];return delete q[ie],{variable:te,expression:ne}}return{expression:te}})),context.order.length>0&&(W.order=context.order.map(translateOperation).map(te=>te.descending?te:{expression:te})),F&&(W.variables=F.map(te=>{let ie=translateTerm(te);return q[ie]?{variable:te,expression:q[ie]}:te}),W.variables.length===0&&(W.variables=[new sparqljs_1.Wildcard])),G.where.length>0&&G.where[G.where.length-1].type==="filter"){const te=G.where[G.where.length-1];objectContainsValues(te,Object.keys(ee))&&(W.having=util_1.default.flatten([replaceAggregatorVariables(te.expression,ee)]),G.where.splice(-1))}return context.extend=U,context.group=J,context.aggregates=Y,context.order=D,{type:"group",patterns:[W]}}function objectContainsValues(X,Z){return util_1.default.isSimpleTerm(X)?Z.indexOf(translateTerm(X))>=0:Array.isArray(X)?X.some(G=>objectContainsValues(G,Z)):X===Object(X)?Object.keys(X).some(G=>objectContainsValues(X[G],Z)):Z.indexOf(X)>=0}function translateReduced(X){let Z=translateOperation(X.input);return Z.patterns[0].reduced=!0,Z}function translateService(X){let Z=translateOperation(X.input);return Z.type==="group"&&(Z=Z.patterns),Array.isArray(Z)||(Z=[Z]),{type:"service",name:X.name,silent:X.silent,patterns:Z}}function translateSlice(X){let Z=translateOperation(X.input),G=Z;return Z.type&&Z.type==="group"&&(G=Z.patterns[0]),X.start!==0&&(G.offset=X.start),X.length!==void 0&&(G.limit=X.length),Z}function translateUnion(X){return{type:"union",patterns:util_1.default.flatten(X.input.map(translateOperation))}}function translateValues(X){return{type:"values",values:X.bindings.map(Z=>{let G={};for(let W of X.variables){let F=`?${W.value}`;Z[F]?G[F]=Z[F]:G[F]=void 0}return G})}}function translateAlt(X){const Z=X.input.map(translatePathComponent);return Z.every(G=>"pathType"in G&&G.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:util_1.default.flatten(Z.map(G=>G.items))}]}:{type:"path",pathType:"|",items:Z}}function translateInv(X){if(X.path.type===types.NPS){const Z=X.path.iris.map(G=>({type:"path",pathType:"^",items:[G]}));return Z.length<=1?{type:"path",pathType:"!",items:Z}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Z}]}}return{type:"path",pathType:"^",items:[translatePathComponent(X.path)]}}function translateLink(X){return X.iri}function translateNps(X){return X.iris.length<=1?{type:"path",pathType:"!",items:X.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:X.iris}]}}function translateOneOrMorePath(X){return{type:"path",pathType:"+",items:[translatePathComponent(X.path)]}}function translateSeq(X){return{type:"path",pathType:"/",items:X.input.map(translatePathComponent)}}function translateZeroOrMorePath(X){return{type:"path",pathType:"*",items:[translatePathComponent(X.path)]}}function translateZeroOrOnePath(X){return{type:"path",pathType:"?",items:[translatePathComponent(X.path)]}}function translateCompositeUpdate(X){const Z=X.updates.map(G=>translateOperation(G).updates[0]);return{prefixes:{},type:"update",updates:Z}}function translateDeleteInsert(X){var Z;let G=X.where,W;if(G&&G.type===types.FROM){let U=G;G=U.input,W={default:U.default,named:U.named}}const F=[{updateType:"insertdelete",delete:convertUpdatePatterns(X.delete||[]),insert:convertUpdatePatterns(X.insert||[])}];if(W&&(F[0].using=W),!G||G.type===types.BGP&&G.patterns.length===0)F[0].where=[];else{const U={};let J=translateOperation(removeQuadsRecursive(G,U));J.type==="group"?F[0].where=J.patterns:F[0].where=[J];const Y=Object.keys(U);if(Y.length>0){if(Y.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");const D=(Z=U[Y[0]])===null||Z===void 0?void 0:Z.graph;D&&D.value!==""&&(F[0].where=[{type:"graph",patterns:F[0].where,name:D}])}}return!X.delete&&!X.where?(F[0].updateType="insert",delete F[0].delete,delete F[0].where):!X.insert&&!X.where?(delete F[0].insert,delete F[0].where,X.delete.some(U=>U.subject.termType==="Variable"||U.predicate.termType==="Variable"||U.object.termType==="Variable")?F[0].updateType="deletewhere":F[0].updateType="delete"):!X.insert&&X.where&&X.where.type==="bgp"&&(0,rdf_isomorphic_1.isomorphic)(X.delete,X.where.patterns)&&(delete F[0].where,F[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:F}}function translateLoad(X){const Z=[{type:"load",silent:!!X.silent,source:X.source}];return X.destination&&(Z[0].destination=X.destination),{prefixes:{},type:"update",updates:Z}}function translateClear(X){return translateClearCreateDrop(X,"clear")}function translateCreate(X){return translateClearCreateDrop(X,"create")}function translateDrop(X){return translateClearCreateDrop(X,"drop")}function translateClearCreateDrop(X,Z){const G=[{type:Z,silent:!!X.silent}];return X.source==="DEFAULT"?G[0].graph={default:!0}:X.source==="NAMED"?G[0].graph={named:!0}:X.source==="ALL"?G[0].graph={all:!0}:G[0].graph={type:"graph",name:X.source},{prefixes:{},type:"update",updates:G}}function translateAdd(X){return translateUpdateGraphShortcut(X,"add")}function translateMove(X){return translateUpdateGraphShortcut(X,"move")}function translateCopy(X){return translateUpdateGraphShortcut(X,"copy")}function translateUpdateGraphShortcut(X,Z){const G=[{type:Z,silent:!!X.silent}];return G[0].source=X.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:X.source},G[0].destination=X.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:X.destination},{prefixes:{},type:"update",updates:G}}function convertUpdatePatterns(X){if(!X)return[];const Z={};return X.forEach(G=>{const W=G.graph.value;Z[W]||(Z[W]=[]),Z[W].push(G)}),Object.keys(Z).map(G=>G===""?{type:"bgp",triples:Z[G].map(translatePattern)}:{type:"graph",triples:Z[G].map(translatePattern),name:Z[G][0].graph})}function removeQuads(X){return removeQuadsRecursive(X,{})}function removeQuadsRecursive(X,Z){if(Array.isArray(X))return X.map(J=>removeQuadsRecursive(J,Z));if(!X.type||X.type===types.DELETE_INSERT)return X;if((X.type===types.PATTERN||X.type===types.PATH)&&X.graph)return Z[X.graph.value]||(Z[X.graph.value]={graph:X.graph,values:[]}),Z[X.graph.value].values.push(X),X;const G={},W={},F={};for(let J of Object.keys(X)){const Y={};G[J]=removeQuadsRecursive(X[J],Y);const D=Object.keys(Y);if(D.length>1){let Q=potentialGraphFromPatterns(Y[D[0]].values);for(let ee=1;ee<D.length;++ee){const q=potentialGraphFromPatterns(Y[D[ee]].values);Q=factory.createJoin([Q,q])}return D.map(ee=>delete Y[ee]),Q}else if(D.length===1){const Q=Y[D[0]].graph;W[J]=Q,F[Q.value]=Q}}const U=Object.keys(F);if(U.length>0)if(U.length===1&&X.type!==types.PROJECT)Z[U[0]]={graph:F[U[0]],values:[G]};else for(let J of Object.keys(W))W[J].value.length>0&&(G[J]=factory.createGraph(G[J],W[J]));return G}function potentialGraphFromPatterns(X){const Z=factory.createBgp(X),G=X[0].graph;return G.value.length===0?Z:factory.createGraph(Z,G)}(function(X){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,q,te,ie){ie===void 0&&(ie=te);var ne=Object.getOwnPropertyDescriptor(q,te);(!ne||("get"in ne?!q.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return q[te]}}),Object.defineProperty(ee,ie,ne)}:function(ee,q,te,ie){ie===void 0&&(ie=te),ee[ie]=q[te]}),G=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ee,q){Object.defineProperty(ee,"default",{enumerable:!0,value:q})}:function(ee,q){ee.default=q}),W=commonjsGlobal&&commonjsGlobal.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var q={};if(ee!=null)for(var te in ee)te!=="default"&&Object.prototype.hasOwnProperty.call(ee,te)&&Z(q,ee,te);return G(q,ee),q},F=commonjsGlobal&&commonjsGlobal.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(X,"__esModule",{value:!0}),X.Util=X.toSparqlJs=X.toSparql=X.Factory=X.Algebra=X.translate=void 0;const U=F(sparqlAlgebra);X.translate=U.default;const J=W(algebra);X.Algebra=J;const Y=F(factory$2);X.Factory=Y.default;const D=sparql;Object.defineProperty(X,"toSparql",{enumerable:!0,get:function(){return D.toSparql}}),Object.defineProperty(X,"toSparqlJs",{enumerable:!0,get:function(){return D.toSparqlJs}});const Q=F(util);X.Util=Q.default})(sparqlalgebrajs);const index$1=getDefaultExportFromCjs(sparqlalgebrajs),__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqlalgebrajs__=_mergeNamespaces({__proto__:null,default:index$1},[sparqlalgebrajs]);var __quadstore_comunica_modules__={"../node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorAbstractPath=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=G("../node_modules/rdf-data-factory/index.js"),D=G("../node_modules/rdf-string/index.js"),Q=G("sparqlalgebrajs"),ee=G("../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js"),q=new Y.DataFactory,te=new W.BindingsFactory;class ie extends F.ActorQueryOperationTypedMediated{constructor(ce,le){super(ce,"path"),this.predicateType=le}async testOperation(ce,le){if(ce.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(ce,le){return le?ce&&(ce.subject.value===le||ce.object.value===le)?this.generateVariable(ce,`${le}b`):q.variable(le):this.generateVariable(ce,"b")}async isPathArbitraryLengthDistinct(ce,le){return ce.get(U.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(ce=ce.set(U.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:ce,operation:void 0}):(ce=ce.set(U.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:ce,operation:F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ie.FACTORY.createDistinct(le),context:ce}))})}async predicateStarGraphVariable(ce,le,se,pe,ue){const ae=this.generateVariable(ie.FACTORY.createPath(ce,se,le,pe)),de=ie.FACTORY.createUnion([ie.FACTORY.createPattern(ce,ae,le,pe),ie.FACTORY.createPattern(le,ae,ce,pe)]),be=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:ue,operation:de})),he=new Set;return{bindingsStream:new J.MultiTransformIterator(be.bindingsStream,{multiTransform:Xe=>{const We=Xe.get(pe);return he.has(We.value)?new J.EmptyIterator:(he.add(We.value),new J.TransformIterator(async()=>{const fe=new J.BufferedIterator;return await this.getObjectsPredicateStar(ce,se,We,ue,{},fe,{count:0}),fe.transform({transform(Re,ye,re){re(te.bindings([[le,Re],[pe,We]])),ye()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:be.metadata}}async getObjectsPredicateStarEval(ce,le,se,pe,ue,ae){if(pe.termType==="Variable")return this.predicateStarGraphVariable(ce,se,le,pe,ue);const de=new ee.PathVariableObjectIterator(ce,le,pe,ue,this.mediatorQueryOperation,ae);return{bindingsStream:de.transform({autoStart:!1,transform(he,Le,Xe){Xe(te.bindings([[se,he]])),Le()}}),metadata:()=>new Promise(he=>de.getProperty("metadata",Le=>he(Le())))}}async getObjectsPredicateStar(ce,le,se,pe,ue,ae,de){const be=(0,D.termToString)(ce);if(ue[be])return;ae._push(ce),ue[be]=ce,de.count++;const he=this.generateVariable(),Le=ie.FACTORY.createPath(ce,le,he,se),Xe=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Le,context:pe}));return Xe.bindingsStream.on("data",async We=>{const fe=We.get(he);await this.getObjectsPredicateStar(fe,le,se,pe,ue,ae,de)}),Xe.bindingsStream.on("end",()=>{--de.count===0&&ae.close()}),Xe.metadata}async getSubjectAndObjectBindingsPredicateStar(ce,le,se,pe,ue,ae,de,be,he,Le,Xe){const We=(0,D.termToString)(pe)+(0,D.termToString)(ae);if(he[We])return;if(Xe.count++,he[We]=!0,Le._push(te.bindings([[ce,se],[le,pe]])),We in be){const Re=await be[We];for(const ye of Re)await this.getSubjectAndObjectBindingsPredicateStar(ce,le,se,ye,ue,ae,de,be,he,Le,Xe);--Xe.count===0&&Le.close();return}const fe=new Promise(async(Re,ye)=>{const re=[],Ze=this.generateVariable(),Ge=ie.FACTORY.createPath(pe,ue,Ze,ae),ve=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Ge,context:de}));ve.bindingsStream.on("data",async Te=>{const xe=Te.get(Ze);re.push(xe),await this.getSubjectAndObjectBindingsPredicateStar(ce,le,se,xe,ue,ae,de,be,he,Le,Xe)}),ve.bindingsStream.on("error",ye),ve.bindingsStream.on("end",()=>{--Xe.count===0&&Le.close(),Re(re)})});be[We]=fe}}Z.ActorAbstractPath=ie,ie.FACTORY=new Q.Factory},"../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.PathVariableObjectIterator=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("asynciterator"),U=G("../node_modules/rdf-data-factory/index.js"),J=G("../node_modules/rdf-string/index.js"),Y=G("sparqlalgebrajs"),D=new U.DataFactory,Q=new Y.Factory;class ee extends F.BufferedIterator{constructor(te,ie,ne,ce,le,se,pe=16){super({autoStart:!0}),this.subject=te,this.predicate=ie,this.graph=ne,this.context=ce,this.mediatorQueryOperation=le,this.maxRunningOperations=pe,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,se)}_end(te){for(const ie of this.runningOperations)ie.destroy();super._end(te)}_push(te,ie=!0){let ne;if(ie&&(ne=(0,J.termToString)(te),this.termHashes.has(ne)))return;const ce=D.variable("b");this.pendingOperations.push({variable:ce,operation:Q.createPath(te,this.predicate,ce,this.graph)}),ne&&(this.termHashes.set(ne,te),super._push(te))}_read(te,ie){const ne=this;(async function(){for(;ne.runningOperations.length<ne.maxRunningOperations&&ne.pendingOperations.length!==0;){const se=ne.pendingOperations.pop(),pe=W.ActorQueryOperation.getSafeBindings(await ne.mediatorQueryOperation.mediate({operation:se.operation,context:ne.context})),ue=pe.bindingsStream.transform({autoStart:!1,transform(ae,de,be){const he=ae.get(se.variable);be(he),de()}});ue.done||(ne.runningOperations.push(ue),ue.on("error",ae=>ne.destroy(ae)),ue.on("readable",()=>{ne.readable=!0,ne._fillBufferAsync()}),ue.on("end",()=>{ne.runningOperations.splice(ne.runningOperations.indexOf(ue),1),ne.readable=!0,ne._fillBufferAsync()})),ne.setProperty("metadata",pe.metadata)}let ce=0,le;for(;ce!==(ce=te);)for(let se=0;se<ne.runningOperations.length&&te>0;se++)(le=ne.runningOperations[se].read())!==null&&(te--,ne._push(le));ne.runningOperations.length===0&&ne.pendingOperations.length===0&&ne.close()})().then(()=>{ie()},ce=>this.destroy(ce))}}Z.PathVariableObjectIterator=ee},"../node_modules/@comunica/actor-abstract-path/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js"),Z),F(G("../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js"),Z)},"../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorContextPreprocessSourceToDestination=void 0;const W=G("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js");class U extends W.ActorContextPreprocess{constructor(Y){super(Y)}async test(Y){return!0}async run(Y){if(Y.context.get(F.KeysRdfResolveQuadPattern.sources)&&!Y.context.get(F.KeysRdfUpdateQuads.destination)){const D=Y.context.get(F.KeysRdfResolveQuadPattern.sources);if(D.length===1)return{context:Y.context.set(F.KeysRdfUpdateQuads.destination,D[0])}}return Y}}Z.ActorContextPreprocessSourceToDestination=U},"../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js"),Z)},"../node_modules/@comunica/actor-hash-bindings-sha1/lib/ActorHashBindingsSha1.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorHashBindingsSha1=void 0;const W=G("../node_modules/@comunica/bus-hash-bindings/lib/index.js"),F=G("../node_modules/hash.js/lib/hash.js"),U=G("../node_modules/rdf-string/index.js"),J=G("../node_modules/canonicalize/lib/canonicalize.js");class Y extends W.ActorHashBindings{async test(Q){if(!Q.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(Q){return{hashFunction:ee=>(0,F.sha1)().update(J(Object.fromEntries([...ee].map(([q,te])=>[(0,U.termToString)(q),(0,U.termToString)(te)])))).digest("hex"),hashCollisions:!0}}}Z.ActorHashBindingsSha1=Y},"../node_modules/@comunica/actor-hash-bindings-sha1/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-hash-bindings-sha1/lib/ActorHashBindingsSha1.js"),Z)},"../node_modules/@comunica/actor-init-query/lib/ActorInitQuery-browser.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorInitQuery=void 0;const W=G("../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js");typeof process>"u"&&(globalThis.process=G("./require-empty.js"));class F extends W.ActorInitQueryBase{}Z.ActorInitQuery=F},"../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorInitQueryBase=void 0;const W=G("../node_modules/@comunica/bus-init/lib/index.js");class F extends W.ActorInit{constructor(J){J.contextKeyShortcutsExtensions?.forEach(Y=>{if(Object.keys(J.contextKeyShortcuts).some(D=>Object.keys(Y).includes(D)))throw new Error("Duplicate keys found while adding `contextKeyShortcutsExtensions`.");J.contextKeyShortcuts={...J.contextKeyShortcuts,...Y}}),super(J)}async test(J){return!0}async run(J){throw new Error("ActorInitSparql#run is not supported in the browser.")}}Z.ActorInitQueryBase=F},"../node_modules/@comunica/actor-init-query/lib/MemoryPhysicalQueryPlanLogger.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MemoryPhysicalQueryPlanLogger=void 0;const W=G("../node_modules/rdf-string/index.js");class F{constructor(){this.children=new Map}logOperation(J,Y,D,Q,ee,q){const te={actor:ee,logicalOperator:J,physicalOperator:Y,rawNode:D,children:[],metadata:q};if(this.children.set(D,te.children),this.rootNode){if(!Q)throw new Error("Detected more than one parent-less node");const ie=this.children.get(Q);if(!ie)throw new Error("Could not find parent node");ie.push(te)}else{if(Q)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=te}}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(J){return{logical:J.logicalOperator,physical:J.physicalOperator,...this.getLogicalMetadata(J.rawNode),...J.metadata,...J.children.length>0?{children:J.children.map(Y=>this.planNodeToJson(Y))}:{}}}getLogicalMetadata(J){if("type"in J){const Y=J;switch(Y.type){case"pattern":return{pattern:this.quadToString(Y)};case"project":return{variables:Y.variables.map(D=>D.value)}}}return{}}quadToString(J){return`${(0,W.termToString)(J.subject)} ${(0,W.termToString)(J.predicate)} ${(0,W.termToString)(J.object)}${J.graph.termType==="DefaultGraph"?"":` ${(0,W.termToString)(J.graph)}`}`}}Z.MemoryPhysicalQueryPlanLogger=F},"../node_modules/@comunica/actor-init-query/lib/QueryEngineBase.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.QueryEngineBase=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/@comunica/core/lib/index.js"),J=G("../node_modules/@comunica/actor-init-query/lib/MemoryPhysicalQueryPlanLogger.js");class Y{constructor(Q){this.actorInitQuery=Q,this.defaultFunctionArgumentsCache={}}async queryBindings(Q,ee){return this.queryOfType(Q,ee,"bindings")}async queryQuads(Q,ee){return this.queryOfType(Q,ee,"quads")}async queryBoolean(Q,ee){return this.queryOfType(Q,ee,"boolean")}async queryVoid(Q,ee){return this.queryOfType(Q,ee,"void")}async queryOfType(Q,ee,q){const te=await this.query(Q,ee);if(te.resultType===q)return te.execute();throw new Error(`Query result type '${q}' was expected, while '${te.resultType}' was found.`)}async query(Q,ee){const q=await this.queryOrExplain(Q,ee);if("explain"in q)throw new Error("Tried to explain a query when in query-only mode");return q}async explain(Q,ee,q){return ee.explain=q,await this.queryOrExplain(Q,ee)}async queryOrExplain(Q,ee){ee=ee||{};for(const ae in ee)this.actorInitQuery.contextKeyShortcuts[ae]&&(ee[this.actorInitQuery.contextKeyShortcuts[ae]]=ee[ae],delete ee[ae]);let q=new U.ActionContext(ee),te={language:"sparql",version:"1.1"};q.has(F.KeysInitQuery.queryFormat)&&(te=q.get(F.KeysInitQuery.queryFormat),q=q.delete(F.KeysInitQuery.queryFormat),te.language==="graphql"&&(q=q.setDefault(F.KeysInitQuery.graphqlSingularizeVariables,{})));const ie=q.get(F.KeysInitQuery.baseIRI);q=q.setDefault(F.KeysInitQuery.queryTimestamp,new Date).setDefault(F.KeysRdfResolveQuadPattern.sourceIds,new Map).setDefault(F.KeysCore.log,this.actorInitQuery.logger).setDefault(F.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(F.KeysRdfResolveQuadPattern.hypermediaSourcesAggregatedStores,new Map),q=(await this.actorInitQuery.mediatorContextPreprocess.mediate({context:q})).context;const ne=q.get(F.KeysInitQuery.explain);let ce;if(typeof Q=="string"){q=q.set(F.KeysInitQuery.queryString,Q);const ae=await this.actorInitQuery.mediatorQueryParse.mediate({context:q,query:Q,queryFormat:te,baseIRI:ie});ce=ae.operation,ae.baseIRI&&(q=q.set(F.KeysInitQuery.baseIRI,ae.baseIRI))}else ce=Q;if(ne==="parsed")return{explain:!0,type:ne,data:ce};q.has(F.KeysInitQuery.initialBindings)&&(ce=(0,W.materializeOperation)(ce,q.get(F.KeysInitQuery.initialBindings)),q=q.delete(F.KeysInitQuery.queryString));const le=await this.actorInitQuery.mediatorOptimizeQueryOperation.mediate({context:q,operation:ce});if(ce=le.operation,q=le.context||q,ne==="logical")return{explain:!0,type:ne,data:ce};q=q.set(F.KeysInitQuery.query,ce);let se;ne==="physical"&&(se=new J.MemoryPhysicalQueryPlanLogger,q=q.set(F.KeysInitQuery.physicalQueryPlanLogger,se));const pe=await this.actorInitQuery.mediatorQueryOperation.mediate({context:q,operation:ce});pe.context=q;const ue=Y.internalToFinalResult(pe);if(se){switch(ue.resultType){case"bindings":await(await ue.execute()).toArray();break;case"quads":await(await ue.execute()).toArray();break;case"boolean":await ue.execute();break;case"void":await ue.execute();break}return{explain:!0,type:ne,data:se.toJson()}}return ue}async getResultMediaTypes(Q){return Q=U.ActionContext.ensureActionContext(Q),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:Q,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(Q){return Q=U.ActionContext.ensureActionContext(Q),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:Q,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(Q,ee,q){if(q=U.ActionContext.ensureActionContext(q),!ee)switch(Q.resultType){case"bindings":ee="application/json";break;case"quads":ee="application/trig";break;default:ee="simple";break}const te={...await Y.finalToInternalResult(Q),context:q};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:q,handle:te,handleMediaType:ee})).handle}invalidateHttpCache(Q,ee){return ee=U.ActionContext.ensureActionContext(ee),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:Q,context:ee})}static internalToFinalResult(Q){switch(Q.type){case"bindings":return{resultType:"bindings",execute:async()=>Q.bindingsStream,metadata:async()=>await Q.metadata(),context:Q.context};case"quads":return{resultType:"quads",execute:async()=>Q.quadStream,metadata:async()=>await Q.metadata(),context:Q.context};case"boolean":return{resultType:"boolean",execute:async()=>Q.execute(),context:Q.context};case"void":return{resultType:"void",execute:async()=>Q.execute(),context:Q.context}}}static async finalToInternalResult(Q){switch(Q.resultType){case"bindings":return{type:"bindings",bindingsStream:await Q.execute(),metadata:async()=>await Q.metadata()};case"quads":return{type:"quads",quadStream:await Q.execute(),metadata:async()=>await Q.metadata()};case"boolean":return{type:"boolean",execute:()=>Q.execute()};case"void":return{type:"void",execute:()=>Q.execute()}}}}Z.QueryEngineBase=Y},"../node_modules/@comunica/actor-init-query/lib/index-browser.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(J,Y,D,Q){Q===void 0&&(Q=D);var ee=Object.getOwnPropertyDescriptor(Y,D);(!ee||("get"in ee?!Y.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return Y[D]}}),Object.defineProperty(J,Q,ee)}:function(J,Y,D,Q){Q===void 0&&(Q=D),J[Q]=Y[D]}),F=this&&this.__exportStar||function(J,Y){for(var D in J)D!=="default"&&!Object.prototype.hasOwnProperty.call(Y,D)&&W(Y,J,D)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.QueryEngineBase=void 0,F(G("../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js"),Z),F(G("../node_modules/@comunica/actor-init-query/lib/ActorInitQuery-browser.js"),Z);var U=G("../node_modules/@comunica/actor-init-query/lib/QueryEngineBase.js");Object.defineProperty(Z,"QueryEngineBase",{enumerable:!0,get:function(){return U.QueryEngineBase}})},"../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/ActorOptimizeQueryOperationBgpToJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperationBgpToJoin=void 0;const W=G("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorOptimizeQueryOperation{async test(Y){return!0}async run(Y){return{operation:F.Util.mapOperation(Y.operation,{bgp(Q,ee){return{recurse:!1,result:ee.createJoin(Q.patterns)}}}),context:Y.context}}}Z.ActorOptimizeQueryOperationBgpToJoin=U},"../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/ActorOptimizeQueryOperationBgpToJoin.js"),Z)},"../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperationJoinBgp=void 0;const W=G("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorOptimizeQueryOperation{async test(Y){return!0}async run(Y){return{operation:F.Util.mapOperation(Y.operation,{join(Q,ee){return Q.input.every(q=>q.type==="bgp")?{recurse:!1,result:ee.createBgp(Q.input.flatMap(q=>q.patterns))}:{recurse:!1,result:Q}}}),context:Y.context}}}Z.ActorOptimizeQueryOperationJoinBgp=U},"../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js"),Z)},"../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/ActorOptimizeQueryOperationJoinConnected.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperationJoinConnected=void 0;const W=G("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorOptimizeQueryOperation{async test(Y){return!0}async run(Y){return{operation:F.Util.mapOperation(Y.operation,{join(Q,ee){return{recurse:!1,result:U.cluster(Q,ee)}}}),context:Y.context}}static cluster(Y,D){const Q=Y.input.map(ie=>({inScopeVariables:Object.fromEntries(F.Util.inScopeVariables(ie).map(ne=>[ne.value,!0])),entries:[ie]}));let ee,q=Q;do ee=q,q=U.clusterIteration(ee);while(ee.length!==q.length);const te=q.map(ie=>D.createJoin(ie.entries));return te.length===1?te[0]:D.createJoin(te,!1)}static clusterIteration(Y){const D=[];for(const Q of Y){let ee=!1;for(const q of D)if(U.haveOverlappingVariables(Q.inScopeVariables,q.inScopeVariables)){q.entries=[...q.entries,...Q.entries],q.inScopeVariables={...q.inScopeVariables,...Q.inScopeVariables},ee=!0;break}ee||D.push({inScopeVariables:Q.inScopeVariables,entries:Q.entries})}return D}static haveOverlappingVariables(Y,D){for(const Q of Object.keys(Y))if(D[Q])return!0;return!1}}Z.ActorOptimizeQueryOperationJoinConnected=U},"../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/ActorOptimizeQueryOperationJoinConnected.js"),Z)},"../node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationAsk=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"ask")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=await this.mediatorQueryOperation.mediate({operation:J.input,context:Y}),{bindingsStream:Q}=W.ActorQueryOperation.getSafeBindings(D);return{type:"boolean",execute:async()=>(await Q.take(1).toArray()).length===1}}}Z.ActorQueryOperationAsk=F},"../node_modules/@comunica/actor-query-operation-ask/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js"),Z)},"../node_modules/@comunica/actor-query-operation-bgp-join/lib/ActorQueryOperationBgpJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationBgpJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"bgp")}async testOperation(Y,D){return!0}async runOperation(Y,D){return this.mediatorQueryOperation.mediate({operation:U.FACTORY.createJoin(Y.patterns),context:D})}}Z.ActorQueryOperationBgpJoin=U,U.FACTORY=new F.Factory},"../node_modules/@comunica/actor-query-operation-bgp-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-bgp-join/lib/ActorQueryOperationBgpJoin.js"),Z)},"../node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationConstruct=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/rdf-terms/index.js"),J=G("sparqlalgebrajs"),Y=G("../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js");class D extends W.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"construct")}static getVariables(ee){return(0,U.uniqTerms)([].concat.apply([],ee.map(q=>(0,U.getVariables)((0,U.getTerms)(q)))))}async testOperation(ee,q){return!0}async runOperation(ee,q){const te=D.getVariables(ee.template),ie={type:J.Algebra.types.PROJECT,input:ee.input,variables:te},ne=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ie,context:q})),ce=q.get(F.KeysQueryOperation.localizeBlankNodes),le=ce!==void 0?ce:!0,se=new Y.BindingsToQuadsIterator(ee.template,ne.bindingsStream,le);return{metadata:()=>ne.metadata().then(ue=>({...ue,order:void 0,cardinality:{type:ue.cardinality.type,value:ue.cardinality.value*ee.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:se,type:"quads"}}}Z.ActorQueryOperationConstruct=D},"../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BindingsToQuadsIterator=void 0;const W=G("asynciterator"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("../node_modules/rdf-terms/index.js"),J=new F.DataFactory;class Y extends W.MultiTransformIterator{constructor(Q,ee,q=!0){super(ee,{autoStart:!1}),this.template=Q,this.localizeBlankNodes=q,this.blankNodeCounter=0}static bindTerm(Q,ee){return ee.termType==="Variable"?Q.get(ee):ee}static bindQuad(Q,ee){try{return(0,U.mapTerms)(ee,q=>{const te=Y.bindTerm(Q,q);if(!te)throw new Error("Unbound term");return te})}catch{}}static localizeBlankNode(Q,ee){return ee.termType==="BlankNode"?J.blankNode(`${ee.value}${Q}`):ee}static localizeQuad(Q,ee){return(0,U.mapTerms)(ee,q=>Y.localizeBlankNode(Q,q))}bindTemplate(Q,ee,q){let te=ee.map(ie=>Y.bindQuad.bind(null,Q)(ie)).filter(Boolean);return this.localizeBlankNodes&&(te=te.map(Y.localizeQuad.bind(null,q))),te}_createTransformer(Q){return new W.ArrayIterator(this.bindTemplate(Q,this.template,this.blankNodeCounter++))}}Z.BindingsToQuadsIterator=Y},"../node_modules/@comunica/actor-query-operation-construct/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js"),Z),F(G("../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js"),Z)},"../node_modules/@comunica/actor-query-operation-describe-subject/lib/ActorQueryOperationDescribeSubject.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationDescribeSubject=void 0;const W=G("../node_modules/@comunica/actor-query-operation-union/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=G("../node_modules/rdf-data-factory/index.js"),D=G("sparqlalgebrajs"),Q=new Y.DataFactory;class ee extends F.ActorQueryOperationTypedMediated{constructor(te){super(te,"describe")}async testOperation(te,ie){return!0}async runOperation(te,ie){const ne=te.terms.filter(ue=>ue.termType!=="Variable").map(ue=>{const ae=[Q.quad(ue,Q.variable("__predicate"),Q.variable("__object"))];return ae.forEach(be=>be.type="pattern"),{input:{type:D.Algebra.types.BGP,patterns:ae},template:ae,type:"construct"}});if(ne.length!==te.terms.length){let ue=[];te.terms.filter(ae=>ae.termType==="Variable").forEach((ae,de)=>{const be=[Q.quad(ae,Q.variable(`__predicate${de}`),Q.variable(`__object${de}`))];be.forEach(he=>he.type="pattern"),ue=[...ue,...be]}),ne.push({input:{type:D.Algebra.types.JOIN,input:[te.input,{type:D.Algebra.types.BGP,patterns:ue}]},template:ue,type:D.Algebra.types.CONSTRUCT})}const ce=ie.get(U.KeysQueryOperation.localizeBlankNodes);ie=ie.set(U.KeysQueryOperation.localizeBlankNodes,ce!==void 0?ce:!1);const le=(await Promise.all(ne.map(ue=>this.mediatorQueryOperation.mediate({operation:ue,context:ie})))).map(F.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new J.UnionIterator(le.map(ue=>ue.quadStream),{autoStart:!1}),metadata:()=>Promise.all(le.map(ue=>ue.metadata())).then(ue=>W.ActorQueryOperationUnion.unionMetadata(ue,!1))}}}Z.ActorQueryOperationDescribeSubject=ee},"../node_modules/@comunica/actor-query-operation-describe-subject/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-describe-subject/lib/ActorQueryOperationDescribeSubject.js"),Z)},"../node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationDistinctHash=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"distinct")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:J.input,context:Y}));return{type:"bindings",bindingsStream:D.bindingsStream.filter(await this.newHashFilter(Y)),metadata:D.metadata}}async newHashFilter(J){const{hashFunction:Y}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:J}),D={};return Q=>{const ee=Y(Q);return!(ee in D)&&(D[ee]=!0)}}}Z.ActorQueryOperationDistinctHash=F},"../node_modules/@comunica/actor-query-operation-distinct-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js"),Z)},"../node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationExtend=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/sparqlee/dist/index.js");class J extends F.ActorQueryOperationTypedMediated{constructor(D){super(D,"extend")}async testOperation(D,Q){return new U.AsyncEvaluator(D.expression,F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)),!0}async runOperation(D,Q){const{expression:ee,input:q,variable:te}=D,ie=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:q,context:Q})),ne={...F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)},ce=new U.AsyncEvaluator(ee,ne),le=async(pe,ue,ae)=>{try{const de=await ce.evaluate(pe),be=pe.set(te,de);ae(be)}catch(de){(0,U.isExpressionError)(de)?(ae(pe),this.logWarn(Q,`Expression error for extend operation with bindings '${(0,W.bindingsToString)(pe)}'`)):se.emit("error",de)}ue()},se=ie.bindingsStream.transform({autoStart:!1,transform:le});return{type:"bindings",bindingsStream:se,async metadata(){const pe=await ie.metadata();return{...pe,variables:[...pe.variables,te]}}}}}Z.ActorQueryOperationExtend=J},"../node_modules/@comunica/actor-query-operation-extend/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js"),Z)},"../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/ActorQueryOperationFilterSparqlee.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationFilterSparqlee=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/sparqlee/dist/index.js");class J extends F.ActorQueryOperationTypedMediated{constructor(D){super(D,"filter")}async testOperation(D,Q){const ee={...F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)};return new U.AsyncEvaluator(D.expression,ee),!0}async runOperation(D,Q){const ee=await this.mediatorQueryOperation.mediate({operation:D.input,context:Q}),q=F.ActorQueryOperation.getSafeBindings(ee);F.ActorQueryOperation.validateQueryOutput(q,"bindings");const te={...F.ActorQueryOperation.getAsyncExpressionContext(Q,this.mediatorQueryOperation)},ie=new U.AsyncEvaluator(D.expression,te),ne=async(le,se,pe)=>{try{await ie.evaluateAsEBV(le)&&pe(le)}catch(ue){(0,U.isExpressionError)(ue)?this.logWarn(Q,"Error occurred while filtering.",()=>({error:ue,bindings:(0,W.bindingsToString)(le)})):ce.emit("error",ue)}se()},ce=q.bindingsStream.transform({transform:ne});return{type:"bindings",bindingsStream:ce,metadata:q.metadata}}}Z.ActorQueryOperationFilterSparqlee=J},"../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/ActorQueryOperationFilterSparqlee.js"),Z)},"../node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationFromQuad=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"from")}static copyOperation(Y,D){const Q={};for(const ee of Object.keys(Y))Array.isArray(Y[ee])&&ee!=="template"?ee==="variables"?Q[ee]=Y[ee]:Q[ee]=Y[ee].map(D):U.ALGEBRA_TYPES.includes(Y[ee].type)?Q[ee]=D(Y[ee]):Q[ee]=Y[ee];return Q}static applyOperationDefaultGraph(Y,D){if(Y.type==="bgp"&&Y.patterns.length>0||Y.type==="path"||Y.type==="pattern"){if(Y.type==="bgp")return U.joinOperations(Y.patterns.map(ee=>{if(ee.graph.termType!=="DefaultGraph")return U.FACTORY.createBgp([ee]);const q=D.map(te=>U.FACTORY.createBgp([U.FACTORY.createPattern(ee.subject,ee.predicate,ee.object,te)]));return U.unionOperations(q)}));if(Y.graph.termType!=="DefaultGraph")return Y;const Q=D.map(ee=>Y.type==="path"?U.FACTORY.createPath(Y.subject,Y.predicate,Y.object,ee):U.FACTORY.createPattern(Y.subject,Y.predicate,Y.object,ee));return U.unionOperations(Q)}return U.copyOperation(Y,Q=>this.applyOperationDefaultGraph(Q,D))}static applyOperationNamedGraph(Y,D,Q){if(Y.type==="bgp"&&Y.patterns.length>0||Y.type==="path"||Y.type==="pattern"){const ee=Y.type==="bgp"?Y.patterns[0].graph:Y.graph;if(ee.termType==="DefaultGraph")return{type:F.Algebra.types.BGP,patterns:[]};if(ee.termType==="Variable"){if(D.length===1){const te=D[0],ie={};ie[`?${ee.value}`]=te;const ne=U.FACTORY.createValues([ee],[ie]);let ce;return Y.type==="bgp"?ce=U.FACTORY.createBgp(Y.patterns.map(le=>U.FACTORY.createPattern(le.subject,le.predicate,le.object,te))):Y.type==="path"?ce=U.FACTORY.createPath(Y.subject,Y.predicate,Y.object,te):ce=U.FACTORY.createPattern(Y.subject,Y.predicate,Y.object,te),U.FACTORY.createJoin([ne,ce])}return U.unionOperations(D.map(te=>U.applyOperationNamedGraph(Y,[te],Q)))}return[...D,...Q].some(te=>te.equals(ee))?Y:{type:F.Algebra.types.BGP,patterns:[]}}return U.copyOperation(Y,ee=>this.applyOperationNamedGraph(ee,D,Q))}static joinOperations(Y){if(Y.length===1)return Y[0];if(Y.length>1)return U.FACTORY.createJoin(Y);throw new Error("A join can only be applied on at least one operation")}static unionOperations(Y){if(Y.length===1)return Y[0];if(Y.length>1)return U.FACTORY.createUnion(Y);throw new Error("A union can only be applied on at least one operation")}static createOperation(Y){let D=Y.input;return Y.default.length>0&&(D=U.applyOperationDefaultGraph(D,Y.default)),(Y.named.length>0||Y.default.length>0)&&(D=U.applyOperationNamedGraph(D,Y.named,Y.default)),D}async testOperation(Y,D){return!0}async runOperation(Y,D){const Q=U.createOperation(Y);return this.mediatorQueryOperation.mediate({operation:Q,context:D})}}Z.ActorQueryOperationFromQuad=U,U.FACTORY=new F.Factory,U.ALGEBRA_TYPES=Object.keys(F.Algebra.types).map(J=>F.Algebra.types[J])},"../node_modules/@comunica/actor-query-operation-from-quad/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js"),Z)},"../node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationGroup=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("asynciterator"),U=G("../node_modules/sparqlee/dist/index.js"),J=G("../node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js");class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"group")}async testOperation(Q,ee){for(const q of Q.aggregates)new U.AsyncEvaluator(q.expression,W.ActorQueryOperation.getAsyncExpressionContext(ee));return!0}async runOperation(Q,ee){const{hashFunction:q}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:ee}),{input:te,aggregates:ie}=Q,ne=await this.mediatorQueryOperation.mediate({operation:te,context:ee}),ce=W.ActorQueryOperation.getSafeBindings(ne),le=[...Q.variables,...ie.map(ue=>ue.variable)],se=W.ActorQueryOperation.getAsyncExpressionContext(ee);return{type:"bindings",bindingsStream:new F.TransformIterator(()=>new Promise((ue,ae)=>{const de=new J.GroupsState(q,Q,se);ce.bindingsStream.on("end",async()=>{try{const be=new F.ArrayIterator(await de.collectResults(),{autoStart:!1});ue(be)}catch(be){ae(be)}}),ce.bindingsStream.on("error",ae),ce.bindingsStream.on("data",be=>{de.consumeBindings(be).catch(ae)})}),{autoStart:!1}),metadata:async()=>({...await ce.metadata(),variables:le})}}}Z.ActorQueryOperationGroup=Y},"../node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.GroupsState=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("../node_modules/sparqlee/dist/index.js"),J=new F.DataFactory,Y=new W.BindingsFactory;class D{constructor(ee,q,te){this.hashFunction=ee,this.pattern=q,this.sparqleeConfig=te,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(ie=>ie.value)),this.distinctHashes=q.aggregates.some(({distinct:ie})=>ie)?new Map:null,this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(ee){const q=this.resultCheck();if(q)return q;this.waitCounter++;const te=ee.filter((le,se)=>this.groupVariables.has(se.value)),ie=this.hashBindings(te);let ne=this.groupsInitializer.get(ie),ce;if(!ne)ne=(async()=>{const le={};if(await Promise.all(this.pattern.aggregates.map(async pe=>{const ue=pe.variable.value;le[ue]=new U.AsyncAggregateEvaluator(pe,this.sparqleeConfig),await le[ue].put(ee)})),this.distinctHashes){const pe=this.hashBindings(ee);this.distinctHashes.set(ie,new Set([pe]))}const se={aggregators:le,bindings:te};return this.groups.set(ie,se),this.subtractWaitCounterAndCollect(),se})(),this.groupsInitializer.set(ie,ne),ce=ne;else{const le=ne;ce=(async()=>{const se=await le;await Promise.all(this.pattern.aggregates.map(async pe=>{if(pe.distinct){const ae=this.hashBindings(ee);if(this.distinctHashes.get(ie).has(ae))return;this.distinctHashes.get(ie).add(ae)}const ue=pe.variable.value;await se.aggregators[ue].put(ee)}))})().then(()=>{this.subtractWaitCounterAndCollect()})}return ce}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let ee=[...this.groups].map(([q,te])=>{const{bindings:ie,aggregators:ne}=te;let ce=ie;for(const le in ne){const se=ne[le].result();se&&(ce=ce.set(J.variable(le),se))}return ce});if(ee.length===0&&this.groupVariables.size===0){const q=[];for(const te of this.pattern.aggregates){const ie=te.variable,ne=U.AsyncAggregateEvaluator.emptyValue(te);ne!==void 0&&q.push([ie,ne])}ee=[Y.bindings(q)]}this.waitResolver(ee)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const ee=this.resultCheck();if(ee)return ee;this.resultHasBeenCalled=!0;const q=new Promise(te=>{this.waitResolver=te});return this.subtractWaitCounterAndCollect(),q}hashBindings(ee){return this.hashFunction(ee)}}Z.GroupsState=D},"../node_modules/@comunica/actor-query-operation-group/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js"),Z)},"../node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"join")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=(await Promise.all(J.input.map(async Q=>({output:await this.mediatorQueryOperation.mediate({operation:Q,context:Y}),operation:Q})))).map(({output:Q,operation:ee})=>({output:W.ActorQueryOperation.getSafeBindings(Q),operation:ee}));return this.mediatorJoin.mediate({type:"inner",entries:D,context:Y})}}Z.ActorQueryOperationJoin=F},"../node_modules/@comunica/actor-query-operation-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js"),Z)},"../node_modules/@comunica/actor-query-operation-leftjoin/lib/ActorQueryOperationLeftJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationLeftJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/sparqlee/dist/index.js");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"leftjoin")}async testOperation(Y,D){return!0}async runOperation(Y,D){const Q=(await Promise.all(Y.input.map(async q=>({output:await this.mediatorQueryOperation.mediate({operation:q,context:D}),operation:q})))).map(({output:q,operation:te})=>({output:W.ActorQueryOperation.getSafeBindings(q),operation:te})),ee=await this.mediatorJoin.mediate({type:"optional",entries:Q,context:D});if(Y.expression){const te=(await Q[1].output.metadata()).variables,ie={...W.ActorQueryOperation.getAsyncExpressionContext(D)},ne=new F.AsyncEvaluator(Y.expression,ie),ce=ee.bindingsStream.transform({autoStart:!1,transform:async(le,se,pe)=>{if(!te.every(ue=>le.has(ue.value)))return pe(le),se();try{await ne.evaluateAsEBV(le)&&pe(le)}catch(ue){(0,F.isExpressionError)(ue)?this.logWarn(D,"Error occurred while filtering.",()=>({error:ue,bindings:le})):ce.emit("error",ue)}se()}});ee.bindingsStream=ce}return ee}}Z.ActorQueryOperationLeftJoin=U},"../node_modules/@comunica/actor-query-operation-leftjoin/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-leftjoin/lib/ActorQueryOperationLeftJoin.js"),Z)},"../node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationMinus=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"minus")}async testOperation(J,Y){return!0}async runOperation(J,Y){const D=(await Promise.all(J.input.map(async Q=>({output:await this.mediatorQueryOperation.mediate({operation:Q,context:Y}),operation:Q})))).map(({output:Q,operation:ee})=>({output:W.ActorQueryOperation.getSafeBindings(Q),operation:ee}));return this.mediatorJoin.mediate({type:"minus",entries:D,context:Y})}}Z.ActorQueryOperationMinus=F},"../node_modules/@comunica/actor-query-operation-minus/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js"),Z)},"../node_modules/@comunica/actor-query-operation-nop/lib/ActorQueryOperationNop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationNop=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("asynciterator"),J=new W.BindingsFactory;class Y extends F.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"nop")}async testOperation(Q,ee){return!0}async runOperation(Q,ee){return{bindingsStream:new U.SingletonIterator(J.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}Z.ActorQueryOperationNop=Y},"../node_modules/@comunica/actor-query-operation-nop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-nop/lib/ActorQueryOperationNop.js"),Z)},"../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/ActorQueryOperationOrderBySparqlee.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationOrderBySparqlee=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs"),U=G("../node_modules/sparqlee/dist/index.js"),J=G("../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/SortIterator.js");class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"orderby"),this.window=Q.window??Number.POSITIVE_INFINITY}async testOperation(Q,ee){for(let q of Q.expressions)q=this.extractSortExpression(q),new U.AsyncEvaluator(q,W.ActorQueryOperation.getAsyncExpressionContext(ee));return!0}async runOperation(Q,ee){const q=await this.mediatorQueryOperation.mediate({operation:Q.input,context:ee}),te=W.ActorQueryOperation.getSafeBindings(q),ie={window:this.window},ne={...W.ActorQueryOperation.getAsyncExpressionContext(ee)};let{bindingsStream:ce}=te;for(let le=Q.expressions.length-1;le>=0;le--){let se=Q.expressions[le];const pe=this.isAscending(se);se=this.extractSortExpression(se);const ue=new U.AsyncEvaluator(se,ne),ae=async(he,Le,Xe)=>{try{const We=await ue.evaluate(he);Xe({bindings:he,result:We})}catch(We){(0,U.isExpressionError)(We)||ce.emit("error",We),Xe({bindings:he,result:void 0})}Le()},de=ce.transform({transform:ae});ce=new J.SortIterator(de,(he,Le)=>(0,U.orderTypes)(he.result,Le.result,pe),ie).map(({bindings:he,result:Le})=>he)}return{type:"bindings",bindingsStream:ce,metadata:te.metadata}}extractSortExpression(Q){const{expressionType:ee,operator:q}=Q;return ee!==F.Algebra.expressionTypes.OPERATOR?Q:q==="desc"?Q.args[0]:Q}isAscending(Q){const{expressionType:ee,operator:q}=Q;return ee!==F.Algebra.expressionTypes.OPERATOR?!0:q!=="desc"}}Z.ActorQueryOperationOrderBySparqlee=Y},"../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/SortIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SortIterator=void 0;const W=G("asynciterator");class F extends W.TransformIterator{constructor(J,Y,D){super(J,D);const Q=D&&D.window;this.windowLength=Number.isFinite(Q)&&Q>0?Q:Number.POSITIVE_INFINITY,this.sort=Y,this.sorted=[]}_read(J,Y){let D,{length:Q}=this.sorted;for(;Q!==this.windowLength&&(D=this.source.read(),D!==null);){let ee=0,q=Q-1,te,ie;for(;ee<=q;)te=Math.trunc((ee+q)/2),ie=this.sort(D,this.sorted[te]),ie<0?ee=te+1:ie>0?q=te-1:(ee=te,q=-1);this.sorted.splice(ee,0,D),Q++}Q===this.windowLength&&this._push(this.sorted.pop()),Y()}_flush(J){let{length:Y}=this.sorted;for(;Y--;)this._push(this.sorted.pop());J()}}Z.SortIterator=F},"../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/ActorQueryOperationOrderBySparqlee.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathAlt=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/actor-query-operation-union/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs");class D extends W.ActorAbstractPath{constructor(ee){super(ee,Y.Algebra.types.ALT)}async runOperation(ee,q){const te=ee.predicate,ie=(await Promise.all(te.input.map(le=>this.mediatorQueryOperation.mediate({context:q,operation:W.ActorAbstractPath.FACTORY.createPath(ee.subject,le,ee.object,ee.graph)})))).map(U.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new J.UnionIterator(ie.map(le=>le.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(ie.map(le=>le.metadata())).then(le=>F.ActorQueryOperationUnion.unionMetadata(le,!0))}}}Z.ActorQueryOperationPathAlt=D},"../node_modules/@comunica/actor-query-operation-path-alt/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathInv=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorAbstractPath{constructor(Y){super(Y,F.Algebra.types.INV)}async runOperation(Y,D){const Q=Y.predicate,ee=W.ActorAbstractPath.FACTORY.createPath(Y.object,Q.path,Y.subject,Y.graph);return this.mediatorQueryOperation.mediate({operation:ee,context:D})}}Z.ActorQueryOperationPathInv=U},"../node_modules/@comunica/actor-query-operation-path-inv/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathLink=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorAbstractPath{constructor(Y){super(Y,F.Algebra.types.LINK)}async runOperation(Y,D){const Q=Y.predicate,ee=W.ActorAbstractPath.FACTORY.createPattern(Y.subject,Q.iri,Y.object,Y.graph);return this.mediatorQueryOperation.mediate({operation:ee,context:D})}}Z.ActorQueryOperationPathLink=U},"../node_modules/@comunica/actor-query-operation-path-link/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathNps=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("sparqlalgebrajs");class J extends W.ActorAbstractPath{constructor(D){super(D,U.Algebra.types.NPS)}async runOperation(D,Q){const ee=D.predicate,q=this.generateVariable(D),te=W.ActorAbstractPath.FACTORY.createPattern(D.subject,q,D.object,D.graph),ie=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:te,context:Q}));return{type:"bindings",bindingsStream:ie.bindingsStream.transform({filter(ce){return!ee.iris.some(le=>le.equals(ce.get(q)))},transform(ce,le,se){se(ce.delete(q)),le()}}),metadata:ie.metadata}}}Z.ActorQueryOperationPathNps=J},"../node_modules/@comunica/actor-query-operation-path-nps/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathOneOrMore=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs"),D=new F.BindingsFactory;class Q extends W.ActorAbstractPath{constructor(q){super(q,Y.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(q,te){const ie=await this.isPathArbitraryLengthDistinct(te,q);if(ie.operation)return ie.operation;te=ie.context;const ne=q.predicate;if(q.subject.termType!=="Variable"&&q.object.termType==="Variable"){const pe=q.object,ue=await this.getObjectsPredicateStarEval(q.subject,ne.path,pe,q.graph,te,!1),ae=q.graph.termType==="Variable"?[pe,q.graph]:[pe];return{type:"bindings",bindingsStream:ue.bindingsStream,metadata:async()=>({...await ue.metadata(),variables:ae})}}if(q.subject.termType==="Variable"&&q.object.termType==="Variable"){const pe=W.ActorAbstractPath.FACTORY.createDistinct(W.ActorAbstractPath.FACTORY.createPath(q.subject,q.predicate.path,q.object,q.graph)),ue=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:te,operation:pe})),ae=q.subject,de=q.object,be={},he=new J.MultiTransformIterator(ue.bindingsStream,{multiTransform:Xe=>{const We=Xe.get(ae),fe=Xe.get(de),Re=q.graph.termType==="Variable"?Xe.get(q.graph):q.graph;return new J.TransformIterator(async()=>{const ye=new J.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(ae,de,We,fe,ne.path,Re,te,be,{},ye,{count:0}),ye.transform({transform(re,Ze,Ge){q.graph.termType==="Variable"&&(re=re.set(q.graph,Re)),Ge(re),Ze()}})},{maxBufferSize:128})},autoStart:!1}),Le=q.graph.termType==="Variable"?[ae,de,q.graph]:[ae,de];return{type:"bindings",bindingsStream:he,metadata:async()=>({...await ue.metadata(),variables:Le})}}if(q.subject.termType==="Variable"&&q.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:te,operation:W.ActorAbstractPath.FACTORY.createPath(q.object,W.ActorAbstractPath.FACTORY.createOneOrMorePath(W.ActorAbstractPath.FACTORY.createInv(ne.path)),q.subject,q.graph)});const ce=this.generateVariable(),le=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:te,operation:W.ActorAbstractPath.FACTORY.createPath(q.subject,ne,ce,q.graph)}));return{type:"bindings",bindingsStream:le.bindingsStream.transform({filter:pe=>q.object.equals(pe.get(ce)),transform(pe,ue,ae){const de=q.graph.termType==="Variable"?D.bindings([[q.graph,pe.get(q.graph)]]):D.bindings();ae(de),ue()}}),metadata:async()=>({...await le.metadata(),variables:q.graph.termType==="Variable"?[q.graph]:[]})}}}Z.ActorQueryOperationPathOneOrMore=Q},"../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathSeq=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("sparqlalgebrajs");class J extends W.ActorAbstractPath{constructor(D){super(D,U.Algebra.types.SEQ)}async runOperation(D,Q){const ee=D.predicate;let q=D.subject;const te=[],ie=await Promise.all(ee.input.map((le,se)=>{const pe=se===ee.input.length-1?D.object:this.generateVariable(D,`b${se}`),ue=W.ActorAbstractPath.FACTORY.createPath(q,le,pe,D.graph),ae=this.mediatorQueryOperation.mediate({context:Q,operation:ue});return q=pe,se<ee.input.length-1&&te.push(pe),{output:ae,operation:ue}}).map(async({output:le,operation:se})=>({output:F.ActorQueryOperation.getSafeBindings(await le),operation:se}))),ne=F.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:ie,context:Q}));return{type:"bindings",bindingsStream:ne.bindingsStream.transform({transform(le,se,pe){for(const ue of te)le=le.delete(ue);pe(le),se()}}),async metadata(){const le=await ne.metadata(),se=le.variables.filter(pe=>!te.some(ue=>ue.value===pe.value));return{...le,variables:se}}}}}Z.ActorQueryOperationPathSeq=J},"../node_modules/@comunica/actor-query-operation-path-seq/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathZeroOrMore=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("../node_modules/rdf-string/index.js"),D=G("sparqlalgebrajs"),Q=new F.BindingsFactory;class ee extends W.ActorAbstractPath{constructor(te){super(te,D.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(te,ie){const ne=await this.isPathArbitraryLengthDistinct(ie,te);if(ne.operation)return ne.operation;ie=ne.context;const ce=te.predicate,le=te.subject.termType==="Variable",se=te.object.termType==="Variable";if(te.subject.termType==="Variable"&&te.object.termType==="Variable"){const he=this.generateVariable(te),Le=W.ActorAbstractPath.FACTORY.createPattern(te.subject,he,te.object,te.graph),Xe=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:ie,operation:Le})),We=te.subject,fe=te.object,Re=new Set,ye={},re=new J.MultiTransformIterator(Xe.bindingsStream,{multiTransform:Ge=>{const ve=Ge.get(We),Te=Ge.get(fe),xe=te.graph.termType==="Variable"?Ge.get(te.graph):te.graph,Ie=(0,Y.termToString)(ve)+(0,Y.termToString)(xe),Se=(0,Y.termToString)(Te)+(0,Y.termToString)(xe);return new J.TransformIterator(async()=>{if(Re.has(Ie)&&Re.has(Se))return new J.EmptyIterator;const Ne=new J.BufferedIterator,je={count:0};return Re.has(Ie)||(Re.add(Ie),await this.getSubjectAndObjectBindingsPredicateStar(We,fe,ve,ve,ce.path,xe,ie,ye,{},Ne,je)),Re.has(Se)||(Re.add(Se),await this.getSubjectAndObjectBindingsPredicateStar(We,fe,Te,Te,ce.path,xe,ie,ye,{},Ne,je)),Ne.transform({transform(tt,it,st){te.graph.termType==="Variable"&&(tt=tt.set(te.graph,xe)),st(tt),it()}})})}}),Ze=te.graph.termType==="Variable"?[We,te.object,te.graph]:[We,te.object];return{type:"bindings",bindingsStream:re,metadata:async()=>({...await Xe.metadata(),variables:Ze})}}if(!le&&!se){const he=this.generateVariable(),Le=await this.getObjectsPredicateStarEval(te.subject,ce.path,he,te.graph,ie,!0);return{type:"bindings",bindingsStream:Le.bindingsStream.transform({filter:We=>te.object.equals(We.get(he)),transform(We,fe,Re){const ye=te.graph.termType==="Variable"?Q.bindings([[te.graph,We.get(te.graph)]]):Q.bindings();Re(ye),fe()}}),metadata:async()=>({...await Le.metadata(),variables:te.graph.termType==="Variable"?[te.graph]:[]})}}const pe=le?te.object:te.subject,ue=le?te.subject:te.object,ae=le?W.ActorAbstractPath.FACTORY.createInv(ce.path):ce.path,de=await this.getObjectsPredicateStarEval(pe,ae,ue,te.graph,ie,!0),be=te.graph.termType==="Variable"?[ue,te.graph]:[ue];return{type:"bindings",bindingsStream:de.bindingsStream,metadata:async()=>({...await de.metadata(),variables:be})}}}Z.ActorQueryOperationPathZeroOrMore=ee},"../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js"),Z)},"../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationPathZeroOrOne=void 0;const W=G("../node_modules/@comunica/actor-abstract-path/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs"),D=new F.BindingsFactory;class Q extends W.ActorAbstractPath{constructor(q){super(q,Y.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(q,te){const ie=q.predicate,ne=q.subject.termType==="Variable",ce=q.object.termType==="Variable",le=[];if(!ne&&!ce&&q.subject.equals(q.object))return{type:"bindings",bindingsStream:new J.SingletonIterator(D.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};if(ne&&ce)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");const se=await this.isPathArbitraryLengthDistinct(te,q);if(se.operation)return se.operation;te=se.context,q.subject.termType==="Variable"&&le.push(D.bindings([[q.subject,q.object]])),q.object.termType==="Variable"&&le.push(D.bindings([[q.object,q.subject]]));const pe=U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:te,operation:W.ActorAbstractPath.FACTORY.createPath(q.subject,ie.path,q.object,q.graph)}));return{type:"bindings",bindingsStream:pe.bindingsStream.prepend(le),metadata:pe.metadata}}}Z.ActorQueryOperationPathZeroOrOne=Q},"../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js"),Z)},"../node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationProject=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/data-factory/lib/index.js"),U=G("../node_modules/rdf-data-factory/index.js"),J=new U.DataFactory;class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"project")}async testOperation(Q,ee){return!0}async runOperation(Q,ee){const q=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Q.input,context:ee})),te=await q.metadata(),ie=Q.variables,ne=te.variables.filter(pe=>!ie.some(ue=>pe.value===ue.value)),ce=ie.filter(pe=>!te.variables.some(ue=>pe.value===ue.value));if(ce.length>0)throw new Error(`Variables '${ce.map(pe=>`?${pe.value}`)}' are used in the projection result, but are not assigned.`);let le=ne.length===0?q.bindingsStream:q.bindingsStream.transform({map(pe){for(const ue of ne)pe=pe.delete(ue);return pe},autoStart:!1}),se=0;return le=le.transform({map(pe){se++;const ue=new Map;return pe.map(ae=>{if(ae instanceof F.BlankNodeBindingsScoped){let de=ue.get(ae.value);return de||(de=J.blankNode(`${ae.value}${se}`),ue.set(ae.value,de)),de}return ae})},autoStart:!1}),{type:"bindings",bindingsStream:le,metadata:async()=>({...te,variables:ie})}}}Z.ActorQueryOperationProject=Y},"../node_modules/@comunica/actor-query-operation-project/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js"),Z)},"../node_modules/@comunica/actor-query-operation-quadpattern/lib/ActorQueryOperationQuadpattern.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationQuadpattern=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("../node_modules/rdf-data-factory/index.js"),Y=G("../node_modules/rdf-terms/index.js"),D=G("sparqlalgebrajs"),Q=new W.BindingsFactory,ee=new J.DataFactory,q=new D.Factory;class te extends F.ActorQueryOperationTyped{constructor(ne){super(ne,"pattern")}static isTermVariable(ne){return ne.termType==="Variable"}static getVariables(ne){return(0,Y.uniqTerms)((0,Y.getTerms)(ne).filter(te.isTermVariable))}static getDuplicateElementLinks(ne){const ce={};let le=!1;for(const pe of Y.QUAD_TERM_NAMES)if(ne[pe].termType==="Variable"){const ue=ne[pe].value,ae=(ce[ue]||(ce[ue]=[])).push(pe);le=le||ae>1}if(!le)return;const se={};for(const pe in ce){const ue=ce[pe],ae=ue.slice(1);ae.length>0&&(se[ue[0]]=ae)}return se}static validateMetadata(ne){for(const ce of["cardinality","canContainUndefs"])if(!(ce in ne))throw new Error(`Invalid metadata: missing ${ce} in ${JSON.stringify(ne)}`);return ne}static getMetadata(ne,ce,le){return()=>new Promise((se,pe)=>{ne.getProperty("metadata",ue=>se(ue)),ne.on("error",pe)}).then(se=>("canContainUndefs"in se||(se.canContainUndefs=!1),te.quadsMetadataToBindingsMetadata(te.validateMetadata(se),ce,le)))}static quadsMetadataToBindingsMetadata(ne,ce,le){return{...ne,order:ne.order?te.quadsOrderToBindingsOrder(ne.order,ce):void 0,availableOrders:ne.availableOrders?ne.availableOrders.map(se=>({cost:se.cost,terms:te.quadsOrderToBindingsOrder(se.terms,ce)})):void 0,variables:le}}static quadsOrderToBindingsOrder(ne,ce){const le={};return ne.map(se=>{const pe=ce[se.term];if(pe&&!le[pe])return le[pe]=!0,{term:ee.variable(pe),direction:se.direction}}).filter(se=>!!se)}async testOperation(ne,ce){return!0}async runOperation(ne,ce){ne.context&&(ce=ce.merge(ne.context));let le=ne;const se=this.unionDefaultGraph||ce.get(U.KeysQueryOperation.unionDefaultGraph);ne.graph.termType==="DefaultGraph"&&se&&(le=q.createPattern(ne.subject,ne.predicate,ne.object,ee.variable("__comunica:defaultGraph")));const pe=await this.mediatorResolveQuadPattern.mediate({pattern:le,context:ce}),ue=te.getVariables(ne),ae=(0,Y.reduceTerms)(ne,(Le,Xe,We)=>(Xe.termType==="Variable"&&(Le[We]=Xe.value),Le),{}),de=(Le,Xe,We)=>{const fe=ae[We];return fe&&Le.push([ee.variable(fe),Xe]),Le},be=te.getMetadata(pe.data,ae,ue);return{type:"bindings",bindingsStream:new F.ClosableTransformIterator(async()=>{let Le=pe.data;const Xe=te.getDuplicateElementLinks(ne);return ne.graph.termType==="Variable"&&!se&&(Le=Le.filter(We=>We.graph.termType!=="DefaultGraph")),Xe&&(Le=Le.filter(We=>{for(const fe of Y.TRIPLE_TERM_NAMES)for(const Re of Xe[fe]||[])if(!We[fe].equals(We[Re]))return!1;return!0})),Le.map(We=>Q.bindings((0,Y.reduceTerms)(We,de,[])))},{autoStart:!1,onClose:()=>pe.data.destroy()}),metadata:be}}}Z.ActorQueryOperationQuadpattern=te},"../node_modules/@comunica/actor-query-operation-quadpattern/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-quadpattern/lib/ActorQueryOperationQuadpattern.js"),Z)},"../node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationReducedHash=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/actor-query-operation-reduced-hash/node_modules/lru-cache/index.js");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"reduced")}async testOperation(Y,D){return!0}async runOperation(Y,D){const Q=W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Y.input,context:D}));return{type:"bindings",bindingsStream:Q.bindingsStream.filter(await this.newHashFilter(D)),metadata:Q.metadata}}async newHashFilter(Y){const{hashFunction:D}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:Y}),Q=new F({max:this.cacheSize});return ee=>{const q=D(ee);return Q.has(q)?!1:(Q.set(q,!0),!0)}}}Z.ActorQueryOperationReducedHash=U},"../node_modules/@comunica/actor-query-operation-reduced-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js"),Z)},"../node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationService=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=new W.BindingsFactory;class D extends F.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"service")}async testOperation(ee,q){if(ee.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${ee.name.termType} was given.`);return!0}async runOperation(ee,q){const te=ee.name.value;let ie=q.delete(U.KeysRdfResolveQuadPattern.source).delete(U.KeysRdfResolveQuadPattern.sources).delete(U.KeysInitQuery.queryString);const ne=this.forceSparqlEndpoint?"sparql":void 0;ie=ie.set(U.KeysRdfResolveQuadPattern.sources,[{type:ne,value:te}]);let ce;try{ce=F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ee.input,context:ie}))}catch(le){if(ee.silent)ce={bindingsStream:new J.SingletonIterator(Y.bindings()),type:"bindings",metadata:async()=>({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};else throw le}return ce}}Z.ActorQueryOperationService=D},"../node_modules/@comunica/actor-query-operation-service/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js"),Z)},"../node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationSlice=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"slice")}async testOperation(Y,D){return!0}async runOperation(Y,D){Y.length&&(D=D.set(F.KeysQueryOperation.limitIndicator,Y.length));const Q=await this.mediatorQueryOperation.mediate({operation:Y.input,context:D});if(Q.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(Q.bindingsStream,Y),metadata:this.sliceMetadata(Q,Y)};if(Q.type==="quads")return{type:"quads",quadStream:this.sliceStream(Q.quadStream,Y),metadata:this.sliceMetadata(Q,Y)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${Q.type}'`)}sliceStream(Y,D){const Q=!!D.length||D.length===0,{start:ee}=D,q=Q?D.start+D.length-1:Number.POSITIVE_INFINITY;return Y.transform({offset:ee,limit:Math.max(q-ee+1,0),autoStart:!1})}sliceMetadata(Y,D){const Q=!!D.length||D.length===0;return()=>Y.metadata().then(ee=>{const q={...ee.cardinality};return Number.isFinite(q.value)&&(q.value=Math.max(0,q.value-D.start),Q&&(q.value=Math.min(q.value,D.length))),{...ee,cardinality:q}})}}Z.ActorQueryOperationSlice=U},"../node_modules/@comunica/actor-query-operation-slice/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js"),Z)},"../node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationUnion=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("asynciterator"),U=G("../node_modules/rdf-terms/index.js");class J extends W.ActorQueryOperationTypedMediated{constructor(D){super(D,"union")}static unionVariables(D){return(0,U.uniqTerms)(D.flat())}static unionMetadata(D,Q){const ee={type:"exact",value:0};for(const te of D)if(te.cardinality.value&&Number.isFinite(te.cardinality.value)||te.cardinality.value===0)te.cardinality.type==="estimate"&&(ee.type="estimate"),ee.value+=te.cardinality.value;else{ee.type="estimate",ee.value=Number.POSITIVE_INFINITY;break}const q={cardinality:ee,canContainUndefs:D.some(te=>te.canContainUndefs)};return Q&&(q.variables=J.unionVariables(D.map(te=>te.variables))),q}async testOperation(D,Q){return!0}async runOperation(D,Q){const ee=(await Promise.all(D.input.map(ie=>this.mediatorQueryOperation.mediate({operation:ie,context:Q})))).map(W.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new F.UnionIterator(ee.map(ie=>ie.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(ee.map(ie=>ie.metadata())).then(ie=>J.unionMetadata(ie,!0))}}}Z.ActorQueryOperationUnion=J},"../node_modules/@comunica/actor-query-operation-union/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/ActorQueryOperationAddRewrite.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationAddRewrite=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("sparqlalgebrajs"),J=new F.DataFactory;class Y extends W.ActorQueryOperationTypedMediated{constructor(Q){super(Q,"add"),this.factory=new U.Factory}async testOperation(Q,ee){return W.ActorQueryOperation.throwOnReadOnly(ee),!0}runOperation(Q,ee){const q=Q.destination==="DEFAULT"?J.defaultGraph():Q.destination,te=Q.source==="DEFAULT"?J.defaultGraph():Q.source,ie=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(J.variable("s"),J.variable("p"),J.variable("o"),q)],this.factory.createPattern(J.variable("s"),J.variable("p"),J.variable("o"),te));return this.mediatorQueryOperation.mediate({operation:ie,context:ee})}}Z.ActorQueryOperationAddRewrite=Y},"../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/ActorQueryOperationAddRewrite.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationClear=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=new F.DataFactory;class J extends W.ActorQueryOperationTypedMediated{constructor(D){super(D,"clear")}async testOperation(D,Q){return W.ActorQueryOperation.throwOnReadOnly(Q),!0}async runOperation(D,Q){let ee;D.source==="DEFAULT"?ee=U.defaultGraph():typeof D.source=="string"?ee=D.source:ee=[D.source];const{execute:q}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:ee,requireExistence:!D.silent,dropGraphs:!1},context:Q});return{type:"void",execute:q}}}Z.ActorQueryOperationClear=J},"../node_modules/@comunica/actor-query-operation-update-clear/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationUpdateCompositeUpdate=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"compositeupdate")}async testOperation(J,Y){return W.ActorQueryOperation.throwOnReadOnly(Y),!0}async runOperation(J,Y){return{type:"void",execute:()=>(async()=>{for(const Q of J.updates)await W.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:Q,context:Y})).execute()})()}}}Z.ActorQueryOperationUpdateCompositeUpdate=F},"../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/ActorQueryOperationCopyRewrite.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationCopyRewrite=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"copy"),this.factory=new F.Factory}async testOperation(Y,D){return W.ActorQueryOperation.throwOnReadOnly(D),!0}runOperation(Y,D){if(typeof Y.destination=="string"&&typeof Y.source=="string"&&Y.destination===Y.source||typeof Y.destination!="string"&&typeof Y.source!="string"&&Y.destination.equals(Y.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const Q=this.factory.createCompositeUpdate([this.factory.createDrop(Y.destination,!0),this.factory.createAdd(Y.source,Y.destination,Y.silent)]);return this.mediatorQueryOperation.mediate({operation:Q,context:D})}}Z.ActorQueryOperationCopyRewrite=U},"../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/ActorQueryOperationCopyRewrite.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationCreate=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js");class F extends W.ActorQueryOperationTypedMediated{constructor(J){super(J,"create")}async testOperation(J,Y){return W.ActorQueryOperation.throwOnReadOnly(Y),!0}async runOperation(J,Y){const{execute:D}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[J.source],requireNonExistence:!J.silent},context:Y});return{type:"void",execute:D}}}Z.ActorQueryOperationCreate=F},"../node_modules/@comunica/actor-query-operation-update-create/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationUpdateDeleteInsert=void 0;const W=G("../node_modules/@comunica/actor-query-operation-construct/lib/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/index.js"),U=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=G("asynciterator"),Y=new F.BindingsFactory;class D extends U.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"deleteinsert"),this.blankNodeCounter=0}async testOperation(ee,q){return U.ActorQueryOperation.throwOnReadOnly(q),!0}async runOperation(ee,q){const te=ee.where?U.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ee.where,context:q})).bindingsStream:new J.ArrayIterator([Y.bindings()],{autoStart:!1});let ie,ne;ee.insert&&(ie=new W.BindingsToQuadsIterator(ee.insert.map(W.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),te.clone(),!1),this.blankNodeCounter++),ee.delete&&(ne=new W.BindingsToQuadsIterator(ee.delete.map(W.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),te.clone(),!1),this.blankNodeCounter++);const{execute:ce}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:ie,quadStreamDelete:ne,context:q});return{type:"void",execute:ce}}}Z.ActorQueryOperationUpdateDeleteInsert=D},"../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationDrop=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=new F.DataFactory;class J extends W.ActorQueryOperationTypedMediated{constructor(D){super(D,"drop")}async testOperation(D,Q){return W.ActorQueryOperation.throwOnReadOnly(Q),!0}async runOperation(D,Q){let ee;D.source==="DEFAULT"?ee=U.defaultGraph():typeof D.source=="string"?ee=D.source:ee=[D.source];const{execute:q}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:ee,requireExistence:!D.silent,dropGraphs:!0},context:Q});return{type:"void",execute:q}}}Z.ActorQueryOperationDrop=J},"../node_modules/@comunica/actor-query-operation-update-drop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationLoad=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/rdf-data-factory/index.js"),J=G("sparqlalgebrajs"),Y=new U.DataFactory;class D extends W.ActorQueryOperationTypedMediated{constructor(ee){super(ee,"load"),this.factory=new J.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(Y.variable("s"),Y.variable("p"),Y.variable("o")),[this.factory.createPattern(Y.variable("s"),Y.variable("p"),Y.variable("o"))])}async testOperation(ee,q){return W.ActorQueryOperation.throwOnReadOnly(q),!0}async runOperation(ee,q){let te=q.set(F.KeysRdfResolveQuadPattern.sources,[ee.source.value]);ee.silent&&(te=te.set(F.KeysInitQuery.lenient,!0));let ne=D.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:te})).quadStream;ee.destination&&(ne=ne.map(le=>Y.quad(le.subject,le.predicate,le.object,ee.destination)));const{execute:ce}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:ne,context:q});return{type:"void",execute:ce}}}Z.ActorQueryOperationLoad=D},"../node_modules/@comunica/actor-query-operation-update-load/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js"),Z)},"../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/ActorQueryOperationMoveRewrite.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationMoveRewrite=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"move"),this.factory=new F.Factory}async testOperation(Y,D){return W.ActorQueryOperation.throwOnReadOnly(D),!0}runOperation(Y,D){if(typeof Y.destination=="string"&&typeof Y.source=="string"&&Y.destination===Y.source||typeof Y.destination!="string"&&typeof Y.source!="string"&&Y.destination.equals(Y.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const Q=[this.factory.createDrop(Y.destination,!0),this.factory.createAdd(Y.source,Y.destination,Y.silent),this.factory.createDrop(Y.source)],ee=this.factory.createCompositeUpdate(Q);return this.mediatorQueryOperation.mediate({operation:ee,context:D})}}Z.ActorQueryOperationMoveRewrite=U},"../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/ActorQueryOperationMoveRewrite.js"),Z)},"../node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationValues=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("asynciterator"),J=G("../node_modules/rdf-data-factory/index.js"),Y=new W.BindingsFactory,D=new J.DataFactory;class Q extends F.ActorQueryOperationTyped{constructor(q){super(q,"values")}async testOperation(q,te){return!0}async runOperation(q,te){const ie=new U.ArrayIterator(q.bindings.map(le=>Y.bindings(Object.entries(le).map(([se,pe])=>[D.variable(se.slice(1)),pe])))),ne=q.variables;return{type:"bindings",bindingsStream:ie,metadata:()=>Promise.resolve({cardinality:{type:"exact",value:q.bindings.length},canContainUndefs:q.bindings.some(le=>ne.some(se=>!(`?${se.value}`in le))),variables:ne})}}}Z.ActorQueryOperationValues=Q},"../node_modules/@comunica/actor-query-operation-values/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js"),Z)},"../node_modules/@comunica/actor-query-parse-sparql/lib/ActorQueryParseSparql.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryParseSparql=void 0;const W=G("../node_modules/@comunica/bus-query-parse/lib/index.js"),F=G("sparqlalgebrajs"),U=G("sparqljs");class J extends W.ActorQueryParse{constructor(D){super(D),this.prefixes=Object.freeze(this.prefixes)}async test(D){if(D.queryFormat&&D.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(D){const ee=new U.Parser({prefixes:this.prefixes,baseIRI:D.baseIRI}).parse(D.query);return{baseIRI:ee.type==="query"?ee.base:void 0,operation:(0,F.translate)(ee,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:D.baseIRI})}}}Z.ActorQueryParseSparql=J},"../node_modules/@comunica/actor-query-parse-sparql/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-query-parse-sparql/lib/ActorQueryParseSparql.js"),Z)},"../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/ActorRdfJoinEntriesSortCardinality.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinEntriesSortCardinality=void 0;const W=G("../node_modules/@comunica/bus-rdf-join-entries-sort/lib/index.js");class F extends W.ActorRdfJoinEntriesSort{constructor(J){super(J)}async test(J){return!0}async run(J){return{entries:[...J.entries].sort((D,Q)=>D.metadata.cardinality.value-Q.metadata.cardinality.value)}}}Z.ActorRdfJoinEntriesSortCardinality=F},"../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/ActorRdfJoinEntriesSortCardinality.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-hash/lib/ActorRdfJoinHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinHash=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(Y){const D=await W.ActorRdfJoin.getMetadatas(Y.entries),Q=W.ActorRdfJoin.overlappingVariables(D);return{result:{type:"bindings",bindingsStream:new F.HashJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,q=>W.ActorRdfJoin.hash(q,Q),W.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(Y.entries,D,Y.context)}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value+D[1].cardinality.value,persistedItems:D[0].cardinality.value,blockingItems:D[0].cardinality.value,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinHash=U},"../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/ActorRdfJoinHash.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/ActorRdfJoinMultiBind.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMultiBind=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("asynciterator"),Y=G("sparqlalgebrajs");class D extends F.ActorRdfJoin{constructor(ee){super(ee,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0})}static createBindStream(ee,q,te,ie,ne){const ce=le=>{const se=te.map(ue=>(0,W.materializeOperation)(ue,le,{bindFilter:!1})),pe=ue=>ue.merge(le);return new J.TransformIterator(async()=>(await ie(se,le)).transform({map:pe}),{maxBufferSize:128,autoStart:!1})};switch(ee){case"depth-first":return new J.MultiTransformIterator(q,{autoStart:!1,multiTransform:ce,optional:ne});case"breadth-first":return new J.UnionIterator(q.transform({map:ce,optional:ne}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${ee}`)}}async sortJoinEntries(ee,q){if(ee.some(le=>le.metadata.canContainUndefs))return ee;const ie={};for(const le of ee)for(const se of le.metadata.variables){let pe=ie[se.value];pe||(pe=0),ie[se.value]=++pe}const ne=[];for(const[le,se]of Object.entries(ie))se>=2&&ne.push(le);if(ne.length===0)throw new Error("Bind join can only join entries with at least one common variable");const ce=[];for(const le of ee){let se=!1;for(const pe of le.metadata.variables)if(ne.includes(pe.value)){se=!0;break}se||ce.push(le)}return(await this.mediatorJoinEntriesSort.mediate({entries:ee,context:q})).entries.sort((le,se)=>{const pe=ce.includes(le),ue=ce.includes(se);return pe===ue?0:pe?1:-1})}async getOutput(ee){const q=await F.ActorRdfJoin.getEntriesWithMetadatas(ee.entries),te=await this.sortJoinEntries(q,ee.context);this.logDebug(ee.context,"First entry for Bind Join: ",()=>({entry:te[0].operation,metadata:te[0].metadata}));for(const[se,pe]of te.entries())se!==0&&pe.output.bindingsStream.close();const ie=te[0].output,ne=[...te];ne.splice(0,1);const ce=ee.context.set(U.KeysQueryOperation.joinLeftMetadata,te[0].metadata).set(U.KeysQueryOperation.joinRightMetadatas,ne.map(se=>se.metadata));return{result:{type:"bindings",bindingsStream:D.createBindStream(this.bindOrder,ie.bindingsStream,ne.map(se=>se.operation),async(se,pe)=>{const ue=se.length===1?se[0]:D.FACTORY.createJoin(se);return W.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ue,context:ce?.set(U.KeysQueryOperation.joinBindings,pe)})).bindingsStream},!1),metadata:()=>this.constructResultMetadata(te,te.map(se=>se.metadata),ee.context)},physicalPlanMetadata:{bindIndex:q.indexOf(te[0]),bindOrder:this.bindOrder}}}async getJoinCoefficients(ee,q){const te=await this.sortJoinEntries(ee.entries.map((be,he)=>({...be,metadata:q[he]})),ee.context);q=te.map(be=>be.metadata);const ie=F.ActorRdfJoin.getRequestInitialTimes(q),ne=F.ActorRdfJoin.getRequestItemTimes(q),ce=[...te],le=[...ie],se=[...ne];if(ce.splice(0,1),le.splice(0,1),se.splice(0,1),ce.some(be=>be.operation.type===Y.Algebra.types.EXTEND||be.operation.type===Y.Algebra.types.GROUP))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const pe=await Promise.all(ce.map(async be=>(await this.mediatorJoinSelectivity.mediate({entries:[te[0],be],context:ee.context})).selectivity*this.selectivityModifier)),ue=ce.map((be,he)=>be.metadata.cardinality.value*pe[he]).reduce((be,he)=>be+he,0),ae=le.reduce((be,he,Le)=>be+he*pe[Le],0),de=se.reduce((be,he,Le)=>be+he*pe[Le],0);return{iterations:q[0].cardinality.value*ue,persistedItems:0,blockingItems:0,requestTime:ie[0]+q[0].cardinality.value*(ne[0]+ae+ue*de)}}}Z.ActorRdfJoinMultiBind=D,D.FACTORY=new Y.Factory},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/ActorRdfJoinMultiBind.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/ActorRdfJoinMultiEmpty.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMultiEmpty=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("asynciterator");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"multi-empty"})}async test(Y){if((await W.ActorRdfJoin.getMetadatas(Y.entries)).every(D=>W.ActorRdfJoin.getCardinality(D).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(Y)}async getOutput(Y){for(const D of Y.entries)D.output.bindingsStream.close();return{result:{bindingsStream:new F.ArrayIterator([],{autoStart:!1}),metadata:async()=>({cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:W.ActorRdfJoin.joinVariables(await W.ActorRdfJoin.getMetadatas(Y.entries))}),type:"bindings"}}}async getJoinCoefficients(Y,D){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}Z.ActorRdfJoinMultiEmpty=U},"../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/ActorRdfJoinMultiEmpty.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/ActorRdfJoinMultiSmallest.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMultiSmallest=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("sparqlalgebrajs");class J extends F.ActorRdfJoin{constructor(D){super(D,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0})}async sortJoinEntries(D,Q){return(await this.mediatorJoinEntriesSort.mediate({entries:D,context:Q})).entries}async getOutput(D){const Q=await this.sortJoinEntries(await F.ActorRdfJoin.getEntriesWithMetadatas([...D.entries]),D.context),ee=Q[0],q=Q[1];Q.splice(0,2);const te={output:W.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:D.type,entries:[ee,q],context:D.context})),operation:J.FACTORY.createJoin([ee.operation,q.operation],!1)};return Q.push(te),{result:await this.mediatorJoin.mediate({type:D.type,entries:Q,context:D.context})}}async getJoinCoefficients(D,Q){Q=[...Q],Q=(await this.sortJoinEntries(D.entries.map((ie,ne)=>({...ie,metadata:Q[ne]})),D.context)).map(ie=>ie.metadata);const q=F.ActorRdfJoin.getRequestInitialTimes(Q),te=F.ActorRdfJoin.getRequestItemTimes(Q);return{iterations:Q[0].cardinality.value*Q[1].cardinality.value*Q.slice(2).reduce((ie,ne)=>ie*ne.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:q[0]+Q[0].cardinality.value*te[0]+q[1]+Q[1].cardinality.value*te[1]+Q.slice(2).reduce((ie,ne,ce)=>ie+q.slice(2)[ce]+ne.cardinality.value*te.slice(2)[ce],0)}}}Z.ActorRdfJoinMultiSmallest=J,J.FACTORY=new U.Factory},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/ActorRdfJoinMultiSmallest.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/ActorRdfJoinNestedLoop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinNestedLoop=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(Y){return{result:{type:"bindings",bindingsStream:new F.NestedLoopJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,W.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(Y.entries,await W.ActorRdfJoin.getMetadatas(Y.entries),Y.context)}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value*D[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinNestedLoop=U},"../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/ActorRdfJoinNestedLoop.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-none/lib/ActorRdfJoinNone.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinNone=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("asynciterator"),J=new W.BindingsFactory;class Y extends F.ActorRdfJoin{constructor(Q){super(Q,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(Q){if(Q.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(Q){return{result:{bindingsStream:new U.ArrayIterator([J.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}Z.ActorRdfJoinNone=Y},"../node_modules/@comunica/actor-rdf-join-inner-none/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-none/lib/ActorRdfJoinNone.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-single/lib/ActorRdfJoinSingle.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinSingle=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js");class F extends W.ActorRdfJoin{constructor(J){super(J,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(J){if(J.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(J){return{result:J.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}Z.ActorRdfJoinSingle=F},"../node_modules/@comunica/actor-rdf-join-inner-single/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-single/lib/ActorRdfJoinSingle.js"),Z)},"../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/ActorRdfJoinSymmetricHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinSymmetricHash=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(Y){const D=await W.ActorRdfJoin.getMetadatas(Y.entries),Q=W.ActorRdfJoin.overlappingVariables(D);return{result:{type:"bindings",bindingsStream:new F.SymmetricHashJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,q=>U.hash(q,Q),W.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(Y.entries,D,Y.context)}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value+D[1].cardinality.value,persistedItems:D[0].cardinality.value+D[1].cardinality.value,blockingItems:0,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinSymmetricHash=U},"../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/ActorRdfJoinSymmetricHash.js"),Z)},"../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/ActorRdfJoinMinusHashUndef.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMinusHashUndef=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),U=G("../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/BindingsIndex.js");class J extends F.ActorRdfJoin{constructor(D){super(D,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(D){const Q=D.entries[1].output,ee=D.entries[0].output,q=await F.ActorRdfJoin.getMetadatas(D.entries),te=F.ActorRdfJoin.overlappingVariables(q);if(te.length>0){const ie=new U.BindingsIndex(te);return{result:{type:"bindings",bindingsStream:new W.ClosableTransformIterator(async()=>(await new Promise(ce=>{Q.bindingsStream.on("data",le=>ie.add(le)),Q.bindingsStream.on("end",ce)}),ee.bindingsStream.filter(ce=>!ie.contains(ce))),{autoStart:!1,onClose(){Q.bindingsStream.destroy(),ee.bindingsStream.destroy()}}),async metadata(){const ce=await ee.metadata(),le=await ee.metadata();return{...le,canContainUndefs:ce.canContainUndefs||le.canContainUndefs}}}}}return{result:ee}}async getJoinCoefficients(D,Q){const ee=F.ActorRdfJoin.getRequestInitialTimes(Q),q=F.ActorRdfJoin.getRequestItemTimes(Q);return{iterations:(Q[0].cardinality.value+Q[1].cardinality.value)*1.01,persistedItems:Q[0].cardinality.value,blockingItems:Q[0].cardinality.value,requestTime:ee[0]+Q[0].cardinality.value*q[0]+ee[1]+Q[1].cardinality.value*q[1]}}}Z.ActorRdfJoinMinusHashUndef=J},"../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/BindingsIndex.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BindingsIndex=void 0;const W=G("../node_modules/rdf-string/index.js");class F{constructor(J){this.data={},this.keys=J}static hashTerm(J){return J&&J.termType!=="Variable"?(0,W.termToString)(J):""}add(J){if(this.isBindingsValid(J)){let Y=this.data;for(const D of this.keys){const Q=F.hashTerm(J.get(D));let ee=Y[Q];ee||(ee=Y[Q]={}),Y=ee}}}contains(J){return this.isBindingsValid(J)?this.containsRecursive(J,this.keys,[this.data]):!1}isBindingsValid(J){let Y=!1;for(const D of this.keys)if(J.get(D)){Y=!0;break}return Y}containsRecursive(J,Y,D){if(Y.length===0)return!0;let Q;[Q,...Y]=Y;for(const ee of D){const q=F.hashTerm(J.get(Q));if(q){const te=[ee[q],ee[""]].filter(Boolean);if(te.length===0)continue;if(this.containsRecursive(J,Y,te))return!0}else{let te=Object.keys(ee).map(ie=>ee[ie]);if(te.length===0&&(te=[{}]),this.containsRecursive(J,Y,te))return!0}}return!1}}Z.BindingsIndex=F},"../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/ActorRdfJoinMinusHashUndef.js"),Z)},"../node_modules/@comunica/actor-rdf-join-minus-hash/lib/ActorRdfJoinMinusHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinMinusHash=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-join/lib/index.js");class U extends F.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(Y){const D=Y.entries[1].output,Q=Y.entries[0].output,ee=await F.ActorRdfJoin.getMetadatas(Y.entries),q=F.ActorRdfJoin.overlappingVariables(ee);if(q.length>0){const te={};return{result:{type:"bindings",bindingsStream:new W.ClosableTransformIterator(async()=>(await new Promise(ne=>{D.bindingsStream.on("data",ce=>{te[F.ActorRdfJoin.hash(ce,q)]=!0}),D.bindingsStream.on("end",ne)}),Q.bindingsStream.filter(ne=>!te[F.ActorRdfJoin.hash(ne,q)])),{autoStart:!1,onClose(){D.bindingsStream.destroy(),Q.bindingsStream.destroy()}}),metadata:Q.metadata}}}return{result:Q}}async getJoinCoefficients(Y,D){const Q=F.ActorRdfJoin.getRequestInitialTimes(D),ee=F.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value+D[1].cardinality.value,persistedItems:D[0].cardinality.value,blockingItems:D[0].cardinality.value,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinMinusHash=U},"../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/ActorRdfJoinMinusHash.js"),Z)},"../node_modules/@comunica/actor-rdf-join-optional-bind/lib/ActorRdfJoinOptionalBind.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinOptionalBind=void 0;const W=G("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),U=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),J=G("../node_modules/@comunica/context-entries/lib/index.js"),Y=G("sparqlalgebrajs");class D extends U.ActorRdfJoin{constructor(ee){super(ee,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0})}async getOutput(ee){ee.entries[1].output.bindingsStream.close();const q=ee.context.set(J.KeysQueryOperation.joinLeftMetadata,await ee.entries[0].output.metadata()).set(J.KeysQueryOperation.joinRightMetadatas,[await ee.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:W.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,ee.entries[0].output.bindingsStream,[ee.entries[1].operation],async(ie,ne)=>{const ce=ie[0];return F.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ce,context:q?.set(J.KeysQueryOperation.joinBindings,ne)})).bindingsStream},!0),metadata:async()=>await this.constructResultMetadata(ee.entries,await U.ActorRdfJoin.getMetadatas(ee.entries),ee.context,{canContainUndefs:!0})}}}async getJoinCoefficients(ee,q){const te=U.ActorRdfJoin.getRequestInitialTimes(q),ie=U.ActorRdfJoin.getRequestItemTimes(q);if(ee.entries[1].operation.type===Y.Algebra.types.EXTEND||ee.entries[1].operation.type===Y.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const ne=(await this.mediatorJoinSelectivity.mediate({entries:ee.entries,context:ee.context})).selectivity*this.selectivityModifier;return{iterations:q[0].cardinality.value*q[1].cardinality.value*ne,persistedItems:0,blockingItems:0,requestTime:te[0]+q[0].cardinality.value*ne*(ie[0]+te[1]+q[1].cardinality.value*ie[1])}}}Z.ActorRdfJoinOptionalBind=D},"../node_modules/@comunica/actor-rdf-join-optional-bind/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-optional-bind/lib/ActorRdfJoinOptionalBind.js"),Z)},"../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/ActorRdfJoinOptionalNestedLoop.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinOptionalNestedLoop=void 0;const W=G("../node_modules/@comunica/bus-rdf-join/lib/index.js"),F=G("../node_modules/asyncjoin/index.js");class U extends W.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(Y){return{result:{type:"bindings",bindingsStream:new F.NestedLoopJoin(Y.entries[0].output.bindingsStream,Y.entries[1].output.bindingsStream,W.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(Y.entries,await W.ActorRdfJoin.getMetadatas(Y.entries),Y.context,{canContainUndefs:!0})}}}async getJoinCoefficients(Y,D){const Q=W.ActorRdfJoin.getRequestInitialTimes(D),ee=W.ActorRdfJoin.getRequestItemTimes(D);return{iterations:D[0].cardinality.value*D[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:Q[0]+D[0].cardinality.value*ee[0]+Q[1]+D[1].cardinality.value*ee[1]}}}Z.ActorRdfJoinOptionalNestedLoop=U},"../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/ActorRdfJoinOptionalNestedLoop.js"),Z)},"../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/ActorRdfJoinSelectivityVariableCounting.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.JoinTypes=Z.ActorRdfJoinSelectivityVariableCounting=void 0;const W=G("../node_modules/@comunica/bus-rdf-join-selectivity/lib/index.js"),F=G("sparqlalgebrajs");class U extends W.ActorRdfJoinSelectivity{constructor(D){super(D)}async test(D){return{accuracy:.5}}static getPatternCost(D){let Q=1;return D.subject.termType==="Variable"&&(Q+=4),(D.predicate.termType==="Variable"||D.type===F.Algebra.types.PATH)&&(Q+=1),D.object.termType==="Variable"&&(Q+=2),D.graph.termType==="Variable"&&(Q+=1),Q/9}static getJoinTypes(D,Q){const ee=[];return D.subject.termType==="Variable"?(D.subject.equals(Q.subject)&&ee.push(J.unboundSS),Q.type==="pattern"&&D.subject.equals(Q.predicate)&&ee.push(J.unboundSP),D.subject.equals(Q.object)&&ee.push(J.unboundSO),D.subject.equals(Q.graph)&&ee.push(J.unboundSG)):(D.subject.equals(Q.subject)&&ee.push(J.boundSS),Q.type==="pattern"&&D.subject.equals(Q.predicate)&&ee.push(J.boundSP),D.subject.equals(Q.object)&&ee.push(J.boundSO),D.subject.equals(Q.graph)&&ee.push(J.boundSG)),D.type==="pattern"&&(D.predicate.termType==="Variable"?(D.predicate.equals(Q.subject)&&ee.push(J.unboundPS),Q.type==="pattern"&&D.predicate.equals(Q.predicate)&&ee.push(J.unboundPP),D.predicate.equals(Q.object)&&ee.push(J.unboundPO),D.predicate.equals(Q.graph)&&ee.push(J.unboundPG)):(D.predicate.equals(Q.subject)&&ee.push(J.boundPS),Q.type==="pattern"&&D.predicate.equals(Q.predicate)&&ee.push(J.boundPP),D.predicate.equals(Q.object)&&ee.push(J.boundPO),D.predicate.equals(Q.graph)&&ee.push(J.boundPG))),D.object.termType==="Variable"?(D.object.equals(Q.subject)&&ee.push(J.unboundOS),Q.type==="pattern"&&D.object.equals(Q.predicate)&&ee.push(J.unboundOP),D.object.equals(Q.object)&&ee.push(J.unboundOO),D.object.equals(Q.graph)&&ee.push(J.unboundOG)):(D.object.equals(Q.subject)&&ee.push(J.boundOS),Q.type==="pattern"&&D.object.equals(Q.predicate)&&ee.push(J.boundOP),D.object.equals(Q.object)&&ee.push(J.boundOO),D.object.equals(Q.graph)&&ee.push(J.boundOG)),D.graph.termType==="Variable"?(D.graph.equals(Q.subject)&&ee.push(J.unboundGS),Q.type==="pattern"&&D.graph.equals(Q.predicate)&&ee.push(J.unboundGP),D.graph.equals(Q.object)&&ee.push(J.unboundGO),D.graph.equals(Q.graph)&&ee.push(J.unboundGG)):(D.graph.equals(Q.subject)&&ee.push(J.boundGS),Q.type==="pattern"&&D.graph.equals(Q.predicate)&&ee.push(J.boundGP),D.graph.equals(Q.object)&&ee.push(J.boundGO),D.graph.equals(Q.graph)&&ee.push(J.boundGG)),ee}static getOperationsPairwiseJoinCost(D,Q){let ee=U.MAX_PAIRWISE_COST;for(const q of U.getJoinTypes(D,Q))switch(q){case J.boundSS:ee-=2*2;break;case J.boundSP:ee-=3*2;break;case J.boundSO:ee-=1*2;break;case J.boundSG:ee-=3*2;break;case J.boundPS:ee-=3*2;break;case J.boundPP:return 1;case J.boundPO:ee-=3*2;break;case J.boundPG:ee-=3*2;break;case J.boundOS:ee-=1*2;break;case J.boundOP:ee-=3*2;break;case J.boundOO:ee-=1*2;break;case J.boundOG:ee-=3*2;break;case J.boundGS:ee-=3*2;break;case J.boundGP:ee-=3*2;break;case J.boundGO:ee-=3*2;break;case J.boundGG:ee-=3*2;break;case J.unboundSS:ee-=2;break;case J.unboundSP:ee-=3;break;case J.unboundSO:ee-=1;break;case J.unboundSG:ee-=3;break;case J.unboundPS:ee-=3;break;case J.unboundPP:ee-=3;break;case J.unboundPO:ee-=3;break;case J.unboundPG:ee-=3;break;case J.unboundOS:ee-=1;break;case J.unboundOP:ee-=3;break;case J.unboundOO:ee-=1;break;case J.unboundOG:ee-=3;break;case J.unboundGS:ee-=3;break;case J.unboundGP:ee-=3;break;case J.unboundGO:ee-=3;break;case J.unboundGG:ee-=3;break}return ee/U.MAX_PAIRWISE_COST}static getOperationsJoinCost(D){const Q=[];for(const te of D)F.Util.recurseOperation(te,{[F.Algebra.types.PATTERN](ie){return Q.push(ie),!1},[F.Algebra.types.PATH](ie){return Q.push(ie),!1}});let ee=0,q=0;for(const te of Q)for(const ie of Q)te!==ie&&(ee+=U.getOperationsPairwiseJoinCost(te,ie),q++);return ee/q*Q.reduce((te,ie)=>te*U.getPatternCost(ie),1)}async run(D){return D.entries.length<=1?{selectivity:1}:{selectivity:U.getOperationsJoinCost(D.entries.map(Q=>Q.operation))}}}Z.ActorRdfJoinSelectivityVariableCounting=U,U.MAX_PAIRWISE_COST=41*2;var J;(function(Y){Y[Y.boundSS=0]="boundSS",Y[Y.boundSP=1]="boundSP",Y[Y.boundSO=2]="boundSO",Y[Y.boundSG=3]="boundSG",Y[Y.boundPS=4]="boundPS",Y[Y.boundPP=5]="boundPP",Y[Y.boundPO=6]="boundPO",Y[Y.boundPG=7]="boundPG",Y[Y.boundOS=8]="boundOS",Y[Y.boundOP=9]="boundOP",Y[Y.boundOO=10]="boundOO",Y[Y.boundOG=11]="boundOG",Y[Y.boundGS=12]="boundGS",Y[Y.boundGP=13]="boundGP",Y[Y.boundGO=14]="boundGO",Y[Y.boundGG=15]="boundGG",Y[Y.unboundSS=16]="unboundSS",Y[Y.unboundSP=17]="unboundSP",Y[Y.unboundSO=18]="unboundSO",Y[Y.unboundSG=19]="unboundSG",Y[Y.unboundPS=20]="unboundPS",Y[Y.unboundPP=21]="unboundPP",Y[Y.unboundPO=22]="unboundPO",Y[Y.unboundPG=23]="unboundPG",Y[Y.unboundOS=24]="unboundOS",Y[Y.unboundOP=25]="unboundOP",Y[Y.unboundOO=26]="unboundOO",Y[Y.unboundOG=27]="unboundOG",Y[Y.unboundGS=28]="unboundGS",Y[Y.unboundGP=29]="unboundGP",Y[Y.unboundGO=30]="unboundGO",Y[Y.unboundGG=31]="unboundGG"})(J=Z.JoinTypes||(Z.JoinTypes={}))},"../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/ActorRdfJoinSelectivityVariableCounting.js"),Z)},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/ActorRdfResolveQuadPatternFederated.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPatternFederated=void 0;const W=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js"),F=G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js");class U extends W.ActorRdfResolveQuadPatternSource{constructor(Y){super(Y),this.emptyPatterns=new Map}async test(Y){if(!(0,W.getContextSources)(Y.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(Y){return new F.FederatedQuadSource(this.mediatorResolveQuadPattern,Y,this.emptyPatterns,this.skipEmptyPatterns)}}Z.ActorRdfResolveQuadPatternFederated=U},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.FederatedQuadSource=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js"),U=G("../node_modules/@comunica/context-entries/lib/index.js"),J=G("../node_modules/@comunica/data-factory/lib/index.js"),Y=G("asynciterator"),D=G("../node_modules/rdf-data-factory/index.js"),Q=G("../node_modules/rdf-terms/index.js"),ee=G("sparqlalgebrajs"),q=new D.DataFactory;class te{constructor(ne,ce,le,se){if(this.mediatorResolveQuadPattern=ne,this.sources=ce.get(U.KeysRdfResolveQuadPattern.sources),this.contextDefault=ce.delete(U.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=le,this.sourceIds=ce.get(U.KeysRdfResolveQuadPattern.sourceIds)??new Map,this.skipEmptyPatterns=se,this.algebraFactory=new ee.Factory,this.skipEmptyPatterns)for(const pe of this.sources)this.emptyPatterns.has(pe)||this.emptyPatterns.set(pe,[])}static isTermBound(ne){return ne.termType!=="Variable"}static isSubPatternOf(ne,ce){return(!te.isTermBound(ce.subject)||ce.subject.equals(ne.subject))&&(!te.isTermBound(ce.predicate)||ce.predicate.equals(ne.predicate))&&(!te.isTermBound(ce.object)||ce.object.equals(ne.object))&&(!te.isTermBound(ce.graph)||ce.graph.equals(ne.graph))}static skolemizeTerm(ne,ce){return ne.termType==="BlankNode"?new J.BlankNodeScoped(`bc_${ce}_${ne.value}`,q.namedNode(`${te.SKOLEM_PREFIX}${ce}:${ne.value}`)):ne}static skolemizeQuad(ne,ce){return(0,Q.mapTerms)(ne,le=>te.skolemizeTerm(le,ce))}static deskolemizeTerm(ne,ce){if(ne.termType==="BlankNode"&&"skolemized"in ne&&(ne=ne.skolemized),ne.termType==="NamedNode"&&ne.value.startsWith(te.SKOLEM_PREFIX)){const le=ne.value.indexOf(":",te.SKOLEM_PREFIX.length);if(ne.value.slice(te.SKOLEM_PREFIX.length,le)===ce){const pe=ne.value.slice(le+1,ne.value.length);return q.blankNode(pe)}return null}return ne}static deskolemizeQuad(ne,ce){return(0,Q.mapTerms)(ne,le=>{const se=te.deskolemizeTerm(le,ce);return se||le})}isSourceEmpty(ne,ce){if(!this.skipEmptyPatterns)return!1;const le=this.emptyPatterns.get(ne);if(le){for(const se of le)if(te.isSubPatternOf(ce,se))return!0}return!1}getSourceId(ne){let ce=this.sourceIds.get(ne);return ce===void 0&&(ce=`${this.sourceIds.size}`,this.sourceIds.set(ne,ce)),ce}match(ne,ce,le,se){const pe={cardinality:{type:"exact",value:0},canContainUndefs:!1};let ue=this.sources.length;const ae=(he,Le,Xe,We)=>{this.skipEmptyPatterns&&!he&&Xe&&!this.isSourceEmpty(Le,Xe)&&this.emptyPatterns.get(Le).push(Xe),ue||(We&&this.sources.length===1?be.setProperty("metadata",We):be.setProperty("metadata",pe))},de=Promise.all(this.sources.map(async he=>{const Le=this.getSourceId(he),Xe=te.deskolemizeTerm(ne,Le),We=te.deskolemizeTerm(ce,Le),fe=te.deskolemizeTerm(le,Le),Re=te.deskolemizeTerm(se,Le);let ye,re=(0,F.getDataSourceContext)(he,this.contextDefault);re=re.set(U.KeysRdfResolveQuadPattern.source,he);let Ze;!Xe||!We||!fe||!Re||this.isSourceEmpty(he,ye=this.algebraFactory.createPattern(Xe,We,fe,Re))?(Ze={data:new Y.ArrayIterator([],{autoStart:!1})},Ze.data.setProperty("metadata",{cardinality:0,canContainUndefs:!1})):Ze=await this.mediatorResolveQuadPattern.mediate({pattern:ye,context:re}),Ze.data.getProperty("metadata",ve=>{!ve.cardinality||!Number.isFinite(ve.cardinality.value)?(pe.cardinality.type="estimate",pe.cardinality.value=Number.POSITIVE_INFINITY,ue=0):(ve.cardinality.type==="estimate"&&(pe.cardinality.type="estimate"),pe.cardinality.value+=ve.cardinality.value,ue--),(pe.requestTime||ve.requestTime)&&(pe.requestTime=pe.requestTime||0,ve.requestTime=ve.requestTime||0,pe.requestTime+=ve.requestTime),(pe.pageSize||ve.pageSize)&&(pe.pageSize=pe.pageSize||0,ve.pageSize=ve.pageSize||0,pe.pageSize+=ve.pageSize),ve.canContainUndefs&&(pe.canContainUndefs=!0),ae(pe.cardinality.value,he,ye,ve)});const Ge=Ze.data.map(ve=>te.skolemizeQuad(ve,Le));return Ge.on("error",ve=>be.emit("error",ve)),Ge})),be=new W.ClosableTransformIterator(async()=>new Y.UnionIterator(await de),{autoStart:!1,onClose(){de.then(he=>{for(const Le of he)Le.destroy()},()=>{})}});return this.sources.length===0&&be.setProperty("metadata",pe),be}}Z.FederatedQuadSource=te,te.SKOLEM_PREFIX="urn:comunica_skolem:source_"},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/ActorRdfResolveQuadPatternFederated.js"),Z),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/FederatedQuadSource.js"),Z)},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/ActorRdfResolveQuadPatternRdfJsSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPatternRdfJsSource=void 0;const W=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js"),F=G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js");class U extends W.ActorRdfResolveQuadPatternSource{constructor(Y){super(Y)}async test(Y){if(!(0,W.hasContextSingleSourceOfType)("rdfjsSource",Y.context))throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);const D=(0,W.getContextSource)(Y.context);if(!D||typeof D=="string"||!("match"in D)&&!D.value.match)throw new Error(`${this.name} received an invalid rdfjsSource.`);return!0}async getSource(Y){const D=(0,W.getContextSource)(Y);return new F.RdfJsQuadSource("match"in D?D:D.value)}}Z.ActorRdfResolveQuadPatternRdfJsSource=U},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/IRdfJsSourceExtended.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RdfJsQuadSource=void 0;const W=G("asynciterator");class F{constructor(J){this.source=J}static nullifyVariables(J){return!J||J.termType==="Variable"?void 0:J}match(J,Y,D,Q){const ee=this.source.match(F.nullifyVariables(J),F.nullifyVariables(Y),F.nullifyVariables(D),F.nullifyVariables(Q)),q=(0,W.wrap)(ee,{autoStart:!1});return this.setMetadata(q,J,Y,D,Q).catch(te=>q.destroy(te)),q}async setMetadata(J,Y,D,Q,ee){let q;if(this.source.countQuads)q=await this.source.countQuads(F.nullifyVariables(Y),F.nullifyVariables(D),F.nullifyVariables(Q),F.nullifyVariables(ee));else{let te=0;q=await new Promise((ie,ne)=>{const ce=this.source.match(F.nullifyVariables(Y),F.nullifyVariables(D),F.nullifyVariables(Q),F.nullifyVariables(ee));ce.on("error",ne),ce.on("end",()=>ie(te)),ce.on("data",()=>te++)})}J.setProperty("metadata",{cardinality:{type:"exact",value:q},canContainUndefs:!1})}}Z.RdfJsQuadSource=F},"../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/ActorRdfResolveQuadPatternRdfJsSource.js"),Z),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/IRdfJsSourceExtended.js"),Z),F(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/RdfJsQuadSource.js"),Z)},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfUpdateQuadsRdfJsStore=void 0;const W=G("../node_modules/@comunica/bus-rdf-update-quads/lib/index.js"),F=G("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js");class U extends W.ActorRdfUpdateQuadsDestination{constructor(Y){super(Y)}async test(Y){const D=(0,W.getContextDestination)(Y.context);if(!D||typeof D=="string"||!("remove"in D)&&"value"in D&&!D.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(Y){const D=(0,W.getContextDestination)(Y);return new F.RdfJsQuadDestination("remove"in D?D:D.value)}}Z.ActorRdfUpdateQuadsRdfJsStore=U},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.RdfJsQuadDestination=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=G("../node_modules/rdf-string/index.js"),U=new W.DataFactory;class J{constructor(D){this.store=D}promisifyEventEmitter(D){return new Promise((Q,ee)=>{D.on("end",Q),D.on("error",ee)})}delete(D){return this.promisifyEventEmitter(this.store.remove(D))}insert(D){return this.promisifyEventEmitter(this.store.import(D))}async deleteGraphs(D,Q,ee){switch(D){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(U.defaultGraph()));case"NAMED":const q=this.store.match(),te={};q.on("data",ie=>{ie.graph.termType!=="DefaultGraph"&&(te[(0,F.termToString)(ie.graph)]=!0)}),await this.promisifyEventEmitter(q),await Promise.all(Object.keys(te).map(ie=>this.promisifyEventEmitter(this.store.deleteGraph((0,F.stringToTerm)(ie)))));break;default:for(const ie of Array.isArray(D)?D:[D])await this.promisifyEventEmitter(this.store.deleteGraph(ie))}}async createGraphs(D,Q){if(Q)for(const ee of D){const q=this.store.match(void 0,void 0,void 0,ee);await new Promise((te,ie)=>{q.once("data",()=>{ie(new Error(`Unable to create graph ${ee.value} as it already exists`))}),q.on("end",te),q.on("error",ie)})}}}Z.RdfJsQuadDestination=J},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js"),Z)},"../node_modules/@comunica/bindings-factory/lib/Bindings.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Bindings=void 0;const W=G("../packages/immutable/dist/index.js"),F=G("../node_modules/@comunica/bindings-factory/lib/bindingsToString.js");class U{constructor(Y,D){this.type="bindings",this.dataFactory=Y,this.entries=D}has(Y){return this.entries.has(typeof Y=="string"?Y:Y.value)}get(Y){return this.entries.get(typeof Y=="string"?Y:Y.value)}set(Y,D){return new U(this.dataFactory,this.entries.set(typeof Y=="string"?Y:Y.value,D))}delete(Y){return new U(this.dataFactory,this.entries.delete(typeof Y=="string"?Y:Y.value))}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),Y=>this.dataFactory.variable(Y))}values(){return this.iteratorToIterable(this.entries.values())}forEach(Y){this.entries.forEach((D,Q)=>Y(D,this.dataFactory.variable(Q)))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([Y,D])=>[this.dataFactory.variable(Y),D])[Symbol.iterator]()}equals(Y){if(!Y)return!1;if(this===Y)return!0;if(this.size!==Y.size)return!1;for(const D of this.keys())if(!this.get(D)?.equals(Y.get(D)))return!1;return!0}filter(Y){return new U(this.dataFactory,(0,W.Map)(this.entries.filter((D,Q)=>Y(D,this.dataFactory.variable(Q)))))}map(Y){return new U(this.dataFactory,(0,W.Map)(this.entries.map((D,Q)=>Y(D,this.dataFactory.variable(Q)))))}merge(Y){const D=new Set([...this.iteratorToIterable(this.entries.keys()),...[...Y.keys()].map(ee=>ee.value)]),Q=[];for(const ee of D){const q=this.entries.get(ee),te=Y.get(this.dataFactory.variable(ee));if(q&&te&&!q.equals(te))return;const ie=q||te;Q.push([ee,ie])}return new U(this.dataFactory,(0,W.Map)(Q))}mergeWith(Y,D){const Q=new Set([...this.iteratorToIterable(this.entries.keys()),...[...D.keys()].map(q=>q.value)]),ee=[];for(const q of Q){const te=this.dataFactory.variable(q),ie=this.entries.get(q),ne=D.get(te);let ce;ie&&ne&&!ie.equals(ne)?ce=Y(ie,ne,te):ce=ie||ne,ee.push([q,ce])}return new U(this.dataFactory,(0,W.Map)(ee))}toString(){return(0,F.bindingsToString)(this)}*mapIterable(Y,D){for(const Q of Y)yield D(Q)}iteratorToIterable(Y){return{[Symbol.iterator]:()=>Y}}}Z.Bindings=U},"../node_modules/@comunica/bindings-factory/lib/BindingsFactory.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BindingsFactory=void 0;const W=G("../packages/immutable/dist/index.js"),F=G("../node_modules/rdf-data-factory/index.js"),U=G("../node_modules/@comunica/bindings-factory/lib/Bindings.js");class J{constructor(D=new F.DataFactory){this.dataFactory=D}bindings(D=[]){return new U.Bindings(this.dataFactory,(0,W.Map)(D.map(([Q,ee])=>[Q.value,ee])))}fromBindings(D){return this.bindings([...D])}fromRecord(D){return this.bindings(Object.entries(D).map(([Q,ee])=>[this.dataFactory.variable(Q),ee]))}}Z.BindingsFactory=J},"../node_modules/@comunica/bindings-factory/lib/bindingsToString.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.bindingsToString=void 0;const W=G("../node_modules/rdf-string/index.js");function F(U){const J={};for(const Y of U.keys())J[Y.value]=(0,W.termToString)(U.get(Y));return JSON.stringify(J,null,"  ")}Z.bindingsToString=F},"../node_modules/@comunica/bindings-factory/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bindings-factory/lib/Bindings.js"),Z),F(G("../node_modules/@comunica/bindings-factory/lib/BindingsFactory.js"),Z),F(G("../node_modules/@comunica/bindings-factory/lib/bindingsToString.js"),Z)},"../node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorContextPreprocess=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorContextPreprocess=F},"../node_modules/@comunica/bus-context-preprocess/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js"),Z)},"../node_modules/@comunica/bus-hash-bindings/lib/ActorHashBindings.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorHashBindings=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorHashBindings=F},"../node_modules/@comunica/bus-hash-bindings/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-hash-bindings/lib/ActorHashBindings.js"),Z)},"../node_modules/@comunica/bus-init/lib/ActorInit.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorInit=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorInit=F},"../node_modules/@comunica/bus-init/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-init/lib/ActorInit.js"),Z)},"../node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorOptimizeQueryOperation=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorOptimizeQueryOperation=F},"../node_modules/@comunica/bus-optimize-query-operation/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js"),Z)},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperation=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js"),F=G("../node_modules/@comunica/core/lib/index.js"),U=G("../node_modules/@comunica/data-factory/lib/index.js"),J=G("../node_modules/@comunica/bus-query-operation/lib/Bindings.js");let Y=0;class D extends F.Actor{constructor(ee){super(ee)}static getSafeBindings(ee){return D.validateQueryOutput(ee,"bindings"),ee}static getSafeQuads(ee){return D.validateQueryOutput(ee,"quads"),ee}static getSafeBoolean(ee){return D.validateQueryOutput(ee,"boolean"),ee}static getSafeVoid(ee){return D.validateQueryOutput(ee,"void"),ee}static cachifyMetadata(ee){let q;return()=>q||(q=ee())}static validateQueryOutput(ee,q){if(ee.type!==q)throw new Error(`Invalid query output type: Expected '${q}' but got '${ee.type}'`)}static getBaseExpressionContext(ee){const q=ee.get(W.KeysInitQuery.queryTimestamp),te=ee.get(W.KeysInitQuery.baseIRI),ie=ee.get(W.KeysInitQuery.functionArgumentsCache)||{};if(ee.has(W.KeysInitQuery.extensionFunctionCreator)&&ee.has(W.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let ne=ee.get(W.KeysInitQuery.extensionFunctionCreator);const ce=ee.get(W.KeysInitQuery.extensionFunctions);return ce&&(ne=le=>ce[le.value]),{now:q,baseIRI:te,extensionFunctionCreator:ne,functionArgumentsCache:ie}}static getExpressionContext(ee,q){return{...this.getBaseExpressionContext(ee),bnode:te=>new U.BlankNodeBindingsScoped(te||`BNODE_${Y++}`)}}static getAsyncExpressionContext(ee,q){const te={...this.getBaseExpressionContext(ee),bnode:ie=>Promise.resolve(new U.BlankNodeBindingsScoped(ie||`BNODE_${Y++}`))};return q&&(te.exists=D.createExistenceResolver(ee,q)),te}static createExistenceResolver(ee,q){return async(te,ie)=>{const ne=(0,J.materializeOperation)(te.input,ie),ce=await q.mediate({operation:ne,context:ee}),le=D.getSafeBindings(ce);return new Promise((se,pe)=>{le.bindingsStream.on("end",()=>{se(!1)}),le.bindingsStream.on("error",pe),le.bindingsStream.on("data",()=>{le.bindingsStream.close(),se(!0)})}).then(se=>te.not?!se:se)}}static throwOnReadOnly(ee){if(ee.get(W.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}}Z.ActorQueryOperation=D},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationTyped=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js"),F=G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js");class U extends F.ActorQueryOperation{constructor(Y,D){if(super({...Y,operationName:D}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(Y){if(!Y.operation)throw new Error("Missing field 'operation' in a query operation action.");if(Y.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${Y.operation.type}`);const D=Y.operation;return this.testOperation(D,Y.context)}async run(Y){const D=Y.context.get(W.KeysInitQuery.physicalQueryPlanLogger);D&&(D.logOperation(Y.operation.type,void 0,Y.operation,Y.context.get(W.KeysInitQuery.physicalQueryPlanNode),this.name,{}),Y.context=Y.context.set(W.KeysInitQuery.physicalQueryPlanNode,Y.operation));const Q=Y.operation,ee=Y.context.set(W.KeysQueryOperation.operation,Q),q=await this.runOperation(Q,ee);return"metadata"in q&&(q.metadata=F.ActorQueryOperation.cachifyMetadata(q.metadata)),q}}Z.ActorQueryOperationTyped=U},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryOperationTypedMediated=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js");class F extends W.ActorQueryOperationTyped{constructor(J,Y){super(J,Y)}}Z.ActorQueryOperationTypedMediated=F},"../node_modules/@comunica/bus-query-operation/lib/Bindings.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.materializeOperation=Z.materializeTerm=void 0;const W=G("../node_modules/@comunica/bindings-factory/lib/index.js"),F=G("../node_modules/rdf-string/index.js"),U=G("sparqlalgebrajs"),J=new W.BindingsFactory;function Y(Q,ee){if(Q.termType==="Variable"){const q=ee.get(Q);if(q)return q}return Q}Z.materializeTerm=Y;function D(Q,ee,q={}){return q={strictTargetVariables:"strictTargetVariables"in q?q.strictTargetVariables:!1,bindFilter:"bindFilter"in q?q.bindFilter:!0},U.Util.mapOperation(Q,{path(te,ie){return{recurse:!1,result:ie.createPath(Y(te.subject,ee),te.predicate,Y(te.object,ee),Y(te.graph,ee))}},pattern(te,ie){return{recurse:!1,result:ie.createPattern(Y(te.subject,ee),Y(te.predicate,ee),Y(te.object,ee),Y(te.graph,ee))}},extend(te){if(ee.has(te.variable)){if(q.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,F.termToString)(te.variable)} in a BIND operator.`);return{recurse:!0,result:D(te.input,ee,q)}}return{recurse:!0,result:te}},group(te,ie){if(q.strictTargetVariables){for(const ce of te.variables)if(ee.has(ce))throw new Error(`Tried to bind variable ${(0,F.termToString)(ce)} in a GROUP BY operator.`);return{recurse:!0,result:te}}const ne=te.variables.filter(ce=>!ee.has(ce));return{recurse:!0,result:ie.createGroup(te.input,ne,te.aggregates)}},project(te,ie){if(q.strictTargetVariables){for(const le of te.variables)if(ee.has(le))throw new Error(`Tried to bind variable ${(0,F.termToString)(le)} in a SELECT operator.`);return{recurse:!0,result:te}}const ne=te.variables.filter(le=>!ee.has(le)),ce=J.bindings(te.variables.map(le=>{const se=ee.get(le);if(se)return[le,se]}).filter(le=>!!le));return{recurse:!1,result:ie.createProject(D(te.input,ce,q),ne)}},values(te,ie){if(q.strictTargetVariables){for(const ne of te.variables)if(ee.has(ne))throw new Error(`Tried to bind variable ${(0,F.termToString)(ne)} in a VALUES operator.`)}else{const ne=te.variables.filter(le=>!ee.has(le)),ce=te.bindings.map(le=>{const se={...le};let pe=!0;return ee.forEach((ue,ae)=>{const de=(0,F.termToString)(ae);de in se&&(ue.equals(se[de])||(pe=!1),delete se[de])}),pe?se:void 0}).filter(Boolean);return{recurse:!0,result:ie.createValues(ne,ce)}}return{recurse:!1,result:te}},expression(te,ie){if(!q.bindFilter)return{recurse:!1,result:te};if(te.expressionType==="term")return{recurse:!1,result:ie.createTermExpression(Y(te.term,ee))};if(te.expressionType==="aggregate"&&"variable"in te&&ee.has(te.variable)){if(q.strictTargetVariables)throw new Error(`Tried to bind ${(0,F.termToString)(te.variable)} in a ${te.aggregator} aggregate.`);return{recurse:!0,result:te}}return{recurse:!0,result:te}}})}Z.materializeOperation=D},"../node_modules/@comunica/bus-query-operation/lib/BusQueryOperation.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BusQueryOperation=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.BusIndexed{constructor(J){super({...J,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}Z.BusQueryOperation=F},"../node_modules/@comunica/bus-query-operation/lib/ClosableTransformIterator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ClosableTransformIterator=void 0;const W=G("asynciterator");class F extends W.TransformIterator{constructor(J,Y){super(J,Y),this.onClose=Y.onClose}_end(J){this.onClose(),super._end(J)}}Z.ClosableTransformIterator=F},"../node_modules/@comunica/bus-query-operation/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/Bindings.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/BusQueryOperation.js"),Z),F(G("../node_modules/@comunica/bus-query-operation/lib/ClosableTransformIterator.js"),Z)},"../node_modules/@comunica/bus-query-parse/lib/ActorQueryParse.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorQueryParse=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorQueryParse=F},"../node_modules/@comunica/bus-query-parse/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-query-parse/lib/ActorQueryParse.js"),Z)},"../node_modules/@comunica/bus-rdf-join-entries-sort/lib/ActorRdfJoinEntriesSort.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinEntriesSort=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfJoinEntriesSort=F},"../node_modules/@comunica/bus-rdf-join-entries-sort/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-join-entries-sort/lib/ActorRdfJoinEntriesSort.js"),Z)},"../node_modules/@comunica/bus-rdf-join-selectivity/lib/ActorRdfJoinSelectivity.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoinSelectivity=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfJoinSelectivity=F},"../node_modules/@comunica/bus-rdf-join-selectivity/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-join-selectivity/lib/ActorRdfJoinSelectivity.js"),Z)},"../node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfJoin=void 0;const W=G("../node_modules/@comunica/bus-query-operation/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/@comunica/core/lib/index.js"),J=G("../node_modules/rdf-data-factory/index.js"),Y=G("../node_modules/rdf-string/index.js"),D=new J.DataFactory;class Q extends U.Actor{constructor(q,te){super(q),this.includeInLogs=!0,this.logicalType=te.logicalType,this.physicalName=te.physicalName,this.limitEntries=te.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=te.limitEntriesMin??!1,this.canHandleUndefs=te.canHandleUndefs??!1}static hash(q,te){return te.filter(ie=>q.has(ie)).map(ie=>(0,Y.termToString)(q.get(ie))).join("")}static overlappingVariables(q){const te=q.map(ne=>ne.variables);let ie=te[0];for(const ne of te.slice(1))ie=ie.filter(ce=>ne.some(le=>le.value===ce.value));return ie}static joinVariables(q){return[...new Set(q.flatMap(te=>te.variables.map(ie=>ie.value)))].map(te=>D.variable(te))}static joinBindings(...q){if(q.length===0)return null;if(q.length===1)return q[0];let te=q[0];for(const ie of q.slice(1)){const ne=te.merge(ie);if(!ne)return null;te=ne}return te}static getCardinality(q){return q.cardinality}static async getMetadatas(q){return await Promise.all(q.map(te=>te.output.metadata()))}static async getEntriesWithMetadatas(q){const te=await Q.getMetadatas(q);return q.map((ie,ne)=>({...ie,metadata:te[ne]}))}static getRequestInitialTimes(q){return q.map(te=>te.pageSize?0:te.requestTime||0)}static getRequestItemTimes(q){return q.map(te=>te.pageSize?(te.requestTime||0)/te.pageSize:0)}async constructResultMetadata(q,te,ie,ne={}){let ce;return ne.cardinality?ce=ne.cardinality:(ce=te.reduce((le,se)=>{const pe=Q.getCardinality(se);return{type:pe.type==="estimate"?"estimate":le.type,value:le.value*pe.value}},{type:"exact",value:1}),ce.value*=(await this.mediatorJoinSelectivity.mediate({entries:q,context:ie})).selectivity),{...ne,cardinality:{type:ce.type,value:ce.value},canContainUndefs:ne.canContainUndefs??te.some(le=>le.canContainUndefs),variables:Q.joinVariables(te)}}async test(q){if(q.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${q.type}' was given.`);if(q.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?q.entries.length<this.limitEntries:q.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${q.entries.length}.`);for(const ie of q.entries)if(ie.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${ie.output.type}'`);const te=await Q.getMetadatas(q.entries);if(!this.canHandleUndefs){for(const ie of te)if(ie.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(q,te)}async run(q){let te;q.context.has(F.KeysInitQuery.physicalQueryPlanLogger)&&(te=q.context.get(F.KeysInitQuery.physicalQueryPlanNode),q.context=q.context.set(F.KeysInitQuery.physicalQueryPlanNode,q));const ie=q.context.get(F.KeysInitQuery.physicalQueryPlanLogger);let ne;this.includeInLogs&&ie&&(ne={},ie.logOperation(`join-${this.logicalType}`,this.physicalName,q,te,this.name,ne));const{result:ce,physicalPlanMetadata:le}=await this.getOutput(q),se=await Q.getMetadatas(q.entries);return ne&&(Object.assign(ne,le),ne.cardinalities=se.map(Q.getCardinality),ne.joinCoefficients=await this.getJoinCoefficients(q,se)),ce.metadata=W.ActorQueryOperation.cachifyMetadata(ce.metadata),ce}}Z.ActorRdfJoin=Q},"../node_modules/@comunica/bus-rdf-join/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js"),Z)},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPattern=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfResolveQuadPattern=F},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPatternSource.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfResolveQuadPatternSource=void 0;const W=G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js");class F extends W.ActorRdfResolveQuadPattern{constructor(J){super(J)}async test(J){return!0}async run(J){const Y=await this.getSource(J.context,J.pattern);return await this.getOutput(Y,J.pattern,J.context)}async getOutput(J,Y,D){return{data:J.match(Y.subject,Y.predicate,Y.object,Y.graph,D)}}}Z.ActorRdfResolveQuadPatternSource=F},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPattern.js"),Z),F(G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/ActorRdfResolveQuadPatternSource.js"),Z),F(G("../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/utils.js"),Z)},"../node_modules/@comunica/bus-rdf-resolve-quad-pattern/lib/utils.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.hasContextSingleSourceOfType=Z.hasContextSingleSource=Z.getContextSourceUrl=Z.getContextSourceFirst=Z.getContextSource=Z.getContextSources=Z.getDataSourceContext=Z.getDataSourceValue=Z.getDataSourceType=Z.isDataSourceRawType=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js");function F(ne){return typeof ne=="string"||"match"in ne}Z.isDataSourceRawType=F;function U(ne){return typeof ne=="string"?"":"match"in ne?"rdfjsSource":ne.type}Z.getDataSourceType=U;function J(ne){return F(ne)?ne:ne.value}Z.getDataSourceValue=J;function Y(ne,ce){return typeof ne=="string"||"match"in ne||!ne.context?ce:ce.merge(ne.context)}Z.getDataSourceContext=Y;function D(ne){return ne.get(W.KeysRdfResolveQuadPattern.sources)}Z.getContextSources=D;function Q(ne){return ne.get(W.KeysRdfResolveQuadPattern.source)}Z.getContextSource=Q;function ee(ne){if(ne.has(W.KeysRdfResolveQuadPattern.source))return ne.get(W.KeysRdfResolveQuadPattern.source);const ce=ne.get(W.KeysRdfResolveQuadPattern.sources);if(ce?.length===1)return ce[0]}Z.getContextSourceFirst=ee;function q(ne){if(ne){let ce=J(ne);if(typeof ce=="string"){const le=ce.indexOf("#");return le>=0&&(ce=ce.slice(0,le)),ce}}}Z.getContextSourceUrl=q;function te(ne){const ce=Q(ne);return!!(ce&&(F(ce)||ce.value))}Z.hasContextSingleSource=te;function ie(ne,ce){const le=Q(ce);return!!(le&&U(le)===ne&&J(le))}Z.hasContextSingleSourceOfType=ie},"../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfUpdateQuads=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Actor{constructor(J){super(J)}}Z.ActorRdfUpdateQuads=F},"../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActorRdfUpdateQuadsDestination=Z.deskolemize=Z.deskolemizeStream=void 0;const W=G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/index.js"),F=G("../node_modules/@comunica/context-entries/lib/index.js"),U=G("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js");function J(Q,ee){return Q?.map(q=>W.FederatedQuadSource.deskolemizeQuad(q,ee))}Z.deskolemizeStream=J;function Y(Q){const ee=Q.context.get(F.KeysRdfUpdateQuads.destination),q=Q.context.get(F.KeysRdfResolveQuadPattern.sourceIds)?.get(ee);return q?{...Q,quadStreamInsert:J(Q.quadStreamInsert,q),quadStreamDelete:J(Q.quadStreamDelete,q)}:Q}Z.deskolemize=Y;class D extends U.ActorRdfUpdateQuads{async test(ee){return!0}async run(ee){const q=await this.getDestination(ee.context);return await this.getOutput(q,Y(ee),ee.context)}async getOutput(ee,q,te){return{execute:()=>Promise.all([q.quadStreamInsert?ee.insert(q.quadStreamInsert):Promise.resolve(),q.quadStreamDelete?ee.delete(q.quadStreamDelete):Promise.resolve(),q.deleteGraphs?ee.deleteGraphs(q.deleteGraphs.graphs,q.deleteGraphs.requireExistence,q.deleteGraphs.dropGraphs):Promise.resolve(),q.createGraphs?ee.createGraphs(q.createGraphs.graphs,q.createGraphs.requireNonExistence):Promise.resolve()]).then(()=>{})}}}Z.ActorRdfUpdateQuadsDestination=D},"../node_modules/@comunica/bus-rdf-update-quads/lib/IQuadDestination.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.validateHttpResponse=void 0;const W=G("./require-empty.js"),F=G("../node_modules/stream-to-string/index.js");async function U(J,Y){if(Y.status>=400){let D="empty response";if(Y.body){const Q=W.ActorHttp.toNodeReadable(Y.body);D=await F(Q)}throw new Error(`Could not update ${J} (HTTP status ${Y.status}):
${D}`)}await Y.body?.cancel()}Z.validateHttpResponse=U},"../node_modules/@comunica/bus-rdf-update-quads/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js"),Z),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js"),Z),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/IQuadDestination.js"),Z),F(G("../node_modules/@comunica/bus-rdf-update-quads/lib/utils.js"),Z)},"../node_modules/@comunica/bus-rdf-update-quads/lib/utils.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getContextDestinationUrl=Z.getContextDestinationFirst=Z.getContextDestination=Z.getDataDestinationContext=Z.getDataDestinationValue=Z.getDataDestinationType=Z.isDataDestinationRawType=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js");function F(q){return typeof q=="string"||"remove"in q}Z.isDataDestinationRawType=F;function U(q){return typeof q=="string"?"":"remove"in q?"rdfjsStore":q.type}Z.getDataDestinationType=U;function J(q){return F(q)?q:q.value}Z.getDataDestinationValue=J;function Y(q,te){return typeof q=="string"||"remove"in q||!q.context?te:te.merge(q.context)}Z.getDataDestinationContext=Y;function D(q){return q.get(W.KeysRdfUpdateQuads.destination)}Z.getContextDestination=D;function Q(q){if(q.has(W.KeysRdfUpdateQuads.destination))return q.get(W.KeysRdfUpdateQuads.destination)}Z.getContextDestinationFirst=Q;function ee(q){if(q){let te=J(q);if(typeof te=="string"){const ie=te.indexOf("#");return ie>=0&&(te=te.slice(0,ie)),te}}}Z.getContextDestinationUrl=ee},"../node_modules/@comunica/context-entries/lib/Keys.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.KeysRdfUpdateQuads=Z.KeysRdfResolveQuadPattern=Z.KeysRdfParseHtmlScript=Z.KeysRdfParseJsonLd=Z.KeysQueryOperation=Z.KeysInitQuery=Z.KeysHttpProxy=Z.KeysHttpMemento=Z.KeysHttpWayback=Z.KeysHttp=Z.KeysCore=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");Z.KeysCore={log:W.CONTEXT_KEY_LOGGER},Z.KeysHttp={includeCredentials:new W.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new W.ActionContextKey("@comunica/bus-http:auth"),fetch:new W.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new W.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new W.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new W.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new W.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new W.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")},Z.KeysHttpWayback={recoverBrokenLinks:new W.ActionContextKey("@comunica/bus-http:recover-broken-links")},Z.KeysHttpMemento={datetime:new W.ActionContextKey("@comunica/actor-http-memento:datetime")},Z.KeysHttpProxy={httpProxyHandler:new W.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Z.KeysInitQuery={initialBindings:new W.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new W.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new W.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new W.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new W.ActionContextKey("@comunica/actor-init-query:queryString"),query:new W.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new W.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new W.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new W.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new W.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new W.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new W.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new W.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new W.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new W.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new W.ActionContextKey("@context")},Z.KeysQueryOperation={operation:new W.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new W.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new W.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new W.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new W.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new W.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new W.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new W.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),localizeBlankNodes:new W.ActionContextKey("@comunica/actor-query-operation:localizeBlankNodes")},Z.KeysRdfParseJsonLd={documentLoader:new W.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new W.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new W.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Z.KeysRdfParseHtmlScript={processingHtmlScript:new W.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new W.ActionContextKey("extractAllScripts")},Z.KeysRdfResolveQuadPattern={sources:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sources"),source:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:source"),sourceIds:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sourceIds"),hypermediaSourcesAggregatedStores:new W.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:hypermediaSourcesAggregatedStores")},Z.KeysRdfUpdateQuads={destination:new W.ActionContextKey("@comunica/bus-rdf-update-quads:destination")}},"../node_modules/@comunica/context-entries/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/context-entries/lib/Keys.js"),Z)},"../node_modules/@comunica/core/lib/ActionContext.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActionContextKey=Z.ActionContext=void 0;const W=G("../packages/immutable/dist/index.js");class F{constructor(Y={}){this.map=(0,W.Map)(Y)}setDefault(Y,D){return this.has(Y)?this:this.set(Y,D)}set(Y,D){return this.setRaw(Y.name,D)}setRaw(Y,D){return new F(this.map.set(Y,D))}delete(Y){return new F(this.map.delete(Y.name))}get(Y){return this.getRaw(Y.name)}getRaw(Y){return this.map.get(Y)}getSafe(Y){if(!this.has(Y))throw new Error(`Context entry ${Y.name} is required but not available`);return this.get(Y)}has(Y){return this.hasRaw(Y.name)}hasRaw(Y){return this.map.has(Y)}merge(...Y){let D=this;for(const Q of Y)for(const ee of Q.keys())D=D.set(ee,Q.get(ee));return D}keys(){return[...this.map.keys()].map(Y=>new U(Y))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(Y){return Y instanceof F?Y:new F((0,W.Map)(Y||{}))}}Z.ActionContext=F;class U{constructor(Y){this.name=Y}}Z.ActionContextKey=U},"../node_modules/@comunica/core/lib/ActionObserver.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.ActionObserver=void 0;class G{constructor(F){Object.assign(this,F)}}Z.ActionObserver=G},"../node_modules/@comunica/core/lib/Actor.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Actor=void 0;const W=G("../node_modules/@comunica/core/lib/ContextEntries.js");class F{constructor(J){this.beforeActors=[],Object.assign(this,J),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(J){return J.get(W.CONTEXT_KEY_LOGGER)}runObservable(J){const Y=this.run(J);return this.bus.onRun(this,J,Y),Y}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(J,Y){const D=Y?Y():{};return D.actor=this.name,D}logTrace(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.trace(Y,this.getDefaultLogData(J,D))}logDebug(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.debug(Y,this.getDefaultLogData(J,D))}logInfo(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.info(Y,this.getDefaultLogData(J,D))}logWarn(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.warn(Y,this.getDefaultLogData(J,D))}logError(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.error(Y,this.getDefaultLogData(J,D))}logFatal(J,Y,D){const Q=F.getContextLogger(J);Q&&Q.fatal(Y,this.getDefaultLogData(J,D))}}Z.Actor=F},"../node_modules/@comunica/core/lib/Bus.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Bus=void 0;class G{constructor(F){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,F)}subscribe(F){this.actors.push(F),this.reorderForDependencies()}subscribeObserver(F){this.observers.push(F)}unsubscribe(F){const U=this.actors.indexOf(F);return U>=0?(this.actors.splice(U,1),!0):!1}unsubscribeObserver(F){const U=this.observers.indexOf(F);return U>=0?(this.observers.splice(U,1),!0):!1}publish(F){return this.actors.map(U=>({actor:U,reply:U.test(F)}))}onRun(F,U,J){for(const Y of this.observers)Y.onRun(F,U,J)}addDependencies(F,U){for(const J of U){let Y=this.dependencyLinks.get(J);Y||(Y=[],this.dependencyLinks.set(J,Y)),Y.push(F)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const F=[];for(const U of this.dependencyLinks.keys()){const J=this.actors.indexOf(U);J>=0&&(this.actors.splice(J,1),F.push(U))}for(;F.length>0;){let U=-1;for(let Y=0;Y<F.length;Y++){let D=!0;for(const Q of this.dependencyLinks.get(F[Y]))if(!this.actors.includes(Q)&&F.includes(Q)){D=!1;break}if(D){U=Y;break}}if(U<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const J=F.splice(U,1)[0];this.actors.push(J)}}}}Z.Bus=G},"../node_modules/@comunica/core/lib/BusIndexed.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BusIndexed=void 0;const W=G("../node_modules/@comunica/core/lib/Bus.js");class F extends W.Bus{constructor(J){super(J),this.actorsIndex={}}subscribe(J){const Y=this.getActorIdentifier(J)||"_undefined_";let D=this.actorsIndex[Y];D||(D=this.actorsIndex[Y]=[]),D.push(J),super.subscribe(J)}unsubscribe(J){const Y=this.getActorIdentifier(J)||"_undefined_",D=this.actorsIndex[Y];if(D){const Q=D.indexOf(J);Q>=0&&D.splice(Q,1),D.length===0&&delete this.actorsIndex[Y]}return super.unsubscribe(J)}publish(J){const Y=this.getActionIdentifier(J);return Y?[...this.actorsIndex[Y]||[],...this.actorsIndex._undefined_||[]].map(Q=>({actor:Q,reply:Q.test(J)})):super.publish(J)}getActorIdentifier(J){return this.actorIdentifierFields.reduce((Y,D)=>Y[D],J)}getActionIdentifier(J){return this.actionIdentifierFields.reduce((Y,D)=>Y[D],J)}}Z.BusIndexed=F},"../node_modules/@comunica/core/lib/ContextEntries.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.CONTEXT_KEY_LOGGER=void 0;const W=G("../node_modules/@comunica/core/lib/ActionContext.js");Z.CONTEXT_KEY_LOGGER=new W.ActionContextKey("@comunica/core:log")},"../node_modules/@comunica/core/lib/Mediator.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Mediator=void 0;class G{constructor(F){Object.assign(this,F)}publish(F){const U=this.bus.publish(F);if(U.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return U}async mediateActor(F){return await this.mediateWith(F,this.publish(F))}async mediate(F){return(await this.mediateActor(F)).runObservable(F)}}Z.Mediator=G},"../node_modules/@comunica/core/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(Y,D,Q,ee){ee===void 0&&(ee=Q);var q=Object.getOwnPropertyDescriptor(D,Q);(!q||("get"in q?!D.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return D[Q]}}),Object.defineProperty(Y,ee,q)}:function(Y,D,Q,ee){ee===void 0&&(ee=Q),Y[ee]=D[Q]}),F=this&&this.__exportStar||function(Y,D){for(var Q in Y)Q!=="default"&&!Object.prototype.hasOwnProperty.call(D,Q)&&W(D,Y,Q)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.Logger=void 0;const J=G("../node_modules/@comunica/types/lib/index.js").Logger;Z.Logger=J,F(G("../node_modules/@comunica/core/lib/ActionContext.js"),Z),F(G("../node_modules/@comunica/core/lib/Bus.js"),Z),F(G("../node_modules/@comunica/core/lib/BusIndexed.js"),Z),F(G("../node_modules/@comunica/core/lib/ContextEntries.js"),Z),F(G("../node_modules/@comunica/core/lib/ActionObserver.js"),Z),F(G("../node_modules/@comunica/core/lib/Actor.js"),Z),F(G("../node_modules/@comunica/core/lib/Mediator.js"),Z)},"../node_modules/@comunica/data-factory/lib/BlankNodeBindingsScoped.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BlankNodeBindingsScoped=void 0;class G{constructor(F){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=F}equals(F){return!!F&&F.termType==="BlankNode"&&F.value===this.value}}Z.BlankNodeBindingsScoped=G},"../node_modules/@comunica/data-factory/lib/BlankNodeScoped.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BlankNodeScoped=void 0;class G{constructor(F,U){this.termType="BlankNode",this.value=F,this.skolemized=U}equals(F){return!!F&&F.termType==="BlankNode"&&F.value===this.value}}Z.BlankNodeScoped=G},"../node_modules/@comunica/data-factory/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/data-factory/lib/BlankNodeScoped.js"),Z),F(G("../node_modules/@comunica/data-factory/lib/BlankNodeBindingsScoped.js"),Z)},"../node_modules/@comunica/logger-void/lib/LoggerVoid.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.LoggerVoid=void 0;const W=G("../node_modules/@comunica/types/lib/index.js");class F extends W.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}Z.LoggerVoid=F},"../node_modules/@comunica/logger-void/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/logger-void/lib/LoggerVoid.js"),Z)},"../node_modules/@comunica/mediator-all/lib/MediatorAll.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorAll=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J)}async mediate(J){const Y=[];let D;try{D=this.publish(J)}catch{D=[]}for(const ee of D)try{await ee.reply,Y.push(ee.actor)}catch{}return(await Promise.all(Y.map(ee=>ee.runObservable(J))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}Z.MediatorAll=F},"../node_modules/@comunica/mediator-all/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-all/lib/MediatorAll.js"),Z)},"../node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorCombinePipeline=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J)}async mediate(J){let Y;try{Y=this.publish(J)}catch{return J}if(this.filterErrors){const Q=[];for(const ee of Y)try{await ee.reply,Q.push(ee)}catch{}Y=Q}if(Y=await Promise.all(Y.map(async({actor:Q,reply:ee})=>({actor:Q,reply:await ee}))),this.order){const Q=ee=>{const q=this.field?ee[this.field]:ee;if(typeof q!="number")throw new Error("Cannot order elements that are not numbers.");return q};Y=Y.sort((ee,q)=>(this.order==="increasing"?1:-1)*(Q(ee.reply)-Q(q.reply)))}let D=J;for(const{actor:Q}of Y)D={...D,...await Q.runObservable(D)};return D}mediateWith(){throw new Error("Method not supported.")}}Z.MediatorCombinePipeline=F},"../node_modules/@comunica/mediator-combine-pipeline/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js"),Z)},"../node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorCombineUnion=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J),this.combiner=this.createCombiner()}async mediate(J){let Y;try{Y=this.publish(J)}catch{Y=[]}await Promise.all(Y.map(({reply:Q})=>Q));const D=await Promise.all(Y.map(Q=>Q.actor.runObservable(J)));return this.combiner(D)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return J=>{const Y={};return Y[this.field]={},[{}].concat(J.map(D=>D[this.field])).forEach((D,Q,ee)=>{Y[this.field]={...D,...Y[this.field]}}),Y}}}Z.MediatorCombineUnion=F},"../node_modules/@comunica/mediator-combine-union/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js"),Z)},"../node_modules/@comunica/mediator-join-coefficients-fixed/lib/MediatorJoinCoefficientsFixed.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorJoinCoefficientsFixed=void 0;const W=G("../node_modules/@comunica/context-entries/lib/index.js"),F=G("../node_modules/@comunica/core/lib/index.js");class U extends F.Mediator{constructor(Y){super(Y)}async mediateWith(Y,D){const Q=[],ee=D.map(({reply:pe})=>pe).map(pe=>pe.catch(ue=>{Q.push(ue)})),q=await Promise.all(ee);let te=q.map((pe,ue)=>{if(pe)return pe.iterations*this.cpuWeight+pe.persistedItems*this.memoryWeight+pe.blockingItems*this.timeWeight+pe.requestTime*this.ioWeight});const ie=Math.max(...te.filter(pe=>pe!==void 0)),ne=Y.context.get(W.KeysQueryOperation.limitIndicator);ne&&(te=te.map((pe,ue)=>pe!==void 0&&q[ue].persistedItems>0&&q[ue].iterations>ne?pe+ie:pe));let ce=-1,le=Number.POSITIVE_INFINITY;for(const[pe,ue]of te.entries())ue!==void 0&&(ce===-1||ue<le)&&(ce=pe,le=ue);if(ce<0)throw new Error(`All actors rejected their test in ${this.name}
${Q.map(pe=>pe.message).join(`
`)}`);const se=D[ce].actor;return se.includeInLogs&&F.Actor.getContextLogger(Y.context)?.debug(`Determined physical join operator '${se.logicalType}-${se.physicalName}'`,{entries:Y.entries.length,variables:await Promise.all(Y.entries.map(async pe=>(await pe.output.metadata()).variables.map(ue=>ue.value))),costs:Object.fromEntries(te.map((pe,ue)=>[`${D[ue].actor.logicalType}-${D[ue].actor.physicalName}`,pe])),coefficients:Object.fromEntries(q.map((pe,ue)=>[`${D[ue].actor.logicalType}-${D[ue].actor.physicalName}`,pe]))}),se}}Z.MediatorJoinCoefficientsFixed=U},"../node_modules/@comunica/mediator-join-coefficients-fixed/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-join-coefficients-fixed/lib/MediatorJoinCoefficientsFixed.js"),Z)},"../node_modules/@comunica/mediator-number/lib/MediatorNumber.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorNumber=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return J=>J.reduce((Y,D,Q)=>{const ee=this.getOrDefault(D[this.field],Number.POSITIVE_INFINITY);return ee!==null&&(Number.isNaN(Y[0])||Y[0]>ee)?[ee,Q]:Y},[Number.NaN,-1])[1];case"max":return J=>J.reduce((Y,D,Q)=>{const ee=this.getOrDefault(D[this.field],Number.NEGATIVE_INFINITY);return ee!==null&&(Number.isNaN(Y[0])||Y[0]<ee)?[ee,Q]:Y},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(J,Y){return J===void 0?Y:J}async mediateWith(J,Y){let D=Y.map(({reply:te})=>te);const Q=[];if(this.ignoreErrors){const te={};te[this.field]=null,D=D.map(ie=>ie.catch(ne=>(Q.push(ne),te)))}const ee=await Promise.all(D),q=this.indexPicker(ee);if(q<0)throw new Error(`All actors rejected their test in ${this.name}
${Q.map(te=>te.message).join(`
`)}`);return Y[q].actor}}Z.MediatorNumber=F},"../node_modules/@comunica/mediator-number/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-number/lib/MediatorNumber.js"),Z)},"../node_modules/@comunica/mediator-race/lib/MediatorRace.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MediatorRace=void 0;const W=G("../node_modules/@comunica/core/lib/index.js");class F extends W.Mediator{constructor(J){super(J)}mediateWith(J,Y){return new Promise((D,Q)=>{const ee=[];for(const q of Y)q.reply.then(()=>{D(q.actor)}).catch(te=>{ee.push(te),ee.length===Y.length&&Q(new Error(`${this.name} mediated over all rejecting actors:
${ee.map(ie=>ie.message).join(`
`)}`))})})}}Z.MediatorRace=F},"../node_modules/@comunica/mediator-race/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/mediator-race/lib/MediatorRace.js"),Z)},"../node_modules/@comunica/types/lib/Bindings.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IActionContext.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IAggregatedStore.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/ICliArgsHandler.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IDataDestination.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IDataSource.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IJoinEntry.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IMetadata.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IPhysicalQueryPlanLogger.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IProxyHandler.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryContext.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryEngine.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryOperationResult.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/Logger.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Logger=void 0;class G{static getLevelOrdinal(F){return G.LEVELS[F]}}Z.Logger=G,G.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},"../node_modules/@comunica/types/lib/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/@comunica/types/lib/Bindings.js"),Z),F(G("../node_modules/@comunica/types/lib/IActionContext.js"),Z),F(G("../node_modules/@comunica/types/lib/IAggregatedStore.js"),Z),F(G("../node_modules/@comunica/types/lib/ICliArgsHandler.js"),Z),F(G("../node_modules/@comunica/types/lib/IDataDestination.js"),Z),F(G("../node_modules/@comunica/types/lib/IDataSource.js"),Z),F(G("../node_modules/@comunica/types/lib/IJoinEntry.js"),Z),F(G("../node_modules/@comunica/types/lib/IMetadata.js"),Z),F(G("../node_modules/@comunica/types/lib/IPhysicalQueryPlanLogger.js"),Z),F(G("../node_modules/@comunica/types/lib/IProxyHandler.js"),Z),F(G("../node_modules/@comunica/types/lib/IQueryContext.js"),Z),F(G("../node_modules/@comunica/types/lib/IQueryEngine.js"),Z),F(G("../node_modules/@comunica/types/lib/IQueryOperationResult.js"),Z),F(G("../node_modules/@comunica/types/lib/Logger.js"),Z)},"../node_modules/asyncjoin/index.js":(X,Z,G)=>{const W=G("../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js"),F=G("../node_modules/asyncjoin/join/HashJoin.js"),U=G("../node_modules/asyncjoin/join/NestedLoopJoin.js"),J=G("../node_modules/asyncjoin/join/SymmetricHashJoin.js"),Y=G("../node_modules/asyncjoin/util/MergeIterator.js");X.exports={DynamicNestedLoopJoin:W,HashJoin:F,NestedLoopJoin:U,SymmetricHashJoin:J,MergeStream:Y}},"../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js":(X,Z,G)=>{let W=G("asynciterator"),F=W.MultiTransformIterator,U=W.SimpleTransformIterator;class J extends F{constructor(D,Q,ee,q){super(D,q),this.funRight=Q,this.funJoin=ee}_createTransformer(D){return new U(this.funRight(D),{transform:(Q,ee,q)=>{let te=this.funJoin(D,Q);te!==null&&q(te),ee()}})}}X.exports=J},"../node_modules/asyncjoin/join/HashJoin.js":(X,Z,G)=>{let W=G("asynciterator").AsyncIterator;class F extends W{constructor(J,Y,D,Q){super(),this.addedDataListener=!1,this.left=J,this.right=Y,this.funHash=D,this.funJoin=Q,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",q=>this.destroy(q)),this.right.on("error",q=>this.destroy(q)),this.readable=!1,this.left.on("end",ee.bind(this));function ee(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",q=>{q==="data"&&!this.addedDataListener&&(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener());;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let Y=this.matches[this.matchIdx++],D=this.funJoin(Y,this.match);if(D!==null)return D}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let J=this.funHash(this.match);this.matches=this.leftMap.get(J)||[],this.matchIdx=0}}_addDataListener(){this.left.on("data",J.bind(this));function J(Y){let D=this.funHash(Y);this.leftMap.has(D)||this.leftMap.set(D,[]),this.leftMap.get(D).push(Y)}}}X.exports=F},"../node_modules/asyncjoin/join/NestedLoopJoin.js":(X,Z,G)=>{const{MultiTransformIterator:W,SimpleTransformIterator:F,scheduleTask:U}=G("asynciterator");class J extends W{constructor(D,Q,ee,q){super(D,q),this.right=Q,this.funJoin=ee,this.on("end",()=>this.right.close())}_end(){super._end(),U(()=>this.right.destroy())}_createTransformer(D){return new F(this.right.clone(),{transform:(Q,ee,q)=>{let te=this.funJoin(D,Q);te!==null&&q(te),ee()}})}}X.exports=J},"../node_modules/asyncjoin/join/SymmetricHashJoin.js":(X,Z,G)=>{let W=G("asynciterator").AsyncIterator;class F extends W{constructor(J,Y,D,Q){super(),this.left=J,this.right=Y,this.funHash=D,this.funJoin=Q,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",ee=>this.destroy(ee)),this.right.on("error",ee=>this.destroy(ee)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let ee=this.matches[this.matchIdx++],q=this.usedLeft?this.funJoin(this.match,ee):this.funJoin(ee,this.match);if(q!==null)return q}this.hasResults()||this._end();let J=null;for(let ee=0;ee<2&&(J=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,J===null);++ee);if(this.done||J===null)return this.readable=!1,null;let Y=this.funHash(J),D=this.usedLeft?this.leftMap:this.rightMap;return D.has(Y)||D.set(Y,[]),D.get(Y).push(J),this.match=J,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(Y)||[],this.matchIdx=0,this.read()}}X.exports=F},"../node_modules/asyncjoin/util/MergeIterator.js":(X,Z,G)=>{let W=G("asynciterator").AsyncIterator;class F extends W{constructor(J){super(),Array.isArray(J)||(J=Array.prototype.slice.call(arguments)),this.streams=J;for(let Y of J)Y.on("readable",()=>this.emit("readable")),Y.on("end",()=>this._removeStream(Y));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(J){let Y=this.streams.indexOf(J);Y<0||(this.streams.splice(Y,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let J of this.streams)J.close()}read(){for(let J=0;J<this.streams.length;++J){this.idx=(this.idx+1)%this.streams.length;let Y=this.streams[this.idx].read();if(Y!==null)return Y}return null}}X.exports=F},"../node_modules/bignumber.js/bignumber.js":function(X,Z,G){var W;(function(F){var U,J=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Y=Math.ceil,D=Math.floor,Q="[BigNumber Error] ",ee=Q+"Number primitive has more than 15 significant digits: ",q=1e14,te=14,ie=9007199254740991,ne=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ce=1e7,le=1e9;function se(Xe){var We,fe,Re,ye=qe.prototype={constructor:qe,toString:null,valueOf:null},re=new qe(1),Ze=20,Ge=4,ve=-7,Te=21,xe=-1e7,Ie=1e7,Se=!1,Ne=1,je=0,tt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},it="0123456789abcdefghijklmnopqrstuvwxyz",st=!0;function qe(Me,ke){var Ye,Ce,ze,Ee,_e,He,Pe,$e,we=this;if(!(we instanceof qe))return new qe(Me,ke);if(ke==null){if(Me&&Me._isBigNumber===!0){we.s=Me.s,!Me.c||Me.e>Ie?we.c=we.e=null:Me.e<xe?we.c=[we.e=0]:(we.e=Me.e,we.c=Me.c.slice());return}if((He=typeof Me=="number")&&Me*0==0){if(we.s=1/Me<0?(Me=-Me,-1):1,Me===~~Me){for(Ee=0,_e=Me;_e>=10;_e/=10,Ee++);Ee>Ie?we.c=we.e=null:(we.e=Ee,we.c=[Me]);return}$e=String(Me)}else{if(!J.test($e=String(Me)))return Re(we,$e,He);we.s=$e.charCodeAt(0)==45?($e=$e.slice(1),-1):1}(Ee=$e.indexOf("."))>-1&&($e=$e.replace(".","")),(_e=$e.search(/e/i))>0?(Ee<0&&(Ee=_e),Ee+=+$e.slice(_e+1),$e=$e.substring(0,_e)):Ee<0&&(Ee=$e.length)}else{if(de(ke,2,it.length,"Base"),ke==10&&st)return we=new qe(Me),mt(we,Ze+we.e+1,Ge);if($e=String(Me),He=typeof Me=="number"){if(Me*0!=0)return Re(we,$e,He,ke);if(we.s=1/Me<0?($e=$e.slice(1),-1):1,qe.DEBUG&&$e.replace(/^0\.0*|\./,"").length>15)throw Error(ee+Me)}else we.s=$e.charCodeAt(0)===45?($e=$e.slice(1),-1):1;for(Ye=it.slice(0,ke),Ee=_e=0,Pe=$e.length;_e<Pe;_e++)if(Ye.indexOf(Ce=$e.charAt(_e))<0){if(Ce=="."){if(_e>Ee){Ee=Pe;continue}}else if(!ze&&($e==$e.toUpperCase()&&($e=$e.toLowerCase())||$e==$e.toLowerCase()&&($e=$e.toUpperCase()))){ze=!0,_e=-1,Ee=0;continue}return Re(we,String(Me),He,ke)}He=!1,$e=fe($e,ke,10,we.s),(Ee=$e.indexOf("."))>-1?$e=$e.replace(".",""):Ee=$e.length}for(_e=0;$e.charCodeAt(_e)===48;_e++);for(Pe=$e.length;$e.charCodeAt(--Pe)===48;);if($e=$e.slice(_e,++Pe)){if(Pe-=_e,He&&qe.DEBUG&&Pe>15&&(Me>ie||Me!==D(Me)))throw Error(ee+we.s*Me);if((Ee=Ee-_e-1)>Ie)we.c=we.e=null;else if(Ee<xe)we.c=[we.e=0];else{if(we.e=Ee,we.c=[],_e=(Ee+1)%te,Ee<0&&(_e+=te),_e<Pe){for(_e&&we.c.push(+$e.slice(0,_e)),Pe-=te;_e<Pe;)we.c.push(+$e.slice(_e,_e+=te));_e=te-($e=$e.slice(_e)).length}else _e-=Pe;for(;_e--;$e+="0");we.c.push(+$e)}}else we.c=[we.e=0]}qe.clone=se,qe.ROUND_UP=0,qe.ROUND_DOWN=1,qe.ROUND_CEIL=2,qe.ROUND_FLOOR=3,qe.ROUND_HALF_UP=4,qe.ROUND_HALF_DOWN=5,qe.ROUND_HALF_EVEN=6,qe.ROUND_HALF_CEIL=7,qe.ROUND_HALF_FLOOR=8,qe.EUCLID=9,qe.config=qe.set=function(Me){var ke,Ye;if(Me!=null)if(typeof Me=="object"){if(Me.hasOwnProperty(ke="DECIMAL_PLACES")&&(Ye=Me[ke],de(Ye,0,le,ke),Ze=Ye),Me.hasOwnProperty(ke="ROUNDING_MODE")&&(Ye=Me[ke],de(Ye,0,8,ke),Ge=Ye),Me.hasOwnProperty(ke="EXPONENTIAL_AT")&&(Ye=Me[ke],Ye&&Ye.pop?(de(Ye[0],-le,0,ke),de(Ye[1],0,le,ke),ve=Ye[0],Te=Ye[1]):(de(Ye,-le,le,ke),ve=-(Te=Ye<0?-Ye:Ye))),Me.hasOwnProperty(ke="RANGE"))if(Ye=Me[ke],Ye&&Ye.pop)de(Ye[0],-le,-1,ke),de(Ye[1],1,le,ke),xe=Ye[0],Ie=Ye[1];else if(de(Ye,-le,le,ke),Ye)xe=-(Ie=Ye<0?-Ye:Ye);else throw Error(Q+ke+" cannot be zero: "+Ye);if(Me.hasOwnProperty(ke="CRYPTO"))if(Ye=Me[ke],Ye===!!Ye)if(Ye)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Se=Ye;else throw Se=!Ye,Error(Q+"crypto unavailable");else Se=Ye;else throw Error(Q+ke+" not true or false: "+Ye);if(Me.hasOwnProperty(ke="MODULO_MODE")&&(Ye=Me[ke],de(Ye,0,9,ke),Ne=Ye),Me.hasOwnProperty(ke="POW_PRECISION")&&(Ye=Me[ke],de(Ye,0,le,ke),je=Ye),Me.hasOwnProperty(ke="FORMAT"))if(Ye=Me[ke],typeof Ye=="object")tt=Ye;else throw Error(Q+ke+" not an object: "+Ye);if(Me.hasOwnProperty(ke="ALPHABET"))if(Ye=Me[ke],typeof Ye=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Ye))st=Ye.slice(0,10)=="0123456789",it=Ye;else throw Error(Q+ke+" invalid: "+Ye)}else throw Error(Q+"Object expected: "+Me);return{DECIMAL_PLACES:Ze,ROUNDING_MODE:Ge,EXPONENTIAL_AT:[ve,Te],RANGE:[xe,Ie],CRYPTO:Se,MODULO_MODE:Ne,POW_PRECISION:je,FORMAT:tt,ALPHABET:it}},qe.isBigNumber=function(Me){if(!Me||Me._isBigNumber!==!0)return!1;if(!qe.DEBUG)return!0;var ke,Ye,Ce=Me.c,ze=Me.e,Ee=Me.s;e:if({}.toString.call(Ce)=="[object Array]"){if((Ee===1||Ee===-1)&&ze>=-le&&ze<=le&&ze===D(ze)){if(Ce[0]===0){if(ze===0&&Ce.length===1)return!0;break e}if(ke=(ze+1)%te,ke<1&&(ke+=te),String(Ce[0]).length==ke){for(ke=0;ke<Ce.length;ke++)if(Ye=Ce[ke],Ye<0||Ye>=q||Ye!==D(Ye))break e;if(Ye!==0)return!0}}}else if(Ce===null&&ze===null&&(Ee===null||Ee===1||Ee===-1))return!0;throw Error(Q+"Invalid BigNumber: "+Me)},qe.maximum=qe.max=function(){return ut(arguments,ye.lt)},qe.minimum=qe.min=function(){return ut(arguments,ye.gt)},qe.random=function(){var Me=9007199254740992,ke=Math.random()*Me&2097151?function(){return D(Math.random()*Me)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Ye){var Ce,ze,Ee,_e,He,Pe=0,$e=[],we=new qe(re);if(Ye==null?Ye=Ze:de(Ye,0,le),_e=Y(Ye/te),Se)if(crypto.getRandomValues){for(Ce=crypto.getRandomValues(new Uint32Array(_e*=2));Pe<_e;)He=Ce[Pe]*131072+(Ce[Pe+1]>>>11),He>=9e15?(ze=crypto.getRandomValues(new Uint32Array(2)),Ce[Pe]=ze[0],Ce[Pe+1]=ze[1]):($e.push(He%1e14),Pe+=2);Pe=_e/2}else if(crypto.randomBytes){for(Ce=crypto.randomBytes(_e*=7);Pe<_e;)He=(Ce[Pe]&31)*281474976710656+Ce[Pe+1]*1099511627776+Ce[Pe+2]*4294967296+Ce[Pe+3]*16777216+(Ce[Pe+4]<<16)+(Ce[Pe+5]<<8)+Ce[Pe+6],He>=9e15?crypto.randomBytes(7).copy(Ce,Pe):($e.push(He%1e14),Pe+=7);Pe=_e/7}else throw Se=!1,Error(Q+"crypto unavailable");if(!Se)for(;Pe<_e;)He=ke(),He<9e15&&($e[Pe++]=He%1e14);for(_e=$e[--Pe],Ye%=te,_e&&Ye&&(He=ne[te-Ye],$e[Pe]=D(_e/He)*He);$e[Pe]===0;$e.pop(),Pe--);if(Pe<0)$e=[Ee=0];else{for(Ee=-1;$e[0]===0;$e.splice(0,1),Ee-=te);for(Pe=1,He=$e[0];He>=10;He/=10,Pe++);Pe<te&&(Ee-=te-Pe)}return we.e=Ee,we.c=$e,we}}(),qe.sum=function(){for(var Me=1,ke=arguments,Ye=new qe(ke[0]);Me<ke.length;)Ye=Ye.plus(ke[Me++]);return Ye},fe=function(){var Me="0123456789";function ke(Ye,Ce,ze,Ee){for(var _e,He=[0],Pe,$e=0,we=Ye.length;$e<we;){for(Pe=He.length;Pe--;He[Pe]*=Ce);for(He[0]+=Ee.indexOf(Ye.charAt($e++)),_e=0;_e<He.length;_e++)He[_e]>ze-1&&(He[_e+1]==null&&(He[_e+1]=0),He[_e+1]+=He[_e]/ze|0,He[_e]%=ze)}return He.reverse()}return function(Ye,Ce,ze,Ee,_e){var He,Pe,$e,we,Ue,et,at,Ve,oe=Ye.indexOf("."),me=Ze,ge=Ge;for(oe>=0&&(we=je,je=0,Ye=Ye.replace(".",""),Ve=new qe(Ce),et=Ve.pow(Ye.length-oe),je=we,Ve.c=ke(Le(ue(et.c),et.e,"0"),10,ze,Me),Ve.e=Ve.c.length),at=ke(Ye,Ce,ze,_e?(He=it,Me):(He=Me,it)),$e=we=at.length;at[--we]==0;at.pop());if(!at[0])return He.charAt(0);if(oe<0?--$e:(et.c=at,et.e=$e,et.s=Ee,et=We(et,Ve,me,ge,ze),at=et.c,Ue=et.r,$e=et.e),Pe=$e+me+1,oe=at[Pe],we=ze/2,Ue=Ue||Pe<0||at[Pe+1]!=null,Ue=ge<4?(oe!=null||Ue)&&(ge==0||ge==(et.s<0?3:2)):oe>we||oe==we&&(ge==4||Ue||ge==6&&at[Pe-1]&1||ge==(et.s<0?8:7)),Pe<1||!at[0])Ye=Ue?Le(He.charAt(1),-me,He.charAt(0)):He.charAt(0);else{if(at.length=Pe,Ue)for(--ze;++at[--Pe]>ze;)at[Pe]=0,Pe||(++$e,at=[1].concat(at));for(we=at.length;!at[--we];);for(oe=0,Ye="";oe<=we;Ye+=He.charAt(at[oe++]));Ye=Le(Ye,$e,He.charAt(0))}return Ye}}(),We=function(){function Me(Ce,ze,Ee){var _e,He,Pe,$e,we=0,Ue=Ce.length,et=ze%ce,at=ze/ce|0;for(Ce=Ce.slice();Ue--;)Pe=Ce[Ue]%ce,$e=Ce[Ue]/ce|0,_e=at*Pe+$e*et,He=et*Pe+_e%ce*ce+we,we=(He/Ee|0)+(_e/ce|0)+at*$e,Ce[Ue]=He%Ee;return we&&(Ce=[we].concat(Ce)),Ce}function ke(Ce,ze,Ee,_e){var He,Pe;if(Ee!=_e)Pe=Ee>_e?1:-1;else for(He=Pe=0;He<Ee;He++)if(Ce[He]!=ze[He]){Pe=Ce[He]>ze[He]?1:-1;break}return Pe}function Ye(Ce,ze,Ee,_e){for(var He=0;Ee--;)Ce[Ee]-=He,He=Ce[Ee]<ze[Ee]?1:0,Ce[Ee]=He*_e+Ce[Ee]-ze[Ee];for(;!Ce[0]&&Ce.length>1;Ce.splice(0,1));}return function(Ce,ze,Ee,_e,He){var Pe,$e,we,Ue,et,at,Ve,oe,me,ge,Fe,Ke,Ae,rt,vt,Vt,Wt,ft=Ce.s==ze.s?1:-1,Rt=Ce.c,It=ze.c;if(!Rt||!Rt[0]||!It||!It[0])return new qe(!Ce.s||!ze.s||(Rt?It&&Rt[0]==It[0]:!It)?NaN:Rt&&Rt[0]==0||!It?ft*0:ft/0);for(oe=new qe(ft),me=oe.c=[],$e=Ce.e-ze.e,ft=Ee+$e+1,He||(He=q,$e=pe(Ce.e/te)-pe(ze.e/te),ft=ft/te|0),we=0;It[we]==(Rt[we]||0);we++);if(It[we]>(Rt[we]||0)&&$e--,ft<0)me.push(1),Ue=!0;else{for(rt=Rt.length,Vt=It.length,we=0,ft+=2,et=D(He/(It[0]+1)),et>1&&(It=Me(It,et,He),Rt=Me(Rt,et,He),Vt=It.length,rt=Rt.length),Ae=Vt,ge=Rt.slice(0,Vt),Fe=ge.length;Fe<Vt;ge[Fe++]=0);Wt=It.slice(),Wt=[0].concat(Wt),vt=It[0],It[1]>=He/2&&vt++;do{if(et=0,Pe=ke(It,ge,Vt,Fe),Pe<0){if(Ke=ge[0],Vt!=Fe&&(Ke=Ke*He+(ge[1]||0)),et=D(Ke/vt),et>1)for(et>=He&&(et=He-1),at=Me(It,et,He),Ve=at.length,Fe=ge.length;ke(at,ge,Ve,Fe)==1;)et--,Ye(at,Vt<Ve?Wt:It,Ve,He),Ve=at.length,Pe=1;else et==0&&(Pe=et=1),at=It.slice(),Ve=at.length;if(Ve<Fe&&(at=[0].concat(at)),Ye(ge,at,Fe,He),Fe=ge.length,Pe==-1)for(;ke(It,ge,Vt,Fe)<1;)et++,Ye(ge,Vt<Fe?Wt:It,Fe,He),Fe=ge.length}else Pe===0&&(et++,ge=[0]);me[we++]=et,ge[0]?ge[Fe++]=Rt[Ae]||0:(ge=[Rt[Ae]],Fe=1)}while((Ae++<rt||ge[0]!=null)&&ft--);Ue=ge[0]!=null,me[0]||me.splice(0,1)}if(He==q){for(we=1,ft=me[0];ft>=10;ft/=10,we++);mt(oe,Ee+(oe.e=we+$e*te-1)+1,_e,Ue)}else oe.e=$e,oe.r=+Ue;return oe}}();function ot(Me,ke,Ye,Ce){var ze,Ee,_e,He,Pe;if(Ye==null?Ye=Ge:de(Ye,0,8),!Me.c)return Me.toString();if(ze=Me.c[0],_e=Me.e,ke==null)Pe=ue(Me.c),Pe=Ce==1||Ce==2&&(_e<=ve||_e>=Te)?he(Pe,_e):Le(Pe,_e,"0");else if(Me=mt(new qe(Me),ke,Ye),Ee=Me.e,Pe=ue(Me.c),He=Pe.length,Ce==1||Ce==2&&(ke<=Ee||Ee<=ve)){for(;He<ke;Pe+="0",He++);Pe=he(Pe,Ee)}else if(ke-=_e,Pe=Le(Pe,Ee,"0"),Ee+1>He){if(--ke>0)for(Pe+=".";ke--;Pe+="0");}else if(ke+=Ee-He,ke>0)for(Ee+1==He&&(Pe+=".");ke--;Pe+="0");return Me.s<0&&ze?"-"+Pe:Pe}function ut(Me,ke){for(var Ye,Ce=1,ze=new qe(Me[0]);Ce<Me.length;Ce++)if(Ye=new qe(Me[Ce]),Ye.s)ke.call(ze,Ye)&&(ze=Ye);else{ze=Ye;break}return ze}function dt(Me,ke,Ye){for(var Ce=1,ze=ke.length;!ke[--ze];ke.pop());for(ze=ke[0];ze>=10;ze/=10,Ce++);return(Ye=Ce+Ye*te-1)>Ie?Me.c=Me.e=null:Ye<xe?Me.c=[Me.e=0]:(Me.e=Ye,Me.c=ke),Me}Re=function(){var Me=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ke=/^([^.]+)\.$/,Ye=/^\.([^.]+)$/,Ce=/^-?(Infinity|NaN)$/,ze=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Ee,_e,He,Pe){var $e,we=He?_e:_e.replace(ze,"");if(Ce.test(we))Ee.s=isNaN(we)?null:we<0?-1:1;else{if(!He&&(we=we.replace(Me,function(Ue,et,at){return $e=(at=at.toLowerCase())=="x"?16:at=="b"?2:8,!Pe||Pe==$e?et:Ue}),Pe&&($e=Pe,we=we.replace(ke,"$1").replace(Ye,"0.$1")),_e!=we))return new qe(we,$e);if(qe.DEBUG)throw Error(Q+"Not a"+(Pe?" base "+Pe:"")+" number: "+_e);Ee.s=null}Ee.c=Ee.e=null}}();function mt(Me,ke,Ye,Ce){var ze,Ee,_e,He,Pe,$e,we,Ue=Me.c,et=ne;if(Ue){e:{for(ze=1,He=Ue[0];He>=10;He/=10,ze++);if(Ee=ke-ze,Ee<0)Ee+=te,_e=ke,Pe=Ue[$e=0],we=Pe/et[ze-_e-1]%10|0;else if($e=Y((Ee+1)/te),$e>=Ue.length)if(Ce){for(;Ue.length<=$e;Ue.push(0));Pe=we=0,ze=1,Ee%=te,_e=Ee-te+1}else break e;else{for(Pe=He=Ue[$e],ze=1;He>=10;He/=10,ze++);Ee%=te,_e=Ee-te+ze,we=_e<0?0:Pe/et[ze-_e-1]%10|0}if(Ce=Ce||ke<0||Ue[$e+1]!=null||(_e<0?Pe:Pe%et[ze-_e-1]),Ce=Ye<4?(we||Ce)&&(Ye==0||Ye==(Me.s<0?3:2)):we>5||we==5&&(Ye==4||Ce||Ye==6&&(Ee>0?_e>0?Pe/et[ze-_e]:0:Ue[$e-1])%10&1||Ye==(Me.s<0?8:7)),ke<1||!Ue[0])return Ue.length=0,Ce?(ke-=Me.e+1,Ue[0]=et[(te-ke%te)%te],Me.e=-ke||0):Ue[0]=Me.e=0,Me;if(Ee==0?(Ue.length=$e,He=1,$e--):(Ue.length=$e+1,He=et[te-Ee],Ue[$e]=_e>0?D(Pe/et[ze-_e]%et[_e])*He:0),Ce)for(;;)if($e==0){for(Ee=1,_e=Ue[0];_e>=10;_e/=10,Ee++);for(_e=Ue[0]+=He,He=1;_e>=10;_e/=10,He++);Ee!=He&&(Me.e++,Ue[0]==q&&(Ue[0]=1));break}else{if(Ue[$e]+=He,Ue[$e]!=q)break;Ue[$e--]=0,He=1}for(Ee=Ue.length;Ue[--Ee]===0;Ue.pop());}Me.e>Ie?Me.c=Me.e=null:Me.e<xe&&(Me.c=[Me.e=0])}return Me}function Je(Me){var ke,Ye=Me.e;return Ye===null?Me.toString():(ke=ue(Me.c),ke=Ye<=ve||Ye>=Te?he(ke,Ye):Le(ke,Ye,"0"),Me.s<0?"-"+ke:ke)}return ye.absoluteValue=ye.abs=function(){var Me=new qe(this);return Me.s<0&&(Me.s=1),Me},ye.comparedTo=function(Me,ke){return ae(this,new qe(Me,ke))},ye.decimalPlaces=ye.dp=function(Me,ke){var Ye,Ce,ze,Ee=this;if(Me!=null)return de(Me,0,le),ke==null?ke=Ge:de(ke,0,8),mt(new qe(Ee),Me+Ee.e+1,ke);if(!(Ye=Ee.c))return null;if(Ce=((ze=Ye.length-1)-pe(this.e/te))*te,ze=Ye[ze])for(;ze%10==0;ze/=10,Ce--);return Ce<0&&(Ce=0),Ce},ye.dividedBy=ye.div=function(Me,ke){return We(this,new qe(Me,ke),Ze,Ge)},ye.dividedToIntegerBy=ye.idiv=function(Me,ke){return We(this,new qe(Me,ke),0,1)},ye.exponentiatedBy=ye.pow=function(Me,ke){var Ye,Ce,ze,Ee,_e,He,Pe,$e,we,Ue=this;if(Me=new qe(Me),Me.c&&!Me.isInteger())throw Error(Q+"Exponent not an integer: "+Je(Me));if(ke!=null&&(ke=new qe(ke)),He=Me.e>14,!Ue.c||!Ue.c[0]||Ue.c[0]==1&&!Ue.e&&Ue.c.length==1||!Me.c||!Me.c[0])return we=new qe(Math.pow(+Je(Ue),He?Me.s*(2-be(Me)):+Je(Me))),ke?we.mod(ke):we;if(Pe=Me.s<0,ke){if(ke.c?!ke.c[0]:!ke.s)return new qe(NaN);Ce=!Pe&&Ue.isInteger()&&ke.isInteger(),Ce&&(Ue=Ue.mod(ke))}else{if(Me.e>9&&(Ue.e>0||Ue.e<-1||(Ue.e==0?Ue.c[0]>1||He&&Ue.c[1]>=24e7:Ue.c[0]<8e13||He&&Ue.c[0]<=9999975e7)))return Ee=Ue.s<0&&be(Me)?-0:0,Ue.e>-1&&(Ee=1/Ee),new qe(Pe?1/Ee:Ee);je&&(Ee=Y(je/te+2))}for(He?(Ye=new qe(.5),Pe&&(Me.s=1),$e=be(Me)):(ze=Math.abs(+Je(Me)),$e=ze%2),we=new qe(re);;){if($e){if(we=we.times(Ue),!we.c)break;Ee?we.c.length>Ee&&(we.c.length=Ee):Ce&&(we=we.mod(ke))}if(ze){if(ze=D(ze/2),ze===0)break;$e=ze%2}else if(Me=Me.times(Ye),mt(Me,Me.e+1,1),Me.e>14)$e=be(Me);else{if(ze=+Je(Me),ze===0)break;$e=ze%2}Ue=Ue.times(Ue),Ee?Ue.c&&Ue.c.length>Ee&&(Ue.c.length=Ee):Ce&&(Ue=Ue.mod(ke))}return Ce?we:(Pe&&(we=re.div(we)),ke?we.mod(ke):Ee?mt(we,je,Ge,_e):we)},ye.integerValue=function(Me){var ke=new qe(this);return Me==null?Me=Ge:de(Me,0,8),mt(ke,ke.e+1,Me)},ye.isEqualTo=ye.eq=function(Me,ke){return ae(this,new qe(Me,ke))===0},ye.isFinite=function(){return!!this.c},ye.isGreaterThan=ye.gt=function(Me,ke){return ae(this,new qe(Me,ke))>0},ye.isGreaterThanOrEqualTo=ye.gte=function(Me,ke){return(ke=ae(this,new qe(Me,ke)))===1||ke===0},ye.isInteger=function(){return!!this.c&&pe(this.e/te)>this.c.length-2},ye.isLessThan=ye.lt=function(Me,ke){return ae(this,new qe(Me,ke))<0},ye.isLessThanOrEqualTo=ye.lte=function(Me,ke){return(ke=ae(this,new qe(Me,ke)))===-1||ke===0},ye.isNaN=function(){return!this.s},ye.isNegative=function(){return this.s<0},ye.isPositive=function(){return this.s>0},ye.isZero=function(){return!!this.c&&this.c[0]==0},ye.minus=function(Me,ke){var Ye,Ce,ze,Ee,_e=this,He=_e.s;if(Me=new qe(Me,ke),ke=Me.s,!He||!ke)return new qe(NaN);if(He!=ke)return Me.s=-ke,_e.plus(Me);var Pe=_e.e/te,$e=Me.e/te,we=_e.c,Ue=Me.c;if(!Pe||!$e){if(!we||!Ue)return we?(Me.s=-ke,Me):new qe(Ue?_e:NaN);if(!we[0]||!Ue[0])return Ue[0]?(Me.s=-ke,Me):new qe(we[0]?_e:Ge==3?-0:0)}if(Pe=pe(Pe),$e=pe($e),we=we.slice(),He=Pe-$e){for((Ee=He<0)?(He=-He,ze=we):($e=Pe,ze=Ue),ze.reverse(),ke=He;ke--;ze.push(0));ze.reverse()}else for(Ce=(Ee=(He=we.length)<(ke=Ue.length))?He:ke,He=ke=0;ke<Ce;ke++)if(we[ke]!=Ue[ke]){Ee=we[ke]<Ue[ke];break}if(Ee&&(ze=we,we=Ue,Ue=ze,Me.s=-Me.s),ke=(Ce=Ue.length)-(Ye=we.length),ke>0)for(;ke--;we[Ye++]=0);for(ke=q-1;Ce>He;){if(we[--Ce]<Ue[Ce]){for(Ye=Ce;Ye&&!we[--Ye];we[Ye]=ke);--we[Ye],we[Ce]+=q}we[Ce]-=Ue[Ce]}for(;we[0]==0;we.splice(0,1),--$e);return we[0]?dt(Me,we,$e):(Me.s=Ge==3?-1:1,Me.c=[Me.e=0],Me)},ye.modulo=ye.mod=function(Me,ke){var Ye,Ce,ze=this;return Me=new qe(Me,ke),!ze.c||!Me.s||Me.c&&!Me.c[0]?new qe(NaN):!Me.c||ze.c&&!ze.c[0]?new qe(ze):(Ne==9?(Ce=Me.s,Me.s=1,Ye=We(ze,Me,0,3),Me.s=Ce,Ye.s*=Ce):Ye=We(ze,Me,0,Ne),Me=ze.minus(Ye.times(Me)),!Me.c[0]&&Ne==1&&(Me.s=ze.s),Me)},ye.multipliedBy=ye.times=function(Me,ke){var Ye,Ce,ze,Ee,_e,He,Pe,$e,we,Ue,et,at,Ve,oe,me,ge=this,Fe=ge.c,Ke=(Me=new qe(Me,ke)).c;if(!Fe||!Ke||!Fe[0]||!Ke[0])return!ge.s||!Me.s||Fe&&!Fe[0]&&!Ke||Ke&&!Ke[0]&&!Fe?Me.c=Me.e=Me.s=null:(Me.s*=ge.s,!Fe||!Ke?Me.c=Me.e=null:(Me.c=[0],Me.e=0)),Me;for(Ce=pe(ge.e/te)+pe(Me.e/te),Me.s*=ge.s,Pe=Fe.length,Ue=Ke.length,Pe<Ue&&(Ve=Fe,Fe=Ke,Ke=Ve,ze=Pe,Pe=Ue,Ue=ze),ze=Pe+Ue,Ve=[];ze--;Ve.push(0));for(oe=q,me=ce,ze=Ue;--ze>=0;){for(Ye=0,et=Ke[ze]%me,at=Ke[ze]/me|0,_e=Pe,Ee=ze+_e;Ee>ze;)$e=Fe[--_e]%me,we=Fe[_e]/me|0,He=at*$e+we*et,$e=et*$e+He%me*me+Ve[Ee]+Ye,Ye=($e/oe|0)+(He/me|0)+at*we,Ve[Ee--]=$e%oe;Ve[Ee]=Ye}return Ye?++Ce:Ve.splice(0,1),dt(Me,Ve,Ce)},ye.negated=function(){var Me=new qe(this);return Me.s=-Me.s||null,Me},ye.plus=function(Me,ke){var Ye,Ce=this,ze=Ce.s;if(Me=new qe(Me,ke),ke=Me.s,!ze||!ke)return new qe(NaN);if(ze!=ke)return Me.s=-ke,Ce.minus(Me);var Ee=Ce.e/te,_e=Me.e/te,He=Ce.c,Pe=Me.c;if(!Ee||!_e){if(!He||!Pe)return new qe(ze/0);if(!He[0]||!Pe[0])return Pe[0]?Me:new qe(He[0]?Ce:ze*0)}if(Ee=pe(Ee),_e=pe(_e),He=He.slice(),ze=Ee-_e){for(ze>0?(_e=Ee,Ye=Pe):(ze=-ze,Ye=He),Ye.reverse();ze--;Ye.push(0));Ye.reverse()}for(ze=He.length,ke=Pe.length,ze-ke<0&&(Ye=Pe,Pe=He,He=Ye,ke=ze),ze=0;ke;)ze=(He[--ke]=He[ke]+Pe[ke]+ze)/q|0,He[ke]=q===He[ke]?0:He[ke]%q;return ze&&(He=[ze].concat(He),++_e),dt(Me,He,_e)},ye.precision=ye.sd=function(Me,ke){var Ye,Ce,ze,Ee=this;if(Me!=null&&Me!==!!Me)return de(Me,1,le),ke==null?ke=Ge:de(ke,0,8),mt(new qe(Ee),Me,ke);if(!(Ye=Ee.c))return null;if(ze=Ye.length-1,Ce=ze*te+1,ze=Ye[ze]){for(;ze%10==0;ze/=10,Ce--);for(ze=Ye[0];ze>=10;ze/=10,Ce++);}return Me&&Ee.e+1>Ce&&(Ce=Ee.e+1),Ce},ye.shiftedBy=function(Me){return de(Me,-ie,ie),this.times("1e"+Me)},ye.squareRoot=ye.sqrt=function(){var Me,ke,Ye,Ce,ze,Ee=this,_e=Ee.c,He=Ee.s,Pe=Ee.e,$e=Ze+4,we=new qe("0.5");if(He!==1||!_e||!_e[0])return new qe(!He||He<0&&(!_e||_e[0])?NaN:_e?Ee:1/0);if(He=Math.sqrt(+Je(Ee)),He==0||He==1/0?(ke=ue(_e),(ke.length+Pe)%2==0&&(ke+="0"),He=Math.sqrt(+ke),Pe=pe((Pe+1)/2)-(Pe<0||Pe%2),He==1/0?ke="5e"+Pe:(ke=He.toExponential(),ke=ke.slice(0,ke.indexOf("e")+1)+Pe),Ye=new qe(ke)):Ye=new qe(He+""),Ye.c[0]){for(Pe=Ye.e,He=Pe+$e,He<3&&(He=0);;)if(ze=Ye,Ye=we.times(ze.plus(We(Ee,ze,$e,1))),ue(ze.c).slice(0,He)===(ke=ue(Ye.c)).slice(0,He))if(Ye.e<Pe&&--He,ke=ke.slice(He-3,He+1),ke=="9999"||!Ce&&ke=="4999"){if(!Ce&&(mt(ze,ze.e+Ze+2,0),ze.times(ze).eq(Ee))){Ye=ze;break}$e+=4,He+=4,Ce=1}else{(!+ke||!+ke.slice(1)&&ke.charAt(0)=="5")&&(mt(Ye,Ye.e+Ze+2,1),Me=!Ye.times(Ye).eq(Ee));break}}return mt(Ye,Ye.e+Ze+1,Ge,Me)},ye.toExponential=function(Me,ke){return Me!=null&&(de(Me,0,le),Me++),ot(this,Me,ke,1)},ye.toFixed=function(Me,ke){return Me!=null&&(de(Me,0,le),Me=Me+this.e+1),ot(this,Me,ke)},ye.toFormat=function(Me,ke,Ye){var Ce,ze=this;if(Ye==null)Me!=null&&ke&&typeof ke=="object"?(Ye=ke,ke=null):Me&&typeof Me=="object"?(Ye=Me,Me=ke=null):Ye=tt;else if(typeof Ye!="object")throw Error(Q+"Argument not an object: "+Ye);if(Ce=ze.toFixed(Me,ke),ze.c){var Ee,_e=Ce.split("."),He=+Ye.groupSize,Pe=+Ye.secondaryGroupSize,$e=Ye.groupSeparator||"",we=_e[0],Ue=_e[1],et=ze.s<0,at=et?we.slice(1):we,Ve=at.length;if(Pe&&(Ee=He,He=Pe,Pe=Ee,Ve-=Ee),He>0&&Ve>0){for(Ee=Ve%He||He,we=at.substr(0,Ee);Ee<Ve;Ee+=He)we+=$e+at.substr(Ee,He);Pe>0&&(we+=$e+at.slice(Ee)),et&&(we="-"+we)}Ce=Ue?we+(Ye.decimalSeparator||"")+((Pe=+Ye.fractionGroupSize)?Ue.replace(new RegExp("\\d{"+Pe+"}\\B","g"),"$&"+(Ye.fractionGroupSeparator||"")):Ue):we}return(Ye.prefix||"")+Ce+(Ye.suffix||"")},ye.toFraction=function(Me){var ke,Ye,Ce,ze,Ee,_e,He,Pe,$e,we,Ue,et,at=this,Ve=at.c;if(Me!=null&&(He=new qe(Me),!He.isInteger()&&(He.c||He.s!==1)||He.lt(re)))throw Error(Q+"Argument "+(He.isInteger()?"out of range: ":"not an integer: ")+Je(He));if(!Ve)return new qe(at);for(ke=new qe(re),$e=Ye=new qe(re),Ce=Pe=new qe(re),et=ue(Ve),Ee=ke.e=et.length-at.e-1,ke.c[0]=ne[(_e=Ee%te)<0?te+_e:_e],Me=!Me||He.comparedTo(ke)>0?Ee>0?ke:$e:He,_e=Ie,Ie=1/0,He=new qe(et),Pe.c[0]=0;we=We(He,ke,0,1),ze=Ye.plus(we.times(Ce)),ze.comparedTo(Me)!=1;)Ye=Ce,Ce=ze,$e=Pe.plus(we.times(ze=$e)),Pe=ze,ke=He.minus(we.times(ze=ke)),He=ze;return ze=We(Me.minus(Ye),Ce,0,1),Pe=Pe.plus(ze.times($e)),Ye=Ye.plus(ze.times(Ce)),Pe.s=$e.s=at.s,Ee=Ee*2,Ue=We($e,Ce,Ee,Ge).minus(at).abs().comparedTo(We(Pe,Ye,Ee,Ge).minus(at).abs())<1?[$e,Ce]:[Pe,Ye],Ie=_e,Ue},ye.toNumber=function(){return+Je(this)},ye.toPrecision=function(Me,ke){return Me!=null&&de(Me,1,le),ot(this,Me,ke,2)},ye.toString=function(Me){var ke,Ye=this,Ce=Ye.s,ze=Ye.e;return ze===null?Ce?(ke="Infinity",Ce<0&&(ke="-"+ke)):ke="NaN":(Me==null?ke=ze<=ve||ze>=Te?he(ue(Ye.c),ze):Le(ue(Ye.c),ze,"0"):Me===10&&st?(Ye=mt(new qe(Ye),Ze+ze+1,Ge),ke=Le(ue(Ye.c),Ye.e,"0")):(de(Me,2,it.length,"Base"),ke=fe(Le(ue(Ye.c),ze,"0"),10,Me,Ce,!0)),Ce<0&&Ye.c[0]&&(ke="-"+ke)),ke},ye.valueOf=ye.toJSON=function(){return Je(this)},ye._isBigNumber=!0,Xe!=null&&qe.set(Xe),qe}function pe(Xe){var We=Xe|0;return Xe>0||Xe===We?We:We-1}function ue(Xe){for(var We,fe,Re=1,ye=Xe.length,re=Xe[0]+"";Re<ye;){for(We=Xe[Re++]+"",fe=te-We.length;fe--;We="0"+We);re+=We}for(ye=re.length;re.charCodeAt(--ye)===48;);return re.slice(0,ye+1||1)}function ae(Xe,We){var fe,Re,ye=Xe.c,re=We.c,Ze=Xe.s,Ge=We.s,ve=Xe.e,Te=We.e;if(!Ze||!Ge)return null;if(fe=ye&&!ye[0],Re=re&&!re[0],fe||Re)return fe?Re?0:-Ge:Ze;if(Ze!=Ge)return Ze;if(fe=Ze<0,Re=ve==Te,!ye||!re)return Re?0:!ye^fe?1:-1;if(!Re)return ve>Te^fe?1:-1;for(Ge=(ve=ye.length)<(Te=re.length)?ve:Te,Ze=0;Ze<Ge;Ze++)if(ye[Ze]!=re[Ze])return ye[Ze]>re[Ze]^fe?1:-1;return ve==Te?0:ve>Te^fe?1:-1}function de(Xe,We,fe,Re){if(Xe<We||Xe>fe||Xe!==D(Xe))throw Error(Q+(Re||"Argument")+(typeof Xe=="number"?Xe<We||Xe>fe?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Xe))}function be(Xe){var We=Xe.c.length-1;return pe(Xe.e/te)==We&&Xe.c[We]%2!=0}function he(Xe,We){return(Xe.length>1?Xe.charAt(0)+"."+Xe.slice(1):Xe)+(We<0?"e":"e+")+We}function Le(Xe,We,fe){var Re,ye;if(We<0){for(ye=fe+".";++We;ye+=fe);Xe=ye+Xe}else if(Re=Xe.length,++We>Re){for(ye=fe,We-=Re;--We;ye+=fe);Xe+=ye}else We<Re&&(Xe=Xe.slice(0,We)+"."+Xe.slice(We));return Xe}U=se(),U.default=U.BigNumber=U,W=function(){return U}.call(Z,G,Z,X),W!==void 0&&(X.exports=W)})()},"../node_modules/canonicalize/lib/canonicalize.js":X=>{X.exports=function Z(G){return G===null||typeof G!="object"||G.toJSON!=null?JSON.stringify(G):Array.isArray(G)?"["+G.reduce((W,F,U)=>{const J=U===0?"":",",Y=F===void 0||typeof F=="symbol"?null:F;return W+J+Z(Y)},"")+"]":"{"+Object.keys(G).sort().reduce((W,F,U)=>{if(G[F]===void 0||typeof G[F]=="symbol")return W;const J=W.length===0?"":",";return W+J+Z(F)+":"+Z(G[F])},"")+"}"}},"../node_modules/hash.js/lib/hash.js":(X,Z,G)=>{var W=Z;W.utils=G("../node_modules/hash.js/lib/hash/utils.js"),W.common=G("../node_modules/hash.js/lib/hash/common.js"),W.sha=G("../node_modules/hash.js/lib/hash/sha.js"),W.ripemd=G("../node_modules/hash.js/lib/hash/ripemd.js"),W.hmac=G("../node_modules/hash.js/lib/hash/hmac.js"),W.sha1=W.sha.sha1,W.sha256=W.sha.sha256,W.sha224=W.sha.sha224,W.sha384=W.sha.sha384,W.sha512=W.sha.sha512,W.ripemd160=W.ripemd.ripemd160},"../node_modules/hash.js/lib/hash/common.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/minimalistic-assert/index.js");function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Z.BlockHash=U,U.prototype.update=function(Y,D){if(Y=W.toArray(Y,D),this.pending?this.pending=this.pending.concat(Y):this.pending=Y,this.pendingTotal+=Y.length,this.pending.length>=this._delta8){Y=this.pending;var Q=Y.length%this._delta8;this.pending=Y.slice(Y.length-Q,Y.length),this.pending.length===0&&(this.pending=null),Y=W.join32(Y,0,Y.length-Q,this.endian);for(var ee=0;ee<Y.length;ee+=this._delta32)this._update(Y,ee,ee+this._delta32)}return this},U.prototype.digest=function(Y){return this.update(this._pad()),F(this.pending===null),this._digest(Y)},U.prototype._pad=function(){var Y=this.pendingTotal,D=this._delta8,Q=D-(Y+this.padLength)%D,ee=new Array(Q+this.padLength);ee[0]=128;for(var q=1;q<Q;q++)ee[q]=0;if(Y<<=3,this.endian==="big"){for(var te=8;te<this.padLength;te++)ee[q++]=0;ee[q++]=0,ee[q++]=0,ee[q++]=0,ee[q++]=0,ee[q++]=Y>>>24&255,ee[q++]=Y>>>16&255,ee[q++]=Y>>>8&255,ee[q++]=Y&255}else for(ee[q++]=Y&255,ee[q++]=Y>>>8&255,ee[q++]=Y>>>16&255,ee[q++]=Y>>>24&255,ee[q++]=0,ee[q++]=0,ee[q++]=0,ee[q++]=0,te=8;te<this.padLength;te++)ee[q++]=0;return ee}},"../node_modules/hash.js/lib/hash/hmac.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/minimalistic-assert/index.js");function U(J,Y,D){if(!(this instanceof U))return new U(J,Y,D);this.Hash=J,this.blockSize=J.blockSize/8,this.outSize=J.outSize/8,this.inner=null,this.outer=null,this._init(W.toArray(Y,D))}X.exports=U,U.prototype._init=function(Y){Y.length>this.blockSize&&(Y=new this.Hash().update(Y).digest()),F(Y.length<=this.blockSize);for(var D=Y.length;D<this.blockSize;D++)Y.push(0);for(D=0;D<Y.length;D++)Y[D]^=54;for(this.inner=new this.Hash().update(Y),D=0;D<Y.length;D++)Y[D]^=106;this.outer=new this.Hash().update(Y)},U.prototype.update=function(Y,D){return this.inner.update(Y,D),this},U.prototype.digest=function(Y){return this.outer.update(this.inner.digest()),this.outer.digest(Y)}},"../node_modules/hash.js/lib/hash/ripemd.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=W.rotl32,J=W.sum32,Y=W.sum32_3,D=W.sum32_4,Q=F.BlockHash;function ee(){if(!(this instanceof ee))return new ee;Q.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}W.inherits(ee,Q),Z.ripemd160=ee,ee.blockSize=512,ee.outSize=160,ee.hmacStrength=192,ee.padLength=64,ee.prototype._update=function(ue,ae){for(var de=this.h[0],be=this.h[1],he=this.h[2],Le=this.h[3],Xe=this.h[4],We=de,fe=be,Re=he,ye=Le,re=Xe,Ze=0;Ze<80;Ze++){var Ge=J(U(D(de,q(Ze,be,he,Le),ue[ne[Ze]+ae],te(Ze)),le[Ze]),Xe);de=Xe,Xe=Le,Le=U(he,10),he=be,be=Ge,Ge=J(U(D(We,q(79-Ze,fe,Re,ye),ue[ce[Ze]+ae],ie(Ze)),se[Ze]),re),We=re,re=ye,ye=U(Re,10),Re=fe,fe=Ge}Ge=Y(this.h[1],he,ye),this.h[1]=Y(this.h[2],Le,re),this.h[2]=Y(this.h[3],Xe,We),this.h[3]=Y(this.h[4],de,fe),this.h[4]=Y(this.h[0],be,Re),this.h[0]=Ge},ee.prototype._digest=function(ue){return ue==="hex"?W.toHex32(this.h,"little"):W.split32(this.h,"little")};function q(pe,ue,ae,de){return pe<=15?ue^ae^de:pe<=31?ue&ae|~ue&de:pe<=47?(ue|~ae)^de:pe<=63?ue&de|ae&~de:ue^(ae|~de)}function te(pe){return pe<=15?0:pe<=31?1518500249:pe<=47?1859775393:pe<=63?2400959708:2840853838}function ie(pe){return pe<=15?1352829926:pe<=31?1548603684:pe<=47?1836072691:pe<=63?2053994217:0}var ne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ce=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],le=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],se=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"../node_modules/hash.js/lib/hash/sha.js":(X,Z,G)=>{Z.sha1=G("../node_modules/hash.js/lib/hash/sha/1.js"),Z.sha224=G("../node_modules/hash.js/lib/hash/sha/224.js"),Z.sha256=G("../node_modules/hash.js/lib/hash/sha/256.js"),Z.sha384=G("../node_modules/hash.js/lib/hash/sha/384.js"),Z.sha512=G("../node_modules/hash.js/lib/hash/sha/512.js")},"../node_modules/hash.js/lib/hash/sha/1.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=G("../node_modules/hash.js/lib/hash/sha/common.js"),J=W.rotl32,Y=W.sum32,D=W.sum32_5,Q=U.ft_1,ee=F.BlockHash,q=[1518500249,1859775393,2400959708,3395469782];function te(){if(!(this instanceof te))return new te;ee.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}W.inherits(te,ee),X.exports=te,te.blockSize=512,te.outSize=160,te.hmacStrength=80,te.padLength=64,te.prototype._update=function(ne,ce){for(var le=this.W,se=0;se<16;se++)le[se]=ne[ce+se];for(;se<le.length;se++)le[se]=J(le[se-3]^le[se-8]^le[se-14]^le[se-16],1);var pe=this.h[0],ue=this.h[1],ae=this.h[2],de=this.h[3],be=this.h[4];for(se=0;se<le.length;se++){var he=~~(se/20),Le=D(J(pe,5),Q(he,ue,ae,de),be,le[se],q[he]);be=de,de=ae,ae=J(ue,30),ue=pe,pe=Le}this.h[0]=Y(this.h[0],pe),this.h[1]=Y(this.h[1],ue),this.h[2]=Y(this.h[2],ae),this.h[3]=Y(this.h[3],de),this.h[4]=Y(this.h[4],be)},te.prototype._digest=function(ne){return ne==="hex"?W.toHex32(this.h,"big"):W.split32(this.h,"big")}},"../node_modules/hash.js/lib/hash/sha/224.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/sha/256.js");function U(){if(!(this instanceof U))return new U;F.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}W.inherits(U,F),X.exports=U,U.blockSize=512,U.outSize=224,U.hmacStrength=192,U.padLength=64,U.prototype._digest=function(Y){return Y==="hex"?W.toHex32(this.h.slice(0,7),"big"):W.split32(this.h.slice(0,7),"big")}},"../node_modules/hash.js/lib/hash/sha/256.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=G("../node_modules/hash.js/lib/hash/sha/common.js"),J=G("../node_modules/minimalistic-assert/index.js"),Y=W.sum32,D=W.sum32_4,Q=W.sum32_5,ee=U.ch32,q=U.maj32,te=U.s0_256,ie=U.s1_256,ne=U.g0_256,ce=U.g1_256,le=F.BlockHash,se=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pe(){if(!(this instanceof pe))return new pe;le.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=se,this.W=new Array(64)}W.inherits(pe,le),X.exports=pe,pe.blockSize=512,pe.outSize=256,pe.hmacStrength=192,pe.padLength=64,pe.prototype._update=function(ae,de){for(var be=this.W,he=0;he<16;he++)be[he]=ae[de+he];for(;he<be.length;he++)be[he]=D(ce(be[he-2]),be[he-7],ne(be[he-15]),be[he-16]);var Le=this.h[0],Xe=this.h[1],We=this.h[2],fe=this.h[3],Re=this.h[4],ye=this.h[5],re=this.h[6],Ze=this.h[7];for(J(this.k.length===be.length),he=0;he<be.length;he++){var Ge=Q(Ze,ie(Re),ee(Re,ye,re),this.k[he],be[he]),ve=Y(te(Le),q(Le,Xe,We));Ze=re,re=ye,ye=Re,Re=Y(fe,Ge),fe=We,We=Xe,Xe=Le,Le=Y(Ge,ve)}this.h[0]=Y(this.h[0],Le),this.h[1]=Y(this.h[1],Xe),this.h[2]=Y(this.h[2],We),this.h[3]=Y(this.h[3],fe),this.h[4]=Y(this.h[4],Re),this.h[5]=Y(this.h[5],ye),this.h[6]=Y(this.h[6],re),this.h[7]=Y(this.h[7],Ze)},pe.prototype._digest=function(ae){return ae==="hex"?W.toHex32(this.h,"big"):W.split32(this.h,"big")}},"../node_modules/hash.js/lib/hash/sha/384.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/sha/512.js");function U(){if(!(this instanceof U))return new U;F.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}W.inherits(U,F),X.exports=U,U.blockSize=1024,U.outSize=384,U.hmacStrength=192,U.padLength=128,U.prototype._digest=function(Y){return Y==="hex"?W.toHex32(this.h.slice(0,12),"big"):W.split32(this.h.slice(0,12),"big")}},"../node_modules/hash.js/lib/hash/sha/512.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=G("../node_modules/hash.js/lib/hash/common.js"),U=G("../node_modules/minimalistic-assert/index.js"),J=W.rotr64_hi,Y=W.rotr64_lo,D=W.shr64_hi,Q=W.shr64_lo,ee=W.sum64,q=W.sum64_hi,te=W.sum64_lo,ie=W.sum64_4_hi,ne=W.sum64_4_lo,ce=W.sum64_5_hi,le=W.sum64_5_lo,se=F.BlockHash,pe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ue(){if(!(this instanceof ue))return new ue;se.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pe,this.W=new Array(160)}W.inherits(ue,se),X.exports=ue,ue.blockSize=1024,ue.outSize=512,ue.hmacStrength=192,ue.padLength=128,ue.prototype._prepareBlock=function(ve,Te){for(var xe=this.W,Ie=0;Ie<32;Ie++)xe[Ie]=ve[Te+Ie];for(;Ie<xe.length;Ie+=2){var Se=re(xe[Ie-4],xe[Ie-3]),Ne=Ze(xe[Ie-4],xe[Ie-3]),je=xe[Ie-14],tt=xe[Ie-13],it=Re(xe[Ie-30],xe[Ie-29]),st=ye(xe[Ie-30],xe[Ie-29]),qe=xe[Ie-32],ot=xe[Ie-31];xe[Ie]=ie(Se,Ne,je,tt,it,st,qe,ot),xe[Ie+1]=ne(Se,Ne,je,tt,it,st,qe,ot)}},ue.prototype._update=function(ve,Te){this._prepareBlock(ve,Te);var xe=this.W,Ie=this.h[0],Se=this.h[1],Ne=this.h[2],je=this.h[3],tt=this.h[4],it=this.h[5],st=this.h[6],qe=this.h[7],ot=this.h[8],ut=this.h[9],dt=this.h[10],mt=this.h[11],Je=this.h[12],Me=this.h[13],ke=this.h[14],Ye=this.h[15];U(this.k.length===xe.length);for(var Ce=0;Ce<xe.length;Ce+=2){var ze=ke,Ee=Ye,_e=We(ot,ut),He=fe(ot,ut),Pe=ae(ot,ut,dt,mt,Je),$e=de(ot,ut,dt,mt,Je,Me),we=this.k[Ce],Ue=this.k[Ce+1],et=xe[Ce],at=xe[Ce+1],Ve=ce(ze,Ee,_e,He,Pe,$e,we,Ue,et,at),oe=le(ze,Ee,_e,He,Pe,$e,we,Ue,et,at);ze=Le(Ie,Se),Ee=Xe(Ie,Se),_e=be(Ie,Se,Ne,je,tt),He=he(Ie,Se,Ne,je,tt,it);var me=q(ze,Ee,_e,He),ge=te(ze,Ee,_e,He);ke=Je,Ye=Me,Je=dt,Me=mt,dt=ot,mt=ut,ot=q(st,qe,Ve,oe),ut=te(qe,qe,Ve,oe),st=tt,qe=it,tt=Ne,it=je,Ne=Ie,je=Se,Ie=q(Ve,oe,me,ge),Se=te(Ve,oe,me,ge)}ee(this.h,0,Ie,Se),ee(this.h,2,Ne,je),ee(this.h,4,tt,it),ee(this.h,6,st,qe),ee(this.h,8,ot,ut),ee(this.h,10,dt,mt),ee(this.h,12,Je,Me),ee(this.h,14,ke,Ye)},ue.prototype._digest=function(ve){return ve==="hex"?W.toHex32(this.h,"big"):W.split32(this.h,"big")};function ae(Ge,ve,Te,xe,Ie){var Se=Ge&Te^~Ge&Ie;return Se<0&&(Se+=4294967296),Se}function de(Ge,ve,Te,xe,Ie,Se){var Ne=ve&xe^~ve&Se;return Ne<0&&(Ne+=4294967296),Ne}function be(Ge,ve,Te,xe,Ie){var Se=Ge&Te^Ge&Ie^Te&Ie;return Se<0&&(Se+=4294967296),Se}function he(Ge,ve,Te,xe,Ie,Se){var Ne=ve&xe^ve&Se^xe&Se;return Ne<0&&(Ne+=4294967296),Ne}function Le(Ge,ve){var Te=J(Ge,ve,28),xe=J(ve,Ge,2),Ie=J(ve,Ge,7),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function Xe(Ge,ve){var Te=Y(Ge,ve,28),xe=Y(ve,Ge,2),Ie=Y(ve,Ge,7),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function We(Ge,ve){var Te=J(Ge,ve,14),xe=J(Ge,ve,18),Ie=J(ve,Ge,9),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function fe(Ge,ve){var Te=Y(Ge,ve,14),xe=Y(Ge,ve,18),Ie=Y(ve,Ge,9),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function Re(Ge,ve){var Te=J(Ge,ve,1),xe=J(Ge,ve,8),Ie=D(Ge,ve,7),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function ye(Ge,ve){var Te=Y(Ge,ve,1),xe=Y(Ge,ve,8),Ie=Q(Ge,ve,7),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function re(Ge,ve){var Te=J(Ge,ve,19),xe=J(ve,Ge,29),Ie=D(Ge,ve,6),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}function Ze(Ge,ve){var Te=Y(Ge,ve,19),xe=Y(ve,Ge,29),Ie=Q(Ge,ve,6),Se=Te^xe^Ie;return Se<0&&(Se+=4294967296),Se}},"../node_modules/hash.js/lib/hash/sha/common.js":(X,Z,G)=>{var W=G("../node_modules/hash.js/lib/hash/utils.js"),F=W.rotr32;function U(ie,ne,ce,le){if(ie===0)return J(ne,ce,le);if(ie===1||ie===3)return D(ne,ce,le);if(ie===2)return Y(ne,ce,le)}Z.ft_1=U;function J(ie,ne,ce){return ie&ne^~ie&ce}Z.ch32=J;function Y(ie,ne,ce){return ie&ne^ie&ce^ne&ce}Z.maj32=Y;function D(ie,ne,ce){return ie^ne^ce}Z.p32=D;function Q(ie){return F(ie,2)^F(ie,13)^F(ie,22)}Z.s0_256=Q;function ee(ie){return F(ie,6)^F(ie,11)^F(ie,25)}Z.s1_256=ee;function q(ie){return F(ie,7)^F(ie,18)^ie>>>3}Z.g0_256=q;function te(ie){return F(ie,17)^F(ie,19)^ie>>>10}Z.g1_256=te},"../node_modules/hash.js/lib/hash/utils.js":(X,Z,G)=>{var W=G("../node_modules/minimalistic-assert/index.js"),F=G("../node_modules/inherits/inherits_browser.js");Z.inherits=F;function U(Ze,Ge){return(Ze.charCodeAt(Ge)&64512)!==55296||Ge<0||Ge+1>=Ze.length?!1:(Ze.charCodeAt(Ge+1)&64512)===56320}function J(Ze,Ge){if(Array.isArray(Ze))return Ze.slice();if(!Ze)return[];var ve=[];if(typeof Ze=="string")if(Ge){if(Ge==="hex")for(Ze=Ze.replace(/[^a-z0-9]+/ig,""),Ze.length%2!==0&&(Ze="0"+Ze),xe=0;xe<Ze.length;xe+=2)ve.push(parseInt(Ze[xe]+Ze[xe+1],16))}else for(var Te=0,xe=0;xe<Ze.length;xe++){var Ie=Ze.charCodeAt(xe);Ie<128?ve[Te++]=Ie:Ie<2048?(ve[Te++]=Ie>>6|192,ve[Te++]=Ie&63|128):U(Ze,xe)?(Ie=65536+((Ie&1023)<<10)+(Ze.charCodeAt(++xe)&1023),ve[Te++]=Ie>>18|240,ve[Te++]=Ie>>12&63|128,ve[Te++]=Ie>>6&63|128,ve[Te++]=Ie&63|128):(ve[Te++]=Ie>>12|224,ve[Te++]=Ie>>6&63|128,ve[Te++]=Ie&63|128)}else for(xe=0;xe<Ze.length;xe++)ve[xe]=Ze[xe]|0;return ve}Z.toArray=J;function Y(Ze){for(var Ge="",ve=0;ve<Ze.length;ve++)Ge+=ee(Ze[ve].toString(16));return Ge}Z.toHex=Y;function D(Ze){var Ge=Ze>>>24|Ze>>>8&65280|Ze<<8&16711680|(Ze&255)<<24;return Ge>>>0}Z.htonl=D;function Q(Ze,Ge){for(var ve="",Te=0;Te<Ze.length;Te++){var xe=Ze[Te];Ge==="little"&&(xe=D(xe)),ve+=q(xe.toString(16))}return ve}Z.toHex32=Q;function ee(Ze){return Ze.length===1?"0"+Ze:Ze}Z.zero2=ee;function q(Ze){return Ze.length===7?"0"+Ze:Ze.length===6?"00"+Ze:Ze.length===5?"000"+Ze:Ze.length===4?"0000"+Ze:Ze.length===3?"00000"+Ze:Ze.length===2?"000000"+Ze:Ze.length===1?"0000000"+Ze:Ze}Z.zero8=q;function te(Ze,Ge,ve,Te){var xe=ve-Ge;W(xe%4===0);for(var Ie=new Array(xe/4),Se=0,Ne=Ge;Se<Ie.length;Se++,Ne+=4){var je;Te==="big"?je=Ze[Ne]<<24|Ze[Ne+1]<<16|Ze[Ne+2]<<8|Ze[Ne+3]:je=Ze[Ne+3]<<24|Ze[Ne+2]<<16|Ze[Ne+1]<<8|Ze[Ne],Ie[Se]=je>>>0}return Ie}Z.join32=te;function ie(Ze,Ge){for(var ve=new Array(Ze.length*4),Te=0,xe=0;Te<Ze.length;Te++,xe+=4){var Ie=Ze[Te];Ge==="big"?(ve[xe]=Ie>>>24,ve[xe+1]=Ie>>>16&255,ve[xe+2]=Ie>>>8&255,ve[xe+3]=Ie&255):(ve[xe+3]=Ie>>>24,ve[xe+2]=Ie>>>16&255,ve[xe+1]=Ie>>>8&255,ve[xe]=Ie&255)}return ve}Z.split32=ie;function ne(Ze,Ge){return Ze>>>Ge|Ze<<32-Ge}Z.rotr32=ne;function ce(Ze,Ge){return Ze<<Ge|Ze>>>32-Ge}Z.rotl32=ce;function le(Ze,Ge){return Ze+Ge>>>0}Z.sum32=le;function se(Ze,Ge,ve){return Ze+Ge+ve>>>0}Z.sum32_3=se;function pe(Ze,Ge,ve,Te){return Ze+Ge+ve+Te>>>0}Z.sum32_4=pe;function ue(Ze,Ge,ve,Te,xe){return Ze+Ge+ve+Te+xe>>>0}Z.sum32_5=ue;function ae(Ze,Ge,ve,Te){var xe=Ze[Ge],Ie=Ze[Ge+1],Se=Te+Ie>>>0,Ne=(Se<Te?1:0)+ve+xe;Ze[Ge]=Ne>>>0,Ze[Ge+1]=Se}Z.sum64=ae;function de(Ze,Ge,ve,Te){var xe=Ge+Te>>>0,Ie=(xe<Ge?1:0)+Ze+ve;return Ie>>>0}Z.sum64_hi=de;function be(Ze,Ge,ve,Te){var xe=Ge+Te;return xe>>>0}Z.sum64_lo=be;function he(Ze,Ge,ve,Te,xe,Ie,Se,Ne){var je=0,tt=Ge;tt=tt+Te>>>0,je+=tt<Ge?1:0,tt=tt+Ie>>>0,je+=tt<Ie?1:0,tt=tt+Ne>>>0,je+=tt<Ne?1:0;var it=Ze+ve+xe+Se+je;return it>>>0}Z.sum64_4_hi=he;function Le(Ze,Ge,ve,Te,xe,Ie,Se,Ne){var je=Ge+Te+Ie+Ne;return je>>>0}Z.sum64_4_lo=Le;function Xe(Ze,Ge,ve,Te,xe,Ie,Se,Ne,je,tt){var it=0,st=Ge;st=st+Te>>>0,it+=st<Ge?1:0,st=st+Ie>>>0,it+=st<Ie?1:0,st=st+Ne>>>0,it+=st<Ne?1:0,st=st+tt>>>0,it+=st<tt?1:0;var qe=Ze+ve+xe+Se+je+it;return qe>>>0}Z.sum64_5_hi=Xe;function We(Ze,Ge,ve,Te,xe,Ie,Se,Ne,je,tt){var it=Ge+Te+Ie+Ne+tt;return it>>>0}Z.sum64_5_lo=We;function fe(Ze,Ge,ve){var Te=Ge<<32-ve|Ze>>>ve;return Te>>>0}Z.rotr64_hi=fe;function Re(Ze,Ge,ve){var Te=Ze<<32-ve|Ge>>>ve;return Te>>>0}Z.rotr64_lo=Re;function ye(Ze,Ge,ve){return Ze>>>ve}Z.shr64_hi=ye;function re(Ze,Ge,ve){var Te=Ze<<32-ve|Ge>>>ve;return Te>>>0}Z.shr64_lo=re},"../node_modules/inherits/inherits_browser.js":X=>{typeof Object.create=="function"?X.exports=function(G,W){W&&(G.super_=W,G.prototype=Object.create(W.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}))}:X.exports=function(G,W){if(W){G.super_=W;var F=function(){};F.prototype=W.prototype,G.prototype=new F,G.prototype.constructor=G}}},"../node_modules/lru-cache/index.js":(X,Z,G)=>{const W=G("../node_modules/yallist/yallist.js"),F=Symbol("max"),U=Symbol("length"),J=Symbol("lengthCalculator"),Y=Symbol("allowStale"),D=Symbol("maxAge"),Q=Symbol("dispose"),ee=Symbol("noDisposeOnSet"),q=Symbol("lruList"),te=Symbol("cache"),ie=Symbol("updateAgeOnGet"),ne=()=>1;class ce{constructor(he){if(typeof he=="number"&&(he={max:he}),he||(he={}),he.max&&(typeof he.max!="number"||he.max<0))throw new TypeError("max must be a non-negative number");this[F]=he.max||1/0;const Le=he.length||ne;if(this[J]=typeof Le!="function"?ne:Le,this[Y]=he.stale||!1,he.maxAge&&typeof he.maxAge!="number")throw new TypeError("maxAge must be a number");this[D]=he.maxAge||0,this[Q]=he.dispose,this[ee]=he.noDisposeOnSet||!1,this[ie]=he.updateAgeOnGet||!1,this.reset()}set max(he){if(typeof he!="number"||he<0)throw new TypeError("max must be a non-negative number");this[F]=he||1/0,pe(this)}get max(){return this[F]}set allowStale(he){this[Y]=!!he}get allowStale(){return this[Y]}set maxAge(he){if(typeof he!="number")throw new TypeError("maxAge must be a non-negative number");this[D]=he,pe(this)}get maxAge(){return this[D]}set lengthCalculator(he){typeof he!="function"&&(he=ne),he!==this[J]&&(this[J]=he,this[U]=0,this[q].forEach(Le=>{Le.length=this[J](Le.value,Le.key),this[U]+=Le.length})),pe(this)}get lengthCalculator(){return this[J]}get length(){return this[U]}get itemCount(){return this[q].length}rforEach(he,Le){Le=Le||this;for(let Xe=this[q].tail;Xe!==null;){const We=Xe.prev;de(this,he,Xe,Le),Xe=We}}forEach(he,Le){Le=Le||this;for(let Xe=this[q].head;Xe!==null;){const We=Xe.next;de(this,he,Xe,Le),Xe=We}}keys(){return this[q].toArray().map(he=>he.key)}values(){return this[q].toArray().map(he=>he.value)}reset(){this[Q]&&this[q]&&this[q].length&&this[q].forEach(he=>this[Q](he.key,he.value)),this[te]=new Map,this[q]=new W,this[U]=0}dump(){return this[q].map(he=>se(this,he)?!1:{k:he.key,v:he.value,e:he.now+(he.maxAge||0)}).toArray().filter(he=>he)}dumpLru(){return this[q]}set(he,Le,Xe){if(Xe=Xe||this[D],Xe&&typeof Xe!="number")throw new TypeError("maxAge must be a number");const We=Xe?Date.now():0,fe=this[J](Le,he);if(this[te].has(he)){if(fe>this[F])return ue(this,this[te].get(he)),!1;const re=this[te].get(he).value;return this[Q]&&(this[ee]||this[Q](he,re.value)),re.now=We,re.maxAge=Xe,re.value=Le,this[U]+=fe-re.length,re.length=fe,this.get(he),pe(this),!0}const Re=new ae(he,Le,fe,We,Xe);return Re.length>this[F]?(this[Q]&&this[Q](he,Le),!1):(this[U]+=Re.length,this[q].unshift(Re),this[te].set(he,this[q].head),pe(this),!0)}has(he){if(!this[te].has(he))return!1;const Le=this[te].get(he).value;return!se(this,Le)}get(he){return le(this,he,!0)}peek(he){return le(this,he,!1)}pop(){const he=this[q].tail;return he?(ue(this,he),he.value):null}del(he){ue(this,this[te].get(he))}load(he){this.reset();const Le=Date.now();for(let Xe=he.length-1;Xe>=0;Xe--){const We=he[Xe],fe=We.e||0;if(fe===0)this.set(We.k,We.v);else{const Re=fe-Le;Re>0&&this.set(We.k,We.v,Re)}}}prune(){this[te].forEach((he,Le)=>le(this,Le,!1))}}const le=(be,he,Le)=>{const Xe=be[te].get(he);if(Xe){const We=Xe.value;if(se(be,We)){if(ue(be,Xe),!be[Y])return}else Le&&(be[ie]&&(Xe.value.now=Date.now()),be[q].unshiftNode(Xe));return We.value}},se=(be,he)=>{if(!he||!he.maxAge&&!be[D])return!1;const Le=Date.now()-he.now;return he.maxAge?Le>he.maxAge:be[D]&&Le>be[D]},pe=be=>{if(be[U]>be[F])for(let he=be[q].tail;be[U]>be[F]&&he!==null;){const Le=he.prev;ue(be,he),he=Le}},ue=(be,he)=>{if(he){const Le=he.value;be[Q]&&be[Q](Le.key,Le.value),be[U]-=Le.length,be[te].delete(Le.key),be[q].removeNode(he)}};class ae{constructor(he,Le,Xe,We,fe){this.key=he,this.value=Le,this.length=Xe,this.now=We,this.maxAge=fe||0}}const de=(be,he,Le,Xe)=>{let We=Le.value;se(be,We)&&(ue(be,Le),be[Y]||(We=void 0)),We&&he.call(Xe,We.value,We.key,be)};X.exports=ce},"../node_modules/minimalistic-assert/index.js":X=>{X.exports=Z;function Z(G,W){if(!G)throw new Error(W||"Assertion failed")}Z.equal=function(W,F,U){if(W!=F)throw new Error(U||"Assertion failed: "+W+" != "+F)}},"../node_modules/rdf-data-factory/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/rdf-data-factory/lib/BlankNode.js"),Z),F(G("../node_modules/rdf-data-factory/lib/DataFactory.js"),Z),F(G("../node_modules/rdf-data-factory/lib/DefaultGraph.js"),Z),F(G("../node_modules/rdf-data-factory/lib/Literal.js"),Z),F(G("../node_modules/rdf-data-factory/lib/NamedNode.js"),Z),F(G("../node_modules/rdf-data-factory/lib/Quad.js"),Z),F(G("../node_modules/rdf-data-factory/lib/Variable.js"),Z)},"../node_modules/rdf-data-factory/lib/BlankNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BlankNode=void 0;class G{constructor(F){this.termType="BlankNode",this.value=F}equals(F){return!!F&&F.termType==="BlankNode"&&F.value===this.value}}Z.BlankNode=G},"../node_modules/rdf-data-factory/lib/DataFactory.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DataFactory=void 0;const W=G("../node_modules/rdf-data-factory/lib/BlankNode.js"),F=G("../node_modules/rdf-data-factory/lib/DefaultGraph.js"),U=G("../node_modules/rdf-data-factory/lib/Literal.js"),J=G("../node_modules/rdf-data-factory/lib/NamedNode.js"),Y=G("../node_modules/rdf-data-factory/lib/Quad.js"),D=G("../node_modules/rdf-data-factory/lib/Variable.js");let Q=0;class ee{constructor(te){this.blankNodeCounter=0,te=te||{},this.blankNodePrefix=te.blankNodePrefix||`df_${Q++}_`}namedNode(te){return new J.NamedNode(te)}blankNode(te){return new W.BlankNode(te||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(te,ie){return new U.Literal(te,ie)}variable(te){return new D.Variable(te)}defaultGraph(){return F.DefaultGraph.INSTANCE}quad(te,ie,ne,ce){return new Y.Quad(te,ie,ne,ce||this.defaultGraph())}fromTerm(te){switch(te.termType){case"NamedNode":return this.namedNode(te.value);case"BlankNode":return this.blankNode(te.value);case"Literal":return te.language?this.literal(te.value,te.language):te.datatype.equals(U.Literal.XSD_STRING)?this.literal(te.value):this.literal(te.value,this.fromTerm(te.datatype));case"Variable":return this.variable(te.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(te.subject),this.fromTerm(te.predicate),this.fromTerm(te.object),this.fromTerm(te.graph))}}fromQuad(te){return this.fromTerm(te)}resetBlankNodeCounter(){this.blankNodeCounter=0}}Z.DataFactory=ee},"../node_modules/rdf-data-factory/lib/DefaultGraph.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.DefaultGraph=void 0;class G{constructor(){this.termType="DefaultGraph",this.value=""}equals(F){return!!F&&F.termType==="DefaultGraph"}}Z.DefaultGraph=G,G.INSTANCE=new G},"../node_modules/rdf-data-factory/lib/Literal.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Literal=void 0;const W=G("../node_modules/rdf-data-factory/lib/NamedNode.js");class F{constructor(J,Y){this.termType="Literal",this.value=J,typeof Y=="string"?(this.language=Y,this.datatype=F.RDF_LANGUAGE_STRING):Y?(this.language="",this.datatype=Y):(this.language="",this.datatype=F.XSD_STRING)}equals(J){return!!J&&J.termType==="Literal"&&J.value===this.value&&J.language===this.language&&J.datatype.equals(this.datatype)}}Z.Literal=F,F.RDF_LANGUAGE_STRING=new W.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),F.XSD_STRING=new W.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"../node_modules/rdf-data-factory/lib/NamedNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NamedNode=void 0;class G{constructor(F){this.termType="NamedNode",this.value=F}equals(F){return!!F&&F.termType==="NamedNode"&&F.value===this.value}}Z.NamedNode=G},"../node_modules/rdf-data-factory/lib/Quad.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Quad=void 0;class G{constructor(F,U,J,Y){this.termType="Quad",this.value="",this.subject=F,this.predicate=U,this.object=J,this.graph=Y}equals(F){return!!F&&(F.termType==="Quad"||!F.termType)&&this.subject.equals(F.subject)&&this.predicate.equals(F.predicate)&&this.object.equals(F.object)&&this.graph.equals(F.graph)}}Z.Quad=G},"../node_modules/rdf-data-factory/lib/Variable.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Variable=void 0;class G{constructor(F){this.termType="Variable",this.value=F}equals(F){return!!F&&F.termType==="Variable"&&F.value===this.value}}Z.Variable=G},"../node_modules/rdf-string/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.termToString=Z.stringToTerm=Z.stringQuadToQuad=Z.quadToStringQuad=Z.getLiteralValue=Z.getLiteralType=Z.getLiteralLanguage=void 0;const W=G("../node_modules/rdf-string/lib/TermUtil.js");Object.defineProperty(Z,"getLiteralLanguage",{enumerable:!0,get:function(){return W.getLiteralLanguage}}),Object.defineProperty(Z,"getLiteralType",{enumerable:!0,get:function(){return W.getLiteralType}}),Object.defineProperty(Z,"getLiteralValue",{enumerable:!0,get:function(){return W.getLiteralValue}}),Object.defineProperty(Z,"quadToStringQuad",{enumerable:!0,get:function(){return W.quadToStringQuad}}),Object.defineProperty(Z,"stringQuadToQuad",{enumerable:!0,get:function(){return W.stringQuadToQuad}}),Object.defineProperty(Z,"stringToTerm",{enumerable:!0,get:function(){return W.stringToTerm}}),Object.defineProperty(Z,"termToString",{enumerable:!0,get:function(){return W.termToString}})},"../node_modules/rdf-string/lib/TermUtil.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.stringQuadToQuad=Z.quadToStringQuad=Z.stringToTerm=Z.getLiteralLanguage=Z.getLiteralType=Z.getLiteralValue=Z.termToString=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=new W.DataFactory;function U(te){if(te)switch(te.termType){case"NamedNode":return te.value;case"BlankNode":return"_:"+te.value;case"Literal":const ie=te;return'"'+ie.value+'"'+(ie.datatype&&ie.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&ie.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+ie.datatype.value:"")+(ie.language?"@"+ie.language:"");case"Quad":return`<<${U(te.subject)} ${U(te.predicate)} ${U(te.object)}${te.graph.termType==="DefaultGraph"?"":" "+U(te.graph)}>>`;case"Variable":return"?"+te.value;case"DefaultGraph":return te.value}}Z.termToString=U;function J(te){const ie=/^"([^]*)"/.exec(te);if(!ie)throw new Error(te+" is not a literal");return ie[1]}Z.getLiteralValue=J;function Y(te){const ie=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(te);if(!ie)throw new Error(te+" is not a literal");return ie[1]||(ie[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Z.getLiteralType=Y;function D(te){const ie=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(te);if(!ie)throw new Error(te+" is not a literal");return ie[1]?ie[1].toLowerCase():""}Z.getLiteralLanguage=D;function Q(te,ie){if(ie=ie||F,!te||!te.length)return ie.defaultGraph();switch(te[0]){case"_":return ie.blankNode(te.substr(2));case"?":if(!ie.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return ie.variable(te.substr(1));case'"':const ne=D(te),ce=ie.namedNode(Y(te));return ie.literal(J(te),ne||ce);case"<":default:if(te.startsWith("<<")&&te.endsWith(">>")){const le=te.slice(2,-2).trim();let se=[],pe=0,ue=0,ae=!1;for(let de=0;de<le.length;de++){const be=le[de];if(be==="<"&&pe++,be===">"){if(pe===0)throw new Error("Found closing tag without opening tag in "+te);pe--}if(be==='"'){let he=!1,Le=de;for(;Le-- >0&&le[Le]==="\\";)he=!he;he||(ae=!ae)}if(be===" "&&!ae&&pe===0){for(se.push(le.slice(ue,de));le[de+1]===" ";)de+=1;ue=de+1}}if(pe!==0)throw new Error("Found opening tag without closing tag in "+te);if(se.push(le.slice(ue,le.length)),se.length!==3&&se.length!==4)throw new Error("Nested quad syntax error "+te);return se=se.map(de=>de.startsWith("<")&&!de.includes(" ")?de.slice(1,-1):de),ie.quad(Q(se[0]),Q(se[1]),Q(se[2]),se[3]?Q(se[3]):void 0)}return ie.namedNode(te)}}Z.stringToTerm=Q;function ee(te){return{subject:U(te.subject),predicate:U(te.predicate),object:U(te.object),graph:U(te.graph)}}Z.quadToStringQuad=ee;function q(te,ie){return ie=ie||F,ie.quad(Q(te.subject,ie),Q(te.predicate,ie),Q(te.object,ie),Q(te.graph,ie))}Z.stringQuadToQuad=q},"../node_modules/rdf-terms/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/rdf-terms/lib/QuadTermUtil.js"),Z),F(G("../node_modules/rdf-terms/lib/TermUtil.js"),Z)},"../node_modules/rdf-terms/lib/QuadTermUtil.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.matchPatternMappings=Z.matchPatternComplete=Z.matchPattern=Z.matchTerm=Z.someTerms=Z.everyTerms=Z.reduceTerms=Z.mapTerms=Z.filterQuadTermNames=Z.filterTerms=Z.forEachTerms=Z.collectNamedTerms=Z.getNamedTerms=Z.getTermsNested=Z.getTerms=Z.TRIPLE_TERM_NAMES=Z.QUAD_TERM_NAMES=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=new W.DataFactory;Z.QUAD_TERM_NAMES=["subject","predicate","object","graph"],Z.TRIPLE_TERM_NAMES=["subject","predicate","object"];function U(ae,de){return de&&ae.graph.termType==="DefaultGraph"?[ae.subject,ae.predicate,ae.object]:[ae.subject,ae.predicate,ae.object,ae.graph]}Z.getTerms=U;function J(ae,de){const be=[];for(const he of U(ae,de))he.termType==="Quad"?J(he,de).forEach(Le=>be.push(Le)):be.push(he);return be}Z.getTermsNested=J;function Y(ae){return[{key:"subject",value:ae.subject},{key:"predicate",value:ae.predicate},{key:"object",value:ae.object},{key:"graph",value:ae.graph}]}Z.getNamedTerms=Y;function D(ae,de,be){const he={};return ae.forEach(Le=>he[Le.key]=Le.value),de&&(he.subject=he.subject||de("subject"),he.predicate=he.predicate||de("predicate"),he.object=he.object||de("object"),he.graph=he.graph||de("graph")),(be||F).quad(he.subject,he.predicate,he.object,he.graph)}Z.collectNamedTerms=D;function Q(ae,de){de(ae.subject,"subject"),de(ae.predicate,"predicate"),de(ae.object,"object"),de(ae.graph,"graph")}Z.forEachTerms=Q;function ee(ae,de){const be=[];return de(ae.subject,"subject")&&be.push(ae.subject),de(ae.predicate,"predicate")&&be.push(ae.predicate),de(ae.object,"object")&&be.push(ae.object),de(ae.graph,"graph")&&be.push(ae.graph),be}Z.filterTerms=ee;function q(ae,de){const be=[];return de(ae.subject,"subject")&&be.push("subject"),de(ae.predicate,"predicate")&&be.push("predicate"),de(ae.object,"object")&&be.push("object"),de(ae.graph,"graph")&&be.push("graph"),be}Z.filterQuadTermNames=q;function te(ae,de,be){return(be||F).quad(de(ae.subject,"subject"),de(ae.predicate,"predicate"),de(ae.object,"object"),de(ae.graph,"graph"))}Z.mapTerms=te;function ie(ae,de,be){let he=be;return he=de(he,ae.subject,"subject"),he=de(he,ae.predicate,"predicate"),he=de(he,ae.object,"object"),de(he,ae.graph,"graph")}Z.reduceTerms=ie;function ne(ae,de){return de(ae.subject,"subject")&&de(ae.predicate,"predicate")&&de(ae.object,"object")&&de(ae.graph,"graph")}Z.everyTerms=ne;function ce(ae,de){return de(ae.subject,"subject")||de(ae.predicate,"predicate")||de(ae.object,"object")||de(ae.graph,"graph")}Z.someTerms=ce;function le(ae,de){return!de||de.termType==="Variable"||de.termType==="Quad"&&ae.termType==="Quad"&&pe(ae,de)||de.equals(ae)}Z.matchTerm=le;function se(ae,de,be,he,Le){return le(ae.subject,de)&&le(ae.predicate,be)&&le(ae.object,he)&&le(ae.graph,Le)}Z.matchPattern=se;function pe(ae,de){return se(ae,de.subject,de.predicate,de.object,de.graph)}Z.matchPatternComplete=pe;function ue(ae,de,be={}){const he={};function Le(Xe,We){return ne(Xe,(fe,Re)=>{var ye,re;const Ze=We[Re];switch(fe.termType){case"Variable":return be.skipVarMapping&&Ze.termType==="Variable"||((re=(ye=he[fe.value])===null||ye===void 0?void 0:ye.equals(Ze))!==null&&re!==void 0?re:(he[fe.value]=Ze,!0));case"Quad":return Ze.termType==="Quad"&&Le(fe,Ze);default:return fe.equals(Ze)}})}return Le(de,ae)&&(be.returnMappings?he:!0)}Z.matchPatternMappings=ue},"../node_modules/rdf-terms/lib/TermUtil.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getQuads=Z.getDefaultGraphs=Z.getVariables=Z.getLiterals=Z.getBlankNodes=Z.getNamedNodes=Z.getTermsOfType=Z.uniqTerms=Z.TERM_TYPES=void 0;const W=G("../node_modules/rdf-string/index.js");Z.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function F(te){const ie={};return te.filter(ne=>{const ce=W.termToString(ne);return!(ce in ie)&&(ie[ce]=!0)})}Z.uniqTerms=F;function U(te,ie){return te.filter(ne=>ne.termType===ie)}Z.getTermsOfType=U;function J(te){return U(te,"NamedNode")}Z.getNamedNodes=J;function Y(te){return U(te,"BlankNode")}Z.getBlankNodes=Y;function D(te){return U(te,"Literal")}Z.getLiterals=D;function Q(te){return U(te,"Variable")}Z.getVariables=Q;function ee(te){return U(te,"DefaultGraph")}Z.getDefaultGraphs=ee;function q(te){return U(te,"Quad")}Z.getQuads=q},"../node_modules/relative-to-absolute-iri/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/relative-to-absolute-iri/lib/Resolve.js"),Z)},"../node_modules/relative-to-absolute-iri/lib/Resolve.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.removeDotSegmentsOfPath=Z.removeDotSegments=Z.resolve=void 0;function G(J,Y){Y=Y||"";const D=Y.indexOf("#");if(D>0&&(Y=Y.substr(0,D)),!J.length){if(Y.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${J}'`);return Y}if(J.startsWith("?")){const ce=Y.indexOf("?");return ce>0&&(Y=Y.substr(0,ce)),Y+J}if(J.startsWith("#"))return Y+J;if(!Y.length){const ce=J.indexOf(":");if(ce<0)throw new Error(`Found invalid relative IRI '${J}' for a missing baseIRI`);return F(J,ce)}const Q=J.indexOf(":");if(Q>=0)return F(J,Q);const ee=Y.indexOf(":");if(ee<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${J}'`);const q=Y.substr(0,ee+1);if(J.indexOf("//")===0)return q+F(J,Q);let te;if(Y.indexOf("//",ee)===ee+1){if(te=Y.indexOf("/",ee+3),te<0)return Y.length>ee+3?Y+"/"+F(J,Q):q+F(J,Q)}else if(te=Y.indexOf("/",ee+1),te<0)return q+F(J,Q);if(J.indexOf("/")===0)return Y.substr(0,te)+W(J);let ie=Y.substr(te);const ne=ie.lastIndexOf("/");return ne>=0&&ne<ie.length-1&&(ie=ie.substr(0,ne+1),J[0]==="."&&J[1]!=="."&&J[1]!=="/"&&J[2]&&(J=J.substr(1))),J=ie+J,J=W(J),Y.substr(0,te)+J}Z.resolve=G;function W(J){const Y=[];let D=0;for(;D<J.length;)switch(J[D]){case"/":if(J[D+1]===".")if(J[D+2]==="."){if(!U(J[D+3])){Y.push([]),D++;break}Y.pop(),J[D+3]||Y.push([]),D+=3}else{if(!U(J[D+2])){Y.push([]),D++;break}J[D+2]||Y.push([]),D+=2}else Y.push([]),D++;break;case"#":case"?":Y.length||Y.push([]),Y[Y.length-1].push(J.substr(D)),D=J.length;break;default:Y.length||Y.push([]),Y[Y.length-1].push(J[D]),D++;break}return"/"+Y.map(Q=>Q.join("")).join("/")}Z.removeDotSegments=W;function F(J,Y){let D=Y+1;Y>=0?J[Y+1]==="/"&&J[Y+2]==="/"&&(D=Y+3):J[0]==="/"&&J[1]==="/"&&(D=2);const Q=J.indexOf("/",D);if(Q<0)return J;const ee=J.substr(0,Q),q=J.substr(Q);return ee+W(q)}Z.removeDotSegmentsOfPath=F;function U(J){return!J||J==="#"||J==="?"||J==="/"}},"../node_modules/spark-md5/spark-md5.js":X=>{(function(Z){X.exports=Z()})(function(Z){var G=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function W(le,se){var pe=le[0],ue=le[1],ae=le[2],de=le[3];pe+=(ue&ae|~ue&de)+se[0]-680876936|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[1]-389564586|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[2]+606105819|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[3]-1044525330|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&ae|~ue&de)+se[4]-176418897|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[5]+1200080426|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[6]-1473231341|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[7]-45705983|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&ae|~ue&de)+se[8]+1770035416|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[9]-1958414417|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[10]-42063|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[11]-1990404162|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&ae|~ue&de)+se[12]+1804603682|0,pe=(pe<<7|pe>>>25)+ue|0,de+=(pe&ue|~pe&ae)+se[13]-40341101|0,de=(de<<12|de>>>20)+pe|0,ae+=(de&pe|~de&ue)+se[14]-1502002290|0,ae=(ae<<17|ae>>>15)+de|0,ue+=(ae&de|~ae&pe)+se[15]+1236535329|0,ue=(ue<<22|ue>>>10)+ae|0,pe+=(ue&de|ae&~de)+se[1]-165796510|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[6]-1069501632|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[11]+643717713|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[0]-373897302|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue&de|ae&~de)+se[5]-701558691|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[10]+38016083|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[15]-660478335|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[4]-405537848|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue&de|ae&~de)+se[9]+568446438|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[14]-1019803690|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[3]-187363961|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[8]+1163531501|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue&de|ae&~de)+se[13]-1444681467|0,pe=(pe<<5|pe>>>27)+ue|0,de+=(pe&ae|ue&~ae)+se[2]-51403784|0,de=(de<<9|de>>>23)+pe|0,ae+=(de&ue|pe&~ue)+se[7]+1735328473|0,ae=(ae<<14|ae>>>18)+de|0,ue+=(ae&pe|de&~pe)+se[12]-1926607734|0,ue=(ue<<20|ue>>>12)+ae|0,pe+=(ue^ae^de)+se[5]-378558|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[8]-2022574463|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[11]+1839030562|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[14]-35309556|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ue^ae^de)+se[1]-1530992060|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[4]+1272893353|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[7]-155497632|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[10]-1094730640|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ue^ae^de)+se[13]+681279174|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[0]-358537222|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[3]-722521979|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[6]+76029189|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ue^ae^de)+se[9]-640364487|0,pe=(pe<<4|pe>>>28)+ue|0,de+=(pe^ue^ae)+se[12]-421815835|0,de=(de<<11|de>>>21)+pe|0,ae+=(de^pe^ue)+se[15]+530742520|0,ae=(ae<<16|ae>>>16)+de|0,ue+=(ae^de^pe)+se[2]-995338651|0,ue=(ue<<23|ue>>>9)+ae|0,pe+=(ae^(ue|~de))+se[0]-198630844|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[7]+1126891415|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[14]-1416354905|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[5]-57434055|0,ue=(ue<<21|ue>>>11)+ae|0,pe+=(ae^(ue|~de))+se[12]+1700485571|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[3]-1894986606|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[10]-1051523|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[1]-2054922799|0,ue=(ue<<21|ue>>>11)+ae|0,pe+=(ae^(ue|~de))+se[8]+1873313359|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[15]-30611744|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[6]-1560198380|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[13]+1309151649|0,ue=(ue<<21|ue>>>11)+ae|0,pe+=(ae^(ue|~de))+se[4]-145523070|0,pe=(pe<<6|pe>>>26)+ue|0,de+=(ue^(pe|~ae))+se[11]-1120210379|0,de=(de<<10|de>>>22)+pe|0,ae+=(pe^(de|~ue))+se[2]+718787259|0,ae=(ae<<15|ae>>>17)+de|0,ue+=(de^(ae|~pe))+se[9]-343485551|0,ue=(ue<<21|ue>>>11)+ae|0,le[0]=pe+le[0]|0,le[1]=ue+le[1]|0,le[2]=ae+le[2]|0,le[3]=de+le[3]|0}function F(le){var se=[],pe;for(pe=0;pe<64;pe+=4)se[pe>>2]=le.charCodeAt(pe)+(le.charCodeAt(pe+1)<<8)+(le.charCodeAt(pe+2)<<16)+(le.charCodeAt(pe+3)<<24);return se}function U(le){var se=[],pe;for(pe=0;pe<64;pe+=4)se[pe>>2]=le[pe]+(le[pe+1]<<8)+(le[pe+2]<<16)+(le[pe+3]<<24);return se}function J(le){var se=le.length,pe=[1732584193,-271733879,-1732584194,271733878],ue,ae,de,be,he,Le;for(ue=64;ue<=se;ue+=64)W(pe,F(le.substring(ue-64,ue)));for(le=le.substring(ue-64),ae=le.length,de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=0;ue<ae;ue+=1)de[ue>>2]|=le.charCodeAt(ue)<<(ue%4<<3);if(de[ue>>2]|=128<<(ue%4<<3),ue>55)for(W(pe,de),ue=0;ue<16;ue+=1)de[ue]=0;return be=se*8,be=be.toString(16).match(/(.*?)(.{0,8})$/),he=parseInt(be[2],16),Le=parseInt(be[1],16)||0,de[14]=he,de[15]=Le,W(pe,de),pe}function Y(le){var se=le.length,pe=[1732584193,-271733879,-1732584194,271733878],ue,ae,de,be,he,Le;for(ue=64;ue<=se;ue+=64)W(pe,U(le.subarray(ue-64,ue)));for(le=ue-64<se?le.subarray(ue-64):new Uint8Array(0),ae=le.length,de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=0;ue<ae;ue+=1)de[ue>>2]|=le[ue]<<(ue%4<<3);if(de[ue>>2]|=128<<(ue%4<<3),ue>55)for(W(pe,de),ue=0;ue<16;ue+=1)de[ue]=0;return be=se*8,be=be.toString(16).match(/(.*?)(.{0,8})$/),he=parseInt(be[2],16),Le=parseInt(be[1],16)||0,de[14]=he,de[15]=Le,W(pe,de),pe}function D(le){var se="",pe;for(pe=0;pe<4;pe+=1)se+=G[le>>pe*8+4&15]+G[le>>pe*8&15];return se}function Q(le){var se;for(se=0;se<le.length;se+=1)le[se]=D(le[se]);return le.join("")}Q(J("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function le(se,pe){return se=se|0||0,se<0?Math.max(se+pe,0):Math.min(se,pe)}ArrayBuffer.prototype.slice=function(se,pe){var ue=this.byteLength,ae=le(se,ue),de=ue,be,he,Le,Xe;return pe!==Z&&(de=le(pe,ue)),ae>de?new ArrayBuffer(0):(be=de-ae,he=new ArrayBuffer(be),Le=new Uint8Array(he),Xe=new Uint8Array(this,ae,be),Le.set(Xe),he)}}();function ee(le){return/[\u0080-\uFFFF]/.test(le)&&(le=unescape(encodeURIComponent(le))),le}function q(le,se){var pe=le.length,ue=new ArrayBuffer(pe),ae=new Uint8Array(ue),de;for(de=0;de<pe;de+=1)ae[de]=le.charCodeAt(de);return se?ae:ue}function te(le){return String.fromCharCode.apply(null,new Uint8Array(le))}function ie(le,se,pe){var ue=new Uint8Array(le.byteLength+se.byteLength);return ue.set(new Uint8Array(le)),ue.set(new Uint8Array(se),le.byteLength),pe?ue:ue.buffer}function ne(le){var se=[],pe=le.length,ue;for(ue=0;ue<pe-1;ue+=2)se.push(parseInt(le.substr(ue,2),16));return String.fromCharCode.apply(String,se)}function ce(){this.reset()}return ce.prototype.append=function(le){return this.appendBinary(ee(le)),this},ce.prototype.appendBinary=function(le){this._buff+=le,this._length+=le.length;var se=this._buff.length,pe;for(pe=64;pe<=se;pe+=64)W(this._hash,F(this._buff.substring(pe-64,pe)));return this._buff=this._buff.substring(pe-64),this},ce.prototype.end=function(le){var se=this._buff,pe=se.length,ue,ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de;for(ue=0;ue<pe;ue+=1)ae[ue>>2]|=se.charCodeAt(ue)<<(ue%4<<3);return this._finish(ae,pe),de=Q(this._hash),le&&(de=ne(de)),this.reset(),de},ce.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ce.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},ce.prototype.setState=function(le){return this._buff=le.buff,this._length=le.length,this._hash=le.hash,this},ce.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},ce.prototype._finish=function(le,se){var pe=se,ue,ae,de;if(le[pe>>2]|=128<<(pe%4<<3),pe>55)for(W(this._hash,le),pe=0;pe<16;pe+=1)le[pe]=0;ue=this._length*8,ue=ue.toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(ue[2],16),de=parseInt(ue[1],16)||0,le[14]=ae,le[15]=de,W(this._hash,le)},ce.hash=function(le,se){return ce.hashBinary(ee(le),se)},ce.hashBinary=function(le,se){var pe=J(le),ue=Q(pe);return se?ne(ue):ue},ce.ArrayBuffer=function(){this.reset()},ce.ArrayBuffer.prototype.append=function(le){var se=ie(this._buff.buffer,le,!0),pe=se.length,ue;for(this._length+=le.byteLength,ue=64;ue<=pe;ue+=64)W(this._hash,U(se.subarray(ue-64,ue)));return this._buff=ue-64<pe?new Uint8Array(se.buffer.slice(ue-64)):new Uint8Array(0),this},ce.ArrayBuffer.prototype.end=function(le){var se=this._buff,pe=se.length,ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae,de;for(ae=0;ae<pe;ae+=1)ue[ae>>2]|=se[ae]<<(ae%4<<3);return this._finish(ue,pe),de=Q(this._hash),le&&(de=ne(de)),this.reset(),de},ce.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ce.ArrayBuffer.prototype.getState=function(){var le=ce.prototype.getState.call(this);return le.buff=te(le.buff),le},ce.ArrayBuffer.prototype.setState=function(le){return le.buff=q(le.buff,!0),ce.prototype.setState.call(this,le)},ce.ArrayBuffer.prototype.destroy=ce.prototype.destroy,ce.ArrayBuffer.prototype._finish=ce.prototype._finish,ce.ArrayBuffer.hash=function(le,se){var pe=Y(new Uint8Array(le)),ue=Q(pe);return se?ne(ue):ue},ce})},"../node_modules/sparqlee/dist/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncAggregateEvaluator=Z.orderTypes=Z.isExpressionError=Z.ExpressionError=Z.AggregateEvaluator=Z.SyncEvaluator=Z.AsyncEvaluator=void 0;var W=G("../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js");Object.defineProperty(Z,"AsyncEvaluator",{enumerable:!0,get:function(){return W.AsyncEvaluator}});var F=G("../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js");Object.defineProperty(Z,"SyncEvaluator",{enumerable:!0,get:function(){return F.SyncEvaluator}});var U=G("../node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js");Object.defineProperty(Z,"AggregateEvaluator",{enumerable:!0,get:function(){return U.AggregateEvaluator}});var J=G("../node_modules/sparqlee/dist/lib/util/Errors.js");Object.defineProperty(Z,"ExpressionError",{enumerable:!0,get:function(){return J.ExpressionError}}),Object.defineProperty(Z,"isExpressionError",{enumerable:!0,get:function(){return J.isExpressionError}});var Y=G("../node_modules/sparqlee/dist/lib/util/Ordering.js");Object.defineProperty(Z,"orderTypes",{enumerable:!0,get:function(){return Y.orderTypes}});var D=G("../node_modules/sparqlee/dist/lib/evaluators/AsyncAggregateEvaluator.js");Object.defineProperty(Z,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return D.AsyncAggregateEvaluator}})},"../node_modules/sparqlee/dist/lib/aggregators/Average.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Average=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/functions/index.js"),U=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class D extends Y.BaseAggregator{constructor(){super(...arguments),this.summer=F.regularFunctions[J.RegularOperator.ADDITION],this.divider=F.regularFunctions[J.RegularOperator.DIVISION]}static emptyValue(){return(0,U.integer)(0).toRDF()}init(ee){return{sum:this.termToNumericOrError(ee),count:1}}put(ee,q){const te=this.termToNumericOrError(q);return{sum:this.summer.apply([ee.sum,te],this.sharedContext),count:ee.count+1}}result(ee){const q=new W.IntegerLiteral(ee.count);return this.divider.apply([ee.sum,q],this.sharedContext).toRDF()}}Z.Average=D},"../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseAggregator=void 0;const W=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),U=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js");class J{constructor(D,Q){this.sharedContext=Q,this.distinct=D.distinct,this.separator=D.separator||" ",this.termTransformer=new W.TermTransformer(Q.superTypeProvider)}termToNumericOrError(D){if(D.termType!=="Literal")throw new Error(`Term with value ${D.value} has type ${D.termType} and is not a numeric literal`);if(!(0,U.isSubTypeOf)(D.datatype.value,F.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${D.datatype.value} with value ${D.value} has type ${D.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(D)}extractValue(D){if(D.termType!=="Literal")throw new Error(`Term with value ${D.value} has type ${D.termType} and is not a literal`);const Q=this.termTransformer.transformLiteral(D);return{type:Q.dataType,value:Q.typedValue}}static emptyValue(){}}Z.BaseAggregator=J},"../node_modules/sparqlee/dist/lib/aggregators/Count.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Count=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),F=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class U extends F.BaseAggregator{static emptyValue(){return(0,W.integer)(0).toRDF()}init(Y){return 1}put(Y,D){return Y+1}result(Y){return(0,W.integer)(Y).toRDF()}}Z.Count=U},"../node_modules/sparqlee/dist/lib/aggregators/GroupConcat.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.GroupConcat=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),F=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class U extends F.BaseAggregator{static emptyValue(){return(0,W.string)("").toRDF()}init(Y){return Y.value}put(Y,D){return Y+this.separator+D.value}result(Y){return(0,W.string)(Y).toRDF()}}Z.GroupConcat=U},"../node_modules/sparqlee/dist/lib/aggregators/Max.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Max=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class F extends W.BaseAggregator{init(J){const{value:Y}=this.extractValue(J);return{extremeValue:Y,term:J}}put(J,Y){const D=this.extractValue(Y);return D.value>J.extremeValue?{extremeValue:D.value,term:Y}:J}result(J){return J.term}}Z.Max=F},"../node_modules/sparqlee/dist/lib/aggregators/Min.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Min=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class F extends W.BaseAggregator{init(J){const{value:Y}=this.extractValue(J);return{extremeValue:Y,term:J}}put(J,Y){const D=this.extractValue(Y);return D.value<J.extremeValue?{extremeValue:D.value,term:Y}:J}result(J){return J.term}}Z.Min=F},"../node_modules/sparqlee/dist/lib/aggregators/Sample.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sample=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class F extends W.BaseAggregator{init(J){return J}put(J,Y){return J}result(J){return J}}Z.Sample=F},"../node_modules/sparqlee/dist/lib/aggregators/Sum.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sum=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/index.js"),F=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/aggregators/BaseAggregator.js");class Y extends J.BaseAggregator{constructor(){super(...arguments),this.summer=W.regularFunctions[U.RegularOperator.ADDITION]}static emptyValue(){return(0,F.integer)(0).toRDF()}init(Q){return this.termToNumericOrError(Q)}put(Q,ee){const q=this.termToNumericOrError(ee);return this.summer.apply([Q,q],this.sharedContext)}result(Q){return Q.toRDF()}}Z.Sum=Y},"../node_modules/sparqlee/dist/lib/aggregators/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.aggregators=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/Average.js"),F=G("../node_modules/sparqlee/dist/lib/aggregators/Count.js"),U=G("../node_modules/sparqlee/dist/lib/aggregators/GroupConcat.js"),J=G("../node_modules/sparqlee/dist/lib/aggregators/Max.js"),Y=G("../node_modules/sparqlee/dist/lib/aggregators/Min.js"),D=G("../node_modules/sparqlee/dist/lib/aggregators/Sample.js"),Q=G("../node_modules/sparqlee/dist/lib/aggregators/Sum.js");Z.aggregators={count:F.Count,sum:Q.Sum,min:Y.Min,max:J.Max,avg:W.Average,group_concat:U.GroupConcat,sample:D.Sample}},"../node_modules/sparqlee/dist/lib/evaluators/AggregateEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AggregateEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js"),F=G("../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js");class U extends W.BaseAggregateEvaluator{constructor(Y,D,Q){super(Y,F.SyncEvaluator.completeContext(D||{}),Q),this.evaluator=new F.SyncEvaluator(Y.expression,D)}put(Y){this.init(Y)}__put(Y){try{const D=this.evaluator.evaluate(Y);this.state=this.aggregator.put(this.state,D)}catch(D){this.safeThrow(D)}}safeThrow(Y){if(this.throwError)throw Y;this.put=()=>{},this.result=()=>{}}init(Y){try{const D=this.evaluator.evaluate(Y);this.state=this.aggregator.init(D),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(D){this.safeThrow(D)}}}Z.AggregateEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/AsyncAggregateEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncAggregateEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js"),F=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js");class U extends F.BaseAggregateEvaluator{constructor(Y,D,Q){super(Y,W.AsyncEvaluator.completeContext(D||{}),Q),this.evaluator=new W.AsyncEvaluator(Y.expression,D),this.errorOccurred=!1}put(Y){return this.init(Y)}async __put(Y){try{const D=await this.evaluator.evaluate(Y);this.state=this.aggregator.put(this.state,D)}catch(D){this.safeThrow(D)}}safeThrow(Y){if(this.throwError)throw Y;this.put=async()=>{},this.result=()=>{},this.errorOccurred=!0}async init(Y){try{const D=await this.evaluator.evaluate(Y);if(!D||this.errorOccurred)return;if(this.state){this.state=this.aggregator.put(this.state,D);return}this.state=this.aggregator.init(D),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(D){this.safeThrow(D)}}}Z.AsyncAggregateEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/AsyncEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncEvaluator=void 0;const W=G("../node_modules/lru-cache/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/AsyncRecursiveEvaluator.js");class J{constructor(D,Q={}){this.algExpr=D;const ee=Q.extensionFunctionCreator||(()=>{}),q=J.completeContext(Q),te=new F.AlgebraTransformer(Object.assign({type:"async",creator:ee},q));this.expr=te.transformAlgebra(D),this.evaluator=new U.AsyncRecursiveEvaluator(q,te)}static completeContext(D){return{now:D.now||new Date(Date.now()),baseIRI:D.baseIRI||void 0,functionArgumentsCache:D.functionArgumentsCache||{},superTypeProvider:{cache:D.typeCache||new W,discoverer:D.getSuperType||(()=>"term")},extensionFunctionCreator:D.extensionFunctionCreator,exists:D.exists,aggregate:D.aggregate,bnode:D.bnode}}async evaluate(D){return(await this.evaluator.evaluate(this.expr,D)).toRDF()}async evaluateAsEBV(D){return(await this.evaluator.evaluate(this.expr,D)).coerceEBV()}async evaluateAsInternal(D){return await this.evaluator.evaluate(this.expr,D)}}Z.AsyncEvaluator=J},"../node_modules/sparqlee/dist/lib/evaluators/SyncEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SyncEvaluator=void 0;const W=G("../node_modules/lru-cache/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/SyncRecursiveEvaluator.js");class J{constructor(D,Q={}){this.algExpr=D,this.context=Q;const ee=Q.extensionFunctionCreator||(()=>{}),q=J.completeContext(Q),te=new F.AlgebraTransformer(Object.assign({type:"sync",creator:ee},q));this.expr=te.transformAlgebra(D),this.evaluator=new U.SyncRecursiveEvaluator(q,te)}static completeContext(D){return{now:D.now||new Date(Date.now()),baseIRI:D.baseIRI||void 0,functionArgumentsCache:D.functionArgumentsCache||{},superTypeProvider:{cache:D.typeCache||new W,discoverer:D.getSuperType||(()=>"term")},extensionFunctionCreator:D.extensionFunctionCreator,exists:D.exists,aggregate:D.aggregate,bnode:D.bnode}}evaluate(D){return this.evaluator.evaluate(this.expr,D).toRDF()}evaluateAsEBV(D){return this.evaluator.evaluate(this.expr,D).coerceEBV()}evaluateAsInternal(D){return this.evaluator.evaluate(this.expr,D)}}Z.SyncEvaluator=J},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/AsyncRecursiveEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncRecursiveEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),J=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js");class Y extends J.BaseExpressionEvaluator{constructor(Q,ee){super(ee||new F.TermTransformer(Q.superTypeProvider)),this.context=Q,this.subEvaluators={[W.ExpressionType.Term]:this.term.bind(this),[W.ExpressionType.Variable]:this.variable.bind(this),[W.ExpressionType.Operator]:this.evalOperator.bind(this),[W.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[W.ExpressionType.Named]:this.evalNamed.bind(this),[W.ExpressionType.Existence]:this.evalExistence.bind(this),[W.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[W.ExpressionType.AsyncExtension]:this.evalAsyncExtension.bind(this)}}async evaluate(Q,ee){const q=this.subEvaluators[Q.expressionType];if(!q)throw new U.InvalidExpressionType(Q);return q.bind(this)(Q,ee)}async evalOperator(Q,ee){const q=Q.args.map(ie=>this.evaluate(ie,ee)),te=await Promise.all(q);return Q.apply(te)}async evalSpecialOperator(Q,ee){const q=this.evaluate.bind(this),te={args:Q.args,mapping:ee,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:q,bnode:this.context.bnode};return Q.applyAsync(te)}async _evalAsyncArgs(Q,ee){const q=Q.map(te=>this.evaluate(te,ee));return await Promise.all(q)}async evalNamed(Q,ee){return Q.apply(await this._evalAsyncArgs(Q.args,ee))}async evalAsyncExtension(Q,ee){return await Q.apply(await this._evalAsyncArgs(Q.args,ee))}async evalExistence(Q,ee){if(!this.context.exists)throw new U.NoExistenceHook;return new W.BooleanLiteral(await this.context.exists(Q.expression,ee))}async evalAggregate(Q,ee){if(!this.context.aggregate)throw new U.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(Q.expression))}}Z.AsyncRecursiveEvaluator=Y},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseAggregateEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseAggregateEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/aggregators/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Errors.js");class U{constructor(Y,D,Q){this.throwError=!1,this.expression=Y,this.aggregator=new W.aggregators[Y.aggregator](Y,D),this.throwError=Q||!1}static emptyValue(Y,D=!1){const Q=W.aggregators[Y.aggregator].emptyValue();if(Q===void 0&&D)throw new F.EmptyAggregateError;return Q}result(){return this.aggregator.constructor.emptyValue()}__result(){return this.aggregator.result(this.state)}}Z.BaseAggregateEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.BaseExpressionEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),F=G("../node_modules/sparqlee/dist/lib/util/Errors.js");class U{constructor(Y){this.termTransformer=Y}term(Y,D){return Y}variable(Y,D){const Q=D.get((0,W.expressionToVar)(Y));if(!Q)throw new F.UnboundVariableError(Y.name,D);return this.termTransformer.transformRDFTermUnsafe(Q)}}Z.BaseExpressionEvaluator=U},"../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/SyncRecursiveEvaluator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SyncRecursiveEvaluator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),J=G("../node_modules/sparqlee/dist/lib/evaluators/evaluatorHelpers/BaseExpressionEvaluator.js");class Y extends J.BaseExpressionEvaluator{constructor(Q,ee){super(ee||new F.TermTransformer(Q.superTypeProvider)),this.context=Q,this.subEvaluators={[W.ExpressionType.Term]:this.term.bind(this),[W.ExpressionType.Variable]:this.variable.bind(this),[W.ExpressionType.Operator]:this.evalOperator.bind(this),[W.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[W.ExpressionType.Named]:this.evalNamed.bind(this),[W.ExpressionType.Existence]:this.evalExistence.bind(this),[W.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[W.ExpressionType.SyncExtension]:this.evalSyncExtension.bind(this)}}evaluate(Q,ee){const q=this.subEvaluators[Q.expressionType];if(!q)throw new U.InvalidExpressionType(Q);return q.bind(this)(Q,ee)}evalOperator(Q,ee){const q=Q.args.map(te=>this.evaluate(te,ee));return Q.apply(q)}evalSpecialOperator(Q,ee){const q=this.evaluate.bind(this),te={args:Q.args,mapping:ee,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:q,bnode:this.context.bnode};return Q.applySync(te)}evalNamed(Q,ee){const q=Q.args.map(te=>this.evaluate(te,ee));return Q.apply(q)}evalSyncExtension(Q,ee){const q=Q.args.map(te=>this.evaluate(te,ee));return Q.apply(q)}evalExistence(Q,ee){if(!this.context.exists)throw new U.NoExistenceHook;return new W.BooleanLiteral(this.context.exists(Q.expression,ee))}evalAggregate(Q,ee){if(!this.context.aggregate)throw new U.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(Q.expression))}}Z.SyncRecursiveEvaluator=Y},"../node_modules/sparqlee/dist/lib/expressions/Aggregate.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Aggregate=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y){this.name=J,this.expression=Y,this.expressionType=W.ExpressionType.Aggregate}}Z.Aggregate=F},"../node_modules/sparqlee/dist/lib/expressions/AsyncExtension.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AsyncExtension=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.name=J,this.args=Y,this.apply=D,this.expressionType=W.ExpressionType.AsyncExtension}}Z.AsyncExtension=F},"../node_modules/sparqlee/dist/lib/expressions/Existence.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Existence=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J){this.expression=J,this.expressionType=W.ExpressionType.Existence}}Z.Existence=F},"../node_modules/sparqlee/dist/lib/expressions/Expressions.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.asTermType=Z.ExpressionType=void 0,function(W){W.Aggregate="aggregate",W.Existence="existence",W.Named="named",W.Operator="operator",W.SpecialOperator="specialOperator",W.Term="term",W.Variable="variable",W.AsyncExtension="asyncExtension",W.SyncExtension="syncExtension"}(Z.ExpressionType||(Z.ExpressionType={}));function G(W){if(W==="namedNode"||W==="literal"||W==="blankNode")return W}Z.asTermType=G},"../node_modules/sparqlee/dist/lib/expressions/Named.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Named=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.name=J,this.args=Y,this.apply=D,this.expressionType=W.ExpressionType.Named}}Z.Named=F},"../node_modules/sparqlee/dist/lib/expressions/Operator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Operator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y){this.args=J,this.apply=Y,this.expressionType=W.ExpressionType.Operator}}Z.Operator=F},"../node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SpecialOperator=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.args=J,this.applyAsync=Y,this.applySync=D,this.expressionType=W.ExpressionType.SpecialOperator}}Z.SpecialOperator=F},"../node_modules/sparqlee/dist/lib/expressions/SyncExtension.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SyncExtension=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J,Y,D){this.name=J,this.args=Y,this.apply=D,this.expressionType=W.ExpressionType.SyncExtension}}Z.SyncExtension=F},"../node_modules/sparqlee/dist/lib/expressions/Term.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isNonLexicalLiteral=Z.NonLexicalLiteral=Z.StringLiteral=Z.LangStringLiteral=Z.DateTimeLiteral=Z.BooleanLiteral=Z.DoubleLiteral=Z.FloatLiteral=Z.DecimalLiteral=Z.IntegerLiteral=Z.NumericLiteral=Z.Literal=Z.isLiteralTermExpression=Z.BlankNode=Z.NamedNode=Z.Term=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),Y=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js"),D=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js"),Q=new W.DataFactory;class ee{constructor(){this.expressionType=D.ExpressionType.Term}str(){throw new J.InvalidArgumentTypes([this],F.RegularOperator.STR)}coerceEBV(){throw new J.EBVCoercionError(this)}}Z.Term=ee;class q extends ee{constructor(fe){super(),this.value=fe,this.termType="namedNode"}toRDF(){return Q.namedNode(this.value)}str(){return this.value}}Z.NamedNode=q;class te extends ee{constructor(fe){super(),this.termType="blankNode",this.value=typeof fe=="string"?Q.blankNode(fe):fe}toRDF(){return this.value}}Z.BlankNode=te;function ie(We){if(We.termType==="literal")return We}Z.isLiteralTermExpression=ie;class ne extends ee{constructor(fe,Re,ye,re){super(),this.typedValue=fe,this.dataType=Re,this.strValue=ye,this.language=re,this.termType="literal"}toRDF(){return Q.literal(this.strValue||this.str(),this.language||Q.namedNode(this.dataType))}str(){return this.strValue||this.typedValue.toString()}}Z.Literal=ne;class ce extends ne{constructor(fe,Re,ye,re){super(fe,Re,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}coerceEBV(){return!!this.typedValue}toRDF(){const fe=super.toRDF();return Number.isFinite(this.typedValue)||(fe.value=fe.value.replace("Infinity","INF")),fe}str(){return this.strValue||this.specificFormatter(this.typedValue)}}Z.NumericLiteral=ce;class le extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_INTEGER,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){return fe.toFixed(0)}}Z.IntegerLiteral=le;class se extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_DECIMAL,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){return fe.toString()}}Z.DecimalLiteral=se;class pe extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_FLOAT,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){return fe.toString()}}Z.FloatLiteral=pe;class ue extends ce{constructor(fe,Re,ye,re){super(fe,Re||U.TypeURL.XSD_DOUBLE,ye,re),this.typedValue=fe,this.strValue=ye,this.language=re}specificFormatter(fe){if(!Number.isFinite(fe))return fe>0?"INF":fe<0?"-INF":"NaN";const Re=fe.toExponential(),[ye,re]=Re.split("e"),Ze=re.replace(/\+/u,"");return`${ye.includes(".")?ye:`${ye}.0`}E${Ze}`}}Z.DoubleLiteral=ue;class ae extends ne{constructor(fe,Re,ye){super(fe,ye||U.TypeURL.XSD_BOOLEAN,Re),this.typedValue=fe,this.strValue=Re}coerceEBV(){return this.typedValue}}Z.BooleanLiteral=ae;class de extends ne{constructor(fe,Re,ye){super(fe,ye||U.TypeURL.XSD_DATE_TIME,Re),this.typedValue=fe,this.strValue=Re}}Z.DateTimeLiteral=de;class be extends ne{constructor(fe,Re,ye){super(fe,ye||U.TypeURL.RDF_LANG_STRING,fe,Re),this.typedValue=fe,this.language=Re}coerceEBV(){return this.str().length>0}}Z.LangStringLiteral=be;class he extends ne{constructor(fe,Re){super(fe,Re||U.TypeURL.XSD_STRING,fe),this.typedValue=fe}coerceEBV(){return this.str().length>0}}Z.StringLiteral=he;class Le extends ne{constructor(fe,Re,ye,re,Ze){super({toString:()=>"undefined"},U.TypeAlias.SPARQL_NON_LEXICAL,re,Ze),this.typeURL=Re,this.openWorldType=ye}coerceEBV(){if((0,Y.isSubTypeOf)(this.typeURL,U.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,Y.isSubTypeOf)(this.typeURL,U.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new J.EBVCoercionError(this)}toRDF(){return Q.literal(this.str(),this.language||Q.namedNode(this.typeURL))}str(){return this.strValue||""}}Z.NonLexicalLiteral=Le;function Xe(We){if(We.dataType===U.TypeAlias.SPARQL_NON_LEXICAL)return We}Z.isNonLexicalLiteral=Xe},"../node_modules/sparqlee/dist/lib/expressions/Variable.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Variable=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js");class F{constructor(J){this.expressionType=W.ExpressionType.Variable,this.name=J}}Z.Variable=F},"../node_modules/sparqlee/dist/lib/expressions/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y);var Q=Object.getOwnPropertyDescriptor(J,Y);(!Q||("get"in Q?!J.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return J[Y]}}),Object.defineProperty(U,D,Q)}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/sparqlee/dist/lib/expressions/Expressions.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Variable.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Term.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Operator.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/SpecialOperator.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Named.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Aggregate.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/Existence.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/AsyncExtension.js"),Z),F(G("../node_modules/sparqlee/dist/lib/expressions/SyncExtension.js"),Z)},"../node_modules/sparqlee/dist/lib/functions/Core.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.SpecialFunction=Z.NamedFunction=Z.RegularFunction=Z.BaseFunction=void 0;const W=G("../node_modules/sparqlee/dist/lib/util/Errors.js");class F{constructor(ee,q){this.operator=ee,this.apply=(te,ie)=>(this.monomorph(te,ie.superTypeProvider,ie.functionArgumentsCache)||this.handleInvalidTypes(te))(ie)(te),this.arity=q.arity,this.overloads=q.overloads}monomorph(ee,q,te){return this.overloads.search(ee,q,te)}}Z.BaseFunction=F;class U extends F{constructor(ee,q){super(ee,q),this.functionClass="regular"}handleInvalidTypes(ee){throw new W.InvalidArgumentTypes(ee,this.operator)}}Z.RegularFunction=U;class J extends F{constructor(ee,q){super(ee,q),this.functionClass="named"}handleInvalidTypes(ee){throw new W.InvalidArgumentTypes(ee,this.operator)}}Z.NamedFunction=J;class Y{constructor(ee,q){this.operator=ee,this.functionClass="special",this.arity=q.arity,this.applySync=q.applySync,this.applyAsync=q.applyAsync,this.checkArity=q.checkArity||D(this.arity)}}Z.SpecialFunction=Y;function D(Q){return ee=>Q===Number.POSITIVE_INFINITY?!0:ee.length===Q}},"../node_modules/sparqlee/dist/lib/functions/Helpers.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.expressionToVar=Z.dateTime=Z.langString=Z.string=Z.double=Z.float=Z.decimal=Z.integer=Z.bool=Z.Builder=Z.declare=void 0;const W=G("../node_modules/rdf-data-factory/index.js"),F=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),D=G("../node_modules/sparqlee/dist/lib/functions/OverloadTree.js"),Q=new W.DataFactory;function ee(de){return new q(de)}Z.declare=ee;class q{constructor(be){this.overloadTree=new D.OverloadTree(be),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}set(be,he){return this.overloadTree.addOverload(be,he),this}copy({from:be,to:he}){const Le=this.overloadTree.getImplementationExact(be);if(!Le)throw new Y.UnexpectedError("Tried to copy implementation, but types not found",{from:be,to:he});return this.set(he,Le)}onUnary(be,he){return this.set([be],Le=>([Xe])=>he(Le)(Xe))}onUnaryTyped(be,he){return this.set([be],Le=>([Xe])=>he(Le)(Xe.typedValue))}onBinary(be,he){return this.set(be,Le=>([Xe,We])=>he(Le)(Xe,We))}onBinaryTyped(be,he){return this.set(be,Le=>([Xe,We])=>he(Le)(Xe.typedValue,We.typedValue))}onTernaryTyped(be,he){return this.set(be,Le=>([Xe,We,fe])=>he(Le)(Xe.typedValue,We.typedValue,fe.typedValue))}onTernary(be,he){return this.set(be,Le=>([Xe,We,fe])=>he(Le)(Xe,We,fe))}onQuaternaryTyped(be,he){return this.set(be,Le=>([Xe,We,fe,Re])=>he(Le)(Xe.typedValue,We.typedValue,fe.typedValue,Re.typedValue))}onTerm1(be){return this.set(["term"],he=>([Le])=>be(he)(Le))}onLiteral1(be){return this.set(["literal"],he=>([Le])=>be(he)(Le))}onBoolean1(be){return this.set([U.TypeURL.XSD_BOOLEAN],he=>([Le])=>be(he)(Le))}onBoolean1Typed(be){return this.set([U.TypeURL.XSD_BOOLEAN],he=>([Le])=>be(he)(Le.typedValue))}onString1(be){return this.set([U.TypeURL.XSD_STRING],he=>([Le])=>be(he)(Le))}onString1Typed(be){return this.set([U.TypeURL.XSD_STRING],he=>([Le])=>be(he)(Le.typedValue))}onLangString1(be){return this.set([U.TypeURL.RDF_LANG_STRING],he=>([Le])=>be(he)(Le))}onStringly1(be){return this.set([U.TypeAlias.SPARQL_STRINGLY],he=>([Le])=>be(he)(Le))}onStringly1Typed(be){return this.set([U.TypeAlias.SPARQL_STRINGLY],he=>([Le])=>be(he)(Le.typedValue))}onNumeric1(be){return this.set([U.TypeAlias.SPARQL_NUMERIC],he=>([Le])=>be(he)(Le)).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL],1)}onDateTime1(be){return this.set([U.TypeURL.XSD_DATE_TIME],he=>([Le])=>be(he)(Le)).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL],1)}numericConverter(be){const he=Le=>Xe=>be(Le)(Xe.typedValue);return this.onBinary([J.TypeURL.XSD_INTEGER],Le=>Xe=>ie(he(Le)(Xe))).onBinary([J.TypeURL.XSD_DECIMAL],Le=>Xe=>ne(he(Le)(Xe))).onBinary([J.TypeURL.XSD_FLOAT],Le=>Xe=>ce(he(Le)(Xe))).onBinary([J.TypeURL.XSD_DOUBLE],Le=>Xe=>le(he(Le)(Xe))).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL],1)}arithmetic(be){const he=Le=>(Xe,We)=>be(Le)(Xe.typedValue,We.typedValue);return this.onBinary([J.TypeURL.XSD_INTEGER,J.TypeURL.XSD_INTEGER],Le=>(Xe,We)=>ie(he(Le)(Xe,We))).onBinary([J.TypeURL.XSD_DECIMAL,J.TypeURL.XSD_DECIMAL],Le=>(Xe,We)=>ne(he(Le)(Xe,We))).onBinary([J.TypeURL.XSD_FLOAT,J.TypeURL.XSD_FLOAT],Le=>(Xe,We)=>ce(he(Le)(Xe,We))).onBinary([J.TypeURL.XSD_DOUBLE,J.TypeURL.XSD_DOUBLE],Le=>(Xe,We)=>le(he(Le)(Xe,We)))}numberTest(be){return this.numeric(he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)})}stringTest(be){return this.set([U.TypeURL.XSD_STRING,U.TypeURL.XSD_STRING],he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)}).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeURL.XSD_STRING],1).invalidLexicalForm([U.TypeURL.XSD_STRING,U.TypeAlias.SPARQL_NON_LEXICAL],2)}booleanTest(be){return this.set([U.TypeURL.XSD_BOOLEAN,U.TypeURL.XSD_BOOLEAN],he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)}).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeURL.XSD_BOOLEAN],1).invalidLexicalForm([U.TypeURL.XSD_BOOLEAN,U.TypeAlias.SPARQL_NON_LEXICAL],2)}dateTimeTest(be){return this.set([U.TypeURL.XSD_DATE_TIME,U.TypeURL.XSD_DATE_TIME],he=>([Le,Xe])=>{const We=be(he)(Le.typedValue,Xe.typedValue);return te(We)}).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeURL.XSD_DATE_TIME],1).invalidLexicalForm([U.TypeURL.XSD_DATE_TIME,U.TypeAlias.SPARQL_NON_LEXICAL],2)}numeric(be){return this.set([U.TypeAlias.SPARQL_NUMERIC,U.TypeAlias.SPARQL_NUMERIC],be).invalidLexicalForm([U.TypeAlias.SPARQL_NUMERIC,U.TypeAlias.SPARQL_NON_LEXICAL],2).invalidLexicalForm([U.TypeAlias.SPARQL_NON_LEXICAL,U.TypeAlias.SPARQL_NUMERIC],1)}invalidLexicalForm(be,he){return this.set(be,()=>Le=>{throw new Y.InvalidLexicalForm(Le[he-1].toRDF())})}}Z.Builder=q;function te(de){return new F.BooleanLiteral(de)}Z.bool=te;function ie(de){return new F.IntegerLiteral(de)}Z.integer=ie;function ne(de){return new F.DecimalLiteral(de)}Z.decimal=ne;function ce(de){return new F.FloatLiteral(de)}Z.float=ce;function le(de){return new F.DoubleLiteral(de)}Z.double=le;function se(de){return new F.StringLiteral(de)}Z.string=se;function pe(de,be){return new F.LangStringLiteral(de,be)}Z.langString=pe;function ue(de,be){return new F.DateTimeLiteral(de,be)}Z.dateTime=ue;function ae(de){return Q.variable(de.name.slice(1))}Z.expressionToVar=ae},"../node_modules/sparqlee/dist/lib/functions/NamedFunctions.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.namedDefinitions=void 0;const W=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),F=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),U=G("../node_modules/sparqlee/dist/lib/util/Parsing.js"),J=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),Y={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_STRING).onNumeric1(()=>ne=>(0,J.string)((0,J.float)(ne.typedValue).str())).onBoolean1Typed(()=>ne=>(0,J.string)((0,J.bool)(ne).str())).onTerm1(()=>ne=>(0,J.string)(ne.str())).collect()},D={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_FLOAT).onNumeric1(()=>ne=>(0,J.float)(ne.typedValue)).onBoolean1Typed(()=>ne=>(0,J.float)(ne?1:0)).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{const ce=(0,U.parseXSDFloat)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_FLOAT);return(0,J.float)(ce)}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},Q={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_DOUBLE).onNumeric1(()=>ne=>(0,J.double)(ne.typedValue)).onBoolean1Typed(()=>ne=>(0,J.double)(ne?1:0)).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{const ce=(0,U.parseXSDFloat)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_DOUBLE);return(0,J.double)(ce)}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},ee={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_DECIMAL).onNumeric1(()=>ne=>{const ce=(0,U.parseXSDDecimal)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_DECIMAL);return(0,J.decimal)(ce)}).onString1(()=>ne=>{const ce=ne.str(),le=/^([+-])?(\d+(\.\d+)?)$/u.test(ce)?(0,U.parseXSDDecimal)(ce):void 0;if(le===void 0)throw new F.CastError(ne,W.TypeURL.XSD_DECIMAL);return(0,J.decimal)(le)}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).onBoolean1Typed(()=>ne=>(0,J.decimal)(ne?1:0)).collect()},q={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>ne=>(0,J.integer)(ne?1:0)).onNumeric1(()=>ne=>{const ce=(0,U.parseXSDInteger)(ne.str());if(ce===void 0)throw new F.CastError(ne,W.TypeURL.XSD_INTEGER);return(0,J.integer)(ce)}).onString1(()=>ne=>{const ce=ne.str(),le=/^\d+$/u.test(ce)?(0,U.parseXSDInteger)(ce):void 0;if(le===void 0)throw new F.CastError(ne,W.TypeURL.XSD_INTEGER);return(0,J.integer)(le)}).copy({from:[W.TypeAlias.SPARQL_NUMERIC],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},te={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_DATE_TIME).onUnary(W.TypeURL.XSD_DATE_TIME,()=>ne=>ne).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{const ce=new Date(ne.str());if(Number.isNaN(ce.getTime()))throw new F.CastError(ne,W.TypeURL.XSD_DATE_TIME);return(0,J.dateTime)(ce,ne.str())}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},ie={arity:1,overloads:(0,J.declare)(W.TypeURL.XSD_BOOLEAN).onNumeric1(()=>ne=>(0,J.bool)(ne.coerceEBV())).onUnary(W.TypeURL.XSD_BOOLEAN,()=>ne=>(0,J.bool)(ne.coerceEBV())).onUnary(W.TypeURL.XSD_STRING,()=>ne=>{switch(ne.str()){case"true":return(0,J.bool)(!0);case"false":return(0,J.bool)(!1);case"1":return(0,J.bool)(!0);case"0":return(0,J.bool)(!1);default:throw new F.CastError(ne,W.TypeURL.XSD_BOOLEAN)}}).copy({from:[W.TypeURL.XSD_STRING],to:[W.TypeAlias.SPARQL_NON_LEXICAL]}).collect()};Z.namedDefinitions={[W.TypeURL.XSD_STRING]:Y,[W.TypeURL.XSD_FLOAT]:D,[W.TypeURL.XSD_DOUBLE]:Q,[W.TypeURL.XSD_DECIMAL]:ee,[W.TypeURL.XSD_INTEGER]:q,[W.TypeURL.XSD_DATE_TIME]:te,[W.TypeURL.XSD_DATE]:te,[W.TypeURL.XSD_BOOLEAN]:ie}},"../node_modules/sparqlee/dist/lib/functions/OverloadTree.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.OverloadTree=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),U=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js"),J=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js");class Y{constructor(Q,ee){this.identifier=Q,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=ee||0,this.promotionCount=void 0}getSubtree(Q){const ee=(0,U.asGeneralType)(Q);if(ee)return this.generalOverloads[ee];for(const[q,te]of this.literalOverLoads)if(Q===q)return te}getImplementationExact(Q){let ee=this;for(const q of Q)if(ee=ee.getSubtree(q),!ee)return;return ee.implementation}search(Q,ee,q){let te=q[this.identifier],ie=0;for(;ie<Q.length&&te?.cache;){const le=Q[ie],se=(0,W.isLiteralTermExpression)(le);te=te.cache[se?se.dataType:le.termType],ie++}if(ie===Q.length&&te?.func)return te.func;const ne=[],ce=0;if(Q.length===0)return this.implementation;for(ne.push(...this.getSubTreeWithArg(Q[ce],ee).map(le=>({node:le,index:ce+1})));ne.length>0;){const{index:le,node:se}=ne.pop();if(le===Q.length&&se.implementation)return this.addToCache(q,Q,se.implementation),se.implementation;ne.push(...se.getSubTreeWithArg(Q[le],ee).map(pe=>({node:pe,index:le+1})))}}addToCache(Q,ee,q){function te(ne,ce){return ce in ne||(ne[ce]={}),ne[ce]}let ie=te(Q,this.identifier);for(const ne of ee){const ce=(0,W.isLiteralTermExpression)(ne),le=ce?ce.dataType:ne.termType;ie.cache=ie.cache||{},ie=te(ie.cache,le)}ie.func=q}addOverload(Q,ee){this._addOverload([...Q],ee,0)}_addOverload(Q,ee,q){const[te,...ie]=Q;if(!te){(this.promotionCount===void 0||q<=this.promotionCount)&&(this.promotionCount=q,this.implementation=ee);return}let ne=this.getSubtree(te);if(!ne){const ce=new Y(this.identifier,this.depth+1),le=(0,U.asGeneralType)(te);le&&(this.generalOverloads[le]=ce);const se=(0,U.asOverrideType)(te);se&&this.literalOverLoads.push([se,ce]),ne=ce}ne._addOverload(ie,ee,q),te===F.TypeURL.XSD_STRING&&this.addPromotedOverload(F.TypeURL.XSD_ANY_URI,ee,ce=>(0,J.string)(ce.str()),ie,q),te===F.TypeURL.XSD_DOUBLE&&(this.addPromotedOverload(F.TypeURL.XSD_FLOAT,ee,ce=>(0,J.double)(ce.typedValue),ie,q),this.addPromotedOverload(F.TypeURL.XSD_DECIMAL,ee,ce=>(0,J.double)(ce.typedValue),ie,q)),te===F.TypeURL.XSD_FLOAT&&this.addPromotedOverload(F.TypeURL.XSD_DECIMAL,ee,ce=>(0,J.float)(ce.typedValue),ie,q)}addPromotedOverload(Q,ee,q,te,ie){let ne=this.getSubtree(Q);if(!ne){const ce=new Y(this.identifier,this.depth+1);this.literalOverLoads.push([Q,ce]),ne=ce}ne._addOverload(te,ce=>le=>ee(ce)([...le.slice(0,this.depth),q(le[this.depth]),...le.slice(this.depth+1,le.length)]),ie+1)}getSubTreeWithArg(Q,ee){const q=[],te=(0,W.isLiteralTermExpression)(Q);if(this.generalOverloads.term&&q.push(this.generalOverloads.term),this.generalOverloads[Q.termType]&&q.push(this.generalOverloads[Q.termType]),te){const ie=(0,U.asKnownLiteralType)(te.dataType);let ne;ie?ne=U.superTypeDictTable[ie]:ne=(0,U.getSuperTypes)(te.dataType,ee);const ce=this.literalOverLoads.filter(([le,se])=>le in ne).map(([le,se])=>[ne[le],se]);ce.sort(([le,se],[pe,ue])=>le-pe),q.push(...ce.map(([le,se])=>se))}return q}}Z.OverloadTree=Y},"../node_modules/sparqlee/dist/lib/functions/RegularFunctions.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.definitions=void 0;const W=G("../node_modules/bignumber.js/bignumber.js"),F=G("../node_modules/hash.js/lib/hash.js"),U=G("../node_modules/rdf-data-factory/index.js"),J=G("../node_modules/relative-to-absolute-iri/index.js"),Y=G("../node_modules/spark-md5/spark-md5.js"),D=G("../packages/uuid/dist/index.js"),Q=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),ee=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),q=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),te=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),ie=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),ne=G("../node_modules/sparqlee/dist/lib/util/Parsing.js"),ce=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),le=G("../node_modules/sparqlee/dist/lib/functions/XPathFunctions.js"),se=new U.DataFactory,pe={arity:1,overloads:(0,ce.declare)(q.RegularOperator.NOT).onTerm1(()=>Qe=>(0,ce.bool)(!Qe.coerceEBV())).collect()},ue={arity:1,overloads:(0,ce.declare)(q.RegularOperator.UPLUS).numericConverter(()=>Qe=>Qe).collect()},ae={arity:1,overloads:(0,ce.declare)(q.RegularOperator.UMINUS).numericConverter(()=>Qe=>-Qe).collect()},de={arity:2,overloads:(0,ce.declare)(q.RegularOperator.MULTIPLICATION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).times(nt).toNumber()).collect()},be={arity:2,overloads:(0,ce.declare)(q.RegularOperator.DIVISION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).div(nt).toNumber()).onBinaryTyped([te.TypeURL.XSD_INTEGER,te.TypeURL.XSD_INTEGER],()=>(Qe,nt)=>{if(nt===0)throw new ie.ExpressionError("Integer division by 0");return(0,ce.decimal)(new W.BigNumber(Qe).div(nt).toNumber())}).collect()},he={arity:2,overloads:(0,ce.declare)(q.RegularOperator.ADDITION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).plus(nt).toNumber()).collect()},Le={arity:2,overloads:(0,ce.declare)(q.RegularOperator.SUBTRACTION).arithmetic(()=>(Qe,nt)=>new W.BigNumber(Qe).minus(nt).toNumber()).collect()},Xe={arity:2,overloads:(0,ce.declare)(q.RegularOperator.EQUAL).numberTest(()=>(Qe,nt)=>Qe===nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)===0).booleanTest(()=>(Qe,nt)=>Qe===nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()===nt.getTime()).set(["term","term"],()=>([Qe,nt])=>(0,ce.bool)(We(Qe,nt))).collect()};function We(Qe,nt){const Xt=Qe.toRDF(),St=nt.toRDF(),Mt=Xt.equals(St);if(Xt.termType==="Literal"&&St.termType==="Literal")throw new ie.RDFEqualTypeError([Qe,nt]);return Mt}const fe={arity:2,overloads:(0,ce.declare)(q.RegularOperator.NOT_EQUAL).numberTest(()=>(Qe,nt)=>Qe!==nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)!==0).booleanTest(()=>(Qe,nt)=>Qe!==nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()!==nt.getTime()).set(["term","term"],()=>([Qe,nt])=>(0,ce.bool)(!We(Qe,nt))).collect()},Re={arity:2,overloads:(0,ce.declare)(q.RegularOperator.LT).numberTest(()=>(Qe,nt)=>Qe<nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)===-1).booleanTest(()=>(Qe,nt)=>Qe<nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()<nt.getTime()).collect()},ye={arity:2,overloads:(0,ce.declare)(q.RegularOperator.GT).numberTest(()=>(Qe,nt)=>Qe>nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)===1).booleanTest(()=>(Qe,nt)=>Qe>nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()>nt.getTime()).collect()},re={arity:2,overloads:(0,ce.declare)(q.RegularOperator.LTE).numberTest(()=>(Qe,nt)=>Qe<=nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)!==1).booleanTest(()=>(Qe,nt)=>Qe<=nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()<=nt.getTime()).collect()},Ze={arity:2,overloads:(0,ce.declare)(q.RegularOperator.GTE).numberTest(()=>(Qe,nt)=>Qe>=nt).stringTest(()=>(Qe,nt)=>Qe.localeCompare(nt)!==-1).booleanTest(()=>(Qe,nt)=>Qe>=nt).dateTimeTest(()=>(Qe,nt)=>Qe.getTime()>=nt.getTime()).collect()},Ge={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_IRI).onTerm1(()=>Qe=>(0,ce.bool)(Qe.termType==="namedNode")).collect()},ve={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_BLANK).onTerm1(()=>Qe=>(0,ce.bool)(Qe.termType==="blankNode")).collect()},Te={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_LITERAL).onTerm1(()=>Qe=>(0,ce.bool)(Qe.termType==="literal")).collect()},xe={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IS_NUMERIC).onNumeric1(()=>Qe=>(0,ce.bool)(!0)).onTerm1(()=>Qe=>(0,ce.bool)(!1)).collect()},Ie={arity:1,overloads:(0,ce.declare)(q.RegularOperator.STR).onTerm1(()=>Qe=>(0,ce.string)(Qe.str())).collect()},Se={arity:1,overloads:(0,ce.declare)(q.RegularOperator.LANG).onLiteral1(()=>Qe=>(0,ce.string)(Qe.language||"")).collect()},Ne={arity:1,overloads:(0,ce.declare)(q.RegularOperator.DATATYPE).onLiteral1(()=>Qe=>new Q.NamedNode(Qe.dataType)).collect()},je={arity:1,overloads:(0,ce.declare)(q.RegularOperator.IRI).set(["namedNode"],Qe=>nt=>{const Xt=nt[0],St=(0,J.resolve)(Xt.str(),Qe.baseIRI||"");return new Q.NamedNode(St)}).onString1(Qe=>nt=>{const Xt=(0,J.resolve)(nt.str(),Qe.baseIRI||"");return new Q.NamedNode(Xt)}).collect()},tt={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRDT).set([te.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:Qe})=>([nt,Xt])=>{const St=se.literal(nt.typedValue,se.namedNode(Xt.value));return new ee.TermTransformer(Qe).transformLiteral(St)}).collect()},it={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRLANG).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>new Q.LangStringLiteral(Qe,nt.toLowerCase())).collect()},st={arity:0,overloads:(0,ce.declare)(q.RegularOperator.UUID).set([],()=>()=>new Q.NamedNode(`urn:uuid:${D.v4()}`)).collect()},qe={arity:0,overloads:(0,ce.declare)(q.RegularOperator.STRUUID).set([],()=>()=>(0,ce.string)(D.v4())).collect()},ot={arity:1,overloads:(0,ce.declare)(q.RegularOperator.STRLEN).onStringly1(()=>Qe=>(0,ce.integer)([...Qe.typedValue].length)).collect()},ut={arity:[2,3],overloads:(0,ce.declare)(q.RegularOperator.SUBSTR).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_INTEGER],()=>(Qe,nt)=>(0,ce.string)([...Qe].slice(nt-1).join(""))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_INTEGER],()=>(Qe,nt)=>{const Xt=[...Qe.typedValue].slice(nt.typedValue-1).join("");return(0,ce.langString)(Xt,Qe.language)}).onTernaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_INTEGER,te.TypeURL.XSD_INTEGER],()=>(Qe,nt,Xt)=>(0,ce.string)([...Qe].slice(nt-1,Xt+nt-1).join(""))).onTernary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_INTEGER,te.TypeURL.XSD_INTEGER],()=>(Qe,nt,Xt)=>{const St=[...Qe.typedValue].slice(nt.typedValue-1,Xt.typedValue+nt.typedValue-1).join("");return(0,ce.langString)(St,Qe.language)}).collect()},dt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.UCASE).onString1Typed(()=>Qe=>(0,ce.string)(Qe.toUpperCase())).onLangString1(()=>Qe=>(0,ce.langString)(Qe.typedValue.toUpperCase(),Qe.language)).collect()},mt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.LCASE).onString1Typed(()=>Qe=>(0,ce.string)(Qe.toLowerCase())).onLangString1(()=>Qe=>(0,ce.langString)(Qe.typedValue.toLowerCase(),Qe.language)).collect()},Je={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRSTARTS).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(Qe.startsWith(nt))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);return(0,ce.bool)(Qe.typedValue.startsWith(nt.typedValue))}).collect()},Me={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRENDS).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(Qe.endsWith(nt))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);return(0,ce.bool)(Qe.typedValue.endsWith(nt.typedValue))}).collect()},ke={arity:2,overloads:(0,ce.declare)(q.RegularOperator.CONTAINS).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(Qe.includes(nt))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);return(0,ce.bool)(Qe.typedValue.includes(nt.typedValue))}).collect()},Ye={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRBEFORE).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.string)(Qe.slice(0,Math.max(0,Qe.indexOf(nt))))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>{const[Xt,St]=[Qe.typedValue,nt.typedValue],Mt=Qe.typedValue.slice(0,Math.max(0,Xt.indexOf(St)));return Mt||!St?(0,ce.langString)(Mt,Qe.language):(0,ce.string)(Mt)}).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);const[Xt,St]=[Qe.typedValue,nt.typedValue],Mt=Qe.typedValue.slice(0,Math.max(0,Xt.indexOf(St)));return Mt||!St?(0,ce.langString)(Mt,Qe.language):(0,ce.string)(Mt)}).collect()},Ce={arity:2,overloads:(0,ce.declare)(q.RegularOperator.STRAFTER).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.string)(Qe.slice(Qe.indexOf(nt)).slice(nt.length))).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>{const[Xt,St]=[Qe.typedValue,nt.typedValue],Mt=Xt.slice(Xt.indexOf(St)).slice(St.length);return Mt||!St?(0,ce.langString)(Mt,Qe.language):(0,ce.string)(Mt)}).onBinary([te.TypeURL.RDF_LANG_STRING,te.TypeURL.RDF_LANG_STRING],()=>(Qe,nt)=>{if(Qe.language!==nt.language)throw new ie.IncompatibleLanguageOperation(Qe,nt);const[Xt,St]=[Qe.typedValue,nt.typedValue],Mt=Xt.slice(Xt.indexOf(St)).slice(St.length);return Mt||!St?(0,ce.langString)(Mt,Qe.language):(0,ce.string)(Mt)}).collect()},ze={arity:1,overloads:(0,ce.declare)(q.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>Qe=>(0,ce.string)(encodeURI(Qe))).collect()},Ee={arity:2,overloads:(0,ce.declare)(q.RegularOperator.LANG_MATCHES).onBinaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt)=>(0,ce.bool)(le.langMatches(Qe,nt))).collect()},_e=()=>(Qe,nt)=>(0,ce.bool)(le.matches(Qe,nt)),He=()=>(Qe,nt,Xt)=>(0,ce.bool)(le.matches(Qe,nt,Xt)),Pe={arity:[2,3],overloads:(0,ce.declare)(q.RegularOperator.REGEX).onBinaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING],_e).onTernaryTyped([te.TypeAlias.SPARQL_STRINGLY,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],He).collect()},$e={arity:[3,4],overloads:(0,ce.declare)(q.RegularOperator.REPLACE).onTernaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt,Xt)=>(0,ce.string)(le.replace(Qe,nt,Xt))).set([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>([Qe,nt,Xt])=>{const St=le.replace(Qe.typedValue,nt.typedValue,Xt.typedValue);return(0,ce.langString)(St,Qe.language)}).onQuaternaryTyped([te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>(Qe,nt,Xt,St)=>(0,ce.string)(le.replace(Qe,nt,Xt,St))).set([te.TypeURL.RDF_LANG_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING,te.TypeURL.XSD_STRING],()=>([Qe,nt,Xt,St])=>{const Mt=le.replace(Qe.typedValue,nt.typedValue,Xt.typedValue,St.typedValue);return(0,ce.langString)(Mt,Qe.language)}).collect()},we={arity:1,overloads:(0,ce.declare)(q.RegularOperator.ABS).numericConverter(()=>Qe=>Math.abs(Qe)).collect()},Ue={arity:1,overloads:(0,ce.declare)(q.RegularOperator.ROUND).numericConverter(()=>Qe=>Math.round(Qe)).collect()},et={arity:1,overloads:(0,ce.declare)(q.RegularOperator.CEIL).numericConverter(()=>Qe=>Math.ceil(Qe)).collect()},at={arity:1,overloads:(0,ce.declare)(q.RegularOperator.FLOOR).numericConverter(()=>Qe=>Math.floor(Qe)).collect()},Ve={arity:0,overloads:(0,ce.declare)(q.RegularOperator.RAND).set([],()=>()=>(0,ce.double)(Math.random())).collect()};function oe(Qe){return ne.parseXSDDateTime(Qe.str())}const me={arity:0,overloads:(0,ce.declare)(q.RegularOperator.NOW).set([],Qe=>()=>new Q.DateTimeLiteral(Qe.now,Qe.now.toISOString())).collect()},ge={arity:1,overloads:(0,ce.declare)(q.RegularOperator.YEAR).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).year))).collect()},Fe={arity:1,overloads:(0,ce.declare)(q.RegularOperator.MONTH).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).month))).collect()},Ke={arity:1,overloads:(0,ce.declare)(q.RegularOperator.DAY).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).day))).collect()},Ae={arity:1,overloads:(0,ce.declare)(q.RegularOperator.HOURS).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).hours))).collect()},rt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.MINUTES).onDateTime1(()=>Qe=>(0,ce.integer)(Number(oe(Qe).minutes))).collect()},vt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SECONDS).onDateTime1(()=>Qe=>(0,ce.decimal)(Number(oe(Qe).seconds))).collect()},Vt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.TIMEZONE).onDateTime1(()=>Qe=>{const nt=le.formatDayTimeDuration(oe(Qe).timezone);if(!nt)throw new ie.InvalidTimezoneCall(Qe.strValue);return new Q.Literal(nt,te.TypeURL.XSD_DAYTIME_DURATION,nt)}).collect()},Wt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.TZ).onDateTime1(()=>Qe=>(0,ce.string)(oe(Qe).timezone)).collect()},ft={arity:1,overloads:(0,ce.declare)(q.RegularOperator.MD5).onString1Typed(()=>Qe=>(0,ce.string)((0,Y.hash)(Qe))).collect()},Rt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA1).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha1)().update(Qe).digest("hex"))).collect()},It={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA256).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha256)().update(Qe).digest("hex"))).collect()},ct={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA384).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha384)().update(Qe).digest("hex"))).collect()},xt={arity:1,overloads:(0,ce.declare)(q.RegularOperator.SHA512).onString1Typed(()=>Qe=>(0,ce.string)((0,F.sha512)().update(Qe).digest("hex"))).collect()};Z.definitions={"!":pe,uplus:ue,uminus:ae,"*":de,"/":be,"+":he,"-":Le,"=":Xe,"!=":fe,"<":Re,">":ye,"<=":re,">=":Ze,isiri:Ge,isuri:Ge,isblank:ve,isliteral:Te,isnumeric:xe,str:Ie,lang:Se,datatype:Ne,iri:je,uri:je,strdt:tt,strlang:it,uuid:st,struuid:qe,strlen:ot,substr:ut,ucase:dt,lcase:mt,strstarts:Je,strends:Me,contains:ke,strbefore:Ye,strafter:Ce,encode_for_uri:ze,langmatches:Ee,regex:Pe,replace:$e,abs:we,round:Ue,ceil:et,floor:at,rand:Ve,now:me,year:ge,month:Fe,day:Ke,hours:Ae,minutes:rt,seconds:vt,timezone:Vt,tz:Wt,md5:ft,sha1:Rt,sha256:It,sha384:ct,sha512:xt}},"../node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.specialDefinitions=void 0;const W=G("../packages/uuid/dist/index.js"),F=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),Y=G("../node_modules/sparqlee/dist/lib/functions/Helpers.js"),D=G("../node_modules/sparqlee/dist/lib/functions/index.js"),Q={arity:1,async applyAsync({args:We,mapping:fe}){return ee({args:We,mapping:fe})},applySync({args:We,mapping:fe}){return ee({args:We,mapping:fe})}};function ee({args:We,mapping:fe}){const Re=We[0];if(Re.expressionType!==F.ExpressionType.Variable)throw new J.InvalidArgumentTypes(We,U.SpecialOperator.BOUND);const ye=fe.has((0,Y.expressionToVar)(Re));return(0,Y.bool)(ye)}const q={arity:3,async applyAsync({args:We,mapping:fe,evaluate:Re}){const re=(await Re(We[0],fe)).coerceEBV();return Re(re?We[1]:We[2],fe)},applySync({args:We,mapping:fe,evaluate:Re}){const re=Re(We[0],fe).coerceEBV();return Re(re?We[1]:We[2],fe)}},te={arity:Number.POSITIVE_INFINITY,async applyAsync({args:We,mapping:fe,evaluate:Re}){const ye=[];for(const re of We)try{return await Re(re,fe)}catch(Ze){ye.push(Ze)}throw new J.CoalesceError(ye)},applySync({args:We,mapping:fe,evaluate:Re}){const ye=[];for(const re of We)try{return Re(re,fe)}catch(Ze){ye.push(Ze)}throw new J.CoalesceError(ye)}},ie={arity:2,async applyAsync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if((await Re(ye,fe)).coerceEBV())return(0,Y.bool)(!0);const Te=(await Re(re,fe)).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if(!(await Re(re,fe)).coerceEBV())throw Ze;return(0,Y.bool)(!0)}},applySync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if(Re(ye,fe).coerceEBV())return(0,Y.bool)(!0);const Te=Re(re,fe).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if(!Re(re,fe).coerceEBV())throw Ze;return(0,Y.bool)(!0)}}},ne={arity:2,async applyAsync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if(!(await Re(ye,fe)).coerceEBV())return(0,Y.bool)(!1);const Te=(await Re(re,fe)).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if((await Re(re,fe)).coerceEBV())throw Ze;return(0,Y.bool)(!1)}},applySync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We;try{if(!Re(ye,fe).coerceEBV())return(0,Y.bool)(!1);const Te=Re(re,fe).coerceEBV();return(0,Y.bool)(Te)}catch(Ze){if(Re(re,fe).coerceEBV())throw Ze;return(0,Y.bool)(!1)}}},ce={arity:2,async applyAsync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We.map(ve=>Re(ve,fe)),[Ze,Ge]=await Promise.all([ye,re]);return(0,Y.bool)(Ze.toRDF().equals(Ge.toRDF()))},applySync({args:We,mapping:fe,evaluate:Re}){const[ye,re]=We.map(Ze=>Re(Ze,fe));return(0,Y.bool)(ye.toRDF().equals(re.toRDF()))}},le={arity:Number.POSITIVE_INFINITY,checkArity(We){return We.length>0},async applyAsync(We){const{args:fe,mapping:Re,evaluate:ye}=We,[re,...Ze]=fe,Ge=await ye(re,Re);return se(Ge,Object.assign(Object.assign({},We),{args:Ze}),[])},applySync(We){const{args:fe,mapping:Re,evaluate:ye}=We,[re,...Ze]=fe,Ge=ye(re,Re);return pe(Ge,Object.assign(Object.assign({},We),{args:Ze}),[])}};async function se(We,fe,Re){const{args:ye,mapping:re,evaluate:Ze}=fe;if(ye.length===0)return Re.every(ve=>!ve)?(0,Y.bool)(!1):Promise.reject(new J.InError(Re));try{const Ge=ye.shift(),ve=await Ze(Ge,re);return D.regularFunctions[U.RegularOperator.EQUAL].apply([We,ve],fe).typedValue?(0,Y.bool)(!0):se(We,fe,[...Re,!1])}catch(Ge){return se(We,fe,[...Re,Ge])}}function pe(We,fe,Re){const{args:ye,mapping:re,evaluate:Ze}=fe;if(ye.length===0){if(Re.every(ve=>!ve))return(0,Y.bool)(!1);throw new J.InError(Re)}try{const Ge=ye.shift(),ve=Ze(Ge,re);return D.regularFunctions[U.RegularOperator.EQUAL].apply([We,ve],fe).typedValue?(0,Y.bool)(!0):pe(We,fe,[...Re,!1])}catch(Ge){return pe(We,fe,[...Re,Ge])}}const ue={arity:Number.POSITIVE_INFINITY,checkArity(We){return We.length>0},async applyAsync(We){const Re=await D.specialFunctions[U.SpecialOperator.IN].applyAsync(We);return(0,Y.bool)(!Re.typedValue)},applySync(We){const Re=D.specialFunctions[U.SpecialOperator.IN].applySync(We);return(0,Y.bool)(!Re.typedValue)}},ae=(0,Y.declare)(U.SpecialOperator.CONCAT).onStringly1(()=>We=>We).collect(),de={arity:Number.POSITIVE_INFINITY,async applyAsync(We){const{args:fe,mapping:Re,evaluate:ye,functionArgumentsCache:re,superTypeProvider:Ze}=We,Ge=fe.map(async Se=>ye(Se,Re)).map(async Se=>{const Ne=ae.search([await Se],Ze,re);if(!Ne)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.CONCAT);return Ne(We)([await Se])}),ve=await Promise.all(Ge),xe=ve.map(Se=>Se.typedValue).join(""),Ie=be(ve)?ve[0].language:void 0;return Ie?(0,Y.langString)(xe,Ie):(0,Y.string)(xe)},applySync(We){const{args:fe,mapping:Re,evaluate:ye,superTypeProvider:re,functionArgumentsCache:Ze}=We,Ge=fe.map(Ie=>ye(Ie,Re)).map(Ie=>{const Se=ae.search([Ie],re,Ze);if(!Se)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.CONCAT);return Se(We)([Ie])}),Te=Ge.map(Ie=>Ie.typedValue).join(""),xe=be(Ge)?Ge[0].language:void 0;return xe?(0,Y.langString)(Te,xe):(0,Y.string)(Te)}};function be(We){return We.length>0&&We.every(fe=>fe.language===We[0].language)}const he=(0,Y.declare)(U.SpecialOperator.BNODE).onString1(()=>We=>We).collect(),Le={arity:Number.POSITIVE_INFINITY,checkArity(We){return We.length===0||We.length===1},async applyAsync(We){const{args:fe,mapping:Re,evaluate:ye,superTypeProvider:re,functionArgumentsCache:Ze}=We,Ge=fe.length===1?await ye(fe[0],Re):void 0;let ve;if(Ge){const Te=he.search([Ge],re,Ze);if(!Te)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.BNODE);ve=Te(We)([Ge]).str()}if(We.bnode){const Te=await We.bnode(ve);return new F.BlankNode(Te)}return Xe(ve)},applySync(We){const{args:fe,mapping:Re,evaluate:ye,superTypeProvider:re,functionArgumentsCache:Ze}=We,Ge=fe.length===1?ye(fe[0],Re):void 0;let ve;if(Ge){const Te=he.search([Ge],re,Ze);if(!Te)throw new J.InvalidArgumentTypes(fe,U.SpecialOperator.BNODE);ve=Te(We)([Ge]).str()}if(We.bnode){const Te=We.bnode(ve);return new F.BlankNode(Te)}return Xe(ve)}};function Xe(We){return new F.BlankNode(We||W.v4())}Z.specialDefinitions={bound:Q,if:q,coalesce:te,"&&":ne,"||":ie,sameterm:ce,in:le,notin:ue,concat:de,bnode:Le}},"../node_modules/sparqlee/dist/lib/functions/XPathFunctions.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.formatDayTimeDuration=Z.langMatches=Z.replace=Z.matches=void 0;function G(D,Q,ee){return new RegExp(Q,ee).test(D)}Z.matches=G;function W(D,Q,ee,q){let te=new RegExp(Q,q);if(!te.global){const ie=q||"";te=new RegExp(Q,`${ie}g`)}return D.replace(te,ee)}Z.replace=W;function F(D,Q){const ee=D.split("-"),q=Q.split("-");if(!J(q[0],ee[0])&&!U(ee[0]))return!1;let te=1,ie=1;for(;ie<q.length;){if(U(q[ie])){ie++;continue}if(te===ee.length)return!1;if(J(q[ie],ee[te])){te++,ie++;continue}if(ee[te].length===1)return!1;te++}return!0}Z.langMatches=F;function U(D){return D==="*"}function J(D,Q){return new RegExp(`/${D}/`,"iu").test(`/${Q}/`)}function Y(D){if(!D)return;let Q="",ee=0,q=0;if(D!=="Z"&&(Q=D.startsWith("-")?"-":"",ee=Number.parseInt(D.slice(1,3),10),q=Number.parseInt(D.slice(4,6),10)),ee===0&&q===0)return"PT0S";let te=`${Q}PT`;return ee>0&&(te+=`${ee}H`),q>0&&(te+=`${q}M`),te}Z.formatDayTimeDuration=Y},"../node_modules/sparqlee/dist/lib/functions/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(ee,q,te,ie){ie===void 0&&(ie=te);var ne=Object.getOwnPropertyDescriptor(q,te);(!ne||("get"in ne?!q.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return q[te]}}),Object.defineProperty(ee,ie,ne)}:function(ee,q,te,ie){ie===void 0&&(ie=te),ee[ie]=q[te]}),F=this&&this.__exportStar||function(ee,q){for(var te in ee)te!=="default"&&!Object.prototype.hasOwnProperty.call(q,te)&&W(q,ee,te)};Object.defineProperty(Z,"__esModule",{value:!0}),Z.OverloadTree=Z.namedFunctions=Z.specialFunctions=Z.regularFunctions=void 0;const U=G("../node_modules/sparqlee/dist/lib/functions/Core.js"),J=G("../node_modules/sparqlee/dist/lib/functions/NamedFunctions.js"),Y=G("../node_modules/sparqlee/dist/lib/functions/RegularFunctions.js"),D=G("../node_modules/sparqlee/dist/lib/functions/SpecialFunctions.js");F(G("../node_modules/sparqlee/dist/lib/functions/Core.js"),Z),Z.regularFunctions=Object.fromEntries(Object.entries(Y.definitions).map(([ee,q])=>[ee,new U.RegularFunction(ee,q)])),Z.specialFunctions=Object.fromEntries(Object.entries(D.specialDefinitions).map(([ee,q])=>[ee,new U.SpecialFunction(ee,q)])),Z.namedFunctions=Object.fromEntries(Object.entries(J.namedDefinitions).map(([ee,q])=>[ee,new U.NamedFunction(ee,q)]));var Q=G("../node_modules/sparqlee/dist/lib/functions/OverloadTree.js");Object.defineProperty(Z,"OverloadTree",{enumerable:!0,get:function(){return Q.OverloadTree}})},"../node_modules/sparqlee/dist/lib/transformers/AlgebraTransformer.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.AlgebraTransformer=void 0;const W=G("sparqlalgebrajs"),F=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),U=G("../node_modules/sparqlee/dist/lib/functions/index.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),D=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),Q=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js");class ee extends Q.TermTransformer{constructor(te){super(te.superTypeProvider),this.algebraConfig=te,this.creatorConfig={type:te.type,creator:te.creator}}transformAlgebra(te){const ie=W.Algebra.expressionTypes;switch(te.expressionType){case ie.TERM:return this.transformTerm(te);case ie.OPERATOR:return this.transformOperator(te);case ie.NAMED:return this.transformNamed(te);case ie.EXISTENCE:return ee.transformExistence(te);case ie.AGGREGATE:return ee.transformAggregate(te);case ie.WILDCARD:return ee.transformWildcard(te)}}static transformWildcard(te){return new F.NamedNode(te.wildcard.value)}transformOperator(te){const ie=te.operator.toLowerCase();if(J.SpecialOperators.has(ie)){const se=ie,pe=te.args.map(ae=>this.transformAlgebra(ae)),ue=U.specialFunctions[se];if(!ue.checkArity(pe))throw new Y.InvalidArity(pe,se);return new F.SpecialOperator(pe,ue.applyAsync,ue.applySync)}if(!J.Operators.has(ie))throw new Y.UnknownOperator(te.operator);const ne=ie,ce=te.args.map(se=>this.transformAlgebra(se)),le=U.regularFunctions[ne];if(!ee.hasCorrectArity(ce,le.arity))throw new Y.InvalidArity(ce,ne);return new F.Operator(ce,se=>le.apply(se,this.algebraConfig))}wrapSyncFunction(te,ie){return ne=>{try{const ce=te(ne.map(le=>le.toRDF()));return this.transformRDFTermUnsafe(ce)}catch(ce){throw new D.ExtensionFunctionError(ie,ce)}}}wrapAsyncFunction(te,ie){return async ne=>{try{const ce=await te(ne.map(le=>le.toRDF()));return this.transformRDFTermUnsafe(ce)}catch(ce){throw new D.ExtensionFunctionError(ie,ce)}}}transformNamed(te){const ie=te.name.value,ne=te.args.map(ce=>this.transformAlgebra(ce));if(J.NamedOperators.has(ie)){const ce=te.name.value,le=U.namedFunctions[ce];return new F.Named(te.name,ne,se=>le.apply(se,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const ce=this.creatorConfig.creator(te.name);if(ce){const le=this.wrapSyncFunction(ce,te.name.value);return new F.SyncExtension(te.name,ne,le)}}else{const ce=this.creatorConfig.creator(te.name);if(ce){const le=this.wrapAsyncFunction(ce,te.name.value);return new F.AsyncExtension(te.name,ne,le)}}throw new Y.UnknownNamedOperator(te.name.value)}static hasCorrectArity(te,ie){return Array.isArray(ie)?ie.includes(te.length):te.length===ie}static transformAggregate(te){const ie=te.aggregator;return new F.Aggregate(ie,te)}static transformExistence(te){return new F.Existence(te)}}Z.AlgebraTransformer=ee},"../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.TermTransformer=void 0;const W=G("../node_modules/rdf-string/index.js"),F=G("sparqlalgebrajs"),U=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),J=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),Y=G("../node_modules/sparqlee/dist/lib/util/Errors.js"),D=G("../node_modules/sparqlee/dist/lib/util/Parsing.js"),Q=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js");class ee{constructor(te){this.superTypeProvider=te}transformRDFTermUnsafe(te){return this.transformTerm({term:te,type:F.Algebra.types.EXPRESSION,expressionType:F.Algebra.expressionTypes.TERM})}transformTerm(te){if(!te.term)throw new Y.InvalidExpression(te);switch(te.term.termType){case"Variable":return new U.Variable(W.termToString(te.term));case"Literal":return this.transformLiteral(te.term);case"NamedNode":return new U.NamedNode(te.term.value);case"BlankNode":return new U.BlankNode(te.term.value);default:throw new Y.InvalidTermType(te)}}transformLiteral(te){if(!te.datatype||[null,void 0,""].includes(te.datatype.value))return te.language?new U.LangStringLiteral(te.value,te.language):new U.StringLiteral(te.value);const ie=te.datatype.value,ne=(0,Q.getSuperTypeDict)(ie,this.superTypeProvider);if(J.TypeURL.XSD_STRING in ne)return new U.StringLiteral(te.value,ie);if(J.TypeURL.RDF_LANG_STRING in ne)return new U.LangStringLiteral(te.value,te.language);if(J.TypeURL.XSD_DATE_TIME in ne){const se=new Date(te.value);return Number.isNaN(se.getTime())?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):new U.DateTimeLiteral(new Date(te.value),te.value,ie)}if(J.TypeURL.XSD_BOOLEAN in ne)return te.value!=="true"&&te.value!=="false"&&te.value!=="1"&&te.value!=="0"?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):new U.BooleanLiteral(te.value==="true"||te.value==="1",te.value);if(J.TypeURL.XSD_DECIMAL in ne){const se=D.parseXSDDecimal(te.value);return se===void 0?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):J.TypeURL.XSD_INTEGER in ne?new U.IntegerLiteral(se,ie,te.value):new U.DecimalLiteral(se,ie,te.value)}const ce=J.TypeURL.XSD_FLOAT in ne,le=J.TypeURL.XSD_DOUBLE in ne;if(ce||le){const se=D.parseXSDFloat(te.value);return se===void 0?new U.NonLexicalLiteral(void 0,ie,this.superTypeProvider,te.value):ce?new U.FloatLiteral(se,ie,te.value):new U.DoubleLiteral(se,ie,te.value)}return new U.Literal(te.value,ie,te.value)}}Z.TermTransformer=ee},"../node_modules/sparqlee/dist/lib/util/Consts.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NamedOperators=Z.SetFunctions=Z.SetFunction=Z.Operators=Z.SpecialOperators=Z.RegularOperators=Z.SpecialOperator=Z.RegularOperator=Z.TypeURL=Z.TypeAlias=void 0,function(J){J.SPARQL_NUMERIC="SPARQL_NUMERIC",J.SPARQL_STRINGLY="SPARQL_STRINGLY",J.SPARQL_NON_LEXICAL="SPARQL_NON_LEXICAL"}(Z.TypeAlias||(Z.TypeAlias={}));var G;(function(J){J.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",J.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",J.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",J.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",J.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",J.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",J.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",J.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",J.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",J.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",J.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",J.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",J.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",J.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",J.XSD_INT="http://www.w3.org/2001/XMLSchema#int",J.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",J.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",J.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",J.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",J.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",J.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",J.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",J.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",J.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",J.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",J.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",J.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",J.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",J.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",J.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",J.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",J.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",J.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",J.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",J.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(G=Z.TypeURL||(Z.TypeURL={}));var W;(function(J){J.NOT="!",J.UMINUS="uminus",J.UPLUS="uplus",J.EQUAL="=",J.NOT_EQUAL="!=",J.LT="<",J.GT=">",J.LTE="<=",J.GTE=">=",J.MULTIPLICATION="*",J.DIVISION="/",J.ADDITION="+",J.SUBTRACTION="-",J.IS_IRI="isiri",J.IS_URI="isuri",J.IS_BLANK="isblank",J.IS_LITERAL="isliteral",J.IS_NUMERIC="isnumeric",J.STR="str",J.LANG="lang",J.DATATYPE="datatype",J.IRI="iri",J.URI="uri",J.STRDT="strdt",J.STRLANG="strlang",J.UUID="uuid",J.STRUUID="struuid",J.STRLEN="strlen",J.SUBSTR="substr",J.UCASE="ucase",J.LCASE="lcase",J.STRSTARTS="strstarts",J.STRENDS="strends",J.CONTAINS="contains",J.STRBEFORE="strbefore",J.STRAFTER="strafter",J.ENCODE_FOR_URI="encode_for_uri",J.LANG_MATCHES="langmatches",J.REGEX="regex",J.REPLACE="replace",J.ABS="abs",J.ROUND="round",J.CEIL="ceil",J.FLOOR="floor",J.RAND="rand",J.NOW="now",J.YEAR="year",J.MONTH="month",J.DAY="day",J.HOURS="hours",J.MINUTES="minutes",J.SECONDS="seconds",J.TIMEZONE="timezone",J.TZ="tz",J.MD5="md5",J.SHA1="sha1",J.SHA256="sha256",J.SHA384="sha384",J.SHA512="sha512"})(W=Z.RegularOperator||(Z.RegularOperator={}));var F;(function(J){J.BOUND="bound",J.IF="if",J.COALESCE="coalesce",J.LOGICAL_OR="||",J.LOGICAL_AND="&&",J.SAME_TERM="sameterm",J.IN="in",J.NOT_IN="notin",J.CONCAT="concat",J.BNODE="bnode"})(F=Z.SpecialOperator||(Z.SpecialOperator={})),Z.RegularOperators=new Set(Object.values(W)),Z.SpecialOperators=new Set(Object.values(F)),Z.Operators=new Set([...Z.RegularOperators,...Z.SpecialOperators]);var U;(function(J){J.COUNT="count",J.SUM="sum",J.MIN="min",J.MAX="max",J.AVG="avg",J.GROUP_CONCAT="group_concat",J.SAMPLE="sample"})(U=Z.SetFunction||(Z.SetFunction={})),Z.SetFunctions=new Set(Object.values(U)),Z.NamedOperators=new Set([G.XSD_STRING,G.XSD_FLOAT,G.XSD_DOUBLE,G.XSD_DECIMAL,G.XSD_INTEGER,G.XSD_DATE_TIME,G.XSD_DATE,G.XSD_BOOLEAN])},"../node_modules/sparqlee/dist/lib/util/Errors.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NoExistenceHook=Z.NoAggregator=Z.ExtensionFunctionError=Z.UnknownNamedOperator=Z.UnknownOperator=Z.InvalidTermType=Z.InvalidExpressionType=Z.InvalidExpression=Z.InvalidArity=Z.UnexpectedError=Z.EmptyAggregateError=Z.IncompatibleLanguageOperation=Z.InvalidTimezoneCall=Z.CastError=Z.InvalidArgumentTypes=Z.InError=Z.CoalesceError=Z.RDFEqualTypeError=Z.EBVCoercionError=Z.UnboundVariableError=Z.InvalidLexicalForm=Z.isExpressionError=Z.ExpressionError=void 0;class G extends Error{}Z.ExpressionError=G;function W(We){return We instanceof G}Z.isExpressionError=W;class F extends G{constructor(fe){super(`Invalid lexical form '${Xe(fe)}'`),this.arg=fe}}Z.InvalidLexicalForm=F;class U extends G{constructor(fe,Re){super(`Unbound variable '${Xe(fe)}'`),this.variable=fe,this.bindings=Re}}Z.UnboundVariableError=U;class J extends G{constructor(fe){super(`Cannot coerce term to EBV '${Xe(fe)}'`),this.arg=fe}}Z.EBVCoercionError=J;class Y extends G{constructor(fe){super("Equality test for literals with unsupported datatypes"),this.args=fe}}Z.RDFEqualTypeError=Y;class D extends G{constructor(fe){super("All COALESCE arguments threw errors"),this.errors=fe}}Z.CoalesceError=D;class Q extends G{constructor(fe){super(`Some argument to IN errorred and none where equal. ${fe.map(Re=>`(${Re.toString()}) `).join("and ")}`),this.errors=fe}}Z.InError=Q;class ee extends G{constructor(fe,Re){super(`Argument types not valid for operator: '${Xe(Re)}' with '${Xe(fe)}`),this.args=fe,this.op=Re}}Z.InvalidArgumentTypes=ee;class q extends G{constructor(fe,Re){super(`Invalid cast: '${Xe(fe)}' to '${Xe(Re)}'`),this.arg=fe}}Z.CastError=q;class te extends G{constructor(fe){super(`TIMEZONE call on ${fe} which has no timezone`),this.dateString=fe}}Z.InvalidTimezoneCall=te;class ie extends G{constructor(fe,Re){super(`Operation on incompatible language literals '${Xe(fe)}' and '${Xe(Re)}'`),this.arg1=fe,this.arg2=Re}}Z.IncompatibleLanguageOperation=ie;class ne extends G{constructor(){super("Empty aggregate expression")}}Z.EmptyAggregateError=ne;class ce extends Error{constructor(fe,Re){super(`Programmer Error '${fe}'`),this.payload=Re}}Z.UnexpectedError=ce;class le extends Error{constructor(fe,Re){super(`The number of args does not match the arity of the operator '${Xe(Re)}'.`),this.args=fe,this.op=Re}}Z.InvalidArity=le;class se extends Error{constructor(fe){super(`Invalid SPARQL Expression '${Xe(fe)}'`)}}Z.InvalidExpression=se;class pe extends Error{constructor(fe){super(`Invalid expression type for SPARQL Expression '${Xe(fe)}'`),this.expr=fe}}Z.InvalidExpressionType=pe;class ue extends Error{constructor(fe){super(`Invalid term type for term '${Xe(fe)}'`),this.term=fe}}Z.InvalidTermType=ue;class ae extends Error{constructor(fe){super(`Unknown operator: '${Xe(fe)}`)}}Z.UnknownOperator=ae;class de extends Error{constructor(fe){super(`Unknown named operator: '${Xe(fe)}'`)}}Z.UnknownNamedOperator=de;class be extends Error{constructor(fe,Re){Re instanceof Error?super(`Error thrown in ${fe}: ${Re.message}${Re.stack?`
${Re.stack}`:""}`):super(`Error thrown in ${fe}`)}}Z.ExtensionFunctionError=be;class he extends Error{constructor(fe){super(`Aggregate expression ${Xe(fe)} found, but no aggregate hook provided.`)}}Z.NoAggregator=he;class Le extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}Z.NoExistenceHook=Le;function Xe(We){return JSON.stringify(We)}},"../node_modules/sparqlee/dist/lib/util/Ordering.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.orderTypes=void 0;const W=G("../node_modules/lru-cache/index.js"),F=G("../node_modules/sparqlee/dist/lib/transformers/TermTransformer.js"),U=G("../node_modules/sparqlee/dist/lib/util/Consts.js"),J=G("../node_modules/sparqlee/dist/lib/util/TypeHandling.js");function Y(q,te,ie,ne,ce,le){return q===te?0:q===void 0?ie?-1:1:te===void 0?ie?1:-1:q.equals(te)?0:D(q,te,ne,ce)===ie?-1:1}Z.orderTypes=Y;function D(q,te,ie,ne,ce){return q.termType!==te.termType?ee[q.termType]<ee[te.termType]:q.termType==="Literal"?Q(q,te,ie,ne):q.value<te.value}function Q(q,te,ie,ne){const ce={discoverer:ie||(()=>"term"),cache:ne||new W},le=new F.TermTransformer(ce),se=le.transformLiteral(q),pe=le.transformLiteral(te),ue=se.dataType,ae=pe.dataType,de=(0,J.getSuperTypeDict)(ue,ce),be=(0,J.getSuperTypeDict)(ae,ce);return U.TypeURL.XSD_BOOLEAN in de&&U.TypeURL.XSD_BOOLEAN in be||U.TypeURL.XSD_DATE_TIME in de&&U.TypeURL.XSD_DATE_TIME in be||U.TypeAlias.SPARQL_NUMERIC in de&&U.TypeAlias.SPARQL_NUMERIC in be||U.TypeURL.XSD_STRING in de&&U.TypeURL.XSD_STRING in be?se.typedValue<pe.typedValue:U.TypeURL.RDF_LANG_STRING in de&&U.TypeURL.RDF_LANG_STRING in be?se.typedValue<pe.typedValue||se.typedValue===pe.typedValue&&se.language<pe.language:ue<ae||se.dataType===pe.dataType&&se.str()<pe.str()}const ee={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}},"../node_modules/sparqlee/dist/lib/util/Parsing.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.parseXSDDateTime=Z.parseXSDInteger=Z.parseXSDDecimal=Z.parseXSDFloat=void 0;function G(J){const Y=Number(J);return Number.isNaN(Y)?J==="NaN"?Number.NaN:J==="INF"||J==="+INF"?Number.POSITIVE_INFINITY:J==="-INF"?Number.NEGATIVE_INFINITY:void 0:Y}Z.parseXSDFloat=G;function W(J){const Y=Number(J);return Number.isNaN(Y)?void 0:Y}Z.parseXSDDecimal=W;function F(J){const Y=Number.parseInt(J,10);return Number.isNaN(Y)?void 0:Y}Z.parseXSDInteger=F;function U(J){const Y=J.indexOf("T"),D=Y>=0?J.slice(0,Math.max(0,Y)):J,[Q,ee,q]=D.split("-");let te="00",ie="00",ne="00",ce="";if(Y>=0){const le=J.slice(Y+1),[se,pe]=le.split(/[+Z-]/u);[te,ie,ne]=se.split(":");const ue=/([+Z-].*)/u.exec(le);ce=ue?ue[0]:""}return{year:Q,month:ee,day:q,hours:te,minutes:ie,seconds:ne,timezone:ce}}Z.parseXSDDateTime=U},"../node_modules/sparqlee/dist/lib/util/TypeHandling.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.isSubTypeOf=Z.getSuperTypeDict=Z.isInternalSubType=Z.asGeneralType=Z.asOverrideType=Z.asKnownLiteralType=Z.asTypeAlias=Z.typeAliasCheck=Z.extensionTableInit=Z.getSuperTypes=Z.superTypeDictTable=Z.extensionTableInput=void 0;const W=G("../node_modules/sparqlee/dist/lib/expressions/index.js"),F=G("../node_modules/sparqlee/dist/lib/util/Consts.js");Z.extensionTableInput={[F.TypeURL.XSD_DATE_TIME_STAMP]:F.TypeURL.XSD_DATE_TIME,[F.TypeURL.XSD_DAYTIME_DURATION]:F.TypeURL.XSD_DURATION,[F.TypeURL.XSD_YEAR_MONTH_DURATION]:F.TypeURL.XSD_DURATION,[F.TypeURL.RDF_LANG_STRING]:F.TypeAlias.SPARQL_STRINGLY,[F.TypeURL.XSD_STRING]:F.TypeAlias.SPARQL_STRINGLY,[F.TypeURL.XSD_NORMALIZED_STRING]:F.TypeURL.XSD_STRING,[F.TypeURL.XSD_TOKEN]:F.TypeURL.XSD_NORMALIZED_STRING,[F.TypeURL.XSD_LANGUAGE]:F.TypeURL.XSD_TOKEN,[F.TypeURL.XSD_NM_TOKEN]:F.TypeURL.XSD_TOKEN,[F.TypeURL.XSD_NAME]:F.TypeURL.XSD_TOKEN,[F.TypeURL.XSD_NC_NAME]:F.TypeURL.XSD_NAME,[F.TypeURL.XSD_ENTITY]:F.TypeURL.XSD_NC_NAME,[F.TypeURL.XSD_ID]:F.TypeURL.XSD_NC_NAME,[F.TypeURL.XSD_ID_REF]:F.TypeURL.XSD_NC_NAME,[F.TypeURL.XSD_DOUBLE]:F.TypeAlias.SPARQL_NUMERIC,[F.TypeURL.XSD_FLOAT]:F.TypeAlias.SPARQL_NUMERIC,[F.TypeURL.XSD_DECIMAL]:F.TypeAlias.SPARQL_NUMERIC,[F.TypeURL.XSD_INTEGER]:F.TypeURL.XSD_DECIMAL,[F.TypeURL.XSD_NON_POSITIVE_INTEGER]:F.TypeURL.XSD_INTEGER,[F.TypeURL.XSD_NEGATIVE_INTEGER]:F.TypeURL.XSD_NON_POSITIVE_INTEGER,[F.TypeURL.XSD_LONG]:F.TypeURL.XSD_INTEGER,[F.TypeURL.XSD_INT]:F.TypeURL.XSD_LONG,[F.TypeURL.XSD_SHORT]:F.TypeURL.XSD_INT,[F.TypeURL.XSD_BYTE]:F.TypeURL.XSD_SHORT,[F.TypeURL.XSD_NON_NEGATIVE_INTEGER]:F.TypeURL.XSD_INTEGER,[F.TypeURL.XSD_POSITIVE_INTEGER]:F.TypeURL.XSD_NON_NEGATIVE_INTEGER,[F.TypeURL.XSD_UNSIGNED_LONG]:F.TypeURL.XSD_NON_NEGATIVE_INTEGER,[F.TypeURL.XSD_UNSIGNED_INT]:F.TypeURL.XSD_UNSIGNED_LONG,[F.TypeURL.XSD_UNSIGNED_SHORT]:F.TypeURL.XSD_UNSIGNED_INT,[F.TypeURL.XSD_UNSIGNED_BYTE]:F.TypeURL.XSD_UNSIGNED_SHORT,[F.TypeURL.XSD_DATE_TIME]:"term",[F.TypeURL.XSD_BOOLEAN]:"term",[F.TypeURL.XSD_DATE]:"term",[F.TypeURL.XSD_DURATION]:"term",[F.TypeAlias.SPARQL_NUMERIC]:"term",[F.TypeAlias.SPARQL_STRINGLY]:"term",[F.TypeAlias.SPARQL_NON_LEXICAL]:"term",[F.TypeURL.XSD_ANY_URI]:"term"};function U(le,se){const pe=se.cache.get(le);if(pe)return pe;const ue=se.discoverer(le);if(ue==="term"){const be=Object.create(null);return be.__depth=0,be[le]=0,se.cache.set(le,be),be}let ae;const de=ee(ue);return de?ae=Object.assign({},Z.superTypeDictTable[de]):ae=Object.assign({},U(ue,se)),ae.__depth++,ae[le]=ae.__depth,se.cache.set(le,ae),ae}Z.getSuperTypes=U;function J(){const le=Object.create(null);for(const[se,pe]of Object.entries(Z.extensionTableInput)){const ue=se;le[ue]||Y(ue,pe,le)}Z.superTypeDictTable=le}Z.extensionTableInit=J,J();function Y(le,se,pe){if(se==="term"||se===void 0){const ue=Object.create(null);ue.__depth=0,ue[le]=0,pe[le]=ue;return}pe[se]||Y(se,Z.extensionTableInput[se],pe),pe[le]=Object.assign(Object.assign({},pe[se]),{[le]:pe[se].__depth+1,__depth:pe[se].__depth+1})}function D(){Z.typeAliasCheck=Object.create(null);for(const le of Object.values(F.TypeAlias))Z.typeAliasCheck[le]=!0}D();function Q(le){if(le in Z.typeAliasCheck)return le}Z.asTypeAlias=Q;function ee(le){if(le in Z.superTypeDictTable)return le}Z.asKnownLiteralType=ee;function q(le){if(ee(le)||le==="term")return le}Z.asOverrideType=q;function te(le){if(le==="term"||(0,W.asTermType)(le))return le}Z.asGeneralType=te;function ie(le,se){return le!=="term"&&Z.superTypeDictTable[le]&&Z.superTypeDictTable[le][se]!==void 0}Z.isInternalSubType=ie;function ne(le,se){const pe=ee(le);return pe?Z.superTypeDictTable[pe]:U(le,se)}Z.getSuperTypeDict=ne;function ce(le,se,pe){return le==="term"?!1:ne(le,pe)[se]!==void 0}Z.isSubTypeOf=ce},"../node_modules/stream-to-string/index.js":(X,Z,G)=>{var W=G("./require-empty.js");X.exports=function(F,U,J){typeof U=="function"&&(J=U,U=null),J=J||function(){};var Y="";return new W(function(D,Q){F.on("data",function(ee){Y+=typeof U=="string"?ee.toString(U):ee.toString()}),F.on("end",function(){D(Y),J(null,Y)}),F.on("error",function(ee){Q(ee),J(ee)})})}},"../node_modules/typed-immutable-map/dist/HashMap/empty.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.empty=void 0;const F={node:G("../node_modules/typed-immutable-map/dist/nodes/index.js").EMPTY,size:0};function U(){return F}Z.empty=U},"../node_modules/typed-immutable-map/dist/HashMap/entries.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.entries=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(J){return(0,W.iterator)((0,W.getNode)(J),U)}Z.entries=F;function U(J){return[J.key,J.value]}},"../node_modules/typed-immutable-map/dist/HashMap/filter.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.filter=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/set.js"),J=function(D,Q){return(0,F.reduce)(function(ee,q,te){return D(q,te)?(0,U.set)(te,q,ee):ee},(0,W.empty)(),Q)};Z.filter=J},"../node_modules/typed-immutable-map/dist/HashMap/forEach.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.forEach=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),F=function(J,Y){return(0,W.reduce)((D,Q,ee)=>J(Q,ee),null,Y),Y};Z.forEach=F},"../node_modules/typed-immutable-map/dist/HashMap/from.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.fromObject=Z.fromIterable=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/set.js");function U(Y){let D=(0,W.empty)();for(const[Q,ee]of Y)D=(0,F.set)(Q,ee,D);return D}Z.fromIterable=U;function J(Y){let D=(0,W.empty)();for(let Q in Y)Y.hasOwnProperty(Q)&&(D=(0,F.set)(Q,Y[Q],D));return D}Z.fromObject=J},"../node_modules/typed-immutable-map/dist/HashMap/get.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.get=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(U,J,Y){const D=(0,W.findHash)(U);return(0,W.getHash)(void 0,D,U,J,Y)}Z.get=F},"../node_modules/typed-immutable-map/dist/HashMap/has.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.has=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/index.js");function U(J,Y,D){const Q=(0,W.findHash)(J);return(0,W.getHash)(F.NOTHING,Q,J,Y,D)!==F.NOTHING}Z.has=U},"../node_modules/typed-immutable-map/dist/HashMap/keys.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.keys=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(J){return(0,W.iterator)((0,W.getNode)(J),U)}Z.keys=F;function U(J){return J.key}},"../node_modules/typed-immutable-map/dist/HashMap/map.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.map=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/set.js"),J=function(D,Q){return(0,F.reduce)(function(ee,q,te){return(0,U.set)(te,D(q,te),ee)},(0,W.empty)(),Q)};Z.map=J},"../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.findHash=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/index.js");function F(U){return typeof U=="number"?U:typeof U=="string"?(0,W.stringHash)(U):Math.abs((0,W.stringHash)(JSON.stringify(U)))}Z.findHash=F},"../node_modules/typed-immutable-map/dist/HashMap/primitives/fold.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.fold=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js");function F(U,J,Y){const D=(0,W.getNode)(Y);if(D.type===0)return J;if(D.type===1)return U(J,D.value,D.key);const Q=[D.children];let ee;for(;ee=Q.shift();)for(let q=0;q<ee.length;++q){const te=ee[q];te&&te.type!==0&&(te.type===1?J=U(J,te.value,te.key):Q.push(te.children))}return J}Z.fold=F},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getHash.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getHash=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/index.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js");function J(Y,D,Q,ee,q=U.defaultKeyEquals){let te=(0,F.getNode)(ee),ie=0;for(;;)switch(te.type){case 1:return q(Q,te.key)?te.value:Y;case 2:if(D===te.hash){const ne=te.children;for(let ce=0;ce<ne.length;++ce){const le=ne[ce];if(q(Q,le.key))return le.value}return Y}case 3:{const ne=(0,W.hashFragment)(ie,D),ce=(0,W.toBitmap)(ne);if(te.mask&ce){const le=(0,W.bitmapToIndex)(te.mask,ce);te=te.children[le],ie+=W.SIZE;break}return Y}case 4:{if(te=te.children[(0,W.hashFragment)(ie,D)],te){ie+=W.SIZE;break}return Y}default:return Y}}Z.getHash=J},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getNode=void 0;function G(W){return W.node}Z.getNode=G},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.getSize=void 0;function G(W){return W.size}Z.getSize=G},"../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getHash.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/setKeyValue.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/iterateMap.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/fold.js"),Z),F(G("../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js"),Z)},"../node_modules/typed-immutable-map/dist/HashMap/primitives/iterateMap.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.iterator=void 0;function G(D,Q){return new W(U(D,Q,[]))}Z.iterator=G;class W{_iterate;constructor(Q){this._iterate=Q}next(){if(!this._iterate)return{done:!0,value:null};const{value:Q,rest:ee}=this._iterate;return this._iterate=F(ee),{done:!1,value:Q}}[Symbol.iterator](){return this}}const F=D=>D&&J(D[0],D[1],D[2],D[3],D[4]);function U(D,Q,ee){switch(D.type){case 1:return{value:Q(D),rest:ee};case 2:case 4:case 3:const q=D.children;return J(q.length,q,0,Q,ee);default:return F(ee)}}function J(D,Q,ee,q,te){for(;ee<D;){const ie=Q[ee++];if(ie&&Y(ie))return U(ie,q,[D,Q,ee,q,te])}return F(te)}function Y(D){return D&&D.type!==0}},"../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.defaultKeyEquals=void 0;const G=(W,F)=>W===F;Z.defaultKeyEquals=G},"../node_modules/typed-immutable-map/dist/HashMap/primitives/setKeyValue.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.setKeyValue=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/index.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),J=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js"),Y=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js"),D=ee=>()=>ee;function Q(ee,q,te){const ie=(0,F.findHash)(ee),ne={value:(0,J.getSize)(te)},ce=(0,W.modify)((0,U.getNode)(te),0,D(q),ie,ee,ne);return(0,Y.setTree)(ce,ne.value,te)}Z.setKeyValue=Q},"../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.setTree=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js");function F(U,J,Y){return U===(0,W.getNode)(Y)?Y:{node:U,size:J}}Z.setTree=F},"../node_modules/typed-immutable-map/dist/HashMap/reduce.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.reduce=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");Z.reduce=W.fold},"../node_modules/typed-immutable-map/dist/HashMap/remove.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.remove=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/constants.js");function U(J,Y){return(0,W.setKeyValue)(J,F.NOTHING,Y)}Z.remove=U},"../node_modules/typed-immutable-map/dist/HashMap/set.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.set=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");Z.set=W.setKeyValue},"../node_modules/typed-immutable-map/dist/HashMap/size.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.size=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js");function F(U){return(0,W.getSize)(U)}Z.size=F},"../node_modules/typed-immutable-map/dist/HashMap/values.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.values=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function F(J){return(0,W.iterator)((0,W.getNode)(J),U)}Z.values=F;function U(J){return J.value}},"../node_modules/typed-immutable-map/dist/common/array-operations.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.insert=Z.remove=Z.replace=void 0;function G(U,J,Y){const D=Y.length,Q=Array(D);for(let ee=0;ee<D;++ee)Q[ee]=Y[ee];return Q[U]=J,Q}Z.replace=G;function W(U,J){const Y=J.length;if(Y===0||U>=Y)return J;if(Y===1)return[];const D=Array(Y-1);let Q=0;for(;Q<U;++Q)D[Q]=J[Q];for(Q=Q+1;Q<Y;++Q)D[Q-1]=J[Q];return D}Z.remove=W;function F(U,J,Y){const D=Y.length,Q=Array(D+1);let ee=0;for(;ee<U;++ee)Q[ee]=Y[ee];for(Q[ee++]=J;ee<D+1;++ee)Q[ee]=Y[ee-1];return Q}Z.insert=F},"../node_modules/typed-immutable-map/dist/common/bitwise-operations.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.bitmapToIndex=Z.toBitmap=Z.hashFragment=Z.hammingWeight=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/constants.js");function F(D){return D=D-(D>>1&1431655765),D=(D&858993459)+(D>>2&858993459),(D+(D>>4)&252645135)*16843009>>24}Z.hammingWeight=F;function U(D,Q){return Q>>>D&W.MASK}Z.hashFragment=U;function J(D){return 1<<D}Z.toBitmap=J;function Y(D,Q){return F(D&Q-1)}Z.bitmapToIndex=Y},"../node_modules/typed-immutable-map/dist/common/constants.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.MIN_ARRAY_NODE=Z.MAX_INDEX_NODE=Z.MASK=Z.BUCKET_SIZE=Z.SIZE=void 0,Z.SIZE=5,Z.BUCKET_SIZE=Math.pow(2,Z.SIZE),Z.MASK=Z.BUCKET_SIZE-1,Z.MAX_INDEX_NODE=Z.BUCKET_SIZE/2,Z.MIN_ARRAY_NODE=Z.BUCKET_SIZE/4},"../node_modules/typed-immutable-map/dist/common/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/common/array-operations.js"),Z),F(G("../node_modules/typed-immutable-map/dist/common/bitwise-operations.js"),Z),F(G("../node_modules/typed-immutable-map/dist/common/constants.js"),Z),F(G("../node_modules/typed-immutable-map/dist/common/stringHash.js"),Z)},"../node_modules/typed-immutable-map/dist/common/stringHash.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.stringHash=void 0;function G(W){let F=0;for(let U=0;U<W.length;++U)F=(F<<5)-F+W.charCodeAt(U)|0;return F}Z.stringHash=G},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/ArrayNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyListNode=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/modify.js"),U=G("../node_modules/typed-immutable-map/dist/common/index.js"),J=G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/toIndexNode.js");function Y(Q,ee,q,te,ie,ne){const{size:ce,children:le}=Q,se=(0,U.hashFragment)(ee,te),pe=le[se],ue=(0,F.modify)(pe||(0,W.empty)(),ee+U.SIZE,q,te,ie,ne);return pe===ue?Q:D(pe)&&!D(ue)?{type:4,size:ce+1,children:(0,U.replace)(se,ue,le)}:!D(pe)&&D(ue)?ce-1<=U.MIN_ARRAY_NODE?(0,J.toIndexNode)(ce,se,le):{type:4,size:ce-1,children:(0,U.replace)(se,(0,W.empty)(),le)}:{type:4,size:ce,children:(0,U.replace)(se,ue,le)}}Z.modifyListNode=Y;function D(Q){return Q&&Q.type===0}},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/ArrayNode.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/toIndexNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.toIndexNode=void 0;function G(W,F,U){const J=new Array(W-1);let Y=0,D=0;for(let Q=0;Q<U.length;++Q)if(Q!==F){const ee=U[Q];ee&&ee.type>0&&(J[Y++]=ee,D|=1<<Q)}return{type:3,mask:D,children:J}}Z.toIndexNode=G},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/CollisionNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyCollisionNode=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/newCollisionList.js");function J(Y,D,Q,ee,q,te){if(ee===Y.hash){const ne=(0,U.newCollisionList)(Y.hash,Y.children,Q,q,te);return ne===Y.children?Y:ne.length>1?{type:2,hash:Y.hash,children:ne}:ne[0]}const ie=Q();return ie===W.NOTHING?Y:(++te.value,(0,F.combineLeafNodes)(D,Y.hash,Y,ee,{type:1,hash:ee,key:q,value:ie}))}Z.modifyCollisionNode=J},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/CollisionNode.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/newCollisionList.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.newCollisionList=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),F=G("../node_modules/typed-immutable-map/dist/common/index.js");function U(J,Y,D,Q,ee){const q=Y.length;for(let ie=0;ie<q;++ie){const ne=Y[ie];if(ne.key===Q){const ce=ne.value,le=D(ce);return le===ce?Y:le===W.NOTHING?(--ee.value,(0,F.remove)(ie,Y)):(0,F.insert)(ie,{type:1,hash:J,key:Q,value:le},Y)}}const te=D();return te===W.NOTHING?Y:(++ee.value,(0,F.insert)(q,{type:1,hash:J,key:Q,value:te},Y))}Z.newCollisionList=U},"../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.empty=Z.EMPTY=Z.modifyEmpty=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js");function F(J,Y,D,Q,ee,q){const te=D(void 0);return te===W.NOTHING?J:(++q.value,{type:1,hash:Q,key:ee,value:te})}Z.modifyEmpty=F,Z.EMPTY={type:0};function U(){return Z.EMPTY}Z.empty=U},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/IndexedNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyIndexedNode=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),F=G("../node_modules/typed-immutable-map/dist/common/index.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/modify.js"),J=G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/toArrayNode.js");function Y(Q,ee,q,te,ie,ne){const{mask:ce,children:le}=Q,se=(0,F.hashFragment)(ee,te),pe=(0,F.toBitmap)(se),ue=(0,F.bitmapToIndex)(ce,pe),ae=!!(ce&pe),de=ae?le[ue]:(0,W.empty)(),be=(0,U.modify)(de,ee+F.SIZE,q,te,ie,ne);if(de===be)return Q;if(ae&&be.type===0){const he=ce&~pe;return he?le.length<=2&&D(le[ue^1])?le[ue^1]:{type:3,mask:he,children:(0,F.remove)(ue,le)}:(0,W.empty)()}return!ae&&be.type!==0?le.length>=F.MAX_INDEX_NODE?(0,J.toArrayNode)(se,be,ce,le):{type:3,mask:ce|pe,children:(0,F.insert)(ue,be,le)}:{type:3,mask:ce,children:(0,F.replace)(ue,be,le)}}Z.modifyIndexedNode=Y;function D(Q){const ee=Q.type;return ee===0||ee===1||ee===2}},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/IndexedNode.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/toArrayNode.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.toArrayNode=void 0;function G(W,F,U,J){const Y=[];let D=U,Q=0;for(let ee=0;D;++ee)D&1&&(Y[ee]=J[Q++]),D>>>=1;return Y[W]=F,{type:4,size:Q+1,children:Y}}Z.toArrayNode=G},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/LeafNode.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modifyLeaf=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js");function J(Y,D,Q,ee,q,te){if(q===Y.key){const ne=Q(Y.value);return ne===Y.value?Y:ne===W.NOTHING?(--te.value,(0,F.empty)()):{type:1,hash:ee,key:q,value:ne}}const ie=Q();return ie===W.NOTHING?Y:(++te.value,(0,U.combineLeafNodes)(D,Y.hash,Y,ee,{type:1,hash:ee,key:q,value:ie}))}Z.modifyLeaf=J},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.combineLeafNodes=void 0;const W=G("../node_modules/typed-immutable-map/dist/common/index.js");function F(U,J,Y,D,Q){if(J===D)return{type:2,hash:J,children:[Q,Y]};const ee=(0,W.hashFragment)(U,J),q=(0,W.hashFragment)(U,D);return{type:3,mask:(0,W.toBitmap)(ee)|(0,W.toBitmap)(q),children:ee===q?[F(U+W.SIZE,J,Y,D,Q)]:ee<q?[Y,Q]:[Q,Y]}}Z.combineLeafNodes=F},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/LeafNode.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/constants.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.NOTHING=void 0,Z.NOTHING=Object.create(null)},"../node_modules/typed-immutable-map/dist/nodes/index.js":function(X,Z,G){var W=this&&this.__createBinding||(Object.create?function(U,J,Y,D){D===void 0&&(D=Y),Object.defineProperty(U,D,{enumerable:!0,get:function(){return J[Y]}})}:function(U,J,Y,D){D===void 0&&(D=Y),U[D]=J[Y]}),F=this&&this.__exportStar||function(U,J){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(J,Y)&&W(J,U,Y)};Object.defineProperty(Z,"__esModule",{value:!0}),F(G("../node_modules/typed-immutable-map/dist/nodes/types.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/constants.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),Z),F(G("../node_modules/typed-immutable-map/dist/nodes/modify.js"),Z)},"../node_modules/typed-immutable-map/dist/nodes/modify.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.modify=void 0;const W=G("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),F=G("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),U=G("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js"),J=G("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js"),Y=G("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js");function D(Q,ee,q,te,ie,ne){switch(Q.type){case 1:return(0,W.modifyLeaf)(Q,ee,q,te,ie,ne);case 0:return(0,F.modifyEmpty)(Q,ee,q,te,ie,ne);case 4:return(0,U.modifyListNode)(Q,ee,q,te,ie,ne);case 3:return(0,J.modifyIndexedNode)(Q,ee,q,te,ie,ne);case 2:return(0,Y.modifyCollisionNode)(Q,ee,q,te,ie,ne);default:throw new Error("never")}}Z.modify=D},"../node_modules/typed-immutable-map/dist/nodes/types.js":(X,Z)=>{Object.defineProperty(Z,"__esModule",{value:!0})},"../node_modules/uuid-random/index.js":(X,Z,G)=>{(function(){var W,F=0,U=[],J;for(J=0;J<256;J++)U[J]=(J+256).toString(16).substr(1);ee.BUFFER_SIZE=4096,ee.bin=Q,ee.clearBuffer=function(){W=null,F=0},ee.test=function(q){return typeof q=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(q):!1};var Y;typeof crypto<"u"?Y=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(Y=window.msCrypto),Y=Y||G("?699d"),X.exports=ee,ee.randomBytes=function(){if(Y){if(Y.randomBytes)return Y.randomBytes;if(Y.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(q){var te=new Uint8Array(q);return Y.getRandomValues(te),Array.from(te)}:function(q){var te=new Uint8Array(q);return Y.getRandomValues(te),te}}return function(q){var te,ie=[];for(te=0;te<q;te++)ie.push(Math.floor(Math.random()*256));return ie}}();function D(q){return(!W||F+q>ee.BUFFER_SIZE)&&(F=0,W=ee.randomBytes(ee.BUFFER_SIZE)),W.slice(F,F+=q)}function Q(){var q=D(16);return q[6]=q[6]&15|64,q[8]=q[8]&63|128,q}function ee(){var q=Q();return U[q[0]]+U[q[1]]+U[q[2]]+U[q[3]]+"-"+U[q[4]]+U[q[5]]+"-"+U[q[6]]+U[q[7]]+"-"+U[q[8]]+U[q[9]]+"-"+U[q[10]]+U[q[11]]+U[q[12]]+U[q[13]]+U[q[14]]+U[q[15]]}})()},"../node_modules/yallist/iterator.js":X=>{X.exports=function(Z){Z.prototype[Symbol.iterator]=function*(){for(let G=this.head;G;G=G.next)yield G.value}}},"../node_modules/yallist/yallist.js":(X,Z,G)=>{X.exports=W,W.Node=Y,W.create=W;function W(D){var Q=this;if(Q instanceof W||(Q=new W),Q.tail=null,Q.head=null,Q.length=0,D&&typeof D.forEach=="function")D.forEach(function(te){Q.push(te)});else if(arguments.length>0)for(var ee=0,q=arguments.length;ee<q;ee++)Q.push(arguments[ee]);return Q}W.prototype.removeNode=function(D){if(D.list!==this)throw new Error("removing node which does not belong to this list");var Q=D.next,ee=D.prev;return Q&&(Q.prev=ee),ee&&(ee.next=Q),D===this.head&&(this.head=Q),D===this.tail&&(this.tail=ee),D.list.length--,D.next=null,D.prev=null,D.list=null,Q},W.prototype.unshiftNode=function(D){if(D!==this.head){D.list&&D.list.removeNode(D);var Q=this.head;D.list=this,D.next=Q,Q&&(Q.prev=D),this.head=D,this.tail||(this.tail=D),this.length++}},W.prototype.pushNode=function(D){if(D!==this.tail){D.list&&D.list.removeNode(D);var Q=this.tail;D.list=this,D.prev=Q,Q&&(Q.next=D),this.tail=D,this.head||(this.head=D),this.length++}},W.prototype.push=function(){for(var D=0,Q=arguments.length;D<Q;D++)U(this,arguments[D]);return this.length},W.prototype.unshift=function(){for(var D=0,Q=arguments.length;D<Q;D++)J(this,arguments[D]);return this.length},W.prototype.pop=function(){if(this.tail){var D=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,D}},W.prototype.shift=function(){if(this.head){var D=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,D}},W.prototype.forEach=function(D,Q){Q=Q||this;for(var ee=this.head,q=0;ee!==null;q++)D.call(Q,ee.value,q,this),ee=ee.next},W.prototype.forEachReverse=function(D,Q){Q=Q||this;for(var ee=this.tail,q=this.length-1;ee!==null;q--)D.call(Q,ee.value,q,this),ee=ee.prev},W.prototype.get=function(D){for(var Q=0,ee=this.head;ee!==null&&Q<D;Q++)ee=ee.next;if(Q===D&&ee!==null)return ee.value},W.prototype.getReverse=function(D){for(var Q=0,ee=this.tail;ee!==null&&Q<D;Q++)ee=ee.prev;if(Q===D&&ee!==null)return ee.value},W.prototype.map=function(D,Q){Q=Q||this;for(var ee=new W,q=this.head;q!==null;)ee.push(D.call(Q,q.value,this)),q=q.next;return ee},W.prototype.mapReverse=function(D,Q){Q=Q||this;for(var ee=new W,q=this.tail;q!==null;)ee.push(D.call(Q,q.value,this)),q=q.prev;return ee},W.prototype.reduce=function(D,Q){var ee,q=this.head;if(arguments.length>1)ee=Q;else if(this.head)q=this.head.next,ee=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var te=0;q!==null;te++)ee=D(ee,q.value,te),q=q.next;return ee},W.prototype.reduceReverse=function(D,Q){var ee,q=this.tail;if(arguments.length>1)ee=Q;else if(this.tail)q=this.tail.prev,ee=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var te=this.length-1;q!==null;te--)ee=D(ee,q.value,te),q=q.prev;return ee},W.prototype.toArray=function(){for(var D=new Array(this.length),Q=0,ee=this.head;ee!==null;Q++)D[Q]=ee.value,ee=ee.next;return D},W.prototype.toArrayReverse=function(){for(var D=new Array(this.length),Q=0,ee=this.tail;ee!==null;Q++)D[Q]=ee.value,ee=ee.prev;return D},W.prototype.slice=function(D,Q){Q=Q||this.length,Q<0&&(Q+=this.length),D=D||0,D<0&&(D+=this.length);var ee=new W;if(Q<D||Q<0)return ee;D<0&&(D=0),Q>this.length&&(Q=this.length);for(var q=0,te=this.head;te!==null&&q<D;q++)te=te.next;for(;te!==null&&q<Q;q++,te=te.next)ee.push(te.value);return ee},W.prototype.sliceReverse=function(D,Q){Q=Q||this.length,Q<0&&(Q+=this.length),D=D||0,D<0&&(D+=this.length);var ee=new W;if(Q<D||Q<0)return ee;D<0&&(D=0),Q>this.length&&(Q=this.length);for(var q=this.length,te=this.tail;te!==null&&q>Q;q--)te=te.prev;for(;te!==null&&q>D;q--,te=te.prev)ee.push(te.value);return ee},W.prototype.splice=function(D,Q,...ee){D>this.length&&(D=this.length-1),D<0&&(D=this.length+D);for(var q=0,te=this.head;te!==null&&q<D;q++)te=te.next;for(var ie=[],q=0;te&&q<Q;q++)ie.push(te.value),te=this.removeNode(te);te===null&&(te=this.tail),te!==this.head&&te!==this.tail&&(te=te.prev);for(var q=0;q<ee.length;q++)te=F(this,te,ee[q]);return ie},W.prototype.reverse=function(){for(var D=this.head,Q=this.tail,ee=D;ee!==null;ee=ee.prev){var q=ee.prev;ee.prev=ee.next,ee.next=q}return this.head=Q,this.tail=D,this};function F(D,Q,ee){var q=Q===D.head?new Y(ee,null,Q,D):new Y(ee,Q,Q.next,D);return q.next===null&&(D.tail=q),q.prev===null&&(D.head=q),D.length++,q}function U(D,Q){D.tail=new Y(Q,D.tail,null,D),D.head||(D.head=D.tail),D.length++}function J(D,Q){D.head=new Y(Q,null,D.head,D),D.tail||(D.tail=D.head),D.length++}function Y(D,Q,ee,q){if(!(this instanceof Y))return new Y(D,Q,ee,q);this.list=q,this.value=D,Q?(Q.next=this,this.prev=Q):this.prev=null,ee?(ee.prev=this,this.next=ee):this.next=null}try{G("../node_modules/yallist/iterator.js")(W)}catch{}},"../packages/immutable/dist/Map.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Map=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/has.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/get.js"),U=G("../node_modules/typed-immutable-map/dist/HashMap/set.js"),J=G("../node_modules/typed-immutable-map/dist/HashMap/forEach.js"),Y=G("../node_modules/typed-immutable-map/dist/HashMap/map.js"),D=G("../node_modules/typed-immutable-map/dist/HashMap/filter.js"),Q=G("../node_modules/typed-immutable-map/dist/HashMap/remove.js"),ee=G("../node_modules/typed-immutable-map/dist/HashMap/entries.js"),q=G("../node_modules/typed-immutable-map/dist/HashMap/values.js"),te=G("../node_modules/typed-immutable-map/dist/HashMap/keys.js"),ie=G("../node_modules/typed-immutable-map/dist/HashMap/size.js");class ne{hashmap;constructor(le){this.hashmap=le}get size(){return(0,ie.size)(this.hashmap)}set(le,se){return new ne((0,U.set)(le,se,this.hashmap))}delete(le){return new ne((0,Q.remove)(le,this.hashmap))}get(le){return(0,F.get)(le,this.hashmap)}has(le){return(0,W.has)(le,this.hashmap)}forEach(le){(0,J.forEach)(le,this.hashmap)}map(le){return new ne((0,Y.map)(le,this.hashmap))}filter(le){return new ne((0,D.filter)(le,this.hashmap))}toJS(){return Object.fromEntries(this)}toJSON(){return this.toJS()}keys(){return(0,te.keys)(this.hashmap)}values(){return(0,q.values)(this.hashmap)}entries(){return(0,ee.entries)(this.hashmap)}[Symbol.iterator](){return this.entries()}}Z.Map=ne},"../packages/immutable/dist/index.js":(X,Z,G)=>{Object.defineProperty(Z,"__esModule",{value:!0}),Z.Map=void 0;const W=G("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),F=G("../node_modules/typed-immutable-map/dist/HashMap/from.js"),U=G("../packages/immutable/dist/Map.js"),J=D=>Symbol.iterator in D;function Y(D){return D?J(D)?new U.Map((0,F.fromIterable)(D)):new U.Map((0,F.fromObject)(D)):new U.Map((0,W.empty)())}Z.Map=Y},"../packages/uuid/dist/index.js":function(X,Z,G){var W=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.v4=void 0;const F=W(G("../node_modules/uuid-random/index.js"));Z.v4=F.default},asynciterator:X=>{X.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_asynciterator__},sparqlalgebrajs:X=>{X.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqlalgebrajs__},sparqljs:X=>{X.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqljs__},"?699d":()=>{},"./require-empty.js":()=>{},"./src/crypto-polyfill.js":(__unused_webpack_module,__unused_webpack_exports,__quadstore_comunica_require__)=>{const isNode=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,polyfillCrypto=({randomFillSync:X})=>{__quadstore_comunica_require__.g.crypto={},__quadstore_comunica_require__.g.crypto.getRandomValues=Z=>(X(Z),Z)};isNode&&typeof crypto>"u"&&(eval("typeof require === 'function'")?polyfillCrypto(eval("require('crypto');")):eval("import('crypto');").then(polyfillCrypto).catch(X=>{console.error(X),process.exit(1)}))},"./src/engine.js":(X,Z,G)=>{const W=new(G("../node_modules/@comunica/logger-void/lib/index.js")).LoggerVoid,F=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),U=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),J=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),Y=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),D=new(G("../node_modules/@comunica/bus-query-operation/lib/index.js")).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),Q=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),ee=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),q=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),te=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),ie=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),ne=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),ce=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),le=new(G("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus"});new(G("../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/index.js")).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:U});const se=new(G("../node_modules/@comunica/mediator-combine-pipeline/lib/index.js")).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:U});new(G("../node_modules/@comunica/actor-hash-bindings-sha1/lib/index.js")).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:J});const pe=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:J}),ue=new(G("../node_modules/@comunica/mediator-combine-pipeline/lib/index.js")).MediatorCombinePipeline({name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:Y});new(G("../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/index.js")).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:Y}),new(G("../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/index.js")).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:Y}),new(G("../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/index.js")).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:Y});const ae=new(G("../node_modules/@comunica/mediator-number/lib/index.js")).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:D});new(G("../node_modules/@comunica/actor-query-operation-values/lib/index.js")).ActorQueryOperationValues({name:"urn:comunica:default:query-operation/actors#values",bus:D});const de=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:Q});new(G("../node_modules/@comunica/actor-query-parse-sparql/lib/index.js")).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:Q});const be=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:ee}),he=new(G("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:ee}),Le=new(G("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:ee}),Xe=new(G("../node_modules/@comunica/mediator-all/lib/index.js")).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:q});new(G("../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/index.js")).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:te});const We=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:te});new(G("../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/index.js")).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:ie});const fe=new(G("../node_modules/@comunica/mediator-number/lib/index.js")).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:ie});new(G("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/index.js")).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:ne});const Re=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:ne}),ye=new(G("../node_modules/@comunica/mediator-join-coefficients-fixed/lib/index.js")).MediatorJoinCoefficientsFixed({cpuWeight:1,memoryWeight:1,timeWeight:10,ioWeight:100,name:"urn:comunica:default:rdf-join/mediators#main",bus:ce}),re=new(G("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-resolve-quad-pattern/mediators#main",bus:le});new(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-rdfjs-source/lib/index.js")).ActorRdfResolveQuadPatternRdfJsSource({name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source",bus:le}),new(G("../node_modules/@comunica/actor-query-operation-ask/lib/index.js")).ActorQueryOperationAsk({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#ask",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-bgp-join/lib/index.js")).ActorQueryOperationBgpJoin({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#bgp",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-construct/lib/index.js")).ActorQueryOperationConstruct({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#construct",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-describe-subject/lib/index.js")).ActorQueryOperationDescribeSubject({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#describe",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-distinct-hash/lib/index.js")).ActorQueryOperationDistinctHash({mediatorHashBindings:pe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#distinct",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-extend/lib/index.js")).ActorQueryOperationExtend({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#extend",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-filter-sparqlee/lib/index.js")).ActorQueryOperationFilterSparqlee({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#filter",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-from-quad/lib/index.js")).ActorQueryOperationFromQuad({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#from",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-group/lib/index.js")).ActorQueryOperationGroup({mediatorHashBindings:pe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#group",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-orderby-sparqlee/lib/index.js")).ActorQueryOperationOrderBySparqlee({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#orderby",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-nop/lib/index.js")).ActorQueryOperationNop({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#nop",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-project/lib/index.js")).ActorQueryOperationProject({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#project",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-reduced-hash/lib/index.js")).ActorQueryOperationReducedHash({mediatorHashBindings:pe,cacheSize:100,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#reduced",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-service/lib/index.js")).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#service",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-slice/lib/index.js")).ActorQueryOperationSlice({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#slice",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-union/lib/index.js")).ActorQueryOperationUnion({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#union",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-alt/lib/index.js")).ActorQueryOperationPathAlt({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-alt",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-inv/lib/index.js")).ActorQueryOperationPathInv({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-inv",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-link/lib/index.js")).ActorQueryOperationPathLink({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-link",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/index.js")).ActorQueryOperationPathZeroOrOne({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-add-rewrite/lib/index.js")).ActorQueryOperationAddRewrite({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-add",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/index.js")).ActorQueryOperationPathZeroOrMore({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/index.js")).ActorQueryOperationPathOneOrMore({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/index.js")).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-composite",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-nps/lib/index.js")).ActorQueryOperationPathNps({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-nps",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-copy-rewrite/lib/index.js")).ActorQueryOperationCopyRewrite({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-copy",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-move-rewrite/lib/index.js")).ActorQueryOperationMoveRewrite({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-move",bus:D});const Ze=new(G("../node_modules/@comunica/actor-init-query/lib/index-browser.js")).ActorInitQuery({mediatorOptimizeQueryOperation:ue,mediatorQueryOperation:ae,mediatorQueryParse:de,mediatorQueryResultSerialize:be,mediatorQueryResultSerializeMediaTypeCombiner:he,mediatorQueryResultSerializeMediaTypeFormatCombiner:Le,mediatorContextPreprocess:se,mediatorHttpInvalidate:Xe,logger:W,defaultQueryInputFormat:"sparql",allowNoSources:!1,contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",localizeBlankNodes:"@comunica/actor-query-operation:localizeBlankNodes",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:init/actors#query",bus:F});new(G("../node_modules/@comunica/actor-rdf-join-inner-none/lib/index.js")).ActorRdfJoinNone({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-single/lib/index.js")).ActorRdfJoinSingle({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/index.js")).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js")).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:We,mediatorQueryOperation:ae,mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js")).ActorRdfJoinHash({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/index.js")).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/index.js")).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-optional-bind/lib/index.js")).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorQueryOperation:ae,mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/index.js")).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js")).ActorRdfJoinMinusHash({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:ce}),new(G("../node_modules/@comunica/actor-rdf-join-minus-hash-undef/lib/index.js")).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:ce}),new(G("../node_modules/@comunica/actor-query-operation-update-clear/lib/index.js")).ActorQueryOperationClear({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-clear",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-create/lib/index.js")).ActorQueryOperationCreate({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-create",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/index.js")).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-drop/lib/index.js")).ActorQueryOperationDrop({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-drop",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-update-load/lib/index.js")).ActorQueryOperationLoad({mediatorUpdateQuads:Re,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-load",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-join/lib/index.js")).ActorQueryOperationJoin({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#join",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-leftjoin/lib/index.js")).ActorQueryOperationLeftJoin({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-minus/lib/index.js")).ActorQueryOperationMinus({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#minus",bus:D}),new(G("../node_modules/@comunica/actor-query-operation-path-seq/lib/index.js")).ActorQueryOperationPathSeq({mediatorJoin:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-seq",bus:D}),new(G("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/index.js")).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:We,mediatorJoin:ye,mediatorJoinSelectivity:fe,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:ce}),new(G("../node_modules/@comunica/actor-query-operation-quadpattern/lib/index.js")).ActorQueryOperationQuadpattern({mediatorResolveQuadPattern:re,unionDefaultGraph:!1,name:"urn:comunica:default:query-operation/actors#quadpattern",bus:D}),new(G("../node_modules/@comunica/actor-rdf-resolve-quad-pattern-federated/lib/index.js")).ActorRdfResolveQuadPatternFederated({mediatorResolveQuadPattern:re,skipEmptyPatterns:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#federated",bus:le}),X.exports=Ze},"./src/index.js":(X,Z,G)=>{G("./src/crypto-polyfill.js");const{QueryEngineBase:W}=G("../node_modules/@comunica/actor-init-query/lib/index-browser.js"),F=new W(G("./src/engine.js")),U=Object.create(null);class J{constructor(D){this.store=D,this.engine=F}getContext(D){return{...D,source:this.store,destination:this.store}}query(D,Q=U){return F.query(D,this.getContext(Q))}queryVoid(D,Q=U){return F.queryVoid(D,this.getContext(Q))}queryBindings(D,Q=U){return F.queryBindings(D,this.getContext(Q))}queryQuads(D,Q=U){return F.queryQuads(D,this.getContext(Q))}queryBoolean(D,Q=U){return F.queryBoolean(D,this.getContext(Q))}}X.exports.D=J,X.exports.H=F},"../node_modules/@comunica/actor-query-operation-reduced-hash/node_modules/lru-cache/index.js":X=>{const Z=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,W=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new J}abort(ae=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||ae,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},F=typeof AbortSignal=="function",U=typeof W.AbortSignal=="function",J=F?AbortSignal:U?W.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent(ae){ae.type==="abort"&&(this.aborted=!0,this.onabort(ae),this._listeners.forEach(de=>de(ae),this))}onabort(){}addEventListener(ae,de){ae==="abort"&&this._listeners.push(de)}removeEventListener(ae,de){ae==="abort"&&(this._listeners=this._listeners.filter(be=>be!==de))}},Y=new Set,D=(ue,ae)=>{const de=`LRU_CACHE_OPTION_${ue}`;te(de)&&ie(de,`${ue} option`,`options.${ae}`,pe)},Q=(ue,ae)=>{const de=`LRU_CACHE_METHOD_${ue}`;if(te(de)){const{prototype:be}=pe,{get:he}=Object.getOwnPropertyDescriptor(be,ue);ie(de,`${ue} method`,`cache.${ae}()`,he)}},ee=(ue,ae)=>{const de=`LRU_CACHE_PROPERTY_${ue}`;if(te(de)){const{prototype:be}=pe,{get:he}=Object.getOwnPropertyDescriptor(be,ue);ie(de,`${ue} property`,`cache.${ae}`,he)}},q=(...ue)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...ue):console.error(...ue)},te=ue=>!Y.has(ue),ie=(ue,ae,de,be)=>{Y.add(ue);const he=`The ${ae} is deprecated. Please use ${de} instead.`;q(he,"DeprecationWarning",ue,be)},ne=ue=>ue&&ue===Math.floor(ue)&&ue>0&&isFinite(ue),ce=ue=>ne(ue)?ue<=Math.pow(2,8)?Uint8Array:ue<=Math.pow(2,16)?Uint16Array:ue<=Math.pow(2,32)?Uint32Array:ue<=Number.MAX_SAFE_INTEGER?le:null:null;class le extends Array{constructor(ae){super(ae),this.fill(0)}}class se{constructor(ae){if(ae===0)return[];const de=ce(ae);this.heap=new de(ae),this.length=0}push(ae){this.heap[this.length++]=ae}pop(){return this.heap[--this.length]}}class pe{constructor(ae={}){const{max:de=0,ttl:be,ttlResolution:he=1,ttlAutopurge:Le,updateAgeOnGet:Xe,updateAgeOnHas:We,allowStale:fe,dispose:Re,disposeAfter:ye,noDisposeOnSet:re,noUpdateTTL:Ze,maxSize:Ge=0,maxEntrySize:ve=0,sizeCalculation:Te,fetchMethod:xe,fetchContext:Ie,noDeleteOnFetchRejection:Se,noDeleteOnStaleGet:Ne,allowStaleOnFetchRejection:je,allowStaleOnFetchAbort:tt,ignoreFetchAbort:it}=ae,{length:st,maxAge:qe,stale:ot}=ae instanceof pe?{}:ae;if(de!==0&&!ne(de))throw new TypeError("max option must be a nonnegative integer");const ut=de?ce(de):Array;if(!ut)throw new Error("invalid max value: "+de);if(this.max=de,this.maxSize=Ge,this.maxEntrySize=ve||this.maxSize,this.sizeCalculation=Te||st,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=xe||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=Ie,!this.fetchMethod&&Ie!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(de).fill(null),this.valList=new Array(de).fill(null),this.next=new ut(de),this.prev=new ut(de),this.head=0,this.tail=0,this.free=new se(de),this.initialFill=1,this.size=0,typeof Re=="function"&&(this.dispose=Re),typeof ye=="function"?(this.disposeAfter=ye,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!re,this.noUpdateTTL=!!Ze,this.noDeleteOnFetchRejection=!!Se,this.allowStaleOnFetchRejection=!!je,this.allowStaleOnFetchAbort=!!tt,this.ignoreFetchAbort=!!it,this.maxEntrySize!==0){if(this.maxSize!==0&&!ne(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!ne(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!fe||!!ot,this.noDeleteOnStaleGet=!!Ne,this.updateAgeOnGet=!!Xe,this.updateAgeOnHas=!!We,this.ttlResolution=ne(he)||he===0?he:1,this.ttlAutopurge=!!Le,this.ttl=be||qe||0,this.ttl){if(!ne(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const dt="LRU_CACHE_UNBOUNDED";te(dt)&&(Y.add(dt),q("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",dt,pe))}ot&&D("stale","allowStale"),qe&&D("maxAge","ttl"),st&&D("length","sizeCalculation")}getRemainingTTL(ae){return this.has(ae,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new le(this.max),this.starts=new le(this.max),this.setItemTTL=(be,he,Le=Z.now())=>{if(this.starts[be]=he!==0?Le:0,this.ttls[be]=he,he!==0&&this.ttlAutopurge){const Xe=setTimeout(()=>{this.isStale(be)&&this.delete(this.keyList[be])},he+1);Xe.unref&&Xe.unref()}},this.updateItemAge=be=>{this.starts[be]=this.ttls[be]!==0?Z.now():0},this.statusTTL=(be,he)=>{be&&(be.ttl=this.ttls[he],be.start=this.starts[he],be.now=ae||de(),be.remainingTTL=be.now+be.ttl-be.start)};let ae=0;const de=()=>{const be=Z.now();if(this.ttlResolution>0){ae=be;const he=setTimeout(()=>ae=0,this.ttlResolution);he.unref&&he.unref()}return be};this.getRemainingTTL=be=>{const he=this.keyMap.get(be);return he===void 0?0:this.ttls[he]===0||this.starts[he]===0?1/0:this.starts[he]+this.ttls[he]-(ae||de())},this.isStale=be=>this.ttls[be]!==0&&this.starts[be]!==0&&(ae||de())-this.starts[be]>this.ttls[be]}updateItemAge(ae){}statusTTL(ae,de){}setItemTTL(ae,de,be){}isStale(ae){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new le(this.max),this.removeItemSize=ae=>{this.calculatedSize-=this.sizes[ae],this.sizes[ae]=0},this.requireSize=(ae,de,be,he)=>{if(this.isBackgroundFetch(de))return 0;if(!ne(be))if(he){if(typeof he!="function")throw new TypeError("sizeCalculation must be a function");if(be=he(de,ae),!ne(be))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return be},this.addItemSize=(ae,de,be)=>{if(this.sizes[ae]=de,this.maxSize){const he=this.maxSize-this.sizes[ae];for(;this.calculatedSize>he;)this.evict(!0)}this.calculatedSize+=this.sizes[ae],be&&(be.entrySize=de,be.totalCalculatedSize=this.calculatedSize)}}removeItemSize(ae){}addItemSize(ae,de){}requireSize(ae,de,be,he){if(be||he)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:ae=this.allowStale}={}){if(this.size)for(let de=this.tail;!(!this.isValidIndex(de)||((ae||!this.isStale(de))&&(yield de),de===this.head));)de=this.prev[de]}*rindexes({allowStale:ae=this.allowStale}={}){if(this.size)for(let de=this.head;!(!this.isValidIndex(de)||((ae||!this.isStale(de))&&(yield de),de===this.tail));)de=this.next[de]}isValidIndex(ae){return ae!==void 0&&this.keyMap.get(this.keyList[ae])===ae}*entries(){for(const ae of this.indexes())this.valList[ae]!==void 0&&this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield[this.keyList[ae],this.valList[ae]])}*rentries(){for(const ae of this.rindexes())this.valList[ae]!==void 0&&this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield[this.keyList[ae],this.valList[ae]])}*keys(){for(const ae of this.indexes())this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.keyList[ae])}*rkeys(){for(const ae of this.rindexes())this.keyList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.keyList[ae])}*values(){for(const ae of this.indexes())this.valList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.valList[ae])}*rvalues(){for(const ae of this.rindexes())this.valList[ae]!==void 0&&!this.isBackgroundFetch(this.valList[ae])&&(yield this.valList[ae])}[Symbol.iterator](){return this.entries()}find(ae,de){for(const be of this.indexes()){const he=this.valList[be],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;if(Le!==void 0&&ae(Le,this.keyList[be],this))return this.get(this.keyList[be],de)}}forEach(ae,de=this){for(const be of this.indexes()){const he=this.valList[be],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;Le!==void 0&&ae.call(de,Le,this.keyList[be],this)}}rforEach(ae,de=this){for(const be of this.rindexes()){const he=this.valList[be],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;Le!==void 0&&ae.call(de,Le,this.keyList[be],this)}}get prune(){return Q("prune","purgeStale"),this.purgeStale}purgeStale(){let ae=!1;for(const de of this.rindexes({allowStale:!0}))this.isStale(de)&&(this.delete(this.keyList[de]),ae=!0);return ae}dump(){const ae=[];for(const de of this.indexes({allowStale:!0})){const be=this.keyList[de],he=this.valList[de],Le=this.isBackgroundFetch(he)?he.__staleWhileFetching:he;if(Le===void 0)continue;const Xe={value:Le};if(this.ttls){Xe.ttl=this.ttls[de];const We=Z.now()-this.starts[de];Xe.start=Math.floor(Date.now()-We)}this.sizes&&(Xe.size=this.sizes[de]),ae.unshift([be,Xe])}return ae}load(ae){this.clear();for(const[de,be]of ae){if(be.start){const he=Date.now()-be.start;be.start=Z.now()-he}this.set(de,be.value,be)}}dispose(ae,de,be){}set(ae,de,{ttl:be=this.ttl,start:he,noDisposeOnSet:Le=this.noDisposeOnSet,size:Xe=0,sizeCalculation:We=this.sizeCalculation,noUpdateTTL:fe=this.noUpdateTTL,status:Re}={}){if(Xe=this.requireSize(ae,de,Xe,We),this.maxEntrySize&&Xe>this.maxEntrySize)return Re&&(Re.set="miss",Re.maxEntrySizeExceeded=!0),this.delete(ae),this;let ye=this.size===0?void 0:this.keyMap.get(ae);if(ye===void 0)ye=this.newIndex(),this.keyList[ye]=ae,this.valList[ye]=de,this.keyMap.set(ae,ye),this.next[this.tail]=ye,this.prev[ye]=this.tail,this.tail=ye,this.size++,this.addItemSize(ye,Xe,Re),Re&&(Re.set="add"),fe=!1;else{this.moveToTail(ye);const re=this.valList[ye];if(de!==re){if(this.isBackgroundFetch(re)?re.__abortController.abort(new Error("replaced")):Le||(this.dispose(re,ae,"set"),this.disposeAfter&&this.disposed.push([re,ae,"set"])),this.removeItemSize(ye),this.valList[ye]=de,this.addItemSize(ye,Xe,Re),Re){Re.set="replace";const Ze=re&&this.isBackgroundFetch(re)?re.__staleWhileFetching:re;Ze!==void 0&&(Re.oldValue=Ze)}}else Re&&(Re.set="update")}if(be!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),fe||this.setItemTTL(ye,be,he),this.statusTTL(Re,ye),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const ae=this.valList[this.head];return this.evict(!0),ae}}evict(ae){const de=this.head,be=this.keyList[de],he=this.valList[de];return this.isBackgroundFetch(he)?he.__abortController.abort(new Error("evicted")):(this.dispose(he,be,"evict"),this.disposeAfter&&this.disposed.push([he,be,"evict"])),this.removeItemSize(de),ae&&(this.keyList[de]=null,this.valList[de]=null,this.free.push(de)),this.head=this.next[de],this.keyMap.delete(be),this.size--,de}has(ae,{updateAgeOnHas:de=this.updateAgeOnHas,status:be}={}){const he=this.keyMap.get(ae);if(he!==void 0)if(this.isStale(he))be&&(be.has="stale",this.statusTTL(be,he));else return de&&this.updateItemAge(he),be&&(be.has="hit"),this.statusTTL(be,he),!0;else be&&(be.has="miss");return!1}peek(ae,{allowStale:de=this.allowStale}={}){const be=this.keyMap.get(ae);if(be!==void 0&&(de||!this.isStale(be))){const he=this.valList[be];return this.isBackgroundFetch(he)?he.__staleWhileFetching:he}}backgroundFetch(ae,de,be,he){const Le=de===void 0?void 0:this.valList[de];if(this.isBackgroundFetch(Le))return Le;const Xe=new W;be.signal&&be.signal.addEventListener("abort",()=>Xe.abort(be.signal.reason));const We={signal:Xe.signal,options:be,context:he},fe=(Ge,ve=!1)=>{const{aborted:Te}=Xe.signal,xe=be.ignoreFetchAbort&&Ge!==void 0;return be.status&&(Te&&!ve?(be.status.fetchAborted=!0,be.status.fetchError=Xe.signal.reason,xe&&(be.status.fetchAbortIgnored=!0)):be.status.fetchResolved=!0),Te&&!xe&&!ve?ye(Xe.signal.reason):(this.valList[de]===Ze&&(Ge===void 0?Ze.__staleWhileFetching?this.valList[de]=Ze.__staleWhileFetching:this.delete(ae):(be.status&&(be.status.fetchUpdated=!0),this.set(ae,Ge,We.options))),Ge)},Re=Ge=>(be.status&&(be.status.fetchRejected=!0,be.status.fetchError=Ge),ye(Ge)),ye=Ge=>{const{aborted:ve}=Xe.signal,Te=ve&&be.allowStaleOnFetchAbort,xe=Te||be.allowStaleOnFetchRejection,Ie=xe||be.noDeleteOnFetchRejection;if(this.valList[de]===Ze&&(!Ie||Ze.__staleWhileFetching===void 0?this.delete(ae):Te||(this.valList[de]=Ze.__staleWhileFetching)),xe)return be.status&&Ze.__staleWhileFetching!==void 0&&(be.status.returnedStale=!0),Ze.__staleWhileFetching;if(Ze.__returned===Ze)throw Ge},re=(Ge,ve)=>{this.fetchMethod(ae,Le,We).then(Te=>Ge(Te),ve),Xe.signal.addEventListener("abort",()=>{(!be.ignoreFetchAbort||be.allowStaleOnFetchAbort)&&(Ge(),be.allowStaleOnFetchAbort&&(Ge=Te=>fe(Te,!0)))})};be.status&&(be.status.fetchDispatched=!0);const Ze=new Promise(re).then(fe,Re);return Ze.__abortController=Xe,Ze.__staleWhileFetching=Le,Ze.__returned=null,de===void 0?(this.set(ae,Ze,{...We.options,status:void 0}),de=this.keyMap.get(ae)):this.valList[de]=Ze,Ze}isBackgroundFetch(ae){return ae&&typeof ae=="object"&&typeof ae.then=="function"&&Object.prototype.hasOwnProperty.call(ae,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(ae,"__returned")&&(ae.__returned===ae||ae.__returned===null)}async fetch(ae,{allowStale:de=this.allowStale,updateAgeOnGet:be=this.updateAgeOnGet,noDeleteOnStaleGet:he=this.noDeleteOnStaleGet,ttl:Le=this.ttl,noDisposeOnSet:Xe=this.noDisposeOnSet,size:We=0,sizeCalculation:fe=this.sizeCalculation,noUpdateTTL:Re=this.noUpdateTTL,noDeleteOnFetchRejection:ye=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:re=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ze=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ge=this.allowStaleOnFetchAbort,fetchContext:ve=this.fetchContext,forceRefresh:Te=!1,status:xe,signal:Ie}={}){if(!this.fetchMethod)return xe&&(xe.fetch="get"),this.get(ae,{allowStale:de,updateAgeOnGet:be,noDeleteOnStaleGet:he,status:xe});const Se={allowStale:de,updateAgeOnGet:be,noDeleteOnStaleGet:he,ttl:Le,noDisposeOnSet:Xe,size:We,sizeCalculation:fe,noUpdateTTL:Re,noDeleteOnFetchRejection:ye,allowStaleOnFetchRejection:re,allowStaleOnFetchAbort:Ge,ignoreFetchAbort:Ze,status:xe,signal:Ie};let Ne=this.keyMap.get(ae);if(Ne===void 0){xe&&(xe.fetch="miss");const je=this.backgroundFetch(ae,Ne,Se,ve);return je.__returned=je}else{const je=this.valList[Ne];if(this.isBackgroundFetch(je)){const ot=de&&je.__staleWhileFetching!==void 0;return xe&&(xe.fetch="inflight",ot&&(xe.returnedStale=!0)),ot?je.__staleWhileFetching:je.__returned=je}const tt=this.isStale(Ne);if(!Te&&!tt)return xe&&(xe.fetch="hit"),this.moveToTail(Ne),be&&this.updateItemAge(Ne),this.statusTTL(xe,Ne),je;const it=this.backgroundFetch(ae,Ne,Se,ve),st=it.__staleWhileFetching!==void 0,qe=st&&de;return xe&&(xe.fetch=st&&tt?"stale":"refresh",qe&&tt&&(xe.returnedStale=!0)),qe?it.__staleWhileFetching:it.__returned=it}}get(ae,{allowStale:de=this.allowStale,updateAgeOnGet:be=this.updateAgeOnGet,noDeleteOnStaleGet:he=this.noDeleteOnStaleGet,status:Le}={}){const Xe=this.keyMap.get(ae);if(Xe!==void 0){const We=this.valList[Xe],fe=this.isBackgroundFetch(We);return this.statusTTL(Le,Xe),this.isStale(Xe)?(Le&&(Le.get="stale"),fe?(Le&&(Le.returnedStale=de&&We.__staleWhileFetching!==void 0),de?We.__staleWhileFetching:void 0):(he||this.delete(ae),Le&&(Le.returnedStale=de),de?We:void 0)):(Le&&(Le.get="hit"),fe?We.__staleWhileFetching:(this.moveToTail(Xe),be&&this.updateItemAge(Xe),We))}else Le&&(Le.get="miss")}connect(ae,de){this.prev[de]=ae,this.next[ae]=de}moveToTail(ae){ae!==this.tail&&(ae===this.head?this.head=this.next[ae]:this.connect(this.prev[ae],this.next[ae]),this.connect(this.tail,ae),this.tail=ae)}get del(){return Q("del","delete"),this.delete}delete(ae){let de=!1;if(this.size!==0){const be=this.keyMap.get(ae);if(be!==void 0)if(de=!0,this.size===1)this.clear();else{this.removeItemSize(be);const he=this.valList[be];this.isBackgroundFetch(he)?he.__abortController.abort(new Error("deleted")):(this.dispose(he,ae,"delete"),this.disposeAfter&&this.disposed.push([he,ae,"delete"])),this.keyMap.delete(ae),this.keyList[be]=null,this.valList[be]=null,be===this.tail?this.tail=this.prev[be]:be===this.head?this.head=this.next[be]:(this.next[this.prev[be]]=this.next[be],this.prev[this.next[be]]=this.prev[be]),this.size--,this.free.push(be)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return de}clear(){for(const ae of this.rindexes({allowStale:!0})){const de=this.valList[ae];if(this.isBackgroundFetch(de))de.__abortController.abort(new Error("deleted"));else{const be=this.keyList[ae];this.dispose(de,be,"delete"),this.disposeAfter&&this.disposed.push([de,be,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Q("reset","clear"),this.clear}get length(){return ee("length","size"),this.size}static get AbortController(){return W}static get AbortSignal(){return J}}X.exports=pe}},__quadstore_comunica_module_cache__={};function __quadstore_comunica_require__(X){var Z=__quadstore_comunica_module_cache__[X];if(Z!==void 0)return Z.exports;var G=__quadstore_comunica_module_cache__[X]={exports:{}};return __quadstore_comunica_modules__[X].call(G.exports,G,G.exports,__quadstore_comunica_require__),G.exports}__quadstore_comunica_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var __quadstore_comunica_exports__=__quadstore_comunica_require__("./src/index.js"),__quadstore_comunica_exports__Engine=__quadstore_comunica_exports__.D;__quadstore_comunica_exports__.H;const DOWNSTREAM_FROM="http://webscape.wanderer#downstream-from",directDownstreamQuery=X=>`
  PREFIX sources: <${DOWNSTREAM_FROM}>
  SELECT DISTINCT ?downstream WHERE {
    ?downstream sources: <${X}> .
  }`,directUpstreamQuery=X=>`
  PREFIX sources: <${DOWNSTREAM_FROM}>
  SELECT DISTINCT ?upstream WHERE {
    <${X}> sources: ?upstream .
  }`;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf||Function("return this")();const root$2=root$1;var Symbol$1=root$2.Symbol;const Symbol$2=Symbol$1;var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(X){var Z=hasOwnProperty$4.call(X,symToStringTag$1),G=X[symToStringTag$1];try{X[symToStringTag$1]=void 0;var W=!0}catch{}var F=nativeObjectToString$1.call(X);return W&&(Z?X[symToStringTag$1]=G:delete X[symToStringTag$1]),F}var objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString(X){return nativeObjectToString.call(X)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(X){return X==null?X===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(X)?getRawTag(X):objectToString(X)}function isObjectLike(X){return X!=null&&typeof X=="object"}var symbolTag="[object Symbol]";function isSymbol(X){return typeof X=="symbol"||isObjectLike(X)&&baseGetTag(X)==symbolTag}function arrayMap(X,Z){for(var G=-1,W=X==null?0:X.length,F=Array(W);++G<W;)F[G]=Z(X[G],G,X);return F}var isArray=Array.isArray;const isArray$1=isArray;var INFINITY$1=1/0,symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(X){if(typeof X=="string")return X;if(isArray$1(X))return arrayMap(X,baseToString)+"";if(isSymbol(X))return symbolToString?symbolToString.call(X):"";var Z=X+"";return Z=="0"&&1/X==-INFINITY$1?"-0":Z}var reWhitespace=/\s/;function trimmedEndIndex(X){for(var Z=X.length;Z--&&reWhitespace.test(X.charAt(Z)););return Z}var reTrimStart=/^\s+/;function baseTrim(X){return X&&X.slice(0,trimmedEndIndex(X)+1).replace(reTrimStart,"")}function isObject(X){var Z=typeof X;return X!=null&&(Z=="object"||Z=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(X){if(typeof X=="number")return X;if(isSymbol(X))return NAN;if(isObject(X)){var Z=typeof X.valueOf=="function"?X.valueOf():X;X=isObject(Z)?Z+"":Z}if(typeof X!="string")return X===0?X:+X;X=baseTrim(X);var G=reIsBinary.test(X);return G||reIsOctal.test(X)?freeParseInt(X.slice(2),G?2:8):reIsBadHex.test(X)?NAN:+X}var INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(X){if(!X)return X===0?X:0;if(X=toNumber(X),X===INFINITY||X===-INFINITY){var Z=X<0?-1:1;return Z*MAX_INTEGER}return X===X?X:0}function toInteger(X){var Z=toFinite(X),G=Z%1;return Z===Z?G?Z-G:Z:0}function identity$2(X){return X}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(X){if(!isObject(X))return!1;var Z=baseGetTag(X);return Z==funcTag||Z==genTag||Z==asyncTag||Z==proxyTag}var coreJsData=root$2["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var X=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return X?"Symbol(src)_1."+X:""}();function isMasked(X){return!!maskSrcKey&&maskSrcKey in X}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(X){if(X!=null){try{return funcToString$1.call(X)}catch{}try{return X+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(X){if(!isObject(X)||isMasked(X))return!1;var Z=isFunction(X)?reIsNative:reIsHostCtor;return Z.test(toSource(X))}function getValue(X,Z){return X?.[Z]}function getNative(X,Z){var G=getValue(X,Z);return baseIsNative(G)?G:void 0}var WeakMap$1=getNative(root$2,"WeakMap");const WeakMap$2=WeakMap$1;var metaMap=WeakMap$2&&new WeakMap$2;const metaMap$1=metaMap;var baseSetData=metaMap$1?function(X,Z){return metaMap$1.set(X,Z),X}:identity$2;const baseSetData$1=baseSetData;var objectCreate=Object.create,baseCreate=function(){function X(){}return function(Z){if(!isObject(Z))return{};if(objectCreate)return objectCreate(Z);X.prototype=Z;var G=new X;return X.prototype=void 0,G}}();const baseCreate$1=baseCreate;function createCtor(X){return function(){var Z=arguments;switch(Z.length){case 0:return new X;case 1:return new X(Z[0]);case 2:return new X(Z[0],Z[1]);case 3:return new X(Z[0],Z[1],Z[2]);case 4:return new X(Z[0],Z[1],Z[2],Z[3]);case 5:return new X(Z[0],Z[1],Z[2],Z[3],Z[4]);case 6:return new X(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]);case 7:return new X(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6])}var G=baseCreate$1(X.prototype),W=X.apply(G,Z);return isObject(W)?W:G}}var WRAP_BIND_FLAG$6=1;function createBind(X,Z,G){var W=Z&WRAP_BIND_FLAG$6,F=createCtor(X);function U(){var J=this&&this!==root$2&&this instanceof U?F:X;return J.apply(W?G:this,arguments)}return U}function apply(X,Z,G){switch(G.length){case 0:return X.call(Z);case 1:return X.call(Z,G[0]);case 2:return X.call(Z,G[0],G[1]);case 3:return X.call(Z,G[0],G[1],G[2])}return X.apply(Z,G)}var nativeMax$3=Math.max;function composeArgs(X,Z,G,W){for(var F=-1,U=X.length,J=G.length,Y=-1,D=Z.length,Q=nativeMax$3(U-J,0),ee=Array(D+Q),q=!W;++Y<D;)ee[Y]=Z[Y];for(;++F<J;)(q||F<U)&&(ee[G[F]]=X[F]);for(;Q--;)ee[Y++]=X[F++];return ee}var nativeMax$2=Math.max;function composeArgsRight(X,Z,G,W){for(var F=-1,U=X.length,J=-1,Y=G.length,D=-1,Q=Z.length,ee=nativeMax$2(U-Y,0),q=Array(ee+Q),te=!W;++F<ee;)q[F]=X[F];for(var ie=F;++D<Q;)q[ie+D]=Z[D];for(;++J<Y;)(te||F<U)&&(q[ie+G[J]]=X[F++]);return q}function countHolders(X,Z){for(var G=X.length,W=0;G--;)X[G]===Z&&++W;return W}function baseLodash(){}var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(X){this.__wrapped__=X,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}LazyWrapper.prototype=baseCreate$1(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function noop$2(){}var getData=metaMap$1?function(X){return metaMap$1.get(X)}:noop$2;const getData$1=getData;var realNames={};const realNames$1=realNames;var objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function getFuncName(X){for(var Z=X.name+"",G=realNames$1[Z],W=hasOwnProperty$2.call(realNames$1,Z)?G.length:0;W--;){var F=G[W],U=F.func;if(U==null||U==X)return F.name}return Z}function LodashWrapper(X,Z){this.__wrapped__=X,this.__actions__=[],this.__chain__=!!Z,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=baseCreate$1(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function copyArray(X,Z){var G=-1,W=X.length;for(Z||(Z=Array(W));++G<W;)Z[G]=X[G];return Z}function wrapperClone(X){if(X instanceof LazyWrapper)return X.clone();var Z=new LodashWrapper(X.__wrapped__,X.__chain__);return Z.__actions__=copyArray(X.__actions__),Z.__index__=X.__index__,Z.__values__=X.__values__,Z}var objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function lodash(X){if(isObjectLike(X)&&!isArray$1(X)&&!(X instanceof LazyWrapper)){if(X instanceof LodashWrapper)return X;if(hasOwnProperty$1.call(X,"__wrapped__"))return wrapperClone(X)}return new LodashWrapper(X)}lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;function isLaziable(X){var Z=getFuncName(X),G=lodash[Z];if(typeof G!="function"||!(Z in LazyWrapper.prototype))return!1;if(X===G)return!0;var W=getData$1(G);return!!W&&X===W[0]}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(X){var Z=0,G=0;return function(){var W=nativeNow(),F=HOT_SPAN-(W-G);if(G=W,F>0){if(++Z>=HOT_COUNT)return arguments[0]}else Z=0;return X.apply(void 0,arguments)}}var setData=shortOut(baseSetData$1);const setData$1=setData;var reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(X){var Z=X.match(reWrapDetails);return Z?Z[1].split(reSplitDetails):[]}var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(X,Z){var G=Z.length;if(!G)return X;var W=G-1;return Z[W]=(G>1?"& ":"")+Z[W],Z=Z.join(G>2?", ":" "),X.replace(reWrapComment,`{
/* [wrapped with `+Z+`] */
`)}function constant$1(X){return function(){return X}}var defineProperty=function(){try{var X=getNative(Object,"defineProperty");return X({},"",{}),X}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(X,Z){return defineProperty$1(X,"toString",{configurable:!0,enumerable:!1,value:constant$1(Z),writable:!0})}:identity$2;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(X,Z){for(var G=-1,W=X==null?0:X.length;++G<W&&Z(X[G],G,X)!==!1;);return X}function baseFindIndex(X,Z,G,W){for(var F=X.length,U=G+(W?1:-1);W?U--:++U<F;)if(Z(X[U],U,X))return U;return-1}function baseIsNaN(X){return X!==X}function strictIndexOf(X,Z,G){for(var W=G-1,F=X.length;++W<F;)if(X[W]===Z)return W;return-1}function baseIndexOf(X,Z,G){return Z===Z?strictIndexOf(X,Z,G):baseFindIndex(X,baseIsNaN,G)}function arrayIncludes(X,Z){var G=X==null?0:X.length;return!!G&&baseIndexOf(X,Z,0)>-1}var WRAP_BIND_FLAG$5=1,WRAP_BIND_KEY_FLAG$4=2,WRAP_CURRY_FLAG$5=8,WRAP_CURRY_RIGHT_FLAG$2=16,WRAP_PARTIAL_FLAG$2=32,WRAP_PARTIAL_RIGHT_FLAG$2=64,WRAP_ARY_FLAG$2=128,WRAP_REARG_FLAG$1=256,WRAP_FLIP_FLAG$1=512,wrapFlags=[["ary",WRAP_ARY_FLAG$2],["bind",WRAP_BIND_FLAG$5],["bindKey",WRAP_BIND_KEY_FLAG$4],["curry",WRAP_CURRY_FLAG$5],["curryRight",WRAP_CURRY_RIGHT_FLAG$2],["flip",WRAP_FLIP_FLAG$1],["partial",WRAP_PARTIAL_FLAG$2],["partialRight",WRAP_PARTIAL_RIGHT_FLAG$2],["rearg",WRAP_REARG_FLAG$1]];function updateWrapDetails(X,Z){return arrayEach(wrapFlags,function(G){var W="_."+G[0];Z&G[1]&&!arrayIncludes(X,W)&&X.push(W)}),X.sort()}function setWrapToString(X,Z,G){var W=Z+"";return setToString$1(X,insertWrapDetails(W,updateWrapDetails(getWrapDetails(W),G)))}var WRAP_BIND_FLAG$4=1,WRAP_BIND_KEY_FLAG$3=2,WRAP_CURRY_BOUND_FLAG$1=4,WRAP_CURRY_FLAG$4=8,WRAP_PARTIAL_FLAG$1=32,WRAP_PARTIAL_RIGHT_FLAG$1=64;function createRecurry(X,Z,G,W,F,U,J,Y,D,Q){var ee=Z&WRAP_CURRY_FLAG$4,q=ee?J:void 0,te=ee?void 0:J,ie=ee?U:void 0,ne=ee?void 0:U;Z|=ee?WRAP_PARTIAL_FLAG$1:WRAP_PARTIAL_RIGHT_FLAG$1,Z&=~(ee?WRAP_PARTIAL_RIGHT_FLAG$1:WRAP_PARTIAL_FLAG$1),Z&WRAP_CURRY_BOUND_FLAG$1||(Z&=~(WRAP_BIND_FLAG$4|WRAP_BIND_KEY_FLAG$3));var ce=[X,Z,F,ie,q,ne,te,Y,D,Q],le=G.apply(void 0,ce);return isLaziable(X)&&setData$1(le,ce),le.placeholder=W,setWrapToString(le,X,Z)}function getHolder(X){var Z=X;return Z.placeholder}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(X,Z){var G=typeof X;return Z=Z??MAX_SAFE_INTEGER,!!Z&&(G=="number"||G!="symbol"&&reIsUint.test(X))&&X>-1&&X%1==0&&X<Z}var nativeMin$2=Math.min;function reorder(X,Z){for(var G=X.length,W=nativeMin$2(Z.length,G),F=copyArray(X);W--;){var U=Z[W];X[W]=isIndex(U,G)?F[U]:void 0}return X}var PLACEHOLDER$1="__lodash_placeholder__";function replaceHolders(X,Z){for(var G=-1,W=X.length,F=0,U=[];++G<W;){var J=X[G];(J===Z||J===PLACEHOLDER$1)&&(X[G]=PLACEHOLDER$1,U[F++]=G)}return U}var WRAP_BIND_FLAG$3=1,WRAP_BIND_KEY_FLAG$2=2,WRAP_CURRY_FLAG$3=8,WRAP_CURRY_RIGHT_FLAG$1=16,WRAP_ARY_FLAG$1=128,WRAP_FLIP_FLAG=512;function createHybrid(X,Z,G,W,F,U,J,Y,D,Q){var ee=Z&WRAP_ARY_FLAG$1,q=Z&WRAP_BIND_FLAG$3,te=Z&WRAP_BIND_KEY_FLAG$2,ie=Z&(WRAP_CURRY_FLAG$3|WRAP_CURRY_RIGHT_FLAG$1),ne=Z&WRAP_FLIP_FLAG,ce=te?void 0:createCtor(X);function le(){for(var se=arguments.length,pe=Array(se),ue=se;ue--;)pe[ue]=arguments[ue];if(ie)var ae=getHolder(le),de=countHolders(pe,ae);if(W&&(pe=composeArgs(pe,W,F,ie)),U&&(pe=composeArgsRight(pe,U,J,ie)),se-=de,ie&&se<Q){var be=replaceHolders(pe,ae);return createRecurry(X,Z,createHybrid,le.placeholder,G,pe,be,Y,D,Q-se)}var he=q?G:this,Le=te?he[X]:X;return se=pe.length,Y?pe=reorder(pe,Y):ne&&se>1&&pe.reverse(),ee&&D<se&&(pe.length=D),this&&this!==root$2&&this instanceof le&&(Le=ce||createCtor(Le)),Le.apply(he,pe)}return le}function createCurry(X,Z,G){var W=createCtor(X);function F(){for(var U=arguments.length,J=Array(U),Y=U,D=getHolder(F);Y--;)J[Y]=arguments[Y];var Q=U<3&&J[0]!==D&&J[U-1]!==D?[]:replaceHolders(J,D);if(U-=Q.length,U<G)return createRecurry(X,Z,createHybrid,F.placeholder,void 0,J,Q,void 0,void 0,G-U);var ee=this&&this!==root$2&&this instanceof F?W:X;return apply(ee,this,J)}return F}var WRAP_BIND_FLAG$2=1;function createPartial(X,Z,G,W){var F=Z&WRAP_BIND_FLAG$2,U=createCtor(X);function J(){for(var Y=-1,D=arguments.length,Q=-1,ee=W.length,q=Array(ee+D),te=this&&this!==root$2&&this instanceof J?U:X;++Q<ee;)q[Q]=W[Q];for(;D--;)q[Q++]=arguments[++Y];return apply(te,F?G:this,q)}return J}var PLACEHOLDER="__lodash_placeholder__",WRAP_BIND_FLAG$1=1,WRAP_BIND_KEY_FLAG$1=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG$2=8,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,nativeMin$1=Math.min;function mergeData(X,Z){var G=X[1],W=Z[1],F=G|W,U=F<(WRAP_BIND_FLAG$1|WRAP_BIND_KEY_FLAG$1|WRAP_ARY_FLAG),J=W==WRAP_ARY_FLAG&&G==WRAP_CURRY_FLAG$2||W==WRAP_ARY_FLAG&&G==WRAP_REARG_FLAG&&X[7].length<=Z[8]||W==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&Z[7].length<=Z[8]&&G==WRAP_CURRY_FLAG$2;if(!(U||J))return X;W&WRAP_BIND_FLAG$1&&(X[2]=Z[2],F|=G&WRAP_BIND_FLAG$1?0:WRAP_CURRY_BOUND_FLAG);var Y=Z[3];if(Y){var D=X[3];X[3]=D?composeArgs(D,Y,Z[4]):Y,X[4]=D?replaceHolders(X[3],PLACEHOLDER):Z[4]}return Y=Z[5],Y&&(D=X[5],X[5]=D?composeArgsRight(D,Y,Z[6]):Y,X[6]=D?replaceHolders(X[5],PLACEHOLDER):Z[6]),Y=Z[7],Y&&(X[7]=Y),W&WRAP_ARY_FLAG&&(X[8]=X[8]==null?Z[8]:nativeMin$1(X[8],Z[8])),X[9]==null&&(X[9]=Z[9]),X[0]=Z[0],X[1]=F,X}var FUNC_ERROR_TEXT$2="Expected a function",WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG$1=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,nativeMax$1=Math.max;function createWrap(X,Z,G,W,F,U,J,Y){var D=Z&WRAP_BIND_KEY_FLAG;if(!D&&typeof X!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var Q=W?W.length:0;if(Q||(Z&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),W=F=void 0),J=J===void 0?J:nativeMax$1(toInteger(J),0),Y=Y===void 0?Y:toInteger(Y),Q-=F?F.length:0,Z&WRAP_PARTIAL_RIGHT_FLAG){var ee=W,q=F;W=F=void 0}var te=D?void 0:getData$1(X),ie=[X,Z,G,W,F,ee,q,U,J,Y];if(te&&mergeData(ie,te),X=ie[0],Z=ie[1],G=ie[2],W=ie[3],F=ie[4],Y=ie[9]=ie[9]===void 0?D?0:X.length:nativeMax$1(ie[9]-Q,0),!Y&&Z&(WRAP_CURRY_FLAG$1|WRAP_CURRY_RIGHT_FLAG)&&(Z&=~(WRAP_CURRY_FLAG$1|WRAP_CURRY_RIGHT_FLAG)),!Z||Z==WRAP_BIND_FLAG)var ne=createBind(X,Z,G);else Z==WRAP_CURRY_FLAG$1||Z==WRAP_CURRY_RIGHT_FLAG?ne=createCurry(X,Z,Y):(Z==WRAP_PARTIAL_FLAG||Z==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!F.length?ne=createPartial(X,Z,G,W):ne=createHybrid.apply(void 0,ie);var ce=te?baseSetData$1:setData$1;return setWrapToString(ce(ne,ie),X,Z)}function toString(X){return X==null?"":baseToString(X)}function baseSlice(X,Z,G){var W=-1,F=X.length;Z<0&&(Z=-Z>F?0:F+Z),G=G>F?F:G,G<0&&(G+=F),F=Z>G?0:G-Z>>>0,Z>>>=0;for(var U=Array(F);++W<F;)U[W]=X[W+Z];return U}function castSlice(X,Z,G){var W=X.length;return G=G===void 0?W:G,!Z&&G>=W?X:baseSlice(X,Z,G)}var rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsVarRange$2="\\ufe0e\\ufe0f",rsZWJ$2="\\u200d",reHasUnicode=RegExp("["+rsZWJ$2+rsAstralRange$2+rsComboRange$3+rsVarRange$2+"]");function hasUnicode(X){return reHasUnicode.test(X)}function asciiToArray(X){return X.split("")}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo$2="["+rsComboRange$2+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol="(?:"+[rsNonAstral$1+rsCombo$2+"?",rsCombo$2,rsRegional$1,rsSurrPair$1,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol+rsSeq$1,"g");function unicodeToArray(X){return X.match(reUnicode)||[]}function stringToArray(X){return hasUnicode(X)?unicodeToArray(X):asciiToArray(X)}function createCaseFirst(X){return function(Z){Z=toString(Z);var G=hasUnicode(Z)?stringToArray(Z):void 0,W=G?G[0]:Z.charAt(0),F=G?castSlice(G,1).join(""):Z.slice(1);return W[X]()+F}}var upperFirst=createCaseFirst("toUpperCase");const upperFirst$1=upperFirst;function capitalize(X){return upperFirst$1(toString(X).toLowerCase())}function arrayReduce(X,Z,G,W){var F=-1,U=X==null?0:X.length;for(W&&U&&(G=X[++F]);++F<U;)G=Z(G,X[F],F,X);return G}function basePropertyOf(X){return function(Z){return X?.[Z]}}var deburredLetters={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},deburrLetter=basePropertyOf(deburredLetters);const deburrLetter$1=deburrLetter;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsCombo$1="["+rsComboRange$1+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(X){return X=toString(X),X&&X.replace(reLatin,deburrLetter$1).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(X){return X.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(X){return reHasUnicodeWord.test(X)}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['’]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(X){return X.match(reUnicodeWord)||[]}function words(X,Z,G){return X=toString(X),Z=G?void 0:Z,Z===void 0?hasUnicodeWord(X)?unicodeWords(X):asciiWords(X):X.match(Z)||[]}var rsApos="['’]",reApos=RegExp(rsApos,"g");function createCompounder(X){return function(Z){return arrayReduce(words(deburr(Z).replace(reApos,"")),X,"")}}var camelCase=createCompounder(function(X,Z,G){return Z=Z.toLowerCase(),X+(G?capitalize(Z):Z)});const camelCase$1=camelCase;var WRAP_CURRY_FLAG=8;function curry(X,Z,G){Z=G?void 0:Z;var W=createWrap(X,WRAP_CURRY_FLAG,void 0,void 0,void 0,void 0,void 0,Z);return W.placeholder=curry.placeholder,W}curry.placeholder={};var now$2=function(){return root$2.Date.now()};const now$3=now$2;var FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(X,Z,G){var W,F,U,J,Y,D,Q=0,ee=!1,q=!1,te=!0;if(typeof X!="function")throw new TypeError(FUNC_ERROR_TEXT$1);Z=toNumber(Z)||0,isObject(G)&&(ee=!!G.leading,q="maxWait"in G,U=q?nativeMax(toNumber(G.maxWait)||0,Z):U,te="trailing"in G?!!G.trailing:te);function ie(be){var he=W,Le=F;return W=F=void 0,Q=be,J=X.apply(Le,he),J}function ne(be){return Q=be,Y=setTimeout(se,Z),ee?ie(be):J}function ce(be){var he=be-D,Le=be-Q,Xe=Z-he;return q?nativeMin(Xe,U-Le):Xe}function le(be){var he=be-D,Le=be-Q;return D===void 0||he>=Z||he<0||q&&Le>=U}function se(){var be=now$3();if(le(be))return pe(be);Y=setTimeout(se,ce(be))}function pe(be){return Y=void 0,te&&W?ie(be):(W=F=void 0,J)}function ue(){Y!==void 0&&clearTimeout(Y),Q=0,W=D=F=Y=void 0}function ae(){return Y===void 0?J:pe(now$3())}function de(){var be=now$3(),he=le(be);if(W=arguments,F=this,D=be,he){if(Y===void 0)return ne(D);if(q)return clearTimeout(Y),Y=setTimeout(se,Z),ie(D)}return Y===void 0&&(Y=setTimeout(se,Z)),J}return de.cancel=ue,de.flush=ae,de}function fromPairs(X){for(var Z=-1,G=X==null?0:X.length,W={};++Z<G;){var F=X[Z];W[F[0]]=F[1]}return W}var kebabCase=createCompounder(function(X,Z,G){return X+(G?"-":"")+Z.toLowerCase()});const kebabCase$1=kebabCase;var FUNC_ERROR_TEXT="Expected a function";function throttle(X,Z,G){var W=!0,F=!0;if(typeof X!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(G)&&(W="leading"in G?!!G.leading:W,F="trailing"in G?!!G.trailing:F),debounce(X,Z,{leading:W,maxWait:Z,trailing:F})}const backend=new MemoryLevel_1,df=new rdfDataFactory.DataFactory,store=new Quadstore({backend,dataFactory:df}),engine$1=new __quadstore_comunica_exports__Engine(store);async function buildGraph(X){console.log("BUILDING GRAPH",X);const{nodes:Z,links:G}=X,F=[...G.map(({source:U,target:J})=>df.quad(df.namedNode(J.id),df.namedNode(DOWNSTREAM_FROM),df.namedNode(U.id),df.defaultGraph()))];console.log("putting entries",F),await store.open(),await store.clear(),await store.multiPut(F),console.log("inserted",F.length,"entries")}const getProps=X=>(async Z=>fromPairs([Z].flat().map(G=>[G,X.get(G)]))).bind(X),doQuery=async(X,Z,G,W)=>{await engine$1.queryBindings(X).then(F=>{Z&&F.on("data",U=>Z(U,proxy(getProps(U)))),G&&F.on("end",U=>G(U,U&&proxy(U.get.bind(U)))),W&&F.on("error",U=>W(U,U&&proxy(U.get.bind(U))))})},db=Object.freeze(Object.defineProperty({__proto__:null,buildGraph,doQuery},Symbol.toStringTag,{value:"Module"}));var rafExports={},raf$1={get exports(){return rafExports},set exports(X){rafExports=X}},performanceNowExports={},performanceNow={get exports(){return performanceNowExports},set exports(X){performanceNowExports=X}};(function(){var X,Z,G,W,F,U;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(X()-F)/1e6},Z=process.hrtime,X=function(){var J;return J=Z(),J[0]*1e9+J[1]},W=X(),U=process.uptime()*1e9,F=W-U):Date.now?(performanceNow.exports=function(){return Date.now()-G},G=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-G},G=new Date().getTime())}).call(commonjsGlobal);var now$1=performanceNowExports,root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix];for(var i$3=0;!raf&&i$3<vendors.length;i$3++)raf=root[vendors[i$3]+"Request"+suffix],caf=root[vendors[i$3]+"Cancel"+suffix]||root[vendors[i$3]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(X){if(queue.length===0){var Z=now$1(),G=Math.max(0,frameDuration-(Z-last));last=G+Z,setTimeout(function(){var W=queue.slice(0);queue.length=0;for(var F=0;F<W.length;F++)if(!W[F].cancelled)try{W[F].callback(last)}catch(U){setTimeout(function(){throw U},0)}},Math.round(G))}return queue.push({handle:++id,callback:X,cancelled:!1}),id},caf=function(X){for(var Z=0;Z<queue.length;Z++)queue[Z].handle===X&&(queue[Z].cancelled=!0)}}raf$1.exports=function(X){return raf.call(root,X)};rafExports.cancel=function(){caf.apply(root,arguments)};rafExports.polyfill=function(X){X||(X=root),X.requestAnimationFrame=raf,X.cancelAnimationFrame=caf};function forceCenter(X,Z,G){var W,F=1;X==null&&(X=0),Z==null&&(Z=0),G==null&&(G=0);function U(){var J,Y=W.length,D,Q=0,ee=0,q=0;for(J=0;J<Y;++J)D=W[J],Q+=D.x||0,ee+=D.y||0,q+=D.z||0;for(Q=(Q/Y-X)*F,ee=(ee/Y-Z)*F,q=(q/Y-G)*F,J=0;J<Y;++J)D=W[J],Q&&(D.x-=Q),ee&&(D.y-=ee),q&&(D.z-=q)}return U.initialize=function(J){W=J},U.x=function(J){return arguments.length?(X=+J,U):X},U.y=function(J){return arguments.length?(Z=+J,U):Z},U.z=function(J){return arguments.length?(G=+J,U):G},U.strength=function(J){return arguments.length?(F=+J,U):F},U}function tree_add$2(X){const Z=+this._x.call(null,X);return add$3(this.cover(Z),Z,X)}function add$3(X,Z,G){if(isNaN(Z))return X;var W,F=X._root,U={data:G},J=X._x0,Y=X._x1,D,Q,ee,q,te;if(!F)return X._root=U,X;for(;F.length;)if((ee=Z>=(D=(J+Y)/2))?J=D:Y=D,W=F,!(F=F[q=+ee]))return W[q]=U,X;if(Q=+X._x.call(null,F.data),Z===Q)return U.next=F,W?W[q]=U:X._root=U,X;do W=W?W[q]=new Array(2):X._root=new Array(2),(ee=Z>=(D=(J+Y)/2))?J=D:Y=D;while((q=+ee)==(te=+(Q>=D)));return W[te]=F,W[q]=U,X}function addAll$2(X){Array.isArray(X)||(X=Array.from(X));const Z=X.length,G=new Float64Array(Z);let W=1/0,F=-1/0;for(let U=0,J;U<Z;++U)isNaN(J=+this._x.call(null,X[U]))||(G[U]=J,J<W&&(W=J),J>F&&(F=J));if(W>F)return this;this.cover(W).cover(F);for(let U=0;U<Z;++U)add$3(this,G[U],X[U]);return this}function tree_cover$2(X){if(isNaN(X=+X))return this;var Z=this._x0,G=this._x1;if(isNaN(Z))G=(Z=Math.floor(X))+1;else{for(var W=G-Z||1,F=this._root,U,J;Z>X||X>=G;)switch(J=+(X<Z),U=new Array(2),U[J]=F,F=U,W*=2,J){case 0:G=Z+W;break;case 1:Z=G-W;break}this._root&&this._root.length&&(this._root=F)}return this._x0=Z,this._x1=G,this}function tree_data$2(){var X=[];return this.visit(function(Z){if(!Z.length)do X.push(Z.data);while(Z=Z.next)}),X}function tree_extent$2(X){return arguments.length?this.cover(+X[0][0]).cover(+X[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Half(X,Z,G){this.node=X,this.x0=Z,this.x1=G}function tree_find$2(X,Z){var G,W=this._x0,F,U,J=this._x1,Y=[],D=this._root,Q,ee;for(D&&Y.push(new Half(D,W,J)),Z==null?Z=1/0:(W=X-Z,J=X+Z);Q=Y.pop();)if(!(!(D=Q.node)||(F=Q.x0)>J||(U=Q.x1)<W))if(D.length){var q=(F+U)/2;Y.push(new Half(D[1],q,U),new Half(D[0],F,q)),(ee=+(X>=q))&&(Q=Y[Y.length-1],Y[Y.length-1]=Y[Y.length-1-ee],Y[Y.length-1-ee]=Q)}else{var te=Math.abs(X-+this._x.call(null,D.data));te<Z&&(Z=te,W=X-te,J=X+te,G=D.data)}return G}function tree_remove$2(X){if(isNaN(D=+this._x.call(null,X)))return this;var Z,G=this._root,W,F,U,J=this._x0,Y=this._x1,D,Q,ee,q,te;if(!G)return this;if(G.length)for(;;){if((ee=D>=(Q=(J+Y)/2))?J=Q:Y=Q,Z=G,!(G=G[q=+ee]))return this;if(!G.length)break;Z[q+1&1]&&(W=Z,te=q)}for(;G.data!==X;)if(F=G,!(G=G.next))return this;return(U=G.next)&&delete G.next,F?(U?F.next=U:delete F.next,this):Z?(U?Z[q]=U:delete Z[q],(G=Z[0]||Z[1])&&G===(Z[1]||Z[0])&&!G.length&&(W?W[te]=G:this._root=G),this):(this._root=U,this)}function removeAll$2(X){for(var Z=0,G=X.length;Z<G;++Z)this.remove(X[Z]);return this}function tree_root$2(){return this._root}function tree_size$2(){var X=0;return this.visit(function(Z){if(!Z.length)do++X;while(Z=Z.next)}),X}function tree_visit$2(X){var Z=[],G,W=this._root,F,U,J;for(W&&Z.push(new Half(W,this._x0,this._x1));G=Z.pop();)if(!X(W=G.node,U=G.x0,J=G.x1)&&W.length){var Y=(U+J)/2;(F=W[1])&&Z.push(new Half(F,Y,J)),(F=W[0])&&Z.push(new Half(F,U,Y))}return this}function tree_visitAfter$2(X){var Z=[],G=[],W;for(this._root&&Z.push(new Half(this._root,this._x0,this._x1));W=Z.pop();){var F=W.node;if(F.length){var U,J=W.x0,Y=W.x1,D=(J+Y)/2;(U=F[0])&&Z.push(new Half(U,J,D)),(U=F[1])&&Z.push(new Half(U,D,Y))}G.push(W)}for(;W=G.pop();)X(W.node,W.x0,W.x1);return this}function defaultX$2(X){return X[0]}function tree_x$2(X){return arguments.length?(this._x=X,this):this._x}function binarytree(X,Z){var G=new Binarytree(Z??defaultX$2,NaN,NaN);return X==null?G:G.addAll(X)}function Binarytree(X,Z,G){this._x=X,this._x0=Z,this._x1=G,this._root=void 0}function leaf_copy$2(X){for(var Z={data:X.data},G=Z;X=X.next;)G=G.next={data:X.data};return Z}var treeProto$2=binarytree.prototype=Binarytree.prototype;treeProto$2.copy=function(){var X=new Binarytree(this._x,this._x0,this._x1),Z=this._root,G,W;if(!Z)return X;if(!Z.length)return X._root=leaf_copy$2(Z),X;for(G=[{source:Z,target:X._root=new Array(2)}];Z=G.pop();)for(var F=0;F<2;++F)(W=Z.source[F])&&(W.length?G.push({source:W,target:Z.target[F]=new Array(2)}):Z.target[F]=leaf_copy$2(W));return X};treeProto$2.add=tree_add$2;treeProto$2.addAll=addAll$2;treeProto$2.cover=tree_cover$2;treeProto$2.data=tree_data$2;treeProto$2.extent=tree_extent$2;treeProto$2.find=tree_find$2;treeProto$2.remove=tree_remove$2;treeProto$2.removeAll=removeAll$2;treeProto$2.root=tree_root$2;treeProto$2.size=tree_size$2;treeProto$2.visit=tree_visit$2;treeProto$2.visitAfter=tree_visitAfter$2;treeProto$2.x=tree_x$2;function tree_add$1(X){const Z=+this._x.call(null,X),G=+this._y.call(null,X);return add$2(this.cover(Z,G),Z,G,X)}function add$2(X,Z,G,W){if(isNaN(Z)||isNaN(G))return X;var F,U=X._root,J={data:W},Y=X._x0,D=X._y0,Q=X._x1,ee=X._y1,q,te,ie,ne,ce,le,se,pe;if(!U)return X._root=J,X;for(;U.length;)if((ce=Z>=(q=(Y+Q)/2))?Y=q:Q=q,(le=G>=(te=(D+ee)/2))?D=te:ee=te,F=U,!(U=U[se=le<<1|ce]))return F[se]=J,X;if(ie=+X._x.call(null,U.data),ne=+X._y.call(null,U.data),Z===ie&&G===ne)return J.next=U,F?F[se]=J:X._root=J,X;do F=F?F[se]=new Array(4):X._root=new Array(4),(ce=Z>=(q=(Y+Q)/2))?Y=q:Q=q,(le=G>=(te=(D+ee)/2))?D=te:ee=te;while((se=le<<1|ce)===(pe=(ne>=te)<<1|ie>=q));return F[pe]=U,F[se]=J,X}function addAll$1(X){var Z,G,W=X.length,F,U,J=new Array(W),Y=new Array(W),D=1/0,Q=1/0,ee=-1/0,q=-1/0;for(G=0;G<W;++G)isNaN(F=+this._x.call(null,Z=X[G]))||isNaN(U=+this._y.call(null,Z))||(J[G]=F,Y[G]=U,F<D&&(D=F),F>ee&&(ee=F),U<Q&&(Q=U),U>q&&(q=U));if(D>ee||Q>q)return this;for(this.cover(D,Q).cover(ee,q),G=0;G<W;++G)add$2(this,J[G],Y[G],X[G]);return this}function tree_cover$1(X,Z){if(isNaN(X=+X)||isNaN(Z=+Z))return this;var G=this._x0,W=this._y0,F=this._x1,U=this._y1;if(isNaN(G))F=(G=Math.floor(X))+1,U=(W=Math.floor(Z))+1;else{for(var J=F-G||1,Y=this._root,D,Q;G>X||X>=F||W>Z||Z>=U;)switch(Q=(Z<W)<<1|X<G,D=new Array(4),D[Q]=Y,Y=D,J*=2,Q){case 0:F=G+J,U=W+J;break;case 1:G=F-J,U=W+J;break;case 2:F=G+J,W=U-J;break;case 3:G=F-J,W=U-J;break}this._root&&this._root.length&&(this._root=Y)}return this._x0=G,this._y0=W,this._x1=F,this._y1=U,this}function tree_data$1(){var X=[];return this.visit(function(Z){if(!Z.length)do X.push(Z.data);while(Z=Z.next)}),X}function tree_extent$1(X){return arguments.length?this.cover(+X[0][0],+X[0][1]).cover(+X[1][0],+X[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(X,Z,G,W,F){this.node=X,this.x0=Z,this.y0=G,this.x1=W,this.y1=F}function tree_find$1(X,Z,G){var W,F=this._x0,U=this._y0,J,Y,D,Q,ee=this._x1,q=this._y1,te=[],ie=this._root,ne,ce;for(ie&&te.push(new Quad(ie,F,U,ee,q)),G==null?G=1/0:(F=X-G,U=Z-G,ee=X+G,q=Z+G,G*=G);ne=te.pop();)if(!(!(ie=ne.node)||(J=ne.x0)>ee||(Y=ne.y0)>q||(D=ne.x1)<F||(Q=ne.y1)<U))if(ie.length){var le=(J+D)/2,se=(Y+Q)/2;te.push(new Quad(ie[3],le,se,D,Q),new Quad(ie[2],J,se,le,Q),new Quad(ie[1],le,Y,D,se),new Quad(ie[0],J,Y,le,se)),(ce=(Z>=se)<<1|X>=le)&&(ne=te[te.length-1],te[te.length-1]=te[te.length-1-ce],te[te.length-1-ce]=ne)}else{var pe=X-+this._x.call(null,ie.data),ue=Z-+this._y.call(null,ie.data),ae=pe*pe+ue*ue;if(ae<G){var de=Math.sqrt(G=ae);F=X-de,U=Z-de,ee=X+de,q=Z+de,W=ie.data}}return W}function tree_remove$1(X){if(isNaN(ee=+this._x.call(null,X))||isNaN(q=+this._y.call(null,X)))return this;var Z,G=this._root,W,F,U,J=this._x0,Y=this._y0,D=this._x1,Q=this._y1,ee,q,te,ie,ne,ce,le,se;if(!G)return this;if(G.length)for(;;){if((ne=ee>=(te=(J+D)/2))?J=te:D=te,(ce=q>=(ie=(Y+Q)/2))?Y=ie:Q=ie,Z=G,!(G=G[le=ce<<1|ne]))return this;if(!G.length)break;(Z[le+1&3]||Z[le+2&3]||Z[le+3&3])&&(W=Z,se=le)}for(;G.data!==X;)if(F=G,!(G=G.next))return this;return(U=G.next)&&delete G.next,F?(U?F.next=U:delete F.next,this):Z?(U?Z[le]=U:delete Z[le],(G=Z[0]||Z[1]||Z[2]||Z[3])&&G===(Z[3]||Z[2]||Z[1]||Z[0])&&!G.length&&(W?W[se]=G:this._root=G),this):(this._root=U,this)}function removeAll$1(X){for(var Z=0,G=X.length;Z<G;++Z)this.remove(X[Z]);return this}function tree_root$1(){return this._root}function tree_size$1(){var X=0;return this.visit(function(Z){if(!Z.length)do++X;while(Z=Z.next)}),X}function tree_visit$1(X){var Z=[],G,W=this._root,F,U,J,Y,D;for(W&&Z.push(new Quad(W,this._x0,this._y0,this._x1,this._y1));G=Z.pop();)if(!X(W=G.node,U=G.x0,J=G.y0,Y=G.x1,D=G.y1)&&W.length){var Q=(U+Y)/2,ee=(J+D)/2;(F=W[3])&&Z.push(new Quad(F,Q,ee,Y,D)),(F=W[2])&&Z.push(new Quad(F,U,ee,Q,D)),(F=W[1])&&Z.push(new Quad(F,Q,J,Y,ee)),(F=W[0])&&Z.push(new Quad(F,U,J,Q,ee))}return this}function tree_visitAfter$1(X){var Z=[],G=[],W;for(this._root&&Z.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));W=Z.pop();){var F=W.node;if(F.length){var U,J=W.x0,Y=W.y0,D=W.x1,Q=W.y1,ee=(J+D)/2,q=(Y+Q)/2;(U=F[0])&&Z.push(new Quad(U,J,Y,ee,q)),(U=F[1])&&Z.push(new Quad(U,ee,Y,D,q)),(U=F[2])&&Z.push(new Quad(U,J,q,ee,Q)),(U=F[3])&&Z.push(new Quad(U,ee,q,D,Q))}G.push(W)}for(;W=G.pop();)X(W.node,W.x0,W.y0,W.x1,W.y1);return this}function defaultX$1(X){return X[0]}function tree_x$1(X){return arguments.length?(this._x=X,this):this._x}function defaultY$1(X){return X[1]}function tree_y$1(X){return arguments.length?(this._y=X,this):this._y}function quadtree(X,Z,G){var W=new Quadtree(Z??defaultX$1,G??defaultY$1,NaN,NaN,NaN,NaN);return X==null?W:W.addAll(X)}function Quadtree(X,Z,G,W,F,U){this._x=X,this._y=Z,this._x0=G,this._y0=W,this._x1=F,this._y1=U,this._root=void 0}function leaf_copy$1(X){for(var Z={data:X.data},G=Z;X=X.next;)G=G.next={data:X.data};return Z}var treeProto$1=quadtree.prototype=Quadtree.prototype;treeProto$1.copy=function(){var X=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Z=this._root,G,W;if(!Z)return X;if(!Z.length)return X._root=leaf_copy$1(Z),X;for(G=[{source:Z,target:X._root=new Array(4)}];Z=G.pop();)for(var F=0;F<4;++F)(W=Z.source[F])&&(W.length?G.push({source:W,target:Z.target[F]=new Array(4)}):Z.target[F]=leaf_copy$1(W));return X};treeProto$1.add=tree_add$1;treeProto$1.addAll=addAll$1;treeProto$1.cover=tree_cover$1;treeProto$1.data=tree_data$1;treeProto$1.extent=tree_extent$1;treeProto$1.find=tree_find$1;treeProto$1.remove=tree_remove$1;treeProto$1.removeAll=removeAll$1;treeProto$1.root=tree_root$1;treeProto$1.size=tree_size$1;treeProto$1.visit=tree_visit$1;treeProto$1.visitAfter=tree_visitAfter$1;treeProto$1.x=tree_x$1;treeProto$1.y=tree_y$1;function tree_add(X){const Z=+this._x.call(null,X),G=+this._y.call(null,X),W=+this._z.call(null,X);return add$1(this.cover(Z,G,W),Z,G,W,X)}function add$1(X,Z,G,W,F){if(isNaN(Z)||isNaN(G)||isNaN(W))return X;var U,J=X._root,Y={data:F},D=X._x0,Q=X._y0,ee=X._z0,q=X._x1,te=X._y1,ie=X._z1,ne,ce,le,se,pe,ue,ae,de,be,he,Le;if(!J)return X._root=Y,X;for(;J.length;)if((ae=Z>=(ne=(D+q)/2))?D=ne:q=ne,(de=G>=(ce=(Q+te)/2))?Q=ce:te=ce,(be=W>=(le=(ee+ie)/2))?ee=le:ie=le,U=J,!(J=J[he=be<<2|de<<1|ae]))return U[he]=Y,X;if(se=+X._x.call(null,J.data),pe=+X._y.call(null,J.data),ue=+X._z.call(null,J.data),Z===se&&G===pe&&W===ue)return Y.next=J,U?U[he]=Y:X._root=Y,X;do U=U?U[he]=new Array(8):X._root=new Array(8),(ae=Z>=(ne=(D+q)/2))?D=ne:q=ne,(de=G>=(ce=(Q+te)/2))?Q=ce:te=ce,(be=W>=(le=(ee+ie)/2))?ee=le:ie=le;while((he=be<<2|de<<1|ae)===(Le=(ue>=le)<<2|(pe>=ce)<<1|se>=ne));return U[Le]=J,U[he]=Y,X}function addAll(X){Array.isArray(X)||(X=Array.from(X));const Z=X.length,G=new Float64Array(Z),W=new Float64Array(Z),F=new Float64Array(Z);let U=1/0,J=1/0,Y=1/0,D=-1/0,Q=-1/0,ee=-1/0;for(let q=0,te,ie,ne,ce;q<Z;++q)isNaN(ie=+this._x.call(null,te=X[q]))||isNaN(ne=+this._y.call(null,te))||isNaN(ce=+this._z.call(null,te))||(G[q]=ie,W[q]=ne,F[q]=ce,ie<U&&(U=ie),ie>D&&(D=ie),ne<J&&(J=ne),ne>Q&&(Q=ne),ce<Y&&(Y=ce),ce>ee&&(ee=ce));if(U>D||J>Q||Y>ee)return this;this.cover(U,J,Y).cover(D,Q,ee);for(let q=0;q<Z;++q)add$1(this,G[q],W[q],F[q],X[q]);return this}function tree_cover(X,Z,G){if(isNaN(X=+X)||isNaN(Z=+Z)||isNaN(G=+G))return this;var W=this._x0,F=this._y0,U=this._z0,J=this._x1,Y=this._y1,D=this._z1;if(isNaN(W))J=(W=Math.floor(X))+1,Y=(F=Math.floor(Z))+1,D=(U=Math.floor(G))+1;else{for(var Q=J-W||1,ee=this._root,q,te;W>X||X>=J||F>Z||Z>=Y||U>G||G>=D;)switch(te=(G<U)<<2|(Z<F)<<1|X<W,q=new Array(8),q[te]=ee,ee=q,Q*=2,te){case 0:J=W+Q,Y=F+Q,D=U+Q;break;case 1:W=J-Q,Y=F+Q,D=U+Q;break;case 2:J=W+Q,F=Y-Q,D=U+Q;break;case 3:W=J-Q,F=Y-Q,D=U+Q;break;case 4:J=W+Q,Y=F+Q,U=D-Q;break;case 5:W=J-Q,Y=F+Q,U=D-Q;break;case 6:J=W+Q,F=Y-Q,U=D-Q;break;case 7:W=J-Q,F=Y-Q,U=D-Q;break}this._root&&this._root.length&&(this._root=ee)}return this._x0=W,this._y0=F,this._z0=U,this._x1=J,this._y1=Y,this._z1=D,this}function tree_data(){var X=[];return this.visit(function(Z){if(!Z.length)do X.push(Z.data);while(Z=Z.next)}),X}function tree_extent(X){return arguments.length?this.cover(+X[0][0],+X[0][1],+X[0][2]).cover(+X[1][0],+X[1][1],+X[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Octant(X,Z,G,W,F,U,J){this.node=X,this.x0=Z,this.y0=G,this.z0=W,this.x1=F,this.y1=U,this.z1=J}function tree_find(X,Z,G,W){var F,U=this._x0,J=this._y0,Y=this._z0,D,Q,ee,q,te,ie,ne=this._x1,ce=this._y1,le=this._z1,se=[],pe=this._root,ue,ae;for(pe&&se.push(new Octant(pe,U,J,Y,ne,ce,le)),W==null?W=1/0:(U=X-W,J=Z-W,Y=G-W,ne=X+W,ce=Z+W,le=G+W,W*=W);ue=se.pop();)if(!(!(pe=ue.node)||(D=ue.x0)>ne||(Q=ue.y0)>ce||(ee=ue.z0)>le||(q=ue.x1)<U||(te=ue.y1)<J||(ie=ue.z1)<Y))if(pe.length){var de=(D+q)/2,be=(Q+te)/2,he=(ee+ie)/2;se.push(new Octant(pe[7],de,be,he,q,te,ie),new Octant(pe[6],D,be,he,de,te,ie),new Octant(pe[5],de,Q,he,q,be,ie),new Octant(pe[4],D,Q,he,de,be,ie),new Octant(pe[3],de,be,ee,q,te,he),new Octant(pe[2],D,be,ee,de,te,he),new Octant(pe[1],de,Q,ee,q,be,he),new Octant(pe[0],D,Q,ee,de,be,he)),(ae=(G>=he)<<2|(Z>=be)<<1|X>=de)&&(ue=se[se.length-1],se[se.length-1]=se[se.length-1-ae],se[se.length-1-ae]=ue)}else{var Le=X-+this._x.call(null,pe.data),Xe=Z-+this._y.call(null,pe.data),We=G-+this._z.call(null,pe.data),fe=Le*Le+Xe*Xe+We*We;if(fe<W){var Re=Math.sqrt(W=fe);U=X-Re,J=Z-Re,Y=G-Re,ne=X+Re,ce=Z+Re,le=G+Re,F=pe.data}}return F}function tree_remove(X){if(isNaN(te=+this._x.call(null,X))||isNaN(ie=+this._y.call(null,X))||isNaN(ne=+this._z.call(null,X)))return this;var Z,G=this._root,W,F,U,J=this._x0,Y=this._y0,D=this._z0,Q=this._x1,ee=this._y1,q=this._z1,te,ie,ne,ce,le,se,pe,ue,ae,de,be;if(!G)return this;if(G.length)for(;;){if((pe=te>=(ce=(J+Q)/2))?J=ce:Q=ce,(ue=ie>=(le=(Y+ee)/2))?Y=le:ee=le,(ae=ne>=(se=(D+q)/2))?D=se:q=se,Z=G,!(G=G[de=ae<<2|ue<<1|pe]))return this;if(!G.length)break;(Z[de+1&7]||Z[de+2&7]||Z[de+3&7]||Z[de+4&7]||Z[de+5&7]||Z[de+6&7]||Z[de+7&7])&&(W=Z,be=de)}for(;G.data!==X;)if(F=G,!(G=G.next))return this;return(U=G.next)&&delete G.next,F?(U?F.next=U:delete F.next,this):Z?(U?Z[de]=U:delete Z[de],(G=Z[0]||Z[1]||Z[2]||Z[3]||Z[4]||Z[5]||Z[6]||Z[7])&&G===(Z[7]||Z[6]||Z[5]||Z[4]||Z[3]||Z[2]||Z[1]||Z[0])&&!G.length&&(W?W[be]=G:this._root=G),this):(this._root=U,this)}function removeAll(X){for(var Z=0,G=X.length;Z<G;++Z)this.remove(X[Z]);return this}function tree_root(){return this._root}function tree_size(){var X=0;return this.visit(function(Z){if(!Z.length)do++X;while(Z=Z.next)}),X}function tree_visit(X){var Z=[],G,W=this._root,F,U,J,Y,D,Q,ee;for(W&&Z.push(new Octant(W,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));G=Z.pop();)if(!X(W=G.node,U=G.x0,J=G.y0,Y=G.z0,D=G.x1,Q=G.y1,ee=G.z1)&&W.length){var q=(U+D)/2,te=(J+Q)/2,ie=(Y+ee)/2;(F=W[7])&&Z.push(new Octant(F,q,te,ie,D,Q,ee)),(F=W[6])&&Z.push(new Octant(F,U,te,ie,q,Q,ee)),(F=W[5])&&Z.push(new Octant(F,q,J,ie,D,te,ee)),(F=W[4])&&Z.push(new Octant(F,U,J,ie,q,te,ee)),(F=W[3])&&Z.push(new Octant(F,q,te,Y,D,Q,ie)),(F=W[2])&&Z.push(new Octant(F,U,te,Y,q,Q,ie)),(F=W[1])&&Z.push(new Octant(F,q,J,Y,D,te,ie)),(F=W[0])&&Z.push(new Octant(F,U,J,Y,q,te,ie))}return this}function tree_visitAfter(X){var Z=[],G=[],W;for(this._root&&Z.push(new Octant(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));W=Z.pop();){var F=W.node;if(F.length){var U,J=W.x0,Y=W.y0,D=W.z0,Q=W.x1,ee=W.y1,q=W.z1,te=(J+Q)/2,ie=(Y+ee)/2,ne=(D+q)/2;(U=F[0])&&Z.push(new Octant(U,J,Y,D,te,ie,ne)),(U=F[1])&&Z.push(new Octant(U,te,Y,D,Q,ie,ne)),(U=F[2])&&Z.push(new Octant(U,J,ie,D,te,ee,ne)),(U=F[3])&&Z.push(new Octant(U,te,ie,D,Q,ee,ne)),(U=F[4])&&Z.push(new Octant(U,J,Y,ne,te,ie,q)),(U=F[5])&&Z.push(new Octant(U,te,Y,ne,Q,ie,q)),(U=F[6])&&Z.push(new Octant(U,J,ie,ne,te,ee,q)),(U=F[7])&&Z.push(new Octant(U,te,ie,ne,Q,ee,q))}G.push(W)}for(;W=G.pop();)X(W.node,W.x0,W.y0,W.z0,W.x1,W.y1,W.z1);return this}function defaultX(X){return X[0]}function tree_x(X){return arguments.length?(this._x=X,this):this._x}function defaultY(X){return X[1]}function tree_y(X){return arguments.length?(this._y=X,this):this._y}function defaultZ(X){return X[2]}function tree_z(X){return arguments.length?(this._z=X,this):this._z}function octree(X,Z,G,W){var F=new Octree(Z??defaultX,G??defaultY,W??defaultZ,NaN,NaN,NaN,NaN,NaN,NaN);return X==null?F:F.addAll(X)}function Octree(X,Z,G,W,F,U,J,Y,D){this._x=X,this._y=Z,this._z=G,this._x0=W,this._y0=F,this._z0=U,this._x1=J,this._y1=Y,this._z1=D,this._root=void 0}function leaf_copy(X){for(var Z={data:X.data},G=Z;X=X.next;)G=G.next={data:X.data};return Z}var treeProto=octree.prototype=Octree.prototype;treeProto.copy=function(){var X=new Octree(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),Z=this._root,G,W;if(!Z)return X;if(!Z.length)return X._root=leaf_copy(Z),X;for(G=[{source:Z,target:X._root=new Array(8)}];Z=G.pop();)for(var F=0;F<8;++F)(W=Z.source[F])&&(W.length?G.push({source:W,target:Z.target[F]=new Array(8)}):Z.target[F]=leaf_copy(W));return X};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;treeProto.z=tree_z;function constant(X){return function(){return X}}function jiggle(X){return(X()-.5)*1e-6}function index(X){return X.index}function find(X,Z){var G=X.get(Z);if(!G)throw new Error("node not found: "+Z);return G}function forceLink(X){var Z=index,G=te,W,F=constant(30),U,J,Y,D,Q,ee,q=1;X==null&&(X=[]);function te(se){return 1/Math.min(D[se.source.index],D[se.target.index])}function ie(se){for(var pe=0,ue=X.length;pe<q;++pe)for(var ae=0,de,be,he,Le=0,Xe=0,We=0,fe,Re;ae<ue;++ae)de=X[ae],be=de.source,he=de.target,Le=he.x+he.vx-be.x-be.vx||jiggle(ee),Y>1&&(Xe=he.y+he.vy-be.y-be.vy||jiggle(ee)),Y>2&&(We=he.z+he.vz-be.z-be.vz||jiggle(ee)),fe=Math.sqrt(Le*Le+Xe*Xe+We*We),fe=(fe-U[ae])/fe*se*W[ae],Le*=fe,Xe*=fe,We*=fe,he.vx-=Le*(Re=Q[ae]),Y>1&&(he.vy-=Xe*Re),Y>2&&(he.vz-=We*Re),be.vx+=Le*(Re=1-Re),Y>1&&(be.vy+=Xe*Re),Y>2&&(be.vz+=We*Re)}function ne(){if(J){var se,pe=J.length,ue=X.length,ae=new Map(J.map((be,he)=>[Z(be,he,J),be])),de;for(se=0,D=new Array(pe);se<ue;++se)de=X[se],de.index=se,typeof de.source!="object"&&(de.source=find(ae,de.source)),typeof de.target!="object"&&(de.target=find(ae,de.target)),D[de.source.index]=(D[de.source.index]||0)+1,D[de.target.index]=(D[de.target.index]||0)+1;for(se=0,Q=new Array(ue);se<ue;++se)de=X[se],Q[se]=D[de.source.index]/(D[de.source.index]+D[de.target.index]);W=new Array(ue),ce(),U=new Array(ue),le()}}function ce(){if(J)for(var se=0,pe=X.length;se<pe;++se)W[se]=+G(X[se],se,X)}function le(){if(J)for(var se=0,pe=X.length;se<pe;++se)U[se]=+F(X[se],se,X)}return ie.initialize=function(se,...pe){J=se,ee=pe.find(ue=>typeof ue=="function")||Math.random,Y=pe.find(ue=>[1,2,3].includes(ue))||2,ne()},ie.links=function(se){return arguments.length?(X=se,ne(),ie):X},ie.id=function(se){return arguments.length?(Z=se,ie):Z},ie.iterations=function(se){return arguments.length?(q=+se,ie):q},ie.strength=function(se){return arguments.length?(G=typeof se=="function"?se:constant(+se),ce(),ie):G},ie.distance=function(se){return arguments.length?(F=typeof se=="function"?se:constant(+se),le(),ie):F},ie}var noop$1={value:()=>{}};function dispatch(){for(var X=0,Z=arguments.length,G={},W;X<Z;++X){if(!(W=arguments[X]+"")||W in G||/[\s.]/.test(W))throw new Error("illegal type: "+W);G[W]=[]}return new Dispatch(G)}function Dispatch(X){this._=X}function parseTypenames(X,Z){return X.trim().split(/^|\s+/).map(function(G){var W="",F=G.indexOf(".");if(F>=0&&(W=G.slice(F+1),G=G.slice(0,F)),G&&!Z.hasOwnProperty(G))throw new Error("unknown type: "+G);return{type:G,name:W}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(X,Z){var G=this._,W=parseTypenames(X+"",G),F,U=-1,J=W.length;if(arguments.length<2){for(;++U<J;)if((F=(X=W[U]).type)&&(F=get(G[F],X.name)))return F;return}if(Z!=null&&typeof Z!="function")throw new Error("invalid callback: "+Z);for(;++U<J;)if(F=(X=W[U]).type)G[F]=set(G[F],X.name,Z);else if(Z==null)for(F in G)G[F]=set(G[F],X.name,null);return this},copy:function(){var X={},Z=this._;for(var G in Z)X[G]=Z[G].slice();return new Dispatch(X)},call:function(X,Z){if((F=arguments.length-2)>0)for(var G=new Array(F),W=0,F,U;W<F;++W)G[W]=arguments[W+2];if(!this._.hasOwnProperty(X))throw new Error("unknown type: "+X);for(U=this._[X],W=0,F=U.length;W<F;++W)U[W].value.apply(Z,G)},apply:function(X,Z,G){if(!this._.hasOwnProperty(X))throw new Error("unknown type: "+X);for(var W=this._[X],F=0,U=W.length;F<U;++F)W[F].value.apply(Z,G)}};function get(X,Z){for(var G=0,W=X.length,F;G<W;++G)if((F=X[G]).name===Z)return F.value}function set(X,Z,G){for(var W=0,F=X.length;W<F;++W)if(X[W].name===Z){X[W]=noop$1,X=X.slice(0,W).concat(X.slice(W+1));break}return G!=null&&X.push({name:Z,value:G}),X}var frame=0,timeout=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(X){setTimeout(X,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(X,Z,G){if(typeof X!="function")throw new TypeError("callback is not a function");G=(G==null?now():+G)+(Z==null?0:+Z),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=X,this._time=G,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(X,Z,G){var W=new Timer;return W.restart(X,Z,G),W}function timerFlush(){now(),++frame;for(var X=taskHead,Z;X;)(Z=clockNow-X._time)>=0&&X._call.call(void 0,Z),X=X._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var X=clock.now(),Z=X-clockLast;Z>pokeDelay&&(clockSkew-=Z,clockLast=X)}function nap(){for(var X,Z=taskHead,G,W=1/0;Z;)Z._call?(W>Z._time&&(W=Z._time),X=Z,Z=Z._next):(G=Z._next,Z._next=null,Z=X?X._next=G:taskHead=G);taskTail=X,sleep(W)}function sleep(X){if(!frame){timeout&&(timeout=clearTimeout(timeout));var Z=X-clockNow;Z>24?(X<1/0&&(timeout=setTimeout(wake,X-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}const a$2=1664525,c$2=1013904223,m$3=4294967296;function lcg(){let X=1;return()=>(X=(a$2*X+c$2)%m$3)/m$3}var MAX_DIMENSIONS=3;function x$3(X){return X.x}function y$3(X){return X.y}function z$1(X){return X.z}var initialRadius=10,initialAngleRoll=Math.PI*(3-Math.sqrt(5)),initialAngleYaw=Math.PI*20/(9+Math.sqrt(221));function forceSimulation(X,Z){Z=Z||2;var G=Math.min(MAX_DIMENSIONS,Math.max(1,Math.round(Z))),W,F=1,U=.001,J=1-Math.pow(U,1/300),Y=0,D=.6,Q=new Map,ee=timer(ie),q=dispatch("tick","end"),te=lcg();X==null&&(X=[]);function ie(){ne(),q.call("tick",W),F<U&&(ee.stop(),q.call("end",W))}function ne(se){var pe,ue=X.length,ae;se===void 0&&(se=1);for(var de=0;de<se;++de)for(F+=(Y-F)*J,Q.forEach(function(be){be(F)}),pe=0;pe<ue;++pe)ae=X[pe],ae.fx==null?ae.x+=ae.vx*=D:(ae.x=ae.fx,ae.vx=0),G>1&&(ae.fy==null?ae.y+=ae.vy*=D:(ae.y=ae.fy,ae.vy=0)),G>2&&(ae.fz==null?ae.z+=ae.vz*=D:(ae.z=ae.fz,ae.vz=0));return W}function ce(){for(var se=0,pe=X.length,ue;se<pe;++se){if(ue=X[se],ue.index=se,ue.fx!=null&&(ue.x=ue.fx),ue.fy!=null&&(ue.y=ue.fy),ue.fz!=null&&(ue.z=ue.fz),isNaN(ue.x)||G>1&&isNaN(ue.y)||G>2&&isNaN(ue.z)){var ae=initialRadius*(G>2?Math.cbrt(.5+se):G>1?Math.sqrt(.5+se):se),de=se*initialAngleRoll,be=se*initialAngleYaw;G===1?ue.x=ae:G===2?(ue.x=ae*Math.cos(de),ue.y=ae*Math.sin(de)):(ue.x=ae*Math.sin(de)*Math.cos(be),ue.y=ae*Math.cos(de),ue.z=ae*Math.sin(de)*Math.sin(be))}(isNaN(ue.vx)||G>1&&isNaN(ue.vy)||G>2&&isNaN(ue.vz))&&(ue.vx=0,G>1&&(ue.vy=0),G>2&&(ue.vz=0))}}function le(se){return se.initialize&&se.initialize(X,te,G),se}return ce(),W={tick:ne,restart:function(){return ee.restart(ie),W},stop:function(){return ee.stop(),W},numDimensions:function(se){return arguments.length?(G=Math.min(MAX_DIMENSIONS,Math.max(1,Math.round(se))),Q.forEach(le),W):G},nodes:function(se){return arguments.length?(X=se,ce(),Q.forEach(le),W):X},alpha:function(se){return arguments.length?(F=+se,W):F},alphaMin:function(se){return arguments.length?(U=+se,W):U},alphaDecay:function(se){return arguments.length?(J=+se,W):+J},alphaTarget:function(se){return arguments.length?(Y=+se,W):Y},velocityDecay:function(se){return arguments.length?(D=1-se,W):1-D},randomSource:function(se){return arguments.length?(te=se,Q.forEach(le),W):te},force:function(se,pe){return arguments.length>1?(pe==null?Q.delete(se):Q.set(se,le(pe)),W):Q.get(se)},find:function(){var se=Array.prototype.slice.call(arguments),pe=se.shift()||0,ue=(G>1?se.shift():null)||0,ae=(G>2?se.shift():null)||0,de=se.shift()||1/0,be=0,he=X.length,Le,Xe,We,fe,Re,ye;for(de*=de,be=0;be<he;++be)Re=X[be],Le=pe-Re.x,Xe=ue-(Re.y||0),We=ae-(Re.z||0),fe=Le*Le+Xe*Xe+We*We,fe<de&&(ye=Re,de=fe);return ye},on:function(se,pe){return arguments.length>1?(q.on(se,pe),W):q.on(se)}}}function forceManyBody(){var X,Z,G,W,F,U=constant(-30),J,Y=1,D=1/0,Q=.81;function ee(ne){var ce,le=X.length,se=(Z===1?binarytree(X,x$3):Z===2?quadtree(X,x$3,y$3):Z===3?octree(X,x$3,y$3,z$1):null).visitAfter(te);for(F=ne,ce=0;ce<le;++ce)G=X[ce],se.visit(ie)}function q(){if(X){var ne,ce=X.length,le;for(J=new Array(ce),ne=0;ne<ce;++ne)le=X[ne],J[le.index]=+U(le,ne,X)}}function te(ne){var ce=0,le,se,pe=0,ue,ae,de,be,he=ne.length;if(he){for(ue=ae=de=be=0;be<he;++be)(le=ne[be])&&(se=Math.abs(le.value))&&(ce+=le.value,pe+=se,ue+=se*(le.x||0),ae+=se*(le.y||0),de+=se*(le.z||0));ce*=Math.sqrt(4/he),ne.x=ue/pe,Z>1&&(ne.y=ae/pe),Z>2&&(ne.z=de/pe)}else{le=ne,le.x=le.data.x,Z>1&&(le.y=le.data.y),Z>2&&(le.z=le.data.z);do ce+=J[le.data.index];while(le=le.next)}ne.value=ce}function ie(ne,ce,le,se,pe){if(!ne.value)return!0;var ue=[le,se,pe][Z-1],ae=ne.x-G.x,de=Z>1?ne.y-G.y:0,be=Z>2?ne.z-G.z:0,he=ue-ce,Le=ae*ae+de*de+be*be;if(he*he/Q<Le)return Le<D&&(ae===0&&(ae=jiggle(W),Le+=ae*ae),Z>1&&de===0&&(de=jiggle(W),Le+=de*de),Z>2&&be===0&&(be=jiggle(W),Le+=be*be),Le<Y&&(Le=Math.sqrt(Y*Le)),G.vx+=ae*ne.value*F/Le,Z>1&&(G.vy+=de*ne.value*F/Le),Z>2&&(G.vz+=be*ne.value*F/Le)),!0;if(ne.length||Le>=D)return;(ne.data!==G||ne.next)&&(ae===0&&(ae=jiggle(W),Le+=ae*ae),Z>1&&de===0&&(de=jiggle(W),Le+=de*de),Z>2&&be===0&&(be=jiggle(W),Le+=be*be),Le<Y&&(Le=Math.sqrt(Y*Le)));do ne.data!==G&&(he=J[ne.data.index]*F/Le,G.vx+=ae*he,Z>1&&(G.vy+=de*he),Z>2&&(G.vz+=be*he));while(ne=ne.next)}return ee.initialize=function(ne,...ce){X=ne,W=ce.find(le=>typeof le=="function")||Math.random,Z=ce.find(le=>[1,2,3].includes(le))||2,q()},ee.strength=function(ne){return arguments.length?(U=typeof ne=="function"?ne:constant(+ne),q(),ee):U},ee.distanceMin=function(ne){return arguments.length?(Y=ne*ne,ee):Math.sqrt(Y)},ee.distanceMax=function(ne){return arguments.length?(D=ne*ne,ee):Math.sqrt(D)},ee.theta=function(ne){return arguments.length?(Q=ne*ne,ee):Math.sqrt(Q)},ee}var ngraph_forcelayoutExports={},ngraph_forcelayout={get exports(){return ngraph_forcelayoutExports},set exports(X){ngraph_forcelayoutExports=X}},generateCreateBodyExports={},generateCreateBody={get exports(){return generateCreateBodyExports},set exports(X){generateCreateBodyExports=X}},getVariableName$2=function X(Z){return Z===0?"x":Z===1?"y":Z===2?"z":"c"+(Z+1)};const getVariableName$1=getVariableName$2;var createPatternBuilder$6=function X(Z){return G;function G(W,F){let U=F&&F.indent||0,J=F&&F.join!==void 0?F.join:`
`,Y=Array(U+1).join(" "),D=[];for(let Q=0;Q<Z;++Q){let ee=getVariableName$1(Q),q=Q===0?"":Y;D.push(q+W.replace(/{var}/g,ee))}return D.join(J)}};const createPatternBuilder$5=createPatternBuilder$6;generateCreateBody.exports=generateCreateBodyFunction$1;generateCreateBodyExports.generateCreateBodyFunctionBody=generateCreateBodyFunctionBody;generateCreateBodyExports.getVectorCode=getVectorCode;generateCreateBodyExports.getBodyCode=getBodyCode;function generateCreateBodyFunction$1(X,Z){let G=generateCreateBodyFunctionBody(X,Z),{Body:W}=new Function(G)();return W}function generateCreateBodyFunctionBody(X,Z){return`
${getVectorCode(X,Z)}
${getBodyCode(X)}
return {Body: Body, Vector: Vector};
`}function getBodyCode(X){let Z=createPatternBuilder$5(X),G=Z("{var}",{join:", "});return`
function Body(${G}) {
  this.isPinned = false;
  this.pos = new Vector(${G});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${G}) {
  ${Z("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function getVectorCode(X,Z){let G=createPatternBuilder$5(X),W="";return Z&&(W=`${G(`
   var v{var};
Object.defineProperty(this, '{var}', {
  set: function(v) { 
    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
    v{var} = v; 
  },
  get: function() { return v{var}; }
});`)}`),`function Vector(${G("{var}",{join:", "})}) {
  ${W}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${G('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${G("this.{var} = v.{var};",{indent:4})}
    } else {
      ${G('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${G("this.{var} = ",{join:""})}0;
  };`}var generateQuadTreeExports={},generateQuadTree={get exports(){return generateQuadTreeExports},set exports(X){generateQuadTreeExports=X}};const createPatternBuilder$4=createPatternBuilder$6,getVariableName=getVariableName$2;generateQuadTree.exports=generateQuadTreeFunction$1;generateQuadTreeExports.generateQuadTreeFunctionBody=generateQuadTreeFunctionBody;generateQuadTreeExports.getInsertStackCode=getInsertStackCode;generateQuadTreeExports.getQuadNodeCode=getQuadNodeCode;generateQuadTreeExports.isSamePosition=isSamePosition;generateQuadTreeExports.getChildBodyCode=getChildBodyCode;generateQuadTreeExports.setChildBodyCode=setChildBodyCode;function generateQuadTreeFunction$1(X){let Z=generateQuadTreeFunctionBody(X);return new Function(Z)()}function generateQuadTreeFunctionBody(X){let Z=createPatternBuilder$4(X),G=Math.pow(2,X);return`
${getInsertStackCode()}
${getQuadNodeCode(X)}
${isSamePosition(X)}
${getChildBodyCode(X)}
${setChildBodyCode(X)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${J("      node.")}
      node.body = null;
      node.mass = ${Z("node.mass_{var} = ",{join:""})}0;
      ${Z("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${Z("var d{var};",{indent:4})}
    var r; 
    ${Z("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${Z("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${Z("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${Z("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${Z("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${Z("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < θ, treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${getVariableName(0)} - node.min_${getVariableName(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${Z("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${U()}
        }
      }
    }

    ${Z("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${Z("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${Z("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${Z("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${Z("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${Z("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${Z("root.min_{var} = {var}min;",{indent:4})}
    ${Z("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${Z("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${Z("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${Z("var min_{var} = node.min_{var};",{indent:8})}
        ${Z("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${F(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${Z("child.min_{var} = min_{var};",{indent:10})}
          ${Z("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${Z("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${Z("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function F(Y){let D=[],Q=Array(Y+1).join(" ");for(let ee=0;ee<X;++ee)D.push(Q+`if (${getVariableName(ee)} > max_${getVariableName(ee)}) {`),D.push(Q+`  quadIdx = quadIdx + ${Math.pow(2,ee)};`),D.push(Q+`  min_${getVariableName(ee)} = max_${getVariableName(ee)};`),D.push(Q+`  max_${getVariableName(ee)} = node.max_${getVariableName(ee)};`),D.push(Q+"}");return D.join(`
`)}function U(){let Y=Array(11).join(" "),D=[];for(let Q=0;Q<G;++Q)D.push(Y+`if (node.quad${Q}) {`),D.push(Y+`  queue[pushIdx] = node.quad${Q};`),D.push(Y+"  queueLength += 1;"),D.push(Y+"  pushIdx += 1;"),D.push(Y+"}");return D.join(`
`)}function J(Y){let D=[];for(let Q=0;Q<G;++Q)D.push(`${Y}quad${Q} = null;`);return D.join(`
`)}}function isSamePosition(X){let Z=createPatternBuilder$4(X);return`
  function isSamePosition(point1, point2) {
    ${Z("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${Z("d{var} < 1e-8",{join:" && "})};
  }  
`}function setChildBodyCode(X){var Z=Math.pow(2,X);return`
function setChild(node, idx, child) {
  ${G()}
}`;function G(){let W=[];for(let F=0;F<Z;++F){let U=F===0?"  ":"  else ";W.push(`${U}if (idx === ${F}) node.quad${F} = child;`)}return W.join(`
`)}}function getChildBodyCode(X){return`function getChild(node, idx) {
${Z()}
  return null;
}`;function Z(){let G=[],W=Math.pow(2,X);for(let F=0;F<W;++F)G.push(`  if (idx === ${F}) return node.quad${F};`);return G.join(`
`)}}function getQuadNodeCode(X){let Z=createPatternBuilder$4(X),G=Math.pow(2,X);var W=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${F("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${Z("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${Z("this.min_{var} = 0;",{indent:2})}
  ${Z("this.max_{var} = 0;",{indent:2})}
}
`;return W;function F(U){let J=[];for(let Y=0;Y<G;++Y)J.push(`${U}quad${Y} = null;`);return J.join(`
`)}}function getInsertStackCode(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}var generateBoundsExports={},generateBounds={get exports(){return generateBoundsExports},set exports(X){generateBoundsExports=X}};generateBounds.exports=generateBoundsFunction$1;generateBoundsExports.generateFunctionBody=generateBoundsFunctionBody;const createPatternBuilder$3=createPatternBuilder$6;function generateBoundsFunction$1(X){let Z=generateBoundsFunctionBody(X);return new Function("bodies","settings","random",Z)}function generateBoundsFunctionBody(X){let Z=createPatternBuilder$3(X);return`
  var boundingBox = {
    ${Z("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${Z("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${Z("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${Z("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${Z("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${Z("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${Z("var max_{var} = -Infinity;",{indent:4})}
    ${Z("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${Z("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${Z("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${Z("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${Z("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${Z("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}var generateCreateDragForceExports={},generateCreateDragForce={get exports(){return generateCreateDragForceExports},set exports(X){generateCreateDragForceExports=X}};const createPatternBuilder$2=createPatternBuilder$6;generateCreateDragForce.exports=generateCreateDragForceFunction$1;generateCreateDragForceExports.generateCreateDragForceFunctionBody=generateCreateDragForceFunctionBody;function generateCreateDragForceFunction$1(X){let Z=generateCreateDragForceFunctionBody(X);return new Function("options",Z)}function generateCreateDragForceFunctionBody(X){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${createPatternBuilder$2(X)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}var generateCreateSpringForceExports={},generateCreateSpringForce={get exports(){return generateCreateSpringForceExports},set exports(X){generateCreateSpringForceExports=X}};const createPatternBuilder$1=createPatternBuilder$6;generateCreateSpringForce.exports=generateCreateSpringForceFunction$1;generateCreateSpringForceExports.generateCreateSpringForceFunctionBody=generateCreateSpringForceFunctionBody;function generateCreateSpringForceFunction$1(X){let Z=generateCreateSpringForceFunctionBody(X);return new Function("options","random",Z)}function generateCreateSpringForceFunctionBody(X){let Z=createPatternBuilder$1(X);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${Z("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${Z("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${Z("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${Z("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${Z("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}var generateIntegratorExports={},generateIntegrator={get exports(){return generateIntegratorExports},set exports(X){generateIntegratorExports=X}};const createPatternBuilder=createPatternBuilder$6;generateIntegrator.exports=generateIntegratorFunction$1;generateIntegratorExports.generateIntegratorFunctionBody=generateIntegratorFunctionBody;function generateIntegratorFunction$1(X){let Z=generateIntegratorFunctionBody(X);return new Function("bodies","timeStep","adaptiveTimeStepWeight",Z)}function generateIntegratorFunctionBody(X){let Z=createPatternBuilder(X);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${Z("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${Z("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${Z("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${Z("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${Z("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${Z("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${Z("body.pos.{var} += d{var};",{indent:4})}

    ${Z("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${Z("t{var} * t{var}",{join:" + "})})/length;
`}var spring,hasRequiredSpring;function requireSpring(){if(hasRequiredSpring)return spring;hasRequiredSpring=1,spring=X;function X(Z,G,W,F){this.from=Z,this.to=G,this.length=W,this.coefficient=F}return spring}var ngraph_merge,hasRequiredNgraph_merge;function requireNgraph_merge(){if(hasRequiredNgraph_merge)return ngraph_merge;hasRequiredNgraph_merge=1,ngraph_merge=X;function X(Z,G){var W;if(Z||(Z={}),G){for(W in G)if(G.hasOwnProperty(W)){var F=Z.hasOwnProperty(W),U=typeof G[W],J=!F||typeof Z[W]!==U;J?Z[W]=G[W]:U==="object"&&(Z[W]=X(Z[W],G[W]))}}return Z}return ngraph_merge}var ngraph_events=function X(Z){validateSubject(Z);var G=createEventsStorage(Z);return Z.on=G.on,Z.off=G.off,Z.fire=G.fire,Z};function createEventsStorage(X){var Z=Object.create(null);return{on:function(G,W,F){if(typeof W!="function")throw new Error("callback is expected to be a function");var U=Z[G];return U||(U=Z[G]=[]),U.push({callback:W,ctx:F}),X},off:function(G,W){var F=typeof G>"u";if(F)return Z=Object.create(null),X;if(Z[G]){var U=typeof W!="function";if(U)delete Z[G];else for(var J=Z[G],Y=0;Y<J.length;++Y)J[Y].callback===W&&J.splice(Y,1)}return X},fire:function(G){var W=Z[G];if(!W)return X;var F;arguments.length>1&&(F=Array.prototype.splice.call(arguments,1));for(var U=0;U<W.length;++U){var J=W[U];J.callback.apply(J.ctx,F)}return X}}}function validateSubject(X){if(!X)throw new Error("Eventify cannot use falsy object as events subject");for(var Z=["on","fire","off"],G=0;G<Z.length;++G)if(X.hasOwnProperty(Z[G]))throw new Error("Subject cannot be eventified, since it already has property '"+Z[G]+"'")}var ngraph_randomExports={},ngraph_random={get exports(){return ngraph_randomExports},set exports(X){ngraph_randomExports=X}},hasRequiredNgraph_random;function requireNgraph_random(){if(hasRequiredNgraph_random)return ngraph_randomExports;hasRequiredNgraph_random=1,ngraph_random.exports=X,ngraph_randomExports.random=X,ngraph_randomExports.randomIterator=Y;function X(D){var Q=typeof D=="number"?D:+new Date;return new Z(Q)}function Z(D){this.seed=D}Z.prototype.next=J,Z.prototype.nextDouble=U,Z.prototype.uniform=U,Z.prototype.gaussian=G;function G(){var D,Q,ee;do Q=this.nextDouble()*2-1,ee=this.nextDouble()*2-1,D=Q*Q+ee*ee;while(D>=1||D===0);return Q*Math.sqrt(-2*Math.log(D)/D)}Z.prototype.levy=W;function W(){var D=1.5,Q=Math.pow(F(1+D)*Math.sin(Math.PI*D/2)/(F((1+D)/2)*D*Math.pow(2,(D-1)/2)),1/D);return this.gaussian()*Q/Math.pow(Math.abs(this.gaussian()),1/D)}function F(D){return Math.sqrt(2*Math.PI/D)*Math.pow(1/Math.E*(D+1/(12*D-1/(10*D))),D)}function U(){var D=this.seed;return D=D+2127912214+(D<<12)&4294967295,D=(D^3345072700^D>>>19)&4294967295,D=D+374761393+(D<<5)&4294967295,D=(D+3550635116^D<<9)&4294967295,D=D+4251993797+(D<<3)&4294967295,D=(D^3042594569^D>>>16)&4294967295,this.seed=D,(D&268435455)/268435456}function J(D){return Math.floor(this.nextDouble()*D)}function Y(D,Q){var ee=Q||X();if(typeof ee.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:te,shuffle:q};function q(){var ie,ne,ce;for(ie=D.length-1;ie>0;--ie)ne=ee.next(ie+1),ce=D[ne],D[ne]=D[ie],D[ie]=ce;return D}function te(ie){var ne,ce,le;for(ne=D.length-1;ne>0;--ne)ce=ee.next(ne+1),le=D[ce],D[ce]=D[ne],D[ne]=le,ie(le);D.length&&ie(D[0])}}return ngraph_randomExports}var createPhysicsSimulator_1=createPhysicsSimulator,generateCreateBodyFunction=generateCreateBodyExports,generateQuadTreeFunction=generateQuadTreeExports,generateBoundsFunction=generateBoundsExports,generateCreateDragForceFunction=generateCreateDragForceExports,generateCreateSpringForceFunction=generateCreateSpringForceExports,generateIntegratorFunction=generateIntegratorExports,dimensionalCache={};function createPhysicsSimulator(X){var Z=requireSpring(),G=requireNgraph_merge(),W=ngraph_events;if(X){if(X.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(X.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}X=G(X,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var F=dimensionalCache[X.dimensions];if(!F){var U=X.dimensions;F={Body:generateCreateBodyFunction(U,X.debug),createQuadTree:generateQuadTreeFunction(U),createBounds:generateBoundsFunction(U),createDragForce:generateCreateDragForceFunction(U),createSpringForce:generateCreateSpringForceFunction(U),integrate:generateIntegratorFunction(U)},dimensionalCache[U]=F}var J=F.Body,Y=F.createQuadTree,D=F.createBounds,Q=F.createDragForce,ee=F.createSpringForce,q=F.integrate,te=Ze=>new J(Ze),ie=requireNgraph_random().random(42),ne=[],ce=[],le=Y(X,ie),se=D(ne,X,ie),pe=ee(X,ie),ue=Q(X),ae=0,de=[],be=new Map,he=0;We("nbody",ye),We("spring",re);var Le={bodies:ne,quadTree:le,springs:ce,settings:X,addForce:We,removeForce:fe,getForces:Re,step:function(){for(var Ze=0;Ze<de.length;++Ze)de[Ze](he);var Ge=q(ne,X.timeStep,X.adaptiveTimeStepWeight);return he+=1,Ge},addBody:function(Ze){if(!Ze)throw new Error("Body is required");return ne.push(Ze),Ze},addBodyAt:function(Ze){if(!Ze)throw new Error("Body position is required");var Ge=te(Ze);return ne.push(Ge),Ge},removeBody:function(Ze){if(Ze){var Ge=ne.indexOf(Ze);if(!(Ge<0))return ne.splice(Ge,1),ne.length===0&&se.reset(),!0}},addSpring:function(Ze,Ge,ve,Te){if(!Ze||!Ge)throw new Error("Cannot add null spring to force simulator");typeof ve!="number"&&(ve=-1);var xe=new Z(Ze,Ge,ve,Te>=0?Te:-1);return ce.push(xe),xe},getTotalMovement:function(){return ae},removeSpring:function(Ze){if(Ze){var Ge=ce.indexOf(Ze);if(Ge>-1)return ce.splice(Ge,1),!0}},getBestNewBodyPosition:function(Ze){return se.getBestNewPosition(Ze)},getBBox:Xe,getBoundingBox:Xe,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(Ze){return Ze!==void 0?(X.gravity=Ze,le.options({gravity:Ze}),this):X.gravity},theta:function(Ze){return Ze!==void 0?(X.theta=Ze,le.options({theta:Ze}),this):X.theta},random:ie};return expose(X,Le),W(Le),Le;function Xe(){return se.update(),se.box}function We(Ze,Ge){if(be.has(Ze))throw new Error("Force "+Ze+" is already added");be.set(Ze,Ge),de.push(Ge)}function fe(Ze){var Ge=de.indexOf(be.get(Ze));Ge<0||(de.splice(Ge,1),be.delete(Ze))}function Re(){return be}function ye(){if(ne.length!==0){le.insertBodies(ne);for(var Ze=ne.length;Ze--;){var Ge=ne[Ze];Ge.isPinned||(Ge.reset(),le.updateBodyForce(Ge),ue.update(Ge))}}}function re(){for(var Ze=ce.length;Ze--;)pe.update(ce[Ze])}}function expose(X,Z){for(var G in X)augment(X,Z,G)}function augment(X,Z,G){if(X.hasOwnProperty(G)&&typeof Z[G]!="function"){var W=Number.isFinite(X[G]);W?Z[G]=function(F){if(F!==void 0){if(!Number.isFinite(F))throw new Error("Value of "+G+" should be a valid number.");return X[G]=F,Z}return X[G]}:Z[G]=function(F){return F!==void 0?(X[G]=F,Z):X[G]}}}ngraph_forcelayout.exports=createLayout;ngraph_forcelayoutExports.simulator=createPhysicsSimulator_1;var eventify$1=ngraph_events;function createLayout(X,Z){if(!X)throw new Error("Graph structure cannot be undefined");var G=Z&&Z.createSimulator||createPhysicsSimulator_1,W=G(Z);if(Array.isArray(Z))throw new Error("Physics settings is expected to be an object");var F=X.version>19?ye:Re;Z&&typeof Z.nodeMass=="function"&&(F=Z.nodeMass);var U=new Map,J={},Y=0,D=W.settings.springTransform||noop;ue(),le();var Q=!1,ee={step:function(){if(Y===0)return q(!0),!0;var re=W.step();ee.lastMove=re,ee.fire("step");var Ze=re/Y,Ge=Ze<=.01;return q(Ge),Ge},getNodePosition:function(re){return fe(re).pos},setNodePosition:function(re){var Ze=fe(re);Ze.setPosition.apply(Ze,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(re){var Ze=J[re];if(Ze)return{from:Ze.from.pos,to:Ze.to.pos}},getGraphRect:function(){return W.getBBox()},forEachBody:te,pinNode:function(re,Ze){var Ge=fe(re.id);Ge.isPinned=!!Ze},isNodePinned:function(re){return fe(re.id).isPinned},dispose:function(){X.off("changed",pe),ee.fire("disposed")},getBody:ce,getSpring:ne,getForceVectorLength:ie,simulator:W,graph:X,lastMove:0};return eventify$1(ee),ee;function q(re){Q!==re&&(Q=re,se(re))}function te(re){U.forEach(re)}function ie(){var re=0,Ze=0;return te(function(Ge){re+=Math.abs(Ge.force.x),Ze+=Math.abs(Ge.force.y)}),Math.sqrt(re*re+Ze*Ze)}function ne(re,Ze){var Ge;if(Ze===void 0)typeof re!="object"?Ge=re:Ge=re.id;else{var ve=X.hasLink(re,Ze);if(!ve)return;Ge=ve.id}return J[Ge]}function ce(re){return U.get(re)}function le(){X.on("changed",pe)}function se(re){ee.fire("stable",re)}function pe(re){for(var Ze=0;Ze<re.length;++Ze){var Ge=re[Ze];Ge.changeType==="add"?(Ge.node&&ae(Ge.node.id),Ge.link&&be(Ge.link)):Ge.changeType==="remove"&&(Ge.node&&de(Ge.node),Ge.link&&he(Ge.link))}Y=X.getNodesCount()}function ue(){Y=0,X.forEachNode(function(re){ae(re.id),Y+=1}),X.forEachLink(be)}function ae(re){var Ze=U.get(re);if(!Ze){var Ge=X.getNode(re);if(!Ge)throw new Error("initBody() was called with unknown node id");var ve=Ge.position;if(!ve){var Te=Le(Ge);ve=W.getBestNewBodyPosition(Te)}Ze=W.addBodyAt(ve),Ze.id=re,U.set(re,Ze),Xe(re),We(Ge)&&(Ze.isPinned=!0)}}function de(re){var Ze=re.id,Ge=U.get(Ze);Ge&&(U.delete(Ze),W.removeBody(Ge))}function be(re){Xe(re.fromId),Xe(re.toId);var Ze=U.get(re.fromId),Ge=U.get(re.toId),ve=W.addSpring(Ze,Ge,re.length);D(re,ve),J[re.id]=ve}function he(re){var Ze=J[re.id];if(Ze){var Ge=X.getNode(re.fromId),ve=X.getNode(re.toId);Ge&&Xe(Ge.id),ve&&Xe(ve.id),delete J[re.id],W.removeSpring(Ze)}}function Le(re){var Ze=[];if(!re.links)return Ze;for(var Ge=Math.min(re.links.length,2),ve=0;ve<Ge;++ve){var Te=re.links[ve],xe=Te.fromId!==re.id?U.get(Te.fromId):U.get(Te.toId);xe&&xe.pos&&Ze.push(xe)}return Ze}function Xe(re){var Ze=U.get(re);if(Ze.mass=F(re),Number.isNaN(Ze.mass))throw new Error("Node mass should be a number")}function We(re){return re&&(re.isPinned||re.data&&re.data.isPinned)}function fe(re){var Ze=U.get(re);return Ze||(ae(re),Ze=U.get(re)),Ze}function Re(re){var Ze=X.getLinks(re);return Ze?1+Ze.length/3:1}function ye(re){var Ze=X.getLinks(re);return Ze?1+Ze.size/3:1}}function noop(){}var ngraph_graph=createGraph,eventify=ngraph_events;function createGraph(X){if(X=X||{},"uniqueLinkId"in X&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),X.multigraph=X.uniqueLinkId),X.multigraph===void 0&&(X.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var Z=new Map,G=new Map,W={},F=0,U=X.multigraph?ae:ue,J=[],Y=Ge,D=Ge,Q=Ge,ee=Ge,q={version:20,addNode:ce,addLink:pe,removeLink:Le,removeNode:se,getNode:le,getNodeCount:de,getLinkCount:be,getEdgeCount:be,getLinksCount:be,getNodesCount:de,getLinks:he,forEachNode:xe,forEachLinkedNode:ye,forEachLink:Re,beginUpdate:Q,endUpdate:ee,clear:fe,hasLink:We,hasNode:le,getLink:We};return eventify(q),te(),q;function te(){var Ie=q.on;q.on=Se;function Se(){return q.beginUpdate=Q=ve,q.endUpdate=ee=Te,Y=ie,D=ne,q.on=Ie,Ie.apply(q,arguments)}}function ie(Ie,Se){J.push({link:Ie,changeType:Se})}function ne(Ie,Se){J.push({node:Ie,changeType:Se})}function ce(Ie,Se){if(Ie===void 0)throw new Error("Invalid node identifier");Q();var Ne=le(Ie);return Ne?(Ne.data=Se,D(Ne,"update")):(Ne=new Node(Ie,Se),D(Ne,"add")),Z.set(Ie,Ne),ee(),Ne}function le(Ie){return Z.get(Ie)}function se(Ie){var Se=le(Ie);if(!Se)return!1;Q();var Ne=Se.links;return Ne&&(Ne.forEach(Xe),Se.links=null),Z.delete(Ie),D(Se,"remove"),ee(),!0}function pe(Ie,Se,Ne){Q();var je=le(Ie)||ce(Ie),tt=le(Se)||ce(Se),it=U(Ie,Se,Ne),st=G.has(it.id);return G.set(it.id,it),addLinkToNode(je,it),Ie!==Se&&addLinkToNode(tt,it),Y(it,st?"update":"add"),ee(),it}function ue(Ie,Se,Ne){var je=makeLinkId(Ie,Se),tt=G.get(je);return tt?(tt.data=Ne,tt):new Link(Ie,Se,Ne,je)}function ae(Ie,Se,Ne){var je=makeLinkId(Ie,Se),tt=W.hasOwnProperty(je);if(tt||We(Ie,Se)){tt||(W[je]=0);var it="@"+ ++W[je];je=makeLinkId(Ie+it,Se+it)}return new Link(Ie,Se,Ne,je)}function de(){return Z.size}function be(){return G.size}function he(Ie){var Se=le(Ie);return Se?Se.links:null}function Le(Ie,Se){return Se!==void 0&&(Ie=We(Ie,Se)),Xe(Ie)}function Xe(Ie){if(!Ie||!G.get(Ie.id))return!1;Q(),G.delete(Ie.id);var Se=le(Ie.fromId),Ne=le(Ie.toId);return Se&&Se.links.delete(Ie),Ne&&Ne.links.delete(Ie),Y(Ie,"remove"),ee(),!0}function We(Ie,Se){if(!(Ie===void 0||Se===void 0))return G.get(makeLinkId(Ie,Se))}function fe(){Q(),xe(function(Ie){se(Ie.id)}),ee()}function Re(Ie){if(typeof Ie=="function")for(var Se=G.values(),Ne=Se.next();!Ne.done;){if(Ie(Ne.value))return!0;Ne=Se.next()}}function ye(Ie,Se,Ne){var je=le(Ie);if(je&&je.links&&typeof Se=="function")return Ne?Ze(je.links,Ie,Se):re(je.links,Ie,Se)}function re(Ie,Se,Ne){for(var je,tt=Ie.values(),it=tt.next();!it.done;){var st=it.value,qe=st.fromId===Se?st.toId:st.fromId;if(je=Ne(Z.get(qe),st),je)return!0;it=tt.next()}}function Ze(Ie,Se,Ne){for(var je,tt=Ie.values(),it=tt.next();!it.done;){var st=it.value;if(st.fromId===Se&&(je=Ne(Z.get(st.toId),st),je))return!0;it=tt.next()}}function Ge(){}function ve(){F+=1}function Te(){F-=1,F===0&&J.length>0&&(q.fire("changed",J),J.length=0)}function xe(Ie){if(typeof Ie!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Ie);for(var Se=Z.values(),Ne=Se.next();!Ne.done;){if(Ie(Ne.value))return!0;Ne=Se.next()}}}function Node(X,Z){this.id=X,this.links=null,this.data=Z}function addLinkToNode(X,Z){X.links?X.links.add(Z):X.links=new Set([Z])}function Link(X,Z,G,W){this.fromId=X,this.toId=Z,this.data=G,this.id=W}function makeLinkId(X,Z){return X.toString()+"👉 "+Z.toString()}class GraphLayoutSim{constructor(Z){this.positions=new Float32Array(0),this.graphData=Z}get positionsBuffer(){return new Float32Array(this.positions)}start(){throw new Error("not implemented")}stop(){throw new Error("not implemented")}getPositions(Z){const G=this.positionsBuffer;Z(G)}}class D3ForceLayout extends GraphLayoutSim{constructor(Z){super(Z),this.layoutEngine=forceSimulation(Z.nodes,3).force("charge",forceManyBody()).force("link",forceLink(Z.links).id(G=>G.id)).force("center",forceCenter()),this.layoutEngine.on("tick",()=>{const G=this.graphData.nodes.flatMap(({x:W,y:F,z:U})=>[W,F,U].map(J=>J));this.positions=new Float32Array(G)})}start(){this.layoutEngine.restart()}stop(){this.layoutEngine.stop()}}class NgraphForceLayout extends GraphLayoutSim{constructor(Z){super(Z);const G=ngraph_graph();Z.nodes.forEach(W=>{G.addNode(W.id,W)}),Z.links.forEach(W=>{G.addLink(W.source,W.target)}),this.layoutEngine=ngraph_forcelayoutExports(G,{dimensions:3});for(let W of Z.nodes)this.layoutEngine.setNodePosition(W.id,W.x,W.y,W.z);this.layoutEngine.on("step",()=>{const W=Z.nodes.flatMap(({id:F})=>{const{x:U,y:J,z:Y}=this.layoutEngine.getNodePosition(F);return[U,J,Y].map(D=>D)});this.positions=new Float32Array(W)})}start(){const Z=()=>{this.layoutEngine.step(),using===this.layoutEngine&&rafExports(Z)};Z()}stop(){this.layoutEngine.dispose()}}const layout=Object.freeze(Object.defineProperty({__proto__:null,D3ForceLayout,NgraphForceLayout},Symbol.toStringTag,{value:"Module"})),transfer=(X,Z)=>transfer$1(X,Z);var transformMat4_1=transformMat4$2;function transformMat4$2(X,Z,G){var W=Z[0],F=Z[1],U=Z[2],J=G[3]*W+G[7]*F+G[11]*U+G[15];return J=J||1,X[0]=(G[0]*W+G[4]*F+G[8]*U+G[12])/J,X[1]=(G[1]*W+G[5]*F+G[9]*U+G[13])/J,X[2]=(G[2]*W+G[6]*F+G[10]*U+G[14])/J,X}var rotateY_1=rotateY;function rotateY(X,Z,G,W){var F=G[0],U=G[2],J=Z[0]-F,Y=Z[2]-U,D=Math.sin(W),Q=Math.cos(W);return X[0]=F+Y*D+J*Q,X[1]=Z[1],X[2]=U+Y*Q-J*D,X}var rotateX_1=rotateX;function rotateX(X,Z,G,W){var F=G[1],U=G[2],J=Z[1]-F,Y=Z[2]-U,D=Math.sin(W),Q=Math.cos(W);return X[0]=Z[0],X[1]=F+J*Q-Y*D,X[2]=U+J*D+Y*Q,X}var epsilon=1e-6,equals_1=equals,EPSILON=epsilon;function equals(X,Z){var G=X[0],W=X[1],F=X[2],U=Z[0],J=Z[1],Y=Z[2];return Math.abs(G-U)<=EPSILON*Math.max(1,Math.abs(G),Math.abs(U))&&Math.abs(W-J)<=EPSILON*Math.max(1,Math.abs(W),Math.abs(J))&&Math.abs(F-Y)<=EPSILON*Math.max(1,Math.abs(F),Math.abs(Y))}var add_1=add;function add(X,Z,G){return X[0]=Z[0]+G[0],X[1]=Z[1]+G[1],X[2]=Z[2]+G[2],X}var scaleAndAdd_1=scaleAndAdd;function scaleAndAdd(X,Z,G,W){return X[0]=Z[0]+G[0]*W,X[1]=Z[1]+G[1]*W,X[2]=Z[2]+G[2]*W,X}var copy_1=copy;function copy(X,Z){return X[0]=Z[0],X[1]=Z[1],X[2]=Z[2],X}var normalize_1=normalize;function normalize(X,Z){var G=Z[0],W=Z[1],F=Z[2],U=G*G+W*W+F*F;return U>0&&(U=1/Math.sqrt(U),X[0]=Z[0]*U,X[1]=Z[1]*U,X[2]=Z[2]*U),X}var identity_1=identity$1;function identity$1(X){return X[0]=1,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=1,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=1,X[11]=0,X[12]=0,X[13]=0,X[14]=0,X[15]=1,X}var invert_1=invert;function invert(X,Z){var G=Z[0],W=Z[1],F=Z[2],U=Z[3],J=Z[4],Y=Z[5],D=Z[6],Q=Z[7],ee=Z[8],q=Z[9],te=Z[10],ie=Z[11],ne=Z[12],ce=Z[13],le=Z[14],se=Z[15],pe=G*Y-W*J,ue=G*D-F*J,ae=G*Q-U*J,de=W*D-F*Y,be=W*Q-U*Y,he=F*Q-U*D,Le=ee*ce-q*ne,Xe=ee*le-te*ne,We=ee*se-ie*ne,fe=q*le-te*ce,Re=q*se-ie*ce,ye=te*se-ie*le,re=pe*ye-ue*Re+ae*fe+de*We-be*Xe+he*Le;return re?(re=1/re,X[0]=(Y*ye-D*Re+Q*fe)*re,X[1]=(F*Re-W*ye-U*fe)*re,X[2]=(ce*he-le*be+se*de)*re,X[3]=(te*be-q*he-ie*de)*re,X[4]=(D*We-J*ye-Q*Xe)*re,X[5]=(G*ye-F*We+U*Xe)*re,X[6]=(le*ae-ne*he-se*ue)*re,X[7]=(ee*he-te*ae+ie*ue)*re,X[8]=(J*Re-Y*We+Q*Le)*re,X[9]=(W*We-G*Re-U*Le)*re,X[10]=(ne*be-ce*ae+se*pe)*re,X[11]=(q*ae-ee*be-ie*pe)*re,X[12]=(Y*Xe-J*fe-D*Le)*re,X[13]=(G*fe-W*Xe+F*Le)*re,X[14]=(ce*ue-ne*de-le*pe)*re,X[15]=(ee*de-q*ue+te*pe)*re,X):null}var translate_1=translate;function translate(X,Z,G){var W=G[0],F=G[1],U=G[2],J,Y,D,Q,ee,q,te,ie,ne,ce,le,se;return Z===X?(X[12]=Z[0]*W+Z[4]*F+Z[8]*U+Z[12],X[13]=Z[1]*W+Z[5]*F+Z[9]*U+Z[13],X[14]=Z[2]*W+Z[6]*F+Z[10]*U+Z[14],X[15]=Z[3]*W+Z[7]*F+Z[11]*U+Z[15]):(J=Z[0],Y=Z[1],D=Z[2],Q=Z[3],ee=Z[4],q=Z[5],te=Z[6],ie=Z[7],ne=Z[8],ce=Z[9],le=Z[10],se=Z[11],X[0]=J,X[1]=Y,X[2]=D,X[3]=Q,X[4]=ee,X[5]=q,X[6]=te,X[7]=ie,X[8]=ne,X[9]=ce,X[10]=le,X[11]=se,X[12]=J*W+ee*F+ne*U+Z[12],X[13]=Y*W+q*F+ce*U+Z[13],X[14]=D*W+te*F+le*U+Z[14],X[15]=Q*W+ie*F+se*U+Z[15]),X}var scale_1=scale$1;function scale$1(X,Z,G){var W=G[0],F=G[1],U=G[2];return X[0]=Z[0]*W,X[1]=Z[1]*W,X[2]=Z[2]*W,X[3]=Z[3]*W,X[4]=Z[4]*F,X[5]=Z[5]*F,X[6]=Z[6]*F,X[7]=Z[7]*F,X[8]=Z[8]*U,X[9]=Z[9]*U,X[10]=Z[10]*U,X[11]=Z[11]*U,X[12]=Z[12],X[13]=Z[13],X[14]=Z[14],X[15]=Z[15],X}var identity=identity_1,lookAt_1=lookAt$1;function lookAt$1(X,Z,G,W){var F,U,J,Y,D,Q,ee,q,te,ie,ne=Z[0],ce=Z[1],le=Z[2],se=W[0],pe=W[1],ue=W[2],ae=G[0],de=G[1],be=G[2];return Math.abs(ne-ae)<1e-6&&Math.abs(ce-de)<1e-6&&Math.abs(le-be)<1e-6?identity(X):(ee=ne-ae,q=ce-de,te=le-be,ie=1/Math.sqrt(ee*ee+q*q+te*te),ee*=ie,q*=ie,te*=ie,F=pe*te-ue*q,U=ue*ee-se*te,J=se*q-pe*ee,ie=Math.sqrt(F*F+U*U+J*J),ie?(ie=1/ie,F*=ie,U*=ie,J*=ie):(F=0,U=0,J=0),Y=q*J-te*U,D=te*F-ee*J,Q=ee*U-q*F,ie=Math.sqrt(Y*Y+D*D+Q*Q),ie?(ie=1/ie,Y*=ie,D*=ie,Q*=ie):(Y=0,D=0,Q=0),X[0]=F,X[1]=Y,X[2]=ee,X[3]=0,X[4]=U,X[5]=D,X[6]=q,X[7]=0,X[8]=J,X[9]=Q,X[10]=te,X[11]=0,X[12]=-(F*ne+U*ce+J*le),X[13]=-(Y*ne+D*ce+Q*le),X[14]=-(ee*ne+q*ce+te*le),X[15]=1,X)}var perspective_1=perspective$1;function perspective$1(X,Z,G,W,F){var U=1/Math.tan(Z/2),J=1/(W-F);return X[0]=U/G,X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[5]=U,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[10]=(F+W)*J,X[11]=-1,X[12]=0,X[13]=0,X[14]=2*F*W*J,X[15]=0,X}var transformMat4$1=transformMat4_1,vec3RotateY=rotateY_1,vec3RotateX=rotateX_1,vec3Equals=equals_1,vec3Add=add_1,vec3ScaleAndAdd=scaleAndAdd_1,vec3Copy=copy_1,vec3Normalize=normalize_1,mat4Identity=identity_1,mat4Invert=invert_1,mat4Translate=translate_1,mat4Scale=scale_1,lookAt=lookAt_1,perspective=perspective_1,MAX_PHI=Math.PI*.5-1e-4,MIN_PHI=-Math.PI*.5+1e-4,inertialTurntableCamera=function X(Z){Z=Z||{};var G=!0,W={aspectRatio:Z.aspectRatio?Z.aspectRatio:1,zoomAboutCursor:Z.zoomAboutCursor===void 0?!0:Z.zoomAboutCursor,distance:Z.distance===void 0?10:Z.distance,phi:Z.phi===void 0?0:Z.phi,theta:Z.theta===void 0?0:Z.theta,fovY:Z.fovY===void 0?Math.PI/4:Z.fovY,near:Z.near===void 0?.1:Z.near,far:Z.far===void 0?100:Z.far,panDecayTime:Z.panDecayTime||100,zoomDecayTime:Z.zoomDecayTime||100,rotationDecayTime:Z.rotationDecayTime||100,dirty:!0,up:Z.up||new Float32Array([0,1,0]),center:Z.center||new Float32Array(3),rotationCenter:Z.rotationCenter||Z.center&&Z.center.slice()||new Float32Array(3),zoom:0,panX:0,panY:0,panZ:0,pitch:0,yaw:0,dTheta:0,dPhi:0,mouseX:0,mouseY:0},F=null,U={tick:function(ye){if(he.zoom&&(W.zoom=he.zoom),he.dTheta&&(W.dTheta=he.dTheta),he.dPhi&&(W.dPhi=he.dPhi),he.panX&&(W.panX=he.panX),he.panY&&(W.panY=he.panY),he.panZ&&(W.panZ=he.panZ),he.yaw&&(W.yaw=he.yaw),he.pitch&&(W.pitch=he.pitch),de(he),ye){var re=W.dPhi,Ze=W.dTheta,Ge=W.zoom,ve=W.panX,Te=W.panY,xe=W.panZ,Ie=W.pitch,Se=W.yaw;Object.assign(W,ye),ye.dPhi!==void 0&&(W.dPhi+=re),ye.dTheta!==void 0&&(W.dTheta+=Ze),ye.zoom!==void 0&&(W.zoom+=Ge),ye.panX!==void 0&&(W.panX+=ve),ye.panY!==void 0&&(W.panY+=Te),ye.panZ!==void 0&&(W.panZ+=xe),ye.pitch!==void 0&&(W.pitch+=Ie),ye.yaw!==void 0&&(W.yaw+=Se)}ne()&&le(),ae()?Re(W):de(W);var Ne=Date.now();F!==null&&be(Ne-F),F=Ne,U.state.dirty=G,G=!1,ie()},taint:pe,resize:ue,params:W,rotate:fe,pivot:We,pan:Le,zoom:Xe};U.state={},U.state.projection=new Float32Array(16),U.state.viewInv=new Float32Array(16),U.state.view=new Float32Array(16),U.state.width=null,U.state.height=null,U.state.eye=new Float32Array(3);var J=new Float32Array(3),Y=new Float32Array(3),D=new Float32Array(3),Q=new Float32Array(3),ee=new Float32Array(3),q=new Float32Array(16),te={up:new Float32Array(3),center:new Float32Array(3)};ie();function ie(){vec3Copy(te.up,W.up),vec3Copy(te.center,W.center),te.near=W.near,te.far=W.far,te.distance=W.distance,te.phi=W.phi,te.theta=W.theta,te.fovY=W.fovY}function ne(){return!vec3Equals(W.up,te.up)||!vec3Equals(W.center,te.center)||W.near!==te.near||W.far!==te.far||W.phi!==te.phi||W.theta!==te.theta||W.distance!==te.distance||W.fovY!==te.fovY}var ce={};function le(){ce.dPhi=W.phi-te.phi,ce.dTheta=W.theta-te.theta,ce.zoom=W.distance/te.distance-1,W.theta=te.theta,W.distance=te.distance,W.phi=te.phi,ce.yaw=0,ce.pitch=0,ce.panX=0,ce.panY=0,ce.panZ=0,ce.mouseX=0,ce.mouseY=0,Re(ce)}function se(){U.state.eye[0]=0,U.state.eye[1]=0,U.state.eye[2]=W.distance,vec3RotateX(U.state.eye,U.state.eye,ee,-W.phi),vec3RotateY(U.state.eye,U.state.eye,ee,W.theta),vec3Add(U.state.eye,U.state.eye,W.center),lookAt(U.state.view,U.state.eye,W.center,W.up),perspective(U.state.projection,W.fovY,U.params.aspectRatio,W.near,W.far),mat4Invert(U.state.viewInv,U.state.view)}function pe(){G=!0}function ue(ye){U.params.aspectRatio=ye,se(),pe()}function ae(){if(Math.abs(W.zoom)>1e-4||Math.abs(W.panX)>1e-4||Math.abs(W.panY)>1e-4||Math.abs(W.panZ)>1e-4||Math.abs(W.dTheta)>1e-4||Math.abs(W.dPhi)>1e-4||Math.abs(W.yaw)>1e-4||Math.abs(W.pitch)>1e-4)return!0}function de(ye){ye.zoom=0,ye.dTheta=0,ye.dPhi=0,ye.panX=0,ye.panY=0,ye.panZ=0,ye.yaw=0,ye.pitch=0}function be(ye){var re=W.panDecayTime?Math.exp(-ye/W.panDecayTime/Math.LN2):0,Ze=W.zoomDecayTime?Math.exp(-ye/W.zoomDecayTime/Math.LN2):0,Ge=W.rotationDecayTime?Math.exp(-ye/W.rotationDecayTime/Math.LN2):0;W.zoom*=Ze,W.panX*=re,W.panY*=re,W.panZ*=re,W.dTheta*=Ge,W.dPhi*=Ge,W.yaw*=Ge,W.pitch*=Ge}var he={};de(he);function Le(ye,re){var Ze=U.params.distance*Math.tan(U.params.fovY*.5)*2;return he.panX+=ye*W.aspectRatio*Ze,he.panY+=re*Ze,U}function Xe(ye,re,Ze){return he.zoom+=Ze,W.mouseX=ye,W.mouseY=re,U}function We(ye,re){var Ze=U.params.fovY;he.yaw+=ye*Ze*W.aspectRatio,he.pitch+=re*Ze}function fe(ye,re){he.dTheta+=ye,he.dPhi+=re}function Re(ye){var re;mat4Identity(q),W.zoomAboutCursor&&(re=W.distance*Math.tan(W.fovY*.5),J[0]=ye.mouseX*W.aspectRatio*re,J[1]=ye.mouseY*re,J[2]=0,mat4Translate(q,q,J)),J[0]=1+ye.zoom,J[1]=1+ye.zoom,J[2]=1,mat4Scale(q,q,J),W.zoomAboutCursor&&(re=W.distance*Math.tan(W.fovY*.5),J[0]=-ye.mouseX*W.aspectRatio*re,J[1]=-ye.mouseY*re,J[2]=0,mat4Translate(q,q,J)),q[12]-=ye.panX*.5,q[13]-=ye.panY*.5,transformMat4$1(W.center,W.center,U.state.view),transformMat4$1(W.center,W.center,q),transformMat4$1(W.center,W.center,U.state.viewInv),W.rotateAboutCenter&&vec3Copy(W.rotationCenter,W.center),W.distance*=1+ye.zoom;var Ze=W.phi;W.phi+=ye.dPhi,W.phi=Math.min(MAX_PHI,Math.max(MIN_PHI,W.phi));var Ge=W.phi-Ze,ve=W.theta;W.theta+=ye.dTheta;var Te=W.theta-ve;if(vec3RotateY(W.center,W.center,W.rotationCenter,Te-W.theta),vec3RotateX(W.center,W.center,W.rotationCenter,-Ge),vec3RotateY(W.center,W.center,W.rotationCenter,W.theta),ye.yaw!==0||ye.pitch!==0){D[0]=U.state.view[0],D[1]=U.state.view[4],D[2]=U.state.view[8],vec3Normalize(D,D),Y[0]=U.state.view[1],Y[1]=U.state.view[5],Y[2]=U.state.view[9],vec3Normalize(Y,Y),Q[0]=U.state.view[2],Q[1]=U.state.view[6],Q[2]=U.state.view[10],vec3Normalize(Q,Q);var xe=Math.min(MAX_PHI,Math.max(MIN_PHI,W.phi+ye.pitch*.5)),Ie=xe-W.phi;vec3ScaleAndAdd(W.center,W.center,D,-Math.sin(ye.yaw*.5)*W.distance),vec3ScaleAndAdd(W.center,W.center,Y,-Math.sin(Ie)*W.distance),vec3ScaleAndAdd(W.center,W.center,Q,(2-Math.cos(ye.yaw*.5)-Math.cos(Ie))*W.distance),W.phi=xe,W.theta+=ye.yaw*.5}se(),pe()}return ue(U.params.aspectRatio),U},ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var X=0,Z=arguments.length;Z--;)X+=arguments[Z]*arguments[Z];return Math.sqrt(X)});function create$1(){var X=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(X[1]=0,X[2]=0,X[3]=0,X[4]=0,X[6]=0,X[7]=0,X[8]=0,X[9]=0,X[11]=0,X[12]=0,X[13]=0,X[14]=0),X[0]=1,X[5]=1,X[10]=1,X[15]=1,X}function fromValues$1(X,Z,G,W,F,U,J,Y,D,Q,ee,q,te,ie,ne,ce){var le=new ARRAY_TYPE(16);return le[0]=X,le[1]=Z,le[2]=G,le[3]=W,le[4]=F,le[5]=U,le[6]=J,le[7]=Y,le[8]=D,le[9]=Q,le[10]=ee,le[11]=q,le[12]=te,le[13]=ie,le[14]=ne,le[15]=ce,le}function multiply(X,Z,G){var W=Z[0],F=Z[1],U=Z[2],J=Z[3],Y=Z[4],D=Z[5],Q=Z[6],ee=Z[7],q=Z[8],te=Z[9],ie=Z[10],ne=Z[11],ce=Z[12],le=Z[13],se=Z[14],pe=Z[15],ue=G[0],ae=G[1],de=G[2],be=G[3];return X[0]=ue*W+ae*Y+de*q+be*ce,X[1]=ue*F+ae*D+de*te+be*le,X[2]=ue*U+ae*Q+de*ie+be*se,X[3]=ue*J+ae*ee+de*ne+be*pe,ue=G[4],ae=G[5],de=G[6],be=G[7],X[4]=ue*W+ae*Y+de*q+be*ce,X[5]=ue*F+ae*D+de*te+be*le,X[6]=ue*U+ae*Q+de*ie+be*se,X[7]=ue*J+ae*ee+de*ne+be*pe,ue=G[8],ae=G[9],de=G[10],be=G[11],X[8]=ue*W+ae*Y+de*q+be*ce,X[9]=ue*F+ae*D+de*te+be*le,X[10]=ue*U+ae*Q+de*ie+be*se,X[11]=ue*J+ae*ee+de*ne+be*pe,ue=G[12],ae=G[13],de=G[14],be=G[15],X[12]=ue*W+ae*Y+de*q+be*ce,X[13]=ue*F+ae*D+de*te+be*le,X[14]=ue*U+ae*Q+de*ie+be*se,X[15]=ue*J+ae*ee+de*ne+be*pe,X}function create(){var X=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(X[0]=0,X[1]=0,X[2]=0,X[3]=0),X}function fromValues(X,Z,G,W){var F=new ARRAY_TYPE(4);return F[0]=X,F[1]=Z,F[2]=G,F[3]=W,F}function scale(X,Z,G){return X[0]=Z[0]*G,X[1]=Z[1]*G,X[2]=Z[2]*G,X[3]=Z[3]*G,X}function transformMat4(X,Z,G){var W=Z[0],F=Z[1],U=Z[2],J=Z[3];return X[0]=G[0]*W+G[4]*F+G[8]*U+G[12]*J,X[1]=G[1]*W+G[5]*F+G[9]*U+G[13]*J,X[2]=G[2]*W+G[6]*F+G[10]*U+G[14]*J,X[3]=G[3]*W+G[7]*F+G[11]*U+G[15]*J,X}(function(){var X=create();return function(Z,G,W,F,U,J){var Y,D;for(G||(G=4),W||(W=0),F?D=Math.min(F*G+W,Z.length):D=Z.length,Y=W;Y<D;Y+=G)X[0]=Z[Y],X[1]=Z[Y+1],X[2]=Z[Y+2],X[3]=Z[Y+3],U(X,X,J),Z[Y]=X[0],Z[Y+1]=X[1],Z[Y+2]=X[2],Z[Y+3]=X[3];return Z}})();class SpringDamper{constructor(Z,G=15,W=15){this.target=Z,this.stiffness=G,this.damping=W,this.velocity=this._initializeVelocity(Z),this.animationFrameId=null,this.currentValues=this._clone(Z),this.paused=!1,this.logging=!1}_initializeVelocity(Z){if(typeof Z=="number")return 0;if(Array.isArray(Z)||ArrayBuffer.isView(Z))return Z.map(()=>0);{const G={};for(const W in Z)G[W]=0;return G}}_clone(Z){return Array.isArray(Z)?[...Z]:ArrayBuffer.isView(Z)?Z.slice():typeof Z=="object"?{...Z}:Z}updateTarget(Z){this.target=Z}updateInitialValues(Z){this.currentValues=this._clone(Z)}_interpolateSpring(Z,G,W,F,U,J){const Y=G-Z,D=F*Y,Q=-U*W,ee=D+Q,q=W+ee*J;return{newCurrentValue:Z+q*J,newVelocity:q}}step(Z){if(this.paused)return this.currentValues;const G=(W,F,U)=>this._interpolateSpring(W,F,U,this.stiffness,this.damping,Z);if(typeof this.target=="number"){const{newCurrentValue:W,newVelocity:F}=G(this.currentValues,this.target,this.velocity);this.currentValues=W,this.velocity=F}else if(Array.isArray(this.target)||ArrayBuffer.isView(this.target))for(let W=0;W<this.target.length;W++){const{newCurrentValue:F,newVelocity:U}=G(this.currentValues[W],this.target[W],this.velocity[W]);this.currentValues[W]=F,this.velocity[W]=U}else for(const W in this.target){const{newCurrentValue:F,newVelocity:U}=G(this.currentValues[W],this.target[W],this.velocity[W]);this.currentValues[W]=F,this.velocity[W]=U}return this.currentValues}animate(Z){console.log("animating...",this.target,this);const G=1/60,W=()=>{this.logging&&console.log("looping spring...",this.target,this);const F=this.step(G);Z(F),this.animationFrameId=rafExports(W)};this.stop(),this.animationFrameId=rafExports(W)}pause(){this.paused=!0}resume(){this.paused=!1}stop(){rafExports.cancel(this.animationFrameId)}}const asyncState=moize((X,Z)=>{let G=!1,W,F=new Promise(Y=>{W=Y});return{set:Y=>{G?F=Y:(G=!0,W(Y))},get:()=>F}},{maxSize:1/0}),state=moize.maxArgs(2)((X,Z,G=()=>{})=>{let W;return{set:J=>{W=J},get:()=>(W===void 0&&(W=G()),W)}},{maxSize:1/0}),getGlobalCamera=moize.infinite(X=>inertialTurntableCamera({panDecayTime:200,zoomDecayTime:200,rotationDecayTime:500,distance:2e3})),getOrthographicCamera=moize.infinite((X,Z)=>inertialTurntableCamera({phi:Math.PI/4,theta:Math.PI/4,distance:200,center:[0,0,0],fovY:.013888888888888888*(Math.PI/2),near:2,far:400})),updateCameras$1=(X,Z,G,W)=>{const F=getGlobalCamera(X),U={near:F.params.distance*.1,far:F.params.distance*5e4};F.resize(G/W),F.tick({fovY:Math.PI/3,...U});const J=getOrthographicCamera(X,"zoomed");J.params.distance=F.params.distance,J.params.center=[0,0,0],J.resize(G/W),J.tick(U);const Y=getOrthographicCamera(X,"fixed");Y.resize(G/W),Y.tick({near:Y.params.distance*.1,far:Y.params.distance*1e4});const D=new Float32Array(F.state.projection),Q=new Float32Array(F.state.view),ee=new Float32Array(J.state.projection),q=new Float32Array(J.state.view),te=new Float32Array(Y.state.projection),ie=new Float32Array(Y.state.view),ne=new Float32Array([F.params.distance,F.params.rotationCenter[0],F.params.rotationCenter[1],F.params.rotationCenter[2],F.params.center[0],F.params.center[1],F.params.center[2],F.params.phi,F.params.theta]);Z(transfer(D,[D.buffer]),transfer(Q,[Q.buffer]),transfer(ee,[ee.buffer]),transfer(q,[q.buffer]),transfer(te,[te.buffer]),transfer(ie,[ie.buffer]),transfer(ne,[ne.buffer]))},getCenterSpringDamper=X=>state(X,"centerSpringDamper",()=>new SpringDamper(getGlobalCamera(X).params.center)).get(),centerUpdate=curry((X,Z)=>{const G=getGlobalCamera(X);G.params.center=Z}),startCenterSpring=debounce(X=>{console.debug("starting center spring for",X);const Z=getGlobalCamera(X),G=getCenterSpringDamper(X);G.updateInitialValues(Z.params.center),G.animate(centerUpdate(X))},100),setCameraCenter$1=(X,Z,G=3e3)=>{console.debug("setCameraCenter, updating target",[...Z]);const W=getGlobalCamera(X),F=getCenterSpringDamper(X);W.params.rotationCenter=Z,F.updateTarget(Z),startCenterSpring(X)},getDistanceSpringDamper=X=>state(X,"distanceSpringDamper",()=>new SpringDamper(getGlobalCamera(X).params.distance)).get(),distanceUpdate=(X,Z)=>{const G=getGlobalCamera(X);G.params.distance=Z},startDistanceSpring=debounce(X=>{const Z=getGlobalCamera(X),G=getDistanceSpringDamper(X);G.updateTarget(Z.params.distance),G.updateInitialValues(Z.params.distance),G.animate(distanceUpdate)},100),setCameraDistance$1=(X,Z,G=5e3)=>{getDistanceSpringDamper(X).updateTarget(Z)},startCameraAnimation=X=>{startCenterSpring(X),startDistanceSpring(X)},getCameraAnimationState=X=>state(X,"cameraAnimationState",()=>({panning:!1,zooming:!1})).get(),startPanning$1=X=>{const Z=getCameraAnimationState(X);Z.panning=!0,getCenterSpringDamper(X).stop()},stopPanning$1=X=>{const Z=getCameraAnimationState(X);Z.panning=!1},startZooming$1=X=>{const Z=getCameraAnimationState(X);Z.zooming=!0,getDistanceSpringDamper(X).stop()},stopZooming$1=X=>{const Z=getCameraAnimationState(X);Z.zooming=!1,startDistanceSpring(X)},zoomGlobalCamera$1=(X,Z,G,W)=>{const F=getGlobalCamera(X);(F.params.distance>25||W>0)&&F.zoom(Z,G,W)},panGlobalCamera$1=(X,...Z)=>{getGlobalCamera(X).pan(...Z)},getGlobalCameraParams$1=X=>getGlobalCamera(X).params,computeScreenPosition$1=(X,[Z,G,W])=>{const{projection:F,view:U}=getGlobalCamera(X).state,J=fromValues(Z,G,W,1),Y=create(),D=create(),Q=fromValues$1(...F),ee=fromValues$1(...U),q=create$1();return multiply(q,Q,ee),transformMat4(Y,J,q),scale(D,Y,1/Y[3]),[D[0],D[1],D[2]]},cameraAnimation=Object.freeze(Object.defineProperty({__proto__:null,computeScreenPosition:computeScreenPosition$1,getGlobalCamera,getGlobalCameraParams:getGlobalCameraParams$1,panGlobalCamera:panGlobalCamera$1,setCameraCenter:setCameraCenter$1,setCameraDistance:setCameraDistance$1,startCameraAnimation,startPanning:startPanning$1,startZooming:startZooming$1,stopPanning:stopPanning$1,stopZooming:stopZooming$1,updateCameras:updateCameras$1,zoomGlobalCamera:zoomGlobalCamera$1},Symbol.toStringTag,{value:"Module"}));expose$1({...db,...layout,...cameraAnimation});var __spreadArray=globalThis&&globalThis.__spreadArray||function(X,Z,G){if(G||arguments.length===2)for(var W=0,F=Z.length,U;W<F;W++)(U||!(W in Z))&&(U||(U=Array.prototype.slice.call(Z,0,W)),U[W]=Z[W]);return X.concat(U||Array.prototype.slice.call(Z))},BrowserInfo=function(){function X(Z,G,W){this.name=Z,this.version=G,this.os=W,this.type="browser"}return X}(),NodeInfo=function(){function X(Z){this.version=Z,this.type="node",this.name="node",this.os=process.platform}return X}(),SearchBotDeviceInfo=function(){function X(Z,G,W,F){this.name=Z,this.version=G,this.os=W,this.bot=F,this.type="bot-device"}return X}(),BotInfo=function(){function X(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return X}(),ReactNativeInfo=function(){function X(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return X}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(X){return X?parseUserAgent(X):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(X){return X!==""&&userAgentRules.reduce(function(Z,G){var W=G[0],F=G[1];if(Z)return Z;var U=F.exec(X);return!!U&&[W,U]},!1)}function parseUserAgent(X){var Z=matchUserAgent(X);if(!Z)return null;var G=Z[0],W=Z[1];if(G==="searchbot")return new BotInfo;var F=W[1]&&W[1].split(".").join("_").split("_").slice(0,3);F?F.length<REQUIRED_VERSION_PARTS&&(F=__spreadArray(__spreadArray([],F,!0),createVersionParts(REQUIRED_VERSION_PARTS-F.length),!0)):F=[];var U=F.join("."),J=detectOS(X),Y=SEARCHBOT_OS_REGEX.exec(X);return Y&&Y[1]?new SearchBotDeviceInfo(G,U,J,Y[1]):new BrowserInfo(G,U,J)}function detectOS(X){for(var Z=0,G=operatingSystemRules.length;Z<G;Z++){var W=operatingSystemRules[Z],F=W[0],U=W[1],J=U.exec(X);if(J)return F}return null}function getNodeVersion(){var X=typeof process<"u"&&process.version;return X?new NodeInfo(process.version.slice(1)):null}function createVersionParts(X){for(var Z=[],G=0;G<X;G++)Z.push("0");return Z}const useWorkers=detect(navigator.userAgent)?.name!=="safari";console.log(useWorkers?"Using workers":"Not using workers");const graphDb=moize.infinite(X=>useWorkers?wrap$1(new WorkerWrapper):db),graphLayout=moize.infinite(X=>useWorkers?wrap$1(new WorkerWrapper):layout),graphCameraAnimation=moize.infinite(X=>cameraAnimation);var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(X,Z,G){if(!Z.has(X))throw new TypeError("attempted to set private field on non-instance");return Z.set(X,G),G},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(X,Z){if(!Z.has(X))throw new TypeError("attempted to get private field on non-instance");return Z.get(X)},_block,_blocks,_bytes,_finalized,_first,_h0,_h1,_h2,_h3,_h4,_h5,_h6,_h7,_hashed,_hBytes,_is224,_lastByteIndex,_start;const BKDRHash=function(X){var Z=131,G=137,W=0;X+="x";var F=Math.floor(9007199254740991/G);for(let U=0;U<X.length;U++)W>F&&(W=Math.floor(W/G)),W=W*Z+X.charCodeAt(U);return W},HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],blocks=[];class Sha256{constructor(Z=!1,G=!1){_block.set(this,void 0),_blocks.set(this,void 0),_bytes.set(this,void 0),_finalized.set(this,void 0),_first.set(this,void 0),_h0.set(this,void 0),_h1.set(this,void 0),_h2.set(this,void 0),_h3.set(this,void 0),_h4.set(this,void 0),_h5.set(this,void 0),_h6.set(this,void 0),_h7.set(this,void 0),_hashed.set(this,void 0),_hBytes.set(this,void 0),_is224.set(this,void 0),_lastByteIndex.set(this,0),_start.set(this,void 0),this.init(Z,G)}init(Z,G){G?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,__classPrivateFieldSet(this,_blocks,blocks)):__classPrivateFieldSet(this,_blocks,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Z?(__classPrivateFieldSet(this,_h0,3238371032),__classPrivateFieldSet(this,_h1,914150663),__classPrivateFieldSet(this,_h2,812702999),__classPrivateFieldSet(this,_h3,4144912697),__classPrivateFieldSet(this,_h4,4290775857),__classPrivateFieldSet(this,_h5,1750603025),__classPrivateFieldSet(this,_h6,1694076839),__classPrivateFieldSet(this,_h7,3204075428)):(__classPrivateFieldSet(this,_h0,1779033703),__classPrivateFieldSet(this,_h1,3144134277),__classPrivateFieldSet(this,_h2,1013904242),__classPrivateFieldSet(this,_h3,2773480762),__classPrivateFieldSet(this,_h4,1359893119),__classPrivateFieldSet(this,_h5,2600822924),__classPrivateFieldSet(this,_h6,528734635),__classPrivateFieldSet(this,_h7,1541459225)),__classPrivateFieldSet(this,_block,__classPrivateFieldSet(this,_start,__classPrivateFieldSet(this,_bytes,__classPrivateFieldSet(this,_hBytes,0)))),__classPrivateFieldSet(this,_finalized,__classPrivateFieldSet(this,_hashed,!1)),__classPrivateFieldSet(this,_first,!0),__classPrivateFieldSet(this,_is224,Z)}update(Z){if(__classPrivateFieldGet(this,_finalized))return this;let G;Z instanceof ArrayBuffer?G=new Uint8Array(Z):G=Z;let W=0;const F=G.length,U=__classPrivateFieldGet(this,_blocks);for(;W<F;){let J;if(__classPrivateFieldGet(this,_hashed)&&(__classPrivateFieldSet(this,_hashed,!1),U[0]=__classPrivateFieldGet(this,_block),U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),typeof G!="string")for(J=__classPrivateFieldGet(this,_start);W<F&&J<64;++W)U[J>>2]|=G[W]<<SHIFT[J++&3];else for(J=__classPrivateFieldGet(this,_start);W<F&&J<64;++W){let Y=G.charCodeAt(W);Y<128?U[J>>2]|=Y<<SHIFT[J++&3]:Y<2048?(U[J>>2]|=(192|Y>>6)<<SHIFT[J++&3],U[J>>2]|=(128|Y&63)<<SHIFT[J++&3]):Y<55296||Y>=57344?(U[J>>2]|=(224|Y>>12)<<SHIFT[J++&3],U[J>>2]|=(128|Y>>6&63)<<SHIFT[J++&3],U[J>>2]|=(128|Y&63)<<SHIFT[J++&3]):(Y=65536+((Y&1023)<<10|G.charCodeAt(++W)&1023),U[J>>2]|=(240|Y>>18)<<SHIFT[J++&3],U[J>>2]|=(128|Y>>12&63)<<SHIFT[J++&3],U[J>>2]|=(128|Y>>6&63)<<SHIFT[J++&3],U[J>>2]|=(128|Y&63)<<SHIFT[J++&3])}__classPrivateFieldSet(this,_lastByteIndex,J),__classPrivateFieldSet(this,_bytes,__classPrivateFieldGet(this,_bytes)+(J-__classPrivateFieldGet(this,_start))),J>=64?(__classPrivateFieldSet(this,_block,U[16]),__classPrivateFieldSet(this,_start,J-64),this.hash(),__classPrivateFieldSet(this,_hashed,!0)):__classPrivateFieldSet(this,_start,J)}return __classPrivateFieldGet(this,_bytes)>4294967295&&(__classPrivateFieldSet(this,_hBytes,__classPrivateFieldGet(this,_hBytes)+(__classPrivateFieldGet(this,_bytes)/4294967296<<0)),__classPrivateFieldSet(this,_bytes,__classPrivateFieldGet(this,_bytes)%4294967296)),this}finalize(){if(__classPrivateFieldGet(this,_finalized))return;__classPrivateFieldSet(this,_finalized,!0);const Z=__classPrivateFieldGet(this,_blocks),G=__classPrivateFieldGet(this,_lastByteIndex);Z[16]=__classPrivateFieldGet(this,_block),Z[G>>2]|=EXTRA[G&3],__classPrivateFieldSet(this,_block,Z[16]),G>=56&&(__classPrivateFieldGet(this,_hashed)||this.hash(),Z[0]=__classPrivateFieldGet(this,_block),Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),Z[14]=__classPrivateFieldGet(this,_hBytes)<<3|__classPrivateFieldGet(this,_bytes)>>>29,Z[15]=__classPrivateFieldGet(this,_bytes)<<3,this.hash()}hash(){let Z=__classPrivateFieldGet(this,_h0),G=__classPrivateFieldGet(this,_h1),W=__classPrivateFieldGet(this,_h2),F=__classPrivateFieldGet(this,_h3),U=__classPrivateFieldGet(this,_h4),J=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),D=__classPrivateFieldGet(this,_h7);const Q=__classPrivateFieldGet(this,_blocks);let ee,q,te,ie,ne,ce,le,se,pe,ue;for(let ae=16;ae<64;++ae)ie=Q[ae-15],ee=(ie>>>7|ie<<25)^(ie>>>18|ie<<14)^ie>>>3,ie=Q[ae-2],q=(ie>>>17|ie<<15)^(ie>>>19|ie<<13)^ie>>>10,Q[ae]=Q[ae-16]+ee+Q[ae-7]+q<<0;ue=G&W;for(let ae=0;ae<64;ae+=4)__classPrivateFieldGet(this,_first)?(__classPrivateFieldGet(this,_is224)?(le=300032,ie=Q[0]-1413257819,D=ie-150054599<<0,F=ie+24177077<<0):(le=704751109,ie=Q[0]-210244248,D=ie-1521486534<<0,F=ie+143694565<<0),__classPrivateFieldSet(this,_first,!1)):(ee=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),q=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),le=Z&G,te=le^Z&W^ue,ce=U&J^~U&Y,ie=D+q+ce+K[ae]+Q[ae],ne=ee+te,D=F+ie<<0,F=ie+ne<<0),ee=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),q=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),se=F&Z,te=se^F&G^le,ce=D&U^~D&J,ie=Y+q+ce+K[ae+1]+Q[ae+1],ne=ee+te,Y=W+ie<<0,W=ie+ne<<0,ee=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),q=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),pe=W&F,te=pe^W&Z^se,ce=Y&D^~Y&U,ie=J+q+ce+K[ae+2]+Q[ae+2],ne=ee+te,J=G+ie<<0,G=ie+ne<<0,ee=(G>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),q=(J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7),ue=G&W,te=ue^G&F^pe,ce=J&Y^~J&D,ie=U+q+ce+K[ae+3]+Q[ae+3],ne=ee+te,U=Z+ie<<0,Z=ie+ne<<0;__classPrivateFieldSet(this,_h0,__classPrivateFieldGet(this,_h0)+Z<<0),__classPrivateFieldSet(this,_h1,__classPrivateFieldGet(this,_h1)+G<<0),__classPrivateFieldSet(this,_h2,__classPrivateFieldGet(this,_h2)+W<<0),__classPrivateFieldSet(this,_h3,__classPrivateFieldGet(this,_h3)+F<<0),__classPrivateFieldSet(this,_h4,__classPrivateFieldGet(this,_h4)+U<<0),__classPrivateFieldSet(this,_h5,__classPrivateFieldGet(this,_h5)+J<<0),__classPrivateFieldSet(this,_h6,__classPrivateFieldGet(this,_h6)+Y<<0),__classPrivateFieldSet(this,_h7,__classPrivateFieldGet(this,_h7)+D<<0)}hex(){this.finalize();const Z=__classPrivateFieldGet(this,_h0),G=__classPrivateFieldGet(this,_h1),W=__classPrivateFieldGet(this,_h2),F=__classPrivateFieldGet(this,_h3),U=__classPrivateFieldGet(this,_h4),J=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),D=__classPrivateFieldGet(this,_h7);let Q=HEX_CHARS[Z>>28&15]+HEX_CHARS[Z>>24&15]+HEX_CHARS[Z>>20&15]+HEX_CHARS[Z>>16&15]+HEX_CHARS[Z>>12&15]+HEX_CHARS[Z>>8&15]+HEX_CHARS[Z>>4&15]+HEX_CHARS[Z&15]+HEX_CHARS[G>>28&15]+HEX_CHARS[G>>24&15]+HEX_CHARS[G>>20&15]+HEX_CHARS[G>>16&15]+HEX_CHARS[G>>12&15]+HEX_CHARS[G>>8&15]+HEX_CHARS[G>>4&15]+HEX_CHARS[G&15]+HEX_CHARS[W>>28&15]+HEX_CHARS[W>>24&15]+HEX_CHARS[W>>20&15]+HEX_CHARS[W>>16&15]+HEX_CHARS[W>>12&15]+HEX_CHARS[W>>8&15]+HEX_CHARS[W>>4&15]+HEX_CHARS[W&15]+HEX_CHARS[F>>28&15]+HEX_CHARS[F>>24&15]+HEX_CHARS[F>>20&15]+HEX_CHARS[F>>16&15]+HEX_CHARS[F>>12&15]+HEX_CHARS[F>>8&15]+HEX_CHARS[F>>4&15]+HEX_CHARS[F&15]+HEX_CHARS[U>>28&15]+HEX_CHARS[U>>24&15]+HEX_CHARS[U>>20&15]+HEX_CHARS[U>>16&15]+HEX_CHARS[U>>12&15]+HEX_CHARS[U>>8&15]+HEX_CHARS[U>>4&15]+HEX_CHARS[U&15]+HEX_CHARS[J>>28&15]+HEX_CHARS[J>>24&15]+HEX_CHARS[J>>20&15]+HEX_CHARS[J>>16&15]+HEX_CHARS[J>>12&15]+HEX_CHARS[J>>8&15]+HEX_CHARS[J>>4&15]+HEX_CHARS[J&15]+HEX_CHARS[Y>>28&15]+HEX_CHARS[Y>>24&15]+HEX_CHARS[Y>>20&15]+HEX_CHARS[Y>>16&15]+HEX_CHARS[Y>>12&15]+HEX_CHARS[Y>>8&15]+HEX_CHARS[Y>>4&15]+HEX_CHARS[Y&15];return __classPrivateFieldGet(this,_is224)||(Q+=HEX_CHARS[D>>28&15]+HEX_CHARS[D>>24&15]+HEX_CHARS[D>>20&15]+HEX_CHARS[D>>16&15]+HEX_CHARS[D>>12&15]+HEX_CHARS[D>>8&15]+HEX_CHARS[D>>4&15]+HEX_CHARS[D&15]),Q}toString(){return this.hex()}digest(){this.finalize();const Z=__classPrivateFieldGet(this,_h0),G=__classPrivateFieldGet(this,_h1),W=__classPrivateFieldGet(this,_h2),F=__classPrivateFieldGet(this,_h3),U=__classPrivateFieldGet(this,_h4),J=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),D=__classPrivateFieldGet(this,_h7),Q=[Z>>24&255,Z>>16&255,Z>>8&255,Z&255,G>>24&255,G>>16&255,G>>8&255,G&255,W>>24&255,W>>16&255,W>>8&255,W&255,F>>24&255,F>>16&255,F>>8&255,F&255,U>>24&255,U>>16&255,U>>8&255,U&255,J>>24&255,J>>16&255,J>>8&255,J&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255];return __classPrivateFieldGet(this,_is224)||Q.push(D>>24&255,D>>16&255,D>>8&255,D&255),Q}array(){return this.digest()}arrayBuffer(){this.finalize();const Z=new ArrayBuffer(__classPrivateFieldGet(this,_is224)?28:32),G=new DataView(Z);return G.setUint32(0,__classPrivateFieldGet(this,_h0)),G.setUint32(4,__classPrivateFieldGet(this,_h1)),G.setUint32(8,__classPrivateFieldGet(this,_h2)),G.setUint32(12,__classPrivateFieldGet(this,_h3)),G.setUint32(16,__classPrivateFieldGet(this,_h4)),G.setUint32(20,__classPrivateFieldGet(this,_h5)),G.setUint32(24,__classPrivateFieldGet(this,_h6)),__classPrivateFieldGet(this,_is224)||G.setUint32(28,__classPrivateFieldGet(this,_h7)),Z}}_block=new WeakMap,_blocks=new WeakMap,_bytes=new WeakMap,_finalized=new WeakMap,_first=new WeakMap,_h0=new WeakMap,_h1=new WeakMap,_h2=new WeakMap,_h3=new WeakMap,_h4=new WeakMap,_h5=new WeakMap,_h6=new WeakMap,_h7=new WeakMap,_hashed=new WeakMap,_hBytes=new WeakMap,_is224=new WeakMap,_lastByteIndex=new WeakMap,_start=new WeakMap;function Sha256ToInt(X){const Z=new Sha256;return Z.update(X),parseInt(Z.hex().substring(0,8),16)}const RGB2HEX=function(X){var Z="#";return X.forEach(function(G){G<16&&(Z+=0),Z+=G.toString(16)}),Z},HSL2RGB=function(X,Z,G){X/=360;var W=G<.5?G*(1+Z):G+Z-G*Z,F=2*G-W;return[X+1/3,X,X-1/3].map(function(U){return U<0&&U++,U>1&&U--,U<1/6?U=F+(W-F)*6*U:U<.5?U=W:U<2/3?U=F+(W-F)*6*(2/3-U):U=F,Math.round(U*255)})};class ColorHash{constructor(Z={}){const[G,W]=[Z.lightness,Z.saturation].map(function(F){return F=F!==void 0?F:[.35,.5,.65],Array.isArray(F)?F.concat():[F]});this.L=G,this.S=W,typeof Z.hue=="number"&&(Z.hue={min:Z.hue,max:Z.hue}),typeof Z.hue=="object"&&!Array.isArray(Z.hue)&&(Z.hue=[Z.hue]),typeof Z.hue>"u"&&(Z.hue=[]),this.hueRanges=Z.hue.map(function(F){return{min:typeof F.min>"u"?0:F.min,max:typeof F.max>"u"?360:F.max}}),this.hash=Sha256ToInt,typeof Z.hash=="function"&&(this.hash=Z.hash),Z.hash==="bkdr"&&(this.hash=BKDRHash)}hsl(Z){var G,W,F,U=this.hash(Z),J=727;if(this.hueRanges.length){const Y=this.hueRanges[U%this.hueRanges.length];G=U/this.hueRanges.length%J*(Y.max-Y.min)/J+Y.min}else G=U%359;return U=Math.ceil(U/360),W=this.S[U%this.S.length],U=Math.ceil(U/this.S.length),F=this.L[U%this.L.length],[G,W,F]}rgb(Z){var G=this.hsl(Z);return HSL2RGB.apply(this,G)}hex(Z){var G=this.rgb(Z);return RGB2HEX(G)}}var gpuIoExports={},gpuIo={get exports(){return gpuIoExports},set exports(X){gpuIoExports=X}};(function(X,Z){(function(W,F){X.exports=F()})(self,()=>(()=>{var G={566:function(J,Y){(function(D,Q){Q(Y)})(this,function(D){function Q(fe){return!Number.isNaN(fe)&&typeof fe=="number"}function ee(fe){return Q(fe)&&Number.isFinite(fe)}function q(fe){return ee(fe)&&fe%1===0}function te(fe){return Q(fe)&&fe>0}function ie(fe){return q(fe)&&fe>0}function ne(fe){return Q(fe)&&fe<0}function ce(fe){return q(fe)&&fe<0}function le(fe){return Q(fe)&&fe>=0}function se(fe){return q(fe)&&fe>=0}function pe(fe){return Q(fe)&&fe<=0}function ue(fe){return q(fe)&&fe<=0}function ae(fe,Re,ye){return Q(fe)&&fe>=Re&&fe<=ye}function de(fe,Re,ye){return q(fe)&&fe>=Re&&fe<=ye}function be(fe){return typeof fe=="string"}function he(fe){return ArrayBuffer.isView(fe)&&!(fe instanceof DataView)}function Le(fe){return Array.isArray(fe)||he(fe)}function Xe(fe){return typeof fe=="object"&&!Le(fe)&&fe!==null&&!(fe instanceof ArrayBuffer)&&!(fe instanceof DataView)}function We(fe){return typeof fe=="boolean"}D.isArray=Le,D.isBoolean=We,D.isFiniteNumber=ee,D.isInteger=q,D.isIntegerInRange=de,D.isNegativeInteger=ce,D.isNegativeNumber=ne,D.isNonNegativeInteger=se,D.isNonNegativeNumber=le,D.isNonPositiveInteger=ue,D.isNonPositiveNumber=pe,D.isNumber=Q,D.isNumberInRange=ae,D.isObject=Xe,D.isPositiveInteger=ie,D.isPositiveNumber=te,D.isString=be,D.isTypedArray=he,Object.defineProperty(D,"__esModule",{value:!0})})},809:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.changeDpiBlob=de,Y.changeDpiDataUrl=be;function D(We){if(Array.isArray(We)){for(var fe=0,Re=Array(We.length);fe<We.length;fe++)Re[fe]=We[fe];return Re}else return Array.from(We)}function Q(){for(var We=new Int32Array(256),fe=0;fe<256;fe++){for(var Re=fe,ye=0;ye<8;ye++)Re=Re&1?3988292384^Re>>>1:Re>>>1;We[fe]=Re}return We}function ee(We){var fe=-1;q||(q=Q());for(var Re=0;Re<We.length;Re++)fe=q[(fe^We[Re])&255]^fe>>>8;return fe^-1}var q=void 0,te="image/png",ie="image/jpeg",ne="AAlwSFlz",ce="AAAJcEhZ",le="AAAACXBI",se="p".charCodeAt(0),pe="H".charCodeAt(0),ue="Y".charCodeAt(0),ae="s".charCodeAt(0);function de(We,fe){var Re=We.slice(0,33);return new Promise(function(ye,re){var Ze=new FileReader;Ze.onload=function(){var Ge=new Uint8Array(Ze.result),ve=We.slice(33),Te=Xe(Ge,fe,We.type);ye(new Blob([Te,ve],{type:We.type}))},Ze.readAsArrayBuffer(Re)})}function be(We,fe){var Re=We.split(","),ye=Re[0],re=Re[1],Ze=void 0,Ge=void 0,ve=!1;if(ye.indexOf(te)!==-1){Ze=te;var Te=he(re);Te>=0?(Ge=Math.ceil((Te+28)/3)*4,ve=!0):Ge=44}ye.indexOf(ie)!==-1&&(Ze=ie,Ge=24);for(var xe=re.substring(0,Ge),Ie=re.substring(Ge),Se=atob(xe),Ne=new Uint8Array(Se.length),je=0;je<Ne.length;je++)Ne[je]=Se.charCodeAt(je);var tt=Xe(Ne,fe,Ze,ve),it=btoa(String.fromCharCode.apply(String,D(tt)));return[ye,",",it,Ie].join("")}function he(We){var fe=We.indexOf(ne);return fe===-1&&(fe=We.indexOf(ce)),fe===-1&&(fe=We.indexOf(le)),fe}function Le(We){for(var fe=We.length-1,Re=fe;Re>=4;Re--)if(We[Re-4]===9&&We[Re-3]===se&&We[Re-2]===pe&&We[Re-1]===ue&&We[Re]===ae)return Re-3}function Xe(We,fe,Re,ye){if(Re===ie)return We[13]=1,We[14]=fe>>8,We[15]=fe&255,We[16]=fe>>8,We[17]=fe&255,We;if(Re===te){var re=new Uint8Array(13);fe*=39.3701,re[0]=se,re[1]=pe,re[2]=ue,re[3]=ae,re[4]=fe>>>24,re[5]=fe>>>16,re[6]=fe>>>8,re[7]=fe&255,re[8]=re[4],re[9]=re[5],re[10]=re[6],re[11]=re[7],re[12]=1;var Ze=ee(re),Ge=new Uint8Array(4);if(Ge[0]=Ze>>>24,Ge[1]=Ze>>>16,Ge[2]=Ze>>>8,Ge[3]=Ze&255,ye){var ve=Le(We);return We.set(re,ve),We.set(Ge,ve+13),We}else{var Te=new Uint8Array(4);Te[0]=0,Te[1]=0,Te[2]=0,Te[3]=9;var xe=new Uint8Array(54);return xe.set(We,0),xe.set(Te,33),xe.set(re,37),xe.set(Ge,50),xe}}}},162:function(J,Y,D){var Q,ee,q;(function(te,ie){ee=[],Q=ie,q=typeof Q=="function"?Q.apply(Y,ee):Q,q!==void 0&&(J.exports=q)})(this,function(){function te(ue,ae){return typeof ae>"u"?ae={autoBom:!1}:typeof ae!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ae={autoBom:!ae}),ae.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ue.type)?new Blob(["\uFEFF",ue],{type:ue.type}):ue}function ie(ue,ae,de){var be=new XMLHttpRequest;be.open("GET",ue),be.responseType="blob",be.onload=function(){pe(be.response,ae,de)},be.onerror=function(){console.error("could not download file")},be.send()}function ne(ue){var ae=new XMLHttpRequest;ae.open("HEAD",ue,!1);try{ae.send()}catch{}return 200<=ae.status&&299>=ae.status}function ce(ue){try{ue.dispatchEvent(new MouseEvent("click"))}catch{var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ue.dispatchEvent(ae)}}var le=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof D.g=="object"&&D.g.global===D.g?D.g:void 0,se=le.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),pe=le.saveAs||(typeof window!="object"||window!==le?function(){}:"download"in HTMLAnchorElement.prototype&&!se?function(ue,ae,de){var be=le.URL||le.webkitURL,he=document.createElement("a");ae=ae||ue.name||"download",he.download=ae,he.rel="noopener",typeof ue=="string"?(he.href=ue,he.origin===location.origin?ce(he):ne(he.href)?ie(ue,ae,de):ce(he,he.target="_blank")):(he.href=be.createObjectURL(ue),setTimeout(function(){be.revokeObjectURL(he.href)},4e4),setTimeout(function(){ce(he)},0))}:"msSaveOrOpenBlob"in navigator?function(ue,ae,de){if(ae=ae||ue.name||"download",typeof ue!="string")navigator.msSaveOrOpenBlob(te(ue,de),ae);else if(ne(ue))ie(ue,ae,de);else{var be=document.createElement("a");be.href=ue,be.target="_blank",setTimeout(function(){ce(be)})}}:function(ue,ae,de,be){if(be=be||open("","_blank"),be&&(be.document.title=be.document.body.innerText="downloading..."),typeof ue=="string")return ie(ue,ae,de);var he=ue.type==="application/octet-stream",Le=/constructor/i.test(le.HTMLElement)||le.safari,Xe=/CriOS\/[\d]+/.test(navigator.userAgent);if((Xe||he&&Le||se)&&typeof FileReader<"u"){var We=new FileReader;We.onloadend=function(){var ye=We.result;ye=Xe?ye:ye.replace(/^data:[^;]*;/,"data:attachment/file;"),be?be.location.href=ye:location=ye,be=null},We.readAsDataURL(ue)}else{var fe=le.URL||le.webkitURL,Re=fe.createObjectURL(ue);be?be.location=Re:location.href=Re,be=null,setTimeout(function(){fe.revokeObjectURL(Re)},4e4)}});le.saveAs=pe.saveAs=pe,J.exports=pe})},484:function(J,Y,D){var Q=this&&this.__assign||function(){return Q=Object.assign||function(ye){for(var re,Ze=1,Ge=arguments.length;Ze<Ge;Ze++){re=arguments[Ze];for(var ve in re)Object.prototype.hasOwnProperty.call(re,ve)&&(ye[ve]=re[ve])}return ye},Q.apply(this,arguments)},ee=this&&this.__spreadArray||function(ye,re,Ze){if(Ze||arguments.length===2)for(var Ge=0,ve=re.length,Te;Ge<ve;Ge++)(Te||!(Ge in re))&&(Te||(Te=Array.prototype.slice.call(re,0,Ge)),Te[Ge]=re[Ge]);return ye.concat(Te||Array.prototype.slice.call(re))};Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPUComposer=void 0;var q=D(809),te=D(566),ie=D(355);D(191);var ne=D(601),ce=D(404),le=D(593),se=D(651),pe=D(567),ue=D(946),ae=D(929),de=D(634),be=D(380),he=D(690),Le=D(579),Xe=D(707),We=D(798),fe=D(581),Re=function(){function ye(re){var Ze;this._errorState=!1,this._circlePositionsBuffer={},this._vertexAttributeLocations={},this._enabledVertexAttributes={},this._extensions={},this._clearValue=0,this._copyPrograms={},this._setValuePrograms={},this._vertexShaders=(Ze={},Ze[ne.DEFAULT_PROGRAM_NAME]={src:se.DEFAULT_VERT_SHADER_SOURCE,compiledShaders:{}},Ze[ne.SEGMENT_PROGRAM_NAME]={src:ue.SEGMENT_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_POINTS_PROGRAM_NAME]={src:ae.LAYER_POINTS_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_VECTOR_FIELD_PROGRAM_NAME]={src:de.LAYER_VECTOR_FIELD_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_LINES_PROGRAM_NAME]={src:pe.LAYER_LINES_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze[ne.LAYER_MESH_PROGRAM_NAME]={src:be.LAYER_MESH_VERTEX_SHADER_SOURCE,compiledShaders:{}},Ze),this.verboseLogging=!1,this._numTicks=0;var Ge=["canvas","context","contextID","contextAttributes","glslVersion","intPrecision","floatPrecision","clearValue","verboseLogging","errorCallback"],ve=["canvas"],Te=Object.keys(re);(0,Xe.checkValidKeys)(Te,Ge,"GPUComposer(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer(params)"),re.verboseLogging!==void 0&&(this.verboseLogging=re.verboseLogging);var xe=this;this._errorCallback=function(it){xe._errorState||(xe._errorState=!0,re.errorCallback?re.errorCallback(it):(0,ne.DEFAULT_ERROR_CALLBACK)(it))};var Ie=re.canvas,Se=re.context;if(!Se){if(re.contextID){var Ne=Ie.getContext(re.contextID,re.contextAttributes);Ne?Se=Ne:console.warn("Unable to initialize WebGL context with contextID: ".concat(re.contextID,"."))}if(!Se){var Ne=Ie.getContext(ne.WEBGL2,re.contextAttributes)||Ie.getContext(ne.WEBGL1,re.contextAttributes)||Ie.getContext(ne.EXPERIMENTAL_WEBGL2,re.contextAttributes)||Ie.getContext(ne.EXPERIMENTAL_WEBGL,re.contextAttributes);Ne&&(Se=Ne)}if(!Se){this._errorCallback("Unable to initialize WebGL context.");return}}this.isWebGL2=(0,le.isWebGL2)(Se),this.isWebGL2?this.verboseLogging&&console.log("Using WebGL 2.0 context."):this.verboseLogging&&console.log("Using WebGL 1.0 context."),this.gl=Se;var je=re.glslVersion||(this.isWebGL2?ne.GLSL3:ne.GLSL1);if(!this.isWebGL2&&je===ne.GLSL3&&(console.warn("GLSL3.x is incompatible with WebGL1.0 contexts, falling back to GLSL1."),je=ne.GLSL1),this.glslVersion=je,this.intPrecision=re.intPrecision||ne.PRECISION_HIGH_P,this.floatPrecision=re.floatPrecision||ne.PRECISION_HIGH_P,Se.disable(Se.DEPTH_TEST),Se.pixelStorei(Se.UNPACK_ALIGNMENT,1),this.isWebGL2)Se.bindVertexArray(null);else{var tt=(0,fe.getExtension)(this,fe.OES_VERTEX_ARRAY_OBJECT,!0);tt.bindVertexArrayOES(null)}Se.bindBuffer(Se.ARRAY_BUFFER,null),re.clearValue!==void 0&&(this.clearValue=re.clearValue),this.resize([Ie.clientWidth,Ie.clientHeight]),this.verboseLogging&&console.log("".concat(this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS)," textures max."))}return ye.initWithThreeRenderer=function(re,Ze){var Ge=new ye(Q(Q({floatPrecision:re.capabilities.precision,intPrecision:re.capabilities.precision},Ze),{canvas:re.domElement,context:re.getContext()}));return Ge._threeRenderer=re,Ge},Object.defineProperty(ye.prototype,"canvas",{get:function(){return this.gl.canvas},enumerable:!1,configurable:!0}),ye.prototype._setValueProgramForType=function(re){var Ze=this._setValuePrograms,Ge=(0,he.uniformTypeForType)(re,this.glslVersion);return Ze[Ge]===void 0&&(Ze[Ge]=(0,Le.setValueProgram)(this,{type:re,value:[0,0,0,0]})),Ze[Ge]},ye.prototype._copyProgramForType=function(re){var Ze=this._copyPrograms,Ge=(0,he.uniformTypeForType)(re,this.glslVersion);return Ze[Ge]===void 0&&(Ze[Ge]=(0,Le.copyProgram)(this,{type:re})),Ze[Ge]},ye.prototype._initVertexBuffer=function(re){var Ze=this,Ge=Ze._errorCallback,ve=Ze.gl,Te=Ze.isWebGL2;if(Te)ve.bindVertexArray(null);else{var xe=(0,fe.getExtension)(this,fe.OES_VERTEX_ARRAY_OBJECT,!0);xe.bindVertexArrayOES(null)}var Ie=ve.createBuffer();if(!Ie){Ge("Unable to allocate gl buffer.");return}return ve.bindBuffer(ve.ARRAY_BUFFER,Ie),ve.bufferData(ve.ARRAY_BUFFER,re,ve.STATIC_DRAW),Ie},ye.prototype._getQuadPositionsBuffer=function(){if(this._quadPositionsBuffer===void 0){var re=new Float32Array([-1,-1,1,-1,-1,1,1,1]);this._quadPositionsBuffer=this._initVertexBuffer(re)}return this._quadPositionsBuffer},ye.prototype._getBoundaryPositionsBuffer=function(){if(this._boundaryPositionsBuffer===void 0){var re=new Float32Array([-1,-1,1,-1,1,1,-1,1,-1,-1]);this._boundaryPositionsBuffer=this._initVertexBuffer(re)}return this._boundaryPositionsBuffer},ye.prototype._getCirclePositionsBuffer=function(re){var Ze=this._circlePositionsBuffer;if(Ze[re]==null){for(var Ge=[0,0],ve=0;ve<re;ve++)Ge.push(Math.cos(2*Math.PI*ve/re),Math.sin(2*Math.PI*ve/re));Ge.push(Math.cos(0),Math.sin(0));var Te=new Float32Array(Ge),xe=this._initVertexBuffer(Te);Ze[re]=xe}return Ze[re]},ye.prototype._cloneGPULayer=function(re,Ze){for(var Ge=re.is1D()?re.length:[re.width,re.height],ve=new ie.GPULayer(this,{name:Ze||"".concat(re.name,"-clone"),dimensions:Ge,type:re.type,numComponents:re.numComponents,filter:re.filter,wrapX:re.wrapX,wrapY:re.wrapY,numBuffers:re.numBuffers,clearValue:re.clearValue}),Te=this._copyProgramForType(re.type),xe=0;xe<re.numBuffers-1;xe++)ve.incrementBufferIndex();for(var xe=0;xe<re.numBuffers;xe++)this.step({program:Te,input:re.getStateAtIndex(xe),output:ve});for(var xe=-1;xe<re.bufferIndex;xe++)ve.incrementBufferIndex();return ve},ye.prototype._getVertexShader=function(re,Ze,Ge,ve){var Te=this,xe=Te._errorCallback,Ie=Te._vertexShaders,Se=Te.gl,Ne=Te.glslVersion,je=Te.intPrecision,tt=Te.floatPrecision,it=Ie[re],st=it.compiledShaders,qe=it.src;if(Ze===""&&(Ze="_default"),st[Ze]===void 0){if(qe==="")throw new Error('Error compiling GPUProgram "'.concat(ve,'": no source for vertex shader with name "').concat(re,'".'));var ot=(0,le.preprocessVertexShader)(qe,Ne),ut=(0,le.compileShader)(Se,Ne,je,tt,ot,Se.VERTEX_SHADER,ve,xe,Ge,void 0,!0);if(!ut){xe('Unable to compile "'.concat(re).concat(Ze,'" vertex shader for GPUProgram "').concat(ve,'".'));return}st[Ze]=ut}return st[Ze]},ye.prototype.resize=function(re){var Ze=this.canvas,Ge=re[0],ve=re[1];if(!(0,te.isNonNegativeInteger)(Ge)||!(0,te.isNonNegativeInteger)(ve))throw(0,te.isArray)(re)?new Error("Invalid dimensions parameter supplied to GPUComposer.resize(), expected positive integers, got: ".concat(Ge,", ").concat(ve)):new Error("Invalid dimensions parameter supplied to GPUComposer.resize(), expected dimensions array of length 2, got: ".concat(JSON.stringify(re)));Ze.width=Ge,Ze.height=ve,this._width=Ge,this._height=ve},ye.prototype._drawSetup=function(re,Ze,Ge,ve,Te,xe){var Ie=this.gl,Se=[];if(Te)if(Te.layer)Se.push(Te);else if(Te.constructor===ie.GPULayer)Se.push(Te.currentState);else for(var Ne=0;Ne<Te.length;Ne++){var je=Te[Ne];Se.push(je.currentState?je.currentState:je)}var tt=re._getProgramWithName(Ze,Ge,Se);this._setOutputLayer(re.name,ve,Te,xe),Ie.useProgram(tt);for(var Ne=0;Ne<Se.length;Ne++)Ie.activeTexture(Ie.TEXTURE0+Ne),Ie.bindTexture(Ie.TEXTURE_2D,Se[Ne].texture);return re._setInternalFragmentUniforms(tt,Se),tt},ye.prototype._setBlendMode=function(re){var Ze=this.gl;re&&(Ze.enable(Ze.BLEND),Ze.blendFunc(Ze.SRC_ALPHA,Ze.ONE_MINUS_SRC_ALPHA))},ye.prototype._addLayerToInputs=function(re,Ze){return Ze===void 0?[re]:(0,te.isArray)(Ze)?(0,le.indexOfLayerInArray)(re,Ze)>=0?Ze:ee(ee([],Ze,!0),[re],!1):Ze===re||Ze.layer===re?[Ze]:[Ze,re]},ye.prototype._passThroughLayerDataFromInputToOutput=function(re){var Ze=this._copyProgramForType(re._internalType);this.step({program:Ze,input:re,output:re})},ye.prototype._setOutputLayer=function(re,Ze,Ge,ve){var Te=this,xe=Te.gl,Ie=Te.isWebGL2;if(!ve){xe.bindFramebuffer(xe.FRAMEBUFFER,null);var Se=this,Ne=Se._width,je=Se._height;xe.viewport(0,0,Ne,je);return}for(var tt=(0,te.isArray)(ve)?ve:[ve],it=0,st=tt.length;it<st;it++){var qe=tt[it];if(Ge&&(Ge===ve||Ge.layer===ve||(0,te.isArray)(Ge)&&(0,le.indexOfLayerInArray)(qe,Ge)>=0)){if(qe.numBuffers===1)throw new Error('Cannot use same buffer "'.concat(qe.name,'" for input and output of a program. Try increasing the number of buffers in your output layer to at least 2 so you can render to nextState using currentState as an input.'));Ze?qe._prepareForWrite(!0):(this._passThroughLayerDataFromInputToOutput(qe),qe._prepareForWrite(!1))}else Ze?qe._prepareForWrite(!0):(qe._usingTextureOverrideForCurrentBuffer()&&this._passThroughLayerDataFromInputToOutput(qe),qe._prepareForWrite(!1))}var ot=tt[0],ut=void 0,dt=[xe.COLOR_ATTACHMENT0];if(tt.length>1){ut=[];for(var it=1,st=tt.length;it<st;it++)ut.push(tt[it]._currentTexture),dt.push(xe.COLOR_ATTACHMENT0+it)}(0,We.bindFrameBuffer)(this,ot,ot._currentTexture,ut),Ie&&xe.drawBuffers(dt);var mt=this._widthHeightForOutput(re,ve),Je=mt.width,Me=mt.height;xe.viewport(0,0,Je,Me)},ye.prototype._setVertexAttribute=function(re,Ze,Ge,ve){var Te=this,xe=Te.gl,Ie=Te._vertexAttributeLocations,Se=Te._enabledVertexAttributes,Ne=Ie[Ze],je;if(Ne||(Ne=new WeakMap,Ie[Ze]=Ne),je===void 0){if(je=xe.getAttribLocation(re,Ze),je<0)throw new Error('Unable to find vertex attribute "'.concat(Ze,'" in program "').concat(ve,'".'));Ne.set(re,je)}xe.vertexAttribPointer(je,Ge,xe.FLOAT,!1,0,0),xe.enableVertexAttribArray(je),Se[je]=!0},ye.prototype._disableVertexAttributes=function(){for(var re=this,Ze=re._enabledVertexAttributes,Ge=re.gl,ve=Object.keys(Ze),Te=0,xe=ve.length;Te<xe;Te++){var Ie=ve[Te];Ze[Ie]&&(Ge.disableVertexAttribArray(Ie),delete Ze[Ie])}},ye.prototype._setPositionAttribute=function(re,Ze){this._setVertexAttribute(re,"a_gpuio_position",2,Ze)},ye.prototype._setIndexAttribute=function(re,Ze){this._setVertexAttribute(re,"a_gpuio_index",1,Ze)},ye.prototype._setUVAttribute=function(re,Ze){this._setVertexAttribute(re,"a_gpuio_uv",2,Ze)},ye.prototype._widthHeightForOutput=function(re,Ze){if((0,te.isArray)(Ze)){for(var Ge=Ze[0],ve=Ge?Ge.width:this._width,Te=Ge?Ge.height:this._height,xe=1,Ie=Ze.length;xe<Ie;xe++){var Se=Ze[xe];if(Se.width!==ve||Se.height!==Te)throw new Error("Output GPULayers must have the same dimensions, got dimensions [".concat(ve,", ").concat(Te,"] and [").concat(Se.width,", ").concat(Se.height,'] for program "').concat(re,'".'))}return{width:ve,height:Te}}var Ne=Ze?Ze.width:this._width,je=Ze?Ze.height:this._height;return{width:Ne,height:je}},ye.prototype._iterateOverOutputsIfNeeded=function(re,Ze){if(re.output&&(0,te.isArray)(re.output)&&this.glslVersion===ne.GLSL1){for(var Ge=0,ve=re.output.length;Ge<ve;Ge++)this[Ze](Q(Q({},re),{program:Ge===0?re.program:re.program._childPrograms[Ge-1],output:re.output[Ge]}));return!0}return!1},ye.prototype._drawFinish=function(re){var Ze=this.gl;re.blendAlpha&&Ze.disable(Ze.BLEND)},ye.prototype.step=function(re){var Ze=["program","input","output","blendAlpha"],Ge=["program"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.step(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.step(params)"),!this._iterateOverOutputsIfNeeded(re,"step")){var Te=this,xe=Te.gl,Ie=Te._errorState,Se=re.program,Ne=re.input,je=re.output;if(!Ie){var tt=this._drawSetup(Se,ne.DEFAULT_PROGRAM_NAME,{},!0,Ne,je);Se._setVertexUniform(tt,"u_gpuio_scale",[1,1],ne.FLOAT),Se._setVertexUniform(tt,"u_gpuio_translation",[0,0],ne.FLOAT),xe.bindBuffer(xe.ARRAY_BUFFER,this._getQuadPositionsBuffer()),this._setPositionAttribute(tt,Se.name),this._setBlendMode(re.blendAlpha),xe.drawArrays(xe.TRIANGLE_STRIP,0,4),this._drawFinish(re)}}},ye.prototype.stepBoundary=function(re){var Ze=["program","input","output","edges","blendAlpha"],Ge=["program"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.stepBoundary(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.stepBoundary(params)"),!this._iterateOverOutputsIfNeeded(re,"stepBoundary")){var Te=this,xe=Te.gl,Ie=Te._errorState,Se=re.program,Ne=re.input,je=re.output;if(!Ie){var tt=this._widthHeightForOutput(Se.name,je),it=tt.width,st=tt.height,qe=this._drawSetup(Se,ne.DEFAULT_PROGRAM_NAME,{},!1,Ne,je),ot=[1/it,1/st];if(Se._setVertexUniform(qe,"u_gpuio_scale",[1-ot[0],1-ot[1]],ne.FLOAT),Se._setVertexUniform(qe,"u_gpuio_translation",ot,ne.FLOAT),xe.bindBuffer(xe.ARRAY_BUFFER,this._getBoundaryPositionsBuffer()),this._setPositionAttribute(qe,Se.name),this._setBlendMode(re.blendAlpha),re.edges){var ut=re.edges;(0,te.isArray)(ut)||(ut=[ut]);for(var dt=0,mt=ut.length;dt<mt;dt++){var Je=ut[dt];Je===ne.BOUNDARY_LEFT&&xe.drawArrays(xe.LINES,3,2),Je===ne.BOUNDARY_RIGHT&&xe.drawArrays(xe.LINES,1,2),Je===ne.BOUNDARY_TOP&&xe.drawArrays(xe.LINES,2,2),Je===ne.BOUNDARY_BOTTOM&&xe.drawArrays(xe.LINES,0,2)}}else xe.drawArrays(xe.LINE_LOOP,0,4);this._drawFinish(re)}}},ye.prototype.stepNonBoundary=function(re){var Ze=["program","input","output","blendAlpha"],Ge=["program"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.stepNonBoundary(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.stepNonBoundary(params)"),!this._iterateOverOutputsIfNeeded(re,"stepNonBoundary")){var Te=this,xe=Te.gl,Ie=Te._errorState,Se=re.program,Ne=re.input,je=re.output;if(!Ie){var tt=this._widthHeightForOutput(Se.name,je),it=tt.width,st=tt.height,qe=this._drawSetup(Se,ne.DEFAULT_PROGRAM_NAME,{},!1,Ne,je),ot=[1/it,1/st];Se._setVertexUniform(qe,"u_gpuio_scale",[1-2*ot[0],1-2*ot[1]],ne.FLOAT),Se._setVertexUniform(qe,"u_gpuio_translation",ot,ne.FLOAT),xe.bindBuffer(xe.ARRAY_BUFFER,this._getQuadPositionsBuffer()),this._setPositionAttribute(qe,Se.name),this._setBlendMode(re.blendAlpha),xe.drawArrays(xe.TRIANGLE_STRIP,0,4),this._drawFinish(re)}}},ye.prototype.stepCircle=function(re){var Ze,Ge=["program","position","diameter","useOutputScale","input","output","numSegments","blendAlpha"],ve=["program","position","diameter"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.stepCircle(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.stepCircle(params)"),!this._iterateOverOutputsIfNeeded(re,"stepCircle")){var xe=this,Ie=xe.gl,Se=xe._errorState,Ne=re.program,je=re.position,tt=re.diameter,it=re.input,st=re.output;if(!Se){var qe=this._width,ot=this._height;re.useOutputScale&&(Ze=this._widthHeightForOutput(Ne.name,st),qe=Ze.width,ot=Ze.height);var ut=this._drawSetup(Ne,ne.DEFAULT_PROGRAM_NAME,{},!1,it,st);Ne._setVertexUniform(ut,"u_gpuio_scale",[tt/qe,tt/ot],ne.FLOAT),Ne._setVertexUniform(ut,"u_gpuio_translation",[2*je[0]/qe-1,2*je[1]/ot-1],ne.FLOAT);var dt=re.numSegments?re.numSegments:ne.DEFAULT_CIRCLE_NUM_SEGMENTS;if(dt<3)throw new Error("numSegments for GPUComposer.stepCircle must be greater than 2, got ".concat(dt,"."));Ie.bindBuffer(Ie.ARRAY_BUFFER,this._getCirclePositionsBuffer(dt)),this._setPositionAttribute(ut,Ne.name),this._setBlendMode(re.blendAlpha),Ie.drawArrays(Ie.TRIANGLE_FAN,0,dt+2),this._drawFinish(re)}}},ye.prototype.stepSegment=function(re){var Ze,Ge=["program","position1","position2","thickness","useOutputScale","input","output","endCaps","numCapSegments","blendAlpha"],ve=["program","position1","position2","thickness"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.stepSegment(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.stepSegment(params)"),!this._iterateOverOutputsIfNeeded(re,"stepSegment")){var xe=this,Ie=xe.gl,Se=xe._errorState,Ne=re.program,je=re.position1,tt=re.position2,it=re.thickness,st=re.input,qe=re.output;if(!Se){var ot=this._width,ut=this._height;re.useOutputScale&&(Ze=this._widthHeightForOutput(Ne.name,qe),ot=Ze.width,ut=Ze.height);var dt=this._drawSetup(Ne,ne.SEGMENT_PROGRAM_NAME,{},!1,st,qe);Ne._setVertexUniform(dt,"u_gpuio_halfThickness",it/2,ne.FLOAT),Ne._setVertexUniform(dt,"u_gpuio_scale",[2/ot,2/ut],ne.FLOAT);var mt=je[0]-tt[0],Je=je[1]-tt[1],Me=Math.atan2(Je,mt);Ne._setVertexUniform(dt,"u_gpuio_rotation",Me,ne.FLOAT);var ke=(je[0]+tt[0])/2,Ye=(je[1]+tt[1])/2;Ne._setVertexUniform(dt,"u_gpuio_translation",[2*ke/ot-1,2*Ye/ut-1],ne.FLOAT);var Ce=Math.sqrt(mt*mt+Je*Je),ze=re.numCapSegments?re.numCapSegments*2:ne.DEFAULT_CIRCLE_NUM_SEGMENTS;if(re.endCaps){if(ze<6||ze%6!==0)throw new Error("numCapSegments for GPUComposer.stepSegment must be divisible by 3, got ".concat(ze/2,"."));Ne._setVertexUniform(dt,"u_gpuio_length",Ce,ne.FLOAT),Ie.bindBuffer(Ie.ARRAY_BUFFER,this._getCirclePositionsBuffer(ze))}else Ne._setVertexUniform(dt,"u_gpuio_length",Ce-it,ne.FLOAT),Ie.bindBuffer(Ie.ARRAY_BUFFER,this._getQuadPositionsBuffer());this._setPositionAttribute(dt,Ne.name),this._setBlendMode(re.blendAlpha),re.endCaps?Ie.drawArrays(Ie.TRIANGLE_FAN,0,ze+2):Ie.drawArrays(Ie.TRIANGLE_STRIP,0,4),this._drawFinish(re)}}},ye.prototype.stepRect=function(re){var Ze=["program","position","size","useOutputScale","input","output","blendAlpha"],Ge=["program","position","size"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.stepRect(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.stepRect(params)"),!this._iterateOverOutputsIfNeeded(re,"stepRect")){var Te=[re.position[0],re.position[1]+re.size[1]/2],xe=[re.position[0]+re.size[0],Te[1]];this.stepSegment({program:re.program,position1:Te,position2:xe,thickness:re.size[1],useOutputScale:re.useOutputScale,input:re.input,output:re.output,endCaps:!1,blendAlpha:re.blendAlpha})}},ye.prototype.drawLayerAsPoints=function(re){var Ze,Ge=["layer","program","input","output","pointSize","useOutputScale","count","color","wrapX","wrapY","blendAlpha"],ve=["layer"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.drawLayerAsPoints(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.drawLayerAsPoints(params)"),!this._iterateOverOutputsIfNeeded(re,"drawLayerAsPoints")){var xe=this,Ie=xe.gl,Se=xe._pointIndexArray,Ne=xe.glslVersion,je=xe._errorState,tt=re.layer,it=re.output;if(!je){if(tt.numComponents!==2&&tt.numComponents!==4)throw new Error('GPUComposer.drawLayerAsPoints() must be passed a layer parameter with either 2 or 4 components, got layer "'.concat(tt.name,'" with ').concat(tt.numComponents," components."));var st=tt.length,qe=re.count||st;if(qe>st)throw new Error("Invalid count ".concat(qe," for layer parameter of length ").concat(st,"."));Ne===ne.GLSL1&&qe>ne.MAX_FLOAT_INT&&console.warn("Points positions array length: ".concat(qe," is longer than what is supported by GLSL1 : ").concat(ne.MAX_FLOAT_INT,"."));var ot=re.program;if(ot===void 0){ot=this._setValueProgramForType(ne.FLOAT);var ut=re.color||[1,0,0];if(ut.length!==3)throw new Error("Color parameter must have length 3, got ".concat(JSON.stringify(ut),"."));ot.setUniform("u_value",ee(ee([],ut,!0),[1],!1),ne.FLOAT)}var dt=this._addLayerToInputs(tt,re.input),mt={};tt.numComponents===4&&(mt[ne.GPUIO_VS_POSITION_W_ACCUM]="1"),re.wrapX&&(mt[ne.GPUIO_VS_WRAP_X]="1"),re.wrapY&&(mt[ne.GPUIO_VS_WRAP_Y]="1");var Je=this._drawSetup(ot,ne.LAYER_POINTS_PROGRAM_NAME,mt,!1,dt,it);ot._setVertexUniform(Je,"u_gpuio_positions",(0,le.indexOfLayerInArray)(tt,dt),ne.INT);var Me=this._width,ke=this._height;re.useOutputScale&&(Ze=this._widthHeightForOutput(ot.name,it),Me=Ze.width,ke=Ze.height),ot._setVertexUniform(Je,"u_gpuio_scale",[1/Me,1/ke],ne.FLOAT);var Ye=re.pointSize||1;ot._setVertexUniform(Je,"u_gpuio_pointSize",Ye,ne.FLOAT);var Ce=[tt.width,tt.height];if(ot._setVertexUniform(Je,"u_gpuio_positionsDimensions",Ce,ne.FLOAT),Ne===ne.GLSL1){if(this._pointIndexBuffer===void 0||Se&&Se.length<qe){var ze=(0,le.initSequentialFloatArray)(st);this._pointIndexArray=ze,this._pointIndexBuffer=this._initVertexBuffer(ze)}Ie.bindBuffer(Ie.ARRAY_BUFFER,this._pointIndexBuffer),this._setIndexAttribute(Je,ot.name)}this._setBlendMode(re.blendAlpha),Ie.drawArrays(Ie.POINTS,0,qe),this._drawFinish(re)}}},ye.prototype.drawLayerAsVectorField=function(re){var Ze=["layer","program","input","output","vectorSpacing","vectorScale","color","blendAlpha"],Ge=["layer"],ve=Object.keys(re);if((0,Xe.checkValidKeys)(ve,Ze,"GPUComposer.drawLayerAsVectorField(params)"),(0,Xe.checkRequiredKeys)(ve,Ge,"GPUComposer.drawLayerAsVectorField(params)"),!this._iterateOverOutputsIfNeeded(re,"drawLayerAsVectorField")){var Te=this,xe=Te.gl,Ie=Te._vectorFieldIndexArray,Se=Te._width,Ne=Te._height,je=Te.glslVersion,tt=Te._errorState,it=re.layer,st=re.output;if(!tt){if(it.numComponents!==2)throw new Error('GPUComposer.drawLayerAsVectorField() must be passed a fieldLayer with 2 components, got fieldLayer "'.concat(it.name,'" with ').concat(it.numComponents," components."));var qe=re.program;if(qe===void 0){qe=this._setValueProgramForType(ne.FLOAT);var ot=re.color||[1,0,0];if(ot.length!==3)throw new Error("color parameter must have length 3, got ".concat(JSON.stringify(ot),"."));qe.setUniform("u_value",ee(ee([],ot,!0),[1],!1),ne.FLOAT)}var ut=this._addLayerToInputs(it,re.input),dt=this._drawSetup(qe,ne.LAYER_VECTOR_FIELD_PROGRAM_NAME,{},!1,ut,st);qe._setVertexUniform(dt,"u_gpuio_vectors",(0,le.indexOfLayerInArray)(it,ut),ne.INT);var mt=re.vectorScale||1;qe._setVertexUniform(dt,"u_gpuio_scale",[mt/Se,mt/Ne],ne.FLOAT);var Je=re.vectorSpacing||10,Me=[Math.floor(Se/Je),Math.floor(Ne/Je)];qe._setVertexUniform(dt,"u_gpuio_dimensions",Me,ne.FLOAT);var ke=2*Me[0]*Me[1];if(je===ne.GLSL1){if(this._vectorFieldIndexBuffer===void 0||Ie&&Ie.length<ke){var Ye=(0,le.initSequentialFloatArray)(ke);this._vectorFieldIndexArray=Ye,this._vectorFieldIndexBuffer=this._initVertexBuffer(Ye)}xe.bindBuffer(xe.ARRAY_BUFFER,this._vectorFieldIndexBuffer),this._setIndexAttribute(dt,qe.name)}this._setBlendMode(re.blendAlpha),xe.drawArrays(xe.LINES,0,ke),this._drawFinish(re)}}},ye.prototype.drawLayerAsMesh=function(re){var Ze,Ge=["layer","indices","program","input","output","useOutputScale","color","blendAlpha"],ve=["layer"],Te=Object.keys(re);if((0,Xe.checkValidKeys)(Te,Ge,"GPUComposer.drawLayerAsMesh(params)"),(0,Xe.checkRequiredKeys)(Te,ve,"GPUComposer.drawLayerAsMesh(params)"),!this._iterateOverOutputsIfNeeded(re,"drawLayerAsMesh")){var xe=this,Ie=xe.gl,Se=xe._width,Ne=xe._height,je=xe.glslVersion,tt=xe._errorState,it=xe._meshIndexBuffer,st=xe._meshIndexArray,qe=re.layer,ot=re.output;if(!tt){if(qe.numComponents!==2&&qe.numComponents!==4)throw new Error('GPUComposer.drawLayerAsMesh() must be passed a layer parameter with either 2 or 4 components, got position GPULayer "'.concat(qe.name,'" with ').concat(qe.numComponents," components."));var ut=qe.is1D()?qe.length:qe.width*qe.height;je===ne.GLSL1&&ut>ne.MAX_FLOAT_INT&&console.warn("Mesh positions array length: ".concat(ut," is longer than what is supported by GLSL1 : ").concat(ne.MAX_FLOAT_INT,"."));var dt=re.program;if(dt===void 0){dt=this._setValueProgramForType(ne.FLOAT);var mt=re.color||[1,0,0];if(mt.length!==3)throw new Error("Color parameter must have length 3, got ".concat(JSON.stringify(mt),"."));dt.setUniform("u_value",ee(ee([],mt,!0),[1],!1),ne.FLOAT)}var Je=this._addLayerToInputs(qe,re.input),Me={};qe.numComponents===4&&(Me[ne.GPUIO_VS_POSITION_W_ACCUM]="1");var ke=this._drawSetup(dt,ne.LAYER_MESH_PROGRAM_NAME,Me,!1,Je,ot);dt._setVertexUniform(ke,"u_gpuio_positions",(0,le.indexOfLayerInArray)(qe,Je),ne.INT);var Ye=Se,Ce=Ne;re.useOutputScale&&(Ze=this._widthHeightForOutput(dt.name,ot),Ye=Ze.width,Ce=Ze.height),dt._setVertexUniform(ke,"u_gpuio_scale",[1/Ye,1/Ce],ne.FLOAT);var ze=[qe.width,qe.height];if(dt._setVertexUniform(ke,"u_gpuio_positionsDimensions",ze,ne.FLOAT),je===ne.GLSL1){if(it===void 0||st&&st.length<ut){var Ee=(0,le.initSequentialFloatArray)(ut);this._meshIndexArray=Ee,this._meshIndexBuffer=this._initVertexBuffer(Ee)}Ie.bindBuffer(Ie.ARRAY_BUFFER,this._meshIndexBuffer),this._setIndexAttribute(ke,dt.name)}if(this._setBlendMode(re.blendAlpha),re.indices){var _e=re.indices,He=_e.glType,Pe=_e.count,$e=_e.buffer;Ie.bindBuffer(Ie.ELEMENT_ARRAY_BUFFER,$e);var we=0;Ie.drawElements(Ie.TRIANGLES,Pe,He,we)}else Ie.drawArrays(Ie.TRIANGLES,0,ut);this._drawFinish(re)}}},Object.defineProperty(ye.prototype,"clearValue",{get:function(){return this._clearValue},set:function(re){var Ze=ne.FLOAT,Ge=4;if(!(0,Xe.isValidClearValue)(re,Ge,Ze))throw new Error("Invalid clearValue: ".concat(JSON.stringify(re)," for GPUComposer, expected ").concat(Ze," or array of ").concat(Ze," of length ").concat(Ge,"."));this._clearValue=(0,te.isArray)(re)?re.slice():re,this._clearValueVec4=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(ye.prototype,"clearValueVec4",{get:function(){var re=this._clearValueVec4;if(!re){var Ze=this.clearValue;if(re=[],(0,te.isFiniteNumber)(Ze))re.push(Ze,Ze,Ze,Ze);else{re.push.apply(re,Ze);for(var Ge=re.length;Ge<4;Ge++)re.push(0)}this._clearValueVec4=re}return re},enumerable:!1,configurable:!0}),ye.prototype.clear=function(){var re=this,Ze=re.verboseLogging,Ge=re.clearValueVec4;Ze&&console.log("Clearing GPUComoser.");var ve=this._setValueProgramForType(ne.FLOAT);ve.setUniform("u_value",Ge),this.step({program:ve})},ye.prototype.undoThreeState=function(){var re=this,Ze=re.gl,Ge=re._threeRenderer,ve=re.isWebGL2;if(!Ge)throw new Error("Can't call undoThreeState() on a GPUComposer that was not inited with GPUComposer.initWithThreeRenderer().");if(Ze.disable(Ze.BLEND),Ge)if(ve)Ze.bindVertexArray(null);else{var Te=(0,fe.getExtension)(this,fe.OES_VERTEX_ARRAY_OBJECT,!0);Te.bindVertexArrayOES(null)}},ye.prototype.resetThreeState=function(){var re=this,Ze=re.gl,Ge=re._threeRenderer;if(!Ge)throw new Error("Can't call resetThreeState() on a GPUComposer that was not inited with GPUComposer.initWithThreeRenderer().");var ve=Ge.getViewport(new ce.Vector4);Ze.viewport(ve.x,ve.y,ve.width,ve.height),Ge.resetState()},ye.prototype.savePNG=function(re){re===void 0&&(re={});var Ze=["filename","dpi","callback"],Ge=Object.keys(re);(0,Xe.checkValidKeys)(Ge,Ze,"GPUComposer.savePNG(params)");var ve=this.canvas,Te=re.filename||"output",xe=re.callback||saveAs;ve.toBlob(function(Ie){if(!Ie){console.warn("Problem saving PNG, unable to init blob from canvas.");return}re.dpi?(0,q.changeDpiBlob)(Ie,re.dpi).then(function(Se){xe(Se,"".concat(Te,".png"))}):xe(Ie,"".concat(Te,".png"))},"image/png")},ye.prototype.tick=function(){this._numTicks+=1;var re=this,Ze=re._lastTickTime,Ge=re._lastTickFPS,ve=performance.now();if(this._lastTickTime=ve,!Ze)return{fps:0,numTicks:this._numTicks};var Te=1e3/(ve-Ze);Ge||(Ge=Te);var xe=.9,Ie=Number.parseFloat((xe*Ge+(1-xe)*Te).toFixed(1));return this._lastTickFPS=Ie,{fps:Ie,numTicks:this._numTicks}},Object.defineProperty(ye.prototype,"numTicks",{get:function(){return this._numTicks},enumerable:!1,configurable:!0}),ye.prototype.dispose=function(){var re=this,Ze,Ge=this,ve=Ge.gl,Te=Ge.verboseLogging;Te&&console.log("Deallocating GPUComposer."),this._quadPositionsBuffer&&(ve.deleteBuffer(this._quadPositionsBuffer),delete this._quadPositionsBuffer),this._boundaryPositionsBuffer&&(ve.deleteBuffer(this._boundaryPositionsBuffer),delete this._boundaryPositionsBuffer),Object.keys(this._circlePositionsBuffer).forEach(function(xe){ve.deleteBuffer(re._circlePositionsBuffer[xe])}),delete this._circlePositionsBuffer,delete this._pointIndexArray,this._pointIndexBuffer&&(ve.deleteBuffer(this._pointIndexBuffer),delete this._pointIndexBuffer),delete this._vectorFieldIndexArray,this._vectorFieldIndexBuffer&&(ve.deleteBuffer(this._vectorFieldIndexBuffer),delete this._vectorFieldIndexBuffer),this._indexedLinesIndexBuffer&&(ve.deleteBuffer(this._indexedLinesIndexBuffer),delete this._indexedLinesIndexBuffer),Object.keys(this._vertexAttributeLocations).forEach(function(xe){delete re._vertexAttributeLocations[xe]}),delete this._vertexAttributeLocations,delete this._enabledVertexAttributes,Object.values(this._vertexShaders).forEach(function(xe){var Ie=xe.compiledShaders;Object.keys(Ie).forEach(function(Se){ve.deleteShader(Ie[Se]),delete Ie[Se]})}),delete this._vertexShaders,Object.values(this._copyPrograms).forEach(function(xe){xe.dispose()}),Object.keys(this._copyPrograms).forEach(function(xe){delete re._copyPrograms[xe]}),delete this._copyPrograms,Object.values(this._setValuePrograms).forEach(function(xe){xe.dispose()}),Object.keys(this._setValuePrograms).forEach(function(xe){delete re._setValuePrograms[xe]}),delete this._setValuePrograms,(Ze=this._wrappedLineColorProgram)===null||Ze===void 0||Ze.dispose(),delete this._wrappedLineColorProgram,delete this._threeRenderer,delete this.gl,delete this.canvas,delete this._errorCallback,delete this._extensions,delete this._errorState,delete this.verboseLogging,delete this._numTicks,delete this.isWebGL2,delete this.glslVersion,delete this.intPrecision,delete this.floatPrecision,delete this._width,delete this._height,delete this._clearValue,delete this._clearValueVec4},ye}();Y.GPUComposer=Re},981:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPUIndexBuffer=void 0;var Q=D(566),ee=D(650),q=D(707),te=D(581),ie=function(){function ne(ce,le){if(this._composer=ce,!le)throw new Error("Error initing GPUIndexBuffer: must pass params to GPUIndexBuffer(composer, params).");if(!(0,Q.isObject)(le))throw new Error("Error initing GPUIndexBuffer: must pass valid params object to GPUIndexBuffer(composer, params), got ".concat(JSON.stringify(le),"."));var se=["indices","name"],pe=["indices"],ue=Object.keys(le);(0,q.checkValidKeys)(ue,se,"GPUIndexBuffer(composer, params)",le.name),(0,q.checkRequiredKeys)(ue,pe,"GPUIndexBuffer(composer, params)",le.name);var ae=le.indices,de=ce.gl,be=ce.isWebGL2,he=de.createBuffer();de.bindBuffer(de.ELEMENT_ARRAY_BUFFER,he),(0,ee.isTypedArray)(ae)||(ae=new Uint32Array(ae));var Le;switch(ae.constructor){case Uint8Array:Le=de.UNSIGNED_BYTE;break;case Uint16Array:Le=de.UNSIGNED_SHORT;break;case Uint32Array:if(!be){var Xe=(0,te.getExtension)(ce,te.OES_ELEMENT_INDEX_UINT,!0);if(!Xe){Le=de.UNSIGNED_SHORT,ae=Uint16Array.from(ae);break}}Le=de.UNSIGNED_INT;break}de.bufferData(de.ELEMENT_ARRAY_BUFFER,ae,de.STATIC_DRAW),this.buffer=he,this.glType=Le,this.count=ae.length}return ne.prototype.dispose=function(){var ce=this,le=ce._composer,se=ce.buffer;le.gl.deleteBuffer(se),delete this._composer,delete this.buffer,delete this.glType,delete this.count},ne}();Y.GPUIndexBuffer=ie},355:function(J,Y,D){var Q=this&&this.__awaiter||function(de,be,he,Le){function Xe(We){return We instanceof he?We:new he(function(fe){fe(We)})}return new(he||(he=Promise))(function(We,fe){function Re(Ze){try{re(Le.next(Ze))}catch(Ge){fe(Ge)}}function ye(Ze){try{re(Le.throw(Ze))}catch(Ge){fe(Ge)}}function re(Ze){Ze.done?We(Ze.value):Xe(Ze.value).then(Re,ye)}re((Le=Le.apply(de,be||[])).next())})},ee=this&&this.__generator||function(de,be){var he={label:0,sent:function(){if(We[0]&1)throw We[1];return We[1]},trys:[],ops:[]},Le,Xe,We,fe;return fe={next:Re(0),throw:Re(1),return:Re(2)},typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Re(re){return function(Ze){return ye([re,Ze])}}function ye(re){if(Le)throw new TypeError("Generator is already executing.");for(;he;)try{if(Le=1,Xe&&(We=re[0]&2?Xe.return:re[0]?Xe.throw||((We=Xe.return)&&We.call(Xe),0):Xe.next)&&!(We=We.call(Xe,re[1])).done)return We;switch(Xe=0,We&&(re=[re[0]&2,We.value]),re[0]){case 0:case 1:We=re;break;case 4:return he.label++,{value:re[1],done:!1};case 5:he.label++,Xe=re[1],re=[0];continue;case 7:re=he.ops.pop(),he.trys.pop();continue;default:if(We=he.trys,!(We=We.length>0&&We[We.length-1])&&(re[0]===6||re[0]===2)){he=0;continue}if(re[0]===3&&(!We||re[1]>We[0]&&re[1]<We[3])){he.label=re[1];break}if(re[0]===6&&he.label<We[1]){he.label=We[1],We=re;break}if(We&&he.label<We[2]){he.label=We[2],he.ops.push(re);break}We[2]&&he.ops.pop(),he.trys.pop();continue}re=be.call(de,he)}catch(Ze){re=[6,Ze],Xe=0}finally{Le=We=0}if(re[0]&5)throw re[1];return{value:re[0]?re[1]:void 0,done:!0}}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPULayer=void 0;var q=D(650),te=D(566),ie=D(809),ne=D(162),ce=D(707),le=D(601),se=D(593),pe=D(798),ue=D(690),ae=function(){function de(be,he){this._clearValue=0,this._bufferIndex=0,this._buffers=[];var Le=(he||{}).name;if(!be)throw new Error('Error initing GPULayer "'.concat(Le,'": must pass GPUComposer instance to GPULayer(composer, params).'));if(!he)throw new Error("Error initing GPULayer: must pass params to GPULayer(composer, params).");if(!(0,te.isObject)(he))throw new Error("Error initing GPULayer: must pass valid params object to GPULayer(composer, params), got ".concat(JSON.stringify(he),"."));var Xe=["name","type","numComponents","dimensions","filter","wrapX","wrapY","numBuffers","clearValue","array"],We=["name","type","numComponents","dimensions"],fe=Object.keys(he);(0,ce.checkValidKeys)(fe,Xe,"GPULayer(composer, params)",he.name),(0,ce.checkRequiredKeys)(fe,We,"GPULayer(composer, params)",he.name);var Re=he.dimensions,ye=he.type,re=he.numComponents,Ze=be.gl;if(this._composer=be,this.name=Le,!(0,te.isPositiveInteger)(re)||re>4)throw new Error("Invalid numComponents: ".concat(JSON.stringify(re),' for GPULayer "').concat(Le,'", must be number in range [1-4].'));this.numComponents=re;var Ge=de.calcGPULayerSize(Re,Le,be.verboseLogging),ve=Ge.length,Te=Ge.width,xe=Ge.height;this._length=ve,this._width=Te,this._height=xe;var Ie=ve===void 0&&(ye===le.FLOAT||ye==le.HALF_FLOAT)?le.LINEAR:le.NEAREST,Se=he.filter!==void 0?he.filter:Ie;if(!(0,ce.isValidFilter)(Se))throw new Error("Invalid filter: ".concat(JSON.stringify(Se),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validFilters),"."));if(Se===le.LINEAR&&!(ye===le.FLOAT||ye==le.HALF_FLOAT))throw new Error('LINEAR filtering is not supported on integer types, please use NEAREST filtering for GPULayer "'.concat(Le,'" with type: ').concat(ye,"."));this.filter=Se;var Ne=he.wrapX!==void 0?he.wrapX:le.CLAMP_TO_EDGE;if(!(0,ce.isValidWrap)(Ne))throw new Error("Invalid wrapX: ".concat(JSON.stringify(Ne),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validWraps),"."));this.wrapX=Ne;var je=he.wrapY!==void 0?he.wrapY:le.CLAMP_TO_EDGE;if(!(0,ce.isValidWrap)(je))throw new Error("Invalid wrapY: ".concat(JSON.stringify(je),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validWraps),"."));if(this.wrapY=je,!(0,ce.isValidDataType)(ye))throw new Error("Invalid type: ".concat(JSON.stringify(ye),' for GPULayer "').concat(Le,'", must be one of ').concat(JSON.stringify(le.validDataTypes),"."));this.type=ye;var tt=de.getGPULayerInternalType({composer:be,type:ye,name:Le});this._internalType=tt;var it=de.getGLTextureParameters({composer:be,name:Le,numComponents:re,internalType:tt}),st=it.glFormat,qe=it.glInternalFormat,ot=it.glType,ut=it.glNumChannels;this._glInternalFormat=qe,this._glFormat=st,this._glType=ot,this._glNumChannels=ut;var dt=de.getGPULayerInternalFilter({composer:be,filter:Se,wrapX:Ne,wrapY:je,internalType:tt,name:Le});this._internalFilter=dt,this._glFilter=Ze[dt],this._internalWrapX=de.getGPULayerInternalWrap({composer:be,wrap:Ne,internalFilter:dt,internalType:tt,name:Le}),this._glWrapS=Ze[this._internalWrapX],this._internalWrapY=de.getGPULayerInternalWrap({composer:be,wrap:je,internalFilter:dt,internalType:tt,name:Le}),this._glWrapT=Ze[this._internalWrapY];var mt=he.numBuffers!==void 0?he.numBuffers:1;if(!(0,te.isPositiveInteger)(mt))throw new Error("Invalid numBuffers: ".concat(JSON.stringify(mt),' for GPULayer "').concat(Le,'", must be positive integer.'));this.numBuffers=mt,he.clearValue!==void 0&&(this.clearValue=he.clearValue),this._initBuffers(he.array)}return de.initFromImageURL=function(be,he){return Q(this,void 0,void 0,function(){return ee(this,function(Le){return[2,new Promise(function(Xe,We){if(!he)throw new Error("Error initing GPULayer: must pass params to GPULayer.initFromImageURL(composer, params).");if(!(0,te.isObject)(he))throw new Error("Error initing GPULayer: must pass valid params object to GPULayer.initFromImageURL(composer, params), got ".concat(JSON.stringify(he),"."));var fe=["name","url","filter","wrapX","wrapY","format","type","clearValue"],Re=["name","url"],ye=Object.keys(he);(0,ce.checkValidKeys)(ye,fe,"GPULayer.initFromImageURL(composer, params)",he.name),(0,ce.checkRequiredKeys)(ye,Re,"GPULayer.initFromImageURL(composer, params)",he.name);var re=he.url,Ze=he.name,Ge=he.filter,ve=he.wrapX,Te=he.wrapY,xe=he.type,Ie=he.format;if(!(0,te.isString)(re))throw new Error("Expected GPULayer.initFromImageURL params to have url of type string, got ".concat(re," of type ").concat(typeof re,"."));if(xe&&!(0,ce.isValidImageType)(xe))throw new Error('Invalid type: "'.concat(xe,'" for GPULayer.initFromImageURL "').concat(Ze,'", must be one of ').concat(JSON.stringify(le.validImageTypes),"."));if(Ie&&!(0,ce.isValidImageFormat)(Ie))throw new Error('Invalid format: "'.concat(Ie,'" for GPULayer.initFromImageURL "').concat(Ze,'", must be one of ').concat(JSON.stringify(le.validImageFormats),"."));var Se=new de(be,{name:Ze,type:xe||le.FLOAT,numComponents:Ie?Ie.length:4,dimensions:[1,1],filter:Ge,wrapX:ve,wrapY:Te,numBuffers:1,clearValue:he.clearValue}),Ne=new Image;Ne.onload=function(){Se.resize([Ne.width,Ne.height],Ne),Xe(Se)},Ne.onerror=function(je){We(new Error('Error loading image "'.concat(Ze,'": ').concat(je)))},Ne.src=re})]})})},Object.defineProperty(de.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"length",{get:function(){if(!this._length)throw new Error('Cannot access length on 2D GPULayer "'.concat(this.name,'".'));return this._length},enumerable:!1,configurable:!0}),de.prototype.is1D=function(){return this._length!==void 0},de.prototype.is2D=function(){return!this.is1D()},de.prototype._usingTextureOverrideForCurrentBuffer=function(){return!!(this._textureOverrides&&this._textureOverrides[this.bufferIndex])},de.prototype.copyCurrentStateToGPULayer=function(be){var he=this._composer;if(this===be)throw new Error("Can't call GPULayer.copyCurrentStateToGPULayer() on self.");var Le=he._copyProgramForType(this._internalType);he.step({program:Le,input:this,output:be})},de.prototype._initBuffers=function(be){var he=this,Le=he.name,Xe=he.numBuffers,We=he._composer,fe=he._glInternalFormat,Re=he._glFormat,ye=he._glType,re=he._glFilter,Ze=he._glWrapS,Ge=he._glWrapT,ve=he.width,Te=he.height,xe=We.gl,Ie=We._errorCallback,Se=null;(0,te.isArray)(be)?Se=de.validateGPULayerArray(be,this):be?.constructor===HTMLImageElement&&(Se=be);for(var Ne=0;Ne<Xe;Ne++){var je=xe.createTexture();if(!je){Ie('Could not init texture for GPULayer "'.concat(Le,'": ').concat(xe.getError(),"."));return}xe.bindTexture(xe.TEXTURE_2D,je),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_WRAP_S,Ze),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_WRAP_T,Ge),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_MIN_FILTER,re),xe.texParameteri(xe.TEXTURE_2D,xe.TEXTURE_MAG_FILTER,re),xe.texImage2D(xe.TEXTURE_2D,0,fe,ve,Te,0,Re,ye,Se),this._buffers.push(je)}xe.bindTexture(xe.TEXTURE_2D,null),xe.bindFramebuffer(xe.FRAMEBUFFER,null)},Object.defineProperty(de.prototype,"bufferIndex",{get:function(){return this._bufferIndex},enumerable:!1,configurable:!0}),de.prototype.incrementBufferIndex=function(){var be=this.numBuffers;be!==1&&(this._bufferIndex=(this.bufferIndex+1)%be)},de.prototype.decrementBufferIndex=function(){var be=this.numBuffers;be!==1&&(this._bufferIndex=(this.bufferIndex-1+be)%be)},Object.defineProperty(de.prototype,"currentState",{get:function(){return this.getStateAtIndex(this.bufferIndex)},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"_currentTexture",{get:function(){var be=this,he=be._buffers,Le=be._bufferIndex,Xe=be._textureOverrides;return Xe&&Xe[Le]?Xe[Le]:he[Le]},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"lastState",{get:function(){if(this.numBuffers===1)throw new Error('Cannot access lastState on GPULayer "'.concat(this.name,'" with only one buffer.'));return this.getStateAtIndex((this.bufferIndex-1+this.numBuffers)%this.numBuffers)},enumerable:!1,configurable:!0}),de.prototype.getStateAtIndex=function(be){var he=this,Le=he.numBuffers,Xe=he._textureOverrides,We=he._buffers;be<0&&be>-Le&&(be+=Le),(be<0||be>=Le)&&(console.warn("Out of range buffer index: ".concat(be,' for GPULayer "').concat(this.name,'" with $.numBuffers} buffer').concat(Le>1?"s":"",".  Was this intentional?")),be<0?be+=Le*Math.ceil(Math.abs(be)/Le):be=be%Le);var fe=We[be];return Xe&&Xe[be]&&(fe=Xe[be]),{texture:fe,layer:this}},de.prototype._prepareForWrite=function(be){be&&this.incrementBufferIndex(),this._textureOverrides&&(this._textureOverrides[this.bufferIndex]=void 0)},de.prototype.setFromArray=function(be){var he=this,Le=he._composer,Xe=he._glInternalFormat,We=he._glFormat,fe=he._glType,Re=he.width,ye=he.height,re=he._currentTexture,Ze=Le.gl,Ge=de.validateGPULayerArray(be,this);Ze.bindTexture(Ze.TEXTURE_2D,re),Ze.texImage2D(Ze.TEXTURE_2D,0,Xe,Re,ye,0,We,fe,Ge),Ze.bindTexture(Ze.TEXTURE_2D,null)},de.prototype.setAtIndex2D=function(be,he,Le){var Xe=this,We=Xe._composer,fe=Xe.width,Re=Xe.height,ye=Xe._currentTexture,re=We.gl;if(be<0||be>=fe||he<0||he>=Re)throw new Error("Invalid coordinates [".concat(be,", ").concat(he,'] for GPULayer "').concat(this.name,'" with dimensions [').concat(fe,", ").concat(Re,"]."));var Ze=de.validateGPULayerArray(Le,this,1);re.bindTexture(re.TEXTURE_2D,ye),re.texSubImage2D(re.TEXTURE_2D,0,be,he,1,1,this._glFormat,this._glType,Ze),re.bindTexture(re.TEXTURE_2D,null)},de.prototype.setAtIndex1D=function(be,he){var Le=this;Le._glInternalFormat,Le._glFormat,Le._glType;var Xe=Le.width,We=Le.height;if(Le._currentTexture,be<0||be>=Xe*We)throw new Error("Invalid index ".concat(be,' for GPULayer "').concat(this.name,'" with dimensions [').concat(Xe,", ").concat(We,"]."));var fe=be%Xe,Re=Math.floor(be/Xe);this.setAtIndex2D(fe,Re,he)},de.prototype.resize=function(be,he){var Le=this,Xe=Le.name,We=Le._composer,fe=We.verboseLogging;fe&&console.log('Resizing GPULayer "'.concat(Xe,'" to ').concat(JSON.stringify(be),"."));var Re=de.calcGPULayerSize(be,Xe,fe),ye=Re.length,re=Re.width,Ze=Re.height;this._length=ye,this._width=re,this._height=Ze,this._destroyBuffers(),this._initBuffers(he)},Object.defineProperty(de.prototype,"clearValue",{get:function(){return this._clearValue},set:function(be){var he=this,Le=he.numComponents,Xe=he.type;if(!(0,ce.isValidClearValue)(be,Le,Xe))throw new Error("Invalid clearValue: ".concat(JSON.stringify(be),' for GPULayer "').concat(this.name,'", expected ').concat(Xe," or array of ").concat(Xe," of length ").concat(Le,"."));this._clearValue=(0,te.isArray)(be)?be.slice():be,this._clearValueVec4=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"clearValueVec4",{get:function(){var be=this._clearValueVec4;if(!be){var he=this.clearValue;if(be=[],(0,te.isFiniteNumber)(he))be.push(he,he,he,he);else{be.push.apply(be,he);for(var Le=be.length;Le<4;Le++)be.push(0)}this._clearValueVec4=be}return be},enumerable:!1,configurable:!0}),de.prototype.clear=function(be){be===void 0&&(be=!1);var he=this,Le=he.name,Xe=he._composer,We=he.clearValueVec4,fe=he.numBuffers,Re=he.type,ye=Xe.verboseLogging;ye&&console.log('Clearing GPULayer "'.concat(Le,'".'));var re=Xe._setValueProgramForType(Re);re.setUniform("u_value",We),this.decrementBufferIndex();for(var Ze=be?fe:1,Ge=0;Ge<Ze;Ge++)Xe.step({program:re,output:this});be&&this.incrementBufferIndex()},de.prototype._getValuesSetup=function(){var be=this,he=be.width,Le=be.height,Xe=be._composer,We=be._currentTexture,fe=this._valuesRaw,Re=Xe.gl;(0,pe.bindFrameBuffer)(Xe,this,We);var ye=this,re=ye._glNumChannels,Ze=ye._glType,Ge=ye._glFormat,ve=ye._internalType;switch(ve){case le.HALF_FLOAT:Re.FLOAT!==void 0?(re=4,Ge=Re.RGBA,Ze=Re.FLOAT,fe=fe||new Float32Array(he*Le*re)):fe=fe||new Uint16Array(he*Le*re);break;case le.FLOAT:re=4,Ge=Re.RGBA,fe=fe||new Float32Array(he*Le*re);break;case le.UNSIGNED_BYTE:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.UNSIGNED_INT,fe=fe||new Uint32Array(he*Le*re);break;case le.UNSIGNED_SHORT:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.UNSIGNED_INT,fe=fe||new Uint32Array(he*Le*re);break;case le.UNSIGNED_INT:re=4,Ge=Re.RGBA_INTEGER,fe=fe||new Uint32Array(he*Le*re);break;case le.BYTE:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.INT,fe=fe||new Int32Array(he*Le*re);break;case le.SHORT:re=4,Ge=Re.RGBA_INTEGER,Ze=Re.INT,fe=fe||new Int32Array(he*Le*re);break;case le.INT:re=4,Ge=Re.RGBA_INTEGER,fe=fe||new Int32Array(he*Le*re);break;default:throw new Error("Unsupported internalType ".concat(ve," for getValues()."))}if(this._valuesRaw=fe,(0,se.readyToRead)(Re))return{_glFormat:Ge,_glType:Ze,_valuesRaw:fe,_glNumChannels:re,_internalType:ve};throw new Error("Unable to read values from Buffer with status: ".concat(Re.checkFramebufferStatus(Re.FRAMEBUFFER),"."))},de.prototype._getValuesPost=function(be,he,Le){var Xe=this,We=Xe.width,fe=Xe.height,Re=Xe.numComponents,ye=Xe.type,re=(this._length?this._length:We*fe)*Re,Ze=Le===le.HALF_FLOAT&&be.constructor===Uint16Array,Ge=this._valuesBufferView;Ze&&!Ge&&(Ge=new DataView(be.buffer),this._valuesBufferView=Ge),be.length===re&&(0,ue.arrayConstructorForType)(ye,!0)===be.constructor?this._values=be:this._values||(this._values=de.initArrayForType(ye,re,!0));var ve=this._values;if(Ge||ve!==be||Re!==he)for(var Te=0,xe=We*fe;Te<xe;Te++){var Ie=Te*he,Se=Te*Re;if(Se>=re)break;for(var Ne=0;Ne<Re;Ne++)Ge?ve[Se+Ne]=(0,q.getFloat16)(Ge,2*(Ie+Ne),!0):ve[Se+Ne]=be[Ie+Ne]}return ve},de.prototype.getValues=function(){var be=this,he=be.width,Le=be.height,Xe=be._composer,We=Xe.gl,fe=this._getValuesSetup(),Re=fe._glFormat,ye=fe._glType,re=fe._valuesRaw,Ze=fe._glNumChannels,Ge=fe._internalType;return We.readPixels(0,0,he,Le,Re,ye,re),this._getValuesPost(re,Ze,Ge)},de.prototype.getValuesAsync=function(){return Q(this,void 0,void 0,function(){var be,he,Le,Xe,We,fe,Re,ye,re,Ze,Ge,ve;return ee(this,function(Te){switch(Te.label){case 0:return be=this,he=be.width,Le=be.height,Xe=be._composer,We=Xe.gl,fe=Xe.isWebGL2,fe?(Re=this._getValuesSetup(),ye=Re._glFormat,re=Re._glType,Ze=Re._valuesRaw,Ge=Re._glNumChannels,ve=Re._internalType,[4,(0,se.readPixelsAsync)(We,0,0,he,Le,ye,re,Ze)]):[2,this.getValues()];case 1:return Te.sent(),[2,this._getValuesPost(Ze,Ge,ve)]}})})},de.prototype._getCanvasWithImageData=function(be){var he=this.getValues(),Le=this,Xe=Le.width,We=Le.height,fe=Le.numComponents,Re=Le.type;be=be||(Re===le.FLOAT||Re===le.HALF_FLOAT?255:1);var ye=document.createElement("canvas");ye.width=Xe,ye.height=We;for(var re=ye.getContext("2d"),Ze=re.getImageData(0,0,Xe,We),Ge=Ze.data,ve=0;ve<We;ve++)for(var Te=0;Te<Xe;Te++){for(var xe=ve*Xe+Te,Ie=(We-1-ve)*Xe+Te,Se=0;Se<fe;Se++)Ge[4*Ie+Se]=he[fe*xe+Se]*be;fe===1&&(Ge[4*Ie+1]=Ge[4*Ie],Ge[4*Ie+2]=Ge[4*Ie]),fe<4&&(Ge[4*Ie+3]=255)}return re.putImageData(Ze,0,0),ye},de.prototype.getImage=function(be){if(be){var he=["multiplier"],Le=Object.keys(be);(0,ce.checkValidKeys)(Le,he,"GPULayer.getImage(params)")}var Xe=this._getCanvasWithImageData(be&&be.multiplier),We=new Image;return We.src=Xe.toDataURL(),We},de.prototype.savePNG=function(be){be===void 0&&(be={});var he=["filename","dpi","multiplier","callback"],Le=Object.keys(be);(0,ce.checkValidKeys)(Le,he,"GPULayer.savePNG(params)");var Xe=this.name,We=be.callback||ne.saveAs,fe=be.filename||Xe,Re=this._getCanvasWithImageData(be.multiplier);Re.toBlob(function(ye){if(!ye){console.warn('Problem saving PNG from GPULayer "'.concat(Xe,'", unable to init blob.'));return}be.dpi?(0,ie.changeDpiBlob)(ye,be.dpi).then(function(re){We(re,"".concat(fe,".png"))}):We(ye,"".concat(fe,".png"))},"image/png")},de.prototype.attachToThreeTexture=function(be){var he=this,Le=he._composer,Xe=he.numBuffers,We=he.currentState,fe=he.name,Re=Le._threeRenderer,ye=Le.gl;if(!Re)throw new Error("GPUComposer was not inited with a renderer.");if(Xe>1)throw new Error('GPULayer "'.concat(fe,'" contains multiple WebGL textures (one for each buffer) that are flip-flopped during compute cycles, please choose a GPULayer with one buffer.  You can copy the current state of this GPULayer to a single buffer GPULayer during your render loop.'));var re=Re.properties.get(be);ye.deleteTexture(re.__webglTexture),re.__webglTexture=We.texture,re.__webglInit=!0},de.prototype._destroyBuffers=function(){var be=this,he=be._composer,Le=be._buffers,Xe=he.gl;Le.forEach(function(We){Xe.deleteTexture(We),(0,pe.disposeFramebuffers)(Xe,We)}),Le.length=0,delete this._textureOverrides},de.prototype.clone=function(be){return this._composer._cloneGPULayer(this,be)},de.prototype.dispose=function(){var be=this,he=be.name,Le=be._composer,Xe=Le.gl,We=Le.verboseLogging;if(We&&console.log('Deallocating GPULayer "'.concat(he,'".')),!Xe)throw new Error("Must call dispose() on all GPULayers before calling dispose() on GPUComposer.");this._destroyBuffers(),delete this._buffers,delete this._composer,this._values&&delete this._values,this._valuesRaw&&delete this._valuesRaw},de}();Y.GPULayer=ae},191:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.minMaxValuesForType=Y.testFilterWrap=Y.testWriteSupport=Y.shouldCastIntTypeAsFloat=void 0;var Q=D(566),ee=D(650),q=D(601),te=D(690),ie=D(581),ne=D(798),ce=D(355),le=D(593),se={writeSupport:{},filterWrapSupport:{}};ce.GPULayer.initArrayForType=function(be,he,Le){return Le===void 0&&(Le=!1),new((0,te.arrayConstructorForType)(be,Le))(he)},ce.GPULayer.calcGPULayerSize=function(be,he,Le){if((0,Q.isNumber)(be)){if(!(0,Q.isPositiveInteger)(be))throw new Error("Invalid length: ".concat(JSON.stringify(be),' for GPULayer "').concat(he,'", must be positive integer.'));var Xe=be,We=Math.ceil(Math.sqrt(Xe)),fe=Math.ceil(Xe/We);return Le&&console.log("Using [".concat(We,", ").concat(fe,"] for 1D array of length ").concat(be,' in GPULayer "').concat(he,'".')),{width:We,height:fe,length:Xe}}var Re=be[0];if(!(0,Q.isPositiveInteger)(Re))throw new Error("Invalid width: ".concat(JSON.stringify(Re),' for GPULayer "').concat(he,'", must be positive integer.'));var ye=be[1];if(!(0,Q.isPositiveInteger)(ye))throw new Error("Invalid height: ".concat(JSON.stringify(ye),' for GPULayer "').concat(he,'", must be positive integer.'));return{width:Re,height:ye}},ce.GPULayer.getGPULayerInternalWrap=function(be){var he=be.composer,Le=be.wrap,Xe=be.internalFilter,We=be.internalType;return Le===q.CLAMP_TO_EDGE||ae(he,We,Xe,Le)?Le:q.CLAMP_TO_EDGE},ce.GPULayer.getGPULayerInternalFilter=function(be){var he=be.filter;if(he===q.NEAREST)return he;var Le=be.composer,Xe=be.internalType,We=be.wrapX,fe=be.wrapY,Re=be.name;if(Xe===q.HALF_FLOAT){var ye=(0,ie.getExtension)(Le,ie.OES_TEXTURE_HAlF_FLOAT_LINEAR,!0)||(0,ie.getExtension)(Le,ie.OES_TEXTURE_FLOAT_LINEAR,!0);(!ye||!ae(Le,Xe,he,We)||!ae(Le,Xe,he,fe))&&(console.warn("This browser does not support ".concat(he," filtering for type ").concat(Xe," and wrap [").concat(We,", ").concat(fe,'].  Falling back to NEAREST filter for GPULayer "').concat(Re,'" with ').concat(he," polyfill in fragment shader.")),he=q.NEAREST)}if(Xe===q.FLOAT){var ye=(0,ie.getExtension)(Le,ie.OES_TEXTURE_FLOAT_LINEAR,!0);(!ye||!ae(Le,Xe,he,We)||!ae(Le,Xe,he,fe))&&(console.warn("This browser does not support ".concat(he," filtering for type ").concat(Xe," and wrap [").concat(We,", ").concat(fe,'].  Falling back to NEAREST filter for GPULayer "').concat(Re,'" with ').concat(he," polyfill in fragment shader.")),he=q.NEAREST)}return he};function pe(be,he){var Le=be.glslVersion,Xe=be.isWebGL2;return Le===q.GLSL3&&Xe?!1:he===q.UNSIGNED_BYTE||he===q.BYTE||he===q.SHORT||he===q.INT||he===q.UNSIGNED_SHORT||he===q.UNSIGNED_INT}Y.shouldCastIntTypeAsFloat=pe,ce.GPULayer.getGLTextureParameters=function(be){var he=be.composer,Le=be.name,Xe=be.numComponents,We=be.internalType,fe=he.gl,Re=he.glslVersion,ye=he.isWebGL2,re,Ze,Ge,ve;if(ye){if(ve=Xe,Xe===3&&(ve=4),We===q.FLOAT||We===q.HALF_FLOAT)switch(ve){case 1:Ze=fe.RED;break;case 2:Ze=fe.RG;break;case 4:Ze=fe.RGBA;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}else switch(ve){case 1:Ze=fe.RED_INTEGER;break;case 2:Ze=fe.RG_INTEGER;break;case 4:Ze=fe.RGBA_INTEGER;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}switch(We){case q.HALF_FLOAT:switch(re=fe.HALF_FLOAT,ve){case 1:Ge=fe.R16F;break;case 2:Ge=fe.RG16F;break;case 4:Ge=fe.RGBA16F;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.FLOAT:switch(re=fe.FLOAT,ve){case 1:Ge=fe.R32F;break;case 2:Ge=fe.RG32F;break;case 4:Ge=fe.RGBA32F;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.UNSIGNED_BYTE:if(re=fe.UNSIGNED_BYTE,Re===q.GLSL1&&We===q.UNSIGNED_BYTE)Ge=Ze;else switch(ve){case 1:Ge=fe.R8UI;break;case 2:Ge=fe.RG8UI;break;case 4:Ge=fe.RGBA8UI;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.BYTE:switch(re=fe.BYTE,ve){case 1:Ge=fe.R8I;break;case 2:Ge=fe.RG8I;break;case 4:Ge=fe.RGBA8I;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.SHORT:switch(re=fe.SHORT,ve){case 1:Ge=fe.R16I;break;case 2:Ge=fe.RG16I;break;case 4:Ge=fe.RGBA16I;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.UNSIGNED_SHORT:switch(re=fe.UNSIGNED_SHORT,ve){case 1:Ge=fe.R16UI;break;case 2:Ge=fe.RG16UI;break;case 4:Ge=fe.RGBA16UI;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.INT:switch(re=fe.INT,ve){case 1:Ge=fe.R32I;break;case 2:Ge=fe.RG32I;break;case 4:Ge=fe.RGBA32I;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;case q.UNSIGNED_INT:switch(re=fe.UNSIGNED_INT,ve){case 1:Ge=fe.R32UI;break;case 2:Ge=fe.RG32UI;break;case 4:Ge=fe.RGBA32UI;break;default:throw new Error("Unsupported glNumChannels: ".concat(ve,' for GPULayer "').concat(Le,'".'))}break;default:throw new Error('Unsupported type: "'.concat(We,'" for GPULayer "').concat(Le,'".'))}}else{if(Xe<1||Xe>4)throw new Error("Unsupported numComponents: ".concat(Xe,' for GPULayer "').concat(Le,'".'));switch(ve=4,Ze=fe.RGBA,Ge=fe.RGBA,We){case q.FLOAT:re=fe.FLOAT;break;case q.HALF_FLOAT:re=fe.HALF_FLOAT||(0,ie.getExtension)(he,ie.OES_TEXTURE_HALF_FLOAT).HALF_FLOAT_OES;break;default:throw new Error('Unsupported type: "'.concat(We,'" in WebGL 1.0 for GPULayer "').concat(Le,'".'))}}if(re===void 0||Ze===void 0||Ge===void 0){var Te=[];throw re===void 0&&Te.push("glType"),Ze===void 0&&Te.push("glFormat"),Ge===void 0&&Te.push("glInternalFormat"),new Error("Invalid type: ".concat(We," for numComponents: ").concat(Xe,", unable to init parameter").concat(Te.length>1?"s":""," ").concat(Te.join(", "),' for GPULayer "').concat(Le,'".'))}if(ve===void 0||Xe<1||Xe>4||ve<Xe)throw new Error("Invalid numChannels: ".concat(ve," for numComponents: ").concat(Xe,' for GPULayer "').concat(Le,'".'));return{glFormat:Ze,glInternalFormat:Ge,glType:re,glNumChannels:ve}};function ue(be,he){var Le=be.gl,Xe=be.glslVersion,We=be.isWebGL2,fe="".concat(We,",").concat(he,",").concat(Xe===q.GLSL3?"3":"1");if(se.writeSupport[fe]!==void 0)return se.writeSupport[fe];var Re=Le.createTexture();if(!Re)return se.writeSupport[fe]=!1,se.writeSupport[fe];Le.bindTexture(Le.TEXTURE_2D,Re);var ye=Le[q.CLAMP_TO_EDGE],re=Le[q.NEAREST],Ze=10,Ge=10;Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_S,ye),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_T,ye),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MIN_FILTER,re),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MAG_FILTER,re);var ve=ce.GPULayer.getGLTextureParameters({composer:be,name:"testWriteSupport",numComponents:1,internalType:he}),Te=ve.glInternalFormat,xe=ve.glFormat,Ie=ve.glType;Le.texImage2D(Le.TEXTURE_2D,0,Te,Ze,Ge,0,xe,Ie,null);var Se=Le.createFramebuffer();if(!Se)return Le.deleteTexture(Re),se.writeSupport[fe]=!1,se.writeSupport[fe];Le.bindFramebuffer(Le.FRAMEBUFFER,Se),Le.framebufferTexture2D(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_2D,Re,0);var Ne=Le.checkFramebufferStatus(Le.FRAMEBUFFER)===Le.FRAMEBUFFER_COMPLETE;return Le.deleteTexture(Re),Le.deleteFramebuffer(Se),se.writeSupport[fe]=Ne,se.writeSupport[fe]}Y.testWriteSupport=ue;function ae(be,he,Le,Xe){var We,fe=be.gl,Re=be.glslVersion,ye=be.intPrecision,re=be.floatPrecision,Ze=be._errorCallback,Ge=be.isWebGL2,ve="".concat(Ge,",").concat(he,",").concat(Le,",").concat(Xe,",").concat(Re===q.GLSL3?"3":"1");if(se.filterWrapSupport[ve]!==void 0)return se.filterWrapSupport[ve];var Te=fe.createTexture();if(!Te)return se.filterWrapSupport[ve]=!1,se.filterWrapSupport[ve];fe.bindTexture(fe.TEXTURE_2D,Te);var xe=fe[Xe],Ie=fe[Le],Se=3,Ne=3,je=1;fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_S,xe),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_WRAP_T,xe),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MIN_FILTER,Ie),fe.texParameteri(fe.TEXTURE_2D,fe.TEXTURE_MAG_FILTER,Ie);for(var tt=ce.GPULayer.getGLTextureParameters({composer:be,name:"testFilterWrap",numComponents:je,internalType:he}),it=tt.glInternalFormat,st=tt.glFormat,qe=tt.glType,ot=tt.glNumChannels,ut=[3,56.5,834,-53.6,.003,96.2,23,90.2,32],dt=ce.GPULayer.initArrayForType(he,ut.length*ot,!0),mt=0;mt<ut.length;mt++)dt[mt*ot]=ut[mt],ut[mt]=dt[mt*ot];if(he===q.HALF_FLOAT){for(var Je=new Uint16Array(dt.length),Me=new DataView(Je.buffer),mt=0;mt<dt.length;mt++)(0,ee.setFloat16)(Me,2*mt,dt[mt],!0);dt=Je}fe.texImage2D(fe.TEXTURE_2D,0,it,Se,Ne,0,st,qe,dt);var ke=new ce.GPULayer(be,{name:"testFloatLinearFiltering-output",type:he,numComponents:je,dimensions:[Se,Ne],wrapX:q.CLAMP_TO_EDGE,wrapY:q.CLAMP_TO_EDGE,filter:q.NEAREST}),Ye=Le===q.LINEAR?.5:1,Ce="testFilterWrap-program",ze=`
in vec2 v_uv;
uniform vec2 u_offset;
#ifdef GPUIO_INT
	uniform isampler2D u_input;
	out int out_result;
#endif
#ifdef GPUIO_UINT
	uniform usampler2D u_input;
	out uint out_result;
#endif
#ifdef GPUIO_FLOAT
	uniform sampler2D u_input;
	out float out_result;
#endif
void main() {
	out_result = texture(u_input, v_uv + offset).x;
}`;Re!==q.GLSL3&&(ze=(0,le.convertFragmentShaderToGLSL1)(ze,Ce)[0]);var Ee=(0,le.compileShader)(fe,Re,ye,re,ze,fe.FRAGMENT_SHADER,Ce,Ze,(We={offset:"vec2(".concat(Ye/Se,", ").concat(Ye/Ne,")")},We[(0,le.isUnsignedIntType)(he)?"GPUIO_UINT":(0,le.isIntType)(he)?"GPUIO_INT":"GPUIO_FLOAT"]="1",We),void 0,!0);function _e(ge,Fe){return Xe===q.CLAMP_TO_EDGE?Math.max(0,Math.min(Fe-1,ge)):(ge+Fe)%Fe}var He=be._getVertexShader(q.DEFAULT_PROGRAM_NAME,"",{},Ce);if(He&&Ee){var Pe=(0,le.initGLProgram)(fe,He,Ee,Ce,Ze);if(Pe){ke._prepareForWrite(!1),(0,ne.bindFrameBuffer)(be,ke,ke._currentTexture),fe.viewport(0,0,Se,Ne),fe.useProgram(Pe),fe.activeTexture(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,Te),fe.uniform2fv(fe.getUniformLocation(Pe,"u_gpuio_scale"),[1,1]),fe.uniform2fv(fe.getUniformLocation(Pe,"u_gpuio_translation"),[0,0]),fe.bindBuffer(fe.ARRAY_BUFFER,be._getQuadPositionsBuffer()),be._setPositionAttribute(Pe,Ce),fe.drawArrays(fe.TRIANGLE_STRIP,0,4),fe.disable(fe.BLEND);for(var $e=ke.getValues(),we=!0,Ue=(0,le.isIntType)(he)?0:he===q.HALF_FLOAT?.01:1e-4,et=0;et<Se;et++)for(var at=0;at<Ne;at++){var Ve=void 0;if(Le===q.LINEAR)Ve=(ut[at*Se+et]+ut[at*Se+_e(et+1,Se)]+ut[_e(at+1,Ne)*Se+et]+ut[_e(at+1,Ne)*Se+_e(et+1,Se)])/4;else{var oe=_e(et+Ye,Se),me=_e(at+Ye,Ne);Ve=ut[me*Se+oe]}var mt=at*Se+et;if(Math.abs((Ve-$e[mt])/Ve)>Ue){we=!1;break}}se.filterWrapSupport[ve]=we,fe.deleteProgram(Pe)}else se.filterWrapSupport[ve]=!1;fe.deleteShader(Ee)}else se.filterWrapSupport[ve]=!1;return ke.dispose(),fe.deleteTexture(Te),se.filterWrapSupport[ve]}Y.testFilterWrap=ae,ce.GPULayer.getGPULayerInternalType=function(be){var he=be.composer,Le=be.name,Xe=he._errorCallback,We=he.isWebGL2,fe=be.type,Re=fe,ye=pe(he,fe);if(ye&&(Re===q.UNSIGNED_BYTE||Re===q.BYTE?Re=q.HALF_FLOAT:(console.warn("Falling back ".concat(Re,' type to FLOAT type for glsl1.x support for GPULayer "').concat(Le,`".
Large UNSIGNED_INT or INT with absolute value > 16,777,216 are not supported, on mobile UNSIGNED_INT, INT, UNSIGNED_SHORT, and SHORT with absolute value > 2,048 may not be supported.`)),Re=q.FLOAT)),We){if(Re===q.FLOAT){var re=(0,ie.getExtension)(he,ie.EXT_COLOR_BUFFER_FLOAT,!0);if(!re)console.warn('FLOAT not supported in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT;else{var Ze=ue(he,Re);Ze||(console.warn('FLOAT not supported for writing operations in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT)}}if(Re===q.HALF_FLOAT){var Ge=(0,ie.getExtension)(he,ie.EXT_COLOR_BUFFER_HALF_FLOAT,!0);Ge||(0,ie.getExtension)(he,ie.EXT_COLOR_BUFFER_FLOAT,!0);var Ze=ue(he,Re);Ze||(console.warn("This browser does not support writing to HALF_FLOAT textures."),Xe("This browser does not support writing to HALF_FLOAT textures."))}}else{if(Re===q.FLOAT){var re=(0,ie.getExtension)(he,ie.OES_TEXTURE_FLOAT,!0);if(re){var Ze=ue(he,Re);Ze||(console.warn('FLOAT not supported for writing operations in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT)}else console.warn('FLOAT not supported in this browser, falling back to HALF_FLOAT type for GPULayer "'.concat(Le,'".')),Re=q.HALF_FLOAT}if(Re===q.HALF_FLOAT){(0,ie.getExtension)(he,ie.OES_TEXTURE_HALF_FLOAT,!0);var Ze=ue(he,Re);Ze||console.warn("This browser does not support writing to HALF_FLOAT textures.")}}return Re};function de(be){var he=-1/0,Le=1/0;switch(be){case q.UNSIGNED_BYTE:he=q.MIN_UNSIGNED_BYTE,Le=q.MAX_UNSIGNED_BYTE;break;case q.BYTE:he=q.MIN_BYTE,Le=q.MAX_BYTE;break;case q.UNSIGNED_SHORT:he=q.MIN_UNSIGNED_SHORT,Le=q.MAX_UNSIGNED_SHORT;break;case q.SHORT:he=q.MIN_SHORT,Le=q.MAX_SHORT;break;case q.UNSIGNED_INT:he=q.MIN_UNSIGNED_INT,Le=q.MAX_UNSIGNED_INT;break;case q.INT:he=q.MIN_INT,Le=q.MAX_INT;break}return{min:he,max:Le}}Y.minMaxValuesForType=de,ce.GPULayer.validateGPULayerArray=function(be,he,Le){Le===void 0&&(Le=null);var Xe=he.numComponents,We=he.width,fe=he.height,Re=he.name,ye=he._glNumChannels,re=he._internalType,Ze=he.is1D()?he.length:null;if(Le){if(be.length!==Le*Xe)throw new Error("Invalid data length: ".concat(be.length,' for GPULayer "').concat(Re,'" of numComponents: ').concat(Xe,"."))}else if(be.length!==We*fe*Xe&&(!Ze||Ze&&be.length!==Ze*Xe))throw new Error("Invalid data length: ".concat(be.length,' for GPULayer "').concat(Re,'" of ').concat(Ze?"length ".concat(Ze," and "):"","dimensions: [").concat(We,", ").concat(fe,"] and numComponents: ").concat(Xe,"."));var Ge=!1;switch(be.constructor){case Array:Ge=!0;break;case Float32Array:Ge=re!==q.FLOAT;break;case Uint8Array:Ge=re!==q.UNSIGNED_BYTE;break;case Int8Array:Ge=re!==q.BYTE;break;case Uint16Array:Ge=re!==q.UNSIGNED_SHORT;break;case Int16Array:Ge=re!==q.SHORT;break;case Uint32Array:Ge=re!==q.UNSIGNED_INT;break;case Int32Array:Ge=re!==q.INT;break;default:throw new Error("Invalid array type: ".concat(be.constructor.name,' for GPULayer "').concat(Re,'", please use one of [').concat(q.validArrayTypes.map(function(mt){return mt.name}).join(", "),"]."))}var ve=de(re),Te=ve.min,xe=ve.max,Ie=Le?Le*ye:We*fe*ye,Se=be.length!==Ie,Ne=be;if(Ge||Se){Ne=ce.GPULayer.initArrayForType(re,Ie);for(var je=re===q.HALF_FLOAT&&Ge?new DataView(Ne.buffer):null,tt=0,it=be.length/Xe;tt<it;tt++)for(var st=0;st<Xe;st++){var qe=be[tt*Xe+st],ot=qe,ut=!1;ot<Te?(ot=Te,ut=!0):ot>xe&&(ot=xe,ut=!0),ut&&console.warn("Clipping out of range value ".concat(qe," to ").concat(ot,' for GPULayer "').concat(Re,'" with internal type ').concat(re,"."));var dt=tt*ye+st;je?(0,ee.setFloat16)(je,2*dt,ot,!0):Ne[dt]=ot}}return Ne}},664:function(J,Y,D){var Q=this&&this.__extends||function(){var ue=function(ae,de){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,he){be.__proto__=he}||function(be,he){for(var Le in he)Object.prototype.hasOwnProperty.call(he,Le)&&(be[Le]=he[Le])},ue(ae,de)};return function(ae,de){if(typeof de!="function"&&de!==null)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");ue(ae,de);function be(){this.constructor=ae}ae.prototype=de===null?Object.create(de):(be.prototype=de.prototype,new be)}}(),ee=this&&this.__assign||function(){return ee=Object.assign||function(ue){for(var ae,de=1,be=arguments.length;de<be;de++){ae=arguments[de];for(var he in ae)Object.prototype.hasOwnProperty.call(ae,he)&&(ue[he]=ae[he])}return ue},ee.apply(this,arguments)};Object.defineProperty(Y,"__esModule",{value:!0}),Y.GPUProgram=void 0;var q=D(601),te=D(593),ie=D(360),ne=D(566),ce=D(707),le=D(581),se=function(){function ue(ae,de){var be=this;this._fragmentShaders={},this._compileTimeConstants={},this._uniforms={},this._programs={},this._programsKeyLookup=new WeakMap,this._samplerUniformsIndices=[];var he=(de||{}).name;if(!ae)throw new Error('Error initing GPUProgram "'.concat(he,'": must pass GPUComposer instance to GPUProgram(composer, params).'));if(!de)throw new Error("Error initing GPUProgram: must pass params to GPUProgram(composer, params).");if(!(0,ne.isObject)(de))throw new Error("Error initing GPUProgram: must pass valid params object to GPUProgram(composer, params), got ".concat(JSON.stringify(de),"."));var Le=["name","fragmentShader","uniforms","compileTimeConstants"],Xe=["name","fragmentShader"],We=Object.keys(de);(0,ce.checkValidKeys)(We,Le,"GPUProgram(composer, params)",de.name),(0,ce.checkRequiredKeys)(We,Xe,"GPUProgram(composer, params)",de.name);var fe=de.fragmentShader,Re=de.uniforms,ye=de.compileTimeConstants;this._composer=ae,this.name=he;var re=(0,ne.isString)(fe)?fe:fe.join(`
`),Ze=(0,te.preprocessFragmentShader)(re,ae.glslVersion,he),Ge=Ze.shaderSource,ve=Ze.samplerUniforms,Te=Ze.additionalSources;if(this._fragmentShaderSource=Ge,ve.forEach(function(st,qe){be._samplerUniformsIndices.push({name:st,inputIndex:0,shaderIndex:qe})}),this.constructor===ue&&Te){this._childPrograms=[];for(var xe=0,Ie=Te.length;xe<Ie;xe++)this._childPrograms.push(new pe(ae,de,{fragmentShaderSource:Te[xe]}))}if(ye&&(this._compileTimeConstants=ee({},ye)),ae.glslVersion===q.GLSL1&&(Ge.includes("dFdx")||Ge.includes("dFdy")||Ge.includes("fwidth"))){var Se=(0,le.getExtension)(ae,le.OES_STANDARD_DERIVATIVES,!0);Se&&(this._extensions=`#extension GL_OES_standard_derivatives : enable
`)}if(Re)for(var xe=0;xe<Re.length;xe++){var Ne=Re[xe],je=Ne.name,tt=Ne.value,it=Ne.type;this.setUniform(je,tt,it)}}return ue.prototype.recompile=function(ae){var de=this._compileTimeConstants,be=!1;if(Object.keys(ae).forEach(function(tt){de[tt]!==ae[tt]&&(be=!0,de[tt]=ae[tt])}),!!be){for(var he=this,Le=he._fragmentShaders,Xe=he._programs,We=he._programsKeyLookup,fe=he._composer,Re=he._uniforms,ye=fe.gl,re=Object.keys(Xe),Ze=0,Ge=re.length;Ze<Ge;Ze++){var ve=re[Ze],Te=Xe[ve];ye.deleteProgram(Te),We.delete(Te),delete Xe[ve]}for(var xe=Object.keys(Le),Ze=0,Ie=xe.length;Ze<Ie;Ze++){var ve=xe[Ze];ye.deleteShader(Le[ve]),delete Le[ve]}for(var Se=Object.values(Re),Ze=0,Ne=Se.length;Ze<Ne;Ze++)Se[Ze].location=new WeakMap;if(this._childPrograms)for(var Ze=0,je=this._childPrograms.length;Ze<je;Ze++)this._childPrograms[Ze].recompile(ae)}},ue.prototype._getFragmentShader=function(ae,de){var be=this._fragmentShaders;if(be[ae])return be[ae];for(var he=this,Le=he._composer,Xe=he.name,We=he._fragmentShaderSource,fe=he._compileTimeConstants,Re=he._extensions,ye=Le.gl,re=Le._errorCallback,Ze=Le.verboseLogging,Ge=Le.glslVersion,ve=Le.floatPrecision,Te=Le.intPrecision,xe=Object.keys(de),Ie=0;Ie<xe.length;Ie++){var Se=xe[Ie];fe[Se]=de[Se]}Ze&&console.log('Compiling fragment shader for GPUProgram "'.concat(Xe,'" with compile time constants: ').concat(JSON.stringify(fe)));var Ne=(0,te.compileShader)(ye,Ge,Te,ve,We,ye.FRAGMENT_SHADER,Xe,re,fe,Re,Object.keys(be).length===0);if(!Ne){re('Unable to compile fragment shader for GPUProgram "'.concat(Xe,'".'));return}return be[ae]=Ne,be[ae]},ue.prototype._getProgramWithName=function(ae,de,be){for(var he=this,Le=he._samplerUniformsIndices,Xe=he._composer,We="",fe={},Re=0,ye=Le.length;Re<ye;Re++){var re=Le[Re].inputIndex,Ze=be[re].layer,Ge=Ze.filter,ve=Ze.wrapX,Te=Ze.wrapY,xe=Ze.type,Ie=Ze._internalFilter,Se=Ze._internalWrapX,Ne=Ze._internalWrapY,je=ve===Se?0:ve===q.REPEAT?1:0,tt=Te===Ne?0:Te===q.REPEAT?1:0,it=Ge===Ie?0:Ge===q.LINEAR?1:0;We+="_IN".concat(Re,"_").concat(je,"_").concat(tt,"_").concat(it),fe["".concat(ie.SAMPLER2D_WRAP_X).concat(Re)]="".concat(je),fe["".concat(ie.SAMPLER2D_WRAP_Y).concat(Re)]="".concat(tt),fe["".concat(ie.SAMPLER2D_FILTER).concat(Re)]="".concat(it),Xe.glslVersion===q.GLSL1&&(0,te.isIntType)(xe)&&(fe["".concat(ie.SAMPLER2D_CAST_INT).concat(Re)]="1")}var st=Object.keys(de).map(function($e){return"_".concat($e,"_").concat(de[$e])}).join(),qe="".concat(ae).concat(st).concat(We);if(this._programs[qe])return this._programs[qe];var ot=this,ut=ot._uniforms,dt=ot._programs,mt=ot._programsKeyLookup,Je=Xe.gl,Me=Xe._errorCallback,ke=Xe._getVertexShader(ae,st,de,this.name);if(ke===void 0){Me('Unable to init vertex shader "'.concat(ae).concat(st,'" for GPUProgram "').concat(this.name,'".'));return}var Ye=this._getFragmentShader(We,fe);if(Ye===void 0){Me('Unable to init fragment shader "'.concat(We,'" for GPUProgram "').concat(this.name,'".'));return}var Ce=(0,te.initGLProgram)(Je,ke,Ye,this.name,Me);if(Ce===void 0){Je.deleteShader(Ye),Me('Unable to init program "'.concat(qe,'" for GPUProgram "').concat(this.name,'".'));return}Je.useProgram(Ce);for(var ze=Object.keys(ut),Re=0,Ee=ze.length;Re<Ee;Re++){var _e=ze[Re],He=ut[_e],Pe=He.value,xe=He.type;this._setProgramUniform(Ce,_e,Pe,xe)}return dt[qe]=Ce,mt.set(Ce,qe),Ce},ue.prototype._setProgramUniform=function(ae,de,be,he){var Le,Xe=this,We=Xe._composer,fe=Xe._uniforms,Re=We.gl,ye=We._errorCallback,re=We.glslVersion,Ze=re===q.GLSL3,Ge=(Le=fe[de])===null||Le===void 0?void 0:Le.location.get(ae);if(Ge===void 0){var ve=Re.getUniformLocation(ae,de);if(ve===null){console.warn('Could not init uniform "'.concat(de,'" for program "').concat(this.name,'". Check that uniform is present in shader code, unused uniforms may be removed by compiler. Also check that uniform type in shader code matches type ').concat(he,". Error code: ").concat(Re.getError(),"."));return}Ge=ve,fe[de]&&fe[de].location.set(ae,Ge);var Te=Re.getUniform(ae,Ge),xe=!1;if(he===q.BOOL_1D_UNIFORM||he===q.BOOL_2D_UNIFORM||he===q.BOOL_3D_UNIFORM||he===q.BOOL_4D_UNIFORM?!(0,ne.isBoolean)(Te)&&Te.constructor!==Array&&(xe=!0):he===q.FLOAT_1D_UNIFORM||he===q.FLOAT_2D_UNIFORM||he===q.FLOAT_3D_UNIFORM||he===q.FLOAT_4D_UNIFORM?!(0,ne.isFiniteNumber)(Te)&&Te.constructor!==Float32Array&&(xe=!0):he===q.INT_1D_UNIFORM||he===q.INT_2D_UNIFORM||he===q.INT_3D_UNIFORM||he===q.INT_4D_UNIFORM?!(0,ne.isInteger)(Te)&&Te.constructor!==Int32Array&&(xe=!0):(he===q.UINT_1D_UNIFORM||he===q.UINT_2D_UNIFORM||he===q.UINT_3D_UNIFORM||he===q.UINT_4D_UNIFORM)&&(Ze?!(0,ne.isNonNegativeInteger)(Te)&&Te.constructor!==Uint32Array&&(xe=!0):!(0,ne.isNonNegativeInteger)(Te)&&Te.constructor!==Int32Array&&(xe=!0)),xe){ye('Invalid uniform "'.concat(de,'" for program "').concat(this.name,'". Check that uniform type in shader code matches type ').concat(he,", gl.getUniform(program, location) returned type: ").concat(Te.constructor.name,"."));return}}switch(he){case q.BOOL_1D_UNIFORM:Re.uniform1i(Ge,be?1:0);break;case q.BOOL_2D_UNIFORM:Re.uniform2i(Ge,be[0]?1:0,be[1]?1:0);break;case q.BOOL_3D_UNIFORM:Re.uniform3i(Ge,be[0]?1:0,be[1]?1:0,be[2]?1:0);break;case q.BOOL_4D_UNIFORM:Re.uniform4i(Ge,be[0]?1:0,be[1]?1:0,be[2]?1:0,be[3]?1:0);break;case q.FLOAT_1D_UNIFORM:Re.uniform1f(Ge,be);break;case q.FLOAT_2D_UNIFORM:Re.uniform2fv(Ge,be);break;case q.FLOAT_3D_UNIFORM:Re.uniform3fv(Ge,be);break;case q.FLOAT_4D_UNIFORM:Re.uniform4fv(Ge,be);break;case q.INT_1D_UNIFORM:Re.uniform1i(Ge,be);break;case q.INT_2D_UNIFORM:Re.uniform2iv(Ge,be);break;case q.INT_3D_UNIFORM:Re.uniform3iv(Ge,be);break;case q.INT_4D_UNIFORM:Re.uniform4iv(Ge,be);break;case q.UINT_1D_UNIFORM:Ze?Re.uniform1ui(Ge,be):Re.uniform1i(Ge,be);break;case q.UINT_2D_UNIFORM:Ze?Re.uniform2uiv(Ge,be):Re.uniform2iv(Ge,be);break;case q.UINT_3D_UNIFORM:Ze?Re.uniform3uiv(Ge,be):Re.uniform3iv(Ge,be);break;case q.UINT_4D_UNIFORM:Ze?Re.uniform4uiv(Ge,be):Re.uniform4iv(Ge,be);break;default:throw new Error("Unknown uniform type ".concat(he,' for GPUProgram "').concat(this.name,'".'))}},ue.prototype._cacheUniformValue=function(ae,de,be){var he=this._uniforms,Le=he[ae];if(!Le)return he[ae]={location:new WeakMap,value:(0,ne.isArray)(de)?de.slice():de,type:be},!0;var Xe=Le.value;if(Le.value=(0,ne.isArray)(de)?de.slice():de,(0,ne.isArray)(de)){for(var We=0,fe=de.length;We<fe;We++)if(de[We]!==Xe[We])return!0;return!1}return de!==Xe},ue.prototype.setUniform=function(ae,de,be){var he,Le=this,Xe=Le._programs,We=Le._uniforms,fe=Le._composer,Re=Le._samplerUniformsIndices,ye=fe.verboseLogging,re=fe.gl;if((0,ne.isArray)(de)){var Ze=de.length;if(Ze>4)throw new Error("Invalid uniform value: [".concat(de.join(", "),'] passed to GPUProgram "').concat(this.name,', uniforms must be of type number[] with length <= 4, number, or boolean."'))}var Ge=(he=We[ae])===null||he===void 0?void 0:he.type;if(be){var ve=(0,te.uniformInternalTypeForValue)(de,be,ae,this.name);if(Ge===void 0)Ge=ve;else if(Ge!==ve)throw new Error('Uniform "'.concat(ae,'" for GPUProgram "').concat(this.name,'" cannot change from type ').concat(Ge," to type ").concat(ve,"."))}if(Ge===void 0)throw new Error('Unknown type for uniform "'.concat(ae,'", please pass in type to GPUProgram.setUniform(name, value, type) when initing a new uniform.'));var Te=this._cacheUniformValue(ae,de,Ge);if(Te){var xe=Re.find(function(st){return st.name===ae});xe&&(0,ne.isInteger)(de)&&(xe.inputIndex=de),ye&&console.log('Setting uniform "'.concat(ae,'" for program "').concat(this.name,'" to value ').concat(JSON.stringify(de),"."));for(var Ie=Object.keys(Xe),Se=0,Ne=Ie.length;Se<Ne;Se++){var je=Ie[Se],tt=Xe[je];re.useProgram(tt),this._setProgramUniform(tt,ae,de,Ge)}if(this._childPrograms)for(var Se=0,it=this._childPrograms.length;Se<it;Se++)this._childPrograms[Se].setUniform(ae,de,be)}},ue.prototype._setInternalFragmentUniforms=function(ae,de){if(de.length!==0){if(!ae)throw new Error("Must pass in valid WebGLProgram to GPUProgram._setInternalFragmentUniforms, got undefined.");var be=this,he=be._programsKeyLookup,Le=be._samplerUniformsIndices,Xe=he.get(ae);if(!Xe)throw new Error('Could not find valid programName for WebGLProgram in GPUProgram "'.concat(this.name,'".'));for(var We=new Array(Math.max(de.length,Le.length)).fill(-1),fe=0,Re=Le.length;fe<Re;fe++){var ye=Le[fe],re=ye.inputIndex,Ze=ye.shaderIndex;We[re]>=0?console.warn("Found > 1 sampler2D uniforms at texture index ".concat(re,' for GPUProgram "').concat(this.name,'".')):We[re]=Ze}for(var fe=0,Ge=de.length;fe<Ge;fe++){var ve=de[fe].layer,Te=ve.width,xe=ve.height,Ie=We[fe];if(!(Ie<0)){var Se=ve.filter,Ne=ve.wrapX,je=ve.wrapY,tt=ve._internalFilter,it=ve._internalWrapX,st=ve._internalWrapY,qe=Se!==tt;if(qe||Ne!==it||je!==st){var ot=[.5/Te,.5/xe],ut="".concat(ie.SAMPLER2D_HALF_PX_UNIFORM).concat(Ie),dt=this._cacheUniformValue(ut,ot,q.FLOAT_2D_UNIFORM);if(dt&&this._setProgramUniform(ae,ut,ot,q.FLOAT_2D_UNIFORM),qe){var mt=[Te,xe],Je="".concat(ie.SAMPLER2D_DIMENSIONS_UNIFORM).concat(Ie),Me=this._cacheUniformValue(Je,mt,q.FLOAT_2D_UNIFORM);Me&&this._setProgramUniform(ae,Je,mt,q.FLOAT_2D_UNIFORM)}}}}}},ue.prototype._setVertexUniform=function(ae,de,be,he){if(!ae)throw new Error("Must pass in valid WebGLProgram to GPUProgram._setVertexUniform, got undefined.");var Le=this._programsKeyLookup,Xe=Le.get(ae);if(!Xe)throw new Error('Could not find valid programName for WebGLProgram in GPUProgram "'.concat(this.name,'".'));var We=(0,te.uniformInternalTypeForValue)(be,he,de,this.name);this._setProgramUniform(ae,de,be,We)},ue.prototype.dispose=function(){var ae=this,de=ae._composer,be=ae._fragmentShaders,he=ae._programs,Le=ae._programsKeyLookup,Xe=de.gl,We=de.verboseLogging;if(We&&console.log('Deallocating GPUProgram "'.concat(this.name,'".')),!Xe)throw new Error("Must call dispose() on all GPUPrograms before calling dispose() on GPUComposer.");if(Object.values(he).forEach(function(ye){ye&&(Xe.deleteProgram(ye),Le.delete(ye))}),Object.keys(he).forEach(function(ye){delete he[ye]}),Object.values(be).forEach(function(ye){Xe.deleteShader(ye)}),Object.keys(be).forEach(function(ye){delete be[ye]}),this._childPrograms){for(var fe=0,Re=this._childPrograms.length;fe<Re;fe++)this._childPrograms[fe].dispose();this._childPrograms.length}delete this._childPrograms,delete this._composer,delete this.name,delete this._fragmentShaderSource,delete this._compileTimeConstants,delete this._extensions,delete this._uniforms,delete this._programs,delete this._programsKeyLookup,delete this._fragmentShaders,delete this._samplerUniformsIndices},ue}();Y.GPUProgram=se;var pe=function(ue){Q(ae,ue);function ae(de,be,he){var Le=ue.call(this,de,be)||this,Xe=he.fragmentShaderSource;return Le._fragmentShaderSource=Xe,Le}return ae}(se)},579:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.wrappedLineColorProgram=Y.renderSignedAmplitudeProgram=Y.renderAmplitudeProgram=Y.renderRGBProgram=Y.zeroProgram=Y.setColorProgram=Y.setValueProgram=Y.multiplyValueProgram=Y.addValueProgram=Y.addLayersProgram=Y.copyProgram=void 0;var Q=D(566),ee=D(601),q=D(690),te=D(664);function ie(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=(0,q.glslTypeForType)(We,4),ye=Xe.name||"copy_".concat((0,q.uniformTypeForType)(We,Le.glslVersion),"_layer");return new te.GPUProgram(Le,{name:ye,fragmentShader:`
in vec2 v_uv;
uniform `.concat(fe," ").concat((0,q.glslPrefixForType)(We),`sampler2D u_state;
out `).concat(fe," ").concat(Re,` out_result;
void main() {
	out_result = texture(u_state, v_uv);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT}]})}Y.copyProgram=ie;function ne(Le,Xe){var We=Xe.type,fe=Xe.numInputs||2,Re=Xe.precision||"",ye=Xe.components||"xyzw",re=(0,q.glslTypeForType)(We,ye.length),Ze=new Array(fe),Ge=Xe.name||"".concat(fe,"-way_add_").concat((0,q.uniformTypeForType)(We,Le.glslVersion),"_").concat(ye);return new te.GPUProgram(Le,{name:Ge,fragmentShader:`
in vec2 v_uv;
`.concat(Ze.map(function(ve,Te){return"uniform ".concat(Re," ").concat((0,q.glslPrefixForType)(We),"sampler2D u_state").concat(Te,";")}).join(`
`),`
out `).concat(Re," ").concat(re,` out_result;
void main() {
	out_result = `).concat(Ze.map(function(ve,Te){return"texture(u_state".concat(Te,", v_uv).").concat(ye)}).join(" + "),`;
}`),uniforms:Ze.map(function(ve,Te){return{name:"u_state".concat(Te),value:Te,type:ee.INT}})})}Y.addLayersProgram=ne;function ce(Le,Xe){var We=Xe.type,fe=Xe.value,Re=Xe.precision||"",ye=(0,Q.isArray)(fe)?fe.length:1,re=(0,q.glslTypeForType)(We,ye),Ze=ye===1?4:ye,Ge=(0,q.glslTypeForType)(We,Ze),ve=(0,q.glslComponentSelectionForNumComponents)(Ze),Te=Xe.name||"addValue_".concat(re,"_w_length_").concat(ye);return new te.GPUProgram(Le,{name:Te,fragmentShader:`
in vec2 v_uv;
uniform `.concat(Re," ").concat(re,` u_value;
uniform `).concat(Re," ").concat((0,q.glslPrefixForType)(We),`sampler2D u_state;
out `).concat(Re," ").concat(Ge,` out_result;
void main() {
	out_result = `).concat(re!==Ge?Ge:"","(u_value) + texture(u_state, v_uv)").concat(ve,`;
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_value",value:fe,type:(0,q.uniformTypeForType)(We,Le.glslVersion)}]})}Y.addValueProgram=ce;function le(Le,Xe){var We=Xe.type,fe=Xe.value,Re=Xe.precision||"",ye=(0,Q.isArray)(fe)?fe.length:1,re=(0,q.glslTypeForType)(We,ye),Ze=ye===1?4:ye,Ge=(0,q.glslTypeForType)(We,Ze),ve=(0,q.glslComponentSelectionForNumComponents)(Ze),Te=Xe.name||"addValue_".concat(re,"_w_length_").concat(ye);return new te.GPUProgram(Le,{name:Te,fragmentShader:`
in vec2 v_uv;
uniform `.concat(Re," ").concat(re,` u_value;
uniform `).concat(Re," ").concat((0,q.glslPrefixForType)(We),`sampler2D u_state;
out `).concat(Re," ").concat(Ge,` out_result;
void main() {
	out_result = `).concat(re!==Ge?Ge:"","(u_value) * texture(u_state, v_uv)").concat(ve,`;
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_value",value:fe,type:(0,q.uniformTypeForType)(We,Le.glslVersion)}]})}Y.multiplyValueProgram=le;function se(Le,Xe){var We=Xe.type,fe=Xe.value,Re=Xe.precision||"",ye=(0,Q.isArray)(fe)?fe.length:1,re=(0,q.glslTypeForType)(We,ye),Ze=ye===1?4:ye,Ge=(0,q.glslTypeForType)(We,Ze),ve=Xe.name||"setValue_".concat(re,"_w_length_").concat(ye);return new te.GPUProgram(Le,{name:ve,fragmentShader:`
uniform `.concat(Re," ").concat(re,` u_value;
out `).concat(Re," ").concat(Ge,` out_result;
void main() {
	out_result = `).concat(re!==Ge?Ge:"",`(u_value);
}`),uniforms:[{name:"u_value",value:fe,type:(0,q.uniformTypeForType)(We,Le.glslVersion)}]})}Y.setValueProgram=se;function pe(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=Xe.opacity===void 0?1:Xe.opacity,ye=Xe.color||[0,0,0],re=Xe.name||"setColor",Ze=(0,q.glslTypeForType)(We,4);return new te.GPUProgram(Le,{name:re,fragmentShader:`
uniform `.concat(fe,` vec3 u_color;
uniform `).concat(fe,` float u_opacity;
out `).concat(fe," ").concat(Ze,` out_result;
void main() {
	out_result = `).concat(Ze,`(u_color, u_opacity);
}`),uniforms:[{name:"u_color",value:ye,type:ee.FLOAT},{name:"u_opacity",value:Re,type:ee.FLOAT}]})}Y.setColorProgram=pe;function ue(Le,Xe){return se(Le,{type:ee.FLOAT,value:0,name:Xe.name})}Y.zeroProgram=ue;function ae(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=3,ye=(0,q.glslTypeForType)(We,Re),re=(0,q.glslTypeForType)(ee.FLOAT,Re),Ze=(0,q.glslPrefixForType)(We),Ge=re===ye,ve=Xe.name||"renderRGB_".concat(ye);return new te.GPUProgram(Le,{name:ve,fragmentShader:`
in vec2 v_uv;
uniform float u_opacity;
uniform float u_scale;
uniform `.concat(fe," ").concat(Ze,`sampler2D u_state;
out vec4 out_result;
void main() {
	vec3 color = u_scale * (`).concat(Ge?"":re,`(texture(u_state, v_uv).rgb));
	out_result = vec4(color, u_opacity);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_scale",value:Xe.scale!==void 0?Xe.scale:1,type:ee.FLOAT},{name:"u_opacity",value:Xe.opacity!==void 0?Xe.opacity:1,type:ee.FLOAT}]})}Y.renderRGBProgram=ae;function de(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=Xe.components||"xyzw",ye=Re.length,re=(0,q.glslTypeForType)(We,ye),Ze=(0,q.glslTypeForType)(ee.FLOAT,ye),Ge=(0,q.glslPrefixForType)(We),ve=Ze===re,Te=Xe.name||"renderAmplitude_".concat(re,"_w_").concat(ye,"_components");return new te.GPUProgram(Le,{name:Te,fragmentShader:`
in vec2 v_uv;
uniform float u_opacity;
uniform float u_scale;
uniform vec3 u_colorMax;
uniform vec3 u_colorMin;
uniform `.concat(fe," ").concat(Ge,`sampler2D u_state;
out vec4 out_result;
void main() {
	float amplitude = u_scale * `).concat(ye===1?"abs":"length","(").concat(ve?"":Ze,"(texture(u_state, v_uv)").concat(Re==="xyzw"||Re==="rgba"||Re==="stpq"?"":".".concat(Re),`));
	vec3 color = mix(u_colorMin, u_colorMax, amplitude);
	out_result = vec4(color, u_opacity);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_scale",value:Xe.scale!==void 0?Xe.scale:1,type:ee.FLOAT},{name:"u_opacity",value:Xe.opacity!==void 0?Xe.opacity:1,type:ee.FLOAT},{name:"u_colorMax",value:Xe.colorMax||[1,1,1],type:ee.FLOAT},{name:"u_colorMin",value:Xe.colorMin||[0,0,0],type:ee.FLOAT}]})}Y.renderAmplitudeProgram=de;function be(Le,Xe){var We=Xe.type,fe=Xe.precision||"",Re=(0,q.glslTypeForType)(We,1),ye=(0,q.glslPrefixForType)(We),re=Re==="float",Ze=Xe.component||"x",Ge=Xe.name||"renderAmplitude_".concat(Re,"_").concat(Ze);return new te.GPUProgram(Le,{name:Ge,fragmentShader:`
in vec2 v_uv;
uniform float u_opacity;
uniform float u_scale;
uniform float u_bias;
uniform vec3 u_colorMin;
uniform vec3 u_colorMax;
uniform vec3 u_colorCenter;
uniform `.concat(fe," ").concat(ye,`sampler2D u_state;
out vec4 out_result;
void main() {
	float signedAmplitude = u_scale * (`).concat(re?"":"float","(texture(u_state, v_uv).").concat(Ze,`) - u_bias);
	float amplitudeSign = sign(signedAmplitude);
	vec3 interpColor = mix(u_colorMin, u_colorMax, amplitudeSign / 2.0 + 0.5);
	vec3 color = mix(u_colorCenter, interpColor, signedAmplitude * amplitudeSign);
	out_result = vec4(color, u_opacity);
}`),uniforms:[{name:"u_state",value:0,type:ee.INT},{name:"u_scale",value:Xe.scale!==void 0?Xe.scale:1,type:ee.FLOAT},{name:"u_bias",value:Xe.bias||0,type:ee.FLOAT},{name:"u_opacity",value:Xe.opacity!==void 0?Xe.opacity:1,type:ee.FLOAT},{name:"u_colorMin",value:Xe.colorMin||[0,0,1],type:ee.FLOAT},{name:"u_colorMax",value:Xe.colorMax||[1,0,0],type:ee.FLOAT},{name:"u_colorCenter",value:Xe.colorCenter||[1,1,1],type:ee.FLOAT}]})}Y.renderSignedAmplitudeProgram=be;function he(Le){return new te.GPUProgram(Le,{name:"wrappedLineColor",fragmentShader:`
in vec2 v_lineWrapping;
uniform vec4 u_value;
out vec4 out_result;
void main() {
	// Check if this line has wrapped.
	if ((v_lineWrapping.x != 0.0 && v_lineWrapping.x != 1.0) || (v_lineWrapping.y != 0.0 && v_lineWrapping.y != 1.0)) {
		// Render nothing.
		discard;
		return;
	}
	out_result = vec4(u_value);
}`})}Y.wrappedLineColorProgram=he},404:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.Vector4=void 0;var D=function(){function Q(ee,q,te,ie){ee===void 0&&(ee=0),q===void 0&&(q=0),te===void 0&&(te=0),ie===void 0&&(ie=1),this.x=ee,this.y=q,this.z=te,this.w=ie}return Object.defineProperty(Q.prototype,"width",{get:function(){return this.z},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"height",{get:function(){return this.w},enumerable:!1,configurable:!0}),Q.prototype.copy=function(ee){return this.x=ee.x,this.y=ee.y,this.z=ee.z,this.w=ee.w,this},Q}();Y.Vector4=D},707:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.checkRequiredKeys=Y.checkValidKeys=Y.isNumberOfType=Y.isValidClearValue=Y.isValidImageType=Y.isValidImageFormat=Y.isValidWrap=Y.isValidFilter=Y.isValidDataType=void 0;var Q=D(566),ee=D(601);function q(ae){return ee.validDataTypes.indexOf(ae)>-1}Y.isValidDataType=q;function te(ae){return ee.validFilters.indexOf(ae)>-1}Y.isValidFilter=te;function ie(ae){return ee.validWraps.indexOf(ae)>-1}Y.isValidWrap=ie;function ne(ae){return ee.validImageFormats.indexOf(ae)>-1}Y.isValidImageFormat=ne;function ce(ae){return ee.validImageTypes.indexOf(ae)>-1}Y.isValidImageType=ce;function le(ae,de,be){if((0,Q.isArray)(ae)){if(ae.length!==de)return!1;for(var he=0;he<ae.length;he++)if(!se(ae[he],be))return!1}else if(!se(ae,be))return!1;return!0}Y.isValidClearValue=le;function se(ae,de){switch(de){case ee.HALF_FLOAT:case ee.FLOAT:return(0,Q.isFiniteNumber)(ae);case ee.BYTE:return ae<-128||ae>127?!1:(0,Q.isInteger)(ae);case ee.SHORT:return ae<-32768||ae>32767?!1:(0,Q.isInteger)(ae);case ee.INT:return ae<-2147483648||ae>2147483647?!1:(0,Q.isInteger)(ae);case ee.UNSIGNED_BYTE:return ae>255?!1:(0,Q.isNonNegativeInteger)(ae);case ee.UNSIGNED_SHORT:return ae>65535?!1:(0,Q.isNonNegativeInteger)(ae);case ee.UNSIGNED_INT:return ae>4294967295?!1:(0,Q.isNonNegativeInteger)(ae);default:throw new Error("Unknown type ".concat(de))}}Y.isNumberOfType=se;function pe(ae,de,be,he){ae.forEach(function(Le){de.indexOf(Le)<0&&console.warn('Invalid params key "'.concat(Le,'" passed to ').concat(be).concat(he?' with name "'.concat(he,'"'):"",".  Valid keys are ").concat(JSON.stringify(de),"."))})}Y.checkValidKeys=pe;function ue(ae,de,be,he){de.forEach(function(Le){if(ae.indexOf(Le)<0)throw new Error('Required params key "'.concat(Le,'" was not passed to ').concat(be).concat(he?' with name "'.concat(he,'"'):"","."))})}Y.checkRequiredKeys=ue},601:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_POINTS_PROGRAM_NAME=Y.SEGMENT_PROGRAM_NAME=Y.DEFAULT_PROGRAM_NAME=Y.BOOL_4D_UNIFORM=Y.BOOL_3D_UNIFORM=Y.BOOL_2D_UNIFORM=Y.BOOL_1D_UNIFORM=Y.UINT_4D_UNIFORM=Y.UINT_3D_UNIFORM=Y.UINT_2D_UNIFORM=Y.UINT_1D_UNIFORM=Y.INT_4D_UNIFORM=Y.INT_3D_UNIFORM=Y.INT_2D_UNIFORM=Y.INT_1D_UNIFORM=Y.FLOAT_4D_UNIFORM=Y.FLOAT_3D_UNIFORM=Y.FLOAT_2D_UNIFORM=Y.FLOAT_1D_UNIFORM=Y.PRECISION_HIGH_P=Y.PRECISION_MEDIUM_P=Y.PRECISION_LOW_P=Y.EXPERIMENTAL_WEBGL2=Y.EXPERIMENTAL_WEBGL=Y.WEBGL1=Y.WEBGL2=Y.GLSL1=Y.GLSL3=Y.validImageTypes=Y.validImageFormats=Y.RGBA=Y.RGB=Y.validWraps=Y.validFilters=Y.validDataTypes=Y.validArrayTypes=Y.REPEAT=Y.CLAMP_TO_EDGE=Y.LINEAR=Y.NEAREST=Y.UINT=Y.BOOL=Y.INT=Y.UNSIGNED_INT=Y.SHORT=Y.UNSIGNED_SHORT=Y.BYTE=Y.UNSIGNED_BYTE=Y.FLOAT=Y.HALF_FLOAT=void 0,Y.BOUNDARY_RIGHT=Y.BOUNDARY_LEFT=Y.BOUNDARY_BOTTOM=Y.BOUNDARY_TOP=Y.GPUIO_FLOAT_PRECISION=Y.GPUIO_INT_PRECISION=Y.MAX_FLOAT_INT=Y.MIN_FLOAT_INT=Y.MAX_HALF_FLOAT_INT=Y.MIN_HALF_FLOAT_INT=Y.MAX_INT=Y.MIN_INT=Y.MAX_UNSIGNED_INT=Y.MIN_UNSIGNED_INT=Y.MAX_SHORT=Y.MIN_SHORT=Y.MAX_UNSIGNED_SHORT=Y.MIN_UNSIGNED_SHORT=Y.MAX_BYTE=Y.MIN_BYTE=Y.MAX_UNSIGNED_BYTE=Y.MIN_UNSIGNED_BYTE=Y.DEFAULT_CIRCLE_NUM_SEGMENTS=Y.DEFAULT_ERROR_CALLBACK=Y.GPUIO_VS_POSITION_W_ACCUM=Y.GPUIO_VS_NORMAL_ATTRIBUTE=Y.GPUIO_VS_UV_ATTRIBUTE=Y.GPUIO_VS_INDEXED_POSITIONS=Y.GPUIO_VS_WRAP_Y=Y.GPUIO_VS_WRAP_X=Y.LAYER_MESH_PROGRAM_NAME=Y.LAYER_VECTOR_FIELD_PROGRAM_NAME=Y.LAYER_LINES_PROGRAM_NAME=void 0,Y.HALF_FLOAT="HALF_FLOAT",Y.FLOAT="FLOAT",Y.UNSIGNED_BYTE="UNSIGNED_BYTE",Y.BYTE="BYTE",Y.UNSIGNED_SHORT="UNSIGNED_SHORT",Y.SHORT="SHORT",Y.UNSIGNED_INT="UNSIGNED_INT",Y.INT="INT",Y.BOOL="BOOL",Y.UINT="UINT",Y.NEAREST="NEAREST",Y.LINEAR="LINEAR",Y.CLAMP_TO_EDGE="CLAMP_TO_EDGE",Y.REPEAT="REPEAT",Y.validArrayTypes=[Float32Array,Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Array],Y.validDataTypes=[Y.HALF_FLOAT,Y.FLOAT,Y.UNSIGNED_BYTE,Y.BYTE,Y.UNSIGNED_SHORT,Y.SHORT,Y.UNSIGNED_INT,Y.INT],Y.validFilters=[Y.NEAREST,Y.LINEAR],Y.validWraps=[Y.CLAMP_TO_EDGE,Y.REPEAT],Y.RGB="RGB",Y.RGBA="RGBA",Y.validImageFormats=[Y.RGB,Y.RGBA],Y.validImageTypes=[Y.UNSIGNED_BYTE,Y.FLOAT,Y.HALF_FLOAT],Y.GLSL3="300 es",Y.GLSL1="100",Y.WEBGL2="webgl2",Y.WEBGL1="webgl",Y.EXPERIMENTAL_WEBGL="experimental-webgl",Y.EXPERIMENTAL_WEBGL2="experimental-webgl2",Y.PRECISION_LOW_P="lowp",Y.PRECISION_MEDIUM_P="mediump",Y.PRECISION_HIGH_P="highp",Y.FLOAT_1D_UNIFORM="FLOAT_1D_UNIFORM",Y.FLOAT_2D_UNIFORM="FLOAT_2D_UNIFORM",Y.FLOAT_3D_UNIFORM="FLOAT_3D_UNIFORM",Y.FLOAT_4D_UNIFORM="FLOAT_4D_UNIFORM",Y.INT_1D_UNIFORM="INT_1D_UNIFORM",Y.INT_2D_UNIFORM="INT_2D_UNIFORM",Y.INT_3D_UNIFORM="INT_3D_UNIFORM",Y.INT_4D_UNIFORM="INT_4D_UNIFORM",Y.UINT_1D_UNIFORM="UINT_1D_UNIFORM",Y.UINT_2D_UNIFORM="UINT_2D_UNIFORM",Y.UINT_3D_UNIFORM="UINT_3D_UNIFORM",Y.UINT_4D_UNIFORM="UINT_4D_UNIFORM",Y.BOOL_1D_UNIFORM="BOOL_1D_UNIFORM",Y.BOOL_2D_UNIFORM="BOOL_2D_UNIFORM",Y.BOOL_3D_UNIFORM="BOOL_3D_UNIFORM",Y.BOOL_4D_UNIFORM="BOOL_4D_UNIFORM",Y.DEFAULT_PROGRAM_NAME="DEFAULT",Y.SEGMENT_PROGRAM_NAME="SEGMENT",Y.LAYER_POINTS_PROGRAM_NAME="LAYER_POINTS",Y.LAYER_LINES_PROGRAM_NAME="LAYER_LINES",Y.LAYER_VECTOR_FIELD_PROGRAM_NAME="LAYER_VECTOR_FIELD",Y.LAYER_MESH_PROGRAM_NAME="LAYER_MESH",Y.GPUIO_VS_WRAP_X="GPUIO_VS_WRAP_X",Y.GPUIO_VS_WRAP_Y="GPUIO_VS_WRAP_Y",Y.GPUIO_VS_INDEXED_POSITIONS="GPUIO_VS_INDEXED_POSITIONS",Y.GPUIO_VS_UV_ATTRIBUTE="GPUIO_VS_UV_ATTRIBUTE",Y.GPUIO_VS_NORMAL_ATTRIBUTE="GPUIO_VS_NORMAL_ATTRIBUTE",Y.GPUIO_VS_POSITION_W_ACCUM="GPUIO_VS_POSITION_W_ACCUM";var D=function(Q){throw new Error(Q)};Y.DEFAULT_ERROR_CALLBACK=D,Y.DEFAULT_CIRCLE_NUM_SEGMENTS=18,Y.MIN_UNSIGNED_BYTE=0,Y.MAX_UNSIGNED_BYTE=Math.pow(2,8)-1,Y.MIN_BYTE=-Math.pow(2,7),Y.MAX_BYTE=Math.pow(2,7)-1,Y.MIN_UNSIGNED_SHORT=0,Y.MAX_UNSIGNED_SHORT=Math.pow(2,16)-1,Y.MIN_SHORT=-Math.pow(2,15),Y.MAX_SHORT=Math.pow(2,15)-1,Y.MIN_UNSIGNED_INT=0,Y.MAX_UNSIGNED_INT=Math.pow(2,32)-1,Y.MIN_INT=-Math.pow(2,31),Y.MAX_INT=Math.pow(2,31)-1,Y.MIN_HALF_FLOAT_INT=-2048,Y.MAX_HALF_FLOAT_INT=2048,Y.MIN_FLOAT_INT=-16777216,Y.MAX_FLOAT_INT=16777216,Y.GPUIO_INT_PRECISION="GPUIO_INT_PRECISION",Y.GPUIO_FLOAT_PRECISION="GPUIO_FLOAT_PRECISION",Y.BOUNDARY_TOP="BOUNDARY_TOP",Y.BOUNDARY_BOTTOM="BOUNDARY_BOTTOM",Y.BOUNDARY_LEFT="BOUNDARY_LEFT",Y.BOUNDARY_RIGHT="BOUNDARY_RIGHT"},690:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.glslComponentSelectionForNumComponents=Y.glslPrefixForType=Y.glslTypeForType=Y.arrayConstructorForType=Y.uniformTypeForType=Y.intForPrecision=void 0;var Q=D(601);function ee(le){if(le===Q.PRECISION_HIGH_P)return 2;if(le===Q.PRECISION_MEDIUM_P)return 1;if(le===Q.PRECISION_LOW_P)return 0;throw new Error("Unknown shader precision value: ".concat(JSON.stringify(le),"."))}Y.intForPrecision=ee;function q(le,se){switch(le){case Q.HALF_FLOAT:case Q.FLOAT:return Q.FLOAT;case Q.UNSIGNED_BYTE:case Q.UNSIGNED_SHORT:case Q.UNSIGNED_INT:return se===Q.GLSL1?Q.INT:Q.UINT;case Q.BYTE:case Q.SHORT:case Q.INT:return Q.INT;default:throw new Error("Invalid type: ".concat(le," passed to glslKeyForType."))}}Y.uniformTypeForType=q;function te(le,se){switch(se===void 0&&(se=!1),le){case Q.HALF_FLOAT:return se?Float32Array:Uint16Array;case Q.FLOAT:return Float32Array;case Q.UNSIGNED_BYTE:return Uint8Array;case Q.BYTE:return Int8Array;case Q.UNSIGNED_SHORT:return Uint16Array;case Q.SHORT:return Int16Array;case Q.UNSIGNED_INT:return Uint32Array;case Q.INT:return Int32Array;default:throw new Error('Unsupported type: "'.concat(le,'".'))}}Y.arrayConstructorForType=te;function ie(le,se){switch(le){case Q.HALF_FLOAT:case Q.FLOAT:return se===1?"float":"vec".concat(se);case Q.UNSIGNED_BYTE:case Q.UNSIGNED_SHORT:case Q.UNSIGNED_INT:return se===1?"uint":"uvec".concat(se);case Q.BYTE:case Q.SHORT:case Q.INT:return se===1?"int":"ivec".concat(se)}throw new Error("Invalid type: ".concat(le," passed to glslTypeForType."))}Y.glslTypeForType=ie;function ne(le){switch(le){case Q.HALF_FLOAT:case Q.FLOAT:return"";case Q.UNSIGNED_BYTE:case Q.UNSIGNED_SHORT:case Q.UNSIGNED_INT:return"u";case Q.BYTE:case Q.SHORT:case Q.INT:return"i"}throw new Error("Invalid type: ".concat(le," passed to glslPrefixForType."))}Y.glslPrefixForType=ne;function ce(le){switch(le){case 1:return".x";case 2:return".xy";case 3:return".xyz";case 4:return""}throw new Error("Invalid numComponents: ".concat(le," passed to glslComponentSelectionForNumComponents."))}Y.glslComponentSelectionForNumComponents=ce},581:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getExtension=Y.OES_STANDARD_DERIVATIVES=Y.OES_ELEMENT_INDEX_UINT=Y.OES_VERTEX_ARRAY_OBJECT=Y.EXT_COLOR_BUFFER_HALF_FLOAT=Y.EXT_COLOR_BUFFER_FLOAT=Y.WEBGL_DEPTH_TEXTURE=Y.OES_TEXTURE_HAlF_FLOAT_LINEAR=Y.OES_TEXTURE_FLOAT_LINEAR=Y.OES_TEXTURE_HALF_FLOAT=Y.OES_TEXTURE_FLOAT=void 0,Y.OES_TEXTURE_FLOAT="OES_texture_float",Y.OES_TEXTURE_HALF_FLOAT="OES_texture_half_float",Y.OES_TEXTURE_FLOAT_LINEAR="OES_texture_float_linear",Y.OES_TEXTURE_HAlF_FLOAT_LINEAR="OES_texture_half_float_linear",Y.WEBGL_DEPTH_TEXTURE="WEBGL_depth_texture",Y.EXT_COLOR_BUFFER_FLOAT="EXT_color_buffer_float",Y.EXT_COLOR_BUFFER_HALF_FLOAT="EXT_color_buffer_half_float",Y.OES_VERTEX_ARRAY_OBJECT="OES_vertex_array_object",Y.OES_ELEMENT_INDEX_UINT="OES_element_index_uint",Y.OES_STANDARD_DERIVATIVES="OES_standard_derivatives";function D(Q,ee,q){if(q===void 0&&(q=!1),Q._extensions[ee]!==void 0)return Q._extensions[ee];var te=Q.gl,ie=Q._errorCallback,ne=Q._extensions;Q.verboseLogging;var ce;try{ce=te.getExtension(ee)}catch{}return ce?(ne[ee]=ce,Q.verboseLogging&&console.log("Loaded extension: ".concat(ee,"."))):(ne[ee]=!1,Q.verboseLogging&&console.log("Unsupported ".concat(q?"optional ":"","extension: ").concat(ee,"."))),!ce&&!q&&ie("Required extension unsupported by this device / browser: ".concat(ee,".")),ce}Y.getExtension=D},798:function(J,Y){var D=this&&this.__spreadArray||function(ne,ce,le){if(le||arguments.length===2)for(var se=0,pe=ce.length,ue;se<pe;se++)(ue||!(se in ce))&&(ue||(ue=Array.prototype.slice.call(ce,0,se)),ue[se]=ce[se]);return ne.concat(ue||Array.prototype.slice.call(ce))};Object.defineProperty(Y,"__esModule",{value:!0}),Y.disposeFramebuffers=Y.bindFrameBuffer=void 0;var Q=new WeakMap,ee=new WeakMap;function q(ne,ce,le,se){var pe=ne.gl,ue=ne._errorCallback,ae=ne.isWebGL2,de=pe.createFramebuffer();if(!de){ue('Could not init framebuffer for GPULayer "'.concat(ce.name,'": ').concat(pe.getError(),"."));return}if(pe.bindFramebuffer(pe.FRAMEBUFFER,de),pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0,pe.TEXTURE_2D,le,0),se){if(!ae)throw new Error("WebGL1 does not support drawing to multiple outputs.");if(se.length>15)throw new Error("Can't draw to more than 16 outputs.");for(var be=0,he=se.length;be<he;be++)pe.framebufferTexture2D(pe.FRAMEBUFFER,pe.COLOR_ATTACHMENT0+be+1,pe.TEXTURE_2D,se[be],0)}var Le=pe.checkFramebufferStatus(pe.FRAMEBUFFER);return Le!==pe.FRAMEBUFFER_COMPLETE&&ue('Invalid status for framebuffer for GPULayer "'.concat(ce.name,'": ').concat(Le,".")),de}function te(ne,ce,le,se){var pe=ne.gl,ue=se?D([le],se,!0):le,ae=Q.get(ue);if(!ae){if(ae=q(ne,ce,le,se),!ae)return;Q.set(ue,ae);var de=ee.get(le)||[];if(de.push(ae),ee.set(le,de),se)for(var be=0,he=se.length;be<he;be++){var Le=se[be],Xe=ee.get(Le)||[];Xe.push(ae),ee.set(Le,Xe)}}pe.bindFramebuffer(pe.FRAMEBUFFER,ae)}Y.bindFrameBuffer=te;function ie(ne,ce){ne.bindFramebuffer(ne.FRAMEBUFFER,null);var le=ee.get(ce);if(le)for(var se=0,pe=le.length;se<pe;se++)ne.deleteFramebuffer(le[se]);ee.delete(ce)}Y.disposeFramebuffers=ie},724:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.PRECISION_SOURCE=void 0;var Q=D(601),ee=D(690);Y.PRECISION_SOURCE=`
#if (`.concat(Q.GPUIO_INT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_LOW_P),`)
	precision lowp int;
	#if (__VERSION__ == 300)
		precision lowp isampler2D;
		precision lowp usampler2D;
	#endif
#elif (`).concat(Q.GPUIO_INT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_MEDIUM_P),`)
	precision mediump int;
	#if (__VERSION__ == 300)
		precision mediump isampler2D;
		precision mediump usampler2D;
	#endif
#else 
	#ifdef GL_FRAGMENT_PRECISION_HIGH
		precision highp int;
		#if (__VERSION__ == 300)
			precision highp isampler2D;
			precision highp usampler2D;
		#endif
	#else
		precision mediump int;
		#if (__VERSION__ == 300)
			precision mediump isampler2D;
			precision mediump usampler2D;
		#endif
	#endif
#endif
#if (`).concat(Q.GPUIO_FLOAT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_LOW_P),`)
	precision lowp float;
	precision lowp sampler2D;
#elif (`).concat(Q.GPUIO_FLOAT_PRECISION," == ").concat((0,ee.intForPrecision)(Q.PRECISION_MEDIUM_P),`)
	precision mediump float;
	precision mediump sampler2D;
#else
	#ifdef GL_FRAGMENT_PRECISION_HIGH
		precision highp float;
		precision highp sampler2D;
	#else
		precision mediump float;
		precision mediump sampler2D;
	#endif
#endif
`)},651:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.DEFAULT_VERT_SHADER_SOURCE=void 0;var Q=D(601);Y.DEFAULT_VERT_SHADER_SOURCE=`
in vec2 a_gpuio_position;
#ifdef `.concat(Q.GPUIO_VS_UV_ATTRIBUTE,`
	in vec2 a_gpuio_uv;
#endif
#ifdef `).concat(Q.GPUIO_VS_NORMAL_ATTRIBUTE,`
	in vec2 a_gpuio_normal;
#endif

uniform vec2 u_gpuio_scale;
uniform vec2 u_gpuio_translation;

out vec2 v_uv;
out vec2 v_uv_local;
#ifdef `).concat(Q.GPUIO_VS_NORMAL_ATTRIBUTE,`
	out vec2 v_normal;
#endif

void main() {
	// Optional varyings.
	#ifdef `).concat(Q.GPUIO_VS_UV_ATTRIBUTE,`
		v_uv_local = a_gpuio_uv;
	#else
		v_uv_local = 0.5 * (a_gpuio_position + 1.0);
	#endif
	#ifdef `).concat(Q.GPUIO_VS_NORMAL_ATTRIBUTE,`
		v_normal = a_gpuio_normal;
	#endif

	// Apply transformations.
	vec2 position = u_gpuio_scale * a_gpuio_position + u_gpuio_translation;

	// Calculate a global uv for the viewport.
	v_uv = 0.5 * (position + 1.0);

	// Calculate vertex position.
	gl_Position = vec4(position, 0, 1);
}`)},567:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_LINES_VERTEX_SHADER_SOURCE=void 0;var Q=D(601),ee=D(324);Y.LAYER_LINES_VERTEX_SHADER_SOURCE=`
`.concat(ee.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300 || `).concat(Q.GPUIO_VS_INDEXED_POSITIONS,` == 1)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_positions; // Texture lookup with position data.
uniform vec2 u_gpuio_positionsDimensions;
uniform vec2 u_gpuio_scale;

out vec2 v_uv;
out vec2 v_lineWrapping; // Use this to test if line is only half wrapped and should not be rendered.
flat out int v_index;

void main() {
	// Calculate a uv based on the point's index attribute.
	#if (__VERSION__ != 300 || `).concat(Q.GPUIO_VS_INDEXED_POSITIONS,` == 1)
		vec2 positionUV = uvFromIndex(a_gpuio_index, u_gpuio_positionsDimensions);
		v_index = int(a_gpuio_index);
	#else
		vec2 positionUV = uvFromIndex(gl_VertexID, u_gpuio_positionsDimensions);
		v_index = gl_VertexID;
	#endif

	// Calculate a global uv for the viewport.
	// Lookup vertex position and scale to [0, 1] range.
	#ifdef `).concat(Q.GPUIO_VS_POSITION_W_ACCUM,`
		// We have packed a 2D displacement with the position.
		vec4 positionData = texture(u_gpuio_positions, positionUV);
		// position = first two components plus last two components (optional accumulation buffer).
		v_uv = (positionData.rg + positionData.ba) * u_gpuio_scale;
	#else
		v_uv = texture(u_gpuio_positions, positionUV).rg  * u_gpuio_scale;
	#endif

	// Wrap if needed.
	v_lineWrapping = vec2(0.0);
	#ifdef `).concat(Q.GPUIO_VS_WRAP_X,`
		v_lineWrapping.x = max(step(1.0, v_uv.x), step(v_uv.x, 0.0));
		v_ux.x = fract(v_uv.x + 1.0);
	#endif
	#ifdef `).concat(Q.GPUIO_VS_WRAP_Y,`
		v_lineWrapping.y = max(step(1.0, v_uv.y), step(v_uv.y, 0.0));
		v_ux.y = fract(v_uv.y + 1.0);
	#endif

	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_Position = vec4(position, 0, 1);
}`)},380:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_MESH_VERTEX_SHADER_SOURCE=void 0;var Q=D(601),ee=D(324);Y.LAYER_MESH_VERTEX_SHADER_SOURCE=`
`.concat(ee.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_positions; // Texture lookup with position data.
uniform vec2 u_gpuio_positionsDimensions;
uniform vec2 u_gpuio_scale;

out vec2 v_uv;
out vec2 v_uv_position;
out vec2 v_position;
flat out int v_index;

void main() {
	// Calculate a uv based on the point's index attribute.
	#if (__VERSION__ == 300)
		v_uv_position = uvFromIndex(gl_VertexID, u_gpuio_positionsDimensions);
		v_index = gl_VertexID;
	#else
		v_uv_position = uvFromIndex(a_gpuio_index, u_gpuio_positionsDimensions);
		v_index = int(a_gpuio_index);
	#endif

	// Calculate a global uv for the viewport.
	// Lookup vertex position and scale to [0, 1] range.
	#ifdef `).concat(Q.GPUIO_VS_POSITION_W_ACCUM,`
		// We have packed a 2D displacement with the position.
		vec4 positionData = texture(u_gpuio_positions, v_uv_position);
		// position = first two components plus last two components (optional accumulation buffer).
		v_position = positionData.rg + positionData.ba;
		v_uv = v_position * u_gpuio_scale;
	#else
		v_position = texture(u_gpuio_positions, v_uv_position).rg;
		v_uv = v_position * u_gpuio_scale;
	#endif

	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_Position = vec4(position, 0, 1);
}`)},929:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_POINTS_VERTEX_SHADER_SOURCE=void 0;var Q=D(601),ee=D(324);Y.LAYER_POINTS_VERTEX_SHADER_SOURCE=`
`.concat(ee.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_positions; // Texture lookup with position data.
uniform vec2 u_gpuio_positionsDimensions;
uniform vec2 u_gpuio_scale;
uniform float u_gpuio_pointSize;

out vec2 v_uv;
out vec2 v_uv_position;
out vec2 v_position;
flat out int v_index;

void main() {
	// Calculate a uv based on the point's index attribute.
	#if (__VERSION__ == 300)
		v_uv_position = uvFromIndex(gl_VertexID, u_gpuio_positionsDimensions);
		v_index = gl_VertexID;
	#else
		v_uv_position = uvFromIndex(a_gpuio_index, u_gpuio_positionsDimensions);
		v_index = int(a_gpuio_index);
	#endif

	// Calculate a global uv for the viewport.
	// Lookup vertex position and scale to [0, 1] range.
	#ifdef `).concat(Q.GPUIO_VS_POSITION_W_ACCUM,`
		// We have packed a 2D displacement with the position.
		vec4 positionData = texture(u_gpuio_positions, v_uv_position);
		// position = first two components plus last two components (optional accumulation buffer).
		v_position = positionData.rg + positionData.ba;
		v_uv = v_position * u_gpuio_scale;
	#else
		v_position = texture(u_gpuio_positions, v_uv_position).rg;
		v_uv = v_position * u_gpuio_scale;
	#endif

	// Wrap if needed.
	#ifdef `).concat(Q.GPUIO_VS_WRAP_X,`
		v_uv.x = fract(v_uv.x + ceil(abs(v_uv.x)));
	#endif
	#ifdef `).concat(Q.GPUIO_VS_WRAP_Y,`
		v_uv.y = fract(v_uv.y + ceil(abs(v_uv.y)));
	#endif

	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_PointSize = u_gpuio_pointSize;
	gl_Position = vec4(position, 0, 1);
}`)},634:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.LAYER_VECTOR_FIELD_VERTEX_SHADER_SOURCE=void 0;var Q=D(324);Y.LAYER_VECTOR_FIELD_VERTEX_SHADER_SOURCE=`
`.concat(Q.VERTEX_SHADER_HELPERS_SOURCE,`

#if (__VERSION__ != 300)
	// Cannot use int vertex attributes.
	// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer
	in float a_gpuio_index;
#endif

uniform sampler2D u_gpuio_vectors; // Texture lookup with vector data.
uniform vec2 u_gpuio_dimensions;
uniform vec2 u_gpuio_scale;

out vec2 v_uv;
flat out int v_index;

void main() {
	#if (__VERSION__ == 300)
		// Divide index by 2.
		int index = gl_VertexID / 2;
		v_index = index;
	#else
		// Divide index by 2.
		float index = floor((a_gpuio_index + 0.5) / 2.0);
		v_index = int(index);
	#endif

	// Calculate a uv based on the vertex index attribute.
	v_uv = uvFromIndex(index, u_gpuio_dimensions);
	#if (__VERSION__ == 300)
		// Add vector displacement if needed.
		v_uv += float(gl_VertexID - 2 * index) * texture(u_gpuio_vectors, v_uv).xy * u_gpuio_scale;
	#else
		// Add vector displacement if needed.
		v_uv += (a_gpuio_index - 2.0 * index) * texture(u_gpuio_vectors, v_uv).xy * u_gpuio_scale;
	#endif


	// Calculate position in [-1, 1] range.
	vec2 position = v_uv * 2.0 - 1.0;

	gl_Position = vec4(position, 0, 1);
}`)},946:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.SEGMENT_VERTEX_SHADER_SOURCE=void 0,Y.SEGMENT_VERTEX_SHADER_SOURCE=`
in vec2 a_gpuio_position;

uniform float u_gpuio_halfThickness;
uniform vec2 u_gpuio_scale;
uniform float u_gpuio_length;
uniform float u_gpuio_rotation;
uniform vec2 u_gpuio_translation;

out vec2 v_uv_local;
out vec2 v_uv;

mat2 rotate2d(float _angle){
	return mat2(cos(_angle), -sin(_angle), sin(_angle), cos(_angle));
}

void main() {
	// Calculate UV coordinates of current rendered object.
	v_uv_local = 0.5 * (a_gpuio_position + 1.0);

	vec2 position = a_gpuio_position;
	// Apply thickness / radius.
	position *= u_gpuio_halfThickness;
	// Stretch center of shape to form a round-capped line segment.
	float signX = sign(position.x);
	position.x += signX * u_gpuio_length / 2.0;
	v_uv_local.x = (signX + 1.0) / 2.0;// Set entire cap uv.x to 1 or 0.
	// Apply transformations.
	position = u_gpuio_scale * (rotate2d(-u_gpuio_rotation) * position) + u_gpuio_translation;

	// Calculate a global uv for the viewport.
	v_uv = 0.5 * (position + 1.0);

	// Calculate vertex position.
	gl_Position = vec4(position, 0, 1);
}`},324:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.VERTEX_SHADER_HELPERS_SOURCE=void 0,Y.VERTEX_SHADER_HELPERS_SOURCE=`
/**
 * Create UV coordinates from a 1D index for data stored in a texture of size "dimensions".
 */
vec2 uvFromIndex(const float index, const vec2 dimensions) {
	float y = floor((index + 0.5) / dimensions.x);
	float x = floor(index - y * dimensions.x + 0.5);
	return vec2(x + 0.5, y + 0.5) / dimensions;
}
vec2 uvFromIndex(const int index, const vec2 dimensions) {
	int width = int(dimensions.x);
	int y = index / width;
	int x = index - y * width;
	return vec2(float(x) + 0.5, float(y) + 0.5) / dimensions;
}
vec2 uvFromIndex(const float index, const ivec2 dimensions) {
	float width = float(dimensions.x);
	float y = floor((index + 0.5) / width);
	float x = floor(index - y * width + 0.5);
	return vec2(x + 0.5, y + 0.5) / vec2(dimensions);
}
vec2 uvFromIndex(const int index, const ivec2 dimensions) {
	int y = index / dimensions.x;
	int x = index - y * dimensions.x;
	return vec2(float(x) + 0.5, float(y) + 0.5) / vec2(dimensions);
}`},607:function(J,Y,D){var Q=this&&this.__assign||function(){return Q=Object.assign||function(it){for(var st,qe=1,ot=arguments.length;qe<ot;qe++){st=arguments[qe];for(var ut in st)Object.prototype.hasOwnProperty.call(st,ut)&&(it[ut]=st[ut])}return it},Q.apply(this,arguments)},ee=this&&this.__createBinding||(Object.create?function(it,st,qe,ot){ot===void 0&&(ot=qe);var ut=Object.getOwnPropertyDescriptor(st,qe);(!ut||("get"in ut?!st.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return st[qe]}}),Object.defineProperty(it,ot,ut)}:function(it,st,qe,ot){ot===void 0&&(ot=qe),it[ot]=st[qe]}),q=this&&this.__exportStar||function(it,st){for(var qe in it)qe!=="default"&&!Object.prototype.hasOwnProperty.call(st,qe)&&ee(st,it,qe)};Object.defineProperty(Y,"__esModule",{value:!0}),Y._testing=Y.renderRGBProgram=Y.zeroProgram=Y.setColorProgram=Y.setValueProgram=Y.renderSignedAmplitudeProgram=Y.renderAmplitudeProgram=Y.multiplyValueProgram=Y.addValueProgram=Y.addLayersProgram=Y.copyProgram=Y.getFragmentShaderMediumpPrecision=Y.getVertexShaderMediumpPrecision=Y.isHighpSupportedInFragmentShader=Y.isHighpSupportedInVertexShader=Y.isWebGL2Supported=Y.isWebGL2=Y.GPUIndexBuffer=Y.GPUProgram=Y.GPULayer=Y.GPUComposer=void 0;var te=D(593),ie=D(484);Object.defineProperty(Y,"GPUComposer",{enumerable:!0,get:function(){return ie.GPUComposer}});var ne=D(355);Object.defineProperty(Y,"GPULayer",{enumerable:!0,get:function(){return ne.GPULayer}});var ce=D(191),le=D(664);Object.defineProperty(Y,"GPUProgram",{enumerable:!0,get:function(){return le.GPUProgram}});var se=D(981);Object.defineProperty(Y,"GPUIndexBuffer",{enumerable:!0,get:function(){return se.GPUIndexBuffer}});var pe=D(707),ue=D(126),ae=D(581),de=D(360),be=D(690),he=D(579),Le=Q(Q(Q(Q(Q(Q({isFloatType:te.isFloatType,isUnsignedIntType:te.isUnsignedIntType,isSignedIntType:te.isSignedIntType,isIntType:te.isIntType,makeShaderHeader:te.makeShaderHeader,compileShader:te.compileShader,initGLProgram:te.initGLProgram,readyToRead:te.readyToRead,preprocessVertexShader:te.preprocessVertexShader,preprocessFragmentShader:te.preprocessFragmentShader,isPowerOf2:te.isPowerOf2,initSequentialFloatArray:te.initSequentialFloatArray,uniformInternalTypeForValue:te.uniformInternalTypeForValue,indexOfLayerInArray:te.indexOfLayerInArray,readPixelsAsync:te.readPixelsAsync},ae),ue),pe),ce),de),be);Y._testing=Le;var Xe=te.isWebGL2,We=te.isWebGL2Supported,fe=te.isHighpSupportedInVertexShader,Re=te.isHighpSupportedInFragmentShader,ye=te.getVertexShaderMediumpPrecision,re=te.getFragmentShaderMediumpPrecision;Y.isWebGL2=Xe,Y.isWebGL2Supported=We,Y.isHighpSupportedInVertexShader=fe,Y.isHighpSupportedInFragmentShader=Re,Y.getVertexShaderMediumpPrecision=ye,Y.getFragmentShaderMediumpPrecision=re;var Ze=he.copyProgram,Ge=he.addLayersProgram,ve=he.addValueProgram,Te=he.multiplyValueProgram,xe=he.setValueProgram,Ie=he.setColorProgram,Se=he.zeroProgram,Ne=he.renderRGBProgram,je=he.renderAmplitudeProgram,tt=he.renderSignedAmplitudeProgram;Y.copyProgram=Ze,Y.addLayersProgram=Ge,Y.addValueProgram=ve,Y.multiplyValueProgram=Te,Y.setValueProgram=xe,Y.setColorProgram=Ie,Y.zeroProgram=Se,Y.renderRGBProgram=Ne,Y.renderAmplitudeProgram=je,Y.renderSignedAmplitudeProgram=tt,q(D(601),Y)},360:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.fragmentShaderPolyfills=Y.GLSL1Polyfills=Y.texturePolyfill=Y.SAMPLER2D_DIMENSIONS_UNIFORM=Y.SAMPLER2D_HALF_PX_UNIFORM=Y.SAMPLER2D_FILTER=Y.SAMPLER2D_CAST_INT=Y.SAMPLER2D_WRAP_Y=Y.SAMPLER2D_WRAP_X=void 0;var Q=D(601),ee=D(126);Y.SAMPLER2D_WRAP_X="GPUIO_WRAP_X",Y.SAMPLER2D_WRAP_Y="GPUIO_WRAP_Y",Y.SAMPLER2D_CAST_INT="GPUIO_CAST_INT",Y.SAMPLER2D_FILTER="GPUIO_FILTER",Y.SAMPLER2D_HALF_PX_UNIFORM="u_gpuio_half_px",Y.SAMPLER2D_DIMENSIONS_UNIFORM="u_gpuio_dimensions";function q(Se){var Ne=Se.match(/\btexture\(/g);if(!Ne||Ne.length===0)return{shaderSource:Se,samplerUniforms:[]};var je=(0,ee.getSampler2DsInProgram)(Se);if(je.length===0)return{shaderSource:Se,samplerUniforms:je};je.forEach(function(dt,mt){var Je=new RegExp("\\btexture(2D)?\\(\\s?".concat(dt,"\\b"),"gs");Se=Se.replace(Je,"GPUIO_TEXTURE_POLYFILL".concat(mt,"(").concat(dt))});var tt=Se.match(/\btexture(2D)?\(/g);tt?.length&&console.warn("Fragment shader polyfill has missed some calls to texture().",Se);for(var it={},st=0;st<je.length;st++)it["".concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(st)]="vec2",it["".concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(st)]="vec2";function qe(dt,mt,Je){Je===void 0&&(Je="");var Me=Je===""?"":")",ke=Je===""?mt:"i";return`
`.concat(ke,"vec4 GPUIO_TEXTURE_POLYFILL").concat(dt,"(const ").concat(mt,`sampler2D sampler, const vec2 uv) {
	`).concat(mt===""?"#if (".concat(Y.SAMPLER2D_FILTER).concat(dt," == 0)"):"",`
		#if (`).concat(Y.SAMPLER2D_WRAP_X).concat(dt,` == 0)
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"texture(sampler, uv)").concat(Me,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_WRAP_CLAMP_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,")").concat(Me,`;
			#endif
		#else
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"GPUIO_TEXTURE_WRAP_REPEAT_CLAMP(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,")").concat(Me,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_WRAP_REPEAT_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,")").concat(Me,`;
			#endif
		#endif
	`).concat(mt===""?`#else
		#if (`.concat(Y.SAMPLER2D_WRAP_X).concat(dt,` == 0)
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Me,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP_WRAP_CLAMP_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Me,`;
			#endif
		#else
			#if (`).concat(Y.SAMPLER2D_WRAP_Y).concat(dt,` == 0)
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP_WRAP_REPEAT_CLAMP(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Me,`;
			#else
				return `).concat(Je,"GPUIO_TEXTURE_BILINEAR_INTERP_WRAP_REPEAT_REPEAT(sampler, uv, ").concat(Y.SAMPLER2D_HALF_PX_UNIFORM).concat(dt,", ").concat(Y.SAMPLER2D_DIMENSIONS_UNIFORM).concat(dt,")").concat(Me,`;
			#endif
		#endif
	#endif`):"",`
}
`)}function ot(dt){return`
`.concat(dt,"vec4 GPUIO_TEXTURE_WRAP_REPEAT_REPEAT(const ").concat(dt,`sampler2D sampler, const vec2 uv, const vec2 halfPx) {
	return texture(sampler, GPUIO_WRAP_REPEAT_UV(uv));
}
`).concat(dt,"vec4 GPUIO_TEXTURE_WRAP_REPEAT_CLAMP(const ").concat(dt,`sampler2D sampler, vec2 uv, const vec2 halfPx) {
	uv.x = GPUIO_WRAP_REPEAT_UV_COORD(uv.x);
	// uv.y = GPUIO_WRAP_CLAMP_UV_COORD(uv.y, halfPx.y);
	return texture(sampler, uv);
}
`).concat(dt,"vec4 GPUIO_TEXTURE_WRAP_CLAMP_REPEAT(const ").concat(dt,`sampler2D sampler, vec2 uv, const vec2 halfPx) {
	// uv.x = GPUIO_WRAP_CLAMP_UV_COORD(uv.x, halfPx.x);
	uv.y = GPUIO_WRAP_REPEAT_UV_COORD(uv.y);
	return texture(sampler, uv);
}
`)}function ut(dt){var mt=dt?"GPUIO_TEXTURE_WRAP_".concat(dt):"texture",Je=dt?", halfPx":"";return`
vec4 GPUIO_TEXTURE_BILINEAR_INTERP`.concat(dt?"_WRAP_".concat(dt):"",`(const sampler2D sampler, const vec2 uv, const vec2 halfPx, const vec2 dimensions) {
	vec2 pxFraction = fract(uv * dimensions);
	vec2 offset = halfPx - vec2(0.00001, 0.00001) * max(
			step(abs(pxFraction.x - 0.5), 0.001),
			step(abs(pxFraction.y - 0.5), 0.001)
		);
	vec2 baseUV = uv - offset;
	vec2 diagOffset = vec2(offset.x, -offset.y);
	vec4 minmin = `).concat(mt,"(sampler, baseUV").concat(Je,`);
	vec4 maxmin = `).concat(mt,"(sampler, uv + diagOffset").concat(Je,`);
	vec4 minmax = `).concat(mt,"(sampler, uv - diagOffset").concat(Je,`);
	vec4 maxmax = `).concat(mt,"(sampler, uv + offset").concat(Je,`);
	vec2 t = fract(baseUV * dimensions);
	vec4 yMin = mix(minmin, maxmin, t.x);
	vec4 yMax = mix(minmax, maxmax, t.x);
	return mix(yMin, yMax, t.y);
}
`)}return Se=`
`.concat(Object.keys(it).map(function(dt){return"uniform ".concat(it[dt]," ").concat(dt,";")}).join(`
`),`

float GPUIO_WRAP_REPEAT_UV_COORD(const float coord) {
	return fract(coord + ceil(abs(coord)));
}
vec2 GPUIO_WRAP_REPEAT_UV(const vec2 uv) {
	return fract(uv + ceil(abs(uv)));
}
// float GPUIO_WRAP_CLAMP_UV_COORD(const float coord, const float halfPx) {
// 	return clamp(coord, halfPx, 1.0 - halfPx);
// }

`).concat(ot(""),`
#if (__VERSION__ == 300)
`).concat(["u","i"].map(function(dt){return ot(dt)}).join(`
`),`
#endif

`).concat([null,"REPEAT_REPEAT","REPEAT_CLAMP","CLAMP_REPEAT"].map(function(dt){return ut(dt)}).join(`
`),`

`).concat(je.map(function(dt,mt){return"#ifndef ".concat(Y.SAMPLER2D_CAST_INT).concat(mt,`
	`).concat(qe(mt,""),`
#endif`)}).join(`
`),`
#if (__VERSION__ == 300)
`).concat(["u","i"].map(function(dt){return je.map(function(mt,Je){return qe(Je,dt)}).join(`
`)}).join(`
`),`
#else
	`).concat(je.map(function(dt,mt){return"#ifdef ".concat(Y.SAMPLER2D_CAST_INT).concat(mt,`
	`).concat(qe(mt,"","ivec4("),`
#endif`)}).join(`
`),`
#endif

`).concat(Se),{shaderSource:Se,samplerUniforms:je}}Y.texturePolyfill=q;function te(Se){switch(Se){case"int":case"uint":return"float";case"ivec2":case"uvec2":return"vec2";case"ivec3":case"uvec3":return"vec3";case"ivec4":case"uvec4":return"vec4"}throw new Error("Unknown type ".concat(Se,"."))}function ie(Se){switch(Se){case"bool":return"float";case"bvec2":return"vec2";case"bvec3":return"vec3";case"bvec4":return"vec4"}throw new Error("Unknown type ".concat(Se,"."))}function ne(Se){return"".concat(Se," abs(const ").concat(Se," a) { return ").concat(Se,"(abs(").concat(te(Se),"(a))); }")}function ce(Se){return"".concat(Se," sign(const ").concat(Se," a) { return ").concat(Se,"(sign(").concat(te(Se),"(a))); }")}function le(Se){return"".concat(Se," trunc(const ").concat(Se," a) { return round(a - fract(a) * sign(a)); }")}function se(Se){return"".concat(Se," round(const ").concat(Se," a) { return floor(a + 0.5); }")}function pe(Se){return"".concat(Se," roundEven(const ").concat(Se," a) { return 2.0 * round(a / 2.0); }")}function ue(Se,Ne){return"".concat(Se," min(const ").concat(Se," a, const ").concat(Ne," b) { return ").concat(Se,"(min(").concat(te(Se),"(a), ").concat(te(Ne),"(b))); }")}function ae(Se,Ne){return"".concat(Se," max(const ").concat(Se," a, const ").concat(Ne," b) { return ").concat(Se,"(max(").concat(te(Se),"(a), ").concat(te(Ne),"(b))); }")}function de(Se,Ne){return"".concat(Se," clamp(const ").concat(Se," a, const ").concat(Ne," min, const ").concat(Ne," max) { return ").concat(Se,"(clamp(").concat(te(Se),"(a), ").concat(te(Ne),"(min), ").concat(te(Ne),"(max))); }")}function be(Se,Ne){return"".concat(Se," mix(const ").concat(Se," a, const ").concat(Se," b, const ").concat(Ne," c) { return mix(a, b, ").concat(ie(Ne),"(c)); }")}function he(Se,Ne,je){return"a[".concat(Se,"][").concat(Ne,"] * a[").concat((Se+1)%je,"][").concat((Ne+1)%je,"] - a[").concat((Se+1)%je,"][").concat(Ne,"] * a[").concat(Se,"][").concat((Ne+1)%je,"]")}function Le(Se,Ne,je){return[0,1,2].map(function(tt){return"a[".concat(Se,"][").concat((Ne+tt)%je,"] * (").concat(he((Se+1)%je,(Ne+1+tt)%je,je),")")}).join(" + ")}function Xe(Se,Ne,je){return[0,1,2,3].map(function(tt){return"a[".concat(Se,"][").concat((Ne+tt)%je,"] * (").concat(Le((Se+1)%je,(Ne+1+tt)%je,je),")")}).join(" + ")}function We(Se){var Ne="";return Se.includes("abs")&&(Ne+=`


`.concat(ne("int"),`
`).concat(ne("ivec2"),`
`).concat(ne("ivec3"),`
`).concat(ne("ivec4"),`
`)),Se.includes("sign")&&(Ne+=`


`.concat(ce("int"),`
`).concat(ce("ivec2"),`
`).concat(ce("ivec3"),`
`).concat(ce("ivec4"),`
`)),Se.includes("round")&&(Ne+=`


`.concat(se("float"),`
`).concat(se("vec2"),`
`).concat(se("vec3"),`
`).concat(se("vec4"),`
`)),Se.includes("trunc")&&(Ne+=`


`.concat(le("float"),`
`).concat(le("vec2"),`
`).concat(le("vec3"),`
`).concat(le("vec4"),`
`)),Se.includes("roundEven")&&(Ne+=`


`.concat(pe("float"),`
`).concat(pe("vec2"),`
`).concat(pe("vec3"),`
`).concat(pe("vec4"),`
`)),Se.includes("min")&&(Ne+=`


`.concat(ue("int","int"),`
`).concat(ue("ivec2","ivec2"),`
`).concat(ue("ivec3","ivec3"),`
`).concat(ue("ivec4","ivec4"),`
`).concat(ue("ivec2","int"),`
`).concat(ue("ivec3","int"),`
`).concat(ue("ivec4","int"),`
`)),Se.includes("max")&&(Ne+=`


`.concat(ae("int","int"),`
`).concat(ae("ivec2","ivec2"),`
`).concat(ae("ivec3","ivec3"),`
`).concat(ae("ivec4","ivec4"),`
`).concat(ae("ivec2","int"),`
`).concat(ae("ivec3","int"),`
`).concat(ae("ivec4","int"),`
`)),Se.includes("clamp")&&(Ne+=`


`.concat(de("int","int"),`
`).concat(de("ivec2","ivec2"),`
`).concat(de("ivec3","ivec3"),`
`).concat(de("ivec4","ivec4"),`
`).concat(de("ivec2","int"),`
`).concat(de("ivec3","int"),`
`).concat(de("ivec4","int"),`
`)),Se.includes("mix")&&(Ne+=`


`.concat(be("float","bool"),`
`).concat(be("vec2","bvec2"),`
`).concat(be("vec3","bvec3"),`
`).concat(be("vec4","bvec4"),`
`)),Se.includes("outerProduct")&&(Ne+=`


mat2 outerProduct(const vec2 a, const vec2 b) {
	return mat2(
		a.x * b.x, a.x * b.y,
		a.y * b.x, a.y * b.y
	);
}
mat3 outerProduct(const vec3 a, const vec3 b) {
	return mat3(
		a.x * b.x, a.x * b.y, a.x * b.z,
		a.y * b.x, a.y * b.y, a.y * b.z,
		a.z * b.x, a.z * b.y, a.z * b.z
	);
}
mat4 outerProduct(const vec4 a, const vec4 b) {
	return mat4(
		a.x * b.x, a.x * b.y, a.x * b.z, a.x * b.w,
		a.y * b.x, a.y * b.y, a.y * b.z, a.y * b.w,
		a.z * b.x, a.z * b.y, a.z * b.z, a.z * b.w,
		a.w * b.x, a.w * b.y, a.w * b.z, a.w * b.w
	);
}
`),Se.includes("transpose")&&(Ne+=`


mat2 transpose(mat2 a) {
	float temp = a[0][1];
	a[0][1] = a[1][0];
	a[1][0] = temp;
	return a;
}
mat3 transpose(mat3 a) {
	float temp = a[0][2];
	a[0][2] = a[2][0];
	a[2][0] = temp;
	temp = a[0][1];
	a[0][1] = a[1][0];
	a[1][0] = temp;
	temp = a[1][2];
	a[1][2] = a[2][1];
	a[2][1] = temp;
	return a;
}
mat4 transpose(mat4 a) {
	float temp = a[0][3];
	a[0][3] = a[3][0];
	a[3][0] = temp;
	temp = a[0][2];
	a[0][2] = a[2][0];
	a[2][0] = temp;
	temp = a[2][3];
	a[2][3] = a[3][2];
	a[3][2] = temp;
	temp = a[0][1];
	a[0][1] = a[1][0];
	a[1][0] = temp;
	temp = a[1][2];
	a[1][2] = a[2][1];
	a[2][1] = temp;
	temp = a[2][3];
	a[2][3] = a[3][2];
	a[3][2] = temp;
	return a;
}
`),Se.includes("determinant")&&(Ne+=`


float determinant(const mat2 a) {
	return `.concat(he(0,0,2),`;
}
float determinant(const mat3 a) {
	return `).concat(Le(0,0,3),`;
}
float determinant(const mat4 a) {
	return `).concat(Xe(0,0,4),`;
}
`)),Se.includes("sinh")&&(Ne+=`


float sinh(const float x) {
	return (pow(`.concat(Math.E,", x) - pow(").concat(Math.E,`, -x)) / 2.0;
}
`)),Se.includes("cosh")&&(Ne+=`


float cosh(const float x) {
	return (pow(`.concat(Math.E,", x) + pow(").concat(Math.E,`, -x)) / 2.0; 
}
`)),Se.includes("tanh")&&(Ne+=`


float tanh(const float x) {
	float e = exp(2.0 * x);
	return (e - 1.0) / (e + 1.0);
}
`),Se.includes("asinh")&&(Ne+=`


float asinh(const float x) {
	return log(x + sqrt(x * x + 1.0));
}
`),Se.includes("asinh")&&(Ne+=`


float acosh(const float x) {
	return log(x + sqrt(x * x - 1.0));
}
`),Se.includes("asinh")&&(Ne+=`


float atanh(float x) {
	x = (x + 1.0) / (x - 1.0);
	return 0.5 * log(x * sign(x));
}
`),Ne}Y.GLSL1Polyfills=We;function fe(Se,Ne){return"vec2 index1DToUV(const ".concat(Se," index1D, const ").concat(Ne,` dimensions) {
	`).concat(Se," width = ").concat(Se,`(dimensions.x);
	`).concat(Se,` y = index1D / width;
	`).concat(Se,` x = index1D - width * y;
	float u = (float(x) + 0.5) / float(dimensions.x);
	float v = (float(y) + 0.5) / float(dimensions.y);
	return vec2(u, v);
}`)}function Re(Se,Ne){return"".concat(Se," modi(const ").concat(Se," x, const ").concat(Ne," y) { return x - y * (x / y); }")}function ye(Se,Ne){return"".concat(Ne," stepi(const ").concat(Se," x, const ").concat(Ne," y) { return ").concat(Ne,"(step(").concat(te(Se),"(x), ").concat(te(Ne),"(y))); }")}function re(Se,Ne){return"".concat(Se," bitshiftLeft(const ").concat(Se," a, const ").concat(Ne,` b) {
	#if (__VERSION__ == 300)
		return a << b;
	#else
		return a * `).concat(Se,"(pow(").concat(te(Ne),"(2.0), ").concat(te(Ne),`(b)));
	#endif
}`)}function Ze(Se,Ne){return"".concat(Se," bitshiftRight(const ").concat(Se," a, const ").concat(Ne,` b) {
	#if (__VERSION__ == 300)
		return a >> b;
	#else
		return `).concat(Se,"(round(").concat(te(Se),"(a) / pow(").concat(te(Ne),"(2.0), ").concat(te(Ne),`(b))));
	#endif
}`)}function Ge(Se){return"int bitwiseOr".concat(Se===32?"":Se,`(int a, int b) {
	#if (__VERSION__ == 300)
		return a | b;
	#else
		int result = 0;
		int n = 1;
		
		for (int i = 0; i < `).concat(Se,`; i++) {
			if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) {
				result += n;
			}
			a = a / 2;
			b = b / 2;
			n = n * 2;
			if(!(a > 0 || b > 0)) {
				break;
			}
		}
		return result;
	#endif
}`)}function ve(Se){return"int bitwiseXOR".concat(Se===32?"":Se,`(int a, int b) {
	#if (__VERSION__ == 300)
		return a ^ b;
	#else
		int result = 0;
		int n = 1;
		
		for (int i = 0; i < `).concat(Se,`; i++) {
			if ((modi(a, 2) == 1) != (modi(b, 2) == 1)) {
				result += n;
			}
			a = a / 2;
			b = b / 2;
			n = n * 2;
			if(!(a > 0 || b > 0)) {
				break;
			}
		}
		return result;
	#endif
}`)}function Te(Se){return"int bitwiseAnd".concat(Se===32?"":Se,`(int a, int b) {
	#if (__VERSION__ == 300)
		return a & b;
	#else
		int result = 0;
		int n = 1;
		for (int i = 0; i < `).concat(Se,`; i++) {
			if ((modi(a, 2) == 1) && (modi(b, 2) == 1)) {
				result += n;
			}
			a = a / 2;
			b = b / 2;
			n = n * 2;
			if(!(a > 0 && b > 0)) {
				break;
			}
		}
		return result;
	#endif
}`)}function xe(Se){return"int bitwiseNot".concat(Se===32?"":Se,`(int a) {
	#if (__VERSION__ == 300)
		return ~a;
	#else
		int result = 0;
		int n = 1;

		for (int i = 0; i < `).concat(Se,`; i++) {
			if (modi(a, 2) == 0) {
				result += n;
			}
			a = a / 2;
			n = n * 2;
		}
		return result;
	#endif
}`)}function Ie(Se,Ne){var je="";return Se.includes("index1DToUV")&&(je+=`

`.concat(fe("int","ivec2"),`
`).concat(fe("int","vec2"),`
#if (__VERSION__ == 300)
`).concat(fe("int","uvec2"),`
`).concat(fe("uint","uvec2"),`
`).concat(fe("uint","ivec2"),`
`).concat(fe("uint","vec2"),`
#endif
`)),(Se.includes("modi")||Ne===Q.GLSL1&&Se.includes("bitwise"))&&(je+=`

`.concat(Re("int","int"),`
`).concat(Re("ivec2","ivec2"),`
`).concat(Re("ivec3","ivec3"),`
`).concat(Re("ivec4","ivec4"),`
`).concat(Re("ivec2","int"),`
`).concat(Re("ivec3","int"),`
`).concat(Re("ivec4","int"),`
#if (__VERSION__ == 300)
`).concat(Re("uint","uint"),`
`).concat(Re("uvec2","uvec2"),`
`).concat(Re("uvec3","uvec3"),`
`).concat(Re("uvec4","uvec4"),`
`).concat(Re("uvec2","uint"),`
`).concat(Re("uvec3","uint"),`
`).concat(Re("uvec4","uint"),`
#endif
`)),Se.includes("stepi")&&(je+=`

`.concat(ye("int","int"),`
`).concat(ye("ivec2","ivec2"),`
`).concat(ye("ivec3","ivec3"),`
`).concat(ye("ivec4","ivec4"),`
`).concat(ye("int","ivec2"),`
`).concat(ye("int","ivec3"),`
`).concat(ye("int","ivec4"),`
#if (__VERSION__ == 300)
`).concat(ye("uint","uint"),`
`).concat(ye("uvec2","uvec2"),`
`).concat(ye("uvec3","uvec3"),`
`).concat(ye("uvec4","uvec4"),`
`).concat(ye("uint","uvec2"),`
`).concat(ye("uint","uvec3"),`
`).concat(ye("uint","uvec4"),`
#endif
`)),Se.includes("bitshiftLeft")&&(je+=`

`.concat(re("int","int"),`
`).concat(re("ivec2","ivec2"),`
`).concat(re("ivec3","ivec3"),`
`).concat(re("ivec4","ivec4"),`
`).concat(re("ivec2","int"),`
`).concat(re("ivec3","int"),`
`).concat(re("ivec4","int"),`
#if (__VERSION__ == 300)
`).concat(re("uint","uint"),`
`).concat(re("uvec2","uvec2"),`
`).concat(re("uvec3","uvec3"),`
`).concat(re("uvec4","uvec4"),`
`).concat(re("uvec2","uint"),`
`).concat(re("uvec3","uint"),`
`).concat(re("uvec4","uint"),`
#endif
`)),Se.includes("bitshiftRight")&&(je+=`

`.concat(Ze("int","int"),`
`).concat(Ze("ivec2","ivec2"),`
`).concat(Ze("ivec3","ivec3"),`
`).concat(Ze("ivec4","ivec4"),`
`).concat(Ze("ivec2","int"),`
`).concat(Ze("ivec3","int"),`
`).concat(Ze("ivec4","int"),`
#if (__VERSION__ == 300)
`).concat(Ze("uint","uint"),`
`).concat(Ze("uvec2","uvec2"),`
`).concat(Ze("uvec3","uvec3"),`
`).concat(Ze("uvec4","uvec4"),`
`).concat(Ze("uvec2","uint"),`
`).concat(Ze("uvec3","uint"),`
`).concat(Ze("uvec4","uint"),`
#endif
`)),Se.includes("bitwiseOr")&&(je+=`

`.concat(Ge(8),`
`).concat(Ge(16),`
`).concat(Ge(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseOr`.concat(tt,`(uint a, uint b) {
	return uint(bitwiseOr`).concat(tt,`(int(a), int(b)));
}`)}).join(`
`),`
#endif
`)),Se.includes("bitwiseXOR")&&(je+=`

`.concat(ve(8),`
`).concat(ve(16),`
`).concat(ve(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseXOR`.concat(tt,`(uint a, uint b) {
	return uint(bitwiseXOR`).concat(tt,`(int(a), int(b)));
}`)}).join(`
`),`
#endif
`)),Se.includes("bitwiseAnd")&&(je+=`

`.concat(Te(8),`
`).concat(Te(16),`
`).concat(Te(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseAnd`.concat(tt,`(uint a, uint b) {
	return uint(bitwiseAnd`).concat(tt,`(int(a), int(b)));
}`)}).join(`
`),`
#endif
`)),Se.includes("bitwiseNot")&&(je+=`

`.concat(xe(8),`
`).concat(xe(16),`
`).concat(xe(32),`
#if (__VERSION__ == 300)
`).concat([8,16,""].map(function(tt){return`
uint bitwiseNot`.concat(tt,`(uint a) {
	return uint(bitwiseNot`).concat(tt,`(int(a)));
}`)}).join(`
`),`
#endif
`)),je}Y.fragmentShaderPolyfills=Ie},126:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getSampler2DsInProgram=Y.stripComments=Y.stripPrecision=Y.stripVersion=Y.highpToMediump=Y.glsl1Uint=Y.glsl1Sampler2D=Y.glsl1Texture=Y.checkFragmentShaderForFragColor=Y.glsl1FragmentOut=Y.getFragmentOuts=Y.glsl1FragmentIn=Y.glsl1VertexOut=Y.castVaryingToFloat=Y.glsl1VertexIn=void 0;var Q=D(601);function ee(ye){return ye.replace(/\bin\b/g,"attribute")}Y.glsl1VertexIn=ee;function q(ye){return ye.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function te(ye,re,Ze){var Ge=new RegExp("\\b".concat(q(re),"\\s*=\\s*\\S[^;]*;"),"sg"),ve=ye.match(Ge);if(ve)for(var Te=0;Te<ve.length;Te++){var xe=new RegExp("\\b".concat(q(re),"\\s*=\\s*(\\S[^;]*);"),"s"),Ie=ve[Te].match(xe);if(Ie&&Ie[1]){var Se=new RegExp("\\b".concat(q(re),"\\s*=\\s*").concat(q(Ie[1]),"\\s*;"),"s");ye=ye.replace(Se,"".concat(re," = ").concat(Ze,"(").concat(Ie[1],");"))}else console.warn('Could not find value in expression: "'.concat(ve[Te],'"'))}else console.warn("No assignment found for shader variable ".concat(re,"."));return ye}function ie(ye,re,Ze){var Ge=new RegExp("".concat(re,"\\s+\\S[^;]*;"),"g"),ve=ye.match(Ge);if(ve){var Te=new RegExp("".concat(re,"\\b"),"g");ye=ye.replace(Te,"varying ".concat(Ze));for(var xe=0;xe<ve.length;xe++){var Ie=new RegExp("".concat(re,"\\s+(\\S[^;]*);")),Se=ve[xe].match(Ie);Se&&Se[2]?ye=te(ye,Se[2],Ze):console.warn('Could not find variable name in expression: "'.concat(ve[xe],'"'))}}return ye}function ne(ye){return ye=ie(ye,"\\bvarying\\s+(u)?int","float"),ye=ie(ye,"\\bvarying\\s+(i|u)vec2","vec2"),ye=ie(ye,"\\bvarying\\s+(i|u)vec3","vec3"),ye=ie(ye,"\\bvarying\\s+(i|u)vec4","vec4"),ye}Y.castVaryingToFloat=ne;function ce(ye){return ye=ye.replace(/(\bflat\s+)?\bout\b/g,"varying"),ye=ne(ye),ye}Y.glsl1VertexOut=ce;function le(ye){return ye=ye.replace(/(\bflat\s+)?\bin\b/g,"varying"),ye=ne(ye),ye}Y.glsl1FragmentIn=le;function se(ye,re){for(var Ze={},Ge=0;;){var ve=ye.match(/\b(layout\s*\(\s*location\s*=\s*([0-9]+)\s*\)\s*)?out\s+((lowp|mediump|highp)\s+)?((float|int|uint|([iu]?vec[234]))\s+)?([_$a-zA-Z0-9]+)\s*;/);if(!ve){if(Object.keys(Ze).length===0)return[];for(var Te=Object.keys(Ze),xe=Te.length,Ie=new Array(Ge).fill(void 0),Se=0;Se<xe;Se++){var Ne=Te[Se],je=Ze[Ne],tt=je.location,it=je.type;if(Ie[tt]!==void 0)throw new Error('Must be exactly one out declaration per layout location in GPUProgram "'.concat(re,'", conflicting declarations found at location ').concat(tt,"."));Ie[tt]={name:Ne,type:it}}if(Te.length!==Ge+1)throw new Error('Must be exactly one out declaration per layout location in GPUProgram "'.concat(re,'", layout locations must be sequential (no missing location numbers) starting from 0.'));for(var Se=0;Se<=Ge;Se++)if(Ie[Se]===void 0)throw new Error("Missing out declaration at location ".concat(Se,' in GPUProgram "').concat(re,'", layout locations must be sequential (no missing location numbers) starting from 0.'));return Ie}var st=ve[8],qe=parseInt(ve[2]||"0"),ot=ve[6];if(!ot)throw new Error('No type found for out declaration "'.concat(ve[0],'" for GPUProgram "').concat(re,'".'));if(!st)throw new Error('No variable name found for out declaration "'.concat(ve[0],'" for GPUProgram "').concat(re,'".'));if(Ze[st]){if(Ze[st].location!==qe)throw new Error('All out declarations for variable "'.concat(st,'" must have same location in GPUProgram "').concat(re,'".'))}else qe>Ge&&(Ge=qe),Ze[st]={location:qe,type:ot};ye=ye.replace(ve[0],"")}}Y.getFragmentOuts=se;function pe(ye,re){var Ze=se(ye,re);if(Ze.length===0)return[ye];ye=ye.replace(/\blayout\s*\(\s*location\s*=\s*([0-9]+)\s*\)\s*/g,"");for(var Ge=[],ve=0,Te=Ze.length;ve<Te;ve++){var xe=Ze[ve],Ie=xe.type,Se=xe.name,Ne=new RegExp("\\bout\\s+((lowp|mediump|highp)\\s+)?(float|int|uint|([iu]?vec[234]))\\s+".concat(Se,"\\s*;"),"g"),je=ye.replace(Ne,"");je=je.replace(/\bout\b/g,"");for(var tt=!1,it=new RegExp("\\b".concat(Se,"\\s*=\\s*(\\S.*?);"),"s");;){var st=je.match(it);if(st&&st[1]){tt=!0;var qe="";switch(Ie){case"float":case"int":case"uint":qe=", 0, 0, 0";break;case"vec2":case"ivec2":case"uvec2":qe=", 0, 0";break;case"vec3":case"ivec3":case"uvec3":qe=", 0";break}je=je.replace(it,"gl_FragColor = vec4(".concat(st[1]).concat(qe,");"))}else{if(!tt)throw new Error('No assignment found for out declaration in GPUProgram "'.concat(re,'".'));break}}Ge.push(je)}return Ge}Y.glsl1FragmentOut=pe;function ue(ye){return!!ye.match(/\bgl_FragColor\b/)}function ae(ye,re,Ze){var Ge=ue(ye);if(re===Q.GLSL3&&Ge)throw new Error('Found "gl_FragColor" declaration in fragment shader for GPUProgram "'.concat(Ze,'": either init GPUComposer with glslVersion = GLSL1 or use GLSL3 syntax in your fragment shader.'))}Y.checkFragmentShaderForFragColor=ae;function de(ye){return ye.replace(/\btexture\(/g,"texture2D(")}Y.glsl1Texture=de;function be(ye){return ye.replace(/\b(i|u)sampler2D\b/g,"sampler2D")}Y.glsl1Sampler2D=be;function he(ye){return ye=ye.replace(/\buint\b/g,"int"),ye=ye.replace(/\buvec2\b/g,"ivec2"),ye=ye.replace(/\buvec3\b/g,"ivec3"),ye=ye.replace(/\buvec4\b/g,"ivec4"),ye=ye.replace(/\buint\(/g,"int("),ye=ye.replace(/\buvec2\(/g,"ivec2("),ye=ye.replace(/\buvec3\(/g,"ivec3("),ye=ye.replace(/\buvec4\(/g,"ivec4("),ye}Y.glsl1Uint=he;function Le(ye){return ye.replace(/\bhighp\b/,"mediump")}Y.highpToMediump=Le;function Xe(ye){var re=ye.length;return ye=ye.replace(/^\s*\#version\s+([0-9]+(\s+(es)+)?)\s*/,""),ye.length!==re&&console.warn("GPUIO expects shader source that does not contain #version declarations, removing...."),ye}Y.stripVersion=Xe;function We(ye){var re=ye.length;return ye=ye.replace(/\s*precision\s+((highp)|(mediump)|(lowp))\s+[a-zA-Z0-9]+\s*;/g,""),ye.length!==re&&console.warn("GPUIO expects shader source that does not contain precision declarations, removing...."),ye}Y.stripPrecision=We;function fe(ye){return ye=ye.replace(/[\t ]*\/\/.*\n/g,""),ye=ye.replace(/\/\*.*?\*\//gs,""),ye}Y.stripComments=fe;function Re(ye){var re={},Ze="\\buniform\\s+(((highp)|(mediump)|(lowp))\\s+)?(i|u)?sampler2D\\s+(\\w+)\\s*;",Ge=ye.match(new RegExp(Ze,"g"));if(!Ge||Ge.length===0)return[];var ve=new RegExp(Ze);return Ge.forEach(function(Te){var xe=Te.match(ve);if(!xe||!xe[7]){console.warn('Could not find sampler2D uniform name in string "'.concat(Te,'".'));return}re[xe[7]]=!0}),Object.keys(re)}Y.getSampler2DsInProgram=Re},593:function(J,Y,D){var Q=this&&this.__awaiter||function(Je,Me,ke,Ye){function Ce(ze){return ze instanceof ke?ze:new ke(function(Ee){Ee(ze)})}return new(ke||(ke=Promise))(function(ze,Ee){function _e($e){try{Pe(Ye.next($e))}catch(we){Ee(we)}}function He($e){try{Pe(Ye.throw($e))}catch(we){Ee(we)}}function Pe($e){$e.done?ze($e.value):Ce($e.value).then(_e,He)}Pe((Ye=Ye.apply(Je,Me||[])).next())})},ee=this&&this.__generator||function(Je,Me){var ke={label:0,sent:function(){if(ze[0]&1)throw ze[1];return ze[1]},trys:[],ops:[]},Ye,Ce,ze,Ee;return Ee={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(Ee[Symbol.iterator]=function(){return this}),Ee;function _e(Pe){return function($e){return He([Pe,$e])}}function He(Pe){if(Ye)throw new TypeError("Generator is already executing.");for(;ke;)try{if(Ye=1,Ce&&(ze=Pe[0]&2?Ce.return:Pe[0]?Ce.throw||((ze=Ce.return)&&ze.call(Ce),0):Ce.next)&&!(ze=ze.call(Ce,Pe[1])).done)return ze;switch(Ce=0,ze&&(Pe=[Pe[0]&2,ze.value]),Pe[0]){case 0:case 1:ze=Pe;break;case 4:return ke.label++,{value:Pe[1],done:!1};case 5:ke.label++,Ce=Pe[1],Pe=[0];continue;case 7:Pe=ke.ops.pop(),ke.trys.pop();continue;default:if(ze=ke.trys,!(ze=ze.length>0&&ze[ze.length-1])&&(Pe[0]===6||Pe[0]===2)){ke=0;continue}if(Pe[0]===3&&(!ze||Pe[1]>ze[0]&&Pe[1]<ze[3])){ke.label=Pe[1];break}if(Pe[0]===6&&ke.label<ze[1]){ke.label=ze[1],ze=Pe;break}if(ze&&ke.label<ze[2]){ke.label=ze[2],ke.ops.push(Pe);break}ze[2]&&ke.ops.pop(),ke.trys.pop();continue}Pe=Me.call(Je,ke)}catch($e){Pe=[6,$e],Ce=0}finally{Ye=ze=0}if(Pe[0]&5)throw Pe[1];return{value:Pe[0]?Pe[1]:void 0,done:!0}}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.readPixelsAsync=Y.indexOfLayerInArray=Y.uniformInternalTypeForValue=Y.preprocessFragmentShader=Y.preprocessVertexShader=Y.convertFragmentShaderToGLSL1=Y.initSequentialFloatArray=Y.isPowerOf2=Y.getFragmentShaderMediumpPrecision=Y.getVertexShaderMediumpPrecision=Y.isHighpSupportedInFragmentShader=Y.isHighpSupportedInVertexShader=Y.readyToRead=Y.isWebGL2Supported=Y.isWebGL2=Y.initGLProgram=Y.compileShader=Y.makeShaderHeader=Y.isIntType=Y.isSignedIntType=Y.isUnsignedIntType=Y.isFloatType=void 0;var q=D(566),te=D(601),ie=D(690),ne=D(724),ce=D(360),le=D(126),se={supportsWebGL2:void 0,supportsHighpVertex:void 0,supportsHighpFragment:void 0,mediumpVertexPrecision:void 0,mediumpFragmentPrecision:void 0};function pe(Je){return Je===te.FLOAT||Je===te.HALF_FLOAT}Y.isFloatType=pe;function ue(Je){return Je===te.UNSIGNED_BYTE||Je===te.UNSIGNED_SHORT||Je===te.UNSIGNED_INT}Y.isUnsignedIntType=ue;function ae(Je){return Je===te.BYTE||Je===te.SHORT||Je===te.INT}Y.isSignedIntType=ae;function de(Je){return ue(Je)||ae(Je)}Y.isIntType=de;function be(Je){for(var Me="",ke=Object.keys(Je),Ye=0;Ye<ke.length;Ye++){var Ce=ke[Ye];if(!(0,q.isString)(Ce)||!(0,q.isString)(Je[Ce]))throw new Error("GPUProgram compile time constants must be passed in as key value pairs that are both strings, got key value pair of type [".concat(typeof Ce," : ").concat(typeof Je[Ce],"] for key ").concat(Ce,"."));Me+="#define ".concat(Ce," ").concat(Je[Ce],`
`)}return Me}function he(Je,Me,ke,Ye,Ce){var ze,Ee=Je===te.GLSL3?"#version ".concat(te.GLSL3,`
`):"",_e=Ye?be(Ye):"",He=be((ze={},ze[te.GPUIO_INT_PRECISION]="".concat((0,ie.intForPrecision)(Me)),ze[te.GPUIO_FLOAT_PRECISION]="".concat((0,ie.intForPrecision)(ke)),ze));return"".concat(Ee).concat(Ce||"").concat(_e).concat(He).concat(ne.PRECISION_SOURCE)}Y.makeShaderHeader=he;function Le(Je,Me,ke,Ye,Ce,ze,Ee,_e,He,Pe,$e){$e===void 0&&($e=!1);var we=Je.createShader(ze);if(!we)return _e("Unable to init gl shader."),null;var Ue=he(Me,ke,Ye,He,Pe),et="".concat(Ue).concat(Ce);if(Je.shaderSource(we,et),Je.compileShader(we),$e){var at=Je.getShaderParameter(we,Je.COMPILE_STATUS);if(!at)return console.log(et.split(`
`).map(function(Ve,oe){return"".concat(oe,"	").concat(Ve)}).join(`
`)),_e("Could not compile ".concat(ze===Je.FRAGMENT_SHADER?"fragment":"vertex",' shader for program "').concat(Ee,'": ').concat(Je.getShaderInfoLog(we),".")),null}return we}Y.compileShader=Le;function Xe(Je,Me,ke,Ye,Ce){var ze=Je.createProgram();if(!ze){Ce('Unable to init GL program for GPUProgram "'.concat(Ye,'", gl.createProgram() has failed.'));return}Je.attachShader(ze,Me),Je.attachShader(ze,ke),Je.linkProgram(ze);var Ee=Je.getProgramParameter(ze,Je.LINK_STATUS);if(!Ee){Ce('GPUProgram "'.concat(Ye,'" failed to link: ').concat(Je.getProgramInfoLog(ze)));return}return ze}Y.initGLProgram=Xe;function We(Je){return typeof WebGL2RenderingContext<"u"&&Je instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&Je instanceof WebGL2ComputeRenderingContext}Y.isWebGL2=We;function fe(){if(se.supportsWebGL2===void 0){var Je=document.createElement("canvas").getContext(te.WEBGL2);se.supportsWebGL2=We(Je)}return se.supportsWebGL2}Y.isWebGL2Supported=fe;function Re(Je){return Je.checkFramebufferStatus(Je.FRAMEBUFFER)==Je.FRAMEBUFFER_COMPLETE}Y.readyToRead=Re;function ye(Je,Me){var ke=document.createElement("canvas").getContext(te.WEBGL1);if(!ke)throw new Error("Unable to init webgl context.");try{var Ye=Le(ke,te.GLSL1,te.PRECISION_HIGH_P,te.PRECISION_HIGH_P,Je,ke.VERTEX_SHADER,"highpFragmentTest",te.DEFAULT_ERROR_CALLBACK),Ce=Le(ke,te.GLSL1,te.PRECISION_HIGH_P,te.PRECISION_HIGH_P,Me,ke.FRAGMENT_SHADER,"highpFragmentTest",te.DEFAULT_ERROR_CALLBACK),ze=Xe(ke,Ye,Ce,"highpFragmentTest",te.DEFAULT_ERROR_CALLBACK);ke.deleteProgram(ze),ke.deleteShader(Ye),ke.deleteShader(Ce)}catch{return!1}return!0}function re(){if(se.supportsHighpVertex===void 0){var Je=ye("void main() { highp float test = 0.524; gl_Position = vec4(test, test, 0, 1); }","void main() { gl_FragColor = vec4(0); }");se.supportsHighpVertex=Je}return se.supportsHighpVertex}Y.isHighpSupportedInVertexShader=re;function Ze(){if(se.supportsHighpFragment===void 0){var Je=ye("void main() { gl_Position = vec4(0.5, 0.5, 0, 1); }","void main() { highp float test = 1.35; gl_FragColor = vec4(test); }");se.supportsHighpFragment=Je}return se.supportsHighpFragment}Y.isHighpSupportedInFragmentShader=Ze;function Ge(Je,Me,ke,Ye,Ce){var ze=Xe(Me,Ye,ke,Je,te.DEFAULT_ERROR_CALLBACK);if(!ze)throw new Error("Unable to init WebGLProgram.");var Ee=Me.getAttribLocation(ze,"position"),_e=Me.createBuffer();Me.bindBuffer(Me.ARRAY_BUFFER,_e),Me.bufferData(Me.ARRAY_BUFFER,1,Me.STATIC_DRAW),Me.enableVertexAttribArray(Ee),Me.vertexAttribPointer(Ee,1,Me.UNSIGNED_BYTE,!1,0,0),Me.viewport(0,0,1,1),Me.useProgram(ze),Ce(ze),Me.drawArrays(Me.POINTS,0,1);var He=new Uint8Array(4);return Me.readPixels(0,0,1,1,Me.RGBA,Me.UNSIGNED_BYTE,He),Me.disableVertexAttribArray(Ee),Me.deleteProgram(ze),Me.deleteShader(Ye),Me.deleteShader(ke),Me.deleteBuffer(_e),He}function ve(){if(se.mediumpVertexPrecision===void 0){var Je=document.createElement("canvas"),Me=Je.getContext("webgl");if(!Me)throw new Error("Unable to init webgl context.");var ke=Le(Me,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	attribute vec4 position;  // needed because of another bug in Safari
	uniform mediump vec3 v;
	varying mediump vec4 v_result;
	void main() {
		gl_Position = position;
		gl_PointSize = 1.0;
		v_result = vec4(normalize(v) * 0.5 + 0.5, 1);
	}
		`,Me.VERTEX_SHADER,"mediumpPrecisionVertexTest",te.DEFAULT_ERROR_CALLBACK);if(!ke)throw new Error("Unable to init vertex shader.");var Ye=Le(Me,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	varying mediump vec4 v_result;
	void main() {
		gl_FragColor = v_result;
	}
		`,Me.FRAGMENT_SHADER,"mediumpPrecisionVertexTest",te.DEFAULT_ERROR_CALLBACK);if(!Ye)throw new Error("Unable to init fragment shader.");var Ce=Math.pow(2,31)-1,ze=Math.sqrt(Ce),Ee=(ze/Math.sqrt(ze*ze*3)*.5+.5)*255|0,_e=Ge("mediumpPrecisionVertexTest",Me,Ye,ke,function(Pe){var $e=Me.getUniformLocation(Pe,"v");Me.uniform3f($e,ze,ze,ze)}),He=Math.abs(_e[0]-Ee)>16;se.mediumpVertexPrecision=He?te.PRECISION_MEDIUM_P:te.PRECISION_HIGH_P}return se.mediumpVertexPrecision}Y.getVertexShaderMediumpPrecision=ve;function Te(){if(se.mediumpFragmentPrecision===void 0){var Je=document.createElement("canvas"),Me=Je.getContext("webgl");if(!Me)throw new Error("Unable to init webgl context.");var ke=Le(Me,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	attribute vec4 position;  // needed because of another bug in Safari
	void main() {
		gl_Position = position;
		gl_PointSize = 1.0;
	}
		`,Me.VERTEX_SHADER,"mediumpPrecisionFragmentTest",te.DEFAULT_ERROR_CALLBACK);if(!ke)throw new Error("Unable to init vertex shader.");var Ye=Le(Me,te.GLSL1,te.PRECISION_MEDIUM_P,te.PRECISION_MEDIUM_P,`
	uniform mediump vec3 v;
	void main() {
		gl_FragColor = vec4(normalize(v) * 0.5 + 0.5, 1);
	}
		`,Me.FRAGMENT_SHADER,"mediumpPrecisionFragmentTest",te.DEFAULT_ERROR_CALLBACK);if(!Ye)throw new Error("Unable to init fragment shader.");var Ce=Math.pow(2,31)-1,ze=Math.sqrt(Ce),Ee=(ze/Math.sqrt(ze*ze*3)*.5+.5)*255|0,_e=Ge("mediumpPrecisionFragmentTest",Me,Ye,ke,function(Pe){var $e=Me.getUniformLocation(Pe,"v");Me.uniform3f($e,ze,ze,ze)}),He=Math.abs(_e[0]-Ee)>16;se.mediumpFragmentPrecision=He?te.PRECISION_MEDIUM_P:te.PRECISION_HIGH_P}return se.mediumpFragmentPrecision}Y.getFragmentShaderMediumpPrecision=Te;function xe(Je){return Je>0&&(Je&Je-1)==0}Y.isPowerOf2=xe;function Ie(Je){for(var Me=new Float32Array(Je),ke=0;ke<Je;ke++)Me[ke]=ke;return Me}Y.initSequentialFloatArray=Ie;function Se(Je){return Je=(0,le.stripVersion)(Je),Je=(0,le.stripPrecision)(Je),Je=(0,le.stripComments)(Je),Je}function Ne(Je){return Je=(0,le.glsl1Sampler2D)(Je),Je=(0,le.glsl1Uint)(Je),Je=(0,le.glsl1Texture)(Je),Je}function je(Je){return Je=Ne(Je),Je=(0,le.glsl1VertexIn)(Je),Je=(0,le.glsl1VertexOut)(Je),Je}function tt(Je,Me){return Je=Ne(Je),Je=(0,le.glsl1FragmentIn)(Je),(0,le.glsl1FragmentOut)(Je,Me)}Y.convertFragmentShaderToGLSL1=tt;function it(Je,Me){return Je=Se(Je),re()||(console.warn("highp not supported in vertex shader in this browser, falling back to mediump."),Je=(0,le.highpToMediump)(Je)),Me===te.GLSL3?Je:je(Je)}Y.preprocessVertexShader=it;function st(Je,Me,ke){var Ye;Je=Se(Je),(0,le.checkFragmentShaderForFragColor)(Je,Me,ke),Ze()||(console.warn("highp not supported in fragment shader in this browser, falling back to mediump."),Je=(0,le.highpToMediump)(Je)),Je=(0,ce.fragmentShaderPolyfills)(Je,Me)+Je;var Ce;if(Ye=(0,ce.texturePolyfill)(Je),Je=Ye.shaderSource,Ce=Ye.samplerUniforms,Me!==te.GLSL3){for(var ze=tt(Je,ke),Ee=0,_e=ze.length;Ee<_e;Ee++)ze[Ee]=(0,ce.GLSL1Polyfills)(ze[Ee])+ze[Ee];if(Je=ze.shift(),ze.length)return{shaderSource:Je,samplerUniforms:Ce,additionalSources:ze}}return{shaderSource:Je,samplerUniforms:Ce}}Y.preprocessFragmentShader=st;function qe(Je,Me,ke,Ye){if(Me===te.FLOAT){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isFiniteNumber)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected float or float[] of length 1-4.'))}else if(!(0,q.isFiniteNumber)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected float or float[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.FLOAT_1D_UNIFORM;if(Je.length===2)return te.FLOAT_2D_UNIFORM;if(Je.length===3)return te.FLOAT_3D_UNIFORM;if(Je.length===4)return te.FLOAT_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected float or float[] of length 1-4.'))}else if(Me===te.INT){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isInteger)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected int or int[] of length 1-4.'))}else if(!(0,q.isInteger)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected int or int[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.INT_1D_UNIFORM;if(Je.length===2)return te.INT_2D_UNIFORM;if(Je.length===3)return te.INT_3D_UNIFORM;if(Je.length===4)return te.INT_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected int or int[] of length 1-4.'))}else if(Me===te.UINT){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isNonNegativeInteger)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected uint or uint[] of length 1-4.'))}else if(!(0,q.isNonNegativeInteger)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected uint or uint[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.UINT_1D_UNIFORM;if(Je.length===2)return te.UINT_2D_UNIFORM;if(Je.length===3)return te.UINT_3D_UNIFORM;if(Je.length===4)return te.UINT_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected uint or uint[] of length 1-4.'))}else if(Me===te.BOOL){if((0,q.isArray)(Je)){for(var Ce=0;Ce<Je.length;Ce++)if(!(0,q.isBoolean)(Je[Ce]))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected bool or bool[] of length 1-4.'))}else if(!(0,q.isBoolean)(Je))throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected bool or bool[] of length 1-4.'));if(!(0,q.isArray)(Je)||Je.length===1)return te.BOOL_1D_UNIFORM;if(Je.length===2)return te.BOOL_2D_UNIFORM;if(Je.length===3)return te.BOOL_3D_UNIFORM;if(Je.length===4)return te.BOOL_4D_UNIFORM;throw new Error("Invalid value ".concat(JSON.stringify(Je),' for uniform "').concat(ke,'" in program "').concat(Ye,'", expected boolean.'))}else throw new Error('Invalid type "'.concat(Me,'" for uniform "').concat(ke,'" in program "').concat(Ye,'", expected ').concat(te.FLOAT," or ").concat(te.INT," or ").concat(te.BOOL,"."))}Y.uniformInternalTypeForValue=qe;function ot(Je,Me){return Me.findIndex(function(ke){return ke===Je||ke.layer===Je})}Y.indexOfLayerInArray=ot;function ut(Je,Me,ke,Ye){return new Promise(function(Ce,ze){function Ee(){var _e=Je.clientWaitSync(Me,ke,0);if(_e===Je.WAIT_FAILED){ze();return}if(_e===Je.TIMEOUT_EXPIRED){setTimeout(Ee,Ye);return}Ce()}Ee()})}function dt(Je,Me,ke,Ye,Ce){return Q(this,void 0,void 0,function(){var ze;return ee(this,function(Ee){switch(Ee.label){case 0:return ze=Je.fenceSync(Je.SYNC_GPU_COMMANDS_COMPLETE,0),Je.flush(),[4,ut(Je,ze,0,10)];case 1:return Ee.sent(),Je.deleteSync(ze),Je.bindBuffer(Me,ke),Je.getBufferSubData(Me,Ye,Ce),Je.bindBuffer(Me,null),[2]}})})}function mt(Je,Me,ke,Ye,Ce,ze,Ee,_e){return Q(this,void 0,void 0,function(){var He;return ee(this,function(Pe){switch(Pe.label){case 0:return He=Je.createBuffer(),Je.bindBuffer(Je.PIXEL_PACK_BUFFER,He),Je.bufferData(Je.PIXEL_PACK_BUFFER,_e.byteLength,Je.STREAM_READ),Je.readPixels(Me,ke,Ye,Ce,ze,Ee,0),Je.bindBuffer(Je.PIXEL_PACK_BUFFER,null),[4,dt(Je,Je.PIXEL_PACK_BUFFER,He,0,_e)];case 1:return Pe.sent(),Je.deleteBuffer(He),[2,_e]}})})}Y.readPixelsAsync=mt},557:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.getFloat16=te,Y.setFloat16=ie;var Q=D(802),ee=D(605),q=D(983);function te(ne,ce,...le){return(0,ee.convertToNumber)((0,q.DataViewPrototypeGetUint16)(ne,ce,...(0,Q.safeIfNeeded)(le)))}function ie(ne,ce,le,...se){return(0,q.DataViewPrototypeSetUint16)(ne,ce,(0,ee.roundToFloat16Bits)(le),...(0,Q.safeIfNeeded)(se))}},310:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.isFloat16Array=pe;var Q=D(802),ee=D(299),q=D(605),te=D(554),ie=D(930),ne=D(983),ce=D(700);const le=2,se=new ne.NativeWeakMap;function pe(fe){return(0,ne.WeakMapPrototypeHas)(se,fe)||!(0,ne.ArrayBufferIsView)(fe)&&(0,ee.hasFloat16ArrayBrand)(fe)}function ue(fe){if(!pe(fe))throw(0,ne.NativeTypeError)(ie.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function ae(fe,Re){const ye=pe(fe),re=(0,te.isNativeTypedArray)(fe);if(!ye&&!re)throw(0,ne.NativeTypeError)(ie.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof Re=="number"){let Ze;if(ye){const Ge=de(fe);Ze=(0,ne.TypedArrayPrototypeGetLength)(Ge)}else Ze=(0,ne.TypedArrayPrototypeGetLength)(fe);if(Ze<Re)throw(0,ne.NativeTypeError)(ie.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,te.isNativeBigIntTypedArray)(fe))throw(0,ne.NativeTypeError)(ie.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function de(fe){const Re=(0,ne.WeakMapPrototypeGet)(se,fe);if(Re!==void 0){const Ze=(0,ne.TypedArrayPrototypeGetBuffer)(Re);if((0,ce.IsDetachedBuffer)(Ze))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return Re}const ye=fe.buffer;if((0,ce.IsDetachedBuffer)(ye))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const re=(0,ne.ReflectConstruct)(Xe,[ye,fe.byteOffset,fe.length],fe.constructor);return(0,ne.WeakMapPrototypeGet)(se,re)}function be(fe){const Re=(0,ne.TypedArrayPrototypeGetLength)(fe),ye=[];for(let re=0;re<Re;++re)ye[re]=(0,q.convertToNumber)(fe[re]);return ye}const he=new ne.NativeWeakSet;for(const fe of(0,ne.ReflectOwnKeys)(ne.TypedArrayPrototype)){if(fe===ne.SymbolToStringTag)continue;const Re=(0,ne.ReflectGetOwnPropertyDescriptor)(ne.TypedArrayPrototype,fe);(0,ne.ObjectHasOwn)(Re,"get")&&typeof Re.get=="function"&&(0,ne.WeakSetPrototypeAdd)(he,Re.get)}const Le=(0,ne.ObjectFreeze)({get(fe,Re,ye){return(0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)?(0,q.convertToNumber)((0,ne.ReflectGet)(fe,Re)):(0,ne.WeakSetPrototypeHas)(he,(0,ne.ObjectPrototype__lookupGetter__)(fe,Re))?(0,ne.ReflectGet)(fe,Re):(0,ne.ReflectGet)(fe,Re,ye)},set(fe,Re,ye,re){return(0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)?(0,ne.ReflectSet)(fe,Re,(0,q.roundToFloat16Bits)(ye)):(0,ne.ReflectSet)(fe,Re,ye,re)},getOwnPropertyDescriptor(fe,Re){if((0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)){const ye=(0,ne.ReflectGetOwnPropertyDescriptor)(fe,Re);return ye.value=(0,q.convertToNumber)(ye.value),ye}return(0,ne.ReflectGetOwnPropertyDescriptor)(fe,Re)},defineProperty(fe,Re,ye){return(0,te.isCanonicalIntegerIndexString)(Re)&&(0,ne.ObjectHasOwn)(fe,Re)&&(0,ne.ObjectHasOwn)(ye,"value")&&(ye.value=(0,q.roundToFloat16Bits)(ye.value)),(0,ne.ReflectDefineProperty)(fe,Re,ye)}});class Xe{constructor(Re,ye,re){let Ze;if(pe(Re))Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,[de(Re)],new.target);else if((0,te.isObject)(Re)&&!(0,te.isArrayBuffer)(Re)){let ve,Te;if((0,te.isNativeTypedArray)(Re)){ve=Re,Te=(0,ne.TypedArrayPrototypeGetLength)(Re);const xe=(0,ne.TypedArrayPrototypeGetBuffer)(Re),Ie=(0,te.isSharedArrayBuffer)(xe)?ne.NativeArrayBuffer:(0,ce.SpeciesConstructor)(xe,ne.NativeArrayBuffer);if((0,ce.IsDetachedBuffer)(xe))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,te.isNativeBigIntTypedArray)(Re))throw(0,ne.NativeTypeError)(ie.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const Se=new Ie(Te*le);Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,[Se],new.target)}else{const xe=Re[ne.SymbolIterator];if(xe!=null&&typeof xe!="function")throw(0,ne.NativeTypeError)(ie.ITERATOR_PROPERTY_IS_NOT_CALLABLE);xe!=null?(0,te.isOrdinaryArray)(Re)?(ve=Re,Te=Re.length):(ve=[...Re],Te=ve.length):(ve=Re,Te=(0,ce.ToLength)(ve.length)),Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,[Te],new.target)}for(let xe=0;xe<Te;++xe)Ze[xe]=(0,q.roundToFloat16Bits)(ve[xe])}else Ze=(0,ne.ReflectConstruct)(ne.NativeUint16Array,arguments,new.target);const Ge=new ne.NativeProxy(Ze,Le);return(0,ne.WeakMapPrototypeSet)(se,Ge,Ze),Ge}static from(Re,...ye){const re=this;if(!(0,ne.ReflectHas)(re,ee.brand))throw(0,ne.NativeTypeError)(ie.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(re===Xe){if(pe(Re)&&ye.length===0){const Se=de(Re),Ne=new ne.NativeUint16Array((0,ne.TypedArrayPrototypeGetBuffer)(Se),(0,ne.TypedArrayPrototypeGetByteOffset)(Se),(0,ne.TypedArrayPrototypeGetLength)(Se));return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.TypedArrayPrototypeSlice)(Ne)))}if(ye.length===0)return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.Uint16ArrayFrom)(Re,q.roundToFloat16Bits)));const xe=ye[0],Ie=ye[1];return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.Uint16ArrayFrom)(Re,function(Se,...Ne){return(0,q.roundToFloat16Bits)((0,ne.ReflectApply)(xe,this,[Se,...(0,Q.safeIfNeeded)(Ne)]))},Ie)))}let Ze,Ge;const ve=Re[ne.SymbolIterator];if(ve!=null&&typeof ve!="function")throw(0,ne.NativeTypeError)(ie.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(ve!=null)(0,te.isOrdinaryArray)(Re)?(Ze=Re,Ge=Re.length):(0,te.isOrdinaryNativeTypedArray)(Re)?(Ze=Re,Ge=(0,ne.TypedArrayPrototypeGetLength)(Re)):(Ze=[...Re],Ge=Ze.length);else{if(Re==null)throw(0,ne.NativeTypeError)(ie.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);Ze=(0,ne.NativeObject)(Re),Ge=(0,ce.ToLength)(Ze.length)}const Te=new re(Ge);if(ye.length===0)for(let xe=0;xe<Ge;++xe)Te[xe]=Ze[xe];else{const xe=ye[0],Ie=ye[1];for(let Se=0;Se<Ge;++Se)Te[Se]=(0,ne.ReflectApply)(xe,Ie,[Ze[Se],Se])}return Te}static of(...Re){const ye=this;if(!(0,ne.ReflectHas)(ye,ee.brand))throw(0,ne.NativeTypeError)(ie.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const re=Re.length;if(ye===Xe){const Ge=new Xe(re),ve=de(Ge);for(let Te=0;Te<re;++Te)ve[Te]=(0,q.roundToFloat16Bits)(Re[Te]);return Ge}const Ze=new ye(re);for(let Ge=0;Ge<re;++Ge)Ze[Ge]=Re[Ge];return Ze}keys(){ue(this);const Re=de(this);return(0,ne.TypedArrayPrototypeKeys)(Re)}values(){ue(this);const Re=de(this);return(0,Q.wrap)(function*(){for(const ye of(0,ne.TypedArrayPrototypeValues)(Re))yield(0,q.convertToNumber)(ye)}())}entries(){ue(this);const Re=de(this);return(0,Q.wrap)(function*(){for(const[ye,re]of(0,ne.TypedArrayPrototypeEntries)(Re))yield[ye,(0,q.convertToNumber)(re)]}())}at(Re){ue(this);const ye=de(this),re=(0,ne.TypedArrayPrototypeGetLength)(ye),Ze=(0,ce.ToIntegerOrInfinity)(Re),Ge=Ze>=0?Ze:re+Ze;if(!(Ge<0||Ge>=re))return(0,q.convertToNumber)(ye[Ge])}map(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0],ve=(0,ce.SpeciesConstructor)(re,Xe);if(ve===Xe){const xe=new Xe(Ze),Ie=de(xe);for(let Se=0;Se<Ze;++Se){const Ne=(0,q.convertToNumber)(re[Se]);Ie[Se]=(0,q.roundToFloat16Bits)((0,ne.ReflectApply)(Re,Ge,[Ne,Se,this]))}return xe}const Te=new ve(Ze);ae(Te,Ze);for(let xe=0;xe<Ze;++xe){const Ie=(0,q.convertToNumber)(re[xe]);Te[xe]=(0,ne.ReflectApply)(Re,Ge,[Ie,xe,this])}return Te}filter(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0],ve=[];for(let Ie=0;Ie<Ze;++Ie){const Se=(0,q.convertToNumber)(re[Ie]);(0,ne.ReflectApply)(Re,Ge,[Se,Ie,this])&&(0,ne.ArrayPrototypePush)(ve,Se)}const Te=(0,ce.SpeciesConstructor)(re,Xe),xe=new Te(ve);return ae(xe),xe}reduce(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);if(Ze===0&&ye.length===0)throw(0,ne.NativeTypeError)(ie.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let Ge,ve;ye.length===0?(Ge=(0,q.convertToNumber)(re[0]),ve=1):(Ge=ye[0],ve=0);for(let Te=ve;Te<Ze;++Te)Ge=Re(Ge,(0,q.convertToNumber)(re[Te]),Te,this);return Ge}reduceRight(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);if(Ze===0&&ye.length===0)throw(0,ne.NativeTypeError)(ie.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let Ge,ve;ye.length===0?(Ge=(0,q.convertToNumber)(re[Ze-1]),ve=Ze-2):(Ge=ye[0],ve=Ze-1);for(let Te=ve;Te>=0;--Te)Ge=Re(Ge,(0,q.convertToNumber)(re[Te]),Te,this);return Ge}forEach(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve)(0,ne.ReflectApply)(Re,Ge,[(0,q.convertToNumber)(re[ve]),ve,this])}find(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return Te}}findIndex(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return ve}return-1}findLast(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=Ze-1;ve>=0;--ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return Te}}findLastIndex(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=Ze-1;ve>=0;--ve){const Te=(0,q.convertToNumber)(re[ve]);if((0,ne.ReflectApply)(Re,Ge,[Te,ve,this]))return ve}return-1}every(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve)if(!(0,ne.ReflectApply)(Re,Ge,[(0,q.convertToNumber)(re[ve]),ve,this]))return!1;return!0}some(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re),Ge=ye[0];for(let ve=0;ve<Ze;++ve)if((0,ne.ReflectApply)(Re,Ge,[(0,q.convertToNumber)(re[ve]),ve,this]))return!0;return!1}set(Re,...ye){ue(this);const re=de(this),Ze=(0,ce.ToIntegerOrInfinity)(ye[0]);if(Ze<0)throw(0,ne.NativeRangeError)(ie.OFFSET_IS_OUT_OF_BOUNDS);if(Re==null)throw(0,ne.NativeTypeError)(ie.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,te.isNativeBigIntTypedArray)(Re))throw(0,ne.NativeTypeError)(ie.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(pe(Re))return(0,ne.TypedArrayPrototypeSet)(de(this),de(Re),Ze);if((0,te.isNativeTypedArray)(Re)){const xe=(0,ne.TypedArrayPrototypeGetBuffer)(Re);if((0,ce.IsDetachedBuffer)(xe))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const Ge=(0,ne.TypedArrayPrototypeGetLength)(re),ve=(0,ne.NativeObject)(Re),Te=(0,ce.ToLength)(ve.length);if(Ze===1/0||Te+Ze>Ge)throw(0,ne.NativeRangeError)(ie.OFFSET_IS_OUT_OF_BOUNDS);for(let xe=0;xe<Te;++xe)re[xe+Ze]=(0,q.roundToFloat16Bits)(ve[xe])}reverse(){ue(this);const Re=de(this);return(0,ne.TypedArrayPrototypeReverse)(Re),this}fill(Re,...ye){ue(this);const re=de(this);return(0,ne.TypedArrayPrototypeFill)(re,(0,q.roundToFloat16Bits)(Re),...(0,Q.safeIfNeeded)(ye)),this}copyWithin(Re,ye,...re){ue(this);const Ze=de(this);return(0,ne.TypedArrayPrototypeCopyWithin)(Ze,Re,ye,...(0,Q.safeIfNeeded)(re)),this}sort(Re){ue(this);const ye=de(this),re=Re!==void 0?Re:ce.defaultCompare;return(0,ne.TypedArrayPrototypeSort)(ye,(Ze,Ge)=>re((0,q.convertToNumber)(Ze),(0,q.convertToNumber)(Ge))),this}slice(Re,ye){ue(this);const re=de(this),Ze=(0,ce.SpeciesConstructor)(re,Xe);if(Ze===Xe){const it=new ne.NativeUint16Array((0,ne.TypedArrayPrototypeGetBuffer)(re),(0,ne.TypedArrayPrototypeGetByteOffset)(re),(0,ne.TypedArrayPrototypeGetLength)(re));return new Xe((0,ne.TypedArrayPrototypeGetBuffer)((0,ne.TypedArrayPrototypeSlice)(it,Re,ye)))}const Ge=(0,ne.TypedArrayPrototypeGetLength)(re),ve=(0,ce.ToIntegerOrInfinity)(Re),Te=ye===void 0?Ge:(0,ce.ToIntegerOrInfinity)(ye);let xe;ve===-1/0?xe=0:ve<0?xe=Ge+ve>0?Ge+ve:0:xe=Ge<ve?Ge:ve;let Ie;Te===-1/0?Ie=0:Te<0?Ie=Ge+Te>0?Ge+Te:0:Ie=Ge<Te?Ge:Te;const Se=Ie-xe>0?Ie-xe:0,Ne=new Ze(Se);if(ae(Ne,Se),Se===0)return Ne;const je=(0,ne.TypedArrayPrototypeGetBuffer)(re);if((0,ce.IsDetachedBuffer)(je))throw(0,ne.NativeTypeError)(ie.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let tt=0;for(;xe<Ie;)Ne[tt]=(0,q.convertToNumber)(re[xe]),++xe,++tt;return Ne}subarray(Re,ye){ue(this);const re=de(this),Ze=(0,ce.SpeciesConstructor)(re,Xe),Ge=new ne.NativeUint16Array((0,ne.TypedArrayPrototypeGetBuffer)(re),(0,ne.TypedArrayPrototypeGetByteOffset)(re),(0,ne.TypedArrayPrototypeGetLength)(re)),ve=(0,ne.TypedArrayPrototypeSubarray)(Ge,Re,ye),Te=new Ze((0,ne.TypedArrayPrototypeGetBuffer)(ve),(0,ne.TypedArrayPrototypeGetByteOffset)(ve),(0,ne.TypedArrayPrototypeGetLength)(ve));return ae(Te),Te}indexOf(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);let Ge=(0,ce.ToIntegerOrInfinity)(ye[0]);if(Ge===1/0)return-1;Ge<0&&(Ge+=Ze,Ge<0&&(Ge=0));for(let ve=Ge;ve<Ze;++ve)if((0,ne.ObjectHasOwn)(re,ve)&&(0,q.convertToNumber)(re[ve])===Re)return ve;return-1}lastIndexOf(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);let Ge=ye.length>=1?(0,ce.ToIntegerOrInfinity)(ye[0]):Ze-1;if(Ge===-1/0)return-1;Ge>=0?Ge=Ge<Ze-1?Ge:Ze-1:Ge+=Ze;for(let ve=Ge;ve>=0;--ve)if((0,ne.ObjectHasOwn)(re,ve)&&(0,q.convertToNumber)(re[ve])===Re)return ve;return-1}includes(Re,...ye){ue(this);const re=de(this),Ze=(0,ne.TypedArrayPrototypeGetLength)(re);let Ge=(0,ce.ToIntegerOrInfinity)(ye[0]);if(Ge===1/0)return!1;Ge<0&&(Ge+=Ze,Ge<0&&(Ge=0));const ve=(0,ne.NumberIsNaN)(Re);for(let Te=Ge;Te<Ze;++Te){const xe=(0,q.convertToNumber)(re[Te]);if(ve&&(0,ne.NumberIsNaN)(xe)||xe===Re)return!0}return!1}join(Re){ue(this);const ye=de(this),re=be(ye);return(0,ne.ArrayPrototypeJoin)(re,Re)}toLocaleString(...Re){ue(this);const ye=de(this),re=be(ye);return(0,ne.ArrayPrototypeToLocaleString)(re,...(0,Q.safeIfNeeded)(Re))}get[ne.SymbolToStringTag](){if(pe(this))return"Float16Array"}}Y.Float16Array=Xe,(0,ne.ObjectDefineProperty)(Xe,"BYTES_PER_ELEMENT",{value:le}),(0,ne.ObjectDefineProperty)(Xe,ee.brand,{}),(0,ne.ReflectSetPrototypeOf)(Xe,ne.TypedArray);const We=Xe.prototype;(0,ne.ObjectDefineProperty)(We,"BYTES_PER_ELEMENT",{value:le}),(0,ne.ObjectDefineProperty)(We,ne.SymbolIterator,{value:We.values,writable:!0,configurable:!0}),(0,ne.ReflectSetPrototypeOf)(We,ne.TypedArrayPrototype)},802:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.safeIfNeeded=te,Y.wrap=ce;var Q=D(983);const ee=new Q.NativeWeakMap,q=(0,Q.ObjectCreate)(null,{next:{value:function(){const se=(0,Q.WeakMapPrototypeGet)(ee,this);return(0,Q.ArrayIteratorPrototypeNext)(se)}},[Q.SymbolIterator]:{value:function(){return this}}});function te(le){if(le[Q.SymbolIterator]===Q.NativeArrayPrototypeSymbolIterator)return le;const se=(0,Q.ObjectCreate)(q);return(0,Q.WeakMapPrototypeSet)(ee,se,(0,Q.ArrayPrototypeSymbolIterator)(le)),se}const ie=new Q.NativeWeakMap,ne=(0,Q.ObjectCreate)(Q.IteratorPrototype,{next:{value:function(){const se=(0,Q.WeakMapPrototypeGet)(ie,this);return(0,Q.GeneratorPrototypeNext)(se)},writable:!0,configurable:!0}});for(const le of(0,Q.ReflectOwnKeys)(Q.ArrayIteratorPrototype))le!=="next"&&(0,Q.ObjectDefineProperty)(ne,le,(0,Q.ReflectGetOwnPropertyDescriptor)(Q.ArrayIteratorPrototype,le));function ce(le){const se=(0,Q.ObjectCreate)(ne);return(0,Q.WeakMapPrototypeSet)(ie,se,le),se}},299:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.hasFloat16ArrayBrand=ie;var Q=D(554),ee=D(930),q=D(983);const te=(0,q.SymbolFor)("__Float16Array__");Y.brand=te;function ie(ne){if(!(0,Q.isObjectLike)(ne))return!1;const ce=(0,q.ReflectGetPrototypeOf)(ne);if(!(0,Q.isObjectLike)(ce))return!1;const le=ce.constructor;if(le===void 0)return!1;if(!(0,Q.isObject)(le))throw(0,q.NativeTypeError)(ee.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,q.ReflectHas)(le,te)}},605:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertToNumber=ue,Y.roundToFloat16Bits=ce;var Q=D(983);const ee=new Q.NativeArrayBuffer(4),q=new Q.NativeFloat32Array(ee),te=new Q.NativeUint32Array(ee),ie=new Q.NativeUint32Array(512),ne=new Q.NativeUint32Array(512);for(let ae=0;ae<256;++ae){const de=ae-127;de<-27?(ie[ae]=0,ie[ae|256]=32768,ne[ae]=24,ne[ae|256]=24):de<-14?(ie[ae]=1024>>-de-14,ie[ae|256]=1024>>-de-14|32768,ne[ae]=-de-1,ne[ae|256]=-de-1):de<=15?(ie[ae]=de+15<<10,ie[ae|256]=de+15<<10|32768,ne[ae]=13,ne[ae|256]=13):de<128?(ie[ae]=31744,ie[ae|256]=64512,ne[ae]=24,ne[ae|256]=24):(ie[ae]=31744,ie[ae|256]=64512,ne[ae]=13,ne[ae|256]=13)}function ce(ae){q[0]=ae;const de=te[0],be=de>>23&511;return ie[be]+((de&8388607)>>ne[be])}const le=new Q.NativeUint32Array(2048),se=new Q.NativeUint32Array(64),pe=new Q.NativeUint32Array(64);for(let ae=1;ae<1024;++ae){let de=ae<<13,be=0;for(;!(de&8388608);)de<<=1,be-=8388608;de&=-8388609,be+=947912704,le[ae]=de|be}for(let ae=1024;ae<2048;++ae)le[ae]=939524096+(ae-1024<<13);for(let ae=1;ae<31;++ae)se[ae]=ae<<23;se[31]=1199570944,se[32]=2147483648;for(let ae=33;ae<63;++ae)se[ae]=2147483648+(ae-32<<23);se[63]=3347054592;for(let ae=1;ae<64;++ae)ae!==32&&(pe[ae]=1024);function ue(ae){const de=ae>>10;return te[0]=le[pe[de]+(ae&1023)]+se[de],q[0]}},554:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.isArrayBuffer=ne,Y.isCanonicalIntegerIndexString=pe,Y.isNativeBigIntTypedArray=ie,Y.isNativeTypedArray=te,Y.isObject=ee,Y.isObjectLike=q,Y.isOrdinaryArray=le,Y.isOrdinaryNativeTypedArray=se,Y.isSharedArrayBuffer=ce;var Q=D(983);function ee(ue){return ue!==null&&typeof ue=="object"||typeof ue=="function"}function q(ue){return ue!==null&&typeof ue=="object"}function te(ue){return(0,Q.TypedArrayPrototypeGetSymbolToStringTag)(ue)!==void 0}function ie(ue){const ae=(0,Q.TypedArrayPrototypeGetSymbolToStringTag)(ue);return ae==="BigInt64Array"||ae==="BigUint64Array"}function ne(ue){try{return(0,Q.ArrayBufferPrototypeGetByteLength)(ue),!0}catch{return!1}}function ce(ue){if(Q.NativeSharedArrayBuffer===null)return!1;try{return(0,Q.SharedArrayBufferPrototypeGetByteLength)(ue),!0}catch{return!1}}function le(ue){return(0,Q.ArrayIsArray)(ue)?ue[Q.SymbolIterator]===Q.NativeArrayPrototypeSymbolIterator?!0:ue[Q.SymbolIterator]()[Q.SymbolToStringTag]==="Array Iterator":!1}function se(ue){return te(ue)?ue[Q.SymbolIterator]===Q.NativeTypedArrayPrototypeSymbolIterator?!0:ue[Q.SymbolIterator]()[Q.SymbolToStringTag]==="Array Iterator":!1}function pe(ue){if(typeof ue!="string")return!1;const ae=+ue;return ue!==ae+""||!(0,Q.NumberIsFinite)(ae)?!1:ae===(0,Q.MathTrunc)(ae)}},930:(J,Y)=>{Object.defineProperty(Y,"__esModule",{value:!0});const D="This is not an object";Y.THIS_IS_NOT_AN_OBJECT=D;const Q="This is not a Float16Array object";Y.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=Q;const ee="This constructor is not a subclass of Float16Array";Y.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=ee;const q="The constructor property value is not an object";Y.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=q;const te="Species constructor didn't return TypedArray object";Y.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=te;const ie="Derived constructor created TypedArray object which was too small length";Y.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=ie;const ne="Attempting to access detached ArrayBuffer";Y.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=ne;const ce="Cannot convert undefined or null to object";Y.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=ce;const le="Cannot mix BigInt and other types, use explicit conversions";Y.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=le;const se="@@iterator property is not callable";Y.ITERATOR_PROPERTY_IS_NOT_CALLABLE=se;const pe="Reduce of empty array with no initial value";Y.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=pe;const ue="Offset is out of bounds";Y.OFFSET_IS_OUT_OF_BOUNDS=ue},983:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0});var Q=D(930);function ee(dn){return(pn,...$t)=>te(dn,pn,$t)}function q(dn,pn){return ee(le(dn,pn).get)}const{apply:te,construct:ie,defineProperty:ne,get:ce,getOwnPropertyDescriptor:le,getPrototypeOf:se,has:pe,ownKeys:ue,set:ae,setPrototypeOf:de}=Reflect;Y.ReflectSetPrototypeOf=de,Y.ReflectSet=ae,Y.ReflectOwnKeys=ue,Y.ReflectHas=pe,Y.ReflectGetPrototypeOf=se,Y.ReflectGetOwnPropertyDescriptor=le,Y.ReflectGet=ce,Y.ReflectDefineProperty=ne,Y.ReflectConstruct=ie,Y.ReflectApply=te;const be=Proxy;Y.NativeProxy=be;const{MAX_SAFE_INTEGER:he,isFinite:Le,isNaN:Xe}=Number;Y.NumberIsNaN=Xe,Y.NumberIsFinite=Le,Y.MAX_SAFE_INTEGER=he;const{iterator:We,species:fe,toStringTag:Re,for:ye}=Symbol;Y.SymbolFor=ye,Y.SymbolToStringTag=Re,Y.SymbolSpecies=fe,Y.SymbolIterator=We;const re=Object;Y.NativeObject=re;const{create:Ze,defineProperty:Ge,freeze:ve,is:Te}=re;Y.ObjectIs=Te,Y.ObjectFreeze=ve,Y.ObjectDefineProperty=Ge,Y.ObjectCreate=Ze;const xe=re.prototype,Ie=xe.__lookupGetter__?ee(xe.__lookupGetter__):(dn,pn)=>{if(dn==null)throw Mt(Q.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let $t=re(dn);do{const wn=le($t,pn);if(wn!==void 0)return Se(wn,"get")?wn.get:void 0}while(($t=se($t))!==null)};Y.ObjectPrototype__lookupGetter__=Ie;const Se=re.hasOwn||ee(xe.hasOwnProperty);Y.ObjectHasOwn=Se;const Ne=Array,je=Ne.isArray;Y.ArrayIsArray=je;const tt=Ne.prototype,it=ee(tt.join);Y.ArrayPrototypeJoin=it;const st=ee(tt.push);Y.ArrayPrototypePush=st;const qe=ee(tt.toLocaleString);Y.ArrayPrototypeToLocaleString=qe;const ot=tt[We];Y.NativeArrayPrototypeSymbolIterator=ot;const ut=ee(ot);Y.ArrayPrototypeSymbolIterator=ut;const dt=Math.trunc;Y.MathTrunc=dt;const mt=ArrayBuffer;Y.NativeArrayBuffer=mt;const Je=mt.isView;Y.ArrayBufferIsView=Je;const Me=mt.prototype,ke=ee(Me.slice);Y.ArrayBufferPrototypeSlice=ke;const Ye=q(Me,"byteLength");Y.ArrayBufferPrototypeGetByteLength=Ye;const Ce=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;Y.NativeSharedArrayBuffer=Ce;const ze=Ce&&q(Ce.prototype,"byteLength");Y.SharedArrayBufferPrototypeGetByteLength=ze;const Ee=se(Uint8Array);Y.TypedArray=Ee;const _e=Ee.from,He=Ee.prototype;Y.TypedArrayPrototype=He;const Pe=He[We];Y.NativeTypedArrayPrototypeSymbolIterator=Pe;const $e=ee(He.keys);Y.TypedArrayPrototypeKeys=$e;const we=ee(He.values);Y.TypedArrayPrototypeValues=we;const Ue=ee(He.entries);Y.TypedArrayPrototypeEntries=Ue;const et=ee(He.set);Y.TypedArrayPrototypeSet=et;const at=ee(He.reverse);Y.TypedArrayPrototypeReverse=at;const Ve=ee(He.fill);Y.TypedArrayPrototypeFill=Ve;const oe=ee(He.copyWithin);Y.TypedArrayPrototypeCopyWithin=oe;const me=ee(He.sort);Y.TypedArrayPrototypeSort=me;const ge=ee(He.slice);Y.TypedArrayPrototypeSlice=ge;const Fe=ee(He.subarray);Y.TypedArrayPrototypeSubarray=Fe;const Ke=q(He,"buffer");Y.TypedArrayPrototypeGetBuffer=Ke;const Ae=q(He,"byteOffset");Y.TypedArrayPrototypeGetByteOffset=Ae;const rt=q(He,"length");Y.TypedArrayPrototypeGetLength=rt;const vt=q(He,Re);Y.TypedArrayPrototypeGetSymbolToStringTag=vt;const Vt=Uint16Array;Y.NativeUint16Array=Vt;const Wt=(...dn)=>te(_e,Vt,dn);Y.Uint16ArrayFrom=Wt;const ft=Uint32Array;Y.NativeUint32Array=ft;const Rt=Float32Array;Y.NativeFloat32Array=Rt;const It=se([][We]());Y.ArrayIteratorPrototype=It;const ct=ee(It.next);Y.ArrayIteratorPrototypeNext=ct;const xt=ee(function*(){}().next);Y.GeneratorPrototypeNext=xt;const Qe=se(It);Y.IteratorPrototype=Qe;const nt=DataView.prototype,Xt=ee(nt.getUint16);Y.DataViewPrototypeGetUint16=Xt;const St=ee(nt.setUint16);Y.DataViewPrototypeSetUint16=St;const Mt=TypeError;Y.NativeTypeError=Mt;const jt=RangeError;Y.NativeRangeError=jt;const sn=WeakSet;Y.NativeWeakSet=sn;const Ht=sn.prototype,an=ee(Ht.add);Y.WeakSetPrototypeAdd=an;const Ot=ee(Ht.has);Y.WeakSetPrototypeHas=Ot;const vn=WeakMap;Y.NativeWeakMap=vn;const tn=vn.prototype,Qt=ee(tn.get);Y.WeakMapPrototypeGet=Qt;const En=ee(tn.has);Y.WeakMapPrototypeHas=En;const Sn=ee(tn.set);Y.WeakMapPrototypeSet=Sn},700:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.IsDetachedBuffer=ce,Y.SpeciesConstructor=ne,Y.ToIntegerOrInfinity=te,Y.ToLength=ie,Y.defaultCompare=le;var Q=D(554),ee=D(930),q=D(983);function te(se){const pe=+se;return(0,q.NumberIsNaN)(pe)||pe===0?0:(0,q.MathTrunc)(pe)}function ie(se){const pe=te(se);return pe<0?0:pe<q.MAX_SAFE_INTEGER?pe:q.MAX_SAFE_INTEGER}function ne(se,pe){if(!(0,Q.isObject)(se))throw(0,q.NativeTypeError)(ee.THIS_IS_NOT_AN_OBJECT);const ue=se.constructor;if(ue===void 0)return pe;if(!(0,Q.isObject)(ue))throw(0,q.NativeTypeError)(ee.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const ae=ue[q.SymbolSpecies];return ae??pe}function ce(se){if((0,Q.isSharedArrayBuffer)(se))return!1;try{return(0,q.ArrayBufferPrototypeSlice)(se,0,0),!1}catch{}return!0}function le(se,pe){const ue=(0,q.NumberIsNaN)(se),ae=(0,q.NumberIsNaN)(pe);if(ue&&ae)return 0;if(ue)return 1;if(ae||se<pe)return-1;if(se>pe)return 1;if(se===0&&pe===0){const de=(0,q.ObjectIs)(se,0),be=(0,q.ObjectIs)(pe,0);if(!de&&be)return-1;if(de&&!be)return 1}return 0}},216:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.hfround=q;var Q=D(605),ee=D(983);function q(te){const ie=+te;if(!(0,ee.NumberIsFinite)(ie)||ie===0)return ie;const ne=(0,Q.roundToFloat16Bits)(ie);return(0,Q.convertToNumber)(ne)}},650:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0});var Q=D(310);Y.Float16Array=Q.Float16Array,Y.isFloat16Array=Q.isFloat16Array;var ee=D(146);Y.isTypedArray=ee.isTypedArray;var q=D(557);Y.getFloat16=q.getFloat16,Y.setFloat16=q.setFloat16;var te=D(216);Y.hfround=te.hfround},146:(J,Y,D)=>{Object.defineProperty(Y,"__esModule",{value:!0}),Y.isTypedArray=q;var Q=D(310),ee=D(554);function q(te){return(0,ee.isNativeTypedArray)(te)||(0,Q.isFloat16Array)(te)}}},W={};function F(J){var Y=W[J];if(Y!==void 0)return Y.exports;var D=W[J]={exports:{}};return G[J].call(D.exports,D,D.exports,F),D.exports}F.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var U=F(607);return U})())})(gpuIo);const hasEnoughFramebufferAttachments=moize(X=>{const{gl:Z}=getCanvasAndGLContext(X);return Z.getParameter(Z.MAX_COLOR_ATTACHMENTS)>=8}),getLayers=(X,Z,{type:G=gpuIoExports.HALF_FLOAT,numComponents:W=1,dimensions:F=32}={})=>{const U=getGPUComposer(X);console.log(Z,"making layers",U.gl);const J=new gpuIoExports.GPULayer(U,{name:`current_${Z}`,type:G,dimensions:F,numComponents:W,numBuffers:2}),Y=new gpuIoExports.GPULayer(U,{name:`target_${Z}`,type:G,dimensions:F,numComponents:W,numBuffers:1}),D=new Texture;Y.attachToThreeTexture(D);const Q=new gpuIoExports.GPULayer(U,{name:`view_${Z}`,type:G,dimensions:F,numComponents:W,numBuffers:1}),ee=new Texture;return Q.attachToThreeTexture(ee),{current:J,target:Y,view:Q,viewTexture:ee,targetTexture:D}},getPositionLayers=moize.infinite(X=>getLayers(X,"position",{numComponents:3})),getColorLayers=moize.infinite(X=>getLayers(X,"color",{numComponents:4})),getSizeLayers=moize.infinite(X=>getLayers(X,"size",{numComponents:1})),getEmphasisLayers=moize.infinite(X=>getLayers(X,"emphasis",{numComponents:1})),setAllLayerSizes=(X,Z)=>{console.log("setting layer sizes to",Z),[getPositionLayers(X),getColorLayers(X),getSizeLayers(X),getEmphasisLayers(X)].forEach(({current:W,target:F,view:U,viewTexture:J,targetTexture:Y})=>{W.resize(Z),F.resize(Z),F.attachToThreeTexture(Y),U.resize(Z),U.attachToThreeTexture(J)})},getInterpolationProgram=moize.infinite(X=>new gpuIoExports.GPUProgram(getGPUComposer(X),{name:"interpolation",fragmentShader:`
      in vec2 v_uv;

      // the current and target textures
      uniform sampler2D uTargetPositions;
      uniform sampler2D uCurrentPositions;
      uniform sampler2D uTargetColors;
      uniform sampler2D uCurrentColors;
      uniform sampler2D uTargetSizes;
      uniform sampler2D uCurrentSizes;
      uniform sampler2D uTargetEmphasis;
      uniform sampler2D uCurrentEmphasis;

      // the interpolation ratio
      uniform float uMixRatio;

      layout(location = 0) out vec3 outPositions;
      layout(location = 1) out vec3 viewPositions;
      layout(location = 2) out vec4 outColors;
      layout(location = 3) out vec4 viewColors;
      layout(location = 4) out float outSizes;
      layout(location = 5) out float viewSizes;
      layout(location = 6) out float outEmphasis;
      layout(location = 7) out float viewEmphasis;

      void main() {
        vec3 targetPosition = texture(uTargetPositions, v_uv).xyz;
        vec3 currentPosition = texture(uCurrentPositions, v_uv).xyz;
        outPositions = mix(currentPosition, targetPosition, uMixRatio);
        viewPositions = outPositions;

        vec4 targetColor = texture(uTargetColors, v_uv);
        vec4 currentColor = texture(uCurrentColors, v_uv);
        outColors = mix(currentColor, targetColor, uMixRatio);
        viewColors = outColors;

        float targetSize = texture(uTargetSizes, v_uv).r;
        float currentSize = texture(uCurrentSizes, v_uv).r;
        outSizes = mix(currentSize, targetSize, uMixRatio);
        viewSizes = outSizes;

        float targetEmphasis = texture(uTargetEmphasis, v_uv).r;
        float currentEmphasis = texture(uCurrentEmphasis, v_uv).r;
        outEmphasis = mix(currentEmphasis, targetEmphasis, uMixRatio);
        viewEmphasis = outEmphasis;
      }
    `,uniforms:[{name:"uTargetPositions",type:gpuIoExports.INT,value:0},{name:"uCurrentPositions",type:gpuIoExports.INT,value:1},{name:"uTargetColors",type:gpuIoExports.INT,value:2},{name:"uCurrentColors",type:gpuIoExports.INT,value:3},{name:"uTargetSizes",type:gpuIoExports.INT,value:4},{name:"uCurrentSizes",type:gpuIoExports.INT,value:5},{name:"uTargetEmphasis",type:gpuIoExports.INT,value:6},{name:"uCurrentEmphasis",type:gpuIoExports.INT,value:7},{name:"uMixRatio",type:gpuIoExports.FLOAT,value:.1}]}));var node_default$1=`precision highp float;
precision highp int;

in vec3 vertexPosition;
in vec3 vertexNormal;
in int index;

uniform cameras {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
  float distance;
  vec3 center;
  vec3 rotationCenter;
};

uniform int selectedIndex;
uniform vec4 selectedColor;
float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float defaultFogVisibility = 0.3;
float defaultFogBoundaryClipZ = 700.0;

uniform float globalScale;
uniform float nodeScale;
uniform float edgeScale;
uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeFog;
uniform float nodeFog;

float computeFog(float positionClipZ, float fogBoundaryClipZ) {
  float fogLevel = 1.0 - bump(positionClipZ, 1.0, fogBoundaryClipZ);
  fogLevel = mix(
    fogLevel, 
    0.0,
    smoothstep(400.0, 800.0, distance)
  );
  
  return fogLevel;
}

struct CameraMatrices {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
};

struct NodeGeometryBundle {
  vec3 globalNDC;
  vec4 globalClipPosition;
  vec4 orthoFixedClipPosition;
  vec4 orthoZoomedClipPosition;
  vec4 orthographicClipPosition;
};

NodeGeometryBundle nodeGeometry(
  in vec3 nodePosition,
  in vec3 vertexPosition,
  float scale,
  in CameraMatrices cam
) {
  vec4 globalClipPosition = cam.projection * cam.view * vec4(nodePosition, 1.0);
  vec3 globalNDC = globalClipPosition.xyz / globalClipPosition.w;

  vec4 orthoFixedClipPosition = cam.orthoFixedProjection * cam.orthoFixedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0);
  vec3 orthoFixedNDC = orthoFixedClipPosition.xyz / orthoFixedClipPosition.w;
  
  vec4 orthoZoomedClipPosition = cam.orthoZoomedProjection * cam.orthoZoomedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0)*0.5;
  vec3 orthoZoomedNDC = orthoZoomedClipPosition.xyz / orthoZoomedClipPosition.w;

  vec3 localNDC = mix(orthoZoomedNDC, orthoFixedNDC, 0.5);

  
  vec3 orthographicNDC = vec3(localNDC.xy + globalNDC.xy, globalNDC.z + (localNDC.z - 0.99)*0.1 );
  
  vec4 orthographicClipPosition = vec4(orthographicNDC * globalClipPosition.w, globalClipPosition.w);
  
  return NodeGeometryBundle(
    globalNDC,
    globalClipPosition,
    orthoFixedClipPosition,
    orthoZoomedClipPosition,
    orthographicClipPosition
  );
}

ivec2 getTextureIndex(int index, ivec2 textureDimensions) {
  int textureLength = textureDimensions.x * textureDimensions.y;
  

  
  int x = index % textureDimensions.x;
  int y = index / textureDimensions.x;

  return ivec2(x,y);
}

uniform vec2 mousePosition;

uniform sampler2D positionTexture;
uniform sampler2D colorTexture;
uniform sampler2D sizeTexture;
uniform sampler2D emphasisTexture;

uniform ivec2 textureDimensions;

#ifdef PICKER
  flat out vec4 color;
#else
  out vec4 color;
#endif

out vec3 position;
out vec3 normal;

vec3 desaturate(vec3 color, float amount) {
  float average = (color.r + color.g + color.b) / 3.0;
  return mix(color, vec3(average), amount);
}

void main() {
  int id = int(index);
  
  vec3 nodePosition = texelFetch(positionTexture, getTextureIndex(id, textureDimensions), 0).xyz;
  vec4 nodeColor = texelFetch(colorTexture, getTextureIndex(id, textureDimensions), 0);
  float nodeSize = texelFetch(sizeTexture, getTextureIndex(id, textureDimensions), 0).r;
  float nodeEmphasis = texelFetch(emphasisTexture, getTextureIndex(id, textureDimensions), 0).r;

  float scale = nodeSize;
  float isSelected = float(index == selectedIndex);
  scale *= mix(1.0, 1.1, isSelected);
  
  #ifdef PICKER
    scale = max(scale, 0.05);
  #endif

  NodeGeometryBundle geo = nodeGeometry(
    nodePosition,
    vertexPosition,
    scale,
    CameraMatrices(
      projection,
      view,
      orthoFixedProjection,
      orthoFixedView,
      orthoZoomedProjection,
      orthoZoomedView
    )
  );
  
  
  
  
  

  vec4 clipPosition = geo.orthographicClipPosition;
  
  #ifdef PICKER
    color = instanceIdToColor();
  #else
    color = mix(nodeColor, selectedColor*1.4, float(index == selectedIndex));

    
    vec3 selectedNodePosition = texelFetch(positionTexture, getTextureIndex(selectedIndex, textureDimensions), 0).xyz;

    float fogVisibility = 0.2;

    
    float selectedDistance = length(nodePosition - selectedNodePosition);
    float anythingSelected = float(selectedIndex > -1);
    
    
    float fog = min(computeFog(geo.globalClipPosition.z, defaultFogBoundaryClipZ), 1.0-isSelected);
    fog = min(fog, 1.0-nodeEmphasis);
    fog = mix(0.0, fog, nodeFog);
    color.rgb *= mix(1.0, 0.5, fog);
    color.rgb = desaturate(color.rgb, (1.0-fogVisibility)*fog);
    
    
  #endif

  normal = mat3(orthoFixedView) * vertexNormal;
  gl_Position = clipPosition;
}`,node_default=`precision lowp float;
in vec4 color;
in vec3 normal;

in vec3 position;
out vec4 fragColor;

void main() {
    
    
    const vec3 lightDirection = normalize(vec3(0.0, 0.0, 1.0));
    float light = dot(normal, lightDirection);
    fragColor = vec4(color.xyz * light, color.a);

    
    
}`,node_picker_default$1=`precision highp float;

vec4 instanceIdToColor() {
    int instanceId = gl_InstanceID + 1;
    float r = float(instanceId & 0x0000FF) / 255.0;
    float g = float((instanceId & 0x00FF00) >> 8) / 255.0;
    float b = float((instanceId & 0xFF0000) >> 16) / 255.0;

    return vec4(r, g, b, 1.0);
}

#define PICKER
in vec3 vertexPosition;
in vec3 vertexNormal;
in int index;

uniform cameras {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
  float distance;
  vec3 center;
  vec3 rotationCenter;
};

uniform int selectedIndex;
uniform vec4 selectedColor;
float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float defaultFogVisibility = 0.3;
float defaultFogBoundaryClipZ = 700.0;

uniform float globalScale;
uniform float nodeScale;
uniform float edgeScale;
uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeFog;
uniform float nodeFog;

float computeFog(float positionClipZ, float fogBoundaryClipZ) {
  float fogLevel = 1.0 - bump(positionClipZ, 1.0, fogBoundaryClipZ);
  fogLevel = mix(
    fogLevel, 
    0.0,
    smoothstep(400.0, 800.0, distance)
  );
  
  return fogLevel;
}

struct CameraMatrices {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
};

struct NodeGeometryBundle {
  vec3 globalNDC;
  vec4 globalClipPosition;
  vec4 orthoFixedClipPosition;
  vec4 orthoZoomedClipPosition;
  vec4 orthographicClipPosition;
};

NodeGeometryBundle nodeGeometry(
  in vec3 nodePosition,
  in vec3 vertexPosition,
  float scale,
  in CameraMatrices cam
) {
  vec4 globalClipPosition = cam.projection * cam.view * vec4(nodePosition, 1.0);
  vec3 globalNDC = globalClipPosition.xyz / globalClipPosition.w;

  vec4 orthoFixedClipPosition = cam.orthoFixedProjection * cam.orthoFixedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0);
  vec3 orthoFixedNDC = orthoFixedClipPosition.xyz / orthoFixedClipPosition.w;
  
  vec4 orthoZoomedClipPosition = cam.orthoZoomedProjection * cam.orthoZoomedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0)*0.5;
  vec3 orthoZoomedNDC = orthoZoomedClipPosition.xyz / orthoZoomedClipPosition.w;

  vec3 localNDC = mix(orthoZoomedNDC, orthoFixedNDC, 0.5);

  
  vec3 orthographicNDC = vec3(localNDC.xy + globalNDC.xy, globalNDC.z + (localNDC.z - 0.99)*0.1 );
  
  vec4 orthographicClipPosition = vec4(orthographicNDC * globalClipPosition.w, globalClipPosition.w);
  
  return NodeGeometryBundle(
    globalNDC,
    globalClipPosition,
    orthoFixedClipPosition,
    orthoZoomedClipPosition,
    orthographicClipPosition
  );
}

ivec2 getTextureIndex(int index, ivec2 textureDimensions) {
  int textureLength = textureDimensions.x * textureDimensions.y;
  

  
  int x = index % textureDimensions.x;
  int y = index / textureDimensions.x;

  return ivec2(x,y);
}

uniform vec2 mousePosition;

uniform sampler2D positionTexture;
uniform sampler2D colorTexture;
uniform sampler2D sizeTexture;
uniform sampler2D emphasisTexture;

uniform ivec2 textureDimensions;

#ifdef PICKER
  flat out vec4 color;
#else
  out vec4 color;
#endif

out vec3 position;
out vec3 normal;

vec3 desaturate(vec3 color, float amount) {
  float average = (color.r + color.g + color.b) / 3.0;
  return mix(color, vec3(average), amount);
}

void main() {
  int id = int(index);
  
  vec3 nodePosition = texelFetch(positionTexture, getTextureIndex(id, textureDimensions), 0).xyz;
  vec4 nodeColor = texelFetch(colorTexture, getTextureIndex(id, textureDimensions), 0);
  float nodeSize = texelFetch(sizeTexture, getTextureIndex(id, textureDimensions), 0).r;
  float nodeEmphasis = texelFetch(emphasisTexture, getTextureIndex(id, textureDimensions), 0).r;

  float scale = nodeSize;
  float isSelected = float(index == selectedIndex);
  scale *= mix(1.0, 1.1, isSelected);
  
  #ifdef PICKER
    scale = max(scale, 0.05);
  #endif

  NodeGeometryBundle geo = nodeGeometry(
    nodePosition,
    vertexPosition,
    scale,
    CameraMatrices(
      projection,
      view,
      orthoFixedProjection,
      orthoFixedView,
      orthoZoomedProjection,
      orthoZoomedView
    )
  );
  
  
  
  
  

  vec4 clipPosition = geo.orthographicClipPosition;
  
  #ifdef PICKER
    color = instanceIdToColor();
  #else
    color = mix(nodeColor, selectedColor*1.4, float(index == selectedIndex));

    
    vec3 selectedNodePosition = texelFetch(positionTexture, getTextureIndex(selectedIndex, textureDimensions), 0).xyz;

    float fogVisibility = 0.2;

    
    float selectedDistance = length(nodePosition - selectedNodePosition);
    float anythingSelected = float(selectedIndex > -1);
    
    
    float fog = min(computeFog(geo.globalClipPosition.z, defaultFogBoundaryClipZ), 1.0-isSelected);
    fog = min(fog, 1.0-nodeEmphasis);
    fog = mix(0.0, fog, nodeFog);
    color.rgb *= mix(1.0, 0.5, fog);
    color.rgb = desaturate(color.rgb, (1.0-fogVisibility)*fog);
    
    
  #endif

  normal = mat3(orthoFixedView) * vertexNormal;
  gl_Position = clipPosition;
}`,node_picker_default=`precision highp float;

flat in vec4 color;
out vec4 fragColor;

void main() {
    fragColor = color;
}`,edge_default$1=`precision highp float;
precision highp int;

in vec3 segmentOffset;
in ivec2 edgeIndices;

out vec4 color;
out vec4 position;
out float size;
flat out vec2 edgeDirection;
flat out float edgeLength;
flat out float edgeLength2D;
flat out float isAnySelected;
flat out vec2 sourcePosition2D;
flat out vec2 targetPosition2D;
flat out float sourceSize;
flat out float targetSize;
out float isSource;
out float isTarget;
out float emphasis;
out float selected;
out float hovering;
out float v;
out float y;
out float fog;

out float offsetRadius2D;

uniform vec2 mousePosition;

uniform cameras {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
  float distance;
  vec3 center;
  vec3 rotationCenter;
};

uniform int selectedIndex;
uniform vec4 selectedColor;
float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float defaultFogVisibility = 0.3;
float defaultFogBoundaryClipZ = 700.0;

uniform float globalScale;
uniform float nodeScale;
uniform float edgeScale;
uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeFog;
uniform float nodeFog;

float computeFog(float positionClipZ, float fogBoundaryClipZ) {
  float fogLevel = 1.0 - bump(positionClipZ, 1.0, fogBoundaryClipZ);
  fogLevel = mix(
    fogLevel, 
    0.0,
    smoothstep(400.0, 800.0, distance)
  );
  
  return fogLevel;
}

struct CameraMatrices {
  mat4 projection;
  mat4 view;
  mat4 orthoFixedProjection;
  mat4 orthoFixedView;
  mat4 orthoZoomedProjection;
  mat4 orthoZoomedView;
};

struct NodeGeometryBundle {
  vec3 globalNDC;
  vec4 globalClipPosition;
  vec4 orthoFixedClipPosition;
  vec4 orthoZoomedClipPosition;
  vec4 orthographicClipPosition;
};

NodeGeometryBundle nodeGeometry(
  in vec3 nodePosition,
  in vec3 vertexPosition,
  float scale,
  in CameraMatrices cam
) {
  vec4 globalClipPosition = cam.projection * cam.view * vec4(nodePosition, 1.0);
  vec3 globalNDC = globalClipPosition.xyz / globalClipPosition.w;

  vec4 orthoFixedClipPosition = cam.orthoFixedProjection * cam.orthoFixedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0);
  vec3 orthoFixedNDC = orthoFixedClipPosition.xyz / orthoFixedClipPosition.w;
  
  vec4 orthoZoomedClipPosition = cam.orthoZoomedProjection * cam.orthoZoomedView * vec4(vertexPosition*scale*globalScale*nodeScale, 1.0)*0.5;
  vec3 orthoZoomedNDC = orthoZoomedClipPosition.xyz / orthoZoomedClipPosition.w;

  vec3 localNDC = mix(orthoZoomedNDC, orthoFixedNDC, 0.5);

  
  vec3 orthographicNDC = vec3(localNDC.xy + globalNDC.xy, globalNDC.z + (localNDC.z - 0.99)*0.1 );
  
  vec4 orthographicClipPosition = vec4(orthographicNDC * globalClipPosition.w, globalClipPosition.w);
  
  return NodeGeometryBundle(
    globalNDC,
    globalClipPosition,
    orthoFixedClipPosition,
    orthoZoomedClipPosition,
    orthographicClipPosition
  );
}

ivec2 getTextureIndex(int index, ivec2 textureDimensions) {
  int textureLength = textureDimensions.x * textureDimensions.y;
  

  
  int x = index % textureDimensions.x;
  int y = index / textureDimensions.x;

  return ivec2(x,y);
}

uniform sampler2D positionTexture;
uniform sampler2D colorTexture;
uniform sampler2D sizeTexture;
uniform sampler2D emphasisTexture;
uniform ivec2 textureDimensions;

uniform vec2 viewport;

uniform int hoveringIndex;
uniform float edgeOvershoot;

vec4 edgeGeometry(
    in vec3 nodePosition,
    in vec3 vertexPosition,
    in vec2 edgeDirection,
    float scale,
    float flatness,
    in CameraMatrices cam
) {
    vec2 normalizedEdgeDirection = normalize(edgeDirection);
    vec2 edgePerpendicular = vec2(-normalizedEdgeDirection.y, normalizedEdgeDirection.x) * scale * globalScale * edgeScale / 3.0;
    vec4 position = cam.projection * cam.view * vec4(nodePosition, 1.0);
    vec4 positionNDC = position / position.w;

    vec4 positionClip = vec4(position.xy + vertexPosition.y * 1.0 * edgePerpendicular, position.zw);

    vec4 positionFixedStrokeNDC = positionNDC + vec4(vertexPosition.y * edgePerpendicular, 0.0, 0.0);
    vec4 positionFixedStrokeClip = positionFixedStrokeNDC * position.w;

    return mix(positionClip, positionFixedStrokeClip, flatness);
}

vec3 desaturate(vec3 color, float amount) {
  float average = (color.r + color.g + color.b) / 3.0;
  return mix(color, vec3(average), amount);
}

void main() {
    selected = float(selectedIndex == edgeIndices.x || selectedIndex == edgeIndices.y);
    hovering = float(hoveringIndex == edgeIndices.x || hoveringIndex == edgeIndices.y);
    isAnySelected = float(selectedIndex > -1);

    vec3 offset = segmentOffset;
    offset.y *= edgeOvershoot;

    vec3 segmentPosition = offset.yxz + vec3(0.5 * edgeOvershoot, 0.0, 0.0);

    

    isSource = segmentPosition.x;
    isTarget = 1.0 - segmentPosition.x;

    float sourceEmphasis = texelFetch(emphasisTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0).r;
    float targetEmphasis = texelFetch(emphasisTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0).r;

    emphasis = max(sourceEmphasis, targetEmphasis);

    position = vec4(0);
    vec3 vertexOffset = segmentPosition + vec3(0.0, 0, 0.0);

    vec3 sourceNodePosition = texelFetch(positionTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0).xyz;
    vec3 targetNodePosition = texelFetch(positionTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0).xyz;

    vec3 nodePosition = sourceNodePosition * isSource + targetNodePosition * isTarget;

    
    

    
    

    vec4 sourcePositionClip = projection * view * vec4(sourceNodePosition, 1.0);
    vec4 targetPositionClip = projection * view * vec4(targetNodePosition, 1.0);

    vec2 sourcePosition2DNDC = sourcePositionClip.xy / sourcePositionClip.w;
    vec2 targetPosition2DNDC = targetPositionClip.xy / targetPositionClip.w;

    
    sourcePosition2D = (sourcePosition2DNDC + 1.0) * 0.5 * viewport;
    targetPosition2D = (targetPosition2DNDC + 1.0) * 0.5 * viewport;
    edgeLength2D = length(targetPosition2D - sourcePosition2D);

    edgeDirection = normalize(targetPositionClip.xyz / targetPositionClip.w - sourcePositionClip.xyz / sourcePositionClip.w).xy;
    edgeLength = length(targetNodePosition.xyz - sourceNodePosition.xyz);

    sourceSize = texelFetch(sizeTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0).r;
    targetSize = texelFetch(sizeTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0).r;

    size = sourceSize * isSource + targetSize * isTarget;

    
    
    size *= 0.4;

    position = edgeGeometry(
            nodePosition,
            vertexOffset,
            edgeDirection,
            size,
            1.0,
            
            CameraMatrices(
                projection,
                
                view,
                orthoFixedProjection,
                
                orthoFixedView,
                orthoZoomedProjection,
                orthoZoomedView
            )
        );

    
    vec4 sourceColor = texelFetch(colorTexture, getTextureIndex(edgeIndices.x, textureDimensions), 0);
    sourceColor = mix(sourceColor, selectedColor, float(selectedIndex == edgeIndices.x));
    vec4 targetColor = texelFetch(colorTexture, getTextureIndex(edgeIndices.y, textureDimensions), 0);
    targetColor = mix(targetColor, selectedColor, float(selectedIndex == edgeIndices.y));
    color += sourceColor * isSource;
    color += targetColor * isTarget;

    
    color.rgb = desaturate(color.rgb, mix(1.0, 0.2, emphasis));
    color.a *= mix(0.2, 1.0, mix(1.0, emphasis, isAnySelected));
    color.a *= mix(0.4, 1.0, mix(1.0, selected, isAnySelected));

    
    color.a *= mix(1.0, mix(0.3, 1.0, selected), smoothstep(400.0, 1200.0, distance));

    fog = computeFog(position.z, defaultFogBoundaryClipZ / 2.0);
    fog = min(fog, 1.0 - selected);
    fog = min(fog, 1.0 - emphasis);
    fog = mix(0.0, fog, edgeFog);
    color.a *= mix(1.0, 0.1, fog);

    

    gl_Position = position;
    y = vertexOffset.y;
    v = segmentPosition.y;

    

    
    
    
    
    

    
    
    
    
}`,edge_default=`precision highp float;

in float selected;
in float isTarget;

in float fog;
in vec4 color;

in float emphasis;
in float size;
in float offsetRadius2D;

flat in float edgeLength;
flat in float edgeLength2D;
flat in vec2 sourcePosition2D;
flat in vec2 targetPosition2D;
in float y;
in float v;

flat in float sourceSize;
flat in float targetSize;

out vec4 fragColor;

const float PI = 3.1415926535897932384626433832795;
const float freq = 1.0;

uniform float edgeFrequency;
uniform float edgePulseSpeed;
uniform float edgeWaveSpeed;
uniform float edgeOvershoot;

uniform float time;
uniform float devicePixelRatio;
uniform sampler2D nodeDepthTexture;

float bump(float x, float q, float w) {
  float clamped_x = clamp(x/w, -0.5, 0.5);
  float y = pow(exp(1.0 - 1.0 / (1.0 - pow(2.0*clamped_x, 2.0))), q);
  return y;
}

float wave(float t, float freq) {
    return pow(sin(t * freq * PI), 2.0);
}
void main() {
    
    float u_2D = length(gl_FragCoord.xy / devicePixelRatio - sourcePosition2D) / edgeLength2D;
    fragColor = color;

    float u_3D = isTarget;

    
    fragColor.a *= mix(bump(v, 2.0 * (1.0 - fog), 1.0), 1.0, fog);

    
    float u_hybrid = mix(u_2D, u_3D, 0.5);
    float endBumpsMellow =
        clamp(bump(u_hybrid, 1.0, 0.5) +
                bump(1.0 - u_hybrid, 1.0, 0.5), 0.0, 1.0);

    float endBumpsFirm =
        clamp(bump(u_hybrid, 1.0, 0.1) +
                bump(1.0 - u_hybrid, 1.0, 0.1), 0.0, 1.0);

    
    float otherEndBumps =
        clamp(bump(u_3D, 1.0, offsetRadius2D / edgeLength) +
                bump(1.0 - u_3D, 1.0, offsetRadius2D / edgeLength), 0.0, 1.0);

    
    
    float frequency = edgeLength2D * 1.0 * edgeFrequency * sourceSize;
    float waveSpeed = 4.0 * edgeWaveSpeed / edgeLength2D;
    float waves = mix(
            1.0,
            wave(u_2D - time * waveSpeed, frequency),
            mix(0.5, 1.0, emphasis) 
        );

    
    float highFrequency = edgeLength / 4.0 * edgeFrequency;
    float pulseSpeed = 20.0 / edgeLength * edgePulseSpeed;
    float pulse = clamp(pow(wave(u_2D - time * pulseSpeed, 1.0), edgeLength2D / 5.0), 0.0, 1.0);

    

    
    fragColor.rgb = mix(fragColor.rgb, vec3(1.0, 1.0, 0.0), mix(0.0, pulse, 0.1));

    
    fragColor.a *= mix(1.0, waves, 1.0 - pulse);

    
    fragColor.a *= bump(
            v,
            1.0,
            (pulse * mix(0.2, 0.4, selected) * wave(u_3D, highFrequency)) + 0.6
        );

    
    

    
    fragColor.a *= mix(0.4, 1.0, selected);

    
    fragColor.a *= mix(1.0, 0.0, mix(endBumpsMellow, endBumpsFirm, pulse));

    
    fragColor.a *= bump(u_3D - 0.5, 2.0, edgeOvershoot);

    
    float nodeDepth = texelFetch(nodeDepthTexture, ivec2(gl_FragCoord.xy), 0).r;
    
    gl_FragDepth = max(gl_FragCoord.z, nodeDepth) - 0.0001;

    
    
    

    
    
    
}`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2;const i$2=window,s$2=i$2.trustedTypes,e$3=s$2?s$2.createPolicy("lit-html",{createHTML:X=>X}):void 0,o$2="$lit$",n$1=`lit$${(Math.random()+"").slice(9)}$`,l$2="?"+n$1,h$2=`<${l$2}>`,r$1=document,d$2=()=>r$1.createComment(""),u$1=X=>X===null||typeof X!="object"&&typeof X!="function",c$1=Array.isArray,v$2=X=>c$1(X)||typeof X?.[Symbol.iterator]=="function",a$1=`[ 	
\f\r]`,f$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_=/-->/g,m$2=/>/g,p$1=RegExp(`>|${a$1}(?:([^\\s"'>=/]+)(${a$1}*=${a$1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g$1=/'/g,$$1=/"/g,y$2=/^(?:script|style|textarea|title)$/i,w$1=X=>(Z,...G)=>({_$litType$:X,strings:Z,values:G}),x$2=w$1(1),T=Symbol.for("lit-noChange"),A=Symbol.for("lit-nothing"),E=new WeakMap,C=r$1.createTreeWalker(r$1,129,null,!1),P=(X,Z)=>{const G=X.length-1,W=[];let F,U=Z===2?"<svg>":"",J=f$1;for(let D=0;D<G;D++){const Q=X[D];let ee,q,te=-1,ie=0;for(;ie<Q.length&&(J.lastIndex=ie,q=J.exec(Q),q!==null);)ie=J.lastIndex,J===f$1?q[1]==="!--"?J=_:q[1]!==void 0?J=m$2:q[2]!==void 0?(y$2.test(q[2])&&(F=RegExp("</"+q[2],"g")),J=p$1):q[3]!==void 0&&(J=p$1):J===p$1?q[0]===">"?(J=F??f$1,te=-1):q[1]===void 0?te=-2:(te=J.lastIndex-q[2].length,ee=q[1],J=q[3]===void 0?p$1:q[3]==='"'?$$1:g$1):J===$$1||J===g$1?J=p$1:J===_||J===m$2?J=f$1:(J=p$1,F=void 0);const ne=J===p$1&&X[D+1].startsWith("/>")?" ":"";U+=J===f$1?Q+h$2:te>=0?(W.push(ee),Q.slice(0,te)+o$2+Q.slice(te)+n$1+ne):Q+n$1+(te===-2?(W.push(void 0),D):ne)}const Y=U+(X[G]||"<?>")+(Z===2?"</svg>":"");if(!Array.isArray(X)||!X.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e$3!==void 0?e$3.createHTML(Y):Y,W]};class V{constructor({strings:Z,_$litType$:G},W){let F;this.parts=[];let U=0,J=0;const Y=Z.length-1,D=this.parts,[Q,ee]=P(Z,G);if(this.el=V.createElement(Q,W),C.currentNode=this.el.content,G===2){const q=this.el.content,te=q.firstChild;te.remove(),q.append(...te.childNodes)}for(;(F=C.nextNode())!==null&&D.length<Y;){if(F.nodeType===1){if(F.hasAttributes()){const q=[];for(const te of F.getAttributeNames())if(te.endsWith(o$2)||te.startsWith(n$1)){const ie=ee[J++];if(q.push(te),ie!==void 0){const ne=F.getAttribute(ie.toLowerCase()+o$2).split(n$1),ce=/([.?@])?(.*)/.exec(ie);D.push({type:1,index:U,name:ce[2],strings:ne,ctor:ce[1]==="."?k$2:ce[1]==="?"?I$1:ce[1]==="@"?L$1:R})}else D.push({type:6,index:U})}for(const te of q)F.removeAttribute(te)}if(y$2.test(F.tagName)){const q=F.textContent.split(n$1),te=q.length-1;if(te>0){F.textContent=s$2?s$2.emptyScript:"";for(let ie=0;ie<te;ie++)F.append(q[ie],d$2()),C.nextNode(),D.push({type:2,index:++U});F.append(q[te],d$2())}}}else if(F.nodeType===8)if(F.data===l$2)D.push({type:2,index:U});else{let q=-1;for(;(q=F.data.indexOf(n$1,q+1))!==-1;)D.push({type:7,index:U}),q+=n$1.length-1}U++}}static createElement(Z,G){const W=r$1.createElement("template");return W.innerHTML=Z,W}}function N$1(X,Z,G=X,W){var F,U,J,Y;if(Z===T)return Z;let D=W!==void 0?(F=G._$Co)===null||F===void 0?void 0:F[W]:G._$Cl;const Q=u$1(Z)?void 0:Z._$litDirective$;return D?.constructor!==Q&&((U=D?._$AO)===null||U===void 0||U.call(D,!1),Q===void 0?D=void 0:(D=new Q(X),D._$AT(X,G,W)),W!==void 0?((J=(Y=G)._$Co)!==null&&J!==void 0?J:Y._$Co=[])[W]=D:G._$Cl=D),D!==void 0&&(Z=N$1(X,D._$AS(X,Z.values),D,W)),Z}let S$1=class{constructor(Z,G){this._$AV=[],this._$AN=void 0,this._$AD=Z,this._$AM=G}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Z){var G;const{el:{content:W},parts:F}=this._$AD,U=((G=Z?.creationScope)!==null&&G!==void 0?G:r$1).importNode(W,!0);C.currentNode=U;let J=C.nextNode(),Y=0,D=0,Q=F[0];for(;Q!==void 0;){if(Y===Q.index){let ee;Q.type===2?ee=new M$2(J,J.nextSibling,this,Z):Q.type===1?ee=new Q.ctor(J,Q.name,Q.strings,this,Z):Q.type===6&&(ee=new z(J,this,Z)),this._$AV.push(ee),Q=F[++D]}Y!==Q?.index&&(J=C.nextNode(),Y++)}return U}v(Z){let G=0;for(const W of this._$AV)W!==void 0&&(W.strings!==void 0?(W._$AI(Z,W,G),G+=W.strings.length-2):W._$AI(Z[G])),G++}},M$2=class Zl{constructor(Z,G,W,F){var U;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=Z,this._$AB=G,this._$AM=W,this.options=F,this._$Cp=(U=F?.isConnected)===null||U===void 0||U}get _$AU(){var Z,G;return(G=(Z=this._$AM)===null||Z===void 0?void 0:Z._$AU)!==null&&G!==void 0?G:this._$Cp}get parentNode(){let Z=this._$AA.parentNode;const G=this._$AM;return G!==void 0&&Z?.nodeType===11&&(Z=G.parentNode),Z}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Z,G=this){Z=N$1(this,Z,G),u$1(Z)?Z===A||Z==null||Z===""?(this._$AH!==A&&this._$AR(),this._$AH=A):Z!==this._$AH&&Z!==T&&this._(Z):Z._$litType$!==void 0?this.g(Z):Z.nodeType!==void 0?this.$(Z):v$2(Z)?this.T(Z):this._(Z)}k(Z){return this._$AA.parentNode.insertBefore(Z,this._$AB)}$(Z){this._$AH!==Z&&(this._$AR(),this._$AH=this.k(Z))}_(Z){this._$AH!==A&&u$1(this._$AH)?this._$AA.nextSibling.data=Z:this.$(r$1.createTextNode(Z)),this._$AH=Z}g(Z){var G;const{values:W,_$litType$:F}=Z,U=typeof F=="number"?this._$AC(Z):(F.el===void 0&&(F.el=V.createElement(F.h,this.options)),F);if(((G=this._$AH)===null||G===void 0?void 0:G._$AD)===U)this._$AH.v(W);else{const J=new S$1(U,this),Y=J.u(this.options);J.v(W),this.$(Y),this._$AH=J}}_$AC(Z){let G=E.get(Z.strings);return G===void 0&&E.set(Z.strings,G=new V(Z)),G}T(Z){c$1(this._$AH)||(this._$AH=[],this._$AR());const G=this._$AH;let W,F=0;for(const U of Z)F===G.length?G.push(W=new Zl(this.k(d$2()),this.k(d$2()),this,this.options)):W=G[F],W._$AI(U),F++;F<G.length&&(this._$AR(W&&W._$AB.nextSibling,F),G.length=F)}_$AR(Z=this._$AA.nextSibling,G){var W;for((W=this._$AP)===null||W===void 0||W.call(this,!1,!0,G);Z&&Z!==this._$AB;){const F=Z.nextSibling;Z.remove(),Z=F}}setConnected(Z){var G;this._$AM===void 0&&(this._$Cp=Z,(G=this._$AP)===null||G===void 0||G.call(this,Z))}};class R{constructor(Z,G,W,F,U){this.type=1,this._$AH=A,this._$AN=void 0,this.element=Z,this.name=G,this._$AM=F,this.options=U,W.length>2||W[0]!==""||W[1]!==""?(this._$AH=Array(W.length-1).fill(new String),this.strings=W):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(Z,G=this,W,F){const U=this.strings;let J=!1;if(U===void 0)Z=N$1(this,Z,G,0),J=!u$1(Z)||Z!==this._$AH&&Z!==T,J&&(this._$AH=Z);else{const Y=Z;let D,Q;for(Z=U[0],D=0;D<U.length-1;D++)Q=N$1(this,Y[W+D],G,D),Q===T&&(Q=this._$AH[D]),J||(J=!u$1(Q)||Q!==this._$AH[D]),Q===A?Z=A:Z!==A&&(Z+=(Q??"")+U[D+1]),this._$AH[D]=Q}J&&!F&&this.j(Z)}j(Z){Z===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Z??"")}}let k$2=class extends R{constructor(){super(...arguments),this.type=3}j(Z){this.element[this.name]=Z===A?void 0:Z}};const H$1=s$2?s$2.emptyScript:"";let I$1=class extends R{constructor(){super(...arguments),this.type=4}j(Z){Z&&Z!==A?this.element.setAttribute(this.name,H$1):this.element.removeAttribute(this.name)}},L$1=class extends R{constructor(Z,G,W,F,U){super(Z,G,W,F,U),this.type=5}_$AI(Z,G=this){var W;if((Z=(W=N$1(this,Z,G,0))!==null&&W!==void 0?W:A)===T)return;const F=this._$AH,U=Z===A&&F!==A||Z.capture!==F.capture||Z.once!==F.once||Z.passive!==F.passive,J=Z!==A&&(F===A||U);U&&this.element.removeEventListener(this.name,this,F),J&&this.element.addEventListener(this.name,this,Z),this._$AH=Z}handleEvent(Z){var G,W;typeof this._$AH=="function"?this._$AH.call((W=(G=this.options)===null||G===void 0?void 0:G.host)!==null&&W!==void 0?W:this.element,Z):this._$AH.handleEvent(Z)}};class z{constructor(Z,G,W){this.element=Z,this.type=6,this._$AN=void 0,this._$AM=G,this.options=W}get _$AU(){return this._$AM._$AU}_$AI(Z){N$1(this,Z)}}const j$1=i$2.litHtmlPolyfillSupport;j$1?.(V,M$2),((t$2=i$2.litHtmlVersions)!==null&&t$2!==void 0?t$2:i$2.litHtmlVersions=[]).push("2.7.1");const B=(X,Z,G)=>{var W,F;const U=(W=G?.renderBefore)!==null&&W!==void 0?W:Z;let J=U._$litPart$;if(J===void 0){const Y=(F=G?.renderBefore)!==null&&F!==void 0?F:null;U._$litPart$=J=new M$2(Z.insertBefore(d$2(),Y),Y,void 0,G??{})}return J._$AI(X),J};function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(X){_defaults=X}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=X=>escapeReplacements[X];function escape(X,Z){if(Z){if(escapeTest.test(X))return X.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(X))return X.replace(escapeReplaceNoEncode,getEscapeReplacement);return X}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(X){return X.replace(unescapeTest,(Z,G)=>(G=G.toLowerCase(),G==="colon"?":":G.charAt(0)==="#"?G.charAt(1)==="x"?String.fromCharCode(parseInt(G.substring(2),16)):String.fromCharCode(+G.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(X,Z){X=typeof X=="string"?X:X.source,Z=Z||"";const G={replace:(W,F)=>(F=typeof F=="object"&&"source"in F?F.source:F,F=F.replace(caret,"$1"),X=X.replace(W,F),G),getRegex:()=>new RegExp(X,Z)};return G}function cleanUrl(X){try{X=encodeURI(X).replace(/%25/g,"%")}catch{return null}return X}const noopTest={exec:()=>null};function splitCells(X,Z){const G=X.replace(/\|/g,(U,J,Y)=>{let D=!1,Q=J;for(;--Q>=0&&Y[Q]==="\\";)D=!D;return D?"|":" |"}),W=G.split(/ \|/);let F=0;if(W[0].trim()||W.shift(),W.length>0&&!W[W.length-1].trim()&&W.pop(),Z)if(W.length>Z)W.splice(Z);else for(;W.length<Z;)W.push("");for(;F<W.length;F++)W[F]=W[F].trim().replace(/\\\|/g,"|");return W}function rtrim(X,Z,G){const W=X.length;if(W===0)return"";let F=0;for(;F<W;){const U=X.charAt(W-F-1);if(U===Z&&!G)F++;else if(U!==Z&&G)F++;else break}return X.slice(0,W-F)}function findClosingBracket(X,Z){if(X.indexOf(Z[1])===-1)return-1;let G=0;for(let W=0;W<X.length;W++)if(X[W]==="\\")W++;else if(X[W]===Z[0])G++;else if(X[W]===Z[1]&&(G--,G<0))return W;return-1}function outputLink(X,Z,G,W){const F=Z.href,U=Z.title?escape(Z.title):null,J=X[1].replace(/\\([\[\]])/g,"$1");if(X[0].charAt(0)!=="!"){W.state.inLink=!0;const Y={type:"link",raw:G,href:F,title:U,text:J,tokens:W.inlineTokens(J)};return W.state.inLink=!1,Y}return{type:"image",raw:G,href:F,title:U,text:escape(J)}}function indentCodeCompensation(X,Z){const G=X.match(/^(\s+)(?:```)/);if(G===null)return Z;const W=G[1];return Z.split(`
`).map(F=>{const U=F.match(/^\s+/);if(U===null)return F;const[J]=U;return J.length>=W.length?F.slice(W.length):F}).join(`
`)}class _Tokenizer{options;rules;lexer;constructor(Z){this.options=Z||_defaults}space(Z){const G=this.rules.block.newline.exec(Z);if(G&&G[0].length>0)return{type:"space",raw:G[0]}}code(Z){const G=this.rules.block.code.exec(Z);if(G){const W=G[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:G[0],codeBlockStyle:"indented",text:this.options.pedantic?W:rtrim(W,`
`)}}}fences(Z){const G=this.rules.block.fences.exec(Z);if(G){const W=G[0],F=indentCodeCompensation(W,G[3]||"");return{type:"code",raw:W,lang:G[2]?G[2].trim().replace(this.rules.inline._escapes,"$1"):G[2],text:F}}}heading(Z){const G=this.rules.block.heading.exec(Z);if(G){let W=G[2].trim();if(/#$/.test(W)){const F=rtrim(W,"#");(this.options.pedantic||!F||/ $/.test(F))&&(W=F.trim())}return{type:"heading",raw:G[0],depth:G[1].length,text:W,tokens:this.lexer.inline(W)}}}hr(Z){const G=this.rules.block.hr.exec(Z);if(G)return{type:"hr",raw:G[0]}}blockquote(Z){const G=this.rules.block.blockquote.exec(Z);if(G){const W=rtrim(G[0].replace(/^ *>[ \t]?/gm,""),`
`),F=this.lexer.state.top;this.lexer.state.top=!0;const U=this.lexer.blockTokens(W);return this.lexer.state.top=F,{type:"blockquote",raw:G[0],tokens:U,text:W}}}list(Z){let G=this.rules.block.list.exec(Z);if(G){let W=G[1].trim();const F=W.length>1,U={type:"list",raw:"",ordered:F,start:F?+W.slice(0,-1):"",loose:!1,items:[]};W=F?`\\d{1,9}\\${W.slice(-1)}`:`\\${W}`,this.options.pedantic&&(W=F?W:"[*+-]");const J=new RegExp(`^( {0,3}${W})((?:[	 ][^\\n]*)?(?:\\n|$))`);let Y="",D="",Q=!1;for(;Z;){let ee=!1;if(!(G=J.exec(Z))||this.rules.block.hr.test(Z))break;Y=G[0],Z=Z.substring(Y.length);let q=G[2].split(`
`,1)[0].replace(/^\t+/,se=>" ".repeat(3*se.length)),te=Z.split(`
`,1)[0],ie=0;this.options.pedantic?(ie=2,D=q.trimStart()):(ie=G[2].search(/[^ ]/),ie=ie>4?1:ie,D=q.slice(ie),ie+=G[1].length);let ne=!1;if(!q&&/^ *$/.test(te)&&(Y+=te+`
`,Z=Z.substring(te.length+1),ee=!0),!ee){const se=new RegExp(`^ {0,${Math.min(3,ie-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),pe=new RegExp(`^ {0,${Math.min(3,ie-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ue=new RegExp(`^ {0,${Math.min(3,ie-1)}}(?:\`\`\`|~~~)`),ae=new RegExp(`^ {0,${Math.min(3,ie-1)}}#`);for(;Z;){const de=Z.split(`
`,1)[0];if(te=de,this.options.pedantic&&(te=te.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ue.test(te)||ae.test(te)||se.test(te)||pe.test(Z))break;if(te.search(/[^ ]/)>=ie||!te.trim())D+=`
`+te.slice(ie);else{if(ne||q.search(/[^ ]/)>=4||ue.test(q)||ae.test(q)||pe.test(q))break;D+=`
`+te}!ne&&!te.trim()&&(ne=!0),Y+=de+`
`,Z=Z.substring(de.length+1),q=te.slice(ie)}}U.loose||(Q?U.loose=!0:/\n *\n *$/.test(Y)&&(Q=!0));let ce=null,le;this.options.gfm&&(ce=/^\[[ xX]\] /.exec(D),ce&&(le=ce[0]!=="[ ] ",D=D.replace(/^\[[ xX]\] +/,""))),U.items.push({type:"list_item",raw:Y,task:!!ce,checked:le,loose:!1,text:D,tokens:[]}),U.raw+=Y}U.items[U.items.length-1].raw=Y.trimEnd(),U.items[U.items.length-1].text=D.trimEnd(),U.raw=U.raw.trimEnd();for(let ee=0;ee<U.items.length;ee++)if(this.lexer.state.top=!1,U.items[ee].tokens=this.lexer.blockTokens(U.items[ee].text,[]),!U.loose){const q=U.items[ee].tokens.filter(ie=>ie.type==="space"),te=q.length>0&&q.some(ie=>/\n.*\n/.test(ie.raw));U.loose=te}if(U.loose)for(let ee=0;ee<U.items.length;ee++)U.items[ee].loose=!0;return U}}html(Z){const G=this.rules.block.html.exec(Z);if(G)return{type:"html",block:!0,raw:G[0],pre:G[1]==="pre"||G[1]==="script"||G[1]==="style",text:G[0]}}def(Z){const G=this.rules.block.def.exec(Z);if(G){const W=G[1].toLowerCase().replace(/\s+/g," "),F=G[2]?G[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",U=G[3]?G[3].substring(1,G[3].length-1).replace(this.rules.inline._escapes,"$1"):G[3];return{type:"def",tag:W,raw:G[0],href:F,title:U}}}table(Z){const G=this.rules.block.table.exec(Z);if(G){if(!/[:|]/.test(G[2]))return;const W={type:"table",raw:G[0],header:splitCells(G[1]).map(F=>({text:F,tokens:[]})),align:G[2].replace(/^\||\| *$/g,"").split("|"),rows:G[3]&&G[3].trim()?G[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(W.header.length===W.align.length){let F=W.align.length,U,J,Y,D;for(U=0;U<F;U++){const Q=W.align[U];Q&&(/^ *-+: *$/.test(Q)?W.align[U]="right":/^ *:-+: *$/.test(Q)?W.align[U]="center":/^ *:-+ *$/.test(Q)?W.align[U]="left":W.align[U]=null)}for(F=W.rows.length,U=0;U<F;U++)W.rows[U]=splitCells(W.rows[U],W.header.length).map(Q=>({text:Q,tokens:[]}));for(F=W.header.length,J=0;J<F;J++)W.header[J].tokens=this.lexer.inline(W.header[J].text);for(F=W.rows.length,J=0;J<F;J++)for(D=W.rows[J],Y=0;Y<D.length;Y++)D[Y].tokens=this.lexer.inline(D[Y].text);return W}}}lheading(Z){const G=this.rules.block.lheading.exec(Z);if(G)return{type:"heading",raw:G[0],depth:G[2].charAt(0)==="="?1:2,text:G[1],tokens:this.lexer.inline(G[1])}}paragraph(Z){const G=this.rules.block.paragraph.exec(Z);if(G){const W=G[1].charAt(G[1].length-1)===`
`?G[1].slice(0,-1):G[1];return{type:"paragraph",raw:G[0],text:W,tokens:this.lexer.inline(W)}}}text(Z){const G=this.rules.block.text.exec(Z);if(G)return{type:"text",raw:G[0],text:G[0],tokens:this.lexer.inline(G[0])}}escape(Z){const G=this.rules.inline.escape.exec(Z);if(G)return{type:"escape",raw:G[0],text:escape(G[1])}}tag(Z){const G=this.rules.inline.tag.exec(Z);if(G)return!this.lexer.state.inLink&&/^<a /i.test(G[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(G[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(G[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(G[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:G[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:G[0]}}link(Z){const G=this.rules.inline.link.exec(Z);if(G){const W=G[2].trim();if(!this.options.pedantic&&/^</.test(W)){if(!/>$/.test(W))return;const J=rtrim(W.slice(0,-1),"\\");if((W.length-J.length)%2===0)return}else{const J=findClosingBracket(G[2],"()");if(J>-1){const D=(G[0].indexOf("!")===0?5:4)+G[1].length+J;G[2]=G[2].substring(0,J),G[0]=G[0].substring(0,D).trim(),G[3]=""}}let F=G[2],U="";if(this.options.pedantic){const J=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(F);J&&(F=J[1],U=J[3])}else U=G[3]?G[3].slice(1,-1):"";return F=F.trim(),/^</.test(F)&&(this.options.pedantic&&!/>$/.test(W)?F=F.slice(1):F=F.slice(1,-1)),outputLink(G,{href:F&&F.replace(this.rules.inline._escapes,"$1"),title:U&&U.replace(this.rules.inline._escapes,"$1")},G[0],this.lexer)}}reflink(Z,G){let W;if((W=this.rules.inline.reflink.exec(Z))||(W=this.rules.inline.nolink.exec(Z))){let F=(W[2]||W[1]).replace(/\s+/g," ");if(F=G[F.toLowerCase()],!F){const U=W[0].charAt(0);return{type:"text",raw:U,text:U}}return outputLink(W,F,W[0],this.lexer)}}emStrong(Z,G,W=""){let F=this.rules.inline.emStrong.lDelim.exec(Z);if(!F||F[3]&&W.match(/[\p{L}\p{N}]/u))return;if(!(F[1]||F[2]||"")||!W||this.rules.inline.punctuation.exec(W)){const J=[...F[0]].length-1;let Y,D,Q=J,ee=0;const q=F[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(q.lastIndex=0,G=G.slice(-1*Z.length+F[0].length-1);(F=q.exec(G))!=null;){if(Y=F[1]||F[2]||F[3]||F[4]||F[5]||F[6],!Y)continue;if(D=[...Y].length,F[3]||F[4]){Q+=D;continue}else if((F[5]||F[6])&&J%3&&!((J+D)%3)){ee+=D;continue}if(Q-=D,Q>0)continue;D=Math.min(D,D+Q+ee);const te=[...Z].slice(0,J+F.index+D+1).join("");if(Math.min(J,D)%2){const ne=te.slice(1,-1);return{type:"em",raw:te,text:ne,tokens:this.lexer.inlineTokens(ne)}}const ie=te.slice(2,-2);return{type:"strong",raw:te,text:ie,tokens:this.lexer.inlineTokens(ie)}}}}codespan(Z){const G=this.rules.inline.code.exec(Z);if(G){let W=G[2].replace(/\n/g," ");const F=/[^ ]/.test(W),U=/^ /.test(W)&&/ $/.test(W);return F&&U&&(W=W.substring(1,W.length-1)),W=escape(W,!0),{type:"codespan",raw:G[0],text:W}}}br(Z){const G=this.rules.inline.br.exec(Z);if(G)return{type:"br",raw:G[0]}}del(Z){const G=this.rules.inline.del.exec(Z);if(G)return{type:"del",raw:G[0],text:G[2],tokens:this.lexer.inlineTokens(G[2])}}autolink(Z){const G=this.rules.inline.autolink.exec(Z);if(G){let W,F;return G[2]==="@"?(W=escape(G[1]),F="mailto:"+W):(W=escape(G[1]),F=W),{type:"link",raw:G[0],text:W,href:F,tokens:[{type:"text",raw:W,text:W}]}}}url(Z){let G;if(G=this.rules.inline.url.exec(Z)){let W,F;if(G[2]==="@")W=escape(G[0]),F="mailto:"+W;else{let U;do U=G[0],G[0]=this.rules.inline._backpedal.exec(G[0])[0];while(U!==G[0]);W=escape(G[0]),G[1]==="www."?F="http://"+G[0]:F=G[0]}return{type:"link",raw:G[0],text:W,href:F,tokens:[{type:"text",raw:W,text:W}]}}}inlineText(Z){const G=this.rules.inline.text.exec(Z);if(G){let W;return this.lexer.state.inRawBlock?W=G[0]:W=escape(G[0]),{type:"text",raw:G[0],text:W}}}}const block={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block.def=edit(block.def).replace("label",block._label).replace("title",block._title).getRegex();block.bullet=/(?:[*+-]|\d{1,9}[.)])/;block.listItemStart=edit(/^( *)(bull) */).replace("bull",block.bullet).getRegex();block.list=edit(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex();block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block.html=edit(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block.lheading=edit(block.lheading).replace(/bull/g,block.bullet).getRegex();block.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.blockquote=edit(block.blockquote).replace("paragraph",block.paragraph).getRegex();block.normal={...block};block.gfm={...block.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block.gfm.table=edit(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.gfm.paragraph=edit(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block._tag).getRegex();block.pedantic={...block.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block.normal._paragraph).replace("hr",block.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};inline._punctuation="\\p{P}$+<=>`^|~";inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;inline.anyPunctuation=/\\[punct]/g;inline._escapes=/\\([punct])/g;inline._comment=edit(block._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(Z){this.tokens=[],this.tokens.links=Object.create(null),this.options=Z||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const G={block:block.normal,inline:inline.normal};this.options.pedantic?(G.block=block.pedantic,G.inline=inline.pedantic):this.options.gfm&&(G.block=block.gfm,this.options.breaks?G.inline=inline.breaks:G.inline=inline.gfm),this.tokenizer.rules=G}static get rules(){return{block,inline}}static lex(Z,G){return new _Lexer(G).lex(Z)}static lexInline(Z,G){return new _Lexer(G).inlineTokens(Z)}lex(Z){Z=Z.replace(/\r\n|\r/g,`
`),this.blockTokens(Z,this.tokens);let G;for(;G=this.inlineQueue.shift();)this.inlineTokens(G.src,G.tokens);return this.tokens}blockTokens(Z,G=[]){this.options.pedantic?Z=Z.replace(/\t/g,"    ").replace(/^ +$/gm,""):Z=Z.replace(/^( *)(\t+)/gm,(Y,D,Q)=>D+"    ".repeat(Q.length));let W,F,U,J;for(;Z;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Y=>(W=Y.call({lexer:this},Z,G))?(Z=Z.substring(W.raw.length),G.push(W),!0):!1))){if(W=this.tokenizer.space(Z)){Z=Z.substring(W.raw.length),W.raw.length===1&&G.length>0?G[G.length-1].raw+=`
`:G.push(W);continue}if(W=this.tokenizer.code(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&(F.type==="paragraph"||F.type==="text")?(F.raw+=`
`+W.raw,F.text+=`
`+W.text,this.inlineQueue[this.inlineQueue.length-1].src=F.text):G.push(W);continue}if(W=this.tokenizer.fences(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.heading(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.hr(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.blockquote(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.list(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.html(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.def(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&(F.type==="paragraph"||F.type==="text")?(F.raw+=`
`+W.raw,F.text+=`
`+W.raw,this.inlineQueue[this.inlineQueue.length-1].src=F.text):this.tokens.links[W.tag]||(this.tokens.links[W.tag]={href:W.href,title:W.title});continue}if(W=this.tokenizer.table(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.lheading(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(U=Z,this.options.extensions&&this.options.extensions.startBlock){let Y=1/0;const D=Z.slice(1);let Q;this.options.extensions.startBlock.forEach(ee=>{Q=ee.call({lexer:this},D),typeof Q=="number"&&Q>=0&&(Y=Math.min(Y,Q))}),Y<1/0&&Y>=0&&(U=Z.substring(0,Y+1))}if(this.state.top&&(W=this.tokenizer.paragraph(U))){F=G[G.length-1],J&&F.type==="paragraph"?(F.raw+=`
`+W.raw,F.text+=`
`+W.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=F.text):G.push(W),J=U.length!==Z.length,Z=Z.substring(W.raw.length);continue}if(W=this.tokenizer.text(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&F.type==="text"?(F.raw+=`
`+W.raw,F.text+=`
`+W.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=F.text):G.push(W);continue}if(Z){const Y="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw new Error(Y)}}return this.state.top=!0,G}inline(Z,G=[]){return this.inlineQueue.push({src:Z,tokens:G}),G}inlineTokens(Z,G=[]){let W,F,U,J=Z,Y,D,Q;if(this.tokens.links){const ee=Object.keys(this.tokens.links);if(ee.length>0)for(;(Y=this.tokenizer.rules.inline.reflinkSearch.exec(J))!=null;)ee.includes(Y[0].slice(Y[0].lastIndexOf("[")+1,-1))&&(J=J.slice(0,Y.index)+"["+"a".repeat(Y[0].length-2)+"]"+J.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Y=this.tokenizer.rules.inline.blockSkip.exec(J))!=null;)J=J.slice(0,Y.index)+"["+"a".repeat(Y[0].length-2)+"]"+J.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Y=this.tokenizer.rules.inline.anyPunctuation.exec(J))!=null;)J=J.slice(0,Y.index)+"++"+J.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Z;)if(D||(Q=""),D=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ee=>(W=ee.call({lexer:this},Z,G))?(Z=Z.substring(W.raw.length),G.push(W),!0):!1))){if(W=this.tokenizer.escape(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.tag(Z)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&W.type==="text"&&F.type==="text"?(F.raw+=W.raw,F.text+=W.text):G.push(W);continue}if(W=this.tokenizer.link(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.reflink(Z,this.tokens.links)){Z=Z.substring(W.raw.length),F=G[G.length-1],F&&W.type==="text"&&F.type==="text"?(F.raw+=W.raw,F.text+=W.text):G.push(W);continue}if(W=this.tokenizer.emStrong(Z,J,Q)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.codespan(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.br(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.del(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(W=this.tokenizer.autolink(Z)){Z=Z.substring(W.raw.length),G.push(W);continue}if(!this.state.inLink&&(W=this.tokenizer.url(Z))){Z=Z.substring(W.raw.length),G.push(W);continue}if(U=Z,this.options.extensions&&this.options.extensions.startInline){let ee=1/0;const q=Z.slice(1);let te;this.options.extensions.startInline.forEach(ie=>{te=ie.call({lexer:this},q),typeof te=="number"&&te>=0&&(ee=Math.min(ee,te))}),ee<1/0&&ee>=0&&(U=Z.substring(0,ee+1))}if(W=this.tokenizer.inlineText(U)){Z=Z.substring(W.raw.length),W.raw.slice(-1)!=="_"&&(Q=W.raw.slice(-1)),D=!0,F=G[G.length-1],F&&F.type==="text"?(F.raw+=W.raw,F.text+=W.text):G.push(W);continue}if(Z){const ee="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(ee);break}else throw new Error(ee)}}return G}}class _Renderer{options;constructor(Z){this.options=Z||_defaults}code(Z,G,W){const F=(G||"").match(/^\S*/)?.[0];return Z=Z.replace(/\n$/,"")+`
`,F?'<pre><code class="language-'+escape(F)+'">'+(W?Z:escape(Z,!0))+`</code></pre>
`:"<pre><code>"+(W?Z:escape(Z,!0))+`</code></pre>
`}blockquote(Z){return`<blockquote>
${Z}</blockquote>
`}html(Z,G){return Z}heading(Z,G,W){return`<h${G}>${Z}</h${G}>
`}hr(){return`<hr>
`}list(Z,G,W){const F=G?"ol":"ul",U=G&&W!==1?' start="'+W+'"':"";return"<"+F+U+`>
`+Z+"</"+F+`>
`}listitem(Z,G,W){return`<li>${Z}</li>
`}checkbox(Z){return"<input "+(Z?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(Z){return`<p>${Z}</p>
`}table(Z,G){return G&&(G=`<tbody>${G}</tbody>`),`<table>
<thead>
`+Z+`</thead>
`+G+`</table>
`}tablerow(Z){return`<tr>
${Z}</tr>
`}tablecell(Z,G){const W=G.header?"th":"td";return(G.align?`<${W} align="${G.align}">`:`<${W}>`)+Z+`</${W}>
`}strong(Z){return`<strong>${Z}</strong>`}em(Z){return`<em>${Z}</em>`}codespan(Z){return`<code>${Z}</code>`}br(){return"<br>"}del(Z){return`<del>${Z}</del>`}link(Z,G,W){const F=cleanUrl(Z);if(F===null)return W;Z=F;let U='<a href="'+Z+'"';return G&&(U+=' title="'+G+'"'),U+=">"+W+"</a>",U}image(Z,G,W){const F=cleanUrl(Z);if(F===null)return W;Z=F;let U=`<img src="${Z}" alt="${W}"`;return G&&(U+=` title="${G}"`),U+=">",U}text(Z){return Z}}class _TextRenderer{strong(Z){return Z}em(Z){return Z}codespan(Z){return Z}del(Z){return Z}html(Z){return Z}text(Z){return Z}link(Z,G,W){return""+W}image(Z,G,W){return""+W}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(Z){this.options=Z||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(Z,G){return new _Parser(G).parse(Z)}static parseInline(Z,G){return new _Parser(G).parseInline(Z)}parse(Z,G=!0){let W="";for(let F=0;F<Z.length;F++){const U=Z[F];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]){const J=U,Y=this.options.extensions.renderers[J.type].call({parser:this},J);if(Y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(J.type)){W+=Y||"";continue}}switch(U.type){case"space":continue;case"hr":{W+=this.renderer.hr();continue}case"heading":{const J=U;W+=this.renderer.heading(this.parseInline(J.tokens),J.depth,unescape$1(this.parseInline(J.tokens,this.textRenderer)));continue}case"code":{const J=U;W+=this.renderer.code(J.text,J.lang,!!J.escaped);continue}case"table":{const J=U;let Y="",D="";for(let ee=0;ee<J.header.length;ee++)D+=this.renderer.tablecell(this.parseInline(J.header[ee].tokens),{header:!0,align:J.align[ee]});Y+=this.renderer.tablerow(D);let Q="";for(let ee=0;ee<J.rows.length;ee++){const q=J.rows[ee];D="";for(let te=0;te<q.length;te++)D+=this.renderer.tablecell(this.parseInline(q[te].tokens),{header:!1,align:J.align[te]});Q+=this.renderer.tablerow(D)}W+=this.renderer.table(Y,Q);continue}case"blockquote":{const J=U,Y=this.parse(J.tokens);W+=this.renderer.blockquote(Y);continue}case"list":{const J=U,Y=J.ordered,D=J.start,Q=J.loose;let ee="";for(let q=0;q<J.items.length;q++){const te=J.items[q],ie=te.checked,ne=te.task;let ce="";if(te.task){const le=this.renderer.checkbox(!!ie);Q?te.tokens.length>0&&te.tokens[0].type==="paragraph"?(te.tokens[0].text=le+" "+te.tokens[0].text,te.tokens[0].tokens&&te.tokens[0].tokens.length>0&&te.tokens[0].tokens[0].type==="text"&&(te.tokens[0].tokens[0].text=le+" "+te.tokens[0].tokens[0].text)):te.tokens.unshift({type:"text",text:le+" "}):ce+=le+" "}ce+=this.parse(te.tokens,Q),ee+=this.renderer.listitem(ce,ne,!!ie)}W+=this.renderer.list(ee,Y,D);continue}case"html":{const J=U;W+=this.renderer.html(J.text,J.block);continue}case"paragraph":{const J=U;W+=this.renderer.paragraph(this.parseInline(J.tokens));continue}case"text":{let J=U,Y=J.tokens?this.parseInline(J.tokens):J.text;for(;F+1<Z.length&&Z[F+1].type==="text";)J=Z[++F],Y+=`
`+(J.tokens?this.parseInline(J.tokens):J.text);W+=G?this.renderer.paragraph(Y):Y;continue}default:{const J='Token with "'+U.type+'" type was not found.';if(this.options.silent)return console.error(J),"";throw new Error(J)}}}return W}parseInline(Z,G){G=G||this.renderer;let W="";for(let F=0;F<Z.length;F++){const U=Z[F];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[U.type]){const J=this.options.extensions.renderers[U.type].call({parser:this},U);if(J!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(U.type)){W+=J||"";continue}}switch(U.type){case"escape":{const J=U;W+=G.text(J.text);break}case"html":{const J=U;W+=G.html(J.text);break}case"link":{const J=U;W+=G.link(J.href,J.title,this.parseInline(J.tokens,G));break}case"image":{const J=U;W+=G.image(J.href,J.title,J.text);break}case"strong":{const J=U;W+=G.strong(this.parseInline(J.tokens,G));break}case"em":{const J=U;W+=G.em(this.parseInline(J.tokens,G));break}case"codespan":{const J=U;W+=G.codespan(J.text);break}case"br":{W+=G.br();break}case"del":{const J=U;W+=G.del(this.parseInline(J.tokens,G));break}case"text":{const J=U;W+=G.text(J.text);break}default:{const J='Token with "'+U.type+'" type was not found.';if(this.options.silent)return console.error(J),"";throw new Error(J)}}}return W}}class _Hooks{options;constructor(Z){this.options=Z||_defaults}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(Z){return Z}postprocess(Z){return Z}}class Marked{defaults=_getDefaults();options=this.setOptions;parse=this.#e(_Lexer.lex,_Parser.parse);parseInline=this.#e(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;parser=_Parser.parse;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;lexer=_Lexer.lex;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...Z){this.use(...Z)}walkTokens(Z,G){let W=[];for(const F of Z)switch(W=W.concat(G.call(this,F)),F.type){case"table":{const U=F;for(const J of U.header)W=W.concat(this.walkTokens(J.tokens,G));for(const J of U.rows)for(const Y of J)W=W.concat(this.walkTokens(Y.tokens,G));break}case"list":{const U=F;W=W.concat(this.walkTokens(U.items,G));break}default:{const U=F;this.defaults.extensions?.childTokens?.[U.type]?this.defaults.extensions.childTokens[U.type].forEach(J=>{W=W.concat(this.walkTokens(U[J],G))}):U.tokens&&(W=W.concat(this.walkTokens(U.tokens,G)))}}return W}use(...Z){const G=this.defaults.extensions||{renderers:{},childTokens:{}};return Z.forEach(W=>{const F={...W};if(F.async=this.defaults.async||F.async||!1,W.extensions&&(W.extensions.forEach(U=>{if(!U.name)throw new Error("extension name required");if("renderer"in U){const J=G.renderers[U.name];J?G.renderers[U.name]=function(...Y){let D=U.renderer.apply(this,Y);return D===!1&&(D=J.apply(this,Y)),D}:G.renderers[U.name]=U.renderer}if("tokenizer"in U){if(!U.level||U.level!=="block"&&U.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const J=G[U.level];J?J.unshift(U.tokenizer):G[U.level]=[U.tokenizer],U.start&&(U.level==="block"?G.startBlock?G.startBlock.push(U.start):G.startBlock=[U.start]:U.level==="inline"&&(G.startInline?G.startInline.push(U.start):G.startInline=[U.start]))}"childTokens"in U&&U.childTokens&&(G.childTokens[U.name]=U.childTokens)}),F.extensions=G),W.renderer){const U=this.defaults.renderer||new _Renderer(this.defaults);for(const J in W.renderer){const Y=W.renderer[J],D=J,Q=U[D];U[D]=(...ee)=>{let q=Y.apply(U,ee);return q===!1&&(q=Q.apply(U,ee)),q||""}}F.renderer=U}if(W.tokenizer){const U=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const J in W.tokenizer){const Y=W.tokenizer[J],D=J,Q=U[D];U[D]=(...ee)=>{let q=Y.apply(U,ee);return q===!1&&(q=Q.apply(U,ee)),q}}F.tokenizer=U}if(W.hooks){const U=this.defaults.hooks||new _Hooks;for(const J in W.hooks){const Y=W.hooks[J],D=J,Q=U[D];_Hooks.passThroughHooks.has(J)?U[D]=ee=>{if(this.defaults.async)return Promise.resolve(Y.call(U,ee)).then(te=>Q.call(U,te));const q=Y.call(U,ee);return Q.call(U,q)}:U[D]=(...ee)=>{let q=Y.apply(U,ee);return q===!1&&(q=Q.apply(U,ee)),q}}F.hooks=U}if(W.walkTokens){const U=this.defaults.walkTokens,J=W.walkTokens;F.walkTokens=function(Y){let D=[];return D.push(J.call(this,Y)),U&&(D=D.concat(U.call(this,Y))),D}}this.defaults={...this.defaults,...F}}),this}setOptions(Z){return this.defaults={...this.defaults,...Z},this}#e(Z,G){return(W,F)=>{const U={...F},J={...this.defaults,...U};this.defaults.async===!0&&U.async===!1&&(J.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),J.async=!0);const Y=this.#t(!!J.silent,!!J.async);if(typeof W>"u"||W===null)return Y(new Error("marked(): input parameter is undefined or null"));if(typeof W!="string")return Y(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(W)+", string expected"));if(J.hooks&&(J.hooks.options=J),J.async)return Promise.resolve(J.hooks?J.hooks.preprocess(W):W).then(D=>Z(D,J)).then(D=>J.walkTokens?Promise.all(this.walkTokens(D,J.walkTokens)).then(()=>D):D).then(D=>G(D,J)).then(D=>J.hooks?J.hooks.postprocess(D):D).catch(Y);try{J.hooks&&(W=J.hooks.preprocess(W));const D=Z(W,J);J.walkTokens&&this.walkTokens(D,J.walkTokens);let Q=G(D,J);return J.hooks&&(Q=J.hooks.postprocess(Q)),Q}catch(D){return Y(D)}}}#t(Z,G){return W=>{if(W.message+=`
Please report this to https://github.com/markedjs/marked.`,Z){const F="<p>An error occurred:</p><pre>"+escape(W.message+"",!0)+"</pre>";return G?Promise.resolve(F):F}if(G)return Promise.reject(W);throw W}}}const markedInstance=new Marked;function marked(X,Z){return markedInstance.parse(X,Z)}marked.options=marked.setOptions=function(X){return markedInstance.setOptions(X),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...X){return markedInstance.use(...X),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(X,Z){return markedInstance.walkTokens(X,Z)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$2=X=>(...Z)=>({_$litDirective$:X,values:Z});let i$1=class{constructor(Z){}get _$AU(){return this._$AM._$AU}_$AT(Z,G,W){this._$Ct=Z,this._$AM=G,this._$Ci=W}_$AS(Z,G){return this.update(Z,G)}update(Z,G){return this.render(...G)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let e$1=class extends i$1{constructor(Z){if(super(Z),this.et=A,Z.type!==t$1.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(Z){if(Z===A||Z==null)return this.ft=void 0,this.et=Z;if(Z===T)return Z;if(typeof Z!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(Z===this.et)return this.ft;this.et=Z;const G=[Z];return G.raw=G,this.ft={_$litType$:this.constructor.resultType,strings:G,values:[]}}};e$1.directiveName="unsafeHTML",e$1.resultType=1;const o$1=e$2(e$1);var hue;function s$1(X,Z,G){return Math.min(Math.max(X||0,Z),G)}function h$1(X){return{r:s$1(X.r,0,255),g:s$1(X.g,0,255),b:s$1(X.b,0,255),a:s$1(X.a,0,1)}}function x$1(X){return{r:255*X.r,g:255*X.g,b:255*X.b,a:X.a}}function O(X){return{r:X.r/255,g:X.g/255,b:X.b/255,a:X.a}}function I(X,Z){Z===void 0&&(Z=0);var G=Math.pow(10,Z);return{r:Math.round(X.r*G)/G,g:Math.round(X.g*G)/G,b:Math.round(X.b*G)/G,a:X.a}}function M$1(X,Z,G,W,F,U){return(1-Z/G)*W+Z/G*Math.round((1-X)*F+X*U)}function m$1(X,Z,G,W,F){F===void 0&&(F={unitInput:!1,unitOutput:!1,roundOutput:!0}),F.unitInput&&(X=x$1(X),Z=x$1(Z)),X=h$1(X);var U=(Z=h$1(Z)).a+X.a-Z.a*X.a,J=G(X,Z,W),Y=h$1({r:M$1(X.a,Z.a,U,X.r,Z.r,J.r),g:M$1(X.a,Z.a,U,X.g,Z.g,J.g),b:M$1(X.a,Z.a,U,X.b,Z.b,J.b),a:U});return F.unitOutput?O(Y):F.roundOutput?I(Y):I(Y,9)}function d$1(X,Z,G){return x$1(G(O(X),O(Z)))}function l$1(X){return .3*X.r+.59*X.g+.11*X.b}function v$1(X,Z){var G=Z-l$1(X);return function(W){var F=l$1(W),U=W.r,J=W.g,Y=W.b,D=Math.min(U,J,Y),Q=Math.max(U,J,Y);function ee(te){return F+(te-F)*F/(F-D)}function q(te){return F+(te-F)*(1-F)/(Q-F)}return D<0&&(U=ee(U),J=ee(J),Y=ee(Y)),Q>1&&(U=q(U),J=q(J),Y=q(Y)),{r:U,g:J,b:Y}}({r:X.r+G,g:X.g+G,b:X.b+G})}function y$1(X){return Math.max(X.r,X.g,X.b)-Math.min(X.r,X.g,X.b)}function L(X,Z){var G=["r","g","b"].sort(function(Y,D){return X[Y]-X[D]}),W=G[0],F=G[1],U=G[2],J={r:X.r,g:X.g,b:X.b};return J[U]>J[W]?(J[F]=(J[F]-J[W])*Z/(J[U]-J[W]),J[U]=Z):J[F]=J[U]=0,J[W]=0,J}function k$1(X,Z){return v$1(L(Z,y$1(X)),l$1(X))}hue=function(X,Z){return m$1(X,Z,d$1,k$1,{unitInput:!0,unitOutput:!0})};var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(X){return typeof X=="string"?X.length>0:typeof X=="number"},n=function(X,Z,G){return Z===void 0&&(Z=0),G===void 0&&(G=Math.pow(10,Z)),Math.round(G*X)/G+0},e=function(X,Z,G){return Z===void 0&&(Z=0),G===void 0&&(G=1),X>G?G:X>Z?X:Z},u=function(X){return(X=isFinite(X)?X%360:0)>0?X:X+360},a=function(X){return{r:e(X.r,0,255),g:e(X.g,0,255),b:e(X.b,0,255),a:e(X.a)}},o=function(X){return{r:n(X.r),g:n(X.g),b:n(X.b),a:n(X.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(X){var Z=X.toString(16);return Z.length<2?"0"+Z:Z},h=function(X){var Z=X.r,G=X.g,W=X.b,F=X.a,U=Math.max(Z,G,W),J=U-Math.min(Z,G,W),Y=J?U===Z?(G-W)/J:U===G?2+(W-Z)/J:4+(Z-G)/J:0;return{h:60*(Y<0?Y+6:Y),s:U?J/U*100:0,v:U/255*100,a:F}},b=function(X){var Z=X.h,G=X.s,W=X.v,F=X.a;Z=Z/360*6,G/=100,W/=100;var U=Math.floor(Z),J=W*(1-G),Y=W*(1-(Z-U)*G),D=W*(1-(1-Z+U)*G),Q=U%6;return{r:255*[W,Y,J,J,D,W][Q],g:255*[D,W,W,Y,J,J][Q],b:255*[J,J,D,W,W,Y][Q],a:F}},g=function(X){return{h:u(X.h),s:e(X.s,0,100),l:e(X.l,0,100),a:e(X.a)}},d=function(X){return{h:n(X.h),s:n(X.s),l:n(X.l),a:n(X.a,3)}},f=function(X){return b((G=(Z=X).s,{h:Z.h,s:(G*=((W=Z.l)<50?W:100-W)/100)>0?2*G/(W+G)*100:0,v:W+G,a:Z.a}));var Z,G,W},c=function(X){return{h:(Z=h(X)).h,s:(F=(200-(G=Z.s))*(W=Z.v)/100)>0&&F<200?G*W/100/(F<=100?F:200-F)*100:0,l:F/2,a:Z.a};var Z,G,W,F},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(X){var Z=i.exec(X);return Z?(X=Z[1]).length<=4?{r:parseInt(X[0]+X[0],16),g:parseInt(X[1]+X[1],16),b:parseInt(X[2]+X[2],16),a:X.length===4?n(parseInt(X[3]+X[3],16)/255,2):1}:X.length===6||X.length===8?{r:parseInt(X.substr(0,2),16),g:parseInt(X.substr(2,2),16),b:parseInt(X.substr(4,2),16),a:X.length===8?n(parseInt(X.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(X){var Z=v.exec(X)||m.exec(X);return Z?Z[2]!==Z[4]||Z[4]!==Z[6]?null:a({r:Number(Z[1])/(Z[2]?100/255:1),g:Number(Z[3])/(Z[4]?100/255:1),b:Number(Z[5])/(Z[6]?100/255:1),a:Z[7]===void 0?1:Number(Z[7])/(Z[8]?100:1)}):null},"rgb"],[function(X){var Z=l.exec(X)||p.exec(X);if(!Z)return null;var G,W,F=g({h:(G=Z[1],W=Z[2],W===void 0&&(W="deg"),Number(G)*(r[W]||1)),s:Number(Z[3]),l:Number(Z[4]),a:Z[5]===void 0?1:Number(Z[5])/(Z[6]?100:1)});return f(F)},"hsl"]],object:[[function(X){var Z=X.r,G=X.g,W=X.b,F=X.a,U=F===void 0?1:F;return t(Z)&&t(G)&&t(W)?a({r:Number(Z),g:Number(G),b:Number(W),a:Number(U)}):null},"rgb"],[function(X){var Z=X.h,G=X.s,W=X.l,F=X.a,U=F===void 0?1:F;if(!t(Z)||!t(G)||!t(W))return null;var J=g({h:Number(Z),s:Number(G),l:Number(W),a:Number(U)});return f(J)},"hsl"],[function(X){var Z=X.h,G=X.s,W=X.v,F=X.a,U=F===void 0?1:F;if(!t(Z)||!t(G)||!t(W))return null;var J=function(Y){return{h:u(Y.h),s:e(Y.s,0,100),v:e(Y.v,0,100),a:e(Y.a)}}({h:Number(Z),s:Number(G),v:Number(W),a:Number(U)});return b(J)},"hsv"]]},N=function(X,Z){for(var G=0;G<Z.length;G++){var W=Z[G][0](X);if(W)return[W,Z[G][1]]}return[null,void 0]},x=function(X){return typeof X=="string"?N(X.trim(),y.string):typeof X=="object"&&X!==null?N(X,y.object):[null,void 0]},M=function(X,Z){var G=c(X);return{h:G.h,s:e(G.s+100*Z,0,100),l:G.l,a:G.a}},H=function(X){return(299*X.r+587*X.g+114*X.b)/1e3/255},$=function(X,Z){var G=c(X);return{h:G.h,s:G.s,l:e(G.l+100*Z,0,100),a:G.a}},j=function(){function X(Z){this.parsed=x(Z)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return X.prototype.isValid=function(){return this.parsed!==null},X.prototype.brightness=function(){return n(H(this.rgba),2)},X.prototype.isDark=function(){return H(this.rgba)<.5},X.prototype.isLight=function(){return H(this.rgba)>=.5},X.prototype.toHex=function(){return Z=o(this.rgba),G=Z.r,W=Z.g,F=Z.b,J=(U=Z.a)<1?s(n(255*U)):"","#"+s(G)+s(W)+s(F)+J;var Z,G,W,F,U,J},X.prototype.toRgb=function(){return o(this.rgba)},X.prototype.toRgbString=function(){return Z=o(this.rgba),G=Z.r,W=Z.g,F=Z.b,(U=Z.a)<1?"rgba("+G+", "+W+", "+F+", "+U+")":"rgb("+G+", "+W+", "+F+")";var Z,G,W,F,U},X.prototype.toHsl=function(){return d(c(this.rgba))},X.prototype.toHslString=function(){return Z=d(c(this.rgba)),G=Z.h,W=Z.s,F=Z.l,(U=Z.a)<1?"hsla("+G+", "+W+"%, "+F+"%, "+U+")":"hsl("+G+", "+W+"%, "+F+"%)";var Z,G,W,F,U},X.prototype.toHsv=function(){return Z=h(this.rgba),{h:n(Z.h),s:n(Z.s),v:n(Z.v),a:n(Z.a,3)};var Z},X.prototype.invert=function(){return w({r:255-(Z=this.rgba).r,g:255-Z.g,b:255-Z.b,a:Z.a});var Z},X.prototype.saturate=function(Z){return Z===void 0&&(Z=.1),w(M(this.rgba,Z))},X.prototype.desaturate=function(Z){return Z===void 0&&(Z=.1),w(M(this.rgba,-Z))},X.prototype.grayscale=function(){return w(M(this.rgba,-1))},X.prototype.lighten=function(Z){return Z===void 0&&(Z=.1),w($(this.rgba,Z))},X.prototype.darken=function(Z){return Z===void 0&&(Z=.1),w($(this.rgba,-Z))},X.prototype.rotate=function(Z){return Z===void 0&&(Z=15),this.hue(this.hue()+Z)},X.prototype.alpha=function(Z){return typeof Z=="number"?w({r:(G=this.rgba).r,g:G.g,b:G.b,a:Z}):n(this.rgba.a,3);var G},X.prototype.hue=function(Z){var G=c(this.rgba);return typeof Z=="number"?w({h:Z,s:G.s,l:G.l,a:G.a}):n(G.h)},X.prototype.isEqual=function(Z){return this.toHex()===w(Z).toHex()},X}(),w=function(X){return X instanceof j?X:new j(X)},S=[],k=function(X){X.forEach(function(Z){S.indexOf(Z)<0&&(Z(j,y),S.push(Z))})};function namesPlugin(X,Z){var G={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},W={};for(var F in G)W[G[F]]=F;var U={};X.prototype.toName=function(J){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var Y,D,Q=W[this.toHex()];if(Q)return Q;if(J?.closest){var ee=this.toRgb(),q=1/0,te="black";if(!U.length)for(var ie in G)U[ie]=new X(G[ie]).toRgb();for(var ne in G){var ce=(Y=ee,D=U[ne],Math.pow(Y.r-D.r,2)+Math.pow(Y.g-D.g,2)+Math.pow(Y.b-D.b,2));ce<q&&(q=ce,te=ne)}return te}},Z.string.push([function(J){var Y=J.toLowerCase(),D=Y==="transparent"?"#0000":G[Y];return D?new X(D).toRgb():null},"name"])}const setComponent=(X,Z)=>{state(X,"component").set(Z)},getComponent=X=>state(X,"component").get(),defaultColorMap=({color:X})=>X,getDefaultColors=moize.infinite(async(X,Z=identity$2)=>{const{nodes:G,links:W}=X;return new Float32Array(G.map(defaultColorMap).flatMap(Z))}),defaultSizeMap=({size:X})=>Math.sqrt(X)/40,getDefaultSizes=moize.infinite(async(X,Z=identity$2)=>{const{nodes:G,links:W}=X;return new Float32Array(G.map(defaultSizeMap).map(Z))}),applyVisuals=async(X,{colorMap:Z=identity$2,sizeMap:G=identity$2,immediate:W=!1}={})=>{W=!hasEnoughFramebufferAttachments(X)||W;const F=await getDefaultColors(await getGraphData(X),Z),U=await getDefaultSizes(await getGraphData(X),G),J=getColorLayers(X),Y=getSizeLayers(X),D=getEmphasisLayers(X);J.target.setFromArray(F),Y.target.setFromArray(U),D.target.setFromArray(new Float32Array(U.length).fill(0)),W&&(J.current.setFromArray(F),Y.current.setFromArray(U),D.current.setFromArray(new Float32Array(U.length).fill(0)),J.view.setFromArray(F),Y.view.setFromArray(U),D.view.setFromArray(new Float32Array(U.length).fill(0)))},applyVisualsToNode=async(X,Z,{colorMap:G=identity$2,sizeMap:W=identity$2,emphasis:F=0,immediate:U=!1}={})=>{U=!hasEnoughFramebufferAttachments(X)||U;const J=new Float32Array(G(defaultColorMap(Z))),Y=new Float32Array([W(defaultSizeMap(Z))]),D=new Float32Array([F]),Q=getColorLayers(X),ee=getSizeLayers(X),q=getEmphasisLayers(X);Q.target.setAtIndex1D(Z.index,J),ee.target.setAtIndex1D(Z.index,Y),q.target.setAtIndex1D(Z.index,D),U&&(Q.current.setAtIndex1D(Z.index,J),ee.current.setAtIndex1D(Z.index,Y),q.current.setAtIndex1D(Z.index,D),Q.view.setAtIndex1D(Z.index,J),ee.view.setAtIndex1D(Z.index,Y),q.view.setAtIndex1D(Z.index,D))},initializationVisualMaps={colorMap:X=>{const Z=X.slice(0,3).reduce((G,W)=>G+W,0)/3;return[...X.slice(0,3).map(G=>Z),.5]},sizeMap:X=>X*.5},initializeSelectionVisuals=async(X,Z=!1)=>{try{await applyVisuals(X,{...initializationVisualMaps,immediate:Z})}catch(G){console.error(G)}},onImgErrorHandler="this.parentNode.style.display='none'",onImgSuccessHandler="this.parentNode.style.display='initial'",selectionInfo=X=>x$2`
  <div class="project">
    <h3>
      <a target="_blank" href="${X.data?.homepage}">${X.data?.name}</a>
    </h3>
    <div class="description">
      ${X.data?.description&&o$1(marked.parse(X.data?.description))}
    </div>
    <div class="links">
      <span class="owner">
        <div class="owner-name-container">
          ${X.ownerData?.html_url?x$2`<a target="_blank" href="${X.ownerData?.html_url}"
                >${X.ownerData?.name}</a
              >`:x$2`<span>${X.ownerData?.name}</span>`}
        </div>
        <div class="avatar-container">
          <img
            class="avatar-stroke"
            src="${X.ownerData?.avatar_url}"
            onerror=${onImgErrorHandler}
            onload=${onImgSuccessHandler}
            alt=""
          />
          <img
            class="avatar"
            src="${X.ownerData?.avatar_url}"
            onerror=${onImgErrorHandler}
            onload=${onImgSuccessHandler}
            alt="${X.ownerData?.name}"
          />
        </div>
      </span>
      <span><a target="_blank" href="${X.navId}">NPM</a></span>
      ${X.data?.repository?x$2`<span
            ><a target="_blank" href="${X.data?.repository}">Git</a></span
          >`:x$2``}
      ${X.data?.bugs?x$2`<span
            ><a target="_blank" href="${X.data?.bugs}">Issues</a></span
          >`:x$2``}
      <!-- <a href="${X.ownerData?.html_url}">Owner Profile</a> -->
    </div>
  </div>
`,showSelectionInfo=debounce((X,Z)=>{const W=getComponent(X)?.shadowRoot?.getElementById("selection-info");if(Z){const F=selectionInfo(Z);W&&B(F,W)}else W&&B(x$2``,W)},0),selectNodeAndDownstreamDependents=async(X,Z,G=!0)=>{if(Z){setSelectedIndex(X,Z.index);const W=getNodePosition(X,Z),F=directDownstreamQuery(Z.id),U=directUpstreamQuery(Z.id),{nodesById:J,links:Y}=await getGraphData(X),D=({sizeMap:Q=identity$2,emphasis:ee=1,colorMap:q=identity$2})=>(te,ie)=>{ie(["upstream","downstream"]).then(({upstream:ne,downstream:ce})=>{applyVisualsToNode(X,J[ne?.value||Z.id],{sizeMap:Q,emphasis:ee,colorMap:q}),applyVisualsToNode(X,J[ce?.value||Z.id],{sizeMap:Q,emphasis:ee,colorMap:q})})};initializeSelectionVisuals(X).then(()=>{graphDb(X).doQuery(F,proxy(D({sizeMap:Q=>Q*2,colorMap:Q=>{const ee={r:Q[0],g:Q[1],b:Q[2],a:Q[3]},q={r:57/255,g:179/255,b:83/255,a:.8},te=hue(ee,q);return[te.r,te.g,te.b,te.a]}}))),applyVisualsToNode(X,Z,{sizeMap:Q=>Q*4,emphasis:1}),graphDb(X).doQuery(U,proxy(D({sizeMap:Q=>Q*2,colorMap:Q=>{const ee={r:Q[0],g:Q[1],b:Q[2],a:Q[3]},q={r:0,g:102/255,b:209/255,a:.8},te=hue(ee,q);return[te.r,te.g,te.b,te.a]}}))),G&&setCameraCenter(X,W),G&&setCameraDistance(X,selectedZoom||75)})}else G&&setCameraDistance(X,deselectedZoom||1500),G&&setCameraCenter(X,[0,0,0],4e3),applyVisuals(X),setSelectedIndex(X,-1);showSelectionInfo(X,Z)};window.initializeSelectionVisuals=initializeSelectionVisuals;const getSelectedIndex=X=>state(X,"selectedIndex",()=>-1).get(),setSelectedIndex=(X,Z)=>{state(X,"selectedIndex").set(Z)},getSelectedNode=async X=>{const Z=getSelectedIndex(X),{nodes:G}=await getGraphData(X);return G[Z]};k([namesPlugin]);let initSelectedColor=()=>w("deeppink").toRgb();const getSelectedColor=X=>{const Z=state(X,"selectedColor",initSelectedColor).get();return new Float32Array([Z.r/255,Z.g/255,Z.b/255,1])},_object_pattern=/^[og]\s*(.+)?/,_material_library_pattern=/^mtllib /,_material_use_pattern=/^usemtl /,_map_use_pattern=/^usemap /,_face_vertex_data_separator_pattern=/\s+/,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_ab=new Vector3,_cb=new Vector3,_color=new Color;function ParserState(){const X={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(Z,G){if(this.object&&this.object.fromDeclaration===!1){this.object.name=Z,this.object.fromDeclaration=G!==!1;return}const W=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:Z||"",fromDeclaration:G!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(F,U){const J=this._finalize(!1);J&&(J.inherited||J.groupCount<=0)&&this.materials.splice(J.index,1);const Y={index:this.materials.length,name:F||"",mtllib:Array.isArray(U)&&U.length>0?U[U.length-1]:"",smooth:J!==void 0?J.smooth:this.smooth,groupStart:J!==void 0?J.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(D){const Q={index:typeof D=="number"?D:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return Q.clone=this.clone.bind(Q),Q}};return this.materials.push(Y),Y},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(F){const U=this.currentMaterial();if(U&&U.groupEnd===-1&&(U.groupEnd=this.geometry.vertices.length/3,U.groupCount=U.groupEnd-U.groupStart,U.inherited=!1),F&&this.materials.length>1)for(let J=this.materials.length-1;J>=0;J--)this.materials[J].groupCount<=0&&this.materials.splice(J,1);return F&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),U}},W&&W.name&&typeof W.clone=="function"){const F=W.clone(0);F.inherited=!0,this.object.materials.push(F)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(Z,G){const W=parseInt(Z,10);return(W>=0?W-1:W+G/3)*3},parseNormalIndex:function(Z,G){const W=parseInt(Z,10);return(W>=0?W-1:W+G/3)*3},parseUVIndex:function(Z,G){const W=parseInt(Z,10);return(W>=0?W-1:W+G/2)*2},addVertex:function(Z,G,W){const F=this.vertices,U=this.object.geometry.vertices;U.push(F[Z+0],F[Z+1],F[Z+2]),U.push(F[G+0],F[G+1],F[G+2]),U.push(F[W+0],F[W+1],F[W+2])},addVertexPoint:function(Z){const G=this.vertices;this.object.geometry.vertices.push(G[Z+0],G[Z+1],G[Z+2])},addVertexLine:function(Z){const G=this.vertices;this.object.geometry.vertices.push(G[Z+0],G[Z+1],G[Z+2])},addNormal:function(Z,G,W){const F=this.normals,U=this.object.geometry.normals;U.push(F[Z+0],F[Z+1],F[Z+2]),U.push(F[G+0],F[G+1],F[G+2]),U.push(F[W+0],F[W+1],F[W+2])},addFaceNormal:function(Z,G,W){const F=this.vertices,U=this.object.geometry.normals;_vA.fromArray(F,Z),_vB.fromArray(F,G),_vC.fromArray(F,W),_cb.subVectors(_vC,_vB),_ab.subVectors(_vA,_vB),_cb.cross(_ab),_cb.normalize(),U.push(_cb.x,_cb.y,_cb.z),U.push(_cb.x,_cb.y,_cb.z),U.push(_cb.x,_cb.y,_cb.z)},addColor:function(Z,G,W){const F=this.colors,U=this.object.geometry.colors;F[Z]!==void 0&&U.push(F[Z+0],F[Z+1],F[Z+2]),F[G]!==void 0&&U.push(F[G+0],F[G+1],F[G+2]),F[W]!==void 0&&U.push(F[W+0],F[W+1],F[W+2])},addUV:function(Z,G,W){const F=this.uvs,U=this.object.geometry.uvs;U.push(F[Z+0],F[Z+1]),U.push(F[G+0],F[G+1]),U.push(F[W+0],F[W+1])},addDefaultUV:function(){const Z=this.object.geometry.uvs;Z.push(0,0),Z.push(0,0),Z.push(0,0)},addUVLine:function(Z){const G=this.uvs;this.object.geometry.uvs.push(G[Z+0],G[Z+1])},addFace:function(Z,G,W,F,U,J,Y,D,Q){const ee=this.vertices.length;let q=this.parseVertexIndex(Z,ee),te=this.parseVertexIndex(G,ee),ie=this.parseVertexIndex(W,ee);if(this.addVertex(q,te,ie),this.addColor(q,te,ie),Y!==void 0&&Y!==""){const ne=this.normals.length;q=this.parseNormalIndex(Y,ne),te=this.parseNormalIndex(D,ne),ie=this.parseNormalIndex(Q,ne),this.addNormal(q,te,ie)}else this.addFaceNormal(q,te,ie);if(F!==void 0&&F!==""){const ne=this.uvs.length;q=this.parseUVIndex(F,ne),te=this.parseUVIndex(U,ne),ie=this.parseUVIndex(J,ne),this.addUV(q,te,ie),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(Z){this.object.geometry.type="Points";const G=this.vertices.length;for(let W=0,F=Z.length;W<F;W++){const U=this.parseVertexIndex(Z[W],G);this.addVertexPoint(U),this.addColor(U)}},addLineGeometry:function(Z,G){this.object.geometry.type="Line";const W=this.vertices.length,F=this.uvs.length;for(let U=0,J=Z.length;U<J;U++)this.addVertexLine(this.parseVertexIndex(Z[U],W));for(let U=0,J=G.length;U<J;U++)this.addUVLine(this.parseUVIndex(G[U],F))}};return X.startObject("",!1),X}class OBJLoader extends Loader{constructor(Z){super(Z),this.materials=null}load(Z,G,W,F){const U=this,J=new FileLoader(this.manager);J.setPath(this.path),J.setRequestHeader(this.requestHeader),J.setWithCredentials(this.withCredentials),J.load(Z,function(Y){try{G(U.parse(Y))}catch(D){F?F(D):console.error(D),U.manager.itemError(Z)}},W,F)}setMaterials(Z){return this.materials=Z,this}parse(Z){const G=new ParserState;Z.indexOf(`\r
`)!==-1&&(Z=Z.replace(/\r\n/g,`
`)),Z.indexOf(`\\
`)!==-1&&(Z=Z.replace(/\\\n/g,""));const W=Z.split(`
`);let F=[];for(let Y=0,D=W.length;Y<D;Y++){const Q=W[Y].trimStart();if(Q.length===0)continue;const ee=Q.charAt(0);if(ee!=="#")if(ee==="v"){const q=Q.split(_face_vertex_data_separator_pattern);switch(q[0]){case"v":G.vertices.push(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3])),q.length>=7?(_color.setRGB(parseFloat(q[4]),parseFloat(q[5]),parseFloat(q[6])).convertSRGBToLinear(),G.colors.push(_color.r,_color.g,_color.b)):G.colors.push(void 0,void 0,void 0);break;case"vn":G.normals.push(parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3]));break;case"vt":G.uvs.push(parseFloat(q[1]),parseFloat(q[2]));break}}else if(ee==="f"){const te=Q.slice(1).trim().split(_face_vertex_data_separator_pattern),ie=[];for(let ce=0,le=te.length;ce<le;ce++){const se=te[ce];if(se.length>0){const pe=se.split("/");ie.push(pe)}}const ne=ie[0];for(let ce=1,le=ie.length-1;ce<le;ce++){const se=ie[ce],pe=ie[ce+1];G.addFace(ne[0],se[0],pe[0],ne[1],se[1],pe[1],ne[2],se[2],pe[2])}}else if(ee==="l"){const q=Q.substring(1).trim().split(" ");let te=[];const ie=[];if(Q.indexOf("/")===-1)te=q;else for(let ne=0,ce=q.length;ne<ce;ne++){const le=q[ne].split("/");le[0]!==""&&te.push(le[0]),le[1]!==""&&ie.push(le[1])}G.addLineGeometry(te,ie)}else if(ee==="p"){const te=Q.slice(1).trim().split(" ");G.addPointGeometry(te)}else if((F=_object_pattern.exec(Q))!==null){const q=(" "+F[0].slice(1).trim()).slice(1);G.startObject(q)}else if(_material_use_pattern.test(Q))G.object.startMaterial(Q.substring(7).trim(),G.materialLibraries);else if(_material_library_pattern.test(Q))G.materialLibraries.push(Q.substring(7).trim());else if(_map_use_pattern.test(Q))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(ee==="s"){if(F=Q.split(" "),F.length>1){const te=F[1].trim().toLowerCase();G.object.smooth=te!=="0"&&te!=="off"}else G.object.smooth=!0;const q=G.object.currentMaterial();q&&(q.smooth=G.object.smooth)}else{if(Q==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+Q+'"')}}G.finalize();const U=new Group;if(U.materialLibraries=[].concat(G.materialLibraries),!(G.objects.length===1&&G.objects[0].geometry.vertices.length===0)===!0)for(let Y=0,D=G.objects.length;Y<D;Y++){const Q=G.objects[Y],ee=Q.geometry,q=Q.materials,te=ee.type==="Line",ie=ee.type==="Points";let ne=!1;if(ee.vertices.length===0)continue;const ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute(ee.vertices,3)),ee.normals.length>0&&ce.setAttribute("normal",new Float32BufferAttribute(ee.normals,3)),ee.colors.length>0&&(ne=!0,ce.setAttribute("color",new Float32BufferAttribute(ee.colors,3))),ee.hasUVIndices===!0&&ce.setAttribute("uv",new Float32BufferAttribute(ee.uvs,2));const le=[];for(let pe=0,ue=q.length;pe<ue;pe++){const ae=q[pe],de=ae.name+"_"+ae.smooth+"_"+ne;let be=G.materials[de];if(this.materials!==null){if(be=this.materials.create(ae.name),te&&be&&!(be instanceof LineBasicMaterial)){const he=new LineBasicMaterial;Material.prototype.copy.call(he,be),he.color.copy(be.color),be=he}else if(ie&&be&&!(be instanceof PointsMaterial)){const he=new PointsMaterial({size:10,sizeAttenuation:!1});Material.prototype.copy.call(he,be),he.color.copy(be.color),he.map=be.map,be=he}}be===void 0&&(te?be=new LineBasicMaterial:ie?be=new PointsMaterial({size:1,sizeAttenuation:!1}):be=new MeshPhongMaterial,be.name=ae.name,be.flatShading=!ae.smooth,be.vertexColors=ne,G.materials[de]=be),le.push(be)}let se;if(le.length>1){for(let pe=0,ue=q.length;pe<ue;pe++){const ae=q[pe];ce.addGroup(ae.groupStart,ae.groupCount,pe)}te?se=new LineSegments(ce,le):ie?se=new Points(ce,le):se=new Mesh(ce,le)}else te?se=new LineSegments(ce,le[0]):ie?se=new Points(ce,le[0]):se=new Mesh(ce,le[0]);se.name=Q.name,U.add(se)}else if(G.vertices.length>0){const Y=new PointsMaterial({size:1,sizeAttenuation:!1}),D=new BufferGeometry;D.setAttribute("position",new Float32BufferAttribute(G.vertices,3)),G.colors.length>0&&G.colors[0]!==void 0&&(D.setAttribute("color",new Float32BufferAttribute(G.colors,3)),Y.vertexColors=!0);const Q=new Points(D,Y);U.add(Q)}return U}}const heartObjString=`# Blender 3.5.0
# www.blender.org
mtllib heart.mtl
o Cuore
v -2.537370 -2.347903 -0.366966
v -1.956434 -2.800752 -0.005766
v -1.208932 -2.717832 -1.071761
v -1.332258 -2.469922 -1.234073
v -0.984560 -2.596021 -0.733674
v -0.978460 -2.529004 -0.178987
v -1.674614 -2.904690 0.028076
v -1.159338 -2.843787 -0.435325
v -1.403372 -2.993618 -0.258696
v -1.313240 -2.921749 -0.682960
v -1.106351 -2.719054 -0.950708
v -2.252048 1.055419 -0.981534
v -1.830171 1.128409 -0.425332
v -2.708519 -0.141553 0.608432
v -3.222840 -0.496318 0.544339
v -2.569565 -0.902553 0.709959
v -3.143161 0.140941 0.420165
v -0.474087 -0.198478 -0.455020
v -0.462808 -0.346154 -0.044542
v -0.528919 -1.124691 -0.740861
v -0.563042 -0.033268 -0.866877
v -1.328361 -1.072274 -1.503738
v -0.938323 -0.790190 -1.408582
v -3.617506 0.109731 -0.750494
v -3.363630 0.515394 -0.289305
v -2.707890 0.926293 -0.418676
v -3.095605 0.668362 -0.989265
v -1.260693 0.626546 -1.378971
v -1.306876 0.872060 -1.256774
v -1.007055 0.503345 -1.343776
v -1.041055 0.729208 -1.211841
v -0.705091 0.452258 -0.743730
v -0.734573 0.472528 0.069516
v -2.645543 0.661626 0.315291
v -2.506139 0.907575 0.053669
v -2.426360 -1.594110 0.552784
v -2.765469 -1.913028 0.286962
v -3.066931 -1.112062 0.544780
v -0.721017 -1.982133 -0.781900
v -0.563657 -1.402271 -0.104570
v -1.387802 -1.962546 -1.408617
v -1.030823 -1.965888 -1.355024
v -3.104814 -1.738131 -0.408723
v -3.104167 -1.720302 0.032804
v -2.324447 -1.900637 -1.179082
v -3.079695 -1.193114 -0.889793
v -2.974981 -1.536083 -0.688516
v -2.641200 -1.014609 -1.330246
v -1.255348 -1.567668 0.552931
v -0.834412 -1.236371 0.499465
v -1.274589 -2.625602 0.070163
v -1.270904 0.617438 0.373264
v -1.105653 0.734856 0.226520
v -2.399280 0.742527 -1.289296
v -2.322941 0.924017 -1.222959
v -2.978811 0.530862 -1.220269
v -2.727726 -0.370168 -1.333436
v -3.213425 -0.522410 -1.090171
v -1.197738 -0.912694 0.681871
v -1.226699 -0.149988 0.609563
v -0.799614 0.055523 0.440088
v -1.359284 1.039829 -0.800440
v -0.963663 0.794233 -0.552669
v -1.269946 0.949590 -0.069494
v -1.587937 -3.014371 -0.197344
v -1.423231 -2.879792 -0.004172
v -1.182544 -2.746961 -0.050558
v -2.221019 -2.517079 -0.785785
v -1.819342 -2.619985 -0.975888
v -1.623953 -2.972547 -0.547284
v -2.042756 -2.738481 -0.566126
v -3.421482 -0.921969 0.379603
v -3.509578 -0.140940 -1.024090
v -0.718718 -1.020174 -1.225338
v -3.294083 0.379318 -1.062455
v -0.788130 0.326793 -1.205196
v -0.907551 -2.157088 -1.180230
v -1.729408 1.061322 -1.078557
v -2.110504 -2.621070 0.113005
v -0.675267 -1.469629 0.223357
v -3.229534 0.475841 0.151640
v -0.564139 -0.310709 0.291784
v -1.821675 0.995190 0.064086
v -3.638716 -1.420592 -0.486532
v -3.549278 -1.408227 -0.522455
v -3.619269 -1.390350 -0.463361
v -3.541490 -1.384455 -0.532013
v -3.556308 -1.416174 -0.533479
v -3.667992 -1.345246 -0.519278
v -3.645213 -1.331146 -0.505347
v -3.606048 -1.356931 -0.540204
v -3.575464 -1.347507 -0.524396
v -3.658846 -1.432134 -0.449752
v -3.636287 -1.404042 -0.427796
v -3.652470 -1.455881 -0.345160
v -3.683105 -1.471171 -0.369340
v -3.555480 -1.357769 -0.514015
v -3.621383 -1.366625 -0.461463
v -3.617660 -1.331567 -0.495670
v -3.546185 -1.382635 -0.511501
v -3.654397 -1.412669 -0.529743
v -3.649131 -1.378140 -0.543008
v -3.594257 -1.400347 -0.551965
v -3.703043 -1.375659 -0.511696
v -3.592260 -1.421066 -0.539043
v -3.653948 -1.414602 -0.304110
v -3.683171 -1.391500 -0.297315
v -3.703832 -1.443562 -0.139183
v -3.649464 -1.347031 -0.447191
v -3.639078 -1.381393 -0.422143
v -3.704006 -1.423743 -0.471295
v -3.702092 -1.455127 -0.400046
v -3.719744 -1.389733 -0.474298
v -3.706716 -1.351509 -0.482814
v -3.717000 -1.392326 -0.373379
v -3.687374 -1.374611 -0.359182
v -3.673413 -1.332367 -0.465990
v -3.764204 -1.466427 0.007179
v -3.741221 -1.484028 0.011595
v -3.715633 -1.478965 0.070835
v -3.722979 -1.394006 -0.287128
v -3.751591 -1.424226 -0.284728
v -3.760145 -1.385487 -0.192243
v -3.779560 -1.404847 -0.199915
v -3.764533 -1.477525 -0.191441
v -3.729517 -1.429764 -0.359214
v -3.683853 -1.479912 -0.276737
v -3.652839 -1.448523 -0.293595
v -3.723145 -1.489015 -0.222421
v -3.666315 -1.460717 0.093963
v -3.623348 -1.347704 0.194688
v -3.680438 -1.441795 0.130420
v -3.647333 -1.351912 0.217012
v -3.683796 -1.474630 0.043153
v -3.708706 -1.486561 0.039085
v -3.696204 -1.428215 -0.006015
v -3.691626 -1.413253 0.027221
v -3.769501 -1.404813 -0.012096
v -3.738081 -1.405936 0.052293
v -3.736997 -1.392510 -0.014278
v -3.716601 -1.397333 0.029561
v -3.574513 -1.286012 0.231434
v -3.596897 -1.257769 0.218135
v -3.615048 -1.326155 0.177824
v -3.657990 -1.370200 0.102759
v -3.658229 -1.445947 0.069985
v -3.697743 -1.324526 0.152587
v -3.710330 -1.383105 0.077332
v -3.720638 -1.378445 0.123438
v -3.661631 -1.287697 0.156762
v -3.715537 -1.444626 0.113017
v -3.692225 -1.304406 0.207618
v -3.742305 -1.427735 0.076703
v -3.536281 -1.267198 0.382978
v -3.557871 -1.297522 0.352744
v -3.644929 -1.200676 0.286411
v -3.690194 -1.125085 0.263640
v -3.642558 -1.281314 0.284042
v -3.655771 -1.316231 0.248278
v -3.597978 -1.319596 0.237809
v -3.620885 -1.322690 0.260537
v -3.727595 -0.985158 0.266725
v -3.678745 -1.185595 0.219310
v -3.681663 -1.244805 0.202550
v -3.690968 -1.119814 0.240349
v -3.658294 -1.197377 0.203772
v -3.675480 -1.111379 0.227133
v -3.627869 -1.238278 0.198990
v -3.622204 -1.205904 0.281500
v -3.608719 -1.201506 0.254585
v -3.648258 -1.104246 0.257171
v -3.713809 -0.915813 0.264921
v -3.713886 -0.989362 0.265536
v -3.657571 -1.106182 0.274433
v -3.706364 -0.985940 0.250479
v -3.656257 -1.099066 0.240480
v -3.729745 -0.937099 0.242936
v -3.731612 -0.979470 0.233956
v -3.740688 -0.988070 0.251157
v -3.703151 -0.829543 0.297397
v -3.714826 -0.857923 0.274755
v -3.737433 -0.916850 0.255054
v -3.737809 -0.910866 0.268665
v -3.715911 -0.844131 0.287964
v -3.725359 -0.906394 0.279594
v -3.402459 -1.184607 0.414501
v -3.424517 -1.182490 0.403661
v -3.560323 -1.311863 0.327214
v -3.471877 -1.287359 0.342182
v -3.439011 -1.252928 0.363684
v -3.511838 -1.245139 0.314324
v -3.557650 -1.245245 0.332856
v -3.561675 -1.244242 0.300620
v -3.613073 -1.248847 0.304937
v -3.423783 -1.170835 0.457367
v -3.393488 -1.120193 0.468194
v -3.485145 -1.214544 0.394924
v -3.466620 -1.212418 0.373031
v -3.462013 -1.246282 0.434436
v -3.404281 -1.226889 0.431194
v -3.420226 -1.236794 0.443194
v -3.395463 -1.271524 0.437469
v -3.401944 -1.229493 0.413568
v -3.391631 -1.275030 0.424050
v -3.387976 -1.098938 0.461326
v -3.383162 -1.114053 0.461051
v -3.383950 -1.112896 0.451248
v -3.428793 -1.163965 0.424327
v -3.397243 -1.107054 0.464116
v -3.408251 -1.287916 0.441020
v -3.338579 -1.341381 0.467933
v -3.418880 -1.308329 0.426828
v -3.400205 -1.290408 0.405591
v -3.442558 -1.299163 0.387619
v -3.462729 -1.298197 0.395686
v -3.341890 -1.367522 0.463493
v -3.337215 -1.333560 0.458785
v -3.334496 -1.359114 0.452322
v -3.378615 -1.331103 0.440668
v -3.412637 -1.299424 0.399387
v -3.788263 -1.346133 -0.135788
v -3.815179 -1.367300 -0.136236
v -3.712748 -1.423629 -0.132249
v -3.730647 -1.393886 -0.064737
v -3.729430 -1.395751 -0.138964
v -3.712207 -1.440015 -0.076468
v -3.721781 -1.470775 -0.114878
v -3.723255 -1.467417 -0.061607
v -3.752716 -1.479944 -0.068384
v -3.795882 -1.450409 -0.124282
v -3.763011 -1.483463 -0.132021
v -3.811349 -1.254167 -0.030305
v -3.791649 -1.334909 -0.051525
v -3.828547 -1.290119 -0.047249
v -3.799398 -1.376050 -0.051801
v -3.834476 -1.304320 -0.070553
v -3.814052 -1.404128 -0.123935
v -3.785901 -1.292286 -0.060140
v -3.756484 -1.353169 -0.080825
v -3.772157 -1.331679 -0.113523
v -3.801858 -1.234840 -0.044549
v -3.833033 -1.167034 0.027068
v -3.821908 -1.166997 0.021455
v -3.840446 -1.191059 0.007884
v -3.833632 -1.264412 -0.070391
v -3.818538 -1.178553 -0.001065
v -3.821015 -1.235528 -0.057852
v -3.830491 -1.191948 -0.014576
v -3.291580 -1.468215 0.492230
v -3.298112 -1.466399 0.484668
v -3.307860 -1.396111 0.480234
v -3.297290 -1.438326 0.490853
v -3.296544 -1.449196 0.479574
v -3.342660 -1.359658 0.452026
v -3.633249 -1.411126 -0.465230
v -3.703691 -1.396755 -0.503392
v -3.672224 -1.426307 -0.489212
v -3.740653 -1.382497 -0.169720
v -3.684921 -1.382446 0.076174
v -3.594157 -1.230320 0.277967
v -3.682262 -1.217769 0.247395
v -3.483717 -1.289786 0.407226
v -3.578415 -1.261128 0.337379
v -3.803753 -1.417067 -0.062265
v -3.774304 -1.369577 -0.042421
v -3.787765 -1.432317 -0.198503
v -3.590268 -1.306302 0.220578
v -3.576618 -1.243054 0.259693
v -3.464468 -1.204204 0.425977
v -3.706948 -1.453000 -0.039917
v -3.759881 -1.359928 -0.058911
v -2.220199 1.114900 -0.549534
v -2.301899 1.000135 -0.705016
v -2.198001 1.015329 -0.539239
v -2.261249 0.966627 -0.736421
v -2.302805 1.035177 -0.714146
v -2.016132 1.096349 -0.598471
v -2.026062 1.024677 -0.602282
v -2.114506 1.039962 -0.693242
v -2.145249 0.960222 -0.700354
v -2.232428 1.118778 -0.463172
v -2.218179 1.018611 -0.457449
v -2.336670 1.017039 -0.284904
v -2.313729 1.114285 -0.289272
v -2.197755 0.930594 -0.699879
v -2.149171 0.983829 -0.541149
v -2.069218 0.970491 -0.613700
v -2.072408 0.985695 -0.493886
v -2.260746 0.947140 -0.697424
v -2.162959 1.179971 -0.609344
v -2.095898 1.140062 -0.647774
v -2.210886 1.095005 -0.711844
v -2.031538 1.184135 -0.540715
v -2.260510 1.104961 -0.685599
v -2.272948 0.913536 -0.224782
v -2.190887 0.900777 -0.120529
v -2.130062 0.972779 -0.423636
v -2.172299 0.985192 -0.451956
v -2.106654 1.201645 -0.447989
v -2.239299 1.159624 -0.331749
v -2.173083 1.191191 -0.504105
v -1.992285 1.122539 -0.495497
v -2.110199 1.061475 -0.284337
v -2.007014 1.026717 -0.500151
v -2.123890 0.973712 -0.294156
v -2.335530 0.769657 0.391493
v -2.429533 0.707232 0.429793
v -2.146565 0.967003 -0.127745
v -2.154017 1.031031 -0.127841
v -2.125089 0.894421 0.075762
v -2.135266 0.950777 0.094054
v -2.274490 1.017503 0.124322
v -2.333105 1.018634 0.092986
v -2.174280 1.112135 -0.231897
v -2.189206 1.006926 0.091775
v -2.374772 0.970125 -0.113799
v -2.362605 1.043056 -0.140718
v -2.361010 1.018064 0.025359
v -2.476380 0.455810 0.503944
v -2.466271 0.647804 0.423258
v -2.354301 0.670912 0.346418
v -2.399310 0.562075 0.416127
v -2.313254 0.713921 0.401120
v -2.245586 0.729844 0.340233
v -2.335913 0.624210 0.417792
v -2.299796 0.684650 0.357664
v -2.288745 0.118550 0.532658
v -2.458598 0.560576 0.426605
v -2.349451 0.390738 0.477038
v -2.328249 0.397290 0.506786
v -2.357265 0.522759 0.488910
v -2.348346 0.408802 0.553962
v -2.226779 0.164717 0.595363
v -2.208373 0.137421 0.544796
v -2.397576 0.467979 0.554333
v -2.443609 0.433497 0.562256
v -2.334806 0.168527 0.659099
v -1.967616 -0.114503 0.671330
v -2.333336 0.052119 0.682327
v -2.267912 -0.023538 0.686383
v -2.396123 0.011414 0.611348
v -2.388897 0.145046 0.612396
v -2.374640 0.058955 0.659040
v -2.383865 0.141011 0.571576
v -1.592071 -0.241319 0.677399
v -2.006325 -0.053578 0.616506
v -2.121757 0.046036 0.592304
v -2.023122 -0.061238 0.656585
v -2.226647 0.090970 0.653108
v -2.260496 -0.015727 0.586459
v -2.055139 -0.036214 0.591949
v -1.863338 -0.174442 0.627967
v -2.181313 -0.096542 0.636665
v -2.169159 -0.077332 0.669093
v -1.919884 -0.171421 0.655015
v -1.472199 -0.345806 0.671966
v -1.470029 -0.350345 0.646078
v -1.667319 -0.232413 0.657781
v -1.671980 -0.221249 0.632014
v -1.857653 -0.133193 0.620983
v -1.621568 -0.179565 0.654729
v -1.869973 -0.116411 0.636558
v -1.571811 -0.211211 0.629878
v -1.321786 -0.518809 0.658487
v -1.339527 -0.513675 0.659855
v -1.384946 -0.395665 0.642740
v -1.387121 -0.373276 0.665135
v -1.505246 -0.241991 0.636156
v -1.455768 -0.289794 0.674371
v -1.342317 -0.500177 0.672240
v -2.512125 -0.561174 0.688250
v -2.494566 -0.380294 0.675478
v -2.484398 -0.517426 0.692252
v -2.534732 -0.347044 0.706327
v -2.476266 -0.215957 0.659044
v -2.418958 -0.122310 0.631539
v -2.364060 -0.136831 0.641246
v -2.409570 -0.214852 0.701722
v -2.352236 -0.129029 0.693141
v -2.422665 -0.229093 0.663425
v -2.536255 -0.524519 0.740036
v -2.397619 -0.796158 0.727373
v -2.472015 -0.414196 0.700441
v -2.494620 -0.423465 0.736763
v -2.484940 -0.556720 0.735551
v -2.628046 -0.544252 0.712880
v -2.543482 -0.599233 0.700454
v -2.371353 -0.840842 0.710579
v -2.401386 -0.830318 0.709945
v -2.519943 -0.616077 0.724096
v -2.389224 -0.833049 0.694356
v -2.459269 -0.646458 0.695967
v -2.463954 -0.611962 0.721117
v -2.861484 -0.577509 0.734779
v -2.690310 -0.516411 0.731661
v -2.688279 -0.486031 0.700283
v -2.643425 -0.441490 0.707478
v -2.571984 -0.390037 0.692070
v -2.892188 -0.606093 0.725683
v -2.884832 -0.590539 0.715409
v -2.724128 -0.545504 0.719371
v -2.821881 -0.532759 0.725867
v -2.884522 -0.570791 0.719316
v -2.036701 0.842950 0.202131
v -2.023730 0.779320 0.205193
v -2.289872 0.812634 0.157252
v -2.202871 0.806978 0.150274
v -2.305299 0.754961 0.261219
v -2.190850 0.734313 0.295073
v -2.355711 0.832990 0.283776
v -2.343870 0.822633 0.214038
v -2.346582 0.860502 0.291111
v -2.288285 0.946453 0.235250
v -2.182453 0.874542 0.289100
v -1.801196 0.567426 0.366607
v -2.074383 0.734102 0.294727
v -2.147372 0.781468 0.311315
v -1.872704 0.669066 0.340574
v -1.909789 0.736684 0.312633
v -1.907139 0.659634 0.319486
v -2.159412 0.942544 0.215990
v -2.030976 0.742345 0.228045
v -1.870862 0.641594 0.303433
v -2.031556 0.715406 0.283212
v -1.689107 0.462163 0.427526
v -1.700408 0.465927 0.437483
v -1.704683 0.456867 0.420698
v -1.724278 0.532384 0.414527
v -1.855787 0.696883 0.311798
v -1.816954 0.640064 0.315355
v -1.735401 0.553197 0.375835
v -1.720390 0.495117 0.386544
v -2.218929 1.068021 -0.521852
v -2.076128 1.204246 -0.519505
v -2.043070 1.173701 -0.454554
v -2.153927 0.841553 0.091500
v -2.332847 0.942317 -0.218312
v -2.483861 0.563892 0.475274
v -2.361378 0.536517 0.444233
v -2.454071 0.591435 0.498529
v -2.281756 -0.091790 0.665952
v -2.296669 -0.094698 0.634600
v -2.355712 0.098694 0.553038
v -1.562129 -0.282555 0.647377
v -2.549171 -0.411040 0.728394
v -2.131335 0.945620 0.172422
v -2.473806 0.511774 0.453158
v -1.562906 -0.209579 0.674087
v -2.367373 0.751043 0.301821
v -1.101501 1.319480 -1.136776
v -1.072267 1.351883 -0.984234
v -1.366290 1.500088 -1.367419
v -1.592431 1.147196 -1.300841
v -1.542420 1.388072 -1.492712
v -2.365111 1.401366 -1.174639
v -1.993374 1.230410 -1.068325
v -2.463055 1.577953 -1.051171
v -1.754877 1.722059 -0.963153
v -1.989787 1.599767 -0.892731
v -1.336421 0.537175 -0.305152
v -0.984502 0.497908 -0.306084
v -3.301217 1.725612 -0.953763
v -3.188316 1.869614 -0.873997
v -3.451364 1.666862 -1.048936
v -1.603021 0.457362 -0.668903
v -1.513855 0.360436 -0.954713
v -1.684688 0.873493 -0.807304
v -0.774754 0.360651 -0.694619
v -0.837634 0.437449 -0.456607
v -1.215631 0.289968 -1.085039
v -1.017138 0.609049 -1.103274
v -1.271118 0.655652 -1.186831
v -3.250888 1.860645 -0.943488
v -3.485634 1.726526 -1.132752
v -3.404851 2.476286 -1.515905
v -3.508790 2.312280 -1.639892
v -3.238787 2.513905 -1.440945
v -3.647862 1.812380 -1.499678
v -3.644259 1.706272 -1.318947
v -3.650773 1.974004 -1.609875
v -3.019470 2.227857 -1.242372
v -3.016641 2.001194 -1.100085
v -3.371459 2.428926 -1.424891
v -3.536137 2.281944 -1.522263
v -3.643956 2.204635 -1.625287
v -3.061563 2.277679 -0.956030
v -3.196573 2.458432 -1.225379
v -3.093774 2.225466 -1.009292
v -3.624221 1.819424 -1.344265
v -3.637913 2.098955 -1.526554
v -3.702333 1.945891 -1.505572
v -3.160913 2.122922 -1.509727
v -3.012445 2.083500 -1.288395
v -3.323634 1.905305 -1.533471
v -3.170923 1.792660 -1.290727
v -3.463141 1.882692 -1.534002
v -3.374967 1.728146 -1.364884
v -3.220019 1.740928 -1.170728
v -3.089972 1.846095 -1.132608
v -3.240936 2.284480 -1.527121
v -3.388916 2.108621 -1.612680
v -1.393530 0.961295 -1.218531
v -1.119044 1.058164 -1.164850
v -0.881478 0.932595 -0.688543
v -0.861053 0.842310 -0.900156
v -1.840956 1.147928 -0.874211
v -1.670793 0.967999 -1.073151
v -1.365879 1.080653 -0.521049
v -1.520969 1.077173 -0.563638
v -1.192720 1.102119 -0.540394
v -2.587198 2.117579 -1.046069
v -2.713982 2.029456 -0.973680
v -3.119354 2.483418 -1.174591
v -2.844504 1.549318 -1.216790
v -2.933336 1.773612 -0.972354
v -2.817370 1.642643 -1.658810
v -2.783792 1.483368 -1.482532
v -2.223207 1.499402 -1.640861
v -1.797423 1.690050 -1.537939
v -1.698683 1.788301 -1.310262
v -2.680198 2.053021 -1.627686
v -3.166235 2.534894 -1.312270
v -1.780044 1.145149 -1.213779
v -1.946323 1.380537 -0.828976
v -0.861842 0.300087 -0.930368
v -3.563593 1.681863 -1.173752
v -3.169877 2.004271 -1.713429
v -3.097816 2.018519 -0.862611
v -1.011697 0.932906 -0.513849
v -1.613655 0.940812 -0.610686
v -1.539876 0.862585 -1.166789
v -0.922122 0.796724 -1.023570
v -1.626686 1.766187 -1.126675
v -1.959921 1.594664 -1.639797
v -2.407953 1.700419 -0.978609
v -1.161481 1.337698 -0.786116
v -3.473618 1.609469 -1.232216
v -1.525705 0.515950 -0.447143
v -3.140078 2.033770 -0.917368
v -3.105496 2.308629 -1.389364
v -3.215499 1.268910 -0.523973
v -3.192176 1.041404 -0.599601
v -3.026140 1.512005 -0.796785
v -2.890556 1.045386 -0.739368
v -2.516056 1.265654 -0.692152
v -2.884417 1.459487 -0.892533
v -2.388726 1.375816 -0.336407
v -2.504619 1.197685 -0.284193
v -2.286079 1.456447 -0.634691
v -2.752130 1.267693 -0.168214
v -1.871874 1.721876 -0.188594
v -1.755189 1.745452 -0.343216
v -2.389945 0.839530 -0.503868
v -3.071480 0.335023 -0.469610
v -3.040808 0.322933 -0.225434
v -2.638644 0.636003 -0.789558
v -1.981670 1.786565 -0.052175
v -1.773167 1.852423 -0.399470
v -1.972527 1.814152 -0.142721
v -2.307943 2.481967 -0.556132
v -2.407488 2.459535 -0.403850
v -2.150049 2.449062 -0.698350
v -2.367345 2.129566 -0.010194
v -2.264729 1.977514 0.040689
v -2.433240 2.282777 -0.111760
v -1.847115 2.023398 -0.777570
v -1.901225 2.212441 -0.808223
v -1.804833 2.180740 -0.735428
v -1.735176 1.909760 -0.645106
v -2.420514 2.049999 -0.252216
v -2.272267 1.837057 -0.185179
v -2.285417 2.443099 -0.428903
v -2.167146 2.405434 -0.582325
v -2.013947 2.402870 -0.708529
v -2.346984 2.199488 -0.107109
v -2.164993 1.937775 -0.008708
v -1.721665 2.007398 -0.612212
v -1.947935 2.301219 -0.691016
v -1.771867 2.032475 -0.599864
v -2.346856 2.072402 -0.562978
v -2.115407 1.767865 -0.457602
v -2.122548 1.976172 -0.684426
v -2.376509 1.931024 -0.335589
v -1.997469 2.029314 -0.722363
v -1.943417 1.829350 -0.590469
v -2.011218 1.732617 -0.371817
v -2.152793 1.748730 -0.276856
v -2.359704 2.252435 -0.549692
v -2.187163 2.192671 -0.713297
v -2.904676 0.759649 -0.718073
v -2.586073 1.063217 -0.664491
v -3.223706 0.855342 -0.362782
v -2.470308 1.133009 -0.401521
v -2.411613 0.798179 -0.254600
v -2.488836 1.131260 -0.521034
v -2.820697 0.619307 -0.017872
v -2.527979 0.732504 -0.076446
v -2.904273 1.423977 -0.201429
v -3.040265 1.427480 -0.262455
v -2.534786 1.557889 -0.118494
v -2.215217 1.517592 -0.362178
v -2.247905 1.582265 -0.186538
v -2.339887 1.614471 -0.861049
v -2.385300 1.852746 -0.931288
v -3.040721 1.676199 -0.627879
v -2.667583 1.943509 -0.849667
v -2.460055 2.393058 -0.254524
v -3.091083 0.637622 -0.621434
v -2.601849 1.221688 -0.201300
v -1.702780 1.860437 -0.466717
v -2.031824 2.345273 -0.800219
v -2.362981 2.368704 -0.250864
v -2.463919 0.711374 -0.704666
v -3.105117 1.523807 -0.388822
v -2.674182 1.783269 -0.938841
v -3.025816 0.634875 -0.210874
v -1.760731 1.768162 -0.527805
v -2.146586 1.833490 0.024647
v -2.435768 2.183362 -0.384451
v -4.484924 0.543321 -0.637161
v -4.092868 0.288502 -0.624860
v -4.230126 0.880896 -0.809544
v -4.019209 0.486605 -0.710533
v -4.307859 0.778467 -0.835062
v -3.896440 0.812020 -0.417519
v -3.973784 0.812842 -0.310885
v -3.830371 0.744180 -0.518030
v -4.077422 0.567201 -0.185935
v -4.231160 0.361645 -0.288810
v -3.549988 0.165959 -0.067115
v -3.450928 0.336964 -0.090995
v -4.253305 1.177520 -0.229756
v -4.294913 1.265172 -0.346751
v -4.265747 1.063602 -0.122765
v -3.358552 0.498218 -0.303357
v -3.369277 0.481817 -0.531315
v -3.670547 -0.042039 -0.528382
v -3.680556 -0.059898 -0.321734
v -3.558621 0.153659 -0.722419
v -3.459270 0.326401 -0.706001
v -4.303907 1.119276 -0.171448
v -4.345523 1.216730 -0.340795
v -4.314039 1.089538 -0.196797
v -4.804018 0.763106 -0.534987
v -4.775936 0.678579 -0.410281
v -4.776922 0.862225 -0.652746
v -4.528552 0.739782 -0.093009
v -4.618754 0.659712 -0.175227
v -4.531784 1.202735 -0.678519
v -4.639466 1.103375 -0.724333
v -4.451821 1.291297 -0.563535
v -4.447519 0.708825 -0.284049
v -4.297019 0.850595 -0.230631
v -4.793071 0.759079 -0.442928
v -4.747118 0.770177 -0.436781
v -4.761247 0.909963 -0.570088
v -4.786053 0.958394 -0.650244
v -4.570776 0.749903 -0.169879
v -4.412494 0.854775 -0.047815
v -4.382876 0.911816 -0.110238
v -4.638080 1.165383 -0.665069
v -4.652433 1.106143 -0.626096
v -4.509608 1.222156 -0.561080
v -4.473796 0.764261 -0.531685
v -4.260837 0.982331 -0.447716
v -4.424194 0.952328 -0.628464
v -4.358889 0.757432 -0.350488
v -4.480717 1.044701 -0.658695
v -4.329425 1.110705 -0.553593
v -4.245244 1.068581 -0.379356
v -4.241378 0.955101 -0.303685
v -4.614201 0.733069 -0.521100
v -4.587283 0.876063 -0.651471
v -3.877823 0.426101 -0.695296
v -3.894630 0.607400 -0.670713
v -3.934090 0.290106 -0.666891
v -3.980713 0.080439 -0.389950
v -3.964826 0.099305 -0.499516
v -3.999208 0.108738 -0.280631
v -3.589459 0.605526 -0.416953
v -3.620813 0.584738 -0.285330
v -3.887525 0.369191 -0.103397
v -3.949510 0.263657 -0.122296
v -3.869714 0.500875 -0.131653
v -4.269228 0.579625 -0.218556
v -4.353635 0.500530 -0.286054
v -4.174663 0.677371 -0.190173
v -4.063420 1.050055 -0.497461
v -4.417102 1.004048 -0.806859
v -4.187271 1.029887 -0.735561
v -4.504155 0.667805 -0.754114
v -4.445781 0.467887 -0.513357
v -3.636684 0.016036 -0.154316
v -4.693641 0.962796 -0.748746
v -4.397149 1.250601 -0.441363
v -4.705463 0.716880 -0.282972
v -3.845328 0.605822 -0.191909
v -3.642741 0.006212 -0.637964
v -4.367705 0.669138 -0.812693
v -4.109810 1.068723 -0.625165
v -4.074520 0.769736 -0.217950
v -3.964814 0.164341 -0.174338
v -4.712862 0.637496 -0.285436
v -4.356503 1.303795 -0.468150
v -3.397448 0.429575 -0.156299
v -3.403569 0.422942 -0.643813
v -4.311859 0.941866 -0.059997
v -4.725245 1.011420 -0.622169
v -4.550855 0.681195 -0.389424
v -3.848089 0.695944 -0.612568
v -4.433056 0.468024 -0.385569
v -3.364292 -1.762151 -0.375629
v -3.761203 -1.297886 -0.096179
v -3.181236 -1.667769 0.325376
v -3.845778 -1.209320 -0.674823
v -3.051779 -0.762820 -1.061696
v -2.800585 -1.281711 -0.813439
v -3.492964 -1.321958 -0.974560
v -3.096636 -1.693249 -0.690654
v -2.503409 -0.574323 0.506810
v -3.016658 -1.030188 0.758566
v -2.595118 -1.278167 0.625928
v -2.757995 -0.235532 0.708368
v -2.564049 -1.532861 -0.248706
v -2.899466 -1.894302 -0.045103
v -2.700062 -1.625192 0.469719
v -3.506500 -0.152495 0.707084
v -3.252368 0.253379 0.709069
v -3.618523 0.084745 0.491482
v -3.923275 -0.099655 -0.297870
v -3.568824 0.495699 -0.918996
v -3.615575 0.150176 -1.269764
v -3.887034 -0.294820 -1.252353
v -3.850934 0.106902 -1.166401
v -3.224760 0.697398 -0.506254
v -2.876997 0.507813 0.107865
v -3.113871 0.572798 0.443409
v -3.327276 0.552383 0.382928
v -3.981454 -0.786470 -0.164304
v -4.064712 -0.479952 -1.068049
v -3.786145 -0.614678 0.415541
v -3.239574 0.481126 -0.943186
vn -0.6714 -0.7195 0.1777
vn -0.4870 -0.8731 -0.0220
vn 0.6705 -0.4712 -0.5730
vn 0.3245 -0.3998 -0.8572
vn -0.0651 -0.8764 -0.4771
vn 0.8825 -0.4078 -0.2341
vn 0.1353 -0.0876 0.9869
vn -0.3345 -0.7022 0.6285
vn 0.5017 -0.7744 0.3855
vn 0.5017 -0.8641 -0.0398
vn 0.6045 -0.7862 -0.1281
vn -0.1264 0.9566 0.2626
vn 0.0009 0.2943 0.9557
vn -0.1717 0.3496 0.9210
vn -0.2869 -0.0720 0.9552
vn 0.8560 0.0518 -0.5144
vn 0.9953 -0.0958 0.0126
vn 0.9486 -0.1085 0.2972
vn 0.9300 -0.0133 -0.3672
vn -0.0722 0.0608 -0.9955
vn 0.1924 0.0643 -0.9792
vn 0.5739 0.0714 -0.8158
vn -0.7771 0.2804 -0.5634
vn -0.4742 0.8481 0.2362
vn -0.4127 0.9019 -0.1273
vn -0.7535 0.6405 -0.1486
vn 0.0120 0.6996 -0.7145
vn 0.3860 0.4682 -0.7949
vn 0.8138 0.5068 -0.2842
vn 0.9492 0.3035 0.0831
vn 0.9092 0.3303 -0.2534
vn 0.9503 0.2996 -0.0851
vn -0.1062 0.7521 0.6505
vn -0.0285 0.3447 0.9383
vn 0.0049 -0.2207 0.9753
vn -0.3077 -0.3945 0.8658
vn -0.5617 -0.4374 0.7022
vn -0.2538 -0.4457 0.8585
vn 0.9190 -0.1668 -0.3571
vn 0.9335 -0.3491 0.0820
vn 0.7253 -0.1472 -0.6725
vn 0.2811 -0.0657 -0.9574
vn -0.6834 -0.5019 0.5301
vn -0.6511 -0.4390 -0.6192
vn -0.6458 -0.6818 0.3436
vn -0.5953 -0.3372 -0.7293
vn -0.2460 -0.2478 -0.9371
vn -0.3571 -0.3386 -0.8705
vn -0.4699 -0.5295 -0.7063
vn 0.0186 -0.1947 0.9807
vn 0.0087 -0.3914 0.9202
vn 0.6149 -0.3911 0.6848
vn 0.5316 -0.3596 0.7669
vn 0.1039 0.7162 0.6901
vn 0.4049 0.4352 0.8042
vn 0.8069 0.3170 0.4984
vn -0.2588 0.4258 -0.8670
vn -0.3880 0.8526 -0.3501
vn -0.0944 0.8858 -0.4544
vn -0.5699 0.5467 -0.6135
vn -0.4449 -0.0115 -0.8955
vn -0.4971 0.1428 -0.8559
vn -0.1320 -0.0226 -0.9910
vn -0.4313 -0.0624 -0.9001
vn 0.4683 0.0280 0.8831
vn 0.8172 -0.1117 0.5654
vn 0.6337 0.7572 0.1582
vn 0.5867 0.7963 -0.1474
vn 0.2803 0.9109 -0.3027
vn 0.1414 0.9558 0.2577
vn -0.3616 -0.8855 0.2918
vn 0.0971 -0.9845 -0.1461
vn 0.2359 -0.8801 0.4120
vn 0.0471 -0.3056 0.9510
vn 0.4094 -0.4684 0.7830
vn -0.2161 -0.8001 -0.5596
vn -0.4194 -0.7869 -0.4527
vn -0.6178 -0.7863 0.0078
vn -0.6651 -0.7143 0.2178
vn -0.6557 -0.7277 -0.2013
vn -0.5197 -0.8530 -0.0485
vn -0.2174 -0.6081 -0.7635
vn 0.4756 -0.4065 -0.7801
vn 0.3934 -0.8534 -0.3420
vn 0.8777 -0.3978 -0.2671
vn 0.9193 -0.3917 0.0372
vn 0.8458 -0.5307 0.0548
vn 0.7708 -0.6327 -0.0739
vn 0.6232 -0.7487 0.2260
vn 0.7711 -0.6049 0.1987
vn -0.0311 0.9938 -0.1069
vn -0.2239 0.9737 0.0420
vn -0.2215 0.9661 0.1329
vn -0.2663 0.2163 0.9393
vn -0.1881 0.0961 0.9774
vn -0.4709 -0.1186 0.8742
vn -0.0000 0.1322 0.9912
vn 0.9980 -0.0456 -0.0438
vn 0.9477 -0.1076 0.3005
vn 0.9780 0.0065 -0.2086
vn -0.0827 0.0763 -0.9937
vn 0.6677 0.0455 -0.7430
vn 0.1648 0.0581 -0.9846
vn -0.4855 0.8452 0.2235
vn -0.5337 0.8455 -0.0196
vn -0.7584 0.5906 -0.2759
vn -0.0071 0.4445 -0.8958
vn 0.3566 0.5107 -0.7823
vn 0.7050 0.4338 -0.5610
vn 0.7459 0.6486 -0.1516
vn 0.8014 0.5980 0.0141
vn 0.9385 0.3444 0.0254
vn 0.9286 0.2733 0.2510
vn -0.0130 0.6219 0.7830
vn -0.3875 0.7657 0.5134
vn -0.3795 0.5172 0.7671
vn -0.2053 -0.2571 0.9443
vn 0.9013 -0.1831 -0.3926
vn 0.9754 -0.2166 -0.0412
vn 0.9066 -0.3494 0.2368
vn 0.1464 -0.1148 -0.9825
vn 0.5859 -0.0828 -0.8061
vn 0.1384 -0.3086 -0.9411
vn -0.6984 -0.6676 -0.2579
vn -0.7327 -0.6799 0.0285
vn -0.6812 -0.5140 -0.5214
vn -0.1346 -0.0964 -0.9862
vn -0.2422 -0.4175 -0.8758
vn -0.6840 -0.4704 -0.5575
vn 0.2835 -0.2092 0.9359
vn 0.0443 -0.4154 0.9086
vn 0.4144 -0.3942 0.8203
vn 0.7575 -0.4098 0.5082
vn 0.6212 0.7566 0.2041
vn 0.1917 0.8419 0.5044
vn 0.6055 0.4738 0.6394
vn 0.2244 0.2986 0.9276
vn -0.4090 0.6782 -0.6105
vn -0.0372 0.3568 -0.9334
vn -0.1476 0.0827 -0.9856
vn -0.2843 -0.0549 -0.9572
vn -0.5956 -0.3367 -0.7294
vn 0.3244 0.1015 0.9405
vn 0.0211 0.0952 0.9952
vn 0.5582 0.0231 0.8294
vn 0.5067 0.8610 0.0444
vn 0.4908 0.8345 -0.2504
vn 0.1199 0.9893 -0.0831
vn 0.2516 0.9638 0.0882
vn 0.0696 -0.9897 -0.1254
vn 0.1471 -0.8660 0.4779
vn -0.4173 -0.7859 -0.4563
vn -0.3865 0.8867 -0.2536
vn 0.3472 -0.7008 0.6232
vn 0.8276 -0.5602 0.0365
vn 0.5355 -0.3862 0.7511
vn 0.1987 -0.5048 -0.8401
vn -0.0583 0.2463 -0.9675
vn 0.2978 0.4477 -0.8431
vn 0.8764 -0.3968 -0.2728
vn 0.9158 0.3603 0.1776
vn -0.1911 0.4998 -0.8448
vn -0.4630 0.3284 -0.8233
vn -0.0140 0.7963 -0.6048
vn 0.9032 0.0258 0.4285
vn 0.6788 -0.7198 0.1456
vn 0.4480 -0.8499 -0.2774
vn 0.8101 -0.5606 0.1718
vn 0.9705 -0.2378 0.0409
vn 0.5668 -0.7953 -0.2151
vn 0.5784 0.2678 0.7705
vn 0.5722 0.2914 0.7666
vn 0.4118 0.9055 0.1024
vn 0.2109 0.8827 0.4199
vn -0.4954 -0.2447 -0.8335
vn -0.2735 -0.3083 -0.9111
vn -0.1952 -0.5325 -0.8236
vn -0.1798 -0.9057 -0.3838
vn 0.8034 0.5408 0.2492
vn 0.9432 0.1261 0.3074
vn 0.6516 0.5655 0.5056
vn 0.0935 0.9378 0.3342
vn 0.9857 0.0807 0.1476
vn -0.2363 -0.8987 -0.3696
vn -0.8805 -0.1500 -0.4496
vn -0.6564 0.6723 -0.3423
vn -0.8159 -0.5369 -0.2146
vn -0.5712 0.7861 0.2363
vn -0.9439 0.3285 0.0341
vn -0.6131 -0.7886 0.0478
vn -0.6134 -0.7191 0.3264
vn -0.8254 -0.3411 0.4498
vn 0.0065 0.9648 0.2629
vn -0.0695 0.9918 -0.1077
vn -0.9008 0.2509 -0.3544
vn -0.4058 -0.8877 -0.2175
vn -0.8368 -0.4551 -0.3042
vn -0.3256 -0.9416 -0.0858
vn 0.5319 -0.6734 0.5134
vn 0.4937 -0.8662 -0.0778
vn 0.1014 -0.9905 -0.0927
vn 0.7496 -0.6273 0.2111
vn 0.8972 -0.3180 0.3065
vn 0.4119 -0.8992 0.1473
vn 0.0931 -0.8685 0.4868
vn -0.7423 0.5578 0.3713
vn 0.4249 -0.8761 -0.2280
vn 0.8374 -0.4247 -0.3440
vn 0.7895 -0.6045 -0.1061
vn 0.2192 -0.9370 0.2720
vn 0.8968 0.1699 -0.4085
vn 0.8774 0.3806 -0.2922
vn 0.7621 0.6427 0.0784
vn 0.5214 0.8400 -0.1501
vn 0.4226 0.7399 -0.5235
vn 0.8386 0.4441 -0.3154
vn -0.1862 0.6262 0.7571
vn -0.4129 0.5611 0.7174
vn -0.8176 -0.0593 0.5727
vn -0.2793 0.9421 0.1855
vn 0.8021 0.1855 -0.5677
vn -0.5234 0.8330 -0.1794
vn -0.0377 0.9591 -0.2807
vn 0.1590 0.8256 -0.5414
vn 0.6421 0.3507 -0.6817
vn -0.2479 -0.6367 0.7302
vn -0.0483 0.7921 -0.6085
vn -0.8414 0.4855 -0.2372
vn -0.9445 0.3087 0.1123
vn -0.9062 0.4183 -0.0621
vn -0.5600 0.6123 -0.5581
vn -0.8311 -0.2094 0.5152
vn -0.3402 -0.8219 0.4568
vn -0.6564 0.1164 0.7453
vn -0.6375 -0.2668 0.7228
vn -0.5185 -0.3897 0.7611
vn -0.2744 -0.8269 0.4909
vn -0.8009 -0.1692 0.5744
vn -0.5475 -0.0407 0.8358
vn -0.7507 -0.3123 0.5822
vn -0.8018 -0.1707 0.5727
vn -0.3546 -0.6623 0.6601
vn -0.6154 -0.4382 0.6552
vn 0.4274 -0.8503 0.3070
vn 0.8195 -0.5463 -0.1735
vn -0.9890 0.1207 -0.0860
vn 0.1539 -0.9879 0.0206
vn -0.6843 -0.1984 0.7017
vn -0.4846 0.2603 -0.8351
vn -0.6875 0.3551 -0.6334
vn -0.9877 -0.0966 -0.1232
vn 0.5296 0.3336 -0.7799
vn -0.6783 0.1065 -0.7270
vn 0.7073 0.4830 -0.5162
vn 0.4194 0.4069 -0.8115
vn 0.3833 0.3347 -0.8608
vn 0.2608 0.3013 -0.9172
vn 0.5167 0.4922 0.7005
vn 0.7405 0.6075 0.2874
vn 0.8241 0.3226 0.4656
vn 0.0358 -0.1621 0.9861
vn 0.8943 0.0028 0.4474
vn 0.7751 0.4103 0.4805
vn 0.8659 0.4090 -0.2880
vn -0.5700 -0.2014 -0.7966
vn -0.9358 -0.3492 -0.0479
vn -0.2322 0.6632 -0.7115
vn 0.3727 -0.1491 0.9159
vn 0.8207 0.1097 -0.5607
vn -0.6625 0.1831 -0.7263
vn -0.2991 0.4038 -0.8646
vn -0.8956 0.0650 -0.4401
vn -0.9178 0.3534 -0.1808
vn -0.7163 0.4524 -0.5313
vn -0.7486 -0.1199 0.6520
vn -0.5780 -0.0220 0.8158
vn -0.5067 0.8521 0.1315
vn 0.7976 0.0217 -0.6028
vn 0.5071 -0.7771 -0.3727
vn -0.1481 -0.9078 0.3923
vn 0.7174 -0.2000 -0.6673
vn 0.7085 0.2510 -0.6595
vn 0.0111 0.9996 0.0249
vn -0.0857 0.9955 0.0417
vn -0.3693 0.6671 0.6470
vn -0.0282 0.8331 0.5525
vn -0.3262 0.9447 -0.0328
vn 0.9619 0.2312 0.1457
vn -0.0377 0.7402 -0.6713
vn -0.4963 -0.2687 0.8255
vn 0.2475 0.0168 0.9687
vn 0.6749 -0.3018 0.6734
vn 0.5032 0.1448 0.8519
vn 0.9617 -0.2224 0.1603
vn 0.9881 -0.1222 -0.0939
vn 0.2533 0.8162 -0.5192
vn 0.4427 0.3158 -0.8392
vn -0.0358 0.5782 -0.8151
vn -0.7152 0.6209 -0.3210
vn -0.6717 0.6369 -0.3783
vn -0.4675 -0.3275 0.8211
vn -0.7594 -0.5243 0.3854
vn -0.3625 -0.3575 0.8607
vn 0.6639 -0.1806 -0.7256
vn 0.7744 0.1038 -0.6242
vn 0.8735 0.0876 -0.4788
vn -0.1179 -0.9770 -0.1778
vn -0.3080 -0.9429 0.1270
vn -0.5913 -0.0617 0.8041
vn -0.1298 0.3056 0.9433
vn 0.4573 0.6411 0.6163
vn 0.7295 0.3193 -0.6049
vn 0.0693 -0.6096 -0.7897
vn -0.4441 -0.7526 -0.4863
vn -0.4406 0.6315 -0.6380
vn 0.4214 0.6052 -0.6754
vn -0.7960 0.2086 -0.5682
vn -0.3483 0.4602 -0.8167
vn 0.9070 -0.4088 0.1014
vn 0.9208 0.3765 0.1017
vn 0.7480 0.5927 0.2988
vn 0.9325 0.3490 0.0935
vn 0.4710 -0.8707 0.1417
vn 0.9719 0.1983 -0.1268
vn 0.3770 -0.9237 0.0687
vn -0.8562 -0.4726 -0.2088
vn -0.9148 -0.3578 -0.1873
vn -0.7141 -0.6981 -0.0515
vn -0.6972 -0.7123 0.0812
vn -0.8635 -0.4817 0.1494
vn 0.4080 -0.4291 0.8059
vn -0.4319 -0.4777 0.7651
vn 0.0873 -0.0231 0.9959
vn -0.4062 -0.1852 0.8948
vn 0.3303 0.1440 0.9328
vn -0.2641 -0.3049 0.9150
vn -0.9496 -0.1251 -0.2875
vn 0.8267 0.5620 -0.0269
vn 0.8207 0.5688 -0.0543
vn 0.9659 0.2511 0.0634
vn 0.7940 0.0562 0.6054
vn -0.2407 0.8484 -0.4714
vn -0.8444 -0.3344 0.4186
vn -0.8549 0.3393 -0.3924
vn 0.4283 0.6285 -0.6493
vn -0.5536 0.5231 -0.6480
vn 0.0338 -0.2780 -0.9600
vn 0.6823 0.5023 0.5312
vn 0.8337 0.2171 -0.5078
vn 0.8204 0.1816 -0.5422
vn -0.8675 -0.4356 -0.2404
vn 0.2910 -0.8544 0.4304
vn 0.3865 -0.1384 -0.9119
vn 0.2508 0.3160 -0.9150
vn 0.5864 0.6412 -0.4949
vn 0.9476 -0.2156 0.2360
vn -0.6114 0.5671 -0.5519
vn 0.0035 0.9994 0.0335
vn 0.1297 0.9355 -0.3286
vn 0.1804 -0.9624 -0.2033
vn 0.6886 -0.7002 0.1884
vn 0.8292 -0.5320 -0.1713
vn 0.5513 -0.0176 0.8341
vn 0.4573 0.7154 0.5282
vn -0.5231 -0.2982 -0.7984
vn -0.5094 -0.6562 -0.5567
vn -0.3067 -0.8532 -0.4220
vn 0.6354 0.7286 0.2557
vn 0.5160 0.8389 0.1732
vn 0.9006 0.2903 0.3234
vn 0.6299 0.6945 0.3477
vn 0.8716 0.4321 0.2314
vn -0.8344 -0.4178 -0.3595
vn -0.8772 -0.4255 -0.2225
vn -0.9167 0.2415 -0.3185
vn -0.9436 0.3292 0.0341
vn -0.5796 0.7799 0.2364
vn -0.7172 -0.5396 0.4409
vn -0.9044 -0.1817 0.3860
vn -0.5066 0.8620 -0.0183
vn -0.7271 0.6855 -0.0370
vn -0.9348 0.2021 -0.2920
vn -0.7763 0.5686 -0.2723
vn 0.7343 -0.6713 0.1010
vn 0.9175 -0.3919 0.0680
vn 0.9339 -0.3575 0.0028
vn 0.4507 -0.8628 -0.2291
vn -0.0395 -0.9982 -0.0453
vn 0.8359 -0.4275 -0.3443
vn -0.2264 -0.9573 0.1796
vn 0.4157 -0.9035 0.1044
vn 0.8695 0.4155 -0.2671
vn 0.9687 -0.1543 -0.1942
vn 0.3967 0.9176 0.0249
vn 0.0862 0.8252 0.5582
vn 0.6901 0.2227 -0.6886
vn 0.8248 -0.5118 -0.2404
vn 0.8422 0.2119 -0.4958
vn 0.4872 0.4932 -0.7207
vn 0.2229 0.5408 -0.8111
vn -0.5096 0.8372 -0.1985
vn -0.9836 0.1772 0.0338
vn -0.4647 0.5356 -0.7051
vn -0.7892 0.5682 -0.2333
vn -0.2431 -0.7520 0.6127
vn -0.7541 -0.2765 0.5957
vn -0.6609 0.3599 0.6586
vn -0.6757 0.3154 0.6663
vn -0.5017 -0.0401 0.8641
vn 0.1277 0.1387 0.9821
vn -0.7288 -0.2092 0.6520
vn -0.5599 0.1112 -0.8211
vn 0.8837 0.3708 -0.2857
vn 0.6392 0.3364 -0.6915
vn 0.8786 0.3653 -0.3076
vn 0.2917 0.5053 0.8121
vn 0.6252 0.6574 0.4207
vn 0.8171 0.3236 0.4771
vn 0.2424 0.1538 0.9579
vn 0.7871 0.0043 0.6168
vn 0.6188 -0.3426 0.7069
vn 0.1423 0.1432 0.9794
vn 0.7824 0.4107 0.4682
vn 0.9018 0.4112 -0.1329
vn 0.4481 0.2353 -0.8625
vn 0.3617 0.1780 -0.9151
vn -0.7964 -0.2556 -0.5480
vn 0.1348 -0.9826 0.1281
vn 0.6294 0.1847 -0.7548
vn -0.9976 0.0483 -0.0488
vn -0.6339 -0.1071 0.7659
vn -0.6595 -0.0010 0.7517
vn -0.5703 0.8212 -0.0184
vn 0.4283 -0.8686 -0.2492
vn 0.1118 -0.9930 0.0388
vn 0.7060 -0.2633 -0.6575
vn 0.5055 0.5586 -0.6576
vn 0.4298 0.7645 -0.4804
vn 0.4752 0.8673 -0.1483
vn 0.1733 0.7975 -0.5779
vn -0.7029 0.2209 0.6762
vn 0.0016 -0.2100 0.9777
vn -0.5063 0.1203 0.8539
vn -0.7168 0.6462 0.2621
vn -0.5131 0.7800 -0.3584
vn -0.1532 -0.2155 0.9644
vn -0.5775 0.0448 0.8152
vn -0.7143 0.6645 0.2194
vn 0.4977 0.2164 0.8399
vn 0.0222 0.3021 0.9530
vn 0.9518 0.3039 -0.0407
vn 0.8767 0.0200 -0.4807
vn -0.4159 0.6327 -0.6532
vn -0.4239 -0.0992 0.9002
vn -0.1858 -0.0852 0.9789
vn -0.3946 -0.3771 0.8379
vn 0.5776 -0.2652 -0.7720
vn 0.1178 -0.9400 -0.3202
vn -0.7644 -0.2077 0.6104
vn -0.6109 -0.0804 0.7876
vn 0.7241 0.6891 0.0268
vn 0.7174 0.2416 -0.6535
vn 0.5029 -0.1028 -0.8582
vn -0.1799 -0.9234 -0.3391
vn -0.5447 -0.6194 0.5654
vn 0.2769 -0.6384 -0.7181
vn -0.5935 -0.7956 -0.1214
vn -0.3023 0.4876 -0.8191
vn 0.8580 0.5137 0.0012
vn 0.8443 0.5359 0.0004
vn -0.0101 -0.9983 0.0568
vn 0.8215 -0.4896 -0.2922
vn -0.3642 -0.9248 0.1101
vn -0.9278 -0.3648 0.0784
vn 0.2160 -0.4989 0.8393
vn -0.3635 0.0622 0.9295
vn 0.5237 0.4517 0.7223
vn 0.7750 0.0231 0.6315
vn -0.9761 -0.0952 -0.1955
vn -0.9050 -0.2198 0.3642
vn -0.9612 -0.2540 0.1072
vn -0.9535 0.0214 -0.3006
vn 0.9026 0.3517 0.2484
vn 0.8783 0.4638 -0.1162
vn -0.3327 0.8002 -0.4990
vn -0.7694 0.5264 -0.3619
vn -0.9941 0.0215 -0.1067
vn 0.9580 0.2869 -0.0038
vn 0.8999 -0.1368 0.4140
vn 0.0100 0.7057 -0.7085
vn 0.6987 -0.2609 -0.6662
vn 0.0828 0.2626 0.9614
vn 0.9735 -0.1340 -0.1852
vn -0.8346 -0.1307 0.5351
vn -0.9011 -0.2383 -0.3623
vn -0.7191 -0.4874 0.4953
vn -0.3167 0.5172 -0.7951
vn 0.3573 0.3304 -0.8736
vn 0.2953 -0.0287 -0.9550
vn -0.6962 -0.1978 -0.6901
vn -0.2449 -0.8685 -0.4309
vn 0.6010 0.2352 -0.7638
vn 0.6368 0.4987 -0.5881
vn 0.6986 -0.1370 -0.7023
vn -0.4334 -0.8660 -0.2494
vn -0.9852 -0.1062 -0.1347
vn -0.8104 0.4566 -0.3671
vn -0.9296 -0.2975 -0.2174
vn -0.7204 -0.4816 -0.4991
vn -0.8910 0.1917 -0.4116
vn -0.2038 -0.9077 0.3668
vn -0.2224 -0.9018 0.3705
vn 0.4651 -0.8293 -0.3098
vn 0.5358 -0.8357 0.1203
vn 0.2259 0.8455 -0.4839
vn 0.0712 0.7513 -0.6561
vn -0.1515 0.7946 -0.5879
vn -0.5323 0.8348 -0.1402
vn 0.1133 -0.9715 -0.2081
vn 0.7017 -0.7119 -0.0283
vn -0.0875 -0.9401 -0.3295
vn -0.0321 -0.9956 -0.0884
vn -0.5583 -0.8211 -0.1191
vn 0.4303 -0.9009 0.0569
vn -0.4549 -0.7665 -0.4533
vn 0.4389 0.8783 0.1897
vn 0.8779 -0.1712 0.4473
vn -0.1369 0.9903 -0.0224
vn 0.3973 0.7972 0.4546
vn 0.0583 0.9157 0.3976
vn 0.7470 0.3803 0.5453
vn 0.9878 0.1506 -0.0393
vn -0.6530 0.6711 0.3511
vn 0.1169 0.4530 0.8838
vn 0.8322 -0.5470 0.0913
vn 0.8676 0.4598 0.1895
vn 0.7920 -0.5410 -0.2830
vn 0.7209 0.6929 0.0094
vn -0.4412 0.8756 0.1967
vn -0.9657 0.1619 -0.2029
vn 0.2328 0.9217 0.3103
vn -0.7888 0.1535 0.5952
vn -0.6923 0.7126 0.1139
vn -0.9101 -0.3006 -0.2851
vn -0.9108 -0.4019 -0.0949
vn -0.8095 -0.5602 -0.1757
vn -0.9946 0.0735 0.0730
vn -0.8326 -0.3413 -0.4362
vn -0.9778 -0.1142 -0.1754
vn -0.9505 -0.2982 -0.0877
vn -0.7759 0.4381 0.4539
vn -0.9784 -0.1967 -0.0640
vn -0.9222 0.3499 -0.1649
vn -0.7603 -0.0346 -0.6486
vn -0.9327 -0.0274 -0.3596
vn 0.4902 -0.6661 -0.5621
vn -0.1316 -0.4984 -0.8569
vn 0.0695 -0.7299 -0.6801
vn 0.9286 -0.0447 0.3683
vn 0.3816 -0.3667 -0.8485
vn -0.1394 -0.4926 -0.8590
vn 0.6297 -0.5398 0.5586
vn 0.5901 -0.4491 0.6708
vn 0.5768 0.3574 0.7345
vn 0.3504 0.3404 0.8726
vn 0.0017 -0.3917 -0.9201
vn 0.9273 -0.3252 -0.1855
vn 0.5496 0.7389 0.3899
vn -0.2043 -0.2752 -0.9394
vn -0.8682 0.0742 -0.4907
vn 0.5235 -0.1461 -0.8394
vn 0.1835 -0.1574 -0.9703
vn 0.9747 0.2224 -0.0212
vn 0.8191 -0.0613 -0.5703
vn 0.5436 0.4478 0.7099
vn 0.8985 0.4285 0.0958
vn 0.7577 0.2621 -0.5977
vn 0.3300 0.3940 0.8578
vn 0.2270 0.0344 0.9733
vn -0.1160 0.1517 0.9816
vn 0.1185 0.1957 0.9735
vn 0.4874 0.6646 0.5663
vn -0.0712 -0.3296 0.9414
vn -0.9275 0.0472 0.3707
vn -0.9903 0.0545 -0.1275
vn -0.1438 -0.3823 0.9128
vn 0.7450 0.6615 -0.0859
vn 0.4435 0.8062 -0.3916
vn 0.3579 0.8780 0.3178
vn -0.2157 -0.9107 -0.3523
vn 0.0069 -0.5228 -0.8524
vn -0.0125 -0.3742 -0.9273
vn 0.1741 -0.1121 -0.9783
vn 0.0588 -0.1745 -0.9829
vn 0.0986 -0.8719 0.4796
vn 0.0104 -0.2887 0.9574
vn -0.0177 -0.9948 0.1007
vn -0.2299 -0.8958 -0.3805
vn -0.5998 -0.7076 0.3736
vn -0.7823 -0.6214 0.0434
vn -0.6769 -0.5687 0.4673
vn -0.2162 -0.8757 0.4317
vn 0.1796 0.8142 0.5521
vn -0.0193 -0.1643 -0.9862
vn -0.0072 -0.1392 -0.9902
vn 0.0031 -0.2378 -0.9713
vn -0.1798 -0.2425 -0.9533
vn 0.6977 0.2832 0.6580
vn -0.1432 -0.6850 0.7143
vn 0.8270 -0.5545 -0.0930
vn -0.1286 -0.1850 -0.9743
vn 0.7068 0.5334 -0.4646
vn 0.5842 0.7811 0.2206
vn -0.1713 -0.1458 -0.9744
vn 0.0446 0.0631 0.9970
vn 0.3298 0.1685 0.9289
vn 0.7201 -0.0314 -0.6932
vn 0.1437 -0.0005 -0.9896
vn -0.7503 0.3604 0.5543
vn -0.7431 0.4942 0.4513
vn -0.3065 -0.0907 -0.9475
vn 0.0924 -0.2878 -0.9532
vn 0.4279 -0.2722 -0.8618
vn 0.4900 -0.8705 -0.0454
vn -0.2406 -0.3092 -0.9201
vn 0.4893 -0.3397 0.8032
vn 0.8471 -0.2683 0.4587
vn 0.0853 -0.0029 0.9964
vn -0.5228 -0.3409 0.7813
vn 0.8412 0.0562 0.5378
vn 0.7296 0.1005 0.6764
vn 0.7524 -0.0381 -0.6576
vn 0.9791 0.1885 -0.0761
vn -0.2363 -0.2074 0.9493
vn 0.0660 -0.4524 0.8894
vn -0.7335 -0.4712 -0.4898
vn -0.7716 -0.4563 0.4432
vn -0.2258 -0.1238 -0.9663
vn 0.3718 0.1475 -0.9165
vn 0.9383 0.3400 0.0628
vn 0.7091 0.2718 -0.6506
vn 0.1410 -0.3478 0.9269
vn -0.0514 0.0535 0.9972
vn -0.1019 0.2080 0.9728
vn -0.0535 -0.8842 -0.4640
vn -0.0614 -0.2713 -0.9605
vn -0.3140 0.3720 0.8735
vn -0.5787 0.6602 -0.4787
vn -0.5787 0.6601 -0.4789
vn -0.3640 0.8058 0.4671
vn -0.3811 0.4930 0.7821
vn 0.2243 -0.5888 0.7766
vn 0.1268 -0.3716 -0.9197
vn 0.1877 -0.6016 -0.7764
vn -0.2591 0.4027 -0.8779
vn 0.8376 0.1454 -0.5266
vn 0.8347 0.3005 -0.4614
vn 0.7081 0.5120 -0.4862
vn 0.0731 -0.7744 -0.6285
vn -0.5998 -0.6586 -0.4544
vn -0.3791 -0.6648 -0.6437
vn -0.9440 0.2587 0.2046
vn -0.9785 0.0994 -0.1809
vn 0.2599 0.8814 0.3945
vn -0.2512 0.8290 0.4997
vn 0.0586 0.6522 0.7558
vn -0.4927 -0.1261 0.8610
vn -0.7715 -0.4567 0.4430
vn -0.2527 0.2336 0.9389
vn 0.0411 0.2466 0.9682
vn 0.0022 -0.3275 0.9449
vn -0.3436 -0.5094 0.7890
vn 0.2732 0.6599 0.6999
vn -0.1377 -0.8898 -0.4351
vn -0.4229 -0.9042 0.0604
vn 0.1031 -0.8860 0.4520
vn -0.2231 0.2652 0.9380
vn -0.7414 -0.5233 0.4201
vn 0.3351 -0.2260 -0.9147
vn 0.7916 0.5211 -0.3191
vn 0.6012 0.0080 -0.7991
vn -0.9064 0.0844 0.4139
vn -0.1288 0.2350 -0.9634
vn 0.2388 0.0914 -0.9668
vn 0.2434 -0.4451 -0.8618
vn -0.7333 -0.6119 -0.2963
vn 0.8891 0.3501 -0.2949
vn 0.7887 -0.5997 -0.1351
vn 0.7004 -0.4393 -0.5625
vn -0.8031 0.5792 -0.1397
vn -0.9842 -0.1457 -0.1004
vn -0.8146 -0.1479 -0.5608
vn -0.4560 -0.7371 0.4987
vn 0.2143 -0.9683 0.1286
vn 0.1951 0.8829 -0.4271
vn -0.1511 0.9813 -0.1192
vn 0.1629 -0.9557 -0.2452
vn 0.2795 -0.9110 -0.3032
vn -0.0600 -0.9440 -0.3243
vn -0.2284 0.9694 0.0898
vn -0.5420 0.8386 -0.0546
vn -0.8776 0.4211 0.2292
vn 0.7658 0.6182 0.1774
vn 0.7743 0.3432 0.5316
vn -0.1568 0.6772 0.7189
vn 0.0133 0.5083 0.8611
vn 0.4886 0.3345 0.8058
vn 0.9779 -0.1667 0.1265
vn 0.9512 0.1112 0.2879
vn 0.7351 0.5966 0.3219
vn 0.7045 0.6844 0.1880
vn 0.2091 0.9289 0.3056
vn -0.1342 0.9490 0.2854
vn -0.9835 0.1774 0.0361
vn -0.8823 -0.0869 0.4626
vn -0.8514 0.5240 0.0209
vn -0.7332 -0.0904 -0.6740
vn -0.7813 -0.0924 -0.6173
vn -0.4558 -0.4885 -0.7441
vn 0.2838 -0.9278 -0.2421
vn 0.5095 -0.6599 0.5522
vn 0.3927 -0.2516 0.8846
vn 0.9084 -0.1574 0.3874
vn 0.2965 -0.5925 -0.7490
vn -0.1526 -0.3702 -0.9163
vn 0.2131 -0.1498 -0.9655
vn -0.4268 -0.3260 -0.8436
vn -0.1955 -0.2992 -0.9339
vn 0.9102 0.2568 0.3251
vn 0.8496 0.4653 0.2484
vn 0.6971 0.4428 0.5639
vn 0.4599 0.3776 0.8037
vn -0.1145 0.3652 0.9239
vn -0.0735 0.3156 0.9460
vn -0.4224 0.1531 0.8934
vn 0.2442 -0.2566 -0.9352
vn -0.4339 0.2872 0.8540
vn 0.5403 0.7198 0.4360
vn -0.0941 -0.4570 0.8845
vn 0.0888 0.1297 0.9876
vn -0.4629 0.1678 0.8704
vn 0.0063 0.0589 0.9982
vn -0.6920 -0.1512 -0.7059
vn 0.0145 0.0906 0.9958
vn 0.5230 0.4268 -0.7378
vn 0.7609 0.6172 -0.2001
vn 0.5846 0.5008 0.6383
vn 0.2942 0.5272 0.7972
vn 0.0008 -0.2511 -0.9680
vn -0.1769 -0.6386 -0.7489
vn -0.2639 -0.7833 0.5629
vn -0.5895 -0.8026 0.0913
vn -0.4350 -0.8523 -0.2906
vn -0.2587 -0.6843 0.6818
vn 0.4668 0.8832 -0.0451
vn 0.2445 0.8068 -0.5379
vn 0.2232 0.7461 -0.6274
vn 0.4256 0.8686 -0.2539
vn -0.1432 -0.1975 -0.9698
vn 0.1159 0.0482 -0.9921
vn 0.7508 0.6368 -0.1755
vn 0.8598 0.4005 -0.3169
vn 0.0230 0.0023 0.9997
vn -0.1999 -0.0754 -0.9769
vn 0.2878 -0.0952 -0.9529
vn -0.0939 -0.0610 -0.9937
vn -0.9273 0.3712 0.0477
vn -0.8352 0.1858 -0.5176
vn 0.4770 -0.2929 -0.8287
vn -0.3604 -0.0530 -0.9313
vn 0.9332 -0.2910 -0.2109
vn -0.3494 -0.2208 0.9106
vn -0.5494 -0.8342 -0.0474
vn -0.0754 -0.6680 0.7403
vn -0.1703 -0.4328 0.8852
vn -0.3276 -0.9404 -0.0909
vn 0.8298 0.3145 0.4610
vn 0.8660 0.3660 -0.3407
vn -0.1335 0.3059 0.9426
vn -0.2290 0.1959 -0.9535
vn -0.4861 0.2562 0.8355
vn -0.8776 0.1063 -0.4675
vn 0.2097 -0.4938 0.8439
vn -0.1772 0.1937 -0.9649
vn -0.4526 0.8098 -0.3733
vn 0.4430 -0.4691 -0.7640
vn 0.7341 0.6790 0.0079
vn 0.6982 0.4419 -0.5632
vn 0.5008 0.0605 -0.8634
vn -0.8108 0.4832 0.3305
vn 0.1068 0.8312 0.5457
vn 0.4258 0.8410 0.3338
vn -0.5197 0.6846 0.5111
vn 0.1255 0.7064 0.6966
vn -0.7635 -0.4091 0.4998
vn -0.0896 -0.4494 0.8888
vn -0.4043 -0.9144 -0.0191
vn -0.1072 0.3289 0.9383
vn 0.4984 0.7810 0.3763
vn 0.5773 0.7781 0.2473
vn -0.1380 -0.8894 -0.4358
vn 0.0016 -0.5217 0.8531
vn 0.0615 -0.5334 -0.8436
vn -0.3358 -0.8450 -0.4162
vn 0.8320 0.1150 -0.5427
vn 0.4833 -0.4643 -0.7422
vn 0.8953 0.4451 -0.0179
vn 0.6708 0.4457 0.5928
vn 0.5317 0.7117 0.4591
vn 0.7221 0.6741 0.1550
vn -0.5330 -0.7800 -0.3280
vn -0.3332 -0.7004 -0.6312
vn -0.7792 -0.6104 0.1426
vn 0.6934 0.6662 -0.2744
vn 0.5230 0.8005 0.2928
vn 0.4361 0.2383 -0.8678
vn -0.5554 -0.7665 0.3224
vn 0.0654 -0.6300 -0.7739
vn 0.1387 -0.3730 -0.9174
vn 0.1016 -0.6326 -0.7678
vn -0.1395 -0.8057 -0.5757
vn -0.1861 -0.8874 -0.4218
vn -0.3040 -0.9385 0.1635
vn -0.0991 0.4978 0.8616
vn -0.4684 -0.2848 0.8363
vn -0.1362 0.2516 0.9582
vn -0.9480 -0.2651 -0.1759
vn 0.3625 0.7885 0.4969
vn -0.6270 0.1634 0.7617
vn -0.2557 0.3449 0.9031
vn 0.0564 0.3778 0.9242
vn 0.1134 -0.5480 0.8288
vn -0.4618 -0.8289 0.3156
vn -0.9346 -0.0627 0.3503
vn -0.7046 -0.3067 -0.6398
vn -0.7016 0.3675 0.6105
vn 0.7604 0.3180 0.5663
vn 0.9364 0.0182 -0.3506
vn 0.8925 0.0238 -0.4504
vn 0.2681 -0.2204 -0.9378
vn 0.3901 -0.2925 -0.8731
vn -0.7030 0.4117 0.5799
vn -0.7409 0.4853 0.4643
vn -0.7029 0.4114 0.5802
vn 0.1752 0.5207 -0.8356
vn -0.5940 0.6896 -0.4143
vn -0.2007 0.9785 -0.0464
vn 0.3566 0.7255 0.5886
vn -0.5495 -0.8185 0.1677
vn -0.2066 -0.0592 -0.9766
vn -0.7761 -0.5775 -0.2533
vn -0.9330 -0.1996 -0.2995
vn -0.6680 0.4768 -0.5713
vn -0.5479 0.7136 0.4366
vn -0.5818 0.5098 0.6337
vn -0.5285 0.7203 0.4493
vn -0.7022 0.3263 0.6328
vn -0.8253 0.2585 0.5020
vn -0.6095 0.4970 0.6177
vn -0.8557 0.2526 0.4516
vn -0.7875 0.3961 0.4722
vn -0.7297 0.3931 0.5595
vn -0.9054 0.3960 0.1529
vn -0.8344 -0.1020 0.5416
vn -0.6621 0.4280 0.6152
vn 0.3288 0.7762 0.5379
vn 0.3513 0.9200 0.1739
vn -0.0596 0.3457 0.9365
vn -0.4728 0.7515 -0.4601
vn -0.4115 -0.7621 0.4999
vn -0.3699 0.8986 0.2360
vn 0.0186 -0.4500 0.8928
vn 0.3271 -0.2036 0.9228
vn -0.6668 -0.2549 0.7003
vn 0.2550 -0.0436 -0.9660
vn 0.2442 -0.1621 -0.9561
vn 0.7586 0.1217 -0.6401
vn -0.2141 -0.1852 -0.9591
vn -0.1455 -0.2814 -0.9485
vn 0.6578 0.5725 0.4893
vn 0.9091 0.3363 -0.2457
vn 0.1206 0.4072 0.9053
vn -0.5730 -0.6964 -0.4321
vn -0.8212 -0.4421 0.3608
vn -0.5050 0.0459 0.8619
vn 0.4721 0.6056 0.6406
vn 0.2643 0.2318 0.9362
vn 0.0157 -0.1134 -0.9934
vn 0.1784 0.5468 0.8180
vn 0.4204 0.8875 0.1887
vn -0.0134 -0.8412 0.5405
vn -0.2115 -0.7572 0.6180
vn -0.0501 -0.4362 0.8984
vn -0.2640 -0.5466 -0.7947
vn -0.1806 -0.3167 -0.9312
vn -0.2871 -0.7828 -0.5520
vn -0.1607 -0.7474 -0.6447
vn 0.3803 0.7319 -0.5655
vn 0.4443 0.8727 -0.2025
vn 0.1934 0.3283 -0.9246
vn 0.6251 0.7579 -0.1865
vn 0.6162 0.7735 -0.1485
vn -0.3713 -0.8889 0.2682
vn -0.4037 -0.9131 -0.0568
vn -0.4831 -0.3729 0.7922
vn -0.2625 -0.6465 0.7164
vn -0.4298 0.1725 0.8863
vn 0.2389 0.6856 0.6877
vn 0.0200 0.5756 0.8175
vn -0.6036 0.1669 0.7796
vn 0.0438 0.3709 0.9276
vn 0.2742 0.4284 0.8610
vn 0.2711 -0.2361 0.9332
vn 0.9641 0.1778 0.1973
vn 0.7378 0.3388 0.5838
vn 0.9829 0.1832 0.0167
vn 0.6975 -0.0495 -0.7149
vn -0.4440 -0.3680 -0.8170
vn -0.2968 -0.2976 -0.9074
vn -0.5143 -0.0702 0.8547
vn -0.6104 0.5058 0.6096
vn -0.1566 0.0630 -0.9856
vn 0.2205 0.5838 -0.7814
vn 0.2829 0.3321 0.8998
vn 0.2578 0.2955 0.9199
vn -0.9033 -0.3775 -0.2036
vn -0.7998 -0.3479 -0.4891
vn -0.8961 -0.0032 -0.4438
vn -0.7827 -0.6102 0.1227
vn -0.8888 -0.1779 0.4224
vn -0.9986 -0.0364 -0.0382
vn -0.8322 -0.0632 -0.5509
vn -0.7663 0.4147 0.4908
vn -0.6796 0.5183 0.5191
vn -0.8774 0.0550 0.4767
vn -0.9154 0.3310 0.2291
vn -0.6476 0.3643 0.6693
vn -0.8445 0.4580 0.2776
vn -0.4132 0.2123 0.8855
vn -0.4303 0.6846 0.5884
vn -0.1165 0.7022 0.7024
vn 0.5960 0.4589 0.6590
vn 0.3113 0.2197 0.9246
vn -0.6394 0.7658 0.0685
vn -0.1152 0.8723 -0.4752
vn -0.0570 0.9982 -0.0202
vn 0.0184 -0.5665 0.8239
vn -0.4040 -0.1023 0.9090
vn 0.6080 0.0292 -0.7934
vn -0.3156 -0.6456 -0.6954
vn 0.7216 0.5871 0.3670
vn 0.9256 0.3722 -0.0695
vn -0.7126 -0.6497 -0.2648
vn -0.6212 -0.7667 0.1620
vn -0.8209 -0.5232 -0.2289
vn 0.6276 -0.0057 -0.7785
vn -0.8273 -0.3676 0.4247
vn -0.2519 -0.2483 0.9354
vn 0.3628 0.7882 0.4971
vn -0.0982 -0.9709 0.2185
vn -0.0980 -0.9463 0.3082
vn -0.0578 -0.4895 0.8701
vn 0.1274 -0.7073 0.6953
vn -0.2994 -0.8729 -0.3853
vn 0.5081 0.6886 -0.5175
vn 0.1261 0.3595 -0.9246
vn -0.8127 0.0438 0.5811
vn -0.8522 0.0843 -0.5164
vn -0.4960 0.2013 -0.8446
vn -0.6040 -0.1085 -0.7895
vn 0.2451 -0.2140 -0.9456
vn 0.1565 -0.3447 -0.9256
vn 0.6138 -0.1736 0.7702
vn 0.8444 -0.3477 -0.4074
vn 0.1305 -0.2616 0.9563
vn -0.8852 0.0141 0.4650
vn 0.0175 0.2241 0.9744
vn 0.2844 -0.7573 0.5880
vn 0.8684 -0.4883 -0.0862
vn 0.5953 0.6200 -0.5112
vn 0.4751 0.3430 0.8103
vn 0.7491 0.4026 0.5261
vn 0.6494 0.7066 0.2809
vn -0.4378 0.6378 -0.6336
vn 0.9415 -0.1687 -0.2916
vn 0.7525 -0.0259 -0.6581
vn 0.9780 -0.0691 -0.1967
vn 0.7239 0.2846 -0.6285
vn 0.3478 0.9170 0.1950
vn 0.9567 0.2526 0.1444
vn 0.2057 0.8666 0.4547
vn 0.1807 0.9491 0.2580
vn 0.5580 0.5932 0.5804
vn 0.5622 0.4810 0.6727
vn 0.5603 0.6114 0.5588
vn 0.1775 0.7947 0.5805
vn 0.1422 0.8120 -0.5660
vn 0.5230 0.3420 0.7807
vn 0.6558 0.6204 0.4301
vn 0.6126 0.5029 0.6098
vn 0.4859 0.6486 0.5859
vn 0.5856 0.7845 0.2042
vn 0.2466 0.7176 0.6513
vn 0.5452 0.2686 0.7941
vn -0.4400 0.4086 0.7997
vn -0.6466 0.5695 0.5075
vn -0.1057 0.9423 -0.3175
vn 0.8633 -0.4670 0.1912
vn 0.5068 -0.4860 0.7120
vn 0.1621 -0.5283 0.8334
vn -0.1191 0.2924 -0.9488
vn -0.9326 -0.2130 -0.2915
vn -0.9486 -0.2989 0.1043
vn 0.6638 0.2078 0.7185
vn 0.7591 0.2662 0.5940
vn 0.7080 0.3178 -0.6306
vn 0.1118 0.2132 0.9706
vn -0.2749 -0.1006 0.9562
vn -0.7092 0.4215 0.5651
vn 0.8933 -0.4389 0.0970
vn 0.0343 0.2340 -0.9716
vn 0.5245 -0.8430 -0.1195
vn 0.3239 -0.8667 0.3794
vn 0.6202 -0.6917 0.3701
vn 0.2945 -0.0702 -0.9531
vn -0.7973 0.5960 0.0957
vn 0.5015 -0.6489 -0.5722
vn 0.4807 -0.4223 -0.7685
vn 0.1287 -0.2577 -0.9576
vn -0.2375 0.4798 -0.8446
vn -0.6780 0.4970 -0.5416
vn -0.9185 0.3953 0.0046
vn -0.5873 -0.1277 -0.7992
vn -0.8876 0.2896 -0.3581
vn -0.9849 -0.0455 -0.1669
vn -0.2902 0.3525 0.8897
vn 0.1517 -0.3449 -0.9263
vn 0.4187 -0.5583 -0.7163
vn 0.6117 -0.5730 -0.5454
vn 0.6335 -0.7737 0.0089
vn 0.6564 -0.3013 0.6917
vn 0.8030 -0.3905 0.4501
vn 0.6113 -0.5722 -0.5467
vn -0.4003 0.1641 0.9016
vn -0.6834 0.0350 0.7292
vn 0.1478 -0.6706 0.7269
vn 0.5890 0.4515 0.6703
vn 0.7919 0.0634 0.6073
vn 0.2139 0.9282 0.3044
vn -0.2587 0.5103 -0.8202
vn 0.2314 0.8029 -0.5494
vn 0.6118 0.0471 -0.7896
vn 0.8858 -0.3802 -0.2660
vn 0.8601 0.0520 -0.5075
vn 0.8284 0.4929 -0.2662
vn 0.3940 -0.7751 0.4940
vn 0.5256 0.5791 0.6232
vn 0.4714 0.6503 0.5957
vn 0.4440 0.5347 0.7190
vn 0.6152 0.6311 0.4726
vn 0.6216 0.7813 0.0573
vn 0.5625 0.6177 0.5496
vn 0.9182 0.2715 0.2885
vn -0.0442 -0.1065 0.9933
vn -0.4770 -0.0144 0.8788
vn 0.2099 0.1905 0.9590
vn 0.0172 0.5538 0.8325
vn -0.4099 0.8744 0.2597
vn -0.4587 0.8588 -0.2282
vn -0.0189 0.9165 0.3996
vn 0.2076 0.9674 0.1454
vn 0.5649 -0.5873 0.5796
vn 0.9026 0.0327 0.4292
vn 0.6872 -0.0046 0.7264
vn -0.4362 -0.0454 -0.8987
vn 0.2426 -0.0840 -0.9665
vn 0.3460 0.2241 -0.9111
vn -0.9263 -0.2152 -0.3093
vn -0.6140 -0.0073 0.7893
vn 0.9602 0.2347 0.1514
vn 0.9673 0.2227 0.1210
vn 0.9390 0.3095 -0.1501
vn 0.8418 0.2574 -0.4744
vn 0.2868 0.2773 0.9170
vn -0.1744 -0.2492 0.9526
vn -0.4034 0.1266 0.9062
vn -0.5977 0.2483 0.7623
vn -0.2175 -0.0043 0.9760
vn 0.4295 -0.8829 0.1895
vn 0.2236 -0.6784 0.6998
vn 0.2250 -0.6682 0.7091
vn 0.4393 -0.8942 0.0864
vn 0.3292 -0.2087 -0.9209
vn 0.5125 -0.6008 -0.6136
vn 0.0703 -0.1858 -0.9801
vn -0.6780 0.6476 -0.3478
vn -0.6749 0.6456 -0.3574
vn -0.5948 0.4095 -0.6918
vn -0.4726 -0.8110 -0.3448
vn -0.4839 -0.8737 0.0491
vn -0.4077 -0.6579 -0.6332
vn 0.6061 0.3531 -0.7128
vn -0.6430 -0.5733 0.5079
vn 0.5355 0.2470 -0.8076
vn 0.0825 -0.3621 -0.9285
vn -0.2482 -0.3362 0.9085
vn 0.7936 0.5967 0.1189
vn 0.7547 0.5162 -0.4048
vn -0.0006 0.1561 0.9877
vn -0.0150 0.1754 0.9844
vn -0.5762 -0.5207 0.6300
vn -0.5187 -0.0395 0.8541
vn -0.5618 -0.3144 0.7652
vn -0.1769 0.2293 0.9571
vn -0.0624 0.5078 0.8592
vn 0.1201 0.4984 0.8586
vn -0.2276 -0.4023 0.8868
vn -0.1565 -0.0843 0.9841
vn 0.2931 0.8245 0.4841
vn 0.4209 0.7446 -0.5180
vn 0.0019 0.1146 -0.9934
vn 0.4541 0.8869 -0.0852
vn -0.3775 -0.7647 0.5222
vn -0.4217 -0.7855 -0.4529
vn -0.1895 -0.1250 -0.9739
vn -0.3251 0.5135 0.7942
vn 0.2128 0.4394 -0.8727
vn 0.2176 0.4533 -0.8644
vn 0.0596 0.6799 0.7309
vn -0.5577 0.6620 0.5007
vn -0.5617 0.6498 0.5120
vn -0.9393 0.3259 -0.1071
vn 0.1589 -0.4595 0.8738
vn -0.7071 0.4268 -0.5638
vn 0.0286 0.9547 -0.2962
vn -0.3482 0.8440 -0.4079
vn -0.3868 0.6678 -0.6360
vn -0.8789 0.0363 0.4756
vn -0.3904 0.9093 0.1444
vn -0.6067 0.5832 0.5401
vn -0.9803 -0.1643 0.1094
vn -0.7459 0.1075 0.6573
vn -0.2533 0.6541 0.7127
vn -0.6219 0.6160 0.4835
vn -0.7089 0.5348 0.4598
vn -0.6757 0.6750 0.2962
vn -0.5094 0.7714 0.3814
vn -0.6753 0.5263 0.5167
vn 0.1560 -0.0645 0.9856
vn -0.8619 0.4641 0.2042
vn -0.7461 0.1385 0.6513
vn -0.3458 0.4998 0.7941
vn -0.3395 -0.4952 0.7997
vn -0.4456 -0.6815 0.5805
vn -0.8096 0.0254 -0.5865
vn -0.9166 -0.2430 -0.3175
vn -0.7843 -0.5769 0.2281
vn 0.3638 0.9095 0.2012
vn 0.4382 0.5592 0.7038
vn 0.4509 0.2758 0.8489
vn 0.5158 0.8015 0.3025
vn 0.0153 -0.2105 -0.9775
vn -0.2378 -0.3368 -0.9110
vn -0.4459 -0.6841 -0.5772
vn -0.3130 -0.8231 0.4738
vn 0.3502 0.6205 0.7016
vn 0.4948 0.8689 0.0127
vn 0.4338 -0.2066 0.8770
vn -0.0450 -0.6202 0.7831
vn 0.6448 0.7570 -0.1054
vn 0.7367 0.6403 0.2177
vn 0.6271 0.1612 0.7621
vn 0.7280 0.4413 0.5246
vn 0.7204 0.4314 0.5431
vn 0.2030 0.6471 -0.7349
vn 0.3972 0.7549 -0.5218
vn -0.2257 -0.0163 -0.9741
vn 0.0979 0.1700 -0.9806
vn -0.5917 -0.7412 -0.3170
vn -0.5242 -0.8514 0.0193
vn -0.5946 -0.5721 -0.5649
vn -0.3821 -0.2292 -0.8953
vn -0.6916 -0.6224 0.3665
vn -0.3129 -0.5923 -0.7424
vn -0.6927 -0.7179 0.0686
vn 0.3472 -0.0494 -0.9365
vn 0.3603 -0.0413 -0.9319
vn 0.7742 0.6028 -0.1931
vn 0.3683 0.6244 0.6888
vn -0.5281 -0.7449 -0.4077
vn -0.1738 -0.1158 0.9779
vn 0.1306 0.1530 0.9796
vn -0.3592 0.0441 0.9322
vn 0.3192 0.9214 0.2216
vn -0.4399 -0.8722 -0.2140
vn -0.4031 -0.9099 -0.0982
vn -0.4468 -0.8815 0.1526
vn -0.3674 -0.8070 0.4623
vn -0.2637 -0.3617 -0.8942
vn -0.1558 0.7632 0.6272
vn -0.9554 0.0841 0.2832
vn -0.9536 -0.0830 -0.2893
vn -0.7272 -0.0512 -0.6845
vn -0.0647 -0.6785 0.7318
vn 0.3403 -0.2672 0.9015
vn -0.3178 0.6588 -0.6819
vn -0.6092 0.7470 -0.2662
vn -0.9789 0.1630 0.1235
vn -0.6850 0.5101 0.5202
vn -0.2648 0.8867 0.3790
vn -0.6523 0.5205 0.5510
vn -0.6775 0.5822 0.4494
vn -0.7145 0.5158 0.4726
vn -0.8641 0.5001 0.0573
vn -0.6936 0.4657 0.5496
vn -0.4034 0.8684 0.2885
vn -0.0065 -0.4828 0.8757
vn -0.2193 0.1797 0.9590
vn -0.5503 -0.0643 0.8325
vn -0.8302 -0.4953 -0.2560
vn -0.9038 -0.1533 0.3996
vn -0.9874 0.0633 0.1454
vn 0.5391 0.6092 0.5817
vn -0.1649 0.8880 0.4292
vn -0.0964 0.6804 0.7264
vn -0.2405 -0.3086 -0.9203
vn 0.1683 0.1477 -0.9746
vn 0.5483 0.8146 -0.1894
vn 0.4253 0.7714 -0.4733
vn 0.7536 0.6105 0.2438
vn -0.0958 0.5005 -0.8604
vn -0.2350 0.2535 -0.9383
vn 0.2355 0.3771 -0.8958
vn -0.5225 -0.3212 -0.7898
vn -0.6481 -0.7138 0.2654
vn -0.6947 -0.4473 0.5633
vn -0.7569 -0.6535 0.0106
vn -0.6472 -0.5031 -0.5728
vn -0.3795 -0.7825 -0.4936
vn 0.0948 -0.2259 -0.9695
vn 0.2285 -0.4256 -0.8756
vn 0.8367 0.4189 0.3527
vn -0.0021 -0.0036 1.0000
vn -0.4965 -0.2280 0.8376
vn 0.0384 -0.4198 0.9068
vn -0.0675 -0.8732 0.4826
vn 0.6543 0.0425 0.7550
vn 0.5505 -0.7344 -0.3969
vn -0.6006 0.5159 0.6109
vn -0.8121 0.1329 0.5682
vn -0.7924 0.5979 0.1210
vn -0.9394 0.3428 0.0033
vn -0.4262 0.2257 -0.8760
vn -0.3960 0.6800 -0.6171
vn 0.7582 0.4789 0.4425
vn 0.0071 0.8961 -0.4438
vn -0.5648 0.8223 0.0690
vn -0.9560 -0.2931 -0.0113
vn -0.8647 -0.3209 0.3863
vn -0.9301 0.1887 0.3150
vn -0.5708 -0.7153 -0.4031
vn -0.0769 -0.9584 -0.2750
vn -0.4119 -0.8826 0.2264
vn 0.1507 -0.1303 -0.9800
vn -0.4379 -0.3874 -0.8113
vn 0.5619 0.1621 -0.8112
vn 0.2322 -0.3260 -0.9164
vn 0.0051 0.0614 0.9981
vn -0.5385 -0.3740 0.7551
vn -0.2046 -0.5134 0.8334
vn 0.2830 -0.0316 0.9586
vn 0.7475 -0.6619 0.0565
vn 0.6116 -0.5954 -0.5210
vn 0.4461 0.4500 0.7736
vn -0.5945 0.3687 0.7146
vn -0.2592 0.6815 0.6844
vn -0.8141 0.5502 0.1858
vn -0.8267 0.5590 0.0641
vn -0.7964 0.1941 -0.5728
vn -0.0199 0.7136 -0.7003
vn 0.3661 0.9272 0.0789
vn -0.1347 0.9803 0.1443
vn -0.9194 -0.3859 0.0753
vn -0.9504 0.1350 0.2801
vn -0.9859 0.1083 0.1276
s 0
usemtl Materiale
f 1//1 2//1 44//1
f 2//2 71//2 70//2
f 3//3 77//3 11//3
f 4//4 42//4 3//4
f 10//5 70//5 3//5
f 11//6 77//6 39//6
f 7//7 66//7 79//7
f 7//8 79//8 2//8
f 67//9 66//9 9//9
f 8//10 9//10 10//10
f 10//11 11//11 8//11
f 13//12 35//12 83//12
f 60//13 52//13 14//13
f 14//14 34//14 17//14
f 16//15 15//15 38//15
f 74//16 76//16 21//16
f 20//17 19//17 40//17
f 19//18 82//18 80//18
f 21//19 20//19 74//19
f 57//20 54//20 28//20
f 22//21 28//21 23//21
f 23//22 30//22 76//22
f 24//23 75//23 73//23
f 81//24 35//24 26//24
f 26//25 12//25 27//25
f 25//26 27//26 24//26
f 29//27 55//27 78//27
f 28//28 29//28 31//28
f 76//29 31//29 32//29
f 33//30 19//30 18//30
f 32//31 21//31 76//31
f 32//32 18//32 21//32
f 34//33 83//33 35//33
f 34//34 14//34 52//34
f 36//35 49//35 16//35
f 36//36 38//36 37//36
f 38//37 72//37 37//37
f 36//38 37//38 79//38
f 39//39 77//39 74//39
f 39//40 40//40 6//40
f 42//41 74//41 77//41
f 22//42 23//42 42//42
f 44//43 37//43 72//43
f 47//44 68//44 43//44
f 44//45 79//45 37//45
f 45//46 46//46 48//46
f 45//47 48//47 41//47
f 41//48 4//48 69//48
f 45//49 69//49 68//49
f 59//50 16//50 49//50
f 49//51 36//51 79//51
f 50//52 67//52 80//52
f 49//53 51//53 67//53
f 53//54 83//54 52//54
f 52//55 61//55 53//55
f 61//56 82//56 33//56
f 54//57 56//57 55//57
f 55//58 27//58 12//58
f 12//59 78//59 55//59
f 56//60 75//60 27//60
f 57//61 58//61 56//61
f 56//62 73//62 75//62
f 57//63 22//63 48//63
f 57//64 48//64 58//64
f 59//65 50//65 61//65
f 50//66 80//66 82//66
f 63//67 64//67 33//67
f 62//68 63//68 31//68
f 62//69 29//69 78//69
f 64//70 13//70 83//70
f 7//71 2//71 65//71
f 70//72 10//72 9//72
f 65//73 9//73 66//73
f 51//74 79//74 66//74
f 51//75 66//75 67//75
f 69//76 3//76 70//76
f 68//77 70//77 71//77
f 1//78 71//78 2//78
f 44//79 2//79 79//79
f 71//80 1//80 68//80
f 65//81 2//81 70//81
f 4//82 3//82 69//82
f 3//83 42//83 77//83
f 10//84 3//84 11//84
f 5//85 11//85 39//85
f 5//86 39//86 6//86
f 5//87 6//87 8//87
f 5//88 8//88 11//88
f 8//89 67//89 9//89
f 67//90 8//90 6//90
f 12//91 13//91 78//91
f 12//92 26//92 13//92
f 13//93 26//93 35//93
f 15//94 14//94 17//94
f 16//95 14//95 15//95
f 38//96 15//96 72//96
f 14//97 16//97 60//97
f 20//98 18//98 19//98
f 40//99 19//99 80//99
f 18//100 20//100 21//100
f 22//101 57//101 28//101
f 74//102 23//102 76//102
f 23//103 28//103 30//103
f 25//104 81//104 26//104
f 25//105 26//105 27//105
f 24//106 27//106 75//106
f 29//107 28//107 55//107
f 30//108 28//108 31//108
f 76//109 30//109 31//109
f 63//110 32//110 31//110
f 33//111 32//111 63//111
f 32//112 33//112 18//112
f 19//113 33//113 82//113
f 34//114 52//114 83//114
f 81//115 34//115 35//115
f 34//116 81//116 17//116
f 36//117 16//117 38//117
f 20//118 39//118 74//118
f 39//119 20//119 40//119
f 6//120 40//120 80//120
f 41//121 22//121 42//121
f 42//122 23//122 74//122
f 4//123 41//123 42//123
f 43//124 68//124 1//124
f 43//125 1//125 44//125
f 45//126 47//126 46//126
f 41//127 48//127 22//127
f 45//128 41//128 69//128
f 47//129 45//129 68//129
f 59//130 49//130 50//130
f 51//131 49//131 79//131
f 50//132 49//132 67//132
f 80//133 67//133 6//133
f 64//134 53//134 33//134
f 53//135 64//135 83//135
f 53//136 61//136 33//136
f 52//137 60//137 61//137
f 55//138 56//138 27//138
f 54//139 55//139 28//139
f 54//140 57//140 56//140
f 56//141 58//141 73//141
f 58//142 48//142 46//142
f 60//143 59//143 61//143
f 59//144 60//144 16//144
f 61//145 50//145 82//145
f 62//146 64//146 63//146
f 29//147 62//147 31//147
f 13//148 62//148 78//148
f 64//149 62//149 13//149
f 65//150 70//150 9//150
f 7//151 65//151 66//151
f 68//152 69//152 70//152
f 450//814 452//814 451//814
f 451//815 533//815 536//815
f 452//816 454//816 534//816 519//816
f 455//817 456//817 506//817 457//817
f 453//818 518//818 454//818
f 454//819 518//819 534//819
f 454//820 503//820 453//820
f 453//821 517//821 518//821
f 523//822 517//822 453//822
f 455//823 514//823 517//823
f 508//824 458//824 459//824 509//824
f 457//825 524//825 535//825
f 459//826 535//826 524//826
f 466//827 465//827 467//827 507//827
f 458//828 536//828 533//828
f 509//829 530//829 538//829
f 508//830 509//830 460//830
f 508//831 461//831 510//831
f 462//832 515//832 463//832
f 464//833 526//833 537//833
f 467//834 465//834 538//834 530//834
f 466//835 507//835 531//835
f 473//836 463//836 528//836 539//836
f 504//837 529//837 461//837
f 505//838 468//838 525//838
f 525//839 532//839 505//839
f 470//840 472//840 471//840
f 471//841 525//841 470//841
f 464//842 463//842 473//842
f 483//843 475//843 485//843 484//843
f 464//844 473//844 474//844
f 475//845 521//845 476//845
f 475//846 476//846 485//846
f 477//847 475//847 522//847
f 486//848 511//848 513//848
f 479//849 537//849 526//849
f 485//850 527//850 480//850
f 488//851 487//851 481//851
f 481//852 482//852 488//852
f 499//853 473//853 539//853 482//853
f 487//854 522//854 475//854
f 486//855 513//855 487//855
f 513//856 522//856 487//856
f 486//857 539//857 528//857
f 489//858 479//858 526//858
f 526//859 474//859 489//859
f 479//860 489//860 490//860
f 490//861 485//861 491//861
f 496//866 489//866 497//866
f 489//867 474//867 497//867
f 498//869 473//869 499//869
f 500//870 540//870 487//870 483//870
f 500//872 484//872 501//872
f 484//873 490//873 501//873
f 502//875 503//875 471//875 472//875
f 502//876 453//876 503//876
f 505//877 532//877 503//877 450//877
f 502//878 472//878 531//878
f 531//879 523//879 502//879
f 504//880 536//880 529//880
f 505//881 450//881 451//881
f 458//882 511//882 512//882 459//882
f 507//883 456//883 523//883
f 506//884 530//884 524//884
f 509//885 524//885 530//885
f 510//886 529//886 536//886
f 512//887 528//887 535//887
f 516//888 527//888 534//888 518//888
f 511//889 458//889 513//889
f 533//890 522//890 513//890
f 462//891 464//891 514//891
f 514//892 457//892 515//892
f 515//893 535//893 528//893
f 516//894 478//894 480//894
f 516//895 480//895 527//895
f 516//896 517//896 479//896 478//896
f 516//897 518//897 517//897
f 520//898 519//898 521//898 477//898
f 533//899 520//899 477//899 522//899
f 527//900 521//900 519//900 534//900
f 451//901 452//901 520//901
f 451//902 520//902 533//902
f 523//903 455//903 517//903
f 455//904 523//904 456//904
f 457//905 506//905 524//905
f 514//906 455//906 457//906
f 509//907 459//907 524//907
f 458//908 510//908 536//908
f 458//909 508//909 510//909
f 460//910 509//910 538//910
f 508//911 460//911 461//911
f 510//912 461//912 529//912
f 463//913 515//913 528//913
f 468//914 504//914 469//914
f 469//915 504//915 461//915
f 504//916 468//916 505//916
f 525//917 471//917 532//917
f 531//918 470//918 466//918
f 470//919 531//919 472//919
f 464//920 462//920 463//920
f 474//921 526//921 464//921
f 485//922 476//922 527//922
f 475//923 477//923 521//923
f 486//924 512//924 511//924
f 486//925 528//925 512//925
f 491//926 478//926 479//926
f 478//927 491//927 480//927
f 480//928 491//928 485//928
f 481//929 487//929 540//929
f 488//932 482//932 539//932
f 484//933 485//933 490//933
f 483//934 487//934 475//934
f 488//935 486//935 487//935
f 486//936 488//936 539//936
f 479//937 490//937 491//937
f 496//942 490//942 489//942
f 496//943 501//943 490//943
f 498//945 474//945 473//945
f 498//946 497//946 474//946
f 500//947 483//947 484//947
f 503//949 532//949 471//949
f 502//950 523//950 453//950
f 504//951 451//951 536//951
f 504//952 505//952 451//952
f 531//953 507//953 523//953
f 507//954 506//954 456//954
f 506//955 507//955 467//955
f 454//956 452//956 450//956 503//956
f 506//957 467//957 530//957
f 459//958 512//958 535//958
f 513//959 458//959 533//959
f 517//960 514//960 537//960
f 514//961 464//961 537//961
f 515//962 457//962 535//962
f 462//963 514//963 515//963
f 517//964 537//964 479//964
f 519//965 520//965 452//965
f 521//966 527//966 476//966
f 541//967 616//967 614//967
f 541//968 543//968 542//968
f 543//969 615//969 546//969
f 542//970 546//970 608//970
f 544//971 545//971 591//971
f 544//972 608//972 546//972
f 548//973 547//973 609//973
f 595//974 591//974 545//974
f 609//975 600//975 550//975
f 599//976 614//976 616//976
f 598//977 596//977 550//977
f 557//978 602//978 551//978
f 617//979 610//979 552//979
f 567//980 611//980 574//980 568//980
f 576//981 618//981 557//981
f 557//982 552//982 558//982
f 557//983 559//983 576//983
f 560//984 562//984 606//984
f 570//985 619//985 612//985 575//985
f 566//986 568//986 569//986
f 569//987 577//987 610//987
f 571//988 570//988 575//988 576//988
f 572//989 574//989 562//989 560//989
f 572//991 561//991 607//991 612//991
f 560//992 561//992 572//992
f 576//993 575//993 563//993 564//993
f 574//994 573//994 578//994
f 575//995 565//995 563//995
f 612//996 607//996 565//996
f 587//997 571//997 576//997 559//997
f 564//998 618//998 576//998
f 577//999 568//999 578//999
f 568//1000 574//1000 578//1000
f 579//1001 558//1001 610//1001
f 585//1005 579//1005 584//1005
f 585//1006 558//1006 579//1006
f 587//1007 559//1007 586//1007
f 588//1008 572//1008 612//1008 619//1008
f 589//1009 573//1009 588//1009
f 589//1010 578//1010 573//1010
f 590//1011 591//1011 556//1011
f 592//1012 542//1012 554//1012
f 554//1013 555//1013 592//1013
f 594//1014 548//1014 609//1014
f 609//1015 597//1015 594//1015
f 595//1016 613//1016 591//1016
f 597//1017 550//1017 596//1017
f 598//1018 600//1018 564//1018 563//1018
f 599//1019 565//1019 607//1019 614//1019
f 549//1020 547//1020 593//1020 595//1020
f 567//1021 604//1021 615//1021 611//1021
f 552//1022 549//1022 617//1022
f 601//1023 551//1023 602//1023
f 602//1024 547//1024 601//1024
f 566//1025 604//1025 567//1025
f 561//1026 605//1026 614//1026 607//1026
f 603//1027 617//1027 549//1027
f 566//1028 569//1028 603//1028
f 603//1029 546//1029 604//1029
f 606//1030 611//1030 615//1030
f 605//1031 606//1031 543//1031
f 605//1032 541//1032 614//1032
f 542//1033 543//1033 546//1033
f 541//1034 605//1034 543//1034
f 592//1035 541//1035 542//1035
f 541//1036 592//1036 616//1036
f 603//1037 544//1037 546//1037
f 544//1038 603//1038 545//1038
f 545//1039 603//1039 549//1039
f 547//1040 549//1040 601//1040
f 609//1041 547//1041 600//1041
f 547//1042 548//1042 593//1042
f 549//1043 595//1043 545//1043
f 598//1044 599//1044 596//1044
f 596//1045 599//1045 616//1045
f 557//1046 618//1046 602//1046
f 558//1047 552//1047 610//1047
f 557//1048 551//1048 552//1048
f 559//1049 557//1049 558//1049
f 606//1050 562//1050 611//1050
f 611//1051 562//1051 574//1051
f 568//1052 566//1052 567//1052
f 617//1053 569//1053 610//1053
f 569//1054 568//1054 577//1054
f 574//1056 572//1056 573//1056
f 575//1057 612//1057 565//1057
f 577//1058 579//1058 610//1058
f 579//1059 577//1059 578//1059
f 584//1064 578//1064 589//1064
f 584//1065 579//1065 578//1065
f 586//1068 558//1068 585//1068
f 586//1069 559//1069 558//1069
f 588//1072 573//1072 572//1072
f 544//1075 590//1075 608//1075
f 590//1076 544//1076 591//1076
f 556//1077 591//1077 613//1077
f 554//1078 542//1078 608//1078
f 592//1079 555//1079 616//1079
f 594//1080 593//1080 548//1080
f 593//1081 594//1081 553//1081
f 593//1082 553//1082 595//1082
f 595//1083 553//1083 613//1083
f 597//1084 609//1084 550//1084
f 600//1085 618//1085 564//1085
f 599//1086 598//1086 565//1086
f 598//1087 563//1087 565//1087
f 600//1088 598//1088 550//1088
f 601//1089 552//1089 551//1089
f 600//1090 602//1090 618//1090
f 602//1091 600//1091 547//1091
f 552//1092 601//1092 549//1092
f 566//1093 603//1093 604//1093
f 603//1094 569//1094 617//1094
f 604//1095 546//1095 615//1095
f 560//1096 605//1096 561//1096
f 605//1097 560//1097 606//1097
f 543//1098 606//1098 615//1098
usemtl Materiale.001
f 620//1099 679//1099 692//1099
f 692//1100 629//1100 711//1100
f 620//1101 691//1101 621//1101
f 675//1102 690//1102 700//1102 710//1102
f 679//1103 702//1103 629//1103
f 622//1104 690//1104 675//1104
f 624//1105 623//1105 621//1105 699//1105
f 628//1106 685//1106 686//1106 629//1106
f 627//1107 688//1107 625//1107
f 710//1108 700//1108 627//1108
f 697//1109 701//1109 628//1109
f 682//1110 630//1110 631//1110 684//1110
f 686//1111 711//1111 629//1111
f 628//1112 629//1112 683//1112
f 683//1113 629//1113 702//1113
f 628//1114 682//1114 684//1114
f 628//1115 684//1115 697//1115
f 684//1116 631//1116 705//1116 697//1116
f 630//1117 683//1117 702//1117 693//1117
f 682//1118 683//1118 630//1118
f 705//1119 635//1119 681//1119 697//1119
f 636//1120 706//1120 710//1120
f 639//1121 674//1121 675//1121 640//1121
f 680//1122 635//1122 636//1122
f 679//1123 693//1123 702//1123
f 637//1124 678//1124 698//1124
f 639//1125 676//1125 674//1125
f 641//1126 659//1126 707//1126 634//1126
f 640//1127 675//1127 706//1127
f 675//1128 710//1128 706//1128
f 641//1129 634//1129 632//1129
f 642//1130 633//1130 704//1130 695//1130
f 641//1131 633//1131 642//1131
f 659//1132 641//1132 643//1132 660//1132
f 647//1133 685//1133 687//1133 659//1133
f 650//1134 694//1134 657//1134 661//1134
f 652//1135 709//1135 696//1135 658//1135
f 649//1136 661//1136 651//1136
f 653//1137 652//1137 658//1137 660//1137
f 654//1138 645//1138 703//1138 696//1138
f 656//1140 657//1140 654//1140
f 644//1141 645//1141 654//1141
f 647//1142 696//1142 703//1142 648//1142
f 654//1143 655//1143 656//1143
f 651//1144 663//1144 695//1144 704//1144
f 658//1145 647//1145 659//1145
f 659//1146 660//1146 658//1146
f 647//1147 658//1147 696//1147
f 662//1148 661//1148 657//1148 708//1148
f 668//1149 662//1149 708//1149 673//1149
f 669//1153 663//1153 668//1153
f 669//1154 695//1154 663//1154
f 671//1155 653//1155 660//1155 643//1155
f 671//1156 643//1156 670//1156
f 670//1157 642//1157 695//1157 669//1157
f 672//1158 655//1158 696//1158 709//1158
f 673//1159 656//1159 672//1159
f 673//1160 708//1160 656//1160
f 681//1161 680//1161 625//1161 626//1161
f 674//1162 676//1162 623//1162
f 676//1163 698//1163 621//1163
f 678//1164 621//1164 698//1164
f 686//1165 648//1165 703//1165 711//1165
f 681//1166 626//1166 697//1166
f 680//1167 636//1167 627//1167
f 687//1168 701//1168 707//1168
f 685//1169 648//1169 686//1169
f 688//1170 700//1170 704//1170 633//1170
f 688//1171 633//1171 632//1171
f 626//1172 634//1172 707//1172 701//1172
f 625//1173 632//1173 626//1173
f 632//1174 634//1174 626//1174
f 689//1175 649//1175 651//1175 690//1175
f 690//1176 651//1176 704//1176 700//1176
f 689//1177 624//1177 699//1177 694//1177
f 622//1178 624//1178 689//1178
f 644//1179 620//1179 692//1179 645//1179
f 645//1180 692//1180 711//1180 703//1180
f 620//1181 644//1181 646//1181 691//1181
f 691//1182 694//1182 699//1182
f 692//1183 679//1183 629//1183
f 621//1184 691//1184 699//1184
f 620//1185 677//1185 679//1185
f 623//1186 622//1186 675//1186
f 622//1187 623//1187 624//1187
f 627//1188 700//1188 688//1188
f 697//1189 626//1189 701//1189
f 677//1190 620//1190 621//1190 678//1190
f 685//1191 628//1191 687//1191
f 628//1192 701//1192 687//1192
f 682//1193 628//1193 683//1193
f 635//1194 680//1194 681//1194
f 637//1195 677//1195 678//1195
f 677//1196 637//1196 638//1196
f 679//1197 677//1197 638//1197
f 679//1198 638//1198 693//1198
f 639//1199 698//1199 676//1199
f 641//1200 632//1200 633//1200
f 643//1201 641//1201 642//1201
f 646//1202 644//1202 657//1202
f 694//1203 646//1203 657//1203
f 685//1204 647//1204 648//1204
f 659//1205 687//1205 707//1205
f 649//1206 650//1206 661//1206
f 654//1208 657//1208 644//1208
f 656//1209 708//1209 657//1209
f 655//1210 654//1210 696//1210
f 651//1211 661//1211 662//1211
f 663//1212 651//1212 662//1212
f 668//1217 663//1217 662//1217
f 670//1220 643//1220 642//1220
f 672//1223 656//1223 655//1223
f 623//1226 676//1226 621//1226
f 674//1227 623//1227 675//1227
f 680//1228 627//1228 625//1228
f 627//1229 636//1229 710//1229
f 625//1230 688//1230 632//1230
f 649//1231 689//1231 650//1231
f 650//1232 689//1232 694//1232
f 622//1233 689//1233 690//1233
f 691//1234 646//1234 694//1234
f 712//1235 714//1235 713//1235
f 714//1236 741//1236 713//1236
f 713//1237 715//1237 712//1237
f 715//1238 740//1238 718//1238
f 712//1239 718//1239 719//1239
f 716//1240 718//1240 733//1240
f 717//1241 719//1241 718//1241
f 720//1242 736//1242 723//1242
f 723//1243 728//1243 727//1243
f 721//1244 727//1244 741//1244
f 721//1245 726//1245 722//1245
f 714//1246 725//1246 726//1246
f 723//1247 722//1247 720//1247
f 724//1248 725//1248 719//1248
f 728//1249 738//1249 729//1249
f 727//1250 729//1250 741//1250
f 730//1251 738//1251 731//1251
f 734//1252 740//1252 730//1252
f 732//1253 733//1253 734//1253
f 734//1254 731//1254 732//1254
f 737//1255 723//1255 736//1255
f 742//1256 731//1256 735//1256
f 735//1257 731//1257 738//1257
f 739//1258 740//1258 715//1258
f 739//1259 713//1259 741//1259
f 730//1260 741//1260 729//1260
f 712//1261 715//1261 718//1261
f 725//1262 712//1262 719//1262
f 712//1263 725//1263 714//1263
f 732//1264 716//1264 733//1264
f 733//1265 718//1265 740//1265
f 716//1266 732//1266 742//1266
f 716//1267 717//1267 718//1267
f 721//1268 723//1268 727//1268
f 714//1269 721//1269 741//1269
f 721//1270 714//1270 726//1270
f 723//1271 721//1271 722//1271
f 725//1272 724//1272 726//1272
f 717//1273 724//1273 719//1273
f 737//1274 728//1274 723//1274
f 727//1275 728//1275 729//1275
f 728//1276 737//1276 738//1276
f 730//1277 729//1277 738//1277
f 734//1278 730//1278 731//1278
f 734//1279 733//1279 740//1279
f 732//1280 731//1280 742//1280
f 735//1281 737//1281 736//1281
f 737//1282 735//1282 738//1282
f 713//1283 739//1283 715//1283
f 730//1284 739//1284 741//1284
f 739//1285 730//1285 740//1285
usemtl Materiale.004
f 90//153 89//153 114//153 117//153
f 84//154 85//154 86//154
f 84//155 86//155 255//155
f 85//156 100//156 86//156
f 103//157 88//157 105//157
f 103//158 102//158 91//158
f 87//159 91//159 92//159
f 88//160 87//160 85//160
f 87//161 97//161 100//161
f 89//162 91//162 102//162
f 102//163 104//163 89//163
f 89//164 90//164 92//164 91//164
f 98//165 110//165 94//165 86//165
f 93//166 84//166 255//166
f 96//167 257//167 93//167
f 255//168 86//168 94//168
f 95//169 94//169 128//169
f 93//170 95//170 96//170
f 97//171 109//171 98//171
f 98//172 100//172 97//172
f 99//173 97//173 92//173
f 99//174 117//174 109//174
f 101//175 104//175 102//175
f 101//176 102//176 103//176
f 103//177 105//177 101//177
f 101//178 105//178 257//178
f 107//179 225//179 223//179
f 106//180 108//180 128//180
f 109//181 110//181 98//181
f 107//182 109//182 117//182 116//182
f 110//183 106//183 128//183 94//183
f 96//184 112//184 111//184 257//184
f 113//185 104//185 256//185
f 123//186 121//186 122//186 124//186
f 111//187 112//187 126//187
f 114//188 116//188 117//188
f 115//189 113//189 126//189
f 119//190 118//190 229//190
f 119//191 120//191 118//191
f 118//192 151//192 153//192
f 121//193 107//193 116//193
f 121//194 123//194 258//194 107//194
f 124//195 122//195 266//195
f 129//196 125//196 112//196 96//196
f 112//197 125//197 266//197 126//197
f 129//198 231//198 125//198
f 132//199 130//199 131//199 133//199
f 127//200 96//200 95//200
f 129//201 96//201 127//201
f 128//202 227//202 127//202
f 128//203 108//203 227//203
f 127//204 227//204 129//204
f 132//205 120//205 130//205
f 139//206 138//206 264//206 153//206
f 135//207 229//207 228//207
f 134//208 270//208 146//208
f 134//209 146//209 130//209
f 135//210 130//210 120//210
f 136//211 146//211 270//211
f 136//212 224//212 137//212
f 224//213 271//213 140//213
f 137//214 140//214 141//214
f 137//215 141//215 259//215
f 137//216 146//216 136//216
f 138//217 140//217 265//217
f 265//218 235//218 138//218
f 138//219 235//219 264//219
f 138//220 139//220 141//220 140//220
f 146//221 145//221 143//221 144//221
f 139//222 148//222 141//222
f 148//223 259//223 141//223
f 145//224 137//224 259//224
f 145//225 168//225 143//225
f 159//226 151//226 132//226 133//226
f 147//227 259//227 148//227
f 148//228 149//228 147//228
f 139//229 153//229 149//229
f 147//230 149//230 152//230
f 147//231 150//231 259//231
f 151//232 152//232 153//232
f 159//233 161//233 188//233 155//233
f 263//234 194//234 158//234
f 154//235 158//235 155//235
f 155//236 262//236 154//236
f 188//237 262//237 155//237
f 157//238 261//238 158//238
f 158//239 194//239 156//239
f 159//240 158//240 152//240
f 158//241 261//241 152//241
f 159//242 133//242 161//242
f 159//243 155//243 158//243
f 131//244 160//244 161//244 133//244
f 160//245 131//245 144//245 267//245
f 261//246 163//246 164//246 152//246
f 160//247 188//247 161//247
f 157//248 156//248 162//248
f 163//249 166//249 164//249
f 166//250 150//250 164//250
f 163//251 261//251 157//251 165//251
f 186//252 190//252 191//252 187//252
f 163//253 165//253 167//253
f 170//254 268//254 143//254
f 168//255 150//255 166//255
f 168//256 167//256 176//256
f 166//257 167//257 168//257
f 169//258 194//258 260//258
f 260//259 268//259 170//259
f 170//260 171//260 169//260
f 185//261 162//261 173//261
f 172//262 173//262 175//262
f 173//263 174//263 175//263
f 175//264 171//264 176//264
f 178//265 167//265 165//265
f 165//266 157//266 179//266
f 180//267 181//267 184//267
f 181//268 172//268 175//268
f 181//269 180//269 172//269
f 182//270 177//270 178//270
f 182//271 181//271 177//271
f 178//272 179//272 182//272
f 182//273 183//273 184//273
f 182//274 184//274 181//274
f 183//275 179//275 162//275
f 185//276 180//276 184//276
f 192//277 263//277 269//277 197//277
f 190//278 186//278 203//278
f 160//279 267//279 189//279
f 188//280 215//280 262//280
f 142//281 189//281 267//281
f 142//282 143//282 191//282
f 193//283 191//283 268//283
f 192//284 193//284 194//284
f 192//285 194//285 263//285
f 193//286 260//286 194//286
f 192//287 197//287 198//287 193//287
f 200//288 202//288 204//288 203//288
f 198//289 208//289 187//289
f 199//290 154//290 262//290
f 201//291 210//291 202//291
f 201//292 200//292 206//292 196//292
f 205//293 196//293 206//293
f 206//294 200//294 203//294
f 203//295 207//295 206//295
f 123//296 221//296 240//296 258//296
f 207//297 186//297 187//297
f 187//298 205//298 207//298
f 208//299 269//299 209//299
f 208//300 209//300 205//300
f 210//301 212//301 219//301
f 210//302 219//302 216//302
f 199//303 262//303 212//303
f 220//304 189//304 190//304
f 190//305 203//305 213//305
f 213//306 203//306 204//306
f 214//307 215//307 189//307
f 215//308 212//308 262//308
f 252//309 211//309 216//309
f 202//310 210//310 211//310
f 217//311 202//311 211//311
f 217//312 213//312 204//312
f 220//313 218//313 254//313
f 254//314 216//314 219//314
f 221//315 123//315 124//315 222//315
f 221//316 247//316 241//316 240//316
f 124//317 266//317 222//317
f 221//318 222//318 245//318
f 226//319 228//319 227//319 108//319
f 226//320 108//320 223//320
f 224//321 239//321 271//321
f 224//322 226//322 223//322
f 229//323 129//323 227//323
f 249//324 253//324 251//324 252//324
f 227//325 228//325 229//325
f 125//326 230//326 266//326
f 230//327 237//327 266//327
f 230//328 125//328 231//328
f 231//329 118//329 230//329
f 230//330 118//330 264//330
f 232//331 243//331 242//331
f 234//332 242//332 244//332
f 234//333 235//333 233//333
f 234//334 264//334 235//334
f 233//335 271//335 238//335
f 233//336 232//336 234//336
f 222//337 266//337 237//337
f 239//338 225//338 240//338
f 225//339 258//339 240//339
f 238//340 240//340 241//340
f 241//341 232//341 238//341
f 243//342 246//342 242//342
f 244//343 236//343 234//343
f 245//344 244//344 248//344
f 247//345 246//345 241//345
f 247//346 245//346 248//346
f 250//347 254//347 218//347 253//347
f 251//348 217//348 211//348
f 218//349 217//349 251//349
f 218//350 251//350 253//350
f 254//351 250//351 216//351
f 85//352 84//352 88//352
f 103//353 87//353 88//353
f 87//354 103//354 91//354
f 87//355 92//355 97//355
f 85//356 87//356 100//356
f 89//357 104//357 114//357
f 99//358 90//358 117//358
f 90//359 99//359 92//359
f 93//360 257//360 84//360
f 93//361 255//361 94//361
f 93//362 94//362 95//362
f 100//363 98//363 86//363
f 97//364 99//364 109//364
f 101//365 256//365 104//365
f 256//366 101//366 111//366
f 111//367 101//367 257//367
f 223//368 106//368 107//368
f 225//369 107//369 258//369
f 106//370 223//370 108//370
f 106//371 109//371 107//371
f 109//372 106//372 110//372
f 111//373 113//373 256//373
f 113//374 111//374 126//374
f 113//375 114//375 104//375
f 114//376 113//376 115//376
f 114//377 115//377 116//377
f 118//378 120//378 151//378
f 264//379 118//379 153//379
f 115//380 121//380 116//380
f 121//381 115//381 122//381
f 122//382 115//382 126//382
f 126//383 266//383 122//383
f 128//384 127//384 95//384
f 144//385 130//385 146//385
f 130//386 144//386 131//386
f 134//387 135//387 228//387
f 135//388 119//388 229//388
f 134//389 228//389 270//389
f 119//390 135//390 120//390
f 135//391 134//391 130//391
f 224//392 136//392 226//392
f 226//393 136//393 270//393
f 137//394 224//394 140//394
f 265//395 140//395 271//395
f 143//396 142//396 144//396
f 144//397 142//397 267//397
f 145//398 146//398 137//398
f 150//399 145//399 259//399
f 145//400 150//400 168//400
f 148//401 139//401 149//401
f 147//402 152//402 164//402
f 147//403 164//403 150//403
f 153//404 152//404 149//404
f 132//405 151//405 120//405
f 151//406 159//406 152//406
f 154//407 263//407 158//407
f 263//408 154//408 269//408
f 157//409 158//409 156//409
f 162//410 156//410 173//410
f 157//411 162//411 179//411
f 166//412 163//412 167//412
f 176//413 170//413 143//413
f 143//414 168//414 176//414
f 170//415 176//415 171//415
f 169//416 156//416 194//416
f 169//417 260//417 170//417
f 169//418 171//418 174//418
f 169//419 174//419 156//419
f 172//420 185//420 173//420
f 185//421 172//421 180//421
f 174//422 173//422 156//422
f 175//423 174//423 171//423
f 177//424 175//424 176//424
f 178//425 176//425 167//425
f 176//426 178//426 177//426
f 178//427 165//427 179//427
f 88//428 84//428 257//428 105//428
f 177//429 181//429 175//429
f 183//430 182//430 179//430
f 185//431 183//431 162//431
f 183//432 185//432 184//432
f 187//433 191//433 198//433
f 215//434 160//434 189//434
f 160//435 215//435 188//435
f 142//436 190//436 189//436
f 190//437 142//437 191//437
f 191//438 143//438 268//438
f 193//439 268//439 260//439
f 193//440 198//440 191//440
f 195//441 209//441 269//441
f 196//442 195//442 201//442
f 195//443 196//443 209//443
f 208//444 197//444 269//444
f 197//445 208//445 198//445
f 195//446 199//446 201//446
f 199//447 195//447 154//447
f 154//448 195//448 269//448
f 200//449 201//449 202//449
f 205//450 209//450 196//450
f 205//451 206//451 207//451
f 207//452 203//452 186//452
f 187//453 208//453 205//453
f 210//454 216//454 211//454
f 210//455 201//455 199//455
f 210//456 199//456 212//456
f 213//457 220//457 190//457
f 220//458 214//458 189//458
f 249//459 216//459 250//459
f 252//460 216//460 249//460
f 217//461 204//461 202//461
f 217//462 218//462 213//462
f 218//463 220//463 213//463
f 214//464 219//464 215//464
f 215//465 219//465 212//465
f 220//466 219//466 214//466
f 219//467 220//467 254//467
f 247//468 221//468 245//468
f 224//469 223//469 225//469
f 239//470 224//470 225//470
f 229//471 231//471 129//471
f 228//472 226//472 270//472
f 231//473 229//473 118//473
f 230//474 264//474 237//474
f 234//475 232//475 242//475
f 233//476 235//476 265//476
f 233//477 265//477 271//477
f 233//478 238//478 232//478
f 236//479 222//479 237//479
f 234//480 236//480 264//480
f 236//481 237//481 264//481
f 222//482 236//482 245//482
f 239//483 238//483 271//483
f 238//484 239//484 240//484
f 248//485 242//485 246//485
f 242//486 248//486 244//486
f 244//487 245//487 236//487
f 243//488 241//488 246//488
f 241//489 243//489 232//489
f 247//490 248//490 246//490
f 249//491 250//491 253//491
f 252//492 251//492 211//492
f 278//493 277//493 302//493 304//493
f 272//494 273//494 274//494
f 272//495 274//495 433//495
f 273//496 289//496 274//496
f 292//497 276//497 294//497
f 292//498 291//498 279//498
f 275//499 279//499 280//499
f 276//500 275//500 273//500
f 275//501 285//501 289//501
f 277//502 279//502 291//502
f 291//503 293//503 277//503
f 277//504 278//504 280//504 279//504
f 437//505 295//505 406//505 411//505
f 281//506 272//506 433//506
f 284//507 301//507 281//507
f 433//508 274//508 282//508
f 283//509 282//509 437//509
f 281//510 283//510 284//510
f 285//511 288//511 286//511
f 286//512 289//512 285//512
f 287//513 285//513 280//513
f 287//514 304//514 288//514
f 290//515 293//515 291//515
f 290//516 291//516 292//516
f 292//517 294//517 290//517
f 290//518 294//518 301//518
f 295//519 297//519 296//519
f 297//520 305//520 296//520
f 296//521 407//521 406//521
f 288//522 297//522 298//522 286//522
f 286//523 298//523 282//523 274//523
f 297//524 288//524 304//524 305//524
f 298//525 295//525 437//525 282//525
f 299//526 435//526 293//526 434//526
f 302//527 303//527 305//527 304//527
f 299//528 434//528 301//528
f 299//529 314//529 435//529
f 299//530 300//530 314//530
f 303//531 435//531 314//531
f 310//532 308//532 309//532 311//532
f 307//533 413//533 412//533
f 306//534 440//534 335//534
f 308//535 296//535 305//535
f 309//536 314//536 315//536
f 308//537 310//537 436//537 296//537
f 311//538 315//538 446//538
f 318//539 313//539 300//539 284//539
f 316//540 317//540 284//540 283//540
f 312//541 315//541 314//541
f 319//542 336//542 440//542 438//542
f 318//543 284//543 317//543
f 316//544 283//544 437//544
f 316//545 411//545 410//545
f 437//546 411//546 316//546
f 316//547 410//547 318//547
f 319//548 447//548 443//548 344//548
f 319//549 438//549 447//549
f 319//550 344//550 342//550
f 307//551 320//551 438//551 440//551
f 342//552 343//552 336//552
f 307//553 412//553 410//553
f 320//554 410//554 449//554
f 320//555 447//555 438//555
f 322//556 321//556 326//556 325//556
f 321//557 328//557 449//557
f 408//558 409//558 321//558
f 331//559 325//559 323//559 335//559
f 322//560 325//560 439//560
f 322//561 328//561 321//561
f 323//562 326//562 324//562
f 324//563 326//563 409//563
f 324//564 306//564 323//564
f 417//565 414//565 306//565
f 376//566 327//566 350//566 377//566
f 331//567 439//567 325//567
f 346//568 347//568 349//568 348//568
f 327//569 376//569 443//569
f 376//570 341//570 443//570
f 329//571 322//571 439//571
f 329//572 334//572 327//572
f 331//573 330//573 439//573
f 330//574 329//574 439//574
f 331//575 335//575 332//575
f 330//576 333//576 334//576
f 330//577 334//577 329//577
f 337//578 349//578 332//578
f 384//579 379//579 339//579
f 339//580 445//580 384//580
f 338//581 337//581 339//581
f 348//582 349//582 338//582
f 338//583 354//583 355//583
f 341//584 343//584 342//584
f 342//585 344//585 341//585
f 338//586 355//586 345//586
f 347//587 334//587 333//587
f 351//588 346//588 362//588 360//588
f 346//589 348//589 362//589
f 359//590 358//590 355//590 352//590
f 353//591 442//591 350//591
f 350//592 327//592 351//592
f 327//593 334//593 351//593
f 351//594 360//594 352//594
f 353//595 354//595 441//595
f 354//596 340//596 441//596
f 441//597 442//597 353//597
f 353//598 352//598 355//598
f 356//599 345//599 444//599
f 356//600 357//600 365//600
f 356//601 365//601 370//601
f 358//602 345//602 355//602
f 361//603 362//603 338//603 448//603
f 359//604 352//604 360//604
f 360//605 363//605 359//605
f 359//606 363//606 444//606
f 363//607 366//607 357//607 444//607
f 364//608 367//608 370//608
f 364//609 370//609 365//609
f 379//610 378//610 380//610 377//610
f 364//611 365//611 357//611
f 367//612 366//612 368//612
f 368//613 448//613 369//613
f 370//614 345//614 356//614
f 369//615 448//615 345//615
f 369//616 370//616 367//616
f 372//617 383//617 373//617
f 373//618 392//618 371//618
f 445//619 343//619 374//619
f 374//620 375//620 398//620
f 376//621 375//621 341//621
f 376//622 377//622 380//622
f 376//623 380//623 372//623
f 441//624 379//624 377//624 442//624
f 396//625 371//625 387//625 386//625
f 441//626 340//626 379//626
f 378//627 384//627 383//627
f 381//628 382//628 385//628
f 382//629 390//629 389//629
f 385//630 383//630 384//630
f 383//631 385//631 393//631
f 393//632 373//632 383//632
f 393//633 392//633 373//633
f 381//628 385//628 384//628
f 386//634 390//634 381//634
f 386//635 395//635 401//635
f 387//636 391//636 389//636
f 387//637 389//637 390//637
f 391//638 387//638 371//638
f 391//639 371//639 392//639
f 393//640 385//640 382//640
f 392//641 388//641 391//641
f 395//642 384//642 394//642
f 395//643 381//643 384//643
f 384//644 445//644 402//644
f 408//645 406//645 407//645 409//645
f 386//646 401//646 396//646
f 397//647 445//647 374//647
f 374//648 398//648 397//648
f 398//649 396//649 397//649
f 397//650 402//650 445//650
f 394//651 402//651 403//651
f 401//652 395//652 394//652
f 400//653 396//653 401//653
f 401//654 399//654 400//654
f 403//655 397//655 396//655
f 404//656 405//656 310//656
f 310//657 311//657 404//657
f 404//658 446//658 429//658
f 422//659 407//659 436//659 405//659
f 406//660 408//660 411//660
f 408//661 449//661 411//661
f 412//662 318//662 410//662
f 411//663 449//663 410//663
f 312//664 421//664 315//664
f 312//665 313//665 413//665
f 413//666 306//666 414//666
f 415//667 418//667 420//667
f 415//668 427//668 426//668
f 418//669 426//669 428//669
f 419//670 414//670 417//670
f 417//671 409//671 416//671
f 416//672 420//672 418//672
f 419//673 421//673 414//673
f 409//674 407//674 422//674
f 423//675 420//675 424//675
f 425//676 426//676 427//676
f 428//677 419//677 418//677
f 423//678 405//678 432//678
f 430//679 432//679 405//679
f 430//680 429//680 431//680
f 431//681 432//681 430//681
f 273//682 272//682 276//682
f 292//683 275//683 276//683
f 275//684 292//684 279//684
f 275//685 280//685 285//685
f 273//686 275//686 289//686
f 277//687 293//687 302//687
f 287//688 278//688 304//688
f 278//689 287//689 280//689
f 281//690 301//690 272//690
f 281//691 433//691 282//691
f 281//692 282//692 283//692
f 289//693 286//693 274//693
f 285//694 287//694 288//694
f 290//695 434//695 293//695
f 434//696 290//696 301//696
f 295//697 296//697 406//697
f 296//698 436//698 407//698
f 297//699 295//699 298//699
f 300//700 299//700 301//700
f 284//701 300//701 301//701
f 276//702 272//702 301//702 294//702
f 435//703 302//703 293//703
f 302//704 435//704 303//704
f 307//705 306//705 413//705
f 306//706 307//706 440//706
f 323//707 306//707 335//707
f 303//708 308//708 305//708
f 308//709 303//709 309//709
f 309//710 303//710 314//710
f 311//711 309//711 315//711
f 300//712 312//712 314//712
f 313//713 312//713 300//713
f 317//714 316//714 318//714
f 319//715 342//715 336//715
f 320//716 307//716 410//716
f 320//717 449//717 328//717
f 320//718 328//718 447//718
f 408//719 321//719 449//719
f 321//720 409//720 326//720
f 417//721 324//721 409//721
f 324//722 417//722 306//722
f 323//723 325//723 326//723
f 377//724 350//724 442//724
f 329//725 328//725 322//725
f 328//726 329//726 327//726
f 447//727 328//727 443//727
f 328//728 327//728 443//728
f 330//729 331//729 332//729
f 330//730 332//730 333//730
f 333//731 332//731 349//731
f 335//732 337//732 332//732
f 335//733 440//733 336//733
f 337//734 335//734 336//734
f 337//735 336//735 343//735
f 384//736 378//736 379//736
f 445//737 339//737 343//737
f 338//738 349//738 337//738
f 338//739 340//739 354//739
f 338//740 339//740 340//740
f 339//741 337//741 343//741
f 340//742 339//742 379//742
f 341//743 344//743 443//743
f 448//744 338//744 345//744
f 346//745 351//745 347//745
f 347//746 351//746 334//746
f 349//747 347//747 333//747
f 362//748 348//748 338//748
f 350//749 351//749 352//749
f 353//750 350//750 352//750
f 353//751 355//751 354//751
f 357//752 356//752 444//752
f 358//753 359//753 444//753
f 358//754 444//754 345//754
f 368//755 361//755 448//755
f 362//756 361//756 363//756
f 360//757 362//757 363//757
f 361//758 368//758 363//758
f 366//759 364//759 357//759
f 366//760 363//760 368//760
f 369//761 367//761 368//761
f 366//762 367//762 364//762
f 370//763 369//763 345//763
f 375//764 372//764 398//764
f 371//765 372//765 373//765
f 396//766 372//766 371//766
f 341//767 374//767 343//767
f 374//768 341//768 375//768
f 372//769 380//769 383//769
f 376//770 372//770 375//770
f 380//771 378//771 383//771
f 382//772 381//772 390//772
f 386//773 387//773 390//773
f 386//774 381//774 395//774
f 388//775 382//775 389//775
f 388//776 389//776 391//776
f 388//777 393//777 382//777
f 392//778 393//778 388//778
f 394//779 384//779 402//779
f 396//780 398//780 372//780
f 399//781 394//781 403//781
f 399//782 403//782 400//782
f 399//783 401//783 394//783
f 400//784 403//784 396//784
f 403//785 402//785 397//785
f 310//786 405//786 436//786
f 404//787 311//787 446//787
f 430//788 404//788 429//788
f 404//789 430//789 405//789
f 412//790 313//790 318//790
f 312//791 413//791 421//791
f 315//792 421//792 446//792
f 412//793 413//793 313//793
f 421//794 413//794 414//794
f 418//795 415//795 426//795
f 416//796 419//796 417//796
f 416//797 424//797 420//797
f 419//798 416//798 418//798
f 419//799 446//799 421//799
f 446//800 419//800 429//800
f 422//801 424//801 409//801
f 424//802 416//802 409//802
f 423//803 422//803 405//803
f 422//804 423//804 424//804
f 431//805 425//805 432//805
f 425//806 427//806 432//806
f 425//807 431//807 428//807
f 426//808 425//808 428//808
f 428//809 429//809 419//809
f 428//810 431//810 429//810
f 423//811 415//811 420//811
f 427//812 423//812 432//812
f 423//813 427//813 415//813
usemtl Materiale.002
f 492//862 495//862 493//862
f 493//863 499//863 482//863
f 492//864 493//864 540//864
f 492//865 494//865 495//865
f 496//868 494//868 501//868
f 498//871 495//871 497//871
f 500//874 492//874 540//874
f 493//930 481//930 540//930
f 481//931 493//931 482//931
f 493//938 495//938 499//938
f 494//939 492//939 501//939
f 495//940 494//940 497//940
f 496//941 497//941 494//941
f 498//944 499//944 495//944
f 500//948 501//948 492//948
f 570//990 583//990 619//990
f 581//1002 583//1002 587//1002
f 582//1003 581//1003 585//1003
f 580//1004 582//1004 589//1004
f 570//1055 571//1055 583//1055
f 581//1060 580//1060 583//1060
f 587//1061 583//1061 571//1061
f 582//1062 580//1062 581//1062
f 583//1063 580//1063 619//1063
f 582//1066 584//1066 589//1066
f 584//1067 582//1067 585//1067
f 581//1070 586//1070 585//1070
f 586//1071 581//1071 587//1071
f 580//1073 588//1073 619//1073
f 588//1074 580//1074 589//1074
f 652//1139 667//1139 709//1139
f 665//1150 667//1150 671//1150
f 666//1151 665//1151 669//1151
f 664//1152 666//1152 673//1152
f 652//1207 653//1207 667//1207
f 665//1213 664//1213 667//1213
f 671//1214 667//1214 653//1214
f 666//1215 664//1215 665//1215
f 667//1216 664//1216 709//1216
f 666//1218 668//1218 673//1218
f 668//1219 666//1219 669//1219
f 665//1221 670//1221 669//1221
f 670//1222 665//1222 671//1222
f 664//1224 672//1224 709//1224
f 672//1225 664//1225 673//1225
`,defaultAttributes={globalScale:1,nodeScale:1,edgeScale:1,edgeOvershoot:1.25,edgeFog:1,nodeFog:1,edgeFrequency:2,edgePulseSpeed:1,edgeWaveSpeed:1,focus:-1},getAttributes=X=>state(X,"attributes",()=>structuredClone(defaultAttributes)).get(),getNodeVisualizerMesh=moize.infinite((X,Z="heart")=>{let G;if(Z==="box")G=new BoxGeometry(1,1,1);else if(Z==="heart"){const ee=new OBJLoader().parse(heartObjString).children[0].geometry;if(!ee.index){const ie=[],ne=ee.attributes.position;for(let ce=0;ce<ne.count;ce+=3)ie.push(ce,ce+1,ce+2);ee.setIndex(ie)}let q=.25;ee.scale(q,q,q),console.log(ee),G=ee;let te=new TorusKnotGeometry(1,.3,128,64,3,5);console.log(te)}else Z==="brain"&&(G=new TorusKnotGeometry(1,.3,128,64,3,5));const W=new InstancedBufferGeometry;W.setAttribute("vertexPosition",G.attributes.position),W.setAttribute("vertexNormal",G.attributes.normal),W.setIndex(G.index),W.setAttribute("index",new InstancedBufferAttribute(new Int32Array([]),1));const F=new RawShaderMaterial({vertexShader:node_default$1,fragmentShader:node_default,glslVersion:GLSL3}),U=new RawShaderMaterial({vertexShader:node_picker_default$1,fragmentShader:node_picker_default,depthWrite:!0,glslVersion:GLSL3});W.setAttribute("index",new InstancedBufferAttribute(new Int32Array([1,2,3,4]),1)),F.uniformsGroups=[getCamerasUniformsGroup(X)];const J=new Mesh(W,F),Y=new Mesh(W,U);return{mesh:J,pickerMesh:Y}}),initializeNodeVisualizerUniforms=X=>{const{mesh:Z,pickerMesh:G}=getNodeVisualizerMesh(X);Z.material.uniforms={positionTexture:{value:getPositionLayers(X).viewTexture},colorTexture:{value:getColorLayers(X).viewTexture},sizeTexture:{value:getSizeLayers(X).viewTexture},emphasisTexture:{value:getEmphasisLayers(X).viewTexture},textureDimensions:{value:[getColorLayers(X).view.width,getColorLayers(X).view.height]},mousePosition:{value:getPointerPositionClip(X)},selectedIndex:{value:-1},selectedColor:{value:getSelectedColor(X)},hoveringIndex:{value:getCurrentlyHoveringIndex(X)},time:{value:performance.now()/1e3}};const W=getAttributes(X);Object.entries(W).forEach(([F,U])=>{Z.material.uniforms[F]={value:U}}),G.material.uniforms=Z.material.uniforms,Z.material.needsUpdate=!0,G.material.needsUpdate=!0},updateNodeVisualizerUniforms=X=>{const{mesh:Z,pickerMesh:G}=getNodeVisualizerMesh(X),W=getAttributes(X);for(const F of[Z.material.uniforms,G.material.uniforms])F.globalScale.value=W.globalScale,F.nodeScale.value=W.nodeScale,F.edgeScale.value=W.edgeScale,F.edgeFrequency.value=W.edgeFrequency,F.edgePulseSpeed.value=W.edgePulseSpeed,F.positionTexture.value=getPositionLayers(X).viewTexture,F.colorTexture.value=getColorLayers(X).viewTexture,F.sizeTexture.value=getSizeLayers(X).viewTexture,F.emphasisTexture.value=getEmphasisLayers(X).viewTexture,F.textureDimensions.value=[getColorLayers(X).view.width,getColorLayers(X).view.height],F.mousePosition.value=getPointerPositionClip(X),F.selectedIndex.value=getSelectedIndex(X),F.selectedColor.value=getSelectedColor(X),F.hoveringIndex.value=getCurrentlyHoveringIndex(X),F.time.value=performance.now()/1e3;Object.entries(W).forEach(([F,U])=>{Z.material.uniforms[F].value=U,G.material.uniforms[F].value=U})},getNodeIndexArray=moize.infinite((X,Z)=>{const G=new Int32Array(Z);for(let W=0;W<Z;W++)G[W]=W;return new InstancedBufferAttribute(G,1)}),loadNodeVertexArray=(X,Z)=>{console.log("loading node vertex array",Z);const{mesh:G,pickerMesh:W}=getNodeVisualizerMesh(X),F=getNodeIndexArray(X,1e4);G.geometry.setAttribute("index",F),G.geometry.instanceCount=Z,W.geometry.setAttribute("index",F),W.geometry.instanceCount=Z},getEdgeVisualizerMesh=moize.infinite(X=>{const Z=new CylinderGeometry(.5,.5,1,4,4,!0),G=new InstancedBufferGeometry;G.setAttribute("segmentOffset",Z.attributes.position),G.setIndex(Z.index),G.setAttribute("edgeIndices",new InstancedBufferAttribute(new Int32Array([1,2,3]),2));const W=new RawShaderMaterial({vertexShader:edge_default$1,fragmentShader:edge_default,uniforms:{},depthTest:!1,depthWrite:!0,depthFunc:LessEqualDepth,transparent:!0,glslVersion:GLSL3});return new Mesh(G,W)}),getEdgeIndexBuffer=moize.infinite((X,Z)=>{const G=new Int32Array(1e4);return G.set(Z.flat()),new InstancedBufferAttribute(G,2)}),loadEdgeVertexArray=(X,Z)=>{console.log("loading edge vertex array",Z);const G=getEdgeVisualizerMesh(X),W=getEdgeIndexBuffer(X,Z);G.geometry.setAttribute("edgeIndices",W),G.geometry.instanceCount=Z.length},initializeEdgeVisualizerUniforms=X=>{const Z=getEdgeVisualizerMesh(X);Z.material.uniforms={positionTexture:{value:getPositionLayers(X).viewTexture},colorTexture:{value:getColorLayers(X).viewTexture},sizeTexture:{value:getSizeLayers(X).viewTexture},nodeDepthTexture:{value:getNodeDepthRenderTarget(X).depthTexture},emphasisTexture:{value:getEmphasisLayers(X).viewTexture},textureDimensions:{value:[getColorLayers(X).current.width,getColorLayers(X).current.height]},mousePosition:{value:getPointerPositionClip(X)},selectedIndex:{value:getSelectedIndex(X)},selectedColor:{value:getSelectedColor(X)},hoveringIndex:{value:getCurrentlyHoveringIndex(X)},time:{value:performance.now()/1e3},viewport:{value:[0,0]},devicePixelRatio:{value:window.devicePixelRatio}};const G=getAttributes(X);Object.entries(G).forEach(([W,F])=>{Z.material.uniforms[W]={value:F}}),Z.material.uniformsGroups=[getCamerasUniformsGroup(X)],Z.material.needsUpdate=!0},viewport=new Vector2,updateEdgeVisualizerUniforms=X=>{const{renderer:Z}=getThreeSetup(X);Z.getSize(viewport);const G=getEdgeVisualizerMesh(X);for(const F of[G.material.uniforms])F.positionTexture.value=getPositionLayers(X).viewTexture,F.colorTexture.value=getColorLayers(X).viewTexture,F.sizeTexture.value=getSizeLayers(X).viewTexture,F.emphasisTexture.value=getEmphasisLayers(X).viewTexture,F.textureDimensions.value=[getColorLayers(X).view.width,getColorLayers(X).view.height],F.nodeDepthTexture.value=getNodeDepthRenderTarget(X).depthTexture,F.mousePosition.value=getPointerPositionClip(X),F.selectedIndex.value=getSelectedIndex(X),F.selectedColor.value=getSelectedColor(X),F.hoveringIndex.value=getCurrentlyHoveringIndex(X),F.time.value=performance.now()/1e3,F.viewport.value=viewport.toArray();const W=getAttributes(X);Object.entries(W).forEach(([F,U])=>{G.material.uniforms[F].value=U})},getThreeSetup=moize.infinite(X=>{const{canvas:Z,gl:G}=getCanvasAndGLContext(X),W=new Scene,F=new Scene,U=new Scene,J=new PerspectiveCamera(75,window.innerWidth/window.innerHeight,.5,1e3);J.position.z=50;const Y=new WebGLRenderer({canvas:Z,context:G});Y.setSize(window.innerWidth,window.innerHeight),Y.setPixelRatio(window.devicePixelRatio);const D=getEdgeVisualizerMesh(X);W.add(D);const Q=getNodeVisualizerMesh(X).mesh;W.add(Q);const ee=getNodeVisualizerMesh(X).pickerMesh;return U.add(ee),{scene:W,depthScene:F,pickerScene:U,camera:J,renderer:Y,nodeVisualizerMesh:Q,edgeVisualizerMesh:D,nodePickerMesh:ee}}),getPickerRenderTarget=moize.infinite(X=>{const{canvas:Z}=getCanvasAndGLContext(X);return new WebGLRenderTarget(Z.width,Z.height,{stencilBuffer:!1})}),getNodeDepthRenderTarget=moize.infinite(X=>{const{canvas:Z}=getCanvasAndGLContext(X);return new WebGLRenderTarget(Z.width,Z.height,{depthTexture:new DepthTexture(Z.width,Z.height),depthBuffer:!0,stencilBuffer:!1})}),colorHash=new ColorHash({saturation:.7,lightness:.6}),makeNavId=X=>X.replace(/^(https?:\/\/)?(www\.)?([a-z0-9-]+\.)+[a-z0-9-]+/i,"").replace(/\/$/,"").replace(/^\//,"").replace(/[^A-Za-z0-9\.]/gi,"-").replace(/-+/g,"-").replace(/^package-/,"").replace(/-v-/,"-"),setGraphData=async(X,Z)=>{let{set:G}=asyncState(X,"graphData");G(Z);const{nodes:W,linkIndexPairs:F}=Z;setAllLayerSizes(X,W.length),prepareGraphDBWorker(X,Z),loadEdgeVertexArray(X,F),loadNodeVertexArray(X,W.length);const U=new Float32Array(W.flatMap(({color:ee})=>ee));console.log("setting colors",U,"to",getColorLayers(X)),getColorLayers(X).target.setFromArray(U),getColorLayers(X).current.setFromArray(U);const J=new Float32Array(W.length);for(let ee=0;ee<J.length;ee++)J[ee]=Math.sqrt(W[ee].size)/40;console.log("setting sizes",J,"to",getSizeLayers(X)),getSizeLayers(X).target.setFromArray(J),getSizeLayers(X).current.setFromArray(J);const Y=40,D=()=>[Math.random()*Y-1,Math.random()*Y-1,Math.random()*Y-1],Q=new Float32Array(W.flatMap(D));getPositionLayers(X).target.setFromArray(Q),getPositionLayers(X).current.setFromArray(Q),getEmphasisLayers(X).target.setFromArray(new Float32Array(W.length).fill(0)),getEmphasisLayers(X).current.setFromArray(new Float32Array(W.length).fill(0))},getGraphData=async X=>asyncState(X,"graphData").get(),randomGraphData=(X,Z)=>{const G=[...Array(X).keys()].map(Y=>({index:Y,id:`node://${Y}`,size:10,color:[...colorHash.rgb(String(Y)).map(D=>D/255),1],navId:makeNavId(`node-${Y}`)})),W=[...Array(Z).keys()].map(()=>{const Y=Math.floor(Math.random()*X),D=Math.floor(Math.random()*X);return{sourceIndex:Y,targetIndex:D,source:G[Y],target:G[D]}}),F=W.map(({sourceIndex:Y,targetIndex:D})=>[Y,D]),U=fromPairs(G.map(Y=>[Y.navId,Y])),J=fromPairs(G.map(Y=>[Y.id,Y]));return{nodes:G,links:W,linkIndexPairs:F,nodesByNavId:U,nodesById:J}},prepareGraphDBWorker=async(X,Z)=>await graphDb(X).buildGraph(Z);let engine;const getLayoutSimulator=moize.infinite(async(X,Z)=>{const G=(await graphLayout(X)).D3ForceLayout;return engine=await new G(Z),engine.start(),engine},{onExpire:()=>{engine.stop()}}),getLatestTargetPositions=moize(X=>state(X,"latestTargetPositions").get()),updateNodePositionTargets=async X=>{const Z=await getGraphData(X);(await getLayoutSimulator(X,Z)).getPositions(proxy(W=>{W.length>0&&(state(X,"latestTargetPositions").set(W),hasEnoughFramebufferAttachments(X)?getPositionLayers(X).target.setFromArray(W):getPositionLayers(X).view.setFromArray(W))}))},getNodePosition=(X,Z)=>{const G=getLatestTargetPositions(X)?getLatestTargetPositions(X):[],W=Z.index;return[G[W*3],G[W*3+1],G[W*3+2]]},normalizedEventCoordinates=(X,Z)=>{const{canvas:G}=getCanvasAndGLContext(X),W=G.getBoundingClientRect(),F=(Z.clientX-W.left)/W.width,U=(Z.clientY-W.top)/W.height;return{x:F*2-1,y:-(U*2-1)}},globalCamera=(X,...Z)=>graphCameraAnimation(X).getGlobalCamera(X,...Z),updateCameras=(X,...Z)=>graphCameraAnimation(X).updateCameras(X,...Z),getGlobalCameraParams=(X,...Z)=>graphCameraAnimation(X).getGlobalCameraParams(X,...Z),setCameraCenter=(X,...Z)=>graphCameraAnimation(X).setCameraCenter(X,...Z),setCameraDistance=(X,...Z)=>graphCameraAnimation(X).setCameraDistance(X,...Z),zoomGlobalCamera=(X,...Z)=>graphCameraAnimation(X).zoomGlobalCamera(X,...Z),panGlobalCamera=(X,...Z)=>graphCameraAnimation(X).panGlobalCamera(X,...Z),startZooming=(X,...Z)=>graphCameraAnimation(X).startZooming(X,...Z),stopZooming=(X,...Z)=>graphCameraAnimation(X).stopZooming(X,...Z),startPanning=(X,...Z)=>graphCameraAnimation(X).startPanning(X,...Z),stopPanning=(X,...Z)=>graphCameraAnimation(X).stopPanning(X,...Z),computeScreenPosition=(X,...Z)=>graphCameraAnimation(X).computeScreenPosition(X,...Z),deviceHasMouse=moize.infinite(()=>window.matchMedia("(pointer:fine)").matches);let selectedZoom,deselectedZoom;const maxSelectedZoom=500,minUnselectedZoom=maxSelectedZoom,zoomingStopped=async X=>{stopZooming(X);const Z=getSelectedIndex(X),G=(await getGlobalCameraParams(X)).distance;Z>-1?selectedZoom=Math.min(G,maxSelectedZoom):deselectedZoom=Math.max(G,minUnselectedZoom)},getPointerPositionInfo=X=>state(X,"pointerPositionInfo",()=>({x:0,y:0,canvasX:0,canvasY:0,pickerX:0,pickerY:0})).get(),pickedColor=new Uint8Array(4).fill(0);let lastOverIndex=-1,dragging=!1,countLastDragEvents=0,cumulativeDragDistance=0;const incrementDragEvents=()=>{countLastDragEvents++},getPointerPositionClip=X=>[getPointerPositionInfo(X).x,getPointerPositionInfo(X).y],getPointerPositionPicker=X=>[getPointerPositionInfo(X).pickerX,getPointerPositionInfo(X).pickerY],collectPointerPositionInfo=curry((X,{x:Z,y:G})=>{const{canvas:W}=getCanvasAndGLContext(X),F=getPointerPositionInfo(X);F.x=Z,F.y=G,F.canvasX=(Z+1)/2*W.width,F.canvasY=(G+1)/2*W.height;const U=window.devicePixelRatio||1;F.pickerX=Math.floor(F.canvasX/U),F.pickerY=Math.floor(F.canvasY/U)}),getCurrentlyHoveringIndex=X=>state(X,"currentlyHoveringIndex",()=>-1).get(),getCurrentlyHoveringNode=async X=>{const{nodes:Z}=await getGraphData(X),G=getCurrentlyHoveringIndex(X);return Z[G]},setupSelection=moize.infinite(X=>{const Z=X.context,{canvas:G}=getCanvasAndGLContext(Z);normalizedInteractionEvents_1(G).on("touchmove",collectPointerPositionInfo(Z)).on("mousemove",collectPointerPositionInfo(Z)),normalizedInteractionEvents_1(G).on("mousemove",()=>{!dragging&&updatePickerColorDebounced(Z)()}),normalizedInteractionEvents_1(G).on("touchmove",incrementDragEvents).on("pinchmove",incrementDragEvents).on("mousemove",incrementDragEvents),G.addEventListener("pointerdown",async W=>{console.log("pointer down");const F=async([J,Y])=>{console.log("pointer clickHandler",J,Y);const D=cumulativeDragDistance>.03||countLastDragEvents>5;if(console.log("was drag",D,cumulativeDragDistance,countLastDragEvents),dragging=!1,!D){const Q=getCurrentlyHoveringIndex(Z);setSelectedIndex(Z,Q),console.log("selected index set to",Q),getSelectedInfo(Z).then(ee=>{G.dispatchEvent(new CustomEvent("selected",{detail:{selectedIndex:Q,info:ee}}))}),G.dispatchEvent(new CustomEvent("tap",{detail:{selectedIndex:Q}}))}},U=new Promise((J,Y)=>{G.addEventListener("pointerup",J,{once:!0}),setTimeout(()=>Y("pointer event timed out after 100ms"),200)});dragging=!0,countLastDragEvents=0,cumulativeDragDistance=0,Promise.all([U,getNextHoverOnUpdate(Z)]).then(F).catch(J=>console.log(J)),setTimeout(()=>{cumulativeDragDistance>.03||countLastDragEvents>5||updatePickerColor(Z)},2),collectPointerPositionInfo(Z,normalizedEventCoordinates(Z,W))}),G.addEventListener("selected",W=>{const F=W.detail.info;console.log("preparing to navigate:",F,void 0),X.setAttribute("focus",F?.navId)}),G.addEventListener("hover",async W=>{const{nodes:F}=await getGraphData(Z),U=W.detail.wasHoveredIndex;U>-1&&F[U];const J=W.detail.nowHoveredIndex,Y=J>-1?F[J]:null;getSelectedIndex(Z)>-1&&F[getSelectedIndex(Z)],Y?state(Z,"currentlyHoveringIndex").set(Y?.index!=null?Y.index:-1):state(Z,"currentlyHoveringIndex").set(-1)})}),radiansPerHalfScreenWidth=Math.PI/3,setupCameraInteraction=X=>{const{canvas:Z}=getCanvasAndGLContext(X);Z.addEventListener("wheel",G=>{const W=Math.exp(G.deltaY/Z.clientHeight*2)-1,F=Math.sign(W);startZooming(X),zoomGlobalCamera(X,0,0,F*Math.min(Math.abs(W),.06)),G.preventDefault(),zoomingStopped(X)},{passive:!1}),normalizedInteractionEvents_1(Z).on("mousemove",function(G){!G.active||G.buttons!==1||(cumulativeDragDistance+=Math.sqrt(Math.pow(G.dx,2)+Math.pow(G.dy,2)),G.mods.shift?(startPanning(X),panGlobalCamera(X,G.dx,G.dy)):G.mods.meta?globalCamera(X).pivot(G.dx,G.dy):(globalCamera(X).rotate(-G.dx*radiansPerHalfScreenWidth,-G.dy*radiansPerHalfScreenWidth),stopPanning(X)),G.originalEvent.preventDefault())}).on("touchmove",function(G){collectPointerPositionInfo(G),G.active&&(cumulativeDragDistance+=Math.sqrt(Math.pow(G.dx,2)+Math.pow(G.dy,2)),globalCamera(X).rotate(-G.dx*radiansPerHalfScreenWidth,-G.dy*radiansPerHalfScreenWidth))}).on("pinchmove",function(G){G.active&&(dragging=!0,startPanning(X),startZooming(X),zoomGlobalCamera(X,0,0,1-G.zoomx),panGlobalCamera(X,G.dx,G.dy))}).on("touchstart",G=>G.originalEvent.preventDefault()).on("pinchstart",G=>G.originalEvent.preventDefault()).on("pinchend",()=>{stopPanning(X),zoomingStopped(X)})},pickerState=moize.infinite(X=>({lastOverIndex:-1,pickerTime:0,pickerSync:null,pickerFailures:0,pickerGuardFailed:!1})),getNodeIndexFromPickerColor=X=>X[0]+X[1]*256+X[2]*256*256-1,checkPickerSync=X=>{const Z=pickerState(X),G=getCanvasAndGLContext(X).gl,W=()=>G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.pickerSync?G?.clientWaitSync(Z.pickerSync,0,0)===G?.CONDITION_SATISFIED?(G.deleteSync(Z.pickerSync),Z.pickerSync=W(),!0):!1:(Z.pickerSync=W(),!1)},updatePickerColor=moize.infinite(X=>()=>{const Z=pickerState(X),G=checkPickerSync(X),{canvas:W}=getCanvasAndGLContext(X),F=getCanvasAndGLContext(X).gl;if(Z.pickerFailures>10&&(Z.pickerGuardFailed=!0,console.warn("picker guard failed")),!G&&!Z.pickerGuardFailed)console.debug("not ready to read picker pixel yet"),Z.pickerFailures+=1;else{Z.pickerFailures=0;const{renderer:U}=getThreeSetup(X),J=getPointerPositionPicker(X),Y=getPickerRenderTarget(X);U.readRenderTargetPixels(Y,...J,1,1,pickedColor),F.flush();const D=getNodeIndexFromPickerColor(pickedColor);setTimeout(()=>{W.dispatchEvent(new CustomEvent("hover",{detail:{wasHoveredIndex:lastOverIndex,nowHoveredIndex:D}}))},1),D>-1&&setTimeout(()=>{W.dispatchEvent(new CustomEvent("hoveron",{detail:{wasHoveredIndex:lastOverIndex,nowHoveredIndex:D}}))},10),lastOverIndex=D}}),updatePickerColorThrottled=X=>throttle(updatePickerColor(X),1e3),updatePickerColorDebounced=X=>debounce(updatePickerColor(X),300),getNextHoverOnUpdate=async X=>(console.log("waiting for hover event"),new Promise(Z=>{const G=getCanvasAndGLContext(X).canvas,W=F=>{console.log("got hover event",F.detail),Z(F.detail)};G.addEventListener("hover",W,{once:!0})})),getSelectedInfo=async X=>{const{nodes:Z}=await getGraphData(X);return Z[getSelectedIndex(X)]},makeCursor=moize.deep((X,{classes:Z,htmlTemplate:G,applyScreenPositionStyle:W}={})=>{const F=getComponent(X);W=W||((ee,q)=>{q.style.left=`${ee[0]}vw`,q.style.bottom=`${ee[1]}vh`});const U=document.createElement("div");U?.classList.add("cursor"),Z?.forEach(ee=>U?.classList.add(ee)),F?.shadowRoot?.appendChild(U);const J=ee=>{W(ee,U)},Y=ee=>{const q=[(ee[0]+1)/2*100,(ee[1]+1)/2*100];J(q)},D=throttle(async ee=>{const q=getNodePosition(X,ee),te=await computeScreenPosition(X,q);Y(te)},1e3/10),Q=throttle(async ee=>{ee?(await D(ee),U.classList.add("focused")):U.classList.remove("focused"),ee&&G&&B(G(ee),U)},50);return{element:U,alignToScreenPosition:J,alignToNDCPosition:Y,alignToNode:D,highlightNode:Q,destroy:()=>U.remove()}}),selectedCursor=moize.infinite(X=>makeCursor(X,{classes:["selected-cursor"]})),hoveredTooltip=moize.infinite(X=>makeCursor(X,{classes:["hovered-tooltip"],htmlTemplate:Z=>x$2`
      <div class="node-name">${Z.data?.name}</div>
    `,applyScreenPositionStyle(Z,G){G.style.left=`calc(min(${Z[0]}vw, calc(100vw - 15em)))`,G.style.bottom=`${Z[1]}vh`}})),hoveredCursor=moize.infinite(X=>makeCursor(X,{classes:["hovered-cursor"]}));window.addEventListener("keydown",X=>{X.key,X.key});const getWidthAndHeight=moize(X=>{const Z=getComponent(X),G=window.devicePixelRatio||1,W=Z.clientWidth,F=Z.clientHeight,U=Math.floor(W*G),J=Math.floor(F*G);return{width:U,height:J,clientWidth:W,clientHeight:F}}),setCanvas=(X,Z=null)=>{const{set:G,get:W}=state(X,"canvas"),F=W();G(Z?F||Z:F||document.createElement("canvas"))},getCanvasAndGLContext=moize.infinite(X=>{const Z=state(X,"canvas").get(),G=Z.getContext("webgl2",{powerPreference:"high-performance"});return G?console.log("WebGL2 initialized"):console.error("WebGL2 failed to initialize"),G.getExtension("WEBGL_color_buffer_float")||console.warn("WEBGL_color_buffer_float is not supported :("),{canvas:Z,gl:G}}),getGPUComposer=moize.infinite(X=>{const{renderer:Z}=getThreeSetup(X);return gpuIoExports.GPUComposer.initWithThreeRenderer(Z)}),fillCanvasToWindow=X=>{getCanvasAndGLContext(X);const{renderer:Z}=getThreeSetup(X),{width:G,height:W,clientWidth:F,clientHeight:U}=getWidthAndHeight(X);getComponent(X),Z.setSize(F,U),getPickerRenderTarget(X).setSize(F,U),getNodeDepthRenderTarget(X).setSize(G,W),globalCamera(X).resize(G/W)},initializeRenderer=X=>{initializeNodeVisualizerUniforms(X),initializeEdgeVisualizerUniforms(X)},interpolate=X=>{const Z=getGPUComposer(X);Z.undoThreeState();const G=[getPositionLayers(X),getColorLayers(X),getSizeLayers(X),getEmphasisLayers(X)],W=getInterpolationProgram(X);Z.step({program:W,input:G.flatMap(F=>[F.target,F.current]),output:G.flatMap(F=>[F.current,F.view])}),Z.resetThreeState()},animateGraph=X=>{getWidthAndHeight.remove(X),updateNodePositionTargets(X),getSelectedNode(X).then(Q=>{selectedCursor(X).highlightNode(Q)}),deviceHasMouse()&&getCurrentlyHoveringNode(X).then(Q=>{hoveredTooltip(X).highlightNode(Q),hoveredCursor(X).highlightNode(Q)});const{width:Z,height:G}=getWidthAndHeight(X);updateCameras(X,cameraUniformsGroupUpdater(X),Z,G),getCanvasAndGLContext(X),hasEnoughFramebufferAttachments(X)&&interpolate(X),fillCanvasToWindow(X);const{renderer:W,scene:F,camera:U,nodeVisualizerMesh:J,nodePickerMesh:Y,edgeVisualizerMesh:D}=getThreeSetup(X);updateNodeVisualizerUniforms(X),updateEdgeVisualizerUniforms(X),J.material.depthTest&&(W.setRenderTarget(getNodeDepthRenderTarget(X)),W.render(J,U)),W.setRenderTarget(null),W.render(F,U),W.setRenderTarget(getPickerRenderTarget(X)),W.render(Y,U),deviceHasMouse()&&updatePickerColorThrottled(X)(),requestAnimationFrame(()=>animateGraph(X))};var handlers={},on=(X,Z)=>{handlers[X]??(handlers[X]=[]),handlers[X].push(Z)},off=(X,Z)=>{var G;(G=handlers[X])==null||G.splice(handlers[X].indexOf(Z),1)},emit=async(X,Z,G)=>{for(const W of handlers[X]??[])await W(Z,G)},stripTrailingSlash=X=>X.length>1&&X.endsWith("/")?X.slice(0,-1):X,parsePattern=X=>{var Z;const G=(Z=X.match(/(:[^/]+)/g))==null?void 0:Z.map(W=>W.substring(1));return G&&{keys:G,regExp:new RegExp("^"+X.replace(/(:[^/]+)/g,"([^/]+)")+"$")}},getParams=(X,Z)=>Object.fromEntries(Z.map((G,W)=>[G,X[W+1]])),routeDefinitions=[],currentRoute,findDefinition=X=>{for(const Z of routeDefinitions){const{pattern:G,regExp:W,keys:F}=Z,U=W?X.match(W):G==="*"||G===X;if(U){const J=Array.isArray(U)?getParams(U,F):void 0;return{definition:Z,params:J}}}},handleChange=async(X,Z)=>{const G=findDefinition(X),W=!!G,F=G?.params??{},U=currentRoute;currentRoute={path:X,params:F,matches:W,trigger:Z},await emit("before-route",currentRoute,U),await G?.definition.action(F,currentRoute,U),await emit("route",currentRoute,U)},src_default={get currentRoute(){return currentRoute},on,off,start({handleInitial:X=!0}={}){const Z=window.location.hash!=""&&window.location.hash;X&&handleChange(Z||window.location.pathname||"/","init"),window.addEventListener("popstate",()=>handleChange(window.location.pathname,"popstate")),window.addEventListener("hashchange",()=>{handleChange(window.location.hash,"hashchange")})},route(X,Z){const G=stripTrailingSlash(X),{regExp:W,keys:F=[]}=parsePattern(X)||{};routeDefinitions.push({pattern:G,action:Z,regExp:W,keys:F})},push(X){window.history.pushState(null,"",stripTrailingSlash(X)),handleChange(X,"push")},replace(X){window.history.replaceState(null,"",stripTrailingSlash(X)),handleChange(X,"replace")}};src_default.route("#-",()=>{console.log("navigating to nothing")});src_default.route("#node/:id",async(X,{trigger:Z})=>{});class WebscapeWanderer extends HTMLElement{constructor(){if(super(),this.context=Symbol(),setComponent(this.context,this),getComponent(this.context)!==this)throw new Error("What the heck")}set graphData(Z){setGraphData(this.context,Z)}get graphData(){return getGraphData(this.context)}connectedCallback(){const Z=this.context,G=this.attachShadow({mode:"open"}),W=document.createElement("style");W.textContent=`
      :host {
        display: block;
        // width: 800px;
        // height: 600px;
        min-width: 100%;
        min-height: 99vh;
        max-height: 100vh;
      }
    `,G.appendChild(W);const F=document.createElement("canvas");G.appendChild(F),setCanvas(Z,F),console.log("Canvas created and set"),initializeRenderer(Z),console.log("Renderer initialized"),getThreeSetup(Z),console.log("Three.js setup complete"),setupCameraInteraction(Z),console.log("Camera interaction set up"),setupSelection(this),console.log("Selection setup complete"),document.querySelector("html")?.classList.add("loading"),console.log("Added loading class to HTML"),getGraphData(this.context).then(U=>{console.log("Graph data retrieved",U),document.querySelector("html").classList.remove("loading"),console.log("Removed loading class from HTML"),animateGraph(this.context),console.log("Graph animation started"),src_default.start(),console.log("Navigation started")})}disconnectedCallback(){}adoptedCallback(){}attributeChangedCallback(Z,G,W){const F=this.context,U=getAttributes(this.context);U[camelCase$1(Z)]=W||defaultAttributes[camelCase$1(Z)],Z=="focus"&&getGraphData(F).then(({nodesByNavId:J})=>{const Y=J[W];selectNodeAndDownstreamDependents(F,Y,!0)})}}WebscapeWanderer.observedAttributes=Object.keys(defaultAttributes).map(kebabCase$1);customElements.define("webscape-wanderer",WebscapeWanderer);window.addEventListener("DOMContentLoaded",()=>{for(let X of document.querySelectorAll("webscape-wanderer"))X.graphData=randomGraphData(5,10),setTimeout(()=>{X.graphData=randomGraphData(200,2e3)},3e6)});
