const it=Symbol("Comlink.proxy"),bt=Symbol("Comlink.endpoint"),Pt=Symbol("Comlink.releaseProxy"),Ye=Symbol("Comlink.thrown"),at=e=>typeof e=="object"&&e!==null||typeof e=="function",St={canHandle:e=>at(e)&&e[it],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Xe(e,t),[n,[n]]},deserialize(e){return e.start(),It(e)}},Ot={canHandle:e=>at(e)&&Ye in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},st=new Map([["proxy",St],["throw",Ot]]);function Xe(e,t=self){t.addEventListener("message",function n(r){if(!r||!r.data)return;const{id:s,type:i,path:u}=Object.assign({path:[]},r.data),p=(r.data.argumentList||[]).map(se);let g;try{const M=u.slice(0,-1).reduce((l,c)=>l[c],e),b=u.reduce((l,c)=>l[c],e);switch(i){case"GET":g=b;break;case"SET":M[u.slice(-1)[0]]=se(r.data.value),g=!0;break;case"APPLY":g=b.apply(M,p);break;case"CONSTRUCT":{const l=new b(...p);g=Rt(l)}break;case"ENDPOINT":{const{port1:l,port2:c}=new MessageChannel;Xe(e,c),g=ae(l,[l])}break;case"RELEASE":g=void 0;break;default:return}}catch(M){g={value:M,[Ye]:0}}Promise.resolve(g).catch(M=>({value:M,[Ye]:0})).then(M=>{const[b,l]=Ze(M);t.postMessage(Object.assign(Object.assign({},b),{id:s}),l),i==="RELEASE"&&(t.removeEventListener("message",n),ot(t))})}),t.start&&t.start()}function Tt(e){return e.constructor.name==="MessagePort"}function ot(e){Tt(e)&&e.close()}function It(e,t){return He(e,[],t)}function xe(e){if(e)throw new Error("Proxy has been released and is not useable")}function He(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(i,u){if(xe(r),u===Pt)return()=>ce(e,{type:"RELEASE",path:t.map(p=>p.toString())}).then(()=>{ot(e),r=!0});if(u==="then"){if(t.length===0)return{then:()=>s};const p=ce(e,{type:"GET",path:t.map(g=>g.toString())}).then(se);return p.then.bind(p)}return He(e,[...t,u])},set(i,u,p){xe(r);const[g,M]=Ze(p);return ce(e,{type:"SET",path:[...t,u].map(b=>b.toString()),value:g},M).then(se)},apply(i,u,p){xe(r);const g=t[t.length-1];if(g===bt)return ce(e,{type:"ENDPOINT"}).then(se);if(g==="bind")return He(e,t.slice(0,-1));const[M,b]=We(p);return ce(e,{type:"APPLY",path:t.map(l=>l.toString()),argumentList:M},b).then(se)},construct(i,u){xe(r);const[p,g]=We(u);return ce(e,{type:"CONSTRUCT",path:t.map(M=>M.toString()),argumentList:p},g).then(se)}});return s}function Ft(e){return Array.prototype.concat.apply([],e)}function We(e){const t=e.map(Ze);return[t.map(n=>n[0]),Ft(t.map(n=>n[1]))]}const ut=new WeakMap;function ae(e,t){return ut.set(e,t),e}function Rt(e){return Object.assign(e,{[it]:!0})}function Ze(e){for(const[t,n]of st)if(n.canHandle(e)){const[r,s]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},s]}return[{type:"RAW",value:e},ut.get(e)||[]]}function se(e){switch(e.type){case"HANDLER":return st.get(e.name).deserialize(e.value);case"RAW":return e.value}}function ce(e,t,n){return new Promise(r=>{const s=Kt();e.addEventListener("message",function i(u){!u.data||!u.data.id||u.data.id!==s||(e.removeEventListener("message",i),r(u.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:s},t),n)})}function Kt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qt=kt;function kt(e,t,n){var r=t[0],s=t[1],i=t[2],u=n[3]*r+n[7]*s+n[11]*i+n[15];return u=u||1,e[0]=(n[0]*r+n[4]*s+n[8]*i+n[12])/u,e[1]=(n[1]*r+n[5]*s+n[9]*i+n[13])/u,e[2]=(n[2]*r+n[6]*s+n[10]*i+n[14])/u,e}var Dt=Nt;function Nt(e,t,n,r){var s=n[0],i=n[2],u=t[0]-s,p=t[2]-i,g=Math.sin(r),M=Math.cos(r);return e[0]=s+p*g+u*M,e[1]=t[1],e[2]=i+p*M-u*g,e}var jt=Yt;function Yt(e,t,n,r){var s=n[1],i=n[2],u=t[1]-s,p=t[2]-i,g=Math.sin(r),M=Math.cos(r);return e[0]=t[0],e[1]=s+u*M-p*g,e[2]=i+u*g+p*M,e}var Ht=1e-6,Ut=Lt,Re=Ht;function Lt(e,t){var n=e[0],r=e[1],s=e[2],i=t[0],u=t[1],p=t[2];return Math.abs(n-i)<=Re*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-u)<=Re*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(s-p)<=Re*Math.max(1,Math.abs(s),Math.abs(p))}var Xt=Zt;function Zt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}var Bt=Wt;function Wt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}var $t=Gt;function Gt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}var Vt=Qt;function Qt(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}var ct=Jt;function Jt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}var er=tr;function tr(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],u=t[4],p=t[5],g=t[6],M=t[7],b=t[8],l=t[9],c=t[10],m=t[11],P=t[12],z=t[13],S=t[14],T=t[15],F=n*p-r*u,O=n*g-s*u,Y=n*M-i*u,H=r*g-s*p,U=r*M-i*p,K=s*M-i*g,W=b*z-l*P,D=b*S-c*P,$=b*T-m*P,_=l*S-c*z,E=l*T-m*z,f=c*T-m*S,h=F*f-O*E+Y*_+H*$-U*D+K*W;return h?(h=1/h,e[0]=(p*f-g*E+M*_)*h,e[1]=(s*E-r*f-i*_)*h,e[2]=(z*K-S*U+T*H)*h,e[3]=(c*U-l*K-m*H)*h,e[4]=(g*$-u*f-M*D)*h,e[5]=(n*f-s*$+i*D)*h,e[6]=(S*Y-P*K-T*O)*h,e[7]=(b*K-c*Y+m*O)*h,e[8]=(u*E-p*$+M*W)*h,e[9]=(r*$-n*E-i*W)*h,e[10]=(P*U-z*Y+T*F)*h,e[11]=(l*Y-b*U-m*F)*h,e[12]=(p*D-u*_-g*W)*h,e[13]=(n*_-r*D+s*W)*h,e[14]=(z*O-P*H-S*F)*h,e[15]=(b*H-l*O+c*F)*h,e):null}var rr=nr;function nr(e,t,n){var r=n[0],s=n[1],i=n[2],u,p,g,M,b,l,c,m,P,z,S,T;return t===e?(e[12]=t[0]*r+t[4]*s+t[8]*i+t[12],e[13]=t[1]*r+t[5]*s+t[9]*i+t[13],e[14]=t[2]*r+t[6]*s+t[10]*i+t[14],e[15]=t[3]*r+t[7]*s+t[11]*i+t[15]):(u=t[0],p=t[1],g=t[2],M=t[3],b=t[4],l=t[5],c=t[6],m=t[7],P=t[8],z=t[9],S=t[10],T=t[11],e[0]=u,e[1]=p,e[2]=g,e[3]=M,e[4]=b,e[5]=l,e[6]=c,e[7]=m,e[8]=P,e[9]=z,e[10]=S,e[11]=T,e[12]=u*r+b*s+P*i+t[12],e[13]=p*r+l*s+z*i+t[13],e[14]=g*r+c*s+S*i+t[14],e[15]=M*r+m*s+T*i+t[15]),e}var ir=ar;function ar(e,t,n){var r=n[0],s=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var sr=ct,or=ur;function ur(e,t,n,r){var s,i,u,p,g,M,b,l,c,m,P=t[0],z=t[1],S=t[2],T=r[0],F=r[1],O=r[2],Y=n[0],H=n[1],U=n[2];return Math.abs(P-Y)<1e-6&&Math.abs(z-H)<1e-6&&Math.abs(S-U)<1e-6?sr(e):(b=P-Y,l=z-H,c=S-U,m=1/Math.sqrt(b*b+l*l+c*c),b*=m,l*=m,c*=m,s=F*c-O*l,i=O*b-T*c,u=T*l-F*b,m=Math.sqrt(s*s+i*i+u*u),m?(m=1/m,s*=m,i*=m,u*=m):(s=0,i=0,u=0),p=l*u-c*i,g=c*s-b*u,M=b*i-l*s,m=Math.sqrt(p*p+g*g+M*M),m?(m=1/m,p*=m,g*=m,M*=m):(p=0,g=0,M=0),e[0]=s,e[1]=p,e[2]=b,e[3]=0,e[4]=i,e[5]=g,e[6]=l,e[7]=0,e[8]=u,e[9]=M,e[10]=c,e[11]=0,e[12]=-(s*P+i*z+u*S),e[13]=-(p*P+g*z+M*S),e[14]=-(b*P+l*z+c*S),e[15]=1,e)}var cr=fr;function fr(e,t,n,r,s){var i=1/Math.tan(t/2),u=1/(r-s);return e[0]=i/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(s+r)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*s*r*u,e[15]=0,e}var Ke=qt,qe=Dt,$e=jt,Ge=Ut,lr=Xt,ke=Bt,De=$t,Ne=Vt,hr=ct,pr=er,Ve=rr,dr=ir,vr=or,yr=cr,Qe=Math.PI*.5-1e-4,Je=-Math.PI*.5+1e-4,ft=function(t){t=t||{};var n=!0,r={aspectRatio:t.aspectRatio?t.aspectRatio:1,zoomAboutCursor:t.zoomAboutCursor===void 0?!0:t.zoomAboutCursor,distance:t.distance===void 0?10:t.distance,phi:t.phi===void 0?0:t.phi,theta:t.theta===void 0?0:t.theta,fovY:t.fovY===void 0?Math.PI/4:t.fovY,near:t.near===void 0?.1:t.near,far:t.far===void 0?100:t.far,panDecayTime:t.panDecayTime||100,zoomDecayTime:t.zoomDecayTime||100,rotationDecayTime:t.rotationDecayTime||100,dirty:!0,up:t.up||new Float32Array([0,1,0]),center:t.center||new Float32Array(3),rotationCenter:t.rotationCenter||t.center&&t.center.slice()||new Float32Array(3),zoom:0,panX:0,panY:0,panZ:0,pitch:0,yaw:0,dTheta:0,dPhi:0,mouseX:0,mouseY:0},s=null,i={tick:function(f){if(K.zoom&&(r.zoom=K.zoom),K.dTheta&&(r.dTheta=K.dTheta),K.dPhi&&(r.dPhi=K.dPhi),K.panX&&(r.panX=K.panX),K.panY&&(r.panY=K.panY),K.panZ&&(r.panZ=K.panZ),K.yaw&&(r.yaw=K.yaw),K.pitch&&(r.pitch=K.pitch),H(K),f){var h=r.dPhi,A=r.dTheta,R=r.zoom,x=r.panX,k=r.panY,j=r.panZ,L=r.pitch,G=r.yaw;Object.assign(r,f),f.dPhi!==void 0&&(r.dPhi+=h),f.dTheta!==void 0&&(r.dTheta+=A),f.zoom!==void 0&&(r.zoom+=R),f.panX!==void 0&&(r.panX+=x),f.panY!==void 0&&(r.panY+=k),f.panZ!==void 0&&(r.panZ+=j),f.pitch!==void 0&&(r.pitch+=L),f.yaw!==void 0&&(r.yaw+=G)}P()&&S(),Y()?E(r):H(r);var Z=Date.now();s!==null&&U(Z-s),s=Z,i.state.dirty=n,n=!1,m()},taint:F,resize:O,params:r,rotate:_,pivot:$,pan:W,zoom:D};i.state={},i.state.projection=new Float32Array(16),i.state.viewInv=new Float32Array(16),i.state.view=new Float32Array(16),i.state.width=null,i.state.height=null,i.state.eye=new Float32Array(3);var u=new Float32Array(3),p=new Float32Array(3),g=new Float32Array(3),M=new Float32Array(3),b=new Float32Array(3),l=new Float32Array(16),c={up:new Float32Array(3),center:new Float32Array(3)};m();function m(){De(c.up,r.up),De(c.center,r.center),c.near=r.near,c.far=r.far,c.distance=r.distance,c.phi=r.phi,c.theta=r.theta,c.fovY=r.fovY}function P(){return!Ge(r.up,c.up)||!Ge(r.center,c.center)||r.near!==c.near||r.far!==c.far||r.phi!==c.phi||r.theta!==c.theta||r.distance!==c.distance||r.fovY!==c.fovY}var z={};function S(){z.dPhi=r.phi-c.phi,z.dTheta=r.theta-c.theta,z.zoom=r.distance/c.distance-1,r.theta=c.theta,r.distance=c.distance,r.phi=c.phi,z.yaw=0,z.pitch=0,z.panX=0,z.panY=0,z.panZ=0,z.mouseX=0,z.mouseY=0,E(z)}function T(){i.state.eye[0]=0,i.state.eye[1]=0,i.state.eye[2]=r.distance,$e(i.state.eye,i.state.eye,b,-r.phi),qe(i.state.eye,i.state.eye,b,r.theta),lr(i.state.eye,i.state.eye,r.center),vr(i.state.view,i.state.eye,r.center,r.up),yr(i.state.projection,r.fovY,i.params.aspectRatio,r.near,r.far),pr(i.state.viewInv,i.state.view)}function F(){n=!0}function O(f){i.params.aspectRatio=f,T(),F()}function Y(){if(Math.abs(r.zoom)>1e-4||Math.abs(r.panX)>1e-4||Math.abs(r.panY)>1e-4||Math.abs(r.panZ)>1e-4||Math.abs(r.dTheta)>1e-4||Math.abs(r.dPhi)>1e-4||Math.abs(r.yaw)>1e-4||Math.abs(r.pitch)>1e-4)return!0}function H(f){f.zoom=0,f.dTheta=0,f.dPhi=0,f.panX=0,f.panY=0,f.panZ=0,f.yaw=0,f.pitch=0}function U(f){var h=r.panDecayTime?Math.exp(-f/r.panDecayTime/Math.LN2):0,A=r.zoomDecayTime?Math.exp(-f/r.zoomDecayTime/Math.LN2):0,R=r.rotationDecayTime?Math.exp(-f/r.rotationDecayTime/Math.LN2):0;r.zoom*=A,r.panX*=h,r.panY*=h,r.panZ*=h,r.dTheta*=R,r.dPhi*=R,r.yaw*=R,r.pitch*=R}var K={};H(K);function W(f,h){var A=i.params.distance*Math.tan(i.params.fovY*.5)*2;return K.panX+=f*r.aspectRatio*A,K.panY+=h*A,i}function D(f,h,A){return K.zoom+=A,r.mouseX=f,r.mouseY=h,i}function $(f,h){var A=i.params.fovY;K.yaw+=f*A*r.aspectRatio,K.pitch+=h*A}function _(f,h){K.dTheta+=f,K.dPhi+=h}function E(f){var h;hr(l),r.zoomAboutCursor&&(h=r.distance*Math.tan(r.fovY*.5),u[0]=f.mouseX*r.aspectRatio*h,u[1]=f.mouseY*h,u[2]=0,Ve(l,l,u)),u[0]=1+f.zoom,u[1]=1+f.zoom,u[2]=1,dr(l,l,u),r.zoomAboutCursor&&(h=r.distance*Math.tan(r.fovY*.5),u[0]=-f.mouseX*r.aspectRatio*h,u[1]=-f.mouseY*h,u[2]=0,Ve(l,l,u)),l[12]-=f.panX*.5,l[13]-=f.panY*.5,Ke(r.center,r.center,i.state.view),Ke(r.center,r.center,l),Ke(r.center,r.center,i.state.viewInv),r.rotateAboutCenter&&De(r.rotationCenter,r.center),r.distance*=1+f.zoom;var A=r.phi;r.phi+=f.dPhi,r.phi=Math.min(Qe,Math.max(Je,r.phi));var R=r.phi-A,x=r.theta;r.theta+=f.dTheta;var k=r.theta-x;if(qe(r.center,r.center,r.rotationCenter,k-r.theta),$e(r.center,r.center,r.rotationCenter,-R),qe(r.center,r.center,r.rotationCenter,r.theta),f.yaw!==0||f.pitch!==0){g[0]=i.state.view[0],g[1]=i.state.view[4],g[2]=i.state.view[8],Ne(g,g),p[0]=i.state.view[1],p[1]=i.state.view[5],p[2]=i.state.view[9],Ne(p,p),M[0]=i.state.view[2],M[1]=i.state.view[6],M[2]=i.state.view[10],Ne(M,M);var j=Math.min(Qe,Math.max(Je,r.phi+f.pitch*.5)),L=j-r.phi;ke(r.center,r.center,g,-Math.sin(f.yaw*.5)*r.distance),ke(r.center,r.center,p,-Math.sin(L)*r.distance),ke(r.center,r.center,M,(2-Math.cos(f.yaw*.5)-Math.cos(L))*r.distance),r.phi=j,r.theta+=f.yaw*.5}T(),F()}return O(i.params.aspectRatio),i},Ue={},gr={get exports(){return Ue},set exports(e){Ue=e}},Oe={},mr={get exports(){return Oe},set exports(e){Oe=e}},et;function Cr(){return et||(et=1,function(e,t){(function(n,r){e.exports=r()})(we,function(){var n={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},r=Array.prototype.slice;function s(l){var c=l.length;return c?c===1?[l[0]]:c===2?[l[0],l[1]]:c===3?[l[0],l[1],l[2]]:r.call(l,0):[]}function i(l){var c={};for(var m in l)n[m]||(c[m]=l[m]);return c}function u(l){return typeof l=="function"&&l.isMemoized}function p(l,c){return l===c||l!==l&&c!==c}function g(l,c){var m={};for(var P in l)m[P]=l[P];for(var P in c)m[P]=c[P];return m}var M=function(){function l(c){this.keys=[],this.values=[],this.options=c;var m=typeof c.isMatchingKey=="function";m?this.getKeyIndex=this._getKeyIndexFromMatchingKey:c.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof c.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||m,this.shouldUpdateOnAdd=typeof c.onCacheAdd=="function",this.shouldUpdateOnChange=typeof c.onCacheChange=="function",this.shouldUpdateOnHit=typeof c.onCacheHit=="function"}return Object.defineProperty(l.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"snapshot",{get:function(){return{keys:s(this.keys),size:this.size,values:s(this.values)}},enumerable:!1,configurable:!0}),l.prototype._getKeyIndexFromMatchingKey=function(c){var m=this.options,P=m.isMatchingKey,z=m.maxSize,S=this.keys,T=S.length;if(!T)return-1;if(P(S[0],c))return 0;if(z>1){for(var F=1;F<T;F++)if(P(S[F],c))return F}return-1},l.prototype._getKeyIndexForMany=function(c){var m=this.options.isEqual,P=this.keys,z=P.length;if(!z)return-1;if(z===1)return this._getKeyIndexForSingle(c);var S=c.length,T,F;if(S>1){for(var O=0;O<z;O++)if(T=P[O],T.length===S){for(F=0;F<S&&m(T[F],c[F]);F++);if(F===S)return O}}else for(var O=0;O<z;O++)if(T=P[O],T.length===S&&m(T[0],c[0]))return O;return-1},l.prototype._getKeyIndexForSingle=function(c){var m=this.keys;if(!m.length)return-1;var P=m[0],z=P.length;if(c.length!==z)return-1;var S=this.options.isEqual;if(z>1){for(var T=0;T<z;T++)if(!S(P[T],c[T]))return-1;return 0}return S(P[0],c[0])?0:-1},l.prototype.orderByLru=function(c,m,P){for(var z=this.keys,S=this.values,T=z.length,F=P;F--;)z[F+1]=z[F],S[F+1]=S[F];z[0]=c,S[0]=m;var O=this.options.maxSize;T===O&&P===T?(z.pop(),S.pop()):P>=O&&(z.length=S.length=O)},l.prototype.updateAsyncCache=function(c){var m=this,P=this.options,z=P.onCacheChange,S=P.onCacheHit,T=this.keys[0],F=this.values[0];this.values[0]=F.then(function(O){return m.shouldUpdateOnHit&&S(m,m.options,c),m.shouldUpdateOnChange&&z(m,m.options,c),O},function(O){var Y=m.getKeyIndex(T);throw Y!==-1&&(m.keys.splice(Y,1),m.values.splice(Y,1)),O})},l}();function b(l,c){if(c===void 0&&(c={}),u(l))return b(l.fn,g(l.options,c));if(typeof l!="function")throw new TypeError("You must pass a function to `memoize`.");var m=c.isEqual,P=m===void 0?p:m,z=c.isMatchingKey,S=c.isPromise,T=S===void 0?!1:S,F=c.maxSize,O=F===void 0?1:F,Y=c.onCacheAdd,H=c.onCacheChange,U=c.onCacheHit,K=c.transformKey,W=g({isEqual:P,isMatchingKey:z,isPromise:T,maxSize:O,onCacheAdd:Y,onCacheChange:H,onCacheHit:U,transformKey:K},i(c)),D=new M(W),$=D.keys,_=D.values,E=D.canTransformKey,f=D.shouldCloneArguments,h=D.shouldUpdateOnAdd,A=D.shouldUpdateOnChange,R=D.shouldUpdateOnHit,x=function(){var k=f?s(arguments):arguments;E&&(k=K(k));var j=$.length?D.getKeyIndex(k):-1;if(j!==-1)R&&U(D,W,x),j&&(D.orderByLru($[j],_[j],j),A&&H(D,W,x));else{var L=l.apply(this,arguments),G=f?k:s(arguments);D.orderByLru(G,L,$.length),T&&D.updateAsyncCache(x),h&&Y(D,W,x),A&&H(D,W,x)}return _[0]};return x.cache=D,x.fn=l,x.isMemoized=!0,x.options=W,x}return b})}(mr)),Oe}var ge={},_r={get exports(){return ge},set exports(e){ge=e}},tt;function wr(){return tt||(tt=1,function(e,t){(function(n,r){r(t)})(we,function(n){var r=typeof WeakMap=="function",s=Object.keys;function i(_,E){return _===E||_!==_&&E!==E}function u(_){return _.constructor===Object||_.constructor==null}function p(_){return!!_&&typeof _.then=="function"}function g(_){return!!(_&&_.$$typeof)}function M(){var _=[];return{delete:function(E){for(var f=0;f<_.length;++f)if(_[f][0]===E){_.splice(f,1);return}},get:function(E){for(var f=0;f<_.length;++f)if(_[f][0]===E)return _[f][1]},set:function(E,f){for(var h=0;h<_.length;++h)if(_[h][0]===E){_[h][1]=f;return}_.push([E,f])}}}var b=function(_){return _?function(){return new WeakMap}:M}(r);function l(_){return function(f){var h=_||f;return function(R,x,k,j,L,G,Z){Z===void 0&&(Z=b());var ne=!!R&&typeof R=="object",Ae=!!x&&typeof x=="object";if(ne!==Ae)return!1;if(!ne&&!Ae)return h(R,x,Z);var Me=Z.get(R);if(Me&&Z.get(x))return Me===x;Z.set(R,x),Z.set(x,R);var Te=h(R,x,Z);return Z.delete(R),Z.delete(x),Te}}}function c(_,E,f,h){var A=_.length;if(E.length!==A)return!1;for(;A-- >0;)if(!f(_[A],E[A],A,A,_,E,h))return!1;return!0}function m(_,E,f,h){var A=_.size===E.size;if(A&&_.size){var R={},x=0;_.forEach(function(k,j){if(A){var L=!1,G=0;E.forEach(function(Z,ne){!L&&!R[G]&&(L=f(j,ne,x,G,_,E,h)&&f(k,Z,j,ne,_,E,h),L&&(R[G]=!0)),G++}),x++,A=L}})}return A}var P="_owner",z=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function S(_,E,f,h){var A=s(_),R=A.length;if(s(E).length!==R)return!1;if(R)for(var x=void 0;R-- >0;){if(x=A[R],x===P){var k=g(_),j=g(E);if((k||j)&&k!==j)return!1}if(!z(E,x)||!f(_[x],E[x],x,x,_,E,h))return!1}return!0}var T=function(){return/foo/g.flags==="g"?function(E,f){return E.source===f.source&&E.flags===f.flags}:function(E,f){return E.source===f.source&&E.global===f.global&&E.ignoreCase===f.ignoreCase&&E.multiline===f.multiline&&E.unicode===f.unicode&&E.sticky===f.sticky&&E.lastIndex===f.lastIndex}}();function F(_,E,f,h){var A=_.size===E.size;if(A&&_.size){var R={};_.forEach(function(x,k){if(A){var j=!1,L=0;E.forEach(function(G,Z){!j&&!R[L]&&(j=f(x,G,k,Z,_,E,h),j&&(R[L]=!0)),L++}),A=j}})}return A}var O=typeof Map=="function",Y=typeof Set=="function",H=Object.prototype.valueOf;function U(_){var E=typeof _=="function"?_(f):function(h,A,R,x,k,j,L){return f(h,A,L)};function f(h,A,R){if(h===A)return!0;if(h&&A&&typeof h=="object"&&typeof A=="object"){if(u(h)&&u(A))return S(h,A,E,R);var x=Array.isArray(h),k=Array.isArray(A);return x||k?x===k&&c(h,A,E,R):(x=h instanceof Date,k=A instanceof Date,x||k?x===k&&i(h.getTime(),A.getTime()):(x=h instanceof RegExp,k=A instanceof RegExp,x||k?x===k&&T(h,A):p(h)||p(A)?h===A:O&&(x=h instanceof Map,k=A instanceof Map,x||k)?x===k&&m(h,A,E,R):Y&&(x=h instanceof Set,k=A instanceof Set,x||k)?x===k&&F(h,A,E,R):h.valueOf!==H||A.valueOf!==H?i(h.valueOf(),A.valueOf()):S(h,A,E,R)))}return h!==h&&A!==A}return f}var K=U(),W=U(function(){return i}),D=U(l()),$=U(l(i));n.circularDeepEqual=D,n.circularShallowEqual=$,n.createCustomEqual=U,n.deepEqual=K,n.sameValueZeroEqual=i,n.shallowEqual=W,Object.defineProperty(n,"__esModule",{value:!0})})}(_r,ge)),ge}(function(e,t){(function(n,r){e.exports=r(Cr(),wr())})(we,function(n,r){function s(){return s=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var y=arguments[o];for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}return a},s.apply(this,arguments)}function i(a,o){if(a==null)return{};var y={},d=Object.keys(a),C,v;for(v=0;v<d.length;v++)C=d[v],!(o.indexOf(C)>=0)&&(y[C]=a[C]);return y}var u={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function p(){for(var a=arguments.length,o=new Array(a),y=0;y<a;y++)o[y]=arguments[y];return o.reduce(function(d,C){if(typeof d=="function")return typeof C=="function"?function(){d.apply(this,arguments),C.apply(this,arguments)}:d;if(typeof C=="function")return C})}function g(){for(var a=arguments.length,o=new Array(a),y=0;y<a;y++)o[y]=arguments[y];return o.reduce(function(d,C){if(typeof d=="function")return typeof C=="function"?function(){return d(C.apply(this,arguments))}:d;if(typeof C=="function")return C})}function M(a,o){for(var y=0;y<a.length;y++)if(a[y].key===o)return y;return-1}function b(a,o){var y=typeof o=="function"?o:function(d,C){for(var v=0;v<C.length;v++)if(!a(d[v],C[v]))return!1;return!0};return function(d,C){for(var v=0;v<d.length;v++)if(d[v].length===C.length&&y(d[v],C))return v;return-1}}function l(a,o){return!o||o===u?a:s({},a,o,{onCacheAdd:p(a.onCacheAdd,o.onCacheAdd),onCacheChange:p(a.onCacheChange,o.onCacheChange),onCacheHit:p(a.onCacheHit,o.onCacheHit),transformArgs:g(a.transformArgs,o.transformArgs)})}function c(a){return typeof a=="function"&&a.isMoized}function m(a,o,y){try{var d=y||o||"anonymous";Object.defineProperty(a,"name",{configurable:!0,enumerable:!1,value:"moized("+d+")",writable:!0})}catch{}}function P(a,o,y){var d=M(a,o);d!==-1&&(clearTimeout(a[d].timeoutId),y&&a.splice(d,1))}function z(a,o){var y=setTimeout(a,o);return typeof y.unref=="function"&&y.unref(),y}function S(a,o,y,d){var C=o.maxAge;return function v(w,q,X){var N=w.keys[0];if(M(a,N)===-1){var B=function(){var Q=b(y,d),ee=Q(w.keys,N),oe=w.values[ee];~ee&&(w.keys.splice(ee,1),w.values.splice(ee,1),typeof o.onCacheChange=="function"&&o.onCacheChange(w,q,X)),P(a,N,!0),typeof o.onExpire=="function"&&o.onExpire(N)===!1&&(w.keys.unshift(N),w.values.unshift(oe),v(w,q,X),typeof o.onCacheChange=="function"&&o.onCacheChange(w,q,X))};a.push({expirationMethod:B,key:N,timeoutId:z(B,C)})}}}function T(a,o){return function(d){var C=d.keys[0],v=M(a,C);~v&&(P(a,C,!1),a[v].timeoutId=z(a[v].expirationMethod,o.maxAge))}}function F(a,o,y,d){var C=typeof o.maxAge=="number"&&isFinite(o.maxAge)?S(a,o,y,d):void 0;return{onCacheAdd:C,onCacheHit:C&&o.updateExpire?T(a,o):void 0}}var O={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},Y=!1;function H(a){a?delete O.profiles[a]:O.profiles={}}function U(a){a===void 0&&(a=!0),O.isCollectingStats=a}function K(a){var o=a.profileName;return function(){o&&!O.profiles[o]&&(O.profiles[o]={calls:0,hits:0}),O.profiles[o].calls++}}function W(a){return function(){var o=O.profiles,y=a.profileName;o[y]||(o[y]={calls:0,hits:0}),o[y].calls++,o[y].hits++}}function D(a){return a.displayName||a.name||"Anonymous "+O.anonymousProfileNameCounter++}function $(a,o){return a?(o/a*100).toFixed(4)+"%":"0.0000%"}function _(a){!O.isCollectingStats&&!Y&&(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),Y=!0);var o=O.profiles;if(a){if(!o[a])return{calls:0,hits:0,usage:"0.0000%"};var y=o[a];return s({},y,{usage:$(y.calls,y.hits)})}var d=Object.keys(O.profiles).reduce(function(C,v){return C.calls+=o[v].calls,C.hits+=o[v].hits,C},{calls:0,hits:0});return s({},d,{profiles:Object.keys(o).reduce(function(C,v){return C[v]=_(v),C},{}),usage:$(d.calls,d.hits)})}function E(a){return O.isCollectingStats?{onCacheAdd:K(a),onCacheHit:W(a)}:{}}var f={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function h(a,o,y){y===void 0&&(y=[]),Object.getOwnPropertyNames(a).forEach(function(d){if(!f[d]&&y.indexOf(d)===-1){var C=Object.getOwnPropertyDescriptor(a,d);C.get||C.set?Object.defineProperty(o,d,C):o[d]=a[d]}})}function A(a,o){var y=o.expirations,d=a.options,C=b(d.isEqual,d.isMatchingKey),v=a;v.clear=function(){var w=v._microMemoizeOptions.onCacheChange,q=v.cache;return q.keys.length=0,q.values.length=0,w&&w(q,v.options,v),!0},v.clearStats=function(){H(v.options.profileName)},v.get=function(w){var q=v._microMemoizeOptions.transformKey,X=v.cache,N=q?q(w):w,B=C(X.keys,N);return B!==-1?v.apply(this,w):void 0},v.getStats=function(){return _(v.options.profileName)},v.has=function(w){var q=v._microMemoizeOptions.transformKey,X=q?q(w):w;return C(v.cache.keys,X)!==-1},v.keys=function(){return v.cacheSnapshot.keys},v.remove=function(w){var q=v._microMemoizeOptions,X=q.onCacheChange,N=q.transformKey,B=v.cache,V=C(B.keys,N?N(w):w);if(V===-1)return!1;var Q=B.keys[V];return B.keys.splice(V,1),B.values.splice(V,1),X&&X(B,v.options,v),P(y,Q,!0),!0},v.set=function(w,q){var X=v._microMemoizeOptions,N=v.cache,B=v.options,V=X.onCacheAdd,Q=X.onCacheChange,ee=X.transformKey,oe=ee?ee(w):w,re=C(N.keys,oe);if(re===-1){var ue=B.maxSize-1;N.size>ue&&(N.keys.length=ue,N.values.length=ue),N.keys.unshift(oe),N.values.unshift(q),B.isPromise&&N.updateAsyncCache(v),V&&V(N,B,v),Q&&Q(N,B,v)}else{var Ee=N.keys[re];N.values[re]=q,re>0&&N.orderByLru(Ee,q,re),B.isPromise&&N.updateAsyncCache(v),typeof Q=="function"&&Q(N,B,v)}},v.values=function(){return v.cacheSnapshot.values}}function R(a,o){var y=o.expirations,d=o.options,C=o.originalFunction,v=a.options;Object.defineProperties(a,{_microMemoizeOptions:{configurable:!0,get:function(){return v}},cacheSnapshot:{configurable:!0,get:function(){var X=a.cache;return{keys:X.keys.slice(0),size:X.size,values:X.values.slice(0)}}},expirations:{configurable:!0,get:function(){return y}},expirationsSnapshot:{configurable:!0,get:function(){return y.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return d}},originalFunction:{configurable:!0,get:function(){return C}}});var w=a;h(C,w)}function x(a,o){return A(a,o),R(a,o),a}var k=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function j(a,o,y){var d=a(s({maxArgs:2,isShallowEqual:!0},y,{isReact:!1}));o.displayName||(o.displayName=o.name||"Component");function C(v,w,q){this.props=v,this.context=w,this.updater=q,this.MoizedComponent=d(o)}return C.prototype.isReactComponent={},C.prototype.render=function(){return{$$typeof:k,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},h(o,C,["contextType","contextTypes"]),C.displayName="Moized("+(o.displayName||o.name||"Component")+")",m(C,o.name,y.profileName),C}function L(a){return function(o){if(a>=o.length)return o;if(a===0)return[];if(a===1)return[o[0]];if(a===2)return[o[0],o[1]];if(a===3)return[o[0],o[1],o[2]];for(var y=[],d=0;d<a;d++)y[d]=o[d];return y}}function G(a,o){for(var y=a.length,d=0;d<y;++d)if(a[d]===o)return d+1;return 0}function Z(){var a=[],o=[];return function(d,C){var v=typeof C;if(v==="function"||v==="symbol")return C.toString();if(typeof C=="object"){if(a.length){var w=G(a,this);w===0?a[a.length]=this:(a.splice(w),o.splice(w)),o[o.length]=d;var q=G(a,C);if(q!==0)return"[ref="+(o.slice(0,q).join(".")||".")+"]"}else a[0]=C,o[0]=d;return C}return""+C}}function ne(a){var o=typeof a;return a&&(o==="object"||o==="function")?JSON.stringify(a,Z()):a}function Ae(a){for(var o="|",y=0;y<a.length;y++)o+=ne(a[y])+"|";return[o]}function Me(a){return typeof a.serializer=="function"?a.serializer:Ae}function Te(a,o){return a[0]===o[0]}function Ie(a){if(typeof a=="function")return function(o,y,d){return a(d.cache,d.options,d)}}function vt(a){return a.matchesArg||a.isDeepEqual&&r.deepEqual||a.isShallowEqual&&r.shallowEqual||r.sameValueZeroEqual}function yt(a){return a.matchesKey||a.isSerialized&&Te||void 0}function gt(a){return g(a.isSerialized&&Me(a),typeof a.transformArgs=="function"&&a.transformArgs,typeof a.maxArgs=="number"&&L(a.maxArgs))}function mt(a){var o=a.options.updateCacheForKey,y=function(){for(var C=arguments.length,v=new Array(C),w=0;w<C;w++)v[w]=arguments[w];if(!o(v))return a.apply(this,v);var q=a.fn.apply(this,v);return a.set(v,q),q};return h(a,y),y}var Ct=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],I=function a(o,y){var d=y||u;if(c(o)){var C=o.originalFunction,v=l(o.options,d);return a(C,v)}if(typeof o=="object")return function(Fe,Et){if(typeof Fe=="function"){var zt=l(o,Et);return a(Fe,zt)}var xt=l(o,Fe);return a(xt)};if(d.isReact)return j(a,o,d);var w=s({},u,d,{maxAge:typeof d.maxAge=="number"&&d.maxAge>=0?d.maxAge:u.maxAge,maxArgs:typeof d.maxArgs=="number"&&d.maxArgs>=0?d.maxArgs:u.maxArgs,maxSize:typeof d.maxSize=="number"&&d.maxSize>=0?d.maxSize:u.maxSize,profileName:d.profileName||D(o)}),q=[];w.matchesArg,w.isDeepEqual;var X=w.isPromise;w.isReact,w.isSerialized,w.isShallowEqual,w.matchesKey,w.maxAge,w.maxArgs;var N=w.maxSize,B=w.onCacheAdd,V=w.onCacheChange,Q=w.onCacheHit;w.onExpire,w.profileName,w.serializer;var ee=w.updateCacheForKey;w.transformArgs,w.updateExpire;var oe=i(w,Ct),re=vt(w),ue=yt(w),Ee=F(q,w,re,ue),Be=E(w),wt=gt(w),At=s({},oe,{isEqual:re,isMatchingKey:ue,isPromise:X,maxSize:N,onCacheAdd:Ie(p(B,Ee.onCacheAdd,Be.onCacheAdd)),onCacheChange:Ie(V),onCacheHit:Ie(p(Q,Ee.onCacheHit,Be.onCacheHit)),transformKey:wt}),Mt=n(o,At),ze=x(Mt,{expirations:q,options:w,originalFunction:o});return ee&&(ze=mt(ze)),m(ze,o.name,d.profileName),ze};I.clearStats=H,I.collectStats=U,I.compose=function(){return g.apply(void 0,arguments)||I},I.deep=I({isDeepEqual:!0}),I.getStats=_,I.infinite=I({maxSize:1/0}),I.isCollectingStats=function(){return O.isCollectingStats},I.isMoized=function(o){return typeof o=="function"&&!!o.isMoized},I.matchesArg=function(a){return I({matchesArg:a})},I.matchesKey=function(a){return I({matchesKey:a})};function _t(a,o){if(o===!0)return I({maxAge:a,updateExpire:o});if(typeof o=="object"){var y=o.onExpire,d=o.updateExpire;return I({maxAge:a,onExpire:y,updateExpire:d})}return I(typeof o=="function"?{maxAge:a,onExpire:o,updateExpire:!0}:{maxAge:a})}return I.maxAge=_t,I.maxArgs=function(a){return I({maxArgs:a})},I.maxSize=function(a){return I({maxSize:a})},I.profile=function(a){return I({profileName:a})},I.promise=I({isPromise:!0,updateExpire:!0}),I.react=I({isReact:!0}),I.serialize=I({isSerialized:!0}),I.serializeWith=function(a){return I({isSerialized:!0,serializer:a})},I.shallow=I({isShallowEqual:!0}),I.transformArgs=function(a){return I({transformArgs:a})},I.updateCacheForKey=function(a){return I({updateCacheForKey:a})},Object.defineProperty(I,"default",{configurable:!1,enumerable:!1,value:I,writable:!1}),I})})(gr);var lt=Ue,me={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-me.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?me.Bounce.In(e*2)*.5:me.Bounce.Out(e*2-1)*.5+.5}}},ve;typeof self>"u"&&typeof process<"u"&&process.hrtime?ve=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?ve=self.performance.now.bind(self.performance):Date.now!==void 0?ve=Date.now:ve=function(){return new Date().getTime()};var fe=ve,Ar=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,n){t===void 0&&(t=fe()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<r.length;s++){var i=this._tweens[r[s]],u=!n;i&&i.update(t,u)===!1&&!n&&delete this._tweens[r[s]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ye={Linear:function(e,t){var n=e.length-1,r=n*t,s=Math.floor(r),i=ye.Utils.Linear;return t<0?i(e[0],e[1],r):t>1?i(e[n],e[n-1],n-r):i(e[s],e[s+1>n?n:s+1],r-s)},Bezier:function(e,t){for(var n=0,r=e.length-1,s=Math.pow,i=ye.Utils.Bernstein,u=0;u<=r;u++)n+=s(1-t,r-u)*s(t,u)*e[u]*i(r,u);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,s=Math.floor(r),i=ye.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(s=Math.floor(r=n*(1+t))),i(e[(s-1+n)%n],e[s],e[(s+1)%n],e[(s+2)%n],r-s)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(i(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):i(e[s?s-1:0],e[s],e[n<s+1?n:s+1],e[n<s+2?n:s+2],r-s)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=ye.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,s){var i=(n-e)*.5,u=(r-t)*.5,p=s*s,g=s*p;return(2*t-2*n+i+u)*g+(-3*t+3*n-2*i-u)*p+i*s+t}}},Mr=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),ht=new Ar,Er=function(){function e(t,n){n===void 0&&(n=ht),this._object=t,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=me.Linear.None,this._interpolationFunction=ye.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Mr.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(t,n){return this._valuesEnd=Object.create(t),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(t){return this._duration=t,this},e.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t!==void 0?typeof t=="string"?fe()+parseFloat(t):t:fe(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(t,n,r,s){for(var i in r){var u=t[i],p=Array.isArray(u),g=p?"array":typeof u,M=!p&&Array.isArray(r[i]);if(!(g==="undefined"||g==="function")){if(M){var b=r[i];if(b.length===0)continue;b=b.map(this._handleRelativeValue.bind(this,u)),r[i]=[u].concat(b)}if((g==="object"||p)&&u&&!M){n[i]=p?[]:{};for(var l in u)n[i][l]=u[l];s[i]=p?[]:{},this._setupProperties(u,n[i],r[i],s[i])}else typeof n[i]>"u"&&(n[i]=u),p||(n[i]*=1),M?s[i]=r[i].slice().reverse():s[i]=n[i]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=fe()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=fe()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return this._group=t,this},e.prototype.delay=function(t){return this._delayTime=t,this},e.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return this._yoyo=t,this},e.prototype.easing=function(t){return this._easingFunction=t,this},e.prototype.interpolation=function(t){return this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){if(t===void 0&&(t=fe()),n===void 0&&(n=!0),this._isPaused)return!0;var r,s,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;n&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),s=(t-this._startTime)/this._duration,s=this._duration===0||s>1?1:s;var u=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,u),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),s===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,g=this._chainedTweens.length;p<g;p++)this._chainedTweens[p].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,n,r,s){for(var i in r)if(n[i]!==void 0){var u=n[i]||0,p=r[i],g=Array.isArray(t[i]),M=Array.isArray(p),b=!g&&M;b?t[i]=this._interpolationFunction(p,s):typeof p=="object"&&p?this._updateProperties(t[i],u,p,s):(p=this._handleRelativeValue(u,p),typeof p=="number"&&(t[i]=u+(p-u)*s))}},e.prototype._handleRelativeValue=function(t,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],r=this._valuesEnd[t];typeof r=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(r):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=n},e}(),J=ht;J.getAll.bind(J);J.removeAll.bind(J);J.add.bind(J);J.remove.bind(J);var zr=J.update.bind(J),Ce={},xr={get exports(){return Ce},set exports(e){Ce=e}},Le={},be={get exports(){return Le},set exports(e){Le=e}};(function(){var e,t,n,r,s,i;typeof performance<"u"&&performance!==null&&performance.now?be.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(be.exports=function(){return(e()-s)/1e6},t=process.hrtime,e=function(){var u;return u=t(),u[0]*1e9+u[1]},r=e(),i=process.uptime()*1e9,s=r-i):Date.now?(be.exports=function(){return Date.now()-n},n=Date.now()):(be.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(we);var br=Le,te=typeof window>"u"?we:window,Pe=["moz","webkit"],le="AnimationFrame",he=te["request"+le],_e=te["cancel"+le]||te["cancelRequest"+le];for(var de=0;!he&&de<Pe.length;de++)he=te[Pe[de]+"Request"+le],_e=te[Pe[de]+"Cancel"+le]||te[Pe[de]+"CancelRequest"+le];if(!he||!_e){var je=0,rt=0,ie=[],Pr=1e3/60;he=function(e){if(ie.length===0){var t=br(),n=Math.max(0,Pr-(t-je));je=n+t,setTimeout(function(){var r=ie.slice(0);ie.length=0;for(var s=0;s<r.length;s++)if(!r[s].cancelled)try{r[s].callback(je)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return ie.push({handle:++rt,callback:e,cancelled:!1}),rt},_e=function(e){for(var t=0;t<ie.length;t++)ie[t].handle===e&&(ie[t].cancelled=!0)}}xr.exports=function(e){return he.call(te,e)};Ce.cancel=function(){_e.apply(te,arguments)};Ce.polyfill=function(e){e||(e=te),e.requestAnimationFrame=he,e.cancelAnimationFrame=_e};const pt=lt.infinite(()=>ft({panDecayTime:200,zoomDecayTime:200,rotationDecayTime:500,distance:2e3})),nt=lt.infinite(e=>ft({phi:Math.PI/4,theta:Math.PI/4,distance:200,center:[0,0,0],fovY:.013888888888888888*(Math.PI/2),near:2,far:400})),pe=pt(),Sr=(e,t,n)=>{const r=pt(),s={near:r.params.distance*.1,far:r.params.distance*5e4};r.resize(t/n),r.tick({fovY:Math.PI/3,...s});const i=nt("zoomed");i.params.distance=r.params.distance,i.resize(t/n),i.tick(s);const u=nt("fixed");u.resize(t/n),u.tick({near:u.params.distance*.1,far:u.params.distance*1e4});const p=new Float32Array(r.state.projection),g=new Float32Array(r.state.view),M=new Float32Array(i.state.projection),b=new Float32Array(i.state.view),l=new Float32Array(u.state.projection),c=new Float32Array(u.state.view);e(ae(p,[p.buffer]),ae(g,[g.buffer]),ae(M,[M.buffer]),ae(b,[b.buffer]),ae(l,[l.buffer]),ae(c,[c.buffer]))};let Se;const Or=(e,t=3e3)=>{Se?.stop(),Se=new Er(pe.params.center).to(e,t).easing(me.Cubic.InOut),Se.start(),pe.params.rotationCenter=e},dt=()=>{Ce(dt),zr()};dt();const Tr=()=>{Se.stop()},Ir=()=>{},Fr=()=>{},Rr=()=>{},Kr=(e,t,n)=>{(pe.params.distance>25||n>0)&&pe.zoom(e,t,n)},qr=(...e)=>{pe.pan(...e)};Xe({startPanning:Tr,stopPanning:Ir,startZooming:Fr,stopZooming:Rr,globalCamera:pe,updateCameras:Sr,setCameraCenter:Or,zoomGlobalCamera:Kr,panGlobalCamera:qr});
