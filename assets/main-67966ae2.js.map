{"version":3,"file":"main-67966ae2.js","sources":["../../src/gpu/camera.ts","../../node_modules/mouse-change/node_modules/mouse-event/mouse.js","../../node_modules/mouse-change/mouse-listen.js","../../node_modules/mouse-event-offset/index.js","../../node_modules/event-emitter/node_modules/type/value/is.js","../../node_modules/event-emitter/node_modules/type/object/is.js","../../node_modules/event-emitter/node_modules/type/prototype/is.js","../../node_modules/event-emitter/node_modules/type/function/is.js","../../node_modules/event-emitter/node_modules/type/plain-function/is.js","../../node_modules/event-emitter/node_modules/es5-ext/object/assign/is-implemented.js","../../node_modules/event-emitter/node_modules/es5-ext/object/keys/is-implemented.js","../../node_modules/event-emitter/node_modules/es5-ext/function/noop.js","../../node_modules/event-emitter/node_modules/es5-ext/object/is-value.js","../../node_modules/event-emitter/node_modules/es5-ext/object/keys/shim.js","../../node_modules/event-emitter/node_modules/es5-ext/object/keys/index.js","../../node_modules/event-emitter/node_modules/es5-ext/object/valid-value.js","../../node_modules/event-emitter/node_modules/es5-ext/object/assign/shim.js","../../node_modules/event-emitter/node_modules/es5-ext/object/assign/index.js","../../node_modules/event-emitter/node_modules/es5-ext/object/normalize-options.js","../../node_modules/event-emitter/node_modules/es5-ext/string/#/contains/is-implemented.js","../../node_modules/event-emitter/node_modules/es5-ext/string/#/contains/shim.js","../../node_modules/event-emitter/node_modules/es5-ext/string/#/contains/index.js","../../node_modules/event-emitter/node_modules/d/index.js","../../node_modules/event-emitter/node_modules/es5-ext/object/valid-callable.js","../../node_modules/event-emitter/index.js","../../node_modules/normalized-interaction-events/index.js","../../node_modules/lodash-es/throttle.js","../../node_modules/detect-browser/es/index.js","../../src/get-workers.ts","../../node_modules/color-hash/dist/esm.js","../../lib/OBJLoader.js","../../data/heart.obj","../../data/vibes-512px.png","../../node_modules/color-blend/unit/index.js","../../node_modules/colord/index.mjs","../../node_modules/colord/plugins/names.mjs","../../src/selection.ts","../../src/attributes.ts","../../src/gpu/uniforms.ts","../../src/shaders/bump.tsl.js","../../src/shaders/graph-common.tsl.ts","../../src/shaders/desaturate.tsl.js","../../src/shaders/graph-node.tsl.ts","../../src/shaders/graph-edge.tsl.ts","../../src/gpu/graph-viz.ts","../../src/data.ts","../../node_modules/lit-html/lit-html.js","../../src/interaction.ts","../../node_modules/fast-memoize/src/index.js","../../src/gpu/interpolation.ts","../../src/gpu/rendering.ts","../../node_modules/@very-simple/router/dist/index.js","../../src/navigation.ts","../../node_modules/@lit/reactive-element/css-tag.js","../../node_modules/@lit/reactive-element/reactive-element.js","../../node_modules/lit-element/lit-element.js","../../node_modules/@lit/reactive-element/decorators/query-assigned-elements.js","../../node_modules/lit-element/index.js","../../src/main.ts"],"sourcesContent":["import moize from \"moize\";\nimport { proxy } from \"comlink\";\n\nimport { Matrix4, Vector3 } from \"three/webgpu\";\nimport { uniform } from \"three/webgpu\";\n\n// TODO: maybe this needs a serializable context id argument?\n// for when we have multiple contexts on the same thread\nexport const getCamerasUniforms = moize.infinite((ctx) => {\n  return {\n    globalProjection: uniform(new Matrix4()),\n    globalView: uniform(new Matrix4()),\n    zoomedProjection: uniform(new Matrix4()),\n    zoomedView: uniform(new Matrix4()),\n    fixedProjection: uniform(new Matrix4()),\n    fixedView: uniform(new Matrix4()),\n    distance: uniform(0),\n    center: uniform(new Vector3(0, 0, 0)),\n    rotationCenter: uniform(new Vector3(0, 0, 0)),\n  };\n});\n\nexport const cameraUniformsGroupUpdater = (ctx) =>\n  moize(\n    proxy(\n      (\n        globalProjection,\n        globalView,\n        zoomedProjection,\n        zoomedView,\n        fixedProjection,\n        fixedView,\n        packedCameraParams,\n      ) => {\n        const uniforms = getCamerasUniforms(ctx);\n        uniforms.globalProjection.value.fromArray(globalProjection);\n        uniforms.globalView.value.fromArray(globalView);\n        uniforms.zoomedProjection.value.fromArray(zoomedProjection);\n        uniforms.zoomedView.value.fromArray(zoomedView);\n        uniforms.fixedProjection.value.fromArray(fixedProjection);\n        uniforms.fixedView.value.fromArray(fixedView);\n        uniforms.distance.value = packedCameraParams[0];\n        uniforms.center.value.fromArray(packedCameraParams.slice(1, 4));\n        uniforms.rotationCenter.value.fromArray(packedCameraParams.slice(4, 7));\n      },\n    ),\n  );\n","'use strict'\n\nfunction mouseButtons(ev) {\n  if(typeof ev === 'object') {\n    if('buttons' in ev) {\n      return ev.buttons\n    } else if('which' in ev) {\n      var b = ev.which\n      if(b === 2) {\n        return 4\n      } else if(b === 3) {\n        return 2\n      } else if(b > 0) {\n        return 1<<(b-1)\n      }\n    } else if('button' in ev) {\n      var b = ev.button\n      if(b === 1) {\n        return 4\n      } else if(b === 2) {\n        return 2\n      } else if(b >= 0) {\n        return 1<<b\n      }\n    }\n  }\n  return 0\n}\nexports.buttons = mouseButtons\n\nfunction mouseElement(ev) {\n  return ev.target || ev.srcElement || window\n}\nexports.element = mouseElement\n\nfunction mouseRelativeX(ev) {\n  if(typeof ev === 'object') {\n    if('offsetX' in ev) {\n      return ev.offsetX\n    }\n    var target = mouseElement(ev)\n    var bounds = target.getBoundingClientRect()\n    return ev.clientX - bounds.left\n  }\n  return 0\n}\nexports.x = mouseRelativeX\n\nfunction mouseRelativeY(ev) {\n  if(typeof ev === 'object') {\n    if('offsetY' in ev) {\n      return ev.offsetY\n    }\n    var target = mouseElement(ev)\n    var bounds = target.getBoundingClientRect()\n    return ev.clientY - bounds.top\n  }\n  return 0\n}\nexports.y = mouseRelativeY\n","'use strict'\n\nmodule.exports = mouseListen\n\nvar mouse = require('mouse-event')\n\nfunction mouseListen (element, callback) {\n  if (!callback) {\n    callback = element\n    element = window\n  }\n\n  var buttonState = 0\n  var x = 0\n  var y = 0\n  var mods = {\n    shift: false,\n    alt: false,\n    control: false,\n    meta: false\n  }\n  var attached = false\n\n  function updateMods (ev) {\n    var changed = false\n    if ('altKey' in ev) {\n      changed = changed || ev.altKey !== mods.alt\n      mods.alt = !!ev.altKey\n    }\n    if ('shiftKey' in ev) {\n      changed = changed || ev.shiftKey !== mods.shift\n      mods.shift = !!ev.shiftKey\n    }\n    if ('ctrlKey' in ev) {\n      changed = changed || ev.ctrlKey !== mods.control\n      mods.control = !!ev.ctrlKey\n    }\n    if ('metaKey' in ev) {\n      changed = changed || ev.metaKey !== mods.meta\n      mods.meta = !!ev.metaKey\n    }\n    return changed\n  }\n\n  function handleEvent (nextButtons, ev) {\n    var nextX = mouse.x(ev)\n    var nextY = mouse.y(ev)\n    if ('buttons' in ev) {\n      nextButtons = ev.buttons | 0\n    }\n    if (nextButtons !== buttonState ||\n      nextX !== x ||\n      nextY !== y ||\n      updateMods(ev)) {\n      buttonState = nextButtons | 0\n      x = nextX || 0\n      y = nextY || 0\n      callback && callback(buttonState, x, y, mods)\n    }\n  }\n\n  function clearState (ev) {\n    handleEvent(0, ev)\n  }\n\n  function handleBlur () {\n    if (buttonState ||\n      x ||\n      y ||\n      mods.shift ||\n      mods.alt ||\n      mods.meta ||\n      mods.control) {\n      x = y = 0\n      buttonState = 0\n      mods.shift = mods.alt = mods.control = mods.meta = false\n      callback && callback(0, 0, 0, mods)\n    }\n  }\n\n  function handleMods (ev) {\n    if (updateMods(ev)) {\n      callback && callback(buttonState, x, y, mods)\n    }\n  }\n\n  function handleMouseMove (ev) {\n    if (mouse.buttons(ev) === 0) {\n      handleEvent(0, ev)\n    } else {\n      handleEvent(buttonState, ev)\n    }\n  }\n\n  function handleMouseDown (ev) {\n    handleEvent(buttonState | mouse.buttons(ev), ev)\n  }\n\n  function handleMouseUp (ev) {\n    handleEvent(buttonState & ~mouse.buttons(ev), ev)\n  }\n\n  function attachListeners () {\n    if (attached) {\n      return\n    }\n    attached = true\n\n    element.addEventListener('mousemove', handleMouseMove)\n\n    element.addEventListener('mousedown', handleMouseDown)\n\n    element.addEventListener('mouseup', handleMouseUp)\n\n    element.addEventListener('mouseleave', clearState)\n    element.addEventListener('mouseenter', clearState)\n    element.addEventListener('mouseout', clearState)\n    element.addEventListener('mouseover', clearState)\n\n    element.addEventListener('blur', handleBlur)\n\n    element.addEventListener('keyup', handleMods)\n    element.addEventListener('keydown', handleMods)\n    element.addEventListener('keypress', handleMods)\n\n    if (element !== window) {\n      window.addEventListener('blur', handleBlur)\n\n      window.addEventListener('keyup', handleMods)\n      window.addEventListener('keydown', handleMods)\n      window.addEventListener('keypress', handleMods)\n    }\n  }\n\n  function detachListeners () {\n    if (!attached) {\n      return\n    }\n    attached = false\n\n    element.removeEventListener('mousemove', handleMouseMove)\n\n    element.removeEventListener('mousedown', handleMouseDown)\n\n    element.removeEventListener('mouseup', handleMouseUp)\n\n    element.removeEventListener('mouseleave', clearState)\n    element.removeEventListener('mouseenter', clearState)\n    element.removeEventListener('mouseout', clearState)\n    element.removeEventListener('mouseover', clearState)\n\n    element.removeEventListener('blur', handleBlur)\n\n    element.removeEventListener('keyup', handleMods)\n    element.removeEventListener('keydown', handleMods)\n    element.removeEventListener('keypress', handleMods)\n\n    if (element !== window) {\n      window.removeEventListener('blur', handleBlur)\n\n      window.removeEventListener('keyup', handleMods)\n      window.removeEventListener('keydown', handleMods)\n      window.removeEventListener('keypress', handleMods)\n    }\n  }\n\n  // Attach listeners\n  attachListeners()\n\n  var result = {\n    element: element\n  }\n\n  Object.defineProperties(result, {\n    enabled: {\n      get: function () { return attached },\n      set: function (f) {\n        if (f) {\n          attachListeners()\n        } else {\n          detachListeners()\n        }\n      },\n      enumerable: true\n    },\n    buttons: {\n      get: function () { return buttonState },\n      enumerable: true\n    },\n    x: {\n      get: function () { return x },\n      enumerable: true\n    },\n    y: {\n      get: function () { return y },\n      enumerable: true\n    },\n    mods: {\n      get: function () { return mods },\n      enumerable: true\n    }\n  })\n\n  return result\n}\n","var rootPosition = { left: 0, top: 0 }\n\nmodule.exports = mouseEventOffset\nfunction mouseEventOffset (ev, target, out) {\n  target = target || ev.currentTarget || ev.srcElement\n  if (!Array.isArray(out)) {\n    out = [ 0, 0 ]\n  }\n  var cx = ev.clientX || 0\n  var cy = ev.clientY || 0\n  var rect = getBoundingClientOffset(target)\n  out[0] = cx - rect.left\n  out[1] = cy - rect.top\n  return out\n}\n\nfunction getBoundingClientOffset (element) {\n  if (element === window ||\n      element === document ||\n      element === document.body) {\n    return rootPosition\n  } else {\n    return element.getBoundingClientRect()\n  }\n}\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString /*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","'use strict';\n\nmodule.exports = normalizedInteractionEvents;\n\nvar mouseChange = require('mouse-change');\nvar eventOffset = require('mouse-event-offset');\nvar eventEmitter = require('event-emitter');\n\nfunction normalizedInteractionEvents (element) {\n  element = element || window;\n\n  var emitter = eventEmitter();\n  var previousPosition = [null, null];\n  var previousFingerPosition = [null, null];\n  var currentPosition = [null, null];\n  var fingers = [null, null];\n  var activeTouchCount = 0;\n  var ev = {};\n\n\n  var width, height;\n\n  var getSize = element === window ? function () {\n    width = window.innerWidth;\n    height = window.innerHeight;\n  } : function () {\n    width = element.clientWidth;\n    height = element.clientHeight;\n  }\n\n  var buttons = 0;\n  var mouseX;\n  var mouseY;\n  var mods = {};\n  var changeListener = mouseChange(element, function(pbuttons, px, py, pmods) {\n    mouseX = px;\n    mouseY = py;\n    buttons = pbuttons;\n    mods = pmods;\n  });\n\n  function onWheel (event) {\n    eventOffset(event, element, currentPosition);\n    getSize();\n\n    ev.buttons = buttons;\n    ev.mods = mods;\n    ev.x0 = ev.x = ev.x1 = 2 * currentPosition[0] / width - 1;\n    ev.y0 = ev.y = ev.y1 = 1 - 2 * currentPosition[1] / height;\n    ev.x2 = null;\n    ev.y2 = null;\n    ev.dx = 2 * event.deltaX / width;\n    ev.dy = -2 * event.deltaY / height;\n    ev.dz = 2 * event.deltaZ / width;\n    ev.active = 1;\n    ev.zoomx = 1;\n    ev.zoomy = 1;\n    ev.theta = 0;\n    ev.dtheta = 0;\n    ev.originalEvent = event;\n\n    emitter.emit('wheel', ev);\n\n    previousPosition[0] = currentPosition[0];\n    previousPosition[1] = currentPosition[1];\n  }\n\n  var x0 = null;\n  var y0 = null;\n  var active = 0;\n\n  function onMouseUp (event) {\n    eventOffset(event, element, currentPosition);\n    active = 0;\n    getSize();\n\n    ev.buttons = buttons;\n    ev.mods = mods;\n    ev.x = ev.x1 = 2 * currentPosition[0] / width - 1;\n    ev.y = ev.y1 = 1 - 2 * currentPosition[1] / height;\n    ev.x2 = null;\n    ev.y2 = null;\n    ev.active = active;\n    ev.x0 = 2 * x0 / width - 1;\n    ev.y0 = 1 - 2 * y0 / height;\n    ev.dx = 0;\n    ev.dy = 0;\n    ev.dz = 0;\n    ev.zoomx = 1;\n    ev.zoomy = 1;\n    ev.theta = 0;\n    ev.dtheta = 0;\n    ev.originalEvent = event;\n\n    emitter.emit('mouseup', ev);\n\n    x0 = y0 = null;\n\n    previousPosition[0] = currentPosition[0];\n    previousPosition[1] = currentPosition[1];\n  }\n\n  function onMouseDown (event) {\n    eventOffset(event, element, currentPosition);\n    active = 1;\n    getSize();\n\n    x0 = mouseX;\n    y0 = mouseY;\n\n    ev.buttons = buttons;\n    ev.mods = mods;\n    ev.x = ev.x0 = ev.x1 = 2 * currentPosition[0] / width - 1;\n    ev.y = ev.y0 = ev.y1 = 1 - 2 * currentPosition[1] / height;\n    ev.x2 = null;\n    ev.y2 = null;\n    ev.active = active;\n    ev.dx = 0;\n    ev.dy = 0;\n    ev.dz = 0;\n    ev.zoomx = 1;\n    ev.zoomy = 1;\n    ev.theta = 0;\n    ev.dtheta = 0;\n    ev.originalEvent = event;\n\n    emitter.emit('mousedown', ev);\n\n    previousPosition[0] = currentPosition[0];\n    previousPosition[1] = currentPosition[1];\n  }\n\n  function onMouseMove (event) {\n    eventOffset(event, element, currentPosition);\n    getSize();\n\n    ev.buttons = buttons;\n    ev.mods = mods;\n    ev.x0 = 2 * x0 / width - 1;\n    ev.y0 = 1 - 2 * y0 / height;\n    ev.x = ev.x1 = 2 * currentPosition[0] / width - 1;\n    ev.y = ev.y1 = 1 - 2 * currentPosition[1] / height;\n    ev.x2 = null;\n    ev.y2 = null;\n    ev.dx = 2 * (currentPosition[0] - previousPosition[0]) / width;\n    ev.dy = -2 * (currentPosition[1] - previousPosition[1]) / height;\n    ev.active = active;\n    ev.dz = 0;\n    ev.zoomx = 1;\n    ev.zoomy = 1;\n    ev.theta = 0;\n    ev.dtheta = 0;\n    ev.originalEvent = event;\n\n    emitter.emit('mousemove', ev);\n\n    previousPosition[0] = currentPosition[0];\n    previousPosition[1] = currentPosition[1];\n  }\n\n  function indexOfTouch (touch) {\n    var id = touch.identifier\n    for (var i = 0; i < fingers.length; i++) {\n      if (fingers[i] &&\n        fingers[i].touch &&\n        fingers[i].touch.identifier === id) {\n        return i\n      }\n    }\n    return -1\n  }\n\n  function onTouchStart (event) {\n    previousFingerPosition[0] = null;\n    previousFingerPosition[1] = null;\n\n    for (var i = 0; i < event.changedTouches.length; i++) {\n      var newTouch = event.changedTouches[i]\n      var id = newTouch.identifier\n      var idx = indexOfTouch(id)\n\n      if (idx === -1 && activeTouchCount < 2) {\n        var first = activeTouchCount === 0\n\n        // newest and previous finger (previous may be undefined)\n        var newIndex = fingers[0] ? 1 : 0\n        var oldIndex = fingers[0] ? 0 : 1\n        var newFinger = {\n          position: [0, 0],\n          touch: null\n        };\n\n        // add to stack\n        fingers[newIndex] = newFinger\n        activeTouchCount++\n\n        // update touch event & position\n        newFinger.touch = newTouch\n        eventOffset(newTouch, element, newFinger.position)\n\n        var oldTouch = fingers[oldIndex] ? fingers[oldIndex].touch : undefined\n      }\n    }\n\n    var xavg = 0;\n    var yavg = 0;\n    var fingerCount = 0;\n    for (var i = 0; i < fingers.length; i++) {\n      if (!fingers[i]) continue;\n      xavg += fingers[i].position[0];\n      yavg += fingers[i].position[1];\n      fingerCount++;\n    }\n    xavg /= fingerCount;\n    yavg /= fingerCount;\n\n\n    if (activeTouchCount > 0) {\n      ev.theta = 0;\n\n      if (fingerCount > 1) {\n        var dx = fingers[1].position[0] - fingers[0].position[0];\n        var dy = (fingers[0].position[1] - fingers[1].position[1]) * width / height;\n        ev.theta = Math.atan2(dy, dx);\n      }\n\n      getSize();\n      ev.buttons = 0;\n      ev.mods = {};\n      ev.active = activeTouchCount;\n      x0 = xavg;\n      y0 = yavg;\n      ev.x0 = 2 * x0 / width - 1;\n      ev.y0 = 1 - 2 * y0 / height;\n      ev.x = 2 * xavg / width - 1;\n      ev.y = 1 - 2 * yavg / height;\n      ev.x1 = 2 * fingers[0].position[0] / width - 1;\n      ev.y1 = 1 - 2 * fingers[0].position[1] / height;\n      if (activeTouchCount > 1) {\n        ev.x2 = 2 * fingers[1].position[0] / width - 1;\n        ev.y2 = 1 - 2 * fingers[1].position[1] / height;\n      }\n      ev.active = activeTouchCount;\n      ev.dx = 0;\n      ev.dy = 0;\n      ev.dz = 0;\n      ev.zoomx = 1;\n      ev.zoomy = 1;\n      ev.dtheta = 0;\n      ev.originalEvent = event;\n      emitter.emit(activeTouchCount === 1 ? 'touchstart' : 'pinchstart', ev);\n    }\n  }\n\n  function onTouchMove (event) {\n    var idx;\n    var changed = false\n    for (var i = 0; i < event.changedTouches.length; i++) {\n      var movedTouch = event.changedTouches[i]\n      idx = indexOfTouch(movedTouch)\n\n      if (idx !== -1) {\n        changed = true\n        fingers[idx].touch = movedTouch // avoid caching touches\n        eventOffset(movedTouch, element, fingers[idx].position)\n      }\n    }\n\n    if (changed) {\n      if (activeTouchCount === 1) {\n        for (idx = 0; idx < fingers.length; idx++) {\n          if (fingers[idx]) break;\n        }\n\n        if (fingers[idx] && previousFingerPosition[idx]) {\n          var x = fingers[idx].position[0];\n          var y = fingers[idx].position[1];\n\n          var dx = x - previousFingerPosition[idx][0];\n          var dy = y - previousFingerPosition[idx][1];\n\n          ev.buttons = 0;\n          ev.mods = {};\n          ev.active = activeTouchCount;\n          ev.x = ev.x1 = 2 * x / width - 1;\n          ev.y = ev.y1 = 1 - 2 * y / height;\n          ev.x2 = null;\n          ev.y2 = null;\n          ev.x0 = 2 * x0 / width - 1;\n          ev.y0 = 1 - 2 * y0 / height;\n          ev.dx = 2 * dx / width;\n          ev.dy = -2 * dy / height;\n          ev.dz = 0;\n          ev.zoomx = 1;\n          ev.zoomy = 1;\n          ev.theta = 0;\n          ev.dtheta = 0;\n          ev.originalEvent = event;\n\n          emitter.emit('touchmove', ev);\n        }\n      } else if (activeTouchCount === 2) {\n        if (previousFingerPosition[0] && previousFingerPosition[1]) {\n          // Previous two-finger vector:\n          var pos0A = previousFingerPosition[0];\n          var pos0B = previousFingerPosition[1];\n          var dx0 = pos0B[0] - pos0A[0];\n          var dy0 = (pos0B[1] - pos0A[1]) * width / height;\n\n          // Current two-finger vector:\n          var pos1A = fingers[0].position;\n          var pos1B = fingers[1].position;\n          var dx1 = pos1B[0] - pos1A[0];\n          var dy1 = (pos1A[1] - pos1B[1]) * width / height;\n\n          // r, theta for the previous two-finger touch:\n          var r0 = Math.sqrt(dx0 * dx0 + dy0 * dy0) * 0.5;\n          var theta0 = Math.atan2(dy0, dx0);\n\n          // r, theta for the current two-finger touch:\n          var r1 = Math.sqrt(dx1 * dx1 + dy1 * dy1) * 0.5;\n          var theta1 = Math.atan2(dy1, dx1);\n\n          var xavg = (pos0B[0] + pos0A[0]) * 0.5;\n          var yavg = (pos0B[1] + pos0A[1]) * 0.5;\n          var dx = 0.5 * (pos1B[0] + pos1A[0] - pos0A[0] - pos0B[0]);\n          var dy = 0.5 * (pos1B[1] + pos1A[1] - pos0A[1] - pos0B[1]);\n\n          var dr = r1 / r0;\n          var dtheta = theta1 - theta0;\n\n          ev.buttons = 0;\n          ev.mods = mods;\n          ev.active = activeTouchCount;\n          ev.x = 2 * xavg / width - 1;\n          ev.y = 1 - 2 * yavg / height;\n          ev.x0 = 2 * x0 / width - 1;\n          ev.y0 = 1 - 2 * y0 / height;\n          ev.x1 = 2 * pos1A[0] / width - 1;\n          ev.y1 = 1 - 2 * pos1A[1] / height;\n          ev.x2 = 2 * pos1B[0] / width - 1;\n          ev.y2 = 1 - 2 * pos1B[1] / height;\n          ev.dx = 2 * dx / width;\n          ev.dy = -2 * dy / height;\n          ev.dz = 0;\n          ev.zoomx = dr;\n          ev.zoomy = dr;\n          ev.theta = theta1;\n          ev.dtheta = dtheta;\n          ev.originalEvent = event;\n\n          emitter.emit('pinchmove', ev);\n        }\n      }\n    }\n\n    if (fingers[0]) {\n      previousFingerPosition[0] = fingers[0].position.slice();\n    }\n\n    if (fingers[1]) {\n      previousFingerPosition[1] = fingers[1].position.slice();\n    }\n  }\n\n  function onTouchRemoved (event) {\n    var lastFinger;\n    for (var i = 0; i < event.changedTouches.length; i++) {\n      var removed = event.changedTouches[i]\n      var idx = indexOfTouch(removed)\n\n      if (idx !== -1) {\n        lastFinger = fingers[idx];\n        fingers[idx] = null\n        activeTouchCount--\n        var otherIdx = idx === 0 ? 1 : 0\n        var otherTouch = fingers[otherIdx] ? fingers[otherIdx].touch : undefined\n      }\n    }\n\n    var xavg = 0;\n    var yavg = 0;\n    if (activeTouchCount === 0) {\n      if (lastFinger) {\n        xavg = lastFinger.position[0];\n        yavg = lastFinger.position[1];\n      }\n    } else {\n      var fingerCount = 0;\n      for (var i = 0; i < fingers.length; i++) {\n        if (!fingers[i]) continue;\n        xavg += fingers[i].position[0];\n        yavg += fingers[i].position[1];\n        fingerCount++;\n      }\n      xavg /= fingerCount;\n      yavg /= fingerCount;\n    }\n\n    if (activeTouchCount < 2) {\n      ev.buttons = 0;\n      ev.mods = mods;\n      ev.active = activeTouchCount;\n      ev.x = 2 * xavg / width - 1;\n      ev.y = 1 - 2 * yavg / height;\n      ev.x0 = 2 * x0 / width - 1;\n      ev.y0 = 1 - 2 * y0 / height;\n      ev.dx = 0;\n      ev.dy = 0;\n      ev.dz = 0;\n      ev.zoomx = 1;\n      ev.zoomy = 1;\n      ev.theta = 0;\n      ev.dtheta = 0;\n      ev.originalEvent = event;\n      emitter.emit(activeTouchCount === 0 ? 'touchend' : 'pinchend', ev);\n    }\n    if (activeTouchCount === 0) {\n      x0 = y0 = null;\n    }\n  }\n\n\n  var enabled = false;\n  function enable () {\n    if (enabled) return;\n    enabled = true;\n    changeListener.enabled = true;\n    element.addEventListener('wheel', onWheel, false);\n    element.addEventListener('mousedown', onMouseDown, false);\n    window.addEventListener('mousemove', onMouseMove, false);\n    window.addEventListener('mouseup', onMouseUp, false);\n\n    element.addEventListener('touchstart', onTouchStart, false);\n    window.addEventListener('touchmove', onTouchMove, false);\n    window.addEventListener('touchend', onTouchRemoved, false)\n    window.addEventListener('touchcancel', onTouchRemoved, false)\n  }\n\n  function disable () {\n    if (!enabled) return;\n    enabled = false;\n    changeListener.enabled = false;\n    element.removeEventListener('wheel', onWheel, false);\n    element.removeEventListener('mousedown', onMouseDown, false);\n    window.removeEventListener('mousemove', onMouseMove, false);\n    window.removeEventListener('mouseup', onMouseUp, false);\n\n    element.removeEventListener('touchstart', onTouchStart, false);\n    window.removeEventListener('touchmove', onTouchMove, false);\n    window.removeEventListener('touchend', onTouchRemoved, false)\n    window.removeEventListener('touchcancel', onTouchRemoved, false)\n  }\n\n  enable();\n\n  emitter.enable = enable;\n  emitter.disable = disable;\n\n  return emitter;\n}\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import { wrap } from \"comlink\";\n\nimport Worker from \"./worker.js?worker\";\nimport * as notWorker from \"./worker\";\nimport { detect } from \"detect-browser\";\nimport moize from \"moize\";\n\nconst agent = detect(navigator.userAgent);\nconst useWorkers = agent?.name !== \"safari\" && agent?.os !== \"iOS\";\n\nif (useWorkers) {\n  console.debug(\"Using workers\");\n} else {\n  console.warn(\n    \"Not using workers due to an awful memory leak that makes WebKit crash if you use workers\",\n  );\n}\n\nexport const graphDb = moize.infinite((ctx) =>\n  useWorkers ? wrap(new Worker()) : notWorker.db,\n);\n\nexport const graphLayout = moize.infinite((ctx) =>\n  useWorkers ? wrap(new Worker()) : notWorker.layout,\n);\n\nexport const graphCameraAnimation = moize.infinite((ctx) =>\n  false ? wrap(new Worker()) : notWorker.cameraAnimation,\n);\n","// deno-fmt-ignore-file\n// deno-lint-ignore-file\n// This code was bundled using `deno bundle` and it's not recommended to edit it manually\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _block, _blocks, _bytes, _finalized, _first, _h0, _h1, _h2, _h3, _h4, _h5, _h6, _h7, _hashed, _hBytes, _is224, _lastByteIndex, _start;\nconst BKDRHash = function (str) {\n    var seed = 131;\n    var seed2 = 137;\n    var hash = 0;\n    str += 'x';\n    var MAX_SAFE_INTEGER = Math.floor(9007199254740991 / seed2);\n    for (let i = 0; i < str.length; i++) {\n        if (hash > MAX_SAFE_INTEGER) {\n            hash = Math.floor(hash / seed2);\n        }\n        hash = hash * seed + str.charCodeAt(i);\n    }\n    return hash;\n};\nconst HEX_CHARS = \"0123456789abcdef\".split(\"\");\nconst EXTRA = [\n    -2147483648,\n    8388608,\n    32768,\n    128\n];\nconst SHIFT = [\n    24,\n    16,\n    8,\n    0\n];\nconst K = [\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n];\nconst blocks = [];\nclass Sha256 {\n    constructor(is224 = false, sharedMemory = false) {\n        _block.set(this, void 0);\n        _blocks.set(this, void 0);\n        _bytes.set(this, void 0);\n        _finalized.set(this, void 0);\n        _first.set(this, void 0);\n        _h0.set(this, void 0);\n        _h1.set(this, void 0);\n        _h2.set(this, void 0);\n        _h3.set(this, void 0);\n        _h4.set(this, void 0);\n        _h5.set(this, void 0);\n        _h6.set(this, void 0);\n        _h7.set(this, void 0);\n        _hashed.set(this, void 0);\n        _hBytes.set(this, void 0);\n        _is224.set(this, void 0);\n        _lastByteIndex.set(this, 0);\n        _start.set(this, void 0);\n        this.init(is224, sharedMemory);\n    }\n    init(is224, sharedMemory) {\n        if (sharedMemory) {\n            blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            __classPrivateFieldSet(this, _blocks, blocks);\n        }\n        else {\n            __classPrivateFieldSet(this, _blocks, [\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0\n            ]);\n        }\n        if (is224) {\n            __classPrivateFieldSet(this, _h0, 0xc1059ed8);\n            __classPrivateFieldSet(this, _h1, 0x367cd507);\n            __classPrivateFieldSet(this, _h2, 0x3070dd17);\n            __classPrivateFieldSet(this, _h3, 0xf70e5939);\n            __classPrivateFieldSet(this, _h4, 0xffc00b31);\n            __classPrivateFieldSet(this, _h5, 0x68581511);\n            __classPrivateFieldSet(this, _h6, 0x64f98fa7);\n            __classPrivateFieldSet(this, _h7, 0xbefa4fa4);\n        }\n        else {\n            __classPrivateFieldSet(this, _h0, 0x6a09e667);\n            __classPrivateFieldSet(this, _h1, 0xbb67ae85);\n            __classPrivateFieldSet(this, _h2, 0x3c6ef372);\n            __classPrivateFieldSet(this, _h3, 0xa54ff53a);\n            __classPrivateFieldSet(this, _h4, 0x510e527f);\n            __classPrivateFieldSet(this, _h5, 0x9b05688c);\n            __classPrivateFieldSet(this, _h6, 0x1f83d9ab);\n            __classPrivateFieldSet(this, _h7, 0x5be0cd19);\n        }\n        __classPrivateFieldSet(this, _block, __classPrivateFieldSet(this, _start, __classPrivateFieldSet(this, _bytes, __classPrivateFieldSet(this, _hBytes, 0))));\n        __classPrivateFieldSet(this, _finalized, __classPrivateFieldSet(this, _hashed, false));\n        __classPrivateFieldSet(this, _first, true);\n        __classPrivateFieldSet(this, _is224, is224);\n    }\n    update(message) {\n        if (__classPrivateFieldGet(this, _finalized)) {\n            return this;\n        }\n        let msg;\n        if (message instanceof ArrayBuffer) {\n            msg = new Uint8Array(message);\n        }\n        else {\n            msg = message;\n        }\n        let index = 0;\n        const length = msg.length;\n        const blocks = __classPrivateFieldGet(this, _blocks);\n        while (index < length) {\n            let i;\n            if (__classPrivateFieldGet(this, _hashed)) {\n                __classPrivateFieldSet(this, _hashed, false);\n                blocks[0] = __classPrivateFieldGet(this, _block);\n                blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            }\n            if (typeof msg !== \"string\") {\n                for (i = __classPrivateFieldGet(this, _start); index < length && i < 64; ++index) {\n                    blocks[i >> 2] |= msg[index] << SHIFT[i++ & 3];\n                }\n            }\n            else {\n                for (i = __classPrivateFieldGet(this, _start); index < length && i < 64; ++index) {\n                    let code = msg.charCodeAt(index);\n                    if (code < 0x80) {\n                        blocks[i >> 2] |= code << SHIFT[i++ & 3];\n                    }\n                    else if (code < 0x800) {\n                        blocks[i >> 2] |= (0xc0 | code >> 6) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n                    }\n                    else if (code < 0xd800 || code >= 0xe000) {\n                        blocks[i >> 2] |= (0xe0 | code >> 12) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n                    }\n                    else {\n                        code = 0x10000 + ((code & 0x3ff) << 10 | msg.charCodeAt(++index) & 0x3ff);\n                        blocks[i >> 2] |= (0xf0 | code >> 18) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | code >> 12 & 0x3f) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n                        blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n                    }\n                }\n            }\n            __classPrivateFieldSet(this, _lastByteIndex, i);\n            __classPrivateFieldSet(this, _bytes, __classPrivateFieldGet(this, _bytes) + (i - __classPrivateFieldGet(this, _start)));\n            if (i >= 64) {\n                __classPrivateFieldSet(this, _block, blocks[16]);\n                __classPrivateFieldSet(this, _start, i - 64);\n                this.hash();\n                __classPrivateFieldSet(this, _hashed, true);\n            }\n            else {\n                __classPrivateFieldSet(this, _start, i);\n            }\n        }\n        if (__classPrivateFieldGet(this, _bytes) > 4294967295) {\n            __classPrivateFieldSet(this, _hBytes, __classPrivateFieldGet(this, _hBytes) + (__classPrivateFieldGet(this, _bytes) / 4294967296 << 0));\n            __classPrivateFieldSet(this, _bytes, __classPrivateFieldGet(this, _bytes) % 4294967296);\n        }\n        return this;\n    }\n    finalize() {\n        if (__classPrivateFieldGet(this, _finalized)) {\n            return;\n        }\n        __classPrivateFieldSet(this, _finalized, true);\n        const blocks = __classPrivateFieldGet(this, _blocks);\n        const i = __classPrivateFieldGet(this, _lastByteIndex);\n        blocks[16] = __classPrivateFieldGet(this, _block);\n        blocks[i >> 2] |= EXTRA[i & 3];\n        __classPrivateFieldSet(this, _block, blocks[16]);\n        if (i >= 56) {\n            if (!__classPrivateFieldGet(this, _hashed)) {\n                this.hash();\n            }\n            blocks[0] = __classPrivateFieldGet(this, _block);\n            blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n        }\n        blocks[14] = __classPrivateFieldGet(this, _hBytes) << 3 | __classPrivateFieldGet(this, _bytes) >>> 29;\n        blocks[15] = __classPrivateFieldGet(this, _bytes) << 3;\n        this.hash();\n    }\n    hash() {\n        let a = __classPrivateFieldGet(this, _h0);\n        let b = __classPrivateFieldGet(this, _h1);\n        let c = __classPrivateFieldGet(this, _h2);\n        let d = __classPrivateFieldGet(this, _h3);\n        let e = __classPrivateFieldGet(this, _h4);\n        let f = __classPrivateFieldGet(this, _h5);\n        let g = __classPrivateFieldGet(this, _h6);\n        let h = __classPrivateFieldGet(this, _h7);\n        const blocks = __classPrivateFieldGet(this, _blocks);\n        let s0;\n        let s1;\n        let maj;\n        let t1;\n        let t2;\n        let ch;\n        let ab;\n        let da;\n        let cd;\n        let bc;\n        for (let j = 16; j < 64; ++j) {\n            t1 = blocks[j - 15];\n            s0 = (t1 >>> 7 | t1 << 25) ^ (t1 >>> 18 | t1 << 14) ^ t1 >>> 3;\n            t1 = blocks[j - 2];\n            s1 = (t1 >>> 17 | t1 << 15) ^ (t1 >>> 19 | t1 << 13) ^ t1 >>> 10;\n            blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n        }\n        bc = b & c;\n        for (let j1 = 0; j1 < 64; j1 += 4) {\n            if (__classPrivateFieldGet(this, _first)) {\n                if (__classPrivateFieldGet(this, _is224)) {\n                    ab = 300032;\n                    t1 = blocks[0] - 1413257819;\n                    h = t1 - 150054599 << 0;\n                    d = t1 + 24177077 << 0;\n                }\n                else {\n                    ab = 704751109;\n                    t1 = blocks[0] - 210244248;\n                    h = t1 - 1521486534 << 0;\n                    d = t1 + 143694565 << 0;\n                }\n                __classPrivateFieldSet(this, _first, false);\n            }\n            else {\n                s0 = (a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10);\n                s1 = (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);\n                ab = a & b;\n                maj = ab ^ a & c ^ bc;\n                ch = e & f ^ ~e & g;\n                t1 = h + s1 + ch + K[j1] + blocks[j1];\n                t2 = s0 + maj;\n                h = d + t1 << 0;\n                d = t1 + t2 << 0;\n            }\n            s0 = (d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10);\n            s1 = (h >>> 6 | h << 26) ^ (h >>> 11 | h << 21) ^ (h >>> 25 | h << 7);\n            da = d & a;\n            maj = da ^ d & b ^ ab;\n            ch = h & e ^ ~h & f;\n            t1 = g + s1 + ch + K[j1 + 1] + blocks[j1 + 1];\n            t2 = s0 + maj;\n            g = c + t1 << 0;\n            c = t1 + t2 << 0;\n            s0 = (c >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10);\n            s1 = (g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7);\n            cd = c & d;\n            maj = cd ^ c & a ^ da;\n            ch = g & h ^ ~g & e;\n            t1 = f + s1 + ch + K[j1 + 2] + blocks[j1 + 2];\n            t2 = s0 + maj;\n            f = b + t1 << 0;\n            b = t1 + t2 << 0;\n            s0 = (b >>> 2 | b << 30) ^ (b >>> 13 | b << 19) ^ (b >>> 22 | b << 10);\n            s1 = (f >>> 6 | f << 26) ^ (f >>> 11 | f << 21) ^ (f >>> 25 | f << 7);\n            bc = b & c;\n            maj = bc ^ b & d ^ cd;\n            ch = f & g ^ ~f & h;\n            t1 = e + s1 + ch + K[j1 + 3] + blocks[j1 + 3];\n            t2 = s0 + maj;\n            e = a + t1 << 0;\n            a = t1 + t2 << 0;\n        }\n        __classPrivateFieldSet(this, _h0, __classPrivateFieldGet(this, _h0) + a << 0);\n        __classPrivateFieldSet(this, _h1, __classPrivateFieldGet(this, _h1) + b << 0);\n        __classPrivateFieldSet(this, _h2, __classPrivateFieldGet(this, _h2) + c << 0);\n        __classPrivateFieldSet(this, _h3, __classPrivateFieldGet(this, _h3) + d << 0);\n        __classPrivateFieldSet(this, _h4, __classPrivateFieldGet(this, _h4) + e << 0);\n        __classPrivateFieldSet(this, _h5, __classPrivateFieldGet(this, _h5) + f << 0);\n        __classPrivateFieldSet(this, _h6, __classPrivateFieldGet(this, _h6) + g << 0);\n        __classPrivateFieldSet(this, _h7, __classPrivateFieldGet(this, _h7) + h << 0);\n    }\n    hex() {\n        this.finalize();\n        const h0 = __classPrivateFieldGet(this, _h0);\n        const h1 = __classPrivateFieldGet(this, _h1);\n        const h2 = __classPrivateFieldGet(this, _h2);\n        const h3 = __classPrivateFieldGet(this, _h3);\n        const h4 = __classPrivateFieldGet(this, _h4);\n        const h5 = __classPrivateFieldGet(this, _h5);\n        const h6 = __classPrivateFieldGet(this, _h6);\n        const h7 = __classPrivateFieldGet(this, _h7);\n        let hex = HEX_CHARS[h0 >> 28 & 0x0f] + HEX_CHARS[h0 >> 24 & 0x0f] + HEX_CHARS[h0 >> 20 & 0x0f] + HEX_CHARS[h0 >> 16 & 0x0f] + HEX_CHARS[h0 >> 12 & 0x0f] + HEX_CHARS[h0 >> 8 & 0x0f] + HEX_CHARS[h0 >> 4 & 0x0f] + HEX_CHARS[h0 & 0x0f] + HEX_CHARS[h1 >> 28 & 0x0f] + HEX_CHARS[h1 >> 24 & 0x0f] + HEX_CHARS[h1 >> 20 & 0x0f] + HEX_CHARS[h1 >> 16 & 0x0f] + HEX_CHARS[h1 >> 12 & 0x0f] + HEX_CHARS[h1 >> 8 & 0x0f] + HEX_CHARS[h1 >> 4 & 0x0f] + HEX_CHARS[h1 & 0x0f] + HEX_CHARS[h2 >> 28 & 0x0f] + HEX_CHARS[h2 >> 24 & 0x0f] + HEX_CHARS[h2 >> 20 & 0x0f] + HEX_CHARS[h2 >> 16 & 0x0f] + HEX_CHARS[h2 >> 12 & 0x0f] + HEX_CHARS[h2 >> 8 & 0x0f] + HEX_CHARS[h2 >> 4 & 0x0f] + HEX_CHARS[h2 & 0x0f] + HEX_CHARS[h3 >> 28 & 0x0f] + HEX_CHARS[h3 >> 24 & 0x0f] + HEX_CHARS[h3 >> 20 & 0x0f] + HEX_CHARS[h3 >> 16 & 0x0f] + HEX_CHARS[h3 >> 12 & 0x0f] + HEX_CHARS[h3 >> 8 & 0x0f] + HEX_CHARS[h3 >> 4 & 0x0f] + HEX_CHARS[h3 & 0x0f] + HEX_CHARS[h4 >> 28 & 0x0f] + HEX_CHARS[h4 >> 24 & 0x0f] + HEX_CHARS[h4 >> 20 & 0x0f] + HEX_CHARS[h4 >> 16 & 0x0f] + HEX_CHARS[h4 >> 12 & 0x0f] + HEX_CHARS[h4 >> 8 & 0x0f] + HEX_CHARS[h4 >> 4 & 0x0f] + HEX_CHARS[h4 & 0x0f] + HEX_CHARS[h5 >> 28 & 0x0f] + HEX_CHARS[h5 >> 24 & 0x0f] + HEX_CHARS[h5 >> 20 & 0x0f] + HEX_CHARS[h5 >> 16 & 0x0f] + HEX_CHARS[h5 >> 12 & 0x0f] + HEX_CHARS[h5 >> 8 & 0x0f] + HEX_CHARS[h5 >> 4 & 0x0f] + HEX_CHARS[h5 & 0x0f] + HEX_CHARS[h6 >> 28 & 0x0f] + HEX_CHARS[h6 >> 24 & 0x0f] + HEX_CHARS[h6 >> 20 & 0x0f] + HEX_CHARS[h6 >> 16 & 0x0f] + HEX_CHARS[h6 >> 12 & 0x0f] + HEX_CHARS[h6 >> 8 & 0x0f] + HEX_CHARS[h6 >> 4 & 0x0f] + HEX_CHARS[h6 & 0x0f];\n        if (!__classPrivateFieldGet(this, _is224)) {\n            hex += HEX_CHARS[h7 >> 28 & 0x0f] + HEX_CHARS[h7 >> 24 & 0x0f] + HEX_CHARS[h7 >> 20 & 0x0f] + HEX_CHARS[h7 >> 16 & 0x0f] + HEX_CHARS[h7 >> 12 & 0x0f] + HEX_CHARS[h7 >> 8 & 0x0f] + HEX_CHARS[h7 >> 4 & 0x0f] + HEX_CHARS[h7 & 0x0f];\n        }\n        return hex;\n    }\n    toString() {\n        return this.hex();\n    }\n    digest() {\n        this.finalize();\n        const h0 = __classPrivateFieldGet(this, _h0);\n        const h1 = __classPrivateFieldGet(this, _h1);\n        const h2 = __classPrivateFieldGet(this, _h2);\n        const h3 = __classPrivateFieldGet(this, _h3);\n        const h4 = __classPrivateFieldGet(this, _h4);\n        const h5 = __classPrivateFieldGet(this, _h5);\n        const h6 = __classPrivateFieldGet(this, _h6);\n        const h7 = __classPrivateFieldGet(this, _h7);\n        const arr = [\n            h0 >> 24 & 0xff,\n            h0 >> 16 & 0xff,\n            h0 >> 8 & 0xff,\n            h0 & 0xff,\n            h1 >> 24 & 0xff,\n            h1 >> 16 & 0xff,\n            h1 >> 8 & 0xff,\n            h1 & 0xff,\n            h2 >> 24 & 0xff,\n            h2 >> 16 & 0xff,\n            h2 >> 8 & 0xff,\n            h2 & 0xff,\n            h3 >> 24 & 0xff,\n            h3 >> 16 & 0xff,\n            h3 >> 8 & 0xff,\n            h3 & 0xff,\n            h4 >> 24 & 0xff,\n            h4 >> 16 & 0xff,\n            h4 >> 8 & 0xff,\n            h4 & 0xff,\n            h5 >> 24 & 0xff,\n            h5 >> 16 & 0xff,\n            h5 >> 8 & 0xff,\n            h5 & 0xff,\n            h6 >> 24 & 0xff,\n            h6 >> 16 & 0xff,\n            h6 >> 8 & 0xff,\n            h6 & 0xff\n        ];\n        if (!__classPrivateFieldGet(this, _is224)) {\n            arr.push(h7 >> 24 & 0xff, h7 >> 16 & 0xff, h7 >> 8 & 0xff, h7 & 0xff);\n        }\n        return arr;\n    }\n    array() {\n        return this.digest();\n    }\n    arrayBuffer() {\n        this.finalize();\n        const buffer = new ArrayBuffer(__classPrivateFieldGet(this, _is224) ? 28 : 32);\n        const dataView = new DataView(buffer);\n        dataView.setUint32(0, __classPrivateFieldGet(this, _h0));\n        dataView.setUint32(4, __classPrivateFieldGet(this, _h1));\n        dataView.setUint32(8, __classPrivateFieldGet(this, _h2));\n        dataView.setUint32(12, __classPrivateFieldGet(this, _h3));\n        dataView.setUint32(16, __classPrivateFieldGet(this, _h4));\n        dataView.setUint32(20, __classPrivateFieldGet(this, _h5));\n        dataView.setUint32(24, __classPrivateFieldGet(this, _h6));\n        if (!__classPrivateFieldGet(this, _is224)) {\n            dataView.setUint32(28, __classPrivateFieldGet(this, _h7));\n        }\n        return buffer;\n    }\n}\n_block = new WeakMap(), _blocks = new WeakMap(), _bytes = new WeakMap(), _finalized = new WeakMap(), _first = new WeakMap(), _h0 = new WeakMap(), _h1 = new WeakMap(), _h2 = new WeakMap(), _h3 = new WeakMap(), _h4 = new WeakMap(), _h5 = new WeakMap(), _h6 = new WeakMap(), _h7 = new WeakMap(), _hashed = new WeakMap(), _hBytes = new WeakMap(), _is224 = new WeakMap(), _lastByteIndex = new WeakMap(), _start = new WeakMap();\nfunction Sha256ToInt(s) {\n    const sha256 = new Sha256();\n    sha256.update(s);\n    return parseInt(sha256.hex().substring(0, 8), 16);\n}\nconst RGB2HEX = function (RGBArray) {\n    var hex = '#';\n    RGBArray.forEach(function (value) {\n        if (value < 16) {\n            hex += 0;\n        }\n        hex += value.toString(16);\n    });\n    return hex;\n};\nconst HSL2RGB = function (H, S, L) {\n    H /= 360;\n    var q = L < 0.5 ? L * (1 + S) : L + S - L * S;\n    var p = 2 * L - q;\n    return [\n        H + 1 / 3,\n        H,\n        H - 1 / 3\n    ].map(function (color) {\n        if (color < 0) {\n            color++;\n        }\n        if (color > 1) {\n            color--;\n        }\n        if (color < 1 / 6) {\n            color = p + (q - p) * 6 * color;\n        }\n        else if (color < 0.5) {\n            color = q;\n        }\n        else if (color < 2 / 3) {\n            color = p + (q - p) * 6 * (2 / 3 - color);\n        }\n        else {\n            color = p;\n        }\n        return Math.round(color * 255);\n    });\n};\nclass ColorHash {\n    constructor(options = {}) {\n        const [L, S] = [\n            options.lightness,\n            options.saturation\n        ].map(function (param) {\n            param = param !== undefined ? param : [\n                0.35,\n                0.5,\n                0.65\n            ];\n            return Array.isArray(param) ? param.concat() : [\n                param\n            ];\n        });\n        this.L = L;\n        this.S = S;\n        if (typeof options.hue === 'number') {\n            options.hue = {\n                min: options.hue,\n                max: options.hue\n            };\n        }\n        if (typeof options.hue === 'object' && !Array.isArray(options.hue)) {\n            options.hue = [\n                options.hue\n            ];\n        }\n        if (typeof options.hue === 'undefined') {\n            options.hue = [];\n        }\n        this.hueRanges = options.hue.map(function (range) {\n            return {\n                min: typeof range.min === 'undefined' ? 0 : range.min,\n                max: typeof range.max === 'undefined' ? 360 : range.max\n            };\n        });\n        this.hash = Sha256ToInt;\n        if (typeof options.hash === 'function') {\n            this.hash = options.hash;\n        }\n        if (options.hash === 'bkdr') {\n            this.hash = BKDRHash;\n        }\n    }\n    hsl(str) {\n        var H, S, L;\n        var hash = this.hash(str);\n        var hueResolution = 727;\n        if (this.hueRanges.length) {\n            const range = this.hueRanges[hash % this.hueRanges.length];\n            H = hash / this.hueRanges.length % hueResolution * (range.max - range.min) / hueResolution + range.min;\n        }\n        else {\n            H = hash % 359;\n        }\n        hash = Math.ceil(hash / 360);\n        S = this.S[hash % this.S.length];\n        hash = Math.ceil(hash / this.S.length);\n        L = this.L[hash % this.L.length];\n        return [\n            H,\n            S,\n            L\n        ];\n    }\n    rgb(str) {\n        var hsl = this.hsl(str);\n        return HSL2RGB.apply(this, hsl);\n    }\n    hex(str) {\n        var rgb = this.rgb(str);\n        return RGB2HEX(rgb);\n    }\n}\nexport { ColorHash as default };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tMaterial,\n\tMesh,\n\tMeshPhongMaterial,\n\tPoints,\n\tPointsMaterial,\n\tVector3,\n\tColor,\n\tSRGBColorSpace\n} from 'three/webgpu';\n\n// o object_name | g group_name\nconst _object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nconst _material_library_pattern = /^mtllib /;\n// usemtl material_name\nconst _material_use_pattern = /^usemtl /;\n// usemap map_name\nconst _map_use_pattern = /^usemap /;\nconst _face_vertex_data_separator_pattern = /\\s+/;\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _ab = new Vector3();\nconst _cb = new Vector3();\n\nconst _color = new Color();\n\nfunction ParserState() {\n\n\tconst state = {\n\t\tobjects: [],\n\t\tobject: {},\n\n\t\tvertices: [],\n\t\tnormals: [],\n\t\tcolors: [],\n\t\tuvs: [],\n\n\t\tmaterials: {},\n\t\tmaterialLibraries: [],\n\n\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\tthis.object.name = name;\n\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t\tthis.object = {\n\t\t\t\tname: name || '',\n\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\tgeometry: {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\tuvs: [],\n\t\t\t\t\thasUVIndices: false\n\t\t\t\t},\n\t\t\t\tmaterials: [],\n\t\t\t\tsmooth: true,\n\n\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\tconst previous = this._finalize( false );\n\n\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst material = {\n\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\tconst cloned = {\n\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\treturn material;\n\n\t\t\t\t},\n\n\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t},\n\n\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Inherit previous objects material.\n\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\tconst declared = previousMaterial.clone( 0 );\n\t\t\t\tdeclared.inherited = true;\n\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t}\n\n\t\t\tthis.objects.push( this.object );\n\n\t\t},\n\n\t\tfinalize: function () {\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t},\n\n\t\taddVertex: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddVertexPoint: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddVertexLine: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.normals;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\t_vA.fromArray( src, a );\n\t\t\t_vB.fromArray( src, b );\n\t\t\t_vC.fromArray( src, c );\n\n\t\t\t_cb.subVectors( _vC, _vB );\n\t\t\t_ab.subVectors( _vA, _vB );\n\t\t\t_cb.cross( _ab );\n\n\t\t\t_cb.normalize();\n\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\n\t\t},\n\n\t\taddColor: function ( a, b, c ) {\n\n\t\t\tconst src = this.colors;\n\t\t\tconst dst = this.object.geometry.colors;\n\n\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddUV: function ( a, b, c ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t},\n\n\t\taddDefaultUV: function () {\n\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\n\t\t},\n\n\t\taddUVLine: function ( a ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t},\n\n\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tlet ia = this.parseVertexIndex( a, vLen );\n\t\t\tlet ib = this.parseVertexIndex( b, vLen );\n\t\t\tlet ic = this.parseVertexIndex( c, vLen );\n\n\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t// normals\n\n\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\tconst nLen = this.normals.length;\n\n\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t} else {\n\n\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t} else {\n\n\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\tthis.addDefaultUV();\n\n\t\t\t}\n\n\t\t},\n\n\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );\n\n\t\t\t\tthis.addVertexPoint( index );\n\t\t\t\tthis.addColor( index );\n\n\t\t\t}\n\n\t\t},\n\n\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\tconst vLen = this.vertices.length;\n\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t}\n\n\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tstate.startObject( '', false );\n\n\treturn state;\n\n}\n\n//\n\nclass OBJLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterials( materials ) {\n\n\t\tthis.materials = materials;\n\n\t\treturn this;\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst state = new ParserState();\n\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t}\n\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t}\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet result = [];\n\n\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\tconst line = lines[ i ].trimStart();\n\n\t\t\tif ( line.length === 0 ) continue;\n\n\t\t\tconst lineFirstChar = line.charAt( 0 );\n\n\t\t\t// @todo invoke passed in handler if any\n\t\t\tif ( lineFirstChar === '#' ) continue; // skip comments\n\n\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\tconst data = line.split( _face_vertex_data_separator_pattern );\n\n\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\t_color.setRGB(\n\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] ),\n\t\t\t\t\t\t\t\tSRGBColorSpace\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tstate.colors.push( _color.r, _color.g, _color.b );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst vertexData = lineData.split( _face_vertex_data_separator_pattern );\n\t\t\t\tconst faceVertices = [];\n\n\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst vertex = vertexData[ j ];\n\n\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );\n\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\tconst v1 = faceVertices[ 0 ];\n\n\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\tconst v2 = faceVertices[ j ];\n\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );\n\t\t\t\tlet lineVertices = [];\n\t\t\t\tconst lineUVs = [];\n\n\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {\n\n\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );\n\n\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst pointData = lineData.split( ' ' );\n\n\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t// o object_name\n\t\t\t\t// or\n\t\t\t\t// g group_name\n\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t// let name = result[ 0 ].slice( 1 ).trim();\n\t\t\t\tconst name = ( ' ' + result[ 0 ].slice( 1 ).trim() ).slice( 1 );\n\n\t\t\t\tstate.startObject( name );\n\n\t\t\t} else if ( _material_use_pattern.test( line ) ) {\n\n\t\t\t\t// material\n\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t} else if ( _material_library_pattern.test( line ) ) {\n\n\t\t\t\t// mtl file\n\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t} else if ( _map_use_pattern.test( line ) ) {\n\n\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t// smooth shading\n\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst material = state.object.currentMaterial();\n\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t} else {\n\n\t\t\t\t// Handle null terminated files without exception\n\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.finalize();\n\n\t\tconst container = new Group();\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );\n\n\t\tif ( hasPrimitives === true ) {\n\n\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tconst object = state.objects[ i ];\n\t\t\t\tconst geometry = object.geometry;\n\t\t\t\tconst materials = object.materials;\n\t\t\t\tconst isLine = ( geometry.type === 'Line' );\n\t\t\t\tconst isPoints = ( geometry.type === 'Points' );\n\t\t\t\tlet hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tconst createdMaterials = [];\n\n\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tlet material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\n\n\t\t\tif ( state.vertices.length > 0 ) {\n\n\t\t\t\tconst material = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( state.vertices, 3 ) );\n\n\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( state.colors, 3 ) );\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst points = new Points( buffergeometry, material );\n\t\t\t\tcontainer.add( points );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n}\n\nexport { OBJLoader };\n","export default \"__VITE_ASSET__b01b0ac5__\"","export default \"__VITE_ASSET__3d29665f__\"","function t(t,n,u){return{r:255*u(t.r/255,n.r/255),g:255*u(t.g/255,n.g/255),b:255*u(t.b/255,n.b/255)}}function n(t,n){return n}function u(t,n){return t*n}function r(t,n){return t+n-t*n}function i(t,n){return a(n,t)}function o(t,n){return Math.min(t,n)}function e(t,n){return Math.min(Math.max(t,n),1)}function p(t,n){return 0===t?0:1===n?1:Math.min(1,t/(1-n))}function c(t,n){return 1===t?1:0===n?0:1-Math.min(1,(1-t)/n)}function a(t,n){return n<=.5?u(t,2*n):r(t,2*n-1)}function f(t,n){return n<=.5?t-(1-2*n)*t*(1-t):t+(2*n-1)*((t<=.25?((16*t-12)*t+4)*t:Math.sqrt(t))-t)}function g(t,n){return Math.abs(t-n)}function b(t,n){return t+n-2*t*n}function s(t,n,u){return Math.min(Math.max(t||0,n),u)}function h(t){return{r:s(t.r,0,255),g:s(t.g,0,255),b:s(t.b,0,255),a:s(t.a,0,1)}}function x(t){return{r:255*t.r,g:255*t.g,b:255*t.b,a:t.a}}function O(t){return{r:t.r/255,g:t.g/255,b:t.b/255,a:t.a}}function I(t,n){void 0===n&&(n=0);var u=Math.pow(10,n);return{r:Math.round(t.r*u)/u,g:Math.round(t.g*u)/u,b:Math.round(t.b*u)/u,a:t.a}}function M(t,n,u,r,i,o){return(1-n/u)*r+n/u*Math.round((1-t)*i+t*o)}function m(t,n,u,r,i){void 0===i&&(i={unitInput:!1,unitOutput:!1,roundOutput:!0}),i.unitInput&&(t=x(t),n=x(n)),t=h(t);var o=(n=h(n)).a+t.a-n.a*t.a,e=u(t,n,r),p=h({r:M(t.a,n.a,o,t.r,n.r,e.r),g:M(t.a,n.a,o,t.g,n.g,e.g),b:M(t.a,n.a,o,t.b,n.b,e.b),a:o});return i.unitOutput?O(p):i.roundOutput?I(p):I(p,9)}function d(t,n,u){return x(u(O(t),O(n)))}function l(t){return.3*t.r+.59*t.g+.11*t.b}function v(t,n){var u=n-l(t);return function(t){var n=l(t),u=t.r,r=t.g,i=t.b,o=Math.min(u,r,i),e=Math.max(u,r,i);function p(t){return n+(t-n)*n/(n-o)}function c(t){return n+(t-n)*(1-n)/(e-n)}return o<0&&(u=p(u),r=p(r),i=p(i)),e>1&&(u=c(u),r=c(r),i=c(i)),{r:u,g:r,b:i}}({r:t.r+u,g:t.g+u,b:t.b+u})}function y(t){return Math.max(t.r,t.g,t.b)-Math.min(t.r,t.g,t.b)}function L(t,n){var u=[\"r\",\"g\",\"b\"].sort(function(n,u){return t[n]-t[u]}),r=u[0],i=u[1],o=u[2],e={r:t.r,g:t.g,b:t.b};return e[o]>e[r]?(e[i]=(e[i]-e[r])*n/(e[o]-e[r]),e[o]=n):e[i]=e[o]=0,e[r]=0,e}function k(t,n){return v(L(n,y(t)),l(t))}function q(t,n){return v(L(t,y(n)),l(t))}function w(t,n){return v(n,l(t))}function B(t,n){return v(t,l(n))}exports.color=function(t,n){return m(t,n,d,w,{unitInput:!0,unitOutput:!0})},exports.colorBurn=function(n,u){return m(n,u,t,c,{unitInput:!0,unitOutput:!0})},exports.colorDodge=function(n,u){return m(n,u,t,p,{unitInput:!0,unitOutput:!0})},exports.darken=function(n,u){return m(n,u,t,o,{unitInput:!0,unitOutput:!0})},exports.difference=function(n,u){return m(n,u,t,g,{unitInput:!0,unitOutput:!0})},exports.exclusion=function(n,u){return m(n,u,t,b,{unitInput:!0,unitOutput:!0})},exports.hardLight=function(n,u){return m(n,u,t,a,{unitInput:!0,unitOutput:!0})},exports.hue=function(t,n){return m(t,n,d,k,{unitInput:!0,unitOutput:!0})},exports.lighten=function(n,u){return m(n,u,t,e,{unitInput:!0,unitOutput:!0})},exports.luminosity=function(t,n){return m(t,n,d,B,{unitInput:!0,unitOutput:!0})},exports.multiply=function(n,r){return m(n,r,t,u,{unitInput:!0,unitOutput:!0})},exports.normal=function(u,r){return m(u,r,t,n,{unitInput:!0,unitOutput:!0})},exports.overlay=function(n,u){return m(n,u,t,i,{unitInput:!0,unitOutput:!0})},exports.saturation=function(t,n){return m(t,n,d,q,{unitInput:!0,unitOutput:!0})},exports.screen=function(n,u){return m(n,u,t,r,{unitInput:!0,unitOutput:!0})},exports.softLight=function(n,u){return m(n,u,t,f,{unitInput:!0,unitOutput:!0})};\n//# sourceMappingURL=index.js.map\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","export default function(e,f){var a={white:\"#ffffff\",bisque:\"#ffe4c4\",blue:\"#0000ff\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",azure:\"#f0ffff\",whitesmoke:\"#f5f5f5\",papayawhip:\"#ffefd5\",plum:\"#dda0dd\",blanchedalmond:\"#ffebcd\",black:\"#000000\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",cornsilk:\"#fff8dc\",cornflowerblue:\"#6495ed\",burlywood:\"#deb887\",aquamarine:\"#7fffd4\",beige:\"#f5f5dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkkhaki:\"#bdb76b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",peachpuff:\"#ffdab9\",darkmagenta:\"#8b008b\",darkred:\"#8b0000\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkslateblue:\"#483d8b\",gray:\"#808080\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",wheat:\"#f5deb3\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",ghostwhite:\"#f8f8ff\",darkviolet:\"#9400d3\",magenta:\"#ff00ff\",green:\"#008000\",dodgerblue:\"#1e90ff\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",blueviolet:\"#8a2be2\",forestgreen:\"#228b22\",lawngreen:\"#7cfc00\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",fuchsia:\"#ff00ff\",brown:\"#a52a2a\",maroon:\"#800000\",mediumblue:\"#0000cd\",lightcoral:\"#f08080\",darkturquoise:\"#00ced1\",lightcyan:\"#e0ffff\",ivory:\"#fffff0\",lightyellow:\"#ffffe0\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",linen:\"#faf0e6\",mediumaquamarine:\"#66cdaa\",lemonchiffon:\"#fffacd\",lime:\"#00ff00\",khaki:\"#f0e68c\",mediumseagreen:\"#3cb371\",limegreen:\"#32cd32\",mediumspringgreen:\"#00fa9a\",lightskyblue:\"#87cefa\",lightblue:\"#add8e6\",midnightblue:\"#191970\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",mintcream:\"#f5fffa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",navajowhite:\"#ffdead\",navy:\"#000080\",mediumvioletred:\"#c71585\",powderblue:\"#b0e0e6\",palegoldenrod:\"#eee8aa\",oldlace:\"#fdf5e6\",paleturquoise:\"#afeeee\",mediumturquoise:\"#48d1cc\",mediumorchid:\"#ba55d3\",rebeccapurple:\"#663399\",lightsteelblue:\"#b0c4de\",mediumslateblue:\"#7b68ee\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",orchid:\"#da70d6\",mediumpurple:\"#9370db\",purple:\"#800080\",pink:\"#ffc0cb\",skyblue:\"#87ceeb\",springgreen:\"#00ff7f\",palegreen:\"#98fb98\",red:\"#ff0000\",yellow:\"#ffff00\",slateblue:\"#6a5acd\",lavenderblush:\"#fff0f5\",peru:\"#cd853f\",palevioletred:\"#db7093\",violet:\"#ee82ee\",teal:\"#008080\",slategray:\"#708090\",slategrey:\"#708090\",aliceblue:\"#f0f8ff\",darkseagreen:\"#8fbc8f\",darkolivegreen:\"#556b2f\",greenyellow:\"#adff2f\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",tomato:\"#ff6347\",silver:\"#c0c0c0\",sienna:\"#a0522d\",lavender:\"#e6e6fa\",lightgreen:\"#90ee90\",orange:\"#ffa500\",orangered:\"#ff4500\",steelblue:\"#4682b4\",royalblue:\"#4169e1\",turquoise:\"#40e0d0\",yellowgreen:\"#9acd32\",salmon:\"#fa8072\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",darksalmon:\"#e9967a\",lightgoldenrodyellow:\"#fafad2\",snow:\"#fffafa\",lightgrey:\"#d3d3d3\",lightgray:\"#d3d3d3\",dimgray:\"#696969\",dimgrey:\"#696969\",olivedrab:\"#6b8e23\",olive:\"#808000\"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return\"transparent\";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b=\"black\";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g)}return b}};f.string.push([function(f){var r=f.toLowerCase(),d=\"transparent\"===r?\"#0000\":a[r];return d?new e(d).toRgb():null},\"name\"])}\n","import moize from \"moize\";\nimport {\n  getColorBuffers,\n  getEmphasisBuffers,\n  getRadiusBuffers,\n} from \"./gpu/animation\";\nimport {\n  getGraphData,\n  getNodePosition,\n  graphBuffers,\n  graphDBPrepared,\n} from \"./data\";\nimport { identity, debounce } from \"lodash-es\";\nimport { html, render } from \"lit-html\";\nimport {\n  directUpstreamQuery,\n  directDownstreamQuery,\n  downstreamDependentsDependenciesQuery,\n  upstreamDependentsDependenciesQuery,\n} from \"./query-helpers\";\nimport { proxy } from \"comlink\";\nimport {\n  setCameraCenter,\n  setCameraDistance,\n  startCameraAnimation,\n} from \"./interaction\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nimport { hue, normal } from \"color-blend/unit\";\n\nconst defaultColorMap = ({ color }) => color;\nexport const getDefaultColors = (graphData, fn = identity) => {\n  const { nodes, links } = graphData;\n  return new Float32Array(nodes.map(defaultColorMap).flatMap(fn));\n};\n\nconst defaultSizeMap = ({ size }) => size;\nexport const getDefaultSizes = (graphData, fn = identity) => {\n  const { nodes, links } = graphData;\n  return new Float32Array(nodes.map(defaultSizeMap).map(fn));\n};\n\nexport const applyVisuals = async (\n  ctx,\n  { colorMap = identity, sizeMap = identity, immediate = false } = {},\n) => {\n  // immediate = !hasEnoughFramebufferAttachments(ctx) || immediate;\n  // const colors = getColorBuffers();\n  // const sizes = getRadiusBuffers();\n  // const emphasis = getEmphasisBuffers();\n  const graphData = await getGraphData(ctx);\n  const colorData = await getDefaultColors(await getGraphData(ctx), colorMap);\n  const sizeData = await getDefaultSizes(await getGraphData(ctx), sizeMap);\n\n  const buffers = graphBuffers(ctx);\n\n  buffers.setNodeProperties(\"colorTarget\", \"vec4\", colorData);\n  buffers.setNodeProperties(\"sizeTarget\", \"float\", sizeData);\n  buffers.setNodeProperties(\n    \"emphasisTarget\",\n    \"float\",\n    new Float32Array(sizeData.length).fill(0),\n  );\n\n  if (immediate) {\n    buffers.setNodeProperties(\"colorInitial\", \"vec4\", colorData);\n    buffers.setNodeProperties(\"sizeInitial\", \"float\", sizeData);\n    buffers.setNodeProperties(\n      \"emphasisInitial\",\n      \"float\",\n      new Float32Array(sizeData.length).fill(0),\n    );\n  }\n};\n\nexport const applyVisualsToNode = async (\n  ctx,\n  node,\n\n  {\n    colorMap = identity,\n    sizeMap = identity,\n    emphasis = 0,\n    immediate = false,\n  } = {},\n) => {\n  // immediate = !hasEnoughFramebufferAttachments(ctx) || immediate;\n\n  const color = colorMap(defaultColorMap(node));\n  const size = sizeMap(defaultSizeMap(node));\n\n  const buffers = graphBuffers(ctx);\n\n  buffers.setNodeProperty(\"colorTarget\", node.index, color);\n  buffers.setNodeProperty(\"sizeTarget\", node.index, size);\n  buffers.setNodeProperty(\"emphasisTarget\", node.index, emphasis);\n\n  if (immediate) {\n    buffers.setNodeProperty(\"colorInitial\", node.index, color);\n    buffers.setNodeProperty(\"sizeInitial\", node.index, size);\n    buffers.setNodeProperty(\"emphasisInitial\", node.index, emphasis);\n  }\n};\n\nexport const initializationVisualMaps = {\n  colorMap: (color) => {\n    const mean = color.slice(0, 3).reduce((a, b) => a + b, 0) / 3;\n    return [...color.slice(0, 3).map((x) => mean), 0.5];\n  },\n  sizeMap: (size) => size,\n};\n\nexport const initializeSelectionVisuals = async (ctx, immediate = false) => {\n  // console.debug('initializeSelectionVisuals')\n  try {\n    await applyVisuals(ctx, {\n      ...initializationVisualMaps,\n      immediate,\n    });\n  } catch (e) {\n    console.error(e);\n  }\n  // await applyVisuals({\n  //   ...initializationVisualMaps,\n  //   immediate\n  // });\n};\n\nconst onImgErrorHandler = \"this.parentNode.style.display='none'\";\nconst onImgSuccessHandler = \"this.parentNode.style.display='initial'\";\n// const onImgErrorHandler = (e) => {}\n\nexport const selectNodeAndDownstreamDependents = async (\n  ctx,\n  node,\n  zoom = true,\n) => {\n  // @ts-ignore\n  await graphDBPrepared(ctx).get();\n  if (node) {\n    setSelectedIndex(ctx, node.index);\n    const nodePosition = getNodePosition(ctx, node);\n    // const downstreamQuery = downstreamDependentsDependenciesQuery(node.project);\n    // const upstreamQuery = upstreamDependentsDependenciesQuery(node.project);\n    const downstreamQuery = directDownstreamQuery(node.id);\n    const upstreamQuery = directUpstreamQuery(node.id);\n    // console.debug(\"selected node:\", node);\n    const { nodesById, links } = await getGraphData(ctx);\n    const resultHandler =\n      ({ sizeMap = identity, emphasis = 1, colorMap = identity }) =>\n      (data, get) => {\n        // if (node !== selectedNode) return;\n        get([\"upstream\", \"downstream\"]).then(({ upstream, downstream }) => {\n          // console.debug(\"query result:\", upstream, downstream);\n          const nodeId = upstream?.value || downstream?.value;\n          const node = nodesById[nodeId];\n          applyVisualsToNode(ctx, node, {\n            sizeMap,\n            emphasis,\n            colorMap,\n          });\n        });\n      };\n    // initializeSelectionVisuals(ctx).then(() => {\n    initializeSelectionVisuals(ctx).then(() => {\n      graphDb(ctx).doQuery(\n        downstreamQuery,\n        proxy(\n          resultHandler({\n            // sizeMap: (size) => size * 1.25,\n            colorMap: (color) => {\n              const c = { r: color[0], g: color[1], b: color[2], a: color[3] };\n              const green = { r: 57 / 255, g: 179 / 255, b: 83 / 255, a: 0.8 };\n              const result = hue(c, green);\n              return [result.r, result.g, result.b, result.a];\n            },\n          }),\n        ),\n        // proxy(() => {console.debug('downstream query done')})\n      );\n      applyVisualsToNode(ctx, node, {\n        sizeMap: (size) => size * 1.5,\n        emphasis: 1,\n      });\n      graphDb(ctx).doQuery(\n        upstreamQuery,\n        proxy(\n          resultHandler({\n            // sizeMap: (size) => size * 1,\n            colorMap: (color) => {\n              const c = { r: color[0], g: color[1], b: color[2], a: color[3] };\n              const blue = { r: 0, g: 102 / 255, b: 209 / 255, a: 0.8 };\n              const result = hue(c, blue);\n              return [result.r, result.g, result.b, result.a];\n            },\n          }),\n        ),\n      );\n    });\n  } else {\n    applyVisuals(ctx);\n    setSelectedIndex(ctx, -1);\n  }\n};\n\nexport const doFocus = async (ctx) => {\n  const graphData = await getGraphData(ctx);\n  const { nodesByNavId } = graphData;\n  const component = getComponent(ctx);\n  const focused = component.focus;\n  const node = nodesByNavId[focused];\n  if (node) {\n    const nodePosition = getNodePosition(ctx, node);\n    setCameraCenter(ctx, nodePosition, false);\n  } else {\n    // setCameraDistance(ctx, deselectedZoom || 1500);\n  }\n};\n\nexport const startFocus = async (ctx) => {\n  const graphData = await getGraphData(ctx);\n  const { nodesByNavId } = graphData;\n  const component = getComponent(ctx);\n  const focused = component.focus;\n  const node = nodesByNavId[focused];\n  if (node) {\n    const nodePosition = getNodePosition(ctx, node);\n    setCameraCenter(ctx, nodePosition);\n    setCameraDistance(ctx, component.focusedZoom || 500);\n  } else {\n    setCameraDistance(ctx, component.unfocusedZoom || 1500);\n  }\n};\n\nexport const selectNothingAndZoomOut = (ctx) => {\n  selectNodeAndDownstreamDependents(ctx, null);\n};\n\nwindow.initializeSelectionVisuals = initializeSelectionVisuals;\n\nexport const getSelectedIndex = (ctx) => {\n  return state(ctx, \"selectedIndex\", () => -1).get();\n};\nexport const setSelectedIndex = (ctx, index) => {\n  state(ctx, \"selectedIndex\").set(index);\n};\n\nexport const getSelectedNode = async (ctx) => {\n  const index = getSelectedIndex(ctx);\n  const { nodes } = await getGraphData(ctx);\n  return nodes[index];\n};\n\nimport { colord, extend } from \"colord\";\nimport namesPlugin from \"colord/plugins/names\";\nimport {\n  // getColorLayers,\n  // getEmphasisLayers,\n  // getSizeLayers,\n  hasEnoughFramebufferAttachments,\n} from \"./gpu/interpolation\";\nimport { getCanvasAndGLContext } from \"./gpu/rendering\";\nimport { graphBufferState, state } from \"./state\";\nimport { getComponent } from \"./context\";\nimport { graphDb } from \"./get-workers\";\nimport { Vector4 } from \"three\";\nimport { startPanning } from \"./camera-animation\";\n\nextend([namesPlugin]);\n\nlet initSelectedColor = () => colord(\"deeppink\").toRgb();\nexport const setSelectedColor = (ctx, color) => {\n  state(ctx, \"selectedColor\").set(colord(color).toRgb());\n};\n\nexport const getSelectedColor = (ctx) => {\n  // get the link color from the document style :root `--selected-color` variable\n  // const host = document.documentElement.shadowRoot?.host!;\n\n  // const color = colord(getComputedStyle(host).getPropertyValue('--selected-color')).toRgb();\n  // console.debug('selected color:', color)\n  const color = state(ctx, \"selectedColor\", initSelectedColor).get();\n  // console.debug(\"setting selected color to\", color);\n  return [color.r / 255.0, color.g / 255.0, color.b / 255.0, 1.0];\n};\n","import GUI from \"lil-gui\";\nimport { state } from \"./state\";\nimport { getComponent } from \"./context\";\nimport moize from \"moize\";\n\nexport const defaultProperties = {\n  globalScale: 1.0,\n  nodeScale: 1.0,\n  edgeFog: 1.0,\n  nodeFog: 1.0,\n  edgeScale: 1.0,\n  edgeOvershoot: 1.25,\n  edgeFrequency: 2.0,\n  edgePulseSpeed: 1.0,\n  edgeWaveSpeed: 1.0,\n  focus: -1,\n  selected: -1,\n  defaultFogVisibility: 0.3,\n  defaultFogBoundaryClipZ: 700.0,\n  focusedZoom: 100,\n  unfocusedZoom: 500,\n  zoomBoundary: 200,\n};\n\nexport const getPropertyKeys = (ctx) =>\n  Object.keys(getComponent(ctx).constructor.properties);\n\nexport const getProperties = moize.infinite((ctx) => {\n  const component = getComponent(ctx);\n  return Object.fromEntries(\n    getPropertyKeys(ctx).map((key) => [key, component[key]]),\n  );\n});\n\nconst getGui = (ctx) =>\n  state(ctx, \"gui\", () => {\n    const controls = document.createElement(\"div\")!;\n    const gui = new GUI({ container: controls, title: \"Webscape Wanderer\" });\n    const nodes = gui.addFolder(\"Nodes\");\n    const edges = gui.addFolder(\"Edges\");\n\n    const attrs = getProperties(ctx);\n    gui.add(attrs, \"globalScale\", 0.1, 10.0, 0.1);\n    gui.add(attrs, \"defaultFogVisibility\", 0.0, 1.0, 0.1);\n    gui.add(attrs, \"defaultFogBoundaryClipZ\", 0.0, 1000.0, 10.0);\n\n    nodes.add(attrs, \"nodeScale\", 0.1, 10.0, 0.1);\n    edges.add(attrs, \"edgeFog\", 0.0, 1.0, 0.1);\n    nodes.add(attrs, \"nodeFog\", 0.0, 1.0, 0.1);\n    edges.add(attrs, \"edgeScale\", 0.1, 10.0, 0.1);\n    edges.add(attrs, \"edgeOvershoot\", 0.1, 2.0, 0.1);\n    edges.add(attrs, \"edgeFrequency\", 0.1, 2.0, 0.1);\n    edges.add(attrs, \"edgePulseSpeed\", 0.1, 20.0, 0.1);\n    edges.add(attrs, \"edgeWaveSpeed\", 0.1, 100.0, 0.1);\n    return gui;\n  });\n\nexport default getGui;\n","import { uniform, Vector4 } from \"three/webgpu\";\n\nimport {\n  getCurrentlyHoveringIndex,\n  getPointerPositionClip,\n} from \"../interaction\";\nimport { getSelectedColor, getSelectedIndex } from \"../selection\";\nimport moize from \"moize\";\nimport { getProperties } from \"../attributes\";\nimport { getThreeSetup } from \"./graph-viz\";\nimport { Vector2 } from \"three/webgpu\";\nimport { getComponent } from \"../context\";\n\nexport const getUniforms = moize.infinite((ctx) => {\n  const uniforms = {\n    mousePosition: uniform(new Vector2(...getPointerPositionClip(ctx))),\n    selectedIndex: uniform(-1),\n    selectedColor: uniform(new Vector4(...getSelectedColor(ctx))),\n    hoveringIndex: uniform(getCurrentlyHoveringIndex(ctx)),\n    viewport: uniform(new Vector2(0, 0)),\n    devicePixelRatio: uniform(window.devicePixelRatio),\n    time: uniform(performance.now() / 1000),\n  };\n\n  const attrs = getProperties(ctx);\n\n  Object.entries(attrs).forEach(([key, value]) => {\n    uniforms[key] = uniform(value);\n  });\n  console.debug(\"initialized uniforms\", uniforms);\n  return uniforms;\n});\n\nconst viewport = new Vector2();\nexport const updateUniforms = (ctx) => {\n  const { renderer } = getThreeSetup(ctx);\n  renderer.getSize(viewport);\n  let uniforms = getUniforms(ctx);\n  // uniforms.nodeDepthTexture.value = getNodeDepthRenderTarget(ctx).depthTexture;\n  uniforms.mousePosition.value = new Vector2(...getPointerPositionClip(ctx));\n  uniforms.selectedIndex.value = getSelectedIndex(ctx);\n  uniforms.selectedColor.value = new Vector4(...getSelectedColor(ctx));\n  uniforms.hoveringIndex.value = getCurrentlyHoveringIndex(ctx);\n  uniforms.time.value = performance.now() / 1000;\n  uniforms.viewport.value = viewport.toArray();\n\n  const attrs = getProperties(ctx);\n  Object.entries(attrs).forEach(([key, value]) => {\n    uniforms[key].value = value;\n  });\n};\n","import { clamp, pow, exp, Fn, oneMinus } from \"three/webgpu\";\n\nexport const bump = (x, q, w) => {\n  const clamped_x = clamp(x.div(w), -0.5, 0.5);\n  const inner = oneMinus(pow(oneMinus(pow(clamped_x.mul(2), 2)), -1));\n  const y = pow(exp(inner), q);\n  return y;\n};\n","import {\n  Fn,\n  mat4,\n  vec3,\n  vec4,\n  mix,\n  float,\n  ShaderNodeObject,\n  Vector3,\n  Vector3Like,\n  Vector4Like,\n  Vector4,\n  Node,\n  positionGeometry,\n  smoothstep,\n  uniform,\n} from \"three/webgpu\";\n\nimport moize from \"moize\";\nimport { getCamerasUniforms } from \"../gpu/camera\";\nimport { getUniforms } from \"../gpu/uniforms\";\nimport { bump } from \"./bump.tsl\";\n// import { getNodeVisualizerUniforms } from \"../gpu/graph-viz\";\n\nexport const scaleAdjustment = float(0.15);\n/**\n * Computes the geometry bundle for a node.\n *\n * @param nodePosition - The position of the node.\n * @param vertexPosition - The position of the vertex.\n * @param scale - The scaling factor.\n * @returns A NodeGeometryBundle containing various computed positions.\n */\nexport const graphNodeGeometryComputerFn = (ctx, { nodePosition, scale }) => {\n  const {\n    globalProjection,\n    globalView,\n    zoomedProjection,\n    zoomedView,\n    fixedProjection,\n    fixedView,\n    distance,\n    center,\n    rotationCenter,\n  } = getCamerasUniforms(ctx);\n\n  const { globalScale, nodeScale } = getUniforms(ctx);\n\n  // Compute global clip position and NDC\n  const globalClipPosition = globalProjection\n    .mul(globalView)\n    .mul(vec4(nodePosition, float(1.0)));\n  const globalNDC = globalClipPosition.xyz.div(globalClipPosition.w);\n\n  // Scaled vertex position\n  const scaledVertexPosition = positionGeometry\n    .mul(scale)\n    .mul(globalScale.value)\n    .mul(nodeScale.value);\n\n  // Compute ortho fixed clip position and NDC\n  const orthoFixedClipPosition = fixedProjection.mul(\n    fixedView.mul(vec4(scaledVertexPosition, float(1.0))),\n  );\n  const orthoFixedNDC = orthoFixedClipPosition.xyz.div(\n    orthoFixedClipPosition.w,\n  );\n\n  // Compute ortho zoomed clip position and NDC\n  const orthoZoomedClipPosition = zoomedProjection.mul(\n    zoomedView.mul(vec4(scaledVertexPosition, float(1.0))),\n  );\n  // .mul(float(0.5));\n  const orthoZoomedNDC = orthoZoomedClipPosition.xyz.div(\n    orthoZoomedClipPosition.w,\n  );\n\n  // Mix NDCs\n  const localNDC = mix(orthoZoomedNDC, orthoFixedNDC, float(0.5));\n\n  // Combine in NDC space to preserve depth\n  const orthographicNDC = vec3(\n    localNDC.x.add(globalNDC.x),\n    localNDC.y.add(globalNDC.y),\n    globalNDC.z.add(localNDC.z.sub(float(0.99)).mul(float(0.1))),\n  );\n\n  // Convert back to clip space\n  const orthographicClipPosition = vec4(\n    orthographicNDC.mul(globalClipPosition.w),\n    globalClipPosition.w,\n  );\n\n  return {\n    globalNDC,\n    globalClipPosition,\n    orthoFixedClipPosition,\n    orthoZoomedClipPosition,\n    orthographicClipPosition,\n  };\n};\n\nexport const computeFog = ({ positionClipZ, fogBoundaryClipZ, distance }) => {\n  const fogLevel = float(1.0).sub(\n    bump(positionClipZ, float(1.0), fogBoundaryClipZ),\n  );\n  return mix(\n    fogLevel,\n    float(0.0),\n    smoothstep(float(400.0), float(800.0), distance),\n  );\n};\n","import { mix, float } from \"three/webgpu\";\n\nexport const desaturate = /*@__PURE__*/ (color, amount) => {\n  const average = color.r.add(color.g).add(color.b).div(3.0);\n  return mix(color, average.toVec3(), amount);\n};\n\n// export default desaturate;\n","import {\n  vec4,\n  instanceIndex,\n  storage,\n  MeshBasicNodeMaterial,\n  vec3,\n  PointsNodeMaterial,\n  MeshStandardNodeMaterial,\n  positionLocal,\n  positionWorld,\n  positionGeometry,\n  normalGeometry,\n  normalLocal,\n  min,\n  mix,\n  max,\n  distance,\n  length,\n  oneMinus,\n  attribute,\n  MeshPhongNodeMaterial,\n  MeshMatcapNodeMaterial,\n  Fn,\n  float,\n  texture,\n  TextureLoader,\n} from \"three/webgpu\";\nimport matcapUrl from \"../../data/vibes-512px.png\";\nimport moize from \"moize\";\nimport { getCamerasUniforms } from \"../gpu/camera\";\nimport { getUniforms } from \"../gpu/uniforms\";\nimport {\n  computeFog,\n  graphNodeGeometryComputerFn,\n  scaleAdjustment,\n} from \"./graph-common.tsl\";\nimport { desaturate } from \"./desaturate.tsl\";\n// import { graphBufferState } from \"../state\";\nimport { graphBuffers } from \"../data\";\n\nconst instanceIdToColor = (instanceId) => {\n  const r = instanceId.add(1).bitAnd(0x0000ff).toFloat().div(255);\n  const g = instanceId.add(1).bitAnd(0x00ff00).shiftRight(8).toFloat().div(255);\n  const b = instanceId\n    .add(1)\n    .bitAnd(0xff0000)\n    .shiftRight(16)\n    .toFloat()\n    .div(255);\n\n  return vec4(r, g, b, 1.0);\n};\n\nexport const graphNodeMaterials = (ctx) => {\n  const id = instanceIndex;\n  // const id = attribute(\"index\");\n\n  const { fixedProjection, fixedView, distance } = getCamerasUniforms(ctx);\n  const { selectedIndex, selectedColor, defaultFogBoundaryClipZ, nodeFog } =\n    getUniforms(ctx);\n\n  const buffers = graphBuffers(ctx);\n\n  const positionsInitial = buffers.getNodeProperties(\"positionInitial\");\n  const positionsTarget = buffers.getNodeProperties(\"positionTarget\");\n  const positionCurrent = positionsInitial\n    .element(id)\n    .sub(positionsTarget.element(id).mul(0));\n\n  const colorsInitial = buffers.getNodeProperties(\"colorInitial\");\n  const colorsTarget = buffers.getNodeProperties(\"colorTarget\");\n  const colorCurrent = colorsInitial\n    .element(id)\n    .sub(colorsTarget.element(id).mul(0));\n\n  const sizesInitial = buffers.getNodeProperties(\"sizeInitial\");\n  const sizesTarget = buffers.getNodeProperties(\"sizeTarget\");\n  const sizeCurrent = sizesInitial\n    .element(id)\n    .sub(sizesTarget.element(id).mul(0));\n\n  const emphasesInitial = buffers.getNodeProperties(\"emphasisInitial\");\n  const emphasesTarget = buffers.getNodeProperties(\"emphasisTarget\");\n  const emphasisCurrent = emphasesInitial\n    .element(id)\n    .sub(emphasesTarget.element(id).mul(0));\n  const anythingSelected = selectedIndex.greaterThan(-1);\n\n  const emphasis = anythingSelected\n    .not()\n    .cond(oneMinus(emphasisCurrent), emphasisCurrent);\n\n  const colors = buffers.getNodeProperties(\"colorTarget\");\n\n  const isSelected = id.equal(selectedIndex);\n  const scale = sizeCurrent\n    .mul(scaleAdjustment)\n    .mul(mix(0.5, 1, emphasisCurrent));\n  const scalePicker = max(scale, 0.05);\n\n  const geo = graphNodeGeometryComputerFn(ctx, {\n    nodePosition: positionCurrent,\n    scale,\n    // scale: float(1),\n  });\n\n  const geoPicker = graphNodeGeometryComputerFn(ctx, {\n    nodePosition: positionCurrent,\n    scale: scalePicker,\n  });\n  let normal = fixedView.mul(fixedProjection).mul(normalLocal).normalize();\n\n  let color = colors.element(id);\n  const selectedNodePosition = positionsInitial.element(selectedIndex);\n  const selectedDistance = length(positionsInitial.element(id));\n\n  let fog = min(\n    computeFog({\n      positionClipZ: geo.globalClipPosition.z,\n      fogBoundaryClipZ: defaultFogBoundaryClipZ,\n      distance,\n    }),\n    oneMinus(isSelected.toFloat()),\n  );\n  fog = min(fog, oneMinus(emphasis));\n  fog = mix(0.0, fog, nodeFog);\n\n  let alpha = color.w;\n  alpha = mix(0.1, 1.0, emphasis);\n  let newRgb = color.xyz.mul(mix(1.0, 0.5, fog));\n  newRgb = desaturate(newRgb, max(oneMinus(0.2).mul(fog), oneMinus(emphasis)));\n\n  color = vec4(newRgb, alpha);\n\n  const colorNode = mix(color, selectedColor, isSelected.toFloat());\n\n  const matcap = new TextureLoader().load(matcapUrl);\n\n  return {\n    graphNodeMaterial: new MeshMatcapNodeMaterial({\n      vertexNode: geo.orthographicClipPosition,\n      matcap,\n      colorNode: colorNode,\n      transparent: true,\n      // depthTest: false,\n    }),\n    graphNodePickerMaterial: new MeshBasicNodeMaterial({\n      vertexNode: geoPicker.orthographicClipPosition,\n      colorNode: instanceIdToColor(id),\n      depthWrite: true,\n    }),\n  };\n};\n","import {\n  screenSize,\n  attribute,\n  clamp,\n  dot,\n  equal,\n  float,\n  greaterThan,\n  instanceIndex,\n  length,\n  max,\n  MeshBasicNodeMaterial,\n  mix,\n  normalize,\n  oneMinus,\n  or,\n  positionGeometry,\n  pow,\n  screenCoordinate,\n  sin,\n  smoothstep,\n  varying,\n  vec2,\n  vec3,\n  vec4,\n  screenUV,\n  viewportSize,\n  viewportCoordinate,\n  viewportUV,\n  uv,\n  distance,\n  bool,\n  int,\n} from \"three/webgpu\";\nimport { getCamerasUniforms } from \"../gpu/camera\";\nimport { getUniforms } from \"../gpu/uniforms\";\nimport { graphBuffers } from \"../data\";\nimport { bump } from \"./bump.tsl\";\nimport { desaturate } from \"./desaturate.tsl\";\nimport { scaleAdjustment } from \"./graph-common.tsl\";\n\nconst getEdgeAttributes = (ctx) => {\n  const buffers = graphBuffers(ctx);\n  const id = instanceIndex;\n  const positionsInitial = buffers.getEdgePairs(\"positionInitial\");\n  const positionsTarget = buffers.getEdgePairs(\"positionTarget\");\n  const sizesInitial = buffers.getEdgePairs(\"sizeInitial\");\n  const sizesTarget = buffers.getEdgePairs(\"sizeTarget\");\n  const colorsInitial = buffers.getEdgePairs(\"colorInitial\");\n  const colorsTarget = buffers.getEdgePairs(\"colorTarget\");\n  const emphasesInitial = buffers.getEdgePairs(\"emphasisInitial\");\n  const emphasesTarget = buffers.getEdgePairs(\"emphasisTarget\");\n\n  return {\n    sourcePosition: positionsInitial.source\n      .element(id)\n      .add(positionsTarget.source.element(id).mul(0))\n      .toVar(\"srcPosition\"),\n    targetPosition: positionsInitial.target\n      .element(id)\n      .add(positionsTarget.target.element(id).mul(0))\n      .toVar(\"tgtPosition\"),\n    sourceColor: colorsInitial.source\n      .element(id)\n      .sub(colorsTarget.source.element(id).mul(0))\n      .toVar(\"srcColor\"),\n    targetColor: colorsInitial.target\n      .element(id)\n      .sub(colorsTarget.target.element(id).mul(0))\n      .toVar(\"tgtColor\"),\n    sourceSize: sizesInitial.source\n      .element(id)\n      .sub(sizesTarget.source.element(id).mul(0))\n      .mul(scaleAdjustment)\n      .toVar(\"srcSize\"),\n    targetSize: sizesInitial.target\n      .element(id)\n      .sub(sizesTarget.target.element(id).mul(0))\n      .mul(scaleAdjustment)\n      .toVar(\"tgtSize\"),\n    sourceEmphasis: emphasesTarget.source\n      .element(id)\n      // .sub(emphasesTarget.source.element(id).mul(0))\n      .x.toVar(\"srcEmphasis\"),\n    targetEmphasis: emphasesTarget.target\n      .element(id)\n      // .sub(emphasesTarget.target.element(id).mul(0))\n      .y.toVar(\"tgtEmphasis\"),\n    edgeIndices: buffers.getEdgeIndices().element(id).toVar(\"edgeIndices\"),\n  };\n};\n\nconst edgeGeometry = ({\n  nodePosition,\n  vertexPosition,\n  edgeDirection,\n  scale,\n  flatness,\n  globalView,\n  globalProjection,\n  globalScale,\n  edgeScale,\n}) => {\n  const normalizedEdgeDirection = normalize(edgeDirection);\n  const edgePerpendicular = vec2(\n    normalizedEdgeDirection.y.negate(),\n    normalizedEdgeDirection.x,\n  )\n    .toVar(\"edgePerpendicular\")\n    .mul(scale)\n    .mul(globalScale)\n    .mul(edgeScale)\n    .div(3.0);\n\n  const position = globalProjection\n    .toVar(\"projection\")\n    .mul(globalView.toVar(\"view\"))\n    .mul(vec4(nodePosition, 1.0))\n    .toVar(\"position\");\n  const positionNDC = position.div(position.w);\n\n  const positionClip = vec4(\n    position.xy.add(vertexPosition.y.mul(edgePerpendicular)),\n    position.zw,\n  );\n\n  const positionFixedStrokeNDC = positionNDC.add(\n    vec4(vertexPosition.y.mul(edgePerpendicular), 0.0, 0.0),\n  );\n  const positionFixedStrokeClip = positionFixedStrokeNDC.mul(position.w);\n\n  return mix(positionClip, positionFixedStrokeClip, flatness);\n};\n\nconst nodeClipPosition = ({ nodePosition, globalView, globalProjection }) => {\n  return globalProjection\n    .toVar(\"projection\")\n    .mul(globalView.toVar(\"view\"))\n    .mul(vec4(nodePosition, 1.0));\n};\nexport const graphEdgeMaterial = (ctx) => {\n  const {\n    globalProjection,\n    globalView,\n    distance: camDistance,\n  } = getCamerasUniforms(ctx);\n\n  const {\n    selectedIndex,\n    selectedColor,\n    mousePosition,\n    hoveringIndex,\n    edgeFrequency,\n    edgePulseSpeed,\n    edgeWaveSpeed,\n    time,\n    devicePixelRatio,\n    nodeDepthTexture,\n    globalScale,\n    edgeScale,\n    edgeOvershoot,\n    defaultFogBoundaryClipZ,\n    edgeFog,\n    selectedEdgeColor,\n  } = getUniforms(ctx);\n\n  const segmentOffset = attribute(\"segmentOffset\", \"vec3\");\n\n  let {\n    sourcePosition,\n    targetPosition,\n    sourceColor,\n    targetColor,\n    sourceSize,\n    targetSize,\n    sourceEmphasis,\n    targetEmphasis,\n    edgeIndices,\n  } = getEdgeAttributes(ctx);\n\n  // Create offset (matching GLSL version more closely)\n  const offset = vec3(\n    segmentOffset.y.mul(edgeOvershoot),\n    segmentOffset.x,\n    segmentOffset.z,\n  );\n\n  // Create segmentPosition (matching GLSL version)\n  const segmentPosition = offset\n    .add(vec3(edgeOvershoot.mul(0.5), 0, 0))\n    .toVar(\"segmentPosition\");\n\n  // Calculate isSource and isTarget\n  const isSource = segmentPosition.x.toVar(\"isSource\");\n  const isTarget = oneMinus(isSource).toVar(\"isTarget\");\n\n  // Create vertexOffset\n  const vertexOffset = segmentPosition.toVar(\"vertexOffset\");\n\n  const nodePosition = sourcePosition\n    .mul(isSource)\n    .add(targetPosition.mul(isTarget))\n    .toVar(\"nodePosition\");\n\n  // Calculate edge direction accounting for perspective division\n  const sourcePositionClip = globalProjection\n    .toVar(\"projection\")\n    .mul(globalView.toVar(\"view\"))\n    .mul(vec4(sourcePosition, 1.0))\n    .toVar(\"sourcePositionClip\");\n  const targetPositionClip = globalProjection\n    .toVar(\"projection\")\n    .mul(globalView.toVar(\"view\"))\n    .mul(vec4(targetPosition, 1.0))\n    .toVar(\"targetPositionClip\");\n\n  const edgeDirection = normalize(\n    targetPositionClip.xyz\n      .div(targetPositionClip.w)\n      .sub(sourcePositionClip.xyz.div(sourcePositionClip.w)),\n  ).xy.toVar(\"edgeDirection\");\n\n  const size = sourceSize\n    .mul(isSource)\n    .add(targetSize.mul(isTarget))\n    .mul(0.4)\n    .toVar(\"size\");\n\n  const flatness = float(1.0).toVar(\"flatness\");\n\n  const positionClip = edgeGeometry({\n    nodePosition,\n    vertexPosition: vertexOffset,\n    edgeDirection,\n    scale: size,\n    flatness,\n    globalView,\n    globalProjection,\n    globalScale,\n    edgeScale,\n  }).toVar(\"positionClip\");\n\n  // Color calculation\n  let edgeColor = sourceColor\n    .mul(isSource)\n    .add(targetColor.mul(isTarget))\n    .toVar(\"color\");\n\n  // edgeIndices = edgeIndices.toVar(\"edgeIndices\");\n  const sourceIndex = edgeIndices.x;\n  const targetIndex = edgeIndices.y;\n\n  const sourceSelected = equal(selectedIndex, sourceIndex).toFloat();\n  const targetSelected = equal(selectedIndex, targetIndex).toFloat();\n\n  const selected = sourceSelected\n    .mul(isSource)\n    .add(targetSelected.mul(isTarget));\n\n  const eitherSelected = max(sourceSelected, targetSelected).toFloat();\n\n  // const selected = equal(selectedIndex, sourceIndex)\n  //   .or(equal(selectedIndex, targetIndex))\n  //   .toInt();\n  // const selected = float(1);\n  // let selected =\n  // .toFloat()\n  // .toVar(\"selected\"),\n\n  // selected = varying(selected.toFloat());\n  // or(\n  // equal(selectedIndex, edgeIndices).toFloat();\n  // equal(selectedIndex, edgeIndices.y),\n  // ).toFloat(),\n  // const selected = float(1);\n\n  // const hovering = float(\n  //   or(\n  //     equal(hoveringIndex, edgeIndices.x.toFloat()),\n  // equal(hoveringIndex, edgeIndices.y.toFloat()),\n  //   ),\n  // ).toVar(\"hovering\");\n\n  const isAnySelected = float(greaterThan(selectedIndex, -1)).toVar(\n    \"isAnySelected\",\n  );\n\n  const emphasis = max(sourceEmphasis, targetEmphasis).toVar(\"emphasis\");\n\n  const vSelected = selected;\n\n  // Desaturate color based on emphasis\n  let rgb = edgeColor.xyz;\n  // let rgb = desaturate(\n  //   edgeColor.xyz,\n  //   mix(1.0, oneMinus(eitherSelected), emphasis),\n  // );\n  let alpha = float(1);\n  // alpha = edgeColor.w.mul(\n  //   mix(0.2, 1.0, mix(1.0, oneMinus(emphasis), isAnySelected)),\n  // );\n  alpha = alpha.mul(mix(0.4, 1.0, mix(1.0, emphasis, isAnySelected)));\n\n  // Dim edges for larger distances\n  alpha = alpha.mul(\n    mix(1.0, mix(0.3, 1.0, emphasis), smoothstep(400.0, 1200.0, camDistance)),\n  );\n\n  edgeColor = vec4(rgb, alpha);\n\n  // Fog calculation\n  const fog = computeFog(\n    positionClip.z,\n    defaultFogBoundaryClipZ.div(2.0),\n  ).toVar(\"fog\");\n\n  // Create varying nodes\n  const vColor = varying(edgeColor);\n  const vFog = varying(fog);\n  const vEmphasis = varying(emphasis);\n  const vSize = varying(size);\n  const vIsTarget = varying(isTarget);\n\n  const sourcePosition2DNDC = varying(\n    sourcePositionClip.xy\n      .div(sourcePositionClip.w)\n      .toVar(\"sourcePosition2DNDC\"),\n  );\n  const targetPosition2DNDC = targetPositionClip.xy\n    .div(targetPositionClip.w)\n    .toVar(\"targetPosition2DNDC\");\n\n  const sourcePosition2D = varying(\n    sourcePosition2DNDC\n      .reflect(vec2(0, 1))\n      .add(vec2(1, 1))\n      .mul(0.5)\n      .mul(viewportSize),\n  );\n  const targetPosition2D = varying(\n    targetPosition2DNDC\n      .reflect(vec2(0, 1))\n      .add(vec2(1, 1))\n      .mul(0.5)\n      .mul(viewportSize),\n  );\n  const edgeLength = varying(length(targetPosition.sub(sourcePosition)));\n  const edgeLength2D = varying(length(targetPosition2D.sub(sourcePosition2D)));\n\n  const vY = varying(vertexOffset.y);\n  const vV = varying(segmentPosition.y);\n  const colorNode = () => {\n    const u_2D = distance(sourcePosition2D, screenCoordinate).div(edgeLength2D);\n    const u_3D = isTarget;\n\n    // Softness\n    let color = vColor;\n    let alpha = color.w.mul(\n      mix(bump(vV, float(2).mul(oneMinus(fog)), 1.0), 1.0, fog),\n    );\n\n    const { sourceSize } = getEdgeAttributes(ctx);\n    // Waves\n    const frequency = edgeLength2D.mul(edgeFrequency).mul(0.1);\n    const waveSpeed = float(4.0).mul(edgeWaveSpeed).div(edgeLength2D);\n    const waves = wave(u_2D.sub(time.mul(waveSpeed)), frequency);\n\n    // Wave packets\n    const highFrequency = edgeLength.div(4.0).mul(edgeFrequency);\n    const pulseSpeed = float(20.0).div(edgeLength).mul(edgePulseSpeed);\n    const pulse = clamp(\n      pow(wave(u_2D.sub(time.mul(pulseSpeed)), 1.0), edgeLength2D.div(2.0)),\n      0.0,\n      1.0,\n    );\n    // const pulse = clamp(\n    //   pow(wave(u_2D.sub(time.mul(pulseSpeed)), 1.0), edgeLength2D.div(5.0)),\n    //   0.0,\n    //   1.0,\n    // );\n\n    // Golden pulse\n    let rgb = color.xyz;\n    rgb = mix(color.xyz, vec3(1.0, 1.0, 0.0), mix(0.0, pulse, 0.1));\n\n    // Dashed lines\n    alpha = color.w.mul(mix(1.0, waves, oneMinus(pulse)));\n\n    // Add bumps\n    alpha = alpha.mul(\n      bump(\n        vV,\n        1.0,\n        pulse\n          .mul(mix(0.2, 0.4, emphasis))\n          .mul(wave(u_3D, highFrequency))\n          .add(0.6),\n      ),\n    );\n\n    // Emphasize selected edges\n    // alpha = alpha.mul(mix(0.4, 1.0, selected));\n    // alpha = mix(alpha.mul(0.2), 1.0, vEmphasis);\n    alpha = alpha.mul(mix(0.4, 1.0, vSelected));\n\n    // Fade ends of edges\n    alpha = alpha.mul(bump(u_3D.sub(0.5), 2.0, edgeOvershoot));\n\n    // Check the depth of the nodes at this same fragment coordinate\n    // const nodeDepth = texture(nodeDepthTexture, fragCoord.div(viewport)).r;\n\n    // return vec4(rgb, alpha);\n\n    // Check proximity to sourcePosition2D\n    const proximity = distance(screenCoordinate, sourcePosition2D);\n    const proximityThreshold = float(100.0); // Adjust this value as needed\n    const redFactor = smoothstep(proximityThreshold, float(0.0), proximity);\n\n    // Mix red color based on proximity\n    rgb = mix(rgb, selectedColor.xyz, selected);\n\n    return vec4(rgb, alpha);\n  };\n\n  return new MeshBasicNodeMaterial({\n    vertexNode: positionClip,\n    colorNode: colorNode(),\n    depthTest: false,\n    // depthWrite: true,\n    transparent: true,\n  });\n};\n\nconst computeFog = (z, fogBoundary) => {\n  return smoothstep(0.0, 1.0, z.sub(fogBoundary).div(fogBoundary));\n};\n\n// Fragment shader function\n\n// Helper functions for the fragment shader\nconst wave = (t, freq) => pow(sin(t.mul(freq).mul(Math.PI)), 2.0);\n","import {\n  Scene,\n  PerspectiveCamera,\n  InstancedBufferGeometry,\n  InstancedBufferAttribute,\n  Mesh,\n  BoxGeometry,\n  WebGLRenderTarget,\n  CylinderGeometry,\n  DepthTexture,\n  TorusKnotGeometry,\n  WebGPURenderer,\n  DirectionalLight,\n  InstancedMesh,\n  BufferGeometry,\n  Color,\n  IcosahedronGeometry,\n  Sphere,\n  Vector3,\n  SphereGeometry,\n  ConeGeometry,\n} from \"three/webgpu\";\n\n// import nodeVs from \"../shaders/node-vert.tsl\";\n// import nodeFs from \"../shaders/node-frag.tsl\";\n\n// import nodePickerVs from \"../shaders/node-picker-vert.tsl\";\n// import nodePickerFs from \"../shaders/node-picker-frag.tsl\";\n\n// import edgeVs from \"../shaders/edge-vert.tsl\";\n// import edgeFs from \"../shaders/edge-frag.tsl\";\n\nimport { getCanvasAndGLContext } from \"./rendering\";\nimport moize from \"moize\";\nimport { OBJLoader } from \"../../lib/OBJLoader\";\n// import heartObjString from \"../../data/heart.obj?raw\";\nimport heartUrl from \"../../data/heart.obj\";\nimport dandelionUrl from \"../../data/dandelion3.obj\";\n\nexport const getNodeVisualizerMesh = moize.infinite((ctx, shape = \"cone\") => {\n  let geo;\n  if (shape == \"sphere\") {\n    geo = new SphereGeometry(1, 32, 32);\n  } else if (shape == \"cone\") {\n    geo = new ConeGeometry(1, 2, 128);\n  } else if (shape == \"icosohedron\") {\n    geo = new IcosahedronGeometry(1.5, 0);\n  } else if (shape === \"box\") {\n    geo = new BoxGeometry(1, 1, 1);\n  } else if (shape === \"heart\") {\n    const objLoader = new OBJLoader();\n    const heart = objLoader.load(heartUrl);\n    const heartGeometry = heart.children[0].geometry;\n    if (!heartGeometry.index) {\n      const indices = [];\n      const position = heartGeometry.attributes.position;\n      for (let i = 0; i < position.count; i += 3) {\n        indices.push(i, i + 1, i + 2);\n      }\n      heartGeometry.setIndex(indices);\n    }\n    let scaleFactor = 1;\n    heartGeometry.scale(scaleFactor, scaleFactor, scaleFactor);\n    console.debug(heartGeometry);\n    geo = heartGeometry;\n    // const positions = heartGeometry.attributes.position.array;\n    // for (let i = 0; i < positions.length; i++) {\n    //   positions[i] *= 1.0; // Scale down by a factor of 10\n    // }\n    // heartGeometry.attributes.position.needsUpdate = true;\n    // heartGeometry.computeBoundingSphere();\n\n    let forComparison = new TorusKnotGeometry(1, 0.3, 128, 64, 3, 5);\n    console.debug(forComparison);\n    // geo = forComparison;\n  } else if (shape === \"brain\") {\n    geo = new TorusKnotGeometry(1, 0.3, 128, 64, 2, 3);\n  }\n\n  geo.computeVertexNormals();\n\n  // let geo = heart.children[0].\n\n  // geo = new TorusKnotGeometry(1, 0.3, 128, 64, 2, 4);\n  // geo = new TorusGeometry();\n  // console.debug(geo)\n\n  const geometry = new InstancedBufferGeometry();\n\n  geometry.setAttribute(\"position\", geo.attributes.position);\n  geometry.setAttribute(\"normal\", geo.attributes.normal);\n\n  geometry.setIndex(geo.index);\n  geometry.setAttribute(\n    \"index\",\n    new InstancedBufferAttribute(new Int32Array([]), 1),\n  );\n\n  geometry.setAttribute(\n    \"index\",\n    new InstancedBufferAttribute(new Int32Array([1, 2, 3, 4]), 1),\n  );\n\n  const { graphNodeMaterial, graphNodePickerMaterial } =\n    graphNodeMaterials(ctx);\n\n  const mesh = new Mesh(geometry, graphNodeMaterial);\n  const pickerMesh = new Mesh(geometry, graphNodePickerMaterial);\n  return { mesh, pickerMesh };\n});\n\nexport const getNodeIndexArray = moize.infinite((ctx, size) => {\n  const nodeIndices = new Int32Array(size);\n  for (let i = 0; i < size; i++) {\n    nodeIndices[i] = i;\n  }\n  return new InstancedBufferAttribute(nodeIndices, 1);\n});\n\nexport const loadNodeVertexArray = (ctx, size) => {\n  console.debug(\"loading node vertex array\", size);\n  const { mesh, pickerMesh } = getNodeVisualizerMesh(ctx);\n  // mesh.count = size;\n  mesh.geometry.instanceCount = size;\n  pickerMesh.geometry.instanceCount = size;\n  // const indexBuffer = getNodeIndexArray(ctx, 10000);\n  // mesh.geometry.setAttribute(\"index\", indexBuffer);\n};\n\nexport const getEdgeVisualizerMesh = moize.infinite((ctx) => {\n  const segmentOffsetGeo = new CylinderGeometry(0.5, 0.5, 1, 4, 4, true);\n\n  const geometry = new InstancedBufferGeometry();\n\n  geometry.setAttribute(\"segmentOffset\", segmentOffsetGeo.attributes.position);\n  geometry.setIndex(segmentOffsetGeo.index);\n\n  // geometry.setAttribute(\n  //   \"edgeIndices\",\n  //   new InstancedBufferAttribute(new Int32Array([1, 2, 3]), 2),\n  // );\n\n  return new Mesh(geometry, graphEdgeMaterial(ctx));\n});\n\n// export const getEdgeIndexBuffer = moize.infinite((ctx, linkIndexPairs) => {\n//   // const edgePairIndices = new Int32Array(linkIndexPairs.flat());\n//   const edgePairIndices = new Int32Array(10000);\n//   edgePairIndices.set(linkIndexPairs.flat());\n//   return new InstancedBufferAttribute(edgePairIndices, 2);\n// });\n\nexport const loadEdgeVertexArray = (ctx, size) => {\n  const edgeVisualizerMesh = getEdgeVisualizerMesh(ctx);\n  // maybe this is unnecessary now...\n  // let edgeIndexBuffer = graphBuffers(ctx).getEdgeIndices();\n  // edgeVisualizerMesh.geometry.setAttribute(\"edgeIndices\", edgeIndexBuffer);\n  edgeVisualizerMesh.geometry.instanceCount = size;\n};\n\nimport { graphNodeMaterials } from \"../shaders/graph-node.tsl\";\nimport { graphEdgeMaterial } from \"../shaders/graph-edge.tsl\";\n// Initialize Three.js scene, camera and renderer\nexport const getThreeSetup = moize.infinite((ctx) => {\n  const { canvas, gl } = getCanvasAndGLContext(ctx);\n  const scene = new Scene();\n  const depthScene = new Scene();\n  const pickerScene = new Scene();\n  const camera = new PerspectiveCamera(\n    75,\n    window.innerWidth / window.innerHeight,\n    0.5,\n    1000,\n  );\n  camera.position.z = 10;\n  const light = new DirectionalLight(0xffffff, 2);\n  scene.add(light);\n\n  const renderer = new WebGPURenderer({\n    canvas,\n    forceWebGL: true,\n  });\n  renderer.setClearColor(new Color(\"#000000\"), 0);\n\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.setPixelRatio(window.devicePixelRatio);\n\n  // Visible scene\n  const edgeVisualizerMesh = getEdgeVisualizerMesh(ctx);\n  scene.add(edgeVisualizerMesh);\n\n  const nodeVisualizerMesh = getNodeVisualizerMesh(ctx).mesh;\n  scene.add(nodeVisualizerMesh);\n\n  // Picker scene\n  const nodePickerMesh = getNodeVisualizerMesh(ctx).pickerMesh;\n  pickerScene.add(nodePickerMesh);\n\n  return {\n    scene,\n    depthScene,\n    pickerScene,\n    camera,\n    renderer,\n    nodeVisualizerMesh,\n    edgeVisualizerMesh,\n    nodePickerMesh,\n  };\n});\n\nexport const getPickerRenderTarget = moize.infinite((ctx) => {\n  const { canvas } = getCanvasAndGLContext(ctx);\n  const pickerRenderTarget = new WebGLRenderTarget(\n    canvas.width,\n    canvas.height,\n    {\n      stencilBuffer: false,\n    },\n  );\n  return pickerRenderTarget;\n});\n\nexport const getNodeDepthRenderTarget = moize.infinite((ctx) => {\n  const { canvas } = getCanvasAndGLContext(ctx);\n  const nodeDepthRenderTarget = new WebGLRenderTarget(\n    canvas.width,\n    canvas.height,\n    {\n      depthTexture: new DepthTexture(canvas.width, canvas.height),\n      depthBuffer: true,\n      stencilBuffer: false,\n    },\n  );\n  return nodeDepthRenderTarget;\n});\n","import moize from \"moize\";\nimport { graphLayout, graphDb } from \"./get-workers\";\nimport { proxy } from \"comlink\";\nimport { fromPairs } from \"lodash-es\";\nimport ColorHash from \"color-hash\";\nimport { GraphLayoutSimulator } from \"./graph-layout-simulator\";\n\n// console.debug(graphLayout, 'graphLayout???')\n\nconst colorHash = new ColorHash({ saturation: 0.7, lightness: 0.6 });\n\nconst projectId = (project) => project.replace(/^git\\+/, \"\");\n\nimport { transform } from \"lodash-es\";\n\nconst cleanData = ({ valueNetworkData, projectsData, organizationsData }) => {\n  // we need to remove `git+` from all project ids\n  valueNetworkData = transform(\n    valueNetworkData,\n    (result, value, key) => {\n      value.dependencies = value.dependencies\n        ? value.dependencies.map(projectId)\n        : [];\n      value.dependents = value.dependents\n        ? value.dependents.map(projectId)\n        : [];\n      value.owner = value.owner ? projectId(value.owner) : null;\n      result[projectId(key)] = value;\n    },\n    {},\n  );\n  projectsData = transform(\n    projectsData,\n    (result, value, key) => {\n      result[projectId(key)] = value;\n    },\n    {},\n  );\n  organizationsData = transform(\n    organizationsData,\n    (result, value, key) => {\n      result[projectId(key)] = value;\n    },\n    {},\n  );\n\n  return { valueNetworkData, projectsData, organizationsData };\n};\n\n// import valueNetworkData from \"../data/valuenetwork.json\";\n// import projectsData from \"../data/projects.json\";\n// import organizationsData from \"../data/organizations.json\";\nimport {\n  getEdgeVisualizerMesh,\n  loadEdgeVertexArray,\n  loadNodeVertexArray,\n} from \"./gpu/graph-viz\";\nimport { asyncState, state } from \"./state\";\n\nexport const nodeScaleFn = (dependents) =>\n  Math.max(4 * Math.log(2 * (dependents?.length || 1.0) ** 1.2), 2);\n\nexport const makeNavId = (project) => {\n  const id = project\n    // remove base url portion matching any site, including leading slash\n    .replace(/^(https?:\\/\\/)?(www\\.)?([a-z0-9-]+\\.)+[a-z0-9-]+/i, \"\")\n    // remove trailing slash\n    .replace(/\\/$/, \"\")\n    // remove leading slash\n    .replace(/^\\//, \"\")\n    // convert non-url friendly characters to dashes\n    .replace(/[^A-Za-z0-9\\.]/gi, \"-\")\n    // remove duplicate dashes\n    .replace(/-+/g, \"-\")\n    // replace leading \"package\"\n    .replace(/^package-/, \"\")\n    // remove \"v-\" from version numbers\n    .replace(/-v-/, \"-\");\n\n  return id; //.split('-').reverse().join('-')\n};\n\nimport { graphBufferState } from \"./state\";\n\nexport const graphBuffers = moize.infinite((ctx) => {\n  const bufferState = graphBufferState(ctx);\n  window.bufferState = bufferState;\n  // Initialize blank graph properties\n  const properties = [\n    { name: \"position\", type: \"vec3\" },\n    { name: \"color\", type: \"vec4\" },\n    { name: \"emphasis\", type: \"float\" },\n    { name: \"size\", type: \"float\" },\n  ];\n\n  properties.forEach(({ name, type }) => {\n    const initialArray = new Float32Array(0);\n    const targetArray = new Float32Array(0);\n\n    bufferState.setNodeProperties(`${name}Initial`, type, initialArray);\n    bufferState.setNodeProperties(`${name}Target`, type, targetArray);\n  });\n\n  return bufferState;\n});\n\nexport const setGraphData = async (ctx, data, conserveProperties = true) => {\n  const { set: setter } = asyncState(ctx, \"graphData\");\n  setter(data);\n  const layoutSimulator = await getLayoutSimulator(ctx, data);\n  layoutSimulator.setData(data);\n\n  const { nodes, linkIndexPairs } = data;\n  const bufferState = graphBuffers(ctx);\n  const existingNodeCount = conserveProperties ? bufferState.getNodeCount() : 0;\n  const existingEdgeCount = conserveProperties ? bufferState.getEdgeCount() : 0;\n\n  // Set node count\n  bufferState.setNodeCount(nodes.length);\n  // Set edges\n  bufferState.setEdges(linkIndexPairs);\n\n  // Set positions (initial random positions)\n  const scale = 40;\n  const randomPoint = () => [\n    Math.random() * scale - scale / 2,\n    Math.random() * scale - scale / 2,\n    Math.random() * scale - scale / 2,\n  ];\n  const initialPositions = new Float32Array(nodes.length * 3);\n  if (conserveProperties) {\n    const existingPositions = bufferState.getNodeProperties(\n      \"positionTarget\",\n      \"vec3\",\n    ).value.array;\n    initialPositions.set(existingPositions.subarray(0, existingNodeCount * 3));\n    for (let i = existingNodeCount; i < nodes.length; i++) {\n      const randomPos = randomPoint();\n      initialPositions.set(randomPos, i * 3);\n    }\n  } else {\n    for (let i = 0; i < nodes.length; i++) {\n      const randomPos = randomPoint();\n      initialPositions.set(randomPos, i * 3);\n    }\n  }\n  bufferState.setNodeProperties(\"positionInitial\", \"vec3\", initialPositions);\n  bufferState.setNodeProperties(\"positionTarget\", \"vec3\", initialPositions);\n\n  // Set colors\n  const colors = new Float32Array(nodes.length * 4);\n  if (conserveProperties) {\n    const existingColors = bufferState.getNodeProperties(\"colorTarget\", \"vec4\")\n      .value.array;\n    colors.set(existingColors.subarray(0, existingNodeCount * 4));\n    for (let i = existingNodeCount; i < nodes.length; i++) {\n      colors.set(nodes[i].color, i * 4);\n    }\n  } else {\n    for (let i = 0; i < nodes.length; i++) {\n      colors.set(nodes[i].color, i * 4);\n    }\n  }\n  bufferState.setNodeProperties(\"colorInitial\", \"vec4\", colors);\n  bufferState.setNodeProperties(\"colorTarget\", \"vec4\", colors);\n\n  // Set sizes\n  const sizes = new Float32Array(nodes.length);\n  if (conserveProperties) {\n    const existingSizes = bufferState.getNodeProperties(\"sizeTarget\", \"float\")\n      .value.array;\n    sizes.set(existingSizes.subarray(0, existingNodeCount));\n    for (let i = existingNodeCount; i < nodes.length; i++) {\n      sizes[i] = nodes[i].size;\n    }\n  } else {\n    for (let i = 0; i < nodes.length; i++) {\n      sizes[i] = nodes[i].size;\n    }\n  }\n  bufferState.setNodeProperties(\"sizeInitial\", \"float\", sizes);\n  bufferState.setNodeProperties(\"sizeTarget\", \"float\", sizes);\n\n  // Set emphasis\n  const emphasis = new Float32Array(nodes.length);\n  if (conserveProperties) {\n    const existingEmphasis = bufferState.getNodeProperties(\n      \"emphasisTarget\",\n      \"float\",\n    ).value.array;\n    emphasis.set(existingEmphasis.subarray(0, existingNodeCount));\n    emphasis.fill(0, existingNodeCount);\n  } else {\n    emphasis.fill(0);\n  }\n  // bufferState.setNodeProperties(\"emphasisInitial\", \"float\", emphasis);\n  bufferState.setNodeProperties(\"emphasisTarget\", \"float\", emphasis);\n\n  // Load vertex arrays (if still needed)\n  loadNodeVertexArray(ctx, nodes.length);\n\n  getEdgeVisualizerMesh(ctx).geometry.instanceCount = linkIndexPairs.length;\n\n  // Prepare graph DB worker (if still needed)\n  prepareGraphDBWorker(ctx, data);\n};\n\nexport const getGraphData = async (context) => {\n  return await asyncState(context, \"graphData\").get();\n};\n\nexport const randomNode = (index) => ({\n  index,\n  id: `node://${index}`,\n  size: 1,\n  color: [...colorHash.rgb(String(index)).map((x) => x / 255), 1],\n  navId: makeNavId(`node-${index}`),\n});\n\nexport const randomEdge = (nodes) => () => {\n  const sourceIndex = Math.floor(Math.random() * nodes.length);\n  const targetIndex = Math.floor(Math.random() * nodes.length);\n  return {\n    sourceIndex,\n    targetIndex,\n    source: nodes[sourceIndex],\n    target: nodes[targetIndex],\n  };\n};\n\nexport const randomGraphData = (numNodes, numEdges, startingIndex = 0) => {\n  const nodes = [...Array(numNodes).keys()]\n    .map((index) => index + startingIndex)\n    .map(randomNode);\n\n  const links = [...Array(numEdges).keys()].map(randomEdge(nodes));\n\n  const linkIndexPairs = links.map(({ sourceIndex, targetIndex }) => [\n    sourceIndex,\n    targetIndex,\n  ]);\n\n  const nodesByNavId = fromPairs(nodes.map((node) => [node.navId, node]));\n  const nodesById = fromPairs(nodes.map((node) => [node.id, node]));\n  return { nodes, links, linkIndexPairs, nodesByNavId, nodesById };\n};\n\nexport const addRandomNodes = (n, { nodes, nodesByNavId, nodesById }) => {\n  const startIndex = nodes.length;\n  const newNodes = [...Array(n).keys()]\n    .map((index) => index + startIndex)\n    .map(randomNode);\n  nodes.push(...newNodes);\n\n  // Update nodesByNavId and nodesById\n  newNodes.forEach((node) => {\n    nodesByNavId[node.navId] = node;\n    nodesById[node.id] = node;\n  });\n};\n\nexport const addRandomEdges = (n, { nodes, links, linkIndexPairs }) => {\n  const newEdges = [...Array(n).keys()].map(randomEdge(nodes));\n  links.push(...newEdges);\n  linkIndexPairs.push(\n    ...newEdges.map(({ sourceIndex, targetIndex }) => [\n      sourceIndex,\n      targetIndex,\n    ]),\n  );\n};\n// TODO: provide RDF data interfaces\nexport const dataFromGraph = ({ nodes: simpleNodes, links: simpleLinks }) => {\n  const nodes = simpleNodes.map(({ id }, index) => ({\n    index,\n    id: `node://${id}`,\n    size: 1,\n    color: [...colorHash.rgb(String(id)).map((x) => x / 255), 1],\n    navId: makeNavId(`node-${id}`),\n  }));\n\n  const links = simpleLinks.map((link) => {\n    const sourceIndex = nodes.findIndex(\n      (node) => node.id === `node://${link.source}`,\n    );\n    const targetIndex = nodes.findIndex(\n      (node) => node.id === `node://${link.target}`,\n    );\n    return {\n      sourceIndex,\n      targetIndex,\n      source: nodes[sourceIndex],\n      target: nodes[targetIndex],\n    };\n  });\n\n  const linkIndexPairs = links.map(({ sourceIndex, targetIndex }) => [\n    sourceIndex,\n    targetIndex,\n  ]);\n\n  const nodesByNavId = fromPairs(nodes.map((node) => [node.navId, node]));\n  const nodesById = fromPairs(nodes.map((node) => [node.id, node]));\n  return { nodes, links, linkIndexPairs, nodesByNavId, nodesById };\n};\n\nexport const randomTreesData = (\n  trunks: number,\n  numLevels: number,\n  minChildren: number,\n  maxChildren: number,\n  maxNodes: number,\n) => {\n  const nodes: any[] = [];\n  const links: any[] = [];\n  const linkIndexPairs: number[][] = [];\n  const nodesByNavId: { [key: string]: any } = {};\n  const nodesById: { [key: string]: any } = {};\n\n  const addNode = (\n    parentIndex: number | undefined,\n    level: number,\n    offset: number[] = [0, 0, 0],\n  ) => {\n    const index = nodes.length;\n    const size = 1;\n    const [x, y, z] = [Math.random(), Math.random(), Math.random()]\n      .map((x) => x / 3)\n      .map((x, i) => x + offset[i]);\n    const newNode = {\n      index,\n      size,\n      x,\n      y,\n      z,\n      color: [...colorHash.rgb(String(index)).map((x: number) => x / 255), 1],\n      id: `node://${index}.xyz`,\n      navId: makeNavId(`node://${index}.xyz`),\n    };\n    nodes.push(newNode);\n    nodesByNavId[newNode.navId] = newNode;\n    nodesById[newNode.id] = newNode;\n    if (parentIndex !== undefined) {\n      links.push({\n        sourceIndex: parentIndex,\n        targetIndex: index,\n        source: nodes[parentIndex],\n        target: newNode,\n      });\n      linkIndexPairs.push([parentIndex, index]);\n    }\n    if (level < numLevels && nodes.length < maxNodes) {\n      const numChildren =\n        Math.floor(Math.random() * (maxChildren - minChildren)) + minChildren;\n      for (let i = 0; i < numChildren; i++) {\n        addNode(index, level + 1, [x, y, z]);\n      }\n    }\n  };\n\n  for (let i = 0; i < trunks; i++) {\n    addNode(\n      undefined,\n      0,\n      [Math.random(), Math.random(), Math.random()].map((x) => x * 2 - 1),\n    );\n  }\n\n  return { nodes, links, linkIndexPairs, nodesByNavId, nodesById };\n};\n\nexport const graphDBPrepared = (ctx) => asyncState(ctx, \"graphDbPrepared\");\n\nexport const prepareGraphDBWorker = async (ctx, data) => {\n  const { set } = asyncState(ctx, \"graphDbPrepared\");\n  const result = await graphDb(ctx).buildGraph(data);\n  set(true);\n\n  return result;\n};\n\nlet engine: GraphLayoutSimulator;\n\nexport const getLayoutSimulator = moize.infinite(\n  async (context, graphData) => {\n    const D3ForceLayout = (await graphLayout(context)).D3ForceLayout;\n    engine = await new D3ForceLayout(graphData);\n    engine.start();\n    return engine;\n  },\n  {\n    onExpire: () => {\n      engine.stop();\n    },\n    transformArgs: ([context, graphData]) => [\n      context,\n      // graphData.nodes.length,\n      // graphData.links.length,\n    ],\n  },\n);\n\nexport const getLatestTargetPositions = (ctx) => {\n  const buffers = graphBuffers(ctx);\n  return buffers.getNodeProperties(\"positionTarget\", \"vec3\").value.array;\n};\n\nexport const updateNodePositionTargets = async (context) => {\n  const data = await getGraphData(context);\n  const sim = await getLayoutSimulator(context, data);\n  sim.getPositions(\n    proxy((positions) => {\n      if (positions.length > 0) {\n        let buffers = graphBuffers(context);\n        buffers.setNodeProperties(\"positionTarget\", \"vec3\", positions);\n      }\n    }),\n  );\n};\n\nexport const getNodePosition = (ctx, node) => {\n  const positions = getLatestTargetPositions(ctx)\n    ? getLatestTargetPositions(ctx)\n    : [];\n  const index = node.index;\n  return [\n    positions[index * 3],\n    positions[index * 3 + 1],\n    positions[index * 3 + 2],\n  ]; //.map(x => x * params.globalScale)\n};\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=window,s=i.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,o=\"$lit$\",n=`lit$${(Math.random()+\"\").slice(9)}$`,l=\"?\"+n,h=`<${l}>`,r=document,u=()=>r.createComment(\"\"),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,c=Array.isArray,v=t=>c(t)||\"function\"==typeof(null==t?void 0:t[Symbol.iterator]),a=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a}(?:([^\\\\s\"'>=/]+)(${a}*=${a}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,w=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=w(1),b=w(2),T=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),E=new WeakMap,C=r.createTreeWalker(r,129,null,!1);function P(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,e=[];let l,r=2===i?\"<svg>\":\"\",u=f;for(let i=0;i<s;i++){const s=t[i];let d,c,v=-1,a=0;for(;a<s.length&&(u.lastIndex=a,c=u.exec(s),null!==c);)a=u.lastIndex,u===f?\"!--\"===c[1]?u=_:void 0!==c[1]?u=m:void 0!==c[2]?(y.test(c[2])&&(l=RegExp(\"</\"+c[2],\"g\")),u=p):void 0!==c[3]&&(u=p):u===p?\">\"===c[0]?(u=null!=l?l:f,v=-1):void 0===c[1]?v=-2:(v=u.lastIndex-c[2].length,d=c[1],u=void 0===c[3]?p:'\"'===c[3]?$:g):u===$||u===g?u=p:u===_||u===m?u=f:(u=p,l=void 0);const w=u===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=u===f?s+h:v>=0?(e.push(d),s.slice(0,v)+o+s.slice(v)+n+w):s+n+(-2===v?(e.push(void 0),i):w)}return[P(t,r+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),e]};class N{constructor({strings:t,_$litType$:i},e){let h;this.parts=[];let r=0,d=0;const c=t.length-1,v=this.parts,[a,f]=V(t,i);if(this.el=N.createElement(a,e),C.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(h=C.nextNode())&&v.length<c;){if(1===h.nodeType){if(h.hasAttributes()){const t=[];for(const i of h.getAttributeNames())if(i.endsWith(o)||i.startsWith(n)){const s=f[d++];if(t.push(i),void 0!==s){const t=h.getAttribute(s.toLowerCase()+o).split(n),i=/([.?@])?(.*)/.exec(s);v.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?H:\"?\"===i[1]?L:\"@\"===i[1]?z:k})}else v.push({type:6,index:r})}for(const i of t)h.removeAttribute(i)}if(y.test(h.tagName)){const t=h.textContent.split(n),i=t.length-1;if(i>0){h.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)h.append(t[s],u()),C.nextNode(),v.push({type:2,index:++r});h.append(t[i],u())}}}else if(8===h.nodeType)if(h.data===l)v.push({type:2,index:r});else{let t=-1;for(;-1!==(t=h.data.indexOf(n,t+1));)v.push({type:7,index:r}),t+=n.length-1}r++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){var o,n,l,h;if(i===T)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=S(t,r._$AS(t,i.values),r,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:r).importNode(s,!0);C.currentNode=o;let n=C.nextNode(),l=0,h=0,u=e[0];for(;void 0!==u;){if(l===u.index){let i;2===u.type?i=new R(n,n.nextSibling,this,t):1===u.type?i=new u.ctor(n,u.name,u.strings,this,t):6===u.type&&(i=new Z(n,this,t)),this._$AV.push(i),u=e[++h]}l!==(null==u?void 0:u.index)&&(n=C.nextNode(),l++)}return C.currentNode=r,o}v(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{constructor(t,i,s,e){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cp=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===(null==t?void 0:t.nodeType)&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),d(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):v(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&d(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=N.createElement(P(e.h,e.h[0]),this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.v(s);else{const t=new M(o,this),i=t.u(this.options);t.v(s),this.$(i),this._$AH=t}}_$AC(t){let i=E.get(t.strings);return void 0===i&&E.set(t.strings,i=new N(t)),i}T(t){c(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new R(this.k(u()),this.k(u()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cp=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class k{constructor(t,i,s,e,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=S(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==T,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=S(this,e[s+l],i,l),h===T&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===A?t=A:t!==A&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}const I=s?s.emptyScript:\"\";class L extends k{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=S(this,t,i,0))&&void 0!==s?s:A)===T)return;const e=this._$AH,o=t===A&&e!==A||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==A&&(e===A||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const j={O:o,P:n,A:l,C:1,M:V,L:M,R:v,D:S,I:R,V:k,H:L,N:z,U:H,F:Z},B=i.litHtmlPolyfillSupport;null==B||B(N,R),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push(\"2.8.0\");const D=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new R(i.insertBefore(u(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l};export{j as _$LH,x as html,T as noChange,A as nothing,D as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import interactionEvents from \"normalized-interaction-events\";\nimport { getCanvasAndGLContext } from \"./gpu/rendering\";\nimport { getGraphData, getNodePosition } from \"./data\";\nimport moize from \"moize\";\nimport { setSelectedIndex, getSelectedIndex } from \"./selection\";\nimport { throttle, debounce, curry } from \"lodash-es\";\nimport { render, html, TemplateResult } from \"lit-html\";\nimport { getPickerRenderTarget, getThreeSetup } from \"./gpu/graph-viz\";\nimport { graphCameraAnimation } from \"./get-workers\";\nimport { state } from \"./state\";\nimport { getComponent } from \"./context\";\n// convert event coordinates to normalized coordinates\nconst normalizedEventCoordinates = (ctx, ev: any) => {\n  const { canvas } = getCanvasAndGLContext(ctx);\n  const rect = canvas.getBoundingClientRect();\n  const x = (ev.clientX - rect.left) / rect.width;\n  const y = (ev.clientY - rect.top) / rect.height;\n  return { x: x * 2 - 1, y: -(y * 2 - 1) };\n};\n\n// const {\n//   globalCamera,\n//   updateCameras,\n//   getGlobalCameraParams,\n//   setCameraCenter,\n//   setCameraDistance,\n//   zoomGlobalCamera,\n//   panGlobalCamera,\n//   startZooming,\n//   stopZooming,\n//   startPanning,\n//   stopPanning,\n//   computeScreenPosition,\n//   startCameraAnimation,\n// } = graphCameraAnimation\n\nconst globalCamera = (ctx, ...args) =>\n  graphCameraAnimation(ctx).getGlobalCamera(ctx, ...args);\nconst updateCameras = (ctx, ...args) =>\n  graphCameraAnimation(ctx).updateCameras(ctx, ...args);\nconst getGlobalCameraParams = (ctx, ...args) =>\n  graphCameraAnimation(ctx).getGlobalCameraParams(ctx, ...args);\nconst setCameraCenter = (ctx, ...args) =>\n  graphCameraAnimation(ctx).setCameraCenter(ctx, ...args);\nconst setCameraDistance = (ctx, ...args) =>\n  graphCameraAnimation(ctx).setCameraDistance(ctx, ...args);\nconst zoomGlobalCamera = (ctx, ...args) =>\n  graphCameraAnimation(ctx).zoomGlobalCamera(ctx, ...args);\nconst panGlobalCamera = (ctx, ...args) =>\n  graphCameraAnimation(ctx).panGlobalCamera(ctx, ...args);\nconst startZooming = (ctx, ...args) =>\n  graphCameraAnimation(ctx).startZooming(ctx, ...args);\nconst stopZooming = (ctx, ...args) =>\n  graphCameraAnimation(ctx).stopZooming(ctx, ...args);\nconst startPanning = (ctx, ...args) =>\n  graphCameraAnimation(ctx).startPanning(ctx, ...args);\nconst stopPanning = (ctx, ...args) =>\n  graphCameraAnimation(ctx).stopPanning(ctx, ...args);\nconst computeScreenPosition = (ctx, ...args) =>\n  graphCameraAnimation(ctx).computeScreenPosition(ctx, ...args);\nconst startCameraAnimation = (ctx, ...args) =>\n  graphCameraAnimation(ctx).startCameraAnimation(ctx, ...args);\n\nexport {\n  globalCamera,\n  updateCameras,\n  setCameraCenter,\n  setCameraDistance,\n  startCameraAnimation,\n};\n\nexport const deviceHasMouse = moize.infinite(() => {\n  return window.matchMedia(\"(pointer:fine)\").matches;\n});\n\n// export let selectedZoom: number;\n// export let deselectedZoom: number;\n// const maxSelectedZoom = 250;\n// const minUnselectedZoom = maxSelectedZoom;\n\nconst zoomingStopped = async (ctx) => {\n  const component = getComponent(ctx);\n  stopZooming(ctx);\n  const selected = getSelectedIndex(ctx);\n  const distance = (await getGlobalCameraParams(ctx)).distance;\n  if (selected > -1) {\n    component.focusedZoom = Math.min(distance, component.zoomBoundary);\n    console.debug(\"setting selected zoom\", component.focusedZoom);\n  } else {\n    component.unfocusedZoom = Math.max(distance, component.zoomBoundary);\n    console.debug(\"setting deselected zoom\", component.unfocusedZoom);\n  }\n};\n\nconst getPointerPositionInfo: (ctx) => {\n  x: number;\n  y: number;\n  canvasX: number;\n  canvasY: number;\n  pickerX: number;\n  pickerY: number;\n} = (ctx) =>\n  state(ctx, \"pointerPositionInfo\", () => ({\n    x: 0,\n    y: 0,\n    canvasX: 0,\n    canvasY: 0,\n    pickerX: 0,\n    pickerY: 0,\n  })).get();\n\nconst pickedColor = new Uint8Array(4).fill(0);\nlet lastOverIndex = -1;\nexport const getLastOverIndex = () => lastOverIndex;\nlet dragging = false;\nlet lastMouseMoveTime = 0;\nconst activelyWanderingMouse = () => {\n  if (dragging) return false;\n  const now = Date.now();\n  const result = now - lastMouseMoveTime < 200;\n  return result;\n};\n\nlet countLastDragEvents = 0;\nlet cumulativeDragDistance = 0;\nconst incrementDragEvents = () => {\n  countLastDragEvents++;\n};\n\nconst notifyTapped = async (ctx, tappedIndex) => {\n  const { nodes } = await getGraphData(ctx);\n  const tappedNode = nodes[tappedIndex];\n  getComponent(ctx).dispatchEvent(\n    new CustomEvent(\"tap\", {\n      detail: { tappedIndex, info: tappedNode },\n    }),\n  );\n};\n\nexport const getPointerPositionCanvas: (ctx) => [number, number] = (ctx) =>\n  [\n    getPointerPositionInfo(ctx).canvasX,\n    getPointerPositionInfo(ctx).canvasY,\n  ] as [number, number];\n\nexport const getPointerPositionClip: (ctx) => [number, number] = (ctx) => [\n  getPointerPositionInfo(ctx).x,\n  getPointerPositionInfo(ctx).y,\n];\nexport const getPointerPositionPicker: (ctx) => [number, number] = (ctx) => [\n  getPointerPositionInfo(ctx).pickerX,\n  getPointerPositionInfo(ctx).pickerY,\n];\n\nconst collectPointerPositionInfo = curry((ctx, { x, y }) => {\n  const { canvas } = getCanvasAndGLContext(ctx);\n  const pointerPositionInfo = getPointerPositionInfo(ctx);\n  pointerPositionInfo.x = x;\n  pointerPositionInfo.y = y;\n\n  // we'll need to convert from the normalized coordinates to the canvas coordinates\n  pointerPositionInfo.canvasX = ((x + 1) / 2) * canvas.width;\n  pointerPositionInfo.canvasY = ((y + 1) / 2) * canvas.height;\n\n  const deviceRatio = window.devicePixelRatio || 1;\n\n  pointerPositionInfo.pickerX = Math.floor(\n    pointerPositionInfo.canvasX / deviceRatio,\n  );\n  pointerPositionInfo.pickerY = Math.floor(\n    pointerPositionInfo.canvasY / deviceRatio,\n  );\n\n  // console.debug('collectPointerPositionInfo', x,y,\n  // \"canvas\", pointerPositionInfo.canvasX, pointerPositionInfo.canvasY,\n  // \"picker\", pointerPositionInfo.pickerX, pointerPositionInfo.pickerY)\n});\n\nexport const getCurrentlyHoveringIndex = (ctx) => {\n  return state(ctx, \"currentlyHoveringIndex\", () => -1).get();\n};\n\nexport const getCurrentlyHoveringNode = async (ctx) => {\n  const { nodes } = await getGraphData(ctx);\n  const currentlyHoveringIndex = getCurrentlyHoveringIndex(ctx);\n  // console.debug(\n  //   \"getCurrentlyHoveringNode\",\n  //   currentlyHoveringIndex,\n  //   nodes[currentlyHoveringIndex],\n  // );\n  return nodes[currentlyHoveringIndex];\n};\n\nexport const setupSelection = moize.infinite((component) => {\n  const ctx = component.context;\n  const { canvas } = getCanvasAndGLContext(ctx);\n\n  interactionEvents(canvas)\n    .on(\"touchmove\", collectPointerPositionInfo(ctx))\n    .on(\"mousemove\", collectPointerPositionInfo(ctx));\n\n  interactionEvents(canvas).on(\"mousemove\", () => {\n    // console.debug(\"preparing to callupdatePickerColorDebounced\");\n    !dragging && updatePickerColorDebounced(ctx)();\n  });\n\n  interactionEvents(canvas)\n    .on(\"touchmove\", incrementDragEvents)\n    .on(\"pinchmove\", incrementDragEvents)\n    .on(\"mousemove\", incrementDragEvents);\n\n  canvas.addEventListener(\"pointerdown\", async (ev) => {\n    console.debug(\"pointer down\");\n    const clickHandler = async ([pointerUpResult, hoverUpdateResult]) => {\n      console.debug(\"pointer clickHandler\", pointerUpResult, hoverUpdateResult);\n      const wasDrag = cumulativeDragDistance > 0.03 || countLastDragEvents > 5;\n      console.debug(\n        \"was drag\",\n        wasDrag,\n        cumulativeDragDistance,\n        countLastDragEvents,\n      );\n      dragging = false;\n\n      if (!wasDrag) {\n        const tappedIndex = getCurrentlyHoveringIndex(ctx);\n        notifyTapped(ctx, tappedIndex)\n          // .then(() => {\n          //   console.debug(\"Tapped notification completed\");\n          // })\n          .catch((error) => {\n            console.error(\"Error in notifyTapped:\", error);\n          });\n        // getComponent(ctx).dispatchEvent(\n        //   new CustomEvent(\"tapped\", {\n        //     detail: { tappedIndex: tappedIndex, info },\n        //   }),\n        // );\n        // setSelectedIndex(ctx, tappedIndex);\n        // console.debug(\"selected index set to\", tappedIndex);\n\n        // getSelectedInfo(ctx).then((info) => {\n        //   getComponent(ctx).dispatchEvent(\n        //     new CustomEvent(\"selected\", {\n        //       detail: { selectedIndex: tappedIndex, info },\n        //     }),\n        //   );\n        // });\n        // getComponent(ctx).dispatchEvent(\n        //   new CustomEvent(\"tap\", { detail: { selectedIndex: tappedIndex } }),\n        // );\n        // }\n        // , 150);\n      }\n    };\n\n    // canvas.addEventListener(\"pointerup\", pointerUpHandler, { once: true });\n    const pointerUp = new Promise((resolve, reject) => {\n      canvas.addEventListener(\"pointerup\", resolve, { once: true });\n      setTimeout(() => reject(\"pointer event timed out after 100ms\"), 200);\n    });\n\n    dragging = true;\n    countLastDragEvents = 0;\n    cumulativeDragDistance = 0;\n\n    Promise.all([pointerUp, getNextHoverOnUpdate(ctx)])\n      .then(clickHandler)\n      .catch((e) => console.debug(e));\n    setTimeout(() => {\n      const wasDrag = cumulativeDragDistance > 0.03 || countLastDragEvents > 5;\n      if (!wasDrag) {\n        updatePickerColor(ctx);\n      }\n    }, 2); // ugh.... but at least it works.\n    collectPointerPositionInfo(ctx, normalizedEventCoordinates(ctx, ev));\n  });\n\n  canvas.addEventListener(\"selected\", (ev) => {\n    //@ts-ignore\n    // const node = ev.detail.info;\n    // console.debug(\"preparing to navigate:\", node, this);\n    // component.setAttribute(\"focus\", node?.navId);\n  });\n\n  canvas.addEventListener(\"hover\", async (ev) => {\n    // console.debug(\"got a hover!\");\n    const { nodes } = await getGraphData(ctx);\n    //@ts-ignore\n    const wasHoveredIndex = ev.detail.wasHoveredIndex;\n    const wasHoveredNode = wasHoveredIndex > -1 ? nodes[wasHoveredIndex] : null;\n    //@ts-ignore\n    const nowHoveredIndex = ev.detail.nowHoveredIndex;\n    const nowHoveredNode = nowHoveredIndex > -1 ? nodes[nowHoveredIndex] : null;\n    const selectedNode =\n      getSelectedIndex(ctx) > -1 ? nodes[getSelectedIndex(ctx)] : null;\n\n    if (nowHoveredNode) {\n      // currentlyHoveringIndex = nowHoveredNode?.index || -1\n      state(ctx, \"currentlyHoveringIndex\").set(\n        nowHoveredNode?.index != null ? nowHoveredNode.index : -1,\n      );\n    } else {\n      state(ctx, \"currentlyHoveringIndex\").set(-1);\n    }\n  });\n});\n\nconst radiansPerHalfScreenWidth = Math.PI / 3;\n\nexport const setupCameraInteraction = (ctx) => {\n  // const app = getPicoApp();\n  const { canvas } = getCanvasAndGLContext(ctx);\n\n  //@ts-ignore\n  canvas.addEventListener(\n    \"wheel\",\n    (ev) => {\n      const scrollVector =\n        Math.exp((ev.deltaY / canvas.clientHeight) * 2) - 1.0;\n      const scrollDirection = Math.sign(scrollVector);\n\n      // console.debug(scrollVector, scrollDirection, 'zooming')\n      startZooming(ctx);\n      zoomGlobalCamera(\n        ctx,\n        0,\n        0,\n        scrollDirection * Math.min(Math.abs(scrollVector), 0.06),\n      );\n      ev.preventDefault();\n      zoomingStopped(ctx);\n    },\n    { passive: false },\n  );\n\n  interactionEvents(canvas)\n    .on(\"mousemove\", function (ev) {\n      lastMouseMoveTime = Date.now();\n      if (!ev.active || ev.buttons !== 1) return;\n\n      cumulativeDragDistance += Math.sqrt(\n        Math.pow(ev.dx, 2) + Math.pow(ev.dy, 2),\n      );\n\n      if (ev.mods.shift) {\n        // globalCamera.pan(ev.dx, ev.dy);\n        startPanning(ctx);\n        panGlobalCamera(ctx, ev.dx, ev.dy);\n      } else if (ev.mods.meta) {\n        globalCamera(ctx).pivot(ev.dx, ev.dy);\n      } else {\n        globalCamera(ctx).rotate(\n          -ev.dx * radiansPerHalfScreenWidth,\n          -ev.dy * radiansPerHalfScreenWidth,\n        );\n\n        stopPanning(ctx);\n      }\n      ev.originalEvent.preventDefault();\n    })\n    .on(\"touchmove\", function (ev) {\n      collectPointerPositionInfo(ev);\n      if (!ev.active) return;\n      cumulativeDragDistance += Math.sqrt(\n        Math.pow(ev.dx, 2) + Math.pow(ev.dy, 2),\n      );\n      globalCamera(ctx).rotate(\n        -ev.dx * radiansPerHalfScreenWidth,\n        -ev.dy * radiansPerHalfScreenWidth,\n      );\n      // ev.originalEvent.preventDefault();\n    })\n    .on(\"pinchmove\", function (ev) {\n      if (!ev.active) return;\n      dragging = true;\n      startPanning(ctx);\n      startZooming(ctx);\n      zoomGlobalCamera(ctx, 0, 0, 1 - ev.zoomx);\n      panGlobalCamera(ctx, ev.dx, ev.dy);\n    })\n    .on(\"touchstart\", (ev) => ev.originalEvent.preventDefault())\n    .on(\"pinchstart\", (ev) => ev.originalEvent.preventDefault())\n    .on(\"pinchend\", () => {\n      stopPanning(ctx);\n      zoomingStopped(ctx);\n    });\n};\n\nconst pickerState: (ctx) => {\n  lastOverIndex: number;\n  pickerTime: number;\n  pickerSync: WebGLSync | null;\n  pickerFailures: number;\n  pickerGuardFailed: boolean;\n} = moize.infinite((ctx) => ({\n  lastOverIndex: -1,\n  pickerTime: 0,\n  pickerSync: null,\n  pickerFailures: 0,\n  pickerGuardFailed: false,\n}));\n\nexport const getNodeIndexFromPickerColor = (color: Uint8Array) => {\n  const nodeIndex = color[0] + color[1] * 256 + color[2] * 256 * 256;\n  // the offset makes it so the default selection is nothing\n  return nodeIndex - 1;\n};\n\nexport const checkPickerSync = (ctx) => {\n  // check if the fence sync is finished and make a new one if necessary\n  const p = pickerState(ctx);\n  const gl = getCanvasAndGLContext(ctx).gl as WebGL2RenderingContext;\n  const makeSync = () => gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n  if (!p.pickerSync) {\n    p.pickerSync = makeSync();\n    return false;\n  } else {\n    const status = gl?.clientWaitSync(p.pickerSync, 0, 0);\n    if (status === gl?.CONDITION_SATISFIED) {\n      gl.deleteSync(p.pickerSync);\n      p.pickerSync = makeSync();\n      return true;\n    } else {\n      return false;\n    }\n  }\n};\n\nexport const updatePickerColor = moize.infinite((ctx) => () => {\n  // return;\n  // console.debug(\"updating picker color\");\n  // return\n  const p = pickerState(ctx);\n  const pickerReady = checkPickerSync(ctx);\n  const { canvas } = getCanvasAndGLContext(ctx);\n  const gl = getCanvasAndGLContext(ctx).gl as WebGL2RenderingContext;\n  if (p.pickerFailures > 10) {\n    p.pickerGuardFailed = true;\n    console.warn(\"picker guard failed\");\n  }\n  if (!pickerReady && !p.pickerGuardFailed) {\n    // TODO: fix this, it's not working on FireFox\n    console.debug(\"not ready to read picker pixel yet\");\n    p.pickerFailures += 1;\n  } else {\n    p.pickerFailures = 0;\n    // console.debug(\"reading pixel\");\n    const { renderer } = getThreeSetup(ctx);\n    const pointerPosition = getPointerPositionPicker(ctx);\n\n    const pickerRenderTarget = getPickerRenderTarget(ctx);\n    if (\n      pointerPosition[0] >= 0 &&\n      pointerPosition[0] < pickerRenderTarget.width &&\n      pointerPosition[1] >= 0 &&\n      pointerPosition[1] < pickerRenderTarget.height\n    ) {\n      renderer\n        .readRenderTargetPixelsAsync(\n          pickerRenderTarget,\n          ...pointerPosition,\n          1,\n          1,\n        )\n        .then((newPickedColor) => {\n          gl.flush();\n          for (let i = 0; i < 4; i++) {\n            pickedColor[i] = newPickedColor[i];\n          }\n          const overIndex = getNodeIndexFromPickerColor(pickedColor);\n          // if (lastOverIndex !== overIndex) {\n          setTimeout(() => {\n            canvas.dispatchEvent(\n              new CustomEvent(\"hover\", {\n                detail: {\n                  wasHoveredIndex: lastOverIndex,\n                  nowHoveredIndex: overIndex,\n                },\n              }),\n            );\n          }, 1);\n\n          if (overIndex > -1) {\n            setTimeout(() => {\n              canvas.dispatchEvent(\n                new CustomEvent(\"hoveron\", {\n                  detail: {\n                    wasHoveredIndex: lastOverIndex,\n                    nowHoveredIndex: overIndex,\n                  },\n                }),\n              );\n            }, 10);\n          }\n\n          // }\n          lastOverIndex = overIndex;\n        });\n    }\n  }\n});\n\nexport const updatePickerColorThrottled = (ctx) =>\n  throttle(updatePickerColor(ctx), 1000);\nexport const updatePickerColorDebounced = (ctx) =>\n  debounce(updatePickerColor(ctx), 300);\n\nexport const getNextHoverOnUpdate = async (ctx) => {\n  // wait for the next 'hover' event\n  console.debug(\"waiting for hover event\");\n  return new Promise((resolve) => {\n    const canvas = getCanvasAndGLContext(ctx).canvas!;\n    const listener = (ev: CustomEvent) => {\n      console.debug(\"got hover event\", ev.detail);\n      resolve(ev.detail);\n    };\n    canvas.addEventListener(\"hover\", listener, { once: true });\n  });\n};\n\nexport const getSelectedInfo = async (ctx) => {\n  const { nodes } = await getGraphData(ctx);\n  return nodes[getSelectedIndex(ctx)];\n};\n\ntype cursorOptions = {\n  htmlTemplate?: (node: any) => TemplateResult;\n  classes?: string[];\n  applyScreenPositionStyle?: (screenPosition, element) => void;\n};\nconst makeCursor = moize.deep(\n  (\n    ctx,\n    { classes, htmlTemplate, applyScreenPositionStyle }: cursorOptions = {},\n  ) => {\n    const host = getComponent(ctx);\n    applyScreenPositionStyle =\n      applyScreenPositionStyle ||\n      ((screenPosition, element) => {\n        element.style.left = `${screenPosition[0]}vw`;\n        element.style.bottom = `${screenPosition[1]}vh`;\n      });\n    const element = document.createElement(\"div\");\n    element?.classList.add(\"cursor\");\n    classes?.forEach((c) => element?.classList.add(c));\n    // element.style.width = \"5vw\";\n    // element.style.height = \"5vw\";\n    host?.shadowRoot?.appendChild(element);\n\n    const alignToScreenPosition = (screenPosition) => {\n      applyScreenPositionStyle!(screenPosition, element);\n    };\n\n    const alignToNDCPosition = (screenPositionNDC) => {\n      // convert from normalized device coordinates to window coordinates\n      const screenPosition = [\n        ((screenPositionNDC[0] + 1) / 2) * 100,\n        ((screenPositionNDC[1] + 1) / 2) * 100,\n      ];\n\n      alignToScreenPosition(screenPosition);\n    };\n\n    const alignToNode = throttle(async (node) => {\n      const nodePosition = getNodePosition(ctx, node);\n      const screenPositionNDC = await computeScreenPosition(ctx, nodePosition);\n      alignToNDCPosition(screenPositionNDC);\n    }, 1000 / 10);\n\n    const highlightNode = throttle(async (node) => {\n      if (node) {\n        await alignToNode(node);\n        element.classList.add(\"focused\");\n      } else {\n        element.classList.remove(\"focused\");\n      }\n      node && htmlTemplate && render(htmlTemplate(node), element);\n    }, 50);\n\n    return {\n      element,\n      alignToScreenPosition,\n      alignToNDCPosition,\n      alignToNode,\n      highlightNode,\n      destroy: () => element.remove(),\n    };\n  },\n);\n\nexport const selectedCursor = moize.infinite((ctx) =>\n  makeCursor(ctx, {\n    classes: [\"selected-cursor\"],\n  }),\n);\nexport const hoveredTooltip = moize.infinite((ctx) =>\n  makeCursor(ctx, {\n    classes: [\"hovered-tooltip\"],\n    htmlTemplate: (node) => html`\n      <div class=\"node-name\">${node.data?.name}</div>\n    `,\n    applyScreenPositionStyle(screenPosition, element) {\n      element.style.left = `calc(min(${screenPosition[0]}vw, calc(100vw - 15em)))`;\n      element.style.bottom = `${screenPosition[1]}vh`;\n    },\n  }),\n);\nexport const hoveredCursor = moize.infinite((ctx) =>\n  makeCursor(ctx, {\n    classes: [\"hovered-cursor\"],\n  }),\n);\n","//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n","import moize from \"moize\";\nimport { getCanvasAndGLContext } from \"./rendering\";\nimport { renderRGBProgram } from \"gpu-io/dist/types/Programs\";\nimport {\n  float,\n  FloatType,\n  Fn,\n  InstancedBufferAttribute,\n  instanceIndex,\n  storage,\n  StorageInstancedBufferAttribute,\n  Texture,\n  vec3,\n} from \"three/webgpu\";\nimport { getNodeVisualizerMesh, getThreeSetup } from \"./graph-viz\";\nimport { graphBuffers } from \"../data\";\nimport fastMemoize from \"fast-memoize\";\n\nexport const interpolator = fastMemoize(\n  (ctx, layers) => {\n    // console.debug(\"executing interpolation setup for layers\", layers);\n    const interpolatorFn = Fn(() => {\n      // let result = float(0);\n      for (const { current, target } of layers) {\n        // console.debug(\"setting up interpolatoin for\", current, target);\n        let currentElement = current.element(instanceIndex);\n        let targetElement = target.element(instanceIndex);\n        currentElement.assign(\n          // targetElement.mul(0.05),\n          currentElement.add(targetElement.sub(currentElement).mul(0.05)),\n        );\n\n        // result = result\n        //   .mul(currentElement.length())\n        //   .mul(targetElement.length());\n      }\n      // return result;\n    });\n\n    const size = layers[0]?.target.value.count;\n    return interpolatorFn().compute(size);\n  },\n  {\n    // isShallowEqual: true,\n    // maxSize: 50,\n    // maxAge: 1000,\n    serializer: ([ctx, layers]) => {\n      // args.map((layer) => layer.target.value.count);\n      let newArgs = layers;\n      const buffers = graphBuffers(ctx);\n      newArgs = JSON.stringify(\n        layers.flatMap((x) => [\n          buffers.getNodeCount(),\n          x?.target?.uuid,\n          buffers.getEdgeCount(),\n          x?.current?.uuid,\n        ]),\n      );\n      // console.debug(\"transforming key\", newArgs);\n      // const newArgs = [buffers.getNodeCount(), buffers.getEdgeCount()];\n      return newArgs;\n    },\n  },\n);\n\nexport const interpolate = (ctx, layers) => {\n  const { renderer } = getThreeSetup(ctx);\n  const interp = interpolator(ctx, layers);\n  // interp.needsUpdate = true;\n  const { edgeVisualizerMesh, nodeVisualizerMesh, nodePickerMesh } =\n    getThreeSetup(ctx);\n\n  renderer.compute(interp);\n  //   .then((output) => {\n  //   nodeVisualizerMesh.material.vertexNode.needsUpdate = true;\n  //   nodePickerMesh.material.vertexNode.needsUpdate = true;\n  //   edgeVisualizerMesh.material.vertexNode.needsUpdate = true;\n  //   nodeVisualizerMesh.material.needsUpdate = true;\n  //   nodePickerMesh.material.needsUpdate = true;\n  //   edgeVisualizerMesh.material.needsUpdate = true;\n\n  //   layers.forEach(({ current, target }) => {\n  //     current.needsUpdate = true;\n  //     target.needsUpdate = true;\n  //   });\n  //   interp.needsUpdate = true;\n  // });\n};\n\nexport const doInterpolation = (ctx) => {\n  const buffers = graphBuffers(ctx);\n  interpolate(ctx, [\n    {\n      current: buffers.getNodeProperties(\"positionInitial\"),\n      target: buffers.getNodeProperties(\"positionTarget\"),\n    },\n    {\n      current: buffers.getNodeProperties(\"sizeInitial\"),\n      target: buffers.getNodeProperties(\"sizeTarget\"),\n    },\n  ]);\n  interpolate(ctx, [\n    {\n      current: buffers.getNodeProperties(\"emphasisInitial\"),\n      target: buffers.getNodeProperties(\"emphasisTarget\"),\n    },\n  ]);\n  interpolate(ctx, [\n    {\n      current: buffers.getNodeProperties(\"colorInitial\"),\n      target: buffers.getNodeProperties(\"colorTarget\"),\n    },\n  ]);\n  interpolate(ctx, [\n    {\n      current: buffers.getEdgePairs(\"positionInitial\").source,\n      target: buffers.getEdgePairs(\"positionTarget\").source,\n    },\n    {\n      current: buffers.getEdgePairs(\"positionInitial\").target,\n      target: buffers.getEdgePairs(\"positionTarget\").target,\n    },\n  ]);\n  interpolate(ctx, [\n    {\n      current: buffers.getEdgePairs(\"sizeInitial\").source,\n      target: buffers.getEdgePairs(\"sizeTarget\").source,\n    },\n    {\n      current: buffers.getEdgePairs(\"sizeInitial\").target,\n      target: buffers.getEdgePairs(\"sizeTarget\").target,\n    },\n  ]);\n  interpolate(ctx, [\n    {\n      current: buffers.getEdgePairs(\"colorInitial\").source,\n      target: buffers.getEdgePairs(\"colorTarget\").source,\n    },\n    {\n      current: buffers.getEdgePairs(\"colorInitial\").target,\n      target: buffers.getEdgePairs(\"colorTarget\").target,\n    },\n  ]);\n  interpolate(ctx, [\n    {\n      current: buffers.getEdgePairs(\"emphasisInitial\").source,\n      target: buffers.getEdgePairs(\"emphasisTarget\").source,\n    },\n    {\n      current: buffers.getEdgePairs(\"emphasisInitial\").target,\n      target: buffers.getEdgePairs(\"emphasisTarget\").target,\n    },\n  ]);\n};\n","import moize from \"moize\";\nimport {\n  cameraUniformsGroupUpdater,\n  // updateCamerasUniformsGroup,\n} from \"./camera\";\nimport {\n  deviceHasMouse,\n  getCurrentlyHoveringNode,\n  globalCamera,\n  hoveredCursor,\n  hoveredTooltip,\n  selectedCursor,\n  updateCameras,\n  updatePickerColorThrottled,\n} from \"../interaction\";\nimport { colord } from \"colord\";\nimport { doFocus, getSelectedNode } from \"../selection\";\n\nimport {\n  getNodeDepthRenderTarget,\n  getPickerRenderTarget,\n  getThreeSetup,\n} from \"./graph-viz\";\nimport { graphBuffers, updateNodePositionTargets } from \"../data\";\nimport { state } from \"../state\";\nimport { getComponent } from \"../context\";\nimport { getUniforms, updateUniforms } from \"./uniforms\";\nimport { doInterpolation, interpolate } from \"./interpolation\";\n\nlet drawEdges = true;\nlet drawNodes = true;\n\n// toggle edges with keyboard\nwindow.addEventListener(\"keydown\", (e) => {\n  if (e.key === \"e\") {\n    drawEdges = !drawEdges;\n  }\n  if (e.key === \"n\") {\n    drawNodes = !drawNodes;\n  }\n});\n\nexport const PRIMITIVE_RESTART_INDEX = 65535;\n// export const CLEAR_COLOR : [number,number,number,number] = [0.1,0.1,0.1, 1.0];\n\nconst getClearColor = () =>\n  [colord(document.body.style.backgroundColor).toRgb()].flatMap(\n    ({ r, g, b, a }) => [r, g, b, a].map((x) => x / 255),\n  ) as [number, number, number, number];\n\nexport const getWidthAndHeight = moize.infinite((ctx) => {\n  const host = getComponent(ctx);\n  // Calculate the device pixel ratio\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  // const devicePixelRatio = 1;\n  // Get the desired display size (in CSS pixels)\n  const clientWidth = host.clientWidth;\n  const clientHeight = host.clientHeight;\n\n  // Calculate the actual size (in device pixels)\n  const actualWidth = Math.floor(clientWidth * devicePixelRatio);\n  const actualHeight = Math.floor(clientHeight * devicePixelRatio);\n\n  return {\n    width: actualWidth,\n    height: actualHeight,\n    clientWidth,\n    clientHeight,\n  };\n});\n\nlet canvas: HTMLCanvasElement;\n\nexport const setCanvas = (ctx, newCanvas: HTMLCanvasElement | null = null) => {\n  // check if the promise has already been resolved\n  const { set: setter, get: getter } = state(ctx, \"canvas\");\n  const canvas = getter();\n  if (newCanvas) {\n    setter(canvas || newCanvas);\n  } else {\n    setter(canvas || document.createElement(\"canvas\"));\n  }\n};\n\nexport const getCanvasAndGLContext = moize.infinite((ctx) => {\n  const canvas = state(ctx, \"canvas\").get();\n\n  const gl = canvas.getContext(\"webgl2\", {\n    powerPreference: \"high-performance\",\n  });\n  if (gl) console.debug(\"WebGL2 initialized\");\n  else console.error(\"WebGL2 failed to initialize\");\n\n  return { canvas, gl };\n});\n\nexport const fillCanvasToWindow = (ctx) => {\n  const { canvas } = getCanvasAndGLContext(ctx);\n  const { renderer, camera } = getThreeSetup(ctx);\n  const { width, height, clientWidth, clientHeight } = getWidthAndHeight(ctx);\n  const component = getComponent(ctx);\n\n  renderer.setSize(clientWidth, clientHeight);\n  camera.aspect = clientWidth / clientHeight;\n  getPickerRenderTarget(ctx).setSize(clientWidth, clientHeight);\n  getNodeDepthRenderTarget(ctx).setSize(width, height);\n  globalCamera(ctx).resize(width / height);\n};\n\nfunction checkWebGLError(gl) {\n  const error = gl.getError();\n  if (error !== gl.NO_ERROR) {\n    const activeProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n    console.warn(\n      `WebGL Error: ${error}, Shader Program: ${\n        activeProgram ? activeProgram.id : \"unknown\"\n      }`,\n    );\n  }\n}\nexport const initializeRenderer = (ctx) => {\n  getUniforms(ctx);\n  // graphBuffers(ctx);\n};\n\n// no need to get the picker pixel every frame\nexport const animateGraph = (ctx) => {\n  updateUniforms(ctx);\n\n  // getWidthAndHeight.remove(ctx);\n\n  updateNodePositionTargets(ctx);\n  getSelectedNode(ctx).then((node) => {\n    selectedCursor(ctx).highlightNode(node);\n  });\n\n  deviceHasMouse() &&\n    getCurrentlyHoveringNode(ctx).then((node) => {\n      hoveredTooltip(ctx).highlightNode(node);\n      hoveredCursor(ctx).highlightNode(node);\n    });\n\n  const { width, height } = getWidthAndHeight(ctx);\n  updateCameras(ctx, cameraUniformsGroupUpdater(ctx), width, height);\n\n  const { gl } = getCanvasAndGLContext(ctx);\n\n  const {\n    renderer,\n    scene,\n    camera,\n    nodeVisualizerMesh,\n    nodePickerMesh,\n    edgeVisualizerMesh,\n  } = getThreeSetup(ctx);\n\n  doFocus(ctx);\n  doInterpolation(ctx);\n\n  renderer.setRenderTarget(null);\n  renderer.render(scene, camera);\n\n  renderer.setRenderTarget(getPickerRenderTarget(ctx));\n  renderer.render(nodePickerMesh, camera);\n\n  if (deviceHasMouse()) updatePickerColorThrottled(ctx)();\n  requestAnimationFrame(() => animateGraph(ctx));\n  // const buffers = graphBuffers(ctx);\n};\n","// src/events.ts\nvar handlers = {};\nvar on = (event, handler) => {\n  handlers[event] ?? (handlers[event] = []);\n  handlers[event].push(handler);\n};\nvar off = (event, handler) => {\n  var _a;\n  (_a = handlers[event]) == null ? void 0 : _a.splice(handlers[event].indexOf(handler), 1);\n};\nvar emit = async (event, to, from) => {\n  for (const handler of handlers[event] ?? []) {\n    await handler(to, from);\n  }\n};\n\n// src/utils.ts\nvar stripTrailingSlash = (str) => str.length > 1 && str.endsWith(\"/\") ? str.slice(0, -1) : str;\nvar parsePattern = (pattern) => {\n  var _a;\n  const keys = (_a = pattern.match(/(:[^/]+)/g)) == null ? void 0 : _a.map((name) => name.substring(1));\n  return keys && {\n    keys,\n    regExp: new RegExp(\"^\" + pattern.replace(/(:[^/]+)/g, \"([^/]+)\") + \"$\")\n  };\n};\nvar getParams = (match, keys) => Object.fromEntries(keys.map((key, index) => [key, match[index + 1]]));\n\n// src/index.ts\nvar routeDefinitions = [];\nvar currentRoute;\nvar findDefinition = (path) => {\n  for (const definition of routeDefinitions) {\n    const { pattern, regExp, keys } = definition;\n    const match = regExp ? path.match(regExp) : pattern === \"*\" || pattern === path;\n    if (match) {\n      const params = Array.isArray(match) ? getParams(match, keys) : void 0;\n      return { definition, params };\n    }\n  }\n};\nvar handleChange = async (path, trigger) => {\n  const result = findDefinition(path);\n  const matches = !!result;\n  const params = (result == null ? void 0 : result.params) ?? {};\n  const previousRoute = currentRoute;\n  currentRoute = { path, params, matches, trigger };\n  await emit(\"before-route\", currentRoute, previousRoute);\n  await (result == null ? void 0 : result.definition.action(params, currentRoute, previousRoute));\n  await emit(\"route\", currentRoute, previousRoute);\n};\nvar src_default = {\n  get currentRoute() {\n    return currentRoute;\n  },\n  on,\n  off,\n  start({ handleInitial = true } = {}) {\n    const hash = window.location.hash != \"\" && window.location.hash;\n    handleInitial && handleChange(hash || window.location.pathname || \"/\", \"init\");\n    window.addEventListener(\n      \"popstate\",\n      () => handleChange(window.location.pathname, \"popstate\")\n    );\n    window.addEventListener(\n      \"hashchange\",\n      () => {\n        handleChange(window.location.hash, \"hashchange\");\n      }\n    );\n  },\n  route(path, action) {\n    const pattern = stripTrailingSlash(path);\n    const { regExp, keys = [] } = parsePattern(path) || {};\n    routeDefinitions.push({\n      pattern,\n      action,\n      regExp,\n      keys\n    });\n  },\n  push(path) {\n    window.history.pushState(null, \"\", stripTrailingSlash(path));\n    handleChange(path, \"push\");\n  },\n  replace(path) {\n    window.history.replaceState(null, \"\", stripTrailingSlash(path));\n    handleChange(path, \"replace\");\n  }\n};\nexport {\n  src_default as default\n};\n","import navigation from \"@very-simple/router\";\nimport { getGraphData } from \"./data\";\nimport {\n  selectNodeAndDownstreamDependents,\n  selectNothingAndZoomOut,\n} from \"./selection\";\n\nexport default navigation;\n\nnavigation.route(\"#-\", () => {\n  console.debug(\"navigating to nothing\");\n  // selectNothingAndZoomOut()\n});\n\nnavigation.route(\"#node/:id\", async (params, { trigger }) => {\n  // console.debug('navigating to', params, action, 'project')\n  // const { nodesByNavId } = await getGraphData();\n  // const node = nodesByNavId[params.id];\n  // selectNodeAndDownstreamDependents(node, trigger !== \"init\");\n});\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=window,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),n=new WeakMap;class o{constructor(t,e,n){if(this._$cssResult$=!0,n!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=n.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&n.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new o(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[n+1]),t[0]);return new o(n,t,s)},S=(s,n)=>{e?s.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((e=>{const n=document.createElement(\"style\"),o=t.litNonce;void 0!==o&&n.setAttribute(\"nonce\",o),n.textContent=e.cssText,s.appendChild(n)}))},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{o as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as i}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var s;const e=window,r=e.trustedTypes,h=r?r.emptyScript:\"\",o=e.reactiveElementPolyfillSupport,n={toAttribute(t,i){switch(i){case Boolean:t=t?h:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},a=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:n,reflect:!1,hasChanged:a},d=\"finalized\";class u extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var i;this.finalize(),(null!==(i=this.h)&&void 0!==i?i:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Ep(s,i);void 0!==e&&(this._$Ev.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(d))return!1;this[d]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(t(i))}else void 0!==i&&s.push(t(i));return s}static _$Ep(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$EO(t,i,s=l){var e;const r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){const h=(void 0!==(null===(e=s.converter)||void 0===e?void 0:e.toAttribute)?s.converter:n).toAttribute(i,s.type);this._$El=t,null==h?this.removeAttribute(r):this.setAttribute(r,h),this._$El=null}}_$AK(t,i){var s;const e=this.constructor,r=e._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=e.getPropertyOptions(r),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(s=t.converter)||void 0===s?void 0:s.fromAttribute)?t.converter:n;this._$El=r,this[r]=h.fromAttribute(i,t.type),this._$El=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||a)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,i)=>this[i]=t)),this._$Ei=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$EO(i,this[i],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}u[d]=!0,u.elementProperties=new Map,u.elementStyles=[],u.shadowRootOptions={mode:\"open\"},null==o||o({ReactiveElement:u}),(null!==(s=e.reactiveElementVersions)&&void 0!==s?s:e.reactiveElementVersions=[]).push(\"1.6.3\");export{u as ReactiveElement,n as defaultConverter,a as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var l,o;const r=t;class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return i}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s});const h={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push(\"3.3.3\");export{s as LitElement,r as UpdatingElement,h as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var n;const e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function l(n){const{slot:l,selector:t}=null!=n?n:{};return o({descriptor:o=>({get(){var o;const r=\"slot\"+(l?`[name=${l}]`:\":not([name])\"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}export{l as queryAssignedElements};\n//# sourceMappingURL=query-assigned-elements.js.map\n","export*from\"@lit/reactive-element\";export*from\"lit-html\";export{LitElement,UpdatingElement,_$LE}from\"./lit-element.js\";export*from\"@lit/reactive-element/decorators/base.js\";export*from\"@lit/reactive-element/decorators/custom-element.js\";export*from\"@lit/reactive-element/decorators/property.js\";export*from\"@lit/reactive-element/decorators/state.js\";export*from\"@lit/reactive-element/decorators/event-options.js\";export*from\"@lit/reactive-element/decorators/query.js\";export*from\"@lit/reactive-element/decorators/query-all.js\";export*from\"@lit/reactive-element/decorators/query-async.js\";export*from\"@lit/reactive-element/decorators/query-assigned-elements.js\";export*from\"@lit/reactive-element/decorators/query-assigned-nodes.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */console.warn(\"The main 'lit-element' module entrypoint is deprecated. Please update your imports to use the 'lit' package: 'lit' and 'lit/decorators.ts' or import from 'lit-element/lit-element.ts'. See https://lit.dev/msg/deprecated-import-path for more information.\");\n//# sourceMappingURL=index.js.map\n","import {\n  animateGraph,\n  fillCanvasToWindow,\n  getWidthAndHeight,\n  initializeRenderer,\n  setCanvas,\n} from \"./gpu/rendering\";\nimport { getGraphData, randomGraphData, setGraphData } from \"./data\";\nimport { setupCameraInteraction, setupSelection } from \"./interaction\";\nimport navigation from \"./navigation\";\nimport { LitElement, PropertyValues } from \"lit-element\";\n\nimport {\n  defaultProperties,\n  defaultProperties,\n  defaultProperties,\n  getProperties,\n} from \"./attributes\";\n\nimport {\n  // getEdgeIndexBuffer,\n  getEdgeVisualizerMesh,\n  // getNodeIndexArray,\n  getNodeVisualizerMesh,\n  getThreeSetup,\n  // initializeEdgeVisualizerUniforms,\n  // initializeNodeVisualizerUniforms,\n  // loadEdgeVertexArray,\n  // loadNodeVertexArray,\n} from \"./gpu/graph-viz\";\nimport { camelCase, kebabCase, snakeCase } from \"lodash-es\";\nimport { getComponent, setComponent } from \"./context\";\nimport { selectNodeAndDownstreamDependents, startFocus } from \"./selection\";\nimport { startCameraAnimation } from \"./camera-animation\";\n\n// import \"./parameters\";\n\nexport {\n  randomGraphData,\n  addRandomNodes,\n  addRandomEdges,\n  makeNavId,\n} from \"./data\";\n\nclass WebscapeWanderer extends LitElement {\n  // static observedAttributes = Object.keys(defaultProperties).map(kebabCase);\n  private context;\n  private canvas;\n  private resizeObserver;\n  private onTapHandler: (node: any) => void;\n\n  static get properties() {\n    return {\n      globalScale: { type: Number, attribute: \"global-scale\" },\n      nodeScale: { type: Number, attribute: \"node-scale\" },\n      edgeFog: { type: Number, attribute: \"edge-fog\" },\n      nodeFog: { type: Number, attribute: \"node-fog\" },\n      edgeScale: { type: Number, attribute: \"edge-scale\" },\n      edgeOvershoot: { type: Number, attribute: \"edge-overshoot\" },\n      edgeFrequency: { type: Number, attribute: \"edge-frequency\" },\n      edgePulseSpeed: { type: Number, attribute: \"edge-pulse-speed\" },\n      edgeWaveSpeed: { type: Number, attribute: \"edge-wave-speed\" },\n      selected: { type: String },\n      focus: { type: String, attribute: false },\n      focusedZoom: { type: Number },\n      unfocusedZoom: { type: Number },\n      zoomBoundary: { type: Number },\n      defaultFogVisibility: {\n        type: Number,\n        attribute: \"default-fog-visibility\",\n      },\n      defaultFogBoundaryClipZ: {\n        type: Number,\n        attribute: \"default-fog-boundary-clip-z\",\n      },\n    };\n  }\n\n  constructor() {\n    super();\n    for (const [key, value] of Object.entries(defaultProperties)) {\n      this[key] = defaultProperties[key];\n    }\n\n    this.context = Symbol();\n    setComponent(this.context, this);\n    if (getComponent(this.context) !== this) {\n      throw new Error(\"What the heck\");\n    }\n\n    this.resizeObserver = new ResizeObserver((entries) => {\n      getWidthAndHeight.clear(this.context);\n      fillCanvasToWindow(this.context);\n    });\n\n    // Default onTap handler\n    this.onTapHandler = (evt) => {\n      this.setAttribute(\"selected\", evt.detail?.info?.navId);\n      this.focus = evt.detail?.info?.navId;\n    };\n  }\n\n  set graphData(data) {\n    setGraphData(this.context, data);\n  }\n\n  get graphData() {\n    return getGraphData(this.context);\n  }\n\n  onTap(handler: (event: CustomEvent) => void) {\n    this.onTapHandler = handler;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    const ctx = this.context;\n\n    // console.debug(\"Custom element added to page.\");\n    const shadow = this.shadowRoot!;\n    const style = document.createElement(\"style\");\n    style.textContent = `\n      :host {\n        display: block;\n        min-width: 100%;\n        min-height: 99vh;\n        max-height: 100vh;\n      }\n    `;\n    shadow.appendChild(style);\n\n    const canvas: HTMLCanvasElement = document.createElement(\"canvas\");\n    shadow.appendChild(canvas);\n    setCanvas(ctx, canvas);\n    console.debug(\"Canvas created and set\");\n\n    initializeRenderer(ctx);\n    console.debug(\"Renderer initialized\");\n    getThreeSetup(ctx);\n    console.debug(\"Three.js setup complete\");\n    setupCameraInteraction(ctx);\n    console.debug(\"Camera interaction set up\");\n    setupSelection(this);\n    console.debug(\"Selection setup complete\");\n\n    document.querySelector(\"html\")?.classList.add(\"loading\");\n    console.debug(\"Added loading class to HTML\");\n\n    getGraphData(this.context).then((data) => {\n      console.debug(\"Graph data retrieved\", data);\n      document.querySelector(\"html\")!.classList.remove(\"loading\");\n      console.debug(\"Removed loading class from HTML\");\n      animateGraph(this.context);\n      console.debug(\"Graph animation started\");\n      navigation.start();\n      console.debug(\"Navigation started\");\n    });\n\n    startCameraAnimation(this.context);\n\n    this.resizeObserver.observe(this);\n    startFocus(this.context);\n\n    // Setup tap event listener\n    this.addEventListener(\"tap\", (event) => {\n      if (event) {\n        this.onTapHandler(event);\n      }\n    });\n  }\n\n  disconnectedCallback() {\n    this.resizeObserver.unobserve(this);\n    // console.debug(\"Custom element removed from page.\");\n  }\n\n  adoptedCallback() {\n    // console.debug(\"Custom element moved to new page.\");\n  }\n\n  protected firstUpdated(changedProperties: PropertyValues): void {\n    for (const [key, oldvalue] of changedProperties) {\n      if (key == \"selected\") {\n        const value = this[key];\n        getGraphData(this.context).then(({ nodesByNavId }) => {\n          const node = nodesByNavId[value];\n          selectNodeAndDownstreamDependents(this.context, node, true);\n        });\n      } else if (key == \"focus\") {\n        startFocus(this.context);\n      }\n    }\n  }\n\n  protected updated(changedProperties: PropertyValues): void {\n    for (const [key, oldvalue] of changedProperties) {\n      if (key == \"selected\") {\n        const value = this[key];\n        getGraphData(this.context).then(({ nodesByNavId }) => {\n          const node = nodesByNavId[value];\n          selectNodeAndDownstreamDependents(this.context, node, true);\n        });\n      } else if (key == \"focus\") {\n        startFocus(this.context);\n      }\n    }\n  }\n\n  private getNodeFromEvent(event: MouseEvent): any {\n    // Implementation of getting node from event\n    // This is a placeholder and should be replaced with actual logic\n    return null;\n  }\n}\n\nexport function startWebscapeWanderer(tagName = \"webscape-wanderer\") {\n  if (!customElements.get(tagName)) {\n    customElements.define(tagName, WebscapeWanderer);\n  }\n}\n"],"names":["getCamerasUniforms","moize","ctx","uniform","Matrix4","Vector3","cameraUniformsGroupUpdater","proxy","globalProjection","globalView","zoomedProjection","zoomedView","fixedProjection","fixedView","packedCameraParams","uniforms","mouseButtons","ev","b","mouse","mouseElement","mouseRelativeX","target","bounds","mouseRelativeY","mouseListen_1","mouseListen","require$$0","element","callback","buttonState","x","y","mods","attached","updateMods","changed","handleEvent","nextButtons","nextX","nextY","clearState","handleBlur","handleMods","handleMouseMove","handleMouseDown","handleMouseUp","attachListeners","detachListeners","result","f","rootPosition","mouseEventOffset_1","mouseEventOffset","out","cx","cy","rect","getBoundingClientOffset","_undefined","is","value","isValue","possibleTypes","isObject","isPrototype","isFunction","classRe","functionToString","isImplemented","assign","obj","noop","val","keys","shim","object","require$$1","validValue","max","dest","src","error","i","length","key","e","forEach","create","process","normalizeOptions","opts1","options","str","indexOf","searchString","contains","isPlainFunction","require$$2","normalizeOpts","require$$3","require$$4","d","dModule","dscr","c","w","desc","get","set","validCallable","fn","callable","apply","call","defineProperty","defineProperties","hasOwnProperty","descriptor","on","once","off","emit","methods","descriptors","base","type","listener","data","self","listeners","candidate","l","args","module","exports","o","normalizedInteractionEvents_1","normalizedInteractionEvents","mouseChange","eventOffset","eventEmitter","emitter","previousPosition","previousFingerPosition","currentPosition","fingers","activeTouchCount","width","height","getSize","buttons","mouseX","mouseY","changeListener","pbuttons","px","py","pmods","onWheel","event","x0","y0","active","onMouseUp","onMouseDown","onMouseMove","indexOfTouch","touch","id","onTouchStart","newTouch","idx","newIndex","oldIndex","newFinger","xavg","yavg","fingerCount","dx","dy","onTouchMove","movedTouch","pos0A","pos0B","dx0","dy0","pos1A","pos1B","dx1","dy1","r0","theta0","r1","theta1","dr","dtheta","onTouchRemoved","lastFinger","removed","otherIdx","enabled","enable","disable","FUNC_ERROR_TEXT","throttle","func","wait","leading","trailing","debounce","__spreadArray","this","to","from","pack","ar","BrowserInfo","name","version","os","NodeInfo","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOX_UA_REGEX","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","getNodeVersion","matchUserAgent","ua","matched","_a","browser","regex","uaMatch","matchedRule","match","versionParts","createVersionParts","detectOS","searchBotMatch","ii","count","isNode","output","agent","useWorkers","graphDb","wrap","Worker","notWorker.db","graphLayout","notWorker.layout","graphCameraAnimation","notWorker.cameraAnimation","__classPrivateFieldSet","receiver","privateMap","__classPrivateFieldGet","_block","_blocks","_bytes","_finalized","_first","_h0","_h1","_h2","_h3","_h4","_h5","_h6","_h7","_hashed","_hBytes","_is224","_lastByteIndex","_start","BKDRHash","seed","seed2","hash","MAX_SAFE_INTEGER","HEX_CHARS","EXTRA","SHIFT","K","blocks","Sha256","is224","sharedMemory","message","msg","index","code","a","g","h","s0","s1","maj","t1","t2","ch","ab","da","cd","bc","j","j1","h0","h1","h2","h3","h4","h5","h6","h7","hex","arr","buffer","dataView","Sha256ToInt","s","sha256","RGB2HEX","RGBArray","HSL2RGB","H","S","L","q","p","color","ColorHash","param","range","hueResolution","hsl","rgb","_object_pattern","_material_library_pattern","_material_use_pattern","_map_use_pattern","_face_vertex_data_separator_pattern","_vA","_vB","_vC","_ab","_cb","_color","Color","ParserState","state","fromDeclaration","previousMaterial","libraries","previous","material","cloned","end","lastMultiMaterial","mi","declared","len","dst","ub","uc","na","nb","nc","vLen","ia","ib","ic","nLen","uvLen","vertices","vi","uvs","uvi","OBJLoader","Loader","manager","url","onLoad","onProgress","onError","scope","loader","FileLoader","text","materials","lines","line","lineFirstChar","SRGBColorSpace","vertexData","faceVertices","jl","vertex","vertexParts","v1","v2","v3","lineParts","lineVertices","lineUVs","li","llen","parts","pointData","container","Group","geometry","isLine","isPoints","hasVertexColors","buffergeometry","BufferGeometry","Float32BufferAttribute","createdMaterials","miLen","sourceMaterial","materialHash","LineBasicMaterial","materialLine","Material","PointsMaterial","materialPoints","MeshPhongMaterial","mesh","LineSegments","Points","Mesh","points","heartUrl","matcapUrl","n","u","O","I","M","r","m","v","t","k","hue","N","$","namesPlugin","defaultColorMap","getDefaultColors","graphData","identity","nodes","links","defaultSizeMap","size","getDefaultSizes","applyVisuals","colorMap","sizeMap","immediate","getGraphData","colorData","sizeData","buffers","graphBuffers","applyVisualsToNode","node","emphasis","initializationVisualMaps","mean","initializeSelectionVisuals","selectNodeAndDownstreamDependents","zoom","graphDBPrepared","setSelectedIndex","getNodePosition","downstreamQuery","directDownstreamQuery","upstreamQuery","directUpstreamQuery","nodesById","resultHandler","upstream","downstream","nodeId","green","blue","doFocus","nodesByNavId","focused","getComponent","nodePosition","setCameraCenter","startFocus","component","setCameraDistance","getSelectedIndex","getSelectedNode","extend","initSelectedColor","colord","getSelectedColor","defaultProperties","getPropertyKeys","getProperties","getUniforms","Vector2","getPointerPositionClip","Vector4","getCurrentlyHoveringIndex","attrs","viewport","updateUniforms","renderer","getThreeSetup","bump","clamped_x","clamp","inner","oneMinus","pow","exp","scaleAdjustment","float","graphNodeGeometryComputerFn","scale","distance","center","rotationCenter","globalScale","nodeScale","globalClipPosition","vec4","globalNDC","scaledVertexPosition","positionGeometry","orthoFixedClipPosition","orthoFixedNDC","orthoZoomedClipPosition","orthoZoomedNDC","localNDC","mix","orthographicNDC","vec3","orthographicClipPosition","computeFog","positionClipZ","fogBoundaryClipZ","fogLevel","smoothstep","desaturate","amount","average","instanceIdToColor","instanceId","graphNodeMaterials","instanceIndex","selectedIndex","selectedColor","defaultFogBoundaryClipZ","nodeFog","positionsInitial","positionsTarget","positionCurrent","colorsInitial","colorsTarget","sizesInitial","sizesTarget","sizeCurrent","emphasesInitial","emphasesTarget","emphasisCurrent","colors","isSelected","scalePicker","geo","geoPicker","normalLocal","fog","min","alpha","newRgb","colorNode","matcap","TextureLoader","MeshMatcapNodeMaterial","MeshBasicNodeMaterial","getEdgeAttributes","edgeGeometry","vertexPosition","edgeDirection","flatness","edgeScale","normalizedEdgeDirection","normalize","edgePerpendicular","vec2","position","positionNDC","positionClip","positionFixedStrokeClip","graphEdgeMaterial","camDistance","mousePosition","hoveringIndex","edgeFrequency","edgePulseSpeed","edgeWaveSpeed","time","devicePixelRatio","nodeDepthTexture","edgeOvershoot","edgeFog","selectedEdgeColor","segmentOffset","attribute","sourcePosition","targetPosition","sourceColor","targetColor","sourceSize","targetSize","sourceEmphasis","targetEmphasis","edgeIndices","segmentPosition","isSource","isTarget","vertexOffset","sourcePositionClip","targetPositionClip","edgeColor","sourceIndex","targetIndex","sourceSelected","equal","targetSelected","selected","isAnySelected","greaterThan","vSelected","vColor","varying","sourcePosition2DNDC","targetPosition2DNDC","sourcePosition2D","viewportSize","targetPosition2D","edgeLength","edgeLength2D","vV","u_2D","screenCoordinate","u_3D","frequency","waveSpeed","waves","wave","highFrequency","pulseSpeed","pulse","proximity","proximityThreshold","z","fogBoundary","freq","sin","getNodeVisualizerMesh","shape","SphereGeometry","ConeGeometry","IcosahedronGeometry","BoxGeometry","heartGeometry","indices","scaleFactor","forComparison","TorusKnotGeometry","InstancedBufferGeometry","InstancedBufferAttribute","graphNodeMaterial","graphNodePickerMaterial","pickerMesh","nodeIndices","loadNodeVertexArray","getEdgeVisualizerMesh","segmentOffsetGeo","CylinderGeometry","canvas","gl","getCanvasAndGLContext","scene","Scene","depthScene","pickerScene","camera","PerspectiveCamera","light","DirectionalLight","WebGPURenderer","edgeVisualizerMesh","nodeVisualizerMesh","nodePickerMesh","getPickerRenderTarget","WebGLRenderTarget","getNodeDepthRenderTarget","DepthTexture","colorHash","makeNavId","project","bufferState","graphBufferState","initialArray","targetArray","setGraphData","conserveProperties","setter","asyncState","getLayoutSimulator","linkIndexPairs","existingNodeCount","randomPoint","initialPositions","existingPositions","randomPos","existingColors","sizes","existingSizes","existingEmphasis","prepareGraphDBWorker","context","randomNode","randomEdge","randomGraphData","numNodes","numEdges","startingIndex","fromPairs","addRandomNodes","startIndex","newNodes","addRandomEdges","newEdges","engine","D3ForceLayout","getLatestTargetPositions","updateNodePositionTargets","positions","_","T","A","E","C","P","V","R","Z","B","D","normalizedEventCoordinates","globalCamera","updateCameras","getGlobalCameraParams","zoomGlobalCamera","panGlobalCamera","startZooming","stopZooming","startPanning","stopPanning","computeScreenPosition","deviceHasMouse","zoomingStopped","getPointerPositionInfo","pickedColor","lastOverIndex","dragging","countLastDragEvents","cumulativeDragDistance","incrementDragEvents","notifyTapped","tappedIndex","tappedNode","getPointerPositionPicker","collectPointerPositionInfo","curry","pointerPositionInfo","deviceRatio","getCurrentlyHoveringNode","currentlyHoveringIndex","setupSelection","interactionEvents","updatePickerColorDebounced","clickHandler","pointerUpResult","hoverUpdateResult","wasDrag","pointerUp","resolve","reject","getNextHoverOnUpdate","updatePickerColor","wasHoveredIndex","nowHoveredIndex","nowHoveredNode","radiansPerHalfScreenWidth","setupCameraInteraction","scrollVector","scrollDirection","pickerState","getNodeIndexFromPickerColor","checkPickerSync","makeSync","pickerReady","pointerPosition","pickerRenderTarget","newPickedColor","overIndex","updatePickerColorThrottled","makeCursor","classes","htmlTemplate","applyScreenPositionStyle","host","screenPosition","alignToScreenPosition","alignToNDCPosition","screenPositionNDC","alignToNode","highlightNode","render","selectedCursor","hoveredTooltip","html","hoveredCursor","memoize","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","monadic","arg","cacheKey","computedValue","variadic","assemble","serialize","strategyVariadic","strategyMonadic","ObjectWithoutPrototypeCache","srcModule","interpolator","fastMemoize","layers","interpolatorFn","Fn","current","currentElement","targetElement","newArgs","interpolate","interp","doInterpolation","getWidthAndHeight","clientWidth","clientHeight","actualWidth","actualHeight","setCanvas","newCanvas","getter","fillCanvasToWindow","initializeRenderer","animateGraph","handlers","handler","stripTrailingSlash","parsePattern","pattern","getParams","routeDefinitions","currentRoute","findDefinition","path","definition","regExp","params","handleChange","trigger","matches","previousRoute","src_default","handleInitial","action","navigation","o$2","WebscapeWanderer","LitElement","setComponent","entries","evt","shadow","style","startCameraAnimation","changedProperties","oldvalue","startWebscapeWanderer","tagName"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,33,34,35,46,48,51,53,54,55,56,57]}